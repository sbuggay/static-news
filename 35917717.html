<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684054842543" as="style"/><link rel="stylesheet" href="styles.css?v=1684054842543"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://dl.acm.org/doi/pdf/10.1145/3519939.3523443">A Flexible Type System for Fearless Concurrency</a> <span class="domain">(<a href="https://dl.acm.org">dl.acm.org</a>)</span></div><div class="subtext"><span>luu</span> | <span>11 comments</span></div><br/><div><div id="35935703" class="c"><input type="checkbox" id="c-35935703" checked=""/><div class="controls bullet"><span class="by">verdagon</span><span>|</span><a href="#35935722">next</a><span>|</span><label class="collapse" for="c-35935703">[-]</label><label class="expand" for="c-35935703">[1 more]</label></div><br/><div class="children"><div class="content">Their approach lines up pretty well with how we do regions in Vale. [0]<p>Specifically, we consider the &quot;spine&quot; of a linked list to be its own private &quot;region&quot;, separate from the elements&#x27; region. This lets us freeze the spine region, while keeping the elements region mutable.<p>This mechanism is particularly promising because it likely means one can iterate over a collection with zero run-time overhead, without the normal restrictions of a more traditional Rust&#x2F;Cyclone-like borrow checker. We&#x27;ll know about this iterating benefit for sure when we finish part 3 (one-way isolation [1]); part 1 landed in the experimental branch only a couple weeks ago [2].<p>The main difference between the two approaches is that Vale doesn&#x27;t assume that all elements are self-isolated fields, it allows references between elements and even references to the outside world. However, this does mean that Vale sometimes needs &quot;region annotations&quot;, whereas the paper&#x27;s system doesn&#x27;t need any annotations at all, and that&#x27;s a real benefit of their method.<p>Other languages are experimenting with regions too, such as Forty2 [3] and Verona [4] though they&#x27;re leaning more towards a garbage-collection-based approach, where Vale is more like a memory-safe C++.<p>Pretty exciting time for languages!<p>[0] <a href="https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;zero-cost-borrowing-regions-overview" rel="nofollow">https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;zero-cost-borrowing-regions-overvi...</a><p>[1] <a href="https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;zero-cost-borrowing-regions-part-3-one-way-isolation" rel="nofollow">https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;zero-cost-borrowing-regions-part-3...</a><p>[2] <a href="https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;regions-prototype" rel="nofollow">https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;regions-prototype</a><p>[3] <a href="http:&#x2F;&#x2F;forty2.is&#x2F;" rel="nofollow">http:&#x2F;&#x2F;forty2.is&#x2F;</a><p>[4] <a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;verona">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;verona</a></div><br/></div></div><div id="35935722" class="c"><input type="checkbox" id="c-35935722" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#35935703">prev</a><span>|</span><a href="#35935950">next</a><span>|</span><label class="collapse" for="c-35935722">[-]</label><label class="expand" for="c-35935722">[1 more]</label></div><br/><div class="children"><div class="content">Great piece of work.<p>Where it kind of fails short, as usual, is when OS IPC, external resources or multiprocessing enters the picture, with the type system not being able to prevent external events from taking place.<p>The concurrency remains fearless only for process private in-memory data accesses.</div><br/></div></div><div id="35935950" class="c"><input type="checkbox" id="c-35935950" checked=""/><div class="controls bullet"><span class="by">Sniffnoy</span><span>|</span><a href="#35935722">prev</a><span>|</span><a href="#35935912">next</a><span>|</span><label class="collapse" for="c-35935950">[-]</label><label class="expand" for="c-35935950">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Figure 2. Removing the final element of a singly linked list.
Note that both the returned result and list remain mutable,
and the returned result is no longer encapsulated by the
linked list, unlike in prior work (e.g., [26, 46]). Note also that
this function returns none on lists of size one, as it would be
impossible to separate the list from its tail in this case.<p>Huh, now that sounds like a substantial pitfall... any good way around this?</div><br/><div id="35936237" class="c"><input type="checkbox" id="c-35936237" checked=""/><div class="controls bullet"><span class="by">ObscureScience</span><span>|</span><a href="#35935950">parent</a><span>|</span><a href="#35936191">next</a><span>|</span><label class="collapse" for="c-35936237">[-]</label><label class="expand" for="c-35936237">[1 more]</label></div><br/><div class="children"><div class="content">Unless length of the list (a &quot;Vector&quot; in typical dependent type nomenclature) I can see the issue.<p>I have not read the paper, but why is not a the empty list the value that returns None when called with this function? I assume the empty list is still a list in this type system?</div><br/></div></div></div></div><div id="35935912" class="c"><input type="checkbox" id="c-35935912" checked=""/><div class="controls bullet"><span class="by">chombier</span><span>|</span><a href="#35935950">prev</a><span>|</span><a href="#35935491">next</a><span>|</span><label class="collapse" for="c-35935912">[-]</label><label class="expand" for="c-35935912">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s the video of the talk: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=yUtZwdGhxhw">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=yUtZwdGhxhw</a></div><br/></div></div><div id="35935491" class="c"><input type="checkbox" id="c-35935491" checked=""/><div class="controls bullet"><span class="by">TheRealPomax</span><span>|</span><a href="#35935912">prev</a><span>|</span><a href="#35935769">next</a><span>|</span><label class="collapse" for="c-35935491">[-]</label><label class="expand" for="c-35935491">[3 more]</label></div><br/><div class="children"><div class="content">This needs [pdf] in the title.</div><br/><div id="35936257" class="c"><input type="checkbox" id="c-35936257" checked=""/><div class="controls bullet"><span class="by">malf</span><span>|</span><a href="#35935491">parent</a><span>|</span><a href="#35935769">next</a><span>|</span><label class="collapse" for="c-35936257">[-]</label><label class="expand" for="c-35936257">[2 more]</label></div><br/><div class="children"><div class="content">I thought the days of “opening a pdf freezes IE for several seconds” were long past. What makes this painful for you?</div><br/><div id="35936290" class="c"><input type="checkbox" id="c-35936290" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#35935491">root</a><span>|</span><a href="#35936257">parent</a><span>|</span><a href="#35935769">next</a><span>|</span><label class="collapse" for="c-35936290">[-]</label><label class="expand" for="c-35936290">[1 more]</label></div><br/><div class="children"><div class="content">Whether or not to open on a mobile device? I usually don&#x27;t open PDFs on a mobile because it is a pain to read.</div><br/></div></div></div></div></div></div><div id="35935769" class="c"><input type="checkbox" id="c-35935769" checked=""/><div class="controls bullet"><span class="by">deofoo</span><span>|</span><a href="#35935491">prev</a><span>|</span><label class="collapse" for="c-35935769">[-]</label><label class="expand" for="c-35935769">[1 more]</label></div><br/><div class="children"><div class="content">I just love the beauty of type systems, the vast complexity and effort put into building an extensive architecture. And on the same time, systems without it are capable of wonderful things.<p>Just beautiful.</div><br/></div></div></div></div></div></div></div></body></html>