<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1683363668492" as="style"/><link rel="stylesheet" href="styles.css?v=1683363668492"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://rachelbythebay.com/w/2023/05/05/dot/">Fulfilling a reader&#x27;s request for my “dot files”</a> <span class="domain">(<a href="https://rachelbythebay.com">rachelbythebay.com</a>)</span></div><div class="subtext"><span>mdwalters</span> | <span>38 comments</span></div><br/><div><div id="35839514" class="c"><input type="checkbox" id="c-35839514" checked=""/><div class="controls bullet"><span class="by">fisian</span><span>|</span><a href="#35839042">next</a><span>|</span><label class="collapse" for="c-35839514">[-]</label><label class="expand" for="c-35839514">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m on so many different machines (mostly some embedded stuff&#x2F;RasPis that need linux) that I ignore all these bad defaults.<p>The only thing I find unbearable is vimdiff colors, that have the SAME or very similar foreground and background so it&#x27;s impossible to read. (I don&#x27;t remember, but believe it&#x27;s just on some distros)</div><br/></div></div><div id="35839042" class="c"><input type="checkbox" id="c-35839042" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#35839514">prev</a><span>|</span><a href="#35838707">next</a><span>|</span><label class="collapse" for="c-35839042">[-]</label><label class="expand" for="c-35839042">[6 more]</label></div><br/><div class="children"><div class="content">You can customize LS_COLORS if you want,  but I&#x27;ve never been mad at the defaults.  Also,  I prefer c-style escapes,  which allows you to copy and paste the filename and use it in other commands:<p><pre><code>    alias ls=&#x27;ls --color=auto -F -b -T 0 -A&#x27;

    -F classify entries with (*&#x2F;=&gt;@|)
    -b use c-style escapes instead of quoting
    -T 0 do not use tabs for alignment
    -A show all dotfiles except . and ..
</code></pre>
Plus,  I find colors to be insanely useful when my old eyes try to read &#x27;ip&#x27; output,  so I really do prefer:<p><pre><code>    alias ip=&#x27;ip --color=auto&#x27;</code></pre></div><br/><div id="35839472" class="c"><input type="checkbox" id="c-35839472" checked=""/><div class="controls bullet"><span class="by">blueflow</span><span>|</span><a href="#35839042">parent</a><span>|</span><a href="#35839271">next</a><span>|</span><label class="collapse" for="c-35839472">[-]</label><label class="expand" for="c-35839472">[1 more]</label></div><br/><div class="children"><div class="content">Which &#x27;ip&#x27; implementation has the --color switch?</div><br/></div></div><div id="35839271" class="c"><input type="checkbox" id="c-35839271" checked=""/><div class="controls bullet"><span class="by">tommieb</span><span>|</span><a href="#35839042">parent</a><span>|</span><a href="#35839472">prev</a><span>|</span><a href="#35839054">next</a><span>|</span><label class="collapse" for="c-35839271">[-]</label><label class="expand" for="c-35839271">[1 more]</label></div><br/><div class="children"><div class="content">After more than two decades - never knew ip had the --color switch, TIL and thanks! :)</div><br/></div></div><div id="35839054" class="c"><input type="checkbox" id="c-35839054" checked=""/><div class="controls bullet"><span class="by">Flimm</span><span>|</span><a href="#35839042">parent</a><span>|</span><a href="#35839271">prev</a><span>|</span><a href="#35839287">next</a><span>|</span><label class="collapse" for="c-35839054">[-]</label><label class="expand" for="c-35839054">[1 more]</label></div><br/><div class="children"><div class="content">Interesting! I&#x27;ve been using &quot;grc&quot; to provide colours for commands like &quot;ip&quot;, I didn&#x27;t realise that &quot;ip&quot; had a &quot;--color=auto&quot; option.</div><br/></div></div><div id="35839287" class="c"><input type="checkbox" id="c-35839287" checked=""/><div class="controls bullet"><span class="by">nurettin</span><span>|</span><a href="#35839042">parent</a><span>|</span><a href="#35839054">prev</a><span>|</span><a href="#35838707">next</a><span>|</span><label class="collapse" for="c-35839287">[-]</label><label class="expand" for="c-35839287">[2 more]</label></div><br/><div class="children"><div class="content">If I&#x27;m going to see yet another blue on black, I&#x27;d rather have black and white forever.</div><br/><div id="35839475" class="c"><input type="checkbox" id="c-35839475" checked=""/><div class="controls bullet"><span class="by">zamnos</span><span>|</span><a href="#35839042">root</a><span>|</span><a href="#35839287">parent</a><span>|</span><a href="#35838707">next</a><span>|</span><label class="collapse" for="c-35839475">[-]</label><label class="expand" for="c-35839475">[1 more]</label></div><br/><div class="children"><div class="content">What shade of blue do you have configured? The default is this impossible to read shade of dark blue, so the first thing I do is configure a different, readable shade of not-so-dark blue.</div><br/></div></div></div></div></div></div><div id="35838707" class="c"><input type="checkbox" id="c-35838707" checked=""/><div class="controls bullet"><span class="by">janvdberg</span><span>|</span><a href="#35839042">prev</a><span>|</span><a href="#35838846">next</a><span>|</span><label class="collapse" for="c-35838707">[-]</label><label class="expand" for="c-35838707">[9 more]</label></div><br/><div class="children"><div class="content">One tip for your .bashrc I only recently found out and can&#x27;t do without anymore is one I picked up here (log all shell commands directly to a file): <a href="https:&#x2F;&#x2F;www.jefftk.com&#x2F;p&#x2F;you-should-be-logging-shell-history" rel="nofollow">https:&#x2F;&#x2F;www.jefftk.com&#x2F;p&#x2F;you-should-be-logging-shell-history</a></div><br/><div id="35838822" class="c"><input type="checkbox" id="c-35838822" checked=""/><div class="controls bullet"><span class="by">Evidlo</span><span>|</span><a href="#35838707">parent</a><span>|</span><a href="#35838806">next</a><span>|</span><label class="collapse" for="c-35838822">[-]</label><label class="expand" for="c-35838822">[2 more]</label></div><br/><div class="children"><div class="content">You can get similar behavior with bash&#x27;s built-in history by setting a few options:<p><pre><code>    # -------- History --------
    #increase bash history
    HISTFILESIZE=10000000
    HISTTIMEFORMAT=&quot;%FT%R &quot;
    HISTSIZE=10000000
    # append to .bash_history and reread after each command
    export PROMPT_COMMAND=&quot;history -a;$PROMPT_COMMAND&quot;
    # append to .bash_history instead of overwriting
    shopt -s histappend
    # dont allow repeated lines
    export HISTCONTROL=ignoredups:erasedups</code></pre></div><br/><div id="35839418" class="c"><input type="checkbox" id="c-35839418" checked=""/><div class="controls bullet"><span class="by">geraldhh</span><span>|</span><a href="#35838707">root</a><span>|</span><a href="#35838822">parent</a><span>|</span><a href="#35838806">next</a><span>|</span><label class="collapse" for="c-35839418">[-]</label><label class="expand" for="c-35839418">[1 more]</label></div><br/><div class="children"><div class="content">wondering if scanning throu &gt;10M history entries, looking for duplicates, will introduce a noticeable ex degradation on lesser systems (rpi etc).</div><br/></div></div></div></div><div id="35838806" class="c"><input type="checkbox" id="c-35838806" checked=""/><div class="controls bullet"><span class="by">jakebasile</span><span>|</span><a href="#35838707">parent</a><span>|</span><a href="#35838822">prev</a><span>|</span><a href="#35839149">next</a><span>|</span><label class="collapse" for="c-35838806">[-]</label><label class="expand" for="c-35838806">[2 more]</label></div><br/><div class="children"><div class="content">I like to use atuin for this. Basically indispensable to me now.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ellie&#x2F;atuin">https:&#x2F;&#x2F;github.com&#x2F;ellie&#x2F;atuin</a></div><br/><div id="35839062" class="c"><input type="checkbox" id="c-35839062" checked=""/><div class="controls bullet"><span class="by">iAmAPencilYo</span><span>|</span><a href="#35838707">root</a><span>|</span><a href="#35838806">parent</a><span>|</span><a href="#35839149">next</a><span>|</span><label class="collapse" for="c-35839062">[-]</label><label class="expand" for="c-35839062">[1 more]</label></div><br/><div class="children"><div class="content">Great Atuin, that&#x27;s amazing. Thank you, this is indeed a game changer for having a permanent history. I use ctrl+r for everything including commands I vaguely remember but know at least some letters</div><br/></div></div></div></div><div id="35839149" class="c"><input type="checkbox" id="c-35839149" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#35838707">parent</a><span>|</span><a href="#35838806">prev</a><span>|</span><a href="#35838763">next</a><span>|</span><label class="collapse" for="c-35839149">[-]</label><label class="expand" for="c-35839149">[1 more]</label></div><br/><div class="children"><div class="content">I like saving all my history, but I also find that it easily becomes a mess doing it in one file. So I split it up session, and then I merge it all into one file.<p><pre><code>  # Eternal bash history.
  # ---------------------
  HISTCONTROL=
  HISTFILESIZE=
  HISTIGNORE=
  HISTSIZE=
  HISTTIMEFORMAT=&quot;%Y-%m-%dT%T%t&quot;

  # read global history
  HISTFILE=~&#x2F;.bash_eternal_history
  history -r
  # IIF there&#x27;s no session history directory, create one
  if [ ! -d ~&#x2F;.bash_history ]; then
    [ -f ~&#x2F;.bash_history ] &amp;&amp; mv ~&#x2F;.bash_history ~&#x2F;.bash_history.0
    mkdir ~&#x2F;.bash_history
  fi
  # change history file to one for the session
  HISTFILE=~&#x2F;.bash_history&#x2F;$$
  # If it already exists, take a backup
  if [ -f &quot;$HISTFILE&quot; ]; then
    mv &quot;$HISTFILE&quot; &quot;$HISTFILE&quot;.&quot;$(stat &quot;$HISTFILE&quot; --format=&#x27;%W&#x27;)&quot;
  fi
  # save the current session id + process id
  { export SESSION_ID=&quot;$(&lt;&#x2F;proc&#x2F;$$&#x2F;sessionid)&quot;; } 2&gt; &#x2F;dev&#x2F;null
  printf &quot;#$(date &#x27;+%s&#x27;)&quot;&#x27;\n# starting session:&#x27;$SESSION_ID&#x27; process:&#x27;$$&#x27; in:&#x27;&quot;$PWD&quot;&#x27;\n&#x27; &gt; &quot;$HISTFILE&quot; &amp;&amp;
    history -r

  # Use trap to save history, not just on logout but also EXIT
  trap_exit() {
    # Append session history to global history
    ## Append to local history session to file
    cp -f &quot;$HISTFILE&quot; &#x2F;tmp&#x2F;history.$$.0
    history -a
    cp -f &quot;$HISTFILE&quot; &#x2F;tmp&#x2F;history.$$.1
    ## Append local history file to global history
    printf &quot;#$(date &#x27;+%s&#x27;)&quot;&#x27;\n# ending session:&#x27;$SESSION_ID&#x27; process:&#x27;$$&#x27; in:&#x27;&quot;$PWD&quot;&#x27;\n&#x27; |
        cat &quot;$HISTFILE&quot; - &gt;&gt; ~&#x2F;.bash_eternal_history
  }
  trap trap_exit EXIT</code></pre></div><br/></div></div><div id="35838763" class="c"><input type="checkbox" id="c-35838763" checked=""/><div class="controls bullet"><span class="by">zamnos</span><span>|</span><a href="#35838707">parent</a><span>|</span><a href="#35839149">prev</a><span>|</span><a href="#35838846">next</a><span>|</span><label class="collapse" for="c-35838763">[-]</label><label class="expand" for="c-35838763">[3 more]</label></div><br/><div class="children"><div class="content">&#x27;histgrep&#x27; is an interesting one. Bash has a built in backwards search via ^r, which is greatly enhanced by plugging fzf into it.</div><br/><div id="35839018" class="c"><input type="checkbox" id="c-35839018" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#35838707">root</a><span>|</span><a href="#35838763">parent</a><span>|</span><a href="#35838846">next</a><span>|</span><label class="collapse" for="c-35839018">[-]</label><label class="expand" for="c-35839018">[2 more]</label></div><br/><div class="children"><div class="content">Idk, the times I grep history I just
  history | grep<p>Using fzf for backwards search sounds interesting, can you elaborate?<p>My favorite is binding key-up and down to complete using search. That&#x27;s a game changer</div><br/><div id="35839251" class="c"><input type="checkbox" id="c-35839251" checked=""/><div class="controls bullet"><span class="by">zamnos</span><span>|</span><a href="#35838707">root</a><span>|</span><a href="#35839018">parent</a><span>|</span><a href="#35838846">next</a><span>|</span><label class="collapse" for="c-35839251">[-]</label><label class="expand" for="c-35839251">[1 more]</label></div><br/><div class="children"><div class="content">The best description I found with a not so short Google was buried in <a href="https:&#x2F;&#x2F;www.redhat.com&#x2F;sysadmin&#x2F;fzf-linux-fuzzy-finder" rel="nofollow">https:&#x2F;&#x2F;www.redhat.com&#x2F;sysadmin&#x2F;fzf-linux-fuzzy-finder</a> but the workflow is I hit ctrl-R (in bash, but there&#x27;s bindings for other shells), I type out part of the command I know is in my history,
and fzf will grep history for commands that match via its fuzzy search algorithm. So if I remember running something that involved a file called something in a log dir, I type &#x2F;log&#x2F;, and it interactively lets me search. I remembered I was using awk with the log file, so I can add &quot;awk&quot; to the existing search), and then I use the up arrow to select it and hit enter. at which point it&#x27;s in my command buffer waiting for me to either hit enter again or edit the command and then hit enter.<p>Might sound complex written out like that, but I promise it&#x27;s worth the investment to set it up and read the manual.</div><br/></div></div></div></div></div></div></div></div><div id="35838846" class="c"><input type="checkbox" id="c-35838846" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#35838707">prev</a><span>|</span><a href="#35838663">next</a><span>|</span><label class="collapse" for="c-35838846">[-]</label><label class="expand" for="c-35838846">[6 more]</label></div><br/><div class="children"><div class="content"><i>The stock PS1 bugged me a bit, so I mangled it down to this</i><p>That&#x27;s not too far from this one which I use and have seen quite a few others use too --- really hate a lot of the newer defaults that hide the full path for some reason, and managed to convince a coworker who accidentally edited the file of the same name in the same directory with a different path to use it too:<p><pre><code>    &#x27;\u@\h:\w$ &#x27;
</code></pre>
Also I should mention that in this era of constant telemetry^Wspyware and tracking, everything you say can and will be used to identify or correlate you, and that does include using non-default configuration. Of course, how much this matters depends on the context in which you say it.</div><br/><div id="35838890" class="c"><input type="checkbox" id="c-35838890" checked=""/><div class="controls bullet"><span class="by">deafpolygon</span><span>|</span><a href="#35838846">parent</a><span>|</span><a href="#35838663">next</a><span>|</span><label class="collapse" for="c-35838890">[-]</label><label class="expand" for="c-35838890">[5 more]</label></div><br/><div class="children"><div class="content">Mine is even simpler...<p>&#x27;&gt; %d &#x27; (yes, I use zsh)<p>Root has &#x27;# %d &#x27;<p>Am I odd? I generally find I don&#x27;t need &#x2F;that&#x2F; much information on the shell.</div><br/><div id="35839363" class="c"><input type="checkbox" id="c-35839363" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#35838846">root</a><span>|</span><a href="#35838890">parent</a><span>|</span><a href="#35839014">next</a><span>|</span><label class="collapse" for="c-35839363">[-]</label><label class="expand" for="c-35839363">[1 more]</label></div><br/><div class="children"><div class="content">ha. mine is:<p><pre><code>  ~&gt; 
</code></pre>
although it gets progressively richer with heightened context, e.g:<p><pre><code>   username if not my account
   hostname if ssh&#x27;ing
   basename(pwd) (not full path) if not ~
   HEAD value (ref or sha) if in git or hg
   literal rebase &amp; al for stateful git operation in progress
   any of ! ≠ ± (untracked, unstaged, and staged changes)
   any of literal nix venv when entering specific contexts
</code></pre>
at some point I had it as simple as &gt; but some situations had me wish I knew context right away so I progressively added these each time I had a &quot;fuck, I made a mistake and I would not have if I had that bit of context&quot;<p>I thought I&#x27;d go all the way to<p><pre><code>  ;
</code></pre>
plan9 rc-style which made sense because &quot;select whole line then paste and run&quot; just works. plus it looks like a wink.<p>I do have colours in a few select areas, but very limited, so that when there are colours they are very meaningful. notably the prompt segments are colour coded by meaning since they&#x27;re dynamic. my vim theme looks like e-ink, merely getting fancy with a shade of gray for comments (which at some point could be reverted so thar comments get the &quot;focus&quot; and code is toned down, very literal programming)<p>oh and please: no right prompt, ever (or $COLUMNS-wide left prompt) as it gets wild when resizing; no freaking emoji in my output (e.g I still have that HOMEBRE_NO_EMOJI env var set to an expletive of sorts even though I don&#x27;t use homebrew anymore)</div><br/></div></div><div id="35839014" class="c"><input type="checkbox" id="c-35839014" checked=""/><div class="controls bullet"><span class="by">ofalkaed</span><span>|</span><a href="#35838846">root</a><span>|</span><a href="#35838890">parent</a><span>|</span><a href="#35839363">prev</a><span>|</span><a href="#35838966">next</a><span>|</span><label class="collapse" for="c-35839014">[-]</label><label class="expand" for="c-35839014">[1 more]</label></div><br/><div class="children"><div class="content">I use ... for user and []_ for root, I would rather not fill up terminal space with information I generally know. I really hate when the prompt causes things to wrap and I do not mind putting pwd or the like to use on those occasions I do not know.</div><br/></div></div><div id="35838966" class="c"><input type="checkbox" id="c-35838966" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#35838846">root</a><span>|</span><a href="#35838890">parent</a><span>|</span><a href="#35839014">prev</a><span>|</span><a href="#35838663">next</a><span>|</span><label class="collapse" for="c-35838966">[-]</label><label class="expand" for="c-35838966">[2 more]</label></div><br/><div class="children"><div class="content">I like to get exit codes, but otherwise yeah that&#x27;s fine.</div><br/><div id="35839182" class="c"><input type="checkbox" id="c-35839182" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#35838846">root</a><span>|</span><a href="#35838966">parent</a><span>|</span><a href="#35838663">next</a><span>|</span><label class="collapse" for="c-35839182">[-]</label><label class="expand" for="c-35839182">[1 more]</label></div><br/><div class="children"><div class="content">Mine starts the prompt with =^_^= when the last command succeeded and a red (x_x) when it failed.</div><br/></div></div></div></div></div></div></div></div><div id="35838663" class="c"><input type="checkbox" id="c-35838663" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#35838846">prev</a><span>|</span><a href="#35839304">next</a><span>|</span><label class="collapse" for="c-35838663">[-]</label><label class="expand" for="c-35838663">[2 more]</label></div><br/><div class="children"><div class="content">The mention of .plan and .project brings back memories. You used to be able to do things like finger dhosek@ymir.claremont.edu and see if I was logged on and what I had to share with the world (which was a long series of quotes that ran several screens). I remember learning that the AMS had shorter hours on Fridays thanks to Barbara Beeton’s .plan file.</div><br/><div id="35839333" class="c"><input type="checkbox" id="c-35839333" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#35838663">parent</a><span>|</span><a href="#35839304">next</a><span>|</span><label class="collapse" for="c-35839333">[-]</label><label class="expand" for="c-35839333">[1 more]</label></div><br/><div class="children"><div class="content">John Carmack&#x27;s .plan files were the first &quot;blog&quot; I ever really paid attention to.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ESWAT&#x2F;john-carmack-plan-archive">https:&#x2F;&#x2F;github.com&#x2F;ESWAT&#x2F;john-carmack-plan-archive</a></div><br/></div></div></div></div><div id="35839304" class="c"><input type="checkbox" id="c-35839304" checked=""/><div class="controls bullet"><span class="by">twp</span><span>|</span><a href="#35838663">prev</a><span>|</span><a href="#35838889">next</a><span>|</span><label class="collapse" for="c-35839304">[-]</label><label class="expand" for="c-35839304">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;chezmoi.io" rel="nofollow">https:&#x2F;&#x2F;chezmoi.io</a> is a dotfile manager that is runs on multiple OSes (including Windows) while handling differences from machine to machine, allows you to store your secrets in your password manager (so you don&#x27;t have to store secrets in your dotfile repo), and it even supports the NO_COLOR environment variable. Check it out! Disclaimer: I&#x27;m the author.<p>There&#x27;s a comprehensive list of the most popular dotfile managers at <a href="https:&#x2F;&#x2F;dotfiles.github.io&#x2F;utilities&#x2F;" rel="nofollow">https:&#x2F;&#x2F;dotfiles.github.io&#x2F;utilities&#x2F;</a>.</div><br/></div></div><div id="35838889" class="c"><input type="checkbox" id="c-35838889" checked=""/><div class="controls bullet"><span class="by">mock-possum</span><span>|</span><a href="#35839304">prev</a><span>|</span><a href="#35839075">next</a><span>|</span><label class="collapse" for="c-35838889">[-]</label><label class="expand" for="c-35838889">[2 more]</label></div><br/><div class="children"><div class="content">Oh this person is living in a very different world than me.</div><br/><div id="35839210" class="c"><input type="checkbox" id="c-35839210" checked=""/><div class="controls bullet"><span class="by">endorphine</span><span>|</span><a href="#35838889">parent</a><span>|</span><a href="#35839075">next</a><span>|</span><label class="collapse" for="c-35839210">[-]</label><label class="expand" for="c-35839210">[1 more]</label></div><br/><div class="children"><div class="content">Care to elaborate? What is so different between your setup? It seemed like a pretty standard setup to me</div><br/></div></div></div></div><div id="35839075" class="c"><input type="checkbox" id="c-35839075" checked=""/><div class="controls bullet"><span class="by">Topgamer7</span><span>|</span><a href="#35838889">prev</a><span>|</span><a href="#35839027">next</a><span>|</span><label class="collapse" for="c-35839075">[-]</label><label class="expand" for="c-35839075">[1 more]</label></div><br/><div class="children"><div class="content">Removing all syntax highlighting. You monster! How do you quickly determine logical chunks of things! Grep, coding, super useful to have colour!</div><br/></div></div><div id="35839027" class="c"><input type="checkbox" id="c-35839027" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#35839075">prev</a><span>|</span><a href="#35839094">next</a><span>|</span><label class="collapse" for="c-35839027">[-]</label><label class="expand" for="c-35839027">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Quick, which of .bashrc, .bash_profile, .profile et al get run for any given type of login you do to a box?<p>I appear to have just given up and symlinked them together. Anyone have a better idea?<p>Edit: Actually, my profile apparently has a conditional to detect what shell it&#x27;s loaded by (which I did remember), and for at least bash a conditional to detect interactive mode (which I did not). So I&#x27;m still dealing with this, just not at the file level.</div><br/><div id="35839441" class="c"><input type="checkbox" id="c-35839441" checked=""/><div class="controls bullet"><span class="by">blueflow</span><span>|</span><a href="#35839027">parent</a><span>|</span><a href="#35839045">next</a><span>|</span><label class="collapse" for="c-35839441">[-]</label><label class="expand" for="c-35839441">[1 more]</label></div><br/><div class="children"><div class="content">$ENV is for interactive shells, .profile is for login shells. Normal shells source these files according to to which of the two flags are set or not.<p>To make make bash behave in a compatible manner, you need to:<p>- Delete .bash_profile, so .profile gets sourced instead (works around bash ignoring .profile when .bash_profile exists)<p>- At the bottom of .profile, call $ENV (works around login bash ignoring bashrc)<p>- Make .bashrc call or be equal to $ENV<p>- At the head of $ENV, do an early exit for non-interactive shells (works around bash sourcing the bashrc when invoked non-interactively via SSH or socket, also works around the previous workaround)<p>In terms of startup logic, bash is the worst shell i&#x27;ve seen so far.</div><br/></div></div><div id="35839045" class="c"><input type="checkbox" id="c-35839045" checked=""/><div class="controls bullet"><span class="by">Flimm</span><span>|</span><a href="#35839027">parent</a><span>|</span><a href="#35839441">prev</a><span>|</span><a href="#35839066">next</a><span>|</span><label class="collapse" for="c-35839045">[-]</label><label class="expand" for="c-35839045">[1 more]</label></div><br/><div class="children"><div class="content">I found this blog post really helpful in explaining the difference:<p><a href="https:&#x2F;&#x2F;shreevatsa.wordpress.com&#x2F;2008&#x2F;03&#x2F;30&#x2F;zshbash-startup-files-loading-order-bashrc-zshrc-etc&#x2F;" rel="nofollow">https:&#x2F;&#x2F;shreevatsa.wordpress.com&#x2F;2008&#x2F;03&#x2F;30&#x2F;zshbash-startup-...</a><p>It references this blog post:<p><a href="https:&#x2F;&#x2F;meta.ath0.com&#x2F;2007&#x2F;10&#x2F;23&#x2F;cleaning-up-bash-customizations&#x2F;" rel="nofollow">https:&#x2F;&#x2F;meta.ath0.com&#x2F;2007&#x2F;10&#x2F;23&#x2F;cleaning-up-bash-customizat...</a></div><br/></div></div><div id="35839066" class="c"><input type="checkbox" id="c-35839066" checked=""/><div class="controls bullet"><span class="by">axelf4</span><span>|</span><a href="#35839027">parent</a><span>|</span><a href="#35839045">prev</a><span>|</span><a href="#35839094">next</a><span>|</span><label class="collapse" for="c-35839066">[-]</label><label class="expand" for="c-35839066">[1 more]</label></div><br/><div class="children"><div class="content">I have written a small reference for this that has served me well: [1].<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;axelf4&#x2F;dotfiles#bash-startup-files">https:&#x2F;&#x2F;github.com&#x2F;axelf4&#x2F;dotfiles#bash-startup-files</a></div><br/></div></div></div></div><div id="35839094" class="c"><input type="checkbox" id="c-35839094" checked=""/><div class="controls bullet"><span class="by">trallnag</span><span>|</span><a href="#35839027">prev</a><span>|</span><a href="#35839372">next</a><span>|</span><label class="collapse" for="c-35839094">[-]</label><label class="expand" for="c-35839094">[2 more]</label></div><br/><div class="children"><div class="content">Anyone else here managing his &quot;dot files&quot; with an Ansible playbook? In my environments files like .bashrc only contain a few statements that source other scripts where I inject &#x2F; template my actual configuration.</div><br/><div id="35839323" class="c"><input type="checkbox" id="c-35839323" checked=""/><div class="controls bullet"><span class="by">twp</span><span>|</span><a href="#35839094">parent</a><span>|</span><a href="#35839372">next</a><span>|</span><label class="collapse" for="c-35839323">[-]</label><label class="expand" for="c-35839323">[1 more]</label></div><br/><div class="children"><div class="content">I previously used Puppet, but you usually need root access on the machine to install Ansible or Puppet itself as they have a large number of dependencies and often add extra system services or user accounts. This is very heavy tool to install if you only need to update a few files in your home directory and install a couple of packages with sudo.<p>For a longer answer, see <a href="https:&#x2F;&#x2F;www.chezmoi.io&#x2F;user-guide&#x2F;frequently-asked-questions&#x2F;design&#x2F;#why-not-use-ansiblechefpuppetsalt-or-similar-to-manage-my-dotfiles-instead" rel="nofollow">https:&#x2F;&#x2F;www.chezmoi.io&#x2F;user-guide&#x2F;frequently-asked-questions...</a>.</div><br/></div></div></div></div><div id="35839372" class="c"><input type="checkbox" id="c-35839372" checked=""/><div class="controls bullet"><span class="by">wheybags</span><span>|</span><a href="#35839094">prev</a><span>|</span><a href="#35838807">next</a><span>|</span><label class="collapse" for="c-35839372">[-]</label><label class="expand" for="c-35839372">[1 more]</label></div><br/><div class="children"><div class="content">Why does she hate colours so much?</div><br/></div></div><div id="35839300" class="c"><input type="checkbox" id="c-35839300" checked=""/><div class="controls bullet"><span class="by">renewiltord</span><span>|</span><a href="#35838807">prev</a><span>|</span><label class="collapse" for="c-35839300">[-]</label><label class="expand" for="c-35839300">[1 more]</label></div><br/><div class="children"><div class="content">Haha wow. I have a full color prompt with oh my zsh and starship. Overall, I like it though I don&#x27;t really need a lot of it.<p>The error code highlight and duration of last command are nice.</div><br/></div></div></div></div></div></div></div></body></html>