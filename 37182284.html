<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1692435656830" as="style"/><link rel="stylesheet" href="styles.css?v=1692435656830"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/dusanx/saf">Show HN: Saf – simple, reliable, rsync-based, battle tested, rounded backup</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>binaryapparatus</span> | <span>14 comments</span></div><br/><div><div id="37186754" class="c"><input type="checkbox" id="c-37186754" checked=""/><div class="controls bullet"><span class="by">BoppreH</span><span>|</span><a href="#37186206">next</a><span>|</span><label class="collapse" for="c-37186754">[-]</label><label class="expand" for="c-37186754">[2 more]</label></div><br/><div class="children"><div class="content">How do you automate the checking if the backup worked correctly, in face of saf bugs, rsync bugs&#x2F;misconfiguration, or bit rot?<p>My solution is to pick a few random files (plus whatever is new), and compute their hashes on both local and remote versions. But it&#x27;s slow and probabilistic. ZFS also helps, but I feel it&#x27;s too transparent to rely on (what if the remote storage changes filesystem).</div><br/><div id="37186841" class="c"><input type="checkbox" id="c-37186841" checked=""/><div class="controls bullet"><span class="by">binaryapparatus</span><span>|</span><a href="#37186754">parent</a><span>|</span><a href="#37186206">next</a><span>|</span><label class="collapse" for="c-37186841">[-]</label><label class="expand" for="c-37186841">[1 more]</label></div><br/><div class="children"><div class="content">Those same questions always bug me, and I did try all from very smart to very brute force solutions. I love ZFS but then we can question ZFS and OS bugs in the same manner as saf or rsync -- that rabbit hole is deep and quickly becomes expensive since ZFS may need ECC ram and other more expensive components.<p>Lately, in last few years, I am leaning towards using many cheap backups instead of clever and more expensive ones, with the idea that many of them can&#x27;t all break at the same time. Yes occasional checks are good but safety in numbers seems as a good strategy.<p>It is not an accident that saf tag line says &quot;one backup is saf, two are safe, three are safer&quot; ;)</div><br/></div></div></div></div><div id="37186206" class="c"><input type="checkbox" id="c-37186206" checked=""/><div class="controls bullet"><span class="by">pmontra</span><span>|</span><a href="#37186754">prev</a><span>|</span><a href="#37184857">next</a><span>|</span><label class="collapse" for="c-37186206">[-]</label><label class="expand" for="c-37186206">[2 more]</label></div><br/><div class="children"><div class="content">Why not rsnapshot? I&#x27;ve been using it to backup servers to servers for a lot years.</div><br/><div id="37186804" class="c"><input type="checkbox" id="c-37186804" checked=""/><div class="controls bullet"><span class="by">binaryapparatus</span><span>|</span><a href="#37186206">parent</a><span>|</span><a href="#37184857">next</a><span>|</span><label class="collapse" for="c-37186804">[-]</label><label class="expand" for="c-37186804">[1 more]</label></div><br/><div class="children"><div class="content">In my understanding, rsnapshot is equivalent of &#x27;saf backup&#x27; which is only one bit of saf functionality. saf has few more commands to be able to see and analyze what&#x27;s on the backup target side.<p>rsnapshot uses centralized rsnapshot.conf, saf has git style .saf.conf per each backup source location.<p>Apart from using rsync, there are more differences than similarities between rshapshot and saf.</div><br/></div></div></div></div><div id="37184857" class="c"><input type="checkbox" id="c-37184857" checked=""/><div class="controls bullet"><span class="by">killingtime74</span><span>|</span><a href="#37186206">prev</a><span>|</span><a href="#37185044">next</a><span>|</span><label class="collapse" for="c-37184857">[-]</label><label class="expand" for="c-37184857">[1 more]</label></div><br/><div class="children"><div class="content">It might be safer to use an rsync lib that calls librsync or at least wraps the calls for you. I&#x27;m always suspicious of sub-shelling</div><br/></div></div><div id="37185044" class="c"><input type="checkbox" id="c-37185044" checked=""/><div class="controls bullet"><span class="by">BigBalli</span><span>|</span><a href="#37184857">prev</a><span>|</span><a href="#37186140">next</a><span>|</span><label class="collapse" for="c-37185044">[-]</label><label class="expand" for="c-37185044">[1 more]</label></div><br/><div class="children"><div class="content">how is it better&#x2F;safer than manually using rsync?</div><br/></div></div><div id="37186140" class="c"><input type="checkbox" id="c-37186140" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#37185044">prev</a><span>|</span><label class="collapse" for="c-37186140">[-]</label><label class="expand" for="c-37186140">[7 more]</label></div><br/><div class="children"><div class="content">Have a look at restic for a good alternative to this.</div><br/><div id="37186400" class="c"><input type="checkbox" id="c-37186400" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#37186140">parent</a><span>|</span><a href="#37186442">next</a><span>|</span><label class="collapse" for="c-37186400">[-]</label><label class="expand" for="c-37186400">[1 more]</label></div><br/><div class="children"><div class="content">Resric is great but the lack of empty passwords, and the response by the developer about it is very grating:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;restic&#x2F;restic&#x2F;issues&#x2F;1786">https:&#x2F;&#x2F;github.com&#x2F;restic&#x2F;restic&#x2F;issues&#x2F;1786</a></div><br/></div></div><div id="37186442" class="c"><input type="checkbox" id="c-37186442" checked=""/><div class="controls bullet"><span class="by">paddim8</span><span>|</span><a href="#37186140">parent</a><span>|</span><a href="#37186400">prev</a><span>|</span><a href="#37186561">next</a><span>|</span><label class="collapse" for="c-37186442">[-]</label><label class="expand" for="c-37186442">[4 more]</label></div><br/><div class="children"><div class="content">Typical HN to immediately tell everyone to use something else when someone posts something they spent time and effort on making, just because it&#x27;s not 100% unique</div><br/><div id="37186887" class="c"><input type="checkbox" id="c-37186887" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#37186140">root</a><span>|</span><a href="#37186442">parent</a><span>|</span><a href="#37186523">next</a><span>|</span><label class="collapse" for="c-37186887">[-]</label><label class="expand" for="c-37186887">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t mean to detract from the post. I use both rsync and restic and this looks interesting. Just wanted to provide a recommendation for an alternative that does very similar things; I hope that&#x27;s okay.</div><br/></div></div><div id="37186523" class="c"><input type="checkbox" id="c-37186523" checked=""/><div class="controls bullet"><span class="by">__fst__</span><span>|</span><a href="#37186140">root</a><span>|</span><a href="#37186442">parent</a><span>|</span><a href="#37186887">prev</a><span>|</span><a href="#37186561">next</a><span>|</span><label class="collapse" for="c-37186523">[-]</label><label class="expand" for="c-37186523">[2 more]</label></div><br/><div class="children"><div class="content">These alternative recommendations are exactly what I&#x27;m looking for when browsing the comments.</div><br/><div id="37186750" class="c"><input type="checkbox" id="c-37186750" checked=""/><div class="controls bullet"><span class="by">binaryapparatus</span><span>|</span><a href="#37186140">root</a><span>|</span><a href="#37186523">parent</a><span>|</span><a href="#37186561">next</a><span>|</span><label class="collapse" for="c-37186750">[-]</label><label class="expand" for="c-37186750">[1 more]</label></div><br/><div class="children"><div class="content">Author here. Yes, I am also the one that loves to see alternatives on topic of interest to me on HN. However putting an effort to publish different take on something already &#x27;solved&#x27; is either because I want my own solution no matter what (I don&#x27;t) or because other solutions didn&#x27;t fully cover all my use cases (they didn&#x27;t). I would gladly use somebody else code instead of my own, if that was possible.<p>Two scripts linked at the bottom of README.md are almost perfect and I used one or another for years, but one of them sometimes misses to hard link with previous backup, creating new full backup and wasting resources -- not something that&#x27;s easy to detect since they all look correct before &#x27;du&#x27; or similar analysis.<p>saf solves few of the problems I faced during the years in a elegant way: multiple targets, target related commands, reliability. Why not XY? Why not saf?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>