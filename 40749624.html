<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1719046861062" as="style"/><link rel="stylesheet" href="styles.css?v=1719046861062"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://lemmy.world/post/16763534">Spending 3 months investigating a 7-year old bug and fixing it in 1 line of code</a> <span class="domain">(<a href="https://lemmy.world">lemmy.world</a>)</span></div><div class="subtext"><span>asicsp</span> | <span>78 comments</span></div><br/><div><div id="40750399" class="c"><input type="checkbox" id="c-40750399" checked=""/><div class="controls bullet"><span class="by">TehShrike</span><span>|</span><a href="#40757483">next</a><span>|</span><label class="collapse" for="c-40750399">[-]</label><label class="expand" for="c-40750399">[34 more]</label></div><br/><div class="children"><div class="content">I particularly liked this part:<p>&gt; Knowing very little about USB audio processing, but having cut my teeth in college on 8-bit 8051 processors, I knew what kind of functions tended to be slow. I did a Ctrl+F for “%” and found a 16-bit modulo right in the audio processing code.<p>That feeling of saving days of work because you remember a clue from previous experience is so good.</div><br/><div id="40750763" class="c"><input type="checkbox" id="c-40750763" checked=""/><div class="controls bullet"><span class="by">djoldman</span><span>|</span><a href="#40750399">parent</a><span>|</span><a href="#40752713">next</a><span>|</span><label class="collapse" for="c-40750763">[-]</label><label class="expand" for="c-40750763">[7 more]</label></div><br/><div class="children"><div class="content">Those are the times one gets the opposite of imposter syndrome.</div><br/><div id="40754962" class="c"><input type="checkbox" id="c-40754962" checked=""/><div class="controls bullet"><span class="by">brailsafe</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40750763">parent</a><span>|</span><a href="#40751553">next</a><span>|</span><label class="collapse" for="c-40754962">[-]</label><label class="expand" for="c-40754962">[1 more]</label></div><br/><div class="children"><div class="content">This is very true, and we need these moments. Lately I&#x27;ve been struggling to figure out where my place is, how to maybe get back into freelancing, what I&#x27;m technically good at etc... lots of ruminating since I&#x27;ve been out of work for a year.<p>But.. I met someone at the gym who&#x27;s been struggling with an esoteric problem on an ancient piece of software for over a decade, and they approached me to ask if I could solve it. I said &quot;maybe&quot;, sat on it for a few days, and then replicated the issue on my machine and solved their problem in about an hour. I asked for $50 and they gave me double, which was wildly more rewarding than being paid $100k to write react all year, not that that salary is on the table any longer.</div><br/></div></div><div id="40751553" class="c"><input type="checkbox" id="c-40751553" checked=""/><div class="controls bullet"><span class="by">ASalazarMX</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40750763">parent</a><span>|</span><a href="#40754962">prev</a><span>|</span><a href="#40752713">next</a><span>|</span><label class="collapse" for="c-40751553">[-]</label><label class="expand" for="c-40751553">[5 more]</label></div><br/><div class="children"><div class="content">Fortunately it&#x27;s a temporal state, otherwise there&#x27;s risk of entering the Dunning-Kruger effect.<p>&quot;You did awesome, but don&#x27;t let it go to your head.&quot;</div><br/><div id="40752406" class="c"><input type="checkbox" id="c-40752406" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40751553">parent</a><span>|</span><a href="#40752713">next</a><span>|</span><label class="collapse" for="c-40752406">[-]</label><label class="expand" for="c-40752406">[4 more]</label></div><br/><div class="children"><div class="content">F-that! That&#x27;s one of those times where I re-enact the scene from the Bond Golden Eye film where the guy jumps up extending both arms yelling &quot;Yes! I am invincible!&quot; Of course I totally expect the hubris to be short lived, just maybe not with liquid nitrogen<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=fXW02XmBGQw" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=fXW02XmBGQw</a></div><br/><div id="40752674" class="c"><input type="checkbox" id="c-40752674" checked=""/><div class="controls bullet"><span class="by">squigz</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752406">parent</a><span>|</span><a href="#40752713">next</a><span>|</span><label class="collapse" for="c-40752674">[-]</label><label class="expand" for="c-40752674">[3 more]</label></div><br/><div class="children"><div class="content">I alternate between &quot;I am the best programmer to ever exist&quot; and &quot;I am completely incompetent at this and I should quit&quot; while debugging.</div><br/><div id="40752870" class="c"><input type="checkbox" id="c-40752870" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752674">parent</a><span>|</span><a href="#40755056">next</a><span>|</span><label class="collapse" for="c-40752870">[-]</label><label class="expand" for="c-40752870">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been known to inform people that the person that wrote the incredibly horrendous code that caused whatever problems to occur should be fired immediately knowing good and well that I was the only dev to write any of the code.</div><br/></div></div><div id="40755056" class="c"><input type="checkbox" id="c-40755056" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752674">parent</a><span>|</span><a href="#40752870">prev</a><span>|</span><a href="#40752713">next</a><span>|</span><label class="collapse" for="c-40755056">[-]</label><label class="expand" for="c-40755056">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;i.kym-cdn.com&#x2F;photos&#x2F;images&#x2F;original&#x2F;001&#x2F;275&#x2F;257&#x2F;dbc.jpg" rel="nofollow">https:&#x2F;&#x2F;i.kym-cdn.com&#x2F;photos&#x2F;images&#x2F;original&#x2F;001&#x2F;275&#x2F;257&#x2F;dbc...</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="40752713" class="c"><input type="checkbox" id="c-40752713" checked=""/><div class="controls bullet"><span class="by">drewg123</span><span>|</span><a href="#40750399">parent</a><span>|</span><a href="#40750763">prev</a><span>|</span><a href="#40750814">next</a><span>|</span><label class="collapse" for="c-40752713">[-]</label><label class="expand" for="c-40752713">[5 more]</label></div><br/><div class="children"><div class="content">If modulus is expensive, and he&#x27;s checking a power-of-2, why not just use a bitwise AND.<p>Eg, for positive integers, x % 16 == x &amp; 15.  That should be trivially cheap.</div><br/><div id="40755668" class="c"><input type="checkbox" id="c-40755668" checked=""/><div class="controls bullet"><span class="by">kevin_thibedeau</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752713">parent</a><span>|</span><a href="#40752764">next</a><span>|</span><label class="collapse" for="c-40755668">[-]</label><label class="expand" for="c-40755668">[1 more]</label></div><br/><div class="children"><div class="content">Any top-tier C compiler will optimize modular division by a constant into a more efficient operation(s). It is better to keep the intent of the code clear rather than devolve it into increasingly obtuse bit-twiddling tricks the compiler can figure out on its own.</div><br/></div></div><div id="40752764" class="c"><input type="checkbox" id="c-40752764" checked=""/><div class="controls bullet"><span class="by">ladberg</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752713">parent</a><span>|</span><a href="#40755668">prev</a><span>|</span><a href="#40755264">next</a><span>|</span><label class="collapse" for="c-40752764">[-]</label><label class="expand" for="c-40752764">[2 more]</label></div><br/><div class="children"><div class="content">It wasn&#x27;t `x % 16` it was `x % y` where x and y are 16-bit integers. A compiler would also have taken care of it if it were just a literal.</div><br/><div id="40752887" class="c"><input type="checkbox" id="c-40752887" checked=""/><div class="controls bullet"><span class="by">drewg123</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752764">parent</a><span>|</span><a href="#40755264">next</a><span>|</span><label class="collapse" for="c-40752887">[-]</label><label class="expand" for="c-40752887">[1 more]</label></div><br/><div class="children"><div class="content">Whoops..  I misread what he was doing.</div><br/></div></div></div></div><div id="40755264" class="c"><input type="checkbox" id="c-40755264" checked=""/><div class="controls bullet"><span class="by">xgkickt</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752713">parent</a><span>|</span><a href="#40752764">prev</a><span>|</span><a href="#40750814">next</a><span>|</span><label class="collapse" for="c-40755264">[-]</label><label class="expand" for="c-40755264">[1 more]</label></div><br/><div class="children"><div class="content">Reading the comments, that&#x27;s kinda what they did, though they had to learn that first and only now realize they only needed one.</div><br/></div></div></div></div><div id="40750814" class="c"><input type="checkbox" id="c-40750814" checked=""/><div class="controls bullet"><span class="by">nikanj</span><span>|</span><a href="#40750399">parent</a><span>|</span><a href="#40752713">prev</a><span>|</span><a href="#40753018">next</a><span>|</span><label class="collapse" for="c-40750814">[-]</label><label class="expand" for="c-40750814">[16 more]</label></div><br/><div class="children"><div class="content">This essentially is why senior engineers get much bigger salaries</div><br/><div id="40751862" class="c"><input type="checkbox" id="c-40751862" checked=""/><div class="controls bullet"><span class="by">mulmen</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40750814">parent</a><span>|</span><a href="#40753018">next</a><span>|</span><label class="collapse" for="c-40751862">[-]</label><label class="expand" for="c-40751862">[15 more]</label></div><br/><div class="children"><div class="content">As a total newbie I saved my company a quarter million dollars in Oracle licensing in a single afternoon by rewriting a PL&#x2F;SQL function.  That change was a few lines of SQL.  Seniors don’t have a monopoly on good ideas.<p>Salary is driven by market conditions and nothing else.  It is not an approximation of merit or even delivered value.</div><br/><div id="40754248" class="c"><input type="checkbox" id="c-40754248" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40751862">parent</a><span>|</span><a href="#40754926">next</a><span>|</span><label class="collapse" for="c-40754248">[-]</label><label class="expand" for="c-40754248">[5 more]</label></div><br/><div class="children"><div class="content">This is laughably false. The highly-paid, experienced seniors produce so much more value than juniors that it&#x27;s not even in the same ballpark. It&#x27;s also usually the kind of value that juniors don&#x27;t even notice, because it&#x27;s not measured in lines of code.<p>A good junior will write a hundred lines of code in a day. A good senior will delete a hundred because they realize the user dictated a solution instead of detailing their problem, asked them, and figured out that they can solve that problem by changing a config variable somewhere.</div><br/><div id="40755556" class="c"><input type="checkbox" id="c-40755556" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754248">parent</a><span>|</span><a href="#40754711">next</a><span>|</span><label class="collapse" for="c-40755556">[-]</label><label class="expand" for="c-40755556">[2 more]</label></div><br/><div class="children"><div class="content">Violent agree on variance in value produced. Violent disagree on that junior, senior or other titles or roles have such strong correlations. For very simple reasons: we can’t measure value, and we absolutely can’t measure value within a performance review cycle.<p>The most devastating value destruction (aside from the rare intern deleting the prod db) that I’ve seen consistently is with senior&#x2F;rockstars who introduce new tech, takes credit, moves on. There’s a reason for the term resume driven development. Think about what a negative force multiplier can do for an org.</div><br/><div id="40757134" class="c"><input type="checkbox" id="c-40757134" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40755556">parent</a><span>|</span><a href="#40754711">next</a><span>|</span><label class="collapse" for="c-40757134">[-]</label><label class="expand" for="c-40757134">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know, I think where I work we have a pretty good idea for the value each person brings. I don&#x27;t know how much they&#x27;re paid, but I do know how good each person is (including whether they tend to complicate things, to use exciting technologies, etc).<p>Maybe it varies per company.</div><br/></div></div></div></div><div id="40754711" class="c"><input type="checkbox" id="c-40754711" checked=""/><div class="controls bullet"><span class="by">mewpmewp2</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754248">parent</a><span>|</span><a href="#40755556">prev</a><span>|</span><a href="#40756652">next</a><span>|</span><label class="collapse" for="c-40754711">[-]</label><label class="expand" for="c-40754711">[1 more]</label></div><br/><div class="children"><div class="content">Yes, but they don&#x27;t get paid as many times as junior engs compared to how many more times value they bring.</div><br/></div></div></div></div><div id="40754926" class="c"><input type="checkbox" id="c-40754926" checked=""/><div class="controls bullet"><span class="by">dehugger</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40751862">parent</a><span>|</span><a href="#40754248">prev</a><span>|</span><a href="#40754425">next</a><span>|</span><label class="collapse" for="c-40754926">[-]</label><label class="expand" for="c-40754926">[3 more]</label></div><br/><div class="children"><div class="content">My view as a burgeoning senior dev is that the &quot;senior&quot; bit is generally less about coding and more about domain knowledge.<p>Understanding the business processes of your industry, how to solicit feedback from and interact with end users, how to explain things to management&#x2F;sell on ideas.<p>If you put a junior dev in front of a panel of executives and ask them to explain requirements for a project odds are quite high they will info dump tech mumbo-jumbo. A senior should be able to explain risks, benefits, timelines, and impacted areas of the business in a manner that non technical people can easily grok.</div><br/><div id="40755234" class="c"><input type="checkbox" id="c-40755234" checked=""/><div class="controls bullet"><span class="by">vsuperpower2020</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754926">parent</a><span>|</span><a href="#40755408">next</a><span>|</span><label class="collapse" for="c-40755234">[-]</label><label class="expand" for="c-40755234">[1 more]</label></div><br/><div class="children"><div class="content">For me, &quot;senior&quot; just counts the amount of time they&#x27;ve been doing something. If someone isn&#x27;t very good at something after putting ten thousand hours into it, they just might work at microsoft.</div><br/></div></div><div id="40755408" class="c"><input type="checkbox" id="c-40755408" checked=""/><div class="controls bullet"><span class="by">truncate</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754926">parent</a><span>|</span><a href="#40755234">prev</a><span>|</span><a href="#40754425">next</a><span>|</span><label class="collapse" for="c-40755408">[-]</label><label class="expand" for="c-40755408">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; they will info dump tech mumbo-jumbo<p>I&#x27;m mid-level engineer. Honestly, several staff+ engineers may not be spitting tech mumbo-jumbo, but they do dump all other kind of BS. Political BS, &quot;tactical tornados&quot;[1]. May not necessarily mean they were good at engineering, but just good with people skills. Obviously, not everyone is like that, but I would say many are.<p>[1] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33394287#:~:text=The%20tactical%20tornado%20is%20a,treats%20tactical%20tornadoes%20as%20heroes">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33394287#:~:text=The%20...</a>.</div><br/></div></div></div></div><div id="40754425" class="c"><input type="checkbox" id="c-40754425" checked=""/><div class="controls bullet"><span class="by">johnnyanmac</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40751862">parent</a><span>|</span><a href="#40754926">prev</a><span>|</span><a href="#40752117">next</a><span>|</span><label class="collapse" for="c-40754425">[-]</label><label class="expand" for="c-40754425">[1 more]</label></div><br/><div class="children"><div class="content">Not a monopoly, but a majority. Many juniors who do have that potential don&#x27;t ever get put in such a situation.<p>Junior&#x2F;senior isn&#x27;t necessarily about skill level; I&#x27;m sure many can find a senior with 1YOE ten times over. It&#x27;s about trust both in technical and sociopolitical navigation through the job. That&#x27;s only really gained with time and experience (and yes, isn&#x27;t perfect. Hence, the aforementioned 1x10 senior. Still &quot;trusted&quot; more than a 1 year junior).</div><br/></div></div><div id="40752117" class="c"><input type="checkbox" id="c-40752117" checked=""/><div class="controls bullet"><span class="by">close04</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40751862">parent</a><span>|</span><a href="#40754425">prev</a><span>|</span><a href="#40753018">next</a><span>|</span><label class="collapse" for="c-40752117">[-]</label><label class="expand" for="c-40752117">[5 more]</label></div><br/><div class="children"><div class="content">Statistically speaking a senior (more experienced) engineer is more likely to consistently deliver time saving results, while a junior is more likely to occasionally do it, if ever.<p>Proving it’s not a one time thing is what pushes you in the salary and seniority ranking.</div><br/><div id="40752790" class="c"><input type="checkbox" id="c-40752790" checked=""/><div class="controls bullet"><span class="by">nashashmi</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752117">parent</a><span>|</span><a href="#40753018">next</a><span>|</span><label class="collapse" for="c-40752790">[-]</label><label class="expand" for="c-40752790">[4 more]</label></div><br/><div class="children"><div class="content">Senior engineers have less opportunity to write time consumingly careful code because they get paid so much.  Much easier to throw new great hardware at it.</div><br/><div id="40754034" class="c"><input type="checkbox" id="c-40754034" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752790">parent</a><span>|</span><a href="#40754558">next</a><span>|</span><label class="collapse" for="c-40754034">[-]</label><label class="expand" for="c-40754034">[2 more]</label></div><br/><div class="children"><div class="content">Senior engineers have less time to write code period.<p>And this is what saves the day.<p>Code is a liability.</div><br/><div id="40754517" class="c"><input type="checkbox" id="c-40754517" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754034">parent</a><span>|</span><a href="#40754558">next</a><span>|</span><label class="collapse" for="c-40754517">[-]</label><label class="expand" for="c-40754517">[1 more]</label></div><br/><div class="children"><div class="content">The corporate structures that reward people who prove especially good at building the product with more meetings and less time building the product are perhaps not optimal in their deployment of resources.<p>Maximising the fraction of the product built by people who don&#x27;t know what they&#x27;re doing would however explain the emergent properties of modern software.</div><br/></div></div></div></div><div id="40754558" class="c"><input type="checkbox" id="c-40754558" checked=""/><div class="controls bullet"><span class="by">dgfitz</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40752790">parent</a><span>|</span><a href="#40754034">prev</a><span>|</span><a href="#40753018">next</a><span>|</span><label class="collapse" for="c-40754558">[-]</label><label class="expand" for="c-40754558">[1 more]</label></div><br/><div class="children"><div class="content">Senior engineers can write time-consuming, careful code efficiently. This is why they are seniors.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40753018" class="c"><input type="checkbox" id="c-40753018" checked=""/><div class="controls bullet"><span class="by">beebmam</span><span>|</span><a href="#40750399">parent</a><span>|</span><a href="#40750814">prev</a><span>|</span><a href="#40757483">next</a><span>|</span><label class="collapse" for="c-40753018">[-]</label><label class="expand" for="c-40753018">[5 more]</label></div><br/><div class="children"><div class="content">why is this not considered a compiler optimization and&#x2F;or language problem? it seems to me that compiler optimizations for expressive programming languages should be able to handle something like this</div><br/><div id="40754492" class="c"><input type="checkbox" id="c-40754492" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40753018">parent</a><span>|</span><a href="#40757483">next</a><span>|</span><label class="collapse" for="c-40754492">[-]</label><label class="expand" for="c-40754492">[4 more]</label></div><br/><div class="children"><div class="content">What would you hope a compiler to optimise x % y into?<p>Higher level change-the-algorithm aspirations haven&#x27;t really been met by sufficiently smart compilers yet, with the possible exception of scalar evolution turning loops into direct calculation of the result. E.g. I don&#x27;t know of any that would turn bubble sort into a more reasonable sort routine.</div><br/><div id="40754757" class="c"><input type="checkbox" id="c-40754757" checked=""/><div class="controls bullet"><span class="by">vitus</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754492">parent</a><span>|</span><a href="#40757483">next</a><span>|</span><label class="collapse" for="c-40754757">[-]</label><label class="expand" for="c-40754757">[3 more]</label></div><br/><div class="children"><div class="content">If y is always a power of 2 (as suggested in the comments), then I&#x27;d expect it to turn into an AND of some sort.<p>And more generally, with older architectures, integer division was much slower than integer multiplication, so compilers would generally transform this into a multiplication plus some shifts [0]. For context in that timeframe, MUL on Sandy Bridge introduces 3-4 cycles worth of latency (depending on the exact variant), compared to DIV introducing 20+ (per Agner Fog&#x27;s excellent instruction tables [1]). So even computing x - y * (x &#x2F; y) with the clever math to replace x&#x2F;y would be much faster than just x%y. (It&#x27;s somewhat closer today, but integer division is still fairly slow.)<p>[0] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1131177">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1131177</a> (the linked article 404s now, but it&#x27;s archived: <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20110222015211&#x2F;https:&#x2F;&#x2F;ridiculousfish.com&#x2F;blog&#x2F;archives&#x2F;2010&#x2F;02&#x2F;15&#x2F;labor-of-division-episode-1&#x2F;" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20110222015211&#x2F;https:&#x2F;&#x2F;ridiculou...</a>)<p>[1] page 220 of <a href="https:&#x2F;&#x2F;www.agner.org&#x2F;optimize&#x2F;instruction_tables.pdf" rel="nofollow">https:&#x2F;&#x2F;www.agner.org&#x2F;optimize&#x2F;instruction_tables.pdf</a></div><br/><div id="40754777" class="c"><input type="checkbox" id="c-40754777" checked=""/><div class="controls bullet"><span class="by">wizzwizz4</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754757">parent</a><span>|</span><a href="#40757483">next</a><span>|</span><label class="collapse" for="c-40754777">[-]</label><label class="expand" for="c-40754777">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>So even computing x - y * (x &#x2F; y) with the clever math to replace x&#x2F;y would be much faster than just x%y.</i><p>That only works when y is constant. Otherwise, you need to <i>work out</i> what to replace x&#x2F;y with… which ultimately takes longer than just using the DIV instruction.</div><br/><div id="40754822" class="c"><input type="checkbox" id="c-40754822" checked=""/><div class="controls bullet"><span class="by">vitus</span><span>|</span><a href="#40750399">root</a><span>|</span><a href="#40754777">parent</a><span>|</span><a href="#40757483">next</a><span>|</span><label class="collapse" for="c-40754822">[-]</label><label class="expand" for="c-40754822">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That only works when y is constant.<p>Excellent point! That said, that was the case in this particular example.<p>&gt; This 16-bit modulo was just a final check that the correct number of bytes or bits were being sent (expecting remainder zero), so the denominator was going to be the same every time.<p>(Libraries like libdivide allow you to memoize the magic numbers for frequently-used denominators, and if on x86 you have floating point operations with more precision than you need for integer division, you can potentially use the FPU instead of the ALU: <a href="https:&#x2F;&#x2F;lemire.me&#x2F;blog&#x2F;2017&#x2F;11&#x2F;16&#x2F;fast-exact-integer-divisions-using-floating-point-operations&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lemire.me&#x2F;blog&#x2F;2017&#x2F;11&#x2F;16&#x2F;fast-exact-integer-divisio...</a>)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="40757483" class="c"><input type="checkbox" id="c-40757483" checked=""/><div class="controls bullet"><span class="by">langsoul-com</span><span>|</span><a href="#40750399">prev</a><span>|</span><a href="#40750995">next</a><span>|</span><label class="collapse" for="c-40757483">[-]</label><label class="expand" for="c-40757483">[1 more]</label></div><br/><div class="children"><div class="content">Half the challenge of the bug isn&#x27;t fixing the code. It&#x27;s finding wtf is happening.</div><br/></div></div><div id="40750995" class="c"><input type="checkbox" id="c-40750995" checked=""/><div class="controls bullet"><span class="by">brogrammernot</span><span>|</span><a href="#40757483">prev</a><span>|</span><a href="#40750428">next</a><span>|</span><label class="collapse" for="c-40750995">[-]</label><label class="expand" for="c-40750995">[9 more]</label></div><br/><div class="children"><div class="content">This exact type of thing is why when I switched to the dark side (product) and sat in management meetings where often non-technical folks would go “we could measure by lines of code or similar” for productivity I often pointed out how that was a bad idea.<p>Did I win? Of course not, it’s hard for non-technical people to fully appreciate these things and any sort of larger infrastructure work, esp for developer productivity because it goes back to well how you going to measure that ROI.<p>Anyways, this was fun to read and brought back good engineering memories. I’d also like to say, as it brought back a bug I chased forever, fuck you channelfactory in c#.</div><br/><div id="40757160" class="c"><input type="checkbox" id="c-40757160" checked=""/><div class="controls bullet"><span class="by">khazhoux</span><span>|</span><a href="#40750995">parent</a><span>|</span><a href="#40752231">next</a><span>|</span><label class="collapse" for="c-40757160">[-]</label><label class="expand" for="c-40757160">[1 more]</label></div><br/><div class="children"><div class="content">But you must admit, this is not the common case.  If a developer regularly takes 3 months to fix every bug, then those all better be nasty heisenbeasts, because it&#x27;s more likely that the developer is just slow.</div><br/></div></div><div id="40752231" class="c"><input type="checkbox" id="c-40752231" checked=""/><div class="controls bullet"><span class="by">Swizec</span><span>|</span><a href="#40750995">parent</a><span>|</span><a href="#40757160">prev</a><span>|</span><a href="#40751518">next</a><span>|</span><label class="collapse" for="c-40752231">[-]</label><label class="expand" for="c-40752231">[3 more]</label></div><br/><div class="children"><div class="content">Have you ever suggested that management&#x2F;leadership should measure productivity by lines of document text written? They might better grok how that’s a bad idea. Especially since many of them much prefer to communicate in bullet-pointed slides than documents.</div><br/><div id="40755281" class="c"><input type="checkbox" id="c-40755281" checked=""/><div class="controls bullet"><span class="by">joshspankit</span><span>|</span><a href="#40750995">root</a><span>|</span><a href="#40752231">parent</a><span>|</span><a href="#40754735">prev</a><span>|</span><a href="#40751518">next</a><span>|</span><label class="collapse" for="c-40755281">[-]</label><label class="expand" for="c-40755281">[1 more]</label></div><br/><div class="children"><div class="content">Or measure their mechanic&#x27;s productivity by number of hours spent on the car</div><br/></div></div></div></div><div id="40751518" class="c"><input type="checkbox" id="c-40751518" checked=""/><div class="controls bullet"><span class="by">jonathanlydall</span><span>|</span><a href="#40750995">parent</a><span>|</span><a href="#40752231">prev</a><span>|</span><a href="#40751599">next</a><span>|</span><label class="collapse" for="c-40751518">[-]</label><label class="expand" for="c-40751518">[1 more]</label></div><br/><div class="children"><div class="content">I really miss working with WCF, said no one ever.</div><br/></div></div><div id="40751599" class="c"><input type="checkbox" id="c-40751599" checked=""/><div class="controls bullet"><span class="by">neonsunset</span><span>|</span><a href="#40750995">parent</a><span>|</span><a href="#40751518">prev</a><span>|</span><a href="#40750428">next</a><span>|</span><label class="collapse" for="c-40751599">[-]</label><label class="expand" for="c-40751599">[3 more]</label></div><br/><div class="children"><div class="content">Troubleshooting vendor WCF SDK version mismatch was not fun, and the guy who had to reverse engineer it to attempt a .NET Core port probably lost a few years off his lifespan (this was before CoreWCF was a thing).<p>When people bash gRPC today, they don&#x27;t know of the horrors of the past.</div><br/><div id="40752503" class="c"><input type="checkbox" id="c-40752503" checked=""/><div class="controls bullet"><span class="by">brogrammernot</span><span>|</span><a href="#40750995">root</a><span>|</span><a href="#40751599">parent</a><span>|</span><a href="#40750428">next</a><span>|</span><label class="collapse" for="c-40752503">[-]</label><label class="expand" for="c-40752503">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I’ve lived the life of straddling .NET Core and ASP.NET while also dealing with React vs Angular2+ and having half of the system in the script bundling hell that was razor views and all sorts of craziness.<p>That experience is actually what led me to switch over to Product among other things, I get it when people joke (half joke) about considering retirement rather than going through that again.</div><br/><div id="40752704" class="c"><input type="checkbox" id="c-40752704" checked=""/><div class="controls bullet"><span class="by">neonsunset</span><span>|</span><a href="#40750995">root</a><span>|</span><a href="#40752503">parent</a><span>|</span><a href="#40750428">next</a><span>|</span><label class="collapse" for="c-40752704">[-]</label><label class="expand" for="c-40752704">[1 more]</label></div><br/><div class="children"><div class="content">At the time, we had already been using React for front-end widgets so migrating most other parts to then latest .NET Core 3.1 went surprisingly smooth. There were a couple of EF queries that stopped working as EF Core disabled application side evaluation by default, but that was ultimately a good thing as the intention wasn&#x27;t to pull more data than needed.<p>Instead, the actual source of problems was K8S and the huge amount of institutional knowledge it required that wasn&#x27;t there. I still don&#x27;t think K8S is that good, it&#x27;s useful but it and containerized environments in general to this day have a lot of rough edges and poorly implemented design aspects - involved runtimes like .NET CLR and OpenJDK end up having to do special handling for them because reporting of core count and available memory is still scuffed while the storage is likely to be a network drive. The latter is not an issue in C# where pretty much all I&#x2F;O code is non-blocking so there is no impact on application responsiveness, but it still violates many expectations. Aspects of easy horizontal scaling and focus on lean deployments are primarily more useful for worse languages with weaker runtimes that cannot scale as well within a single process.<p>I suppose, a silver lining to your situation on the other hand is that developers get to have a PO&#x2F;PM with strong technical background which makes so many communication issues go away.</div><br/></div></div></div></div></div></div></div></div><div id="40750428" class="c"><input type="checkbox" id="c-40750428" checked=""/><div class="controls bullet"><span class="by">pelagicAustral</span><span>|</span><a href="#40750995">prev</a><span>|</span><a href="#40757306">next</a><span>|</span><label class="collapse" for="c-40750428">[-]</label><label class="expand" for="c-40750428">[1 more]</label></div><br/><div class="children"><div class="content">Some of the stuff I&#x27;ve struggled with the most over the years have been SQL constraints that are not documented. I remember (probably like 10 years ago), I deployed an update to an ancient Windows Forms implementation that deprecated some login and instead made use of Windows Authentication. It worked like a charm for all users, but one! Checked everything, replicated the machine, tried so many weird stuff, and in the end, what was happening is that the &quot;Users&quot; table had a constraint in the number of characters for the username. This username was over the limit and was not being validated... Another one was a report that was giving the wrong amount, but getting the data from database seemed to do the math right... it was the damn Money datatype, changed to decimal, done...</div><br/></div></div><div id="40757306" class="c"><input type="checkbox" id="c-40757306" checked=""/><div class="controls bullet"><span class="by">iam-TJ</span><span>|</span><a href="#40750428">prev</a><span>|</span><a href="#40751148">next</a><span>|</span><label class="collapse" for="c-40757306">[-]</label><label class="expand" for="c-40757306">[1 more]</label></div><br/><div class="children"><div class="content">Based on experience gained from debugging complex issues and code over decades I have a mantra I repeat to myself and others:<p>&quot;Almost every bug turns out to be a 1 that should be 0, or a 0 that should be 1&quot;<p>Keeping this in mind often keeps one focused on the detail of the underlying binary values and how they are being manipulated.</div><br/></div></div><div id="40751148" class="c"><input type="checkbox" id="c-40751148" checked=""/><div class="controls bullet"><span class="by">pvaldes</span><span>|</span><a href="#40757306">prev</a><span>|</span><a href="#40756201">next</a><span>|</span><label class="collapse" for="c-40751148">[-]</label><label class="expand" for="c-40751148">[3 more]</label></div><br/><div class="children"><div class="content"><i>&quot;I also ended up needing to find a Perl script that was buried deep in some university website. I still don’t know anything about Perl, but I got it to run&quot;</i><p>Find dusty Perl script forgotten for years. Still works<p>Not the first time that I hear that</div><br/><div id="40751423" class="c"><input type="checkbox" id="c-40751423" checked=""/><div class="controls bullet"><span class="by">nikanj</span><span>|</span><a href="#40751148">parent</a><span>|</span><a href="#40756201">next</a><span>|</span><label class="collapse" for="c-40751423">[-]</label><label class="expand" for="c-40751423">[2 more]</label></div><br/><div class="children"><div class="content">Outside of javascript, it’s a pretty reasonable assumption that if you have the sources, you can get them to run</div><br/><div id="40754820" class="c"><input type="checkbox" id="c-40754820" checked=""/><div class="controls bullet"><span class="by">spc476</span><span>|</span><a href="#40751148">root</a><span>|</span><a href="#40751423">parent</a><span>|</span><a href="#40756201">next</a><span>|</span><label class="collapse" for="c-40754820">[-]</label><label class="expand" for="c-40754820">[1 more]</label></div><br/><div class="children"><div class="content">Most Perl code now a days runs under Perl5.  I once tried running a Perl4 script in Perl5 and did not have a good day.</div><br/></div></div></div></div></div></div><div id="40756201" class="c"><input type="checkbox" id="c-40756201" checked=""/><div class="controls bullet"><span class="by">EvgeniyZh</span><span>|</span><a href="#40751148">prev</a><span>|</span><a href="#40751165">next</a><span>|</span><label class="collapse" for="c-40756201">[-]</label><label class="expand" for="c-40756201">[1 more]</label></div><br/><div class="children"><div class="content">I recently found a bug whose fix amounted to one-liner. It all started with random CI failure when I was working on adding some new functionality.<p>I&#x27;ve rerun test locally -- no fail. I&#x27;ve changed the seed to one that was used in failing run -- nothing.<p>I add a loop to the code to repeat text hundred times -- still nothing. I run the test in bash loop hundred time -- 3 fails. So this already hints on some internal problems. I fixed every possible source of randomness and verified that all the inputs are identical between the runs -- still fails only once in a while. I started building MWE, but the function involved in reproduction is fairly complicated. I&#x27;m left with a hundreds lines of Jax code which fails in couple of percent of cases.<p>I look at the output of the compiler, and it is identical between failing and successful runs. So the problem is in the compiled code. The compiled code is ~1000 lines of HLO (not much better than assembly). Unfortunately HLO tooling is both unfamiliar to me and not well fit to this case (or at least I couldn&#x27;t figure it out). So I start manually bisecting the code. I&#x27;m finally left with ~30 lines of HLO. It fails even less often (1% maybe), but at least it runs fast. It also seems to fail in exactly the same way (i.e., there is single incorrect output that I&#x27;ve between 3 fails). Now that&#x27;s something maintainers can be hoped to look at.<p>It turned out that matrices with same content but different layout were deduplicated, leading to, in my case, transposed matrix being replaced by non-transposed one. The hash used for storage did take layout into account so the bug appeared only if two entries ended up in the same bucket (~3% of times). The fix was an obvious one liner [1].<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;openxla&#x2F;xla&#x2F;commit&#x2F;76e7353599d914546f9b3074ee5e2f73d5cf99e3">https:&#x2F;&#x2F;github.com&#x2F;openxla&#x2F;xla&#x2F;commit&#x2F;76e7353599d914546f9b30...</a></div><br/></div></div><div id="40751165" class="c"><input type="checkbox" id="c-40751165" checked=""/><div class="controls bullet"><span class="by">creeble</span><span>|</span><a href="#40756201">prev</a><span>|</span><a href="#40751266">next</a><span>|</span><label class="collapse" for="c-40751165">[-]</label><label class="expand" for="c-40751165">[1 more]</label></div><br/><div class="children"><div class="content">Ha, coincidentally, I designed and built an 8051-based MIDI switch in the early 90’s. There weren’t that many good tools at the time, and I designed everything from the software and UI to the circuit board and rack-mount case.<p>I even wrote an 8051 assembler in C, but found a good tiny-C compiler for it before it went into production.<p>You are not a programmer unless you’ve written key-debounce code :)<p>(OTOH, some of the worst programmers I’ve ever had the displeasure of working with were amazing low-level code hackers. In olden times, it seems like you were either good at that level of abstraction, or you were good at a much different [“higher”] level, seldom both.)</div><br/></div></div><div id="40751266" class="c"><input type="checkbox" id="c-40751266" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#40751165">prev</a><span>|</span><a href="#40757103">next</a><span>|</span><label class="collapse" for="c-40751266">[-]</label><label class="expand" for="c-40751266">[5 more]</label></div><br/><div class="children"><div class="content">Reminds me of fixing an ~11yr old bug in Enemy Territory. I had to spend a night debugging the C code only to realize the issue was in the UI config: <a href="https:&#x2F;&#x2F;github.com&#x2F;etlegacy&#x2F;etlegacy-deprecated&#x2F;pull&#x2F;100&#x2F;files">https:&#x2F;&#x2F;github.com&#x2F;etlegacy&#x2F;etlegacy-deprecated&#x2F;pull&#x2F;100&#x2F;fil...</a><p>(IIRC UI scrolled twice for every mouse movement + you couldn&#x27;t select items in server browser with mouse wheel as it would skip every other one)</div><br/><div id="40751586" class="c"><input type="checkbox" id="c-40751586" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#40751266">parent</a><span>|</span><a href="#40757103">next</a><span>|</span><label class="collapse" for="c-40751586">[-]</label><label class="expand" for="c-40751586">[4 more]</label></div><br/><div class="children"><div class="content">That was such a great game but sadly it seemed to fizzle out.
There were lots of neat exploits which made it even better. 
I also liked the communication style, with pre canned message you could give with certain key combos.</div><br/><div id="40754072" class="c"><input type="checkbox" id="c-40754072" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#40751266">root</a><span>|</span><a href="#40751586">parent</a><span>|</span><a href="#40754021">next</a><span>|</span><label class="collapse" for="c-40754072">[-]</label><label class="expand" for="c-40754072">[2 more]</label></div><br/><div class="children"><div class="content">In a similar vein, the voice tree from Starseige:Tribes (1998) was mind-blowing for the dialup era.<p>Ex: VSAB -&gt; &quot;I am attacking the enemy base!&quot; (Voice, Self, Attacking, Base)</div><br/><div id="40754899" class="c"><input type="checkbox" id="c-40754899" checked=""/><div class="controls bullet"><span class="by">ramses0</span><span>|</span><a href="#40751266">root</a><span>|</span><a href="#40754072">parent</a><span>|</span><a href="#40754021">next</a><span>|</span><label class="collapse" for="c-40754899">[-]</label><label class="expand" for="c-40754899">[1 more]</label></div><br/><div class="children"><div class="content">VGS! Midair keeps the torch lit, and has had a re-release, but they&#x27;re less &quot;base&quot; and more CTF with lights.</div><br/></div></div></div></div><div id="40754021" class="c"><input type="checkbox" id="c-40754021" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#40751266">root</a><span>|</span><a href="#40751586">parent</a><span>|</span><a href="#40754072">prev</a><span>|</span><a href="#40757103">next</a><span>|</span><label class="collapse" for="c-40754021">[-]</label><label class="expand" for="c-40754021">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s usually a full server or two. ETLegacy has plenty of players for me. but yeah, the communication style is fun. and if you join a server on axis you&#x27;ll usually get spammed with &quot;Hallo! Hallo! Hallo!&quot; :)</div><br/></div></div></div></div></div></div><div id="40757103" class="c"><input type="checkbox" id="c-40757103" checked=""/><div class="controls bullet"><span class="by">thenoblesunfish</span><span>|</span><a href="#40751266">prev</a><span>|</span><a href="#40751770">next</a><span>|</span><label class="collapse" for="c-40757103">[-]</label><label class="expand" for="c-40757103">[1 more]</label></div><br/><div class="children"><div class="content">Why is it so bad for a second noteon to leave the original note sounding? It makes no sense for keyboards but maybe you really do want two of the same note sounding.</div><br/></div></div><div id="40751770" class="c"><input type="checkbox" id="c-40751770" checked=""/><div class="controls bullet"><span class="by">halifaxbeard</span><span>|</span><a href="#40757103">prev</a><span>|</span><a href="#40751564">next</a><span>|</span><label class="collapse" for="c-40751770">[-]</label><label class="expand" for="c-40751770">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of a bug I fixed in yamux, simply because of how long I&#x27;ve had to deal with it. Bug existed for as long as yamux did. (yamux is used by hashicorp for stream muxing <i>everywhere</i> in their products.)<p>If yamux&#x27;s keepalive fails&#x2F;times out, and you&#x27;re calling Read on a demuxed stream, it blocks forever.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;hashicorp&#x2F;yamux&#x2F;pull&#x2F;127">https:&#x2F;&#x2F;github.com&#x2F;hashicorp&#x2F;yamux&#x2F;pull&#x2F;127</a></div><br/></div></div><div id="40751564" class="c"><input type="checkbox" id="c-40751564" checked=""/><div class="controls bullet"><span class="by">rented_mule</span><span>|</span><a href="#40751770">prev</a><span>|</span><a href="#40754255">next</a><span>|</span><label class="collapse" for="c-40751564">[-]</label><label class="expand" for="c-40751564">[6 more]</label></div><br/><div class="children"><div class="content">The worst I experienced in this direction was also on a consumer device about 15 years ago. Performance was degraded and we couldn&#x27;t explain it. A team of 5 of us was assembled to figure it out.<p>We spent over three months on it before finding a root cause. It was over two months before we could even understand how to measure it - we were seeing parts of the automated overnight test suite run taking longer, but every night it would be different tests that were slow. A key finding was that almost everything was slow on some boots of the device and fast on other boots of the device, and there was a reboot before each test was run. Doing some manual testing showed it being close to a 50% chance of a boot leading to slowness. Now what?<p>I eventually got frustrated and took the brute force &#x2F; mindless approach... binary search over commits. Unfortunately, that wasn&#x27;t easy because our build was 45-60 minutes, and then there was a heavily manual installation process that took 10-20 minutes, followed by several reboots to see if anything was slow. And there were several thousand commits since the last known good build (the previously shipped version of the device). The build&#x2F;install&#x2F;testing process was not easily automated, and we were not on git, otherwise using git-bisect would have been nice. Instead, I spent weeks doing the binary search manually.<p>That yielded the offending commit. The problem was that it was a massive commit (tens of thousands of lines of code) from a group in another part of the company. It was a snapshot of all of their development over the course of a couple of years. The commit message, and the authors, stated that the commit was a no-op with everything behind a disabled feature flag.<p>So now it was onto code level binary search. Keep deleting about half of the code in the commit, in this case by chunks that are intended to be inactive. After eventually deleting all the inactive code, there were still a few dozen lines of changes in a Linux subsystem that did window compositing. Those lines of code were all quite interdependent, so it was hard to delete much and keep things functional, so now on to walking through code. At least I could use my brain again!<p>Using the clue that the problem was happening about half the time and given that this code was in C, I started looking for uninitialized booleans. Sure enough, there was one called something like `enable_transparency`. Disabled code was setting it to `true`, but nothing was setting it to `false` when their system was disabled. Before their commit, there was no variable - `false` was being passed into the initializer call directly. Adding `= false` to the declaration was the fix.<p>So, well over a year of engineering hours spent to figure out the issue. The upside is that some people on the team didn&#x27;t know how to proceed, so they spent their time speeding up random things that were slow. So the device ended up being noticeably faster when we were done. But it was pretty stressful as we were closing in on our launch date with little visibility into whether we&#x27;d figure it out or not.</div><br/><div id="40754596" class="c"><input type="checkbox" id="c-40754596" checked=""/><div class="controls bullet"><span class="by">namrog84</span><span>|</span><a href="#40751564">parent</a><span>|</span><a href="#40753941">next</a><span>|</span><label class="collapse" for="c-40754596">[-]</label><label class="expand" for="c-40754596">[1 more]</label></div><br/><div class="children"><div class="content">C++ senior dev here. Of the few teams I&#x27;ve been on, one of the first things I make sure is setup right is cranking up warnings, warnings as errors. Which include things like un initialized variables. I then fix up the errors and make sure they are part of build gates.<p>These types of problems(undefined behavior and or uninitialized) are often hard(time consuming) to diagnose and fairly common.<p>Lots of places overlook simple static analysis or built in compile features.</div><br/></div></div><div id="40753941" class="c"><input type="checkbox" id="c-40753941" checked=""/><div class="controls bullet"><span class="by">hoten</span><span>|</span><a href="#40751564">parent</a><span>|</span><a href="#40754596">prev</a><span>|</span><a href="#40754255">next</a><span>|</span><label class="collapse" for="c-40753941">[-]</label><label class="expand" for="c-40753941">[4 more]</label></div><br/><div class="children"><div class="content">Oh man, that sounds rough. I salute you.<p>This probably wasn&#x27;t an option back then with your toolchain, but it&#x27;s so reassuring to know modern compilers &#x2F; ASAN are amazing at catching this class of bugs today.</div><br/><div id="40754446" class="c"><input type="checkbox" id="c-40754446" checked=""/><div class="controls bullet"><span class="by">leni536</span><span>|</span><a href="#40751564">root</a><span>|</span><a href="#40753941">parent</a><span>|</span><a href="#40754255">next</a><span>|</span><label class="collapse" for="c-40754446">[-]</label><label class="expand" for="c-40754446">[3 more]</label></div><br/><div class="children"><div class="content">AFAIK ASAN does not catch uninitialized variables, MSAN does. MSAN is significantly harder to set up.</div><br/><div id="40754541" class="c"><input type="checkbox" id="c-40754541" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#40751564">root</a><span>|</span><a href="#40754446">parent</a><span>|</span><a href="#40754255">next</a><span>|</span><label class="collapse" for="c-40754541">[-]</label><label class="expand" for="c-40754541">[2 more]</label></div><br/><div class="children"><div class="content">Branch on uninit lights up beautifully in valgrind which has no set up, just run valgrind .&#x2F;a.out</div><br/><div id="40754584" class="c"><input type="checkbox" id="c-40754584" checked=""/><div class="controls bullet"><span class="by">leni536</span><span>|</span><a href="#40751564">root</a><span>|</span><a href="#40754541">parent</a><span>|</span><a href="#40754255">next</a><span>|</span><label class="collapse" for="c-40754584">[-]</label><label class="expand" for="c-40754584">[1 more]</label></div><br/><div class="children"><div class="content">Good point, although sometimes valgrind is too slow.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40754255" class="c"><input type="checkbox" id="c-40754255" checked=""/><div class="controls bullet"><span class="by">figassis</span><span>|</span><a href="#40751564">prev</a><span>|</span><a href="#40752099">next</a><span>|</span><label class="collapse" for="c-40754255">[-]</label><label class="expand" for="c-40754255">[1 more]</label></div><br/><div class="children"><div class="content">The number of times I bumped by head against a desk, after missing multiple deadlines and then out of nowhere having a random moment of clarity such has “this gives me X vibes, but it would be insane if this was actually the case”, and then I do a quick string search and there it is.</div><br/></div></div><div id="40752099" class="c"><input type="checkbox" id="c-40752099" checked=""/><div class="controls bullet"><span class="by">omoikane</span><span>|</span><a href="#40754255">prev</a><span>|</span><a href="#40750769">next</a><span>|</span><label class="collapse" for="c-40752099">[-]</label><label class="expand" for="c-40752099">[3 more]</label></div><br/><div class="children"><div class="content">&gt; given a fixed denominator, any 16-bit modulo can be rewritten as three 8-bit modulos<p>Anybody know what&#x27;s the exact transformation here?  I searched around and found this answer, but it doesn&#x27;t work:<p><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;10441333" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;10441333</a></div><br/><div id="40754123" class="c"><input type="checkbox" id="c-40754123" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#40752099">parent</a><span>|</span><a href="#40753399">next</a><span>|</span><label class="collapse" for="c-40754123">[-]</label><label class="expand" for="c-40754123">[1 more]</label></div><br/><div class="children"><div class="content">If the denominator is a constant, wouldn&#x27;t it be faster to use the divmod identity to turn it into (divide, multiply, subtract), then use the usual constant-divide-is-multiply-and-shift optimization?</div><br/></div></div><div id="40753399" class="c"><input type="checkbox" id="c-40753399" checked=""/><div class="controls bullet"><span class="by">justincredible</span><span>|</span><a href="#40752099">parent</a><span>|</span><a href="#40754123">prev</a><span>|</span><a href="#40750769">next</a><span>|</span><label class="collapse" for="c-40753399">[-]</label><label class="expand" for="c-40753399">[1 more]</label></div><br/><div class="children"><div class="content">The article isn&#x27;t very clear but assuming it&#x27;s a 16-bit numerator and 8-bit denominator, then MSN&#x27;s answer to [0] lays it out (although for higher bit sizes). If the denominator was 16-bit, then the top-rated answer (by caf) to the same SO question seems like another approach, but that wouldn&#x27;t be a one line change.<p>[0] <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;2566010&#x2F;fastest-way-to-calculate-a-128-bit-integer-modulo-a-64-bit-integer?rq=1" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;2566010&#x2F;fastest-way-to-c...</a></div><br/></div></div></div></div><div id="40750769" class="c"><input type="checkbox" id="c-40750769" checked=""/><div class="controls bullet"><span class="by">readthenotes1</span><span>|</span><a href="#40752099">prev</a><span>|</span><a href="#40750268">next</a><span>|</span><label class="collapse" for="c-40750769">[-]</label><label class="expand" for="c-40750769">[1 more]</label></div><br/><div class="children"><div class="content">&quot;...it was based on a USB product we had already been making for PCs for almost a decade.<p>This product was so old in fact that nobody knew how to compile the source code. &quot;<p>I think you mean &quot;Management was so bad, nobody knew how to compile the source code&quot;.<p>There are plenty of systems out there that can and and plenty that cannot be reproduced from source. The biggest difference is the card taken to do so, not the age.</div><br/></div></div><div id="40750268" class="c"><input type="checkbox" id="c-40750268" checked=""/><div class="controls bullet"><span class="by">m3kw9</span><span>|</span><a href="#40750769">prev</a><span>|</span><a href="#40755534">next</a><span>|</span><label class="collapse" for="c-40750268">[-]</label><label class="expand" for="c-40750268">[2 more]</label></div><br/><div class="children"><div class="content">These one line fix always seem like a stupid bug , but in reality most bugs are like this and the fix is in the discovery</div><br/><div id="40751367" class="c"><input type="checkbox" id="c-40751367" checked=""/><div class="controls bullet"><span class="by">xeromal</span><span>|</span><a href="#40750268">parent</a><span>|</span><a href="#40755534">next</a><span>|</span><label class="collapse" for="c-40751367">[-]</label><label class="expand" for="c-40751367">[1 more]</label></div><br/><div class="children"><div class="content">One of the reasons I struggle to give ETAs on fixing a bug. The moment I know what the issue is, the solution to fix it is usually already figured out barring a rearchitecture of some services or infrastructure.</div><br/></div></div></div></div><div id="40755534" class="c"><input type="checkbox" id="c-40755534" checked=""/><div class="controls bullet"><span class="by">anytime5704</span><span>|</span><a href="#40750268">prev</a><span>|</span><a href="#40751855">next</a><span>|</span><label class="collapse" for="c-40755534">[-]</label><label class="expand" for="c-40755534">[1 more]</label></div><br/><div class="children"><div class="content">First time I’ve seen hackernews link to Lemmy.<p>Love to see it. That place needs more organic growth.</div><br/></div></div><div id="40751855" class="c"><input type="checkbox" id="c-40751855" checked=""/><div class="controls bullet"><span class="by">tommiegannert</span><span>|</span><a href="#40755534">prev</a><span>|</span><a href="#40751301">next</a><span>|</span><label class="collapse" for="c-40751855">[-]</label><label class="expand" for="c-40751855">[2 more]</label></div><br/><div class="children"><div class="content">Kudos also to the original author for not doing premature optimization, of course. It wasn&#x27;t until the iPad that it was needed. However, a TODO might have been useful. ;)</div><br/><div id="40752634" class="c"><input type="checkbox" id="c-40752634" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#40751855">parent</a><span>|</span><a href="#40751301">next</a><span>|</span><label class="collapse" for="c-40752634">[-]</label><label class="expand" for="c-40752634">[1 more]</label></div><br/><div class="children"><div class="content">Only for users that didn&#x27;t use both features at the same time. Users who did probably experienced the same bug, but it took until a critical mass of users reported the bug to get it fixed. At which point the fix probably took four times longer than necessary because the developer was unfamiliar with the design and the toolchain had decayed.</div><br/></div></div></div></div><div id="40751301" class="c"><input type="checkbox" id="c-40751301" checked=""/><div class="controls bullet"><span class="by">magwa101</span><span>|</span><a href="#40751855">prev</a><span>|</span><a href="#40750381">next</a><span>|</span><label class="collapse" for="c-40751301">[-]</label><label class="expand" for="c-40751301">[1 more]</label></div><br/><div class="children"><div class="content">Similarly, I spent 6 weeks on a kernel token-ring driver intermittent initialization issue. This required kernel restarts over and over to observe the issue. Breakpoints were useless as they hid the issue. Turns out initialization in a specific step was not synchronous and reading the status was a race condition. It tooks weeks of staring, joking around, thinking, bs&#x27;ing, then suddenly, voila. Changed the order of the code, worked.</div><br/></div></div><div id="40750381" class="c"><input type="checkbox" id="c-40750381" checked=""/><div class="controls bullet"><span class="by">shermantanktop</span><span>|</span><a href="#40751301">prev</a><span>|</span><label class="collapse" for="c-40750381">[-]</label><label class="expand" for="c-40750381">[2 more]</label></div><br/><div class="children"><div class="content">This kind of bug is always an emotional rollercoaster of anticipation, discovery, disappointment, angst, self-criticality, and satisfaction.</div><br/><div id="40754767" class="c"><input type="checkbox" id="c-40754767" checked=""/><div class="controls bullet"><span class="by">Tao3300</span><span>|</span><a href="#40750381">parent</a><span>|</span><label class="collapse" for="c-40754767">[-]</label><label class="expand" for="c-40754767">[1 more]</label></div><br/><div class="children"><div class="content">And then they screw you over on performance reviews because it was pointed to fit within a single sprint.</div><br/></div></div></div></div></div></div></div></div></div></body></html>