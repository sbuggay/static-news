<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1708851659757" as="style"/><link rel="stylesheet" href="styles.css?v=1708851659757"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jsonlines.org/">Documentation for the JSON Lines text file format</a>Â <span class="domain">(<a href="https://jsonlines.org">jsonlines.org</a>)</span></div><div class="subtext"><span>gavmor</span> | <span>14 comments</span></div><br/><div><div id="39498366" class="c"><input type="checkbox" id="c-39498366" checked=""/><div class="controls bullet"><span class="by">larkinrichards</span><span>|</span><a href="#39498968">prev</a><span>|</span><a href="#39498540">next</a><span>|</span><label class="collapse" for="c-39498366">[-]</label><label class="expand" for="c-39498366">[6 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this just ndjson? <a href="https:&#x2F;&#x2F;github.com&#x2F;ndjson&#x2F;ndjson-spec">https:&#x2F;&#x2F;github.com&#x2F;ndjson&#x2F;ndjson-spec</a></div><br/><div id="39498374" class="c"><input type="checkbox" id="c-39498374" checked=""/><div class="controls bullet"><span class="by">Towaway69</span><span>|</span><a href="#39498366">parent</a><span>|</span><a href="#39498386">next</a><span>|</span><label class="collapse" for="c-39498374">[-]</label><label class="expand" for="c-39498374">[1 more]</label></div><br/><div class="children"><div class="content">Yes -<p>&gt; Two terms for equivalent formats of line-delimited JSON are:<p>&gt; Newline delimited (NDJSON)[4] - The old name was Line delimited JSON (LDJSON).[5]<p>&gt; JSON lines (JSONL)[6]<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;JSON_streaming" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;JSON_streaming</a></div><br/></div></div><div id="39498386" class="c"><input type="checkbox" id="c-39498386" checked=""/><div class="controls bullet"><span class="by">rickette</span><span>|</span><a href="#39498366">parent</a><span>|</span><a href="#39498374">prev</a><span>|</span><a href="#39498662">next</a><span>|</span><label class="collapse" for="c-39498386">[-]</label><label class="expand" for="c-39498386">[2 more]</label></div><br/><div class="children"><div class="content">Pretty much, discussion: <a href="https:&#x2F;&#x2F;github.com&#x2F;ndjson&#x2F;ndjson.github.io&#x2F;issues&#x2F;1">https:&#x2F;&#x2F;github.com&#x2F;ndjson&#x2F;ndjson.github.io&#x2F;issues&#x2F;1</a><p>Also when you&#x27;re using this with GeoJSON there&#x27;s <a href="https:&#x2F;&#x2F;stevage.github.io&#x2F;ndgeojson&#x2F;" rel="nofollow">https:&#x2F;&#x2F;stevage.github.io&#x2F;ndgeojson&#x2F;</a> which has an actual RFC (<a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc8142" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc8142</a>)</div><br/><div id="39498437" class="c"><input type="checkbox" id="c-39498437" checked=""/><div class="controls bullet"><span class="by">zerocrates</span><span>|</span><a href="#39498366">root</a><span>|</span><a href="#39498386">parent</a><span>|</span><a href="#39498662">next</a><span>|</span><label class="collapse" for="c-39498437">[-]</label><label class="expand" for="c-39498437">[1 more]</label></div><br/><div class="children"><div class="content">Which itself is based on an earlier RFC for not-specifically-Geo-JSON, RFC 7464. Both do things a little different than the others: they use the &quot;record separator&quot; character at the start of each line and actually split on that separator when parsing.<p>The GeoJSON one pretty much seems to exist just to hang an &quot;application&#x2F;geo+json-seq&quot; media type registration off of. Part of me wants to say this really should have been more of a &quot;all json subtypes are also json-seq subtypes&quot; situation but maybe that&#x27;s not really feasible with the standards&#x2F;registration processes.</div><br/></div></div></div></div><div id="39498662" class="c"><input type="checkbox" id="c-39498662" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#39498366">parent</a><span>|</span><a href="#39498386">prev</a><span>|</span><a href="#39498540">next</a><span>|</span><label class="collapse" for="c-39498662">[-]</label><label class="expand" for="c-39498662">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s strictly worse, actually.<p>ndjson specifies sane newline handling, since it works with terminators.<p>jsonlines works with separators and thus fails to detect truncated values. As a result, it can silently produce incorrect numeric values.</div><br/><div id="39498834" class="c"><input type="checkbox" id="c-39498834" checked=""/><div class="controls bullet"><span class="by">exyi</span><span>|</span><a href="#39498366">root</a><span>|</span><a href="#39498662">parent</a><span>|</span><a href="#39498540">next</a><span>|</span><label class="collapse" for="c-39498834">[-]</label><label class="expand" for="c-39498834">[1 more]</label></div><br/><div class="children"><div class="content">This is only an issue with plain numbers, however. If you&#x27;d have the number in an object or array, you&#x27;d detect the truncation just as well. Since using jsonl for a plain list of numbers is... overkill, I&#x27;d say it&#x27;s not an issue.<p>On the other hand, requiring line terminators in the standard would inevitably lead to incompatibility issues. Most software would accept unterminated files, because text libraries do; and so some files will not be terminated. Some applications do not line-terminate files even on Linux (hello VSCode), and it would be even more problematic on Windows</div><br/></div></div></div></div></div></div><div id="39498540" class="c"><input type="checkbox" id="c-39498540" checked=""/><div class="controls bullet"><span class="by">enriquto</span><span>|</span><a href="#39498366">prev</a><span>|</span><a href="#39498532">next</a><span>|</span><label class="collapse" for="c-39498540">[-]</label><label class="expand" for="c-39498540">[3 more]</label></div><br/><div class="children"><div class="content">In a few years we will rediscover column-based, punctuation-free text files that can be parsed with single call to scanf(3).</div><br/><div id="39498788" class="c"><input type="checkbox" id="c-39498788" checked=""/><div class="controls bullet"><span class="by">saghm</span><span>|</span><a href="#39498540">parent</a><span>|</span><a href="#39498532">next</a><span>|</span><label class="collapse" for="c-39498788">[-]</label><label class="expand" for="c-39498788">[2 more]</label></div><br/><div class="children"><div class="content">Maybe I&#x27;m reading too generously, but my sense is that the format described in the article is intended to be used for encoding and transferring data to be used in some other application rather than something where you can assume constraints like &quot;no punctuation&quot;. I could imagine using the &quot;JSON lines&quot; format for things like encoding a large number of records to insert for test cases or as a way of sharing a test dataset with another developer; I&#x27;m not convinced that either of those would work well without any punctuation whatsoever, and even if they could, I suspect I&#x27;d still rather pay the cost of slower importing in order to make my testing code (and any manual reading&#x2F;transformation outside of my code) easy to do without having to add some additional processing step to deal with the punctuation.<p>The best argument against this format to me is that it&#x27;s possible to just use JSON itself for this by wrapping all of the values in an array. I&#x27;m not totally convinced that the quality of life improvements of not needing to add commas along with the single pair of square braces necessitate an entirely new file format, but realistically I think I&#x27;ll just end up following whatever happens to be supported by the tooling I use for a given project. If &quot;JSON lines&quot; became widely used overnight, I wouldn&#x27;t be bothered by it, but if I never end up seeing it supported by anything, I doubt I&#x27;ll miss it.</div><br/><div id="39498837" class="c"><input type="checkbox" id="c-39498837" checked=""/><div class="controls bullet"><span class="by">Arch485</span><span>|</span><a href="#39498540">root</a><span>|</span><a href="#39498788">parent</a><span>|</span><a href="#39498532">next</a><span>|</span><label class="collapse" for="c-39498837">[-]</label><label class="expand" for="c-39498837">[1 more]</label></div><br/><div class="children"><div class="content">One particular downside to using an actual array instead of something like JSON lines is that you can&#x27;t really stream the data.<p>If you have so much data that you need to stream it, you probably shouldn&#x27;t be using JSON, though...</div><br/></div></div></div></div></div></div><div id="39498532" class="c"><input type="checkbox" id="c-39498532" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39498540">prev</a><span>|</span><a href="#39498612">next</a><span>|</span><label class="collapse" for="c-39498532">[-]</label><label class="expand" for="c-39498532">[1 more]</label></div><br/><div class="children"><div class="content">This is such a convenient format to work with. It&#x27;s especially great for streaming consumption without needing to load en entire document into memory at once - you can write a streaming parser just by consuming one line at a time and passing each line to a normal JSON parsing library.</div><br/></div></div><div id="39498612" class="c"><input type="checkbox" id="c-39498612" checked=""/><div class="controls bullet"><span class="by">fahhem</span><span>|</span><a href="#39498532">prev</a><span>|</span><a href="#39498657">next</a><span>|</span><label class="collapse" for="c-39498612">[-]</label><label class="expand" for="c-39498612">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t tell if this was created before or after all the Examples shown? It feels like people &#x27;invented&#x27; this, then this website wrote down the implicit standard everyone already converged on.</div><br/></div></div><div id="39498657" class="c"><input type="checkbox" id="c-39498657" checked=""/><div class="controls bullet"><span class="by">anshargal</span><span>|</span><a href="#39498612">prev</a><span>|</span><label class="collapse" for="c-39498657">[-]</label><label class="expand" for="c-39498657">[1 more]</label></div><br/><div class="children"><div class="content">There is also a similar thing for CSV files encoded as JSON arrays - csvj.org</div><br/></div></div></div></div></div></div></div></body></html>