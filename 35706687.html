<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="apple-mobile-web-app-capable" content="yes"/><link rel="preload" href="styles.css?v=1682488128755" as="style"/><link rel="stylesheet" href="styles.css?v=1682488128755"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://developer.nvidia.com/blog/debugging-mixed-python-and-c-language-stack/">Debugging a Mixed Python and C Language Stack</a>Â <span class="domain">(<a href="https://developer.nvidia.com">developer.nvidia.com</a>)</span></div><div class="subtext"><span>quasiben</span> | <span>10 comments</span></div><br/><div><div id="35708014" class="c"><input type="checkbox" id="c-35708014" checked=""/><div class="controls bullet"><span class="by">zdevito</span><span>|</span><a href="#35707885">next</a><span>|</span><label class="collapse" for="c-35708014">[-]</label><label class="expand" for="c-35708014">[2 more]</label></div><br/><div class="children"><div class="content">When developing PyTorch, we also run into a lot of mixed Python&#x2F;C++ language situations. We&#x27;ve recently been experimenting with in-process &#x27;combined&#x27; Python&#x2F;C++&#x2F;PyTorch 2.0 stack traces to make it easier to understand where code is executing (<a href="https:&#x2F;&#x2F;dev-discuss.pytorch.org&#x2F;t&#x2F;fast-combined-c-python-torchscript-inductor-tracebacks&#x2F;1158" rel="nofollow">https:&#x2F;&#x2F;dev-discuss.pytorch.org&#x2F;t&#x2F;fast-combined-c-python-tor...</a>).</div><br/><div id="35708075" class="c"><input type="checkbox" id="c-35708075" checked=""/><div class="controls bullet"><span class="by">voz_</span><span>|</span><a href="#35708014">parent</a><span>|</span><a href="#35707885">next</a><span>|</span><label class="collapse" for="c-35708075">[-]</label><label class="expand" for="c-35708075">[1 more]</label></div><br/><div class="children"><div class="content">Funny, I was going to post this, but the horse&#x27;s mouth is even better ;)</div><br/></div></div></div></div><div id="35707885" class="c"><input type="checkbox" id="c-35707885" checked=""/><div class="controls bullet"><span class="by">fmajid</span><span>|</span><a href="#35708014">prev</a><span>|</span><a href="#35708118">next</a><span>|</span><label class="collapse" for="c-35707885">[-]</label><label class="expand" for="c-35707885">[4 more]</label></div><br/><div class="children"><div class="content">GDB can decode Python stack traces as Python code, as long as you have have python-gdb.py from the Python source distribution in the same place as your Python executable.</div><br/><div id="35707907" class="c"><input type="checkbox" id="c-35707907" checked=""/><div class="controls bullet"><span class="by">winter_blue</span><span>|</span><a href="#35707885">parent</a><span>|</span><a href="#35709797">prev</a><span>|</span><a href="#35708118">next</a><span>|</span><label class="collapse" for="c-35707907">[-]</label><label class="expand" for="c-35707907">[2 more]</label></div><br/><div class="children"><div class="content">Wow, that&#x27;s pretty amazing. I wonder how it&#x27;s implemented, and if there are any tutorials on implementing something similar, for programming language designers&#x2F;creators.</div><br/><div id="35708433" class="c"><input type="checkbox" id="c-35708433" checked=""/><div class="controls bullet"><span class="by">bobbyi</span><span>|</span><a href="#35707885">root</a><span>|</span><a href="#35707907">parent</a><span>|</span><a href="#35708118">next</a><span>|</span><label class="collapse" for="c-35708433">[-]</label><label class="expand" for="c-35708433">[1 more]</label></div><br/><div class="children"><div class="content">Theres also Py Spy, a profiling tool that can generate flame charts containing a mix of python and C (or C++) calls.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;benfred&#x2F;py-spy">https:&#x2F;&#x2F;github.com&#x2F;benfred&#x2F;py-spy</a><p>It&#x27;s worked really well for my needs</div><br/></div></div></div></div></div></div><div id="35708118" class="c"><input type="checkbox" id="c-35708118" checked=""/><div class="controls bullet"><span class="by">PaulHoule</span><span>|</span><a href="#35707885">prev</a><span>|</span><a href="#35709714">next</a><span>|</span><label class="collapse" for="c-35708118">[-]</label><label class="expand" for="c-35708118">[1 more]</label></div><br/><div class="children"><div class="content">That reminds me of the time I debugged some code (also neural network) that was in both Java and C++ and I was able to attach both gdb and jdb to the same process but had to disable the segfault trap on gdb because the jvm segfaults all the time in normal operation.</div><br/></div></div><div id="35709714" class="c"><input type="checkbox" id="c-35709714" checked=""/><div class="controls bullet"><span class="by">jaza</span><span>|</span><a href="#35708118">prev</a><span>|</span><a href="#35708526">next</a><span>|</span><label class="collapse" for="c-35709714">[-]</label><label class="expand" for="c-35709714">[1 more]</label></div><br/><div class="children"><div class="content">An inspiring, albeit daunting, write-up for someone like me, who has been a python coder for over 10 years, but who has never professionally coded in C or C++. I&#x27;d be pleasantly surprised with myself if I could one day debug like that.<p>Also somewhat depressing that, yet again, the GIL was to blame, and that after all that impressive investigatory work, the fix was (spoiler alert!) &quot;rewrite the offending function in C&quot;.</div><br/></div></div><div id="35708526" class="c"><input type="checkbox" id="c-35708526" checked=""/><div class="controls bullet"><span class="by">nightpool</span><span>|</span><a href="#35709714">prev</a><span>|</span><label class="collapse" for="c-35708526">[-]</label><label class="expand" for="c-35708526">[1 more]</label></div><br/><div class="children"><div class="content">Awesome to see some more Excalidraw diagrams on the front page, feels like it&#x27;s really taking off.</div><br/></div></div></div></div></div></div></div></body></html>