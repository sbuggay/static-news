<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735290050552" as="style"/><link rel="stylesheet" href="styles.css?v=1735290050552"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://acko.net/blog/subpixel-distance-transform/">Sub-pixel distance transform (2023)</a>Â <span class="domain">(<a href="https://acko.net">acko.net</a>)</span></div><div class="subtext"><span>ChadNauseam</span> | <span>17 comments</span></div><br/><div><div id="42518421" class="c"><input type="checkbox" id="c-42518421" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#42518214">next</a><span>|</span><label class="collapse" for="c-42518421">[-]</label><label class="expand" for="c-42518421">[1 more]</label></div><br/><div class="children"><div class="content">Discussed at the time:<p><i>Sub-pixel distance transform</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36809404">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36809404</a> - July 2023 (31 comments)</div><br/></div></div><div id="42518214" class="c"><input type="checkbox" id="c-42518214" checked=""/><div class="controls bullet"><span class="by">doublerabbit</span><span>|</span><a href="#42518421">prev</a><span>|</span><a href="#42518047">next</a><span>|</span><label class="collapse" for="c-42518214">[-]</label><label class="expand" for="c-42518214">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve not seen &quot;Grumpy wizards make toxic brew for the evil queen and jack&quot; before. Is suppose to be a pangram?<p>I see no H.<p>Edit: oh wow. I missed that one.</div><br/><div id="42519911" class="c"><input type="checkbox" id="c-42519911" checked=""/><div class="controls bullet"><span class="by">taspeotis</span><span>|</span><a href="#42518214">parent</a><span>|</span><a href="#42518236">next</a><span>|</span><label class="collapse" for="c-42519911">[-]</label><label class="expand" for="c-42519911">[1 more]</label></div><br/><div class="children"><div class="content">Please join us in the future where you can use CTRL+F to ask the computer to search for text for you.</div><br/></div></div><div id="42518236" class="c"><input type="checkbox" id="c-42518236" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#42518214">parent</a><span>|</span><a href="#42519911">prev</a><span>|</span><a href="#42518238">next</a><span>|</span><label class="collapse" for="c-42518236">[-]</label><label class="expand" for="c-42518236">[1 more]</label></div><br/><div class="children"><div class="content">The h is silent</div><br/></div></div><div id="42518238" class="c"><input type="checkbox" id="c-42518238" checked=""/><div class="controls bullet"><span class="by">Bjartr</span><span>|</span><a href="#42518214">parent</a><span>|</span><a href="#42518236">prev</a><span>|</span><a href="#42518239">next</a><span>|</span><label class="collapse" for="c-42518238">[-]</label><label class="expand" for="c-42518238">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s in &quot;tHe&quot;</div><br/></div></div><div id="42518239" class="c"><input type="checkbox" id="c-42518239" checked=""/><div class="controls bullet"><span class="by">dandellion</span><span>|</span><a href="#42518214">parent</a><span>|</span><a href="#42518238">prev</a><span>|</span><a href="#42518047">next</a><span>|</span><label class="collapse" for="c-42518239">[-]</label><label class="expand" for="c-42518239">[1 more]</label></div><br/><div class="children"><div class="content">&quot;...tHe...&quot;?</div><br/></div></div></div></div><div id="42518047" class="c"><input type="checkbox" id="c-42518047" checked=""/><div class="controls bullet"><span class="by">bun_terminator</span><span>|</span><a href="#42518214">prev</a><span>|</span><label class="collapse" for="c-42518047">[-]</label><label class="expand" for="c-42518047">[10 more]</label></div><br/><div class="children"><div class="content">&gt; some of the established practice on generating SDFs from masks is incorrect<p>SDFs are for some reason riddled with false beliefs. Earlier this year it drove me nuts to learn that boolean operations for SDFs are not correct</div><br/><div id="42519519" class="c"><input type="checkbox" id="c-42519519" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42518047">parent</a><span>|</span><a href="#42518306">next</a><span>|</span><label class="collapse" for="c-42519519">[-]</label><label class="expand" for="c-42519519">[1 more]</label></div><br/><div class="children"><div class="content">I believe the &quot;boolean&quot; operations is really set operations - union, intersection, subtraction, etc.</div><br/></div></div><div id="42518306" class="c"><input type="checkbox" id="c-42518306" checked=""/><div class="controls bullet"><span class="by">edflsafoiewq</span><span>|</span><a href="#42518047">parent</a><span>|</span><a href="#42519519">prev</a><span>|</span><a href="#42518404">next</a><span>|</span><label class="collapse" for="c-42518306">[-]</label><label class="expand" for="c-42518306">[2 more]</label></div><br/><div class="children"><div class="content">What do you mean by &quot;boolean operations for SDFs are not correct&quot;?</div><br/><div id="42518734" class="c"><input type="checkbox" id="c-42518734" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#42518047">root</a><span>|</span><a href="#42518306">parent</a><span>|</span><a href="#42518404">next</a><span>|</span><label class="collapse" for="c-42518734">[-]</label><label class="expand" for="c-42518734">[1 more]</label></div><br/><div class="children"><div class="content">Most of them are approximations instead of exact, so they can produce incorrect SDFs.</div><br/></div></div></div></div><div id="42518404" class="c"><input type="checkbox" id="c-42518404" checked=""/><div class="controls bullet"><span class="by">msk-lywenn</span><span>|</span><a href="#42518047">parent</a><span>|</span><a href="#42518306">prev</a><span>|</span><a href="#42518078">next</a><span>|</span><label class="collapse" for="c-42518404">[-]</label><label class="expand" for="c-42518404">[3 more]</label></div><br/><div class="children"><div class="content">How would you even do a boolean operation over two distances ?</div><br/><div id="42518666" class="c"><input type="checkbox" id="c-42518666" checked=""/><div class="controls bullet"><span class="by">ChadNauseam</span><span>|</span><a href="#42518047">root</a><span>|</span><a href="#42518404">parent</a><span>|</span><a href="#42518078">next</a><span>|</span><label class="collapse" for="c-42518666">[-]</label><label class="expand" for="c-42518666">[2 more]</label></div><br/><div class="children"><div class="content">Inigo Quilez (who is basically the CEO of SDFs in my book) has a page on this: <a href="https:&#x2F;&#x2F;iquilezles.org&#x2F;articles&#x2F;interiordistance&#x2F;" rel="nofollow">https:&#x2F;&#x2F;iquilezles.org&#x2F;articles&#x2F;interiordistance&#x2F;</a>.<p>The goal isn&#x27;t boolean operations over distances themselves, because as you point out that makes no sense. What you often want though is boolean operations over the surfaces the functions are returning the distance to. For example, you have one function that gives the distance to the surface of a sphere, and another that gives the distance to the surface of a cube, and you want to AND them, to get a function that gives you the distance to whichever surface is closer. That explanation probably doesn&#x27;t make any sense, so just check out the page I linked which has some great visualizations.</div><br/><div id="42519570" class="c"><input type="checkbox" id="c-42519570" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42518047">root</a><span>|</span><a href="#42518666">parent</a><span>|</span><a href="#42518078">next</a><span>|</span><label class="collapse" for="c-42519570">[-]</label><label class="expand" for="c-42519570">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s important to use the correct names for things. Using the boolean lingo AND&#x2F;OR&#x2F;XOR to describe distance function operations just creates confusion. For example in this case, getting the distance to whichever closer surface is not an AND operation. It&#x27;s a UNION operation, including the surfaces from both objects. Even if using the boolean lingo, it&#x27;s more like the OR operation, cube OR sphere.  It&#x27;s best to use the set lingo UNION&#x2F;INTERSECTION&#x2F;DIFFERENCE.</div><br/></div></div></div></div></div></div><div id="42518078" class="c"><input type="checkbox" id="c-42518078" checked=""/><div class="controls bullet"><span class="by">like_any_other</span><span>|</span><a href="#42518047">parent</a><span>|</span><a href="#42518404">prev</a><span>|</span><label class="collapse" for="c-42518078">[-]</label><label class="expand" for="c-42518078">[3 more]</label></div><br/><div class="children"><div class="content">&gt; boolean operations for SDFs are not correct<p>They&#x27;re not?</div><br/><div id="42518161" class="c"><input type="checkbox" id="c-42518161" checked=""/><div class="controls bullet"><span class="by">skykooler</span><span>|</span><a href="#42518047">root</a><span>|</span><a href="#42518078">parent</a><span>|</span><a href="#42518679">next</a><span>|</span><label class="collapse" for="c-42518161">[-]</label><label class="expand" for="c-42518161">[1 more]</label></div><br/><div class="children"><div class="content">They return approximations which can be very slow to iterate over depending on how far off of the actual value they are.</div><br/></div></div><div id="42518679" class="c"><input type="checkbox" id="c-42518679" checked=""/><div class="controls bullet"><span class="by">ChadNauseam</span><span>|</span><a href="#42518047">root</a><span>|</span><a href="#42518078">parent</a><span>|</span><a href="#42518161">prev</a><span>|</span><label class="collapse" for="c-42518679">[-]</label><label class="expand" for="c-42518679">[1 more]</label></div><br/><div class="children"><div class="content">I mentioned it in another comment, but Inigo Quilez has a page on this: <a href="https:&#x2F;&#x2F;iquilezles.org&#x2F;articles&#x2F;sdfxor&#x2F;" rel="nofollow">https:&#x2F;&#x2F;iquilezles.org&#x2F;articles&#x2F;sdfxor&#x2F;</a>.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>