<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1697533267604" as="style"/><link rel="stylesheet" href="styles.css?v=1697533267604"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://pharr.org/matt/blog/2018/04/18/ispc-origins">Ispc: Origins (Part 1)</a> <span class="domain">(<a href="https://pharr.org">pharr.org</a>)</span></div><div class="subtext"><span>pavlov</span> | <span>5 comments</span></div><br/><div><div id="37911682" class="c"><input type="checkbox" id="c-37911682" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#37911971">next</a><span>|</span><label class="collapse" for="c-37911682">[-]</label><label class="expand" for="c-37911682">[1 more]</label></div><br/><div class="children"><div class="content">This is a GPU compiler that made different design choices to LLVM and GCC.<p>Autovectorisation of numerical code has a long and not totally successful history. It turns out to be really difficult to determine which instructions are independent enough to pack their arguments into vector registers.<p>Where Cuda differs from autovectorisation is by giving that data independence problem to the programmer. The semantics of the kernel are that the instructions are independent from one another, thus the compiler doesn&#x27;t need to prove it, and if you&#x27;ve written code where that has unwanted behaviour it&#x27;s your problem.<p>Where ispc differs from llvm is by immediately mapping that implicitly vectorised code onto vector operations in the compiler front end and then optimising the vector form. llvm keeps the instructions in the scalar style until very near codegen.<p>I think ispc made the better choice here. It makes control flow easier to optimise and basic blocks harder to optimise than llvm&#x27;s approach and that looks like the right tradeoff. However there&#x27;s an element of the grass is always greener here and it&#x27;s an expensive experiment to change llvm over to predicated vector IR to find out whether it is better in practice.<p>Interesting blog series, recommended.</div><br/></div></div><div id="37911971" class="c"><input type="checkbox" id="c-37911971" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#37911682">prev</a><span>|</span><a href="#37911727">next</a><span>|</span><label class="collapse" for="c-37911971">[-]</label><label class="expand" for="c-37911971">[1 more]</label></div><br/><div class="children"><div class="content">Matt Pharr is the co-author of the popular and excellent book “Physically Based Rendering”, among other things.<p>The story of how he ended up building a shader-style SIMD compiler at Intel is interesting and approachable because he’s not a compiler expert but a graphics programmer. Some of the internal politics at Intel sound hair-raisingly awful and may explain why the company is where it is today.</div><br/></div></div><div id="37911727" class="c"><input type="checkbox" id="c-37911727" checked=""/><div class="controls bullet"><span class="by">maggit</span><span>|</span><a href="#37911971">prev</a><span>|</span><a href="#37910583">next</a><span>|</span><label class="collapse" for="c-37911727">[-]</label><label class="expand" for="c-37911727">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s 12 parts to this in total:<p>1. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;18&#x2F;ispc-origins" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;18&#x2F;ispc-origins</a><p>2. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;19&#x2F;ispc-volta-is-born" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;19&#x2F;ispc-volta-is-born</a><p>3. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;20&#x2F;ispc-volta-going-all-in" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;20&#x2F;ispc-volta-going-all-...</a><p>4. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;21&#x2F;ispc-volta-c-and-spmd" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;21&#x2F;ispc-volta-c-and-spmd</a><p>5. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;22&#x2F;ispc-volta-first-results" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;22&#x2F;ispc-volta-first-resu...</a><p>6. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;23&#x2F;ispc-volta-users-and-ooo" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;23&#x2F;ispc-volta-users-and-...</a><p>7. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;25&#x2F;ispc-volta-avx" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;25&#x2F;ispc-volta-avx</a><p>8. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;26&#x2F;ispc-volta-more-on-performance" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;26&#x2F;ispc-volta-more-on-pe...</a><p>9. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;27&#x2F;ispc-volta-open-source" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;27&#x2F;ispc-volta-open-sourc...</a><p>10. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;28&#x2F;ispc-talks-and-departure" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;28&#x2F;ispc-talks-and-depart...</a><p>11. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;29&#x2F;ispc-retrospective" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;29&#x2F;ispc-retrospective</a><p>12. <a href="https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;30&#x2F;ispc-fin" rel="nofollow noreferrer">https:&#x2F;&#x2F;pharr.org&#x2F;matt&#x2F;blog&#x2F;2018&#x2F;04&#x2F;30&#x2F;ispc-fin</a></div><br/></div></div></div></div></div></div></div></body></html>