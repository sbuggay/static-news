<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1706950856991" as="style"/><link rel="stylesheet" href="styles.css?v=1706950856991"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/seaweedfs/seaweedfs">SeaweedFS fast distributed storage system for blobs, objects, files and datalake</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>thushanfernando</span> | <span>63 comments</span></div><br/><div><div id="39236027" class="c"><input type="checkbox" id="c-39236027" checked=""/><div class="controls bullet"><span class="by">bnewbold</span><span>|</span><a href="#39237127">next</a><span>|</span><label class="collapse" for="c-39236027">[-]</label><label class="expand" for="c-39236027">[12 more]</label></div><br/><div class="children"><div class="content">SeaweedFS does the thing: I&#x27;ve used it to store billions of medium-sized XML documents, image thumbnails, PDF files, etc. It fills the gap between &quot;databases&quot; (broadly defined; maybe you can do few-tens-KByte docs but stretching things) and &quot;filesystems&quot; (hard&#x2F;inefficient in reality to push beyond tens&#x2F;hundreds of millions of objects; yes I know it is possible with tuning, etc, but SeaweedFS is better-suited).<p>The docs and operational tooling feel a bit janky at first, but they get the job done, and the whole project is surprisingly feature-rich. I&#x27;ve dealt with basic power-outages, hardware-caused data corruption (cheap old SSDs), etc, and it was possible to recover.<p>In some ways I feel like the surprising thing is that there is such a gap in open source S3 API blob stores. Minio is very simple and great, but is one-file-per-object on disk (great for maybe 90% of use-cases, but not billions of thumbnails). Ceph et al are quite complex. There are a bunch of almost-sort-kinda solutions like base64-encoded bytes in HBase&#x2F;postgresql&#x2F;etc, or chunking (like MongoDB), but really you just want to concatenate the bytes like a .tar file, and index in with range requests.<p>The Wayback Machine&#x27;s WARC files plus CDX (index files with offset&#x2F;range) is pretty close.</div><br/><div id="39236366" class="c"><input type="checkbox" id="c-39236366" checked=""/><div class="controls bullet"><span class="by">seized</span><span>|</span><a href="#39236027">parent</a><span>|</span><a href="#39236805">next</a><span>|</span><label class="collapse" for="c-39236366">[-]</label><label class="expand" for="c-39236366">[2 more]</label></div><br/><div class="children"><div class="content">GarageS3 is a nice middle ground, it is not file on disk per object but it&#x27;s simpler than SeaweedFS as well.<p><a href="https:&#x2F;&#x2F;garagehq.deuxfleurs.fr&#x2F;" rel="nofollow">https:&#x2F;&#x2F;garagehq.deuxfleurs.fr&#x2F;</a></div><br/><div id="39238398" class="c"><input type="checkbox" id="c-39238398" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#39236027">root</a><span>|</span><a href="#39236366">parent</a><span>|</span><a href="#39236805">next</a><span>|</span><label class="collapse" for="c-39238398">[-]</label><label class="expand" for="c-39238398">[1 more]</label></div><br/><div class="children"><div class="content">Yes, garage sourcecode is very easy to read and understand. Didn’t read seaweed yet.</div><br/></div></div></div></div><div id="39236805" class="c"><input type="checkbox" id="c-39236805" checked=""/><div class="controls bullet"><span class="by">no_wizard</span><span>|</span><a href="#39236027">parent</a><span>|</span><a href="#39236366">prev</a><span>|</span><a href="#39236323">next</a><span>|</span><label class="collapse" for="c-39236805">[-]</label><label class="expand" for="c-39236805">[4 more]</label></div><br/><div class="children"><div class="content">Written in Go no less, a GC language!<p>I was expecting C&#x2F;C++ or Rust, pleasantly surprised to see Go.</div><br/><div id="39238050" class="c"><input type="checkbox" id="c-39238050" checked=""/><div class="controls bullet"><span class="by">maayank</span><span>|</span><a href="#39236027">root</a><span>|</span><a href="#39236805">parent</a><span>|</span><a href="#39236323">next</a><span>|</span><label class="collapse" for="c-39238050">[-]</label><label class="expand" for="c-39238050">[3 more]</label></div><br/><div class="children"><div class="content">Why pleasantly surprised compared to Rust? What’s the significance of GCing?</div><br/><div id="39238408" class="c"><input type="checkbox" id="c-39238408" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#39236027">root</a><span>|</span><a href="#39238050">parent</a><span>|</span><a href="#39236323">next</a><span>|</span><label class="collapse" for="c-39238408">[-]</label><label class="expand" for="c-39238408">[2 more]</label></div><br/><div class="children"><div class="content">A lot of people regard GCs as something one should not use for low level components like file systems and databases. So that this performs so well might be the surprise for GP.</div><br/><div id="39238586" class="c"><input type="checkbox" id="c-39238586" checked=""/><div class="controls bullet"><span class="by">Varriount</span><span>|</span><a href="#39236027">root</a><span>|</span><a href="#39238408">parent</a><span>|</span><a href="#39236323">next</a><span>|</span><label class="collapse" for="c-39238586">[-]</label><label class="expand" for="c-39238586">[1 more]</label></div><br/><div class="children"><div class="content">Which is annoying, as there are various GC systems that are near, or even equal to, performance of comparable non-GC systems.
(I personally blame Java for most of this)</div><br/></div></div></div></div></div></div></div></div><div id="39236323" class="c"><input type="checkbox" id="c-39236323" checked=""/><div class="controls bullet"><span class="by">pilgrim0</span><span>|</span><a href="#39236027">parent</a><span>|</span><a href="#39236805">prev</a><span>|</span><a href="#39236873">next</a><span>|</span><label class="collapse" for="c-39236323">[-]</label><label class="expand" for="c-39236323">[4 more]</label></div><br/><div class="children"><div class="content">I was quite surprised to discover that minio is one file per object. Having read some papers about object stores, this is definitely not what I expected.</div><br/><div id="39238271" class="c"><input type="checkbox" id="c-39238271" checked=""/><div class="controls bullet"><span class="by">blr_lpm</span><span>|</span><a href="#39236027">root</a><span>|</span><a href="#39236323">parent</a><span>|</span><a href="#39238152">next</a><span>|</span><label class="collapse" for="c-39238271">[-]</label><label class="expand" for="c-39238271">[2 more]</label></div><br/><div class="children"><div class="content">What are the pros&#x2F;cons of storing one file per object? 
As a noob in this domain, this made sense to me.<p>It will be great if you can share name or reference of some papers around this. Thank you in advance.</div><br/><div id="39238354" class="c"><input type="checkbox" id="c-39238354" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#39236027">root</a><span>|</span><a href="#39238271">parent</a><span>|</span><a href="#39238152">next</a><span>|</span><label class="collapse" for="c-39238354">[-]</label><label class="expand" for="c-39238354">[1 more]</label></div><br/><div class="children"><div class="content">I imagine very large objects you&#x27;d like to be able to shard across multiple servers.</div><br/></div></div></div></div></div></div><div id="39236873" class="c"><input type="checkbox" id="c-39236873" checked=""/><div class="controls bullet"><span class="by">riku_iki</span><span>|</span><a href="#39236027">parent</a><span>|</span><a href="#39236323">prev</a><span>|</span><a href="#39237127">next</a><span>|</span><label class="collapse" for="c-39236873">[-]</label><label class="expand" for="c-39236873">[1 more]</label></div><br/><div class="children"><div class="content">&gt; almost-sort-kinda solutions like base64-encoded bytes in HBase&#x2F;postgresql&#x2F;etc<p>why you would base64 encode them, they all store binary formats?</div><br/></div></div></div></div><div id="39237127" class="c"><input type="checkbox" id="c-39237127" checked=""/><div class="controls bullet"><span class="by">chrislusf</span><span>|</span><a href="#39236027">prev</a><span>|</span><a href="#39236867">next</a><span>|</span><label class="collapse" for="c-39237127">[-]</label><label class="expand" for="c-39237127">[3 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing! I work on SeaweedFS.<p>SeaweedFS is built on top of a blob storage based on Facebook&#x27;s Haystack paper.
The features are not fully developed yet, but what makes it different is a new way of programming for the cloud era.<p>When needing some storage, just fallocate some space to write to, and a file_id is returned. Use the file_id similar to a pointer to a memory block.<p>There will be more features built on top of it. File system and Object store are just a couple of them. Need more help on this.</div><br/><div id="39237205" class="c"><input type="checkbox" id="c-39237205" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#39237127">parent</a><span>|</span><a href="#39236867">next</a><span>|</span><label class="collapse" for="c-39237205">[-]</label><label class="expand" for="c-39237205">[2 more]</label></div><br/><div class="children"><div class="content"><i>what makes it different is a new way of programming for the cloud era.</i><p><i>just fallocate some space to write to, and a file_id is returned. Use the file_id similar to a pointer to a memory block.</i><p>How is that not mmap?<p>Also what is the difference between a file, an object, a blob, a filesystem and an object store? Is all this just files indexed with sql?</div><br/><div id="39237657" class="c"><input type="checkbox" id="c-39237657" checked=""/><div class="controls bullet"><span class="by">chrislusf</span><span>|</span><a href="#39237127">root</a><span>|</span><a href="#39237205">parent</a><span>|</span><a href="#39236867">next</a><span>|</span><label class="collapse" for="c-39237657">[-]</label><label class="expand" for="c-39237657">[1 more]</label></div><br/><div class="children"><div class="content">&gt; How is that not mmap?<p>The allocated storage is append only. For updates, just allocate another blob. The deleted blobs would be garbage collected later. So it is not really mmap.<p>&gt; Also what is the difference between a file, an object, a blob, a filesystem and an object store?<p>The answer would be too long to fit here. Maybe chatgpt can help. :)<p>&gt; Is all this just files indexed with sql?<p>Sort of yes.</div><br/></div></div></div></div></div></div><div id="39236867" class="c"><input type="checkbox" id="c-39236867" checked=""/><div class="controls bullet"><span class="by">clankstar</span><span>|</span><a href="#39237127">prev</a><span>|</span><a href="#39236231">next</a><span>|</span><label class="collapse" for="c-39236867">[-]</label><label class="expand" for="c-39236867">[2 more]</label></div><br/><div class="children"><div class="content">We (<a href="https:&#x2F;&#x2F;hivegames.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hivegames.io&#x2F;</a>) use this for storing 50+ TB of multiplayer match recordings (&quot;replays&quot;), heavily using the built-in expiry feature. It&#x27;s incredibly easy to use and to built on top off; never had an issue updating, migrating or utilizing new features.</div><br/><div id="39236951" class="c"><input type="checkbox" id="c-39236951" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#39236867">parent</a><span>|</span><a href="#39236231">next</a><span>|</span><label class="collapse" for="c-39236951">[-]</label><label class="expand" for="c-39236951">[1 more]</label></div><br/><div class="children"><div class="content">What do you use for the metadata store?</div><br/></div></div></div></div><div id="39236231" class="c"><input type="checkbox" id="c-39236231" checked=""/><div class="controls bullet"><span class="by">jug</span><span>|</span><a href="#39236867">prev</a><span>|</span><a href="#39238595">next</a><span>|</span><label class="collapse" for="c-39236231">[-]</label><label class="expand" for="c-39236231">[7 more]</label></div><br/><div class="children"><div class="content">This sounds like what Microsoft has tried but failed to do in numerous iterations for two decades: OFS (Cairo, unreleased predecessor to Windows 95), Storage+ (SQL Server 7.0), RFS (SQL Server 2000), Exchange Webstore, Outlook LIS, WinFS, and finally Microsoft Semantic Engine.<p>All projects were either cancelled, features cut, or officially left in limbo.<p>It&#x27;s a pretty remarkable piece of Microsoft history as it has been there on the sidelines since roughly post-Windows 3.11. The reason they returned to it so often was in part because Bill Gates loved the idea of a more high level object storage that, like this, bridges the gap between files and databases.<p>He would probably have loved this kind of technology part of Windows -- and indeed in 2013, he cited the failure of WinFS as his greatest disappointment at Microsoft, that it was ahead its time and that it would re-emerge.</div><br/><div id="39236916" class="c"><input type="checkbox" id="c-39236916" checked=""/><div class="controls bullet"><span class="by">osigurdson</span><span>|</span><a href="#39236231">parent</a><span>|</span><a href="#39238595">next</a><span>|</span><label class="collapse" for="c-39236916">[-]</label><label class="expand" for="c-39236916">[6 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; and indeed in 2013, he cited the failure of WinFS as his greatest disappointment at Microsoft,<p>Failing to capture any of the mobile handset market while missing out almost entirely on search and social media businesses would be higher on my list if I were in BG&#x27;s shoes.</div><br/><div id="39237435" class="c"><input type="checkbox" id="c-39237435" checked=""/><div class="controls bullet"><span class="by">mbreese</span><span>|</span><a href="#39236231">root</a><span>|</span><a href="#39236916">parent</a><span>|</span><a href="#39237500">next</a><span>|</span><label class="collapse" for="c-39237435">[-]</label><label class="expand" for="c-39237435">[1 more]</label></div><br/><div class="children"><div class="content">Intellectually though, I could see the WinFS failure as being more disappointing. If it had worked, local computing would have been completely different. Much like BeFS, WinFS (as marketed) would have introduced many new ways to interact with your computer and data.<p>Having a bigger presence in mobile and social would have been more lucrative, but from a CS geek point of view, the failure of WinFS might have been more stinging.</div><br/></div></div><div id="39237500" class="c"><input type="checkbox" id="c-39237500" checked=""/><div class="controls bullet"><span class="by">Guthur</span><span>|</span><a href="#39236231">root</a><span>|</span><a href="#39236916">parent</a><span>|</span><a href="#39237435">prev</a><span>|</span><a href="#39237516">next</a><span>|</span><label class="collapse" for="c-39237500">[-]</label><label class="expand" for="c-39237500">[3 more]</label></div><br/><div class="children"><div class="content">Microsoft has never been good in either consumer electronics or advertising (social media).<p>MS carved out economic rent on business with Windows and Office, Apple actually failed at that.</div><br/><div id="39237999" class="c"><input type="checkbox" id="c-39237999" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#39236231">root</a><span>|</span><a href="#39237500">parent</a><span>|</span><a href="#39237516">next</a><span>|</span><label class="collapse" for="c-39237999">[-]</label><label class="expand" for="c-39237999">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Gaming is now the third largest business at Microsoft.&quot;  After Office and Azure, before Windows.<p><a href="https:&#x2F;&#x2F;www.theverge.com&#x2F;2024&#x2F;1&#x2F;30&#x2F;24055445&#x2F;microsoft-q2-2024-earnings-revenue-profits-windows-xbox-gaming-surface" rel="nofollow">https:&#x2F;&#x2F;www.theverge.com&#x2F;2024&#x2F;1&#x2F;30&#x2F;24055445&#x2F;microsoft-q2-202...</a></div><br/><div id="39238122" class="c"><input type="checkbox" id="c-39238122" checked=""/><div class="controls bullet"><span class="by">spockz</span><span>|</span><a href="#39236231">root</a><span>|</span><a href="#39237999">parent</a><span>|</span><a href="#39237516">next</a><span>|</span><label class="collapse" for="c-39238122">[-]</label><label class="expand" for="c-39238122">[1 more]</label></div><br/><div class="children"><div class="content">Sure. But windows was&#x2F;is the loss leader for that. No gaming or office without windows. Even Azure benefits from it as it ties into Active Directory with Azure AD. This makes it a completely integrated story. So that they are even still making money off of windows directly is just a direct benefit.</div><br/></div></div></div></div></div></div><div id="39237516" class="c"><input type="checkbox" id="c-39237516" checked=""/><div class="controls bullet"><span class="by">foota</span><span>|</span><a href="#39236231">root</a><span>|</span><a href="#39236916">parent</a><span>|</span><a href="#39237500">prev</a><span>|</span><a href="#39238595">next</a><span>|</span><label class="collapse" for="c-39237516">[-]</label><label class="expand" for="c-39237516">[1 more]</label></div><br/><div class="children"><div class="content">Did those happen under Gates?</div><br/></div></div></div></div></div></div><div id="39238595" class="c"><input type="checkbox" id="c-39238595" checked=""/><div class="controls bullet"><span class="by">jdthedisciple</span><span>|</span><a href="#39236231">prev</a><span>|</span><a href="#39235733">next</a><span>|</span><label class="collapse" for="c-39238595">[-]</label><label class="expand" for="c-39238595">[1 more]</label></div><br/><div class="children"><div class="content">Sounds great!<p>Now I only need to wait 10 years until all the hidden but crucial bugs are found (at the massive loss of real data, ofc) before I&#x27;m ready to use it,<p>like with every new piece of technology...<p>Or what should give me the confidence that it isn&#x27;t so?</div><br/></div></div><div id="39235733" class="c"><input type="checkbox" id="c-39235733" checked=""/><div class="controls bullet"><span class="by">gorset</span><span>|</span><a href="#39238595">prev</a><span>|</span><a href="#39236203">next</a><span>|</span><label class="collapse" for="c-39235733">[-]</label><label class="expand" for="c-39235733">[10 more]</label></div><br/><div class="children"><div class="content">I was asking around in my network after experience with self hosting S3 like solutions.  One serious user of SeaweedFS recommended looking into min.io instead. Another serious user of min.io recommend looking into SeaweedFS instead…</div><br/><div id="39235777" class="c"><input type="checkbox" id="c-39235777" checked=""/><div class="controls bullet"><span class="by">jasonjayr</span><span>|</span><a href="#39235733">parent</a><span>|</span><a href="#39236126">next</a><span>|</span><label class="collapse" for="c-39235777">[-]</label><label class="expand" for="c-39235777">[3 more]</label></div><br/><div class="children"><div class="content">If your looking for more recommendations, try Garage ( <a href="https:&#x2F;&#x2F;garagehq.deuxfleurs.fr&#x2F;" rel="nofollow">https:&#x2F;&#x2F;garagehq.deuxfleurs.fr&#x2F;</a> ), which is on my short list to try in my home lab...</div><br/><div id="39236076" class="c"><input type="checkbox" id="c-39236076" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#39235733">root</a><span>|</span><a href="#39235777">parent</a><span>|</span><a href="#39236126">next</a><span>|</span><label class="collapse" for="c-39236076">[-]</label><label class="expand" for="c-39236076">[2 more]</label></div><br/><div class="children"><div class="content">Longhorn is another that I see quite a lot, next to Ceph&#x2F;Rook and lately SeaweedFS.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;longhorn&#x2F;longhorn">https:&#x2F;&#x2F;github.com&#x2F;longhorn&#x2F;longhorn</a></div><br/><div id="39236151" class="c"><input type="checkbox" id="c-39236151" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#39235733">root</a><span>|</span><a href="#39236076">parent</a><span>|</span><a href="#39236126">next</a><span>|</span><label class="collapse" for="c-39236151">[-]</label><label class="expand" for="c-39236151">[1 more]</label></div><br/><div class="children"><div class="content">Longhorn claims to be a block storage solution so more like EBS than S3.</div><br/></div></div></div></div></div></div><div id="39236126" class="c"><input type="checkbox" id="c-39236126" checked=""/><div class="controls bullet"><span class="by">Already__Taken</span><span>|</span><a href="#39235733">parent</a><span>|</span><a href="#39235777">prev</a><span>|</span><a href="#39236375">next</a><span>|</span><label class="collapse" for="c-39236126">[-]</label><label class="expand" for="c-39236126">[2 more]</label></div><br/><div class="children"><div class="content">It used to be if you wanted thousands of tiny files give seaweed a go, minio would suck. But minio has since had a revision so you&#x27;d have to test it out.<p>Seaweed has been running my k8s persistent volumes pretty admirably for like a year for about 4 devs.</div><br/><div id="39237722" class="c"><input type="checkbox" id="c-39237722" checked=""/><div class="controls bullet"><span class="by">SOLAR_FIELDS</span><span>|</span><a href="#39235733">root</a><span>|</span><a href="#39236126">parent</a><span>|</span><a href="#39236375">next</a><span>|</span><label class="collapse" for="c-39237722">[-]</label><label class="expand" for="c-39237722">[1 more]</label></div><br/><div class="children"><div class="content">I set up seaweed on my home lab a few weeks ago and while it was a bit difficult to initially get everything configured it seems to work really well once I got it running. I’m using it with the CSI driver and have it incrementally backing up to s3 (I originally had it mirrored then realized for my use case I didn’t need to do that).<p>My one complaint is that I could not really get it to work with an S3 compatible api that wasn’t officially supported in the list of S3 backends, even though that should have been theoretically possible. I ended up picking a supported backend instead.</div><br/></div></div></div></div><div id="39236375" class="c"><input type="checkbox" id="c-39236375" checked=""/><div class="controls bullet"><span class="by">seized</span><span>|</span><a href="#39235733">parent</a><span>|</span><a href="#39236126">prev</a><span>|</span><a href="#39235756">next</a><span>|</span><label class="collapse" for="c-39236375">[-]</label><label class="expand" for="c-39236375">[1 more]</label></div><br/><div class="children"><div class="content">Take a look at GarageS3, it&#x27;s a niceoption for &quot;just an S3 server&quot; for self hosting.<p><a href="https:&#x2F;&#x2F;garagehq.deuxfleurs.fr&#x2F;" rel="nofollow">https:&#x2F;&#x2F;garagehq.deuxfleurs.fr&#x2F;</a><p>I use it for self hosting.</div><br/></div></div><div id="39235756" class="c"><input type="checkbox" id="c-39235756" checked=""/><div class="controls bullet"><span class="by">junon</span><span>|</span><a href="#39235733">parent</a><span>|</span><a href="#39236375">prev</a><span>|</span><a href="#39236358">next</a><span>|</span><label class="collapse" for="c-39235756">[-]</label><label class="expand" for="c-39235756">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like you should try both and write an article!</div><br/></div></div><div id="39236358" class="c"><input type="checkbox" id="c-39236358" checked=""/><div class="controls bullet"><span class="by">chaxor</span><span>|</span><a href="#39235733">parent</a><span>|</span><a href="#39235756">prev</a><span>|</span><a href="#39236203">next</a><span>|</span><label class="collapse" for="c-39236358">[-]</label><label class="expand" for="c-39236358">[2 more]</label></div><br/><div class="children"><div class="content">A serious user of both suggested to use iroh instead</div><br/><div id="39236589" class="c"><input type="checkbox" id="c-39236589" checked=""/><div class="controls bullet"><span class="by">depingus</span><span>|</span><a href="#39235733">root</a><span>|</span><a href="#39236358">parent</a><span>|</span><a href="#39236203">next</a><span>|</span><label class="collapse" for="c-39236589">[-]</label><label class="expand" for="c-39236589">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re talking about this <a href="https:&#x2F;&#x2F;github.com&#x2F;n0-computer&#x2F;iroh">https:&#x2F;&#x2F;github.com&#x2F;n0-computer&#x2F;iroh</a> ... Iroh is a p2p file syncing protocol. That&#x27;s not even close to the same wheelhouse as SeaweedFS. What was their rationale for recommending it?</div><br/></div></div></div></div></div></div><div id="39236203" class="c"><input type="checkbox" id="c-39236203" checked=""/><div class="controls bullet"><span class="by">mbreese</span><span>|</span><a href="#39235733">prev</a><span>|</span><a href="#39237845">next</a><span>|</span><label class="collapse" for="c-39236203">[-]</label><label class="expand" for="c-39236203">[2 more]</label></div><br/><div class="children"><div class="content">Does anyone know how well the Seaweed Filer works for renaming files or missing files? My use case’s involves writing a lot of data to temporary files that are then renamed to their final name. This is always the Achilles heel for distributed file storage, where files are put into buckets based on the file path… when you rename the path, but keep the data, lookups become more complicated.<p>(This is HPC work with large processing pipelines. I keep track of if the job was successful based upon if the final file exists. The rename only happens if the job was successful. It’s a great way to track pipeline status, but metadata lookups can be a pain — particularly for missing files. )</div><br/><div id="39237169" class="c"><input type="checkbox" id="c-39237169" checked=""/><div class="controls bullet"><span class="by">chrislusf</span><span>|</span><a href="#39236203">parent</a><span>|</span><a href="#39237845">next</a><span>|</span><label class="collapse" for="c-39237169">[-]</label><label class="expand" for="c-39237169">[1 more]</label></div><br/><div class="children"><div class="content">Should not be a problem.<p>One similar use case used Cassandra as SeaweedFS filer store, and created thousands of files per second in a temp folder, and moved the files to a final folder. It caused a lot of tombstones for the updates in Cassandra.<p>Later, they changed to use Redis for the temp folder, and keep Cassandra for other folders. Everything has been very smooth since then.</div><br/></div></div></div></div><div id="39237845" class="c"><input type="checkbox" id="c-39237845" checked=""/><div class="controls bullet"><span class="by">lolpanda</span><span>|</span><a href="#39236203">prev</a><span>|</span><a href="#39235767">next</a><span>|</span><label class="collapse" for="c-39237845">[-]</label><label class="expand" for="c-39237845">[1 more]</label></div><br/><div class="children"><div class="content">For companies hosting their entire infra on AWS, what&#x27;s the advantage of SeaweedFS running on a fleet of EC2 machines over storing on S3?</div><br/></div></div><div id="39235767" class="c"><input type="checkbox" id="c-39235767" checked=""/><div class="controls bullet"><span class="by">4by4by4</span><span>|</span><a href="#39237845">prev</a><span>|</span><a href="#39236504">next</a><span>|</span><label class="collapse" for="c-39235767">[-]</label><label class="expand" for="c-39235767">[14 more]</label></div><br/><div class="children"><div class="content">We tested both SeaweedFS and Min.io for cheaply (HDD) storing &gt; 100TB of audio data.<p>Seaweed had much better performance for our use case.</div><br/><div id="39235965" class="c"><input type="checkbox" id="c-39235965" checked=""/><div class="controls bullet"><span class="by">Scaevolus</span><span>|</span><a href="#39235767">parent</a><span>|</span><a href="#39236015">next</a><span>|</span><label class="collapse" for="c-39235965">[-]</label><label class="expand" for="c-39235965">[2 more]</label></div><br/><div class="children"><div class="content">Do you wish it supported Erasure Coding for lower disk usage, or is your workload such that the extra spindles from replication are useful?</div><br/><div id="39236098" class="c"><input type="checkbox" id="c-39236098" checked=""/><div class="controls bullet"><span class="by">4by4by4</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39235965">parent</a><span>|</span><a href="#39236015">next</a><span>|</span><label class="collapse" for="c-39236098">[-]</label><label class="expand" for="c-39236098">[1 more]</label></div><br/><div class="children"><div class="content">That would be nice and that’s why we first tried MinIO.<p>But with MinIO and erasure coding a single PUT results in more IOPS and we saw lower performance.<p>Also, expanding MinIO must be done in increments of your original buildout which is annoying. So if you start with 4 servers and 500TB, they recommend you expand by adding another 4 servers with 500TB at least.</div><br/></div></div></div></div><div id="39236015" class="c"><input type="checkbox" id="c-39236015" checked=""/><div class="controls bullet"><span class="by">bomewish</span><span>|</span><a href="#39235767">parent</a><span>|</span><a href="#39235965">prev</a><span>|</span><a href="#39235802">next</a><span>|</span><label class="collapse" for="c-39236015">[-]</label><label class="expand" for="c-39236015">[8 more]</label></div><br/><div class="children"><div class="content">Forgive my ignorance but why is this preferable to a big ZFS pool?</div><br/><div id="39236447" class="c"><input type="checkbox" id="c-39236447" checked=""/><div class="controls bullet"><span class="by">chaxor</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236015">parent</a><span>|</span><a href="#39237307">next</a><span>|</span><label class="collapse" for="c-39236447">[-]</label><label class="expand" for="c-39236447">[3 more]</label></div><br/><div class="children"><div class="content">I could be wrong here, but I believe this (ceph, et al) is the answer to the question:
&gt;  &quot;&quot;&quot;But what if I don&#x27;t have a JBOD of 6x18TB hard drives with good amount of ECC RAM for ZFS?
  What if I have 3 raspberry pi 4&#x27;s, at different houses with 3x 12TB externals on them, and 2 other computers with 2x 4TB externals on them, and I want to use that all together with some redundancy&#x2F;error checking?&quot;
That would give (3x3x12)+(2x2x4)=124 TB of storage, vs 108TB in the ZFS single box case (of <i>raw</i> storage).<p>If you could figure out the distributed part (and inconsistency in disk size and such), then this is a <i>very</i> nice system to have.</div><br/><div id="39236650" class="c"><input type="checkbox" id="c-39236650" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236447">parent</a><span>|</span><a href="#39237307">next</a><span>|</span><label class="collapse" for="c-39236650">[-]</label><label class="expand" for="c-39236650">[2 more]</label></div><br/><div class="children"><div class="content">&quot;What if I have 3 raspberry pi 4&#x27;s [...] with no significant performance requirement?&quot;<p>Ceph is nice, but performance is lackluster on anything but a proper cluster (pun intended).<p>It&#x27;s also somewhat heavyweight. I ran ZFS over iSCSI with four RPis serving the iSCSI targets via SATA-USB. It was network limited mostly. The advantage of that is that you can take the same disks and plug them all into a single host and import the pool directly (ie not via iSCSI), if needed.</div><br/><div id="39237671" class="c"><input type="checkbox" id="c-39237671" checked=""/><div class="controls bullet"><span class="by">redundantly</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236650">parent</a><span>|</span><a href="#39237307">next</a><span>|</span><label class="collapse" for="c-39237671">[-]</label><label class="expand" for="c-39237671">[1 more]</label></div><br/><div class="children"><div class="content">I would love to learn more about that setup. Do you have it documented anywhere?</div><br/></div></div></div></div></div></div><div id="39237307" class="c"><input type="checkbox" id="c-39237307" checked=""/><div class="controls bullet"><span class="by">chillfox</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236015">parent</a><span>|</span><a href="#39236447">prev</a><span>|</span><a href="#39236072">next</a><span>|</span><label class="collapse" for="c-39237307">[-]</label><label class="expand" for="c-39237307">[1 more]</label></div><br/><div class="children"><div class="content">Because you need an S3 compatible API?<p>I use ZFS for most of my things, but I have yet to find a good way of just sharing a ZFS dataset over S3.</div><br/></div></div><div id="39236072" class="c"><input type="checkbox" id="c-39236072" checked=""/><div class="controls bullet"><span class="by">4by4by4</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236015">parent</a><span>|</span><a href="#39237307">prev</a><span>|</span><a href="#39236879">next</a><span>|</span><label class="collapse" for="c-39236072">[-]</label><label class="expand" for="c-39236072">[2 more]</label></div><br/><div class="children"><div class="content">Not the only reason, but we have a distributed workload so HTTP is a better protocol than NFS for our use case.</div><br/><div id="39236836" class="c"><input type="checkbox" id="c-39236836" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236072">parent</a><span>|</span><a href="#39236879">next</a><span>|</span><label class="collapse" for="c-39236836">[-]</label><label class="expand" for="c-39236836">[1 more]</label></div><br/><div class="children"><div class="content">Internally ZFS is more or less an object store. I seem to recall there was a project to expose this to users directly, similar to how ZPL (filesystem) or ZVOLs are just two different ways to expose the internal object store.<p>Seems like it could be an interesting approach.</div><br/></div></div></div></div><div id="39236879" class="c"><input type="checkbox" id="c-39236879" checked=""/><div class="controls bullet"><span class="by">riku_iki</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39236015">parent</a><span>|</span><a href="#39236072">prev</a><span>|</span><a href="#39235802">next</a><span>|</span><label class="collapse" for="c-39236879">[-]</label><label class="expand" for="c-39236879">[1 more]</label></div><br/><div class="children"><div class="content">its distributed: will survive if your server dies..</div><br/></div></div></div></div><div id="39235802" class="c"><input type="checkbox" id="c-39235802" checked=""/><div class="controls bullet"><span class="by">erikaww</span><span>|</span><a href="#39235767">parent</a><span>|</span><a href="#39236015">prev</a><span>|</span><a href="#39236136">next</a><span>|</span><label class="collapse" for="c-39235802">[-]</label><label class="expand" for="c-39235802">[2 more]</label></div><br/><div class="children"><div class="content">Any hiccups?<p>Drop in S3 compatibility with much better performance would be insane</div><br/><div id="39235847" class="c"><input type="checkbox" id="c-39235847" checked=""/><div class="controls bullet"><span class="by">4by4by4</span><span>|</span><a href="#39235767">root</a><span>|</span><a href="#39235802">parent</a><span>|</span><a href="#39236136">next</a><span>|</span><label class="collapse" for="c-39235847">[-]</label><label class="expand" for="c-39235847">[1 more]</label></div><br/><div class="children"><div class="content">Setup is a little obscure, but the developer is responsive on Slack and GH.<p>We are only a couple months in and haven’t had to add to our cluster yet, storing about 250TB, so it’s still early for us. Promising so far and hardware has already paid for itself.</div><br/></div></div></div></div><div id="39236136" class="c"><input type="checkbox" id="c-39236136" checked=""/><div class="controls bullet"><span class="by">_zoltan_</span><span>|</span><a href="#39235767">parent</a><span>|</span><a href="#39235802">prev</a><span>|</span><a href="#39236504">next</a><span>|</span><label class="collapse" for="c-39236136">[-]</label><label class="expand" for="c-39236136">[1 more]</label></div><br/><div class="children"><div class="content">why not ceph?</div><br/></div></div></div></div><div id="39236504" class="c"><input type="checkbox" id="c-39236504" checked=""/><div class="controls bullet"><span class="by">jakjak123</span><span>|</span><a href="#39235767">prev</a><span>|</span><a href="#39236664">next</a><span>|</span><label class="collapse" for="c-39236504">[-]</label><label class="expand" for="c-39236504">[2 more]</label></div><br/><div class="children"><div class="content">Have used SeaweedFS to store billions of thumbnails. The tooling is a bit clunky, but it mostly works. The performance is very good for small-ish objects (memory usage + latency), and latency remains consistently good into 99.9 percentiles. We had some issues with data loss and downtime, but that was mostly our own fault.</div><br/><div id="39237417" class="c"><input type="checkbox" id="c-39237417" checked=""/><div class="controls bullet"><span class="by">hardwaresofton</span><span>|</span><a href="#39236504">parent</a><span>|</span><a href="#39236664">next</a><span>|</span><label class="collapse" for="c-39237417">[-]</label><label class="expand" for="c-39237417">[1 more]</label></div><br/><div class="children"><div class="content">What issues did you run into? Not settling replication?</div><br/></div></div></div></div><div id="39236664" class="c"><input type="checkbox" id="c-39236664" checked=""/><div class="controls bullet"><span class="by">pitherpather</span><span>|</span><a href="#39236504">prev</a><span>|</span><a href="#39238601">next</a><span>|</span><label class="collapse" for="c-39236664">[-]</label><label class="expand" for="c-39236664">[2 more]</label></div><br/><div class="children"><div class="content">I am aware of some research into operating systems with a database rather than filesystem as a base layer. If SeaweedFS serves a middle-ground between databases and filesystems, could it also suggest a middle-ground in conceiving of research operating systems??</div><br/><div id="39237124" class="c"><input type="checkbox" id="c-39237124" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#39236664">parent</a><span>|</span><a href="#39238601">next</a><span>|</span><label class="collapse" for="c-39237124">[-]</label><label class="expand" for="c-39237124">[1 more]</label></div><br/><div class="children"><div class="content">SeaweedFS is a non hierarchical distributed key value store. It makes different tradeoffs to a filesystem which provides a hierarchical view of local only data. There’s some evidence to suggest that a hierarchical structuring of the data itself isn’t actually beneficial for modern systems. And you could design a system that used similar techniques to SeaweedFS to do a semi-distributed local store (ie locally stored data for fast access with offloading to cheap remote storage for durability &#x2F; infinite extensibility). And the plain KV store will likely be faster for most operations although in practice you’ll probably only see it in micro benchmarks.</div><br/></div></div></div></div><div id="39238601" class="c"><input type="checkbox" id="c-39238601" checked=""/><div class="controls bullet"><span class="by">_3u10</span><span>|</span><a href="#39236664">prev</a><span>|</span><a href="#39235846">next</a><span>|</span><label class="collapse" for="c-39238601">[-]</label><label class="expand" for="c-39238601">[1 more]</label></div><br/><div class="children"><div class="content">What’s the different between files, objects, blobs and data lake?</div><br/></div></div><div id="39235846" class="c"><input type="checkbox" id="c-39235846" checked=""/><div class="controls bullet"><span class="by">DrDroop</span><span>|</span><a href="#39238601">prev</a><span>|</span><a href="#39237375">next</a><span>|</span><label class="collapse" for="c-39235846">[-]</label><label class="expand" for="c-39235846">[2 more]</label></div><br/><div class="children"><div class="content">I there any reason to use something like this instead of S3 or similar products when you are not running your own infra?</div><br/><div id="39235890" class="c"><input type="checkbox" id="c-39235890" checked=""/><div class="controls bullet"><span class="by">throwup238</span><span>|</span><a href="#39235846">parent</a><span>|</span><a href="#39237375">next</a><span>|</span><label class="collapse" for="c-39235890">[-]</label><label class="expand" for="c-39235890">[1 more]</label></div><br/><div class="children"><div class="content">If you’re running it on AWS? Probably not.<p>Otherwise: egress costs.</div><br/></div></div></div></div><div id="39237375" class="c"><input type="checkbox" id="c-39237375" checked=""/><div class="controls bullet"><span class="by">throw0101d</span><span>|</span><a href="#39235846">prev</a><span>|</span><a href="#39236630">next</a><span>|</span><label class="collapse" for="c-39237375">[-]</label><label class="expand" for="c-39237375">[1 more]</label></div><br/><div class="children"><div class="content">Advantages over Ceph?</div><br/></div></div><div id="39236630" class="c"><input type="checkbox" id="c-39236630" checked=""/><div class="controls bullet"><span class="by">fuddle</span><span>|</span><a href="#39237375">prev</a><span>|</span><a href="#39236212">next</a><span>|</span><label class="collapse" for="c-39236630">[-]</label><label class="expand" for="c-39236630">[1 more]</label></div><br/><div class="children"><div class="content">Is it compatible with OpenStack?</div><br/></div></div><div id="39236212" class="c"><input type="checkbox" id="c-39236212" checked=""/><div class="controls bullet"><span class="by">monlockandkey</span><span>|</span><a href="#39236630">prev</a><span>|</span><label class="collapse" for="c-39236212">[-]</label><label class="expand" for="c-39236212">[1 more]</label></div><br/><div class="children"><div class="content">What would be the best S3 like  storage software with user based access and limits that I can locally host?</div><br/></div></div></div></div></div></div></div></body></html>