<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735635663378" as="style"/><link rel="stylesheet" href="styles.css?v=1735635663378"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/alurm/lua-match">I made a tiny library for switches and sum types in Lua</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>alurm</span> | <span>5 comments</span></div><br/><div><div id="42555509" class="c"><input type="checkbox" id="c-42555509" checked=""/><div class="controls bullet"><span class="by">furyofantares</span><span>|</span><a href="#42556789">next</a><span>|</span><label class="collapse" for="c-42555509">[-]</label><label class="expand" for="c-42555509">[2 more]</label></div><br/><div class="children"><div class="content">Cool.<p>I admit it takes a minute to grok, and the example of a_square being a rectangle but not a square added some unnecessary confusion.</div><br/><div id="42555801" class="c"><input type="checkbox" id="c-42555801" checked=""/><div class="controls bullet"><span class="by">alurm</span><span>|</span><a href="#42555509">parent</a><span>|</span><a href="#42556789">next</a><span>|</span><label class="collapse" for="c-42555801">[-]</label><label class="expand" for="c-42555801">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, fixed.</div><br/></div></div></div></div><div id="42556789" class="c"><input type="checkbox" id="c-42556789" checked=""/><div class="controls bullet"><span class="by">SSchick</span><span>|</span><a href="#42555509">prev</a><span>|</span><label class="collapse" for="c-42556789">[-]</label><label class="expand" for="c-42556789">[2 more]</label></div><br/><div class="children"><div class="content">Sorry but this is 12 lines of Lua code, what is the value proposition&#x2F;use case here? I&#x27;m legitimately curious.</div><br/><div id="42556931" class="c"><input type="checkbox" id="c-42556931" checked=""/><div class="controls bullet"><span class="by">alurm</span><span>|</span><a href="#42556789">parent</a><span>|</span><label class="collapse" for="c-42556931">[-]</label><label class="expand" for="c-42556931">[1 more]</label></div><br/><div class="children"><div class="content">Honestly, not much.<p>I found it nice how it&#x27;s possible to emulate switches in Lua with so little code, without the result looking too ugly. You may find this pattern useful. That&#x27;s it.<p>The catch is that, unlike with normal switches or with a series of &quot;if&quot;s, there&#x27;s a whole bunch of indirection added via functions, so it&#x27;s not very efficient.<p>Perhaps LuaJIT can inline these functions, but I haven&#x27;t tested it.</div><br/></div></div></div></div></div></div></div></div></div></body></html>