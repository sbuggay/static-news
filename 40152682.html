<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1714035655433" as="style"/><link rel="stylesheet" href="styles.css?v=1714035655433"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jakearchibald.com/2024/attributes-vs-properties/">HTML Attributes vs. DOM Properties</a> <span class="domain">(<a href="https://jakearchibald.com">jakearchibald.com</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>48 comments</span></div><br/><div><div id="40153734" class="c"><input type="checkbox" id="c-40153734" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#40154994">next</a><span>|</span><label class="collapse" for="c-40153734">[-]</label><label class="expand" for="c-40153734">[5 more]</label></div><br/><div class="children"><div class="content">Good article. There is also a nice middle ground with the data-attributes:<p>```<p>&lt;div id=&quot;myDiv&quot; data-payload=&quot;something&quot;&gt;&lt;&#x2F;div&gt;<p>```<p>These data-attributes are then automatically available to JavaScript as a read+write property:<p>```<p>document.getElementById(&#x27;myDiv&#x27;).dataset.payload == &quot;something&quot;<p>```<p>However, one has to be mindful that HTML attributes use -kebab-case- while JavaScript uses camelCase. Thus<p>```<p>&lt;div id=&quot;example-div&quot; data-my-cool-data-attribute=&quot;fun&quot;&gt;&lt;&#x2F;div&gt;<p>```<p>becomes<p>```<p>document.getElementById(&#x27;example-div&#x27;).dataset.myCoolDataAttribute == &quot;fun&quot;<p>```</div><br/><div id="40153945" class="c"><input type="checkbox" id="c-40153945" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#40153734">parent</a><span>|</span><a href="#40154994">next</a><span>|</span><label class="collapse" for="c-40153945">[-]</label><label class="expand" for="c-40153945">[4 more]</label></div><br/><div class="children"><div class="content">These are also accessible to a degree from css</div><br/><div id="40154125" class="c"><input type="checkbox" id="c-40154125" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#40153734">root</a><span>|</span><a href="#40153945">parent</a><span>|</span><a href="#40154994">next</a><span>|</span><label class="collapse" for="c-40154125">[-]</label><label class="expand" for="c-40154125">[3 more]</label></div><br/><div class="children"><div class="content">Cool! What is the syntax for that?</div><br/><div id="40154183" class="c"><input type="checkbox" id="c-40154183" checked=""/><div class="controls bullet"><span class="by">domgor</span><span>|</span><a href="#40153734">root</a><span>|</span><a href="#40154125">parent</a><span>|</span><a href="#40154466">next</a><span>|</span><label class="collapse" for="c-40154183">[-]</label><label class="expand" for="c-40154183">[1 more]</label></div><br/><div class="children"><div class="content">Attributes can be used in selectors like this `div[data-my-data=&quot;stuff&quot;]`.</div><br/></div></div><div id="40154466" class="c"><input type="checkbox" id="c-40154466" checked=""/><div class="controls bullet"><span class="by">LorenzA</span><span>|</span><a href="#40153734">root</a><span>|</span><a href="#40154125">parent</a><span>|</span><a href="#40154183">prev</a><span>|</span><a href="#40154994">next</a><span>|</span><label class="collapse" for="c-40154466">[-]</label><label class="expand" for="c-40154466">[1 more]</label></div><br/><div class="children"><div class="content">attr() can also be used to some degree <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;attr" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;attr</a></div><br/></div></div></div></div></div></div></div></div><div id="40154994" class="c"><input type="checkbox" id="c-40154994" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#40153734">prev</a><span>|</span><a href="#40154062">next</a><span>|</span><label class="collapse" for="c-40154994">[-]</label><label class="expand" for="c-40154994">[5 more]</label></div><br/><div class="children"><div class="content">And all of the things in this article represent complexity and behaviours that don&#x27;t <i>add</i> anything to anyone&#x27;s lives.<p>This behaviour is all downside and no upside.<p>The spec should have simply defined a dom object and a javascript object to be one and the same, with attributes and properties being the same thing.</div><br/><div id="40155041" class="c"><input type="checkbox" id="c-40155041" checked=""/><div class="controls bullet"><span class="by">skrebbel</span><span>|</span><a href="#40154994">parent</a><span>|</span><a href="#40155024">next</a><span>|</span><label class="collapse" for="c-40155041">[-]</label><label class="expand" for="c-40155041">[1 more]</label></div><br/><div class="children"><div class="content">I agree, except with the “simply” part. This is not simple at all, unless you also demand that every property can only ever be a string. Otherwise, you need to think of conversions (eg from and to numbers), and what about properties that can be set to objects? Or properies that don’t correspond to attributes at all?<p>I agree that any sort of convention&#x2F;rule here that’d be 100% fixed would’ve been better, but it wouldn’t be simple.</div><br/></div></div><div id="40155024" class="c"><input type="checkbox" id="c-40155024" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40154994">parent</a><span>|</span><a href="#40155041">prev</a><span>|</span><a href="#40154062">next</a><span>|</span><label class="collapse" for="c-40155024">[-]</label><label class="expand" for="c-40155024">[3 more]</label></div><br/><div class="children"><div class="content">This means you couldn&#x27;t non-string values on DOM interfaces, and that includes methods, so most of the DOM&#x27;s functionality goes out the window.</div><br/><div id="40155084" class="c"><input type="checkbox" id="c-40155084" checked=""/><div class="controls bullet"><span class="by">noam_k</span><span>|</span><a href="#40154994">root</a><span>|</span><a href="#40155024">parent</a><span>|</span><a href="#40154062">next</a><span>|</span><label class="collapse" for="c-40155084">[-]</label><label class="expand" for="c-40155084">[2 more]</label></div><br/><div class="children"><div class="content">Good point, but HTML already has a workaround by using strings:<p>&lt;div onClick=&quot;func()&quot;&gt;...&lt;&#x2F;div&gt;<p>Now, I&#x27;m not a JS developer, so my opinion shouldn&#x27;t count for much, but that looks like a much less usable standard to me.</div><br/><div id="40155089" class="c"><input type="checkbox" id="c-40155089" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40154994">root</a><span>|</span><a href="#40155084">parent</a><span>|</span><a href="#40154062">next</a><span>|</span><label class="collapse" for="c-40155089">[-]</label><label class="expand" for="c-40155089">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that works, but it requires func() to be on the global scope. It doesn&#x27;t scale as a solution.</div><br/></div></div></div></div></div></div></div></div><div id="40154062" class="c"><input type="checkbox" id="c-40154062" checked=""/><div class="controls bullet"><span class="by">clementmas</span><span>|</span><a href="#40154994">prev</a><span>|</span><a href="#40154584">next</a><span>|</span><label class="collapse" for="c-40154062">[-]</label><label class="expand" for="c-40154062">[2 more]</label></div><br/><div class="children"><div class="content">I understand the argument against updating the &lt;dialog open&gt; property but it&#x27;s useful to be able to target it with CSS</div><br/><div id="40154462" class="c"><input type="checkbox" id="c-40154462" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40154062">parent</a><span>|</span><a href="#40154584">next</a><span>|</span><label class="collapse" for="c-40154462">[-]</label><label class="expand" for="c-40154462">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s why I said it should also have a pseudo class. Similar to :checked on inputs.</div><br/></div></div></div></div><div id="40154584" class="c"><input type="checkbox" id="c-40154584" checked=""/><div class="controls bullet"><span class="by">ale42</span><span>|</span><a href="#40154062">prev</a><span>|</span><a href="#40153726">next</a><span>|</span><label class="collapse" for="c-40154584">[-]</label><label class="expand" for="c-40154584">[1 more]</label></div><br/><div class="children"><div class="content">Nice to see this well explained with examples, it can for sure benefit many people, especially that there are several details that are sometimes overlooked.</div><br/></div></div><div id="40153726" class="c"><input type="checkbox" id="c-40153726" checked=""/><div class="controls bullet"><span class="by">mg</span><span>|</span><a href="#40154584">prev</a><span>|</span><a href="#40153608">next</a><span>|</span><label class="collapse" for="c-40153726">[-]</label><label class="expand" for="c-40153726">[9 more]</label></div><br/><div class="children"><div class="content">The gist of it seems to be that attributes sometimes behave like properties.<p>Setting 3 attributes on an html element:<p><pre><code>    &lt;input id=good x=morning value=hn&gt;
</code></pre>
Then logging 3 properties with the same names:<p><pre><code>    &lt;script&gt;
        e = document.querySelector(&#x27;input&#x27;);
        console.log(e.id); 
        console.log(e.x);
        console.log(e.value);
    &lt;&#x2F;script&gt;
</code></pre>
Will output<p><pre><code>    good
    undefined
    hn
</code></pre>
I&#x27;m not sure why. The article says it&#x27;s because &quot;Element has an id getter &amp; setter that &#x27;reflects&#x27; the id attribute&quot;. Which sounds logical. But MDN does not mention a getter function for &quot;value&quot; for example:<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;input#value" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;in...</a><p>It even calls &quot;value&quot; a property AND an attribute: &quot;...access the respective HTMLInputElement object&#x27;s value property. The value attribute is always...&quot;<p>And HTMLInputElement lists &quot;value&quot; under &quot;properties&quot;:<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;HTMLInputElement" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;HTMLInputEl...</a><p>So maybe it&#x27;s not as easy. Maybe &lt;element some=thing&gt; sometimes sets a property and sometimes sets an attribute.</div><br/><div id="40153840" class="c"><input type="checkbox" id="c-40153840" checked=""/><div class="controls bullet"><span class="by">LegionMammal978</span><span>|</span><a href="#40153726">parent</a><span>|</span><a href="#40153811">next</a><span>|</span><label class="collapse" for="c-40153840">[-]</label><label class="expand" for="c-40153840">[2 more]</label></div><br/><div class="children"><div class="content">There are two different objects here. In HTML, you have an &lt;input&gt; element with a &quot;value&quot; attribute [0]. An &lt;input&gt; element also has an <i>internal value</i>, which is initialized using the &quot;value&quot; attribute.<p>In JavaScript, you have an HTMLInputElement with a &quot;value&quot; property [1]. Getting the &quot;value&quot; property of an HTMLInputElement reads from its &lt;input&gt; element&#x27;s internal value, and setting the &quot;value&quot; property of an HTMLInputElement writes to its &lt;input&gt; element&#x27;s internal value. (The &quot;value&quot; attribute remains unchanged, since it is only used for initialization.) The DOM object is just modeling the actual element.<p>In general, the property on the DOM object will not exist unless it is specifically documented to, such as &quot;id&quot; and &quot;value&quot;.<p>[0] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;input#value" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;in...</a><p>[1] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;HTMLInputElement#value" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;HTMLInputEl...</a></div><br/></div></div><div id="40153811" class="c"><input type="checkbox" id="c-40153811" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#40153726">parent</a><span>|</span><a href="#40153840">prev</a><span>|</span><a href="#40153807">next</a><span>|</span><label class="collapse" for="c-40153811">[-]</label><label class="expand" for="c-40153811">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a matter of getters and setters being defined for well-known attributes on the DOM element indeed. This is why it doesn&#x27;t work of &#x27;x&#x27;, the &#x27;x&#x27; HTML attribute doesn&#x27;t have a getter and a setter defined on the &#x27;x&#x27; property of the DOM element (You can try defining custom getters and setters with defineProperty that call getAttribute and setAttribute if you want to experiment - I haven&#x27;t experimented but I expect this to work and I think that&#x27;s how predefined properties work).<p>For &#x27;value&#x27;, MDN says:<p>&gt; it can be altered or retrieved at any time using JavaScript to access the respective HTMLInputElement object&#x27;s value property<p>While it doesn&#x27;t say it is implemented using a setter and a getter (I suspect because it doesn&#x27;t need to go into such details that are confusing if you don&#x27;t know this mechanism), I think this is what it implies. I believe this can be found in the spec of the Javascript implementation of DOM.<p>So it is as &quot;easy&quot; as it looks (note my phrasing totally allows you to find it looks difficult): for well-known HTML attributes, there are usually getters and setters for the corresponding DOM property. Usually, it&#x27;s the same string, sometimes there&#x27;s a conversion, for instance with booleans (for the open and the hidden attributes).</div><br/><div id="40153855" class="c"><input type="checkbox" id="c-40153855" checked=""/><div class="controls bullet"><span class="by">mg</span><span>|</span><a href="#40153726">root</a><span>|</span><a href="#40153811">parent</a><span>|</span><a href="#40153807">next</a><span>|</span><label class="collapse" for="c-40153855">[-]</label><label class="expand" for="c-40153855">[4 more]</label></div><br/><div class="children"><div class="content">So is &quot;id&quot; stored as a property or as an attribute?</div><br/><div id="40154556" class="c"><input type="checkbox" id="c-40154556" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40153726">root</a><span>|</span><a href="#40153855">parent</a><span>|</span><a href="#40154087">next</a><span>|</span><label class="collapse" for="c-40154556">[-]</label><label class="expand" for="c-40154556">[1 more]</label></div><br/><div class="children"><div class="content">An attribute. From <a href="https:&#x2F;&#x2F;jakearchibald.com&#x2F;2024&#x2F;attributes-vs-properties&#x2F;#reflection" rel="nofollow">https:&#x2F;&#x2F;jakearchibald.com&#x2F;2024&#x2F;attributes-vs-properties&#x2F;#ref...</a><p>&gt; When a property reflects an attribute, the attribute is the source of the data. When you set the property, it&#x27;s updating the attribute. When you read from the property, it&#x27;s reading the attribute.<p>value is different. From <a href="https:&#x2F;&#x2F;jakearchibald.com&#x2F;2024&#x2F;attributes-vs-properties&#x2F;#value-on-input-fields" rel="nofollow">https:&#x2F;&#x2F;jakearchibald.com&#x2F;2024&#x2F;attributes-vs-properties&#x2F;#val...</a><p>&gt; the value property does not reflect the value attribute. Instead, the defaultValue property reflects the value attribute.<p>Follow the link for the full explanation.</div><br/></div></div><div id="40154087" class="c"><input type="checkbox" id="c-40154087" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#40153726">root</a><span>|</span><a href="#40153855">parent</a><span>|</span><a href="#40154556">prev</a><span>|</span><a href="#40153916">next</a><span>|</span><label class="collapse" for="c-40154087">[-]</label><label class="expand" for="c-40154087">[1 more]</label></div><br/><div class="children"><div class="content">It might depends on the implementation, and I&#x27;ve haven&#x27;t dug into actual implementations but you pretty much need an attribute mapping (from names to values) for many things and that&#x27;s how I would store it.<p>There might be additional optimizations or storage features for certain attributes. For example for id, since you mention this attribute specifically, you pretty much want document.getElementById() to be fast, you probably don&#x27;t want it to traverse the whole DOM tree each time is called, so there&#x27;s likely an additional mapping from ids to DOM elements stored somewhere per document, that is to update each time the id attribute is changed (though the spec [1] does appear to say anything about the speed characteristics of getElementById; in practice I personally certainly assume it&#x27;s quasi instantaneous when using it).<p>For other attributes, more generally, you need to store the attribute value, not the property value (which you can cache, though), because the property value can be coerced. For instance, hidden=&quot;hidden&quot; or hidden=&quot;HIDDEN&quot; both lead to .hidden == true. But you need the exact value for getAttribute or for HTML serialization.<p>[1] <a href="https:&#x2F;&#x2F;dom.spec.whatwg.org&#x2F;#ref-for-dom-nonelementparentnode-getelementbyid%E2%91%A1" rel="nofollow">https:&#x2F;&#x2F;dom.spec.whatwg.org&#x2F;#ref-for-dom-nonelementparentnod...</a></div><br/></div></div><div id="40153916" class="c"><input type="checkbox" id="c-40153916" checked=""/><div class="controls bullet"><span class="by">justinator</span><span>|</span><a href="#40153726">root</a><span>|</span><a href="#40153855">parent</a><span>|</span><a href="#40154087">prev</a><span>|</span><a href="#40153807">next</a><span>|</span><label class="collapse" for="c-40153916">[-]</label><label class="expand" for="c-40153916">[1 more]</label></div><br/><div class="children"><div class="content">Yes.</div><br/></div></div></div></div></div></div><div id="40153807" class="c"><input type="checkbox" id="c-40153807" checked=""/><div class="controls bullet"><span class="by">lgrapenthin</span><span>|</span><a href="#40153726">parent</a><span>|</span><a href="#40153811">prev</a><span>|</span><a href="#40153608">next</a><span>|</span><label class="collapse" for="c-40153807">[-]</label><label class="expand" for="c-40153807">[1 more]</label></div><br/><div class="children"><div class="content">value is a property and an attribute.  Your x is only an attribute.</div><br/></div></div></div></div><div id="40153608" class="c"><input type="checkbox" id="c-40153608" checked=""/><div class="controls bullet"><span class="by">Repulsion9513</span><span>|</span><a href="#40153726">prev</a><span>|</span><a href="#40153859">next</a><span>|</span><label class="collapse" for="c-40153608">[-]</label><label class="expand" for="c-40153608">[11 more]</label></div><br/><div class="children"><div class="content">Why would you ever want to write data on an element as a property instead of an attribute? Yikes.</div><br/><div id="40153686" class="c"><input type="checkbox" id="c-40153686" checked=""/><div class="controls bullet"><span class="by">kcrwfrd_</span><span>|</span><a href="#40153608">parent</a><span>|</span><a href="#40153744">next</a><span>|</span><label class="collapse" for="c-40153686">[-]</label><label class="expand" for="c-40153686">[1 more]</label></div><br/><div class="children"><div class="content">When you don’t want it coerced into a string?</div><br/></div></div><div id="40153744" class="c"><input type="checkbox" id="c-40153744" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#40153608">parent</a><span>|</span><a href="#40153686">prev</a><span>|</span><a href="#40153843">next</a><span>|</span><label class="collapse" for="c-40153744">[-]</label><label class="expand" for="c-40153744">[1 more]</label></div><br/><div class="children"><div class="content">Your sentence can be understood in two ways, I&#x27;ll answer the question &quot;Why use domElement.attrname instead of the corresponding domElement.setAttribute(&#x27;attrname&#x27;) and domElement.getAttribute(&#x27;attrname&#x27;)?&quot;.<p>It can look cleaner (matter of taste). It looks like a native JS assignment, and it&#x27;s shorter.<p>For open and hidden, it&#x27;s way more intuitive and convenient to set and get booleans than testing the <i>existence of the corresponding HTML attribute</i> (Still not a fan of this thing, years after having learned this).<p>(but maybe you meant &quot;Why use domElement.randomprop instead of something like domElement.dataset.randomprop&quot;?)</div><br/></div></div><div id="40153843" class="c"><input type="checkbox" id="c-40153843" checked=""/><div class="controls bullet"><span class="by">sir_pepe</span><span>|</span><a href="#40153608">parent</a><span>|</span><a href="#40153744">prev</a><span>|</span><a href="#40153970">next</a><span>|</span><label class="collapse" for="c-40153843">[-]</label><label class="expand" for="c-40153843">[5 more]</label></div><br/><div class="children"><div class="content">When you want to pass an object to a web component without going through JSON or some other stringification procedure.</div><br/><div id="40154352" class="c"><input type="checkbox" id="c-40154352" checked=""/><div class="controls bullet"><span class="by">politelemon</span><span>|</span><a href="#40153608">root</a><span>|</span><a href="#40153843">parent</a><span>|</span><a href="#40154606">next</a><span>|</span><label class="collapse" for="c-40154352">[-]</label><label class="expand" for="c-40154352">[3 more]</label></div><br/><div class="children"><div class="content">How do you read it in the web component afterwards? Passing it via property sounds quite useful.</div><br/><div id="40154950" class="c"><input type="checkbox" id="c-40154950" checked=""/><div class="controls bullet"><span class="by">throwitaway1123</span><span>|</span><a href="#40153608">root</a><span>|</span><a href="#40154352">parent</a><span>|</span><a href="#40154606">next</a><span>|</span><label class="collapse" for="c-40154950">[-]</label><label class="expand" for="c-40154950">[2 more]</label></div><br/><div class="children"><div class="content">Web components are implemented using custom elements which are just plain JS classes that extend the HTMLElement class, so you would access the property the same way you would access a property in a normal JS class.</div><br/><div id="40155100" class="c"><input type="checkbox" id="c-40155100" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40153608">root</a><span>|</span><a href="#40154950">parent</a><span>|</span><a href="#40154606">next</a><span>|</span><label class="collapse" for="c-40155100">[-]</label><label class="expand" for="c-40155100">[1 more]</label></div><br/><div class="children"><div class="content">The author of the thread is arguing against properties.</div><br/></div></div></div></div></div></div><div id="40154606" class="c"><input type="checkbox" id="c-40154606" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40153608">root</a><span>|</span><a href="#40153843">parent</a><span>|</span><a href="#40154352">prev</a><span>|</span><a href="#40153970">next</a><span>|</span><label class="collapse" for="c-40154606">[-]</label><label class="expand" for="c-40154606">[1 more]</label></div><br/><div class="children"><div class="content">Event listeners? Image data?</div><br/></div></div></div></div><div id="40153970" class="c"><input type="checkbox" id="c-40153970" checked=""/><div class="controls bullet"><span class="by">shunia_huang</span><span>|</span><a href="#40153608">parent</a><span>|</span><a href="#40153843">prev</a><span>|</span><a href="#40153637">next</a><span>|</span><label class="collapse" for="c-40153970">[-]</label><label class="expand" for="c-40153970">[1 more]</label></div><br/><div class="children"><div class="content">I believe it&#x27;s quite useful for framework developers for not required to build an abstract layer upon the already-exist-and-well-designed DOM layer to manage the state transitions or event handlings or something similar, you can&#x27;t do too much if you are constrained to use only string values to encode&#x2F;decode the inner state&#x2F;data on the DOM.</div><br/></div></div><div id="40153730" class="c"><input type="checkbox" id="c-40153730" checked=""/><div class="controls bullet"><span class="by">rado</span><span>|</span><a href="#40153608">parent</a><span>|</span><a href="#40153637">prev</a><span>|</span><a href="#40153859">next</a><span>|</span><label class="collapse" for="c-40153730">[-]</label><label class="expand" for="c-40153730">[1 more]</label></div><br/><div class="children"><div class="content">When there is no need to appear in the HTML</div><br/></div></div></div></div><div id="40153859" class="c"><input type="checkbox" id="c-40153859" checked=""/><div class="controls bullet"><span class="by">grose</span><span>|</span><a href="#40153608">prev</a><span>|</span><a href="#40153727">next</a><span>|</span><label class="collapse" for="c-40153859">[-]</label><label class="expand" for="c-40153859">[3 more]</label></div><br/><div class="children"><div class="content">Great article. Maybe a hot take but I think it&#x27;s a good thing that dialog and details modify the DOM. It allows for UI state to be serialized and stored in a native way. I think input.value should work the same way too (although it&#x27;s probably too late for that). Consider how some browsers will remember what you input into forms when you hit the back button: I think representing this as a cached version of the modified DOM makes a lot more sense than whatever magic browsers currently use to remember it. Many CSS pseudoclasses like :checked feel like a pre-attribute-selector bandaid.</div><br/><div id="40154604" class="c"><input type="checkbox" id="c-40154604" checked=""/><div class="controls bullet"><span class="by">shiomiru</span><span>|</span><a href="#40153859">parent</a><span>|</span><a href="#40154598">next</a><span>|</span><label class="collapse" for="c-40154604">[-]</label><label class="expand" for="c-40154604">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Consider how some browsers will remember what you input into forms when you hit
the back button: I think representing this as a cached version of the modified
DOM makes a lot more sense than whatever magic browsers currently use to
remember it.<p>That would not work either:<p>&gt; A control&#x27;s value is its internal state. As such, it might not match the
user&#x27;s current input.<p>&gt; For instance, if a user enters the word &quot;three&quot; into a numeric field that
expects digits, the user&#x27;s input would be the string &quot;three&quot; but the control&#x27;s
value would remain unchanged. Or, if a user enters the email address
&quot; awesome@example.com&quot; (with leading whitespace) into an email field, the
user&#x27;s input would be the string &quot; awesome@example.com&quot; but the browser&#x27;s UI
for email fields might translate that into a value of &quot;awesome@example.com&quot;
(without the leading whitespace).<p>From the standard: <a href="https:&#x2F;&#x2F;html.spec.whatwg.org&#x2F;multipage&#x2F;form-control-infrastructure.html#a-form-control&#x27;s-value" rel="nofollow">https:&#x2F;&#x2F;html.spec.whatwg.org&#x2F;multipage&#x2F;form-control-infrastr...</a></div><br/></div></div><div id="40154598" class="c"><input type="checkbox" id="c-40154598" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40153859">parent</a><span>|</span><a href="#40154604">prev</a><span>|</span><a href="#40153727">next</a><span>|</span><label class="collapse" for="c-40154598">[-]</label><label class="expand" for="c-40154598">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I get your point. On the other hand, I prefer the serialisation of the light DOM to reflect only changes I&#x27;ve made as the author.<p>The serialisation isn&#x27;t expected to represent page state. Imagine how that would work with &lt;canvas&gt;, or even things like event listeners.</div><br/></div></div></div></div><div id="40153727" class="c"><input type="checkbox" id="c-40153727" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#40153859">prev</a><span>|</span><a href="#40153940">next</a><span>|</span><label class="collapse" for="c-40153727">[-]</label><label class="expand" for="c-40153727">[1 more]</label></div><br/><div class="children"><div class="content">Interesting article. I had built the right intuitions empirically (except for frameworks, which I don&#x27;t practice much) but it&#x27;s nice to read it.<p>&gt; The funny thing is, React popularised using className instead of class in what looks like an attribute. But, even though you&#x27;re using the property name rather than the attribute name, React will set the class attribute under the hood.<p>Yeah, I never understood why they did this. className in their XML-like syntax is ugly and it doesn&#x27;t seem like they needed to do this. They could have gone with class. They are parsing this with their custom JSX parser, and these things are not JS identifiers. IIRC you need to use {accolades} to put JS expressions (objects) there.</div><br/></div></div><div id="40153940" class="c"><input type="checkbox" id="c-40153940" checked=""/><div class="controls bullet"><span class="by">aixpert</span><span>|</span><a href="#40153727">prev</a><span>|</span><a href="#40153827">next</a><span>|</span><label class="collapse" for="c-40153940">[-]</label><label class="expand" for="c-40153940">[2 more]</label></div><br/><div class="children"><div class="content">so always use getProperty instead of getAttribute to avoid surprises?</div><br/><div id="40154533" class="c"><input type="checkbox" id="c-40154533" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40153940">parent</a><span>|</span><a href="#40153827">next</a><span>|</span><label class="collapse" for="c-40154533">[-]</label><label class="expand" for="c-40154533">[1 more]</label></div><br/><div class="children"><div class="content">Nope, just el.propertyName. el.getProperty isn&#x27;t a thing.</div><br/></div></div></div></div><div id="40153827" class="c"><input type="checkbox" id="c-40153827" checked=""/><div class="controls bullet"><span class="by">fregante</span><span>|</span><a href="#40153940">prev</a><span>|</span><a href="#40153422">next</a><span>|</span><label class="collapse" for="c-40153827">[-]</label><label class="expand" for="c-40153827">[1 more]</label></div><br/><div class="children"><div class="content">This is a good read for JS developers.<p>TL;DR: they’re not the same thing. Only <i>sometimes</i> they match (e.g. `id`) but often they don’t.<p>Something fun: JSX does not use attributes, even if they look like it. That’s why they have unusual naming&#x2F;formatting (`htmlFor` and `className`)</div><br/></div></div><div id="40153920" class="c"><input type="checkbox" id="c-40153920" checked=""/><div class="controls bullet"><span class="by">rmetzler</span><span>|</span><a href="#40153422">prev</a><span>|</span><label class="collapse" for="c-40153920">[-]</label><label class="expand" for="c-40153920">[2 more]</label></div><br/><div class="children"><div class="content">LOL, I feel like the author mix up the two things even in the title. There are HTML attributes, there is the DOM API (which for example exists also in other languages, but not always refers to HTML but mostly XML instead) and there are JavaScript Object properties. And because the DOM api uses JavaScript objects you can access properties. But only attributes are serialized &#x2F; deserialised. And some frameworks blur this, so you get and set both as a „convenience“.</div><br/><div id="40154578" class="c"><input type="checkbox" id="c-40154578" checked=""/><div class="controls bullet"><span class="by">jaffathecake</span><span>|</span><a href="#40153920">parent</a><span>|</span><label class="collapse" for="c-40154578">[-]</label><label class="expand" for="c-40154578">[1 more]</label></div><br/><div class="children"><div class="content">I know they&#x27;re two different things. I wouldn&#x27;t bother writing an article comparing two things that are the same, even though it wouldn&#x27;t take long.</div><br/></div></div></div></div></div></div></div></div></div></body></html>