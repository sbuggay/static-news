<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1691053252956" as="style"/><link rel="stylesheet" href="styles.css?v=1691053252956"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://praveshkoirala.com/2023/06/13/a-non-mathematical-introduction-to-kalman-filters-for-programmers/">A non-mathematical introduction to Kalman filters for programmers</a> <span class="domain">(<a href="https://praveshkoirala.com">praveshkoirala.com</a>)</span></div><div class="subtext"><span>pkoird</span> | <span>89 comments</span></div><br/><div><div id="36983151" class="c"><input type="checkbox" id="c-36983151" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#36983195">next</a><span>|</span><label class="collapse" for="c-36983151">[-]</label><label class="expand" for="c-36983151">[1 more]</label></div><br/><div class="children"><div class="content">My experience with kalman filters is that it is important to reflect that what you are measuring (the output) actually has one true value, and not a range of values.<p>Determining a position of something has one true value (unless you go into quantum mechanics) while many things may not, such as hardness of a piece of wood, color of a car temperature in a lake etc. All of these may vary depending on the position you measure.<p>You may be fooled by thinking that since the kalman filter outputs a value and an uncertainty that it actually incorporates the uncertainty in the output parameter. But it is not the same.<p>An example. If you have a measurement between 0 and 1 that is 0.2. And then get another measurement that is 0.8. The filter will be <i>more</i> certain that the output is 0.5, than with only one measuerement of 0.2. Instead of widening the uncertainty as the intuition may tell you.</div><br/></div></div><div id="36983195" class="c"><input type="checkbox" id="c-36983195" checked=""/><div class="controls bullet"><span class="by">Chriswite</span><span>|</span><a href="#36983151">prev</a><span>|</span><a href="#36973925">next</a><span>|</span><label class="collapse" for="c-36983195">[-]</label><label class="expand" for="c-36983195">[1 more]</label></div><br/><div class="children"><div class="content">I meant a genuine Hack Pro who help me to recover my stolen money and he also help to recover Bitcoin, track any device or any lost funds, track your partner and get their location, You can also contact him for other Cyber Attacks And Hijackings,facebook recovering, 
RECOVERY OF LOST FUNDS ON ANY CRYPTO WALLET(ATOMIC WALLET, TRUST WALLET, META MASK WALLET, EXODUS WALLET, COIN BASE, BLOCKCHAIN, BINANCE, ETC)
RECOVERY OF LOST FUNDS ON BINARY OPTIONS * Credit Cards Loading (USA Only) * BANK Account Loading (USA Banks Only) * MOBILE SPY * MOBILE MESSAGE HACK (SNAPCHAT, INSTAGRAM, SMS, VOICEMAIL CALL RETRIEVE, SPY ANY CHAT APP, CLONING A MOBILE AND HAVE ACCESS TO SMS AND READ IT ANYTIME )
TRACK YOUR PARTNER AND GET THEIR LOCATION WITHOUT THEM KNOWING, he can do All Hacking Services. You can also contact him via: Whatsapp: (kelvinwizard51914@gmail.com&#x2F;Whatsapp :(‪+27 76 201 4243‬) help yourself from here and tell  friends about this good hacker</div><br/></div></div><div id="36973925" class="c"><input type="checkbox" id="c-36973925" checked=""/><div class="controls bullet"><span class="by">akhayam</span><span>|</span><a href="#36983195">prev</a><span>|</span><a href="#36972626">next</a><span>|</span><label class="collapse" for="c-36973925">[-]</label><label class="expand" for="c-36973925">[15 more]</label></div><br/><div class="children"><div class="content">Wow... you left me wondering why signal processing teachers in college don&#x27;t teach Kalman Filters with this simplicity. I know mathematical concepts are best taught mathematically, but that does led to information loss for those who don&#x27;t have the background requisites.<p>I used to teach Discrete Cosine Transform and Wavelet Transform through images alone and would always find this teaching method of &quot;intuition before rigor&quot; work better than the other way around.</div><br/><div id="36978792" class="c"><input type="checkbox" id="c-36978792" checked=""/><div class="controls bullet"><span class="by">anthomtb</span><span>|</span><a href="#36973925">parent</a><span>|</span><a href="#36973973">next</a><span>|</span><label class="collapse" for="c-36978792">[-]</label><label class="expand" for="c-36978792">[7 more]</label></div><br/><div class="children"><div class="content">&gt; why signal processing teachers in college don&#x27;t teach Kalman Filters with this simplicity<p>&gt; those who don&#x27;t have the background requisites<p>Any college student studying signal processing <i>should</i> have the background prerequisites.<p>That said, it is easy to forget fundamentals. I have a couple theories for why professors don&#x27;t use the intuition-before-rigor approach.<p>1) The professors themselves do not have great intuition but rather deep expertise in manipulating numbers and equations. Unlikely theory, but possible.<p>2) Professors do not generally get rewarded for their teaching prowess. And breaking mathematical concepts down to an intuitive level requires quite a lot of work and time better spent writing grant proposals or bugging your doctoral students. Cynical theory but probably true in many cases.<p>3) Once you understand the math, it is so much easier than the intuitive approach that the lazy human brain will not allow you to go back to &quot;the hard way&quot;. I like to think this is the primary driver of skipping an intuitive teaching approach.<p>I would say #3 applies much more broadly than mathematical education. It is the difference between expertise and pedagogy. That is to say being an expert in a thing is a completely different skill than teaching others to become competent at the thing. Say you want to improve your golf game with better drives - should you learn from the guy at the range who hits the ball the farthest? Probably not. You should figure out the guy who has improved his drive the most. Eg, the guy who started out driving 100 yards and now consistently hits 300 is better to learn from than the guy who is hitting 350. (Credit Tim Ferriss for driving this concept into my head).</div><br/><div id="36978937" class="c"><input type="checkbox" id="c-36978937" checked=""/><div class="controls bullet"><span class="by">sn41</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36978792">parent</a><span>|</span><a href="#36980966">next</a><span>|</span><label class="collapse" for="c-36978937">[-]</label><label class="expand" for="c-36978937">[5 more]</label></div><br/><div class="children"><div class="content">Academic here. In my experience, many experts in any given area have massive amounts of intuition about their own area. But keep in mind that we do have to end up teaching outside the area. So it&#x27;s safer to teach  technicalities rather than a (most probably incorrect) intuition.<p>Some other issues:<p>- in many subjects, it is dangerous to work with the wrong intuition - they not only do not give a clear picture, they actually give you the false picture.<p>- even though math gets a bad rep, I think the only reason we are able to work with high-dimensional matrices and vectors is because we let go of geometric imagery at some point. Most people, including myself, have a hard time visualizing even 4 dimensions.</div><br/><div id="36980477" class="c"><input type="checkbox" id="c-36980477" checked=""/><div class="controls bullet"><span class="by">mlsu</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36978937">parent</a><span>|</span><a href="#36979666">next</a><span>|</span><label class="collapse" for="c-36980477">[-]</label><label class="expand" for="c-36980477">[2 more]</label></div><br/><div class="children"><div class="content">When I was a couple years into my actual math education (about midway through vector calculus) I had a crazy moment when I was really struggling to understand some problem that required more manipulation than the 3 dimensional problems I&#x27;d been used to up until that point. My roommate was a postdoc and he told me the simplest, dumbest thing, which was, roughly &quot;the math is a separate thing than the picture. You have to actually think about the math&quot;<p>That one sentence blew my mind. Until then I had relied almost entirely on the geometric representation of a concept or a problem, and never knew to reach for the the actual concept.<p>I think about 75% of people check out of math completely super early; of the 25% that remain, 75% of those never quite &quot;get&quot; that math is a separate thing from graphs and charts. The rest are usually successful scientists, engineers, and similarly technical folk. (I won&#x27;t venture my opinion on the difference between mere number manipulators vs. actual prov-ers of mathematics, but I think it&#x27;s probably a similar ratio)</div><br/><div id="36982964" class="c"><input type="checkbox" id="c-36982964" checked=""/><div class="controls bullet"><span class="by">tremon</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36980477">parent</a><span>|</span><a href="#36979666">next</a><span>|</span><label class="collapse" for="c-36982964">[-]</label><label class="expand" for="c-36982964">[1 more]</label></div><br/><div class="children"><div class="content">Same here, but not with calculus and geometry. My problem was with statistics: I had always been able to solve high-school level problems by intuition alone, and never needed the theory. That is, until 3rd-year university, when the problems became too complex to grasp by intuition alone. I had a really hard time that year, because I basically had to re-learn 4 years of foundational theory.<p>So I&#x27;d say that teaching intuition first is a dangerous path: students may fail to fully understand the theory if they can get by on intuition. And intuition is not a solid foundation to build on.</div><br/></div></div></div></div><div id="36979666" class="c"><input type="checkbox" id="c-36979666" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36978937">parent</a><span>|</span><a href="#36980477">prev</a><span>|</span><a href="#36982392">next</a><span>|</span><label class="collapse" for="c-36979666">[-]</label><label class="expand" for="c-36979666">[1 more]</label></div><br/><div class="children"><div class="content">For me, the last point depends on the concept.<p>Sometimes I start with a geometric idea in 2D and see if it generalizes.<p>Other times I think of a 2D caricature that encapsulates some important operation but doesn’t necessarily relate to the actual idea. It&#x27;s more like a heuristic visual than anything. A simple example might be if I’m thinking about projecting onto a linear subspace. The subspace is some convex blob in the plane in my mind’s eye, even though that’s not a linear subspace, it’s easier for me to conjure and the important part, the projection, remains intact. If the linear part was also important then I’d probably make it a line but I can’t think of a time I’ve done that.<p>Some concepts only made sense to me when, as you said, I stopped trying to visualize them. The most notable one to me was quaternions, because those are 4D, but even complex numbers only made sense when I stopped looking for physical intuition and realized they’re just a description of certain operations for points in the plane.<p>Now, I can suffer through a lot of abstract nonsense, but the worst classes I took were heavy on the abstract nonsense and light on answers to “why do we need all this machinery at all?” If I couldn’t imagine an application I cared about, I had a hard time figuring out what were the important concepts and how to fit them together.</div><br/></div></div><div id="36982392" class="c"><input type="checkbox" id="c-36982392" checked=""/><div class="controls bullet"><span class="by">wiz21c</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36978937">parent</a><span>|</span><a href="#36979666">prev</a><span>|</span><a href="#36980966">next</a><span>|</span><label class="collapse" for="c-36982392">[-]</label><label class="expand" for="c-36982392">[1 more]</label></div><br/><div class="children"><div class="content">Why not go with 3 steps ?<p>1&#x2F; Provide intuition<p>2&#x2F; Show the math<p>3&#x2F; Show how maths prevent the corner case of the intuition<p>When I study maths alone (even after a course), it&#x27;s more like:<p>1&#x2F; Understand the technicalities of maths (very tedious because many teacher &quot;leaves the details out&quot;), without bothering much about the subject.<p>2&#x2F; After that huge effort, I try to play with the math to get an intuition of what it does. An intuition == a way to explain what it does in layman&#x27;s terms, with drawings, physical&#x2F;real examples, etc.<p>3&#x2F; Revisit the maths, and especially their corner cases (what happens if this denominator goes to zero, what if I cannot invert that matrix ?) and confront that to my intuition. The maths are the safest way to make sure you get your intuition right.</div><br/></div></div></div></div><div id="36980966" class="c"><input type="checkbox" id="c-36980966" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36978792">parent</a><span>|</span><a href="#36978937">prev</a><span>|</span><a href="#36973973">next</a><span>|</span><label class="collapse" for="c-36980966">[-]</label><label class="expand" for="c-36980966">[1 more]</label></div><br/><div class="children"><div class="content">&gt;3) Once you understand the math, it is so much easier than the intuitive approach that the lazy human brain will not allow you to go back to &quot;the hard way&quot;. I like to think this is the primary driver of skipping an intuitive teaching approach.<p>I found that developing a intuitive understanding was required for me to remember something. I could then remember the Math. The Math is nice to give a mathematical understanding but I found the intuitive knowledge much more important.</div><br/></div></div></div></div><div id="36973973" class="c"><input type="checkbox" id="c-36973973" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#36973925">parent</a><span>|</span><a href="#36978792">prev</a><span>|</span><a href="#36974297">next</a><span>|</span><label class="collapse" for="c-36973973">[-]</label><label class="expand" for="c-36973973">[6 more]</label></div><br/><div class="children"><div class="content">Totally agreed. One of the favorite professors in college would introduce a theorem, and instead of jumping into proving it, would first show us useful applications of the theorem, and then prove it afterwards.</div><br/><div id="36977396" class="c"><input type="checkbox" id="c-36977396" checked=""/><div class="controls bullet"><span class="by">FractalHQ</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36973973">parent</a><span>|</span><a href="#36975138">next</a><span>|</span><label class="collapse" for="c-36977396">[-]</label><label class="expand" for="c-36977396">[1 more]</label></div><br/><div class="children"><div class="content">I can _only_ learn top-down.  Facts without context are much less interesting and much more difficult to internalize.  The incentive to understand, inspired by said context, is a prerequisite to mustering the motivation needed to to truly learn with sustained focus without losing interest.  My ADHD brain will stop cooperating otherwise, and I’ll find myself daydreaming against my will!</div><br/></div></div><div id="36975138" class="c"><input type="checkbox" id="c-36975138" checked=""/><div class="controls bullet"><span class="by">stjohnswarts</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36973973">parent</a><span>|</span><a href="#36977396">prev</a><span>|</span><a href="#36974755">next</a><span>|</span><label class="collapse" for="c-36975138">[-]</label><label class="expand" for="c-36975138">[3 more]</label></div><br/><div class="children"><div class="content">This is exactly what I did as a grad student when I taught classes for my prof. She preferred bottom up and I preferred top down. I wanted to give people a reason for learning what they were getting ready to learn rather than &quot;let&#x27;s start from first principles&quot; that almost all my professors wanted to do.</div><br/><div id="36975589" class="c"><input type="checkbox" id="c-36975589" checked=""/><div class="controls bullet"><span class="by">p1necone</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36975138">parent</a><span>|</span><a href="#36974755">next</a><span>|</span><label class="collapse" for="c-36975589">[-]</label><label class="expand" for="c-36975589">[2 more]</label></div><br/><div class="children"><div class="content">I prefer the exact same approach for learning to play board games too. Your 20 minutes of rules explanation will go completely over my head unless you start with &quot;the goal&#x2F;win condition of the game is to get more points&#x2F;reach the end faster&#x2F;collect all the macguffins&quot;.</div><br/><div id="36980167" class="c"><input type="checkbox" id="c-36980167" checked=""/><div class="controls bullet"><span class="by">djmips</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36975589">parent</a><span>|</span><a href="#36974755">next</a><span>|</span><label class="collapse" for="c-36980167">[-]</label><label class="expand" for="c-36980167">[1 more]</label></div><br/><div class="children"><div class="content">yup. I have the same filter.</div><br/></div></div></div></div></div></div><div id="36974755" class="c"><input type="checkbox" id="c-36974755" checked=""/><div class="controls bullet"><span class="by">_a_a_a_</span><span>|</span><a href="#36973925">root</a><span>|</span><a href="#36973973">parent</a><span>|</span><a href="#36975138">prev</a><span>|</span><a href="#36974297">next</a><span>|</span><label class="collapse" for="c-36974755">[-]</label><label class="expand" for="c-36974755">[1 more]</label></div><br/><div class="children"><div class="content">Aw god, Yes, Yes, Yes! I understand applications not abstractions so show me it&#x27;s value and I&#x27;ll understand it immediately, or give me a massive motivation to understand it if I don&#x27;t. If they&#x27;d taken that approach at my schools and university I&#x27;d have been so much better off.</div><br/></div></div></div></div></div></div><div id="36972626" class="c"><input type="checkbox" id="c-36972626" checked=""/><div class="controls bullet"><span class="by">bachmeier</span><span>|</span><a href="#36973925">prev</a><span>|</span><a href="#36981913">next</a><span>|</span><label class="collapse" for="c-36972626">[-]</label><label class="expand" for="c-36972626">[3 more]</label></div><br/><div class="children"><div class="content">Generic warning for anyone implementing the Kalman filter. Read the first few pages of <a href="https:&#x2F;&#x2F;www.stat.berkeley.edu&#x2F;~brill&#x2F;Stat248&#x2F;kalmanfiltering.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.stat.berkeley.edu&#x2F;~brill&#x2F;Stat248&#x2F;kalmanfiltering...</a> for ways to handle numerical instability.</div><br/><div id="36975713" class="c"><input type="checkbox" id="c-36975713" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972626">parent</a><span>|</span><a href="#36973715">next</a><span>|</span><label class="collapse" for="c-36975713">[-]</label><label class="expand" for="c-36975713">[1 more]</label></div><br/><div class="children"><div class="content">That paper contains an interesting reference to an exact generalization of the KF to a flat initial condition. I hadn’t seen that before and solves numerical issues that come from the common practice of just picking a large initial covariance. In practice, I haven’t seen any notable numerical artifacts from doing that, but it’s quite an appealing fix!</div><br/></div></div><div id="36973715" class="c"><input type="checkbox" id="c-36973715" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#36972626">parent</a><span>|</span><a href="#36975713">prev</a><span>|</span><a href="#36981913">next</a><span>|</span><label class="collapse" for="c-36973715">[-]</label><label class="expand" for="c-36973715">[1 more]</label></div><br/><div class="children"><div class="content">David&#x27;s random thoughts: for some reason I pictured Wile-e-coyote not handling numerical instability correctly and getting, as per usual, blown up.</div><br/></div></div></div></div><div id="36981913" class="c"><input type="checkbox" id="c-36981913" checked=""/><div class="controls bullet"><span class="by">havercosine</span><span>|</span><a href="#36972626">prev</a><span>|</span><a href="#36973796">next</a><span>|</span><label class="collapse" for="c-36981913">[-]</label><label class="expand" for="c-36981913">[1 more]</label></div><br/><div class="children"><div class="content">This is a great post. Another aha! moment I had in understanding Kalman Filter came from a short note by John D. Cook (link: <a href="https:&#x2F;&#x2F;www.johndcook.com&#x2F;blog&#x2F;applied-kalman-filtering&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.johndcook.com&#x2F;blog&#x2F;applied-kalman-filtering&#x2F;</a>) . A traditional calculus&#x2F;differential equations based modelling of systems takes a view that there is no uncertainty in the data and everything is captured by system model. OTOH, data driven estimator will say that &quot;it is all in the data&quot;, completely ignoring the model of the physical process that is generating the data. Beauty of Kalman filters is that it combines these two approaches.</div><br/></div></div><div id="36973796" class="c"><input type="checkbox" id="c-36973796" checked=""/><div class="controls bullet"><span class="by">hazrmard</span><span>|</span><a href="#36981913">prev</a><span>|</span><a href="#36982428">next</a><span>|</span><label class="collapse" for="c-36973796">[-]</label><label class="expand" for="c-36973796">[2 more]</label></div><br/><div class="children"><div class="content">Complementary to this, if you are looking for a thorough, mathematical introduction to Kalman Filters and family, I will highly recommend this book[1]<p>- Written by a software engineer who had to implement kalman filters for his job. How he motivates and conveys concepts may resonate with this audience.<p>- Written as interactive Jupyter notebooks. You can clone the repository and run through the lessons.<p>- Incremental improvements. Starting from a simple filter, incorporating Bayes&#x27; rule, and extending to probability distributions. It provides a gentle on-ramp to Kalman filters.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;rlabbe&#x2F;Kalman-and-Bayesian-Filters-in-Python&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;rlabbe&#x2F;Kalman-and-Bayesian-Filters-in-Pyt...</a></div><br/><div id="36978550" class="c"><input type="checkbox" id="c-36978550" checked=""/><div class="controls bullet"><span class="by">ozim</span><span>|</span><a href="#36973796">parent</a><span>|</span><a href="#36982428">next</a><span>|</span><label class="collapse" for="c-36978550">[-]</label><label class="expand" for="c-36978550">[1 more]</label></div><br/><div class="children"><div class="content">Was going to ask about applications - but applications are there in GitHub in description. Thanks seems like something I might use one day.</div><br/></div></div></div></div><div id="36982428" class="c"><input type="checkbox" id="c-36982428" checked=""/><div class="controls bullet"><span class="by">bmitc</span><span>|</span><a href="#36973796">prev</a><span>|</span><a href="#36978452">next</a><span>|</span><label class="collapse" for="c-36982428">[-]</label><label class="expand" for="c-36982428">[1 more]</label></div><br/><div class="children"><div class="content">This is great! Thanks for posting this. I&#x27;m going to have to definitely read through it more carefully later.<p>Also, this reminds of a tutorial that covered PID controllers. There were very good, animated JavaScript diagrams and plots that showed individually why each of the P, I, and D were needed in such a control system with the animations supporting the argument. I have tried finding it before, but I can&#x27;t find it. It was posted on Hacker News. Does anyone know of one like this?</div><br/></div></div><div id="36978452" class="c"><input type="checkbox" id="c-36978452" checked=""/><div class="controls bullet"><span class="by">phkahler</span><span>|</span><a href="#36982428">prev</a><span>|</span><a href="#36973099">next</a><span>|</span><label class="collapse" for="c-36978452">[-]</label><label class="expand" for="c-36978452">[1 more]</label></div><br/><div class="children"><div class="content">There is one aspect missing. When taking the weighted average of a prediction and measurement, the weights can be time varying in a Kalman filter. Otherwise I believe it goes by a different name.<p>A good example is a single sensor measuring a slowly changing quantity. A fuel Guage for example. A good estimate from second to second is that there is no change, but a measurement may have noise (fuel sloshing around in the tank). A Kalman filter in this case will look like a first order low-pass filter with an exponentially decaying gain. The cutoff frequency changes so you can find the starting level quickly (in seconds) but then ignore the noise with a very low frequency cutoff (0.01hz say).</div><br/></div></div><div id="36973099" class="c"><input type="checkbox" id="c-36973099" checked=""/><div class="controls bullet"><span class="by">the__alchemist</span><span>|</span><a href="#36978452">prev</a><span>|</span><a href="#36972853">next</a><span>|</span><label class="collapse" for="c-36973099">[-]</label><label class="expand" for="c-36973099">[12 more]</label></div><br/><div class="children"><div class="content">Nice article on an important tool.<p>My understanding is that linear Kalman filters are an optimal solution to linear problems. Linear Kalman filters are relatively easy to understand and implement.<p>Most applications I&#x27;ve found are non-linear. Extended (and unscented) Kalman filters are much tougher to grasp and implement. Resources and libraries are fewer and less useful.<p>For example, I have an AHRS&#x2F;GNSS CAN device intended for small UAVs. Extended Kalman filters for these I&#x27;ve come across (like for PX4 and Ardupilot) are very complex, and have many parameters. I&#x27;ve found it more straightforward to take an ab-initio approach using quaternion fundamentals, and nudging the gyro solution towards the accelerometer &quot;up&quot;, and the magnetometer inclination vector. If the accelerometer magnitude differs much from 1G or the mag vector differs much from the local earth mag field strength, downweight or skip the update from that sensor, letting the gyro coast.<p>Likely, an EKF would be the correct play, but I&#x27;ve given up trying to understand one, or make or adapt one that would work or be easier to tune and diagnose than the ab-initio approach.</div><br/><div id="36974081" class="c"><input type="checkbox" id="c-36974081" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36973099">parent</a><span>|</span><a href="#36973299">next</a><span>|</span><label class="collapse" for="c-36974081">[-]</label><label class="expand" for="c-36974081">[2 more]</label></div><br/><div class="children"><div class="content">For what it’s worth, the EKF isn’t much more complicated than the regular KF. You are basically just linearizing your dynamics &#x2F; sensor model then doing the KF updates with that linear model.<p>However, for quadrotors specifically, there is a huge pain point: the rotations. A nuance of the linear models of the Kalman filter is that everything lives in Euclidean space. However, rotations place you on a manifold — for quaternions specifically this manifold is the set of unit quaternions. If you naively apply an EKF to estimate your quaternion, you will no longer have a unit quaternion and then your estimates will be garbage. There are well-known ways to handle this manifold constraint but they result in some of the ugliest equations I have ever turned into code.<p>As a simple example of the difficulty, consider a state (x, y) that, due to physics or whatever, we know will always be on the unit circle, I.e., if f(x, y) is your dynamics, it outputs a new point on the circle. However, if you linearize f(x, y), these approximate dynamics are not guaranteed to keep you on the unit sphere and you end up with a non-physical state (or state estimate for the extended Kalman filter).</div><br/><div id="36977945" class="c"><input type="checkbox" id="c-36977945" checked=""/><div class="controls bullet"><span class="by">cmehdy</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36974081">parent</a><span>|</span><a href="#36973299">next</a><span>|</span><label class="collapse" for="c-36977945">[-]</label><label class="expand" for="c-36977945">[1 more]</label></div><br/><div class="children"><div class="content">You just threw me back into time I spent on EKF implementations on early iPads over a decade ago (as an exchange student), as part of a M.Sc. in Control Theory... before I had learnt about KF. The goal was to compensate for the drift observed on the position of those devices which made them useless for the need (art exhibition stuff).<p>I don&#x27;t think I even fully completed the project because my understanding of both quaternions and KF were at that point pretty shaky, this could be a fun project to pull with some old hardware now..</div><br/></div></div></div></div><div id="36973299" class="c"><input type="checkbox" id="c-36973299" checked=""/><div class="controls bullet"><span class="by">nextos</span><span>|</span><a href="#36973099">parent</a><span>|</span><a href="#36974081">prev</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36973299">[-]</label><label class="expand" for="c-36973299">[7 more]</label></div><br/><div class="children"><div class="content">A probabilistic programming language can make it much easier to implement a non-linear filter. Essentially, you implement the generative model, and you get inference compiled for you. Interesting options to look at include ForneyLab.jl, Infer.net, Gen.jl, and Pyro.</div><br/><div id="36973800" class="c"><input type="checkbox" id="c-36973800" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36973299">parent</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36973800">[-]</label><label class="expand" for="c-36973800">[6 more]</label></div><br/><div class="children"><div class="content">This can work if the time scale of inference is smaller than the time scale of your measurements. I’m skeptical that this would work on a quadrotor that requires a fast control loop. However, model predictive control (determining actions given a state and dynamic model; the Kalman filter is model predictive estimation)  first found major use in chemical plants because they could crunch the numbers on a big computer that didn’t need to fit on a robot and the real time between each time step was large. For such a situation, you might be able to get MCMC to work.</div><br/><div id="36974723" class="c"><input type="checkbox" id="c-36974723" checked=""/><div class="controls bullet"><span class="by">nextos</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36973800">parent</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36974723">[-]</label><label class="expand" for="c-36974723">[5 more]</label></div><br/><div class="children"><div class="content">The options I suggested above are not necessarily MCMC, they are mostly message passing algorithms. ForneyLab and Gen in particular are designed for online inference.</div><br/><div id="36974871" class="c"><input type="checkbox" id="c-36974871" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36974723">parent</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36974871">[-]</label><label class="expand" for="c-36974871">[4 more]</label></div><br/><div class="children"><div class="content">Good point! Still, a big reason why the reason why the KF is a staple is that it’s really really fast. When I’ve used tools like the ones that you mentioned, it was normally not for inference not in a feedback loop. I’m less familiar with message passing methods than Monte Carlo methods but I’m going to look into them now</div><br/><div id="36978015" class="c"><input type="checkbox" id="c-36978015" checked=""/><div class="controls bullet"><span class="by">nextos</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36974871">parent</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36978015">[-]</label><label class="expand" for="c-36978015">[3 more]</label></div><br/><div class="children"><div class="content">Message passing can lead to extremely fast maximum likelihood or variational inference.<p>I have used it for realtime control problems. It is a very interesting domain!</div><br/><div id="36978513" class="c"><input type="checkbox" id="c-36978513" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36978015">parent</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36978513">[-]</label><label class="expand" for="c-36978513">[2 more]</label></div><br/><div class="children"><div class="content">Do you have a good reference? Preferably one that mentions a control application because I’m curious to see what the model assumptions and speed look like in that context</div><br/><div id="36978737" class="c"><input type="checkbox" id="c-36978737" checked=""/><div class="controls bullet"><span class="by">nextos</span><span>|</span><a href="#36973099">root</a><span>|</span><a href="#36978513">parent</a><span>|</span><a href="#36973457">next</a><span>|</span><label class="collapse" for="c-36978737">[-]</label><label class="expand" for="c-36978737">[1 more]</label></div><br/><div class="children"><div class="content">You can start with a review [1], and then BRML [2]. I think applications that are very focused on control tend to come from the military and thus not so well documented.<p>[1] An introduction to factor graphs. <a href="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;stamp&#x2F;stamp.jsp?arnumber=1267047" rel="nofollow noreferrer">https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;stamp&#x2F;stamp.jsp?arnumber=1267047</a><p>[2] Bayesian Reasoning and Machine Learning. <a href="http:&#x2F;&#x2F;web4.cs.ucl.ac.uk&#x2F;staff&#x2F;D.Barber&#x2F;textbook&#x2F;200620.pdf" rel="nofollow noreferrer">http:&#x2F;&#x2F;web4.cs.ucl.ac.uk&#x2F;staff&#x2F;D.Barber&#x2F;textbook&#x2F;200620.pdf</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="36973457" class="c"><input type="checkbox" id="c-36973457" checked=""/><div class="controls bullet"><span class="by">sheepshear</span><span>|</span><a href="#36973099">parent</a><span>|</span><a href="#36973299">prev</a><span>|</span><a href="#36973231">next</a><span>|</span><label class="collapse" for="c-36973457">[-]</label><label class="expand" for="c-36973457">[1 more]</label></div><br/><div class="children"><div class="content">My recommendation if open courseware is the type of resource that might interest you:<p><a href="http:&#x2F;&#x2F;mocha-java.uccs.edu&#x2F;ECE5550&#x2F;index.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;mocha-java.uccs.edu&#x2F;ECE5550&#x2F;index.html</a></div><br/></div></div><div id="36973231" class="c"><input type="checkbox" id="c-36973231" checked=""/><div class="controls bullet"><span class="by">toasted-subs</span><span>|</span><a href="#36973099">parent</a><span>|</span><a href="#36973457">prev</a><span>|</span><a href="#36972853">next</a><span>|</span><label class="collapse" for="c-36973231">[-]</label><label class="expand" for="c-36973231">[1 more]</label></div><br/><div class="children"><div class="content">Yea, when you know what you are trying to model it&#x27;s extremely easy to write a model that represents a traditional linear Kalman filter.<p>But there are many ways to write a Kalman filter; depending on where you start non-linear transformation becomes extremely cumbersome to get right.</div><br/></div></div></div></div><div id="36972853" class="c"><input type="checkbox" id="c-36972853" checked=""/><div class="controls bullet"><span class="by">sowbug</span><span>|</span><a href="#36973099">prev</a><span>|</span><a href="#36972359">next</a><span>|</span><label class="collapse" for="c-36972853">[-]</label><label class="expand" for="c-36972853">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m nearsighted, and I have astigmatism. I&#x27;ve noticed that when I close one eye and look at something like a clock on the wall, each eye produces a differently distorted image. Each eye is a bit different. But when I look at the clock with both eyes, the image is much sharper, and  better than either eye alone. The article&#x27;s scenario of 1,000 ship passengers reporting their individual GPS coordinates reminded me of this phenomenon.<p>I bet that brains use clever algorithms like Kalman filters extensively.</div><br/><div id="36973479" class="c"><input type="checkbox" id="c-36973479" checked=""/><div class="controls bullet"><span class="by">bhattid</span><span>|</span><a href="#36972853">parent</a><span>|</span><a href="#36972359">next</a><span>|</span><label class="collapse" for="c-36973479">[-]</label><label class="expand" for="c-36973479">[2 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re interested in the term, what you noticed with your eyesight is an example of hyperacuity.  Coincidentally, I learned about it making the same observation with my own eyes. :)</div><br/><div id="36979540" class="c"><input type="checkbox" id="c-36979540" checked=""/><div class="controls bullet"><span class="by">sowbug</span><span>|</span><a href="#36972853">root</a><span>|</span><a href="#36973479">parent</a><span>|</span><a href="#36972359">next</a><span>|</span><label class="collapse" for="c-36979540">[-]</label><label class="expand" for="c-36979540">[1 more]</label></div><br/><div class="children"><div class="content">Cool! When I asked my eye doctor, he didn&#x27;t have that term for me, but he did agree that the brain is pretty amazing.</div><br/></div></div></div></div></div></div><div id="36972359" class="c"><input type="checkbox" id="c-36972359" checked=""/><div class="controls bullet"><span class="by">TekMol</span><span>|</span><a href="#36972853">prev</a><span>|</span><a href="#36980973">next</a><span>|</span><label class="collapse" for="c-36972359">[-]</label><label class="expand" for="c-36972359">[16 more]</label></div><br/><div class="children"><div class="content">Do I understand it correctly that Kalman filters are supposed to give a better estimate of a value from noisy observations than just averaging the observations?<p>Say I measured something 3 times and observed 7,8 and 9. My guess would be that the actual value is 8. Would a Kalman filter come up with a different estimate?</div><br/><div id="36972632" class="c"><input type="checkbox" id="c-36972632" checked=""/><div class="controls bullet"><span class="by">JHonaker</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36973046">next</a><span>|</span><label class="collapse" for="c-36972632">[-]</label><label class="expand" for="c-36972632">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Do I understand it correctly that Kalman filters are supposed to give a better estimate of a value from noisy observations than just averaging the observations?<p>Yes, but with a big caveat. Your observations are related by something like the transition mechanism. You can&#x27;t just apply a Kalman filter to every problem and expect to get better results.<p>A Kalman filter is traditionally used in estimating something that moves over time (but can be used for more than just this). Think a person moving in a video, or some other sort of random walk. By assuming some sort of relationship between two successive timepoints&#x2F;measurements, like speed and current heading, we can blend the information from a model for motion with the model from noisy measurements to get a better estimate of the position&#x2F;value or of the entire motion history.<p>If that motion model is meaningfully incorrect, then you don&#x27;t get improved estimates.<p>A lot of the ways that people have extended them have to do with incorporating more sophisticated motion models, like dealing with wheel slippage in robotics, so your heading direction might have error now, etc.</div><br/></div></div><div id="36973046" class="c"><input type="checkbox" id="c-36973046" checked=""/><div class="controls bullet"><span class="by">trollerator23</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36972632">prev</a><span>|</span><a href="#36976272">next</a><span>|</span><label class="collapse" for="c-36973046">[-]</label><label class="expand" for="c-36973046">[1 more]</label></div><br/><div class="children"><div class="content">Yes, because unlike an simple average you have a model for both what you are trying to measure and the measurement.<p>For example, one basic model for your example could be if you are trying to measure a constant with some initial uncertainty, say it&#x27;s Gaussian with a standard deviation, and noisy measurements with say also an uncertainty with Gaussian distribution and some standard deviation. You can tune the initial uncertainty (a number) around the constant you are trying to estimate , and the uncertainty in the measurements (another number than may or may not change).<p>In this example a Kalman filter won&#x27;t behave as an average. If the measurements are good (low uncertainty) they will converge quickly, if they are bad the estimate will jump around and take longer to converge.<p>Anyway, I made a mess, I&#x27;m not good at explaining...<p>And by the way, it&#x27;s not true what people are suggesting here that Kalman filters are for moving things. They are used to estimate constants _all the time_ but yes, they&#x27;re more popular for moving things.</div><br/></div></div><div id="36976272" class="c"><input type="checkbox" id="c-36976272" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36973046">prev</a><span>|</span><a href="#36977468">next</a><span>|</span><label class="collapse" for="c-36976272">[-]</label><label class="expand" for="c-36976272">[1 more]</label></div><br/><div class="children"><div class="content">In addition to what others (and I) said elsewhere, where the Kalman filter beats the simple average is when your samples are not identically and independently distributed. If they were, then yes, you can just take an average as justified by the law of large numbers.<p>The Kalman filter handles the case where your samples are correlated due to some (linear) dynamics (also your measurements don’t need to be directly of the quantity of interest, they can be a (linear) function of that quantity (plus Gaussian noise). Thus, the probability of you observing 8 for your second measurement changes given the knowledge that you observed a 7 as the first measurement. If you just take the sample average like you did above, that will not in general converge to the actual mean value.</div><br/></div></div><div id="36977468" class="c"><input type="checkbox" id="c-36977468" checked=""/><div class="controls bullet"><span class="by">mordae</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36976272">prev</a><span>|</span><a href="#36972427">next</a><span>|</span><label class="collapse" for="c-36977468">[-]</label><label class="expand" for="c-36977468">[1 more]</label></div><br/><div class="children"><div class="content">The way I understand it, in a linear system with discrete measurements where you move and measure your position, averaging last 3 measurements, you are effectively lagging 1 step behind your actual position.<p>What Kalman filter does is that it estimates your position and then averages measurement with that, in essence bringing the value closer to where you are at the moment.<p>Having a delay in a feedback loop may cause oscillations. If you react way slower than you measure, you might not need Kalman filter. Proposed GPS example is relevant here, because position updates come in slowly.</div><br/></div></div><div id="36972427" class="c"><input type="checkbox" id="c-36972427" checked=""/><div class="controls bullet"><span class="by">ckrapu</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36977468">prev</a><span>|</span><a href="#36972524">next</a><span>|</span><label class="collapse" for="c-36972427">[-]</label><label class="expand" for="c-36972427">[1 more]</label></div><br/><div class="children"><div class="content">It would if you had some past history to work with. Let’s say that you measured the same object awhile ago and you want to incorporate that prior information in a principled way, while also letting the new measurements dominate if they give a very different result.<p>If you encode that language into a linear Gaussian model, you get KF.</div><br/></div></div><div id="36972524" class="c"><input type="checkbox" id="c-36972524" checked=""/><div class="controls bullet"><span class="by">asimeqi</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36972427">prev</a><span>|</span><a href="#36975792">next</a><span>|</span><label class="collapse" for="c-36972524">[-]</label><label class="expand" for="c-36972524">[5 more]</label></div><br/><div class="children"><div class="content">Kalman filters are used for changing entities. Say you have a moving object. You could measure (with some errors) its position every second and use that as an estimate of where it is. Or use your position measurements in combination with an estimation of the object&#x27;s speed that you can get from previous measurements and estimate where the object is. The second method is the Kalman filter.</div><br/><div id="36972722" class="c"><input type="checkbox" id="c-36972722" checked=""/><div class="controls bullet"><span class="by">a_wild_dandan</span><span>|</span><a href="#36972359">root</a><span>|</span><a href="#36972524">parent</a><span>|</span><a href="#36975792">next</a><span>|</span><label class="collapse" for="c-36972722">[-]</label><label class="expand" for="c-36972722">[4 more]</label></div><br/><div class="children"><div class="content">To clarify, you mean <i>completely independent</i> speed measurements, right? As in speeds not derived from the position measurements? Otherwise, that feels like getting something from nothing.</div><br/><div id="36973108" class="c"><input type="checkbox" id="c-36973108" checked=""/><div class="controls bullet"><span class="by">asimeqi</span><span>|</span><a href="#36972359">root</a><span>|</span><a href="#36972722">parent</a><span>|</span><a href="#36973284">next</a><span>|</span><label class="collapse" for="c-36973108">[-]</label><label class="expand" for="c-36973108">[1 more]</label></div><br/><div class="children"><div class="content">I meant speeds derived from previous position measurements. Using those speeds is not getting something from nothing. It means using previous measurements to estimate where the object might be now then combine that estimate with current measurement to have the &quot;best&quot; estimate for its current position, for some definition of best.</div><br/></div></div><div id="36973284" class="c"><input type="checkbox" id="c-36973284" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#36972359">root</a><span>|</span><a href="#36972722">parent</a><span>|</span><a href="#36973108">prev</a><span>|</span><a href="#36975792">next</a><span>|</span><label class="collapse" for="c-36973284">[-]</label><label class="expand" for="c-36973284">[2 more]</label></div><br/><div class="children"><div class="content">I believe part of the cleverness of the Kalman Filter is that it works out the degree to which your measurements are correlated for you. I haven’t looked at it in a while, though.</div><br/><div id="36974313" class="c"><input type="checkbox" id="c-36974313" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972359">root</a><span>|</span><a href="#36973284">parent</a><span>|</span><a href="#36975792">next</a><span>|</span><label class="collapse" for="c-36974313">[-]</label><label class="expand" for="c-36974313">[1 more]</label></div><br/><div class="children"><div class="content">Not your measurements. That correlation must be specified. It works out the correlations of your state (the thing you are estimating).<p>In the above example, their measurements are noisy mechanical states (position and momentum). However your measurements can be any (linear plus noise) function of the state, but you need the covariance of your sensor noise.</div><br/></div></div></div></div></div></div></div></div><div id="36975792" class="c"><input type="checkbox" id="c-36975792" checked=""/><div class="controls bullet"><span class="by">kxyvr</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36972524">prev</a><span>|</span><a href="#36972564">next</a><span>|</span><label class="collapse" for="c-36975792">[-]</label><label class="expand" for="c-36975792">[1 more]</label></div><br/><div class="children"><div class="content">No.  It&#x27;s used differently.<p>Here&#x27;s another way to understand Kalman filters that doesn&#x27;t require statistics, but does require some knowledge of feedback controllers.  Consider a model of a system of the form<p><pre><code>  x&#x27;=Ax+Bu
  y=Cx
</code></pre>
Here, we have a linear system with a state variable `x`, system dynamics `A`, control `u`, control dynamics, `B`, and observation `y`.  This states that we have linear dynamics, but we can only observe some of the state variables.  For example, perhaps we can observe position, but not velocity or acceleration.  At the same time, we want those other variables because we need them for a feedback control or some kind of observation.  In order to do this, we use machinery similar to a feedback controller.  Define an observer system:<p><pre><code>  xx&#x27; = Axx + Bu + L(y-Cxx)
  xx(0) = xx0
</code></pre>
Here, we have a new observer variable `xx` that we want to converge to the true state variable `x`.  To do this, we have introduced a new matrix of gains called `L`, which we call the observer gain for a Luenberger observer.  The reason that this system is useful is that if we consider the error `e=x-xx`, and subsitute this into the above equations, we get:<p><pre><code>  e&#x27; = x&#x27; - xx&#x27;
     = ...
     = (A-LC) e
</code></pre>
From ODE theory, we know that `e` will converge to 0 if the real part of the eigenvalues of `A-LC` is negative.  Hence, to facilitate this, we focus on trying to find an appropriate `L` that forces this condition.  In order to do this, we note that the eigenvalues of `A-LC` are the same as it&#x27;s transpose, `At-CtLt`.  This leads to an optimization formulation:<p><pre><code>  min 0.5 &lt;Qee,ee&gt; + 0.5 &lt;Ruu,uu&gt; st ee&#x27; = Atee + Ctuu, ee(0) = ee(0)
</code></pre>
The notation `&lt;x,y&gt;` means inner product and is simply `xt y`.  Here, we&#x27;re essentially looking at the adjoint equation with a new kind of control `uu` and a new adjoint state variable `ee`.  This is a linear quadratic control on the adjoint of the error generated by the Luenberger observer.  There is a mostly open choice for `Q` and `R` that we discuss below.  Through a long sequence of derivations that is nearly identical to that of linear quadratic control, we find that we eventually solve for a matrix P in the system:<p><pre><code>  PAt + AP - PCt inv(R) C P = -Q
</code></pre>
And then set the observer gain to `L=-PCt inv(R)`<p>Given this observer gain, we go back to our system above with `xx`, plug it in, and then solve.  That system is constantly updated with observations of the original system in `y` and it produces an `xx` that converges very rapidly to the original state variable `x`.  This gives us a way to view all of the state variables in the original equation even though we can&#x27;t observe them all directly.<p>Now, to get to a full Kalman filter, there&#x27;s a question of how to choose the matrices Q and R above.  They could be almost anything.  If you have an estimate of the what you believe the covariance of the errors are in the state and observations in the original equations, you get to a Kalman filter.  Really, the derivation above is continuous, so it would be a Kalman-Bucy filter.  Honestly, you don&#x27;t need any statistics, though.  Normally, just normalize the weights, so that all of the state variables are around the same size and then maybe adjust it on what you think is more important.  It generally works just fine.<p>In short, a Kalman filter is a little machine that uses the same machinery as a feedback controller that rapidly converges to the state of a system of interest.  This is useful because it&#x27;s unlikely that all of those states can be observed directly.  Due to how feedback controllers work, it is robust to errors and can handle variation or error in the observations.</div><br/></div></div><div id="36972564" class="c"><input type="checkbox" id="c-36972564" checked=""/><div class="controls bullet"><span class="by">sdfghswe</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36975792">prev</a><span>|</span><a href="#36972670">next</a><span>|</span><label class="collapse" for="c-36972564">[-]</label><label class="expand" for="c-36972564">[1 more]</label></div><br/><div class="children"><div class="content">KF gives you the optimal estimate (in the sense of maximum likelihood) for a (multivariate) Gaussian model.<p>What KF would give you in your example depends on what exactly the model is. But even in the simplest scenario imaginable you&#x27;d have to specify what expected value you start with, in the same way that you would in Bayes.</div><br/></div></div><div id="36973391" class="c"><input type="checkbox" id="c-36973391" checked=""/><div class="controls bullet"><span class="by">alfanick</span><span>|</span><a href="#36972359">parent</a><span>|</span><a href="#36972670">prev</a><span>|</span><a href="#36980973">next</a><span>|</span><label class="collapse" for="c-36973391">[-]</label><label class="expand" for="c-36973391">[2 more]</label></div><br/><div class="children"><div class="content">So my very easy mental model of Kalman filter is: you feed model with some data (measurements, that are noisy, unstable) and some noise (usually Gaussian). Kalman filter actually kinda reduces precision by adding this noise, but you gain stability and less fluctuations and that&#x27;s what makes it beautiful.</div><br/><div id="36974171" class="c"><input type="checkbox" id="c-36974171" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972359">root</a><span>|</span><a href="#36973391">parent</a><span>|</span><a href="#36980973">next</a><span>|</span><label class="collapse" for="c-36974171">[-]</label><label class="expand" for="c-36974171">[1 more]</label></div><br/><div class="children"><div class="content">The Kalman filter does not require adding noise. The noise is a product of whatever phenomenon you are estimating. Normally we use noise in a model to cover up some behavior that is far to complicated to include in a more rigorous way. A classic example is the origin of Brownian motion. This probabilistic model came about to describe the motion of a large particle in a fluid of a smaller particles (e.g. a spec of dust in water). You could do physics and model every particle in the fluid and its collisions but that’s not tractable. Thus, the insight was to just model the large particle and turn the effects of collisions with the smaller ones into random disturbances.</div><br/></div></div></div></div></div></div><div id="36980973" class="c"><input type="checkbox" id="c-36980973" checked=""/><div class="controls bullet"><span class="by">parentheses</span><span>|</span><a href="#36972359">prev</a><span>|</span><a href="#36975197">next</a><span>|</span><label class="collapse" for="c-36980973">[-]</label><label class="expand" for="c-36980973">[2 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t know anything formal in this field but this is a really great explainer. It&#x27;s worth mentioning that if devices are miscalibrated such that the distribution is not centered around ground truth, this approach breaks down. Maybe there are more sophisticated ways to solve this that work well with the approach described. Not sure, but curious.</div><br/><div id="36981370" class="c"><input type="checkbox" id="c-36981370" checked=""/><div class="controls bullet"><span class="by">joeyo</span><span>|</span><a href="#36980973">parent</a><span>|</span><a href="#36975197">next</a><span>|</span><label class="collapse" for="c-36981370">[-]</label><label class="expand" for="c-36981370">[1 more]</label></div><br/><div class="children"><div class="content">That doesn&#x27;t pose an issue: the &quot;observation model&quot; of a Kalman filer allows for affine transformations (e.g. scale, rotation, and offset) between the sensor data and the &quot;true&quot; latent state that you wish to estimate. Even better, it can appropriately handle correlational structure between your sensors.<p>What the Kalman filter equations don&#x27;t tell you, is how to estimate the parameters of such an observation model. You either have to write it down from first principles, estimate it from &quot;fully observed&quot; data (if you have such a luxury), estimate it (up to a rotation) using expectation maximization (EM), or guess.</div><br/></div></div></div></div><div id="36975197" class="c"><input type="checkbox" id="c-36975197" checked=""/><div class="controls bullet"><span class="by">MayeulC</span><span>|</span><a href="#36980973">prev</a><span>|</span><a href="#36978242">next</a><span>|</span><label class="collapse" for="c-36975197">[-]</label><label class="expand" for="c-36975197">[1 more]</label></div><br/><div class="children"><div class="content">That other article had nice visualizations too: <a href="https:&#x2F;&#x2F;www.bzarg.com&#x2F;p&#x2F;how-a-kalman-filter-works-in-pictures&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bzarg.com&#x2F;p&#x2F;how-a-kalman-filter-works-in-picture...</a><p>Posted to HN three times already :)</div><br/></div></div><div id="36978242" class="c"><input type="checkbox" id="c-36978242" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#36975197">prev</a><span>|</span><a href="#36977731">next</a><span>|</span><label class="collapse" for="c-36978242">[-]</label><label class="expand" for="c-36978242">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for this! tiny nitpick: the transparency in the ship illustrations becomes problematic when the page renders in dark mode.</div><br/></div></div><div id="36977731" class="c"><input type="checkbox" id="c-36977731" checked=""/><div class="controls bullet"><span class="by">askvictor</span><span>|</span><a href="#36978242">prev</a><span>|</span><a href="#36977088">next</a><span>|</span><label class="collapse" for="c-36977731">[-]</label><label class="expand" for="c-36977731">[4 more]</label></div><br/><div class="children"><div class="content">My first real programming job was implementing a Kalman filter for GPS car applications in the 90s. GPS still had crippled accuracy for civilians back then (about 100m), which made it useless for turn-by-turn navigation in your car. But assuming that you have an accurate location at the start of the journey, and that the car stays on roads (and that the road maps are accurate), then we could filter it down to a decent reading.</div><br/><div id="36979183" class="c"><input type="checkbox" id="c-36979183" checked=""/><div class="controls bullet"><span class="by">travisjungroth</span><span>|</span><a href="#36977731">parent</a><span>|</span><a href="#36977088">next</a><span>|</span><label class="collapse" for="c-36979183">[-]</label><label class="expand" for="c-36979183">[3 more]</label></div><br/><div class="children"><div class="content">I wonder how the intentional noise in GPS handled this. The point was for other forces to not have it for combat purposes. But, it seems like even a mediocre inertial navigation system, speedometer, or airspeed sensor combined with a Kalman filter and GPS would be very accurate.<p>Calculating position from velocity is very accurate, but suffers from drift. GPS does not. I wonder how accurate you can get with 1% variance velocity measurement and 100m variance GPS measurement on something doing 500km&#x2F;h.</div><br/><div id="36979743" class="c"><input type="checkbox" id="c-36979743" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36977731">root</a><span>|</span><a href="#36979183">parent</a><span>|</span><a href="#36977088">next</a><span>|</span><label class="collapse" for="c-36979743">[-]</label><label class="expand" for="c-36979743">[2 more]</label></div><br/><div class="children"><div class="content">You can actually compute that!  Model your agent’s dynamics (even just pick a double integrator, I.e., an agent where the acceleration is controlled, or something) and pick a value for the GPS covariance. You can compute the infinite-time limit of the variance of the Kalman filter exactly (your favorite numerical package has a function for solving algebraic Riccati equations which is all you need to do this). No simulated observations are necessary, just the dynamics and the GPS noise.<p>My guess is that you’ll find the filter converges to a distribution that has a decently large covariance if the military didn’t want other forces using it to make good decisions.</div><br/><div id="36980890" class="c"><input type="checkbox" id="c-36980890" checked=""/><div class="controls bullet"><span class="by">travisjungroth</span><span>|</span><a href="#36977731">root</a><span>|</span><a href="#36979743">parent</a><span>|</span><a href="#36977088">next</a><span>|</span><label class="collapse" for="c-36980890">[-]</label><label class="expand" for="c-36980890">[1 more]</label></div><br/><div class="children"><div class="content">Thank you very much for the suggestion. There are enough words in it I don’t know that I’d need to spend a “new math domain to learn” token, and I’m out of those right now. Need to ship something to earn more. I will remain in a state of wonder for the time being.</div><br/></div></div></div></div></div></div></div></div><div id="36977088" class="c"><input type="checkbox" id="c-36977088" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#36977731">prev</a><span>|</span><a href="#36979143">next</a><span>|</span><label class="collapse" for="c-36977088">[-]</label><label class="expand" for="c-36977088">[1 more]</label></div><br/><div class="children"><div class="content">MSR&#x27;s Christopher Bishop offers a more intuitive, Bayesian derivation of the Kalman filter:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=QJSEQeH40hM">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=QJSEQeH40hM</a>
<a href="http:&#x2F;&#x2F;mlss.tuebingen.mpg.de&#x2F;2013&#x2F;2013&#x2F;bishop_slides.pdf#page=86" rel="nofollow noreferrer">http:&#x2F;&#x2F;mlss.tuebingen.mpg.de&#x2F;2013&#x2F;2013&#x2F;bishop_slides.pdf#pag...</a></div><br/></div></div><div id="36979143" class="c"><input type="checkbox" id="c-36979143" checked=""/><div class="controls bullet"><span class="by">tr_user</span><span>|</span><a href="#36977088">prev</a><span>|</span><a href="#36972460">next</a><span>|</span><label class="collapse" for="c-36979143">[-]</label><label class="expand" for="c-36979143">[3 more]</label></div><br/><div class="children"><div class="content">More people should read this. A few weeks back some commenter on another thread was saying it makes perfect sense to break a sensor if you had more than one in order to get more certainty. Facepalm.</div><br/><div id="36981418" class="c"><input type="checkbox" id="c-36981418" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36979143">parent</a><span>|</span><a href="#36979783">next</a><span>|</span><label class="collapse" for="c-36981418">[-]</label><label class="expand" for="c-36981418">[1 more]</label></div><br/><div class="children"><div class="content">Ah yes, let me triangulate myself with one point</div><br/></div></div><div id="36979783" class="c"><input type="checkbox" id="c-36979783" checked=""/><div class="controls bullet"><span class="by">antegamisou</span><span>|</span><a href="#36979143">parent</a><span>|</span><a href="#36981418">prev</a><span>|</span><a href="#36972460">next</a><span>|</span><label class="collapse" for="c-36979783">[-]</label><label class="expand" for="c-36979783">[1 more]</label></div><br/><div class="children"><div class="content">This is your brain on LLMs!!!</div><br/></div></div></div></div><div id="36972460" class="c"><input type="checkbox" id="c-36972460" checked=""/><div class="controls bullet"><span class="by">thot_experiment</span><span>|</span><a href="#36979143">prev</a><span>|</span><a href="#36972934">next</a><span>|</span><label class="collapse" for="c-36972460">[-]</label><label class="expand" for="c-36972460">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been wanting to make a deeper study of Kalman filters and related sensor fusion techniques for a while now, this looks like a decent resource but perhaps the hacker news horde has some even better suggestions for articles&#x2F;textbooks&#x2F;videos. If there is a particular piece of media that has really helped you grok this sort of thing please leave a link below!</div><br/><div id="36973196" class="c"><input type="checkbox" id="c-36973196" checked=""/><div class="controls bullet"><span class="by">musebox35</span><span>|</span><a href="#36972460">parent</a><span>|</span><a href="#36979313">next</a><span>|</span><label class="collapse" for="c-36973196">[-]</label><label class="expand" for="c-36973196">[3 more]</label></div><br/><div class="children"><div class="content">For a robotics oriented, part theory part hands-on learning material on Kalman Filtering, I would suggest The Robot Mapping course from Cyrill Stachniss:<p><a href="http:&#x2F;&#x2F;ais.informatik.uni-freiburg.de&#x2F;teaching&#x2F;ws22&#x2F;mapping&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;ais.informatik.uni-freiburg.de&#x2F;teaching&#x2F;ws22&#x2F;mapping&#x2F;</a>
<a href="http:&#x2F;&#x2F;www.ipb.uni-bonn.de&#x2F;people&#x2F;cyrill-stachniss&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;www.ipb.uni-bonn.de&#x2F;people&#x2F;cyrill-stachniss&#x2F;</a><p>There are YouTube videos from 2013 here:
<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;playlist?list=PLgnQpQtFTOGQrZ4O5QzbIHgl3b1JHimN_">https:&#x2F;&#x2F;www.youtube.com&#x2F;playlist?list=PLgnQpQtFTOGQrZ4O5QzbI...</a><p>The course itself is mostly based on the Probabilistic Robotics book from Sebastian Thrun et al:
<a href="https:&#x2F;&#x2F;mitpress.mit.edu&#x2F;9780262201629&#x2F;probabilistic-robotics&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;mitpress.mit.edu&#x2F;9780262201629&#x2F;probabilistic-robotic...</a></div><br/><div id="36974332" class="c"><input type="checkbox" id="c-36974332" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972460">root</a><span>|</span><a href="#36973196">parent</a><span>|</span><a href="#36975390">next</a><span>|</span><label class="collapse" for="c-36974332">[-]</label><label class="expand" for="c-36974332">[1 more]</label></div><br/><div class="children"><div class="content">The Thrun book is great and one of the few “essential” texts on robotics in my opinion.</div><br/></div></div><div id="36975390" class="c"><input type="checkbox" id="c-36975390" checked=""/><div class="controls bullet"><span class="by">spieswl</span><span>|</span><a href="#36972460">root</a><span>|</span><a href="#36973196">parent</a><span>|</span><a href="#36974332">prev</a><span>|</span><a href="#36979313">next</a><span>|</span><label class="collapse" for="c-36975390">[-]</label><label class="expand" for="c-36975390">[1 more]</label></div><br/><div class="children"><div class="content">Probabilistic Robotics should be required reading for most robotics engineers, IMO. Great book.</div><br/></div></div></div></div><div id="36979313" class="c"><input type="checkbox" id="c-36979313" checked=""/><div class="controls bullet"><span class="by">dplavery92</span><span>|</span><a href="#36972460">parent</a><span>|</span><a href="#36973196">prev</a><span>|</span><a href="#36974625">next</a><span>|</span><label class="collapse" for="c-36979313">[-]</label><label class="expand" for="c-36979313">[1 more]</label></div><br/><div class="children"><div class="content">I think a great place to start is <a href="https:&#x2F;&#x2F;www.bzarg.com&#x2F;p&#x2F;how-a-kalman-filter-works-in-pictures&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bzarg.com&#x2F;p&#x2F;how-a-kalman-filter-works-in-picture...</a><p>Unlike the OP article, it does make use of the math formalism for Kalman filters, but it is a relatively gentle introduction that does a very good job visualizing and explaining the intuition of each term.  I have gotten positive feedback (no pun intended!) from interns or junior hires using this resource to familiarize themselves with the topic.<p>If you are making a deeper study and are ready to dive into a textbook that more thoroughly explores theory and application, there is a book by Gibbs[1] that I have used in the past and is well-regarded in some segments of industry that rely on these techniques for state estimation and GNC.<p>[1] <a href="https:&#x2F;&#x2F;onlinelibrary.wiley.com&#x2F;doi&#x2F;book&#x2F;10.1002&#x2F;9780470890042" rel="nofollow noreferrer">https:&#x2F;&#x2F;onlinelibrary.wiley.com&#x2F;doi&#x2F;book&#x2F;10.1002&#x2F;97804708900...</a></div><br/></div></div><div id="36974625" class="c"><input type="checkbox" id="c-36974625" checked=""/><div class="controls bullet"><span class="by">mlsu</span><span>|</span><a href="#36972460">parent</a><span>|</span><a href="#36979313">prev</a><span>|</span><a href="#36973844">next</a><span>|</span><label class="collapse" for="c-36974625">[-]</label><label class="expand" for="c-36974625">[1 more]</label></div><br/><div class="children"><div class="content">If you know a bit of Python and you find it sometimes tough to grind through a textbook, take a look here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;rlabbe&#x2F;Kalman-and-Bayesian-Filters-in-Python">https:&#x2F;&#x2F;github.com&#x2F;rlabbe&#x2F;Kalman-and-Bayesian-Filters-in-Pyt...</a><p>Interactive examples programmed in Jupyter notebooks.</div><br/></div></div><div id="36973844" class="c"><input type="checkbox" id="c-36973844" checked=""/><div class="controls bullet"><span class="by">sheepshear</span><span>|</span><a href="#36972460">parent</a><span>|</span><a href="#36974625">prev</a><span>|</span><a href="#36972584">next</a><span>|</span><label class="collapse" for="c-36973844">[-]</label><label class="expand" for="c-36973844">[1 more]</label></div><br/><div class="children"><div class="content"><a href="http:&#x2F;&#x2F;mocha-java.uccs.edu&#x2F;ECE5550&#x2F;index.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;mocha-java.uccs.edu&#x2F;ECE5550&#x2F;index.html</a></div><br/></div></div><div id="36972584" class="c"><input type="checkbox" id="c-36972584" checked=""/><div class="controls bullet"><span class="by">sdfghswe</span><span>|</span><a href="#36972460">parent</a><span>|</span><a href="#36973844">prev</a><span>|</span><a href="#36972934">next</a><span>|</span><label class="collapse" for="c-36972584">[-]</label><label class="expand" for="c-36972584">[4 more]</label></div><br/><div class="children"><div class="content">The HN horde will tell you that math is bad and you should just &quot;get your hard dirty&quot;.</div><br/><div id="36973406" class="c"><input type="checkbox" id="c-36973406" checked=""/><div class="controls bullet"><span class="by">antegamisou</span><span>|</span><a href="#36972460">root</a><span>|</span><a href="#36972584">parent</a><span>|</span><a href="#36972934">next</a><span>|</span><label class="collapse" for="c-36973406">[-]</label><label class="expand" for="c-36973406">[3 more]</label></div><br/><div class="children"><div class="content">Nice typo but 100% agree, and if you dare tell anyone some freshman college math is necessary to understand some moderate-advanced subject, you&#x27;re &quot;gatekeeping&quot; knowledge.</div><br/><div id="36974236" class="c"><input type="checkbox" id="c-36974236" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972460">root</a><span>|</span><a href="#36973406">parent</a><span>|</span><a href="#36972934">next</a><span>|</span><label class="collapse" for="c-36974236">[-]</label><label class="expand" for="c-36974236">[2 more]</label></div><br/><div class="children"><div class="content">This is the thing with math and programming. The anti-math programmers are right: you don’t need much math to have a career as a programmer because lots of applications (e.g. web pages) don’t need much math.<p>However the more math you know, the more tools you have available to tackle problems and the more diverse the set of projects you can tackle are. You’ll spend less time reinventing the wheel and you don’t need to come up with shoddy heuristic solutions to problems because you can formally specify the problem and apply the right tool to solve it.</div><br/><div id="36979895" class="c"><input type="checkbox" id="c-36979895" checked=""/><div class="controls bullet"><span class="by">antegamisou</span><span>|</span><a href="#36972460">root</a><span>|</span><a href="#36974236">parent</a><span>|</span><a href="#36972934">next</a><span>|</span><label class="collapse" for="c-36979895">[-]</label><label class="expand" for="c-36979895">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;re talking about a specific subset of people working in Computer Science.<p>No one right in their head would claim that knowledge of &#x27;only&#x27; HS math is insufficient when it comes to having a successful career in Front-End, Back-End, Ops, Cloud etc and many other positions pertaining to web technologies. I have no idea what people in this sector do but I&#x27;d highly doubt advanced math knowledge would even benefit their career considering they are remaining there.<p>However the fact that there are people on this very platform saying that those who say Linear Algebra mastery is &quot;gatekeeping&quot; to people  aspiring to become <i>Machine  Learning</i> engineers demonstrates, at the very least, poor critical thinking on their part about the inefficiency of self - learning math only through &#x27;pleasant&#x27; means such as:<p><pre><code>    I will only watch this cool video with animations,laying on my bed, about this hard math concept instead of grabbing some paper and pencil and carefully study some high quality  textbook. I need to built intuition ASAP !!!
</code></pre>
as well as showing that  various different <i>AI Bootcamp: Become an ML expert in only two weeks!!</i> type of cashgrab scammers are sadly growing exp. in popularity.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36972934" class="c"><input type="checkbox" id="c-36972934" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#36972460">prev</a><span>|</span><a href="#36973699">next</a><span>|</span><label class="collapse" for="c-36972934">[-]</label><label class="expand" for="c-36972934">[3 more]</label></div><br/><div class="children"><div class="content">A faulty sensor that always reads &quot;6.8&quot; is going to have zero variance.  That would seem to make it the most trustworthy estimation.<p>I&#x27;m sure real Kalman filters aren&#x27;t so naıve, but that does seem to be a tricky part.</div><br/><div id="36973044" class="c"><input type="checkbox" id="c-36973044" checked=""/><div class="controls bullet"><span class="by">sowbug</span><span>|</span><a href="#36972934">parent</a><span>|</span><a href="#36973135">next</a><span>|</span><label class="collapse" for="c-36973044">[-]</label><label class="expand" for="c-36973044">[1 more]</label></div><br/><div class="children"><div class="content">If I&#x27;m understanding the article, then an aspect of variance is how much a sensor deviates from the wisdom of the crowds. So the 6.8 is harmless if it happens to be close to the right answer, and downweighted if not.<p>Which, if correct, means that Kalman filters are useful to detect malicious input to crowdsourced data like surveys, reviews, etc.</div><br/></div></div><div id="36973135" class="c"><input type="checkbox" id="c-36973135" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972934">parent</a><span>|</span><a href="#36973044">prev</a><span>|</span><a href="#36973699">next</a><span>|</span><label class="collapse" for="c-36973135">[-]</label><label class="expand" for="c-36973135">[1 more]</label></div><br/><div class="children"><div class="content">If your only sensor is broken and tells you nothing, then your system is unobservable with such a sensor and the only thing you can do is propagate your initial uncertainty through the dynamics. The Kalman filter will do exactly that in this case.</div><br/></div></div></div></div><div id="36973699" class="c"><input type="checkbox" id="c-36973699" checked=""/><div class="controls bullet"><span class="by">tnecniv</span><span>|</span><a href="#36972934">prev</a><span>|</span><a href="#36973916">next</a><span>|</span><label class="collapse" for="c-36973699">[-]</label><label class="expand" for="c-36973699">[1 more]</label></div><br/><div class="children"><div class="content">There seems to be a lot of confusion about what Kalman filters are for in this thread. Perhaps that’s what happens when you seek a non-mathematical introduction to a mathematical topic but nevertheless I’m going to try and clear this up.<p>Specifically, the Kalman filter is a <i>recursive</i> way to estimate the state of a dynamical system. That is, specifically, the thing you want to estimate varies is a function of time. It doesn’t matter if that thing is the position and momentum of a robot or a stock price. What does matter are the following:<p>1. The dynamics are <i>linear</i> with additive Gaussian noise. That is, the next state is a linear function of the current state plus a sample from a Gaussian distribution. Optionally, if your system is controlled (i.e., there is a variable at each moment in time you can set exactly or at least with very high accuracy), the dynamics can include a linear function of that term as well.<p>2. The sensor feeding you data at each time step is a linear function of the state plus a second Gaussian noise variable independent of the first.<p>3. You know the dynamics and sensor specification. That is, you know the matrices specifying the linear functions as well as the mean and covariances of the noise models. For a mechanical system, this knowledge could be acquired using some combination of physics, controlled experimentation in a lab, reading data sheets, and good old fashioned tuning. For other systems, you apply a similarly appropriate methodology or guess.<p>4. The initial distribution of your state when you start running the filter is Gaussian and you know it’s mean and covariance (if you don’t know those, you can guess because given the filter runs for a long enough time they become irrelevant)<p>The Kalman filter takes in the parameters of the model described in (3) and gives you a new linear dynamical system that incorporates a new measurement at each time step and outputs the distribution of the current state. Since we assumed everything is linear and Gaussian, this will be a Gaussian distribution.<p>From a Bayesian perspective, the state estimate is the posterior distribution given your sensor data, model, and initial condition. From a frequentist &#x2F; decision theory perspective, you get the least squares estimate of the state subject to the constraints imposed by your dynamics.<p>If your dynamics and sensor are not linear, you either need to linearize them, which produces the “extended Kalman filter” that gives you a “local” estimate of the state or you need another method. A common choice is a particle filter.<p>If your model is garbage, then model based methods like the Kalman filter will give you garbage. If your sensor is garbage (someone mentioned the case where it outputs a fixed number), the Kalman filter will just propagate your uncertainty about the initial condition through the dynamics.</div><br/></div></div><div id="36973916" class="c"><input type="checkbox" id="c-36973916" checked=""/><div class="controls bullet"><span class="by">frankreyes</span><span>|</span><a href="#36973699">prev</a><span>|</span><a href="#36981985">next</a><span>|</span><label class="collapse" for="c-36973916">[-]</label><label class="expand" for="c-36973916">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always wanted to write a numerical Kalman Filter code, to just plug a function and then get it&#x27;s derivative. It would be slow but it would be easier to use</div><br/></div></div><div id="36981985" class="c"><input type="checkbox" id="c-36981985" checked=""/><div class="controls bullet"><span class="by">graycat</span><span>|</span><a href="#36973916">prev</a><span>|</span><a href="#36972672">next</a><span>|</span><label class="collapse" for="c-36981985">[-]</label><label class="expand" for="c-36981985">[1 more]</label></div><br/><div class="children"><div class="content">(1) Uh, just to mention, while sometimes some norms of math writing are not always made fully clear, in writing with math expressions it is important at least to define the symbols and also good to define the terms, motivate the discussion, give intuitive views, and give examples.  In particular,  (a) in physics it is standard to have some globally defined, understood, and accepted symbols, e.g., in F = ma, F for force, m for mass, and a for acceleration.  (b) Uh, essentially that is not done in math and, instead, in each paper, discussion, text chapter, etc. really should start even from, say,<p>R -- the set of real numbers<p>n -- a positive whole number<p>e -- the base of the natural logarithm<p>etc.  The paper that is the subject of this thread had some math notation without such definitions.<p>(2) My standard, quite clear, go-to source on Kalman filters is the section in (with TeX syntax)<p>David G.\ Luenberger,
{\it Optimization by Vector Space Methods,\&#x2F;}
John Wiley and Sons, Inc., New York, 1969.\ \<p>That&#x27;s a really good example of some really good math and writing of math.</div><br/></div></div><div id="36972672" class="c"><input type="checkbox" id="c-36972672" checked=""/><div class="controls bullet"><span class="by">max_</span><span>|</span><a href="#36981985">prev</a><span>|</span><label class="collapse" for="c-36972672">[-]</label><label class="expand" for="c-36972672">[3 more]</label></div><br/><div class="children"><div class="content">Are Karlman filtres useful for applications that involve financial markets?<p>If so, how?</div><br/><div id="36972745" class="c"><input type="checkbox" id="c-36972745" checked=""/><div class="controls bullet"><span class="by">KRAKRISMOTT</span><span>|</span><a href="#36972672">parent</a><span>|</span><a href="#36977290">next</a><span>|</span><label class="collapse" for="c-36972745">[-]</label><label class="expand" for="c-36972745">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s like asking if moving averages are useful. Of course they are, because they are components of basic signal processing. What you do with the data however is entirely on you. Most of these techniques are to improve the signal-to-noise ratio, but they won&#x27;t help if you don&#x27;t have an idea of what you are trying to look for in the first place.<p>More broadly, financial markets (in certain cases and depending on asset) can generally be modeled by a <i>random walk</i>, and that&#x27;s something Kalman filters can help with as mentioned in another comment.</div><br/></div></div><div id="36977290" class="c"><input type="checkbox" id="c-36977290" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#36972672">parent</a><span>|</span><a href="#36972745">prev</a><span>|</span><label class="collapse" for="c-36977290">[-]</label><label class="expand" for="c-36977290">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Linear and non-linear filtering in mathematical finance: A review&quot;<p><a href="https:&#x2F;&#x2F;bura.brunel.ac.uk&#x2F;handle&#x2F;2438&#x2F;12433" rel="nofollow noreferrer">https:&#x2F;&#x2F;bura.brunel.ac.uk&#x2F;handle&#x2F;2438&#x2F;12433</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>