<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1723971667778" as="style"/><link rel="stylesheet" href="styles.css?v=1723971667778"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://arxiv.org/abs/2408.07541">DifuzCam: Replacing Camera Lens with a Mask and a Diffusion Model</a>Â <span class="domain">(<a href="https://arxiv.org">arxiv.org</a>)</span></div><div class="subtext"><span>dataminer</span> | <span>37 comments</span></div><br/><div><div id="41277094" class="c"><input type="checkbox" id="c-41277094" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#41277122">next</a><span>|</span><label class="collapse" for="c-41277094">[-]</label><label class="expand" for="c-41277094">[2 more]</label></div><br/><div class="children"><div class="content">For those interested in various approaches to lens-free imaging, Laura Waller at Berkeley has been pursuing this area for some time.<p><a href="https:&#x2F;&#x2F;waller-lab.github.io&#x2F;DiffuserCam&#x2F;" rel="nofollow">https:&#x2F;&#x2F;waller-lab.github.io&#x2F;DiffuserCam&#x2F;</a>
<a href="https:&#x2F;&#x2F;waller-lab.github.io&#x2F;DiffuserCam&#x2F;tutorial.html" rel="nofollow">https:&#x2F;&#x2F;waller-lab.github.io&#x2F;DiffuserCam&#x2F;tutorial.html</a> includes instructions and code to build your own
<a href="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;abstract&#x2F;document&#x2F;8747341" rel="nofollow">https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;abstract&#x2F;document&#x2F;8747341</a>
<a href="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;7492880" rel="nofollow">https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;7492880</a></div><br/><div id="41280881" class="c"><input type="checkbox" id="c-41280881" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#41277094">parent</a><span>|</span><a href="#41277122">next</a><span>|</span><label class="collapse" for="c-41280881">[-]</label><label class="expand" for="c-41280881">[1 more]</label></div><br/><div class="children"><div class="content">Note the difference between a &quot;diffuser&quot; and a &quot;diffusion model&quot; here.</div><br/></div></div></div></div><div id="41277122" class="c"><input type="checkbox" id="c-41277122" checked=""/><div class="controls bullet"><span class="by">Dibby053</span><span>|</span><a href="#41277094">prev</a><span>|</span><a href="#41277008">next</a><span>|</span><label class="collapse" for="c-41277122">[-]</label><label class="expand" for="c-41277122">[2 more]</label></div><br/><div class="children"><div class="content">This would be impressive if the examples weren&#x27;t taken from the same dataset (Laion-5B) that was used to train the Stable Diffusion model it&#x27;s using.</div><br/><div id="41279788" class="c"><input type="checkbox" id="c-41279788" checked=""/><div class="controls bullet"><span class="by">Legend2440</span><span>|</span><a href="#41277122">parent</a><span>|</span><a href="#41277008">next</a><span>|</span><label class="collapse" for="c-41279788">[-]</label><label class="expand" for="c-41279788">[1 more]</label></div><br/><div class="children"><div class="content">They also show actual images they took of real scenes. See figure 6.</div><br/></div></div></div></div><div id="41277008" class="c"><input type="checkbox" id="c-41277008" checked=""/><div class="controls bullet"><span class="by">karmakaze</span><span>|</span><a href="#41277122">prev</a><span>|</span><a href="#41276824">next</a><span>|</span><label class="collapse" for="c-41277008">[-]</label><label class="expand" for="c-41277008">[3 more]</label></div><br/><div class="children"><div class="content">This is not a &#x27;camera&#x27; per se. It&#x27;s more like a human vision system that samples light and hallucinates an appropriate image based on context. The image is constructed from the data more than it is reconstructed. And like human vision, it can be correct more often than not to be useful.</div><br/><div id="41278592" class="c"><input type="checkbox" id="c-41278592" checked=""/><div class="controls bullet"><span class="by">cactusplant7374</span><span>|</span><a href="#41277008">parent</a><span>|</span><a href="#41280655">prev</a><span>|</span><a href="#41276824">next</a><span>|</span><label class="collapse" for="c-41278592">[-]</label><label class="expand" for="c-41278592">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the summary. I was looking for this.</div><br/></div></div></div></div><div id="41276824" class="c"><input type="checkbox" id="c-41276824" checked=""/><div class="controls bullet"><span class="by">teruakohatu</span><span>|</span><a href="#41277008">prev</a><span>|</span><a href="#41277838">next</a><span>|</span><label class="collapse" for="c-41276824">[-]</label><label class="expand" for="c-41276824">[4 more]</label></div><br/><div class="children"><div class="content">This is quite amazing that using a diffuser rather than a lens, then using a diffusion model can reconstruct an image so well.<p>The downside of this is that is heavily relies on the model to construct the image. Much like those colorisation models applied to old monochrome photos, the results will probably always look a little off based on the training data. I could imagine taking a photo of some weird art installation and the camera getting confused.<p>You can see examples of this when the model invented fabric texture on the fabric examples and converted solar panels to walls.</div><br/><div id="41277024" class="c"><input type="checkbox" id="c-41277024" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#41276824">parent</a><span>|</span><a href="#41280653">next</a><span>|</span><label class="collapse" for="c-41277024">[-]</label><label class="expand" for="c-41277024">[2 more]</label></div><br/><div class="children"><div class="content">The model basically guesses and reinvents what these diffuse pixels might be. It&#x27;s more like a painter producing a picture from memory.<p>It inevitably means that the &quot;camera&quot; visually parses the scene and then synthesizes its picture. The intermediate step is a great moment to semantically edit the scene. Recolor and retexture things. Remove some elements of the scene, or even add some. Use different rendering styles.<p>Imagine pointing such a &quot;camera&quot; at person standing next to a wall, and getting a picture of the person with their skin lacking any wrinkles, clothes looking more lustrous as if it were silk, not cotton, and the graffiti removed from the wall behind.<p>Or making a &quot;photo&quot; that turns a group of kids into a group of cartoon superheroes, while retaining their recognizable faces and postures.<p>(ICBM course, photo evidence made with digital cameras should long have been inadmissible in courts, but this would hasten the transition.)</div><br/><div id="41279192" class="c"><input type="checkbox" id="c-41279192" checked=""/><div class="controls bullet"><span class="by">neom</span><span>|</span><a href="#41276824">root</a><span>|</span><a href="#41277024">parent</a><span>|</span><a href="#41280653">next</a><span>|</span><label class="collapse" for="c-41279192">[-]</label><label class="expand" for="c-41279192">[1 more]</label></div><br/><div class="children"><div class="content">Kinda reminds me of this a bit: <a href="https:&#x2F;&#x2F;arstechnica.com&#x2F;gadgets&#x2F;2020&#x2F;11&#x2F;nvidia-used-neural-networks-to-improve-video-calling-bandwidth-by-10x&#x2F;" rel="nofollow">https:&#x2F;&#x2F;arstechnica.com&#x2F;gadgets&#x2F;2020&#x2F;11&#x2F;nvidia-used-neural-n...</a></div><br/></div></div></div></div><div id="41280653" class="c"><input type="checkbox" id="c-41280653" checked=""/><div class="controls bullet"><span class="by">wilted-iris</span><span>|</span><a href="#41276824">parent</a><span>|</span><a href="#41277024">prev</a><span>|</span><a href="#41277838">next</a><span>|</span><label class="collapse" for="c-41280653">[-]</label><label class="expand" for="c-41280653">[1 more]</label></div><br/><div class="children"><div class="content">Turned a guy right into a tree. This would have fascinating implications if deployed broadly.</div><br/></div></div></div></div><div id="41277838" class="c"><input type="checkbox" id="c-41277838" checked=""/><div class="controls bullet"><span class="by">Thomashuet</span><span>|</span><a href="#41276824">prev</a><span>|</span><a href="#41279637">next</a><span>|</span><label class="collapse" for="c-41277838">[-]</label><label class="expand" for="c-41277838">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand the use of a textual description. In which scenario do you not have enough space for a lens and yet have a textual description of the scene?</div><br/></div></div><div id="41279637" class="c"><input type="checkbox" id="c-41279637" checked=""/><div class="controls bullet"><span class="by">albert_e</span><span>|</span><a href="#41277838">prev</a><span>|</span><a href="#41276953">next</a><span>|</span><label class="collapse" for="c-41279637">[-]</label><label class="expand" for="c-41279637">[1 more]</label></div><br/><div class="children"><div class="content">so this is like use of (in a different species) light sensitive patches of skin instead of the eye balls (lenses) that most animals on earth evolved ?<p>interesting.<p>even if this does not immediately replace traditional cameras and lenses... I am wondering if this can add a complementary set of capabilities to a traditional camera say next to a phone&#x27;s camera bump&#x2F;island&#x2F;cluster...so that we can drive some enhanced use cases<p>maybe store the wider context in raw format alongside the EXIF data ...so that future photo manipulation models can use that ambient data to do more realistic edits &#x2F; in painting &#x2F; out painting etc?<p>I am thinking this will benefit 3D photography and video graphics a lot if you can capture more of the ambient data, not strictly channeled through the lenses</div><br/></div></div><div id="41276953" class="c"><input type="checkbox" id="c-41276953" checked=""/><div class="controls bullet"><span class="by">mjburgess</span><span>|</span><a href="#41279637">prev</a><span>|</span><a href="#41277057">next</a><span>|</span><label class="collapse" for="c-41276953">[-]</label><label class="expand" for="c-41276953">[3 more]</label></div><br/><div class="children"><div class="content">Does a camera without a lens make any physics sense? I cannot see how the scene geometry could be recoverable. Rays of light travelling from the scene arrive in all directions.<p>Intuitively, imagine moving your eye at every point along some square inch. Each position of the eye is a different image. Now all those images <i>overlap</i> on the sensor.<p>If you look at the images in the paper, everything except their most macro geometry and colour pallet is clearly generated -- since it changes depending on the prompt.<p>So at a guess, the lensless sensor gets this massive overlap of all possible photos at that location and so is able, at least, to capture minimal macro geometry and colour. This isn&#x27;t going to be a useful amount of information for almost any application.</div><br/><div id="41281032" class="c"><input type="checkbox" id="c-41281032" checked=""/><div class="controls bullet"><span class="by">nialv7</span><span>|</span><a href="#41276953">parent</a><span>|</span><a href="#41280710">next</a><span>|</span><label class="collapse" for="c-41281032">[-]</label><label class="expand" for="c-41281032">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s lensless, but it&#x27;s not just a naked sensor. It still has an optical element - read the paper.</div><br/></div></div><div id="41280710" class="c"><input type="checkbox" id="c-41280710" checked=""/><div class="controls bullet"><span class="by">orbital-decay</span><span>|</span><a href="#41276953">parent</a><span>|</span><a href="#41281032">prev</a><span>|</span><a href="#41277057">next</a><span>|</span><label class="collapse" for="c-41280710">[-]</label><label class="expand" for="c-41280710">[1 more]</label></div><br/><div class="children"><div class="content">Yes, compressed sensing cameras do exactly that. They reconstruct a photometrically correct image without the need for focusing optics or pixel arrays. They have limitations (not fundamental ones though) but they&#x27;re useful for special use cases like X-ray or LWIR single-pixel imaging where focusing optics and pixel arrays are impossible or expensive. It was first used on X-ray telescopes in 1970&#x27;s in the form of coded aperture, before the grazing incidence mirrors.</div><br/></div></div></div></div><div id="41277057" class="c"><input type="checkbox" id="c-41277057" checked=""/><div class="controls bullet"><span class="by">Snoozus</span><span>|</span><a href="#41276953">prev</a><span>|</span><a href="#41278954">next</a><span>|</span><label class="collapse" for="c-41277057">[-]</label><label class="expand" for="c-41277057">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not as crazy as it seems, a pinhole camera doesn&#x27;t have any lenses either and works just fine.
The hole size is a tradeoff between brightness and detail.
This one has many holes and uses software to puzzle their images back together.</div><br/></div></div><div id="41278954" class="c"><input type="checkbox" id="c-41278954" checked=""/><div class="controls bullet"><span class="by">pvillano</span><span>|</span><a href="#41277057">prev</a><span>|</span><a href="#41276528">next</a><span>|</span><label class="collapse" for="c-41278954">[-]</label><label class="expand" for="c-41278954">[1 more]</label></div><br/><div class="children"><div class="content">I wonder how it &quot;reacts&quot; to optical illusions? The ones we&#x27;re familiar with are optimized for probing the limits of the human visual system, but there might be some overlap</div><br/></div></div><div id="41276528" class="c"><input type="checkbox" id="c-41276528" checked=""/><div class="controls bullet"><span class="by">a1o</span><span>|</span><a href="#41278954">prev</a><span>|</span><a href="#41277117">next</a><span>|</span><label class="collapse" for="c-41276528">[-]</label><label class="expand" for="c-41276528">[8 more]</label></div><br/><div class="children"><div class="content">Oh god, we are going to make lens a premium feature now aren&#x27;t we?</div><br/><div id="41276668" class="c"><input type="checkbox" id="c-41276668" checked=""/><div class="controls bullet"><span class="by">chpatrick</span><span>|</span><a href="#41276528">parent</a><span>|</span><a href="#41277117">next</a><span>|</span><label class="collapse" for="c-41276668">[-]</label><label class="expand" for="c-41276668">[7 more]</label></div><br/><div class="children"><div class="content">It would be pretty great if cheap phones can get good cameras with this technology.</div><br/><div id="41276848" class="c"><input type="checkbox" id="c-41276848" checked=""/><div class="controls bullet"><span class="by">fpoling</span><span>|</span><a href="#41276528">root</a><span>|</span><a href="#41276668">parent</a><span>|</span><a href="#41276815">next</a><span>|</span><label class="collapse" for="c-41276848">[-]</label><label class="expand" for="c-41276848">[4 more]</label></div><br/><div class="children"><div class="content">There is no camera. It is just a diffusion model trained on a big set that tries to reconstruct the picture. Essentially this is not much different from what Samsung did with their AI-enhanced camera that detected a moon and replaced that with high-resolution picture.</div><br/><div id="41278567" class="c"><input type="checkbox" id="c-41278567" checked=""/><div class="controls bullet"><span class="by">chpatrick</span><span>|</span><a href="#41276528">root</a><span>|</span><a href="#41276848">parent</a><span>|</span><a href="#41278056">next</a><span>|</span><label class="collapse" for="c-41278567">[-]</label><label class="expand" for="c-41278567">[2 more]</label></div><br/><div class="children"><div class="content">The pictures in the paper are pretty damn close, and this is just a prototype. Plus, as you said, phones already have AI filters.</div><br/><div id="41278799" class="c"><input type="checkbox" id="c-41278799" checked=""/><div class="controls bullet"><span class="by">wl</span><span>|</span><a href="#41276528">root</a><span>|</span><a href="#41278567">parent</a><span>|</span><a href="#41278056">next</a><span>|</span><label class="collapse" for="c-41278799">[-]</label><label class="expand" for="c-41278799">[1 more]</label></div><br/><div class="children"><div class="content">The text on the Thor Labs &quot;Lab Snacks&quot; box is giant and still unreadable, the model interpolating total junk. It seems like there&#x27;s nowhere near enough signal there.</div><br/></div></div></div></div><div id="41278056" class="c"><input type="checkbox" id="c-41278056" checked=""/><div class="controls bullet"><span class="by">holoduke</span><span>|</span><a href="#41276528">root</a><span>|</span><a href="#41276848">parent</a><span>|</span><a href="#41278567">prev</a><span>|</span><a href="#41276815">next</a><span>|</span><label class="collapse" for="c-41278056">[-]</label><label class="expand" for="c-41278056">[1 more]</label></div><br/><div class="children"><div class="content">And yet, we will probably get all camera software on our phones with unlimited zoom and details. Turning grain in crispy clear pictures. Inpainting, outpainting etc.
In 5 years from now everybody uses it. Everything becomes fake.</div><br/></div></div></div></div><div id="41276815" class="c"><input type="checkbox" id="c-41276815" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#41276528">root</a><span>|</span><a href="#41276668">parent</a><span>|</span><a href="#41276848">prev</a><span>|</span><a href="#41277117">next</a><span>|</span><label class="collapse" for="c-41276815">[-]</label><label class="expand" for="c-41276815">[2 more]</label></div><br/><div class="children"><div class="content">If&#x2F;when cheap enough, even non-phone devices (POS terminals, vending machines, etc) will have cameras; will living in a camera-free environment become the premium feature?</div><br/><div id="41278571" class="c"><input type="checkbox" id="c-41278571" checked=""/><div class="controls bullet"><span class="by">chpatrick</span><span>|</span><a href="#41276528">root</a><span>|</span><a href="#41276815">parent</a><span>|</span><a href="#41277117">next</a><span>|</span><label class="collapse" for="c-41278571">[-]</label><label class="expand" for="c-41278571">[1 more]</label></div><br/><div class="children"><div class="content">Cameras are already cheap enough to put in everything.</div><br/></div></div></div></div></div></div></div></div><div id="41277117" class="c"><input type="checkbox" id="c-41277117" checked=""/><div class="controls bullet"><span class="by">6gvONxR4sf7o</span><span>|</span><a href="#41276528">prev</a><span>|</span><a href="#41276501">next</a><span>|</span><label class="collapse" for="c-41277117">[-]</label><label class="expand" for="c-41277117">[4 more]</label></div><br/><div class="children"><div class="content">Re: is this a camera or not, I recently realized that my fancy mirrorless camera is closer to this than iâd previously thought.<p>The sensor has a zillion pixels but each one only measures one color. for example, the pixel at index (145, 2832) might only measure green, while its neighbor at (145, 2833) only measures red. So we use models to fill in the blanks. We didnât measure redness at (145, 2832) so we guess based on the redness nearby.<p>This kind of guessing is exactly what modern CV is so good at. So the line of what is a camera and what isnât is a bit blurry to begin with.</div><br/><div id="41280869" class="c"><input type="checkbox" id="c-41280869" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#41277117">parent</a><span>|</span><a href="#41277207">next</a><span>|</span><label class="collapse" for="c-41280869">[-]</label><label class="expand" for="c-41280869">[1 more]</label></div><br/><div class="children"><div class="content">They don&#x27;t use models (although you certainly could.) They usually use plain old closed-form solutions.</div><br/></div></div><div id="41277207" class="c"><input type="checkbox" id="c-41277207" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41277117">parent</a><span>|</span><a href="#41280869">prev</a><span>|</span><a href="#41276501">next</a><span>|</span><label class="collapse" for="c-41277207">[-]</label><label class="expand" for="c-41277207">[2 more]</label></div><br/><div class="children"><div class="content">The structure you are referring to is a Bayer Array. Algorithms that do the guessing are called debayering algorithms</div><br/><div id="41278393" class="c"><input type="checkbox" id="c-41278393" checked=""/><div class="controls bullet"><span class="by">6gvONxR4sf7o</span><span>|</span><a href="#41277117">root</a><span>|</span><a href="#41277207">parent</a><span>|</span><a href="#41276501">next</a><span>|</span><label class="collapse" for="c-41278393">[-]</label><label class="expand" for="c-41278393">[1 more]</label></div><br/><div class="children"><div class="content">I think thatâs just a particular (very common) case. In general itâs called demosaicing, right?</div><br/></div></div></div></div></div></div><div id="41276501" class="c"><input type="checkbox" id="c-41276501" checked=""/><div class="controls bullet"><span class="by">valine</span><span>|</span><a href="#41277117">prev</a><span>|</span><a href="#41276995">next</a><span>|</span><label class="collapse" for="c-41276501">[-]</label><label class="expand" for="c-41276501">[4 more]</label></div><br/><div class="children"><div class="content">I get the feeling that lens free cameras are the future. Obviously the results here are no where near good enough, but given the rapid improvement of diffusion models lately the trajectory seems clear.<p>Would love to lose the camera bump on the back of my phone.</div><br/><div id="41276859" class="c"><input type="checkbox" id="c-41276859" checked=""/><div class="controls bullet"><span class="by">xandrius</span><span>|</span><a href="#41276501">parent</a><span>|</span><a href="#41276995">next</a><span>|</span><label class="collapse" for="c-41276859">[-]</label><label class="expand" for="c-41276859">[3 more]</label></div><br/><div class="children"><div class="content">So you just get something based off GPS, time of day and rotation?<p>Or no photos anymore?</div><br/><div id="41277062" class="c"><input type="checkbox" id="c-41277062" checked=""/><div class="controls bullet"><span class="by">valine</span><span>|</span><a href="#41276501">root</a><span>|</span><a href="#41276859">parent</a><span>|</span><a href="#41277300">next</a><span>|</span><label class="collapse" for="c-41277062">[-]</label><label class="expand" for="c-41277062">[1 more]</label></div><br/><div class="children"><div class="content">Not sure I understand the question. This paper is about using diffusion models to reconstruct usable images from raw sensor data. The diffusion model in essence replaces the lens.</div><br/></div></div><div id="41277300" class="c"><input type="checkbox" id="c-41277300" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41276501">root</a><span>|</span><a href="#41276859">parent</a><span>|</span><a href="#41277062">prev</a><span>|</span><a href="#41276995">next</a><span>|</span><label class="collapse" for="c-41277300">[-]</label><label class="expand" for="c-41277300">[1 more]</label></div><br/><div class="children"><div class="content">there would be a bunch of holes and a ccd at the back, just no growths of bulbous lens.</div><br/></div></div></div></div></div></div><div id="41276974" class="c"><input type="checkbox" id="c-41276974" checked=""/><div class="controls bullet"><span class="by">ziofill</span><span>|</span><a href="#41276995">prev</a><span>|</span><label class="collapse" for="c-41276974">[-]</label><label class="expand" for="c-41276974">[1 more]</label></div><br/><div class="children"><div class="content">+1 for the Thor labs candy box</div><br/></div></div></div></div></div></div></div></body></html>