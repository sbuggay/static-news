<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736931675383" as="style"/><link rel="stylesheet" href="styles.css?v=1736931675383"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ffmpegbyexample.com/">FFmpeg by Example</a> <span class="domain">(<a href="https://ffmpegbyexample.com">ffmpegbyexample.com</a>)</span></div><div class="subtext"><span>piyushsthr</span> | <span>149 comments</span></div><br/><div><div id="42704234" class="c"><input type="checkbox" id="c-42704234" checked=""/><div class="controls bullet"><span class="by">hbn</span><span>|</span><a href="#42704383">next</a><span>|</span><label class="collapse" for="c-42704234">[-]</label><label class="expand" for="c-42704234">[66 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve enjoyed using ffmpeg 1000% more since I was able to stop doing manually the tedious task of Googling for Stack Overflow answers and cobbling them into a command and got Chat GPT to write me commands instead.</div><br/><div id="42705589" class="c"><input type="checkbox" id="c-42705589" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42704483">next</a><span>|</span><label class="collapse" for="c-42705589">[-]</label><label class="expand" for="c-42705589">[36 more]</label></div><br/><div class="children"><div class="content">I use ffmpeg multiple times a week thanks to LLMs. It&#x27;s my top use-case for my &quot;llm cmd&quot; tool:<p><pre><code>  uv tool install llm
  llm install llm-cmd

  llm cmd use ffmpeg to extract audio from myfile.mov and save that as mp3
</code></pre>
<a href="https:&#x2F;&#x2F;github.com&#x2F;simonw&#x2F;llm-cmd">https:&#x2F;&#x2F;github.com&#x2F;simonw&#x2F;llm-cmd</a></div><br/><div id="42705897" class="c"><input type="checkbox" id="c-42705897" checked=""/><div class="controls bullet"><span class="by">resonious</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42708585">next</a><span>|</span><label class="collapse" for="c-42705897">[-]</label><label class="expand" for="c-42705897">[24 more]</label></div><br/><div class="children"><div class="content">I tried this (though with a different tool called aichat) for extremely simple stuff like just &quot;convert this mov to mp4&quot; and it generated overly complex commands that failed due to missing libraries. When I removed the &quot;crap&quot; from the commands, they worked.<p>So much like code assistance, they still need a fair amount of baby sitting. A good boost for experienced operators but might suck for beginners.</div><br/><div id="42708480" class="c"><input type="checkbox" id="c-42708480" checked=""/><div class="controls bullet"><span class="by">cm2187</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705897">parent</a><span>|</span><a href="#42707008">next</a><span>|</span><label class="collapse" for="c-42708480">[-]</label><label class="expand" for="c-42708480">[1 more]</label></div><br/><div class="children"><div class="content">Plus you need to know the format of your source file to design the command correctly. How many audio tracks, is the first video track a thumbnail or the video, are the subtitles tracks forced, etc.<p>And in some situations ffmpeg has some warts you have to go around. Like they introduced recently a moronic change of behaviour where the first sub tracks becomes forced&#x2F;default irrespective of the original forced&#x2F;default flag of the source. You need to add &quot;-default_mode infer_no_subs&quot; to counter that.</div><br/></div></div><div id="42707008" class="c"><input type="checkbox" id="c-42707008" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705897">parent</a><span>|</span><a href="#42708480">prev</a><span>|</span><a href="#42706638">next</a><span>|</span><label class="collapse" for="c-42707008">[-]</label><label class="expand" for="c-42707008">[1 more]</label></div><br/><div class="children"><div class="content">My feelings exactly, but I think that&#x27;s OK!<p>It&#x27;s another tool and one that might actually improve with time. I don&#x27;t see GNU&#x27;s man pages getting any better spontaneously.<p>Whoa, what if they started to use AI to auto-generate man pages...</div><br/></div></div><div id="42706638" class="c"><input type="checkbox" id="c-42706638" checked=""/><div class="controls bullet"><span class="by">sdesol</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705897">parent</a><span>|</span><a href="#42707008">prev</a><span>|</span><a href="#42708428">next</a><span>|</span><label class="collapse" for="c-42706638">[-]</label><label class="expand" for="c-42706638">[6 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;convert this mov to mp4&quot;<p>Did any of the commands look like the ones in the left window:<p><a href="https:&#x2F;&#x2F;beta.gitsense.com&#x2F;?chats=12850fe4-ffb1-4618-9215-c13dec6c4bc7%2C2488539e-bcbc-43c6-9199-67afc4ae0881&amp;models=Claude+3.5+Sonnet%2CClaude+3.5+Sonnet" rel="nofollow">https:&#x2F;&#x2F;beta.gitsense.com&#x2F;?chats=12850fe4-ffb1-4618-9215-c13...</a><p>The left window contains a summary of all the LLMs asked, including all commands.  The right window contains the individual LLM responses.<p>I asked about gotchas with missing libraries as well, and Sonnet 3.5 said there were.  Were these the same libraries that were missing for you?</div><br/><div id="42706702" class="c"><input type="checkbox" id="c-42706702" checked=""/><div class="controls bullet"><span class="by">resonious</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706638">parent</a><span>|</span><a href="#42708428">next</a><span>|</span><label class="collapse" for="c-42706702">[-]</label><label class="expand" for="c-42706702">[5 more]</label></div><br/><div class="children"><div class="content">Looking at this, I am pretty sure I also received a &quot;libx264&quot; clause. Removing it made the command work for me.</div><br/><div id="42706952" class="c"><input type="checkbox" id="c-42706952" checked=""/><div class="controls bullet"><span class="by">sdesol</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706702">parent</a><span>|</span><a href="#42707290">next</a><span>|</span><label class="collapse" for="c-42706952">[-]</label><label class="expand" for="c-42706952">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t disagree that we need to be cautious with LLMs, but I&#x27;ve personally stopped asking GPT-4&#x2F;GPT-4 mini for technical answers. Sonnet 3.5 and DeepSeek V3 (which is much cheaper but still not as good as Sonnet) are your best bet for technical questions.<p>Where I find GPT to perform better than Sonnet is with text processing. GPT seems to better understand what I want when it comes to processing documents.<p>I&#x27;m convinced that no LLM provider has created or will create a moat, and that we will always need to shop around for an answer.</div><br/><div id="42707545" class="c"><input type="checkbox" id="c-42707545" checked=""/><div class="controls bullet"><span class="by">wegfawefgawefg</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706952">parent</a><span>|</span><a href="#42707290">next</a><span>|</span><label class="collapse" for="c-42707545">[-]</label><label class="expand" for="c-42707545">[2 more]</label></div><br/><div class="children"><div class="content">everyone stopped using 4&#x2F;4mini because theyre old.<p>4o replaced 4 back in April 2024.
01&#x2F;01mini replaced 4o in Fall 2024.<p>stop using 4. use 01mini always.
its cheaper, faster, and better.<p>o1&#x2F;o1mini will be replaced by o3&#x2F;o3mini in a couple months.</div><br/><div id="42707712" class="c"><input type="checkbox" id="c-42707712" checked=""/><div class="controls bullet"><span class="by">sdesol</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42707545">parent</a><span>|</span><a href="#42707290">next</a><span>|</span><label class="collapse" for="c-42707712">[-]</label><label class="expand" for="c-42707712">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately you need to be tier 2 to use o1-mini. The only time I really use GPT is to summarize documents and for that, GPT-4o mini works well enough and it is significantly cheaper than other high quality models, so I never really rack up an OpenAI bill.</div><br/></div></div></div></div></div></div><div id="42707290" class="c"><input type="checkbox" id="c-42707290" checked=""/><div class="controls bullet"><span class="by">jack_pp</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706702">parent</a><span>|</span><a href="#42706952">prev</a><span>|</span><a href="#42708428">next</a><span>|</span><label class="collapse" for="c-42707290">[-]</label><label class="expand" for="c-42707290">[1 more]</label></div><br/><div class="children"><div class="content">libx264 is the best encoder for h264 ffmpeg has to offer so it&#x27;s pretty important you bundle it in your ffmpeg install. Those commands are perfectly standard, I&#x27;ve been using something like that for 10+ years</div><br/></div></div></div></div></div></div><div id="42708428" class="c"><input type="checkbox" id="c-42708428" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705897">parent</a><span>|</span><a href="#42706638">prev</a><span>|</span><a href="#42706157">next</a><span>|</span><label class="collapse" for="c-42708428">[-]</label><label class="expand" for="c-42708428">[3 more]</label></div><br/><div class="children"><div class="content">Reading this feels like seing a guy getting his first car in 1920 and complaining he still has to drive it himself.</div><br/><div id="42708528" class="c"><input type="checkbox" id="c-42708528" checked=""/><div class="controls bullet"><span class="by">pbhjpbhj</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42708428">parent</a><span>|</span><a href="#42708463">next</a><span>|</span><label class="collapse" for="c-42708528">[-]</label><label class="expand" for="c-42708528">[1 more]</label></div><br/><div class="children"><div class="content">Pony &amp; trap could be largely self-driving, after an initial training period. That would have been a distinct negative to &quot;upgrading&quot; for some, I&#x27;d imagine.</div><br/></div></div><div id="42708463" class="c"><input type="checkbox" id="c-42708463" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42708428">parent</a><span>|</span><a href="#42708528">prev</a><span>|</span><a href="#42706157">next</a><span>|</span><label class="collapse" for="c-42708463">[-]</label><label class="expand" for="c-42708463">[1 more]</label></div><br/><div class="children"><div class="content">Sell that guy probably got carried home by his horse after drinking half a bottle of whiskey, so maybe he had a point.</div><br/></div></div></div></div><div id="42706157" class="c"><input type="checkbox" id="c-42706157" checked=""/><div class="controls bullet"><span class="by">Philpax</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705897">parent</a><span>|</span><a href="#42708428">prev</a><span>|</span><a href="#42708585">next</a><span>|</span><label class="collapse" for="c-42706157">[-]</label><label class="expand" for="c-42706157">[12 more]</label></div><br/><div class="children"><div class="content">Hate to be that guy, but which LLM was doing the generation? GPT-4 Turbo &#x2F; Claude 3.x have not really let me down in generating ffmpeg commands - especially for basic requests - with most of their failures resulting from domain-specific vagaries that an expert would need to weigh in on m</div><br/><div id="42706688" class="c"><input type="checkbox" id="c-42706688" checked=""/><div class="controls bullet"><span class="by">resonious</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706157">parent</a><span>|</span><a href="#42706419">next</a><span>|</span><label class="collapse" for="c-42706688">[-]</label><label class="expand" for="c-42706688">[5 more]</label></div><br/><div class="children"><div class="content">GPT-4</div><br/><div id="42706955" class="c"><input type="checkbox" id="c-42706955" checked=""/><div class="controls bullet"><span class="by">Philpax</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706688">parent</a><span>|</span><a href="#42706419">next</a><span>|</span><label class="collapse" for="c-42706955">[-]</label><label class="expand" for="c-42706955">[4 more]</label></div><br/><div class="children"><div class="content">Fair enough. If you remember what you were testing with, I&#x27;d love to try it again to see if things are better now.</div><br/><div id="42707018" class="c"><input type="checkbox" id="c-42707018" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706955">parent</a><span>|</span><a href="#42706419">next</a><span>|</span><label class="collapse" for="c-42707018">[-]</label><label class="expand" for="c-42707018">[3 more]</label></div><br/><div class="children"><div class="content">You have a fair point. Some LLMs are better at some tasks, and prompts can make a difference no doubt.<p>Perhaps at some point there will be a triage LLM to slurp up the problem and then decide which secondary LLM is most optimal for that query, and some tertiary LLMs that execute and evaluate it in a virtual machine, etc.<p>Maybe someday</div><br/><div id="42707185" class="c"><input type="checkbox" id="c-42707185" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42707018">parent</a><span>|</span><a href="#42706419">next</a><span>|</span><label class="collapse" for="c-42707185">[-]</label><label class="expand" for="c-42707185">[2 more]</label></div><br/><div class="children"><div class="content">Oh I talked to some guys who started a company that does that. This was at an AI meetup in SF last year. They were mainly focused on making $&#x2F;token cheaper by directing easy&#x2F;dumb queries to smaller dumber models, but it also increases output quality because some models are just better at certain things. I&#x27;m sure all the big companies already have implementations of this by now even if they don&#x27;t use it everywhere</div><br/><div id="42707425" class="c"><input type="checkbox" id="c-42707425" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42707185">parent</a><span>|</span><a href="#42706419">next</a><span>|</span><label class="collapse" for="c-42707425">[-]</label><label class="expand" for="c-42707425">[1 more]</label></div><br/><div class="children"><div class="content">I was suggesting optimizing for answer quality, but optimizing for cost might be useful too I suppose for &quot;business innovation&quot; purposes.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42706419" class="c"><input type="checkbox" id="c-42706419" checked=""/><div class="controls bullet"><span class="by">th0ma5</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706157">parent</a><span>|</span><a href="#42706688">prev</a><span>|</span><a href="#42708585">next</a><span>|</span><label class="collapse" for="c-42706419">[-]</label><label class="expand" for="c-42706419">[6 more]</label></div><br/><div class="children"><div class="content">Hate to be that guy, but which model works without fail for any task that ffmpeg can do?</div><br/><div id="42706483" class="c"><input type="checkbox" id="c-42706483" checked=""/><div class="controls bullet"><span class="by">iameli</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706419">parent</a><span>|</span><a href="#42708504">next</a><span>|</span><label class="collapse" for="c-42706483">[-]</label><label class="expand" for="c-42706483">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Writing working commands first try for every single ffmpeg feature that exists&quot; is the highest bar I&#x27;ve ever heard of, I love it. I&#x27;m gonna start listing it as a requirement on job postings. Like an ffmpeg speedrun.</div><br/><div id="42708777" class="c"><input type="checkbox" id="c-42708777" checked=""/><div class="controls bullet"><span class="by">MzxgckZtNqX5i</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706483">parent</a><span>|</span><a href="#42708504">next</a><span>|</span><label class="collapse" for="c-42708777">[-]</label><label class="expand" for="c-42708777">[1 more]</label></div><br/><div class="children"><div class="content">Obligatory xkcd: <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;1168&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;1168&#x2F;</a>.</div><br/></div></div></div></div><div id="42708504" class="c"><input type="checkbox" id="c-42708504" checked=""/><div class="controls bullet"><span class="by">AuryGlenz</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706419">parent</a><span>|</span><a href="#42706483">prev</a><span>|</span><a href="#42706515">next</a><span>|</span><label class="collapse" for="c-42708504">[-]</label><label class="expand" for="c-42708504">[1 more]</label></div><br/><div class="children"><div class="content">I know I struggled on getting a good command to “simply” make the videos from my Z8 smaller (in file size).<p>Usually the color was wrong and I don’t care enough to learn about colorspaces to figure out how to fix it and it’s utterly insane how difficult it is even with LLMs.<p>Just reencode it as is but a little more lossy. Is that so hard?</div><br/></div></div><div id="42706515" class="c"><input type="checkbox" id="c-42706515" checked=""/><div class="controls bullet"><span class="by">Philpax</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706419">parent</a><span>|</span><a href="#42708504">prev</a><span>|</span><a href="#42706563">next</a><span>|</span><label class="collapse" for="c-42706515">[-]</label><label class="expand" for="c-42706515">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think there&#x27;s a single human on or outside of this planet that can meet that requirement, but Claude has been pretty good to me. It&#x27;s certainly a much better starting point than pouring over docs and SO posts.</div><br/></div></div><div id="42706563" class="c"><input type="checkbox" id="c-42706563" checked=""/><div class="controls bullet"><span class="by">bloqs</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706419">parent</a><span>|</span><a href="#42706515">prev</a><span>|</span><a href="#42708585">next</a><span>|</span><label class="collapse" for="c-42706563">[-]</label><label class="expand" for="c-42706563">[1 more]</label></div><br/><div class="children"><div class="content">This doesnt exist in reality so in one sense, you could challenge the relevance</div><br/></div></div></div></div></div></div></div></div><div id="42708585" class="c"><input type="checkbox" id="c-42708585" checked=""/><div class="controls bullet"><span class="by">mvonballmo</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42705897">prev</a><span>|</span><a href="#42705995">next</a><span>|</span><label class="collapse" for="c-42708585">[-]</label><label class="expand" for="c-42708585">[1 more]</label></div><br/><div class="children"><div class="content">Hypertalk &lt;<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HyperTalk" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HyperTalk</a>&gt; lives.</div><br/></div></div><div id="42705995" class="c"><input type="checkbox" id="c-42705995" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42708585">prev</a><span>|</span><a href="#42705653">next</a><span>|</span><label class="collapse" for="c-42705995">[-]</label><label class="expand" for="c-42705995">[2 more]</label></div><br/><div class="children"><div class="content">&gt;This will then be displayed in your terminal ready for you to edit it, or hit &lt;enter&gt; to execute the prompt. If the command doesnt&#x27;t look right, hit Ctrl+C to cancel.<p>I appreciate the UI choice here. I have yet to do anything with AI (consciously and deliberately, anyway) but this sort of thing is exactly what I imagine as a proper use case.</div><br/><div id="42706163" class="c"><input type="checkbox" id="c-42706163" checked=""/><div class="controls bullet"><span class="by">hnuser123456</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705995">parent</a><span>|</span><a href="#42705653">next</a><span>|</span><label class="collapse" for="c-42706163">[-]</label><label class="expand" for="c-42706163">[1 more]</label></div><br/><div class="children"><div class="content">Just like all other code. There will be user-respecting open source code and tools, and there&#x27;s user-disrespecting profitable closed code that makes too many decisions for you.</div><br/></div></div></div></div><div id="42705653" class="c"><input type="checkbox" id="c-42705653" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42705995">prev</a><span>|</span><a href="#42708452">next</a><span>|</span><label class="collapse" for="c-42705653">[-]</label><label class="expand" for="c-42705653">[1 more]</label></div><br/><div class="children"><div class="content">&quot;The future is already here.  It&#x27;s just not very well distributed&quot;<p>(honestly, the work you share is very inspiring)</div><br/></div></div><div id="42708452" class="c"><input type="checkbox" id="c-42708452" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42705653">prev</a><span>|</span><a href="#42706462">next</a><span>|</span><label class="collapse" for="c-42708452">[-]</label><label class="expand" for="c-42708452">[2 more]</label></div><br/><div class="children"><div class="content">Did you just invent the LLM-equivalent of curl-piping unread shell scripts into sh?<p>I am sure that will never cause any problems.</div><br/><div id="42708830" class="c"><input type="checkbox" id="c-42708830" checked=""/><div class="controls bullet"><span class="by">ykonstant</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42708452">parent</a><span>|</span><a href="#42706462">next</a><span>|</span><label class="collapse" for="c-42708830">[-]</label><label class="expand" for="c-42708830">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Did you just invent the LLM-equivalent of curl-piping unread shell scripts into sh?<p>Many such cases.</div><br/></div></div></div></div><div id="42706462" class="c"><input type="checkbox" id="c-42706462" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42708452">prev</a><span>|</span><a href="#42706415">next</a><span>|</span><label class="collapse" for="c-42706462">[-]</label><label class="expand" for="c-42706462">[4 more]</label></div><br/><div class="children"><div class="content">I think I’m finally sold on actually attempting to add some LLM to my toolbelt.<p>As a helper and not a replacement, this sounds grand. Like the most epic autocomplete. Because I hate how much time I waste trying to figure out the command line incantation when I already know precisely what I want to do. It’s the weakest part of the command line experience.</div><br/><div id="42707060" class="c"><input type="checkbox" id="c-42707060" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706462">parent</a><span>|</span><a href="#42706415">next</a><span>|</span><label class="collapse" for="c-42707060">[-]</label><label class="expand" for="c-42707060">[3 more]</label></div><br/><div class="children"><div class="content">But possibly the most rewarding. The struggle is its own reward that pays off later many times over.</div><br/><div id="42707512" class="c"><input type="checkbox" id="c-42707512" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42707060">parent</a><span>|</span><a href="#42706415">next</a><span>|</span><label class="collapse" for="c-42707512">[-]</label><label class="expand" for="c-42707512">[2 more]</label></div><br/><div class="children"><div class="content">Not for me. It’s a tool I don’t care to use any more than I have to. I’m much more interested in what I’m using the tool to accomplish.</div><br/><div id="42707938" class="c"><input type="checkbox" id="c-42707938" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42707512">parent</a><span>|</span><a href="#42706415">next</a><span>|</span><label class="collapse" for="c-42707938">[-]</label><label class="expand" for="c-42707938">[1 more]</label></div><br/><div class="children"><div class="content">I am not talking about the tool per se. I am talking about the skill of persistence and creativity in the face of a problem.<p>Learning a tool is useful, even invaluable, but if you don&#x27;t have the persistence to use it, it&#x27;s useless.<p>And many tools are just partially useful under some conditions. So creativity in using them is also useful.<p>So it&#x27;s not about the tools, its about not giving up and trying different things, which makes all tools more effective, and problem-solving more likely.</div><br/></div></div></div></div></div></div></div></div><div id="42706415" class="c"><input type="checkbox" id="c-42706415" checked=""/><div class="controls bullet"><span class="by">th0ma5</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705589">parent</a><span>|</span><a href="#42706462">prev</a><span>|</span><a href="#42704483">next</a><span>|</span><label class="collapse" for="c-42706415">[-]</label><label class="expand" for="c-42706415">[1 more]</label></div><br/><div class="children"><div class="content">You should figure out what went wrong for the other commenter and fix your tool.</div><br/></div></div></div></div><div id="42704483" class="c"><input type="checkbox" id="c-42704483" checked=""/><div class="controls bullet"><span class="by">levocardia</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42705589">prev</a><span>|</span><a href="#42708362">next</a><span>|</span><label class="collapse" for="c-42704483">[-]</label><label class="expand" for="c-42704483">[16 more]</label></div><br/><div class="children"><div class="content">For the longest time I had ffmpeg in the same bucket as regex: &quot;God I really need to learn this but I&#x27;m going to hate it so much.&quot; Then ChatGPT came along and solved both problems!</div><br/><div id="42706228" class="c"><input type="checkbox" id="c-42706228" checked=""/><div class="controls bullet"><span class="by">zxvkhkxvdvbdxz</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704483">parent</a><span>|</span><a href="#42708706">next</a><span>|</span><label class="collapse" for="c-42706228">[-]</label><label class="expand" for="c-42706228">[4 more]</label></div><br/><div class="children"><div class="content">Interesting. Being able to use regexps for text processing through my career has probably saved me a few thousand hours of programming one-off solutions so far. It is one of those skills that really pays off to learn proper.<p>And speaking of ffmpeg, or tooling in general, I tend to make notes. After a while you end up with a pretty decent curated reference.</div><br/><div id="42706654" class="c"><input type="checkbox" id="c-42706654" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706228">parent</a><span>|</span><a href="#42706924">next</a><span>|</span><label class="collapse" for="c-42706654">[-]</label><label class="expand" for="c-42706654">[1 more]</label></div><br/><div class="children"><div class="content">I use regexes a lot. The main thing that always trips me up is dealing with escaping, because different tools I use – vim, sed, rg, and so on – sometimes have different meanings for when to escape or not.<p>In one tool you’ll use + to match one or more times, and \+ to mean literal plus sign.<p>In another tool you’ll use \+ to match one or more time, and + to mean literal plus sign.<p>In one tool you’ll use ( and ) to create a match group, and \( and \) to mean literal open and close parentheses.<p>In another tool you’ll use \( and \) to create a match group, and ( and ) to mean literal open and close parentheses.<p>This is basically the only problem I have when writing regexes, for the kinds of regexes I write.<p>Also, one thing that’s not a problem per se but something that leads me to write my regexes with more characters than strictly necessary is that I rarely use shorthand for groups of characters. For example the tool might have a shorthand for digit but I always write [0-9] when I need to match a digit. Also probably because the shorthand might or might not be different for different tools.<p>Regexes are also known to be “write once read never”, in that writing a regex is relatively easy, but revisiting a semi-complicated regex you or someone else wrote in the past takes a little bit of extra effort to figure out what it’s matching and what edits one should make to it. In this case, tools like <a href="https:&#x2F;&#x2F;regex101.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;regex101.com&#x2F;</a> or <a href="https:&#x2F;&#x2F;www.debuggex.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.debuggex.com&#x2F;</a> help a lot.</div><br/></div></div><div id="42706924" class="c"><input type="checkbox" id="c-42706924" checked=""/><div class="controls bullet"><span class="by">mystified5016</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706228">parent</a><span>|</span><a href="#42706654">prev</a><span>|</span><a href="#42708706">next</a><span>|</span><label class="collapse" for="c-42706924">[-]</label><label class="expand" for="c-42706924">[2 more]</label></div><br/><div class="children"><div class="content">No one doubts the power or utility of regexes or ffmpeg, but they are both complicated beasts that really take a lot of skill.<p>They&#x27;re both tools where if they&#x27;re part of your daily workflow you&#x27;ll get immense value out of learning them thoroughly. If instead you need a regex once or twice a week, the benefit is not greater than the cost of learning to do it myself. I have a hundred other equally complicated things to learn and remember, half the job of the computer is to know things I can&#x27;t put in my brain. If it can do the regex for me, I suddenly get 70% of the value at no cost.<p>Regex is not a tool I need often enough to justify the hours and brain space. But it is still an indespensible tool. So when I <i>need</i> a regex, I either ask a human wizard I know, or now I ask my computer directly.</div><br/><div id="42708185" class="c"><input type="checkbox" id="c-42708185" checked=""/><div class="controls bullet"><span class="by">imp0cat</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706924">parent</a><span>|</span><a href="#42708706">next</a><span>|</span><label class="collapse" for="c-42708185">[-]</label><label class="expand" for="c-42708185">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s self-reinforcing though. If you invest the time to learn, then you may find yourself (i a beafutiful house :)) using it a lot more than two times a week.</div><br/></div></div></div></div></div></div><div id="42708706" class="c"><input type="checkbox" id="c-42708706" checked=""/><div class="controls bullet"><span class="by">jmb99</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704483">parent</a><span>|</span><a href="#42706228">prev</a><span>|</span><a href="#42705520">next</a><span>|</span><label class="collapse" for="c-42708706">[-]</label><label class="expand" for="c-42708706">[1 more]</label></div><br/><div class="children"><div class="content">For me, it wasn’t so much learning ffmpeg, as it was understanding containers&#x2F;codecs&#x2F;encoders&#x2F;streams&#x2F;etc. Learning all of the intricacies there made ffmpeg make a lot more sense.</div><br/></div></div><div id="42705520" class="c"><input type="checkbox" id="c-42705520" checked=""/><div class="controls bullet"><span class="by">earnestinger</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704483">parent</a><span>|</span><a href="#42708706">prev</a><span>|</span><a href="#42705434">next</a><span>|</span><label class="collapse" for="c-42705520">[-]</label><label class="expand" for="c-42705520">[5 more]</label></div><br/><div class="children"><div class="content">Not sure about ffmpeg, but you should definitely try memorising regexp. Casual Search&amp;replace that becomes possible is worth it.</div><br/><div id="42705683" class="c"><input type="checkbox" id="c-42705683" checked=""/><div class="controls bullet"><span class="by">sergiotapia</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705520">parent</a><span>|</span><a href="#42705434">next</a><span>|</span><label class="collapse" for="c-42705683">[-]</label><label class="expand" for="c-42705683">[4 more]</label></div><br/><div class="children"><div class="content">in 15 years it never sticks and by the time i need it again i&#x27;ve forgotten it! :D</div><br/><div id="42705960" class="c"><input type="checkbox" id="c-42705960" checked=""/><div class="controls bullet"><span class="by">kevin_thibedeau</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705683">parent</a><span>|</span><a href="#42705434">next</a><span>|</span><label class="collapse" for="c-42705960">[-]</label><label class="expand" for="c-42705960">[3 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t learn the Perl influenced extensions. You just need POSIX EREs (and BREs for some older utilities) which are simple enough to keep in the head.</div><br/><div id="42706488" class="c"><input type="checkbox" id="c-42706488" checked=""/><div class="controls bullet"><span class="by">ziml77</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705960">parent</a><span>|</span><a href="#42705434">next</a><span>|</span><label class="collapse" for="c-42706488">[-]</label><label class="expand" for="c-42706488">[2 more]</label></div><br/><div class="children"><div class="content">And with the POSIX EREs, everything except the syntax for character classes will carry over to other common Regex dialects.</div><br/><div id="42707070" class="c"><input type="checkbox" id="c-42707070" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42706488">parent</a><span>|</span><a href="#42705434">next</a><span>|</span><label class="collapse" for="c-42707070">[-]</label><label class="expand" for="c-42707070">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll just leave this here<p>&quot;The Insanity Of Linux&#x27;s Regular Expressions &quot;
<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ys7yUyyQA-Y" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ys7yUyyQA-Y</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="42705434" class="c"><input type="checkbox" id="c-42705434" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704483">parent</a><span>|</span><a href="#42705520">prev</a><span>|</span><a href="#42706815">next</a><span>|</span><label class="collapse" for="c-42705434">[-]</label><label class="expand" for="c-42705434">[1 more]</label></div><br/><div class="children"><div class="content">Gotta be honest, years of configuring automod on Reddit have honed me into a regex God.</div><br/></div></div><div id="42706815" class="c"><input type="checkbox" id="c-42706815" checked=""/><div class="controls bullet"><span class="by">shlomo_z</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704483">parent</a><span>|</span><a href="#42705434">prev</a><span>|</span><a href="#42704675">next</a><span>|</span><label class="collapse" for="c-42706815">[-]</label><label class="expand" for="c-42706815">[1 more]</label></div><br/><div class="children"><div class="content">... Then ChatGPT came along and I had 3 problems! <a href="https:&#x2F;&#x2F;regex.info&#x2F;blog&#x2F;2006-09-15&#x2F;247" rel="nofollow">https:&#x2F;&#x2F;regex.info&#x2F;blog&#x2F;2006-09-15&#x2F;247</a></div><br/></div></div><div id="42704675" class="c"><input type="checkbox" id="c-42704675" checked=""/><div class="controls bullet"><span class="by">hackingonempty</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704483">parent</a><span>|</span><a href="#42706815">prev</a><span>|</span><a href="#42708362">next</a><span>|</span><label class="collapse" for="c-42704675">[-]</label><label class="expand" for="c-42704675">[3 more]</label></div><br/><div class="children"><div class="content">CSS has entered the ChatGPT.</div><br/><div id="42705632" class="c"><input type="checkbox" id="c-42705632" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704675">parent</a><span>|</span><a href="#42705340">next</a><span>|</span><label class="collapse" for="c-42705632">[-]</label><label class="expand" for="c-42705632">[1 more]</label></div><br/><div class="children"><div class="content">My rule for using LLMs is that anything that&#x27;s one off is okay. Anything that&#x27;s more permanent and committed to a repo needs a human review. I strongly suggest you have an understanding of the basics (at least the box model) so that you are competent at reviewing CSS code before using LLM for that.</div><br/></div></div><div id="42705340" class="c"><input type="checkbox" id="c-42705340" checked=""/><div class="controls bullet"><span class="by">permo-w</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42704675">parent</a><span>|</span><a href="#42705632">prev</a><span>|</span><a href="#42708362">next</a><span>|</span><label class="collapse" for="c-42705340">[-]</label><label class="expand" for="c-42705340">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been looking for a good guide on prompting LLMs for CSS.<p>does anyone know of any?</div><br/></div></div></div></div></div></div><div id="42708362" class="c"><input type="checkbox" id="c-42708362" checked=""/><div class="controls bullet"><span class="by">jjcm</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42704483">prev</a><span>|</span><a href="#42708319">next</a><span>|</span><label class="collapse" for="c-42708362">[-]</label><label class="expand" for="c-42708362">[1 more]</label></div><br/><div class="children"><div class="content">In addition to the many others mentioned, here&#x27;s a script I just threw together that simplifies a lot of these chained commands - llmpeg: <a href="https:&#x2F;&#x2F;github.com&#x2F;jjcm&#x2F;llmpeg">https:&#x2F;&#x2F;github.com&#x2F;jjcm&#x2F;llmpeg</a><p>If you have ffmpeg installed and an OpenAI env api key set, it should work out of the box.<p>Demo: <a href="https:&#x2F;&#x2F;image.non.io&#x2F;1c7a92ef-0917-49ef-9460-6298c7a9116c.webp" rel="nofollow">https:&#x2F;&#x2F;image.non.io&#x2F;1c7a92ef-0917-49ef-9460-6298c7a9116c.we...</a></div><br/></div></div><div id="42708319" class="c"><input type="checkbox" id="c-42708319" checked=""/><div class="controls bullet"><span class="by">sathishvj</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42708362">prev</a><span>|</span><a href="#42705000">next</a><span>|</span><label class="collapse" for="c-42708319">[-]</label><label class="expand" for="c-42708319">[1 more]</label></div><br/><div class="children"><div class="content">I would like to throw in a tool that I built into the ring: gencmd - <a href="https:&#x2F;&#x2F;gencmd.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;gencmd.com&#x2F;</a>. There is a web version and also a CLI version.<p>If the CLI is installed, you can do: <i>gencmd -c ffmpeg extract first 1 minute of video</i><p>Or you can just search for the same in the browser page.</div><br/></div></div><div id="42705000" class="c"><input type="checkbox" id="c-42705000" checked=""/><div class="controls bullet"><span class="by">juancroldan</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42708319">prev</a><span>|</span><a href="#42705006">next</a><span>|</span><label class="collapse" for="c-42705000">[-]</label><label class="expand" for="c-42705000">[1 more]</label></div><br/><div class="children"><div class="content">Same here, it&#x27;s one of these things where AI has taken over completely and I&#x27;m just a broker that copy-pastes error traces.</div><br/></div></div><div id="42705006" class="c"><input type="checkbox" id="c-42705006" checked=""/><div class="controls bullet"><span class="by">magarnicle</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42705000">prev</a><span>|</span><a href="#42706971">next</a><span>|</span><label class="collapse" for="c-42705006">[-]</label><label class="expand" for="c-42705006">[2 more]</label></div><br/><div class="children"><div class="content">My experience got even better once I learned how complex filters worked.</div><br/><div id="42705223" class="c"><input type="checkbox" id="c-42705223" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42705006">parent</a><span>|</span><a href="#42706971">next</a><span>|</span><label class="collapse" for="c-42705223">[-]</label><label class="expand" for="c-42705223">[1 more]</label></div><br/><div class="children"><div class="content">learning how to use splits to do multiple things all in one command is a god send. the savings of only needed to read the source and convert to baseband video once is a great savings.<p>i started with avisynth, and it took time for my brain to switch to ffmpeg. i don&#x27;t know how i could function without ffmpeg at this point</div><br/></div></div></div></div><div id="42706971" class="c"><input type="checkbox" id="c-42706971" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42705006">prev</a><span>|</span><a href="#42707387">next</a><span>|</span><label class="collapse" for="c-42706971">[-]</label><label class="expand" for="c-42706971">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;re onto something. I&#x27;ve had hit or miss experiences with code from LLMs but it definitely makes the searching part different.<p>I had a problem I&#x27;d been thinking about for some time and I thought &quot;Ill have some LLM give me an answer&quot; and it did - it was wrong and didn&#x27;t work but it got me to thinking about the problem in a slightly different way and my quacks after that got me an exact solution to this problem.<p>So I&#x27;m willing to give the AI more than partial credit.</div><br/></div></div><div id="42707387" class="c"><input type="checkbox" id="c-42707387" checked=""/><div class="controls bullet"><span class="by">pdyc</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42706971">prev</a><span>|</span><a href="#42706703">next</a><span>|</span><label class="collapse" for="c-42707387">[-]</label><label class="expand" for="c-42707387">[1 more]</label></div><br/><div class="children"><div class="content">I ended up creating my own tool to generate ffmpeg commands <a href="https:&#x2F;&#x2F;newbeelearn.com&#x2F;tools&#x2F;videoeditor&#x2F;" rel="nofollow">https:&#x2F;&#x2F;newbeelearn.com&#x2F;tools&#x2F;videoeditor&#x2F;</a></div><br/></div></div><div id="42706779" class="c"><input type="checkbox" id="c-42706779" checked=""/><div class="controls bullet"><span class="by">urda</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42706703">prev</a><span>|</span><a href="#42707845">next</a><span>|</span><label class="collapse" for="c-42706779">[-]</label><label class="expand" for="c-42706779">[1 more]</label></div><br/><div class="children"><div class="content">For me it was using a container of it, instead of having to install all the things FFmpeg needs on a machine.</div><br/></div></div><div id="42707845" class="c"><input type="checkbox" id="c-42707845" checked=""/><div class="controls bullet"><span class="by">skirge</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42706779">prev</a><span>|</span><a href="#42708088">next</a><span>|</span><label class="collapse" for="c-42707845">[-]</label><label class="expand" for="c-42707845">[1 more]</label></div><br/><div class="children"><div class="content">llm - Clippit of 202x,
but for the original Pentium was enough.</div><br/></div></div><div id="42708088" class="c"><input type="checkbox" id="c-42708088" checked=""/><div class="controls bullet"><span class="by">bambax</span><span>|</span><a href="#42704234">parent</a><span>|</span><a href="#42707845">prev</a><span>|</span><a href="#42704383">next</a><span>|</span><label class="collapse" for="c-42708088">[-]</label><label class="expand" for="c-42708088">[3 more]</label></div><br/><div class="children"><div class="content">Basic syntax for re-encoding a video file did take me some time to memorize, but isn&#x27;t in fact too hard:<p><pre><code>  ffmpeg &lt;Input file(s)&gt; &lt;Codec(s)&gt; &lt;MAPping of streams&gt; &lt;Video Filters&gt; output_file
</code></pre>
- input file: -i, can be repeated for multiple input files, like so:<p><pre><code>  ffmpeg -i file1.mp4 -i file2.mkv
</code></pre>
If there is more than one input file then some mapping is needed to decide what goes out in the output file.<p>- codec: -c:x where x is the type of codec (v: video, a: audio or s:subtitles), followed by its name, like so:<p><pre><code>  -c:v libx265
</code></pre>
I usually never set the audio codec as the guesses made by ffmpeg, based on output file type, are always right (in my experience), but deciding the video codec is useful, and so is the subtitles codec, as not all containers (file formats) support all codecs; mkv is the most flexible for subtitles codecs.<p>- mapping of streams: -map &lt;input_file&gt;:&lt;stream_type&gt;:&lt;order&gt;, like so:<p><pre><code>  -map 0:v:0 -map 1:a:1 -map 1:a:0 -map 1:s:4
</code></pre>
Map tells ffmpeg what stream from the input files to put in the output file. The first number is the position of the input file in the command, so if we&#x27;re following the same example as above, &#x27;0&#x27; would be &#x27;file1.mp4&#x27; and &#x27;1&#x27; would be &#x27;file2.mkv&#x27;. The parameter in the middle is the stream type (v for video, a for audio, s for subtitles). The last number is the position of the stream IN THE INPUT FILE (NOT in the output file).<p>The position of the stream in the output file is determined by the position of the map command in the command line, so for example in the command above we are inverting the position of the audio streams (taken from &#x27;file2.mkv&#x27;), as audio stream 1 will be in first position in the output file, and audio stream 0 (the first in the second input file) will be in second position in the output file.<p>This map thing is for me the most counter-intuitive because it&#x27;s unusual for a CLI to be order-dependent. But, well, it is.<p>- video filters: -vf<p>Video filters can be extremely complex and I don&#x27;t pretend to know how to use them by heart. But one simple video filter that I use often is &#x27;scale&#x27;, for resizing a video:<p><pre><code>  -vf scale=&lt;width&gt;:&lt;height&gt;
</code></pre>
width and height can be exact values in pixels, or one of them can be &#x27;-1&#x27; and then ffmpeg computes it based on the current aspect ratio and the other provided value, like this for example:<p><pre><code>  -vf scale=320:-1
</code></pre>
This doesn&#x27;t always work because the computed value should be an even integer; if it&#x27;s not, ffmpeg will raise an error and tell you why; then you can replace the -1 with the nearest even integer (I wonder why it can&#x27;t do that by itself, but apparently, it can&#x27;t).<p>And that&#x27;s about it! ffmpeg options are immense, but this gets me through 90% of my video encoding needs, without looking at a manual or ask an LLM. (The only other options I use often are -ss and -t for start time and duration, to time-crop a video.)</div><br/><div id="42708786" class="c"><input type="checkbox" id="c-42708786" checked=""/><div class="controls bullet"><span class="by">izacus</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42708088">parent</a><span>|</span><a href="#42708730">next</a><span>|</span><label class="collapse" for="c-42708786">[-]</label><label class="expand" for="c-42708786">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This doesn&#x27;t always work because the computed value should be an even integer; if it&#x27;s not, ffmpeg will raise an error and tell you why; then you can replace the -1 with the nearest even integer (I wonder why it can&#x27;t do that by itself, but apparently, it can&#x27;t).<p>It&#x27;s not about integer, but some of the sizes need to be even. You can use `-vf scale=320:-2` to ensure that.</div><br/></div></div><div id="42708730" class="c"><input type="checkbox" id="c-42708730" checked=""/><div class="controls bullet"><span class="by">jmb99</span><span>|</span><a href="#42704234">root</a><span>|</span><a href="#42708088">parent</a><span>|</span><a href="#42708786">prev</a><span>|</span><a href="#42704383">next</a><span>|</span><label class="collapse" for="c-42708730">[-]</label><label class="expand" for="c-42708730">[1 more]</label></div><br/><div class="children"><div class="content">&gt; then you can replace the -1 with the nearest even integer (I wonder why it can&#x27;t do that by itself, but apparently, it can&#x27;t).<p>Likely because the aspect ratio will no longer be the same. There will either be lost information (cropping), compression&#x2F;stretching, or black bars, none of which should be default behaviour. Hence, the warning.</div><br/></div></div></div></div></div></div><div id="42704383" class="c"><input type="checkbox" id="c-42704383" checked=""/><div class="controls bullet"><span class="by">jazzyjackson</span><span>|</span><a href="#42704234">prev</a><span>|</span><a href="#42705646">next</a><span>|</span><label class="collapse" for="c-42704383">[-]</label><label class="expand" for="c-42704383">[17 more]</label></div><br/><div class="children"><div class="content">This reminds me I need to publish my write up on how I&#x27;ve been converting digitized home video tapes into clips using scene detection, but in case anyone is googling for it, here&#x27;s a gist I landed on that does a good job of it [0] but sometimes it&#x27;s fooled by e.g. camera flashes or camera shake so I need to give it a start and end file and have ffmpeg concatenate them back together [1]<p>Weird thing is I got better performance without &quot;-c:v h264_videotoolbox&quot; on latest Mac update, maybe some performance regression in Sequoia? I don&#x27;t know. The equivalent flag for my windows machine with Nvidia GPU is &quot;-c:v h264_nvenc&quot; . I wonder why ffmpeg doesn&#x27;t just auto detect this? I get about 8x performance boost from this. Probably the one time I actually earned my salary at work was when we were about to pay out the nose for more cloud servers with GPU to process video when I noticed the version of ffmpeg that came installed on the machines was compiled without GPU acceleration !<p>[0] <a href="https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;nielsbom&#x2F;c86c504fa5fd61ae9530caec654c6ae6&#x2F;raw&#x2F;193c04aadbaa1bd54e9c68055eecc52d14727aba&#x2F;split-to-scenes.sh" rel="nofollow">https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;nielsbom&#x2F;c86c504fa5fd61ae...</a><p>[1] <a href="https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;jazzyjackson&#x2F;bf9282df0a40d7ef471e6676f282831e&#x2F;raw&#x2F;266619cbdaac2c3a2ee4a7cbf526d7ed8f6e4c84&#x2F;merge-scenes.sh" rel="nofollow">https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;jazzyjackson&#x2F;bf9282df0a40...</a></div><br/><div id="42707331" class="c"><input type="checkbox" id="c-42707331" checked=""/><div class="controls bullet"><span class="by">jack_pp</span><span>|</span><a href="#42704383">parent</a><span>|</span><a href="#42705676">next</a><span>|</span><label class="collapse" for="c-42707331">[-]</label><label class="expand" for="c-42707331">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Probably the one time I actually earned my salary at work was when we were about to pay out the nose for more cloud servers with GPU to process video when I noticed the version of ffmpeg that came installed on the machines was compiled without GPU acceleration !<p>Issue with cloud CPU&#x27;s is that they don&#x27;t come with any of the consumer grade CPU built-in hardware video encoders so you&#x27;ll have to go with the GPU machines that cost so much more. To be honest I haven&#x27;t tried using HW accel in the cloud to have a proper price comparison, are you saying you did it and it was worth it?</div><br/><div id="42707579" class="c"><input type="checkbox" id="c-42707579" checked=""/><div class="controls bullet"><span class="by">radicality</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42707331">parent</a><span>|</span><a href="#42705676">next</a><span>|</span><label class="collapse" for="c-42707579">[-]</label><label class="expand" for="c-42707579">[3 more]</label></div><br/><div class="children"><div class="content">Are the hardware encoders even good? I thought that unless you need something realtime, it&#x27;s always better to spend the cpu cycles on a better encode with th software encoder. Or have things changed ?</div><br/><div id="42708747" class="c"><input type="checkbox" id="c-42708747" checked=""/><div class="controls bullet"><span class="by">jmb99</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42707579">parent</a><span>|</span><a href="#42707723">next</a><span>|</span><label class="collapse" for="c-42708747">[-]</label><label class="expand" for="c-42708747">[1 more]</label></div><br/><div class="children"><div class="content">They still suck compared to software encoders. This is true for both H.264 and H.265 on AMD, Nvidia, and Intel GPUs. They’re “good enough” for live streaming, or for things like Plex transcoding, or where you care only about encoding speed and have a large bandwidth budget. They’re better than they used to be, but not worth using for anything you really care about.</div><br/></div></div><div id="42707723" class="c"><input type="checkbox" id="c-42707723" checked=""/><div class="controls bullet"><span class="by">jack_pp</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42707579">parent</a><span>|</span><a href="#42708747">prev</a><span>|</span><a href="#42705676">next</a><span>|</span><label class="collapse" for="c-42707723">[-]</label><label class="expand" for="c-42707723">[1 more]</label></div><br/><div class="children"><div class="content">I know they used to be worse, haven&#x27;t tested the newest ones</div><br/></div></div></div></div></div></div><div id="42705676" class="c"><input type="checkbox" id="c-42705676" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42704383">parent</a><span>|</span><a href="#42707331">prev</a><span>|</span><a href="#42704723">next</a><span>|</span><label class="collapse" for="c-42705676">[-]</label><label class="expand" for="c-42705676">[4 more]</label></div><br/><div class="children"><div class="content">I used ffmpeg for empty scene detection- I have a camera pointed at the flight path for SFO, and stripped out all the frames that didn&#x27;t have motion in them.  You end up with a continuous movie of planes passing through, with none of the boring bits.</div><br/><div id="42706173" class="c"><input type="checkbox" id="c-42706173" checked=""/><div class="controls bullet"><span class="by">hnuser123456</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42705676">parent</a><span>|</span><a href="#42704723">next</a><span>|</span><label class="collapse" for="c-42706173">[-]</label><label class="expand" for="c-42706173">[3 more]</label></div><br/><div class="children"><div class="content">Then can you merge all the clips starting when motion starts and see hundreds of planes fly across at once?</div><br/><div id="42706281" class="c"><input type="checkbox" id="c-42706281" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42706173">parent</a><span>|</span><a href="#42704723">next</a><span>|</span><label class="collapse" for="c-42706281">[-]</label><label class="expand" for="c-42706281">[2 more]</label></div><br/><div class="children"><div class="content">Interesting.  Yes, I assume that&#x27;s possible although I&#x27;m not sure how you handle the background- I guess you find an empty frame, and subtract that from every image with a plane.<p>One of the advantages of working with image data is that movies are really just 3d data and as long as all the movies you work with are the same size, if you have enough ram, or use dask, you could basically do this in a couple lines of numpy.</div><br/><div id="42706663" class="c"><input type="checkbox" id="c-42706663" checked=""/><div class="controls bullet"><span class="by">hnuser123456</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42706281">parent</a><span>|</span><a href="#42704723">next</a><span>|</span><label class="collapse" for="c-42706663">[-]</label><label class="expand" for="c-42706663">[1 more]</label></div><br/><div class="children"><div class="content">You could do an add operation if the background is dark enough, or yeah, take a local sample of the background to subtract from each clip, and choose a specific background...</div><br/></div></div></div></div></div></div></div></div><div id="42704723" class="c"><input type="checkbox" id="c-42704723" checked=""/><div class="controls bullet"><span class="by">rahimnathwani</span><span>|</span><a href="#42704383">parent</a><span>|</span><a href="#42705676">prev</a><span>|</span><a href="#42705646">next</a><span>|</span><label class="collapse" for="c-42704723">[-]</label><label class="expand" for="c-42704723">[8 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  -c:v h264_nvenc
</code></pre>
This is useful for batch encoding, when you&#x27;re encoding a lot of different videos at once, because you can get better encoding throughput.<p>But in my limited experiments a while back, I found the output quality to be slightly worse than with libx264. I don&#x27;t know if there&#x27;s a way around it, but I&#x27;m not the only one who had that experience.</div><br/><div id="42705412" class="c"><input type="checkbox" id="c-42705412" checked=""/><div class="controls bullet"><span class="by">icelancer</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704723">parent</a><span>|</span><a href="#42706513">next</a><span>|</span><label class="collapse" for="c-42705412">[-]</label><label class="expand" for="c-42705412">[1 more]</label></div><br/><div class="children"><div class="content">So counterintuitive that nvenc confers worse quality than QSV&#x2F;x264 variants, but it is both in theory and in my testing as well.<p>But for multiple streams or speed requirements, nvenc is the only way to fly.</div><br/></div></div><div id="42706513" class="c"><input type="checkbox" id="c-42706513" checked=""/><div class="controls bullet"><span class="by">ziml77</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704723">parent</a><span>|</span><a href="#42705412">prev</a><span>|</span><a href="#42704928">next</a><span>|</span><label class="collapse" for="c-42706513">[-]</label><label class="expand" for="c-42706513">[1 more]</label></div><br/><div class="children"><div class="content">IIRC they have improved the hardware encoder over the generations of cards, but yes NVENC has worse quality than libx264. NVENC is really meant for running the compression in real-time with minimal performance impact to the system. Basically for recording&#x2F;streaming games.</div><br/></div></div><div id="42704928" class="c"><input type="checkbox" id="c-42704928" checked=""/><div class="controls bullet"><span class="by">xnx</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704723">parent</a><span>|</span><a href="#42706513">prev</a><span>|</span><a href="#42705646">next</a><span>|</span><label class="collapse" for="c-42704928">[-]</label><label class="expand" for="c-42704928">[5 more]</label></div><br/><div class="children"><div class="content">Co-signing. Encode time was faster with nvenc, but quality was noticeably worse even to my untrained eye.</div><br/><div id="42704950" class="c"><input type="checkbox" id="c-42704950" checked=""/><div class="controls bullet"><span class="by">jazzyjackson</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704928">parent</a><span>|</span><a href="#42705646">next</a><span>|</span><label class="collapse" for="c-42704950">[-]</label><label class="expand" for="c-42704950">[4 more]</label></div><br/><div class="children"><div class="content">Fascinating, it didn&#x27;t occur to me quality could take a hit, I thought the flag merely meant &quot;perform h264 encoding over here&quot;<p>Edit: relevant docs from ffmpeg, they back up your perception, and now I&#x27;m left to wonder how much I want to learn about profiles in order to cut up these videos. I suppose I&#x27;ll run an overnight job to reencode them from Avi to h264 at high quality, and make sure the scene detect script is only doing copys, not reencoding, since that&#x27;s the part I&#x27;m doing interactively, there&#x27;s no real reason I should be sitting at the computer while its transcoding.<p><i>Hardware encoders typically generate output of significantly lower quality than good software encoders like x264, but are generally faster and do not use much CPU resource. (That is, they require a higher bitrate to make output with the same perceptual quality, or they make output with a lower perceptual quality at the same bitrate.)</i><p>[0] <a href="https:&#x2F;&#x2F;trac.ffmpeg.org&#x2F;wiki&#x2F;HWAccelIntro" rel="nofollow">https:&#x2F;&#x2F;trac.ffmpeg.org&#x2F;wiki&#x2F;HWAccelIntro</a></div><br/><div id="42705932" class="c"><input type="checkbox" id="c-42705932" checked=""/><div class="controls bullet"><span class="by">throwaway4PP</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704950">parent</a><span>|</span><a href="#42705389">next</a><span>|</span><label class="collapse" for="c-42705932">[-]</label><label class="expand" for="c-42705932">[1 more]</label></div><br/><div class="children"><div class="content">It’s crude, but you can overcome the degraded quality imparted by gpu accelerated encoding by specifying a higher video bitrate.<p>Find a complex short scene in your cpu encoded video, extract it, ffprobe it to get average video bitrate, and take the same clip in raw and try gpu accelerated encoding at +20% bitrate. From there, iterate.<p>For a friend’s use-case that I helped with, +30% video bitrate bump overcame the degraded vquality.<p>Edit: strangely enough, if memory serves, after the correcting +30% was applied the actual ffprobe bitrates between the videos were very similar, maybe a 10% or less difference. Someone smarter than me can work that logic out.</div><br/></div></div><div id="42705389" class="c"><input type="checkbox" id="c-42705389" checked=""/><div class="controls bullet"><span class="by">norgie</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704950">parent</a><span>|</span><a href="#42705932">prev</a><span>|</span><a href="#42705925">next</a><span>|</span><label class="collapse" for="c-42705389">[-]</label><label class="expand" for="c-42705389">[1 more]</label></div><br/><div class="children"><div class="content">Cutting videos with copy can result in some weird playback issues if the cuts aren&#x27;t on keyframes.<p>For manually cutting up videos, I use LosslessCut, which I think uses ffmpeg under the hood and is really helpful for finding and cutting on keyframes.</div><br/></div></div><div id="42705925" class="c"><input type="checkbox" id="c-42705925" checked=""/><div class="controls bullet"><span class="by">pertymcpert</span><span>|</span><a href="#42704383">root</a><span>|</span><a href="#42704950">parent</a><span>|</span><a href="#42705389">prev</a><span>|</span><a href="#42705646">next</a><span>|</span><label class="collapse" for="c-42705925">[-]</label><label class="expand" for="c-42705925">[1 more]</label></div><br/><div class="children"><div class="content">Yes. The reason is that there&#x27;s many ways to encode a video, you can choose to spend a lot of compute in order to get the best quality, or the best size efficiency. Fixed function hardware encoders by nature have much less freedom in how they encode, and additionally are expected to be faster, or even real time.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42705646" class="c"><input type="checkbox" id="c-42705646" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42704383">prev</a><span>|</span><a href="#42704581">next</a><span>|</span><label class="collapse" for="c-42705646">[-]</label><label class="expand" for="c-42705646">[8 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve gotten pretty good at various bits of ffmpeg over time.  Its CLI has a certain logic to it... it&#x27;s order dependent (not all unix CLIs are).<p>Lately, I&#x27;ve been playing around with more esoteric functionality.  For example, storing raw video straight off a video camera on a fairly slow machine.  I built a microscope and it reads frames off the camera at 120FPS in raw video format (YUYV 1280x720) which is voluminous if you save it directly to disk (gigs per minute).  Disks are cheap but that seemed wasteful, so I was curious about various close-to-lossless techniques to store the exact images, but compressed quickly.  I&#x27;ve noticed that RGB24 conversion in ffmpeg is extremely slow, so instead after playing around with the command line I ended up with:<p><pre><code>  ffmpeg -f rawvideo -pix_fmt yuyv422 -s 1280x720 -i test.raw  -vcodec libx264 -pix_fmt yuv420p  movie.mp4 -crf 13 -y
</code></pre>
This reads in raw video- because raw video doesn&#x27;t have a container, it lacks metadata like &quot;pixel format&quot; and &quot;image size&quot;, so I have to provide those.  It&#x27;s order dependent- everything before  &quot;-i test.raw&quot; is for decoding the input, and everythign after is for writing the output.  I do one tiny pixel format conversion (that ffmpeg can do really fast) and then write the data out in a very, very close to lossless format with a container (I&#x27;ve found .mkv to be the best container in most cases).<p>Because I hate command lines, I ended up using ffmpeg-python which composes the command line from this:<p><pre><code>  self.process = (
            ffmpeg.
            input(
                &quot;pipe:&quot;,
                format=&quot;rawvideo&quot;,
                pix_fmt=&quot;yuyv422&quot;,
                s=&quot;{}x{}&quot;.format(1280, 720),
                threads=8
            )
            .output(
                fname, pix_fmt=&quot;yuv422p&quot;, vcodec=&quot;libx264&quot;, crf=13 
            )  
            .overwrite_output()
            .global_args(&quot;-threads&quot;, &quot;8&quot;)
            .run_async(pipe_stdin=True)
            )
</code></pre>
and then I literally write() my frames into the stdin of that process.  I had to limit the number of threads because the machine has 12 cores and uses at least 2 at all times to run the microscope.<p>I&#x27;m still looking for better&#x2F;faster lossless YUV encoding.</div><br/><div id="42706047" class="c"><input type="checkbox" id="c-42706047" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42705646">parent</a><span>|</span><a href="#42705911">next</a><span>|</span><label class="collapse" for="c-42706047">[-]</label><label class="expand" for="c-42706047">[4 more]</label></div><br/><div class="children"><div class="content">&gt;Its CLI has a certain logic to it... it&#x27;s order dependent (not all unix CLIs are).<p>Which is appropriate. A Unix <i>pipeline</i> is dependent on the order of the components, and complex FFMpeg invocations entail doing something analogous.<p>&gt;I ended up using ffmpeg-python which composes the command line from this<p>A lot of people like this aesthetic, but doing &quot;fluent&quot; interfaces like this is often considered un-Pythonic. (My understanding is that ffmpeg-python is designed to mirror the command-line order closely.) The preference (reinforced by the design of the standard library and built-in types) is to have strong <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Command%E2%80%93query_separation" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Command%E2%80%93query_separati...</a> . By this principle, it would look something more like<p><pre><code>  ffmpeg(global_args=..., overwrite_output=True).process_async(piped_input(...), output(...))
</code></pre>
where using a separate construction process for the input produces a different runtime type, which also cues the processing code that it needs to read from stdin.</div><br/><div id="42706290" class="c"><input type="checkbox" id="c-42706290" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42705646">root</a><span>|</span><a href="#42706047">parent</a><span>|</span><a href="#42708423">next</a><span>|</span><label class="collapse" for="c-42706290">[-]</label><label class="expand" for="c-42706290">[2 more]</label></div><br/><div class="children"><div class="content">To be honest what I really wanted is more like a programming API or config file than attempting to express complex pipelines and filters in a single command line.<p>As for what&#x27;s unpythonic: don&#x27;t care.  My applications has code horrors that even Senior Fellows cannot unsee.</div><br/><div id="42707197" class="c"><input type="checkbox" id="c-42707197" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42705646">root</a><span>|</span><a href="#42706290">parent</a><span>|</span><a href="#42708423">next</a><span>|</span><label class="collapse" for="c-42707197">[-]</label><label class="expand" for="c-42707197">[1 more]</label></div><br/><div class="children"><div class="content">I get that. My critique is for the library authors, not you.</div><br/></div></div></div></div><div id="42708423" class="c"><input type="checkbox" id="c-42708423" checked=""/><div class="controls bullet"><span class="by">Ch00k</span><span>|</span><a href="#42705646">root</a><span>|</span><a href="#42706047">parent</a><span>|</span><a href="#42706290">prev</a><span>|</span><a href="#42705911">next</a><span>|</span><label class="collapse" for="c-42708423">[-]</label><label class="expand" for="c-42708423">[1 more]</label></div><br/><div class="children"><div class="content">Similar, arguably simpler, Python library that provides an interface to FFmpeg command line is ffmpy [0], of which I am the author.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;Ch00k&#x2F;ffmpy">https:&#x2F;&#x2F;github.com&#x2F;Ch00k&#x2F;ffmpy</a></div><br/></div></div></div></div><div id="42705911" class="c"><input type="checkbox" id="c-42705911" checked=""/><div class="controls bullet"><span class="by">jcalvinowens</span><span>|</span><a href="#42705646">parent</a><span>|</span><a href="#42706047">prev</a><span>|</span><a href="#42704581">next</a><span>|</span><label class="collapse" for="c-42705911">[-]</label><label class="expand" for="c-42705911">[3 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m still looking for better&#x2F;faster lossless YUV encoding.<p>Look no further: <a href="https:&#x2F;&#x2F;trac.ffmpeg.org&#x2F;wiki&#x2F;Encode&#x2F;FFV1" rel="nofollow">https:&#x2F;&#x2F;trac.ffmpeg.org&#x2F;wiki&#x2F;Encode&#x2F;FFV1</a></div><br/><div id="42707269" class="c"><input type="checkbox" id="c-42707269" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42705646">root</a><span>|</span><a href="#42705911">parent</a><span>|</span><a href="#42704581">next</a><span>|</span><label class="collapse" for="c-42707269">[-]</label><label class="expand" for="c-42707269">[2 more]</label></div><br/><div class="children"><div class="content">I spent some time with this on my data set, and in my hands I wasn&#x27;t able to produce results that were convincingly better than libx264, but with slower encodes and larger output files.  It&#x27;s really hard to beat libx264.</div><br/><div id="42708549" class="c"><input type="checkbox" id="c-42708549" checked=""/><div class="controls bullet"><span class="by">jcalvinowens</span><span>|</span><a href="#42705646">root</a><span>|</span><a href="#42707269">parent</a><span>|</span><a href="#42704581">next</a><span>|</span><label class="collapse" for="c-42708549">[-]</label><label class="expand" for="c-42708549">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; I&#x27;m still looking for better&#x2F;faster lossless YUV encoding.<p>&gt; I wasn&#x27;t able to produce results that were convincingly better than libx264<p>With &quot;-qp 0&quot;? Otherwise, it&#x27;s not a valid comparison... &quot;-crf 13&quot; is nowhere near lossless (though it might appear so visually).<p>FFV1 is much better than H264 at lossless compression in my experience. Here&#x27;s a random sample of a ten second 4K input I had handy (5.5G uncompressed):<p><pre><code>    h264-ultrafast    1.951s   850M
    h264-veryslow    46.528s   715M
    ffv1              8.883s   637M
</code></pre>
But yeah, if you don&#x27;t actually require truly lossless data, it&#x27;s a huge waste.</div><br/></div></div></div></div></div></div></div></div><div id="42704581" class="c"><input type="checkbox" id="c-42704581" checked=""/><div class="controls bullet"><span class="by">nickdothutton</span><span>|</span><a href="#42705646">prev</a><span>|</span><a href="#42708187">next</a><span>|</span><label class="collapse" for="c-42704581">[-]</label><label class="expand" for="c-42704581">[9 more]</label></div><br/><div class="children"><div class="content">FFmpeg is one of those tools I need to use so infrequently that he exact syntax never seems to stick. I&#x27;ve resorted to using an LLM to give me the command line I need. The only other tool that I ever had trouble with was 1990s-era MegaCLI from LSI Logic, also something I barely used from one year to the next (but one where you really need to get it right under pressure).</div><br/><div id="42704916" class="c"><input type="checkbox" id="c-42704916" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#42704581">parent</a><span>|</span><a href="#42704610">next</a><span>|</span><label class="collapse" for="c-42704916">[-]</label><label class="expand" for="c-42704916">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using FFMPEG for 15+ years, and still can&#x27;t remember almost any commands. LLMs have been amazing for using FFMPEG though. ChatGPT and Claude do wonders with &quot;give me an ffmpeg command that will remux a video into mkv, include subtitle.srt in the file, and I only want it between 0:00:05 and 0:01:00.&quot; It produced this in case you were wondering: `ffmpeg -i input.mp4 -i subtitle.srt -ss 00:00:05 -to 00:01:00 -map 0 -map 1 -c copy -c:s mov_text output.mkv`<p>I wonder how small of an LLM you could develop if you only wanted to target creating ffmpeg commands. Perhaps it could be small enough to be hosted on a static webpage where it is run locally?</div><br/><div id="42705030" class="c"><input type="checkbox" id="c-42705030" checked=""/><div class="controls bullet"><span class="by">porterde</span><span>|</span><a href="#42704581">root</a><span>|</span><a href="#42704916">parent</a><span>|</span><a href="#42706122">next</a><span>|</span><label class="collapse" for="c-42705030">[-]</label><label class="expand" for="c-42705030">[3 more]</label></div><br/><div class="children"><div class="content">Perhaps small enough to include in ffmpeg itself so you can just write commands `ffmpeg do this thing I want`.<p>Now I say this, it seems like there should already be a shell that is also an LLM where you can mix bits of commands you vaguely remember and natural language a bit like Del Boy speaking French...</div><br/><div id="42705216" class="c"><input type="checkbox" id="c-42705216" checked=""/><div class="controls bullet"><span class="by">Alex-Programs</span><span>|</span><a href="#42704581">root</a><span>|</span><a href="#42705030">parent</a><span>|</span><a href="#42706122">next</a><span>|</span><label class="collapse" for="c-42705216">[-]</label><label class="expand" for="c-42705216">[2 more]</label></div><br/><div class="children"><div class="content">Warp terminal does that. It&#x27;s cool.</div><br/><div id="42705980" class="c"><input type="checkbox" id="c-42705980" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42704581">root</a><span>|</span><a href="#42705216">parent</a><span>|</span><a href="#42706122">next</a><span>|</span><label class="collapse" for="c-42705980">[-]</label><label class="expand" for="c-42705980">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;warpdotdev&#x2F;Warp">https:&#x2F;&#x2F;github.com&#x2F;warpdotdev&#x2F;Warp</a><p><a href="https:&#x2F;&#x2F;www.warp.dev&#x2F;blog&#x2F;how-warp-works" rel="nofollow">https:&#x2F;&#x2F;www.warp.dev&#x2F;blog&#x2F;how-warp-works</a><p>Warp terminal – no more login required (49 days ago) <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42247583">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42247583</a><p>Show HN Warp.dev (3 years ago) <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30921231">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30921231</a><p>Show HN llmterm <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42498901">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42498901</a> <a href="https:&#x2F;&#x2F;github.com&#x2F;timschmidt&#x2F;llmterm">https:&#x2F;&#x2F;github.com&#x2F;timschmidt&#x2F;llmterm</a></div><br/></div></div></div></div></div></div><div id="42706122" class="c"><input type="checkbox" id="c-42706122" checked=""/><div class="controls bullet"><span class="by">7jjjjjjj</span><span>|</span><a href="#42704581">root</a><span>|</span><a href="#42704916">parent</a><span>|</span><a href="#42705030">prev</a><span>|</span><a href="#42704610">next</a><span>|</span><label class="collapse" for="c-42706122">[-]</label><label class="expand" for="c-42706122">[1 more]</label></div><br/><div class="children"><div class="content">-c:s mov_text is unnecessary and in fact might be fucking things up</div><br/></div></div></div></div><div id="42704610" class="c"><input type="checkbox" id="c-42704610" checked=""/><div class="controls bullet"><span class="by">escapecharacter</span><span>|</span><a href="#42704581">parent</a><span>|</span><a href="#42704916">prev</a><span>|</span><a href="#42704601">next</a><span>|</span><label class="collapse" for="c-42704610">[-]</label><label class="expand" for="c-42704610">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve just maintained my own note doc, going on 15 years now, of my most commonly used syntax. When that fails, I grep my bash history.</div><br/></div></div><div id="42704601" class="c"><input type="checkbox" id="c-42704601" checked=""/><div class="controls bullet"><span class="by">daveslash</span><span>|</span><a href="#42704581">parent</a><span>|</span><a href="#42704610">prev</a><span>|</span><a href="#42705353">next</a><span>|</span><label class="collapse" for="c-42704601">[-]</label><label class="expand" for="c-42704601">[1 more]</label></div><br/><div class="children"><div class="content">Same. The only thing that sticks is converting from format X to .mp4. Everything else I need to look up every single time.<p>Relevant XKCD <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;1168&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;1168&#x2F;</a></div><br/></div></div><div id="42705353" class="c"><input type="checkbox" id="c-42705353" checked=""/><div class="controls bullet"><span class="by">dmd</span><span>|</span><a href="#42704581">parent</a><span>|</span><a href="#42704601">prev</a><span>|</span><a href="#42708187">next</a><span>|</span><label class="collapse" for="c-42705353">[-]</label><label class="expand" for="c-42705353">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I commented the other day, tongue firmly in cheek, that it&#x27;s probably worth burning down all the rainforests just so LLMs can tell me the right ffmpeg flags to do what I want.</div><br/></div></div></div></div><div id="42708187" class="c"><input type="checkbox" id="c-42708187" checked=""/><div class="controls bullet"><span class="by">franze</span><span>|</span><a href="#42704581">prev</a><span>|</span><a href="#42705692">next</a><span>|</span><label class="collapse" for="c-42708187">[-]</label><label class="expand" for="c-42708187">[2 more]</label></div><br/><div class="children"><div class="content">I love using FFMpeg via Wasm for ... senseless ... mini projects i.e.: <a href="https:&#x2F;&#x2F;video-2-sprites.franzai.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;video-2-sprites.franzai.com&#x2F;</a> Video 2 Sprites Converter - totally over-engineered</div><br/><div id="42708218" class="c"><input type="checkbox" id="c-42708218" checked=""/><div class="controls bullet"><span class="by">dsp_person</span><span>|</span><a href="#42708187">parent</a><span>|</span><a href="#42705692">next</a><span>|</span><label class="collapse" for="c-42708218">[-]</label><label class="expand" for="c-42708218">[1 more]</label></div><br/><div class="children"><div class="content">Love the bouncing progress bar. Also nice ffmpeg wasm only 11MB</div><br/></div></div></div></div><div id="42705692" class="c"><input type="checkbox" id="c-42705692" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#42708187">prev</a><span>|</span><a href="#42708152">next</a><span>|</span><label class="collapse" for="c-42705692">[-]</label><label class="expand" for="c-42705692">[8 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget that Gstreamer exists and its command line and documentation make a little bit more sense than ffmpeg because GStreamer is pipeline based and the composition is a little bit more sane. I stopped using ffmpeg entirely and only use GStreamer for intense video work.</div><br/><div id="42707384" class="c"><input type="checkbox" id="c-42707384" checked=""/><div class="controls bullet"><span class="by">jack_pp</span><span>|</span><a href="#42705692">parent</a><span>|</span><a href="#42705715">next</a><span>|</span><label class="collapse" for="c-42707384">[-]</label><label class="expand" for="c-42707384">[1 more]</label></div><br/><div class="children"><div class="content">Gstreamer can give you more control and has friendlier API&#x27;s if you&#x27;re gonna make a pipeline programatically but for one off stuff ffmpeg seems much friendlier to me. For example it has sane x264 defaults while with gst-launch you have to really know what you&#x27;re doing to get quality x264 encoding</div><br/></div></div><div id="42705715" class="c"><input type="checkbox" id="c-42705715" checked=""/><div class="controls bullet"><span class="by">legends2k</span><span>|</span><a href="#42705692">parent</a><span>|</span><a href="#42707384">prev</a><span>|</span><a href="#42706555">next</a><span>|</span><label class="collapse" for="c-42705715">[-]</label><label class="expand" for="c-42705715">[5 more]</label></div><br/><div class="children"><div class="content">I thought FFmpeg is pipeline based too; graph of filters. Am I missing something?  You can set up a complex graph of source, sink and transform filters.</div><br/><div id="42707612" class="c"><input type="checkbox" id="c-42707612" checked=""/><div class="controls bullet"><span class="by">radicality</span><span>|</span><a href="#42705692">root</a><span>|</span><a href="#42705715">parent</a><span>|</span><a href="#42705809">next</a><span>|</span><label class="collapse" for="c-42707612">[-]</label><label class="expand" for="c-42707612">[2 more]</label></div><br/><div class="children"><div class="content">I wish there was some sort of local gui &#x2F; tool to drag and drop nodes, connect them together, type-check the graph if possible, and it would only show the ffmpeg command to run which you could paste.
Anyone know or anything?</div><br/><div id="42708790" class="c"><input type="checkbox" id="c-42708790" checked=""/><div class="controls bullet"><span class="by">pbmahol</span><span>|</span><a href="#42705692">root</a><span>|</span><a href="#42707612">parent</a><span>|</span><a href="#42705809">next</a><span>|</span><label class="collapse" for="c-42708790">[-]</label><label class="expand" for="c-42708790">[1 more]</label></div><br/><div class="children"><div class="content">see lavfi-preview on github. Its GUI app for libavfilter&#x2F;FFmpeg filters</div><br/></div></div></div></div><div id="42705809" class="c"><input type="checkbox" id="c-42705809" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#42705692">root</a><span>|</span><a href="#42705715">parent</a><span>|</span><a href="#42707612">prev</a><span>|</span><a href="#42705827">next</a><span>|</span><label class="collapse" for="c-42705809">[-]</label><label class="expand" for="c-42705809">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right, but gstreamer is a little bit more sane for many use cases. Maybe ffmpeg is more advanced; I am not sure. I find the pieces fit together better with gstreamer.</div><br/></div></div><div id="42705827" class="c"><input type="checkbox" id="c-42705827" checked=""/><div class="controls bullet"><span class="by">lehi</span><span>|</span><a href="#42705692">root</a><span>|</span><a href="#42705715">parent</a><span>|</span><a href="#42705809">prev</a><span>|</span><a href="#42706555">next</a><span>|</span><label class="collapse" for="c-42705827">[-]</label><label class="expand" for="c-42705827">[1 more]</label></div><br/><div class="children"><div class="content">FFmpeg&#x27;s filter DSL is so good that I get annoyed if I ever have to fall back to command line switches.</div><br/></div></div></div></div><div id="42706555" class="c"><input type="checkbox" id="c-42706555" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#42705692">parent</a><span>|</span><a href="#42705715">prev</a><span>|</span><a href="#42708152">next</a><span>|</span><label class="collapse" for="c-42706555">[-]</label><label class="expand" for="c-42706555">[1 more]</label></div><br/><div class="children"><div class="content">GStreamer feels like abandonware though, they also got big vulnerabilities recently, and their docs are very defunct.</div><br/></div></div></div></div><div id="42708152" class="c"><input type="checkbox" id="c-42708152" checked=""/><div class="controls bullet"><span class="by">peter_retief</span><span>|</span><a href="#42705692">prev</a><span>|</span><a href="#42704852">next</a><span>|</span><label class="collapse" for="c-42708152">[-]</label><label class="expand" for="c-42708152">[3 more]</label></div><br/><div class="children"><div class="content">&quot;Print a text file to STDOUT using ffmpeg&quot;
ffmpeg -v quiet -f data -i input.txt -map 0:0 -c text -f data -
I tried this in a directory with input.txt with some random text
Nothing.<p>So changed the verbosity to trace
ffmpeg -v trace -f data -i input.txt -map 0:0 -c text -f data -<p>---snip--
[dost#0:0 @ 0x625775f0ba80] Encoder &#x27;text&#x27; specified, but only &#x27;-codec copy&#x27; supported for data streams
[dost#0:0 @ 0x625775f0ba80] Error selecting an encoder
Error opening output file -.
Error opening output files: Function not implemented
[AVIOContext @ 0x625775f09cc0] Statistics: 10 bytes read, 0 seeks<p>I was expecting text to be written to stdout?
What did I miss?</div><br/><div id="42708260" class="c"><input type="checkbox" id="c-42708260" checked=""/><div class="controls bullet"><span class="by">Narushia</span><span>|</span><a href="#42708152">parent</a><span>|</span><a href="#42708182">next</a><span>|</span><label class="collapse" for="c-42708260">[-]</label><label class="expand" for="c-42708260">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not working for me either, on FFmpeg 7.0.2. I suspect something has changed in FFmpeg since that command was shared on the Reddit post mentioned on the website. That was a few years ago.<p>However, from the same Reddit thread, this works:<p>ffmpeg -v quiet -f data -i input.txt -map 0 -f data pipe:1<p>EDIT: just verified the `-c text` approach works on FFmpeg major versions 4 and 5. From FFmpeg 6 onwards, it&#x27;s broken. The `pipe:1` method works from FFmpeg 5 onwards, so the site should probably be updated to use that instead (also, FFmpeg 5.1 is an LTS release).</div><br/></div></div><div id="42708182" class="c"><input type="checkbox" id="c-42708182" checked=""/><div class="controls bullet"><span class="by">peter_retief</span><span>|</span><a href="#42708152">parent</a><span>|</span><a href="#42708260">prev</a><span>|</span><a href="#42704852">next</a><span>|</span><label class="collapse" for="c-42708182">[-]</label><label class="expand" for="c-42708182">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;x.com&#x2F;i&#x2F;grok&#x2F;share&#x2F;rhb9niOru2tk17SdEqIhLvfhV" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;i&#x2F;grok&#x2F;share&#x2F;rhb9niOru2tk17SdEqIhLvfhV</a></div><br/></div></div></div></div><div id="42704852" class="c"><input type="checkbox" id="c-42704852" checked=""/><div class="controls bullet"><span class="by">merksoftworks</span><span>|</span><a href="#42708152">prev</a><span>|</span><a href="#42704624">next</a><span>|</span><label class="collapse" for="c-42704852">[-]</label><label class="expand" for="c-42704852">[5 more]</label></div><br/><div class="children"><div class="content">ffmpeg has always felt like a gui application crammed into tui format. I&#x27;ve had the displeasure of using the C api a few times, while it&#x27;s straight forward in many respects, it makes invalid states extremely easy to represent. I would love a realtime AV1 encoding framework that &quot;just works&quot;.</div><br/><div id="42708787" class="c"><input type="checkbox" id="c-42708787" checked=""/><div class="controls bullet"><span class="by">jmb99</span><span>|</span><a href="#42704852">parent</a><span>|</span><a href="#42708533">next</a><span>|</span><label class="collapse" for="c-42708787">[-]</label><label class="expand" for="c-42708787">[1 more]</label></div><br/><div class="children"><div class="content">&gt; ffmpeg has always felt like a gui application crammed into tui format.<p>It’s one of the only tools where I reach for a GUI equivalent (Handbrake) by default, unless I’m doing batch processing. There are a few pure ffmpeg GUIs out there as well. There’s just something about working with video that CLI doesn’t work right with my brain for.</div><br/></div></div><div id="42708533" class="c"><input type="checkbox" id="c-42708533" checked=""/><div class="controls bullet"><span class="by">tiborsaas</span><span>|</span><a href="#42704852">parent</a><span>|</span><a href="#42708787">prev</a><span>|</span><a href="#42706046">next</a><span>|</span><label class="collapse" for="c-42708533">[-]</label><label class="expand" for="c-42708533">[1 more]</label></div><br/><div class="children"><div class="content">I like this insight, but TUI is something graphical while ffmpeg is just CLI.<p>It would be cool to see if a TUI tool existed. Something like <a href="https:&#x2F;&#x2F;github.com&#x2F;Twinklebear&#x2F;fbed">https:&#x2F;&#x2F;github.com&#x2F;Twinklebear&#x2F;fbed</a> but more feature complete.</div><br/></div></div><div id="42706046" class="c"><input type="checkbox" id="c-42706046" checked=""/><div class="controls bullet"><span class="by">mastax</span><span>|</span><a href="#42704852">parent</a><span>|</span><a href="#42708533">prev</a><span>|</span><a href="#42704624">next</a><span>|</span><label class="collapse" for="c-42706046">[-]</label><label class="expand" for="c-42706046">[2 more]</label></div><br/><div class="children"><div class="content">I can vouch for GStreamer as an API. I was using the Rust bindings so not super familiar with the C API but it looks good. GObject makes some things verbose but once you understand it you can interact with every object in the API consistently. There is a ton of necessary complexity (video is hard) but it’s really well designed and pretty well implemented and documented.<p>If you have a pretty normal use case the Bins (decodebin, transcodebin, playbin) make that pretty easy. If you have a more complex use case the flexibility of the design makes it possible.</div><br/><div id="42706434" class="c"><input type="checkbox" id="c-42706434" checked=""/><div class="controls bullet"><span class="by">garaetjjte</span><span>|</span><a href="#42704852">root</a><span>|</span><a href="#42706046">parent</a><span>|</span><a href="#42704624">next</a><span>|</span><label class="collapse" for="c-42706434">[-]</label><label class="expand" for="c-42706434">[1 more]</label></div><br/><div class="children"><div class="content">ffmpeg API is somewhat clunky but it works fine. I dread working with gstreamer, sea of leaky abstractions, inexplicable workarounds and mysterious bugs.</div><br/></div></div></div></div></div></div><div id="42704624" class="c"><input type="checkbox" id="c-42704624" checked=""/><div class="controls bullet"><span class="by">fastily</span><span>|</span><a href="#42704852">prev</a><span>|</span><a href="#42705031">next</a><span>|</span><label class="collapse" for="c-42704624">[-]</label><label class="expand" for="c-42704624">[2 more]</label></div><br/><div class="children"><div class="content">Nice!  This reminds me of my own ffmpeg cheatsheet; I would imagine that everyone who uses ffmpeg frequently has a similar set of notes<p><a href="https:&#x2F;&#x2F;github.com&#x2F;fastily&#x2F;cheatsheet&#x2F;blob&#x2F;master&#x2F;ffmpeg.md">https:&#x2F;&#x2F;github.com&#x2F;fastily&#x2F;cheatsheet&#x2F;blob&#x2F;master&#x2F;ffmpeg.md</a></div><br/><div id="42704884" class="c"><input type="checkbox" id="c-42704884" checked=""/><div class="controls bullet"><span class="by">efortis</span><span>|</span><a href="#42704624">parent</a><span>|</span><a href="#42705031">next</a><span>|</span><label class="collapse" for="c-42704884">[-]</label><label class="expand" for="c-42704884">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, mine:
<a href="https:&#x2F;&#x2F;github.com&#x2F;ericfortis&#x2F;quick-reference&#x2F;blob&#x2F;main&#x2F;ffmpeg.md">https:&#x2F;&#x2F;github.com&#x2F;ericfortis&#x2F;quick-reference&#x2F;blob&#x2F;main&#x2F;ffmp...</a></div><br/></div></div></div></div><div id="42705031" class="c"><input type="checkbox" id="c-42705031" checked=""/><div class="controls bullet"><span class="by">alpb</span><span>|</span><a href="#42704624">prev</a><span>|</span><a href="#42707432">next</a><span>|</span><label class="collapse" for="c-42705031">[-]</label><label class="expand" for="c-42705031">[1 more]</label></div><br/><div class="children"><div class="content">I love &quot;X by Example&quot; sites! But if you don&#x27;t work with a tool like ffmpeg imagemagick day in and out, there&#x27;s no way you&#x27;ll remember their unintuitive syntax or will want to spend the time to get your one-time job done. I&#x27;d still probably not use this site to scan a dozen of examples and try to put together the pieces of the puzzle; instead, I&#x27;d probably just use an LLM who already scanned the entire web corpus and can probably get me to a solution faster, right? At that point, I wonder what folks get out of this site?</div><br/></div></div><div id="42707432" class="c"><input type="checkbox" id="c-42707432" checked=""/><div class="controls bullet"><span class="by">pdyc</span><span>|</span><a href="#42705031">prev</a><span>|</span><a href="#42707913">next</a><span>|</span><label class="collapse" for="c-42707432">[-]</label><label class="expand" for="c-42707432">[1 more]</label></div><br/><div class="children"><div class="content">The great ffmpeg!, Even though you can generate commands using llm its still tedious to adjust things visually on cli so I ended up creating my own tool to generate ffmpeg commands.<p><a href="https:&#x2F;&#x2F;newbeelearn.com&#x2F;tools&#x2F;videoeditor&#x2F;" rel="nofollow">https:&#x2F;&#x2F;newbeelearn.com&#x2F;tools&#x2F;videoeditor&#x2F;</a></div><br/></div></div><div id="42707913" class="c"><input type="checkbox" id="c-42707913" checked=""/><div class="controls bullet"><span class="by">pknerd</span><span>|</span><a href="#42707432">prev</a><span>|</span><a href="#42706957">next</a><span>|</span><label class="collapse" for="c-42707913">[-]</label><label class="expand" for="c-42707913">[1 more]</label></div><br/><div class="children"><div class="content">Kind of OT: Does anyone know any video editing library in Python that adds fancy&#x2F;animated text with background?</div><br/></div></div><div id="42706957" class="c"><input type="checkbox" id="c-42706957" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42707913">prev</a><span>|</span><a href="#42704493">next</a><span>|</span><label class="collapse" for="c-42706957">[-]</label><label class="expand" for="c-42706957">[3 more]</label></div><br/><div class="children"><div class="content">Ya know, it&#x27;s websites like this that make me want to see a &quot;best of HNN&quot; list, so it can be easily found when I&#x27;m using ffmpeg and saying &quot;geez, there was some cool ffmpeg site, but where the heck is it?....&quot;<p>Can we have a best of HNN and put it on there, or vote on it, or whatever?</div><br/><div id="42706986" class="c"><input type="checkbox" id="c-42706986" checked=""/><div class="controls bullet"><span class="by">defrost</span><span>|</span><a href="#42706957">parent</a><span>|</span><a href="#42704493">next</a><span>|</span><label class="collapse" for="c-42706986">[-]</label><label class="expand" for="c-42706986">[2 more]</label></div><br/><div class="children"><div class="content">You <i>can</i> &quot;favorite&quot; individual comments or entire submitted threads and revist them via your ( <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;user?id=Over2Chars">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;user?id=Over2Chars</a> ) user page favorite links.<p>Which indeed you have: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;favorites?id=Over2Chars">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;favorites?id=Over2Chars</a><p>There are a number of HN lists: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;lists">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;lists</a><p>&quot;Best&quot;: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;best">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;best</a> is highest voted <i>recent</i> links.</div><br/><div id="42707045" class="c"><input type="checkbox" id="c-42707045" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42706957">root</a><span>|</span><a href="#42706986">parent</a><span>|</span><a href="#42704493">next</a><span>|</span><label class="collapse" for="c-42707045">[-]</label><label class="expand" for="c-42707045">[1 more]</label></div><br/><div class="children"><div class="content">Nice! I am a HNN newb.<p>I finally found that six point font &quot;favorite&quot; that appears only once and at the top of the comment section for a topic.<p>You guys don&#x27;t make it easy.</div><br/></div></div></div></div></div></div><div id="42704493" class="c"><input type="checkbox" id="c-42704493" checked=""/><div class="controls bullet"><span class="by">cb321</span><span>|</span><a href="#42706957">prev</a><span>|</span><a href="#42708057">next</a><span>|</span><label class="collapse" for="c-42704493">[-]</label><label class="expand" for="c-42704493">[1 more]</label></div><br/><div class="children"><div class="content">While it does have a rather unusual&#x2F;bespoke command syntax (strongly motivating TFA), lately ffmpeg works my webcam more reliably than Google chrome.  Too bad my other-side conversations don&#x27;t have things set up to negotiate a session with it!</div><br/></div></div><div id="42708057" class="c"><input type="checkbox" id="c-42708057" checked=""/><div class="controls bullet"><span class="by">gariany</span><span>|</span><a href="#42704493">prev</a><span>|</span><a href="#42706973">next</a><span>|</span><label class="collapse" for="c-42708057">[-]</label><label class="expand" for="c-42708057">[1 more]</label></div><br/><div class="children"><div class="content">hey everyone, thanks for the &quot;hunt&quot;.<p>Currently looking for an FFmpeg related job
<a href="https:&#x2F;&#x2F;gariany.com&#x2F;about" rel="nofollow">https:&#x2F;&#x2F;gariany.com&#x2F;about</a></div><br/></div></div><div id="42706973" class="c"><input type="checkbox" id="c-42706973" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42708057">prev</a><span>|</span><a href="#42705161">next</a><span>|</span><label class="collapse" for="c-42706973">[-]</label><label class="expand" for="c-42706973">[1 more]</label></div><br/><div class="children"><div class="content">Here is the GitHub repo for a ffmpeg book which may be a nice supplement to this site:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jdriselvato&#x2F;FFmpeg-For-Beginners-Ebook">https:&#x2F;&#x2F;github.com&#x2F;jdriselvato&#x2F;FFmpeg-For-Beginners-Ebook</a></div><br/></div></div><div id="42705161" class="c"><input type="checkbox" id="c-42705161" checked=""/><div class="controls bullet"><span class="by">patchtopic</span><span>|</span><a href="#42706973">prev</a><span>|</span><a href="#42706027">next</a><span>|</span><label class="collapse" for="c-42705161">[-]</label><label class="expand" for="c-42705161">[1 more]</label></div><br/><div class="children"><div class="content">also worthwhile consulting this resource: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=9kaIXkImCAM" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=9kaIXkImCAM</a></div><br/></div></div><div id="42706027" class="c"><input type="checkbox" id="c-42706027" checked=""/><div class="controls bullet"><span class="by">karpathy</span><span>|</span><a href="#42705161">prev</a><span>|</span><a href="#42706095">next</a><span>|</span><label class="collapse" for="c-42706027">[-]</label><label class="expand" for="c-42706027">[1 more]</label></div><br/><div class="children"><div class="content">I think at this point docs should start to be written not for humans but for LLMs, i.e. package all of it up with the --help into one giant txt file for easy attachment to an LLM when asking the question you&#x27;d like. Imo it&#x27;s a relatively good fit to the current capability.</div><br/></div></div><div id="42706095" class="c"><input type="checkbox" id="c-42706095" checked=""/><div class="controls bullet"><span class="by">somat</span><span>|</span><a href="#42706027">prev</a><span>|</span><a href="#42704357">next</a><span>|</span><label class="collapse" for="c-42706095">[-]</label><label class="expand" for="c-42706095">[1 more]</label></div><br/><div class="children"><div class="content">I was pretty happy because I was able to actually do something in ffmpeg recently. It is this amazingly powerfully tool, but every time I try to use it I get scared off by the inscrutable syntax. But this time as the mental miasma that usually kills my ffmpeg attempts was setting in I noticed something in the filter docs, a single throw away line about including files and the formatting of filters<p>Anyway long story short, instead of the usual terrifying inline ffmpeg filter tangle. the filter can be structured however you want and you can include it from a dedicated file. It sounds petty, but I really think it was the thing that finally let me &quot;crack&quot; ffmpeg<p>The secret sauce is the &quot;&#x2F;&quot;, &quot;-&#x2F;filter_complex file_name&quot; will include the file as the filter.<p>As I am pretty happy with it I am going to inflect it on everyone here.<p>In motion_detect.filter<p><pre><code>    [0:v]
    split
            [motion]
            [original];
    [motion]
    scale=
            w=iw&#x2F;4:
            h=-1,
    format=
            gbrp,
    tmix=
            frames=2
            [camera];
    [1:v]
    [camera]
    blend=
            all_mode=darken,
    tblend=
            all_mode=difference,
    boxblur=
            lr=20,
    maskfun=
            low=3:
            high=3,
    negate,
    blackframe=
            amount=1,
    nullsink;
 
    [original]
    null


</code></pre>
And then some python glue logic around the command<p><pre><code>    ffmpeg -nostats -an -i ip_camera -i zone_mask.png -&#x2F;filter_complex motion_display.filter -f mpegts udp:&#x2F;&#x2F;127.0.0.1:8888
</code></pre>
And there you have it, motion detection while staying in a single ffmpeg process, the glue logic watches stdout for the blackframe messages and saves the video.<p>explanation:<p>&quot;[]&quot; are named inputs and outputs<p>&quot;,&quot; are pipes<p>&quot;;&quot; ends a pipeline<p>take input 0 split it into two streams &quot;motion&quot; and &quot;original&quot;. the motion stream gets scaled down, converted to gbrp(later blends were not working on yuv data) then temporally mixed with the previous two frames(remove high frequency motion), and sent to stream &quot;camera&quot;. Take the zone mask image provided as input 1 and the &quot;camera&quot; stream, mask the camera stream, find the difference with the previous frame to bring out motion, blur to expand the motion pixels and then mask to black&#x2F;white, invert the image for correct blackframe analyses which will print messages on stdout when too many motion pixels are present.  The &quot;original&quot; stream get sent to the output for capture.<p>One odd thing is the mpegts, I tried a few more modern formats but none &quot;stream&quot; as well as mpegts. I will have to investigate further.<p>I could, and probably should have, used opencv to do the same. But I wanted to see if ffmpeg could do it.</div><br/></div></div><div id="42704357" class="c"><input type="checkbox" id="c-42704357" checked=""/><div class="controls bullet"><span class="by">ge96</span><span>|</span><a href="#42706095">prev</a><span>|</span><a href="#42707481">next</a><span>|</span><label class="collapse" for="c-42704357">[-]</label><label class="expand" for="c-42704357">[1 more]</label></div><br/><div class="children"><div class="content">ffmpeg is so goated, I used it to merge video&#x2F;audio from a mic on a camera I made ha<p>there was one time I didn&#x27;t use pyaudio correctly so I was using this process where ffmpeg can stitch multiple audio files together into one passed in as an array cli argument, crazy</div><br/></div></div><div id="42707481" class="c"><input type="checkbox" id="c-42707481" checked=""/><div class="controls bullet"><span class="by">ehsankia</span><span>|</span><a href="#42704357">prev</a><span>|</span><a href="#42707015">next</a><span>|</span><label class="collapse" for="c-42707481">[-]</label><label class="expand" for="c-42707481">[2 more]</label></div><br/><div class="children"><div class="content">No one seems to be talking about the website itself.<p>While as a concept, I absolutely love &quot;X by Example&quot; websites, this one seems to make some strange decisions. First, the top highlighted example is just an overly complicated `cat`. I understand that it&#x27;s meant to show the versatility of the tool, but it&#x27;s basically useless.<p>Then below, there&#x27;s 3 pages of commands, 10 per page. No ordering whatsoever in terms of usefulness. There looks like there&#x27;s an upvote but it&#x27;s actually just a bullet decoration.<p>There&#x27;s also a big &quot;try online&quot; button for a feature that&#x27;s not actually implemented.<p>All in all, this is a pretty disappointing website that I don&#x27;t think anyone in this thread will actually use, even though everyone seems to be &quot;praising&quot; it.</div><br/><div id="42708674" class="c"><input type="checkbox" id="c-42708674" checked=""/><div class="controls bullet"><span class="by">gariany</span><span>|</span><a href="#42707481">parent</a><span>|</span><a href="#42707015">next</a><span>|</span><label class="collapse" for="c-42708674">[-]</label><label class="expand" for="c-42708674">[1 more]</label></div><br/><div class="children"><div class="content">Creator of the site here, thanks for your comment.<p>The build system randomize an example to showcase on the homepage, I actually find it funny that its different example every time.<p>Regarding the upvote system. This is a static documentation website. I have created a crazy unique solution to have upvotes working but the website had literally zero traffic in years, so I guess that wasn&#x27;t the most important feature to focus on.<p>Sorry to disappoint, I&#x27;m doing it completely voluntary - happy to get any help here: <a href="https:&#x2F;&#x2F;github.com&#x2F;eladg&#x2F;ffmpeg-by-example">https:&#x2F;&#x2F;github.com&#x2F;eladg&#x2F;ffmpeg-by-example</a></div><br/></div></div></div></div><div id="42707015" class="c"><input type="checkbox" id="c-42707015" checked=""/><div class="controls bullet"><span class="by">skykooler</span><span>|</span><a href="#42707481">prev</a><span>|</span><a href="#42706659">next</a><span>|</span><label class="collapse" for="c-42707015">[-]</label><label class="expand" for="c-42707015">[1 more]</label></div><br/><div class="children"><div class="content">Wow, I wish I had seen this literally yesterday!</div><br/></div></div><div id="42706659" class="c"><input type="checkbox" id="c-42706659" checked=""/><div class="controls bullet"><span class="by">t1234s</span><span>|</span><a href="#42707015">prev</a><span>|</span><a href="#42708009">next</a><span>|</span><label class="collapse" for="c-42706659">[-]</label><label class="expand" for="c-42706659">[1 more]</label></div><br/><div class="children"><div class="content">anyone know how to use ffmpeg to get a video to cross-fade from the end to the start so it makes a nice loop? I cant seem to get the right response from ChatGPT.</div><br/></div></div><div id="42708009" class="c"><input type="checkbox" id="c-42708009" checked=""/><div class="controls bullet"><span class="by">tuananh</span><span>|</span><a href="#42706659">prev</a><span>|</span><a href="#42706540">next</a><span>|</span><label class="collapse" for="c-42708009">[-]</label><label class="expand" for="c-42708009">[1 more]</label></div><br/><div class="children"><div class="content">i believe this is where LLM will excel</div><br/></div></div><div id="42706540" class="c"><input type="checkbox" id="c-42706540" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#42708009">prev</a><span>|</span><a href="#42704807">next</a><span>|</span><label class="collapse" for="c-42706540">[-]</label><label class="expand" for="c-42706540">[1 more]</label></div><br/><div class="children"><div class="content">See also:<p>* <a href="https:&#x2F;&#x2F;img.ly&#x2F;blog&#x2F;ultimate-guide-to-ffmpeg&#x2F;" rel="nofollow">https:&#x2F;&#x2F;img.ly&#x2F;blog&#x2F;ultimate-guide-to-ffmpeg&#x2F;</a><p>* <a href="https:&#x2F;&#x2F;ffmpeg.lav.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ffmpeg.lav.io&#x2F;</a><p>* <a href="https:&#x2F;&#x2F;github.com&#x2F;leandromoreira&#x2F;ffmpeg-libav-tutorial">https:&#x2F;&#x2F;github.com&#x2F;leandromoreira&#x2F;ffmpeg-libav-tutorial</a><p>* <a href="https:&#x2F;&#x2F;www.hadet.dev&#x2F;ffmpeg-cheatsheet&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.hadet.dev&#x2F;ffmpeg-cheatsheet&#x2F;</a></div><br/></div></div><div id="42704807" class="c"><input type="checkbox" id="c-42704807" checked=""/><div class="controls bullet"><span class="by">bugglebeetle</span><span>|</span><a href="#42706540">prev</a><span>|</span><a href="#42704228">next</a><span>|</span><label class="collapse" for="c-42704807">[-]</label><label class="expand" for="c-42704807">[2 more]</label></div><br/><div class="children"><div class="content">Somebody please pay people to create sites like this so LLMs can train on them and I never have to spend time thinking about arcane FFMPEG commands ever again. I remember losing whole days in the before times trying to figure out how to make FFMPEG do some highly specific set of things.</div><br/><div id="42708084" class="c"><input type="checkbox" id="c-42708084" checked=""/><div class="controls bullet"><span class="by">gariany</span><span>|</span><a href="#42704807">parent</a><span>|</span><a href="#42704228">next</a><span>|</span><label class="collapse" for="c-42708084">[-]</label><label class="expand" for="c-42708084">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;ko-fi.com&#x2F;ffmpegbyexample" rel="nofollow">https:&#x2F;&#x2F;ko-fi.com&#x2F;ffmpegbyexample</a></div><br/></div></div></div></div><div id="42704228" class="c"><input type="checkbox" id="c-42704228" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#42704807">prev</a><span>|</span><a href="#42705670">next</a><span>|</span><label class="collapse" for="c-42704228">[-]</label><label class="expand" for="c-42704228">[4 more]</label></div><br/><div class="children"><div class="content">I just use LLMs to help me with ffmpeg (and many other similarly complex tools) commands: <a href="https:&#x2F;&#x2F;github.com&#x2F;dheera&#x2F;scripts&#x2F;blob&#x2F;master&#x2F;helpme">https:&#x2F;&#x2F;github.com&#x2F;dheera&#x2F;scripts&#x2F;blob&#x2F;master&#x2F;helpme</a><p><pre><code>    $ helpme ffmpeg capture video from &#x2F;dev&#x2F;video0 every 1 second and write to .jpg files like img00000.jpg, img00001.jpg, ...
    $ helpme ffmpeg assemble all the .jpg files into an .mp4 timelapse video at 8fps
    $ helpme ffmpeg recompress myvideo.mp4 for HTML5-friendly use and save the result as myvideo_out.webm
</code></pre>
I know there are full blown AI terminals like Warp but I didn&#x27;t like the idea of a terminal app requiring a login, possibly sending all my commands to a server, etc. and just wanted a script that only calls the cloud AI when I ask it to.</div><br/><div id="42704663" class="c"><input type="checkbox" id="c-42704663" checked=""/><div class="controls bullet"><span class="by">trevor-e</span><span>|</span><a href="#42704228">parent</a><span>|</span><a href="#42705670">next</a><span>|</span><label class="collapse" for="c-42704663">[-]</label><label class="expand" for="c-42704663">[3 more]</label></div><br/><div class="children"><div class="content">Yea agreed, these kinds of websites feel obsolete now with LLMs. I just tried a couple in ChatGPT and it worked flawlessly.</div><br/><div id="42704796" class="c"><input type="checkbox" id="c-42704796" checked=""/><div class="controls bullet"><span class="by">dmonitor</span><span>|</span><a href="#42704228">root</a><span>|</span><a href="#42704663">parent</a><span>|</span><a href="#42705670">next</a><span>|</span><label class="collapse" for="c-42704796">[-]</label><label class="expand" for="c-42704796">[2 more]</label></div><br/><div class="children"><div class="content">Where do you think the LLMs get their ffmpeg commands from?</div><br/><div id="42706393" class="c"><input type="checkbox" id="c-42706393" checked=""/><div class="controls bullet"><span class="by">trevor-e</span><span>|</span><a href="#42704228">root</a><span>|</span><a href="#42704796">parent</a><span>|</span><a href="#42705670">next</a><span>|</span><label class="collapse" for="c-42706393">[-]</label><label class="expand" for="c-42706393">[1 more]</label></div><br/><div class="children"><div class="content">Uh, probably the man page for the CLI and the official documentation at <a href="https:&#x2F;&#x2F;www.ffmpeg.org&#x2F;documentation.html" rel="nofollow">https:&#x2F;&#x2F;www.ffmpeg.org&#x2F;documentation.html</a></div><br/></div></div></div></div></div></div></div></div><div id="42705670" class="c"><input type="checkbox" id="c-42705670" checked=""/><div class="controls bullet"><span class="by">sergiotapia</span><span>|</span><a href="#42704228">prev</a><span>|</span><a href="#42704764">next</a><span>|</span><label class="collapse" for="c-42705670">[-]</label><label class="expand" for="c-42705670">[2 more]</label></div><br/><div class="children"><div class="content">if you&#x27;re the creator might I suggest an ai.txt like a robots.txt of all the content? so we can pass it to an LLM and use it to create custom commands we need based on real needs? that would be awesome!</div><br/><div id="42705789" class="c"><input type="checkbox" id="c-42705789" checked=""/><div class="controls bullet"><span class="by">Philpax</span><span>|</span><a href="#42705670">parent</a><span>|</span><a href="#42704764">next</a><span>|</span><label class="collapse" for="c-42705789">[-]</label><label class="expand" for="c-42705789">[1 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t be surprised if most LLMs already knew how to do most of these out of the box.</div><br/></div></div></div></div><div id="42704764" class="c"><input type="checkbox" id="c-42704764" checked=""/><div class="controls bullet"><span class="by">mahdihabibi</span><span>|</span><a href="#42705670">prev</a><span>|</span><label class="collapse" for="c-42704764">[-]</label><label class="expand" for="c-42704764">[1 more]</label></div><br/><div class="children"><div class="content">Now I know what to read over the next weekend!</div><br/></div></div></div></div></div></div></div></body></html>