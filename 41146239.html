<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1722697058039" as="style"/><link rel="stylesheet" href="styles.css?v=1722697058039"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jimmyhmiller.github.io/ugliest-beautiful-codebase">&quot;We ran out of columns&quot; – The best, worst codebase</a> <span class="domain">(<a href="https://jimmyhmiller.github.io">jimmyhmiller.github.io</a>)</span></div><div class="subtext"><span>poidos</span> | <span>40 comments</span></div><br/><div><div id="41146789" class="c"><input type="checkbox" id="c-41146789" checked=""/><div class="controls bullet"><span class="by">Nexialist</span><span>|</span><a href="#41146527">next</a><span>|</span><label class="collapse" for="c-41146789">[-]</label><label class="expand" for="c-41146789">[3 more]</label></div><br/><div class="children"><div class="content">My worst codebase story:<p>In my first real job, I worked for a company that maintained a large legacy product programmed in a combination of COBOL and Java.<p>In order to work on the Java side of the product, you checked out individual files from source control to work on, which &#x27;locked&#x27; the files and prevented other developers from checking out the same files. This functionality was not part of our actual source control system, but instead accomplished with a series of csh shell scripts you could run after ssh&#x27;ing into our development server.<p>Each of our customers had a &#x27;master&#x27; jar file that represented the actual final compiled product (a jar file is really a zip file archive, which bundles together the resulting compiled java class files).<p>Once you had finished implementing your code changes, you ran another set of scripts which found the master jar file for each customer, unzips it, copies the compiled files from your local machine into it, and zips it back up again. Finally the source control lock is released.<p>This means, effectively, that the codebase was never compiled as a whole at any point in the process, instead, we just manually patched the jar file over time with individually compiled class files.<p>Over the years, small errors in the process allowed a huge amount of inconsistencies to creep into the codebase. Race conditions would allow two developers to lock the same file at once, or a developer would change a class that was a dependency of some other code that somebody else was changing. Sometimes code changes would make it into some of the customer jar files, but not others. Nobody knew why.<p>It took a small team two years to migrate the entire codebase to git with proper CI, and a huge chunk of that time was reproducing a version of the codebase that actually compiled properly as a whole. After the project was finished, I resigned.</div><br/><div id="41146873" class="c"><input type="checkbox" id="c-41146873" checked=""/><div class="controls bullet"><span class="by">pelagicAustral</span><span>|</span><a href="#41146789">parent</a><span>|</span><a href="#41146829">next</a><span>|</span><label class="collapse" for="c-41146873">[-]</label><label class="expand" for="c-41146873">[1 more]</label></div><br/><div class="children"><div class="content">This sounds so much like dealing with MS Access databases... Unfortunately, part of my responsibility in my current role is to manage a handful of Access applications... they are ancient, I am talking early 2000&#x27;s. They are the most unruly thing I have ever had to work with, and I will not go into details but your story reminds me so much of having to work on these apps...</div><br/></div></div><div id="41146829" class="c"><input type="checkbox" id="c-41146829" checked=""/><div class="controls bullet"><span class="by">sir-dingleberry</span><span>|</span><a href="#41146789">parent</a><span>|</span><a href="#41146873">prev</a><span>|</span><a href="#41146527">next</a><span>|</span><label class="collapse" for="c-41146829">[-]</label><label class="expand" for="c-41146829">[1 more]</label></div><br/><div class="children"><div class="content">This is insane. Thanks for the post.</div><br/></div></div></div></div><div id="41146527" class="c"><input type="checkbox" id="c-41146527" checked=""/><div class="controls bullet"><span class="by">PreInternet01</span><span>|</span><a href="#41146789">prev</a><span>|</span><a href="#41146762">next</a><span>|</span><label class="collapse" for="c-41146527">[-]</label><label class="expand" for="c-41146527">[15 more]</label></div><br/><div class="children"><div class="content">&gt; I miss that direct connection. The fast feedback. The lack of making grand plans.<p>There&#x27;s no date on this article, but it feels &quot;prior to the MongoDB-is-webscale memes&quot; and thus slightly outdated?<p>But, hey, I get where they&#x27;re coming from. Personally, I used to be very much schema-first, make sure the data makes sense before even <i>thinking</i> about coding. Carefully deciding whether to use an INT data type where a BYTE would do.<p>Then, it turned out that large swathes of my beautiful, <i>perfect</i> schemas remained unoccupied, while some clusters were heavily abused to store completely unrelated stuff.<p>These days, my go-to solution is SQLite with two fields (well, three, if you count the implicit ROWID, which is invaluable for paging!): ID and Data, the latter being a JSONB blob.<p>Then, some indexes specified by `json_extract` expressions, some clever NULL coalescing in the consuming code, resulting in a generally-better experience than before...</div><br/><div id="41146604" class="c"><input type="checkbox" id="c-41146604" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41146527">parent</a><span>|</span><a href="#41146572">next</a><span>|</span><label class="collapse" for="c-41146604">[-]</label><label class="expand" for="c-41146604">[2 more]</label></div><br/><div class="children"><div class="content">I’m still in the think hard about the schema camp. I like to rely on the database to enforce constraints.</div><br/><div id="41146783" class="c"><input type="checkbox" id="c-41146783" checked=""/><div class="controls bullet"><span class="by">ibejoeb</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146604">parent</a><span>|</span><a href="#41146572">next</a><span>|</span><label class="collapse" for="c-41146783">[-]</label><label class="expand" for="c-41146783">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, a good database is pretty damn handy.<p>Have you had the pleasure of blowing young minds by revealing that production-grade databases come with fully fledged authnz systems that you can just...use right out of the box?</div><br/></div></div></div></div><div id="41146572" class="c"><input type="checkbox" id="c-41146572" checked=""/><div class="controls bullet"><span class="by">jrochkind1</span><span>|</span><a href="#41146527">parent</a><span>|</span><a href="#41146604">prev</a><span>|</span><a href="#41146734">next</a><span>|</span><label class="collapse" for="c-41146572">[-]</label><label class="expand" for="c-41146572">[3 more]</label></div><br/><div class="children"><div class="content">Oh good question on date essay was written -- put dates on your things on the internet people!<p>Internet Archive has a crawl from today but no earlier; which doesn&#x27;t mean it can&#x27;t be earlier of course. My guess is it was written recently though.</div><br/><div id="41146619" class="c"><input type="checkbox" id="c-41146619" checked=""/><div class="controls bullet"><span class="by">lexicality</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146572">parent</a><span>|</span><a href="#41146734">next</a><span>|</span><label class="collapse" for="c-41146619">[-]</label><label class="expand" for="c-41146619">[2 more]</label></div><br/><div class="children"><div class="content">created 14 hours ago <a href="https:&#x2F;&#x2F;github.com&#x2F;jimmyhmiller&#x2F;jimmyhmiller.github.io&#x2F;commit&#x2F;1e007eba3843eadaba97c1d713b7076580a616da">https:&#x2F;&#x2F;github.com&#x2F;jimmyhmiller&#x2F;jimmyhmiller.github.io&#x2F;commi...</a></div><br/><div id="41146681" class="c"><input type="checkbox" id="c-41146681" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146619">parent</a><span>|</span><a href="#41146734">next</a><span>|</span><label class="collapse" for="c-41146681">[-]</label><label class="expand" for="c-41146681">[1 more]</label></div><br/><div class="children"><div class="content">But clearly in retrospect. It sounds like some of the things I was doing in 2009.</div><br/></div></div></div></div></div></div><div id="41146734" class="c"><input type="checkbox" id="c-41146734" checked=""/><div class="controls bullet"><span class="by">chrisldgk</span><span>|</span><a href="#41146527">parent</a><span>|</span><a href="#41146572">prev</a><span>|</span><a href="#41146698">next</a><span>|</span><label class="collapse" for="c-41146734">[-]</label><label class="expand" for="c-41146734">[4 more]</label></div><br/><div class="children"><div class="content">I actually love your approach and haven’t thought of that before. 
My problem with relational databases often stems from the fact that remodeling data types and schemas (which you often do as you build an application, whether or not you thought of a great schema beforehand) often comes with a lot of migration effort.<p>Pairing your approach with a „version“ field where you can check which version of a schema this rows data is saved with would actually allow you to be incredibly flexible with saving your data while also being able to be (somewhat) sure that your fields schema matches what you’re expecting.</div><br/><div id="41146764" class="c"><input type="checkbox" id="c-41146764" checked=""/><div class="controls bullet"><span class="by">dvdkon</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146734">parent</a><span>|</span><a href="#41146788">next</a><span>|</span><label class="collapse" for="c-41146764">[-]</label><label class="expand" for="c-41146764">[2 more]</label></div><br/><div class="children"><div class="content">Not having to write and perform migrations for every small schema change is a bore, but it means your software doesn&#x27;t have to worry about handling different versions of data. Going &quot;schemaless&quot; with version numbers means moving code from &quot;write-and-forget&quot; migrations to the main codebase, where it will live forever.<p>I think not doing database migrations only makes sense when you can make do <i>without</i> version numbers (or if you can&#x27;t do atomic migrations due to performance constraints, but that&#x27;s only a problem for a very small number of projects).</div><br/><div id="41146784" class="c"><input type="checkbox" id="c-41146784" checked=""/><div class="controls bullet"><span class="by">JadeNB</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146764">parent</a><span>|</span><a href="#41146788">next</a><span>|</span><label class="collapse" for="c-41146784">[-]</label><label class="expand" for="c-41146784">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Not having to write and perform migrations for every small schema change is a bore, but it means your software doesn&#x27;t have to worry about handling different versions of data.<p>Is that &quot;not&quot; at the front supposed to be there?</div><br/></div></div></div></div><div id="41146788" class="c"><input type="checkbox" id="c-41146788" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146734">parent</a><span>|</span><a href="#41146764">prev</a><span>|</span><a href="#41146698">next</a><span>|</span><label class="collapse" for="c-41146788">[-]</label><label class="expand" for="c-41146788">[1 more]</label></div><br/><div class="children"><div class="content">&gt; remodeling data types and schemas (which you often do as you build an application, whether or not you thought of a great schema beforehand)<p>This is not my experience, it only happens rarely. I’d like to see an analysis of what causes schema changes that require nontrivial migrations.</div><br/></div></div></div></div><div id="41146698" class="c"><input type="checkbox" id="c-41146698" checked=""/><div class="controls bullet"><span class="by">jsonis</span><span>|</span><a href="#41146527">parent</a><span>|</span><a href="#41146734">prev</a><span>|</span><a href="#41146704">next</a><span>|</span><label class="collapse" for="c-41146698">[-]</label><label class="expand" for="c-41146698">[2 more]</label></div><br/><div class="children"><div class="content">&gt; These days, my go-to solution is SQLite with two fields (well, three, if you count the implicit ROWID, which is invaluable for paging!): ID and Data, the latter being a JSONB blob.<p>Really!? Are you building applications by chance or something else? Are you doing raw sql mostly or an ORM&#x2F;ORM-like library? This surprises me because my experience dabbling in json fields for CRUD apps has been mostly trouble stemming from the lack of typechecks. SQLite&#x27;s fluid type system haa been a nice middle ground for me personally. For reference my application layer is kysely&#x2F;typescript.</div><br/><div id="41146903" class="c"><input type="checkbox" id="c-41146903" checked=""/><div class="controls bullet"><span class="by">PreInternet01</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146698">parent</a><span>|</span><a href="#41146704">next</a><span>|</span><label class="collapse" for="c-41146903">[-]</label><label class="expand" for="c-41146903">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  my experience dabbling in json fields for CRUD apps has been mostly trouble stemming from the lack of typechecks<p>Well, you move the type checks from the database to the app, effectively, which is not a new idea by any means (and a <i>bad</i> idea in many cases), but with JSON, it <i>can</i> actually work out nicely-ish, as long as there are no significant relationships between tables.<p>Practical example: I recently wrote my own SMTP server (bad idea!), mostly to be able to control spam (even worse idea! don&#x27;t listen to me!). Initially, I thought I would be <i>really</i> interested in remote IPs, reverse DNS domains, and whatever was claimed in the (E)HLO.<p>So, I designed my initial database around those concepts. Turns out, after like half a million session records: I&#x27;m <i>much</i> more interested in things like the Azure tenant ID, the Google &#x27;groups&#x27; ID, the HTML body tag fingerprint, and other data points.<p>Fortunately, my session database is just &#x27;JSON(B) in a single table&#x27;, so I was able to add those additional fields without the need for any migrations. And SQLite&#x27;s `json_extract` makes adding indexes after-the-fact super-easy.<p>Of course, these additional fields need to be explicitly nullable, and I need to skip processing based on them if they&#x27;re absent, but fortunately modern C# makes that easy as well.<p>And, no, no need for an ORM, except `JsonSerializer.Deserialize&lt;T&gt;`... (And yeah, all of this is just a <i>horrible</i> hack, but one that seems surprisingly resilient so far, but YMMV)</div><br/></div></div></div></div><div id="41146704" class="c"><input type="checkbox" id="c-41146704" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#41146527">parent</a><span>|</span><a href="#41146698">prev</a><span>|</span><a href="#41146662">next</a><span>|</span><label class="collapse" for="c-41146704">[-]</label><label class="expand" for="c-41146704">[1 more]</label></div><br/><div class="children"><div class="content">Byte vs. Int is premature optimization. But indexing, primary keys, join tables, normalization vs. denormalization, etc. are all important.</div><br/></div></div><div id="41146662" class="c"><input type="checkbox" id="c-41146662" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#41146527">parent</a><span>|</span><a href="#41146704">prev</a><span>|</span><a href="#41146762">next</a><span>|</span><label class="collapse" for="c-41146662">[-]</label><label class="expand" for="c-41146662">[2 more]</label></div><br/><div class="children"><div class="content">This is perfectly fine when you are driving some app that has a per-user experience that allows you to wrap up most of their experience in some blobs.<p>However I would still advise people to use a third normal form - they help you, constraints help you, and often other sets of tooling have poor support for constraints on JSON. Scanning and updating every value because you need to update some subset sucks.<p>You first point is super valid though - understanding the domain is very useful and you can get easily 10x the performance by designing with proper types involved, but importantly don&#x27;t just build out the model before devs and customers have a use for anything, this is a classic mistake in my eyes (and then skipping cleanup when that is basically unused.)<p>If you want to figure out your data model in depth beforehand there&#x27;s nothing wrong with that... but you will still make tons of mistakes mistakes, lack of planning will require last minute fixes, and the evolution of the product will have your original planning gather dust.</div><br/><div id="41146731" class="c"><input type="checkbox" id="c-41146731" checked=""/><div class="controls bullet"><span class="by">jsonis</span><span>|</span><a href="#41146527">root</a><span>|</span><a href="#41146662">parent</a><span>|</span><a href="#41146762">next</a><span>|</span><label class="collapse" for="c-41146731">[-]</label><label class="expand" for="c-41146731">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Scanning and updating every value because you need to update some subset sucks.<p>Mirrors my experience exactly. Querying json can get complex to get info from the db. SQLite is kind of forgiving because sequences of queries (I mean query, modify in appliation code that fully supports json ie js, then query again) are less painful meaning it&#x27;s less moprtant to do everytning in the database for performance reasons. But if you&#x27;re trying to do everything in 1 query, I think you pay for it at application-writing time over and over.</div><br/></div></div></div></div></div></div><div id="41146762" class="c"><input type="checkbox" id="c-41146762" checked=""/><div class="controls bullet"><span class="by">gamepsys</span><span>|</span><a href="#41146527">prev</a><span>|</span><a href="#41146551">next</a><span>|</span><label class="collapse" for="c-41146762">[-]</label><label class="expand" for="c-41146762">[2 more]</label></div><br/><div class="children"><div class="content">&gt; All that remained were ragtag interns and junior developers.<p>For many people, their first job in software engineering is the worst codebase they will deal with professionally for this reason.  The first job hires lot of people with little&#x2F;no experience.  As soon as someone gains some experience than can move on to better paying jobs, where there are better developers with better standards.</div><br/><div id="41146883" class="c"><input type="checkbox" id="c-41146883" checked=""/><div class="controls bullet"><span class="by">prudentpomelo</span><span>|</span><a href="#41146762">parent</a><span>|</span><a href="#41146551">next</a><span>|</span><label class="collapse" for="c-41146883">[-]</label><label class="expand" for="c-41146883">[1 more]</label></div><br/><div class="children"><div class="content">This is the exact boat I am in. I always say the best thing about our codebase is the worst thing: junior developers can do whatever they want.</div><br/></div></div></div></div><div id="41146551" class="c"><input type="checkbox" id="c-41146551" checked=""/><div class="controls bullet"><span class="by">cowsandmilk</span><span>|</span><a href="#41146762">prev</a><span>|</span><a href="#41146771">next</a><span>|</span><label class="collapse" for="c-41146551">[-]</label><label class="expand" for="c-41146551">[6 more]</label></div><br/><div class="children"><div class="content">He acts like sequence key is odd, but that’s quite normal in database world.<p><a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;sql-createsequence.html" rel="nofollow">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;sql-createsequence.h...</a></div><br/><div id="41146622" class="c"><input type="checkbox" id="c-41146622" checked=""/><div class="controls bullet"><span class="by">_elf</span><span>|</span><a href="#41146551">parent</a><span>|</span><a href="#41146643">next</a><span>|</span><label class="collapse" for="c-41146622">[-]</label><label class="expand" for="c-41146622">[1 more]</label></div><br/><div class="children"><div class="content">Databases have built-in features for this now. What the author is talking about is a regular table.<p>In reality, that wasn&#x27;t too unusual to see because frameworks would use that technique because it&#x27;s a lowest common denominator across RDMS.</div><br/></div></div><div id="41146643" class="c"><input type="checkbox" id="c-41146643" checked=""/><div class="controls bullet"><span class="by">mnahkies</span><span>|</span><a href="#41146551">parent</a><span>|</span><a href="#41146622">prev</a><span>|</span><a href="#41146616">next</a><span>|</span><label class="collapse" for="c-41146643">[-]</label><label class="expand" for="c-41146643">[2 more]</label></div><br/><div class="children"><div class="content">I think the intriguing part was purposefully using the same sequence value for rows in multiple tables.<p>I&#x27;ve worked with globally unique (to our application) integer keys, and per table integer sequences (which obviously aren&#x27;t globally unique), but I don&#x27;t recall seeing anyone use a global sequence but purposefully reuse elements of the sequence before.</div><br/><div id="41146700" class="c"><input type="checkbox" id="c-41146700" checked=""/><div class="controls bullet"><span class="by">collinvandyck76</span><span>|</span><a href="#41146551">root</a><span>|</span><a href="#41146643">parent</a><span>|</span><a href="#41146616">next</a><span>|</span><label class="collapse" for="c-41146700">[-]</label><label class="expand" for="c-41146700">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen this fairly recently and I was surprised to also see it in this article because I think that makes it twice that I&#x27;ve seen it in ~25 years.</div><br/></div></div></div></div><div id="41146616" class="c"><input type="checkbox" id="c-41146616" checked=""/><div class="controls bullet"><span class="by">MarceColl</span><span>|</span><a href="#41146551">parent</a><span>|</span><a href="#41146643">prev</a><span>|</span><a href="#41146615">next</a><span>|</span><label class="collapse" for="c-41146616">[-]</label><label class="expand" for="c-41146616">[1 more]</label></div><br/><div class="children"><div class="content">Yes, but both these have very different properties. He said (I don&#x27;t know if its the case) that the db didnt have an autoincremental type. Postgres uses these sequence objects to implement autoincremental ids as he was referring to, they are implemented in-engine and are very fast and have already solved data races.<p>In the article, what he complains about is not about what a sequence is, but about implementing it manually with a table that is read, incremented and then saved. This us more expensive, and depending on how it was implemented you need to take care of the whole data flow so you are unable to allocate the same id twice. That&#x27;s what he considers odd</div><br/></div></div><div id="41146615" class="c"><input type="checkbox" id="c-41146615" checked=""/><div class="controls bullet"><span class="by">williamdclt</span><span>|</span><a href="#41146551">parent</a><span>|</span><a href="#41146616">prev</a><span>|</span><a href="#41146771">next</a><span>|</span><label class="collapse" for="c-41146615">[-]</label><label class="expand" for="c-41146615">[1 more]</label></div><br/><div class="children"><div class="content">yeah, I&#x27;ve seen tables with a single row and single columns a few times, for alright reasons. Sometimes you do just want to store a single global value!</div><br/></div></div></div></div><div id="41146771" class="c"><input type="checkbox" id="c-41146771" checked=""/><div class="controls bullet"><span class="by">surfingdino</span><span>|</span><a href="#41146551">prev</a><span>|</span><a href="#41146759">next</a><span>|</span><label class="collapse" for="c-41146771">[-]</label><label class="expand" for="c-41146771">[2 more]</label></div><br/><div class="children"><div class="content">I had dubious pleasure of working with similar codebases and devs. I&#x27;ll remember one of those guys forever, because whenever he wanted to work on a new branch he would clone the repo, make changes to the master branch, and push code to a new repo numbered repo0001, repo002, ... He refused to change his ways, because &quot;I have a PhD so you are wrong&quot;.<p>Another WTF moment was realisation that MS SQL Server does not support BOOLEAN type. That made porting code fun.</div><br/><div id="41146822" class="c"><input type="checkbox" id="c-41146822" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#41146771">parent</a><span>|</span><a href="#41146759">next</a><span>|</span><label class="collapse" for="c-41146822">[-]</label><label class="expand" for="c-41146822">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Another WTF moment was realisation that MS SQL Server does not support BOOLEAN type.<p>The standard does not have a boolean type. It&#x27;s a postgres extension that the other open source databases adopted (because, yeah, it&#x27;s obvious). But the proprietary ones insist on not having.<p>The official recommendation is using byte on MS SQL and char(1) on Oracle. Both are ridiculous.</div><br/></div></div></div></div><div id="41146759" class="c"><input type="checkbox" id="c-41146759" checked=""/><div class="controls bullet"><span class="by">dakiol</span><span>|</span><a href="#41146771">prev</a><span>|</span><a href="#41146717">next</a><span>|</span><label class="collapse" for="c-41146759">[-]</label><label class="expand" for="c-41146759">[1 more]</label></div><br/><div class="children"><div class="content">Honestly, I like to work on such systems because:<p>- there is so much stuff to improve. There’s nothing better than the feeling of improving things with code (or by removing it)<p>- it’s back to school again and everything goes. You can implement features in any way you want because the constraints the system imposes. Granted, sometimes it’s painful to add functionality<p>- there’s usually no room to subjective topics like clean code and architecture. The most important thing with these systems is correctness (and this is usually an objective topic)<p>- nobody can blame you for something that doesn’t work. It’s always the fault of the legacy system<p>I wouldn’t recommend working on such systems to junior engineers, though.<p>I don’t really like to work on “perfect” codebases where everyone follows the same pattern, with linters, where if something breaks is because of your shitty code (because the codebase is “clean”). It’s very frustrating and limiting.</div><br/></div></div><div id="41146717" class="c"><input type="checkbox" id="c-41146717" checked=""/><div class="controls bullet"><span class="by">trte9343r4</span><span>|</span><a href="#41146759">prev</a><span>|</span><a href="#41146703">next</a><span>|</span><label class="collapse" for="c-41146717">[-]</label><label class="expand" for="c-41146717">[2 more]</label></div><br/><div class="children"><div class="content">Slicing columns into multiple tables is fairly common type of sharding. Sort of SQL way to do columnary store.</div><br/><div id="41146885" class="c"><input type="checkbox" id="c-41146885" checked=""/><div class="controls bullet"><span class="by">pelagicAustral</span><span>|</span><a href="#41146717">parent</a><span>|</span><a href="#41146703">next</a><span>|</span><label class="collapse" for="c-41146885">[-]</label><label class="expand" for="c-41146885">[1 more]</label></div><br/><div class="children"><div class="content">This is such an horrendous practice, I am yet to find a database were this makes sense. Maybe my brain is not wired for it</div><br/></div></div></div></div><div id="41146703" class="c"><input type="checkbox" id="c-41146703" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#41146717">prev</a><span>|</span><a href="#41146517">next</a><span>|</span><label class="collapse" for="c-41146703">[-]</label><label class="expand" for="c-41146703">[2 more]</label></div><br/><div class="children"><div class="content">&gt; went by the name Munch<p>How do you pronounce that?<p>Was it like the word munch in “munching on some snacks”?<p>Or like the name of the painter Edward Munch? <a href="https:&#x2F;&#x2F;www.nrk.no&#x2F;kultur&#x2F;nrk-endrer-munch-uttale-1.539667" rel="nofollow">https:&#x2F;&#x2F;www.nrk.no&#x2F;kultur&#x2F;nrk-endrer-munch-uttale-1.539667</a> (note: this link is in Norwegian)</div><br/><div id="41146861" class="c"><input type="checkbox" id="c-41146861" checked=""/><div class="controls bullet"><span class="by">jimmyhmiller</span><span>|</span><a href="#41146703">parent</a><span>|</span><a href="#41146517">next</a><span>|</span><label class="collapse" for="c-41146861">[-]</label><label class="expand" for="c-41146861">[1 more]</label></div><br/><div class="children"><div class="content">As in munching on snacks</div><br/></div></div></div></div><div id="41146517" class="c"><input type="checkbox" id="c-41146517" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#41146703">prev</a><span>|</span><label class="collapse" for="c-41146517">[-]</label><label class="expand" for="c-41146517">[6 more]</label></div><br/><div class="children"><div class="content">The first line really hits me hard.  There’s something so incredibly freeing about being a kid and doing stuff like coding. There’s simply no expectations. Even the smallest project felt like such an achievement. But now I code professionally and I don’t know how to turn off engineering brain.  I don’t know how to be okay doing something poorly, but on my terms.</div><br/><div id="41146606" class="c"><input type="checkbox" id="c-41146606" checked=""/><div class="controls bullet"><span class="by">captn3m0</span><span>|</span><a href="#41146517">parent</a><span>|</span><a href="#41146804">next</a><span>|</span><label class="collapse" for="c-41146606">[-]</label><label class="expand" for="c-41146606">[1 more]</label></div><br/><div class="children"><div class="content">Writers often say that your first N books will be crap, and the answer to that problem is to just write more than N books. I feel that’s true of software as well - the first years of the magical programming I did without any expectations meant those projects were utter crap yet functional.</div><br/></div></div><div id="41146804" class="c"><input type="checkbox" id="c-41146804" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#41146517">parent</a><span>|</span><a href="#41146606">prev</a><span>|</span><a href="#41146583">next</a><span>|</span><label class="collapse" for="c-41146804">[-]</label><label class="expand" for="c-41146804">[2 more]</label></div><br/><div class="children"><div class="content">I think you can add a mode to engineer brain, in which it&#x27;s aware when it&#x27;s kludging something, but kludging is the appropriate thing to do.<p>Might help to have enough experience that you have (well-placed) confidence in your gut feel for how much engineering a particular thing needs.<p>(More common is to not have an engineer mode, or to not have enough experience to do it well.)<p>If you don&#x27;t have the kludge mode, try some things where kludges are outright necessary.  One time I recall this was when writing Emacs extensions.  For example, it used to be that you&#x27;d hit a point where normal programmatic navigation&#x2F;parsing of the buffer was just too slow, and a well-placed regexp operation that worked 99.99% of the time (and the other 0.01% of the time it&#x27;s OK enough, and the user understands) made the rest of the code viable.<p>Another example is personal open source projects, when you really want to experiment with an usual implementation approach, and you give yourself permission.<p>(Maybe don&#x27;t do this when the open source is done only for resume purposes, where you&#x27;re trying to demonstrate you follow all the current fashionable conventions.  You&#x27;re almost guaranteed that someday a new-grad on a public forum or not-very-technical hiring manager will stumble across that bit of code, and fixate on the one thing they think they recognize as a bad practice.  Documenting the kludge and rationale, in, say, a code comment, is great practice, but, again, it will also draw the attention of the least-skilled.  Much like, if you&#x27;re relating an anecdote in a job interview, and implied are 20 things you did right and 1 thing you did brilliantly, and you note as an aside one mistake you made, most of that will whoosh over the head of the dimmest FAANG interviewer, but they&#x27;ll latch onto that mistake you spelled out, as a wise insight they have, and that&#x27;s what&#x27;s going in their report. :)<p>Then, armed with an experienced multi-skilled brain, when your startup&#x27;s imminent MVP launch is facing crazy constraints, you triage what bits need to be rock-solid so they&#x27;ll absolutely work and not fail, what bits need creative kludging so you can hit your launch window for other key requirements, and what bits you need to mitigate any compromises.  Ideally, you have the wisdom to know which is which, and can activate different skills for each kind of work.<p>That Turbo Encabulator needs to be well-machined, but the new sensor you just decided it needs for a test doesn&#x27;t need a week to be drilled into the engine block, nor a mount to be designed and CNC&#x27;d or 3D-printed, but the nearest Velcro or zip-tie or maybe wad of chewing gum will do.</div><br/><div id="41146821" class="c"><input type="checkbox" id="c-41146821" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#41146517">root</a><span>|</span><a href="#41146804">parent</a><span>|</span><a href="#41146583">next</a><span>|</span><label class="collapse" for="c-41146821">[-]</label><label class="expand" for="c-41146821">[1 more]</label></div><br/><div class="children"><div class="content">All such great advice. The one time I’ve found success is when I figure out the entire scope of the little project up front. Then I find myself not even worrying about maintenance or scalability. I know I won’t need that extra class abstraction or modularity or whatever. I just don’t like planning at the start, but it’s probably, counterintuitively, part of the answer.<p>P.S. you opened a parenthesis and forgot to close it so now everything I read all day is part of your anecdote)</div><br/></div></div></div></div><div id="41146583" class="c"><input type="checkbox" id="c-41146583" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#41146517">parent</a><span>|</span><a href="#41146804">prev</a><span>|</span><a href="#41146699">next</a><span>|</span><label class="collapse" for="c-41146583">[-]</label><label class="expand" for="c-41146583">[1 more]</label></div><br/><div class="children"><div class="content">What ever small success I had outside work has been whenever I managed to turn off Enterprise brain.</div><br/></div></div><div id="41146699" class="c"><input type="checkbox" id="c-41146699" checked=""/><div class="controls bullet"><span class="by">datavirtue</span><span>|</span><a href="#41146517">parent</a><span>|</span><a href="#41146583">prev</a><span>|</span><label class="collapse" for="c-41146699">[-]</label><label class="expand" for="c-41146699">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s because you don&#x27;t get to write apps from scratch enough. Everything is a POC. You get it working. Optimization is just dumb until the project is so big it doesn&#x27;t fit in the developers brain anymore. Then you write tests for the core part so you can keep interating fast. You will see parts that clearly need refactorwd before you can move on.<p>Also, be aware of, but don&#x27;t get hung up on, engineering best practices. Chances are that someone is going to see your POC and put it in front of a client or promise it to someone. It will enter service being less than perfect, if you are lucky.<p>When you pull this off people will tell stories about you and brag about you when you are not around. None of them will know anything about the code engineering.</div><br/></div></div></div></div></div></div></div></div></div></body></html>