<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717318872462" as="style"/><link rel="stylesheet" href="styles.css?v=1717318872462"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://xata.io/blog/geo-distributed-postgres">How to Distribute Postgres Geographically</a>Â <span class="domain">(<a href="https://xata.io">xata.io</a>)</span></div><div class="subtext"><span>mebcitto</span> | <span>4 comments</span></div><br/><div><div id="40551909" class="c"><input type="checkbox" id="c-40551909" checked=""/><div class="controls bullet"><span class="by">hazaskull</span><span>|</span><label class="collapse" for="c-40551909">[-]</label><label class="expand" for="c-40551909">[3 more]</label></div><br/><div class="children"><div class="content">While it is fun to see how to creatively solve such issues, it does raise the question of managability.
When sharding data into loosely (fdw) coupled silo&#x27;s it would become tricky to make consistent backups, ensure locking mechanisms work when sharded data might sometimes be directly related, handle zone&#x2F;region failures gracefully, prevent hot spots, perform multi-region schema-changes reliably, etc.
I suppose this pattern principally only works when the data is in fact not strongly related and the silo&#x27;s are quite independent. I wouldn&#x27;t call that a distributed system at all, really. This may be a matter of opinion of course.<p>It does give a &quot;When all you have is a hammer...&quot; vibe to me and begs the question: why not use a system that&#x27;s designed for use-cases like this and do it reliably and securely ? i.e.: <a href="https:&#x2F;&#x2F;www.cockroachlabs.com&#x2F;docs&#x2F;stable&#x2F;multiregion-overview" rel="nofollow">https:&#x2F;&#x2F;www.cockroachlabs.com&#x2F;docs&#x2F;stable&#x2F;multiregion-overvi...</a> (yes, I know full data domiciling requires something even more strict but I currently don&#x27;t know of any system that can transparently span the globe and stay performant while not sharing any metadata or caching between regions)</div><br/><div id="40552309" class="c"><input type="checkbox" id="c-40552309" checked=""/><div class="controls bullet"><span class="by">tudorg</span><span>|</span><a href="#40551909">parent</a><span>|</span><label class="collapse" for="c-40552309">[-]</label><label class="expand" for="c-40552309">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It does give a &quot;When all you have is a hammer...&quot; vibe to me and begs the question: why not use a system that&#x27;s designed for use-cases like this and do it reliably and securely ?<p>(disclaimer: blog post author)<p>A reason would be that you want to stick to pure Postgres, for example because you want to use Postgres extensions, or prefer the liberal Postgres license.<p>It can also be a matter of performance, distributed transactions are necessarily slower so if almost all the time you can avoid them by connecting to a single node, which has all the data that the transaction needs, that&#x27;s going to get you better performance.</div><br/><div id="40552485" class="c"><input type="checkbox" id="c-40552485" checked=""/><div class="controls bullet"><span class="by">hazaskull</span><span>|</span><a href="#40551909">root</a><span>|</span><a href="#40552309">parent</a><span>|</span><label class="collapse" for="c-40552485">[-]</label><label class="expand" for="c-40552485">[1 more]</label></div><br/><div class="children"><div class="content">Hi there! Thank you for the post and your work on pgzx!
Though it depends on the system (cockroachdb can place leaders on specific nodes to speed up local queries, it has global tables and otherwise there&#x27;s always follower-reads) those are of course valid reasons.
Admittedly if you want to keep data &quot;pinned&quot;, you&#x27;re into manual placement, rather than horizontal scaling but that&#x27;s nitpicking and there&#x27;s pros and cons.
I do enjoy the freedom of Postgres and am hopeful that its virtually prehistoric storage-design becomes a non-issue thanks to tech such as Neon and Orioledb. The option to decouple storage would provide wonderful flexibility for solutions like yours too I think.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>