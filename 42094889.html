<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731574862022" as="style"/><link rel="stylesheet" href="styles.css?v=1731574862022"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://eclecticlight.co/2024/11/08/why-cpu-in-activity-monitor-isnt-what-you-think/">The number given as % CPU in Activity Monitor</a> <span class="domain">(<a href="https://eclecticlight.co">eclecticlight.co</a>)</span></div><div class="subtext"><span>Brajeshwar</span> | <span>25 comments</span></div><br/><div><div id="42097607" class="c"><input type="checkbox" id="c-42097607" checked=""/><div class="controls bullet"><span class="by">kiitos</span><span>|</span><a href="#42130093">next</a><span>|</span><label class="collapse" for="c-42097607">[-]</label><label class="expand" for="c-42097607">[9 more]</label></div><br/><div class="children"><div class="content">&gt; What Activity Monitor actually shows as % CPU or “percentage of CPU capability that’s being used” is what’s better known as active residency of each core, that’s the percentage of processor cycles that aren’t idle, but actively processing threads owned by a given process. But it doesn’t take into account the frequency or clock speed of the core at that time, nor the difference in core throughput between P and E cores.<p>Does &quot;%CPU&quot; <i>need</i> to take into account these things?</div><br/><div id="42099715" class="c"><input type="checkbox" id="c-42099715" checked=""/><div class="controls bullet"><span class="by">kevincox</span><span>|</span><a href="#42097607">parent</a><span>|</span><a href="#42097695">next</a><span>|</span><label class="collapse" for="c-42099715">[-]</label><label class="expand" for="c-42099715">[3 more]</label></div><br/><div class="children"><div class="content">I think it would be useful in many scenarios. For example if I am running at near cores*100% I may think my system or fully loaded (or overloaded). But if those cores are running at a low frequencies because there isn&#x27;t actually any overload I would want to know that. Because in this case if I spawn twice as many tasks and have twice as much throughput while the CPU% doesn&#x27;t change that seems confusing.<p>I think if I had to pick a single number for reporting CPU usage it would be percent of available throughout. Although this has complications (the max frequency will depend on external conditions like temperature). But 0% would mean &quot;no runnable tasks&quot; and 100% would mean that the CPUs are running at the maximum currently available speed. The values in-between would be some sort of approximation but I think that is fine.</div><br/><div id="42129285" class="c"><input type="checkbox" id="c-42129285" checked=""/><div class="controls bullet"><span class="by">necovek</span><span>|</span><a href="#42097607">root</a><span>|</span><a href="#42099715">parent</a><span>|</span><a href="#42097695">next</a><span>|</span><label class="collapse" for="c-42129285">[-]</label><label class="expand" for="c-42129285">[2 more]</label></div><br/><div class="children"><div class="content">It would be valuable to know that, but that also means knowing the power profile, cooling capability etc.<p>In general, understanding how much &quot;compute capacity&quot; you still have left is very much an experimental science with modern CPUs.<p>As an example of what I mean, MacBook Airs had exactly the same cores as MacBook Pros (up to 13&quot; Pros iirc), but while you could max out one or two cores on both (and get &quot;200% usage&quot; that is comparable), going past that would mean entirely different things due to one being passively cooled.<p>With x64 platforms, TDP discussion is even more relevant even without getting to ARMs big.SMALL or Intel&#x27;s P&#x2F;E core distinction.</div><br/><div id="42130683" class="c"><input type="checkbox" id="c-42130683" checked=""/><div class="controls bullet"><span class="by">necovek</span><span>|</span><a href="#42097607">root</a><span>|</span><a href="#42129285">parent</a><span>|</span><a href="#42097695">next</a><span>|</span><label class="collapse" for="c-42130683">[-]</label><label class="expand" for="c-42130683">[1 more]</label></div><br/><div class="children"><div class="content">I knew something was off with &quot;big.SMALL&quot; and it&#x27;s because it&#x27;s really &quot;big.LITTLE&quot; (though not used very much nowadays as a moniker, it was prominent around a decade ago when it was being introduced into the market).</div><br/></div></div></div></div></div></div><div id="42097695" class="c"><input type="checkbox" id="c-42097695" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#42097607">parent</a><span>|</span><a href="#42099715">prev</a><span>|</span><a href="#42129077">next</a><span>|</span><label class="collapse" for="c-42097695">[-]</label><label class="expand" for="c-42097695">[2 more]</label></div><br/><div class="children"><div class="content">From an intuitive point of view, if you want to use %CPU as &quot;how much of the total <i>available</i> processing power is this process using&quot;, it&#x27;s potentially valuable. With the status quo, a process might appear to be a few multiples more CPU intensive than it really is, if the system happens to be relatively idle.<p>That said, it&#x27;s not particularly easy to apply these corrections, especially because the available maximum clock speed depends on variables like the ambient temperature, how bust all the cores are, and how long the CPU has been boosting for. So if you were to apply these corrections, either you report that a fully loaded system is using less than 100% of possible available CPU power in a lot of cases, or your correction factors vary over time and are difficult to calculate.</div><br/><div id="42104081" class="c"><input type="checkbox" id="c-42104081" checked=""/><div class="controls bullet"><span class="by">kiitos</span><span>|</span><a href="#42097607">root</a><span>|</span><a href="#42097695">parent</a><span>|</span><a href="#42129077">next</a><span>|</span><label class="collapse" for="c-42104081">[-]</label><label class="expand" for="c-42104081">[1 more]</label></div><br/><div class="children"><div class="content">&gt; if you want to use %CPU as &quot;how much of the total available processing power is this process using&quot;, it&#x27;s potentially valuable ... the available maximum clock speed depends on variables like the ambient temperature, how bust all the cores are, and how long the CPU has been boosting for<p>I don&#x27;t think the theoretical maximum clock speed is relevant to a %CPU measurement, for two reasons. First, as you note, it&#x27;s subject to a lot of things that the user generally has no control over. Second, I suppose %CPU is meant to be a measure of current&#x2F;real&#x2F;instantaneous load -- what is, rather than what could be.</div><br/></div></div></div></div><div id="42129077" class="c"><input type="checkbox" id="c-42129077" checked=""/><div class="controls bullet"><span class="by">MarkSweep</span><span>|</span><a href="#42097607">parent</a><span>|</span><a href="#42097695">prev</a><span>|</span><a href="#42128846">next</a><span>|</span><label class="collapse" for="c-42129077">[-]</label><label class="expand" for="c-42129077">[1 more]</label></div><br/><div class="children"><div class="content">Raymond Chen has an article discussing whether or not this should be taken into account:<p><a href="https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;oldnewthing&#x2F;20210629-00&#x2F;?p=105378" rel="nofollow">https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;oldnewthing&#x2F;20210629-00&#x2F;?p=10...</a></div><br/></div></div><div id="42128846" class="c"><input type="checkbox" id="c-42128846" checked=""/><div class="controls bullet"><span class="by">sophacles</span><span>|</span><a href="#42097607">parent</a><span>|</span><a href="#42129077">prev</a><span>|</span><a href="#42129467">next</a><span>|</span><label class="collapse" for="c-42128846">[-]</label><label class="expand" for="c-42128846">[1 more]</label></div><br/><div class="children"><div class="content">Yes. If my 10Ghz cpu core says it&#x27;s running 100%, but is scaled down to 1hz, i&#x27;ll be really confused about how much work it is doing, and look in all the wrong places to find out why my process is taking forever to run.<p>(extreme numbers to highlight the point)</div><br/></div></div><div id="42129467" class="c"><input type="checkbox" id="c-42129467" checked=""/><div class="controls bullet"><span class="by">smegsicle</span><span>|</span><a href="#42097607">parent</a><span>|</span><a href="#42128846">prev</a><span>|</span><a href="#42130093">next</a><span>|</span><label class="collapse" for="c-42129467">[-]</label><label class="expand" for="c-42129467">[1 more]</label></div><br/><div class="children"><div class="content">honestly if you want load avg why not just use load avg</div><br/></div></div></div></div><div id="42130093" class="c"><input type="checkbox" id="c-42130093" checked=""/><div class="controls bullet"><span class="by">krackers</span><span>|</span><a href="#42097607">prev</a><span>|</span><a href="#42133212">next</a><span>|</span><label class="collapse" for="c-42130093">[-]</label><label class="expand" for="c-42130093">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m confused, isn&#x27;t this exactly the same as for intel? Intel processors can turbo-boost, and you can manually cap the frequency by setting the package power-limit register (or well, you used to before some firmware update). That obviously doesn&#x27;t change the % CPU reported either.</div><br/><div id="42131466" class="c"><input type="checkbox" id="c-42131466" checked=""/><div class="controls bullet"><span class="by">BeeOnRope</span><span>|</span><a href="#42130093">parent</a><span>|</span><a href="#42133019">next</a><span>|</span><label class="collapse" for="c-42131466">[-]</label><label class="expand" for="c-42131466">[1 more]</label></div><br/><div class="children"><div class="content">Yes it the same for Intel.<p>One quantitative difference is that tasks assigned to the E cores may run at a sustained frequency much lower than the maximum (3.7x here) while on Intel any sustained load generally results in frequency scaling up over a few 100 ms to a maximum value which is much closer to the absolute max.</div><br/></div></div><div id="42133019" class="c"><input type="checkbox" id="c-42133019" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#42130093">parent</a><span>|</span><a href="#42131466">prev</a><span>|</span><a href="#42133212">next</a><span>|</span><label class="collapse" for="c-42133019">[-]</label><label class="expand" for="c-42133019">[1 more]</label></div><br/><div class="children"><div class="content">Yeah. When the article compares what Apple is doing to Intel, I think they mean “classic Intel processors of years ago” that didn’t frequency scale. Like the numbered Pentiums, IIRC. That did stand out to me a little bit.<p>You’re right that everyone has been doing this for quite a while, it’s certainly not an Apple invention.<p>The Electric Light Company often covers Mac stuff and Activity Monitor is the tool you use to view this stuff in OS X, so it’s just the domain this article is focusing on.</div><br/></div></div></div></div><div id="42133212" class="c"><input type="checkbox" id="c-42133212" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42130093">prev</a><span>|</span><a href="#42132974">next</a><span>|</span><label class="collapse" for="c-42133212">[-]</label><label class="expand" for="c-42133212">[1 more]</label></div><br/><div class="children"><div class="content">Is there an alternative app that shows the better numbers?</div><br/></div></div><div id="42132933" class="c"><input type="checkbox" id="c-42132933" checked=""/><div class="controls bullet"><span class="by">Eisenstein</span><span>|</span><a href="#42132974">prev</a><span>|</span><a href="#42128686">next</a><span>|</span><label class="collapse" for="c-42132933">[-]</label><label class="expand" for="c-42132933">[1 more]</label></div><br/><div class="children"><div class="content">I read the article and I still don&#x27;t know the answer.</div><br/></div></div><div id="42128686" class="c"><input type="checkbox" id="c-42128686" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#42132933">prev</a><span>|</span><label class="collapse" for="c-42128686">[-]</label><label class="expand" for="c-42128686">[9 more]</label></div><br/><div class="children"><div class="content">[stub for offtopicness]</div><br/><div id="42105973" class="c"><input type="checkbox" id="c-42105973" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#42128686">parent</a><span>|</span><a href="#42096091">next</a><span>|</span><label class="collapse" for="c-42105973">[-]</label><label class="expand" for="c-42105973">[2 more]</label></div><br/><div class="children"><div class="content"><i>What Activity Monitor actually shows as % CPU or “percentage of CPU capability that’s being used” is what’s better known as active residency of each core, that’s the percentage of processor cycles that aren’t idle, but actively processing threads owned by a given process.</i><p>That&#x27;s exactly what I thought it was. Where do I sign up for the refund?<p>I really hate this click-bait trend to assume what I do or do not know.</div><br/><div id="42128685" class="c"><input type="checkbox" id="c-42128685" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#42128686">root</a><span>|</span><a href="#42105973">parent</a><span>|</span><a href="#42096091">next</a><span>|</span><label class="collapse" for="c-42128685">[-]</label><label class="expand" for="c-42128685">[1 more]</label></div><br/><div class="children"><div class="content">Yes, we&#x27;ve taken the linkbait &#x27;you&#x27; out of the title now, and replaced it with a representative phrase from the article body.</div><br/></div></div></div></div><div id="42096091" class="c"><input type="checkbox" id="c-42096091" checked=""/><div class="controls bullet"><span class="by">simscitizen</span><span>|</span><a href="#42128686">parent</a><span>|</span><a href="#42105973">prev</a><span>|</span><label class="collapse" for="c-42096091">[-]</label><label class="expand" for="c-42096091">[6 more]</label></div><br/><div class="children"><div class="content">Pretty sure it’s just scheduled CPU time &#x2F; wall clock time. If you have multiple cores then scheduled CPU time can be greater than wall clock time.<p>Also scheduled CPU time doesn’t take in to account frequency scaling or core type as explained in the article. Just how much time the OS scheduler has allocated to the core to run tasks.</div><br/><div id="42096698" class="c"><input type="checkbox" id="c-42096698" checked=""/><div class="controls bullet"><span class="by">MisterKent</span><span>|</span><a href="#42128686">root</a><span>|</span><a href="#42096091">parent</a><span>|</span><a href="#42096811">next</a><span>|</span><label class="collapse" for="c-42096698">[-]</label><label class="expand" for="c-42096698">[4 more]</label></div><br/><div class="children"><div class="content">Why even comment if you&#x27;re not going to read TFA which actively disputes your &quot;isn&#x27;t it just&quot; assertion in its <i>title</i>?</div><br/><div id="42099357" class="c"><input type="checkbox" id="c-42099357" checked=""/><div class="controls bullet"><span class="by">ErikBjare</span><span>|</span><a href="#42128686">root</a><span>|</span><a href="#42096698">parent</a><span>|</span><a href="#42097387">next</a><span>|</span><label class="collapse" for="c-42099357">[-]</label><label class="expand" for="c-42099357">[2 more]</label></div><br/><div class="children"><div class="content">The author doesn&#x27;t know what I know, yet the title suggests they do. That&#x27;s the only assertion I see, and at least for me it isn&#x27;t even a valid one.</div><br/><div id="42128689" class="c"><input type="checkbox" id="c-42128689" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#42128686">root</a><span>|</span><a href="#42099357">parent</a><span>|</span><a href="#42097387">next</a><span>|</span><label class="collapse" for="c-42128689">[-]</label><label class="expand" for="c-42128689">[1 more]</label></div><br/><div class="children"><div class="content">Yes, we&#x27;ve taken the linkbait &#x27;you&#x27; out of the title now, and replaced it with a representative phrase from the article body.</div><br/></div></div></div></div><div id="42097387" class="c"><input type="checkbox" id="c-42097387" checked=""/><div class="controls bullet"><span class="by">zamadatix</span><span>|</span><a href="#42128686">root</a><span>|</span><a href="#42096698">parent</a><span>|</span><a href="#42099357">prev</a><span>|</span><a href="#42096811">next</a><span>|</span><label class="collapse" for="c-42097387">[-]</label><label class="expand" for="c-42097387">[1 more]</label></div><br/><div class="children"><div class="content">There are too many comments parading &quot;you haven&#x27;t read the article&quot;, even when replying to comments referencing parts of the article, lately. It&#x27;s already one thing to complain about someone&#x27;s level of takeaway but another to only discuss the assumption of how they came to a different conclusion rather than just discuss the topic instead. The article title is also nothing to be proud of, it&#x27;s 0% actionable information and 100% clickbait assumption - the person that wrote the Activity Monitor gets the same knowledge assignment as someone who&#x27;s never even thought about it before.<p>I&#x27;d be curious what GP means in the difference between allocated scheduled time vs the way the article describes it (non idle process assignment time) though. It feels like that&#x27;s 2 ways of saying the same thing? I agree with GP the frequency part seems off and can be surmised as a summary of the point later in the article anyways. Particularly, the opening of that section:<p>&gt; Unlike traditional Intel CPUs, CPU cores in Apple silicon chips can be run at a wide range of frequencies, as set by macOS.<p>Is already setting off alarms - in what way is that different from traditional Intel CPUs from the last 2 decades? A long enough time ago there weren&#x27;t enough (or any) cores to put in clustered groups but beyond that frequency scaling boosting by core&#x2F;core group is just as common.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>