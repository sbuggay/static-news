<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695805265369" as="style"/><link rel="stylesheet" href="styles.css?v=1695805265369"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://fabiensanglard.net/st/index.html">Exploring Linux command-line space time</a> <span class="domain">(<a href="https://fabiensanglard.net">fabiensanglard.net</a>)</span></div><div class="subtext"><span>bertman</span> | <span>29 comments</span></div><br/><div><div id="37670809" class="c"><input type="checkbox" id="c-37670809" checked=""/><div class="controls bullet"><span class="by">skywal_l</span><span>|</span><a href="#37668170">next</a><span>|</span><label class="collapse" for="c-37670809">[-]</label><label class="expand" for="c-37670809">[2 more]</label></div><br/><div class="children"><div class="content">Great write up from Fabien as usual.<p>FYI, you can also get a lot from the `time` command right now in your shell:<p><pre><code>   &#x2F;usr&#x2F;bin&#x2F;time -v ls
        Command being timed: &quot;ls&quot;
        User time (seconds): 0.00
        System time (seconds): 0.00
        Percent of CPU this job got: 100%
        Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.00
        Average shared text size (kbytes): 0
        Average unshared data size (kbytes): 0
        Average stack size (kbytes): 0
        Average total size (kbytes): 0
        Maximum resident set size (kbytes): 2304
        Average resident set size (kbytes): 0
        Major (requiring I&#x2F;O) page faults: 0
        Minor (reclaiming a frame) page faults: 117
        Voluntary context switches: 1
        Involuntary context switches: 0
        Swaps: 0
        File system inputs: 0
        File system outputs: 0
        Socket messages sent: 0
        Socket messages received: 0
        Signals delivered: 0
        Page size (bytes): 4096
        Exit status: 0</code></pre></div><br/><div id="37670978" class="c"><input type="checkbox" id="c-37670978" checked=""/><div class="controls bullet"><span class="by">andreyv</span><span>|</span><a href="#37670809">parent</a><span>|</span><a href="#37668170">next</a><span>|</span><label class="collapse" for="c-37670978">[-]</label><label class="expand" for="c-37670978">[1 more]</label></div><br/><div class="children"><div class="content">Instead of &quot;&#x2F;usr&#x2F;bin&#x2F;time&quot; you can also write &quot;command time&quot;.</div><br/></div></div></div></div><div id="37668170" class="c"><input type="checkbox" id="c-37668170" checked=""/><div class="controls bullet"><span class="by">skitter</span><span>|</span><a href="#37670809">prev</a><span>|</span><a href="#37666134">next</a><span>|</span><label class="collapse" for="c-37668170">[-]</label><label class="expand" for="c-37668170">[3 more]</label></div><br/><div class="children"><div class="content">Wow, Collect2 sounds kinda hacky based on the linked documentation¹:<p>- There is user code that needs to run before main. With C&#x2F;C++ allowing separate compilation, the compiler invocation that creates the entrypoint doesn&#x27;t know about all of these static constructors.<p>- Therefore Collect2 pretends to be ld; when invoked, it tries to call the real ld and examines its output<p>- It creates a c file with a table containing any constructor symbols it finds, then compiles that<p>- Finally it links the program again, together with the new object file<p>¹: <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;onlinedocs&#x2F;gccint&#x2F;Collect2.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;onlinedocs&#x2F;gccint&#x2F;Collect2.html</a></div><br/><div id="37668289" class="c"><input type="checkbox" id="c-37668289" checked=""/><div class="controls bullet"><span class="by">fabiensanglard</span><span>|</span><a href="#37668170">parent</a><span>|</span><a href="#37669506">next</a><span>|</span><label class="collapse" for="c-37668289">[-]</label><label class="expand" for="c-37668289">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for the explanation I did not have the courage to gather.</div><br/></div></div><div id="37669506" class="c"><input type="checkbox" id="c-37669506" checked=""/><div class="controls bullet"><span class="by">ryukoposting</span><span>|</span><a href="#37668170">parent</a><span>|</span><a href="#37668289">prev</a><span>|</span><a href="#37666134">next</a><span>|</span><label class="collapse" for="c-37669506">[-]</label><label class="expand" for="c-37669506">[1 more]</label></div><br/><div class="children"><div class="content">The words &quot;undefined reference to &#x27;__main&#x27;&quot; give me war flashbacks.</div><br/></div></div></div></div><div id="37666134" class="c"><input type="checkbox" id="c-37666134" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#37668170">prev</a><span>|</span><a href="#37666511">next</a><span>|</span><label class="collapse" for="c-37666134">[-]</label><label class="expand" for="c-37666134">[3 more]</label></div><br/><div class="children"><div class="content">This is excellent across a few key dimensions.<p>- Clear and concise code.<p>- Clear communication: writing, technical explanations, and conveyance of thought process.<p>- Thorough and systematic.<p>Major kudos to the author.  It was a fantastic refresher on the mechanics of fork() for me!<p>This kind of article is the reason I troll HN so much.  Occasionally gems pop up.</div><br/><div id="37666999" class="c"><input type="checkbox" id="c-37666999" checked=""/><div class="controls bullet"><span class="by">otachack</span><span>|</span><a href="#37666134">parent</a><span>|</span><a href="#37666511">next</a><span>|</span><label class="collapse" for="c-37666999">[-]</label><label class="expand" for="c-37666999">[2 more]</label></div><br/><div class="children"><div class="content">Fabian is a treasure. He also made the Game Engine Black  Books covering Wolfenstein 3D and Doom.<p><a href="https:&#x2F;&#x2F;fabiensanglard.net&#x2F;gebbdoom&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;fabiensanglard.net&#x2F;gebbdoom&#x2F;</a></div><br/><div id="37667134" class="c"><input type="checkbox" id="c-37667134" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#37666134">root</a><span>|</span><a href="#37666999">parent</a><span>|</span><a href="#37666511">next</a><span>|</span><label class="collapse" for="c-37667134">[-]</label><label class="expand" for="c-37667134">[1 more]</label></div><br/><div class="children"><div class="content">And his book on the Capcom system is interesting for me even though I’ve never played one.</div><br/></div></div></div></div></div></div><div id="37666511" class="c"><input type="checkbox" id="c-37666511" checked=""/><div class="controls bullet"><span class="by">fsckboy</span><span>|</span><a href="#37666134">prev</a><span>|</span><a href="#37666512">next</a><span>|</span><label class="collapse" for="c-37666511">[-]</label><label class="expand" for="c-37666511">[10 more]</label></div><br/><div class="children"><div class="content">this is a small personal nit complaint, but increasingly I see &quot;Linux command-line&quot; used to refer to things which have nothing to do with command-lines per se, which to me suggests some cli-fu with p|pes || other tricky \\&amp;\\&amp;&amp; if-fi $(things).<p>Perhaps we need some better vocabulary to separate these ideas, but the world of unix includes &quot;shell&quot; ideas, and their interplay with cli, there&#x27;s ascii text ttys, there&#x27;s ansi tty control and TUIs, and what this article  is about, traditional unix userspace process-space, system calls, C-libs, compilers vs interpreters got skipped, but C-vs-Rust, just all without the overhead of GUI frameworks which brings a bit more clarity to timings but they don&#x27;t absolutely, to do timings could be better to write a program to launch all these things and make sure that program is &quot;sticky&quot; in unix space-time.<p>This is a good article, but because I like to search for things again later, just as a headline I wouldn&#x27;t really call this exploring Linux command-line space or time</div><br/><div id="37667641" class="c"><input type="checkbox" id="c-37667641" checked=""/><div class="controls bullet"><span class="by">perrygeo</span><span>|</span><a href="#37666511">parent</a><span>|</span><a href="#37666512">next</a><span>|</span><label class="collapse" for="c-37667641">[-]</label><label class="expand" for="c-37667641">[9 more]</label></div><br/><div class="children"><div class="content">&quot;Exploring a C program&#x27;s memory use over time, on Linux&quot; would be more accurate. Nothing in this article deals with our three spatial dimensions, the typical use of the word &quot;space&quot;.</div><br/><div id="37669000" class="c"><input type="checkbox" id="c-37669000" checked=""/><div class="controls bullet"><span class="by">thewakalix</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37667641">parent</a><span>|</span><a href="#37668107">next</a><span>|</span><label class="collapse" for="c-37669000">[-]</label><label class="expand" for="c-37669000">[5 more]</label></div><br/><div class="children"><div class="content">TFA covered more than just C programs.</div><br/><div id="37669650" class="c"><input type="checkbox" id="c-37669650" checked=""/><div class="controls bullet"><span class="by">perrygeo</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37669000">parent</a><span>|</span><a href="#37668107">next</a><span>|</span><label class="collapse" for="c-37669650">[-]</label><label class="expand" for="c-37669650">[4 more]</label></div><br/><div class="children"><div class="content">And what exactly does TFA have to do with this conversation? It&#x27;s literally not mentioned in the link or these comments (currently).</div><br/><div id="37670407" class="c"><input type="checkbox" id="c-37670407" checked=""/><div class="controls bullet"><span class="by">l33t7332273</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37669650">parent</a><span>|</span><a href="#37668107">next</a><span>|</span><label class="collapse" for="c-37670407">[-]</label><label class="expand" for="c-37670407">[3 more]</label></div><br/><div class="children"><div class="content">TFA stands for “the fucking article”</div><br/><div id="37671038" class="c"><input type="checkbox" id="c-37671038" checked=""/><div class="controls bullet"><span class="by">yMEyUyNE1</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37670407">parent</a><span>|</span><a href="#37668107">next</a><span>|</span><label class="collapse" for="c-37671038">[-]</label><label class="expand" for="c-37671038">[2 more]</label></div><br/><div class="children"><div class="content">And I always read it as &quot;The Featured Article&quot;</div><br/><div id="37671541" class="c"><input type="checkbox" id="c-37671541" checked=""/><div class="controls bullet"><span class="by">KwanEsq</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37671038">parent</a><span>|</span><a href="#37668107">next</a><span>|</span><label class="collapse" for="c-37671541">[-]</label><label class="expand" for="c-37671541">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always preferred &quot;The Full Article&quot;, in contrast to reading _only_ the headline.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37668107" class="c"><input type="checkbox" id="c-37668107" checked=""/><div class="controls bullet"><span class="by">robbintt</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37667641">parent</a><span>|</span><a href="#37669000">prev</a><span>|</span><a href="#37666512">next</a><span>|</span><label class="collapse" for="c-37668107">[-]</label><label class="expand" for="c-37668107">[3 more]</label></div><br/><div class="children"><div class="content">For software contexts, we refer to space as memory or overall storage depending on the architecture.</div><br/><div id="37668960" class="c"><input type="checkbox" id="c-37668960" checked=""/><div class="controls bullet"><span class="by">perrygeo</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37668107">parent</a><span>|</span><a href="#37666512">next</a><span>|</span><label class="collapse" for="c-37668960">[-]</label><label class="expand" for="c-37668960">[2 more]</label></div><br/><div class="children"><div class="content">Yet when refering to both space and time, you should consider explicating that space = memory, time = time.</div><br/><div id="37670668" class="c"><input type="checkbox" id="c-37670668" checked=""/><div class="controls bullet"><span class="by">sweetgiorni</span><span>|</span><a href="#37666511">root</a><span>|</span><a href="#37668960">parent</a><span>|</span><a href="#37666512">next</a><span>|</span><label class="collapse" for="c-37670668">[-]</label><label class="expand" for="c-37670668">[1 more]</label></div><br/><div class="children"><div class="content">&gt; you should consider explicating that space = memory, time = time.<p>That seems unnecessary. Even a layman knows that in the context of a computer, space != physical space. Most people think of disk space, but it can also refer to memory usage [0].
The meaning of the name was obvious to me after reading the first half of the first sentence of the article. I thought it was clever :)<p>[0] <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Space_complexity" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Space_complexity</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="37666512" class="c"><input type="checkbox" id="c-37666512" checked=""/><div class="controls bullet"><span class="by">5-</span><span>|</span><a href="#37666511">prev</a><span>|</span><a href="#37669057">next</a><span>|</span><label class="collapse" for="c-37666512">[-]</label><label class="expand" for="c-37666512">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Following process&#x2F;thread creation is done via netlink(7).<p>shouldn&#x27;t ptrace with PTRACE_O_TRACEFORK (etc.) be enough (and much easier)?<p>the high overhead of strace the author notes is due to it doing PTRACE_SYSCALL, which is not needed here.</div><br/></div></div><div id="37669057" class="c"><input type="checkbox" id="c-37669057" checked=""/><div class="controls bullet"><span class="by">mighmi</span><span>|</span><a href="#37666512">prev</a><span>|</span><a href="#37668459">next</a><span>|</span><label class="collapse" for="c-37669057">[-]</label><label class="expand" for="c-37669057">[4 more]</label></div><br/><div class="children"><div class="content">I like the blog style.<p>Does anyone have a single CSS sheet with a similar style, instead of individual elements&#x2F;lines all being spans with inline css?</div><br/><div id="37671984" class="c"><input type="checkbox" id="c-37671984" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#37669057">parent</a><span>|</span><a href="#37669693">next</a><span>|</span><label class="collapse" for="c-37671984">[-]</label><label class="expand" for="c-37671984">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely beautiful, sharp, expressive and minimal. Can be viewed on an e-reader.</div><br/></div></div><div id="37669693" class="c"><input type="checkbox" id="c-37669693" checked=""/><div class="controls bullet"><span class="by">syndicatedjelly</span><span>|</span><a href="#37669057">parent</a><span>|</span><a href="#37671984">prev</a><span>|</span><a href="#37668459">next</a><span>|</span><label class="collapse" for="c-37669693">[-]</label><label class="expand" for="c-37669693">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Does anyone have a single CSS sheet with a similar style, instead of individual elements&#x2F;lines all being spans with inline css?<p>Sorry what are you asking?</div><br/><div id="37670739" class="c"><input type="checkbox" id="c-37670739" checked=""/><div class="controls bullet"><span class="by">mighmi</span><span>|</span><a href="#37669057">root</a><span>|</span><a href="#37669693">parent</a><span>|</span><a href="#37668459">next</a><span>|</span><label class="collapse" for="c-37670739">[-]</label><label class="expand" for="c-37670739">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen this design style before. I&#x27;m hoping there&#x27;s an existing model to work from, e.g. how Tufte css spawned many individual layouts but instead inspired by a terminal.</div><br/></div></div></div></div></div></div><div id="37668459" class="c"><input type="checkbox" id="c-37668459" checked=""/><div class="controls bullet"><span class="by">tripdout</span><span>|</span><a href="#37669057">prev</a><span>|</span><a href="#37663328">next</a><span>|</span><label class="collapse" for="c-37668459">[-]</label><label class="expand" for="c-37668459">[1 more]</label></div><br/><div class="children"><div class="content">Can you explain the AOSP compilation time? I don&#x27;t understand how it can be 8 minutes - was that a clean build?</div><br/></div></div><div id="37663328" class="c"><input type="checkbox" id="c-37663328" checked=""/><div class="controls bullet"><span class="by">bschup</span><span>|</span><a href="#37668459">prev</a><span>|</span><a href="#37662760">next</a><span>|</span><label class="collapse" for="c-37663328">[-]</label><label class="expand" for="c-37663328">[2 more]</label></div><br/><div class="children"><div class="content">Would be curious to see how a &quot;Hello World!&quot; in Zig compares.</div><br/><div id="37667442" class="c"><input type="checkbox" id="c-37667442" checked=""/><div class="controls bullet"><span class="by">fabiensanglard</span><span>|</span><a href="#37663328">parent</a><span>|</span><a href="#37662760">next</a><span>|</span><label class="collapse" for="c-37667442">[-]</label><label class="expand" for="c-37667442">[1 more]</label></div><br/><div class="children"><div class="content">Why not run `st` on it and post the result here?</div><br/></div></div></div></div><div id="37662760" class="c"><input type="checkbox" id="c-37662760" checked=""/><div class="controls bullet"><span class="by">chrsw</span><span>|</span><a href="#37663328">prev</a><span>|</span><label class="collapse" for="c-37662760">[-]</label><label class="expand" for="c-37662760">[2 more]</label></div><br/><div class="children"><div class="content">The GitHub repo link is broken</div><br/><div id="37664365" class="c"><input type="checkbox" id="c-37664365" checked=""/><div class="controls bullet"><span class="by">M95D</span><span>|</span><a href="#37662760">parent</a><span>|</span><label class="collapse" for="c-37664365">[-]</label><label class="expand" for="c-37664365">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;fabiensanglard&#x2F;st">https:&#x2F;&#x2F;github.com&#x2F;fabiensanglard&#x2F;st</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>