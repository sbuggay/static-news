<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695632463156" as="style"/><link rel="stylesheet" href="styles.css?v=1695632463156"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://erlang.org/pipermail/erlang-questions/2011-May/058768.html">Why do we need modules at all? (2011)</a> <span class="domain">(<a href="http://erlang.org">erlang.org</a>)</span></div><div class="subtext"><span>signa11</span> | <span>59 comments</span></div><br/><div><div id="37639229" class="c"><input type="checkbox" id="c-37639229" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#37639342">next</a><span>|</span><label class="collapse" for="c-37639229">[-]</label><label class="expand" for="c-37639229">[1 more]</label></div><br/><div class="children"><div class="content">Joe was such a creative thinker, and he was never (that I could tell) embarrassed by the prospect of an idea of his proving to be a poor one, so it was always interesting to hear him talk.<p>Genuinely curious, thinking outside the box (writing a new programming language on top of Prolog?), and he treated people with utmost respect. I was a nobody lucky enough to escort him around Chicago one day when he was attending a conference, and we spent a couple of hours talking about art, Erlang, Riak, and man I wish I could remember what else.</div><br/></div></div><div id="37639342" class="c"><input type="checkbox" id="c-37639342" checked=""/><div class="controls bullet"><span class="by">Jtsummers</span><span>|</span><a href="#37639229">prev</a><span>|</span><a href="#37639358">next</a><span>|</span><label class="collapse" for="c-37639342">[-]</label><label class="expand" for="c-37639342">[1 more]</label></div><br/><div class="children"><div class="content">Three past submissions with comments:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8572600">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8572600</a> - Nov 7, 2014 (76 comments)<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=10409507">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=10409507</a> - Oct 18, 2015 (46 comments)<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=20808000">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=20808000</a> - Aug 27, 2019 (103 comments)<p>EDIT: I also highly recommend reading the original mailing list thread. A lot of interesting discussion there that I don&#x27;t recall having read before.</div><br/></div></div><div id="37639358" class="c"><input type="checkbox" id="c-37639358" checked=""/><div class="controls bullet"><span class="by">calebh</span><span>|</span><a href="#37639342">prev</a><span>|</span><a href="#37639907">next</a><span>|</span><label class="collapse" for="c-37639358">[-]</label><label class="expand" for="c-37639358">[18 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve thought a lot about storing program structures in distributed hash tables and came to the conclusion that the only viable languages that can be safely stored are purely functional. If you consider OOP languages, there are many stateful dependencies, for example a method may rely on a constructor initializing a private variable in some specific way, so the smallest unit of modularity cannot be a method. Similarly an entire class could perhaps rely on methods being called in a certain order. Even though classes are designed to be self contained, stateful behavior really mucks up the ability to separate things into constituent parts.<p>Purely functional on the other hand has none of these problems. This is the approach taken by the Unison Language people, which I think makes the right design decisions.</div><br/><div id="37640749" class="c"><input type="checkbox" id="c-37640749" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#37639358">parent</a><span>|</span><a href="#37639631">next</a><span>|</span><label class="collapse" for="c-37640749">[-]</label><label class="expand" for="c-37640749">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s stateful without transactions in the simplest implementation,  but there&#x27;s no reason you couldn&#x27;t create a procedural language that maintains state and enforces transactional separation.<p>In either language class,  you need to manage transactions,  usually implicitly,  if you want to do any meaningful work.  This is a gap that either language class can easily solve and in many cases,  there are working implementations of these ideas that do just that.</div><br/></div></div><div id="37639631" class="c"><input type="checkbox" id="c-37639631" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#37639358">parent</a><span>|</span><a href="#37640749">prev</a><span>|</span><a href="#37639685">next</a><span>|</span><label class="collapse" for="c-37639631">[-]</label><label class="expand" for="c-37639631">[15 more]</label></div><br/><div class="children"><div class="content">Purely functional introduces lots of issues on it&#x27;s own. (Look at all the monad insanity Haskell has to do to get the equivalent of a print statement).</div><br/><div id="37641035" class="c"><input type="checkbox" id="c-37641035" checked=""/><div class="controls bullet"><span class="by">mrkeen</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37639631">parent</a><span>|</span><a href="#37639734">next</a><span>|</span><label class="collapse" for="c-37641035">[-]</label><label class="expand" for="c-37641035">[1 more]</label></div><br/><div class="children"><div class="content">I looked.<p><pre><code>    main = putStrLn &quot;Hello, world&quot;</code></pre></div><br/></div></div><div id="37639734" class="c"><input type="checkbox" id="c-37639734" checked=""/><div class="controls bullet"><span class="by">docandrew</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37639631">parent</a><span>|</span><a href="#37641035">prev</a><span>|</span><a href="#37640473">next</a><span>|</span><label class="collapse" for="c-37639734">[-]</label><label class="expand" for="c-37639734">[1 more]</label></div><br/><div class="children"><div class="content">I thought the D language had a really nice take on this with its notion of “weak” purity, allowing for straightforward allocations and I&#x2F;O: <a href="https:&#x2F;&#x2F;klickverbot.at&#x2F;blog&#x2F;2012&#x2F;05&#x2F;purity-in-d&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;klickverbot.at&#x2F;blog&#x2F;2012&#x2F;05&#x2F;purity-in-d&#x2F;</a><p>I think the idea is that if a function always gives the same result with the same inputs, it is considered “pure enough.”</div><br/></div></div><div id="37640473" class="c"><input type="checkbox" id="c-37640473" checked=""/><div class="controls bullet"><span class="by">tikhonj</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37639631">parent</a><span>|</span><a href="#37639734">prev</a><span>|</span><a href="#37640039">next</a><span>|</span><label class="collapse" for="c-37640473">[-]</label><label class="expand" for="c-37640473">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s no more insane than async programming. In fact, it&#x27;s less insane: it&#x27;s what you&#x27;d get if you let async and await be first-class citizens in your language instead of awkward special cases.</div><br/><div id="37640944" class="c"><input type="checkbox" id="c-37640944" checked=""/><div class="controls bullet"><span class="by">MrBuddyCasino</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640473">parent</a><span>|</span><a href="#37640039">next</a><span>|</span><label class="collapse" for="c-37640944">[-]</label><label class="expand" for="c-37640944">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>It&#x27;s no more insane than async programming.</i><p>That’s damning with faint praise.</div><br/></div></div></div></div><div id="37640039" class="c"><input type="checkbox" id="c-37640039" checked=""/><div class="controls bullet"><span class="by">the-smug-one</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37639631">parent</a><span>|</span><a href="#37640473">prev</a><span>|</span><a href="#37640084">next</a><span>|</span><label class="collapse" for="c-37640039">[-]</label><label class="expand" for="c-37640039">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s insane about monads :-)?</div><br/><div id="37640928" class="c"><input type="checkbox" id="c-37640928" checked=""/><div class="controls bullet"><span class="by">javcasas</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640039">parent</a><span>|</span><a href="#37640084">next</a><span>|</span><label class="collapse" for="c-37640928">[-]</label><label class="expand" for="c-37640928">[1 more]</label></div><br/><div class="children"><div class="content">He doesn&#x27;t understand them, therefore monads are insane.</div><br/></div></div></div></div><div id="37640084" class="c"><input type="checkbox" id="c-37640084" checked=""/><div class="controls bullet"><span class="by">aranchelk</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37639631">parent</a><span>|</span><a href="#37640039">prev</a><span>|</span><a href="#37639685">next</a><span>|</span><label class="collapse" for="c-37640084">[-]</label><label class="expand" for="c-37640084">[8 more]</label></div><br/><div class="children"><div class="content">main = putStrLn &quot;foo&quot;<p>Truly insane.</div><br/><div id="37640114" class="c"><input type="checkbox" id="c-37640114" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640084">parent</a><span>|</span><a href="#37640321">next</a><span>|</span><label class="collapse" for="c-37640114">[-]</label><label class="expand" for="c-37640114">[6 more]</label></div><br/><div class="children"><div class="content">Come on, that&#x27;s not in good faith and you know it. That&#x27;s a special case.<p>Now do it inside a vanilla function that isn&#x27;t implicitly run inside the IO monad.</div><br/><div id="37640189" class="c"><input type="checkbox" id="c-37640189" checked=""/><div class="controls bullet"><span class="by">aranchelk</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640114">parent</a><span>|</span><a href="#37640405">next</a><span>|</span><label class="collapse" for="c-37640189">[-]</label><label class="expand" for="c-37640189">[1 more]</label></div><br/><div class="children"><div class="content">What do you mean by vanilla? A function that doesn’t have a monadic return value?<p>What do you mean by run implicitly? I explicitly put IO expressions in the main function and they run. That’s the same as any imperative language.<p>I’m trying to figure out what you’re getting at. Are you saying it’s hard to do IO outside of the IO Monad?</div><br/></div></div><div id="37640405" class="c"><input type="checkbox" id="c-37640405" checked=""/><div class="controls bullet"><span class="by">tome</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640114">parent</a><span>|</span><a href="#37640189">prev</a><span>|</span><a href="#37640321">next</a><span>|</span><label class="collapse" for="c-37640405">[-]</label><label class="expand" for="c-37640405">[4 more]</label></div><br/><div class="children"><div class="content">One might say your original claim was not in good faith. You said<p>&gt;  Look at all the monad insanity Haskell has to do to get the equivalent of a print statement<p>but it&#x27;s easy to do that!  If you meant something more complex and subtle perhaps you should have made a more complex and subtle claim.</div><br/><div id="37640483" class="c"><input type="checkbox" id="c-37640483" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640405">parent</a><span>|</span><a href="#37640321">next</a><span>|</span><label class="collapse" for="c-37640483">[-]</label><label class="expand" for="c-37640483">[3 more]</label></div><br/><div class="children"><div class="content">yea, it&#x27;s so easy that&#x27;s why there&#x27;s dozens of many-page tutorials on the topic.</div><br/><div id="37640633" class="c"><input type="checkbox" id="c-37640633" checked=""/><div class="controls bullet"><span class="by">Twisol</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640483">parent</a><span>|</span><a href="#37640647">next</a><span>|</span><label class="collapse" for="c-37640633">[-]</label><label class="expand" for="c-37640633">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need to understand monads to do IO. From [0]:<p>&gt; There is nothing that has to do with monads at all in printing a string. The idea that `putStrLn &quot;hello world&quot;` is monadic is as absurd as saying that `[1,2,3]` is monadic.<p>You haven&#x27;t linked any exemplar tutorials, but I feel confident in saying the ones you&#x27;re referring to teach <i>the general concept of monads</i>, and not <i>how to do IO with monads</i>.<p>Quite a number of JavaScript developers learned how to use `andThen` with Promises&#x2F;A+ back in the day, and they didn&#x27;t need to learn about monads either. (In fact, when it was raised that promises are really monads, there was serious drama and outrage [1] -- an existence proof if there ever was one, that you can use something productively without understanding it as a monad.)<p>Likewise, nobody would claim that you need to understand monoids before you can concatenate lists. Concatenating lists is as native to lists as sequencing commands is to IO; it&#x27;s just part of how those types work. The monad interface <i>abstracts</i> over that idea, and learning that abstraction in its full generality is, typically, what people stumble on.<p>[0]: <a href="https:&#x2F;&#x2F;blog.jle.im&#x2F;entry&#x2F;io-monad-considered-harmful.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.jle.im&#x2F;entry&#x2F;io-monad-considered-harmful.html</a><p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;promises-aplus&#x2F;promises-spec&#x2F;issues&#x2F;94">https:&#x2F;&#x2F;github.com&#x2F;promises-aplus&#x2F;promises-spec&#x2F;issues&#x2F;94</a></div><br/></div></div><div id="37640647" class="c"><input type="checkbox" id="c-37640647" checked=""/><div class="controls bullet"><span class="by">aranchelk</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640483">parent</a><span>|</span><a href="#37640633">prev</a><span>|</span><a href="#37640321">next</a><span>|</span><label class="collapse" for="c-37640647">[-]</label><label class="expand" for="c-37640647">[1 more]</label></div><br/><div class="children"><div class="content">How many articles are there on writing your first program in Python? Is that a result if it being difficult? This is not a valid method of assessment.<p>Relative to programming in general, monads are easy to work with, easy enough to understand, but I’ll grant you often poorly explained.</div><br/></div></div></div></div></div></div></div></div><div id="37640321" class="c"><input type="checkbox" id="c-37640321" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#37639358">root</a><span>|</span><a href="#37640084">parent</a><span>|</span><a href="#37640114">prev</a><span>|</span><a href="#37639685">next</a><span>|</span><label class="collapse" for="c-37640321">[-]</label><label class="expand" for="c-37640321">[1 more]</label></div><br/><div class="children"><div class="content">Obviously extended to<p>main = putStrLn “foo” &gt;&gt; putStrLn “bar”</div><br/></div></div></div></div></div></div><div id="37639685" class="c"><input type="checkbox" id="c-37639685" checked=""/><div class="controls bullet"><span class="by">carapace</span><span>|</span><a href="#37639358">parent</a><span>|</span><a href="#37639631">prev</a><span>|</span><a href="#37639907">next</a><span>|</span><label class="collapse" for="c-37639685">[-]</label><label class="expand" for="c-37639685">[1 more]</label></div><br/><div class="children"><div class="content">Check out Unison lang: <a href="https:&#x2F;&#x2F;www.unison-lang.org&#x2F;learn&#x2F;the-big-idea&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.unison-lang.org&#x2F;learn&#x2F;the-big-idea&#x2F;</a><p>&gt; Each Unison definition is identified by a hash of its syntax tree.  Put another way, Unison code is content-addressed.</div><br/></div></div></div></div><div id="37639907" class="c"><input type="checkbox" id="c-37639907" checked=""/><div class="controls bullet"><span class="by">taberiand</span><span>|</span><a href="#37639358">prev</a><span>|</span><a href="#37639521">next</a><span>|</span><label class="collapse" for="c-37639907">[-]</label><label class="expand" for="c-37639907">[1 more]</label></div><br/><div class="children"><div class="content">I suppose it&#x27;s only natural, having solved distributed systems with Erlang, Joe would move on to tackling the hardest problem in computer science - Naming Things.</div><br/></div></div><div id="37639521" class="c"><input type="checkbox" id="c-37639521" checked=""/><div class="controls bullet"><span class="by">dgreensp</span><span>|</span><a href="#37639907">prev</a><span>|</span><a href="#37639465">next</a><span>|</span><label class="collapse" for="c-37639521">[-]</label><label class="expand" for="c-37639521">[1 more]</label></div><br/><div class="children"><div class="content">There’s a spectrum of what different programming languages call “modules” and what they use them for, with languages like ML having “true” modules in the conceptual sense, where a module is a unit of abstraction, the way that classes and interfaces in many languages are units of abstraction, though when you dig into it, I believe modules are more fundamental and more powerful… then on the other hand you have the situation of, “Programs are collections of text files, people don’t want to put all their code in one file, let’s call a file a module.”<p>Point being, some ways that programming languages use the concept of a module are deep and let you do things you couldn’t otherwise do, some are more dispensable.<p>Then there’s Smalltalk where I believe programs aren’t collections of text files, you actually browse your code in a sort of code browser and it’s stored as runtime objects in a virtual machine image, basically!<p>Then there’s the matter of how code is released and distributed… packaging and libraries.  (In practice, the words “module” and “package” are used in overlapping ways by different languages.)  Are the single-function modules&#x2F;packages of NPM a good thing?  In practice it doesn’t seem that way.<p>It’s sort of analogous to trying to “giggify” all the jobs.  Every individual function outsourced.</div><br/></div></div><div id="37639465" class="c"><input type="checkbox" id="c-37639465" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#37639521">prev</a><span>|</span><a href="#37639748">next</a><span>|</span><label class="collapse" for="c-37639465">[-]</label><label class="expand" for="c-37639465">[9 more]</label></div><br/><div class="children"><div class="content">Wikipedia is probably the most prominent example of a flat namespace that works at scale. But those names are pretty long, particularly when they need to disambiguate. Also, it&#x27;s an encyclopedia where article editors are forced to collaborate, and it&#x27;s leveraging large vocabularies that already exist. (One for each language.)<p>For programming languages, even with a flat module namespace, you get a land rush where good names get taken early by packages that might end up unpopular or abandoned.<p>Leveraging DNS seems like the answer. Java did it badly, but Go&#x27;s approach seems fine, perhaps because it leverages GitHub&#x27;s namespace too (for most modules).</div><br/><div id="37640347" class="c"><input type="checkbox" id="c-37640347" checked=""/><div class="controls bullet"><span class="by">tsimionescu</span><span>|</span><a href="#37639465">parent</a><span>|</span><a href="#37639894">next</a><span>|</span><label class="collapse" for="c-37640347">[-]</label><label class="expand" for="c-37640347">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Leveraging DNS seems like the answer. Java did it badly, but Go&#x27;s approach seems fine, perhaps because it leverages GitHub&#x27;s namespace too (for most modules).<p>O the contrary, Go&#x27;s approach will lead to lots of problems while Java&#x27;s is actually simpler and safer. The fact that you depend on the <i>current</i> status of DNS every time you build your code, for each and every one of your dependencies, including transitive ones, is completely nuts. Even Google realized this, and they solved it Google style: they added another automated system on top to try to add some stability (the Go proxy). And then they had to add holes to that system, because it turns out not all dependencies are public and so they can&#x27;t solve this from on high (GOPRIVATE).<p>And still, if one of your dependencies decides to switch hosting provider for their source code, or loses their domain name, you have to make (small) changes in every code file that referenced that dependency.<p>Maven&#x27;s solution is much simpler for everyone involved: DNS is only involved in registering a new module, it only serves as a form of authentication. After the initial registration, the module name is allocated to your Maven Central account, and it won&#x27;t be revoked if you later lose that domain. If someone gets access to your domain, they don&#x27;t also automatically become able to push malware to people who used your module for years, neither retroactively (which Go also handles) nor when they next upgrade (which Go will happily allow).</div><br/><div id="37640984" class="c"><input type="checkbox" id="c-37640984" checked=""/><div class="controls bullet"><span class="by">MrBuddyCasino</span><span>|</span><a href="#37639465">root</a><span>|</span><a href="#37640347">parent</a><span>|</span><a href="#37639894">next</a><span>|</span><label class="collapse" for="c-37640984">[-]</label><label class="expand" for="c-37640984">[1 more]</label></div><br/><div class="children"><div class="content">Been trying to make this point several times now, they always doubt that this problem has been solved, and by Maven of all places. The NIH syndrome is for some reason rampant among package managers&#x2F;registries.</div><br/></div></div></div></div><div id="37639894" class="c"><input type="checkbox" id="c-37639894" checked=""/><div class="controls bullet"><span class="by">PaulDavisThe1st</span><span>|</span><a href="#37639465">parent</a><span>|</span><a href="#37640347">prev</a><span>|</span><a href="#37639748">next</a><span>|</span><label class="collapse" for="c-37639894">[-]</label><label class="expand" for="c-37639894">[6 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the difference between<p><pre><code>   &#x2F;Wheel of Time
   &#x2F;TV Series&#x2F;Wheel of Time
   &#x2F;Video Game&#x2F;Wheel of Time
</code></pre>
and<p><pre><code>  &#x2F;Wheel of Time
  &#x2F;Wheel of Time (TV Series)
  &#x2F;Wheel of Time (Video Game)</code></pre></div><br/><div id="37640244" class="c"><input type="checkbox" id="c-37640244" checked=""/><div class="controls bullet"><span class="by">aragonite</span><span>|</span><a href="#37639465">root</a><span>|</span><a href="#37639894">parent</a><span>|</span><a href="#37640097">next</a><span>|</span><label class="collapse" for="c-37640244">[-]</label><label class="expand" for="c-37640244">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue that &quot;mental anguish&quot; is probably less of a problem on the latter design, since the additional parenthetical material is used pure for disambiguation (and so is optional), <i>not</i> for categorization. So, on the latter design we can have:<p>&#x2F;Francis Bacon<p>&#x2F;Francis Bacon (artist)<p>without having to answer anguish-inducing questions that would be raised by<p>&#x2F;Francis Bacon<p>&#x2F;artist&#x2F;Francis Bacon<p>e.g. questions such as:<p>1. &quot;Maybe we should put Lord Bacon under a category also, maybe `philosopher&#x2F;Francis Bacon`&quot;<p>2. &quot;But he&#x27;s also a statesman ... what about `statesman&#x2F;Francis Bacon`? Is he more of a philosopher or a statesman&quot;?<p>3. What about ordinary people (who happen to be involved in historical events) that have wikipedia entries, like George Floyd? Should he be assigned something like `person&#x2F;George Floyd`? If so, should the two Francis Bacons be assigned `person&#x2F;philosopher&#x2F;Francis Bacon` and `person&#x2F;artist&#x2F;Francis Bacon` instead?<p>And so on</div><br/><div id="37640435" class="c"><input type="checkbox" id="c-37640435" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#37639465">root</a><span>|</span><a href="#37640244">parent</a><span>|</span><a href="#37640097">next</a><span>|</span><label class="collapse" for="c-37640435">[-]</label><label class="expand" for="c-37640435">[1 more]</label></div><br/><div class="children"><div class="content">That’s exactly right. And this is not just a “mental anguish” or “skill issue”.<p>It’s a fundamental issue:<p>Hierarchical naming and categorization sucks.<p>In 95% of the cases, you want sets or even graphs rather than trees.<p>You _might_ be getting away with trees, because you didn’t encounter a case where the hierarchy breaks. But you’re being fooled by happenstance.<p>In the 5% of cases where trees are fine, you could also use sets or graphs.<p>This issue comes up all the time with all sorts of things, including urls and file structure.<p>The trick is to have a general “&#x2F;type&#x2F;name” format and to be as liberal and general as possible with what “type” means.</div><br/></div></div></div></div><div id="37640097" class="c"><input type="checkbox" id="c-37640097" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#37639465">root</a><span>|</span><a href="#37639894">parent</a><span>|</span><a href="#37640244">prev</a><span>|</span><a href="#37640325">next</a><span>|</span><label class="collapse" for="c-37640097">[-]</label><label class="expand" for="c-37640097">[1 more]</label></div><br/><div class="children"><div class="content">I like the second one better.<p>In programming, it’s useful to have namespaces for overall organization and conflict resolution. But it’s a trade off: you are nudged into a hierarchical ontology, with all the implied issues.<p>Wikipedia titles are free text (more or less). So they can afford not to introduce hierarchical naming and still have nice, easily addressable names without conflicts.<p>This avoids all sorts of problems. Most things simply can’t be categorized in a strict, hierarchical manner.</div><br/></div></div><div id="37640325" class="c"><input type="checkbox" id="c-37640325" checked=""/><div class="controls bullet"><span class="by">ttctciyf</span><span>|</span><a href="#37639465">root</a><span>|</span><a href="#37639894">parent</a><span>|</span><a href="#37640097">prev</a><span>|</span><a href="#37639933">next</a><span>|</span><label class="collapse" for="c-37640325">[-]</label><label class="expand" for="c-37640325">[1 more]</label></div><br/><div class="children"><div class="content">Practically speaking, when you want to link to the latter in a markdown that already utilises parens, you encounter more friction - cutting and pasting a url with parens from the address bar needs manual correction if used to create a link in (say) reddit&#x27;s markdown syntax.<p>I realise this is somewhat tangential to your point, but shows how easy it is for innocent looking choices to end up creating annoyances.</div><br/></div></div><div id="37639933" class="c"><input type="checkbox" id="c-37639933" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#37639465">root</a><span>|</span><a href="#37639894">parent</a><span>|</span><a href="#37640325">prev</a><span>|</span><a href="#37639748">next</a><span>|</span><label class="collapse" for="c-37639933">[-]</label><label class="expand" for="c-37639933">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, the non-flat hierarchy&#x2F;tagging may be <i>informal</i>, but it still exists. (And for good reason.)</div><br/></div></div></div></div></div></div><div id="37639748" class="c"><input type="checkbox" id="c-37639748" checked=""/><div class="controls bullet"><span class="by">TheAceOfHearts</span><span>|</span><a href="#37639465">prev</a><span>|</span><a href="#37639332">next</a><span>|</span><label class="collapse" for="c-37639748">[-]</label><label class="expand" for="c-37639748">[2 more]</label></div><br/><div class="children"><div class="content">Has NPM been the closest attempt at something similar to what&#x27;s described here? Lots of single-function modules like is-even, is-odd, and left-pad.<p>Although given potential problems with function deletion, maybe there&#x27;s a case to be made for careful curation of these functions in a single place, we could call it the standard library.</div><br/><div id="37640333" class="c"><input type="checkbox" id="c-37640333" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#37639748">parent</a><span>|</span><a href="#37639332">next</a><span>|</span><label class="collapse" for="c-37640333">[-]</label><label class="expand" for="c-37640333">[1 more]</label></div><br/><div class="children"><div class="content">They have a single function but don’t have to be, so package managers can’t assume they are single function. It they could tree shaking might not be needed?</div><br/></div></div></div></div><div id="37639332" class="c"><input type="checkbox" id="c-37639332" checked=""/><div class="controls bullet"><span class="by">chriseidhof</span><span>|</span><a href="#37639748">prev</a><span>|</span><a href="#37640475">next</a><span>|</span><label class="collapse" for="c-37639332">[-]</label><label class="expand" for="c-37639332">[1 more]</label></div><br/><div class="children"><div class="content">Other people know a lot more about this, but IIRC Unison has some ideas that go in this direction: <a href="https:&#x2F;&#x2F;www.unison-lang.org" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.unison-lang.org</a></div><br/></div></div><div id="37640475" class="c"><input type="checkbox" id="c-37640475" checked=""/><div class="controls bullet"><span class="by">sriku</span><span>|</span><a href="#37639332">prev</a><span>|</span><a href="#37639940">next</a><span>|</span><label class="collapse" for="c-37640475">[-]</label><label class="expand" for="c-37640475">[1 more]</label></div><br/><div class="children"><div class="content">This was also part of the motivation behind (plug) <a href="https:&#x2F;&#x2F;GitHub.com&#x2F;srikumarks&#x2F;inai">https:&#x2F;&#x2F;GitHub.com&#x2F;srikumarks&#x2F;inai</a>. While the current incarnation focuses on REST packaged services as a unit, earlier versions did it at function level. Inai&#x27;s service code is stored and updated through Redis but equivalent KV stores will do as well.</div><br/></div></div><div id="37639940" class="c"><input type="checkbox" id="c-37639940" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#37640475">prev</a><span>|</span><a href="#37639314">next</a><span>|</span><label class="collapse" for="c-37639940">[-]</label><label class="expand" for="c-37639940">[7 more]</label></div><br/><div class="children"><div class="content">&gt; contribution to open source can be as simple as contributing a single function<p>Are there meaningful contributions to open source that are the size of a single function? Isn&#x27;t this what leads to the terrible failure modes of NPM (hello left-pad)? If you want to contribute a single function, what&#x27;s wrong with a blog post?<p>Also, has the browser not solved this with ESM imports from URLs? I can write a web page containing<p><pre><code>    import {someFunction} from &quot;https:&#x2F;&#x2F;your-website.com&#x2F;your-script.js&quot;;
</code></pre>
This also solves the namespacing issues - at least to the extent that the domain name system solves namespacing issues.<p>(Deno, of course, inherits this ability to import code from any URL.)<p>I&#x27;m being provocative. I&#x27;ve heard people make similar arguments over time, but never understood why anyone would <i>want</i> open source contributions to be a single function.</div><br/><div id="37640031" class="c"><input type="checkbox" id="c-37640031" checked=""/><div class="controls bullet"><span class="by">dfee</span><span>|</span><a href="#37639940">parent</a><span>|</span><a href="#37640278">next</a><span>|</span><label class="collapse" for="c-37640031">[-]</label><label class="expand" for="c-37640031">[4 more]</label></div><br/><div class="children"><div class="content">What’s wrong with a function?<p>Here’s an interesting discussion on the topic, btw: <a href="https:&#x2F;&#x2F;github.com&#x2F;sindresorhus&#x2F;ama&#x2F;issues&#x2F;10">https:&#x2F;&#x2F;github.com&#x2F;sindresorhus&#x2F;ama&#x2F;issues&#x2F;10</a></div><br/><div id="37640272" class="c"><input type="checkbox" id="c-37640272" checked=""/><div class="controls bullet"><span class="by">tsimionescu</span><span>|</span><a href="#37639940">root</a><span>|</span><a href="#37640031">parent</a><span>|</span><a href="#37640617">next</a><span>|</span><label class="collapse" for="c-37640272">[-]</label><label class="expand" for="c-37640272">[2 more]</label></div><br/><div class="children"><div class="content">Code is much harder to maintain than it is to create, overall. Adding lines of code to a project is a net negative in the long run if they are not actively maintained by the original author. So as a project maintainer, you don&#x27;t really want lots of small contributions from random people who don&#x27;t stick around, at least not when they are adding new behavior to your project.<p>And having thousands of one-line dependencies is actually much worse than having one thousand-lines dependency, since you now depend on the whims of each of those creators not to stop distributing their work, not to change their license, not to inject malicious code, to address zero-days etc.. Ultimately external dependencies are a form of collaboration, and it&#x27;s very hard work to efficiently collaborate with thousands of people.</div><br/><div id="37640390" class="c"><input type="checkbox" id="c-37640390" checked=""/><div class="controls bullet"><span class="by">dfee</span><span>|</span><a href="#37639940">root</a><span>|</span><a href="#37640272">parent</a><span>|</span><a href="#37640617">next</a><span>|</span><label class="collapse" for="c-37640390">[-]</label><label class="expand" for="c-37640390">[1 more]</label></div><br/><div class="children"><div class="content">Ok.<p>So you don’t like single line node modules. I don’t think I’ve ever used one. Maybe as a transient dependency, though.<p>But a function could be written in multiple ways, and I’m not sure we actually mean “single line” here. You’re referring to something of arbitrarily small complexity.<p>But, getting back to the original comment, what’s to say that one exported function isn’t supported by 100 more non-exported functions? Or, worse case, a 1000 line function that could be decomposed into smaller blocks.<p>Now, I’m sure I’ve leaned on these sorts of dependencies. Especially ones that have a peer dependency on a broken release, where they monkey-patch the problem. Why would I invest in maintaining short lived code like that myself? My version manager would certainly tell me when things break.</div><br/></div></div></div></div></div></div><div id="37640278" class="c"><input type="checkbox" id="c-37640278" checked=""/><div class="controls bullet"><span class="by">iainmerrick</span><span>|</span><a href="#37639940">parent</a><span>|</span><a href="#37640031">prev</a><span>|</span><a href="#37639314">next</a><span>|</span><label class="collapse" for="c-37640278">[-]</label><label class="expand" for="c-37640278">[2 more]</label></div><br/><div class="children"><div class="content">Absolutely! Here’s one I found very useful just the other day, client-zip: <a href="https:&#x2F;&#x2F;github.com&#x2F;Touffy&#x2F;client-zip#usage">https:&#x2F;&#x2F;github.com&#x2F;Touffy&#x2F;client-zip#usage</a><p>(Three functions rather than one, but it’s one main entrypoint and a couple of minor variants.)<p>I think this is a really well-designed API, and greatly preferable to a more fine-grained OO approach. It does a lot of work under the hood but keeps it carefully contained so you don’t get a bunch of dependency sprawl.</div><br/><div id="37640870" class="c"><input type="checkbox" id="c-37640870" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#37639940">root</a><span>|</span><a href="#37640278">parent</a><span>|</span><a href="#37639314">next</a><span>|</span><label class="collapse" for="c-37640870">[-]</label><label class="expand" for="c-37640870">[1 more]</label></div><br/><div class="children"><div class="content">The API may be a single function, but that package contains a non-trivial amount of code. The contribution this package makes to your codebase is not &quot;a single function&quot;. However, at a glance, I agree with your reasons for liking it! And I&#x27;d be unlikely to vendor it directly into an app or dependent library for example.</div><br/></div></div></div></div></div></div><div id="37639314" class="c"><input type="checkbox" id="c-37639314" checked=""/><div class="controls bullet"><span class="by">pyrolistical</span><span>|</span><a href="#37639940">prev</a><span>|</span><a href="#37639481">next</a><span>|</span><label class="collapse" for="c-37639314">[-]</label><label class="expand" for="c-37639314">[4 more]</label></div><br/><div class="children"><div class="content">Only for us needy humans to be able to use short names. Modules can be thought of as prefixes to function names.<p>You already have this global key value of names to functions. The name just happens to be module+function name</div><br/><div id="37639838" class="c"><input type="checkbox" id="c-37639838" checked=""/><div class="controls bullet"><span class="by">yakubin</span><span>|</span><a href="#37639314">parent</a><span>|</span><a href="#37639386">next</a><span>|</span><label class="collapse" for="c-37639838">[-]</label><label class="expand" for="c-37639838">[1 more]</label></div><br/><div class="children"><div class="content">Except now you can handle name collisions by renaming imports. If you have two modules that share a name, you can rename them in the import line (e.g. in Haskell or Go). Without modules though if you have two libraries which used the same prefix for their functions, now the compiler will complain about redefinitions and the linker will complain about symbol collisions.</div><br/></div></div><div id="37639386" class="c"><input type="checkbox" id="c-37639386" checked=""/><div class="controls bullet"><span class="by">Kinrany</span><span>|</span><a href="#37639314">parent</a><span>|</span><a href="#37639838">prev</a><span>|</span><a href="#37639481">next</a><span>|</span><label class="collapse" for="c-37639386">[-]</label><label class="expand" for="c-37639386">[2 more]</label></div><br/><div class="children"><div class="content">Everything on top of machine code exists solely for the benefit of human understanding.</div><br/><div id="37640058" class="c"><input type="checkbox" id="c-37640058" checked=""/><div class="controls bullet"><span class="by">tripleo1</span><span>|</span><a href="#37639314">root</a><span>|</span><a href="#37639386">parent</a><span>|</span><a href="#37639481">next</a><span>|</span><label class="collapse" for="c-37640058">[-]</label><label class="expand" for="c-37640058">[1 more]</label></div><br/><div class="children"><div class="content">And program optimization, no?<p>Am interesting theory.</div><br/></div></div></div></div></div></div><div id="37639481" class="c"><input type="checkbox" id="c-37639481" checked=""/><div class="controls bullet"><span class="by">osdever</span><span>|</span><a href="#37639314">prev</a><span>|</span><a href="#37639956">next</a><span>|</span><label class="collapse" for="c-37639481">[-]</label><label class="expand" for="c-37639481">[1 more]</label></div><br/><div class="children"><div class="content">Very well put post, thank you @signa11!</div><br/></div></div><div id="37639956" class="c"><input type="checkbox" id="c-37639956" checked=""/><div class="controls bullet"><span class="by">waynesonfire</span><span>|</span><a href="#37639481">prev</a><span>|</span><a href="#37639228">next</a><span>|</span><label class="collapse" for="c-37639956">[-]</label><label class="expand" for="c-37639956">[1 more]</label></div><br/><div class="children"><div class="content">here is elib1_misc.erl,<p><a href="https:&#x2F;&#x2F;github.com&#x2F;joearms&#x2F;elib1&#x2F;blob&#x2F;master&#x2F;lib&#x2F;src&#x2F;elib1_misc.erl">https:&#x2F;&#x2F;github.com&#x2F;joearms&#x2F;elib1&#x2F;blob&#x2F;master&#x2F;lib&#x2F;src&#x2F;elib1_m...</a></div><br/></div></div><div id="37639228" class="c"><input type="checkbox" id="c-37639228" checked=""/><div class="controls bullet"><span class="by">dools</span><span>|</span><a href="#37639956">prev</a><span>|</span><label class="collapse" for="c-37639228">[-]</label><label class="expand" for="c-37639228">[10 more]</label></div><br/><div class="children"><div class="content">I think this is the only time I&#x27;ve read the word &quot;database&quot; and thought &quot;blockchain might be a superior solution&quot;.<p>One could imagine replacing proof of work or whatever the &quot;confirmation&quot; process is with some sort of testing or peer review consensus protocol that would append reviewed code to the chain.<p>A blockchain contains a full history of all modificiations, which sounds a bit like version control if you look at it funny.</div><br/><div id="37639246" class="c"><input type="checkbox" id="c-37639246" checked=""/><div class="controls bullet"><span class="by">alex_young</span><span>|</span><a href="#37639228">parent</a><span>|</span><a href="#37639292">next</a><span>|</span><label class="collapse" for="c-37639246">[-]</label><label class="expand" for="c-37639246">[5 more]</label></div><br/><div class="children"><div class="content">Or, you know, git.  It’s version control, distributed, and doesn’t need multiple power plants dedicated to its existence.</div><br/><div id="37639275" class="c"><input type="checkbox" id="c-37639275" checked=""/><div class="controls bullet"><span class="by">tetsuhamu</span><span>|</span><a href="#37639228">root</a><span>|</span><a href="#37639246">parent</a><span>|</span><a href="#37639292">next</a><span>|</span><label class="collapse" for="c-37639275">[-]</label><label class="expand" for="c-37639275">[4 more]</label></div><br/><div class="children"><div class="content">I get your point, and I agree with it for most cryptocurrencies.<p>In this case, the proof-of-work would be peer-review instead of computation, and the &quot;blocks&quot; would be as frequent as &quot;minor releases&quot;. The need for computation would be pretty light.<p>Not that I&#x27;d actually support it in practice lol</div><br/><div id="37639486" class="c"><input type="checkbox" id="c-37639486" checked=""/><div class="controls bullet"><span class="by">peyton</span><span>|</span><a href="#37639228">root</a><span>|</span><a href="#37639275">parent</a><span>|</span><a href="#37640348">next</a><span>|</span><label class="collapse" for="c-37639486">[-]</label><label class="expand" for="c-37639486">[2 more]</label></div><br/><div class="children"><div class="content">As it is, I go on npmjs.com, look at the number of downloads, and hope for the best. Then ‘npm audit’ runs automatically, spitting out anywhere from a few dozen to several hundred warnings which I then ignore, still hoping for the best.</div><br/><div id="37639684" class="c"><input type="checkbox" id="c-37639684" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37639228">root</a><span>|</span><a href="#37639486">parent</a><span>|</span><a href="#37640348">next</a><span>|</span><label class="collapse" for="c-37639684">[-]</label><label class="expand" for="c-37639684">[1 more]</label></div><br/><div class="children"><div class="content">Nothing better than starting a brand new project from template and that&#x27;s the first thing you see. Looking at you CRA.</div><br/></div></div></div></div><div id="37640348" class="c"><input type="checkbox" id="c-37640348" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#37639228">root</a><span>|</span><a href="#37639275">parent</a><span>|</span><a href="#37639486">prev</a><span>|</span><a href="#37639292">next</a><span>|</span><label class="collapse" for="c-37640348">[-]</label><label class="expand" for="c-37640348">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like GitFlow</div><br/></div></div></div></div></div></div><div id="37639292" class="c"><input type="checkbox" id="c-37639292" checked=""/><div class="controls bullet"><span class="by">ben-schaaf</span><span>|</span><a href="#37639228">parent</a><span>|</span><a href="#37639246">prev</a><span>|</span><a href="#37639271">next</a><span>|</span><label class="collapse" for="c-37639292">[-]</label><label class="expand" for="c-37639292">[2 more]</label></div><br/><div class="children"><div class="content">This is what&#x27;s known as a Merkle tree. It&#x27;s how git works and was invented in 1979.</div><br/><div id="37639302" class="c"><input type="checkbox" id="c-37639302" checked=""/><div class="controls bullet"><span class="by">dools</span><span>|</span><a href="#37639228">root</a><span>|</span><a href="#37639292">parent</a><span>|</span><a href="#37639271">next</a><span>|</span><label class="collapse" for="c-37639302">[-]</label><label class="expand" for="c-37639302">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also how blockchains work:<p>&quot;A blockchain is a distributed ledger with growing lists of records (blocks) that are securely linked together via cryptographic hashes.[1][2][3][4] Each block contains a cryptographic hash of the previous block, a timestamp, and transaction data (generally represented as a Merkle tree, where data nodes are represented by leaves)&quot;<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Blockchain" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Blockchain</a></div><br/></div></div></div></div><div id="37639271" class="c"><input type="checkbox" id="c-37639271" checked=""/><div class="controls bullet"><span class="by">DaiPlusPlus</span><span>|</span><a href="#37639228">parent</a><span>|</span><a href="#37639292">prev</a><span>|</span><label class="collapse" for="c-37639271">[-]</label><label class="expand" for="c-37639271">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I think this is the only time I&#x27;ve read the word &quot;database&quot; and thought &quot;blockchain might be a superior solution&quot;.<p>...how is this relevant to the linked mailing-list thread? They&#x27;re talking about compilation units.</div><br/><div id="37639293" class="c"><input type="checkbox" id="c-37639293" checked=""/><div class="controls bullet"><span class="by">dools</span><span>|</span><a href="#37639228">root</a><span>|</span><a href="#37639271">parent</a><span>|</span><label class="collapse" for="c-37639293">[-]</label><label class="expand" for="c-37639293">[1 more]</label></div><br/><div class="children"><div class="content">At the start of the article:<p><pre><code>    - all functions go into a global (searchable) Key-value database</code></pre>
...
    - there are no &quot;open source projects&quot; - only &quot;the open source
      Key-Value database of all functions&quot;</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>