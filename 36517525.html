<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1688029269275" as="style"/><link rel="stylesheet" href="styles.css?v=1688029269275"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://awk.dev/">The Awk Programming Language, Second Edition</a> <span class="domain">(<a href="https://awk.dev">awk.dev</a>)</span></div><div class="subtext"><span>0x54MUR41</span> | <span>23 comments</span></div><br/><div><div id="36517903" class="c"><input type="checkbox" id="c-36517903" checked=""/><div class="controls bullet"><span class="by">donatj</span><span>|</span><a href="#36517844">next</a><span>|</span><label class="collapse" for="c-36517903">[-]</label><label class="expand" for="c-36517903">[1 more]</label></div><br/><div class="children"><div class="content">I love awk. It’s everywhere and every time I am writing a shell script and work myself into a corner, awk has been the way out.<p>I know exactly enough to be dangerous and have meant to deep dive for almost a decade.</div><br/></div></div><div id="36517844" class="c"><input type="checkbox" id="c-36517844" checked=""/><div class="controls bullet"><span class="by">siraben</span><span>|</span><a href="#36517903">prev</a><span>|</span><a href="#36517707">next</a><span>|</span><label class="collapse" for="c-36517844">[-]</label><label class="expand" for="c-36517844">[5 more]</label></div><br/><div class="children"><div class="content">Awk is awesome! Glad that they are looking to modernize the book. It wasn&#x27;t really necessary, all the code examples in the original edition of the book still run just fine, although some are somewhat dated, like printing ASCII bar graphs. They also had examples of writing VMs, parsers and interpreters in the book, which run on modern implementations.[0]<p>The language has some quirks. To declare temporary variables, it&#x27;s common practice to add extra arguments to functions that won&#x27;t be used. And traversal of associative arrays is implementation-dependent. I&#x27;m not sure what the situation is regarding locale and UTF-8 support.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;siraben&#x2F;awk-vm&#x2F;blob&#x2F;master&#x2F;vm.awk">https:&#x2F;&#x2F;github.com&#x2F;siraben&#x2F;awk-vm&#x2F;blob&#x2F;master&#x2F;vm.awk</a></div><br/><div id="36518047" class="c"><input type="checkbox" id="c-36518047" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#36517844">parent</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36518047">[-]</label><label class="expand" for="c-36518047">[1 more]</label></div><br/><div class="children"><div class="content">What would you suggest as an alternative to printing ASCII bar graphs? I do that all the time. Takes 20 seconds and often makes distributions, modalities, and patterns over time obvious right away.</div><br/></div></div><div id="36517905" class="c"><input type="checkbox" id="c-36517905" checked=""/><div class="controls bullet"><span class="by">bluetomcat</span><span>|</span><a href="#36517844">parent</a><span>|</span><a href="#36518047">prev</a><span>|</span><a href="#36518016">next</a><span>|</span><label class="collapse" for="c-36517905">[-]</label><label class="expand" for="c-36517905">[2 more]</label></div><br/><div class="children"><div class="content">Is there a particular benefit in writing a VM in AWK, placed in a big BEGIN block? Very similar code can be written in Perl or Python. Isn&#x27;t the strength of AWK in its line-matching capability, being able to pattern-match a line against a block of code?</div><br/><div id="36517947" class="c"><input type="checkbox" id="c-36517947" checked=""/><div class="controls bullet"><span class="by">siraben</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36517905">parent</a><span>|</span><a href="#36518016">next</a><span>|</span><label class="collapse" for="c-36517947">[-]</label><label class="expand" for="c-36517947">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Is there a particular benefit in writing a VM in AWK<p>Not really. Later on the book just ran out of line-matching examples to go through and started doing regular programming instead :P. When I actually write AWK code I rely on line-matching and using a variable to handle state.</div><br/></div></div></div></div><div id="36518016" class="c"><input type="checkbox" id="c-36518016" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#36517844">parent</a><span>|</span><a href="#36517905">prev</a><span>|</span><a href="#36517707">next</a><span>|</span><label class="collapse" for="c-36518016">[-]</label><label class="expand" for="c-36518016">[1 more]</label></div><br/><div class="children"><div class="content">On wm&#x27;s, why not a Z-machine? It&#x27;s ideal for this.</div><br/></div></div></div></div><div id="36517707" class="c"><input type="checkbox" id="c-36517707" checked=""/><div class="controls bullet"><span class="by">binary_ninja</span><span>|</span><a href="#36517844">prev</a><span>|</span><a href="#36518040">next</a><span>|</span><label class="collapse" for="c-36517707">[-]</label><label class="expand" for="c-36517707">[6 more]</label></div><br/><div class="children"><div class="content">Awk has always been a language that I loved but I have struggled to use besides quick jobs for parsing text files. I understand it is meant to be use for exactly that, but the fact that is simple, fast and lightweight sometimes makes me want to do something more with it, but when I start trying to do something besides parsing text I find that it starts becoming awkward (pun intented?).</div><br/><div id="36517742" class="c"><input type="checkbox" id="c-36517742" checked=""/><div class="controls bullet"><span class="by">usrbinbash</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36518031">next</a><span>|</span><label class="collapse" for="c-36517742">[-]</label><label class="expand" for="c-36517742">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but the fact that is simple, fast and lightweight<p>I see awk as a DSL to be honest. Yes, it <i>can</i> be used as a general purpose language, but that quickly becomes, as you say, awkward :D<p>Like many DSLs, it is simple, fast and lightweight <i>as long as it is used for it&#x27;s intended purpose</i>. Once you start using it for something else, these advantages evaporate pretty quickly, because then you have to essentially work around the DSL design to get it to do what you want.</div><br/></div></div><div id="36518031" class="c"><input type="checkbox" id="c-36518031" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36517742">prev</a><span>|</span><a href="#36517909">next</a><span>|</span><label class="collapse" for="c-36518031">[-]</label><label class="expand" for="c-36518031">[1 more]</label></div><br/><div class="children"><div class="content">This is exactly why I moved from AWK to Perl for these quick jobs a couple of years ago. If you stick to an AWK-like subset, Perl is also simple, fast and lightweight. If you want to grow your scripts (and you have a lot of discipline) Perl – in contrast to AWK – gives you enough noose to hang^W^W^W^Wthe tools you need.</div><br/></div></div><div id="36517909" class="c"><input type="checkbox" id="c-36517909" checked=""/><div class="controls bullet"><span class="by">tripflag</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36518031">prev</a><span>|</span><a href="#36517782">next</a><span>|</span><label class="collapse" for="c-36517909">[-]</label><label class="expand" for="c-36517909">[1 more]</label></div><br/><div class="children"><div class="content">I have found a handful of unconventional applications for awk -- I once needed a tiny pcm pulsewave generator, and awk was surprisingly decent for the job [1].<p>Aside from that I&#x27;ve mostly been using it for quick statistics [2], but it quickly moves into perl territory...<p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;9001&#x2F;asm&#x2F;blob&#x2F;hovudstraum&#x2F;etc&#x2F;bin&#x2F;beeps#L69-L88">https:&#x2F;&#x2F;github.com&#x2F;9001&#x2F;asm&#x2F;blob&#x2F;hovudstraum&#x2F;etc&#x2F;bin&#x2F;beeps#L...</a><p>2: <a href="https:&#x2F;&#x2F;ocv.me&#x2F;doc&#x2F;unix&#x2F;oneliners&#x2F;#965bfcb8" rel="nofollow noreferrer">https:&#x2F;&#x2F;ocv.me&#x2F;doc&#x2F;unix&#x2F;oneliners&#x2F;#965bfcb8</a></div><br/></div></div><div id="36517782" class="c"><input type="checkbox" id="c-36517782" checked=""/><div class="controls bullet"><span class="by">bluetomcat</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36517909">prev</a><span>|</span><a href="#36517784">next</a><span>|</span><label class="collapse" for="c-36517782">[-]</label><label class="expand" for="c-36517782">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a language for creating quick alternative views from line- and column-oriented text streams. That means, take the output of another tool and represent it in a different way.</div><br/></div></div><div id="36517784" class="c"><input type="checkbox" id="c-36517784" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36517782">prev</a><span>|</span><a href="#36518040">next</a><span>|</span><label class="collapse" for="c-36517784">[-]</label><label class="expand" for="c-36517784">[1 more]</label></div><br/><div class="children"><div class="content">I use awk mostly for one-liners and resort to Python when I need more than a few lines of code.</div><br/></div></div></div></div><div id="36518040" class="c"><input type="checkbox" id="c-36518040" checked=""/><div class="controls bullet"><span class="by">proger</span><span>|</span><a href="#36517707">prev</a><span>|</span><a href="#36517864">next</a><span>|</span><label class="collapse" for="c-36518040">[-]</label><label class="expand" for="c-36518040">[1 more]</label></div><br/><div class="children"><div class="content">Find and AWK together, a match made in heaven. Thanks for the link.</div><br/></div></div><div id="36517864" class="c"><input type="checkbox" id="c-36517864" checked=""/><div class="controls bullet"><span class="by">radiator</span><span>|</span><a href="#36518040">prev</a><span>|</span><a href="#36517769">next</a><span>|</span><label class="collapse" for="c-36517864">[-]</label><label class="expand" for="c-36517864">[1 more]</label></div><br/><div class="children"><div class="content">This is good news, because you have to pay a lot for a used copy of the first edition nowadays. I hope the spirit remains the same as in the first edition.</div><br/></div></div><div id="36517769" class="c"><input type="checkbox" id="c-36517769" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#36517864">prev</a><span>|</span><a href="#36517935">next</a><span>|</span><label class="collapse" for="c-36517769">[-]</label><label class="expand" for="c-36517769">[1 more]</label></div><br/><div class="children"><div class="content">Have to wait, as &quot;The book will be available by the end of September&quot;<p>See <a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=The+AWK+Programming+Language" rel="nofollow noreferrer">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=The+AWK+Programming+Language</a> for discussion on the first edition<p>Didn&#x27;t know there was a list of `awk` implementations: <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;html_node&#x2F;Other-Versions.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;html_node&#x2F;Other-Ver...</a></div><br/></div></div><div id="36517935" class="c"><input type="checkbox" id="c-36517935" checked=""/><div class="controls bullet"><span class="by">jhoechtl</span><span>|</span><a href="#36517769">prev</a><span>|</span><a href="#36517850">next</a><span>|</span><label class="collapse" for="c-36517935">[-]</label><label class="expand" for="c-36517935">[1 more]</label></div><br/><div class="children"><div class="content">I love the csv-mode. It obviously takes some time</div><br/></div></div><div id="36517850" class="c"><input type="checkbox" id="c-36517850" checked=""/><div class="controls bullet"><span class="by">DarkNova6</span><span>|</span><a href="#36517935">prev</a><span>|</span><a href="#36517762">next</a><span>|</span><label class="collapse" for="c-36517850">[-]</label><label class="expand" for="c-36517850">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know about Awk, but I feel the urge to write a library named &quot;ward&quot; for it.</div><br/><div id="36517886" class="c"><input type="checkbox" id="c-36517886" checked=""/><div class="controls bullet"><span class="by">schoen</span><span>|</span><a href="#36517850">parent</a><span>|</span><a href="#36517762">next</a><span>|</span><label class="collapse" for="c-36517886">[-]</label><label class="expand" for="c-36517886">[1 more]</label></div><br/><div class="children"><div class="content">Maybe the person who deals with security issues for an awk implementation could be called the awk ward.</div><br/></div></div></div></div><div id="36517762" class="c"><input type="checkbox" id="c-36517762" checked=""/><div class="controls bullet"><span class="by">fgh</span><span>|</span><a href="#36517850">prev</a><span>|</span><a href="#36517884">next</a><span>|</span><label class="collapse" for="c-36517762">[-]</label><label class="expand" for="c-36517762">[3 more]</label></div><br/><div class="children"><div class="content">Who wrote the second edition?</div><br/><div id="36517805" class="c"><input type="checkbox" id="c-36517805" checked=""/><div class="controls bullet"><span class="by">Lyngbakr</span><span>|</span><a href="#36517762">parent</a><span>|</span><a href="#36517808">next</a><span>|</span><label class="collapse" for="c-36517805">[-]</label><label class="expand" for="c-36517805">[1 more]</label></div><br/><div class="children"><div class="content">I read a comment on HN the other day by someone reviewing the book and I believe they said it was Brian Kernigan.</div><br/></div></div><div id="36517808" class="c"><input type="checkbox" id="c-36517808" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#36517762">parent</a><span>|</span><a href="#36517805">prev</a><span>|</span><a href="#36517884">next</a><span>|</span><label class="collapse" for="c-36517808">[-]</label><label class="expand" for="c-36517808">[1 more]</label></div><br/><div class="children"><div class="content">It was mentioned recently here in another HN thread  that Brian Kernighan is writing it.</div><br/></div></div></div></div><div id="36517884" class="c"><input type="checkbox" id="c-36517884" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#36517762">prev</a><span>|</span><label class="collapse" for="c-36517884">[-]</label><label class="expand" for="c-36517884">[1 more]</label></div><br/><div class="children"><div class="content">Awk and ChatGPT are best friends.</div><br/></div></div></div></div></div></div></div></body></html>