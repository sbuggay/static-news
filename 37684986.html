<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695891663104" as="style"/><link rel="stylesheet" href="styles.css?v=1695891663104"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://retrocomputing.stackexchange.com/questions/19655/why-does-trying-to-break-into-the-nt-3-1-kernel-reboot-my-486dx4-machine">Why does trying to break into the NT 3.1 kernel reboot my 486DX4 machine?</a>Â <span class="domain">(<a href="https://retrocomputing.stackexchange.com">retrocomputing.stackexchange.com</a>)</span></div><div class="subtext"><span>segfaultbuserr</span> | <span>36 comments</span></div><br/><div><div id="37685442" class="c"><input type="checkbox" id="c-37685442" checked=""/><div class="controls bullet"><span class="by">tzahifadida</span><span>|</span><a href="#37685641">next</a><span>|</span><label class="collapse" for="c-37685442">[-]</label><label class="expand" for="c-37685442">[9 more]</label></div><br/><div class="children"><div class="content">I build a port check way back to determine if services are up. It crashed half the company by simply opening a few tcp ports to the machines.
Ridiculous days :)</div><br/><div id="37686190" class="c"><input type="checkbox" id="c-37686190" checked=""/><div class="controls bullet"><span class="by">H8crilA</span><span>|</span><a href="#37685442">parent</a><span>|</span><a href="#37685900">next</a><span>|</span><label class="collapse" for="c-37686190">[-]</label><label class="expand" for="c-37686190">[6 more]</label></div><br/><div class="children"><div class="content">Remember when Win95 could be crashed or even rooted just by pinging it the right way? We really have come a long way.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Ping_of_death" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Ping_of_death</a><p>I also remember SMB vulnerabilities that stayed unpatched for years on some machines. That was already when Metasploit existed, so you could inject VNC into most Windows hosts on local network with just a few commands. These days at least the patching is super fast.</div><br/><div id="37686386" class="c"><input type="checkbox" id="c-37686386" checked=""/><div class="controls bullet"><span class="by">cm2187</span><span>|</span><a href="#37685442">root</a><span>|</span><a href="#37686190">parent</a><span>|</span><a href="#37686760">next</a><span>|</span><label class="collapse" for="c-37686386">[-]</label><label class="expand" for="c-37686386">[2 more]</label></div><br/><div class="children"><div class="content">I remember those days.<p>Even into the late 90s early 2000, modems (including ADSL) didn&#x27;t come with a router, you had to establish a PPPoE connection from your computer, which also means your home machine was directly on the WAN with no firewall protection.<p>I can&#x27;t remember which version of windows but it must have been 98 or ME, you had to rush to download and install a patch when you connected it first to the internet before one of these exploits would make it crash.<p>The introduction of NAT changed all of that.</div><br/><div id="37686744" class="c"><input type="checkbox" id="c-37686744" checked=""/><div class="controls bullet"><span class="by">roomey</span><span>|</span><a href="#37685442">root</a><span>|</span><a href="#37686386">parent</a><span>|</span><a href="#37686760">next</a><span>|</span><label class="collapse" for="c-37686744">[-]</label><label class="expand" for="c-37686744">[1 more]</label></div><br/><div class="children"><div class="content">Yes. I remember they would send UPS call to reboot your pc, within seconds of going online.<p>A little popup saying visit such and such site to stop your pc rebooting, and a countdown timer</div><br/></div></div></div></div><div id="37686760" class="c"><input type="checkbox" id="c-37686760" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#37685442">root</a><span>|</span><a href="#37686190">parent</a><span>|</span><a href="#37686386">prev</a><span>|</span><a href="#37686443">next</a><span>|</span><label class="collapse" for="c-37686760">[-]</label><label class="expand" for="c-37686760">[1 more]</label></div><br/><div class="children"><div class="content">Oh I remember those times. There was a guy in high-school 2 years younger that one day shown me that he wrote a C implementation of WinNuke on the school Unix server and he was then crashing Windows PCs in the lab for fun.
He was a really smart guy and AFAIK he&#x27;s been working at Google for a few years now (maybe he&#x27;s on HN even?)</div><br/></div></div><div id="37686443" class="c"><input type="checkbox" id="c-37686443" checked=""/><div class="controls bullet"><span class="by">hkwerf</span><span>|</span><a href="#37685442">root</a><span>|</span><a href="#37686190">parent</a><span>|</span><a href="#37686760">prev</a><span>|</span><a href="#37685900">next</a><span>|</span><label class="collapse" for="c-37686443">[-]</label><label class="expand" for="c-37686443">[2 more]</label></div><br/><div class="children"><div class="content">Ping of death isn&#x27;t just something for the old days: <a href="https:&#x2F;&#x2F;msrc.microsoft.com&#x2F;update-guide&#x2F;vulnerability&#x2F;CVE-2023-23415" rel="nofollow noreferrer">https:&#x2F;&#x2F;msrc.microsoft.com&#x2F;update-guide&#x2F;vulnerability&#x2F;CVE-20...</a></div><br/><div id="37686860" class="c"><input type="checkbox" id="c-37686860" checked=""/><div class="controls bullet"><span class="by">guenthert</span><span>|</span><a href="#37685442">root</a><span>|</span><a href="#37686443">parent</a><span>|</span><a href="#37685900">next</a><span>|</span><label class="collapse" for="c-37686860">[-]</label><label class="expand" for="c-37686860">[1 more]</label></div><br/><div class="children"><div class="content">Interesting, but<p>&quot;... to trigger the vulnerable code path, an application on the target must be bound to a raw socket.&quot;<p>Isn&#x27;t that unlikely unless the victim runs a network capture tool like Wireshark or similar?</div><br/></div></div></div></div></div></div><div id="37685900" class="c"><input type="checkbox" id="c-37685900" checked=""/><div class="controls bullet"><span class="by">sambazi</span><span>|</span><a href="#37685442">parent</a><span>|</span><a href="#37686190">prev</a><span>|</span><a href="#37685714">next</a><span>|</span><label class="collapse" for="c-37685900">[-]</label><label class="expand" for="c-37685900">[1 more]</label></div><br/><div class="children"><div class="content">sounds like it was more than &quot;a few&quot;</div><br/></div></div><div id="37685714" class="c"><input type="checkbox" id="c-37685714" checked=""/><div class="controls bullet"><span class="by">deely3</span><span>|</span><a href="#37685442">parent</a><span>|</span><a href="#37685900">prev</a><span>|</span><a href="#37685641">next</a><span>|</span><label class="collapse" for="c-37685714">[-]</label><label class="expand" for="c-37685714">[1 more]</label></div><br/><div class="children"><div class="content">Whoa, thats prettt funny.</div><br/></div></div></div></div><div id="37685641" class="c"><input type="checkbox" id="c-37685641" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#37685442">prev</a><span>|</span><a href="#37686140">next</a><span>|</span><label class="collapse" for="c-37685641">[-]</label><label class="expand" for="c-37685641">[6 more]</label></div><br/><div class="children"><div class="content">&quot;The fix is obvious&quot; indeed.</div><br/><div id="37686167" class="c"><input type="checkbox" id="c-37686167" checked=""/><div class="controls bullet"><span class="by">H8crilA</span><span>|</span><a href="#37685641">parent</a><span>|</span><a href="#37686717">next</a><span>|</span><label class="collapse" for="c-37686167">[-]</label><label class="expand" for="c-37686167">[3 more]</label></div><br/><div class="children"><div class="content">Well, once the bug is identified, yes. I wonder how do you find a bug like that, I guess you keep reading the disassembly of the trapping code until you find the problem. I don&#x27;t think he could have used QEMU or some other form of debugging.</div><br/><div id="37686270" class="c"><input type="checkbox" id="c-37686270" checked=""/><div class="controls bullet"><span class="by">pjgalbraith</span><span>|</span><a href="#37685641">root</a><span>|</span><a href="#37686167">parent</a><span>|</span><a href="#37686717">next</a><span>|</span><label class="collapse" for="c-37686270">[-]</label><label class="expand" for="c-37686270">[2 more]</label></div><br/><div class="children"><div class="content">He does mention a bit more in a hidden comment:<p>&quot;NTOSKRNL.EXE + debug symbols + IDA helped me understand how the remote break-in is supposed to work. I knew that something in the remote break-in code path before the first debug packet is sent is going to reboot my machine. So I patched &quot;JMP SHORT $&quot; instructions into the relevant code-path. If I placed it before the crash point, the machine hangs. If I placed it after the crash point, the machine reboots. This allowed me to &quot;bisect&quot; where the crash is happening.&quot;<p>-----<p>Here is a Chat-GPT breakdown of the comment:<p>NTOSKRNL.EXE: This is the kernel of the Windows NT operating system. When people refer to the &quot;Windows kernel,&quot; they&#x27;re typically talking about this executable.<p>debug symbols: These are additional pieces of data that describe the internal structures and functions within a binary (like an EXE or DLL). They make it much easier to understand what&#x27;s going on when analyzing or debugging the binary.<p>IDA: IDA (Interactive DisAssembler) is a popular disassembler and debugger used by security researchers and reverse engineers to analyze binaries.<p>how the remote break-in is supposed to work: It sounds like the commenter is trying to understand how a specific feature or vulnerability related to remote debugging (or &quot;remote break-in&quot;) operates.<p>something in the remote break-in code path before the first debug packet is sent: There&#x27;s a sequence of events or a code path in the kernel related to the remote debugging feature. The problem seems to manifest before the first debug packet is sent over the network.<p>JMP SHORT $: This is an assembly instruction. The JMP instruction is used to jump to another part of the code. SHORT refers to a short jump, meaning the jump target is relatively close. The $ symbol refers to the current address of the instruction, so &quot;JMP SHORT $&quot; will cause the program to jump to itself, effectively causing an infinite loop.<p>patched &quot;JMP SHORT $&quot; instructions into the relevant code-path: By inserting this instruction at various points in the code, the commenter created intentional hangs in the system. This helped isolate where the crash occurs.<p>bisect: This term comes from the world of debugging and means to divide the code into smaller parts to determine where a problem is. In this context, the commenter is using the hang (from the JMP instruction) as an indicator. If they inserted the JMP instruction and the system hangs, it means the crash hasn&#x27;t occurred yet. If they inserted the JMP instruction and the system reboots, it means the crash already happened. By moving the JMP instruction around, they can get closer to the exact point of the crash.<p>In essence, the commenter used a mix of reverse engineering tools and clever debugging tricks to narrow down where a crash was occurring in the Windows NT 3.1 kernel when using a remote debugging feature.</div><br/><div id="37686837" class="c"><input type="checkbox" id="c-37686837" checked=""/><div class="controls bullet"><span class="by">H8crilA</span><span>|</span><a href="#37685641">root</a><span>|</span><a href="#37686270">parent</a><span>|</span><a href="#37686717">next</a><span>|</span><label class="collapse" for="c-37686837">[-]</label><label class="expand" for="c-37686837">[1 more]</label></div><br/><div class="children"><div class="content">Not sure why this is downvoted, the comment is on point. Is it because it is partly gpt-generated content?<p>I wonder if patching memory worked in the debugger, if not this would have to be done by manually editing the kernel file with IDA or something, and rebooting the machine. But in either case this is a good way to find the problem.</div><br/></div></div></div></div></div></div><div id="37686717" class="c"><input type="checkbox" id="c-37686717" checked=""/><div class="controls bullet"><span class="by">red_admiral</span><span>|</span><a href="#37685641">parent</a><span>|</span><a href="#37686167">prev</a><span>|</span><a href="#37686140">next</a><span>|</span><label class="collapse" for="c-37686717">[-]</label><label class="expand" for="c-37686717">[2 more]</label></div><br/><div class="children"><div class="content">My math professor used to say there are two kinds of problems: easy ones, and ones you don&#x27;t understand yet.</div><br/><div id="37686819" class="c"><input type="checkbox" id="c-37686819" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#37685641">root</a><span>|</span><a href="#37686717">parent</a><span>|</span><a href="#37686140">next</a><span>|</span><label class="collapse" for="c-37686819">[-]</label><label class="expand" for="c-37686819">[1 more]</label></div><br/><div class="children"><div class="content">Or not anymore.</div><br/></div></div></div></div></div></div><div id="37686140" class="c"><input type="checkbox" id="c-37686140" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#37685641">prev</a><span>|</span><a href="#37685249">next</a><span>|</span><label class="collapse" for="c-37686140">[-]</label><label class="expand" for="c-37686140">[2 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget to read the <i>how</i> buried in the hidden comments at the end!</div><br/><div id="37687005" class="c"><input type="checkbox" id="c-37687005" checked=""/><div class="controls bullet"><span class="by">thrdbndndn</span><span>|</span><a href="#37686140">parent</a><span>|</span><a href="#37685249">next</a><span>|</span><label class="collapse" for="c-37687005">[-]</label><label class="expand" for="c-37687005">[1 more]</label></div><br/><div class="children"><div class="content">SO&#x27;s auto collapsing of comments just makes no sense every time I see it. It isn&#x27;t hiding lowest voted ones, it isn&#x27;t hiding newest or oldest ones. It feels random (and unnecessary).<p>IMO they should just add paging to it than hiding if the space is the concern.</div><br/></div></div></div></div><div id="37685249" class="c"><input type="checkbox" id="c-37685249" checked=""/><div class="controls bullet"><span class="by">threeio</span><span>|</span><a href="#37686140">prev</a><span>|</span><a href="#37685728">next</a><span>|</span><label class="collapse" for="c-37685249">[-]</label><label class="expand" for="c-37685249">[7 more]</label></div><br/><div class="children"><div class="content">Is it bad that I knew that one without opening it? ... never mind I&#x27;ll be over yelling at these young kids to get off my lawn :)</div><br/><div id="37685439" class="c"><input type="checkbox" id="c-37685439" checked=""/><div class="controls bullet"><span class="by">CodeWriter23</span><span>|</span><a href="#37685249">parent</a><span>|</span><a href="#37685433">next</a><span>|</span><label class="collapse" for="c-37685439">[-]</label><label class="expand" for="c-37685439">[5 more]</label></div><br/><div class="children"><div class="content">Troubleshooting was different when we came up. Just your wits and maybe some gurus you could call on a landline as backup. No fancy internet with tons of answers of varying degrees of usefulness.</div><br/><div id="37685537" class="c"><input type="checkbox" id="c-37685537" checked=""/><div class="controls bullet"><span class="by">smokel</span><span>|</span><a href="#37685249">root</a><span>|</span><a href="#37685439">parent</a><span>|</span><a href="#37685433">next</a><span>|</span><label class="collapse" for="c-37685537">[-]</label><label class="expand" for="c-37685537">[4 more]</label></div><br/><div class="children"><div class="content">You might have forgotten them, but there were also books printed on paper.</div><br/><div id="37686550" class="c"><input type="checkbox" id="c-37686550" checked=""/><div class="controls bullet"><span class="by">ale42</span><span>|</span><a href="#37685249">root</a><span>|</span><a href="#37685537">parent</a><span>|</span><a href="#37685704">next</a><span>|</span><label class="collapse" for="c-37686550">[-]</label><label class="expand" for="c-37686550">[1 more]</label></div><br/><div class="children"><div class="content">As long as you had access to a library... When I was 14 or so, I used the MS-DOS DEBUG program to run step-by-step an executable that did something to change blinking to high-intensity background in text mode. After one hour or so I found the magic BIOS call... which of course was documented in the technical manual I found in the library one year later (because new school = new library with more books).</div><br/></div></div><div id="37685704" class="c"><input type="checkbox" id="c-37685704" checked=""/><div class="controls bullet"><span class="by">theGeatZhopa</span><span>|</span><a href="#37685249">root</a><span>|</span><a href="#37685537">parent</a><span>|</span><a href="#37686550">prev</a><span>|</span><a href="#37685433">next</a><span>|</span><label class="collapse" for="c-37685704">[-]</label><label class="expand" for="c-37685704">[2 more]</label></div><br/><div class="children"><div class="content">H4x0r doesn&#x27;t need book. H4x0r   try 4nd err0r.<p>Books were just knowledge. Debugging was skill.
At certain point in knowledge-gain, you develop a good skill and after that point, you don&#x27;t need books anymore. Maybe from time to time. I still have a suse6 printed manual.. I can&#x27;t see it in the cellar, but It&#x27;ve been HUUGE</div><br/><div id="37686985" class="c"><input type="checkbox" id="c-37686985" checked=""/><div class="controls bullet"><span class="by">yetihehe</span><span>|</span><a href="#37685249">root</a><span>|</span><a href="#37685704">parent</a><span>|</span><a href="#37685433">next</a><span>|</span><label class="collapse" for="c-37686985">[-]</label><label class="expand" for="c-37686985">[1 more]</label></div><br/><div class="children"><div class="content">But you still need some critical amount of knowledge that you need from somewhere. I wish I at least knew there exists something like assembler when I was 12. I naively tried to make some demos, but basic was not adequate, so I considered demoscene as &quot;magic&quot;.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37685728" class="c"><input type="checkbox" id="c-37685728" checked=""/><div class="controls bullet"><span class="by">janwillemb</span><span>|</span><a href="#37685249">prev</a><span>|</span><a href="#37685525">next</a><span>|</span><label class="collapse" for="c-37685728">[-]</label><label class="expand" for="c-37685728">[1 more]</label></div><br/><div class="children"><div class="content">Break as in Ctrl+C</div><br/></div></div><div id="37685525" class="c"><input type="checkbox" id="c-37685525" checked=""/><div class="controls bullet"><span class="by">b800h</span><span>|</span><a href="#37685728">prev</a><span>|</span><label class="collapse" for="c-37685525">[-]</label><label class="expand" for="c-37685525">[10 more]</label></div><br/><div class="children"><div class="content">This is proper programming. None of this namby-pamby web scripting that passes for development these days.</div><br/><div id="37685960" class="c"><input type="checkbox" id="c-37685960" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37685525">parent</a><span>|</span><a href="#37686616">next</a><span>|</span><label class="collapse" for="c-37685960">[-]</label><label class="expand" for="c-37685960">[5 more]</label></div><br/><div class="children"><div class="content">Sir we program in YAML exclusively now.</div><br/><div id="37686112" class="c"><input type="checkbox" id="c-37686112" checked=""/><div class="controls bullet"><span class="by">rjbwork</span><span>|</span><a href="#37685525">root</a><span>|</span><a href="#37685960">parent</a><span>|</span><a href="#37686616">next</a><span>|</span><label class="collapse" for="c-37686112">[-]</label><label class="expand" for="c-37686112">[4 more]</label></div><br/><div class="children"><div class="content">So 2020.  We&#x27;re on TOML now.</div><br/><div id="37686189" class="c"><input type="checkbox" id="c-37686189" checked=""/><div class="controls bullet"><span class="by">bux93</span><span>|</span><a href="#37685525">root</a><span>|</span><a href="#37686112">parent</a><span>|</span><a href="#37686616">next</a><span>|</span><label class="collapse" for="c-37686189">[-]</label><label class="expand" for="c-37686189">[3 more]</label></div><br/><div class="children"><div class="content">In a few years it will be LISP.<p>wait..</div><br/><div id="37686244" class="c"><input type="checkbox" id="c-37686244" checked=""/><div class="controls bullet"><span class="by">RedShift1</span><span>|</span><a href="#37685525">root</a><span>|</span><a href="#37686189">parent</a><span>|</span><a href="#37686616">next</a><span>|</span><label class="collapse" for="c-37686244">[-]</label><label class="expand" for="c-37686244">[2 more]</label></div><br/><div class="children"><div class="content">C is waiting to be rediscovered</div><br/><div id="37687055" class="c"><input type="checkbox" id="c-37687055" checked=""/><div class="controls bullet"><span class="by">birracerveza</span><span>|</span><a href="#37685525">root</a><span>|</span><a href="#37686244">parent</a><span>|</span><a href="#37686616">next</a><span>|</span><label class="collapse" for="c-37687055">[-]</label><label class="expand" for="c-37687055">[1 more]</label></div><br/><div class="children"><div class="content">Oh so that&#x27;s why Zig is gaining popularity</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37686616" class="c"><input type="checkbox" id="c-37686616" checked=""/><div class="controls bullet"><span class="by">theclansman</span><span>|</span><a href="#37685525">parent</a><span>|</span><a href="#37685960">prev</a><span>|</span><a href="#37686574">next</a><span>|</span><label class="collapse" for="c-37686616">[-]</label><label class="expand" for="c-37686616">[2 more]</label></div><br/><div class="children"><div class="content">So many programming jobs feel like busy work with no interesting problems nowadays, I often wonder if it&#x27;s only gonna get worse with time.</div><br/><div id="37686831" class="c"><input type="checkbox" id="c-37686831" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#37685525">root</a><span>|</span><a href="#37686616">parent</a><span>|</span><a href="#37686574">next</a><span>|</span><label class="collapse" for="c-37686831">[-]</label><label class="expand" for="c-37686831">[1 more]</label></div><br/><div class="children"><div class="content">Luckily, as a single individual you only need one (or at most a handful) of (programming) jobs at a time.  So you don&#x27;t need to worry about the vast majority of jobs.</div><br/></div></div></div></div><div id="37686574" class="c"><input type="checkbox" id="c-37686574" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#37685525">parent</a><span>|</span><a href="#37686616">prev</a><span>|</span><a href="#37686145">next</a><span>|</span><label class="collapse" for="c-37686574">[-]</label><label class="expand" for="c-37686574">[1 more]</label></div><br/><div class="children"><div class="content">Leave the web scripters alone.</div><br/></div></div></div></div></div></div></div></div></div></body></html>