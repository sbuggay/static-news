<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689843663954" as="style"/><link rel="stylesheet" href="styles.css?v=1689843663954"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.infoq.com/news/2023/07/linkedin-protocol-buffers-restli/">LinkedIn adopts protocol buffers and reduces latency up to 60%</a> <span class="domain">(<a href="https://www.infoq.com">www.infoq.com</a>)</span></div><div class="subtext"><span>ijidak</span> | <span>75 comments</span></div><br/><div><div id="36797402" class="c"><input type="checkbox" id="c-36797402" checked=""/><div class="controls bullet"><span class="by">iamflimflam1</span><span>|</span><a href="#36797506">next</a><span>|</span><label class="collapse" for="c-36797402">[-]</label><label class="expand" for="c-36797402">[15 more]</label></div><br/><div class="children"><div class="content"><i>“50 thousand API endpoints exposed by microservices”</i><p>Feels that their problem may just be they went a bit too far on the microservices band wagon.</div><br/><div id="36797433" class="c"><input type="checkbox" id="c-36797433" checked=""/><div class="controls bullet"><span class="by">cbb330</span><span>|</span><a href="#36797402">parent</a><span>|</span><a href="#36797574">next</a><span>|</span><label class="collapse" for="c-36797433">[-]</label><label class="expand" for="c-36797433">[9 more]</label></div><br/><div class="children"><div class="content">Speaking as a current engineer at LinkedIn,<p>Big Tech companies will often conflate micro service with large distributed system.<p>These services are by no means at all micro.</div><br/><div id="36798057" class="c"><input type="checkbox" id="c-36798057" checked=""/><div class="controls bullet"><span class="by">fnordpiglet</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797433">parent</a><span>|</span><a href="#36798106">next</a><span>|</span><label class="collapse" for="c-36798057">[-]</label><label class="expand" for="c-36798057">[1 more]</label></div><br/><div class="children"><div class="content">There are 19,000 LinkedIn employees world wide according to my cursory Kagi. That means more than two endpoints for every employee. I feel like regardless of micro or macro that’s an enormous sprawl of entropy.</div><br/></div></div><div id="36798106" class="c"><input type="checkbox" id="c-36798106" checked=""/><div class="controls bullet"><span class="by">HatchedLake721</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797433">parent</a><span>|</span><a href="#36798057">prev</a><span>|</span><a href="#36797655">next</a><span>|</span><label class="collapse" for="c-36798106">[-]</label><label class="expand" for="c-36798106">[1 more]</label></div><br/><div class="children"><div class="content">How’s Ember.js doing these days at LinkedIn?</div><br/></div></div><div id="36797655" class="c"><input type="checkbox" id="c-36797655" checked=""/><div class="controls bullet"><span class="by">bingemaker</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797433">parent</a><span>|</span><a href="#36798106">prev</a><span>|</span><a href="#36797749">next</a><span>|</span><label class="collapse" for="c-36797655">[-]</label><label class="expand" for="c-36797655">[2 more]</label></div><br/><div class="children"><div class="content">Curious to know how many macroservices or monoliths LinkedIn has currently</div><br/><div id="36797948" class="c"><input type="checkbox" id="c-36797948" checked=""/><div class="controls bullet"><span class="by">whatshisface</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797655">parent</a><span>|</span><a href="#36797749">next</a><span>|</span><label class="collapse" for="c-36797948">[-]</label><label class="expand" for="c-36797948">[1 more]</label></div><br/><div class="children"><div class="content">Our interlinked system of distributed monoliths includes one in AWS region af-south-1, another on the Moon, and a third orbiting Jupiter. All of these services are yours, except for the fourth on Europa. Attempt no POSTing there.</div><br/></div></div></div></div><div id="36797749" class="c"><input type="checkbox" id="c-36797749" checked=""/><div class="controls bullet"><span class="by">olliej</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797433">parent</a><span>|</span><a href="#36797655">prev</a><span>|</span><a href="#36797574">next</a><span>|</span><label class="collapse" for="c-36797749">[-]</label><label class="expand" for="c-36797749">[4 more]</label></div><br/><div class="children"><div class="content">I feel that wholly depends on how you’re classifying those.<p>What makes a service micro vs macro?</div><br/><div id="36798126" class="c"><input type="checkbox" id="c-36798126" checked=""/><div class="controls bullet"><span class="by">usrusr</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797749">parent</a><span>|</span><a href="#36797864">next</a><span>|</span><label class="collapse" for="c-36798126">[-]</label><label class="expand" for="c-36798126">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s certainly a spectrum, but you can have huge clusters of even the most monolithic monolith.<p>The real semantic fun begins when you have monolithic codebase&#x2F;deployments that <i>could</i> do everything, but each instance gets assigned a specialized role it serves to its peers _
(I think I&#x27;ve seen someonevdescribing that approach somewhere). I&#x27;d consider that micro if there are more than a handful of &quot;roles&quot;, perhaps with some qualifier, but it would hopefully be easy to agree than no description is entirely wrong.</div><br/></div></div><div id="36797864" class="c"><input type="checkbox" id="c-36797864" checked=""/><div class="controls bullet"><span class="by">meinheld111</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797749">parent</a><span>|</span><a href="#36798126">prev</a><span>|</span><a href="#36797574">next</a><span>|</span><label class="collapse" for="c-36797864">[-]</label><label class="expand" for="c-36797864">[2 more]</label></div><br/><div class="children"><div class="content">It’s micro if it pulls &lt;1gig of dependencies &lt;&#x2F;s&gt;</div><br/><div id="36798138" class="c"><input type="checkbox" id="c-36798138" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797864">parent</a><span>|</span><a href="#36797574">next</a><span>|</span><label class="collapse" for="c-36798138">[-]</label><label class="expand" for="c-36798138">[1 more]</label></div><br/><div class="children"><div class="content">I have seen 5 table micro services. A solo backend developer had created &quot;3 micro services&quot; and as I joined the team, their argument was that we&#x27;re doubled in strength so there were a series of architectural meetings to split everything nicely into 5 different services.</div><br/></div></div></div></div></div></div></div></div><div id="36797574" class="c"><input type="checkbox" id="c-36797574" checked=""/><div class="controls bullet"><span class="by">bezout</span><span>|</span><a href="#36797402">parent</a><span>|</span><a href="#36797433">prev</a><span>|</span><a href="#36797780">next</a><span>|</span><label class="collapse" for="c-36797574">[-]</label><label class="expand" for="c-36797574">[4 more]</label></div><br/><div class="children"><div class="content">Do you really need that many endpoints even at LinkedIn scale? I’d expect a lots of them is due to engineers reinventing the wheel due to undocumented endpoints</div><br/><div id="36797743" class="c"><input type="checkbox" id="c-36797743" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797574">parent</a><span>|</span><a href="#36797780">next</a><span>|</span><label class="collapse" for="c-36797743">[-]</label><label class="expand" for="c-36797743">[3 more]</label></div><br/><div class="children"><div class="content">Never want to deprecate an endpoint, so you end up with &#x2F;service&#x2F;v1, &#x2F;service&#x2F;v2, &#x2F;service&#x2F;v3… &#x2F;service&#x2F;v37</div><br/><div id="36798130" class="c"><input type="checkbox" id="c-36798130" checked=""/><div class="controls bullet"><span class="by">paulmd</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36797743">parent</a><span>|</span><a href="#36797780">next</a><span>|</span><label class="collapse" for="c-36798130">[-]</label><label class="expand" for="c-36798130">[2 more]</label></div><br/><div class="children"><div class="content">One of the problems with API versioning is that it’s really a contract for the whole shebang and not just a specific endpoint. You almost certainly want them to move in sync with each other.<p>So if you have an API with 10 endpoints, and one of them changes 10 times… you now have 100 endpoints.</div><br/><div id="36798237" class="c"><input type="checkbox" id="c-36798237" checked=""/><div class="controls bullet"><span class="by">heavenlyblue</span><span>|</span><a href="#36797402">root</a><span>|</span><a href="#36798130">parent</a><span>|</span><a href="#36797780">next</a><span>|</span><label class="collapse" for="c-36798237">[-]</label><label class="expand" for="c-36798237">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t make sense, are you implying that every change changes the behaviour of every single endpoint?</div><br/></div></div></div></div></div></div></div></div><div id="36797780" class="c"><input type="checkbox" id="c-36797780" checked=""/><div class="controls bullet"><span class="by">Gigachad</span><span>|</span><a href="#36797402">parent</a><span>|</span><a href="#36797574">prev</a><span>|</span><a href="#36797506">next</a><span>|</span><label class="collapse" for="c-36797780">[-]</label><label class="expand" for="c-36797780">[1 more]</label></div><br/><div class="children"><div class="content">Maybe they just call every single data object they expose it’s own api endpoint even if the vast majority come from the same program.</div><br/></div></div></div></div><div id="36797506" class="c"><input type="checkbox" id="c-36797506" checked=""/><div class="controls bullet"><span class="by">throwaway914</span><span>|</span><a href="#36797402">prev</a><span>|</span><a href="#36797359">next</a><span>|</span><label class="collapse" for="c-36797506">[-]</label><label class="expand" for="c-36797506">[11 more]</label></div><br/><div class="children"><div class="content">Wish they&#x27;d adopt a code of conduct but at least they&#x27;ll be able to mine my phone contacts 60% faster.  I always feel held hostage by LinkedIn.  I have to write a resume for every posting, and update LinkedIn and connect with every working person I&#x27;ve ever met on there.  Otherwise I don&#x27;t exist.<p>What a plague of a company.</div><br/><div id="36797960" class="c"><input type="checkbox" id="c-36797960" checked=""/><div class="controls bullet"><span class="by">nottorp</span><span>|</span><a href="#36797506">parent</a><span>|</span><a href="#36797547">next</a><span>|</span><label class="collapse" for="c-36797960">[-]</label><label class="expand" for="c-36797960">[2 more]</label></div><br/><div class="children"><div class="content">&gt; they&#x27;ll be able to mine my phone contacts 60% faster<p>You give... random applications... access to your contact list?</div><br/><div id="36798192" class="c"><input type="checkbox" id="c-36798192" checked=""/><div class="controls bullet"><span class="by">pcthrowaway</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797960">parent</a><span>|</span><a href="#36797547">next</a><span>|</span><label class="collapse" for="c-36798192">[-]</label><label class="expand" for="c-36798192">[1 more]</label></div><br/><div class="children"><div class="content">I realize maybe a minority of HN even remembers this, but at some point ~10 years ago, LinkedIn would agressively spam your contacts lists. If you logged in on your phone they would somehow get your phone contacts. When you signed up they had you log in with your email address, and then would try to get you to spam your entire contacts list there too.<p>I think web integrations have gotten locked down since then.. not for altruistic reasons, but because Google and Apple don&#x27;t want to give Microsoft access to the data they have on you, so yeah, it&#x27;s at least harder to accidentally give LinkedIn access to your contacts list now, but the damage has already been done for a lot of people</div><br/></div></div></div></div><div id="36797547" class="c"><input type="checkbox" id="c-36797547" checked=""/><div class="controls bullet"><span class="by">hdjjhhvvhga</span><span>|</span><a href="#36797506">parent</a><span>|</span><a href="#36797960">prev</a><span>|</span><a href="#36797359">next</a><span>|</span><label class="collapse" for="c-36797547">[-]</label><label class="expand" for="c-36797547">[8 more]</label></div><br/><div class="children"><div class="content">A piece of Anecdata: I managed to live around and still have no problems finding a new job. Yes, some job application sites have a mandatory &quot;link to linkedin&quot; field but I just ignore these.</div><br/><div id="36797592" class="c"><input type="checkbox" id="c-36797592" checked=""/><div class="controls bullet"><span class="by">Raed667</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797547">parent</a><span>|</span><a href="#36797925">next</a><span>|</span><label class="collapse" for="c-36797592">[-]</label><label class="expand" for="c-36797592">[4 more]</label></div><br/><div class="children"><div class="content">Yes you can live without it. But you&#x27;ll be missing you whole lot of jobs that are &quot;linkedin only&quot; in the form of posts, DMs and people spontaneously discovering your profile and reaching out.<p>Some people will be fine finding jobs without it, a lot won&#x27;t be that fortunate.</div><br/><div id="36797740" class="c"><input type="checkbox" id="c-36797740" checked=""/><div class="controls bullet"><span class="by">olliej</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797592">parent</a><span>|</span><a href="#36797925">next</a><span>|</span><label class="collapse" for="c-36797740">[-]</label><label class="expand" for="c-36797740">[3 more]</label></div><br/><div class="children"><div class="content">I feel “LinkedIn only” is a class of job that many people aren’t interested in (biz&#x2F;fintech maybe?).<p>I’ve literally never seen a LinkedIn only job for a field I was interested in let alone a job - but I don’t work biz&#x2F;fintech.</div><br/><div id="36798188" class="c"><input type="checkbox" id="c-36798188" checked=""/><div class="controls bullet"><span class="by">berkes</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797740">parent</a><span>|</span><a href="#36797834">next</a><span>|</span><label class="collapse" for="c-36798188">[-]</label><label class="expand" for="c-36798188">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found my most interesting jobs on LI.<p>Sure, several of them, I could have found elsewhere, e.g. on a dedicated job board. But I wasn&#x27;t at those other job boards, nor was the recruiter who brought them onto my radar.<p>If I had avoided LI, I would have missed out on some of my best gigs.</div><br/></div></div><div id="36797834" class="c"><input type="checkbox" id="c-36797834" checked=""/><div class="controls bullet"><span class="by">rusticpenn</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797740">parent</a><span>|</span><a href="#36798188">prev</a><span>|</span><a href="#36797925">next</a><span>|</span><label class="collapse" for="c-36797834">[-]</label><label class="expand" for="c-36797834">[1 more]</label></div><br/><div class="children"><div class="content">I am not in either of the fields. I get &quot;confidential&quot; offers from headhunters usually on Linkedin or Xing.</div><br/></div></div></div></div></div></div><div id="36797925" class="c"><input type="checkbox" id="c-36797925" checked=""/><div class="controls bullet"><span class="by">doix</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797547">parent</a><span>|</span><a href="#36797592">prev</a><span>|</span><a href="#36797359">next</a><span>|</span><label class="collapse" for="c-36797925">[-]</label><label class="expand" for="c-36797925">[3 more]</label></div><br/><div class="children"><div class="content">Yes, I refuse to engage with LinkedIn out of principle. I probably miss out on some opportunities, but I just tell myself that those jobs would have made me miserable anyway.</div><br/><div id="36798075" class="c"><input type="checkbox" id="c-36798075" checked=""/><div class="controls bullet"><span class="by">squokko</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36797925">parent</a><span>|</span><a href="#36797359">next</a><span>|</span><label class="collapse" for="c-36798075">[-]</label><label class="expand" for="c-36798075">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I just tell myself that those jobs would have made me miserable anyway<p>This is certainly wrong because the usage of LinkedIn is very high. It&#x27;s equivalent to saying, &quot;I don&#x27;t take recruiting calls from meat-eaters.&quot; I mean, if it&#x27;s extremely important to you, go for it, but if not, you&#x27;re doing yourself a disservice.</div><br/><div id="36798144" class="c"><input type="checkbox" id="c-36798144" checked=""/><div class="controls bullet"><span class="by">Given_47</span><span>|</span><a href="#36797506">root</a><span>|</span><a href="#36798075">parent</a><span>|</span><a href="#36797359">next</a><span>|</span><label class="collapse" for="c-36798144">[-]</label><label class="expand" for="c-36798144">[1 more]</label></div><br/><div class="children"><div class="content">Well they said it’s out of principle so I read that as simply a rationalization that helps them stick to their principle(s)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36797359" class="c"><input type="checkbox" id="c-36797359" checked=""/><div class="controls bullet"><span class="by">YetAnotherNick</span><span>|</span><a href="#36797506">prev</a><span>|</span><a href="#36796883">next</a><span>|</span><label class="collapse" for="c-36797359">[-]</label><label class="expand" for="c-36797359">[2 more]</label></div><br/><div class="children"><div class="content">Linkedin didn&#x27;t reduce client latency by 60%. Instead they reduced latency of some microservice, which used to take ~15ms, by &lt;10ms, which is not bad but the claim is flat out wrong.</div><br/></div></div><div id="36796883" class="c"><input type="checkbox" id="c-36796883" checked=""/><div class="controls bullet"><span class="by">drdvehn</span><span>|</span><a href="#36797359">prev</a><span>|</span><a href="#36797475">next</a><span>|</span><label class="collapse" for="c-36796883">[-]</label><label class="expand" for="c-36796883">[4 more]</label></div><br/><div class="children"><div class="content">Good. latency has always been a problem at LinkedIn. for me, as a recruiter, I want to send friend requests and job vacancy to a bunch of random users in the blink of an eye. This helps. Thank you LinkedIn.</div><br/><div id="36798241" class="c"><input type="checkbox" id="c-36798241" checked=""/><div class="controls bullet"><span class="by">heavenlyblue</span><span>|</span><a href="#36796883">parent</a><span>|</span><a href="#36797861">next</a><span>|</span><label class="collapse" for="c-36798241">[-]</label><label class="expand" for="c-36798241">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, with LinkedIn and come browser console features I can accept as many friend requests from as many recruiters I want in a blink of an eye.</div><br/></div></div><div id="36797861" class="c"><input type="checkbox" id="c-36797861" checked=""/><div class="controls bullet"><span class="by">agilob</span><span>|</span><a href="#36796883">parent</a><span>|</span><a href="#36798241">prev</a><span>|</span><a href="#36796966">next</a><span>|</span><label class="collapse" for="c-36797861">[-]</label><label class="expand" for="c-36797861">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t worry this gap will be filled by another microservice!</div><br/></div></div><div id="36796966" class="c"><input type="checkbox" id="c-36796966" checked=""/><div class="controls bullet"><span class="by">jfghi</span><span>|</span><a href="#36796883">parent</a><span>|</span><a href="#36797861">prev</a><span>|</span><a href="#36797475">next</a><span>|</span><label class="collapse" for="c-36796966">[-]</label><label class="expand" for="c-36796966">[1 more]</label></div><br/><div class="children"><div class="content">Shhh, don’t want this to be a new ai-supported feature as a service</div><br/></div></div></div></div><div id="36797475" class="c"><input type="checkbox" id="c-36797475" checked=""/><div class="controls bullet"><span class="by">cmckn</span><span>|</span><a href="#36796883">prev</a><span>|</span><a href="#36797563">next</a><span>|</span><label class="collapse" for="c-36797475">[-]</label><label class="expand" for="c-36797475">[5 more]</label></div><br/><div class="children"><div class="content">I wonder why they didn’t use MS’ protobuf clone, bond: <a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;bond">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;bond</a><p>When I was at MS, it was definitely preferred over protobuf. IIRC it was also used internally as the wire format for gRPC. I guess LinkedIn is still kind of doing their own thing.</div><br/><div id="36797553" class="c"><input type="checkbox" id="c-36797553" checked=""/><div class="controls bullet"><span class="by">wilg</span><span>|</span><a href="#36797475">parent</a><span>|</span><a href="#36797614">next</a><span>|</span><label class="collapse" for="c-36797553">[-]</label><label class="expand" for="c-36797553">[1 more]</label></div><br/><div class="children"><div class="content">A likely reason is that Bond does not support their target languages, listed in the article as &quot;Java, Kotlin, Scala, ObjC, Swift, JavaScript, Python, Go&quot;. Of those, Bond seems to support only Java and Python.</div><br/></div></div><div id="36797614" class="c"><input type="checkbox" id="c-36797614" checked=""/><div class="controls bullet"><span class="by">basementcat</span><span>|</span><a href="#36797475">parent</a><span>|</span><a href="#36797553">prev</a><span>|</span><a href="#36797663">next</a><span>|</span><label class="collapse" for="c-36797614">[-]</label><label class="expand" for="c-36797614">[2 more]</label></div><br/><div class="children"><div class="content">Bond over gRPC appears to have been deprecated.
<a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;bond&#x2F;issues&#x2F;1131">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;bond&#x2F;issues&#x2F;1131</a></div><br/><div id="36797707" class="c"><input type="checkbox" id="c-36797707" checked=""/><div class="controls bullet"><span class="by">cmckn</span><span>|</span><a href="#36797475">root</a><span>|</span><a href="#36797614">parent</a><span>|</span><a href="#36797663">next</a><span>|</span><label class="collapse" for="c-36797707">[-]</label><label class="expand" for="c-36797707">[1 more]</label></div><br/><div class="children"><div class="content">I think that’s referring to some specific libraries by MS that provided a batteries-included gRPC + bond setup. The standard gRPC libraries still allow you to plug in whatever serialization format you want, including bond.<p>But based on the complete lack of activity on the issue, gRPC + bond doesn’t seem like a popular choice. :)</div><br/></div></div></div></div><div id="36797663" class="c"><input type="checkbox" id="c-36797663" checked=""/><div class="controls bullet"><span class="by">duckmysick</span><span>|</span><a href="#36797475">parent</a><span>|</span><a href="#36797614">prev</a><span>|</span><a href="#36797563">next</a><span>|</span><label class="collapse" for="c-36797663">[-]</label><label class="expand" for="c-36797663">[1 more]</label></div><br/><div class="children"><div class="content">How is it different from Google&#x27;s protobuf?</div><br/></div></div></div></div><div id="36797563" class="c"><input type="checkbox" id="c-36797563" checked=""/><div class="controls bullet"><span class="by">raminf</span><span>|</span><a href="#36797475">prev</a><span>|</span><a href="#36795989">next</a><span>|</span><label class="collapse" for="c-36797563">[-]</label><label class="expand" for="c-36797563">[4 more]</label></div><br/><div class="children"><div class="content">What happens if you need to dynamically discover a service and invoke it? Or does it only work if both ends are known and you can push out change to both end of the wire?<p>Also, wouldn&#x27;t something like MessagePack, ION, RION, or CBOR give you payload compression over JSON?</div><br/><div id="36798070" class="c"><input type="checkbox" id="c-36798070" checked=""/><div class="controls bullet"><span class="by">EspressoGPT</span><span>|</span><a href="#36797563">parent</a><span>|</span><a href="#36798100">next</a><span>|</span><label class="collapse" for="c-36798070">[-]</label><label class="expand" for="c-36798070">[1 more]</label></div><br/><div class="children"><div class="content">The target service must be known and compatible. Looser coupling is sacrificed for higher performance.</div><br/></div></div><div id="36798100" class="c"><input type="checkbox" id="c-36798100" checked=""/><div class="controls bullet"><span class="by">fnordpiglet</span><span>|</span><a href="#36797563">parent</a><span>|</span><a href="#36798070">prev</a><span>|</span><a href="#36797688">next</a><span>|</span><label class="collapse" for="c-36798100">[-]</label><label class="expand" for="c-36798100">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.tbray.org&#x2F;ongoing&#x2F;When&#x2F;201x&#x2F;2019&#x2F;11&#x2F;17&#x2F;Bits-On-the-Wire" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.tbray.org&#x2F;ongoing&#x2F;When&#x2F;201x&#x2F;2019&#x2F;11&#x2F;17&#x2F;Bits-On-t...</a><p>One thing about protobufs in a highly interconnected ball of mess, good luck reving the protocol in any non trivial way. Schema-less encodings such as those you mention (as well as bson, etc) are really advantageous for loosely coupled interfaces and graceful message format migrations. IMO (opinion!) protobufs is popular simply because of the Google cargo cult where anything Google tech is slavishly adopted without a great deal of introspection on applicability to the specific situation.</div><br/></div></div><div id="36797688" class="c"><input type="checkbox" id="c-36797688" checked=""/><div class="controls bullet"><span class="by">AtNightWeCode</span><span>|</span><a href="#36797563">parent</a><span>|</span><a href="#36798100">prev</a><span>|</span><a href="#36795989">next</a><span>|</span><label class="collapse" for="c-36797688">[-]</label><label class="expand" for="c-36797688">[1 more]</label></div><br/><div class="children"><div class="content">I always try to avoid these special formats. Most people have not used them and even if there are claims that the tools work on different platforms there are often some quirks. Another approach is to add compression and tweak it for performance.</div><br/></div></div></div></div><div id="36795989" class="c"><input type="checkbox" id="c-36795989" checked=""/><div class="controls bullet"><span class="by">rekttrader</span><span>|</span><a href="#36797563">prev</a><span>|</span><a href="#36796658">next</a><span>|</span><label class="collapse" for="c-36795989">[-]</label><label class="expand" for="c-36795989">[2 more]</label></div><br/><div class="children"><div class="content">In other news binary serialization is smaller.</div><br/></div></div><div id="36796658" class="c"><input type="checkbox" id="c-36796658" checked=""/><div class="controls bullet"><span class="by">euos</span><span>|</span><a href="#36795989">prev</a><span>|</span><a href="#36797816">next</a><span>|</span><label class="collapse" for="c-36796658">[-]</label><label class="expand" for="c-36796658">[8 more]</label></div><br/><div class="children"><div class="content">Just use gRPC.</div><br/><div id="36797287" class="c"><input type="checkbox" id="c-36797287" checked=""/><div class="controls bullet"><span class="by">DedlySnek</span><span>|</span><a href="#36796658">parent</a><span>|</span><a href="#36796970">next</a><span>|</span><label class="collapse" for="c-36797287">[-]</label><label class="expand" for="c-36797287">[1 more]</label></div><br/><div class="children"><div class="content">From rest.li&#x27;s github page[0] -<p>At LinkedIn, we are focusing our efforts on advanced automation to enable a seamless, LinkedIn-wide migration from Rest.li to gRPC. gRPC will offer better performance, support for more programming languages, streaming, and a robust open source community. There is no active development at LinkedIn on new features for Rest.li. The repository will also be deprecated soon once we have migrated services to use gRPC. Refer to this blog[1] for more details on why we are moving to gRPC.<p>[0] - <a href="https:&#x2F;&#x2F;github.com&#x2F;linkedin&#x2F;rest.li">https:&#x2F;&#x2F;github.com&#x2F;linkedin&#x2F;rest.li</a><p>[1] - <a href="https:&#x2F;&#x2F;engineering.linkedin.com&#x2F;blog&#x2F;2023&#x2F;linkedin-integrates-protocol-buffers-with-rest-li-for-improved-m" rel="nofollow noreferrer">https:&#x2F;&#x2F;engineering.linkedin.com&#x2F;blog&#x2F;2023&#x2F;linkedin-integrat...</a></div><br/></div></div><div id="36796970" class="c"><input type="checkbox" id="c-36796970" checked=""/><div class="controls bullet"><span class="by">gcampbell</span><span>|</span><a href="#36796658">parent</a><span>|</span><a href="#36797287">prev</a><span>|</span><a href="#36797800">next</a><span>|</span><label class="collapse" for="c-36796970">[-]</label><label class="expand" for="c-36796970">[1 more]</label></div><br/><div class="children"><div class="content">from the article:<p>&gt; Based on the learnings from the Protocol Buffers rollout, the team is planning to follow up with migration from Rest.li to gRPC, which also uses Protocol Buffers but additionally supports streaming and has a large community behind it.</div><br/></div></div><div id="36797800" class="c"><input type="checkbox" id="c-36797800" checked=""/><div class="controls bullet"><span class="by">Manjuuu</span><span>|</span><a href="#36796658">parent</a><span>|</span><a href="#36796970">prev</a><span>|</span><a href="#36796760">next</a><span>|</span><label class="collapse" for="c-36797800">[-]</label><label class="expand" for="c-36797800">[1 more]</label></div><br/><div class="children"><div class="content">Yep, REST make no sense between microservices, for what are basically RPCs.</div><br/></div></div><div id="36796760" class="c"><input type="checkbox" id="c-36796760" checked=""/><div class="controls bullet"><span class="by">LatticeAnimal</span><span>|</span><a href="#36796658">parent</a><span>|</span><a href="#36797800">prev</a><span>|</span><a href="#36796863">next</a><span>|</span><label class="collapse" for="c-36796760">[-]</label><label class="expand" for="c-36796760">[1 more]</label></div><br/><div class="children"><div class="content">How is gRPC related? You send JSON or Protobuf over gRPC</div><br/></div></div><div id="36796863" class="c"><input type="checkbox" id="c-36796863" checked=""/><div class="controls bullet"><span class="by">ShadowBanThis01</span><span>|</span><a href="#36796658">parent</a><span>|</span><a href="#36796760">prev</a><span>|</span><a href="#36797816">next</a><span>|</span><label class="collapse" for="c-36796863">[-]</label><label class="expand" for="c-36796863">[3 more]</label></div><br/><div class="children"><div class="content">No Swift support.</div><br/><div id="36797085" class="c"><input type="checkbox" id="c-36797085" checked=""/><div class="controls bullet"><span class="by">upon_drumhead</span><span>|</span><a href="#36796658">root</a><span>|</span><a href="#36796863">parent</a><span>|</span><a href="#36797816">next</a><span>|</span><label class="collapse" for="c-36797085">[-]</label><label class="expand" for="c-36797085">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;grpc&#x2F;grpc-swift">https:&#x2F;&#x2F;github.com&#x2F;grpc&#x2F;grpc-swift</a></div><br/><div id="36797982" class="c"><input type="checkbox" id="c-36797982" checked=""/><div class="controls bullet"><span class="by">ShadowBanThis01</span><span>|</span><a href="#36796658">root</a><span>|</span><a href="#36797085">parent</a><span>|</span><a href="#36797816">next</a><span>|</span><label class="collapse" for="c-36797982">[-]</label><label class="expand" for="c-36797982">[1 more]</label></div><br/><div class="children"><div class="content">Thanks. It&#x27;s not in their list of supported languages: <a href="https:&#x2F;&#x2F;grpc.io&#x2F;docs&#x2F;languages&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;grpc.io&#x2F;docs&#x2F;languages&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="36797816" class="c"><input type="checkbox" id="c-36797816" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#36796658">prev</a><span>|</span><a href="#36797850">next</a><span>|</span><label class="collapse" for="c-36797816">[-]</label><label class="expand" for="c-36797816">[1 more]</label></div><br/><div class="children"><div class="content">Why did it take this long?  Real question.</div><br/></div></div><div id="36797850" class="c"><input type="checkbox" id="c-36797850" checked=""/><div class="controls bullet"><span class="by">nottorp</span><span>|</span><a href="#36797816">prev</a><span>|</span><a href="#36796687">next</a><span>|</span><label class="collapse" for="c-36797850">[-]</label><label class="expand" for="c-36797850">[1 more]</label></div><br/><div class="children"><div class="content">Still feels extremely bloated though. Maybe their internal latency?</div><br/></div></div><div id="36796687" class="c"><input type="checkbox" id="c-36796687" checked=""/><div class="controls bullet"><span class="by">WWLink</span><span>|</span><a href="#36797850">prev</a><span>|</span><a href="#36797511">next</a><span>|</span><label class="collapse" for="c-36796687">[-]</label><label class="expand" for="c-36796687">[7 more]</label></div><br/><div class="children"><div class="content">lol. at some point in time I ran protocol buffers over kafka. Fun times.<p>I liked avro better though.</div><br/><div id="36797353" class="c"><input type="checkbox" id="c-36797353" checked=""/><div class="controls bullet"><span class="by">MarkMarine</span><span>|</span><a href="#36796687">parent</a><span>|</span><a href="#36797680">next</a><span>|</span><label class="collapse" for="c-36797353">[-]</label><label class="expand" for="c-36797353">[5 more]</label></div><br/><div class="children"><div class="content">I’ve seen protbufs as a custom encoding in the database before.<p>Don’t do this, it’s a terrible terrible idea.</div><br/><div id="36797419" class="c"><input type="checkbox" id="c-36797419" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#36796687">root</a><span>|</span><a href="#36797353">parent</a><span>|</span><a href="#36797848">next</a><span>|</span><label class="collapse" for="c-36797419">[-]</label><label class="expand" for="c-36797419">[2 more]</label></div><br/><div class="children"><div class="content">It depends. I&#x27;ve seen it at Google - in bigtable, megastore and spanner - there are quirks - for example you (may) need a registry with all proto(s) the db may contain. In our case (Ads team), any other team using us could&#x27;ve placed their proto in our db, and during the ETL process (bigtable -&gt; capacitor columnn db) you had to know the protos down to the leaf, as each leaf field gets made into a column (based on allow&#x2F;disallow lists as we had at some point over million columns).<p>It&#x27;s crazy, but worked.</div><br/><div id="36797654" class="c"><input type="checkbox" id="c-36797654" checked=""/><div class="controls bullet"><span class="by">GeneralMayhem</span><span>|</span><a href="#36796687">root</a><span>|</span><a href="#36797419">parent</a><span>|</span><a href="#36797848">next</a><span>|</span><label class="collapse" for="c-36797654">[-]</label><label class="expand" for="c-36797654">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately, it really only works ergonomically at Google, because you need the global protodb and a proto-aware SQL dialect to make it usable for humans, and you need proto-aware indexing to make the retrieval speed usable for machines if you ever query by the contents of a proto field. Externally, the closest I&#x27;ve been able to get is using JSON-encoded protos as values, but that comes with its own problems.</div><br/></div></div></div></div><div id="36797848" class="c"><input type="checkbox" id="c-36797848" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#36796687">root</a><span>|</span><a href="#36797353">parent</a><span>|</span><a href="#36797419">prev</a><span>|</span><a href="#36797690">next</a><span>|</span><label class="collapse" for="c-36797848">[-]</label><label class="expand" for="c-36797848">[1 more]</label></div><br/><div class="children"><div class="content">what&#x27;s a good idea then?</div><br/></div></div><div id="36797690" class="c"><input type="checkbox" id="c-36797690" checked=""/><div class="controls bullet"><span class="by">mi_lk</span><span>|</span><a href="#36796687">root</a><span>|</span><a href="#36797353">parent</a><span>|</span><a href="#36797848">prev</a><span>|</span><a href="#36797680">next</a><span>|</span><label class="collapse" for="c-36797690">[-]</label><label class="expand" for="c-36797690">[1 more]</label></div><br/><div class="children"><div class="content">Why a bad idea</div><br/></div></div></div></div><div id="36797680" class="c"><input type="checkbox" id="c-36797680" checked=""/><div class="controls bullet"><span class="by">mi_lk</span><span>|</span><a href="#36796687">parent</a><span>|</span><a href="#36797353">prev</a><span>|</span><a href="#36797511">next</a><span>|</span><label class="collapse" for="c-36797680">[-]</label><label class="expand" for="c-36797680">[1 more]</label></div><br/><div class="children"><div class="content">Mind expanding? What happened</div><br/></div></div></div></div><div id="36797511" class="c"><input type="checkbox" id="c-36797511" checked=""/><div class="controls bullet"><span class="by">achalkumar</span><span>|</span><a href="#36796687">prev</a><span>|</span><a href="#36796757">next</a><span>|</span><label class="collapse" for="c-36797511">[-]</label><label class="expand" for="c-36797511">[1 more]</label></div><br/><div class="children"><div class="content">great</div><br/></div></div><div id="36796757" class="c"><input type="checkbox" id="c-36796757" checked=""/><div class="controls bullet"><span class="by">ShadowBanThis01</span><span>|</span><a href="#36797511">prev</a><span>|</span><label class="collapse" for="c-36796757">[-]</label><label class="expand" for="c-36796757">[13 more]</label></div><br/><div class="children"><div class="content">&quot;They also didn’t want to limit the number of supported language stacks&quot;<p>But that&#x27;s exactly the problem with protocol buffers. In typical Google fashion, they never bothered to create support for the native language of their platform: Kotlin. And that was just the one example we encountered on a project. If your language isn&#x27;t supported by protoc, then what?<p>Also touted was protocol buffers&#x27; &quot;future-proofing&quot; or resistance to version changes. We never realized this alleged benefit, and it wasn&#x27;t clear how it was supposed to be delivered.<p>I dreaded the opacity of the format, and expected decodes to start failing in mysterious ways at some point... wasting days or weeks of my time. But I have to admit that this rarely if ever happened. In our case we were using C++ on one end and Swift on the other.<p>I don&#x27;t get this rationale in the article: &quot;While the size can be optimized using standard compression algorithms like gzip, compression and decompression consumes additional hardware resources.&quot; And unpacking protobufs doesn&#x27;t?</div><br/><div id="36797055" class="c"><input type="checkbox" id="c-36797055" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#36796757">parent</a><span>|</span><a href="#36797146">next</a><span>|</span><label class="collapse" for="c-36797055">[-]</label><label class="expand" for="c-36797055">[1 more]</label></div><br/><div class="children"><div class="content">Kotlin supports Protobufs over gRPC.<p><a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;blog&#x2F;products&#x2F;application-development&#x2F;use-grpc-with-kotlin" rel="nofollow noreferrer">https:&#x2F;&#x2F;cloud.google.com&#x2F;blog&#x2F;products&#x2F;application-developme...</a><p><a href="https:&#x2F;&#x2F;developers.googleblog.com&#x2F;2021&#x2F;11&#x2F;announcing-kotlin-support-for-protocol.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;developers.googleblog.com&#x2F;2021&#x2F;11&#x2F;announcing-kotlin-...</a></div><br/></div></div><div id="36797146" class="c"><input type="checkbox" id="c-36797146" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#36796757">parent</a><span>|</span><a href="#36797055">prev</a><span>|</span><a href="#36796940">next</a><span>|</span><label class="collapse" for="c-36797146">[-]</label><label class="expand" for="c-36797146">[2 more]</label></div><br/><div class="children"><div class="content">Resistance to version changes in protocol buffers comes from practice and doctrine that is widespread in the user community, not entirely from the format itself. There is really only 1 point to keep in mind.<p>1) Never change the type or semantic meaning of a field.<p>It&#x27;s really that simple.</div><br/><div id="36797430" class="c"><input type="checkbox" id="c-36797430" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36797146">parent</a><span>|</span><a href="#36796940">next</a><span>|</span><label class="collapse" for="c-36797430">[-]</label><label class="expand" for="c-36797430">[1 more]</label></div><br/><div class="children"><div class="content">Pretty much, but a bit more here - <a href="https:&#x2F;&#x2F;protobuf.dev&#x2F;programming-guides&#x2F;dos-donts&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;protobuf.dev&#x2F;programming-guides&#x2F;dos-donts&#x2F;</a></div><br/></div></div></div></div><div id="36796940" class="c"><input type="checkbox" id="c-36796940" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#36796757">parent</a><span>|</span><a href="#36797146">prev</a><span>|</span><a href="#36797307">next</a><span>|</span><label class="collapse" for="c-36796940">[-]</label><label class="expand" for="c-36796940">[4 more]</label></div><br/><div class="children"><div class="content">Could you use the Java implementation of protocol buffers from Kotlin?</div><br/><div id="36797173" class="c"><input type="checkbox" id="c-36797173" checked=""/><div class="controls bullet"><span class="by">joe_fishfish</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36796940">parent</a><span>|</span><a href="#36797307">next</a><span>|</span><label class="collapse" for="c-36797173">[-]</label><label class="expand" for="c-36797173">[3 more]</label></div><br/><div class="children"><div class="content">You absolutely can. You can also use Square’s excellent Wire library.</div><br/><div id="36797374" class="c"><input type="checkbox" id="c-36797374" checked=""/><div class="controls bullet"><span class="by">MarkMarine</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36797173">parent</a><span>|</span><a href="#36797307">next</a><span>|</span><label class="collapse" for="c-36797374">[-]</label><label class="expand" for="c-36797374">[2 more]</label></div><br/><div class="children"><div class="content">You can but you’re going to have ? EVERYWHERE, which does drive the search for a native implementation that doesn’t make you deal with null everywhere</div><br/><div id="36797711" class="c"><input type="checkbox" id="c-36797711" checked=""/><div class="controls bullet"><span class="by">billjings</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36797374">parent</a><span>|</span><a href="#36797307">next</a><span>|</span><label class="collapse" for="c-36797711">[-]</label><label class="expand" for="c-36797711">[1 more]</label></div><br/><div class="children"><div class="content">Is there another way you&#x27;re supposed to represent optionals in Kotlin?</div><br/></div></div></div></div></div></div></div></div><div id="36797307" class="c"><input type="checkbox" id="c-36797307" checked=""/><div class="controls bullet"><span class="by">kleton</span><span>|</span><a href="#36796757">parent</a><span>|</span><a href="#36796940">prev</a><span>|</span><a href="#36797185">next</a><span>|</span><label class="collapse" for="c-36797307">[-]</label><label class="expand" for="c-36797307">[3 more]</label></div><br/><div class="children"><div class="content">Kotlin is not a &quot;legal&quot; backend language at Google.</div><br/><div id="36797555" class="c"><input type="checkbox" id="c-36797555" checked=""/><div class="controls bullet"><span class="by">banashark</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36797307">parent</a><span>|</span><a href="#36797866">next</a><span>|</span><label class="collapse" for="c-36797555">[-]</label><label class="expand" for="c-36797555">[1 more]</label></div><br/><div class="children"><div class="content">I had seen a couple of talks on Kotlin where there were representatives from Google saying not only was it supported, but was the recommended language over Java for newer services that aren’t written in cpp&#x2F;python&#x2F;go.<p>Ref: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;hXfGybzWaiA" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;hXfGybzWaiA</a></div><br/></div></div><div id="36797866" class="c"><input type="checkbox" id="c-36797866" checked=""/><div class="controls bullet"><span class="by">netheril96</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36797307">parent</a><span>|</span><a href="#36797555">prev</a><span>|</span><a href="#36797185">next</a><span>|</span><label class="collapse" for="c-36797866">[-]</label><label class="expand" for="c-36797866">[1 more]</label></div><br/><div class="children"><div class="content">Your information is outdated. Kotlin is now a supported backend language at Google.</div><br/></div></div></div></div><div id="36797185" class="c"><input type="checkbox" id="c-36797185" checked=""/><div class="controls bullet"><span class="by">timthelion</span><span>|</span><a href="#36796757">parent</a><span>|</span><a href="#36797307">prev</a><span>|</span><label class="collapse" for="c-36797185">[-]</label><label class="expand" for="c-36797185">[2 more]</label></div><br/><div class="children"><div class="content">How is the format opaque ither than being a binary protocol? It has great documentation on encoding&#x2F;decoding and a tool for inspecting the binary messages <a href="https:&#x2F;&#x2F;protobuf.dev&#x2F;programming-guides&#x2F;encoding&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;protobuf.dev&#x2F;programming-guides&#x2F;encoding&#x2F;</a></div><br/><div id="36797991" class="c"><input type="checkbox" id="c-36797991" checked=""/><div class="controls bullet"><span class="by">ShadowBanThis01</span><span>|</span><a href="#36796757">root</a><span>|</span><a href="#36797185">parent</a><span>|</span><label class="collapse" for="c-36797991">[-]</label><label class="expand" for="c-36797991">[1 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>