<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695546059968" as="style"/><link rel="stylesheet" href="styles.css?v=1695546059968"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://bottlerocket.dev">Bottlerocket – Minimal, immutable Linux OS with verified boot</a> <span class="domain">(<a href="https://bottlerocket.dev">bottlerocket.dev</a>)</span></div><div class="subtext"><span>akyuu</span> | <span>55 comments</span></div><br/><div><div id="37631290" class="c"><input type="checkbox" id="c-37631290" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#37627288">next</a><span>|</span><label class="collapse" for="c-37631290">[-]</label><label class="expand" for="c-37631290">[2 more]</label></div><br/><div class="children"><div class="content">I still don&#x27;t understand why people are so keen to shoot themselves in the foot and make everything sandboxed containers with virtual filesystems and networks.<p>Just use the damn OS and hardware directly. SSH into the host whenever you need to see how things are performing.<p>Kubernetes only works so long as you don&#x27;t really care about resources being used well.</div><br/><div id="37631297" class="c"><input type="checkbox" id="c-37631297" checked=""/><div class="controls bullet"><span class="by">xvector</span><span>|</span><a href="#37631290">parent</a><span>|</span><a href="#37627288">next</a><span>|</span><label class="collapse" for="c-37631297">[-]</label><label class="expand" for="c-37631297">[1 more]</label></div><br/><div class="children"><div class="content">Reproducibility, automation, scaling.</div><br/></div></div></div></div><div id="37627288" class="c"><input type="checkbox" id="c-37627288" checked=""/><div class="controls bullet"><span class="by">stigz</span><span>|</span><a href="#37631290">prev</a><span>|</span><a href="#37627647">next</a><span>|</span><label class="collapse" for="c-37627288">[-]</label><label class="expand" for="c-37627288">[9 more]</label></div><br/><div class="children"><div class="content">This seems to still be very much an AWS&#x2F;Amazon project with no clear path to becoming its own independent thing. For example, you want vulnerability scanning on the OS? Well you can use an Amazon product for that, otherwise *shrug* [1]. So I guess as long as you plan to run Bottlerocket in AWS, you&#x27;re fine.<p>I wish the Bottlerocket team would do 1 of 2 things. Either own up that this is just an AWS project, or start to solve for things like this and actually be a product that &quot;runs in the cloud or in your datacenter&quot; as they suggest on their website.<p>[1] <a href="https:&#x2F;&#x2F;bottlerocket.dev&#x2F;en&#x2F;faq&#x2F;#4_2" rel="nofollow noreferrer">https:&#x2F;&#x2F;bottlerocket.dev&#x2F;en&#x2F;faq&#x2F;#4_2</a></div><br/><div id="37628117" class="c"><input type="checkbox" id="c-37628117" checked=""/><div class="controls bullet"><span class="by">xyzzy123</span><span>|</span><a href="#37627288">parent</a><span>|</span><a href="#37629187">next</a><span>|</span><label class="collapse" for="c-37628117">[-]</label><label class="expand" for="c-37628117">[1 more]</label></div><br/><div class="children"><div class="content">To be fair, I think &quot;VM&quot; on the OS for Flatcar &#x2F; BottleRocket &#x2F; CoreOS is not a requirement in the same way as on RHEL etc.<p>Do you want to know if you are patched? Are you running the latest version? If so, you have all the available patches.<p>I appreciate this can cause difficulties in some regulated domains because there&#x27;s a &quot;vm&quot; box that needs to be ticked on the compliance worksheet.<p>Most of the reason we need VM on a &quot;traditional&quot; OS is to handle the fact that they have a very broad configuration space and their software composition can be - and often is - pretty arbitrary (incorporating stuff from a ton of sources &#x2F; vendors and those versions can move independently).<p>But that&#x27;s not how you&#x27;re supposed to use a container OS.<p>If you do &quot;extra work&quot; to discover vulnerabilities in &quot;latest&quot;, you are not really doing the job of a system owner (whose job is to apply patches from upstream in a timely fashion), you are doing the work of a security researcher.</div><br/></div></div><div id="37629187" class="c"><input type="checkbox" id="c-37629187" checked=""/><div class="controls bullet"><span class="by">JustinGarrison</span><span>|</span><a href="#37627288">parent</a><span>|</span><a href="#37628117">prev</a><span>|</span><a href="#37627327">next</a><span>|</span><label class="collapse" for="c-37629187">[-]</label><label class="expand" for="c-37629187">[1 more]</label></div><br/><div class="children"><div class="content">If you’re interested in something not AWS check out Talos <a href="https:&#x2F;&#x2F;www.talos.dev&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.talos.dev&#x2F;</a><p>It’s been around longer than Bottlerocket</div><br/></div></div><div id="37627327" class="c"><input type="checkbox" id="c-37627327" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37627288">parent</a><span>|</span><a href="#37629187">prev</a><span>|</span><a href="#37631011">next</a><span>|</span><label class="collapse" for="c-37627327">[-]</label><label class="expand" for="c-37627327">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not like something is stopping one from doing a vuln scan, right? Like, there&#x27;s something that SSM&#x27;s in (or uses the admin container) and then runs the scan. Couldn&#x27;t you just do the same thing?<p>Genuine questions, I don&#x27;t know if this is the case or not.</div><br/><div id="37627378" class="c"><input type="checkbox" id="c-37627378" checked=""/><div class="controls bullet"><span class="by">stigz</span><span>|</span><a href="#37627288">root</a><span>|</span><a href="#37627327">parent</a><span>|</span><a href="#37629466">next</a><span>|</span><label class="collapse" for="c-37627378">[-]</label><label class="expand" for="c-37627378">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a good point. And it sounds like it would work to me as well. I don&#x27;t know the answer either.<p>I guess my point is the project should be providing a clear path that doesn&#x27;t involve AWS instead of just stopping short.</div><br/></div></div><div id="37629466" class="c"><input type="checkbox" id="c-37629466" checked=""/><div class="controls bullet"><span class="by">robszumski</span><span>|</span><a href="#37627288">root</a><span>|</span><a href="#37627327">parent</a><span>|</span><a href="#37627378">prev</a><span>|</span><a href="#37631011">next</a><span>|</span><label class="collapse" for="c-37629466">[-]</label><label class="expand" for="c-37629466">[1 more]</label></div><br/><div class="children"><div class="content">I just wrote a post on this. We have an eBPF + SBOM based security tool and it runs great due to hooking the kernel directly via Kube DaemonSet: <a href="https:&#x2F;&#x2F;edgebit.io&#x2F;blog&#x2F;base-os-vulnerabilities&#x2F;">https:&#x2F;&#x2F;edgebit.io&#x2F;blog&#x2F;base-os-vulnerabilities&#x2F;</a><p>tl;dr: Amazon prioritizes patching really well, fixing real issues first</div><br/></div></div></div></div><div id="37631011" class="c"><input type="checkbox" id="c-37631011" checked=""/><div class="controls bullet"><span class="by">ngrilly</span><span>|</span><a href="#37627288">parent</a><span>|</span><a href="#37627327">prev</a><span>|</span><a href="#37627647">next</a><span>|</span><label class="collapse" for="c-37631011">[-]</label><label class="expand" for="c-37631011">[3 more]</label></div><br/><div class="children"><div class="content">Why would one need vulnerability scanning on an immutable OS image? It can be done before deploying the image to the host machines.</div><br/><div id="37631045" class="c"><input type="checkbox" id="c-37631045" checked=""/><div class="controls bullet"><span class="by">capableweb</span><span>|</span><a href="#37627288">root</a><span>|</span><a href="#37631011">parent</a><span>|</span><a href="#37627647">next</a><span>|</span><label class="collapse" for="c-37631045">[-]</label><label class="expand" for="c-37631045">[2 more]</label></div><br/><div class="children"><div class="content">Indeed, but it&#x27;s just an example. Imagine it said &quot;For example, you want Feature X on the OS? Well you can use an Amazon product for that, otherwise <i>shrug</i>&quot; instead if it makes it easier.</div><br/><div id="37631068" class="c"><input type="checkbox" id="c-37631068" checked=""/><div class="controls bullet"><span class="by">ngrilly</span><span>|</span><a href="#37627288">root</a><span>|</span><a href="#37631045">parent</a><span>|</span><a href="#37627647">next</a><span>|</span><label class="collapse" for="c-37631068">[-]</label><label class="expand" for="c-37631068">[1 more]</label></div><br/><div class="children"><div class="content">I missed it was just an example. That’s a fair concern otherwise. Thanks!</div><br/></div></div></div></div></div></div></div></div><div id="37627647" class="c"><input type="checkbox" id="c-37627647" checked=""/><div class="controls bullet"><span class="by">jacurtis</span><span>|</span><a href="#37627288">prev</a><span>|</span><a href="#37627267">next</a><span>|</span><label class="collapse" for="c-37627647">[-]</label><label class="expand" for="c-37627647">[5 more]</label></div><br/><div class="children"><div class="content">Bottlerocket does not off FIPS mode like most other enterprise *nix distributions.<p>Just to save anybody the trouble who needs FIPS approved encryption for host OSes that you use at work for various compliance programs. This makes Bottlerocket a non-starter for us. A very active issue has been open for over 2 years on this and the dev teams don&#x27;t seem to be convinced that this is important. We even communicated with the dev team through our dedicated AWS reps and they have no interest in adding this.<p>Here is the open 2+ year thread on this:
<a href="https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;issues&#x2F;1667">https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;issues&#x2F;1667</a></div><br/><div id="37629881" class="c"><input type="checkbox" id="c-37629881" checked=""/><div class="controls bullet"><span class="by">bcressey</span><span>|</span><a href="#37627647">parent</a><span>|</span><a href="#37627826">next</a><span>|</span><label class="collapse" for="c-37629881">[-]</label><label class="expand" for="c-37629881">[1 more]</label></div><br/><div class="children"><div class="content">Disclosure: I work for Amazon. I’m also the principal engineer for Bottlerocket.<p>FIPS support continues to be the top customer ask by a wide margin. Unfortunately the timing here is not kind for a new distro with no previous FIPS offering. New FIPS 140-2 certifications are no longer available, and new FIPS 140-3 certifications have to make it through a lengthy queue as the entire industry switches over.<p>If this were something the dev team could just power through, I assure you it would have happened by now. I apologize for giving the impression that  it’s not important. It is, but  that doesn’t help the timeline in this case.</div><br/></div></div><div id="37627826" class="c"><input type="checkbox" id="c-37627826" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#37627647">parent</a><span>|</span><a href="#37629881">prev</a><span>|</span><a href="#37627267">next</a><span>|</span><label class="collapse" for="c-37627826">[-]</label><label class="expand" for="c-37627826">[3 more]</label></div><br/><div class="children"><div class="content">In my experience with FIPS certification usually requires some changes that undermine security.<p>If you need it, then you need it, but having the certification is a mildly bad sign in my opinion.<p>I’m not the only one with this opinion.  For instance, the Microsoft Windows team seems to agree:<p><a href="https:&#x2F;&#x2F;techcommunity.microsoft.com&#x2F;t5&#x2F;microsoft-security-baselines&#x2F;why-we-re-not-recommending-fips-mode-anymore&#x2F;ba-p&#x2F;701037" rel="nofollow noreferrer">https:&#x2F;&#x2F;techcommunity.microsoft.com&#x2F;t5&#x2F;microsoft-security-ba...</a></div><br/><div id="37628063" class="c"><input type="checkbox" id="c-37628063" checked=""/><div class="controls bullet"><span class="by">akyuu</span><span>|</span><a href="#37627647">root</a><span>|</span><a href="#37627826">parent</a><span>|</span><a href="#37628088">next</a><span>|</span><label class="collapse" for="c-37628063">[-]</label><label class="expand" for="c-37628063">[1 more]</label></div><br/><div class="children"><div class="content">In the GitHub issue, there is a mention of replacing rustls and Go&#x27;s crypto library with OpenSSL. That seems like a serious security downgrade.</div><br/></div></div><div id="37628088" class="c"><input type="checkbox" id="c-37628088" checked=""/><div class="controls bullet"><span class="by">throwing_away</span><span>|</span><a href="#37627647">root</a><span>|</span><a href="#37627826">parent</a><span>|</span><a href="#37628063">prev</a><span>|</span><a href="#37627267">next</a><span>|</span><label class="collapse" for="c-37628088">[-]</label><label class="expand" for="c-37628088">[1 more]</label></div><br/><div class="children"><div class="content">Having been around a bunch of former-government people and bumping into FIPS myself a few times (like yubikeys) and reading about it, that&#x27;s also been my sense, but it&#x27;s nice to see a formal writeup with examples.<p>Thanks for the link.</div><br/></div></div></div></div></div></div><div id="37627267" class="c"><input type="checkbox" id="c-37627267" checked=""/><div class="controls bullet"><span class="by">evrimoztamur</span><span>|</span><a href="#37627647">prev</a><span>|</span><a href="#37627512">next</a><span>|</span><label class="collapse" for="c-37627267">[-]</label><label class="expand" for="c-37627267">[1 more]</label></div><br/><div class="children"><div class="content">This looks very interesting but as other commenters pointed out, the path to running it yourself seems to be obscured. Even the GitHub page is listed only on the main page.<p>I found the VMware instructions at <a href="https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop&#x2F;QUICKSTART-VMWARE.md">https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop...</a></div><br/></div></div><div id="37627512" class="c"><input type="checkbox" id="c-37627512" checked=""/><div class="controls bullet"><span class="by">kulor</span><span>|</span><a href="#37627267">prev</a><span>|</span><a href="#37628106">next</a><span>|</span><label class="collapse" for="c-37627512">[-]</label><label class="expand" for="c-37627512">[4 more]</label></div><br/><div class="children"><div class="content">Very similar to CoreOS&#x27;[1] directive<p>[1] <a href="https:&#x2F;&#x2F;fedoraproject.org&#x2F;coreos&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;fedoraproject.org&#x2F;coreos&#x2F;</a></div><br/><div id="37629160" class="c"><input type="checkbox" id="c-37629160" checked=""/><div class="controls bullet"><span class="by">nerdyadventurer</span><span>|</span><a href="#37627512">parent</a><span>|</span><a href="#37627823">next</a><span>|</span><label class="collapse" for="c-37629160">[-]</label><label class="expand" for="c-37629160">[2 more]</label></div><br/><div class="children"><div class="content">Forgive me for the dumb question, what are the benefits of CoreOS over the alternatives ex : Alpine?</div><br/><div id="37630950" class="c"><input type="checkbox" id="c-37630950" checked=""/><div class="controls bullet"><span class="by">INTPenis</span><span>|</span><a href="#37627512">root</a><span>|</span><a href="#37629160">parent</a><span>|</span><a href="#37627823">next</a><span>|</span><label class="collapse" for="c-37630950">[-]</label><label class="expand" for="c-37630950">[1 more]</label></div><br/><div class="children"><div class="content">Alpine isn&#x27;t immutable, meaning it opens up for more user error, and security issues, by allowing changes to its system partition.<p>We run immutable container hosts in production because we want to minimize the level of admin interaction. Basically it goes like this. Terraform idempotent setup of VMs with immutable Linux server OS, running containers.<p>We even disabled login on these in production, only keep it enabled in staging. All changes are tested in staging. If anything happens in prod, instead of logging in and making manual changes we just revert to an earlier state.<p>There is less need to configure files and services on the OS when everything runs in a container. You set it up once and start the VM.</div><br/></div></div></div></div><div id="37627823" class="c"><input type="checkbox" id="c-37627823" checked=""/><div class="controls bullet"><span class="by">avtar</span><span>|</span><a href="#37627512">parent</a><span>|</span><a href="#37629160">prev</a><span>|</span><a href="#37628106">next</a><span>|</span><label class="collapse" for="c-37627823">[-]</label><label class="expand" for="c-37627823">[1 more]</label></div><br/><div class="children"><div class="content">And Flatcar Linux, derived from CoreOS <a href="https:&#x2F;&#x2F;www.flatcar.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.flatcar.org&#x2F;</a></div><br/></div></div></div></div><div id="37628106" class="c"><input type="checkbox" id="c-37628106" checked=""/><div class="controls bullet"><span class="by">garganzol</span><span>|</span><a href="#37627512">prev</a><span>|</span><a href="#37627119">next</a><span>|</span><label class="collapse" for="c-37628106">[-]</label><label class="expand" for="c-37628106">[8 more]</label></div><br/><div class="children"><div class="content">Website says that the OS does not have a shell. I cannot imagine a useful docker container without at least one shell script inside. So, if there is no shell, doesn&#x27;t it mean that Bottlerocket is generally unusable except niche scenarios?</div><br/><div id="37628160" class="c"><input type="checkbox" id="c-37628160" checked=""/><div class="controls bullet"><span class="by">CGamesPlay</span><span>|</span><a href="#37628106">parent</a><span>|</span><a href="#37628686">next</a><span>|</span><label class="collapse" for="c-37628160">[-]</label><label class="expand" for="c-37628160">[2 more]</label></div><br/><div class="children"><div class="content">The docker containers can have shell scripts inside. The host machine doesn&#x27;t have a shell. You can bring a docker container with a shell, and run it privileged, to have a shell on the host machine.</div><br/><div id="37628535" class="c"><input type="checkbox" id="c-37628535" checked=""/><div class="controls bullet"><span class="by">perplexa</span><span>|</span><a href="#37628106">root</a><span>|</span><a href="#37628160">parent</a><span>|</span><a href="#37628686">next</a><span>|</span><label class="collapse" for="c-37628535">[-]</label><label class="expand" for="c-37628535">[1 more]</label></div><br/><div class="children"><div class="content">You can also launch an admin container and type `sudo sheltie` in it to get a root shell on the bottlerocket host OS if you need to debug things.<p>We&#x27;ve been using Bottlerocket together with its update operator on K8s for about a year now and we are really happy with it as it solves patch management by swapping out an immutable host OS image instead.</div><br/></div></div></div></div><div id="37628686" class="c"><input type="checkbox" id="c-37628686" checked=""/><div class="controls bullet"><span class="by">jbnorth</span><span>|</span><a href="#37628106">parent</a><span>|</span><a href="#37628160">prev</a><span>|</span><a href="#37629680">next</a><span>|</span><label class="collapse" for="c-37628686">[-]</label><label class="expand" for="c-37628686">[1 more]</label></div><br/><div class="children"><div class="content">The idea with Bottlerocket is that the host itself does not have a direct shell nor a way to access it via SSH or any other method. Instead this responsibility is delegated to the admin container which is where you would actually connect to via SSM&#x2F;SSH. From here if you needed a root shell you would use the `sheltie` utility to do so.</div><br/></div></div><div id="37629680" class="c"><input type="checkbox" id="c-37629680" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#37628106">parent</a><span>|</span><a href="#37628686">prev</a><span>|</span><a href="#37628315">next</a><span>|</span><label class="collapse" for="c-37629680">[-]</label><label class="expand" for="c-37629680">[1 more]</label></div><br/><div class="children"><div class="content">Containers which contain shell scripts also contain the shell itself. It is not typical for the host machine&#x27;s shell binary to be made available to containers running on the host.</div><br/></div></div><div id="37628315" class="c"><input type="checkbox" id="c-37628315" checked=""/><div class="controls bullet"><span class="by">snowstormsun</span><span>|</span><a href="#37628106">parent</a><span>|</span><a href="#37629680">prev</a><span>|</span><a href="#37628834">next</a><span>|</span><label class="collapse" for="c-37628315">[-]</label><label class="expand" for="c-37628315">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not uncommon to have docker containers without a shell for security reasons. For example distroless.</div><br/><div id="37630197" class="c"><input type="checkbox" id="c-37630197" checked=""/><div class="controls bullet"><span class="by">seabrookmx</span><span>|</span><a href="#37628106">root</a><span>|</span><a href="#37628315">parent</a><span>|</span><a href="#37628834">next</a><span>|</span><label class="collapse" for="c-37630197">[-]</label><label class="expand" for="c-37630197">[1 more]</label></div><br/><div class="children"><div class="content">Or scratch containers, which work fine if you have a tool chain that can easily do static linking (GoLang, rust, for example).</div><br/></div></div></div></div><div id="37628834" class="c"><input type="checkbox" id="c-37628834" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#37628106">parent</a><span>|</span><a href="#37628315">prev</a><span>|</span><a href="#37627119">next</a><span>|</span><label class="collapse" for="c-37628834">[-]</label><label class="expand" for="c-37628834">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s a diagram on the subsystems.  Bottlerocket has API that can be called from a shell in a container.<p><pre><code>      shells
        |
    containers
        |
    Bottlerocket
        |
     OS kernel</code></pre></div><br/></div></div></div></div><div id="37627119" class="c"><input type="checkbox" id="c-37627119" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#37628106">prev</a><span>|</span><a href="#37628699">next</a><span>|</span><label class="collapse" for="c-37627119">[-]</label><label class="expand" for="c-37627119">[9 more]</label></div><br/><div class="children"><div class="content">Neither &quot;Get Started&quot; nor the FAQ tell me how to run this.</div><br/><div id="37627140" class="c"><input type="checkbox" id="c-37627140" checked=""/><div class="controls bullet"><span class="by">belter</span><span>|</span><a href="#37627119">parent</a><span>|</span><a href="#37628779">next</a><span>|</span><label class="collapse" for="c-37627140">[-]</label><label class="expand" for="c-37627140">[4 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;bottlerocket.dev&#x2F;en&#x2F;os&#x2F;1.15.x&#x2F;install&#x2F;quickstart&#x2F;aws&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;bottlerocket.dev&#x2F;en&#x2F;os&#x2F;1.15.x&#x2F;install&#x2F;quickstart&#x2F;aws...</a></div><br/><div id="37627161" class="c"><input type="checkbox" id="c-37627161" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#37627119">root</a><span>|</span><a href="#37627140">parent</a><span>|</span><a href="#37628779">next</a><span>|</span><label class="collapse" for="c-37627161">[-]</label><label class="expand" for="c-37627161">[3 more]</label></div><br/><div class="children"><div class="content">The site should probably say somewhere that this was built for AWS and AWS only.<p>Instead it says:<p>&gt; <i>Bottlerocket is installed as the base operating system on the machine or instance where your containers themselves are running.</i><p>&gt; <i>Bottlerocket runs in the cloud or in your datacenter.</i></div><br/><div id="37627188" class="c"><input type="checkbox" id="c-37627188" checked=""/><div class="controls bullet"><span class="by">akyuu</span><span>|</span><a href="#37627119">root</a><span>|</span><a href="#37627161">parent</a><span>|</span><a href="#37628779">next</a><span>|</span><label class="collapse" for="c-37627188">[-]</label><label class="expand" for="c-37627188">[2 more]</label></div><br/><div class="children"><div class="content">On the GitHub repo (<a href="https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket">https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket</a>), there are instructions for using it on VMware and bare metal:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop&#x2F;QUICKSTART-VMWARE.md">https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop&#x2F;PROVISIONING-METAL.md">https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop...</a></div><br/><div id="37627594" class="c"><input type="checkbox" id="c-37627594" checked=""/><div class="controls bullet"><span class="by">jonhohle</span><span>|</span><a href="#37627119">root</a><span>|</span><a href="#37627188">parent</a><span>|</span><a href="#37628779">next</a><span>|</span><label class="collapse" for="c-37627594">[-]</label><label class="expand" for="c-37627594">[1 more]</label></div><br/><div class="children"><div class="content">On one hand it seems like an ncurses tool to install to a disk seems appropriate. On the other hand, the number of times one of these images would be configured for a company is probably pretty small.<p>I’ll have to spend a bit more time, but this seems like a nice option for orgs that want to run on-prem (e.g. not in cloud), and have a low maintenance container host.</div><br/></div></div></div></div></div></div></div></div><div id="37628779" class="c"><input type="checkbox" id="c-37628779" checked=""/><div class="controls bullet"><span class="by">totallywrong</span><span>|</span><a href="#37627119">parent</a><span>|</span><a href="#37627140">prev</a><span>|</span><a href="#37628699">next</a><span>|</span><label class="collapse" for="c-37628779">[-]</label><label class="expand" for="c-37628779">[4 more]</label></div><br/><div class="children"><div class="content">1. Sign up to AWS with your credit card.<p>2. Easily spin up as many instances as you need!</div><br/><div id="37629309" class="c"><input type="checkbox" id="c-37629309" checked=""/><div class="controls bullet"><span class="by">Uehreka</span><span>|</span><a href="#37627119">root</a><span>|</span><a href="#37628779">parent</a><span>|</span><a href="#37628699">next</a><span>|</span><label class="collapse" for="c-37629309">[-]</label><label class="expand" for="c-37629309">[3 more]</label></div><br/><div class="children"><div class="content">&gt; 2. Draw the rest of the owl!<p>Is this available as an AMI I can use when launching an EC2 instance? If so, how do I specify which container or containers it should run? Do I paste a docker-compose.yaml file into the User Data field in the EC2 launch wizard? Do I send configuration to a certain reserved port with a specially authed HTTP POST? About the only thing I know atm is that I can’t use ssh until a container is deployed.</div><br/><div id="37629748" class="c"><input type="checkbox" id="c-37629748" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#37627119">root</a><span>|</span><a href="#37629309">parent</a><span>|</span><a href="#37628699">next</a><span>|</span><label class="collapse" for="c-37629748">[-]</label><label class="expand" for="c-37629748">[2 more]</label></div><br/><div class="children"><div class="content">Yes, its listed in the Community AMIs section. It&#x27;s more common to use this alongside Elastic Kubernetes or other similar AWS services though, where you can opt to use Bottlerocket at the host during configuration.<p><a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;bottlerocket&#x2F;faqs&#x2F;#Using_Bottlerocket" rel="nofollow noreferrer">https:&#x2F;&#x2F;aws.amazon.com&#x2F;bottlerocket&#x2F;faqs&#x2F;#Using_Bottlerocket</a></div><br/><div id="37630096" class="c"><input type="checkbox" id="c-37630096" checked=""/><div class="controls bullet"><span class="by">Uehreka</span><span>|</span><a href="#37627119">root</a><span>|</span><a href="#37629748">parent</a><span>|</span><a href="#37628699">next</a><span>|</span><label class="collapse" for="c-37630096">[-]</label><label class="expand" for="c-37630096">[1 more]</label></div><br/><div class="children"><div class="content">OK cool, thanks for that information, but I do wish that someone would explain the mechanism for deploying this OS. Like, if it’s part of an ECS&#x2F;EKS scheme I’ll tolerate some magic, but at the end of the day I’m a curious person and I’d like to know the mechanics behind how my software is getting deployed. In general if I personally can’t deploy something to EC2 I feel weird about trusting higher level abstractions to do something I don’t know how to.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37628699" class="c"><input type="checkbox" id="c-37628699" checked=""/><div class="controls bullet"><span class="by">totallywrong</span><span>|</span><a href="#37627119">prev</a><span>|</span><a href="#37627170">next</a><span>|</span><label class="collapse" for="c-37628699">[-]</label><label class="expand" for="c-37628699">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d much rather go with CoreOS. Is there anything they&#x27;ve open sourced widely used outside of AWS?</div><br/></div></div><div id="37627170" class="c"><input type="checkbox" id="c-37627170" checked=""/><div class="controls bullet"><span class="by">super_linear</span><span>|</span><a href="#37628699">prev</a><span>|</span><a href="#37628956">next</a><span>|</span><label class="collapse" for="c-37627170">[-]</label><label class="expand" for="c-37627170">[3 more]</label></div><br/><div class="children"><div class="content">Is anyone successfully using this outside of AWS?</div><br/><div id="37628668" class="c"><input type="checkbox" id="c-37628668" checked=""/><div class="controls bullet"><span class="by">fyrn_</span><span>|</span><a href="#37627170">parent</a><span>|</span><a href="#37628579">next</a><span>|</span><label class="collapse" for="c-37628668">[-]</label><label class="expand" for="c-37628668">[1 more]</label></div><br/><div class="children"><div class="content">Just one data point, but I wasn&#x27;t able to get it to work on hetzner cloud</div><br/></div></div></div></div><div id="37628956" class="c"><input type="checkbox" id="c-37628956" checked=""/><div class="controls bullet"><span class="by">blintz</span><span>|</span><a href="#37627170">prev</a><span>|</span><a href="#37628664">next</a><span>|</span><label class="collapse" for="c-37628956">[-]</label><label class="expand" for="c-37628956">[1 more]</label></div><br/><div class="children"><div class="content">This seems really useful for stuff like AMD SEV-SNP, where we want a measurement of the (kernel + initrd + arguments) to guarantee certain behavior from the machine. Ideally, we could use this as the container hypervisor, and have it produce attestations that bind to the hashes of the running containers. This relies on not having container escapes; not sure what the state of the art on that is right now.</div><br/></div></div><div id="37627123" class="c"><input type="checkbox" id="c-37627123" checked=""/><div class="controls bullet"><span class="by">deanCommie</span><span>|</span><a href="#37627152">prev</a><span>|</span><a href="#37627612">next</a><span>|</span><label class="collapse" for="c-37627123">[-]</label><label class="expand" for="c-37627123">[1 more]</label></div><br/><div class="children"><div class="content">Great project, but it&#x27;s been around since 2020: <a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;about-aws&#x2F;whats-new&#x2F;2020&#x2F;08&#x2F;announcing-general-availability-of-bottlerocket&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;aws.amazon.com&#x2F;about-aws&#x2F;whats-new&#x2F;2020&#x2F;08&#x2F;announcin...</a></div><br/></div></div><div id="37627612" class="c"><input type="checkbox" id="c-37627612" checked=""/><div class="controls bullet"><span class="by">katella</span><span>|</span><a href="#37627123">prev</a><span>|</span><a href="#37627133">next</a><span>|</span><label class="collapse" for="c-37627612">[-]</label><label class="expand" for="c-37627612">[2 more]</label></div><br/><div class="children"><div class="content">Verified boot?</div><br/><div id="37627645" class="c"><input type="checkbox" id="c-37627645" checked=""/><div class="controls bullet"><span class="by">akyuu</span><span>|</span><a href="#37627612">parent</a><span>|</span><a href="#37627133">next</a><span>|</span><label class="collapse" for="c-37627645">[-]</label><label class="expand" for="c-37627645">[1 more]</label></div><br/><div class="children"><div class="content">It means there is a full trusted boot chain from the TPM to loading the immutable root filesystem: <a href="https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop&#x2F;SECURITY_FEATURES.md#secure-boot-enabled">https:&#x2F;&#x2F;github.com&#x2F;bottlerocket-os&#x2F;bottlerocket&#x2F;blob&#x2F;develop...</a><p>Regular Linux distributions don&#x27;t have this, even if Secure Boot is enabled: <a href="https:&#x2F;&#x2F;0pointer.net&#x2F;blog&#x2F;brave-new-trusted-boot-world.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;0pointer.net&#x2F;blog&#x2F;brave-new-trusted-boot-world.html</a></div><br/></div></div></div></div><div id="37627133" class="c"><input type="checkbox" id="c-37627133" checked=""/><div class="controls bullet"><span class="by">nathias</span><span>|</span><a href="#37627612">prev</a><span>|</span><label class="collapse" for="c-37627133">[-]</label><label class="expand" for="c-37627133">[6 more]</label></div><br/><div class="children"><div class="content">how does this compare to nix?</div><br/><div id="37627672" class="c"><input type="checkbox" id="c-37627672" checked=""/><div class="controls bullet"><span class="by">stigz</span><span>|</span><a href="#37627133">parent</a><span>|</span><a href="#37627258">next</a><span>|</span><label class="collapse" for="c-37627672">[-]</label><label class="expand" for="c-37627672">[1 more]</label></div><br/><div class="children"><div class="content">I think Nix intention is more general purpose OS and tooling. Bottlerocket is about being just enough of an OS to run containers, and that&#x27;s it.</div><br/></div></div><div id="37627258" class="c"><input type="checkbox" id="c-37627258" checked=""/><div class="controls bullet"><span class="by">zsims</span><span>|</span><a href="#37627133">parent</a><span>|</span><a href="#37627672">prev</a><span>|</span><a href="#37627427">next</a><span>|</span><label class="collapse" for="c-37627258">[-]</label><label class="expand" for="c-37627258">[2 more]</label></div><br/><div class="children"><div class="content">Nix has no security guarantees, nor sandboxing primitives. So not really comparable.</div><br/><div id="37627376" class="c"><input type="checkbox" id="c-37627376" checked=""/><div class="controls bullet"><span class="by">reocha</span><span>|</span><a href="#37627133">root</a><span>|</span><a href="#37627258">parent</a><span>|</span><a href="#37627427">next</a><span>|</span><label class="collapse" for="c-37627376">[-]</label><label class="expand" for="c-37627376">[1 more]</label></div><br/><div class="children"><div class="content">NixOS supports firejail: <a href="https:&#x2F;&#x2F;search.nixos.org&#x2F;options?channel=23.05&amp;from=0&amp;size=50&amp;sort=relevance&amp;type=packages&amp;query=firejail" rel="nofollow noreferrer">https:&#x2F;&#x2F;search.nixos.org&#x2F;options?channel=23.05&amp;from=0&amp;size=5...</a></div><br/></div></div></div></div><div id="37627427" class="c"><input type="checkbox" id="c-37627427" checked=""/><div class="controls bullet"><span class="by">flowless</span><span>|</span><a href="#37627133">parent</a><span>|</span><a href="#37627258">prev</a><span>|</span><a href="#37627225">next</a><span>|</span><label class="collapse" for="c-37627427">[-]</label><label class="expand" for="c-37627427">[1 more]</label></div><br/><div class="children"><div class="content">You could use Nix to build (and manage&#x2F;update) an OS similar to this.</div><br/></div></div></div></div></div></div></div></div></div></body></html>