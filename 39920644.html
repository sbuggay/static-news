<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712221254621" as="style"/><link rel="stylesheet" href="styles.css?v=1712221254621"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://opensource.googleblog.com/2024/04/introducing-jpegli-new-jpeg-coding-library.html">Jpegli: A new JPEG coding library</a> <span class="domain">(<a href="https://opensource.googleblog.com">opensource.googleblog.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>209 comments</span></div><br/><div><div id="39923731" class="c"><input type="checkbox" id="c-39923731" checked=""/><div class="controls bullet"><span class="by">underlines</span><span>|</span><a href="#39927785">next</a><span>|</span><label class="collapse" for="c-39923731">[-]</label><label class="expand" for="c-39923731">[17 more]</label></div><br/><div class="children"><div class="content">JPEGLI = A small JPEG<p>The suffix -li is used in Swiss German dialects. It forms a diminutive of the root word, by adding -li to the end of the root word to convey the smallness of the object and to convey a sense of intimacy or endearment.<p>This obviously comes out of Google Zürich.<p>Other notable Google projects using Swiss German:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;gipfeli">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;gipfeli</a> high-speed compression<p>Gipfeli = Croissant<p><a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;guetzli">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;guetzli</a> perceptual JPEG encoder<p>Guetzli = Cookie<p><a href="https:&#x2F;&#x2F;github.com&#x2F;weggli-rs&#x2F;weggli">https:&#x2F;&#x2F;github.com&#x2F;weggli-rs&#x2F;weggli</a> semantic search tool<p>Weggli = Bread roll<p><a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;brotli">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;brotli</a> lossless compression<p>Brötli = Small bread</div><br/><div id="39924268" class="c"><input type="checkbox" id="c-39924268" checked=""/><div class="controls bullet"><span class="by">billyhoffman</span><span>|</span><a href="#39923731">parent</a><span>|</span><a href="#39924341">next</a><span>|</span><label class="collapse" for="c-39924268">[-]</label><label class="expand" for="c-39924268">[10 more]</label></div><br/><div class="children"><div class="content">Google Zürich also did Zopfli, a DEFLATE-compliant compressor that gets better ratios than gzip by taking longer to compress.<p>Apparently Zopfli = small sweet breat<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Zopfli" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Zopfli</a></div><br/><div id="39927786" class="c"><input type="checkbox" id="c-39927786" checked=""/><div class="controls bullet"><span class="by">occamrazor</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924268">parent</a><span>|</span><a href="#39924389">next</a><span>|</span><label class="collapse" for="c-39927786">[-]</label><label class="expand" for="c-39927786">[1 more]</label></div><br/><div class="children"><div class="content">Zopf means “braid” and it also denotes a medium-size bread type, made with some milk and glazed with yolk, shaped like a braid, traditionally eaten on Sunday.</div><br/></div></div><div id="39924389" class="c"><input type="checkbox" id="c-39924389" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924268">parent</a><span>|</span><a href="#39927786">prev</a><span>|</span><a href="#39924341">next</a><span>|</span><label class="collapse" for="c-39924389">[-]</label><label class="expand" for="c-39924389">[8 more]</label></div><br/><div class="children"><div class="content">They should do XZli next :D<p>And write it in Rust</div><br/><div id="39924517" class="c"><input type="checkbox" id="c-39924517" checked=""/><div class="controls bullet"><span class="by">tialaramex</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924389">parent</a><span>|</span><a href="#39924450">next</a><span>|</span><label class="collapse" for="c-39924517">[-]</label><label class="expand" for="c-39924517">[5 more]</label></div><br/><div class="children"><div class="content">All of the data transformation (codecs, compression etc.) libraries should be in WUFFS. That&#x27;s exactly what it&#x27;s for, and unlike the C++ this was written in, or indeed Rust, it&#x27;s able to provide real compile time safety guarantees for the very affordable price of loss of generality (that is, you can&#x27;t use WUFFS to write your video game, web browser, word processor, operating system or whatever)<p>For example in C++ array[index] has Undefined Behaviour on a bounds miss.
Rust&#x27;s array[index] will <i>panic</i> at runtime on a bounds miss, at least we know what will happen but what happens isn&#x27;t great...
WUFFS array[index] will <i>not compile</i> if it could incur a bounds miss. Show the compiler why index will be a value that&#x27;s always in-bounds when the index occurs.</div><br/><div id="39924828" class="c"><input type="checkbox" id="c-39924828" checked=""/><div class="controls bullet"><span class="by">haneefmubarak</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924517">parent</a><span>|</span><a href="#39924932">next</a><span>|</span><label class="collapse" for="c-39924828">[-]</label><label class="expand" for="c-39924828">[2 more]</label></div><br/><div class="children"><div class="content">It appears that XZ actually is in WUFFS!<p><a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs&#x2F;tree&#x2F;main&#x2F;std&#x2F;xz">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs&#x2F;tree&#x2F;main&#x2F;std&#x2F;xz</a></div><br/><div id="39925841" class="c"><input type="checkbox" id="c-39925841" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924828">parent</a><span>|</span><a href="#39924932">next</a><span>|</span><label class="collapse" for="c-39925841">[-]</label><label class="expand" for="c-39925841">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it&#x27;s just a coincidence (†), but I started working on Wuffs&#x27; LZMA and XZ decoders last December. It works well enough to decode the Linux source code tarball correctly (producing the same output as &#x2F;usr&#x2F;bin&#x2F;xz).<p><pre><code>    $ git clone --quiet --depth=1 https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs.git
    $ gcc -O3 wuffs&#x2F;example&#x2F;mzcat&#x2F;mzcat.c -o my-mzcat
    $ .&#x2F;my-mzcat     &lt; linux-6.8.2.tar.xz | sha256sum 
    d53c712611ea6cb5acaf6627a84d5226692ae90ce41ee599fcc3203e7f8aa359  -
    $ &#x2F;usr&#x2F;bin&#x2F;xz -d &lt; linux-6.8.2.tar.xz | sha256sum 
    d53c712611ea6cb5acaf6627a84d5226692ae90ce41ee599fcc3203e7f8aa359  -
</code></pre>
(†) Also, I&#x27;m not &quot;Jia Tan&quot;! You&#x27;re just going to have to trust me on both of those claims. :-&#x2F;</div><br/></div></div></div></div><div id="39924932" class="c"><input type="checkbox" id="c-39924932" checked=""/><div class="controls bullet"><span class="by">asveikau</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924517">parent</a><span>|</span><a href="#39924828">prev</a><span>|</span><a href="#39924450">next</a><span>|</span><label class="collapse" for="c-39924932">[-]</label><label class="expand" for="c-39924932">[2 more]</label></div><br/><div class="children"><div class="content">The xz backdoor was not about safety. Nor was it really about compilation or compile time checks -- they slipped an extra object file to the linker.</div><br/><div id="39925864" class="c"><input type="checkbox" id="c-39925864" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924932">parent</a><span>|</span><a href="#39924450">next</a><span>|</span><label class="collapse" for="c-39925864">[-]</label><label class="expand" for="c-39925864">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right that Wuffs&#x27; memory-safety isn&#x27;t relevant for this attack.<p>Still, Wuffs doesn&#x27;t use autotools, and if you&#x27;re pulling the library from the <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs-mirror-release-c">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs-mirror-release-c</a> repository then that repo doesn&#x27;t even contain any binary-data test files.</div><br/></div></div></div></div></div></div><div id="39924450" class="c"><input type="checkbox" id="c-39924450" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924389">parent</a><span>|</span><a href="#39924517">prev</a><span>|</span><a href="#39924341">next</a><span>|</span><label class="collapse" for="c-39924450">[-]</label><label class="expand" for="c-39924450">[2 more]</label></div><br/><div class="children"><div class="content">Brotli:11 gets within 0.6 % of LZMA density but decodes 3–5x faster.</div><br/><div id="39924519" class="c"><input type="checkbox" id="c-39924519" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924450">parent</a><span>|</span><a href="#39924341">next</a><span>|</span><label class="collapse" for="c-39924519">[-]</label><label class="expand" for="c-39924519">[1 more]</label></div><br/><div class="children"><div class="content">Yeah. But it seems to be most widely used in web browsers.<p>I’ve never seen a .tar.br file, but I frequently download .tar.xz files.<p>And therefore, a Rust implementation by Google of xz compression and decompression would be most welcome :)</div><br/></div></div></div></div></div></div></div></div><div id="39924341" class="c"><input type="checkbox" id="c-39924341" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#39923731">parent</a><span>|</span><a href="#39924268">prev</a><span>|</span><a href="#39926816">next</a><span>|</span><label class="collapse" for="c-39924341">[-]</label><label class="expand" for="c-39924341">[4 more]</label></div><br/><div class="children"><div class="content">&gt; The suffix -li is used in Swiss German dialects<p>Seems similar to -let in English.<p>JPEGlet<p>Or -ito&#x2F;-ita in Spanish.<p>JPEGito<p>(Joint Photographers Experts Grupito)<p>Or perhaps, if you want to go full Spanish<p>GEFCito<p>(Grupito de Expertos en Fotografía Conjunta)</div><br/><div id="39927910" class="c"><input type="checkbox" id="c-39927910" checked=""/><div class="controls bullet"><span class="by">Someone</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924341">parent</a><span>|</span><a href="#39926880">next</a><span>|</span><label class="collapse" for="c-39927910">[-]</label><label class="expand" for="c-39927910">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_diminutives_by_language#English" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_diminutives_by_languag...</a> lists many more that “could be seen as diminutives”, at least some of which a were fairly recently used in forming new words (examples: disk ⇒ diskette, computer ⇒ minicomputer)</div><br/></div></div><div id="39926880" class="c"><input type="checkbox" id="c-39926880" checked=""/><div class="controls bullet"><span class="by">sa-code</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39924341">parent</a><span>|</span><a href="#39927910">prev</a><span>|</span><a href="#39926816">next</a><span>|</span><label class="collapse" for="c-39926880">[-]</label><label class="expand" for="c-39926880">[2 more]</label></div><br/><div class="children"><div class="content">Or JPEGchen in high German</div><br/><div id="39927590" class="c"><input type="checkbox" id="c-39927590" checked=""/><div class="controls bullet"><span class="by">7bit</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39926880">parent</a><span>|</span><a href="#39926816">next</a><span>|</span><label class="collapse" for="c-39927590">[-]</label><label class="expand" for="c-39927590">[1 more]</label></div><br/><div class="children"><div class="content">Or JPEGle in Swabian German. -le as in left, not as in Pebble</div><br/></div></div></div></div></div></div><div id="39926816" class="c"><input type="checkbox" id="c-39926816" checked=""/><div class="controls bullet"><span class="by">cout</span><span>|</span><a href="#39923731">parent</a><span>|</span><a href="#39924341">prev</a><span>|</span><a href="#39927785">next</a><span>|</span><label class="collapse" for="c-39926816">[-]</label><label class="expand" for="c-39926816">[2 more]</label></div><br/><div class="children"><div class="content">Interesting, I was expecting there to be some connection to the deblocking jpeg decoder knusperli.</div><br/><div id="39927055" class="c"><input type="checkbox" id="c-39927055" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39923731">root</a><span>|</span><a href="#39926816">parent</a><span>|</span><a href="#39927785">next</a><span>|</span><label class="collapse" for="c-39927055">[-]</label><label class="expand" for="c-39927055">[1 more]</label></div><br/><div class="children"><div class="content">That would give additional savings.</div><br/></div></div></div></div></div></div><div id="39927785" class="c"><input type="checkbox" id="c-39927785" checked=""/><div class="controls bullet"><span class="by">bArray</span><span>|</span><a href="#39923731">prev</a><span>|</span><a href="#39924117">next</a><span>|</span><label class="collapse" for="c-39927785">[-]</label><label class="expand" for="c-39927785">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In order to quantify Jpegli&#x27;s image quality improvement we enlisted the help of crowdsourcing raters to compare pairs of images from Cloudinary Image Dataset &#x27;22, encoded using three codecs: Jpegli, libjpeg-turbo and MozJPEG, at several bitrates.<p>Looking further [1]:<p>&gt; It consists in requiring a choice between two different distortions of the same image, and computes an Elo ranking (an estimate of the probability of each method being considered higher quality by the raters) of distortions based on that. Compared to traditional Opinion Score methods, it avoids requiring test subjects to calibrate their scores.<p>This seems like a bad way to evaluate image quality. Humans can tend towards liking more highly saturated colours, which would be a distortion of the original image. If it was just a simple kernel that turned any image into a GIF cartoon, and then I had it rated by cartoon enthusiasts, I&#x27;m sure I could prove GIF is better than JPEG.<p>I think that to produce something more fair, it would need to be &quot;Given the following raw image, which of the following two images appears to better represent the above image?&quot; The allowed answers should be &quot;A&quot;, &quot;B&quot; and &quot;unsure&quot;.<p>ELO would likely be less appropriate. I would also like to see an analysis regarding which images were most influential in deciding which approach is better and why. Is it colour related, artefact related, information frequency related? I&#x27;m sure they could gain some deeper insight into why one method is favoured over the other.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;google-research&#x2F;google-research&#x2F;blob&#x2F;master&#x2F;mucped23&#x2F;README.md">https:&#x2F;&#x2F;github.com&#x2F;google-research&#x2F;google-research&#x2F;blob&#x2F;mast...</a></div><br/></div></div><div id="39924117" class="c"><input type="checkbox" id="c-39924117" checked=""/><div class="controls bullet"><span class="by">jug</span><span>|</span><a href="#39927785">prev</a><span>|</span><a href="#39927415">next</a><span>|</span><label class="collapse" for="c-39924117">[-]</label><label class="expand" for="c-39924117">[9 more]</label></div><br/><div class="children"><div class="content">Their claims about Jpegli seem to make WebP obsolete regarding lossy encoding? Similar compression estimates as WebP versus JPEG are brought up.<p>Hell, I question if AVIF is even worth it with Jpegli.<p>It&#x27;s obviously &quot;better&quot; (higher compression) but wait! It&#x27;s 1) a crappy, limited image format for anything but basic use with obvious video keyframe roots and 2) terribly slow to encode AND 3) decode due to not having any streaming decoders. To decode, you first need to download the entire AVIF to even begin decoding it, which makes it worse than even JPEG&#x2F;MozJPEG in many cases despite their larger sizes. Yes, this has been benchmarked.<p>JPEG XL would&#x27;ve still been worth it though because it&#x27;s just covering so much more ground than JPEG&#x2F;Jpegli and it has a streaming decoder like a sensible format geared for Internet use, as well as progressive decoding support for mobile networks.<p>But without that one? Why not just stick with JPEG&#x27;s then.</div><br/><div id="39924348" class="c"><input type="checkbox" id="c-39924348" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39924117">parent</a><span>|</span><a href="#39925559">next</a><span>|</span><label class="collapse" for="c-39924348">[-]</label><label class="expand" for="c-39924348">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Their claims about Jpegli seem to make WebP obsolete regarding lossy encoding? Similar compression estimates as WebP versus JPEG are brought up.<p>I believe Jpegli beats WebP for medium to high quality compression. I would guess that more than half of all WebP images on the net would definitely be smaller as Jpegli-encoded JPEGs of similar quality. And note that Jpegli is actually worse than MozJPEG and libjpeg-turbo at medium-low qualities. Something like libjpeg-turbo q75 is the crossover point I believe.<p>&gt; Hell, I question if AVIF is even worth it with Jpegli.<p>According to another test [1], for large (like 10+ Mpix) photographs compressed with high quality, Jpegli wins over AVIF. But AVIF seems to win for &quot;web size&quot; images. Though, as for point 2 in your next paragraph, Jpegli is indeed much faster than AVIF.<p>&gt; JPEG XL would&#x27;ve still been worth it though because it&#x27;s just covering so much more ground than JPEG&#x2F;Jpegli and it has a streaming decoder like a sensible format geared for Internet use, as well as progressive decoding support for mobile networks.<p>Indeed. At a minimum, JXL gives you another 20% size reduction just from the better entropy coding.<p>[1] <a href="https:&#x2F;&#x2F;cloudinary.com&#x2F;blog&#x2F;jpeg-xl-and-the-pareto-front" rel="nofollow">https:&#x2F;&#x2F;cloudinary.com&#x2F;blog&#x2F;jpeg-xl-and-the-pareto-front</a></div><br/><div id="39925510" class="c"><input type="checkbox" id="c-39925510" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#39924117">root</a><span>|</span><a href="#39924348">parent</a><span>|</span><a href="#39925559">next</a><span>|</span><label class="collapse" for="c-39925510">[-]</label><label class="expand" for="c-39925510">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I would guess that more than half of all WebP images on the net would definitely be smaller as Jpegli-encoded JPEGs of similar quality.<p>That was what I expected a long time ago but it turns out to be a false assumption. According to Google with data from Chrome. 80%+ of images on the web are bpp 1.0+.</div><br/></div></div></div></div><div id="39925559" class="c"><input type="checkbox" id="c-39925559" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#39924117">parent</a><span>|</span><a href="#39924348">prev</a><span>|</span><a href="#39927415">next</a><span>|</span><label class="collapse" for="c-39925559">[-]</label><label class="expand" for="c-39925559">[5 more]</label></div><br/><div class="children"><div class="content">Sharing similar view. I even go as far as to say jpegli ( and the potential with XYB ICC ) makes JPEG XL just not quite good enough to be worth the effort.<p>The good thing is that the author of XL ( Jyrki&#x27;s ) claims there are potential of 20-30% bitrate savings at the low end. So I hope JPEG XL encoder continues to improve.</div><br/><div id="39926689" class="c"><input type="checkbox" id="c-39926689" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39924117">root</a><span>|</span><a href="#39925559">parent</a><span>|</span><a href="#39926463">next</a><span>|</span><label class="collapse" for="c-39926689">[-]</label><label class="expand" for="c-39926689">[3 more]</label></div><br/><div class="children"><div class="content">You can always use JPEG XL lossless JPEG1 recompression to get some savings in the high end quality, too — if you trust the quality decision heuristics in jpegli&#x2F;guetzli&#x2F;other jpeg encoder more than the JPEG XL encoder itself.<p>We also provide a ~7000 lines-of-code libjxl-tiny that is more similar to jpeg encoders in complexity and coding approach, and a great starting point for building a hardware encoder.</div><br/><div id="39927132" class="c"><input type="checkbox" id="c-39927132" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#39924117">root</a><span>|</span><a href="#39926689">parent</a><span>|</span><a href="#39926463">next</a><span>|</span><label class="collapse" for="c-39927132">[-]</label><label class="expand" for="c-39927132">[2 more]</label></div><br/><div class="children"><div class="content">&gt;JPEG XL lossless JPEG1 recompression<p>This reminded of something. I so wish iOS 18 could support JPEG XL out of the box rather than Safari only. I have 80GB of Photos on my iPhone. Vast Majority of them were sent over by WhatsApp ( JPEG ). If iOS could simply recompress those into JPEG XL I would instantly gain ~10GB+ of storage.</div><br/><div id="39927279" class="c"><input type="checkbox" id="c-39927279" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39924117">root</a><span>|</span><a href="#39927132">parent</a><span>|</span><a href="#39926463">next</a><span>|</span><label class="collapse" for="c-39927279">[-]</label><label class="expand" for="c-39927279">[1 more]</label></div><br/><div class="children"><div class="content">What happens if you recompress them losslessly manually to JPEG XL?</div><br/></div></div></div></div></div></div><div id="39926463" class="c"><input type="checkbox" id="c-39926463" checked=""/><div class="controls bullet"><span class="by">themerone</span><span>|</span><a href="#39924117">root</a><span>|</span><a href="#39925559">parent</a><span>|</span><a href="#39926689">prev</a><span>|</span><a href="#39927415">next</a><span>|</span><label class="collapse" for="c-39926463">[-]</label><label class="expand" for="c-39926463">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not just about the compression ratio. JPEG XL improvements in generational loss are reason enough that it should be the default format for the web.</div><br/></div></div></div></div></div></div><div id="39927415" class="c"><input type="checkbox" id="c-39927415" checked=""/><div class="controls bullet"><span class="by">Mr_Minderbinder</span><span>|</span><a href="#39924117">prev</a><span>|</span><a href="#39923140">next</a><span>|</span><label class="collapse" for="c-39927415">[-]</label><label class="expand" for="c-39927415">[2 more]</label></div><br/><div class="children"><div class="content">It would help if the authors explained how exactly they used the Elo rating system to evaluate quality, since this seems like a non-standard and rather unusual use case for this. I am guessing that if an image is rated better than another that counts as a &quot;win&quot;?<p>Finally, writing &quot;ELO&quot; instead of &quot;Elo&quot; is incorrect (this is just one of my pet peeves but indulge me nevertheless). This is some guy&#x27;s name not an abbreviation, nor a prog rock band from the 70&#x27;s! You would not write &quot;ELO&#x27;s&quot; rating system for the same reason you wouldn&#x27;t write &quot;DIJKSTRA&#x27;s&quot; algorithm.</div><br/><div id="39927455" class="c"><input type="checkbox" id="c-39927455" checked=""/><div class="controls bullet"><span class="by">summerlight</span><span>|</span><a href="#39927415">parent</a><span>|</span><a href="#39923140">next</a><span>|</span><label class="collapse" for="c-39927455">[-]</label><label class="expand" for="c-39927455">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;google-research&#x2F;google-research&#x2F;blob&#x2F;master&#x2F;mucped23&#x2F;compute_elo.ipynb">https:&#x2F;&#x2F;github.com&#x2F;google-research&#x2F;google-research&#x2F;blob&#x2F;mast...</a><p>Looks like this is the implementation.</div><br/></div></div></div></div><div id="39923140" class="c"><input type="checkbox" id="c-39923140" checked=""/><div class="controls bullet"><span class="by">aendruk</span><span>|</span><a href="#39927415">prev</a><span>|</span><a href="#39922226">next</a><span>|</span><label class="collapse" for="c-39923140">[-]</label><label class="expand" for="c-39923140">[9 more]</label></div><br/><div class="children"><div class="content">Looks like it’s not very competitive at low bitrates. I have a project that currently encodes images with MozJPEG at quality 60 and just tried switching it to Jpegli. When tuned to produce comparable file sizes (--distance=4.0) the Jpegli images are consistently worse.</div><br/><div id="39924600" class="c"><input type="checkbox" id="c-39924600" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39923140">parent</a><span>|</span><a href="#39923752">next</a><span>|</span><label class="collapse" for="c-39924600">[-]</label><label class="expand" for="c-39924600">[1 more]</label></div><br/><div class="children"><div class="content">I believe that they should be roughly the same in a photography corpus density at quality 60. Consider filing an issue if some image is worse with jpegli.</div><br/></div></div><div id="39923752" class="c"><input type="checkbox" id="c-39923752" checked=""/><div class="controls bullet"><span class="by">ruuda</span><span>|</span><a href="#39923140">parent</a><span>|</span><a href="#39924600">prev</a><span>|</span><a href="#39922226">next</a><span>|</span><label class="collapse" for="c-39923752">[-]</label><label class="expand" for="c-39923752">[7 more]</label></div><br/><div class="children"><div class="content">What is your use case for degrading image quality that much? At quality level 80 the artifacts are already significant.</div><br/><div id="39927820" class="c"><input type="checkbox" id="c-39927820" checked=""/><div class="controls bullet"><span class="by">egorfine</span><span>|</span><a href="#39923140">root</a><span>|</span><a href="#39923752">parent</a><span>|</span><a href="#39923784">next</a><span>|</span><label class="collapse" for="c-39927820">[-]</label><label class="expand" for="c-39927820">[1 more]</label></div><br/><div class="children"><div class="content">Thumbnails. I typically serve them at 2x resolution but extremely heavily compressed. Still looks good enough in browser when scaled down.</div><br/></div></div><div id="39923784" class="c"><input type="checkbox" id="c-39923784" checked=""/><div class="controls bullet"><span class="by">aendruk</span><span>|</span><a href="#39923140">root</a><span>|</span><a href="#39923752">parent</a><span>|</span><a href="#39927820">prev</a><span>|</span><a href="#39925595">next</a><span>|</span><label class="collapse" for="c-39923784">[-]</label><label class="expand" for="c-39923784">[4 more]</label></div><br/><div class="children"><div class="content">Thumbnails at a high pixel density. I just want them up fast. Any quality that can be squeezed out of it is a bonus.</div><br/><div id="39925136" class="c"><input type="checkbox" id="c-39925136" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#39923140">root</a><span>|</span><a href="#39923784">parent</a><span>|</span><a href="#39924353">next</a><span>|</span><label class="collapse" for="c-39925136">[-]</label><label class="expand" for="c-39925136">[2 more]</label></div><br/><div class="children"><div class="content">JPEG has a fixed macroblock size (16x16 pixels), which negatively affects high resolution low bitrate images.<p>If you must use JPEG, I suspect you might get better visual quality by halving the resolution and upsampling on the client.<p>By doing so, you are effectively setting the lower and right halves of the DCT to zero (losing all high resolution info), but get to have 32x32 pixel macroblocks which lets you better make use of low frequency spacial patterns.</div><br/><div id="39927823" class="c"><input type="checkbox" id="c-39927823" checked=""/><div class="controls bullet"><span class="by">egorfine</span><span>|</span><a href="#39923140">root</a><span>|</span><a href="#39925136">parent</a><span>|</span><a href="#39924353">next</a><span>|</span><label class="collapse" for="c-39927823">[-]</label><label class="expand" for="c-39927823">[1 more]</label></div><br/><div class="children"><div class="content">Oh, that&#x27;s interesting. I typically serve thumbnails at 2x resolution and heavily compressed. Should I try to instead compress them less but serve at 0.5x resolution?</div><br/></div></div></div></div><div id="39924353" class="c"><input type="checkbox" id="c-39924353" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39923140">root</a><span>|</span><a href="#39923784">parent</a><span>|</span><a href="#39925136">prev</a><span>|</span><a href="#39925595">next</a><span>|</span><label class="collapse" for="c-39924353">[-]</label><label class="expand" for="c-39924353">[1 more]</label></div><br/><div class="children"><div class="content">I recently noticed that all the thumbnails on my computer are PNG, which I thought was funny.</div><br/></div></div></div></div><div id="39925595" class="c"><input type="checkbox" id="c-39925595" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#39923140">root</a><span>|</span><a href="#39923752">parent</a><span>|</span><a href="#39923784">prev</a><span>|</span><a href="#39922226">next</a><span>|</span><label class="collapse" for="c-39925595">[-]</label><label class="expand" for="c-39925595">[1 more]</label></div><br/><div class="children"><div class="content">I apologize that this will seem like, well it IS frankly, more reaction than is really justified, sorry for that. But this question is an example of a thing people commonly do that I think is not good and I want to point it out once in a while when I see it:<p>There are infinite use-cases for everything beside one&#x27;s own tiny personal experience and imagination. It&#x27;s not remarkable that someone tested for the best version of something you personally don&#x27;t have a use for.<p>Pretend they hadn&#x27;t answered the question. The answer is it doesn&#x27;t matter.<p>They stated a goal of x, and compared present-x against testing-x and found present-x was the better-x.<p>&quot;Why do they want x when I only care about y?&quot; is irrelevant.<p>I mean you may be idly curious and that&#x27;s not illegal, but you also stated a reason for the question which makes the question not idle but a challenge (the &quot;when I only care about y&quot; part).<p>What I mean by &quot;doesn&#x27;t matter&quot; is, whatever their use-case is, it&#x27;s automatically always valid, and so it doesn&#x27;t change anything, and so it doesn&#x27;t matter.<p>Their answer happened to be something you probably agree is a valid use-case, but that&#x27;s just happenstance. They don&#x27;t have to have a use-case you happen to approve of or even understand.</div><br/></div></div></div></div></div></div><div id="39922226" class="c"><input type="checkbox" id="c-39922226" checked=""/><div class="controls bullet"><span class="by">mgraczyk</span><span>|</span><a href="#39923140">prev</a><span>|</span><a href="#39921349">next</a><span>|</span><label class="collapse" for="c-39922226">[-]</label><label class="expand" for="c-39922226">[8 more]</label></div><br/><div class="children"><div class="content">&gt; Jpegli can be encoded with 10+ bits per component.<p>How are the extra bits encoded?<p>Is this the JPEG_R&#x2F;&quot;Ultra HDR&quot; format, or has Google come up with yet another metadata solution? Something else altogether?<p>Ultra HDR: <a href="https:&#x2F;&#x2F;developer.android.com&#x2F;media&#x2F;platform&#x2F;hdr-image-format" rel="nofollow">https:&#x2F;&#x2F;developer.android.com&#x2F;media&#x2F;platform&#x2F;hdr-image-forma...</a></div><br/><div id="39922442" class="c"><input type="checkbox" id="c-39922442" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39922226">parent</a><span>|</span><a href="#39922527">next</a><span>|</span><label class="collapse" for="c-39922442">[-]</label><label class="expand" for="c-39922442">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s regular old JPEG1. I don&#x27;t know the details, but it turns out that &quot;8 bit&quot; JPEG actually has enough precision in the format to squeeze out another 2.5 bits, as long as both the encoder and the decoder use high precision math.</div><br/><div id="39922535" class="c"><input type="checkbox" id="c-39922535" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#39922226">root</a><span>|</span><a href="#39922442">parent</a><span>|</span><a href="#39922527">next</a><span>|</span><label class="collapse" for="c-39922535">[-]</label><label class="expand" for="c-39922535">[1 more]</label></div><br/><div class="children"><div class="content">Wow, this is the first time I heard about that. I wonder if Lightroom uses high precision math.</div><br/></div></div></div></div><div id="39922527" class="c"><input type="checkbox" id="c-39922527" checked=""/><div class="controls bullet"><span class="by">donatzsky</span><span>|</span><a href="#39922226">parent</a><span>|</span><a href="#39922442">prev</a><span>|</span><a href="#39923084">next</a><span>|</span><label class="collapse" for="c-39922527">[-]</label><label class="expand" for="c-39922527">[2 more]</label></div><br/><div class="children"><div class="content">This has nothing to do with Ultra HDR. It&#x27;s &quot;simply&quot; a better JPEG encoder.<p>Ultra HDR is a standard SDR JPEG + a gain map that allows the construction of an HDR version. Specifically it&#x27;s an implementation of Adobe&#x27;s Gain Map specification, with some extra (seemingly pointless) Google bits.
Adobe gain Map: <a href="https:&#x2F;&#x2F;helpx.adobe.com&#x2F;camera-raw&#x2F;using&#x2F;gain-map.html" rel="nofollow">https:&#x2F;&#x2F;helpx.adobe.com&#x2F;camera-raw&#x2F;using&#x2F;gain-map.html</a></div><br/><div id="39922551" class="c"><input type="checkbox" id="c-39922551" checked=""/><div class="controls bullet"><span class="by">mgraczyk</span><span>|</span><a href="#39922226">root</a><span>|</span><a href="#39922527">parent</a><span>|</span><a href="#39923084">next</a><span>|</span><label class="collapse" for="c-39922551">[-]</label><label class="expand" for="c-39922551">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I was on the team that did Ultra HDR at Google so I was curious if it was being used here. Didn&#x27;t see anything in the code though so that makes sense.</div><br/></div></div></div></div><div id="39923084" class="c"><input type="checkbox" id="c-39923084" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39922226">parent</a><span>|</span><a href="#39922527">prev</a><span>|</span><a href="#39921349">next</a><span>|</span><label class="collapse" for="c-39923084">[-]</label><label class="expand" for="c-39923084">[3 more]</label></div><br/><div class="children"><div class="content">Ultra HDR can have two jpegs inside, one for the usual image and another for the gain-map.<p>Hypothetically, both jpegs can be created with jpegli.<p>Hypothetically, both Ultra HDR jpegs can be decoded with jpegli.<p>In theory jpegli would remove the 8 bit striping that would otherwise be present in Ultra HDR.<p>I am not aware of jpegli-based Ultra HDR implementations.<p>A personal preference for me would be a single Jpegli JPEG and very fast great local tone mapping (HDR source, tone mapping to SDR). Some industry experts are excited about Ultra HDR, but I consider it is likely too complicated to get right in editing software and automated image processing pipelines.</div><br/><div id="39927166" class="c"><input type="checkbox" id="c-39927166" checked=""/><div class="controls bullet"><span class="by">Zardoz84</span><span>|</span><a href="#39922226">root</a><span>|</span><a href="#39923084">parent</a><span>|</span><a href="#39921349">next</a><span>|</span><label class="collapse" for="c-39927166">[-]</label><label class="expand" for="c-39927166">[2 more]</label></div><br/><div class="children"><div class="content">What is the point of that complexity if JPEG XL can store HDR images ?</div><br/><div id="39927332" class="c"><input type="checkbox" id="c-39927332" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39922226">root</a><span>|</span><a href="#39927166">parent</a><span>|</span><a href="#39921349">next</a><span>|</span><label class="collapse" for="c-39927332">[-]</label><label class="expand" for="c-39927332">[1 more]</label></div><br/><div class="children"><div class="content">The main idea why Ultra HDR is done like that is that the content creator (photographer) can control the local tone mapping. I think.</div><br/></div></div></div></div></div></div></div></div><div id="39921349" class="c"><input type="checkbox" id="c-39921349" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39922226">prev</a><span>|</span><a href="#39921365">next</a><span>|</span><label class="collapse" for="c-39921349">[-]</label><label class="expand" for="c-39921349">[20 more]</label></div><br/><div class="children"><div class="content">&gt; High quality results. When images are compressed or decompressed through Jpegli, more precise and psychovisually effective computations are performed and images will look clearer and have fewer observable artifacts.<p>Does anyone have a link to any example images that illustrate this improvement? I guess the examples would need to be encoded in some other lossless image format so I can reliably view them on my computer.</div><br/><div id="39921448" class="c"><input type="checkbox" id="c-39921448" checked=""/><div class="controls bullet"><span class="by">n2d4</span><span>|</span><a href="#39921349">parent</a><span>|</span><a href="#39922214">next</a><span>|</span><label class="collapse" for="c-39921448">[-]</label><label class="expand" for="c-39921448">[14 more]</label></div><br/><div class="children"><div class="content">You can find them in the mucped23.zip file linked here (encoded as PNG): <a href="https:&#x2F;&#x2F;github.com&#x2F;google-research&#x2F;google-research&#x2F;tree&#x2F;master&#x2F;mucped23#results">https:&#x2F;&#x2F;github.com&#x2F;google-research&#x2F;google-research&#x2F;tree&#x2F;mast...</a></div><br/><div id="39921744" class="c"><input type="checkbox" id="c-39921744" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921448">parent</a><span>|</span><a href="#39921751">next</a><span>|</span><label class="collapse" for="c-39921744">[-]</label><label class="expand" for="c-39921744">[10 more]</label></div><br/><div class="children"><div class="content">Thanks - I downloaded that zip file (460MB!) and extracted one of the examples into a Gist: <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f32e" rel="nofollow">https:&#x2F;&#x2F;gist.github.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f...</a><p>Here&#x27;s an original: <a href="https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f32e&#x2F;raw&#x2F;4dba2c12cde6b9d1f5afccff36fccc2ad57fcbb7&#x2F;originals-1624487.png" rel="nofollow">https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560...</a><p>And the jpegli-q95- version: <a href="https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f32e&#x2F;raw&#x2F;4dba2c12cde6b9d1f5afccff36fccc2ad57fcbb7&#x2F;jpegli-q95-yuv444-1624487.png" rel="nofollow">https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560...</a><p>And the same thing with mozjpeg-a95 <a href="https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f32e&#x2F;raw&#x2F;4dba2c12cde6b9d1f5afccff36fccc2ad57fcbb7&#x2F;mozjpeg-q95-yuv444-1624487.png" rel="nofollow">https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560...</a></div><br/><div id="39922354" class="c"><input type="checkbox" id="c-39922354" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921744">parent</a><span>|</span><a href="#39922278">next</a><span>|</span><label class="collapse" for="c-39922354">[-]</label><label class="expand" for="c-39922354">[1 more]</label></div><br/><div class="children"><div class="content">You shouldn&#x27;t compare the same quality setting across encoders as it&#x27;s not standardized. You have to compare based on file size.</div><br/></div></div><div id="39922278" class="c"><input type="checkbox" id="c-39922278" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921744">parent</a><span>|</span><a href="#39922354">prev</a><span>|</span><a href="#39923678">next</a><span>|</span><label class="collapse" for="c-39922278">[-]</label><label class="expand" for="c-39922278">[2 more]</label></div><br/><div class="children"><div class="content">They&#x27;re far too high quality to tell anything. There&#x27;s no point comparing visually lossless images (inb4 &quot;I am amazing and can easily tell...&quot;).</div><br/><div id="39926035" class="c"><input type="checkbox" id="c-39926035" checked=""/><div class="controls bullet"><span class="by">deanresin</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39922278">parent</a><span>|</span><a href="#39923678">next</a><span>|</span><label class="collapse" for="c-39926035">[-]</label><label class="expand" for="c-39926035">[1 more]</label></div><br/><div class="children"><div class="content">Right?  I had all 3 open and quickly flipped over them saw no difference.  Maybe I&#x27;m just uncultured.</div><br/></div></div></div></div><div id="39923678" class="c"><input type="checkbox" id="c-39923678" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921744">parent</a><span>|</span><a href="#39922278">prev</a><span>|</span><a href="#39922008">next</a><span>|</span><label class="collapse" for="c-39923678">[-]</label><label class="expand" for="c-39923678">[2 more]</label></div><br/><div class="children"><div class="content">Perhaps try quality settings in the 70 range, and comparable output file sizes. 95 will be high-quality by definition.</div><br/><div id="39923718" class="c"><input type="checkbox" id="c-39923718" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39923678">parent</a><span>|</span><a href="#39922008">next</a><span>|</span><label class="collapse" for="c-39923718">[-]</label><label class="expand" for="c-39923718">[1 more]</label></div><br/><div class="children"><div class="content">There are some 70s and 65s in the gist: <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f32e" rel="nofollow">https:&#x2F;&#x2F;gist.github.com&#x2F;simonw&#x2F;5a8054f18f9ea3c560b628b16b00f...</a></div><br/></div></div></div></div><div id="39922008" class="c"><input type="checkbox" id="c-39922008" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921744">parent</a><span>|</span><a href="#39923678">prev</a><span>|</span><a href="#39921751">next</a><span>|</span><label class="collapse" for="c-39922008">[-]</label><label class="expand" for="c-39922008">[4 more]</label></div><br/><div class="children"><div class="content">What are the file sizes for those two?</div><br/><div id="39922319" class="c"><input type="checkbox" id="c-39922319" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39922008">parent</a><span>|</span><a href="#39922067">next</a><span>|</span><label class="collapse" for="c-39922319">[-]</label><label class="expand" for="c-39922319">[1 more]</label></div><br/><div class="children"><div class="content">The zip file doesn&#x27;t have the originals, just the PNGs.</div><br/></div></div><div id="39922067" class="c"><input type="checkbox" id="c-39922067" checked=""/><div class="controls bullet"><span class="by">edflsafoiewq</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39922008">parent</a><span>|</span><a href="#39922319">prev</a><span>|</span><a href="#39921751">next</a><span>|</span><label class="collapse" for="c-39922067">[-]</label><label class="expand" for="c-39922067">[2 more]</label></div><br/><div class="children"><div class="content">Edit: I&#x27;m dumb.</div><br/><div id="39922170" class="c"><input type="checkbox" id="c-39922170" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39922067">parent</a><span>|</span><a href="#39921751">next</a><span>|</span><label class="collapse" for="c-39922170">[-]</label><label class="expand" for="c-39922170">[1 more]</label></div><br/><div class="children"><div class="content">I would hope the jpegs compress better than png does.</div><br/></div></div></div></div></div></div></div></div><div id="39921751" class="c"><input type="checkbox" id="c-39921751" checked=""/><div class="controls bullet"><span class="by">masfuerte</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921448">parent</a><span>|</span><a href="#39921744">prev</a><span>|</span><a href="#39922214">next</a><span>|</span><label class="collapse" for="c-39921751">[-]</label><label class="expand" for="c-39921751">[3 more]</label></div><br/><div class="children"><div class="content">You said linked but like a fool I went looking for a zip in the repository.  This is the link:<p><a href="https:&#x2F;&#x2F;cloudinary.com&#x2F;labs&#x2F;cid22&#x2F;mucped23.zip" rel="nofollow">https:&#x2F;&#x2F;cloudinary.com&#x2F;labs&#x2F;cid22&#x2F;mucped23.zip</a> (460MB)</div><br/><div id="39921791" class="c"><input type="checkbox" id="c-39921791" checked=""/><div class="controls bullet"><span class="by">n2d4</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921751">parent</a><span>|</span><a href="#39922214">next</a><span>|</span><label class="collapse" for="c-39921791">[-]</label><label class="expand" for="c-39921791">[2 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t blame you, my comment originally didn&#x27;t have the word &quot;linked&quot;, I edited that in after I realized the potential misunderstanding. Maybe you saw it before the edit. My bad.</div><br/><div id="39921939" class="c"><input type="checkbox" id="c-39921939" checked=""/><div class="controls bullet"><span class="by">masfuerte</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39921791">parent</a><span>|</span><a href="#39922214">next</a><span>|</span><label class="collapse" for="c-39921939">[-]</label><label class="expand" for="c-39921939">[1 more]</label></div><br/><div class="children"><div class="content">Ha ha!  No worries.  I thought it had changed but I frequently skim read and miss things so I wasn&#x27;t sure.</div><br/></div></div></div></div></div></div></div></div><div id="39922214" class="c"><input type="checkbox" id="c-39922214" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921349">parent</a><span>|</span><a href="#39921448">prev</a><span>|</span><a href="#39922175">next</a><span>|</span><label class="collapse" for="c-39922214">[-]</label><label class="expand" for="c-39922214">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;twitter.com&#x2F;jyzg&#x2F;status&#x2F;1622890389068718080" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;jyzg&#x2F;status&#x2F;1622890389068718080</a><p>Some earlier results. Perhaps these were with XYB color space, I don&#x27;t remember ...</div><br/></div></div><div id="39922175" class="c"><input type="checkbox" id="c-39922175" checked=""/><div class="controls bullet"><span class="by">andrewla</span><span>|</span><a href="#39921349">parent</a><span>|</span><a href="#39922214">prev</a><span>|</span><a href="#39921365">next</a><span>|</span><label class="collapse" for="c-39922175">[-]</label><label class="expand" for="c-39922175">[4 more]</label></div><br/><div class="children"><div class="content">As an aside, jpeg is lossless on decode -- once encoded, all decoders will render the same pixels. Since this library produces a valid jpeg file, it should be possible to directly compare the two jpegs.</div><br/><div id="39926004" class="c"><input type="checkbox" id="c-39926004" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39922175">parent</a><span>|</span><a href="#39922229">next</a><span>|</span><label class="collapse" for="c-39926004">[-]</label><label class="expand" for="c-39926004">[2 more]</label></div><br/><div class="children"><div class="content">&gt; all decoders will render the same pixels<p>Not true. Even just within libjpeg, there are three different IDCT implementations (jidctflt.c, jidctfst.c, jidctint.c) and they produce different pixels (it&#x27;s a classic speed vs quality trade-off). It&#x27;s spec-compliant to choose any of those.<p>A few years ago, in libjpeg-turbo, they changed the smoothing kernel used for decoding (incomplete) progressive JPEGs, from a 3x3 window to 5x5. This meant the decoder produced different pixels, but again, that&#x27;s still valid:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;libjpeg-turbo&#x2F;libjpeg-turbo&#x2F;commit&#x2F;6d91e950c871103a11bac2f10c63bf998796c719">https:&#x2F;&#x2F;github.com&#x2F;libjpeg-turbo&#x2F;libjpeg-turbo&#x2F;commit&#x2F;6d91e9...</a></div><br/><div id="39926476" class="c"><input type="checkbox" id="c-39926476" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39926004">parent</a><span>|</span><a href="#39922229">next</a><span>|</span><label class="collapse" for="c-39926476">[-]</label><label class="expand" for="c-39926476">[1 more]</label></div><br/><div class="children"><div class="content">Moritz, the author of that improvement, implemented the same for jpegli.<p>I believe the standard does not specify what the intermediate progressive renderings should look like.<p>I developed that interpolation mechanism originally for Pik, and Moritz was able to formulate it directly in the DCT space so that we don&#x27;t need to go into pixels for the smoothing to happen, but he computed it using a few of the low frequency DCT coefficients.</div><br/></div></div></div></div><div id="39922229" class="c"><input type="checkbox" id="c-39922229" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921349">root</a><span>|</span><a href="#39922175">parent</a><span>|</span><a href="#39926004">prev</a><span>|</span><a href="#39921365">next</a><span>|</span><label class="collapse" for="c-39922229">[-]</label><label class="expand" for="c-39922229">[1 more]</label></div><br/><div class="children"><div class="content">It is approximately correct. The rendering is standards compliant without pixel perfection and most decoders make different compromises and render slightly different pixels.</div><br/></div></div></div></div></div></div><div id="39921365" class="c"><input type="checkbox" id="c-39921365" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921349">prev</a><span>|</span><a href="#39921920">next</a><span>|</span><label class="collapse" for="c-39921365">[-]</label><label class="expand" for="c-39921365">[28 more]</label></div><br/><div class="children"><div class="content">They&#x27;ll do literally anything rather than implementing JPEG XL over AVIF in Chrome, huh?<p>I mean, of course this is still valuable (JPEG-only consumers will probably be around for decades, just like MP3-only players), and I realize Google is a large company, but man, the optics on this...</div><br/><div id="39921570" class="c"><input type="checkbox" id="c-39921570" checked=""/><div class="controls bullet"><span class="by">whywhywhywhy</span><span>|</span><a href="#39921365">parent</a><span>|</span><a href="#39921783">next</a><span>|</span><label class="collapse" for="c-39921570">[-]</label><label class="expand" for="c-39921570">[9 more]</label></div><br/><div class="children"><div class="content">If you do creative work countless tools just don’t support webp, AVIF or HEIF.<p>It’s so prominent running into files you can’t open in your tools that I have a right click convert to PNG context menu</div><br/><div id="39921759" class="c"><input type="checkbox" id="c-39921759" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921570">parent</a><span>|</span><a href="#39921783">next</a><span>|</span><label class="collapse" for="c-39921759">[-]</label><label class="expand" for="c-39921759">[8 more]</label></div><br/><div class="children"><div class="content">They don’t support it because Chromium doesn’t.<p>Because Chromium doesn’t support it, Electron doesn’t.<p>Because Electron doesn’t, Teams and other modern web apps and web sites don’t either, etc…<p>If Google just added JPEG XL support instead then it would be… a supported alternative to JPEG.<p>You’re saying working in that is a waste of time because… it’s not supported.</div><br/><div id="39922402" class="c"><input type="checkbox" id="c-39922402" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921759">parent</a><span>|</span><a href="#39921907">next</a><span>|</span><label class="collapse" for="c-39922402">[-]</label><label class="expand" for="c-39922402">[5 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a lot more to format support than Chromium. There&#x27;s a pretty strong meme out there on the Internet that webp is evil despite being supported in all browsers for years because there&#x27;s still a lot of software out there that never added support and people get annoyed when an image fails to open.</div><br/><div id="39922900" class="c"><input type="checkbox" id="c-39922900" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39922402">parent</a><span>|</span><a href="#39924271">next</a><span>|</span><label class="collapse" for="c-39922900">[-]</label><label class="expand" for="c-39922900">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think it&#x27;s evil, but I just don&#x27;t think it&#x27;s very good either.<p>And a graphics format better be damn good (i.e. much, not just a little bit, better than what it&#x27;s hoping to replace) if it aspires to become widely supported across applications, operating systems, libraries etc.</div><br/></div></div><div id="39924271" class="c"><input type="checkbox" id="c-39924271" checked=""/><div class="controls bullet"><span class="by">jug</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39922402">parent</a><span>|</span><a href="#39922900">prev</a><span>|</span><a href="#39922541">next</a><span>|</span><label class="collapse" for="c-39924271">[-]</label><label class="expand" for="c-39924271">[1 more]</label></div><br/><div class="children"><div class="content">At least now with Jpegli, this will surely be the nail in the coffin for WebP?<p>The article has 35% compression improvements over JPEG mentioned and that&#x27;s at least as much as usually thrown around when discussing WebP.</div><br/></div></div><div id="39922541" class="c"><input type="checkbox" id="c-39922541" checked=""/><div class="controls bullet"><span class="by">redeeman</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39922402">parent</a><span>|</span><a href="#39924271">prev</a><span>|</span><a href="#39921907">next</a><span>|</span><label class="collapse" for="c-39922541">[-]</label><label class="expand" for="c-39922541">[2 more]</label></div><br/><div class="children"><div class="content">maybe proprietary software just isnt so good?</div><br/></div></div></div></div><div id="39921907" class="c"><input type="checkbox" id="c-39921907" checked=""/><div class="controls bullet"><span class="by">n2d4</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921759">parent</a><span>|</span><a href="#39922402">prev</a><span>|</span><a href="#39921783">next</a><span>|</span><label class="collapse" for="c-39921907">[-]</label><label class="expand" for="c-39921907">[2 more]</label></div><br/><div class="children"><div class="content">Chromium does support WebP and AVIF, yet parent&#x27;s tools don&#x27;t.</div><br/><div id="39923915" class="c"><input type="checkbox" id="c-39923915" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921907">parent</a><span>|</span><a href="#39921783">next</a><span>|</span><label class="collapse" for="c-39923915">[-]</label><label class="expand" for="c-39923915">[1 more]</label></div><br/><div class="children"><div class="content">Maybe because WebP and AVIF are actually not that great image formats. WebP has been critiqued as a very mediocre improvement over JPEG all the way since its introduction.<p>These formats are in Chromium because of Google politics, not because of their technical merit.</div><br/></div></div></div></div></div></div></div></div><div id="39921783" class="c"><input type="checkbox" id="c-39921783" checked=""/><div class="controls bullet"><span class="by">dchest</span><span>|</span><a href="#39921365">parent</a><span>|</span><a href="#39921570">prev</a><span>|</span><a href="#39925936">next</a><span>|</span><label class="collapse" for="c-39921783">[-]</label><label class="expand" for="c-39921783">[3 more]</label></div><br/><div class="children"><div class="content">Some authors of this are also the authors of JPEG XL.</div><br/><div id="39921903" class="c"><input type="checkbox" id="c-39921903" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921783">parent</a><span>|</span><a href="#39925936">next</a><span>|</span><label class="collapse" for="c-39921903">[-]</label><label class="expand" for="c-39921903">[2 more]</label></div><br/><div class="children"><div class="content">I saw that. It&#x27;s the tragedy of Google in a nutshell: Great things are being worked on in some departments, but organizational dysfunction virtually ensures that the majority of them will not end up in users&#x27; hands (or at least not for long).</div><br/><div id="39925588" class="c"><input type="checkbox" id="c-39925588" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921903">parent</a><span>|</span><a href="#39925936">next</a><span>|</span><label class="collapse" for="c-39925588">[-]</label><label class="expand" for="c-39925588">[1 more]</label></div><br/><div class="children"><div class="content">This is work from Google research outside US. You could even call it a different company with the same name. It is Google US who made those AOM &#x2F; AVIF decisions.</div><br/></div></div></div></div></div></div><div id="39925936" class="c"><input type="checkbox" id="c-39925936" checked=""/><div class="controls bullet"><span class="by">out_of_protocol</span><span>|</span><a href="#39921365">parent</a><span>|</span><a href="#39921783">prev</a><span>|</span><a href="#39921616">next</a><span>|</span><label class="collapse" for="c-39925936">[-]</label><label class="expand" for="c-39925936">[1 more]</label></div><br/><div class="children"><div class="content">Why no blame on Mozilla for ignoring format as well?</div><br/></div></div><div id="39921616" class="c"><input type="checkbox" id="c-39921616" checked=""/><div class="controls bullet"><span class="by">refulgentis</span><span>|</span><a href="#39921365">parent</a><span>|</span><a href="#39925936">prev</a><span>|</span><a href="#39921747">next</a><span>|</span><label class="collapse" for="c-39921616">[-]</label><label class="expand" for="c-39921616">[9 more]</label></div><br/><div class="children"><div class="content">I have no love for Google, at all.<p>It&#x27;s really hard to say this in public, because people are treating it like a divisive &quot;us or them&quot; issue that&#x27;s obvious, but the JPEG-XL stuff is _weird_.<p>I&#x27;ve been in codecs for 15 years, and have never seen as unconstructive behavior like the JPEG-XL work. If I had infinite time and money and it came across my plate, we&#x27;d have a year or two of constructive work to do, so we didn&#x27;t just rush something in with obvious issues and opportunities.<p>It turned into &quot;just figure out how to merge it in, and if you don&#x27;t like it, that&#x27;s malfeasance!&quot; Bread and circus for commentators, maybe, but, actively preventing even foundational elements of a successful effort.</div><br/><div id="39921954" class="c"><input type="checkbox" id="c-39921954" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921616">parent</a><span>|</span><a href="#39922223">next</a><span>|</span><label class="collapse" for="c-39921954">[-]</label><label class="expand" for="c-39921954">[6 more]</label></div><br/><div class="children"><div class="content">To be honest, at Google scale, if there&#x27;s an objectively good new codec with some early signs of excitement and plausible industry traction, and even Apple managed to deploy it to virtually all of their devices (and Apple isn&#x27;t exactly known as an &quot;open codec forward&quot; company), not integrating it does seem like either malfeasance or gross organizational dysfunction to me.</div><br/><div id="39921980" class="c"><input type="checkbox" id="c-39921980" checked=""/><div class="controls bullet"><span class="by">refulgentis</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921954">parent</a><span>|</span><a href="#39922223">next</a><span>|</span><label class="collapse" for="c-39921980">[-]</label><label class="expand" for="c-39921980">[5 more]</label></div><br/><div class="children"><div class="content">Completely hypothetical scenario: what if the technical reaction was so hostile they invested in it themselves to fix the issues and make it sustainable?<p>In light of the recent security incident, I&#x27;d see that completely hypothetical situation as more admirable.</div><br/><div id="39922933" class="c"><input type="checkbox" id="c-39922933" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921980">parent</a><span>|</span><a href="#39923210">next</a><span>|</span><label class="collapse" for="c-39922933">[-]</label><label class="expand" for="c-39922933">[2 more]</label></div><br/><div class="children"><div class="content">Hm, are you suggesting they&#x27;re currently in the process of reimplementing it in a safer and&#x2F;or more maintainable way as part of Chrome?<p>In that case, that would just be extremely bad messaging (which I also wouldn&#x27;t put past Google). Why agitate half of the people on here and in other tech-affine parts of the Internet when they could have just publicly stated that they&#x27;re working on it and to please have some patience?<p>Public support by Google, even if it&#x27;s just in the form of a vague &quot;intent to implement&quot;, would be so important for a nascent JPEG successor.</div><br/><div id="39924176" class="c"><input type="checkbox" id="c-39924176" checked=""/><div class="controls bullet"><span class="by">refulgentis</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39922933">parent</a><span>|</span><a href="#39923210">next</a><span>|</span><label class="collapse" for="c-39924176">[-]</label><label class="expand" for="c-39924176">[1 more]</label></div><br/><div class="children"><div class="content">See comment on peer (TL;DR: I agree, and that&#x27;s the substance of the post we&#x27;re commenting on)</div><br/></div></div></div></div><div id="39923210" class="c"><input type="checkbox" id="c-39923210" checked=""/><div class="controls bullet"><span class="by">LeoNatan25</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921980">parent</a><span>|</span><a href="#39922933">prev</a><span>|</span><a href="#39922223">next</a><span>|</span><label class="collapse" for="c-39923210">[-]</label><label class="expand" for="c-39923210">[2 more]</label></div><br/><div class="children"><div class="content">Your posts here seem of the “just asking questions” variety—no substance other than being counterculture. Do you have any proof or resemblance of any logical reason to think this?</div><br/><div id="39924169" class="c"><input type="checkbox" id="c-39924169" checked=""/><div class="controls bullet"><span class="by">refulgentis</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39923210">parent</a><span>|</span><a href="#39922223">next</a><span>|</span><label class="collapse" for="c-39924169">[-]</label><label class="expand" for="c-39924169">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a gentle joke, it happened, that&#x27;s TFA. (ex. see the other threads re: it started from the JPEG XL repo).<p>I use asking questions as a way to keep contentious discussions on track without being boorish. And you&#x27;re right, it can easily be smarmy instead of Socratic without tone, a la the classic internet sarcasm problem.<p>Gentle note: I only asked one question, and only in the post you replied to.</div><br/></div></div></div></div></div></div></div></div><div id="39922223" class="c"><input type="checkbox" id="c-39922223" checked=""/><div class="controls bullet"><span class="by">F3nd0</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921616">parent</a><span>|</span><a href="#39921954">prev</a><span>|</span><a href="#39925640">next</a><span>|</span><label class="collapse" for="c-39922223">[-]</label><label class="expand" for="c-39922223">[1 more]</label></div><br/><div class="children"><div class="content">Whatever are you referring to? JPEG XL had already been merged into Chromium, prior to being removed again (without a proper reason ever given). As far as I know, the JPEG XL developers have offered to do whatever work was necessary for Chromium specifically, but were never taken up on the offer.<p>Same thing with Firefox, which has had basic support merged into Nightly, and a couple more patches gathering dust due to lack of involvement from the side of Firefox. Mozilla has since decided to take a neutral stance on JPEG XL, seemingly without doing any kind of proper evaluation. Many other programs (like GIMP, Krita, Safari, Affinity, darktable) already support JPEG XL.<p>People are not getting upset because projects don’t invest their resources into supporting JPEG XL. People are getting upset because Google (most notably), which has a decisive say in format interoperability, is flat out refusing to give JPEG XL a fair consideration. If they came up with a list of fair conditions JPEG XL has to meet to earn their support, people could work towards that goal, and if JPEG XL failed to meet them, people would easily come to terms with it. Instead, Google has chosen to apply double standards, present vague requirements, and refuse to elaborate. If anyone is ‘preventing even foundational elements of a successful effort’, it’s Google, or more specifically, the part that’s responsible for Chromium.</div><br/></div></div><div id="39925640" class="c"><input type="checkbox" id="c-39925640" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921616">parent</a><span>|</span><a href="#39922223">prev</a><span>|</span><a href="#39921747">next</a><span>|</span><label class="collapse" for="c-39925640">[-]</label><label class="expand" for="c-39925640">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&quot;just figure out how to merge it in, and if you don&#x27;t like it, that&#x27;s malfeasance!&quot;<p>It isn&#x27;t not accepting it or hostile. That is completely not true.<p>They actively push against JPEG XL, despite all the data, prior to even 1.0 suggest it is or could be better than AVIF in many cases. To the point where they even make up false benchmarks to downplay JPEG XL.<p>Companies were even willing to paid ( wont name ) and put resources into getting JPEG XL because they see it to be so good. But they still refused.<p>It is at this point people thought something doggy is going on. And then not only did Google not explain themselves. They were even more hostile.<p>So why the extra hate? Well partly because this is a company who gave us an over promised WebP and underdelivered.</div><br/></div></div></div></div><div id="39921747" class="c"><input type="checkbox" id="c-39921747" checked=""/><div class="controls bullet"><span class="by">ur-whale</span><span>|</span><a href="#39921365">parent</a><span>|</span><a href="#39921616">prev</a><span>|</span><a href="#39921920">next</a><span>|</span><label class="collapse" for="c-39921747">[-]</label><label class="expand" for="c-39921747">[5 more]</label></div><br/><div class="children"><div class="content">&gt; They&#x27;ll do literally anything rather than implementing JPEG XL over AVIF in Chrome, huh?<p>Before making that kind of claim, I would spend some time looking at the names of the folks who contributed heavily to the development of JPEG XL and the names of the folks who wrote jpegli.</div><br/><div id="39921966" class="c"><input type="checkbox" id="c-39921966" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921747">parent</a><span>|</span><a href="#39921920">next</a><span>|</span><label class="collapse" for="c-39921966">[-]</label><label class="expand" for="c-39921966">[4 more]</label></div><br/><div class="children"><div class="content">By &quot;they&quot; I mean &quot;Google, the organization&quot;, not &quot;the authors of this work&quot;, who most likely have zero say in decisions concerning Chrome.</div><br/><div id="39922159" class="c"><input type="checkbox" id="c-39922159" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39921966">parent</a><span>|</span><a href="#39921920">next</a><span>|</span><label class="collapse" for="c-39922159">[-]</label><label class="expand" for="c-39922159">[3 more]</label></div><br/><div class="children"><div class="content">Chrome advised and inspired this work in their position about JPEG XL.<p>Here: <a href="https:&#x2F;&#x2F;www.mail-archive.com&#x2F;blink-dev@chromium.org&#x2F;msg04351.html" rel="nofollow">https:&#x2F;&#x2F;www.mail-archive.com&#x2F;blink-dev@chromium.org&#x2F;msg04351...</a><p>&quot;can we optimize existing formats to meet any new use-cases, rather than adding support for an additional format&quot;<p>It&#x27;s a yes!<p>Of course full JPEG XL is quite a bit better still, but this helps old compatible JPEG to support HDR without 8-bit banding artefacts or gainmaps, gives a higher bit depth for other uses where more precision is valuable, and quite a bit better compression, too.</div><br/><div id="39923009" class="c"><input type="checkbox" id="c-39923009" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39922159">parent</a><span>|</span><a href="#39922435">next</a><span>|</span><label class="collapse" for="c-39923009">[-]</label><label class="expand" for="c-39923009">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;can we optimize existing formats to meet any new use-cases, rather than adding support for an additional format&quot;<p>Only within pretty narrow limits.<p>Classic JPEG will never be as efficient given its age, in the same way that LAME is doing incredible things for MP3 quality, but any mediocre AAC encoder still blows it out of the water.<p>This is in addition to the things you&#x27;ve already mentioned (HDR) and other new features (support for lossless coding).<p>And I&#x27;d find their sentiment much easier to believe if Google&#x2F;Chrome weren&#x27;t hell-bent on making WebP (or more recently AVIF) a thing themselves! That&#x27;s <i>two</i> formats essentially nobody outside of Google has ever asked for, yet they&#x27;re part of Chrome and Android.</div><br/></div></div><div id="39922435" class="c"><input type="checkbox" id="c-39922435" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39921365">root</a><span>|</span><a href="#39922159">parent</a><span>|</span><a href="#39923009">prev</a><span>|</span><a href="#39921920">next</a><span>|</span><label class="collapse" for="c-39922435">[-]</label><label class="expand" for="c-39922435">[1 more]</label></div><br/><div class="children"><div class="content">Despite the answer being yes, IMO it&#x27;s pretty clear that the question is disingenuous, otherwise why did they add support for WebP and AVIF? The question applies equally to them.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39921920" class="c"><input type="checkbox" id="c-39921920" checked=""/><div class="controls bullet"><span class="by">therealmarv</span><span>|</span><a href="#39921365">prev</a><span>|</span><a href="#39925251">next</a><span>|</span><label class="collapse" for="c-39921920">[-]</label><label class="expand" for="c-39921920">[2 more]</label></div><br/><div class="children"><div class="content">oh, probably we will get it soon in ImageOptim then <a href="https:&#x2F;&#x2F;imageoptim.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;imageoptim.com&#x2F;</a></div><br/><div id="39922260" class="c"><input type="checkbox" id="c-39922260" checked=""/><div class="controls bullet"><span class="by">vladstudio</span><span>|</span><a href="#39921920">parent</a><span>|</span><a href="#39925251">next</a><span>|</span><label class="collapse" for="c-39922260">[-]</label><label class="expand" for="c-39922260">[1 more]</label></div><br/><div class="children"><div class="content">Thanks in advance!</div><br/></div></div></div></div><div id="39925251" class="c"><input type="checkbox" id="c-39925251" checked=""/><div class="controls bullet"><span class="by">atdt</span><span>|</span><a href="#39921920">prev</a><span>|</span><a href="#39921222">next</a><span>|</span><label class="collapse" for="c-39925251">[-]</label><label class="expand" for="c-39925251">[3 more]</label></div><br/><div class="children"><div class="content">When using Jpegli as a drop-in replacement for for libjpeg-turbo (i.e., with the same input bit-map and quality setting), will the output produced by Jpegli be smaller, more beautiful, or both? Are the space savings the result of the Jpegli encoder being able to generate comparable or better-looking images at lower quality settings? I&#x27;d like to understand whether capitalizing on the space efficiency requires any modification the caller code.</div><br/><div id="39926490" class="c"><input type="checkbox" id="c-39926490" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39925251">parent</a><span>|</span><a href="#39925368">next</a><span>|</span><label class="collapse" for="c-39926490">[-]</label><label class="expand" for="c-39926490">[1 more]</label></div><br/><div class="children"><div class="content">The output will be smaller after replacing libjpeg-turbo or mozjpeg with jpegli. You don&#x27;t need to do any code changes.</div><br/></div></div><div id="39925368" class="c"><input type="checkbox" id="c-39925368" checked=""/><div class="controls bullet"><span class="by">pizza</span><span>|</span><a href="#39925251">parent</a><span>|</span><a href="#39926490">prev</a><span>|</span><a href="#39921222">next</a><span>|</span><label class="collapse" for="c-39925368">[-]</label><label class="expand" for="c-39925368">[1 more]</label></div><br/><div class="children"><div class="content">I think the main benefit is a better decorrelation transform so the compression is higher at the same quality parameter. So you could choose whether you want better accuracy for the same quality parameter, or lower the quality parameter and get better fidelity than you would have otherwise. Probably to get both most of the time, just use JPEGXL</div><br/></div></div></div></div><div id="39921222" class="c"><input type="checkbox" id="c-39921222" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#39925251">prev</a><span>|</span><a href="#39920934">next</a><span>|</span><label class="collapse" for="c-39921222">[-]</label><label class="expand" for="c-39921222">[2 more]</label></div><br/><div class="children"><div class="content">This is the kind of realm I&#x27;m fascinated by: taking an existing chunk of something, respecting the established interfaces (ie. not asking everyone to support yet another format), and seeing if you can squeeze out an objectively better implementation.  It&#x27;s such a delicious kind of performance gain because it&#x27;s pretty much a &quot;free lunch&quot; with a very comfortable upgrade story.</div><br/><div id="39922712" class="c"><input type="checkbox" id="c-39922712" checked=""/><div class="controls bullet"><span class="by">terrelln</span><span>|</span><a href="#39921222">parent</a><span>|</span><a href="#39920934">next</a><span>|</span><label class="collapse" for="c-39922712">[-]</label><label class="expand" for="c-39922712">[1 more]</label></div><br/><div class="children"><div class="content">I agree, this is a very exciting direction. We shouldn’t let existing formats stifle innovation, but there is a lot of value in back porting modern techniques to existing encoders.</div><br/></div></div></div></div><div id="39920934" class="c"><input type="checkbox" id="c-39920934" checked=""/><div class="controls bullet"><span class="by">xfalcox</span><span>|</span><a href="#39921222">prev</a><span>|</span><a href="#39921105">next</a><span>|</span><label class="collapse" for="c-39920934">[-]</label><label class="expand" for="c-39920934">[4 more]</label></div><br/><div class="children"><div class="content">Does anyone have compiled this to WASM? I&#x27;m currently using MozJPEG via WASM for a project and would love to test replacing it by Jpegli.</div><br/><div id="39921372" class="c"><input type="checkbox" id="c-39921372" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39920934">parent</a><span>|</span><a href="#39923166">next</a><span>|</span><label class="collapse" for="c-39921372">[-]</label><label class="expand" for="c-39921372">[1 more]</label></div><br/><div class="children"><div class="content">A WASM demo of this would be fantastic, would make it much easier for people to try it out.<p>Maybe a fork of <a href="https:&#x2F;&#x2F;squoosh.app&#x2F;" rel="nofollow">https:&#x2F;&#x2F;squoosh.app&#x2F;</a> ? The code for that is <a href="https:&#x2F;&#x2F;github.com&#x2F;GoogleChromeLabs&#x2F;squoosh">https:&#x2F;&#x2F;github.com&#x2F;GoogleChromeLabs&#x2F;squoosh</a></div><br/></div></div><div id="39923166" class="c"><input type="checkbox" id="c-39923166" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#39920934">parent</a><span>|</span><a href="#39921372">prev</a><span>|</span><a href="#39921105">next</a><span>|</span><label class="collapse" for="c-39923166">[-]</label><label class="expand" for="c-39923166">[2 more]</label></div><br/><div class="children"><div class="content">Just for my own edification, why would there be any trouble compiling portable high-level libraries to target WASM?</div><br/><div id="39923480" class="c"><input type="checkbox" id="c-39923480" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#39920934">root</a><span>|</span><a href="#39923166">parent</a><span>|</span><a href="#39921105">next</a><span>|</span><label class="collapse" for="c-39923480">[-]</label><label class="expand" for="c-39923480">[1 more]</label></div><br/><div class="children"><div class="content">Maybe it uses threads.</div><br/></div></div></div></div></div></div><div id="39921105" class="c"><input type="checkbox" id="c-39921105" checked=""/><div class="controls bullet"><span class="by">theanonymousone</span><span>|</span><a href="#39920934">prev</a><span>|</span><a href="#39922592">next</a><span>|</span><label class="collapse" for="c-39921105">[-]</label><label class="expand" for="c-39921105">[8 more]</label></div><br/><div class="children"><div class="content">Is that from Google Zürich?</div><br/><div id="39921178" class="c"><input type="checkbox" id="c-39921178" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921105">parent</a><span>|</span><a href="#39922592">next</a><span>|</span><label class="collapse" for="c-39921178">[-]</label><label class="expand" for="c-39921178">[7 more]</label></div><br/><div class="children"><div class="content">Yes!</div><br/><div id="39921299" class="c"><input type="checkbox" id="c-39921299" checked=""/><div class="controls bullet"><span class="by">veselin</span><span>|</span><a href="#39921105">root</a><span>|</span><a href="#39921178">parent</a><span>|</span><a href="#39921870">next</a><span>|</span><label class="collapse" for="c-39921299">[-]</label><label class="expand" for="c-39921299">[4 more]</label></div><br/><div class="children"><div class="content">When I saw the name, I knew immediately this is Jyrki&#x27;s work.</div><br/><div id="39921714" class="c"><input type="checkbox" id="c-39921714" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#39921105">root</a><span>|</span><a href="#39921299">parent</a><span>|</span><a href="#39921870">next</a><span>|</span><label class="collapse" for="c-39921714">[-]</label><label class="expand" for="c-39921714">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m waiting for huaraJPEG...</div><br/><div id="39922543" class="c"><input type="checkbox" id="c-39922543" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#39921105">root</a><span>|</span><a href="#39921714">parent</a><span>|</span><a href="#39921870">next</a><span>|</span><label class="collapse" for="c-39922543">[-]</label><label class="expand" for="c-39922543">[2 more]</label></div><br/><div class="children"><div class="content">what is that?</div><br/><div id="39922607" class="c"><input type="checkbox" id="c-39922607" checked=""/><div class="controls bullet"><span class="by">mensi</span><span>|</span><a href="#39921105">root</a><span>|</span><a href="#39922543">parent</a><span>|</span><a href="#39921870">next</a><span>|</span><label class="collapse" for="c-39922607">[-]</label><label class="expand" for="c-39922607">[1 more]</label></div><br/><div class="children"><div class="content">a much ruder but just as stereotypically Swiss German thing as the &quot;-li&quot; suffix ;)</div><br/></div></div></div></div></div></div></div></div><div id="39921870" class="c"><input type="checkbox" id="c-39921870" checked=""/><div class="controls bullet"><span class="by">thaliaarchi</span><span>|</span><a href="#39921105">root</a><span>|</span><a href="#39921178">parent</a><span>|</span><a href="#39921299">prev</a><span>|</span><a href="#39922592">next</a><span>|</span><label class="collapse" for="c-39921870">[-]</label><label class="expand" for="c-39921870">[2 more]</label></div><br/><div class="children"><div class="content">I’ve never heard of a Jpegli bread, but Zöpfli and Brötli sure are yummy :)</div><br/><div id="39922257" class="c"><input type="checkbox" id="c-39922257" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921105">root</a><span>|</span><a href="#39921870">parent</a><span>|</span><a href="#39922592">next</a><span>|</span><label class="collapse" for="c-39922257">[-]</label><label class="expand" for="c-39922257">[1 more]</label></div><br/><div class="children"><div class="content">I thought clarity was more important.<p>Otherwise it would be called ... Pumpernikkeli.</div><br/></div></div></div></div></div></div></div></div><div id="39922592" class="c"><input type="checkbox" id="c-39922592" checked=""/><div class="controls bullet"><span class="by">lars_thomas</span><span>|</span><a href="#39921105">prev</a><span>|</span><a href="#39922655">next</a><span>|</span><label class="collapse" for="c-39922592">[-]</label><label class="expand" for="c-39922592">[6 more]</label></div><br/><div class="children"><div class="content">Sorry for perhaps missing it but it states &quot;It provides both a fully interoperable encoder and decoder complying with the original JPEG standard&quot;. Does that mean that jpegli-encoded images can be decoded by all jpeg decoders? But it will not have the same quality?</div><br/><div id="39922627" class="c"><input type="checkbox" id="c-39922627" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39922592">parent</a><span>|</span><a href="#39922655">next</a><span>|</span><label class="collapse" for="c-39922627">[-]</label><label class="expand" for="c-39922627">[5 more]</label></div><br/><div class="children"><div class="content">Jpegli encoded images decode just fine with any JPEG decoder, and will still be of great quality. All the tests were done with libjpeg-turbo as the decoder. Using Jpegli for decoding gives you a bit better quality and potentially higher bit depth.</div><br/><div id="39922727" class="c"><input type="checkbox" id="c-39922727" checked=""/><div class="controls bullet"><span class="by">lars_thomas</span><span>|</span><a href="#39922592">root</a><span>|</span><a href="#39922627">parent</a><span>|</span><a href="#39922675">next</a><span>|</span><label class="collapse" for="c-39922727">[-]</label><label class="expand" for="c-39922727">[3 more]</label></div><br/><div class="children"><div class="content">Thanks, sounds great! Not sure if you are part of the research team but a follow up question nevertheless. Learning from JpegXL, what would it take to develop another widely supported image format? Would the research stage already need to be carried out as a multi-corporate effort?</div><br/><div id="39922941" class="c"><input type="checkbox" id="c-39922941" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39922592">root</a><span>|</span><a href="#39922727">parent</a><span>|</span><a href="#39922897">next</a><span>|</span><label class="collapse" for="c-39922941">[-]</label><label class="expand" for="c-39922941">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Not sure if you are part of the research team but a follow up question nevertheless.<p>I am not.<p>&gt; what would it take to develop another widely supported image format? Would the research stage already need to be carried out as a multi-corporate effort?<p>I believe JXL will be very successful sooner or later, it already has a lot more support than many other attempts at new image formats.<p>But in general, the main way to get fast adoption on the web is to have Chromium&#x27;s codec team be the main developers.</div><br/></div></div><div id="39922897" class="c"><input type="checkbox" id="c-39922897" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39922592">root</a><span>|</span><a href="#39922727">parent</a><span>|</span><a href="#39922941">prev</a><span>|</span><a href="#39922675">next</a><span>|</span><label class="collapse" for="c-39922897">[-]</label><label class="expand" for="c-39922897">[1 more]</label></div><br/><div class="children"><div class="content">Multi-corporate effort would likely need to start by first agreeing what is image quality.<p>Image quality folks are more cautious and tradition-centric than codec devs, so quite an initial effort would be needed to use something as advanced and risky as butteraugli, ssimulacra or XYB. With traditional objective metrics it would be very difficult to make a competing format as they would start with a 10–15 % disadvantage.<p>So, I think it is not easy and would need substantial investment.</div><br/></div></div></div></div><div id="39922675" class="c"><input type="checkbox" id="c-39922675" checked=""/><div class="controls bullet"><span class="by">01HNNWZ0MV43FF</span><span>|</span><a href="#39922592">root</a><span>|</span><a href="#39922627">parent</a><span>|</span><a href="#39922727">prev</a><span>|</span><a href="#39922655">next</a><span>|</span><label class="collapse" for="c-39922675">[-]</label><label class="expand" for="c-39922675">[1 more]</label></div><br/><div class="children"><div class="content">Sort of like the quality vs. speed settings on libx264, I suppose jpegli aims to push the Pareto boundary on both quality and speed without changing the decode spec</div><br/></div></div></div></div></div></div><div id="39922655" class="c"><input type="checkbox" id="c-39922655" checked=""/><div class="controls bullet"><span class="by">edent</span><span>|</span><a href="#39922592">prev</a><span>|</span><a href="#39921108">next</a><span>|</span><label class="collapse" for="c-39922655">[-]</label><label class="expand" for="c-39922655">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to know what &quot;Paradigms of Intelligence&quot; means in this context.</div><br/><div id="39922810" class="c"><input type="checkbox" id="c-39922810" checked=""/><div class="controls bullet"><span class="by">larodi</span><span>|</span><a href="#39922655">parent</a><span>|</span><a href="#39921108">next</a><span>|</span><label class="collapse" for="c-39922810">[-]</label><label class="expand" for="c-39922810">[1 more]</label></div><br/><div class="children"><div class="content">I would&#x27;ve loved to see side-by-side comparison... after all we talk visuals here, right? So as this old saying goes: a hand to touch, an eye to see.<p>Not underestimating the value in this, but the presentation is very weak.</div><br/></div></div></div></div><div id="39921108" class="c"><input type="checkbox" id="c-39921108" checked=""/><div class="controls bullet"><span class="by">p0nce</span><span>|</span><a href="#39922655">prev</a><span>|</span><a href="#39921831">next</a><span>|</span><label class="collapse" for="c-39921108">[-]</label><label class="expand" for="c-39921108">[5 more]</label></div><br/><div class="children"><div class="content">Wonder how it compares to guetzli, which is good albeit slow (by Google also!).</div><br/><div id="39921170" class="c"><input type="checkbox" id="c-39921170" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921108">parent</a><span>|</span><a href="#39924589">next</a><span>|</span><label class="collapse" for="c-39921170">[-]</label><label class="expand" for="c-39921170">[3 more]</label></div><br/><div class="children"><div class="content">I believe guetzli is slightly more robust around quality 94, but jpegli likely better at or equal at lower qualities like below 85. Jpegli is likely about 1000x faster and still good.</div><br/><div id="39925866" class="c"><input type="checkbox" id="c-39925866" checked=""/><div class="controls bullet"><span class="by">ronjouch</span><span>|</span><a href="#39921108">root</a><span>|</span><a href="#39921170">parent</a><span>|</span><a href="#39924589">next</a><span>|</span><label class="collapse" for="c-39925866">[-]</label><label class="expand" for="c-39925866">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s my experience, yes. Just tested it on a 750kB 1080p image with detailed areas and areas with gradients. Highly unscientific, N=1 results:<p>- Guetzli at q=84 (the minimum allowed by Guetzli) takes 47s and produces a 403kB image.<p>- Jpegli at q=84 takes 73ms (MILLIseconds) and produces a mostly-indistinguishable 418kB image. &quot;Mostly&quot; because:<p>A. it&#x27;s possible to find areas with subtle color gradients where Guetzli does a better job at keeping it smooth over a large area.<p>B. &quot;Little specks&quot; show a bit more &quot;typical JPG color-mush artifacting&quot; around the speck with Jpegli than Guetzli, which stays remarkably close to the original<p>Also, compared to the usual encoder I&#x27;m used to (e.g. the one in GIMP, libjpeg maybe?), Jpegli seems to degrade pretty well going into lower qualities (q=80, q=70, q=60). Qualities lower than q=84 are not even <i>allowed</i> by Guetzli (unless you do a custom build).<p>I&#x27;m immediately switching my &quot;smallify jpg&quot; Nautilus script from Guetzli to Jpegli. The dog-slowness of Guetzli used to be tolerable when there was no close contender, but now it feels unjustified in comparison to the instant darn excellent result of Jpegli.</div><br/><div id="39926536" class="c"><input type="checkbox" id="c-39926536" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921108">root</a><span>|</span><a href="#39925866">parent</a><span>|</span><a href="#39924589">next</a><span>|</span><label class="collapse" for="c-39926536">[-]</label><label class="expand" for="c-39926536">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for such a well-informed report!<p>With guetzli I added manually overprovisioning for slow smooth gradients. If you have an example where guetzli is better with gradients you could post an issue with a sample image. That would help us to potentially fix it for jpegli, too.</div><br/></div></div></div></div></div></div><div id="39924589" class="c"><input type="checkbox" id="c-39924589" checked=""/><div class="controls bullet"><span class="by">donatj</span><span>|</span><a href="#39921108">parent</a><span>|</span><a href="#39921170">prev</a><span>|</span><a href="#39921831">next</a><span>|</span><label class="collapse" for="c-39924589">[-]</label><label class="expand" for="c-39924589">[1 more]</label></div><br/><div class="children"><div class="content">I was wondering the same thing. We have a system that guetzli&#x27;s some of our heavily used assets but it takes SOOOOOO long</div><br/></div></div></div></div><div id="39921831" class="c"><input type="checkbox" id="c-39921831" checked=""/><div class="controls bullet"><span class="by">ctz</span><span>|</span><a href="#39921108">prev</a><span>|</span><a href="#39921785">next</a><span>|</span><label class="collapse" for="c-39921831">[-]</label><label class="expand" for="c-39921831">[3 more]</label></div><br/><div class="children"><div class="content">From the people who bought you WebP CVE-2023-41064&#x2F;CVE-2023-4863...</div><br/><div id="39921869" class="c"><input type="checkbox" id="c-39921869" checked=""/><div class="controls bullet"><span class="by">vanderZwan</span><span>|</span><a href="#39921831">parent</a><span>|</span><a href="#39921785">next</a><span>|</span><label class="collapse" for="c-39921869">[-]</label><label class="expand" for="c-39921869">[2 more]</label></div><br/><div class="children"><div class="content">No, these are not the WebP people. These are Google&#x27;s JXL people.</div><br/><div id="39921969" class="c"><input type="checkbox" id="c-39921969" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921831">root</a><span>|</span><a href="#39921869">parent</a><span>|</span><a href="#39921785">next</a><span>|</span><label class="collapse" for="c-39921969">[-]</label><label class="expand" for="c-39921969">[1 more]</label></div><br/><div class="children"><div class="content">I designed WebP lossless and implemented the first encoder for it. Zoltan who did most of the implementation work for jpegli wrote the first decoder.</div><br/></div></div></div></div></div></div><div id="39921785" class="c"><input type="checkbox" id="c-39921785" checked=""/><div class="controls bullet"><span class="by">tambourine_man</span><span>|</span><a href="#39921831">prev</a><span>|</span><a href="#39921010">next</a><span>|</span><label class="collapse" for="c-39921785">[-]</label><label class="expand" for="c-39921785">[4 more]</label></div><br/><div class="children"><div class="content">Is there an easy way for us to install and test it?</div><br/><div id="39925828" class="c"><input type="checkbox" id="c-39925828" checked=""/><div class="controls bullet"><span class="by">ronjouch</span><span>|</span><a href="#39921785">parent</a><span>|</span><a href="#39923854">next</a><span>|</span><label class="collapse" for="c-39925828">[-]</label><label class="expand" for="c-39925828">[1 more]</label></div><br/><div class="children"><div class="content">In Arch it&#x27;s packaged in libjxl as &#x2F;usr&#x2F;bin&#x2F;{c,d}jpegli . See <a href="https:&#x2F;&#x2F;archlinux.org&#x2F;packages&#x2F;extra&#x2F;x86_64&#x2F;libjxl&#x2F;" rel="nofollow">https:&#x2F;&#x2F;archlinux.org&#x2F;packages&#x2F;extra&#x2F;x86_64&#x2F;libjxl&#x2F;</a> , section &quot;Package Contents&quot; at the bottom.</div><br/></div></div><div id="39923854" class="c"><input type="checkbox" id="c-39923854" checked=""/><div class="controls bullet"><span class="by">miragecraft</span><span>|</span><a href="#39921785">parent</a><span>|</span><a href="#39925828">prev</a><span>|</span><a href="#39921844">next</a><span>|</span><label class="collapse" for="c-39923854">[-]</label><label class="expand" for="c-39923854">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m currently using it via XL Converter.<p><a href="https:&#x2F;&#x2F;codepoems.eu&#x2F;xl-converter&#x2F;" rel="nofollow">https:&#x2F;&#x2F;codepoems.eu&#x2F;xl-converter&#x2F;</a></div><br/></div></div><div id="39921844" class="c"><input type="checkbox" id="c-39921844" checked=""/><div class="controls bullet"><span class="by">aendruk</span><span>|</span><a href="#39921785">parent</a><span>|</span><a href="#39923854">prev</a><span>|</span><a href="#39921010">next</a><span>|</span><label class="collapse" for="c-39921844">[-]</label><label class="expand" for="c-39921844">[1 more]</label></div><br/><div class="children"><div class="content">nixpkgs unstable (i.e. 24.05) has it at ${libjxl}&#x2F;bin&#x2F;cjpegli</div><br/></div></div></div></div><div id="39921010" class="c"><input type="checkbox" id="c-39921010" checked=""/><div class="controls bullet"><span class="by">cactusplant7374</span><span>|</span><a href="#39921785">prev</a><span>|</span><a href="#39923095">next</a><span>|</span><label class="collapse" for="c-39921010">[-]</label><label class="expand" for="c-39921010">[1 more]</label></div><br/><div class="children"><div class="content">&gt; These heuristics are much faster than a similar approach originally used in guetzli.<p>I liked guetzli but it&#x27;s way too slow to use in production. Glad there is an alternative.</div><br/></div></div><div id="39923095" class="c"><input type="checkbox" id="c-39923095" checked=""/><div class="controls bullet"><span class="by">LeoNatan25</span><span>|</span><a href="#39921010">prev</a><span>|</span><a href="#39921335">next</a><span>|</span><label class="collapse" for="c-39923095">[-]</label><label class="expand" for="c-39923095">[2 more]</label></div><br/><div class="children"><div class="content">&gt; 10+ bits. Jpegli can be encoded with 10+ bits per component. Traditional JPEG coding solutions offer only 8 bit per component dynamics causing visible banding artifacts in slow gradients. Jpegli&#x27;s 10+ bits coding happens in the original 8-bit formalism and the resulting images are fully interoperable with 8-bit viewers. 10+ bit dynamics are available as an API extension and application code changes are needed to benefit from it.<p>So, instead of supporting JPEG XL, this is the nonsense they come up with? Lock-in over a JPEG overlay?</div><br/><div id="39924613" class="c"><input type="checkbox" id="c-39924613" checked=""/><div class="controls bullet"><span class="by">spider-mario</span><span>|</span><a href="#39923095">parent</a><span>|</span><a href="#39921335">next</a><span>|</span><label class="collapse" for="c-39924613">[-]</label><label class="expand" for="c-39924613">[1 more]</label></div><br/><div class="children"><div class="content">This is from the same team as JPEG XL, and there is no lock-in or overlay. It’s just exploiting the existing mechanics better by not doing unnecessary truncation. The new APIs are only required because the existing APIs receive and return 8-bit buffers.</div><br/></div></div></div></div><div id="39921335" class="c"><input type="checkbox" id="c-39921335" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#39923095">prev</a><span>|</span><a href="#39921832">next</a><span>|</span><label class="collapse" for="c-39921335">[-]</label><label class="expand" for="c-39921335">[14 more]</label></div><br/><div class="children"><div class="content">Why is it written in C++, when Google made Wuffs[1] for this exact purpose?<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs</a></div><br/><div id="39921760" class="c"><input type="checkbox" id="c-39921760" checked=""/><div class="controls bullet"><span class="by">vanderZwan</span><span>|</span><a href="#39921335">parent</a><span>|</span><a href="#39922621">next</a><span>|</span><label class="collapse" for="c-39921760">[-]</label><label class="expand" for="c-39921760">[2 more]</label></div><br/><div class="children"><div class="content">This is pure speculation, but I&#x27;m presuming Wuffs is not the easiest language to use during the <i>research</i> phase, but more of a thing you would implement a format in once it has stabilized. And this is freshly published research.<p>Probably would be a good idea to get a port though, if possible, improving both safety and performance sounds like a win to me.</div><br/><div id="39924339" class="c"><input type="checkbox" id="c-39924339" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39921760">parent</a><span>|</span><a href="#39922621">next</a><span>|</span><label class="collapse" for="c-39924339">[-]</label><label class="expand" for="c-39924339">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, you&#x27;re right. It&#x27;s not as easy to write Wuffs code during the research phase, since you don&#x27;t just have to write the code, you also have to help the compiler prove that the code is safe, and sometimes refactor the code to make that tractable.<p>Wuffs doesn&#x27;t support global variables, but when I&#x27;m writing my own research phase code, sometimes I like to just tweak some global state (without checking the code in) just to get some experimental data: hey, how do the numbers change if I disable the blahblah phase when the such-and-such condition (best evaluated in some other part of the code) holds?<p>Also, part of Wuffs&#x27; safety story is that Wuffs code <i>cannot make any syscalls at all</i>, which implies that it cannot allocate or free memory, or call printf. Wuffs is a language for writing libraries, not whole programs, and the library caller (not callee) is responsible for e.g. allocating pixel buffers. That also makes it harder to use during the research phase.</div><br/></div></div></div></div><div id="39922621" class="c"><input type="checkbox" id="c-39922621" checked=""/><div class="controls bullet"><span class="by">Sesse__</span><span>|</span><a href="#39921335">parent</a><span>|</span><a href="#39921760">prev</a><span>|</span><a href="#39921825">next</a><span>|</span><label class="collapse" for="c-39922621">[-]</label><label class="expand" for="c-39922621">[5 more]</label></div><br/><div class="children"><div class="content">Wuffs is for the exact _opposite_ purpose (decoding). It can do simple encoding once you know what bits to put in the file, but a JPEG encoder contains a lot of nontrivial machinery that does not fit well into Wuffs.<p>(I work at Google, but have nothing to do with Jpegli or Wuffs)</div><br/><div id="39924365" class="c"><input type="checkbox" id="c-39924365" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39922621">parent</a><span>|</span><a href="#39922789">next</a><span>|</span><label class="collapse" for="c-39924365">[-]</label><label class="expand" for="c-39924365">[2 more]</label></div><br/><div class="children"><div class="content">Encoding is definitely in Wuffs&#x27; long term objectives (it&#x27;s issue #2 and literally in its doc&#x2F;roadmap.md file). It&#x27;s just that decoding has been a higher priority. It&#x27;s also a simpler problem. There&#x27;s often only <i>one</i> valid decoding for any given input.<p>Decoding takes a compressed image file as input, which have complicated formats. Roughly speaking, encoding just takes a width x height x 4 pixel buffer, with very regular structure. It&#x27;s much easier to hide something malicious in a complicated format.<p>Higher priority means that, when deciding whether to work on a Wuffs PNG encoder or a Wuffs JPEG decoder next, when neither existed at the time, I chose to have more decoders.<p>(I work at Google, and am the Wuffs author, but have nothing to do with Jpegli. Google is indeed a big company.)</div><br/><div id="39926986" class="c"><input type="checkbox" id="c-39926986" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39924365">parent</a><span>|</span><a href="#39922789">next</a><span>|</span><label class="collapse" for="c-39926986">[-]</label><label class="expand" for="c-39926986">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the answer!</div><br/></div></div></div></div><div id="39922789" class="c"><input type="checkbox" id="c-39922789" checked=""/><div class="controls bullet"><span class="by">Hackbraten</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39922621">parent</a><span>|</span><a href="#39924365">prev</a><span>|</span><a href="#39921825">next</a><span>|</span><label class="collapse" for="c-39922789">[-]</label><label class="expand" for="c-39922789">[2 more]</label></div><br/><div class="children"><div class="content">The first paragraph in Wuffs&#x27;s README explicitly states that it&#x27;s good for both encoding and decoding?</div><br/><div id="39923132" class="c"><input type="checkbox" id="c-39923132" checked=""/><div class="controls bullet"><span class="by">Sesse__</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39922789">parent</a><span>|</span><a href="#39921825">next</a><span>|</span><label class="collapse" for="c-39923132">[-]</label><label class="expand" for="c-39923132">[1 more]</label></div><br/><div class="children"><div class="content">No, it states that wrangling _can be_ encoding. It does not in any way state that Wuffs is actually _good_ for it at the current stage, and I do not know of any nontrivial encoder built with Wuffs, ever. (In contrast, there are 18 example decoders included with Wuffs. I assume you don&#x27;t count the checksum functions as encoding.)</div><br/></div></div></div></div></div></div><div id="39921825" class="c"><input type="checkbox" id="c-39921825" checked=""/><div class="controls bullet"><span class="by">Blackthorn</span><span>|</span><a href="#39921335">parent</a><span>|</span><a href="#39922621">prev</a><span>|</span><a href="#39921716">next</a><span>|</span><label class="collapse" for="c-39921825">[-]</label><label class="expand" for="c-39921825">[1 more]</label></div><br/><div class="children"><div class="content">Google is a big company.</div><br/></div></div><div id="39921506" class="c"><input type="checkbox" id="c-39921506" checked=""/><div class="controls bullet"><span class="by">ramrunner0xff</span><span>|</span><a href="#39921335">parent</a><span>|</span><a href="#39921716">prev</a><span>|</span><a href="#39921832">next</a><span>|</span><label class="collapse" for="c-39921506">[-]</label><label class="expand" for="c-39921506">[4 more]</label></div><br/><div class="children"><div class="content">this is a valid question why is it being downvoted?</div><br/><div id="39922421" class="c"><input type="checkbox" id="c-39922421" checked=""/><div class="controls bullet"><span class="by">SunlitCat</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39921506">parent</a><span>|</span><a href="#39921832">next</a><span>|</span><label class="collapse" for="c-39922421">[-]</label><label class="expand" for="c-39922421">[3 more]</label></div><br/><div class="children"><div class="content">Maybe because the hailing for yet another &quot;safe&quot; language starts to feel kinda repetitive?<p>Java, C#, Go, Rust, Python, modern C++ with smartpointer,...<p>I mean a concepts for handling files in a safe way are an awesome (and really needed) thing, but inventing a whole new programming language around a single task (even if it&#x27;s just a transpiler to c)?</div><br/><div id="39922517" class="c"><input type="checkbox" id="c-39922517" checked=""/><div class="controls bullet"><span class="by">vinkelhake</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39922421">parent</a><span>|</span><a href="#39922991">next</a><span>|</span><label class="collapse" for="c-39922517">[-]</label><label class="expand" for="c-39922517">[1 more]</label></div><br/><div class="children"><div class="content">One of the advantages with wuffs is that it compiles to C and wuffs-the-library is distributed as C code that is easy to integrate with an existing C or C++ project without having to incorporate new toolchains.</div><br/></div></div><div id="39922991" class="c"><input type="checkbox" id="c-39922991" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#39921335">root</a><span>|</span><a href="#39922421">parent</a><span>|</span><a href="#39922517">prev</a><span>|</span><a href="#39921832">next</a><span>|</span><label class="collapse" for="c-39922991">[-]</label><label class="expand" for="c-39922991">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Maybe because the hailing for yet another &quot;safe&quot; language starts to feel kinda repetitive?<p>Ah yeah, because the endless stream of exploits and “new CVE allows for zero-click RCE, please update ASAP” doesn&#x27;t feel repetitive?<p>&gt; I mean a concepts for handling files in a safe way are an awesome (and really needed) thing, but inventing a whole new programming language around a single task (even if it&#x27;s just a transpiler to c)?<p>It&#x27;s a “single task” in the same way “writing compilers” is a single task. And like we&#x27;re happy that LLVM IR exists, having a language dedicated to writing codecs (of which there are dozens) is a worthwhile goal, especially since they are both security critical and have stringent performance needs for which existing languages (be it managed languages or Rust) aren&#x27;t good enough.</div><br/></div></div></div></div></div></div></div></div><div id="39921832" class="c"><input type="checkbox" id="c-39921832" checked=""/><div class="controls bullet"><span class="by">asicsarecool</span><span>|</span><a href="#39921335">prev</a><span>|</span><a href="#39921270">next</a><span>|</span><label class="collapse" for="c-39921832">[-]</label><label class="expand" for="c-39921832">[7 more]</label></div><br/><div class="children"><div class="content">Awesome google. Disable zooming on mobile so I can&#x27;t see the graph detail.<p>You guys should up your web game</div><br/><div id="39921860" class="c"><input type="checkbox" id="c-39921860" checked=""/><div class="controls bullet"><span class="by">politelemon</span><span>|</span><a href="#39921832">parent</a><span>|</span><a href="#39927025">next</a><span>|</span><label class="collapse" for="c-39921860">[-]</label><label class="expand" for="c-39921860">[5 more]</label></div><br/><div class="children"><div class="content">Many sites do this out of a misguided notion of what web development is.<p>FWIW Firefox mobile lets you override zooming on a site.</div><br/><div id="39922450" class="c"><input type="checkbox" id="c-39922450" checked=""/><div class="controls bullet"><span class="by">pandemic_region</span><span>|</span><a href="#39921832">root</a><span>|</span><a href="#39921860">parent</a><span>|</span><a href="#39926687">next</a><span>|</span><label class="collapse" for="c-39922450">[-]</label><label class="expand" for="c-39922450">[2 more]</label></div><br/><div class="children"><div class="content">&gt; FWIW Firefox mobile lets you override zooming on a site.<p>What in heavens name and why is this not a default option? Thankee Sai!</div><br/><div id="39922493" class="c"><input type="checkbox" id="c-39922493" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#39921832">root</a><span>|</span><a href="#39922450">parent</a><span>|</span><a href="#39926687">next</a><span>|</span><label class="collapse" for="c-39922493">[-]</label><label class="expand" for="c-39922493">[1 more]</label></div><br/><div class="children"><div class="content">Chrome also has an option for this and it&#x27;s great</div><br/></div></div></div></div><div id="39926687" class="c"><input type="checkbox" id="c-39926687" checked=""/><div class="controls bullet"><span class="by">_carbyau_</span><span>|</span><a href="#39921832">root</a><span>|</span><a href="#39921860">parent</a><span>|</span><a href="#39922450">prev</a><span>|</span><a href="#39927025">next</a><span>|</span><label class="collapse" for="c-39926687">[-]</label><label class="expand" for="c-39926687">[2 more]</label></div><br/><div class="children"><div class="content">Having just searched a little for this, to turn this on you need about:config.<p>Apparently about:config is still not available on Firefox Mobile main release it seems.<p>Supposedly available on Dev&#x2F;Beta&#x2F;Nightly or similar - unverified statement though.<p>Annoying.</div><br/><div id="39927023" class="c"><input type="checkbox" id="c-39927023" checked=""/><div class="controls bullet"><span class="by">kbrosnan</span><span>|</span><a href="#39921832">root</a><span>|</span><a href="#39926687">parent</a><span>|</span><a href="#39927025">next</a><span>|</span><label class="collapse" for="c-39927023">[-]</label><label class="expand" for="c-39927023">[1 more]</label></div><br/><div class="children"><div class="content">There is no need to go to about:config.<p>Firefox 3 dot menu -&gt; Settings -&gt; Accessibility -&gt; Zoom on all websites</div><br/></div></div></div></div></div></div></div></div><div id="39921270" class="c"><input type="checkbox" id="c-39921270" checked=""/><div class="controls bullet"><span class="by">kloch</span><span>|</span><a href="#39921832">prev</a><span>|</span><a href="#39921350">next</a><span>|</span><label class="collapse" for="c-39921270">[-]</label><label class="expand" for="c-39921270">[22 more]</label></div><br/><div class="children"><div class="content">&gt; 10+ bits. Jpegli can be encoded with 10+ bits per component.<p>If you are making a new image&#x2F;video codec in 2024 please don&#x27;t just give us 2 measly extra bits of DR. Support up to 16 bit unsigned integer <i>and</i> floating point options. Sheesh.</div><br/><div id="39921466" class="c"><input type="checkbox" id="c-39921466" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921270">parent</a><span>|</span><a href="#39921346">next</a><span>|</span><label class="collapse" for="c-39921466">[-]</label><label class="expand" for="c-39921466">[11 more]</label></div><br/><div class="children"><div class="content">We insert&#x2F;extract about 2.5 bits more info from the 8 bit jpegs, leading to about 10.5 bits of precision. There is quite some handwaving necessary here. Basically it comes down to coefficient distributions where the distributions have very high probabilities around zeros. Luckily, this is the case for all smooth noiseless gradients where banding could be otherwise observed.</div><br/><div id="39921586" class="c"><input type="checkbox" id="c-39921586" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921466">parent</a><span>|</span><a href="#39921346">next</a><span>|</span><label class="collapse" for="c-39921586">[-]</label><label class="expand" for="c-39921586">[10 more]</label></div><br/><div class="children"><div class="content">Does the decoder have to be aware of it to properly display such an image?</div><br/><div id="39921909" class="c"><input type="checkbox" id="c-39921909" checked=""/><div class="controls bullet"><span class="by">spider-mario</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921586">parent</a><span>|</span><a href="#39921346">next</a><span>|</span><label class="collapse" for="c-39921909">[-]</label><label class="expand" for="c-39921909">[9 more]</label></div><br/><div class="children"><div class="content">To display it at all, no. To display it smoothly, yes.</div><br/><div id="39922009" class="c"><input type="checkbox" id="c-39922009" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921909">parent</a><span>|</span><a href="#39921346">next</a><span>|</span><label class="collapse" for="c-39922009">[-]</label><label class="expand" for="c-39922009">[8 more]</label></div><br/><div class="children"><div class="content">From a purely theoretical viewpoint 10+ bits encoding will lead into slightly better results even if rendered using a traditional 8 bit decoder. One source of error has been removed from the pipeline.</div><br/><div id="39927322" class="c"><input type="checkbox" id="c-39927322" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39922009">parent</a><span>|</span><a href="#39923081">next</a><span>|</span><label class="collapse" for="c-39927322">[-]</label><label class="expand" for="c-39927322">[2 more]</label></div><br/><div class="children"><div class="content">Has there been any outreach to get a new HDR decoder for the extra bits into any software?<p>I might be wrong, but it seems like Apple is the primary game in town for supporting HDR. How do you intend to persuade Apple to upgrade their JPG decoder to support Jpegli?<p>p.s. keep up the great work!</div><br/><div id="39928036" class="c"><input type="checkbox" id="c-39928036" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39927322">parent</a><span>|</span><a href="#39923081">next</a><span>|</span><label class="collapse" for="c-39928036">[-]</label><label class="expand" for="c-39928036">[1 more]</label></div><br/><div class="children"><div class="content">I tried to reach to their devrel person Jen Simmons here: <a href="https:&#x2F;&#x2F;twitter.com&#x2F;jyzg&#x2F;status&#x2F;1763141558042243470" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;jyzg&#x2F;status&#x2F;1763141558042243470</a><p>I didn&#x27;t follow up and I don&#x27;t know if she read it or understood the proposal.</div><br/></div></div></div></div><div id="39923081" class="c"><input type="checkbox" id="c-39923081" checked=""/><div class="controls bullet"><span class="by">Sesse__</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39922009">parent</a><span>|</span><a href="#39927322">prev</a><span>|</span><a href="#39922398">next</a><span>|</span><label class="collapse" for="c-39923081">[-]</label><label class="expand" for="c-39923081">[2 more]</label></div><br/><div class="children"><div class="content">Ideally, the decoder should be dithering, I suppose. (I know of zero JPEG decoders that do this in practice.)</div><br/><div id="39924000" class="c"><input type="checkbox" id="c-39924000" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39923081">parent</a><span>|</span><a href="#39922398">next</a><span>|</span><label class="collapse" for="c-39924000">[-]</label><label class="expand" for="c-39924000">[1 more]</label></div><br/><div class="children"><div class="content">Jpegli, of course, does this when you ask for 8 bit output.</div><br/></div></div></div></div><div id="39922398" class="c"><input type="checkbox" id="c-39922398" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39922009">parent</a><span>|</span><a href="#39923081">prev</a><span>|</span><a href="#39921346">next</a><span>|</span><label class="collapse" for="c-39922398">[-]</label><label class="expand" for="c-39922398">[3 more]</label></div><br/><div class="children"><div class="content">How does the data get encoded into 10.5 bits but displayable correctly by an 8 bit decoder while also potentially displaying even more accurately by a 10 bit decoder?</div><br/><div id="39922511" class="c"><input type="checkbox" id="c-39922511" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39922398">parent</a><span>|</span><a href="#39922564">next</a><span>|</span><label class="collapse" for="c-39922511">[-]</label><label class="expand" for="c-39922511">[1 more]</label></div><br/><div class="children"><div class="content">Through non-standard API extensions you can provide a 16 bit data buffer to jpegli.<p>The data is carefully encoded in the dct-coefficients. They are 12 bits so in some situations you can get even 12 bit precision. Quantization errors however sum up and worst case is about 7 bits. Luckily it occurs only in the most noisy environments and in smooth slopes we can get 10.5 bits or so.</div><br/></div></div><div id="39922564" class="c"><input type="checkbox" id="c-39922564" checked=""/><div class="controls bullet"><span class="by">lonjil</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39922398">parent</a><span>|</span><a href="#39922511">prev</a><span>|</span><a href="#39921346">next</a><span>|</span><label class="collapse" for="c-39922564">[-]</label><label class="expand" for="c-39922564">[1 more]</label></div><br/><div class="children"><div class="content">8-bit JPEG actually uses 12-bit DCT coefficients, and traditional JPEG coders have lots of errors due to rounding to 8 bits quite often, while Jpegli always uses floating point internally.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39921346" class="c"><input type="checkbox" id="c-39921346" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#39921270">parent</a><span>|</span><a href="#39921466">prev</a><span>|</span><a href="#39921359">next</a><span>|</span><label class="collapse" for="c-39921346">[-]</label><label class="expand" for="c-39921346">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not a new codec, it&#x27;s a new encoder&#x2F;decoder for JPEG.</div><br/><div id="39922475" class="c"><input type="checkbox" id="c-39922475" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921346">parent</a><span>|</span><a href="#39921533">next</a><span>|</span><label class="collapse" for="c-39922475">[-]</label><label class="expand" for="c-39922475">[1 more]</label></div><br/><div class="children"><div class="content">I consider codec to mean a pair of encoder and decoder programs.<p>I don&#x27;t consider it to necessarily mean a new data format.<p>One data format can be implemented by multiple codecs.<p>Semantics and nomenclature within our field is likely underdeveloped and the use of these terms varies.</div><br/></div></div><div id="39921533" class="c"><input type="checkbox" id="c-39921533" checked=""/><div class="controls bullet"><span class="by">whywhywhywhy</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921346">parent</a><span>|</span><a href="#39922475">prev</a><span>|</span><a href="#39921359">next</a><span>|</span><label class="collapse" for="c-39921533">[-]</label><label class="expand" for="c-39921533">[2 more]</label></div><br/><div class="children"><div class="content">This should have been in a H1 tag at the top of the page. Had to dig into a paragraph to find out Google wasn’t about to launch another image format supported in only a scattering of apps yet served as Image Search results.</div><br/><div id="39921571" class="c"><input type="checkbox" id="c-39921571" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921533">parent</a><span>|</span><a href="#39921359">next</a><span>|</span><label class="collapse" for="c-39921571">[-]</label><label class="expand" for="c-39921571">[1 more]</label></div><br/><div class="children"><div class="content">It is. (well, h3 actually)<p>&gt; Introducing Jpegli: A New JPEG Coding Library</div><br/></div></div></div></div></div></div><div id="39921359" class="c"><input type="checkbox" id="c-39921359" checked=""/><div class="controls bullet"><span class="by">Timon3</span><span>|</span><a href="#39921270">parent</a><span>|</span><a href="#39921346">prev</a><span>|</span><a href="#39925424">next</a><span>|</span><label class="collapse" for="c-39921359">[-]</label><label class="expand" for="c-39921359">[4 more]</label></div><br/><div class="children"><div class="content">From their Github:<p>&gt; Support for 16-bit unsigned and 32-bit floating point input buffers.<p>&quot;10+&quot; means 10 bits or more.</div><br/><div id="39921440" class="c"><input type="checkbox" id="c-39921440" checked=""/><div class="controls bullet"><span class="by">johnisgood</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921359">parent</a><span>|</span><a href="#39925424">next</a><span>|</span><label class="collapse" for="c-39921440">[-]</label><label class="expand" for="c-39921440">[3 more]</label></div><br/><div class="children"><div class="content">Would not &quot;&gt;10&quot; be a better way to denote that?</div><br/><div id="39924018" class="c"><input type="checkbox" id="c-39924018" checked=""/><div class="controls bullet"><span class="by">mkl</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39921440">parent</a><span>|</span><a href="#39925424">next</a><span>|</span><label class="collapse" for="c-39924018">[-]</label><label class="expand" for="c-39924018">[2 more]</label></div><br/><div class="children"><div class="content">That means something different, but &quot;≥10&quot; would be better IMHO.  Really there&#x27;s an upper limit of 12, and 10.5 is more likely in practice: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39922511">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39922511</a></div><br/><div id="39926645" class="c"><input type="checkbox" id="c-39926645" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921270">root</a><span>|</span><a href="#39924018">parent</a><span>|</span><a href="#39925424">next</a><span>|</span><label class="collapse" for="c-39926645">[-]</label><label class="expand" for="c-39926645">[1 more]</label></div><br/><div class="children"><div class="content">I decided to call it 10.5 bits based on rather fuzzy theoretical analysis and a small amount of practical experiments with using jpegli in HDR use where more bits is good to have. My thinking is that in the slowest smoothest gradients (where banding would otherwise be visible) it is only three quantization decisions that generate error: (0,0), (0,1) and (1, 0) coefficient. Others are close to zero. I consider these as adding stochastic variables that have uniform error. On the average they start to behave a bit like a Gaussian distribution, but each block samples those distributions 64 times so there are going to be some more and some less lucky pixels. If we consider that every block would have one maximally unlucky corner pixel which would get all three wrong.<p>log(4096&#x2F;3)&#x2F;log(2) = 10.41<p>So, very handwavy analysis.<p>Experimentally it seems to roughly hold.</div><br/></div></div></div></div></div></div></div></div><div id="39925424" class="c"><input type="checkbox" id="c-39925424" checked=""/><div class="controls bullet"><span class="by">bufferoverflow</span><span>|</span><a href="#39921270">parent</a><span>|</span><a href="#39921359">prev</a><span>|</span><a href="#39921549">next</a><span>|</span><label class="collapse" for="c-39925424">[-]</label><label class="expand" for="c-39925424">[1 more]</label></div><br/><div class="children"><div class="content">For pure viewing of non-HDR content 10 bits is good enough. Very few humans can tell the difference between adjacent shades among 1024 shades. Gradients look smooth.<p>16 bits is useful for image capture and manipulation. But then you should just use RAW&#x2F;DNG.</div><br/></div></div></div></div><div id="39921350" class="c"><input type="checkbox" id="c-39921350" checked=""/><div class="controls bullet"><span class="by">kaladin-jasnah</span><span>|</span><a href="#39921270">prev</a><span>|</span><a href="#39921369">next</a><span>|</span><label class="collapse" for="c-39921350">[-]</label><label class="expand" for="c-39921350">[4 more]</label></div><br/><div class="children"><div class="content">I wonder if Google will make a JPEG library with <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs</a> at some point.</div><br/><div id="39921550" class="c"><input type="checkbox" id="c-39921550" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#39921350">parent</a><span>|</span><a href="#39923185">next</a><span>|</span><label class="collapse" for="c-39921550">[-]</label><label class="expand" for="c-39921550">[1 more]</label></div><br/><div class="children"><div class="content">Google has a direct conflict of interest: the AVIF team.</div><br/></div></div><div id="39923185" class="c"><input type="checkbox" id="c-39923185" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#39921350">parent</a><span>|</span><a href="#39921550">prev</a><span>|</span><a href="#39921560">next</a><span>|</span><label class="collapse" for="c-39923185">[-]</label><label class="expand" for="c-39923185">[1 more]</label></div><br/><div class="children"><div class="content">Did you mean other than the jpeg decode that is already in wuffs?</div><br/></div></div></div></div><div id="39921369" class="c"><input type="checkbox" id="c-39921369" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#39921350">prev</a><span>|</span><a href="#39921615">next</a><span>|</span><label class="collapse" for="c-39921369">[-]</label><label class="expand" for="c-39921369">[3 more]</label></div><br/><div class="children"><div class="content">Google sure did a shitty job of explaining the whole situation.<p>JpegXL was kicked out. This thing is added, but the repo and code seems to be from jxl.<p>I&#x27;m very confused.</div><br/><div id="39921484" class="c"><input type="checkbox" id="c-39921484" checked=""/><div class="controls bullet"><span class="by">JyrkiAlakuijala</span><span>|</span><a href="#39921369">parent</a><span>|</span><a href="#39921556">next</a><span>|</span><label class="collapse" for="c-39921484">[-]</label><label class="expand" for="c-39921484">[1 more]</label></div><br/><div class="children"><div class="content">It was just easiest to develop in libjxl repo. All test workers etc. are already setup there. This was done by a very small team...</div><br/></div></div></div></div><div id="39923676" class="c"><input type="checkbox" id="c-39923676" checked=""/><div class="controls bullet"><span class="by">publius_0xf3</span><span>|</span><a href="#39925077">prev</a><span>|</span><label class="collapse" for="c-39923676">[-]</label><label class="expand" for="c-39923676">[3 more]</label></div><br/><div class="children"><div class="content">Can we just get rid of lossy image compression, please? It&#x27;s so unpleasant looking at pictures on social media and watching them degrade over time as they are constantly reposted. What will these pictures look like a century from now?</div><br/><div id="39924061" class="c"><input type="checkbox" id="c-39924061" checked=""/><div class="controls bullet"><span class="by">adamzochowski</span><span>|</span><a href="#39923676">parent</a><span>|</span><a href="#39927614">next</a><span>|</span><label class="collapse" for="c-39924061">[-]</label><label class="expand" for="c-39924061">[1 more]</label></div><br/><div class="children"><div class="content">Please, keep lossy compression. Web is unusable already with websites too big as it is.<p>What should happen: websites&#x2F;applications shouldn&#x27;t recompress images if they already deliver good pixel bitrate. Websites&#x2F;applicates shouldn&#x27;t recompress images just to add own watermarks.</div><br/></div></div><div id="39927614" class="c"><input type="checkbox" id="c-39927614" checked=""/><div class="controls bullet"><span class="by">npteljes</span><span>|</span><a href="#39923676">parent</a><span>|</span><a href="#39924061">prev</a><span>|</span><label class="collapse" for="c-39927614">[-]</label><label class="expand" for="c-39927614">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not the social network&#x27;s job to preserve image quality. That would be mixing up the concerns.</div><br/></div></div></div></div></div></div></div></div></div></body></html>