<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1730106074427" as="style"/><link rel="stylesheet" href="styles.css?v=1730106074427"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://programmingisterrible.com/post/139222674273/write-code-that-is-easy-to-delete-not-easy-to">Write code that is easy to delete, not easy to extend (2016)</a> <span class="domain">(<a href="https://programmingisterrible.com">programmingisterrible.com</a>)</span></div><div class="subtext"><span>stanulilic</span> | <span>26 comments</span></div><br/><div><div id="41968688" class="c"><input type="checkbox" id="c-41968688" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#41968760">next</a><span>|</span><label class="collapse" for="c-41968688">[-]</label><label class="expand" for="c-41968688">[5 more]</label></div><br/><div class="children"><div class="content">My favorite saying: “simple is robust”<p>Similar in spirit to Lehman’s Law of Continuing Change[0], the idea is that the less complexity a system has, the easier it is to change.<p>Rather than plan for the future with extensible code, plan for the future with straightforward code.<p>E.g. only abstract when the situation requires it, encourage simple duplication, use monoliths up front, scale vertically before horizontally, etc.<p>I’ve built many 0-1 systems, and this is the common thread among all of them.<p>[0] <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Lehman%27s_laws_of_software_evolution" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Lehman%27s_laws_of_software_...</a></div><br/><div id="41968993" class="c"><input type="checkbox" id="c-41968993" checked=""/><div class="controls bullet"><span class="by">antonhag</span><span>|</span><a href="#41968688">parent</a><span>|</span><a href="#41968788">next</a><span>|</span><label class="collapse" for="c-41968993">[-]</label><label class="expand" for="c-41968993">[1 more]</label></div><br/><div class="children"><div class="content">+1, but I&#x27;m not sure if the &quot;simple is robust&quot; saying is straightforward enough? It opens up to discussion about what &quot;simple&quot; means and how it applies to the system (which apparently is a complex enough question to warrant the attention of the brilliant Rich Hickey).<p>Maybe &quot;dumb is robust&quot; or &quot;straightforward is robust&quot; capture the sentiment better?</div><br/></div></div><div id="41968788" class="c"><input type="checkbox" id="c-41968788" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#41968688">parent</a><span>|</span><a href="#41968993">prev</a><span>|</span><a href="#41968804">next</a><span>|</span><label class="collapse" for="c-41968788">[-]</label><label class="expand" for="c-41968788">[2 more]</label></div><br/><div class="children"><div class="content">Sure, but when applying &quot;simple is robust&quot; principle it is extremely important to understand also intrinsic complexity. Not handling edge-cases etc does not make for robust code, no matter how much simpler it is.</div><br/><div id="41968883" class="c"><input type="checkbox" id="c-41968883" checked=""/><div class="controls bullet"><span class="by">z3t4</span><span>|</span><a href="#41968688">root</a><span>|</span><a href="#41968788">parent</a><span>|</span><a href="#41968804">next</a><span>|</span><label class="collapse" for="c-41968883">[-]</label><label class="expand" for="c-41968883">[1 more]</label></div><br/><div class="children"><div class="content">There will always be edge cases, and yes they will make the code more complicated, but what really helps is automatic testing to make sure those edge cases don&#x27;t break when making changes.</div><br/></div></div></div></div><div id="41968804" class="c"><input type="checkbox" id="c-41968804" checked=""/><div class="controls bullet"><span class="by">arkh</span><span>|</span><a href="#41968688">parent</a><span>|</span><a href="#41968788">prev</a><span>|</span><a href="#41968760">next</a><span>|</span><label class="collapse" for="c-41968804">[-]</label><label class="expand" for="c-41968804">[1 more]</label></div><br/><div class="children"><div class="content">&gt; encourage simple duplication<p>A rule I like to follow:<p>- first time: write it<p>- second time: copy it<p>- third time: maybe refactor it</div><br/></div></div></div></div><div id="41968760" class="c"><input type="checkbox" id="c-41968760" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#41968688">prev</a><span>|</span><a href="#41968451">next</a><span>|</span><label class="collapse" for="c-41968760">[-]</label><label class="expand" for="c-41968760">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>Write code that is easy to delete, not easy to extend (2016)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24989351">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24989351</a> - Nov 2020 (30 comments)<p><i>Write code that is easy to delete, not easy to extend (2016)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23914486">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23914486</a> - July 2020 (109 comments)<p><i>Write code that is easy to delete, not easy to extend</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=18761739">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=18761739</a> - Dec 2018 (2 comments)<p><i>Write code that is easy to delete, not easy to extend</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=11093733">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=11093733</a> - Feb 2016 (133 comments)</div><br/></div></div><div id="41968451" class="c"><input type="checkbox" id="c-41968451" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#41968760">prev</a><span>|</span><a href="#41968990">next</a><span>|</span><label class="collapse" for="c-41968451">[-]</label><label class="expand" for="c-41968451">[7 more]</label></div><br/><div class="children"><div class="content">Yep, to recycle a brief analysis of my own youthful mistakes:<p>____<p>I&#x27;ve come to believe the opposite, promoting it as &quot;Design for Deletion.&quot;<p>I used to think I could make a wonderful work of art which everyone will appreciate for the ages, crafted so that every contingency is planned for, every need met... But nobody predicts future needs that well. Someday whatever I make is going to be That Stupid Thing to somebody, and they&#x27;re going to be justified demolishing the whole mess, no matter how proud I may feel about it now.<p>So instead, put effort into making it easy to remove. This often ends up reducing coupling, but--crucially--it&#x27;s not the same as some enthusiastic young developer trying to decouple all the things through a meta-configurable framework. Sometimes a tight coupling is better when it&#x27;s easier to reason about. [...]<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41219130">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41219130</a></div><br/><div id="41968715" class="c"><input type="checkbox" id="c-41968715" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#41968451">parent</a><span>|</span><a href="#41968629">next</a><span>|</span><label class="collapse" for="c-41968715">[-]</label><label class="expand" for="c-41968715">[2 more]</label></div><br/><div class="children"><div class="content">&gt; So instead, put effort into making it easy to remove.<p>You might, but there&#x27;s also going to be other people that will happily go ahead and create abstractions and logic that will form the very core of a project and entrench themselves to such a degree that they&#x27;re impossible to get rid of.<p>For example, you might stumble upon CommonExcelFileParser, CommonExcelFileParserUtilities, HasExcelParseStatus, ProductImportExcelParser, ProductImportExcelParserView, ProductImportExcelParserResultHandler and who knows what else, the kind of stuff that ends up being foundational for the code around it, much like how if you start a front end project in React or Angular, migrating to anything else would be a Sisyphean task.<p>In practice, that means that people end up building a whole platform and you basically have to stick with it, even though some of the choices made might cause bunches of problems in the future and, due to all of the coupling, refactoring is way harder than it would be in an under-abstracted codebase.<p>I&#x27;m not sure what to do then. People seem to like doing that more than applying KISS and YAGNI and making code easy to delete.</div><br/><div id="41968838" class="c"><input type="checkbox" id="c-41968838" checked=""/><div class="controls bullet"><span class="by">ffsm8</span><span>|</span><a href="#41968451">root</a><span>|</span><a href="#41968715">parent</a><span>|</span><a href="#41968629">next</a><span>|</span><label class="collapse" for="c-41968838">[-]</label><label class="expand" for="c-41968838">[1 more]</label></div><br/><div class="children"><div class="content">Not my originals, and I cannot recall who said this... But it&#x27;s completely on point<p>* Software has a tendency to become maximally complex. You either have an actually complex domain, or the developers will find a way to increase the complexity (..because otherwise, they&#x27;re bored)<p>* Good software is modular and easy to remove. Consequently, good software will keep getting replaced until it&#x27;s bad and cannot be removed anymore</div><br/></div></div></div></div><div id="41968629" class="c"><input type="checkbox" id="c-41968629" checked=""/><div class="controls bullet"><span class="by">ozim</span><span>|</span><a href="#41968451">parent</a><span>|</span><a href="#41968715">prev</a><span>|</span><a href="#41968600">next</a><span>|</span><label class="collapse" for="c-41968629">[-]</label><label class="expand" for="c-41968629">[3 more]</label></div><br/><div class="children"><div class="content">It still depends. Business line application yes and 10x yes. It will change it will move, don’t try to foresee business requirements. Just write something that will be easy to replace or throw away.<p>Frameworks and libraries not really, for those you still have to adjust to whatever happens in the world but at much saner pace.<p>Biggest issue is when devs want to write “framework” when they work on business line application where they have frameworks that they are already using like Rails&#x2F;Asp.Net etc.</div><br/><div id="41968695" class="c"><input type="checkbox" id="c-41968695" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#41968451">root</a><span>|</span><a href="#41968629">parent</a><span>|</span><a href="#41968667">next</a><span>|</span><label class="collapse" for="c-41968695">[-]</label><label class="expand" for="c-41968695">[1 more]</label></div><br/><div class="children"><div class="content">I would say the biggest issue are the frameworks themselves: they practically force you to fit your code to their architecture, and before you know it, your logic is split across innumerable classes. Laravel (with which I have the most experience) has models, controllers, views, service providers, data transfer objects etc. etc. - that makes it (arguably) easier to write and extend code, but very hard to refactor&#x2F;delete.</div><br/></div></div><div id="41968667" class="c"><input type="checkbox" id="c-41968667" checked=""/><div class="controls bullet"><span class="by">planb</span><span>|</span><a href="#41968451">root</a><span>|</span><a href="#41968629">parent</a><span>|</span><a href="#41968695">prev</a><span>|</span><a href="#41968600">next</a><span>|</span><label class="collapse" for="c-41968667">[-]</label><label class="expand" for="c-41968667">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Business line application yes and 10x yes. It will change it will move, don’t try to foresee business requirements. Just write something that will be easy to replace or throw away.<p>This is correct, but from my experience of working in the same company for over a decade: You&#x27;ll learn to foresee requirements. Especially the &quot;we&#x27;ll never need that&quot; ones that become business critical after a few months&#x2F;years...</div><br/></div></div></div></div><div id="41968600" class="c"><input type="checkbox" id="c-41968600" checked=""/><div class="controls bullet"><span class="by">Affric</span><span>|</span><a href="#41968451">parent</a><span>|</span><a href="#41968629">prev</a><span>|</span><a href="#41968990">next</a><span>|</span><label class="collapse" for="c-41968600">[-]</label><label class="expand" for="c-41968600">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes things change, sometimes we chose the wrong abstraction.<p>Unless you’re writing the Linux kernel you shouldn’t write it like the Linux kernel.</div><br/></div></div></div></div><div id="41968990" class="c"><input type="checkbox" id="c-41968990" checked=""/><div class="controls bullet"><span class="by">worstspotgain</span><span>|</span><a href="#41968451">prev</a><span>|</span><a href="#41968617">next</a><span>|</span><label class="collapse" for="c-41968990">[-]</label><label class="expand" for="c-41968990">[1 more]</label></div><br/><div class="children"><div class="content">At the risk of turning a unison into a chord, here&#x27;s my two cents.<p>If:<p>1. You know where the &#x27;creases&#x27; of orthogonality are. You&#x27;ve carved the turkey 1000 times and you never get it wrong anymore.<p>2. As a result, there is hardly any difference in complexity between code that is and isn&#x27;t easy to extend.<p>Then write code that is easy to extend, not delete.<p>The question is whether your impression of the above is true. It won&#x27;t be for most junior developers, and for many senior ones. If orthogonality isn&#x27;t something you preoccupy yourself with, it probably won&#x27;t be.<p>In my experience, the most telling heuristic is <i>rewriting propensity</i>. I&#x27;m talking about rewriting while writing, not about refactoring later. Unless something is obvious, you won&#x27;t get the right design on the first write. You certainly won&#x27;t get the correct extensible design. If you&#x27;re instructed to write it just once, then by all means make it easy to delete.</div><br/></div></div><div id="41968617" class="c"><input type="checkbox" id="c-41968617" checked=""/><div class="controls bullet"><span class="by">nextcaller</span><span>|</span><a href="#41968990">prev</a><span>|</span><a href="#41968655">next</a><span>|</span><label class="collapse" for="c-41968617">[-]</label><label class="expand" for="c-41968617">[3 more]</label></div><br/><div class="children"><div class="content">Implementing choice is superior. Not only can your program be capable of more actions, but the process of thinking about how to include these features leads to focusing on your codebase which leads to refactoring, better code. With time the code becomes so flexible that adding features is easy, because your foundation is superior. And in the process other core functionality gets fixed and becomes better.</div><br/><div id="41968689" class="c"><input type="checkbox" id="c-41968689" checked=""/><div class="controls bullet"><span class="by">alserio</span><span>|</span><a href="#41968617">parent</a><span>|</span><a href="#41968655">next</a><span>|</span><label class="collapse" for="c-41968689">[-]</label><label class="expand" for="c-41968689">[2 more]</label></div><br/><div class="children"><div class="content">Can you explain what you mean with &quot;implementing choice&quot;?</div><br/><div id="41968756" class="c"><input type="checkbox" id="c-41968756" checked=""/><div class="controls bullet"><span class="by">nextcaller</span><span>|</span><a href="#41968617">root</a><span>|</span><a href="#41968689">parent</a><span>|</span><a href="#41968655">next</a><span>|</span><label class="collapse" for="c-41968756">[-]</label><label class="expand" for="c-41968756">[1 more]</label></div><br/><div class="children"><div class="content">This was written in the context of a discussion about showing resistance or not to feature requests by users sorry for the confusion.</div><br/></div></div></div></div></div></div><div id="41968655" class="c"><input type="checkbox" id="c-41968655" checked=""/><div class="controls bullet"><span class="by">ollysb</span><span>|</span><a href="#41968617">prev</a><span>|</span><a href="#41968587">next</a><span>|</span><label class="collapse" for="c-41968655">[-]</label><label class="expand" for="c-41968655">[2 more]</label></div><br/><div class="children"><div class="content">Once you can load up a full codebase into an LLM I&#x27;m hoping the cost to update client code is significantly reduced. Then you could focus on evolving the design without all the grunt work.</div><br/><div id="41968673" class="c"><input type="checkbox" id="c-41968673" checked=""/><div class="controls bullet"><span class="by">qwertox</span><span>|</span><a href="#41968655">parent</a><span>|</span><a href="#41968587">next</a><span>|</span><label class="collapse" for="c-41968673">[-]</label><label class="expand" for="c-41968673">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also betting on this, that one day I&#x27;ll be able to dump a codebase into an LLM and it will clean up the code. Not rewrite it, not restructure it, just clean it up. Remove unused code and comment it sensibly. Maybe also suggest some tests for it and implement them separately.</div><br/></div></div></div></div><div id="41968587" class="c"><input type="checkbox" id="c-41968587" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#41968655">prev</a><span>|</span><a href="#41968960">next</a><span>|</span><label class="collapse" for="c-41968587">[-]</label><label class="expand" for="c-41968587">[3 more]</label></div><br/><div class="children"><div class="content">C# is pretty good about these, with extension methods and event handlers.  With event handlers instead of virtual methods, it&#x27;s much easier to separate the pieces.</div><br/><div id="41968635" class="c"><input type="checkbox" id="c-41968635" checked=""/><div class="controls bullet"><span class="by">sam_lowry_</span><span>|</span><a href="#41968587">parent</a><span>|</span><a href="#41968960">next</a><span>|</span><label class="collapse" for="c-41968635">[-]</label><label class="expand" for="c-41968635">[2 more]</label></div><br/><div class="children"><div class="content">And yet the worst ever code I saw was in C#.<p>I hope I won&#x27;t offend anyone pointing at it [1]. This is a somewhat popular tool to evaluate macroeconomic policies in the EU.<p>A combination of language choice (C# as a natural language Microsoft Excel bosses tend to request from their interns to use), the usual churn of academic undergrads and loads of other cultural failures are the reasons this monster exsts.<p>Someone should write a book how to make the worst ever codebase, and start with EUROMOD.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;ec-jrc&#x2F;JRC-EUROMOD-software-source-code">https:&#x2F;&#x2F;github.com&#x2F;ec-jrc&#x2F;JRC-EUROMOD-software-source-code</a></div><br/><div id="41969001" class="c"><input type="checkbox" id="c-41969001" checked=""/><div class="controls bullet"><span class="by">willtemperley</span><span>|</span><a href="#41968587">root</a><span>|</span><a href="#41968635">parent</a><span>|</span><a href="#41968960">next</a><span>|</span><label class="collapse" for="c-41969001">[-]</label><label class="expand" for="c-41969001">[1 more]</label></div><br/><div class="children"><div class="content">I could write about creating the worst possible environment to be a software developer, having worked at the JRC for five years.<p>I&#x27;m not sure how constructive that would be. I&#x27;m still hurting because the IT department decided the only way to deploy my Java app was through rsyncing to a running Tomcat installation, allowing class files from several deployments previous to resurface in memory causing some beautiful bugs.<p>Or the time they decided to buy a Hadoop cluster at a cost of EUR 100k which I told IT dept they wouldn&#x27;t be able to connect to from the outside world because the network rules are carved in stone. They bought it, and guess what, network ops said no.<p>The ten foot high touch screen and the car emissions data stored in Excel files and the 80 million euros spent on a website or the time the partner research group refused to release the data we had funded so we couldn&#x27;t run workshops or release the project (around EUR 2 million).<p>The waste.</div><br/></div></div></div></div></div></div><div id="41968960" class="c"><input type="checkbox" id="c-41968960" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#41968587">prev</a><span>|</span><a href="#41968674">next</a><span>|</span><label class="collapse" for="c-41968960">[-]</label><label class="expand" for="c-41968960">[1 more]</label></div><br/><div class="children"><div class="content">Write test, not code.</div><br/></div></div><div id="41968674" class="c"><input type="checkbox" id="c-41968674" checked=""/><div class="controls bullet"><span class="by">ainiriand</span><span>|</span><a href="#41968960">prev</a><span>|</span><label class="collapse" for="c-41968674">[-]</label><label class="expand" for="c-41968674">[2 more]</label></div><br/><div class="children"><div class="content">Why not both?</div><br/></div></div></div></div></div></div></div></body></html>