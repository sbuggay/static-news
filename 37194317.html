<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1692522055730" as="style"/><link rel="stylesheet" href="styles.css?v=1692522055730"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/Clemapfel/mousetrap.jl">Mousetrap.jl: a GUI library for Julia and C++ that wraps GTK4</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>xgdgsc</span> | <span>31 comments</span></div><br/><div><div id="37196123" class="c"><input type="checkbox" id="c-37196123" checked=""/><div class="controls bullet"><span class="by">notyoutube</span><span>|</span><a href="#37194770">next</a><span>|</span><label class="collapse" for="c-37196123">[-]</label><label class="expand" for="c-37196123">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d like to see a comparison to GTK4.jl [1] and GTKObservables.jl [2].<p>[1] <a href="https:&#x2F;&#x2F;docs.juliahub.com&#x2F;Gtk4&#x2F;rFcBQ&#x2F;0.5.0&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.juliahub.com&#x2F;Gtk4&#x2F;rFcBQ&#x2F;0.5.0&#x2F;</a>
[2] <a href="https:&#x2F;&#x2F;juliagizmos.github.io&#x2F;GtkObservables.jl&#x2F;stable&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;juliagizmos.github.io&#x2F;GtkObservables.jl&#x2F;stable&#x2F;</a></div><br/></div></div><div id="37194770" class="c"><input type="checkbox" id="c-37194770" checked=""/><div class="controls bullet"><span class="by">WanderPanda</span><span>|</span><a href="#37196123">prev</a><span>|</span><a href="#37197032">next</a><span>|</span><label class="collapse" for="c-37194770">[-]</label><label class="expand" for="c-37194770">[6 more]</label></div><br/><div class="children"><div class="content">Would be really nice if there also is a „library mode“ without relying on callbacks in addition to the „framework mode“ [1]<p>[1] <a href="https:&#x2F;&#x2F;www.brandons.me&#x2F;blog&#x2F;libraries-not-frameworks" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.brandons.me&#x2F;blog&#x2F;libraries-not-frameworks</a></div><br/><div id="37194895" class="c"><input type="checkbox" id="c-37194895" checked=""/><div class="controls bullet"><span class="by">MobiusHorizons</span><span>|</span><a href="#37194770">parent</a><span>|</span><a href="#37197032">next</a><span>|</span><label class="collapse" for="c-37194895">[-]</label><label class="expand" for="c-37194895">[5 more]</label></div><br/><div class="children"><div class="content">This is typically not possible in gui programming, because the underlying display library typically owns the event loop, which fundamentally makes it framework like</div><br/><div id="37195306" class="c"><input type="checkbox" id="c-37195306" checked=""/><div class="controls bullet"><span class="by">badsectoracula</span><span>|</span><a href="#37194770">root</a><span>|</span><a href="#37194895">parent</a><span>|</span><a href="#37196344">next</a><span>|</span><label class="collapse" for="c-37195306">[-]</label><label class="expand" for="c-37195306">[3 more]</label></div><br/><div class="children"><div class="content">You cannot really get rid of callbacks (or well, you can, but there is no practical benefit and it can be very messy) for things like widget events (e.g. when the user clicks a button).<p>But you could provide an API that allows the toolkit user to do their own main loop instead of having the toolkit do that. There isn&#x27;t really that much of a benefit though - in theory it makes mixing with other libraries that might handle UIs easier, but in practice (having worked in a codebase that did that by mixing two toolkits - because of migration that never finished) tends to become a mess and for anything else an &quot;idle callback&quot; will work just fine.</div><br/><div id="37195602" class="c"><input type="checkbox" id="c-37195602" checked=""/><div class="controls bullet"><span class="by">PaulDavisThe1st</span><span>|</span><a href="#37194770">root</a><span>|</span><a href="#37195306">parent</a><span>|</span><a href="#37196207">next</a><span>|</span><label class="collapse" for="c-37195602">[-]</label><label class="expand" for="c-37195602">[1 more]</label></div><br/><div class="children"><div class="content">GTK relies on the Glib event loop, which is in a separate library (and also used by Qt, at least optionally).<p>You can, if you want to, reimplement the abstract API of the Glib event loop, and use that with GTK instead.<p>Note also that on macOS, GTK has to integrate <i>both</i> the Glib event loop and the event loop used by NeXTStep&#x2F;Cocoa, because it is not always the case that the same one is in control (e.g. during drag-n-drop processing). It handles this &quot;just fine&quot;, for some definition of &quot;just fine&quot;.</div><br/></div></div><div id="37196207" class="c"><input type="checkbox" id="c-37196207" checked=""/><div class="controls bullet"><span class="by">hsjqllzlfkf</span><span>|</span><a href="#37194770">root</a><span>|</span><a href="#37195306">parent</a><span>|</span><a href="#37195602">prev</a><span>|</span><a href="#37196344">next</a><span>|</span><label class="collapse" for="c-37196207">[-]</label><label class="expand" for="c-37196207">[1 more]</label></div><br/><div class="children"><div class="content">You CAN try get rid of call backs if you have nice language like Julia that can inline the call back</div><br/></div></div></div></div><div id="37196344" class="c"><input type="checkbox" id="c-37196344" checked=""/><div class="controls bullet"><span class="by">mostlylurks</span><span>|</span><a href="#37194770">root</a><span>|</span><a href="#37194895">parent</a><span>|</span><a href="#37195306">prev</a><span>|</span><a href="#37197032">next</a><span>|</span><label class="collapse" for="c-37196344">[-]</label><label class="expand" for="c-37196344">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Not possible&quot; is an exaggeration. For a retained mode GUI library, you could, for instance, have the event loop of the library run on a separate thread, and provide functions to modify the widget tree and read events that have occurred since the last time events were read, allowing the user of the library to operate the library without being coupled to the event loop in any way. For an immediate mode GUI library, things are even simpler, because the library doesn&#x27;t even have an event loop in the first place, placing the responsibility of implementing one on the user of the library.</div><br/></div></div></div></div></div></div><div id="37197032" class="c"><input type="checkbox" id="c-37197032" checked=""/><div class="controls bullet"><span class="by">ducktective</span><span>|</span><a href="#37194770">prev</a><span>|</span><a href="#37196232">next</a><span>|</span><label class="collapse" for="c-37197032">[-]</label><label class="expand" for="c-37197032">[1 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the latest status of Windows support for GTK4? Can a binary be cross-compiled for Windows on a Linux machine?</div><br/></div></div><div id="37196232" class="c"><input type="checkbox" id="c-37196232" checked=""/><div class="controls bullet"><span class="by">hsjqllzlfkf</span><span>|</span><a href="#37197032">prev</a><span>|</span><a href="#37194890">next</a><span>|</span><label class="collapse" for="c-37196232">[-]</label><label class="expand" for="c-37196232">[1 more]</label></div><br/><div class="children"><div class="content">If you like guis and Julia, this one is outstanding<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Gnimuc&#x2F;CImGui.jl">https:&#x2F;&#x2F;github.com&#x2F;Gnimuc&#x2F;CImGui.jl</a></div><br/></div></div><div id="37194890" class="c"><input type="checkbox" id="c-37194890" checked=""/><div class="controls bullet"><span class="by">timw4mail</span><span>|</span><a href="#37196232">prev</a><span>|</span><label class="collapse" for="c-37194890">[-]</label><label class="expand" for="c-37194890">[21 more]</label></div><br/><div class="children"><div class="content">Why is it always the worst library wrapped? GTK is terrible for anything other than Linux.</div><br/><div id="37195590" class="c"><input type="checkbox" id="c-37195590" checked=""/><div class="controls bullet"><span class="by">PaulDavisThe1st</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37195766">next</a><span>|</span><label class="collapse" for="c-37195590">[-]</label><label class="expand" for="c-37195590">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s so terrible that we&#x27;ve been using it for more than 20 years for a 600kloc cross-platform digital audio workstation.<p>It&#x27;s so terrible that it&#x27;s FLOSS-iness encouraged us to fix problems with the macOS (then OS X) and windows aspects, and contribute them back (mostly) to the project.<p>It&#x27;s so terrible that when I meet other developers we swap stories about <i>their</i> chosen cross-platform GUI toolkit, and things seem to pretty much even out.</div><br/><div id="37196963" class="c"><input type="checkbox" id="c-37196963" checked=""/><div class="controls bullet"><span class="by">HexDecOctBin</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195590">parent</a><span>|</span><a href="#37195766">next</a><span>|</span><label class="collapse" for="c-37196963">[-]</label><label class="expand" for="c-37196963">[1 more]</label></div><br/><div class="children"><div class="content">GTK doesn&#x27;t have accessibility on Windows and macOS, correct? Do you implement your own a11y? Because music as a profession seem to have a higher proportion of visually-impaired people, and I would have though that any DAW, etc. would make sure to cater to them to be competitive in the market.</div><br/></div></div></div></div><div id="37195766" class="c"><input type="checkbox" id="c-37195766" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37195590">prev</a><span>|</span><a href="#37195948">next</a><span>|</span><label class="collapse" for="c-37195766">[-]</label><label class="expand" for="c-37195766">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Why is it always the worst library wrapped?<p>Because libraries, like languages, come in two groups:<p>(1) Those that people complain about, and<p>(2) Those that nobody uses.</div><br/><div id="37196141" class="c"><input type="checkbox" id="c-37196141" checked=""/><div class="controls bullet"><span class="by">jweir</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195766">parent</a><span>|</span><a href="#37195948">next</a><span>|</span><label class="collapse" for="c-37196141">[-]</label><label class="expand" for="c-37196141">[1 more]</label></div><br/><div class="children"><div class="content">Fantastic.</div><br/></div></div></div></div><div id="37195948" class="c"><input type="checkbox" id="c-37195948" checked=""/><div class="controls bullet"><span class="by">jrm4</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37195766">prev</a><span>|</span><a href="#37195304">next</a><span>|</span><label class="collapse" for="c-37195948">[-]</label><label class="expand" for="c-37195948">[1 more]</label></div><br/><div class="children"><div class="content">No, seriously, though -- it does seem bizarre that &quot;a newish library&quot; is one you wrap like this.<p>I get that its touchy saying that GTK4 is bad -- but I genuinely don&#x27;t understand why GUI libraries like this appear to break backward compatibility SO OFTEN, with nearly zero (apparent and obvious useful) innovation?</div><br/></div></div><div id="37195304" class="c"><input type="checkbox" id="c-37195304" checked=""/><div class="controls bullet"><span class="by">lockhouse</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37195948">prev</a><span>|</span><a href="#37195245">next</a><span>|</span><label class="collapse" for="c-37195304">[-]</label><label class="expand" for="c-37195304">[3 more]</label></div><br/><div class="children"><div class="content">GTK is a C library, which makes it much easier to make language bindings for compared to libraries written in C++.</div><br/><div id="37195718" class="c"><input type="checkbox" id="c-37195718" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195304">parent</a><span>|</span><a href="#37195245">next</a><span>|</span><label class="collapse" for="c-37195718">[-]</label><label class="expand" for="c-37195718">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s amazing how &quot;modern&quot; languages don&#x27;t bother having a stable ABI, relegating themselves to being silos.</div><br/><div id="37195755" class="c"><input type="checkbox" id="c-37195755" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195718">parent</a><span>|</span><a href="#37195245">next</a><span>|</span><label class="collapse" for="c-37195755">[-]</label><label class="expand" for="c-37195755">[1 more]</label></div><br/><div class="children"><div class="content">Languages generally don’t have ABIs. Including C.<p>(A particular C implementation on a particular platform may have an ABI, and that may be stable, but that’s not a <i>language</i> feature.)</div><br/></div></div></div></div></div></div><div id="37195245" class="c"><input type="checkbox" id="c-37195245" checked=""/><div class="controls bullet"><span class="by">badsectoracula</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37195304">prev</a><span>|</span><a href="#37194899">next</a><span>|</span><label class="collapse" for="c-37195245">[-]</label><label class="expand" for="c-37195245">[3 more]</label></div><br/><div class="children"><div class="content">IMO Gtk4 (the one being wrapped) is terrible even on Linux :-P. Gtk peaked at Gtk2 and Gtk3 is passable with the right theme but i can&#x27;t say i liked any Gtk4 program i&#x27;ve seen (fortunately Gtk4 doesn&#x27;t seem to have much of an uptake so far).</div><br/><div id="37195648" class="c"><input type="checkbox" id="c-37195648" checked=""/><div class="controls bullet"><span class="by">circularfoyers</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195245">parent</a><span>|</span><a href="#37194899">next</a><span>|</span><label class="collapse" for="c-37195648">[-]</label><label class="expand" for="c-37195648">[2 more]</label></div><br/><div class="children"><div class="content">There are hundreds of apps on Flathub that already use GTK 4. Bottles, Easy Effects, Mission Center, Amberol, Celluloid, are all popular (more than 60,000 installs from Flathub) examples of apps that are using GTK 4. I personally use all of them and think they are some of the best looking apps available on Linux.</div><br/><div id="37197000" class="c"><input type="checkbox" id="c-37197000" checked=""/><div class="controls bullet"><span class="by">ekianjo</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195648">parent</a><span>|</span><a href="#37194899">next</a><span>|</span><label class="collapse" for="c-37197000">[-]</label><label class="expand" for="c-37197000">[1 more]</label></div><br/><div class="children"><div class="content">They are popular because they fill a need. Not because their UI experience is stellar or something.<p>Its not like  you have a choice to run them with a non Gtk4 UI anyway</div><br/></div></div></div></div></div></div><div id="37194899" class="c"><input type="checkbox" id="c-37194899" checked=""/><div class="controls bullet"><span class="by">MobiusHorizons</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37195245">prev</a><span>|</span><a href="#37194918">next</a><span>|</span><label class="collapse" for="c-37194899">[-]</label><label class="expand" for="c-37194899">[5 more]</label></div><br/><div class="children"><div class="content">What would you rather? If you want something else, why don’t you make it?</div><br/><div id="37195294" class="c"><input type="checkbox" id="c-37195294" checked=""/><div class="controls bullet"><span class="by">mpol</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37194899">parent</a><span>|</span><a href="#37194918">next</a><span>|</span><label class="collapse" for="c-37195294">[-]</label><label class="expand" for="c-37195294">[4 more]</label></div><br/><div class="children"><div class="content">That is a bit unfair, a GUI library is a huge undertaking. I did see some projects move to Qt, but not many. It is with C++ quite different from GTK. Not sure how FLTK fares, but I don&#x27;t see many projects using that.</div><br/><div id="37195750" class="c"><input type="checkbox" id="c-37195750" checked=""/><div class="controls bullet"><span class="by">MobiusHorizons</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195294">parent</a><span>|</span><a href="#37195768">next</a><span>|</span><label class="collapse" for="c-37195750">[-]</label><label class="expand" for="c-37195750">[1 more]</label></div><br/><div class="children"><div class="content">My point is that if you think the wrong things are being wrapped, it may be profitable to self reflect. It may mean what you want is not aligned with what people with the time and ability to build things like this want. If you think everyone else is wrong (which to be clear is not necessarily a bad thing) it can be worthwhile to attempt to do that thing yourself, and find out why no one else has done it. In the best case, you get what you wanted. In the worst case you learn why it hasn’t been done.</div><br/></div></div><div id="37195768" class="c"><input type="checkbox" id="c-37195768" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195294">parent</a><span>|</span><a href="#37195750">prev</a><span>|</span><a href="#37195593">next</a><span>|</span><label class="collapse" for="c-37195768">[-]</label><label class="expand" for="c-37195768">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That is a bit unfair, a GUI library is a huge undertaking. I<p>But its not about a GUI library, its about a wrapper for one. After all, if its “the worst” library getting wrapped, then obviously there’s a lot of easy opportunities to wrap a better library.</div><br/></div></div><div id="37195593" class="c"><input type="checkbox" id="c-37195593" checked=""/><div class="controls bullet"><span class="by">PaulDavisThe1st</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37195294">parent</a><span>|</span><a href="#37195768">prev</a><span>|</span><a href="#37194918">next</a><span>|</span><label class="collapse" for="c-37195593">[-]</label><label class="expand" for="c-37195593">[1 more]</label></div><br/><div class="children"><div class="content">Gtkmm is the canonical C++ wrapper for GTK, and 98.32489% of it is lovely.</div><br/></div></div></div></div></div></div><div id="37194918" class="c"><input type="checkbox" id="c-37194918" checked=""/><div class="controls bullet"><span class="by">jdiff</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37194899">prev</a><span>|</span><a href="#37195130">next</a><span>|</span><label class="collapse" for="c-37194918">[-]</label><label class="expand" for="c-37194918">[2 more]</label></div><br/><div class="children"><div class="content">If it&#x27;s always the worst that&#x27;s getting all the indie dev attention there&#x27;s probably something to it that you&#x27;re ignoring or prioritizing lower than the people putting in the legwork.</div><br/><div id="37195346" class="c"><input type="checkbox" id="c-37195346" checked=""/><div class="controls bullet"><span class="by">badsectoracula</span><span>|</span><a href="#37194890">root</a><span>|</span><a href="#37194918">parent</a><span>|</span><a href="#37195130">next</a><span>|</span><label class="collapse" for="c-37195346">[-]</label><label class="expand" for="c-37195346">[1 more]</label></div><br/><div class="children"><div class="content">There aren&#x27;t really that many GUI toolkits in C[0] (which is what makes it easy to make bindings to other languages) - it is pretty much Gtk and... Motif. Ok, XForms too, probably.<p>Toolkits in other languages need some C intermediate - e.g. Lazarus has a Qt backend for LCL and since Free Pascal can only use the C ABI there is a &quot;qt5pas&quot; library written in C++ that exposes a C API that programs must link against. This can be annoying.<p>[0] ignoring Win32 as that is Windows-specific... unless you consider writing against libwine but i don&#x27;t think anything uses that as a toolkit</div><br/></div></div></div></div><div id="37195130" class="c"><input type="checkbox" id="c-37195130" checked=""/><div class="controls bullet"><span class="by">smoldesu</span><span>|</span><a href="#37194890">parent</a><span>|</span><a href="#37194918">prev</a><span>|</span><a href="#37195455">next</a><span>|</span><label class="collapse" for="c-37195130">[-]</label><label class="expand" for="c-37195130">[1 more]</label></div><br/><div class="children"><div class="content">&gt; for anything other than Linux.<p>I bet you have fun opinions on Cocoa and WinUI too.</div><br/></div></div></div></div></div></div></div></div></div></body></html>