<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1692694862317" as="style"/><link rel="stylesheet" href="styles.css?v=1692694862317"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://davidgomes.com/the-broad-set-of-computer-science-problems-faced-at-cloud-database-companies/">The broad set of computer science problems faced at cloud database companies</a> <span class="domain">(<a href="https://davidgomes.com">davidgomes.com</a>)</span></div><div class="subtext"><span>munchor</span> | <span>52 comments</span></div><br/><div><div id="37217096" class="c"><input type="checkbox" id="c-37217096" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37219630">next</a><span>|</span><label class="collapse" for="c-37217096">[-]</label><label class="expand" for="c-37217096">[21 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been working hard to up skill on the consistency and distributed systems sides of things. General recommendations:<p>- Designing Data Intensive Applicatons. Great overview of... basically everything, and every chapter has dozens of references. Can&#x27;t recommend it enough.<p>- Read papers. I&#x27;ve had lots of a-ha moments going to wikipedia and looking up the oldest paper on a topic (wtf was in the water in Massachusetts in the 70s..). Yes they&#x27;re challenging, no they&#x27;re not impossible if you have a compsci undergrad equivalent level of knowledge.<p>- Try and build toy systems. Built out some small and trivial implementations of CRDTs here <a href="https:&#x2F;&#x2F;lewiscampbell.tech&#x2F;sync.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;lewiscampbell.tech&#x2F;sync.html</a>, mainly be reading the papers. They&#x27;re subtle but they&#x27;re not rocket science - mere mortals can do this if they apply themselves!<p>- Follow cool people in the field. Tigerbeetle stands out to me despite sitting at the opposite end of the consistency&#x2F;availability corner where I&#x27;ve made my nest. They really are poring over applied dist sys papers and implementing it. I joke that Joran is a dangerous man to listen to because his talks can send you down rabbit-holes and you begin to think maybe he isn&#x27;t insane for writing his own storage layer..<p>- Did I mention read papers? Seriously, the research of the smartest people on planet earth are on the internet, available for your consumption, for free. Take a moment to reflect in how incredible that is. Anyone anywhere on planet earth can git gud if they apply themselves.</div><br/><div id="37217969" class="c"><input type="checkbox" id="c-37217969" checked=""/><div class="controls bullet"><span class="by">appplication</span><span>|</span><a href="#37217096">parent</a><span>|</span><a href="#37217127">next</a><span>|</span><label class="collapse" for="c-37217969">[-]</label><label class="expand" for="c-37217969">[4 more]</label></div><br/><div class="children"><div class="content">Designing data intensive applications is frequently recommended, but is 6 years old now. I know that doesn’t sound like a lot, but the state of distributed compute is a lot different than it was 6 years ago. Do you feel like it holds up well?<p>A year of two ago I read Ralph Kimball’s seminal The Data Warehouse Toolkit. While I could see why it’s still often recommended, it was showing its age in many ways (though a fair bit older than DDIA). It felt like a mix of best practices and dated advice, but it was hard to tell for certain what was what.</div><br/><div id="37218100" class="c"><input type="checkbox" id="c-37218100" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217969">parent</a><span>|</span><a href="#37219835">next</a><span>|</span><label class="collapse" for="c-37218100">[-]</label><label class="expand" for="c-37218100">[2 more]</label></div><br/><div class="children"><div class="content">A lot of what DDIA covers is pretty fundamental stuff. I expect it will age fairly well.<p>It&#x27;s not really a book about &#x27;best practices&#x27;, despite the name. It&#x27;s more like an encyclopaedia, covering every approach out there, putting them in context, linking to copious reference papers, and talking about their properties on a very conceptual and practical level. It&#x27;s not really like &#x27;hey use this database vendor!!!&#x27;.</div><br/><div id="37219726" class="c"><input type="checkbox" id="c-37219726" checked=""/><div class="controls bullet"><span class="by">diarrhea</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37218100">parent</a><span>|</span><a href="#37219835">next</a><span>|</span><label class="collapse" for="c-37219726">[-]</label><label class="expand" for="c-37219726">[1 more]</label></div><br/><div class="children"><div class="content">Concur. In large parts, the book feels like it&#x27;s making the forest of fundamental research papers, published across decades, accessible by putting them into context, ordering them and &quot;dumbing them down&quot; for us mere mortals.<p>Most of that research is <i>decades</i> old. I specifically remember Lamport timestamps. Not only has that held up, it&#x27;s unlikely to go anywhere anytime soon. Most topics covered are as fundamental as the two generals problem; almost philosophical.<p>No database vendor can solve the issues around two concurrently existing write masters. Sync <i>will</i> be necessary, conflicts <i>will</i> occur. A concrete vendor could only hope to make that less painful (CRDTs for automatic conflict resolution, ...). That&#x27;s kind of the level that book operates at.</div><br/></div></div></div></div><div id="37219835" class="c"><input type="checkbox" id="c-37219835" checked=""/><div class="controls bullet"><span class="by">EspressoGPT</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217969">parent</a><span>|</span><a href="#37218100">prev</a><span>|</span><a href="#37217127">next</a><span>|</span><label class="collapse" for="c-37219835">[-]</label><label class="expand" for="c-37219835">[1 more]</label></div><br/><div class="children"><div class="content">DDIA partly goes into implementation details (for example, transaction implementations in popular databases), but the reasoning behind it is always rather fundamental. I think it&#x27;s going to age well unless some breakthrough happens – but even then only that particular section would be affected.</div><br/></div></div></div></div><div id="37217127" class="c"><input type="checkbox" id="c-37217127" checked=""/><div class="controls bullet"><span class="by">autotune</span><span>|</span><a href="#37217096">parent</a><span>|</span><a href="#37217969">prev</a><span>|</span><a href="#37219752">next</a><span>|</span><label class="collapse" for="c-37217127">[-]</label><label class="expand" for="c-37217127">[10 more]</label></div><br/><div class="children"><div class="content">&gt;- Did I mention read papers? Seriously, the research of the smartest people on planet earth are on the internet, available for your consumption, for free. Take a moment to reflect in how incredible that is. Anyone anywhere on planet earth can git gud if they apply themselves.<p>There is a flood of papers out there with unrepeatable processes. Where can you find quality papers to read?</div><br/><div id="37217216" class="c"><input type="checkbox" id="c-37217216" checked=""/><div class="controls bullet"><span class="by">bilalq</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217127">parent</a><span>|</span><a href="#37217452">next</a><span>|</span><label class="collapse" for="c-37217216">[-]</label><label class="expand" for="c-37217216">[1 more]</label></div><br/><div class="children"><div class="content">This is a great point. It&#x27;s true that there&#x27;s a wealth of good information out there. But there&#x27;s so much bad information that we now struggle with a signal vs noise problem. If you don&#x27;t have enough context and knowledge yet to make the distinction, it&#x27;s very easy to go down a wild goose chase. Having access to an expert in the field who can mentor and direct you is invaluable.</div><br/></div></div><div id="37217452" class="c"><input type="checkbox" id="c-37217452" checked=""/><div class="controls bullet"><span class="by">tekla</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217127">parent</a><span>|</span><a href="#37217216">prev</a><span>|</span><a href="#37217359">next</a><span>|</span><label class="collapse" for="c-37217452">[-]</label><label class="expand" for="c-37217452">[5 more]</label></div><br/><div class="children"><div class="content">If a Com Sci paper is unrepeatable, all of this has been a freaking waste of everyones time.</div><br/><div id="37217530" class="c"><input type="checkbox" id="c-37217530" checked=""/><div class="controls bullet"><span class="by">autotune</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217452">parent</a><span>|</span><a href="#37217359">next</a><span>|</span><label class="collapse" for="c-37217530">[-]</label><label class="expand" for="c-37217530">[4 more]</label></div><br/><div class="children"><div class="content">Idempotency, testing, readability, and longevity are all too often ignored in CS and tech in the name of speed and simplicity.</div><br/><div id="37217897" class="c"><input type="checkbox" id="c-37217897" checked=""/><div class="controls bullet"><span class="by">l33t7332273</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217530">parent</a><span>|</span><a href="#37217359">next</a><span>|</span><label class="collapse" for="c-37217897">[-]</label><label class="expand" for="c-37217897">[3 more]</label></div><br/><div class="children"><div class="content">Can you elaborate on idempotency in the context os CS papers?<p>I’m familiar with the concept wrt mathematics(in particular in the context of ulter-a-filters as my favorite professor would say it), but I don’t see the necessity in most CS research.</div><br/><div id="37218134" class="c"><input type="checkbox" id="c-37218134" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217897">parent</a><span>|</span><a href="#37217359">next</a><span>|</span><label class="collapse" for="c-37218134">[-]</label><label class="expand" for="c-37218134">[2 more]</label></div><br/><div class="children"><div class="content">Idempotency (as I understand it, what maths people might call an &#x27;idempotent function&#x27;) is a very core idea in distributed systems - networks are unreliable, stuff may get lost, or you might not get an acknowledgment back, so the ability to send the same thing 1 0r a million times and end up with the same state is useful.<p>Or have I completely missed the point of your question..?</div><br/><div id="37218358" class="c"><input type="checkbox" id="c-37218358" checked=""/><div class="controls bullet"><span class="by">NortySpock</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37218134">parent</a><span>|</span><a href="#37217359">next</a><span>|</span><label class="collapse" for="c-37218358">[-]</label><label class="expand" for="c-37218358">[1 more]</label></div><br/><div class="children"><div class="content">It is also super useful in ye olde batch process &#x2F; etl process. Designing an ingest-analyze-report process to checkpoint its work and recover gracefully even when started at an unexpected time or place means you can retry safely rather than have to manually clear out the detritus of a partial job run.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37217359" class="c"><input type="checkbox" id="c-37217359" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217127">parent</a><span>|</span><a href="#37217452">prev</a><span>|</span><a href="#37219752">next</a><span>|</span><label class="collapse" for="c-37217359">[-]</label><label class="expand" for="c-37217359">[3 more]</label></div><br/><div class="children"><div class="content">Can you explain what you mean by an un-repeatable process? This isn&#x27;t a physical science, you don&#x27;t need your own reactor or chemical lab or anything to repeat what they&#x27;ve done.</div><br/><div id="37217500" class="c"><input type="checkbox" id="c-37217500" checked=""/><div class="controls bullet"><span class="by">autotune</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217359">parent</a><span>|</span><a href="#37219752">next</a><span>|</span><label class="collapse" for="c-37217500">[-]</label><label class="expand" for="c-37217500">[2 more]</label></div><br/><div class="children"><div class="content">&quot;But, you are not Google&quot; - <a href="https:&#x2F;&#x2F;medium.com&#x2F;humans-of-devops&#x2F;you-dont-need-sre-what-you-need-is-sre-bd420ad2b53b" rel="nofollow noreferrer">https:&#x2F;&#x2F;medium.com&#x2F;humans-of-devops&#x2F;you-dont-need-sre-what-y...</a>. Just an example of what I&#x27;m talking about. Practices that work at one org may not easily transfer over to another, be that taking on kubernetes vs standard ec2 instances, on-prem vs cloud, etc. etc. Maybe un-repeatable isn&#x27;t the best word so much as non-portable?</div><br/><div id="37217540" class="c"><input type="checkbox" id="c-37217540" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217500">parent</a><span>|</span><a href="#37219752">next</a><span>|</span><label class="collapse" for="c-37217540">[-]</label><label class="expand" for="c-37217540">[1 more]</label></div><br/><div class="children"><div class="content">Ah I think I see what you&#x27;re getting at.<p>Most of the stuff I read isn&#x27;t &quot;your SAAS app should have atomic clocks&quot; and more &quot;here&#x27;s some maths on why it works, here&#x27;s some explanation of what we were going for, here&#x27;s some pseudocode&quot;.</div><br/></div></div></div></div></div></div></div></div><div id="37219752" class="c"><input type="checkbox" id="c-37219752" checked=""/><div class="controls bullet"><span class="by">kingkongjaffa</span><span>|</span><a href="#37217096">parent</a><span>|</span><a href="#37217127">prev</a><span>|</span><a href="#37217416">next</a><span>|</span><label class="collapse" for="c-37219752">[-]</label><label class="expand" for="c-37219752">[2 more]</label></div><br/><div class="children"><div class="content">Other than DDIA do you have a heuristic for finding the older papers? I often look for the seminal works but it’s hard when you don’t know who the key people are in a new field. Do you just look for highest number of citations on google scholar or something else?<p>For example in the world of engines, Heywood is basically god: (<a href="https:&#x2F;&#x2F;scholar.google.com&#x2F;scholar?hl=en&amp;as_sdt=0%2C5&amp;q=John+b+heywood&amp;btnG=#d=gs_qabs&amp;t=1692689905401&amp;u=%23p%3D_uxXsyDGuA4J" rel="nofollow noreferrer">https:&#x2F;&#x2F;scholar.google.com&#x2F;scholar?hl=en&amp;as_sdt=0%2C5&amp;q=John...</a>) has 29k citations!</div><br/><div id="37219909" class="c"><input type="checkbox" id="c-37219909" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37219752">parent</a><span>|</span><a href="#37217416">next</a><span>|</span><label class="collapse" for="c-37219909">[-]</label><label class="expand" for="c-37219909">[1 more]</label></div><br/><div class="children"><div class="content">Yeah just go to wikipedia and find out who coined the term :) I love the original version vector paper, it&#x27;s from 1983 and kind of funny in parts:<p>&quot;Network partitioning can completely destroy mutual consistency in the worst case, and this fact has led to a certain amount of restrictiveness, vagueness, and even nervousness in past discussions, of how it may be handled&quot;<p><a href="https:&#x2F;&#x2F;pages.cs.wisc.edu&#x2F;~remzi&#x2F;Classes&#x2F;739&#x2F;Fall2015&#x2F;Papers&#x2F;parker83detection.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;pages.cs.wisc.edu&#x2F;~remzi&#x2F;Classes&#x2F;739&#x2F;Fall2015&#x2F;Papers...</a><p>But as a general starting point, all roads seem to lead to Lamport 78 (Time, Clocks). If you have a specific area of interest I or others might be able to point you in the right direction.</div><br/></div></div></div></div><div id="37217416" class="c"><input type="checkbox" id="c-37217416" checked=""/><div class="controls bullet"><span class="by">delocalized</span><span>|</span><a href="#37217096">parent</a><span>|</span><a href="#37219752">prev</a><span>|</span><a href="#37219479">next</a><span>|</span><label class="collapse" for="c-37217416">[-]</label><label class="expand" for="c-37217416">[2 more]</label></div><br/><div class="children"><div class="content">I was gifted Designing Data-Intensive Applications in high school and it changed the course of my CS education. Beautiful, beautiful book.</div><br/><div id="37218377" class="c"><input type="checkbox" id="c-37218377" checked=""/><div class="controls bullet"><span class="by">NortySpock</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37217416">parent</a><span>|</span><a href="#37219479">next</a><span>|</span><label class="collapse" for="c-37218377">[-]</label><label class="expand" for="c-37218377">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the story,  I gifted a copy to an intern at work this year and I hope they enjoy it.</div><br/></div></div></div></div><div id="37219479" class="c"><input type="checkbox" id="c-37219479" checked=""/><div class="controls bullet"><span class="by">zigman1</span><span>|</span><a href="#37217096">parent</a><span>|</span><a href="#37217416">prev</a><span>|</span><a href="#37219630">next</a><span>|</span><label class="collapse" for="c-37219479">[-]</label><label class="expand" for="c-37219479">[2 more]</label></div><br/><div class="children"><div class="content">&gt; - Follow cool people in the field.<p>Any advice how to approach this?</div><br/><div id="37219816" class="c"><input type="checkbox" id="c-37219816" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37217096">root</a><span>|</span><a href="#37219479">parent</a><span>|</span><a href="#37219630">next</a><span>|</span><label class="collapse" for="c-37219816">[-]</label><label class="expand" for="c-37219816">[1 more]</label></div><br/><div class="children"><div class="content">A few cool accounts I follow:<p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;DominikTornow" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;DominikTornow</a><p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;jorandirkgreef" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;jorandirkgreef</a><p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;JungleSilicon" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;JungleSilicon</a><p>You can also follow me. Not saying I&#x27;m cool but I do re-tweet cool people:<p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;LewisCTech" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;LewisCTech</a></div><br/></div></div></div></div></div></div><div id="37219630" class="c"><input type="checkbox" id="c-37219630" checked=""/><div class="controls bullet"><span class="by">pradeepchhetri</span><span>|</span><a href="#37217096">prev</a><span>|</span><a href="#37220003">next</a><span>|</span><label class="collapse" for="c-37219630">[-]</label><label class="expand" for="c-37219630">[1 more]</label></div><br/><div class="children"><div class="content">If you are interested in performance aspect of databases, I would recommend watching this great talk [0] from Alexey, ClickHouse Developer, where he talks about various aspects like designing systems by first realising the hardware capabilities and understanding the problem landscape.<p>[0]: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ZOZQCQEtrz8">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ZOZQCQEtrz8</a></div><br/></div></div><div id="37220003" class="c"><input type="checkbox" id="c-37220003" checked=""/><div class="controls bullet"><span class="by">samsquire</span><span>|</span><a href="#37219630">prev</a><span>|</span><a href="#37216888">next</a><span>|</span><label class="collapse" for="c-37220003">[-]</label><label class="expand" for="c-37220003">[1 more]</label></div><br/><div class="children"><div class="content">There is so many interesting problems to solve. I just want there was available libraries or solutions that solved a lot of them for the least cost, so that I may build on some good foundations.<p>RocksDB is an example of that.<p>I am playing around with SIMD, multithreaded queues and barriers.<p>I haven&#x27;t read the DDIA book.<p>I used Michaeln Nielsen&#x27;s consistent hashing code for distributing SQL database rows between shards.<p>I have an eventually consistent protocol that is not linearizable.<p>I am currently investigating how to schedule system events such as TCP ready for reading EPOLLIN or ready for writing EPOLLOUT efficiently rather than data events.<p>I want super flexible scheduling styles of control flow. Im looking at barriers right now.<p>I am thinking how to respond to events with low latency and across threads.<p>I&#x27;m playing with some coroutines in assembly by Marce Coll and looking at algebraic effects</div><br/></div></div><div id="37216888" class="c"><input type="checkbox" id="c-37216888" checked=""/><div class="controls bullet"><span class="by">xnx</span><span>|</span><a href="#37220003">prev</a><span>|</span><a href="#37218266">next</a><span>|</span><label class="collapse" for="c-37216888">[-]</label><label class="expand" for="c-37216888">[11 more]</label></div><br/><div class="children"><div class="content">When I read that Google installed their own atomic clocks in each datacenter for Spanner, I knew they were doing some real computer science (and probably general relativity?) work: <a href="https:&#x2F;&#x2F;www.theverge.com&#x2F;2012&#x2F;11&#x2F;26&#x2F;3692392&#x2F;google-spanner-atomic-clocks-GPS" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.theverge.com&#x2F;2012&#x2F;11&#x2F;26&#x2F;3692392&#x2F;google-spanner-a...</a></div><br/><div id="37217417" class="c"><input type="checkbox" id="c-37217417" checked=""/><div class="controls bullet"><span class="by">liquidgecka</span><span>|</span><a href="#37216888">parent</a><span>|</span><a href="#37218869">next</a><span>|</span><label class="collapse" for="c-37217417">[-]</label><label class="expand" for="c-37217417">[1 more]</label></div><br/><div class="children"><div class="content">We had hardware for time sync at Google 15 years ago actually, thats not a new thing. Actually.. we had time sync hardware (via GPS) in the early Twitter datacenters as well until it became clear that was impossible to support without getting roof access. =)</div><br/></div></div><div id="37218869" class="c"><input type="checkbox" id="c-37218869" checked=""/><div class="controls bullet"><span class="by">pokstad</span><span>|</span><a href="#37216888">parent</a><span>|</span><a href="#37217417">prev</a><span>|</span><a href="#37216924">next</a><span>|</span><label class="collapse" for="c-37218869">[-]</label><label class="expand" for="c-37218869">[1 more]</label></div><br/><div class="children"><div class="content">Accurate clocks in data centers predates Google. Telecom needed accurate clocks for their time sliced fiber infrastructure. Same for cellular infrastructure.</div><br/></div></div><div id="37216924" class="c"><input type="checkbox" id="c-37216924" checked=""/><div class="controls bullet"><span class="by">ignorantguy</span><span>|</span><a href="#37216888">parent</a><span>|</span><a href="#37218869">prev</a><span>|</span><a href="#37218986">next</a><span>|</span><label class="collapse" for="c-37216924">[-]</label><label class="expand" for="c-37216924">[4 more]</label></div><br/><div class="children"><div class="content">yeah synchrozing clocks across distributed systems is really hard without expensive hardware</div><br/><div id="37218813" class="c"><input type="checkbox" id="c-37218813" checked=""/><div class="controls bullet"><span class="by">audioheavy</span><span>|</span><a href="#37216888">root</a><span>|</span><a href="#37216924">parent</a><span>|</span><a href="#37218884">next</a><span>|</span><label class="collapse" for="c-37218813">[-]</label><label class="expand" for="c-37218813">[1 more]</label></div><br/><div class="children"><div class="content">...but for distributed databases specifically, you can use a different algorithm like Calvin[0] or Fauna[1] that do not require external atomic clocks… but the CS point and the wealth of info in research papers (in distributed systems stuff) are solid<p>...but there is a lot of noise in those software papers, too - you are often disappointed by fine print, or have good curators&#x2F;thought-leaders [2] - we all should share names ;)<p>enjoying the discussion though - very timely if you ask me.<p>-L, author of [1] below.<p>[0] - The original Calvin paper -<p><a href="https:&#x2F;&#x2F;cs.yale.edu&#x2F;homes&#x2F;thomson&#x2F;publications&#x2F;calvin-sigmod12.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;cs.yale.edu&#x2F;homes&#x2F;thomson&#x2F;publications&#x2F;calvin-sigmod...</a><p>[1] - How Fauna implements a variation of Calvin -<p><a href="https:&#x2F;&#x2F;fauna.com&#x2F;blog&#x2F;inside-faunas-distributed-transaction-engine-dte#a-flexible-layered-system" rel="nofollow noreferrer">https:&#x2F;&#x2F;fauna.com&#x2F;blog&#x2F;inside-faunas-distributed-transaction...</a><p>[2] - A great article about Calvin by Mohammad Roohitavaf -
<a href="https:&#x2F;&#x2F;www.mydistributed.systems&#x2F;2020&#x2F;08&#x2F;calvin.html?m=1#:~:text=Calvin%20is%20a%20transaction%20scheduling,that%20unlike%202PL%20is%20deterministic" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.mydistributed.systems&#x2F;2020&#x2F;08&#x2F;calvin.html?m=1#:~...</a>.</div><br/></div></div><div id="37218884" class="c"><input type="checkbox" id="c-37218884" checked=""/><div class="controls bullet"><span class="by">kmod</span><span>|</span><a href="#37216888">root</a><span>|</span><a href="#37216924">parent</a><span>|</span><a href="#37218813">prev</a><span>|</span><a href="#37218986">next</a><span>|</span><label class="collapse" for="c-37218884">[-]</label><label class="expand" for="c-37218884">[2 more]</label></div><br/><div class="children"><div class="content">I hear this from tech people, but hft people are happily humming along with highly-synchronized clocks (mifid ii requires clocks to be synchronized to 100us). I wouldn&#x27;t say it&#x27;s &quot;easy&quot; but apparently if you need it then you do it and it&#x27;s not that bad.</div><br/><div id="37219426" class="c"><input type="checkbox" id="c-37219426" checked=""/><div class="controls bullet"><span class="by">joshuamorton</span><span>|</span><a href="#37216888">root</a><span>|</span><a href="#37218884">parent</a><span>|</span><a href="#37218986">next</a><span>|</span><label class="collapse" for="c-37219426">[-]</label><label class="expand" for="c-37219426">[1 more]</label></div><br/><div class="children"><div class="content">&gt; (mifid ii requires clocks to be synchronized to 100us)<p>That only applies if the clocks are within 1ms of each other, so around 100 miles (or equivalently: within a single cloud region), and only came in to force in 2014.<p>The bound that Spanner-likes keep is ~3ms for datacenters across continents, and that was in 2012.</div><br/></div></div></div></div></div></div><div id="37218986" class="c"><input type="checkbox" id="c-37218986" checked=""/><div class="controls bullet"><span class="by">totetsu</span><span>|</span><a href="#37216888">parent</a><span>|</span><a href="#37216924">prev</a><span>|</span><a href="#37218266">next</a><span>|</span><label class="collapse" for="c-37218986">[-]</label><label class="expand" for="c-37218986">[4 more]</label></div><br/><div class="children"><div class="content">I wonder if you have to account for localized gravity differences for that kind of thing.</div><br/><div id="37219005" class="c"><input type="checkbox" id="c-37219005" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37216888">root</a><span>|</span><a href="#37218986">parent</a><span>|</span><a href="#37218266">next</a><span>|</span><label class="collapse" for="c-37219005">[-]</label><label class="expand" for="c-37219005">[3 more]</label></div><br/><div class="children"><div class="content">ChatGPT tells me that the time difference between the top of mount everest and sea level is in the nano second range - so completely dwarfed by network latency and maybe doesn&#x27;t matter?<p>Pure speculation on my behalf though.</div><br/><div id="37219092" class="c"><input type="checkbox" id="c-37219092" checked=""/><div class="controls bullet"><span class="by">defrost</span><span>|</span><a href="#37216888">root</a><span>|</span><a href="#37219005">parent</a><span>|</span><a href="#37218266">next</a><span>|</span><label class="collapse" for="c-37219092">[-]</label><label class="expand" for="c-37219092">[2 more]</label></div><br/><div class="children"><div class="content">If you were to supply that answer in a group concerned with time and gravity they might ask you if that was the right question to ask wrt &quot;greatest relativistic time seperation between two points on &#x27;the earth&#x27;s surface&#x27;&quot;<p>ChatGPT likely won&#x27;t help - but you could look into the fact the the earth isn&#x27;t round, being an oblate spheroid with 20km less radius at the poles than the equator.<p>Of course the fact the ideal WGS84 ellipsoid, the official mean global sea level, and the geoid (gravitational surface of equipotential) don&#x27;t all align must surely come into play here - and that bloody great &quot;gravitational hole&quot; somewhere south of Ceylon.<p><a href="https:&#x2F;&#x2F;www.e-education.psu.edu&#x2F;geog862&#x2F;node&#x2F;1820" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.e-education.psu.edu&#x2F;geog862&#x2F;node&#x2F;1820</a><p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Gravity_of_Earth" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Gravity_of_Earth</a><p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;World_Geodetic_System" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;World_Geodetic_System</a></div><br/><div id="37219819" class="c"><input type="checkbox" id="c-37219819" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37216888">root</a><span>|</span><a href="#37219092">parent</a><span>|</span><a href="#37218266">next</a><span>|</span><label class="collapse" for="c-37219819">[-]</label><label class="expand" for="c-37219819">[1 more]</label></div><br/><div class="children"><div class="content">Yeap I am way out of my depth here :)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37218266" class="c"><input type="checkbox" id="c-37218266" checked=""/><div class="controls bullet"><span class="by">richieartoul</span><span>|</span><a href="#37216888">prev</a><span>|</span><a href="#37218003">next</a><span>|</span><label class="collapse" for="c-37218266">[-]</label><label class="expand" for="c-37218266">[2 more]</label></div><br/><div class="children"><div class="content">I’ve built pretty much my entire career around this problem and it still feels evergreen. If you want a meaningful and rich career as a software engineer, distributed storage is a great area to focus on.</div><br/><div id="37219029" class="c"><input type="checkbox" id="c-37219029" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#37218266">parent</a><span>|</span><a href="#37218003">next</a><span>|</span><label class="collapse" for="c-37219029">[-]</label><label class="expand" for="c-37219029">[1 more]</label></div><br/><div class="children"><div class="content">Could I send an email? I&#x27;m sunsetting my CRUD career and going down this route, would appreciate some perspective.</div><br/></div></div></div></div><div id="37218003" class="c"><input type="checkbox" id="c-37218003" checked=""/><div class="controls bullet"><span class="by">TuringNYC</span><span>|</span><a href="#37218266">prev</a><span>|</span><a href="#37218434">next</a><span>|</span><label class="collapse" for="c-37218003">[-]</label><label class="expand" for="c-37218003">[1 more]</label></div><br/><div class="children"><div class="content">I worked at a specialty database software vendor for almost 4yrs, albiet I worked on ML connectors. I recall some of the hardest challenges as figuring out each cloud vendor&#x27;s poorly documented and rapidly changing&#x2F;breaking marketplace launch mechanisms (usually built atop k8s using their own flavor (eks, aks, gke, etc)).</div><br/></div></div><div id="37218434" class="c"><input type="checkbox" id="c-37218434" checked=""/><div class="controls bullet"><span class="by">ibgeek</span><span>|</span><a href="#37218003">prev</a><span>|</span><a href="#37217592">next</a><span>|</span><label class="collapse" for="c-37218434">[-]</label><label class="expand" for="c-37218434">[1 more]</label></div><br/><div class="children"><div class="content">I was hoping that the blog post would actually spell out examples of problems.  Is it just me or have there been a lot of shorter blog posts on HN lately that are really no more than an introduction section rather than an actual full article?</div><br/></div></div><div id="37217592" class="c"><input type="checkbox" id="c-37217592" checked=""/><div class="controls bullet"><span class="by">avrionov</span><span>|</span><a href="#37218434">prev</a><span>|</span><a href="#37217912">next</a><span>|</span><label class="collapse" for="c-37217592">[-]</label><label class="expand" for="c-37217592">[3 more]</label></div><br/><div class="children"><div class="content">From the article:<p>&gt; Another example is figuring out the right tradeoffs between using local SSD disks and block-storage services (AWS EBS and others).<p>Local disks on AWS are not appropriate for long term storage, because when an instance reboot the data will be lost. AWS also doesn&#x27;t offer huge amounts of local storage.</div><br/><div id="37220045" class="c"><input type="checkbox" id="c-37220045" checked=""/><div class="controls bullet"><span class="by">anonymousDan</span><span>|</span><a href="#37217592">parent</a><span>|</span><a href="#37218520">next</a><span>|</span><label class="collapse" for="c-37220045">[-]</label><label class="expand" for="c-37220045">[1 more]</label></div><br/><div class="children"><div class="content">Unless you manage the replication across different local disks yourself</div><br/></div></div><div id="37218520" class="c"><input type="checkbox" id="c-37218520" checked=""/><div class="controls bullet"><span class="by">AdamProut</span><span>|</span><a href="#37217592">parent</a><span>|</span><a href="#37220045">prev</a><span>|</span><a href="#37217912">next</a><span>|</span><label class="collapse" for="c-37218520">[-]</label><label class="expand" for="c-37218520">[1 more]</label></div><br/><div class="children"><div class="content">yeah, that is part of the trade off.  Using an ephemeral SSD (for a database) means the database needs to have another means of making the data durable (replication, storing data in S3, etc.).<p>There are AWS instance types (I3en) with large and very fast SSDs (many times higher IOPS then EBS).</div><br/></div></div></div></div><div id="37217912" class="c"><input type="checkbox" id="c-37217912" checked=""/><div class="controls bullet"><span class="by">betaby</span><span>|</span><a href="#37217592">prev</a><span>|</span><a href="#37219421">next</a><span>|</span><label class="collapse" for="c-37217912">[-]</label><label class="expand" for="c-37217912">[5 more]</label></div><br/><div class="children"><div class="content">&gt; For instance, blob storages such as S3 have enabled cloud database providers to offer flexible, unlimited storage (SingleStoreDB even coined the term “bottomless storage” for this).<p>Can someone please elaborate that? What does it mean in conjunction of S3 and DB. I know how traditional DBs work (PostgreSQL and MySQL). I know how S3 work (opensource implementation like minio). But S3 is not a random access file on block storage which is a prerequirement for PostgreSQL and MySQL. How is that solved for S3 based DBs? Can someone point out to the doc, or even better an opensource implementation.</div><br/><div id="37218477" class="c"><input type="checkbox" id="c-37218477" checked=""/><div class="controls bullet"><span class="by">AdamProut</span><span>|</span><a href="#37217912">parent</a><span>|</span><a href="#37218246">next</a><span>|</span><label class="collapse" for="c-37218477">[-]</label><label class="expand" for="c-37218477">[1 more]</label></div><br/><div class="children"><div class="content">Its a popular design for SQL Data warehouses.   I think almost all of them (snowflake, redshift, etc.) store cold data in S3 and hot data on local disk[1][2].<p>It works well if the data is stored as immutable files (i.e., A log structure merge tree) or is not index at all (classical columnstores).   S3 doesn&#x27;t provide an efficient way to update a file.<p>[1] <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;2882903.2903741" rel="nofollow noreferrer">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;2882903.2903741</a> (snowflake SIGMOD paper)
[2] <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3514221.3526055" rel="nofollow noreferrer">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3514221.3526055</a> (singlestore SIGMOD paper)</div><br/></div></div><div id="37218246" class="c"><input type="checkbox" id="c-37218246" checked=""/><div class="controls bullet"><span class="by">richieartoul</span><span>|</span><a href="#37217912">parent</a><span>|</span><a href="#37218477">prev</a><span>|</span><a href="#37218334">next</a><span>|</span><label class="collapse" for="c-37218246">[-]</label><label class="expand" for="c-37218246">[1 more]</label></div><br/><div class="children"><div class="content">You usually have to redesign the storage from the ground up around S3. Some databases do transparent data tiering with S3 which can work ok too depending on the use case.</div><br/></div></div><div id="37217958" class="c"><input type="checkbox" id="c-37217958" checked=""/><div class="controls bullet"><span class="by">monero-xmr</span><span>|</span><a href="#37217912">parent</a><span>|</span><a href="#37218334">prev</a><span>|</span><a href="#37219421">next</a><span>|</span><label class="collapse" for="c-37217958">[-]</label><label class="expand" for="c-37217958">[1 more]</label></div><br/><div class="children"><div class="content">S3 is a key-value store with random access and various pricing &#x2F; limits. If you can make the disk IO part of your DB map to S3 API there is nothing stopping you other than network latency, and ensuring the way you use S3 is cost effective.</div><br/></div></div></div></div><div id="37218719" class="c"><input type="checkbox" id="c-37218719" checked=""/><div class="controls bullet"><span class="by">tayo42</span><span>|</span><a href="#37219421">prev</a><span>|</span><a href="#37217556">next</a><span>|</span><label class="collapse" for="c-37218719">[-]</label><label class="expand" for="c-37218719">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m kind of confused by companies like the one in the post. What is the selling point of the these hosted DB companies running in AWS, when aws and the rest of the providers them selves provide pretty good, probably much better, DB services? Is there that much money to make between running DBs on EC2 compared to the existing offerings they have?<p>Amazon, google, MS, these companies print money, have built up massive engineering cultures to run reliable storage. I just dont see what the value is with trusting data with some VC funded group over proven engineering work.<p>I worked on one of these in house storage systems, all we did was look at how the cloud providers did things already for inspiration. Might as well just use those. IDK maybe someone can convince me of the value?</div><br/><div id="37219501" class="c"><input type="checkbox" id="c-37219501" checked=""/><div class="controls bullet"><span class="by">qaq</span><span>|</span><a href="#37218719">parent</a><span>|</span><a href="#37218855">next</a><span>|</span><label class="collapse" for="c-37219501">[-]</label><label class="expand" for="c-37219501">[1 more]</label></div><br/><div class="children"><div class="content">Cause they provide solution AWS does not ?
SingleStore is hybrid OLAP&#x2F;OLTP AWS does not have one of those.
Neither does it have a proper horizontally scalable new SQL DBMS like CockroachDB.
Snowflake is way better than what you can get from AWS for OLAP. 
and so on</div><br/></div></div><div id="37218855" class="c"><input type="checkbox" id="c-37218855" checked=""/><div class="controls bullet"><span class="by">audioheavy</span><span>|</span><a href="#37218719">parent</a><span>|</span><a href="#37219501">prev</a><span>|</span><a href="#37217556">next</a><span>|</span><label class="collapse" for="c-37218855">[-]</label><label class="expand" for="c-37218855">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes the value is not in having a zillion configuration options with these providers but, instead, having a more accessible service that doesn&#x27;t require a PhD.<p>And some of the people in those VC-funded groups were alumni of those providers too.  :)<p>-L</div><br/></div></div></div></div></div></div></div></div></div></body></html>