<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699693265330" as="style"/><link rel="stylesheet" href="styles.css?v=1699693265330"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://bellard.org/pi/pi_n2/pi_n2.html">Computation of the n&#x27;th digit of pi in any base in O(n^2) (1997)</a>Â <span class="domain">(<a href="https://bellard.org">bellard.org</a>)</span></div><div class="subtext"><span>akkartik</span> | <span>15 comments</span></div><br/><div><div id="38227744" class="c"><input type="checkbox" id="c-38227744" checked=""/><div class="controls bullet"><span class="by">someplaceguy</span><span>|</span><a href="#38227173">next</a><span>|</span><label class="collapse" for="c-38227744">[-]</label><label class="expand" for="c-38227744">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s impressive, but not as impressive as this: <a href="https:&#x2F;&#x2F;twitter.com&#x2F;InternetH0F&#x2F;status&#x2F;1721641836404408536" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;InternetH0F&#x2F;status&#x2F;1721641836404408536</a></div><br/></div></div><div id="38227173" class="c"><input type="checkbox" id="c-38227173" checked=""/><div class="controls bullet"><span class="by">davesque</span><span>|</span><a href="#38227744">prev</a><span>|</span><a href="#38226668">next</a><span>|</span><label class="collapse" for="c-38227173">[-]</label><label class="expand" for="c-38227173">[6 more]</label></div><br/><div class="children"><div class="content">Squinting at this, I wonder if it&#x27;s at all valid to say that the existence of a quadratic time algorithm to calculate pi has anything to do with the fact that the implicit formula of a circle is made up of quadratic terms.<p>In other words, if pi basically sums up the most important fact about a circle&#x27;s geometry, then it&#x27;s reasonable to expect that geometry to be represented somehow in the important facts about algorithms that calculate pi.</div><br/><div id="38227239" class="c"><input type="checkbox" id="c-38227239" checked=""/><div class="controls bullet"><span class="by">alanbernstein</span><span>|</span><a href="#38227173">parent</a><span>|</span><a href="#38228179">next</a><span>|</span><label class="collapse" for="c-38227239">[-]</label><label class="expand" for="c-38227239">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s an interesting concept. I think similar spigot algorithms are known for other transcendentals, and I suspect if you compared them you would not find a general trend of deep connections between algorithmic complexity and the geometric features of the corresponding value. What would you look for in the spigot algorithm for e, or log 2?</div><br/><div id="38227931" class="c"><input type="checkbox" id="c-38227931" checked=""/><div class="controls bullet"><span class="by">davesque</span><span>|</span><a href="#38227173">root</a><span>|</span><a href="#38227239">parent</a><span>|</span><a href="#38228179">next</a><span>|</span><label class="collapse" for="c-38227931">[-]</label><label class="expand" for="c-38227931">[2 more]</label></div><br/><div class="children"><div class="content">I suppose e&#x27;s connection to hyperbolic geometry might suggest a relationship with the implicit formula x^2 - y^2 = 1.  And I guess log2&#x27;s behavior would be very much connected to that since it only differs from the natural log by a constant factor.</div><br/><div id="38228105" class="c"><input type="checkbox" id="c-38228105" checked=""/><div class="controls bullet"><span class="by">davesque</span><span>|</span><a href="#38227173">root</a><span>|</span><a href="#38227931">parent</a><span>|</span><a href="#38228179">next</a><span>|</span><label class="collapse" for="c-38228105">[-]</label><label class="expand" for="c-38228105">[1 more]</label></div><br/><div class="children"><div class="content">But I know I&#x27;m reaching here. I just like fantasizing about math :).</div><br/></div></div></div></div></div></div><div id="38228179" class="c"><input type="checkbox" id="c-38228179" checked=""/><div class="controls bullet"><span class="by">aquafox</span><span>|</span><a href="#38227173">parent</a><span>|</span><a href="#38227239">prev</a><span>|</span><a href="#38226668">next</a><span>|</span><label class="collapse" for="c-38228179">[-]</label><label class="expand" for="c-38228179">[2 more]</label></div><br/><div class="children"><div class="content">There are different ways to define pi. In real analysis, you first define the exponential function: exp(x) = sum (x^k)&#x2F;(k!), then cosine: cos(x) = Re(exp(i*x)), where i is the imaginary unit, and then show that cos(x) has exactly one root in [0,2], which you call pi&#x2F;2.<p>Your statement suggests that the definition via the circle is more fundamental that other definitions, which it isn&#x27;t, e.g. because it requires a very special metric in Euclidean space (of which there are infinitely many), while real analysis only requires a metric on the real numbers.</div><br/></div></div></div></div><div id="38226668" class="c"><input type="checkbox" id="c-38226668" checked=""/><div class="controls bullet"><span class="by">sp332</span><span>|</span><a href="#38227173">prev</a><span>|</span><a href="#38226884">next</a><span>|</span><label class="collapse" for="c-38226668">[-]</label><label class="expand" for="c-38226668">[5 more]</label></div><br/><div class="children"><div class="content">I thought we only had algorithms to do this in hexadecimal or other power-of-2 bases. Looks like arbitrary bases including base 10 have been doable since 1996!</div><br/><div id="38227209" class="c"><input type="checkbox" id="c-38227209" checked=""/><div class="controls bullet"><span class="by">credit_guy</span><span>|</span><a href="#38226668">parent</a><span>|</span><a href="#38226884">next</a><span>|</span><label class="collapse" for="c-38227209">[-]</label><label class="expand" for="c-38227209">[4 more]</label></div><br/><div class="children"><div class="content">We had the algorithm for the hexadecimal digits in 1997, and this post refers to it as reference 2. That algorithm runs in constant time, which is a pretty big deal.<p>This algorithm here runs in O(n^2). I&#x27;m not sure how impressed I should be. Bellard himself wrote this paper [1] in 2010 where he showed how he calculated 2.7 trillion decimal digits of pi. The algorithm was essentially linear (with some logs and powers of logs thrown in there, like in all self-respecting algorithms). Of course, 2010 was 13 years after 1997, maybe in 1997 O(n^2) was the best someone could get. I&#x27;m getting the impression however that the ingredients for the 2010 record were all there since the record established by the Chudnovsky brothers in 1988 [2].<p>[1] <a href="https:&#x2F;&#x2F;bellard.org&#x2F;pi&#x2F;pi2700e9&#x2F;pipcrecord.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;bellard.org&#x2F;pi&#x2F;pi2700e9&#x2F;pipcrecord.pdf</a><p>[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Chudnovsky_algorithm" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Chudnovsky_algorithm</a></div><br/><div id="38227655" class="c"><input type="checkbox" id="c-38227655" checked=""/><div class="controls bullet"><span class="by">lll-o-lll</span><span>|</span><a href="#38226668">root</a><span>|</span><a href="#38227209">parent</a><span>|</span><a href="#38228437">next</a><span>|</span><label class="collapse" for="c-38227655">[-]</label><label class="expand" for="c-38227655">[1 more]</label></div><br/><div class="children"><div class="content">Calculating n digits of pi is not the same problem as calculating the nth digit of pi. O(n^2) does indeed appear to be as good as that gets.</div><br/></div></div><div id="38228437" class="c"><input type="checkbox" id="c-38228437" checked=""/><div class="controls bullet"><span class="by">cbright</span><span>|</span><a href="#38226668">root</a><span>|</span><a href="#38227209">parent</a><span>|</span><a href="#38227655">prev</a><span>|</span><a href="#38227739">next</a><span>|</span><label class="collapse" for="c-38228437">[-]</label><label class="expand" for="c-38228437">[1 more]</label></div><br/><div class="children"><div class="content">&gt; this post refers to it as reference 2. That algorithm runs in constant time, which is a pretty big deal.<p>Not constant time; the analysis in the paper shows that the <i>n</i>th digit can be computed in O(<i>n</i> log <i>n</i> M(log <i>n</i>)) bit operations, where M(<i>j</i>) is the bit complexity of multiplying two <i>j</i> bit numbers.</div><br/></div></div><div id="38227739" class="c"><input type="checkbox" id="c-38227739" checked=""/><div class="controls bullet"><span class="by">dgacmu</span><span>|</span><a href="#38226668">root</a><span>|</span><a href="#38227209">parent</a><span>|</span><a href="#38228437">prev</a><span>|</span><a href="#38226884">next</a><span>|</span><label class="collapse" for="c-38227739">[-]</label><label class="expand" for="c-38227739">[1 more]</label></div><br/><div class="children"><div class="content">The algorithms to calculate all of the digits use o(n) memory. This uses o(1). It&#x27;s always nifty when you can trade time for memory like that.</div><br/></div></div></div></div></div></div><div id="38226884" class="c"><input type="checkbox" id="c-38226884" checked=""/><div class="controls bullet"><span class="by">Funnyduck99</span><span>|</span><a href="#38226668">prev</a><span>|</span><label class="collapse" for="c-38226884">[-]</label><label class="expand" for="c-38226884">[2 more]</label></div><br/><div class="children"><div class="content">Is this good? I would think finding nth digit of pi would be O(n)</div><br/><div id="38227009" class="c"><input type="checkbox" id="c-38227009" checked=""/><div class="controls bullet"><span class="by">sp332</span><span>|</span><a href="#38226884">parent</a><span>|</span><label class="collapse" for="c-38227009">[-]</label><label class="expand" for="c-38227009">[1 more]</label></div><br/><div class="children"><div class="content">That only works until you run out of resolution in your floating-point representation. When you have to start manually keeping track of digits, that&#x27;s when things slow down.</div><br/></div></div></div></div></div></div></div></div></div></body></html>