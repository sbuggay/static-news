<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1703322061317" as="style"/><link rel="stylesheet" href="styles.css?v=1703322061317"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://dmicz.github.io/machine-learning/svd-image-compression/">SVD Image Compression</a> <span class="domain">(<a href="https://dmicz.github.io">dmicz.github.io</a>)</span></div><div class="subtext"><span>dmicz</span> | <span>17 comments</span></div><br/><div><div id="38741533" class="c"><input type="checkbox" id="c-38741533" checked=""/><div class="controls bullet"><span class="by">radioactivist</span><span>|</span><a href="#38741842">next</a><span>|</span><label class="collapse" for="c-38741533">[-]</label><label class="expand" for="c-38741533">[1 more]</label></div><br/><div class="children"><div class="content">One small point: since the original image was 1 byte per pixel this SVD is storing the singular values and vectors in 8 byte double precision floats. Using doubles the SVD data is ~ 2.7x larger than the original image at n=60 (2*60+1 = 121 vectors stored vs. the original 360 is a factor of 1&#x2F;3 then going from 1 to 8 bytes per element), so to get any compression at all you&#x27;d need to go to ~ 1-2 bytes per element.<p>I think for a fair comparison for any actual compression you&#x27;d need to consider the effects of quantization of the SVD output itself (in say the rows&#x2F;columns of U,V alone, since you can keep the singular values at high-precision w&#x2F;o appreciable cost). [I&#x27;d guess they&#x27;d be ok for 2 bytes&#x2F;element, but 1 byte might be a problem].</div><br/></div></div><div id="38741842" class="c"><input type="checkbox" id="c-38741842" checked=""/><div class="controls bullet"><span class="by">vitus</span><span>|</span><a href="#38741533">prev</a><span>|</span><a href="#38742540">next</a><span>|</span><label class="collapse" for="c-38741842">[-]</label><label class="expand" for="c-38741842">[1 more]</label></div><br/><div class="children"><div class="content">This is hinted at very briefly in one code comment [0] in the article, but this application of SVD is a well-known (to the point that it&#x27;s even taught in university) method for dimensionality reduction, and typically referred to as Principal Components Analysis (PCA) [1].<p>[0] Said code comment is &quot;# Plotting the principal components&quot;.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Principal_component_analysis" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Principal_component_analysis</a></div><br/></div></div><div id="38742540" class="c"><input type="checkbox" id="c-38742540" checked=""/><div class="controls bullet"><span class="by">yuji_itadori</span><span>|</span><a href="#38741842">prev</a><span>|</span><a href="#38742186">next</a><span>|</span><label class="collapse" for="c-38742540">[-]</label><label class="expand" for="c-38742540">[1 more]</label></div><br/><div class="children"><div class="content">SVD is also the back bone for DMRG in the study of quantum groundstates</div><br/></div></div><div id="38742186" class="c"><input type="checkbox" id="c-38742186" checked=""/><div class="controls bullet"><span class="by">hyperific</span><span>|</span><a href="#38742540">prev</a><span>|</span><a href="#38740918">next</a><span>|</span><label class="collapse" for="c-38742186">[-]</label><label class="expand" for="c-38742186">[1 more]</label></div><br/><div class="children"><div class="content">See also<p><a href="https:&#x2F;&#x2F;timbaumann.info&#x2F;svd-image-compression-demo&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;timbaumann.info&#x2F;svd-image-compression-demo&#x2F;</a></div><br/></div></div><div id="38740918" class="c"><input type="checkbox" id="c-38740918" checked=""/><div class="controls bullet"><span class="by">jeffrallen</span><span>|</span><a href="#38742186">prev</a><span>|</span><a href="#38740407">next</a><span>|</span><label class="collapse" for="c-38740918">[-]</label><label class="expand" for="c-38740918">[5 more]</label></div><br/><div class="children"><div class="content">I would just like to say to linear algebra students today: you are so lucky to have explanations like this, and the Wikipedia article on eigenvalues available to you. In 1990 when I studied linear algebra, I had the book and my professor&#x27;s explanations and neither were good enough. What a time to be a student!</div><br/><div id="38742352" class="c"><input type="checkbox" id="c-38742352" checked=""/><div class="controls bullet"><span class="by">Mandelmus</span><span>|</span><a href="#38740918">parent</a><span>|</span><a href="#38741174">next</a><span>|</span><label class="collapse" for="c-38742352">[-]</label><label class="expand" for="c-38742352">[1 more]</label></div><br/><div class="children"><div class="content">As a current compsci masters student at ETH Zurich: yes, having those explanations is wonderful, but that just means that topics like SVD and PCA are taken for granted now, and the things that we need to chew on are things for which no nice canonical explainers have been created (and that likely weren’t taught in 1990).<p>Personally I think that innovation in explanation&#x2F;illustration of abstract mathematical topics is one of the most valuable kinds of progress, but it’s rarely talked about as such. When someone comes up with the right framework, visualisation, or metaphor for explaining a complex and abstract subject in a way that induces “the right” mental model, and this new teaching “tool” proliferates, that is just a beautiful thing to see.</div><br/></div></div><div id="38741174" class="c"><input type="checkbox" id="c-38741174" checked=""/><div class="controls bullet"><span class="by">nerdponx</span><span>|</span><a href="#38740918">parent</a><span>|</span><a href="#38742352">prev</a><span>|</span><a href="#38742359">next</a><span>|</span><label class="collapse" for="c-38741174">[-]</label><label class="expand" for="c-38741174">[1 more]</label></div><br/><div class="children"><div class="content">Not to mention this contains good examples of effective Numpy and Matplotlib usage. It can be <i>really</i> hard to figure out how to do that stuff on your own.</div><br/></div></div><div id="38742359" class="c"><input type="checkbox" id="c-38742359" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#38740918">parent</a><span>|</span><a href="#38741174">prev</a><span>|</span><a href="#38741431">next</a><span>|</span><label class="collapse" for="c-38742359">[-]</label><label class="expand" for="c-38742359">[1 more]</label></div><br/><div class="children"><div class="content">The problem is that since explanations like this exist, I don&#x27;t <i>know</i> how to figure this kind of stuff out like how you did!</div><br/></div></div></div></div><div id="38740407" class="c"><input type="checkbox" id="c-38740407" checked=""/><div class="controls bullet"><span class="by">kroll</span><span>|</span><a href="#38740918">prev</a><span>|</span><label class="collapse" for="c-38740407">[-]</label><label class="expand" for="c-38740407">[7 more]</label></div><br/><div class="children"><div class="content">It may be off topic... but, does anyone know how this compares to Lossy WebP compression used by Google Photos?</div><br/><div id="38741241" class="c"><input type="checkbox" id="c-38741241" checked=""/><div class="controls bullet"><span class="by">derf_</span><span>|</span><a href="#38740407">parent</a><span>|</span><a href="#38740505">next</a><span>|</span><label class="collapse" for="c-38741241">[-]</label><label class="expand" for="c-38741241">[3 more]</label></div><br/><div class="children"><div class="content">The author talks about JPEG, and says the principle is surprisingly similar, but the connection between the two is actually pretty direct. I will link a previous comment of mine from another discussion of SVD image compression to explain: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34732922">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34732922</a><p>To go from JPEG to lossy WebP (really, VP8 intra frames), the main differences are<p>(a) using smaller (4x4) transform blocks instead of 8x8,<p>(b) noticing that if you take just the first coefficient in each block, it looks like a lower resolution of the original image, and applying another 4x4 transform to those coefficients,<p>(c) adding more sophisticated prediction between blocks (e.g., subtract the pixel on the right edge of the previous block from all the pixels in the same row of the current block before transforming them, or something similar to predict in other directions),<p>(d) filtering along block edges to reduce blocking artifacts (many JPEG decoders do this, but WebP&#x2F;VP8 make it a mandatory part of the standard), and<p>(e) using arithmetic coding instead of Huffman coding.<p>There are of course other minor differences in the details.<p>But the main mechanism that underlies both is a transform that can be derived from the SVD if one assumes a simple statistical model of natural image data.</div><br/><div id="38741699" class="c"><input type="checkbox" id="c-38741699" checked=""/><div class="controls bullet"><span class="by">peter_d_sherman</span><span>|</span><a href="#38740407">root</a><span>|</span><a href="#38741241">parent</a><span>|</span><a href="#38740505">next</a><span>|</span><label class="collapse" for="c-38741699">[-]</label><label class="expand" for="c-38741699">[2 more]</label></div><br/><div class="children"><div class="content">Hi derf_!<p>Those are some very interesting comments!<p>I&#x27;d be interested (and this is purely &quot;academic&quot; curiousity) IF there was:<p><i>Something mathematical</i> -- which would underly <i>all</i> image compression algorithms; that is, if all image compression algorithms could be shown (&quot;proven&quot; I guess -- I am not a professional Mathematician, only armchair, so bear with me!) to belong to a specific class of generalized compression algorithms or (ideally!) a single &quot;parent&quot; (for lack of a better word) image compression algorithm -- that would give rise to all other image compression algorithms, no matter how diverse or not mathematically related they would all seem...<p>The use of Matrices (which model systems of linear equations, which in turn, enumerate&#x2F;list&#x2F;make clear&#x2F;table -- relationships between factors in those equations) -- would seems to be a good starting point for this Mathematical inquiry, should it be made...<p>Maybe I should phrase this a little bit better...<p>Maybe it&#x27;s something like (as a future goal for the Mathematicians of the world), &quot;for every image compression algorithm X, show&#x2F;prove that X is related to &lt;parent Mathematical principle involving matrices&gt;&quot;...<p>Or something like that...<p>Sort of like a grand unifying theory of image compression...<p>Anyway, your comments are highly interesting.<p>It seems like you might be part of the way there for something like a rigorously mathematically unified (and proven!) future understanding of image compression!</div><br/><div id="38742438" class="c"><input type="checkbox" id="c-38742438" checked=""/><div class="controls bullet"><span class="by">wiml</span><span>|</span><a href="#38740407">root</a><span>|</span><a href="#38741699">parent</a><span>|</span><a href="#38740505">next</a><span>|</span><label class="collapse" for="c-38742438">[-]</label><label class="expand" for="c-38742438">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think that it&#x27;s truly universal, but quite a few image compression schemes have a similar structure if you stand back and squint:<p>1. Use a reversible linear transform to transform the image into some other space. (It&#x27;ll still require the same amount of data to represent)  
2. Throw away a bunch of the values (set them to zero, or round them to low precision, etc)  
3. Now that there are some repetitive zeroes or whatever, a conventional data compression algorithm (like LZW, Huffman, or interval&#x2F;arithmetic) can make it smaller<p>Even simple things like resizing an image smaller can be fit into this framework: step 1 is a simple blur, step 2 sets a bunch of pixels to zero, step 3 discards them.<p>(I don&#x27;t think fractal compression can be fit into this framework, but I could be wrong. That&#x27;s the only exception I can think of offhand.)</div><br/></div></div></div></div></div></div><div id="38740505" class="c"><input type="checkbox" id="c-38740505" checked=""/><div class="controls bullet"><span class="by">teruakohatu</span><span>|</span><a href="#38740407">parent</a><span>|</span><a href="#38741241">prev</a><span>|</span><a href="#38741015">next</a><span>|</span><label class="collapse" for="c-38740505">[-]</label><label class="expand" for="c-38740505">[1 more]</label></div><br/><div class="children"><div class="content">SVD is not going to compare with state of the art compression, but it has many uses and is very simple to implement.</div><br/></div></div><div id="38741015" class="c"><input type="checkbox" id="c-38741015" checked=""/><div class="controls bullet"><span class="by">gfody</span><span>|</span><a href="#38740407">parent</a><span>|</span><a href="#38740505">prev</a><span>|</span><a href="#38741503">next</a><span>|</span><label class="collapse" for="c-38741015">[-]</label><label class="expand" for="c-38741015">[1 more]</label></div><br/><div class="children"><div class="content">svd is not as good as dct for compression, but it&#x27;s a good explainer setup</div><br/></div></div></div></div></div></div></div></div></div></body></html>