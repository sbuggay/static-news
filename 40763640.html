<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1719133273248" as="style"/><link rel="stylesheet" href="styles.css?v=1719133273248"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://lucasoshiro.github.io/posts-en/2024-06-17-ruby-shellscript/">Ruby: A great language for shell scripts</a> <span class="domain">(<a href="https://lucasoshiro.github.io">lucasoshiro.github.io</a>)</span></div><div class="subtext"><span>lucasoshiro</span> | <span>177 comments</span></div><br/><div><div id="40763837" class="c"><input type="checkbox" id="c-40763837" checked=""/><div class="controls bullet"><span class="by">codesnik</span><span>|</span><a href="#40763932">next</a><span>|</span><label class="collapse" for="c-40763837">[-]</label><label class="expand" for="c-40763837">[68 more]</label></div><br/><div class="children"><div class="content">I sometimes wonder why we don&#x27;t see ruby used for shell stuff more often. It inherited most of the good stuff for shell scripting from Perl, and Perl took a lot of it&#x27;s syntax from sh and sed and awk, so almost anything you can do in shell script you can do in ruby, but with an <i>option</i> of making it gradually less terse and more readable, while having sane variables and data handling from the start.<p>Also ruby is great in allowing complexity to grow smoothly, no sudden hiccups. You start with just one line (everything goes into module main implicitly), extend it to a single-file script, require some built-in libraries, then add a module or helper class in the same file, and only then maybe extract those files to required files, add gems, whatever. No boilerplate whatsoever, no jumps, no big rewrites.<p>meanwhile, a lot of tooling nowadays is written in Go, and I have no idea why, it&#x27;s not friendly for os manipulation at all, and number crunching power is not needed in many, many tasks of that sort.</div><br/><div id="40764288" class="c"><input type="checkbox" id="c-40764288" checked=""/><div class="controls bullet"><span class="by">NullInvictus</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764706">next</a><span>|</span><label class="collapse" for="c-40764288">[-]</label><label class="expand" for="c-40764288">[5 more]</label></div><br/><div class="children"><div class="content">I think the quality of a language for shell scripting is often secondary. What’s of greater significance is where it is at. I.e., does it have it already installed? The answer with Linux and Bash is almost always “yes”. Not so with ruby.<p>The moment you start asking the user to install things, you’ve opened up the possibility for writing a program rather than a shell script. The lifecycle of a piece of software is almost always one of growing responsibility. This cycle is devastating when it happens to shell scripts. What was once a simple script slowly becomes creaking mass of untestable, poorly understood code playing in the traffic of swimming environments (which grep you got, buddy?).<p>I guess I’m saying that once you open up the possibility of writing a program, you generally take that option and are usually happier for it. In the “write a program” world, ruby is still good, but it becomes a far harder question to answer whether ruby is still the right choice. There are a lot of languages with a lot of features engineers like.</div><br/><div id="40764943" class="c"><input type="checkbox" id="c-40764943" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764288">parent</a><span>|</span><a href="#40764706">next</a><span>|</span><label class="collapse" for="c-40764943">[-]</label><label class="expand" for="c-40764943">[4 more]</label></div><br/><div class="children"><div class="content">This is indeed why I use Perl over Ruby. As long as it&#x27;s not for a Window machine, a Perl script is deployed by copying it over and that&#x27;s it.</div><br/><div id="40764995" class="c"><input type="checkbox" id="c-40764995" checked=""/><div class="controls bullet"><span class="by">noisy_boy</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764943">parent</a><span>|</span><a href="#40765182">next</a><span>|</span><label class="collapse" for="c-40764995">[-]</label><label class="expand" for="c-40764995">[2 more]</label></div><br/><div class="children"><div class="content">That was the reason Perl was what I switched too from bash when I was working on Solaris boxes; it was <i>miles</i> ahead of what was possible with bash AND it was already present. If I remember an older version of Python was also installed but by then Perl had already got me reeled in and I felt Python to be too &quot;verbose&quot; compared to Perl (I eventually changed my opinion when I got a bit more experience under my belt).</div><br/><div id="40765113" class="c"><input type="checkbox" id="c-40765113" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764995">parent</a><span>|</span><a href="#40765182">next</a><span>|</span><label class="collapse" for="c-40765113">[-]</label><label class="expand" for="c-40765113">[1 more]</label></div><br/><div class="children"><div class="content">Interesting! I still find Python too verbose to stand in for shell scripts when Perl is available, with what I think is a decent chunk of experience.</div><br/></div></div></div></div><div id="40765182" class="c"><input type="checkbox" id="c-40765182" checked=""/><div class="controls bullet"><span class="by">petre</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764943">parent</a><span>|</span><a href="#40764995">prev</a><span>|</span><a href="#40764706">next</a><span>|</span><label class="collapse" for="c-40765182">[-]</label><label class="expand" for="c-40765182">[1 more]</label></div><br/><div class="children"><div class="content">One usually needs modules to easily do something more advanced, but yes, Perl is almost always installed. Although I find Ruby much more ergonomic, I still reach for Perl as well because I know it better and don’t have to open the documentation so often.</div><br/></div></div></div></div></div></div><div id="40764706" class="c"><input type="checkbox" id="c-40764706" checked=""/><div class="controls bullet"><span class="by">asa400</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764288">prev</a><span>|</span><a href="#40763853">next</a><span>|</span><label class="collapse" for="c-40764706">[-]</label><label class="expand" for="c-40764706">[11 more]</label></div><br/><div class="children"><div class="content">&gt; I sometimes wonder why we don&#x27;t see ruby used for shell stuff more often.<p>The reason we don&#x27;t see Ruby used more for shell stuff is because Python won this particular war. It&#x27;s already installed on basically every Linux distribution out there, and this simple fact outweighs all other language considerations for probably &gt;95% of people who are writing shell scripts in something that isn&#x27;t Bash.<p>Personally, I don&#x27;t much like Python, and even though Ruby is not my favorite language either, I find it much better than Python for this kind of work. But I don&#x27;t get to decide how Debian builds their infrastructure, so in the end, I tend to use Python.</div><br/><div id="40764857" class="c"><input type="checkbox" id="c-40764857" checked=""/><div class="controls bullet"><span class="by">nevdka</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764706">parent</a><span>|</span><a href="#40764789">next</a><span>|</span><label class="collapse" for="c-40764857">[-]</label><label class="expand" for="c-40764857">[1 more]</label></div><br/><div class="children"><div class="content">This is also the reason perl was used before python began to dominate. It was installed everywhere before python was installed everywhere.</div><br/></div></div><div id="40764789" class="c"><input type="checkbox" id="c-40764789" checked=""/><div class="controls bullet"><span class="by">mu53</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764706">parent</a><span>|</span><a href="#40764857">prev</a><span>|</span><a href="#40764777">next</a><span>|</span><label class="collapse" for="c-40764789">[-]</label><label class="expand" for="c-40764789">[1 more]</label></div><br/><div class="children"><div class="content">this whole argument is silly. In my time on this site, I have seen someone suggest that every language is good for shell scripting including C.<p>Python and bash are used in the real world most often because convincing your sysadmin&#x2F;infra&#x2F;boss guy to install ruby for one script is a hard sell when you already have good-enough tools built into the system that don&#x27;t add risk&#x2F;complexity.</div><br/></div></div><div id="40764777" class="c"><input type="checkbox" id="c-40764777" checked=""/><div class="controls bullet"><span class="by">shmerl</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764706">parent</a><span>|</span><a href="#40764789">prev</a><span>|</span><a href="#40764908">next</a><span>|</span><label class="collapse" for="c-40764777">[-]</label><label class="expand" for="c-40764777">[6 more]</label></div><br/><div class="children"><div class="content">How hard is to install it though? That doesn&#x27;t sound like a reason not to use it.</div><br/><div id="40765242" class="c"><input type="checkbox" id="c-40765242" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764777">parent</a><span>|</span><a href="#40764801">next</a><span>|</span><label class="collapse" for="c-40765242">[-]</label><label class="expand" for="c-40765242">[1 more]</label></div><br/><div class="children"><div class="content">If a client has certified a specific Linux distro as an approved platform, that&#x27;s what we use.<p>We can either deliver a single executable (Go) or a Python script, as python is preinstalled on their distro.<p>If we&#x27;d want to use Ruby, it&#x27;d be a huge hassle of re-certifying crap and bureauracy and approvals and in that time we&#x27;d have the Python solution already running.</div><br/></div></div><div id="40764801" class="c"><input type="checkbox" id="c-40764801" checked=""/><div class="controls bullet"><span class="by">asa400</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764777">parent</a><span>|</span><a href="#40765242">prev</a><span>|</span><a href="#40764786">next</a><span>|</span><label class="collapse" for="c-40764801">[-]</label><label class="expand" for="c-40764801">[1 more]</label></div><br/><div class="children"><div class="content">Depends on you, your team, your target hardware&#x2F;os, your project, and many other factors. Considering all of those things, the hurdle of installation might just be too large for it to be worth it.</div><br/></div></div><div id="40764786" class="c"><input type="checkbox" id="c-40764786" checked=""/><div class="controls bullet"><span class="by">throwaway55533</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764777">parent</a><span>|</span><a href="#40764801">prev</a><span>|</span><a href="#40764797">next</a><span>|</span><label class="collapse" for="c-40764786">[-]</label><label class="expand" for="c-40764786">[2 more]</label></div><br/><div class="children"><div class="content">Mitigating the risk of downloading a script from the internet and executing it 
-- even from a &quot;trusted&quot; website or package manager -- is absolutely a good reason not to use it.</div><br/><div id="40764869" class="c"><input type="checkbox" id="c-40764869" checked=""/><div class="controls bullet"><span class="by">shmerl</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764786">parent</a><span>|</span><a href="#40764797">next</a><span>|</span><label class="collapse" for="c-40764869">[-]</label><label class="expand" for="c-40764869">[1 more]</label></div><br/><div class="children"><div class="content">Any decent distro has it. So you don&#x27;t need to execute any random scripts, just install it or prepare the image with it for your OS install. That&#x27;s it.<p>I don&#x27;t really get this whole defaults being a blocker for tools choice.</div><br/></div></div></div></div><div id="40764797" class="c"><input type="checkbox" id="c-40764797" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764777">parent</a><span>|</span><a href="#40764786">prev</a><span>|</span><a href="#40764908">next</a><span>|</span><label class="collapse" for="c-40764797">[-]</label><label class="expand" for="c-40764797">[1 more]</label></div><br/><div class="children"><div class="content">Significantly harder than doing nothing</div><br/></div></div></div></div><div id="40764908" class="c"><input type="checkbox" id="c-40764908" checked=""/><div class="controls bullet"><span class="by">tayo42</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764706">parent</a><span>|</span><a href="#40764777">prev</a><span>|</span><a href="#40763853">next</a><span>|</span><label class="collapse" for="c-40764908">[-]</label><label class="expand" for="c-40764908">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s already installed on basically every Linux distribution out there,<p>PEP 668 pretty much negates this though. To do anything you need a python environment set up per script&#x2F;project w&#x2F;e</div><br/><div id="40764969" class="c"><input type="checkbox" id="c-40764969" checked=""/><div class="controls bullet"><span class="by">kristjansson</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764908">parent</a><span>|</span><a href="#40763853">next</a><span>|</span><label class="collapse" for="c-40764969">[-]</label><label class="expand" for="c-40764969">[1 more]</label></div><br/><div class="children"><div class="content">Iff you’re going beyond stdlib. Which lots of useful python programs don’t need to do.</div><br/></div></div></div></div></div></div><div id="40763853" class="c"><input type="checkbox" id="c-40763853" checked=""/><div class="controls bullet"><span class="by">seabrookmx</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764706">prev</a><span>|</span><a href="#40764613">next</a><span>|</span><label class="collapse" for="c-40763853">[-]</label><label class="expand" for="c-40763853">[25 more]</label></div><br/><div class="children"><div class="content">I think golang is used because you can easily create a single static binary, which is incredibly easy to distribute. I often find non-trivial CLI tools written in Python cumbersome because of the dependency wrangling necessary.</div><br/><div id="40764277" class="c"><input type="checkbox" id="c-40764277" checked=""/><div class="controls bullet"><span class="by">noisy_boy</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764549">next</a><span>|</span><label class="collapse" for="c-40764277">[-]</label><label class="expand" for="c-40764277">[2 more]</label></div><br/><div class="children"><div class="content">I think one of the advantages of a script is that you can quickly check what it is doing by simply opening it - an executable won&#x27;t afford that.</div><br/><div id="40765022" class="c"><input type="checkbox" id="c-40765022" checked=""/><div class="controls bullet"><span class="by">m00x</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764277">parent</a><span>|</span><a href="#40764549">next</a><span>|</span><label class="collapse" for="c-40765022">[-]</label><label class="expand" for="c-40765022">[1 more]</label></div><br/><div class="children"><div class="content">Plus it can be run on any machine, while golang needs to be compiled for the specific architecture you&#x27;ll be running it on. No messing about trying to get the right build.</div><br/></div></div></div></div><div id="40764549" class="c"><input type="checkbox" id="c-40764549" checked=""/><div class="controls bullet"><span class="by">MikeTheGreat</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764277">prev</a><span>|</span><a href="#40765251">next</a><span>|</span><label class="collapse" for="c-40764549">[-]</label><label class="expand" for="c-40764549">[3 more]</label></div><br/><div class="children"><div class="content">&gt;  I often find non-trivial CLI tools written in Python cumbersome because of the dependency wrangling necessary.<p>I&#x27;m thinking of trying out Mojo in large part because they say they&#x27;re aiming for Python compatibility, and they produce single-file executables.<p>Previous to that I was using PyInstaller but it was always a little fragile (I had to run the build script a couple of times before it would successfully complete).<p>Currently I&#x27;m using pipx and Poetry, which seems pretty good (100% success rate on builds, and when my 5-line build script fails it&#x27;s because of an actual error on my part).<p>Which is a round-about way of asking everyone:<p><i>Does anyone have any other good way(s) to build single-file executables with Python?</i></div><br/><div id="40764799" class="c"><input type="checkbox" id="c-40764799" checked=""/><div class="controls bullet"><span class="by">teleforce</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764549">parent</a><span>|</span><a href="#40764596">next</a><span>|</span><label class="collapse" for="c-40764799">[-]</label><label class="expand" for="c-40764799">[1 more]</label></div><br/><div class="children"><div class="content">Fun fact, you can use D language as compiled scripting using rdmd with powerful and modern programming features although  it has much faster compilation than comparable C++ and Rust [1]. The default GC make it intuitive and Pythonic for quick scripting more than Go. Its recent native support for OS lingua franca C is the icing on the cake [2].<p>From the website, &quot;D&#x27;s blazingly fast compilation allows it to be used as a high level, productive scripting language, but with the advantages of static type checking&quot; [3].<p>[1]Why I use the D programming language for scripting (2021):<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36928485">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36928485</a><p>[2]Adding ANSI C11 C compiler to D so it can import and compile C files directly:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27102584">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27102584</a><p>[3] <a href="https:&#x2F;&#x2F;dlang.org&#x2F;areas-of-d-usage.html#academia" rel="nofollow">https:&#x2F;&#x2F;dlang.org&#x2F;areas-of-d-usage.html#academia</a></div><br/></div></div><div id="40764596" class="c"><input type="checkbox" id="c-40764596" checked=""/><div class="controls bullet"><span class="by">mmebane</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764549">parent</a><span>|</span><a href="#40764799">prev</a><span>|</span><a href="#40765251">next</a><span>|</span><label class="collapse" for="c-40764596">[-]</label><label class="expand" for="c-40764596">[1 more]</label></div><br/><div class="children"><div class="content">You could try Nuitka [1], but I don&#x27;t have enough experience with it to say if it&#x27;s any less brittle than PyInstaller.<p>[1]: <a href="https:&#x2F;&#x2F;nuitka.net&#x2F;" rel="nofollow">https:&#x2F;&#x2F;nuitka.net&#x2F;</a></div><br/></div></div></div></div><div id="40765251" class="c"><input type="checkbox" id="c-40765251" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764549">prev</a><span>|</span><a href="#40764634">next</a><span>|</span><label class="collapse" for="c-40765251">[-]</label><label class="expand" for="c-40765251">[1 more]</label></div><br/><div class="children"><div class="content">I spent a weekend going through all my old python scripts with Gemini and ChatGPT, rewriting them to Go just because of this.<p>Most of them were so old that I would have had to skip like 3 generations of package managers to get to the one that&#x27;s used this year (dunno about next year) if I wanted to upgrade or add dependencies.<p>With Go I can just develop on my own computer, (cross)compile and scp to the destination and it&#x27;ll keep working.</div><br/></div></div><div id="40764634" class="c"><input type="checkbox" id="c-40764634" checked=""/><div class="controls bullet"><span class="by">schneems</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40765251">prev</a><span>|</span><a href="#40764063">next</a><span>|</span><label class="collapse" for="c-40764634">[-]</label><label class="expand" for="c-40764634">[1 more]</label></div><br/><div class="children"><div class="content">Bootstrapping and different behavior for different versions and not being able to use the dependency ecosystem really make it a lot more difficult than people realize if you’re trying to “script” at scale.<p>I’ve used rust for this task but people get mad that I’m calling it a “script”. “That’s not a script that’s a program” which…sure. But so maybe we need another term for it? “Production-scripts” or something.<p>My experience is rewriting Ruby and bash buildpacks for the open spec CNCF Cloud Native Buildpack project (CNB) <a href="https:&#x2F;&#x2F;github.com&#x2F;heroku&#x2F;buildpacks">https:&#x2F;&#x2F;github.com&#x2F;heroku&#x2F;buildpacks</a><p>I agree that Ruby is easier to start and grow complexity, that would be a good place to start.</div><br/></div></div><div id="40764063" class="c"><input type="checkbox" id="c-40764063" checked=""/><div class="controls bullet"><span class="by">aae42</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764634">prev</a><span>|</span><a href="#40763993">next</a><span>|</span><label class="collapse" for="c-40764063">[-]</label><label class="expand" for="c-40764063">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been waiting for a single executable interpreter for Ruby for a while now<p>like deno or bun, but for Ruby<p>artichoke ruby is the closest we&#x27;ve got</div><br/></div></div><div id="40763993" class="c"><input type="checkbox" id="c-40763993" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764063">prev</a><span>|</span><a href="#40764951">next</a><span>|</span><label class="collapse" for="c-40763993">[-]</label><label class="expand" for="c-40763993">[6 more]</label></div><br/><div class="children"><div class="content">This complaint comes up enough that I&#x27;m surprised nobody&#x27;s created the Ruby equivalent of GraalVM, to compile a Ruby script, all its deps, and a WPOed subset of the Ruby runtime, into a native executable.</div><br/><div id="40764207" class="c"><input type="checkbox" id="c-40764207" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763993">parent</a><span>|</span><a href="#40763997">next</a><span>|</span><label class="collapse" for="c-40764207">[-]</label><label class="expand" for="c-40764207">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not quite what you&#x27;re describing, but TruffleRuby is Ruby on GraalVM:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;oracle&#x2F;truffleruby">https:&#x2F;&#x2F;github.com&#x2F;oracle&#x2F;truffleruby</a><p>Unlike GraalVM Java, as far as I can tell TruffleRuby doesn&#x27;t provide a bundler that can create a single executable out of everything, but in principle I don&#x27;t see why it couldn&#x27;t.</div><br/><div id="40765781" class="c"><input type="checkbox" id="c-40765781" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764207">parent</a><span>|</span><a href="#40763997">next</a><span>|</span><label class="collapse" for="c-40765781">[-]</label><label class="expand" for="c-40765781">[1 more]</label></div><br/><div class="children"><div class="content">Graal can create an executable from a ruby program as well with TruffleRuby and native image (both part of the general graal project).</div><br/></div></div></div></div><div id="40763997" class="c"><input type="checkbox" id="c-40763997" checked=""/><div class="controls bullet"><span class="by">pansa2</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763993">parent</a><span>|</span><a href="#40764207">prev</a><span>|</span><a href="#40764951">next</a><span>|</span><label class="collapse" for="c-40763997">[-]</label><label class="expand" for="c-40763997">[3 more]</label></div><br/><div class="children"><div class="content">WPO?</div><br/><div id="40764173" class="c"><input type="checkbox" id="c-40764173" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763997">parent</a><span>|</span><a href="#40764951">next</a><span>|</span><label class="collapse" for="c-40764173">[-]</label><label class="expand" for="c-40764173">[2 more]</label></div><br/><div class="children"><div class="content">While Program Optimization, in this case mostly meaning dead-code elimination for any runtime code not called by the Ruby code.</div><br/><div id="40764924" class="c"><input type="checkbox" id="c-40764924" checked=""/><div class="controls bullet"><span class="by">bongobingo1</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764173">parent</a><span>|</span><a href="#40764951">next</a><span>|</span><label class="collapse" for="c-40764924">[-]</label><label class="expand" for="c-40764924">[1 more]</label></div><br/><div class="children"><div class="content">I think you mean <i>Whole</i> Program Optimization.</div><br/></div></div></div></div></div></div></div></div><div id="40764951" class="c"><input type="checkbox" id="c-40764951" checked=""/><div class="controls bullet"><span class="by">shitlord</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40763993">prev</a><span>|</span><a href="#40764368">next</a><span>|</span><label class="collapse" for="c-40764951">[-]</label><label class="expand" for="c-40764951">[1 more]</label></div><br/><div class="children"><div class="content">The ability to type check and unit test your code is also valuable. This is possible with many languages but with Go it requires basically zero configuration.</div><br/></div></div><div id="40764368" class="c"><input type="checkbox" id="c-40764368" checked=""/><div class="controls bullet"><span class="by">danmur</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764951">prev</a><span>|</span><a href="#40763909">next</a><span>|</span><label class="collapse" for="c-40764368">[-]</label><label class="expand" for="c-40764368">[3 more]</label></div><br/><div class="children"><div class="content">Bundle it into a pex and distribute that. Its still way large but its easy to distribute.</div><br/><div id="40764465" class="c"><input type="checkbox" id="c-40764465" checked=""/><div class="controls bullet"><span class="by">mikepurvis</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764368">parent</a><span>|</span><a href="#40763909">next</a><span>|</span><label class="collapse" for="c-40764465">[-]</label><label class="expand" for="c-40764465">[2 more]</label></div><br/><div class="children"><div class="content">Pex was also the solution I landed on after evaluating several non-container options for distributing a Python project to arbitrary Linux hosts.<p>It works well but with one huge caveat: although you bring the stuff required to reconstitute the venv with you, <i>you’re actually still using the system’s python executable and stdlib!!</i> So for example if you want to make a project targeting all supported Ubuntu LTS versions, you have to include the wheels for every possible python version you might hit.<p>Ultimately this boils down to there not really being a story for statically compiled python, so in most normal cases you end up wanting a chroot and at that point you’re in a container anyway.</div><br/><div id="40765135" class="c"><input type="checkbox" id="c-40765135" checked=""/><div class="controls bullet"><span class="by">danmur</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764465">parent</a><span>|</span><a href="#40763909">next</a><span>|</span><label class="collapse" for="c-40765135">[-]</label><label class="expand" for="c-40765135">[1 more]</label></div><br/><div class="children"><div class="content">Nuitka has worked for me for everything Ive tried (in house dev tools). I didnt end up using it for work because I can rely on a pristine system Python with the right version so pex makes more sense.<p>There are other options I didnt look too much into, e.g. Beeware</div><br/></div></div></div></div></div></div><div id="40763909" class="c"><input type="checkbox" id="c-40763909" checked=""/><div class="controls bullet"><span class="by">np_tedious</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40764368">prev</a><span>|</span><a href="#40764052">next</a><span>|</span><label class="collapse" for="c-40763909">[-]</label><label class="expand" for="c-40763909">[4 more]</label></div><br/><div class="children"><div class="content">Most shell-ish scripts probably use no dependencies and will not be picky about exact version</div><br/><div id="40763952" class="c"><input type="checkbox" id="c-40763952" checked=""/><div class="controls bullet"><span class="by">mmh0000</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763909">parent</a><span>|</span><a href="#40764052">next</a><span>|</span><label class="collapse" for="c-40763952">[-]</label><label class="expand" for="c-40763952">[3 more]</label></div><br/><div class="children"><div class="content">Mmm. I’d argue that all shell scripts use a ton of dependencies that are different across Unix&#x2F;Linux.<p>I. E. ‘sed -i’ is only in GNU sed. Same with ‘grep -P’.</div><br/><div id="40764046" class="c"><input type="checkbox" id="c-40764046" checked=""/><div class="controls bullet"><span class="by">passthejoe</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763952">parent</a><span>|</span><a href="#40764052">next</a><span>|</span><label class="collapse" for="c-40764046">[-]</label><label class="expand" for="c-40764046">[2 more]</label></div><br/><div class="children"><div class="content">This has bitten me many times</div><br/><div id="40764620" class="c"><input type="checkbox" id="c-40764620" checked=""/><div class="controls bullet"><span class="by">EasyMark</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764046">parent</a><span>|</span><a href="#40764052">next</a><span>|</span><label class="collapse" for="c-40764620">[-]</label><label class="expand" for="c-40764620">[1 more]</label></div><br/><div class="children"><div class="content">It’s why if my bash turns into more than a page or two I start re-evaluating it and turn it into python</div><br/></div></div></div></div></div></div></div></div><div id="40764052" class="c"><input type="checkbox" id="c-40764052" checked=""/><div class="controls bullet"><span class="by">passthejoe</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40763853">parent</a><span>|</span><a href="#40763909">prev</a><span>|</span><a href="#40764613">next</a><span>|</span><label class="collapse" for="c-40764052">[-]</label><label class="expand" for="c-40764052">[2 more]</label></div><br/><div class="children"><div class="content">Golang&#x27;s not so secret weapon</div><br/><div id="40764488" class="c"><input type="checkbox" id="c-40764488" checked=""/><div class="controls bullet"><span class="by">intelVISA</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764052">parent</a><span>|</span><a href="#40764613">next</a><span>|</span><label class="collapse" for="c-40764488">[-]</label><label class="expand" for="c-40764488">[1 more]</label></div><br/><div class="children"><div class="content">Hard to miss those &gt;100 meg &#x27;single binaries&#x27;</div><br/></div></div></div></div></div></div><div id="40764613" class="c"><input type="checkbox" id="c-40764613" checked=""/><div class="controls bullet"><span class="by">shagie</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40763853">prev</a><span>|</span><a href="#40764101">next</a><span>|</span><label class="collapse" for="c-40764613">[-]</label><label class="expand" for="c-40764613">[6 more]</label></div><br/><div class="children"><div class="content">&gt; ... maybe extract those files to required files, add gems, whatever.<p>CPAN is the killer feature of Perl.  It just works.  First off, most of the time I <i>don&#x27;t</i> need a CPAN module for doing shell scripting in perl.  Perl itself is rich enough with the file manipulations that are needed for any script of less than 100 lines.<p>My experiences with Ruby and installing gems have been less pleasant.  Different implementations of Ruby.  Gems that don&#x27;t compile &#x2F; work on certain architectures. Breaking changes going forward where a script that was written 2 years ago doesn&#x27;t work anymore.  Sometimes it&#x27;s someone was doing something clever in the language that doesn&#x27;t work anymore.  Other times its some gem got updated and can&#x27;t be used that way anymore. ... which brings us to ...<p>I believe that Go&#x27;s advantages come into play when the program gets more complex that that 100 line size and it becomes a &quot;program&quot; rather than a &quot;script&quot; that has complexity to deal with.  Furthermore, executables built in Go are most often statically linked which means that someone upgrading the libraries doesn&#x27;t break what is already working.</div><br/><div id="40764712" class="c"><input type="checkbox" id="c-40764712" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764613">parent</a><span>|</span><a href="#40764101">next</a><span>|</span><label class="collapse" for="c-40764712">[-]</label><label class="expand" for="c-40764712">[5 more]</label></div><br/><div class="children"><div class="content">Does anyone under age 50 or so even know Perl?</div><br/><div id="40764746" class="c"><input type="checkbox" id="c-40764746" checked=""/><div class="controls bullet"><span class="by">kfrzcode</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764712">parent</a><span>|</span><a href="#40764941">next</a><span>|</span><label class="collapse" for="c-40764746">[-]</label><label class="expand" for="c-40764746">[2 more]</label></div><br/><div class="children"><div class="content">Yes.</div><br/><div id="40764823" class="c"><input type="checkbox" id="c-40764823" checked=""/><div class="controls bullet"><span class="by">newalexandria</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764746">parent</a><span>|</span><a href="#40764941">next</a><span>|</span><label class="collapse" for="c-40764823">[-]</label><label class="expand" for="c-40764823">[1 more]</label></div><br/><div class="children"><div class="content">Do you all order the same thing when you get together at the cafe?</div><br/></div></div></div></div><div id="40764941" class="c"><input type="checkbox" id="c-40764941" checked=""/><div class="controls bullet"><span class="by">pcwalton</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764712">parent</a><span>|</span><a href="#40764746">prev</a><span>|</span><a href="#40764836">next</a><span>|</span><label class="collapse" for="c-40764941">[-]</label><label class="expand" for="c-40764941">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not even 40 and I remember it well enough.</div><br/></div></div><div id="40764836" class="c"><input type="checkbox" id="c-40764836" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764712">parent</a><span>|</span><a href="#40764941">prev</a><span>|</span><a href="#40764101">next</a><span>|</span><label class="collapse" for="c-40764836">[-]</label><label class="expand" for="c-40764836">[1 more]</label></div><br/><div class="children"><div class="content">Make it 30 and it&#x27;s actually a question.</div><br/></div></div></div></div></div></div><div id="40764101" class="c"><input type="checkbox" id="c-40764101" checked=""/><div class="controls bullet"><span class="by">solidsnack9000</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764613">prev</a><span>|</span><a href="#40765517">next</a><span>|</span><label class="collapse" for="c-40764101">[-]</label><label class="expand" for="c-40764101">[8 more]</label></div><br/><div class="children"><div class="content">Instability. Ruby has not been the same language for very long. Migrating to 1.9 was a huge hassle for many firms. This may seem like a long time ago in tech years; but then there was Ruby 2.0; and shell scripts, meanwhile, have stayed the same the whole time.<p>A secondary reason is that Ruby has been very slow for much of its life, which means that for situations where you need to run a huge stack of scripts -- init systems, for example -- it would be punishing.<p>Ruby does have a terse and intuitive syntax that would make for a good system shell. Although it has some magic, it is less magical and confusing than shell itself. Ruby provides many basic data types that experience has proven are useful for shell scripting -- like arrays and dictionaries -- and they are integrated in a much cleaner and clearer way than they are integrated into widely used shells like Bash.<p>System tools that are written in Go may still make sense to write in Go, though. Go, it is true, does not have a nice terse syntax for short scripts and one liners; and it doesn&#x27;t have a default execution model where everything is in main and so on; but that is because it is not a scripting language. Other languages used to write system tools and system services -- like C, C++, Java and Rust -- don&#x27;t have those things either.</div><br/><div id="40764134" class="c"><input type="checkbox" id="c-40764134" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764101">parent</a><span>|</span><a href="#40764642">next</a><span>|</span><label class="collapse" for="c-40764134">[-]</label><label class="expand" for="c-40764134">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Migrating to 1.9 was a huge hassle for many firms.<p>This seems contrary to my experience. We took a large project from 1.8 to 1.9 to 2.0 to 3.0, and it was much easier than we expected. It was a lot easier than our Python 2 to 3 conversations were.</div><br/><div id="40764225" class="c"><input type="checkbox" id="c-40764225" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764134">parent</a><span>|</span><a href="#40764171">next</a><span>|</span><label class="collapse" for="c-40764225">[-]</label><label class="expand" for="c-40764225">[3 more]</label></div><br/><div class="children"><div class="content">&gt; It was a lot easier than our Python 2 to 3 conversations were.<p>Python&#x27;s is (present tense very much intended) notoriously one of the worst-managed transitions in programming language history, so that&#x27;s not exactly a ringing endorsement.</div><br/><div id="40764557" class="c"><input type="checkbox" id="c-40764557" checked=""/><div class="controls bullet"><span class="by">KerrAvon</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764225">parent</a><span>|</span><a href="#40764171">next</a><span>|</span><label class="collapse" for="c-40764557">[-]</label><label class="expand" for="c-40764557">[2 more]</label></div><br/><div class="children"><div class="content">It is completely relevant, because it’s arguing against the claim that Ruby was unstable once back in 2005.</div><br/><div id="40764699" class="c"><input type="checkbox" id="c-40764699" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764557">parent</a><span>|</span><a href="#40764171">next</a><span>|</span><label class="collapse" for="c-40764699">[-]</label><label class="expand" for="c-40764699">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t say it wasn&#x27;t relevant, I said it wasn&#x27;t a ringing endorsement. It can have been better than Python and still completely unbearable.</div><br/></div></div></div></div></div></div><div id="40764171" class="c"><input type="checkbox" id="c-40764171" checked=""/><div class="controls bullet"><span class="by">solidsnack9000</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764134">parent</a><span>|</span><a href="#40764225">prev</a><span>|</span><a href="#40764642">next</a><span>|</span><label class="collapse" for="c-40764171">[-]</label><label class="expand" for="c-40764171">[1 more]</label></div><br/><div class="children"><div class="content">The comparison to Python isn&#x27;t the relevant one. During that time, what was it like to migrate from shell to...probably the same shell?</div><br/></div></div></div></div><div id="40764642" class="c"><input type="checkbox" id="c-40764642" checked=""/><div class="controls bullet"><span class="by">RulerOf</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764101">parent</a><span>|</span><a href="#40764134">prev</a><span>|</span><a href="#40764542">next</a><span>|</span><label class="collapse" for="c-40764642">[-]</label><label class="expand" for="c-40764642">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Ruby does have a terse and intuitive syntax that would make for a good system shell.<p>I learned enough PowerShell to be comfortable using it, and then picked up Bash and Ruby a few years later.<p>I longed for a Ruby shell for a couple years.</div><br/></div></div><div id="40764542" class="c"><input type="checkbox" id="c-40764542" checked=""/><div class="controls bullet"><span class="by">KerrAvon</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764101">parent</a><span>|</span><a href="#40764642">prev</a><span>|</span><a href="#40765517">next</a><span>|</span><label class="collapse" for="c-40764542">[-]</label><label class="expand" for="c-40764542">[1 more]</label></div><br/><div class="children"><div class="content">Your first two points don’t seem valid, in my experience.<p>The Ruby 2.0 migration wasn’t that interesting from a compatibility perspective; it certainly wasn’t anything like Python 2 -&gt; 3.<p>And Ruby is __not__ slow compared to bash. I don’t where these myths get started, but someone needs to justify the Ruby-is-slow thing with actual data.</div><br/></div></div></div></div><div id="40765517" class="c"><input type="checkbox" id="c-40765517" checked=""/><div class="controls bullet"><span class="by">braza</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764101">prev</a><span>|</span><a href="#40765813">next</a><span>|</span><label class="collapse" for="c-40765517">[-]</label><label class="expand" for="c-40765517">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I sometimes wonder why we don&#x27;t see ruby used for shell stuff more often<p>The best piece of code that I worked on was an ETL in pure Ruby. Everything in modules, simply to read, no crazy abstractions, strange things like __main__, abstract clssses or whatever.<p>Maybe others can chime in, but the main difference that is found in ruby developers is that they really have fun with the language making everything with a higher lever of software craftsmanship that other folks in the data space, e.g. Python of Julia.</div><br/></div></div><div id="40765813" class="c"><input type="checkbox" id="c-40765813" checked=""/><div class="controls bullet"><span class="by">SPBS</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40765517">prev</a><span>|</span><a href="#40764066">next</a><span>|</span><label class="collapse" for="c-40765813">[-]</label><label class="expand" for="c-40765813">[1 more]</label></div><br/><div class="children"><div class="content">&gt; meanwhile, a lot of tooling nowadays is written in Go, and I have no idea why<p>What? Go is used because distributing a static binary without any dependencies is way better than asking each and every user to download an interpreter + libraries.</div><br/></div></div><div id="40764066" class="c"><input type="checkbox" id="c-40764066" checked=""/><div class="controls bullet"><span class="by">yen223</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40765813">prev</a><span>|</span><a href="#40764454">next</a><span>|</span><label class="collapse" for="c-40764066">[-]</label><label class="expand" for="c-40764066">[4 more]</label></div><br/><div class="children"><div class="content">It wasn&#x27;t that long ago that all the interesting infrastructure projects (vagrant, chef) were written in Ruby.</div><br/><div id="40765852" class="c"><input type="checkbox" id="c-40765852" checked=""/><div class="controls bullet"><span class="by">inferiorhuman</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764066">parent</a><span>|</span><a href="#40764285">next</a><span>|</span><label class="collapse" for="c-40765852">[-]</label><label class="expand" for="c-40765852">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue that writing Chef in Ruby (and Erlang) was absolutely to its detriment.  Yeah, it was popular.  It was also a debugging and scaling nightmare (not that Opscode helped that any).</div><br/></div></div><div id="40764285" class="c"><input type="checkbox" id="c-40764285" checked=""/><div class="controls bullet"><span class="by">CoffeeOnWrite</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764066">parent</a><span>|</span><a href="#40765852">prev</a><span>|</span><a href="#40765404">next</a><span>|</span><label class="collapse" for="c-40764285">[-]</label><label class="expand" for="c-40764285">[1 more]</label></div><br/><div class="children"><div class="content">fluentd today is a popular (most popular?) log collector in k8s land.</div><br/></div></div><div id="40765404" class="c"><input type="checkbox" id="c-40765404" checked=""/><div class="controls bullet"><span class="by">grumpyprole</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764066">parent</a><span>|</span><a href="#40764285">prev</a><span>|</span><a href="#40764454">next</a><span>|</span><label class="collapse" for="c-40765404">[-]</label><label class="expand" for="c-40765404">[1 more]</label></div><br/><div class="children"><div class="content">You missed out GitHub !</div><br/></div></div></div></div><div id="40764454" class="c"><input type="checkbox" id="c-40764454" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764066">prev</a><span>|</span><a href="#40764491">next</a><span>|</span><label class="collapse" for="c-40764454">[-]</label><label class="expand" for="c-40764454">[2 more]</label></div><br/><div class="children"><div class="content">&gt; why we don&#x27;t see ruby used for shell stuff more often<p>Simple, ruby is not installed by default. Even Python, while it is on (almost?) all modern Linux distributions, is not installed on the BSDs.</div><br/><div id="40765136" class="c"><input type="checkbox" id="c-40765136" checked=""/><div class="controls bullet"><span class="by">jiggunjer</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764454">parent</a><span>|</span><a href="#40764491">next</a><span>|</span><label class="collapse" for="c-40765136">[-]</label><label class="expand" for="c-40765136">[1 more]</label></div><br/><div class="children"><div class="content">Python&#x27;s also not installed by default in (most?) official docker images.</div><br/></div></div></div></div><div id="40764491" class="c"><input type="checkbox" id="c-40764491" checked=""/><div class="controls bullet"><span class="by">zarzavat</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764454">prev</a><span>|</span><a href="#40764002">next</a><span>|</span><label class="collapse" for="c-40764491">[-]</label><label class="expand" for="c-40764491">[3 more]</label></div><br/><div class="children"><div class="content">What tooling do you use that’s written in Go? I’d have said that Python is the most popular language for tooling, by a country mile.<p>The only tooling I know that’s written in Go is Docker.</div><br/><div id="40764675" class="c"><input type="checkbox" id="c-40764675" checked=""/><div class="controls bullet"><span class="by">0xCMP</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764491">parent</a><span>|</span><a href="#40764002">next</a><span>|</span><label class="collapse" for="c-40764675">[-]</label><label class="expand" for="c-40764675">[2 more]</label></div><br/><div class="children"><div class="content">lots of CLIs are written in Python, absolutely, but many started more recently are almost exclusively Go unless there is serious interest in using Rust. It&#x27;s almost certainly the ease of cross compilation plus the ability for users to run it without changes to their system.</div><br/><div id="40765258" class="c"><input type="checkbox" id="c-40765258" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#40763837">root</a><span>|</span><a href="#40764675">parent</a><span>|</span><a href="#40764002">next</a><span>|</span><label class="collapse" for="c-40765258">[-]</label><label class="expand" for="c-40765258">[1 more]</label></div><br/><div class="children"><div class="content">This is the key.<p>I can easily provide precompiled packages for all sane combinations and users can just download one executable, edit the config file and be running.<p>Instead of having to mess with virtual environments and keeping them updated (they tend to break every time you upgrade the system python version).</div><br/></div></div></div></div></div></div><div id="40764002" class="c"><input type="checkbox" id="c-40764002" checked=""/><div class="controls bullet"><span class="by">giraffe_lady</span><span>|</span><a href="#40763837">parent</a><span>|</span><a href="#40764491">prev</a><span>|</span><a href="#40763932">next</a><span>|</span><label class="collapse" for="c-40764002">[-]</label><label class="expand" for="c-40764002">[1 more]</label></div><br/><div class="children"><div class="content">You can kind of figure it out by skimming the comments here. Most mainstream languages have decent-to-great tools built in for scripting, so the difference isn&#x27;t <i>that</i> huge. So people just prefer to script in the language they already prefer in general, or that the project is written in.</div><br/></div></div></div></div><div id="40763932" class="c"><input type="checkbox" id="c-40763932" checked=""/><div class="controls bullet"><span class="by">cyclotron3k</span><span>|</span><a href="#40763837">prev</a><span>|</span><a href="#40764858">next</a><span>|</span><label class="collapse" for="c-40763932">[-]</label><label class="expand" for="c-40763932">[4 more]</label></div><br/><div class="children"><div class="content">Totally agree! Other tricks I rely on:<p>a) put a `binding.irb` (or `binding.pry`) in any rescue block you may have in your script - it&#x27;ll allow you to jump in and see what went wrong in an interactive way. (You&#x27;ll need a `require &#x27;irb&#x27;` in your script too, ofc)<p>b) I always use `Pathname` instead of `File` - it&#x27;s part of the standard library, is a drop in replacement for `File` (and `Dir`) and generally has a much more natural API.<p>c) Often backticks are all you need, but when you need something a little stronger (e.g. when handling filenames with spaces in them, or potentially hostile user input, etc), Ruby has a plethora of tools in its stdlib to handle any scenario. First step would be `system` which escapes inputs for you (but doesn&#x27;t return stdout).<p>d) Threads in Ruby are super easy, but using `Parallel` (not part of the stdlib) can make it even easier! A contrived example: `Parallel.map(url_list) { |url| Benchmark.measure { system(&#x27;wget&#x27;, url) }.real }.sum` to download a bunch of files in parallel and get the total time.<p>MacOS has Ruby 2.6 installed by default which is perfectly serviceable, but it&#x27;s EOL and there are plenty of features in 3+ that make the jump more than worthwhile.</div><br/><div id="40764290" class="c"><input type="checkbox" id="c-40764290" checked=""/><div class="controls bullet"><span class="by">MatthiasPortzel</span><span>|</span><a href="#40763932">parent</a><span>|</span><a href="#40764858">next</a><span>|</span><label class="collapse" for="c-40764290">[-]</label><label class="expand" for="c-40764290">[3 more]</label></div><br/><div class="children"><div class="content">&gt; You&#x27;ll need a `require &#x27;irb&#x27;` in your script too, ofc<p>irb is a part of Ruby core, so this isn’t true. (It may have been at one point? I’m not sure.)<p>I love binding.irb. I use it all the time.</div><br/><div id="40764398" class="c"><input type="checkbox" id="c-40764398" checked=""/><div class="controls bullet"><span class="by">delichon</span><span>|</span><a href="#40763932">root</a><span>|</span><a href="#40764290">parent</a><span>|</span><a href="#40764717">next</a><span>|</span><label class="collapse" for="c-40764398">[-]</label><label class="expand" for="c-40764398">[1 more]</label></div><br/><div class="children"><div class="content">Me too (binding.pry). I think of it as REPL based development.</div><br/></div></div><div id="40764717" class="c"><input type="checkbox" id="c-40764717" checked=""/><div class="controls bullet"><span class="by">cyclotron3k</span><span>|</span><a href="#40763932">root</a><span>|</span><a href="#40764290">parent</a><span>|</span><a href="#40764398">prev</a><span>|</span><a href="#40764858">next</a><span>|</span><label class="collapse" for="c-40764717">[-]</label><label class="expand" for="c-40764717">[1 more]</label></div><br/><div class="children"><div class="content">Huh, TIL! Requiring `irb` has been unnecessary since 2.5 and I never noticed.</div><br/></div></div></div></div></div></div><div id="40764858" class="c"><input type="checkbox" id="c-40764858" checked=""/><div class="controls bullet"><span class="by">xavdid</span><span>|</span><a href="#40763932">prev</a><span>|</span><a href="#40763958">next</a><span>|</span><label class="collapse" for="c-40764858">[-]</label><label class="expand" for="c-40764858">[10 more]</label></div><br/><div class="children"><div class="content">Ruby&#x27;s a great language- I&#x27;ve always enjoyed its ergonomics and clarity. But its editor tooling hasn&#x27;t kept up with its one-time competitor, Python.<p>I&#x27;ve mostly been in the Python ecosystem for the past few years and the LSP investment from Microsoft has really shown. Rich Python support in VSCode is seamless and simple. Coming back to Ruby after that caught me off guard - it feels like I&#x27;m writing syntax-highlighted plain text. There&#x27;s an LSP extension from Shopify, but it&#x27;s temperamental and I have trouble getting it working.<p>Editor support isn&#x27;t everything (the actual language design is still the most important), but it definitely affects how eager I am to use it. I basically never choose Ruby over Python given the option, which is too bad. Ruby&#x27;s a cool language!</div><br/><div id="40765600" class="c"><input type="checkbox" id="c-40765600" checked=""/><div class="controls bullet"><span class="by">barrell</span><span>|</span><a href="#40764858">parent</a><span>|</span><a href="#40764898">next</a><span>|</span><label class="collapse" for="c-40765600">[-]</label><label class="expand" for="c-40765600">[1 more]</label></div><br/><div class="children"><div class="content">Funny, I have the complete opposite experience with python. Constantly turned off inline errors and warnings because they were almost always wrong - packages I installed “could not be found” by the LSP, it constantly worried about type issues that were no longer incorrect, it didn’t pick up function changes across files, etc etc.<p>Then you think “maybe I just have the wrong lsp” only to realize there are half a dozen that all behave differently and nobody can agree on.<p>I tried them all, they all turned even my simplest of scripts between 10-50% red. I think half of my ire towards python came from the fact that the LSP situation was so awful, I just had to get used to reading code with a bunch of “errors” in my face, or turn them off completely… I could never decide which was worse</div><br/></div></div><div id="40764898" class="c"><input type="checkbox" id="c-40764898" checked=""/><div class="controls bullet"><span class="by">rafamvc</span><span>|</span><a href="#40764858">parent</a><span>|</span><a href="#40765600">prev</a><span>|</span><a href="#40764923">next</a><span>|</span><label class="collapse" for="c-40764898">[-]</label><label class="expand" for="c-40764898">[5 more]</label></div><br/><div class="children"><div class="content">It got a lot better recently. You should take a second look.</div><br/><div id="40764917" class="c"><input type="checkbox" id="c-40764917" checked=""/><div class="controls bullet"><span class="by">trevor-e</span><span>|</span><a href="#40764858">root</a><span>|</span><a href="#40764898">parent</a><span>|</span><a href="#40764915">next</a><span>|</span><label class="collapse" for="c-40764917">[-]</label><label class="expand" for="c-40764917">[2 more]</label></div><br/><div class="children"><div class="content">I tried last month and it was still a mess. The old Ruby extension used to work fine and the new LSP one from Shopify doesn&#x27;t want to work for whatever reason.</div><br/><div id="40765215" class="c"><input type="checkbox" id="c-40765215" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764858">root</a><span>|</span><a href="#40764917">parent</a><span>|</span><a href="#40764915">next</a><span>|</span><label class="collapse" for="c-40765215">[-]</label><label class="expand" for="c-40765215">[1 more]</label></div><br/><div class="children"><div class="content">&gt; ... the new LSP one from Shopify doesn&#x27;t want to work for whatever reason.<p>Sorry, but calling it &quot;a mess&quot; simply because you can&#x27;t get it to work is quite unfair.
I&#x27;ve been using the LSP from Shopify since it came out, it works great, is very stable and updates come in on a regular basis.</div><br/></div></div></div></div><div id="40764915" class="c"><input type="checkbox" id="c-40764915" checked=""/><div class="controls bullet"><span class="by">xavdid</span><span>|</span><a href="#40764858">root</a><span>|</span><a href="#40764898">parent</a><span>|</span><a href="#40764917">prev</a><span>|</span><a href="#40764923">next</a><span>|</span><label class="collapse" for="c-40764915">[-]</label><label class="expand" for="c-40764915">[2 more]</label></div><br/><div class="children"><div class="content">I mean, I was trying to set up editor support for a Ruby script last week. So unless it was improved <i>really</i> recently, it&#x27;s not where I&#x27;d like it to be.</div><br/><div id="40765227" class="c"><input type="checkbox" id="c-40765227" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764858">root</a><span>|</span><a href="#40764915">parent</a><span>|</span><a href="#40764923">next</a><span>|</span><label class="collapse" for="c-40765227">[-]</label><label class="expand" for="c-40765227">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but it&#x27;s temperamental and I have trouble getting it working.<p>&gt; I was trying to set up editor support<p>Not sure what problems you had exactly, but saying that editor tooling is bad, simply because you can&#x27;t get it to work, is not fair.
I&#x27;ve been using the LSP from Shopify since it came out, it works great, is very stable and updates come in on a regular basis.</div><br/></div></div></div></div></div></div><div id="40764923" class="c"><input type="checkbox" id="c-40764923" checked=""/><div class="controls bullet"><span class="by">anothername12</span><span>|</span><a href="#40764858">parent</a><span>|</span><a href="#40764898">prev</a><span>|</span><a href="#40763958">next</a><span>|</span><label class="collapse" for="c-40764923">[-]</label><label class="expand" for="c-40764923">[3 more]</label></div><br/><div class="children"><div class="content">The “editor tooling” in Jetbrains’ Rubymine is fabulous.</div><br/><div id="40764938" class="c"><input type="checkbox" id="c-40764938" checked=""/><div class="controls bullet"><span class="by">xavdid</span><span>|</span><a href="#40764858">root</a><span>|</span><a href="#40764923">parent</a><span>|</span><a href="#40763958">next</a><span>|</span><label class="collapse" for="c-40764938">[-]</label><label class="expand" for="c-40764938">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s true, I&#x27;ve heard good things! I don&#x27;t use Jetbrains products, but I&#x27;m glad they work well here.</div><br/><div id="40764997" class="c"><input type="checkbox" id="c-40764997" checked=""/><div class="controls bullet"><span class="by">anothername12</span><span>|</span><a href="#40764858">root</a><span>|</span><a href="#40764938">parent</a><span>|</span><a href="#40763958">next</a><span>|</span><label class="collapse" for="c-40764997">[-]</label><label class="expand" for="c-40764997">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I think they have some special sauce that puts them a bit ahead of what LSP-based. Definitely check it out</div><br/></div></div></div></div></div></div></div></div><div id="40763958" class="c"><input type="checkbox" id="c-40763958" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#40764858">prev</a><span>|</span><a href="#40765541">next</a><span>|</span><label class="collapse" for="c-40763958">[-]</label><label class="expand" for="c-40763958">[6 more]</label></div><br/><div class="children"><div class="content">It seems like a waste of precious syntax to dedicate backticks to running shell commands.<p>What&#x27;s between the backticks is not even portable; the commands rely on an operating-system-specific command interpreter.<p>&gt; puts `ls`.lines.map { |name| name.strip.length } # prints the lengths of the filenames<p>Fantastic example, except for the commandment violation: &quot;thou shalt not parse the output of &#x27;ls&#x27;&quot;!<p>You really want to read the directory and map over the stat function (or equivalent) to get the length.<p><pre><code>  2&gt; (flow &quot;.&quot;
       open-directory
       get-lines
       (mapcar [chain stat .size]))
  (727 2466 21 4096 643 16612 5724 163 707 319 352135 140 51 0 4096
   114898 1172428 1328258 4096 4096 4096 29953 4096 4096 0 27 4096
   4096 35585 8450 968 40960 14610 4096 14 755128 1325258 4096 17283
   218 471 104 4096 99707 1255 4096 129 4096 721 9625 401 15658
   4096 235 98 1861 664 23944 4286 4096 1024 0)</code></pre></div><br/><div id="40764793" class="c"><input type="checkbox" id="c-40764793" checked=""/><div class="controls bullet"><span class="by">Too</span><span>|</span><a href="#40763958">parent</a><span>|</span><a href="#40765541">next</a><span>|</span><label class="collapse" for="c-40764793">[-]</label><label class="expand" for="c-40764793">[5 more]</label></div><br/><div class="children"><div class="content">They have inherited the second biggest mistake of shellscripts; Requiring the user to manually check $? after each command.<p>No thanks. Anything that doesn&#x27;t have error handling enabled by default goes straight in the trash bin.</div><br/><div id="40765786" class="c"><input type="checkbox" id="c-40765786" checked=""/><div class="controls bullet"><span class="by">latexr</span><span>|</span><a href="#40763958">root</a><span>|</span><a href="#40764793">parent</a><span>|</span><a href="#40765075">next</a><span>|</span><label class="collapse" for="c-40765786">[-]</label><label class="expand" for="c-40765786">[1 more]</label></div><br/><div class="children"><div class="content">&gt; They have inherited the second biggest mistake of shellscripts; Requiring the user to manually check $? after each command.<p>This isn’t true for Ruby nor shell scripts. In Ruby you have `system` or `Open3`. In shell scripts you:<p><pre><code>  if my_command
  then
    on_success
  else
    on_failure
  fi
</code></pre>
Shellcheck even warns you of that.<p><a href="https:&#x2F;&#x2F;www.shellcheck.net&#x2F;wiki&#x2F;SC2181" rel="nofollow">https:&#x2F;&#x2F;www.shellcheck.net&#x2F;wiki&#x2F;SC2181</a></div><br/></div></div><div id="40765075" class="c"><input type="checkbox" id="c-40765075" checked=""/><div class="controls bullet"><span class="by">nomilk</span><span>|</span><a href="#40763958">root</a><span>|</span><a href="#40764793">parent</a><span>|</span><a href="#40765786">prev</a><span>|</span><a href="#40765575">next</a><span>|</span><label class="collapse" for="c-40765075">[-]</label><label class="expand" for="c-40765075">[1 more]</label></div><br/><div class="children"><div class="content">I couldn&#x27;t spot any way to make something like `ls -j` (j is an illegal option) throw an exception in ruby (as opposed to simply outputting the system error message).<p>The closest I could find is what you suggest (checking $?), or using something like this [1], which would require changing syntax:<p><pre><code>  system(&#x27;ls -j&#x27;, exception: true) 
</code></pre>
Would be great to know if there&#x27;s some easy callback or, ideally, a global setting one can make so a ruby exception is thrown if there&#x27;s an error running system commands using the backtick syntax.<p>[1] <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;54132729&#x2F;5783745" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;54132729&#x2F;5783745</a></div><br/></div></div><div id="40765575" class="c"><input type="checkbox" id="c-40765575" checked=""/><div class="controls bullet"><span class="by">stouset</span><span>|</span><a href="#40763958">root</a><span>|</span><a href="#40764793">parent</a><span>|</span><a href="#40765075">prev</a><span>|</span><a href="#40765374">next</a><span>|</span><label class="collapse" for="c-40765575">[-]</label><label class="expand" for="c-40765575">[1 more]</label></div><br/><div class="children"><div class="content">This is only true for backticks, which are somewhat intended for non-serious use. If you want exceptions for subprocess failure, `system` does the trick.<p>There’s really no need for this kind of over-the-top response.</div><br/></div></div><div id="40765374" class="c"><input type="checkbox" id="c-40765374" checked=""/><div class="controls bullet"><span class="by">tasuki</span><span>|</span><a href="#40763958">root</a><span>|</span><a href="#40764793">parent</a><span>|</span><a href="#40765575">prev</a><span>|</span><a href="#40765541">next</a><span>|</span><label class="collapse" for="c-40765374">[-]</label><label class="expand" for="c-40765374">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not <i>required</i> to check $? after each command. It&#x27;s only when calling out to the shell. How would you propose to handle that? Throw an exception on a shell command which fails?<p>Some would say calling out to shell is an anti pattern by itself. Others would say exceptions are an anti pattern. (Just use appropriate return type and there&#x27;s no need for exceptions ever!)</div><br/></div></div></div></div></div></div><div id="40765541" class="c"><input type="checkbox" id="c-40765541" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#40763958">prev</a><span>|</span><a href="#40765622">next</a><span>|</span><label class="collapse" for="c-40765541">[-]</label><label class="expand" for="c-40765541">[1 more]</label></div><br/><div class="children"><div class="content">I have what probably sounds like a niche use case, where most of the boxes I work on don&#x27;t have access to the Internet.<p>So for me, &quot;is it installed in the base distribution&quot; is the difference between being able to start immediately no matter which box I&#x27;m concerned with, and spending months trying to upstream a new program to be installed with our OS image team.<p>I took a look around a vanilla Debian 12 box, and didn&#x27;t see Ruby in there [1]. So, sadly, although I really like the way Ruby looks, I&#x27;m going to have to stick with Bash and Python 3 for the hard stuff.<p>[1]: <a href="https:&#x2F;&#x2F;hiandrewquinn.github.io&#x2F;til-site&#x2F;posts&#x2F;what-programming-languages-come-out-of-the-box-on-debian-12&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hiandrewquinn.github.io&#x2F;til-site&#x2F;posts&#x2F;what-programm...</a></div><br/></div></div><div id="40763820" class="c"><input type="checkbox" id="c-40763820" checked=""/><div class="controls bullet"><span class="by">lambdaba</span><span>|</span><a href="#40765622">prev</a><span>|</span><a href="#40763855">next</a><span>|</span><label class="collapse" for="c-40763820">[-]</label><label class="expand" for="c-40763820">[8 more]</label></div><br/><div class="children"><div class="content">The greatest feature for this is inline deps, something very rare to have built-in (I&#x27;ve only found Deno to have a similar feature): <a href="https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;bundler_in_a_single_file_ruby_script.html" rel="nofollow">https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;bundler_in_a_single_file_ruby_scri...</a></div><br/><div id="40763860" class="c"><input type="checkbox" id="c-40763860" checked=""/><div class="controls bullet"><span class="by">epage</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40764854">next</a><span>|</span><label class="collapse" for="c-40763860">[-]</label><label class="expand" for="c-40763860">[1 more]</label></div><br/><div class="children"><div class="content">Many languages have a third-party way of doing it and a few even have first-party support, see <a href="https:&#x2F;&#x2F;dbohdan.com&#x2F;scripts-with-dependencies" rel="nofollow">https:&#x2F;&#x2F;dbohdan.com&#x2F;scripts-with-dependencies</a><p>Since that document, Python PEP 723 was approved, see <a href="https:&#x2F;&#x2F;peps.python.org&#x2F;pep-0723&#x2F;" rel="nofollow">https:&#x2F;&#x2F;peps.python.org&#x2F;pep-0723&#x2F;</a> and <a href="https:&#x2F;&#x2F;packaging.python.org&#x2F;en&#x2F;latest&#x2F;specifications&#x2F;inline-script-metadata&#x2F;#inline-script-metadata" rel="nofollow">https:&#x2F;&#x2F;packaging.python.org&#x2F;en&#x2F;latest&#x2F;specifications&#x2F;inline...</a><p>Similarly, Rust RFC 3502 was approved and an unstable implementation is available, see <a href="https:&#x2F;&#x2F;rust-lang.github.io&#x2F;rfcs&#x2F;3502-cargo-script.html" rel="nofollow">https:&#x2F;&#x2F;rust-lang.github.io&#x2F;rfcs&#x2F;3502-cargo-script.html</a></div><br/></div></div><div id="40764854" class="c"><input type="checkbox" id="c-40764854" checked=""/><div class="controls bullet"><span class="by">aendruk</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40763860">prev</a><span>|</span><a href="#40764784">next</a><span>|</span><label class="collapse" for="c-40764854">[-]</label><label class="expand" for="c-40764854">[1 more]</label></div><br/><div class="children"><div class="content">Also been loving that Nix can give you this for shell scripts, e.g.:<p><pre><code>  #!&#x2F;usr&#x2F;bin&#x2F;env nix-shell
  #!nix-shell -i bash -p cowsay imagemagick

  identify &quot;$1&quot; | cowsay
</code></pre>
<a href="https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Nix-shell_shebang" rel="nofollow">https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Nix-shell_shebang</a></div><br/></div></div><div id="40764784" class="c"><input type="checkbox" id="c-40764784" checked=""/><div class="controls bullet"><span class="by">asa400</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40764854">prev</a><span>|</span><a href="#40764380">next</a><span>|</span><label class="collapse" for="c-40764784">[-]</label><label class="expand" for="c-40764784">[1 more]</label></div><br/><div class="children"><div class="content">Elixir also has inline dependencies in scripts, via `Mix.install`: <a href="https:&#x2F;&#x2F;hexdocs.pm&#x2F;mix&#x2F;1.17.1&#x2F;Mix.html#install&#x2F;2" rel="nofollow">https:&#x2F;&#x2F;hexdocs.pm&#x2F;mix&#x2F;1.17.1&#x2F;Mix.html#install&#x2F;2</a>. I&#x27;ve used it quite a bit, it works great.</div><br/></div></div><div id="40764380" class="c"><input type="checkbox" id="c-40764380" checked=""/><div class="controls bullet"><span class="by">corytheboyd</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40764784">prev</a><span>|</span><a href="#40764195">next</a><span>|</span><label class="collapse" for="c-40764380">[-]</label><label class="expand" for="c-40764380">[1 more]</label></div><br/><div class="children"><div class="content">Yay I’m glad someone else knows about this and thinks it’s awesome too :) It’s crazy I didn’t find it until I was digging through bundler docs looking for something completely unrelated</div><br/></div></div><div id="40764195" class="c"><input type="checkbox" id="c-40764195" checked=""/><div class="controls bullet"><span class="by">quechimba</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40764380">prev</a><span>|</span><a href="#40764252">next</a><span>|</span><label class="collapse" for="c-40764195">[-]</label><label class="expand" for="c-40764195">[1 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t know about this, very useful!</div><br/></div></div><div id="40764252" class="c"><input type="checkbox" id="c-40764252" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40764195">prev</a><span>|</span><a href="#40763847">next</a><span>|</span><label class="collapse" for="c-40764252">[-]</label><label class="expand" for="c-40764252">[1 more]</label></div><br/><div class="children"><div class="content">for Scala there&#x27;s Ammonite which can do this <a href="https:&#x2F;&#x2F;ammonite.io&#x2F;#MagicImports" rel="nofollow">https:&#x2F;&#x2F;ammonite.io&#x2F;#MagicImports</a></div><br/></div></div><div id="40763847" class="c"><input type="checkbox" id="c-40763847" checked=""/><div class="controls bullet"><span class="by">meiraleal</span><span>|</span><a href="#40763820">parent</a><span>|</span><a href="#40764252">prev</a><span>|</span><a href="#40763855">next</a><span>|</span><label class="collapse" for="c-40763847">[-]</label><label class="expand" for="c-40763847">[1 more]</label></div><br/><div class="children"><div class="content">All browsers implemented it before deno with ESM and importmap.</div><br/></div></div></div></div><div id="40763855" class="c"><input type="checkbox" id="c-40763855" checked=""/><div class="controls bullet"><span class="by">nightpool</span><span>|</span><a href="#40763820">prev</a><span>|</span><a href="#40763940">next</a><span>|</span><label class="collapse" for="c-40763855">[-]</label><label class="expand" for="c-40763855">[1 more]</label></div><br/><div class="children"><div class="content">Ruby is my favorite shell scripting language, I used it last year for a complex ffmpeg automation script (use blackdetect to detect long stretches of power-off and split a video file into much smaller components), and Ruby made it a breeze when I know it would have been a real struggle to get working in bash or powershell</div><br/></div></div><div id="40763940" class="c"><input type="checkbox" id="c-40763940" checked=""/><div class="controls bullet"><span class="by">dcchambers</span><span>|</span><a href="#40763855">prev</a><span>|</span><a href="#40763812">next</a><span>|</span><label class="collapse" for="c-40763940">[-]</label><label class="expand" for="c-40763940">[3 more]</label></div><br/><div class="children"><div class="content">I work for a company that has a large Rails monolith. Although we use many more languages than just ruby these days, we still have a ton of scripting, config, and tooling that is all in Ruby. It&#x27;s a joy to work with IMO.<p>Another common pattern I see is people using embedded ruby in a shell script. It does make it a little harder to read&#x2F;understand at a glance, but it&#x27;s nice for being able to do most simple things in sh but drop into ruby for things that sh&#x2F;bash suck at.<p>That said, I get a feeling that the people that joined once we&#x27;d added stuff outside of the Rails monolith and don&#x27;t know&#x2F;use Ruby are...not big fans.</div><br/><div id="40764104" class="c"><input type="checkbox" id="c-40764104" checked=""/><div class="controls bullet"><span class="by">mberning</span><span>|</span><a href="#40763940">parent</a><span>|</span><a href="#40763812">next</a><span>|</span><label class="collapse" for="c-40764104">[-]</label><label class="expand" for="c-40764104">[2 more]</label></div><br/><div class="children"><div class="content">I had the same experience. Somebody in our company inherited a Ruby script and was trying to modify it and was stuck. They came to me exasperated. The error message was something really trivial like addition is not defined for some object type. If you don’t understand the base level concepts of the language it’s going to be a very bad time. Sadly people are not that interested in learning about Ruby nowadays and look at it as a huge imposition to deal with. I love it still.</div><br/><div id="40764140" class="c"><input type="checkbox" id="c-40764140" checked=""/><div class="controls bullet"><span class="by">dcchambers</span><span>|</span><a href="#40763940">root</a><span>|</span><a href="#40764104">parent</a><span>|</span><a href="#40763812">next</a><span>|</span><label class="collapse" for="c-40764140">[-]</label><label class="expand" for="c-40764140">[1 more]</label></div><br/><div class="children"><div class="content">Yup that tracks with my experience.<p>Ruby is a wonderful language worth learning (and it&#x27;s really not difficult to pick up) but I see way more people push against learning it than they do other things (eg python).</div><br/></div></div></div></div></div></div><div id="40763812" class="c"><input type="checkbox" id="c-40763812" checked=""/><div class="controls bullet"><span class="by">drusepth</span><span>|</span><a href="#40763940">prev</a><span>|</span><a href="#40763785">next</a><span>|</span><label class="collapse" for="c-40763812">[-]</label><label class="expand" for="c-40763812">[1 more]</label></div><br/><div class="children"><div class="content">Ruby is an amazing language. I&#x27;ve seen some systems it&#x27;s not already installed on and hop over to something like perl&#x2F;python in those cases, but Ruby is by far my preferred hammer for small scripts. The code is beautiful.<p>Small nit: your note in Feature 4 is actually supposed to be in Feature 5, I assume.</div><br/></div></div><div id="40763785" class="c"><input type="checkbox" id="c-40763785" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#40763812">prev</a><span>|</span><a href="#40764094">next</a><span>|</span><label class="collapse" for="c-40763785">[-]</label><label class="expand" for="c-40763785">[25 more]</label></div><br/><div class="children"><div class="content">These are great points, if you already have Ruby in your stack.<p>For me, when Bash ain&#x27;t enough I upgrade to the Project language (PHP, Python, JS, etc). For compiled project I reach for LSB language (Perl, Python) before introducing a new dependency.</div><br/><div id="40763805" class="c"><input type="checkbox" id="c-40763805" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#40763785">parent</a><span>|</span><a href="#40763791">next</a><span>|</span><label class="collapse" for="c-40763805">[-]</label><label class="expand" for="c-40763805">[11 more]</label></div><br/><div class="children"><div class="content">Ruby is fantastic for the main project language, too! And is also standard on many Linux distros.</div><br/><div id="40764010" class="c"><input type="checkbox" id="c-40764010" checked=""/><div class="controls bullet"><span class="by">simoncion</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763805">parent</a><span>|</span><a href="#40764448">next</a><span>|</span><label class="collapse" for="c-40764010">[-]</label><label class="expand" for="c-40764010">[4 more]</label></div><br/><div class="children"><div class="content">Ruby&#x27;s fine for small to medium-sized projects. It&#x27;s pretty great for small DSLs.<p>In my professional experience on medium to large-sized projects, its lack of explicit typing, the habit of Rubyists to use its fairly-substantial metaprogramming capabilities at the drop of a hat, and (for projects that include pieces or all of Rails) the system&#x27;s implicit library loading make such projects a nightmare to reason about and maintain.<p>I&#x27;m sure these aspects are manageable with a small group, or a very, <i>very</i> disciplined group, but when you have large-sized projects that have been continually worked on for ten, fifteen, more years, you&#x27;re just not going to be able to guarantee that everyone involved will have the combination of knowledge and discipline require to ensure the thing remains easy to understand, extend, and maintain.</div><br/><div id="40764116" class="c"><input type="checkbox" id="c-40764116" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764010">parent</a><span>|</span><a href="#40764292">next</a><span>|</span><label class="collapse" for="c-40764116">[-]</label><label class="expand" for="c-40764116">[1 more]</label></div><br/><div class="children"><div class="content">I work on a 12 year old Ruby project at my job, and while some of what you say is true, I still love working on it more than anything else.</div><br/></div></div><div id="40764292" class="c"><input type="checkbox" id="c-40764292" checked=""/><div class="controls bullet"><span class="by">amarshall</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764010">parent</a><span>|</span><a href="#40764116">prev</a><span>|</span><a href="#40765208">next</a><span>|</span><label class="collapse" for="c-40764292">[-]</label><label class="expand" for="c-40764292">[1 more]</label></div><br/><div class="children"><div class="content">Implicit library loading isn’t even the real problem, it’s the global namespace. I think it, more than anything else, makes large projects difficult to manage due to the inability to grok the dependency graph.</div><br/></div></div><div id="40765208" class="c"><input type="checkbox" id="c-40765208" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764010">parent</a><span>|</span><a href="#40764292">prev</a><span>|</span><a href="#40764448">next</a><span>|</span><label class="collapse" for="c-40765208">[-]</label><label class="expand" for="c-40765208">[1 more]</label></div><br/><div class="children"><div class="content">This has been my experience too reading the Gitlab code. It&#x27;s absolutely impossible to follow - you can&#x27;t use static typing to follow flow because there isn&#x27;t any, and you can&#x27;t even grep for identifiers because half of them are dynamically generated. Every time I&#x27;ve wanted to understand something I&#x27;ve been unable to even <i>find</i> the relevant code.<p>Contrast that with gitlab-runner (Go) or VSCode (Typescript) both of which I have been able to not only read easily but contribute features to. VSCode is at least as big a codebase as Gitlab.<p>That experience has made me want to avoid Ruby like the plague!</div><br/></div></div></div></div><div id="40764448" class="c"><input type="checkbox" id="c-40764448" checked=""/><div class="controls bullet"><span class="by">__loam</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763805">parent</a><span>|</span><a href="#40764010">prev</a><span>|</span><a href="#40763791">next</a><span>|</span><label class="collapse" for="c-40764448">[-]</label><label class="expand" for="c-40764448">[6 more]</label></div><br/><div class="children"><div class="content">Ruby is unsuitable for large projects for the same reason python is, but it also lacks the huge ecosystem and labor pool that python has. When I&#x27;m interviewing and a company tells me ruby is the main language, I end the call.</div><br/><div id="40764556" class="c"><input type="checkbox" id="c-40764556" checked=""/><div class="controls bullet"><span class="by">davepeck</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764448">parent</a><span>|</span><a href="#40763791">next</a><span>|</span><label class="collapse" for="c-40764556">[-]</label><label class="expand" for="c-40764556">[5 more]</label></div><br/><div class="children"><div class="content">“X is unsuitable for large projects” when there are many readily discovered existence proofs to the contrary (including but not limited to $1B+ businesses, massive communities, deep thoughtful and disciplined engineering spokespeople, etc.) strikes me as a common trope here on HN.<p>(Which is not to say X is flawless even at scale or a clear best fit along all axes. That is true for no X that I know of.)</div><br/><div id="40764595" class="c"><input type="checkbox" id="c-40764595" checked=""/><div class="controls bullet"><span class="by">justin_oaks</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764556">parent</a><span>|</span><a href="#40765216">next</a><span>|</span><label class="collapse" for="c-40764595">[-]</label><label class="expand" for="c-40764595">[2 more]</label></div><br/><div class="children"><div class="content">The fact that a language is used for large, successful businesses&#x2F;projects doesn&#x27;t mean another language wouldn&#x27;t be better. It&#x27;s just terribly difficult to measure such things.</div><br/><div id="40764798" class="c"><input type="checkbox" id="c-40764798" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764595">parent</a><span>|</span><a href="#40765216">next</a><span>|</span><label class="collapse" for="c-40764798">[-]</label><label class="expand" for="c-40764798">[1 more]</label></div><br/><div class="children"><div class="content">Another language being &quot;better&quot; is very different than the language being &quot;unsuitable&quot;</div><br/></div></div></div></div><div id="40765216" class="c"><input type="checkbox" id="c-40765216" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764556">parent</a><span>|</span><a href="#40764595">prev</a><span>|</span><a href="#40764926">next</a><span>|</span><label class="collapse" for="c-40765216">[-]</label><label class="expand" for="c-40765216">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s absolutely possible to have a successful product with an unsuitable language. It doesn&#x27;t mean it doesn&#x27;t cost you.</div><br/></div></div><div id="40764926" class="c"><input type="checkbox" id="c-40764926" checked=""/><div class="controls bullet"><span class="by">__loam</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764556">parent</a><span>|</span><a href="#40765216">prev</a><span>|</span><a href="#40763791">next</a><span>|</span><label class="collapse" for="c-40764926">[-]</label><label class="expand" for="c-40764926">[1 more]</label></div><br/><div class="children"><div class="content">Despite ruby, not because of it.</div><br/></div></div></div></div></div></div></div></div><div id="40763791" class="c"><input type="checkbox" id="c-40763791" checked=""/><div class="controls bullet"><span class="by">sestep</span><span>|</span><a href="#40763785">parent</a><span>|</span><a href="#40763805">prev</a><span>|</span><a href="#40763879">next</a><span>|</span><label class="collapse" for="c-40763791">[-]</label><label class="expand" for="c-40763791">[6 more]</label></div><br/><div class="children"><div class="content">What does LSB stand for?</div><br/><div id="40763813" class="c"><input type="checkbox" id="c-40763813" checked=""/><div class="controls bullet"><span class="by">nequo</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763791">parent</a><span>|</span><a href="#40763804">next</a><span>|</span><label class="collapse" for="c-40763813">[-]</label><label class="expand" for="c-40763813">[3 more]</label></div><br/><div class="children"><div class="content">I assume it means Linux Standard Base:<p><a href="https:&#x2F;&#x2F;refspecs.linuxbase.org&#x2F;LSB_3.2.0&#x2F;LSB-Languages&#x2F;LSB-Languages&#x2F;book1.html" rel="nofollow">https:&#x2F;&#x2F;refspecs.linuxbase.org&#x2F;LSB_3.2.0&#x2F;LSB-Languages&#x2F;LSB-L...</a></div><br/><div id="40764273" class="c"><input type="checkbox" id="c-40764273" checked=""/><div class="controls bullet"><span class="by">sestep</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763813">parent</a><span>|</span><a href="#40763804">next</a><span>|</span><label class="collapse" for="c-40764273">[-]</label><label class="expand" for="c-40764273">[2 more]</label></div><br/><div class="children"><div class="content">Thanks, I didn&#x27;t know about that! I&#x27;m curious though; even LSB 5.0 only demands Python 2.4: <a href="https:&#x2F;&#x2F;refspecs.linuxfoundation.org&#x2F;LSB_5.0.0&#x2F;LSB-Languages&#x2F;LSB-Languages&#x2F;pyversion.html" rel="nofollow">https:&#x2F;&#x2F;refspecs.linuxfoundation.org&#x2F;LSB_5.0.0&#x2F;LSB-Languages...</a><p>Do people really write scripts against Python 2 just so that they&#x27;re guaranteed to be supported by LSB?</div><br/><div id="40764616" class="c"><input type="checkbox" id="c-40764616" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764273">parent</a><span>|</span><a href="#40763804">next</a><span>|</span><label class="collapse" for="c-40764616">[-]</label><label class="expand" for="c-40764616">[1 more]</label></div><br/><div class="children"><div class="content">Nobody actually follows the LSB as written. But it remains useful as an idea of &quot;stuff that was installed in old distros so usually has <i>some</i> newer version available&quot;.<p>Assuming you can survive all the incompatible interpreter changes for Python etc., the main annoyance with LSB proper is shared library versions.</div><br/></div></div></div></div></div></div><div id="40763804" class="c"><input type="checkbox" id="c-40763804" checked=""/><div class="controls bullet"><span class="by">wisemang</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763791">parent</a><span>|</span><a href="#40763813">prev</a><span>|</span><a href="#40764040">next</a><span>|</span><label class="collapse" for="c-40763804">[-]</label><label class="expand" for="c-40763804">[1 more]</label></div><br/><div class="children"><div class="content">Linux Standard Base. Already on the system.</div><br/></div></div></div></div><div id="40763879" class="c"><input type="checkbox" id="c-40763879" checked=""/><div class="controls bullet"><span class="by">nightpool</span><span>|</span><a href="#40763785">parent</a><span>|</span><a href="#40763791">prev</a><span>|</span><a href="#40764094">next</a><span>|</span><label class="collapse" for="c-40763879">[-]</label><label class="expand" for="c-40763879">[7 more]</label></div><br/><div class="children"><div class="content">Many distros come with Ruby standard, it&#x27;s not very big and I think it has a lot to recommend it over Python or Perl when it comes to lightweight scripting for sysadmins and day to day automation. I wouldn&#x27;t necessarily pull it into an open source project where they weren&#x27;t already present, but I would definitely choose it for personal use well before Python or Perl</div><br/><div id="40763930" class="c"><input type="checkbox" id="c-40763930" checked=""/><div class="controls bullet"><span class="by">dymk</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763879">parent</a><span>|</span><a href="#40764094">next</a><span>|</span><label class="collapse" for="c-40763930">[-]</label><label class="expand" for="c-40763930">[6 more]</label></div><br/><div class="children"><div class="content">Ubuntu, Debian, Arch, CentOS - none of these, as far as I know, ship with a Ruby interpreter by default. I’d like to be wrong, but I don’t think many do.</div><br/><div id="40764012" class="c"><input type="checkbox" id="c-40764012" checked=""/><div class="controls bullet"><span class="by">drusepth</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763930">parent</a><span>|</span><a href="#40764629">next</a><span>|</span><label class="collapse" for="c-40764012">[-]</label><label class="expand" for="c-40764012">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been a while since I reinstalled Ubuntu, but the latest version (24.04 LTS) definitely includes Ruby (3.2) according to their docs [0].<p>[0] <a href="https:&#x2F;&#x2F;canonical.com&#x2F;blog&#x2F;canonical-releases-ubuntu-24-04-noble-numbat#:~:text=Ubuntu%2024.04%20LTS%20includes%20Python,and%20Rust" rel="nofollow">https:&#x2F;&#x2F;canonical.com&#x2F;blog&#x2F;canonical-releases-ubuntu-24-04-n...</a>.</div><br/><div id="40764646" class="c"><input type="checkbox" id="c-40764646" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764012">parent</a><span>|</span><a href="#40764061">next</a><span>|</span><label class="collapse" for="c-40764646">[-]</label><label class="expand" for="c-40764646">[1 more]</label></div><br/><div class="children"><div class="content">It might be installed by default from the graphical CD, but you can&#x27;t assume everybody uses that, even outside of server environments.</div><br/></div></div><div id="40764061" class="c"><input type="checkbox" id="c-40764061" checked=""/><div class="controls bullet"><span class="by">mixmastamyk</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764012">parent</a><span>|</span><a href="#40764646">prev</a><span>|</span><a href="#40764629">next</a><span>|</span><label class="collapse" for="c-40764061">[-]</label><label class="expand" for="c-40764061">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s in the repos, but not installed by default.<p>Not on my Fedora box either.</div><br/><div id="40764783" class="c"><input type="checkbox" id="c-40764783" checked=""/><div class="controls bullet"><span class="by">gavindean90</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40764061">parent</a><span>|</span><a href="#40764629">next</a><span>|</span><label class="collapse" for="c-40764783">[-]</label><label class="expand" for="c-40764783">[1 more]</label></div><br/><div class="children"><div class="content">And Python 3 is everywhere</div><br/></div></div></div></div></div></div><div id="40764629" class="c"><input type="checkbox" id="c-40764629" checked=""/><div class="controls bullet"><span class="by">bigstrat2003</span><span>|</span><a href="#40763785">root</a><span>|</span><a href="#40763930">parent</a><span>|</span><a href="#40764012">prev</a><span>|</span><a href="#40764094">next</a><span>|</span><label class="collapse" for="c-40764629">[-]</label><label class="expand" for="c-40764629">[1 more]</label></div><br/><div class="children"><div class="content">Does Arch even ship with Python by default? Its whole thing is being minimalist by default and letting you customize what is and is not installed.</div><br/></div></div></div></div></div></div></div></div><div id="40764094" class="c"><input type="checkbox" id="c-40764094" checked=""/><div class="controls bullet"><span class="by">phendrenad2</span><span>|</span><a href="#40763785">prev</a><span>|</span><a href="#40765544">next</a><span>|</span><label class="collapse" for="c-40764094">[-]</label><label class="expand" for="c-40764094">[3 more]</label></div><br/><div class="children"><div class="content">Sadly, 9 out of 10 environments lack a Ruby interpreter out of the box. Are you going to add 5 minutes to your docker build to compile Ruby? Probably not.<p>Luckily, I&#x27;ve found that Perl has most of the best features of Ruby, and it&#x27;s installed everywhere. It&#x27;s time to Make Perl Great Again.</div><br/><div id="40764635" class="c"><input type="checkbox" id="c-40764635" checked=""/><div class="controls bullet"><span class="by">bigstrat2003</span><span>|</span><a href="#40764094">parent</a><span>|</span><a href="#40765300">next</a><span>|</span><label class="collapse" for="c-40764635">[-]</label><label class="expand" for="c-40764635">[1 more]</label></div><br/><div class="children"><div class="content">Why on earth would you add the <i>compilation</i> of a Ruby interpreter to your docker build? Just install it through the package manager of whatever distro your image is built on.</div><br/></div></div><div id="40765300" class="c"><input type="checkbox" id="c-40765300" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764094">parent</a><span>|</span><a href="#40764635">prev</a><span>|</span><a href="#40765544">next</a><span>|</span><label class="collapse" for="c-40765300">[-]</label><label class="expand" for="c-40765300">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Sadly, 9 out of 10 environments lack a Ruby interpreter out of the box.<p>Please name those 10 environments you are talking about.
In my experience, a reasonably recent Ruby version is present almost everywhere.<p>&gt; add 5 minutes to your docker build<p>Why on earth would it take 5 minutes to install anything?
If you install Ruby through a package manager (it&#x27;s present in pretty much all of them: <a href="https:&#x2F;&#x2F;www.ruby-lang.org&#x2F;en&#x2F;documentation&#x2F;installation&#x2F;#package-management-systems" rel="nofollow">https:&#x2F;&#x2F;www.ruby-lang.org&#x2F;en&#x2F;documentation&#x2F;installation&#x2F;#pac...</a>) it takes only seconds.</div><br/></div></div></div></div><div id="40765544" class="c"><input type="checkbox" id="c-40765544" checked=""/><div class="controls bullet"><span class="by">floppy-disk</span><span>|</span><a href="#40764094">prev</a><span>|</span><a href="#40764885">next</a><span>|</span><label class="collapse" for="c-40765544">[-]</label><label class="expand" for="c-40765544">[3 more]</label></div><br/><div class="children"><div class="content">While I write most of my scripts in Ruby and enjoy doing so, there is one gripe I have with it: its slow start-up time.
On my machine, running an empty Ruby script takes about 100ms, compared to &lt;10ms for Python, Perl, Lua, Bash.<p>One can mitigate the problem somewhat using the `--disable-gems` flag, but that&#x27;s not a good general solution.</div><br/><div id="40765699" class="c"><input type="checkbox" id="c-40765699" checked=""/><div class="controls bullet"><span class="by">Borg3</span><span>|</span><a href="#40765544">parent</a><span>|</span><a href="#40764885">next</a><span>|</span><label class="collapse" for="c-40765699">[-]</label><label class="expand" for="c-40765699">[2 more]</label></div><br/><div class="children"><div class="content">100ms !!!! wtf? :)<p>[borg@cube] time ruby -e &#x27;nil&#x27;<p>real    0m0.007s</div><br/><div id="40765778" class="c"><input type="checkbox" id="c-40765778" checked=""/><div class="controls bullet"><span class="by">floppy-disk</span><span>|</span><a href="#40765544">root</a><span>|</span><a href="#40765699">parent</a><span>|</span><a href="#40764885">next</a><span>|</span><label class="collapse" for="c-40765778">[-]</label><label class="expand" for="c-40765778">[1 more]</label></div><br/><div class="children"><div class="content">Whoa, interesting...
What version are you running?
Here&#x27;s my system:<p><pre><code>  $ ruby -v
  ruby 3.3.1 (2024-04-23 revision c56cd86388) [x86_64-linux]

  $ time ruby -e &#x27;&#x27;

  real 0m0.122s
  user 0m0.102s
  sys 0m0.020s
</code></pre>
I found an old Reddit thread also hinting at bad start-up times: <a href="https:&#x2F;&#x2F;old.reddit.com&#x2F;r&#x2F;ruby&#x2F;comments&#x2F;aqxepw&#x2F;rubys_startup_time_seems_to_get_worse" rel="nofollow">https:&#x2F;&#x2F;old.reddit.com&#x2F;r&#x2F;ruby&#x2F;comments&#x2F;aqxepw&#x2F;rubys_startup_...</a>.</div><br/></div></div></div></div></div></div><div id="40764885" class="c"><input type="checkbox" id="c-40764885" checked=""/><div class="controls bullet"><span class="by">nomilk</span><span>|</span><a href="#40765544">prev</a><span>|</span><a href="#40764681">next</a><span>|</span><label class="collapse" for="c-40764885">[-]</label><label class="expand" for="c-40764885">[3 more]</label></div><br/><div class="children"><div class="content">If you never coded in ruby before, but use macOS, you already have ruby installed. Just open terminal and type<p><pre><code>  irb
</code></pre>
to bring up the ruby interpreter and try out the code in the article.</div><br/><div id="40764959" class="c"><input type="checkbox" id="c-40764959" checked=""/><div class="controls bullet"><span class="by">anothername12</span><span>|</span><a href="#40764885">parent</a><span>|</span><a href="#40764681">next</a><span>|</span><label class="collapse" for="c-40764959">[-]</label><label class="expand" for="c-40764959">[2 more]</label></div><br/><div class="children"><div class="content">I think the built in one is deprecated though right?</div><br/><div id="40765078" class="c"><input type="checkbox" id="c-40765078" checked=""/><div class="controls bullet"><span class="by">Neywiny</span><span>|</span><a href="#40764885">root</a><span>|</span><a href="#40764959">parent</a><span>|</span><a href="#40764681">next</a><span>|</span><label class="collapse" for="c-40765078">[-]</label><label class="expand" for="c-40765078">[1 more]</label></div><br/><div class="children"><div class="content">Are there distributions where this doesn&#x27;t happen? I feel like I&#x27;m often installing or compiling new versions of packages and languages because they&#x27;re outdated on Ubuntu</div><br/></div></div></div></div></div></div><div id="40764681" class="c"><input type="checkbox" id="c-40764681" checked=""/><div class="controls bullet"><span class="by">bdcravens</span><span>|</span><a href="#40764885">prev</a><span>|</span><a href="#40765349">next</a><span>|</span><label class="collapse" for="c-40764681">[-]</label><label class="expand" for="c-40764681">[4 more]</label></div><br/><div class="children"><div class="content">I spend most of my time writing Rails or other backend Ruby, and I prefer my system-level scripts in bash. Philosophically I don&#x27;t want to have to manage dependencies or broken gems (though inline deps obviate that, and it&#x27;s not like I&#x27;ve never had to wrestle with apt)</div><br/><div id="40765306" class="c"><input type="checkbox" id="c-40765306" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764681">parent</a><span>|</span><a href="#40765349">next</a><span>|</span><label class="collapse" for="c-40765306">[-]</label><label class="expand" for="c-40765306">[3 more]</label></div><br/><div class="children"><div class="content">What do you mean by &quot;broken gems&quot;?</div><br/><div id="40765342" class="c"><input type="checkbox" id="c-40765342" checked=""/><div class="controls bullet"><span class="by">bdcravens</span><span>|</span><a href="#40764681">root</a><span>|</span><a href="#40765306">parent</a><span>|</span><a href="#40765349">next</a><span>|</span><label class="collapse" for="c-40765342">[-]</label><label class="expand" for="c-40765342">[2 more]</label></div><br/><div class="children"><div class="content">Either dependency issues with other gems, or gems that break due to some sort of library in the OS. If you pin all of your versions, and use it in one place, that&#x27;s less of an issue, but many scripts are designed to have some level of portability (even if it&#x27;s to a new instance of the server)</div><br/><div id="40765414" class="c"><input type="checkbox" id="c-40765414" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764681">root</a><span>|</span><a href="#40765342">parent</a><span>|</span><a href="#40765349">next</a><span>|</span><label class="collapse" for="c-40765414">[-]</label><label class="expand" for="c-40765414">[1 more]</label></div><br/><div class="children"><div class="content">In my experience, Bundler has improved a lot with regard to resolving dependency issues over the years.
And OS libs are only really depended on by a few gems, no? 99% of them don&#x27;t use FFI or call OS libs.<p>Moreover, how often do you really move a script to a completely different OS, where you don&#x27;t know which OS libs are installed?
And wouldn&#x27;t those missing OS libs also be a problem when writing the script in Bash or any other language?</div><br/></div></div></div></div></div></div></div></div><div id="40765349" class="c"><input type="checkbox" id="c-40765349" checked=""/><div class="controls bullet"><span class="by">aorth</span><span>|</span><a href="#40764681">prev</a><span>|</span><a href="#40764744">next</a><span>|</span><label class="collapse" for="c-40765349">[-]</label><label class="expand" for="c-40765349">[1 more]</label></div><br/><div class="children"><div class="content">Side note: Firefox is offering to translate this blog post from Portuguese for me though the content is clearly in English. I noticed the `&lt;html&gt;` element has a `lang=&quot;pt&quot;` attribute. The site is generated by Jekyll, which I have not used in years, so I&#x27;m wondering if this is a site-level setting or could be overridden in frontmatter...</div><br/></div></div><div id="40764744" class="c"><input type="checkbox" id="c-40764744" checked=""/><div class="controls bullet"><span class="by">corytheboyd</span><span>|</span><a href="#40765349">prev</a><span>|</span><a href="#40765198">next</a><span>|</span><label class="collapse" for="c-40764744">[-]</label><label class="expand" for="c-40764744">[1 more]</label></div><br/><div class="children"><div class="content">Overall a nice lite write up! Bash is great, but it occasionally becomes untenable, usually around the time where HTTP and whatnot becomes involved. Same goes for shell exec exit codes, you can use an API like popen3 for this: <a href="https:&#x2F;&#x2F;ruby-doc.org&#x2F;stdlib-2.4.1&#x2F;libdoc&#x2F;open3&#x2F;rdoc&#x2F;Open3.html#method-c-popen3" rel="nofollow">https:&#x2F;&#x2F;ruby-doc.org&#x2F;stdlib-2.4.1&#x2F;libdoc&#x2F;open3&#x2F;rdoc&#x2F;Open3.ht...</a><p>You mention using threads and regex match global variables in the same write up. Please  use the regex match method response instead of the $1  variables to save yourself the potential awful debugging session. It even lets you access named capture groups in the match response using the already familiar Hash access API. Example: <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;18825787" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;18825787</a><p>In general, just don’t use global variables in Ruby. It’s already SO easy to move “but it has to be global” functionality to static class methods or constants that I’ve encountered exactly zero cases where I have NEEDED global variables. Even if you need a “stateful constant” Ruby had a very convenient Singleton mixin that provides for a quick and easy solution.<p>Besides, if you actually WERE to take advantage of them being global VARIABLES (reassigning the value) I would confidently bet that your downstream code would break, because I’m guessing said downstream code assumes the global value is constant. Just avoid them, there’s no point, use constants. This applies to any language TBH, but here we’re talking about Ruby :)</div><br/></div></div><div id="40765198" class="c"><input type="checkbox" id="c-40765198" checked=""/><div class="controls bullet"><span class="by">fire_lake</span><span>|</span><a href="#40764744">prev</a><span>|</span><a href="#40763943">next</a><span>|</span><label class="collapse" for="c-40765198">[-]</label><label class="expand" for="c-40765198">[2 more]</label></div><br/><div class="children"><div class="content">Nothing about dependencies!<p>A scripting language needs a way to declare dependencies in a locked-down way, inside of the script that requires them. They must be portable across platforms.</div><br/><div id="40765235" class="c"><input type="checkbox" id="c-40765235" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40765198">parent</a><span>|</span><a href="#40763943">next</a><span>|</span><label class="collapse" for="c-40765235">[-]</label><label class="expand" for="c-40765235">[1 more]</label></div><br/><div class="children"><div class="content">Bundler inline works great for that: <a href="https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;bundler_in_a_single_file_ruby_script.html" rel="nofollow">https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;bundler_in_a_single_file_ruby_scri...</a></div><br/></div></div></div></div><div id="40763943" class="c"><input type="checkbox" id="c-40763943" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#40765198">prev</a><span>|</span><a href="#40765160">next</a><span>|</span><label class="collapse" for="c-40763943">[-]</label><label class="expand" for="c-40763943">[1 more]</label></div><br/><div class="children"><div class="content">I love using Ruby for shell scripting, but there are also a ton of little nits I have to fix whenever I&#x27;m doing it.<p>For example: Ruby has no built-in for &quot;call a subprocess and convert a nonzero exit status into an exception&quot;, ala bash `set -e`. So in many of my Ruby scripts there lives this little helper:<p><pre><code>    def system!(*args, **kwargs)
      r = system(*args, **kwargs)
      fail &quot;subprocess failed&quot; unless $?.success?
      r
    end
</code></pre>
And I can&#x27;t ask &quot;is this command installed&quot; in an efficient built-in way, so I end up throwing this one in frequently too (in this instance, whimsically attached to the metaclass of the ENV object):<p><pre><code>    class &lt;&lt; ENV
      def path
        @path ||= self[&#x27;PATH&#x27;].split(&#x27;:&#x27;).map{ |d| Pathname.new(d) }
      end

      def which(cmd)
        cmd = cmd.to_s
        self.path.lazy.map{ |d| d + cmd }.find{ |e| e.file? &amp;&amp; e.executable? }
      end
    end
</code></pre>
I have other little snippets like this for:<p>• implicitly logging process-spawns (ala bash `set -x`)<p>• High-level wrapper methods like `Pathname#readable_when_elevated?` that run elevated through IO.popen([&#x27;sudo&#x27;, ...]) — the same way you&#x27;d use `sudo` in a bash script for least-privilege purposes<p>• Recursive path helpers, e.g. a `Pathname#collapse_tree` method that recursively deletes empty subdirectories, with the option to consider directories that only contain OS errata files like `.DS_Store` &quot;empty&quot; (in other words, what you&#x27;d get back from of a git checkout, if you checked in the directory with a sensible .gitignore in play)<p>...and so forth. It really does end up adding up, to the point that I feel like what I really want is a Ruby-<i>like</i> language or a Ruby-<i>based</i> standalone DSL processor that&#x27;s been optimized for sysadmin tasks.</div><br/></div></div><div id="40765160" class="c"><input type="checkbox" id="c-40765160" checked=""/><div class="controls bullet"><span class="by">kajika91</span><span>|</span><a href="#40763943">prev</a><span>|</span><a href="#40765184">next</a><span>|</span><label class="collapse" for="c-40765160">[-]</label><label class="expand" for="c-40765160">[1 more]</label></div><br/><div class="children"><div class="content">No pipe (and I mean in parallel too) no love for me.<p>Nice calling syntax though.</div><br/></div></div><div id="40765184" class="c"><input type="checkbox" id="c-40765184" checked=""/><div class="controls bullet"><span class="by">oliviergg</span><span>|</span><a href="#40765160">prev</a><span>|</span><a href="#40763838">next</a><span>|</span><label class="collapse" for="c-40765184">[-]</label><label class="expand" for="c-40765184">[2 more]</label></div><br/><div class="children"><div class="content">For me, the problem with shell scripting is that I do it only occasionally. I’ve always been tempted by higher-level languages. The arrival of tools like ChatGPT has made me much more comfortable writing scripts of intermediate complexity. I find shell scripting more interesting now.</div><br/><div id="40765276" class="c"><input type="checkbox" id="c-40765276" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40765184">parent</a><span>|</span><a href="#40763838">next</a><span>|</span><label class="collapse" for="c-40765276">[-]</label><label class="expand" for="c-40765276">[1 more]</label></div><br/><div class="children"><div class="content">Similar case for me, but I think the author says it well:<p>&gt; That is, most of the cases Bash for me is enough, but if the script starts to become complex, I switch to Ruby.<p>Even if ChatGPT lets you bang out more complex shell scripts easily, if you have to come back to it later on to fix an error or add a new feature, it&#x27;s really hard to understand it (if you don&#x27;t deal with such scripts on a daily basis).
If you start with Ruby (or Python or similar) from the beginning, it&#x27;s much easier to understand and extend later on.</div><br/></div></div></div></div><div id="40763838" class="c"><input type="checkbox" id="c-40763838" checked=""/><div class="controls bullet"><span class="by">blahgeek</span><span>|</span><a href="#40765184">prev</a><span>|</span><a href="#40764495">next</a><span>|</span><label class="collapse" for="c-40763838">[-]</label><label class="expand" for="c-40763838">[1 more]</label></div><br/><div class="children"><div class="content">Perl also satisfies all listed features</div><br/></div></div><div id="40764495" class="c"><input type="checkbox" id="c-40764495" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#40763838">prev</a><span>|</span><a href="#40764502">next</a><span>|</span><label class="collapse" for="c-40764495">[-]</label><label class="expand" for="c-40764495">[3 more]</label></div><br/><div class="children"><div class="content">As a self proclaimed shell advocate I am… intrigued. As a self proclaimed shell advocate, I also have a revulsion to back ticks.</div><br/><div id="40764814" class="c"><input type="checkbox" id="c-40764814" checked=""/><div class="controls bullet"><span class="by">pikelet</span><span>|</span><a href="#40764495">parent</a><span>|</span><a href="#40764582">next</a><span>|</span><label class="collapse" for="c-40764814">[-]</label><label class="expand" for="c-40764814">[1 more]</label></div><br/><div class="children"><div class="content">You can also use %x(ls some&#x2F;dir), which is a syntax used in other places too, like %w[word word word] (array of word strings, notice you can choose the delimiter).</div><br/></div></div><div id="40764582" class="c"><input type="checkbox" id="c-40764582" checked=""/><div class="controls bullet"><span class="by">justin_oaks</span><span>|</span><a href="#40764495">parent</a><span>|</span><a href="#40764814">prev</a><span>|</span><a href="#40764502">next</a><span>|</span><label class="collapse" for="c-40764582">[-]</label><label class="expand" for="c-40764582">[1 more]</label></div><br/><div class="children"><div class="content">Yes, all hail $( )<p>I haven&#x27;t used backticks in my shell scripts in years.</div><br/></div></div></div></div><div id="40764502" class="c"><input type="checkbox" id="c-40764502" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#40764495">prev</a><span>|</span><a href="#40764359">next</a><span>|</span><label class="collapse" for="c-40764502">[-]</label><label class="expand" for="c-40764502">[1 more]</label></div><br/><div class="children"><div class="content">To simulate “types” in complex shell scripting I typically involve a lot of json objects acting as my data structures and the file system for a rudimentary database. They’re horrifying ugly, but they tend to work pretty reliably.<p>This is probably easier.</div><br/></div></div><div id="40764359" class="c"><input type="checkbox" id="c-40764359" checked=""/><div class="controls bullet"><span class="by">corytheboyd</span><span>|</span><a href="#40764502">prev</a><span>|</span><a href="#40764535">next</a><span>|</span><label class="collapse" for="c-40764359">[-]</label><label class="expand" for="c-40764359">[5 more]</label></div><br/><div class="children"><div class="content">Hell yeah! I’ll never forget being fooled by HN that you have to use Perl if you want portable scripts that aren’t bash, writing a whole script with it, and having a coworker politely, yet firmly, tell me that I am dumb and it should just be Ruby… and it was a script I was checking into a Rails app! It’s even trivial to include dependencies with bundler inline <a href="https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;bundler_in_a_single_file_ruby_script.html" rel="nofollow">https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;bundler_in_a_single_file_ruby_scri...</a></div><br/><div id="40764543" class="c"><input type="checkbox" id="c-40764543" checked=""/><div class="controls bullet"><span class="by">notnmeyer</span><span>|</span><a href="#40764359">parent</a><span>|</span><a href="#40764535">next</a><span>|</span><label class="collapse" for="c-40764543">[-]</label><label class="expand" for="c-40764543">[4 more]</label></div><br/><div class="children"><div class="content">this is… somewhat horrific, right? would anyone do this without explicit version pinning?<p>loosely pinned deps installed on execution sounds fucking awful.</div><br/><div id="40765348" class="c"><input type="checkbox" id="c-40765348" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764359">root</a><span>|</span><a href="#40764543">parent</a><span>|</span><a href="#40764586">next</a><span>|</span><label class="collapse" for="c-40765348">[-]</label><label class="expand" for="c-40765348">[1 more]</label></div><br/><div class="children"><div class="content">You can pin a gem to a specific version, of course.<p>`gem &quot;mygem&quot;` installs the latest version.
`gem &quot;mygem&quot;, &quot;~&gt; 4.0.0&quot;` installs &gt;= 4.0.0 but &lt; 4.1.0, which is what you probably want when using Semantic Versioning, which most gems adhere to, to get the latest patch version.
`gem &quot;mygem&quot;, &quot;4.0.10&quot;` installs exactly that version.</div><br/></div></div><div id="40764590" class="c"><input type="checkbox" id="c-40764590" checked=""/><div class="controls bullet"><span class="by">corytheboyd</span><span>|</span><a href="#40764359">root</a><span>|</span><a href="#40764543">parent</a><span>|</span><a href="#40764586">prev</a><span>|</span><a href="#40764535">next</a><span>|</span><label class="collapse" for="c-40764590">[-]</label><label class="expand" for="c-40764590">[1 more]</label></div><br/><div class="children"><div class="content">Well, don’t use this then. It’s a neat feature for quickly iterating, and you can quite easily go up from here to a proper Gemfile&#x2F;Gemfile.lock.</div><br/></div></div></div></div></div></div><div id="40764535" class="c"><input type="checkbox" id="c-40764535" checked=""/><div class="controls bullet"><span class="by">xgdgsc</span><span>|</span><a href="#40764359">prev</a><span>|</span><a href="#40764079">next</a><span>|</span><label class="collapse" for="c-40764535">[-]</label><label class="expand" for="c-40764535">[1 more]</label></div><br/><div class="children"><div class="content">Or use Julia for scripts <a href="https:&#x2F;&#x2F;github.com&#x2F;ninjaaron&#x2F;administrative-scripting-with-julia">https:&#x2F;&#x2F;github.com&#x2F;ninjaaron&#x2F;administrative-scripting-with-j...</a></div><br/></div></div><div id="40764079" class="c"><input type="checkbox" id="c-40764079" checked=""/><div class="controls bullet"><span class="by">lr4444lr</span><span>|</span><a href="#40764535">prev</a><span>|</span><a href="#40764727">next</a><span>|</span><label class="collapse" for="c-40764079">[-]</label><label class="expand" for="c-40764079">[7 more]</label></div><br/><div class="children"><div class="content">Not denying Ruby is good, but other than process forking, why should I prefer it to Python?</div><br/><div id="40765710" class="c"><input type="checkbox" id="c-40765710" checked=""/><div class="controls bullet"><span class="by">cyclotron3k</span><span>|</span><a href="#40764079">parent</a><span>|</span><a href="#40765324">next</a><span>|</span><label class="collapse" for="c-40765710">[-]</label><label class="expand" for="c-40765710">[1 more]</label></div><br/><div class="children"><div class="content">Personally, I find Ruby&#x27;s syntax more natural, (I&#x27;m going to be heavily biased though, having written Ruby for 10+ years). But for example, let&#x27;s say I wanted to make a hash (dict) of files, keyed by their size (for some unknown reason), in Ruby it would look like:<p><pre><code>  Pathname.glob(&#x27;*&#x27;).filter { |f| f.file? }.each_with_object({}) { |f, h| h[f.size] = f }
</code></pre>
Whereas the equivalent Python would be:<p><pre><code>  result = {}
  for file_path in glob.glob(&#x27;*&#x27;):
    if os.path.isfile(file_path):
      result[os.path.getsize(file_path)] = file_path
</code></pre>
Or capitalizing a string in Ruby:<p><pre><code>  string.split(&#x27; &#x27;).map(&amp;:capitalize).join(&#x27; &#x27;)
</code></pre>
And in Python:<p><pre><code>  words = string.split(&#x27; &#x27;)
  capitalized_words = [word.capitalize() for word in words]
  result = &#x27; &#x27;.join(capitalized_words)
</code></pre>
Python seems to be more convoluted and verbose to me, and requires more explicit variable declarations too. With the Ruby you can literally read left to right and know what it does, but with the Python, I find I have to jump about a bit to grok what&#x27;s going on. But maybe that&#x27;s just my lack of Python experience showing.</div><br/></div></div><div id="40765324" class="c"><input type="checkbox" id="c-40765324" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764079">parent</a><span>|</span><a href="#40765710">prev</a><span>|</span><a href="#40764211">next</a><span>|</span><label class="collapse" for="c-40765324">[-]</label><label class="expand" for="c-40765324">[1 more]</label></div><br/><div class="children"><div class="content">For 99% of use cases (especially when writing shell scripts) it doesn&#x27;t matter, just pick the one you know better. Both are nicer than Bash though. :)</div><br/></div></div><div id="40764211" class="c"><input type="checkbox" id="c-40764211" checked=""/><div class="controls bullet"><span class="by">katbyte</span><span>|</span><a href="#40764079">parent</a><span>|</span><a href="#40765324">prev</a><span>|</span><a href="#40764419">next</a><span>|</span><label class="collapse" for="c-40764211">[-]</label><label class="expand" for="c-40764211">[3 more]</label></div><br/><div class="children"><div class="content">Not using white space as a delimiter</div><br/><div id="40765194" class="c"><input type="checkbox" id="c-40765194" checked=""/><div class="controls bullet"><span class="by">ianschmitz</span><span>|</span><a href="#40764079">root</a><span>|</span><a href="#40764211">parent</a><span>|</span><a href="#40764419">next</a><span>|</span><label class="collapse" for="c-40765194">[-]</label><label class="expand" for="c-40765194">[2 more]</label></div><br/><div class="children"><div class="content">Ruby is surprisingly picky with white space</div><br/><div id="40765321" class="c"><input type="checkbox" id="c-40765321" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40764079">root</a><span>|</span><a href="#40765194">parent</a><span>|</span><a href="#40764419">next</a><span>|</span><label class="collapse" for="c-40765321">[-]</label><label class="expand" for="c-40765321">[1 more]</label></div><br/><div class="children"><div class="content">Can you give an example?
I can&#x27;t think of a single situation where whitespace matters in Ruby (unless of course you forget to put a space between two commands or something silly).</div><br/></div></div></div></div></div></div><div id="40764419" class="c"><input type="checkbox" id="c-40764419" checked=""/><div class="controls bullet"><span class="by">corytheboyd</span><span>|</span><a href="#40764079">parent</a><span>|</span><a href="#40764211">prev</a><span>|</span><a href="#40764727">next</a><span>|</span><label class="collapse" for="c-40764419">[-]</label><label class="expand" for="c-40764419">[1 more]</label></div><br/><div class="children"><div class="content">It’s just preference at that point IMO, and I’d base it off “what language are the rest of the scripts using?”.</div><br/></div></div></div></div><div id="40764727" class="c"><input type="checkbox" id="c-40764727" checked=""/><div class="controls bullet"><span class="by">pipeline_peak</span><span>|</span><a href="#40764079">prev</a><span>|</span><a href="#40763936">next</a><span>|</span><label class="collapse" for="c-40764727">[-]</label><label class="expand" for="c-40764727">[3 more]</label></div><br/><div class="children"><div class="content">Being able to call external commands with backticks alone makes it better suited than Python for shell scripting.</div><br/><div id="40764977" class="c"><input type="checkbox" id="c-40764977" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#40764727">parent</a><span>|</span><a href="#40763936">next</a><span>|</span><label class="collapse" for="c-40764977">[-]</label><label class="expand" for="c-40764977">[2 more]</label></div><br/><div class="children"><div class="content">If you&#x27;ve reached for something with more structure than the string-soup that is bash, why would you then embrace the string-soup that is invoking subprocesses with backticks?<p>Involving an entirely separate parser just to split your args up feels like a footgun to me.<p>Python&#x27;s `sh` handles this rather nicely:<p><a href="http:&#x2F;&#x2F;sh.readthedocs.io&#x2F;en&#x2F;latest&#x2F;" rel="nofollow">http:&#x2F;&#x2F;sh.readthedocs.io&#x2F;en&#x2F;latest&#x2F;</a></div><br/></div></div></div></div><div id="40763936" class="c"><input type="checkbox" id="c-40763936" checked=""/><div class="controls bullet"><span class="by">didip</span><span>|</span><a href="#40764727">prev</a><span>|</span><a href="#40764295">next</a><span>|</span><label class="collapse" for="c-40763936">[-]</label><label class="expand" for="c-40763936">[5 more]</label></div><br/><div class="children"><div class="content">No it’s not a great language.<p>Too many ways to do the same thing.<p>Not packaged by default on most Linux.<p>Monkey patching makes things even harder to debug.</div><br/><div id="40764137" class="c"><input type="checkbox" id="c-40764137" checked=""/><div class="controls bullet"><span class="by">dwheeler</span><span>|</span><a href="#40763936">parent</a><span>|</span><a href="#40764690">next</a><span>|</span><label class="collapse" for="c-40764137">[-]</label><label class="expand" for="c-40764137">[1 more]</label></div><br/><div class="children"><div class="content">Ruby is packaged for all significant Linux distros. It isn&#x27;t installed by default in many, but installing it is a trivial one-time command, and it takes relatively little space.</div><br/></div></div><div id="40764690" class="c"><input type="checkbox" id="c-40764690" checked=""/><div class="controls bullet"><span class="by">x3n0ph3n3</span><span>|</span><a href="#40763936">parent</a><span>|</span><a href="#40764137">prev</a><span>|</span><a href="#40763948">next</a><span>|</span><label class="collapse" for="c-40764690">[-]</label><label class="expand" for="c-40764690">[2 more]</label></div><br/><div class="children"><div class="content">Monkey patching isn&#x27;t the norm anymore and not really a valid complaint in this decade.</div><br/><div id="40765371" class="c"><input type="checkbox" id="c-40765371" checked=""/><div class="controls bullet"><span class="by">manume</span><span>|</span><a href="#40763936">root</a><span>|</span><a href="#40764690">parent</a><span>|</span><a href="#40763948">next</a><span>|</span><label class="collapse" for="c-40765371">[-]</label><label class="expand" for="c-40765371">[1 more]</label></div><br/><div class="children"><div class="content">Hearing people still mention &quot;monkey patching&quot; always makes me chuckle...
I haven&#x27;t &quot;monkey patched&quot; anything in Ruby in &gt; 5 years, and I don&#x27;t see it in any of the popular libraries&#x2F;gems anymore either.</div><br/></div></div></div></div><div id="40763948" class="c"><input type="checkbox" id="c-40763948" checked=""/><div class="controls bullet"><span class="by">ekianjo</span><span>|</span><a href="#40763936">parent</a><span>|</span><a href="#40764690">prev</a><span>|</span><a href="#40764295">next</a><span>|</span><label class="collapse" for="c-40763948">[-]</label><label class="expand" for="c-40763948">[1 more]</label></div><br/><div class="children"><div class="content">yeah. The not packaged by default is the killer issue.</div><br/></div></div></div></div><div id="40764295" class="c"><input type="checkbox" id="c-40764295" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#40763936">prev</a><span>|</span><label class="collapse" for="c-40764295">[-]</label><label class="expand" for="c-40764295">[1 more]</label></div><br/><div class="children"><div class="content">The things which make Ruby good for shell scripts are, to a large degree, things it inherited from Perl. Which was, and is, a great language for scripting.<p>People use it a lot less these days, for a lot of reasons, some better than others. I myself do simple stuff in bash, and pull out some Python for more complex scripting. My Perl chops have withered, last time I was paid to use it was 21 years ago, but it really is a great scripting language, and you&#x27;ll find it installed on a great deal more systems than Ruby.<p>One of these days I&#x27;ll give Raku a spin, just for old time&#x27;s sake.</div><br/></div></div></div></div></div></div></div></body></html>