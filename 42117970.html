<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731488470162" as="style"/><link rel="stylesheet" href="styles.css?v=1731488470162"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/hyperdxio/hyperdx/tree/v2">Show HN: Open-source Kibana alternative for logs and traces in ClickHouse</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>mikeshi42</span> | <span>27 comments</span></div><br/><div><div id="42119762" class="c"><input type="checkbox" id="c-42119762" checked=""/><div class="controls bullet"><span class="by">miah_</span><span>|</span><a href="#42123947">next</a><span>|</span><label class="collapse" for="c-42119762">[-]</label><label class="expand" for="c-42119762">[5 more]</label></div><br/><div class="children"><div class="content">Whats hilarious is that Kibana started out as a Open Source.<p>Hard to trust anything released as OSS these days that hits this site run by a for profit company.. Its all destined to have a rug pull after some VC funding. Considering HyperDX is a for profit company, I&#x27;m sure we won&#x27;t have to wait long!</div><br/><div id="42120769" class="c"><input type="checkbox" id="c-42120769" checked=""/><div class="controls bullet"><span class="by">bboreham</span><span>|</span><a href="#42119762">parent</a><span>|</span><a href="#42121166">next</a><span>|</span><label class="collapse" for="c-42120769">[-]</label><label class="expand" for="c-42120769">[1 more]</label></div><br/><div class="children"><div class="content">Kibana is once again Open Source, as of 2 months ago. 
<a href="https:&#x2F;&#x2F;github.com&#x2F;elastic&#x2F;kibana&#x2F;blob&#x2F;main&#x2F;LICENSE.txt">https:&#x2F;&#x2F;github.com&#x2F;elastic&#x2F;kibana&#x2F;blob&#x2F;main&#x2F;LICENSE.txt</a></div><br/></div></div><div id="42121166" class="c"><input type="checkbox" id="c-42121166" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42119762">parent</a><span>|</span><a href="#42120769">prev</a><span>|</span><a href="#42120811">next</a><span>|</span><label class="collapse" for="c-42121166">[-]</label><label class="expand" for="c-42121166">[2 more]</label></div><br/><div class="children"><div class="content">Ahh yeah fwiw it wasn&#x27;t _intended_ to be a dig at the open source status of Kibana - but rather we&#x27;re open source and building on top of Clickhouse.<p>On the commercial OSS side of things - I suspect the trend there is more nuanced than all OSS companies being suspect to the same problem, but rather companies that generally solve a &quot;behind the API&quot; problem are more susceptible to problems of cloud vendors taking their code and competing with them commercially (ex. if you&#x27;re a DB like Redis, Mongo, Elastic - or a CLI like Terraform). We&#x27;re building an end-user experience (more like Gitlab) - where experience differentiation matters a lot more than simple infrastructure hosting, something AWS is not particularly well suited at competing on!<p>It&#x27;s been 3 years of Gitlab post-IPO and they&#x27;re still MIT, and that&#x27;s the boat we&#x27;re on as well :)</div><br/><div id="42124220" class="c"><input type="checkbox" id="c-42124220" checked=""/><div class="controls bullet"><span class="by">ayewo</span><span>|</span><a href="#42119762">root</a><span>|</span><a href="#42121166">parent</a><span>|</span><a href="#42120811">next</a><span>|</span><label class="collapse" for="c-42124220">[-]</label><label class="expand" for="c-42124220">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>It&#x27;s been 3 years of Gitlab post-IPO and they&#x27;re still MIT, and that&#x27;s the boat we&#x27;re on as well :)</i><p>I totally understand your optimism but keep in mind that GitLab was exploring a sale as at 4 months ago <a href="https:&#x2F;&#x2F;www.reuters.com&#x2F;markets&#x2F;deals&#x2F;google-backed-software-developer-gitlab-explores-sale-sources-say-2024-07-17&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.reuters.com&#x2F;markets&#x2F;deals&#x2F;google-backed-software...</a></div><br/></div></div></div></div><div id="42120811" class="c"><input type="checkbox" id="c-42120811" checked=""/><div class="controls bullet"><span class="by">mathfailure</span><span>|</span><a href="#42119762">parent</a><span>|</span><a href="#42121166">prev</a><span>|</span><a href="#42123947">next</a><span>|</span><label class="collapse" for="c-42120811">[-]</label><label class="expand" for="c-42120811">[1 more]</label></div><br/><div class="children"><div class="content">What do we say in such cases? It was good while it lasted!<p>Once that happens - eventually some new kids would appear on the block.<p>Such is the life.</div><br/></div></div></div></div><div id="42123947" class="c"><input type="checkbox" id="c-42123947" checked=""/><div class="controls bullet"><span class="by">jillesvangurp</span><span>|</span><a href="#42119762">prev</a><span>|</span><a href="#42121953">next</a><span>|</span><label class="collapse" for="c-42123947">[-]</label><label class="expand" for="c-42123947">[1 more]</label></div><br/><div class="children"><div class="content">If you want an opensource &#x2F; non AGPL licensed alternative for Kibana, Opensearch also includes a fork of Kibana in the form of Opensearch Dashboards.<p>Clickhouse not being Elastic&#x2F;Opensearch based means they would need to reinvent that wheel in any case because Kibana cannot use Clickhouse for storage. So this isn&#x27;t so much an alternative but an essential component to make Clickhouse useful. Since you can&#x27;t use Kibana for that. From various accounts here; they seem to have done a decent job.<p>Of course the key strength of Kibana is that it builds on features that Elasticsearch has; like aggregations that are probably more limited in Clickhouse. Same with Opensearch Dashboards. It depends on your use case whether you actually need that of course.<p>One point of concern with Clickhouse is that, like Elastic, they require contributors to sign contributor agreements. This basically allows them to re-license the code base if they want to at some point. Which is of course what Elastic did several times now (they changed it back to AGPL a few weeks back). Like Elastic are well funded by VC money but still pre-IPO. Just saying that if you moved to Clickhouse because of the Elastic licensing debacle, you might just have moved that problem instead of solving it.</div><br/></div></div><div id="42121953" class="c"><input type="checkbox" id="c-42121953" checked=""/><div class="controls bullet"><span class="by">nh2</span><span>|</span><a href="#42123947">prev</a><span>|</span><a href="#42123152">next</a><span>|</span><label class="collapse" for="c-42121953">[-]</label><label class="expand" for="c-42121953">[4 more]</label></div><br/><div class="children"><div class="content">Can you clarify: Does the full-text search for logs linearly search all logs like Loki does, or can it speed it up with an index?<p>The docs at <a href="https:&#x2F;&#x2F;www.hyperdx.io&#x2F;docs&#x2F;search">https:&#x2F;&#x2F;www.hyperdx.io&#x2F;docs&#x2F;search</a> don&#x27;t seem to talk about this key design decision.<p>I have a couple 100 GB to few TB logs (all from `journald` or JSON lines), just want to store them forever, and find results fast when searching for arbitrary substrings.<p>Loki does not use an index, so it&#x27;s pretty slow at finding results in TB-sized logs (does not return results within a few seconds, so it&#x27;s not interactive).<p><a href="https:&#x2F;&#x2F;quickwit.io" rel="nofollow">https:&#x2F;&#x2F;quickwit.io</a> is one thing I&#x27;m looking at integrating, that can solve much of the index-based log search.<p>(Note I&#x27;m not super familar with the capabilities of ClickHouse itself regarding indexed full-text search.)</div><br/><div id="42122048" class="c"><input type="checkbox" id="c-42122048" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42121953">parent</a><span>|</span><a href="#42123152">next</a><span>|</span><label class="collapse" for="c-42122048">[-]</label><label class="expand" for="c-42122048">[3 more]</label></div><br/><div class="children"><div class="content">You&#x27;d generally add an index to your logs in Clickhouse to do searching (via ngram or token bloom filters typically: <a href="https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;optimize&#x2F;skipping-indexes#bloom-filter-types" rel="nofollow">https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;optimize&#x2F;skipping-indexes#blo...</a>). There&#x27;s other ways of indexing as well but that&#x27;s generally the best for full text search. We use token bloom filter indexes today and find them quite effective (it can skip whole chunks of logs due to the bloom filter being able to say that a word did not appear in the chunk of logs).<p>Indeed Loki is incredibly slow - Clickhouse is deployed for logging at scale (ex. trip.com is running a 50pb logging solution that allowed them to 4x their old ES cluster volume while also running queries 4-30x faster)</div><br/><div id="42122734" class="c"><input type="checkbox" id="c-42122734" checked=""/><div class="controls bullet"><span class="by">nh2</span><span>|</span><a href="#42121953">root</a><span>|</span><a href="#42122048">parent</a><span>|</span><a href="#42123152">next</a><span>|</span><label class="collapse" for="c-42122734">[-]</label><label class="expand" for="c-42122734">[2 more]</label></div><br/><div class="children"><div class="content">Thanks! When using full open-source HyperDX (beyond the Kibana part), inclusive of your choices of ingestion and controlling Clickhouse, does it set up the recommended indexes automatically?<p>That is, is it a full drop-in for a typical Grafana + Loki deployment?<p>For context, I&#x27;m currently following the approach described in <a href="https:&#x2F;&#x2F;xeiaso.net&#x2F;blog&#x2F;prometheus-grafana-loki-nixos-2020-11-20&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xeiaso.net&#x2F;blog&#x2F;prometheus-grafana-loki-nixos-2020-1...</a> where with ~40 lines of NixOS config it pushes my entire server cluster&#x27;s systemd journald logs into Grafana.<p>Roughly how much effort would one have to put in to achieve the same with HyperDX? If it&#x27;s not too hard, I might get around to package it as a NixOS service.</div><br/><div id="42122843" class="c"><input type="checkbox" id="c-42122843" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42121953">root</a><span>|</span><a href="#42122734">parent</a><span>|</span><a href="#42123152">next</a><span>|</span><label class="collapse" for="c-42122843">[-]</label><label class="expand" for="c-42122843">[1 more]</label></div><br/><div class="children"><div class="content">yes! the full stack includes our recommended schema which has the indexes set up - it&#x27;s a drop in replacement for anything that would ingest Otel-based telemetry! If you already have Promtail setup - you might want to set up a collector or tweak the existing collector to take in Promtail via the Otel Loki Receiver: <a href="https:&#x2F;&#x2F;github.com&#x2F;open-telemetry&#x2F;opentelemetry-collector-contrib&#x2F;tree&#x2F;main&#x2F;receiver&#x2F;lokireceiver">https:&#x2F;&#x2F;github.com&#x2F;open-telemetry&#x2F;opentelemetry-collector-co...</a><p>Overall it doesn&#x27;t sound very hard to me!</div><br/></div></div></div></div></div></div></div></div><div id="42123152" class="c"><input type="checkbox" id="c-42123152" checked=""/><div class="controls bullet"><span class="by">lunarcave</span><span>|</span><a href="#42121953">prev</a><span>|</span><a href="#42122675">next</a><span>|</span><label class="collapse" for="c-42123152">[-]</label><label class="expand" for="c-42123152">[2 more]</label></div><br/><div class="children"><div class="content">A happy HyperDX customer here. Can&#x27;t recommend it enough.<p>We wanted something good for tracing and logs, without the price tag we were used to from datadog. We&#x27;ve been pleasantly surprised by how easy it was to set up and start pumping telemetry.<p>The UI is super intuitive and the OOTB dashboards are great as well.</div><br/><div id="42123694" class="c"><input type="checkbox" id="c-42123694" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42123152">parent</a><span>|</span><a href="#42122675">next</a><span>|</span><label class="collapse" for="c-42123694">[-]</label><label class="expand" for="c-42123694">[1 more]</label></div><br/><div class="children"><div class="content">Thank you, really appreciate feedback like that! :D</div><br/></div></div></div></div><div id="42122675" class="c"><input type="checkbox" id="c-42122675" checked=""/><div class="controls bullet"><span class="by">zX41ZdbW</span><span>|</span><a href="#42123152">prev</a><span>|</span><a href="#42120848">next</a><span>|</span><label class="collapse" for="c-42122675">[-]</label><label class="expand" for="c-42122675">[2 more]</label></div><br/><div class="children"><div class="content">It is actually really great! Works out of the box, does it with a single-page UI, and it is not slow. It&#x27;s very close to a log viewer I always dreamed of. The UI is much better than Grafana.<p>I connected it to the system.text_log table, and it took zero time with no problems.</div><br/><div id="42122824" class="c"><input type="checkbox" id="c-42122824" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42122675">parent</a><span>|</span><a href="#42120848">next</a><span>|</span><label class="collapse" for="c-42122824">[-]</label><label class="expand" for="c-42122824">[1 more]</label></div><br/><div class="children"><div class="content">thank you! means a lot coming from you ;)<p>Speaking of the system tables - it&#x27;s awesome how much telemetry is saved in there that helps us build a really powerful preset clickhouse monitoring dashboard (heavily inspired from the built-in clickhouse one of course). We figured that alone is quite useful for teams running any Clickhouse instance and want better insights into what&#x27;s going on.</div><br/></div></div></div></div><div id="42120848" class="c"><input type="checkbox" id="c-42120848" checked=""/><div class="controls bullet"><span class="by">mathfailure</span><span>|</span><a href="#42122675">prev</a><span>|</span><a href="#42120681">next</a><span>|</span><label class="collapse" for="c-42120848">[-]</label><label class="expand" for="c-42120848">[2 more]</label></div><br/><div class="children"><div class="content">I think your project needs a &#x27;Comparison to Kibana&#x27; section. Sell your project to me: I am currently using Kibana, why should I switch?</div><br/><div id="42121640" class="c"><input type="checkbox" id="c-42121640" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42120848">parent</a><span>|</span><a href="#42120681">next</a><span>|</span><label class="collapse" for="c-42121640">[-]</label><label class="expand" for="c-42121640">[1 more]</label></div><br/><div class="children"><div class="content">Totally fair! Here&#x27;s a few on the top of my head, they&#x27;re mostly about Elastic really but of course Kibana is only really useful on ES:<p>1. At my last job we were running some of the largest elastic clusters of our hyperscaler&#x27;s cloud - elastic is slow, expensive and finicky to operate at decent scale. We&#x27;ve found the exact opposite with Clickhouse, it&#x27;s fast, easy to operate, and supports things like S3-backed storage directly in their open source product. As an example, Uber switched from Elastic -&gt; Clickhouse and halved their infra footprint while increasing volume.<p>2. Elastic is tricky to manage, field type conflicts come up super common at scale and are annoying to deconflict. Clickhouse is a lot more flexible in its schema to avoid those problems (and give you knobs to fine tune performance at a more granular level with their indexes&#x2F;schemas)<p>3. We allow for both SQL and Lucene, both are relatively &quot;standard&quot; languages that engineers are likely already familiar in one way or another. Compared to elastic moving to ES|QL, another vendor-specific language that will be difficult to onboard to. The last thing you want during an incident is trying to recall vendor-specific languages for querying that critical data!<p>tl;dr - we try to make it easy to &quot;do observability&quot; on what we think is the best DB for observability today (Clickhouse), analogous to what Kibana did for ES.</div><br/></div></div></div></div><div id="42120681" class="c"><input type="checkbox" id="c-42120681" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#42120848">prev</a><span>|</span><a href="#42118095">next</a><span>|</span><label class="collapse" for="c-42120681">[-]</label><label class="expand" for="c-42120681">[2 more]</label></div><br/><div class="children"><div class="content">Hmm, this is not the &quot;Kibana&quot; alternative I imagined.<p>Kibana was supposed to be an easy UI. You go to Discover, and the data automatically shows in chronological order, I can explore it with different options.<p>Kibana is very suitable for non-tech or less-tech people. I hope your product find a clear target audience. With too much ES query JSON or SQL it would scare people off.</div><br/><div id="42121190" class="c"><input type="checkbox" id="c-42121190" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42120681">parent</a><span>|</span><a href="#42118095">next</a><span>|</span><label class="collapse" for="c-42121190">[-]</label><label class="expand" for="c-42121190">[1 more]</label></div><br/><div class="children"><div class="content">Hrm while we aren&#x27;t a 1:1 Kibana replacement today (we&#x27;re not apples to apples since Kibana is locked into Elastic, whereas we&#x27;re on Clickhouse) - I don&#x27;t think we&#x27;re too far off with our UI-based filters, Lucene filter language, and timestamp filtering&#x2F;sorting&#x2F;live tail.<p>There is a setup modal (which is intended to be set up once by the data owner, similar to maybe how you&#x27;d set up some indexes in Elastic) - and afterwards the experience is similar IMO. If you&#x27;re open to sharing more I&#x27;d love to learn more mike@hyperdx.io or if you want to open an issue&#x2F;join our discord.</div><br/></div></div></div></div><div id="42118095" class="c"><input type="checkbox" id="c-42118095" checked=""/><div class="controls bullet"><span class="by">maxthegeek1</span><span>|</span><a href="#42120681">prev</a><span>|</span><a href="#42121836">next</a><span>|</span><label class="collapse" for="c-42118095">[-]</label><label class="expand" for="c-42118095">[2 more]</label></div><br/><div class="children"><div class="content">We use HyperDX for our observability! We had been using google&#x27;s observability suite before, because we&#x27;re using GKE anyways, but HyperDX&#x27;s search over traces is just waaaay better and I can&#x27;t go back.</div><br/><div id="42121216" class="c"><input type="checkbox" id="c-42121216" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42118095">parent</a><span>|</span><a href="#42121836">next</a><span>|</span><label class="collapse" for="c-42121216">[-]</label><label class="expand" for="c-42121216">[1 more]</label></div><br/><div class="children"><div class="content">Thank you Max! It&#x27;s awesome to hear that :)</div><br/></div></div></div></div><div id="42121836" class="c"><input type="checkbox" id="c-42121836" checked=""/><div class="controls bullet"><span class="by">jakozaur</span><span>|</span><a href="#42118095">prev</a><span>|</span><a href="#42120523">next</a><span>|</span><label class="collapse" for="c-42121836">[-]</label><label class="expand" for="c-42121836">[2 more]</label></div><br/><div class="children"><div class="content">You can also use Quesma and real Kibana with ClickHouse too.<p>Disclaimer: Co-founder of Quesma.</div><br/><div id="42122311" class="c"><input type="checkbox" id="c-42122311" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42121836">parent</a><span>|</span><a href="#42120523">next</a><span>|</span><label class="collapse" for="c-42122311">[-]</label><label class="expand" for="c-42122311">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t downvote you, but people who shill their wares without providing a link are just wasting everyone&#x27;s time</div><br/></div></div></div></div><div id="42120523" class="c"><input type="checkbox" id="c-42120523" checked=""/><div class="controls bullet"><span class="by">akdor1154</span><span>|</span><a href="#42121836">prev</a><span>|</span><a href="#42120151">next</a><span>|</span><label class="collapse" for="c-42120523">[-]</label><label class="expand" for="c-42120523">[2 more]</label></div><br/><div class="children"><div class="content">Very interested - I&#x27;m currently toying with Grafana set up in the same way, i wonder how this compares?</div><br/><div id="42121266" class="c"><input type="checkbox" id="c-42121266" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42120523">parent</a><span>|</span><a href="#42120151">next</a><span>|</span><label class="collapse" for="c-42121266">[-]</label><label class="expand" for="c-42121266">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re using the Grafana Clickhouse plugin - a number of things we do differently to them today:<p>- We support Lucene-based search, which means it&#x27;s a lot easier to find the events you&#x27;re looking for without needing to break into verbose SQL search. (Column&#x2F;property&#x2F;full text search are all super easy).<p>- We&#x27;re optimized exclusively for Clickhouse, which means we do a number of things to optimize the queries we run and that returns you a nice performance boost (we see a 2x perf boost, but this will vary a ton of data and queries). For example we allow you to do a search on a subset of columns (so the search is performant), and then click in and expand an entire row of interest on-demand (so we only do a SELECT * for a single row). This is also a much nicer DX than needing to specify every column you might need. We have a few other optimizations as well.<p>- We have (what we think is) a nice chart builder - so you don&#x27;t need to mess with template variables and macros to build a chart, but still lets you escape hatch out into SQL for the important bits.<p>- We think our event deltas feature for analyzing traces is pretty neat - afaik this isn&#x27;t something you get in Grafana.
- You can live tail events, I don&#x27;t think Grafana for Clickhouse has that (I&#x27;m a big fan of tail -f)<p>Overall we focus on trying to bring an easy-to-use high-cardinality observability experience to Clickhouse, whereas Grafana seems to focus more on a highly SQL-dependent dashboard building experience (which has its own advantages of course).<p>edit: fixed line breaks!</div><br/></div></div></div></div><div id="42120151" class="c"><input type="checkbox" id="c-42120151" checked=""/><div class="controls bullet"><span class="by">DAlperin</span><span>|</span><a href="#42120523">prev</a><span>|</span><label class="collapse" for="c-42120151">[-]</label><label class="expand" for="c-42120151">[2 more]</label></div><br/><div class="children"><div class="content">Super neat! Does the v2 branding mean that the more &quot;fully featured&quot; observability product is going away? Or is it all going to be rebuilt on top of clickhouse?</div><br/><div id="42121211" class="c"><input type="checkbox" id="c-42121211" checked=""/><div class="controls bullet"><span class="by">mikeshi42</span><span>|</span><a href="#42120151">parent</a><span>|</span><label class="collapse" for="c-42121211">[-]</label><label class="expand" for="c-42121211">[1 more]</label></div><br/><div class="children"><div class="content">Our v1 is completely built on Clickhouse! So v2 is making it more widely compatible to Clickhouse installations that aren&#x27;t tied to our ingestion pipeline and schema. So if you&#x27;re already on Clickhouse for obseravbility today, or have a preferred way of shipping data in, you can use us on top of Clickhouse now without throwing away your existing work.<p>We&#x27;re essentially making our existing product a lot easier to deploy into more complex observability setups based on Clickhouse - while also shipping a few new capabilities like SQL and event deltas while we&#x27;re at it!</div><br/></div></div></div></div></div></div></div></div></div></body></html>