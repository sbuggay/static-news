<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1738400470282" as="style"/><link rel="stylesheet" href="styles.css?v=1738400470282"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/jcalabro/uscope">Show HN: Uscope, a new Linux debugger written from scratch</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>jcalabro</span> | <span>113 comments</span></div><br/><div><div id="42890575" class="c"><input type="checkbox" id="c-42890575" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42892379">next</a><span>|</span><label class="collapse" for="c-42890575">[-]</label><label class="expand" for="c-42890575">[29 more]</label></div><br/><div class="children"><div class="content">&gt; The available Linux debuggers are gdb and lldb. They both suck. They crash all the time, don&#x27;t understand the data types I care about, and they don&#x27;t make the data I need available at my fingertips as quickly as possible.<p>quote from <a href="https:&#x2F;&#x2F;calabro.io&#x2F;uscope" rel="nofollow">https:&#x2F;&#x2F;calabro.io&#x2F;uscope</a><p>Of course gdb, lldb have their problems (e.g. smashing tui with app output, what can be easily fixed, or very very very very long tab-tab completion, and crashing of course), but I dont know anything better. I am forced to use visual studio at work and its debugger really sucks - it can&#x27;t even compare strings in conditional breakpoint, it cant even skip all std::function &#x2F; std::bind garbage to let me step in callback, it can&#x27;t watch evaluated expressions.
Probably it can evaluate exprs (immediate window?), but there are very little guides about this.<p>So, gdb is winner for me now.
<i>rr</i> (record-repeat)[0] also looks very nice, but it require hardware support(((<p>[0] <a href="https:&#x2F;&#x2F;rr-project.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rr-project.org&#x2F;</a></div><br/><div id="42890946" class="c"><input type="checkbox" id="c-42890946" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42890575">parent</a><span>|</span><a href="#42891919">next</a><span>|</span><label class="collapse" for="c-42890946">[-]</label><label class="expand" for="c-42890946">[9 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re willing to deal with enterprise pricing, Undo [0] implements something reasonably comparable to rr without the hardware timer requirements.<p>[0] <a href="https:&#x2F;&#x2F;undo.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;undo.io&#x2F;</a></div><br/><div id="42893581" class="c"><input type="checkbox" id="c-42893581" checked=""/><div class="controls bullet"><span class="by">matu3ba</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42890946">parent</a><span>|</span><a href="#42891089">next</a><span>|</span><label class="collapse" for="c-42893581">[-]</label><label class="expand" for="c-42893581">[6 more]</label></div><br/><div class="children"><div class="content">Are you aware of solutions for multi-threaded and relative time-accurate recordings, for example by using user-selected synchronization points? Afaiu, rr and undo do simulation of threads on one CPU core, which rules out detecting timing issues.</div><br/><div id="42894303" class="c"><input type="checkbox" id="c-42894303" checked=""/><div class="controls bullet"><span class="by">Veserv</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893581">parent</a><span>|</span><a href="#42894091">next</a><span>|</span><label class="collapse" for="c-42894303">[-]</label><label class="expand" for="c-42894303">[3 more]</label></div><br/><div class="children"><div class="content">Multiplexing onto a single thread is sufficient to observe and record concurrency errors. If that is not sufficient, then I am assuming you want to observe and record errors caused by true parallelism. If so, then you need a full memory trace. That restricts you to either hardware that supports full memory trace connected to a hardware trace probe or instrumented software full memory trace.<p>The former basically only exists for embedded boards and the latter does not exist (at say less than a 10x slowdown) for Linux or any other common desktop operating system as far as I am aware.</div><br/><div id="42894505" class="c"><input type="checkbox" id="c-42894505" checked=""/><div class="controls bullet"><span class="by">matu3ba</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42894303">parent</a><span>|</span><a href="#42894091">next</a><span>|</span><label class="collapse" for="c-42894505">[-]</label><label class="expand" for="c-42894505">[2 more]</label></div><br/><div class="children"><div class="content">So the only way to trace probe consumer desktop CPUs and possibly GPUs is by the hardware vendors them-self or specialized facilities&#x2F;laboratories?
For Intel I can find <a href="https:&#x2F;&#x2F;www.lauterbach.com&#x2F;supported-platforms&#x2F;architectures&#x2F;intel" rel="nofollow">https:&#x2F;&#x2F;www.lauterbach.com&#x2F;supported-platforms&#x2F;architectures...</a>,
but nothing for trace probing AMD or later versions.</div><br/><div id="42894716" class="c"><input type="checkbox" id="c-42894716" checked=""/><div class="controls bullet"><span class="by">Veserv</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42894505">parent</a><span>|</span><a href="#42894091">next</a><span>|</span><label class="collapse" for="c-42894716">[-]</label><label class="expand" for="c-42894716">[1 more]</label></div><br/><div class="children"><div class="content">You can trace consumer desktop CPUs using instrumented software full memory trace, but that requires OS + debugger + compiler support which is not available for Linux, Windows, Mac, etc.<p>You can trace hardware that exposes trace functionality usually via a debug port of some kind. Many chips have trace functionality in their production design, but no debug connector is physically present in off-the-shelf boards (to reduce manufacturing cost). You can usually physically modify the board to get access to this functionality which is routinely done when porting software to a new chip&#x2F;board.<p>Trace functionality comes in two major flavors, control flow trace and memory trace. Control flow trace only records control flow, so the contents of memory are unknown which is not very useful for your desired use case. Memory trace records memory accesses, so the contents of memory are known. Unfortunately, memory trace is very resource intensive, so most systems that support trace only implement control flow trace. As far as I am aware, it is very unlikely that any desktop or server CPU has memory trace.<p>The major manufacturers of trace probes and solutions that I know of are Green Hills Software, Lauterbach, and Segger.</div><br/></div></div></div></div></div></div><div id="42894091" class="c"><input type="checkbox" id="c-42894091" checked=""/><div class="controls bullet"><span class="by">dzaima</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893581">parent</a><span>|</span><a href="#42894303">prev</a><span>|</span><a href="#42894100">next</a><span>|</span><label class="collapse" for="c-42894091">[-]</label><label class="expand" for="c-42894091">[1 more]</label></div><br/><div class="children"><div class="content">While the single-threaded execution means that issues from thread interleaving on the scale of nanoseconds will effectively not happen, multiple threads are still allowed and will be context-switched between. rr also has a chaos mode to intentionally make the context switching unfair.</div><br/></div></div><div id="42894100" class="c"><input type="checkbox" id="c-42894100" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893581">parent</a><span>|</span><a href="#42894091">prev</a><span>|</span><a href="#42891089">next</a><span>|</span><label class="collapse" for="c-42894100">[-]</label><label class="expand" for="c-42894100">[1 more]</label></div><br/><div class="children"><div class="content">Antithesis is the only general purpose system I&#x27;ve seen for that. It takes the same single threaded approach, but can scale to N separate systems and fault injecting possible orderings.</div><br/></div></div></div></div><div id="42891089" class="c"><input type="checkbox" id="c-42891089" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42890946">parent</a><span>|</span><a href="#42893581">prev</a><span>|</span><a href="#42891919">next</a><span>|</span><label class="collapse" for="c-42891089">[-]</label><label class="expand" for="c-42891089">[2 more]</label></div><br/><div class="children"><div class="content">eh, thanks<p>&gt; How can I persuade my boss to pay for Undo?<p>fun quote.. but my boss will never pay for it because I am the only one who use gdb in our company, unfortunately)</div><br/><div id="42893257" class="c"><input type="checkbox" id="c-42893257" checked=""/><div class="controls bullet"><span class="by">mark_undoio</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42891089">parent</a><span>|</span><a href="#42891919">next</a><span>|</span><label class="collapse" for="c-42893257">[-]</label><label class="expand" for="c-42893257">[1 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth we do offer a more printf-y interface for people who don&#x27;t like a debugger - <a href="https:&#x2F;&#x2F;docs.undo.io&#x2F;PostFailureLogging.html" rel="nofollow">https:&#x2F;&#x2F;docs.undo.io&#x2F;PostFailureLogging.html</a><p>And CLion &#x2F; VS Code for people who prefer an IDE interface.<p>But a lot of people do <i>really</i> want to stick with their printf debugging.<p>If your boss won&#x27;t buy you an Undo you can still use <a href="https:&#x2F;&#x2F;rr-project.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rr-project.org&#x2F;</a> - or on Windows the built in time travel debug of WinDbg.</div><br/></div></div></div></div></div></div><div id="42891919" class="c"><input type="checkbox" id="c-42891919" checked=""/><div class="controls bullet"><span class="by">khuey</span><span>|</span><a href="#42890575">parent</a><span>|</span><a href="#42890946">prev</a><span>|</span><a href="#42893391">next</a><span>|</span><label class="collapse" for="c-42891919">[-]</label><label class="expand" for="c-42891919">[3 more]</label></div><br/><div class="children"><div class="content">rr should work on any remotely modern Intel system, and generally on AMD&#x27;s Zen CPUs too. Unless you&#x27;re in a virtualized environment (some of which <i>are</i> supported) or a more esoteric architecture rr probably works on your silicon.</div><br/><div id="42892862" class="c"><input type="checkbox" id="c-42892862" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42891919">parent</a><span>|</span><a href="#42893391">next</a><span>|</span><label class="collapse" for="c-42892862">[-]</label><label class="expand" for="c-42892862">[2 more]</label></div><br/><div class="children"><div class="content">I have AMD Ryzen 5 3500U with Radeon Vega Mobile Gfx (8) @ 2.100GHz.<p>As I remember - it is should work according to documentation, but I couldn&#x27;t launch it. Probably I&#x27;m not spend enough time to solve errors</div><br/><div id="42893999" class="c"><input type="checkbox" id="c-42893999" checked=""/><div class="controls bullet"><span class="by">bean-weevil</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42892862">parent</a><span>|</span><a href="#42893391">next</a><span>|</span><label class="collapse" for="c-42893999">[-]</label><label class="expand" for="c-42893999">[1 more]</label></div><br/><div class="children"><div class="content">You probably need the fix from this page: <a href="https:&#x2F;&#x2F;github.com&#x2F;rr-debugger&#x2F;rr&#x2F;wiki&#x2F;Zen">https:&#x2F;&#x2F;github.com&#x2F;rr-debugger&#x2F;rr&#x2F;wiki&#x2F;Zen</a></div><br/></div></div></div></div></div></div><div id="42893391" class="c"><input type="checkbox" id="c-42893391" checked=""/><div class="controls bullet"><span class="by">alcover</span><span>|</span><a href="#42890575">parent</a><span>|</span><a href="#42891919">prev</a><span>|</span><a href="#42892482">next</a><span>|</span><label class="collapse" for="c-42893391">[-]</label><label class="expand" for="c-42893391">[9 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; gdb(..) smashing tui with app output
</code></pre>
this got me losing my mind. How&#x2F;why propose this tempting TUI mode when the result looks like a broken arcade game ??<p>How do you people comfortably debug C in Linux ? I know VSCode looks nice but by principle I can&#x27;t accept to use such a beast to basically edit code..</div><br/><div id="42896809" class="c"><input type="checkbox" id="c-42896809" checked=""/><div class="controls bullet"><span class="by">dan00</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42896444">next</a><span>|</span><label class="collapse" for="c-42896809">[-]</label><label class="expand" for="c-42896809">[1 more]</label></div><br/><div class="children"><div class="content">I‘m using cgdb, which is a minimal ncurses wrapper around gdb. It‘s a lot better than the TUI of gdb.</div><br/></div></div><div id="42896444" class="c"><input type="checkbox" id="c-42896444" checked=""/><div class="controls bullet"><span class="by">baruch</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42896809">prev</a><span>|</span><a href="#42893646">next</a><span>|</span><label class="collapse" for="c-42896444">[-]</label><label class="expand" for="c-42896444">[1 more]</label></div><br/><div class="children"><div class="content">The advantage for text based interfaces is that they work over ssh&#x2F;tmate over trans atlantic connections whereas the GUI tools would suffer greatly. It just works everywhere and if you learn it, it will be just as good as a gui debugger. Potentially even more ergonomic without hunting for options with a mouse.</div><br/></div></div><div id="42893646" class="c"><input type="checkbox" id="c-42893646" checked=""/><div class="controls bullet"><span class="by">marssaxman</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42896444">prev</a><span>|</span><a href="#42895872">next</a><span>|</span><label class="collapse" for="c-42893646">[-]</label><label class="expand" for="c-42893646">[2 more]</label></div><br/><div class="children"><div class="content">&gt; How do you people comfortably debug C in Linux?<p>same way I debug everything, everywhere: logging.</div><br/><div id="42894228" class="c"><input type="checkbox" id="c-42894228" checked=""/><div class="controls bullet"><span class="by">debeloo</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893646">parent</a><span>|</span><a href="#42895872">next</a><span>|</span><label class="collapse" for="c-42894228">[-]</label><label class="expand" for="c-42894228">[1 more]</label></div><br/><div class="children"><div class="content">That not very environmentally friendly.</div><br/></div></div></div></div><div id="42895872" class="c"><input type="checkbox" id="c-42895872" checked=""/><div class="controls bullet"><span class="by">billfruit</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42893646">prev</a><span>|</span><a href="#42893582">next</a><span>|</span><label class="collapse" for="c-42895872">[-]</label><label class="expand" for="c-42895872">[1 more]</label></div><br/><div class="children"><div class="content">Use Emacs to drive gdb (through the GUD mode) gives a much more ergonomic interface. It highlights the line of code being traced in the code window.</div><br/></div></div><div id="42893582" class="c"><input type="checkbox" id="c-42893582" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42895872">prev</a><span>|</span><a href="#42894112">next</a><span>|</span><label class="collapse" for="c-42893582">[-]</label><label class="expand" for="c-42893582">[1 more]</label></div><br/><div class="children"><div class="content">as I said - this easy to fix once and for ever<p>Also not all apps write to stdout&#x2F;stderr by default.<p>&gt; How do you people comfortably debug C in Linux ?<p>It depends on what <i>comfortable</i> is for you. Most of my pc experience is terminal and browser and this is comfortable for me. I just use gdb for debugging. Sometimes trying lldb</div><br/></div></div><div id="42894112" class="c"><input type="checkbox" id="c-42894112" checked=""/><div class="controls bullet"><span class="by">imron</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42893582">prev</a><span>|</span><a href="#42893770">next</a><span>|</span><label class="collapse" for="c-42894112">[-]</label><label class="expand" for="c-42894112">[1 more]</label></div><br/><div class="children"><div class="content">&gt; How do you people comfortably debug C in Linux ?<p>I just got comfortable using gdb&#x2F;lldb from the terminal.  Once you get used to it, it&#x27;s fine (albeit not pretty).</div><br/></div></div><div id="42893770" class="c"><input type="checkbox" id="c-42893770" checked=""/><div class="controls bullet"><span class="by">dima55</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893391">parent</a><span>|</span><a href="#42894112">prev</a><span>|</span><a href="#42892482">next</a><span>|</span><label class="collapse" for="c-42893770">[-]</label><label class="expand" for="c-42893770">[1 more]</label></div><br/><div class="children"><div class="content">emacs. Worked great for decades and works great today. Learn it.</div><br/></div></div></div></div><div id="42892482" class="c"><input type="checkbox" id="c-42892482" checked=""/><div class="controls bullet"><span class="by">imron</span><span>|</span><a href="#42890575">parent</a><span>|</span><a href="#42893391">prev</a><span>|</span><a href="#42894268">next</a><span>|</span><label class="collapse" for="c-42892482">[-]</label><label class="expand" for="c-42892482">[3 more]</label></div><br/><div class="children"><div class="content">Which visual studio are you using?<p>It’s been a number of years since I’ve used it but Visual Studio PRO could do all these things - at least as long as I was using it (since visual c++ 5).<p>VS Code on the other hand is no where near as featured or powerful.</div><br/><div id="42892813" class="c"><input type="checkbox" id="c-42892813" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42892482">parent</a><span>|</span><a href="#42894268">next</a><span>|</span><label class="collapse" for="c-42892813">[-]</label><label class="expand" for="c-42892813">[2 more]</label></div><br/><div class="children"><div class="content">I use VS2022 Enterprise<p>If you know solutions, I will be very thankful for any info.<p>P.S.<p>Note, though I meet all of this problems, probably I don&#x27;t spent enough time to find a solution (maybe tried first links at google and so on). E.g. tried `strcmp` for breakpoints, tried to write .natstepfilter.<p>So, if VS really can do all of this, I&#x27;m sorry for my hurry.</div><br/><div id="42893796" class="c"><input type="checkbox" id="c-42893796" checked=""/><div class="controls bullet"><span class="by">Kuinox</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42892813">parent</a><span>|</span><a href="#42894268">next</a><span>|</span><label class="collapse" for="c-42893796">[-]</label><label class="expand" for="c-42893796">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know for c but for C# you can write a custom expression that get evaluated for the condition.</div><br/></div></div></div></div></div></div><div id="42894268" class="c"><input type="checkbox" id="c-42894268" checked=""/><div class="controls bullet"><span class="by">caspper69</span><span>|</span><a href="#42890575">parent</a><span>|</span><a href="#42892482">prev</a><span>|</span><a href="#42893801">next</a><span>|</span><label class="collapse" for="c-42894268">[-]</label><label class="expand" for="c-42894268">[1 more]</label></div><br/><div class="children"><div class="content">Man, if you read my comments lately you would think I&#x27;m a Microsoft fanboy, sheesh.<p>But honestly, in all my years, Visual Studio has been (by far) the best non-commercial (or should I say built-in?) debugger that I&#x27;ve used, and that includes gdb.<p>I am not a huge c++ on Windows guy though, so YMMV.<p>Here are a few guides that you may find helpful (and I am also going to include the beginner one, but please do not take that as an indictment of your skill level, I am including only for completeness).<p>These are all for VS2022:<p>C++ Debugging Tutorial: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;getting-started-with-the-debugger-cpp?view=vs-2022" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;gett...</a><p>C++ Breakpoint Debugging: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;using-breakpoints?view=vs-2022&amp;pivots=programming-language-cpp" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;usin...</a><p>Breakpoint&#x2F;Watch Expressions (pay attention to the debugger intrinsics): <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;expressions-in-the-debugger?view=vs-2022" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;expr...</a><p>High Level Debugger Tour: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;debugger-feature-tour?view=vs-2022" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;debu...</a><p>VS2022 Debugging TOC: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;?view=vs-2022" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;?vie...</a><p>My apologies if you&#x27;ve already found these references and they don&#x27;t do you any good, but your issues just don&#x27;t sound like the types of issues I&#x27;ve ever experienced with the debugger, and sometimes MS&#x27; documentation is just disorganized and incomplete.</div><br/></div></div><div id="42893801" class="c"><input type="checkbox" id="c-42893801" checked=""/><div class="controls bullet"><span class="by">n4r9</span><span>|</span><a href="#42890575">parent</a><span>|</span><a href="#42894268">prev</a><span>|</span><a href="#42892379">next</a><span>|</span><label class="collapse" for="c-42893801">[-]</label><label class="expand" for="c-42893801">[3 more]</label></div><br/><div class="children"><div class="content">Out of interest what are your main use cases for needing conditional breakpoints?</div><br/><div id="42893970" class="c"><input type="checkbox" id="c-42893970" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893801">parent</a><span>|</span><a href="#42892379">next</a><span>|</span><label class="collapse" for="c-42893970">[-]</label><label class="expand" for="c-42893970">[2 more]</label></div><br/><div class="children"><div class="content">For example for debugging gui apps. Let&#x27;s say we have function `on_event(event_type)` and you want to examine execution if `event_type == mouse_up`.<p>In reality conditional breakpoint is the same as simple, but simple require support from code:<p>```
void on_event(event_type type)
{
    if (type == mouse_up)
    {
        &#x2F;&#x2F; set breakpoint here
    }
}
```<p>Also useful to break depending on call stack[0]<p>[0] <a href="https:&#x2F;&#x2F;sourceware.org&#x2F;gdb&#x2F;current&#x2F;onlinedocs&#x2F;gdb.html&#x2F;Convenience-Funs.html#index-_0024_005fcaller_005fis_002c-convenience-function" rel="nofollow">https:&#x2F;&#x2F;sourceware.org&#x2F;gdb&#x2F;current&#x2F;onlinedocs&#x2F;gdb.html&#x2F;Conve...</a></div><br/><div id="42896819" class="c"><input type="checkbox" id="c-42896819" checked=""/><div class="controls bullet"><span class="by">n4r9</span><span>|</span><a href="#42890575">root</a><span>|</span><a href="#42893970">parent</a><span>|</span><a href="#42892379">next</a><span>|</span><label class="collapse" for="c-42896819">[-]</label><label class="expand" for="c-42896819">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I was specifically wondering about cases where you can&#x27;t or don&#x27;t want to change the source code. Sometimes that happens when I need to explore the state after a long process e.g. loading a large file. Generally though I avoid them like the plague as they make the code so slow. Curious to know what other people use it for.</div><br/></div></div></div></div></div></div></div></div><div id="42892379" class="c"><input type="checkbox" id="c-42892379" checked=""/><div class="controls bullet"><span class="by">tux1968</span><span>|</span><a href="#42890575">prev</a><span>|</span><a href="#42889873">next</a><span>|</span><label class="collapse" for="c-42892379">[-]</label><label class="expand" for="c-42892379">[1 more]</label></div><br/><div class="children"><div class="content">Author just did a podcast about Uscope a few minutes ago, where they mention this HN post:<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;stWBTv6grBc" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;stWBTv6grBc</a><p>Mentioned at : 
<a href="https:&#x2F;&#x2F;youtu.be&#x2F;stWBTv6grBc?t=456" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;stWBTv6grBc?t=456</a></div><br/></div></div><div id="42889873" class="c"><input type="checkbox" id="c-42889873" checked=""/><div class="controls bullet"><span class="by">tux1968</span><span>|</span><a href="#42892379">prev</a><span>|</span><a href="#42890156">next</a><span>|</span><label class="collapse" for="c-42889873">[-]</label><label class="expand" for="c-42889873">[2 more]</label></div><br/><div class="children"><div class="content">This is great to see.  It&#x27;d be lovely if Linux gets a decent debugger.  Another project to keep an eye on is <a href="https:&#x2F;&#x2F;github.com&#x2F;EpicGamesExt&#x2F;raddebugger">https:&#x2F;&#x2F;github.com&#x2F;EpicGamesExt&#x2F;raddebugger</a>  Although, they haven&#x27;t expanded much beyond Windows, yet.</div><br/><div id="42895417" class="c"><input type="checkbox" id="c-42895417" checked=""/><div class="controls bullet"><span class="by">mesbahamin</span><span>|</span><a href="#42889873">parent</a><span>|</span><a href="#42890156">next</a><span>|</span><label class="collapse" for="c-42895417">[-]</label><label class="expand" for="c-42895417">[1 more]</label></div><br/><div class="children"><div class="content">They fully plan to support Linux.</div><br/></div></div></div></div><div id="42890156" class="c"><input type="checkbox" id="c-42890156" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42889873">prev</a><span>|</span><a href="#42891173">next</a><span>|</span><label class="collapse" for="c-42890156">[-]</label><label class="expand" for="c-42890156">[6 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; Build as a library so other people can build other interesting things as well 
</code></pre>
I LOVE this!<p>I firmly believe so much tech has gone to shit because things are no longer hackable. We say &quot;move fast and break things&quot; but we try so hard to prevent that that when we do break things we just create bigger messes and debt, so no one cleans it up. It seems slower to write hackable code but that&#x27;s in the moment. In the long run it is much faster. Not to mention you get added benefits of others being able to contribute more easily with a lower likelihood of actually breaking shit.</div><br/><div id="42890468" class="c"><input type="checkbox" id="c-42890468" checked=""/><div class="controls bullet"><span class="by">Analemma_</span><span>|</span><a href="#42890156">parent</a><span>|</span><a href="#42891173">next</a><span>|</span><label class="collapse" for="c-42890468">[-]</label><label class="expand" for="c-42890468">[5 more]</label></div><br/><div class="children"><div class="content">Is gdb another thing like gcc where the un-hackability and un-extendability was a deliberate choice by rms to ensure nobody would ever build proprietary toolchains on top of it?</div><br/><div id="42890583" class="c"><input type="checkbox" id="c-42890583" checked=""/><div class="controls bullet"><span class="by">debatem1</span><span>|</span><a href="#42890156">root</a><span>|</span><a href="#42890468">parent</a><span>|</span><a href="#42892816">next</a><span>|</span><label class="collapse" for="c-42890583">[-]</label><label class="expand" for="c-42890583">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know if it was deliberate, but writing code that interfaces with GDB is unpleasant enough that I opted to build our debugger-like tooling in eBPF + pyelftools instead.</div><br/></div></div><div id="42892816" class="c"><input type="checkbox" id="c-42892816" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42890156">root</a><span>|</span><a href="#42890468">parent</a><span>|</span><a href="#42890583">prev</a><span>|</span><a href="#42890544">next</a><span>|</span><label class="collapse" for="c-42892816">[-]</label><label class="expand" for="c-42892816">[1 more]</label></div><br/><div class="children"><div class="content">gdb is a bit old and my comment is really more about building things in general.<p>You should always make things hackable, not just for others, but for you. One truth to coding is that the final thing will never end up where you think it will. So if you don&#x27;t make your code flexible (i.e. hackable) then you&#x27;re going to keep breaking it while fixing it. Things will continue to be patches and quick fixes. Nothing is more permanent than a temporary fix that works.<p>Truthfully, this is part of the unix philosophy. Make your programs small and integratable. The strategy is not to be finished, because there is no end, the strategy is to be adaptable, because there is no end.</div><br/></div></div><div id="42890544" class="c"><input type="checkbox" id="c-42890544" checked=""/><div class="controls bullet"><span class="by">dooglius</span><span>|</span><a href="#42890156">root</a><span>|</span><a href="#42890468">parent</a><span>|</span><a href="#42892816">prev</a><span>|</span><a href="#42891173">next</a><span>|</span><label class="collapse" for="c-42890544">[-]</label><label class="expand" for="c-42890544">[2 more]</label></div><br/><div class="children"><div class="content">No, GDB has a pretty good Python extension framework</div><br/><div id="42896591" class="c"><input type="checkbox" id="c-42896591" checked=""/><div class="controls bullet"><span class="by">junon</span><span>|</span><a href="#42890156">root</a><span>|</span><a href="#42890544">parent</a><span>|</span><a href="#42891173">next</a><span>|</span><label class="collapse" for="c-42896591">[-]</label><label class="expand" for="c-42896591">[1 more]</label></div><br/><div class="children"><div class="content">Yes, this. I write a lot of my own GDB tooling for debugging my kernel.</div><br/></div></div></div></div></div></div></div></div><div id="42891173" class="c"><input type="checkbox" id="c-42891173" checked=""/><div class="controls bullet"><span class="by">IAmLiterallyAB</span><span>|</span><a href="#42890156">prev</a><span>|</span><a href="#42889848">next</a><span>|</span><label class="collapse" for="c-42891173">[-]</label><label class="expand" for="c-42891173">[1 more]</label></div><br/><div class="children"><div class="content">Yay this is awesome! GDB is a buggy (<a href="https:&#x2F;&#x2F;sourceware.org&#x2F;bugzilla&#x2F;show_bug.cgi?id=18772" rel="nofollow">https:&#x2F;&#x2F;sourceware.org&#x2F;bugzilla&#x2F;show_bug.cgi?id=18772</a> <a href="https:&#x2F;&#x2F;sourceware.org&#x2F;bugzilla&#x2F;show_bug.cgi?id=9425" rel="nofollow">https:&#x2F;&#x2F;sourceware.org&#x2F;bugzilla&#x2F;show_bug.cgi?id=9425</a>) mess and rough code quality, I&#x27;ve wanted a do something like this for a while.<p>To be 100% clear, it&#x27;s not using gdb&#x2F;gdbserver under the hood right?<p>The bugs I linked above are over a decade old, and I have to patch them every time I compile GDB server. Ultimately (IIRC) GDB needs to rework how it handles signals (to their credit, ptrace is a horribly stupid API, especially before PTRACE_SEIZE, so I don&#x27;t blame them for having issues)</div><br/></div></div><div id="42889848" class="c"><input type="checkbox" id="c-42889848" checked=""/><div class="controls bullet"><span class="by">lsllc</span><span>|</span><a href="#42891173">prev</a><span>|</span><a href="#42890707">next</a><span>|</span><label class="collapse" for="c-42889848">[-]</label><label class="expand" for="c-42889848">[4 more]</label></div><br/><div class="children"><div class="content">Looks promising -- it&#x27;s about time, I haven&#x27;t been satisfied with any debugger since the days of Periscope!<p><a href="https:&#x2F;&#x2F;www.os2museum.com&#x2F;files&#x2F;docs&#x2F;periscope&#x2F;periscope-manual-m54.pdf" rel="nofollow">https:&#x2F;&#x2F;www.os2museum.com&#x2F;files&#x2F;docs&#x2F;periscope&#x2F;periscope-man...</a></div><br/><div id="42890001" class="c"><input type="checkbox" id="c-42890001" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#42889848">parent</a><span>|</span><a href="#42890707">next</a><span>|</span><label class="collapse" for="c-42890001">[-]</label><label class="expand" for="c-42890001">[3 more]</label></div><br/><div class="children"><div class="content">Somehow this brought the memory of Numega&#x27;s awesome SoftICE!</div><br/><div id="42891346" class="c"><input type="checkbox" id="c-42891346" checked=""/><div class="controls bullet"><span class="by">zwieback</span><span>|</span><a href="#42889848">root</a><span>|</span><a href="#42890001">parent</a><span>|</span><a href="#42890707">next</a><span>|</span><label class="collapse" for="c-42891346">[-]</label><label class="expand" for="c-42891346">[2 more]</label></div><br/><div class="children"><div class="content">Oh yea, we used both SoftICE and Periscope. I loved the pushbutton to fire off an NMI directly on the ISA bus. It was sad when your device driver crashed but it was a fun experience to push that button.</div><br/><div id="42891982" class="c"><input type="checkbox" id="c-42891982" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#42889848">root</a><span>|</span><a href="#42891346">parent</a><span>|</span><a href="#42890707">next</a><span>|</span><label class="collapse" for="c-42891982">[-]</label><label class="expand" for="c-42891982">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used only few times back then, but it was impressive (previous experience was with Borland&#x27;s &#x2F; Turbo debuggers which was nice also, but Numega was just another class)</div><br/></div></div></div></div></div></div></div></div><div id="42890707" class="c"><input type="checkbox" id="c-42890707" checked=""/><div class="controls bullet"><span class="by">jcranmer</span><span>|</span><a href="#42889848">prev</a><span>|</span><a href="#42891149">next</a><span>|</span><label class="collapse" for="c-42890707">[-]</label><label class="expand" for="c-42890707">[3 more]</label></div><br/><div class="children"><div class="content">This is definitely an ambitious project, and I worry that you are biting off more than you can chew in doing so. (I&#x27;ve attempted my fair share of debugger projects in the past).<p>At a low level, one of the main problems is that Linux&#x27;s kernel interfaces for debugging are just absolute trash. (I see you have multithreaded support mentioned as a future task item, and that&#x27;s one of the areas where you discover just how bad it really is). And of course ptrace composes somewhat poorly with, well, anything else, so if you want to use perf_event or eBPF to help drive the low-level stuff, well, combining everything into a single event loop is just painful. (Oh, and the documentation for all of this stuff sucks.)<p>At the medium level, everything is hampered by the number of secret handshakes that go on between the compiler, the linker, the runtime loader, the debugger. And the chronic issue that, in the debugger, you have to be prepared for the possibility that everything is just catastrophically wrong: your stack might be garbage (or downright nonexistent), the thread-local storage register might be a garbage value, variables may have values that don&#x27;t make sense. After all, you&#x27;re resorting to a debugger when things don&#x27;t work, and part of the reason why it might not be working is because you&#x27;ve accidentally corrupted everything.<p>And at the high level, there&#x27;s the UI which, as someone who doesn&#x27;t work on UI, I find terrifying in its own right.<p>Trying to solve not one of these issues, but all of them, at once, in a new project is ambitious. I&#x27;d personally prefer a lot more a project that only tried to tackle one slice of the stack, not all of it.</div><br/><div id="42893992" class="c"><input type="checkbox" id="c-42893992" checked=""/><div class="controls bullet"><span class="by">HexDecOctBin</span><span>|</span><a href="#42890707">parent</a><span>|</span><a href="#42891149">next</a><span>|</span><label class="collapse" for="c-42893992">[-]</label><label class="expand" for="c-42893992">[2 more]</label></div><br/><div class="children"><div class="content">Yup, Linux is nowhere the Unix successor we deserved. I have started multiple systems projects in Linux and gave always given up due to how shoddy the foundations are. It seems like the kernel just copies whatever cool feature they find in Solaris, BSD, Plan 9 or even NT without paying any attention to their composability, while the user space people are just a clique trying to force their way on everyone (why is the loader part of libc again?).</div><br/><div id="42894211" class="c"><input type="checkbox" id="c-42894211" checked=""/><div class="controls bullet"><span class="by">jcranmer</span><span>|</span><a href="#42890707">root</a><span>|</span><a href="#42893992">parent</a><span>|</span><a href="#42891149">next</a><span>|</span><label class="collapse" for="c-42894211">[-]</label><label class="expand" for="c-42894211">[1 more]</label></div><br/><div class="children"><div class="content">There are a few things where Linux has been the innovator (eBPF comes to mind).<p>But process control is not one of them, and almost any other operating system manages to have a more sane interface. Personally, if I were writing a debugger, I think the OS with the sanest kernel interface is probably Fuchsia, partially because everything is handle-based and partially because pretty much every syscall takes in a handle to the process to operate on, so you can do things like manipulate memory maps of another process without driving yourself insane.</div><br/></div></div></div></div></div></div><div id="42891149" class="c"><input type="checkbox" id="c-42891149" checked=""/><div class="controls bullet"><span class="by">titzer</span><span>|</span><a href="#42890707">prev</a><span>|</span><a href="#42891413">next</a><span>|</span><label class="collapse" for="c-42891149">[-]</label><label class="expand" for="c-42891149">[5 more]</label></div><br/><div class="children"><div class="content">Nice project!<p>One killer feature would be the ability to connect to the debugger via a socket and control it. Gdb has this interface and for some use cases it&#x27;s great.<p>As one of those long-tail &quot;native&quot; languages, Virgil might benefit from this. So far, I&#x27;ve had a student build a DWARF backend, and the experience from that is that DWARF is way too complicated and consequently implementations are broken and crappy in many ways. I think DWARF draws the wrong dividing line here. Control of the machine and customizing the source-level support to the language is probably better.</div><br/><div id="42893242" class="c"><input type="checkbox" id="c-42893242" checked=""/><div class="controls bullet"><span class="by">mindcrime</span><span>|</span><a href="#42891149">parent</a><span>|</span><a href="#42894566">next</a><span>|</span><label class="collapse" for="c-42893242">[-]</label><label class="expand" for="c-42893242">[1 more]</label></div><br/><div class="children"><div class="content">Speaking as a Java guy, remote debugging is SO useful (at times anyway). Thankfully the JVM has built in support for a remote debugging protocol[1] and there are good debuggers that can connect to a running Java system (if it was started with the correct command line flags) and do symbolic debugging over the network.<p>There can be certain situations where the network latency can make things difficult, but generally speaking I find it an incredibly useful facility to have.<p>[1]: <a href="https:&#x2F;&#x2F;docs.oracle.com&#x2F;javase&#x2F;8&#x2F;docs&#x2F;technotes&#x2F;guides&#x2F;jpda&#x2F;jdwp-spec.html" rel="nofollow">https:&#x2F;&#x2F;docs.oracle.com&#x2F;javase&#x2F;8&#x2F;docs&#x2F;technotes&#x2F;guides&#x2F;jpda&#x2F;...</a></div><br/></div></div><div id="42894566" class="c"><input type="checkbox" id="c-42894566" checked=""/><div class="controls bullet"><span class="by">peterfirefly</span><span>|</span><a href="#42891149">parent</a><span>|</span><a href="#42893242">prev</a><span>|</span><a href="#42891531">next</a><span>|</span><label class="collapse" for="c-42894566">[-]</label><label class="expand" for="c-42894566">[2 more]</label></div><br/><div class="children"><div class="content">&gt; the experience from that is that DWARF is way too complicated<p>The representation and the compression are far too intertwined :(</div><br/><div id="42894609" class="c"><input type="checkbox" id="c-42894609" checked=""/><div class="controls bullet"><span class="by">peterfirefly</span><span>|</span><a href="#42891149">root</a><span>|</span><a href="#42894566">parent</a><span>|</span><a href="#42891531">next</a><span>|</span><label class="collapse" for="c-42894609">[-]</label><label class="expand" for="c-42894609">[1 more]</label></div><br/><div class="children"><div class="content">Oh, and there needs to be some sort of declarative, rules-based DWARF checker.
Preferably one that doesn&#x27;t only work on complete files (or collections of files) but also handles snippets.<p>If it&#x27;s fast and can work on snippets before they are even written to disk, we can probably catch many compiler bugs.</div><br/></div></div></div></div><div id="42891531" class="c"><input type="checkbox" id="c-42891531" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#42891149">parent</a><span>|</span><a href="#42894566">prev</a><span>|</span><a href="#42891413">next</a><span>|</span><label class="collapse" for="c-42891531">[-]</label><label class="expand" for="c-42891531">[1 more]</label></div><br/><div class="children"><div class="content">Have it use the WebKit debugger protocol and we can use browser dev tools as the UI.<p>:p</div><br/></div></div></div></div><div id="42891413" class="c"><input type="checkbox" id="c-42891413" checked=""/><div class="controls bullet"><span class="by">AndyKelley</span><span>|</span><a href="#42891149">prev</a><span>|</span><a href="#42895062">next</a><span>|</span><label class="collapse" for="c-42891413">[-]</label><label class="expand" for="c-42891413">[2 more]</label></div><br/><div class="children"><div class="content">He&#x27;s live on twitch right now demoing this on zig showtime: <a href="https:&#x2F;&#x2F;www.twitch.tv&#x2F;kristoff_it" rel="nofollow">https:&#x2F;&#x2F;www.twitch.tv&#x2F;kristoff_it</a></div><br/><div id="42894492" class="c"><input type="checkbox" id="c-42894492" checked=""/><div class="controls bullet"><span class="by">AndyKelley</span><span>|</span><a href="#42891413">parent</a><span>|</span><a href="#42895062">next</a><span>|</span><label class="collapse" for="c-42894492">[-]</label><label class="expand" for="c-42894492">[1 more]</label></div><br/><div class="children"><div class="content">recording: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=stWBTv6grBc" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=stWBTv6grBc</a></div><br/></div></div></div></div><div id="42895062" class="c"><input type="checkbox" id="c-42895062" checked=""/><div class="controls bullet"><span class="by">s3graham</span><span>|</span><a href="#42891413">prev</a><span>|</span><a href="#42890640">next</a><span>|</span><label class="collapse" for="c-42895062">[-]</label><label class="expand" for="c-42895062">[1 more]</label></div><br/><div class="children"><div class="content">Keep at it!<p>raddbg is one worth watching too (currently only Windows x64) <a href="https:&#x2F;&#x2F;github.com&#x2F;EpicGamesExt&#x2F;raddebugger">https:&#x2F;&#x2F;github.com&#x2F;EpicGamesExt&#x2F;raddebugger</a></div><br/></div></div><div id="42890640" class="c"><input type="checkbox" id="c-42890640" checked=""/><div class="controls bullet"><span class="by">mplemay</span><span>|</span><a href="#42895062">prev</a><span>|</span><a href="#42891385">next</a><span>|</span><label class="collapse" for="c-42890640">[-]</label><label class="expand" for="c-42890640">[12 more]</label></div><br/><div class="children"><div class="content">This opinion is not backed by facts, any insight about linux (or even the languages in question), or even related to this post. Nevertheless, I wonder if it was a good idea to allow rust contributions to the linux project. From all of the bits and pieces I read about zig (including this project), I feel like it would have been better aligned (than rust) to pick up where the mainly C codebase left off.</div><br/><div id="42891012" class="c"><input type="checkbox" id="c-42891012" checked=""/><div class="controls bullet"><span class="by">whytevuhuni</span><span>|</span><a href="#42890640">parent</a><span>|</span><a href="#42890832">next</a><span>|</span><label class="collapse" for="c-42891012">[-]</label><label class="expand" for="c-42891012">[10 more]</label></div><br/><div class="children"><div class="content">Not really. Zig&#x27;s answer to safety is mostly based on runtime panics, and the kernel really, <i>really</i> hates panics.<p>As such, the only thing left is better ergonomics, and that&#x27;s not really worth the effort to switch.<p>Rust isn&#x27;t being adopted because it&#x27;s an easier language to code in, and in fact it&#x27;s being adopted <i>in spite</i> of the fact that it&#x27;s harder to code in. And that&#x27;s because to some kernel devs, the promise of better security and fewer vulnerabilities is worth that much.<p>On the other hand, Zig is great for user-space applications. The stuff to replace GNU&#x27;s coreutils with.</div><br/><div id="42892139" class="c"><input type="checkbox" id="c-42892139" checked=""/><div class="controls bullet"><span class="by">AndyKelley</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42891012">parent</a><span>|</span><a href="#42891331">next</a><span>|</span><label class="collapse" for="c-42892139">[-]</label><label class="expand" for="c-42892139">[6 more]</label></div><br/><div class="children"><div class="content">&gt; Zig&#x27;s answer to safety is mostly based on runtime panics<p>This statement is nonsensical.<p>Zig&#x27;s answer to safety is based on a precise type system and a simple language that helps the programmer in their quest to write perfect code. If a kernel panics, that is either a bug or hardware failure.</div><br/><div id="42893401" class="c"><input type="checkbox" id="c-42893401" checked=""/><div class="controls bullet"><span class="by">whytevuhuni</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42892139">parent</a><span>|</span><a href="#42893248">next</a><span>|</span><label class="collapse" for="c-42893401">[-]</label><label class="expand" for="c-42893401">[4 more]</label></div><br/><div class="children"><div class="content">&gt; This statement is nonsensical.<p>You&#x27;re right, my bad. It is hard to be precise in a comment where I&#x27;m trying to be as concise as possible.<p>I&#x27;m sure you know what I mean though, with regards to temporal memory safety (lifetimes), data races (Send&#x2F;Sync traits), etc. Rust works by preventing many classes of bugs through compile errors, rather than panics.<p>&gt; If a kernel panics, that is either a bug or hardware failure.<p>And this is where Rust differs; Rust will reduce the likelihood of bugs from happening in the first place. I&#x27;m not saying Zig doesn&#x27;t also do that, Rust just does it more.<p>The Rust compiler devs, in their quest to make a type system that is powerful enough to catch most memory corruption errors, somehow came up with something that can be used to catch far more issues than just that.<p>The affine(ish) type system, coupled with lifetimes, makes modeling and maintaining correct states much easier than in Zig, for all sorts of objects and abstractions.<p>From what I&#x27;ve read from Linus on LKML&#x2F;lore along the years, a kernel oops&#x2F;panic is seen as one of the worst things that could happen to it; there is generally nothing the user can do at that point to debug it (they likely won&#x27;t even see the console), and makes the machine unusable for all other tasks. Sometimes you might be lucky and just kill and collect the thread that panicked, but oftentimes you get the nuclear OOPS option. With Zig you don&#x27;t even get the option to catch it via something like catch_unwind.</div><br/><div id="42893666" class="c"><input type="checkbox" id="c-42893666" checked=""/><div class="controls bullet"><span class="by">budro</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42893401">parent</a><span>|</span><a href="#42893248">next</a><span>|</span><label class="collapse" for="c-42893666">[-]</label><label class="expand" for="c-42893666">[3 more]</label></div><br/><div class="children"><div class="content">&gt; And this is where Rust differs; Rust will reduce the likelihood of bugs from happening in the first place. I&#x27;m not saying Zig doesn&#x27;t also do that, Rust just does it more.<p>I&#x27;d argue that it does this a LOT more. When it comes to spatial safety, Rust and Zig are on par. However in terms of temporal safety I think Zig lags far behind Rust... along with basically every other compiled systems language.<p>If you had to come up with a single good reason to use Rust over Zig, it would definitely be temporal safety. A majority of applications don&#x27;t need this though, or can be designed such that they don&#x27;t.<p>One of my main issues with Rust is that it makes it easy to write spaghetti code that uses reference counting all over the place. I don&#x27;t recommend people to use Rust until they become a &quot;N+1 programmer&quot; that Casey Muratori describes as &quot;grouped element thinking&quot; [1]. At this point, most of that programmers problems are solved and suddenly the Zig vs Rust debate becomes much more nuanced.<p>[1] <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=xt1KNDmOYqA" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=xt1KNDmOYqA</a></div><br/><div id="42894977" class="c"><input type="checkbox" id="c-42894977" checked=""/><div class="controls bullet"><span class="by">senkora</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42893666">parent</a><span>|</span><a href="#42895843">next</a><span>|</span><label class="collapse" for="c-42894977">[-]</label><label class="expand" for="c-42894977">[1 more]</label></div><br/><div class="children"><div class="content">&gt; until they become a &quot;N+1 programmer&quot; that Casey Muratori describes as &quot;grouped element thinking&quot;<p>Thank you for this great link.</div><br/></div></div><div id="42895843" class="c"><input type="checkbox" id="c-42895843" checked=""/><div class="controls bullet"><span class="by">caspper69</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42893666">parent</a><span>|</span><a href="#42894977">prev</a><span>|</span><a href="#42893248">next</a><span>|</span><label class="collapse" for="c-42895843">[-]</label><label class="expand" for="c-42895843">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve done a couple of projects in Rust, and I can appreciate this sentiment.<p>I don&#x27;t think my code was pretty and I <i>know</i> it wasn&#x27;t idiomatic. But I have some experience in writing concurrent code, so I have an understanding of the reasoning behind Rust&#x27;s borrowing semantics, why lifetimes are important, and the difference between boxed values, rc, arc, and I additionally understand the semantics of semaphores, mutexes, spinlocks, and critical sections.<p>(As an aside, I don&#x27;t know if I&#x27;m an N+1 programmer. My code works, long term, requires very little maintenance, and generally stays out the way. Just the way I like it.)<p>But- I see these recurring themes in posts from Rustaceans along the lines of &quot;the compiler tells you what&#x27;s wrong&quot; and &quot;if it compiles, it&#x27;s correct!&quot;<p>These kinds of statements worry me. Not necessarily because I think their code is going to blow something up, but because I think a sizeable portion of the community does not really understand the guarantees Rust provides, and under what contexts they are valid. I mean, sure, you might not have a data race, but you sure as hell can code yourself into race condition or a deadlock, and from what I understand from HNers, these situations are not all that uncommon in Rust crates. I&#x27;m also led to believe that the panic handling situation in some crates isn&#x27;t ideal.<p>You shouldn&#x27;t just haphazardly Arc&lt;Mutex&lt;T&gt;&gt; all the things just because that gives you the Send + Sync that you think you&#x27;re looking for (or the compiler is looking for). You should understand what the hell you&#x27;re doing, be able to tell if those things are necessary, and understand the ramifications of using those abstractions.<p>I think there&#x27;s a lot of good going on in the Rust ecosystem, and I wish I had more work in that area, but there&#x27;s a lot of blind advocacy there that assumes the Rust approach is the best, but the language does have serious ergonomic limitations in certain low level scenarios. My whole career I&#x27;ve had to focus on scope and objects that outlive their scope, but now every other word I seem to hear from the Rust community is &quot;Lifetimes&quot; and &quot;Ownership&quot;, like these concepts were completely unfamiliar to developers before and now the Rust Way(tm) is not only THE WAY, but THE ONLY RIGHT WAY.<p>I don&#x27;t want to go too far off the rails, because I find the ecosystem intriguing, and I see tremendous value there. Whether those approaches stand the test of time isn&#x27;t a given (although let&#x27;s face it, they probably will because they are sound and they are gaining developer mindshare, which is the most important factor).<p>I just worry about ergonomics. Coding is not supposed to be <i>easy</i>, so please don&#x27;t misunderstand- but coding, especially for those that do it day in and day out for decades, should not be a <i>chore</i>. There are definitely some QOL improvements that could be realized in the near term, although I&#x27;m not sure what those would look like.</div><br/></div></div></div></div></div></div><div id="42893248" class="c"><input type="checkbox" id="c-42893248" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42892139">parent</a><span>|</span><a href="#42893401">prev</a><span>|</span><a href="#42891331">next</a><span>|</span><label class="collapse" for="c-42893248">[-]</label><label class="expand" for="c-42893248">[1 more]</label></div><br/><div class="children"><div class="content">I actually find that their comment makes a lot more sense than yours.</div><br/></div></div></div></div><div id="42891331" class="c"><input type="checkbox" id="c-42891331" checked=""/><div class="controls bullet"><span class="by">defen</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42891012">parent</a><span>|</span><a href="#42892139">prev</a><span>|</span><a href="#42890832">next</a><span>|</span><label class="collapse" for="c-42891331">[-]</label><label class="expand" for="c-42891331">[3 more]</label></div><br/><div class="children"><div class="content">Rust also has runtime panics (e.g. indexing outside the bounds of a slice) - how does kernel Rust handle that?</div><br/><div id="42892114" class="c"><input type="checkbox" id="c-42892114" checked=""/><div class="controls bullet"><span class="by">whytevuhuni</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42891331">parent</a><span>|</span><a href="#42891935">next</a><span>|</span><label class="collapse" for="c-42892114">[-]</label><label class="expand" for="c-42892114">[1 more]</label></div><br/><div class="children"><div class="content">It does not, for slice indexing Rust is just as bad. My best guess is that this will likely blow up into such a big issue that the Rust devs are going to be forced to implement a feature to disable indexing (and leave just the safe .get()), or the kernel devs will fork the core library.<p>But Rust prevents a myriad of other things that would be panics in Zig or undefined behavior in C. It has a really strong type system, capable of reducing a large amount of invalid states and keeping many invariants throughout very large codebases.</div><br/></div></div><div id="42891935" class="c"><input type="checkbox" id="c-42891935" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#42890640">root</a><span>|</span><a href="#42891331">parent</a><span>|</span><a href="#42892114">prev</a><span>|</span><a href="#42890832">next</a><span>|</span><label class="collapse" for="c-42891935">[-]</label><label class="expand" for="c-42891935">[1 more]</label></div><br/><div class="children"><div class="content">Static checks remove <i>many</i> more potential sources of panic. I suspect that with certain restraint one can write Rust code that is statically guaranteed to not panic.<p>Also, Rust&#x27;s panics may be recoverable, it&#x27;s not necessarily fatal.</div><br/></div></div></div></div></div></div><div id="42890832" class="c"><input type="checkbox" id="c-42890832" checked=""/><div class="controls bullet"><span class="by">renox</span><span>|</span><a href="#42890640">parent</a><span>|</span><a href="#42891012">prev</a><span>|</span><a href="#42891385">next</a><span>|</span><label class="collapse" for="c-42890832">[-]</label><label class="expand" for="c-42890832">[1 more]</label></div><br/><div class="children"><div class="content">Zig isn&#x27;t 1.0 so..</div><br/></div></div></div></div><div id="42891385" class="c"><input type="checkbox" id="c-42891385" checked=""/><div class="controls bullet"><span class="by">zwieback</span><span>|</span><a href="#42890640">prev</a><span>|</span><a href="#42890243">next</a><span>|</span><label class="collapse" for="c-42891385">[-]</label><label class="expand" for="c-42891385">[4 more]</label></div><br/><div class="children"><div class="content">Everyone here seems to thing GDB is awful. It&#x27;s been a while for me but I remember using front-ends like Eclipse&#x27;s CDT or similar and didn&#x27;t find that experience so bad. Do most people use GDB straight-up? I haven&#x27;t done that in probably 15 years although it&#x27;s nice to have a lightweight command line on small embedded systems.</div><br/><div id="42893137" class="c"><input type="checkbox" id="c-42893137" checked=""/><div class="controls bullet"><span class="by">jcelerier</span><span>|</span><a href="#42891385">parent</a><span>|</span><a href="#42891774">next</a><span>|</span><label class="collapse" for="c-42893137">[-]</label><label class="expand" for="c-42893137">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Everyone here seems to thing GDB is awful. It&#x27;s been a while for me but I remember using front-ends like Eclipse&#x27;s CDT or similar and didn&#x27;t find that experience so bad. Do most people use GDB straight-up? I haven&#x27;t done that in probably 15 years although it&#x27;s nice to have a lightweight command line on small embedded systems.<p>the issue is not with gdb&#x27;s UX - you can build as many cool UI &#x2F; UX on top of it as you want. The problem is that gdb will sometimes take 5 minutes to start debugging (and that&#x27;s without debuginfod), straight up crash, be unable to resolve obvious symbols etc. which are all back-end bugs. For me developing a medium-sized C++ app, it&#x27;s really hell to use and usually printf debugging is MUCH faster in the sense that I have the time to find and fix my problem through an iterative recompile cycle sometimes before gdb has even finished parsing my binary</div><br/><div id="42895330" class="c"><input type="checkbox" id="c-42895330" checked=""/><div class="controls bullet"><span class="by">khuey</span><span>|</span><a href="#42891385">root</a><span>|</span><a href="#42893137">parent</a><span>|</span><a href="#42891774">next</a><span>|</span><label class="collapse" for="c-42895330">[-]</label><label class="expand" for="c-42895330">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The problem is that gdb will sometimes take 5 minutes to start debugging<p>If you run gdb-add-index on the relevant binaries ahead of time it should start up much faster.</div><br/></div></div></div></div><div id="42891774" class="c"><input type="checkbox" id="c-42891774" checked=""/><div class="controls bullet"><span class="by">boricj</span><span>|</span><a href="#42891385">parent</a><span>|</span><a href="#42893137">prev</a><span>|</span><a href="#42890243">next</a><span>|</span><label class="collapse" for="c-42891774">[-]</label><label class="expand" for="c-42891774">[1 more]</label></div><br/><div class="children"><div class="content">I do use GDB straight up for native programs and microcontrollers, mostly out of laziness. I haven&#x27;t set up VS Code debugging at my current day job yet and it&#x27;s been 6 months.<p>Out of the box GDB is kinda awful, especially for C++ codebases. I should probably look into scripting at some point, but meh. Even then, as far as I know I&#x27;m the best at using a debugger at work by a wide margin, but I attribute that more to my knowledge of low-level programming than my ability to use most of the basic GDB commands. Also, it tends to crash once a month or so.<p>If I needed to debug a userland program on a small Linux embedded system, I&#x27;d probably whip out gdbserver and attach gdb to the target remotely. I haven&#x27;t done that in a while though.</div><br/></div></div></div></div><div id="42890243" class="c"><input type="checkbox" id="c-42890243" checked=""/><div class="controls bullet"><span class="by">koek67</span><span>|</span><a href="#42891385">prev</a><span>|</span><a href="#42890267">next</a><span>|</span><label class="collapse" for="c-42890243">[-]</label><label class="expand" for="c-42890243">[1 more]</label></div><br/><div class="children"><div class="content">Nice work! I remember meeting you at Systems Distributed in NYC where you mentioned this project, so cool to see the progress. Well done!</div><br/></div></div><div id="42890267" class="c"><input type="checkbox" id="c-42890267" checked=""/><div class="controls bullet"><span class="by">meitham</span><span>|</span><a href="#42890243">prev</a><span>|</span><a href="#42891159">next</a><span>|</span><label class="collapse" for="c-42890267">[-]</label><label class="expand" for="c-42890267">[1 more]</label></div><br/><div class="children"><div class="content">Very happy to see the increasing momentum in the zig community</div><br/></div></div><div id="42891159" class="c"><input type="checkbox" id="c-42891159" checked=""/><div class="controls bullet"><span class="by">gregthelaw</span><span>|</span><a href="#42890267">prev</a><span>|</span><a href="#42889932">next</a><span>|</span><label class="collapse" for="c-42891159">[-]</label><label class="expand" for="c-42891159">[1 more]</label></div><br/><div class="children"><div class="content">Congrats on this work -- writing a debugger from scratch is a big job. I have cloned the repo, will take a proper look this w&#x2F;e.</div><br/></div></div><div id="42889932" class="c"><input type="checkbox" id="c-42889932" checked=""/><div class="controls bullet"><span class="by">MaximilianEmel</span><span>|</span><a href="#42891159">prev</a><span>|</span><a href="#42890935">next</a><span>|</span><label class="collapse" for="c-42889932">[-]</label><label class="expand" for="c-42889932">[3 more]</label></div><br/><div class="children"><div class="content">How does it compare to gf?<p><a href="https:&#x2F;&#x2F;github.com&#x2F;nakst&#x2F;gf">https:&#x2F;&#x2F;github.com&#x2F;nakst&#x2F;gf</a></div><br/><div id="42890234" class="c"><input type="checkbox" id="c-42890234" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#42889932">parent</a><span>|</span><a href="#42890935">next</a><span>|</span><label class="collapse" for="c-42890234">[-]</label><label class="expand" for="c-42890234">[2 more]</label></div><br/><div class="children"><div class="content">gf is a frontend to gdb. This is supposed to be a brand new debugger</div><br/><div id="42891087" class="c"><input type="checkbox" id="c-42891087" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#42889932">root</a><span>|</span><a href="#42890234">parent</a><span>|</span><a href="#42890935">next</a><span>|</span><label class="collapse" for="c-42891087">[-]</label><label class="expand" for="c-42891087">[1 more]</label></div><br/><div class="children"><div class="content">orthogonal to the question</div><br/></div></div></div></div></div></div><div id="42890935" class="c"><input type="checkbox" id="c-42890935" checked=""/><div class="controls bullet"><span class="by">breatheoften</span><span>|</span><a href="#42889932">prev</a><span>|</span><a href="#42893540">next</a><span>|</span><label class="collapse" for="c-42890935">[-]</label><label class="expand" for="c-42890935">[2 more]</label></div><br/><div class="children"><div class="content">Super supportive as I really value debuggers as tools even tho they are horror shows to use!<p>&gt; Similarly, the following features are non-goals of the project:<p>&gt; Supporting non-native languages (i.e. Java, Python, etc.)<p>But I think that position is likely a mistake in terms of leaving killer features on the table and baking in architecture decisions that might continue to make these kinds of features impossible &#x2F; very low-class experiences.<p>Properly integrating with the python interpreter to be able to debug python + c&#x2F;cpp extensions running in the same process is a huge missing whole in the debugger market.<p>I don&#x27;t know how other people do it but I &#x27;solve&#x27; this problem by attaching either a python debugger or lldb to the python process -- meaning I can debug either python or the cpp but not both at the same time.  The experience is very lacking.  Even just seeing the python call-stack while paused at a cpp breakpoint would be huge.</div><br/><div id="42893187" class="c"><input type="checkbox" id="c-42893187" checked=""/><div class="controls bullet"><span class="by">mark_undoio</span><span>|</span><a href="#42890935">parent</a><span>|</span><a href="#42893540">next</a><span>|</span><label class="collapse" for="c-42893187">[-]</label><label class="expand" for="c-42893187">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve got a prototype of debugging in python and C&#x2F;C++ in GDB - <a href="https:&#x2F;&#x2F;undo.io&#x2F;resources&#x2F;how-i-debug-python-code-with-a-time-travel-debugger&#x2F;" rel="nofollow">https:&#x2F;&#x2F;undo.io&#x2F;resources&#x2F;how-i-debug-python-code-with-a-tim...</a><p>If you&#x27;d like to try it please get in touch, feedback is always useful.</div><br/></div></div></div></div><div id="42893540" class="c"><input type="checkbox" id="c-42893540" checked=""/><div class="controls bullet"><span class="by">mamcx</span><span>|</span><a href="#42890935">prev</a><span>|</span><a href="#42891202">next</a><span>|</span><label class="collapse" for="c-42893540">[-]</label><label class="expand" for="c-42893540">[1 more]</label></div><br/><div class="children"><div class="content">One thing that as far as I know no single debuggers has (except FoxPro from DOS) is the ability to show a large list of things, but <i>well</i><p>In general, if something is large (text, arrays, etc) all bets are off.<p>Basically, something like this:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;okbob&#x2F;pspg">https:&#x2F;&#x2F;github.com&#x2F;okbob&#x2F;pspg</a><p>---<p>The second thing that is very hard with debuggers, is to tell them <i>what to skip</i>.<p>In the normal sense of &#x27;I don&#x27;t wanna debug Rust std&#x27; but also &#x27;What the heck, why is stepping into #[Debug]???&#x27;</div><br/></div></div><div id="42891202" class="c"><input type="checkbox" id="c-42891202" checked=""/><div class="controls bullet"><span class="by">drewg123</span><span>|</span><a href="#42893540">prev</a><span>|</span><a href="#42894833">next</a><span>|</span><label class="collapse" for="c-42891202">[-]</label><label class="expand" for="c-42891202">[1 more]</label></div><br/><div class="children"><div class="content">How entwined is it with Linux specific APIs?  Eg, how hard would it be to port to FreeBSD?</div><br/></div></div><div id="42894833" class="c"><input type="checkbox" id="c-42894833" checked=""/><div class="controls bullet"><span class="by">armitron</span><span>|</span><a href="#42891202">prev</a><span>|</span><a href="#42891220">next</a><span>|</span><label class="collapse" for="c-42894833">[-]</label><label class="expand" for="c-42894833">[1 more]</label></div><br/><div class="children"><div class="content">GDB (I don&#x27;t use LLDB) is fully programmable and has multiple user interfaces (TUI, Emacs, DDD, graphical frontends and various .gdbinit configurations that emulate SoftICE L&amp;F).<p>It&#x27;s a power tool and takes some time and effort to learn and master. Superficially dismissing it &#x2F; wasting your time with something that in all likelihood will end up going nowhere while lacking most features that make GDB great, does not a good recommendation make.<p>At least you&#x27;ll probably learn a thing or two while you implement it, but I&#x27;d rather not waste my time using it.</div><br/></div></div><div id="42891220" class="c"><input type="checkbox" id="c-42891220" checked=""/><div class="controls bullet"><span class="by">bieganski</span><span>|</span><a href="#42894833">prev</a><span>|</span><a href="#42890279">next</a><span>|</span><label class="collapse" for="c-42891220">[-]</label><label class="expand" for="c-42891220">[5 more]</label></div><br/><div class="children"><div class="content">&gt; The available Linux debuggers are gdb and lldb. They both suck. They crash all the time, don&#x27;t understand the data types I care about, and they don&#x27;t make the data I need available at my fingertips as quickly as possible.<p>Okay, so this is the author&#x27;s answer to the most important question: &quot;why?&quot;<p>For me this is a serious issue, making strong statements without any single backing example. If you experience crashes, please report to the maintainers - i guarantee that you won&#x27;t be ignored. You say that it&#x27;s missing some data that you need? Fine, but be precise - what data?<p>Otherwise it sounds like a &quot;yeah, let&#x27;s make a project for fun and pretend that it&#x27;s serious by finding sort-of-justification&#x2F;use case&quot; (i&#x27;m not telling that it is the case for you - i&#x27;m telling that it sounds like it, based on your own description).<p>Also, would you feel nice if i put in my project&#x27;s README a note that the project of you, the one that you put your effort to, &quot;sucks&quot;?</div><br/><div id="42891417" class="c"><input type="checkbox" id="c-42891417" checked=""/><div class="controls bullet"><span class="by">omnicognate</span><span>|</span><a href="#42891220">parent</a><span>|</span><a href="#42891433">next</a><span>|</span><label class="collapse" for="c-42891417">[-]</label><label class="expand" for="c-42891417">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;d rather the time taken enumerating the deficiencies of existing debuggers be spent building something better instead. I doubt many people that have used gdb&#x2F;lldb need convincing that that&#x27;s possible. If it is needed, Microsoft&#x27;s windbg (far from what&#x27;s possible but light years ahead of gdb&#x2F;lldb) is a proof by construction.</div><br/><div id="42891939" class="c"><input type="checkbox" id="c-42891939" checked=""/><div class="controls bullet"><span class="by">ethin</span><span>|</span><a href="#42891220">root</a><span>|</span><a href="#42891417">parent</a><span>|</span><a href="#42893775">next</a><span>|</span><label class="collapse" for="c-42891939">[-]</label><label class="expand" for="c-42891939">[1 more]</label></div><br/><div class="children"><div class="content">Bit of a possibly unpopular take but I very much disagree. The syntax of windbg&#x2F;cdb is just... Really bad. I feel like I&#x27;m writing assembly and the mnemonics don&#x27;t actually align with what the command does. So it&#x27;s difficult for me to get confident with it. At least the commands in gdb make sense (and I wish gdb supported windows executables, but alas...)</div><br/></div></div><div id="42893775" class="c"><input type="checkbox" id="c-42893775" checked=""/><div class="controls bullet"><span class="by">matu3ba</span><span>|</span><a href="#42891220">root</a><span>|</span><a href="#42891417">parent</a><span>|</span><a href="#42891939">prev</a><span>|</span><a href="#42891433">next</a><span>|</span><label class="collapse" for="c-42893775">[-]</label><label class="expand" for="c-42893775">[1 more]</label></div><br/><div class="children"><div class="content">windbg has no sane library api, which makes it by construction unsuitable for automation and inspection.<p>I&#x27;d personally prefer, if we would have the options of multiple time-travel debugging sessions based on synchronization points (if needed) being overlapped to single out bugs in interesting areas (not covered by static or dynamic analysis).
Debugger would be essentially a virtual program slicer being able to hide unnecessary program parts or reduce it.
However, so far we neither have the options for piece-wise time-accurate multi-threading recording, nor slicing overlays nor in-memory reducers (ideally also reducing AST). I may be mistaken on &quot;piece-wise time-accurate multi-threading&quot;, since I&#x27;ve not checked what is possible with hardware yet.<p>Heck, we dont even have overview data for common bug classes and cost for verification or runtime-checking in academia etc.</div><br/></div></div></div></div><div id="42891433" class="c"><input type="checkbox" id="c-42891433" checked=""/><div class="controls bullet"><span class="by">dumah</span><span>|</span><a href="#42891220">parent</a><span>|</span><a href="#42891417">prev</a><span>|</span><a href="#42890279">next</a><span>|</span><label class="collapse" for="c-42891433">[-]</label><label class="expand" for="c-42891433">[1 more]</label></div><br/><div class="children"><div class="content">There are almost 4000 open issues on gdb reported more than five years ago.<p>In this conversation are reports of an annoying bug that requires a user patch gdb and it&#x27;s existed for almost twenty years.<p>It was years before anyone was even assigned because of a bug in their bug tracking system, and they haven&#x27;t addressed any further comments over the decades.</div><br/></div></div></div></div><div id="42890279" class="c"><input type="checkbox" id="c-42890279" checked=""/><div class="controls bullet"><span class="by">ribs</span><span>|</span><a href="#42891220">prev</a><span>|</span><a href="#42889907">next</a><span>|</span><label class="collapse" for="c-42890279">[-]</label><label class="expand" for="c-42890279">[2 more]</label></div><br/><div class="children"><div class="content">TotalView (which I rep), Linaro DDT - thoughts? (Yes, they’re both proprietary)</div><br/><div id="42890636" class="c"><input type="checkbox" id="c-42890636" checked=""/><div class="controls bullet"><span class="by">cintellis</span><span>|</span><a href="#42890279">parent</a><span>|</span><a href="#42889907">next</a><span>|</span><label class="collapse" for="c-42890636">[-]</label><label class="expand" for="c-42890636">[1 more]</label></div><br/><div class="children"><div class="content">how much do those cost approx? for an individual hobbyist developer</div><br/></div></div></div></div><div id="42889907" class="c"><input type="checkbox" id="c-42889907" checked=""/><div class="controls bullet"><span class="by">quotemstr</span><span>|</span><a href="#42890279">prev</a><span>|</span><a href="#42889723">next</a><span>|</span><label class="collapse" for="c-42889907">[-]</label><label class="expand" for="c-42889907">[19 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not clear to me why we&#x27;d need a new debugger instead of GDB enhancements. GDB has an extensible, modern C++ codebase with literal decades of hard earned knowledge baked into it.<p>How are we better off rewriting it, especially if the rewrite isn&#x27;t memory safe?</div><br/><div id="42890184" class="c"><input type="checkbox" id="c-42890184" checked=""/><div class="controls bullet"><span class="by">chc4</span><span>|</span><a href="#42889907">parent</a><span>|</span><a href="#42890188">next</a><span>|</span><label class="collapse" for="c-42890184">[-]</label><label class="expand" for="c-42890184">[1 more]</label></div><br/><div class="children"><div class="content">&gt; GDB has an extensible, modern C++ codebase with literal decades of hard earned knowledge baked into it.<p>I literally laughed outloud at this. Have you ever actually opened a GDB source file? It is, as a whole, extremely poor quality code. Almost all of it is doing C string manipulation and raw pointer arithmetic; almost none of it uses C++ smart pointers, nevermind the rest of &quot;modern C++&quot;; the vast majority is completely uncommented, and &quot;literal decades of hard earned knowledge&quot; can be better translated as &quot;literal decades of historical baggage, cruft, and hacks&quot;. I regularly cause GDB to segfault in normal, mundane operations.</div><br/></div></div><div id="42890188" class="c"><input type="checkbox" id="c-42890188" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42889907">parent</a><span>|</span><a href="#42890184">prev</a><span>|</span><a href="#42889942">next</a><span>|</span><label class="collapse" for="c-42890188">[-]</label><label class="expand" for="c-42890188">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; It&#x27;s not clear to me why we&#x27;d need a new debugger
</code></pre>
People build things for fun. Stop asking &quot;why&quot; and ask &quot;why not?&quot;<p>No one can really predict what&#x27;s needed and where we need to go, so let people just explore. Sometimes they won&#x27;t find things, but sometimes they do. And if they don&#x27;t, they still gain useful knowledge that pays dividends later on anyways.<p>It&#x27;s Hacker News, let people hack.</div><br/></div></div><div id="42889942" class="c"><input type="checkbox" id="c-42889942" checked=""/><div class="controls bullet"><span class="by">ziddoap</span><span>|</span><a href="#42889907">parent</a><span>|</span><a href="#42890188">prev</a><span>|</span><a href="#42890312">next</a><span>|</span><label class="collapse" for="c-42889942">[-]</label><label class="expand" for="c-42889942">[4 more]</label></div><br/><div class="children"><div class="content">Consider this part of the post:<p>&gt;<i>I&#x27;ve been building a debugger on my nights and weeks because it&#x27;s fun</i></div><br/><div id="42890067" class="c"><input type="checkbox" id="c-42890067" checked=""/><div class="controls bullet"><span class="by">dima55</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42889942">parent</a><span>|</span><a href="#42890312">next</a><span>|</span><label class="collapse" for="c-42890067">[-]</label><label class="expand" for="c-42890067">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m considering the part that says &quot;GDB and LLDB pain me greatly&quot;. This project both says &quot;I&#x27;m doing this for fun&quot; and &quot;the state of the art is bad, and I&#x27;m trying to fix it&quot;, so this is a fair question.<p>GDB is great. He says it crashes a lot, and cannot interpret some of his types. Maybe that&#x27;s his experience, but I haven&#x27;t had those issues after literally decades of using gdb. Some bug reports would be nice.</div><br/><div id="42892136" class="c"><input type="checkbox" id="c-42892136" checked=""/><div class="controls bullet"><span class="by">marssaxman</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42890067">parent</a><span>|</span><a href="#42890522">next</a><span>|</span><label class="collapse" for="c-42892136">[-]</label><label class="expand" for="c-42892136">[1 more]</label></div><br/><div class="children"><div class="content">After literally decades of occasionally dipping into GDB only to quickly remember why I would rather use no debugger at all than <i>that</i>, it&#x27;s hard to imagine what you could mean by &quot;great&quot;. What are you comparing it to?</div><br/></div></div><div id="42890522" class="c"><input type="checkbox" id="c-42890522" checked=""/><div class="controls bullet"><span class="by">Agingcoder</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42890067">parent</a><span>|</span><a href="#42892136">prev</a><span>|</span><a href="#42890312">next</a><span>|</span><label class="collapse" for="c-42890522">[-]</label><label class="expand" for="c-42890522">[1 more]</label></div><br/><div class="children"><div class="content">Decades for me as well, and we’ve had very different experiences :  gdb is very powerful , but the user experience is atrocious and it does crash a lot.<p>To be fair, in a number of cases the type issues I had were not gdb’s fault but bad DWARF produced by the compiler.</div><br/></div></div></div></div></div></div><div id="42890312" class="c"><input type="checkbox" id="c-42890312" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#42889907">parent</a><span>|</span><a href="#42889942">prev</a><span>|</span><a href="#42890291">next</a><span>|</span><label class="collapse" for="c-42890312">[-]</label><label class="expand" for="c-42890312">[11 more]</label></div><br/><div class="children"><div class="content">GDB is awful and a replacement is sorely needed. It&#x27;s buggy and slow and feature poor and has a terrible UI and a terrible API which makes all the frontends terrible in turn. I haven&#x27;t looked at its code but I&#x27;m betting it&#x27;s terrible too.</div><br/><div id="42890398" class="c"><input type="checkbox" id="c-42890398" checked=""/><div class="controls bullet"><span class="by">gregthelaw</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42890312">parent</a><span>|</span><a href="#42892706">next</a><span>|</span><label class="collapse" for="c-42890398">[-]</label><label class="expand" for="c-42890398">[8 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t tried UScope yet (I shall), but I don&#x27;t agree with you about GDB. I don&#x27;t find it especially buggy unless doing niche things like non-stop debugging -- I guess you may well have a different experience though.<p>I think the UI is much maligned unfairly. It has a few quirks, but ever used git? For the most part it&#x27;s fairly consistent and well thought through.<p>By terrible API you mean the Python? I admit it can be a bit verbose, but gives me what I find I need.<p>What features do you most miss? My experience is that most people use like 1% of the features, so not sure adding more will make a big difference to most people.</div><br/><div id="42891380" class="c"><input type="checkbox" id="c-42891380" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42890398">parent</a><span>|</span><a href="#42891207">next</a><span>|</span><label class="collapse" for="c-42891380">[-]</label><label class="expand" for="c-42891380">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been a while since I bothered to try to use it because my experience has been so bad. So I don&#x27;t remember all my specific complaints about bugs and features. I do remember multi process debugging was a big hole last time I looked. In contrast, I was able to get multi process debugging working really well in Visual Studio.<p>By terrible API I mean GDB&#x2F;MI that frontends use. I&#x27;m sure people will come try to defend it but the proof is in the pudding and I don&#x27;t think it&#x27;s a coincidence that every GDB frontend sucks.</div><br/><div id="42894678" class="c"><input type="checkbox" id="c-42894678" checked=""/><div class="controls bullet"><span class="by">dzaima</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42891380">parent</a><span>|</span><a href="#42891207">next</a><span>|</span><label class="collapse" for="c-42894678">[-]</label><label class="expand" for="c-42894678">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll +1 GDB&#x2F;MI being utter garbage. Bespoke format (ordered multimap as the only keyed data structure, why), weird quoting requirements (or sometimes requirement of lack thereof) on input, extremely incomplete, and in some cases nearly unusable even for what it does support. Feels more like carelessly shoehorning some of the existing gdb commands with a different syntax (but sometimes not different) than an actual API.</div><br/></div></div></div></div><div id="42891207" class="c"><input type="checkbox" id="c-42891207" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42890398">parent</a><span>|</span><a href="#42891380">prev</a><span>|</span><a href="#42892706">next</a><span>|</span><label class="collapse" for="c-42891207">[-]</label><label class="expand" for="c-42891207">[5 more]</label></div><br/><div class="children"><div class="content">&gt; What features do you most miss?<p>one time I wanted to write generic printers. E.g. printer of any type which support C++ iterators. But gdb can&#x27;t call C++ functions from python api (excepting weird hacks like evaluating `print c.begin()` and catching it output). Although this is not very useful because most of types we use changes very rarely, that&#x27;s why writing printers is only matter of time.<p>Another feature is breakpoints which sleep next N seconds. We have breakpoints which can skip next N triggering, but similar with time will be useful to me to debug mouse events in gui apps, etc.<p>Also the most new gdb still have problems with tab-tab completion (and even Ctrl-C don&#x27;t return control immediately).<p>Also lately I often meet problem <i>cannot insert breakpoint 0</i>. Probably this is a bug, because answers from stackoverflow isn&#x27;t relevant for me</div><br/><div id="42892774" class="c"><input type="checkbox" id="c-42892774" checked=""/><div class="controls bullet"><span class="by">leni536</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42891207">parent</a><span>|</span><a href="#42891823">next</a><span>|</span><label class="collapse" for="c-42892774">[-]</label><label class="expand" for="c-42892774">[2 more]</label></div><br/><div class="children"><div class="content">&gt; one time I wanted to write generic printers. E.g. printer of any type which support C++ iterators.<p>How would that work for types where the required functions are not instantiated, or not instantiated as a standalone function? Most iterators&#x27; operator++ are inlined and probably never instantiated as a distinct function.</div><br/><div id="42893026" class="c"><input type="checkbox" id="c-42893026" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42892774">parent</a><span>|</span><a href="#42891823">next</a><span>|</span><label class="collapse" for="c-42893026">[-]</label><label class="expand" for="c-42893026">[1 more]</label></div><br/><div class="children"><div class="content">&gt; How would that work for types where the required functions are not instantiated<p>Obviously, it will not. But why not to try?)<p>&gt; Most iterators&#x27; operator++ are inlined<p>Sure, it&#x27;s sad.<p>But I&#x27;m still think that such feature - calling C++ functions from Python API - can be useful.</div><br/></div></div></div></div><div id="42891823" class="c"><input type="checkbox" id="c-42891823" checked=""/><div class="controls bullet"><span class="by">quotemstr</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42891207">parent</a><span>|</span><a href="#42892774">prev</a><span>|</span><a href="#42892706">next</a><span>|</span><label class="collapse" for="c-42891823">[-]</label><label class="expand" for="c-42891823">[2 more]</label></div><br/><div class="children"><div class="content">&gt; excepting weird hacks like evaluating `print c.begin()` and catching it output)<p>Why do you consider that a weird hack instead of legitimate programming technique?</div><br/><div id="42893058" class="c"><input type="checkbox" id="c-42893058" checked=""/><div class="controls bullet"><span class="by">feelamee</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42891823">parent</a><span>|</span><a href="#42892706">next</a><span>|</span><label class="collapse" for="c-42893058">[-]</label><label class="expand" for="c-42893058">[1 more]</label></div><br/><div class="children"><div class="content">If this is not weird hack, why gdb provide api for getting C++ variables values instead of using this &quot;legitimate programming technique&quot;?</div><br/></div></div></div></div></div></div></div></div><div id="42892706" class="c"><input type="checkbox" id="c-42892706" checked=""/><div class="controls bullet"><span class="by">LaLaLand122</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42890312">parent</a><span>|</span><a href="#42890398">prev</a><span>|</span><a href="#42890291">next</a><span>|</span><label class="collapse" for="c-42892706">[-]</label><label class="expand" for="c-42892706">[2 more]</label></div><br/><div class="children"><div class="content">&gt; a terrible API which makes all the frontends terrible in turn<p>I don&#x27;t know the details. But nowadays gdb supports DAP, as any other debugger: <a href="https:&#x2F;&#x2F;www.sourceware.org&#x2F;gdb&#x2F;current&#x2F;onlinedocs&#x2F;gdb.html&#x2F;Debugger-Adapter-Protocol.html#Debugger-Adapter-Protocol" rel="nofollow">https:&#x2F;&#x2F;www.sourceware.org&#x2F;gdb&#x2F;current&#x2F;onlinedocs&#x2F;gdb.html&#x2F;D...</a><p>Are you talking about this, or the old <a href="https:&#x2F;&#x2F;www.sourceware.org&#x2F;gdb&#x2F;current&#x2F;onlinedocs&#x2F;gdb.html&#x2F;GDB_002fMI.html" rel="nofollow">https:&#x2F;&#x2F;www.sourceware.org&#x2F;gdb&#x2F;current&#x2F;onlinedocs&#x2F;gdb.html&#x2F;G...</a> ?</div><br/><div id="42893694" class="c"><input type="checkbox" id="c-42893694" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#42889907">root</a><span>|</span><a href="#42892706">parent</a><span>|</span><a href="#42890291">next</a><span>|</span><label class="collapse" for="c-42893694">[-]</label><label class="expand" for="c-42893694">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I hadn&#x27;t seen that, seems like it was just released a year ago. Seems like a step forward. I was talking about GDB&#x2F;MI, which was the main (only?) option for decades and could still be considered the &quot;native&quot; frontend API of GDB.</div><br/></div></div></div></div></div></div><div id="42890291" class="c"><input type="checkbox" id="c-42890291" checked=""/><div class="controls bullet"><span class="by">bregma</span><span>|</span><a href="#42889907">parent</a><span>|</span><a href="#42890312">prev</a><span>|</span><a href="#42889723">next</a><span>|</span><label class="collapse" for="c-42890291">[-]</label><label class="expand" for="c-42890291">[1 more]</label></div><br/><div class="children"><div class="content">Well, you can start by tearing down all the fences and firing that Chesterton guy&#x27;s sorry ass. After all, even a 32-bit ARMv7 uses .eh_unwind sections to crawl the stack for a backtrace, right?<p>Then, you can focus on resolving edge cases that can cause papercuts. Make sure the solutions are at the expense of the happy path because that&#x27;s all been solved long ago so there&#x27;s no need to pay attention to it.</div><br/></div></div></div></div><div id="42889723" class="c"><input type="checkbox" id="c-42889723" checked=""/><div class="controls bullet"><span class="by">adolph</span><span>|</span><a href="#42889907">prev</a><span>|</span><a href="#42890054">next</a><span>|</span><label class="collapse" for="c-42889723">[-]</label><label class="expand" for="c-42889723">[4 more]</label></div><br/><div class="children"><div class="content">To clarify “from scratch” as in from basic materials and not “in scratch” as in the MIT graphical programming g system[0]. It appears to be written in Zig[1], which I find interesting for analysis.<p>0. <a href="https:&#x2F;&#x2F;scratch.mit.edu&#x2F;" rel="nofollow">https:&#x2F;&#x2F;scratch.mit.edu&#x2F;</a><p>1. <a href="https:&#x2F;&#x2F;github.com&#x2F;jcalabro&#x2F;uscope">https:&#x2F;&#x2F;github.com&#x2F;jcalabro&#x2F;uscope</a></div><br/><div id="42889804" class="c"><input type="checkbox" id="c-42889804" checked=""/><div class="controls bullet"><span class="by">TZubiri</span><span>|</span><a href="#42889723">parent</a><span>|</span><a href="#42890124">next</a><span>|</span><label class="collapse" for="c-42889804">[-]</label><label class="expand" for="c-42889804">[2 more]</label></div><br/><div class="children"><div class="content">lol, I think no one expected a linux debugger to be written in the visual programming language for kids.</div><br/><div id="42890249" class="c"><input type="checkbox" id="c-42890249" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#42889723">root</a><span>|</span><a href="#42889804">parent</a><span>|</span><a href="#42890124">next</a><span>|</span><label class="collapse" for="c-42890249">[-]</label><label class="expand" for="c-42890249">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be very impressed if it were, though.</div><br/></div></div></div></div><div id="42890124" class="c"><input type="checkbox" id="c-42890124" checked=""/><div class="controls bullet"><span class="by">AdmiralAsshat</span><span>|</span><a href="#42889723">parent</a><span>|</span><a href="#42889804">prev</a><span>|</span><a href="#42890054">next</a><span>|</span><label class="collapse" for="c-42890124">[-]</label><label class="expand" for="c-42890124">[1 more]</label></div><br/><div class="children"><div class="content">&quot;written from scratch&quot; is one of those phrases that seems to cause any submission to instantly hit HN frontpage, along with &quot;for fun and profit&quot;, &quot;considered harmful&quot;, and a couple others.</div><br/></div></div></div></div><div id="42890054" class="c"><input type="checkbox" id="c-42890054" checked=""/><div class="controls bullet"><span class="by">rickydroll</span><span>|</span><a href="#42889723">prev</a><span>|</span><label class="collapse" for="c-42890054">[-]</label><label class="expand" for="c-42890054">[1 more]</label></div><br/><div class="children"><div class="content">Make it debug systemd config problems and I&#x27;d be thrilled.</div><br/></div></div></div></div></div></div></div></body></html>