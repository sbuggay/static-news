<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707296468241" as="style"/><link rel="stylesheet" href="styles.css?v=1707296468241"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://go.dev/doc/go1.22">Go 1.22</a> <span class="domain">(<a href="https://go.dev">go.dev</a>)</span></div><div class="subtext"><span>bestinterest</span> | <span>65 comments</span></div><br/><div><div id="39284476" class="c"><input type="checkbox" id="c-39284476" checked=""/><div class="controls bullet"><span class="by">BillyTheKing</span><span>|</span><a href="#39282855">next</a><span>|</span><label class="collapse" for="c-39284476">[-]</label><label class="expand" for="c-39284476">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been mostly writing Typescript the past 3 years - and recently started writing code in Go. Initially I was a little apprehensive, lack of array functions, slightly less flexible type-system, etc.<p>But after spending some time writing Go I now had to re-initialise a typescript project for a small-ish team (4-5 devs). The amount of time spent on things such as linting, selecting the correct library for server routing, the correct server, coding standards, basic error-handling and enforcing it with a custom error or Result type to get out of this nested try&#x2F;catch hell which still loses the majority of errors. Setting up testing and mocking. Setting up Prisma and what not - and finally the PRs are still a hit and miss, some ok, some make use of weird JS functions..<p>Don&#x27;t get me wrong, I really do like Typescript. But I gotta say after all of that it&#x27;s just great using a language with a fantastic standard library, proper type-safety, with some coding standards built-in. It&#x27;s obviously not without quirks, but it&#x27;s pretty decent - and great to see that routing has now also moved into the standard library, another bit that you don&#x27;t have to worry about - can&#x27;t wait for some map&#x2F;filter&#x2F;find slice functions though!</div><br/><div id="39286142" class="c"><input type="checkbox" id="c-39286142" checked=""/><div class="controls bullet"><span class="by">hambos22</span><span>|</span><a href="#39284476">parent</a><span>|</span><a href="#39284733">next</a><span>|</span><label class="collapse" for="c-39286142">[-]</label><label class="expand" for="c-39286142">[1 more]</label></div><br/><div class="children"><div class="content">&gt; can&#x27;t wait for some map&#x2F;filter&#x2F;find slice functions though<p>Till that day comes, you could use the &quot;lo&quot; library (inspired from lodash). It&#x27;s my goto Swiss army knife for golang projects.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;samber&#x2F;lo">https:&#x2F;&#x2F;github.com&#x2F;samber&#x2F;lo</a></div><br/></div></div><div id="39284733" class="c"><input type="checkbox" id="c-39284733" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#39284476">parent</a><span>|</span><a href="#39286142">prev</a><span>|</span><a href="#39285044">next</a><span>|</span><label class="collapse" for="c-39284733">[-]</label><label class="expand" for="c-39284733">[3 more]</label></div><br/><div class="children"><div class="content">In my CTO newsletter I recently wrote about TS vs Go releases, with Go 1.22 as an example. TS gets more and more complicated with each release, catering to the power users. Go adds things that makes it simpler to use, like the (missing) range over integers. It&#x27;s like game sequels, they add more and more canon and game mechanics, then game sequels (or comics) need to reset to make them more accessible to newcomers again. Programming languages can&#x27;t do this, so I&#x27;m happy that Go keeps this in mind.</div><br/><div id="39285527" class="c"><input type="checkbox" id="c-39285527" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39284476">root</a><span>|</span><a href="#39284733">parent</a><span>|</span><a href="#39285044">next</a><span>|</span><label class="collapse" for="c-39285527">[-]</label><label class="expand" for="c-39285527">[2 more]</label></div><br/><div class="children"><div class="content">The thing with Typescript is that it is only a fancy JavaScript linter, so the only way to justify newer releases is to keep adding up the type system, there is nothing else when language features that aren&#x27;t type system related are supposed to come from JavaScript evolution.<p>So they either say they are done, or keep adding type theory stuff until it implodes, I fear.<p>Actually I am looking forward to type annotations in JavaScript now in the roadmap, being good enough for general use cases.</div><br/><div id="39286002" class="c"><input type="checkbox" id="c-39286002" checked=""/><div class="controls bullet"><span class="by">norman784</span><span>|</span><a href="#39284476">root</a><span>|</span><a href="#39285527">parent</a><span>|</span><a href="#39285044">next</a><span>|</span><label class="collapse" for="c-39286002">[-]</label><label class="expand" for="c-39286002">[1 more]</label></div><br/><div class="children"><div class="content">Do you know if the Javascript type annotations is progressing? I didn&#x27;t hear anything after the initial proposal.</div><br/></div></div></div></div></div></div><div id="39285044" class="c"><input type="checkbox" id="c-39285044" checked=""/><div class="controls bullet"><span class="by">cookiengineer</span><span>|</span><a href="#39284476">parent</a><span>|</span><a href="#39284733">prev</a><span>|</span><a href="#39285710">next</a><span>|</span><label class="collapse" for="c-39285044">[-]</label><label class="expand" for="c-39285044">[3 more]</label></div><br/><div class="children"><div class="content">I feel very similar to your experience.<p>What made me stay in go is its amazingly unified build toolchain. The things you can do with go:embed and go:generate blow my mind in every other project.<p>The golang.org&#x2F;x package is also another thing, where there is pretty much every internet RFC related implementation available, ready to use.</div><br/><div id="39286092" class="c"><input type="checkbox" id="c-39286092" checked=""/><div class="controls bullet"><span class="by">avtolik</span><span>|</span><a href="#39284476">root</a><span>|</span><a href="#39285044">parent</a><span>|</span><a href="#39285710">next</a><span>|</span><label class="collapse" for="c-39286092">[-]</label><label class="expand" for="c-39286092">[2 more]</label></div><br/><div class="children"><div class="content">Can you give some examples how are you using go:embed and go:generate?</div><br/><div id="39286174" class="c"><input type="checkbox" id="c-39286174" checked=""/><div class="controls bullet"><span class="by">bheadmaster</span><span>|</span><a href="#39284476">root</a><span>|</span><a href="#39286092">parent</a><span>|</span><a href="#39285710">next</a><span>|</span><label class="collapse" for="c-39286174">[-]</label><label class="expand" for="c-39286174">[1 more]</label></div><br/><div class="children"><div class="content">One example that comes to mind is building a single-binary full-stack application.<p>You can use whatever frontend framework you want, and just embed the html&#x2F;css&#x2F;js&#x2F;asset files inside the binary with go:embed. In case of dynamic set of files, you can also write a Go utility to generate the embeddings with go:generate.<p>In addition to the ease of distribution (no more assets&#x2F; directory - just a single binary executable!), it also increases speed of the application, as it no longer has to perform file system reads in order to serve a webpage.</div><br/></div></div></div></div></div></div><div id="39285710" class="c"><input type="checkbox" id="c-39285710" checked=""/><div class="controls bullet"><span class="by">lnxg33k1</span><span>|</span><a href="#39284476">parent</a><span>|</span><a href="#39285044">prev</a><span>|</span><a href="#39284777">next</a><span>|</span><label class="collapse" for="c-39285710">[-]</label><label class="expand" for="c-39285710">[1 more]</label></div><br/><div class="children"><div class="content">I’ve worked for a while at a client using typescript, after a while I started calling it “Tricks Driven Development”, every time I had to do something I’d read the docs, but then someone would communicate some trick not on the docs that was possible to use</div><br/></div></div><div id="39284777" class="c"><input type="checkbox" id="c-39284777" checked=""/><div class="controls bullet"><span class="by">ryloric</span><span>|</span><a href="#39284476">parent</a><span>|</span><a href="#39285710">prev</a><span>|</span><a href="#39285601">next</a><span>|</span><label class="collapse" for="c-39284777">[-]</label><label class="expand" for="c-39284777">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it&#x27;s quite productive in a counter intuitive way, not having a ton of features just removes a lot of tiny decisions you have to make in a richer language.</div><br/></div></div><div id="39285601" class="c"><input type="checkbox" id="c-39285601" checked=""/><div class="controls bullet"><span class="by">baby</span><span>|</span><a href="#39284476">parent</a><span>|</span><a href="#39284777">prev</a><span>|</span><a href="#39282855">next</a><span>|</span><label class="collapse" for="c-39285601">[-]</label><label class="expand" for="c-39285601">[1 more]</label></div><br/><div class="children"><div class="content">The problem of typescript is the lack of convention and the emphasis on configuration, the reverse made Golang a great language.</div><br/></div></div></div></div><div id="39282855" class="c"><input type="checkbox" id="c-39282855" checked=""/><div class="controls bullet"><span class="by">nalgeon</span><span>|</span><a href="#39284476">prev</a><span>|</span><a href="#39285666">next</a><span>|</span><label class="collapse" for="c-39282855">[-]</label><label class="expand" for="c-39282855">[5 more]</label></div><br/><div class="children"><div class="content">If you find the official release notes a bit dry, I&#x27;ve made an interactive version: <a href="https:&#x2F;&#x2F;antonz.org&#x2F;go-1-22" rel="nofollow">https:&#x2F;&#x2F;antonz.org&#x2F;go-1-22</a></div><br/><div id="39284414" class="c"><input type="checkbox" id="c-39284414" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#39282855">parent</a><span>|</span><a href="#39283327">next</a><span>|</span><label class="collapse" for="c-39284414">[-]</label><label class="expand" for="c-39284414">[1 more]</label></div><br/><div class="children"><div class="content">Cool, that does help.  It wasn&#x27;t immediately obvious what the problem with the for loop sharing thing meant, but seeing it run and give unexpected results helped. :)</div><br/></div></div><div id="39283327" class="c"><input type="checkbox" id="c-39283327" checked=""/><div class="controls bullet"><span class="by">thatswrong0</span><span>|</span><a href="#39282855">parent</a><span>|</span><a href="#39284414">prev</a><span>|</span><a href="#39285203">next</a><span>|</span><label class="collapse" for="c-39283327">[-]</label><label class="expand" for="c-39283327">[1 more]</label></div><br/><div class="children"><div class="content">Thank you this is awesome. I find it so much quicker to read and understand things like this with examples.. and these are runnable &#x2F; editable! Sick.</div><br/></div></div><div id="39285203" class="c"><input type="checkbox" id="c-39285203" checked=""/><div class="controls bullet"><span class="by">yeonsh</span><span>|</span><a href="#39282855">parent</a><span>|</span><a href="#39283327">prev</a><span>|</span><a href="#39284989">next</a><span>|</span><label class="collapse" for="c-39285203">[-]</label><label class="expand" for="c-39285203">[1 more]</label></div><br/><div class="children"><div class="content">Oh, it&#x27;s great.</div><br/></div></div><div id="39284989" class="c"><input type="checkbox" id="c-39284989" checked=""/><div class="controls bullet"><span class="by">drewlesueur</span><span>|</span><a href="#39282855">parent</a><span>|</span><a href="#39285203">prev</a><span>|</span><a href="#39285666">next</a><span>|</span><label class="collapse" for="c-39284989">[-]</label><label class="expand" for="c-39284989">[1 more]</label></div><br/><div class="children"><div class="content">really cool</div><br/></div></div></div></div><div id="39285666" class="c"><input type="checkbox" id="c-39285666" checked=""/><div class="controls bullet"><span class="by">tommiegannert</span><span>|</span><a href="#39282855">prev</a><span>|</span><a href="#39284311">next</a><span>|</span><label class="collapse" for="c-39285666">[-]</label><label class="expand" for="c-39285666">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Enhanced routing patterns<p>&gt; This change breaks backwards compatibility in small ways, some obvious—patterns with &quot;{&quot; and &quot;}&quot; behave differently— and some less so—treatment of escaped paths has been improved. The change is controlled by a GODEBUG field named httpmuxgo121. Set httpmuxgo121=1 to restore the old behavior.<p>That&#x27;s a great enhancement now that the future of Gorilla Mux is shaky. But why doesn&#x27;t that go against the Go 1 compatibility promise?<p>&gt; It is intended that programs written to the Go 1 specification will continue to compile and run correctly, unchanged, over the lifetime of that specification.</div><br/><div id="39285870" class="c"><input type="checkbox" id="c-39285870" checked=""/><div class="controls bullet"><span class="by">zaphodias</span><span>|</span><a href="#39285666">parent</a><span>|</span><a href="#39285881">next</a><span>|</span><label class="collapse" for="c-39285870">[-]</label><label class="expand" for="c-39285870">[2 more]</label></div><br/><div class="children"><div class="content">Usually the Go team scrapes from GitHub and open source programs how people use something before breaking them; I suspect they found little usage of { and } in HTTP handler paths. They also provide a way of opting out the new behaviour, so they don&#x27;t force you to change anything in your code (but yes, it does require you to set a new env var).<p>The change to the for loop semantic is another example in this release; it effectively is a breaking change.<p>All Go programs continue to compile and run, though with minor behavioural changes. I think Go took a pragmatic approach, and that was one of the reasons for its success.</div><br/><div id="39286020" class="c"><input type="checkbox" id="c-39286020" checked=""/><div class="controls bullet"><span class="by">carstenhag</span><span>|</span><a href="#39285666">root</a><span>|</span><a href="#39285870">parent</a><span>|</span><a href="#39285881">next</a><span>|</span><label class="collapse" for="c-39286020">[-]</label><label class="expand" for="c-39286020">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see the point of using semver (or at least telling us about the same guarantees) and then not making use of it.<p>If there were 10 breaking chances we should be at 11.x now, not at 1.x with 20 environment variables.</div><br/></div></div></div></div><div id="39285881" class="c"><input type="checkbox" id="c-39285881" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#39285666">parent</a><span>|</span><a href="#39285870">prev</a><span>|</span><a href="#39284311">next</a><span>|</span><label class="collapse" for="c-39285881">[-]</label><label class="expand" for="c-39285881">[1 more]</label></div><br/><div class="children"><div class="content">Because then they would lose their pithy advertising slogan. Minor or not, it is a non-compatible change.</div><br/></div></div></div></div><div id="39284311" class="c"><input type="checkbox" id="c-39284311" checked=""/><div class="controls bullet"><span class="by">saclark11</span><span>|</span><a href="#39285666">prev</a><span>|</span><a href="#39285911">next</a><span>|</span><label class="collapse" for="c-39284311">[-]</label><label class="expand" for="c-39284311">[2 more]</label></div><br/><div class="children"><div class="content">&gt; When io.Copy copies from a TCPConn to a UnixConn, it will now use Linux&#x27;s splice(2) system call if possible, using the new method TCPConn.WriteTo.<p>Interface upgrades, yet again, transparently giving us more zero-copy IO. Love how much mileage they’re able to get out of this pattern in the io package.</div><br/><div id="39284497" class="c"><input type="checkbox" id="c-39284497" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#39284311">parent</a><span>|</span><a href="#39285911">next</a><span>|</span><label class="collapse" for="c-39284497">[-]</label><label class="expand" for="c-39284497">[1 more]</label></div><br/><div class="children"><div class="content">Go standard library is absolutely littered with these kinds of tweaks. Not necessarily bad, but it does make an integration with non-standard library less satisfactory because such special casing is not scalable. Still within the expectation though.</div><br/></div></div></div></div><div id="39285911" class="c"><input type="checkbox" id="c-39285911" checked=""/><div class="controls bullet"><span class="by">divan</span><span>|</span><a href="#39284311">prev</a><span>|</span><a href="#39283380">next</a><span>|</span><label class="collapse" for="c-39285911">[-]</label><label class="expand" for="c-39285911">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been writing Go for 9+ years, but for the last 4 years, I had to write a lot of Dart (for Flutter). I consider these two languages to be on the opposite sides of the complexity stance. Dart tries to add and implement every feature possible, but Go is the opposite.<p>Two observations:<p>1) I&#x27;m spending a lot of time fighting multiple ways to init stuff in a class (i.e., declare the variable and set the value). Depending on the final&#x2F;const&#x2F;static&#x2F;late prefix, there are multiple ways to init it in the constructor or factory or initState() method of Flutter&#x27;s StatefulWidget, and god forbid you to refactor any of that – you&#x27;ll be forced to rehaul all the initialization. Dart&#x27;s getter feature (which makes functions look like variables) also adds confusion, especially with a new codebase. I constantly find it embarrassing how much time I need to spend on such a straightforward thing as variable&#x2F;field initialization. I often find myself missing the simplicity of Go.<p>2) Compared to Go, Dart has all the juicy stuff like maps&#x2F;streams&#x2F;whatever for packing all in a single line. It&#x27;s very tempting to use those for quickly creating singleliners with hard-to-understand complexity. Sometimes I even start feeling that I&#x27;m missing those in Go. But when I get to debugging those or, especially, junior developers looking at these write-only singleliners, with an array of ugly hacks like .firstWhereOrNull or optional &#x27;(orElse: () =&gt; null)&#x27; parameters, they are very confused, especially when cryptic null safety or type errors stops them. Rewriting those singleliners as a simple Go-style for loop is such a relief.</div><br/><div id="39285979" class="c"><input type="checkbox" id="c-39285979" checked=""/><div class="controls bullet"><span class="by">Jean-Papoulos</span><span>|</span><a href="#39285911">parent</a><span>|</span><a href="#39285973">next</a><span>|</span><label class="collapse" for="c-39285979">[-]</label><label class="expand" for="c-39285979">[1 more]</label></div><br/><div class="children"><div class="content">Tip about Dart : Don&#x27;t use initState for stuff that doesn&#x27;t directly concern UI (setting the hint of a text field, for example).<p>Most of my Flutter pages rely either on having very few things to do, or having a MyPageController object such that the parent creates a controller, initializes it however it likes and the child page&#x27;s behavior is dependent on that controller. A typical example of this would be the parent being a page containing a list, and the user wanting to edit a list element. Create a controller, give it the element, and send the controller to a child page where the user does the editing. On return, the parent can look at the element or other variables&#x2F;callbacks in the controller to decide what should change in the UI.<p>This also allows finely-controlled interactions between widgets without having to delete with InheritedWidget or the likes. Of course you should use a state management library with this, even though a lot of the time I don&#x27;t.</div><br/></div></div><div id="39285973" class="c"><input type="checkbox" id="c-39285973" checked=""/><div class="controls bullet"><span class="by">doctor_eval</span><span>|</span><a href="#39285911">parent</a><span>|</span><a href="#39285979">prev</a><span>|</span><a href="#39283380">next</a><span>|</span><label class="collapse" for="c-39285973">[-]</label><label class="expand" for="c-39285973">[1 more]</label></div><br/><div class="children"><div class="content">I agree, Go’s simplicity is the best thing about it. I think the same thing about ranges, I think I end up typing the same number of characters - but spreading it over three lines makes it feel “longer” than a comprehension like “forEach(f)”. But then I write the range longhand, and it’s no big deal.<p>Speaking of initialisation though, I do wish Go had an idiomatic way to initialise struct fields to specific values. I don’t care about the lack of constructors; mostly, I just wish I could have bools initialise to true sometimes.</div><br/></div></div></div></div><div id="39283380" class="c"><input type="checkbox" id="c-39283380" checked=""/><div class="controls bullet"><span class="by">omoikane</span><span>|</span><a href="#39285911">prev</a><span>|</span><a href="#39283121">next</a><span>|</span><label class="collapse" for="c-39283380">[-]</label><label class="expand" for="c-39283380">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In Go 1.22, each iteration of the loop creates new variables<p>This was previously discussed here:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33160236">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33160236</a> - Go: Redefining For Loop Variable Semantics (2022)</div><br/></div></div><div id="39283121" class="c"><input type="checkbox" id="c-39283121" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#39283380">prev</a><span>|</span><a href="#39283788">next</a><span>|</span><label class="collapse" for="c-39283121">[-]</label><label class="expand" for="c-39283121">[1 more]</label></div><br/><div class="children"><div class="content">Looking forward to revisting the stdlib mux and possibly removing chi.  I really appreciate seeing this stuff move into the stdlib.</div><br/></div></div><div id="39283788" class="c"><input type="checkbox" id="c-39283788" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39283121">prev</a><span>|</span><a href="#39282941">next</a><span>|</span><label class="collapse" for="c-39283788">[-]</label><label class="expand" for="c-39283788">[3 more]</label></div><br/><div class="children"><div class="content">The addition of `sql.Null[T]` is great. I&#x27;ll probably start using that in new projects. In current stuff, I&#x27;m relying on sqlboiler&#x27;s null [0] whose API is very similar — it works the same way as `sql.Null` will, but has an additional `IsSet() bool` method that tells you whether or not the value was ever explicitly set, to help you distinguish &quot;intentionally null&quot; from &quot;null due to uninitialization&quot;. (Sounds nice, but I&#x27;ve never once used it.)</div><br/><div id="39284186" class="c"><input type="checkbox" id="c-39284186" checked=""/><div class="controls bullet"><span class="by">eweise</span><span>|</span><a href="#39283788">parent</a><span>|</span><a href="#39282941">next</a><span>|</span><label class="collapse" for="c-39284186">[-]</label><label class="expand" for="c-39284186">[2 more]</label></div><br/><div class="children"><div class="content">Curious when you need to know when null is intentional or not. There&#x27;s no corresponding type like that in the db.</div><br/><div id="39284971" class="c"><input type="checkbox" id="c-39284971" checked=""/><div class="controls bullet"><span class="by">buzer</span><span>|</span><a href="#39283788">root</a><span>|</span><a href="#39284186">parent</a><span>|</span><a href="#39282941">next</a><span>|</span><label class="collapse" for="c-39284971">[-]</label><label class="expand" for="c-39284971">[1 more]</label></div><br/><div class="children"><div class="content">For example when you are using partially populated record to update the database. If field is null intentionally it means it should be updated to it. If it&#x27;s not set the update statement should not touch it.</div><br/></div></div></div></div></div></div><div id="39282941" class="c"><input type="checkbox" id="c-39282941" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#39283788">prev</a><span>|</span><a href="#39284709">next</a><span>|</span><label class="collapse" for="c-39282941">[-]</label><label class="expand" for="c-39282941">[17 more]</label></div><br/><div class="children"><div class="content">For those using Go for production, do you get to switch to the latest versions quickly, or do you get stuck in older releases?<p>In the open a lot of projects seem to avoid newish features. I like to use `any` (from 1.18 ~ 2 years ago) where before we had to use `interface{}`, even if I&#x27;m not using generics (although I&#x27;ve been told the latter is more &quot;idiomatic&quot; :-&#x2F;).</div><br/><div id="39283795" class="c"><input type="checkbox" id="c-39283795" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39283110">next</a><span>|</span><label class="collapse" for="c-39283795">[-]</label><label class="expand" for="c-39283795">[4 more]</label></div><br/><div class="children"><div class="content">We usually wait to experiment with new features until we find a good problem that would fit, but we upgrade compiler version pretty much right after they release. For instance we waited on actually using generics for about 6 months until we were able to experiment a bit and make sure they were really useful, the devx was good, and build&#x2F;test speeds weren&#x27;t significantly impacted.</div><br/><div id="39283941" class="c"><input type="checkbox" id="c-39283941" checked=""/><div class="controls bullet"><span class="by">adtac</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39283795">parent</a><span>|</span><a href="#39283110">next</a><span>|</span><label class="collapse" for="c-39283941">[-]</label><label class="expand" for="c-39283941">[3 more]</label></div><br/><div class="children"><div class="content">&gt; build&#x2F;test speeds weren&#x27;t significantly impacted<p>it must be getting a little repetitive to test every version and find that Go continues to build crazy fast every time :)</div><br/><div id="39284379" class="c"><input type="checkbox" id="c-39284379" checked=""/><div class="controls bullet"><span class="by">AdamJacobMuller</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39283941">parent</a><span>|</span><a href="#39283956">next</a><span>|</span><label class="collapse" for="c-39284379">[-]</label><label class="expand" for="c-39284379">[1 more]</label></div><br/><div class="children"><div class="content">I remember early in the go release cycle (talking around go1.4-&gt;later era) when I would rebuild our application with a new version and marvel at how much faster they made it. GC was another thing which was crazy, they halved GC pause time for like 5 or 6 releases in a row. like 1s -&gt; 500ms -&gt; 250ms -&gt; 125ms etc etc etc.</div><br/></div></div><div id="39283956" class="c"><input type="checkbox" id="c-39283956" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39283941">parent</a><span>|</span><a href="#39284379">prev</a><span>|</span><a href="#39283110">next</a><span>|</span><label class="collapse" for="c-39283956">[-]</label><label class="expand" for="c-39283956">[1 more]</label></div><br/><div class="children"><div class="content">The test doesn&#x27;t take much time :)</div><br/></div></div></div></div></div></div><div id="39283110" class="c"><input type="checkbox" id="c-39283110" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39283795">prev</a><span>|</span><a href="#39284296">next</a><span>|</span><label class="collapse" for="c-39283110">[-]</label><label class="expand" for="c-39283110">[5 more]</label></div><br/><div class="children"><div class="content">At my $DAYJOB devs are free to jump on latest builds for containers we operate (SaaS &#x2F; API services).<p>But we also deliver end-user apps with Go, and those have to stick to 1.20 for compatibility with older client OSes. 1.21 made significant cuts and so we will likely be on 1.20 for some years to come.</div><br/><div id="39283393" class="c"><input type="checkbox" id="c-39283393" checked=""/><div class="controls bullet"><span class="by">drchase</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39283110">parent</a><span>|</span><a href="#39284352">next</a><span>|</span><label class="collapse" for="c-39283393">[-]</label><label class="expand" for="c-39283393">[2 more]</label></div><br/><div class="children"><div class="content">Which older OSes?  The last 1.20 dot release was earlier today, some years from now it will be stale and probably insecure, though that matters less for internal apps than for internet-exposed ones.</div><br/><div id="39284400" class="c"><input type="checkbox" id="c-39284400" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39283393">parent</a><span>|</span><a href="#39284352">next</a><span>|</span><label class="collapse" for="c-39284400">[-]</label><label class="expand" for="c-39284400">[1 more]</label></div><br/><div class="children"><div class="content">Windows 7, Server 2012, macOS 10.13 + 10.14, and so on. Together it makes up nearly 10% of our user base.<p>We have a very slow-moving customer base and their choice of OS is out of our control. At this time last year there were still more Windows 7 users than Windows 11 in telemetry.<p>Those old OSes are leaving security support, but actually Windows Server 2012 still gets updates from Microsoft (ESU) until 2026 so i&#x27;m surprised you dropped it already.<p>Yes, Go1.20 will get insecure, but until that usage drops, not much can be done.<p>Well, one thing: in the past, in order to maintain support for Server 2008, for a long while we built the app with both Go1.10 and Go1.(newer) and switched at install time. I don&#x27;t recommend it! Every year was more difficult as the open source packages drifted away from compatibility and our build system had to still support GOPATH. Eventually we finally abandoned Go1.10!</div><br/></div></div></div></div><div id="39284352" class="c"><input type="checkbox" id="c-39284352" checked=""/><div class="controls bullet"><span class="by">signal11</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39283110">parent</a><span>|</span><a href="#39283393">prev</a><span>|</span><a href="#39284296">next</a><span>|</span><label class="collapse" for="c-39284352">[-]</label><label class="expand" for="c-39284352">[2 more]</label></div><br/><div class="children"><div class="content">I thought the 1.21 cuts were for out of support Windows versions only? Eg Windows 7.<p>You’ll have to also factor that 1.20 won’t receive security updates any more.</div><br/><div id="39284462" class="c"><input type="checkbox" id="c-39284462" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#39282941">root</a><span>|</span><a href="#39284352">parent</a><span>|</span><a href="#39284296">next</a><span>|</span><label class="collapse" for="c-39284462">[-]</label><label class="expand" for="c-39284462">[1 more]</label></div><br/><div class="children"><div class="content">Server 2012 was dropped in <a href="https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;57004">https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;57004</a> and it&#x27;s still in security support. My numbers are somewhat similar to @olivielpeau in that thread.</div><br/></div></div></div></div></div></div><div id="39284296" class="c"><input type="checkbox" id="c-39284296" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39283110">prev</a><span>|</span><a href="#39283070">next</a><span>|</span><label class="collapse" for="c-39284296">[-]</label><label class="expand" for="c-39284296">[1 more]</label></div><br/><div class="children"><div class="content">At Square, we typically wait until the first point release before updating the default version in our Go monorepo. Individual application owners are free to upgrade sooner. This time, we had some wiggles, so the Go team beat us to 1.22 before we could upgrade our default to 1.21 :-)<p>Waiting is more or less just customary at this point; Go releases seldom break things.</div><br/></div></div><div id="39283070" class="c"><input type="checkbox" id="c-39283070" checked=""/><div class="controls bullet"><span class="by">mortallywounded</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39284296">prev</a><span>|</span><a href="#39285520">next</a><span>|</span><label class="collapse" for="c-39283070">[-]</label><label class="expand" for="c-39283070">[1 more]</label></div><br/><div class="children"><div class="content">I switch right away.<p>If you&#x27;re worried about supporting older Go compilers, you could always have build conditions for older versions that define missing things like:<p>&#x2F;&#x2F; +build !go1.7<p>type any = interface{}</div><br/></div></div><div id="39285363" class="c"><input type="checkbox" id="c-39285363" checked=""/><div class="controls bullet"><span class="by">miki123211</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39285520">prev</a><span>|</span><a href="#39284049">next</a><span>|</span><label class="collapse" for="c-39285363">[-]</label><label class="expand" for="c-39285363">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think this is necessarily true, most of the standard library docs have switched over to using any, even when generics are not involved.</div><br/></div></div><div id="39284049" class="c"><input type="checkbox" id="c-39284049" checked=""/><div class="controls bullet"><span class="by">didip</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39285363">prev</a><span>|</span><a href="#39284539">next</a><span>|</span><label class="collapse" for="c-39284049">[-]</label><label class="expand" for="c-39284049">[1 more]</label></div><br/><div class="children"><div class="content">I switched right away. All of our images are tagged anyway so rolling back is hella easy.</div><br/></div></div><div id="39284539" class="c"><input type="checkbox" id="c-39284539" checked=""/><div class="controls bullet"><span class="by">voidfunc</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39284049">prev</a><span>|</span><a href="#39284310">next</a><span>|</span><label class="collapse" for="c-39284539">[-]</label><label class="expand" for="c-39284539">[1 more]</label></div><br/><div class="children"><div class="content">Usually we switch after the first point release.</div><br/></div></div><div id="39284310" class="c"><input type="checkbox" id="c-39284310" checked=""/><div class="controls bullet"><span class="by">dharmab</span><span>|</span><a href="#39282941">parent</a><span>|</span><a href="#39284539">prev</a><span>|</span><a href="#39284709">next</a><span>|</span><label class="collapse" for="c-39284310">[-]</label><label class="expand" for="c-39284310">[1 more]</label></div><br/><div class="children"><div class="content">Upgrade our binaries immediately, then bump go.mod `go` directive as we touch things.</div><br/></div></div></div></div><div id="39284709" class="c"><input type="checkbox" id="c-39284709" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#39282941">prev</a><span>|</span><a href="#39285629">next</a><span>|</span><label class="collapse" for="c-39284709">[-]</label><label class="expand" for="c-39284709">[1 more]</label></div><br/><div class="children"><div class="content">I love how easy upgrading Go has become. Change 1.21.6 to 1.22.0 in your go.mod, done.</div><br/></div></div><div id="39285629" class="c"><input type="checkbox" id="c-39285629" checked=""/><div class="controls bullet"><span class="by">moondev</span><span>|</span><a href="#39284709">prev</a><span>|</span><a href="#39283822">next</a><span>|</span><label class="collapse" for="c-39285629">[-]</label><label class="expand" for="c-39285629">[1 more]</label></div><br/><div class="children"><div class="content">Still holding out hope for a &quot;go run&quot; flag to easily run module programs with replacements in go.mod<p><pre><code>      go run k8s.io&#x2F;kubernetes&#x2F;cmd&#x2F;kubectl@v1.28.2</code></pre></div><br/></div></div><div id="39283822" class="c"><input type="checkbox" id="c-39283822" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#39285629">prev</a><span>|</span><a href="#39285944">next</a><span>|</span><label class="collapse" for="c-39283822">[-]</label><label class="expand" for="c-39283822">[1 more]</label></div><br/><div class="children"><div class="content">It’s good to see them starting to make for-range loops work on user-defined ADTs.</div><br/></div></div><div id="39285944" class="c"><input type="checkbox" id="c-39285944" checked=""/><div class="controls bullet"><span class="by">doctor_eval</span><span>|</span><a href="#39283822">prev</a><span>|</span><a href="#39282980">next</a><span>|</span><label class="collapse" for="c-39285944">[-]</label><label class="expand" for="c-39285944">[1 more]</label></div><br/><div class="children"><div class="content">I’m super excited to see range over functions - iterators. It’s one of the only things I miss from Java.<p>It took me a few reads to understand how the work, but in typical Go style (once I got it) it was so much simpler than the equivalent in most other languages I’ve used. Looking forward to it being promoted out of experimental.</div><br/></div></div><div id="39282980" class="c"><input type="checkbox" id="c-39282980" checked=""/><div class="controls bullet"><span class="by">shakow</span><span>|</span><a href="#39285944">prev</a><span>|</span><label class="collapse" for="c-39282980">[-]</label><label class="expand" for="c-39282980">[13 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;For&quot; loops may now range over integers<p>The future is now, old man!</div><br/><div id="39283513" class="c"><input type="checkbox" id="c-39283513" checked=""/><div class="controls bullet"><span class="by">kristianp</span><span>|</span><a href="#39282980">parent</a><span>|</span><a href="#39283355">next</a><span>|</span><label class="collapse" for="c-39283513">[-]</label><label class="expand" for="c-39283513">[11 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>      for i := range 10 {
</code></pre>
What was the syntax for this before?</div><br/><div id="39283529" class="c"><input type="checkbox" id="c-39283529" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283513">parent</a><span>|</span><a href="#39285788">next</a><span>|</span><label class="collapse" for="c-39283529">[-]</label><label class="expand" for="c-39283529">[6 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>     for i := 0; i &lt; 10; i++</code></pre></div><br/><div id="39283985" class="c"><input type="checkbox" id="c-39283985" checked=""/><div class="controls bullet"><span class="by">adtac</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283529">parent</a><span>|</span><a href="#39283671">next</a><span>|</span><label class="collapse" for="c-39283985">[-]</label><label class="expand" for="c-39283985">[4 more]</label></div><br/><div class="children"><div class="content">I must be getting old because I almost wish they didn&#x27;t add this as it&#x27;s slightly ambiguous whether it&#x27;s ranging from [0, 10) or [1, 10] and anything ambiguous is probably going to haunt me at 3am some day</div><br/><div id="39285819" class="c"><input type="checkbox" id="c-39285819" checked=""/><div class="controls bullet"><span class="by">shakow</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283985">parent</a><span>|</span><a href="#39284051">next</a><span>|</span><label class="collapse" for="c-39285819">[-]</label><label class="expand" for="c-39285819">[1 more]</label></div><br/><div class="children"><div class="content">&gt; anything ambiguous is probably going to haunt me at 3am some day<p>Man, I hope you never wondered how ERRNO behaves with CGo or that you didn&#x27;t miss to update any initialization of that struct you recently added a new field to, <i>that</i> haunts me at 3AM.</div><br/></div></div><div id="39284051" class="c"><input type="checkbox" id="c-39284051" checked=""/><div class="controls bullet"><span class="by">cwbriscoe</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283985">parent</a><span>|</span><a href="#39285819">prev</a><span>|</span><a href="#39284381">next</a><span>|</span><label class="collapse" for="c-39284051">[-]</label><label class="expand" for="c-39284051">[1 more]</label></div><br/><div class="children"><div class="content">I always just assume it is consistent to whether arrays start at [0] or [1] on whichever language I am working on.</div><br/></div></div><div id="39284381" class="c"><input type="checkbox" id="c-39284381" checked=""/><div class="controls bullet"><span class="by">everybodyknows</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283985">parent</a><span>|</span><a href="#39284051">prev</a><span>|</span><a href="#39283671">next</a><span>|</span><label class="collapse" for="c-39284381">[-]</label><label class="expand" for="c-39284381">[1 more]</label></div><br/><div class="children"><div class="content">Interestingly, this does not raise any error, rather has no effect.<p>for i := range -10 {
    panic(i)
}</div><br/></div></div></div></div><div id="39283671" class="c"><input type="checkbox" id="c-39283671" checked=""/><div class="controls bullet"><span class="by">kristianp</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283529">parent</a><span>|</span><a href="#39283985">prev</a><span>|</span><a href="#39285788">next</a><span>|</span><label class="collapse" for="c-39283671">[-]</label><label class="expand" for="c-39283671">[1 more]</label></div><br/><div class="children"><div class="content">Thanks.  The new syntax emulates the python `for x in range(10):`.</div><br/></div></div></div></div><div id="39285788" class="c"><input type="checkbox" id="c-39285788" checked=""/><div class="controls bullet"><span class="by">gocsjess</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283513">parent</a><span>|</span><a href="#39283529">prev</a><span>|</span><a href="#39283978">next</a><span>|</span><label class="collapse" for="c-39285788">[-]</label><label class="expand" for="c-39285788">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  for i := range [10]struct{}{} {</code></pre></div><br/></div></div><div id="39283978" class="c"><input type="checkbox" id="c-39283978" checked=""/><div class="controls bullet"><span class="by">metaltyphoon</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283513">parent</a><span>|</span><a href="#39285788">prev</a><span>|</span><a href="#39283355">next</a><span>|</span><label class="collapse" for="c-39283978">[-]</label><label class="expand" for="c-39283978">[3 more]</label></div><br/><div class="children"><div class="content">Wish you could do<p><pre><code>  for i := range [3:10] {</code></pre></div><br/><div id="39284882" class="c"><input type="checkbox" id="c-39284882" checked=""/><div class="controls bullet"><span class="by">dgunay</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39283978">parent</a><span>|</span><a href="#39283355">next</a><span>|</span><label class="collapse" for="c-39284882">[-]</label><label class="expand" for="c-39284882">[2 more]</label></div><br/><div class="children"><div class="content">I think you could write something using the experimental Rangefunc feature that does that.</div><br/><div id="39285224" class="c"><input type="checkbox" id="c-39285224" checked=""/><div class="controls bullet"><span class="by">icholy</span><span>|</span><a href="#39282980">root</a><span>|</span><a href="#39284882">parent</a><span>|</span><a href="#39283355">next</a><span>|</span><label class="collapse" for="c-39285224">[-]</label><label class="expand" for="c-39285224">[1 more]</label></div><br/><div class="children"><div class="content">You can, which makes me wonder why they added the range-over-int functionality when it could have been a function in the proposed iter package:<p><pre><code>   for x := range iter.N(10) { ... }</code></pre></div><br/></div></div></div></div></div></div></div></div><div id="39283355" class="c"><input type="checkbox" id="c-39283355" checked=""/><div class="controls bullet"><span class="by">maximus-decimus</span><span>|</span><a href="#39282980">parent</a><span>|</span><a href="#39283513">prev</a><span>|</span><label class="collapse" for="c-39283355">[-]</label><label class="expand" for="c-39283355">[1 more]</label></div><br/><div class="children"><div class="content">While the phrasing is funny, it&#x27;s really more &quot;we now have a direct equivalent to 10.times in ruby&quot;</div><br/></div></div></div></div></div></div></div></div></div></body></html>