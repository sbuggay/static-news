<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721725254542" as="style"/><link rel="stylesheet" href="styles.css?v=1721725254542"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://kb.databasedesignbook.com/posts/google-calendar/">Database Design for Google Calendar: A Tutorial</a> <span class="domain">(<a href="https://kb.databasedesignbook.com">kb.databasedesignbook.com</a>)</span></div><div class="subtext"><span>fagnerbrack</span> | <span>12 comments</span></div><br/><div><div id="41044009" class="c"><input type="checkbox" id="c-41044009" checked=""/><div class="controls bullet"><span class="by">chandureddyvari</span><span>|</span><a href="#41044011">next</a><span>|</span><label class="collapse" for="c-41044009">[-]</label><label class="expand" for="c-41044009">[1 more]</label></div><br/><div class="children"><div class="content">This article about dealing with recurrence in applications was an eye-opener for me. Definitely recommend giving it a read. <a href="https:&#x2F;&#x2F;github.com&#x2F;bmoeskau&#x2F;Extensible&#x2F;blob&#x2F;master&#x2F;recurrence-overview.md">https:&#x2F;&#x2F;github.com&#x2F;bmoeskau&#x2F;Extensible&#x2F;blob&#x2F;master&#x2F;recurrenc...</a></div><br/></div></div><div id="41044011" class="c"><input type="checkbox" id="c-41044011" checked=""/><div class="controls bullet"><span class="by">bigbones</span><span>|</span><a href="#41044009">prev</a><span>|</span><a href="#41044049">next</a><span>|</span><label class="collapse" for="c-41044011">[-]</label><label class="expand" for="c-41044011">[1 more]</label></div><br/><div class="children"><div class="content">A random event from my calendar serializes to 740 bytes of iCalendar. An extremely busy calendar containing one event every 15 minutes 9am-5pm 7 days per week only contains 11680 entries for a full year, which works out to around 8MB.<p>Would suggest instead of designing a schema at all, a calendar is a good example of a problem that might be far better implemented as a scan. Optimizing an iCalendar parser to traverse a range of dumped events at GB&#x2F;sec-like throughputs would mean the above worst-case calendar could be scanned in single-digit milliseconds.<p>Since optimizing a parser is a much simpler problem to solve once than changing or adding to a bad data model after it has many users, and that the very first task involving your new data model is probably to write an iCalendar importer&#x2F;exporter anyway,  I think this would be a really great trade off.</div><br/></div></div><div id="41044049" class="c"><input type="checkbox" id="c-41044049" checked=""/><div class="controls bullet"><span class="by">evnix</span><span>|</span><a href="#41044011">prev</a><span>|</span><a href="#41043618">next</a><span>|</span><label class="collapse" for="c-41044049">[-]</label><label class="expand" for="c-41044049">[1 more]</label></div><br/><div class="children"><div class="content">Nicely done. This is one of those aspects which is not really touched on in most courses.<p>Will try to get my company to get a few copies of your book for each of our team member.</div><br/></div></div><div id="41043618" class="c"><input type="checkbox" id="c-41043618" checked=""/><div class="controls bullet"><span class="by">LeonB</span><span>|</span><a href="#41044049">prev</a><span>|</span><a href="#41043917">next</a><span>|</span><label class="collapse" for="c-41043618">[-]</label><label class="expand" for="c-41043618">[1 more]</label></div><br/><div class="children"><div class="content">I found this to be a good introduction and a well-chosen domain to demonstrate modelling.<p>The term “anchor” feels kind of weird to me, but the explanation is so concrete&#x2F;grounded (like an actual anchor) that I guess it works well enough.<p>The concept of defining the attributes via a question is solid, great way to get clarity quickly. Too often we jump to a minimal column&#x2F;property name without defining what question we’re trying to answer, and thus not shaking loose any ambiguity in the mind of the customer(s).</div><br/></div></div><div id="41043917" class="c"><input type="checkbox" id="c-41043917" checked=""/><div class="controls bullet"><span class="by">canucker2016</span><span>|</span><a href="#41043618">prev</a><span>|</span><a href="#41043862">next</a><span>|</span><label class="collapse" for="c-41043917">[-]</label><label class="expand" for="c-41043917">[1 more]</label></div><br/><div class="children"><div class="content">Timezones will bend your mind, especially around the transition times.<p>Assuming your timezone jumps forward one hour for daylight savings time and falls back one hour for transition to standard time...<p>When your time skips forward one hour, your 1 hour event may now be displayed as spanning two hours - the second hour will not be reachable&#x2F;does not exist.<p>When your time falls back one hour, your 1 hour event may now show as spanning 2 hours or 0 hours.<p>Timezones are a man-made construct so don&#x27;t hardcode values cause things will change...</div><br/></div></div><div id="41043862" class="c"><input type="checkbox" id="c-41043862" checked=""/><div class="controls bullet"><span class="by">lichtenberger</span><span>|</span><a href="#41043917">prev</a><span>|</span><a href="#41043678">next</a><span>|</span><label class="collapse" for="c-41043862">[-]</label><label class="expand" for="c-41043862">[1 more]</label></div><br/><div class="children"><div class="content">I once implemented the backend of a calendar and resource control for a low code platform.<p>The control is highly customizable, with a lot of views to chose from, daily, monthly, yearly... but also resource views (you can book resources with custom groupings, by plugin, by the resource-ID, whatever...), define &quot;plugins&quot; on the data sources, what&#x27;s the from- and to- columns, the title column, what&#x27;s the resource (may be from a foreign key &#x2F; 1:1 relationship or 1:N if it&#x27;s from a &quot;child&quot; data source or from the same data source&#x2F;table).<p>Furthermore I&#x27;ve implemented different appointment series, to chose from (monthly, weekly (which weekdays), daily...), which column values should be copied. Also appointment conflicts (or only conflicts if they book the same resource). You could also configure buffers before and after appointments where no other appointment can be.<p>That was a lot of fun and also challenge sometimes regarding time zones and summer&#x2F;winter time in Europe and so on :-)</div><br/></div></div><div id="41043678" class="c"><input type="checkbox" id="c-41043678" checked=""/><div class="controls bullet"><span class="by">throwaway211</span><span>|</span><a href="#41043862">prev</a><span>|</span><a href="#41043756">next</a><span>|</span><label class="collapse" for="c-41043678">[-]</label><label class="expand" for="c-41043678">[2 more]</label></div><br/><div class="children"><div class="content">Interesting.<p>How about edits, changes of time and location, who&#x27;s signed up and to which revision.</div><br/><div id="41043709" class="c"><input type="checkbox" id="c-41043709" checked=""/><div class="controls bullet"><span class="by">michaelmior</span><span>|</span><a href="#41043678">parent</a><span>|</span><a href="#41043756">next</a><span>|</span><label class="collapse" for="c-41043709">[-]</label><label class="expand" for="c-41043709">[1 more]</label></div><br/><div class="children"><div class="content">I think edits and changes of time were pretty well discussed (although certainly some details missing).</div><br/></div></div></div></div><div id="41043756" class="c"><input type="checkbox" id="c-41043756" checked=""/><div class="controls bullet"><span class="by">markus_zhang</span><span>|</span><a href="#41043678">prev</a><span>|</span><label class="collapse" for="c-41043756">[-]</label><label class="expand" for="c-41043756">[3 more]</label></div><br/><div class="children"><div class="content">Interesting. I wonder what does a NoSQL one look like?</div><br/><div id="41044070" class="c"><input type="checkbox" id="c-41044070" checked=""/><div class="controls bullet"><span class="by">evnix</span><span>|</span><a href="#41043756">parent</a><span>|</span><a href="#41044054">next</a><span>|</span><label class="collapse" for="c-41044070">[-]</label><label class="expand" for="c-41044070">[1 more]</label></div><br/><div class="children"><div class="content">I call it the &quot;Build now, cry later&quot; approach.</div><br/></div></div><div id="41044054" class="c"><input type="checkbox" id="c-41044054" checked=""/><div class="controls bullet"><span class="by">rcaught</span><span>|</span><a href="#41043756">parent</a><span>|</span><a href="#41044070">prev</a><span>|</span><label class="collapse" for="c-41044054">[-]</label><label class="expand" for="c-41044054">[1 more]</label></div><br/><div class="children"><div class="content">It looks like one you shouldn&#x27;t implement.</div><br/></div></div></div></div></div></div></div></div></div></body></html>