<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1685610079720" as="style"/><link rel="stylesheet" href="styles.css?v=1685610079720"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://neon.tech/blog/when-limit-9-works-but-limit-10-hangs">When LIMIT 9 works but LIMIT 10 hangs</a> <span class="domain">(<a href="https://neon.tech">neon.tech</a>)</span></div><div class="subtext"><span>gmac</span> | <span>73 comments</span></div><br/><div><div id="36140913" class="c"><input type="checkbox" id="c-36140913" checked=""/><div class="controls bullet"><span class="by">jwildeboer</span><span>|</span><a href="#36139433">next</a><span>|</span><label class="collapse" for="c-36140913">[-]</label><label class="expand" for="c-36140913">[4 more]</label></div><br/><div class="children"><div class="content">What I <i>really</i> like about this story is that free and unfettered access to the standard&#x2F;specs, the implementation, the ability to spin up a reproducer, to see <i>all</i> moving parts with X-ray vision, come to a solution and having said solution accepted upstream, all in one go, at your own pace AND being able to share the whole story without needing permission - the power of Open. Not working around bugs in whatever proprietary thing. Mervellieux! Excuse my French. #OpenFTW</div><br/><div id="36144204" class="c"><input type="checkbox" id="c-36144204" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#36140913">parent</a><span>|</span><a href="#36139433">next</a><span>|</span><label class="collapse" for="c-36144204">[-]</label><label class="expand" for="c-36144204">[3 more]</label></div><br/><div class="children"><div class="content">Absolutely.<p>Once upon a time I encountered some small issue (not a bug) with Postgres. I was able to get to the very source of it in the C code, understand what&#x27;s happening, and adjust my code accordingly. It took maybe an hour.<p>Upon doing that, I shuddered, as I remembered troubleshooting an issue (a real confirmed bug) inside Oracle 9. It was by poking in the dark, trying to trigger a condition that made a server process crash, then trying to help Oracle engineers reproduce that. It took a week.</div><br/><div id="36145278" class="c"><input type="checkbox" id="c-36145278" checked=""/><div class="controls bullet"><span class="by">JohnFen</span><span>|</span><a href="#36140913">root</a><span>|</span><a href="#36144204">parent</a><span>|</span><a href="#36139433">next</a><span>|</span><label class="collapse" for="c-36145278">[-]</label><label class="expand" for="c-36145278">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  I was able to get to the very source of it in the C code, understand what&#x27;s happening, and adjust my code accordingly.<p>The ability to do this has saved my bacon on more than one occasion. It&#x27;s why (outside of work I do for an employer) I won&#x27;t develop using libraries&#x2F;frameworks that I don&#x27;t have the source code to.</div><br/><div id="36147203" class="c"><input type="checkbox" id="c-36147203" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#36140913">root</a><span>|</span><a href="#36145278">parent</a><span>|</span><a href="#36139433">next</a><span>|</span><label class="collapse" for="c-36147203">[-]</label><label class="expand" for="c-36147203">[1 more]</label></div><br/><div class="children"><div class="content">Indeed. Adding a significant  closed-source component to the tech stack would require <i>a ton</i> of strong and unique advantages to jusufy it. Very, very few things paas this test.</div><br/></div></div></div></div></div></div></div></div><div id="36139433" class="c"><input type="checkbox" id="c-36139433" checked=""/><div class="controls bullet"><span class="by">fnordpiglet</span><span>|</span><a href="#36140913">prev</a><span>|</span><a href="#36138905">next</a><span>|</span><label class="collapse" for="c-36139433">[-]</label><label class="expand" for="c-36139433">[6 more]</label></div><br/><div class="children"><div class="content">I originally thought this would be a story about query optimizers and their stupidity in the face of the banal. But it was infinitely better!  I’ve never had the chance to decrypt tls with wireshark so bookmarking for future reference.<p>I’m a little surprised at the statement that ~10%+ performance on a transport protocol isn’t worth it. 1 million frames doesn’t seem like that much, and some workloads see these things scaled out as front end servers mostly managing stuff like websockets &#x2F; JSON &#x2F; utf nonsense.  I’d argue if it’s deep in the kernel of execution and well abstracted in the higher level logic a cryptic bit fiddle with a comment, even perhaps with it’s more common equivalent in the comment, might be worth while.<p>That leads me to the ultimate question: what was the Pokémon table used for?</div><br/><div id="36139639" class="c"><input type="checkbox" id="c-36139639" checked=""/><div class="controls bullet"><span class="by">gmac</span><span>|</span><a href="#36139433">parent</a><span>|</span><a href="#36138905">next</a><span>|</span><label class="collapse" for="c-36139639">[-]</label><label class="expand" for="c-36139639">[5 more]</label></div><br/><div class="children"><div class="content">&gt; I’m a little surprised at the statement that ~10%+ performance on a transport protocol isn’t worth it.<p>Well, depending on which contrast we&#x27;re making, the performance difference on that one line is either 10ms (by which bit-twiddling is faster than Uint8Array.writeUint16BE) or 100ms (by which Uint8Array.writeUInt16BE is faster than DataView.setUint16) per million frames. I don&#x27;t think that&#x27;s going to be anything like 10% of the total CPU time per frame. Unless I&#x27;ve misunderstood your point here?<p>&gt; That leads me to the ultimate question: what was the Pokémon table used for?<p>You know what, I just assumed it was a test data table, but I never asked!</div><br/><div id="36140691" class="c"><input type="checkbox" id="c-36140691" checked=""/><div class="controls bullet"><span class="by">fnordpiglet</span><span>|</span><a href="#36139433">root</a><span>|</span><a href="#36139639">parent</a><span>|</span><a href="#36138905">next</a><span>|</span><label class="collapse" for="c-36140691">[-]</label><label class="expand" for="c-36140691">[4 more]</label></div><br/><div class="children"><div class="content">I guess my time doing low latency work and rust programming makes me see those numbers and want to shave that time off since it’s inside a protocol which you expect to be called millions of times in tight succession potentially dominating the machines performance on a front end node doing nothing but shuttling data. Definitely there will be a lot of other stuff contributing surrounding - but a march of a million miles starts with a single step ;-) certainly in a higher level business logic world I could see not squeezing every cpu cycle and optimizing for clarity of reading, but at very low levels of tight loops (at least in my world) time spent here is time not spent on stuff the developer cares about :-)</div><br/><div id="36148141" class="c"><input type="checkbox" id="c-36148141" checked=""/><div class="controls bullet"><span class="by">tleb_</span><span>|</span><a href="#36139433">root</a><span>|</span><a href="#36140691">parent</a><span>|</span><a href="#36140964">next</a><span>|</span><label class="collapse" for="c-36148141">[-]</label><label class="expand" for="c-36148141">[1 more]</label></div><br/><div class="children"><div class="content">What is being talked about is a single 16-bit write inside a byte buffer. The benchmark delta is 10ns per request (90ns for bit-twiddling vs 100ns for writeUInt16BE).<p>90ns&#x2F;100ns is a lot for this kind of operation, but that comes from JS&#x27; handling of numbers and not a badly optimised routine.</div><br/></div></div><div id="36140964" class="c"><input type="checkbox" id="c-36140964" checked=""/><div class="controls bullet"><span class="by">norir</span><span>|</span><a href="#36139433">root</a><span>|</span><a href="#36140691">parent</a><span>|</span><a href="#36148141">prev</a><span>|</span><a href="#36138905">next</a><span>|</span><label class="collapse" for="c-36140964">[-]</label><label class="expand" for="c-36140964">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I don&#x27;t really understand why they didn&#x27;t just comment out the high level function call (option 3) and inline option 4 below. Then they could have clarity and performance.</div><br/><div id="36141972" class="c"><input type="checkbox" id="c-36141972" checked=""/><div class="controls bullet"><span class="by">gmac</span><span>|</span><a href="#36139433">root</a><span>|</span><a href="#36140964">parent</a><span>|</span><a href="#36138905">next</a><span>|</span><label class="collapse" for="c-36141972">[-]</label><label class="expand" for="c-36141972">[1 more]</label></div><br/><div class="children"><div class="content">Sure, that was also an option. Feel free to submit another PR to the maintainers!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36138905" class="c"><input type="checkbox" id="c-36138905" checked=""/><div class="controls bullet"><span class="by">gmac</span><span>|</span><a href="#36139433">prev</a><span>|</span><a href="#36140025">next</a><span>|</span><label class="collapse" for="c-36138905">[-]</label><label class="expand" for="c-36138905">[3 more]</label></div><br/><div class="children"><div class="content">This is ultimately a story about a WebSockets bug and a classic JS footgun in `new DataView()`. I&#x27;m the post author: AMA.</div><br/><div id="36147107" class="c"><input type="checkbox" id="c-36147107" checked=""/><div class="controls bullet"><span class="by">mmis1000</span><span>|</span><a href="#36138905">parent</a><span>|</span><a href="#36140125">next</a><span>|</span><label class="collapse" for="c-36147107">[-]</label><label class="expand" for="c-36147107">[1 more]</label></div><br/><div class="children"><div class="content">I think the source of problem is in the Uint8Array (or other types arrays) constructor. It has wrong level of abstraction.<p>Instead of Uint8Array take an ArrayBuffer and an offset and a length. There should instead be something like ArrayBufferView to take the offset and length. And Uint8Array just new with the view, and uint8Array.buffer just return the view. Nothing like missing the offset or length would happen again.<p>Besides this, missing a  intermediate level in between is also a security issue. It means there isn&#x27;t a way to pass a partial view to a ArrayBuffer safely to other function. Because typedArray.buffer always give you the full ArrayBuffer.</div><br/></div></div><div id="36140125" class="c"><input type="checkbox" id="c-36140125" checked=""/><div class="controls bullet"><span class="by">projektfu</span><span>|</span><a href="#36138905">parent</a><span>|</span><a href="#36147107">prev</a><span>|</span><a href="#36140025">next</a><span>|</span><label class="collapse" for="c-36140125">[-]</label><label class="expand" for="c-36140125">[1 more]</label></div><br/><div class="children"><div class="content">It seems like NodeJS&#x27; Buffer.buffer (-&gt;ArrayBuffer) contains a footgun as well, in that you can&#x27;t rely on the ArrayBuffer layout being identical to what the user of Buffer sees.</div><br/></div></div></div></div><div id="36140025" class="c"><input type="checkbox" id="c-36140025" checked=""/><div class="controls bullet"><span class="by">Jupe</span><span>|</span><a href="#36138905">prev</a><span>|</span><a href="#36142472">next</a><span>|</span><label class="collapse" for="c-36140025">[-]</label><label class="expand" for="c-36140025">[20 more]</label></div><br/><div class="children"><div class="content">Wait, what?<p><pre><code>  order by random()
</code></pre>
Does that even make sense? Why would anyone ever need this? Better to order by a stored value and randomize the presentation order, IMO.<p>Seems completely dependent on when random() gets evaluated. If it gets evaluated at every inspection of the row during the sort, I&#x27;m little amazed that it hangs some times.</div><br/><div id="36141028" class="c"><input type="checkbox" id="c-36141028" checked=""/><div class="controls bullet"><span class="by">tmoertel</span><span>|</span><a href="#36140025">parent</a><span>|</span><a href="#36140076">next</a><span>|</span><label class="collapse" for="c-36141028">[-]</label><label class="expand" for="c-36141028">[2 more]</label></div><br/><div class="children"><div class="content">The `ORDER BY RANDOM() LIMIT n` idiom is fairly well established for taking a random sample of uniformly distributed rows. It is also easily augmented to take weighted samples: `WHERE weight &gt; 0 ORDER BY -LN(RANDOM())&#x2F;weight LIMIT n`.<p>Queries of this form are easilly parallelized. Most systems that support distributed query processing, for example, optimize ORDER&#x2F;LIMIT n queries such that each worker returns just the top n rows from its partition. These top rows are then merged in a central worker and limited one last time to produce the final result.<p>Even so, if your system supports the TABLESAMPLE clause and offers a formulation that lets you specify your actual distribution of interest (TABLESAMPLE SYSTEM often does not), you&#x27;re probably better off using it.</div><br/><div id="36141315" class="c"><input type="checkbox" id="c-36141315" checked=""/><div class="controls bullet"><span class="by">tmoertel</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36141028">parent</a><span>|</span><a href="#36140076">next</a><span>|</span><label class="collapse" for="c-36141315">[-]</label><label class="expand" for="c-36141315">[1 more]</label></div><br/><div class="children"><div class="content">For anyone who is curious, the weighted sampling logic is the SQL translation of Algorithm A from Efraimidis and Spirakis&#x27;s 2006 paper [1]:<p><pre><code>    Algorithm A
    Input: A population V of weighted items
    Output: A WRS of size n
    1: For each v[i] in V, u[i] = random(0, 1) and k[i] = u^(1&#x2F;w[i])
    2: Select the n items with the largest keys k[i] as a WRS
</code></pre>
Instead of the more direct tanslation of `ORDER BY POW(RANDOM(), (1&#x2F;weight)) DESC`, we use the convenient fact that logarithm is a monotone transform over the positive reals to take the log of the ORDER BY argument without changing the sort order:<p><pre><code>       ORDER BY POW(RANDOM(), (1&#x2F;weight)) DESC
    =&gt; ORDER BY LN(POW(RANDOM(), (1&#x2F;weight))) DESC  -- LN preserves order.
    =&gt; ORDER BY LN(RANDOM()) &#x2F; weight DESC          -- LN(x^a) = LN(x) * a.
    =&gt; ORDER BY -LN(RANDOM()) &#x2F; weight              -- Order by `x DESC` is same as by `-x`.
   
</code></pre>
[1] Pavlos S Efraimidis and Paul G Spirakis. Weighted random sampling with a reservoir. Information Processing Letters, 97(5):181–185, 2006</div><br/></div></div></div></div><div id="36140076" class="c"><input type="checkbox" id="c-36140076" checked=""/><div class="controls bullet"><span class="by">dymk</span><span>|</span><a href="#36140025">parent</a><span>|</span><a href="#36141028">prev</a><span>|</span><a href="#36140331">next</a><span>|</span><label class="collapse" for="c-36140076">[-]</label><label class="expand" for="c-36140076">[12 more]</label></div><br/><div class="children"><div class="content">You&#x27;d use order by random() when you want to get a random sample of rows in a table. Without that, you&#x27;d end up with rows clustered according to some internal value, probably ordered by the primary key.<p>Of course, this is a bad idea if you have a table with lots of rows, and you&#x27;d be better off rolling an N-sided dice M times, where N is the number of rows in the table.</div><br/><div id="36140149" class="c"><input type="checkbox" id="c-36140149" checked=""/><div class="controls bullet"><span class="by">acatton</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140076">parent</a><span>|</span><a href="#36140181">next</a><span>|</span><label class="collapse" for="c-36140149">[-]</label><label class="expand" for="c-36140149">[10 more]</label></div><br/><div class="children"><div class="content">But ORDER BY random() will scan the whole table and assign values.<p>This is the plan I get:<p><pre><code>    Limit (cost=56.39..56.41 rows=10 width=40)
    -&gt; Sort (cost=56.39..59.79 rows=1360 width=40)
    Sort Key: (random())
    -&gt; Seq Scan on test (cost=0.00..27.00 rows=1360 width=40)
</code></pre>
One should use &quot;FROM table TABLESAMPLE SYSTEM (size)&quot;, this is the plan:<p><pre><code>    Sample Scan on test (cost=0.00..5.36 rows=136 width=32)
    Sampling: system (&#x27;10&#x27;::real)
</code></pre>
You can also use different distribution method than &quot;SYSTEM&quot;, and you can make it reproducible with a seed.<p><a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;sql-select.html#SQL-FROM" rel="nofollow">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;sql-select.html#SQL-...</a><p>ORDER BY random() is a really un-optimized bad practice to get a random sample on PostgreSQL. If you use another SQL database, the best thing to do is to use UUIDv4 as primary key, and use &quot;ORDER BY pk LIMIT size&quot;.</div><br/><div id="36140888" class="c"><input type="checkbox" id="c-36140888" checked=""/><div class="controls bullet"><span class="by">tmoertel</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140149">parent</a><span>|</span><a href="#36141631">next</a><span>|</span><label class="collapse" for="c-36140888">[-]</label><label class="expand" for="c-36140888">[1 more]</label></div><br/><div class="children"><div class="content">Note that `FROM table TABLESAMPLE SYSTEM (n&#x2F;N)` is a safe substituion for `ORDER BY random() LIMIT n` only when you don&#x27;t need a sample that&#x27;s guaranteed to be from a uniform distribution of rows. That&#x27;s because TABLESAMPLE SYSTEM samples blocks, not individual rows:<p>&gt; The SYSTEM method does block-level sampling with each block having the specified chance of being selected; all rows in each selected block are returned.</div><br/></div></div><div id="36141631" class="c"><input type="checkbox" id="c-36141631" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140149">parent</a><span>|</span><a href="#36140888">prev</a><span>|</span><a href="#36148035">next</a><span>|</span><label class="collapse" for="c-36141631">[-]</label><label class="expand" for="c-36141631">[3 more]</label></div><br/><div class="children"><div class="content">&gt; If you use another SQL database, the best thing to do is to use UUIDv4 as primary key, and use &quot;ORDER BY pk LIMIT size&quot;.<p>What if I want a different random order tomorrow?</div><br/><div id="36144173" class="c"><input type="checkbox" id="c-36144173" checked=""/><div class="controls bullet"><span class="by">acatton</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36141631">parent</a><span>|</span><a href="#36143286">next</a><span>|</span><label class="collapse" for="c-36144173">[-]</label><label class="expand" for="c-36144173">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &gt; If you use another SQL database, the best thing to do is to use UUIDv4 as primary key, and use &quot;ORDER BY pk LIMIT size&quot;.<p>&gt; What if I want a different random order tomorrow?<p>If your data is large, and you want different samples. You can always always &quot;select * from pk &gt; gen_random_uuid() order by pk limit 10&quot;<p>You have a very small chance to get ffffffff-... and get zero elements.<p>This is not perfect, I admit, but ORDER BY random() is one of the most wasteful thing.<p>If getting random samples is very important, the best you can you is migrate to postgres and use TABLESAMPLE.</div><br/></div></div><div id="36143286" class="c"><input type="checkbox" id="c-36143286" checked=""/><div class="controls bullet"><span class="by">__alexs</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36141631">parent</a><span>|</span><a href="#36144173">prev</a><span>|</span><a href="#36148035">next</a><span>|</span><label class="collapse" for="c-36143286">[-]</label><label class="expand" for="c-36143286">[1 more]</label></div><br/><div class="children"><div class="content">Then you sort descending of course &#x2F;s</div><br/></div></div></div></div><div id="36148035" class="c"><input type="checkbox" id="c-36148035" checked=""/><div class="controls bullet"><span class="by">hans_castorp</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140149">parent</a><span>|</span><a href="#36141631">prev</a><span>|</span><a href="#36141437">next</a><span>|</span><label class="collapse" for="c-36148035">[-]</label><label class="expand" for="c-36148035">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  If you use another SQL database<p>Just a side note: TABLESAMPLE is part of the SQL standard, and e.g. Oracle supports this as well.</div><br/></div></div><div id="36141437" class="c"><input type="checkbox" id="c-36141437" checked=""/><div class="controls bullet"><span class="by">wolf550e</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140149">parent</a><span>|</span><a href="#36148035">prev</a><span>|</span><a href="#36141724">next</a><span>|</span><label class="collapse" for="c-36141437">[-]</label><label class="expand" for="c-36141437">[1 more]</label></div><br/><div class="children"><div class="content">order by stored uuidv4 will get you the same rows the next time you run it. If you sample using where random() &lt; 0.001 (or something like that) you&#x27;ll get different rows each time.</div><br/></div></div><div id="36141724" class="c"><input type="checkbox" id="c-36141724" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140149">parent</a><span>|</span><a href="#36141437">prev</a><span>|</span><a href="#36140181">next</a><span>|</span><label class="collapse" for="c-36141724">[-]</label><label class="expand" for="c-36141724">[3 more]</label></div><br/><div class="children"><div class="content">&gt; But ORDER BY random() will scan the whole table and assign values.<p>Er, no, it will assign values to the result set, which may not involve a full table scan.</div><br/><div id="36144205" class="c"><input type="checkbox" id="c-36144205" checked=""/><div class="controls bullet"><span class="by">acatton</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36141724">parent</a><span>|</span><a href="#36140181">next</a><span>|</span><label class="collapse" for="c-36144205">[-]</label><label class="expand" for="c-36144205">[2 more]</label></div><br/><div class="children"><div class="content">Good point, but in the case of OP, without condition, it will do a full table scan.<p>Also, any case of &quot;WHERE filter ORDER BY random() LIMIT n&quot; means &quot;I want a tiny sample from a broad filter&quot;. So it might not be a full table scan, but it will still assign value to a lot of rows.</div><br/><div id="36145826" class="c"><input type="checkbox" id="c-36145826" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36144205">parent</a><span>|</span><a href="#36140181">next</a><span>|</span><label class="collapse" for="c-36145826">[-]</label><label class="expand" for="c-36145826">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Good point, but in the case of OP, without condition, it will do a full table scan.<p>And that has nothing to do with the ORDER BY random().</div><br/></div></div></div></div></div></div></div></div><div id="36140181" class="c"><input type="checkbox" id="c-36140181" checked=""/><div class="controls bullet"><span class="by">Jupe</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140076">parent</a><span>|</span><a href="#36140149">prev</a><span>|</span><a href="#36140331">next</a><span>|</span><label class="collapse" for="c-36140181">[-]</label><label class="expand" for="c-36140181">[1 more]</label></div><br/><div class="children"><div class="content">Agreed. (And thanks; never came across this before... ever. in 20 years)<p>I guess some projects need to randomly select a few rows from a table? I was thinking of the wikipedia random topic, but that&#x27;s only one-at-a-time, not a set of records.</div><br/></div></div></div></div><div id="36140331" class="c"><input type="checkbox" id="c-36140331" checked=""/><div class="controls bullet"><span class="by">kevincox</span><span>|</span><a href="#36140025">parent</a><span>|</span><a href="#36140076">prev</a><span>|</span><a href="#36147625">next</a><span>|</span><label class="collapse" for="c-36140331">[-]</label><label class="expand" for="c-36140331">[1 more]</label></div><br/><div class="children"><div class="content">It does make sense. It gets you a non-repeating sample of the table.<p>It is probably not very efficient, but semantically it is fairly straightforward. In fact I thought that &quot;hang&quot; was going to mean &quot;took so long I thought it was hung&quot; but that turned out not be the issue here.</div><br/></div></div><div id="36147625" class="c"><input type="checkbox" id="c-36147625" checked=""/><div class="controls bullet"><span class="by">Merad</span><span>|</span><a href="#36140025">parent</a><span>|</span><a href="#36140331">prev</a><span>|</span><a href="#36140101">next</a><span>|</span><label class="collapse" for="c-36147625">[-]</label><label class="expand" for="c-36147625">[1 more]</label></div><br/><div class="children"><div class="content">Surprised no one has pointed it out, but the queries involve Pokémon. According to a quick Google search there are a grand total of ~800 different Pokémon. You aren&#x27;t wrong, but a table scan over 800 rows isn&#x27;t exactly worth worrying about.</div><br/></div></div><div id="36140101" class="c"><input type="checkbox" id="c-36140101" checked=""/><div class="controls bullet"><span class="by">acatton</span><span>|</span><a href="#36140025">parent</a><span>|</span><a href="#36147625">prev</a><span>|</span><a href="#36140601">next</a><span>|</span><label class="collapse" for="c-36140101">[-]</label><label class="expand" for="c-36140101">[2 more]</label></div><br/><div class="children"><div class="content">Yeah. It&#x27;s odd that you got down-voted for this comment. &quot;ORDER BY random() LIMIT 10&quot; is known to be slow on large tables. The correct way to do get a random sample is to use &quot;SELECT ... FROM table TABLESAMPLE SYSTEM (10)&quot; <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;sql-select.html#SQL-FROM" rel="nofollow">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;sql-select.html#SQL-...</a><p>You can even use a repeatable seed with this method.</div><br/><div id="36140768" class="c"><input type="checkbox" id="c-36140768" checked=""/><div class="controls bullet"><span class="by">tmoertel</span><span>|</span><a href="#36140025">root</a><span>|</span><a href="#36140101">parent</a><span>|</span><a href="#36140601">next</a><span>|</span><label class="collapse" for="c-36140768">[-]</label><label class="expand" for="c-36140768">[1 more]</label></div><br/><div class="children"><div class="content">Note that TABLESAMPLE SYSTEM is not guaranteed to give you a uniform sample, as it samples blocks, whereas ORDER BY RANDOM() LIMIT samples uniformly distributed rows. Some database systems support TABLESAMPLE RESERVOIR to guarantee uniform sampling behavior.</div><br/></div></div></div></div><div id="36140601" class="c"><input type="checkbox" id="c-36140601" checked=""/><div class="controls bullet"><span class="by">awestroke</span><span>|</span><a href="#36140025">parent</a><span>|</span><a href="#36140101">prev</a><span>|</span><a href="#36142472">next</a><span>|</span><label class="collapse" for="c-36140601">[-]</label><label class="expand" for="c-36140601">[1 more]</label></div><br/><div class="children"><div class="content">The hanging query has nothing at all to do with the random ordering. RTFA</div><br/></div></div></div></div><div id="36142472" class="c"><input type="checkbox" id="c-36142472" checked=""/><div class="controls bullet"><span class="by">JdeBP</span><span>|</span><a href="#36140025">prev</a><span>|</span><a href="#36140039">next</a><span>|</span><label class="collapse" for="c-36142472">[-]</label><label class="expand" for="c-36142472">[2 more]</label></div><br/><div class="children"><div class="content">What interests me is <i>why</i> the developers originally thought that interposing a DataView() was a speed improvement, and why the benchmark results at <a href="https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;performance&#x2F;issues&#x2F;2">https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;performance&#x2F;issues&#x2F;2</a> are at odds with the author&#x27;s benchmarks in the headlined article.</div><br/><div id="36143563" class="c"><input type="checkbox" id="c-36143563" checked=""/><div class="controls bullet"><span class="by">Thorrez</span><span>|</span><a href="#36142472">parent</a><span>|</span><a href="#36140039">next</a><span>|</span><label class="collapse" for="c-36143563">[-]</label><label class="expand" for="c-36143563">[1 more]</label></div><br/><div class="children"><div class="content">That link seems to be doing a bunch of writes on the same buffer, but in the blog it&#x27;s just doing a single write on each buffer.</div><br/></div></div></div></div><div id="36140039" class="c"><input type="checkbox" id="c-36140039" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#36142472">prev</a><span>|</span><a href="#36139353">next</a><span>|</span><label class="collapse" for="c-36140039">[-]</label><label class="expand" for="c-36140039">[6 more]</label></div><br/><div class="children"><div class="content">First thing I do when I join a group that has code that writes and reads bytes from the wire is write really big stress tests and keep fixing things till it has 100% reliability, short messages, long messages, slow messages, pipe lined messageds, etc. etc.  There&#x27;s so many bugs where the code fails if len &gt; N, len % N == 0, len &lt; small N, len &lt; what is read, etc.  Like does this mean the driver had never worked for len &gt; 126 or whatever?</div><br/><div id="36140135" class="c"><input type="checkbox" id="c-36140135" checked=""/><div class="controls bullet"><span class="by">gmac</span><span>|</span><a href="#36140039">parent</a><span>|</span><a href="#36140327">next</a><span>|</span><label class="collapse" for="c-36140135">[-]</label><label class="expand" for="c-36140135">[1 more]</label></div><br/><div class="children"><div class="content">Yeah: interestingly, they had a test for the biggest category of frame, but not for the two other categories: <a href="https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;undici&#x2F;blob&#x2F;main&#x2F;test&#x2F;websocket&#x2F;send.js">https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;undici&#x2F;blob&#x2F;main&#x2F;test&#x2F;websocket&#x2F;se...</a><p>The test I contributed is very specific to the frame fix I made, but I should probably go back and contribute more tests in send.js that test other lengths too.</div><br/></div></div><div id="36140327" class="c"><input type="checkbox" id="c-36140327" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#36140039">parent</a><span>|</span><a href="#36140135">prev</a><span>|</span><a href="#36140151">next</a><span>|</span><label class="collapse" for="c-36140327">[-]</label><label class="expand" for="c-36140327">[3 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget the perennial classic: len &gt; N &amp;&amp; len % N == 1<p>Due to off by one error, the last byte of a message is never sent if the message is larger than the buffer or the packet size (or not sent until the next message arrives, for stream protocols)</div><br/><div id="36145364" class="c"><input type="checkbox" id="c-36145364" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#36140039">root</a><span>|</span><a href="#36140327">parent</a><span>|</span><a href="#36140151">next</a><span>|</span><label class="collapse" for="c-36145364">[-]</label><label class="expand" for="c-36145364">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I had a djb net parser my (work) friends wrote that would end up dropping the connection if the last byte read was the byte before the separating comma. <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Netstring" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Netstring</a><p>Only happened with very large database reads so that the 1440 byte segments hit that spot. New manager and he started mocking me during team meetings on why I was so obsessed with these load tests succeeding and then was amazed at the 2 char fix (adding +1 to the read till length call).</div><br/></div></div></div></div><div id="36140151" class="c"><input type="checkbox" id="c-36140151" checked=""/><div class="controls bullet"><span class="by">pacaro</span><span>|</span><a href="#36140039">parent</a><span>|</span><a href="#36140327">prev</a><span>|</span><a href="#36139353">next</a><span>|</span><label class="collapse" for="c-36140151">[-]</label><label class="expand" for="c-36140151">[1 more]</label></div><br/><div class="children"><div class="content">This. And profile guided fuzz testing. Ideally every basis path that serializes&#x2F;deserializes should be tested</div><br/></div></div></div></div><div id="36139353" class="c"><input type="checkbox" id="c-36139353" checked=""/><div class="controls bullet"><span class="by">barrkel</span><span>|</span><a href="#36140039">prev</a><span>|</span><a href="#36147197">next</a><span>|</span><label class="collapse" for="c-36139353">[-]</label><label class="expand" for="c-36139353">[5 more]</label></div><br/><div class="children"><div class="content">Rediscovering memory unsafety through performance chasing. Ah well.</div><br/><div id="36141124" class="c"><input type="checkbox" id="c-36141124" checked=""/><div class="controls bullet"><span class="by">jjnoakes</span><span>|</span><a href="#36139353">parent</a><span>|</span><a href="#36141110">next</a><span>|</span><label class="collapse" for="c-36141124">[-]</label><label class="expand" for="c-36141124">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That 16-bit payload length is actually written somewhere else, as bytes 3 and 4 of Buffer.allocUnsafe()’s global pool. These bytes may well be part of another active buffer, and thus we also stand a good chance of corrupting data elsewhere.<p>No kidding.</div><br/></div></div><div id="36141110" class="c"><input type="checkbox" id="c-36141110" checked=""/><div class="controls bullet"><span class="by">munchler</span><span>|</span><a href="#36139353">parent</a><span>|</span><a href="#36141124">prev</a><span>|</span><a href="#36140202">next</a><span>|</span><label class="collapse" for="c-36141110">[-]</label><label class="expand" for="c-36141110">[2 more]</label></div><br/><div class="children"><div class="content">Seriously. Any design that encourages aliasing of mutable memory like this is just asking for trouble. This is a lesson that the functional programming community has already internalized, but the rest of the world sadly has not.</div><br/><div id="36147364" class="c"><input type="checkbox" id="c-36147364" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#36139353">root</a><span>|</span><a href="#36141110">parent</a><span>|</span><a href="#36140202">next</a><span>|</span><label class="collapse" for="c-36147364">[-]</label><label class="expand" for="c-36147364">[1 more]</label></div><br/><div class="children"><div class="content">Reading about that and the JS runtime just handing out a view into a <i>shared mutable buffer</i> just floored me.<p>That’s so clear dangerous from both a bug and security perspective.</div><br/></div></div></div></div><div id="36140202" class="c"><input type="checkbox" id="c-36140202" checked=""/><div class="controls bullet"><span class="by">JBiserkov</span><span>|</span><a href="#36139353">parent</a><span>|</span><a href="#36141110">prev</a><span>|</span><a href="#36147197">next</a><span>|</span><label class="collapse" for="c-36140202">[-]</label><label class="expand" for="c-36140202">[1 more]</label></div><br/><div class="children"><div class="content">Indeed!<p>&gt; the use of DataView here was an optimization that, though intended to speed things up, actually slowed things down … and broke them utterly in the process.</div><br/></div></div></div></div><div id="36147197" class="c"><input type="checkbox" id="c-36147197" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#36139353">prev</a><span>|</span><a href="#36147232">next</a><span>|</span><label class="collapse" for="c-36147197">[-]</label><label class="expand" for="c-36147197">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t get this whole format of going slowly through one person&#x27;s rambling.<p>Some software which converts some TCP connections to WebSocket didn&#x27;t work because it didn&#x27;t do the WebSocket framing (which is just prepending the size of each message) correctly.<p>The bug in question wasn&#x27;t even well elaborated on as most of the article is spent on looking at what might be going wrong, even though basic unit testing of the framing for its various cases (WebSocket has different framing for different payload sizes) would have triggered the bug immediately.</div><br/></div></div><div id="36147232" class="c"><input type="checkbox" id="c-36147232" checked=""/><div class="controls bullet"><span class="by">blindriver</span><span>|</span><a href="#36147197">prev</a><span>|</span><a href="#36140171">next</a><span>|</span><label class="collapse" for="c-36147232">[-]</label><label class="expand" for="c-36147232">[1 more]</label></div><br/><div class="children"><div class="content">The first thing I would have done is run the query on the database itself. If LIMIT 10 didn&#x27;t encounter any issues, then that would immediately make me assume that the amount of data was causing problems on the web layer.<p>Then it&#x27;s just a matter of tracing the response back from the call to the database backwards until I find the break.</div><br/></div></div><div id="36140171" class="c"><input type="checkbox" id="c-36140171" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#36147232">prev</a><span>|</span><a href="#36146370">next</a><span>|</span><label class="collapse" for="c-36140171">[-]</label><label class="expand" for="c-36140171">[1 more]</label></div><br/><div class="children"><div class="content">Oh hell I think I encountered almost this same bug a few weeks ago, but in python code. A postgres query suddenly stopped working and while fiddling with it I figured out it was only when over the network (local psql worked), and only when the query was long enough. The &quot;fix&quot; I settled on without figuring out the root cause was to change an &quot;AS foobar&quot; to &quot;AS foo&quot; in the SELECT, reducing the total query size.</div><br/></div></div><div id="36146370" class="c"><input type="checkbox" id="c-36146370" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#36140171">prev</a><span>|</span><a href="#36143976">next</a><span>|</span><label class="collapse" for="c-36146370">[-]</label><label class="expand" for="c-36146370">[1 more]</label></div><br/><div class="children"><div class="content">DataView is JIT optimized by both V8 and JSC. Buffer’s write* functions are not, and therefore are slower. The faster but even more complicated approach would likely be to create a single DataView per ArrayBuffer and then set the byteOffset accordingly. Internally, Bun’s Buffer implementation does something like this (it was faster than a C++ implementation as well as a bit-shifting in JS implementation)</div><br/></div></div><div id="36143976" class="c"><input type="checkbox" id="c-36143976" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#36146370">prev</a><span>|</span><a href="#36142535">next</a><span>|</span><label class="collapse" for="c-36143976">[-]</label><label class="expand" for="c-36143976">[2 more]</label></div><br/><div class="children"><div class="content">For the performance footnote...<p>I think the misunderstanding comes from the fact calling .write() on sockets is pretty expensive.   Specifically, if you write a byte or two, then the OS might send a whole packet out onto the network with just those two bytes.<p>If you did that for every tiny websocket message, then you would be sending double the number of packets necessary, with matching CPU overhead.  Double the chance of network losses causing head of line blocking too.<p>So...   Calling .write() should be done for large buffers and as rarely as possible.<p>However, in this case, .writeUInt16BE() doesn&#x27;t send anything onto the network, but presumably the original author has been burned by .write() being expensive before...</div><br/><div id="36147037" class="c"><input type="checkbox" id="c-36147037" checked=""/><div class="controls bullet"><span class="by">iudqnolq</span><span>|</span><a href="#36143976">parent</a><span>|</span><a href="#36142535">next</a><span>|</span><label class="collapse" for="c-36147037">[-]</label><label class="expand" for="c-36147037">[1 more]</label></div><br/><div class="children"><div class="content">I think the author expected that creating a u16 view over a buffer up front and then writing to it would perform better than writing one-off to a single pair as a u16.<p>If they&#x27;re gonna optimize further I think they may as well go all the way through. This&#x27;ll be pretty readable in the context of a binary serializer codebase<p><pre><code>    b[2] = value &gt;&gt;&gt; 8;
    b[3] = value &amp; 0xff;</code></pre></div><br/></div></div></div></div><div id="36142535" class="c"><input type="checkbox" id="c-36142535" checked=""/><div class="controls bullet"><span class="by">williamdclt</span><span>|</span><a href="#36143976">prev</a><span>|</span><a href="#36140632">next</a><span>|</span><label class="collapse" for="c-36142535">[-]</label><label class="expand" for="c-36142535">[1 more]</label></div><br/><div class="children"><div class="content">You can takeaway learnings about web sockets, about DataFrame, about buffers and allocation but…<p>To me, the root cause is “optional arguments are evil”. I don’t blame the undici people, I blame the API design of DataFrame that makes it easier for the dev to not think about these critical parameters that to do it.<p>Optional arguments are much more often than not the wrong API.</div><br/></div></div><div id="36140632" class="c"><input type="checkbox" id="c-36140632" checked=""/><div class="controls bullet"><span class="by">rmbyrro</span><span>|</span><a href="#36142535">prev</a><span>|</span><a href="#36139259">next</a><span>|</span><label class="collapse" for="c-36140632">[-]</label><label class="expand" for="c-36140632">[1 more]</label></div><br/><div class="children"><div class="content">Why do we seem to like torturing ourselves?..</div><br/></div></div><div id="36139259" class="c"><input type="checkbox" id="c-36139259" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#36140632">prev</a><span>|</span><a href="#36139813">next</a><span>|</span><label class="collapse" for="c-36139259">[-]</label><label class="expand" for="c-36139259">[3 more]</label></div><br/><div class="children"><div class="content">Neon open source version is too &quot;unstable&quot; to me though.</div><br/><div id="36139298" class="c"><input type="checkbox" id="c-36139298" checked=""/><div class="controls bullet"><span class="by">nikita</span><span>|</span><a href="#36139259">parent</a><span>|</span><a href="#36139813">next</a><span>|</span><label class="collapse" for="c-36139298">[-]</label><label class="expand" for="c-36139298">[2 more]</label></div><br/><div class="children"><div class="content">How do you run it?</div><br/><div id="36139614" class="c"><input type="checkbox" id="c-36139614" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#36139259">root</a><span>|</span><a href="#36139298">parent</a><span>|</span><a href="#36139813">next</a><span>|</span><label class="collapse" for="c-36139614">[-]</label><label class="expand" for="c-36139614">[1 more]</label></div><br/><div class="children"><div class="content">I use the docker-compose provided via GIthub.</div><br/></div></div></div></div></div></div><div id="36139813" class="c"><input type="checkbox" id="c-36139813" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#36139259">prev</a><span>|</span><a href="#36138674">next</a><span>|</span><label class="collapse" for="c-36139813">[-]</label><label class="expand" for="c-36139813">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m surprised there was no mention of &quot;query planner&quot; in the article. That would be the first thing I would check instead of assuming the driver had a bug.</div><br/><div id="36145667" class="c"><input type="checkbox" id="c-36145667" checked=""/><div class="controls bullet"><span class="by">101011</span><span>|</span><a href="#36139813">parent</a><span>|</span><a href="#36138674">next</a><span>|</span><label class="collapse" for="c-36145667">[-]</label><label class="expand" for="c-36145667">[2 more]</label></div><br/><div class="children"><div class="content">If it was the query planner than I suppose the protocol wouldn&#x27;t have been the way to make it fail</div><br/><div id="36146369" class="c"><input type="checkbox" id="c-36146369" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#36139813">root</a><span>|</span><a href="#36145667">parent</a><span>|</span><a href="#36138674">next</a><span>|</span><label class="collapse" for="c-36146369">[-]</label><label class="expand" for="c-36146369">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes when you think you only changed one variable during a time span, multiple variables may have changed.</div><br/></div></div></div></div></div></div><div id="36138674" class="c"><input type="checkbox" id="c-36138674" checked=""/><div class="controls bullet"><span class="by">nikita</span><span>|</span><a href="#36139813">prev</a><span>|</span><a href="#36139847">next</a><span>|</span><label class="collapse" for="c-36138674">[-]</label><label class="expand" for="c-36138674">[8 more]</label></div><br/><div class="children"><div class="content">Neon CEO here. Happy to answer questions about the serverless driver and beyond.</div><br/><div id="36139206" class="c"><input type="checkbox" id="c-36139206" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36138674">parent</a><span>|</span><a href="#36139394">next</a><span>|</span><label class="collapse" for="c-36139206">[-]</label><label class="expand" for="c-36139206">[2 more]</label></div><br/><div class="children"><div class="content">How does the serverless driver and connection pooling impact pricing? Will it keep instances active and hence run for all of the month?</div><br/><div id="36139244" class="c"><input type="checkbox" id="c-36139244" checked=""/><div class="controls bullet"><span class="by">nikita</span><span>|</span><a href="#36138674">root</a><span>|</span><a href="#36139206">parent</a><span>|</span><a href="#36139394">next</a><span>|</span><label class="collapse" for="c-36139244">[-]</label><label class="expand" for="c-36139244">[1 more]</label></div><br/><div class="children"><div class="content">No, the compute shuts down on inactivity in 5 minutes regardless of active connections.</div><br/></div></div></div></div><div id="36139394" class="c"><input type="checkbox" id="c-36139394" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36138674">parent</a><span>|</span><a href="#36139206">prev</a><span>|</span><a href="#36139117">next</a><span>|</span><label class="collapse" for="c-36139394">[-]</label><label class="expand" for="c-36139394">[1 more]</label></div><br/><div class="children"><div class="content">AWS released Aurora I&#x2F;O-Optimized that for a higher storage cost no longer charges for I&#x2F;O (quoted 40% savings).<p>Is such a mode being considered for Neon? If not, will there be future adjustments in pricing?</div><br/></div></div><div id="36139117" class="c"><input type="checkbox" id="c-36139117" checked=""/><div class="controls bullet"><span class="by">ddorian43</span><span>|</span><a href="#36138674">parent</a><span>|</span><a href="#36139394">prev</a><span>|</span><a href="#36139847">next</a><span>|</span><label class="collapse" for="c-36139117">[-]</label><label class="expand" for="c-36139117">[4 more]</label></div><br/><div class="children"><div class="content">I see you support timescaledb extension.<p>How does that work? Is a &quot;chunk&quot; in timescaledb split into &quot;pages&quot; and just streamed from S3?</div><br/><div id="36139163" class="c"><input type="checkbox" id="c-36139163" checked=""/><div class="controls bullet"><span class="by">nikita</span><span>|</span><a href="#36138674">root</a><span>|</span><a href="#36139117">parent</a><span>|</span><a href="#36139847">next</a><span>|</span><label class="collapse" for="c-36139163">[-]</label><label class="expand" for="c-36139163">[3 more]</label></div><br/><div class="children"><div class="content">Neon works at the storage level: <a href="https:&#x2F;&#x2F;neon.tech&#x2F;docs&#x2F;introduction&#x2F;architecture-overview" rel="nofollow">https:&#x2F;&#x2F;neon.tech&#x2F;docs&#x2F;introduction&#x2F;architecture-overview</a><p>So all extensions including Timescale work. Postgres does the heavy lifting</div><br/><div id="36140054" class="c"><input type="checkbox" id="c-36140054" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#36138674">root</a><span>|</span><a href="#36139163">parent</a><span>|</span><a href="#36139847">next</a><span>|</span><label class="collapse" for="c-36140054">[-]</label><label class="expand" for="c-36140054">[2 more]</label></div><br/><div class="children"><div class="content">Does this affect ACID guarantees at all? Could Postgres ever expect to read back a page with currently-changing data from the Pageserver before those changes get propagated there? Will the Pageserver cluster block I&#x2F;O if it’s waiting on a page to reach a consistent state?</div><br/><div id="36140093" class="c"><input type="checkbox" id="c-36140093" checked=""/><div class="controls bullet"><span class="by">nikita</span><span>|</span><a href="#36138674">root</a><span>|</span><a href="#36140054">parent</a><span>|</span><a href="#36139847">next</a><span>|</span><label class="collapse" for="c-36140093">[-]</label><label class="expand" for="c-36140093">[1 more]</label></div><br/><div class="children"><div class="content">Neon is as consistent as Postgres. B&#x2F;c it&#x27;s Postgres. All we did was swapping storage.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36139689" class="c"><input type="checkbox" id="c-36139689" checked=""/><div class="controls bullet"><span class="by">irrational</span><span>|</span><a href="#36139847">prev</a><span>|</span><label class="collapse" for="c-36139689">[-]</label><label class="expand" for="c-36139689">[3 more]</label></div><br/><div class="children"><div class="content">This is the first time I’ve ever seen anyone describe themselves as a “typescript developer”. Though, I do recall hearing people call themselves Java developers in the past. I guess I’m more used to terms like senior developer, backend developer, web developer, etc. rather than a particular language developer.</div><br/><div id="36140088" class="c"><input type="checkbox" id="c-36140088" checked=""/><div class="controls bullet"><span class="by">phpnode</span><span>|</span><a href="#36139689">parent</a><span>|</span><a href="#36139991">next</a><span>|</span><label class="collapse" for="c-36140088">[-]</label><label class="expand" for="c-36140088">[1 more]</label></div><br/><div class="children"><div class="content">Even worse, I’m a typescript <i>consultant</i></div><br/></div></div><div id="36139991" class="c"><input type="checkbox" id="c-36139991" checked=""/><div class="controls bullet"><span class="by">jjeaff</span><span>|</span><a href="#36139689">parent</a><span>|</span><a href="#36140088">prev</a><span>|</span><label class="collapse" for="c-36139991">[-]</label><label class="expand" for="c-36139991">[1 more]</label></div><br/><div class="children"><div class="content">A web&#x2F;frontend developer is always a typescript developer if the job you are applying for is looking for someone with typescript experience.</div><br/></div></div></div></div></div></div></div></div></div></body></html>