<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695286863102" as="style"/><link rel="stylesheet" href="styles.css?v=1695286863102"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://electric-sql.com/">Show HN: ElectricSQL, Postgres to SQLite active-active sync for local-first apps</a> <span class="domain">(<a href="https://electric-sql.com">electric-sql.com</a>)</span></div><div class="subtext"><span>samwillis</span> | <span>89 comments</span></div><br/><div><div id="37590034" class="c"><input type="checkbox" id="c-37590034" checked=""/><div class="controls bullet"><span class="by">obeavs</span><span>|</span><a href="#37585535">next</a><span>|</span><label class="collapse" for="c-37590034">[-]</label><label class="expand" for="c-37590034">[2 more]</label></div><br/><div class="children"><div class="content">Huge congrats to the team. I reached out to them four or five months ago as we explored offline-first frameworks, and its awesome to see how far they&#x27;ve come in a short time.<p>We didnt find anyone else who was tackling the tie between client-side SQLite,  an open source CRDT&#x2F;sync layer, and Postgres. We found a few who were attempting to manage this in a closed source way, but it didn&#x27;t make sense to give up control of the server&#x2F;auth, and every other fully open source solution was SQLite -&gt; SQLite, not Postgres.<p>Great stuff from some killer engineers.</div><br/><div id="37590390" class="c"><input type="checkbox" id="c-37590390" checked=""/><div class="controls bullet"><span class="by">roncesvalles</span><span>|</span><a href="#37590034">parent</a><span>|</span><a href="#37585535">next</a><span>|</span><label class="collapse" for="c-37590390">[-]</label><label class="expand" for="c-37590390">[1 more]</label></div><br/><div class="children"><div class="content">Conceptually sounds like this is what Firebase, Couchbase Lite, and Mongo Reach do in the NoSQL world.</div><br/></div></div></div></div><div id="37585535" class="c"><input type="checkbox" id="c-37585535" checked=""/><div class="controls bullet"><span class="by">canadiantim</span><span>|</span><a href="#37590034">prev</a><span>|</span><a href="#37587852">next</a><span>|</span><label class="collapse" for="c-37585535">[-]</label><label class="expand" for="c-37585535">[10 more]</label></div><br/><div class="children"><div class="content">I want to be able to have a Postgres database as the central source of truth for all data and user accounts, but then have each users private content to be siloed and synced to their own SQLite database which they alone have access to (maybe even they’re have one SQLite file on server and one SQLite file on phone or etc.). Is this possible with electricSQL? I remember looking at it a year ago or so and was excited but not sure if worked for my use case. Great work tho looks really good and very much in line with what I’d like to be able to do.<p>Also is there a way to transition an existing Postgres data base into using electicsql?</div><br/><div id="37585722" class="c"><input type="checkbox" id="c-37585722" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37585535">parent</a><span>|</span><a href="#37586767">next</a><span>|</span><label class="collapse" for="c-37585722">[-]</label><label class="expand" for="c-37585722">[4 more]</label></div><br/><div class="children"><div class="content">Hey,<p>This is the exact pattern we target :)<p>Drop Electric onto an existing Postgres data model and use the Shape-based sync to manage dynamic partial replication of subsets of data between central Postgres and local SQLites:
<a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-access&#x2F;shapes" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-access&#x2F;shapes</a><p>James</div><br/><div id="37589244" class="c"><input type="checkbox" id="c-37589244" checked=""/><div class="controls bullet"><span class="by">aidos</span><span>|</span><a href="#37585535">root</a><span>|</span><a href="#37585722">parent</a><span>|</span><a href="#37588707">next</a><span>|</span><label class="collapse" for="c-37589244">[-]</label><label class="expand" for="c-37589244">[2 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch. I’ve been keeping an eye on these sorts of tools for a while and had a look at this after it was mentioned on HN the other day. Looks great.<p>We currently use Hasura subscriptions to pull data to the frontend (effectively select * from table where account_id = X and updated &gt; recently). We then funnel changed rows into mobx objects so we have a lovely object graph to work with.<p>I’m imagining doing the same with electric so I guess you’d use notify to hear that there has been a change, then figure out if it’s in a table you care about and then select the updated records from that to merge into mobx?<p>Basing that off what I see in here: <a href="https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;electric&#x2F;blob&#x2F;main&#x2F;clients&#x2F;typescript&#x2F;src&#x2F;frameworks&#x2F;react&#x2F;hooks&#x2F;useLiveQuery.ts#L189C1-L189C1">https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;electric&#x2F;blob&#x2F;main&#x2F;clients&#x2F;t...</a></div><br/><div id="37589744" class="c"><input type="checkbox" id="c-37589744" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37585535">root</a><span>|</span><a href="#37589244">parent</a><span>|</span><a href="#37588707">next</a><span>|</span><label class="collapse" for="c-37589744">[-]</label><label class="expand" for="c-37589744">[1 more]</label></div><br/><div class="children"><div class="content">Interesting, I don’t know enough about MobX to be sure but yes, you can use the notifier to subscribe to data change notifications and query to get the changed rows.<p>We’d definitely be interested in chatting through the reactivity model you use if you’d be up for it.</div><br/></div></div></div></div><div id="37588707" class="c"><input type="checkbox" id="c-37588707" checked=""/><div class="controls bullet"><span class="by">appplication</span><span>|</span><a href="#37585535">root</a><span>|</span><a href="#37585722">parent</a><span>|</span><a href="#37589244">prev</a><span>|</span><a href="#37586767">next</a><span>|</span><label class="collapse" for="c-37588707">[-]</label><label class="expand" for="c-37588707">[1 more]</label></div><br/><div class="children"><div class="content">This is awesome. I love the pattern, and the way you’ve built for this as a first-class concern is great.</div><br/></div></div></div></div><div id="37586767" class="c"><input type="checkbox" id="c-37586767" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#37585535">parent</a><span>|</span><a href="#37585722">prev</a><span>|</span><a href="#37586254">next</a><span>|</span><label class="collapse" for="c-37586767">[-]</label><label class="expand" for="c-37586767">[1 more]</label></div><br/><div class="children"><div class="content">You could store a SQLite database in a blob column for the user, though this would be an affront to $DEITY.</div><br/></div></div><div id="37586254" class="c"><input type="checkbox" id="c-37586254" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37585535">parent</a><span>|</span><a href="#37586767">prev</a><span>|</span><a href="#37587852">next</a><span>|</span><label class="collapse" for="c-37586254">[-]</label><label class="expand" for="c-37586254">[4 more]</label></div><br/><div class="children"><div class="content">This is also the pattern targeted by PowerSync (disclosure: co-founder) — selectively syncing scoped data for the user from Postgres to their own client SQLite database. Sync Rules are used to define which data is synced to which users: <a href="https:&#x2F;&#x2F;docs.powersync.co&#x2F;usage&#x2F;sync-rules" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.powersync.co&#x2F;usage&#x2F;sync-rules</a></div><br/><div id="37586761" class="c"><input type="checkbox" id="c-37586761" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#37585535">root</a><span>|</span><a href="#37586254">parent</a><span>|</span><a href="#37587852">next</a><span>|</span><label class="collapse" for="c-37586761">[-]</label><label class="expand" for="c-37586761">[3 more]</label></div><br/><div class="children"><div class="content">This is the fifth comment I’ve counted plugging Powersync in this thread. I guess it’s the nature of the startup hustle game but this level of promotion in someone else’s Show HN thread feels a little distasteful. Maybe you could post your own Show HN?</div><br/><div id="37589756" class="c"><input type="checkbox" id="c-37589756" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37585535">root</a><span>|</span><a href="#37586761">parent</a><span>|</span><a href="#37587852">next</a><span>|</span><label class="collapse" for="c-37589756">[-]</label><label class="expand" for="c-37589756">[2 more]</label></div><br/><div class="children"><div class="content">I hear you, thanks for sharing your thoughts and for the suggestion. Noted. I didn’t mean to just plug — I thought I was contributing to the discussion and that some people may find another implementation relevant&#x2F;interesting.</div><br/><div id="37594854" class="c"><input type="checkbox" id="c-37594854" checked=""/><div class="controls bullet"><span class="by">lifty</span><span>|</span><a href="#37585535">root</a><span>|</span><a href="#37589756">parent</a><span>|</span><a href="#37587852">next</a><span>|</span><label class="collapse" for="c-37594854">[-]</label><label class="expand" for="c-37594854">[1 more]</label></div><br/><div class="children"><div class="content">Since you are here, I would love to understand what are the conceptual and architectural differences between ElectricSQL and PowerSync.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37587852" class="c"><input type="checkbox" id="c-37587852" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#37585535">prev</a><span>|</span><a href="#37593363">next</a><span>|</span><label class="collapse" for="c-37587852">[-]</label><label class="expand" for="c-37587852">[10 more]</label></div><br/><div class="children"><div class="content">I saw this recently and I am really excited for, hopefully, a renaissance in local-first apps; it&#x27;s been quite a long time coming. That said, it seems like there&#x27;s still <i>a lot</i> of problems to work on in this space and it&#x27;ll take a while for different approaches and implementations to approach their local maxima.<p>I am curious about encryption. Assuming that ElectricSQL is handling essentially all of the syncing, is it possible to build applications that use end-to-end encryption for some of their state? I am wondering specifically because CRDTs seem to simplify E2EE a lot since well, any client that can write can resolve conflicts any time. I haven&#x27;t looked very deeply yet as I&#x27;ve been very busy, but to me that&#x27;s the main thing I&#x27;ve been really curious about. I know you can at least do this with Y.js which helpfully provides a way to use symmetric encryption for WebRTC synchronization, but this obviously is a whole lot more than that.</div><br/><div id="37588367" class="c"><input type="checkbox" id="c-37588367" checked=""/><div class="controls bullet"><span class="by">samwillis</span><span>|</span><a href="#37587852">parent</a><span>|</span><a href="#37588251">next</a><span>|</span><label class="collapse" for="c-37588367">[-]</label><label class="expand" for="c-37588367">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely, we are really keen to support an encryption pattern. We are at the design phase, the current thinking is to have a hook enabling developers to provided their own encryption callback so that you can have unencrypted data in the local database. Essentially encrypting and decrypting, on and off the sync layer.</div><br/></div></div><div id="37588251" class="c"><input type="checkbox" id="c-37588251" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#37587852">parent</a><span>|</span><a href="#37588367">prev</a><span>|</span><a href="#37588842">next</a><span>|</span><label class="collapse" for="c-37588251">[-]</label><label class="expand" for="c-37588251">[7 more]</label></div><br/><div class="children"><div class="content">You can always encrypt local data even if the metadata is not encrypted. But that restricts it to the device itself by default, not even your other devices on the same account can read it.<p>If you want encrypted and shared with other devices or users you have to surface key management to users which is very difficult to do. Signal and a few others do this but they’re very bespoke to the specific business logic. To provide a general purpose abstraction layer is still an open problem, afaik.</div><br/><div id="37588460" class="c"><input type="checkbox" id="c-37588460" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#37587852">root</a><span>|</span><a href="#37588251">parent</a><span>|</span><a href="#37588842">next</a><span>|</span><label class="collapse" for="c-37588460">[-]</label><label class="expand" for="c-37588460">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not asking for the problem of key derivation to be solved by ElectricSQL per se, just wondering if it can handle E2E encrypted data in any way. That said, I disagree with how difficult it is: there are a lot of approaches that are not too ridiculous. For example, a simple approach to E2EE is to use a PAKE like SRP to do password authentication, then since the password is kept secret, you can use a normal KDF to derive a symmetric key from the password. From here, you can e.g. store symmetric and public key matter on a server or synced across your clients, encrypted using the password&#x2F;KDF. If this sounds familiar, it&#x27;s exactly how password managers work and the main downsides are that it requires password authentication (can&#x27;t use any auth mechanism that doesn&#x27;t somehow discretely convey a secret to the client) and the forgot password situation is more complicated (if you have no backups of the key, you can&#x27;t recover any data. However, that&#x27;s not an unreasonable compromise in exchange for E2EE.)<p>Just like TLS, it&#x27;d probably be bad if most people implemented SRP from scratch. That said, I did write my own implementation of SRP-6a (a variant of SRP based on the RSA cryptosystem) in TypeScript and I found it fairly simple to do.  There are also PAKEs that provide even better security properties than SRP-6a, but good implementations of them are still lacking for now.<p>What Matrix does seems pretty simple, it just has a lot of moving parts and nuance; the underlying keys are essentially sent directly between clients after a key exchange is performed and verified out of band to ensure there is no eavesdropping and that the two clients are connected to who they think they are.<p>As far as I know, Signal sidesteps key management almost entirely and only allows one logged in device, and everything else must proxy through it. That&#x27;s pretty lame, though I understand the stakes are very high to get it &#x27;right&#x27; and keeping the moving parts to a minimum was likely high priority.</div><br/><div id="37590919" class="c"><input type="checkbox" id="c-37590919" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#37587852">root</a><span>|</span><a href="#37588460">parent</a><span>|</span><a href="#37590257">next</a><span>|</span><label class="collapse" for="c-37590919">[-]</label><label class="expand" for="c-37590919">[3 more]</label></div><br/><div class="children"><div class="content">I don’t disagree with your technical assessment per se but I would would not label any of this “pretty simple”, except for special purpose apps with technically competent users.<p>Academically it’s in a decent state, but tech- and UX wise I’d say it’s immature. It virtually penetrates all layers of a normal stack (including layer 8). For apps it’s at least possible but the web is very tricky as a platform for anything e2ee without absurd usage requirements.<p>The tech choices that remain after deciding on an e2ee model are severely limited and language dependent, and spans deeply across persistence layers, software updates, authn, authz, social graphs, moderation etc etc. And even so, there are many subtleties in terms of privacy and information leakage that are often necessary compromises for features that many apps take for granted today. Without any social aspects it’s significantly easier (eg PAKE is best suited for for interactive&#x2F;online two-party operations).</div><br/><div id="37591174" class="c"><input type="checkbox" id="c-37591174" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#37587852">root</a><span>|</span><a href="#37590919">parent</a><span>|</span><a href="#37590257">next</a><span>|</span><label class="collapse" for="c-37591174">[-]</label><label class="expand" for="c-37591174">[2 more]</label></div><br/><div class="children"><div class="content">I do agree that the UX of a lot of E2EE software is pretty bad, and if you wanted to make e.g. a chat application, then yeah, it&#x27;s not necessarily &quot;simple&quot;. In practice it can become quite a mess. And honestly, I think a lot of apps have just done a poorer job than what would&#x27;ve been possible without much hassle because it&#x27;s relatively new territory for a lot of developers.<p>On the other hand though, we&#x27;re talking in the context of local-first apps, and the set of constraints imposed by local-first apps already does limit you substantially. If anything, local-first is more complicated in a lot of regards; in my mind, the worst part about E2EE is trying to keep track of all of the different keys you wind up needing to wrangle, whereas with local-first, usually, you&#x27;re all-but guaranteed to run into CRDTs first-thing, which impose a whole bunch of limitations on the structure of data and the operations you can perform on that data. It is possible to share things in a local-first app, but there are limitations to how much a CRDT-based app can scale for a single document.<p>And that&#x27;s why arguably, it&#x27;s one of the perfect places to add encryption. If you&#x27;re already talking about apps that deal with small-scale documents and that necessarily do most of the work on the client, you may as well encrypt it. All of the clients are &quot;equal&quot; as far as the data structure goes and the server(s) mainly exist to sync to; it&#x27;s perfect.<p>When thinking about the E2EE UX of local-first apps, I think of password managers and not chat applications. I think it&#x27;s closer to the former than the latter in terms of constraints.</div><br/><div id="37594044" class="c"><input type="checkbox" id="c-37594044" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#37587852">root</a><span>|</span><a href="#37591174">parent</a><span>|</span><a href="#37590257">next</a><span>|</span><label class="collapse" for="c-37594044">[-]</label><label class="expand" for="c-37594044">[1 more]</label></div><br/><div class="children"><div class="content">Agree with all of these points. Well put.</div><br/></div></div></div></div></div></div><div id="37590257" class="c"><input type="checkbox" id="c-37590257" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#37587852">root</a><span>|</span><a href="#37588460">parent</a><span>|</span><a href="#37590919">prev</a><span>|</span><a href="#37588842">next</a><span>|</span><label class="collapse" for="c-37590257">[-]</label><label class="expand" for="c-37590257">[2 more]</label></div><br/><div class="children"><div class="content">[IETF] &quot;RFC 9420 a.k.a. Messaging Layer Security&quot; does key revocation and rebroadcast fwiu 
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36815705">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36815705</a><p>W3C DID pubkeys can be stored in a W3C SOLID LDPC:
<a href="https:&#x2F;&#x2F;solid.github.io&#x2F;did-method-solid&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;solid.github.io&#x2F;did-method-solid&#x2F;</a><p>Re: W3C DIDs and PKI systems; CT Certificate Transparency w&#x2F; Merkle hashes in google&#x2F;trillian and edns, keybase pgp -h, blockchain-certificates&#x2F;cert-verifier-js,:  
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36146424">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36146424</a> <a href="https:&#x2F;&#x2F;github.com&#x2F;blockchain-certificates">https:&#x2F;&#x2F;github.com&#x2F;blockchain-certificates</a></div><br/><div id="37590294" class="c"><input type="checkbox" id="c-37590294" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#37587852">root</a><span>|</span><a href="#37590257">parent</a><span>|</span><a href="#37588842">next</a><span>|</span><label class="collapse" for="c-37590294">[-]</label><label class="expand" for="c-37590294">[1 more]</label></div><br/><div class="children"><div class="content">Oh, thanks for this, I hadn&#x27;t heard of RFC 9420 until now and it looks very interesting.</div><br/></div></div></div></div></div></div></div></div><div id="37588842" class="c"><input type="checkbox" id="c-37588842" checked=""/><div class="controls bullet"><span class="by">vmfunction</span><span>|</span><a href="#37587852">parent</a><span>|</span><a href="#37588251">prev</a><span>|</span><a href="#37593363">next</a><span>|</span><label class="collapse" for="c-37588842">[-]</label><label class="expand" for="c-37588842">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for saying this.  I can see this will help app developers to make more apps that can work in airplane mode. More and more we need apps like that.  Why do we need internet for an app to work locally on my computer.  The whole google, meta, apps are just annoying to require the user to be online to work.</div><br/></div></div></div></div><div id="37593363" class="c"><input type="checkbox" id="c-37593363" checked=""/><div class="controls bullet"><span class="by">thanikkal</span><span>|</span><a href="#37587852">prev</a><span>|</span><a href="#37585220">next</a><span>|</span><label class="collapse" for="c-37593363">[-]</label><label class="expand" for="c-37593363">[1 more]</label></div><br/><div class="children"><div class="content">Congratulations to James and the team! 
I reached out to James when they were searching for early adopters for their V2 version, which focuses on PostgreSQL. Our primary business involves developing Line of Business (LOB) applications. We decided to transform our LOB applications into low&#x2F;no-code platforms to empower our customers with extensive customization needs to be self-sufficient.<p>We assessed nearly every new data solution available and ultimately chose Electric. We recognized that the combination of SQLite&#x27;s convenience on the client-side and PostgreSQL&#x27;s flexibility on the server-side is a potent foundation for our work.<p>I&#x27;ve spent years grappling with the challenges of the local-first (lo-fi) approach, particularly when using the PouchDB &lt;-&gt; CouchDB combination to support vital offline features in our Point of Sale tools. While not every feature aligns with the lo-fi concept (even though real-time synchronization status on the client can significantly reduce the need for numerous API end points), having PostgreSQL on the backend grants us access to a wealth of existing tools and support built around PostgreSQL. This assurance provides us with peace of mind, knowing that we won&#x27;t encounter insurmountable obstacles, and any challenges we face will be no more daunting than those encountered in traditional server-based API programming paradigms.<p>I sincerely hope that ElectricSQL achieves the recognition it deserves and can implement many of the ideas outlined in their roadmap documentation. These ideas have the potential to overcome the initial hurdles that have hindered the widespread adoption of the lo-fi approach.<p>In the meantime, we&#x27;re having a great time developing an opinionated, React-based low-code tool (internally, we refer to it as &quot;Visual Basic using React&quot;). We&#x27;re looking forward to leveraging some of the outstanding work done by James&#x27; team thus far!</div><br/></div></div><div id="37585220" class="c"><input type="checkbox" id="c-37585220" checked=""/><div class="controls bullet"><span class="by">addisonj</span><span>|</span><a href="#37593363">prev</a><span>|</span><a href="#37592347">next</a><span>|</span><label class="collapse" for="c-37585220">[-]</label><label class="expand" for="c-37585220">[4 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch and interesting project! I have a lot of questions :)<p>* I am by no means a crdt expert, but from my tinkering I have come to the opinion that the upside of the consistency does come at the cost of ease of understanding how state ends up how it does, which can bleed into user facing issues if how a crdt converges conflicts with intuition. A lot of that seems like an education and design problem and I am curious how you are thinking of talking that? Do you plan on some support for server-first writes for situations where crdt might not fit?<p>* from the docs it seems like adding electric to a table does a migration to add new columns &#x2F; new tables, I assume, to support the crdt, but my other knowledge of crdts is that it can be expensive in terms of size, especially for preserving history. I will have to poke at it to learn more, but I do wonder where you think you <i>shouldn&#x27;t</i> enable electric?<p>* I am curious at the commercial model? Are you going full cloud service like Supabase&#x2F;neon? Or just host the elixir component?<p>I will keep poking, but really really interesting!</div><br/><div id="37585672" class="c"><input type="checkbox" id="c-37585672" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37585220">parent</a><span>|</span><a href="#37592347">next</a><span>|</span><label class="collapse" for="c-37585672">[-]</label><label class="expand" for="c-37585672">[3 more]</label></div><br/><div class="children"><div class="content">Hey, thanks :)<p>We have a Discord if you fancy chatting at more length!
<a href="https:&#x2F;&#x2F;discord.electric-sql.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;discord.electric-sql.com</a><p>Re: CRDTs and intuition, yup, there&#x27;s trade offs. We are working hard to deliver a solid model to code against. So we have finality of local writes and standard relational integrity guarantees. You can read a bit more about some of techniques here <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2022&#x2F;05&#x2F;03&#x2F;introducing-rich-crdts" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2022&#x2F;05&#x2F;03&#x2F;introducing-rich-cr...</a><p>Re: electrify yes, we create a shadow table and some operation log tables etc. So there is some storage amplification but it&#x27;s of the order of 2x (we use operational based CRDTs and we garbage collect the operation log). We see the fit being with standard OLTP workloads, mainstream relational apps. We don&#x27;t target high volume data ingestion, etc.<p>Re: commercial model, we&#x27;re designed for open source self-host. We see Electric as a drop in sync layer, not as a full stack backend-as-a-service. Lots of options but concentrating on product for now.</div><br/><div id="37589901" class="c"><input type="checkbox" id="c-37589901" checked=""/><div class="controls bullet"><span class="by">irq-1</span><span>|</span><a href="#37585220">root</a><span>|</span><a href="#37585672">parent</a><span>|</span><a href="#37592347">next</a><span>|</span><label class="collapse" for="c-37589901">[-]</label><label class="expand" for="c-37589901">[2 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t making a backend service be better all around? All CRDT data could be stored elsewhere. The service could be easily updated and changed, and without changes the database. Any database could be used. Could have LDAP integration and other services.<p>I&#x27;m sure I don&#x27;t understand CRDTs. Can they be used with database changes that are not part of the CRDT history? That is, can they be added to an existing database with other clients?</div><br/><div id="37591148" class="c"><input type="checkbox" id="c-37591148" checked=""/><div class="controls bullet"><span class="by">kiitos</span><span>|</span><a href="#37585220">root</a><span>|</span><a href="#37589901">parent</a><span>|</span><a href="#37592347">next</a><span>|</span><label class="collapse" for="c-37591148">[-]</label><label class="expand" for="c-37591148">[1 more]</label></div><br/><div class="children"><div class="content">A CRDT is a discrete entity&#x2F;object that has to follow a set of rules for reads, writes, and storage -- including, but not limited to, rules about how to maintain history. You can certainly mix-and-match CRDTs with other entities in the same database, but you can&#x27;t like &quot;fold in&quot; arbitrary changes to a CRDT without following the rules.</div><br/></div></div></div></div></div></div></div></div><div id="37592347" class="c"><input type="checkbox" id="c-37592347" checked=""/><div class="controls bullet"><span class="by">TeeWEE</span><span>|</span><a href="#37585220">prev</a><span>|</span><a href="#37584395">next</a><span>|</span><label class="collapse" for="c-37592347">[-]</label><label class="expand" for="c-37592347">[2 more]</label></div><br/><div class="children"><div class="content">Congrats.<p>How does this deal with schema changes? We have a solution where old clients can store objects that have new fields unknown to the client. Then when the clients updates the data is visible.<p>Do you have client libraries for mobile? Swift &amp; Kotlin?<p>Does it support partial sync and fetch when you need an “archived” item? In my experience you only want the “working set” of data on the client. Not everything.<p>Cool work! CRDTs are the solution to this.</div><br/><div id="37594601" class="c"><input type="checkbox" id="c-37594601" checked=""/><div class="controls bullet"><span class="by">vbalegas</span><span>|</span><a href="#37592347">parent</a><span>|</span><a href="#37584395">next</a><span>|</span><label class="collapse" for="c-37594601">[-]</label><label class="expand" for="c-37594601">[1 more]</label></div><br/><div class="children"><div class="content">It works similarly: migrations flow as part of the replication stream and clients apply them immediately, so that new data fits the local schema. New columns and etc might not immediately be exposed to the client app, but everything will works for old clients.<p>You can learn more about our support for migrations here: <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-modelling&#x2F;migrations" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-modelling&#x2F;migration...</a><p>Native clients will be coming a bit later.<p>You can use the shapes to control what data syncs to the device: <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-access&#x2F;shapes" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-access&#x2F;shapes</a></div><br/></div></div></div></div><div id="37584395" class="c"><input type="checkbox" id="c-37584395" checked=""/><div class="controls bullet"><span class="by">koolba</span><span>|</span><a href="#37592347">prev</a><span>|</span><a href="#37594609">next</a><span>|</span><label class="collapse" for="c-37584395">[-]</label><label class="expand" for="c-37584395">[13 more]</label></div><br/><div class="children"><div class="content">Is there any validation or authorization for changes being merged back into the root database?<p>In a traditional client &#x2F; server model, the server has an opportunity to validate each request and optionally reject it. The lower level you go with the sync protocol (data changes vs high level requests) the more difficult that becomes.<p>Have you addressed that and, if so, how? What prevents a malicious client from send arbitrary data streams to get synced into the root database?</div><br/><div id="37584627" class="c"><input type="checkbox" id="c-37584627" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37584395">parent</a><span>|</span><a href="#37586460">next</a><span>|</span><label class="collapse" for="c-37584627">[-]</label><label class="expand" for="c-37584627">[3 more]</label></div><br/><div class="children"><div class="content">Hey,<p>You can see our database rules spec here:
<a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlx" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlx</a><p>We haven&#x27;t implemented it all yet but you can see the intention &#x2F; direction. It&#x27;s similar to RLS but adapted for the context.<p>Connections are authenticated by signed JWT:
<a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;auth" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;auth</a><p>We also auto-generate a type-safe data access client from the electrified subset of the Postgres schema. This applies type-level write validation and will apply general write validation when we get there.<p>James.</div><br/><div id="37585219" class="c"><input type="checkbox" id="c-37585219" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37584627">parent</a><span>|</span><a href="#37586460">next</a><span>|</span><label class="collapse" for="c-37585219">[-]</label><label class="expand" for="c-37585219">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s similar to RLS but adapted for the context.<p>I&#x27;m visiting the docs.<p>&gt; ...This must have at least a user_id claim, which should be a non-empty string matching the primary key UUID of the authenticated user...<p>You should probably strike this from your docs. It sounds like you are still figuring out how this should work.<p>The &quot;right&quot; answer is to author an OIDC authentication module for Postgres and license it in a way that Amazon will steal it for the purposes of actual adoption; or try to add it to PGBouncer as a proxy, converting JWTs in the password field into &quot;set local user.id = ...&quot; and similar in a preamble for every sql statement.<p>Projects like postgrest have been down this journey and spell out their solutions. It&#x27;s all a little vague with Supabase, there isn&#x27;t anything magical about their authorization approach either, but I wouldn&#x27;t keeping looking to them as the gold standard implementation for web backend stuff.<p>Anyway, none of this exists in SQLite, which is a huge pain in the butt. SQLite looks promising, and then it&#x27;s missing all this stuff, because it doesn&#x27;t make any sense for SQLite to have row level security or JWTs or whatever. That&#x27;s the issue isn&#x27;t it? Like why not step back and say, &quot;is SQLite right for me, if it&#x27;s not only missing all these features I need, but also they will never be added to SQLite because it doesn&#x27;t make <i>sense</i> for SQLite to have them?&quot;<p>Separately, when I visit <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;local-first" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;local-first</a>, it&#x27;s ironic, the local first says its latency is 3ms, but because it had to load all this code and stuff, it took longer than 237ms of the &quot;cloud-first&quot; box for that 3ms number to even appear. I&#x27;ve been here before, I was a Meteor developer, I am cognizant of the tradeoffs and what this measurement is saying. There&#x27;s no such thing as a free lunch.</div><br/><div id="37591013" class="c"><input type="checkbox" id="c-37591013" checked=""/><div class="controls bullet"><span class="by">kiwicopple</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37585219">parent</a><span>|</span><a href="#37586460">next</a><span>|</span><label class="collapse" for="c-37591013">[-]</label><label class="expand" for="c-37591013">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Projects like postgrest have been down this journey and spell out their solutions. It&#x27;s all a little vague with Supabase<p>Just in case it&#x27;s not entirely clear: supabase is just PostgreSQL + PostgREST. We contribute to + maintain PostgREST, so if it works with PostgREST it also works with Supabase.<p>&gt; there isn&#x27;t anything magical about their authorization approach either<p>I 100% agree with this, and that&#x27;s intentional. We don&#x27;t want to do anything special here, we want our solutions to be as interoperable as possible with existing approaches</div><br/></div></div></div></div></div></div><div id="37586460" class="c"><input type="checkbox" id="c-37586460" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37584395">parent</a><span>|</span><a href="#37584627">prev</a><span>|</span><a href="#37584549">next</a><span>|</span><label class="collapse" for="c-37586460">[-]</label><label class="expand" for="c-37586460">[5 more]</label></div><br/><div class="children"><div class="content">The route that we went with for PowerSync (disclosure: co-founder) is to allow to define your own function for handling writes, where you would use your (presumably existing) backend application API to persist the writes to Postgres. Therefore you can handle any validation&#x2F;authZ&#x2F;business logic for writes in your backend layer.<p>The PowerSync client SDK still handles the queueing and retrying of writes so that they can be automatically retried if network connectivity is not available — whenever there is a retry, your callback function is called. (As a result of this approach, your write function should be idempotent; we commend using GUIDs or UUIDs generate client-side for primary keys)<p>Similar to Electric, PowerSync also uses JWT for auth against your backend.<p>There are some architecture diagrams explaining this on our docs root here: <a href="https:&#x2F;&#x2F;docs.powersync.co&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.powersync.co&#x2F;</a></div><br/><div id="37592412" class="c"><input type="checkbox" id="c-37592412" checked=""/><div class="controls bullet"><span class="by">cebert</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37586460">parent</a><span>|</span><a href="#37589286">next</a><span>|</span><label class="collapse" for="c-37592412">[-]</label><label class="expand" for="c-37592412">[1 more]</label></div><br/><div class="children"><div class="content">Can you please stop posting as much about PowerSync on a Show HN thread centered on ElectricSQL?</div><br/></div></div><div id="37589286" class="c"><input type="checkbox" id="c-37589286" checked=""/><div class="controls bullet"><span class="by">meiraleal</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37586460">parent</a><span>|</span><a href="#37592412">prev</a><span>|</span><a href="#37584549">next</a><span>|</span><label class="collapse" for="c-37589286">[-]</label><label class="expand" for="c-37589286">[3 more]</label></div><br/><div class="children"><div class="content">You are really taking the expression `shameless plug` to another level in this thread, aren&#x27;t you?</div><br/><div id="37589417" class="c"><input type="checkbox" id="c-37589417" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37589286">parent</a><span>|</span><a href="#37584549">next</a><span>|</span><label class="collapse" for="c-37589417">[-]</label><label class="expand" for="c-37589417">[2 more]</label></div><br/><div class="children"><div class="content">Genuinely excited about this space and it&#x27;s what I&#x27;m focused on full-time so definitely have thoughts to share. I am wary of self-promotion. I do want to contribute things that I feel are relevant to the discussion, since I assume folks would be interested to see different patterns&#x2F;approaches around local-first&#x2F;offline-first architecture.</div><br/><div id="37592301" class="c"><input type="checkbox" id="c-37592301" checked=""/><div class="controls bullet"><span class="by">meiraleal</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37589417">parent</a><span>|</span><a href="#37584549">next</a><span>|</span><label class="collapse" for="c-37592301">[-]</label><label class="expand" for="c-37592301">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Genuinely excited about this space<p>You can only be genuinely excited if you don&#x27;t need to add a link to your product when talking about it. This one was actually your most interesting reply, I shouldn&#x27;t have posted about the high amount of mention to your own competitor project here.</div><br/></div></div></div></div></div></div></div></div><div id="37584549" class="c"><input type="checkbox" id="c-37584549" checked=""/><div class="controls bullet"><span class="by">FrancoisBosun</span><span>|</span><a href="#37584395">parent</a><span>|</span><a href="#37586460">prev</a><span>|</span><a href="#37594609">next</a><span>|</span><label class="collapse" for="c-37584549">[-]</label><label class="expand" for="c-37584549">[4 more]</label></div><br/><div class="children"><div class="content">Not the author, but PostgreSQL has constraint triggers that can run procedures &#x2F; functions on insert&#x2F;update&#x2F;delete, to allow&#x2F;reject a given row or statement. That would be one way to confirm that a given update from a client is valid, from the POV of the application.</div><br/><div id="37584653" class="c"><input type="checkbox" id="c-37584653" checked=""/><div class="controls bullet"><span class="by">koolba</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37584549">parent</a><span>|</span><a href="#37594609">next</a><span>|</span><label class="collapse" for="c-37584653">[-]</label><label class="expand" for="c-37584653">[3 more]</label></div><br/><div class="children"><div class="content">The situation I’m considering is data that matches the referential integrity and check constraints of the database, but is malicious. For example syncing a “salary update to $1M” for yourself into the source database.</div><br/><div id="37584831" class="c"><input type="checkbox" id="c-37584831" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37584653">parent</a><span>|</span><a href="#37594609">next</a><span>|</span><label class="collapse" for="c-37584831">[-]</label><label class="expand" for="c-37584831">[2 more]</label></div><br/><div class="children"><div class="content">Yup, this is what&#x27;s addressed by write permissions. You can express who can set salaries and column level rules to validate input values.<p>When it comes to concurrency problems like not spending money twice, the plan is <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2022&#x2F;05&#x2F;03&#x2F;introducing-rich-crdts#reservations" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2022&#x2F;05&#x2F;03&#x2F;introducing-rich-cr...</a></div><br/><div id="37586168" class="c"><input type="checkbox" id="c-37586168" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#37584395">root</a><span>|</span><a href="#37584831">parent</a><span>|</span><a href="#37594609">next</a><span>|</span><label class="collapse" for="c-37586168">[-]</label><label class="expand" for="c-37586168">[1 more]</label></div><br/><div class="children"><div class="content">Row-level permissions also very useful - e.g. I am allowed to update my own profile, but not someone else&#x27;s.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37594609" class="c"><input type="checkbox" id="c-37594609" checked=""/><div class="controls bullet"><span class="by">m3h</span><span>|</span><a href="#37584395">prev</a><span>|</span><a href="#37594074">next</a><span>|</span><label class="collapse" for="c-37594609">[-]</label><label class="expand" for="c-37594609">[2 more]</label></div><br/><div class="children"><div class="content">Did I just break their conflict-free sync?<p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;MiEWHA9.png" rel="nofollow noreferrer">https:&#x2F;&#x2F;i.imgur.com&#x2F;MiEWHA9.png</a></div><br/><div id="37594723" class="c"><input type="checkbox" id="c-37594723" checked=""/><div class="controls bullet"><span class="by">vbalegas</span><span>|</span><a href="#37594609">parent</a><span>|</span><a href="#37594074">next</a><span>|</span><label class="collapse" for="c-37594723">[-]</label><label class="expand" for="c-37594723">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for playing with our demos and finding this issue!<p>We&#x27;d welcome very much if you could reproduce the steps and report an issue:
GH: <a href="https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;electric&#x2F;issues">https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;electric&#x2F;issues</a>
Discord: <a href="https:&#x2F;&#x2F;discord.com&#x2F;channels&#x2F;933657521581858818&#x2F;1079688869852753981" rel="nofollow noreferrer">https:&#x2F;&#x2F;discord.com&#x2F;channels&#x2F;933657521581858818&#x2F;107968886985...</a></div><br/></div></div></div></div><div id="37594074" class="c"><input type="checkbox" id="c-37594074" checked=""/><div class="controls bullet"><span class="by">davidkuennen</span><span>|</span><a href="#37594609">prev</a><span>|</span><a href="#37586645">next</a><span>|</span><label class="collapse" for="c-37594074">[-]</label><label class="expand" for="c-37594074">[2 more]</label></div><br/><div class="children"><div class="content">Congrats to the team. Very nice project.<p>I&#x27;m interested in your calculation for compute cost savings. You have savings of 40k$ for 2k  queries per second. I&#x27;m currently using GCP CloudSQL (Postgres) and have &gt; 2k requests per second (for tables with billions of rows) for 200$&#x2F;month. Is there a scenario that I&#x27;m overlooking?<p>Edit: Saw the explanation on your website. Apparently you&#x27;re comparing it to AWS Aurora which charges for the amount of queries.</div><br/><div id="37594340" class="c"><input type="checkbox" id="c-37594340" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37594074">parent</a><span>|</span><a href="#37586645">next</a><span>|</span><label class="collapse" for="c-37594340">[-]</label><label class="expand" for="c-37594340">[1 more]</label></div><br/><div class="children"><div class="content">Yup, it&#x27;s not the most sophisticated of cost calculator, obviously there&#x27;s a wide variation in cost savings from reducing query and compute load and the reduction is app specific.<p>edit: we based some of the calculator variables on <a href="https:&#x2F;&#x2F;fauna.com&#x2F;blog&#x2F;compare-aws-aurora-serverless-v2-architecture-features-pricing-vs-fauna" rel="nofollow noreferrer">https:&#x2F;&#x2F;fauna.com&#x2F;blog&#x2F;compare-aws-aurora-serverless-v2-arch...</a></div><br/></div></div></div></div><div id="37586645" class="c"><input type="checkbox" id="c-37586645" checked=""/><div class="controls bullet"><span class="by">ThinkBeat</span><span>|</span><a href="#37594074">prev</a><span>|</span><a href="#37585073">next</a><span>|</span><label class="collapse" for="c-37586645">[-]</label><label class="expand" for="c-37586645">[2 more]</label></div><br/><div class="children"><div class="content">I get dizzy even trying to envision all the edge cases and challenges
making an active - active sync between two different database engines,
over what would be tens of thousands (hundres?) of simultaneous connection to clients via a non-reliable, expect network disconnect, and reconnect from a different location from the same client.<p>If you have managed to pull this off in a way that reliably scales and reliably keeps all the data updated and uncorrupted I am mighty impressed.
My hat off for you folks.<p>How do you handle transactions and rollbacks?</div><br/><div id="37586961" class="c"><input type="checkbox" id="c-37586961" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37586645">parent</a><span>|</span><a href="#37585073">next</a><span>|</span><label class="collapse" for="c-37586961">[-]</label><label class="expand" for="c-37586961">[1 more]</label></div><br/><div class="children"><div class="content">Hey, thanks :) and yup, lots of complexity and engineering. We&#x27;re lucky because we&#x27;re building on a lot of research and previous work.<p>The model is Transactional Causal+ Consistency (TCC+). This has been formally proven to be the strongest possible consistency mode for an AP database system.<p>We have a page on literature here <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;literature" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;literature</a>, which includes the Cure paper <a href="http:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;7536539&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;7536539&#x2F;</a> on TCC+ and the highly available transactions paper <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.14778&#x2F;2732232.2732237" rel="nofollow noreferrer">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.14778&#x2F;2732232.2732237</a><p>Annette Bieniusa, Nuno Preguiça and Marc Shapiro from our team are authors of the Cure work (amongst many other things!).<p>Re: rollbacks, our model is to provide finality of local-writes:
<a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;architecture#local-writes" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;architecture#local-w...</a> -- which means you don&#x27;t have to write rollback handlers.</div><br/></div></div></div></div><div id="37585073" class="c"><input type="checkbox" id="c-37585073" checked=""/><div class="controls bullet"><span class="by">tantaman</span><span>|</span><a href="#37586645">prev</a><span>|</span><a href="#37584945">next</a><span>|</span><label class="collapse" for="c-37585073">[-]</label><label class="expand" for="c-37585073">[3 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch!<p>Looking forward to seeing more people trying out this architecture.<p>Still hoping we can find some time to collaborate on reactivity, tree-sql, typed-sql or some such other effort in the near future.</div><br/><div id="37585196" class="c"><input type="checkbox" id="c-37585196" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37585073">parent</a><span>|</span><a href="#37584945">next</a><span>|</span><label class="collapse" for="c-37585196">[-]</label><label class="expand" for="c-37585196">[2 more]</label></div><br/><div class="children"><div class="content">Thanks :) and yup, definitely, we were digging into the typed-sql repo just the other day.</div><br/><div id="37585268" class="c"><input type="checkbox" id="c-37585268" checked=""/><div class="controls bullet"><span class="by">tantaman</span><span>|</span><a href="#37585073">root</a><span>|</span><a href="#37585196">parent</a><span>|</span><a href="#37584945">next</a><span>|</span><label class="collapse" for="c-37585268">[-]</label><label class="expand" for="c-37585268">[1 more]</label></div><br/><div class="children"><div class="content">Awesome.<p>I&#x27;ve made quite a bit of progress on incremental view maintenance for SQLite which I&#x27;d like to share in the near future if that&#x27;s a problem you&#x27;re also dealing with.</div><br/></div></div></div></div></div></div><div id="37584945" class="c"><input type="checkbox" id="c-37584945" checked=""/><div class="controls bullet"><span class="by">pgm8705</span><span>|</span><a href="#37585073">prev</a><span>|</span><a href="#37593214">next</a><span>|</span><label class="collapse" for="c-37584945">[-]</label><label class="expand" for="c-37584945">[2 more]</label></div><br/><div class="children"><div class="content">Awesome! I&#x27;m looking forward to trying this out. Currently I get this functionality by using PouchDB on the client with a CouchDB sever. Then on my API server I have some janky code in a cron job to sync changes from CouchDB to PostgreSQL.</div><br/><div id="37586058" class="c"><input type="checkbox" id="c-37586058" checked=""/><div class="controls bullet"><span class="by">samwillis</span><span>|</span><a href="#37584945">parent</a><span>|</span><a href="#37593214">next</a><span>|</span><label class="collapse" for="c-37586058">[-]</label><label class="expand" for="c-37586058">[1 more]</label></div><br/><div class="children"><div class="content">Hey, I work at Electric,<p>The CouchDB&#x2F;PouchDB pattern is how I originally got interested in local first, they are such a good tool, but having the full power of Postgres and then SQLite on the client, I believe, is a real game change.<p>Sounds like Electric could be a really good fit for your use case. If want any advice join the Discord and we are happy to help out.</div><br/></div></div></div></div><div id="37593214" class="c"><input type="checkbox" id="c-37593214" checked=""/><div class="controls bullet"><span class="by">zubairq</span><span>|</span><a href="#37584945">prev</a><span>|</span><a href="#37591138">next</a><span>|</span><label class="collapse" for="c-37593214">[-]</label><label class="expand" for="c-37593214">[1 more]</label></div><br/><div class="children"><div class="content">I just looked at the size of Sqlite in the browser as sql.js compared to WASM Sqlite in the broswer. sql.js seems to be over 2MB and WASM sqlite in just 900k, is that right? If so then does this make WASM Sqlite quite a good contender to replace things like Alasql in the browser (which is around 400k). Anyway views on this ?</div><br/></div></div><div id="37591138" class="c"><input type="checkbox" id="c-37591138" checked=""/><div class="controls bullet"><span class="by">roblh</span><span>|</span><a href="#37593214">prev</a><span>|</span><a href="#37592749">next</a><span>|</span><label class="collapse" for="c-37591138">[-]</label><label class="expand" for="c-37591138">[1 more]</label></div><br/><div class="children"><div class="content">Very cool. I haven’t quite worked out how, but I wonder if you could use this for writing really fast integration tests somehow for CI workflows, using some subset of real (or I guess more like curated) data. Also love that the sync layer is Elixir, what a great language.</div><br/></div></div><div id="37592749" class="c"><input type="checkbox" id="c-37592749" checked=""/><div class="controls bullet"><span class="by">Cannabat</span><span>|</span><a href="#37591138">prev</a><span>|</span><a href="#37586630">next</a><span>|</span><label class="collapse" for="c-37592749">[-]</label><label class="expand" for="c-37592749">[2 more]</label></div><br/><div class="children"><div class="content">Product looks excellent, and your website is gorgeous. Kudos!<p>It looks like the &quot;Switch from X&quot; buttons don&#x27;t go anywhere.</div><br/><div id="37593733" class="c"><input type="checkbox" id="c-37593733" checked=""/><div class="controls bullet"><span class="by">danielskogly</span><span>|</span><a href="#37592749">parent</a><span>|</span><a href="#37586630">next</a><span>|</span><label class="collapse" for="c-37593733">[-]</label><label class="expand" for="c-37593733">[1 more]</label></div><br/><div class="children"><div class="content">Also noticed this! Seems like missing `href` on the &quot;Find out how »&quot; buttons</div><br/></div></div></div></div><div id="37586630" class="c"><input type="checkbox" id="c-37586630" checked=""/><div class="controls bullet"><span class="by">vekker</span><span>|</span><a href="#37592749">prev</a><span>|</span><a href="#37593649">next</a><span>|</span><label class="collapse" for="c-37586630">[-]</label><label class="expand" for="c-37586630">[4 more]</label></div><br/><div class="children"><div class="content">Wow, this is awesome! I&#x27;ve been &quot;waiting&quot; for a project like this for years - having to roll out my own syncing solution for my local-first app until now.<p>I have yet to dive deeper in the docs and examples, but does anyone know how easy it would be with Electric to provide some kind of client-side transformations (encryption&#x2F;decryption) of specific fields or entire rows in your SQLite db before syncing? A major reason to go local-first, is often privacy, and the idea that the user owns their data...<p>Also, it&#x27;s unfortunate permissions haven&#x27;t been implemented yet; <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-modelling&#x2F;permissions" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-modelling&#x2F;permissio...</a>
If I understand correctly, that means in a multi-user system, everyone will sync everyone else&#x27;s data?<p>And too bad my favorite stack (Angular + Nest.js backend) isn&#x27;t supported, but I guess it should still be straightforward to integrate the client-side and run the sync service in the backend. I might try it if I have a weekend...</div><br/><div id="37587268" class="c"><input type="checkbox" id="c-37587268" checked=""/><div class="controls bullet"><span class="by">vbalegas</span><span>|</span><a href="#37586630">parent</a><span>|</span><a href="#37593649">next</a><span>|</span><label class="collapse" for="c-37587268">[-]</label><label class="expand" for="c-37587268">[3 more]</label></div><br/><div class="children"><div class="content">Valter from Electric here,<p>Handling encryption&#x2F;decryption of user data is one of our priorities. We&#x27;re thinking along the lines of adding hooks for transforming data as you&#x27;re seeing it.<p>We&#x27;re getting there on permissions implementations. If you want to do row-based filtering based on user_id today, you can add a special column &#x27;electric_user_id&#x27; to your table: <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;roadmap#shapes" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;roadmap#shapes</a><p>We plan to integrate Electric with popular web frameworks: <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;integrations&#x2F;frontend" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;integrations&#x2F;frontend</a>. To integrate with Angular, the client should work out of the box. What you&#x27;d need is to provide is the code for reactivity, which should not be a lot. Reach out on Discord and we can have a chat about it.</div><br/><div id="37587821" class="c"><input type="checkbox" id="c-37587821" checked=""/><div class="controls bullet"><span class="by">mnahkies</span><span>|</span><a href="#37586630">root</a><span>|</span><a href="#37587268">parent</a><span>|</span><a href="#37593649">next</a><span>|</span><label class="collapse" for="c-37587821">[-]</label><label class="expand" for="c-37587821">[2 more]</label></div><br/><div class="children"><div class="content">Are you &#x2F; have you considered leveraging postgres&#x27; row level security for this (row filtering)? Feels like a natural fit for ensuring the right subset of data gets to the right users <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;ddl-rowsecurity.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;ddl-rowsecurity.html</a><p>E2E encryption would also be nice to have, it could be worth having a look at <a href="https:&#x2F;&#x2F;www.etesync.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.etesync.com&#x2F;</a> for inspiration</div><br/><div id="37589965" class="c"><input type="checkbox" id="c-37589965" checked=""/><div class="controls bullet"><span class="by">vbalegas</span><span>|</span><a href="#37586630">root</a><span>|</span><a href="#37587821">parent</a><span>|</span><a href="#37593649">next</a><span>|</span><label class="collapse" for="c-37589965">[-]</label><label class="expand" for="c-37589965">[1 more]</label></div><br/><div class="children"><div class="content">You definitely can do row-level filtering (and a lot more) using DDLX[1], an extension we made to Postgres language that allows expressing flexible permission rules in a data-centric way.<p>[1] <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlx" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlx</a></div><br/></div></div></div></div></div></div></div></div><div id="37593649" class="c"><input type="checkbox" id="c-37593649" checked=""/><div class="controls bullet"><span class="by">jorroll</span><span>|</span><a href="#37586630">prev</a><span>|</span><a href="#37584293">next</a><span>|</span><label class="collapse" for="c-37593649">[-]</label><label class="expand" for="c-37593649">[2 more]</label></div><br/><div class="children"><div class="content">The docs indicate[1] that electric&#x27;s syncing logic, &quot;shapes&quot;, are handled transactionally. How would electric handle an initial sync of 500mb or an initial sync of 10gb?<p><pre><code>  [1]: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-access&#x2F;shapes#data-loading</code></pre></div><br/><div id="37594637" class="c"><input type="checkbox" id="c-37594637" checked=""/><div class="controls bullet"><span class="by">vbalegas</span><span>|</span><a href="#37593649">parent</a><span>|</span><a href="#37584293">next</a><span>|</span><label class="collapse" for="c-37594637">[-]</label><label class="expand" for="c-37594637">[1 more]</label></div><br/><div class="children"><div class="content">Apps with large dataset have their own characteristics: they are more tolerant to slower initial sync. We can resume replication at point-in-time, so even if a shape takes long to load, we can resume replication at the point we started synching the shape.<p>We will be working on the engineering to handle transferring large shapes.</div><br/></div></div></div></div><div id="37584293" class="c"><input type="checkbox" id="c-37584293" checked=""/><div class="controls bullet"><span class="by">alooPotato</span><span>|</span><a href="#37593649">prev</a><span>|</span><a href="#37588864">next</a><span>|</span><label class="collapse" for="c-37584293">[-]</label><label class="expand" for="c-37584293">[8 more]</label></div><br/><div class="children"><div class="content">Can you talk about the dataset sizes you support? Your example linear app has 112 rows, could you support 1000? 10K? 100k? 1M?</div><br/><div id="37584555" class="c"><input type="checkbox" id="c-37584555" checked=""/><div class="controls bullet"><span class="by">samwillis</span><span>|</span><a href="#37584293">parent</a><span>|</span><a href="#37586711">next</a><span>|</span><label class="collapse" for="c-37584555">[-]</label><label class="expand" for="c-37584555">[6 more]</label></div><br/><div class="children"><div class="content">OP here, I work for Electric,<p>Electric is designed to support partial sync, and so you don’t have to sync your whole dataset. (Note that this is feature is under development and not yet public)<p>There are limitations on how much data a browser will store for an individual site, so the number of rows you can sync will depend on the shape of your dataset. Finally there are also some performance considerations with WASM SQLite, this is something the SQLite team are working on in collaboration with the browser developers, particularly with the development of the new OPFS apis which we plan to support as they mature.<p>So, thousands of rows are definitely viable, and we have that working with our own internal development tests. Hundreds of thousands or millions may cause issues right now, but are something we do want to support.</div><br/><div id="37584904" class="c"><input type="checkbox" id="c-37584904" checked=""/><div class="controls bullet"><span class="by">slashdev</span><span>|</span><a href="#37584293">root</a><span>|</span><a href="#37584555">parent</a><span>|</span><a href="#37591804">next</a><span>|</span><label class="collapse" for="c-37584904">[-]</label><label class="expand" for="c-37584904">[3 more]</label></div><br/><div class="children"><div class="content">I wish they didn’t remove sqlite from browsers “because it’s not an open standard”. It was one very important thing in common between mobile and web, and now it’s clunky and slow on web when running over WASM. I don’t see how that was in any way good for users.</div><br/><div id="37585098" class="c"><input type="checkbox" id="c-37585098" checked=""/><div class="controls bullet"><span class="by">tln</span><span>|</span><a href="#37584293">root</a><span>|</span><a href="#37584904">parent</a><span>|</span><a href="#37591804">next</a><span>|</span><label class="collapse" for="c-37585098">[-]</label><label class="expand" for="c-37585098">[2 more]</label></div><br/><div class="children"><div class="content">Yeah but SQLite doesn&#x27;t protect against unlimited CPU use and has historically had issues where &quot;malicious queries&quot; cause crashes -- not OK for a browser to surface to scripts.<p><a href="https:&#x2F;&#x2F;www.sqlite.org&#x2F;cves.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.sqlite.org&#x2F;cves.html</a><p>&gt; Almost all CVEs written against SQLite require the ability to inject and run arbitrary SQL.<p>&gt; The advertised consequence of most CVEs is &quot;denial of service&quot;, typically by causing a crash through a NULL pointer dereference or a division by zero, or similar.<p>&gt; But if an attacker can already run arbitrary SQL, they do not need a bug to cause a denial of service. There are plenty of perfectly legal and valid SQL statements that will consume unlimited CPU, memory, and disk I&#x2F;O in order to create a denial-of-service without requiring help from bugs.<p>&gt; Hence, the mere fact that an attacker has a way to inject and run arbitrary SQL is in and of itself a denial-of-service attack. That the arbitrary SQL might also tickle a bug in SQLite and cause a crash is not a new vulnerability.</div><br/><div id="37585283" class="c"><input type="checkbox" id="c-37585283" checked=""/><div class="controls bullet"><span class="by">slashdev</span><span>|</span><a href="#37584293">root</a><span>|</span><a href="#37585098">parent</a><span>|</span><a href="#37591804">next</a><span>|</span><label class="collapse" for="c-37585283">[-]</label><label class="expand" for="c-37585283">[1 more]</label></div><br/><div class="children"><div class="content">JavaScript can do that too. Web browsers defend against DoS attacks in the browser by popping up an alert asking if you want to kill the tab process or not. I don’t see why sqlite can’t be run under that model as well.</div><br/></div></div></div></div></div></div><div id="37591804" class="c"><input type="checkbox" id="c-37591804" checked=""/><div class="controls bullet"><span class="by">dustingetz</span><span>|</span><a href="#37584293">root</a><span>|</span><a href="#37584555">parent</a><span>|</span><a href="#37584904">prev</a><span>|</span><a href="#37586728">next</a><span>|</span><label class="collapse" for="c-37591804">[-]</label><label class="expand" for="c-37591804">[1 more]</label></div><br/><div class="children"><div class="content">You’re saying you have partial sync already working for browser sized datasets say 5k rows which are an arbitrary subset of server records which are much larger? What limitations are there on the query criteria for client-synced records, can the subset be expressed as an arbitrary join? How do you implement local first on arbitrary join?</div><br/></div></div><div id="37586728" class="c"><input type="checkbox" id="c-37586728" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37584293">root</a><span>|</span><a href="#37584555">parent</a><span>|</span><a href="#37591804">prev</a><span>|</span><a href="#37586711">next</a><span>|</span><label class="collapse" for="c-37586728">[-]</label><label class="expand" for="c-37586728">[1 more]</label></div><br/><div class="children"><div class="content">We wrote a bit about SQLite implementations and associated performance considerations for web here: <a href="https:&#x2F;&#x2F;www.powersync.co&#x2F;blog&#x2F;sqlite-persistence-on-the-web" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.powersync.co&#x2F;blog&#x2F;sqlite-persistence-on-the-web</a></div><br/></div></div></div></div><div id="37586711" class="c"><input type="checkbox" id="c-37586711" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37584293">parent</a><span>|</span><a href="#37584555">prev</a><span>|</span><a href="#37588864">next</a><span>|</span><label class="collapse" for="c-37586711">[-]</label><label class="expand" for="c-37586711">[1 more]</label></div><br/><div class="children"><div class="content">Relevant — PowerSync [1] (similar to Electric; disclosure: co-founder) is currently designed to efficiently sync around 1M rows, or roughly 1GB of uncompressed data. More would be possible, but performance may degrade. In the future we plan on pushing it to handle larger data volumes.<p>[1] <a href="https:&#x2F;&#x2F;docs.powersync.co&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.powersync.co&#x2F;</a></div><br/></div></div></div></div><div id="37588864" class="c"><input type="checkbox" id="c-37588864" checked=""/><div class="controls bullet"><span class="by">vladstudio</span><span>|</span><a href="#37584293">prev</a><span>|</span><a href="#37592069">next</a><span>|</span><label class="collapse" for="c-37588864">[-]</label><label class="expand" for="c-37588864">[3 more]</label></div><br/><div class="children"><div class="content">You might want to update the github star counter on your homepage :-) It said 333 during my visit, while on Github itself it&#x27;s 1.3K already. Congrats!</div><br/><div id="37588970" class="c"><input type="checkbox" id="c-37588970" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37588864">parent</a><span>|</span><a href="#37592069">next</a><span>|</span><label class="collapse" for="c-37588970">[-]</label><label class="expand" for="c-37588970">[2 more]</label></div><br/><div class="children"><div class="content">Hmm, yes, seems like we might need to bust a cache key there :)</div><br/><div id="37589056" class="c"><input type="checkbox" id="c-37589056" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37588864">root</a><span>|</span><a href="#37588970">parent</a><span>|</span><a href="#37592069">next</a><span>|</span><label class="collapse" for="c-37589056">[-]</label><label class="expand" for="c-37589056">[1 more]</label></div><br/><div class="children"><div class="content">Fixed!</div><br/></div></div></div></div></div></div><div id="37592069" class="c"><input type="checkbox" id="c-37592069" checked=""/><div class="controls bullet"><span class="by">zacksiri</span><span>|</span><a href="#37588864">prev</a><span>|</span><a href="#37593570">next</a><span>|</span><label class="collapse" for="c-37592069">[-]</label><label class="expand" for="c-37592069">[1 more]</label></div><br/><div class="children"><div class="content">Do you have any plans on releasing an Ecto Client? Basically What I would like to do is deploy my phoenix app at the edge, and have a postgresql database centralized in some other region. Let&#x27;s say for example my centralized postgresql is in us-west-2 and the client running in ap-southeast-1.<p>Would something like this be possible?</div><br/></div></div><div id="37593570" class="c"><input type="checkbox" id="c-37593570" checked=""/><div class="controls bullet"><span class="by">JaneLovesDotNet</span><span>|</span><a href="#37592069">prev</a><span>|</span><a href="#37591514">next</a><span>|</span><label class="collapse" for="c-37593570">[-]</label><label class="expand" for="c-37593570">[2 more]</label></div><br/><div class="children"><div class="content">Would this work as a tool to sync a central server&#x27;s parts of your postgres data to your distributed webapp backends local-copy, as opposed to all the way to user front-end. i.e. nodejs instead of the browser.<p>Or is there a better tool for that?</div><br/><div id="37594651" class="c"><input type="checkbox" id="c-37594651" checked=""/><div class="controls bullet"><span class="by">vbalegas</span><span>|</span><a href="#37593570">parent</a><span>|</span><a href="#37591514">next</a><span>|</span><label class="collapse" for="c-37594651">[-]</label><label class="expand" for="c-37594651">[1 more]</label></div><br/><div class="children"><div class="content">yes, ElectricSQL works for webapps with nodejs: <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;integrations&#x2F;drivers&#x2F;server&#x2F;node" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;integrations&#x2F;drivers&#x2F;server&#x2F;no...</a></div><br/></div></div></div></div><div id="37591514" class="c"><input type="checkbox" id="c-37591514" checked=""/><div class="controls bullet"><span class="by">j0e1</span><span>|</span><a href="#37593570">prev</a><span>|</span><a href="#37586643">next</a><span>|</span><label class="collapse" for="c-37591514">[-]</label><label class="expand" for="c-37591514">[1 more]</label></div><br/><div class="children"><div class="content">I see OPFS being mentioned a few times by team members. I could not find any estimates on the website, but could any of the folks in the know share any details? I work on an Electron-based text editor which uses the filesystem to manage text files. Something like this would really be useful to me if it supported plain text files.</div><br/></div></div><div id="37586643" class="c"><input type="checkbox" id="c-37586643" checked=""/><div class="controls bullet"><span class="by">mjadobson</span><span>|</span><a href="#37591514">prev</a><span>|</span><a href="#37584800">next</a><span>|</span><label class="collapse" for="c-37586643">[-]</label><label class="expand" for="c-37586643">[2 more]</label></div><br/><div class="children"><div class="content">I am fully on the offline-first bandwagon after starting to use cr-sqlite (<a href="https:&#x2F;&#x2F;vlcn.io" rel="nofollow noreferrer">https:&#x2F;&#x2F;vlcn.io</a>), which works similar to ElectricSQL.<p>I thought the bundle size of wasm-sqlite would be prohibitive, but it&#x27;s surprisingly quick to download and boot. Reducing network reliance solves so many problems and corner-cases in my web app. Having access to local data makes everything very snappy too - the user experience is much better. Even if the user&#x27;s offline data is wiped by the browser (offline storage limits are a bit of a minefield), it is straightforward to get all synced changes back from the server.</div><br/><div id="37589052" class="c"><input type="checkbox" id="c-37589052" checked=""/><div class="controls bullet"><span class="by">tantaman</span><span>|</span><a href="#37586643">parent</a><span>|</span><a href="#37584800">next</a><span>|</span><label class="collapse" for="c-37589052">[-]</label><label class="expand" for="c-37589052">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, 1mb of WASM != 1mb of JS.<p>WASM is much faster to start up since you don&#x27;t have all the parsing and compiling overhead.</div><br/></div></div></div></div><div id="37584800" class="c"><input type="checkbox" id="c-37584800" checked=""/><div class="controls bullet"><span class="by">steida</span><span>|</span><a href="#37586643">prev</a><span>|</span><a href="#37593697">next</a><span>|</span><label class="collapse" for="c-37584800">[-]</label><label class="expand" for="c-37584800">[1 more]</label></div><br/><div class="children"><div class="content">Congrats! The world needs more local-first software, but many find a complete switch hard and practically impossible, so reusing existing Postgres DB is an excellent idea. I suppose there is a space for more solutions; that&#x27;s why Evolu takes a more radical and clean approach with complete privacy by default without opt-out. Also, a dependency on third-party servers should be limited as much as possible, so that&#x27;s why Evolu Server is super simple and generic for all Evolu clients. Another Evolu feature is the simplicity of the code. CRDT shouldn&#x27;t be a black box only people with Ph.D. can understand. So, if anyone is interested in another approach, check <a href="https:&#x2F;&#x2F;github.com&#x2F;evoluhq&#x2F;evolu">https:&#x2F;&#x2F;github.com&#x2F;evoluhq&#x2F;evolu</a>.</div><br/></div></div><div id="37593697" class="c"><input type="checkbox" id="c-37593697" checked=""/><div class="controls bullet"><span class="by">chris-orgmenta</span><span>|</span><a href="#37584800">prev</a><span>|</span><a href="#37586111">next</a><span>|</span><label class="collapse" for="c-37593697">[-]</label><label class="expand" for="c-37593697">[1 more]</label></div><br/><div class="children"><div class="content">This (and powersync) are genuinely so exciting for the react-native ecosystem. This really is the missing piece of the puzzle that we&#x27;ve been waiting for.</div><br/></div></div><div id="37586111" class="c"><input type="checkbox" id="c-37586111" checked=""/><div class="controls bullet"><span class="by">rococosbasilisk</span><span>|</span><a href="#37593697">prev</a><span>|</span><a href="#37587814">next</a><span>|</span><label class="collapse" for="c-37586111">[-]</label><label class="expand" for="c-37586111">[1 more]</label></div><br/><div class="children"><div class="content">Congrats to the team. I&#x27;m on the team over at <a href="https:&#x2F;&#x2F;powersync.co" rel="nofollow noreferrer">https:&#x2F;&#x2F;powersync.co</a> and have been following this space for a while.<p>PowerSync is also a plug-in sync layer. The biggest difference I see is in Electric&#x27;s use of CRDTs, where we don&#x27;t rely on them and instead use server reconciliation.<p>As a team that&#x27;s been working on online&#x2F;offline sync for just over a decade, it&#x27;s great to finally see more products that enable offline-first architectures!</div><br/></div></div><div id="37587814" class="c"><input type="checkbox" id="c-37587814" checked=""/><div class="controls bullet"><span class="by">hultner</span><span>|</span><a href="#37586111">prev</a><span>|</span><a href="#37592707">next</a><span>|</span><label class="collapse" for="c-37587814">[-]</label><label class="expand" for="c-37587814">[2 more]</label></div><br/><div class="children"><div class="content">I have a side project where this would fit perfectly. I’ve for a database in Postgres and my plan have been to sync the data into a local SQLite for a react-native app which needs to work offline and with flaky connections, to then later sync it back into PG.  I have never gotten around to actually build the sync and it looks like this could solve that problem.<p>Does this play nice with RLS? I’m running everything on Postgrest at the moment.</div><br/><div id="37588037" class="c"><input type="checkbox" id="c-37588037" checked=""/><div class="controls bullet"><span class="by">thruflo</span><span>|</span><a href="#37587814">parent</a><span>|</span><a href="#37592707">next</a><span>|</span><label class="collapse" for="c-37588037">[-]</label><label class="expand" for="c-37588037">[1 more]</label></div><br/><div class="children"><div class="content">Hey, cool and yup, that&#x27;s exactly the kind of setup we aim to support and we have drivers for both Expo and React Native.<p>Re: RLS, not quite, you&#x27;ll need to port your rules to our DDLX syntax <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlx" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlx</a> -- which is not fully implemented yet (we&#x27;re working on right now, will be available shortly).</div><br/></div></div></div></div><div id="37592707" class="c"><input type="checkbox" id="c-37592707" checked=""/><div class="controls bullet"><span class="by">adrianotadao</span><span>|</span><a href="#37587814">prev</a><span>|</span><a href="#37585363">next</a><span>|</span><label class="collapse" for="c-37592707">[-]</label><label class="expand" for="c-37592707">[1 more]</label></div><br/><div class="children"><div class="content">Congrats to the team. I’ve tried <a href="https:&#x2F;&#x2F;rxdb.info&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;rxdb.info&#x2F;</a> and it wasn’t funny at all to do the remote replication (PG) and to deal with conflicts. I do need to check this one out!</div><br/></div></div><div id="37585363" class="c"><input type="checkbox" id="c-37585363" checked=""/><div class="controls bullet"><span class="by">pdhborges</span><span>|</span><a href="#37592707">prev</a><span>|</span><a href="#37592993">next</a><span>|</span><label class="collapse" for="c-37585363">[-]</label><label class="expand" for="c-37585363">[1 more]</label></div><br/><div class="children"><div class="content">Congrats to the team. I think it is particularly impressive (and a bit scary) that DDL changes are also synchronized to the clients automatically!</div><br/></div></div><div id="37592993" class="c"><input type="checkbox" id="c-37592993" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#37585363">prev</a><span>|</span><label class="collapse" for="c-37592993">[-]</label><label class="expand" for="c-37592993">[1 more]</label></div><br/><div class="children"><div class="content">Is there a server-side validation layer to guard against users bypassing client-side validations and business logic that are not explicitly enforced in the database schema?</div><br/></div></div></div></div></div></div></div></body></html>