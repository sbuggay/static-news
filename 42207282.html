<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732266086309" as="style"/><link rel="stylesheet" href="styles.css?v=1732266086309"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://emacsninja.com/posts/code-conversion-language.html">Emacs Code Conversion Language</a>Â <span class="domain">(<a href="https://emacsninja.com">emacsninja.com</a>)</span></div><div class="subtext"><span>gudzpoz</span> | <span>13 comments</span></div><br/><div><div id="42208491" class="c"><input type="checkbox" id="c-42208491" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#42210406">next</a><span>|</span><label class="collapse" for="c-42208491">[-]</label><label class="expand" for="c-42208491">[2 more]</label></div><br/><div class="children"><div class="content">Judging by the name and by these opcodes<p><a href="https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;7cb77385d38b96377d404a2ab0e778b2dfce5c77&#x2F;src&#x2F;ccl.c#L690-L692">https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;7cb77385d38b96377...</a><p>it seems to be intended for character set conversion especially JIS.</div><br/><div id="42209720" class="c"><input type="checkbox" id="c-42209720" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#42208491">parent</a><span>|</span><a href="#42210406">next</a><span>|</span><label class="collapse" for="c-42209720">[-]</label><label class="expand" for="c-42209720">[1 more]</label></div><br/><div class="children"><div class="content">More documentation in <a href="https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;7cb77385d38b96377d404a2ab0e778b2dfce5c77&#x2F;lisp&#x2F;international&#x2F;ccl.el">https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;7cb77385d38b96377...</a><p>The directory is lisp&#x2F;international, that already tells something<p><pre><code>   ;; CCL is used for code conversion at process I&#x2F;O and file I&#x2F;O for
   ;; non-standard coding-systems.  In addition, it is used for
   ;; calculating code points of X fonts from character codes.
</code></pre>
And<p><pre><code>   $ find &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F; \! -name ccl.el.gz -name \*.el.gz -exec zgrep ccl- {} +
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;obsolete&#x2F;pgg-parse.el.gz:(when (fboundp &#x27;define-ccl-program)
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;obsolete&#x2F;pgg-parse.el.gz:  (define-ccl-program pgg-parse-crc24
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;obsolete&#x2F;pgg-parse.el.gz:      (ccl-execute-on-string pgg-parse-crc24 h string)
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:specified by the attributes `:ccl-decoder&#x27; and `:ccl-encoder&#x27;.
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:`:ccl-decoder&#x27; (required if :coding-type is `ccl&#x27;)
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:VALUE is a CCL program name defined by `define-ccl-program&#x27;.  The
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:`:ccl-encoder&#x27; (required if :coding-type is `ccl&#x27;)
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:VALUE is a CCL program name defined by `define-ccl-program&#x27;.  The
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:        &#x27;(:ccl-decoder
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:          :ccl-encoder
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:    (plist-put properties :ccl-decoder (car flags))
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;international&#x2F;mule.el.gz:    (plist-put properties :ccl-encoder (cdr flags))))
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;language&#x2F;vietnamese.el.gz:;;  &#x27;(ccl-decode-vps . ccl-encode-vps)
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;language&#x2F;ethiopic.el.gz:(define-ccl-program ccl-encode-ethio-font
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;language&#x2F;ethiopic.el.gz:(setq font-ccl-encoder-alist
   &#x2F;usr&#x2F;share&#x2F;emacs&#x2F;26.3&#x2F;lisp&#x2F;language&#x2F;ethiopic.el.gz:      (cons (cons (purecopy &quot;ethiopic&quot;) ccl-encode-ethio-font) font-ccl-encoder-alist))
</code></pre>
Mule was non-ASCII support in the 1990s before Unicode was a thing.</div><br/></div></div></div></div><div id="42210406" class="c"><input type="checkbox" id="c-42210406" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#42208491">prev</a><span>|</span><a href="#42207709">next</a><span>|</span><label class="collapse" for="c-42210406">[-]</label><label class="expand" for="c-42210406">[1 more]</label></div><br/><div class="children"><div class="content">I have used Emacs since 1986 or so, daily since 1989 (with smaller breaks while working at companies where it was not available). I had no idea this exists.<p>Here is my first CCL program.<p><pre><code>   (define-ccl-program hw
     &#x27;(1
       (loop
        (write r0 [72 101 108 111])
        (r1 += 1)
        (if (r1 == 3) (repeat) ())
        (r0 += 1)
        (if (r0 &lt; 4) (repeat) (break))
        )
       )
       )

   (ccl-execute-on-string
   &#x27;hw
   [0 0 0 0 0 0 0 0 1] &quot;&quot;)

</code></pre>
Tested in *scratch* buffer, worked. Probably not very idiomatic...</div><br/></div></div><div id="42207709" class="c"><input type="checkbox" id="c-42207709" checked=""/><div class="controls bullet"><span class="by">thih9</span><span>|</span><a href="#42210406">prev</a><span>|</span><a href="#42207958">next</a><span>|</span><label class="collapse" for="c-42207709">[-]</label><label class="expand" for="c-42207709">[1 more]</label></div><br/><div class="children"><div class="content">The source code mentioned in the article is well documented and an interesting read too; e.g.:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;master&#x2F;src&#x2F;ccl.c">https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;master&#x2F;src&#x2F;ccl.c</a></div><br/></div></div><div id="42207958" class="c"><input type="checkbox" id="c-42207958" checked=""/><div class="controls bullet"><span class="by">uludag</span><span>|</span><a href="#42207709">prev</a><span>|</span><a href="#42209650">next</a><span>|</span><label class="collapse" for="c-42207958">[-]</label><label class="expand" for="c-42207958">[7 more]</label></div><br/><div class="children"><div class="content">Interesting. I&#x27;ve been using Emacs for 6 years and have never heard of CCL. I would love to read a book on all the strange and fascinating code that Emacs has accumulated over the years.</div><br/><div id="42208132" class="c"><input type="checkbox" id="c-42208132" checked=""/><div class="controls bullet"><span class="by">sourcepluck</span><span>|</span><a href="#42207958">parent</a><span>|</span><a href="#42209650">next</a><span>|</span><label class="collapse" for="c-42208132">[-]</label><label class="expand" for="c-42208132">[6 more]</label></div><br/><div class="children"><div class="content">Yes, it seems ripe for quasi-archaelogical investigations. One tidbit that I couldn&#x27;t believe was that Julian Assange had written an early version of Windmove, or an addition to an early version, or something along those lines.<p>I&#x27;ve nosed through some of the elisp files for the games - little goldmines everywhere in there.</div><br/><div id="42208650" class="c"><input type="checkbox" id="c-42208650" checked=""/><div class="controls bullet"><span class="by">thih9</span><span>|</span><a href="#42207958">root</a><span>|</span><a href="#42208132">parent</a><span>|</span><a href="#42209087">next</a><span>|</span><label class="collapse" for="c-42208650">[-]</label><label class="expand" for="c-42208650">[2 more]</label></div><br/><div class="children"><div class="content">Looks like the details are in the file itself:<p>&gt; Special thanks to Julian Assange (proff@iq.org), whose change-windows-intuitively.el predates Windmove, and provided the inspiration for it.<p>Source: <a href="https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;4823fa1077e4330bd2574eb54731bb32e6370034&#x2F;lisp&#x2F;windmove.el">https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;blob&#x2F;4823fa1077e4330bd...</a><p>change-windows-intuitively: <a href="http:&#x2F;&#x2F;quimby.gnus.org&#x2F;s&#x2F;change-windows-intuitively.el" rel="nofollow">http:&#x2F;&#x2F;quimby.gnus.org&#x2F;s&#x2F;change-windows-intuitively.el</a></div><br/><div id="42210025" class="c"><input type="checkbox" id="c-42210025" checked=""/><div class="controls bullet"><span class="by">sourcepluck</span><span>|</span><a href="#42207958">root</a><span>|</span><a href="#42208650">parent</a><span>|</span><a href="#42209087">next</a><span>|</span><label class="collapse" for="c-42210025">[-]</label><label class="expand" for="c-42210025">[1 more]</label></div><br/><div class="children"><div class="content">Ah thank you, yes, that&#x27;s it. A precursor to windmove, then. Very nice!</div><br/></div></div></div></div><div id="42209087" class="c"><input type="checkbox" id="c-42209087" checked=""/><div class="controls bullet"><span class="by">Conscat</span><span>|</span><a href="#42207958">root</a><span>|</span><a href="#42208132">parent</a><span>|</span><a href="#42208650">prev</a><span>|</span><a href="#42209971">next</a><span>|</span><label class="collapse" for="c-42209087">[-]</label><label class="expand" for="c-42209087">[2 more]</label></div><br/><div class="children"><div class="content">I recently played Emacs tetris, and I was confused by how the tetrominos were selected so I dove into the source code to impress my boyfriend. It turns out that the tetrominos&#x27; behavior is configurable with a defcustom, but by default it chooses to play without the bag rule, making their tetris hard to take seriously as an implementation for competitive play &gt;:c</div><br/><div id="42210060" class="c"><input type="checkbox" id="c-42210060" checked=""/><div class="controls bullet"><span class="by">sourcepluck</span><span>|</span><a href="#42207958">root</a><span>|</span><a href="#42209087">parent</a><span>|</span><a href="#42209971">next</a><span>|</span><label class="collapse" for="c-42210060">[-]</label><label class="expand" for="c-42210060">[1 more]</label></div><br/><div class="children"><div class="content">A. And was he impressed? My S.O. tends to have mixed reactions if I go on about source code too much. It&#x27;s a fine line. She&#x27;s an excellent tetris player though, so maybe this would get a pass.<p>B. I am not a big tetris player (too afraid of the inevitable addiction), but had a game there to see, and am now looking at the source code. ~tetris-allow-repetitions~ just has to be changed to nil, and then it does the correct bag rule behaviour?<p>C. I wonder why Emacs&#x27; tetris default is without the bag rule then... maybe you could submit a patch and propose a tournament? I only learned recently that the platform used for official tournaments is the NES version of Tetris, and now I&#x27;m learning that they use the bag rule. Tetris is more serious than I ever knew.</div><br/></div></div></div></div><div id="42209971" class="c"><input type="checkbox" id="c-42209971" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#42207958">root</a><span>|</span><a href="#42208132">parent</a><span>|</span><a href="#42209087">prev</a><span>|</span><a href="#42209650">next</a><span>|</span><label class="collapse" for="c-42209971">[-]</label><label class="expand" for="c-42209971">[1 more]</label></div><br/><div class="children"><div class="content">Not only archaeological. Some new Android stuff was implemented in CCL only last year.</div><br/></div></div></div></div></div></div><div id="42209650" class="c"><input type="checkbox" id="c-42209650" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#42207958">prev</a><span>|</span><label class="collapse" for="c-42209650">[-]</label><label class="expand" for="c-42209650">[1 more]</label></div><br/><div class="children"><div class="content">Title should say (2019)</div><br/></div></div></div></div></div></div></div></body></html>