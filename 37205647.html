<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1692608464110" as="style"/><link rel="stylesheet" href="styles.css?v=1692608464110"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/serde-rs/serde/releases/tag/v1.0.184">Precompiled binaries removed from serde v1.0.184</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>MallocVoidstar</span> | <span>13 comments</span></div><br/><div><div id="37205937" class="c"><input type="checkbox" id="c-37205937" checked=""/><div class="controls bullet"><span class="by">veec_cas_tant</span><span>|</span><a href="#37206740">next</a><span>|</span><label class="collapse" for="c-37205937">[-]</label><label class="expand" for="c-37205937">[5 more]</label></div><br/><div class="children"><div class="content">See also: <a href="https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;pre-rfc-sandboxed-deterministic-reproducible-efficient-wasm-compilation-of-proc-macros&#x2F;19359" rel="nofollow noreferrer">https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;pre-rfc-sandboxed-determin...</a><p>Authors comment:<p>&gt;&quot;Someone else is always auditing the code and will save me from anything bad in a macro before it would ever run on my machines.&quot; (At one point serde_derive ran an untrusted binary for over 4 weeks across 12 releases before almost anyone became aware. This was plain-as-day code in the crate root; I am confident that professionally obfuscated malicious code would be undetected for years.)<p>He got some hate for that in the replies but I think it is a great point. Pardon my snark, but every &quot;security expert&quot; that voiced their opinion over the last couple of days, yet failed to recognize the situation for almost a month, should reassess their reaction once the anger subsides.<p>The current macro situation is dangerous (and wasteful), hopefully some real progress can be made.</div><br/><div id="37206138" class="c"><input type="checkbox" id="c-37206138" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#37205937">parent</a><span>|</span><a href="#37206854">next</a><span>|</span><label class="collapse" for="c-37206138">[-]</label><label class="expand" for="c-37206138">[1 more]</label></div><br/><div class="children"><div class="content">&gt; (At one point serde_derive ran an untrusted binary for over 4 weeks across 12 releases before almost anyone became aware. This was plain-as-day code in the crate root; I am confident that professionally obfuscated malicious code would be undetected for years.)<p>&gt; Pardon my snark, but every &quot;security expert&quot; that voiced their opinion over the last couple of days, yet failed to recognize the situation for almost a month, should reassess their reaction once the anger subsides.<p>I&#x27;m not a &quot;security expert&quot;, but I wondered why I hadn&#x27;t noticed this situation, since I have the habit of always diffing between the previous and the current version of the crates in ~&#x2F;.cargo&#x2F;registry&#x2F;src whenever cargo tells me it downloaded a new version of a dependency, and a new binary file would stick out like a sore thumb. But real life has intruded for me in the last few weeks, and the last serde_derive on my ~&#x2F;.cargo is still 1.0.166, so it seems I luckily avoided all this mess.<p>(Yes, I know that reviewing the code after it has already compiled is suboptimal, and obfuscated malicious code or even the &quot;new dependency&quot; trick could easily pass through my cursory inspection; but at least it can be reviewed by comparing it with the previous version, unlike a precompiled binary blob where even small changes can lead to a huge difference between one binary and the other, not to mention that comparing objdump disassembly output is painful.)</div><br/></div></div><div id="37206854" class="c"><input type="checkbox" id="c-37206854" checked=""/><div class="controls bullet"><span class="by">junon</span><span>|</span><a href="#37205937">parent</a><span>|</span><a href="#37206138">prev</a><span>|</span><a href="#37206383">next</a><span>|</span><label class="collapse" for="c-37206854">[-]</label><label class="expand" for="c-37206854">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  reassess their reaction once the anger subsides.<p>You have completely missed the point. It is <i>because</i> things go unnoticed that security minded folks are upset. We don&#x27;t get off from finding security problems, we get off on being safe to begin with.</div><br/></div></div><div id="37206383" class="c"><input type="checkbox" id="c-37206383" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37205937">parent</a><span>|</span><a href="#37206854">prev</a><span>|</span><a href="#37206864">next</a><span>|</span><label class="collapse" for="c-37206383">[-]</label><label class="expand" for="c-37206383">[1 more]</label></div><br/><div class="children"><div class="content">If dtolnay planned ahead of time and indeed expected everything, kudos to him, because he had the guts to trade his credence with public good (I don&#x27;t). That said, I would appreciate a confirmation that this is a very exceptional stunt that won&#x27;t be repeated again.</div><br/></div></div><div id="37206864" class="c"><input type="checkbox" id="c-37206864" checked=""/><div class="controls bullet"><span class="by">howinteresting</span><span>|</span><a href="#37205937">parent</a><span>|</span><a href="#37206383">prev</a><span>|</span><a href="#37206740">next</a><span>|</span><label class="collapse" for="c-37206864">[-]</label><label class="expand" for="c-37206864">[1 more]</label></div><br/><div class="children"><div class="content">&gt; before almost anyone became aware<p>This isn&#x27;t a serious comment. It really does not matter whether &quot;almost anyone&quot; became aware, it matters whether the sorts of people who pay attention to this became aware. OS packagers became aware of this super quickly and were working quietly to get this fixed. My understanding is that some security teams at large companies quickly flagged this as well and likely reached out via private channels.<p>The public outrage happened weeks later but it&#x27;s not as if no one was paying attention.</div><br/></div></div></div></div><div id="37206740" class="c"><input type="checkbox" id="c-37206740" checked=""/><div class="controls bullet"><span class="by">hyperman1</span><span>|</span><a href="#37205937">prev</a><span>|</span><a href="#37205855">next</a><span>|</span><label class="collapse" for="c-37206740">[-]</label><label class="expand" for="c-37206740">[1 more]</label></div><br/><div class="children"><div class="content">I feel for him&#x2F;her.  When you provide a usefull service in OSS, this is the result of the slightest transgression, real or imagined.<p>I also think this displays &#x27;emperors clothes&#x27; behaviour.  In a perfect world, many eyeballs make all bugs shallow, and long term, it actually mostly works.  But short term, we collectively severely fall short of our ideals. I think part of the harshness an OSS contributor receives in this kind of situation comes from everyone realizing we&#x27;ve been caught with our pants down.<p>It&#x27;s human to shoot the messenger, but let&#x27;s not forget this only happens because someone worked hard enough to make the whole world trust him or her.</div><br/></div></div><div id="37205855" class="c"><input type="checkbox" id="c-37205855" checked=""/><div class="controls bullet"><span class="by">X-Istence</span><span>|</span><a href="#37206740">prev</a><span>|</span><a href="#37205746">next</a><span>|</span><label class="collapse" for="c-37205855">[-]</label><label class="expand" for="c-37205855">[1 more]</label></div><br/><div class="children"><div class="content">This provides some additional context for why the pre-built binary was added:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;serde-rs&#x2F;serde&#x2F;issues&#x2F;2584#issue-1858075241">https:&#x2F;&#x2F;github.com&#x2F;serde-rs&#x2F;serde&#x2F;issues&#x2F;2584#issue-18580752...</a><p>Due to the way that the derive feature was causing the dependency chain in Cargo to be longer than necessary, thereby making it impossible for cargo to compile multiple crates in parallel.</div><br/></div></div><div id="37205746" class="c"><input type="checkbox" id="c-37205746" checked=""/><div class="controls bullet"><span class="by">joshka</span><span>|</span><a href="#37205855">prev</a><span>|</span><a href="#37205649">next</a><span>|</span><label class="collapse" for="c-37205746">[-]</label><label class="expand" for="c-37205746">[1 more]</label></div><br/><div class="children"><div class="content">See also the PR: <a href="https:&#x2F;&#x2F;github.com&#x2F;serde-rs&#x2F;serde&#x2F;pull&#x2F;2590&#x2F;files">https:&#x2F;&#x2F;github.com&#x2F;serde-rs&#x2F;serde&#x2F;pull&#x2F;2590&#x2F;files</a></div><br/></div></div><div id="37205649" class="c"><input type="checkbox" id="c-37205649" checked=""/><div class="controls bullet"><span class="by">MallocVoidstar</span><span>|</span><a href="#37205746">prev</a><span>|</span><a href="#37205826">next</a><span>|</span><label class="collapse" for="c-37205649">[-]</label><label class="expand" for="c-37205649">[1 more]</label></div><br/><div class="children"><div class="content">See <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37183361">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37183361</a>, <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37189462">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37189462</a> for context.</div><br/></div></div><div id="37206369" class="c"><input type="checkbox" id="c-37206369" checked=""/><div class="controls bullet"><span class="by">therein</span><span>|</span><a href="#37205826">prev</a><span>|</span><label class="collapse" for="c-37206369">[-]</label><label class="expand" for="c-37206369">[2 more]</label></div><br/><div class="children"><div class="content">Nice to see the maintainer stop being so stubborn.<p>I wish I could say this left a good taste in my mouth as a strong proponent of Rust.<p>Especially after dtolnay banned me on the repo after I commented on the PR. Can&#x27;t even give thumbs up on someone else&#x27;s comment let alone open an issue or a PR.<p>Interesting to see how glorified janitorial roles make people think they have some real power.<p>Just take a look at <a href="https:&#x2F;&#x2F;github.com&#x2F;andreisilviudragnea&#x2F;serde-blocked&#x2F;discussions&#x2F;1">https:&#x2F;&#x2F;github.com&#x2F;andreisilviudragnea&#x2F;serde-blocked&#x2F;discuss...</a><p>David went on a full on power trip rampage, going as far as banning people who participated with emojis on that PR from the serde org on GitHub.</div><br/><div id="37206905" class="c"><input type="checkbox" id="c-37206905" checked=""/><div class="controls bullet"><span class="by">Cloudef</span><span>|</span><a href="#37206369">parent</a><span>|</span><label class="collapse" for="c-37206905">[-]</label><label class="expand" for="c-37206905">[1 more]</label></div><br/><div class="children"><div class="content">I did not know you can block people on github. The blocked people can&#x27;t even fork?</div><br/></div></div></div></div></div></div></div></div></div></body></html>