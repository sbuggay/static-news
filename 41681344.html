<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1727600469032" as="style"/><link rel="stylesheet" href="styles.css?v=1727600469032"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ekxide.io/blog/iceoryx2-0-4-release/">Show HN: Iceoryx2 – Fast IPC Library for Rust, C++, and C</a> <span class="domain">(<a href="https://ekxide.io">ekxide.io</a>)</span></div><div class="subtext"><span>elfenpiff</span> | <span>16 comments</span></div><br/><div><div id="41684374" class="c"><input type="checkbox" id="c-41684374" checked=""/><div class="controls bullet"><span class="by">hardwaresofton</span><span>|</span><a href="#41683711">next</a><span>|</span><label class="collapse" for="c-41684374">[-]</label><label class="expand" for="c-41684374">[2 more]</label></div><br/><div class="children"><div class="content">Been doing some IPC experiments recently following the 3tilley post[0], because there just isn&#x27;t enough definitive information (even if it&#x27;s a snapshot in time) out there.<p>Shared memory is <i>crazy</i> fast, and I&#x27;m surprised that there aren&#x27;t more things that take advantage of it. Super odd that gRPC doesn&#x27;t do shared memory, and basically never plans to?[1].<p>All that said, the constructive criticism I can offer for this post is that in mass-consumption announcements like this one for your project, you should:<p>- RPC throughput (with the usual caveats&#x2F;disclaimers)
- Comparison (ideally graphed) to an alternative approach (ex. domain sockets)
- Your best&#x2F;most concise &amp; expressive usage snippet<p>100ns is great to know, but I would really like to know how much RPC&#x2F;s this translates to <i>without</i> doing the math, or seeing it with realistic de-serialization on the other end.<p>[0]: <a href="https:&#x2F;&#x2F;3tilley.github.io&#x2F;posts&#x2F;simple-ipc-ping-pong&#x2F;" rel="nofollow">https:&#x2F;&#x2F;3tilley.github.io&#x2F;posts&#x2F;simple-ipc-ping-pong&#x2F;</a><p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;grpc&#x2F;grpc&#x2F;issues&#x2F;19959">https:&#x2F;&#x2F;github.com&#x2F;grpc&#x2F;grpc&#x2F;issues&#x2F;19959</a></div><br/><div id="41685380" class="c"><input type="checkbox" id="c-41685380" checked=""/><div class="controls bullet"><span class="by">abhirag</span><span>|</span><a href="#41684374">parent</a><span>|</span><a href="#41683711">next</a><span>|</span><label class="collapse" for="c-41685380">[-]</label><label class="expand" for="c-41685380">[1 more]</label></div><br/><div class="children"><div class="content">At $work we are evaluating different IPC strategies in Rust. My colleague expanded upon 3tilley&#x27;s work, they have updated benchmarks with iceoryx2 included here[0]. I suppose the current release should perform even better.<p>[0]: <a href="https:&#x2F;&#x2F;pranitha.rs&#x2F;posts&#x2F;rust-ipc-ping-pong&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pranitha.rs&#x2F;posts&#x2F;rust-ipc-ping-pong&#x2F;</a></div><br/></div></div></div></div><div id="41683711" class="c"><input type="checkbox" id="c-41683711" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#41684374">prev</a><span>|</span><a href="#41683029">next</a><span>|</span><label class="collapse" for="c-41683711">[-]</label><label class="expand" for="c-41683711">[1 more]</label></div><br/><div class="children"><div class="content">Looks great! From a quick glance it seems like it is a cross platform shared memory library. Maybe similar to this? [1].<p>Suggestion: would be cool to have a quick description of the system calls involved for each supported platform [2]. I&#x27;m guessing mmap on linux&#x2F;osx and CreateFileMapping on Windows?<p>--<p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;LiveAsynchronousVisualizedArchitecture&#x2F;simdb">https:&#x2F;&#x2F;github.com&#x2F;LiveAsynchronousVisualizedArchitecture&#x2F;si...</a><p>2: <a href="https:&#x2F;&#x2F;github.com&#x2F;eclipse-iceoryx&#x2F;iceoryx2?tab=readme-ov-file#supported-platforms">https:&#x2F;&#x2F;github.com&#x2F;eclipse-iceoryx&#x2F;iceoryx2?tab=readme-ov-fi...</a></div><br/></div></div><div id="41683029" class="c"><input type="checkbox" id="c-41683029" checked=""/><div class="controls bullet"><span class="by">npalli</span><span>|</span><a href="#41683711">prev</a><span>|</span><a href="#41684018">next</a><span>|</span><label class="collapse" for="c-41683029">[-]</label><label class="expand" for="c-41683029">[6 more]</label></div><br/><div class="children"><div class="content">Congrats on the release.<p>What&#x27;s the difference between iceoryx and iceoryx2? I don&#x27;t want to use Rust and want to stick to C++ if possible.</div><br/><div id="41683853" class="c"><input type="checkbox" id="c-41683853" checked=""/><div class="controls bullet"><span class="by">elBoberido</span><span>|</span><a href="#41683029">parent</a><span>|</span><a href="#41683696">next</a><span>|</span><label class="collapse" for="c-41683853">[-]</label><label class="expand" for="c-41683853">[3 more]</label></div><br/><div class="children"><div class="content">Besides being written in Rust, the big difference is the decentralized approach. With iceoryx1 a central daemon is required but with iceoryx2 this in not the case anymore. Furthermore, more fine grained control over the resources like memory and endpoints like publisher. Overall the architecture is more modular and it should be easier to port iceoryx2 to even more platforms and customize it with 3rd party extension.<p>With this release we have initial support for C and C++. Not all features of the Rust version are supported yet, but the plan is to finish the bindings with the next release. Furthermore, with an upcoming release we will make it trivial to communicate between Rust, C and C++ applications and all the other language bindings we are going to provide, with Python being probably the next one.</div><br/><div id="41685102" class="c"><input type="checkbox" id="c-41685102" checked=""/><div class="controls bullet"><span class="by">sebastos</span><span>|</span><a href="#41683029">root</a><span>|</span><a href="#41683853">parent</a><span>|</span><a href="#41683696">next</a><span>|</span><label class="collapse" for="c-41685102">[-]</label><label class="expand" for="c-41685102">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been looking around for some kind of design documents that explain how you were able to ditch the central broker, but I haven&#x27;t found much. Do you have breadcrumbs?</div><br/><div id="41685136" class="c"><input type="checkbox" id="c-41685136" checked=""/><div class="controls bullet"><span class="by">simfoo</span><span>|</span><a href="#41683029">root</a><span>|</span><a href="#41685102">parent</a><span>|</span><a href="#41683696">next</a><span>|</span><label class="collapse" for="c-41685136">[-]</label><label class="expand" for="c-41685136">[1 more]</label></div><br/><div class="children"><div class="content">Same here. Shared memory is one of those things where the kernel could really help some more with reliable cleanup (1). Until then you&#x27;re mostly doomed to have a rock solid cleanup daemon or are limited to eventual cleanup by restarting processes. I have my doubts that it isn&#x27;t possible to get into a situation where segments are being exhausted and you&#x27;re forced to intervene<p>(1) I&#x27;m referring to automatic refcounting of shm segments using posix shm (not sys v!) when the last process dies or unmaps</div><br/></div></div></div></div></div></div><div id="41683696" class="c"><input type="checkbox" id="c-41683696" checked=""/><div class="controls bullet"><span class="by">tbillington</span><span>|</span><a href="#41683029">parent</a><span>|</span><a href="#41683853">prev</a><span>|</span><a href="#41683861">next</a><span>|</span><label class="collapse" for="c-41683696">[-]</label><label class="expand" for="c-41683696">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Language bindings for C and C++ with CMake and Bazel support right out of the box. Python and other languages are coming soon.</div><br/></div></div><div id="41683861" class="c"><input type="checkbox" id="c-41683861" checked=""/><div class="controls bullet"><span class="by">tormeh</span><span>|</span><a href="#41683029">parent</a><span>|</span><a href="#41683696">prev</a><span>|</span><a href="#41684018">next</a><span>|</span><label class="collapse" for="c-41683861">[-]</label><label class="expand" for="c-41683861">[1 more]</label></div><br/><div class="children"><div class="content">Looks like it has significantly lower latency.<p>&gt; want to stick to C++ if possible<p>The answer to that concern is in the title of the submission.</div><br/></div></div></div></div><div id="41684018" class="c"><input type="checkbox" id="c-41684018" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#41683029">prev</a><span>|</span><a href="#41685222">next</a><span>|</span><label class="collapse" for="c-41684018">[-]</label><label class="expand" for="c-41684018">[4 more]</label></div><br/><div class="children"><div class="content">How does this compare to and&#x2F;or integrate with OTOH Apache Arrow which had &quot;arrow plasma IPC&quot; and is supported by pandas with dtype_backend=&quot;pyarrow&quot;,  lancedb&#x2F;lancedb, and Serde.rs? <a href="https:&#x2F;&#x2F;serde.rs&#x2F;#data-formats" rel="nofollow">https:&#x2F;&#x2F;serde.rs&#x2F;#data-formats</a></div><br/><div id="41684742" class="c"><input type="checkbox" id="c-41684742" checked=""/><div class="controls bullet"><span class="by">zxexz</span><span>|</span><a href="#41684018">parent</a><span>|</span><a href="#41684417">next</a><span>|</span><label class="collapse" for="c-41684742">[-]</label><label class="expand" for="c-41684742">[1 more]</label></div><br/><div class="children"><div class="content">The other commenter answering you is, I think, trying to point out that the Arrow plasma store is deprecated (and no longer present in the arrow project).<p>I think it&#x27;s worth being a little more clear here - <i>Arrow IPC</i> is _not_ deprecated, and has massive momentum - so much so that it&#x27;s more or less already become the default IPC format for many libraries.<p>To me it remains unclear what the benefits of Iceoryx2 over the Arrow ecosystem is, and what the level of interoperability is, and what the tradeoffs of either are relative to eachother. Within a single machine, you can mmap the IPC file. You can use Arrow Flight for inter-node or inter-process communication. You can use Arrow with Ray, which is <i>where</i> Plasma went.<p>I love anything new in this space though, if&#x2F;when I have time I&#x27;ll check this out - would love it if somebody could actually eloborate on the differences though.</div><br/></div></div><div id="41684417" class="c"><input type="checkbox" id="c-41684417" checked=""/><div class="controls bullet"><span class="by">dumah</span><span>|</span><a href="#41684018">parent</a><span>|</span><a href="#41684742">prev</a><span>|</span><a href="#41685222">next</a><span>|</span><label class="collapse" for="c-41684417">[-]</label><label class="expand" for="c-41684417">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;arrow&#x2F;issues&#x2F;34738">https:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;arrow&#x2F;issues&#x2F;34738</a><p><a href="https:&#x2F;&#x2F;lists.apache.org&#x2F;thread&#x2F;lk277x3b9gjol42sjg27bst2ggm5s0j2" rel="nofollow">https:&#x2F;&#x2F;lists.apache.org&#x2F;thread&#x2F;lk277x3b9gjol42sjg27bst2ggm5...</a></div><br/><div id="41684790" class="c"><input type="checkbox" id="c-41684790" checked=""/><div class="controls bullet"><span class="by">zxexz</span><span>|</span><a href="#41684018">root</a><span>|</span><a href="#41684417">parent</a><span>|</span><a href="#41685222">next</a><span>|</span><label class="collapse" for="c-41684790">[-]</label><label class="expand" for="c-41684790">[1 more]</label></div><br/><div class="children"><div class="content">Not downvoting, but those two links don&#x27;t really describe much - though they are part of the story.<p>For other readers, here&#x27;s a general takeaway -<p>- Arrow Plasma was deprecated, and is now no longer even present in the Arrow project.
- The maintainers behind the Plasma store in Arrow forked it, into Ray. Plasma is still alive and well in Ray - and it still <i>uses</i> the Arrow IPC format, among other things. In addition to the links from the above poster, read the original blog post on Plasma [0], and the section on Ray on [1].<p>I use Ray quite a bit. For more lightweight stuff, or for more low-level control, I use Arrow Flight [2] (and [3] for Python examples)<p>[0] <a href="https:&#x2F;&#x2F;ray-project.github.io&#x2F;2017&#x2F;08&#x2F;08&#x2F;plasma-in-memory-object-store.html" rel="nofollow">https:&#x2F;&#x2F;ray-project.github.io&#x2F;2017&#x2F;08&#x2F;08&#x2F;plasma-in-memory-ob...</a>
[1] <a href="https:&#x2F;&#x2F;arrow.apache.org&#x2F;powered_by&#x2F;" rel="nofollow">https:&#x2F;&#x2F;arrow.apache.org&#x2F;powered_by&#x2F;</a>
[2] <a href="https:&#x2F;&#x2F;arrow.apache.org&#x2F;docs&#x2F;python&#x2F;flight.html" rel="nofollow">https:&#x2F;&#x2F;arrow.apache.org&#x2F;docs&#x2F;python&#x2F;flight.html</a>
[3] <a href="https:&#x2F;&#x2F;arrow.apache.org&#x2F;cookbook&#x2F;py&#x2F;flight.html" rel="nofollow">https:&#x2F;&#x2F;arrow.apache.org&#x2F;cookbook&#x2F;py&#x2F;flight.html</a></div><br/></div></div></div></div></div></div><div id="41685222" class="c"><input type="checkbox" id="c-41685222" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#41684018">prev</a><span>|</span><a href="#41681345">next</a><span>|</span><label class="collapse" for="c-41685222">[-]</label><label class="expand" for="c-41685222">[1 more]</label></div><br/><div class="children"><div class="content">Why is Windows target support tier 2 and not tier 1?</div><br/></div></div></div></div></div></div></div></body></html>