<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1714986073264" as="style"/><link rel="stylesheet" href="styles.css?v=1714986073264"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://j6b72.de/article/why-you-should-take-a-look-at-traefik/">Take a look at Traefik, even if you don&#x27;t use containers</a> <span class="domain">(<a href="https://j6b72.de">j6b72.de</a>)</span></div><div class="subtext"><span>q2loyp</span> | <span>147 comments</span></div><br/><div><div id="40272652" class="c"><input type="checkbox" id="c-40272652" checked=""/><div class="controls bullet"><span class="by">woopwoop24</span><span>|</span><a href="#40265558">next</a><span>|</span><label class="collapse" for="c-40272652">[-]</label><label class="expand" for="c-40272652">[1 more]</label></div><br/><div class="children"><div class="content">i had such a hard time learning traefik and transitioning to V2.
I do not fall into the standard case, wanting to use traefik for containers, not running on the same host (you cannot have labels annoted as the docs suggest, if the container is on another host)
Docs were sparse and also not wanted to use the env vars for the traefik config as well, so took a bit of fumbling and reading and eventually i figured it out, but was almost on the verge of going back to haproxy</div><br/></div></div><div id="40265558" class="c"><input type="checkbox" id="c-40265558" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#40272652">prev</a><span>|</span><a href="#40266054">next</a><span>|</span><label class="collapse" for="c-40265558">[-]</label><label class="expand" for="c-40265558">[56 more]</label></div><br/><div class="children"><div class="content">Traefik is pretty cool, but suffers from the same, terrible problem of Ansible: there is a lot of documentation, and a lot of words written, yet you can never find anything you need.<p>I have used it since v1 and I routinely get lost in their docs, and get immensely frustrated. I have been using Caddy for smaller projects simply because its documentation is not as terrible (though not great by any stretch)<p>Technical writers: documentation by example is good only for newbies skimming through. People familiar with your product need a reference and exhaustive lists, not explanation for different fields spread over 10 tutorial pages. Focus on those that use the product day in and day out, not solely on the &quot;onboarding&quot; procedure.<p>This is my pet peeve and the reason why I hate using Ansible so damn much, and Traefik to a lesser extent.</div><br/><div id="40272649" class="c"><input type="checkbox" id="c-40272649" checked=""/><div class="controls bullet"><span class="by">arendtio</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40266148">next</a><span>|</span><label class="collapse" for="c-40272649">[-]</label><label class="expand" for="c-40272649">[1 more]</label></div><br/><div class="children"><div class="content">I agree that the documentation could be better, but it isn&#x27;t that bad. I enjoyed all the gophers, and these images really helped me understand the structure.<p>However, I find it amusing that you wish there was a better reference. I think getting to the initial setup is quite hard. Once you have that, extending it is straightforward.</div><br/></div></div><div id="40266148" class="c"><input type="checkbox" id="c-40266148" checked=""/><div class="controls bullet"><span class="by">johanbcn</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40272649">prev</a><span>|</span><a href="#40265883">next</a><span>|</span><label class="collapse" for="c-40266148">[-]</label><label class="expand" for="c-40266148">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Technical writers: documentation by example is good only for newbies skimming through. People familiar with your product need a reference and exhaustive lists, not explanation for different fields spread over 10 tutorial pages. Focus on those that use the product day in and day out, not solely on the &quot;onboarding&quot; procedure.<p>I agree. We all would benefit by giving more exposure to documentation frameworks such as <a href="https:&#x2F;&#x2F;diataxis.fr" rel="nofollow">https:&#x2F;&#x2F;diataxis.fr</a></div><br/><div id="40272561" class="c"><input type="checkbox" id="c-40272561" checked=""/><div class="controls bullet"><span class="by">yread</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266148">parent</a><span>|</span><a href="#40269989">next</a><span>|</span><label class="collapse" for="c-40272561">[-]</label><label class="expand" for="c-40272561">[1 more]</label></div><br/><div class="children"><div class="content">MSDN also follows these principles</div><br/></div></div><div id="40269989" class="c"><input type="checkbox" id="c-40269989" checked=""/><div class="controls bullet"><span class="by">siamese_puff</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266148">parent</a><span>|</span><a href="#40272561">prev</a><span>|</span><a href="#40267886">next</a><span>|</span><label class="collapse" for="c-40269989">[-]</label><label class="expand" for="c-40269989">[1 more]</label></div><br/><div class="children"><div class="content">Also <a href="https:&#x2F;&#x2F;docs.divio.com&#x2F;documentation-system&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.divio.com&#x2F;documentation-system&#x2F;</a></div><br/></div></div><div id="40267886" class="c"><input type="checkbox" id="c-40267886" checked=""/><div class="controls bullet"><span class="by">yoyojojofosho</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266148">parent</a><span>|</span><a href="#40269989">prev</a><span>|</span><a href="#40266677">next</a><span>|</span><label class="collapse" for="c-40267886">[-]</label><label class="expand" for="c-40267886">[1 more]</label></div><br/><div class="children"><div class="content">Discussed on HN: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33721314">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33721314</a></div><br/></div></div><div id="40266677" class="c"><input type="checkbox" id="c-40266677" checked=""/><div class="controls bullet"><span class="by">adolph</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266148">parent</a><span>|</span><a href="#40267886">prev</a><span>|</span><a href="#40265883">next</a><span>|</span><label class="collapse" for="c-40266677">[-]</label><label class="expand" for="c-40266677">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m glad to have clicked through for curiosity&#x27;s sake. Diátaxis is tremendously interesting.<p>For folks who might recognize the author&#x27;s name:<p><i>Daniele Procida: Director of Engineering at Canonical. Creator of Diátaxis and BrachioGraph. Django core developer. Fellow of the Python Software Foundation.</i></div><br/></div></div></div></div><div id="40265883" class="c"><input type="checkbox" id="c-40265883" checked=""/><div class="controls bullet"><span class="by">plantain</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40266148">prev</a><span>|</span><a href="#40267016">next</a><span>|</span><label class="collapse" for="c-40265883">[-]</label><label class="expand" for="c-40265883">[8 more]</label></div><br/><div class="children"><div class="content">My latest gripe in this category - opentelemetry.
Thousands of pages. Very little about actually achieving basic common workflows.</div><br/><div id="40270524" class="c"><input type="checkbox" id="c-40270524" checked=""/><div class="controls bullet"><span class="by">jackthejacky</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265883">parent</a><span>|</span><a href="#40267544">next</a><span>|</span><label class="collapse" for="c-40270524">[-]</label><label class="expand" for="c-40270524">[2 more]</label></div><br/><div class="children"><div class="content">Oh man, I FEEL this comment. That was one absurdly awful set of documentation, because they not just have a lot of confusingly placed repeat content, they also follow the philosophy of only explaining top level initial conceptual primer for everything, and only explaining the actual main use case of the component 3 navigation pages deep.<p>So a beginner has to jump a BUNCH of pages to get a primer, and an expert has to bookmark the couple actually-useful pages and later give up and just look at github for specific operators&#x2F;processors when they already know the basic config inside out.</div><br/><div id="40270577" class="c"><input type="checkbox" id="c-40270577" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40270524">parent</a><span>|</span><a href="#40267544">next</a><span>|</span><label class="collapse" for="c-40270577">[-]</label><label class="expand" for="c-40270577">[1 more]</label></div><br/><div class="children"><div class="content">Several things I needed were in completely separate documents not linked together.</div><br/></div></div></div></div><div id="40267544" class="c"><input type="checkbox" id="c-40267544" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265883">parent</a><span>|</span><a href="#40270524">prev</a><span>|</span><a href="#40266691">next</a><span>|</span><label class="collapse" for="c-40267544">[-]</label><label class="expand" for="c-40267544">[2 more]</label></div><br/><div class="children"><div class="content">Same experience.  Otel is one of the wordiest docs I&#x27;ve ever come across that says very little.<p>Further, I found a lot of little bugs that are hard to Google, or when Googling finding open issues that are either known and working on, or no response at all.<p>I ended up just throwing it in the garbage and using direct connectors.  I like what Otel is trying to achieve, but it feels extremely opaque and half baked at the moment.</div><br/><div id="40272309" class="c"><input type="checkbox" id="c-40272309" checked=""/><div class="controls bullet"><span class="by">zaphirplane</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40267544">parent</a><span>|</span><a href="#40266691">next</a><span>|</span><label class="collapse" for="c-40272309">[-]</label><label class="expand" for="c-40272309">[1 more]</label></div><br/><div class="children"><div class="content">Yes! Otel, is exactly what I was thinking. It’s for people working on it with access to tribal knowledge. 
For mortals working to add it to their service it’s not fit for purpose</div><br/></div></div></div></div><div id="40266691" class="c"><input type="checkbox" id="c-40266691" checked=""/><div class="controls bullet"><span class="by">tnolet</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265883">parent</a><span>|</span><a href="#40267544">prev</a><span>|</span><a href="#40266926">next</a><span>|</span><label class="collapse" for="c-40266691">[-]</label><label class="expand" for="c-40266691">[2 more]</label></div><br/><div class="children"><div class="content">Oh boy that hits home. Been deep in the OTEL world the last months and the official docs are very, very undercooked.</div><br/><div id="40270739" class="c"><input type="checkbox" id="c-40270739" checked=""/><div class="controls bullet"><span class="by">hooverd</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266691">parent</a><span>|</span><a href="#40266926">next</a><span>|</span><label class="collapse" for="c-40270739">[-]</label><label class="expand" for="c-40270739">[1 more]</label></div><br/><div class="children"><div class="content">The best OTel docs I&#x27;ve seen have been from observability vendors. The CNCF needs some volunteer technical writers or something. I think a lot of those docs suffer from being written by people who know the spec inside and out.</div><br/></div></div></div></div></div></div><div id="40267016" class="c"><input type="checkbox" id="c-40267016" checked=""/><div class="controls bullet"><span class="by">jethro_tell</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40265883">prev</a><span>|</span><a href="#40265675">next</a><span>|</span><label class="collapse" for="c-40267016">[-]</label><label class="expand" for="c-40267016">[10 more]</label></div><br/><div class="children"><div class="content">One of the problems that the yaml interpreter class of languages, or whatever you&#x27;d call them, suffer from is the fact that yaml itself is a language and tends to be more or less undocumented in the interpreter docs.<p>It&#x27;s sort of assumed that you are going to do extremely simple tasks on very flat data structures.  That doesn&#x27;t tend to be the reality that most of us live in.  And to really get the most out of these languages you have to understand an entire unspoken set of rules on how to use yaml.  That&#x27;s never really pointed out in the docs.<p>Additionally, there are docs for the unique settings for each module but as far as using the standard settings, additionally, its rarely clear how to operate on the data that might be returned or combined with anything mildly complex, you are given a dozen 1 stanza examples for each item like a stack of ingredients and then told to bake a cake.<p>I&#x27;ve had this experience with basically every one of the various yaml interpreter systems I&#x27;ve used.<p>After a few 100k lines of yaml I can get things done but the docs are useless other than a listing of settings.</div><br/><div id="40267118" class="c"><input type="checkbox" id="c-40267118" checked=""/><div class="controls bullet"><span class="by">ornornor</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40267016">parent</a><span>|</span><a href="#40269318">next</a><span>|</span><label class="collapse" for="c-40267118">[-]</label><label class="expand" for="c-40267118">[1 more]</label></div><br/><div class="children"><div class="content">To illustrate this point, here is how to have a multi line value in yaml: just kidding, it’s so confusing that there is a whole <i>website</i> to help you figure it out:    <a href="https:&#x2F;&#x2F;yaml-multiline.info&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yaml-multiline.info&#x2F;</a></div><br/></div></div><div id="40269318" class="c"><input type="checkbox" id="c-40269318" checked=""/><div class="controls bullet"><span class="by">cromka</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40267016">parent</a><span>|</span><a href="#40267118">prev</a><span>|</span><a href="#40265675">next</a><span>|</span><label class="collapse" for="c-40269318">[-]</label><label class="expand" for="c-40269318">[8 more]</label></div><br/><div class="children"><div class="content">Isn’t it why toml is seemingly increasingly used to replace yaml in projects?</div><br/><div id="40270909" class="c"><input type="checkbox" id="c-40270909" checked=""/><div class="controls bullet"><span class="by">jethro_tell</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40269318">parent</a><span>|</span><a href="#40270868">next</a><span>|</span><label class="collapse" for="c-40270909">[-]</label><label class="expand" for="c-40270909">[3 more]</label></div><br/><div class="children"><div class="content">I hope not, toml is even worse at complex things and just slightly better at the stuff that isn&#x27;t confusing.
Add a k:v to a mildly complex dict.<p>At this point, I&#x27;m pushing into a place where I&#x27;m just going to switch to go because its getting to be a mess.</div><br/><div id="40271058" class="c"><input type="checkbox" id="c-40271058" checked=""/><div class="controls bullet"><span class="by">vundercind</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40270909">parent</a><span>|</span><a href="#40270868">next</a><span>|</span><label class="collapse" for="c-40271058">[-]</label><label class="expand" for="c-40271058">[2 more]</label></div><br/><div class="children"><div class="content">It’s <i>insanely</i> better at config.<p>It’s about as bad at being a programming language or data structure serialization format, though.</div><br/><div id="40271151" class="c"><input type="checkbox" id="c-40271151" checked=""/><div class="controls bullet"><span class="by">jethro_tell</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40271058">parent</a><span>|</span><a href="#40270868">next</a><span>|</span><label class="collapse" for="c-40271151">[-]</label><label class="expand" for="c-40271151">[1 more]</label></div><br/><div class="children"><div class="content">But yaml is fine at config, it sucks at looping, conditionals and data structures, if you aren&#x27;t fixing that its just another standard we have to learn, so thanks for that</div><br/></div></div></div></div></div></div><div id="40270868" class="c"><input type="checkbox" id="c-40270868" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40269318">parent</a><span>|</span><a href="#40270909">prev</a><span>|</span><a href="#40270721">next</a><span>|</span><label class="collapse" for="c-40270868">[-]</label><label class="expand" for="c-40270868">[2 more]</label></div><br/><div class="children"><div class="content">In my experience toml is worse at anything complex. It&#x27;s nice as an .ini replacement but makes even yaml look sane in comparison if you want to use it for very complex or deeply nested stuff. But it wasn&#x27;t designed to do that anyways</div><br/><div id="40271060" class="c"><input type="checkbox" id="c-40271060" checked=""/><div class="controls bullet"><span class="by">vundercind</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40270868">parent</a><span>|</span><a href="#40270721">next</a><span>|</span><label class="collapse" for="c-40271060">[-]</label><label class="expand" for="c-40271060">[1 more]</label></div><br/><div class="children"><div class="content">Am I alone in <i>greatly</i> preferring nesting in toml compared with yaml?</div><br/></div></div></div></div><div id="40270721" class="c"><input type="checkbox" id="c-40270721" checked=""/><div class="controls bullet"><span class="by">tormeh</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40269318">parent</a><span>|</span><a href="#40270868">prev</a><span>|</span><a href="#40265675">next</a><span>|</span><label class="collapse" for="c-40270721">[-]</label><label class="expand" for="c-40270721">[2 more]</label></div><br/><div class="children"><div class="content">Toml is great for simple use-cases. For complex ones you have the same problem that yaml has: Templating a language with significant whitespace via text substitution is a horrible horrible idea. Somehow this sad state of affairs has become industry standard.</div><br/><div id="40270970" class="c"><input type="checkbox" id="c-40270970" checked=""/><div class="controls bullet"><span class="by">jethro_tell</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40270721">parent</a><span>|</span><a href="#40265675">next</a><span>|</span><label class="collapse" for="c-40270970">[-]</label><label class="expand" for="c-40270970">[1 more]</label></div><br/><div class="children"><div class="content">Its not even the white space, a food liter or language server can handle that.  It&#x27;s not that, as much ad the fact that the most complex data structure is a list.<p>If you want to get crazy, you can push a dict into a list and operated on it but it gets tough at the second level.  And don&#x27;t get me started on if&#x2F;else statements.</div><br/></div></div></div></div></div></div></div></div><div id="40265675" class="c"><input type="checkbox" id="c-40265675" checked=""/><div class="controls bullet"><span class="by">linsomniac</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40267016">prev</a><span>|</span><a href="#40265596">next</a><span>|</span><label class="collapse" for="c-40265675">[-]</label><label class="expand" for="c-40265675">[7 more]</label></div><br/><div class="children"><div class="content">Do not agree WRT ansible, been using it for well over 5 years and usually a google search points me right at the correct part of the documentation to answer my question.  Ansible, the tool itself, can be a bit obtuse, largely IMHO because of the YAML source language, so some concepts are hard to translate into the tool, but the documentation has never bothered me.<p>As far as &quot;a lot of words written, can&#x27;t find what you need&quot;, Fortinet is my poster child there (based on trying to use it a decade ago).  Everything I looked up there had 10,20,30 pages of introductory material with the Fortinet stuff spread throughout it.</div><br/><div id="40265901" class="c"><input type="checkbox" id="c-40265901" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265675">parent</a><span>|</span><a href="#40265596">next</a><span>|</span><label class="collapse" for="c-40265901">[-]</label><label class="expand" for="c-40265901">[6 more]</label></div><br/><div class="children"><div class="content">Alright, please link me to an exhaustive list of Jinja filters supported by Ansible out of the box. I&#x27;ll wait.<p>What you are given is <a href="https:&#x2F;&#x2F;docs.ansible.com&#x2F;ansible&#x2F;latest&#x2F;playbook_guide&#x2F;playbooks_filters.html" rel="nofollow">https:&#x2F;&#x2F;docs.ansible.com&#x2F;ansible&#x2F;latest&#x2F;playbook_guide&#x2F;playb...</a> and you need basically to read&#x2F;scan each example until you find what you need [1]. Do you call that <i>good</i>, especially when these are basically the only way of doing anything a little complex? That&#x27;s a sure way of killing my flow and productivity in its tracks. I have been through this page in anger a dozen times, and I still have no idea what Ansible filters can or cannot do.<p>Also, using Google to find stuff is &quot;cheating&quot;. The goal of documentation is to be able to use it as reference; if you need an external tool to find anything in it, that defeats its purpose a bit. When people wrote documentation books, they had to make sure it&#x27;s usable, legible and efficient. These days apparently that&#x27;s become lost art.<p>1: these examples are not even exhaustive, because they don&#x27;t list all the builtin Jinja filters; chances are that what you need isn&#x27;t listed on that page, but you should instead refer to <a href="https:&#x2F;&#x2F;tedboy.github.io&#x2F;jinja2&#x2F;templ14.html" rel="nofollow">https:&#x2F;&#x2F;tedboy.github.io&#x2F;jinja2&#x2F;templ14.html</a></div><br/><div id="40266244" class="c"><input type="checkbox" id="c-40266244" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265901">parent</a><span>|</span><a href="#40266439">next</a><span>|</span><label class="collapse" for="c-40266244">[-]</label><label class="expand" for="c-40266244">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not GP, but I agree with both them and you so thought I&#x27;d chime in.<p>You&#x27;re absolutely right that there are big omissions&#x2F;holes in the Ansible docs, but I also think that using Google is not &quot;cheating.&quot;  My ideal of great documentation sounds like exactly what you would agree with:  A complete and comprehensive &quot;book&quot; (could become a physical printed book, but needn&#x27;t have to as it should be equally usable with good old-fashioned hyperlinks).  It should have a logical flow, introductory sections to describe pre-requisite knowledge&#x2F;concepts and things that are broadly applicable to the project as a whole.  It should have a table of contents, and it should <i>definitely</i> have an index and comprehensive lists&#x2F;tables of API details such as available field&#x2F;properties, which options are valid (for enum fields), etc.  Your example of Jinja filters supported by Ansible is a great one.  I really miss the 90&#x27;s era here where such manuals were common practice, even for things like PCs.<p>With that ideal described, though, I think it&#x27;s important to recognize pragmatism and feasibility.  Documentation takes time and money to produce.  Search tools (including Google) already exist and can provide a valuable addition without spending time&#x2F;effort on it, so I think they should be used.  That said, I agree that it&#x27;s not a good idea for doc writers to rely on that for things to be found!  Table of contents, logical flow, and indexes should absolutely be thought through.  If the documentation is just a bunch of random unorganized and uncatalogued pages that can only be found with a search engine, that is really bad and they should feel bad.<p>I think Ansible falls right in the middle there.  It undoubtedly has some real glaring omissions&#x2F;holes in it, but it is also not nearly the worst I&#x27;ve seen as well.  I do dread having to go the Ansible docs though, which is an indictment against their quality, and the more I think&#x2F;write about this the more I agree with you lol.</div><br/></div></div><div id="40266439" class="c"><input type="checkbox" id="c-40266439" checked=""/><div class="controls bullet"><span class="by">linsomniac</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265901">parent</a><span>|</span><a href="#40266244">prev</a><span>|</span><a href="#40265975">next</a><span>|</span><label class="collapse" for="c-40266439">[-]</label><label class="expand" for="c-40266439">[1 more]</label></div><br/><div class="children"><div class="content">As you say, Ansible&#x27;s filter list does not include the base Jinja2 filters, which I guess is a difference of opinion.  I feel that is preferred to reproducing the Jinja2 documentation, especially as the Jinja2 filter list is the first (non-TOC) link on the page.<p>Also going to disagree about &quot;using Google is cheating&quot;.  The purpose of documentation is to help me get stuff done.  The Internet is not printed on dead trees, I don&#x27;t want to read through a TOC or index looking for what I want when I&#x27;m searching, I want to use a search engine.  I often don&#x27;t want a reference, I want to quickly find how to do something.  I rarely want to read about all the filters, instead I want to find the even&#x2F;odd filter, or the the default or omit filter.  Yes, sometimes I want to brush up on all available filters, but that&#x27;s rare.</div><br/></div></div><div id="40265975" class="c"><input type="checkbox" id="c-40265975" checked=""/><div class="controls bullet"><span class="by">throwaway984393</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265901">parent</a><span>|</span><a href="#40266439">prev</a><span>|</span><a href="#40265596">next</a><span>|</span><label class="collapse" for="c-40265975">[-]</label><label class="expand" for="c-40265975">[3 more]</label></div><br/><div class="children"><div class="content">I like that it forces users to read the docs to find the functionality. Users don&#x27;t read the docs, and then they wander around the internet looking for a random blog post with a snippet for one problem, and they don&#x27;t ever really learn how to use the program.<p>Users are a bit like high school students just skimming books for an answer to fill in on a test. They need to be forced to learn.</div><br/><div id="40266152" class="c"><input type="checkbox" id="c-40266152" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265975">parent</a><span>|</span><a href="#40265596">next</a><span>|</span><label class="collapse" for="c-40266152">[-]</label><label class="expand" for="c-40266152">[2 more]</label></div><br/><div class="children"><div class="content">This doesn&#x27;t make a lot of sense in the context of the parents.  Did you post this to the wrong parent? To accomplish what you are asking, a project needs actual good documentation.  Everyone has agreed that is good.  The only real disagreement here is whether Ansible docs have this, and regardless whether they do, they definitely have the example-driven docs that I think you are saying you don&#x27;t think should exist, so you definitely aren&#x27;t supporting the Ansible status quo.</div><br/><div id="40270771" class="c"><input type="checkbox" id="c-40270771" checked=""/><div class="controls bullet"><span class="by">coryrc</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266152">parent</a><span>|</span><a href="#40265596">next</a><span>|</span><label class="collapse" for="c-40270771">[-]</label><label class="expand" for="c-40270771">[1 more]</label></div><br/><div class="children"><div class="content">The rest makes more sense if you assume parent post meant to write &quot;read the code&quot;.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40265596" class="c"><input type="checkbox" id="c-40265596" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40265675">prev</a><span>|</span><a href="#40266732">next</a><span>|</span><label class="collapse" for="c-40265596">[-]</label><label class="expand" for="c-40265596">[2 more]</label></div><br/><div class="children"><div class="content">Funny you say that because we don’t have nearly any examples in the Caddy docs. We’re working on improving them later this year.</div><br/><div id="40265867" class="c"><input type="checkbox" id="c-40265867" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265596">parent</a><span>|</span><a href="#40266732">next</a><span>|</span><label class="collapse" for="c-40265867">[-]</label><label class="expand" for="c-40265867">[1 more]</label></div><br/><div class="children"><div class="content">Examples are good in docs. But documentation that&#x27;s only made of examples and tutorials... not so much.<p>Thanks for Caddy btw. Neat little tool.</div><br/></div></div></div></div><div id="40266732" class="c"><input type="checkbox" id="c-40266732" checked=""/><div class="controls bullet"><span class="by">lamontcg</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40265596">prev</a><span>|</span><a href="#40269898">next</a><span>|</span><label class="collapse" for="c-40266732">[-]</label><label class="expand" for="c-40266732">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Technical writers: documentation by example is good only for newbies skimming through. People familiar with your product need a reference and exhaustive lists, not explanation for different fields spread over 10 tutorial pages. Focus on those that use the product day in and day out, not solely on the &quot;onboarding&quot; procedure.<p>You really need at least three documentation targets:<p>- onboarding the newbies workflows&#x2F;tutorials
- intermediate &quot;focus on the important bits&quot; workflows&#x2F;tutorials
- exhaustive references<p>There might be other useful ones as well, but I never see those three hit at the same time adequately.</div><br/></div></div><div id="40269898" class="c"><input type="checkbox" id="c-40269898" checked=""/><div class="controls bullet"><span class="by">Fire-Dragon-DoL</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40266732">prev</a><span>|</span><a href="#40266476">next</a><span>|</span><label class="collapse" for="c-40269898">[-]</label><label class="expand" for="c-40269898">[1 more]</label></div><br/><div class="children"><div class="content">I want both, in the same page if possible, for every possible permutation of input arguments.
In theory ansible does this, but then it doesn&#x27;t link to &quot;you might use it in combination with...&quot;, essentially, it lacks integration of multiple things in the reference docs.
but I didn&#x27;t find ansible docs that bad? Most of the time I search module name and find the reference doc</div><br/></div></div><div id="40266476" class="c"><input type="checkbox" id="c-40266476" checked=""/><div class="controls bullet"><span class="by">igor_varga</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40269898">prev</a><span>|</span><a href="#40265705">next</a><span>|</span><label class="collapse" for="c-40266476">[-]</label><label class="expand" for="c-40266476">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using the Traefik and have the same experience with the documentation. It can be time consuming to configure it properly if you are not a power user.<p>I&#x27;m happy with it though, it&#x27;s a great piece of software. I wonder is there any other product out there with a similar feature set?</div><br/></div></div><div id="40265705" class="c"><input type="checkbox" id="c-40265705" checked=""/><div class="controls bullet"><span class="by">throwfaraway398</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40266476">prev</a><span>|</span><a href="#40267329">next</a><span>|</span><label class="collapse" for="c-40265705">[-]</label><label class="expand" for="c-40265705">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s funny because one thing I like about ansible is how easy it is to get the reference doc for any module with `ansible-doc -t module`.<p>I do sometimes struggle to find the right doc when I&#x27;m searching for something about ansible core itself, but that doesn&#x27;t happen too often.</div><br/></div></div><div id="40267329" class="c"><input type="checkbox" id="c-40267329" checked=""/><div class="controls bullet"><span class="by">bshacklett</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40265705">prev</a><span>|</span><a href="#40266882">next</a><span>|</span><label class="collapse" for="c-40267329">[-]</label><label class="expand" for="c-40267329">[1 more]</label></div><br/><div class="children"><div class="content">This was exactly my experience. It’s incredibly frustrating to search documentation only to be stuck with examples that are related, but don’t fit one’s exact situation, and don’t explain the underlying behavior.</div><br/></div></div><div id="40266882" class="c"><input type="checkbox" id="c-40266882" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40267329">prev</a><span>|</span><a href="#40270508">next</a><span>|</span><label class="collapse" for="c-40266882">[-]</label><label class="expand" for="c-40266882">[1 more]</label></div><br/><div class="children"><div class="content">Some projects need documentation, some need cookbooks. Sounds like traefik is the latter.<p>Hopefully as an aside (I know very little about traefik so maybe I am talking about them too and don’t know it), it seems like in the time since I abandoned Java they have weaponized that architectural strategy and I have no patience for it. I look at that sort of documentation and my eyes glaze over. Or if they don’t I feel disgust or anger and all three result in my stomping off.<p>Opentelemetry, particularly the stats code (vs the span code) triggered a lot of this in me. It has several sets of documentation that say different things. It took me a long time to figure out how to connect the amorphous dots, and then I didn’t entirely agree with their solution anyway.</div><br/></div></div><div id="40270508" class="c"><input type="checkbox" id="c-40270508" checked=""/><div class="controls bullet"><span class="by">scrubs</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40266882">prev</a><span>|</span><a href="#40267585">next</a><span>|</span><label class="collapse" for="c-40270508">[-]</label><label class="expand" for="c-40270508">[1 more]</label></div><br/><div class="children"><div class="content">Oh man are you on to something!!! One huge, bad side effect of web is the atomization of an overall body of work into 62.9 million links.<p>One pdf please. The book concept works!<p>You know who&#x27;s docs blow too? Mellanox. I hate their stuff.<p>And to give credit where due: intel does a damn good job.</div><br/></div></div><div id="40267585" class="c"><input type="checkbox" id="c-40267585" checked=""/><div class="controls bullet"><span class="by">cdelsolar</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40270508">prev</a><span>|</span><a href="#40266334">next</a><span>|</span><label class="collapse" for="c-40267585">[-]</label><label class="expand" for="c-40267585">[1 more]</label></div><br/><div class="children"><div class="content">If only there were a program that had crawled bazillions of documents, including all of the traefik documentation, examples, and thousands of code files using it, and if only said program were especially designed to answer natural-language queries about said documents.</div><br/></div></div><div id="40266334" class="c"><input type="checkbox" id="c-40266334" checked=""/><div class="controls bullet"><span class="by">lopkeny12ko</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40267585">prev</a><span>|</span><a href="#40265918">next</a><span>|</span><label class="collapse" for="c-40266334">[-]</label><label class="expand" for="c-40266334">[10 more]</label></div><br/><div class="children"><div class="content">This take is, at best, disingenuous, and at worst, dangerous. The Traefik maintainers and community contributors (including myself) have collectively invested <i>hundreds</i> of man-hours writing and improving documentation, <i>specifically</i> in response to feedback from users that things are hard, unintuitive, or complex.<p>You are discounting massive amounts of unpaid labor done <i>specifically for people like you.</i> At this point, if you can&#x27;t find what you&#x27;re looking for, it&#x27;s on you. Maybe do a little bit of your own homework instead of throwing your hands up after 2 minutes and crying to the maintainers.</div><br/><div id="40267200" class="c"><input type="checkbox" id="c-40267200" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266334">parent</a><span>|</span><a href="#40266428">next</a><span>|</span><label class="collapse" for="c-40267200">[-]</label><label class="expand" for="c-40267200">[1 more]</label></div><br/><div class="children"><div class="content">I never used Traefik and have no opinion on it one way or the other as such. But if <i>this</i> is the response to some criticism of the documentation – which you can agree or disagree with, then you&#x27;ve done more to turn me of from Traefik than anything anyone here can write.</div><br/></div></div><div id="40266428" class="c"><input type="checkbox" id="c-40266428" checked=""/><div class="controls bullet"><span class="by">halJordan</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266334">parent</a><span>|</span><a href="#40267200">prev</a><span>|</span><a href="#40266373">next</a><span>|</span><label class="collapse" for="c-40266428">[-]</label><label class="expand" for="c-40266428">[1 more]</label></div><br/><div class="children"><div class="content">Disagree that this isnt a generic problem. And i&#x27;ll take the same amount of umbrage at you calling it disingenuous. There are dual needs here. Having to read a story and take in a wholly unrelated workflow just to discover only half of the switches available to the feature im looking up is a problem.<p>And when there isn&#x27;t just straight documenting of what&#x27;s been implemented then it is an unreasonable gate to usage which limits customers to only the flows imagined by the technical writer.<p>Which itself breeds this sort of refusal to participate. Either the end user is ungrateful and needs to express that gratitude through silence or there&#x27;s a smug moderator who&#x27;s read everything and knows which paragraph of which tutorial has the answer and harangues anyone asking with a link and a &quot;why didnt you read sentence 5 of paragraph 2 of a tutorial written 2 years and 3 major versions ago?&quot;</div><br/></div></div><div id="40266373" class="c"><input type="checkbox" id="c-40266373" checked=""/><div class="controls bullet"><span class="by">alex_lav</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266334">parent</a><span>|</span><a href="#40266428">prev</a><span>|</span><a href="#40265918">next</a><span>|</span><label class="collapse" for="c-40266373">[-]</label><label class="expand" for="c-40266373">[7 more]</label></div><br/><div class="children"><div class="content">Investing a lot of time and trying really hard is not the same as adding a lot of value. If your users don&#x27;t find value in your documentation, saying &quot;But we spent a lot of time on it!&quot; doesn&#x27;t really change anything.<p>And, to be clear, I have no idea if the person you&#x27;re responding to&#x27;s criticism is valid. But I also know that your response does not negate their criticism at all.</div><br/><div id="40266387" class="c"><input type="checkbox" id="c-40266387" checked=""/><div class="controls bullet"><span class="by">lopkeny12ko</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266373">parent</a><span>|</span><a href="#40265918">next</a><span>|</span><label class="collapse" for="c-40266387">[-]</label><label class="expand" for="c-40266387">[6 more]</label></div><br/><div class="children"><div class="content">How about submitting a PR to improve the documentation instead of complaining about it?</div><br/><div id="40266556" class="c"><input type="checkbox" id="c-40266556" checked=""/><div class="controls bullet"><span class="by">Thiez</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266387">parent</a><span>|</span><a href="#40270294">next</a><span>|</span><label class="collapse" for="c-40266556">[-]</label><label class="expand" for="c-40266556">[1 more]</label></div><br/><div class="children"><div class="content">This is why OSS looks like a cult at times. People <i>are</i> allowed to criticize your project and complain about it. They have no obligation to become a contributor. &quot;Submit a PR&quot; is such a conversation killer.</div><br/></div></div><div id="40270294" class="c"><input type="checkbox" id="c-40270294" checked=""/><div class="controls bullet"><span class="by">barfbagginus</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266387">parent</a><span>|</span><a href="#40266556">prev</a><span>|</span><a href="#40267253">next</a><span>|</span><label class="collapse" for="c-40270294">[-]</label><label class="expand" for="c-40270294">[1 more]</label></div><br/><div class="children"><div class="content">A PR needs maintainer approval.  And the maintainer I&#x27;ve seen thinks the documents are good enough already. In cases like that, a PR might not be able to solve the problem.<p>Complaining about it reroutes people to better projects, and pushes the project to fix the problem.</div><br/></div></div><div id="40267253" class="c"><input type="checkbox" id="c-40267253" checked=""/><div class="controls bullet"><span class="by">HellzStormer</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266387">parent</a><span>|</span><a href="#40270294">prev</a><span>|</span><a href="#40266929">next</a><span>|</span><label class="collapse" for="c-40267253">[-]</label><label class="expand" for="c-40267253">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t use try Traefik&#x27;s documentation, but the complains appear to be somewhat structural. Meaning a PR would need to possibly restructure at least part of the documentation, or add a whole section of documentation of a different type.<p>You can&#x27;t expect someone not core to a project to just propose to restructure the whole documentation. Which may also mean changing the website.<p>And in any case, such overhaul coming from a &quot;nobody&quot; would very likely be rejected as being both too large or incomplete or not desirable.<p>Re-structuring needs to be pushed for by at least one person from the core team.<p>So yeah &quot;Just submit a PR&quot; in that context is not an answer, it&#x27;s an excuse to avoid trying to understand the problem and actually improve the situation.</div><br/></div></div><div id="40266929" class="c"><input type="checkbox" id="c-40266929" checked=""/><div class="controls bullet"><span class="by">joshmanders</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266387">parent</a><span>|</span><a href="#40267253">prev</a><span>|</span><a href="#40266658">next</a><span>|</span><label class="collapse" for="c-40266929">[-]</label><label class="expand" for="c-40266929">[1 more]</label></div><br/><div class="children"><div class="content">Customer: I can&#x27;t find anything I&#x27;m looking for in your store.<p>Store: I spent a lot of time arranging things around in the store, if you can&#x27;t find what you&#x27;re looking for you can stop complaining and write signs for us.<p>Customer: Or I can just use your competitor who actually cares about their customers. ¯\_(ツ)_&#x2F;¯</div><br/></div></div><div id="40266658" class="c"><input type="checkbox" id="c-40266658" checked=""/><div class="controls bullet"><span class="by">alex_lav</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40266387">parent</a><span>|</span><a href="#40266929">prev</a><span>|</span><a href="#40265918">next</a><span>|</span><label class="collapse" for="c-40266658">[-]</label><label class="expand" for="c-40266658">[1 more]</label></div><br/><div class="children"><div class="content">Your adversarialism isn&#x27;t a good look. Users are allowed to have opinions, this does not mean they have maintain the work themselves.</div><br/></div></div></div></div></div></div></div></div><div id="40265918" class="c"><input type="checkbox" id="c-40265918" checked=""/><div class="controls bullet"><span class="by">deepersprout</span><span>|</span><a href="#40265558">parent</a><span>|</span><a href="#40266334">prev</a><span>|</span><a href="#40266054">next</a><span>|</span><label class="collapse" for="c-40265918">[-]</label><label class="expand" for="c-40265918">[4 more]</label></div><br/><div class="children"><div class="content">I usually feed all the documentation to an llm and ask the question to the llm that fetches the info with rag. For example:<p>&gt; how do i configure Traefik to proxy traffic to two backend services?<p>Configuring Traefik to proxy traffic to multiple backend services is a common use case. You can achieve this by defining multiple entry points and routers in Traefik&#x27;s configuration, each pointing to a different backend service. Here&#x27;s a basic example of how you can configure Traefik to proxy traffic to two backend services:<p><pre><code>  yaml
  
  # traefik.yaml
  
  # Enable API and Dashboard
  api:
    dashboard: true
  
  # Define entry points
  entryPoints:
    web:
      address: &quot;:80&quot;
    app1:
      address: &quot;:8081&quot;
    app2:
      address: &quot;:8082&quot;
</code></pre>
[...more stuff...]</div><br/><div id="40266076" class="c"><input type="checkbox" id="c-40266076" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265918">parent</a><span>|</span><a href="#40265994">next</a><span>|</span><label class="collapse" for="c-40266076">[-]</label><label class="expand" for="c-40266076">[1 more]</label></div><br/><div class="children"><div class="content">Can you describe more on your process?  Which LLM are you using?  Are you doing soething specific to make it us RAG or is that automagic (might be obvious depending on which LLM you are using but)?  How do you feed the documentation in?  for example, when the documentation has more than one page, how do you get that content in to the LLM?  Is it part of the prompt or something you&#x27;ve tuned it on?  have to clone the docs site, turn it into plan text and feed that in to the prompt or can you pass a URL and have it crawl ahead of time or something?<p>This is the system I&#x27;ve been dreaming about but haven&#x27;t had time to dig into yet.  I&#x27;ve got ollama and openwebui set up now though, and with OpenAI getting bigger context windows it seems like it might be possible to inject the whole set of docs into the prompt, but I&#x27;m not sure how to go about that</div><br/></div></div><div id="40265994" class="c"><input type="checkbox" id="c-40265994" checked=""/><div class="controls bullet"><span class="by">san-fran</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265918">parent</a><span>|</span><a href="#40266076">prev</a><span>|</span><a href="#40266054">next</a><span>|</span><label class="collapse" for="c-40265994">[-]</label><label class="expand" for="c-40265994">[2 more]</label></div><br/><div class="children"><div class="content">This might be an additional way to quickly iterate on the content of the documentation itself. If I were the one writing, an easy test is passing the documentation to a lay person and asking them if they have what they need to perform X by following the documentation.<p>Perhaps having a focused LLM generate the steps could help catch some documentation deficiencies.</div><br/><div id="40266106" class="c"><input type="checkbox" id="c-40266106" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#40265558">root</a><span>|</span><a href="#40265994">parent</a><span>|</span><a href="#40266054">next</a><span>|</span><label class="collapse" for="c-40266106">[-]</label><label class="expand" for="c-40266106">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>If I were the one writing, an easy test is passing the documentation to a lay person and asking them if they have what they need to perform X by following the documentation.</i><p>What kind of documentation is this though?  Is this how to bake a cake or tie a necktie, or is it how to setup a reverse proxy for the services in your k8s cluster?<p>If it&#x27;s something a lay-person could do then I think this is a good strategy (though depending on the size&#x2F;scope of the project&#x2F;documentaiton it does seem like a pretty big effort to undertake without compensation), but if it&#x27;s something highly technical like Traefik, I expect a lay-person to not even understand half the words&#x2F;vocabulary in the documentation, let alone be able to perform X by reading it and following it.</div><br/></div></div></div></div></div></div></div></div><div id="40266054" class="c"><input type="checkbox" id="c-40266054" checked=""/><div class="controls bullet"><span class="by">engine_y</span><span>|</span><a href="#40265558">prev</a><span>|</span><a href="#40265643">next</a><span>|</span><label class="collapse" for="c-40266054">[-]</label><label class="expand" for="c-40266054">[7 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve been using Traefik in prod for 2 years. While I used NGINX in the past, I decided to migrate to Traefik mainly because of the automatic let&#x27;s encrypt integration. 
I am sorry for that decision. 
Traefik&#x27;s documentation does not make sense to me or my team. 
It is finicky and misbehaves without proper logging. 
As an example - when I want to recreate the certificates - it  fails sporadically leaving prod down for an indefinite amount of time.<p>We&#x27;re moving back to NGINX.</div><br/><div id="40271988" class="c"><input type="checkbox" id="c-40271988" checked=""/><div class="controls bullet"><span class="by">ap-andersson</span><span>|</span><a href="#40266054">parent</a><span>|</span><a href="#40272308">next</a><span>|</span><label class="collapse" for="c-40271988">[-]</label><label class="expand" for="c-40271988">[1 more]</label></div><br/><div class="children"><div class="content">I have moved to Traefik from NGINX aswell because of the built-in support for DNS challenge and wildcard cert. I myself spent many hours trying to get it working for my domain I use at work. I used the same config I use at home (which works perfectly) but could never get it to actually do anything, even though the setup was identical. Same domain registrar with same API based on the same docker configs etc. Had all logs enabled and still I get no information what so ever about why my certificate could not be created. It simply defaulted back to its generated cert without trying it seemed. After two troubleshooting sessions and several hours of searching and troubleshooting I had to admit defeat and just use my own self-signed cert files. Very frustrating when you get no information about why it doesn&#x27;t work. Just a silent failure and fallback.<p>Overall that has been my biggest problem with traefik. Its awesome when it works, but when it does not I always seem to have problems troubleshooting and&#x2F;or finding the information I need in the docs.<p>At work we will start using Traefik in prod towards the end of the year. I hope Traefik and I will become better friends before that :)</div><br/></div></div><div id="40272308" class="c"><input type="checkbox" id="c-40272308" checked=""/><div class="controls bullet"><span class="by">dirkt</span><span>|</span><a href="#40266054">parent</a><span>|</span><a href="#40271988">prev</a><span>|</span><a href="#40266409">next</a><span>|</span><label class="collapse" for="c-40272308">[-]</label><label class="expand" for="c-40272308">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I decided to migrate to Traefik mainly because of the automatic let&#x27;s encrypt integration.<p>You probably already know and maybe it didn&#x27;t work for you, but there&#x27;s quite a few Docker companion containers that automate let&#x27;s encrypt certs for an nginx Docker container.</div><br/></div></div><div id="40266409" class="c"><input type="checkbox" id="c-40266409" checked=""/><div class="controls bullet"><span class="by">spyspy</span><span>|</span><a href="#40266054">parent</a><span>|</span><a href="#40272308">prev</a><span>|</span><a href="#40271009">next</a><span>|</span><label class="collapse" for="c-40266409">[-]</label><label class="expand" for="c-40266409">[3 more]</label></div><br/><div class="children"><div class="content">I’ve always just used go’s built in reverse proxy if I need an API gateway. You can adapt it to meet any specific need, easily find libraries to do common tasks (CORS, rate limiting, retries, etc), and the best part: no configuration language. You just write go.</div><br/><div id="40266656" class="c"><input type="checkbox" id="c-40266656" checked=""/><div class="controls bullet"><span class="by">jimmyl02</span><span>|</span><a href="#40266054">root</a><span>|</span><a href="#40266409">parent</a><span>|</span><a href="#40271009">next</a><span>|</span><label class="collapse" for="c-40266656">[-]</label><label class="expand" for="c-40266656">[2 more]</label></div><br/><div class="children"><div class="content">curious what are the performance characteristics here? I would assume something like Nginx that has been optimized over a longer period of time &#x2F; a more specific use case would have non-negligible performance benefits at scale?</div><br/><div id="40269812" class="c"><input type="checkbox" id="c-40269812" checked=""/><div class="controls bullet"><span class="by">spyspy</span><span>|</span><a href="#40266054">root</a><span>|</span><a href="#40266656">parent</a><span>|</span><a href="#40271009">next</a><span>|</span><label class="collapse" for="c-40269812">[-]</label><label class="expand" for="c-40269812">[1 more]</label></div><br/><div class="children"><div class="content">Not everything needs to be at “scale”. I’ve deployed this pattern over 10k req&#x2F;sec but it’s all about your SLOs. I’ve (thankfully) never needed to lose sleep over a millisecond or 2 in my line of work.</div><br/></div></div></div></div></div></div><div id="40271009" class="c"><input type="checkbox" id="c-40271009" checked=""/><div class="controls bullet"><span class="by">2NGINXSUX</span><span>|</span><a href="#40266054">parent</a><span>|</span><a href="#40266409">prev</a><span>|</span><a href="#40265643">next</a><span>|</span><label class="collapse" for="c-40271009">[-]</label><label class="expand" for="c-40271009">[1 more]</label></div><br/><div class="children"><div class="content">We’ve been using Nginx is prod for 3 years. While I used Traefik in the past, I decided to migrate to Nginx mainly because of its scriptability (Traefik plugins suck). I am sorry for that decision. 
Nginx’s documentation is absolute trash full of non-explanations (far worse than Traefik or Caddy. It’s finicky and misbehaves constantly. Lurking around every corner is a decision from 1995 sticking around in 2024; Nginx can barely function on the modern internet without _significant_ tuning.<p>On top of it, the OpenResty community must be the rudest, most entitled people in the entire internet. Have a question, “YOURE DOING IT WRONG IDIOT” is the response. Of course every terrible decision they’ve made they justify with “BUT THE PERFORMANCE” as that’s the only thing worth considering.<p>We’re moving back to Traefik, or Caddy, both still in POC.</div><br/></div></div></div></div><div id="40265643" class="c"><input type="checkbox" id="c-40265643" checked=""/><div class="controls bullet"><span class="by">arush15june</span><span>|</span><a href="#40266054">prev</a><span>|</span><a href="#40264932">next</a><span>|</span><label class="collapse" for="c-40265643">[-]</label><label class="expand" for="c-40265643">[5 more]</label></div><br/><div class="children"><div class="content">I use caddy rather traefik. It&#x27;s much easier to manage the Caddyfile compared to the traefik YAML config IMO, and we just keep three separate Caddyfiles for local, production and on-prem deployments. There are a plethora of great plugins, we use the coraza WAF plugin for caddy and it works well.</div><br/><div id="40265723" class="c"><input type="checkbox" id="c-40265723" checked=""/><div class="controls bullet"><span class="by">pricci</span><span>|</span><a href="#40265643">parent</a><span>|</span><a href="#40264932">next</a><span>|</span><label class="collapse" for="c-40265723">[-]</label><label class="expand" for="c-40265723">[4 more]</label></div><br/><div class="children"><div class="content">I moved from Traefik to Caddy with caddy-docker-proxy for my self-hosting setup.<p>All the features I need but *much* simpler.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;lucaslorentz&#x2F;caddy-docker-proxy">https:&#x2F;&#x2F;github.com&#x2F;lucaslorentz&#x2F;caddy-docker-proxy</a></div><br/><div id="40268408" class="c"><input type="checkbox" id="c-40268408" checked=""/><div class="controls bullet"><span class="by">preya2k</span><span>|</span><a href="#40265643">root</a><span>|</span><a href="#40265723">parent</a><span>|</span><a href="#40266239">next</a><span>|</span><label class="collapse" for="c-40268408">[-]</label><label class="expand" for="c-40268408">[1 more]</label></div><br/><div class="children"><div class="content">Same here. I enjoyed Traefik for being able to use docker tags for my reverse proxy configuration. The mechanism is great, however I did not like Traefiks internal config structure. Caddy is much easier for me to understand and matches my (small scale) use cases much better. Using Caddy via Docker labels through caddy-docker-proxy is about as perfect as it gets (for me).</div><br/></div></div><div id="40266239" class="c"><input type="checkbox" id="c-40266239" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#40265643">root</a><span>|</span><a href="#40265723">parent</a><span>|</span><a href="#40268408">prev</a><span>|</span><a href="#40264932">next</a><span>|</span><label class="collapse" for="c-40266239">[-]</label><label class="expand" for="c-40266239">[2 more]</label></div><br/><div class="children"><div class="content">Looks interesting but I don&#x27;t see the benefits really. Still looks like a lot of labels exactly like with traefik. Why should one switch?</div><br/><div id="40267893" class="c"><input type="checkbox" id="c-40267893" checked=""/><div class="controls bullet"><span class="by">BrandoElFollito</span><span>|</span><a href="#40265643">root</a><span>|</span><a href="#40266239">parent</a><span>|</span><a href="#40264932">next</a><span>|</span><label class="collapse" for="c-40267893">[-]</label><label class="expand" for="c-40267893">[1 more]</label></div><br/><div class="children"><div class="content">Having had used traefik, caddy and now caddy proxy, I like the latter because labels are simple pointers to actual caddy features (reasonably documented).<p>I used to have all my docker compose files in elaborate structures but moved to portainer for simplicity. Together with caddy proxy it rocks (well, there are several things missing but I have hope)</div><br/></div></div></div></div></div></div></div></div><div id="40264932" class="c"><input type="checkbox" id="c-40264932" checked=""/><div class="controls bullet"><span class="by">beestripes</span><span>|</span><a href="#40265643">prev</a><span>|</span><a href="#40264726">next</a><span>|</span><label class="collapse" for="c-40264932">[-]</label><label class="expand" for="c-40264932">[13 more]</label></div><br/><div class="children"><div class="content">Why traefik over nginx for my modest needs, a couple docker hosts and a few dozen containers. I use <a href="https:&#x2F;&#x2F;github.com&#x2F;NginxProxyManager&#x2F;nginx-proxy-manager">https:&#x2F;&#x2F;github.com&#x2F;NginxProxyManager&#x2F;nginx-proxy-manager</a>, would traefik provide a benefit on such a small scale?</div><br/><div id="40265311" class="c"><input type="checkbox" id="c-40265311" checked=""/><div class="controls bullet"><span class="by">aedocw</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40265075">next</a><span>|</span><label class="collapse" for="c-40265311">[-]</label><label class="expand" for="c-40265311">[3 more]</label></div><br/><div class="children"><div class="content">I think <a href="https:&#x2F;&#x2F;github.com&#x2F;caddyserver">https:&#x2F;&#x2F;github.com&#x2F;caddyserver</a> is the best option here. Automatic handling of SSL certs, it&#x27;s incredibly lightweight, and has super clear config syntax.</div><br/><div id="40271658" class="c"><input type="checkbox" id="c-40271658" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#40264932">root</a><span>|</span><a href="#40265311">parent</a><span>|</span><a href="#40267227">next</a><span>|</span><label class="collapse" for="c-40271658">[-]</label><label class="expand" for="c-40271658">[1 more]</label></div><br/><div class="children"><div class="content">If only the caddy ingress were done. I’ve been waiting years for it.</div><br/></div></div><div id="40267227" class="c"><input type="checkbox" id="c-40267227" checked=""/><div class="controls bullet"><span class="by">hoistbypetard</span><span>|</span><a href="#40264932">root</a><span>|</span><a href="#40265311">parent</a><span>|</span><a href="#40271658">prev</a><span>|</span><a href="#40265075">next</a><span>|</span><label class="collapse" for="c-40267227">[-]</label><label class="expand" for="c-40267227">[1 more]</label></div><br/><div class="children"><div class="content">That’s exactly the situation I like Caddy in also.</div><br/></div></div></div></div><div id="40265075" class="c"><input type="checkbox" id="c-40265075" checked=""/><div class="controls bullet"><span class="by">johnchristopher</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40265311">prev</a><span>|</span><a href="#40264998">next</a><span>|</span><label class="collapse" for="c-40265075">[-]</label><label class="expand" for="c-40265075">[2 more]</label></div><br/><div class="children"><div class="content">I like traefik hot reload (among other things). Want to hide a service (the proxied app), a new route (a router in traefik terminology), a middleware (basic auth, https redirection, headers manipulation) ? Just drop the file and it gets automatically picked up, no need to reload traefik or that vhost.<p>Truth is: I don&#x27;t like nginx syntax and traefik is&#x2F;was shiny :]. I went in for the LE renewal and containers, I stayed for the configuration style.</div><br/><div id="40266986" class="c"><input type="checkbox" id="c-40266986" checked=""/><div class="controls bullet"><span class="by">drdaeman</span><span>|</span><a href="#40264932">root</a><span>|</span><a href="#40265075">parent</a><span>|</span><a href="#40264998">next</a><span>|</span><label class="collapse" for="c-40266986">[-]</label><label class="expand" for="c-40266986">[1 more]</label></div><br/><div class="children"><div class="content">It’s not that nice in practice. Traefik until 3.0 (which was released just a few days ago) wasn’t been able to reload TLS certificates under some circumstances: <a href="https:&#x2F;&#x2F;github.com&#x2F;traefik&#x2F;traefik&#x2F;pull&#x2F;9993">https:&#x2F;&#x2F;github.com&#x2F;traefik&#x2F;traefik&#x2F;pull&#x2F;9993</a><p>Built-in ACME support doesn’t work for me, so I still have some `systemctl restart traefik` hacks here and there.</div><br/></div></div></div></div><div id="40264998" class="c"><input type="checkbox" id="c-40264998" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40265075">prev</a><span>|</span><a href="#40266886">next</a><span>|</span><label class="collapse" for="c-40264998">[-]</label><label class="expand" for="c-40264998">[3 more]</label></div><br/><div class="children"><div class="content">If what you&#x27;ve got already works then no, I don&#x27;t think you would see any benefit from switching.<p>The moment you need a feature which Traefik provides that isn&#x27;t in Nginx is when I would consider the switch.</div><br/><div id="40266569" class="c"><input type="checkbox" id="c-40266569" checked=""/><div class="controls bullet"><span class="by">treyd</span><span>|</span><a href="#40264932">root</a><span>|</span><a href="#40264998">parent</a><span>|</span><a href="#40266886">next</a><span>|</span><label class="collapse" for="c-40266569">[-]</label><label class="expand" for="c-40266569">[2 more]</label></div><br/><div class="children"><div class="content">But what features does Traefik have that nginx doesn&#x27;t?</div><br/><div id="40271064" class="c"><input type="checkbox" id="c-40271064" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#40264932">root</a><span>|</span><a href="#40266569">parent</a><span>|</span><a href="#40266886">next</a><span>|</span><label class="collapse" for="c-40271064">[-]</label><label class="expand" for="c-40271064">[1 more]</label></div><br/><div class="children"><div class="content">I believe the biggest are automatic Lets Encrypt certificates and the ability to discover services and route to them based on things like Kubernetes labels.</div><br/></div></div></div></div></div></div><div id="40266886" class="c"><input type="checkbox" id="c-40266886" checked=""/><div class="controls bullet"><span class="by">navels</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40264998">prev</a><span>|</span><a href="#40268830">next</a><span>|</span><label class="collapse" for="c-40266886">[-]</label><label class="expand" for="c-40266886">[1 more]</label></div><br/><div class="children"><div class="content">I also use NginxProxyManager (8 hosts) and I&#x27;m not seeing any replies to your post that would explain why caddyserver or traefik provide any benefit over NPM.</div><br/></div></div><div id="40268830" class="c"><input type="checkbox" id="c-40268830" checked=""/><div class="controls bullet"><span class="by">blinded</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40266886">prev</a><span>|</span><a href="#40266565">next</a><span>|</span><label class="collapse" for="c-40268830">[-]</label><label class="expand" for="c-40268830">[1 more]</label></div><br/><div class="children"><div class="content">metrics with non enterprise nginx are very limited.</div><br/></div></div><div id="40266565" class="c"><input type="checkbox" id="c-40266565" checked=""/><div class="controls bullet"><span class="by">treyd</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40268830">prev</a><span>|</span><a href="#40265145">next</a><span>|</span><label class="collapse" for="c-40266565">[-]</label><label class="expand" for="c-40266565">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I agree with this.  Nginx config is easy and you can just set it and forget it.  Most of the time you&#x27;re copypasting from other configs you already have anyways.  Automatic LE is kinda a strange selling point when Certbot is available everywhere and supports more scenarios.  Traefik&#x27;s and Caddy&#x27;s selling points just don&#x27;t make any sense to me because they don&#x27;t make anything easier than the alternatives that are already widely supported.</div><br/></div></div><div id="40265145" class="c"><input type="checkbox" id="c-40265145" checked=""/><div class="controls bullet"><span class="by">aaomidi</span><span>|</span><a href="#40264932">parent</a><span>|</span><a href="#40266565">prev</a><span>|</span><a href="#40264726">next</a><span>|</span><label class="collapse" for="c-40265145">[-]</label><label class="expand" for="c-40265145">[1 more]</label></div><br/><div class="children"><div class="content">Traefik does certificate management for you</div><br/></div></div></div></div><div id="40264726" class="c"><input type="checkbox" id="c-40264726" checked=""/><div class="controls bullet"><span class="by">psYchotic</span><span>|</span><a href="#40264932">prev</a><span>|</span><a href="#40265478">next</a><span>|</span><label class="collapse" for="c-40264726">[-]</label><label class="expand" for="c-40264726">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;m considering moving reverse proxying to Traefik for my self-hosted stuff. Unlike the article&#x27;s author, I&#x27;m running containerized workloads with Docker Compose, and currently using Caddy with the excellent caddy-docker-proxy plugin. What that gets me, currently:<p>- Reverse proxying, with Docker labels for configuration. New workloads are picked up automatically (but I do need to attach workloads to Caddy&#x27;s network bridge).<p>- TLS certificates<p>- Automatic DNS configuration (using yet another plugin, caddy-dynamicdns), so I don&#x27;t have to worry too much about losing access to my stuff if my ISP decides to hand me a different IP address (which hasn&#x27;t happened yet)<p>There are a few things I&#x27;m currently not entirely happy about my setup:<p>- Any new&#x2F;restarting workload makes Caddy restart entirely, resulting in loss of access to my stuff (temporarily). Caddy doesn&#x27;t hand off existing connections to a new instance, unfortunately.<p>- Using wildcard certs isn&#x27;t as simple as it could&#x2F;should be. As I don&#x27;t want every workload to be advertised to the world through certificate transparency logs, I use wildcard certs, and that means I currently can&#x27;t use simple Caddy file syntax I otherwise would with a cert per hostname. This is something I know is being worked on in Caddy, but still.<p>Anyway, I&#x27;ve used Traefik in k8s environments before, and it&#x27;s been fairly pleasant, so I think I&#x27;ll give it a go for my personal stuff too!<p>PS: Don&#x27;t let this comment discourage you trying Caddy, it&#x27;s actually really good!</div><br/><div id="40265314" class="c"><input type="checkbox" id="c-40265314" checked=""/><div class="controls bullet"><span class="by">eropple</span><span>|</span><a href="#40264726">parent</a><span>|</span><a href="#40266316">next</a><span>|</span><label class="collapse" for="c-40265314">[-]</label><label class="expand" for="c-40265314">[1 more]</label></div><br/><div class="children"><div class="content">I use Caddy for single-purpose hosts and the like, but I 100% would throw Traefik at the problems you&#x27;re describing--and I do, it&#x27;s my k8s cluster ingest and it runs in my dev environments to enable using `localtest.me` with hostnames.<p>It&#x27;s worth kicking the tires on. Both are great at different things.</div><br/></div></div><div id="40266316" class="c"><input type="checkbox" id="c-40266316" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#40264726">parent</a><span>|</span><a href="#40265314">prev</a><span>|</span><a href="#40265080">next</a><span>|</span><label class="collapse" for="c-40266316">[-]</label><label class="expand" for="c-40266316">[1 more]</label></div><br/><div class="children"><div class="content">I use (rootless) docker compose + traefik. Precisely because for wildcard certs it was really painless. Although I use my own DNS server and use RFC2136 DDNS for the LE DNS challenge.
No plugins needed, really. I have basically one ansible playbook to set all this up on a vm including templating out the compose files. Then another playbook that can remove everything from the server again (besides data&#x2F;mounts). For backups I use restic with a custom script that can back up files, different dbs etc to multiple locations.<p>In the past I deployed k3s but I realized that was too much and too complicated for my self hosted stuff. I just want to deploy things quickly and not have to handle the certs myself.</div><br/></div></div><div id="40265080" class="c"><input type="checkbox" id="c-40265080" checked=""/><div class="controls bullet"><span class="by">Cyykratahk</span><span>|</span><a href="#40264726">parent</a><span>|</span><a href="#40266316">prev</a><span>|</span><a href="#40264857">next</a><span>|</span><label class="collapse" for="c-40265080">[-]</label><label class="expand" for="c-40265080">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used caddy-docker-proxy in production and it doesn&#x27;t cause Caddy to drop connections when loading a new config.<p>I just tested it locally to check and it works fine.</div><br/><div id="40265333" class="c"><input type="checkbox" id="c-40265333" checked=""/><div class="controls bullet"><span class="by">psYchotic</span><span>|</span><a href="#40264726">root</a><span>|</span><a href="#40265080">parent</a><span>|</span><a href="#40264857">next</a><span>|</span><label class="collapse" for="c-40265333">[-]</label><label class="expand" for="c-40265333">[1 more]</label></div><br/><div class="children"><div class="content">Hmm, I&#x27;ll have to take a better look at my setup then, because it&#x27;s a daily occurrence for me. Either I&#x27;m &quot;holding it wrong&quot; (which is admittedly possible, perhaps even likely given the comments here), or I have a ticket to open soon-ish.</div><br/></div></div></div></div><div id="40264857" class="c"><input type="checkbox" id="c-40264857" checked=""/><div class="controls bullet"><span class="by">mynegation</span><span>|</span><a href="#40264726">parent</a><span>|</span><a href="#40265080">prev</a><span>|</span><a href="#40264947">next</a><span>|</span><label class="collapse" for="c-40264857">[-]</label><label class="expand" for="c-40264857">[1 more]</label></div><br/><div class="children"><div class="content">I have not used Caddy, I use traefik and it discovers docker properties for configuration and TLS certificates with auto update. Not sure about dynamic DNS - I do not use it from Traefik. Adding and removing containers does not need a restart AFAIR.</div><br/></div></div><div id="40264947" class="c"><input type="checkbox" id="c-40264947" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#40264726">parent</a><span>|</span><a href="#40264857">prev</a><span>|</span><a href="#40265478">next</a><span>|</span><label class="collapse" for="c-40264947">[-]</label><label class="expand" for="c-40264947">[5 more]</label></div><br/><div class="children"><div class="content">Those are giant limitations. This is the first I hear of any reverse proxy that has to restart and drop connections to update configuration. That is usually the first, most fundamental part of any such server&#x27;s design.</div><br/><div id="40265065" class="c"><input type="checkbox" id="c-40265065" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#40264726">root</a><span>|</span><a href="#40264947">parent</a><span>|</span><a href="#40265047">next</a><span>|</span><label class="collapse" for="c-40265065">[-]</label><label class="expand" for="c-40265065">[2 more]</label></div><br/><div class="children"><div class="content">That is absolutely not the case. Caddy config reloads are graceful and lightweight. I have no idea why this person is stopping their server instead of reloading the config.</div><br/><div id="40266907" class="c"><input type="checkbox" id="c-40266907" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#40264726">root</a><span>|</span><a href="#40265065">parent</a><span>|</span><a href="#40265047">next</a><span>|</span><label class="collapse" for="c-40266907">[-]</label><label class="expand" for="c-40266907">[1 more]</label></div><br/><div class="children"><div class="content">That makes more sense. Maybe something with the Docker plugin? That or GP messed up.</div><br/></div></div></div></div><div id="40265047" class="c"><input type="checkbox" id="c-40265047" checked=""/><div class="controls bullet"><span class="by">IggleSniggle</span><span>|</span><a href="#40264726">root</a><span>|</span><a href="#40264947">parent</a><span>|</span><a href="#40265065">prev</a><span>|</span><a href="#40265478">next</a><span>|</span><label class="collapse" for="c-40265047">[-]</label><label class="expand" for="c-40265047">[2 more]</label></div><br/><div class="children"><div class="content">Caddy doesn&#x27;t have to restart, I think it&#x27;s related to the specifics of their setup. The simple&#x2F;easy path that gets a lot of people into caddy has a workflow that&#x27;s more like, run caddy, job done. The next level is, give caddy super simple configuration file, reload caddy with &quot;caddy reload --config &#x2F;etc&#x2F;caddy&#x2F;Caddyfile&quot;. After that, you use the REST API to make changes to the server while it is running, which uses a JSON configuration definition instead of a Caddyfile, so it ends up being a jump for users.</div><br/><div id="40265197" class="c"><input type="checkbox" id="c-40265197" checked=""/><div class="controls bullet"><span class="by">m_sahaf</span><span>|</span><a href="#40264726">root</a><span>|</span><a href="#40265047">parent</a><span>|</span><a href="#40265478">next</a><span>|</span><label class="collapse" for="c-40265197">[-]</label><label class="expand" for="c-40265197">[1 more]</label></div><br/><div class="children"><div class="content">&gt; After that, you use the REST API to make changes to the server while it is running, which uses a JSON configuration definition instead of a Caddyfile, so it ends up being a jump for users.<p>You can, in fact, use any configuration format with the API as long as Caddy has its adapter compiled-in; you just have to use the correct value in the `Content-Type` header. For instance, you can use Caddyfile format using the `text&#x2F;caddyfile` value in `Content-Type`. This is documented[0].<p>[0] <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;api#post-load" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;api#post-load</a></div><br/></div></div></div></div></div></div></div></div><div id="40265478" class="c"><input type="checkbox" id="c-40265478" checked=""/><div class="controls bullet"><span class="by">jasoneckert</span><span>|</span><a href="#40264726">prev</a><span>|</span><a href="#40266623">next</a><span>|</span><label class="collapse" for="c-40265478">[-]</label><label class="expand" for="c-40265478">[2 more]</label></div><br/><div class="children"><div class="content">Another thing worthy of note is that Traefik is configured by default in K3s. This has allowed K3s to be the quickest way to spin up a K8s cluster for testing, essentially allowing you to treat your cluster like cattle too. Simply add your deployment and associated service using NodePort, and you can access your app without worrying about the ingress controller.<p>I use a shell script to spin up K3s clusters and test apps I specify as a positional parameter on demand (leveraging the ttl.sh ephemeral container registry). The same script tears down the cluster when finished.</div><br/></div></div><div id="40266623" class="c"><input type="checkbox" id="c-40266623" checked=""/><div class="controls bullet"><span class="by">teekert</span><span>|</span><a href="#40265478">prev</a><span>|</span><a href="#40264887">next</a><span>|</span><label class="collapse" for="c-40266623">[-]</label><label class="expand" for="c-40266623">[1 more]</label></div><br/><div class="children"><div class="content">I have used traefik a lot. But I mostly got frustrated with all the docker-compose labels and layers and so many lines just to have a rev proxy. Then I found Caddy. Never looked back.<p>I guess I was never the audience for Traefik. I just need an https enabled rev proxy. Or a basic-auth layer. In Caddy both are just 1 line, very concise, no layers (which I still don’t understand…)</div><br/></div></div><div id="40264887" class="c"><input type="checkbox" id="c-40264887" checked=""/><div class="controls bullet"><span class="by">djhworld</span><span>|</span><a href="#40266623">prev</a><span>|</span><a href="#40272170">next</a><span>|</span><label class="collapse" for="c-40264887">[-]</label><label class="expand" for="c-40264887">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using traefik for a few years for all my self hosted things.<p>I abandoned the dynamic&#x2F;discovery&#x2F;docker labelling functionality though it was just too finicky and annoying to debug.<p>Instead I generate a static config file using a template engine, pretty much all my things are just a combination of host&#x2F;target&#x2F;port so very easy to generate the relevant sections - I don&#x27;t really have any complicated middlewares other than handling TLS. It sounds like the author of the linked post has taken the same route.<p>The config gets generated through an ansible script and then gets copied to the machine where traefik is running - traefik watches the directory where that file is and auto-reloads on changes.<p>It&#x27;s been working great!</div><br/></div></div><div id="40272170" class="c"><input type="checkbox" id="c-40272170" checked=""/><div class="controls bullet"><span class="by">dmeijboom</span><span>|</span><a href="#40264887">prev</a><span>|</span><a href="#40264846">next</a><span>|</span><label class="collapse" for="c-40272170">[-]</label><label class="expand" for="c-40272170">[1 more]</label></div><br/><div class="children"><div class="content">I don’t get the appeal of Traefik. If you want an easy to use reverse proxy that works well, pick nginx. Want something simple for self-hosting? Take a look as caddy. For Kubernetes, try out Envoy Gateway.</div><br/></div></div><div id="40264846" class="c"><input type="checkbox" id="c-40264846" checked=""/><div class="controls bullet"><span class="by">silverquiet</span><span>|</span><a href="#40272170">prev</a><span>|</span><a href="#40265319">next</a><span>|</span><label class="collapse" for="c-40264846">[-]</label><label class="expand" for="c-40264846">[9 more]</label></div><br/><div class="children"><div class="content">I use Traefik in production (with containers), and my favorite aspect of it is that the configuration is carried via the labels on containers which means I rarely if ever need to make any modifications to the Traefik config itself. I&#x27;d say the biggest con is trying to figure out how to pronounce the name - I think it&#x27;s just regular traffic, but I can&#x27;t help wanting to call it &quot;trey-feek&quot; or something like that.</div><br/><div id="40265214" class="c"><input type="checkbox" id="c-40265214" checked=""/><div class="controls bullet"><span class="by">fidotron</span><span>|</span><a href="#40264846">parent</a><span>|</span><a href="#40266482">next</a><span>|</span><label class="collapse" for="c-40265214">[-]</label><label class="expand" for="c-40265214">[2 more]</label></div><br/><div class="children"><div class="content">Heavy +1 on the labels thing. Reduces the scope of things to keep track of massively, even if writing them the first time is slightly harder because of the escaping and verbosity.<p>I think a combination of traefik and docker compose are in the sweet spot for small scale self hosters that haven&#x27;t reached the point where k8s will pay off. i.e. if you have less servers than a k8s HA control plane would use.</div><br/><div id="40265271" class="c"><input type="checkbox" id="c-40265271" checked=""/><div class="controls bullet"><span class="by">silverquiet</span><span>|</span><a href="#40264846">root</a><span>|</span><a href="#40265214">parent</a><span>|</span><a href="#40266482">next</a><span>|</span><label class="collapse" for="c-40265271">[-]</label><label class="expand" for="c-40265271">[1 more]</label></div><br/><div class="children"><div class="content">Small-scale self hoster would certainly describe my situation (though we do have some of the same infrastructure issues as larger companies). We actually use Swarm which I generally like, but if it was my call we might have looked more at a simplified Kubernetes platform like K3s just because of a safety in numbers aspect.</div><br/></div></div></div></div><div id="40266482" class="c"><input type="checkbox" id="c-40266482" checked=""/><div class="controls bullet"><span class="by">arcanemachiner</span><span>|</span><a href="#40264846">parent</a><span>|</span><a href="#40265214">prev</a><span>|</span><a href="#40266399">next</a><span>|</span><label class="collapse" for="c-40266482">[-]</label><label class="expand" for="c-40266482">[1 more]</label></div><br/><div class="children"><div class="content">I just pronounce it &quot;traffic&quot;. I&#x27;m not playing their damn head games.</div><br/></div></div><div id="40266399" class="c"><input type="checkbox" id="c-40266399" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#40264846">parent</a><span>|</span><a href="#40266482">prev</a><span>|</span><a href="#40265602">next</a><span>|</span><label class="collapse" for="c-40266399">[-]</label><label class="expand" for="c-40266399">[1 more]</label></div><br/><div class="children"><div class="content">I would say the biggest con is that, if a container is not existing&#x2F;running, traefik is not aware of it or its labels.
Otherwise you could more easily do cool stuff like maintenance pages, bringing up containers on the first request after inactivity etc.
So for me, I have been thinking about creating a plugin that is aware of where I store my compose files and can look at them instead.</div><br/></div></div><div id="40265015" class="c"><input type="checkbox" id="c-40265015" checked=""/><div class="controls bullet"><span class="by">Projectiboga</span><span>|</span><a href="#40264846">parent</a><span>|</span><a href="#40265602">prev</a><span>|</span><a href="#40265319">next</a><span>|</span><label class="collapse" for="c-40265015">[-]</label><label class="expand" for="c-40265015">[3 more]</label></div><br/><div class="children"><div class="content">ae is closest to y, or hi. 
So Tryfik, is my guess, otherwise is Trayfik. If it&#x27;s European fik, might be feek. 
*Just taking a guess here.</div><br/><div id="40265356" class="c"><input type="checkbox" id="c-40265356" checked=""/><div class="controls bullet"><span class="by">psYchotic</span><span>|</span><a href="#40264846">root</a><span>|</span><a href="#40265015">parent</a><span>|</span><a href="#40265064">next</a><span>|</span><label class="collapse" for="c-40265356">[-]</label><label class="expand" for="c-40265356">[1 more]</label></div><br/><div class="children"><div class="content">&gt; ae is closest to y, or hi. So Tryfik, is my guess, otherwise is Trayfik. If it&#x27;s European fik, might be feek. *Just taking a guess here.<p>I wondered how to pronounce Traefik myself, so I started googling, and came across this: <a href="https:&#x2F;&#x2F;traefik.io&#x2F;blog&#x2F;how-to-pronounce-traefik-d06696a3f026&#x2F;" rel="nofollow">https:&#x2F;&#x2F;traefik.io&#x2F;blog&#x2F;how-to-pronounce-traefik-d06696a3f02...</a><p>Tldr: just pronounce as you would &quot;traffic&quot;.</div><br/></div></div><div id="40265064" class="c"><input type="checkbox" id="c-40265064" checked=""/><div class="controls bullet"><span class="by">tazjin</span><span>|</span><a href="#40264846">root</a><span>|</span><a href="#40265015">parent</a><span>|</span><a href="#40265356">prev</a><span>|</span><a href="#40265319">next</a><span>|</span><label class="collapse" for="c-40265064">[-]</label><label class="expand" for="c-40265064">[1 more]</label></div><br/><div class="children"><div class="content">I think its &quot;träfik&quot;, i.e. &quot;traffic&quot; with a German accent.</div><br/></div></div></div></div></div></div><div id="40265319" class="c"><input type="checkbox" id="c-40265319" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#40264846">prev</a><span>|</span><a href="#40271185">next</a><span>|</span><label class="collapse" for="c-40265319">[-]</label><label class="expand" for="c-40265319">[3 more]</label></div><br/><div class="children"><div class="content">I use caddy wherever I can. That it can already handle automatic certificates is a big plus. Plus it&#x27;s very easy to congiure.</div><br/><div id="40271860" class="c"><input type="checkbox" id="c-40271860" checked=""/><div class="controls bullet"><span class="by">amne</span><span>|</span><a href="#40265319">parent</a><span>|</span><a href="#40267385">next</a><span>|</span><label class="collapse" for="c-40271860">[-]</label><label class="expand" for="c-40271860">[1 more]</label></div><br/><div class="children"><div class="content">I tried to get caddy to listen to both ports 80 and 443 in a cluster. I failed miserably. The documentation simply dismisses this as a possible scenario.</div><br/></div></div><div id="40267385" class="c"><input type="checkbox" id="c-40267385" checked=""/><div class="controls bullet"><span class="by">jspdown</span><span>|</span><a href="#40265319">parent</a><span>|</span><a href="#40271860">prev</a><span>|</span><a href="#40271185">next</a><span>|</span><label class="collapse" for="c-40267385">[-]</label><label class="expand" for="c-40267385">[1 more]</label></div><br/><div class="children"><div class="content">If you like Caddy for it&#x27;s ACME capabilities, then you might enjoy Traefik as well. It supports HTTP, TLS ALPN and DNS challenges and can be configured in one line as well.</div><br/></div></div></div></div><div id="40271185" class="c"><input type="checkbox" id="c-40271185" checked=""/><div class="controls bullet"><span class="by">notoall</span><span>|</span><a href="#40265319">prev</a><span>|</span><a href="#40266576">next</a><span>|</span><label class="collapse" for="c-40271185">[-]</label><label class="expand" for="c-40271185">[2 more]</label></div><br/><div class="children"><div class="content">For simple deployments, consider whether you need a reverse proxy at all.<p>I have IPv6 everywhere, with each service getting its own IPv6 address. Each service is managed in inetd-style (via systemd-socket-proxyd ), and so essentially listens directly.<p>For services that need to serve IPv4, I have a reverse proxy on my network edge that demuxes on TLS SNI to the corresponding IPv6 address.<p>The advantage here is never having to deal with complex applications, with their complex and changing configuration.</div><br/><div id="40271220" class="c"><input type="checkbox" id="c-40271220" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#40271185">parent</a><span>|</span><a href="#40266576">next</a><span>|</span><label class="collapse" for="c-40271220">[-]</label><label class="expand" for="c-40271220">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using a reverse proxy just to terminate TLS. Pretty sure it is possible to do that at a service level, but don&#x27;t think it&#x27;s worth the trouble.</div><br/></div></div></div></div><div id="40266576" class="c"><input type="checkbox" id="c-40266576" checked=""/><div class="controls bullet"><span class="by">ofrzeta</span><span>|</span><a href="#40271185">prev</a><span>|</span><a href="#40272352">next</a><span>|</span><label class="collapse" for="c-40266576">[-]</label><label class="expand" for="c-40266576">[2 more]</label></div><br/><div class="children"><div class="content">Is it any better than HAProxy? HAProxy has served me well for at least a decade and has also been modernized for the cloud age with the runtime API that allows dynamic configuration.</div><br/><div id="40267268" class="c"><input type="checkbox" id="c-40267268" checked=""/><div class="controls bullet"><span class="by">ljhtlajdfqasd</span><span>|</span><a href="#40266576">parent</a><span>|</span><a href="#40272352">next</a><span>|</span><label class="collapse" for="c-40267268">[-]</label><label class="expand" for="c-40267268">[1 more]</label></div><br/><div class="children"><div class="content">All of these proxies seemed to have achieved feature parity within the last couple years.<p>Where they seem differ is the licensing, enterprise model, source language, and data plane model (sidecar vs no sidecar).</div><br/></div></div></div></div><div id="40272352" class="c"><input type="checkbox" id="c-40272352" checked=""/><div class="controls bullet"><span class="by">1oooqooq</span><span>|</span><a href="#40266576">prev</a><span>|</span><a href="#40265058">next</a><span>|</span><label class="collapse" for="c-40272352">[-]</label><label class="expand" for="c-40272352">[1 more]</label></div><br/><div class="children"><div class="content">&gt; “Server Name Indication” (SNI)<p>into the trash it goes. anyone who support https everywhere and ever slightly tolerates SNI is a fool.</div><br/></div></div><div id="40265058" class="c"><input type="checkbox" id="c-40265058" checked=""/><div class="controls bullet"><span class="by">riedel</span><span>|</span><a href="#40272352">prev</a><span>|</span><a href="#40266192">next</a><span>|</span><label class="collapse" for="c-40265058">[-]</label><label class="expand" for="c-40265058">[1 more]</label></div><br/><div class="children"><div class="content">Funnily I spend my weekend making a traefik config file to gitlab pages on a self hosted instance without pages enabled but using the artifact API. No code involved. Had to configure quite some rewriting logic and use three different plug-ins, which are mostly unmaintained. In the end probably something like nginx, Apache or caddy or a bit of code probably would have worked better, because of all the layering of different middleware. But it worked somehow. I guess it shines through still for easy SSL termination of docker and great observability. That is why at least I have been using it for the past years.</div><br/></div></div><div id="40266192" class="c"><input type="checkbox" id="c-40266192" checked=""/><div class="controls bullet"><span class="by">Sincere6066</span><span>|</span><a href="#40265058">prev</a><span>|</span><a href="#40264811">next</a><span>|</span><label class="collapse" for="c-40266192">[-]</label><label class="expand" for="c-40266192">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll stick with caddy. It&#x27;s worked for me for years.</div><br/></div></div><div id="40264811" class="c"><input type="checkbox" id="c-40264811" checked=""/><div class="controls bullet"><span class="by">MrOxiMoron</span><span>|</span><a href="#40266192">prev</a><span>|</span><a href="#40266562">next</a><span>|</span><label class="collapse" for="c-40264811">[-]</label><label class="expand" for="c-40264811">[1 more]</label></div><br/><div class="children"><div class="content">I love treafik, we use it with nomad&#x2F;consul and docker to setup our whole infrastructure. The plugin system is also simple yet powerful and the dynamic configs are great for our customers custom domains, we can quickly see if a domain points to the right IP and put it in to get everything working. And of a domain no longer points to is we get a slack notification and it removes it from traefik so it no longer tries to get SSL certificates for it.</div><br/></div></div><div id="40266562" class="c"><input type="checkbox" id="c-40266562" checked=""/><div class="controls bullet"><span class="by">barbazoo</span><span>|</span><a href="#40264811">prev</a><span>|</span><a href="#40266327">next</a><span>|</span><label class="collapse" for="c-40266562">[-]</label><label class="expand" for="c-40266562">[1 more]</label></div><br/><div class="children"><div class="content">I’d stay away from it. The magical way to set it up via docker compose tags is nice but doesn’t allow for zero downtime deployment at least until recently.<p>Getting true zero downtime deployments only worked with their file provider but that’s a bit archaic these days.</div><br/></div></div><div id="40266327" class="c"><input type="checkbox" id="c-40266327" checked=""/><div class="controls bullet"><span class="by">rglullis</span><span>|</span><a href="#40266562">prev</a><span>|</span><a href="#40267222">next</a><span>|</span><label class="collapse" for="c-40266327">[-]</label><label class="expand" for="c-40266327">[5 more]</label></div><br/><div class="children"><div class="content">For authentication, I had good luck with authentik as forward proxy.<p>The one thing that bothers me with traefik is that their implementation of ACME does not work if you have some sort of DNS load balancing. I had one setup with three servers responding to the same domain. It seems the first request )to start the ACME dance) would go to one server, and if the second one (with the .well-known address) is sent to a different one, it will just return a 404 and fail the whole thing. Now I either have * to delegate the certificate management to the service itself or add Caddy as a secondary proxy just to get certificate from it.<p>* Of course, someone smarter than me will point me to a better solution and I will be forever grateful.</div><br/><div id="40266400" class="c"><input type="checkbox" id="c-40266400" checked=""/><div class="controls bullet"><span class="by">jackweirdy</span><span>|</span><a href="#40266327">parent</a><span>|</span><a href="#40267222">next</a><span>|</span><label class="collapse" for="c-40266400">[-]</label><label class="expand" for="c-40266400">[4 more]</label></div><br/><div class="children"><div class="content">If I am not misunderstanding (sorry if I am) it sounds like you use the http challenge where your cert provider tries to GET your challenge file — if so, could the DNS challenge be better suited? There, you put the challenge in a TXT record value</div><br/><div id="40266670" class="c"><input type="checkbox" id="c-40266670" checked=""/><div class="controls bullet"><span class="by">rglullis</span><span>|</span><a href="#40266327">root</a><span>|</span><a href="#40266400">parent</a><span>|</span><a href="#40267222">next</a><span>|</span><label class="collapse" for="c-40266670">[-]</label><label class="expand" for="c-40266670">[3 more]</label></div><br/><div class="children"><div class="content">You got it, but your solution won&#x27;t work because of one detail: I can not use the DNS challenge because I am running a managed service provider, and my customers are the ones who own the domain. All I can do is ask them &quot;please add a CNAME to my gateway&quot;, and I need to figure out everything else on my side.</div><br/><div id="40269573" class="c"><input type="checkbox" id="c-40269573" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#40266327">root</a><span>|</span><a href="#40266670">parent</a><span>|</span><a href="#40267429">next</a><span>|</span><label class="collapse" for="c-40269573">[-]</label><label class="expand" for="c-40269573">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like you&#x27;re looking for Caddy&#x27;s On-Demand TLS, then. No other server or ACME client does this. <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;automatic-https#on-demand-tls" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;automatic-https#on-demand-tls</a></div><br/></div></div><div id="40267429" class="c"><input type="checkbox" id="c-40267429" checked=""/><div class="controls bullet"><span class="by">jspdown</span><span>|</span><a href="#40266327">root</a><span>|</span><a href="#40266670">parent</a><span>|</span><a href="#40269573">prev</a><span>|</span><a href="#40267222">next</a><span>|</span><label class="collapse" for="c-40267429">[-]</label><label class="expand" for="c-40267429">[1 more]</label></div><br/><div class="children"><div class="content">It might not be suitable for your use case but, have you tried ACME DNS challenge delegation to a different one hosted by yourself?</div><br/></div></div></div></div></div></div></div></div><div id="40267222" class="c"><input type="checkbox" id="c-40267222" checked=""/><div class="controls bullet"><span class="by">cab404</span><span>|</span><a href="#40266327">prev</a><span>|</span><a href="#40265363">next</a><span>|</span><label class="collapse" for="c-40267222">[-]</label><label class="expand" for="c-40267222">[1 more]</label></div><br/><div class="children"><div class="content">Somehow, I find myself using Caddy everywhere I would use Træfik in the past.</div><br/></div></div><div id="40265363" class="c"><input type="checkbox" id="c-40265363" checked=""/><div class="controls bullet"><span class="by">chadsix</span><span>|</span><a href="#40267222">prev</a><span>|</span><a href="#40265023">next</a><span>|</span><label class="collapse" for="c-40265363">[-]</label><label class="expand" for="c-40265363">[1 more]</label></div><br/><div class="children"><div class="content">You can also use Cloud Seeder [1] which might be easier since it gives each container a dedicated IP. &lt;&#x2F;shamelessplug&gt;<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;ipv6rslimited&#x2F;cloudseeder">https:&#x2F;&#x2F;github.com&#x2F;ipv6rslimited&#x2F;cloudseeder</a></div><br/></div></div><div id="40265023" class="c"><input type="checkbox" id="c-40265023" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#40265363">prev</a><span>|</span><a href="#40267950">next</a><span>|</span><label class="collapse" for="c-40265023">[-]</label><label class="expand" for="c-40265023">[10 more]</label></div><br/><div class="children"><div class="content">Side question - what people use to hide (and make accessible) the internal services such as grafana, prometheus, rabbit mq (the web interface) and such?<p>Should they be public behind such a proxy? (seems odd)
Or should they be totally internal and then setup a Wireguard VPN to reach them?</div><br/><div id="40271744" class="c"><input type="checkbox" id="c-40271744" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40266501">next</a><span>|</span><label class="collapse" for="c-40271744">[-]</label><label class="expand" for="c-40271744">[1 more]</label></div><br/><div class="children"><div class="content">They are open to the internet but each ingress is using the “external auth” feature of nginx ingress, pointing to our internal login. There’s no vpn or magic ip addresses. Once you’re logged in, you can access whatever you need.</div><br/></div></div><div id="40266501" class="c"><input type="checkbox" id="c-40266501" checked=""/><div class="controls bullet"><span class="by">mrj</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40271744">prev</a><span>|</span><a href="#40265094">next</a><span>|</span><label class="collapse" for="c-40266501">[-]</label><label class="expand" for="c-40266501">[1 more]</label></div><br/><div class="children"><div class="content">Cloudflare tunnels are super convenient and provide lots of auth mechanisms. If you set up a tunnel using cloudflared and proxy the IP through cloudflare, there&#x27;s nothing even exposed directly to the internet. You can even have different auth requirements for urls (like &#x2F;admin) or punch holes for stuff like webhooks.<p>I have set up quite a few as kubernetes pods that direct to private hostnames in different namespaces and pretty happy with it for internal apps.</div><br/></div></div><div id="40265094" class="c"><input type="checkbox" id="c-40265094" checked=""/><div class="controls bullet"><span class="by">section_me</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40266501">prev</a><span>|</span><a href="#40265098">next</a><span>|</span><label class="collapse" for="c-40265094">[-]</label><label class="expand" for="c-40265094">[1 more]</label></div><br/><div class="children"><div class="content">Auth forwarding[1] is normally the route. This allows you to basically zero auth your services. You can also use wireguard or tailscale[2]<p>[1] <a href="https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;middlewares&#x2F;http&#x2F;forwardauth&#x2F;" rel="nofollow">https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;middlewares&#x2F;http&#x2F;forwardauth&#x2F;</a>
[2] <a href="https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;master&#x2F;https&#x2F;tailscale&#x2F;" rel="nofollow">https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;master&#x2F;https&#x2F;tailscale&#x2F;</a></div><br/></div></div><div id="40265098" class="c"><input type="checkbox" id="c-40265098" checked=""/><div class="controls bullet"><span class="by">Hrun0</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40265094">prev</a><span>|</span><a href="#40266759">next</a><span>|</span><label class="collapse" for="c-40265098">[-]</label><label class="expand" for="c-40265098">[1 more]</label></div><br/><div class="children"><div class="content">&gt; what people use to hide (and make accessible) the internal services such as grafana, prometheus, rabbit mq (the web interface) and such?<p>Proxies or VPNs like you mentioned.
You usually don&#x27;t expose things if you don&#x27;t have to.</div><br/></div></div><div id="40266759" class="c"><input type="checkbox" id="c-40266759" checked=""/><div class="controls bullet"><span class="by">nullify88</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40265098">prev</a><span>|</span><a href="#40265072">next</a><span>|</span><label class="collapse" for="c-40266759">[-]</label><label class="expand" for="c-40266759">[1 more]</label></div><br/><div class="children"><div class="content">For the purposes of some of my self hosted stuff, I wanted to see how far I could go without VPN and instead use mutual tls authentication with my stuff exposed to the internet. Client certs are issued by cert manager in my k8s cluster and traefik does my TLS Auth.</div><br/></div></div><div id="40265072" class="c"><input type="checkbox" id="c-40265072" checked=""/><div class="controls bullet"><span class="by">pyr0hu</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40266759">prev</a><span>|</span><a href="#40265089">next</a><span>|</span><label class="collapse" for="c-40265072">[-]</label><label class="expand" for="c-40265072">[1 more]</label></div><br/><div class="children"><div class="content">We use tailscale for this exact use case and has been working flawlessly so far. You can even set up ACL lists as a firewall.</div><br/></div></div><div id="40265089" class="c"><input type="checkbox" id="c-40265089" checked=""/><div class="controls bullet"><span class="by">John23832</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40265072">prev</a><span>|</span><a href="#40265095">next</a><span>|</span><label class="collapse" for="c-40265089">[-]</label><label class="expand" for="c-40265089">[1 more]</label></div><br/><div class="children"><div class="content">From the internet? Drop them at the ingress level (if using kubernetes). You could also do some ip filtering. Then use an internal proxy (or internal ip of some kind) to reach them.<p>For proof of concepts, I use cloudflare tunnels which allows you to add ACLs to particular routes.</div><br/></div></div><div id="40265095" class="c"><input type="checkbox" id="c-40265095" checked=""/><div class="controls bullet"><span class="by">waldrews</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40265089">prev</a><span>|</span><a href="#40268837">next</a><span>|</span><label class="collapse" for="c-40265095">[-]</label><label class="expand" for="c-40265095">[1 more]</label></div><br/><div class="children"><div class="content">Serve them on a firewalled port, then: 1) VPN if you need to expose them to multiple trusted users, 2) firewall rules to make them accessible to your IP range, or (probably easiest), 3) access them by ssh tunnel.</div><br/></div></div><div id="40268837" class="c"><input type="checkbox" id="c-40268837" checked=""/><div class="controls bullet"><span class="by">blinded</span><span>|</span><a href="#40265023">parent</a><span>|</span><a href="#40265095">prev</a><span>|</span><a href="#40267950">next</a><span>|</span><label class="collapse" for="c-40268837">[-]</label><label class="expand" for="c-40268837">[1 more]</label></div><br/><div class="children"><div class="content">zero trust, host firewalls, mtls, ssh tunnels, bastion hosts.</div><br/></div></div></div></div><div id="40267950" class="c"><input type="checkbox" id="c-40267950" checked=""/><div class="controls bullet"><span class="by">firesteelrain</span><span>|</span><a href="#40265023">prev</a><span>|</span><a href="#40265256">next</a><span>|</span><label class="collapse" for="c-40267950">[-]</label><label class="expand" for="c-40267950">[1 more]</label></div><br/><div class="children"><div class="content">We just started running Traefik in production since looking at self managed K8s was just too hard and complicated for what we were trying to do. We have an Ansible Docker compose service (that’s what we call it), that starts up the containers and auto registers the containers with Traefik. It works really well.<p>We are airgapped so can’t use Let’s Encrypt. We inject the certs into our containers via Ansible or Docker Compose.</div><br/></div></div><div id="40265256" class="c"><input type="checkbox" id="c-40265256" checked=""/><div class="controls bullet"><span class="by">methou</span><span>|</span><a href="#40267950">prev</a><span>|</span><a href="#40265029">next</a><span>|</span><label class="collapse" for="c-40265256">[-]</label><label class="expand" for="c-40265256">[2 more]</label></div><br/><div class="children"><div class="content">The only problem I&#x27;m having with it is that it doesn&#x27;t support unix domain socket[0], in a &quot;cloud native&quot; environment you rarely need it but if you are using single node this can be sweet.<p>--
[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;traefik&#x2F;traefik&#x2F;issues&#x2F;4881">https:&#x2F;&#x2F;github.com&#x2F;traefik&#x2F;traefik&#x2F;issues&#x2F;4881</a></div><br/><div id="40265839" class="c"><input type="checkbox" id="c-40265839" checked=""/><div class="controls bullet"><span class="by">meonkeys</span><span>|</span><a href="#40265256">parent</a><span>|</span><a href="#40265029">next</a><span>|</span><label class="collapse" for="c-40265839">[-]</label><label class="expand" for="c-40265839">[1 more]</label></div><br/><div class="children"><div class="content">Could you say more about how a non-network socket would be beneficial? I&#x27;m guessing simpler code and lower resource usage, but I&#x27;m curious what you&#x27;re interested in. And by &quot;single node&quot;, do you mean one server &#x2F; one user (even if the user is, say, a single API consumer or whatever), or something else?</div><br/></div></div></div></div><div id="40265029" class="c"><input type="checkbox" id="c-40265029" checked=""/><div class="controls bullet"><span class="by">btbuilder</span><span>|</span><a href="#40265256">prev</a><span>|</span><a href="#40268561">next</a><span>|</span><label class="collapse" for="c-40265029">[-]</label><label class="expand" for="c-40265029">[1 more]</label></div><br/><div class="children"><div class="content">When looking for a reverse proxy that is performant on Windows and Linux around 5 or 6 years ago the options were very limited. Traefik is what we ended up using.<p>I haven’t checked recently but at the time nginx on Windows used select() and envoy was either beta or needed a recent version of the Windows kernel that not all customers were running.<p>We still use it today.</div><br/></div></div><div id="40268561" class="c"><input type="checkbox" id="c-40268561" checked=""/><div class="controls bullet"><span class="by">brainzap</span><span>|</span><a href="#40265029">prev</a><span>|</span><a href="#40267350">next</a><span>|</span><label class="collapse" for="c-40268561">[-]</label><label class="expand" for="c-40268561">[1 more]</label></div><br/><div class="children"><div class="content">It would be nice if proxies are opinionated about typical URL usecases and offer an easy way to redirect www to non-www or handle path with missing slash.</div><br/></div></div><div id="40267350" class="c"><input type="checkbox" id="c-40267350" checked=""/><div class="controls bullet"><span class="by">vedmed</span><span>|</span><a href="#40268561">prev</a><span>|</span><a href="#40265770">next</a><span>|</span><label class="collapse" for="c-40267350">[-]</label><label class="expand" for="c-40267350">[1 more]</label></div><br/><div class="children"><div class="content">I needed a reverse proxy the other week. OPNSense is my firewall. I tried traefik, but it was too complicated. So I installed caddy, and it was easy as pie. My .02</div><br/></div></div><div id="40265770" class="c"><input type="checkbox" id="c-40265770" checked=""/><div class="controls bullet"><span class="by">muhehe</span><span>|</span><a href="#40267350">prev</a><span>|</span><a href="#40265265">next</a><span>|</span><label class="collapse" for="c-40265770">[-]</label><label class="expand" for="c-40265770">[2 more]</label></div><br/><div class="children"><div class="content">In the future our company will migrate to k8s. It looks like it will be openshift, specifically. Do we need this in openshift or is there some &quot;native&quot; mechanism baked in?</div><br/><div id="40265790" class="c"><input type="checkbox" id="c-40265790" checked=""/><div class="controls bullet"><span class="by">verdverm</span><span>|</span><a href="#40265770">parent</a><span>|</span><a href="#40265265">next</a><span>|</span><label class="collapse" for="c-40265790">[-]</label><label class="expand" for="c-40265790">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;ll likely have an ingress controller provided with openshift, which tends to be more batteries included. There are quite a few options: <a href="https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;concepts&#x2F;services-networking&#x2F;ingress-controllers&#x2F;" rel="nofollow">https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;concepts&#x2F;services-networking&#x2F;ingr...</a></div><br/></div></div></div></div><div id="40265265" class="c"><input type="checkbox" id="c-40265265" checked=""/><div class="controls bullet"><span class="by">siva7</span><span>|</span><a href="#40265770">prev</a><span>|</span><label class="collapse" for="c-40265265">[-]</label><label class="expand" for="c-40265265">[2 more]</label></div><br/><div class="children"><div class="content">It’s nice if you’re running a bare metal server on hetzner or DO but in the age of cloud platforms like aws or azure there is hardly a need for traefik.</div><br/><div id="40271910" class="c"><input type="checkbox" id="c-40271910" checked=""/><div class="controls bullet"><span class="by">PennRobotics</span><span>|</span><a href="#40265265">parent</a><span>|</span><label class="collapse" for="c-40271910">[-]</label><label class="expand" for="c-40271910">[1 more]</label></div><br/><div class="children"><div class="content">Even on Hetzner, it&#x27;s not amazing and not a one-click workflow.<p>Load their Photoprism image on a standard server with only IPv6 (as a v4 address costs extra) and certificates will not get generated; logs point to Traefik although the solution is modifying Dockerfiles; thanks Dockerphiles, for insisting your software is the answer to everything server...</div><br/></div></div></div></div></div></div></div></div></div></body></html>