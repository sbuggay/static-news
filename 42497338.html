<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735117255275" as="style"/><link rel="stylesheet" href="styles.css?v=1735117255275"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jeremymorrell.dev/blog/a-practitioners-guide-to-wide-events/">A Practitioner&#x27;s Guide to Wide Events</a> <span class="domain">(<a href="https://jeremymorrell.dev">jeremymorrell.dev</a>)</span></div><div class="subtext"><span>dmazin</span> | <span>29 comments</span></div><br/><div><div id="42505432" class="c"><input type="checkbox" id="c-42505432" checked=""/><div class="controls bullet"><span class="by">thom</span><span>|</span><a href="#42505338">next</a><span>|</span><label class="collapse" for="c-42505432">[-]</label><label class="expand" for="c-42505432">[1 more]</label></div><br/><div class="children"><div class="content">I’m quite looking forward to a future where we’ve finally accepted that all this stuff is just part of the domain and shouldn’t be treated like an ugly stepchild, and we’ve merged OLTP and OLAP with great performance for both, and the wolf also shall dwell with the lamb, and we’ll all get lots of work done.</div><br/></div></div><div id="42505338" class="c"><input type="checkbox" id="c-42505338" checked=""/><div class="controls bullet"><span class="by">valyala</span><span>|</span><a href="#42505432">prev</a><span>|</span><a href="#42505147">next</a><span>|</span><label class="collapse" for="c-42505338">[-]</label><label class="expand" for="c-42505338">[5 more]</label></div><br/><div class="children"><div class="content">Wide events is a great concept for observability space! This a superset of structured logs and traces. Wide events is basically structured logs, where every log entry contains hundreds of fields with various properties of the log entry. This allows slicing and dicing the collected events by arbitrary subsets of thier fields. This opens an infinite possibilities to obtain useful analytics from the collected events.<p>Wide events can be stored in traditional databases. But this approach has a few drawbacks:<p>- Every wide event can have different sets of fields. Such fields cannot be mapped to the classical relational table columns, since the full set of potential fields, which can be seen in wide events, isn&#x27;t known beforehand.<p>- The number of fields in wide events is usually quite big - from tens to a few hundreds. If we are going to store them in a traditional relational table, this table will end up with hundreds of columns. Such tables aren&#x27;t processed efficiently by traditional databases.<p>- Typical queries over wide events usually refer only a few fields out of hundreds of available fields. Traditional databases usually store every row in a table as a contiguous chunk of data with all the values for all the fields of the row (aka row-based storage). Such a scheme is very inefficient when the query needs to process only a few fields out of hundreds of available fields, since the database needs to read all the hundreds fields per each row and then extract the needed few fields.<p>It is much better to use analytical databases such as ClickHouse for storing and processing of big volumes of wide events. Such databases usually store values per every field in contiguous data chunks (aka column-oriented storage). This allows reading and processing only the needed few fields mentioned in the query, while skipping the rest of hundreds fields. This also allows efficiently compressing field values, which reduces storage space usage and improves performance for queries limited by disk read speed.<p>Analytical databases don&#x27;t resolve the first issue mentioned above, since they usually need creating a table with the pre-defined columns before storing wide events into it. This means that you cannot store wide events with arbitrary sets of fields, which can be unknown before creating the table.<p>I&#x27;m working on a specialized open-source database for wide events, which resolves all the issues mentioned above. It doesn&#x27;t need creating any table schemas before starting ingesting wide events with arbitrary sets of fields (e.g. it is schemaless). It automatically creates the needed columns for all the fields it sees during data ingestion. It uses column-oriented storage, so it provides query performance comparable to analytical databases. The name of this database is VictoriaLogs. Strange name for the database specialized for efficient processing of wide events :) This is because initially it was designed for storing logs - both plaintext and structured. Later it has been appeared that it&#x27;s architecture ideally fits wide events. Check it out - <a href="https:&#x2F;&#x2F;docs.victoriametrics.com&#x2F;victorialogs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.victoriametrics.com&#x2F;victorialogs&#x2F;</a></div><br/><div id="42505487" class="c"><input type="checkbox" id="c-42505487" checked=""/><div class="controls bullet"><span class="by">bonobocop</span><span>|</span><a href="#42505338">parent</a><span>|</span><a href="#42505147">next</a><span>|</span><label class="collapse" for="c-42505487">[-]</label><label class="expand" for="c-42505487">[4 more]</label></div><br/><div class="children"><div class="content">Thoughts on stuff like ClickHouse with JSON column support? Less upfront knowledge of columns needed.</div><br/><div id="42507328" class="c"><input type="checkbox" id="c-42507328" checked=""/><div class="controls bullet"><span class="by">valyala</span><span>|</span><a href="#42505338">root</a><span>|</span><a href="#42505487">parent</a><span>|</span><a href="#42506848">next</a><span>|</span><label class="collapse" for="c-42507328">[-]</label><label class="expand" for="c-42507328">[1 more]</label></div><br/><div class="children"><div class="content">JSON column type in ClickHouse [1] looks promising, since it allows storing wide events with arbitrary sets of fields. This feature is still in beta. Let&#x27;s see how it will evolve.<p>[1] <a href="https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;sql-reference&#x2F;data-types&#x2F;newjson" rel="nofollow">https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;sql-reference&#x2F;data-types&#x2F;newj...</a></div><br/></div></div><div id="42506848" class="c"><input type="checkbox" id="c-42506848" checked=""/><div class="controls bullet"><span class="by">hipadev23</span><span>|</span><a href="#42505338">root</a><span>|</span><a href="#42505487">parent</a><span>|</span><a href="#42507328">prev</a><span>|</span><a href="#42506981">next</a><span>|</span><label class="collapse" for="c-42506848">[-]</label><label class="expand" for="c-42506848">[1 more]</label></div><br/><div class="children"><div class="content">Clickhouse&#x27;s revised JSON type is still quite new (in beta currently), but I&#x27;m hopeful for it. Their first attempt fell apart if the schema changed.<p>[1] <a href="https:&#x2F;&#x2F;clickhouse.com&#x2F;blog&#x2F;a-new-powerful-json-data-type-for-clickhouse" rel="nofollow">https:&#x2F;&#x2F;clickhouse.com&#x2F;blog&#x2F;a-new-powerful-json-data-type-fo...</a></div><br/></div></div><div id="42506981" class="c"><input type="checkbox" id="c-42506981" checked=""/><div class="controls bullet"><span class="by">brunoqc</span><span>|</span><a href="#42505338">root</a><span>|</span><a href="#42505487">parent</a><span>|</span><a href="#42506848">prev</a><span>|</span><a href="#42505147">next</a><span>|</span><label class="collapse" for="c-42506981">[-]</label><label class="expand" for="c-42506981">[1 more]</label></div><br/><div class="children"><div class="content">ClickHouse is open core too. If you care about that.</div><br/></div></div></div></div></div></div><div id="42505147" class="c"><input type="checkbox" id="c-42505147" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505338">prev</a><span>|</span><label class="collapse" for="c-42505147">[-]</label><label class="expand" for="c-42505147">[22 more]</label></div><br/><div class="children"><div class="content">Practitioner of what? What is a &quot;wide event&quot;? In what context is this concept relevant? It took several sentences before I was even confident that this is something to do with programming.</div><br/><div id="42505260" class="c"><input type="checkbox" id="c-42505260" checked=""/><div class="controls bullet"><span class="by">Etheryte</span><span>|</span><a href="#42505147">parent</a><span>|</span><a href="#42505310">next</a><span>|</span><label class="collapse" for="c-42505260">[-]</label><label class="expand" for="c-42505260">[5 more]</label></div><br/><div class="children"><div class="content">They link to three separate articles right at the start that cover all of this. Not every article needs to start from first principles. You wouldn&#x27;t expect an article about a new Postgres version to start with what databases are and why someone would need them.</div><br/><div id="42505398" class="c"><input type="checkbox" id="c-42505398" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505260">parent</a><span>|</span><a href="#42505310">next</a><span>|</span><label class="collapse" for="c-42505398">[-]</label><label class="expand" for="c-42505398">[4 more]</label></div><br/><div class="children"><div class="content">&gt;Not every article needs to start from first principles.<p>Sure, but it would be nice if <i>title submissions</i> made it feasible to <i>predict the topic category</i> of the article for people who are not already in the relevant niche.</div><br/><div id="42505836" class="c"><input type="checkbox" id="c-42505836" checked=""/><div class="controls bullet"><span class="by">Etheryte</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505398">parent</a><span>|</span><a href="#42505310">next</a><span>|</span><label class="collapse" for="c-42505836">[-]</label><label class="expand" for="c-42505836">[3 more]</label></div><br/><div class="children"><div class="content">Wide events are a very well known approach, especially if you do any work with observability, and articles about it have been on the HN front page too. You not knowing about something does not automatically make it a narrow niche.</div><br/><div id="42506001" class="c"><input type="checkbox" id="c-42506001" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505836">parent</a><span>|</span><a href="#42505310">next</a><span>|</span><label class="collapse" for="c-42506001">[-]</label><label class="expand" for="c-42506001">[2 more]</label></div><br/><div class="children"><div class="content">From my point of view, &quot;it has something to do with web dev&quot; already makes it a niche. And as a rule of thumb, if you&#x27;re using letter-number-letter abbreviations like &quot;o11y&quot; and assuming everyone knows what you&#x27;re talking about, you&#x27;re in a niche. (E.g.: I could parse &quot;i18n&quot; and &quot;l10n&quot; already, but I wouldn&#x27;t expect random HN readers to. When I first saw &quot;k8s&quot; and looked it up I thought &quot;man, <i>really</i>?&quot;.)</div><br/><div id="42507363" class="c"><input type="checkbox" id="c-42507363" checked=""/><div class="controls bullet"><span class="by">antonvs</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506001">parent</a><span>|</span><a href="#42505310">next</a><span>|</span><label class="collapse" for="c-42507363">[-]</label><label class="expand" for="c-42507363">[1 more]</label></div><br/><div class="children"><div class="content">None of this is web dev specific. It applies most strongly to distributed systems, of which web systems are a subset, but in principle it can apply to any system with non-trivial requirements around logging and metrics.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42505310" class="c"><input type="checkbox" id="c-42505310" checked=""/><div class="controls bullet"><span class="by">cookie_monsta</span><span>|</span><a href="#42505147">parent</a><span>|</span><a href="#42505260">prev</a><span>|</span><a href="#42505184">next</a><span>|</span><label class="collapse" for="c-42505310">[-]</label><label class="expand" for="c-42505310">[3 more]</label></div><br/><div class="children"><div class="content">I felt like I got the gist after the first two:<p>&gt; Adopting Wide Event-style instrumentation has been one of the highest-leverage changes I’ve made in my engineering career. The feedback loop on all my changes tightened and debugging systems became so much easier.</div><br/><div id="42505458" class="c"><input type="checkbox" id="c-42505458" checked=""/><div class="controls bullet"><span class="by">treyfitty</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505310">parent</a><span>|</span><a href="#42505389">next</a><span>|</span><label class="collapse" for="c-42505458">[-]</label><label class="expand" for="c-42505458">[1 more]</label></div><br/><div class="children"><div class="content">That doesn’t really give an objective definition of what wide events are, just an opinion and example in this one persons life.<p>I had to lookup wide events in the middle of the article, and I can’t say I can viscerally see and feel the benefits the OP was espousing. Just felt like an adderall-fueled dump of information being thrown at me.</div><br/></div></div><div id="42505389" class="c"><input type="checkbox" id="c-42505389" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505310">parent</a><span>|</span><a href="#42505458">prev</a><span>|</span><a href="#42505184">next</a><span>|</span><label class="collapse" for="c-42505389">[-]</label><label class="expand" for="c-42505389">[1 more]</label></div><br/><div class="children"><div class="content">&gt;I felt like I got the gist after the first two:<p>What I get is: here&#x27;s a thing that made a big improvement to how I debug systems.<p>Except, it turns out that the systems in question are very specific ones.<p>&gt; The tl;dr is that for each unit-of-work in your system (usually, but not always an HTTP request &#x2F; response) you emit one “event” with all of the information you can collect about that work.<p>Okay, but... as opposed to what? And why is it better this way?<p>&gt;“Event” is an over-loaded term in telemetry so replace that with “log line” or “span” if you like. They are all effectively the same thing.<p>In the programming I do, &quot;event&quot; doesn&#x27;t mean anything to do with logging or telemetry.</div><br/></div></div></div></div><div id="42505184" class="c"><input type="checkbox" id="c-42505184" checked=""/><div class="controls bullet"><span class="by">djhope99</span><span>|</span><a href="#42505147">parent</a><span>|</span><a href="#42505310">prev</a><span>|</span><a href="#42505865">next</a><span>|</span><label class="collapse" for="c-42505184">[-]</label><label class="expand" for="c-42505184">[5 more]</label></div><br/><div class="children"><div class="content">It’s about observability and strongly related to Honeycombs o11y 2.0 vision.</div><br/><div id="42505366" class="c"><input type="checkbox" id="c-42505366" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505184">parent</a><span>|</span><a href="#42505865">next</a><span>|</span><label class="collapse" for="c-42505366">[-]</label><label class="expand" for="c-42505366">[4 more]</label></div><br/><div class="children"><div class="content">Okay, so a web search and some looking around gives me <a href="https:&#x2F;&#x2F;www.honeycomb.io&#x2F;frontend-observability" rel="nofollow">https:&#x2F;&#x2F;www.honeycomb.io&#x2F;frontend-observability</a>. I guess this is something to do with tools for sending telemetry back from web applications and then doing statistics on them and giving the user some nice reports.<p>&quot;Observability&quot; seems like a weird term for that to me, but okay.<p>But I don&#x27;t understand why not just give the appropriate context in the submission, rather than keeping a title that only makes sense to a very specific niche audience and then <i>not saying up front what the niche is</i>.<p>The concept of an &quot;event&quot; is coherent in many other programming contexts, so the possibility that one could be coherently &quot;wide&quot; is at least plausibly interesting. But then I get there and find myself completely disoriented, and eventually figure out that it&#x27;s not actually relevant to anything I do. And anyway it looks like a lot of this jargon is really just not necessary to convey the core ideas... ?</div><br/><div id="42506021" class="c"><input type="checkbox" id="c-42506021" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505366">parent</a><span>|</span><a href="#42505865">next</a><span>|</span><label class="collapse" for="c-42506021">[-]</label><label class="expand" for="c-42506021">[3 more]</label></div><br/><div class="children"><div class="content">If the entire contents of the article was in the title, you’d still have to read all the words</div><br/><div id="42506042" class="c"><input type="checkbox" id="c-42506042" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506021">parent</a><span>|</span><a href="#42505865">next</a><span>|</span><label class="collapse" for="c-42506042">[-]</label><label class="expand" for="c-42506042">[2 more]</label></div><br/><div class="children"><div class="content">If the title had said something like &quot;A guide to using Wide Events in website telemetry for [insert objective here]&quot;, I wouldn&#x27;t have had the original objection.</div><br/><div id="42507364" class="c"><input type="checkbox" id="c-42507364" checked=""/><div class="controls bullet"><span class="by">valyala</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506042">parent</a><span>|</span><a href="#42505865">next</a><span>|</span><label class="collapse" for="c-42507364">[-]</label><label class="expand" for="c-42507364">[1 more]</label></div><br/><div class="children"><div class="content">Wide events aren&#x27;t limited to website analytics. Thy are useful for observability of any application types - databases, services, microservices, web servers, application servers, mobile apps, industrial apps, IoT, etc.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42505865" class="c"><input type="checkbox" id="c-42505865" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#42505147">parent</a><span>|</span><a href="#42505184">prev</a><span>|</span><a href="#42505717">next</a><span>|</span><label class="collapse" for="c-42505865">[-]</label><label class="expand" for="c-42505865">[6 more]</label></div><br/><div class="children"><div class="content">&quot;[An Observability] Practitioner&#x27;s Guide to Wide Events&quot;<p>That&#x27;s how I would have titled it.</div><br/><div id="42506030" class="c"><input type="checkbox" id="c-42506030" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505865">parent</a><span>|</span><a href="#42505717">next</a><span>|</span><label class="collapse" for="c-42506030">[-]</label><label class="expand" for="c-42506030">[5 more]</label></div><br/><div class="children"><div class="content">Okay, and why would people who aren&#x27;t already in the field have any idea about your specific jargon meaning of &quot;observability&quot;? My browser&#x27;s spellcheck underlines that. My understanding of ordinary English turns it into &quot;the fact, of something which can be observed, that it can be observed&quot; which is... supremely unenlightening.<p>I get that HN isn&#x27;t appealing to the general population, but the world of programmers etc. is still quite broad.</div><br/><div id="42506212" class="c"><input type="checkbox" id="c-42506212" checked=""/><div class="controls bullet"><span class="by">throw-qqqqq</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506030">parent</a><span>|</span><a href="#42506067">next</a><span>|</span><label class="collapse" for="c-42506212">[-]</label><label class="expand" for="c-42506212">[3 more]</label></div><br/><div class="children"><div class="content">You’ve made a lot of critical comments here.<p>You are obviously the one who is not understanding or is perhaps misunderstanding something.<p>Observability is a pretty standard term in software development.<p>Events have nothing per se to do with logging or tracing, but you can visualize&#x2F;trace events with logs&#x2F;spans.<p>From my perspective, you seem to misunderstand a lot in the article, I am not judging you for that, just observing this.<p>I suggest you try to understand the gist of the article instead of scolding the language used.</div><br/><div id="42506397" class="c"><input type="checkbox" id="c-42506397" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506212">parent</a><span>|</span><a href="#42506067">next</a><span>|</span><label class="collapse" for="c-42506397">[-]</label><label class="expand" for="c-42506397">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;re missing the point. My complaint is not about the article content. My complaint is about the fact that the submission title does not adequately prepare anyone to understand what the article will be about.</div><br/><div id="42506841" class="c"><input type="checkbox" id="c-42506841" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506397">parent</a><span>|</span><a href="#42506067">next</a><span>|</span><label class="collapse" for="c-42506841">[-]</label><label class="expand" for="c-42506841">[1 more]</label></div><br/><div class="children"><div class="content">That’s a recurring theme on HN. The site prefers the original title, and not every blog post has a title that adequately prepares one for the contents, especially since many blogs have a recurring theme.</div><br/></div></div></div></div></div></div><div id="42506067" class="c"><input type="checkbox" id="c-42506067" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42506030">parent</a><span>|</span><a href="#42506212">prev</a><span>|</span><a href="#42505717">next</a><span>|</span><label class="collapse" for="c-42506067">[-]</label><label class="expand" for="c-42506067">[1 more]</label></div><br/><div class="children"><div class="content">It seems to be the primary meaning in software: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Observability_(software)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Observability_(software)</a></div><br/></div></div></div></div></div></div><div id="42505717" class="c"><input type="checkbox" id="c-42505717" checked=""/><div class="controls bullet"><span class="by">s1mplicissimus</span><span>|</span><a href="#42505147">parent</a><span>|</span><a href="#42505865">prev</a><span>|</span><label class="collapse" for="c-42505717">[-]</label><label class="expand" for="c-42505717">[2 more]</label></div><br/><div class="children"><div class="content">you just read an advertisement article and some people don&#x27;t like you pointing that out. hence the downvotes i assume</div><br/><div id="42507382" class="c"><input type="checkbox" id="c-42507382" checked=""/><div class="controls bullet"><span class="by">valyala</span><span>|</span><a href="#42505147">root</a><span>|</span><a href="#42505717">parent</a><span>|</span><label class="collapse" for="c-42507382">[-]</label><label class="expand" for="c-42507382">[1 more]</label></div><br/><div class="children"><div class="content">While the article is written by observability vendor, it contains an excellent information about wide events, without annoying advertisement of the vendor.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>