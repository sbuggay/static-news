<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721466050736" as="style"/><link rel="stylesheet" href="styles.css?v=1721466050736"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://garagehq.deuxfleurs.fr/">Garage: Open-Source Distributed Object Storage</a> <span class="domain">(<a href="https://garagehq.deuxfleurs.fr">garagehq.deuxfleurs.fr</a>)</span></div><div class="subtext"><span>n3t</span> | <span>47 comments</span></div><br/><div><div id="41014781" class="c"><input type="checkbox" id="c-41014781" checked=""/><div class="controls bullet"><span class="by">j-pb</span><span>|</span><a href="#41013236">next</a><span>|</span><label class="collapse" for="c-41014781">[-]</label><label class="expand" for="c-41014781">[4 more]</label></div><br/><div class="children"><div class="content">What I&#x27;m really missing in this space is something like this for content addressed blob storage.<p>I feel like a lot of complexity and performance overhead could be reduced if you only store immutable blobs under their hash (e.g Blake3). Combined with a soft delete this would make all operations idempotent, blobs trivially cacheable, and all state a CRDT&#x2F;monotonically mergeable&#x2F;coordination free.<p>There is stuff like IPFS in the large, but I want this for local deployments as a S3 replacement, when the metadata is stored elsewhere like git or a database.</div><br/><div id="41015072" class="c"><input type="checkbox" id="c-41015072" checked=""/><div class="controls bullet"><span class="by">BageDevimo</span><span>|</span><a href="#41014781">parent</a><span>|</span><a href="#41014993">next</a><span>|</span><label class="collapse" for="c-41015072">[-]</label><label class="expand" for="c-41015072">[1 more]</label></div><br/><div class="children"><div class="content">Have you seen <a href="https:&#x2F;&#x2F;github.com&#x2F;willbryant&#x2F;verm">https:&#x2F;&#x2F;github.com&#x2F;willbryant&#x2F;verm</a>?</div><br/></div></div><div id="41014993" class="c"><input type="checkbox" id="c-41014993" checked=""/><div class="controls bullet"><span class="by">singinwhale</span><span>|</span><a href="#41014781">parent</a><span>|</span><a href="#41015072">prev</a><span>|</span><a href="#41014837">next</a><span>|</span><label class="collapse" for="c-41014993">[-]</label><label class="expand" for="c-41014993">[1 more]</label></div><br/><div class="children"><div class="content">Sounds a little like Kademlia, the DHT implementation that BitTorrent uses.<p>It&#x27;s a distributed hash table where the value mapped to a hash is immutable after it is STOREd (at least in the implementations that I know)</div><br/></div></div><div id="41014837" class="c"><input type="checkbox" id="c-41014837" checked=""/><div class="controls bullet"><span class="by">the_duke</span><span>|</span><a href="#41014781">parent</a><span>|</span><a href="#41014993">prev</a><span>|</span><a href="#41013236">next</a><span>|</span><label class="collapse" for="c-41014837">[-]</label><label class="expand" for="c-41014837">[1 more]</label></div><br/><div class="children"><div class="content">Garage splis the data into chunks for deduplication, so it basically already does content addressed storage under the hood..<p>They probably don&#x27;t expose it publicly though.</div><br/></div></div></div></div><div id="41013236" class="c"><input type="checkbox" id="c-41013236" checked=""/><div class="controls bullet"><span class="by">TechDebtDevin</span><span>|</span><a href="#41014781">prev</a><span>|</span><a href="#41013294">next</a><span>|</span><label class="collapse" for="c-41013236">[-]</label><label class="expand" for="c-41013236">[5 more]</label></div><br/><div class="children"><div class="content">SeaweedFS is great as well.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;seaweedfs&#x2F;seaweedfs">https:&#x2F;&#x2F;github.com&#x2F;seaweedfs&#x2F;seaweedfs</a></div><br/><div id="41014499" class="c"><input type="checkbox" id="c-41014499" checked=""/><div class="controls bullet"><span class="by">n_ary</span><span>|</span><a href="#41013236">parent</a><span>|</span><a href="#41013884">next</a><span>|</span><label class="collapse" for="c-41014499">[-]</label><label class="expand" for="c-41014499">[3 more]</label></div><br/><div class="children"><div class="content">Tried this for my own homelab, either I misconfigured it or it consumes x2(linearly) memory(working) of the stored data. So, for example, if I put 1GB of data, seaweed would immediately consume 2GB of memory constantly!<p>Edit: memory = RAM</div><br/><div id="41014734" class="c"><input type="checkbox" id="c-41014734" checked=""/><div class="controls bullet"><span class="by">TechDebtDevin</span><span>|</span><a href="#41013236">root</a><span>|</span><a href="#41014499">parent</a><span>|</span><a href="#41014649">next</a><span>|</span><label class="collapse" for="c-41014734">[-]</label><label class="expand" for="c-41014734">[1 more]</label></div><br/><div class="children"><div class="content">That is odd. It likely has something to do with the index caching and how many replication volumes you configured. By default it indexes all file metadata in RAM (I think) but that wouldn&#x27;t justify that type of memory usage. I&#x27;ve always used mostly default configurations in Docker Swarm, similar to this:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;cycneuramus&#x2F;seaweedfs-docker-swarm&#x2F;blob&#x2F;master&#x2F;docker-compose.yml">https:&#x2F;&#x2F;github.com&#x2F;cycneuramus&#x2F;seaweedfs-docker-swarm&#x2F;blob&#x2F;m...</a></div><br/></div></div><div id="41014649" class="c"><input type="checkbox" id="c-41014649" checked=""/><div class="controls bullet"><span class="by">crest</span><span>|</span><a href="#41013236">root</a><span>|</span><a href="#41014499">parent</a><span>|</span><a href="#41014734">prev</a><span>|</span><a href="#41013884">next</a><span>|</span><label class="collapse" for="c-41014649">[-]</label><label class="expand" for="c-41014649">[1 more]</label></div><br/><div class="children"><div class="content">Are you claiming that SeaweedFS requires twice as much RAM as the sum of the sizes of the stored objects?</div><br/></div></div></div></div><div id="41013884" class="c"><input type="checkbox" id="c-41013884" checked=""/><div class="controls bullet"><span class="by">evanjrowley</span><span>|</span><a href="#41013236">parent</a><span>|</span><a href="#41014499">prev</a><span>|</span><a href="#41013294">next</a><span>|</span><label class="collapse" for="c-41013884">[-]</label><label class="expand" for="c-41013884">[1 more]</label></div><br/><div class="children"><div class="content">Looks awesome. Been looking for some flexible self-hosted WebDAV solutions and SeaweedFS would be an interesting choice.</div><br/></div></div></div></div><div id="41013294" class="c"><input type="checkbox" id="c-41013294" checked=""/><div class="controls bullet"><span class="by">computerfan494</span><span>|</span><a href="#41013236">prev</a><span>|</span><a href="#41014622">next</a><span>|</span><label class="collapse" for="c-41013294">[-]</label><label class="expand" for="c-41013294">[11 more]</label></div><br/><div class="children"><div class="content">I have used Garage for a long time. It&#x27;s great, but the AWS sigv4 protocol for accessing it is just frustrating. Why can&#x27;t I just send my API key as a header? I don&#x27;t need the full AWS SDK to get and put files, and the AWS sigv4 is a ton of extra complexity to add to my projects. I don&#x27;t care about the &quot;security benefits&quot; of AWS sigv4. I hope the authors consider a different authentication scheme so I can recommend Garage more readily.</div><br/><div id="41013663" class="c"><input type="checkbox" id="c-41013663" checked=""/><div class="controls bullet"><span class="by">dopylitty</span><span>|</span><a href="#41013294">parent</a><span>|</span><a href="#41014886">next</a><span>|</span><label class="collapse" for="c-41013663">[-]</label><label class="expand" for="c-41013663">[2 more]</label></div><br/><div class="children"><div class="content">I read that curl recently added sigv4 for what that’s worth[0]<p>0: <a href="https:&#x2F;&#x2F;how.wtf&#x2F;aws-sigv4-requests-with-curl.html" rel="nofollow">https:&#x2F;&#x2F;how.wtf&#x2F;aws-sigv4-requests-with-curl.html</a></div><br/><div id="41014680" class="c"><input type="checkbox" id="c-41014680" checked=""/><div class="controls bullet"><span class="by">zipping1549</span><span>|</span><a href="#41013294">root</a><span>|</span><a href="#41013663">parent</a><span>|</span><a href="#41014886">next</a><span>|</span><label class="collapse" for="c-41014680">[-]</label><label class="expand" for="c-41014680">[1 more]</label></div><br/><div class="children"><div class="content">Of course curl has it</div><br/></div></div></div></div><div id="41014886" class="c"><input type="checkbox" id="c-41014886" checked=""/><div class="controls bullet"><span class="by">neon_me</span><span>|</span><a href="#41013294">parent</a><span>|</span><a href="#41013663">prev</a><span>|</span><a href="#41013335">next</a><span>|</span><label class="collapse" for="c-41014886">[-]</label><label class="expand" for="c-41014886">[1 more]</label></div><br/><div class="children"><div class="content">Check something like PicoS3 or <a href="https:&#x2F;&#x2F;github.com&#x2F;sentienhq&#x2F;ultralight-s3">https:&#x2F;&#x2F;github.com&#x2F;sentienhq&#x2F;ultralight-s3</a><p>There is a few &quot;very minimal&quot; sigv4 implementations ...</div><br/></div></div><div id="41013335" class="c"><input type="checkbox" id="c-41013335" checked=""/><div class="controls bullet"><span class="by">6LLvveMx2koXfwn</span><span>|</span><a href="#41013294">parent</a><span>|</span><a href="#41014886">prev</a><span>|</span><a href="#41014345">next</a><span>|</span><label class="collapse" for="c-41013335">[-]</label><label class="expand" for="c-41013335">[1 more]</label></div><br/><div class="children"><div class="content">Implementing v4 on the server side also requires the service to keep the token as plain text. If it&#x27;s a persistent password, rather than an ephemeral key, that opens up another whole host of security issues around password storage. And on the flip side requiring the client to hit an endpoint to receive a session based token is even more crippling from a performance perspective.</div><br/></div></div><div id="41014345" class="c"><input type="checkbox" id="c-41014345" checked=""/><div class="controls bullet"><span class="by">surfingdino</span><span>|</span><a href="#41013294">parent</a><span>|</span><a href="#41013335">prev</a><span>|</span><a href="#41013352">next</a><span>|</span><label class="collapse" for="c-41014345">[-]</label><label class="expand" for="c-41014345">[1 more]</label></div><br/><div class="children"><div class="content">It makes sense to tap into the existing ecosystem of AWS S3-compatible clients.</div><br/></div></div><div id="41013352" class="c"><input type="checkbox" id="c-41013352" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41013294">parent</a><span>|</span><a href="#41014345">prev</a><span>|</span><a href="#41014622">next</a><span>|</span><label class="collapse" for="c-41013352">[-]</label><label class="expand" for="c-41013352">[5 more]</label></div><br/><div class="children"><div class="content">Sending your api key in the header is equivalent to basic auth.</div><br/><div id="41013389" class="c"><input type="checkbox" id="c-41013389" checked=""/><div class="controls bullet"><span class="by">computerfan494</span><span>|</span><a href="#41013294">root</a><span>|</span><a href="#41013352">parent</a><span>|</span><a href="#41013802">next</a><span>|</span><label class="collapse" for="c-41013389">[-]</label><label class="expand" for="c-41013389">[1 more]</label></div><br/><div class="children"><div class="content">Yep, and that&#x27;s fine with me. I don&#x27;t have a problem with basic auth.</div><br/></div></div><div id="41013802" class="c"><input type="checkbox" id="c-41013802" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#41013294">root</a><span>|</span><a href="#41013352">parent</a><span>|</span><a href="#41013389">prev</a><span>|</span><a href="#41014622">next</a><span>|</span><label class="collapse" for="c-41013802">[-]</label><label class="expand" for="c-41013802">[3 more]</label></div><br/><div class="children"><div class="content">This is not intended for commercial services. Realistically, this software was made for people who keep servers in their basement. The security profile of LAN users is very different than public AWS.</div><br/><div id="41014676" class="c"><input type="checkbox" id="c-41014676" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#41013294">root</a><span>|</span><a href="#41013802">parent</a><span>|</span><a href="#41014622">next</a><span>|</span><label class="collapse" for="c-41014676">[-]</label><label class="expand" for="c-41014676">[2 more]</label></div><br/><div class="children"><div class="content">The site says it was made (initially) and used for a commercial French hoster.</div><br/><div id="41014895" class="c"><input type="checkbox" id="c-41014895" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#41013294">root</a><span>|</span><a href="#41014676">parent</a><span>|</span><a href="#41014622">next</a><span>|</span><label class="collapse" for="c-41014895">[-]</label><label class="expand" for="c-41014895">[1 more]</label></div><br/><div class="children"><div class="content">They’re a self-described “non-profit experimental hosting group”. It’s used to host their website, chat server data, etc.<p>It’s great they made it (I use personally!) but that’s more akin to a home-lab than commercial vendor.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41014622" class="c"><input type="checkbox" id="c-41014622" checked=""/><div class="controls bullet"><span class="by">Daviey</span><span>|</span><a href="#41013294">prev</a><span>|</span><a href="#41014698">next</a><span>|</span><label class="collapse" for="c-41014622">[-]</label><label class="expand" for="c-41014622">[1 more]</label></div><br/><div class="children"><div class="content">Last time I looked at Garage it only supported paired storage replication, such that if I had a 10GB disk in location A and a 1TB disk is location 2 and 3, it would only support &quot;RAID1-esq&quot; mirroring, so my storage would be limited to 10GB</div><br/></div></div><div id="41014698" class="c"><input type="checkbox" id="c-41014698" checked=""/><div class="controls bullet"><span class="by">icy</span><span>|</span><a href="#41014622">prev</a><span>|</span><a href="#41014879">next</a><span>|</span><label class="collapse" for="c-41014698">[-]</label><label class="expand" for="c-41014698">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been running this on K3s at home (for my website and file server) and it&#x27;s been very well behaved: <a href="https:&#x2F;&#x2F;git.icyphox.sh&#x2F;infra&#x2F;tree&#x2F;master&#x2F;apps&#x2F;garage" rel="nofollow">https:&#x2F;&#x2F;git.icyphox.sh&#x2F;infra&#x2F;tree&#x2F;master&#x2F;apps&#x2F;garage</a><p>I find it interesting that they chose CRDTs over Raft for distributed consensus.</div><br/></div></div><div id="41014879" class="c"><input type="checkbox" id="c-41014879" checked=""/><div class="controls bullet"><span class="by">neon_me</span><span>|</span><a href="#41014698">prev</a><span>|</span><a href="#41014041">next</a><span>|</span><label class="collapse" for="c-41014879">[-]</label><label class="expand" for="c-41014879">[2 more]</label></div><br/><div class="children"><div class="content">Whats the motivation behind project like this one?<p>We got ceph, minio, seaweedfs ... and a dozen of others. I am genuinly curious what is the goal here?</div><br/><div id="41014935" class="c"><input type="checkbox" id="c-41014935" checked=""/><div class="controls bullet"><span class="by">koito17</span><span>|</span><a href="#41014879">parent</a><span>|</span><a href="#41014041">next</a><span>|</span><label class="collapse" for="c-41014935">[-]</label><label class="expand" for="c-41014935">[1 more]</label></div><br/><div class="children"><div class="content">Minio assumes each node has identical hardware. Garage is designed for use-cases like self-hosting, where nodes are not expected to have identical hardware.</div><br/></div></div></div></div><div id="41013337" class="c"><input type="checkbox" id="c-41013337" checked=""/><div class="controls bullet"><span class="by">comvidyarthi</span><span>|</span><a href="#41014041">prev</a><span>|</span><a href="#41014343">next</a><span>|</span><label class="collapse" for="c-41013337">[-]</label><label class="expand" for="c-41013337">[2 more]</label></div><br/><div class="children"><div class="content">Is this open source ?</div><br/><div id="41013511" class="c"><input type="checkbox" id="c-41013511" checked=""/><div class="controls bullet"><span class="by">kevlened</span><span>|</span><a href="#41013337">parent</a><span>|</span><a href="#41014343">next</a><span>|</span><label class="collapse" for="c-41013511">[-]</label><label class="expand" for="c-41013511">[1 more]</label></div><br/><div class="children"><div class="content">AGPL <a href="https:&#x2F;&#x2F;git.deuxfleurs.fr&#x2F;Deuxfleurs&#x2F;garage" rel="nofollow">https:&#x2F;&#x2F;git.deuxfleurs.fr&#x2F;Deuxfleurs&#x2F;garage</a></div><br/></div></div></div></div><div id="41014343" class="c"><input type="checkbox" id="c-41014343" checked=""/><div class="controls bullet"><span class="by">surfingdino</span><span>|</span><a href="#41013337">prev</a><span>|</span><a href="#41013790">next</a><span>|</span><label class="collapse" for="c-41014343">[-]</label><label class="expand" for="c-41014343">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also OpenStack Swift.</div><br/></div></div><div id="41013790" class="c"><input type="checkbox" id="c-41013790" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#41014343">prev</a><span>|</span><a href="#41013262">next</a><span>|</span><label class="collapse" for="c-41013790">[-]</label><label class="expand" for="c-41013790">[4 more]</label></div><br/><div class="children"><div class="content">What is the difference between a &quot;distributed object storage&quot; and a file system?</div><br/><div id="41013807" class="c"><input type="checkbox" id="c-41013807" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#41013790">parent</a><span>|</span><a href="#41014671">next</a><span>|</span><label class="collapse" for="c-41013807">[-]</label><label class="expand" for="c-41013807">[1 more]</label></div><br/><div class="children"><div class="content">It’s an S3 api compatible object store that supports distributed storage across different servers.<p>Object store = store blobs of bytes. Usually by bucket + key accessible over HTTP. No POSIX expectation.<p>Distributed = works spread across multiple servers in different locations.</div><br/></div></div><div id="41014671" class="c"><input type="checkbox" id="c-41014671" checked=""/><div class="controls bullet"><span class="by">crest</span><span>|</span><a href="#41013790">parent</a><span>|</span><a href="#41013807">prev</a><span>|</span><a href="#41014997">next</a><span>|</span><label class="collapse" for="c-41014671">[-]</label><label class="expand" for="c-41014671">[1 more]</label></div><br/><div class="children"><div class="content">Files are normally stored hierarchically (e.g. atomically move directories), and updated in place. Objects are normally considered to exist in a flat namespace and are written&#x2F;replaced atomically. Object storage requires less expensive (in a distributed system) metadata operations. This means it&#x27;s both easier and faster to scale out object storage.</div><br/></div></div><div id="41014997" class="c"><input type="checkbox" id="c-41014997" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#41013790">parent</a><span>|</span><a href="#41014671">prev</a><span>|</span><a href="#41013262">next</a><span>|</span><label class="collapse" for="c-41014997">[-]</label><label class="expand" for="c-41014997">[1 more]</label></div><br/><div class="children"><div class="content">There are few.<p>From the perspective of consistency guarantees, object storage gives fewer of such guarantees (this is seen as allowing implementations to be faster than typical file-systems).  For example, since there isn&#x27;t a concept of directories in object store, the implementation doesn&#x27;t need to deal with the problems that arise while copying or moving directories with files open in those directories.<p>There are some non-storage functions that are performed only by filesystems, but not object storage.  For example, suid bits.<p>It&#x27;s also much more common to use object stores for larger chunks of data s.a. whole disk snapshots, VM images etc.  While filesystems aim for the middle-size (small being RDBMs) s.a. text files you&#x27;d open in a text editor.  Subsequently, they are optimized for these objectives.  Filesystems care a lot about what happens when random small incremental and possibly overlapping updates happen to the same file, while object stores care about performance of sequential reads and writes the most.<p>This excludes the notion of &quot;distributed&quot; as both can be distributed (and in different ways).  I suppose you meant to ask about the difference between &quot;distributed object storage&quot; and &quot;distributed filesystem&quot;.</div><br/></div></div></div></div><div id="41013262" class="c"><input type="checkbox" id="c-41013262" checked=""/><div class="controls bullet"><span class="by">fijiaarone</span><span>|</span><a href="#41013790">prev</a><span>|</span><label class="collapse" for="c-41013262">[-]</label><label class="expand" for="c-41013262">[14 more]</label></div><br/><div class="children"><div class="content">I don’t understand why everyone wants to replicate AWS APIs for things that are not AWS.<p>S3 is a horrible interface with a terrible lack of features. It’s just file storage without any of the benefits of a file syste - no metadata, no directory structures, no ability to search, sort, or filter.<p>Combine that with high latency network file access and an overly verbose API.  You literally have a bucket for storing files, when you used to have a toolbox with drawers, folders, and labels.<p>Replicating a real file system is not that hard, and when you lose the original reason for using a bucket —- because your were stuck in the swamp with nothing else to carry your files in — why keep using it when you’re out of the mud?</div><br/><div id="41013827" class="c"><input type="checkbox" id="c-41013827" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013440">next</a><span>|</span><label class="collapse" for="c-41013827">[-]</label><label class="expand" for="c-41013827">[2 more]</label></div><br/><div class="children"><div class="content">Does your file system have search? Mine doesn’t. Instead I have software that implements search on top of it. Does it support filtering? Mine uses software on top again. Which an S3 api totally supports.<p>Does your remote file server magically avoid network latency? Mine doesn’t.<p>In case you didn’t know, inside the bucket you can use a full path for S3 files. So you can have directories or folders or whatever.<p>Some benefits of this system (KV style access) is to support concurrent usage better. Not every system needs it, but if you’re using an object store you might.</div><br/><div id="41015058" class="c"><input type="checkbox" id="c-41015058" checked=""/><div class="controls bullet"><span class="by">psychoslave</span><span>|</span><a href="#41013262">root</a><span>|</span><a href="#41013827">parent</a><span>|</span><a href="#41013440">next</a><span>|</span><label class="collapse" for="c-41015058">[-]</label><label class="expand" for="c-41015058">[1 more]</label></div><br/><div class="children"><div class="content">Be OS FS at least has this<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Be_File_System" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Be_File_System</a></div><br/></div></div></div></div><div id="41013440" class="c"><input type="checkbox" id="c-41013440" checked=""/><div class="controls bullet"><span class="by">acdha</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013827">prev</a><span>|</span><a href="#41014433">next</a><span>|</span><label class="collapse" for="c-41013440">[-]</label><label class="expand" for="c-41013440">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Replicating a real file system is not that hard<p>What personal experience do you have in this area? In particular, how have you handled greater than single-server scale, storage-level corruption, network partitions, and atomicity under concurrent access?</div><br/></div></div><div id="41014433" class="c"><input type="checkbox" id="c-41014433" checked=""/><div class="controls bullet"><span class="by">Scaevolus</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013440">prev</a><span>|</span><a href="#41013447">next</a><span>|</span><label class="collapse" for="c-41014433">[-]</label><label class="expand" for="c-41014433">[1 more]</label></div><br/><div class="children"><div class="content">S3 exposes effectively all the metadata that POSIX APIs do, in addition to all the custom metadata headers you can add.<p>Implementing a filesystem versus an object store involves severe tradeoffs in scalability and complexity that are rarely worth it for users that just want a giant bucket to dump things in.<p>The API doesn&#x27;t matter that much, but everything already supports S3, so why not save time on client libraries and implement it? It&#x27;s not like some alternative PUT&#x2F;GET&#x2F;DELETE API will be much simpler-- though naturally LIST could be implemented myriad ways.</div><br/></div></div><div id="41013447" class="c"><input type="checkbox" id="c-41013447" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41014433">prev</a><span>|</span><a href="#41013372">next</a><span>|</span><label class="collapse" for="c-41013447">[-]</label><label class="expand" for="c-41013447">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I don’t understand why everyone wants to replicate AWS APIs for things that are not AWS.<p>It&#x27;s mostly just S3, really. You don&#x27;t see anywhere near as many &quot;clones&quot; of other AWS services like EC2, for instance.<p>And there&#x27;s a ton of value on being able to develop against a S3 clone like Garage or Minio and deploy against S3 - or being able to retarget an existing application which expected S3 to one of those clones.</div><br/></div></div><div id="41013372" class="c"><input type="checkbox" id="c-41013372" checked=""/><div class="controls bullet"><span class="by">favadi</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013447">prev</a><span>|</span><a href="#41015018">next</a><span>|</span><label class="collapse" for="c-41013372">[-]</label><label class="expand" for="c-41013372">[1 more]</label></div><br/><div class="children"><div class="content">&gt; S3 is a horrible interface with a terrible lack of features.<p>Because turn out that most applications do not require that many features when it comes to persistent storage.</div><br/></div></div><div id="41015018" class="c"><input type="checkbox" id="c-41015018" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013372">prev</a><span>|</span><a href="#41013355">next</a><span>|</span><label class="collapse" for="c-41015018">[-]</label><label class="expand" for="c-41015018">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a legitimate question and I&#x27;m glad you asked! (I&#x27;m not the author of Garage and have no affiliation).<p>Filesystems impose a lot of constraints on data-consistency that make things go slow.  In particular, when it comes to mutating directory structure.  There&#x27;s also another set of consistency constraints when it comes to dealing with file&#x27;s contents.  Object stores relax or remove these constraints, which allows them to &quot;go faster&quot;.  You should, however, carefully consider if the constraints are really unnecessary for your case.  The typical use-case for object stores is something like storing volume snapshots, VM images, layers of layered filesystems etc.  They would perform poorly if you wanted to use them to store the files of your programming project, for example.</div><br/></div></div><div id="41013355" class="c"><input type="checkbox" id="c-41013355" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41015018">prev</a><span>|</span><a href="#41013282">next</a><span>|</span><label class="collapse" for="c-41013355">[-]</label><label class="expand" for="c-41013355">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Replicating a real file system is not that hard<p>Ummmm what? Replicating a file system is insanely hard</div><br/></div></div><div id="41013282" class="c"><input type="checkbox" id="c-41013282" checked=""/><div class="controls bullet"><span class="by">TheColorYellow</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013355">prev</a><span>|</span><a href="#41013486">next</a><span>|</span><label class="collapse" for="c-41013282">[-]</label><label class="expand" for="c-41013282">[3 more]</label></div><br/><div class="children"><div class="content">Because at this point it&#x27;s a well known API. I bet people want to recreate AWS without the Amazon part, and so this is for them.<p>Which, to your point, makes no sense because as you rightly point out, people use S3 because of the Amazon services and ecosystem it is integrated with - not at all because it is &quot;good tech&quot;</div><br/><div id="41013408" class="c"><input type="checkbox" id="c-41013408" checked=""/><div class="controls bullet"><span class="by">acdha</span><span>|</span><a href="#41013262">root</a><span>|</span><a href="#41013282">parent</a><span>|</span><a href="#41013486">next</a><span>|</span><label class="collapse" for="c-41013408">[-]</label><label class="expand" for="c-41013408">[2 more]</label></div><br/><div class="children"><div class="content">S3 was the second AWS service, behind SQS, and saw rapid adoption which cannot be explained by integration with services introduced later.</div><br/><div id="41014264" class="c"><input type="checkbox" id="c-41014264" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#41013262">root</a><span>|</span><a href="#41013408">parent</a><span>|</span><a href="#41013486">next</a><span>|</span><label class="collapse" for="c-41014264">[-]</label><label class="expand" for="c-41014264">[1 more]</label></div><br/><div class="children"><div class="content">Storage is generally sticky but I wouldn’t be so quick to dismiss that reason because it might explain why anything would fail to displace it; a bunch of software is written against S3 and the entire ecosystem around it is quite rich. It doesn’t explain the initial popularity but does explain stickiness. Initial popularity was because it was the first good REST API to do cloud storage AND the price was super reasonable.</div><br/></div></div></div></div></div></div><div id="41013486" class="c"><input type="checkbox" id="c-41013486" checked=""/><div class="controls bullet"><span class="by">Nathanba</span><span>|</span><a href="#41013262">parent</a><span>|</span><a href="#41013282">prev</a><span>|</span><label class="collapse" for="c-41013486">[-]</label><label class="expand" for="c-41013486">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s because many other cloud services offer sending to S3, that&#x27;s pretty much it</div><br/></div></div></div></div></div></div></div></div></div></body></html>