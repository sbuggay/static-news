<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1698656467606" as="style"/><link rel="stylesheet" href="styles.css?v=1698656467606"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://kubernetes.io/blog/2023/10/25/introducing-ingress2gateway/">Kubernetes releases ingress2gateway tool for upcoming GA of Gateway API</a> <span class="domain">(<a href="https://kubernetes.io">kubernetes.io</a>)</span></div><div class="subtext"><span>kodama-lens</span> | <span>27 comments</span></div><br/><div><div id="38067074" class="c"><input type="checkbox" id="c-38067074" checked=""/><div class="controls bullet"><span class="by">hardwaresofton</span><span>|</span><a href="#38066558">next</a><span>|</span><label class="collapse" for="c-38067074">[-]</label><label class="expand" for="c-38067074">[1 more]</label></div><br/><div class="children"><div class="content">Welp, I wonder when this will make sense to look at -- I&#x27;m pretty happy with `IngressRoute`[0] and related CRDs that are used with traefik.<p>I guess when traefik goes all-in on gateway (they were one of the earliest with support for it), then it will make sense.<p>[0]: <a href="https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;routing&#x2F;providers&#x2F;kubernetes-crd&#x2F;#kind-ingressroute" rel="nofollow noreferrer">https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;routing&#x2F;providers&#x2F;kubernetes-...</a></div><br/></div></div><div id="38066558" class="c"><input type="checkbox" id="c-38066558" checked=""/><div class="controls bullet"><span class="by">ggm</span><span>|</span><a href="#38067074">prev</a><span>|</span><a href="#38063662">next</a><span>|</span><label class="collapse" for="c-38066558">[-]</label><label class="expand" for="c-38066558">[2 more]</label></div><br/><div class="children"><div class="content">Since it makes no mention of ipv4 or ipv6 I&#x27;m going to hope it&#x27;s underlying ip protocol agnostic and works in the UDP&#x2F;TCP level only, which would encompass all TLS and QUIC behaviours too.<p>Past experience with k8s suggests this hope is prone to being wishful thinking.</div><br/><div id="38066729" class="c"><input type="checkbox" id="c-38066729" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#38066558">parent</a><span>|</span><a href="#38063662">next</a><span>|</span><label class="collapse" for="c-38066729">[-]</label><label class="expand" for="c-38066729">[1 more]</label></div><br/><div class="children"><div class="content">The Gateway spec itself supports both v4 and v6 addresses: <a href="https:&#x2F;&#x2F;gateway-api.sigs.k8s.io&#x2F;reference&#x2F;spec&#x2F;#gateway.networking.k8s.io%2fv1.AddressType" rel="nofollow noreferrer">https:&#x2F;&#x2F;gateway-api.sigs.k8s.io&#x2F;reference&#x2F;spec&#x2F;#gateway.netw...</a><p>More importantly you will want to check your specific Gateway implementation for support.</div><br/></div></div></div></div><div id="38063662" class="c"><input type="checkbox" id="c-38063662" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#38066558">prev</a><span>|</span><a href="#38064603">next</a><span>|</span><label class="collapse" for="c-38063662">[-]</label><label class="expand" for="c-38063662">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve not used Gateway, but I have felt the pain and confusion of Ingress. Hopefully this simplifies things for our Devops&#x2F;SRE heroes.</div><br/><div id="38064774" class="c"><input type="checkbox" id="c-38064774" checked=""/><div class="controls bullet"><span class="by">mflendrich</span><span>|</span><a href="#38063662">parent</a><span>|</span><a href="#38064921">next</a><span>|</span><label class="collapse" for="c-38064774">[-]</label><label class="expand" for="c-38064774">[3 more]</label></div><br/><div class="children"><div class="content">My team at Kong would agree - as maintainers of a very feature-rich implementation of Ingress we&#x27;ve felt the pain of pushing Ingress to the limits of its expressive power (hence our current strong focus on Gateway API).<p>The Ingress API is fine as long as you&#x27;re in the &quot;basic proxying with simple path-based routing&quot; territory, but once you want to do something more serious (route by query string, configure weighted load balancing, work with TLS, deal with methods, etc - let alone other protocols than HTTP) you&#x27;re kinda stuck with vendor-specific extensions that mostly rely on annotations.<p>Kong has an implementation of Gateway API for HTTP(S), TCP, UDP, TLS, gRPC that aims to offer a fairly smooth transition from Ingress to Gateway API by supporting both in our Kong Ingress Controller and working on conversion tooling (we&#x27;re the only provider other than nginx currently available in the ingress2gateway tool). We strongly believe that (at least Kong&#x27;s implementation of) Gateway API will be much easier to use than Ingress.<p>You can try out Kong&#x27;s (certified conformant with Gateway API &quot;core&quot; profile) beta implementation by following [1] for HTTP. There&#x27;s a guide for gRPC as well, among others [2]. As Kong&#x27;s implementation of Gateway API [3] is nearing general availability, we&#x27;re very open to community feedback.<p>[1] <a href="https:&#x2F;&#x2F;docs.konghq.com&#x2F;kubernetes-ingress-controller&#x2F;2.12.x&#x2F;guides&#x2F;getting-started&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.konghq.com&#x2F;kubernetes-ingress-controller&#x2F;2.12.x...</a><p>[2] <a href="https:&#x2F;&#x2F;docs.konghq.com&#x2F;kubernetes-ingress-controller&#x2F;2.12.x&#x2F;guides&#x2F;using-ingress-with-grpc&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.konghq.com&#x2F;kubernetes-ingress-controller&#x2F;2.12.x...</a><p>[3] <a href="https:&#x2F;&#x2F;github.com&#x2F;Kong&#x2F;kubernetes-ingress-controller">https:&#x2F;&#x2F;github.com&#x2F;Kong&#x2F;kubernetes-ingress-controller</a></div><br/><div id="38065790" class="c"><input type="checkbox" id="c-38065790" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#38063662">root</a><span>|</span><a href="#38064774">parent</a><span>|</span><a href="#38064921">next</a><span>|</span><label class="collapse" for="c-38065790">[-]</label><label class="expand" for="c-38065790">[2 more]</label></div><br/><div class="children"><div class="content">&gt; route by query string, configure weighted load balancing, work with TLS, deal with methods, etc - let alone other protocols than HTTP<p>Except for weighted load balancing*, these are all things NGINX does, which Kong is built on via OpenResty, right? What makes Kong different? (Trying to be open to explore even though I was disappointed when Insomnia users got locked out of their data unless they signed up for an account when they updated what was marketed as an open source project)<p>* Which I think NGINX Plus, a competitor, probably has, and they have an Ingress controller for Kubernetes that would likely get updated to use the Gateway API soon.</div><br/><div id="38066347" class="c"><input type="checkbox" id="c-38066347" checked=""/><div class="controls bullet"><span class="by">mflendrich</span><span>|</span><a href="#38063662">root</a><span>|</span><a href="#38065790">parent</a><span>|</span><a href="#38064921">next</a><span>|</span><label class="collapse" for="c-38066347">[-]</label><label class="expand" for="c-38066347">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What makes Kong different?<p>I am specifically talking just about OSS functionality in the Kong Ingress Controller. It can assign weights to service backends.<p>And, FWIW, Insomnia 8.3 defaults to local projects (again)<p><a href="https:&#x2F;&#x2F;konghq.com&#x2F;blog&#x2F;product-releases&#x2F;insomnia-8-3" rel="nofollow noreferrer">https:&#x2F;&#x2F;konghq.com&#x2F;blog&#x2F;product-releases&#x2F;insomnia-8-3</a><p>Gateway API is a broad community standard governed by SIG Network - fingers crossed for various other implementations (including mesh) working their way to GA implementation-wise - this will make the standard stronger and the community more vibrant.</div><br/></div></div></div></div></div></div><div id="38064921" class="c"><input type="checkbox" id="c-38064921" checked=""/><div class="controls bullet"><span class="by">pram</span><span>|</span><a href="#38063662">parent</a><span>|</span><a href="#38064774">prev</a><span>|</span><a href="#38064603">next</a><span>|</span><label class="collapse" for="c-38064921">[-]</label><label class="expand" for="c-38064921">[2 more]</label></div><br/><div class="children"><div class="content">Ingress seems to make easy things hard. I’ve spent hours dicking around with its config in some deployments, when I could have done the same thing in vanilla nginx in like 10 minutes.<p>Especially with some vendor helm charts, it’s often a nightmare if you’re deviating from the base config.</div><br/><div id="38065825" class="c"><input type="checkbox" id="c-38065825" checked=""/><div class="controls bullet"><span class="by">dharmab</span><span>|</span><a href="#38063662">root</a><span>|</span><a href="#38064921">parent</a><span>|</span><a href="#38064603">next</a><span>|</span><label class="collapse" for="c-38065825">[-]</label><label class="expand" for="c-38065825">[1 more]</label></div><br/><div class="children"><div class="content">Since 2018-2019, many of the really big Kubernetes users ditched Ingress for custom controllers and CRDs that allowed for more flexible configuration.</div><br/></div></div></div></div></div></div><div id="38064603" class="c"><input type="checkbox" id="c-38064603" checked=""/><div class="controls bullet"><span class="by">pylua</span><span>|</span><a href="#38063662">prev</a><span>|</span><a href="#38064680">next</a><span>|</span><label class="collapse" for="c-38064603">[-]</label><label class="expand" for="c-38064603">[5 more]</label></div><br/><div class="children"><div class="content">Tools like istio provide this sort of functionality currently, right? Does this adding anything to that?<p>I wonder how developers will be able to develop extensions for it.</div><br/><div id="38065190" class="c"><input type="checkbox" id="c-38065190" checked=""/><div class="controls bullet"><span class="by">gaganyaan</span><span>|</span><a href="#38064603">parent</a><span>|</span><a href="#38064713">next</a><span>|</span><label class="collapse" for="c-38065190">[-]</label><label class="expand" for="c-38065190">[3 more]</label></div><br/><div class="children"><div class="content">Istio kind of sucks TBH from the architecture astronauts getting high on their own supply. It reminds me of the worst excesses of OOP abstraction. The sort of code that you want to burn down to the ground after hitting your head against it for a few days.<p>The Gateway API is a relatively straightforward implementation of &quot;north-south&quot; traffic and doesn&#x27;t try to handle &quot;east-west&quot; traffic, limiting its complexity. Its existence means I can use something more sane like Contour, but it&#x27;s built on common resources that Istio can understand nicely as well, if need be. So the overall advantage is that you can hop between implementations without having to relearn everything from scratch.<p>My biggest frustration with the Gateway API is actually how extensions are developed: the spec just doesn&#x27;t (or didn&#x27;t last time I looked) touch timeouts other than just saying &quot;implementation defined&quot; because of the different ways that&#x27;s handled currently. To create extensions, just define your own custom resource that does whatever you want not currently covered by the spec.</div><br/><div id="38066096" class="c"><input type="checkbox" id="c-38066096" checked=""/><div class="controls bullet"><span class="by">dilyevsky</span><span>|</span><a href="#38064603">root</a><span>|</span><a href="#38065190">parent</a><span>|</span><a href="#38066549">next</a><span>|</span><label class="collapse" for="c-38066096">[-]</label><label class="expand" for="c-38066096">[1 more]</label></div><br/><div class="children"><div class="content">There is experimental support for basic http timeouts now - <a href="https:&#x2F;&#x2F;gateway-api.sigs.k8s.io&#x2F;geps&#x2F;gep-1742&#x2F;#api" rel="nofollow noreferrer">https:&#x2F;&#x2F;gateway-api.sigs.k8s.io&#x2F;geps&#x2F;gep-1742&#x2F;#api</a></div><br/></div></div><div id="38066549" class="c"><input type="checkbox" id="c-38066549" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#38064603">root</a><span>|</span><a href="#38065190">parent</a><span>|</span><a href="#38066096">prev</a><span>|</span><a href="#38064713">next</a><span>|</span><label class="collapse" for="c-38066549">[-]</label><label class="expand" for="c-38066549">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t ever debug anything on Istio, it is like playing around with configurations hoping to finally sort it out, usually takes a couple of hours to sort every issue.</div><br/></div></div></div></div><div id="38064713" class="c"><input type="checkbox" id="c-38064713" checked=""/><div class="controls bullet"><span class="by">kbumsik</span><span>|</span><a href="#38064603">parent</a><span>|</span><a href="#38065190">prev</a><span>|</span><a href="#38064680">next</a><span>|</span><label class="collapse" for="c-38064713">[-]</label><label class="expand" for="c-38064713">[1 more]</label></div><br/><div class="children"><div class="content">Istio and other popular tools has implemented its own gateway APIs because of the limits of Ingress API.<p>So the the new Gateway API seem to support more use cases so the user can use a more portable API.<p>Istio and many other tools already supports this: <a href="https:&#x2F;&#x2F;gateway-api.sigs.k8s.io&#x2F;implementations&#x2F;#implementations" rel="nofollow noreferrer">https:&#x2F;&#x2F;gateway-api.sigs.k8s.io&#x2F;implementations&#x2F;#implementat...</a></div><br/></div></div></div></div><div id="38064680" class="c"><input type="checkbox" id="c-38064680" checked=""/><div class="controls bullet"><span class="by">sheepo39</span><span>|</span><a href="#38064603">prev</a><span>|</span><a href="#38066892">next</a><span>|</span><label class="collapse" for="c-38064680">[-]</label><label class="expand" for="c-38064680">[11 more]</label></div><br/><div class="children"><div class="content">I hate when open source projects (especially common in the Kube-sphere I feel) adopt these super buzzwordy roles in their announcements.</div><br/><div id="38064722" class="c"><input type="checkbox" id="c-38064722" checked=""/><div class="controls bullet"><span class="by">kbumsik</span><span>|</span><a href="#38064680">parent</a><span>|</span><a href="#38066892">next</a><span>|</span><label class="collapse" for="c-38064722">[-]</label><label class="expand" for="c-38064722">[10 more]</label></div><br/><div class="children"><div class="content">What is super buzzwordy to you?</div><br/><div id="38065730" class="c"><input type="checkbox" id="c-38065730" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38064722">parent</a><span>|</span><a href="#38066892">next</a><span>|</span><label class="collapse" for="c-38065730">[-]</label><label class="expand" for="c-38065730">[9 more]</label></div><br/><div class="children"><div class="content">API Gateway is a bit of a buzzword. I think part of it&#x27;s because of Amazon API Gateway. People like to imagine they&#x27;re recreating big parts of AWS, and a lot of Amazon&#x27;s other products have names that are trademarked or are clunky to use.</div><br/><div id="38066485" class="c"><input type="checkbox" id="c-38066485" checked=""/><div class="controls bullet"><span class="by">zx8080</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38065730">parent</a><span>|</span><a href="#38065795">next</a><span>|</span><label class="collapse" for="c-38066485">[-]</label><label class="expand" for="c-38066485">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s OK, but almost impossible to search.<p>At least when using Google search where double-quotas seem to be not always understood as the &quot;required term&quot; anymore.</div><br/></div></div><div id="38065795" class="c"><input type="checkbox" id="c-38065795" checked=""/><div class="controls bullet"><span class="by">theossuary</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38065730">parent</a><span>|</span><a href="#38066485">prev</a><span>|</span><a href="#38066525">next</a><span>|</span><label class="collapse" for="c-38065795">[-]</label><label class="expand" for="c-38065795">[6 more]</label></div><br/><div class="children"><div class="content">I mean, the title says Gateway API, because it&#x27;s literally about an API named Gateway. Idk how you avoid it.</div><br/><div id="38065846" class="c"><input type="checkbox" id="c-38065846" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38065795">parent</a><span>|</span><a href="#38066525">next</a><span>|</span><label class="collapse" for="c-38065846">[-]</label><label class="expand" for="c-38065846">[5 more]</label></div><br/><div class="children"><div class="content">The text repeats it a lot. Maybe more than it should. Also GatewayClasses. It’s nitpicky, but I’m trying to understand OP’s comment.</div><br/><div id="38066119" class="c"><input type="checkbox" id="c-38066119" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38065846">parent</a><span>|</span><a href="#38066525">next</a><span>|</span><label class="collapse" for="c-38066119">[-]</label><label class="expand" for="c-38066119">[4 more]</label></div><br/><div class="children"><div class="content">The Kubernetes API is structured as &quot;resources&quot;. (I&#x27;m oversimplifying but it&#x27;s OK for what we are going to explain here).<p>In this case. Gateway is merely a new resource type introduced to replace the aging and inadequate Ingress resource. GatewayClass was introduced alongside it as a way for the infrastructure providers to define essentially a &quot;template&quot; for how Gateways can be created that are tied back to a specific implementation.<p>This is similar to how StorageClass and PersistentVolume (two other resources) already work for defining block storage in Kubernetes.<p>This isn&#x27;t buzzword soup and the original commenter just has no clue what they are talking about so there isn&#x27;t any point in defending their potential point because there isn&#x27;t one there. The text repeats these terms a lot because they are what are being discussed, as in -concrete- things. Not buzzwords.<p>FWIW I hate buzzwords, marketing and pretty much everything else of that ilk. Talk is cheap, show me the code. In this case, this is the code.</div><br/><div id="38066253" class="c"><input type="checkbox" id="c-38066253" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38066119">parent</a><span>|</span><a href="#38066525">next</a><span>|</span><label class="collapse" for="c-38066253">[-]</label><label class="expand" for="c-38066253">[3 more]</label></div><br/><div class="children"><div class="content">I understand what GatewayClass means and still think it could have been repeated less. I didn&#x27;t say it was buzzword soup. I think it&#x27;s good but I wouldn&#x27;t want this to become the prevailing style.<p>This paragraph:<p>&gt; Subsequently, cluster operators utilize these GatewayClasses to deploy gateways. A Gateway in Kubernetes&#x27; Gateway API defines how external traffic can be directed to Services within the cluster, essentially bridging non-Kubernetes sources to Kubernetes-aware destinations. It represents a request for a load balancer configuration aligned with a GatewayClass’ specification. The Gateway spec may not be exhaustive as some details can be supplied by the GatewayClass controller, ensuring portability. Additionally, a Gateway can be linked to multiple Route references to channel specific traffic subsets to designated services.</div><br/><div id="38066770" class="c"><input type="checkbox" id="c-38066770" checked=""/><div class="controls bullet"><span class="by">misnome</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38066253">parent</a><span>|</span><a href="#38066714">next</a><span>|</span><label class="collapse" for="c-38066770">[-]</label><label class="expand" for="c-38066770">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately, in terms of Kubernetes this is written pretty clearly about what it’s doing and how it interacts with other parts.</div><br/></div></div><div id="38066714" class="c"><input type="checkbox" id="c-38066714" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38066253">parent</a><span>|</span><a href="#38066770">prev</a><span>|</span><a href="#38066525">next</a><span>|</span><label class="collapse" for="c-38066714">[-]</label><label class="expand" for="c-38066714">[1 more]</label></div><br/><div class="children"><div class="content">Well it&#x27;s the subject of the vast majority of the sentences. I fail to see how you can write this information in a way that doesn&#x27;t use it multiple times without going out of your way to imply the subject instead of just stating it clearly as is done here.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38066525" class="c"><input type="checkbox" id="c-38066525" checked=""/><div class="controls bullet"><span class="by">Foobar8568</span><span>|</span><a href="#38064680">root</a><span>|</span><a href="#38065730">parent</a><span>|</span><a href="#38065795">prev</a><span>|</span><a href="#38066892">next</a><span>|</span><label class="collapse" for="c-38066525">[-]</label><label class="expand" for="c-38066525">[1 more]</label></div><br/><div class="children"><div class="content">Especially that API Gateway used to encompass several more services provided by middlewares than the rather limited AWS one.</div><br/></div></div></div></div></div></div></div></div><div id="38066892" class="c"><input type="checkbox" id="c-38066892" checked=""/><div class="controls bullet"><span class="by">denkmoon</span><span>|</span><a href="#38064680">prev</a><span>|</span><label class="collapse" for="c-38066892">[-]</label><label class="expand" for="c-38066892">[1 more]</label></div><br/><div class="children"><div class="content">every day, kubernetes strays further from god&#x27;s light</div><br/></div></div></div></div></div></div></div></body></html>