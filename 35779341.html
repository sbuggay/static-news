<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1683002452746" as="style"/><link rel="stylesheet" href="styles.css?v=1683002452746"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://htmx.org/essays/two-approaches-to-decoupling/">Two Approaches to Decoupling</a> <span class="domain">(<a href="https://htmx.org">htmx.org</a>)</span></div><div class="subtext"><span>telotortium</span> | <span>13 comments</span></div><br/><div><div id="35783416" class="c"><input type="checkbox" id="c-35783416" checked=""/><div class="controls bullet"><span class="by">killthebuddha</span><span>|</span><a href="#35783210">next</a><span>|</span><label class="collapse" for="c-35783416">[-]</label><label class="expand" for="c-35783416">[1 more]</label></div><br/><div class="children"><div class="content">I could be misunderstanding of course, but IMO this article is basically misleading or incorrect. If everything else is the same, a JSON API is strictly more flexible than the corresponding HTML API because JSON is a strictly more flexible serialization format than HTML. You have a database on one side of a network and clients on the other side. If you bind your data to a specific client on the database side of the network, your system is less flexible.<p>N.B. I am not making any claims about whether any particular HTTP API should serve JSON or HTML, I’m just saying that JSON is a strictly more flexible option.</div><br/></div></div><div id="35783210" class="c"><input type="checkbox" id="c-35783210" checked=""/><div class="controls bullet"><span class="by">mathgladiator</span><span>|</span><a href="#35783416">prev</a><span>|</span><a href="#35783072">next</a><span>|</span><label class="collapse" for="c-35783210">[-]</label><label class="expand" for="c-35783210">[3 more]</label></div><br/><div class="children"><div class="content">Another approach (which I&#x27;d love to see others pick up on) is treating the client as a dumb proxy to the server. This is the philosophy I&#x27;m embracing, and it&#x27;s wonderful!<p>If you buy into the philosophy that the UI is a deterministic function of server state and ephemeral view state (ui = f(state, viewstate)), then the core question is medium.<p>With browser, embracing HTML is the only sane choice for business. As such, the function at hand needs to convert those two state objects into a blob of HTML. This is the classic HTML template problem.<p>However, if you treat the state(s) as streams, then you&#x27;ll be where I am at in building a differential HTML engine. I&#x27;m calling this first (big) version: RxHTML ( <a href="https:&#x2F;&#x2F;book.adama-platform.com&#x2F;rxhtml&#x2F;ref.html" rel="nofollow">https:&#x2F;&#x2F;book.adama-platform.com&#x2F;rxhtml&#x2F;ref.html</a> ) and it uses my modified JSON delta format ( <a href="https:&#x2F;&#x2F;book.adama-platform.com&#x2F;reference&#x2F;deltas.html" rel="nofollow">https:&#x2F;&#x2F;book.adama-platform.com&#x2F;reference&#x2F;deltas.html</a> ).<p>The spiritual design question is what minimal things does HTML need with reactive data binding.<p>It&#x27;s pretty awesome to be able to debug a user experience by having 4 views up at once, and then see a real-time update on all 4 views at once.<p>The tech at this time is beta quality, but I&#x27;m working through this as I build a real SaaS for everyday people. I&#x27;m having a bunch of fun especially as tailwind dramatically simplifies the styling.</div><br/><div id="35783329" class="c"><input type="checkbox" id="c-35783329" checked=""/><div class="controls bullet"><span class="by">nesarkvechnep</span><span>|</span><a href="#35783210">parent</a><span>|</span><a href="#35783072">next</a><span>|</span><label class="collapse" for="c-35783329">[-]</label><label class="expand" for="c-35783329">[2 more]</label></div><br/><div class="children"><div class="content">Your philosophy is nothing new. It’s called REST. Yes, REST must be hypermedia-driven and if your server and client “speak” the same media type, your client doesn’t have to keep state. Add HTTP caching to the mix and the result is beautiful. Of course, it’s easier to concatenate strings and write stores on the client. Or is it?</div><br/><div id="35783345" class="c"><input type="checkbox" id="c-35783345" checked=""/><div class="controls bullet"><span class="by">mathgladiator</span><span>|</span><a href="#35783210">root</a><span>|</span><a href="#35783329">parent</a><span>|</span><a href="#35783072">next</a><span>|</span><label class="collapse" for="c-35783345">[-]</label><label class="expand" for="c-35783345">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the old world, and the world I want has limited JavaScript yet fully interactive products.</div><br/></div></div></div></div></div></div><div id="35783072" class="c"><input type="checkbox" id="c-35783072" checked=""/><div class="controls bullet"><span class="by">hakunin</span><span>|</span><a href="#35783210">prev</a><span>|</span><a href="#35782950">next</a><span>|</span><label class="collapse" for="c-35783072">[-]</label><label class="expand" for="c-35783072">[1 more]</label></div><br/><div class="children"><div class="content">One advantage of the &quot;Another Solution&quot; brought up in the article is that the code you write to create JSON for your web pages can be in large part reused for your mobile API. Certainly mobile screens are shaped differently, but not entirely. The trick is to abstract JSON-rendering logic in a way that lets you reshuffle bits and pieces for your mobile.<p>Disclaimer: I wrote the linked article for that solution.</div><br/></div></div><div id="35782950" class="c"><input type="checkbox" id="c-35782950" checked=""/><div class="controls bullet"><span class="by">dack</span><span>|</span><a href="#35783072">prev</a><span>|</span><a href="#35782922">next</a><span>|</span><label class="collapse" for="c-35782950">[-]</label><label class="expand" for="c-35782950">[2 more]</label></div><br/><div class="children"><div class="content">I am probably misunderstanding the article, but as far as I can tell, the two ways discussed are &quot;JSON API like almost everybody does&quot; and &quot;do server-side rendering and call it the API&quot;.<p>Not to say it&#x27;s wrong to do server-side rendering of the frontend, but I got the impression that the article wanted to make a distinction that I&#x27;m not seeing.</div><br/><div id="35782991" class="c"><input type="checkbox" id="c-35782991" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#35782950">parent</a><span>|</span><a href="#35782922">next</a><span>|</span><label class="collapse" for="c-35782991">[-]</label><label class="expand" for="c-35782991">[1 more]</label></div><br/><div class="children"><div class="content">server side rendering (that is, returning HTML) <i>is</i> an API, it&#x27;s just that it&#x27;s a hypermedia API (poor hypermedia, can&#x27;t get no respect) rather than a data API, intended to be consumed by a hypermedia client (e.g. a web browser) and revealing&#x2F;affording further API navigation via hypermedia controls (e.g. links)<p>hypermedia APIs have not proven to be good data APIs, but they have proven to be excellent at surviving change within a larger hypermedia system (like the web)<p>in this article I&#x27;m trying to show why, despite the promise of decoupling that comes with a generic JSON Data API, it is hypermedia APIs (with tight server&#x2F;front end coupling) that survive change better, due to the uniform interface of REST</div><br/></div></div></div></div><div id="35782922" class="c"><input type="checkbox" id="c-35782922" checked=""/><div class="controls bullet"><span class="by">JerryWebb</span><span>|</span><a href="#35782950">prev</a><span>|</span><label class="collapse" for="c-35782922">[-]</label><label class="expand" for="c-35782922">[5 more]</label></div><br/><div class="children"><div class="content">Interesting idea! However it will be very expensive to store all of this on a CDN.<p>The problem is users will interact with a majority of (get) APIs through a CDN and as developers we should reduce unnecessary data sitting in the CDN because it costs quite alot of money to serve.<p>For example if a CDN is returning JSON data {name: “Bart”} were only paying for 50 bytes or so of data transfer. BUT if instead we convert this to HTML and serve it, we would be 10x (or more)the data stored on the CDN to serve that data.<p>I don’t see a strong argument for paying 10x more to serve data as HTML.</div><br/><div id="35783243" class="c"><input type="checkbox" id="c-35783243" checked=""/><div class="controls bullet"><span class="by">latortuga</span><span>|</span><a href="#35782922">parent</a><span>|</span><a href="#35783192">next</a><span>|</span><label class="collapse" for="c-35783243">[-]</label><label class="expand" for="c-35783243">[1 more]</label></div><br/><div class="children"><div class="content">I get what you&#x27;re saying but you have to follow that logically to the end. 10x or more of what? What does 50 bytes cost over the wire and what is 10x that? Is this really the thing we are worrying about? Is the best argument that HATEOS costs slightly more fractions of a penny than a json API?</div><br/></div></div><div id="35783192" class="c"><input type="checkbox" id="c-35783192" checked=""/><div class="controls bullet"><span class="by">rozap</span><span>|</span><a href="#35782922">parent</a><span>|</span><a href="#35783243">prev</a><span>|</span><a href="#35782996">next</a><span>|</span><label class="collapse" for="c-35783192">[-]</label><label class="expand" for="c-35783192">[1 more]</label></div><br/><div class="children"><div class="content">You might not need a CDN</div><br/></div></div><div id="35782996" class="c"><input type="checkbox" id="c-35782996" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#35782922">parent</a><span>|</span><a href="#35783192">prev</a><span>|</span><a href="#35783330">next</a><span>|</span><label class="collapse" for="c-35782996">[-]</label><label class="expand" for="c-35782996">[1 more]</label></div><br/><div class="children"><div class="content">hypermedia apis are not good data apis, as I say in the article:<p><a href="https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;two-approaches-to-decoupling&#x2F;#but-that-s-a-terrible-data-api" rel="nofollow">https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;two-approaches-to-decoupling&#x2F;#but-th...</a><p>&gt; Many people would object that, sure, this hypermedia API may be flexible for our web application, but it makes for a terrible general purpose API.<p>&gt; This is quite true. This hypermedia API is tuned for a specific web application. It would be cumbersome and error-prone to try to download this HTML, parse it and try to extract information from it. This hypermedia API only makes sense as part of a larger hypermedia system, being consumed by a proper hypermedia client.</div><br/></div></div><div id="35783330" class="c"><input type="checkbox" id="c-35783330" checked=""/><div class="controls bullet"><span class="by">halfcat</span><span>|</span><a href="#35782922">parent</a><span>|</span><a href="#35782996">prev</a><span>|</span><label class="collapse" for="c-35783330">[-]</label><label class="expand" for="c-35783330">[1 more]</label></div><br/><div class="children"><div class="content">Is a JSON response smaller here? With HTMX I can return the text `Bart` to be swapped into the innerHTML of the appropriate element. With JSON, the actual text is longer, and I need `Content-Type: application&#x2F;json` and possibly other headers. My initial page load also requires less bandwidth by not loading React. What do you think? Maybe I should just test it.</div><br/></div></div></div></div></div></div></div></div></div></body></html>