<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1710752451890" as="style"/><link rel="stylesheet" href="styles.css?v=1710752451890"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/matthewhague/sat-css-tool">Optimize CSS with SAT Solving</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>keepamovin</span> | <span>34 comments</span></div><br/><div><div id="39741425" class="c"><input type="checkbox" id="c-39741425" checked=""/><div class="controls bullet"><span class="by">ToJans</span><span>|</span><a href="#39735693">next</a><span>|</span><label class="collapse" for="c-39741425">[-]</label><label class="expand" for="c-39741425">[1 more]</label></div><br/><div class="children"><div class="content">Slightly OT: anyone can recommend a tool that turns the tailwind class mess into a properly structured CSS file (Grouping common utility classes etc).<p>I think I&#x27;d pay for this if it works properly...</div><br/></div></div><div id="39735693" class="c"><input type="checkbox" id="c-39735693" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#39741425">prev</a><span>|</span><a href="#39738191">next</a><span>|</span><label class="collapse" for="c-39735693">[-]</label><label class="expand" for="c-39735693">[8 more]</label></div><br/><div class="children"><div class="content">I lazily didn&#x27;t want to refactor my CSS myself, so after a failed attempt using ChatGPT for this, I found this CSS sat solver tool.<p>Just a note on macOS I managed to get this work by:<p><pre><code>  - Editing the pyproject.toml and changing
  - lxml version to 5.1.0
  - python to ^3.8
  - then running poetry install
  - then, also in the repo, running cd satcss &amp;&amp; ln -s $(which z3) z3
  - then poetry run satcss --help
</code></pre>
I may have skipped a step or 2 but that was basically it. I then used satcss&#x27; output with this tool<p><a href="https:&#x2F;&#x2F;css.github.io&#x2F;csso&#x2F;csso.html" rel="nofollow">https:&#x2F;&#x2F;css.github.io&#x2F;csso&#x2F;csso.html</a><p>to beautify and further organize it</div><br/><div id="39737427" class="c"><input type="checkbox" id="c-39737427" checked=""/><div class="controls bullet"><span class="by">b33j0r</span><span>|</span><a href="#39735693">parent</a><span>|</span><a href="#39737911">next</a><span>|</span><label class="collapse" for="c-39737427">[-]</label><label class="expand" for="c-39737427">[4 more]</label></div><br/><div class="children"><div class="content">I was similarly surprised that gpt4 can’t do this. I have nearly started over on full-stack applications because my css got out of hand, haha.<p>This is pretty much exactly what I was looking for!</div><br/><div id="39739377" class="c"><input type="checkbox" id="c-39739377" checked=""/><div class="controls bullet"><span class="by">nyrikki</span><span>|</span><a href="#39735693">root</a><span>|</span><a href="#39737427">parent</a><span>|</span><a href="#39738644">next</a><span>|</span><label class="collapse" for="c-39739377">[-]</label><label class="expand" for="c-39739377">[1 more]</label></div><br/><div class="children"><div class="content">Transformers are highly parallelized, and generative AI appends.<p>Even if you ignore that graph problems typically have more time complexity than LLMs offer during inference, they are circuit like and not turing machine like.<p>Without getting lucky with pre-training matches, it would be surprising if they were good at it at all.</div><br/></div></div><div id="39738644" class="c"><input type="checkbox" id="c-39738644" checked=""/><div class="controls bullet"><span class="by">micromacrofoot</span><span>|</span><a href="#39735693">root</a><span>|</span><a href="#39737427">parent</a><span>|</span><a href="#39739377">prev</a><span>|</span><a href="#39737911">next</a><span>|</span><label class="collapse" for="c-39738644">[-]</label><label class="expand" for="c-39738644">[2 more]</label></div><br/><div class="children"><div class="content">same, it’s funny how bad chatgpt is at css… in my experience it can’t even do simple css refactors</div><br/><div id="39739696" class="c"><input type="checkbox" id="c-39739696" checked=""/><div class="controls bullet"><span class="by">698969</span><span>|</span><a href="#39735693">root</a><span>|</span><a href="#39738644">parent</a><span>|</span><a href="#39737911">next</a><span>|</span><label class="collapse" for="c-39739696">[-]</label><label class="expand" for="c-39739696">[1 more]</label></div><br/><div class="children"><div class="content">There are a lot of bad examples on the internet, &quot;try this, it worked for me&quot; but only because of some other rule up the cascade that the person answering isn&#x27;t aware of.</div><br/></div></div></div></div></div></div><div id="39737911" class="c"><input type="checkbox" id="c-39737911" checked=""/><div class="controls bullet"><span class="by">matsemann</span><span>|</span><a href="#39735693">parent</a><span>|</span><a href="#39737427">prev</a><span>|</span><a href="#39738191">next</a><span>|</span><label class="collapse" for="c-39737911">[-]</label><label class="expand" for="c-39737911">[3 more]</label></div><br/><div class="children"><div class="content">Your comment highlights why distributing anything that&#x27;s python is unfortunately nearly impossible.</div><br/><div id="39741222" class="c"><input type="checkbox" id="c-39741222" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#39735693">root</a><span>|</span><a href="#39737911">parent</a><span>|</span><a href="#39739709">next</a><span>|</span><label class="collapse" for="c-39741222">[-]</label><label class="expand" for="c-39741222">[1 more]</label></div><br/><div class="children"><div class="content">This is not even remotely normal for Python tools. The problem arises here because it’s using libxml2, a C library.</div><br/></div></div><div id="39739709" class="c"><input type="checkbox" id="c-39739709" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#39735693">root</a><span>|</span><a href="#39737911">parent</a><span>|</span><a href="#39741222">prev</a><span>|</span><a href="#39738191">next</a><span>|</span><label class="collapse" for="c-39739709">[-]</label><label class="expand" for="c-39739709">[1 more]</label></div><br/><div class="children"><div class="content">Ha! :)  Yeah, python installs &#x2F; distribution it’s pretty much a dumpster fire it seems. But I’m not an expert at that. It’s kind of funny or ironic that given how easy to use python is supposed to be and how important it now it is with AI etc..<p>I don’t know … maybe these pythonistas like the arcane type of secret initiate knowledge required in order to participate?</div><br/></div></div></div></div></div></div><div id="39738191" class="c"><input type="checkbox" id="c-39738191" checked=""/><div class="controls bullet"><span class="by">the_other</span><span>|</span><a href="#39735693">prev</a><span>|</span><a href="#39738209">next</a><span>|</span><label class="collapse" for="c-39738191">[-]</label><label class="expand" for="c-39738191">[4 more]</label></div><br/><div class="children"><div class="content">It’s not clear to me from the readme why this is useful.<p>.a and .b identify different groups of elements. The fact they’re both coloured red is incidental, circumstantial and likely temporary. Refactoring to save a couple of lines makes the code less deleteable and thus harder to maintain.</div><br/><div id="39738319" class="c"><input type="checkbox" id="c-39738319" checked=""/><div class="controls bullet"><span class="by">andful</span><span>|</span><a href="#39738191">parent</a><span>|</span><a href="#39739754">next</a><span>|</span><label class="collapse" for="c-39738319">[-]</label><label class="expand" for="c-39738319">[1 more]</label></div><br/><div class="children"><div class="content">I would treat this tool similarly to a minifier. It reduces size and bandwidth at the cost of legibility. It should be a stage in the deployment pipeline, but not a way to format your own code.</div><br/></div></div><div id="39739754" class="c"><input type="checkbox" id="c-39739754" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#39738191">parent</a><span>|</span><a href="#39738319">prev</a><span>|</span><a href="#39738522">next</a><span>|</span><label class="collapse" for="c-39739754">[-]</label><label class="expand" for="c-39739754">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that’s fair enough. I suppose if you want to keep all the selectors fully ‘denormalized’ and independent, at the expense of duplication, then you probably don’t wanna link them together by factoring out commonalities like this seems to do. This has benefits indeed.<p>I guess what I was looking for was a different type of benefits, more achieved through normalizing the CSS.<p>My CSS was just like accreted overtime and I just couldn’t be bothered to like get the overall picture myself, and re-organize — so  I wanted to reduce some of the entropy and redundancy and increase organization, so it would be clearer.<p>I think from another point of view having something that’s clearer and tighter is more maintainable.<p>All depends on what you want I suppose. I was also hoping that I would be able to change  a color in one place and it would update across many selectors. And that’s one of the benefits that a more normalized factored structure gives.<p>Ann interesting dichotomy, your comment raises between fully denormalized and easy to change a single thing, and what I am trying to achieve in this case, and that’s more succinct and structured with related parts proximal. A more ‘normalized’ CSS haha! :)</div><br/></div></div><div id="39738522" class="c"><input type="checkbox" id="c-39738522" checked=""/><div class="controls bullet"><span class="by">holoduke</span><span>|</span><a href="#39738191">parent</a><span>|</span><a href="#39739754">prev</a><span>|</span><a href="#39738209">next</a><span>|</span><label class="collapse" for="c-39738522">[-]</label><label class="expand" for="c-39738522">[1 more]</label></div><br/><div class="children"><div class="content">Add it to a bundler like parceljs. Minifies and optimizes for production. Our dev css file is 40kb. Optimized production version 10kb (example)</div><br/></div></div></div></div><div id="39738209" class="c"><input type="checkbox" id="c-39738209" checked=""/><div class="controls bullet"><span class="by">ape4</span><span>|</span><a href="#39738191">prev</a><span>|</span><a href="#39738971">next</a><span>|</span><label class="collapse" for="c-39738209">[-]</label><label class="expand" for="c-39738209">[4 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t gzip will remove redundancy when it sends the compressed .css file.</div><br/><div id="39738541" class="c"><input type="checkbox" id="c-39738541" checked=""/><div class="controls bullet"><span class="by">Dlanv</span><span>|</span><a href="#39738209">parent</a><span>|</span><a href="#39739778">next</a><span>|</span><label class="collapse" for="c-39738541">[-]</label><label class="expand" for="c-39738541">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s still saving probably a single byte in this example<p>.a { color: red }<p>.b { color: red }<p>Also it saves on parsing time I suppose. 
And less to zip and unzip.<p>The type of thing I&#x27;d add to a projects deployment stage and never touch again unless it causes an issue.</div><br/></div></div><div id="39739778" class="c"><input type="checkbox" id="c-39739778" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#39738209">parent</a><span>|</span><a href="#39738541">prev</a><span>|</span><a href="#39738709">next</a><span>|</span><label class="collapse" for="c-39739778">[-]</label><label class="expand" for="c-39739778">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I mean this is not purely about reducing space at least from my point of view I wanted to better organize my CSS and I reduced duplication so that the overall structure would be clear to me and for what I wanted to do it would be easier to maintain in modify. A more ‘normalized’ (in the language of relational databases) CSS haha! :)</div><br/></div></div><div id="39738709" class="c"><input type="checkbox" id="c-39738709" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#39738209">parent</a><span>|</span><a href="#39739778">prev</a><span>|</span><a href="#39738971">next</a><span>|</span><label class="collapse" for="c-39738709">[-]</label><label class="expand" for="c-39738709">[1 more]</label></div><br/><div class="children"><div class="content">Still takes time to parse and apply the styles though.<p>CSS is probably a much smaller concern than JS but in the world of 5G networks and fast WiFi I feel like we’re nearing a world where device CPU can be a bigger bottleneck than bandwidth at times.</div><br/></div></div></div></div><div id="39738971" class="c"><input type="checkbox" id="c-39738971" checked=""/><div class="controls bullet"><span class="by">foobarbecue</span><span>|</span><a href="#39738209">prev</a><span>|</span><a href="#39739102">next</a><span>|</span><label class="collapse" for="c-39738971">[-]</label><label class="expand" for="c-39738971">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been looking for a CSS optimizer that will remove any styles that aren&#x27;t actually used -- e.g. selectors matching ids and classes that don&#x27;t exist in the html. Does anyone know of such a thing? Preferably easy to use from Jetbrains IDEs?</div><br/><div id="39740146" class="c"><input type="checkbox" id="c-39740146" checked=""/><div class="controls bullet"><span class="by">iansinnott</span><span>|</span><a href="#39738971">parent</a><span>|</span><a href="#39740536">next</a><span>|</span><label class="collapse" for="c-39740146">[-]</label><label class="expand" for="c-39740146">[1 more]</label></div><br/><div class="children"><div class="content">Check out: <a href="https:&#x2F;&#x2F;github.com&#x2F;uncss&#x2F;uncss">https:&#x2F;&#x2F;github.com&#x2F;uncss&#x2F;uncss</a><p>I&#x27;ve only used it once but it did the job (NOTE: Plain HTML, plain CSS, no build pipeline. So YMMV)</div><br/></div></div><div id="39740536" class="c"><input type="checkbox" id="c-39740536" checked=""/><div class="controls bullet"><span class="by">c_s_guy</span><span>|</span><a href="#39738971">parent</a><span>|</span><a href="#39740146">prev</a><span>|</span><a href="#39739264">next</a><span>|</span><label class="collapse" for="c-39740536">[-]</label><label class="expand" for="c-39740536">[1 more]</label></div><br/><div class="children"><div class="content">As a starting point, Tailwind used to use PurgeCSS [0] but I&#x27;m not sure what they use now.<p>[0] <a href="https:&#x2F;&#x2F;purgecss.com" rel="nofollow">https:&#x2F;&#x2F;purgecss.com</a></div><br/></div></div><div id="39739264" class="c"><input type="checkbox" id="c-39739264" checked=""/><div class="controls bullet"><span class="by">gregod</span><span>|</span><a href="#39738971">parent</a><span>|</span><a href="#39740536">prev</a><span>|</span><a href="#39739102">next</a><span>|</span><label class="collapse" for="c-39739264">[-]</label><label class="expand" for="c-39739264">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;GoogleChromeLabs&#x2F;critters">https:&#x2F;&#x2F;github.com&#x2F;GoogleChromeLabs&#x2F;critters</a> Might be a good starting point. It’s designed to inline the css afterward so  it’s more focused on extracting used css than removing unused.</div><br/></div></div></div></div><div id="39739102" class="c"><input type="checkbox" id="c-39739102" checked=""/><div class="controls bullet"><span class="by">ssttoo</span><span>|</span><a href="#39738971">prev</a><span>|</span><a href="#39736959">next</a><span>|</span><label class="collapse" for="c-39739102">[-]</label><label class="expand" for="c-39739102">[2 more]</label></div><br/><div class="children"><div class="content">I wish there was some more docs on what it does in addition to modern minifiers such as csso and lightningcss, both of which do refactor css when they deem safe.</div><br/><div id="39740963" class="c"><input type="checkbox" id="c-39740963" checked=""/><div class="controls bullet"><span class="by">rolfvandekrol</span><span>|</span><a href="#39739102">parent</a><span>|</span><a href="#39736959">next</a><span>|</span><label class="collapse" for="c-39740963">[-]</label><label class="expand" for="c-39740963">[1 more]</label></div><br/><div class="children"><div class="content">This is a repository that accompanies a research paper. <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3310337" rel="nofollow">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3310337</a></div><br/></div></div></div></div><div id="39736959" class="c"><input type="checkbox" id="c-39736959" checked=""/><div class="controls bullet"><span class="by">spencerchubb</span><span>|</span><a href="#39739102">prev</a><span>|</span><a href="#39737075">next</a><span>|</span><label class="collapse" for="c-39736959">[-]</label><label class="expand" for="c-39736959">[7 more]</label></div><br/><div class="children"><div class="content">I would like a tool similar to this, but for refactoring in a human-readable way instead of minifying. Some tool to automatically look for duplicated css code. In theory, it seems easier for css than for actual programming languages given the simplicity</div><br/><div id="39739802" class="c"><input type="checkbox" id="c-39739802" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#39736959">parent</a><span>|</span><a href="#39737889">next</a><span>|</span><label class="collapse" for="c-39739802">[-]</label><label class="expand" for="c-39739802">[1 more]</label></div><br/><div class="children"><div class="content">This sort of does that I think, but it more just dedupes it rather than just identifying the duplicates. But I agree that like some tooling to make CSS more human readable, and like to tame unwieldy enlarged CSS and subdue it to the useful and the good and the organized that would be a very useful thing, but I couldn’t find anything… besides this haha! :)<p>Yeah, in a related anecdote it’s surprising how sparse the landscape of CSS tools seemed at least for command line tools that I was looking for.<p>I didn’t want an ID plug-in because I didn’t really use anything except for vim and I don’t really use plug-ins for that.<p>That might be kind of a niche set up but when I went looking for like even just something to sort the properties by some standard order within each rule, I couldn’t find anything current that worked in my searching anyway.</div><br/></div></div><div id="39737889" class="c"><input type="checkbox" id="c-39737889" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#39736959">parent</a><span>|</span><a href="#39739802">prev</a><span>|</span><a href="#39737240">next</a><span>|</span><label class="collapse" for="c-39737889">[-]</label><label class="expand" for="c-39737889">[4 more]</label></div><br/><div class="children"><div class="content">Last time I was leaving front end there were rumors of css coverage tools. That would certainly be a start.</div><br/><div id="39738208" class="c"><input type="checkbox" id="c-39738208" checked=""/><div class="controls bullet"><span class="by">gbickford</span><span>|</span><a href="#39736959">root</a><span>|</span><a href="#39737889">parent</a><span>|</span><a href="#39737240">next</a><span>|</span><label class="collapse" for="c-39738208">[-]</label><label class="expand" for="c-39738208">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a thing in Chrome Dev Tools now: <a href="https:&#x2F;&#x2F;developer.chrome.com&#x2F;docs&#x2F;devtools&#x2F;coverage&#x2F;" rel="nofollow">https:&#x2F;&#x2F;developer.chrome.com&#x2F;docs&#x2F;devtools&#x2F;coverage&#x2F;</a></div><br/><div id="39738814" class="c"><input type="checkbox" id="c-39738814" checked=""/><div class="controls bullet"><span class="by">alserio</span><span>|</span><a href="#39736959">root</a><span>|</span><a href="#39738208">parent</a><span>|</span><a href="#39737240">next</a><span>|</span><label class="collapse" for="c-39738814">[-]</label><label class="expand" for="c-39738814">[2 more]</label></div><br/><div class="children"><div class="content">now, if only it could persist the data while navigating to other pages, it would be a lot more useful</div><br/><div id="39739056" class="c"><input type="checkbox" id="c-39739056" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#39736959">root</a><span>|</span><a href="#39738814">parent</a><span>|</span><a href="#39737240">next</a><span>|</span><label class="collapse" for="c-39739056">[-]</label><label class="expand" for="c-39739056">[1 more]</label></div><br/><div class="children"><div class="content">This I remember now. So that still hasn’t been sorted out? Pity.</div><br/></div></div></div></div></div></div></div></div><div id="39737240" class="c"><input type="checkbox" id="c-39737240" checked=""/><div class="controls bullet"><span class="by">ToValueFunfetti</span><span>|</span><a href="#39736959">parent</a><span>|</span><a href="#39737889">prev</a><span>|</span><a href="#39737075">next</a><span>|</span><label class="collapse" for="c-39737240">[-]</label><label class="expand" for="c-39737240">[1 more]</label></div><br/><div class="children"><div class="content">CSS is Turing complete, although you could probably handle 99.9% of real world cases without dealing with that.</div><br/></div></div></div></div><div id="39737075" class="c"><input type="checkbox" id="c-39737075" checked=""/><div class="controls bullet"><span class="by">niutech</span><span>|</span><a href="#39736959">prev</a><span>|</span><a href="#39736712">next</a><span>|</span><label class="collapse" for="c-39737075">[-]</label><label class="expand" for="c-39737075">[2 more]</label></div><br/><div class="children"><div class="content">Is there an online version?</div><br/><div id="39739813" class="c"><input type="checkbox" id="c-39739813" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#39737075">parent</a><span>|</span><a href="#39736712">next</a><span>|</span><label class="collapse" for="c-39739813">[-]</label><label class="expand" for="c-39739813">[1 more]</label></div><br/><div class="children"><div class="content">I don’t think so, but wouldn’t something like replit make this possible to run online?</div><br/></div></div></div></div><div id="39736712" class="c"><input type="checkbox" id="c-39736712" checked=""/><div class="controls bullet"><span class="by">scholaronroad</span><span>|</span><a href="#39737075">prev</a><span>|</span><label class="collapse" for="c-39736712">[-]</label><label class="expand" for="c-39736712">[1 more]</label></div><br/><div class="children"><div class="content">Very cool!</div><br/></div></div></div></div></div></div></div></body></html>