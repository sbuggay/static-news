<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1694422870094" as="style"/><link rel="stylesheet" href="styles.css?v=1694422870094"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/nginx/unit">Nginx Unit – Universal web app server</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>promiseofbeans</span> | <span>123 comments</span></div><br/><div><div id="37455109" class="c"><input type="checkbox" id="c-37455109" checked=""/><div class="controls bullet"><span class="by">jchook</span><span>|</span><a href="#37454362">next</a><span>|</span><label class="collapse" for="c-37455109">[-]</label><label class="expand" for="c-37455109">[15 more]</label></div><br/><div class="children"><div class="content">Nginx Unit + PHP seems to handedly out-perform Nginx + php-fpm[1][2][3].<p>Also, Docker environments running PHP via Nginx Unit will no longer need separate containers for http + fpm, as it works similar to Apache&#x27;s mod_php.<p>1. <a href="https:&#x2F;&#x2F;habr.com&#x2F;en&#x2F;articles&#x2F;646397&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;habr.com&#x2F;en&#x2F;articles&#x2F;646397&#x2F;</a><p>2. <a href="https:&#x2F;&#x2F;medium.com&#x2F;@le_moment_it&#x2F;nginx-unit-discover-and-benchmark-part-3-c38661194cd0" rel="nofollow noreferrer">https:&#x2F;&#x2F;medium.com&#x2F;@le_moment_it&#x2F;nginx-unit-discover-and-ben...</a><p>3. <a href="https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;unit&#x2F;issues&#x2F;6#issuecomment-384073628">https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;unit&#x2F;issues&#x2F;6#issuecomment-38407362...</a></div><br/><div id="37456626" class="c"><input type="checkbox" id="c-37456626" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37455109">parent</a><span>|</span><a href="#37456169">next</a><span>|</span><label class="collapse" for="c-37456626">[-]</label><label class="expand" for="c-37456626">[2 more]</label></div><br/><div class="children"><div class="content">Those benchmark outcomes are ridiculously in nginx-unit’s favor over php-fpm, way more than I would have believed was possible. What is php-fpm doing architecturally that is so different to warrant such poor relative performance?</div><br/><div id="37457509" class="c"><input type="checkbox" id="c-37457509" checked=""/><div class="controls bullet"><span class="by">pbowyer</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37456626">parent</a><span>|</span><a href="#37456169">next</a><span>|</span><label class="collapse" for="c-37457509">[-]</label><label class="expand" for="c-37457509">[1 more]</label></div><br/><div class="children"><div class="content">You see similar performance improvements in bencharmarks of Litespeed &amp; PHP LSAPI [1].<p>Unfortunately said benchmarks are usually done by the software company making said webserver, so have to be taken with a pinch of salt.<p>1. <a href="https:&#x2F;&#x2F;www.litespeedtech.com&#x2F;open-source&#x2F;litespeed-sapi&#x2F;php" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.litespeedtech.com&#x2F;open-source&#x2F;litespeed-sapi&#x2F;php</a></div><br/></div></div></div></div><div id="37456169" class="c"><input type="checkbox" id="c-37456169" checked=""/><div class="controls bullet"><span class="by">conradfr</span><span>|</span><a href="#37455109">parent</a><span>|</span><a href="#37456626">prev</a><span>|</span><a href="#37459725">next</a><span>|</span><label class="collapse" for="c-37456169">[-]</label><label class="expand" for="c-37456169">[10 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need separate containers to run nginx and php-fpm.</div><br/><div id="37457036" class="c"><input type="checkbox" id="c-37457036" checked=""/><div class="controls bullet"><span class="by">martinsnow</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37456169">parent</a><span>|</span><a href="#37456227">next</a><span>|</span><label class="collapse" for="c-37457036">[-]</label><label class="expand" for="c-37457036">[3 more]</label></div><br/><div class="children"><div class="content">I too would like to see a properly configured php+php-fpm container benchmark. There&#x27;s a lot of overhead when you link by http instead of a unix socket, in the same container.</div><br/><div id="37457482" class="c"><input type="checkbox" id="c-37457482" checked=""/><div class="controls bullet"><span class="by">e12e</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37457036">parent</a><span>|</span><a href="#37456227">next</a><span>|</span><label class="collapse" for="c-37457482">[-]</label><label class="expand" for="c-37457482">[2 more]</label></div><br/><div class="children"><div class="content">Technically, you should be able to share a domain socket via a shared volume too (between an &quot;app&quot; and &quot;web&quot; container) - as with postgres:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;sameersbn&#x2F;docker-postgresql&#x2F;issues&#x2F;30#issuecomment-401520497">https:&#x2F;&#x2F;github.com&#x2F;sameersbn&#x2F;docker-postgresql&#x2F;issues&#x2F;30#iss...</a><p>Curious about benchmarks and tests of TCP vs Unix domain sockets between docker containers.</div><br/><div id="37463177" class="c"><input type="checkbox" id="c-37463177" checked=""/><div class="controls bullet"><span class="by">rob-olmos</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37457482">parent</a><span>|</span><a href="#37456227">next</a><span>|</span><label class="collapse" for="c-37463177">[-]</label><label class="expand" for="c-37463177">[1 more]</label></div><br/><div class="children"><div class="content">Another example is API Platform&#x27;s docker setup:<p>Volume config: <a href="https:&#x2F;&#x2F;github.com&#x2F;api-platform&#x2F;api-platform&#x2F;blob&#x2F;main&#x2F;docker-compose.yml#L41">https:&#x2F;&#x2F;github.com&#x2F;api-platform&#x2F;api-platform&#x2F;blob&#x2F;main&#x2F;docke...</a><p>Caddy config: <a href="https:&#x2F;&#x2F;github.com&#x2F;api-platform&#x2F;api-platform&#x2F;blob&#x2F;main&#x2F;api&#x2F;docker&#x2F;caddy&#x2F;Caddyfile#L47">https:&#x2F;&#x2F;github.com&#x2F;api-platform&#x2F;api-platform&#x2F;blob&#x2F;main&#x2F;api&#x2F;d...</a><p>php-fpm config: <a href="https:&#x2F;&#x2F;github.com&#x2F;api-platform&#x2F;api-platform&#x2F;blob&#x2F;main&#x2F;api&#x2F;docker&#x2F;php&#x2F;php-fpm.d&#x2F;zz-docker.conf#L6">https:&#x2F;&#x2F;github.com&#x2F;api-platform&#x2F;api-platform&#x2F;blob&#x2F;main&#x2F;api&#x2F;d...</a><p>I&#x27;m also curious on the performance differences between containers.</div><br/></div></div></div></div></div></div><div id="37456227" class="c"><input type="checkbox" id="c-37456227" checked=""/><div class="controls bullet"><span class="by">wongarsu</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37456169">parent</a><span>|</span><a href="#37457036">prev</a><span>|</span><a href="#37456956">next</a><span>|</span><label class="collapse" for="c-37456227">[-]</label><label class="expand" for="c-37456227">[2 more]</label></div><br/><div class="children"><div class="content">Are you implying that docker containers don&#x27;t run a unikernel that can only run one application at a time? &#x2F;s</div><br/><div id="37463127" class="c"><input type="checkbox" id="c-37463127" checked=""/><div class="controls bullet"><span class="by">warvariuc</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37456227">parent</a><span>|</span><a href="#37456956">next</a><span>|</span><label class="collapse" for="c-37463127">[-]</label><label class="expand" for="c-37463127">[1 more]</label></div><br/><div class="children"><div class="content">I am happily running Nginx + supervisord + several Python apps in a single Docker container.</div><br/></div></div></div></div><div id="37456956" class="c"><input type="checkbox" id="c-37456956" checked=""/><div class="controls bullet"><span class="by">kobalsky</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37456169">parent</a><span>|</span><a href="#37456227">prev</a><span>|</span><a href="#37459725">next</a><span>|</span><label class="collapse" for="c-37456956">[-]</label><label class="expand" for="c-37456956">[4 more]</label></div><br/><div class="children"><div class="content">does it involve running supervisor inside the container? that’s fine but it’s definitely not kosher.<p>in my experience those are the ones that kick and scream when they don’t start as root.</div><br/><div id="37457248" class="c"><input type="checkbox" id="c-37457248" checked=""/><div class="controls bullet"><span class="by">conradfr</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37456956">parent</a><span>|</span><a href="#37457852">next</a><span>|</span><label class="collapse" for="c-37457248">[-]</label><label class="expand" for="c-37457248">[2 more]</label></div><br/><div class="children"><div class="content">php-fpm &amp; nginx -g &quot;daemon off;&quot;</div><br/><div id="37461116" class="c"><input type="checkbox" id="c-37461116" checked=""/><div class="controls bullet"><span class="by">fideloper</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37457248">parent</a><span>|</span><a href="#37457852">next</a><span>|</span><label class="collapse" for="c-37461116">[-]</label><label class="expand" for="c-37461116">[1 more]</label></div><br/><div class="children"><div class="content">this is … not how I’d do it</div><br/></div></div></div></div></div></div></div></div><div id="37459725" class="c"><input type="checkbox" id="c-37459725" checked=""/><div class="controls bullet"><span class="by">tiffanyh</span><span>|</span><a href="#37455109">parent</a><span>|</span><a href="#37456169">prev</a><span>|</span><a href="#37454362">next</a><span>|</span><label class="collapse" for="c-37459725">[-]</label><label class="expand" for="c-37459725">[2 more]</label></div><br/><div class="children"><div class="content">Two questions:<p>1. Does Unit + PHP doing the typical “initialize &amp; teardown” that PHP is know for?<p>Or is Unit persisting the initialization&#x2F;setup, hence why it’s achieving the way faster results?<p>2. How is Unit&#x2F;PHP architecturally different than NGX-PHP (an event loop)?<p><a href="https:&#x2F;&#x2F;github.com&#x2F;rryqszq4&#x2F;ngx-php">https:&#x2F;&#x2F;github.com&#x2F;rryqszq4&#x2F;ngx-php</a></div><br/><div id="37460082" class="c"><input type="checkbox" id="c-37460082" checked=""/><div class="controls bullet"><span class="by">Dachande663</span><span>|</span><a href="#37455109">root</a><span>|</span><a href="#37459725">parent</a><span>|</span><a href="#37454362">next</a><span>|</span><label class="collapse" for="c-37460082">[-]</label><label class="expand" for="c-37460082">[1 more]</label></div><br/><div class="children"><div class="content">PHP’s had an opcache and jit for several versions now. Combined with preload options, this means startup time is negligible.</div><br/></div></div></div></div></div></div><div id="37454362" class="c"><input type="checkbox" id="c-37454362" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#37455109">prev</a><span>|</span><a href="#37455482">next</a><span>|</span><label class="collapse" for="c-37454362">[-]</label><label class="expand" for="c-37454362">[1 more]</label></div><br/><div class="children"><div class="content">Hey, this is pretty cool to see!<p>Here&#x27;s a page with the features: <a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;keyfeatures&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;keyfeatures&#x2F;</a><p>The languages supported, if anyone is curious:<p><pre><code>  Binary-compiled languages in general: using the embedded libunit library.
  Go: by overriding the http module.
  JavaScript (Node.js): by automatically overloading the http and websocket modules.
  Java: by using the Servlet Specification 3.1 and WebSocket APIs.
  Perl: by using PSGI.
  PHP: by using a custom SAPI module.
  Python: by using WSGI or ASGI with WebSocket support.
  Ruby: by using the Rack API.
  WebAssembly: by using Wasmtime.
</code></pre>
I&#x27;m currently using Apache as a reverse proxy for most apps and sometimes PHP-FPM when I need to run software with PHP, which works well for my personal needs (mod_md and mod_auth_openidc are pretty cool), but it&#x27;s cool to see something similarly interesting to OpenResty coming along as well, too!</div><br/></div></div><div id="37455482" class="c"><input type="checkbox" id="c-37455482" checked=""/><div class="controls bullet"><span class="by">gibmeat</span><span>|</span><a href="#37454362">prev</a><span>|</span><a href="#37454695">next</a><span>|</span><label class="collapse" for="c-37455482">[-]</label><label class="expand" for="c-37455482">[18 more]</label></div><br/><div class="children"><div class="content">Why the obsession (it seems to be the prominent point in the readme) with configuration via API?  How often do you need to add php support on the fly?  I want to configure my app server via files so it just starts up in the state that I expect. What am I missing?</div><br/><div id="37455570" class="c"><input type="checkbox" id="c-37455570" checked=""/><div class="controls bullet"><span class="by">Ayesh</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37459014">next</a><span>|</span><label class="collapse" for="c-37455570">[-]</label><label class="expand" for="c-37455570">[1 more]</label></div><br/><div class="children"><div class="content">Probably the most common use case is SaaS providers that support custom domain name for whatever the software it is. For example, a site uptime monitoring service might offer a feature to host a status page on a custom (sub)domain of the customer. The SaaS now needs to programatically create virtual hosts on demand, issue HTTPS certificates, run routine updates, etc.<p>An API and a web server with small segmented updates make this so much easier. Compare this to Apache, that has to wait to properly end existing connections before reloading, has a config file parsing overhead, and probably does not scale that well with several virtual hosts anyway. There are hardware&#x2F;File System level limitations as well.</div><br/></div></div><div id="37459014" class="c"><input type="checkbox" id="c-37459014" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37455570">prev</a><span>|</span><a href="#37458015">next</a><span>|</span><label class="collapse" for="c-37459014">[-]</label><label class="expand" for="c-37459014">[7 more]</label></div><br/><div class="children"><div class="content">&gt; How often do you need to add php support on the fly?<p>Restarting the binary means you&#x27;ll lose requests while it&#x27;s restarting, so adding php (or whatever) support on the fly is what you need when running a system where losing those requests is material. Which it won&#x27;t be for most people, but for, eg, Google (who don&#x27;t use Nginx), losing those requests is a problem.</div><br/><div id="37459234" class="c"><input type="checkbox" id="c-37459234" checked=""/><div class="controls bullet"><span class="by">22c</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459014">parent</a><span>|</span><a href="#37459390">next</a><span>|</span><label class="collapse" for="c-37459234">[-]</label><label class="expand" for="c-37459234">[4 more]</label></div><br/><div class="children"><div class="content">Although it doesn&#x27;t directly go against what you&#x27;re saying, many Unix daemons have supported HUP signals for decades which can achieve the same outcome. No need to configure via API, just change the configuration on disk and send HUP.<p>I suppose arguably that becomes a bit trickier for containers, so perhaps that&#x27;s why you&#x27;d want to configure via an API?</div><br/><div id="37459413" class="c"><input type="checkbox" id="c-37459413" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459234">parent</a><span>|</span><a href="#37462981">next</a><span>|</span><label class="collapse" for="c-37459413">[-]</label><label class="expand" for="c-37459413">[2 more]</label></div><br/><div class="children"><div class="content">To me this is identical - mutable state is mutable state, whether it starts on disk first makes no difference.</div><br/><div id="37461378" class="c"><input type="checkbox" id="c-37461378" checked=""/><div class="controls bullet"><span class="by">22c</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459413">parent</a><span>|</span><a href="#37462981">next</a><span>|</span><label class="collapse" for="c-37461378">[-]</label><label class="expand" for="c-37461378">[1 more]</label></div><br/><div class="children"><div class="content">There is a slight difference to me as having another service run (the API) is an additional attack vector to worry about from a security perspective.<p>I would also say it&#x27;s easier to enforce good &quot;IaC hygiene&quot; when the configs are managed via configuration files. They can go through a code review process, deployed via existing config management systems etc.</div><br/></div></div></div></div><div id="37462981" class="c"><input type="checkbox" id="c-37462981" checked=""/><div class="controls bullet"><span class="by">pstuart</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459234">parent</a><span>|</span><a href="#37459413">prev</a><span>|</span><a href="#37459390">next</a><span>|</span><label class="collapse" for="c-37462981">[-]</label><label class="expand" for="c-37462981">[1 more]</label></div><br/><div class="children"><div class="content">Nginx can reload configs on HUPs -- <a href="https:&#x2F;&#x2F;docs.nginx.com&#x2F;nginx&#x2F;admin-guide&#x2F;basic-functionality&#x2F;runtime-control&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.nginx.com&#x2F;nginx&#x2F;admin-guide&#x2F;basic-functionality...</a></div><br/></div></div></div></div><div id="37459390" class="c"><input type="checkbox" id="c-37459390" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459014">parent</a><span>|</span><a href="#37459234">prev</a><span>|</span><a href="#37460707">next</a><span>|</span><label class="collapse" for="c-37459390">[-]</label><label class="expand" for="c-37459390">[1 more]</label></div><br/><div class="children"><div class="content">Any half decent containerized setup should support zero-downtime deploys. Usually it involves bringing up new containers and signaling the existing containers to begin draining connections.<p>For most workloads it should be entirely possible to deploy a new stateless config and not need to resort to using mutable state for critical infrastructure.<p>If you have long-lived, stateful connections (perhaps for live streams) then I can see why re-configuring in place would be desirable, but in my experience that&#x27;s pretty rare.</div><br/></div></div><div id="37460707" class="c"><input type="checkbox" id="c-37460707" checked=""/><div class="controls bullet"><span class="by">xorcist</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459014">parent</a><span>|</span><a href="#37459390">prev</a><span>|</span><a href="#37458015">next</a><span>|</span><label class="collapse" for="c-37460707">[-]</label><label class="expand" for="c-37460707">[1 more]</label></div><br/><div class="children"><div class="content">Neither Apache nor nginx require a restart to add php support, and neither will lose requests under normal operation. They will however parse the complete config on a reload operation. On huge configurations this is noticeable.</div><br/></div></div></div></div><div id="37458015" class="c"><input type="checkbox" id="c-37458015" checked=""/><div class="controls bullet"><span class="by">didip</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37459014">prev</a><span>|</span><a href="#37455558">next</a><span>|</span><label class="collapse" for="c-37458015">[-]</label><label class="expand" for="c-37458015">[1 more]</label></div><br/><div class="children"><div class="content">For webapp, maybe not very valuable.<p>But for API gateway or any kind of sidecars? Very valuable.</div><br/></div></div><div id="37455558" class="c"><input type="checkbox" id="c-37455558" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37458015">prev</a><span>|</span><a href="#37457727">next</a><span>|</span><label class="collapse" for="c-37455558">[-]</label><label class="expand" for="c-37455558">[2 more]</label></div><br/><div class="children"><div class="content">This allows you to start up generic machines with no configuration and customize them after boot from a remote host.<p>It&#x27;s not so much &quot;on the fly&quot;, as it is moving the long-term config storage to a different system.</div><br/><div id="37458873" class="c"><input type="checkbox" id="c-37458873" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37455558">parent</a><span>|</span><a href="#37457727">next</a><span>|</span><label class="collapse" for="c-37458873">[-]</label><label class="expand" for="c-37458873">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t buy it. For this situation I would much rather have the software load its (regular) configuration file from a URL.</div><br/></div></div></div></div><div id="37457727" class="c"><input type="checkbox" id="c-37457727" checked=""/><div class="controls bullet"><span class="by">gabereiser</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37455558">prev</a><span>|</span><a href="#37458858">next</a><span>|</span><label class="collapse" for="c-37457727">[-]</label><label class="expand" for="c-37457727">[1 more]</label></div><br/><div class="children"><div class="content">Why? To scale infra of my offering to my customers. They need it too. I’d like for my remaining customers to not suffer downtime. I’d like to use the existing infra I have without spinning up new ones. I’d like to offer a dashboard so my customer can configure their host.</div><br/></div></div><div id="37458858" class="c"><input type="checkbox" id="c-37458858" checked=""/><div class="controls bullet"><span class="by">indymike</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37457727">prev</a><span>|</span><a href="#37459348">next</a><span>|</span><label class="collapse" for="c-37458858">[-]</label><label class="expand" for="c-37458858">[1 more]</label></div><br/><div class="children"><div class="content">If the state you need at startup isn&#x27;t the same as you need for production, this could be incredibly useful. It also means that you can save a lot of time starting and stopping containers for many common configuration changes in production. There&#x27;s a lot more utility in this than just PHP.</div><br/></div></div><div id="37459348" class="c"><input type="checkbox" id="c-37459348" checked=""/><div class="controls bullet"><span class="by">jen20</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37458858">prev</a><span>|</span><a href="#37458790">next</a><span>|</span><label class="collapse" for="c-37459348">[-]</label><label class="expand" for="c-37459348">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps adding support for PHP on the fly is an extreme case, but reconfiguring eg load balancer backends when new systems come and go without having to render a config file and HUP (and hope) is a typical case.</div><br/></div></div><div id="37458790" class="c"><input type="checkbox" id="c-37458790" checked=""/><div class="controls bullet"><span class="by">ramesh31</span><span>|</span><a href="#37455482">parent</a><span>|</span><a href="#37459348">prev</a><span>|</span><a href="#37454695">next</a><span>|</span><label class="collapse" for="c-37458790">[-]</label><label class="expand" for="c-37458790">[3 more]</label></div><br/><div class="children"><div class="content">&gt;Why the obsession (it seems to be the prominent point in the readme) with configuration via API?<p>Infrastructure As Code (in all its forms, chef&#x2F;puppet&#x2F;ansible&#x2F;tfe etc.) is the standard for all enterprise cloud setups these days. It makes sense to support that as a first class feature.</div><br/><div id="37459013" class="c"><input type="checkbox" id="c-37459013" checked=""/><div class="controls bullet"><span class="by">shawabawa3</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37458790">parent</a><span>|</span><a href="#37454695">next</a><span>|</span><label class="collapse" for="c-37459013">[-]</label><label class="expand" for="c-37459013">[2 more]</label></div><br/><div class="children"><div class="content">but this is the opposite of infrastructure-as-code<p>This is infrastructure-as-state<p>You have to manage automatically loading configs and keeping in sync with what you have in code, instead of deploying with a static configuration file</div><br/><div id="37459943" class="c"><input type="checkbox" id="c-37459943" checked=""/><div class="controls bullet"><span class="by">notnmeyer</span><span>|</span><a href="#37455482">root</a><span>|</span><a href="#37459013">parent</a><span>|</span><a href="#37454695">next</a><span>|</span><label class="collapse" for="c-37459943">[-]</label><label class="expand" for="c-37459943">[1 more]</label></div><br/><div class="children"><div class="content">it’s not hard to imagine a use case where there are backend configurations stored in a database somewhere and you want to apply them. i’m picturing it as data vs static configuration.</div><br/></div></div></div></div></div></div></div></div><div id="37454695" class="c"><input type="checkbox" id="c-37454695" checked=""/><div class="controls bullet"><span class="by">fideloper</span><span>|</span><a href="#37455482">prev</a><span>|</span><a href="#37454119">next</a><span>|</span><label class="collapse" for="c-37454695">[-]</label><label class="expand" for="c-37454695">[1 more]</label></div><br/><div class="children"><div class="content">I was just playing with this the other day.<p>Trying to find context on what it was, I saw it’s been on HN a few times (mostly to the sound of people asking the same question).<p>Since I mostly do php&#x2F;laravel, I was pleasantly surprised that it let me remove php-fpm from my stack - extremely nice when putting PHP apps in a container.<p>I personally have come to dislike PHP-FPM’s max_children and similar settings, whose low defaults come as an annoying surprise when you suddenly get gateway errors before your server is even overloaded. (and having to add nginx AND php-fpm “layers” into a container to run PHP apps is all sorts of annoying).<p>Unit doesn’t have as many features as Nginx so I suspect it’s best used when there’s another fully-featured http layer in front of Unit (to more easily handle TLS, protecting dot files, gzip, cache headers, and the like).<p>Overall i’m excited to use it when making images for php apps.</div><br/></div></div><div id="37454119" class="c"><input type="checkbox" id="c-37454119" checked=""/><div class="controls bullet"><span class="by">Dachande663</span><span>|</span><a href="#37454695">prev</a><span>|</span><a href="#37454198">next</a><span>|</span><label class="collapse" for="c-37454119">[-]</label><label class="expand" for="c-37454119">[8 more]</label></div><br/><div class="children"><div class="content">Tested this with a moderately complex PHP Laravel app and got a 40% speed improvement. Very useful to be able to run multiple apps each using different lang runtimes&#x2F;versions without needing separate docker containers.</div><br/><div id="37454147" class="c"><input type="checkbox" id="c-37454147" checked=""/><div class="controls bullet"><span class="by">dieulot</span><span>|</span><a href="#37454119">parent</a><span>|</span><a href="#37455062">next</a><span>|</span><label class="collapse" for="c-37454147">[-]</label><label class="expand" for="c-37454147">[2 more]</label></div><br/><div class="children"><div class="content">40% improvement versus what? A docker container for nginx and another one for PHP?</div><br/><div id="37454174" class="c"><input type="checkbox" id="c-37454174" checked=""/><div class="controls bullet"><span class="by">Dachande663</span><span>|</span><a href="#37454119">root</a><span>|</span><a href="#37454147">parent</a><span>|</span><a href="#37455062">next</a><span>|</span><label class="collapse" for="c-37454174">[-]</label><label class="expand" for="c-37454174">[1 more]</label></div><br/><div class="children"><div class="content">Compared to nginx and PHP-FPM installed on a host machine. All running opcache, JIT etc. Was pleasantly surprised. Note this is up to 40%, not all apps we’ve run have seen same improvement.</div><br/></div></div></div></div><div id="37455062" class="c"><input type="checkbox" id="c-37455062" checked=""/><div class="controls bullet"><span class="by">husarcik</span><span>|</span><a href="#37454119">parent</a><span>|</span><a href="#37454147">prev</a><span>|</span><a href="#37454419">next</a><span>|</span><label class="collapse" for="c-37455062">[-]</label><label class="expand" for="c-37455062">[2 more]</label></div><br/><div class="children"><div class="content">How does this speed improvement compare to Laravel octane with swoole? Curious if I can switch!</div><br/><div id="37455123" class="c"><input type="checkbox" id="c-37455123" checked=""/><div class="controls bullet"><span class="by">Dachande663</span><span>|</span><a href="#37454119">root</a><span>|</span><a href="#37455062">parent</a><span>|</span><a href="#37454419">next</a><span>|</span><label class="collapse" for="c-37455123">[-]</label><label class="expand" for="c-37455123">[1 more]</label></div><br/><div class="children"><div class="content">We tried roadrunner (similar thing), but couldn&#x27;t do it without rewriting certain bits of the app (anything with globals basically) whereas unit was a straight swap. My guess would be, if you&#x27;re properly using the advantages swoole can bring (like shared memory cache etc), it will outperform unit.</div><br/></div></div></div></div><div id="37454419" class="c"><input type="checkbox" id="c-37454419" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#37454119">parent</a><span>|</span><a href="#37455062">prev</a><span>|</span><a href="#37454148">next</a><span>|</span><label class="collapse" for="c-37454419">[-]</label><label class="expand" for="c-37454419">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like a blog post in the making</div><br/></div></div><div id="37454162" class="c"><input type="checkbox" id="c-37454162" checked=""/><div class="controls bullet"><span class="by">sidcool</span><span>|</span><a href="#37454119">parent</a><span>|</span><a href="#37454148">prev</a><span>|</span><a href="#37454198">next</a><span>|</span><label class="collapse" for="c-37454162">[-]</label><label class="expand" for="c-37454162">[1 more]</label></div><br/><div class="children"><div class="content">What were you using earlier?</div><br/></div></div></div></div><div id="37454198" class="c"><input type="checkbox" id="c-37454198" checked=""/><div class="controls bullet"><span class="by">usrusr</span><span>|</span><a href="#37454119">prev</a><span>|</span><a href="#37463594">next</a><span>|</span><label class="collapse" for="c-37454198">[-]</label><label class="expand" for="c-37454198">[9 more]</label></div><br/><div class="children"><div class="content">So much JSON... is that the real thing, as in comments are the gateway to hell, or is it actually some practical JSON superset like JSON5?<p>I almost see myself jury-rigging some bespoke filesystem on-ramp to that REST configuration interface. Likely with at least half a dozen scary security compromises.<p>Then on the other hand I guess they&#x27;ve never been afraid of getting called opinionated and that&#x27;s certainly much better than trying to be everything, for everyone, at the same time.</div><br/><div id="37454482" class="c"><input type="checkbox" id="c-37454482" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#37454198">parent</a><span>|</span><a href="#37459354">next</a><span>|</span><label class="collapse" for="c-37454482">[-]</label><label class="expand" for="c-37454482">[7 more]</label></div><br/><div class="children"><div class="content">JSON without comments is hell, forcing one to 1) convert JSON configuration to YAML.  2) add comments to YAML and admire it.  3) convert YAML to JSON for sending to the server.</div><br/><div id="37454654" class="c"><input type="checkbox" id="c-37454654" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#37454198">root</a><span>|</span><a href="#37454482">parent</a><span>|</span><a href="#37454662">next</a><span>|</span><label class="collapse" for="c-37454654">[-]</label><label class="expand" for="c-37454654">[5 more]</label></div><br/><div class="children"><div class="content">YAML is an order of magnitude more hell...</div><br/><div id="37455206" class="c"><input type="checkbox" id="c-37455206" checked=""/><div class="controls bullet"><span class="by">sethammons</span><span>|</span><a href="#37454198">root</a><span>|</span><a href="#37454654">parent</a><span>|</span><a href="#37454972">next</a><span>|</span><label class="collapse" for="c-37455206">[-]</label><label class="expand" for="c-37455206">[1 more]</label></div><br/><div class="children"><div class="content">I literally cannot count the number of times significant whitespace has broken a yaml file I&#x27;ve edited followed by a completely useless error on line 1. I don&#x27;t have this problem in python. I loath yaml.</div><br/></div></div><div id="37454972" class="c"><input type="checkbox" id="c-37454972" checked=""/><div class="controls bullet"><span class="by">johnchristopher</span><span>|</span><a href="#37454198">root</a><span>|</span><a href="#37454654">parent</a><span>|</span><a href="#37455206">prev</a><span>|</span><a href="#37454662">next</a><span>|</span><label class="collapse" for="c-37454972">[-]</label><label class="expand" for="c-37454972">[3 more]</label></div><br/><div class="children"><div class="content">But TOML is worse, right ? I can&#x27;t write nor read TOML to save my life... :(</div><br/><div id="37455654" class="c"><input type="checkbox" id="c-37455654" checked=""/><div class="controls bullet"><span class="by">rascul</span><span>|</span><a href="#37454198">root</a><span>|</span><a href="#37454972">parent</a><span>|</span><a href="#37457878">next</a><span>|</span><label class="collapse" for="c-37455654">[-]</label><label class="expand" for="c-37455654">[1 more]</label></div><br/><div class="children"><div class="content">TOML is much simpler in general but it does have its warts. It&#x27;s basically just key = &quot;value&quot; pairs in [sections] for the simple stuff.</div><br/></div></div><div id="37457878" class="c"><input type="checkbox" id="c-37457878" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#37454198">root</a><span>|</span><a href="#37454972">parent</a><span>|</span><a href="#37455654">prev</a><span>|</span><a href="#37454662">next</a><span>|</span><label class="collapse" for="c-37457878">[-]</label><label class="expand" for="c-37457878">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s saner, but still has some bizarre design choices</div><br/></div></div></div></div></div></div><div id="37454662" class="c"><input type="checkbox" id="c-37454662" checked=""/><div class="controls bullet"><span class="by">usrusr</span><span>|</span><a href="#37454198">root</a><span>|</span><a href="#37454482">parent</a><span>|</span><a href="#37454654">prev</a><span>|</span><a href="#37459354">next</a><span>|</span><label class="collapse" for="c-37454662">[-]</label><label class="expand" for="c-37454662">[1 more]</label></div><br/><div class="children"><div class="content">Fortunately it&#x27;s only forcing one to convert to a JSON variant that does not forbid comments (starting as simple as wrapping the entire thing in console.log JSON.stringify). I&#x27;ll happily leave the YAML authoring to YAML inventors, supposedly it makes them happy.</div><br/></div></div></div></div><div id="37459354" class="c"><input type="checkbox" id="c-37459354" checked=""/><div class="controls bullet"><span class="by">otterley</span><span>|</span><a href="#37454198">parent</a><span>|</span><a href="#37454482">prev</a><span>|</span><a href="#37463594">next</a><span>|</span><label class="collapse" for="c-37459354">[-]</label><label class="expand" for="c-37459354">[1 more]</label></div><br/><div class="children"><div class="content">I like to think of JSON as a low-level configuration language that most people should generate from a higher-level language such as Python or JSONnet — sort of like assembly is to C. JSON has lots of things to like about it, but I don’t recommend generating it manually for most people for files larger than a few lines.</div><br/></div></div></div></div><div id="37463594" class="c"><input type="checkbox" id="c-37463594" checked=""/><div class="controls bullet"><span class="by">pbreit</span><span>|</span><a href="#37454198">prev</a><span>|</span><a href="#37456292">next</a><span>|</span><label class="collapse" for="c-37463594">[-]</label><label class="expand" for="c-37463594">[2 more]</label></div><br/><div class="children"><div class="content">Can someone explain what this is to a novice web app developer?</div><br/><div id="37464002" class="c"><input type="checkbox" id="c-37464002" checked=""/><div class="controls bullet"><span class="by">nirse</span><span>|</span><a href="#37463594">parent</a><span>|</span><a href="#37456292">next</a><span>|</span><label class="collapse" for="c-37464002">[-]</label><label class="expand" for="c-37464002">[1 more]</label></div><br/><div class="children"><div class="content">This is a webserver that can run various web applications for you. In a typical setup you&#x27;d run a web&#x2F;http server (nginx or Apache etc) to handle the &#x27;slow&#x27; connections to the client and a separate app server (say, an express application, or Django or Rails etc) that is completely separate from the webserver. The web server acts as a reverse proxy, sending the request on to the app server. The response from the app server is then passed to the webserver, which sends it back tot he client. So a request would this path: client -&gt; web server -&gt; app server -&gt; web server -&gt; client.<p>This is done because web servers are optimised to handle (many) requests from clients (including things like TLS termination, optimised handling of static files, orchestrate to which backend service to send a request and much more), while application servers are optimised to run the application code.<p>In this model, the web and app servers run separately, for example in separate containers and they have to talk to each other so you have to somehow connect them (often this is done through a network socket).<p>So what Nginx Unit does is combining the two: it can do the standard web server stuff (not everything a normal nginx can do, but often that&#x27;s not needed anyway), but also run your application for you, which could, depending on your setup, make your life a bit easier, as now you don&#x27;t have to tie the two together.</div><br/></div></div></div></div><div id="37456292" class="c"><input type="checkbox" id="c-37456292" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37463594">prev</a><span>|</span><a href="#37454354">next</a><span>|</span><label class="collapse" for="c-37456292">[-]</label><label class="expand" for="c-37456292">[4 more]</label></div><br/><div class="children"><div class="content">They should make a page explaining how this differs from Nginx and why it needs to be its own separate thing. I couldn’t find such a page.</div><br/><div id="37458073" class="c"><input type="checkbox" id="c-37458073" checked=""/><div class="controls bullet"><span class="by">bewuethr</span><span>|</span><a href="#37456292">parent</a><span>|</span><a href="#37454354">next</a><span>|</span><label class="collapse" for="c-37458073">[-]</label><label class="expand" for="c-37458073">[3 more]</label></div><br/><div class="children"><div class="content">Here maybe? <a href="https:&#x2F;&#x2F;www.nginx.com&#x2F;products&#x2F;nginx-unit&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.nginx.com&#x2F;products&#x2F;nginx-unit&#x2F;</a></div><br/><div id="37458296" class="c"><input type="checkbox" id="c-37458296" checked=""/><div class="controls bullet"><span class="by">slim</span><span>|</span><a href="#37456292">root</a><span>|</span><a href="#37458073">parent</a><span>|</span><a href="#37454354">next</a><span>|</span><label class="collapse" for="c-37458296">[-]</label><label class="expand" for="c-37458296">[2 more]</label></div><br/><div class="children"><div class="content">does not answer the question</div><br/><div id="37458972" class="c"><input type="checkbox" id="c-37458972" checked=""/><div class="controls bullet"><span class="by">bewuethr</span><span>|</span><a href="#37456292">root</a><span>|</span><a href="#37458296">parent</a><span>|</span><a href="#37454354">next</a><span>|</span><label class="collapse" for="c-37458972">[-]</label><label class="expand" for="c-37458972">[1 more]</label></div><br/><div class="children"><div class="content">I feel like the section &quot;How Does NGINX Unit Compare to NGINX Web Server?&quot; does answer some aspects of it.</div><br/></div></div></div></div></div></div></div></div><div id="37454354" class="c"><input type="checkbox" id="c-37454354" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#37456292">prev</a><span>|</span><a href="#37454823">next</a><span>|</span><label class="collapse" for="c-37454354">[-]</label><label class="expand" for="c-37454354">[11 more]</label></div><br/><div class="children"><div class="content">This seems a lot more like how IIS works, unless I&#x27;m missing something?<p>As an aside: it&#x27;s always curious to see how the programming world has splintered into cliques that no longer hang out together.<p>NGINX Unit is a &quot;Universal&quot; web server without support for C++, Rust, or ASP.NET!<p>But <i>PERL</i> is supported, like the 1990s Linux cgi-bin world never went away.</div><br/><div id="37454393" class="c"><input type="checkbox" id="c-37454393" checked=""/><div class="controls bullet"><span class="by">crvdgc</span><span>|</span><a href="#37454354">parent</a><span>|</span><a href="#37454643">next</a><span>|</span><label class="collapse" for="c-37454393">[-]</label><label class="expand" for="c-37454393">[2 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t know about ASP.NET, but one of the supported languages is assembly, so I&#x27;d presume C++ and Rust can easily add a wrapper around that.<p>&gt; Binary-compiled languages in general: using the embedded libunit library.<p>From <a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;keyfeatures&#x2F;#supported-app-languages" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;keyfeatures&#x2F;#supported-app-languages</a></div><br/><div id="37454773" class="c"><input type="checkbox" id="c-37454773" checked=""/><div class="controls bullet"><span class="by">tyingq</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37454393">parent</a><span>|</span><a href="#37454643">next</a><span>|</span><label class="collapse" for="c-37454773">[-]</label><label class="expand" for="c-37454773">[1 more]</label></div><br/><div class="children"><div class="content">Reads like it&#x27;s not real straightforward or well documented for rust:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;unit&#x2F;issues&#x2F;738">https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;unit&#x2F;issues&#x2F;738</a></div><br/></div></div></div></div><div id="37454643" class="c"><input type="checkbox" id="c-37454643" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#37454354">parent</a><span>|</span><a href="#37454393">prev</a><span>|</span><a href="#37454962">next</a><span>|</span><label class="collapse" for="c-37454643">[-]</label><label class="expand" for="c-37454643">[6 more]</label></div><br/><div class="children"><div class="content">In Linux where this is primarily expected to be used ASP.NET is extremely rare, as is C++ for web stuff, and Rust has a vanishingly small web presence still. Lots of people use Perl still though, if not for anything else, for legacy stuff.<p>So might as well ask why it doesn&#x27;t support Delphi.</div><br/><div id="37456655" class="c"><input type="checkbox" id="c-37456655" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37454643">parent</a><span>|</span><a href="#37454919">next</a><span>|</span><label class="collapse" for="c-37456655">[-]</label><label class="expand" for="c-37456655">[1 more]</label></div><br/><div class="children"><div class="content">I can’t say I know the percentage of Linux servers running ASP.NET Core but the percentage of ASP.NET Core apps running on Linux is no longer negligible. Bing runs it on Linux, iirc.<p>This isn’t the dark days of .NET Framework anymore.</div><br/></div></div><div id="37454919" class="c"><input type="checkbox" id="c-37454919" checked=""/><div class="controls bullet"><span class="by">mst</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37454643">parent</a><span>|</span><a href="#37456655">prev</a><span>|</span><a href="#37462248">next</a><span>|</span><label class="collapse" for="c-37454919">[-]</label><label class="expand" for="c-37454919">[1 more]</label></div><br/><div class="children"><div class="content">And PSGI is actually really rather good (for sync stuff, I dislike the way it handles async&#x2F;websockets and would tend to use Mojolicious for that) and generally used to deploy OO MVC style apps.<p>The Perl ecosystem has come a long way from CGI scripts just like everybody else has.</div><br/></div></div><div id="37462248" class="c"><input type="checkbox" id="c-37462248" checked=""/><div class="controls bullet"><span class="by">Valord</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37454643">parent</a><span>|</span><a href="#37454919">prev</a><span>|</span><a href="#37455366">next</a><span>|</span><label class="collapse" for="c-37462248">[-]</label><label class="expand" for="c-37462248">[1 more]</label></div><br/><div class="children"><div class="content">My previous company ran quite a bit through asp.net running in Linux docker containers in k8s etc. I hardly consider it extremely rare.</div><br/></div></div><div id="37455366" class="c"><input type="checkbox" id="c-37455366" checked=""/><div class="controls bullet"><span class="by">jddj</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37454643">parent</a><span>|</span><a href="#37462248">prev</a><span>|</span><a href="#37454962">next</a><span>|</span><label class="collapse" for="c-37455366">[-]</label><label class="expand" for="c-37455366">[2 more]</label></div><br/><div class="children"><div class="content">Do you have data for your asp.net Linux claim? Feels anachronistic.</div><br/><div id="37458347" class="c"><input type="checkbox" id="c-37458347" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37455366">parent</a><span>|</span><a href="#37454962">next</a><span>|</span><label class="collapse" for="c-37458347">[-]</label><label class="expand" for="c-37458347">[1 more]</label></div><br/><div class="children"><div class="content">This is anecdata, but my experience with modern ASP.NET teams these days is that while production may still be running Windows, the dev teams are a mix of Mac, Windows, and Linux&#x2F;WSL. The allure of the M2 MBP is too great when the Windows option is an expensive but otherwise forgettable Dell corporate laptop.</div><br/></div></div></div></div></div></div><div id="37454962" class="c"><input type="checkbox" id="c-37454962" checked=""/><div class="controls bullet"><span class="by">mbreese</span><span>|</span><a href="#37454354">parent</a><span>|</span><a href="#37454643">prev</a><span>|</span><a href="#37454823">next</a><span>|</span><label class="collapse" for="c-37454962">[-]</label><label class="expand" for="c-37454962">[2 more]</label></div><br/><div class="children"><div class="content">And Go apps require recompiling them to use their version of the http. ListenAndServe function. I’m not sure if this counts either…<p><a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;configuration&#x2F;#updating-go-apps" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;configuration&#x2F;#updating-go-apps</a></div><br/><div id="37455235" class="c"><input type="checkbox" id="c-37455235" checked=""/><div class="controls bullet"><span class="by">sethammons</span><span>|</span><a href="#37454354">root</a><span>|</span><a href="#37454962">parent</a><span>|</span><a href="#37454823">next</a><span>|</span><label class="collapse" for="c-37455235">[-]</label><label class="expand" for="c-37455235">[1 more]</label></div><br/><div class="children"><div class="content">And requires you to enable CGO, which I avoid at all costs if I can</div><br/></div></div></div></div></div></div><div id="37454823" class="c"><input type="checkbox" id="c-37454823" checked=""/><div class="controls bullet"><span class="by">donatj</span><span>|</span><a href="#37454354">prev</a><span>|</span><a href="#37453992">next</a><span>|</span><label class="collapse" for="c-37454823">[-]</label><label class="expand" for="c-37454823">[2 more]</label></div><br/><div class="children"><div class="content">I remember when they announced this a couple years ago I had no idea why I would use it over standard nginx. That seems to still be the case.<p>It’s JSON controlled via Curl? And has a bunch of langue’s built in for some reason? The question becomes why?</div><br/><div id="37458412" class="c"><input type="checkbox" id="c-37458412" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#37454823">parent</a><span>|</span><a href="#37453992">next</a><span>|</span><label class="collapse" for="c-37458412">[-]</label><label class="expand" for="c-37458412">[1 more]</label></div><br/><div class="children"><div class="content">This is the question I keep asking myself as I read more. Why?<p>Only the NGINX team would think to &quot;simplify&quot; loading a configuration file from the CLI by using curl to post it. smh...</div><br/></div></div></div></div><div id="37453992" class="c"><input type="checkbox" id="c-37453992" checked=""/><div class="controls bullet"><span class="by">l5870uoo9y</span><span>|</span><a href="#37454823">prev</a><span>|</span><a href="#37453966">next</a><span>|</span><label class="collapse" for="c-37453992">[-]</label><label class="expand" for="c-37453992">[6 more]</label></div><br/><div class="children"><div class="content">Thought for a second that it included automatic TLS certificates but that is still done manually with Certbot, which also isn’t that difficult.</div><br/><div id="37454080" class="c"><input type="checkbox" id="c-37454080" checked=""/><div class="controls bullet"><span class="by">danappelxx</span><span>|</span><a href="#37453992">parent</a><span>|</span><a href="#37454010">next</a><span>|</span><label class="collapse" for="c-37454080">[-]</label><label class="expand" for="c-37454080">[2 more]</label></div><br/><div class="children"><div class="content">Not that difficult, but it’s still a separate dependency (with python requirements). If the goal here is a Caddy competitor, then IMO it’s missing the mark in terms of “one stop shop”. What’s the killer feature?</div><br/><div id="37454569" class="c"><input type="checkbox" id="c-37454569" checked=""/><div class="controls bullet"><span class="by">wolletd</span><span>|</span><a href="#37453992">root</a><span>|</span><a href="#37454080">parent</a><span>|</span><a href="#37454010">next</a><span>|</span><label class="collapse" for="c-37454569">[-]</label><label class="expand" for="c-37454569">[1 more]</label></div><br/><div class="children"><div class="content">On the python requirements: I&#x27;ve always been satisfied with Bash implementations of ACME. I use dehydrated from the very beginning (when it was still called letsencrypt.sh) and lately started using acme.sh.</div><br/></div></div></div></div><div id="37454132" class="c"><input type="checkbox" id="c-37454132" checked=""/><div class="controls bullet"><span class="by">kijin</span><span>|</span><a href="#37453992">parent</a><span>|</span><a href="#37454010">prev</a><span>|</span><a href="#37453966">next</a><span>|</span><label class="collapse" for="c-37454132">[-]</label><label class="expand" for="c-37454132">[2 more]</label></div><br/><div class="children"><div class="content">This thing will probably run in a bunch of VMs&#x2F;containers behind a load balancer, so it&#x27;s actually better that it doesn&#x27;t try to obtain any certificates by default.<p>Even a small number of apps trying to get their own certificates at the same time can exhaust the Let&#x27;s Encrypt quota for your domain, with serious consequences to your other online properties.</div><br/><div id="37454575" class="c"><input type="checkbox" id="c-37454575" checked=""/><div class="controls bullet"><span class="by">smarkov</span><span>|</span><a href="#37453992">root</a><span>|</span><a href="#37454132">parent</a><span>|</span><a href="#37453966">next</a><span>|</span><label class="collapse" for="c-37454575">[-]</label><label class="expand" for="c-37454575">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Even a small number of apps trying to get their own certificates at the same time can exhaust the Let&#x27;s Encrypt quota for your domain<p>I got curious about this and decided to look it up, they actually have more restrictions than I expected[1]. Looks like to play it on the safe side you might be better off having a single server issuing certificates and distributing them where needed as well as using wildcards as much as possible. Interestingly, it looks like Google is doing just that since their certificate covers a very wide range of domains[2].<p>[1] <a href="https:&#x2F;&#x2F;letsencrypt.org&#x2F;docs&#x2F;rate-limits&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;letsencrypt.org&#x2F;docs&#x2F;rate-limits&#x2F;</a><p>[2] <a href="https:&#x2F;&#x2F;www.sslchecker.com&#x2F;sslchecker?su=b39e88e1c4d3efcdb79ce7182d9317d1" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.sslchecker.com&#x2F;sslchecker?su=b39e88e1c4d3efcdb79...</a></div><br/></div></div></div></div></div></div><div id="37453966" class="c"><input type="checkbox" id="c-37453966" checked=""/><div class="controls bullet"><span class="by">ExoticPearTree</span><span>|</span><a href="#37453992">prev</a><span>|</span><a href="#37456703">next</a><span>|</span><label class="collapse" for="c-37453966">[-]</label><label class="expand" for="c-37453966">[1 more]</label></div><br/><div class="children"><div class="content">This seems to be a “universal” app server, like gunicorn is for running Pyhthon stuff, php-fpm for PHP and so on.<p>It was first launched as closed source and the marketing gibberish f5 came up with made it sound like make believe.</div><br/></div></div><div id="37456703" class="c"><input type="checkbox" id="c-37456703" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37453966">prev</a><span>|</span><a href="#37454190">next</a><span>|</span><label class="collapse" for="c-37456703">[-]</label><label class="expand" for="c-37456703">[1 more]</label></div><br/><div class="children"><div class="content">Can you feasibly run this behind nginx (either over http in a regular reverse proxy setup or with sort of more clever shared memory forwarding situation?) so you could, eg use nginx-unit instead of php-fpm but keep everything (ssl termination, rate limiting, etc) centralized behind your core nginx load balancer?<p>Edit: yes, it’s as straightforward as it sounds: <a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;howto&#x2F;integration&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;howto&#x2F;integration&#x2F;</a></div><br/></div></div><div id="37454190" class="c"><input type="checkbox" id="c-37454190" checked=""/><div class="controls bullet"><span class="by">mirzap</span><span>|</span><a href="#37456703">prev</a><span>|</span><a href="#37454512">next</a><span>|</span><label class="collapse" for="c-37454190">[-]</label><label class="expand" for="c-37454190">[2 more]</label></div><br/><div class="children"><div class="content">What is the difference between Nginx and Nginx Unit? Benefits?</div><br/><div id="37454222" class="c"><input type="checkbox" id="c-37454222" checked=""/><div class="controls bullet"><span class="by">jalk</span><span>|</span><a href="#37454190">parent</a><span>|</span><a href="#37454512">next</a><span>|</span><label class="collapse" for="c-37454222">[-]</label><label class="expand" for="c-37454222">[1 more]</label></div><br/><div class="children"><div class="content">Nginx-unit is reconfigurable using REST: <a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;controlapi&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;controlapi&#x2F;</a></div><br/></div></div></div></div><div id="37454512" class="c"><input type="checkbox" id="c-37454512" checked=""/><div class="controls bullet"><span class="by">lagniappe</span><span>|</span><a href="#37454190">prev</a><span>|</span><a href="#37454563">next</a><span>|</span><label class="collapse" for="c-37454512">[-]</label><label class="expand" for="c-37454512">[3 more]</label></div><br/><div class="children"><div class="content">I built something like this, but with much simpler syntax and automatic https simply bc I&#x27;m not smart enough to reliably set up server blocks and letsencrypt every time I route a new app.<p>AppServe takes care of all that, and even if I did know the syntax by heart to do it in nginx, this is still faster.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;donuts-are-good&#x2F;appserve">https:&#x2F;&#x2F;github.com&#x2F;donuts-are-good&#x2F;appserve</a></div><br/><div id="37454762" class="c"><input type="checkbox" id="c-37454762" checked=""/><div class="controls bullet"><span class="by">Matl</span><span>|</span><a href="#37454512">parent</a><span>|</span><a href="#37454563">next</a><span>|</span><label class="collapse" for="c-37454762">[-]</label><label class="expand" for="c-37454762">[2 more]</label></div><br/><div class="children"><div class="content">Nice, that being said if the concern is complex config, there&#x27;s always Caddy[1].<p>1 - <a href="https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy">https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy</a></div><br/><div id="37454824" class="c"><input type="checkbox" id="c-37454824" checked=""/><div class="controls bullet"><span class="by">lagniappe</span><span>|</span><a href="#37454512">root</a><span>|</span><a href="#37454762">parent</a><span>|</span><a href="#37454563">next</a><span>|</span><label class="collapse" for="c-37454824">[-]</label><label class="expand" for="c-37454824">[1 more]</label></div><br/><div class="children"><div class="content">AppServe gets compared to Caddy a lot, which is very flattering, so thank you :) Caddy&#x27;s good stuff!</div><br/></div></div></div></div></div></div><div id="37454563" class="c"><input type="checkbox" id="c-37454563" checked=""/><div class="controls bullet"><span class="by">abdellah123</span><span>|</span><a href="#37454512">prev</a><span>|</span><a href="#37457369">next</a><span>|</span><label class="collapse" for="c-37454563">[-]</label><label class="expand" for="c-37454563">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to see a performance benchmark for unit. Especially for an nodejs&#x2F;express app</div><br/></div></div><div id="37457369" class="c"><input type="checkbox" id="c-37457369" checked=""/><div class="controls bullet"><span class="by">whatever1</span><span>|</span><a href="#37454563">prev</a><span>|</span><a href="#37458597">next</a><span>|</span><label class="collapse" for="c-37457369">[-]</label><label class="expand" for="c-37457369">[3 more]</label></div><br/><div class="children"><div class="content">So for a python django project this would replace gunicorn?</div><br/><div id="37460261" class="c"><input type="checkbox" id="c-37460261" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#37457369">parent</a><span>|</span><a href="#37461310">next</a><span>|</span><label class="collapse" for="c-37460261">[-]</label><label class="expand" for="c-37460261">[1 more]</label></div><br/><div class="children"><div class="content">I would also like to know this.<p>Edit, yes: <a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;howto&#x2F;django&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;howto&#x2F;django&#x2F;</a></div><br/></div></div><div id="37461310" class="c"><input type="checkbox" id="c-37461310" checked=""/><div class="controls bullet"><span class="by">nicwolff</span><span>|</span><a href="#37457369">parent</a><span>|</span><a href="#37460261">prev</a><span>|</span><a href="#37458597">next</a><span>|</span><label class="collapse" for="c-37461310">[-]</label><label class="expand" for="c-37461310">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m hoping so – gunicorn has a long-open pull request that would fix `--reuse-port`, which currently does nothing<p><a href="https:&#x2F;&#x2F;github.com&#x2F;benoitc&#x2F;gunicorn&#x2F;pull&#x2F;2938">https:&#x2F;&#x2F;github.com&#x2F;benoitc&#x2F;gunicorn&#x2F;pull&#x2F;2938</a></div><br/></div></div></div></div><div id="37453984" class="c"><input type="checkbox" id="c-37453984" checked=""/><div class="controls bullet"><span class="by">spoiler</span><span>|</span><a href="#37458597">prev</a><span>|</span><a href="#37454836">next</a><span>|</span><label class="collapse" for="c-37453984">[-]</label><label class="expand" for="c-37453984">[3 more]</label></div><br/><div class="children"><div class="content">I only glanced at the docs, but way they expect apps to integrate with it seems a bit convoluted to me? It&#x27;s not really a reverse proxy at this<p>What would be wrong with just using HTTP&#x2F;2, maybe with a few custom headers sprinkled in for custom features?</div><br/><div id="37454360" class="c"><input type="checkbox" id="c-37454360" checked=""/><div class="controls bullet"><span class="by">TheHappyOddish</span><span>|</span><a href="#37453984">parent</a><span>|</span><a href="#37454836">next</a><span>|</span><label class="collapse" for="c-37454360">[-]</label><label class="expand" for="c-37454360">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s not really a reverse proxy at this<p>In fact it&#x27;s not one at all, nor does it claim to be. It&#x27;s an app server.</div><br/><div id="37455624" class="c"><input type="checkbox" id="c-37455624" checked=""/><div class="controls bullet"><span class="by">cxcorp</span><span>|</span><a href="#37453984">root</a><span>|</span><a href="#37454360">parent</a><span>|</span><a href="#37454836">next</a><span>|</span><label class="collapse" for="c-37455624">[-]</label><label class="expand" for="c-37455624">[1 more]</label></div><br/><div class="children"><div class="content">&gt; NGINX Unit – universal web app server – a lightweight and versatile open source server project that works as a reverse proxy, serves static assets, and runs applications in multiple languages.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;unit">https:&#x2F;&#x2F;github.com&#x2F;nginx&#x2F;unit</a></div><br/></div></div></div></div></div></div><div id="37454836" class="c"><input type="checkbox" id="c-37454836" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#37453984">prev</a><span>|</span><a href="#37454319">next</a><span>|</span><label class="collapse" for="c-37454836">[-]</label><label class="expand" for="c-37454836">[3 more]</label></div><br/><div class="children"><div class="content">I switched to caddy from nginx and didn’t look back.<p>Auto SSL wildcards was enough.</div><br/><div id="37455969" class="c"><input type="checkbox" id="c-37455969" checked=""/><div class="controls bullet"><span class="by">tacker2000</span><span>|</span><a href="#37454836">parent</a><span>|</span><a href="#37454319">next</a><span>|</span><label class="collapse" for="c-37455969">[-]</label><label class="expand" for="c-37455969">[2 more]</label></div><br/><div class="children"><div class="content">How is Caddys performance compared to nginx?</div><br/><div id="37456321" class="c"><input type="checkbox" id="c-37456321" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#37454836">root</a><span>|</span><a href="#37455969">parent</a><span>|</span><a href="#37454319">next</a><span>|</span><label class="collapse" for="c-37456321">[-]</label><label class="expand" for="c-37456321">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s very good. In some cases better. For example Caddy can handle tens of thousands of certs without problem whereas nginx + Certbot would choke.<p>The difference is negligible to most people.</div><br/></div></div></div></div></div></div><div id="37454319" class="c"><input type="checkbox" id="c-37454319" checked=""/><div class="controls bullet"><span class="by">vanjajaja1</span><span>|</span><a href="#37454836">prev</a><span>|</span><a href="#37453926">next</a><span>|</span><label class="collapse" for="c-37454319">[-]</label><label class="expand" for="c-37454319">[1 more]</label></div><br/><div class="children"><div class="content">I like it, has potential to push docker out of the application layer</div><br/></div></div><div id="37453926" class="c"><input type="checkbox" id="c-37453926" checked=""/><div class="controls bullet"><span class="by">yetanother-1</span><span>|</span><a href="#37454319">prev</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37453926">[-]</label><label class="expand" for="c-37453926">[11 more]</label></div><br/><div class="children"><div class="content">Would you prefer this over Traefik for a simple docker-compose setup?</div><br/><div id="37454243" class="c"><input type="checkbox" id="c-37454243" checked=""/><div class="controls bullet"><span class="by">ljm</span><span>|</span><a href="#37453926">parent</a><span>|</span><a href="#37453964">next</a><span>|</span><label class="collapse" for="c-37454243">[-]</label><label class="expand" for="c-37454243">[1 more]</label></div><br/><div class="children"><div class="content">I didn’t think I would see traefik and simple in the same sentence.</div><br/></div></div><div id="37453964" class="c"><input type="checkbox" id="c-37453964" checked=""/><div class="controls bullet"><span class="by">Grimburger</span><span>|</span><a href="#37453926">parent</a><span>|</span><a href="#37454243">prev</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37453964">[-]</label><label class="expand" for="c-37453964">[9 more]</label></div><br/><div class="children"><div class="content">&gt; a simple docker-compose<p>Abstraction at it&#x27;s finest.</div><br/><div id="37454215" class="c"><input type="checkbox" id="c-37454215" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37453964">parent</a><span>|</span><a href="#37454206">next</a><span>|</span><label class="collapse" for="c-37454215">[-]</label><label class="expand" for="c-37454215">[3 more]</label></div><br/><div class="children"><div class="content">Unironically this. After trying Kubernetes, Terraform, Ansible, and various proprietary PaaS config formats, I&#x27;ve grown to love Compose files&#x27; simplicity.</div><br/><div id="37456129" class="c"><input type="checkbox" id="c-37456129" checked=""/><div class="controls bullet"><span class="by">segfaltnh</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37454215">parent</a><span>|</span><a href="#37454206">next</a><span>|</span><label class="collapse" for="c-37456129">[-]</label><label class="expand" for="c-37456129">[2 more]</label></div><br/><div class="children"><div class="content">Yes, when compared to extreme complexity, compose is simpler. But it&#x27;s hardly simple.</div><br/><div id="37456861" class="c"><input type="checkbox" id="c-37456861" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37456129">parent</a><span>|</span><a href="#37454206">next</a><span>|</span><label class="collapse" for="c-37456861">[-]</label><label class="expand" for="c-37456861">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll happily try anything simpler than that if you give me an idea what that might be.<p>Not trying to be salty or anything – I really think Compose hits the sweet spot of abstraction which is less complex than both the monstrosities I listed and the <i>ad hoc Bash scripts copying code over SSH and restarting services</i> approach (so, the other extremity of declarative v. imperative).</div><br/></div></div></div></div></div></div><div id="37454206" class="c"><input type="checkbox" id="c-37454206" checked=""/><div class="controls bullet"><span class="by">9dev</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37453964">parent</a><span>|</span><a href="#37454215">prev</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37454206">[-]</label><label class="expand" for="c-37454206">[5 more]</label></div><br/><div class="children"><div class="content">What strikes you as difficult with compose files? In fact, I would say it’s the most concise format to describe a desired state of running applications currently available.</div><br/><div id="37454317" class="c"><input type="checkbox" id="c-37454317" checked=""/><div class="controls bullet"><span class="by">Grimburger</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37454206">parent</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37454317">[-]</label><label class="expand" for="c-37454317">[4 more]</label></div><br/><div class="children"><div class="content">Nothing is difficult about them, compose is easy enough that you can grok it in a day.<p>You saw the lament in my comment though and that speaks a deeper truth.<p>If WSL took off quick enough we could have had lxc as the main player rather than the bastardisation of lxc that is docker.com<p>For an open source project they make it incredibly hard to access what are essentially text files for containerisation setups on windows or mac?<p><a href="https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;hub-feedback&#x2F;issues&#x2F;1103">https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;hub-feedback&#x2F;issues&#x2F;1103</a></div><br/><div id="37458617" class="c"><input type="checkbox" id="c-37458617" checked=""/><div class="controls bullet"><span class="by">9dev</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37454317">parent</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37458617">[-]</label><label class="expand" for="c-37458617">[3 more]</label></div><br/><div class="children"><div class="content">Compose is an open source project entirely separate to hub, though. The compose file specification is versioned separately, and will outlive Docker, probably. So I don’t quite get your criticism?</div><br/><div id="37460344" class="c"><input type="checkbox" id="c-37460344" checked=""/><div class="controls bullet"><span class="by">Grimburger</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37458617">parent</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37460344">[-]</label><label class="expand" for="c-37460344">[2 more]</label></div><br/><div class="children"><div class="content">How are you using compose without docker? They are joined at the hip, criticism of one is criticism of the other.<p>The days of cheap money are over, it&#x27;s inevitable that certain SaaS companies will start tightening the screws on their users to match the returns they can get with cash in a bank. I just wish lxc (which docker was built off) got a chance to gain traction. It&#x27;s miles ahead in DX and sure they serve different functionalities but can be used the same and the network effects can&#x27;t be understated.</div><br/><div id="37463655" class="c"><input type="checkbox" id="c-37463655" checked=""/><div class="controls bullet"><span class="by">9dev</span><span>|</span><a href="#37453926">root</a><span>|</span><a href="#37460344">parent</a><span>|</span><a href="#37460637">next</a><span>|</span><label class="collapse" for="c-37463655">[-]</label><label class="expand" for="c-37463655">[1 more]</label></div><br/><div class="children"><div class="content">No, that isn&#x27;t true. Compose can absolutely be used with Docker replacements, and there is no reason you couldn&#x27;t create an implementation for LXC, for example.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37460637" class="c"><input type="checkbox" id="c-37460637" checked=""/><div class="controls bullet"><span class="by">sideeffffect</span><span>|</span><a href="#37453926">prev</a><span>|</span><a href="#37454253">next</a><span>|</span><label class="collapse" for="c-37460637">[-]</label><label class="expand" for="c-37460637">[1 more]</label></div><br/><div class="children"><div class="content">It even supports Scala (Scala Native, that is)<p><a href="https:&#x2F;&#x2F;github.com&#x2F;lolgab&#x2F;snunit">https:&#x2F;&#x2F;github.com&#x2F;lolgab&#x2F;snunit</a></div><br/></div></div><div id="37454253" class="c"><input type="checkbox" id="c-37454253" checked=""/><div class="controls bullet"><span class="by">vinay_ys</span><span>|</span><a href="#37460637">prev</a><span>|</span><a href="#37454178">next</a><span>|</span><label class="collapse" for="c-37454253">[-]</label><label class="expand" for="c-37454253">[1 more]</label></div><br/><div class="children"><div class="content">It is a great start and shows very good potential. Still need to build support for io_uring, and all the sundry features in mainline nginx, apache, haproxy etc.</div><br/></div></div><div id="37454178" class="c"><input type="checkbox" id="c-37454178" checked=""/><div class="controls bullet"><span class="by">dmarinus</span><span>|</span><a href="#37454253">prev</a><span>|</span><a href="#37454673">next</a><span>|</span><label class="collapse" for="c-37454178">[-]</label><label class="expand" for="c-37454178">[1 more]</label></div><br/><div class="children"><div class="content">this is a nice alternative for the apache php module (mod_php) if you don&#x27;t want to or can&#x27;t use php-fpm.</div><br/></div></div><div id="37454673" class="c"><input type="checkbox" id="c-37454673" checked=""/><div class="controls bullet"><span class="by">DarkCrusader2</span><span>|</span><a href="#37454178">prev</a><span>|</span><a href="#37454236">next</a><span>|</span><label class="collapse" for="c-37454673">[-]</label><label class="expand" for="c-37454673">[2 more]</label></div><br/><div class="children"><div class="content">&gt; open source server project that works as a reverse proxy, serves static assets, and runs applications in multiple languages.<p>Isn&#x27;t this what Nginx also does. How is Nginx Unit different beyond configuration via JSON REST APIs? The Github readme or their site is not very clear on this.</div><br/><div id="37454696" class="c"><input type="checkbox" id="c-37454696" checked=""/><div class="controls bullet"><span class="by">pacifika</span><span>|</span><a href="#37454673">parent</a><span>|</span><a href="#37454236">next</a><span>|</span><label class="collapse" for="c-37454696">[-]</label><label class="expand" for="c-37454696">[1 more]</label></div><br/><div class="children"><div class="content">Nginx doesn’t talk to Python or php directly it’s talks to the application server.</div><br/></div></div></div></div><div id="37454236" class="c"><input type="checkbox" id="c-37454236" checked=""/><div class="controls bullet"><span class="by">ilovefood</span><span>|</span><a href="#37454673">prev</a><span>|</span><a href="#37454557">next</a><span>|</span><label class="collapse" for="c-37454236">[-]</label><label class="expand" for="c-37454236">[7 more]</label></div><br/><div class="children"><div class="content">This is really great! What I&#x27;m really look forward to trying is the server side WebAssembly: <a href="https:&#x2F;&#x2F;unit.nginx.org&#x2F;configuration&#x2F;#configuration-wasm" rel="nofollow noreferrer">https:&#x2F;&#x2F;unit.nginx.org&#x2F;configuration&#x2F;#configuration-wasm</a>.<p>Huge potential!</div><br/><div id="37454259" class="c"><input type="checkbox" id="c-37454259" checked=""/><div class="controls bullet"><span class="by">eterps</span><span>|</span><a href="#37454236">parent</a><span>|</span><a href="#37454538">next</a><span>|</span><label class="collapse" for="c-37454259">[-]</label><label class="expand" for="c-37454259">[2 more]</label></div><br/><div class="children"><div class="content">What specifically are you looking forward to?</div><br/><div id="37454355" class="c"><input type="checkbox" id="c-37454355" checked=""/><div class="controls bullet"><span class="by">ilovefood</span><span>|</span><a href="#37454236">root</a><span>|</span><a href="#37454259">parent</a><span>|</span><a href="#37454538">next</a><span>|</span><label class="collapse" for="c-37454355">[-]</label><label class="expand" for="c-37454355">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been tinkering quite a bit with WasmCloud and WasmEdge lately, for some data workloads (scraping, ingesting, apis etc) mainly as an excuse to learn WebAssembly.<p>What I want to see for myself is how Unit compares to those for this reduced scope (api&#x27;s&#x2F;services) and how fast I can be productive with it. This could be a good starting point for a lot of new applications, kind of an &quot;airflow (the data orchestration thing) on Webassembly&quot;.<p>So main points are performance (is it good enough) and developer experience (is it easy to maintain&#x2F;change).<p>Nothing really ground breaking, just trying out stuff.</div><br/></div></div></div></div><div id="37454538" class="c"><input type="checkbox" id="c-37454538" checked=""/><div class="controls bullet"><span class="by">drawfloat</span><span>|</span><a href="#37454236">parent</a><span>|</span><a href="#37454259">prev</a><span>|</span><a href="#37454557">next</a><span>|</span><label class="collapse" for="c-37454538">[-]</label><label class="expand" for="c-37454538">[4 more]</label></div><br/><div class="children"><div class="content">What’s the advantage of server side WebAssembly over just running a Rust&#x2F;whatever application?</div><br/><div id="37454973" class="c"><input type="checkbox" id="c-37454973" checked=""/><div class="controls bullet"><span class="by">politelemon</span><span>|</span><a href="#37454236">root</a><span>|</span><a href="#37454538">parent</a><span>|</span><a href="#37458474">next</a><span>|</span><label class="collapse" for="c-37454973">[-]</label><label class="expand" for="c-37454973">[1 more]</label></div><br/><div class="children"><div class="content">My limited understanding from various blog posts is that you can still get the benefits of a container, but much faster startup&#x2F;runtimes. As in WASM provides performance very close to native.</div><br/></div></div><div id="37458474" class="c"><input type="checkbox" id="c-37458474" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#37454236">root</a><span>|</span><a href="#37454538">parent</a><span>|</span><a href="#37454973">prev</a><span>|</span><a href="#37454557">next</a><span>|</span><label class="collapse" for="c-37458474">[-]</label><label class="expand" for="c-37458474">[2 more]</label></div><br/><div class="children"><div class="content">Security isolation too. I am using a WASM-based image processing pipeline for handling user submitted images. Much safer than trying to run a binary (Imagemagick, ffmpeg, etc) written in an unsafe language. In my case, the WASM does not have access to anything outside the sandbox.</div><br/><div id="37460790" class="c"><input type="checkbox" id="c-37460790" checked=""/><div class="controls bullet"><span class="by">imhoguy</span><span>|</span><a href="#37454236">root</a><span>|</span><a href="#37458474">parent</a><span>|</span><a href="#37454557">next</a><span>|</span><label class="collapse" for="c-37460790">[-]</label><label class="expand" for="c-37460790">[1 more]</label></div><br/><div class="children"><div class="content">Have you compared how much performance overhead has such sandbox in comparison to native (Linux) binary? Especially video processing. I just wonder if WASM app can even benefit from SSE4 or AVX instructions.</div><br/></div></div></div></div></div></div></div></div><div id="37454505" class="c"><input type="checkbox" id="c-37454505" checked=""/><div class="controls bullet"><span class="by">smetj</span><span>|</span><a href="#37454557">prev</a><span>|</span><a href="#37454295">next</a><span>|</span><label class="collapse" for="c-37454505">[-]</label><label class="expand" for="c-37454505">[1 more]</label></div><br/><div class="children"><div class="content">Finally something exciting!
If only this had event push capabilities usefull for discoverability and announcement patterns over various sinks http&#x2F;nats&#x2F;mqtt&#x2F;amqp ...</div><br/></div></div><div id="37454295" class="c"><input type="checkbox" id="c-37454295" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#37454505">prev</a><span>|</span><label class="collapse" for="c-37454295">[-]</label><label class="expand" for="c-37454295">[1 more]</label></div><br/><div class="children"><div class="content">There seems to be code in several languages - are the parts on the front lines of untrusted input written in some memory safe language?</div><br/></div></div></div></div></div></div></div></body></html>