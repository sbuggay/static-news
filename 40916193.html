<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1720602064561" as="style"/><link rel="stylesheet" href="styles.css?v=1720602064561"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.orionreed.com/posts/scoped-propagators">Scoped Propagators</a>Â <span class="domain">(<a href="https://www.orionreed.com">www.orionreed.com</a>)</span></div><div class="subtext"><span>cdata</span> | <span>29 comments</span></div><br/><div><div id="40917245" class="c"><input type="checkbox" id="c-40917245" checked=""/><div class="controls bullet"><span class="by">graypegg</span><span>|</span><a href="#40917534">next</a><span>|</span><label class="collapse" for="c-40917245">[-]</label><label class="expand" for="c-40917245">[8 more]</label></div><br/><div class="children"><div class="content">Interesting concept! It does remind me of the observables somewhat, where nodes are functions, which accept data coming in from events, which it transforms, and then chooses to emit new values or not.<p>This flips that, so nodes are data, which accept functions from events, it applies that function to itself, then decides to propagate that event onwards or not.<p>I like it! That model works really well for this sort of visual programming demoed in the infinite canvas stuff.</div><br/><div id="40918889" class="c"><input type="checkbox" id="c-40918889" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#40917245">parent</a><span>|</span><a href="#40919900">next</a><span>|</span><label class="collapse" for="c-40918889">[-]</label><label class="expand" for="c-40918889">[4 more]</label></div><br/><div class="children"><div class="content">I only glanced at the article, but it also reminds me of Dataflow programming, incrementally updated materialized views, etc. (all the same concept at the end of the day, and yes, very similar to observables)</div><br/><div id="40920655" class="c"><input type="checkbox" id="c-40920655" checked=""/><div class="controls bullet"><span class="by">davexunit</span><span>|</span><a href="#40917245">root</a><span>|</span><a href="#40918889">parent</a><span>|</span><a href="#40920136">next</a><span>|</span><label class="collapse" for="c-40920655">[-]</label><label class="expand" for="c-40920655">[1 more]</label></div><br/><div class="children"><div class="content">As Gerald Sussman says in &quot;We really don&#x27;t know how to compute!&quot;:<p>&gt; It&#x27;s not dataflow!  It&#x27;s closely related, but it&#x27;s not.<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;HB5TrK7A4pI?t=2071" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;HB5TrK7A4pI?t=2071</a></div><br/></div></div><div id="40920136" class="c"><input type="checkbox" id="c-40920136" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#40917245">root</a><span>|</span><a href="#40918889">parent</a><span>|</span><a href="#40920655">prev</a><span>|</span><a href="#40919900">next</a><span>|</span><label class="collapse" for="c-40920136">[-]</label><label class="expand" for="c-40920136">[2 more]</label></div><br/><div class="children"><div class="content">It remind you of dataflow programming because it&#x27;s literally the same thing.</div><br/><div id="40921715" class="c"><input type="checkbox" id="c-40921715" checked=""/><div class="controls bullet"><span class="by">thechao</span><span>|</span><a href="#40917245">root</a><span>|</span><a href="#40920136">parent</a><span>|</span><a href="#40919900">next</a><span>|</span><label class="collapse" for="c-40921715">[-]</label><label class="expand" for="c-40921715">[1 more]</label></div><br/><div class="children"><div class="content">Specifically, the application of dataflow to GUIs, which was well-researched at Adobe by Sean Parent, Mat Marcus, et al in the early 2000s called the &quot;Adam&quot; and &quot;Eve&quot; languages. There&#x27;s more work at TAMU &amp; University of Turku (by Jaakko Jarvi) under the name &quot;Espresso&quot;, or something like that.<p>Basically, the &quot;scopes&quot; become constraints, and they use a hierarchical constraint solver to propagate state changes to the GUI elements, real-time, using a declarative dataflow programming model.</div><br/></div></div></div></div></div></div><div id="40919900" class="c"><input type="checkbox" id="c-40919900" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#40917245">parent</a><span>|</span><a href="#40918889">prev</a><span>|</span><a href="#40917534">next</a><span>|</span><label class="collapse" for="c-40919900">[-]</label><label class="expand" for="c-40919900">[3 more]</label></div><br/><div class="children"><div class="content">Why would it be good when a node is data, since the data is always changing and the function would stay the same?</div><br/><div id="40920207" class="c"><input type="checkbox" id="c-40920207" checked=""/><div class="controls bullet"><span class="by">graypegg</span><span>|</span><a href="#40917245">root</a><span>|</span><a href="#40919900">parent</a><span>|</span><a href="#40917534">next</a><span>|</span><label class="collapse" for="c-40920207">[-]</label><label class="expand" for="c-40920207">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    the Scoped Propagator model is based on two key insights:
    1. by representing computation as mappings between nodes along edges, you do not need to know at design-time what node types exist.
    2. by scoping the propagation to events, you can augment nodes with interactive behaviour suitable for the environment in which SPs have been embedded.
</code></pre>
It&#x27;s pretty specific to UI similar to the examples, but in terms of these big infinite canvas UIs, you have a whole bunch of objects you need to make dependant on each other, but who ALSO hold their current state statically. Subtly different from a spreadsheet, where Excel for example treats functions (=$A$2) differently from a single value (4). Functions are always derived, where as single values don&#x27;t rely on anything.<p>Like a sticky note on a canvas, should always be available to type into. But maybe we also want something else to change it&#x27;s value when it changes. (key insights #2, this is for infinite canvases)<p>Rather than building some big god-object that stores all &quot;root&quot; state for the static value of things, and transforming that thru a big tree of functions you need to keep maintained, you could reverse it:<p>Each node only knows it&#x27;s own state, but it&#x27;s peers give it instructions about how to update itself to meet their business rules, for just that pairing.<p>The result is the same, it&#x27;s a big web of functions, but now you don&#x27;t have to make the distinction between &quot;derived&quot; state or &quot;base&quot; state. It&#x27;s always static state, and things are just updated adhoc by these events that describe the changes without explaining &quot;why&quot; the &quot;to&quot; node has to apply them. (key insights #1, you do not need to know at design-time what node types exist.)</div><br/><div id="40921095" class="c"><input type="checkbox" id="c-40921095" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#40917245">root</a><span>|</span><a href="#40920207">parent</a><span>|</span><a href="#40917534">next</a><span>|</span><label class="collapse" for="c-40921095">[-]</label><label class="expand" for="c-40921095">[1 more]</label></div><br/><div class="children"><div class="content">So you&#x27;re talking about a spreadsheet but without the organization of having cells in a grid?</div><br/></div></div></div></div></div></div></div></div><div id="40917534" class="c"><input type="checkbox" id="c-40917534" checked=""/><div class="controls bullet"><span class="by">low_tech_punk</span><span>|</span><a href="#40917245">prev</a><span>|</span><a href="#40917139">next</a><span>|</span><label class="collapse" for="c-40917534">[-]</label><label class="expand" for="c-40917534">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of Gerald Sussman&#x27;s talk &quot;We Really Don&#x27;t Know How to Compute!&quot; (2011)<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;HB5TrK7A4pI?si=99cUwmS_03VwLUP7&amp;t=2038" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;HB5TrK7A4pI?si=99cUwmS_03VwLUP7&amp;t=2038</a></div><br/></div></div><div id="40917139" class="c"><input type="checkbox" id="c-40917139" checked=""/><div class="controls bullet"><span class="by">blixt</span><span>|</span><a href="#40917534">prev</a><span>|</span><a href="#40916923">next</a><span>|</span><label class="collapse" for="c-40917139">[-]</label><label class="expand" for="c-40917139">[1 more]</label></div><br/><div class="children"><div class="content">Very cool! Good to see the shoutout to Dennis&#x27; Holograph.so work as well. I played around with that one to make some fun things:<p>A game of cat and mouse: <a href="https:&#x2F;&#x2F;x.com&#x2F;blixt&#x2F;status&#x2F;1797384954172625302" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;blixt&#x2F;status&#x2F;1797384954172625302</a><p>An analog clock: <a href="https:&#x2F;&#x2F;x.com&#x2F;blixt&#x2F;status&#x2F;1798393279194824952" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;blixt&#x2F;status&#x2F;1798393279194824952</a><p>I think tools like these, with better UX and more guard rails for the code, can really help people understand logic and systems in a much more visually intuitive way. In some aspects, these propagators work similar to Excel, which I think a lot of people already have some intuition for.</div><br/></div></div><div id="40916923" class="c"><input type="checkbox" id="c-40916923" checked=""/><div class="controls bullet"><span class="by">noelwelsh</span><span>|</span><a href="#40917139">prev</a><span>|</span><a href="#40922431">next</a><span>|</span><label class="collapse" for="c-40916923">[-]</label><label class="expand" for="c-40916923">[11 more]</label></div><br/><div class="children"><div class="content">Some of the videos are broken for me (using Firefox). Otherwise looks pretty neat.<p>Compared to FRP it is perhaps a bit more declarative in the definition of scopes, but otherwise seems equivalent. I&#x27;m interested in more details on this. I&#x27;m also a bit confused by<p>&gt; This model has not yet been formalised, and while the propagators themselves can be simply expressed as a function ... I have not yet found an appropriate way to express scopes and the relationship between the two.<p>This seems straightforward to me (e.g. a scope could be a set of types, where each distinct event has a distinct type) so I think I&#x27;m missing something here.</div><br/><div id="40917328" class="c"><input type="checkbox" id="c-40917328" checked=""/><div class="controls bullet"><span class="by">aag</span><span>|</span><a href="#40916923">parent</a><span>|</span><a href="#40918074">next</a><span>|</span><label class="collapse" for="c-40917328">[-]</label><label class="expand" for="c-40917328">[8 more]</label></div><br/><div class="children"><div class="content">All but two of the videos are broken for me on both Chrome and Firefox.  I would love to see the rest!<p>I encourage people to read the original Propagator Networks paper by Alexey Radul (advisor: Prof. Gerald Sussman of SICP) referenced in the Prior Work section.  It&#x27;s full of fascinating ideas.<p><a href="https:&#x2F;&#x2F;dspace.mit.edu&#x2F;handle&#x2F;1721.1&#x2F;54635" rel="nofollow">https:&#x2F;&#x2F;dspace.mit.edu&#x2F;handle&#x2F;1721.1&#x2F;54635</a></div><br/><div id="40917806" class="c"><input type="checkbox" id="c-40917806" checked=""/><div class="controls bullet"><span class="by">orionreed</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917328">parent</a><span>|</span><a href="#40919517">next</a><span>|</span><label class="collapse" for="c-40917806">[-]</label><label class="expand" for="c-40917806">[5 more]</label></div><br/><div class="children"><div class="content">Would love to know which videos are broken and any other details so I can try and fix that!</div><br/><div id="40921000" class="c"><input type="checkbox" id="c-40921000" checked=""/><div class="controls bullet"><span class="by">Kikawala</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917806">parent</a><span>|</span><a href="#40917864">next</a><span>|</span><label class="collapse" for="c-40921000">[-]</label><label class="expand" for="c-40921000">[1 more]</label></div><br/><div class="children"><div class="content">Firefox doesn&#x27;t support H.265&#x2F;HEVC.<p>bridging.mov and examples.mp4 are working as they are H.264&#x2F;AVC, the other videos are H.265&#x2F;HEVC</div><br/></div></div><div id="40917864" class="c"><input type="checkbox" id="c-40917864" checked=""/><div class="controls bullet"><span class="by">jedharris</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917806">parent</a><span>|</span><a href="#40921000">prev</a><span>|</span><a href="#40921443">next</a><span>|</span><label class="collapse" for="c-40917864">[-]</label><label class="expand" for="c-40917864">[2 more]</label></div><br/><div class="children"><div class="content">None of the MP4 videos play in Firefox. The MOV videos play fine.<p>All the videos play in Safari. I have not tried Chrome.</div><br/><div id="40917930" class="c"><input type="checkbox" id="c-40917930" checked=""/><div class="controls bullet"><span class="by">orionreed</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917864">parent</a><span>|</span><a href="#40921443">next</a><span>|</span><label class="collapse" for="c-40917930">[-]</label><label class="expand" for="c-40917930">[1 more]</label></div><br/><div class="children"><div class="content">good to know! seems that I&#x27;m using encodings for those which Firefox does not support <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;73855321&#x2F;why-wont-mp4-video-work-with-html5-video-tag-on-firefox" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;73855321&#x2F;why-wont-mp4-vi...</a></div><br/></div></div></div></div><div id="40921443" class="c"><input type="checkbox" id="c-40921443" checked=""/><div class="controls bullet"><span class="by">SrslyJosh</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917806">parent</a><span>|</span><a href="#40917864">prev</a><span>|</span><a href="#40919517">next</a><span>|</span><label class="collapse" for="c-40921443">[-]</label><label class="expand" for="c-40921443">[1 more]</label></div><br/><div class="children"><div class="content">None of the videos played for me in Safari 16. =(</div><br/></div></div></div></div><div id="40919517" class="c"><input type="checkbox" id="c-40919517" checked=""/><div class="controls bullet"><span class="by">Yen</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917328">parent</a><span>|</span><a href="#40917806">prev</a><span>|</span><a href="#40917975">next</a><span>|</span><label class="collapse" for="c-40919517">[-]</label><label class="expand" for="c-40919517">[1 more]</label></div><br/><div class="children"><div class="content">As a workaround in firefox, I was able to right-click, &quot;save video as&quot;, and open in VLC.</div><br/></div></div><div id="40917975" class="c"><input type="checkbox" id="c-40917975" checked=""/><div class="controls bullet"><span class="by">davexunit</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40917328">parent</a><span>|</span><a href="#40919517">prev</a><span>|</span><a href="#40918074">next</a><span>|</span><label class="collapse" for="c-40917975">[-]</label><label class="expand" for="c-40917975">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I can&#x27;t see most of the videos, either. :(<p>I absolutely love Alexey Radul&#x27;s dissertation.  So interesting to see this article show up on the HN front page after I just published my own experiment with propagators yesterday: <a href="https:&#x2F;&#x2F;dthompson.us&#x2F;posts&#x2F;functional-reactive-user-interfaces-with-propagators.html" rel="nofollow">https:&#x2F;&#x2F;dthompson.us&#x2F;posts&#x2F;functional-reactive-user-interfac...</a><p>I need to learn more about the design decisions behind scoped propagators and why they deviate from &quot;regular&quot; propagators.</div><br/></div></div></div></div><div id="40918074" class="c"><input type="checkbox" id="c-40918074" checked=""/><div class="controls bullet"><span class="by">davexunit</span><span>|</span><a href="#40916923">parent</a><span>|</span><a href="#40917328">prev</a><span>|</span><a href="#40922431">next</a><span>|</span><label class="collapse" for="c-40918074">[-]</label><label class="expand" for="c-40918074">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Compared to FRP it is perhaps a bit more declarative in the definition of scopes, but otherwise seems equivalent.<p>FRP systems are typically limited to acyclic graphs.  The system in this article allows for cycles.</div><br/><div id="40923844" class="c"><input type="checkbox" id="c-40923844" checked=""/><div class="controls bullet"><span class="by">themk</span><span>|</span><a href="#40916923">root</a><span>|</span><a href="#40918074">parent</a><span>|</span><a href="#40922431">next</a><span>|</span><label class="collapse" for="c-40923844">[-]</label><label class="expand" for="c-40923844">[1 more]</label></div><br/><div class="children"><div class="content">Every FRP system I&#x27;ve used allows cycles.</div><br/></div></div></div></div></div></div><div id="40922431" class="c"><input type="checkbox" id="c-40922431" checked=""/><div class="controls bullet"><span class="by">hosh</span><span>|</span><a href="#40916923">prev</a><span>|</span><a href="#40918323">next</a><span>|</span><label class="collapse" for="c-40922431">[-]</label><label class="expand" for="c-40922431">[1 more]</label></div><br/><div class="children"><div class="content">Wow! That&#x27;s neat! There are a lot to explore beyond interactive objects.<p>One of the first thing that comes to mind was is about Smalltalk, and the idea that it is about the messages and not the objects.<p>The next thing to come in mind is about how this allows for composition of interactions. I think it can enable highly local customization that can still receive software updates from upstream. I am thinking about how one of the problems with extensible specifications (such as XMPP) eventually lead to an ecosystem where feature updates cannot propogate easily; and we might see something like that in the Fediverse</div><br/></div></div><div id="40918323" class="c"><input type="checkbox" id="c-40918323" checked=""/><div class="controls bullet"><span class="by">GrantMoyer</span><span>|</span><a href="#40922431">prev</a><span>|</span><a href="#40921939">next</a><span>|</span><label class="collapse" for="c-40918323">[-]</label><label class="expand" for="c-40918323">[1 more]</label></div><br/><div class="children"><div class="content">As written, a &quot;scope&quot; is a function, s: GÂ² â None + T, from the current global state and the previous global state to an optional value of some type T. Meanwhile, a &quot;propagator&quot; is a function, p: GÂ² Ã A Ã B â B, from the current global state, the previous global state, a source node, and a target node to a new target node, such that p(g, g&#x27;, a, b) = if s(g, g&#x27;) is None then b else f(s(g, g&#x27;), a, b) for some f: T Ã A Ã B â B.<p>For example tick(g, g&#x27;) = time(g&#x27;) - time(g), and change(g, g&#x27;) = if node_s(g&#x27;) â  node_s(g) then () else None where node_s(g) gets the source node of the change scope from global state g.<p>In practice the outputs of a scope can be computed once per state change and called an event, rather than computed on demand each time it&#x27;s used, and scopes which return None don&#x27;t need to be propagated. Also, I suspect it would be useful to restrict scopes to (A Ã B)Â² â None + T or even just AÂ² â None + T, so that events are limited to propagating along chains of edges.</div><br/></div></div><div id="40921939" class="c"><input type="checkbox" id="c-40921939" checked=""/><div class="controls bullet"><span class="by">omneity</span><span>|</span><a href="#40918323">prev</a><span>|</span><a href="#40922755">next</a><span>|</span><label class="collapse" for="c-40921939">[-]</label><label class="expand" for="c-40921939">[1 more]</label></div><br/><div class="children"><div class="content">What is separating this concept from dataflow programming, perhaps with slightly different semantics and interaction patterns? (I reckon my understanding might be limited so I&#x27;m genuinely seeking enlightenment)</div><br/></div></div><div id="40922755" class="c"><input type="checkbox" id="c-40922755" checked=""/><div class="controls bullet"><span class="by">donpark</span><span>|</span><a href="#40921939">prev</a><span>|</span><a href="#40922510">next</a><span>|</span><label class="collapse" for="c-40922755">[-]</label><label class="expand" for="c-40922755">[1 more]</label></div><br/><div class="children"><div class="content">Related repos:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;OrionReed&#x2F;scoped-propagators">https:&#x2F;&#x2F;github.com&#x2F;OrionReed&#x2F;scoped-propagators</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;dennishansen&#x2F;holograph">https:&#x2F;&#x2F;github.com&#x2F;dennishansen&#x2F;holograph</a></div><br/></div></div><div id="40922510" class="c"><input type="checkbox" id="c-40922510" checked=""/><div class="controls bullet"><span class="by">fiddlerwoaroof</span><span>|</span><a href="#40922755">prev</a><span>|</span><a href="#40920527">next</a><span>|</span><label class="collapse" for="c-40922510">[-]</label><label class="expand" for="c-40922510">[1 more]</label></div><br/><div class="children"><div class="content">This seems like delimited continuations to me</div><br/></div></div><div id="40920527" class="c"><input type="checkbox" id="c-40920527" checked=""/><div class="controls bullet"><span class="by">MurrayHurps</span><span>|</span><a href="#40922510">prev</a><span>|</span><a href="#40922119">next</a><span>|</span><label class="collapse" for="c-40920527">[-]</label><label class="expand" for="c-40920527">[1 more]</label></div><br/><div class="children"><div class="content">This is genius, and very well described.<p>Could be a meaningful bridge between ânocodeâ and code, avoiding what seems like a common pain point of eventual nocode limitations. I know there are other solutions in this space, but yours is very nicely done.<p>Please continue work on this, and yell out if you need collaborators.</div><br/></div></div><div id="40922119" class="c"><input type="checkbox" id="c-40922119" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#40920527">prev</a><span>|</span><label class="collapse" for="c-40922119">[-]</label><label class="expand" for="c-40922119">[1 more]</label></div><br/><div class="children"><div class="content">This feels very similar to how database table triggers work. You define trigger conditions, and then the trigger on table A tells table B how to update itself. The tables store only data.</div><br/></div></div></div></div></div></div></div></body></html>