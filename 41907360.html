<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1729587670586" as="style"/><link rel="stylesheet" href="styles.css?v=1729587670586"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.amoses.dev/blog/upl-people-counter/">Overengineering a way to know if people are in my university&#x27;s CS lab</a>Â <span class="domain">(<a href="https://www.amoses.dev">www.amoses.dev</a>)</span></div><div class="subtext"><span>nicosalm</span> | <span>72 comments</span></div><br/><div><div id="41908510" class="c"><input type="checkbox" id="c-41908510" checked=""/><div class="controls bullet"><span class="by">nullhole</span><span>|</span><a href="#41909421">next</a><span>|</span><label class="collapse" for="c-41908510">[-]</label><label class="expand" for="c-41908510">[5 more]</label></div><br/><div class="children"><div class="content">&gt; It then set the name of a channel to the results (either 1-person-in-upl or X-people-in-upl), which others could check.<p>I&#x27;m not suggesting you don&#x27;t do this, but you &#x2F;could&#x2F; setup a speaker to play the classic remix of Steve Ballmer&#x27;s &quot;developers! developers!&quot; whenever there are &gt;=2 people in the room. On April 1st, of course.</div><br/><div id="41908793" class="c"><input type="checkbox" id="c-41908793" checked=""/><div class="controls bullet"><span class="by">cptaj</span><span>|</span><a href="#41908510">parent</a><span>|</span><a href="#41909421">next</a><span>|</span><label class="collapse" for="c-41908793">[-]</label><label class="expand" for="c-41908793">[4 more]</label></div><br/><div class="children"><div class="content">I am, in fact, suggesting you do this.</div><br/><div id="41909671" class="c"><input type="checkbox" id="c-41909671" checked=""/><div class="controls bullet"><span class="by">alwayslikethis</span><span>|</span><a href="#41908510">root</a><span>|</span><a href="#41908793">parent</a><span>|</span><a href="#41909693">next</a><span>|</span><label class="collapse" for="c-41909671">[-]</label><label class="expand" for="c-41909671">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m not suggesting you don&#x27;t do this<p>I hope this is intentional</div><br/><div id="41911202" class="c"><input type="checkbox" id="c-41911202" checked=""/><div class="controls bullet"><span class="by">nullhole</span><span>|</span><a href="#41908510">root</a><span>|</span><a href="#41909671">parent</a><span>|</span><a href="#41909693">next</a><span>|</span><label class="collapse" for="c-41911202">[-]</label><label class="expand" for="c-41911202">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; I&#x27;m not suggesting you don&#x27;t do this<p>&gt; I hope this is intentional<p>I mean, it&#x27;s not unintentional..</div><br/></div></div></div></div><div id="41909693" class="c"><input type="checkbox" id="c-41909693" checked=""/><div class="controls bullet"><span class="by">eduction</span><span>|</span><a href="#41908510">root</a><span>|</span><a href="#41908793">parent</a><span>|</span><a href="#41909671">prev</a><span>|</span><a href="#41909421">next</a><span>|</span><label class="collapse" for="c-41909693">[-]</label><label class="expand" for="c-41909693">[1 more]</label></div><br/><div class="children"><div class="content">I love this company. Yeah!</div><br/></div></div></div></div></div></div><div id="41909421" class="c"><input type="checkbox" id="c-41909421" checked=""/><div class="controls bullet"><span class="by">withinrafael</span><span>|</span><a href="#41908510">prev</a><span>|</span><a href="#41912287">next</a><span>|</span><label class="collapse" for="c-41909421">[-]</label><label class="expand" for="c-41909421">[1 more]</label></div><br/><div class="children"><div class="content">I saw &quot;over-engineering&quot; in the title and half expected to see Wi-Fi signals being abused to detect human bodies in the room.<p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2301.00250" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2301.00250</a></div><br/></div></div><div id="41912287" class="c"><input type="checkbox" id="c-41912287" checked=""/><div class="controls bullet"><span class="by">zimpenfish</span><span>|</span><a href="#41909421">prev</a><span>|</span><a href="#41907921">next</a><span>|</span><label class="collapse" for="c-41912287">[-]</label><label class="expand" for="c-41912287">[1 more]</label></div><br/><div class="children"><div class="content">Back in the man.ac.uk of the early 90s, there were no cameras or YOLO models but we still wanted to know when machines (especially the colour ones!  LUXURY!) were available.<p>We just had &quot;`rlogin` to every machine in the lab, run `who`, and collate the output&quot;.  IIRC there was an early version written by &#x27;flup that I extended with a tidier output (including an X11 window), auto-refreshing, and easier machine selection (eg. you could select rooms by name with regex filtering.)<p>Good times.</div><br/></div></div><div id="41907921" class="c"><input type="checkbox" id="c-41907921" checked=""/><div class="controls bullet"><span class="by">alkh</span><span>|</span><a href="#41912287">prev</a><span>|</span><a href="#41908772">next</a><span>|</span><label class="collapse" for="c-41907921">[-]</label><label class="expand" for="c-41907921">[9 more]</label></div><br/><div class="children"><div class="content">I swear to God that all of these CS labs at different unis look the same. I am getting flashbacks of labs in Toronto that looked exactly like pictures in the post</div><br/><div id="41908068" class="c"><input type="checkbox" id="c-41908068" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#41907921">parent</a><span>|</span><a href="#41909767">next</a><span>|</span><label class="collapse" for="c-41908068">[-]</label><label class="expand" for="c-41908068">[7 more]</label></div><br/><div class="children"><div class="content">even the physics labs i worked in looked like this</div><br/><div id="41908590" class="c"><input type="checkbox" id="c-41908590" checked=""/><div class="controls bullet"><span class="by">chaboud</span><span>|</span><a href="#41907921">root</a><span>|</span><a href="#41908068">parent</a><span>|</span><a href="#41909767">next</a><span>|</span><label class="collapse" for="c-41908590">[-]</label><label class="expand" for="c-41908590">[6 more]</label></div><br/><div class="children"><div class="content">The physics computer lab in Chamberlin Hall at UW in the 90&#x27;s was a secret treasure trove of idle NeXTstation Turbo machines in an almost always empty room cooled to near refrigeration temperatures.  I used to light up at least half of that room to run distributed simulations.  There&#x27;s probably still a 30 year old key to that lab in a junk drawer somewhere.<p>Eventually I realized that it just made sense to suck it up and get my own hardware, as it was either going to be esoteric &quot;workstation&quot; hardware with a fifth of the horsepower of a Pentium 75 or it was going to be in a room like the UPL jammed with CRT&#x27;s and the smell of warm Josta.<p>How do students operate these days?  Unless one is interacting with hardware, I&#x27;d be very tempted to stay in &quot;fits on a laptop&quot; space or slide to &quot;screw it, cloud instances&quot; scale.  Anyone with contact in the last 5 years have a sense of how labs are being used now?</div><br/><div id="41909593" class="c"><input type="checkbox" id="c-41909593" checked=""/><div class="controls bullet"><span class="by">hansvm</span><span>|</span><a href="#41907921">root</a><span>|</span><a href="#41908590">parent</a><span>|</span><a href="#41909129">next</a><span>|</span><label class="collapse" for="c-41909593">[-]</label><label class="expand" for="c-41909593">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been nearly a decade now, but we shared a machine with 128 newish physical cores, a terabyte of RAM, and a lot of fast disk. Anyone with a big job just coordinated with the 1-2 other people who might need it at that level and left 10% of the RAM and disk for everyone else (OS scheduling handled the CPU sharing, though we rarely had real conflicts).<p>It&#x27;s firmly in &quot;not a laptop&quot; scale, and for anything that fit it was much faster than all the modern cloud garbage.<p>The other lab I was in around that time just collected machines indefinitely and allocated subsets of them for a few months at a time (the usual amount of time a heavily optimized program would take to finish in that field) to any Ph.D. with a reasonable project. They all used the same in-house software for job management and whatnot, with nice abstractions (as nice as you can get in C) for distributed half-sparse half-dense half-whatever linear algebra. You again only had to share between a few people, and a few hundred decent machines per person was solidly better than whatever you could do in the cloud for the same grant money.</div><br/></div></div><div id="41909129" class="c"><input type="checkbox" id="c-41909129" checked=""/><div class="controls bullet"><span class="by">alkh</span><span>|</span><a href="#41907921">root</a><span>|</span><a href="#41908590">parent</a><span>|</span><a href="#41909593">prev</a><span>|</span><a href="#41909166">next</a><span>|</span><label class="collapse" for="c-41909129">[-]</label><label class="expand" for="c-41909129">[1 more]</label></div><br/><div class="children"><div class="content">In my university you could technically use any computer but must ensure that your code would work&#x2F;compile on lab PCs cause that&#x27;s where TAs would check it. As a result, during labs most people would just use computers there(too much hassle otherwise)</div><br/></div></div><div id="41909166" class="c"><input type="checkbox" id="c-41909166" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#41907921">root</a><span>|</span><a href="#41908590">parent</a><span>|</span><a href="#41909129">prev</a><span>|</span><a href="#41908630">next</a><span>|</span><label class="collapse" for="c-41909166">[-]</label><label class="expand" for="c-41909166">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  Unless one is interacting with hardware, I&#x27;d be very tempted to stay in &quot;fits on a laptop&quot; space or slide to &quot;screw it, cloud instances&quot; scale. Anyone with contact in the last 5 years have a sense of how labs are being used now?<p>In my recent physics experience, this is basically what it was unless you had to rely on some proprietary software only on the lab machines like <i>shudders</i> LabView</div><br/></div></div><div id="41908630" class="c"><input type="checkbox" id="c-41908630" checked=""/><div class="controls bullet"><span class="by">amosesdev</span><span>|</span><a href="#41907921">root</a><span>|</span><a href="#41908590">parent</a><span>|</span><a href="#41909166">prev</a><span>|</span><a href="#41909137">next</a><span>|</span><label class="collapse" for="c-41908630">[-]</label><label class="expand" for="c-41908630">[1 more]</label></div><br/><div class="children"><div class="content">I can only speak for the UPL, but, yeah, it was a hallmark of labs at the time that one of the benefits you were getting was the <i>equipment.</i> Nowadays, most people just come in with their laptops -- we have a kubernetes cluster for projects, but most of the actual computing equipment is brought in by students when they want to hang</div><br/></div></div><div id="41909137" class="c"><input type="checkbox" id="c-41909137" checked=""/><div class="controls bullet"><span class="by">AStonesThrow</span><span>|</span><a href="#41907921">root</a><span>|</span><a href="#41908590">parent</a><span>|</span><a href="#41908630">prev</a><span>|</span><a href="#41909767">next</a><span>|</span><label class="collapse" for="c-41909137">[-]</label><label class="expand" for="c-41909137">[1 more]</label></div><br/><div class="children"><div class="content">I went through community college about 6 years ago. And they still had <i>bona fide</i> computer labs with in-person tech support.<p>Computers were also ubiquitous in places like the coffeehouse, the library, practically every classroom, etc. And, of course, there were ubiquitous WiFi and USB charging ports, so that students with BYOD could get by (although WiFi was often overloaded and contentious.)<p>Within the main computer lab I was using, there was also a networking hardware lab, with genuine Cisco equipment such as routers and switches. The Cisco certification prep classes would go in there and do experiments on the hardware, so that students could get accustomed to seeing it in action, however outdated it may be.<p>The lab itself was chock-a-block with both Apples and Windows PCs, as well as scanners and printers available, and even headphones you could borrow from the desk attendant. You&#x27;d need to sign in and sign out. There were strict rules about silence and not leaving your station unattended. There was always space for more users and a generally relaxed atmosphere, where people could feel comfortable studying or doing homework.<p>I believe that there was also an A&#x2F;V lab where students could get access to cameras and recording equipment, as well as software for that kind of thing.<p>The library, in addition to allocating lots of space for Windows PCs and Apples, would also loan out Chromebooks to any student, and I believe they had other things for loan, such as WiFi hotspots, for kids who couldn&#x27;t afford to carry around their own Internet.<p>There were also Tutoring Centers, such as the Math one, where most of the desks featured a computer where you could log in to your collegiate account, and access your online course materials.<p>And the Testing Center was essentially a big computer lab, with cameras and in-person proctors monitoring it. It was partnered with Pearson and CompTIA, so I took more than one certification exam in there.<p>There is a fully-staffed IT Help Center on campus, so during office hours, you could count on a 1:1 in-person interaction to help you get logged in, debug your device&#x27;s WiFi, or whatever.<p>Despite having a great computer setup in the comfort of my own home, and plenty of online courses on my schedule, I still appreciated the immersion of collegiate computer labs, and especially the relaxed coffeehouse access, where I could use Apple systems to work on my English homework and essays.<p>During the COVID-19 pandemic, all this went topsy-turvy, and a lot of these labs closed down, or took extreme health precautions, and of course, a lot more classes went online-only. But I was done with classes by that time.</div><br/></div></div></div></div></div></div><div id="41909767" class="c"><input type="checkbox" id="c-41909767" checked=""/><div class="controls bullet"><span class="by">kredd</span><span>|</span><a href="#41907921">parent</a><span>|</span><a href="#41908068">prev</a><span>|</span><a href="#41908772">next</a><span>|</span><label class="collapse" for="c-41909767">[-]</label><label class="expand" for="c-41909767">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s exactly what I thought! &quot;Is that UofT?&quot;</div><br/></div></div></div></div><div id="41908772" class="c"><input type="checkbox" id="c-41908772" checked=""/><div class="controls bullet"><span class="by">zdw</span><span>|</span><a href="#41907921">prev</a><span>|</span><a href="#41910322">next</a><span>|</span><label class="collapse" for="c-41908772">[-]</label><label class="expand" for="c-41908772">[5 more]</label></div><br/><div class="children"><div class="content">Back in the 90&#x27;s we used finger - IIRC it would tell you the last machine someone logged into, which could be in the lab<p>Someone wrote a script to finger everyone in the entire CS department and tell when the lab was busy, by counting people logged in.<p>This work fine, except for on intro courses where some labs had lots of non-CS majors in them.</div><br/><div id="41908884" class="c"><input type="checkbox" id="c-41908884" checked=""/><div class="controls bullet"><span class="by">bks</span><span>|</span><a href="#41908772">parent</a><span>|</span><a href="#41910322">next</a><span>|</span><label class="collapse" for="c-41908884">[-]</label><label class="expand" for="c-41908884">[4 more]</label></div><br/><div class="children"><div class="content">I had finger running on login to `finger stacy` I was at SDSU on a very large SunOS system and she was at a private school and I assume that computer was a bit more limited.<p>`Finger Stacy` would run every minute and typically be running for 15 minutes max... that is until I moved into the dorms and my machine was online all the time.<p>A few weeks go by and I get an email from the SDSU admin requesting that I stop fingering stacy as it was bothering the other Sysadmin. I remarked with a grin that all I was trying to do was in fact try to `name of the command` and they promptly deleted the script from the account.. It still makes me smile as I write this.</div><br/><div id="41910665" class="c"><input type="checkbox" id="c-41910665" checked=""/><div class="controls bullet"><span class="by">hotspot_one</span><span>|</span><a href="#41908772">root</a><span>|</span><a href="#41908884">parent</a><span>|</span><a href="#41910322">next</a><span>|</span><label class="collapse" for="c-41910665">[-]</label><label class="expand" for="c-41910665">[3 more]</label></div><br/><div class="children"><div class="content">fdisk or mount?</div><br/><div id="41911083" class="c"><input type="checkbox" id="c-41911083" checked=""/><div class="controls bullet"><span class="by">elcritch</span><span>|</span><a href="#41908772">root</a><span>|</span><a href="#41910665">parent</a><span>|</span><a href="#41910322">next</a><span>|</span><label class="collapse" for="c-41911083">[-]</label><label class="expand" for="c-41911083">[2 more]</label></div><br/><div class="children"><div class="content">Sincerely doubt he had permissions for either operation. ;)</div><br/><div id="41912187" class="c"><input type="checkbox" id="c-41912187" checked=""/><div class="controls bullet"><span class="by">vasco</span><span>|</span><a href="#41908772">root</a><span>|</span><a href="#41911083">parent</a><span>|</span><a href="#41910322">next</a><span>|</span><label class="collapse" for="c-41912187">[-]</label><label class="expand" for="c-41912187">[1 more]</label></div><br/><div class="children"><div class="content">Everyone knows the right order of commands is date, finger, mount.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41910322" class="c"><input type="checkbox" id="c-41910322" checked=""/><div class="controls bullet"><span class="by">zanchey</span><span>|</span><a href="#41908772">prev</a><span>|</span><a href="#41912202">next</a><span>|</span><label class="collapse" for="c-41910322">[-]</label><label class="expand" for="c-41910322">[2 more]</label></div><br/><div class="children"><div class="content">The University Computer Club at UWA also has a door sensor!<p><a href="https:&#x2F;&#x2F;door-status.ucc.asn.au&#x2F;ucc" rel="nofollow">https:&#x2F;&#x2F;door-status.ucc.asn.au&#x2F;ucc</a><p>Runs off a Raspberry Pi with a bodged-up version of <a href="https:&#x2F;&#x2F;github.com&#x2F;ide&#x2F;pico-door-sensor&#x2F;tree&#x2F;main">https:&#x2F;&#x2F;github.com&#x2F;ide&#x2F;pico-door-sensor&#x2F;tree&#x2F;main</a><p>This is at least the third iteration; some previous iterations are documented here:<p><a href="https:&#x2F;&#x2F;www.ucc.asn.au&#x2F;services&#x2F;door.ucc" rel="nofollow">https:&#x2F;&#x2F;www.ucc.asn.au&#x2F;services&#x2F;door.ucc</a></div><br/><div id="41910432" class="c"><input type="checkbox" id="c-41910432" checked=""/><div class="controls bullet"><span class="by">dbetteridge</span><span>|</span><a href="#41910322">parent</a><span>|</span><a href="#41912202">next</a><span>|</span><label class="collapse" for="c-41910432">[-]</label><label class="expand" for="c-41910432">[1 more]</label></div><br/><div class="children"><div class="content">Still works better than the uwa door card readers</div><br/></div></div></div></div><div id="41912202" class="c"><input type="checkbox" id="c-41912202" checked=""/><div class="controls bullet"><span class="by">preston4tw</span><span>|</span><a href="#41910322">prev</a><span>|</span><a href="#41908211">next</a><span>|</span><label class="collapse" for="c-41912202">[-]</label><label class="expand" for="c-41912202">[1 more]</label></div><br/><div class="children"><div class="content">room presence detection has been a long standing challenge in the smart home &#x2F; home assistant community. it&#x27;s cool to see home assistant used and adapted for this use case.</div><br/></div></div><div id="41908211" class="c"><input type="checkbox" id="c-41908211" checked=""/><div class="controls bullet"><span class="by">rithikjainNd01</span><span>|</span><a href="#41912202">prev</a><span>|</span><a href="#41912029">next</a><span>|</span><label class="collapse" for="c-41908211">[-]</label><label class="expand" for="c-41908211">[2 more]</label></div><br/><div class="children"><div class="content">UW Madison UPL on Hacker News! Great to see, you guys are awesome!</div><br/><div id="41908405" class="c"><input type="checkbox" id="c-41908405" checked=""/><div class="controls bullet"><span class="by">nicosalm</span><span>|</span><a href="#41908211">parent</a><span>|</span><a href="#41912029">next</a><span>|</span><label class="collapse" for="c-41908405">[-]</label><label class="expand" for="c-41908405">[1 more]</label></div><br/><div class="children"><div class="content">Thank you!</div><br/></div></div></div></div><div id="41912029" class="c"><input type="checkbox" id="c-41912029" checked=""/><div class="controls bullet"><span class="by">kleiba</span><span>|</span><a href="#41908211">prev</a><span>|</span><a href="#41908644">next</a><span>|</span><label class="collapse" for="c-41912029">[-]</label><label class="expand" for="c-41912029">[1 more]</label></div><br/><div class="children"><div class="content">This would be a nightmare to implement from a legal standpoint in Europe.</div><br/></div></div><div id="41908644" class="c"><input type="checkbox" id="c-41908644" checked=""/><div class="controls bullet"><span class="by">urbandw311er</span><span>|</span><a href="#41912029">prev</a><span>|</span><a href="#41910912">next</a><span>|</span><label class="collapse" for="c-41908644">[-]</label><label class="expand" for="c-41908644">[1 more]</label></div><br/><div class="children"><div class="content">Another state of the art  people counting system would be ultra wideband. It can literally count the number of heartbeats in a room. 
See  <a href="https:&#x2F;&#x2F;m.youtube.com&#x2F;watch?v=adiUegDxZEs" rel="nofollow">https:&#x2F;&#x2F;m.youtube.com&#x2F;watch?v=adiUegDxZEs</a></div><br/></div></div><div id="41910912" class="c"><input type="checkbox" id="c-41910912" checked=""/><div class="controls bullet"><span class="by">changexd</span><span>|</span><a href="#41908644">prev</a><span>|</span><a href="#41909076">next</a><span>|</span><label class="collapse" for="c-41910912">[-]</label><label class="expand" for="c-41910912">[1 more]</label></div><br/><div class="children"><div class="content">Very interesting and fun read! thanks for the post, when I saw the public restful api endpoint I immediately tried to see if I can make request just to see the &quot;NICE TRY!&quot; message, haha, then I kept on reading how you managed this issue.</div><br/></div></div><div id="41909076" class="c"><input type="checkbox" id="c-41909076" checked=""/><div class="controls bullet"><span class="by">neilparikh</span><span>|</span><a href="#41910912">prev</a><span>|</span><a href="#41908248">next</a><span>|</span><label class="collapse" for="c-41909076">[-]</label><label class="expand" for="c-41909076">[1 more]</label></div><br/><div class="children"><div class="content">I built a similar system for my schoolâs CS club. I considered using a door sensor, but the eventual solution I settled on was a light sensor, because itâs almost always true for us that the lights are on iff the door is open.<p>This way, we donât need to mount anything on the door, we just have a microcontroller plugged into one of the machines.<p>Our previous solution was a webcam that pointed to the lights that did a similar thing (implemented by someone before my time) but then it stopped working due to some driver issues, and I didnât want to spend time investigating them.</div><br/></div></div><div id="41908248" class="c"><input type="checkbox" id="c-41908248" checked=""/><div class="controls bullet"><span class="by">djsavvy</span><span>|</span><a href="#41909076">prev</a><span>|</span><a href="#41910047">next</a><span>|</span><label class="collapse" for="c-41908248">[-]</label><label class="expand" for="c-41908248">[2 more]</label></div><br/><div class="children"><div class="content">Neat to see discord channel names being used as an information channel.</div><br/><div id="41910253" class="c"><input type="checkbox" id="c-41910253" checked=""/><div class="controls bullet"><span class="by">thrdbndndn</span><span>|</span><a href="#41908248">parent</a><span>|</span><a href="#41910047">next</a><span>|</span><label class="collapse" for="c-41910253">[-]</label><label class="expand" for="c-41910253">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a common practice&#x2F;trick in Discord communities (particularly gaming) to pin some status, but yeah, I always find it neat.</div><br/></div></div></div></div><div id="41910047" class="c"><input type="checkbox" id="c-41910047" checked=""/><div class="controls bullet"><span class="by">TrackerFF</span><span>|</span><a href="#41908248">prev</a><span>|</span><a href="#41908391">next</a><span>|</span><label class="collapse" for="c-41910047">[-]</label><label class="expand" for="c-41910047">[1 more]</label></div><br/><div class="children"><div class="content">My first thought was to put some motion sensors inside the room, along with a sensor for the door (open&#x2F;closed), as well as some sensor for counting the people walking through the door. Maybe even some co2 sensor to detect changes.</div><br/></div></div><div id="41908391" class="c"><input type="checkbox" id="c-41908391" checked=""/><div class="controls bullet"><span class="by">teddarific</span><span>|</span><a href="#41910047">prev</a><span>|</span><a href="#41909231">next</a><span>|</span><label class="collapse" for="c-41908391">[-]</label><label class="expand" for="c-41908391">[1 more]</label></div><br/><div class="children"><div class="content">This is neat. I worked on something similar to college where we built an app to track how long the line was at a popular cafe. We set up a camera + raspberry pi in the cafe and tried to the number of people. There was a lot of noise from overlapping people, random people walking in and out of line, etc. Cool seeing all the techniques and approaches you tried!</div><br/></div></div><div id="41909231" class="c"><input type="checkbox" id="c-41909231" checked=""/><div class="controls bullet"><span class="by">_visgean</span><span>|</span><a href="#41908391">prev</a><span>|</span><a href="#41910454">next</a><span>|</span><label class="collapse" for="c-41909231">[-]</label><label class="expand" for="c-41909231">[1 more]</label></div><br/><div class="children"><div class="content">In edinburgh we had this: <a href="https:&#x2F;&#x2F;devpost.com&#x2F;software&#x2F;the-marauder-s-app" rel="nofollow">https:&#x2F;&#x2F;devpost.com&#x2F;software&#x2F;the-marauder-s-app</a> which showed who was using which computer based on logins.</div><br/></div></div><div id="41910454" class="c"><input type="checkbox" id="c-41910454" checked=""/><div class="controls bullet"><span class="by">fartfeatures</span><span>|</span><a href="#41909231">prev</a><span>|</span><a href="#41910377">next</a><span>|</span><label class="collapse" for="c-41910454">[-]</label><label class="expand" for="c-41910454">[3 more]</label></div><br/><div class="children"><div class="content">Point the camera at the door, use the camera to detect if the door is open.</div><br/><div id="41910906" class="c"><input type="checkbox" id="c-41910906" checked=""/><div class="controls bullet"><span class="by">grahamj</span><span>|</span><a href="#41910454">parent</a><span>|</span><a href="#41912013">prev</a><span>|</span><a href="#41910377">next</a><span>|</span><label class="collapse" for="c-41910906">[-]</label><label class="expand" for="c-41910906">[1 more]</label></div><br/><div class="children"><div class="content">Mount the camera on the door facing down and watch for a moving floor</div><br/></div></div></div></div><div id="41910377" class="c"><input type="checkbox" id="c-41910377" checked=""/><div class="controls bullet"><span class="by">mdberkey</span><span>|</span><a href="#41910454">prev</a><span>|</span><a href="#41907943">next</a><span>|</span><label class="collapse" for="c-41910377">[-]</label><label class="expand" for="c-41910377">[1 more]</label></div><br/><div class="children"><div class="content">Love to see the UPL on hacker news :)</div><br/></div></div><div id="41907943" class="c"><input type="checkbox" id="c-41907943" checked=""/><div class="controls bullet"><span class="by">iwontberude</span><span>|</span><a href="#41910377">prev</a><span>|</span><a href="#41907914">next</a><span>|</span><label class="collapse" for="c-41907943">[-]</label><label class="expand" for="c-41907943">[3 more]</label></div><br/><div class="children"><div class="content">I have a stealth startup that designs privacy first solutions to share coarse data about what is inside of rooms without disclosing secrets. This is useful for many use cases, from detecting the number of people in a room to other motion sensing devices which are critical for health and human safety. Patents are pending.</div><br/><div id="41908222" class="c"><input type="checkbox" id="c-41908222" checked=""/><div class="controls bullet"><span class="by">bobbiechen</span><span>|</span><a href="#41907943">parent</a><span>|</span><a href="#41907914">next</a><span>|</span><label class="collapse" for="c-41908222">[-]</label><label class="expand" for="c-41908222">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s great! It does feel like cameras generally collect more data than necessary for some purposes. I have a friend who works at Butlr, which uses thermal sensors to detect body heat (and avoid the privacy risks of cameras) - sounds like your startup is in a similar space.<p>I know you mentioned patents pending, but is there anything you can share about your approach?</div><br/><div id="41908497" class="c"><input type="checkbox" id="c-41908497" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#41907943">root</a><span>|</span><a href="#41908222">parent</a><span>|</span><a href="#41907914">next</a><span>|</span><label class="collapse" for="c-41908497">[-]</label><label class="expand" for="c-41908497">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Room occupancy sensors&quot; are a common product. Butlr apparently uses a low-rez IR camera, although they avoid calling it that. Passive infrared is common. Millimeter wave is available.[1]<p>[1] <a href="https:&#x2F;&#x2F;www.alibaba.com&#x2F;product-detail&#x2F;IoT-Commercial-People-Counting-Device-Occupancy_1600908375222.html?spm=a2700.7724857.0.0.78890EOm0EOm5J" rel="nofollow">https:&#x2F;&#x2F;www.alibaba.com&#x2F;product-detail&#x2F;IoT-Commercial-People...</a></div><br/></div></div></div></div></div></div><div id="41907914" class="c"><input type="checkbox" id="c-41907914" checked=""/><div class="controls bullet"><span class="by">fullstackchris</span><span>|</span><a href="#41907943">prev</a><span>|</span><a href="#41907826">next</a><span>|</span><label class="collapse" for="c-41907914">[-]</label><label class="expand" for="c-41907914">[4 more]</label></div><br/><div class="children"><div class="content">Love the motivation! Reminds me of the first stuff I built back in my university days.<p>One thing from and old cranky dev that I notice: it would seem the yml you post has redundancies: either have 4 endpoints, no payload or 4 different payloads, one endpoint (the endpoint itself can tell you what you need to do) However, from the express script it looks like you arrived at this in the final solution anyway. Not sure if I missed something though, is there a reason the API needs such a shape? Cheers!</div><br/><div id="41907958" class="c"><input type="checkbox" id="c-41907958" checked=""/><div class="controls bullet"><span class="by">amosesdev</span><span>|</span><a href="#41907914">parent</a><span>|</span><a href="#41907826">next</a><span>|</span><label class="collapse" for="c-41907958">[-]</label><label class="expand" for="c-41907958">[3 more]</label></div><br/><div class="children"><div class="content">Hi! Author here. The yml is from a configuration in Home Assistant. Whenever it received an event from the sensors, it would fire the corresponding POST request (which you have to specify ahead of time, hence the configuration being a little redundant). The main reason for switching to the Express setup is that I was having a few random people look at the code &amp; send their own requests to fudge what the status appeared as. I could have added some security&#x2F;authentication to the endpoints, but I liked the idea of having the frontends simply querying the site (or my proxy) instead of having to cache a POST request.</div><br/><div id="41910921" class="c"><input type="checkbox" id="c-41910921" checked=""/><div class="controls bullet"><span class="by">grahamj</span><span>|</span><a href="#41907914">root</a><span>|</span><a href="#41907958">parent</a><span>|</span><a href="#41907826">next</a><span>|</span><label class="collapse" for="c-41910921">[-]</label><label class="expand" for="c-41910921">[2 more]</label></div><br/><div class="children"><div class="content">You can read and write HA entities via HTTP API so I think you could have done this with nothing but HA, but either way it&#x27;s a fun project :)<p>One of my more fun HA project was scraping my snow removal service&#x27;s tractor tracking API and passing the result for the closest tractor into HA so I can be notified (by voice with Alexa and&#x2F;or push notification) when there&#x27;s one nearby in case I need to move the car.</div><br/><div id="41911531" class="c"><input type="checkbox" id="c-41911531" checked=""/><div class="controls bullet"><span class="by">amosesdev</span><span>|</span><a href="#41907914">root</a><span>|</span><a href="#41910921">parent</a><span>|</span><a href="#41907826">next</a><span>|</span><label class="collapse" for="c-41911531">[-]</label><label class="expand" for="c-41911531">[1 more]</label></div><br/><div class="children"><div class="content">Do you mean outside of the API that I talk about in the article? If I exposed the HA API via the frontend, users would be able to just take the bearer token and do whatever they wanted with it (even deleting the entities used for the doors). That&#x27;s why the express server is sitting in the middle to only expose the relevant information (proxying w&#x2F; the bearer token, which the end users have no access to)</div><br/></div></div></div></div></div></div></div></div><div id="41907826" class="c"><input type="checkbox" id="c-41907826" checked=""/><div class="controls bullet"><span class="by">readthenotes1</span><span>|</span><a href="#41907914">prev</a><span>|</span><a href="#41908655">next</a><span>|</span><label class="collapse" for="c-41907826">[-]</label><label class="expand" for="c-41907826">[2 more]</label></div><br/><div class="children"><div class="content">Scotch tape. Those poor students couldn&#x27;t afford duct tape!</div><br/><div id="41908650" class="c"><input type="checkbox" id="c-41908650" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#41907826">parent</a><span>|</span><a href="#41908655">next</a><span>|</span><label class="collapse" for="c-41908650">[-]</label><label class="expand" for="c-41908650">[1 more]</label></div><br/><div class="children"><div class="content">These are CS students, not MEs.<p>Which is to say, heathens who have yet to accept our lord and savior Duct into their hearts. (And its latter day saint WD-40)</div><br/></div></div></div></div><div id="41908655" class="c"><input type="checkbox" id="c-41908655" checked=""/><div class="controls bullet"><span class="by">davidteather</span><span>|</span><a href="#41907826">prev</a><span>|</span><a href="#41908019">next</a><span>|</span><label class="collapse" for="c-41908655">[-]</label><label class="expand" for="c-41908655">[2 more]</label></div><br/><div class="children"><div class="content">UPL UPL UPL UPL</div><br/><div id="41911342" class="c"><input type="checkbox" id="c-41911342" checked=""/><div class="controls bullet"><span class="by">nicosalm</span><span>|</span><a href="#41908655">parent</a><span>|</span><a href="#41908019">next</a><span>|</span><label class="collapse" for="c-41911342">[-]</label><label class="expand" for="c-41911342">[1 more]</label></div><br/><div class="children"><div class="content">UPL!</div><br/></div></div></div></div><div id="41908019" class="c"><input type="checkbox" id="c-41908019" checked=""/><div class="controls bullet"><span class="by">moralestapia</span><span>|</span><a href="#41908655">prev</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41908019">[-]</label><label class="expand" for="c-41908019">[20 more]</label></div><br/><div class="children"><div class="content">Nice project but it could be illegal. Check your jurisdiction.<p>Source: have done similar hobby projects for fun, which turned out to be illegal.</div><br/><div id="41908064" class="c"><input type="checkbox" id="c-41908064" checked=""/><div class="controls bullet"><span class="by">soggybread</span><span>|</span><a href="#41908019">parent</a><span>|</span><a href="#41908181">next</a><span>|</span><label class="collapse" for="c-41908064">[-]</label><label class="expand" for="c-41908064">[4 more]</label></div><br/><div class="children"><div class="content">What part of this would be illegal? It&#x27;s just a zigbee door sensor. The only issue I could see is the college getting upset but if anything they&#x27;d just say &#x27;take it down&#x27;</div><br/><div id="41908100" class="c"><input type="checkbox" id="c-41908100" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908064">parent</a><span>|</span><a href="#41908181">next</a><span>|</span><label class="collapse" for="c-41908100">[-]</label><label class="expand" for="c-41908100">[3 more]</label></div><br/><div class="children"><div class="content">object detection of people from images is probably what they are referring to. there are maybe some state laws that could be stretched to include that but i would say presumptively legal</div><br/><div id="41908579" class="c"><input type="checkbox" id="c-41908579" checked=""/><div class="controls bullet"><span class="by">ninju</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908100">parent</a><span>|</span><a href="#41908181">next</a><span>|</span><label class="collapse" for="c-41908579">[-]</label><label class="expand" for="c-41908579">[2 more]</label></div><br/><div class="children"><div class="content">The final solution does not depend on object (people) detection.  In fact by the end of the article he has totally eliminated the camera</div><br/><div id="41909173" class="c"><input type="checkbox" id="c-41909173" checked=""/><div class="controls bullet"><span class="by">oniony</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908579">parent</a><span>|</span><a href="#41908181">next</a><span>|</span><label class="collapse" for="c-41909173">[-]</label><label class="expand" for="c-41909173">[1 more]</label></div><br/><div class="children"><div class="content">Doors have rights too!</div><br/></div></div></div></div></div></div></div></div><div id="41908181" class="c"><input type="checkbox" id="c-41908181" checked=""/><div class="controls bullet"><span class="by">alexchantavy</span><span>|</span><a href="#41908019">parent</a><span>|</span><a href="#41908064">prev</a><span>|</span><a href="#41908090">next</a><span>|</span><label class="collapse" for="c-41908181">[-]</label><label class="expand" for="c-41908181">[2 more]</label></div><br/><div class="children"><div class="content">Bunch of restaurants use those fancy Nest cams that remember faces. Is this illegal too? Feels like it should be controlled in some way.</div><br/><div id="41908243" class="c"><input type="checkbox" id="c-41908243" checked=""/><div class="controls bullet"><span class="by">moralestapia</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908181">parent</a><span>|</span><a href="#41908090">next</a><span>|</span><label class="collapse" for="c-41908243">[-]</label><label class="expand" for="c-41908243">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Feels like it should be controlled in some way.<p>It is. Check your jurisdiction.</div><br/></div></div></div></div><div id="41908090" class="c"><input type="checkbox" id="c-41908090" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#41908019">parent</a><span>|</span><a href="#41908181">prev</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41908090">[-]</label><label class="expand" for="c-41908090">[13 more]</label></div><br/><div class="children"><div class="content">this isn&#x27;t facial recognition</div><br/><div id="41908245" class="c"><input type="checkbox" id="c-41908245" checked=""/><div class="controls bullet"><span class="by">moralestapia</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908090">parent</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41908245">[-]</label><label class="expand" for="c-41908245">[12 more]</label></div><br/><div class="children"><div class="content">???<p>Who&#x27;s talking about that?</div><br/><div id="41908287" class="c"><input type="checkbox" id="c-41908287" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908245">parent</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41908287">[-]</label><label class="expand" for="c-41908287">[11 more]</label></div><br/><div class="children"><div class="content">why would it be illegal?</div><br/><div id="41908305" class="c"><input type="checkbox" id="c-41908305" checked=""/><div class="controls bullet"><span class="by">moralestapia</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908287">parent</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41908305">[-]</label><label class="expand" for="c-41908305">[10 more]</label></div><br/><div class="children"><div class="content">Generally, you cannot just record people without their consent; but this also largely depends on the jurisdiction&#x2F;situation.<p>Almost nowhere (or actually nowhere?) are you allowed to set up a surveillance device into a space that is not public and it is not owned by you.</div><br/><div id="41908352" class="c"><input type="checkbox" id="c-41908352" checked=""/><div class="controls bullet"><span class="by">packetlost</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908305">parent</a><span>|</span><a href="#41909556">next</a><span>|</span><label class="collapse" for="c-41908352">[-]</label><label class="expand" for="c-41908352">[7 more]</label></div><br/><div class="children"><div class="content">Public university labs are generally public as they&#x27;re state property (in this particular case, UW Madison is a public state University). Further, recording video or pictures of people in public places is broadly legal in the US. There are only &quot;presumption of privacy&quot; restrictions which apply to places such as bathrooms and private property that is not visible from a public location (ex. a sidewalk).<p>Obv. IANAL and this is not legal advice.</div><br/><div id="41908697" class="c"><input type="checkbox" id="c-41908697" checked=""/><div class="controls bullet"><span class="by">almostgotcaught</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908352">parent</a><span>|</span><a href="#41908418">next</a><span>|</span><label class="collapse" for="c-41908697">[-]</label><label class="expand" for="c-41908697">[2 more]</label></div><br/><div class="children"><div class="content">By this logic the dorm room bathrooms at public universities are also public and I should be able to setup cameras &#x2F;s</div><br/><div id="41909626" class="c"><input type="checkbox" id="c-41909626" checked=""/><div class="controls bullet"><span class="by">ozzmotik</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908697">parent</a><span>|</span><a href="#41908418">next</a><span>|</span><label class="collapse" for="c-41909626">[-]</label><label class="expand" for="c-41909626">[1 more]</label></div><br/><div class="children"><div class="content">just for the sake of conversationâ¦<p>if you did, where would you have set them up at anyway? 
Asking for a friend</div><br/></div></div></div></div><div id="41908418" class="c"><input type="checkbox" id="c-41908418" checked=""/><div class="controls bullet"><span class="by">moralestapia</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908352">parent</a><span>|</span><a href="#41908697">prev</a><span>|</span><a href="#41909556">next</a><span>|</span><label class="collapse" for="c-41908418">[-]</label><label class="expand" for="c-41908418">[4 more]</label></div><br/><div class="children"><div class="content">&gt;Public university labs are generally public as they&#x27;re state property<p>Wrong. They&#x27;re state property, you even wrote it there.<p>&gt;Obv. IANAL<p>Obv.</div><br/><div id="41910780" class="c"><input type="checkbox" id="c-41910780" checked=""/><div class="controls bullet"><span class="by">icehawk</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908418">parent</a><span>|</span><a href="#41909201">next</a><span>|</span><label class="collapse" for="c-41910780">[-]</label><label class="expand" for="c-41910780">[1 more]</label></div><br/><div class="children"><div class="content">And thus they&#x27;d fall under the legal definition of public: &quot;Under the authority of the government or belonging and available to the people.&quot;<p>or<p>&quot;of or relating to a government&quot;</div><br/></div></div><div id="41909201" class="c"><input type="checkbox" id="c-41909201" checked=""/><div class="controls bullet"><span class="by">jrflowers</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908418">parent</a><span>|</span><a href="#41910780">prev</a><span>|</span><a href="#41908611">next</a><span>|</span><label class="collapse" for="c-41909201">[-]</label><label class="expand" for="c-41909201">[1 more]</label></div><br/><div class="children"><div class="content">This reasoning makes sense. Roads and parks arenât public, as they are city property. âPublicâ is only when something has no legal owner, like the moon and stars, or love.</div><br/></div></div><div id="41908611" class="c"><input type="checkbox" id="c-41908611" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908418">parent</a><span>|</span><a href="#41909201">prev</a><span>|</span><a href="#41909556">next</a><span>|</span><label class="collapse" for="c-41908611">[-]</label><label class="expand" for="c-41908611">[1 more]</label></div><br/><div class="children"><div class="content">what do you think public mean, they have to belong to Mr. P. Ublic?</div><br/></div></div></div></div></div></div><div id="41909556" class="c"><input type="checkbox" id="c-41909556" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41908305">parent</a><span>|</span><a href="#41908352">prev</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41909556">[-]</label><label class="expand" for="c-41909556">[2 more]</label></div><br/><div class="children"><div class="content">Generally, in the United States, you can, in fact, just record people.  Legally speaking, that is, which doesn&#x27;t make it a polite or cool thing to do.  Necessarily.<p>If you&#x27;re on someone else&#x27;s property, they can of course set any number of rules, and trespass those who break those rules.  But even there, recording people, if against the rules, is still not a crime.  The crime is trespass, if this journalist we&#x27;re speaking of sticks around after being trespassed off the property.</div><br/><div id="41909785" class="c"><input type="checkbox" id="c-41909785" checked=""/><div class="controls bullet"><span class="by">moralestapia</span><span>|</span><a href="#41908019">root</a><span>|</span><a href="#41909556">parent</a><span>|</span><a href="#41908587">next</a><span>|</span><label class="collapse" for="c-41909785">[-]</label><label class="expand" for="c-41909785">[1 more]</label></div><br/><div class="children"><div class="content">Good one, champ!<p>Meanwhile in reality: <a href="https:&#x2F;&#x2F;leginfo.legislature.ca.gov&#x2F;faces&#x2F;codes_displayText.xhtml?chapter=1.5.&amp;part=1.&amp;lawCode=PEN&amp;title=15" rel="nofollow">https:&#x2F;&#x2F;leginfo.legislature.ca.gov&#x2F;faces&#x2F;codes_displayText.x...</a>.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>