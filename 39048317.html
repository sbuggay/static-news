<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705654852974" as="style"/><link rel="stylesheet" href="styles.css?v=1705654852974"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://gds.blog.gov.uk/2024/01/17/how-we-migrated-our-postgresql-database-with-11-seconds-downtime/">We migrated our PostgreSQL database with 11 seconds downtime</a> <span class="domain">(<a href="https://gds.blog.gov.uk">gds.blog.gov.uk</a>)</span></div><div class="subtext"><span>sh_tomer</span> | <span>147 comments</span></div><br/><div><div id="39049904" class="c"><input type="checkbox" id="c-39049904" checked=""/><div class="controls bullet"><span class="by">Ozzie_osman</span><span>|</span><a href="#39049425">next</a><span>|</span><label class="collapse" for="c-39049904">[-]</label><label class="expand" for="c-39049904">[16 more]</label></div><br/><div class="children"><div class="content">We did a similar migration (somewhat larger database) with ~20 seconds of downtime and much less work... using the magic of AWS RDS Blue-Green Deployments [1]. Surprised they aren&#x27;t mentioned in the thread yet.<p>Basically, you spin up a new Blue Green deployment with any desired changes (in our case, we were upgrading Postgres major from 13 to 15). While your blue configuration continues to serve traffic, AWS uses logical replication to keep the &quot;green&quot; deployment in-sync. You can keep modifying (or testing) the &quot;green&quot; deployment (eg you could load test it if you wanted to), as long as you don&#x27;t do any writes to it (writes still have to go to your live, blue configuration, and are replicated to green).<p>When you&#x27;re ready, you run the &quot;switch&quot; command, and AWS does a few things for you: run checks to ensure blue&#x2F;green are in sync, stops writes and connections, waits a few seconds to ensure replication is caught up, renames your database, then allows connections&#x2F;writes again. We had less than 20 seconds of downtime, by our count. And, we had a primary and several read replicas and AWS successfully switched the full configuration over with no hiccups. You don&#x27;t even need to switch your configuration because AWS swaps the database URLs for you. Green becomes blue, blue becomes old blue, and when you&#x27;re ready, you delete &quot;old blue&quot;.<p>Highly recommend! They do have some restrictions (for instance, not sure if it would work if you&#x27;re switching accounts, etc).<p>1. <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonRDS&#x2F;latest&#x2F;UserGuide&#x2F;blue-green-deployments.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonRDS&#x2F;latest&#x2F;UserGuide&#x2F;blue-...</a></div><br/><div id="39050761" class="c"><input type="checkbox" id="c-39050761" checked=""/><div class="controls bullet"><span class="by">cljacoby</span><span>|</span><a href="#39049904">parent</a><span>|</span><a href="#39050040">next</a><span>|</span><label class="collapse" for="c-39050761">[-]</label><label class="expand" for="c-39050761">[5 more]</label></div><br/><div class="children"><div class="content">I also used RDS Blue&#x2F;Green deployment to apply a MySQL major engine version upgrade from 5.7 to 8.0. With respect to downtime it worked fantastically, I think we measured 13 seconds of observable downtime from the API.<p>However we did learn the hard way that RDS Blue&#x2F;Green cannot be used to apply arbitrary changes. In our case, we discovered RDS Blue&#x2F;Green can only be used to move up engine versions, not down.<p>We discovered on MySQL 8.0 one of our stored procedures had very occasional failures, and considered the option of using RDS Blue&#x2F;Green again to move back down to 5.7. Turns out that&#x27;s not an option.</div><br/><div id="39052373" class="c"><input type="checkbox" id="c-39052373" checked=""/><div class="controls bullet"><span class="by">0xbadcafebee</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39050761">parent</a><span>|</span><a href="#39051217">next</a><span>|</span><label class="collapse" for="c-39052373">[-]</label><label class="expand" for="c-39052373">[3 more]</label></div><br/><div class="children"><div class="content">Database changes are typically one-way. If your new change includes creating or modifying a table, such that there are new additional columns, and you populate those with data, then downgrading would destroy the changed columns and the data in them. Hence you can&#x27;t downgrade once you upgrade or you&#x27;d potentially be breaking things. To downgrade safely you&#x27;d need to backup or snapshot the old database, and then restore your database back to the backup&#x2F;snapshot, but that&#x27;s not blue&#x2F;green.</div><br/><div id="39052667" class="c"><input type="checkbox" id="c-39052667" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39052373">parent</a><span>|</span><a href="#39051217">next</a><span>|</span><label class="collapse" for="c-39052667">[-]</label><label class="expand" for="c-39052667">[2 more]</label></div><br/><div class="children"><div class="content">DB schema migration script frameworks (at least in Python, Ruby &amp; Java lands) do typically support both upgrade and downgrade directions. People skip implementing  and testing the downgrade side if the development model doesn&#x27;t need it but the problem of what happens to the data is controlled by what you put in the &quot;down&quot; migration script.<p>I&#x27;d guess if you can&#x27;t throw the data away, you won&#x27;t do a down migration, you&#x27;ll do an up migration that changes the db to save that data in your preferred way before undoing or reworking the previous schema change.</div><br/><div id="39052869" class="c"><input type="checkbox" id="c-39052869" checked=""/><div class="controls bullet"><span class="by">yellowsir</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39052667">parent</a><span>|</span><a href="#39051217">next</a><span>|</span><label class="collapse" for="c-39052869">[-]</label><label class="expand" for="c-39052869">[1 more]</label></div><br/><div class="children"><div class="content">but now you have 2 up paths. and migrations are critical, i would avoid it where possible!</div><br/></div></div></div></div></div></div><div id="39051217" class="c"><input type="checkbox" id="c-39051217" checked=""/><div class="controls bullet"><span class="by">Mavvie</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39050761">parent</a><span>|</span><a href="#39052373">prev</a><span>|</span><a href="#39050040">next</a><span>|</span><label class="collapse" for="c-39051217">[-]</label><label class="expand" for="c-39051217">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if that could be because MySQL 8&#x27;s replication is backwards compatible but MySQL 5.7&#x27;s isn&#x27;t forwards compatible. If so, it makes sense that you&#x27;re only able to move forward.</div><br/></div></div></div></div><div id="39050040" class="c"><input type="checkbox" id="c-39050040" checked=""/><div class="controls bullet"><span class="by">sgarland</span><span>|</span><a href="#39049904">parent</a><span>|</span><a href="#39050761">prev</a><span>|</span><a href="#39050337">next</a><span>|</span><label class="collapse" for="c-39050040">[-]</label><label class="expand" for="c-39050040">[2 more]</label></div><br/><div class="children"><div class="content">+1 for B&#x2F;G. That said, I imagine they couldn’t use it due to the cross-account shift. I’ve used it for both MySQL (with much higher QPS than TFA, by two orders of magnitude) and Postgres, and they both went flawlessly.<p>Read the docs, especially the limitations. Re-read them. Do a test run in the dev environment, under load. Do it again in staging.<p>Or just YOLO into prod ‘cause it’ll probably be fine, I guess.</div><br/><div id="39050205" class="c"><input type="checkbox" id="c-39050205" checked=""/><div class="controls bullet"><span class="by">Ozzie_osman</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39050040">parent</a><span>|</span><a href="#39050337">next</a><span>|</span><label class="collapse" for="c-39050205">[-]</label><label class="expand" for="c-39050205">[1 more]</label></div><br/><div class="children"><div class="content">We definitely did a dry run with a parity configuration a couple nights before. It gave us a lot more confidence.</div><br/></div></div></div></div><div id="39050337" class="c"><input type="checkbox" id="c-39050337" checked=""/><div class="controls bullet"><span class="by">troublebucket</span><span>|</span><a href="#39049904">parent</a><span>|</span><a href="#39050040">prev</a><span>|</span><a href="#39051670">next</a><span>|</span><label class="collapse" for="c-39050337">[-]</label><label class="expand" for="c-39050337">[4 more]</label></div><br/><div class="children"><div class="content">Has anyone encrypted the storage on a previously unencrypted RDS using Blue&#x2F;Green?</div><br/><div id="39051207" class="c"><input type="checkbox" id="c-39051207" checked=""/><div class="controls bullet"><span class="by">wisosim</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39050337">parent</a><span>|</span><a href="#39050487">next</a><span>|</span><label class="collapse" for="c-39051207">[-]</label><label class="expand" for="c-39051207">[1 more]</label></div><br/><div class="children"><div class="content">We did the exact thing not too long ago, but we couldn&#x27;t do it using blue&#x2F;green. We were able to minimize downtime quite a bit, but it was on the order of minutes, not seconds. I wrote a little bit about the process here. I spent a lot of time prepping and running the migration, so happy to share any details if it&#x27;s helpful.<p><a href="https:&#x2F;&#x2F;phizzle.space&#x2F;dbadmin&#x2F;aws&#x2F;postgres&#x2F;2023&#x2F;12&#x2F;30&#x2F;rds-encryption-migration.html" rel="nofollow">https:&#x2F;&#x2F;phizzle.space&#x2F;dbadmin&#x2F;aws&#x2F;postgres&#x2F;2023&#x2F;12&#x2F;30&#x2F;rds-en...</a></div><br/></div></div><div id="39050487" class="c"><input type="checkbox" id="c-39050487" checked=""/><div class="controls bullet"><span class="by">d1str0</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39050337">parent</a><span>|</span><a href="#39051207">prev</a><span>|</span><a href="#39050581">next</a><span>|</span><label class="collapse" for="c-39050487">[-]</label><label class="expand" for="c-39050487">[1 more]</label></div><br/><div class="children"><div class="content">Good question. This was a pain point for my small team (me, myself, and I) a little while back. We had an unencrypted db deployed with CDK, and then tried to get it encrypted without losing data.</div><br/></div></div><div id="39050581" class="c"><input type="checkbox" id="c-39050581" checked=""/><div class="controls bullet"><span class="by">bgschulman31</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39050337">parent</a><span>|</span><a href="#39050487">prev</a><span>|</span><a href="#39051670">next</a><span>|</span><label class="collapse" for="c-39050581">[-]</label><label class="expand" for="c-39050581">[1 more]</label></div><br/><div class="children"><div class="content">We recently did this on my team over Christmas this year. We opted not to use Blue&#x2F;Green for this but instead spun up an encrypted snapshot and began replication from the old database to the new database using MySQL’s tools. Once traffic on our platform was sufficiently low, we cut connections to the database, waited for for replica lag to reach 0 and relaunch the servers with the new databases host info. Our downtime was around a minute.</div><br/></div></div></div></div><div id="39051670" class="c"><input type="checkbox" id="c-39051670" checked=""/><div class="controls bullet"><span class="by">yeswecatan</span><span>|</span><a href="#39049904">parent</a><span>|</span><a href="#39050337">prev</a><span>|</span><a href="#39050791">next</a><span>|</span><label class="collapse" for="c-39051670">[-]</label><label class="expand" for="c-39051670">[3 more]</label></div><br/><div class="children"><div class="content">How did you go about stopping and restarting applications which reach out to the database? We have a number of tasks running in ECS which can take a minute to spin down and a few minutes to spin back up.</div><br/><div id="39052677" class="c"><input type="checkbox" id="c-39052677" checked=""/><div class="controls bullet"><span class="by">todd3834</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39051670">parent</a><span>|</span><a href="#39052273">next</a><span>|</span><label class="collapse" for="c-39052677">[-]</label><label class="expand" for="c-39052677">[1 more]</label></div><br/><div class="children"><div class="content">You aren’t supposed to have to change anything in the application code. The same database URL should work.</div><br/></div></div><div id="39052273" class="c"><input type="checkbox" id="c-39052273" checked=""/><div class="controls bullet"><span class="by">ThePowerOfFuet</span><span>|</span><a href="#39049904">root</a><span>|</span><a href="#39051670">parent</a><span>|</span><a href="#39052677">prev</a><span>|</span><a href="#39050791">next</a><span>|</span><label class="collapse" for="c-39052273">[-]</label><label class="expand" for="c-39052273">[1 more]</label></div><br/><div class="children"><div class="content">Presumably you don&#x27;t stop them, and they throw errors during the cutover.</div><br/></div></div></div></div></div></div><div id="39049425" class="c"><input type="checkbox" id="c-39049425" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#39049904">prev</a><span>|</span><a href="#39049108">next</a><span>|</span><label class="collapse" for="c-39049425">[-]</label><label class="expand" for="c-39049425">[1 more]</label></div><br/><div class="children"><div class="content">There are various ways to &#x27;pause&#x27; incoming postgres queries, for example using pgbouncer, - ie. don&#x27;t fail them, simply delay them until the replication has caught up and then let them continue on the new database.<p>If anything goes wrong and replication doesn&#x27;t catch up, you can unpause and let those queries happen on the old database.<p>Therefore, your 11 seconds of downtime becomes 0 to 11 seconds of added page load time.   But more importantly, of the thousands of users of the database who have never seen a query fail before and might have buggy error handling codepaths or have a single failed query ruin a whole batch job, this approach leads to a lot less collateral damage.</div><br/></div></div><div id="39049108" class="c"><input type="checkbox" id="c-39049108" checked=""/><div class="controls bullet"><span class="by">mbb70</span><span>|</span><a href="#39049425">prev</a><span>|</span><a href="#39052676">next</a><span>|</span><label class="collapse" for="c-39049108">[-]</label><label class="expand" for="c-39049108">[6 more]</label></div><br/><div class="children"><div class="content">Interesting to compare this to <a href="https:&#x2F;&#x2F;knock.app&#x2F;blog&#x2F;zero-downtime-postgres-upgrades" rel="nofollow">https:&#x2F;&#x2F;knock.app&#x2F;blog&#x2F;zero-downtime-postgres-upgrades</a> discussed here <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38616181">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38616181</a><p>A lot of the discussion boiled down to &#x27;this is a lot of complexity to avoid a few minutes of downtime&#x27;. I guess this is the proof, just use AWS Data Migration Service, swap the DNS entries to go live and live with 11 seconds of downtime.</div><br/><div id="39049131" class="c"><input type="checkbox" id="c-39049131" checked=""/><div class="controls bullet"><span class="by">ris</span><span>|</span><a href="#39049108">parent</a><span>|</span><a href="#39049294">next</a><span>|</span><label class="collapse" for="c-39049131">[-]</label><label class="expand" for="c-39049131">[2 more]</label></div><br/><div class="children"><div class="content">There is no &quot;just&quot; about it. The absolute key takeaway is in &quot;what we learned&quot;:<p>&gt; We chose to use DMS because it was well supported by the GOV.UK PaaS and we could also get support from AWS. If we were doing a PostgreSQL to PostgreSQL database migration in the future, we would invest more time in trying alternative tools such as pglogical. DMS potentially added more complexity, and an unfamiliar replication process than what we may have found with other tools. This backs up what AWS say themselves on PostgreSQL to PostgreSQL migrations.<p>The message here is <i>not</i> &quot;just use DMS&quot;.</div><br/><div id="39050460" class="c"><input type="checkbox" id="c-39050460" checked=""/><div class="controls bullet"><span class="by">T-Winsnes</span><span>|</span><a href="#39049108">root</a><span>|</span><a href="#39049131">parent</a><span>|</span><a href="#39049294">next</a><span>|</span><label class="collapse" for="c-39050460">[-]</label><label class="expand" for="c-39050460">[1 more]</label></div><br/><div class="children"><div class="content">Even AWS in their own docs says to use the native tools when migrating from postgres to postgres[1]. They don&#x27;t go into the details to much and points to pg_dump rather than pg_logical, but interesting to see that they don&#x27;t recommend using DMS for it<p>[1] <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;dms&#x2F;latest&#x2F;userguide&#x2F;CHAP_Source.PostgreSQL.html#CHAP_Source.PostgreSQL.Homogeneous" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;dms&#x2F;latest&#x2F;userguide&#x2F;CHAP_Source...</a></div><br/></div></div></div></div><div id="39049294" class="c"><input type="checkbox" id="c-39049294" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#39049108">parent</a><span>|</span><a href="#39049131">prev</a><span>|</span><a href="#39049421">next</a><span>|</span><label class="collapse" for="c-39049294">[-]</label><label class="expand" for="c-39049294">[1 more]</label></div><br/><div class="children"><div class="content">Has anyone used <a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;database-migration&#x2F;docs&#x2F;postgres&#x2F;quickstart" rel="nofollow">https:&#x2F;&#x2F;cloud.google.com&#x2F;database-migration&#x2F;docs&#x2F;postgres&#x2F;qu...</a> to do something like this? Does it work similarly to AWS DMS?</div><br/></div></div><div id="39049421" class="c"><input type="checkbox" id="c-39049421" checked=""/><div class="controls bullet"><span class="by">postpawl</span><span>|</span><a href="#39049108">parent</a><span>|</span><a href="#39049294">prev</a><span>|</span><a href="#39052676">next</a><span>|</span><label class="collapse" for="c-39049421">[-]</label><label class="expand" for="c-39049421">[2 more]</label></div><br/><div class="children"><div class="content">There are a lot of gotchas with using DMS (which seems to use pglogical under the hood). Since it’s not hardware-level replication, you can run into issues with large rows&#x2F;columns&#x2F;tables and it doesn’t really handle foreign keys. It may not handle some special data types at all. You also need to update the sequences after the migration or you’ll get errors about duplicate primary keys. You can also have issues if you don’t have proper primary keys, because it doesn’t always copy the entire row at once.<p>If the databases are within the same AWS account, it’s likely easier to use hardware-level replication with global database or snapshots to do migrations if you’re ok with 4-5 mins of downtime.</div><br/><div id="39052383" class="c"><input type="checkbox" id="c-39052383" checked=""/><div class="controls bullet"><span class="by">Twisell</span><span>|</span><a href="#39049108">root</a><span>|</span><a href="#39049421">parent</a><span>|</span><a href="#39052676">next</a><span>|</span><label class="collapse" for="c-39052383">[-]</label><label class="expand" for="c-39052383">[1 more]</label></div><br/><div class="children"><div class="content">There are many options available with PostgreSQL you could also do a physical full backup + WAL level replication to keep key AND a get low downtime.<p>What might have oriented theirs choice is that they wanted to upgrade from major version 11 to 15 during the migration process. This is only available using logical replication. Otherwise you&#x27;d have to chain upgrade process of each major version (and possibly OS because 11 is EOL on some arch) and this is nor trivial nor quick.</div><br/></div></div></div></div></div></div><div id="39052676" class="c"><input type="checkbox" id="c-39052676" checked=""/><div class="controls bullet"><span class="by">pedrokost</span><span>|</span><a href="#39049108">prev</a><span>|</span><a href="#39050202">next</a><span>|</span><label class="collapse" for="c-39052676">[-]</label><label class="expand" for="c-39052676">[1 more]</label></div><br/><div class="children"><div class="content">We recently completed the migration of a self-hosted 3 TB PostgreSQL database from version 12 to 16, transitioning from Ubuntu 18 to Ubuntu 22. Concurrently, we had to upgrade various extensions, most notably Timescale, for which a compatible version did not exist across all scenarios. We performed the upgrade by updating a replica in the following sequence:<p>- Start: PG12, Ubuntu 18, TS2.9<p>- Step 1: Set up a read-only replica with PG12 on Ubuntu 22, maintaining TS2.9.<p>- Step 1.5: Enter maintenance mode and halt all services.<p>- Step 2: Detach the the read-only replica, upgrading from PG12 to PG15 on Ubuntu 22 with TS2.9.<p>- Step 3: Upgrade from PG15 with TS2.9 to TS2.13 on Ubuntu 22.<p>- Step 4: Upgrade from PG15 to PG16 on Ubuntu 22 with TS2.13.<p>- Step 4.5 : Reconnect services to the new database server, resume all services, and exit maintenance mode.<p>All the database upgrade steps were well-tested and automated using Ansible. Nonetheless, we did encounter an issue that had not arisen during testing. This extended our downtime to approximately half an hour, which, for our use case, was perfectly acceptable.<p>Employing logical replication could have mitigated the last-minute surprise. So we will consider this approach for our next upgrade cycle.</div><br/></div></div><div id="39050202" class="c"><input type="checkbox" id="c-39050202" checked=""/><div class="controls bullet"><span class="by">efxhoy</span><span>|</span><a href="#39052676">prev</a><span>|</span><a href="#39052241">next</a><span>|</span><label class="collapse" for="c-39050202">[-]</label><label class="expand" for="c-39050202">[1 more]</label></div><br/><div class="children"><div class="content">Lovely! We just migrated from postgres 14 to 16 for 3 postgres clusters (servers) on RDS containing about 2TB of data across 8 databases. We were down from 00:00 to 04:00. Steps we took:<p><pre><code>  * enabled our fallback &quot;maintenance mode&quot; site. It&#x27;s a super lightweight version of our site running on CF workers.
  * scaled down all apps using the db to 0 in terraform
  * hit the upgrade button in the aws web ui, which runs pg_upgrade. 14-&gt;15
  * waited for it to finish
  * hit the upgrade button again. 15-&gt;16
  * waited for the dbs to start accepting connections (they do before they&#x27;re marked as ready, I think aws does more stuff than pg_upgrade)
  * Started `VACUUM ANALYZE; REINDEX DATABASE CONCURRENTLY`. The idea is to avoid performance issues between versions and make use of performance improvements from new versions.
  * Started spinning up the apps again
  * Waited until all apps had a handful of containers running
  * Started accepting traffic (disabled maintenance site)
  * Went to bed
</code></pre>
The REINDEX CONCURRENTLY happily chugged along for the biggest db for another 18 hours without blocking anything. Next time we&#x27;re doing aws blue&#x2F;green deploys to avoid downtime. We didn&#x27;t this time since we weren&#x27;t on 14.9 yet (the minimum minor version of 14 supported by blue green).<p>If I was doing this myself I wouldn&#x27;t pay the AWS tax, instead do blue&#x2F;green myself with logical replication and a load balancer.</div><br/></div></div><div id="39052241" class="c"><input type="checkbox" id="c-39052241" checked=""/><div class="controls bullet"><span class="by">ryandv</span><span>|</span><a href="#39050202">prev</a><span>|</span><a href="#39049937">next</a><span>|</span><label class="collapse" for="c-39052241">[-]</label><label class="expand" for="c-39052241">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve also used DMS to migrate smaller datasets (~200GB) from AWS RDS MySQL 5.7 to RDS PostgreSQL 11. 10 seconds of downtime here was actually incurred not due to the migration itself, but to enable MySQL binary logging on the RDS instance, which requires a restart, and which AWS DMS uses to replicate changes from the replication source (MySQL) to the target (PostgreSQL).<p>Traffic was steered to the new PostgreSQL instance not with DNS&#x2F;Route 53 weighted records, but an application-level percentage enroller (based on user ID). Our particular set-up did in fact have apps talking to both databases simultaneously, each with a percentage share of traffic, and so we did not need to incur additional downtime to cut off traffic to the original source database - though now you do have to worry about eventual consistency.<p>I wouldn&#x27;t recommend using their Schema Conversion Tool. We instead migrated the data as 1-to-1 as possible into the PostgreSQL target table, and then used plpgsql triggers on the replication target table to clean&#x2F;validate the data and write it to another table with our desired (and more strongly typed - no more storing JSON as TEXT) schema.<p>There were also some issues with the replication task seeming to stall and stop during the change data capture (CDC) phase. As mentioned support is kind of spotty in this area, though we learned it may have to do with sizing the DMS replication instance correctly.</div><br/></div></div><div id="39049937" class="c"><input type="checkbox" id="c-39049937" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#39052241">prev</a><span>|</span><a href="#39049447">next</a><span>|</span><label class="collapse" for="c-39049937">[-]</label><label class="expand" for="c-39049937">[4 more]</label></div><br/><div class="children"><div class="content">&gt; The second change was to create a DNS record in AWS Route53 for `database.notifications.service.gov.uk` with a 1 second TTL (time to live) [..]  our migration script just needed to update the DNS weighting in AWS to 100% of results being sent to the target database location and wait 1 second for the TTL to expire. Then, when our apps next try to query our database they will be querying our target database.<p>Wait. Their (or Python&#x27;s default?) db orm blocks while it performs a DNS lookup for each and every query!? It doesn&#x27;t cache resolved addresses for <i>any</i> length of time? No connections are pooled and reused?</div><br/><div id="39051377" class="c"><input type="checkbox" id="c-39051377" checked=""/><div class="controls bullet"><span class="by">necovek</span><span>|</span><a href="#39049937">parent</a><span>|</span><a href="#39049447">next</a><span>|</span><label class="collapse" for="c-39051377">[-]</label><label class="expand" for="c-39051377">[3 more]</label></div><br/><div class="children"><div class="content">It would probably be the OS&#x27; `getaddrinfo` or `gethostname` that does this: Python rarely reimplements system level calls, which means it relies on the system&#x27;s configuration.<p>If TTL of 1s was respected, they would be cached for 1s, but it&#x27;s not uncommon for DNS query libraries and especially caching DNS servers to not fully respect TTL anyway: tbh, that might explain some of the downtime they&#x27;ve seen.</div><br/><div id="39051452" class="c"><input type="checkbox" id="c-39051452" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#39049937">root</a><span>|</span><a href="#39051377">parent</a><span>|</span><a href="#39049447">next</a><span>|</span><label class="collapse" for="c-39051452">[-]</label><label class="expand" for="c-39051452">[2 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t mean it was directly implementing the networking call to the dns server -- just that it wasn&#x27;t directly caching the result.<p>getaddrinfo(3) and getnameinfo(3) (guessing that&#x27;s what you meant) don&#x27;t implement caching, at least not explicitly in the spec and not normally in practice. On Windows, DNS results are cached by the OS but on Linux that would be distro-dependent behavior and usually requires setting up a local caching dns server (Ubuntu uses unbound out-of-the-box, iirc. Other choices include ncsd and dnsmasq).<p>Even if they implemented caching at the syscall level, this still assumes no connection stays open for more than 1s or is reused except per query. It seems like a big assumption (at least I <i>hope</i> it is, because I certainly wouldn&#x27;t want my app to initialize a new db connection, let alone perform a DNS lookup, for every query).</div><br/><div id="39052082" class="c"><input type="checkbox" id="c-39052082" checked=""/><div class="controls bullet"><span class="by">juggertao</span><span>|</span><a href="#39049937">root</a><span>|</span><a href="#39051452">parent</a><span>|</span><a href="#39049447">next</a><span>|</span><label class="collapse" for="c-39052082">[-]</label><label class="expand" for="c-39052082">[1 more]</label></div><br/><div class="children"><div class="content">They mentioned they had a script which terminated all connections to the old database then changed the password.<p>But on the app side you typically don&#x27;t cache DNS, that creates other problems like stale DNS.</div><br/></div></div></div></div></div></div></div></div><div id="39049447" class="c"><input type="checkbox" id="c-39049447" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#39049937">prev</a><span>|</span><a href="#39052182">next</a><span>|</span><label class="collapse" for="c-39049447">[-]</label><label class="expand" for="c-39049447">[8 more]</label></div><br/><div class="children"><div class="content">Note that the enemy of low&#x2F;zero downtime migrations like this is long running queries.<p>Ie. a single update query which takes 30 mins.<p>You either have to kill and roll back that query, or suffer 30 mins of unavailability.<p>As far as I know, there is no way to migrate a currently in progress query.</div><br/><div id="39051420" class="c"><input type="checkbox" id="c-39051420" checked=""/><div class="controls bullet"><span class="by">necovek</span><span>|</span><a href="#39049447">parent</a><span>|</span><a href="#39052663">next</a><span>|</span><label class="collapse" for="c-39051420">[-]</label><label class="expand" for="c-39051420">[1 more]</label></div><br/><div class="children"><div class="content">For a software engineering project, you probably want to limit your transactions to much less than that (set statement_timeout is your friend).  If you&#x27;ve got extremely long transactions, you can probably avoid doing the switch-over when they run (hopefully they are not a random occurrence but a result of a scheduled job or similar).<p>In combination with transaction time limit and fail-over configuration (where you fail the old primary), you can control the slowdown (instead of downtime, eg. with pgbouncer) very precisely.<p>I would be more concerned with the DNS TTL being respected in the entire stack (and external caching DNS servers you rely on), tbh.<p>But it is usually not critical to avoid a dozen seconds of downtime for an app, so whatever is simpler for you should be your go to solution.</div><br/></div></div><div id="39052663" class="c"><input type="checkbox" id="c-39052663" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39049447">parent</a><span>|</span><a href="#39051420">prev</a><span>|</span><a href="#39050132">next</a><span>|</span><label class="collapse" for="c-39052663">[-]</label><label class="expand" for="c-39052663">[3 more]</label></div><br/><div class="children"><div class="content">Well you’ve certainly introduced a teaching moment to me! What are the nature of writes you deal with that last 30+ minutes? What kind of data&#x2F;what kind of people are involved with such DB writes where you need to rely on the DB engine to work so hard instead of something more split up by queues at a higher layer?</div><br/><div id="39053053" class="c"><input type="checkbox" id="c-39053053" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#39049447">root</a><span>|</span><a href="#39052663">parent</a><span>|</span><a href="#39053025">next</a><span>|</span><label class="collapse" for="c-39053053">[-]</label><label class="expand" for="c-39053053">[1 more]</label></div><br/><div class="children"><div class="content">Postgres queries are streaming.  Ie. If the query result has 1 billion rows, but the client only has enough ram for 1 million rows, then the query will be slowed down until the client is ready to accept more rows.<p>If the client is slowly processing through the result set, then the query can take many minutes&#x2F;hours.</div><br/></div></div><div id="39053025" class="c"><input type="checkbox" id="c-39053025" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#39049447">root</a><span>|</span><a href="#39052663">parent</a><span>|</span><a href="#39053053">prev</a><span>|</span><a href="#39050132">next</a><span>|</span><label class="collapse" for="c-39053025">[-]</label><label class="expand" for="c-39053025">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s usually badly engineered things.   However, just because it&#x27;s badly engineered doesn&#x27;t mean it&#x27;s fine for it to break :-P<p>Things like a super complex n^3 complexity query to find all users who were 3 hops away from a known fraudster, where a &#x27;hop&#x27; means &#x27;shared any piece of account data in common&#x27;</div><br/></div></div></div></div><div id="39050132" class="c"><input type="checkbox" id="c-39050132" checked=""/><div class="controls bullet"><span class="by">Amezarak</span><span>|</span><a href="#39049447">parent</a><span>|</span><a href="#39052663">prev</a><span>|</span><a href="#39052182">next</a><span>|</span><label class="collapse" for="c-39050132">[-]</label><label class="expand" for="c-39050132">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s hard for me personally to imagine a 30-minute update query that is not written extremely inefficiently, or else a one-time huge data migration.<p>There are a lot of the former in the wild to be sure. I&#x27;ve had a lot of run turning minutes-hours into milliseconds. :)</div><br/><div id="39050440" class="c"><input type="checkbox" id="c-39050440" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#39049447">root</a><span>|</span><a href="#39050132">parent</a><span>|</span><a href="#39052182">next</a><span>|</span><label class="collapse" for="c-39050440">[-]</label><label class="expand" for="c-39050440">[2 more]</label></div><br/><div class="children"><div class="content">Data scientists...    And when you look at the query, it&#x27;ll be 800 lines of SQL...</div><br/><div id="39051994" class="c"><input type="checkbox" id="c-39051994" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#39049447">root</a><span>|</span><a href="#39050440">parent</a><span>|</span><a href="#39052182">next</a><span>|</span><label class="collapse" for="c-39051994">[-]</label><label class="expand" for="c-39051994">[1 more]</label></div><br/><div class="children"><div class="content">Heh, that&#x27;s not so bad - 2 jobs ago I had to fix a KPI generation process that was 70k lines of dynamic sql, that unwrapped to up to 1m LOC :)</div><br/></div></div></div></div></div></div></div></div><div id="39049358" class="c"><input type="checkbox" id="c-39049358" checked=""/><div class="controls bullet"><span class="by">igammarays</span><span>|</span><a href="#39052182">prev</a><span>|</span><a href="#39052629">next</a><span>|</span><label class="collapse" for="c-39049358">[-]</label><label class="expand" for="c-39049358">[3 more]</label></div><br/><div class="children"><div class="content">Now all we need is for Amazon to come out with a &quot;government-as-a-service&quot; product for your budding nation state.</div><br/><div id="39049592" class="c"><input type="checkbox" id="c-39049592" checked=""/><div class="controls bullet"><span class="by">ris</span><span>|</span><a href="#39049358">parent</a><span>|</span><a href="#39049810">next</a><span>|</span><label class="collapse" for="c-39049592">[-]</label><label class="expand" for="c-39049592">[1 more]</label></div><br/><div class="children"><div class="content">FWIW GOV.UK Notify is part of a suite of services offered by GDS to UK public sector bodies (along with GOV.UK Pay and GOV.UK PaaS) that was originally known as &quot;Government As A Platform&quot;.</div><br/></div></div><div id="39049810" class="c"><input type="checkbox" id="c-39049810" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#39049358">parent</a><span>|</span><a href="#39049592">prev</a><span>|</span><a href="#39052629">next</a><span>|</span><label class="collapse" for="c-39049810">[-]</label><label class="expand" for="c-39049810">[1 more]</label></div><br/><div class="children"><div class="content">In partnership with pinkerton.com</div><br/></div></div></div></div><div id="39052629" class="c"><input type="checkbox" id="c-39052629" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#39049358">prev</a><span>|</span><a href="#39051712">next</a><span>|</span><label class="collapse" for="c-39052629">[-]</label><label class="expand" for="c-39052629">[1 more]</label></div><br/><div class="children"><div class="content">They could have probably used pgpool [1] to avoid relying on the DNS (you never know in the chain who&#x27;s not respecting the TTL).<p>With this, you can choose which queries are ending up where - and migrating the DB endpoint can be done once, centrally<p>[1]: <a href="https:&#x2F;&#x2F;www.pgpool.net&#x2F;docs&#x2F;latest&#x2F;en&#x2F;html&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.pgpool.net&#x2F;docs&#x2F;latest&#x2F;en&#x2F;html&#x2F;</a></div><br/></div></div><div id="39051712" class="c"><input type="checkbox" id="c-39051712" checked=""/><div class="controls bullet"><span class="by">sharadov</span><span>|</span><a href="#39052629">prev</a><span>|</span><a href="#39052652">next</a><span>|</span><label class="collapse" for="c-39051712">[-]</label><label class="expand" for="c-39051712">[2 more]</label></div><br/><div class="children"><div class="content">DMS is a terrible migration tool, I spent almost a month fighting with various migration issues before I gave up.<p>It would not migrate text and json types. 
Even AWS support could not offer a solution.<p>We got in early testing AWS Blue&#x2F;Green and that has made close to zero downtime upgrades a reality.</div><br/><div id="39051935" class="c"><input type="checkbox" id="c-39051935" checked=""/><div class="controls bullet"><span class="by">slyall</span><span>|</span><a href="#39051712">parent</a><span>|</span><a href="#39052652">next</a><span>|</span><label class="collapse" for="c-39051935">[-]</label><label class="expand" for="c-39051935">[1 more]</label></div><br/><div class="children"><div class="content">If you think DMS is a bad migration tool then try using it for ongoing replication to an external destination.<p>Completely broken.</div><br/></div></div></div></div><div id="39052652" class="c"><input type="checkbox" id="c-39052652" checked=""/><div class="controls bullet"><span class="by">speculator</span><span>|</span><a href="#39051712">prev</a><span>|</span><a href="#39052396">next</a><span>|</span><label class="collapse" for="c-39052652">[-]</label><label class="expand" for="c-39052652">[1 more]</label></div><br/><div class="children"><div class="content">nice writeup. easy to read, easy to understand</div><br/></div></div><div id="39052396" class="c"><input type="checkbox" id="c-39052396" checked=""/><div class="controls bullet"><span class="by">DeathArrow</span><span>|</span><a href="#39052652">prev</a><span>|</span><a href="#39050637">next</a><span>|</span><label class="collapse" for="c-39052396">[-]</label><label class="expand" for="c-39052396">[3 more]</label></div><br/><div class="children"><div class="content">Seems bad that government services depend on clod providers.</div><br/><div id="39052701" class="c"><input type="checkbox" id="c-39052701" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39052396">parent</a><span>|</span><a href="#39050637">next</a><span>|</span><label class="collapse" for="c-39052701">[-]</label><label class="expand" for="c-39052701">[2 more]</label></div><br/><div class="children"><div class="content">Why? Do you deny the benefits of shared hosting in its entirety?</div><br/><div id="39053218" class="c"><input type="checkbox" id="c-39053218" checked=""/><div class="controls bullet"><span class="by">DeathArrow</span><span>|</span><a href="#39052396">root</a><span>|</span><a href="#39052701">parent</a><span>|</span><a href="#39050637">next</a><span>|</span><label class="collapse" for="c-39053218">[-]</label><label class="expand" for="c-39053218">[1 more]</label></div><br/><div class="children"><div class="content">No. But I wish government agencies depend less on other entities. A government agency isn&#x27;t in a business to make money. They should be concerned less with economic efficacy and more with accomplishing their goals.<p>They have a fiduciary duty towards the citizens.</div><br/></div></div></div></div></div></div><div id="39050637" class="c"><input type="checkbox" id="c-39050637" checked=""/><div class="controls bullet"><span class="by">saisrirampur</span><span>|</span><a href="#39052396">prev</a><span>|</span><a href="#39051810">next</a><span>|</span><label class="collapse" for="c-39050637">[-]</label><label class="expand" for="c-39050637">[1 more]</label></div><br/><div class="children"><div class="content">Very clear and concise blog! Loved reading it. I&#x27;d be very curious to see how Amazon DMS performs at scale. Scale includes either of these situations:
a) Larger dataset - 2+TB
b) Higher throughputs - WAL Spikes (at least 2-3K TPS)
c) Reliably and efficiently replicating TOAST Columns (ex: large JSONBs).
d) Advance data-types - BLOB, CLOB, HSTORE, ARRAYs etc.<p>In my previous role with the Azure Postgres team, we observed that Azure DMS worked pretty seamlessly in migrations that did not involve the above situations. Once either of the above came in, the replication experience was hairy. Interestingly, in my current gig at PeerDB, many use-cases we are seeing have either of the above situations. We have been doing quite a surgical optimizations to handle those situations and they keep coming! That is the beauty of Postgres, enabling a myriad of workloads, each of the unique in their own way!  :)</div><br/></div></div><div id="39049953" class="c"><input type="checkbox" id="c-39049953" checked=""/><div class="controls bullet"><span class="by">ClassicOrgin</span><span>|</span><a href="#39051810">prev</a><span>|</span><a href="#39049760">next</a><span>|</span><label class="collapse" for="c-39049953">[-]</label><label class="expand" for="c-39049953">[7 more]</label></div><br/><div class="children"><div class="content">Minor detail but did anyone else notice they are using eu-west-1? Kind of weird for the UK to be hosting there sites in another country (Ireland). I&#x27;m sure this isn&#x27;t super sensitive data but still.</div><br/><div id="39052726" class="c"><input type="checkbox" id="c-39052726" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39049953">parent</a><span>|</span><a href="#39052967">next</a><span>|</span><label class="collapse" for="c-39052726">[-]</label><label class="expand" for="c-39052726">[1 more]</label></div><br/><div class="children"><div class="content">It made a lot more sense before…you know…the thing that made no sense.</div><br/></div></div><div id="39052967" class="c"><input type="checkbox" id="c-39052967" checked=""/><div class="controls bullet"><span class="by">kitd</span><span>|</span><a href="#39049953">parent</a><span>|</span><a href="#39052726">prev</a><span>|</span><a href="#39050111">next</a><span>|</span><label class="collapse" for="c-39052967">[-]</label><label class="expand" for="c-39052967">[1 more]</label></div><br/><div class="children"><div class="content">I think one of the bits of carry-over legislation in the Withdrawal Agreement after Brexit was the UK continuing to comply with GDPR. So using an Irish DC is still ok.</div><br/></div></div><div id="39050111" class="c"><input type="checkbox" id="c-39050111" checked=""/><div class="controls bullet"><span class="by">esskay</span><span>|</span><a href="#39049953">parent</a><span>|</span><a href="#39052967">prev</a><span>|</span><a href="#39049971">next</a><span>|</span><label class="collapse" for="c-39050111">[-]</label><label class="expand" for="c-39050111">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;ve been on AWS since before eu-west-2 was added, it&#x27;s still not at the scale of eu-west-1. Capacity issues are still a thing (but getting much better), and only recently have they become pretty much feature parallel.</div><br/></div></div><div id="39049971" class="c"><input type="checkbox" id="c-39049971" checked=""/><div class="controls bullet"><span class="by">lozenge</span><span>|</span><a href="#39049953">parent</a><span>|</span><a href="#39050111">prev</a><span>|</span><a href="#39049760">next</a><span>|</span><label class="collapse" for="c-39049971">[-]</label><label class="expand" for="c-39049971">[3 more]</label></div><br/><div class="children"><div class="content">The London AWS region was missing a lot of features for a long time. It&#x27;s easier to just go with a big region.</div><br/><div id="39050729" class="c"><input type="checkbox" id="c-39050729" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#39049953">root</a><span>|</span><a href="#39049971">parent</a><span>|</span><a href="#39049760">next</a><span>|</span><label class="collapse" for="c-39050729">[-]</label><label class="expand" for="c-39050729">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Lets go with the easier approach&quot; is a bit worrying when it means potentially breaking security assumptions &#x2F; legal assurances.<p>Though I guess it could be explained away by having something in the website&#x27;s &quot;Terms and Conditions for use&quot;. ;)</div><br/><div id="39052109" class="c"><input type="checkbox" id="c-39052109" checked=""/><div class="controls bullet"><span class="by">juggertao</span><span>|</span><a href="#39049953">root</a><span>|</span><a href="#39050729">parent</a><span>|</span><a href="#39049760">next</a><span>|</span><label class="collapse" for="c-39052109">[-]</label><label class="expand" for="c-39052109">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a gov website. What are they going to do, sue themselves?</div><br/></div></div></div></div></div></div></div></div><div id="39049760" class="c"><input type="checkbox" id="c-39049760" checked=""/><div class="controls bullet"><span class="by">aidos</span><span>|</span><a href="#39049953">prev</a><span>|</span><a href="#39052292">next</a><span>|</span><label class="collapse" for="c-39049760">[-]</label><label class="expand" for="c-39049760">[2 more]</label></div><br/><div class="children"><div class="content">I love that where the rubber meets the road it doesn’t matter if you’re a government organisation or a web agency, it’s still just plain old Postgres, python, sqlalchemy and dns with a low ttl.</div><br/><div id="39049935" class="c"><input type="checkbox" id="c-39049935" checked=""/><div class="controls bullet"><span class="by">NegativeK</span><span>|</span><a href="#39049760">parent</a><span>|</span><a href="#39052292">next</a><span>|</span><label class="collapse" for="c-39049935">[-]</label><label class="expand" for="c-39049935">[1 more]</label></div><br/><div class="children"><div class="content">To be fair, there&#x27;s plenty of government orgs at the bottom and web agencies at the top.</div><br/></div></div></div></div><div id="39052292" class="c"><input type="checkbox" id="c-39052292" checked=""/><div class="controls bullet"><span class="by">zImPatrick</span><span>|</span><a href="#39049760">prev</a><span>|</span><a href="#39052935">next</a><span>|</span><label class="collapse" for="c-39052292">[-]</label><label class="expand" for="c-39052292">[1 more]</label></div><br/><div class="children"><div class="content">I really love how verbose and up to date the UK with tech</div><br/></div></div><div id="39052935" class="c"><input type="checkbox" id="c-39052935" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#39052292">prev</a><span>|</span><a href="#39051177">next</a><span>|</span><label class="collapse" for="c-39052935">[-]</label><label class="expand" for="c-39052935">[1 more]</label></div><br/><div class="children"><div class="content">Is that a picture of them doing it?<p>What is this weird fantasy that programming looks like this? It&#x27;s always the same: a couple of people, always of diverse backgrounds, physically interacting, usually pointing and laughing at something, with perhaps another group, representing different demographics, looking on with a mixture of curiosity and awe.<p>Do an image search for programming to see more examples of this.<p>I guarantee this work was the result of guys sitting at desks, possibly in the dark, thinking. Are we collectively embarrassed that this is what programming looks like? Or are these just fantasies of management types who have never written a line in their lives?</div><br/></div></div><div id="39051177" class="c"><input type="checkbox" id="c-39051177" checked=""/><div class="controls bullet"><span class="by">oulu2006</span><span>|</span><a href="#39052935">prev</a><span>|</span><a href="#39049967">next</a><span>|</span><label class="collapse" for="c-39051177">[-]</label><label class="expand" for="c-39051177">[1 more]</label></div><br/><div class="children"><div class="content">We didn&#x27;t even use red&#x2F;green deployment; just had a multi-AZ deployment and migrated from 11.x -&gt; 15.2 with about 30 seconds of downtime.<p>No dramas really, didn&#x27;t even need logical replication.</div><br/></div></div><div id="39049967" class="c"><input type="checkbox" id="c-39049967" checked=""/><div class="controls bullet"><span class="by">gbraad</span><span>|</span><a href="#39051177">prev</a><span>|</span><a href="#39049325">next</a><span>|</span><label class="collapse" for="c-39049967">[-]</label><label class="expand" for="c-39049967">[1 more]</label></div><br/><div class="children"><div class="content">They don&#x27;t just sent the notifications but store them? Sounds like it might contain PPI as it records passport extension data, etc. Might be minimal, though over 1 billion rows (400GB) sounds massive trove to keep around.</div><br/></div></div><div id="39049738" class="c"><input type="checkbox" id="c-39049738" checked=""/><div class="controls bullet"><span class="by">karol</span><span>|</span><a href="#39049325">prev</a><span>|</span><a href="#39050382">next</a><span>|</span><label class="collapse" for="c-39049738">[-]</label><label class="expand" for="c-39049738">[1 more]</label></div><br/><div class="children"><div class="content">Hope the picture is illustrative only.</div><br/></div></div><div id="39050382" class="c"><input type="checkbox" id="c-39050382" checked=""/><div class="controls bullet"><span class="by">vfclists</span><span>|</span><a href="#39049738">prev</a><span>|</span><a href="#39049500">next</a><span>|</span><label class="collapse" for="c-39050382">[-]</label><label class="expand" for="c-39050382">[1 more]</label></div><br/><div class="children"><div class="content">This doesn&#x27;t seem to bode well for Oracle, but lobbying trumps the day.</div><br/></div></div><div id="39049500" class="c"><input type="checkbox" id="c-39049500" checked=""/><div class="controls bullet"><span class="by">Topgamer7</span><span>|</span><a href="#39050382">prev</a><span>|</span><a href="#39048928">next</a><span>|</span><label class="collapse" for="c-39049500">[-]</label><label class="expand" for="c-39049500">[15 more]</label></div><br/><div class="children"><div class="content">We tried to work with DMS to migrate mysql to postgres, and it was a nightmare. Support was useless, and would often just not get back to us without prodding. Then them giving us canned responses unrelated to our queries. The whole thing is nigh on un-debuggable.<p>Stay away.</div><br/><div id="39049673" class="c"><input type="checkbox" id="c-39049673" checked=""/><div class="controls bullet"><span class="by">mey</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39050236">next</a><span>|</span><label class="collapse" for="c-39049673">[-]</label><label class="expand" for="c-39049673">[2 more]</label></div><br/><div class="children"><div class="content">I worked on migrating our MySQL system to PostgreSQL using pgloader ( <a href="https:&#x2F;&#x2F;pgloader.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pgloader.io&#x2F;</a> ).<p>There were some hiccups, things that needed clarification in documentation, and some additional processes that needed to be done outside of the system to get everything we need in place, it was a amazing help.  Not sure the project would&#x27;ve been possible without it.<p>Data mapping from PostgreSQL to PostgreSQL as in the article isn&#x27;t nearly as bad as going between systems.  We took a full extended outage and didn&#x27;t preload any data.  There were many dry runs before hand and validation before hand, but the system wasn&#x27;t so mission critical that we couldn&#x27;t afford to shutoff the system for a couple of hours.</div><br/><div id="39050300" class="c"><input type="checkbox" id="c-39050300" checked=""/><div class="controls bullet"><span class="by">Topgamer7</span><span>|</span><a href="#39049500">root</a><span>|</span><a href="#39049673">parent</a><span>|</span><a href="#39050236">next</a><span>|</span><label class="collapse" for="c-39050300">[-]</label><label class="expand" for="c-39050300">[1 more]</label></div><br/><div class="children"><div class="content">We also ended up using pgloader. Its not without its friction either. For example the concurrency&#x2F;number of rows setting seems broken out the gate, and its like playing darts with a blindfold on to get it to run without running out of memory. But being able to read the source, github actions, and overall at least I could debug my problems, or find others who had the same issue.<p>Would recommend pgloader.</div><br/></div></div></div></div><div id="39050236" class="c"><input type="checkbox" id="c-39050236" checked=""/><div class="controls bullet"><span class="by">tibbon</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39049673">prev</a><span>|</span><a href="#39050019">next</a><span>|</span><label class="collapse" for="c-39050236">[-]</label><label class="expand" for="c-39050236">[1 more]</label></div><br/><div class="children"><div class="content">We also tried to use DMS for a few things (Rackspace to AWS migration, replication out to data lakes, etc) and it has been consistently undersupported, buggy and ate months of time before we went to other solutions. While a lot of AWS support has been good; not for DMS. It feels entirely half baked .</div><br/></div></div><div id="39050019" class="c"><input type="checkbox" id="c-39050019" checked=""/><div class="controls bullet"><span class="by">extesy</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39050236">prev</a><span>|</span><a href="#39050346">next</a><span>|</span><label class="collapse" for="c-39050019">[-]</label><label class="expand" for="c-39050019">[1 more]</label></div><br/><div class="children"><div class="content">I can confirm that. Both DMS reliability and support quality were terrible.</div><br/></div></div><div id="39050346" class="c"><input type="checkbox" id="c-39050346" checked=""/><div class="controls bullet"><span class="by">troublebucket</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39050019">prev</a><span>|</span><a href="#39049624">next</a><span>|</span><label class="collapse" for="c-39050346">[-]</label><label class="expand" for="c-39050346">[1 more]</label></div><br/><div class="children"><div class="content">+1 DMS is very half baked. Silent, unbuggable errors. Tons of unsupported LOB and CLOB data types. Built-in Postgres logical replication is way easier.</div><br/></div></div><div id="39049624" class="c"><input type="checkbox" id="c-39049624" checked=""/><div class="controls bullet"><span class="by">rjh29</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39050346">prev</a><span>|</span><a href="#39049790">next</a><span>|</span><label class="collapse" for="c-39049624">[-]</label><label class="expand" for="c-39049624">[2 more]</label></div><br/><div class="children"><div class="content">Tried it for mysql and it was flat out broken and silently corrupted data.</div><br/><div id="39050303" class="c"><input type="checkbox" id="c-39050303" checked=""/><div class="controls bullet"><span class="by">Topgamer7</span><span>|</span><a href="#39049500">root</a><span>|</span><a href="#39049624">parent</a><span>|</span><a href="#39049790">next</a><span>|</span><label class="collapse" for="c-39050303">[-]</label><label class="expand" for="c-39050303">[1 more]</label></div><br/><div class="children"><div class="content">For us it seemed to be trying to load data from the wrong table on mysql, into the wrong table on postgres.</div><br/></div></div></div></div><div id="39049790" class="c"><input type="checkbox" id="c-39049790" checked=""/><div class="controls bullet"><span class="by">NomDePlum</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39049624">prev</a><span>|</span><a href="#39049713">next</a><span>|</span><label class="collapse" for="c-39049790">[-]</label><label class="expand" for="c-39049790">[5 more]</label></div><br/><div class="children"><div class="content">Surprised by that. I&#x27;ve used AWS DMS quite a lot to do both on-prem to AWS and AWS (MySQL) to AWS Postgres migrations and long term ongoing replication. Whilst there is some complexity&#x2F;gotchas there it&#x27;s always been more than up to the task. Takes a little bit of validation&#x2F;testing to understand but it&#x27;s very well documented too.<p>What sort of issues did you hit? In all honesty I&#x27;m not sure I&#x27;ve been more impressed by another AWS service.</div><br/><div id="39050311" class="c"><input type="checkbox" id="c-39050311" checked=""/><div class="controls bullet"><span class="by">Topgamer7</span><span>|</span><a href="#39049500">root</a><span>|</span><a href="#39049790">parent</a><span>|</span><a href="#39050240">next</a><span>|</span><label class="collapse" for="c-39050311">[-]</label><label class="expand" for="c-39050311">[2 more]</label></div><br/><div class="children"><div class="content">It seemed to try to load data into the wrong table on postgres. That was the one that immediately comes to mind. Honestly poor support is what really killed it for us. But we had other technical problems with it.<p>We burned 3 weeks just trying to get support to provide a sensible response. I never got the sense anyone replying to us knew any more than the surface level about the infrastructure of how DMS worked.</div><br/><div id="39052685" class="c"><input type="checkbox" id="c-39052685" checked=""/><div class="controls bullet"><span class="by">NomDePlum</span><span>|</span><a href="#39049500">root</a><span>|</span><a href="#39050311">parent</a><span>|</span><a href="#39050240">next</a><span>|</span><label class="collapse" for="c-39052685">[-]</label><label class="expand" for="c-39052685">[1 more]</label></div><br/><div class="children"><div class="content">We kept our table mappings pretty much mirrors of the source tables. Any data transformation we managed on the target cluster, not through AWS DMS.<p>I&#x27;ve used it fairly frequently over a number of years so maybe the issues we hit on the learning curve have dimmed.<p>We also deliberately kept things as simple as possible at first and focused on DMS&#x27;s ability to move the data from source to target and really only tweaked settings that increased security or reliability. We stayed well away from any of the data transformation or more complex functionality.</div><br/></div></div></div></div><div id="39050240" class="c"><input type="checkbox" id="c-39050240" checked=""/><div class="controls bullet"><span class="by">tibbon</span><span>|</span><a href="#39049500">root</a><span>|</span><a href="#39049790">parent</a><span>|</span><a href="#39050311">prev</a><span>|</span><a href="#39049713">next</a><span>|</span><label class="collapse" for="c-39050240">[-]</label><label class="expand" for="c-39050240">[2 more]</label></div><br/><div class="children"><div class="content">One issue we hit were any schema changes totally messed it up. I don&#x27;t have my notes in front of me, but we were constantly hitting data that wouldn&#x27;t migrate, or that things suddenly broke whenever things changed.</div><br/><div id="39052628" class="c"><input type="checkbox" id="c-39052628" checked=""/><div class="controls bullet"><span class="by">NomDePlum</span><span>|</span><a href="#39049500">root</a><span>|</span><a href="#39050240">parent</a><span>|</span><a href="#39049713">next</a><span>|</span><label class="collapse" for="c-39052628">[-]</label><label class="expand" for="c-39052628">[1 more]</label></div><br/><div class="children"><div class="content">Interesting we managed several schema changes when using AWS DMS for replicating data over a long period between MySQL and Postgres clusters.<p>We treated these carefully and tested as we made them but never had any real issues with them. From memory DMS could cope with adding columns pretty transparently. One setting we invested in configuring and understanding was to allow DMS to attempt to recover from replication failures. This allowed it to error on DDL changes and attempt to recover. This usually involved restarting the task, but it would do this transparently as part of the recovery.</div><br/></div></div></div></div></div></div><div id="39049713" class="c"><input type="checkbox" id="c-39049713" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#39049500">parent</a><span>|</span><a href="#39049790">prev</a><span>|</span><a href="#39051005">next</a><span>|</span><label class="collapse" for="c-39049713">[-]</label><label class="expand" for="c-39049713">[1 more]</label></div><br/><div class="children"><div class="content">This was my experience as well. We thought it was a nice managed way to move pg to pg with minimal setup but we ran into so many issues we just did logical replication with bespoke fixes for things it didn&#x27;t handle well.</div><br/></div></div></div></div><div id="39048928" class="c"><input type="checkbox" id="c-39048928" checked=""/><div class="controls bullet"><span class="by">Edwinr95</span><span>|</span><a href="#39049500">prev</a><span>|</span><a href="#39051431">next</a><span>|</span><label class="collapse" for="c-39048928">[-]</label><label class="expand" for="c-39048928">[62 more]</label></div><br/><div class="children"><div class="content">I&#x27;m quite negatively surprised that a government service is moving from their own platform to AWS for such an important service.</div><br/><div id="39049011" class="c"><input type="checkbox" id="c-39049011" checked=""/><div class="controls bullet"><span class="by">conception</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39048988">next</a><span>|</span><label class="collapse" for="c-39049011">[-]</label><label class="expand" for="c-39049011">[32 more]</label></div><br/><div class="children"><div class="content">AWS has a lot of pre-audited compliance built into their services. Being able to inherit their certification for services can save an organization a lot of time and effort.</div><br/><div id="39049110" class="c"><input type="checkbox" id="c-39049110" checked=""/><div class="controls bullet"><span class="by">lnxg33k1</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049011">parent</a><span>|</span><a href="#39049132">next</a><span>|</span><label class="collapse" for="c-39049110">[-]</label><label class="expand" for="c-39049110">[26 more]</label></div><br/><div class="children"><div class="content">Its not an organisation, its a blucking government, it handles citizen data, and its sending them to a company of foreign country, because it can’t hire some system administrators? A GOVERNMENT? What are they doing? Still looking for their product market fit and can’t afford the headcount? Is it a joke?<p>EDIT If they are looking for money id like to participate a bit in the seed round</div><br/><div id="39052664" class="c"><input type="checkbox" id="c-39052664" checked=""/><div class="controls bullet"><span class="by">solatic</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049110">parent</a><span>|</span><a href="#39049288">next</a><span>|</span><label class="collapse" for="c-39052664">[-]</label><label class="expand" for="c-39052664">[3 more]</label></div><br/><div class="children"><div class="content">&gt; because it can’t hire some system administrators?<p>Spoken like someone who has never worked in the public sector. Hiring can easily take 6+ months or more due to an ever-increasing list of requirements that government HR is required to fulfill, not least of which is passing a security clearance which takes even more time. The best people on the market rarely have the patience for this. Once your employees do get hired - on-boarding can take another few&#x2F;several&#x2F;more months, getting various permissions, technical documentation, etc. Everything is out-of-date because making changes requires committee consensus, in a culture that is risk-averse, because nobody notices when you out-perform (after all, the requirements were also set by a committee that doesn&#x27;t know who you are) but something going wrong is grounds for termination. Public sector work over-relies on hiring contractors precisely to shift blame for failure to the contractors. Managed database services are <i>excellent</i> tools to shift this kind of catastrophic risk of data loss to a contractor&#x2F;vendor (who is managing the database).<p>Governments not owning their data isn&#x27;t due to technical or budgetary limitations - it&#x27;s strictly cultural.</div><br/><div id="39052744" class="c"><input type="checkbox" id="c-39052744" checked=""/><div class="controls bullet"><span class="by">NomDePlum</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39052664">parent</a><span>|</span><a href="#39052771">next</a><span>|</span><label class="collapse" for="c-39052744">[-]</label><label class="expand" for="c-39052744">[1 more]</label></div><br/><div class="children"><div class="content">Fully agree with this. I&#x27;d also add that a lot of IT is buy not build, in general. That includes support. Particularly true for the public sector and has been in place well before AWS existed.<p>Outsourcing the complexity to run and maintain a secure reliable database cluster really is making good use of the managed service model.</div><br/></div></div><div id="39052771" class="c"><input type="checkbox" id="c-39052771" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39052664">parent</a><span>|</span><a href="#39052744">prev</a><span>|</span><a href="#39049288">next</a><span>|</span><label class="collapse" for="c-39052771">[-]</label><label class="expand" for="c-39052771">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Hiring can easily take 6+ months or more<p>Do you think this move didn&#x27;t take even longer to plan?<p>&gt; to shift blame<p>That reason is much more plausible.</div><br/></div></div></div></div><div id="39049288" class="c"><input type="checkbox" id="c-39049288" checked=""/><div class="controls bullet"><span class="by">dijit</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049110">parent</a><span>|</span><a href="#39052664">prev</a><span>|</span><a href="#39049345">next</a><span>|</span><label class="collapse" for="c-39049288">[-]</label><label class="expand" for="c-39049288">[4 more]</label></div><br/><div class="children"><div class="content">Sysadmins are cheaper than many people seem to think.<p>I had a person I trust a lot telling me that &quot;if we go with a bare metal provider like GCore we&#x27;d have to hire someone&quot;, his reason for bringing that up was that the cost difference would be justified by <i>not</i> having to hire someone,.<p>However a GCore €400,000k&#x2F;y bill becomes a €6,000,000~ if you were to use a public cloud, even with the scaling up and down when not in use (we are an extreme case of needing a lot of dumb unreliable compute thats geographically distributed).<p>I can hire a <i>lot</i> of sysadmins for that money, but I probably don&#x27;t even need <i>one</i> because public clouds also need devops staff to manage the complexity anyway.</div><br/><div id="39049947" class="c"><input type="checkbox" id="c-39049947" checked=""/><div class="controls bullet"><span class="by">DylanDmitri</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049288">parent</a><span>|</span><a href="#39049345">next</a><span>|</span><label class="collapse" for="c-39049947">[-]</label><label class="expand" for="c-39049947">[3 more]</label></div><br/><div class="children"><div class="content">The risk is hiring a team of ineffective sysadmins, especially if your organization can’t assess sysadmin competence.</div><br/><div id="39050010" class="c"><input type="checkbox" id="c-39050010" checked=""/><div class="controls bullet"><span class="by">dijit</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049947">parent</a><span>|</span><a href="#39049345">next</a><span>|</span><label class="collapse" for="c-39050010">[-]</label><label class="expand" for="c-39050010">[2 more]</label></div><br/><div class="children"><div class="content">That would indeed be a risk, but the circular logic of this means no new company could ever have any competence outside of its founders. Which feels shortsighted.<p>Anyway, I am a former sysadmin. I am confident that I can identify competence in the requisite areas.</div><br/><div id="39050258" class="c"><input type="checkbox" id="c-39050258" checked=""/><div class="controls bullet"><span class="by">criley2</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39050010">parent</a><span>|</span><a href="#39049345">next</a><span>|</span><label class="collapse" for="c-39050258">[-]</label><label class="expand" for="c-39050258">[1 more]</label></div><br/><div class="children"><div class="content">Governments tend to be far less competent at determining technical competence. Due to a wide variety of factors, governments tend to be completely uncompetitive in salary for technical positions meaning they&#x27;re already hiring from the lower end of the pool (not including a few altruistic folks willing to forgo their market value).<p>At a company if a department isn&#x27;t working out you just restructure and move on, but in the government, that team is going to retire in your org and collect pension from you, and there&#x27;s very little you can do about that.</div><br/></div></div></div></div></div></div></div></div><div id="39049345" class="c"><input type="checkbox" id="c-39049345" checked=""/><div class="controls bullet"><span class="by">belter</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049110">parent</a><span>|</span><a href="#39049288">prev</a><span>|</span><a href="#39049143">next</a><span>|</span><label class="collapse" for="c-39049345">[-]</label><label class="expand" for="c-39049345">[1 more]</label></div><br/><div class="children"><div class="content">If you are worried about that, start with your government use of Microsoft Office and Windows who both send MB of data per minute to a US based company.</div><br/></div></div><div id="39049143" class="c"><input type="checkbox" id="c-39049143" checked=""/><div class="controls bullet"><span class="by">kunwon1</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049110">parent</a><span>|</span><a href="#39049345">prev</a><span>|</span><a href="#39049365">next</a><span>|</span><label class="collapse" for="c-39049143">[-]</label><label class="expand" for="c-39049143">[14 more]</label></div><br/><div class="children"><div class="content">AWS has a G-Cloud for UK just like they have one for US, no?</div><br/><div id="39052765" class="c"><input type="checkbox" id="c-39052765" checked=""/><div class="controls bullet"><span class="by">NomDePlum</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049143">parent</a><span>|</span><a href="#39049191">next</a><span>|</span><label class="collapse" for="c-39052765">[-]</label><label class="expand" for="c-39052765">[1 more]</label></div><br/><div class="children"><div class="content">No. It is only relatively recently (~5&#x2F;6 years) AWS have had any data centres in the UK.<p>That blocked use of AWS for a lot of UK departments due to data sovereignty concerns.</div><br/></div></div><div id="39049191" class="c"><input type="checkbox" id="c-39049191" checked=""/><div class="controls bullet"><span class="by">snoman</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049143">parent</a><span>|</span><a href="#39052765">prev</a><span>|</span><a href="#39049242">next</a><span>|</span><label class="collapse" for="c-39049191">[-]</label><label class="expand" for="c-39049191">[1 more]</label></div><br/><div class="children"><div class="content">AWS has government specific regions (called GovCloud). Many services or features make it to GovCloud later than other regions because of the certification requirements.</div><br/></div></div><div id="39049242" class="c"><input type="checkbox" id="c-39049242" checked=""/><div class="controls bullet"><span class="by">travem</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049143">parent</a><span>|</span><a href="#39049191">prev</a><span>|</span><a href="#39049338">next</a><span>|</span><label class="collapse" for="c-39049242">[-]</label><label class="expand" for="c-39049242">[1 more]</label></div><br/><div class="children"><div class="content">AWS has US based GovCloud regions: AWS GovCloud (US-East) and AWS GovCloud (US-West). It does not have a UK specific GovCloud region that I am aware of.</div><br/></div></div><div id="39049338" class="c"><input type="checkbox" id="c-39049338" checked=""/><div class="controls bullet"><span class="by">bboygravity</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049143">parent</a><span>|</span><a href="#39049242">prev</a><span>|</span><a href="#39049365">next</a><span>|</span><label class="collapse" for="c-39049338">[-]</label><label class="expand" for="c-39049338">[10 more]</label></div><br/><div class="children"><div class="content">Why can&#x27;t the UK government build there own cloud?<p>It&#x27;s just completely insane to me that they would make the gov internet infrastructure completely (geopolitically) dependent on another country AND just literally give all their (citizens&#x27;) data away AND pay for that &quot;privilege&quot;?!<p>I mean if the government can&#x27;t host the government&#x27;s websites using tech from the government&#x27;s country, maybe it would be better to just forget about the whole cyberweb thing altogether? Just turn it off?</div><br/><div id="39049543" class="c"><input type="checkbox" id="c-39049543" checked=""/><div class="controls bullet"><span class="by">ris</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049338">parent</a><span>|</span><a href="#39052210">next</a><span>|</span><label class="collapse" for="c-39049543">[-]</label><label class="expand" for="c-39049543">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think you have any idea just how much it costs to run infrastructure at the reliability levels provided by AWS, and just how much investment it would require to get the ball rolling on this.<p>A lot of people have a very unrealistic picture of what government budgets are like.</div><br/><div id="39049732" class="c"><input type="checkbox" id="c-39049732" checked=""/><div class="controls bullet"><span class="by">blibble</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049543">parent</a><span>|</span><a href="#39052210">next</a><span>|</span><label class="collapse" for="c-39049732">[-]</label><label class="expand" for="c-39049732">[3 more]</label></div><br/><div class="children"><div class="content">&gt; I don&#x27;t think you have any idea just how much it costs to run infrastructure at the reliability levels provided by AWS<p>my $12&#x2F;year VPS does better than us-east-1</div><br/><div id="39050131" class="c"><input type="checkbox" id="c-39050131" checked=""/><div class="controls bullet"><span class="by">hdlothia</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049732">parent</a><span>|</span><a href="#39052210">next</a><span>|</span><label class="collapse" for="c-39050131">[-]</label><label class="expand" for="c-39050131">[2 more]</label></div><br/><div class="children"><div class="content">Where do you get a 12 dollar a year vps. Hetzner charges me 4 bucks a month and it feels like a steal</div><br/><div id="39050367" class="c"><input type="checkbox" id="c-39050367" checked=""/><div class="controls bullet"><span class="by">blibble</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39050131">parent</a><span>|</span><a href="#39052210">next</a><span>|</span><label class="collapse" for="c-39050367">[-]</label><label class="expand" for="c-39050367">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;lowendtalk.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lowendtalk.com&#x2F;</a><p>quality varies</div><br/></div></div></div></div></div></div></div></div><div id="39052210" class="c"><input type="checkbox" id="c-39052210" checked=""/><div class="controls bullet"><span class="by">0xbadcafebee</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049338">parent</a><span>|</span><a href="#39049543">prev</a><span>|</span><a href="#39049412">next</a><span>|</span><label class="collapse" for="c-39052210">[-]</label><label class="expand" for="c-39052210">[1 more]</label></div><br/><div class="children"><div class="content">Why can&#x27;t the UK government build their own cars? Their own boots? Their own pens, paper? How wasteful and pathetic that they wouldn&#x27;t make all those things themselves. If it&#x27;s <i>possible</i> to do it yourself, by golly, you <i>should</i> do it yourself, and there&#x27;s absolutely no reason in the entire world to purchase those things from someone else instead.</div><br/></div></div><div id="39049412" class="c"><input type="checkbox" id="c-39049412" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049338">parent</a><span>|</span><a href="#39052210">prev</a><span>|</span><a href="#39051473">next</a><span>|</span><label class="collapse" for="c-39049412">[-]</label><label class="expand" for="c-39049412">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;d still be outsourcing to a firm to do this. They wouldn&#x27;t hire a load of people to do it in-house. See also Fujitsu in the recently-popular Horizon scandal, or the NHS for IT debacle[0].<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;NHS_Connecting_for_Health" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;NHS_Connecting_for_Health</a></div><br/></div></div><div id="39051473" class="c"><input type="checkbox" id="c-39051473" checked=""/><div class="controls bullet"><span class="by">shagmin</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049338">parent</a><span>|</span><a href="#39049412">prev</a><span>|</span><a href="#39049436">next</a><span>|</span><label class="collapse" for="c-39051473">[-]</label><label class="expand" for="c-39051473">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always wondered how beholden the world is to Microsoft. I was once surprised to learn the US military (and probably virtually all others) don&#x27;t have their own OS to avoid being tied to a particular company.</div><br/></div></div><div id="39049436" class="c"><input type="checkbox" id="c-39049436" checked=""/><div class="controls bullet"><span class="by">vdaea</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049338">parent</a><span>|</span><a href="#39051473">prev</a><span>|</span><a href="#39049511">next</a><span>|</span><label class="collapse" for="c-39049436">[-]</label><label class="expand" for="c-39049436">[1 more]</label></div><br/><div class="children"><div class="content">Why should they build their own cloud, seeing that costs more money?</div><br/></div></div><div id="39049511" class="c"><input type="checkbox" id="c-39049511" checked=""/><div class="controls bullet"><span class="by">willsmith72</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049338">parent</a><span>|</span><a href="#39049436">prev</a><span>|</span><a href="#39049365">next</a><span>|</span><label class="collapse" for="c-39049511">[-]</label><label class="expand" for="c-39049511">[1 more]</label></div><br/><div class="children"><div class="content">you want every government to build their own cloud? what in the world? the whole world is interlinked, should they also manufacture their own government laptops in the UK?</div><br/></div></div></div></div></div></div><div id="39049365" class="c"><input type="checkbox" id="c-39049365" checked=""/><div class="controls bullet"><span class="by">foofie</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049110">parent</a><span>|</span><a href="#39049143">prev</a><span>|</span><a href="#39049842">next</a><span>|</span><label class="collapse" for="c-39049365">[-]</label><label class="expand" for="c-39049365">[1 more]</label></div><br/><div class="children"><div class="content">&gt; (...) its a blucking government, it handles citizen data, and its sending them to a company of foreign country, because it can’t hire some system administrators? A GOVERNMENT? What are they doing?<p>This is a very good question, and bears repeating.<p>It&#x27;s not a massive database as well. 400GB with 1k inserts&#x2F;second.</div><br/></div></div><div id="39049842" class="c"><input type="checkbox" id="c-39049842" checked=""/><div class="controls bullet"><span class="by">everfrustrated</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049110">parent</a><span>|</span><a href="#39049365">prev</a><span>|</span><a href="#39049132">next</a><span>|</span><label class="collapse" for="c-39049842">[-]</label><label class="expand" for="c-39049842">[2 more]</label></div><br/><div class="children"><div class="content">The UK replies entirely on the mercy of USA for its nuclear deterrent (Trident)<p>For the UK at least, that ship has _long_ since sailed....</div><br/><div id="39049946" class="c"><input type="checkbox" id="c-39049946" checked=""/><div class="controls bullet"><span class="by">blibble</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049842">parent</a><span>|</span><a href="#39049132">next</a><span>|</span><label class="collapse" for="c-39049946">[-]</label><label class="expand" for="c-39049946">[1 more]</label></div><br/><div class="children"><div class="content">trident has UK built warheads and is operationally independent of the US</div><br/></div></div></div></div></div></div><div id="39049132" class="c"><input type="checkbox" id="c-39049132" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049011">parent</a><span>|</span><a href="#39049110">prev</a><span>|</span><a href="#39048988">next</a><span>|</span><label class="collapse" for="c-39049132">[-]</label><label class="expand" for="c-39049132">[5 more]</label></div><br/><div class="children"><div class="content">How would you feel if the US government ran on servers from a European company, which also works very hard to avoid paying taxes in US soil?<p>All those reasons to go AWS hold for a private company, not for a government service of a first world country and G7 member. AWS has a lot of compliant services, but it&#x27;s not like they&#x27;re doing rocket science one of the top 5 richest countries in the world cannot afford to develop or contract within its borders.<p>The simple reason is that the UK has been on a long trend of selling out to the highest bidder, whether they are US tax avoiding companies, chinese or managed by Russian oligarchs. We have chosen AWS for the same reason Post Office chose Fujitsu.</div><br/><div id="39049172" class="c"><input type="checkbox" id="c-39049172" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049132">parent</a><span>|</span><a href="#39048988">next</a><span>|</span><label class="collapse" for="c-39049172">[-]</label><label class="expand" for="c-39049172">[4 more]</label></div><br/><div class="children"><div class="content">I would be surprised if they aren&#x27;t deploying to the London data center, so I would think it <i>is</i> within the UK</div><br/><div id="39049315" class="c"><input type="checkbox" id="c-39049315" checked=""/><div class="controls bullet"><span class="by">dijit</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049172">parent</a><span>|</span><a href="#39050138">next</a><span>|</span><label class="collapse" for="c-39049315">[-]</label><label class="expand" for="c-39049315">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no govcloud in the UK; unless there are specific terms then the terms-of-service state that you are licensing either the irish entity or the american entity to have access and dominion of your data.<p>I had to spend a lot of time writing my privacy policy (perks of being CTO... yay), and part of that privacy policy was an admission that we transfer ownership of data to a US company (by using public cloud) despite using european datacenters.<p>This is because our agreement is with a US entity.</div><br/></div></div><div id="39050138" class="c"><input type="checkbox" id="c-39050138" checked=""/><div class="controls bullet"><span class="by">esskay</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049172">parent</a><span>|</span><a href="#39049315">prev</a><span>|</span><a href="#39049450">next</a><span>|</span><label class="collapse" for="c-39050138">[-]</label><label class="expand" for="c-39050138">[1 more]</label></div><br/><div class="children"><div class="content">eu-west-2 is a bit misleading, most of its nowhere near London, they&#x27;ve got DC&#x27;s right up into the midlands. One of their newer ones for example is out in Didcot Oxfordshire, they&#x27;ve also got a few up towards Peterborough. All classed as &#x27;London&#x27; despite being a fair distance away from it.</div><br/></div></div><div id="39049450" class="c"><input type="checkbox" id="c-39049450" checked=""/><div class="controls bullet"><span class="by">arpinum</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049172">parent</a><span>|</span><a href="#39050138">prev</a><span>|</span><a href="#39048988">next</a><span>|</span><label class="collapse" for="c-39049450">[-]</label><label class="expand" for="c-39049450">[1 more]</label></div><br/><div class="children"><div class="content">The blogpost shows a connection string to eu-west-1 in Ireland</div><br/></div></div></div></div></div></div></div></div><div id="39048988" class="c"><input type="checkbox" id="c-39048988" checked=""/><div class="controls bullet"><span class="by">jazzyjackson</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049011">prev</a><span>|</span><a href="#39049006">next</a><span>|</span><label class="collapse" for="c-39048988">[-]</label><label class="expand" for="c-39048988">[8 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know what it&#x27;s like in UK but it may be the case that government has a hard time a{ttract,fford}ing talent to administer everything in house. Not that AWS is great for cost saving but if its between paying 50k&#x2F;year for cloud services and not being able to find an engineer who will competently do the job for less than 50k, then the cloud is your only move really.</div><br/><div id="39052713" class="c"><input type="checkbox" id="c-39052713" checked=""/><div class="controls bullet"><span class="by">solatic</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39048988">parent</a><span>|</span><a href="#39052209">next</a><span>|</span><label class="collapse" for="c-39052713">[-]</label><label class="expand" for="c-39052713">[1 more]</label></div><br/><div class="children"><div class="content">&gt; and not being able to find an engineer<p>Remember it&#x27;s not just about being able to find one single engineer - then they become key-person risk. You need multiple engineers to be able to handle the loss of that engineer, either temporarily (vacation) or permanently (suddenly hit by a bus). Then you end up having a team of DBAs. Then you have functional rather than feature teams. Then you need multiple managers to align to get anything done, and have internal politics.<p>Being able to consume databases <i>as a product</i> has non-trivial value.</div><br/></div></div><div id="39052209" class="c"><input type="checkbox" id="c-39052209" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39048988">parent</a><span>|</span><a href="#39052713">prev</a><span>|</span><a href="#39049259">next</a><span>|</span><label class="collapse" for="c-39052209">[-]</label><label class="expand" for="c-39052209">[1 more]</label></div><br/><div class="children"><div class="content">Once your past the emerging startup status, running on the cloud involve as much engineers and complexity as running on prem if you want to follow best practices.<p>The &quot;let&#x27;s be managed and only hire developers&quot; is a huge myth. All large organizations involve tons of &quot;cloud engineers&quot; or &quot;devops&quot; depending on how they want to call them and are just sysadmins with a different name and a bigger paycheck.<p>Having actual datacenters doesn&#x27;t add a ton of complexity and datacenters themselves are often managed by people who don&#x27;t even have an engineer paycheck. The main difference between being on prem vs cloud is you have to plan (how many servers&#x2F;storage&#x2F;network equipment you have to buy and replace on the following year) and pay for stuff (like space, racks) more in advance + take into accounts delays in delivery. This is where cloud makes the job much faster for companies but given the slow pace at which gov stuff happen usually I don&#x27;t think this is a problem for them.</div><br/></div></div><div id="39049259" class="c"><input type="checkbox" id="c-39049259" checked=""/><div class="controls bullet"><span class="by">swozey</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39048988">parent</a><span>|</span><a href="#39052209">prev</a><span>|</span><a href="#39049391">next</a><span>|</span><label class="collapse" for="c-39049259">[-]</label><label class="expand" for="c-39049259">[4 more]</label></div><br/><div class="children"><div class="content">They require various clearances (digging into your life and past relationships to a miserable degree), don&#x27;t allow someone to have ever smoked pot and pay half or less of what you can make in the pvt sector here (usa).<p>Everyone I know working FedRAMP jobs is prior military&#x2F;g-level.</div><br/><div id="39049377" class="c"><input type="checkbox" id="c-39049377" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049259">parent</a><span>|</span><a href="#39049411">next</a><span>|</span><label class="collapse" for="c-39049377">[-]</label><label class="expand" for="c-39049377">[2 more]</label></div><br/><div class="children"><div class="content">They wouldn&#x27;t need that. And having been SC cleared in the UK, and known a few DV-cleared ones, at least in the UK they don&#x27;t care if you&#x27;ve smoked pot. They just care that if you have, that you don&#x27;t mind your family knowing one day. They don&#x27;t want people who can be blackmailed.</div><br/><div id="39049598" class="c"><input type="checkbox" id="c-39049598" checked=""/><div class="controls bullet"><span class="by">swozey</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049377">parent</a><span>|</span><a href="#39049411">next</a><span>|</span><label class="collapse" for="c-39049598">[-]</label><label class="expand" for="c-39049598">[1 more]</label></div><br/><div class="children"><div class="content">Here it&#x27;s like this: Don&#x27;t ever lie to them, &quot;no matter what it is they&#x27;ll find out.&quot;<p>So, some people don&#x27;t lie, say they smoked pot in high school and none of them make it to the next step.<p>I had a twitter convo last year or pre-x whenever with the CTO of some org I can&#x27;t remember (I don&#x27;t think centcom, something much smaller) and he mentioned that they&#x27;ve lightened up quite a bit, or at least his program which was a softwar engineering group was more lenient. He was looking for engineers on via twitter on his official account.<p>So maybe that&#x27;s loosening up here thankfully.</div><br/></div></div></div></div></div></div><div id="39049391" class="c"><input type="checkbox" id="c-39049391" checked=""/><div class="controls bullet"><span class="by">justsomehnguy</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39048988">parent</a><span>|</span><a href="#39049259">prev</a><span>|</span><a href="#39049006">next</a><span>|</span><label class="collapse" for="c-39049391">[-]</label><label class="expand" for="c-39049391">[1 more]</label></div><br/><div class="children"><div class="content">&gt; who will competently do the job for less than 50k, then the cloud is your only move really<p>Well, there <i>is</i> the other way, but, as we know, never ever that would happen.</div><br/></div></div></div></div><div id="39049006" class="c"><input type="checkbox" id="c-39049006" checked=""/><div class="controls bullet"><span class="by">kingkongjaffa</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39048988">prev</a><span>|</span><a href="#39049271">next</a><span>|</span><label class="collapse" for="c-39049006">[-]</label><label class="expand" for="c-39049006">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This is an AWS RDS PostgreSQL database and it lives in the PaaS’ AWS account. Our apps that run in the PaaS talk to this database. We are going to call this database our ‘source database’.<p>It already was. Read the article.</div><br/></div></div><div id="39049271" class="c"><input type="checkbox" id="c-39049271" checked=""/><div class="controls bullet"><span class="by">pmcp</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049006">prev</a><span>|</span><a href="#39049936">next</a><span>|</span><label class="collapse" for="c-39049271">[-]</label><label class="expand" for="c-39049271">[1 more]</label></div><br/><div class="children"><div class="content">As somebody who worked for the European Commission, and a european national government, I agree with your sentiment, but the harsh reality is that government divisions in generally work on a shoe string budget, when it comes to decisions like these. I wouldn’t be surprised if this was a “best effort given the circumstances” move.</div><br/></div></div><div id="39049936" class="c"><input type="checkbox" id="c-39049936" checked=""/><div class="controls bullet"><span class="by">NomDePlum</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049271">prev</a><span>|</span><a href="#39049994">next</a><span>|</span><label class="collapse" for="c-39049936">[-]</label><label class="expand" for="c-39049936">[1 more]</label></div><br/><div class="children"><div class="content">Why?<p>I&#x27;ve worked on a number of UK government projects, including some with particularly sensitive security and data requirements.<p>Having some knowledge of their on-prem data centres and UK Cloud offering they have also used moving to AWS has so many operational, security and resilience benefits that aren&#x27;t available elsewhere. It&#x27;s not a free-lunch by any means and needs thought and governance certainly but the procurement simplification benefits alone make going to the public cloud a no brainer for a lot of government services.<p>It is worth knowing that even the on-prem data centres are usually operated by 3rd parties such as HP, BT and IBM. There was an initiative to have &quot;Crown-managed&quot; data-centers but it&#x27;s not particularly scalable.</div><br/></div></div><div id="39049994" class="c"><input type="checkbox" id="c-39049994" checked=""/><div class="controls bullet"><span class="by">overstay8930</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049936">prev</a><span>|</span><a href="#39049002">next</a><span>|</span><label class="collapse" for="c-39049994">[-]</label><label class="expand" for="c-39049994">[1 more]</label></div><br/><div class="children"><div class="content">If you saw how non-tech companies run datacenters, well let&#x27;s just say they&#x27;re not exactly working with NATO like the big 3 cloud providers do when designing their DCs and backbone.<p>Honestly you should be frightened when you see someone NOT using a cloud provider, because it is hard work to properly run and secure a datacenter. Even Equinix fucks up HARD regularly and they are considered the gold standard (shout out to those I saw at 350 E Cermak over the weekend).</div><br/></div></div><div id="39049002" class="c"><input type="checkbox" id="c-39049002" checked=""/><div class="controls bullet"><span class="by">ris</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049994">prev</a><span>|</span><a href="#39049039">next</a><span>|</span><label class="collapse" for="c-39049002">[-]</label><label class="expand" for="c-39049002">[1 more]</label></div><br/><div class="children"><div class="content">GOV.UK PaaS also runs on AWS (for as long as it remains to exist)</div><br/></div></div><div id="39049039" class="c"><input type="checkbox" id="c-39049039" checked=""/><div class="controls bullet"><span class="by">0xbadcafebee</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049002">prev</a><span>|</span><a href="#39049564">next</a><span>|</span><label class="collapse" for="c-39049039">[-]</label><label class="expand" for="c-39049039">[8 more]</label></div><br/><div class="children"><div class="content">That sentence was a little confusing. You&#x27;re not happy that the government is hiring experts to run an important service?</div><br/><div id="39049286" class="c"><input type="checkbox" id="c-39049286" checked=""/><div class="controls bullet"><span class="by">dtnewman</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049039">parent</a><span>|</span><a href="#39051135">next</a><span>|</span><label class="collapse" for="c-39049286">[-]</label><label class="expand" for="c-39049286">[5 more]</label></div><br/><div class="children"><div class="content">Yes. RDS is a very reasonable choice if you are a tech company, let alone a govt org. The alternative isn’t “let’s host this ourselves” it is “let’s host this with Oracle at a much higher cost”.</div><br/><div id="39052818" class="c"><input type="checkbox" id="c-39052818" checked=""/><div class="controls bullet"><span class="by">tobias_irmer</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049286">parent</a><span>|</span><a href="#39051116">next</a><span>|</span><label class="collapse" for="c-39052818">[-]</label><label class="expand" for="c-39052818">[1 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t? AWS is crazy expensive and you don&#x27;t have as much control over things as you may occasionally need. The best decision we took in the past few years with regards to infrastructure was moving away from AWS and doing everything ourselves.<p>On RDS we had inexplicable spikes in cost, deteriorating support and no real support for any of our issues. When we tried using DMS, it just didn&#x27;t work as expected, even after spending two days on the phone with their support.</div><br/></div></div><div id="39051116" class="c"><input type="checkbox" id="c-39051116" checked=""/><div class="controls bullet"><span class="by">15457345234</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049286">parent</a><span>|</span><a href="#39052818">prev</a><span>|</span><a href="#39051135">next</a><span>|</span><label class="collapse" for="c-39051116">[-]</label><label class="expand" for="c-39051116">[3 more]</label></div><br/><div class="children"><div class="content">The alternative - at government scale - is absolutely &#x27;let&#x27;s host this ourselves&#x27; and that&#x27;s what they should be doing, to ensure that institutional expertise remains. They should also own and operate their own datacentres which should be physically secure, not shared with commercial ventures and guarded by the armed forces, not civilian security.</div><br/><div id="39052302" class="c"><input type="checkbox" id="c-39052302" checked=""/><div class="controls bullet"><span class="by">0xbadcafebee</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39051116">parent</a><span>|</span><a href="#39051135">next</a><span>|</span><label class="collapse" for="c-39052302">[-]</label><label class="expand" for="c-39052302">[2 more]</label></div><br/><div class="children"><div class="content">Why doesn&#x27;t the government manufacture their own cars? They&#x27;re going to lose institutional expertise in building cars! They should also own and operate their own manufacturing facilities which should be physically secure, not shared with some &#x27;civilian commercial venture&#x27;.<p>By golly, the government can&#x27;t do business if it isn&#x27;t a datacenter operations company, a software vendor, and a car manufacturer.</div><br/><div id="39052957" class="c"><input type="checkbox" id="c-39052957" checked=""/><div class="controls bullet"><span class="by">15457345234</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39052302">parent</a><span>|</span><a href="#39051135">next</a><span>|</span><label class="collapse" for="c-39052957">[-]</label><label class="expand" for="c-39052957">[1 more]</label></div><br/><div class="children"><div class="content">&gt; By golly, the government can&#x27;t do business if it isn&#x27;t a datacenter operations company, a software vendor, and a car manufacturer.<p>I mean, precisely, which is why some countries are rapidly turning into failed states. Too much buck-passing and outsourcing.</div><br/></div></div></div></div></div></div></div></div><div id="39051135" class="c"><input type="checkbox" id="c-39051135" checked=""/><div class="controls bullet"><span class="by">15457345234</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049039">parent</a><span>|</span><a href="#39049286">prev</a><span>|</span><a href="#39049564">next</a><span>|</span><label class="collapse" for="c-39051135">[-]</label><label class="expand" for="c-39051135">[2 more]</label></div><br/><div class="children"><div class="content">&gt; is hiring experts<p>&#x27;moving to AWS&#x27; (or any cloud provider) is not &#x27;hiring experts&#x27; it&#x27;s just outsourcing the risk to an entity that you, in the event of a genuine crisis, have no leverage over beyond &#x27;we&#x27;re going to stop paying you (once we migrate away from you which will take ten years)&#x27;</div><br/><div id="39052316" class="c"><input type="checkbox" id="c-39052316" checked=""/><div class="controls bullet"><span class="by">0xbadcafebee</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39051135">parent</a><span>|</span><a href="#39049564">next</a><span>|</span><label class="collapse" for="c-39052316">[-]</label><label class="expand" for="c-39052316">[1 more]</label></div><br/><div class="children"><div class="content">AWS are not experts at providing computing services? Holy cow. This is news to me! I thought they were the most popular and highly regarded computing infrastructure and PaaS company in the world, managing both hardware and software and providing subject matter experts to work with customers on architecture and implementation, along with official partners and a marketplace of turn-key products.<p>Boy, am I embarrassed! I need to start building my own datacenter right away, all my shit is on AWS!!!</div><br/></div></div></div></div></div></div><div id="39049564" class="c"><input type="checkbox" id="c-39049564" checked=""/><div class="controls bullet"><span class="by">ivix</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049039">prev</a><span>|</span><a href="#39049540">next</a><span>|</span><label class="collapse" for="c-39049564">[-]</label><label class="expand" for="c-39049564">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m surprised that you&#x27;re surprised. Why on earth would government not be migrating to the cloud?</div><br/></div></div><div id="39049540" class="c"><input type="checkbox" id="c-39049540" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049564">prev</a><span>|</span><a href="#39049202">next</a><span>|</span><label class="collapse" for="c-39049540">[-]</label><label class="expand" for="c-39049540">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s an absolute ton of stuff on AWS. There used to be gCloud that allowed for smaller clouds to tender for government contracts bit there was a big pull to AWS, at least from my experience with it.</div><br/></div></div><div id="39049202" class="c"><input type="checkbox" id="c-39049202" checked=""/><div class="controls bullet"><span class="by">pixelesque</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049540">prev</a><span>|</span><a href="#39048969">next</a><span>|</span><label class="collapse" for="c-39049202">[-]</label><label class="expand" for="c-39049202">[2 more]</label></div><br/><div class="children"><div class="content">As other comments point out, their own platform was (at least in terms of DB) already running on AWS, just using a different account.</div><br/><div id="39049379" class="c"><input type="checkbox" id="c-39049379" checked=""/><div class="controls bullet"><span class="by">foofie</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39049202">parent</a><span>|</span><a href="#39048969">next</a><span>|</span><label class="collapse" for="c-39049379">[-]</label><label class="expand" for="c-39049379">[1 more]</label></div><br/><div class="children"><div class="content">&gt; As other comments point out, their own platform was (at least in terms of DB) already running on AWS, just using a different account.<p>That changes nothing. It just means this unjustifiable nonsense is going on for a while.</div><br/></div></div></div></div><div id="39048969" class="c"><input type="checkbox" id="c-39048969" checked=""/><div class="controls bullet"><span class="by">cpursley</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049202">prev</a><span>|</span><a href="#39049018">next</a><span>|</span><label class="collapse" for="c-39048969">[-]</label><label class="expand" for="c-39048969">[2 more]</label></div><br/><div class="children"><div class="content">And an American one, at that (we’re talking government services here, not some SaaS). Are there really no native UK cloud providers?</div><br/><div id="39049008" class="c"><input type="checkbox" id="c-39049008" checked=""/><div class="controls bullet"><span class="by">cameronh90</span><span>|</span><a href="#39048928">root</a><span>|</span><a href="#39048969">parent</a><span>|</span><a href="#39049018">next</a><span>|</span><label class="collapse" for="c-39049008">[-]</label><label class="expand" for="c-39049008">[1 more]</label></div><br/><div class="children"><div class="content">Not any remotely comparable. The small “cloud” providers we do have were just reselling vSphere last time I looked into it.</div><br/></div></div></div></div><div id="39049018" class="c"><input type="checkbox" id="c-39049018" checked=""/><div class="controls bullet"><span class="by">otteromkram</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39048969">prev</a><span>|</span><a href="#39049004">next</a><span>|</span><label class="collapse" for="c-39049018">[-]</label><label class="expand" for="c-39049018">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue that AWS is much better suited than self-hosting <i>because</i> it&#x27;s such an important service.<p>Downtime becomes negligible and global reach vastly increases with comparably little cost.</div><br/></div></div><div id="39049004" class="c"><input type="checkbox" id="c-39049004" checked=""/><div class="controls bullet"><span class="by">okasaki</span><span>|</span><a href="#39048928">parent</a><span>|</span><a href="#39049018">prev</a><span>|</span><a href="#39051431">next</a><span>|</span><label class="collapse" for="c-39049004">[-]</label><label class="expand" for="c-39049004">[1 more]</label></div><br/><div class="children"><div class="content">All UK businesses run on Oracle and Microsoft, so I&#x27;m not sure why you&#x27;re surprised. They have us by the balls.</div><br/></div></div></div></div></div></div></div></div></div></body></html>