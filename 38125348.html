<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699002059995" as="style"/><link rel="stylesheet" href="styles.css?v=1699002059995"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://v8.dev/blog/wasm-gc-porting">Bring garbage collected programming languages efficiently to WebAssembly</a> <span class="domain">(<a href="https://v8.dev">v8.dev</a>)</span></div><div class="subtext"><span>kiyanwang</span> | <span>8 comments</span></div><br/><div><div id="38126099" class="c"><input type="checkbox" id="c-38126099" checked=""/><div class="controls bullet"><span class="by">jillesvangurp</span><span>|</span><a href="#38125691">next</a><span>|</span><label class="collapse" for="c-38126099">[-]</label><label class="expand" for="c-38126099">[1 more]</label></div><br/><div class="children"><div class="content">The new wasm support in Kotlin is pretty exciting. There&#x27;s an experimental version of compose multiplatform that supports targeting browsers that will be using WASM. Compose multiplatform is basically Google&#x27;s Jetpack Compose for Android with added support for other platforms.<p>As of a few days ago, IOS support in alpha and will hit beta next year. Android and desktop support are now stable. Once that stuff stabilizes, you can write UI applications that basically work on any platform.<p>The wasm compiler will roll out along with kotlin 2.0 which is the next major release for Kotlin and features a new compiler (k2). This looks like it should happen early next year. k2 is currently available in beta release and you can enable it in kotlin 1.9.x.<p>The nice thing with the Kotlin multiplatform ecosystem is that there are already a lot of libraries that work across the various platforms. So, the wasm compiler will rapidly become part of that and inherit a lot of nice libraries. Mostly all that takes is for builds to be reconfigured to target that ecosystem and implementing some platform specific behavior where that is missing.<p>Another interesting thing in this space is using and linking libraries written in different libraries. For example a lot of the platform specifics are probably going to be dependent on e.g. C or Rust libraries that are already available. In many cases these might be the same libraries that Kotlin native uses.</div><br/></div></div><div id="38125691" class="c"><input type="checkbox" id="c-38125691" checked=""/><div class="controls bullet"><span class="by">samsquire</span><span>|</span><a href="#38126099">prev</a><span>|</span><a href="#38125920">next</a><span>|</span><label class="collapse" for="c-38125691">[-]</label><label class="expand" for="c-38125691">[3 more]</label></div><br/><div class="children"><div class="content">This is exciting.<p>I think WASM is an example of a thin waist [1] with its garbage collector and N+M rather than N×M. (N languages + M virtual machines + G garbage collectors). That&#x27;s a mature garbage collector in V8.<p>I was curious if there was a WASM to JVM and it seems there is one on GitHub, I haven&#x27;t used it I was just curious because the JVM is a mature (and parallel) garbage collector.<p>Now I&#x27;m excited for WASM Threads for true parallelism and not just IO parallelism because I didn&#x27;t think WASMGC would come out so soon.<p>The opportunity to solve async and parallelism and garbage collection EFFECTIVELY would strengthen WASM and not be a source of confusion or difficulty for developers. I think that&#x27;s why WASI is so important, a chance to define an API as stable as POSIX.<p>1: <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2022&#x2F;02&#x2F;diagrams.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2022&#x2F;02&#x2F;diagrams.html</a><p>2: <a href="https:&#x2F;&#x2F;github.com&#x2F;cretz&#x2F;asmble">https:&#x2F;&#x2F;github.com&#x2F;cretz&#x2F;asmble</a></div><br/><div id="38126019" class="c"><input type="checkbox" id="c-38126019" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#38125691">parent</a><span>|</span><a href="#38126034">next</a><span>|</span><label class="collapse" for="c-38126019">[-]</label><label class="expand" for="c-38126019">[1 more]</label></div><br/><div class="children"><div class="content">Following CLR footsteps, 22 years later.<p>&gt; More than 20 programming tools vendors offer some 26 programming languages — including C++, Perl, Python, Java, COBOL, RPG and Haskell — on .NET.<p>From <a href="https:&#x2F;&#x2F;news.microsoft.com&#x2F;2001&#x2F;10&#x2F;22&#x2F;massive-industry-and-developer-support-for-microsoft-net-on-display-at-professional-developers-conference-2001&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;news.microsoft.com&#x2F;2001&#x2F;10&#x2F;22&#x2F;massive-industry-and-d...</a></div><br/></div></div><div id="38126034" class="c"><input type="checkbox" id="c-38126034" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#38125691">parent</a><span>|</span><a href="#38126019">prev</a><span>|</span><a href="#38125920">next</a><span>|</span><label class="collapse" for="c-38126034">[-]</label><label class="expand" for="c-38126034">[1 more]</label></div><br/><div class="children"><div class="content">GraalVM can run WASM executables: <a href="https:&#x2F;&#x2F;www.graalvm.org&#x2F;latest&#x2F;reference-manual&#x2F;wasm&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.graalvm.org&#x2F;latest&#x2F;reference-manual&#x2F;wasm&#x2F;</a></div><br/></div></div></div></div><div id="38125920" class="c"><input type="checkbox" id="c-38125920" checked=""/><div class="controls bullet"><span class="by">ChrisRackauckas</span><span>|</span><a href="#38125691">prev</a><span>|</span><a href="#38125875">next</a><span>|</span><label class="collapse" for="c-38125920">[-]</label><label class="expand" for="c-38125920">[1 more]</label></div><br/><div class="children"><div class="content">The Julia WASM tools can make apps which support (&#x2F;require) this feature. For example, you can compile the ODE solver to WASM as is demonstrated on <a href="https:&#x2F;&#x2F;tshort.github.io&#x2F;WebAssemblyCompiler.jl&#x2F;stable&#x2F;examples&#x2F;lorenz&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;tshort.github.io&#x2F;WebAssemblyCompiler.jl&#x2F;stable&#x2F;examp...</a>. It requires Chrome v119 in order to work out of the box due to that being the first version to enable the GC support. The front page of the WASM compiler <a href="https:&#x2F;&#x2F;tshort.github.io&#x2F;WebAssemblyCompiler.jl&#x2F;stable&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;tshort.github.io&#x2F;WebAssemblyCompiler.jl&#x2F;stable&#x2F;</a> has more details.</div><br/></div></div><div id="38125875" class="c"><input type="checkbox" id="c-38125875" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#38125920">prev</a><span>|</span><label class="collapse" for="c-38125875">[-]</label><label class="expand" for="c-38125875">[2 more]</label></div><br/><div class="children"><div class="content">I was under the impression that direct interaction with the DOM from WASM was predicated on GC support. Does this mean that something like python could now directly access the DOM without javascript?</div><br/><div id="38125949" class="c"><input type="checkbox" id="c-38125949" checked=""/><div class="controls bullet"><span class="by">Skinney</span><span>|</span><a href="#38125875">parent</a><span>|</span><label class="collapse" for="c-38125949">[-]</label><label class="expand" for="c-38125949">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think WASM has API&#x27;s for accessing the DOM, so you&#x27;ll still need a little bit of glue code.<p>The GC support allows you to safely pass GC objects around without them dissapearing (being collected) on you.</div><br/></div></div></div></div></div></div></div></div></div></body></html>