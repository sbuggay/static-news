<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1693645255709" as="style"/><link rel="stylesheet" href="styles.css?v=1693645255709"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://akashhamirwasia.com/blog/internals-of-async-await-in-javascript/">Internals of async / await in JavaScript</a> <span class="domain">(<a href="https://akashhamirwasia.com">akashhamirwasia.com</a>)</span></div><div class="subtext"><span>spacebuffer</span> | <span>11 comments</span></div><br/><div><div id="37359562" class="c"><input type="checkbox" id="c-37359562" checked=""/><div class="controls bullet"><span class="by">l5870uoo9y</span><span>|</span><a href="#37359502">next</a><span>|</span><label class="collapse" for="c-37359562">[-]</label><label class="expand" for="c-37359562">[2 more]</label></div><br/><div class="children"><div class="content">The whole article properly the best explanation of generators I have come across. This quote stuck out:<p>&gt; Generators are a special type of function that can return multiple pieces of data during its execution. Traditional functions can return multiple data by using structures like Arrays and Objects, but Generators return data whenever the caller asks for it, and they pause execution until they are asked to continue to generate and return more data.<p>Applications of generators? I have only used Redux-Saga[1]. Can&#x27;t even think of other libraries that use them, but would be interested in learning.<p>[1]: <a href="https:&#x2F;&#x2F;redux-saga.js.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;redux-saga.js.org&#x2F;</a></div><br/><div id="37359616" class="c"><input type="checkbox" id="c-37359616" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#37359562">parent</a><span>|</span><a href="#37359502">next</a><span>|</span><label class="collapse" for="c-37359616">[-]</label><label class="expand" for="c-37359616">[1 more]</label></div><br/><div class="children"><div class="content">I think seeing generators as <i>special functions</i> makes them feel more magic than what they really are: generators are nothing  more than a syntactic sugar for <i>objects</i> with a “call” method that will change the values of the private fields in this object, that&#x27;s why you can call it repeatedly with different results.<p>Some patterns become easier to write with the generator syntax, but it&#x27;s not really adding expressive power. (Unlike futures for instance)</div><br/></div></div></div></div><div id="37359502" class="c"><input type="checkbox" id="c-37359502" checked=""/><div class="controls bullet"><span class="by">quectophoton</span><span>|</span><a href="#37359562">prev</a><span>|</span><a href="#37359503">next</a><span>|</span><label class="collapse" for="c-37359502">[-]</label><label class="expand" for="c-37359502">[1 more]</label></div><br/><div class="children"><div class="content">The only reason I know about JS generators, and also about using them to simulate async&#x2F;await, is <i>only</i> because I was already using JS when they were added to the language. If that hasn&#x27;t been the case, I probably wouldn&#x27;t even know they existed.<p>I haven&#x27;t used that much JS recently, but my guess is that &quot;for await of&quot; will make generators more widely known and used.</div><br/></div></div><div id="37359503" class="c"><input type="checkbox" id="c-37359503" checked=""/><div class="controls bullet"><span class="by">endorphine</span><span>|</span><a href="#37359502">prev</a><span>|</span><a href="#37359226">next</a><span>|</span><label class="collapse" for="c-37359503">[-]</label><label class="expand" for="c-37359503">[1 more]</label></div><br/><div class="children"><div class="content">Related Ask HN discussion with lots of insights on how async&#x2F;await works: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30502067">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30502067</a></div><br/></div></div><div id="37359226" class="c"><input type="checkbox" id="c-37359226" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#37359503">prev</a><span>|</span><a href="#37357995">next</a><span>|</span><label class="collapse" for="c-37359226">[-]</label><label class="expand" for="c-37359226">[2 more]</label></div><br/><div class="children"><div class="content">Thought this was going to explore V8 source code...</div><br/><div id="37359505" class="c"><input type="checkbox" id="c-37359505" checked=""/><div class="controls bullet"><span class="by">endorphine</span><span>|</span><a href="#37359226">parent</a><span>|</span><a href="#37357995">next</a><span>|</span><label class="collapse" for="c-37359505">[-]</label><label class="expand" for="c-37359505">[1 more]</label></div><br/><div class="children"><div class="content">That would be cool</div><br/></div></div></div></div><div id="37357995" class="c"><input type="checkbox" id="c-37357995" checked=""/><div class="controls bullet"><span class="by">rzimmerman</span><span>|</span><a href="#37359226">prev</a><span>|</span><a href="#37359216">next</a><span>|</span><label class="collapse" for="c-37357995">[-]</label><label class="expand" for="c-37357995">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s obsolete now, but before async&#x2F;await was part of JS proper I worked on a compile-to-JS language that handled this by compiling to callbacks: <a href="https:&#x2F;&#x2F;github.com&#x2F;rzimmerman&#x2F;kal">https:&#x2F;&#x2F;github.com&#x2F;rzimmerman&#x2F;kal</a><p>It included try&#x2F;catch support and fancy stuff, like loops. The source may be interesting for anyone interested in compilers: <a href="https:&#x2F;&#x2F;github.com&#x2F;rzimmerman&#x2F;kal&#x2F;blob&#x2F;master&#x2F;source&#x2F;generator.litkal">https:&#x2F;&#x2F;github.com&#x2F;rzimmerman&#x2F;kal&#x2F;blob&#x2F;master&#x2F;source&#x2F;generat...</a><p>The Kal compiler is written in Kal, but it&#x27;s supposed to be easy to read. Surprisingly the browser demo still works: <a href="http:&#x2F;&#x2F;rzimmerman.github.io&#x2F;kal&#x2F;demo.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;rzimmerman.github.io&#x2F;kal&#x2F;demo.html</a></div><br/><div id="37359031" class="c"><input type="checkbox" id="c-37359031" checked=""/><div class="controls bullet"><span class="by">sebazzz</span><span>|</span><a href="#37357995">parent</a><span>|</span><a href="#37359216">next</a><span>|</span><label class="collapse" for="c-37359031">[-]</label><label class="expand" for="c-37359031">[2 more]</label></div><br/><div class="children"><div class="content">Before it was par of JS proper Typescript could also transpile to callbacks. Good stuff.</div><br/><div id="37359398" class="c"><input type="checkbox" id="c-37359398" checked=""/><div class="controls bullet"><span class="by">14u2c</span><span>|</span><a href="#37357995">root</a><span>|</span><a href="#37359031">parent</a><span>|</span><a href="#37359216">next</a><span>|</span><label class="collapse" for="c-37359398">[-]</label><label class="expand" for="c-37359398">[1 more]</label></div><br/><div class="children"><div class="content">Babel will still pollyfill async await too if configured.</div><br/></div></div></div></div></div></div><div id="37359216" class="c"><input type="checkbox" id="c-37359216" checked=""/><div class="controls bullet"><span class="by">trashburger</span><span>|</span><a href="#37357995">prev</a><span>|</span><label class="collapse" for="c-37359216">[-]</label><label class="expand" for="c-37359216">[1 more]</label></div><br/><div class="children"><div class="content">From my (admittedly shallow) understanding, each &quot;await&quot; in an async function creates continuation points, is that correct? And then when the internally used Promise resolves or rejects, the function resumes from the continuation point.</div><br/></div></div></div></div></div></div></div></body></html>