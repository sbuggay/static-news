<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731488470162" as="style"/><link rel="stylesheet" href="styles.css?v=1731488470162"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://pushtoprod.substack.com/p/netflix-terrifying-concurrency-bug">We Built a Self-Healing System to Survive a Concurrency Bug at Netflix</a> <span class="domain">(<a href="https://pushtoprod.substack.com">pushtoprod.substack.com</a>)</span></div><div class="subtext"><span>zdw</span> | <span>48 comments</span></div><br/><div><div id="42124204" class="c"><input type="checkbox" id="c-42124204" checked=""/><div class="controls bullet"><span class="by">iluvcommunism</span><span>|</span><a href="#42123612">next</a><span>|</span><label class="collapse" for="c-42124204">[-]</label><label class="expand" for="c-42124204">[2 more]</label></div><br/><div class="children"><div class="content">Kill and restart the service. 
This seems to be the coder solution to everything. 
We do it for our service as well. 
The programmer could fix their stuff but alas, that’s too much to ask.</div><br/><div id="42124227" class="c"><input type="checkbox" id="c-42124227" checked=""/><div class="controls bullet"><span class="by">edf13</span><span>|</span><a href="#42124204">parent</a><span>|</span><a href="#42123612">next</a><span>|</span><label class="collapse" for="c-42124227">[-]</label><label class="expand" for="c-42124227">[1 more]</label></div><br/><div class="children"><div class="content">Yes - lots of writing for a common solution to a bug...<p>Memory leaks are often &quot;resolved&quot; this way... until time allows for a proper fix.</div><br/></div></div></div></div><div id="42123612" class="c"><input type="checkbox" id="c-42123612" checked=""/><div class="controls bullet"><span class="by">kenhwang</span><span>|</span><a href="#42124204">prev</a><span>|</span><a href="#42123766">next</a><span>|</span><label class="collapse" for="c-42123612">[-]</label><label class="expand" for="c-42123612">[18 more]</label></div><br/><div class="children"><div class="content">My workplace currently has a similar problem where a resource leak can be greatly increased with certain unpredictable&#x2F;unknown traffic conditions.<p>Our half-day workaround implementation was the same thing, just cycle the cluster regularly automatically.<p>Since we&#x27;re running on AWS, we just double the size of the cluster, wait for the instances to initialize, then rapidly decommission the old instances. Every 2 hours.<p>It&#x27;s shockingly stable. So much so that resolving the root cause isn&#x27;t considered a priority and so we&#x27;ve had this running for months.</div><br/><div id="42123746" class="c"><input type="checkbox" id="c-42123746" checked=""/><div class="controls bullet"><span class="by">JSDevOps</span><span>|</span><a href="#42123612">parent</a><span>|</span><a href="#42123635">next</a><span>|</span><label class="collapse" for="c-42123746">[-]</label><label class="expand" for="c-42123746">[3 more]</label></div><br/><div class="children"><div class="content">This sounds terrible</div><br/><div id="42124190" class="c"><input type="checkbox" id="c-42124190" checked=""/><div class="controls bullet"><span class="by">forkerenok</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123746">parent</a><span>|</span><a href="#42124200">next</a><span>|</span><label class="collapse" for="c-42124190">[-]</label><label class="expand" for="c-42124190">[1 more]</label></div><br/><div class="children"><div class="content">If you squint hard enough, this is an implementation of a higher order garbage collection: MarkNothingAndSweepEverything.<p>There, formalized the approach, so you can&#x27;t call it terrible anymore.</div><br/></div></div><div id="42124200" class="c"><input type="checkbox" id="c-42124200" checked=""/><div class="controls bullet"><span class="by">bubblyworld</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123746">parent</a><span>|</span><a href="#42124190">prev</a><span>|</span><a href="#42123635">next</a><span>|</span><label class="collapse" for="c-42124200">[-]</label><label class="expand" for="c-42124200">[1 more]</label></div><br/><div class="children"><div class="content">Can you please elaborate? The OP has explained their side of the story - it&#x27;s stable and cost very little engineering time (which is super expensive). I&#x27;m frustrated that everyone is posting knee jerk reactions instead of constructively discussing this.</div><br/></div></div></div></div><div id="42123635" class="c"><input type="checkbox" id="c-42123635" checked=""/><div class="controls bullet"><span class="by">gorkempacaci</span><span>|</span><a href="#42123612">parent</a><span>|</span><a href="#42123746">prev</a><span>|</span><a href="#42123765">next</a><span>|</span><label class="collapse" for="c-42123635">[-]</label><label class="expand" for="c-42123635">[6 more]</label></div><br/><div class="children"><div class="content">How about the costs? Isn’t this a very expensive bandaid? How is it not a priority? :)</div><br/><div id="42123703" class="c"><input type="checkbox" id="c-42123703" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123635">parent</a><span>|</span><a href="#42123654">next</a><span>|</span><label class="collapse" for="c-42123703">[-]</label><label class="expand" for="c-42123703">[2 more]</label></div><br/><div class="children"><div class="content">Shouldn&#x27;t be too high cost if you only run 2x the instances for a short amount of time. A reasonable use of Cloud, IMHO, if you can&#x27;t figure out a less disruptive bandaid.</div><br/><div id="42124217" class="c"><input type="checkbox" id="c-42124217" checked=""/><div class="controls bullet"><span class="by">dochne</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123703">parent</a><span>|</span><a href="#42123654">next</a><span>|</span><label class="collapse" for="c-42124217">[-]</label><label class="expand" for="c-42124217">[1 more]</label></div><br/><div class="children"><div class="content">AWS charges instances in 1 hour increments - so you&#x27;re paying 150% the EC2 costs if you&#x27;re doing this every 2 hours</div><br/></div></div></div></div><div id="42123654" class="c"><input type="checkbox" id="c-42123654" checked=""/><div class="controls bullet"><span class="by">bratbag</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123635">parent</a><span>|</span><a href="#42123703">prev</a><span>|</span><a href="#42123665">next</a><span>|</span><label class="collapse" for="c-42123654">[-]</label><label class="expand" for="c-42123654">[2 more]</label></div><br/><div class="children"><div class="content">Depends what else it&#x27;s solving for.<p>I&#x27;ve seen multiple issues solved like this after engineering teams have been cut to the bone.<p>If the cost of maintaining enough engineers to keep systems stable for more than 24 hours, is more than the cost of doubling the container count, then this is what happens</div><br/><div id="42123752" class="c"><input type="checkbox" id="c-42123752" checked=""/><div class="controls bullet"><span class="by">JSDevOps</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123654">parent</a><span>|</span><a href="#42123665">next</a><span>|</span><label class="collapse" for="c-42123752">[-]</label><label class="expand" for="c-42123752">[1 more]</label></div><br/><div class="children"><div class="content">This. All the domain knowledge has left. This sounds like a Hacky work around at best which AWS will welcome you with open arms come invoice day.</div><br/></div></div></div></div><div id="42123665" class="c"><input type="checkbox" id="c-42123665" checked=""/><div class="controls bullet"><span class="by">kenhwang</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123635">parent</a><span>|</span><a href="#42123654">prev</a><span>|</span><a href="#42123765">next</a><span>|</span><label class="collapse" for="c-42123665">[-]</label><label class="expand" for="c-42123665">[1 more]</label></div><br/><div class="children"><div class="content">Depends on how long it takes for the incoming instances to initialize and outgoing instances to fully decommission.<p>x = time it takes to switchover<p>y = length of the cycles<p>x&#x2F;y = % increase in cost<p>For us, it&#x27;s 15 minutes &#x2F; 120 minutes = 12.5% increase, which was deemed acceptable enough for a small service.</div><br/></div></div></div></div><div id="42123765" class="c"><input type="checkbox" id="c-42123765" checked=""/><div class="controls bullet"><span class="by">anal_reactor</span><span>|</span><a href="#42123612">parent</a><span>|</span><a href="#42123635">prev</a><span>|</span><a href="#42123777">next</a><span>|</span><label class="collapse" for="c-42123765">[-]</label><label class="expand" for="c-42123765">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve realized that majority of engineers have no critical thinking, and are unable to see things beyond their domain of speciality. Arguments like &quot;even when accounting for potential incident, your solution is more expensive, while our main goal is making money&quot; almost never work, and I&#x27;ve been in countless discussions where some random document with &quot;best practices&quot;, whatever they are supposed to be, was treated like a sacred scripture.</div><br/><div id="42123815" class="c"><input type="checkbox" id="c-42123815" checked=""/><div class="controls bullet"><span class="by">MathMonkeyMan</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123765">parent</a><span>|</span><a href="#42123879">next</a><span>|</span><label class="collapse" for="c-42123815">[-]</label><label class="expand" for="c-42123815">[4 more]</label></div><br/><div class="children"><div class="content">We are dogmatic and emotional, but the temptation to base your opinions on the &quot;deeper theory&quot; is large.<p>Pragmatically, restart the service periodically and spend your time on more pressing matters.<p>On the other hand, we fully understand the reason for the fault, but we don&#x27;t know exactly where the fault is. And it is, our fault. It takes a certain kind of discipline to say &quot;there are many things I understand but don&#x27;t have the time to master now, let&#x27;s leave it.&quot;<p>It&#x27;s, mostly, embarrassing.</div><br/><div id="42123904" class="c"><input type="checkbox" id="c-42123904" checked=""/><div class="controls bullet"><span class="by">keeganpoppen</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123815">parent</a><span>|</span><a href="#42123879">next</a><span>|</span><label class="collapse" for="c-42123904">[-]</label><label class="expand" for="c-42123904">[3 more]</label></div><br/><div class="children"><div class="content">&quot;certain kind&quot; of discipline, indeed... not the good kind. and while your comment goes to great pains to highlight how that particular God is dead (and i agree, for the record), the God of Quality (the one that Pirsig goes to great lengths to not really define) toward which the engineer&#x27;s heart of heart prays that lives within us all is... unimpressed, to say the least.</div><br/><div id="42124209" class="c"><input type="checkbox" id="c-42124209" checked=""/><div class="controls bullet"><span class="by">c0balt</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123904">parent</a><span>|</span><a href="#42124179">next</a><span>|</span><label class="collapse" for="c-42124209">[-]</label><label class="expand" for="c-42124209">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;certain kind&quot; of discipline, indeed... not the good kind.<p>Not OP but this is a somewhat normal case of making a tradeoff? They aren&#x27;t able to repair it at the moment (or rather don&#x27;t want&#x2F;can&#x27;t allocate the time for it) and instead trade their ressource usage for stability and technical debt.</div><br/></div></div><div id="42124179" class="c"><input type="checkbox" id="c-42124179" checked=""/><div class="controls bullet"><span class="by">raverbashing</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123904">parent</a><span>|</span><a href="#42124209">prev</a><span>|</span><a href="#42123879">next</a><span>|</span><label class="collapse" for="c-42124179">[-]</label><label class="expand" for="c-42124179">[1 more]</label></div><br/><div class="children"><div class="content">Sure, you worship the God of Quality until you realize that memory leak is being caused by a 3rd party library (extra annoying when you could have solved it yourself) or a quirky stdlib implementation<p>Then you realize it&#x27;s a paper idol and the best you can do is suck less than the average.</div><br/></div></div></div></div></div></div><div id="42123879" class="c"><input type="checkbox" id="c-42123879" checked=""/><div class="controls bullet"><span class="by">keeganpoppen</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123765">parent</a><span>|</span><a href="#42123815">prev</a><span>|</span><a href="#42123777">next</a><span>|</span><label class="collapse" for="c-42123879">[-]</label><label class="expand" for="c-42123879">[1 more]</label></div><br/><div class="children"><div class="content">that&#x27;s because the judge(s) and executioner(s) aren&#x27;t engineers, and the jury is not of their peers. and for the record i have a hard time faulting the non-engineers above so-described... they are just grasping for things they can understand and have input on. who wouldn&#x27;t want that? it&#x27;s not at all reasonable for the keepers of the pursestrings to expect a certain amount of genuflection by way of self-justification. no one watches the watchers... but they&#x27;re the ones watching, so may as well present them with a verisimilitudinous rendition of reality... right?<p>but, as a discipline, engineers manage to encourage the ascent of the least engineer-ly (or, perhaps, &quot;hacker&quot;-ly) among them (&quot;us&quot;) ...-selves... through their sui generis combination of learned helplessness, willful ignorance, incorrigible myopia, innate naïvete, and cynical self-servitude that signify the Institutional (Software) Engineer. coddled more than any other specialty within &quot;the enterprise&quot;, they manage to simultaneously underplay their hand with respect to True Leverage (read: &quot;Power&quot;) and overplay their hand with respect to complices of superiority. i am ashamed and dismayed to recall the numerous times i have heard (and heard of) comments to the effect of &quot;my time is too expensive for this meeting&quot; in the workplace... every single one of which has come not from the managerial class-- as one might reasonably, if superficially, expect-- but from the software engineer rank and file.<p>to be clear: i don&#x27;t think it&#x27;s fair to expect high-minded idealism from <i>anyone</i>. but if you are looking for the archetypical &quot;company person&quot;... engineers need look no further than their fellow podmates &#x2F; slack-room-mates &#x2F; etc. and thus no one should be surprised to see the state of the world we all collectively hath wrought.</div><br/></div></div></div></div><div id="42123777" class="c"><input type="checkbox" id="c-42123777" checked=""/><div class="controls bullet"><span class="by">bongodongobob</span><span>|</span><a href="#42123612">parent</a><span>|</span><a href="#42123765">prev</a><span>|</span><a href="#42123766">next</a><span>|</span><label class="collapse" for="c-42123777">[-]</label><label class="expand" for="c-42123777">[2 more]</label></div><br/><div class="children"><div class="content">&quot;It&#x27;s shockingly stable.&quot; You&#x27;re running a soup.
I&#x27;m not sure if this is satire or not.
This reminds me of using a plug-in light timer to reboot your servers because some java program eats all the memory.</div><br/><div id="42123906" class="c"><input type="checkbox" id="c-42123906" checked=""/><div class="controls bullet"><span class="by">keeganpoppen</span><span>|</span><a href="#42123612">root</a><span>|</span><a href="#42123777">parent</a><span>|</span><a href="#42123766">next</a><span>|</span><label class="collapse" for="c-42123906">[-]</label><label class="expand" for="c-42123906">[1 more]</label></div><br/><div class="children"><div class="content">or installing software to jiggle the mouse every so often so that the computer with the spreadsheet that runs the company doesn&#x27;t go to sleep</div><br/></div></div></div></div></div></div><div id="42123766" class="c"><input type="checkbox" id="c-42123766" checked=""/><div class="controls bullet"><span class="by">conradfr</span><span>|</span><a href="#42123612">prev</a><span>|</span><a href="#42123630">next</a><span>|</span><label class="collapse" for="c-42123766">[-]</label><label class="expand" for="c-42123766">[1 more]</label></div><br/><div class="children"><div class="content">I have a project where one function (reading metadata from an Icecast stream [0]) was causing a memory leak and ultimately consuming all of it.<p>I don&#x27;t remember all the details but I&#x27;ve still not be able to find the bug.<p>But this being in Elixir I &quot;fixed it&quot; with Task, TaskSupervisor and try&#x2F;catch&#x2F;rescue.<p>Not really a win but it is still running fine to this day.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;conradfr&#x2F;ProgRadio&#x2F;blob&#x2F;1fa12ca73a40aedb949635dcaa3a486f432d0cb9&#x2F;progradio_api&#x2F;lib&#x2F;progradio_api&#x2F;song_provider&#x2F;icecast.ex#L48">https:&#x2F;&#x2F;github.com&#x2F;conradfr&#x2F;ProgRadio&#x2F;blob&#x2F;1fa12ca73a40aedb9...</a></div><br/></div></div><div id="42123630" class="c"><input type="checkbox" id="c-42123630" checked=""/><div class="controls bullet"><span class="by">xxs</span><span>|</span><a href="#42123766">prev</a><span>|</span><a href="#42123431">next</a><span>|</span><label class="collapse" for="c-42123630">[-]</label><label class="expand" for="c-42123630">[1 more]</label></div><br/><div class="children"><div class="content">They were just lucky not to have data corruption due to concurrency issue, and the manifestation was infinite get. Overall if you can randomly &quot;kill -9&quot;, the case is rather trivial.<p>Likely replacing HashMap with CHM would not solve the concurrency issue either, but it&#x27;d prevent an infinite loop. (Edit) It appear that part is just wrong: &quot;some calls to ConcurrentHashMap.get() seemed to be running infinitely.&quot; &lt;-- it&#x27;s possible to happen no hashmap during concurrent put(s), but not to ConcurrentHashMap</div><br/></div></div><div id="42123431" class="c"><input type="checkbox" id="c-42123431" checked=""/><div class="controls bullet"><span class="by">dhruvrrp</span><span>|</span><a href="#42123630">prev</a><span>|</span><a href="#42123387">next</a><span>|</span><label class="collapse" for="c-42123431">[-]</label><label class="expand" for="c-42123431">[2 more]</label></div><br/><div class="children"><div class="content">Interesting read, the fix seems to be straightforward, but I&#x27;d have a few more questions if I was trying to do something similar.<p>Is software deployed regularly on this cluster? Does that deployment happen faster than the rate at which they were losing CPUs? Why not just periodically force a deployment, given it&#x27;s a repeated process that probably already happens frequently.<p>What happens to the clients trying to connect to the stuck instances? Did they just get stuck&#x2F;timeout? Would it have been better to have more targeted terminations&#x2F;full terminations instead?</div><br/><div id="42124066" class="c"><input type="checkbox" id="c-42124066" checked=""/><div class="controls bullet"><span class="by">nikita2206</span><span>|</span><a href="#42123431">parent</a><span>|</span><a href="#42123387">next</a><span>|</span><label class="collapse" for="c-42124066">[-]</label><label class="expand" for="c-42124066">[1 more]</label></div><br/><div class="children"><div class="content">An answer to basically all your questions is: doesn’t matter, they did their best to stabilize in a short amount of time, and it worked - that’s what mattered.</div><br/></div></div></div></div><div id="42123387" class="c"><input type="checkbox" id="c-42123387" checked=""/><div class="controls bullet"><span class="by">ksd482</span><span>|</span><a href="#42123431">prev</a><span>|</span><a href="#42123396">next</a><span>|</span><label class="collapse" for="c-42123387">[-]</label><label class="expand" for="c-42123387">[3 more]</label></div><br/><div class="children"><div class="content">This was a nice short read. A simple (temporary) solution, yet a clever one.<p>How was he managing the instances? Was he using kubernetes, or did he write some script to manage the auto terminating of the instances?<p>It would also be nice to know why:<p>1. Killing was quicker than restarting. Perhaps because of the business logic built into the java application?<p>2. Killing was safe. How was the system architectured so that the requests weren&#x27;t dropped altogether.<p>EDIT: formatting</div><br/><div id="42123401" class="c"><input type="checkbox" id="c-42123401" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#42123387">parent</a><span>|</span><a href="#42123398">next</a><span>|</span><label class="collapse" for="c-42123401">[-]</label><label class="expand" for="c-42123401">[1 more]</label></div><br/><div class="children"><div class="content">The author mentions 2011 as the time they switched from REST to RPC-ish APIs, and this issue was related to that migration.<p>Kubernetes launched in 2014, if memory serves, and it took a bit before widespread adoption, so I’m guessing this was some internal solution.<p>This was a great read, and harkens back to the days of managing 1000s of cores on bare metal!</div><br/></div></div></div></div><div id="42123396" class="c"><input type="checkbox" id="c-42123396" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#42123387">prev</a><span>|</span><a href="#42123314">next</a><span>|</span><label class="collapse" for="c-42123396">[-]</label><label class="expand" for="c-42123396">[2 more]</label></div><br/><div class="children"><div class="content">That was a bit underwhelming compared to what the headline set my expectations up for, but definitely a good idea and neat solution.</div><br/><div id="42124147" class="c"><input type="checkbox" id="c-42124147" checked=""/><div class="controls bullet"><span class="by">vanjajaja1</span><span>|</span><a href="#42123396">parent</a><span>|</span><a href="#42123314">next</a><span>|</span><label class="collapse" for="c-42124147">[-]</label><label class="expand" for="c-42124147">[1 more]</label></div><br/><div class="children"><div class="content">from the headline alone I got linkedin ceo vibe. &quot;Built a Self-Healing System to Survive a Concurrency Bug&quot; is how I could describe wrapping a failing method in a retry loop</div><br/></div></div></div></div><div id="42123314" class="c"><input type="checkbox" id="c-42123314" checked=""/><div class="controls bullet"><span class="by">coolgoose</span><span>|</span><a href="#42123396">prev</a><span>|</span><a href="#42123806">next</a><span>|</span><label class="collapse" for="c-42123314">[-]</label><label class="expand" for="c-42123314">[3 more]</label></div><br/><div class="children"><div class="content">One of the things I am greatful for kubernetes and the killing of pods.<p>Had a similar problem but memory wise with a pesky memory leak, and the short term solution was to do nothing as instances would to do nothing.</div><br/><div id="42123324" class="c"><input type="checkbox" id="c-42123324" checked=""/><div class="controls bullet"><span class="by">maximinus_thrax</span><span>|</span><a href="#42123314">parent</a><span>|</span><a href="#42123806">next</a><span>|</span><label class="collapse" for="c-42123324">[-]</label><label class="expand" for="c-42123324">[2 more]</label></div><br/><div class="children"><div class="content">During one of my past gigs, this exact feature hid a huge memory leak, in old code, always running on k8s which we found out only when we moved some instances to bare metal.</div><br/><div id="42123462" class="c"><input type="checkbox" id="c-42123462" checked=""/><div class="controls bullet"><span class="by">esprehn</span><span>|</span><a href="#42123314">root</a><span>|</span><a href="#42123324">parent</a><span>|</span><a href="#42123806">next</a><span>|</span><label class="collapse" for="c-42123462">[-]</label><label class="expand" for="c-42123462">[1 more]</label></div><br/><div class="children"><div class="content">We hit this in a past gig too. One of the big services had a leak, but deployed every 24 hours which was hiding it. When the holiday deploy freeze hit the pods lived much longer than normal and caused an OOM storm.<p>At first I thought maybe we should add a &quot;hack&quot; to cycle all the pods over 24 hours old, but then I wondered if making holiday freezes behave like normal weeks was really a hack at all or just reasonable predictability.<p>In the end folks managed to fix the leak and we didn&#x27;t resolve the philosophical question though.</div><br/></div></div></div></div></div></div><div id="42123806" class="c"><input type="checkbox" id="c-42123806" checked=""/><div class="controls bullet"><span class="by">btbuilder</span><span>|</span><a href="#42123314">prev</a><span>|</span><a href="#42123791">next</a><span>|</span><label class="collapse" for="c-42123806">[-]</label><label class="expand" for="c-42123806">[3 more]</label></div><br/><div class="children"><div class="content">I mean, it worked for Boeing[1] too.<p>1 - <a href="https:&#x2F;&#x2F;www.theregister.com&#x2F;2020&#x2F;04&#x2F;02&#x2F;boeing_787_power_cycle_51_days_stale_data&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.theregister.com&#x2F;2020&#x2F;04&#x2F;02&#x2F;boeing_787_power_cycl...</a></div><br/><div id="42123942" class="c"><input type="checkbox" id="c-42123942" checked=""/><div class="controls bullet"><span class="by">shiroiushi</span><span>|</span><a href="#42123806">parent</a><span>|</span><a href="#42123911">next</a><span>|</span><label class="collapse" for="c-42123942">[-]</label><label class="expand" for="c-42123942">[1 more]</label></div><br/><div class="children"><div class="content">True, but for somewhat different reasons.  For the OP, they take this approach because they simply don&#x27;t know yet what the problem is, and it would take some time to track it down and fix it and they don&#x27;t want to bother.<p>For Boeing, it&#x27;s probably something fairly simple actually, but they don&#x27;t want to fix it because their software has to go through a strict development process based on requirements and needing certification and testing, so fixing even a trivial bug is extremely time-consuming and expensive, so it&#x27;s easier to just put a directive in the manual saying the equipment needs to be power-cycled every so often and let the users deal with it.  The OP isn&#x27;t dealing with this kind of situation.</div><br/></div></div><div id="42123911" class="c"><input type="checkbox" id="c-42123911" checked=""/><div class="controls bullet"><span class="by">keeganpoppen</span><span>|</span><a href="#42123806">parent</a><span>|</span><a href="#42123942">prev</a><span>|</span><a href="#42123791">next</a><span>|</span><label class="collapse" for="c-42123911">[-]</label><label class="expand" for="c-42123911">[1 more]</label></div><br/><div class="children"><div class="content">&quot;worked&quot;<p>(not that i don&#x27;t get the sarcasm)</div><br/></div></div></div></div><div id="42123791" class="c"><input type="checkbox" id="c-42123791" checked=""/><div class="controls bullet"><span class="by">girishso</span><span>|</span><a href="#42123806">prev</a><span>|</span><a href="#42123353">next</a><span>|</span><label class="collapse" for="c-42123791">[-]</label><label class="expand" for="c-42123791">[1 more]</label></div><br/><div class="children"><div class="content">Not much familiar with Elixir OTP, but isn’t the approach OP took similar to Let It Crash philosophy of OTP?</div><br/></div></div><div id="42123449" class="c"><input type="checkbox" id="c-42123449" checked=""/><div class="controls bullet"><span class="by">rukugu</span><span>|</span><a href="#42123353">prev</a><span>|</span><a href="#42123198">next</a><span>|</span><label class="collapse" for="c-42123449">[-]</label><label class="expand" for="c-42123449">[1 more]</label></div><br/><div class="children"><div class="content">I like the practicality of this</div><br/></div></div><div id="42123495" class="c"><input type="checkbox" id="c-42123495" checked=""/><div class="controls bullet"><span class="by">raverbashing</span><span>|</span><a href="#42123198">prev</a><span>|</span><a href="#42124043">next</a><span>|</span><label class="collapse" for="c-42123495">[-]</label><label class="expand" for="c-42123495">[3 more]</label></div><br/><div class="children"><div class="content">&gt; and to my memory, some calls to ConcurrentHashMap.get() seemed to be running infinitely.<p>Of course they did. And whoever though &quot;Concurrent&quot; meant it would work fine gets burned by it. Of course.<p>And of course it doesn&#x27;t work properly or intuitively for some very stupid reason. Sigh</div><br/><div id="42123637" class="c"><input type="checkbox" id="c-42123637" checked=""/><div class="controls bullet"><span class="by">xxs</span><span>|</span><a href="#42123495">parent</a><span>|</span><a href="#42124043">next</a><span>|</span><label class="collapse" for="c-42123637">[-]</label><label class="expand" for="c-42123637">[2 more]</label></div><br/><div class="children"><div class="content">It has to be an error - it could happen to HashMap, it has never been an issue w&#x2F; CHM.</div><br/><div id="42123921" class="c"><input type="checkbox" id="c-42123921" checked=""/><div class="controls bullet"><span class="by">keeganpoppen</span><span>|</span><a href="#42123495">root</a><span>|</span><a href="#42123637">parent</a><span>|</span><a href="#42124043">next</a><span>|</span><label class="collapse" for="c-42123921">[-]</label><label class="expand" for="c-42123921">[1 more]</label></div><br/><div class="children"><div class="content">this sounds more like citing chapter and verse in an exegesis than anything of direct relevance to the Mortal Plane...</div><br/></div></div></div></div></div></div><div id="42124043" class="c"><input type="checkbox" id="c-42124043" checked=""/><div class="controls bullet"><span class="by">iLoveOncall</span><span>|</span><a href="#42123495">prev</a><span>|</span><a href="#42123478">next</a><span>|</span><label class="collapse" for="c-42124043">[-]</label><label class="expand" for="c-42124043">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I had the same issue of my EC2 that I used to host my personal websites randomly getting to 100% CPU and being unreachable.<p>I put a CloudWatch alarm at 90% CPU usage which would trigger a reboot (which completed way before anyone would notice a downtime).<p>Never had issues again.</div><br/></div></div><div id="42123478" class="c"><input type="checkbox" id="c-42123478" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#42124043">prev</a><span>|</span><label class="collapse" for="c-42123478">[-]</label><label class="expand" for="c-42123478">[4 more]</label></div><br/><div class="children"><div class="content">Reminds me of the famous quote by Rasmus Lerdorf, creator of PHP<p>&gt; I’m not a real programmer. I throw together things until it works then I move on. The real programmers will say “Yeah it works but you’re leaking memory everywhere. Perhaps we should fix that.” I’ll just restart Apache every 10 requests.</div><br/><div id="42123516" class="c"><input type="checkbox" id="c-42123516" checked=""/><div class="controls bullet"><span class="by">nicman23</span><span>|</span><a href="#42123478">parent</a><span>|</span><label class="collapse" for="c-42123516">[-]</label><label class="expand" for="c-42123516">[3 more]</label></div><br/><div class="children"><div class="content">i ll argue that doing the restart is more important until someone else finds the leak</div><br/><div id="42123620" class="c"><input type="checkbox" id="c-42123620" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#42123478">root</a><span>|</span><a href="#42123516">parent</a><span>|</span><label class="collapse" for="c-42123620">[-]</label><label class="expand" for="c-42123620">[2 more]</label></div><br/><div class="children"><div class="content">Or future me. It hurts on the inside to just kick EC2 every hour because every 61 minutes something goes awry in the process. But the show must go on, so you put in the temporary fix knowing that it&#x27;s not going to be temporary. Still, weeks&#x2F;months&#x2F;years down the line you could get lucky and the problem will go away and you can remove the kludge. But if you&#x27;re ridiculously lucky, not only will the problem get fixed, but you&#x27;ll get to understand exactly why the mysterious problem was happening in the first place. Like the gunicorn 500 upgrade bug, or the Postgres TOAST json thing. That sort of satisfaction isn&#x27;t something money can buy. (Though it will help pay for servers in the interim until you find the bug.)</div><br/><div id="42123672" class="c"><input type="checkbox" id="c-42123672" checked=""/><div class="controls bullet"><span class="by">nicman23</span><span>|</span><a href="#42123478">root</a><span>|</span><a href="#42123620">parent</a><span>|</span><label class="collapse" for="c-42123672">[-]</label><label class="expand" for="c-42123672">[1 more]</label></div><br/><div class="children"><div class="content">or at least after the weekend :P</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>