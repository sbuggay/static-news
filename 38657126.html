<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1702717273396" as="style"/><link rel="stylesheet" href="styles.css?v=1702717273396"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.whizzy.org/2023-12-14-bricked-xmas/">I bricked my Christmas lights</a> <span class="domain">(<a href="https://www.whizzy.org">www.whizzy.org</a>)</span></div><div class="subtext"><span>willcooke</span> | <span>61 comments</span></div><br/><div><div id="38657552" class="c"><input type="checkbox" id="c-38657552" checked=""/><div class="controls bullet"><span class="by">Someone</span><span>|</span><a href="#38658039">next</a><span>|</span><label class="collapse" for="c-38657552">[-]</label><label class="expand" for="c-38657552">[9 more]</label></div><br/><div class="children"><div class="content">FTA:<p>&gt; When we try and decrypt the on and off packets we get:<p>&gt; 05 54 55 52 4E 01 00 00 00 00 00 00 00 00 00 00<p>&gt; 05 54 55 52 4E 00 00 00 00 00 00 00 00 00 00 00<p>&gt; 05 54 55 52 4E 01 00 00 00 00 00 00 00 00 00 00<p>&gt; 05 54 55 52 4E 00 00 00 00 00 00 00 00 00 00 00<p>&gt; 05 54 55 52 4E 01 00 00 00 00 00 00 00 00 00 00<p>&gt; 05 54 55 52 4E 00 00 00 00 00 00 00 00 00 00 00<p>&gt; Success! This is a lot more sensible. A fixed header, byte 5 switching between a 1 and a 0 for on and off, and a bunch of zeros.<p>I would guess that’s not a ‘fixed header’, but a length byte (“command is 5 bytes long”), a command (“TURN”) and an argument (zero or one), padded with zeroes to 16 bytes.</div><br/><div id="38657988" class="c"><input type="checkbox" id="c-38657988" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38657552">parent</a><span>|</span><a href="#38659090">next</a><span>|</span><label class="collapse" for="c-38657988">[-]</label><label class="expand" for="c-38657988">[2 more]</label></div><br/><div class="children"><div class="content">That &quot;54 55 52 4E&quot; jumped right out to my eye as the uppercase alphabet. Knowing that numbers start at 0x30, uppercase letters start at 0x41, and lowercase letters start at 0x61 makes alphanumeric patterns in hex dumps easy to spot.<p>That knowledge is good for short strings, but the canonical hexdump format is a the best way to look at packet and memory dumps.</div><br/></div></div><div id="38659090" class="c"><input type="checkbox" id="c-38659090" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#38657552">parent</a><span>|</span><a href="#38657988">prev</a><span>|</span><a href="#38657695">next</a><span>|</span><label class="collapse" for="c-38659090">[-]</label><label class="expand" for="c-38659090">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great catch.  0x54 55 52 4E indeed are T U R N.</div><br/><div id="38659941" class="c"><input type="checkbox" id="c-38659941" checked=""/><div class="controls bullet"><span class="by">kordlessagain</span><span>|</span><a href="#38657552">root</a><span>|</span><a href="#38659090">parent</a><span>|</span><a href="#38657695">next</a><span>|</span><label class="collapse" for="c-38659941">[-]</label><label class="expand" for="c-38659941">[1 more]</label></div><br/><div class="children"><div class="content">Turn off the wifi.</div><br/></div></div></div></div><div id="38657695" class="c"><input type="checkbox" id="c-38657695" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38657552">parent</a><span>|</span><a href="#38659090">prev</a><span>|</span><a href="#38662349">next</a><span>|</span><label class="collapse" for="c-38657695">[-]</label><label class="expand" for="c-38657695">[2 more]</label></div><br/><div class="children"><div class="content">Oooh!  Good spot.  I will check other commands and see if that length idea works out.  I think it could.</div><br/><div id="38660105" class="c"><input type="checkbox" id="c-38660105" checked=""/><div class="controls bullet"><span class="by">jonhohle</span><span>|</span><a href="#38657552">root</a><span>|</span><a href="#38657695">parent</a><span>|</span><a href="#38662349">next</a><span>|</span><label class="collapse" for="c-38660105">[-]</label><label class="expand" for="c-38660105">[1 more]</label></div><br/><div class="children"><div class="content">That’s pretty typical of binary formats. That and offsets or addresses. And type tags. Assuming the payload isn’t compressed or encrypted, you can get pretty far assuming you’ll run into one of those eventually.<p>Anecdotally, earlier today I was trying to decipher Encarta data and came across the “Mind Maze” data and it’s mostly that - fixed 32-but header, question size, (answer size, answer, correct flag, something I haven’t figure out yet){4}. Then a separate file with an index value and an offset into the first file as well as a header I haven’t figured out yet.</div><br/></div></div></div></div><div id="38662349" class="c"><input type="checkbox" id="c-38662349" checked=""/><div class="controls bullet"><span class="by">avereveard</span><span>|</span><a href="#38657552">parent</a><span>|</span><a href="#38657695">prev</a><span>|</span><a href="#38661284">next</a><span>|</span><label class="collapse" for="c-38662349">[-]</label><label class="expand" for="c-38662349">[1 more]</label></div><br/><div class="children"><div class="content">And it&#x27;s probably not padding, just a uint</div><br/></div></div><div id="38661284" class="c"><input type="checkbox" id="c-38661284" checked=""/><div class="controls bullet"><span class="by">bilekas</span><span>|</span><a href="#38657552">parent</a><span>|</span><a href="#38662349">prev</a><span>|</span><a href="#38658039">next</a><span>|</span><label class="collapse" for="c-38661284">[-]</label><label class="expand" for="c-38661284">[1 more]</label></div><br/><div class="children"><div class="content">The header is fixed in this case.. By length and start point.</div><br/></div></div></div></div><div id="38658039" class="c"><input type="checkbox" id="c-38658039" checked=""/><div class="controls bullet"><span class="by">MarkusWandel</span><span>|</span><a href="#38657552">prev</a><span>|</span><a href="#38660981">next</a><span>|</span><label class="collapse" for="c-38658039">[-]</label><label class="expand" for="c-38658039">[7 more]</label></div><br/><div class="children"><div class="content">Power supply failure?  The WS281x things can go really bright, and, in bulk, suck an awful lot of current.  A 12V, 3A power supply on a strip of 100 is just about enough to drive them all to full bright white, and dazzlingly bright it is.  So I&#x27;d look for a blown fuse.  The fact that the firmware only drives them to 31 out of a possible maximum brightness of 255 offers a clue.</div><br/><div id="38659489" class="c"><input type="checkbox" id="c-38659489" checked=""/><div class="controls bullet"><span class="by">mrb</span><span>|</span><a href="#38658039">parent</a><span>|</span><a href="#38662651">next</a><span>|</span><label class="collapse" for="c-38659489">[-]</label><label class="expand" for="c-38659489">[1 more]</label></div><br/><div class="children"><div class="content">That was my first intuition as well, seeing the brigthness limited to 0x1f. With any luck, the power supply might have a fuse, and it&#x27;s just the fuse that blew up.<p>Anyway, if you can&#x27;t salvage it, standard WS281x LED strings can be hooked up to a Raspberry Pi and you could use my open source addressable LED controller :) <a href="https:&#x2F;&#x2F;github.com&#x2F;mbevand&#x2F;ledthemfight">https:&#x2F;&#x2F;github.com&#x2F;mbevand&#x2F;ledthemfight</a> It comes with built-in effects. I made it very modular so for the DIY crowd, in 2 lines of Python, you can create simple custom LED effect modules. See a demo here: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;qpd2rILsnM4" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;qpd2rILsnM4</a></div><br/></div></div><div id="38662651" class="c"><input type="checkbox" id="c-38662651" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38658039">parent</a><span>|</span><a href="#38659489">prev</a><span>|</span><a href="#38658391">next</a><span>|</span><label class="collapse" for="c-38662651">[-]</label><label class="expand" for="c-38662651">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the tip off.<p>I&#x27;ve updated the code to shift right by 3 places and so go back to a 5 bit number.<p>That&#x27;s a neat way of limiting the power usage.</div><br/></div></div><div id="38658391" class="c"><input type="checkbox" id="c-38658391" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38658039">parent</a><span>|</span><a href="#38662651">prev</a><span>|</span><a href="#38660864">next</a><span>|</span><label class="collapse" for="c-38658391">[-]</label><label class="expand" for="c-38658391">[1 more]</label></div><br/><div class="children"><div class="content">Good idea! I’ll get the multimeter out.</div><br/></div></div><div id="38660864" class="c"><input type="checkbox" id="c-38660864" checked=""/><div class="controls bullet"><span class="by">MegaDeKay</span><span>|</span><a href="#38658039">parent</a><span>|</span><a href="#38658391">prev</a><span>|</span><a href="#38660981">next</a><span>|</span><label class="collapse" for="c-38660864">[-]</label><label class="expand" for="c-38660864">[3 more]</label></div><br/><div class="children"><div class="content">These don&#x27;t appear to be WS2812.  Look at the Ali link he posted.  There is a pic of the wires that show four conductors on the strip: 12V, red, green, and blue.  I think this is an analog RGB strip where are the lights in the strip are the same color vs. individually addressible.<p><a href="https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005485885067.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005485885067.html</a><p>Anybody wanting to do anything with LED lighting owes it to themselves to look at WLED.  Lots of built in effects, web gui, super cheap ESP32 (or ESP 8266!) as the controller, sound-reactive, etc etc etc.  WLED is running my indoor Christmas lights right now and they look great.</div><br/><div id="38662558" class="c"><input type="checkbox" id="c-38662558" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38658039">root</a><span>|</span><a href="#38660864">parent</a><span>|</span><a href="#38660981">next</a><span>|</span><label class="collapse" for="c-38662558">[-]</label><label class="expand" for="c-38662558">[2 more]</label></div><br/><div class="children"><div class="content">The actual string I have is three wires. Data and + -  it’s likely they have been swapped out for cheaper lesds now, or the picture is wrong.</div><br/><div id="38662643" class="c"><input type="checkbox" id="c-38662643" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38658039">root</a><span>|</span><a href="#38662558">parent</a><span>|</span><a href="#38660981">next</a><span>|</span><label class="collapse" for="c-38662643">[-]</label><label class="expand" for="c-38662643">[1 more]</label></div><br/><div class="children"><div class="content">I looked at the picture again, it does show a three wire set up.</div><br/></div></div></div></div></div></div></div></div><div id="38660981" class="c"><input type="checkbox" id="c-38660981" checked=""/><div class="controls bullet"><span class="by">dceddia</span><span>|</span><a href="#38658039">prev</a><span>|</span><a href="#38662610">next</a><span>|</span><label class="collapse" for="c-38660981">[-]</label><label class="expand" for="c-38660981">[1 more]</label></div><br/><div class="children"><div class="content">Nice writeup! It reminded me of trying to reverse engineer some lights I have, only to discover they’re encrypted. One is an amaran 60d and then the rest are a handful of SmallRig RM75 battery LED lights, and I wanted to make a script to turn them all on&#x2F;off instead of fiddling with 2 separate apps.<p>I spent a bunch of time trying to reverse engineer the apps and the protocol, and it turns out both of these lights seem to use the same negotiation process but use different libraries to do it. I tried to mimic the Diffie-Hellman key exchange process they do on connection, and then kinda gave up. IIRC there was another step or 2 after that, one where it sent a random-looking number (another key? After sending the first key??) and I couldn’t figure out what it wanted there.<p>Your writeup makes me think I should just go try that hardcoded key and see if it works…</div><br/></div></div><div id="38662610" class="c"><input type="checkbox" id="c-38662610" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38660981">prev</a><span>|</span><a href="#38657127">next</a><span>|</span><label class="collapse" for="c-38662610">[-]</label><label class="expand" for="c-38662610">[1 more]</label></div><br/><div class="children"><div class="content">Can we see a disassembly of the dead christmas lights?<p>Knowing what chip they have inside can give a clue if there is flash memory and if it might be easy to dump.</div><br/></div></div><div id="38657127" class="c"><input type="checkbox" id="c-38657127" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38662610">prev</a><span>|</span><a href="#38662463">next</a><span>|</span><label class="collapse" for="c-38657127">[-]</label><label class="expand" for="c-38657127">[9 more]</label></div><br/><div class="children"><div class="content">I was trying to automate my BLE connected Christmas lights but instead I created e-waste.
Now you can too!</div><br/><div id="38659921" class="c"><input type="checkbox" id="c-38659921" checked=""/><div class="controls bullet"><span class="by">sva_</span><span>|</span><a href="#38657127">parent</a><span>|</span><a href="#38657408">next</a><span>|</span><label class="collapse" for="c-38659921">[-]</label><label class="expand" for="c-38659921">[1 more]</label></div><br/><div class="children"><div class="content">Not sure what you did with it, but I found that some of this SmartTrash does a hard reset when you do some magic sequence such as quickly turning if off&#x2F;on 5 times in a row.</div><br/></div></div><div id="38657408" class="c"><input type="checkbox" id="c-38657408" checked=""/><div class="controls bullet"><span class="by">CTOSian</span><span>|</span><a href="#38657127">parent</a><span>|</span><a href="#38659921">prev</a><span>|</span><a href="#38662463">next</a><span>|</span><label class="collapse" for="c-38657408">[-]</label><label class="expand" for="c-38657408">[7 more]</label></div><br/><div class="children"><div class="content">you can still use them as dummy&#x2F;classic lights if you bypass the controller</div><br/><div id="38657805" class="c"><input type="checkbox" id="c-38657805" checked=""/><div class="controls bullet"><span class="by">willcooke</span><span>|</span><a href="#38657127">root</a><span>|</span><a href="#38657408">parent</a><span>|</span><a href="#38662463">next</a><span>|</span><label class="collapse" for="c-38657805">[-]</label><label class="expand" for="c-38657805">[6 more]</label></div><br/><div class="children"><div class="content">+1<p>I can just swap the micro controller with something like an ESP8266 and run WLED.</div><br/><div id="38660955" class="c"><input type="checkbox" id="c-38660955" checked=""/><div class="controls bullet"><span class="by">organsnyder</span><span>|</span><a href="#38657127">root</a><span>|</span><a href="#38657805">parent</a><span>|</span><a href="#38659975">next</a><span>|</span><label class="collapse" for="c-38660955">[-]</label><label class="expand" for="c-38660955">[1 more]</label></div><br/><div class="children"><div class="content">I bought a big spool of addressable lights from Aliexpress and hooked them up to an ESP32. Took some soldering and other hacking, but they’re really, really, nice.</div><br/></div></div><div id="38659975" class="c"><input type="checkbox" id="c-38659975" checked=""/><div class="controls bullet"><span class="by">elliottkember</span><span>|</span><a href="#38657127">root</a><span>|</span><a href="#38657805">parent</a><span>|</span><a href="#38660955">prev</a><span>|</span><a href="#38658269">next</a><span>|</span><label class="collapse" for="c-38659975">[-]</label><label class="expand" for="c-38659975">[1 more]</label></div><br/><div class="children"><div class="content">If you get into FastLED, try out the emulator I made – <a href="https:&#x2F;&#x2F;editor.soulmatelights.com&#x2F;gallery&#x2F;732-rainbow-conway" rel="nofollow noreferrer">https:&#x2F;&#x2F;editor.soulmatelights.com&#x2F;gallery&#x2F;732-rainbow-conway</a><p>I haven&#x27;t worked on it at all recently (COVID project) but it&#x27;s fun for experimenting. You can also flash ESP32s from the downloadable desktop app</div><br/></div></div><div id="38658269" class="c"><input type="checkbox" id="c-38658269" checked=""/><div class="controls bullet"><span class="by">green-salt</span><span>|</span><a href="#38657127">root</a><span>|</span><a href="#38657805">parent</a><span>|</span><a href="#38659975">prev</a><span>|</span><a href="#38662463">next</a><span>|</span><label class="collapse" for="c-38658269">[-]</label><label class="expand" for="c-38658269">[3 more]</label></div><br/><div class="children"><div class="content">I did this super similar (ESP32) with a set I got from walmart. Works great!</div><br/><div id="38658370" class="c"><input type="checkbox" id="c-38658370" checked=""/><div class="controls bullet"><span class="by">wkjagt</span><span>|</span><a href="#38657127">root</a><span>|</span><a href="#38658269">parent</a><span>|</span><a href="#38662463">next</a><span>|</span><label class="collapse" for="c-38658370">[-]</label><label class="expand" for="c-38658370">[2 more]</label></div><br/><div class="children"><div class="content">I find it amazing to think that your Christmas lights are now way more powerful than my first computer.</div><br/><div id="38660886" class="c"><input type="checkbox" id="c-38660886" checked=""/><div class="controls bullet"><span class="by">green-salt</span><span>|</span><a href="#38657127">root</a><span>|</span><a href="#38658370">parent</a><span>|</span><a href="#38662463">next</a><span>|</span><label class="collapse" for="c-38660886">[-]</label><label class="expand" for="c-38660886">[1 more]</label></div><br/><div class="children"><div class="content">I think about stuff like this a lot, like what technologies I&#x27;m (ab)using to do some silly gadget thing.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38662463" class="c"><input type="checkbox" id="c-38662463" checked=""/><div class="controls bullet"><span class="by">DeathArrow</span><span>|</span><a href="#38657127">prev</a><span>|</span><a href="#38658488">next</a><span>|</span><label class="collapse" for="c-38662463">[-]</label><label class="expand" for="c-38662463">[2 more]</label></div><br/><div class="children"><div class="content">Why do they use encryption?</div><br/><div id="38662696" class="c"><input type="checkbox" id="c-38662696" checked=""/><div class="controls bullet"><span class="by">netmare</span><span>|</span><a href="#38662463">parent</a><span>|</span><a href="#38658488">next</a><span>|</span><label class="collapse" for="c-38662696">[-]</label><label class="expand" for="c-38662696">[1 more]</label></div><br/><div class="children"><div class="content">For future DaaS perhaps. Everything is becoming a service, why not decoration...</div><br/></div></div></div></div><div id="38658488" class="c"><input type="checkbox" id="c-38658488" checked=""/><div class="controls bullet"><span class="by">thomasjudge</span><span>|</span><a href="#38662463">prev</a><span>|</span><a href="#38661839">next</a><span>|</span><label class="collapse" for="c-38658488">[-]</label><label class="expand" for="c-38658488">[6 more]</label></div><br/><div class="children"><div class="content">It goes up to eleven</div><br/><div id="38659297" class="c"><input type="checkbox" id="c-38659297" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#38658488">parent</a><span>|</span><a href="#38660084">next</a><span>|</span><label class="collapse" for="c-38659297">[-]</label><label class="expand" for="c-38659297">[1 more]</label></div><br/><div class="children"><div class="content">But not twelve... :(</div><br/></div></div><div id="38660084" class="c"><input type="checkbox" id="c-38660084" checked=""/><div class="controls bullet"><span class="by">riddley</span><span>|</span><a href="#38658488">parent</a><span>|</span><a href="#38659297">prev</a><span>|</span><a href="#38659053">next</a><span>|</span><label class="collapse" for="c-38660084">[-]</label><label class="expand" for="c-38660084">[2 more]</label></div><br/><div class="children"><div class="content">Why not just make ten brighter and then be on nine?</div><br/><div id="38661028" class="c"><input type="checkbox" id="c-38661028" checked=""/><div class="controls bullet"><span class="by">jdshaffer</span><span>|</span><a href="#38658488">root</a><span>|</span><a href="#38660084">parent</a><span>|</span><a href="#38659053">next</a><span>|</span><label class="collapse" for="c-38661028">[-]</label><label class="expand" for="c-38661028">[1 more]</label></div><br/><div class="children"><div class="content">But this goes to eleven...   ;-)</div><br/></div></div></div></div><div id="38659053" class="c"><input type="checkbox" id="c-38659053" checked=""/><div class="controls bullet"><span class="by">nicky0</span><span>|</span><a href="#38658488">parent</a><span>|</span><a href="#38660084">prev</a><span>|</span><a href="#38660982">next</a><span>|</span><label class="collapse" for="c-38659053">[-]</label><label class="expand" for="c-38659053">[1 more]</label></div><br/><div class="children"><div class="content">Icarus flew too close to the sun</div><br/></div></div></div></div><div id="38661839" class="c"><input type="checkbox" id="c-38661839" checked=""/><div class="controls bullet"><span class="by">Namidairo</span><span>|</span><a href="#38658488">prev</a><span>|</span><a href="#38661276">next</a><span>|</span><label class="collapse" for="c-38661839">[-]</label><label class="expand" for="c-38661839">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me somewhat of certain keyboard MCUs that would also brick when fed certain lighting commands.<p>OpenRGB ended up having to disable the particular module from running automatically on that hardware. (Although the vendor software would also trigger said bug, on occassion.)<p>Unfortunately, the usual way for triggering the in-system programming mode required sending a usb hid report, but affected devices wouldn&#x27;t even enumerate anymore. (Assuming it was even firmware corruption and not some other undefined behaviour causing hardware damage)</div><br/></div></div><div id="38661276" class="c"><input type="checkbox" id="c-38661276" checked=""/><div class="controls bullet"><span class="by">bilekas</span><span>|</span><a href="#38661839">prev</a><span>|</span><a href="#38660255">next</a><span>|</span><label class="collapse" for="c-38661276">[-]</label><label class="expand" for="c-38661276">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve read enough... A set of lights with BLE, I&#x27;m out. Thanks to the author for referencing them.<p>It did remind me of the analog Technology Connections video : <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=va1rzP2xIx4" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=va1rzP2xIx4</a></div><br/></div></div><div id="38660255" class="c"><input type="checkbox" id="c-38660255" checked=""/><div class="controls bullet"><span class="by">mytailorisrich</span><span>|</span><a href="#38661276">prev</a><span>|</span><a href="#38661336">next</a><span>|</span><label class="collapse" for="c-38660255">[-]</label><label class="expand" for="c-38660255">[5 more]</label></div><br/><div class="children"><div class="content">&quot;We can&#x27;t send plaintext over the air, it&#x27;s unsafe&quot;<p>&quot;Don&#x27;t worry I&#x27;ve added AES encryption&quot;</div><br/><div id="38661103" class="c"><input type="checkbox" id="c-38661103" checked=""/><div class="controls bullet"><span class="by">exikyut</span><span>|</span><a href="#38660255">parent</a><span>|</span><a href="#38660976">next</a><span>|</span><label class="collapse" for="c-38661103">[-]</label><label class="expand" for="c-38661103">[3 more]</label></div><br/><div class="children"><div class="content">Tuya is so hilarious in this regard. The protocol is just TLS over TCP, but the app happily sprays your Wi-Fi password to every STA in the area every time you add a new device.<p>(It&#x27;s how pairing is done - the app blindly broadcasts packets to 255.255.255.255 and the target device (lightbulb, power outlet, et al) just sits in promiscuous mode. The packet contents are protected by WPA2 et al, <i>but the packet lengths aren&#x27;t</i>, so the protocol sends a bajillion tiny packets with each packet&#x27;s length set to the ASCII byte value of the next character in the setup handshake. I believe it sends it multiple times in a row. This is why pairing takes 2 minutes then always abruptly stops before the counter reaches zero.)<p>\o&#x2F;</div><br/><div id="38662436" class="c"><input type="checkbox" id="c-38662436" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38660255">root</a><span>|</span><a href="#38661103">parent</a><span>|</span><a href="#38662069">next</a><span>|</span><label class="collapse" for="c-38662436">[-]</label><label class="expand" for="c-38662436">[1 more]</label></div><br/><div class="children"><div class="content">Very clever.<p>IoT pairing  is a tricky problem because phone&#x2F;laptop devices give a very limited API for communicating with a new WiFi device that isn&#x27;t yet on your WiFi network.</div><br/></div></div><div id="38662069" class="c"><input type="checkbox" id="c-38662069" checked=""/><div class="controls bullet"><span class="by">LocalH</span><span>|</span><a href="#38660255">root</a><span>|</span><a href="#38661103">parent</a><span>|</span><a href="#38662436">prev</a><span>|</span><a href="#38660976">next</a><span>|</span><label class="collapse" for="c-38662069">[-]</label><label class="expand" for="c-38662069">[1 more]</label></div><br/><div class="children"><div class="content">That sounds extremely greasy</div><br/></div></div></div></div><div id="38660976" class="c"><input type="checkbox" id="c-38660976" checked=""/><div class="controls bullet"><span class="by">ivanjermakov</span><span>|</span><a href="#38660255">parent</a><span>|</span><a href="#38661103">prev</a><span>|</span><a href="#38661336">next</a><span>|</span><label class="collapse" for="c-38660976">[-]</label><label class="expand" for="c-38660976">[1 more]</label></div><br/><div class="children"><div class="content">Encryption against air I suppose</div><br/></div></div></div></div><div id="38661336" class="c"><input type="checkbox" id="c-38661336" checked=""/><div class="controls bullet"><span class="by">m4dc4pXXX</span><span>|</span><a href="#38660255">prev</a><span>|</span><a href="#38659227">next</a><span>|</span><label class="collapse" for="c-38661336">[-]</label><label class="expand" for="c-38661336">[1 more]</label></div><br/><div class="children"><div class="content">Why are these messages encrypted? Is that just a standard thing?</div><br/></div></div><div id="38659227" class="c"><input type="checkbox" id="c-38659227" checked=""/><div class="controls bullet"><span class="by">syntaxing</span><span>|</span><a href="#38661336">prev</a><span>|</span><a href="#38659844">next</a><span>|</span><label class="collapse" for="c-38659227">[-]</label><label class="expand" for="c-38659227">[10 more]</label></div><br/><div class="children"><div class="content">Beginners question, is there a reason we can’t reverse engineer something similar for lights made by Govee? Is it because it’s WiFi and harder to MITM?</div><br/><div id="38659364" class="c"><input type="checkbox" id="c-38659364" checked=""/><div class="controls bullet"><span class="by">steviej</span><span>|</span><a href="#38659227">parent</a><span>|</span><a href="#38659447">next</a><span>|</span><label class="collapse" for="c-38659364">[-]</label><label class="expand" for="c-38659364">[1 more]</label></div><br/><div class="children"><div class="content">I have a couple of Govee light bulbs in my garage I control with an M5StickC using BLE: <a href="https:&#x2F;&#x2F;github.com&#x2F;stevenjohnstone&#x2F;reversing-tools&#x2F;blob&#x2F;main&#x2F;android&#x2F;ble-reversing-non-rooted-android.md">https:&#x2F;&#x2F;github.com&#x2F;stevenjohnstone&#x2F;reversing-tools&#x2F;blob&#x2F;main...</a> . Looking at the decompiled Govee android app, there are many products with similar control over BLE in addition to wifi.</div><br/></div></div><div id="38659447" class="c"><input type="checkbox" id="c-38659447" checked=""/><div class="controls bullet"><span class="by">eichin</span><span>|</span><a href="#38659227">parent</a><span>|</span><a href="#38659364">prev</a><span>|</span><a href="#38661239">next</a><span>|</span><label class="collapse" for="c-38659447">[-]</label><label class="expand" for="c-38659447">[3 more]</label></div><br/><div class="children"><div class="content">There may be an easier way, but another HN thread pointed out that you can use tailscale to make it easier to tcpdump phone apps (because you can send all of the phone traffic through an endpoint you control.)  (Presumably raw wireguard is enough? I haven&#x27;t tried (or seen tutorials for) either approach, it was just a &quot;that sounds clever, save it for my next sniffer project&quot; idea)</div><br/><div id="38661601" class="c"><input type="checkbox" id="c-38661601" checked=""/><div class="controls bullet"><span class="by">Tijdreiziger</span><span>|</span><a href="#38659227">root</a><span>|</span><a href="#38659447">parent</a><span>|</span><a href="#38660111">next</a><span>|</span><label class="collapse" for="c-38661601">[-]</label><label class="expand" for="c-38661601">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;mitmproxy.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;mitmproxy.org&#x2F;</a></div><br/></div></div><div id="38660111" class="c"><input type="checkbox" id="c-38660111" checked=""/><div class="controls bullet"><span class="by">syntaxing</span><span>|</span><a href="#38659227">root</a><span>|</span><a href="#38659447">parent</a><span>|</span><a href="#38661601">prev</a><span>|</span><a href="#38661239">next</a><span>|</span><label class="collapse" for="c-38660111">[-]</label><label class="expand" for="c-38660111">[1 more]</label></div><br/><div class="children"><div class="content">Whoa that’s an interesting idea, use a tailscale exit node and use tcpdump on the interface</div><br/></div></div></div></div><div id="38661239" class="c"><input type="checkbox" id="c-38661239" checked=""/><div class="controls bullet"><span class="by">jccalhoun</span><span>|</span><a href="#38659227">parent</a><span>|</span><a href="#38659447">prev</a><span>|</span><a href="#38659870">next</a><span>|</span><label class="collapse" for="c-38661239">[-]</label><label class="expand" for="c-38661239">[1 more]</label></div><br/><div class="children"><div class="content">There are a few projects on github for govee lights. On windows I have used <a href="https:&#x2F;&#x2F;github.com&#x2F;ib0b&#x2F;RGB-PC">https:&#x2F;&#x2F;github.com&#x2F;ib0b&#x2F;RGB-PC</a> to connect to mine by bluetooth but the problem is that govee lights can only be connected to one bluetooth device at a time</div><br/></div></div><div id="38659870" class="c"><input type="checkbox" id="c-38659870" checked=""/><div class="controls bullet"><span class="by">brk</span><span>|</span><a href="#38659227">parent</a><span>|</span><a href="#38661239">prev</a><span>|</span><a href="#38659445">next</a><span>|</span><label class="collapse" for="c-38659870">[-]</label><label class="expand" for="c-38659870">[2 more]</label></div><br/><div class="children"><div class="content">I like the form factor of some of the Govee string lights. I’ve thrown out their controller and hooked them to ESP32’s with WLED. Best of both worlds that way.</div><br/><div id="38660120" class="c"><input type="checkbox" id="c-38660120" checked=""/><div class="controls bullet"><span class="by">syntaxing</span><span>|</span><a href="#38659227">root</a><span>|</span><a href="#38659870">parent</a><span>|</span><a href="#38659445">next</a><span>|</span><label class="collapse" for="c-38660120">[-]</label><label class="expand" for="c-38660120">[1 more]</label></div><br/><div class="children"><div class="content">This sounds amazing, do you use ESPhomr with it?! Any tutorial cause I love this idea</div><br/></div></div></div></div><div id="38659445" class="c"><input type="checkbox" id="c-38659445" checked=""/><div class="controls bullet"><span class="by">gsharma</span><span>|</span><a href="#38659227">parent</a><span>|</span><a href="#38659870">prev</a><span>|</span><a href="#38659844">next</a><span>|</span><label class="collapse" for="c-38659445">[-]</label><label class="expand" for="c-38659445">[2 more]</label></div><br/><div class="children"><div class="content">The Govee strips I have do support Bluetooth connectivity. In fact, that’s how they are setup initially.<p>Your comment prompted me to search for “Govee LAN” and found HomeAssistant LAN integration. Time to dig deeper!<p><a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;homeassistant&#x2F;s&#x2F;bppM4AR3uA" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;homeassistant&#x2F;s&#x2F;bppM4AR3uA</a></div><br/><div id="38660222" class="c"><input type="checkbox" id="c-38660222" checked=""/><div class="controls bullet"><span class="by">syntaxing</span><span>|</span><a href="#38659227">root</a><span>|</span><a href="#38659445">parent</a><span>|</span><a href="#38659844">next</a><span>|</span><label class="collapse" for="c-38660222">[-]</label><label class="expand" for="c-38660222">[1 more]</label></div><br/><div class="children"><div class="content">I might need to buy some and try this out, Philips hue pricing has gotten out of hand since covid</div><br/></div></div></div></div></div></div><div id="38659844" class="c"><input type="checkbox" id="c-38659844" checked=""/><div class="controls bullet"><span class="by">urbandw311er</span><span>|</span><a href="#38659227">prev</a><span>|</span><a href="#38660043">next</a><span>|</span><label class="collapse" for="c-38659844">[-]</label><label class="expand" for="c-38659844">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Tell me how I can
&gt; break my own lights<p>Ha! Love that.</div><br/></div></div><div id="38660043" class="c"><input type="checkbox" id="c-38660043" checked=""/><div class="controls bullet"><span class="by">echelon</span><span>|</span><a href="#38659844">prev</a><span>|</span><a href="#38658853">next</a><span>|</span><label class="collapse" for="c-38660043">[-]</label><label class="expand" for="c-38660043">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;m looking for some flexible, robust lights for my car&#x27;s roof rack. I&#x27;m wondering if anyone knows a set that will fit these requirements:<p><pre><code>  - Battery powered and outdoor &#x2F; all weather compatible

  - Easy to attach the battery box to surfaces using ties

  - Ideally &quot;mini&quot; form factor (&quot;T5&quot;) [1]

  - Ideally RGB and programmable. I&#x27;d like to use them for 
    Christmas (red&#x2F;green), Halloween (purple&#x2F;orange), and 
    other seasons. 

</code></pre>
Does anyone know of anything that fits this bill? I&#x27;ve had trouble finding anything that fits the last criterion. Walmart and Home Depot will sell the first three.<p>When I search for this, I just get noise.<p>[1] <a href="https:&#x2F;&#x2F;cdn.christmaslightsetc.com&#x2F;images&#x2F;CategoryDetail&#x2F;78878&#x2F;led-christmas-lights.jpg" rel="nofollow noreferrer">https:&#x2F;&#x2F;cdn.christmaslightsetc.com&#x2F;images&#x2F;CategoryDetail&#x2F;788...</a></div><br/><div id="38660839" class="c"><input type="checkbox" id="c-38660839" checked=""/><div class="controls bullet"><span class="by">mft_</span><span>|</span><a href="#38660043">parent</a><span>|</span><a href="#38660907">next</a><span>|</span><label class="collapse" for="c-38660839">[-]</label><label class="expand" for="c-38660839">[1 more]</label></div><br/><div class="children"><div class="content">Your direction depends (I guess) on how much DIY effort you&#x27;re willing to put in?<p>For example, you can get 12v LED strips which are IP67 (waterproof inside a silicon tube) pretty easily [0] and which would probably give a much more impressive effect than a string of Christmas-style lights, due to having lots more LEDs to play with.<p>However, you&#x27;d need to do the leg-work of also buying and programming a micro-controller (something like an Arduino, ESP32, or ESP8266 [1]) and figuring out how to power them from your car battery. You could probably house all of the electronics inside the car and just run wires out of the boot, relying on the existing boot seal to keep everything waterproof.<p>[0] <a href="https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005004289391906.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005004289391906.html</a>
[1] <a href="https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005977505151.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005977505151.html</a></div><br/></div></div><div id="38660907" class="c"><input type="checkbox" id="c-38660907" checked=""/><div class="controls bullet"><span class="by">MegaDeKay</span><span>|</span><a href="#38660043">parent</a><span>|</span><a href="#38660839">prev</a><span>|</span><a href="#38660249">next</a><span>|</span><label class="collapse" for="c-38660907">[-]</label><label class="expand" for="c-38660907">[1 more]</label></div><br/><div class="children"><div class="content">Join the WLED Discord and look in the #projects and #showcase channels.  There are lots of projects with people outfitting their vehicle with RGB LED lights.  Just beware that it is really easy to get hooked on this stuff!<p>Here&#x27;s an invite: <a href="https:&#x2F;&#x2F;discord.gg&#x2F;eVhhh2Wh" rel="nofollow noreferrer">https:&#x2F;&#x2F;discord.gg&#x2F;eVhhh2Wh</a></div><br/></div></div><div id="38660249" class="c"><input type="checkbox" id="c-38660249" checked=""/><div class="controls bullet"><span class="by">averageRoyalty</span><span>|</span><a href="#38660043">parent</a><span>|</span><a href="#38660907">prev</a><span>|</span><a href="#38658853">next</a><span>|</span><label class="collapse" for="c-38660249">[-]</label><label class="expand" for="c-38660249">[2 more]</label></div><br/><div class="children"><div class="content">You can check out &quot;bullet string&quot; style WS2811s. They&#x27;re 12v native if you&#x27;re tying back to your car&#x27;s 12v, usually come waterproof with xConnect pigtails, and are very attachable&#x2F;flexible. They&#x27;re easy to resolder with extensions and chain too:<p><a href="https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;4000105913323.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;4000105913323.html</a><p>From what I&#x27;ve ready, they or
similar 5V lights seem standard in outdoor Christmas lighting for shows.</div><br/><div id="38661232" class="c"><input type="checkbox" id="c-38661232" checked=""/><div class="controls bullet"><span class="by">peterleiser</span><span>|</span><a href="#38660043">root</a><span>|</span><a href="#38660249">parent</a><span>|</span><a href="#38658853">next</a><span>|</span><label class="collapse" for="c-38661232">[-]</label><label class="expand" for="c-38661232">[1 more]</label></div><br/><div class="children"><div class="content">12V is used more often than 5V for outdoor shows. This vendor is very popular, and also has a discussion about 12V vs. 5V: <a href="https:&#x2F;&#x2F;www.holidaycoro.com&#x2F;kb_results.asp?ID=126" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.holidaycoro.com&#x2F;kb_results.asp?ID=126</a>
Also, the xConnect pigtails are great for wiring up large shows and for adding longer run extension cables.</div><br/></div></div></div></div></div></div><div id="38658853" class="c"><input type="checkbox" id="c-38658853" checked=""/><div class="controls bullet"><span class="by">taylodl</span><span>|</span><a href="#38660043">prev</a><span>|</span><label class="collapse" for="c-38658853">[-]</label><label class="expand" for="c-38658853">[1 more]</label></div><br/><div class="children"><div class="content">Bah! Humbug!<p>This is why I like dumb things.</div><br/></div></div></div></div></div></div></div></body></html>