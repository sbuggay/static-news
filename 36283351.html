<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1686560474982" as="style"/><link rel="stylesheet" href="styles.css?v=1686560474982"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/MartinGeisse/grumpyrest">Show HN: Java REST without annotations, DI nor reactive streams</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>moring</span> | <span>102 comments</span></div><br/><div><div id="36284906" class="c"><input type="checkbox" id="c-36284906" checked=""/><div class="controls bullet"><span class="by">bedobi</span><span>|</span><a href="#36285464">next</a><span>|</span><label class="collapse" for="c-36284906">[-]</label><label class="expand" for="c-36284906">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a dev with 10+ years professional Java experience and something more like this is what I wish Java had always had. Ignore the other commenters who are being predictably and characteristically harsh and uncharitable.</div><br/><div id="36289436" class="c"><input type="checkbox" id="c-36289436" checked=""/><div class="controls bullet"><span class="by">misja111</span><span>|</span><a href="#36284906">parent</a><span>|</span><a href="#36285464">next</a><span>|</span><label class="collapse" for="c-36289436">[-]</label><label class="expand" for="c-36289436">[1 more]</label></div><br/><div class="children"><div class="content">Frameworks such as Spring used to be much more like this, until the annotation hype started to kick in somewhere around 2010. I always thought this was a bad idea. Sure, annotations work nice in a small demo app, but in a large application you want to have everything explicit and under your direct control.</div><br/></div></div></div></div><div id="36285464" class="c"><input type="checkbox" id="c-36285464" checked=""/><div class="controls bullet"><span class="by">AugustoCAS</span><span>|</span><a href="#36284906">prev</a><span>|</span><a href="#36286905">next</a><span>|</span><label class="collapse" for="c-36285464">[-]</label><label class="expand" for="c-36285464">[6 more]</label></div><br/><div class="children"><div class="content">Something that people are missing about annotations: in order to test the annotated class&#x2F;method one needs to start running extra code, sometimes a lot of extra code.<p>Using spring as a toxic example, many things have to be tested using @SpringBootTest which is incredibly slow to start. On top of that because of the use&#x2F;abuse of @MockBean tests stop being thread safe. So one ends up with slow test that need to be run sequencially. I&#x27;m working in a &#x27;start up&#x27; that went the spring boot way and quite simple services take 15+ minutes to run all their tests, which is insane.<p>On top of that, annotations make it impossible&#x2F;very dificcult to know what code is actually executed (and also it not possible to navigate to the code in an IDE). As I rule of thumb, I&#x27;m always happy to swap one annotation for one or two lines code.</div><br/><div id="36286502" class="c"><input type="checkbox" id="c-36286502" checked=""/><div class="controls bullet"><span class="by">ivan_gammel</span><span>|</span><a href="#36285464">parent</a><span>|</span><a href="#36286905">next</a><span>|</span><label class="collapse" for="c-36286502">[-]</label><label class="expand" for="c-36286502">[5 more]</label></div><br/><div class="children"><div class="content">&gt; On top of that, annotations make it impossible&#x2F;very dificcult to know what code is actually executed (and also it not possible to navigate to the code in an IDE)<p>I have never understood this argument. What is exactly the problem with identifying the executed code?</div><br/><div id="36288628" class="c"><input type="checkbox" id="c-36288628" checked=""/><div class="controls bullet"><span class="by">darthbanane</span><span>|</span><a href="#36285464">root</a><span>|</span><a href="#36286502">parent</a><span>|</span><a href="#36288544">next</a><span>|</span><label class="collapse" for="c-36288628">[-]</label><label class="expand" for="c-36288628">[1 more]</label></div><br/><div class="children"><div class="content">Some of the aspect oriented stuff like cacheable will add a proxy to the annotated bean which can break reasoning about the code.<p>If you inject the bean and call the method you will get caching (because you are using the proxy). If you call the method from within the bean itself however you&#x27;re not using the proxy and you won&#x27;t get caching.<p>It&#x27;s stuff like this on steroids when you start mixing annotations that makes it really difficult to reason about the code.</div><br/></div></div><div id="36288544" class="c"><input type="checkbox" id="c-36288544" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36285464">root</a><span>|</span><a href="#36286502">parent</a><span>|</span><a href="#36288628">prev</a><span>|</span><a href="#36288692">next</a><span>|</span><label class="collapse" for="c-36288544">[-]</label><label class="expand" for="c-36288544">[1 more]</label></div><br/><div class="children"><div class="content">How <i>do</i> you identify the executed code? I don&#x27;t even know how to start. You cannot single-step into it from the annotation, nor can you select the annotation, &quot;go to definition&quot; and see the code. You can &quot;find usages&quot; for the annotation which gives you a lot of places that may or may not be the code that gets executed.<p>Imagine I&#x27;m looking at a class that is annotated. What is the next step to find the code that gets executed for the annotations?</div><br/></div></div><div id="36288692" class="c"><input type="checkbox" id="c-36288692" checked=""/><div class="controls bullet"><span class="by">gofreddygo</span><span>|</span><a href="#36285464">root</a><span>|</span><a href="#36286502">parent</a><span>|</span><a href="#36288544">prev</a><span>|</span><a href="#36288536">next</a><span>|</span><label class="collapse" for="c-36288692">[-]</label><label class="expand" for="c-36288692">[1 more]</label></div><br/><div class="children"><div class="content">Annotations lead to an undocumented interface. IDE&#x27;s are incredibly unreliable at finding implementations from compiled libs. That is 80% of my frustration around annotations. There are no standards, no patterns, almost nothing to find details on why some annotation isn&#x27;t working as expected and what it expects from the developer.</div><br/></div></div><div id="36288536" class="c"><input type="checkbox" id="c-36288536" checked=""/><div class="controls bullet"><span class="by">jakewins</span><span>|</span><a href="#36285464">root</a><span>|</span><a href="#36286502">parent</a><span>|</span><a href="#36288692">prev</a><span>|</span><a href="#36286905">next</a><span>|</span><label class="collapse" for="c-36288536">[-]</label><label class="expand" for="c-36288536">[1 more]</label></div><br/><div class="children"><div class="content">If you use a “dumber” imperative style framework, the way to find out what code is executed is to go-to-definition of the library code when you call it.<p>With an annotation-based framework, how do you do the same? You could find usages of the annotations, and then manually read the thousands of places “@GET” is referenced?</div><br/></div></div></div></div></div></div><div id="36286905" class="c"><input type="checkbox" id="c-36286905" checked=""/><div class="controls bullet"><span class="by">oppositelock</span><span>|</span><a href="#36285464">prev</a><span>|</span><a href="#36290149">next</a><span>|</span><label class="collapse" for="c-36286905">[-]</label><label class="expand" for="c-36286905">[4 more]</label></div><br/><div class="children"><div class="content">This framework looks wonderful.<p>Some people have an aversion to &quot;goto&quot; statements, and Java annotations are even worse, they&#x27;re a &quot;comefrom&quot; statement, where you end up executing code before or after your function based on this annotation, so it makes the code really annoying to follow.<p>Java examples which show trivial code annotated with @POST or @Path are not representative of production systems, where you may have a lot more annotations for your DOM, documentation, and in some cases, you actually have more annotation boilerplate than you have code in the handler&#x2F;controller.<p>Having annotations interleaved within your logic makes it difficult to provide good API documentation, and it&#x27;s hard to automatically refactor, because your boilerplate is interleaved with real code. With an approach like this grumpyrest, you can put all your machine generated code into a package, and simply connect it to your hand written code with a little bit of glue. It makes spec-driven development much easier.<p>OpenAPI is very popular, and annotation based frameworks make it more difficult to integrate with it. If you generate API docs automatically from code, as with JAX-RS, it&#x27;s easy to break things by accident because nobody audits machine generated docs. If you reverse the approach, and do spec-driven development, you code review the API behavior, and the code follows, which is a better model, in my opinion. Grumpyrest looks like it makes integration with spec-driven workflows quite easy.<p>A word of caution to the author; if this takes off, you will be inundated with issues and PR&#x27;s, since people will use this in ways you never dreamed of. I&#x27;m experiencing that kind of onslaught in something I open-sourced for Go for REST API&#x27;s.</div><br/><div id="36289607" class="c"><input type="checkbox" id="c-36289607" checked=""/><div class="controls bullet"><span class="by">nomercy400</span><span>|</span><a href="#36286905">parent</a><span>|</span><a href="#36288660">next</a><span>|</span><label class="collapse" for="c-36289607">[-]</label><label class="expand" for="c-36289607">[1 more]</label></div><br/><div class="children"><div class="content">Regarding api docs, my experiences have steered me to generate-docs-from-code. The problem with writing api docs first and generate code after, is that writing api docs is a &#x27;business&#x27; collaboration, which eventually is not done by developers. The code is a &#x27;technical&#x27; model of that api contract. The developers are limited by the api-to-code generator and even more importantly, the limitations of the coding language.<p>As a result, the &#x27;business&#x27; comes up with the api contract, discussed and approved by multiple departments and committees, before the &#x27;technical&#x27; developers have to show it is impossible to implement with current technology.</div><br/></div></div><div id="36288660" class="c"><input type="checkbox" id="c-36288660" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36286905">parent</a><span>|</span><a href="#36289607">prev</a><span>|</span><a href="#36289303">next</a><span>|</span><label class="collapse" for="c-36288660">[-]</label><label class="expand" for="c-36288660">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Some people have an aversion to &quot;goto&quot; statements, and Java annotations are even worse, they&#x27;re a &quot;comefrom&quot; statement, where you end up executing code before or after your function based on this annotation, so it makes the code really annoying to follow.<p>I like this comment so much because I would have described annotations as a &quot;comefrom&quot; myself... but then I probably read that somewhere and forgot about it.<p>&gt; Grumpyrest looks like it makes integration with spec-driven workflows quite easy.<p>This is interesting to me because I always thought about it the code-first-generate-documentation way, and I always wondered if&#x2F;how I can derive all the meta-data from the code which, admitted, annotations make much easier because they are statically accessible.<p>Doing it the spec-first way is something I should definitely consider.<p>&gt; A word of caution to the author; if this takes off, you will be inundated with issues and PR&#x27;s, since people will use this in ways you never dreamed of. I&#x27;m experiencing that kind of onslaught in something I open-sourced for Go for REST API&#x27;s.<p>Thank you for the warning. Do you have any advice on how to prepare for that?</div><br/></div></div><div id="36289303" class="c"><input type="checkbox" id="c-36289303" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36286905">parent</a><span>|</span><a href="#36288660">prev</a><span>|</span><a href="#36290149">next</a><span>|</span><label class="collapse" for="c-36289303">[-]</label><label class="expand" for="c-36289303">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Some people have an aversion to &quot;goto&quot; statements<p>That&#x27;s because 1 of the 1st things they teach at school is that &quot;goto&quot; is bad, but no 1 really gets why (at the time). It just goes into their brains and this carries forward.<p>&gt; Java examples which show trivial code annotated with @POST or @Path are not representative of production systems<p>That happens with every language though. There are disasters everywhere.</div><br/></div></div></div></div><div id="36290149" class="c"><input type="checkbox" id="c-36290149" checked=""/><div class="controls bullet"><span class="by">haspok</span><span>|</span><a href="#36286905">prev</a><span>|</span><a href="#36285971">next</a><span>|</span><label class="collapse" for="c-36290149">[-]</label><label class="expand" for="c-36290149">[1 more]</label></div><br/><div class="children"><div class="content">How about error handling? How about security?<p>Also, just peeking into the demo code, this is the first thing that caught my eye:<p><pre><code>  int id = requestCycle.getPathArguments().get(0).getValue(Integer.class);
</code></pre>
This is something I would never write like this. get(0) is a big no-no, and this style also makes it hard to follow what&#x27;s happening (what parameters &#x2F; arguments there are), because the URL pattern is not next to this.<p>In comparison, an annotation next to the method declaration is far superior for readability.</div><br/></div></div><div id="36285971" class="c"><input type="checkbox" id="c-36285971" checked=""/><div class="controls bullet"><span class="by">stickfigure</span><span>|</span><a href="#36290149">prev</a><span>|</span><a href="#36284331">next</a><span>|</span><label class="collapse" for="c-36285971">[-]</label><label class="expand" for="c-36285971">[6 more]</label></div><br/><div class="children"><div class="content">This misses out on the main benefit of using annotations: The associated Java code is &quot;just Java&quot;. Testing JAX-RS endpoints is just a matter of instantiating Java objects and calling methods on them. Testing grumpyrest endpoints would require mocking the requestCycle other low-level http-oriented classes.<p>Here&#x27;s the JAX-RS equivalent of the demo:<p><pre><code>    public class GreetingResource {
        @POST
        @Path(&quot;&#x2F;make-greeting&quot;)
        public MakeGreetingResponse greet(final MakeGreetingRequest request) {
            if (request.addendum.isPresent()) {
                return new MakeGreetingResponse(&quot;Hello, &quot; + request.name + &quot;! &quot; + request.addendum.getValue());
            } else {
                return new MakeGreetingResponse(&quot;Hello, &quot; + request.name + &quot;!&quot;);
            }
        }
    }
</code></pre>
This is less noisy (no explicit parseBody) and much easier to test - you can just instantiate a GreetingResource and call the method, no mocking required.</div><br/><div id="36288593" class="c"><input type="checkbox" id="c-36288593" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36285971">parent</a><span>|</span><a href="#36290002">next</a><span>|</span><label class="collapse" for="c-36288593">[-]</label><label class="expand" for="c-36288593">[3 more]</label></div><br/><div class="children"><div class="content">Thanks for your feedback. I&#x27;ll take that into account.<p>You are totally right about having to mock RequestCycle, which isn&#x27;t good. Furthermore, RequestCycle isn&#x27;t really mockable in its current state. I&#x27;m planning to solve both problems in a future version by making it mockable, providing standard mock implementations, and removing the dependency on other web objects (such as the servlet API) from code which is just using RequestCycle.<p>The main point behind grumpyrest is that a lot is _not_ &quot;just Java&quot;: While the handler method you presented is, the way it is mounted isn&#x27;t, nor how dependencies are located and injected, nor how the JSON is validated and mapped to objects and back.</div><br/><div id="36288960" class="c"><input type="checkbox" id="c-36288960" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#36285971">root</a><span>|</span><a href="#36288593">parent</a><span>|</span><a href="#36290002">next</a><span>|</span><label class="collapse" for="c-36288960">[-]</label><label class="expand" for="c-36288960">[2 more]</label></div><br/><div class="children"><div class="content">&gt; the way it is mounted isn&#x27;t, nor how dependencies are located and injected, nor how the JSON is validated and mapped to objects and back.<p>the point of a framework is to hide some of that from you. The point of abstraction is that you _should not_ have to know how the server mounts the handlers, just that it does and it does it via a contract specified in the documentation.</div><br/><div id="36289029" class="c"><input type="checkbox" id="c-36289029" checked=""/><div class="controls bullet"><span class="by">yardstick</span><span>|</span><a href="#36285971">root</a><span>|</span><a href="#36288960">parent</a><span>|</span><a href="#36290002">next</a><span>|</span><label class="collapse" for="c-36289029">[-]</label><label class="expand" for="c-36289029">[1 more]</label></div><br/><div class="children"><div class="content">Should things be abstracted one step further such that the REST endpoint class merely relays the right params to a Service class. So not much to test anyway (I’m not a 100% code coverage person, I test where it makes the most sense).<p>This way your service can be accessed via REST as well as any other type of endpoint if you wanted (gRPC, SOAP, RMI, CORBA, etc). Defeats the point of this project but this approach has saved me a lot of work in the past when switching RPC stacks.</div><br/></div></div></div></div></div></div><div id="36290002" class="c"><input type="checkbox" id="c-36290002" checked=""/><div class="controls bullet"><span class="by">javcasas</span><span>|</span><a href="#36285971">parent</a><span>|</span><a href="#36288593">prev</a><span>|</span><a href="#36289267">next</a><span>|</span><label class="collapse" for="c-36290002">[-]</label><label class="expand" for="c-36290002">[1 more]</label></div><br/><div class="children"><div class="content">So how do you test that the method, the path and the body parser are correct? I have had bugs in all of these three.</div><br/></div></div><div id="36289267" class="c"><input type="checkbox" id="c-36289267" checked=""/><div class="controls bullet"><span class="by">iovrthoughtthis</span><span>|</span><a href="#36285971">parent</a><span>|</span><a href="#36290002">prev</a><span>|</span><a href="#36284331">next</a><span>|</span><label class="collapse" for="c-36289267">[-]</label><label class="expand" for="c-36289267">[1 more]</label></div><br/><div class="children"><div class="content">TL;DR This is a bad example as we&#x27;re mixing content construction with http service layer concepts. It should probably be more like:<p><pre><code>    public class GreetingResource {
        @POST
        @Path(&quot;&#x2F;make-greeting&quot;)
        public MakeGreetingResponse greet(final MakeGreetingRequest request) {
            return MakeGreetingResponse(Greeting(request.name, request.addendum));
        }

        public Greeting(string name, Value addendum) {
            if (addendum.isPresent()) {
                return &quot;Hello, &quot; + request.name + &quot;! &quot; + addendum.getValue();
            } else {
                return &quot;Hello, &quot; + request.name + &quot;!&quot;;
            }
        }
    }
</code></pre>
I think this is actually a little problematic. This handler is a likely location to mix http service logic with application logic and the interface exposed, via automatic parameter injection etc, implies the code in here should be application level but it&#x27;s actually in the seam between then application and the http service layer.<p>Testing custom http service logic should involve mocking as it depends on objects and behaviours owned by the http service layer.<p>Code that we want to easily test for application level logic can be extracted into application level concepts.</div><br/></div></div></div></div><div id="36284331" class="c"><input type="checkbox" id="c-36284331" checked=""/><div class="controls bullet"><span class="by">suchar</span><span>|</span><a href="#36285971">prev</a><span>|</span><a href="#36283757">next</a><span>|</span><label class="collapse" for="c-36284331">[-]</label><label class="expand" for="c-36284331">[17 more]</label></div><br/><div class="children"><div class="content">The main issue with Java-based projects (possibly using Spring) is the amount of existing resources: there are thousands&#x2F;millions of example projects, code snippets, answers on StackOverflow etc. and majority of them is very old (as far as software development is considered). Even fresh resource are often  using outdated techniques.<p>Modern Java is pretty good (although Kotlin is a bit cleaner IMO), but you should really use Spring documentation (if you are using Spring) and avoid code snippets from SO&#x2F;Github.</div><br/><div id="36284481" class="c"><input type="checkbox" id="c-36284481" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284331">parent</a><span>|</span><a href="#36285634">next</a><span>|</span><label class="collapse" for="c-36284481">[-]</label><label class="expand" for="c-36284481">[12 more]</label></div><br/><div class="children"><div class="content">The issues that I see with Spring aren&#x27;t really code snippets from SO, but the fact that annotations drop all the advantages that Java had as a language. Just two examples:<p>When you create an Object of the wrong class and try to pass it to a method, you get a compile-time error. When you use the wrong annotation, nothing happens during startup of your application... but you don&#x27;t even know at which point in time something should happen. Or if.<p>When a method you call throws an exception, you can run the application in a debugger and single-step into the method, then single-step until the exception gets thrown. This doesn&#x27;t always just solve the problem but more often than not it gives you a good indication. If an exception gets thrown due to an annotation, you get an enormous stacktrace from some code you have never seen and didn&#x27;t even know was run, or why it was run, from a thread you have never seen, complaining about wrong parameters that you have never seen, passed from another method you have never seen.</div><br/><div id="36284834" class="c"><input type="checkbox" id="c-36284834" checked=""/><div class="controls bullet"><span class="by">delusional</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36290102">next</a><span>|</span><label class="collapse" for="c-36284834">[-]</label><label class="expand" for="c-36284834">[1 more]</label></div><br/><div class="children"><div class="content">Another one of my favorites. When you make an API for a library it&#x27;s usually pretty clear what the user can do with it. When you make an annotation API for a spring library it&#x27;s evidently impossible to expect how the user will use it. Random feature of a library won&#x27;t work because the context you&#x27;re using their annotation in aren&#x27;t compatible with whatever assumptions they made.</div><br/></div></div><div id="36290102" class="c"><input type="checkbox" id="c-36290102" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36284834">prev</a><span>|</span><a href="#36288575">next</a><span>|</span><label class="collapse" for="c-36290102">[-]</label><label class="expand" for="c-36290102">[1 more]</label></div><br/><div class="children"><div class="content">At least we&#x27;re seeing a movement towards compile time annotation processing. E.g., Micronaut, Quarkus, Dagger2.<p>Much better it fails at compile time.</div><br/></div></div><div id="36288575" class="c"><input type="checkbox" id="c-36288575" checked=""/><div class="controls bullet"><span class="by">suchar</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36290102">prev</a><span>|</span><a href="#36284685">next</a><span>|</span><label class="collapse" for="c-36288575">[-]</label><label class="expand" for="c-36288575">[2 more]</label></div><br/><div class="children"><div class="content">From my personal experience, the first example doesn&#x27;t really happen: thankfully I rarely see people randomly throwing annotations at methods&#x2F;classes hoping one of them will stick. For most of the time annotations are self-explanatory.<p>However, there are some real issues with annotations in Spring&#x2F;Java:
- Application will sometimes run just fine without annotation processor&#x2F;interceptor. Think of `@EnableScheduling` in Spring: you won&#x27;t know that `@Scheduled` is not working (because of missing `@EnableScheduling`) until you observe that method is not executed. In this case static code is a clear win.
- Annotation order: not all annotation processors&#x2F;interceptors in Spring support specifying order. Annotation order in the code doesn&#x27;t matter: it is lost during compilation. Good luck figuring out what is applied first in a method with `@Retry`, `@Transactional` and `@Cached` - will retry be executed within transaction or each retry will have its own transaction? This also is easily solved with static code instead of annotations.<p>As for compile-time error vs runtime-error: personally I don&#x27;t really care as long as there is any error (which is not always the case in the first example) during the build&#x2F;test&#x2F;init&#x2F;assembly phase. When I&#x27;m writing SQL queries in the code, I&#x27;m getting SQL parsing&#x2F;compilation errors during application runtime - but that&#x27;s fine, because I&#x27;ve written SQL-s against DB execution engine. When I&#x27;m writing Spark SQL job, I&#x27;m getting errors during query planning phase - and that&#x27;s also fine, because I&#x27;m writing code against Spark&#x27;s execution engine. Writing annotations against &quot;annotation execution engine&quot; (annotation processor&#x2F;interceptors) doesn&#x27;t seem any different or wrong in principle. Although, there are things that could be improved.<p>Stacktraces: there are a few additional interceptor method calls in the stacktrace when annotations are in use, however, most of the complexity comes from library&#x2F;framework structure and developer&#x27;s familiarity with it. Spring covers a lot of use cases thus it has its share of complexity. I&#x27;m not sure if &quot;Spring without annotations&quot; would be noticeably easier to work with, although I assume that feature-parity with Spring (MVC) is not a goal of this project so it probably will be easier to understand.</div><br/><div id="36288800" class="c"><input type="checkbox" id="c-36288800" checked=""/><div class="controls bullet"><span class="by">Supermancho</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36288575">parent</a><span>|</span><a href="#36284685">next</a><span>|</span><label class="collapse" for="c-36288800">[-]</label><label class="expand" for="c-36288800">[1 more]</label></div><br/><div class="children"><div class="content">&gt; From my personal experience, the first example doesn&#x27;t really happen:<p>It happens every day, all day. Other developers don&#x27;t see it, because it doesn&#x27;t even compile.<p>&gt;  I rarely see people randomly throwing annotations at methods&#x2F;classes hoping one of them will stick.<p>I see it, plenty, in other projects. I have done it, trying to work around an arbitrary 3rd party restriction. I can&#x27;t get something to work and see some old SO and hope it applies. Look at the arcane combination and through trial-and-error figure out what is relevant...then work backwards. Sometimes you can figure out what&#x27;s going on without a blog explaining the opaque behavior or the overly-simplistic documentation explaining what something does...or used to do or doesn&#x27;t always in some specific set of conditions, mainly mine. All you have to know is every bit of how each annotation works and why, and how that interacts with every possible element of your compilation and runtime. This is the unrealistic state of &quot;understanding&quot; annotations for the vast majority of java developers...or maybe it&#x27;s just me and everyone I work with.</div><br/></div></div></div></div><div id="36284685" class="c"><input type="checkbox" id="c-36284685" checked=""/><div class="controls bullet"><span class="by">nunobrito</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36288575">prev</a><span>|</span><a href="#36287719">next</a><span>|</span><label class="collapse" for="c-36284685">[-]</label><label class="expand" for="c-36284685">[1 more]</label></div><br/><div class="children"><div class="content">These is just (another) reason for avoiding Spring. Whenever I&#x27;m tempted because of XY module that looks good, I&#x27;m reminded with feedback like yours that things are still the same.<p>Oh well, will continue using java far away from that framework.</div><br/></div></div><div id="36287719" class="c"><input type="checkbox" id="c-36287719" checked=""/><div class="controls bullet"><span class="by">Groxx</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36284685">prev</a><span>|</span><a href="#36285453">next</a><span>|</span><label class="collapse" for="c-36287719">[-]</label><label class="expand" for="c-36287719">[1 more]</label></div><br/><div class="children"><div class="content">&gt;<i>When you use the wrong annotation, nothing happens during startup of your application... but you don&#x27;t even know at which point in time something should happen. Or if.</i><p>Probably worth noting that this depends entirely on the annotation - they can (and many do) run at compile time, and can provide very strong safety guarantees.<p>Many (most? all? I dunno) of the bloated server-side DI frameworks do not do this though, and I 100% agreed that it&#x27;s can be a truly awful experience.</div><br/></div></div><div id="36285453" class="c"><input type="checkbox" id="c-36285453" checked=""/><div class="controls bullet"><span class="by">atomicnumber3</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36287719">prev</a><span>|</span><a href="#36285141">next</a><span>|</span><label class="collapse" for="c-36285453">[-]</label><label class="expand" for="c-36285453">[2 more]</label></div><br/><div class="children"><div class="content">I love java, and especially modern java, but I also love Ruby and python and the majority of my web dev has been in Rails.<p>I&#x27;m now working on a Java side project, and while typically in the past I&#x27;ve just done the backend in java and then used rails for the web UI and had them share a DB, I&#x27;m trying to see if I can use Java for the web part without going insane.<p>Part of the problem is that historically the big players in java web are HUGE enterprises that was to be able to have 50 teams all do a small part of a backend in parallel and then just deploy them all together. Thus was born the servlet API and application servers.<p>But there&#x27;s so many assumptions and bizarre requirements that come out of trying to do this perverse form of engineering that the whole thing ends up nigh unusable for someone who could otherwise just &quot;rails g&quot; 85% of their project.<p>Jetty has always struck me as a bit of a middle man where if you want, you can do the servlet thing but it&#x27;s also a production grade application framework that doesn&#x27;t force you to do the java EE dance if you don&#x27;t want to. Though there is some leakage. But it&#x27;s a lot less magical than Spring and is also <i>just</i> the http server bits, not the rest of the db and view and etc.<p>But since virtual threads are pretty stable now, I <i>really</i> want to use them, and jetty is the first reasonably complete and robust option that seems to have included support for them.<p>So - you know how these things go. I&#x27;m currently writing an HTTP url path router that supports the rails syntax from routes.rb. And then I&#x27;m going to write a Handler implementation that wrangles all the database stuff and does convenient&#x2F;terse parsing of params (like how rails folds path params, url params, and form params into a single params object) and rendering of responses (so I can render a json object without having to call Content.Sink.[...] and use gson all over the place.<p>It&#x27;s meant to all be very non magical and you can step through the code in a debugger and not see a billion reflective invocations of methods. And I&#x27;m hoping I can make the API of my Handler convenient enough that you don&#x27;t regret that it&#x27;s not annotation magic-based.<p>Also - I know there are various attempts at easier&#x2F;less annoying Java web things like vertx and such, but they a) don&#x27;t support virtual threads yet, and b) many of them are small enough im worried they&#x27;ll rot eventually. Jetty meanwhile isn&#x27;t going anywhere.</div><br/><div id="36289340" class="c"><input type="checkbox" id="c-36289340" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36285453">parent</a><span>|</span><a href="#36285141">next</a><span>|</span><label class="collapse" for="c-36289340">[-]</label><label class="expand" for="c-36289340">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Also - I know there are various attempts at easier&#x2F;less annoying Java web things like vertx and such, but they a) don&#x27;t support virtual threads yet, and b) many of them are small enough im worried they&#x27;ll rot eventually. Jetty meanwhile isn&#x27;t going anywhere.<p>Vertx is arguably larger than Jetty or at least NOT smaller. Vertx is used by Quarkus and other Redhat&#x2F;IBM projects e.g. if you use the newer Keycloak you&#x27;re using Vertx. It&#x27;s been around for a long time and has received constant updates.<p>Vertx is also 1 of the top performs of Techempower Benchmarks keeping Java in the race for those that care.</div><br/></div></div></div></div><div id="36285141" class="c"><input type="checkbox" id="c-36285141" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36284481">parent</a><span>|</span><a href="#36285453">prev</a><span>|</span><a href="#36285634">next</a><span>|</span><label class="collapse" for="c-36285141">[-]</label><label class="expand" for="c-36285141">[3 more]</label></div><br/><div class="children"><div class="content">&gt; you get an enormous stacktrace from some code you have never seen and didn&#x27;t even know was run, or why it was run, from a thread you have never seen, complaining about wrong parameters that you have never seen, passed from another method you have never seen<p>Aka using a library</div><br/><div id="36286478" class="c"><input type="checkbox" id="c-36286478" checked=""/><div class="controls bullet"><span class="by">antonvs</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36285141">parent</a><span>|</span><a href="#36285634">next</a><span>|</span><label class="collapse" for="c-36286478">[-]</label><label class="expand" for="c-36286478">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s more typical of a framework than a library. This is one of the areas where the difference becomes clear: with a library, you will see your own methods in the call stack somewhere, and be able to tell what got called and why; with a framework, it&#x27;s often not so simple.</div><br/><div id="36286643" class="c"><input type="checkbox" id="c-36286643" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36286478">parent</a><span>|</span><a href="#36285634">next</a><span>|</span><label class="collapse" for="c-36286643">[-]</label><label class="expand" for="c-36286643">[1 more]</label></div><br/><div class="children"><div class="content">Regardless, this isn&#x27;t an annotations phenomenon.</div><br/></div></div></div></div></div></div></div></div><div id="36285634" class="c"><input type="checkbox" id="c-36285634" checked=""/><div class="controls bullet"><span class="by">kmac_</span><span>|</span><a href="#36284331">parent</a><span>|</span><a href="#36284481">prev</a><span>|</span><a href="#36288285">next</a><span>|</span><label class="collapse" for="c-36285634">[-]</label><label class="expand" for="c-36285634">[2 more]</label></div><br/><div class="children"><div class="content">Spring WebClient pseudo streaming interface is atrocious. Java has switch expression with pattern matching, but no, they had to create something completely perpendicular to the language. &quot;Hey, let&#x27;s reinvent a wheel, but it will be our <i>better</i> wheel&quot; - and now we have a square egg.</div><br/><div id="36285955" class="c"><input type="checkbox" id="c-36285955" checked=""/><div class="controls bullet"><span class="by">horsestaple</span><span>|</span><a href="#36284331">root</a><span>|</span><a href="#36285634">parent</a><span>|</span><a href="#36288285">next</a><span>|</span><label class="collapse" for="c-36285955">[-]</label><label class="expand" for="c-36285955">[1 more]</label></div><br/><div class="children"><div class="content">WebClient predates pattern matching.</div><br/></div></div></div></div><div id="36288285" class="c"><input type="checkbox" id="c-36288285" checked=""/><div class="controls bullet"><span class="by">ActorNightly</span><span>|</span><a href="#36284331">parent</a><span>|</span><a href="#36285634">prev</a><span>|</span><a href="#36283757">next</a><span>|</span><label class="collapse" for="c-36288285">[-]</label><label class="expand" for="c-36288285">[2 more]</label></div><br/><div class="children"><div class="content">Java programming paradigm is dead in the modern day. You needlessly write way more code that is needed, all without any benefit, relying on third party libraries for main functionalities that may or may not have egregious vulnerabilities like log4shell.<p>The build system also takes needlessly long, because of how many hacks it involves (Groovy being a language designed to fix Java, being used in Gradle build system which runs a whole Java VM just to compile code)<p>Hardware is cheap these days, developer time is more expensive. Use Node or Python.</div><br/></div></div></div></div><div id="36283757" class="c"><input type="checkbox" id="c-36283757" checked=""/><div class="controls bullet"><span class="by">rco8786</span><span>|</span><a href="#36284331">prev</a><span>|</span><a href="#36284845">next</a><span>|</span><label class="collapse" for="c-36283757">[-]</label><label class="expand" for="c-36283757">[13 more]</label></div><br/><div class="children"><div class="content">Kudos to you for trying this. Every time I open a Java project after spending time in literally any other language I get saddened by just how...cluttered? wordy? tedious? it is...hard to find the right word, but it&#x27;s not good.</div><br/><div id="36285127" class="c"><input type="checkbox" id="c-36285127" checked=""/><div class="controls bullet"><span class="by">olavgg</span><span>|</span><a href="#36283757">parent</a><span>|</span><a href="#36284083">next</a><span>|</span><label class="collapse" for="c-36285127">[-]</label><label class="expand" for="c-36285127">[2 more]</label></div><br/><div class="children"><div class="content">Of all web frameworks, with perhaps the exception of Ruby on Rails. I really struggle with lack of documentation or the quality of documentation. And lesser popular frameworks has a lot less volunteers sharing knowledge.<p>Spring Boot is one of the most popular web frameworks in the world. It is by far easier to figure out how to do build something that solves business problems in Spring &#x2F; Hibernate than alternatives(except maybe RoR).<p>For example, do you want to use Micronaut, the Spring Boot killer? Good luck fetching a collection with string type. I takes basically 2 minutes to google how do this with Spring Boot &#x2F; Hibernate, and it will take you a day or two to figure out it isn&#x27;t possible at all with Micronaut without writing massive amount of code that binds the results from your SQL to your objects. This is one example, and it shows the madness in web frameworks. Why are we switching frameworks that only ends up slowing us down?<p>Spring Framework is a big framework, that solves many problems. It may be overwhelming the first year, but with a few years experience you do not want to switch, because other frameworks lacks or has ugly hacks for many Spring Framework features.<p>Other advantages, massive access to experts for hire. There are literally thousands of Spring Framework developers in my area. Also, since I am an expert myself, I can share my knowledge between these people, and together we are improving our knowledge at a rate other frameworks cannot offer and this gives us a massive innovation pace that brings increased business value.<p>The next time I will try another web framework, I need to see that my productivity gets improved immediately. Otherwise, is just noise.</div><br/><div id="36290247" class="c"><input type="checkbox" id="c-36290247" checked=""/><div class="controls bullet"><span class="by">nprateem</span><span>|</span><a href="#36283757">root</a><span>|</span><a href="#36285127">parent</a><span>|</span><a href="#36284083">next</a><span>|</span><label class="collapse" for="c-36290247">[-]</label><label class="expand" for="c-36290247">[1 more]</label></div><br/><div class="children"><div class="content">Plus it&#x27;s old enough that chat gpt is quite helpful. Would be good if they could update it for spring boot 3 though.</div><br/></div></div></div></div><div id="36284083" class="c"><input type="checkbox" id="c-36284083" checked=""/><div class="controls bullet"><span class="by">mhd</span><span>|</span><a href="#36283757">parent</a><span>|</span><a href="#36285127">prev</a><span>|</span><a href="#36284047">next</a><span>|</span><label class="collapse" for="c-36284083">[-]</label><label class="expand" for="c-36284083">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been doing some Angular-&#x2F;Nest-ish TypeScript projects, and it&#x27;s basically Spring with more bugs and = signs.</div><br/><div id="36284824" class="c"><input type="checkbox" id="c-36284824" checked=""/><div class="controls bullet"><span class="by">webosdude</span><span>|</span><a href="#36283757">root</a><span>|</span><a href="#36284083">parent</a><span>|</span><a href="#36284973">next</a><span>|</span><label class="collapse" for="c-36284824">[-]</label><label class="expand" for="c-36284824">[1 more]</label></div><br/><div class="children"><div class="content">I haven’t used Angular but I have used Nest and I agree with this sentiment. Java Spring’s annotations are similar to Nest’s custom decorators.</div><br/></div></div><div id="36284973" class="c"><input type="checkbox" id="c-36284973" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36283757">root</a><span>|</span><a href="#36284083">parent</a><span>|</span><a href="#36284824">prev</a><span>|</span><a href="#36284195">next</a><span>|</span><label class="collapse" for="c-36284973">[-]</label><label class="expand" for="c-36284973">[1 more]</label></div><br/><div class="children"><div class="content">&gt; basically Spring with more bugs and = signs<p>The worst parts of Spring is Spring. Nest lacks the IDE, the performance in the JVM, etc... there is nothing to gain.</div><br/></div></div><div id="36284195" class="c"><input type="checkbox" id="c-36284195" checked=""/><div class="controls bullet"><span class="by">Traubenfuchs</span><span>|</span><a href="#36283757">root</a><span>|</span><a href="#36284083">parent</a><span>|</span><a href="#36284973">prev</a><span>|</span><a href="#36284047">next</a><span>|</span><label class="collapse" for="c-36284195">[-]</label><label class="expand" for="c-36284195">[1 more]</label></div><br/><div class="children"><div class="content">As a year long spring (boot) dev, I felt right at home with angular 2+ -it‘s literally the spring framework of frontend frameworks.</div><br/></div></div></div></div><div id="36284047" class="c"><input type="checkbox" id="c-36284047" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#36283757">parent</a><span>|</span><a href="#36284083">prev</a><span>|</span><a href="#36285033">next</a><span>|</span><label class="collapse" for="c-36284047">[-]</label><label class="expand" for="c-36284047">[2 more]</label></div><br/><div class="children"><div class="content">Vertx is pretty good. I have two vertx services in prod without a single annotation.</div><br/></div></div><div id="36285033" class="c"><input type="checkbox" id="c-36285033" checked=""/><div class="controls bullet"><span class="by">jayd16</span><span>|</span><a href="#36283757">parent</a><span>|</span><a href="#36284047">prev</a><span>|</span><a href="#36284775">next</a><span>|</span><label class="collapse" for="c-36285033">[-]</label><label class="expand" for="c-36285033">[1 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t this add more cluttered boilerplate?  Annotations are pretty clean looking but the backlash is from the &quot;magic&quot; they provide, not the clutter.</div><br/></div></div><div id="36284775" class="c"><input type="checkbox" id="c-36284775" checked=""/><div class="controls bullet"><span class="by">nunobrito</span><span>|</span><a href="#36283757">parent</a><span>|</span><a href="#36285033">prev</a><span>|</span><a href="#36284845">next</a><span>|</span><label class="collapse" for="c-36284775">[-]</label><label class="expand" for="c-36284775">[3 more]</label></div><br/><div class="children"><div class="content">Sure, other languages without semi-colons and using invisible tabs for syntax are fantastic. What I love best are magic object types where you only discover invalid type casting when running the code.<p>And lest we forget the fabulous unit testing for those non-tedious languages. Oh.. I forgot testing is tedious and therefore unavailable for most of those languages.<p>But hey, just look at that really short code without a single comment. The word you&#x27;re looking for is: Fantasticc! :-)</div><br/><div id="36285958" class="c"><input type="checkbox" id="c-36285958" checked=""/><div class="controls bullet"><span class="by">rco8786</span><span>|</span><a href="#36283757">root</a><span>|</span><a href="#36284775">parent</a><span>|</span><a href="#36284845">next</a><span>|</span><label class="collapse" for="c-36285958">[-]</label><label class="expand" for="c-36285958">[2 more]</label></div><br/><div class="children"><div class="content">This doesn’t describe any language or framework I’ve worked in so hard not to conclude that it’s some sort of straw man</div><br/><div id="36289222" class="c"><input type="checkbox" id="c-36289222" checked=""/><div class="controls bullet"><span class="by">nunobrito</span><span>|</span><a href="#36283757">root</a><span>|</span><a href="#36285958">parent</a><span>|</span><a href="#36284845">next</a><span>|</span><label class="collapse" for="c-36289222">[-]</label><label class="expand" for="c-36289222">[1 more]</label></div><br/><div class="children"><div class="content">That is what one can say about verbosity and &quot;tedious&quot;.</div><br/></div></div></div></div></div></div></div></div><div id="36284845" class="c"><input type="checkbox" id="c-36284845" checked=""/><div class="controls bullet"><span class="by">Phelinofist</span><span>|</span><a href="#36283757">prev</a><span>|</span><a href="#36288246">next</a><span>|</span><label class="collapse" for="c-36284845">[-]</label><label class="expand" for="c-36284845">[4 more]</label></div><br/><div class="children"><div class="content">Looks a bit like Spark - <a href="https:&#x2F;&#x2F;github.com&#x2F;perwendel&#x2F;spark">https:&#x2F;&#x2F;github.com&#x2F;perwendel&#x2F;spark</a></div><br/><div id="36284955" class="c"><input type="checkbox" id="c-36284955" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284845">parent</a><span>|</span><a href="#36286015">next</a><span>|</span><label class="collapse" for="c-36284955">[-]</label><label class="expand" for="c-36284955">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know why this was downvoted. Spark was actually one of the alternatives I considered before I concluded that I couldn&#x27;t find any framework that suits me, and started writing grumpyrest.<p>The main issue I had with spark was, from what I could see, the lack of good JSON support. A major part of grumpyrest is its JSON serialization&#x2F;deserialization framework (it&#x27;s roughly half of the whole codebase!) which applies the same principles as grumpyrest does for REST, to JSON. (I even called it grumpyjson in anticipation that I might one day break this out as a standalone project).<p>Now don&#x27;t get me wrong, I consider Jackson a high-quality framework, and I like very much how its author takes care of even the smallest details. It&#x27;s not at all like Spring. However, in making it work as I wanted there were too many things that I could not solve to my satisfaction -- I could not abstract them in a way that was truly re-usable, and every API method would have to deal with these things again. This was even more true for Gson. So in the end, I used them (Gson, to be precise) as a low-level JSON library that basically translates between a JSON AST and serialized JSON, and did the high-level mapping to application classes myself.</div><br/><div id="36285396" class="c"><input type="checkbox" id="c-36285396" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#36284845">root</a><span>|</span><a href="#36284955">parent</a><span>|</span><a href="#36286015">next</a><span>|</span><label class="collapse" for="c-36285396">[-]</label><label class="expand" for="c-36285396">[1 more]</label></div><br/><div class="children"><div class="content">Hmm, a lot of my endpoints (in Spark) tend to look like<p><pre><code>        public SomeService() {
           Spark.post(&quot;some&#x2F;endpoint&quot;, this::someEndpoint, gson::toJson);
           Spark.get(&quot;another&#x2F;endpoint&#x2F;:id&quot;. this::anotherEndpoint, gson::toJson);
           &#x2F;&#x2F;...
         }


        private ResponseType someEndpoint(Request request, Response response) {
           Something some = gson.fromJson(request.body(), Something.class);

           return new ResponseType(some.a, logic(some));
        }

        private ResponseType2 anotherEndpoint(Request request, Response response) {
           return new ResponseType2(otherLogic(request.param(&quot;id&quot;));
        }
</code></pre>
Like yeah I guess it could be have more well integrated json support, but it&#x27;s not like this is heavy in boilerplate, and I do think it balances the need to occasionally access more low-level aspects of the HTTP stack well.<p>Not to detract from your project, of course.</div><br/></div></div></div></div><div id="36286015" class="c"><input type="checkbox" id="c-36286015" checked=""/><div class="controls bullet"><span class="by">kasthack</span><span>|</span><a href="#36284845">parent</a><span>|</span><a href="#36284955">prev</a><span>|</span><a href="#36288246">next</a><span>|</span><label class="collapse" for="c-36286015">[-]</label><label class="expand" for="c-36286015">[1 more]</label></div><br/><div class="children"><div class="content">More like ASP.NET minimal APIs[0]<p>[0] — <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;aspnet&#x2F;core&#x2F;fundamentals&#x2F;minimal-apis?view=aspnetcore-7.0" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;aspnet&#x2F;core&#x2F;fundamentals&#x2F;m...</a></div><br/></div></div></div></div><div id="36288246" class="c"><input type="checkbox" id="c-36288246" checked=""/><div class="controls bullet"><span class="by">Patrol8394</span><span>|</span><a href="#36284845">prev</a><span>|</span><a href="#36285800">next</a><span>|</span><label class="collapse" for="c-36288246">[-]</label><label class="expand" for="c-36288246">[3 more]</label></div><br/><div class="children"><div class="content">Annotations are a great way to get rid of boilerplate and noisy code. 
For instance, I find Spring @Transactional a much more effective, less bug prone and productive way of dealing with db tx vs having to manual code and handle exceptions, rollback, connections etc .. 
Same goes with JAX-RS.<p>I would choose annotations over having to code all that manually any day.<p>You can easily test and debug. Yes, it will cost some time to understand how aspects work and how it is all wired up, but it is worth learning.</div><br/><div id="36288774" class="c"><input type="checkbox" id="c-36288774" checked=""/><div class="controls bullet"><span class="by">peanball</span><span>|</span><a href="#36288246">parent</a><span>|</span><a href="#36289073">next</a><span>|</span><label class="collapse" for="c-36288774">[-]</label><label class="expand" for="c-36288774">[1 more]</label></div><br/><div class="children"><div class="content">The amount of times I’ve put or seen @Transactional in the wrong place where it was never called and silently ignored is pretty high. It always led to very long debugging sessions. Especially if you touch that code once a year.</div><br/></div></div><div id="36289073" class="c"><input type="checkbox" id="c-36289073" checked=""/><div class="controls bullet"><span class="by">robert_dipaolo</span><span>|</span><a href="#36288246">parent</a><span>|</span><a href="#36288774">prev</a><span>|</span><a href="#36285800">next</a><span>|</span><label class="collapse" for="c-36289073">[-]</label><label class="expand" for="c-36289073">[1 more]</label></div><br/><div class="children"><div class="content">The problem with an annotation for that is it causes people to keep transactions open for too long. It&#x27;s best practice in DB programming to keep tx&#x27;s open for as short a time as possible. The longer it&#x27;s open the more scope for deadlocks and contention. So we never use it in our prod code. We&#x27;ve put all the boiler plate code for creating the transaction, error handling, retires, etc in a helper function that takes a lambda as a param (that being the code to run in the tx). That way you can only wrap the code that needs to be in the tx, without copying and pasting all the boiler plate everywhere.</div><br/></div></div></div></div><div id="36285800" class="c"><input type="checkbox" id="c-36285800" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#36288246">prev</a><span>|</span><a href="#36290050">next</a><span>|</span><label class="collapse" for="c-36285800">[-]</label><label class="expand" for="c-36285800">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s always nice to see projects attempting to explore something a bit different than the status quo (which in Java&#x27;s case is Spring or hopefully at least Spring Boot). Personally, I&#x27;ve also had good experiences with Dropwizard: <a href="https:&#x2F;&#x2F;www.dropwizard.io&#x2F;en&#x2F;latest&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.dropwizard.io&#x2F;en&#x2F;latest&#x2F;</a> Any smaller project will suffer at least somewhat from a lack of documentation&#x2F;examples, but Dropwizard takes many packages that might be considered idiomatic in the Java ecosystem (Jetty, Jersey, Jackson, Metrics, Logback, Hibernate&#x2F;JDBI3 and others) and joins them without too much hidden complexity or &quot;magic&quot;.<p>In contrast, something like Spring might suffer from too many examples, many of which are outdated, no longer relevant or considered best practices, as well as there are far too many ways to get something done, leading to lots of confusion. Though the last time I used Dropwizard, I still ran into some issues with adding dependency injection (which is optional), since I had to write some of the code for that myself and couldn&#x27;t find something that worked nicely enough for my needs. Otherwise it was fine, though probably could benefit from additional tooling like Spring Initializr.<p>Either way, anything that lets you put a breakpoint on some initialization code is worth a look in my book, vs having multiple layers of indirection and logic dictated by annotations that are not easy to debug, or even understand. That&#x27;s also why I&#x27;m not necessarily the biggest fun of Laravel, Rails (convention over configuration&#x2F;code) or a few other frameworks, though I acknowledge their usefulness otherwise.</div><br/></div></div><div id="36290050" class="c"><input type="checkbox" id="c-36290050" checked=""/><div class="controls bullet"><span class="by">nesarkvechnep</span><span>|</span><a href="#36285800">prev</a><span>|</span><a href="#36285153">next</a><span>|</span><label class="collapse" for="c-36290050">[-]</label><label class="expand" for="c-36290050">[2 more]</label></div><br/><div class="children"><div class="content">It’s also without REST. I see no hypermedia controls.</div><br/><div id="36290061" class="c"><input type="checkbox" id="c-36290061" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36290050">parent</a><span>|</span><a href="#36285153">next</a><span>|</span><label class="collapse" for="c-36290061">[-]</label><label class="expand" for="c-36290061">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s always one. Yes, REST the theory is far different to REST the reality, but we all know what they meant.</div><br/></div></div></div></div><div id="36285153" class="c"><input type="checkbox" id="c-36285153" checked=""/><div class="controls bullet"><span class="by">AlexITC</span><span>|</span><a href="#36290050">prev</a><span>|</span><a href="#36289060">next</a><span>|</span><label class="collapse" for="c-36285153">[-]</label><label class="expand" for="c-36285153">[2 more]</label></div><br/><div class="children"><div class="content">I think we need more simple alternatives like this, <a href="https:&#x2F;&#x2F;javalin.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;javalin.io&#x2F;</a> is another project I have been following which looks simpler to me.<p>In any case, thanks for sharing.</div><br/><div id="36289035" class="c"><input type="checkbox" id="c-36289035" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#36285153">parent</a><span>|</span><a href="#36289060">next</a><span>|</span><label class="collapse" for="c-36289035">[-]</label><label class="expand" for="c-36289035">[1 more]</label></div><br/><div class="children"><div class="content">Helidon Nima may wind up performing similarly to Netty. It has a straightforward API.<p><a href="https:&#x2F;&#x2F;www.infoq.com&#x2F;news&#x2F;2022&#x2F;09&#x2F;introducing-helidon-nima&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.infoq.com&#x2F;news&#x2F;2022&#x2F;09&#x2F;introducing-helidon-nima&#x2F;</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;tomas-langer&#x2F;helidon-nima-example&#x2F;blob&#x2F;main&#x2F;nima&#x2F;src&#x2F;main&#x2F;java&#x2F;io&#x2F;examples&#x2F;helidon&#x2F;nima&#x2F;NimaMain.java">https:&#x2F;&#x2F;github.com&#x2F;tomas-langer&#x2F;helidon-nima-example&#x2F;blob&#x2F;ma...</a></div><br/></div></div></div></div><div id="36289060" class="c"><input type="checkbox" id="c-36289060" checked=""/><div class="controls bullet"><span class="by">debarshri</span><span>|</span><a href="#36285153">prev</a><span>|</span><a href="#36289327">next</a><span>|</span><label class="collapse" for="c-36289060">[-]</label><label class="expand" for="c-36289060">[1 more]</label></div><br/><div class="children"><div class="content">This project reminds me of java spark [1]. I was always a cheerleader of the project. We even used it in production, loved the non-annotation centric approach.<p>[1]<a href="https:&#x2F;&#x2F;github.com&#x2F;perwendel&#x2F;spark">https:&#x2F;&#x2F;github.com&#x2F;perwendel&#x2F;spark</a></div><br/></div></div><div id="36289327" class="c"><input type="checkbox" id="c-36289327" checked=""/><div class="controls bullet"><span class="by">sunshinerag</span><span>|</span><a href="#36289060">prev</a><span>|</span><a href="#36286165">next</a><span>|</span><label class="collapse" for="c-36289327">[-]</label><label class="expand" for="c-36289327">[1 more]</label></div><br/><div class="children"><div class="content">I like it. Annotations--, Reactive Streams--. On that note, what are the views of HNers on Reactive Streams everywhere ... is it a dream come true or a debugging nightmare?</div><br/></div></div><div id="36286165" class="c"><input type="checkbox" id="c-36286165" checked=""/><div class="controls bullet"><span class="by">rbanffy</span><span>|</span><a href="#36289327">prev</a><span>|</span><a href="#36285860">next</a><span>|</span><label class="collapse" for="c-36286165">[-]</label><label class="expand" for="c-36286165">[2 more]</label></div><br/><div class="children"><div class="content">Not being snarky at all, and saying this as a compliment, this looks like a very pythonic way of building Java services, in particular the “explicit is better than implicit” core principle.<p>I love this.</div><br/><div id="36289555" class="c"><input type="checkbox" id="c-36289555" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#36286165">parent</a><span>|</span><a href="#36285860">next</a><span>|</span><label class="collapse" for="c-36289555">[-]</label><label class="expand" for="c-36289555">[1 more]</label></div><br/><div class="children"><div class="content">I thought most Python web frameworks were heavily annotation driven?</div><br/></div></div></div></div><div id="36285860" class="c"><input type="checkbox" id="c-36285860" checked=""/><div class="controls bullet"><span class="by">ivan_gammel</span><span>|</span><a href="#36286165">prev</a><span>|</span><a href="#36284248">next</a><span>|</span><label class="collapse" for="c-36285860">[-]</label><label class="expand" for="c-36285860">[2 more]</label></div><br/><div class="children"><div class="content">It is an interesting experiment that would require some work before I would see it in my production environments. First of all, in bigger projects dependency injection is going to happen one or another way. Having all controllers implementing some simple interface and thus avoiding overhead of runtime mapping is fine. How can we map 50-100 endpoints and wire persistence etc without a god class or a lot of user code? Looks like a case for at least compile-time reflection and source level annotations (micronaut).<p>Second, a small suggestion: the only difference between null and empty string or any other special value is that null fails faster. Client code that is not fully aware of all allowed special cases is going to fail at some more obscure point, so user of the data model must ensure that all cases are handled adequately. Offering to null of all those cases a preferential treatment with a special class is IMO just adding verbosity to the code with longer declarations and unwrapping. I would keep only OptionalField and rename it to Maybe&lt;T&gt; - it does have semantics justifying a wrapper. Constructors can enforce non-null constraint and user code can handle null or other cases in a traditional way.</div><br/><div id="36288742" class="c"><input type="checkbox" id="c-36288742" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36285860">parent</a><span>|</span><a href="#36284248">next</a><span>|</span><label class="collapse" for="c-36288742">[-]</label><label class="expand" for="c-36288742">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for your feedback.<p>grumpyrest is not averse to dependency injection, but rather trying to &quot;get out of the way&quot;. In particular it does not <i>rely</i> on (automatic) DI. My intention is that you can totally use it in a project that has a DI framework, and at worst it should require you to write the same few lines of glue code that you would need without the DI framework, i.e. calling some constructors.<p>&gt; Offering to null of all those cases a preferential treatment with a special class is IMO just adding verbosity to the code with longer declarations and unwrapping.<p>There was a specific reason to give null &#x2F; missing fields a preferential treatment. If you use a data class like Username that wraps a String, then that class can do all the validation necessary, before the Username reaches the handler method. _Except_ for null and missing fields because the two popular JSON frameworks, Jackson and Guice, already try to bypass that class in those cases. You can configure Jackson to pass null to a Deserializer, but you still cannot distinguish null&#x2F;missing because they are both a null reference at that point.<p>Also, AFAIK you cannot say &quot;pass null to the Deserializer only for this type&quot;. You have to configure it for the whole ObjectMapper, which is problematic in a DI context where that same ObjectMapper gets used by a lot of code.</div><br/></div></div></div></div><div id="36284248" class="c"><input type="checkbox" id="c-36284248" checked=""/><div class="controls bullet"><span class="by">faangsticle</span><span>|</span><a href="#36285860">prev</a><span>|</span><a href="#36284038">next</a><span>|</span><label class="collapse" for="c-36284248">[-]</label><label class="expand" for="c-36284248">[5 more]</label></div><br/><div class="children"><div class="content">&gt; it calls constructors to create dependency objects, and passes constructor parameters to inject them<p>So, basically DI. This is the recommended mode of operation of Guice &amp; Spring.</div><br/><div id="36284294" class="c"><input type="checkbox" id="c-36284294" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284248">parent</a><span>|</span><a href="#36284038">next</a><span>|</span><label class="collapse" for="c-36284294">[-]</label><label class="expand" for="c-36284294">[4 more]</label></div><br/><div class="children"><div class="content">Keep in mind that I had to cram as much useful information as possible into a single headline. The GitHub page says &quot;without _automatic_ dependency injection&quot;. What grumpyrest does is sometimes called &quot;poor man&#x27;s DI&quot;, although this term has been discouraged because it is quite useful. The important thing is that it does not rely on any DI framework &#x2F; container, and especially not on automatic construction of dependencies or annotations.</div><br/><div id="36284886" class="c"><input type="checkbox" id="c-36284886" checked=""/><div class="controls bullet"><span class="by">faangsticle</span><span>|</span><a href="#36284248">root</a><span>|</span><a href="#36284294">parent</a><span>|</span><a href="#36284038">next</a><span>|</span><label class="collapse" for="c-36284886">[-]</label><label class="expand" for="c-36284886">[3 more]</label></div><br/><div class="children"><div class="content">To be clear, most (all?) DI frameworks are available with plain classes without annotations. They do use reflection to figure out which parameter goes where, but that&#x27;s it.<p><pre><code>    public class Foo {
      public Foo(Bar bar, Baz baz) {}
    }
</code></pre>
Is a perfectly valid class as far as most DI frameworks are concerned.</div><br/><div id="36285087" class="c"><input type="checkbox" id="c-36285087" checked=""/><div class="controls bullet"><span class="by">jwfy2342___</span><span>|</span><a href="#36284248">root</a><span>|</span><a href="#36284886">parent</a><span>|</span><a href="#36284038">next</a><span>|</span><label class="collapse" for="c-36285087">[-]</label><label class="expand" for="c-36285087">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t find value in runtime DI frameworks, however I&#x27;m assuming there is a valid use case for them since they exist.</div><br/><div id="36285383" class="c"><input type="checkbox" id="c-36285383" checked=""/><div class="controls bullet"><span class="by">faangsticle</span><span>|</span><a href="#36284248">root</a><span>|</span><a href="#36285087">parent</a><span>|</span><a href="#36284038">next</a><span>|</span><label class="collapse" for="c-36285383">[-]</label><label class="expand" for="c-36285383">[1 more]</label></div><br/><div class="children"><div class="content">Interoperability with libraries that can be loaded at runtime, and in general skipping a build step that would make development annoying to do.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36284038" class="c"><input type="checkbox" id="c-36284038" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#36284248">prev</a><span>|</span><a href="#36288337">next</a><span>|</span><label class="collapse" for="c-36284038">[-]</label><label class="expand" for="c-36284038">[8 more]</label></div><br/><div class="children"><div class="content">Needs more code examples in the readme.</div><br/><div id="36284420" class="c"><input type="checkbox" id="c-36284420" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284038">parent</a><span>|</span><a href="#36284164">next</a><span>|</span><label class="collapse" for="c-36284420">[-]</label><label class="expand" for="c-36284420">[5 more]</label></div><br/><div class="children"><div class="content">I added a simple example to the README that shows for to build a single-endpoint API and also how to do things in JSON with the type system instead of annotations.</div><br/><div id="36284719" class="c"><input type="checkbox" id="c-36284719" checked=""/><div class="controls bullet"><span class="by">nunobrito</span><span>|</span><a href="#36284038">root</a><span>|</span><a href="#36284420">parent</a><span>|</span><a href="#36285915">next</a><span>|</span><label class="collapse" for="c-36284719">[-]</label><label class="expand" for="c-36284719">[2 more]</label></div><br/><div class="children"><div class="content">Moring, this is looking really simple to adopt, good work.<p>First question: is there maven already available for this library? Mostly to ease upgrades in the future.<p>Second question: what strategy would you recommend for adding https on the communication channel?<p>Thanks.</div><br/><div id="36285042" class="c"><input type="checkbox" id="c-36285042" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284038">root</a><span>|</span><a href="#36284719">parent</a><span>|</span><a href="#36285915">next</a><span>|</span><label class="collapse" for="c-36285042">[-]</label><label class="expand" for="c-36285042">[1 more]</label></div><br/><div class="children"><div class="content">Hi, thanks for your feedback.<p>Maven integration is not there yet. Gradle makes it easy to generate a POM, but I have honestly never published anything to central, and I don&#x27;t even know what is necessary for that. I have added this to my to-do list.<p>HTTPS is something I won&#x27;t have to deal with myself, because I&#x27;ll be running it in a context (Cloud Run on Google Cloud Platform) with external HTTPS termination. If you have any chance to do the same, I&#x27;d highly recommend it, because you can use standardized solutions. Other than that, the current version runs on embedded Jetty, but is actually just a servlet code-wise, so any servlet container would do. Again, this is not possible out-of-the-box (unless you don&#x27;t mind cloning grumpyrest and modifying the code), but likely will be in the future. Once you can use a standard servlet container, such as Tomcat, you can just follow the normal how-tos on how to add HTTPS.</div><br/></div></div></div></div><div id="36285915" class="c"><input type="checkbox" id="c-36285915" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#36284038">root</a><span>|</span><a href="#36284420">parent</a><span>|</span><a href="#36284719">prev</a><span>|</span><a href="#36284164">next</a><span>|</span><label class="collapse" for="c-36285915">[-]</label><label class="expand" for="c-36285915">[2 more]</label></div><br/><div class="children"><div class="content">Much better! By the way, how does it compare to Spark?<p><a href="https:&#x2F;&#x2F;sparkjava.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;sparkjava.com&#x2F;</a></div><br/><div id="36288752" class="c"><input type="checkbox" id="c-36288752" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284038">root</a><span>|</span><a href="#36285915">parent</a><span>|</span><a href="#36284164">next</a><span>|</span><label class="collapse" for="c-36288752">[-]</label><label class="expand" for="c-36288752">[1 more]</label></div><br/><div class="children"><div class="content">See <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36284955">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36284955</a></div><br/></div></div></div></div></div></div><div id="36284164" class="c"><input type="checkbox" id="c-36284164" checked=""/><div class="controls bullet"><span class="by">rattray</span><span>|</span><a href="#36284038">parent</a><span>|</span><a href="#36284420">prev</a><span>|</span><a href="#36284065">next</a><span>|</span><label class="collapse" for="c-36284164">[-]</label><label class="expand" for="c-36284164">[1 more]</label></div><br/><div class="children"><div class="content">Agreed, it&#x27;s hard to get a sense for what using this would actually be like. Prose describing code just doesn&#x27;t work for most developers, myself including.</div><br/></div></div><div id="36284065" class="c"><input type="checkbox" id="c-36284065" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284038">parent</a><span>|</span><a href="#36284164">prev</a><span>|</span><a href="#36288337">next</a><span>|</span><label class="collapse" for="c-36284065">[-]</label><label class="expand" for="c-36284065">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for the feedback. I&#x27;ll keep that in mind for the next version.</div><br/></div></div></div></div><div id="36288337" class="c"><input type="checkbox" id="c-36288337" checked=""/><div class="controls bullet"><span class="by">exabrial</span><span>|</span><a href="#36284038">prev</a><span>|</span><a href="#36288365">next</a><span>|</span><label class="collapse" for="c-36288337">[-]</label><label class="expand" for="c-36288337">[1 more]</label></div><br/><div class="children"><div class="content">I do find projects like this interesting, even if I wouldn&#x27;t use it. I found the bit of the codebase I read fairly clean and easy to read. Nice work.</div><br/></div></div><div id="36288365" class="c"><input type="checkbox" id="c-36288365" checked=""/><div class="controls bullet"><span class="by">minebreaker</span><span>|</span><a href="#36288337">prev</a><span>|</span><a href="#36285112">next</a><span>|</span><label class="collapse" for="c-36288365">[-]</label><label class="expand" for="c-36288365">[3 more]</label></div><br/><div class="children"><div class="content">I have the exact same problem and have been working on my own one. Annotation is horrible.
Looks like yours is great. Congrats on shipping.</div><br/><div id="36288676" class="c"><input type="checkbox" id="c-36288676" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36288365">parent</a><span>|</span><a href="#36285112">next</a><span>|</span><label class="collapse" for="c-36288676">[-]</label><label class="expand" for="c-36288676">[2 more]</label></div><br/><div class="children"><div class="content">Do you have your code publicly available? I&#x27;d like to have a look on how you did it.</div><br/><div id="36288924" class="c"><input type="checkbox" id="c-36288924" checked=""/><div class="controls bullet"><span class="by">minebreaker</span><span>|</span><a href="#36288365">root</a><span>|</span><a href="#36288676">parent</a><span>|</span><a href="#36285112">next</a><span>|</span><label class="collapse" for="c-36288924">[-]</label><label class="expand" for="c-36288924">[1 more]</label></div><br/><div class="children"><div class="content">I hate shameless plugs but if you ask:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;minebreaker&#x2F;Abukuma&#x2F;tree&#x2F;master&#x2F;documentation">https:&#x2F;&#x2F;github.com&#x2F;minebreaker&#x2F;Abukuma&#x2F;tree&#x2F;master&#x2F;documenta...</a><p>It&#x27;s a half-baked project and may never be finished.</div><br/></div></div></div></div></div></div><div id="36285112" class="c"><input type="checkbox" id="c-36285112" checked=""/><div class="controls bullet"><span class="by">krzyk</span><span>|</span><a href="#36288365">prev</a><span>|</span><a href="#36288985">next</a><span>|</span><label class="collapse" for="c-36285112">[-]</label><label class="expand" for="c-36285112">[2 more]</label></div><br/><div class="children"><div class="content">This is quite similar to Takes (<a href="https:&#x2F;&#x2F;github.com&#x2F;yegor256&#x2F;takes">https:&#x2F;&#x2F;github.com&#x2F;yegor256&#x2F;takes</a>).<p>I like both, look cleaner then all the annotation based ones.</div><br/><div id="36285236" class="c"><input type="checkbox" id="c-36285236" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36285112">parent</a><span>|</span><a href="#36288985">next</a><span>|</span><label class="collapse" for="c-36285236">[-]</label><label class="expand" for="c-36285236">[1 more]</label></div><br/><div class="children"><div class="content">I did not know Takes, and I&#x27;ll definitely have a closer look. Thanks a lot!</div><br/></div></div></div></div><div id="36288985" class="c"><input type="checkbox" id="c-36288985" checked=""/><div class="controls bullet"><span class="by">maxthegeek1</span><span>|</span><a href="#36285112">prev</a><span>|</span><a href="#36285472">next</a><span>|</span><label class="collapse" for="c-36288985">[-]</label><label class="expand" for="c-36288985">[1 more]</label></div><br/><div class="children"><div class="content">Thank you. :&#x27;)</div><br/></div></div><div id="36285472" class="c"><input type="checkbox" id="c-36285472" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#36288985">prev</a><span>|</span><a href="#36285725">next</a><span>|</span><label class="collapse" for="c-36285472">[-]</label><label class="expand" for="c-36285472">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Unknown properties in records cause an error too.<p>This kills the forward compatibility.</div><br/><div id="36286543" class="c"><input type="checkbox" id="c-36286543" checked=""/><div class="controls bullet"><span class="by">ivan_gammel</span><span>|</span><a href="#36285472">parent</a><span>|</span><a href="#36285725">next</a><span>|</span><label class="collapse" for="c-36286543">[-]</label><label class="expand" for="c-36286543">[2 more]</label></div><br/><div class="children"><div class="content">It’s fail fast vs fail randomly because unknown property was expected by client to be handled in a certain way. Not every case deserves forward compatibility.</div><br/><div id="36289311" class="c"><input type="checkbox" id="c-36289311" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#36285472">root</a><span>|</span><a href="#36286543">parent</a><span>|</span><a href="#36285725">next</a><span>|</span><label class="collapse" for="c-36289311">[-]</label><label class="expand" for="c-36289311">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Not every case deserves forward compatibility.<p>REST APIs do. SOAP has the same &quot;feature&quot; of failing on unknown properties and it made API evolution very hard.</div><br/></div></div></div></div></div></div><div id="36285725" class="c"><input type="checkbox" id="c-36285725" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#36285472">prev</a><span>|</span><a href="#36288401">next</a><span>|</span><label class="collapse" for="c-36285725">[-]</label><label class="expand" for="c-36285725">[1 more]</label></div><br/><div class="children"><div class="content">Java is an OOP language, and OOP is enough to implement DI in a consistent way. It&#x27;s how enterprise NodeJS projects are structured, too (without frameworks like NestJS).<p>We might not need annotation for DI stuffs, it&#x27;s an overkill.</div><br/></div></div><div id="36288401" class="c"><input type="checkbox" id="c-36288401" checked=""/><div class="controls bullet"><span class="by">rizalp</span><span>|</span><a href="#36285725">prev</a><span>|</span><a href="#36284737">next</a><span>|</span><label class="collapse" for="c-36288401">[-]</label><label class="expand" for="c-36288401">[1 more]</label></div><br/><div class="children"><div class="content">So you replace annotation and di with callback hell, got it</div><br/></div></div><div id="36284737" class="c"><input type="checkbox" id="c-36284737" checked=""/><div class="controls bullet"><span class="by">dimgl</span><span>|</span><a href="#36288401">prev</a><span>|</span><a href="#36284684">next</a><span>|</span><label class="collapse" for="c-36284737">[-]</label><label class="expand" for="c-36284737">[2 more]</label></div><br/><div class="children"><div class="content">Hey, I&#x27;d be interested in seeing what this looks like but the README.md is just a bunch of wordiness. I worked on a beanstalkd client for Node.js and Golang, here&#x27;s an example of going straight to the point: <a href="https:&#x2F;&#x2F;github.com&#x2F;getjackd&#x2F;jackd">https:&#x2F;&#x2F;github.com&#x2F;getjackd&#x2F;jackd</a><p>I&#x27;d say making a better README.md is your #1 priority.</div><br/><div id="36285116" class="c"><input type="checkbox" id="c-36285116" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284737">parent</a><span>|</span><a href="#36284684">next</a><span>|</span><label class="collapse" for="c-36285116">[-]</label><label class="expand" for="c-36285116">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for your feedback. The README has been criticized in another comment already, so I&#x27;ll definitely take that serious.</div><br/></div></div></div></div><div id="36284684" class="c"><input type="checkbox" id="c-36284684" checked=""/><div class="controls bullet"><span class="by">social_ism</span><span>|</span><a href="#36284737">prev</a><span>|</span><a href="#36284916">next</a><span>|</span><label class="collapse" for="c-36284684">[-]</label><label class="expand" for="c-36284684">[3 more]</label></div><br/><div class="children"><div class="content">This does nothing that important.  I do detest annotation soup, but what would be more useful is to simply generate a competent rest service and client from the openai spec.  There is nothing performant or magical about using Java here.<p>In fact the comments on performance are pretty dumb.  The JIT compiler is the only source of performance in the jvm and you will never make a performance optimization that beats the JIT</div><br/><div id="36285101" class="c"><input type="checkbox" id="c-36285101" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#36284684">parent</a><span>|</span><a href="#36284916">next</a><span>|</span><label class="collapse" for="c-36285101">[-]</label><label class="expand" for="c-36285101">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for your feedback. My experience with code generation from an OpenAPI spec wasn&#x27;t that great, to be honest.<p>The comments about performance are based on earlier experience with a similar scenario in which code generation _did_ improve performance. Mostly in that the generated code was &quot;de-convoluted&quot; to such an extent that the JIT could actually do its work. I&#x27;m expecting a similar thing here, especially with JSON serialization&#x2F;deserialization, because of the heavy amount of reflection involved: The generated code would then no longer use reflection, but access fields and methods directly, and can therefore be optimized by the JIT.</div><br/></div></div></div></div><div id="36284916" class="c"><input type="checkbox" id="c-36284916" checked=""/><div class="controls bullet"><span class="by">social_ism</span><span>|</span><a href="#36284684">prev</a><span>|</span><label class="collapse" for="c-36284916">[-]</label><label class="expand" for="c-36284916">[4 more]</label></div><br/><div class="children"><div class="content">I find this article weird.  Aping Sinatra is not an innovation.  Java reflection is essentially zero cost after the JIt runs.<p>The idea of &quot;this is what you type&quot; to make a REST endpoint or client call is a non-starter and non-issue.<p>This code in any shop worth its salt has been generate for years off of metadata.<p>If you are typing in rest code into any language, you are holding it wrong.</div><br/><div id="36284989" class="c"><input type="checkbox" id="c-36284989" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#36284916">parent</a><span>|</span><a href="#36284952">next</a><span>|</span><label class="collapse" for="c-36284989">[-]</label><label class="expand" for="c-36284989">[1 more]</label></div><br/><div class="children"><div class="content">All of the harm from reflection happens well before runtime.</div><br/></div></div><div id="36284952" class="c"><input type="checkbox" id="c-36284952" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36284916">parent</a><span>|</span><a href="#36284989">prev</a><span>|</span><label class="collapse" for="c-36284952">[-]</label><label class="expand" for="c-36284952">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Java reflection is essentially zero cost after the JIt runs.<p>It is slower and it is cached so uses more memory.</div><br/><div id="36288114" class="c"><input type="checkbox" id="c-36288114" checked=""/><div class="controls bullet"><span class="by">fsdjkflsjfsoij</span><span>|</span><a href="#36284916">root</a><span>|</span><a href="#36284952">parent</a><span>|</span><label class="collapse" for="c-36288114">[-]</label><label class="expand" for="c-36288114">[1 more]</label></div><br/><div class="children"><div class="content">In Spring apps the same reflection caches are also often duplicated many times.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>