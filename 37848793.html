<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1697101265565" as="style"/><link rel="stylesheet" href="styles.css?v=1697101265565"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/anderspitman/obligator">Show HN: Obligator – An OpenID Connect server for self-hosters</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>apitman</span> | <span>89 comments</span></div><br/><div><div id="37854832" class="c"><input type="checkbox" id="c-37854832" checked=""/><div class="controls bullet"><span class="by">Wronnay</span><span>|</span><a href="#37854561">next</a><span>|</span><label class="collapse" for="c-37854832">[-]</label><label class="expand" for="c-37854832">[1 more]</label></div><br/><div class="children"><div class="content">Cool, but I looks like the creator didn&#x27;t really look deep in the competition. Many of the question marks in the comparison table can be replaced by a checkmark.</div><br/></div></div><div id="37854561" class="c"><input type="checkbox" id="c-37854561" checked=""/><div class="controls bullet"><span class="by">kosinus</span><span>|</span><a href="#37854832">prev</a><span>|</span><a href="#37850256">next</a><span>|</span><label class="collapse" for="c-37854561">[-]</label><label class="expand" for="c-37854561">[1 more]</label></div><br/><div class="children"><div class="content">This looks like it has the same core functionality as Portier? <a href="https:&#x2F;&#x2F;github.com&#x2F;portier&#x2F;portier-broker">https:&#x2F;&#x2F;github.com&#x2F;portier&#x2F;portier-broker</a><p>I&#x27;m on mobile, so haven&#x27;t really checked where we differ in details.</div><br/></div></div><div id="37850256" class="c"><input type="checkbox" id="c-37850256" checked=""/><div class="controls bullet"><span class="by">benkillin</span><span>|</span><a href="#37854561">prev</a><span>|</span><a href="#37850034">next</a><span>|</span><label class="collapse" for="c-37850256">[-]</label><label class="expand" for="c-37850256">[8 more]</label></div><br/><div class="children"><div class="content">This looks like exactly what I was looking for.<p>I was looking for turnkey AuthN&#x2F;AuthZ using OIDC for closed networks and self hosting, turnkey as in being able to drop a configured container in place and hit the ground running, and not being dex with keycloak.</div><br/><div id="37850431" class="c"><input type="checkbox" id="c-37850431" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850256">parent</a><span>|</span><a href="#37850034">next</a><span>|</span><label class="collapse" for="c-37850431">[-]</label><label class="expand" for="c-37850431">[7 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re looking for something but more production ready, Authelia seems like a good option. Vouch and oauth2-proxy are even simpler but more specific in what they do. If you can provide more details of what you&#x27;re trying to accomplish I might be able to give more specific advice.</div><br/><div id="37853023" class="c"><input type="checkbox" id="c-37853023" checked=""/><div class="controls bullet"><span class="by">TrickardRixx</span><span>|</span><a href="#37850256">root</a><span>|</span><a href="#37850431">parent</a><span>|</span><a href="#37850034">next</a><span>|</span><label class="collapse" for="c-37853023">[-]</label><label class="expand" for="c-37853023">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;m looking for something that can federate identity, i.e. allow login with the @company microsoft identity provider, or support a users table, and ideally allows linking them. I just want to properly authenticate for internal tooling.</div><br/><div id="37853375" class="c"><input type="checkbox" id="c-37853375" checked=""/><div class="controls bullet"><span class="by">RealStickman_</span><span>|</span><a href="#37850256">root</a><span>|</span><a href="#37853023">parent</a><span>|</span><a href="#37853063">next</a><span>|</span><label class="collapse" for="c-37853375">[-]</label><label class="expand" for="c-37853375">[2 more]</label></div><br/><div class="children"><div class="content">Maybe Authentik can do what you need? It supports all the various protocols as provider and consumer.</div><br/><div id="37854082" class="c"><input type="checkbox" id="c-37854082" checked=""/><div class="controls bullet"><span class="by">TrickardRixx</span><span>|</span><a href="#37850256">root</a><span>|</span><a href="#37853375">parent</a><span>|</span><a href="#37853063">next</a><span>|</span><label class="collapse" for="c-37854082">[-]</label><label class="expand" for="c-37854082">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll check it out, thanks for the recommendation.</div><br/></div></div></div></div><div id="37853063" class="c"><input type="checkbox" id="c-37853063" checked=""/><div class="controls bullet"><span class="by">snappysnap</span><span>|</span><a href="#37850256">root</a><span>|</span><a href="#37853023">parent</a><span>|</span><a href="#37853375">prev</a><span>|</span><a href="#37850034">next</a><span>|</span><label class="collapse" for="c-37853063">[-]</label><label class="expand" for="c-37853063">[3 more]</label></div><br/><div class="children"><div class="content">How about KeyCloak? We use it for OIDC and it&#x27;s feature rich with support for private key signing and back channel logout.<p><a href="https:&#x2F;&#x2F;www.keycloak.org&#x2F;docs&#x2F;latest&#x2F;securing_apps&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.keycloak.org&#x2F;docs&#x2F;latest&#x2F;securing_apps&#x2F;</a></div><br/><div id="37853298" class="c"><input type="checkbox" id="c-37853298" checked=""/><div class="controls bullet"><span class="by">cchance</span><span>|</span><a href="#37850256">root</a><span>|</span><a href="#37853063">parent</a><span>|</span><a href="#37854076">next</a><span>|</span><label class="collapse" for="c-37853298">[-]</label><label class="expand" for="c-37853298">[1 more]</label></div><br/><div class="children"><div class="content">i think most people look at keycloak, and just feel overwhelmed, but that seems to be the case for OIDC in general, they always feel insanely heavy, something like this with a flatfile config and single file executable seems pretty amazing.</div><br/></div></div><div id="37854076" class="c"><input type="checkbox" id="c-37854076" checked=""/><div class="controls bullet"><span class="by">TrickardRixx</span><span>|</span><a href="#37850256">root</a><span>|</span><a href="#37853063">parent</a><span>|</span><a href="#37853298">prev</a><span>|</span><a href="#37850034">next</a><span>|</span><label class="collapse" for="c-37854076">[-]</label><label class="expand" for="c-37854076">[1 more]</label></div><br/><div class="children"><div class="content">I always assumed you had to create&#x2F;manage user credentials inside KeyCloak. I&#x27;ll take a deeper look at the docs.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37850034" class="c"><input type="checkbox" id="c-37850034" checked=""/><div class="controls bullet"><span class="by">kekub</span><span>|</span><a href="#37850256">prev</a><span>|</span><a href="#37849898">next</a><span>|</span><label class="collapse" for="c-37850034">[-]</label><label class="expand" for="c-37850034">[4 more]</label></div><br/><div class="children"><div class="content">Amazing. I was looking for something like this about a year ago. Looks very promising and may be a good drop in replacement for some simple Auth0 use-cases as well as homelab setups. 
I was not able to get past „ redirect_uri must be on the same domain as client_id“. Maybe you can give an example of a valid client id for your demo instance.</div><br/><div id="37850158" class="c"><input type="checkbox" id="c-37850158" checked=""/><div class="controls bullet"><span class="by">camsjams</span><span>|</span><a href="#37850034">parent</a><span>|</span><a href="#37850214">next</a><span>|</span><label class="collapse" for="c-37850158">[-]</label><label class="expand" for="c-37850158">[1 more]</label></div><br/><div class="children"><div class="content">I too found this hard to reason, but figured it out:<p>If you&#x27;re demoing using <a href="https:&#x2F;&#x2F;openidconnect.net" rel="nofollow noreferrer">https:&#x2F;&#x2F;openidconnect.net</a> for example, set your Client ID to <a href="https:&#x2F;&#x2F;openidconnect.net" rel="nofollow noreferrer">https:&#x2F;&#x2F;openidconnect.net</a><p>Likewise, your ClientID should match the url of the website you are using this to connect with.<p>This was mentioned in the GitHub readme too but didn&#x27;t click until trying the demo</div><br/></div></div><div id="37850214" class="c"><input type="checkbox" id="c-37850214" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850034">parent</a><span>|</span><a href="#37850158">prev</a><span>|</span><a href="#37850121">next</a><span>|</span><label class="collapse" for="c-37850214">[-]</label><label class="expand" for="c-37850214">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, this is indeed not very clear. Others already answered well, but if you look at the example[0] config you can see how you would use your own instance of obligator as a client to the instance running at lastlogin.io. This is a bit meta, but applies equally to any client application.<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;anderspitman&#x2F;obligator#running-it">https:&#x2F;&#x2F;github.com&#x2F;anderspitman&#x2F;obligator#running-it</a></div><br/></div></div><div id="37850121" class="c"><input type="checkbox" id="c-37850121" checked=""/><div class="controls bullet"><span class="by">jackson1442</span><span>|</span><a href="#37850034">parent</a><span>|</span><a href="#37850214">prev</a><span>|</span><a href="#37849898">next</a><span>|</span><label class="collapse" for="c-37850121">[-]</label><label class="expand" for="c-37850121">[1 more]</label></div><br/><div class="children"><div class="content">According to the Readme, the client ID should be the domain of the client. So some site <a href="https:&#x2F;&#x2F;access.site.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;access.site.com</a> would have the client ID <a href="https:&#x2F;&#x2F;access.site.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;access.site.com</a></div><br/></div></div></div></div><div id="37849898" class="c"><input type="checkbox" id="c-37849898" checked=""/><div class="controls bullet"><span class="by">throwaway67743</span><span>|</span><a href="#37850034">prev</a><span>|</span><a href="#37850161">next</a><span>|</span><label class="collapse" for="c-37849898">[-]</label><label class="expand" for="c-37849898">[12 more]</label></div><br/><div class="children"><div class="content">Ohh, looks extremely promising, I&#x27;ve been after something with a bit more flexibility than Dex while not being Keycloak&#x2F;Java etc, an LDAP backend would be awesome as well though (another thing thats lacking is a simple ldap server, perhaps with sql as db, openldap is excessive and glauth isn&#x27;t there)</div><br/><div id="37852716" class="c"><input type="checkbox" id="c-37852716" checked=""/><div class="controls bullet"><span class="by">rescbr</span><span>|</span><a href="#37849898">parent</a><span>|</span><a href="#37849988">next</a><span>|</span><label class="collapse" for="c-37852716">[-]</label><label class="expand" for="c-37852716">[1 more]</label></div><br/><div class="children"><div class="content">I’ve found running Samba as a Domain Controller pretty straightforward for this exact use case.</div><br/></div></div><div id="37849988" class="c"><input type="checkbox" id="c-37849988" checked=""/><div class="controls bullet"><span class="by">bo0tzz</span><span>|</span><a href="#37849898">parent</a><span>|</span><a href="#37852716">prev</a><span>|</span><a href="#37850492">next</a><span>|</span><label class="collapse" for="c-37849988">[-]</label><label class="expand" for="c-37849988">[5 more]</label></div><br/><div class="children"><div class="content">Have you had a look at Authentik? It might fit your needs.</div><br/><div id="37850218" class="c"><input type="checkbox" id="c-37850218" checked=""/><div class="controls bullet"><span class="by">throwaway67743</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37849988">parent</a><span>|</span><a href="#37850492">next</a><span>|</span><label class="collapse" for="c-37850218">[-]</label><label class="expand" for="c-37850218">[4 more]</label></div><br/><div class="children"><div class="content">I think I did and when I couldn&#x27;t find useful installation details I gave up, I don&#x27;t use docker or kubernetes, so if projects can&#x27;t be bothered to make information available for a generic install, I immediately lose interest.</div><br/><div id="37850276" class="c"><input type="checkbox" id="c-37850276" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37850218">parent</a><span>|</span><a href="#37850492">next</a><span>|</span><label class="collapse" for="c-37850276">[-]</label><label class="expand" for="c-37850276">[3 more]</label></div><br/><div class="children"><div class="content">I do plenty of native installs, and I find Docker based instructions to be a pretty nice universal codex for how things work.<p>Docker entryscripts sometimes have significant magic baked in (alas), but quite often Docker is a distribution mechanism more than anything else. The Docker guides are - 9 times out of 10 - more than informative enough to show how to DIY in any other of the dozens if not hundreds of other system types you might have.<p>If you want to resist using the easy thing, I personally think it behooves you to not bounce so quick. You don&#x27;t have to use it, and it&#x27;s good nearly universal documentation as to how to operate the thing.</div><br/><div id="37851891" class="c"><input type="checkbox" id="c-37851891" checked=""/><div class="controls bullet"><span class="by">codegeek</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37850276">parent</a><span>|</span><a href="#37850795">next</a><span>|</span><label class="collapse" for="c-37851891">[-]</label><label class="expand" for="c-37851891">[1 more]</label></div><br/><div class="children"><div class="content">&quot;using the easy thing&quot;<p>Easy != Simple. Not everyone wants to play around with Dockerfiles, docker compose and what not. Sometimes a plain binary is preferred. I say this as someone who likes docker for certain use cases but docker is not my solution for everything.</div><br/></div></div><div id="37850795" class="c"><input type="checkbox" id="c-37850795" checked=""/><div class="controls bullet"><span class="by">throwaway67743</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37850276">parent</a><span>|</span><a href="#37851891">prev</a><span>|</span><a href="#37850492">next</a><span>|</span><label class="collapse" for="c-37850795">[-]</label><label class="expand" for="c-37850795">[1 more]</label></div><br/><div class="children"><div class="content">It means I have to sit and read through the Dockerfile (or compose, in many cases, which is even worse) and figure out what its doing and what magic variables I need to provide etc, when just providing a binary download url and an example (or reference) config does just fine, not everyone uses docker</div><br/></div></div></div></div></div></div></div></div><div id="37850492" class="c"><input type="checkbox" id="c-37850492" checked=""/><div class="controls bullet"><span class="by">nitnelave</span><span>|</span><a href="#37849898">parent</a><span>|</span><a href="#37849988">prev</a><span>|</span><a href="#37850212">next</a><span>|</span><label class="collapse" for="c-37850492">[-]</label><label class="expand" for="c-37850492">[2 more]</label></div><br/><div class="children"><div class="content">Have you had a look at LLDAP for a super simple LDAP backend with SQL behind?
That or kanidm if you want OIDC built in.</div><br/><div id="37853351" class="c"><input type="checkbox" id="c-37853351" checked=""/><div class="controls bullet"><span class="by">throwaway67743</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37850492">parent</a><span>|</span><a href="#37850212">next</a><span>|</span><label class="collapse" for="c-37853351">[-]</label><label class="expand" for="c-37853351">[1 more]</label></div><br/><div class="children"><div class="content">I hadn&#x27;t seen that, thanks! even has clear information on how to build natively and has a reference config</div><br/></div></div></div></div><div id="37850212" class="c"><input type="checkbox" id="c-37850212" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#37849898">parent</a><span>|</span><a href="#37850492">prev</a><span>|</span><a href="#37850161">next</a><span>|</span><label class="collapse" for="c-37850212">[-]</label><label class="expand" for="c-37850212">[3 more]</label></div><br/><div class="children"><div class="content">What&#x27;s wrong with glauth? I forked it so I could build in the &#x2F;etc&#x2F;passwd support and it&#x27;s been working great.</div><br/><div id="37852926" class="c"><input type="checkbox" id="c-37852926" checked=""/><div class="controls bullet"><span class="by">grepfru_it</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37850212">parent</a><span>|</span><a href="#37850976">next</a><span>|</span><label class="collapse" for="c-37852926">[-]</label><label class="expand" for="c-37852926">[1 more]</label></div><br/><div class="children"><div class="content">Like raw &#x2F;etc&#x2F;passwd support or passwd support via PAM?  Should always use PAM over reading passwd&#x2F;shadow directly</div><br/></div></div><div id="37850976" class="c"><input type="checkbox" id="c-37850976" checked=""/><div class="controls bullet"><span class="by">throwaway67743</span><span>|</span><a href="#37849898">root</a><span>|</span><a href="#37850212">parent</a><span>|</span><a href="#37852926">prev</a><span>|</span><a href="#37850161">next</a><span>|</span><label class="collapse" for="c-37850976">[-]</label><label class="expand" for="c-37850976">[1 more]</label></div><br/><div class="children"><div class="content">I stand corrected, looks like its come a long way since I last checked - will have to give it another go</div><br/></div></div></div></div></div></div><div id="37850161" class="c"><input type="checkbox" id="c-37850161" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#37849898">prev</a><span>|</span><a href="#37852031">next</a><span>|</span><label class="collapse" for="c-37850161">[-]</label><label class="expand" for="c-37850161">[11 more]</label></div><br/><div class="children"><div class="content">Can someone explain which services this is supposed to be an IdP for? As far as I know, services need to have the OIDC service registered (ie I can&#x27;t just auth with this to Google or whatever).</div><br/><div id="37850282" class="c"><input type="checkbox" id="c-37850282" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850161">parent</a><span>|</span><a href="#37850291">next</a><span>|</span><label class="collapse" for="c-37850282">[-]</label><label class="expand" for="c-37850282">[6 more]</label></div><br/><div class="children"><div class="content">Not sure I&#x27;m reading your question correctly, but if you want to use obligator as an IdP for other apps&#x2F;services, they don&#x27;t need to be registered as long as they set the client_id properly. That&#x27;s the &quot;anonymous client&quot; auth described. However, in the simplest case you would have to verify any email addresses by having a confirmation email sent. To make this more streamlined, obligator can also act as an OIDC client for upstream OIDC providers such as Google, GitHub, etc. Once obligator has used an upstream provider to verify an email address, that address is treated exactly as if obligator had verified it itself. In this case you are correct in that registration is required with each upstream provider.</div><br/><div id="37850511" class="c"><input type="checkbox" id="c-37850511" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37850282">parent</a><span>|</span><a href="#37850291">next</a><span>|</span><label class="collapse" for="c-37850511">[-]</label><label class="expand" for="c-37850511">[5 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t remember the OIDC flows very well, but basically my question was whether I can use Obligator as an OIDC provider and Google as the client.<p>Ie can I log in to Google with Obligator? Or do I need to set up each client beforehand?<p>I skimmed the related article but didn&#x27;t get it entirely, I&#x27;ll need to read it more thoroughly.</div><br/><div id="37850650" class="c"><input type="checkbox" id="c-37850650" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37850511">parent</a><span>|</span><a href="#37850291">next</a><span>|</span><label class="collapse" for="c-37850650">[-]</label><label class="expand" for="c-37850650">[4 more]</label></div><br/><div class="children"><div class="content">Ahh that makes sense. And you are essentially correct. Generally speaking clients expect to be aware of who their IdP is, and currently Google&#x2F;Facebook&#x2F;Apple&#x2F;Microsoft have a stranglehold on the &quot;approved login IdP&quot;, with a few dark horses like GitHub.<p>The original vision of OpenID (ie pre-OpenID Connect) was for applications to support any IdP, and you just tell the app what your IdP is when you create your account. You could also imagine browsers filling this in automatically. This didn&#x27;t pan out in practice, primarily because no one used it[0].<p>However, it&#x27;s becoming more realistic to run your own IdP, both by self-hosting and by using services such as Okta.<p>Tailscale actually let&#x27;s you bring your own OIDC IdP. It uses WebFinger to prove an IdP has authority over a specific identity (email address). This is even more streamlined than entering your IdP directly. You just give Tailscale your email and they automatically send your to your IdP to authenticate.<p>But I wouldn&#x27;t hold your breath for the major email providers to implement WebFinger so users can choose their own IdP. Which is one of many reasons I&#x27;m a big advocate of people using their own domain for email, even if the email itself is hosted by someone else (I use and love Fastmail).<p>[0]: <a href="https:&#x2F;&#x2F;meta.stackexchange.com&#x2F;questions&#x2F;307647&#x2F;support-for-openid-ended-on-july-25-2018" rel="nofollow noreferrer">https:&#x2F;&#x2F;meta.stackexchange.com&#x2F;questions&#x2F;307647&#x2F;support-for-...</a><p>[1]: <a href="https:&#x2F;&#x2F;tailscale.com&#x2F;kb&#x2F;1240&#x2F;sso-custom-oidc&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;tailscale.com&#x2F;kb&#x2F;1240&#x2F;sso-custom-oidc&#x2F;</a></div><br/><div id="37850854" class="c"><input type="checkbox" id="c-37850854" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37850650">parent</a><span>|</span><a href="#37850291">next</a><span>|</span><label class="collapse" for="c-37850854">[-]</label><label class="expand" for="c-37850854">[3 more]</label></div><br/><div class="children"><div class="content">Thanks, this is very informative. I was really hoping OIDC+WebFinger would catch on, it was a more or less equivalent experience to Mozilla&#x27;s Persona, which I was a big fan of.</div><br/><div id="37851130" class="c"><input type="checkbox" id="c-37851130" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37850854">parent</a><span>|</span><a href="#37850291">next</a><span>|</span><label class="collapse" for="c-37851130">[-]</label><label class="expand" for="c-37851130">[2 more]</label></div><br/><div class="children"><div class="content">Thank you for mentioning Persona. I sadly missed that train when it was a thing, but it&#x27;s always sounded cool. I think it&#x27;s basically what I want. Comparing to it in the docs would actually probably be a good way to explain the purpose of obligator.</div><br/><div id="37851467" class="c"><input type="checkbox" id="c-37851467" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37851130">parent</a><span>|</span><a href="#37850291">next</a><span>|</span><label class="collapse" for="c-37851467">[-]</label><label class="expand" for="c-37851467">[1 more]</label></div><br/><div class="children"><div class="content">Persona was the best way to do identity management. Using your email address to authenticate was genius, and it worked with any email provider that would accept your email address. Even if you self-hosted, with things like name_of_site@yourdomain.com, it would still work (unlike logging in with Google, where the site gets your main email address).<p>I was so sad to see it die.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37850291" class="c"><input type="checkbox" id="c-37850291" checked=""/><div class="controls bullet"><span class="by">Msurrow</span><span>|</span><a href="#37850161">parent</a><span>|</span><a href="#37850282">prev</a><span>|</span><a href="#37850224">next</a><span>|</span><label class="collapse" for="c-37850291">[-]</label><label class="expand" for="c-37850291">[2 more]</label></div><br/><div class="children"><div class="content">The readme links to another blog which explains the use case in more detail, but this quote sums it up I think “In a world where everyone&#x27;s own website is its own OAuth server, it&#x27;s obviously not practical to have an app developer register API keys at each.”<p>So, I build some app for Wordpress sites and self-hosters want to use my app against their WP site that they also made into an IDP. Then we get the issue of the app needing to be (pre)registered with the IDP, and set client_id and client_secret in its config.<p>Okay. I get that. But why on earth are we assuming that a self-hoster who can setup her own IDP cannot also create this app registration herself, and add a client_id&#x2F;secret to a configfile before starting my app?</div><br/><div id="37850462" class="c"><input type="checkbox" id="c-37850462" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37850291">parent</a><span>|</span><a href="#37850224">next</a><span>|</span><label class="collapse" for="c-37850462">[-]</label><label class="expand" for="c-37850462">[1 more]</label></div><br/><div class="children"><div class="content">&gt; why on earth are we assuming that a self-hoster who can setup her own IDP cannot also create this app registration herself, and add a client_id&#x2F;secret to a configfile before starting my app?<p>Excellent question, and it gets into the meat of why I made this in the first place. obligator is the first piece of the puzzle I&#x27;m trying to solve to make self-hosting as easy and secure as running an app on your phone. In that world users cannot be expected to pre-register OAuth2 applications. But above and beyond that, registration creates friction that I feel is unnecessary and doesn&#x27;t add enough additional security (and as mentioned can even reduce security when implemented poorly) for me to want to bother with it myself, so I built a server that doesn&#x27;t require it.</div><br/></div></div></div></div><div id="37850224" class="c"><input type="checkbox" id="c-37850224" checked=""/><div class="controls bullet"><span class="by">camsjams</span><span>|</span><a href="#37850161">parent</a><span>|</span><a href="#37850291">prev</a><span>|</span><a href="#37852031">next</a><span>|</span><label class="collapse" for="c-37850224">[-]</label><label class="expand" for="c-37850224">[2 more]</label></div><br/><div class="children"><div class="content">This did indeed work for Google (that&#x27;s the only one I tried), but the details of how this works is best detailed in this post:
<a href="https:&#x2F;&#x2F;aaronparecki.com&#x2F;2018&#x2F;07&#x2F;07&#x2F;7&#x2F;oauth-for-the-open-web" rel="nofollow noreferrer">https:&#x2F;&#x2F;aaronparecki.com&#x2F;2018&#x2F;07&#x2F;07&#x2F;7&#x2F;oauth-for-the-open-web</a><p>The above post was also linked from the obligator project&#x27;s GH readme</div><br/><div id="37850675" class="c"><input type="checkbox" id="c-37850675" checked=""/><div class="controls bullet"><span class="by">omneity</span><span>|</span><a href="#37850161">root</a><span>|</span><a href="#37850224">parent</a><span>|</span><a href="#37852031">next</a><span>|</span><label class="collapse" for="c-37850675">[-]</label><label class="expand" for="c-37850675">[1 more]</label></div><br/><div class="children"><div class="content">IndieAuth is super super cool and a vital component to get back control of the internet to users, but I can&#x27;t shake up the security concerns.<p>Also, near the end of the article. Using a security nightmare such as Wordpress as your identity provider, what could go wrong? It only takes one single rogue plugin.</div><br/></div></div></div></div></div></div><div id="37852031" class="c"><input type="checkbox" id="c-37852031" checked=""/><div class="controls bullet"><span class="by">jupp0r</span><span>|</span><a href="#37850161">prev</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37852031">[-]</label><label class="expand" for="c-37852031">[15 more]</label></div><br/><div class="children"><div class="content">Using email magic links as authentication mechanism is not a great choice in my opinion as email is not a very secure protocol if you think about the default smtp security guarantees and man-in-the-middle interception, either on the smtp or on the network level if servers communicate unencrypted.</div><br/><div id="37852073" class="c"><input type="checkbox" id="c-37852073" checked=""/><div class="controls bullet"><span class="by">KRAKRISMOTT</span><span>|</span><a href="#37852031">parent</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37852073">[-]</label><label class="expand" for="c-37852073">[14 more]</label></div><br/><div class="children"><div class="content">If you believe email to be the weakest link in the chain, then you have to get rid of email password resets too and use reset codes instead. Lose your codes, lose your account.</div><br/><div id="37852249" class="c"><input type="checkbox" id="c-37852249" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852073">parent</a><span>|</span><a href="#37852392">next</a><span>|</span><label class="collapse" for="c-37852249">[-]</label><label class="expand" for="c-37852249">[6 more]</label></div><br/><div class="children"><div class="content">This. As sad as it is, email is the defacto identity on the internet. Every system I&#x27;m aware of falls back on email and&#x2F;or phone numbers for recovery.</div><br/><div id="37854186" class="c"><input type="checkbox" id="c-37854186" checked=""/><div class="controls bullet"><span class="by">xg15</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852249">parent</a><span>|</span><a href="#37852803">next</a><span>|</span><label class="collapse" for="c-37854186">[-]</label><label class="expand" for="c-37854186">[1 more]</label></div><br/><div class="children"><div class="content">On the surface yes. In practice, it&#x27;s more like email + whatever kind of security system your email provider has set up to verify its really you.<p>I.e. try to log into a gmail account from a new machine in an unfamiliar location, <i>even if</i> you know the password and can receive SMS codes.<p>So right now, I&#x27;m more worried about getting locked out of a mail account than that someone else could take it over.<p>As for unencrypted SMPT, there is SMTPS [1]. I&#x27;m not sure if this seever supports it, but I&#x27;d assume it would be a basic requirement if you want to communicate with real-world mailboxes and not instantly flagged as spam.<p>[1] <a href="https:&#x2F;&#x2F;de.m.wikipedia.org&#x2F;wiki&#x2F;SMTPS" rel="nofollow noreferrer">https:&#x2F;&#x2F;de.m.wikipedia.org&#x2F;wiki&#x2F;SMTPS</a></div><br/></div></div><div id="37852803" class="c"><input type="checkbox" id="c-37852803" checked=""/><div class="controls bullet"><span class="by">v2223943777435</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852249">parent</a><span>|</span><a href="#37854186">prev</a><span>|</span><a href="#37852392">next</a><span>|</span><label class="collapse" for="c-37852803">[-]</label><label class="expand" for="c-37852803">[4 more]</label></div><br/><div class="children"><div class="content">just because email is often the defacto identity on the internet doesn&#x27;t make it a good idea (bandwagon fallacy). i don&#x27;t consider email tokens to be a serious form of authentication. unless you send the user their authentication secret with data encrypted by the user&#x27;s public key, i strongly recommend against any use of email-based authentication.<p>* there are a huge number of middlemen in emailing that you have to trust. the sending email provider, the receiving email provider, ISP, email client, the device the client resides on. and everyone else in between.
* unless you&#x27;re just hosting an email server on your local network, starting up an email server that can successfully get its messages across the internet to your intended recipient is an extremely high barrier.<p>email is an extremely error-prone protocol. there&#x27;s lots of reasons that government&#x2F;health organizations don&#x27;t send you personal private information by email and instead send you an email that says to come log into their secure platform to view the private information.</div><br/><div id="37852983" class="c"><input type="checkbox" id="c-37852983" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852803">parent</a><span>|</span><a href="#37852392">next</a><span>|</span><label class="collapse" for="c-37852983">[-]</label><label class="expand" for="c-37852983">[3 more]</label></div><br/><div class="children"><div class="content">There are mitigations for these security issues. The most important is that you only email the user a random code which is bound to the browser login attempt session. The user is required to enter the code they received in that session. This removes the need to trust any of the parties you listed.</div><br/><div id="37853233" class="c"><input type="checkbox" id="c-37853233" checked=""/><div class="controls bullet"><span class="by">v2223943777435</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852983">parent</a><span>|</span><a href="#37852392">next</a><span>|</span><label class="collapse" for="c-37853233">[-]</label><label class="expand" for="c-37853233">[2 more]</label></div><br/><div class="children"><div class="content">you still have to trust the client device. but i guess if someone else is there you&#x27;re screwed anyway.<p>also, email has a potential for a big delay. a lot of times people need to log in quickly. email doesn&#x27;t always reach the destination in a timely manner.</div><br/><div id="37853358" class="c"><input type="checkbox" id="c-37853358" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37853233">parent</a><span>|</span><a href="#37852392">next</a><span>|</span><label class="collapse" for="c-37853358">[-]</label><label class="expand" for="c-37853358">[1 more]</label></div><br/><div class="children"><div class="content">The UX challenges are real, no doubt about that. That&#x27;s actually one of the main reasons I started down the OIDC rabbit hole. I was using only passwordless email logins on my services, and wanted to provide my users with the UX of social login without forcing them to give up their privacy to ad companies.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37852392" class="c"><input type="checkbox" id="c-37852392" checked=""/><div class="controls bullet"><span class="by">brazzledazzle</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852073">parent</a><span>|</span><a href="#37852249">prev</a><span>|</span><a href="#37853352">next</a><span>|</span><label class="collapse" for="c-37852392">[-]</label><label class="expand" for="c-37852392">[1 more]</label></div><br/><div class="children"><div class="content">With these servers&#x2F;services you can usually chain to another identity source (e.g. ldap directory+kerberos) so that would fall to the origin identity service. But even if you don&#x27;t chain it the owner of OIDC provider will usually provide an administrator role and integration system accounts that can be used as an out of band sort of user account recovery mechanism.</div><br/></div></div><div id="37853352" class="c"><input type="checkbox" id="c-37853352" checked=""/><div class="controls bullet"><span class="by">JambalayaJim</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852073">parent</a><span>|</span><a href="#37852392">prev</a><span>|</span><a href="#37852331">next</a><span>|</span><label class="collapse" for="c-37853352">[-]</label><label class="expand" for="c-37853352">[1 more]</label></div><br/><div class="children"><div class="content">There is one difference here - email reset would lock the legitimate user out of the account, whereas email magic links would not. I think that&#x27;s an advantage for the former.</div><br/></div></div><div id="37852331" class="c"><input type="checkbox" id="c-37852331" checked=""/><div class="controls bullet"><span class="by">Phrodo_00</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852073">parent</a><span>|</span><a href="#37853352">prev</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37852331">[-]</label><label class="expand" for="c-37852331">[5 more]</label></div><br/><div class="children"><div class="content">You could let users use end to end encrypted protocols for it (like signal,  telegram or supposedly whatsapp)</div><br/><div id="37853363" class="c"><input type="checkbox" id="c-37853363" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37852331">parent</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37853363">[-]</label><label class="expand" for="c-37853363">[4 more]</label></div><br/><div class="children"><div class="content">Yes, and I hope we get there someday, but currently that&#x27;s a tiny fraction of users.</div><br/><div id="37853382" class="c"><input type="checkbox" id="c-37853382" checked=""/><div class="controls bullet"><span class="by">Phrodo_00</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37853363">parent</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37853382">[-]</label><label class="expand" for="c-37853382">[3 more]</label></div><br/><div class="children"><div class="content">Whatsapp has like 3 billions users. Not exactly tiny.</div><br/><div id="37853554" class="c"><input type="checkbox" id="c-37853554" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37853382">parent</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37853554">[-]</label><label class="expand" for="c-37853554">[2 more]</label></div><br/><div class="children"><div class="content">Huh, I honestly didn&#x27;t know it was that big. Forgive my ignorance, I&#x27;ve never really used Whatsapp. Can you send a message to someone that hasn&#x27;t added you as a contact? If so I would seriously consider implementing this as an alternative to email.<p>The main problem is that it&#x27;s not federated and completely under Facebook&#x27;s control. Also, identity based on WhatsApp is still vulnerable to simjacking, correct?</div><br/><div id="37853635" class="c"><input type="checkbox" id="c-37853635" checked=""/><div class="controls bullet"><span class="by">Phrodo_00</span><span>|</span><a href="#37852031">root</a><span>|</span><a href="#37853554">parent</a><span>|</span><a href="#37853854">next</a><span>|</span><label class="collapse" for="c-37853635">[-]</label><label class="expand" for="c-37853635">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The main problem is that it&#x27;s not federated and completely under Facebook&#x27;s control. Also, identity based on WhatsApp is still vulnerable to simjacking, correct?<p>Yes to both</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37853854" class="c"><input type="checkbox" id="c-37853854" checked=""/><div class="controls bullet"><span class="by">moontear</span><span>|</span><a href="#37852031">prev</a><span>|</span><a href="#37854390">next</a><span>|</span><label class="collapse" for="c-37853854">[-]</label><label class="expand" for="c-37853854">[2 more]</label></div><br/><div class="children"><div class="content">I was going to comment „but I can already do a lot of that with Authelia and it is very simple to configure“, but then I found your very good comparison page - good comparison!<p>I know the Authelia team is hard at working supporting some of the use cases that are currently not supported, so I will probably wait until some things are implemented there instead of switching.</div><br/></div></div><div id="37854390" class="c"><input type="checkbox" id="c-37854390" checked=""/><div class="controls bullet"><span class="by">hkt</span><span>|</span><a href="#37853854">prev</a><span>|</span><a href="#37849726">next</a><span>|</span><label class="collapse" for="c-37854390">[-]</label><label class="expand" for="c-37854390">[1 more]</label></div><br/><div class="children"><div class="content">Genius. Not having to register is brilliant and I love it. I&#x27;ll be watching this project and using it.</div><br/></div></div><div id="37850376" class="c"><input type="checkbox" id="c-37850376" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37849726">prev</a><span>|</span><a href="#37850296">next</a><span>|</span><label class="collapse" for="c-37850376">[-]</label><label class="expand" for="c-37850376">[8 more]</label></div><br/><div class="children"><div class="content">I am only familiar with authentik. When I look at the comparison table it&#x27;s super inaccurate for authentik. FYI.</div><br/><div id="37850403" class="c"><input type="checkbox" id="c-37850403" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850376">parent</a><span>|</span><a href="#37850296">next</a><span>|</span><label class="collapse" for="c-37850403">[-]</label><label class="expand" for="c-37850403">[7 more]</label></div><br/><div class="children"><div class="content">Authentik is one of the ones I actually searched more closely through the docs, as it&#x27;s a popular choice for self-hosting. Can you point out specific inaccuracies so I can fix them?<p>It&#x27;s tricky to figure out if some features are supported across different servers because the features have different names, and the more features a server has the harder it is to dig through.</div><br/><div id="37850851" class="c"><input type="checkbox" id="c-37850851" checked=""/><div class="controls bullet"><span class="by">mynameisvlad</span><span>|</span><a href="#37850376">root</a><span>|</span><a href="#37850403">parent</a><span>|</span><a href="#37850888">next</a><span>|</span><label class="collapse" for="c-37850851">[-]</label><label class="expand" for="c-37850851">[5 more]</label></div><br/><div class="children"><div class="content">Some I found:<p>- I believe it does offer trusted header auth, although I haven’t used it for any of my apps to test out. <a href="https:&#x2F;&#x2F;goauthentik.io&#x2F;docs&#x2F;providers&#x2F;proxy&#x2F;custom_headers" rel="nofollow noreferrer">https:&#x2F;&#x2F;goauthentik.io&#x2F;docs&#x2F;providers&#x2F;proxy&#x2F;custom_headers</a><p>- It doesn’t offer “Passwordless email login”, but offers “passwordless login” in the form of passkeys (with a tiny bit of setup).<p>- Definitely offers upstream OIDC, I have my instance set up to be able to sign in through AAD or locally. <a href="https:&#x2F;&#x2F;goauthentik.io&#x2F;integrations&#x2F;sources" rel="nofollow noreferrer">https:&#x2F;&#x2F;goauthentik.io&#x2F;integrations&#x2F;sources</a></div><br/><div id="37851024" class="c"><input type="checkbox" id="c-37851024" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850376">root</a><span>|</span><a href="#37850851">parent</a><span>|</span><a href="#37850888">next</a><span>|</span><label class="collapse" for="c-37851024">[-]</label><label class="expand" for="c-37851024">[4 more]</label></div><br/><div class="children"><div class="content">&gt; I believe it does offer trusted header auth, although I haven’t used it for any of my apps to test out<p>Fixed, thanks. Do you know if custom headers are returned when using forward auth, or only when Authentik is acting as a proxy?<p>&gt;  It doesn’t offer “Passwordless email login”, but offers “passwordless login” in the form of passkeys (with a tiny bit of setup).<p>In the case of obligator, email support specifically is important. Passkeys are really cool, but unless I&#x27;m mistaken there&#x27;s no way for me to say &quot;give the owner of this passkey access to this data&quot; even if they&#x27;ve never yet logged in to your system. This is a critical use case which works great with email, even having a built-in way to notify them of their new access. I would love to see passkeys extended with some sort of proof that the passkey is tied to a specific email address (or other global ID), so you can login without talking to an IdP but also get the benefits mentioned above.<p>&gt; Definitely offers upstream OIDC, I have my instance set up to be able to sign in through AAD or locally<p>Already had that one. Were you maybe looking at Authelia? Though I believe I read somewhere that they are working on support too.</div><br/><div id="37854718" class="c"><input type="checkbox" id="c-37854718" checked=""/><div class="controls bullet"><span class="by">Borealid</span><span>|</span><a href="#37850376">root</a><span>|</span><a href="#37851024">parent</a><span>|</span><a href="#37853625">next</a><span>|</span><label class="collapse" for="c-37854718">[-]</label><label class="expand" for="c-37854718">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I would love to see passkeys extended with some sort of proof that the passkey is tied to a specific email address (or other global ID), so you can login without talking to an IdP but also get the benefits mentioned above.<p>&quot;Passkeys&quot; (FIDO2 Authenticators) support this. The CTAP2.1 protocol contains &quot;enterprise attestation&quot;, which allows an Authenticator to identify itself uniquely to a particular Relying Party.<p>An explicit design goal of the FIDO standards is to prevent the server from knowing that two different FIDO credentials originated from the same Authenticator (in other words, treaing a new user as non-anonymous). In order to preserve that property, Authenticators need to be explicitly coded with the RPs for which they&#x27;ll support Enterprise Attestation.<p>If you have such an authenticator, the server can say &quot;give the owner of a passkey presenting a valid Enterprise Attestation for bob@example.com access to this account&quot;.<p>But, again, FIDO isn&#x27;t supposed to let random web sites on the Internet notice that two &quot;different&quot; users are actually using the same passkey (tracking users between web sites!), so you can&#x27;t get the property you&#x27;re looking for without Enterprise Attestation.</div><br/></div></div><div id="37853625" class="c"><input type="checkbox" id="c-37853625" checked=""/><div class="controls bullet"><span class="by">mynameisvlad</span><span>|</span><a href="#37850376">root</a><span>|</span><a href="#37851024">parent</a><span>|</span><a href="#37854718">prev</a><span>|</span><a href="#37851662">next</a><span>|</span><label class="collapse" for="c-37853625">[-]</label><label class="expand" for="c-37853625">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Already had that one. Were you maybe looking at Authelia? Though I believe I read somewhere that they are working on support too.<p>Very well might’ve been, the mobile view of the table isn’t fantastic so it was quite a bit of scrolling; definitely could have messed that up.<p>&gt; In the case of obligator, email support specifically is important. Passkeys are really cool, but unless I&#x27;m mistaken there&#x27;s no way for me to say &quot;give the owner of this passkey access to this data&quot; even if they&#x27;ve never yet logged in to your system.<p>No, the user would need to enroll it. They could use a social login (upstream OIDC) without logging in through customizations, you can pre-create their user or create it on demand and give it appropriate access based on the upstream response. I don’t think you could implement magic links, even as customizable as it is.</div><br/></div></div><div id="37851662" class="c"><input type="checkbox" id="c-37851662" checked=""/><div class="controls bullet"><span class="by">dugite-code</span><span>|</span><a href="#37850376">root</a><span>|</span><a href="#37851024">parent</a><span>|</span><a href="#37853625">prev</a><span>|</span><a href="#37850888">next</a><span>|</span><label class="collapse" for="c-37851662">[-]</label><label class="expand" for="c-37851662">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m fairly sure you can set custom headers with the forward auth (although I have never used it), you just have to configure it in the reverse proxy as well.<p>I believe you could setup email login by using the email TOTP 2FA much like I use my yubikey for passwordless authentication. You can modify the flows quite extensively... if you know what you are doing</div><br/></div></div></div></div></div></div><div id="37850888" class="c"><input type="checkbox" id="c-37850888" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37850376">root</a><span>|</span><a href="#37850403">parent</a><span>|</span><a href="#37850851">prev</a><span>|</span><a href="#37850296">next</a><span>|</span><label class="collapse" for="c-37850888">[-]</label><label class="expand" for="c-37850888">[1 more]</label></div><br/><div class="children"><div class="content">I think I looked at the wrong column on mobile. While we&#x27;re here though. Authentik has basic multitenancy support. I wonder if that qualifies as multi domain auth. Sorry about the mistake by the way.</div><br/></div></div></div></div></div></div><div id="37850296" class="c"><input type="checkbox" id="c-37850296" checked=""/><div class="controls bullet"><span class="by">I_am_tiberius</span><span>|</span><a href="#37850376">prev</a><span>|</span><a href="#37850940">next</a><span>|</span><label class="collapse" for="c-37850296">[-]</label><label class="expand" for="c-37850296">[1 more]</label></div><br/><div class="children"><div class="content">For node.js there is node-oidc-provider.</div><br/></div></div><div id="37850940" class="c"><input type="checkbox" id="c-37850940" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#37850296">prev</a><span>|</span><a href="#37851142">next</a><span>|</span><label class="collapse" for="c-37850940">[-]</label><label class="expand" for="c-37850940">[3 more]</label></div><br/><div class="children"><div class="content">Personally I went with Keycloak, because it&#x27;s fairly well documented and also has Docker images available: <a href="https:&#x2F;&#x2F;www.keycloak.org&#x2F;getting-started&#x2F;getting-started-docker" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.keycloak.org&#x2F;getting-started&#x2F;getting-started-doc...</a> although the fact that they want you to create an &quot;optimized&quot; image yourself and have a long setup process on startup otherwise is slightly annoying: <a href="https:&#x2F;&#x2F;www.keycloak.org&#x2F;server&#x2F;containers" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.keycloak.org&#x2F;server&#x2F;containers</a><p>Regardless, with something like mod_auth_openidc or another Relying Party implementation, all of the sudden authn&#x2F;authz becomes easier to manage (you can literally get user information including roles in headers that are passed from your gateway&#x2F;relying party to apps behind the reverse proxy), regardless of what you have actually running your APIs: <a href="https:&#x2F;&#x2F;github.com&#x2F;OpenIDC&#x2F;mod_auth_openidc">https:&#x2F;&#x2F;github.com&#x2F;OpenIDC&#x2F;mod_auth_openidc</a> (there are other options, of course, but I went with that because I already use mod_md).<p>It&#x27;s actually cool that there are plentiful options in the space, since OIDC is pretty complex in of itself and attempts at creating something pleasant to actually use are always welcome, I&#x27;ve also heard good things about Authentik: <a href="https:&#x2F;&#x2F;goauthentik.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;goauthentik.io&#x2F;</a></div><br/><div id="37851109" class="c"><input type="checkbox" id="c-37851109" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37850940">parent</a><span>|</span><a href="#37851464">next</a><span>|</span><label class="collapse" for="c-37851109">[-]</label><label class="expand" for="c-37851109">[1 more]</label></div><br/><div class="children"><div class="content">&gt; since OIDC is pretty complex in of itself<p>Obviously this is subjective, but I actually disagree somewhat. Once you get down to actually writing the code to implement OIDC, it&#x27;s rather simple. But I feel like the specs make it look pretty scary.<p>I think the confusing part for me was understanding why some parts of it seemed to have so much song and dance (ie the three legged authorization code flow, PKCE, etc). I find the best way to understand the complexity is by having it explained in the context of what attacks are mitigated by specific steps. For that, documents like <a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;draft-ietf-oauth-security-topics" rel="nofollow noreferrer">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;draft-ietf-oauth-secur...</a> are much more useful.</div><br/></div></div></div></div><div id="37851142" class="c"><input type="checkbox" id="c-37851142" checked=""/><div class="controls bullet"><span class="by">Havoc</span><span>|</span><a href="#37850940">prev</a><span>|</span><a href="#37853587">next</a><span>|</span><label class="collapse" for="c-37851142">[-]</label><label class="expand" for="c-37851142">[2 more]</label></div><br/><div class="children"><div class="content">Must admit I&#x27;ve treated all my selfhosting like an coconut: Hard shell on the perimeter (firewall &amp; wireguard)...but inside the home net its all just wide open.</div><br/></div></div><div id="37853587" class="c"><input type="checkbox" id="c-37853587" checked=""/><div class="controls bullet"><span class="by">krantic</span><span>|</span><a href="#37851142">prev</a><span>|</span><a href="#37851436">next</a><span>|</span><label class="collapse" for="c-37853587">[-]</label><label class="expand" for="c-37853587">[2 more]</label></div><br/><div class="children"><div class="content">I could recommend <a href="https:&#x2F;&#x2F;github.com&#x2F;panva&#x2F;node-oidc-provider">https:&#x2F;&#x2F;github.com&#x2F;panva&#x2F;node-oidc-provider</a> supports most of the oidc&#x2F;oauth 2 rabbit hole specs.</div><br/></div></div><div id="37851436" class="c"><input type="checkbox" id="c-37851436" checked=""/><div class="controls bullet"><span class="by">sisve</span><span>|</span><a href="#37853587">prev</a><span>|</span><a href="#37852094">next</a><span>|</span><label class="collapse" for="c-37851436">[-]</label><label class="expand" for="c-37851436">[5 more]</label></div><br/><div class="children"><div class="content">I was expecting hydra &#x2F; kratos to show up as an alternative.. but did not see any. Does any have any experience, good or bad about it?<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ory&#x2F;kratos">https:&#x2F;&#x2F;github.com&#x2F;ory&#x2F;kratos</a></div><br/><div id="37851559" class="c"><input type="checkbox" id="c-37851559" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37851436">parent</a><span>|</span><a href="#37851452">next</a><span>|</span><label class="collapse" for="c-37851559">[-]</label><label class="expand" for="c-37851559">[3 more]</label></div><br/><div class="children"><div class="content">Hydra is in the table, but you might have to scroll sideways to see it. That column also still needs to be filled out</div><br/><div id="37853187" class="c"><input type="checkbox" id="c-37853187" checked=""/><div class="controls bullet"><span class="by">hatf0</span><span>|</span><a href="#37851436">root</a><span>|</span><a href="#37851559">parent</a><span>|</span><a href="#37851452">next</a><span>|</span><label class="collapse" for="c-37853187">[-]</label><label class="expand" for="c-37853187">[2 more]</label></div><br/><div class="children"><div class="content">The comparison with simply just Hydra is rather unfair too as the strength with Ory products is when they work in tandem (e.g. oathkeeper &amp; hydra). Hydra is as barebones as you can get for a OAuth2 provider - that’s all it does &amp; is meant to do. Stack it with Oathkeeper and you have a dynamic way of enforcing endpoint authentication that can entirely be managed using Kubernetes custom resources. Nothing I’ve found comes even close to touching the Ory stack in that regard.</div><br/><div id="37853395" class="c"><input type="checkbox" id="c-37853395" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37851436">root</a><span>|</span><a href="#37853187">parent</a><span>|</span><a href="#37851452">next</a><span>|</span><label class="collapse" for="c-37853395">[-]</label><label class="expand" for="c-37853395">[1 more]</label></div><br/><div class="children"><div class="content">The Ory stack looks to be very high quality for sure. But so far in this thread there&#x27;s been mentioned Hydra, Kratos, and Oathkeeper in order to run an OIDC server. You say Hydra is as barebones as you can get, but by itself it has 58 direct dependencies. I&#x27;m sorry, it just seems to be targeted at a completely different demographic.</div><br/></div></div></div></div></div></div></div></div><div id="37852094" class="c"><input type="checkbox" id="c-37852094" checked=""/><div class="controls bullet"><span class="by">AceJohnny2</span><span>|</span><a href="#37851436">prev</a><span>|</span><a href="#37851327">next</a><span>|</span><label class="collapse" for="c-37852094">[-]</label><label class="expand" for="c-37852094">[3 more]</label></div><br/><div class="children"><div class="content">&gt; <i>By forcing the user to decide whether they trust the actual domain where the ID token will be sent, and not displaying any sort of logo which can be faked,</i> security is improved.<p>Hilarious.<p>Look, security UI is <i>hard</i>. Like, stumps experts <i>hard</i>. Like, they&#x27;ve been working at it for decades, trying to educate the population, <i>hard</i>.<p>I appreciate the will and the effort (as someone looking for their goldilocks OIDC proxy,) but this claim is a bit strong.</div><br/><div id="37852222" class="c"><input type="checkbox" id="c-37852222" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37852094">parent</a><span>|</span><a href="#37852341">next</a><span>|</span><label class="collapse" for="c-37852222">[-]</label><label class="expand" for="c-37852222">[1 more]</label></div><br/><div class="children"><div class="content">I agree the wording is too strong here. That said, did you read about the phishing exploit I linked in the readme?</div><br/></div></div></div></div><div id="37851327" class="c"><input type="checkbox" id="c-37851327" checked=""/><div class="controls bullet"><span class="by">salzig</span><span>|</span><a href="#37852094">prev</a><span>|</span><a href="#37853982">next</a><span>|</span><label class="collapse" for="c-37851327">[-]</label><label class="expand" for="c-37851327">[2 more]</label></div><br/><div class="children"><div class="content">Reminds me of <a href="https:&#x2F;&#x2F;github.com&#x2F;dexidp&#x2F;dex">https:&#x2F;&#x2F;github.com&#x2F;dexidp&#x2F;dex</a></div><br/></div></div><div id="37850738" class="c"><input type="checkbox" id="c-37850738" checked=""/><div class="controls bullet"><span class="by">Lammy</span><span>|</span><a href="#37853982">prev</a><span>|</span><a href="#37854336">next</a><span>|</span><label class="collapse" for="c-37850738">[-]</label><label class="expand" for="c-37850738">[3 more]</label></div><br/><div class="children"><div class="content">&gt; opinionated<p>Love to see it</div><br/><div id="37851383" class="c"><input type="checkbox" id="c-37851383" checked=""/><div class="controls bullet"><span class="by">throwawaaarrgh</span><span>|</span><a href="#37850738">parent</a><span>|</span><a href="#37851470">next</a><span>|</span><label class="collapse" for="c-37851383">[-]</label><label class="expand" for="c-37851383">[1 more]</label></div><br/><div class="children"><div class="content">Hate to see it...</div><br/></div></div></div></div><div id="37854336" class="c"><input type="checkbox" id="c-37854336" checked=""/><div class="controls bullet"><span class="by">BOOSTERHIDROGEN</span><span>|</span><a href="#37850738">prev</a><span>|</span><label class="collapse" for="c-37854336">[-]</label><label class="expand" for="c-37854336">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using <a href="https:&#x2F;&#x2F;github.com&#x2F;thomseddon&#x2F;traefik-forward-auth">https:&#x2F;&#x2F;github.com&#x2F;thomseddon&#x2F;traefik-forward-auth</a> for my selfhosted ? is it better in term of security, thanks.</div><br/></div></div></div></div></div></div></div></body></html>