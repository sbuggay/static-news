<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705827653097" as="style"/><link rel="stylesheet" href="styles.css?v=1705827653097"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://bun.sh/blog/the-bun-shell">The Bun Shell</a> <span class="domain">(<a href="https://bun.sh">bun.sh</a>)</span></div><div class="subtext"><span>pixelmonk</span> | <span>91 comments</span></div><br/><div><div id="39074282" class="c"><input type="checkbox" id="c-39074282" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#39076197">next</a><span>|</span><label class="collapse" for="c-39074282">[-]</label><label class="expand" for="c-39074282">[4 more]</label></div><br/><div class="children"><div class="content">&gt; We&#x27;ve implemented many common commands and features like globbing, environment variables, redirection, piping, and more.<p>Of course on paper that sounds fine. However, something that is missing from here is some assurances of how compatible it <i>actually</i> is with existing shells and coreutils implementations. Is it aiming to be POSIX-compliant&#x2F;compatible with Bourne shell? I am going to assume that not all GNU extensions are available; probably something like mkdir -p is, but I&#x27;d be surprised if GNU find with all of its odds and ends are there. This might be good enough, but this is a bit light on the details I think. What happens when the system has GNU coreutils? If more builtin commands are added in the future, will they magically change into the Bun implementation instead of the GNU coreutils implementation unexpectedly? I&#x27;m sure it is&#x2F;will be documented...<p>Also, it&#x27;s probably obvious but you likely would not want to surprise-replace a Bourne-compatible shell like ZShell with this in most contexts. This only makes sense in the JS ecosystem because there is already a location where you have to write commands that are going to be compatible with all of these shells anyways, so just standardizing on some more-useful subset of Bourne-compatible shell is mostly an upgrade, since that&#x27;ll be a lot more uniform and your new subset is still going to be nearly 100% compatible with anything that worked across most platforms before, except it will work across all of the platforms as-intended. (And having the nifty ability to use it inside of JS scripts in an ergonomic way is a plus too, although plenty of JS libraries do similar things, so that&#x27;s not too new.)</div><br/><div id="39076331" class="c"><input type="checkbox" id="c-39076331" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#39074282">parent</a><span>|</span><a href="#39076267">next</a><span>|</span><label class="collapse" for="c-39076331">[-]</label><label class="expand" for="c-39076331">[1 more]</label></div><br/><div class="children"><div class="content">Wait but find isn&#x27;t a builtin command right? What do you mean by the odds and ends of GNU find not being there? That doesn&#x27;t depend on the shell, it&#x27;s an external program being called.</div><br/></div></div><div id="39076267" class="c"><input type="checkbox" id="c-39076267" checked=""/><div class="controls bullet"><span class="by">abhinavk</span><span>|</span><a href="#39074282">parent</a><span>|</span><a href="#39076331">prev</a><span>|</span><a href="#39074981">next</a><span>|</span><label class="collapse" for="c-39076267">[-]</label><label class="expand" for="c-39076267">[1 more]</label></div><br/><div class="children"><div class="content">I have recently switched to using Nushell as my default shell. They were also writing their own but recently decided instead to begin incorporating github.com&#x2F;uutils&#x2F;coreutils (Rust rewrite of GNU coreutils). They target uutils to be a drop-in replacement for the GNU utils. <i>Differences with GNU are treated as bugs.</i></div><br/></div></div><div id="39074981" class="c"><input type="checkbox" id="c-39074981" checked=""/><div class="controls bullet"><span class="by">netghost</span><span>|</span><a href="#39074282">parent</a><span>|</span><a href="#39076267">prev</a><span>|</span><a href="#39076197">next</a><span>|</span><label class="collapse" for="c-39074981">[-]</label><label class="expand" for="c-39074981">[1 more]</label></div><br/><div class="children"><div class="content">Scanning to the bottom, it seems like the most likely use is to improve the ergonomics of simple scripts that need to shell out in some cases and also to streamline some of the more mundane package.json scripts, like deleting a directory when cleaning.<p>Personally, I think it seems like a nice tool blending JavaScript and shell scripting.</div><br/></div></div></div></div><div id="39076197" class="c"><input type="checkbox" id="c-39076197" checked=""/><div class="controls bullet"><span class="by">natrys</span><span>|</span><a href="#39074282">prev</a><span>|</span><a href="#39075653">next</a><span>|</span><label class="collapse" for="c-39076197">[-]</label><label class="expand" for="c-39076197">[1 more]</label></div><br/><div class="children"><div class="content">&gt; $ hyperfine --warmup 3 &#x27;bash -c &quot;echo hello&quot;&#x27; &#x27;sh -c &quot;echo hello&quot;&#x27; -N<p>Small nitpick but on Arch, &#x2F;bin&#x2F;sh is a symlink to bash so it&#x27;s measuring the same thing.<p>On many systems like Debian, &#x2F;bin&#x2F;sh is dash instead (though default interactive shell remains bash) which is actually a few times faster, for start up and in general.</div><br/></div></div><div id="39075653" class="c"><input type="checkbox" id="c-39075653" checked=""/><div class="controls bullet"><span class="by">lucasyvas</span><span>|</span><a href="#39076197">prev</a><span>|</span><a href="#39074901">next</a><span>|</span><label class="collapse" for="c-39075653">[-]</label><label class="expand" for="c-39075653">[5 more]</label></div><br/><div class="children"><div class="content">This looks exactly like zx by Google. And that&#x27;s probably a good thing.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;zx">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;zx</a></div><br/><div id="39075747" class="c"><input type="checkbox" id="c-39075747" checked=""/><div class="controls bullet"><span class="by">nateb2022</span><span>|</span><a href="#39075653">parent</a><span>|</span><a href="#39076516">next</a><span>|</span><label class="collapse" for="c-39075747">[-]</label><label class="expand" for="c-39075747">[1 more]</label></div><br/><div class="children"><div class="content">Great point! According to <a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;blob&#x2F;b433beb016470b87850f3c018974de5f2e355d52&#x2F;docs&#x2F;runtime&#x2F;shell.md?plain=1#L359">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;blob&#x2F;b433beb016470b87850f3c01...</a>, Bun Shell took inspiration from zx[0], dax[1] and bnx[2]<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;zx">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;zx</a><p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;dsherret&#x2F;dax">https:&#x2F;&#x2F;github.com&#x2F;dsherret&#x2F;dax</a><p>[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;wobsoriano&#x2F;bnx">https:&#x2F;&#x2F;github.com&#x2F;wobsoriano&#x2F;bnx</a></div><br/></div></div><div id="39076516" class="c"><input type="checkbox" id="c-39076516" checked=""/><div class="controls bullet"><span class="by">lambda</span><span>|</span><a href="#39075653">parent</a><span>|</span><a href="#39075747">prev</a><span>|</span><a href="#39074901">next</a><span>|</span><label class="collapse" for="c-39076516">[-]</label><label class="expand" for="c-39076516">[3 more]</label></div><br/><div class="children"><div class="content">Being in the Google GitHub org doesn&#x27;t mean &quot;by Google&quot;, it means &quot;by someone who works at Google.&quot;</div><br/><div id="39076534" class="c"><input type="checkbox" id="c-39076534" checked=""/><div class="controls bullet"><span class="by">ycuser2</span><span>|</span><a href="#39075653">root</a><span>|</span><a href="#39076516">parent</a><span>|</span><a href="#39074901">next</a><span>|</span><label class="collapse" for="c-39076534">[-]</label><label class="expand" for="c-39076534">[2 more]</label></div><br/><div class="children"><div class="content">But doesn&#x27;t he get paid by Google to code this?</div><br/><div id="39076641" class="c"><input type="checkbox" id="c-39076641" checked=""/><div class="controls bullet"><span class="by">atorodius</span><span>|</span><a href="#39075653">root</a><span>|</span><a href="#39076534">parent</a><span>|</span><a href="#39074901">next</a><span>|</span><label class="collapse" for="c-39076641">[-]</label><label class="expand" for="c-39076641">[1 more]</label></div><br/><div class="children"><div class="content">They do, otherwise it won’t be in that repo</div><br/></div></div></div></div></div></div></div></div><div id="39074901" class="c"><input type="checkbox" id="c-39074901" checked=""/><div class="controls bullet"><span class="by">blackhaj7</span><span>|</span><a href="#39075653">prev</a><span>|</span><a href="#39075161">next</a><span>|</span><label class="collapse" for="c-39074901">[-]</label><label class="expand" for="c-39074901">[2 more]</label></div><br/><div class="children"><div class="content">Love that bun just implements anything that could be useful.<p>They are busy building useful stuff whilst others pontificate about what they should&#x2F;shouldn’t build</div><br/><div id="39075352" class="c"><input type="checkbox" id="c-39075352" checked=""/><div class="controls bullet"><span class="by">rco8786</span><span>|</span><a href="#39074901">parent</a><span>|</span><a href="#39075161">next</a><span>|</span><label class="collapse" for="c-39075352">[-]</label><label class="expand" for="c-39075352">[1 more]</label></div><br/><div class="children"><div class="content">Seriously. Like it’s just one continuous hack week over there.</div><br/></div></div></div></div><div id="39075161" class="c"><input type="checkbox" id="c-39075161" checked=""/><div class="controls bullet"><span class="by">1vuio0pswjnm7</span><span>|</span><a href="#39074901">prev</a><span>|</span><a href="#39076768">next</a><span>|</span><label class="collapse" for="c-39075161">[-]</label><label class="expand" for="c-39075161">[12 more]</label></div><br/><div class="children"><div class="content">&quot;JavaScript is the world&#x27;s most popular scripting language.&quot;<p>Perhaps, based on usage.<p>But shell must be the world&#x27;s most ubiquitous scripting language.<p>Not every computer has a Javascript engine but most have a shell.<p>Many, many computers have no browser, let alone a GUI.  Some small form factor computers might have embedded Javascript engine but that&#x27;s a minority.<p>No browser on the router.</div><br/><div id="39076711" class="c"><input type="checkbox" id="c-39076711" checked=""/><div class="controls bullet"><span class="by">pasc1878</span><span>|</span><a href="#39075161">parent</a><span>|</span><a href="#39075205">next</a><span>|</span><label class="collapse" for="c-39076711">[-]</label><label class="expand" for="c-39076711">[3 more]</label></div><br/><div class="children"><div class="content">Not true -  shell does not run on Windows, iPhones etc.<p>Even macOS has issues with those who assume Linux is the only Unix, Apple&#x27;s bash is very old and does not run many scripts.<p>Unfortunately Javascript does get installed everywhere,</div><br/><div id="39076772" class="c"><input type="checkbox" id="c-39076772" checked=""/><div class="controls bullet"><span class="by">aragilar</span><span>|</span><a href="#39075161">root</a><span>|</span><a href="#39076711">parent</a><span>|</span><a href="#39075205">next</a><span>|</span><label class="collapse" for="c-39076772">[-]</label><label class="expand" for="c-39076772">[2 more]</label></div><br/><div class="children"><div class="content">Uh, MacOS has zsh (which has far more features than most other POSIX shells), and even old bash has POSIX compatibility.<p>Your TV&#x2F;IoT device likely has busybox, as does your router.<p>You install git on windows, it&#x27;s got a (POSIX) shell.<p>The number of places that lack a shell is tiny.<p>Node&#x2F;deno&#x2F;bun are rare, and browsers whilst being more common, still require the device to have some kind of GUI.</div><br/><div id="39076794" class="c"><input type="checkbox" id="c-39076794" checked=""/><div class="controls bullet"><span class="by">marwis</span><span>|</span><a href="#39075161">root</a><span>|</span><a href="#39076772">parent</a><span>|</span><a href="#39075205">next</a><span>|</span><label class="collapse" for="c-39076794">[-]</label><label class="expand" for="c-39076794">[1 more]</label></div><br/><div class="children"><div class="content">&gt; You install git on windows, it&#x27;s got a (POSIX) shell.<p>I don&#x27;t think it&#x27;s in the path by default so if some program like npm calls exec(&quot;rm&quot;) it&#x27;s still going to fail I think.</div><br/></div></div></div></div></div></div><div id="39075205" class="c"><input type="checkbox" id="c-39075205" checked=""/><div class="controls bullet"><span class="by">dumbo-octopus</span><span>|</span><a href="#39075161">parent</a><span>|</span><a href="#39076711">prev</a><span>|</span><a href="#39076725">next</a><span>|</span><label class="collapse" for="c-39075205">[-]</label><label class="expand" for="c-39075205">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue the opposite: more computers have an end-user accessible JavaScript engine (a browser) than an end-user accessible shell.</div><br/><div id="39075669" class="c"><input type="checkbox" id="c-39075669" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#39075161">root</a><span>|</span><a href="#39075205">parent</a><span>|</span><a href="#39076725">next</a><span>|</span><label class="collapse" for="c-39075669">[-]</label><label class="expand" for="c-39075669">[2 more]</label></div><br/><div class="children"><div class="content">It really depends on how you define &quot;computer&quot;.</div><br/><div id="39076611" class="c"><input type="checkbox" id="c-39076611" checked=""/><div class="controls bullet"><span class="by">SCUSKU</span><span>|</span><a href="#39075161">root</a><span>|</span><a href="#39075669">parent</a><span>|</span><a href="#39076725">next</a><span>|</span><label class="collapse" for="c-39076611">[-]</label><label class="expand" for="c-39076611">[1 more]</label></div><br/><div class="children"><div class="content">Let&#x27;s not forget, &quot;3 billion devices run Java&quot;</div><br/></div></div></div></div></div></div><div id="39076725" class="c"><input type="checkbox" id="c-39076725" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39075161">parent</a><span>|</span><a href="#39075205">prev</a><span>|</span><a href="#39075967">next</a><span>|</span><label class="collapse" for="c-39076725">[-]</label><label class="expand" for="c-39076725">[1 more]</label></div><br/><div class="children"><div class="content">Basically all computers have <i>a</i> shell, but &quot;shell&quot; is not a language so that is irrelevant.<p>I assume you are actually talking about Bash or maybe POSIX shell? That&#x27;s only available on ~20% of desktop computers.</div><br/></div></div><div id="39075453" class="c"><input type="checkbox" id="c-39075453" checked=""/><div class="controls bullet"><span class="by">kamikaz1k</span><span>|</span><a href="#39075161">parent</a><span>|</span><a href="#39075967">prev</a><span>|</span><a href="#39076768">next</a><span>|</span><label class="collapse" for="c-39075453">[-]</label><label class="expand" for="c-39075453">[3 more]</label></div><br/><div class="children"><div class="content">Lots and lots of IoT devices running node…you might be shocked</div><br/><div id="39075676" class="c"><input type="checkbox" id="c-39075676" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#39075161">root</a><span>|</span><a href="#39075453">parent</a><span>|</span><a href="#39076768">next</a><span>|</span><label class="collapse" for="c-39075676">[-]</label><label class="expand" for="c-39075676">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Lots and lots&quot; sounds like a guess.</div><br/><div id="39076687" class="c"><input type="checkbox" id="c-39076687" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#39075161">root</a><span>|</span><a href="#39075676">parent</a><span>|</span><a href="#39076768">next</a><span>|</span><label class="collapse" for="c-39076687">[-]</label><label class="expand" for="c-39076687">[1 more]</label></div><br/><div class="children"><div class="content">I have no idea in general, but based on error messages from my Ikea Dirigera Hub, at least its REST API is implemented in node!</div><br/></div></div></div></div></div></div></div></div><div id="39076768" class="c"><input type="checkbox" id="c-39076768" checked=""/><div class="controls bullet"><span class="by">guax</span><span>|</span><a href="#39075161">prev</a><span>|</span><a href="#39076677">next</a><span>|</span><label class="collapse" for="c-39076768">[-]</label><label class="expand" for="c-39076768">[1 more]</label></div><br/><div class="children"><div class="content">Shells are a solved problem!!</div><br/></div></div><div id="39076677" class="c"><input type="checkbox" id="c-39076677" checked=""/><div class="controls bullet"><span class="by">RadiozRadioz</span><span>|</span><a href="#39076768">prev</a><span>|</span><a href="#39075284">next</a><span>|</span><label class="collapse" for="c-39076677">[-]</label><label class="expand" for="c-39076677">[1 more]</label></div><br/><div class="children"><div class="content">Great, it&#x27;s approaching the ergonomics of what Perl has offered for decades. And Perl still does it better.</div><br/></div></div><div id="39075284" class="c"><input type="checkbox" id="c-39075284" checked=""/><div class="controls bullet"><span class="by">binary132</span><span>|</span><a href="#39076677">prev</a><span>|</span><a href="#39076577">next</a><span>|</span><label class="collapse" for="c-39075284">[-]</label><label class="expand" for="c-39075284">[1 more]</label></div><br/><div class="children"><div class="content">This is neat, but a) it strikes me that what&#x27;s powerful about shell scripting is that it lets you easily wrangle multiple independent utilities that don&#x27;t need to be contained within the shell stdlib (maybe I&#x27;m missing something but I didn&#x27;t see any emphasis on that), and b) that embedding a language as a string inside another language is very rarely a good UX.  I like that it&#x27;s a really portable shell though.  Shell portability is actually a pretty big problem.</div><br/></div></div><div id="39076577" class="c"><input type="checkbox" id="c-39076577" checked=""/><div class="controls bullet"><span class="by">Self-Perfection</span><span>|</span><a href="#39075284">prev</a><span>|</span><a href="#39076133">next</a><span>|</span><label class="collapse" for="c-39076577">[-]</label><label class="expand" for="c-39076577">[2 more]</label></div><br/><div class="children"><div class="content">One of the selling points of this post is that bash is slow to start. But how fast is bun shell? Have anyone compared bash and bun shell start times?</div><br/><div id="39076810" class="c"><input type="checkbox" id="c-39076810" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#39076577">parent</a><span>|</span><a href="#39076133">next</a><span>|</span><label class="collapse" for="c-39076810">[-]</label><label class="expand" for="c-39076810">[1 more]</label></div><br/><div class="children"><div class="content">An absolutely ludicrous point, shells have some of the fastest startup times of all processes</div><br/></div></div></div></div><div id="39076133" class="c"><input type="checkbox" id="c-39076133" checked=""/><div class="controls bullet"><span class="by">tipiirai</span><span>|</span><a href="#39076577">prev</a><span>|</span><a href="#39074312">next</a><span>|</span><label class="collapse" for="c-39076133">[-]</label><label class="expand" for="c-39076133">[1 more]</label></div><br/><div class="children"><div class="content">I love Bun. I no longer use Node for development. Hardly any gotchas anymore. It&#x27;s just faster all over. Especially `bun test`. Highly recommended. Thank you @Jarred!</div><br/></div></div><div id="39074312" class="c"><input type="checkbox" id="c-39074312" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#39076133">prev</a><span>|</span><a href="#39071982">next</a><span>|</span><label class="collapse" for="c-39074312">[-]</label><label class="expand" for="c-39074312">[15 more]</label></div><br/><div class="children"><div class="content">I work on Bun - happy to answer any questions&#x2F;feedback</div><br/><div id="39076656" class="c"><input type="checkbox" id="c-39076656" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#39074312">parent</a><span>|</span><a href="#39076740">next</a><span>|</span><label class="collapse" for="c-39076656">[-]</label><label class="expand" for="c-39076656">[1 more]</label></div><br/><div class="children"><div class="content">This is super cool, but can you fix bun -i so that it actually auto installs missing libs? That would really help with having self-contained scripts. Then I can finally start replacing my shell scripts with bun.</div><br/></div></div><div id="39076740" class="c"><input type="checkbox" id="c-39076740" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39074312">parent</a><span>|</span><a href="#39076656">prev</a><span>|</span><a href="#39075580">next</a><span>|</span><label class="collapse" for="c-39076740">[-]</label><label class="expand" for="c-39076740">[1 more]</label></div><br/><div class="children"><div class="content">Do you worry that people will use this in their actual programs, rather than just in development scripts? You&#x27;ve at least quoted variables, which is several steps better than most Bash scripts, but even so Bash tends to be hacky and fragile. The original JavaScript code using native APIs is more verbose but <i>better code</i>.</div><br/></div></div><div id="39075580" class="c"><input type="checkbox" id="c-39075580" checked=""/><div class="controls bullet"><span class="by">bryzaguy</span><span>|</span><a href="#39074312">parent</a><span>|</span><a href="#39076740">prev</a><span>|</span><a href="#39074357">next</a><span>|</span><label class="collapse" for="c-39075580">[-]</label><label class="expand" for="c-39075580">[2 more]</label></div><br/><div class="children"><div class="content">This is so cool! Is it too late to change the import name? I immediately thought of jquery when seeing &quot;$&quot;.</div><br/><div id="39075636" class="c"><input type="checkbox" id="c-39075636" checked=""/><div class="controls bullet"><span class="by">geuis</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39075580">parent</a><span>|</span><a href="#39074357">next</a><span>|</span><label class="collapse" for="c-39075636">[-]</label><label class="expand" for="c-39075636">[1 more]</label></div><br/><div class="children"><div class="content">Hmm you have a point but I don&#x27;t think it&#x27;s a problem since this is for the cli instead of the browser. Plus $ is pretty common in the shell to indicate the prompt.</div><br/></div></div></div></div><div id="39074357" class="c"><input type="checkbox" id="c-39074357" checked=""/><div class="controls bullet"><span class="by">helsontaveras18</span><span>|</span><a href="#39074312">parent</a><span>|</span><a href="#39075580">prev</a><span>|</span><a href="#39075540">next</a><span>|</span><label class="collapse" for="c-39074357">[-]</label><label class="expand" for="c-39074357">[6 more]</label></div><br/><div class="children"><div class="content">How do you ensure cross platform compatibility under the hood?</div><br/><div id="39074436" class="c"><input type="checkbox" id="c-39074436" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39074357">parent</a><span>|</span><a href="#39075540">next</a><span>|</span><label class="collapse" for="c-39074436">[-]</label><label class="expand" for="c-39074436">[5 more]</label></div><br/><div class="children"><div class="content">We implement a handful of the most common commands like cd, rm, ls, which, pwd, mv. Instead of using the system-provided ones, it uses ours.<p>Unlike zx&#x2F;execa, we have our own shell instead of relying on a system-installed one.</div><br/><div id="39076285" class="c"><input type="checkbox" id="c-39076285" checked=""/><div class="controls bullet"><span class="by">natrys</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39074436">parent</a><span>|</span><a href="#39074475">next</a><span>|</span><label class="collapse" for="c-39076285">[-]</label><label class="expand" for="c-39076285">[1 more]</label></div><br/><div class="children"><div class="content">Think this should be highlighted in the article, because that&#x27;s actually pretty cool but the article gave me impression that it&#x27;s a simple sugar over child_process only.</div><br/></div></div><div id="39074475" class="c"><input type="checkbox" id="c-39074475" checked=""/><div class="controls bullet"><span class="by">reactordev</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39074436">parent</a><span>|</span><a href="#39076285">prev</a><span>|</span><a href="#39075540">next</a><span>|</span><label class="collapse" for="c-39074475">[-]</label><label class="expand" for="c-39074475">[3 more]</label></div><br/><div class="children"><div class="content">Is this done in zig in the core bun runtime or is it implemented as part of the standard bun lib? How much perf is there? Small commands like cd or ls I&#x27;m less interested in. You say you provide your own shell... bsh, zigsh, what?</div><br/><div id="39074551" class="c"><input type="checkbox" id="c-39074551" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39074475">parent</a><span>|</span><a href="#39075540">next</a><span>|</span><label class="collapse" for="c-39074551">[-]</label><label class="expand" for="c-39074551">[2 more]</label></div><br/><div class="children"><div class="content">It’s nearly all in Zig.<p>The parser, lexer, interpreter, process execution and builtin commands are all implemented in Zig.<p>There’s a JS wrapper that extends Promise but JS doesn’t do much else.<p>The performance of the interpreter probably isn’t as good as bash, but the builtin commands should be competitive with GNU coreutils. We have spent a lot of time optimizing our node:fs implementation and this code is implemented similarly. We expect most scripts to be simple one-liners since you can use JS for anything more complicated.</div><br/><div id="39075010" class="c"><input type="checkbox" id="c-39075010" checked=""/><div class="controls bullet"><span class="by">reactordev</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39074551">parent</a><span>|</span><a href="#39075540">next</a><span>|</span><label class="collapse" for="c-39075010">[-]</label><label class="expand" for="c-39075010">[1 more]</label></div><br/><div class="children"><div class="content">Good to hear you guys made the right decisions. Bun is awesome and the more performance you guys can squeeze with zig, the better. Keep it up! Bang up job already.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39075540" class="c"><input type="checkbox" id="c-39075540" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#39074312">parent</a><span>|</span><a href="#39074357">prev</a><span>|</span><a href="#39071982">next</a><span>|</span><label class="collapse" for="c-39075540">[-]</label><label class="expand" for="c-39075540">[4 more]</label></div><br/><div class="children"><div class="content">I think Bun is written in Zig. Is Zig stable as in 1.0.0, LTS?</div><br/><div id="39075978" class="c"><input type="checkbox" id="c-39075978" checked=""/><div class="controls bullet"><span class="by">laserbeam</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39075540">parent</a><span>|</span><a href="#39075905">next</a><span>|</span><label class="collapse" for="c-39075978">[-]</label><label class="expand" for="c-39075978">[2 more]</label></div><br/><div class="children"><div class="content">Nope. Zig is still changing. In my understanding bun is generally quick to adapt to these changes, and one of the projects zig is keeping an eye on when breaking changes are introduced.</div><br/><div id="39076706" class="c"><input type="checkbox" id="c-39076706" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#39074312">root</a><span>|</span><a href="#39075978">parent</a><span>|</span><a href="#39075905">next</a><span>|</span><label class="collapse" for="c-39076706">[-]</label><label class="expand" for="c-39076706">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve played around with Zig a few times and quickly ran into compiler bugs, things that should work but are not yet implemented, lots and lots of things completely absent in the stdlib (and good luck finding custom zig libraries for most things)... given all that, I just can&#x27;t fathom how they managed to write Bun mostly in Zig (I see in their repo they do use many C libs too - so it&#x27;s not just Zig, but still it&#x27;s a lot of Zig)... and I wonder how horrible it must&#x27;ve been to go from 0.10 to 0.11 with the numerous breaking changes (even my toy project was a lot of work to migrate).</div><br/></div></div></div></div></div></div></div></div><div id="39071982" class="c"><input type="checkbox" id="c-39071982" checked=""/><div class="controls bullet"><span class="by">nathan_phoenix</span><span>|</span><a href="#39074312">prev</a><span>|</span><a href="#39076667">next</a><span>|</span><label class="collapse" for="c-39071982">[-]</label><label class="expand" for="c-39071982">[5 more]</label></div><br/><div class="children"><div class="content">For something which works across all JS runtimes (Deno, Node) and achieves basically the same, check out the popular JS library Execa[1]. Works like a charm!<p>Another alternative is the ZX shell[2] JS library. Tho haven&#x27;t tested it.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;sindresorhus&#x2F;execa">https:&#x2F;&#x2F;github.com&#x2F;sindresorhus&#x2F;execa</a><p>[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;zx">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;zx</a></div><br/><div id="39074275" class="c"><input type="checkbox" id="c-39074275" checked=""/><div class="controls bullet"><span class="by">neongreen</span><span>|</span><a href="#39071982">parent</a><span>|</span><a href="#39075158">next</a><span>|</span><label class="collapse" for="c-39074275">[-]</label><label class="expand" for="c-39074275">[1 more]</label></div><br/><div class="children"><div class="content">I’m using zx and the API seems very similar to what is described in the post.<p>Which bun also acknowledges here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;blob&#x2F;main&#x2F;docs&#x2F;runtime&#x2F;shell.md">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;blob&#x2F;main&#x2F;docs&#x2F;runtime&#x2F;shell....</a><p>I suppose one significant difference is that bun reimplements shell built-ins. I believe that zx simply executes bash or powershell and fails if neither is available.</div><br/></div></div><div id="39075158" class="c"><input type="checkbox" id="c-39075158" checked=""/><div class="controls bullet"><span class="by">qazxcvbnm</span><span>|</span><a href="#39071982">parent</a><span>|</span><a href="#39074275">prev</a><span>|</span><a href="#39075490">next</a><span>|</span><label class="collapse" for="c-39075158">[-]</label><label class="expand" for="c-39075158">[2 more]</label></div><br/><div class="children"><div class="content">One thing that surprised me about Node was how slow the default way to shelling out (child_process) could be (probably <a href="https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;node&#x2F;issues&#x2F;14917">https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;node&#x2F;issues&#x2F;14917</a>).<p>Although according to the linked issue, it has been &quot;fixed&quot;, I still ran into a problem during a batch script that was calling imagemagick through a shell for each file in a massive directory; profiling was telling me that starting (not completing) (yes, I was using the async version) the child process increasingly slows, from sub-millisecond for the first few spawns, to eventually hundreds of milliseconds or seconds... Eventually I had to resort to doing only single spawn of a bash script that in turn did all the shelling out.<p>It seems that the linked execa still relies on child_process and therefore has the same issue. It saddens me to see the only package for node that appears to actually fix this and provide a workaround seems to be <a href="https:&#x2F;&#x2F;github.com&#x2F;TritonDataCenter&#x2F;node-spawn-async">https:&#x2F;&#x2F;github.com&#x2F;TritonDataCenter&#x2F;node-spawn-async</a> and unmaintained.</div><br/><div id="39075796" class="c"><input type="checkbox" id="c-39075796" checked=""/><div class="controls bullet"><span class="by">kvakil</span><span>|</span><a href="#39071982">root</a><span>|</span><a href="#39075158">parent</a><span>|</span><a href="#39075490">next</a><span>|</span><label class="collapse" for="c-39075796">[-]</label><label class="expand" for="c-39075796">[1 more]</label></div><br/><div class="children"><div class="content">I worked on that Node.js issue. If you can share a repro, I&#x27;d love to take a look: <a href="https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;node&#x2F;issues&#x2F;new?assignees=&amp;labels=&amp;projects=&amp;template=1-bug-report.yml">https:&#x2F;&#x2F;github.com&#x2F;nodejs&#x2F;node&#x2F;issues&#x2F;new?assignees=&amp;labels=...</a></div><br/></div></div></div></div><div id="39075490" class="c"><input type="checkbox" id="c-39075490" checked=""/><div class="controls bullet"><span class="by">dsherret</span><span>|</span><a href="#39071982">parent</a><span>|</span><a href="#39075158">prev</a><span>|</span><a href="#39076667">next</a><span>|</span><label class="collapse" for="c-39075490">[-]</label><label class="expand" for="c-39075490">[1 more]</label></div><br/><div class="children"><div class="content">For Deno there is <a href="https:&#x2F;&#x2F;github.com&#x2F;dsherret&#x2F;dax">https:&#x2F;&#x2F;github.com&#x2F;dsherret&#x2F;dax</a> which is also zx inspired and has a cross platform shell built-in.</div><br/></div></div></div></div><div id="39076667" class="c"><input type="checkbox" id="c-39076667" checked=""/><div class="controls bullet"><span class="by">simonjgreen</span><span>|</span><a href="#39071982">prev</a><span>|</span><a href="#39076558">next</a><span>|</span><label class="collapse" for="c-39076667">[-]</label><label class="expand" for="c-39076667">[4 more]</label></div><br/><div class="children"><div class="content">Minor tangent, but plucked from that article, why is ‘rimraf’ downloaded 60m+ time a week?! Why is that a thing that need a library? (Asking as a systems guy, not a programmer)</div><br/><div id="39076681" class="c"><input type="checkbox" id="c-39076681" checked=""/><div class="controls bullet"><span class="by">M4v3R</span><span>|</span><a href="#39076667">parent</a><span>|</span><a href="#39076680">next</a><span>|</span><label class="collapse" for="c-39076681">[-]</label><label class="expand" for="c-39076681">[1 more]</label></div><br/><div class="children"><div class="content">The OP already explained that - because people want their package.json scripts to be cross-platform, and „rm” does not exist on Windows. So instead you add rimraf to your dependencies and use that instead of rm in your scripts.</div><br/></div></div><div id="39076680" class="c"><input type="checkbox" id="c-39076680" checked=""/><div class="controls bullet"><span class="by">httgp</span><span>|</span><a href="#39076667">parent</a><span>|</span><a href="#39076681">prev</a><span>|</span><a href="#39076728">next</a><span>|</span><label class="collapse" for="c-39076680">[-]</label><label class="expand" for="c-39076680">[1 more]</label></div><br/><div class="children"><div class="content">It’s quite often used in npm scripts to cleanup stuff (say, between builds), and many developers prefer that over native solutions like `rm` and `del` as it gives them a cross-platform way of cleaning up files and folders.</div><br/></div></div><div id="39076728" class="c"><input type="checkbox" id="c-39076728" checked=""/><div class="controls bullet"><span class="by">goenning</span><span>|</span><a href="#39076667">parent</a><span>|</span><a href="#39076680">prev</a><span>|</span><a href="#39076558">next</a><span>|</span><label class="collapse" for="c-39076728">[-]</label><label class="expand" for="c-39076728">[1 more]</label></div><br/><div class="children"><div class="content">And why is it not called `rmrf`</div><br/></div></div></div></div><div id="39076558" class="c"><input type="checkbox" id="c-39076558" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39076667">prev</a><span>|</span><a href="#39074175">next</a><span>|</span><label class="collapse" for="c-39076558">[-]</label><label class="expand" for="c-39076558">[1 more]</label></div><br/><div class="children"><div class="content">Perl and Python already went through this path without much uptake.</div><br/></div></div><div id="39074175" class="c"><input type="checkbox" id="c-39074175" checked=""/><div class="controls bullet"><span class="by">askonomm</span><span>|</span><a href="#39076558">prev</a><span>|</span><a href="#39074415">next</a><span>|</span><label class="collapse" for="c-39074175">[-]</label><label class="expand" for="c-39074175">[5 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t know, but apparently you can execute a function in JS without parentheses using upticks (`), e.g:<p><pre><code>  functionName`param`
</code></pre>
and whatever is inside of the upticks get sent to the function as an array. It&#x27;s also what Bun is doing with it&#x27;s $ (dollar sign) function for executing shell commands. There&#x27;s so much weird syntax magic in JS.</div><br/><div id="39074201" class="c"><input type="checkbox" id="c-39074201" checked=""/><div class="controls bullet"><span class="by">n0w</span><span>|</span><a href="#39074175">parent</a><span>|</span><a href="#39074415">next</a><span>|</span><label class="collapse" for="c-39074201">[-]</label><label class="expand" for="c-39074201">[4 more]</label></div><br/><div class="children"><div class="content">These are called &quot;tagged templates&quot;: <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Template_literals#tagged_templates" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Refe...</a></div><br/><div id="39074366" class="c"><input type="checkbox" id="c-39074366" checked=""/><div class="controls bullet"><span class="by">MobiusHorizons</span><span>|</span><a href="#39074175">root</a><span>|</span><a href="#39074201">parent</a><span>|</span><a href="#39074220">next</a><span>|</span><label class="collapse" for="c-39074366">[-]</label><label class="expand" for="c-39074366">[2 more]</label></div><br/><div class="children"><div class="content">Tagged templates are really cool. They are a reasonably simple extension of template strings, which allow constructing strings very easily by allowing arbitrary code to be put inside a ${} block inside of template strings (ones that begin and end with backticks ` instead of single or double quotes).<p>So if you think about it template strings are like a tagged template who&#x27;s function just calls .toString() and concatenates each argument it is given. There are some really nice safe sql libraries that use this for constructing queries. They are useful basically anywhere you might want string interpolation and a bit of type safety, or special handling of different types.<p>Lit Element is also a very clever usage of tagged templates.</div><br/><div id="39076712" class="c"><input type="checkbox" id="c-39076712" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#39074175">root</a><span>|</span><a href="#39074366">parent</a><span>|</span><a href="#39074220">next</a><span>|</span><label class="collapse" for="c-39076712">[-]</label><label class="expand" for="c-39076712">[1 more]</label></div><br/><div class="children"><div class="content">I just wish they had something like pythons triple quotes or here docs or c++ r strings. A single backtick makes it hard to use backticks inside the string</div><br/></div></div></div></div><div id="39074220" class="c"><input type="checkbox" id="c-39074220" checked=""/><div class="controls bullet"><span class="by">askonomm</span><span>|</span><a href="#39074175">root</a><span>|</span><a href="#39074201">parent</a><span>|</span><a href="#39074366">prev</a><span>|</span><a href="#39074415">next</a><span>|</span><label class="collapse" for="c-39074220">[-]</label><label class="expand" for="c-39074220">[1 more]</label></div><br/><div class="children"><div class="content">Ah! There&#x27;s a lot more to this than just executing a mere function it seems. Consider me educated!</div><br/></div></div></div></div></div></div><div id="39074415" class="c"><input type="checkbox" id="c-39074415" checked=""/><div class="controls bullet"><span class="by">frompdx</span><span>|</span><a href="#39074175">prev</a><span>|</span><a href="#39076591">next</a><span>|</span><label class="collapse" for="c-39074415">[-]</label><label class="expand" for="c-39074415">[1 more]</label></div><br/><div class="children"><div class="content">Interesting.  It reminds me a bet of janet-sh.  I can see the utility if you are working with JavaScript or TypeScript.  It might even work with ClojureScript using shadow-cljs.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;andrewchambers&#x2F;janet-sh">https:&#x2F;&#x2F;github.com&#x2F;andrewchambers&#x2F;janet-sh</a></div><br/></div></div><div id="39076591" class="c"><input type="checkbox" id="c-39076591" checked=""/><div class="controls bullet"><span class="by">mjburgess</span><span>|</span><a href="#39074415">prev</a><span>|</span><a href="#39074724">next</a><span>|</span><label class="collapse" for="c-39076591">[-]</label><label class="expand" for="c-39076591">[1 more]</label></div><br/><div class="children"><div class="content">fyi, the src: <a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;tree&#x2F;main&#x2F;src&#x2F;shell">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;tree&#x2F;main&#x2F;src&#x2F;shell</a></div><br/></div></div><div id="39074724" class="c"><input type="checkbox" id="c-39074724" checked=""/><div class="controls bullet"><span class="by">jftuga</span><span>|</span><a href="#39076591">prev</a><span>|</span><a href="#39074564">next</a><span>|</span><label class="collapse" for="c-39074724">[-]</label><label class="expand" for="c-39074724">[5 more]</label></div><br/><div class="children"><div class="content">Their info about &quot;rm -rf&quot; not working in Windows is slightly misleading.  In PowerShell, you can accomplish this by running:<p>rm -r -fo my-folder-name</div><br/><div id="39076797" class="c"><input type="checkbox" id="c-39076797" checked=""/><div class="controls bullet"><span class="by">Gabrys1</span><span>|</span><a href="#39074724">parent</a><span>|</span><a href="#39075177">next</a><span>|</span><label class="collapse" for="c-39076797">[-]</label><label class="expand" for="c-39076797">[1 more]</label></div><br/><div class="children"><div class="content">The reason I used rimraf was it was a way to make JS delete all files in the directory. Why would I need to think to shell out to &quot;rm -rf dir&quot; and be responsible for argument escaping, error handling, different shells, etc. If that&#x27;s what the library does, ok, but it can do it in any way the library devs decided was best. I offloaded that decision to them (putting more trust in them to do it right than in myself).</div><br/></div></div><div id="39075177" class="c"><input type="checkbox" id="c-39075177" checked=""/><div class="controls bullet"><span class="by">aarjithn</span><span>|</span><a href="#39074724">parent</a><span>|</span><a href="#39076797">prev</a><span>|</span><a href="#39074838">next</a><span>|</span><label class="collapse" for="c-39075177">[-]</label><label class="expand" for="c-39075177">[1 more]</label></div><br/><div class="children"><div class="content">Well, it’s still not “rm -rf” right? Why is it misleading then?<p>A typical problem of this is when having to run a script (say rm -rf dist) in windows and mac systems not the command itself</div><br/></div></div><div id="39074838" class="c"><input type="checkbox" id="c-39074838" checked=""/><div class="controls bullet"><span class="by">ARandomerDude</span><span>|</span><a href="#39074724">parent</a><span>|</span><a href="#39075177">prev</a><span>|</span><a href="#39074564">next</a><span>|</span><label class="collapse" for="c-39074838">[-]</label><label class="expand" for="c-39074838">[2 more]</label></div><br/><div class="children"><div class="content">How many Linux&#x2F;Mac devs know that? We live in a left-pad world, of course people will install a package to get a simple job done.</div><br/><div id="39075411" class="c"><input type="checkbox" id="c-39075411" checked=""/><div class="controls bullet"><span class="by">charrondev</span><span>|</span><a href="#39074724">root</a><span>|</span><a href="#39074838">parent</a><span>|</span><a href="#39074564">next</a><span>|</span><label class="collapse" for="c-39075411">[-]</label><label class="expand" for="c-39075411">[1 more]</label></div><br/><div class="children"><div class="content">This is mostly useful to developers that don’t develop on windows. Typically server side and browser based JavaScript programs are deployed on Linux systems in production.<p>Today if I want to reliably automate some scripting I do NOT use shell scripting because it makes a bunch of implicit dependencies on existing system.<p>Instead I write these utility scripts in either JavaScript or PHP depending on the project and this seems to give JavaScript a slightly nicer consistent interface to perform basic functionality, built directly into the runtime.</div><br/></div></div></div></div></div></div><div id="39074564" class="c"><input type="checkbox" id="c-39074564" checked=""/><div class="controls bullet"><span class="by">brailsafe</span><span>|</span><a href="#39074724">prev</a><span>|</span><a href="#39075319">next</a><span>|</span><label class="collapse" for="c-39074564">[-]</label><label class="expand" for="c-39074564">[7 more]</label></div><br/><div class="children"><div class="content">Using Windows for development feels like using Linux for anything but server-side work or Macos for gaming, it&#x27;ll probably work if you have light requirements and don&#x27;t use the shell that often, but when I think about the last time I tried it, it almost makes me feel fine paying $500 for a ram upgrade on my next mac</div><br/><div id="39076802" class="c"><input type="checkbox" id="c-39076802" checked=""/><div class="controls bullet"><span class="by">slig</span><span>|</span><a href="#39074564">parent</a><span>|</span><a href="#39076531">next</a><span>|</span><label class="collapse" for="c-39076802">[-]</label><label class="expand" for="c-39076802">[1 more]</label></div><br/><div class="children"><div class="content">I had the same thought and had an Intel Mac, but then I tried WSL2 and it just works. Now my daily driver is a PC with specs that I wouldn&#x27;t be able to afford if it was a Mac.</div><br/></div></div><div id="39076531" class="c"><input type="checkbox" id="c-39076531" checked=""/><div class="controls bullet"><span class="by">LucasOe</span><span>|</span><a href="#39074564">parent</a><span>|</span><a href="#39076802">prev</a><span>|</span><a href="#39075020">next</a><span>|</span><label class="collapse" for="c-39076531">[-]</label><label class="expand" for="c-39076531">[3 more]</label></div><br/><div class="children"><div class="content">If you want bash like syntax, you can always run msys2 &#x2F; Cygwin &#x2F; WSL on Windows. But 99% of the time I just need to run basic commands like git and <i>maybe</i> pipe them to ripgrep or fzf, and frankly the PowerShell is fine for that. For anything more complicated, I&#x27;ll write a script in Python or maybe JavaScript anyway, so I don&#x27;t really care what shell I use as long as I can customize it and it can run basic commands. And if you don&#x27;t like PowerShell, there&#x27;s Nushell.</div><br/><div id="39076821" class="c"><input type="checkbox" id="c-39076821" checked=""/><div class="controls bullet"><span class="by">marwis</span><span>|</span><a href="#39074564">root</a><span>|</span><a href="#39076531">parent</a><span>|</span><a href="#39076702">next</a><span>|</span><label class="collapse" for="c-39076821">[-]</label><label class="expand" for="c-39076821">[1 more]</label></div><br/><div class="children"><div class="content">Actually Powershell is terrible for piping anything native. It will damage whatever data you pipe.<p>That&#x27;s because unlike other shells where piping just passes through binary stream, Powershell will try to parse output of one command into a list of .NET strings, one for each line, and then print them out to output to input of another command.</div><br/></div></div><div id="39076702" class="c"><input type="checkbox" id="c-39076702" checked=""/><div class="controls bullet"><span class="by">RadiozRadioz</span><span>|</span><a href="#39074564">root</a><span>|</span><a href="#39076531">parent</a><span>|</span><a href="#39076821">prev</a><span>|</span><a href="#39075020">next</a><span>|</span><label class="collapse" for="c-39076702">[-]</label><label class="expand" for="c-39076702">[1 more]</label></div><br/><div class="children"><div class="content">You could save yourself a lot of time by learning more bash so you didn&#x27;t have to break out a programming language any time things get more complicated than piping into grep.</div><br/></div></div></div></div><div id="39075020" class="c"><input type="checkbox" id="c-39075020" checked=""/><div class="controls bullet"><span class="by">BirAdam</span><span>|</span><a href="#39074564">parent</a><span>|</span><a href="#39076531">prev</a><span>|</span><a href="#39075319">next</a><span>|</span><label class="collapse" for="c-39075020">[-]</label><label class="expand" for="c-39075020">[2 more]</label></div><br/><div class="children"><div class="content">Plenty of people use Windows for development, Linux for development and gaming, and macOS for everything including servers. It’s all about preference.</div><br/><div id="39076427" class="c"><input type="checkbox" id="c-39076427" checked=""/><div class="controls bullet"><span class="by">Ygg2</span><span>|</span><a href="#39074564">root</a><span>|</span><a href="#39075020">parent</a><span>|</span><a href="#39075319">next</a><span>|</span><label class="collapse" for="c-39076427">[-]</label><label class="expand" for="c-39076427">[1 more]</label></div><br/><div class="children"><div class="content">Want to use a cool dev tool on Windows boils down to, can you host a Linux VM?<p>E.g. How do you profile Rust programs on Windows in RustRover&#x2F;Clion? How do you run Coz on Windows? Basically WSL or a full VM.</div><br/></div></div></div></div></div></div><div id="39075319" class="c"><input type="checkbox" id="c-39075319" checked=""/><div class="controls bullet"><span class="by">CuriouslyC</span><span>|</span><a href="#39074564">prev</a><span>|</span><a href="#39075856">next</a><span>|</span><label class="collapse" for="c-39075319">[-]</label><label class="expand" for="c-39075319">[1 more]</label></div><br/><div class="children"><div class="content">This looks very cool on the surface.  There are a lot of systems out there with a mishmash of javascript and shell, those systems are stitched together in arbitrary ways, and it can often make them hard to debug and test.  This looks like it&#x27;ll make it easier to write and test those integrations, which is a win.<p>My main concern is that when things don&#x27;t work as expected, the added layer of complexity will make it harder to figure out why.  Hopefully there aren&#x27;t too many rough edges.</div><br/></div></div><div id="39075856" class="c"><input type="checkbox" id="c-39075856" checked=""/><div class="controls bullet"><span class="by">TheAceOfHearts</span><span>|</span><a href="#39075319">prev</a><span>|</span><a href="#39075581">next</a><span>|</span><label class="collapse" for="c-39075856">[-]</label><label class="expand" for="c-39075856">[1 more]</label></div><br/><div class="children"><div class="content">When I need shell-like utilities from my JS scripts I&#x27;ve previously used shelljs [0]. It&#x27;s neat that Bun is adding more built-in utilities though.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;shelljs&#x2F;shelljs">https:&#x2F;&#x2F;github.com&#x2F;shelljs&#x2F;shelljs</a></div><br/></div></div><div id="39075581" class="c"><input type="checkbox" id="c-39075581" checked=""/><div class="controls bullet"><span class="by">mythz</span><span>|</span><a href="#39075856">prev</a><span>|</span><a href="#39075372">next</a><span>|</span><label class="collapse" for="c-39075581">[-]</label><label class="expand" for="c-39075581">[1 more]</label></div><br/><div class="children"><div class="content">Looks good, will consider it next time I need to create a complex shell script.
For creating cross-platform scripts in package.json I&#x27;ve settled on shx [1].<p>[1] <a href="https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;shx" rel="nofollow">https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;shx</a></div><br/></div></div><div id="39076103" class="c"><input type="checkbox" id="c-39076103" checked=""/><div class="controls bullet"><span class="by">floof</span><span>|</span><a href="#39075372">prev</a><span>|</span><a href="#39076509">next</a><span>|</span><label class="collapse" for="c-39076103">[-]</label><label class="expand" for="c-39076103">[1 more]</label></div><br/><div class="children"><div class="content">Node&#x27;s `execSync` is pretty much this easy to use as well.</div><br/></div></div><div id="39076509" class="c"><input type="checkbox" id="c-39076509" checked=""/><div class="controls bullet"><span class="by">postepowanieadm</span><span>|</span><a href="#39076103">prev</a><span>|</span><a href="#39075280">next</a><span>|</span><label class="collapse" for="c-39076509">[-]</label><label class="expand" for="c-39076509">[2 more]</label></div><br/><div class="children"><div class="content">js is the new perl</div><br/><div id="39076714" class="c"><input type="checkbox" id="c-39076714" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#39076509">parent</a><span>|</span><a href="#39075280">next</a><span>|</span><label class="collapse" for="c-39076714">[-]</label><label class="expand" for="c-39076714">[1 more]</label></div><br/><div class="children"><div class="content">I wish they&#x27;d adopt pcre</div><br/></div></div></div></div><div id="39075280" class="c"><input type="checkbox" id="c-39075280" checked=""/><div class="controls bullet"><span class="by">jcadam</span><span>|</span><a href="#39076509">prev</a><span>|</span><a href="#39074246">next</a><span>|</span><label class="collapse" for="c-39075280">[-]</label><label class="expand" for="c-39075280">[1 more]</label></div><br/><div class="children"><div class="content">Javascript shell?! It&#x27;s like c shell, only worse.</div><br/></div></div><div id="39074246" class="c"><input type="checkbox" id="c-39074246" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#39075280">prev</a><span>|</span><a href="#39074790">next</a><span>|</span><label class="collapse" for="c-39074246">[-]</label><label class="expand" for="c-39074246">[2 more]</label></div><br/><div class="children"><div class="content">I guess this is too new for there to be any language documentation yet? Or perhaps I missed it.<p>I&#x27;m wondering if it&#x27;s picked up any ideas from oil shell [1].<p>[1] <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;</a></div><br/><div id="39074797" class="c"><input type="checkbox" id="c-39074797" checked=""/><div class="controls bullet"><span class="by">dharmab</span><span>|</span><a href="#39074246">parent</a><span>|</span><a href="#39074790">next</a><span>|</span><label class="collapse" for="c-39074797">[-]</label><label class="expand" for="c-39074797">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a short doc here <a href="https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;runtime&#x2F;shell" rel="nofollow">https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;runtime&#x2F;shell</a> but it notes that the shell is not yet feature-stable.</div><br/></div></div></div></div><div id="39074790" class="c"><input type="checkbox" id="c-39074790" checked=""/><div class="controls bullet"><span class="by">38</span><span>|</span><a href="#39074246">prev</a><span>|</span><a href="#39074880">next</a><span>|</span><label class="collapse" for="c-39074790">[-]</label><label class="expand" for="c-39074790">[3 more]</label></div><br/><div class="children"><div class="content">doesn&#x27;t work with Windows:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;issues&#x2F;43">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;issues&#x2F;43</a></div><br/><div id="39075574" class="c"><input type="checkbox" id="c-39075574" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#39074790">parent</a><span>|</span><a href="#39074880">next</a><span>|</span><label class="collapse" for="c-39075574">[-]</label><label class="expand" for="c-39075574">[2 more]</label></div><br/><div class="children"><div class="content">This is super confusing considering the text in the article.</div><br/><div id="39076744" class="c"><input type="checkbox" id="c-39076744" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#39074790">root</a><span>|</span><a href="#39075574">parent</a><span>|</span><a href="#39074880">next</a><span>|</span><label class="collapse" for="c-39076744">[-]</label><label class="expand" for="c-39076744">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s an unstable windows build of bun. I imagine they&#x27;re working out the final few kinks but want to make sure this new lib is ready to go now</div><br/></div></div></div></div></div></div><div id="39074880" class="c"><input type="checkbox" id="c-39074880" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#39074790">prev</a><span>|</span><a href="#39074359">next</a><span>|</span><label class="collapse" for="c-39074880">[-]</label><label class="expand" for="c-39074880">[2 more]</label></div><br/><div class="children"><div class="content">Note that the `hyperfine` example is actually measuring <i>two</i> nested shells. Unless hyperfine implements a shell-parser of its own, of course.</div><br/><div id="39074966" class="c"><input type="checkbox" id="c-39074966" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#39074880">parent</a><span>|</span><a href="#39074359">next</a><span>|</span><label class="collapse" for="c-39074966">[-]</label><label class="expand" for="c-39074966">[1 more]</label></div><br/><div class="children"><div class="content">The -N flag tells hyperfine to not run it in a shell, which means it is not nested.</div><br/></div></div></div></div><div id="39074359" class="c"><input type="checkbox" id="c-39074359" checked=""/><div class="controls bullet"><span class="by">metaltyphoon</span><span>|</span><a href="#39074880">prev</a><span>|</span><label class="collapse" for="c-39074359">[-]</label><label class="expand" for="c-39074359">[1 more]</label></div><br/><div class="children"><div class="content">So is this akin to Powershell Core but having JS as a language!</div><br/></div></div></div></div></div></div></div></body></html>