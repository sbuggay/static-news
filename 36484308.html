<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687856459805" as="style"/><link rel="stylesheet" href="styles.css?v=1687856459805"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/eyurtsev/kor">Kor: a half-baked prototype that &quot;helps&quot; you extract structured data using LLMs</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>BorisWilhelms</span> | <span>16 comments</span></div><br/><div><div id="36484948" class="c"><input type="checkbox" id="c-36484948" checked=""/><div class="controls bullet"><span class="by">anotherpaulg</span><span>|</span><a href="#36484681">next</a><span>|</span><label class="collapse" for="c-36484948">[-]</label><label class="expand" for="c-36484948">[5 more]</label></div><br/><div class="children"><div class="content">Does this take advantage of the new OpenAI functions api? From a quick look, I can&#x27;t find any indication that it does. Although I find it tricky to disentangle the langchain abstractions, so I might be missing it. Kor&#x27;s last release predates the announcement of OpenAI functions, so probably not.<p>Seems like this is now best done via functions, if you&#x27;re using OpenAI&#x27;s models? They call out &quot;extracting structured data from text&quot; as a key use case in their announcement.<p><a href="https:&#x2F;&#x2F;openai.com&#x2F;blog&#x2F;function-calling-and-other-api-updates" rel="nofollow noreferrer">https:&#x2F;&#x2F;openai.com&#x2F;blog&#x2F;function-calling-and-other-api-updat...</a></div><br/><div id="36485164" class="c"><input type="checkbox" id="c-36485164" checked=""/><div class="controls bullet"><span class="by">BorisWilhelms</span><span>|</span><a href="#36484948">parent</a><span>|</span><a href="#36484681">next</a><span>|</span><label class="collapse" for="c-36485164">[-]</label><label class="expand" for="c-36485164">[4 more]</label></div><br/><div class="children"><div class="content">No, it is not using openai functions. Since it is on top of langchain it uses the LLM abstraction of it and it can be used with other models as well.</div><br/><div id="36486309" class="c"><input type="checkbox" id="c-36486309" checked=""/><div class="controls bullet"><span class="by">anotherpaulg</span><span>|</span><a href="#36484948">root</a><span>|</span><a href="#36485164">parent</a><span>|</span><a href="#36484681">next</a><span>|</span><label class="collapse" for="c-36486309">[-]</label><label class="expand" for="c-36486309">[3 more]</label></div><br/><div class="children"><div class="content">Yup, the flexibility of running against any model via langchain is super helpful.</div><br/><div id="36489135" class="c"><input type="checkbox" id="c-36489135" checked=""/><div class="controls bullet"><span class="by">reissbaker</span><span>|</span><a href="#36484948">root</a><span>|</span><a href="#36486309">parent</a><span>|</span><a href="#36487494">next</a><span>|</span><label class="collapse" for="c-36489135">[-]</label><label class="expand" for="c-36489135">[1 more]</label></div><br/><div class="children"><div class="content">FYI, the upcoming version of gpt4 does considerably worse emulating function calls &#x2F; generating code-like strings, but gets better again if you switch to the function call API: <a href="https:&#x2F;&#x2F;twitter.com&#x2F;reissbaker&#x2F;status&#x2F;1671361372092010497" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;reissbaker&#x2F;status&#x2F;1671361372092010497</a><p>(My guess is the same is true of gpt-3.5, although I haven&#x27;t tested it.)<p>That being said, Langchain has a nearly drop-in replacement if you want to start using the function call API: <a href="https:&#x2F;&#x2F;python.langchain.com&#x2F;docs&#x2F;modules&#x2F;agents&#x2F;agent_types&#x2F;openai_functions_agent" rel="nofollow noreferrer">https:&#x2F;&#x2F;python.langchain.com&#x2F;docs&#x2F;modules&#x2F;agents&#x2F;agent_types...</a></div><br/></div></div><div id="36487494" class="c"><input type="checkbox" id="c-36487494" checked=""/><div class="controls bullet"><span class="by">contravariant</span><span>|</span><a href="#36484948">root</a><span>|</span><a href="#36486309">parent</a><span>|</span><a href="#36489135">prev</a><span>|</span><a href="#36484681">next</a><span>|</span><label class="collapse" for="c-36487494">[-]</label><label class="expand" for="c-36487494">[1 more]</label></div><br/><div class="children"><div class="content">Are there any useful alternative models though? Most I&#x27;ve found weren&#x27;t particularly good at following instructions or using tools in the way langchain provides them.</div><br/></div></div></div></div></div></div></div></div><div id="36484681" class="c"><input type="checkbox" id="c-36484681" checked=""/><div class="controls bullet"><span class="by">captainmuon</span><span>|</span><a href="#36484948">prev</a><span>|</span><a href="#36484949">next</a><span>|</span><label class="collapse" for="c-36484681">[-]</label><label class="expand" for="c-36484681">[4 more]</label></div><br/><div class="children"><div class="content">Neat, I was just looking for something like this today, I think I&#x27;ll give it a spin.<p>Does anybody here have experience with metadata extraction using LLMs? I&#x27;ve been thinking about it recently. and wonder if just making a big prompt and putting that into OpenGPT or even ChatGPT is really the way to go, or if there is a &quot;cleverer&quot; way. Maybe you could train specifically for certain fields, or use the LLM in a different way (like you can use the embeddings directly to do simularity search)?<p>Another idea was, if you have a lot of similar HTML documents, to not ask the LLM for the metadata, but to ask it for CSS selectors that contain the metadata fields - assuming it can deal with HTML and the data is verbatim in there. Then you should be able to get much more consistent results.</div><br/><div id="36489877" class="c"><input type="checkbox" id="c-36489877" checked=""/><div class="controls bullet"><span class="by">hubraumhugo</span><span>|</span><a href="#36484681">parent</a><span>|</span><a href="#36485913">next</a><span>|</span><label class="collapse" for="c-36489877">[-]</label><label class="expand" for="c-36489877">[2 more]</label></div><br/><div class="children"><div class="content">We&#x27;re using LLMs to generate web scrapers and data processing steps on the fly that adapt to website changes. Using an LLM for every data extraction, as most comparable tools do, is expensive and slow, but using LLMs to generate the scraper code and subsequently adapt it to website modifications is highly efficient.<p>Try it out <a href="https:&#x2F;&#x2F;kadoa.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;kadoa.com</a></div><br/><div id="36490433" class="c"><input type="checkbox" id="c-36490433" checked=""/><div class="controls bullet"><span class="by">jshmrsn</span><span>|</span><a href="#36484681">root</a><span>|</span><a href="#36489877">parent</a><span>|</span><a href="#36485913">next</a><span>|</span><label class="collapse" for="c-36490433">[-]</label><label class="expand" for="c-36490433">[1 more]</label></div><br/><div class="children"><div class="content">That is a very thought provoking use case and optimization for LLMs, thanks for sharing.</div><br/></div></div></div></div><div id="36485913" class="c"><input type="checkbox" id="c-36485913" checked=""/><div class="controls bullet"><span class="by">nerpderp82</span><span>|</span><a href="#36484681">parent</a><span>|</span><a href="#36489877">prev</a><span>|</span><a href="#36484949">next</a><span>|</span><label class="collapse" for="c-36485913">[-]</label><label class="expand" for="c-36485913">[1 more]</label></div><br/><div class="children"><div class="content">I gave it some css paths extracted from devtools, and some sample elements with data that needed extraction and had it write a beautiful soup + regex routine to do the extractions. worked fine. Also thousands of times faster.</div><br/></div></div></div></div><div id="36484949" class="c"><input type="checkbox" id="c-36484949" checked=""/><div class="controls bullet"><span class="by">kiernanmcgowan</span><span>|</span><a href="#36484681">prev</a><span>|</span><a href="#36486274">next</a><span>|</span><label class="collapse" for="c-36484949">[-]</label><label class="expand" for="c-36484949">[1 more]</label></div><br/><div class="children"><div class="content">Another tool like this is Marvin. My experience this that these work pretty well, but the world of prompt “engineering” is a very squishy one and getting the exact output format you want is not guaranteed.<p><a href="https:&#x2F;&#x2F;www.askmarvin.ai&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.askmarvin.ai&#x2F;</a></div><br/></div></div><div id="36486274" class="c"><input type="checkbox" id="c-36486274" checked=""/><div class="controls bullet"><span class="by">mark_l_watson</span><span>|</span><a href="#36484949">prev</a><span>|</span><a href="#36484765">next</a><span>|</span><label class="collapse" for="c-36486274">[-]</label><label class="expand" for="c-36486274">[1 more]</label></div><br/><div class="children"><div class="content">I have experimented with Kor several times, cool idea.</div><br/></div></div><div id="36484765" class="c"><input type="checkbox" id="c-36484765" checked=""/><div class="controls bullet"><span class="by">dennisy</span><span>|</span><a href="#36486274">prev</a><span>|</span><label class="collapse" for="c-36484765">[-]</label><label class="expand" for="c-36484765">[4 more]</label></div><br/><div class="children"><div class="content">Have you tried this on HTML?</div><br/><div id="36485173" class="c"><input type="checkbox" id="c-36485173" checked=""/><div class="controls bullet"><span class="by">BorisWilhelms</span><span>|</span><a href="#36484765">parent</a><span>|</span><label class="collapse" for="c-36485173">[-]</label><label class="expand" for="c-36485173">[3 more]</label></div><br/><div class="children"><div class="content">Yes, tried it on HTML to get &quot;metadata&quot; that was not present in the HTML meta tags, such as author, publish date, etc. Works good.</div><br/><div id="36485191" class="c"><input type="checkbox" id="c-36485191" checked=""/><div class="controls bullet"><span class="by">BorisWilhelms</span><span>|</span><a href="#36484765">root</a><span>|</span><a href="#36485173">parent</a><span>|</span><label class="collapse" for="c-36485191">[-]</label><label class="expand" for="c-36485191">[2 more]</label></div><br/><div class="children"><div class="content">Actually not on raw HTML, but with the WebBaseLoader from Langchain which strips away HTML tags.</div><br/><div id="36485337" class="c"><input type="checkbox" id="c-36485337" checked=""/><div class="controls bullet"><span class="by">dennisy</span><span>|</span><a href="#36484765">root</a><span>|</span><a href="#36485191">parent</a><span>|</span><label class="collapse" for="c-36485337">[-]</label><label class="expand" for="c-36485337">[1 more]</label></div><br/><div class="children"><div class="content">Ahh cool thank you!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>