<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724403664680" as="style"/><link rel="stylesheet" href="styles.css?v=1724403664680"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://engineering.fb.com/2024/06/24/data-infrastructure/leveraging-ai-for-efficient-incident-response/">Leveraging AI for efficient incident response</a> <span class="domain">(<a href="https://engineering.fb.com">engineering.fb.com</a>)</span></div><div class="subtext"><span>Amaresh</span> | <span>25 comments</span></div><br/><div><div id="41326479" class="c"><input type="checkbox" id="c-41326479" checked=""/><div class="controls bullet"><span class="by">LASR</span><span>|</span><a href="#41326337">next</a><span>|</span><label class="collapse" for="c-41326479">[-]</label><label class="expand" for="c-41326479">[3 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve shifted our oncall incident response over to mostly AI at this point. And it works quite well.<p>One of the main reasons why this works well is because we feed the models our incident playbooks and response knowledge bases.<p>These playbooks are very carefully written and maintained by people. The current generation of models are pretty much post-human in following them, performing reasoning and suggesting mitigations.<p>We tried indexing just a bunch of incident slack channels and result was not great. But with explicit documentation, it works well.<p>Kind of proves what we already know, garbage in, garbage out. But also, other functions, eg: PM, Design have tried automating their own workflows, but doesn&#x27;t work as well.</div><br/><div id="41327207" class="c"><input type="checkbox" id="c-41327207" checked=""/><div class="controls bullet"><span class="by">nevon</span><span>|</span><a href="#41326479">parent</a><span>|</span><a href="#41326951">next</a><span>|</span><label class="collapse" for="c-41327207">[-]</label><label class="expand" for="c-41327207">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m really curious to hear more about what kind of thing is covered in your playbooks. I&#x27;ve often heard and read about the value of playbooks, but I&#x27;ve yet to see it bear fruit in practice. My main work these past few years has been in platform engineering, and so I&#x27;ve also been involved in quite a few incidents over that time, and the only standardized action I can think of that has been relevant over that time is comparing SLIs between application versions and rolling back to a previous version if the newer version is failing. Beyond that, it&#x27;s always been some new failure mode where the resolution wouldn&#x27;t have been documented because it&#x27;s never happened before.<p>On the investigation side of things I can definitely see how an AI driven troubleshooting process could be valuable. Lots of developers are lacking debugging skills, so an AI driven process that looks at the relevant metrics and logs and can reason around what the next line of inquiry should be could definitely speed things up.</div><br/></div></div><div id="41326951" class="c"><input type="checkbox" id="c-41326951" checked=""/><div class="controls bullet"><span class="by">jononor</span><span>|</span><a href="#41326479">parent</a><span>|</span><a href="#41327207">prev</a><span>|</span><a href="#41326337">next</a><span>|</span><label class="collapse" for="c-41326951">[-]</label><label class="expand" for="c-41326951">[1 more]</label></div><br/><div class="children"><div class="content">Expert systems redux? 
Being able to provide the expertise in form of plain written English (or another language), will at least make it much more feasible to build them up. And it can also meaningfully be consumed by a human.<p>If it works well for incident response, then there are many usecases that are similar - basically most kinds of diagnostics&#x2F;troubleshooting of systems. At least the relatively bounded ones, where it is feasible to on have documentation on the particular system. Say debugging of a building HVAC system.</div><br/></div></div></div></div><div id="41326337" class="c"><input type="checkbox" id="c-41326337" checked=""/><div class="controls bullet"><span class="by">donavanm</span><span>|</span><a href="#41326479">prev</a><span>|</span><a href="#41326250">next</a><span>|</span><label class="collapse" for="c-41326337">[-]</label><label class="expand" for="c-41326337">[5 more]</label></div><br/><div class="children"><div class="content">Im really interested in the implied restriction&#x2F;focus on “code changes.”<p>IME a very very large number of impacting incidents arent strictly tied to “a” code change, if any at all. It _feels_ like theres an implied solution to tying running version back to deployment rev, to deployment artifacts, and vcs.<p>Boundary conditions and state changes in the distributed system were the biggest bug bear I ran in to at AWS. Then below that were all of the “infra” style failures like network faults, latency, API quota exhaustion, etc. And for all the cloudformation&#x2F;cdk&#x2F;terraform in the world its non trivial to really discover those effects and tie them to a “code change.” Totally ignoring older tools that may be managed via CLI or the ol’ point and click.</div><br/><div id="41326450" class="c"><input type="checkbox" id="c-41326450" checked=""/><div class="controls bullet"><span class="by">vjeux</span><span>|</span><a href="#41326337">parent</a><span>|</span><a href="#41326414">next</a><span>|</span><label class="collapse" for="c-41326450">[-]</label><label class="expand" for="c-41326450">[2 more]</label></div><br/><div class="children"><div class="content">From my experience, the vast majority of reliability issues at Meta come from 3 areas:<p>- Code changes<p>- Configuration changes (this includes the equivalent of server topology changes like cloudformation, quota changes)<p>- Experimentation rollout changes<p>There has been issues that are external (like user behavior change for new year &#x2F; world cup final, physical connection between datacenters being severed…) but they tend to be a lot less frequent.<p>All the 3 big buckets are tied to a single trackable change with an id so this leads to the ability to do those kind of automated root cause analysis at scale.<p>Now, Meta is mostly a closed loop where all the infra and product is controlled as one entity so those results may not be applicable outside.</div><br/><div id="41326714" class="c"><input type="checkbox" id="c-41326714" checked=""/><div class="controls bullet"><span class="by">donavanm</span><span>|</span><a href="#41326337">root</a><span>|</span><a href="#41326450">parent</a><span>|</span><a href="#41326414">next</a><span>|</span><label class="collapse" for="c-41326714">[-]</label><label class="expand" for="c-41326714">[1 more]</label></div><br/><div class="children"><div class="content">Interesting. It sounds like “all” service state management (admin config, infra, topology) is discoverable&#x2F;legible for meta. I think that contrasts with AWS where there is a strong DevTools org, but many  services and integrations are more of an API centric service-to-service model with distributed state which is much harder to observe. Every cloud provider I know of also has a (externally opaque) division between “native” cloud-service-built-on-cloud-infra and (typically older) “foundational” services that are much closer to “bare metal” with their own bespoke provisioning and management. Ex EC2 has great visibility inside of their placement and launch flows, but itll never look like&#x2F;interop with cfn &amp; cloudtrail that ~280 other “native” services use.<p>Definitely agree that the bulk Of “impact” is back to changes introduced in the SDLC. Even for major incidents infrastructure is probably down to 10-20% of causes in a good org. My view in GP is probably skewed towards major incidents impairing multiple services&#x2F;regions as well. While I worked on a handful of services it was mostly edge&#x2F;infra side, and I focused the last few years specifically on major incident management.<p>Id still be curious about internal system state and faults due to issues like deadlocked workflows, incoherent state machines, and invalid state values. But maybe its simply not that prevalent.</div><br/></div></div></div></div><div id="41326414" class="c"><input type="checkbox" id="c-41326414" checked=""/><div class="controls bullet"><span class="by">lmeyerov</span><span>|</span><a href="#41326337">parent</a><span>|</span><a href="#41326450">prev</a><span>|</span><a href="#41327182">next</a><span>|</span><label class="collapse" for="c-41326414">[-]</label><label class="expand" for="c-41326414">[1 more]</label></div><br/><div class="children"><div class="content">Interestingly, with the move to IaC, diagnosing at the level of code change makes increasing sense. It&#x27;s impressive to see their results given that perspective. Not obvious!<p>Seperately, we have been curious about extending louie.ai to work not just with logs&#x2F;DBs, but go in the reverse direction (&#x27;shift right&#x27;): talk directly to a live OSAgent like an EDR or OSQuery, whether on a live system or a cloud image copy. If of interest to any teams, would love to chat.</div><br/></div></div><div id="41327182" class="c"><input type="checkbox" id="c-41327182" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#41326337">parent</a><span>|</span><a href="#41326414">prev</a><span>|</span><a href="#41326250">next</a><span>|</span><label class="collapse" for="c-41327182">[-]</label><label class="expand" for="c-41327182">[1 more]</label></div><br/><div class="children"><div class="content">&gt; IME a very very large number of impacting incidents arent strictly tied to “a” code change, if any at all<p>Usually this implies there are bigger problems. If something keeps breaking without any change (config &#x2F; code) then it was likely always broken and just ignored.<p>So when companies do have most of the low hanging fruit resolved it&#x27;s the changes that break things.<p>I&#x27;ve seen places where everything is duck taped together but BUT it still only breaks on code changes. Everyone learns to avoid stressing anything fragile.</div><br/></div></div></div></div><div id="41326250" class="c"><input type="checkbox" id="c-41326250" checked=""/><div class="controls bullet"><span class="by">nyellin</span><span>|</span><a href="#41326337">prev</a><span>|</span><a href="#41326416">next</a><span>|</span><label class="collapse" for="c-41326250">[-]</label><label class="expand" for="c-41326250">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve open sourced something with similar goals that you can use today: <a href="https:&#x2F;&#x2F;github.com&#x2F;robusta-dev&#x2F;holmesgpt&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;robusta-dev&#x2F;holmesgpt&#x2F;</a><p>We&#x27;re taking a slightly different angle than what Facebook published, in that we&#x27;re primarily using tool calling and observability data to run investigations.<p>What we&#x27;ve released really shines at surfacing up relevant observability data automatically, and we&#x27;re soon planning to add the change-tracking elements mentioned in the Facebook post.<p>If anyone is curious, I did a webinar with PagerDuty on this recently.</div><br/></div></div><div id="41326416" class="c"><input type="checkbox" id="c-41326416" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#41326250">prev</a><span>|</span><a href="#41327241">next</a><span>|</span><label class="collapse" for="c-41326416">[-]</label><label class="expand" for="c-41326416">[1 more]</label></div><br/><div class="children"><div class="content">Way back in the day on FB Ads we trained a GBDT on a bunch of features extracted from the diff that had been (post-hoc) identified as the cause of a SEV.<p>Unlike a modern LLM (or most any non-trivial NN), a GBDT’s feature importance is defensively rigorous.<p>After floating the results to a few folks up the chain we burned it and forget where.</div><br/></div></div><div id="41327241" class="c"><input type="checkbox" id="c-41327241" checked=""/><div class="controls bullet"><span class="by">mafribe</span><span>|</span><a href="#41326416">prev</a><span>|</span><a href="#41327086">next</a><span>|</span><label class="collapse" for="c-41327241">[-]</label><label class="expand" for="c-41327241">[1 more]</label></div><br/><div class="children"><div class="content">The paper goes out of its way <i>not</i> to compare the 42% figure with anything. Is <i>&quot;42% within the top 5 suggestions&quot;</i> good or bad?<p>How would an experienced engineer score on the same task?</div><br/></div></div><div id="41327086" class="c"><input type="checkbox" id="c-41327086" checked=""/><div class="controls bullet"><span class="by">AeZ1E</span><span>|</span><a href="#41327241">prev</a><span>|</span><a href="#41326626">next</a><span>|</span><label class="collapse" for="c-41327086">[-]</label><label class="expand" for="c-41327086">[3 more]</label></div><br/><div class="children"><div class="content">nice to see meta investing in AI investigation tools! but 42% accuracy doesn&#x27;t sound too impressive to me... maybe there&#x27;s still some fine-tuning needed for better results? glad to hear about the progress though!</div><br/><div id="41327197" class="c"><input type="checkbox" id="c-41327197" checked=""/><div class="controls bullet"><span class="by">Kirth</span><span>|</span><a href="#41327086">parent</a><span>|</span><a href="#41326626">next</a><span>|</span><label class="collapse" for="c-41327197">[-]</label><label class="expand" for="c-41327197">[2 more]</label></div><br/><div class="children"><div class="content">Really, a tool where 42% of incident responses the on call engineers are greeted by a pointer that likely lets them resolve the incident almost immediately and move on, rather than spending potentially hours figuring out which component it is they need to address and how, isn&#x27;t impressive to you?</div><br/><div id="41327303" class="c"><input type="checkbox" id="c-41327303" checked=""/><div class="controls bullet"><span class="by">chaoz__</span><span>|</span><a href="#41327086">root</a><span>|</span><a href="#41327197">parent</a><span>|</span><a href="#41326626">next</a><span>|</span><label class="collapse" for="c-41327303">[-]</label><label class="expand" for="c-41327303">[1 more]</label></div><br/><div class="children"><div class="content">It depends on whether it&#x27;s generating 58% of answers that lead on-call engineers down the wrong path. Honestly, it&#x27;s more of a question -- I did not read the article deeply.</div><br/></div></div></div></div></div></div><div id="41326626" class="c"><input type="checkbox" id="c-41326626" checked=""/><div class="controls bullet"><span class="by">minkles</span><span>|</span><a href="#41327086">prev</a><span>|</span><a href="#41326372">next</a><span>|</span><label class="collapse" for="c-41326626">[-]</label><label class="expand" for="c-41326626">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m going to point out the obvious problem here: 42% RC identification is shit.<p>That means the first person on the call doing the triage has a 58% chance of being fed misinformation and bias which they have to distinguish from reality.<p>Of course you can&#x27;t say anything about an ML model being bad that you are promoting for your business.</div><br/><div id="41326765" class="c"><input type="checkbox" id="c-41326765" checked=""/><div class="controls bullet"><span class="by">donavanm</span><span>|</span><a href="#41326626">parent</a><span>|</span><a href="#41326372">next</a><span>|</span><label class="collapse" for="c-41326765">[-]</label><label class="expand" for="c-41326765">[3 more]</label></div><br/><div class="children"><div class="content">No. Youre missing the UX forest for the pedantry trees here. Ive worked on a team that did similar change detection with little to no ML magic. It matters how its presented as a hint (“top five suggested”) and not THE ANSWER. In addition its VERY common to do things like present confidence or weight to the user. And why theres a huge need for explainability.<p>And this is just part of the diagnosis process. The system should still be providing breadcrumbs or short cuts for the user to test the suggested hypothesis.<p>Which is why any responsible system like this will include feedback loops and evaluation of false positive&#x2F;negative outcomes and tune for sensitivity &amp; specificity over time.</div><br/><div id="41326878" class="c"><input type="checkbox" id="c-41326878" checked=""/><div class="controls bullet"><span class="by">minkles</span><span>|</span><a href="#41326626">root</a><span>|</span><a href="#41326765">parent</a><span>|</span><a href="#41326372">next</a><span>|</span><label class="collapse" for="c-41326878">[-]</label><label class="expand" for="c-41326878">[2 more]</label></div><br/><div class="children"><div class="content">No I&#x27;m not. It&#x27;s crap.<p>I have about 30 years experience both on hard engineering (electronics) and software engineering particularly on failure analysis and reliability engineering. Most people are lazy and get led astray with false information. This is a very dangerous thing. You need a proper conceptualisation framework like a KT problem analysis to eliminate incorrect causes and keep people thinking rationally and get your MTTR down to something reasonable.</div><br/><div id="41327218" class="c"><input type="checkbox" id="c-41327218" checked=""/><div class="controls bullet"><span class="by">Kiro</span><span>|</span><a href="#41326626">root</a><span>|</span><a href="#41326878">parent</a><span>|</span><a href="#41326372">next</a><span>|</span><label class="collapse" for="c-41327218">[-]</label><label class="expand" for="c-41327218">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like you&#x27;re projecting your own laziness and shortcomings on others. This is a tool that seems really helpful considering the alternative is 0%.</div><br/></div></div></div></div></div></div></div></div><div id="41326372" class="c"><input type="checkbox" id="c-41326372" checked=""/><div class="controls bullet"><span class="by">pants2</span><span>|</span><a href="#41326626">prev</a><span>|</span><a href="#41326185">next</a><span>|</span><label class="collapse" for="c-41326372">[-]</label><label class="expand" for="c-41326372">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The biggest lever to achieving 42% accuracy was fine-tuning a Llama 2 (7B) model<p>42% accuracy on a tiny, outdated model - surely it would improve significantly by fine-tuning Llama 3.1 405B!</div><br/></div></div><div id="41326185" class="c"><input type="checkbox" id="c-41326185" checked=""/><div class="controls bullet"><span class="by">ketzo</span><span>|</span><a href="#41326372">prev</a><span>|</span><a href="#41326422">next</a><span>|</span><label class="collapse" for="c-41326185">[-]</label><label class="expand" for="c-41326185">[4 more]</label></div><br/><div class="children"><div class="content">This is really cool. My optimistic take on GenAI, at least with regard to software engineering, is that it seems like we&#x27;re gonna have a lot of the boring &#x2F; tedious parts of our jobs get a lot easier!</div><br/><div id="41326442" class="c"><input type="checkbox" id="c-41326442" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#41326185">parent</a><span>|</span><a href="#41326422">next</a><span>|</span><label class="collapse" for="c-41326442">[-]</label><label class="expand" for="c-41326442">[3 more]</label></div><br/><div class="children"><div class="content">Claude 3.5 Sonnet still can’t cut me a diff summary based on the patch that I’m generally willing to hand in as my own work and it’s by far the best API-mediated, investor-subsidized one.<p>Forget the diff, I don’t want my name on the natural language summary.</div><br/><div id="41326496" class="c"><input type="checkbox" id="c-41326496" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#41326185">root</a><span>|</span><a href="#41326442">parent</a><span>|</span><a href="#41326422">next</a><span>|</span><label class="collapse" for="c-41326496">[-]</label><label class="expand" for="c-41326496">[2 more]</label></div><br/><div class="children"><div class="content">You mean it doesn&#x27;t understand the change you&#x27;ve made based on the diff?</div><br/><div id="41326935" class="c"><input type="checkbox" id="c-41326935" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#41326185">root</a><span>|</span><a href="#41326496">parent</a><span>|</span><a href="#41326422">next</a><span>|</span><label class="collapse" for="c-41326935">[-]</label><label class="expand" for="c-41326935">[1 more]</label></div><br/><div class="children"><div class="content">Even under the most generous nomenclature, no contemporary LLM understands anything.<p>They approximate argmax(P_sub_theta(token|prefix)).<p>This approximation is sometimes useful. I’ve found it to never be useful in writing code or prose about code of any difficulty. That’s my personal anecdote, but one will note that OpenAI and Anthropic still employ a great many software engineers.</div><br/></div></div></div></div></div></div></div></div><div id="41326422" class="c"><input type="checkbox" id="c-41326422" checked=""/><div class="controls bullet"><span class="by">coding123</span><span>|</span><a href="#41326185">prev</a><span>|</span><label class="collapse" for="c-41326422">[-]</label><label class="expand" for="c-41326422">[1 more]</label></div><br/><div class="children"><div class="content">AI 1: This user is suspicious, lock account<p>User: Ahh, got locked out, contact support and wait<p>AI 2: The user is not suspicious, unlock account<p>User: Great, thank you<p>AI 1: This account is suspicious, lock account</div><br/></div></div></div></div></div></div></div></body></html>