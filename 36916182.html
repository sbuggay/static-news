<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690621243288" as="style"/><link rel="stylesheet" href="styles.css?v=1690621243288"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://lpython.org/blog/2023/07/lpython-novel-fast-retargetable-python-compiler/">LPython: Novel, Fast, Retargetable Python Compiler</a> <span class="domain">(<a href="https://lpython.org">lpython.org</a>)</span></div><div class="subtext"><span>fgfm</span> | <span>20 comments</span></div><br/><div><div id="36917629" class="c"><input type="checkbox" id="c-36917629" checked=""/><div class="controls bullet"><span class="by">rich_sasha</span><span>|</span><a href="#36916682">next</a><span>|</span><label class="collapse" for="c-36917629">[-]</label><label class="expand" for="c-36917629">[1 more]</label></div><br/><div class="children"><div class="content">Looks very interesting indeed.<p>Two questions come to my mind:<p>- presumably, since it is compiled, it does static checks on the code? How many statically-detectable bugs that are now purely triggered at runtime can be eliminated with LPython?<p>- does it deal with the unholy amounts of dynamism of Python? Can you call getattr, setattr on random objects? Does eval work? Etc. Quite a few Python packages use these at least once somewhere...</div><br/></div></div><div id="36916682" class="c"><input type="checkbox" id="c-36916682" checked=""/><div class="controls bullet"><span class="by">knighthack</span><span>|</span><a href="#36917629">prev</a><span>|</span><a href="#36917186">next</a><span>|</span><label class="collapse" for="c-36916682">[-]</label><label class="expand" for="c-36916682">[3 more]</label></div><br/><div class="children"><div class="content"><i>&quot;...The benchmarks support the claim that LPython is competitive with its competitors in all features it offers.  ... Our benchmarks show that it’s straightforward to write high-speed LPython code. We hope to raise expectations that LPython output will be in general at least as fast as the equivalent C++ code.&quot;</i><p>At least as fast as C++ is a bold claim, but this is an interestingly documented process. I&#x27;m keen.<p>I&#x27;m quite partial to Nuitka at this point, but I&#x27;m open to other Python compilers.</div><br/><div id="36917092" class="c"><input type="checkbox" id="c-36917092" checked=""/><div class="controls bullet"><span class="by">certik</span><span>|</span><a href="#36916682">parent</a><span>|</span><a href="#36917186">next</a><span>|</span><label class="collapse" for="c-36917092">[-]</label><label class="expand" for="c-36917092">[2 more]</label></div><br/><div class="children"><div class="content">We put this sentence there to drive the point home that LPython competes with C++, C and Fortran in terms of speed. The internals are shared with LFortran, and LFortran competes with all other Fortran compilers, that traditionally are often faster than C++ for numerical code. I&#x27;ve been using Python for over 20 years and it&#x27;s hard for me to imagine that writing Python could actually be faster than Clang&#x2F;C++, somehow I always think that Python is slow. Right now we are still alpha and sometimes we are slower than C++. Once we reach beta, if an equivalent C++ or Fortran code is faster than LPython, then it should be a bug to report.</div><br/><div id="36917403" class="c"><input type="checkbox" id="c-36917403" checked=""/><div class="controls bullet"><span class="by">chaxor</span><span>|</span><a href="#36916682">root</a><span>|</span><a href="#36917092">parent</a><span>|</span><a href="#36917186">next</a><span>|</span><label class="collapse" for="c-36917403">[-]</label><label class="expand" for="c-36917403">[1 more]</label></div><br/><div class="children"><div class="content">What happens when including numba or pytorch, etc in the scripts?  GPU acceleration in python is one really nice way of getting decent speed, but I would imagine it&#x27;s difficult to shuffle over when doing this type of compiling.  If the end compiled program allows for use of all available computational resources (some logic with python to determine what accelerations to allocate, what is available, etc) and then can compile to C++ speeds for CPU and use GPU where appropriate, this will be astoundingly good.</div><br/></div></div></div></div></div></div><div id="36917186" class="c"><input type="checkbox" id="c-36917186" checked=""/><div class="controls bullet"><span class="by">Reubend</span><span>|</span><a href="#36916682">prev</a><span>|</span><a href="#36918147">next</a><span>|</span><label class="collapse" for="c-36917186">[-]</label><label class="expand" for="c-36917186">[1 more]</label></div><br/><div class="children"><div class="content">Nitpick: The &quot;Documentation&quot; button on the header links to LFortran, not LPython.<p>With that said, I love the fact that this can generate executables, and I&#x27;m looking forward to trying it out in the future! Python compilers are really cool. I recently used Nuitka to build a standalone version of an app I wrote for my own use, so that I can run it on hosts that don&#x27;t have Python installed (or don&#x27;t have the right Python packages installed yet). This seems to be focused much more on speed.<p>One thing which I didn&#x27;t understand from the homepage: can I take vanilla Python code and AOT compile it with this?</div><br/></div></div><div id="36918147" class="c"><input type="checkbox" id="c-36918147" checked=""/><div class="controls bullet"><span class="by">catsarebetter</span><span>|</span><a href="#36917186">prev</a><span>|</span><a href="#36916858">next</a><span>|</span><label class="collapse" for="c-36918147">[-]</label><label class="expand" for="c-36918147">[3 more]</label></div><br/><div class="children"><div class="content">This is dope, I think the benchmarks of speed for python marks it way slower than C++, JS.<p>If this could be used in mainstream web dev with the level of speed detailed, python might eat Javascript&#x27;s lunch.<p>*bias - python obsessed</div><br/><div id="36918172" class="c"><input type="checkbox" id="c-36918172" checked=""/><div class="controls bullet"><span class="by">vorticalbox</span><span>|</span><a href="#36918147">parent</a><span>|</span><a href="#36916858">next</a><span>|</span><label class="collapse" for="c-36918172">[-]</label><label class="expand" for="c-36918172">[2 more]</label></div><br/><div class="children"><div class="content">Speed isn&#x27;t usually high on the list for web development, I create APIs for fintech and we use nestJS for the back end, and nest is definitely slower but you get a lot of benefits that make it completely worth it.<p>Auto swagger generation, validation pipes and so on.</div><br/><div id="36918271" class="c"><input type="checkbox" id="c-36918271" checked=""/><div class="controls bullet"><span class="by">catsarebetter</span><span>|</span><a href="#36918147">root</a><span>|</span><a href="#36918172">parent</a><span>|</span><a href="#36916858">next</a><span>|</span><label class="collapse" for="c-36918271">[-]</label><label class="expand" for="c-36918271">[1 more]</label></div><br/><div class="children"><div class="content">completely fair, fintech is a beast that requires a lot of blood sweat and tears</div><br/></div></div></div></div></div></div><div id="36916858" class="c"><input type="checkbox" id="c-36916858" checked=""/><div class="controls bullet"><span class="by">williamstein</span><span>|</span><a href="#36918147">prev</a><span>|</span><a href="#36916183">next</a><span>|</span><label class="collapse" for="c-36916858">[-]</label><label class="expand" for="c-36916858">[2 more]</label></div><br/><div class="children"><div class="content">I wish there were comparisons with Cython 3.0, which seems like it would be a competitor with the AOT part of what they are doing.  For some reason they don’t mention Cython at all.</div><br/><div id="36917026" class="c"><input type="checkbox" id="c-36917026" checked=""/><div class="controls bullet"><span class="by">certik</span><span>|</span><a href="#36916858">parent</a><span>|</span><a href="#36916183">next</a><span>|</span><label class="collapse" for="c-36917026">[-]</label><label class="expand" for="c-36917026">[1 more]</label></div><br/><div class="children"><div class="content">Hi William, nice to hear from you. We mention Cython at our front page (at the bottom): <a href="https:&#x2F;&#x2F;lpython.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;lpython.org&#x2F;</a>, together with the other 23 Python compilers that I know about (all of them are competitors, in a way). I am very familiar with Cython from about 10 years ago, but I have not followed the very latest developments. We can do a compilation time and runtime speed benchmarks against Cython in the next blog post. :)</div><br/></div></div></div></div><div id="36916183" class="c"><input type="checkbox" id="c-36916183" checked=""/><div class="controls bullet"><span class="by">fgfm</span><span>|</span><a href="#36916858">prev</a><span>|</span><a href="#36917176">next</a><span>|</span><label class="collapse" for="c-36916183">[-]</label><label class="expand" for="c-36916183">[2 more]</label></div><br/><div class="children"><div class="content">A new Python high-performance compiler that could compete with Mojo before it even releases.</div><br/><div id="36917068" class="c"><input type="checkbox" id="c-36917068" checked=""/><div class="controls bullet"><span class="by">eyegor</span><span>|</span><a href="#36916183">parent</a><span>|</span><a href="#36917176">next</a><span>|</span><label class="collapse" for="c-36917068">[-]</label><label class="expand" for="c-36917068">[1 more]</label></div><br/><div class="children"><div class="content">Mojo is vaporware for now, they still don&#x27;t support classes. There are many other issues, but good luck finding a meaningful size python codebase with zero classes.</div><br/></div></div></div></div><div id="36917176" class="c"><input type="checkbox" id="c-36917176" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#36916183">prev</a><span>|</span><a href="#36917783">next</a><span>|</span><label class="collapse" for="c-36917176">[-]</label><label class="expand" for="c-36917176">[3 more]</label></div><br/><div class="children"><div class="content">Being able to JIT individual Python functions is absolutely huge, this could make way for huge speedups in hot functions from existing large Python codebases.</div><br/><div id="36917398" class="c"><input type="checkbox" id="c-36917398" checked=""/><div class="controls bullet"><span class="by">KeplerBoy</span><span>|</span><a href="#36917176">parent</a><span>|</span><a href="#36917783">next</a><span>|</span><label class="collapse" for="c-36917398">[-]</label><label class="expand" for="c-36917398">[2 more]</label></div><br/><div class="children"><div class="content">that&#x27;s what Numba does.</div><br/><div id="36917469" class="c"><input type="checkbox" id="c-36917469" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#36917176">root</a><span>|</span><a href="#36917398">parent</a><span>|</span><a href="#36917783">next</a><span>|</span><label class="collapse" for="c-36917469">[-]</label><label class="expand" for="c-36917469">[1 more]</label></div><br/><div class="children"><div class="content">Numba seems specialized for NumPy. LPython seems to work with everything, almost similar to mypyc.</div><br/></div></div></div></div></div></div><div id="36917783" class="c"><input type="checkbox" id="c-36917783" checked=""/><div class="controls bullet"><span class="by">reil_convnet</span><span>|</span><a href="#36917176">prev</a><span>|</span><a href="#36917966">next</a><span>|</span><label class="collapse" for="c-36917783">[-]</label><label class="expand" for="c-36917783">[1 more]</label></div><br/><div class="children"><div class="content">Looks really cool. Build on windows fails for me, are there any downloadable prebuilt binaries to try lpython quickly ?</div><br/></div></div><div id="36917966" class="c"><input type="checkbox" id="c-36917966" checked=""/><div class="controls bullet"><span class="by">ljlolel</span><span>|</span><a href="#36917783">prev</a><span>|</span><a href="#36917266">next</a><span>|</span><label class="collapse" for="c-36917966">[-]</label><label class="expand" for="c-36917966">[1 more]</label></div><br/><div class="children"><div class="content">Looks like an open source project that hits all of the promises of Mojo except for targeting MLIR and fusion</div><br/></div></div><div id="36917266" class="c"><input type="checkbox" id="c-36917266" checked=""/><div class="controls bullet"><span class="by">akasakahakada</span><span>|</span><a href="#36917966">prev</a><span>|</span><label class="collapse" for="c-36917266">[-]</label><label class="expand" for="c-36917266">[2 more]</label></div><br/><div class="children"><div class="content">Always wonder how well are these compilers doing if I am already writing full on SIMD codes instead of crappy for loops?</div><br/><div id="36918131" class="c"><input type="checkbox" id="c-36918131" checked=""/><div class="controls bullet"><span class="by">xapata</span><span>|</span><a href="#36917266">parent</a><span>|</span><label class="collapse" for="c-36918131">[-]</label><label class="expand" for="c-36918131">[1 more]</label></div><br/><div class="children"><div class="content">Depends.  Does Numba help you?</div><br/></div></div></div></div></div></div></div></div></div></body></html>