<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1686906067921" as="style"/><link rel="stylesheet" href="styles.css?v=1686906067921"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/winfsp/winfsp">WinFsp · Windows File System Proxy</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>mariuz</span> | <span>20 comments</span></div><br/><div><div id="36353431" class="c"><input type="checkbox" id="c-36353431" checked=""/><div class="controls bullet"><span class="by">nickcw</span><span>|</span><a href="#36353529">next</a><span>|</span><label class="collapse" for="c-36353431">[-]</label><label class="expand" for="c-36353431">[1 more]</label></div><br/><div class="children"><div class="content">Rclone uses WinFSP on windows to mount cloud storage systems via the FUSE compatibility layer.<p>This enables one implementation of a FUSE filing system to work on lots of OSes.<p>Bill Zissimopoulos also wrote cgofuse which rclone uses to access the FUSE compatibility layer. It&#x27;s a FUSE library for Go. We use that on Windows and macOS (via macFUSE or fuse-T) too. It runs on Linux too but isn&#x27;t the default as it needs CGO (linking with C).<p>I&#x27;ve worked a lot with Bill and he knows more about Windows file systems and Windows internals than anyone I&#x27;ve ever met!</div><br/></div></div><div id="36353529" class="c"><input type="checkbox" id="c-36353529" checked=""/><div class="controls bullet"><span class="by">HeckFeck</span><span>|</span><a href="#36353431">prev</a><span>|</span><a href="#36353375">next</a><span>|</span><label class="collapse" for="c-36353529">[-]</label><label class="expand" for="c-36353529">[1 more]</label></div><br/><div class="children"><div class="content">Much as I am a *nix man through and through, I&#x27;m always impressed to see how Windows can be hacked through clever exploitation of its modularity.</div><br/></div></div><div id="36353375" class="c"><input type="checkbox" id="c-36353375" checked=""/><div class="controls bullet"><span class="by">veave</span><span>|</span><a href="#36353529">prev</a><span>|</span><a href="#36350007">next</a><span>|</span><label class="collapse" for="c-36353375">[-]</label><label class="expand" for="c-36353375">[1 more]</label></div><br/><div class="children"><div class="content">I use this along with <a href="https:&#x2F;&#x2F;github.com&#x2F;winfsp&#x2F;sshfs-win">https:&#x2F;&#x2F;github.com&#x2F;winfsp&#x2F;sshfs-win</a>, which allows me to mount ssh filesystems as windows network shares, and it&#x27;s awfully slow. So slow that when doing operations that involve opening several files (like using git) or even listing files (like Ctrl+P in vscode) you want to punch your screen. Anybody knows of an alternative?</div><br/></div></div><div id="36350007" class="c"><input type="checkbox" id="c-36350007" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#36353375">prev</a><span>|</span><a href="#36350153">next</a><span>|</span><label class="collapse" for="c-36350007">[-]</label><label class="expand" for="c-36350007">[5 more]</label></div><br/><div class="children"><div class="content">I wonder how this compares to Dokan.  Dokan doesn&#x27;t integrate into the Windows Cache Manager, and file performance is constrained vs reading something which was recently read.</div><br/><div id="36350037" class="c"><input type="checkbox" id="c-36350037" checked=""/><div class="controls bullet"><span class="by">jarym</span><span>|</span><a href="#36350007">parent</a><span>|</span><a href="#36350153">next</a><span>|</span><label class="collapse" for="c-36350037">[-]</label><label class="expand" for="c-36350037">[4 more]</label></div><br/><div class="children"><div class="content">I’d like to know this too - Dokan wasn’t the most stable when I used it years ago (maybe it’s improved since then), would love to know how this is different</div><br/><div id="36350094" class="c"><input type="checkbox" id="c-36350094" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#36350007">root</a><span>|</span><a href="#36350037">parent</a><span>|</span><a href="#36350153">next</a><span>|</span><label class="collapse" for="c-36350094">[-]</label><label class="expand" for="c-36350094">[3 more]</label></div><br/><div class="children"><div class="content">I tried out Dokan a couple years ago, and it seemed decently stable, just underperforming.  There was a big fix that tremendously increased performance and also fixed a race condition around that time.<p>On a completely different note, there&#x27;s also &quot;Windows Projected File System&quot;, which sounds a lot like a user-mode file system, but it&#x27;s not.  It requires that files be backed by real files on your disk.</div><br/><div id="36350193" class="c"><input type="checkbox" id="c-36350193" checked=""/><div class="controls bullet"><span class="by">themerone</span><span>|</span><a href="#36350007">root</a><span>|</span><a href="#36350094">parent</a><span>|</span><a href="#36350139">next</a><span>|</span><label class="collapse" for="c-36350193">[-]</label><label class="expand" for="c-36350193">[1 more]</label></div><br/><div class="children"><div class="content">By my reading of the docs, Windows Projected File System (ProjFS) only requires reliability and performance characteristics comparable to a local filesystem.<p>I think it would work if your data is in memory or backed by a 10G+ lan.</div><br/></div></div><div id="36350139" class="c"><input type="checkbox" id="c-36350139" checked=""/><div class="controls bullet"><span class="by">accoil</span><span>|</span><a href="#36350007">root</a><span>|</span><a href="#36350094">parent</a><span>|</span><a href="#36350193">prev</a><span>|</span><a href="#36350153">next</a><span>|</span><label class="collapse" for="c-36350139">[-]</label><label class="expand" for="c-36350139">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that was a surprise to me when I toyed with Windows Projected File System. Turned off the program, and all my &quot;pretend&quot; files were still there.</div><br/></div></div></div></div></div></div></div></div><div id="36350153" class="c"><input type="checkbox" id="c-36350153" checked=""/><div class="controls bullet"><span class="by">MuffinFlavored</span><span>|</span><a href="#36350007">prev</a><span>|</span><a href="#36350502">next</a><span>|</span><label class="collapse" for="c-36350153">[-]</label><label class="expand" for="c-36350153">[6 more]</label></div><br/><div class="children"><div class="content">This is super cool.<p>Why would somebody need to use this instead of like, smb or however normal Windows machines on the same network share drives&#x2F;files&#x2F;folders (even with other Mac machines on the network, or Linux, etc.)?</div><br/><div id="36350209" class="c"><input type="checkbox" id="c-36350209" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#36350153">parent</a><span>|</span><a href="#36350551">next</a><span>|</span><label class="collapse" for="c-36350209">[-]</label><label class="expand" for="c-36350209">[1 more]</label></div><br/><div class="children"><div class="content">This isn&#x27;t for network shares, this is for reading&#x2F;writing programmatically generated files.  The possibilities are endless.<p>For example, you could make a &quot;filesystem&quot; where everything inside looks like an uncompressed BMP file, but the actual files backing them are some other image format.  Then ancient software would be able to use the newest image formats.</div><br/></div></div><div id="36350551" class="c"><input type="checkbox" id="c-36350551" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#36350153">parent</a><span>|</span><a href="#36350209">prev</a><span>|</span><a href="#36352067">next</a><span>|</span><label class="collapse" for="c-36350551">[-]</label><label class="expand" for="c-36350551">[1 more]</label></div><br/><div class="children"><div class="content">This is for exposing other data as a virtual file system.  Let&#x27;s say you want to expose the Git versions as folders and files.  You need this to write the file system layer on top of Git.</div><br/></div></div><div id="36352067" class="c"><input type="checkbox" id="c-36352067" checked=""/><div class="controls bullet"><span class="by">tharos47</span><span>|</span><a href="#36350153">parent</a><span>|</span><a href="#36350551">prev</a><span>|</span><a href="#36350233">next</a><span>|</span><label class="collapse" for="c-36352067">[-]</label><label class="expand" for="c-36352067">[1 more]</label></div><br/><div class="children"><div class="content">Personally I use it with rclone to browse cloud file shares (S3, onedrive,...) as folders&#x2F;files with windows explorer. You could also use something like this to trick ancient software and make it work across a variety of network protocols&#x2F;file shares types even if it was designed or is limited to only local filesystem.</div><br/></div></div><div id="36350233" class="c"><input type="checkbox" id="c-36350233" checked=""/><div class="controls bullet"><span class="by">themerone</span><span>|</span><a href="#36350153">parent</a><span>|</span><a href="#36352067">prev</a><span>|</span><a href="#36350502">next</a><span>|</span><label class="collapse" for="c-36350233">[-]</label><label class="expand" for="c-36350233">[2 more]</label></div><br/><div class="children"><div class="content">That is a reasonable approach, one of the 2 MacOS fuse implementations uses NFS.<p>I&#x27;ve never written an SMB server, but I assume it is a lot more complicated than using WinFsp or Fuse.<p>WSL 2 uses the 9P network filesystem to share files between Linux &amp; Windows.  Supposedly this is a simple protocol to implement.  I&#x27;ve searched, but can&#x27;t find any documentation on using 9P without WSL.</div><br/><div id="36350332" class="c"><input type="checkbox" id="c-36350332" checked=""/><div class="controls bullet"><span class="by">hrunt</span><span>|</span><a href="#36350153">root</a><span>|</span><a href="#36350233">parent</a><span>|</span><a href="#36350502">next</a><span>|</span><label class="collapse" for="c-36350332">[-]</label><label class="expand" for="c-36350332">[1 more]</label></div><br/><div class="children"><div class="content">Cryptomator suggests WinFSP for its Windows installation, MacFUSE for Intel Macs, and FUSE-T (the NFS FUSE implementation) for Apple silicon Macs. I&#x27;ve used all of them, and I&#x27;ve also used Dokan with encfs.<p>Both OSes treat network filesystems differently from local disks. The FUSE-T implementation is very speedy, but it shows up in the finder as a connection to &quot;localhost&quot;, not as a properly named mount. In addition, macOS creates .DS_Store files on network drives by default (there is a setting you can change from the CLI to prevent this). On Windows, the filesystems can be mounted as local drives or network drives. When mounted as network drives, they can have issues with indexing and trust. All-in-all, drives you expect to function as local drives work best when they&#x27;re actually local device filesystems and not network mounts.</div><br/></div></div></div></div></div></div><div id="36350502" class="c"><input type="checkbox" id="c-36350502" checked=""/><div class="controls bullet"><span class="by">nashashmi</span><span>|</span><a href="#36350153">prev</a><span>|</span><a href="#36350106">next</a><span>|</span><label class="collapse" for="c-36350502">[-]</label><label class="expand" for="c-36350502">[1 more]</label></div><br/><div class="children"><div class="content">Database Table  in filesystem format!</div><br/></div></div><div id="36350106" class="c"><input type="checkbox" id="c-36350106" checked=""/><div class="controls bullet"><span class="by">ehPReth</span><span>|</span><a href="#36350502">prev</a><span>|</span><a href="#36350719">next</a><span>|</span><label class="collapse" for="c-36350106">[-]</label><label class="expand" for="c-36350106">[1 more]</label></div><br/><div class="children"><div class="content">rclone uses this! it’s great!</div><br/></div></div><div id="36350719" class="c"><input type="checkbox" id="c-36350719" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#36350106">prev</a><span>|</span><label class="collapse" for="c-36350719">[-]</label><label class="expand" for="c-36350719">[3 more]</label></div><br/><div class="children"><div class="content">Does this mean we&#x27;ll get a good ext2{3,4} driver for Windows?</div><br/><div id="36352823" class="c"><input type="checkbox" id="c-36352823" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#36350719">parent</a><span>|</span><a href="#36352410">next</a><span>|</span><label class="collapse" for="c-36352823">[-]</label><label class="expand" for="c-36352823">[1 more]</label></div><br/><div class="children"><div class="content">Ext2ifs is ancient software.</div><br/></div></div><div id="36352410" class="c"><input type="checkbox" id="c-36352410" checked=""/><div class="controls bullet"><span class="by">_ZeD_</span><span>|</span><a href="#36350719">parent</a><span>|</span><a href="#36352823">prev</a><span>|</span><label class="collapse" for="c-36352410">[-]</label><label class="expand" for="c-36352410">[1 more]</label></div><br/><div class="children"><div class="content">yeah, I was wondering it too</div><br/></div></div></div></div></div></div></div></div></div></body></html>