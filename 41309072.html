<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724317256078" as="style"/><link rel="stylesheet" href="styles.css?v=1724317256078"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://lucumr.pocoo.org/2024/8/21/harvest-season/">Rye and Uv: August Is Harvest Season for Python Packaging</a> <span class="domain">(<a href="https://lucumr.pocoo.org">lucumr.pocoo.org</a>)</span></div><div class="subtext"><span>keybits</span> | <span>105 comments</span></div><br/><div><div id="41309117" class="c"><input type="checkbox" id="c-41309117" checked=""/><div class="controls bullet"><span class="by">keybits</span><span>|</span><a href="#41318150">next</a><span>|</span><label class="collapse" for="c-41309117">[-]</label><label class="expand" for="c-41309117">[1 more]</label></div><br/><div class="children"><div class="content">Uv&#x27;s latest release was discussed yesterday: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41302475">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41302475</a><p>The linked post is the author of Rye&#x27;s take on that.</div><br/></div></div><div id="41318150" class="c"><input type="checkbox" id="c-41318150" checked=""/><div class="controls bullet"><span class="by">BerislavLopac</span><span>|</span><a href="#41309117">prev</a><span>|</span><a href="#41318036">next</a><span>|</span><label class="collapse" for="c-41318150">[-]</label><label class="expand" for="c-41318150">[1 more]</label></div><br/><div class="children"><div class="content">Just a reminder of the article that should be mandatory reading for anyone interested in Python packaging tools: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40045318">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40045318</a></div><br/></div></div><div id="41318036" class="c"><input type="checkbox" id="c-41318036" checked=""/><div class="controls bullet"><span class="by">objectified</span><span>|</span><a href="#41318150">prev</a><span>|</span><a href="#41314853">next</a><span>|</span><label class="collapse" for="c-41318036">[-]</label><label class="expand" for="c-41318036">[4 more]</label></div><br/><div class="children"><div class="content">At first I was excited to see that a new tool would solve the Python &quot;packaging&quot; problem. But upon further reading, I realized that this was about _package management_, not so much about packaging a Python application that I&#x27;ve built.<p>Personally I haven&#x27;t had many problems with package management in Python. While the ecosystem has some shortcomings (no namespaces!), pip generally works just fine for me.<p>What really annoys me about Python, is the fact that I cannot easily wrap my application in an executable and ship it somewhere. More often than not, I see git clones and virtualenv creation being done in production, often requiring more connectivity than needed on the target server, and dev dependencies being present on the OS. All in all, that&#x27;s a horrible idea from a security viewpoint. Until that problem is fixed, I&#x27;ll prefer different languages for anything that requires some sort of end user&#x2F;production deployment.</div><br/><div id="41318075" class="c"><input type="checkbox" id="c-41318075" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#41318036">parent</a><span>|</span><a href="#41314853">next</a><span>|</span><label class="collapse" for="c-41318075">[-]</label><label class="expand" for="c-41318075">[3 more]</label></div><br/><div class="children"><div class="content">&gt; What really annoys me about Python, is the fact that I cannot easily wrap my application in an executable and ship it somewhere.<p>You are not wrong, but let&#x27;s unpack this.  What you&#x27;re saying is that there is a need to make it easy for another person to run your application.  What is needed for that?  Well you need a way for the application to make its way to the user and to find some Python there and for that process to be transparent to the user.<p>That&#x27;s one of the reasons why I wanted Rye (and uv does the same) to be able to install Python and not in a way where it fucks up your system in the process.<p>The evolved version of this is to make the whole thing including uv be a thing you can do automatically.  You can even today already (if you want to go nuts) have a fully curl to bash installer that installs uv&#x2F;rye and your app into a temporary location just for your app and never break your user&#x27;s system.<p>It would be nice to eventually make that process entire transparent and not require network access, to come with a .msi for windows etc.  However the per-requisite for this is that a tool like uv can arbitrarily place a pre-compiled Python and all the dependencies that you need at the right location for the platform of your user.<p>The cherry on the top that uv could deliver at one point is that fully packaged thing and it will be very nice.  But even prior to this, building a command line tool with Python today will no longer be an awful experience for your users which I think is a good first step.  Either via uvx or if you want you can hide uv entirely away.</div><br/><div id="41318104" class="c"><input type="checkbox" id="c-41318104" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#41318036">root</a><span>|</span><a href="#41318075">parent</a><span>|</span><a href="#41314853">next</a><span>|</span><label class="collapse" for="c-41318104">[-]</label><label class="expand" for="c-41318104">[2 more]</label></div><br/><div class="children"><div class="content">To put a finer point on this idea, even if one could be against even this idea of an “installation flow”, work done to improve uv or rye would also likely flow into alternative strategies.<p>The more we invest into all of this and get it right in at least one way, the easier it will be for alternatives (like pyoxidizer!) to also “just work”. At least that’s my belief.<p>There are tactical reasons to focus on one strategy, and even if it’s not your favorite… everything being compatible with _something_ is good!</div><br/><div id="41318142" class="c"><input type="checkbox" id="c-41318142" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#41318036">root</a><span>|</span><a href="#41318104">parent</a><span>|</span><a href="#41314853">next</a><span>|</span><label class="collapse" for="c-41318142">[-]</label><label class="expand" for="c-41318142">[1 more]</label></div><br/><div class="children"><div class="content">Exactly.  And in this particular case pyoxidizer and the work that went into it originally in many ways gave birth to parts of it.  The python standalone builds were what made me publish Rye because there was something out there that had traction and a dedicated person to make it work.<p>Prior to it, i had my own version of Rye for myself but I only had Python builds that I made for myself and computers I had.  Critical mass is important and all these projects can feed into each other.<p>Before Rye, uv, and pyoxidizer there was little community demand for the standalone python builds or the concept behind it.  That has dramatically changed in the last 24 months and I have seen even commercial companies switch over to these builds.  This is important progress and it _will_ greatly help making self contained and redistributable Python programs a reality.</div><br/></div></div></div></div></div></div></div></div><div id="41314853" class="c"><input type="checkbox" id="c-41314853" checked=""/><div class="controls bullet"><span class="by">bkor</span><span>|</span><a href="#41318036">prev</a><span>|</span><a href="#41315475">next</a><span>|</span><label class="collapse" for="c-41314853">[-]</label><label class="expand" for="c-41314853">[6 more]</label></div><br/><div class="children"><div class="content">For those interested in uv (instead of pip), uv massively sped up the release process for Home Assistant. The time needed to make a release went down from ~2.5 hours to ~20 minutes. See <a href="https:&#x2F;&#x2F;developers.home-assistant.io&#x2F;blog&#x2F;2024&#x2F;04&#x2F;03&#x2F;build-images-with-uv&#x2F;" rel="nofollow">https:&#x2F;&#x2F;developers.home-assistant.io&#x2F;blog&#x2F;2024&#x2F;04&#x2F;03&#x2F;build-i...</a> for details. I&#x27;m just a HA user btw.</div><br/><div id="41315410" class="c"><input type="checkbox" id="c-41315410" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#41314853">parent</a><span>|</span><a href="#41315475">next</a><span>|</span><label class="collapse" for="c-41315410">[-]</label><label class="expand" for="c-41315410">[5 more]</label></div><br/><div class="children"><div class="content">How the hell was pip taking over an hour to produce an image for a non-compiler language?<p>I’m only a casual Python user. But wtf was it doing and why did it take so long? That’s bonkers.</div><br/><div id="41315511" class="c"><input type="checkbox" id="c-41315511" checked=""/><div class="controls bullet"><span class="by">cqqxo4zV46cp</span><span>|</span><a href="#41314853">root</a><span>|</span><a href="#41315410">parent</a><span>|</span><a href="#41315475">next</a><span>|</span><label class="collapse" for="c-41315511">[-]</label><label class="expand" for="c-41315511">[4 more]</label></div><br/><div class="children"><div class="content">Python is slow compared to Rust, obviously. Beyond that, pip is at this point carrying a bunch of legacy decisions because the ludicrously large number of hard left turns the Python packaging ecosystem has taken over the last 20 years.<p>Home Assistant is an absolute behemoth of a project, especially with regard to dependencies. Dependency resolution across a project of that size is nuts. There are probably few currently projects that’d see as big an improvement aa HA.</div><br/><div id="41316361" class="c"><input type="checkbox" id="c-41316361" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#41314853">root</a><span>|</span><a href="#41315511">parent</a><span>|</span><a href="#41315475">next</a><span>|</span><label class="collapse" for="c-41316361">[-]</label><label class="expand" for="c-41316361">[3 more]</label></div><br/><div class="children"><div class="content">Any specifics on what those legacy decisions are? I&#x27;m just curious. Have no idea. I&#x27;m a very casual Python user.</div><br/><div id="41317453" class="c"><input type="checkbox" id="c-41317453" checked=""/><div class="controls bullet"><span class="by">mkesper</span><span>|</span><a href="#41314853">root</a><span>|</span><a href="#41316361">parent</a><span>|</span><a href="#41315475">next</a><span>|</span><label class="collapse" for="c-41317453">[-]</label><label class="expand" for="c-41317453">[2 more]</label></div><br/><div class="children"><div class="content">If no hard versions are given, but only e.g. &lt;= 2.1, pip will download EVERY SINGLE VERSION until 2.1 to look for metadata. That easily can take hours if it happens multiple times.</div><br/><div id="41318089" class="c"><input type="checkbox" id="c-41318089" checked=""/><div class="controls bullet"><span class="by">bazzargh</span><span>|</span><a href="#41314853">root</a><span>|</span><a href="#41317453">parent</a><span>|</span><a href="#41315475">next</a><span>|</span><label class="collapse" for="c-41318089">[-]</label><label class="expand" for="c-41318089">[1 more]</label></div><br/><div class="children"><div class="content">When testing previous versions of uv, I saw it do that too. But uv uses other tricks to speed things up: it downloads in parallel, it takes advantage of PEP-658 metadata (which doesn&#x27;t need to download the package) and if that metadata is missing it will next try byte range requests to grab just the metadata of the wheel, and so on. pip was learning some of these tricks in recent releases too.<p>One problem we have is that support for any repository features beyond PEP-503 (the &#x27;simple&#x27; html index) is limited or entirely missing in every repo implementation except warehouse - the software that powers pypi. So if you use artifactory, AWS codeartifact, sonatype nexus, etc, because you are running an internal repository, PEP-658 &amp; PEP-691 support will be missing, and uv runs slower; you may not even have accept-ranges support. (and if you want dependabot, you need to have your repository implement parts of the &#x27;warehouse json api&#x27; - <a href="https:&#x2F;&#x2F;warehouse.pypa.io&#x2F;api-reference&#x2F;json.html" rel="nofollow">https:&#x2F;&#x2F;warehouse.pypa.io&#x2F;api-reference&#x2F;json.html</a> - for it to understand your internal packages)<p>I&#x27;ve been playing with <a href="https:&#x2F;&#x2F;github.com&#x2F;simple-repository&#x2F;simple-repository-server">https:&#x2F;&#x2F;github.com&#x2F;simple-repository&#x2F;simple-repository-serve...</a> as a proxy to try to fix our internal servers to suck less; it&#x27;s very small codebase and easy to change. Its internal caching implementation isn&#x27;t great so I wrapped nginx round it too, using cache agressively and use stale-while-revalidate to reduce round trips, it made our artifactory less painful to use, even with pip.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="41315475" class="c"><input type="checkbox" id="c-41315475" checked=""/><div class="controls bullet"><span class="by">the__alchemist</span><span>|</span><a href="#41314853">prev</a><span>|</span><a href="#41313715">next</a><span>|</span><label class="collapse" for="c-41315475">[-]</label><label class="expand" for="c-41315475">[3 more]</label></div><br/><div class="children"><div class="content">The churn is interesting. In 2019, I made a python version-manager and dependency manager written in rust. I gave up after it seemed like no one wanted to use it. Everyone not satisfied with Pip was on Poetry or Pipenv; I made the one I did because they both had user-interface problems; of the sort I would run into immediately. (I believe Poetry would default to Python 2, and not give you a choice by default, or something to that effect). Now there is a new batch.<p>The biggest challenge was dealing with older pacakges that used non-standard packaging and ran arbitrary code; generally ones that didn&#x27;t have wheels.<p>From the article:<p>&gt; As of the most recent release, uv also gained a lot of functionality that previously required Rye such as manipulating pyproject.toml files, workspace support, local package references and script installation. It now also can manage Python installations for you so it&#x27;s getting much closer.<p>These are all things that dead project I wrote could do.</div><br/><div id="41317718" class="c"><input type="checkbox" id="c-41317718" checked=""/><div class="controls bullet"><span class="by">toyg</span><span>|</span><a href="#41315475">parent</a><span>|</span><a href="#41317728">next</a><span>|</span><label class="collapse" for="c-41317718">[-]</label><label class="expand" for="c-41317718">[1 more]</label></div><br/><div class="children"><div class="content">The harsh reality is that this sort of tooling requires a lot of publicity to be successful. Nobody is going to try an unknown package manager from some random developer, but people will enthusiastically adopt anything pushed by a &quot;famous&quot; developer like Ronacher.</div><br/></div></div><div id="41317728" class="c"><input type="checkbox" id="c-41317728" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#41315475">parent</a><span>|</span><a href="#41317718">prev</a><span>|</span><a href="#41313715">next</a><span>|</span><label class="collapse" for="c-41317728">[-]</label><label class="expand" for="c-41317728">[1 more]</label></div><br/><div class="children"><div class="content">Not all good things gain traction. It definitely helped that Armin is well-known in the Python community. Where did you advertise your new tool?</div><br/></div></div></div></div><div id="41313715" class="c"><input type="checkbox" id="c-41313715" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#41315475">prev</a><span>|</span><a href="#41313594">next</a><span>|</span><label class="collapse" for="c-41313715">[-]</label><label class="expand" for="c-41313715">[33 more]</label></div><br/><div class="children"><div class="content">I know python packaging has it&#x27;s issues, but so far I personally have gotten pretty far with plain pip. The biggest shift to me was switching from original virtualenv to built-in venv module. On the other hand, if I wanted to be really serious about dependency management, I&#x27;d steal a page from FAANG, and build a monorepo and avoid all this hassle with package managers.</div><br/><div id="41315023" class="c"><input type="checkbox" id="c-41315023" checked=""/><div class="controls bullet"><span class="by">colemannerd</span><span>|</span><a href="#41313715">parent</a><span>|</span><a href="#41313820">next</a><span>|</span><label class="collapse" for="c-41315023">[-]</label><label class="expand" for="c-41315023">[6 more]</label></div><br/><div class="children"><div class="content">I would really encourage you to think more on this.  Good enough for you... is not really the goal. We want standard tools that help with packages and virtual environments that can scale to an organization of 2 python devs... all the way up to hundreds or thousands of devs. Otherwise, it fragments the ecosystem and encourages bugs and difficult documentation that prevents the language from continuing to evolve effectively.</div><br/><div id="41316481" class="c"><input type="checkbox" id="c-41316481" checked=""/><div class="controls bullet"><span class="by">eigenman</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41315023">parent</a><span>|</span><a href="#41317401">next</a><span>|</span><label class="collapse" for="c-41316481">[-]</label><label class="expand" for="c-41316481">[1 more]</label></div><br/><div class="children"><div class="content">It would be great if that tool existed, but it doesn’t seem to right now. I can appreciate the instinct to improve packaging, but from an occasional Python developer’s perspective things are getting worse. I published a few packages before the pandemic that had compiled extensions. I tried to do the same at my new job and got so lost in the new tools, I eventually just gave up.<p>One of Python’s great strengths is the belief there should be one, obvious right way to things. This lack of unity in the packing environment is ruining my zen.</div><br/></div></div><div id="41317401" class="c"><input type="checkbox" id="c-41317401" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41315023">parent</a><span>|</span><a href="#41316481">prev</a><span>|</span><a href="#41315214">next</a><span>|</span><label class="collapse" for="c-41317401">[-]</label><label class="expand" for="c-41317401">[1 more]</label></div><br/><div class="children"><div class="content">From ecosystem point of view I think all language specific package managers are crap. Instead of fragmenting the wider ecosystem on language boundaries, we should be looking more for language independent solutions. Nix is cool, as are buck2&#x2F;bazel.</div><br/></div></div><div id="41315214" class="c"><input type="checkbox" id="c-41315214" checked=""/><div class="controls bullet"><span class="by">TheCleric</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41315023">parent</a><span>|</span><a href="#41317401">prev</a><span>|</span><a href="#41313820">next</a><span>|</span><label class="collapse" for="c-41315214">[-]</label><label class="expand" for="c-41315214">[3 more]</label></div><br/><div class="children"><div class="content">Normally I’d agree with you, but they’re talking about the built in tooling. That isn’t going away anytime soon. If it’s good enough for their purposes they should continue using it, especially with no clear consensus on a “better way”.</div><br/><div id="41315515" class="c"><input type="checkbox" id="c-41315515" checked=""/><div class="controls bullet"><span class="by">cqqxo4zV46cp</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41315214">parent</a><span>|</span><a href="#41313820">next</a><span>|</span><label class="collapse" for="c-41315515">[-]</label><label class="expand" for="c-41315515">[2 more]</label></div><br/><div class="children"><div class="content">Nobody is saying that they shouldn’t continue using it?</div><br/><div id="41315604" class="c"><input type="checkbox" id="c-41315604" checked=""/><div class="controls bullet"><span class="by">TheCleric</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41315515">parent</a><span>|</span><a href="#41313820">next</a><span>|</span><label class="collapse" for="c-41315604">[-]</label><label class="expand" for="c-41315604">[1 more]</label></div><br/><div class="children"><div class="content">Maybe I’m reading it wrong but that was the impression I was getting from that comment. I’m happy if I’m incorrect though.</div><br/></div></div></div></div></div></div></div></div><div id="41313820" class="c"><input type="checkbox" id="c-41313820" checked=""/><div class="controls bullet"><span class="by">drawnwren</span><span>|</span><a href="#41313715">parent</a><span>|</span><a href="#41315023">prev</a><span>|</span><a href="#41316840">next</a><span>|</span><label class="collapse" for="c-41313820">[-]</label><label class="expand" for="c-41313820">[23 more]</label></div><br/><div class="children"><div class="content">I would really encourage you to try your hand at at a monorepo. I manage a python monorepo in prod and dependency management is hell. Poetry has some newer features that I am looking at trying to implement, but the state of the ecosystem wrt big monorepos is horrible.</div><br/><div id="41317912" class="c"><input type="checkbox" id="c-41317912" checked=""/><div class="controls bullet"><span class="by">carderne</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41313820">parent</a><span>|</span><a href="#41317172">next</a><span>|</span><label class="collapse" for="c-41317912">[-]</label><label class="expand" for="c-41317912">[1 more]</label></div><br/><div class="children"><div class="content">I’ve been working on a thing [1] to make monorepo (“workspace”)  builds easier, works well with Rye&#x2F;uv. Doesn’t do anything during dev, just removes the need for hacks and scripts at build-time.<p>Would be curious if anyone thinks this is a useful direction, ultimately hope uv&#x2F;hatch include something like this.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;carderne&#x2F;una">https:&#x2F;&#x2F;github.com&#x2F;carderne&#x2F;una</a></div><br/></div></div><div id="41317172" class="c"><input type="checkbox" id="c-41317172" checked=""/><div class="controls bullet"><span class="by">0x008</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41313820">parent</a><span>|</span><a href="#41317912">prev</a><span>|</span><a href="#41314284">next</a><span>|</span><label class="collapse" for="c-41317172">[-]</label><label class="expand" for="c-41317172">[2 more]</label></div><br/><div class="children"><div class="content">Poetry support for mono repos is really horrible and all the maintainers are saying is „it’s a tool indented to publish packages, not manage your dev environment“.</div><br/><div id="41317585" class="c"><input type="checkbox" id="c-41317585" checked=""/><div class="controls bullet"><span class="by">Narushia</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41317172">parent</a><span>|</span><a href="#41314284">next</a><span>|</span><label class="collapse" for="c-41317585">[-]</label><label class="expand" for="c-41317585">[1 more]</label></div><br/><div class="children"><div class="content">Poetry has a non-package mode, though…</div><br/></div></div></div></div><div id="41314284" class="c"><input type="checkbox" id="c-41314284" checked=""/><div class="controls bullet"><span class="by">akdor1154</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41313820">parent</a><span>|</span><a href="#41317172">prev</a><span>|</span><a href="#41317383">next</a><span>|</span><label class="collapse" for="c-41314284">[-]</label><label class="expand" for="c-41314284">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m in a similar boat - uv&#x27;s workspaces look tantalising.</div><br/></div></div><div id="41317383" class="c"><input type="checkbox" id="c-41317383" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41313820">parent</a><span>|</span><a href="#41314284">prev</a><span>|</span><a href="#41314730">next</a><span>|</span><label class="collapse" for="c-41317383">[-]</label><label class="expand" for="c-41317383">[1 more]</label></div><br/><div class="children"><div class="content">Are you managing your deps in the monorepo too, or do you have some sort of half-mono setup?</div><br/></div></div><div id="41314730" class="c"><input type="checkbox" id="c-41314730" checked=""/><div class="controls bullet"><span class="by">kapilvt</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41313820">parent</a><span>|</span><a href="#41317383">prev</a><span>|</span><a href="#41316560">next</a><span>|</span><label class="collapse" for="c-41314730">[-]</label><label class="expand" for="c-41314730">[1 more]</label></div><br/><div class="children"><div class="content">yeah. its not great, we had to build out a poetry plugin that worked for our cases to support a mono repo, <a href="https:&#x2F;&#x2F;github.com&#x2F;cloud-custodian&#x2F;poetry-plugin-freeze?tab=readme-ov-file#mono-repo-support">https:&#x2F;&#x2F;github.com&#x2F;cloud-custodian&#x2F;poetry-plugin-freeze?tab=...</a><p>the uv support on workspaces (virtual and concrete) has me intrigued.</div><br/></div></div><div id="41316560" class="c"><input type="checkbox" id="c-41316560" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41313820">parent</a><span>|</span><a href="#41314730">prev</a><span>|</span><a href="#41314008">next</a><span>|</span><label class="collapse" for="c-41316560">[-]</label><label class="expand" for="c-41316560">[5 more]</label></div><br/><div class="children"><div class="content">&gt; I manage a python monorepo in prod and dependency management is hell.<p>Why does it work for FAANG but not for you?</div><br/><div id="41316771" class="c"><input type="checkbox" id="c-41316771" checked=""/><div class="controls bullet"><span class="by">tadfisher</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41316560">parent</a><span>|</span><a href="#41316847">next</a><span>|</span><label class="collapse" for="c-41316771">[-]</label><label class="expand" for="c-41316771">[3 more]</label></div><br/><div class="children"><div class="content">FAANGs vendor everything so there&#x27;s only one version of a given dependency, and they pay people to make this work.</div><br/><div id="41317363" class="c"><input type="checkbox" id="c-41317363" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41316771">parent</a><span>|</span><a href="#41317298">next</a><span>|</span><label class="collapse" for="c-41317363">[-]</label><label class="expand" for="c-41317363">[1 more]</label></div><br/><div class="children"><div class="content">Bingo, this is what I was referring to in my comment. And yes, I assume it is quite a lot of labor. But I feel that lot of this perceived friction is from people trying to cut corners and avoid doing that labor, while still getting the benefits.</div><br/></div></div><div id="41317298" class="c"><input type="checkbox" id="c-41317298" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41316771">parent</a><span>|</span><a href="#41317363">prev</a><span>|</span><a href="#41316847">next</a><span>|</span><label class="collapse" for="c-41317298">[-]</label><label class="expand" for="c-41317298">[1 more]</label></div><br/><div class="children"><div class="content">Why does that work for FAANG but not for drawnwren? How difficult is it to support “one version of a given dependency”?</div><br/></div></div></div></div><div id="41316847" class="c"><input type="checkbox" id="c-41316847" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41316560">parent</a><span>|</span><a href="#41316771">prev</a><span>|</span><a href="#41314008">next</a><span>|</span><label class="collapse" for="c-41316847">[-]</label><label class="expand" for="c-41316847">[1 more]</label></div><br/><div class="children"><div class="content">FAANG might have more revenue per line of code</div><br/></div></div></div></div></div></div><div id="41316840" class="c"><input type="checkbox" id="c-41316840" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#41313715">parent</a><span>|</span><a href="#41313820">prev</a><span>|</span><a href="#41316724">next</a><span>|</span><label class="collapse" for="c-41316840">[-]</label><label class="expand" for="c-41316840">[2 more]</label></div><br/><div class="children"><div class="content">As long as you don’t care about Python versions I too find pip + venv sufficient.<p>But there is no way for you to define which Python version your project is built against.<p>If you’re building a package you probably need to test against multiple versions. If you are building a “project” that isn’t an installable, distributed package but a bunch of code that is shared with a few developers and does something (run a machine learning model, push itself to a cloud function, generate a report) you probably want to target 1 and only 1 Python version.<p>As for the mono repo approach are you suggesting to copy paste numpy and pandas into the repo?</div><br/><div id="41317379" class="c"><input type="checkbox" id="c-41317379" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41313715">root</a><span>|</span><a href="#41316840">parent</a><span>|</span><a href="#41316724">next</a><span>|</span><label class="collapse" for="c-41317379">[-]</label><label class="expand" for="c-41317379">[1 more]</label></div><br/><div class="children"><div class="content">What you mean by &quot;project&quot; is a service. A service includes the Python interpreter. Choosing and provisioning the interpreter seems out of scope for pip or any other Python-specific tooling IMO. What if your service needs another interpreter like Ruby, or a database, message broker etc? Your Python tool won&#x27;t help with that. This is what docker, and higher-level orchestrators like docker compose and kubernetes, and pyinstaller are for.</div><br/></div></div></div></div><div id="41316724" class="c"><input type="checkbox" id="c-41316724" checked=""/><div class="controls bullet"><span class="by">rolisz</span><span>|</span><a href="#41313715">parent</a><span>|</span><a href="#41316840">prev</a><span>|</span><a href="#41313594">next</a><span>|</span><label class="collapse" for="c-41316724">[-]</label><label class="expand" for="c-41316724">[1 more]</label></div><br/><div class="children"><div class="content">That has been entirely my experience too: pip is good enough for me.</div><br/></div></div></div></div><div id="41313594" class="c"><input type="checkbox" id="c-41313594" checked=""/><div class="controls bullet"><span class="by">lmeyerov</span><span>|</span><a href="#41313715">prev</a><span>|</span><a href="#41317962">next</a><span>|</span><label class="collapse" for="c-41313594">[-]</label><label class="expand" for="c-41313594">[12 more]</label></div><br/><div class="children"><div class="content">After the whole npm VC rugpull + Microsoft acquisition, and OpenAI showing legal non-profit status is toothless marketing to VC-path-entangled leaders, I&#x27;m reluctant to cede critical path language infra to these kinds of organizations. Individual contributors to these are individually great (and often exceptional!), but financial alignment at the organizational level is corrupted out of the gate. Fast forward 1-4 years, and the organization is what matters. &quot;Die a hero or live long enough to become the villain.&quot;<p>So fast lint, type checking, code scans, PR assistants, yes, we can swap these whenever. But install flow &amp; package repo, no.<p>That is unfortunate given the state of pip and conda... But here we are.</div><br/><div id="41315495" class="c"><input type="checkbox" id="c-41315495" checked=""/><div class="controls bullet"><span class="by">cqqxo4zV46cp</span><span>|</span><a href="#41313594">parent</a><span>|</span><a href="#41313969">next</a><span>|</span><label class="collapse" for="c-41315495">[-]</label><label class="expand" for="c-41315495">[6 more]</label></div><br/><div class="children"><div class="content">The PSF and PyPA are more than welcome to get their act together and tell a good packaging story for Python.  Unfortunately all they’ve had to offer is a billion contributor blog posts essentially saying “the system we set up for ourselves limits our ability to be helpful, and that’s not our fault, somehow.”<p>They’re all so caught up in their internal systems and politics[1] that they don’t seem to know why they’re actually there anymore.<p>So if someone’s gonna go do an actually-good job and capture the market in the way that Astral is, then that’s exactly what we as a community deserve.<p>[1]: I mean internal politics. This is a weird alt right “DEI HIRE!” rant.</div><br/><div id="41315771" class="c"><input type="checkbox" id="c-41315771" checked=""/><div class="controls bullet"><span class="by">lmeyerov</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41315495">parent</a><span>|</span><a href="#41317822">next</a><span>|</span><label class="collapse" for="c-41315771">[-]</label><label class="expand" for="c-41315771">[2 more]</label></div><br/><div class="children"><div class="content">Maybe a good example here is how the mamba team (quantstack) got frustrated with conda speed, splintered off to massively speed up things, and afaict it&#x27;s now the new default solver. Even better, they seem to have a healthy consultancy doing projects like this, which solves the sustainability problem better than VC funding, which is a non-answer.<p>I&#x27;m for small teams doing big pushes, and the example shows such efforts can coexist with healthier long-term governance strategies. It&#x27;s sad that the effort was needed, but nonetheless, a clear demonstration of separation of concerns working for small engineering team =&gt; bigger governance org.<p>It&#x27;s also a bad look for the engineering priorities of anaconda inc on their flagship product. I wonder &#x27;how we got there&#x27;: Anaconda devs help build GPU python stacks, numba, etc, so they are quite good on what they do work on. Is every for-profit packaging-oriented company ultimately not paid enough to keep the packaging core fast? So VC $ just speeds up the schedule to mediocrity?</div><br/><div id="41316273" class="c"><input type="checkbox" id="c-41316273" checked=""/><div class="controls bullet"><span class="by">insane_dreamer</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41315771">parent</a><span>|</span><a href="#41317822">next</a><span>|</span><label class="collapse" for="c-41316273">[-]</label><label class="expand" for="c-41316273">[1 more]</label></div><br/><div class="children"><div class="content">VC funding redirects the company’s focus on whatever is going to drive profits in the short or medium term. This does not necessarily align with great engineering :&#x2F;  It’s often a poisoned chalice.</div><br/></div></div></div></div><div id="41317822" class="c"><input type="checkbox" id="c-41317822" checked=""/><div class="controls bullet"><span class="by">trallnag</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41315495">parent</a><span>|</span><a href="#41315771">prev</a><span>|</span><a href="#41317617">next</a><span>|</span><label class="collapse" for="c-41317822">[-]</label><label class="expand" for="c-41317822">[1 more]</label></div><br/><div class="children"><div class="content">Pipx is a great piece of software and it is located under the PyPA organization.</div><br/></div></div><div id="41317617" class="c"><input type="checkbox" id="c-41317617" checked=""/><div class="controls bullet"><span class="by">rfl890</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41315495">parent</a><span>|</span><a href="#41317822">prev</a><span>|</span><a href="#41317097">next</a><span>|</span><label class="collapse" for="c-41317617">[-]</label><label class="expand" for="c-41317617">[1 more]</label></div><br/><div class="children"><div class="content">It is?</div><br/></div></div><div id="41317097" class="c"><input type="checkbox" id="c-41317097" checked=""/><div class="controls bullet"><span class="by">raverbashing</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41315495">parent</a><span>|</span><a href="#41317617">prev</a><span>|</span><a href="#41313969">next</a><span>|</span><label class="collapse" for="c-41317097">[-]</label><label class="expand" for="c-41317097">[1 more]</label></div><br/><div class="children"><div class="content">Only goes to show the value of a BDFL</div><br/></div></div></div></div><div id="41313969" class="c"><input type="checkbox" id="c-41313969" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#41313594">parent</a><span>|</span><a href="#41315495">prev</a><span>|</span><a href="#41317962">next</a><span>|</span><label class="collapse" for="c-41313969">[-]</label><label class="expand" for="c-41313969">[5 more]</label></div><br/><div class="children"><div class="content">That battle has already been lost for Python.  Microsoft owns Python, they just don&#x27;t make it public.<p>This is how I came to believe this is the case:<p>Few years ago I wanted to write Python bindings to kubectl.  I discovered that in order for that to work cross-platform, I need to make CGo use the same compiler on all platforms as does Python.  Unfortunately, on MS Windows, CGO uses MINGW while Python uses MSVC.  I wrote to Python dev. mailing list (which still existed at that time) and asked why did they choose to use a proprietary compiler for their &quot;open-source&quot; project.  The answer I received in a round-about way was that MSVC was a historical choice, which cannot be presently changed because MS provides Python Foundation with free infrastructure to run CI and builds, and it also provides developers to work on Python (i.e. MS employees get paid by MS to work on Python interpreter).  And that they are under orders not to drop MS tools from the toolchain.<p>Year after year the situation was getting worse.  Like in a lot of similar projects, success created a lot of ground for mediocre nobodies to reach positions of power.  Python foundation and satellite projects like PyPA started to be populated by people whose way into these positions was not through contributing any useful code, but rather writing pages of code of conduct.  This code of conduct and never-ending skirmishes around controlling positions eventually led to some old-timers leaving or being outright kicked out (latest such event was the ban of Tim, the guy who, beside other things, wrote Tim sort, which is a somewhat famous feature of Python).<p>Year after year MS was pushing its usual agenda they do in every project they get their hands on: add crapload of useless features for the sake of advertising.  Make the project swing every way possible, but mostly follow the fashion trends as hard as possible.  This is how Python is now devoted to adding as much of ML-style types as possible (in the language with a completely different type system...), AoT compilation and JIT (in the language that&#x27;s half of the time used to dynamically glue native libraries...) and so on.  Essentially, making it a C#, but without curly braces.<p>MS is smart enough to understand that publicly announcing their ownership of Python will scare a lot of people away from the technology, so they don&#x27;t advertise it much.  But they keep working on ensuring developers&#x27; dependency on their tooling, and eventually they will come to collect on their investment.</div><br/><div id="41314108" class="c"><input type="checkbox" id="c-41314108" checked=""/><div class="controls bullet"><span class="by">cdchn</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41313969">parent</a><span>|</span><a href="#41315143">next</a><span>|</span><label class="collapse" for="c-41314108">[-]</label><label class="expand" for="c-41314108">[1 more]</label></div><br/><div class="children"><div class="content">Sounds more like Microsoft owns Windows rather than Python.</div><br/></div></div><div id="41315143" class="c"><input type="checkbox" id="c-41315143" checked=""/><div class="controls bullet"><span class="by">kahgrF</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41313969">parent</a><span>|</span><a href="#41314108">prev</a><span>|</span><a href="#41316125">next</a><span>|</span><label class="collapse" for="c-41315143">[-]</label><label class="expand" for="c-41315143">[2 more]</label></div><br/><div class="children"><div class="content">There are many correct observations, but Python is owned by Microsoft, Instagram, RedHat and Bloomberg. Google fired the Python team this year, which makes it an attractive work place.</div><br/><div id="41315201" class="c"><input type="checkbox" id="c-41315201" checked=""/><div class="controls bullet"><span class="by">joerick</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41315143">parent</a><span>|</span><a href="#41316125">next</a><span>|</span><label class="collapse" for="c-41315201">[-]</label><label class="expand" for="c-41315201">[1 more]</label></div><br/><div class="children"><div class="content">...and a lot of solo developers and academics besides.  (I say that as a corporately unaffiliated PyPA member)</div><br/></div></div></div></div><div id="41316125" class="c"><input type="checkbox" id="c-41316125" checked=""/><div class="controls bullet"><span class="by">denimnerd42</span><span>|</span><a href="#41313594">root</a><span>|</span><a href="#41313969">parent</a><span>|</span><a href="#41315143">prev</a><span>|</span><a href="#41317962">next</a><span>|</span><label class="collapse" for="c-41316125">[-]</label><label class="expand" for="c-41316125">[1 more]</label></div><br/><div class="children"><div class="content">the MS vs code python plugin being closed source is also a major bummer.</div><br/></div></div></div></div></div></div><div id="41317962" class="c"><input type="checkbox" id="c-41317962" checked=""/><div class="controls bullet"><span class="by">incorrecthorse</span><span>|</span><a href="#41313594">prev</a><span>|</span><a href="#41309862">next</a><span>|</span><label class="collapse" for="c-41317962">[-]</label><label class="expand" for="c-41317962">[3 more]</label></div><br/><div class="children"><div class="content">Those people seem to have a passion for developing package managers (instead of just seeing it as a tool that needs to do the job), and as long as it is the case, I don&#x27;t see how we wouldn&#x27;t end up with one new package manager every year.</div><br/><div id="41318114" class="c"><input type="checkbox" id="c-41318114" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#41317962">parent</a><span>|</span><a href="#41318084">next</a><span>|</span><label class="collapse" for="c-41318114">[-]</label><label class="expand" for="c-41318114">[1 more]</label></div><br/><div class="children"><div class="content">People aren’t writing new package managers for rust every other week. JavaScript still sees some but less.<p>Perhaps people are trying to solve real pain points, and by getting closer to solving them things feel nicer!</div><br/></div></div><div id="41318084" class="c"><input type="checkbox" id="c-41318084" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#41317962">parent</a><span>|</span><a href="#41318114">prev</a><span>|</span><a href="#41309862">next</a><span>|</span><label class="collapse" for="c-41318084">[-]</label><label class="expand" for="c-41318084">[1 more]</label></div><br/><div class="children"><div class="content">Who are &quot;those people&quot;?</div><br/></div></div></div></div><div id="41309862" class="c"><input type="checkbox" id="c-41309862" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#41317962">prev</a><span>|</span><a href="#41315743">next</a><span>|</span><label class="collapse" for="c-41309862">[-]</label><label class="expand" for="c-41309862">[7 more]</label></div><br/><div class="children"><div class="content">There’s one problem left with those tools: authority. They’re not pypa endorsed, that’s what makes those different from cargo.<p>At the same time pypa wasn’t able to provide a comprehensive solution over the years, and python packaging and development tools multiplied - just 3-4 years ago poetry and pipenv seemed to solve python packaging problems in a way that pip+virtualenv couldn’t.<p>We need pypa to now jump on the astral.sh ship - but will they do that without a certain amount of control?</div><br/><div id="41310623" class="c"><input type="checkbox" id="c-41310623" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41309862">parent</a><span>|</span><a href="#41314353">next</a><span>|</span><label class="collapse" for="c-41310623">[-]</label><label class="expand" for="c-41310623">[1 more]</label></div><br/><div class="children"><div class="content">I learned recently that the “authority” in the name PyPA - Python Packaging Authority - was originally intended as a joke: <a href="https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;remove-the-authority-from-packaging&#x2F;1993" rel="nofollow">https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;remove-the-authority-from-packa...</a></div><br/></div></div><div id="41314353" class="c"><input type="checkbox" id="c-41314353" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#41309862">parent</a><span>|</span><a href="#41310623">prev</a><span>|</span><a href="#41309911">next</a><span>|</span><label class="collapse" for="c-41314353">[-]</label><label class="expand" for="c-41314353">[1 more]</label></div><br/><div class="children"><div class="content">I stopped worrying about what PyPA said when they endorsed Pipenv above other options, largely due to what seemed to me to be personal relationship reasons. Pipenv was disastrous at that time. It <i>meant</i> well, but at work we found ourselves waiting an hour for it to update its lockfile, and we had a relatively small number of widely-used dependencies in each repo. It just didn&#x27;t work.<p>As a practical matter, I hugely appreciate the hard technical work PyPA does. However, I don&#x27;t concern myself much with which toolsets they&#x27;re recommending at the moment. Use what the community uses and don&#x27;t worry about the &quot;official&quot; suggestions.</div><br/></div></div><div id="41309911" class="c"><input type="checkbox" id="c-41309911" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#41309862">parent</a><span>|</span><a href="#41314353">prev</a><span>|</span><a href="#41315542">next</a><span>|</span><label class="collapse" for="c-41309911">[-]</label><label class="expand" for="c-41309911">[3 more]</label></div><br/><div class="children"><div class="content">As a somewhat outside observer I don&#x27;t quite understand what the PyPA actually is. In some sense there is an unclear number of participants and it&#x27;s not even sure to which degree the PyPA relates to core python or the PSF.<p>I think the real endorsement that could help would be the core Python project itself.  In a perfect world the official Python tutorial would start with &quot;here is how you install python&quot; and it starts by installing uv, the same way as the official Rust docs point to rustup and cargo.<p>I hope strongly that the PSF will manage to establish some sort of relationship with Astral which would enable that to eventually be a reality.</div><br/><div id="41314091" class="c"><input type="checkbox" id="c-41314091" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#41309862">root</a><span>|</span><a href="#41309911">parent</a><span>|</span><a href="#41315542">next</a><span>|</span><label class="collapse" for="c-41314091">[-]</label><label class="expand" for="c-41314091">[2 more]</label></div><br/><div class="children"><div class="content">Here are few things that... well, won&#x27;t really work well:<p>* Python package installation, package format and loading of modules are defective.  The design is bad.  It means that no implementation blessed by PSF or not isn&#x27;t going to solve the packaging problem.  So, there&#x27;s no point to ask PSF or PyPA to adopt any external tool.  If the external tools are better than pip in some way, then it could be the speed or memory footprint etc.  They will not solve the conceptual problems, because they don&#x27;t have the authority to do that.<p>* PyPA and PSF, but maybe to a lesser extent, are populated today by delusional mediocre coders who have no idea where the ship is going or how to stir it.  They completely lack vision and understanding of the problems they are to deal with.  They add &quot;features&quot;, but they don&#x27;t know if those features are needed, and, in most cases it&#x27;s just noise and bloat.  From a perspective of someone who has to deal with fruits of their labor, they just ensure that my job of &quot;someone who fixes Python packaging issues&quot; will never go away.<p>So... as &quot;someone who fixes Python packaging issues&quot; I kind of welcome the new level of hell coming from Astral.  From where I stand, it is pouring more gas into a big dumpster fire.  Just one more tool written in a non-mainstream, non-standardized, quickly evolving language, impossible to debug without a ton of instrumentation, with the source code hard to write and hard to understand.  It&#x27;s just another deposit towards my job security.</div><br/><div id="41314725" class="c"><input type="checkbox" id="c-41314725" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41309862">root</a><span>|</span><a href="#41314091">parent</a><span>|</span><a href="#41315542">next</a><span>|</span><label class="collapse" for="c-41314725">[-]</label><label class="expand" for="c-41314725">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Python package installation, package format and loading of modules are defective&quot;<p>How are they defective?</div><br/></div></div></div></div></div></div><div id="41315542" class="c"><input type="checkbox" id="c-41315542" checked=""/><div class="controls bullet"><span class="by">cqqxo4zV46cp</span><span>|</span><a href="#41309862">parent</a><span>|</span><a href="#41309911">prev</a><span>|</span><a href="#41315743">next</a><span>|</span><label class="collapse" for="c-41315542">[-]</label><label class="expand" for="c-41315542">[1 more]</label></div><br/><div class="children"><div class="content">I frankly don’t give a fuck about PyPA at this point. They’ve proven themselves to be largely irrelevant in this context. Anything they get their hands on just seems to rot, so I’d unfortunately like them to stay far away from this. It pains me to say this. It’s against my philosophy. But it’s merely a reflection of the current state of things. I’ve been working with Python full-time for a decade. Other packaging ecosystems have essentially lapped Python’s.<p>At this point I also don’t care about nuances like “is it execution issues with PyPA, or that their set remit is faulty?”  I’m sick of getting drawn into that stuff, too.</div><br/></div></div></div></div><div id="41315743" class="c"><input type="checkbox" id="c-41315743" checked=""/><div class="controls bullet"><span class="by">atdt</span><span>|</span><a href="#41309862">prev</a><span>|</span><a href="#41313638">next</a><span>|</span><label class="collapse" for="c-41315743">[-]</label><label class="expand" for="c-41315743">[5 more]</label></div><br/><div class="children"><div class="content">Armin advocates for &#x27;uv&#x27; to dominate the space, but acknowledges it could be rug-pulled due to its VC backing. His solution to this potential issue is that it&#x27;s &quot;very forkable.&quot; But doesn&#x27;t forking inherently lead to further fragmentation, the very problem he wants to solve?<p>Any tool hoping to dominate the Python packaging landscape must be community-driven and community-controlled, IMO.</div><br/><div id="41317850" class="c"><input type="checkbox" id="c-41317850" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#41315743">parent</a><span>|</span><a href="#41317157">next</a><span>|</span><label class="collapse" for="c-41317850">[-]</label><label class="expand" for="c-41317850">[1 more]</label></div><br/><div class="children"><div class="content">It may be easily forkable due to the licence choice (MIT or Apache), but the choice of Rust limits the number of people who can actually contribute.</div><br/></div></div><div id="41317157" class="c"><input type="checkbox" id="c-41317157" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#41315743">parent</a><span>|</span><a href="#41317850">prev</a><span>|</span><a href="#41316019">next</a><span>|</span><label class="collapse" for="c-41317157">[-]</label><label class="expand" for="c-41317157">[1 more]</label></div><br/><div class="children"><div class="content">Forking doesn&#x27;t inherently lead to further fragmentation: the level of fragmentation post forking can still be much lower than before consolidating on the rug-pulled tool<p>(also, how many more decades does this imaginary community need to create a great dominant tool?)</div><br/></div></div><div id="41316019" class="c"><input type="checkbox" id="c-41316019" checked=""/><div class="controls bullet"><span class="by">thatxliner</span><span>|</span><a href="#41315743">parent</a><span>|</span><a href="#41317157">prev</a><span>|</span><a href="#41313638">next</a><span>|</span><label class="collapse" for="c-41316019">[-]</label><label class="expand" for="c-41316019">[2 more]</label></div><br/><div class="children"><div class="content">Isn’t npm VC-backed?</div><br/><div id="41316810" class="c"><input type="checkbox" id="c-41316810" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41315743">root</a><span>|</span><a href="#41316019">parent</a><span>|</span><a href="#41313638">next</a><span>|</span><label class="collapse" for="c-41316810">[-]</label><label class="expand" for="c-41316810">[1 more]</label></div><br/><div class="children"><div class="content">It was until it got acquired by Microsoft&#x2F;GitHub.</div><br/></div></div></div></div></div></div><div id="41313638" class="c"><input type="checkbox" id="c-41313638" checked=""/><div class="controls bullet"><span class="by">ris</span><span>|</span><a href="#41315743">prev</a><span>|</span><a href="#41309953">next</a><span>|</span><label class="collapse" for="c-41313638">[-]</label><label class="expand" for="c-41313638">[3 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t blame people if they sat this round out and waited for 2026&#x27;s iteration of &quot;Python Package Managers: we&#x27;ve really solved it this time!&quot;<p>(still a happy Nix user)</div><br/><div id="41313658" class="c"><input type="checkbox" id="c-41313658" checked=""/><div class="controls bullet"><span class="by">nurettin</span><span>|</span><a href="#41313638">parent</a><span>|</span><a href="#41309953">next</a><span>|</span><label class="collapse" for="c-41313658">[-]</label><label class="expand" for="c-41313658">[2 more]</label></div><br/><div class="children"><div class="content">Should have ended with &quot;I use Nix, btw&quot;</div><br/><div id="41316578" class="c"><input type="checkbox" id="c-41316578" checked=""/><div class="controls bullet"><span class="by">intelVISA</span><span>|</span><a href="#41313638">root</a><span>|</span><a href="#41313658">parent</a><span>|</span><a href="#41309953">next</a><span>|</span><label class="collapse" for="c-41316578">[-]</label><label class="expand" for="c-41316578">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s important to remind people that all this is solved, by Nix, btw.</div><br/></div></div></div></div></div></div><div id="41309953" class="c"><input type="checkbox" id="c-41309953" checked=""/><div class="controls bullet"><span class="by">fvdessen</span><span>|</span><a href="#41313638">prev</a><span>|</span><a href="#41315476">next</a><span>|</span><label class="collapse" for="c-41309953">[-]</label><label class="expand" for="c-41309953">[7 more]</label></div><br/><div class="children"><div class="content">I was looking this morning at migrating our software from poetry to uv at my company, due to poetry&#x27;s slowness. And so far i&#x27;ve been reading a lot of doc and not getting a lot things done. I did the previous migration to poetry as well which was vastly simpler. So far it seems that poetry tried to make a simple package manager that works like any other, while uv is keeping quite a bit of the python package insanity around.</div><br/><div id="41310734" class="c"><input type="checkbox" id="c-41310734" checked=""/><div class="controls bullet"><span class="by">bvrmn</span><span>|</span><a href="#41309953">parent</a><span>|</span><a href="#41310525">next</a><span>|</span><label class="collapse" for="c-41310734">[-]</label><label class="expand" for="c-41310734">[2 more]</label></div><br/><div class="children"><div class="content">At least uv doesn&#x27;t lead to an absolute clusterfuck of poetry conflicting with virtualenv. Or broken package.toml format with minor poetry changes. Or amazingly  dumb &quot;sources&quot; which doesn&#x27;t work for transitive dependencies and leads to even longer resolve times in case of multiple indexes.</div><br/><div id="41315332" class="c"><input type="checkbox" id="c-41315332" checked=""/><div class="controls bullet"><span class="by">seabrookmx</span><span>|</span><a href="#41309953">root</a><span>|</span><a href="#41310734">parent</a><span>|</span><a href="#41310525">next</a><span>|</span><label class="collapse" for="c-41315332">[-]</label><label class="expand" for="c-41315332">[1 more]</label></div><br/><div class="children"><div class="content">How does it conflict with virtualenv? Last I checked it&#x27;s default behavior was to automagically create a virtualenv for you if you run it from system python (a bit weird but ok) or if you were in an virtualenv, it would use it.<p>For our projects we use pyenv-virtualenv (so we can have specific python versions per project) and then poetry &quot;just works&quot; (though can be slow, hence rye, uv and friends).</div><br/></div></div></div></div><div id="41310525" class="c"><input type="checkbox" id="c-41310525" checked=""/><div class="controls bullet"><span class="by">burntsushi</span><span>|</span><a href="#41309953">parent</a><span>|</span><a href="#41310734">prev</a><span>|</span><a href="#41314299">next</a><span>|</span><label class="collapse" for="c-41310525">[-]</label><label class="expand" for="c-41310525">[1 more]</label></div><br/><div class="children"><div class="content">Are there any specifics you can share about what you found difficult to do in uv?</div><br/></div></div><div id="41314299" class="c"><input type="checkbox" id="c-41314299" checked=""/><div class="controls bullet"><span class="by">yoyohello13</span><span>|</span><a href="#41309953">parent</a><span>|</span><a href="#41310525">prev</a><span>|</span><a href="#41315158">next</a><span>|</span><label class="collapse" for="c-41314299">[-]</label><label class="expand" for="c-41314299">[1 more]</label></div><br/><div class="children"><div class="content">We just recently migrated to uv from pip-tools and it was pretty seamless. uv pretty much just plugs into the standard python tooling workflow.</div><br/></div></div><div id="41315158" class="c"><input type="checkbox" id="c-41315158" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#41309953">parent</a><span>|</span><a href="#41314299">prev</a><span>|</span><a href="#41314137">next</a><span>|</span><label class="collapse" for="c-41315158">[-]</label><label class="expand" for="c-41315158">[1 more]</label></div><br/><div class="children"><div class="content">you probably want Rye (as uv is too low-level for now), no?</div><br/></div></div><div id="41314137" class="c"><input type="checkbox" id="c-41314137" checked=""/><div class="controls bullet"><span class="by">orbisvicis</span><span>|</span><a href="#41309953">parent</a><span>|</span><a href="#41315158">prev</a><span>|</span><a href="#41315476">next</a><span>|</span><label class="collapse" for="c-41314137">[-]</label><label class="expand" for="c-41314137">[1 more]</label></div><br/><div class="children"><div class="content">To which insanities are you referring?</div><br/></div></div></div></div><div id="41315476" class="c"><input type="checkbox" id="c-41315476" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#41309953">prev</a><span>|</span><a href="#41316347">next</a><span>|</span><label class="collapse" for="c-41315476">[-]</label><label class="expand" for="c-41315476">[3 more]</label></div><br/><div class="children"><div class="content">So is Rye deprecated? The puzzling rye&#x2F;uv relationship is what had stopped me from trying out with tool so far.</div><br/><div id="41317170" class="c"><input type="checkbox" id="c-41317170" checked=""/><div class="controls bullet"><span class="by">jsmeaton</span><span>|</span><a href="#41315476">parent</a><span>|</span><a href="#41315985">next</a><span>|</span><label class="collapse" for="c-41317170">[-]</label><label class="expand" for="c-41317170">[1 more]</label></div><br/><div class="children"><div class="content">Rye was started by Armin as a collection of existing tools (mostly) with a frontend similar to cargo.<p>Then Astral came out with uv which aims to be a frontend into a collection of their own tools similar to cargo.<p>Armin and Astral agreed for Astral to take over Rye some time during uv development with (I assume) the goal for uv to fully replace Rye.<p>Use uv. As of 0.3.0 it covers most of rye now anyway. Especially if you’re writing projects and not consumable libs&#x2F;apps (I haven’t used uv for anything other than package management so far).</div><br/></div></div><div id="41315985" class="c"><input type="checkbox" id="c-41315985" checked=""/><div class="controls bullet"><span class="by">mixmastamyk</span><span>|</span><a href="#41315476">parent</a><span>|</span><a href="#41317170">prev</a><span>|</span><a href="#41316347">next</a><span>|</span><label class="collapse" for="c-41315985">[-]</label><label class="expand" for="c-41315985">[1 more]</label></div><br/><div class="children"><div class="content">It was a prototype.  Lessons&#x2F;code folded into uv.</div><br/></div></div></div></div><div id="41316347" class="c"><input type="checkbox" id="c-41316347" checked=""/><div class="controls bullet"><span class="by">insane_dreamer</span><span>|</span><a href="#41315476">prev</a><span>|</span><a href="#41315564">next</a><span>|</span><label class="collapse" for="c-41316347">[-]</label><label class="expand" for="c-41316347">[3 more]</label></div><br/><div class="children"><div class="content">How well are the CUDA and Jax related packages supported by uv?</div><br/><div id="41317057" class="c"><input type="checkbox" id="c-41317057" checked=""/><div class="controls bullet"><span class="by">sooheon</span><span>|</span><a href="#41316347">parent</a><span>|</span><a href="#41315564">next</a><span>|</span><label class="collapse" for="c-41317057">[-]</label><label class="expand" for="c-41317057">[2 more]</label></div><br/><div class="children"><div class="content">jax itself is just pip installable, so this should be drop-in. CUDA is it&#x27;s own headache, and that&#x27;s where mamba (now pixi[1]) really shines.<p>[1]: <a href="https:&#x2F;&#x2F;pixi.sh&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pixi.sh&#x2F;</a></div><br/><div id="41317492" class="c"><input type="checkbox" id="c-41317492" checked=""/><div class="controls bullet"><span class="by">insane_dreamer</span><span>|</span><a href="#41316347">root</a><span>|</span><a href="#41317057">parent</a><span>|</span><a href="#41315564">next</a><span>|</span><label class="collapse" for="c-41317492">[-]</label><label class="expand" for="c-41317492">[1 more]</label></div><br/><div class="children"><div class="content">looking at the uv docs it seems it doesn&#x27;t support conda packages. That&#x27;s a non-starter for us as we need both conda and pypi (some packages are in one, some in the other). So we&#x27;d probably look at pixi as a possible replacement for conda.</div><br/></div></div></div></div></div></div><div id="41315564" class="c"><input type="checkbox" id="c-41315564" checked=""/><div class="controls bullet"><span class="by">billdueber</span><span>|</span><a href="#41316347">prev</a><span>|</span><a href="#41309663">next</a><span>|</span><label class="collapse" for="c-41315564">[-]</label><label class="expand" for="c-41315564">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m kind of interested in this space -- can anyone point me at an article that goes over why this is harder for python than it seems to be for, e.g., ruby? Is there something inherent about the way code is imported in python that makes it less tractable? Or is it just that the python world has never quite all come together on something that works well enough?<p>(Note that I can certainly complain about how `bundler` works in ruby, but these discussions in python-land seem to go way beyond my quibbles with the ruby ecosystem)</div><br/><div id="41317899" class="c"><input type="checkbox" id="c-41317899" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#41315564">parent</a><span>|</span><a href="#41316462">next</a><span>|</span><label class="collapse" for="c-41317899">[-]</label><label class="expand" for="c-41317899">[1 more]</label></div><br/><div class="children"><div class="content">Python&#x27;s import system, as it is, makes some things slightly more complicated due to the need to use virtual environments (copies of the interpreter with separate library paths) as opposed to something like node_modules. This could easily be changed, if the powers-that-be actually cared about packaging. Packaging is handled by a separate group, which likes design by committee, and which enables the creation of separate third party tools instead of standardising on one good tool (uv, rye, and poetry, are all popular tools made by people who are explicitly not members of the packaging group).</div><br/></div></div><div id="41316462" class="c"><input type="checkbox" id="c-41316462" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#41315564">parent</a><span>|</span><a href="#41317899">prev</a><span>|</span><a href="#41315609">next</a><span>|</span><label class="collapse" for="c-41316462">[-]</label><label class="expand" for="c-41316462">[1 more]</label></div><br/><div class="children"><div class="content">The big problem is that Python is used in a lot of different contexts and has too many valid ways in which people are able to build, compile, release non-Pythonic extensions in their package. Original way for packaging code was effectively an executable script which made some things easy, but other things much harder. Modern efforts are trying to limit the flexibility of the package definitions without breaking all of this legacy code.  I unfairly think of Ruby as only for Ruby on Rails, so only ever dealing with the web domain.<p>Here is a story about the nightmare it takes to compile the Fortran code that supports much of SciPy (backbone numerical computing library with algorithms for wide swaths of disciplines)
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38196412">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38196412</a></div><br/></div></div><div id="41315609" class="c"><input type="checkbox" id="c-41315609" checked=""/><div class="controls bullet"><span class="by">mixmastamyk</span><span>|</span><a href="#41315564">parent</a><span>|</span><a href="#41316462">prev</a><span>|</span><a href="#41309663">next</a><span>|</span><label class="collapse" for="c-41315609">[-]</label><label class="expand" for="c-41315609">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not.  Just that Guido never cared about packaging, so it was left to a ragtag unpaid motley crew to piece together and later learn from industry practices that solidified a decade or two after they started.</div><br/></div></div></div></div><div id="41309663" class="c"><input type="checkbox" id="c-41309663" checked=""/><div class="controls bullet"><span class="by">dirtbag__dad</span><span>|</span><a href="#41315564">prev</a><span>|</span><a href="#41314203">next</a><span>|</span><label class="collapse" for="c-41309663">[-]</label><label class="expand" for="c-41309663">[1 more]</label></div><br/><div class="children"><div class="content">TY to the astral team for making my quality of life so much better and Armin for being brave enough to pass the torch.<p>Strong +1 on a one tool wins approach - I am so tired of burning time on local dev setup, everything from managing a monorepo (many packages that import into each other) to virtual environments and PYTHONPATH (I’ve been at it for like 8 years now and I still can’t grok how to “just avoid” issues like those across all pkg managers, woof!)<p>I am really excited to see what’s next. Especially looking for a mypy replacement and perhaps something that gives compiling python a “native” feeling thing we can do</div><br/></div></div><div id="41314203" class="c"><input type="checkbox" id="c-41314203" checked=""/><div class="controls bullet"><span class="by">orbisvicis</span><span>|</span><a href="#41309663">prev</a><span>|</span><a href="#41309539">next</a><span>|</span><label class="collapse" for="c-41314203">[-]</label><label class="expand" for="c-41314203">[3 more]</label></div><br/><div class="children"><div class="content">With declarative tooling - unlike setup.py - we&#x27;ve lost the ability to install to locations not managed by Python. Most of my projects used to have a python-code config file that I could include both in my code and in setup.py. Last I checked none of that is now possible. Want to install a system binary - ship an RPM or a flatpak.<p>I don&#x27;t understand how we could lose so much flexibility and yet gain so little in return.<p>P.S I&#x27;ve only ever encountered minor dependency issues in my admittedly small projects using just pip and venv.</div><br/><div id="41314303" class="c"><input type="checkbox" id="c-41314303" checked=""/><div class="controls bullet"><span class="by">OJFord</span><span>|</span><a href="#41314203">parent</a><span>|</span><a href="#41314328">next</a><span>|</span><label class="collapse" for="c-41314303">[-]</label><label class="expand" for="c-41314303">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s entirely appropriate imo - system packager should be running pip or whatever and then putting the output where it wants, it&#x27;s not for setuptools or whatever to declare that.<p>What path would you put in setup.py anyway? A different one for different distro preferences, a different one again for Windows, for macOS?</div><br/></div></div><div id="41314328" class="c"><input type="checkbox" id="c-41314328" checked=""/><div class="controls bullet"><span class="by">heavyset_go</span><span>|</span><a href="#41314203">parent</a><span>|</span><a href="#41314303">prev</a><span>|</span><a href="#41309539">next</a><span>|</span><label class="collapse" for="c-41314328">[-]</label><label class="expand" for="c-41314328">[1 more]</label></div><br/><div class="children"><div class="content">You can still use the setuptools backend when using declarative tooling, I use it in projects I can&#x27;t fully port to pyproject.toml.</div><br/></div></div></div></div><div id="41309539" class="c"><input type="checkbox" id="c-41309539" checked=""/><div class="controls bullet"><span class="by">bananapub</span><span>|</span><a href="#41314203">prev</a><span>|</span><a href="#41309566">next</a><span>|</span><label class="collapse" for="c-41309539">[-]</label><label class="expand" for="c-41309539">[1 more]</label></div><br/><div class="children"><div class="content">I really like this framing - lots of incremental work by lots of people over time got us to the point where ~a few people at one company can radically improve the situation with a medium amount of work.</div><br/></div></div><div id="41314093" class="c"><input type="checkbox" id="c-41314093" checked=""/><div class="controls bullet"><span class="by">PaulHoule</span><span>|</span><a href="#41309566">prev</a><span>|</span><label class="collapse" for="c-41314093">[-]</label><label class="expand" for="c-41314093">[3 more]</label></div><br/><div class="children"><div class="content">My take is that this one of the most interesting topics there is right now but a below average article about that topic.</div><br/><div id="41314747" class="c"><input type="checkbox" id="c-41314747" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41314093">parent</a><span>|</span><label class="collapse" for="c-41314747">[-]</label><label class="expand" for="c-41314747">[2 more]</label></div><br/><div class="children"><div class="content">Are you saying that because this was more of an opinion piece?<p>As the author of Rye, a package that was heavily influential on the development of uv, Armin is very well positioned to share his opinions about this.</div><br/></div></div></div></div></div></div></div></div></div></body></html>