<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1708246851043" as="style"/><link rel="stylesheet" href="styles.css?v=1708246851043"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/karpathy/minbpe">Educational code for the (byte-level) Byte Pair Encoding (BPE) algorithm</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>magoghm</span> | <span>7 comments</span></div><br/><div><div id="39417183" class="c"><input type="checkbox" id="c-39417183" checked=""/><div class="controls bullet"><span class="by">thesz</span><span>|</span><a href="#39416681">next</a><span>|</span><label class="collapse" for="c-39417183">[-]</label><label class="expand" for="c-39417183">[1 more]</label></div><br/><div class="children"><div class="content">Hehe.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;karpathy&#x2F;minbpe&#x2F;blob&#x2F;master&#x2F;minbpe&#x2F;base.py#L13">https:&#x2F;&#x2F;github.com&#x2F;karpathy&#x2F;minbpe&#x2F;blob&#x2F;master&#x2F;minbpe&#x2F;base.p...</a><p>This code will incorrectly count pairs in [1,1,1] as two pairs of (1,1), despite there is only one, if you consider what merge function does. ;)<p>This can be seen in real world scenarios, for example, when there are many spaces.<p>My attempt to implement BPE has the same flaw and the fix appear to be very complex. But, as I looked at stats, it just makes such pairs to appear as top ones a couple of runs earlier, so it appears as a benign flaw. But, it&#x27;s interesting that this is not mentioned in the code.</div><br/></div></div><div id="39416681" class="c"><input type="checkbox" id="c-39416681" checked=""/><div class="controls bullet"><span class="by">samarthr1</span><span>|</span><a href="#39417183">prev</a><span>|</span><a href="#39416900">next</a><span>|</span><label class="collapse" for="c-39416681">[-]</label><label class="expand" for="c-39416681">[2 more]</label></div><br/><div class="children"><div class="content">And, for indic languages, there is orthographic syllable pair encoding, which reduces the amount of space taken by indic characters by encoding the most common letter pairs as a single byte. 
This was presented i think last year, at the URTC in MIT.<p>(Disclosure, it was published by my friend)</div><br/><div id="39416980" class="c"><input type="checkbox" id="c-39416980" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#39416681">parent</a><span>|</span><a href="#39416900">next</a><span>|</span><label class="collapse" for="c-39416980">[-]</label><label class="expand" for="c-39416980">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t that a specialization of BPE for specific distribution? BPE is essentially a data compression scheme that constructs a straight-line grammar (SLG) that can be directly used as a model encoding, and it is hardly surprising that any other SLG would work well for some other inputs.</div><br/></div></div></div></div><div id="39416900" class="c"><input type="checkbox" id="c-39416900" checked=""/><div class="controls bullet"><span class="by">atomon</span><span>|</span><a href="#39416681">prev</a><span>|</span><a href="#39416894">next</a><span>|</span><label class="collapse" for="c-39416900">[-]</label><label class="expand" for="c-39416900">[1 more]</label></div><br/><div class="children"><div class="content">He’s a couple days unemployed and is already producing code that looks like it’s meant to teach people. Very happy to see that! The world will be a better place with more Karpathy educational content.</div><br/></div></div><div id="39416894" class="c"><input type="checkbox" id="c-39416894" checked=""/><div class="controls bullet"><span class="by">countWSS</span><span>|</span><a href="#39416900">prev</a><span>|</span><a href="#39416601">next</a><span>|</span><label class="collapse" for="c-39416894">[-]</label><label class="expand" for="c-39416894">[1 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t this introduce hidden bias towards word-like content,
i.e. making the output seem more coherent than
its actually is, masking LLM output quality?</div><br/></div></div><div id="39416601" class="c"><input type="checkbox" id="c-39416601" checked=""/><div class="controls bullet"><span class="by">jszymborski</span><span>|</span><a href="#39416894">prev</a><span>|</span><label class="collapse" for="c-39416601">[-]</label><label class="expand" for="c-39416601">[1 more]</label></div><br/><div class="children"><div class="content">Also very neat is the Unigram algorithm. IIRC that paper also introduces subword regularization which I think is really cool.<p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1804.10959" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1804.10959</a></div><br/></div></div></div></div></div></div></div></body></html>