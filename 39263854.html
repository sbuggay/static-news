<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707210060341" as="style"/><link rel="stylesheet" href="styles.css?v=1707210060341"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a>Show HN: Atopile – Design circuit boards with code</a> </div><div class="subtext"><span>Timot05</span> | <span>130 comments</span></div><br/><div><div id="39272351" class="c"><input type="checkbox" id="c-39272351" checked=""/><div class="controls bullet"><span class="by">assimpleaspossi</span><span>|</span><a href="#39266831">next</a><span>|</span><label class="collapse" for="c-39272351">[-]</label><label class="expand" for="c-39272351">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Could you imagine the pain of building an entire software product using only assembly code? That’s about how we felt designing hardware.<p>I&#x27;ve done both. What you called &quot;pain&quot; I called &quot;fun&quot;. I started life as an electronic engineer but am now a software engineer and was very comfortable in both areas. So I&#x27;m automatically suspicious of anything that calls such things painful.<p>My kneejerk reaction is &quot;you&#x27;ve never done this professionally&quot; but it&#x27;s 3am where I&#x27;m at and can&#x27;t watch the video right now.</div><br/></div></div><div id="39266831" class="c"><input type="checkbox" id="c-39266831" checked=""/><div class="controls bullet"><span class="by">addaon</span><span>|</span><a href="#39272351">prev</a><span>|</span><a href="#39264391">next</a><span>|</span><label class="collapse" for="c-39266831">[-]</label><label class="expand" for="c-39266831">[12 more]</label></div><br/><div class="children"><div class="content">Unless I&#x27;m missing something, this is not circuits-as-code, it&#x27;s just circuits-as-text. It&#x27;s basically a non-standard way to represent a netlist, and to hang metadata off that netlist -- which is, to be fair, quite cool and useful.<p>But take the example from [0] of a voltage divider. I agree that that is a textual description of a voltage divider that can be compiled to a netlist, a BOM, etc. But what is the actual division properties? What&#x27;s the combined tolerance stackup? What I &#x2F;want&#x2F; to be able to do is define a module generator function that takes a ratio, a desired output tolerance, and a maximum output current and generates the divider module with resistors chosen (both resistance and tolerance) that will meet those properties. And while I&#x27;m wishing, given that (for low output currents) this is an underdefined problem, I&#x27;d also like a way to lean towards components already in the BOM, either by just manually using preferred values (yuck), or by outputting multiple possibilities and having a selector downstream that does BOM line count optimization.<p>Besides taking much, much more of the drudge work out of this, it also makes these circuit-as-code text files reviewable, in much the same way code is. Consider an input pin for an ADC on a microcontroller. On the signal path, I might have at a minimum a voltage divider to get things in range, a low pass filter to get rid of aliasing, and a buffer to satisfy the input pin impedance requirements. If this is three different modules, each with two or five components... reviewing this is equivalent to designing it, I need to check each bit. If, instead, this is generate_divider(1&#x2F;3, 0.1%); generate_lowpass(200 Hz); module my_standard_opamp_bufer -- then I only need to review those implementations once, and can trust the use of them (for, potentially, dozens of ADC pins).<p>[0] <a href="https:&#x2F;&#x2F;atopile.io&#x2F;getting-started&#x2F;" rel="nofollow">https:&#x2F;&#x2F;atopile.io&#x2F;getting-started&#x2F;</a></div><br/><div id="39266936" class="c"><input type="checkbox" id="c-39266936" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39266831">parent</a><span>|</span><a href="#39266955">next</a><span>|</span><label class="collapse" for="c-39266936">[-]</label><label class="expand" for="c-39266936">[6 more]</label></div><br/><div class="children"><div class="content">For sure, we found that to start with something useful from day 0 we needed to be able to completely represent any possible circuit. Starting by just providing a cleaner way to write out a netlist is just the beginning.<p>We are working to add an equations solver to our compiler over the next few weeks, which will allow you to do things like set the ratio of a divider and total resistance, then have the solver pick optimal values based on availability, cost etc.<p>I think that gets really exciting when you start to be able to link these together, its trivial from there to directly set the output voltage of a power supply in volts, which will internally configure the feedback resistor divider.<p>Also verified designs will be super important. Its a little crazy that the status quo is you will almost inevitably make a silly mistake on your first spin. I am imagining designers will go off, make a new circuit, build and test it then make a PR to merge it into main.</div><br/><div id="39267246" class="c"><input type="checkbox" id="c-39267246" checked=""/><div class="controls bullet"><span class="by">addaon</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39266936">parent</a><span>|</span><a href="#39266955">next</a><span>|</span><label class="collapse" for="c-39267246">[-]</label><label class="expand" for="c-39267246">[5 more]</label></div><br/><div class="children"><div class="content">Get even a basic equation solver in there and I&#x27;ll be a user! Have it handle units properly and I&#x27;ll be a happy user. Have it be able to handle both worst-case and RSS tolerance stackups and I&#x27;ll be in love.</div><br/><div id="39267342" class="c"><input type="checkbox" id="c-39267342" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39267246">parent</a><span>|</span><a href="#39268115">next</a><span>|</span><label class="collapse" for="c-39267342">[-]</label><label class="expand" for="c-39267342">[3 more]</label></div><br/><div class="children"><div class="content">Excited to hear it! Our language already captures tolerances and the solver we are building does proper tolerances stackups. You specify the desired output with a tolerance, eg my_regulator.power_out.voltage = 4.75V to 5.25V and we will solve the stack up to get you there.<p>Hang tight, its coming soon!</div><br/><div id="39270314" class="c"><input type="checkbox" id="c-39270314" checked=""/><div class="controls bullet"><span class="by">bboygravity</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39267342">parent</a><span>|</span><a href="#39268115">next</a><span>|</span><label class="collapse" for="c-39270314">[-]</label><label class="expand" for="c-39270314">[2 more]</label></div><br/><div class="children"><div class="content">Will it take into account temperature ranges and other parameters as well?</div><br/><div id="39271509" class="c"><input type="checkbox" id="c-39271509" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39270314">parent</a><span>|</span><a href="#39268115">next</a><span>|</span><label class="collapse" for="c-39271509">[-]</label><label class="expand" for="c-39271509">[1 more]</label></div><br/><div class="children"><div class="content">If we can build the equation solver our hearts are set on, you should be able to account for as many factors as your design requires - albeit with some performance limitations at some point.
That is, assuming temperature can be factored into equations in the same manner as any other parameter or attribute</div><br/></div></div></div></div></div></div><div id="39268115" class="c"><input type="checkbox" id="c-39268115" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39267246">parent</a><span>|</span><a href="#39267342">prev</a><span>|</span><a href="#39266955">next</a><span>|</span><label class="collapse" for="c-39268115">[-]</label><label class="expand" for="c-39268115">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;re also super stoked about getting topology and equations together in the same file (and even code-base!)<p>The equation solver is soon on our roadmap: <a href="https:&#x2F;&#x2F;atopile.io&#x2F;roadmap&#x2F;#language-features" rel="nofollow">https:&#x2F;&#x2F;atopile.io&#x2F;roadmap&#x2F;#language-features</a></div><br/></div></div></div></div></div></div><div id="39266955" class="c"><input type="checkbox" id="c-39266955" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39266831">parent</a><span>|</span><a href="#39266936">prev</a><span>|</span><a href="#39267282">next</a><span>|</span><label class="collapse" for="c-39266955">[-]</label><label class="expand" for="c-39266955">[3 more]</label></div><br/><div class="children"><div class="content">Had a play here for equations: <a href="https:&#x2F;&#x2F;github.com&#x2F;atopile&#x2F;atopile&#x2F;blob&#x2F;tim&#x2F;equations&#x2F;sandbox&#x2F;equations.ipynb">https:&#x2F;&#x2F;github.com&#x2F;atopile&#x2F;atopile&#x2F;blob&#x2F;tim&#x2F;equations&#x2F;sandbo...</a></div><br/><div id="39267483" class="c"><input type="checkbox" id="c-39267483" checked=""/><div class="controls bullet"><span class="by">addaon</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39266955">parent</a><span>|</span><a href="#39267282">next</a><span>|</span><label class="collapse" for="c-39267483">[-]</label><label class="expand" for="c-39267483">[2 more]</label></div><br/><div class="children"><div class="content">This is great. The pragmatic bit that makes it a bit more challenging (or, perhaps, a bit more of a search optimization problem than analytical) is that most of the cost functions are step functions. Once you need better than 10% tolerance on a resistor, you might as well step down to 1% -- available tolerances are discrete, and 5% and 2% tolerance parts are rarely cheaper than 1%. Similarly going to 0.1%. So once it&#x27;s clear that preferred_tolerance_N is not going to solve, you can assume preferred_tolerance_N+1, and then push that through -- and hopefully push a few marginal parts up a bucket. There&#x27;s also a similar step-function cost for adding a new BOM line, especially for hobby-scale projects; this is a project-global optimization, where I might change a 10 kΩ &#x2F; 2.2 kΩ resistor ladder to 6.8 kΩ &#x2F; 1.5 kΩ if I already have 1.5 kΩ, 6.8 kΩ, and 10 kΩ in my BOM but would otherwise need to add 2.2 kΩ (assuming everything else still solves, of course; more likely than not, since we usually don&#x27;t care much about the total resistance of a ladder, as long as it&#x27;s stiff enough, and doesn&#x27;t leak too much).</div><br/><div id="39267554" class="c"><input type="checkbox" id="c-39267554" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39267483">parent</a><span>|</span><a href="#39267282">next</a><span>|</span><label class="collapse" for="c-39267554">[-]</label><label class="expand" for="c-39267554">[1 more]</label></div><br/><div class="children"><div class="content">Hadn&#x27;t thought about the BOM line one but that definitely makes sense. The implementation I linked is definitely math heavy but might actually not be the best idea. As you say, the cost functions has steps. For less than a given amount of components, random search might be suited. Past that point, we might use maths to constrain the problem and then search within that range.<p>We have equations at the top of our todo list and hope to get there soon :) Matt setup a roadmap here with things we want to work on: <a href="https:&#x2F;&#x2F;atopile.io&#x2F;roadmap&#x2F;" rel="nofollow">https:&#x2F;&#x2F;atopile.io&#x2F;roadmap&#x2F;</a></div><br/></div></div></div></div></div></div><div id="39267282" class="c"><input type="checkbox" id="c-39267282" checked=""/><div class="controls bullet"><span class="by">Joker_vD</span><span>|</span><a href="#39266831">parent</a><span>|</span><a href="#39266955">prev</a><span>|</span><a href="#39264391">next</a><span>|</span><label class="collapse" for="c-39267282">[-]</label><label class="expand" for="c-39267282">[2 more]</label></div><br/><div class="children"><div class="content">&gt; it&#x27;s just circuits-as-text.<p>atopile (1) — convert ASCII to pile of electronic components</div><br/><div id="39267304" class="c"><input type="checkbox" id="c-39267304" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39266831">root</a><span>|</span><a href="#39267282">parent</a><span>|</span><a href="#39264391">next</a><span>|</span><label class="collapse" for="c-39267304">[-]</label><label class="expand" for="c-39267304">[1 more]</label></div><br/><div class="children"><div class="content">love it</div><br/></div></div></div></div></div></div><div id="39264391" class="c"><input type="checkbox" id="c-39264391" checked=""/><div class="controls bullet"><span class="by">michaelt</span><span>|</span><a href="#39266831">prev</a><span>|</span><a href="#39270284">next</a><span>|</span><label class="collapse" for="c-39264391">[-]</label><label class="expand" for="c-39264391">[12 more]</label></div><br/><div class="children"><div class="content">Very nice!<p>The state of electronics tooling has long been extremely bad - 99% of people who put a regulator into their schematic will want an appropriate input and output capacitor as the datasheet demands. 99% of people who put a microcontroller will want a crystal and a programming port and a reset pin pull-up. It&#x27;s only because of closed source tools stuck in the stone age that the state of the art is to <i>copy out of a PDF</i>.<p>And multiple people working on the same design and merging their changes? Forget about it!<p>It&#x27;ll be very exciting if we can move towards a more modular world, where designs can be composed.</div><br/><div id="39271009" class="c"><input type="checkbox" id="c-39271009" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#39264391">parent</a><span>|</span><a href="#39264484">next</a><span>|</span><label class="collapse" for="c-39271009">[-]</label><label class="expand" for="c-39271009">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s only because of closed source tools stuck in the stone age that the state of the art is to copy out of a PDF.<p>Not really. KiCad is open-source and a very capable EDA suite, for example.<p>The problem is that it&#x27;s a <i>really hard problem</i> for which no one-size-fits-all solution exists. There&#x27;s basically an infinite number of properties which are important when designing electronics, many of which will have to be nudged depending on your design. Capturing all that in a data format is virtually impossible, and any attempt to do so is likely to degrade into something unusual quite quickly once you get past the trivial stuff.<p>In my experience reading it out of a PDF is usually not that big of a deal, once you get used to it. For things like schematics symbols and footprints there <i>are</i> data interchange formats available - and there&#x27;s a pretty decent chance these days they&#x27;ll be openly available for the part you are using. But they <i>always</i> contain mistakes, and I find it way faster to just roll my own from the PDF than to copy it ready-made from a 3rd party and fix the errors.</div><br/></div></div><div id="39264484" class="c"><input type="checkbox" id="c-39264484" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39264391">parent</a><span>|</span><a href="#39271009">prev</a><span>|</span><a href="#39271287">next</a><span>|</span><label class="collapse" for="c-39264484">[-]</label><label class="expand" for="c-39264484">[1 more]</label></div><br/><div class="children"><div class="content">For sure, we definitely subscribe to works out of the box &#x2F; path most taken. We have been working on adding equations to our language so we can solve component values based on requirements like output current and ripple for a regulator to get cap values for example. I hope in the future our component models will capture a good fraction of the info you have to go to the datasheet for today.</div><br/></div></div><div id="39271287" class="c"><input type="checkbox" id="c-39271287" checked=""/><div class="controls bullet"><span class="by">stephen_g</span><span>|</span><a href="#39264391">parent</a><span>|</span><a href="#39264484">prev</a><span>|</span><a href="#39267489">next</a><span>|</span><label class="collapse" for="c-39271287">[-]</label><label class="expand" for="c-39271287">[2 more]</label></div><br/><div class="children"><div class="content">As an electronic design engineer, it just feels to me like these kind of things aren&#x27;t really huge problems day-to-day...<p>In terms of decoupling designs etc., the reason nobody has come up with a better solution is firstly that it doesn&#x27;t actually take up enough time in the scheme of things to bother, and secondly that you often have to deviate. For variable regulators for example, the output capacitor (and inductor if it&#x27;s not included in the device) are chosen based on output voltage, the switching frequency you choose, and sometimes other variables. You often want to deviate from the recommended circuit in the application notes for various reasons.<p>I&#x27;d think of a circuit board production as more like putting together a magazine than working on a software codebase, where you&#x27;d have a bunch of people working on overlapping parts of the code.<p>I mean even for a lot of boards we do (even quite complex ones) we&#x27;ll just have one design engineer and one layout engineer, but for things where multiple people work on the schematic we just have people work on their own sheets and then somebody brings them together into the final design - kind of like where you might have an overall designer&#x2F;editor that pulls a magazine together but individual people having put together individual articles. But it&#x27;s pretty common that it would still be mostly laid out by a single engineer unless you&#x27;re doing something extremely complex...</div><br/><div id="39271762" class="c"><input type="checkbox" id="c-39271762" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39271287">parent</a><span>|</span><a href="#39267489">next</a><span>|</span><label class="collapse" for="c-39271762">[-]</label><label class="expand" for="c-39271762">[1 more]</label></div><br/><div class="children"><div class="content">We have some plans and atopile already supports some configuration regarding those deviations. There&#x27;s a component selector which can choose resistors, caps, inductors etc... from a database of known components. Currently it&#x27;s a free-for-all, but naturally we expect to be able to constrain this to a subset of components like &quot;thing we already use at this company&quot;. That database means (once equations are also in) we&#x27;ll be able to capture those requirements and change those output components depending on the scenario.</div><br/></div></div></div></div><div id="39267489" class="c"><input type="checkbox" id="c-39267489" checked=""/><div class="controls bullet"><span class="by">moffkalast</span><span>|</span><a href="#39264391">parent</a><span>|</span><a href="#39271287">prev</a><span>|</span><a href="#39270284">next</a><span>|</span><label class="collapse" for="c-39267489">[-]</label><label class="expand" for="c-39267489">[7 more]</label></div><br/><div class="children"><div class="content">Yeah, trying to learn KiCad is worse than learning Blender. If JLCPcb made a simple online editor that sourced from available parts and integrated directly with their store they&#x27;d be running out of banks to put their money into.</div><br/><div id="39267576" class="c"><input type="checkbox" id="c-39267576" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39267489">parent</a><span>|</span><a href="#39270290">next</a><span>|</span><label class="collapse" for="c-39267576">[-]</label><label class="expand" for="c-39267576">[1 more]</label></div><br/><div class="children"><div class="content">They do have this, its called EasyEDA. In my experience its not as good as kicad and definitely not as good as the &#x27;professional&#x27; tools like cadence and altium. Our tool does basically do that though! We have a big library of kicad components that can be used in your designs as well as an import just about any JLC component just using its JLCPN. We love their service, would love to see that model proliferated to other companies also, so hard to beat having parts available and in stock.</div><br/></div></div><div id="39270290" class="c"><input type="checkbox" id="c-39270290" checked=""/><div class="controls bullet"><span class="by">drunkonvinyl</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39267489">parent</a><span>|</span><a href="#39267576">prev</a><span>|</span><a href="#39270396">next</a><span>|</span><label class="collapse" for="c-39270290">[-]</label><label class="expand" for="c-39270290">[1 more]</label></div><br/><div class="children"><div class="content">this resonates. i will share that i&#x27;m trying out and having luck with flux.ai. it&#x27;s not perfect, but for a small hobby project and someone with little experience and not getting far quickly in kicad, it works. i have a pcb in-hand from jlcpcb right now and it works. it also introduces some of the shared features discussed above. (i don&#x27;t work for them, just looking for something that would let me do a fairly fast PoC)</div><br/></div></div><div id="39270396" class="c"><input type="checkbox" id="c-39270396" checked=""/><div class="controls bullet"><span class="by">fxtentacle</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39267489">parent</a><span>|</span><a href="#39270290">prev</a><span>|</span><a href="#39268121">next</a><span>|</span><label class="collapse" for="c-39270396">[-]</label><label class="expand" for="c-39270396">[1 more]</label></div><br/><div class="children"><div class="content">They did and there&#x27;s even tools to import their component library into Altium or Eagle.</div><br/></div></div><div id="39268121" class="c"><input type="checkbox" id="c-39268121" checked=""/><div class="controls bullet"><span class="by">brokensegue</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39267489">parent</a><span>|</span><a href="#39270396">prev</a><span>|</span><a href="#39267690">next</a><span>|</span><label class="collapse" for="c-39268121">[-]</label><label class="expand" for="c-39268121">[1 more]</label></div><br/><div class="children"><div class="content">I learned kicad fairly quickly. I&#x27;ve tried several times to learn blender and failed. Then again I&#x27;m bad at art.</div><br/></div></div><div id="39267690" class="c"><input type="checkbox" id="c-39267690" checked=""/><div class="controls bullet"><span class="by">wkipling</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39267489">parent</a><span>|</span><a href="#39268121">prev</a><span>|</span><a href="#39267713">next</a><span>|</span><label class="collapse" for="c-39267690">[-]</label><label class="expand" for="c-39267690">[1 more]</label></div><br/><div class="children"><div class="content">Kicad is not that difficult to use. Sourcing parts can be though.</div><br/></div></div><div id="39267713" class="c"><input type="checkbox" id="c-39267713" checked=""/><div class="controls bullet"><span class="by">gedy</span><span>|</span><a href="#39264391">root</a><span>|</span><a href="#39267489">parent</a><span>|</span><a href="#39267690">prev</a><span>|</span><a href="#39270284">next</a><span>|</span><label class="collapse" for="c-39267713">[-]</label><label class="expand" for="c-39267713">[1 more]</label></div><br/><div class="children"><div class="content">They do!  EasyEDA, and have used it to make custom keyboard PCBs.  It&#x27;s pretty handy and I found the learning curve to be much easier than KiCAD, etc.</div><br/></div></div></div></div></div></div><div id="39270284" class="c"><input type="checkbox" id="c-39270284" checked=""/><div class="controls bullet"><span class="by">fxtentacle</span><span>|</span><a href="#39264391">prev</a><span>|</span><a href="#39270326">next</a><span>|</span><label class="collapse" for="c-39270284">[-]</label><label class="expand" for="c-39270284">[4 more]</label></div><br/><div class="children"><div class="content">Did you know that the KiCad file format for schematics and PCB layouts is text? And it kind of reads like source code? You can even check it into Git.<p>What stops electronics from becoming like programming is the routing. It&#x27;s NP hard and even the big car companies haven&#x27;t solved it yet, let alone any tool accessible to hobbyists and startups.<p>So you spend an hour designing the schematics, a few minutes placing the components, and then hours doing the routing by hand. If your product only replaces the first step, that&#x27;ll save me at most 10% of the work.<p>If you want to make a crater in this industry, add an autorouter to KiCad and make it sophisticated enough to handle an ESP32 2-layer board without manual assistance. Altium is like $15k per year and cannot do it yet.</div><br/><div id="39271526" class="c"><input type="checkbox" id="c-39271526" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39270284">parent</a><span>|</span><a href="#39270638">next</a><span>|</span><label class="collapse" for="c-39271526">[-]</label><label class="expand" for="c-39271526">[1 more]</label></div><br/><div class="children"><div class="content">Autorouting would for sure be a valuable tool to add to EEs toolchains. The reason we focused on the language first is because it is critical to provide high quality information to autorouter for them to do a good job. And achieving that with a schematic is tough, as it only captures part of the information required to doing a good job laying out the circuit. A bunch of information is currently implicit.</div><br/></div></div><div id="39270638" class="c"><input type="checkbox" id="c-39270638" checked=""/><div class="controls bullet"><span class="by">4b11b4</span><span>|</span><a href="#39270284">parent</a><span>|</span><a href="#39271526">prev</a><span>|</span><a href="#39270326">next</a><span>|</span><label class="collapse" for="c-39270638">[-]</label><label class="expand" for="c-39270638">[2 more]</label></div><br/><div class="children"><div class="content">you can do this with the Freerouting plugin<p>it&#x27;s non-trivial, you need to fiddle with parameters to encourage the autoroute towards certain behaviors. there are also some schematic patterns that lend towards better netlists and in turn better routing</div><br/><div id="39270946" class="c"><input type="checkbox" id="c-39270946" checked=""/><div class="controls bullet"><span class="by">fxtentacle</span><span>|</span><a href="#39270284">root</a><span>|</span><a href="#39270638">parent</a><span>|</span><a href="#39270326">next</a><span>|</span><label class="collapse" for="c-39270946">[-]</label><label class="expand" for="c-39270946">[1 more]</label></div><br/><div class="children"><div class="content">In general, yes, but when I tried it, all free autorouters (and the paid one in Altium) failed to do the fan-out&#x2F;escape of the ESP32&#x27;s BGA.<p>I then built a little CLI tool which used bitmap images and ConvNets to do just that one fan-out, but then I lost interest in it as soon as the PCB was finished.</div><br/></div></div></div></div></div></div><div id="39270326" class="c"><input type="checkbox" id="c-39270326" checked=""/><div class="controls bullet"><span class="by">fecal_henge</span><span>|</span><a href="#39270284">prev</a><span>|</span><a href="#39265162">next</a><span>|</span><label class="collapse" for="c-39270326">[-]</label><label class="expand" for="c-39270326">[2 more]</label></div><br/><div class="children"><div class="content">Hi,
EE here, but started my career as unskilled labor in a test lab. This is in contrast to my colleagues who are often physicists.<p>I love the graphical nature of Schematic design. It helps me visualise problems that my colleagues would admittedly rather code. I take a lot of care in my schematic layout, and it can help me make a good guess as to wether my circuit is planar or not. - usefull when you dont want to incurr the parasitics on a via somewhere.<p>I would also remark that there is no reason why design reuse would necessitate a text based caprure. We already have reuse though subsheet heirachy, ctrl c&#x2F;ctrl c and to some degree reference designs.<p>The only other thing I would add is that a lot of people come from a hobbyist background, which means small volumes. For commercial contract manufacturing, drawing out the same old schematic features for voltage regulators doesnt add up to much NRE as a fraction of the project cost.</div><br/><div id="39271588" class="c"><input type="checkbox" id="c-39271588" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39270326">parent</a><span>|</span><a href="#39265162">next</a><span>|</span><label class="collapse" for="c-39271588">[-]</label><label class="expand" for="c-39271588">[1 more]</label></div><br/><div class="children"><div class="content">Well designed schematics are great. Especially if you are sharing them with your team as documentation.<p>The point we would like to move towards is one where atopile enables you to generate high quality documentation about your design in a similar fashion to a datasheet but not entangling the documentation with the source design, which is what a schematic forces you to do. There are some features we&#x27;d want to build that could enable that like a visualizer for important parts of a schematic, a fan out view of the consumed interfaces around a chip, the results of a spice simulation...</div><br/></div></div></div></div><div id="39265162" class="c"><input type="checkbox" id="c-39265162" checked=""/><div class="controls bullet"><span class="by">OJFord</span><span>|</span><a href="#39270326">prev</a><span>|</span><a href="#39266077">next</a><span>|</span><label class="collapse" for="c-39265162">[-]</label><label class="expand" for="c-39265162">[8 more]</label></div><br/><div class="children"><div class="content">Yes yes yes! I love it when people make the things I think would be a good idea, and then stay on the hobby project idea list for years to come. (I&#x27;m struggling to make that not sound sarcastic - maybe it&#x27;s just my British reading! - but I really am sincere.)<p>When I was thinking about it, a couple of further directions I had in mind were 1) ecosystem&#x2F;library&#x2F;sharing of modules, so something like the voltage divider example is not something you&#x27;d need to do (even once) for every project; if it really took off the pipedream would be that application notes examples were just provided as modules, so you could take whatever IC wnd just import the module if you were using it in a standard way; 2) if you did a similar thing for layout constraints, you could then have that as part of the same module, and when you compile the whole thing (in hand-wavey generalised theory if sufficiently constrained) you could generate the overall layout for a project with say a SMPS and also sensitive analogue circuitry in a way that makes sense without either of those modules having to know that the other is in use, just because they have rules like distance from transistor, bypass cap to IC could be fully constrained, so you always get exactly the same sensible-looking layout, etc.<p>Anyway, looks great, I look forward to trying it properly some time!</div><br/><div id="39265342" class="c"><input type="checkbox" id="c-39265342" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39265162">parent</a><span>|</span><a href="#39265327">next</a><span>|</span><label class="collapse" for="c-39265342">[-]</label><label class="expand" for="c-39265342">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely love to hear that!<p>100% agreed about the ecosystem too. We&#x27;ve already created a perhaps-too-scrappy package manager, but it works! <a href="https:&#x2F;&#x2F;packages.atopile.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;packages.atopile.io&#x2F;</a>
We&#x27;re pretty convinced that the awesomeness of the software ecosystem is a function of its openness and open-source and atopile largely came from working out how we could seed a similar shift in the hardware world. I can&#x27;t wait for the day I can `ato install` SMPS, filters, radios and servo-drives with the confidence they&#x27;ll just work!</div><br/></div></div><div id="39265327" class="c"><input type="checkbox" id="c-39265327" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265162">parent</a><span>|</span><a href="#39265342">prev</a><span>|</span><a href="#39266077">next</a><span>|</span><label class="collapse" for="c-39265327">[-]</label><label class="expand" for="c-39265327">[6 more]</label></div><br/><div class="children"><div class="content">Specifically on the layout section, I have been thinking along the lines of start with sensible &#x27;seed&#x27; layouts that users will contribute, then mutate the layouts with a physics driven solver. Imagine links between components as a spring and repulsion forces to model creepage&#x2F;clearance distances, you could imagine the layout warping into a suitable shape for your board. I am pretty excited to get to this bit.</div><br/><div id="39265900" class="c"><input type="checkbox" id="c-39265900" checked=""/><div class="controls bullet"><span class="by">helpfulmountain</span><span>|</span><a href="#39265162">root</a><span>|</span><a href="#39265327">parent</a><span>|</span><a href="#39266077">next</a><span>|</span><label class="collapse" for="c-39265900">[-]</label><label class="expand" for="c-39265900">[5 more]</label></div><br/><div class="children"><div class="content">As someone who just taught themself Kicad to make a simple MIDI controller PCB usi an STM32F4, I was totally blown away, coming from software, how &quot;manual&quot; everything was, how abstruse and arcane.<p>It&#x27;s quite difficult as a beginner to know that a design is &quot;correct&quot;, or perhaps &quot;correct enough&quot;, with respect to component placement and EMI.<p>It seems like even top EE who specialize in board design utilize rules of thumb rather than rely on simulation.<p>I was also blown away that the state of the art autorouter for traces seems to be from the early 2000&#x27;s -- no recent AI magic going on here.<p>Where is my &quot;autoplacer&quot;? It seems like an AI trained on millions of schematic&#x2F;pcb combos, even just gerber files via image ingestion, ought to be able to generate a pretty decent layout + routing given constraints.<p>Or perhaps I&#x27;m spoiled coming from software and web because it&#x27;s so much further removed from physics. But it&#x27;s still the case that there are a ton of modular components with &quot;API&#x27;s&quot; that should have a templating language, so very much bravo to this project.</div><br/><div id="39271049" class="c"><input type="checkbox" id="c-39271049" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#39265162">root</a><span>|</span><a href="#39265900">parent</a><span>|</span><a href="#39268755">next</a><span>|</span><label class="collapse" for="c-39271049">[-]</label><label class="expand" for="c-39271049">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It seems like even top EE who specialize in board design utilize rules of thumb rather than rely on simulation.<p>Yup, almost 100% this. Most parts of most boards are pretty trivial, and the design decisions you make don&#x27;t <i>really</i> matter all that much. Unless you&#x27;re working at a company the size of Apple, it really doesn&#x27;t make sense to spend several hours of engineering time to figure out if that $0.001 decoupling capacitor is <i>really</i> needed.<p>And in the end it&#x27;s often a lot easier to just build the thing and test if it works. We see the same in programming: it&#x27;s <i>technically</i> possible to mathematically prove that some programs are correct, but in practice you can get 99% of the way there for <i>all</i> programs in a fraction of the time by just writing a bunch of unit tests.<p>Simulation is definitely done, but it&#x27;s limited to the <i>really hard</i> stuff like antenna design or high-speed signalling.</div><br/></div></div><div id="39268755" class="c"><input type="checkbox" id="c-39268755" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#39265162">root</a><span>|</span><a href="#39265900">parent</a><span>|</span><a href="#39271049">prev</a><span>|</span><a href="#39266111">next</a><span>|</span><label class="collapse" for="c-39268755">[-]</label><label class="expand" for="c-39268755">[2 more]</label></div><br/><div class="children"><div class="content">Yes, it is like 90% rules of thumb and experience. The reason being simulation is expensive: not just in the software itself, but in the time it takes to learn how to use it, set it up for a particular design, and then run through it and understand if it&#x27;s actually reflecting reality or not. I&#x27;ve been working on some projects where we really care deeply about noise performance, and even the super-expensive packages which exist (which we can&#x27;t really afford) don&#x27;t seem to actually be able to answer the questions we have about the design. Autorouting is similar, autoplacing is basically a disaster here.<p>I am confident a lot of this is an accessibility and UI issue: if you want to disrupt this you could focus on making simulation and auto-placement tools that are cheap and actually usable, and help inform the rules-of-thumb. But that&#x27;s a very big investment and mostly orthogonal to making a different way to specify your netlist.</div><br/><div id="39268832" class="c"><input type="checkbox" id="c-39268832" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39265162">root</a><span>|</span><a href="#39268755">parent</a><span>|</span><a href="#39266111">next</a><span>|</span><label class="collapse" for="c-39268832">[-]</label><label class="expand" for="c-39268832">[1 more]</label></div><br/><div class="children"><div class="content">We share similar thoughts about the core of the auto-routing&#x2F;placement&#x2F;simulation issues being UX! We&#x27;re a bit more bullish on code being able to fix that as well.<p>Noticing that these tools are infrequently even configured because it&#x27;s simply too much of a pain to do so for every new design - we&#x27;re hoping the expressive, reuse-focussed code-based-approach means people need to capture these things once and then everyone gets to reuse them.<p>This is all a while away, but after we&#x27;re able to get design currently captured in schematics working smoothly we certainly plan to tackle auto-routing&#x2F;layout as well</div><br/></div></div></div></div><div id="39266111" class="c"><input type="checkbox" id="c-39266111" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265162">root</a><span>|</span><a href="#39265900">parent</a><span>|</span><a href="#39268755">prev</a><span>|</span><a href="#39266077">next</a><span>|</span><label class="collapse" for="c-39266111">[-]</label><label class="expand" for="c-39266111">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the support!<p>For the autolayout part, one thing we realized is that it’s very hard for a computer to do a good job at it when there is a lot of implicit requirements that are not baked into the schematics. We are hoping that by capturing those through code, auto layout can be improved.<p>On the design check, we aren’t doing a lot there for the moment but the comment above also applies: if you have clear requirements in the code, it becomes easier to test if the solution fits those requirement.</div><br/></div></div></div></div></div></div></div></div><div id="39266077" class="c"><input type="checkbox" id="c-39266077" checked=""/><div class="controls bullet"><span class="by">helpfulmountain</span><span>|</span><a href="#39265162">prev</a><span>|</span><a href="#39267603">next</a><span>|</span><label class="collapse" for="c-39266077">[-]</label><label class="expand" for="c-39266077">[13 more]</label></div><br/><div class="children"><div class="content">I think this is a wonderful idea and begins to create a foundation of data richness and interoperability for a very exciting new approach to PCB design, as I commented elsewhere in this thread<p>However I do want to mention that I think it might be necessary to be able to &quot;cross-compile&quot; to visual schematic format, and back. Or perhaps there is an open schematic tool that can be extended?<p>The issue is that I think electrical schematics are significantly more familiar to EE types, contain more legible information. Instead of reinventing the wheel there, it&#x27;d be nice to see a system that can switch back and forth between text and visual schematic.<p>How are schematics described as files currently? Is there an open standard? Can it be converted to atopile format, and back?</div><br/><div id="39266654" class="c"><input type="checkbox" id="c-39266654" checked=""/><div class="controls bullet"><span class="by">polalavik</span><span>|</span><a href="#39266077">parent</a><span>|</span><a href="#39266216">next</a><span>|</span><label class="collapse" for="c-39266654">[-]</label><label class="expand" for="c-39266654">[8 more]</label></div><br/><div class="children"><div class="content">I was thinking the same thing (I&#x27;m an EE by day). I think this idea is very cool, but since the dawn of time schematics and PCB layout have always been visual because you are actually building a physical thing. Its easy to see hardware bugs in schematics visually. However, it might be very hard to track it in code, unless the code is one day smart enough to find the bugs for you. You have to hold more context in your head that you cant export to your visual senses when its written as code. You cant see the actual circuit flow.<p>edit: just wanted to double down on this being very cool though. i dont mean to deflate this project and I&#x27;m about to design a pcb for a personal project - I might give this a go for fun. the promise is there and asthe project and feature set grows i can see it being the way forward.</div><br/><div id="39266836" class="c"><input type="checkbox" id="c-39266836" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266654">parent</a><span>|</span><a href="#39267885">next</a><span>|</span><label class="collapse" for="c-39266836">[-]</label><label class="expand" for="c-39266836">[1 more]</label></div><br/><div class="children"><div class="content">I have found taking a &#x27;functional programming&#x27; like approach, where you build up your circuit from small blocks with specific functions that are easy to hold in your mind and then building up by combining those. For example instead of sticking a bunch of resistors and caps in your top level file, you can abstract them into their functions like a filter, resistor divider etc. Very curious to get your thoughts on using the tool!</div><br/></div></div><div id="39267885" class="c"><input type="checkbox" id="c-39267885" checked=""/><div class="controls bullet"><span class="by">cmos</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266654">parent</a><span>|</span><a href="#39266836">prev</a><span>|</span><a href="#39266781">next</a><span>|</span><label class="collapse" for="c-39267885">[-]</label><label class="expand" for="c-39267885">[1 more]</label></div><br/><div class="children"><div class="content">I agree - also an EE - and I think it is similar to &#x27;programming music&#x27; packages like Sonic Pi.  If you are used to reading and writing standard music coding will be an odd and difficult change.  
Right now we have a comfort for seeing the layout and such physically, and since that is how we manufacture it this is going to be an output anyway, but there is some future world where it is all put together automatically within the requirements we specify and we have an entirely new way of designing circuit boards.  
Each component would come with not only a footprint but an array of basic design implementations that would mix and match with others.. autorouting on steroids of sorts.</div><br/></div></div><div id="39266781" class="c"><input type="checkbox" id="c-39266781" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266654">parent</a><span>|</span><a href="#39267885">prev</a><span>|</span><a href="#39266216">next</a><span>|</span><label class="collapse" for="c-39266781">[-]</label><label class="expand" for="c-39266781">[5 more]</label></div><br/><div class="children"><div class="content">We do agree. We built an early version of a viewer in the project but later moved away from it because it wasn&#x27;t good enough to interact with. We might come back to it with something that is more targeted at inspecting only sections of the circuit or provide a block diagram level representation. But we don&#x27;t think that just outputting a schematic the way they look today is the right solution.</div><br/><div id="39270403" class="c"><input type="checkbox" id="c-39270403" checked=""/><div class="controls bullet"><span class="by">whartung</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266781">parent</a><span>|</span><a href="#39268569">next</a><span>|</span><label class="collapse" for="c-39270403">[-]</label><label class="expand" for="c-39270403">[1 more]</label></div><br/><div class="children"><div class="content">I worked on this for a little while myself.<p>It wasn&#x27;t so much &quot;pc board by code&quot; so much, but it was more a &quot;pc board by CLI&quot; approach.<p>And by that what my goal was, was to offer primitives and utility functions that would build the board up over time, but it was to be done incrementally in a Lisp REPL.<p>My use case scenario, was ancient AutoCAD.<p>Back in the day, while you could hook up a tablet or other pointing device (I&#x27;m talking pre-mouse here) to make AutoCAD drawings, a lot of it was done simply through typing in commands, in AutoLISP.<p>(lineto 100 100) kind of thing. And the drawing would appear on the screen over time, you&#x27;d save the data model, and manipulated with the REPL. If you wanted 10 lines:<p><pre><code>    (dotimes (i 10) (let ((x (* i 10)) (y 100)) (line x y x (+ y 100)))
</code></pre>
(HN does not have a paren matching editor, apologies...)<p>Where it broke down for me was coming up with a graphic rendition using CL.<p>If emacs had anything reasonable regarding graphic support (its SVG support is Not Good), I&#x27;d have done it there.<p>Rethinking it, it just occurred to me I could have probably gone a good way using ABCL in a Java GUI shell.<p>But the key point is that I think using a REPL for building up something like a circuit can actually work, actually be efficient for users, especially if it&#x27;s extensible  (i.e. (defun grid ...) ). Especially a hybrid (like clicking on a line pastes an identifier into the REPL).<p>My experiences with KiCAD drove me down that mad hole.</div><br/></div></div><div id="39268569" class="c"><input type="checkbox" id="c-39268569" checked=""/><div class="controls bullet"><span class="by">techdragon</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266781">parent</a><span>|</span><a href="#39270403">prev</a><span>|</span><a href="#39266216">next</a><span>|</span><label class="collapse" for="c-39268569">[-]</label><label class="expand" for="c-39268569">[3 more]</label></div><br/><div class="children"><div class="content">You might find this a stumbling point for adoption. My first thought is this could be a good tool for me to use, but how can I send a design to someone else to get feedback on if I’m not going to expect them to also also learn how to use this or how can I get my design manufactured if the tools can’t export out the, normally very visual, layout files.</div><br/><div id="39268725" class="c"><input type="checkbox" id="c-39268725" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39268569">parent</a><span>|</span><a href="#39266216">next</a><span>|</span><label class="collapse" for="c-39268725">[-]</label><label class="expand" for="c-39268725">[2 more]</label></div><br/><div class="children"><div class="content">I do think that is fair. The reason that we don&#x27;t have a visualizer is not that we don&#x27;t want one, but rather that the value to effort ratio is quite low (and really because the effort is high, not because of low value). I&#x27;m sure we&#x27;ll get there at some point. But at the moment there are more pressing issues for the people who are ok dealing with no visualization (like typing, language server, equations etc...).</div><br/><div id="39268879" class="c"><input type="checkbox" id="c-39268879" checked=""/><div class="controls bullet"><span class="by">techdragon</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39268725">parent</a><span>|</span><a href="#39266216">next</a><span>|</span><label class="collapse" for="c-39268879">[-]</label><label class="expand" for="c-39268879">[1 more]</label></div><br/><div class="children"><div class="content">I’d definitely consider not letting some basic visual schematic outputs fall too far down the priority list.<p>A lot of existing EE is basically just the visual diagrams and a lot of existing EE people will expect the tools to give them the visual diagrams they work with somehow… like even just including the compiled schematic as an SVG in with the compiled outputs of netlist, gerber, etc… something that other software can be used to convert to PDF without extra complexity in your tool and can be used to interoperable with the existing talent pool of EE people who have not just no idea how to use your tool… but know how to read typical style circuit diagrams.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39266216" class="c"><input type="checkbox" id="c-39266216" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39266077">parent</a><span>|</span><a href="#39266654">prev</a><span>|</span><a href="#39267603">next</a><span>|</span><label class="collapse" for="c-39266216">[-]</label><label class="expand" for="c-39266216">[4 more]</label></div><br/><div class="children"><div class="content">Yeah that’s an interesting aspect. We did implement a viewer very early on. And we then removed it from the project.<p>What we discovered is that:<p>- making a visual viewer is a non trivial endeavor. It takes a lot of time but the value add is marginal for an average viewer. 
- people tend to spend a lot of time making the viewer look good instead of improving the circuit<p>We think that in the long run, a viewer could be awesome to inspect what is going on or get a general understanding of the circuit. But it’ll be difficult to justify the time spent on it early on in the project.</div><br/><div id="39266387" class="c"><input type="checkbox" id="c-39266387" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266216">parent</a><span>|</span><a href="#39266398">next</a><span>|</span><label class="collapse" for="c-39266387">[-]</label><label class="expand" for="c-39266387">[1 more]</label></div><br/><div class="children"><div class="content">Worth adding, we have found much higher returns building tools to solve the problems that a visualizer would normally help you with in other ways. For example ERC checking and modular abstraction of circuits. Working at a &#x27;block diagram&#x27; level is much more intuitive than at the net level in my experience.<p>We also think that there might be better and more interesting ways to view your data, for example maybe you want to just see all the power paths through your circuit, or investigate how a signal travels from your input to your adc through filters, protection etc. Often on big designs these things might be strewn across multiple sheets and a bit hard to follow.</div><br/></div></div><div id="39266398" class="c"><input type="checkbox" id="c-39266398" checked=""/><div class="controls bullet"><span class="by">malfist</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266216">parent</a><span>|</span><a href="#39266387">prev</a><span>|</span><a href="#39267603">next</a><span>|</span><label class="collapse" for="c-39266398">[-]</label><label class="expand" for="c-39266398">[2 more]</label></div><br/><div class="children"><div class="content">As a novice, a viewer would be really helpful to me to understand what it&#x27;s actually doing. I did bookmark this for the next project I have in mind.</div><br/><div id="39266548" class="c"><input type="checkbox" id="c-39266548" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39266077">root</a><span>|</span><a href="#39266398">parent</a><span>|</span><a href="#39267603">next</a><span>|</span><label class="collapse" for="c-39266548">[-]</label><label class="expand" for="c-39266548">[1 more]</label></div><br/><div class="children"><div class="content">I am definitely curious for feedback from people after using it for a while. I felt the same in the beginning, but after writing a fair bit of it, I rarely find myself wanting it. I could imagine for more casual or new users it could be helpful at least for the transition.</div><br/></div></div></div></div></div></div></div></div><div id="39267603" class="c"><input type="checkbox" id="c-39267603" checked=""/><div class="controls bullet"><span class="by">jhallenworld</span><span>|</span><a href="#39266077">prev</a><span>|</span><a href="#39265675">next</a><span>|</span><label class="collapse" for="c-39267603">[-]</label><label class="expand" for="c-39267603">[7 more]</label></div><br/><div class="children"><div class="content">Why not use Verilog or SystemVerilog?<p><pre><code>    module blinky
      (
      input v3v3,
      input gnd
      );

    wire led;

    wire led_r;

    rp2040 u1
      (
      .vcc (v3v3),
      .gnd (gnd),
      .gpioa15 (led)
      );

    resistor #(.VALUE(&quot;220&quot;), .TOLERANCE(&quot;5%&quot;), .PART(&quot;ERJH2CF1R10X&quot;), .SIZE(&quot;1206&quot;)) r1
      (
      .a (led),
      .b (led_r)
      );

    led #(.PART(&quot;WP7113SURDK14V&quot;)) d1
      (
      .anode (v3v3),
      .cathode (led_r)
      );

   endmodule
</code></pre>
Use Verilog parameters for all of the part information you might want, like links to digikey part number..  or bury them into modules with different names.<p>FWIW: Cadance &quot;conceptHDL&quot; is a schematic entry program which generates a Verilog netlist like this as its output (usually for board level simulation including ASICs and FPGAs).  But if you&#x27;re careful, Verilog could used directly as the input- the board-level schematic is pretty simple compared with the chip source code.<p>I&#x27;m sure there is a tool somewhere to convert this into an EDIF netlist for Kicad or whatever.  [Icarus can do it: <a href="https:&#x2F;&#x2F;steveicarus.github.io&#x2F;iverilog&#x2F;targets&#x2F;tgt-fpga.html" rel="nofollow">https:&#x2F;&#x2F;steveicarus.github.io&#x2F;iverilog&#x2F;targets&#x2F;tgt-fpga.html</a> ]<p>Also: this is not limited to digital: there is a variant of Verilog called Verilog-AMS specifically designed for analog simulation.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Verilog-AMS" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Verilog-AMS</a><p>In Verilog-AMS, you can define a simulation models of your components:<p><pre><code>    module resistor
      (
      inout electrical a,
      inout electrical b
      );

    parameter real R = 1.0;

    analog
        V(a,b) &lt;+ R * I(a,b);

    endmodule

    module capacitor
      (
      inout electrical p,
      inout electrical n
      );

    parameter real c = 0;

    analog
      I(p,n) &lt;+ c*ddt(V(p, n));

    endmodule
</code></pre>
So not only do you get a component, but you also can simulate the whole thing before fabrication to catch mistakes.</div><br/><div id="39267692" class="c"><input type="checkbox" id="c-39267692" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39267603">parent</a><span>|</span><a href="#39267990">next</a><span>|</span><label class="collapse" for="c-39267692">[-]</label><label class="expand" for="c-39267692">[1 more]</label></div><br/><div class="children"><div class="content">We had a look at a few options before doing our own. A few thoughts; 
Building a DSL allows us to keep it really simple to start, we tried using SKIDL ( a very cool python project) and found it was pretty easy to get your self in a weird spot, the language would let users do things like create a component and not hold a reference to it.<p>Units and tolerances are core to our language, the physical world is &#x27;fuzzy&#x27; and having a good way to deal with those we think is pretty important.<p>We are also trying to make it as readable and friendly as possible, our expectation is our users will likely have some experience with python and perhaps a little C back in school, so making it clear and approachable is front of mind.<p>Very open to critiques on our choices! We still very much in development.</div><br/></div></div><div id="39267990" class="c"><input type="checkbox" id="c-39267990" checked=""/><div class="controls bullet"><span class="by">demondemidi</span><span>|</span><a href="#39267603">parent</a><span>|</span><a href="#39267692">prev</a><span>|</span><a href="#39265675">next</a><span>|</span><label class="collapse" for="c-39267990">[-]</label><label class="expand" for="c-39267990">[5 more]</label></div><br/><div class="children"><div class="content">I think a lot of young hackers just don&#x27;t have the breadth of experience to know what has come before them, or what is in common use. OP has reinvented synthesis, but poorly.</div><br/><div id="39268085" class="c"><input type="checkbox" id="c-39268085" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39267603">root</a><span>|</span><a href="#39267990">parent</a><span>|</span><a href="#39268260">next</a><span>|</span><label class="collapse" for="c-39268085">[-]</label><label class="expand" for="c-39268085">[1 more]</label></div><br/><div class="children"><div class="content">Not even quite synthesis yet! We&#x27;re well aware there&#x27;s quite a lot out there that&#x27;s fairly analogous - but nothing that&#x27;s quite translated to the space, despite a few efforts as pointed out above.<p>There&#x27;s a few parts we think that are behind that, but one is similar to python&#x27;s&#x2F;Guido&#x27;s &quot;code is read more than it&#x27;s written&quot;, so we&#x27;re attempting to address that!</div><br/></div></div><div id="39268260" class="c"><input type="checkbox" id="c-39268260" checked=""/><div class="controls bullet"><span class="by">fennecbutt</span><span>|</span><a href="#39267603">root</a><span>|</span><a href="#39267990">parent</a><span>|</span><a href="#39268085">prev</a><span>|</span><a href="#39265675">next</a><span>|</span><label class="collapse" for="c-39268260">[-]</label><label class="expand" for="c-39268260">[3 more]</label></div><br/><div class="children"><div class="content">And if you want to go there (which you did), older hackers have too much experience and are therefore set in their ways and are incapable of innovation.</div><br/><div id="39268520" class="c"><input type="checkbox" id="c-39268520" checked=""/><div class="controls bullet"><span class="by">demondemidi</span><span>|</span><a href="#39267603">root</a><span>|</span><a href="#39268260">parent</a><span>|</span><a href="#39268309">prev</a><span>|</span><a href="#39265675">next</a><span>|</span><label class="collapse" for="c-39268520">[-]</label><label class="expand" for="c-39268520">[1 more]</label></div><br/><div class="children"><div class="content">“Go there”? This isn’t a battle. Both can be true. But experience is a fact.</div><br/></div></div></div></div></div></div></div></div><div id="39265675" class="c"><input type="checkbox" id="c-39265675" checked=""/><div class="controls bullet"><span class="by">mlsu</span><span>|</span><a href="#39267603">prev</a><span>|</span><a href="#39267614">next</a><span>|</span><label class="collapse" for="c-39265675">[-]</label><label class="expand" for="c-39265675">[11 more]</label></div><br/><div class="children"><div class="content">One thing that surprised me when moving from mechanical CAD to EDA programs is the lack of &quot;relations.&quot; I have not used the more professional tools, just KiCad, but it surprised me that there are not more variables, relations, constraints, subassemblies, for things like buck converters and these types of things. KiCad has &#x27;netclasses&#x27; which let you set trace widths, but it&#x27;s all manual, same with the design rules checker. Each vendor seems to have their own design manual for these things, which is nice to have but so tedious -- I have to read a PDF to know what size decoupling cap goes with this IC? Why is that information not encoded in the footprint somehow?<p>I understand that auto-routing is not a solved problem by any means, but there should be more efficient tools to make it easier. I shudder to imagine laying out some big LED matrix without more advanced tooling.</div><br/><div id="39265769" class="c"><input type="checkbox" id="c-39265769" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265675">parent</a><span>|</span><a href="#39265821">next</a><span>|</span><label class="collapse" for="c-39265769">[-]</label><label class="expand" for="c-39265769">[1 more]</label></div><br/><div class="children"><div class="content">For sure, its a big benefit of using language, it is comparatively very fast and easy to define custom relationships of component values, trace widths etc that would quickly become untenable in a point and click tool. We think the path forward is to be able to encode the governing equations that you would get in say a buck controllers data sheet directly into our source code. That way from a user perspective you can define your circuit simply by importing modules, defining them (for example input voltage, output voltage and current) we can then solve the component values and pick them from our component database for you. One of our early users wrote a plugin to do LED arrays in an afternoon. Our compiler is all open so its pretty easy to add on custom scripts for whatever you might be wanting to do.</div><br/></div></div><div id="39265821" class="c"><input type="checkbox" id="c-39265821" checked=""/><div class="controls bullet"><span class="by">calvinmorrison</span><span>|</span><a href="#39265675">parent</a><span>|</span><a href="#39265769">prev</a><span>|</span><a href="#39267614">next</a><span>|</span><label class="collapse" for="c-39265821">[-]</label><label class="expand" for="c-39265821">[9 more]</label></div><br/><div class="children"><div class="content">look at OpenSCAD, it&#x27;s a scripting language to generate models. I used this a lot to generate subpieces and build off of that. easy as saying Bolt(&quot;M5&quot;, 1.5) or something</div><br/><div id="39267096" class="c"><input type="checkbox" id="c-39267096" checked=""/><div class="controls bullet"><span class="by">nerpderp82</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39265821">parent</a><span>|</span><a href="#39266046">next</a><span>|</span><label class="collapse" for="c-39267096">[-]</label><label class="expand" for="c-39267096">[3 more]</label></div><br/><div class="children"><div class="content">As a regular OpenSCAD user, I wouldn&#x27;t bring it up as a good solution for anything. It exists, you can solve problems with it, but it isn&#x27;t a good design. It should just be a library in a real language.</div><br/><div id="39267835" class="c"><input type="checkbox" id="c-39267835" checked=""/><div class="controls bullet"><span class="by">bsza</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39267096">parent</a><span>|</span><a href="#39266046">next</a><span>|</span><label class="collapse" for="c-39267835">[-]</label><label class="expand" for="c-39267835">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It should just be a library in a real language<p>The last thing I want to worry about is having malware in an M5 bolt.</div><br/><div id="39267886" class="c"><input type="checkbox" id="c-39267886" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39267835">parent</a><span>|</span><a href="#39266046">next</a><span>|</span><label class="collapse" for="c-39267886">[-]</label><label class="expand" for="c-39267886">[1 more]</label></div><br/><div class="children"><div class="content">From a security perspective, it does help that ato is not executable!</div><br/></div></div></div></div></div></div><div id="39266046" class="c"><input type="checkbox" id="c-39266046" checked=""/><div class="controls bullet"><span class="by">ukd1</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39265821">parent</a><span>|</span><a href="#39267096">prev</a><span>|</span><a href="#39266304">next</a><span>|</span><label class="collapse" for="c-39266046">[-]</label><label class="expand" for="c-39266046">[3 more]</label></div><br/><div class="children"><div class="content">Ya OpenSCAD is great for in&#x2F;cross project re-usable components.<p>The only issues I&#x27;ve had is how it outputs circular things for cutting - it does a series of polygons (configurable number), rather than an arc&#x2F;circular - places like send-cut-send won&#x27;t accept it, claiming it causes issues with their machines.</div><br/><div id="39266730" class="c"><input type="checkbox" id="c-39266730" checked=""/><div class="controls bullet"><span class="by">xnzakg</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39266046">parent</a><span>|</span><a href="#39266304">next</a><span>|</span><label class="collapse" for="c-39266730">[-]</label><label class="expand" for="c-39266730">[2 more]</label></div><br/><div class="children"><div class="content">Old issue, but annoying nonetheless. Less of a problem when outputting STL files (for printing) which only support polylines and not arcs&#x2F;circles. Funnily enough, 3D printers nowadays support arcs natively in G-code, so some slicers support detecting rounded polylines and converting them back into circles or arcs.<p>Found a script[0] that does this for DXFs in a github issue[1].<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;nophead&#x2F;Mendel90&#x2F;blob&#x2F;master&#x2F;dxf.py">https:&#x2F;&#x2F;github.com&#x2F;nophead&#x2F;Mendel90&#x2F;blob&#x2F;master&#x2F;dxf.py</a>
[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;openscad&#x2F;openscad&#x2F;issues&#x2F;4605">https:&#x2F;&#x2F;github.com&#x2F;openscad&#x2F;openscad&#x2F;issues&#x2F;4605</a></div><br/><div id="39270258" class="c"><input type="checkbox" id="c-39270258" checked=""/><div class="controls bullet"><span class="by">ukd1</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39266730">parent</a><span>|</span><a href="#39266304">next</a><span>|</span><label class="collapse" for="c-39270258">[-]</label><label class="expand" for="c-39270258">[1 more]</label></div><br/><div class="children"><div class="content">I actually opened that issue - I&#x27;m ukd1 on github too. I looked at fixing it at some point, but it tbh didn&#x27;t seem that easy or like they had time to help, I should probably revisit. The script I couldn&#x27;t get working right last time I tried, but I should give it a re-look!</div><br/></div></div></div></div></div></div><div id="39266304" class="c"><input type="checkbox" id="c-39266304" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39265821">parent</a><span>|</span><a href="#39266046">prev</a><span>|</span><a href="#39266070">next</a><span>|</span><label class="collapse" for="c-39266304">[-]</label><label class="expand" for="c-39266304">[1 more]</label></div><br/><div class="children"><div class="content">I found OpenSCAD&#x27;s 3d model representation to be very challenging for anything complicated.  I used FreeCAD, which is scriptable, but also uses a brep representation instead of CSG, which IME works a jillion times better.</div><br/></div></div><div id="39266070" class="c"><input type="checkbox" id="c-39266070" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265675">root</a><span>|</span><a href="#39265821">parent</a><span>|</span><a href="#39266304">prev</a><span>|</span><a href="#39267614">next</a><span>|</span><label class="collapse" for="c-39266070">[-]</label><label class="expand" for="c-39266070">[1 more]</label></div><br/><div class="children"><div class="content">I have used it, I think its great. I am excited to see whole products defined in code.</div><br/></div></div></div></div></div></div><div id="39267614" class="c"><input type="checkbox" id="c-39267614" checked=""/><div class="controls bullet"><span class="by">Taig</span><span>|</span><a href="#39265675">prev</a><span>|</span><a href="#39265916">next</a><span>|</span><label class="collapse" for="c-39267614">[-]</label><label class="expand" for="c-39267614">[7 more]</label></div><br/><div class="children"><div class="content">`import Y from X` is a terrible language design decision, established by the JavaScript ecosystem. It should be along the lines of `import X.Y` or `from X import Y` so that autocomplete tools can assist you.</div><br/><div id="39267733" class="c"><input type="checkbox" id="c-39267733" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39267614">parent</a><span>|</span><a href="#39267698">next</a><span>|</span><label class="collapse" for="c-39267733">[-]</label><label class="expand" for="c-39267733">[3 more]</label></div><br/><div class="children"><div class="content">Aspects of the python lexer and parser implementation were borrowed from python, which is partly why we ended up here. I do agree though.</div><br/><div id="39268001" class="c"><input type="checkbox" id="c-39268001" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39267614">root</a><span>|</span><a href="#39267733">parent</a><span>|</span><a href="#39267698">next</a><span>|</span><label class="collapse" for="c-39268001">[-]</label><label class="expand" for="c-39268001">[2 more]</label></div><br/><div class="children"><div class="content">Python does
from x import y
though.</div><br/><div id="39268608" class="c"><input type="checkbox" id="c-39268608" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39267614">root</a><span>|</span><a href="#39268001">parent</a><span>|</span><a href="#39267698">next</a><span>|</span><label class="collapse" for="c-39268608">[-]</label><label class="expand" for="c-39268608">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I think we only allow import x from y for the minute. And because we don&#x27;t have a language server yet, it wasn&#x27;t obvious that it was an issue. That&#x27;ll change soon when the server is up though!</div><br/></div></div></div></div></div></div><div id="39267698" class="c"><input type="checkbox" id="c-39267698" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39267614">parent</a><span>|</span><a href="#39267733">prev</a><span>|</span><a href="#39267701">next</a><span>|</span><label class="collapse" for="c-39267698">[-]</label><label class="expand" for="c-39267698">[1 more]</label></div><br/><div class="children"><div class="content">Agreed, we need to flip this.</div><br/></div></div><div id="39267701" class="c"><input type="checkbox" id="c-39267701" checked=""/><div class="controls bullet"><span class="by">amonith</span><span>|</span><a href="#39267614">parent</a><span>|</span><a href="#39267698">prev</a><span>|</span><a href="#39267762">next</a><span>|</span><label class="collapse" for="c-39267701">[-]</label><label class="expand" for="c-39267701">[1 more]</label></div><br/><div class="children"><div class="content">Disagree. I rarely remember what lib has the class&#x2F;function&#x2F;whatever I need. Doesn&#x27;t help that some libs often use &quot;proprietary&quot; names (e.g. &quot;Uno&quot;, &quot;Avalonia&quot;, &quot;Rotativa&quot;). I often don&#x27;t even write &quot;imports&quot; myself. I use stuff in code and let my IDE autoimport stuff.</div><br/></div></div><div id="39267762" class="c"><input type="checkbox" id="c-39267762" checked=""/><div class="controls bullet"><span class="by">mplewis</span><span>|</span><a href="#39267614">parent</a><span>|</span><a href="#39267701">prev</a><span>|</span><a href="#39265916">next</a><span>|</span><label class="collapse" for="c-39267762">[-]</label><label class="expand" for="c-39267762">[1 more]</label></div><br/><div class="children"><div class="content">Really? When I type import { someVal in JS, VSCode autocompletes it to import { someValue } from “somePackage”. I haven’t had issues here.</div><br/></div></div></div></div><div id="39265916" class="c"><input type="checkbox" id="c-39265916" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#39267614">prev</a><span>|</span><a href="#39271628">next</a><span>|</span><label class="collapse" for="c-39265916">[-]</label><label class="expand" for="c-39265916">[3 more]</label></div><br/><div class="children"><div class="content">LOVE IT LOVE IT LOVE IT!!!<p>I&#x27;m doing a lot of home automation work, and I absolutely hate that I need to use breadboards, hunt for pre-assembled components, or to spend days designing a PCB for simple things like relay modules with customized IO.<p>E.g. I have ratgdo for my garage door opener, but its power supply is an ugly buck convertor taped to the box. I&#x27;d love to just re-make the ratgdo board, but with a built-in 12V-to-3V buck convertor.<p>I tried that, but PCB manufacturing with custom component placing requires just too much work.<p>Is there a way to donate to the project? I&#x27;d love to support it.</div><br/><div id="39266033" class="c"><input type="checkbox" id="c-39266033" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265916">parent</a><span>|</span><a href="#39266339">next</a><span>|</span><label class="collapse" for="c-39266033">[-]</label><label class="expand" for="c-39266033">[1 more]</label></div><br/><div class="children"><div class="content">That’s exactly what we are going for!<p>Have a look at packages.atopile.io. We have a package with power supplies that you can just add to your board with<p><pre><code>  ato install regulators
</code></pre>
<a href="https:&#x2F;&#x2F;gitlab.atopile.io&#x2F;packages&#x2F;regulators" rel="nofollow">https:&#x2F;&#x2F;gitlab.atopile.io&#x2F;packages&#x2F;regulators</a></div><br/></div></div><div id="39266339" class="c"><input type="checkbox" id="c-39266339" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265916">parent</a><span>|</span><a href="#39266033">prev</a><span>|</span><a href="#39271628">next</a><span>|</span><label class="collapse" for="c-39266339">[-]</label><label class="expand" for="c-39266339">[1 more]</label></div><br/><div class="children"><div class="content">Forgot to reply to the support aspect:<p>Best way to support us right now is to try the project and give feedback on where you&#x27;d like to see this going. The project is open source so feel free to raise issues or contribute as well :)</div><br/></div></div></div></div><div id="39271628" class="c"><input type="checkbox" id="c-39271628" checked=""/><div class="controls bullet"><span class="by">yitchelle</span><span>|</span><a href="#39265916">prev</a><span>|</span><a href="#39264222">next</a><span>|</span><label class="collapse" for="c-39271628">[-]</label><label class="expand" for="c-39271628">[1 more]</label></div><br/><div class="children"><div class="content">Designing circuit boards is not than describing a collection of electronic components and how each component&#x27;s pins are connected together.<p>For circuit board design we are missing
* PCB layer management<p>* copper dimensioning<p>* track management<p>* Design rules management<p>* many others....<p>At best, I would describe this tool as a vim for schematic capture in its current iteration.<p>One question to the founders, what are the real pain points for you that atopile are relieving?</div><br/></div></div><div id="39264222" class="c"><input type="checkbox" id="c-39264222" checked=""/><div class="controls bullet"><span class="by">Liftyee</span><span>|</span><a href="#39271628">prev</a><span>|</span><a href="#39265084">next</a><span>|</span><label class="collapse" for="c-39264222">[-]</label><label class="expand" for="c-39264222">[6 more]</label></div><br/><div class="children"><div class="content">Looks really useful! As a hardware designer I&#x27;ve had plenty of copy pasting bits of schematics to duplicate common functionality. Seems like this could be really helpful in preventing mistakes and increasing quality once used to it.<p>Have you got any plans for defined interfaces&#x2F;modularity so devices using SPI, I²C, etc. can be chained together without manually defining pin connections? Also, will there be support for importing schematics from other formats?</div><br/><div id="39264332" class="c"><input type="checkbox" id="c-39264332" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39264222">parent</a><span>|</span><a href="#39264808">next</a><span>|</span><label class="collapse" for="c-39264332">[-]</label><label class="expand" for="c-39264332">[3 more]</label></div><br/><div class="children"><div class="content">We do have interfaces! They are super useful, I am very stoked that I dont have to remember which way around MISO&#x2F;MOSI go any more.<p>Interfaces are just a collection of signals eg<p><pre><code>  interface I2C:
    signal sda
    signal scl
    signal gnd
</code></pre>
you can connect two together like so:
micro.i2c ~ sensor.i2c<p>Importing schematics would be possible, but IMO not super valuable as all we could import would be the raw connectivity, a big benefit of our language is being able to add a layer of abstraction on that.</div><br/><div id="39266839" class="c"><input type="checkbox" id="c-39266839" checked=""/><div class="controls bullet"><span class="by">xnzakg</span><span>|</span><a href="#39264222">root</a><span>|</span><a href="#39264332">parent</a><span>|</span><a href="#39264808">next</a><span>|</span><label class="collapse" for="c-39266839">[-]</label><label class="expand" for="c-39266839">[2 more]</label></div><br/><div class="children"><div class="content">How does this handle connecting two microcontrollers with one being a SPI master and one being a slave? Or connecting UART between two devices?</div><br/><div id="39267020" class="c"><input type="checkbox" id="c-39267020" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39264222">root</a><span>|</span><a href="#39266839">parent</a><span>|</span><a href="#39264808">next</a><span>|</span><label class="collapse" for="c-39267020">[-]</label><label class="expand" for="c-39267020">[1 more]</label></div><br/><div class="children"><div class="content">Today, poorly. We just do a dumb matching of signal names. I imagine we will do something like add a property to the interfaces on each device.</div><br/></div></div></div></div></div></div><div id="39264808" class="c"><input type="checkbox" id="c-39264808" checked=""/><div class="controls bullet"><span class="by">wildzzz</span><span>|</span><a href="#39264222">parent</a><span>|</span><a href="#39264332">prev</a><span>|</span><a href="#39265084">next</a><span>|</span><label class="collapse" for="c-39264808">[-]</label><label class="expand" for="c-39264808">[2 more]</label></div><br/><div class="children"><div class="content">Kicad allows you to keep a library of projects containing layouts and schematics of small circuits that you may wish to reuse in other circuits by just simply importing them to the current design. You can then modify as needed.</div><br/><div id="39264881" class="c"><input type="checkbox" id="c-39264881" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39264222">root</a><span>|</span><a href="#39264808">parent</a><span>|</span><a href="#39265084">next</a><span>|</span><label class="collapse" for="c-39264881">[-]</label><label class="expand" for="c-39264881">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, Altium has similar features also. I think what has been missing is an effective way to collaborate on hardware projects as a community and be able to share them like you would packages on pypi or npm.</div><br/></div></div></div></div></div></div><div id="39265084" class="c"><input type="checkbox" id="c-39265084" checked=""/><div class="controls bullet"><span class="by">syedkarim</span><span>|</span><a href="#39264222">prev</a><span>|</span><a href="#39264971">next</a><span>|</span><label class="collapse" for="c-39265084">[-]</label><label class="expand" for="c-39265084">[5 more]</label></div><br/><div class="children"><div class="content">Could you please explain the difference between Atopile and Jitx (<a href="https:&#x2F;&#x2F;www.jitx.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.jitx.com&#x2F;</a>)? Both seem to provide software-defined hardware development.</div><br/><div id="39265671" class="c"><input type="checkbox" id="c-39265671" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265084">parent</a><span>|</span><a href="#39265203">next</a><span>|</span><label class="collapse" for="c-39265671">[-]</label><label class="expand" for="c-39265671">[3 more]</label></div><br/><div class="children"><div class="content">Our language is also a markup language more than a programing language. The goal here is that we would want the code to become a description of what the circuit is, instead of how to obtain it. The obtaining part is the job of the compiler. Not the human.</div><br/><div id="39268775" class="c"><input type="checkbox" id="c-39268775" checked=""/><div class="controls bullet"><span class="by">yoz</span><span>|</span><a href="#39265084">root</a><span>|</span><a href="#39265671">parent</a><span>|</span><a href="#39265203">next</a><span>|</span><label class="collapse" for="c-39268775">[-]</label><label class="expand" for="c-39268775">[2 more]</label></div><br/><div class="children"><div class="content">Please forgive me if you know this already, but just in case: the terms Declarative and Imperative may be useful here.<p>Declarative: the code describes the desired result.<p>Imperative: the code describes the operations to take.<p>Most programming languages are Imperative, but some are Declarative, and some allow a mix of the two. More here: <a href="https:&#x2F;&#x2F;www.educative.io&#x2F;blog&#x2F;declarative-vs-imperative-programming" rel="nofollow">https:&#x2F;&#x2F;www.educative.io&#x2F;blog&#x2F;declarative-vs-imperative-prog...</a></div><br/><div id="39271631" class="c"><input type="checkbox" id="c-39271631" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265084">root</a><span>|</span><a href="#39268775">parent</a><span>|</span><a href="#39265203">next</a><span>|</span><label class="collapse" for="c-39271631">[-]</label><label class="expand" for="c-39271631">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing the docs! Our language is mostly declarative at the moment. There are some features we discussed that would be imperative and we might introduce them in future versions of the compiler.</div><br/></div></div></div></div></div></div><div id="39265203" class="c"><input type="checkbox" id="c-39265203" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265084">parent</a><span>|</span><a href="#39265671">prev</a><span>|</span><a href="#39264971">next</a><span>|</span><label class="collapse" for="c-39265203">[-]</label><label class="expand" for="c-39265203">[1 more]</label></div><br/><div class="children"><div class="content">We are taking the open-source route (eventually moving to open-core). We think a big part of moving the industry in this direction is building a community around it, much like the way Github started out.</div><br/></div></div></div></div><div id="39264971" class="c"><input type="checkbox" id="c-39264971" checked=""/><div class="controls bullet"><span class="by">phlipski</span><span>|</span><a href="#39265084">prev</a><span>|</span><a href="#39267817">next</a><span>|</span><label class="collapse" for="c-39264971">[-]</label><label class="expand" for="c-39264971">[2 more]</label></div><br/><div class="children"><div class="content">First off - best of luck to y&#x27;all. The HW EDA space is sorely in need of tooling improvements.  I&#x27;m curious as to how your product differs from JITX.  They claim the same sort of thing - code based PCB development.  And they&#x27;ve been around for a few years now.</div><br/><div id="39265131" class="c"><input type="checkbox" id="c-39265131" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39264971">parent</a><span>|</span><a href="#39267817">next</a><span>|</span><label class="collapse" for="c-39265131">[-]</label><label class="expand" for="c-39265131">[1 more]</label></div><br/><div class="children"><div class="content">Thanks!!<p>The open source aspect was really important to us. We are hoping that ato modules can become a convenient language for the community to share modules with each other, in a similar fashion to python and pypi.<p>Having an open code base also makes it more convenient for our users to chain tools together. This is currently hard to achieve with the existing close source standards we are dealing with in hardware.<p>ato is also a markup language (like markdown or latex) more than an actual programming language. We think this makes it more readable and helps guide the user writing code that compiles.</div><br/></div></div></div></div><div id="39267817" class="c"><input type="checkbox" id="c-39267817" checked=""/><div class="controls bullet"><span class="by">nikeee</span><span>|</span><a href="#39264971">prev</a><span>|</span><a href="#39271411">next</a><span>|</span><label class="collapse" for="c-39267817">[-]</label><label class="expand" for="c-39267817">[2 more]</label></div><br/><div class="children"><div class="content">Finally I can just install some package and have a spec-compliant ESP32 circuit which I don&#x27;t have to copy from somewhere else. This is great.<p>One small thing regarding the imports: If you plan to have some rich autocomplete functionality (which helps dicoverability of packages) it is better to have the source of something first and the imported stuff afterwards. Python - which you seem to draw inspiration from - does this as well:<p><pre><code>    from xy import z
</code></pre>
The editor can offer auto completions when the cursor is after &quot;import &quot;, which is not possible if it&#x27;s the other way round: `import z from xy` (like it is in JS).<p>I&#x27;ll try this out, it looks very promising!</div><br/><div id="39267859" class="c"><input type="checkbox" id="c-39267859" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39267817">parent</a><span>|</span><a href="#39271411">next</a><span>|</span><label class="collapse" for="c-39267859">[-]</label><label class="expand" for="c-39267859">[1 more]</label></div><br/><div class="children"><div class="content">Great point. We&#x27;ll change that soon! Especially true for interfaces too since modules might have tons of accessible interfaces and the language server could list them out for you.<p>Did you see the ESP32 in the package registry? <a href="https:&#x2F;&#x2F;packages.atopile.io" rel="nofollow">https:&#x2F;&#x2F;packages.atopile.io</a></div><br/></div></div></div></div><div id="39271411" class="c"><input type="checkbox" id="c-39271411" checked=""/><div class="controls bullet"><span class="by">thrwwycbr</span><span>|</span><a href="#39267817">prev</a><span>|</span><a href="#39268402">next</a><span>|</span><label class="collapse" for="c-39271411">[-]</label><label class="expand" for="c-39271411">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Could you imagine the pain of building an entire software product using only assembly code?<p>Speaking of it, THIS would be a killer product.<p>A program gets compiled down to x86&#x2F;x64 assembly, and you take that LL file and generate an FPGA from it.<p>Of course there&#x27;s a lot of limitations in regards to OS APIs, but those could be represented with an SDK (e.g. a network socket API that is compatible with linux&#x27;s headers and leads to a NIC being controlled with a firmware replacement).</div><br/></div></div><div id="39268402" class="c"><input type="checkbox" id="c-39268402" checked=""/><div class="controls bullet"><span class="by">nihzm</span><span>|</span><a href="#39271411">prev</a><span>|</span><a href="#39272094">next</a><span>|</span><label class="collapse" for="c-39268402">[-]</label><label class="expand" for="c-39268402">[2 more]</label></div><br/><div class="children"><div class="content">Looks quite neat, but as other have pointed out I do not really see how this is different from traditional HDL languages such as verilog and VHDL. I say this because by looking a bit into atopile examples I only saw easy &quot;digital&quot; circuit stuff with GPIO and resistors, which are all things that can be implemented using FPGAs. However the most difficult things when designing advanced PCBs are EMC &#x2F; EMI [1] problems with advanced subsystems such as an USB hub or analog filters. BOM generation and modular abstraction are already solved problems in industry (even though I hated every minute of working with Xilix Vivado) and tools like F4PGA [2] are slowling catching up.<p>If I may add my two cents, I think you should concentrate on making it possible to go beyond lumped element models (which can already be simulated using SPICE, etc) and simple abstraction (solved by VHDL &amp; co) and focus on being able to offer advanced subsystems to less experienced PCB EDA users. Basically, to go for the Altium path, but without Altium. For example, it would be a killer feature if it were possible to import an FTDI USB chip module and a switching power supply module, and obtain a PCB that has a guarantees (up to a degree) that the two will not interfere with each other. Or say, have it automatically optimize a design to guarantee a certain SWR [3].<p>[1]: <a href="https:&#x2F;&#x2F;www.analog.com&#x2F;media&#x2F;en&#x2F;training-seminars&#x2F;tutorials&#x2F;MT-095.pdf" rel="nofollow">https:&#x2F;&#x2F;www.analog.com&#x2F;media&#x2F;en&#x2F;training-seminars&#x2F;tutorials&#x2F;...</a><p>[2]: <a href="https:&#x2F;&#x2F;f4pga.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;f4pga.org&#x2F;</a><p>[3]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Standing_wave_ratio" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Standing_wave_ratio</a></div><br/><div id="39268472" class="c"><input type="checkbox" id="c-39268472" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39268402">parent</a><span>|</span><a href="#39272094">next</a><span>|</span><label class="collapse" for="c-39268472">[-]</label><label class="expand" for="c-39268472">[1 more]</label></div><br/><div class="children"><div class="content">For sure, our goal is to solve the toughest problems in electrical engineering, we are starting with the low hanging fruit. Confident reuse of designs that can be verified and validated before a chip is placed sounds pretty exciting to me!<p>BOM generation and abstraction have definitely not made it to PCBA design yet, so that is where we are starting.<p>Stoked to get to the hard stuff.</div><br/></div></div></div></div><div id="39272094" class="c"><input type="checkbox" id="c-39272094" checked=""/><div class="controls bullet"><span class="by">hackskale</span><span>|</span><a href="#39268402">prev</a><span>|</span><a href="#39265445">next</a><span>|</span><label class="collapse" for="c-39272094">[-]</label><label class="expand" for="c-39272094">[1 more]</label></div><br/><div class="children"><div class="content">very interesting. hope you can improve the tedious hardware design process. you might want to look into digital hardware description languages such as verilog and vhdl.</div><br/></div></div><div id="39265445" class="c"><input type="checkbox" id="c-39265445" checked=""/><div class="controls bullet"><span class="by">bb88</span><span>|</span><a href="#39272094">prev</a><span>|</span><a href="#39269830">next</a><span>|</span><label class="collapse" for="c-39265445">[-]</label><label class="expand" for="c-39265445">[2 more]</label></div><br/><div class="children"><div class="content">I think you should do one thing really well, before expanding.<p>Import from public GitHub libraries could be fun.<p>Differential pairs.<p>Impedance controlled traces.<p>Going further, if I have one supplier&#x27;s stack up with controlled impedance lines, and I need to switch to a different supplier&#x27;s stack up, what netclasses would change?</div><br/><div id="39265534" class="c"><input type="checkbox" id="c-39265534" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265445">parent</a><span>|</span><a href="#39269830">next</a><span>|</span><label class="collapse" for="c-39265534">[-]</label><label class="expand" for="c-39265534">[1 more]</label></div><br/><div class="children"><div class="content">I do agree. The package registry (<a href="https:&#x2F;&#x2F;packages.atopile.io" rel="nofollow">https:&#x2F;&#x2F;packages.atopile.io</a>) is an attempt at importing from existing GitHub&#x2F;GitLab ato projects. This will need quite a bit more polish until it gets to the level Rust&#x27;s crates.io or python&#x27;s pypi.org<p>On the language side there are additional features we would like to work on like traits and types (types would include diff pairs and impedance).</div><br/></div></div></div></div><div id="39269830" class="c"><input type="checkbox" id="c-39269830" checked=""/><div class="controls bullet"><span class="by">AnyTimeTraveler</span><span>|</span><a href="#39265445">prev</a><span>|</span><a href="#39265077">next</a><span>|</span><label class="collapse" for="c-39269830">[-]</label><label class="expand" for="c-39269830">[2 more]</label></div><br/><div class="children"><div class="content">This reminds me of writing VHDL in the Sigasi IDE.
You could write the description for a component, have it&#x27;s syntax checked and get autocomplete while typing and once you were done, you could click a button and see an overview of your component and how its signals were connected to other components, kind of like a schematic.
It helped me learn and find bugs quickly and I was really missing that when I got started with KiCAD.<p>I am very excited to use this!<p>My optimal workflow would be, to use code for describing the netlist using components, then use a combination of graphical and code editor to layout the PCB, like how the UI editor in Android studio used to work. (I don&#x27;t know if it still works this way)
I&#x27;d love to layout my components using UI like in the CAD program &quot;Onshape&quot;, which let&#x27;s you set your constraints visually and the program visualizes conflicting constraints.<p>I would love to start working on a project in code and then make an export into KiCAD to make final changes and send it off.
Then, as the project gets further along, the point where I would switch to KiCAD would gradually shift further and further towards production.
If I see this correctly, you are already aiming for that and I commend you for that approach :)</div><br/><div id="39269970" class="c"><input type="checkbox" id="c-39269970" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39269830">parent</a><span>|</span><a href="#39265077">next</a><span>|</span><label class="collapse" for="c-39269970">[-]</label><label class="expand" for="c-39269970">[1 more]</label></div><br/><div class="children"><div class="content">Thank you!! That&#x27;s just about the workflow as where we lie today - albeit without the full suite of potency we&#x27;re working towards.<p>I haven&#x27;t actually used Onshape, so I&#x27;m not intimately familiar with their constraints system. Thank you for the recommendation, I&#x27;ll have to check it out for some hints.</div><br/></div></div></div></div><div id="39265077" class="c"><input type="checkbox" id="c-39265077" checked=""/><div class="controls bullet"><span class="by">chrsw</span><span>|</span><a href="#39269830">prev</a><span>|</span><a href="#39270229">next</a><span>|</span><label class="collapse" for="c-39265077">[-]</label><label class="expand" for="c-39265077">[6 more]</label></div><br/><div class="children"><div class="content">Part of the magic here would be to get your team&#x27;s hardware engineers to adopt a more software development style workflow.</div><br/><div id="39265132" class="c"><input type="checkbox" id="c-39265132" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265077">parent</a><span>|</span><a href="#39270229">next</a><span>|</span><label class="collapse" for="c-39265132">[-]</label><label class="expand" for="c-39265132">[5 more]</label></div><br/><div class="children"><div class="content">Indeed, the ability to branch and merge is a pretty exciting concept for me as a hardware designer. Another simple one is building artifacts in CI and doing quality checks, I have make some silly manual errors that have been very expensive during export.</div><br/><div id="39271070" class="c"><input type="checkbox" id="c-39271070" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#39265077">root</a><span>|</span><a href="#39265132">parent</a><span>|</span><a href="#39266293">next</a><span>|</span><label class="collapse" for="c-39271070">[-]</label><label class="expand" for="c-39271070">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Another simple one is building artifacts in CI and doing quality checks, I have make some silly manual errors that have been very expensive during export.<p>I set up a CI pipeline for the hardware company I worked for. It automatically generated things like gerbers and board renders for each commit, and made them available as PNGs. I added a little tool which made it really easy to view the results side-by-side, and see both the front and the back. It definitely saved us from some really expensive mistakes a few times!</div><br/></div></div><div id="39266293" class="c"><input type="checkbox" id="c-39266293" checked=""/><div class="controls bullet"><span class="by">chrsw</span><span>|</span><a href="#39265077">root</a><span>|</span><a href="#39265132">parent</a><span>|</span><a href="#39271070">prev</a><span>|</span><a href="#39270229">next</a><span>|</span><label class="collapse" for="c-39266293">[-]</label><label class="expand" for="c-39266293">[3 more]</label></div><br/><div class="children"><div class="content">This is very cool and the concept is something I&#x27;ve been wishing on for a while. Unfortunately I work in an enterprise type of design team. I&#x27;m a software developer but our hardware team has standardized on Cadence tools and are pretty dug in on how they work, which is kind of opaque to us software guys.</div><br/><div id="39266468" class="c"><input type="checkbox" id="c-39266468" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265077">root</a><span>|</span><a href="#39266293">parent</a><span>|</span><a href="#39266450">next</a><span>|</span><label class="collapse" for="c-39266468">[-]</label><label class="expand" for="c-39266468">[1 more]</label></div><br/><div class="children"><div class="content">I was a designer at a big company in my last job. Many of my colleagues shared the sentiment that the tools were trash, I think people just need an exciting future to rally around. I think being able to link across disciplines is super exciting also, firmware and hardware can be versioned along side eachother, no more checking schematics for pinouts and meetings about which pin which signal should be on, just put up a PR, have both hardware and FW teams review.</div><br/></div></div><div id="39266450" class="c"><input type="checkbox" id="c-39266450" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265077">root</a><span>|</span><a href="#39266293">parent</a><span>|</span><a href="#39266468">prev</a><span>|</span><a href="#39270229">next</a><span>|</span><label class="collapse" for="c-39266450">[-]</label><label class="expand" for="c-39266450">[1 more]</label></div><br/><div class="children"><div class="content">The core compiler is open source so hopefully the stakes are low to start using it on non-production equipment like test fixtures, bed of nails, quick prototypes... Based on experience using the compiler on those project, it could be transitioned to higher stakes designs.</div><br/></div></div></div></div></div></div></div></div><div id="39270229" class="c"><input type="checkbox" id="c-39270229" checked=""/><div class="controls bullet"><span class="by">AMICABoard</span><span>|</span><a href="#39265077">prev</a><span>|</span><a href="#39265161">next</a><span>|</span><label class="collapse" for="c-39270229">[-]</label><label class="expand" for="c-39270229">[2 more]</label></div><br/><div class="children"><div class="content">Okay here is a wish list:<p>Chip fan out modules. A repo of all popular chips with traces to pins fanned out and variations (Chip XXXX, Fanout A, Fanout B, Fanout C, Compact Fanout D etc) Ideally the fanout modules should have required decoupling caps etc placed compactly).<p>Accommodate provision for chips such as i.MX 6ULL, the have so many pins that writing connection code would be daunting, maybe have pin groups and groups wired to groups syntax.<p>Provisions for chips where pins can be configured.<p>A repo of supporting circuits&#x2F;modules like clock, clock distribution, PMIC &#x2F; Power modules etc.<p>A CPU for example module should come with a list of compatible auxiliary modules such as a suitable PMIC&#x2F;Power module.<p>The user will have to wire the relevant pin groups from module to module.</div><br/><div id="39271682" class="c"><input type="checkbox" id="c-39271682" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39270229">parent</a><span>|</span><a href="#39265161">next</a><span>|</span><label class="collapse" for="c-39271682">[-]</label><label class="expand" for="c-39271682">[1 more]</label></div><br/><div class="children"><div class="content">Lot of good stuff! We&#x27;re working on some updates to the package manager now that should make a lot of that super tenable to build out.</div><br/></div></div></div></div><div id="39265161" class="c"><input type="checkbox" id="c-39265161" checked=""/><div class="controls bullet"><span class="by">earlyriser</span><span>|</span><a href="#39270229">prev</a><span>|</span><a href="#39270694">next</a><span>|</span><label class="collapse" for="c-39265161">[-]</label><label class="expand" for="c-39265161">[2 more]</label></div><br/><div class="children"><div class="content">Hi Tim,<p>I&#x27;m just starting with electronics, following the Make Electronics book with my kid. And this seems super useful to understand circuits better (at least for people who code), do you have the plan to make a series of lessons for beginners with the app? Like going from the simple battery-led to complex things?
Feel free to email.</div><br/><div id="39265319" class="c"><input type="checkbox" id="c-39265319" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265161">parent</a><span>|</span><a href="#39270694">next</a><span>|</span><label class="collapse" for="c-39265319">[-]</label><label class="expand" for="c-39265319">[1 more]</label></div><br/><div class="children"><div class="content">Hey!<p>Really love that. My dad gave me a piece of wood with some basic components like LEDs, motors, resistors and light bulbs and a battery that I could connect those to and understand how they worked. Glad to see you are doing something similar :)<p>We do have a couple videos and certainly plan to make more:
- Get started guide: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;7aeZLlA_VYA" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;7aeZLlA_VYA</a>
- ESP32 module: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;eMWRwZOajdQ" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;eMWRwZOajdQ</a>
- Logic gates kit: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=hSeDv3QqRc0" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=hSeDv3QqRc0</a><p>We are also hoping for the package registry to become a place where you can get access to pre-designed modules to put together into a circuit: <a href="https:&#x2F;&#x2F;packages.atopile.io" rel="nofollow">https:&#x2F;&#x2F;packages.atopile.io</a><p>Feel free to reach out per email or discord if you need help setting things up!</div><br/></div></div></div></div><div id="39270694" class="c"><input type="checkbox" id="c-39270694" checked=""/><div class="controls bullet"><span class="by">mNovak</span><span>|</span><a href="#39265161">prev</a><span>|</span><a href="#39265907">next</a><span>|</span><label class="collapse" for="c-39270694">[-]</label><label class="expand" for="c-39270694">[2 more]</label></div><br/><div class="children"><div class="content">I agree some format to attach more metadata into schematics is useful, especially if enough good modules become easily available -- something as simple as &quot;hey this is a 5V rated component&quot; is nice not to have look up sometimes.<p>But to add to the wishlist of innovations in PCB layout; someone please give us better gerber editing&#x2F;conversion tools. Geber strikes me as being very like pdf -- absolutely standard, well reproducible, but awful to edit in any way other than &#x27;intended&#x27;.</div><br/><div id="39271605" class="c"><input type="checkbox" id="c-39271605" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39270694">parent</a><span>|</span><a href="#39265907">next</a><span>|</span><label class="collapse" for="c-39271605">[-]</label><label class="expand" for="c-39271605">[1 more]</label></div><br/><div class="children"><div class="content">Indeed! We do support quite a few parameters for component selection today, but definitely want to add a lot more. I think this opens up some exciting possibilities, for example not needing to explicitly call out a part number for generic components in your source code, retaining information about what the requirements of that part are. Of course in production you would want a lock file to make sure things are not changing arbitrarily, but I personally would have loved something like that while I was dealing with chip shortages a few years back.</div><br/></div></div></div></div><div id="39265907" class="c"><input type="checkbox" id="c-39265907" checked=""/><div class="controls bullet"><span class="by">mikeortman</span><span>|</span><a href="#39270694">prev</a><span>|</span><a href="#39265791">next</a><span>|</span><label class="collapse" for="c-39265907">[-]</label><label class="expand" for="c-39265907">[3 more]</label></div><br/><div class="children"><div class="content">This has sooo much promise, I can&#x27;t describe how excited I am and will definitely be contributing if I can.<p>This would make it easy to implement a fancy optimizer. Each component tends to have certain acceptable thresholds for their dependencies like input voltages, current limits, external resistor&#x2F;capacitor&#x2F;inductor values&#x2F;ratings, etc.<p>Then, each component could have different implementations. You can have different manufacturers produce the exact same inductor&#x2F;capacitor&#x2F;resistor in different packages. You can link it up to your existing BOM or hook into vendor APIs to get pricing.<p>Imagine optimizing for cost, removing redundancy, simplifying footprints, and prioritizing in-stock inventory over new order components.<p>This could be a huge deal, looking forward to its progress</div><br/><div id="39266114" class="c"><input type="checkbox" id="c-39266114" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265907">parent</a><span>|</span><a href="#39266434">next</a><span>|</span><label class="collapse" for="c-39266114">[-]</label><label class="expand" for="c-39266114">[1 more]</label></div><br/><div class="children"><div class="content">We have been working on an optimizer for solving components that we will put a post out about soon. But the gist is figuring out which constraints are expensive, for example a precision inductor might be quite expensive, but a precision resistor is comparatively cheap. We can look at where to shift precision in your components to get the desired output for the lowest total cost. We already do a few things like prioritize in stock parts with high availability. I am excited to add more constraints, like board area, multi-sourcing etc.</div><br/></div></div><div id="39266434" class="c"><input type="checkbox" id="c-39266434" checked=""/><div class="controls bullet"><span class="by">mawildoer</span><span>|</span><a href="#39265907">parent</a><span>|</span><a href="#39266114">prev</a><span>|</span><a href="#39265791">next</a><span>|</span><label class="collapse" for="c-39266434">[-]</label><label class="expand" for="c-39266434">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s awesome! We&#x27;re definitely thinking along the same lines in terms of a lot of those optimisations &#x2F; cost-functions.<p>Here&#x27;s some of the basics Tim was playing with earlier: <a href="https:&#x2F;&#x2F;github.com&#x2F;atopile&#x2F;atopile&#x2F;blob&#x2F;d25686952534e0f96582b640eaea43c07b8ac7b8&#x2F;sandbox&#x2F;equations.ipynb">https:&#x2F;&#x2F;github.com&#x2F;atopile&#x2F;atopile&#x2F;blob&#x2F;d25686952534e0f96582...</a></div><br/></div></div></div></div><div id="39265791" class="c"><input type="checkbox" id="c-39265791" checked=""/><div class="controls bullet"><span class="by">markrages</span><span>|</span><a href="#39265907">prev</a><span>|</span><a href="#39267098">next</a><span>|</span><label class="collapse" for="c-39265791">[-]</label><label class="expand" for="c-39265791">[2 more]</label></div><br/><div class="children"><div class="content">Is this related to skidl <a href="https:&#x2F;&#x2F;github.com&#x2F;devbisme&#x2F;skidl">https:&#x2F;&#x2F;github.com&#x2F;devbisme&#x2F;skidl</a> ?</div><br/><div id="39265929" class="c"><input type="checkbox" id="c-39265929" checked=""/><div class="controls bullet"><span class="by">Timot05</span><span>|</span><a href="#39265791">parent</a><span>|</span><a href="#39267098">next</a><span>|</span><label class="collapse" for="c-39265929">[-]</label><label class="expand" for="c-39265929">[1 more]</label></div><br/><div class="children"><div class="content">Hey,<p>We did use skidl for a little while as we were figuring things out (see a project here: <a href="https:&#x2F;&#x2F;gitlab.atopile.io&#x2F;pew-pew-and-friends&#x2F;sizzle-sack" rel="nofollow">https:&#x2F;&#x2F;gitlab.atopile.io&#x2F;pew-pew-and-friends&#x2F;sizzle-sack</a>). But we later ended up moving away from it towards ato for mainly two reasons:<p>- Baking a description of a circuit into python describes how to obtain the circuit, but doesn&#x27;t really describe what the circuit is. Skidl projects quickly become hard to read. The user is also not guided towards writing code that compiles since you need to deal with all the complexity of Python as well as the circuit itself.
- Contributing to the project and adding features was non trivial</div><br/></div></div></div></div><div id="39267098" class="c"><input type="checkbox" id="c-39267098" checked=""/><div class="controls bullet"><span class="by">alistairjallan</span><span>|</span><a href="#39265791">prev</a><span>|</span><a href="#39268002">next</a><span>|</span><label class="collapse" for="c-39267098">[-]</label><label class="expand" for="c-39267098">[4 more]</label></div><br/><div class="children"><div class="content">Absolutely love this, always wondered why there wasn’t a nocode for hardware that outputs a gerber.</div><br/><div id="39267328" class="c"><input type="checkbox" id="c-39267328" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#39267098">parent</a><span>|</span><a href="#39267127">next</a><span>|</span><label class="collapse" for="c-39267328">[-]</label><label class="expand" for="c-39267328">[2 more]</label></div><br/><div class="children"><div class="content">&gt; always wondered why there wasn’t a nocode for hardware that outputs a gerber.<p>Because hardware tends to be informed by messy physical factors which are hard to represent programmatically.<p>Think along the lines of &quot;the cables are coming from this side of the board&quot;, or &quot;buttons need to be reachable by fingers&quot;, or &quot;if you&#x27;re building a weather station, the temperature sensor should be far away from components that generate heat&quot;.</div><br/><div id="39267387" class="c"><input type="checkbox" id="c-39267387" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39267098">root</a><span>|</span><a href="#39267328">parent</a><span>|</span><a href="#39267127">next</a><span>|</span><label class="collapse" for="c-39267387">[-]</label><label class="expand" for="c-39267387">[1 more]</label></div><br/><div class="children"><div class="content">For sure, there will always be some &#x27;user&#x27; type requirements that we need to build a way to input, for starters it will be something like a lock file with component positions of things you need in a particular spot. I see alot of value in automating things you just dont care about, particularly if &#x27;sensible&#x27; rules can be applied. For example if the tool could automatically determine trace widths, not just at a net level, but for each link based on how hot you were happy for it to get and what loads it would see.</div><br/></div></div></div></div><div id="39267127" class="c"><input type="checkbox" id="c-39267127" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39267098">parent</a><span>|</span><a href="#39267328">prev</a><span>|</span><a href="#39268002">next</a><span>|</span><label class="collapse" for="c-39267127">[-]</label><label class="expand" for="c-39267127">[1 more]</label></div><br/><div class="children"><div class="content">Thanks!</div><br/></div></div></div></div><div id="39268002" class="c"><input type="checkbox" id="c-39268002" checked=""/><div class="controls bullet"><span class="by">andrejk</span><span>|</span><a href="#39267098">prev</a><span>|</span><a href="#39265856">next</a><span>|</span><label class="collapse" for="c-39268002">[-]</label><label class="expand" for="c-39268002">[2 more]</label></div><br/><div class="children"><div class="content">This looks really cool. I need to dig through some more examples before I&#x27;d take anything I say without a massive grain of salt. :)<p>Maybe I&#x27;ve been writing too much React and Android Compose UI lately, but instead of a declarative structure, have you considered a functional structure? That seems to be a create way to build composable components and add enough programmability (e.g. loops, conditionals) and keep a nice one-way flow down the line.<p>Something like<p>```
import {Resistor, Signal, Ohms, Float} ...<p>def VoltageDivider(totalR: Ohms, ratio: Float, signal1: Signal, signal2: Signal, signalOut: Signal) {
   r1 = Resistor(totalR&#x2F;ratio, signal1, signalOut)
   r2 = Resistor(totalR(1-ratio),signal2,signalOut)
}<p>def MyBoard() {
   s1 = Signal()
   s2 = Signal()
   s3 = Signal()
   div1 = VoltageDivider(totalR: 100_000, ratio:.33, signal1: s1, signal2: s2, signalOut: s3)<p>}<p>It&#x27;s similar to what you have but maybe a bit more of a programming language than a declarative format. The trade-off is that tooling support gets harder as you add some basic language features, but the upside is a more powerful language.</div><br/><div id="39268047" class="c"><input type="checkbox" id="c-39268047" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39268002">parent</a><span>|</span><a href="#39265856">next</a><span>|</span><label class="collapse" for="c-39268047">[-]</label><label class="expand" for="c-39268047">[1 more]</label></div><br/><div class="children"><div class="content">For sure, we have been pretty focused on the low level part of the language, I think it will be interesting to see how our language evolves as we are able to abstract away more of the low level connectivity and configuration. I think eventually we will end up building something like a python library on top of ato to get the best of both worlds.</div><br/></div></div></div></div><div id="39265856" class="c"><input type="checkbox" id="c-39265856" checked=""/><div class="controls bullet"><span class="by">distortedsignal</span><span>|</span><a href="#39268002">prev</a><span>|</span><label class="collapse" for="c-39265856">[-]</label><label class="expand" for="c-39265856">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious if you have component checking - does the circuit overload the regulator? am I going to overvolt this capacitor? what is this LED&#x27;s lifetime? - or if that&#x27;s somewhere on the roadmap?<p>I&#x27;m also curious if you&#x27;re able to use an autorouter to minimize board layers. Seems like it should be pretty straightforward to apply some graph theory to this and state the minimal number of layers for a given board, but this also might be NP-hard? I haven&#x27;t kept up with the theory here.</div><br/><div id="39265939" class="c"><input type="checkbox" id="c-39265939" checked=""/><div class="controls bullet"><span class="by">napowderly</span><span>|</span><a href="#39265856">parent</a><span>|</span><label class="collapse" for="c-39265939">[-]</label><label class="expand" for="c-39265939">[1 more]</label></div><br/><div class="children"><div class="content">We have some basic component parameters that we can define, like value, dielectric and voltage rating for capacitors. I think these become much more powerful once we add in equations to help relate these values and link them together. For example if I configure my powersupply for a 12V input, the tool should know that the capacitors need 12V * some safety factor of rating.<p>I think I see the entry point for auto routing to be taking advantage of the fact that layers have become pretty cheap (atleast for prototyping) and engineering time is the expensive bit. If the tool can help me layout a board in half the time, particularly for test hardware or the likes, that would be huge. Eventually I think we will get to a place where computers will do a better job of layout than most people, but thats a ways off.</div><br/></div></div></div></div></div></div></div></div></div></body></html>