<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695459660752" as="style"/><link rel="stylesheet" href="styles.css?v=1695459660752"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://docs.getunleash.io/topics/feature-flags/feature-flag-best-practices">Principles for building and scaling feature flag systems</a> <span class="domain">(<a href="https://docs.getunleash.io">docs.getunleash.io</a>)</span></div><div class="subtext"><span>ferrantim</span> | <span>85 comments</span></div><br/><div><div id="37613024" class="c"><input type="checkbox" id="c-37613024" checked=""/><div class="controls bullet"><span class="by">mabbo</span><span>|</span><a href="#37621506">next</a><span>|</span><label class="collapse" for="c-37613024">[-]</label><label class="expand" for="c-37613024">[30 more]</label></div><br/><div class="children"><div class="content">&gt; Make feature flags short-lived. Do not confuse flags with application configuration.<p>This is my current battle.<p>I introduced feature flags to the team as a means to separate deployment from launch of new features. For the sake of getting it working and used, I made the mis-step of backing the flags with config files with the intent to get Launch Darkly or Unleash working ASAP instead to replace them.<p>Then another dev decided that these Feature Flags look like a great way to implement permanent application configs for different subsets of entities in our system. In fact, he evangelized it in his design for a major new project (I was not invited to the review).<p>Now I have to stand back and watch as the feature flags are being used for long-term configurations. I objected when I saw the misuse- in a code review I said &quot;hey that&#x27;s not what these are for&quot;- and was overruled by management. This is the design, there&#x27;s no time to update it, I&#x27;m sure we can fix it later, someday.<p>Lesson learned: make it very hard to misuse meta-features like feature flags, or someone will use them to get their stuff done faster.</div><br/><div id="37613456" class="c"><input type="checkbox" id="c-37613456" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37613622">next</a><span>|</span><label class="collapse" for="c-37613456">[-]</label><label class="expand" for="c-37613456">[3 more]</label></div><br/><div class="children"><div class="content">Sadly, this is a battle you are destined to lose. I have almost completely given up. The best you can aim for is to use feature flags better rather than worse.<p><pre><code>    - Some flags are going to stay forever: kill switches, load shedding, etc. (vendors are starting to incorporate this in the UI)
    - Unless you have a very-easy-to-use way to add arbitrary boolean feature toggles to individual user accounts (which can become its own mess), people are going to find it vastly easier to create feature flags with per-use override lists (almost all of them let you override on primary token). They will use your feature flags for:
      - Preview features: &quot;is this user in the preview group?&quot;
      - rollouts that might not ever go 100%: &quot;should this organization use the old login flow?&quot;
      - business-critical attributes that it would be a major incident to revert to defaults: &quot;does this user operate under the alternate tax regime?&quot;
</code></pre>
You can try to fight this (indeed, especially for that last one, you most definitely should!), but you will not ever completely win the feature flag ideological purity war!</div><br/><div id="37615293" class="c"><input type="checkbox" id="c-37615293" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613456">parent</a><span>|</span><a href="#37613622">next</a><span>|</span><label class="collapse" for="c-37615293">[-]</label><label class="expand" for="c-37615293">[2 more]</label></div><br/><div class="children"><div class="content">Thank you for this great list of the immense business value derived from &quot;misusing&quot; feature flags!</div><br/><div id="37619735" class="c"><input type="checkbox" id="c-37619735" checked=""/><div class="controls bullet"><span class="by">charrondev</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37615293">parent</a><span>|</span><a href="#37613622">next</a><span>|</span><label class="collapse" for="c-37619735">[-]</label><label class="expand" for="c-37619735">[1 more]</label></div><br/><div class="children"><div class="content">In my org, I think I’ve go the feature flag thing mostly down.<p>We started with a customer specific configuration system that allows arbitrary values matching a defined schema. It’s very easy to add to the schema (define the config name, types, and permissions to read or write it in a JSON schema document).<p>We have an administration panel with a full view of the JSON config for our support specialist and and even more detailed one for developers.<p>Most config values get a user interface as well.<p>From there we just have a namespace in the configuration for “feature flags”. Sometimes these are very short lived (2-4 sprints until the feature is done), but others can last a lot longer.<p>There are an unfortunate couple that will probably never go away at this point (because of some enterprise customer with a niche use case in the “legacy” version of the feature that we’ve not yet implemented compatibility with and I don’t know when it will get on our roadmap to do so), but in the end they can just be migrated into normal config values if needed.<p>A little tooling layer on top lets us query and write to the configs of thousands of sites at once as well.</div><br/></div></div></div></div></div></div><div id="37613622" class="c"><input type="checkbox" id="c-37613622" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37613456">prev</a><span>|</span><a href="#37617260">next</a><span>|</span><label class="collapse" for="c-37613622">[-]</label><label class="expand" for="c-37613622">[12 more]</label></div><br/><div class="children"><div class="content">Or... see them for what they are: runtime configuration. The name implies a use case scenario, but in reality it&#x27;s just a configuration knob. With a good UI, it&#x27;s a pretty damn convenient way to do runtime configuration.<p>So of course they&#x27;ll be used for long-term configuration purposes, especially under pressure and for gradual rollouts of whole systems, not just A&#x2F;B testing features.</div><br/><div id="37617315" class="c"><input type="checkbox" id="c-37617315" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613622">parent</a><span>|</span><a href="#37613723">next</a><span>|</span><label class="collapse" for="c-37617315">[-]</label><label class="expand" for="c-37617315">[1 more]</label></div><br/><div class="children"><div class="content">Our FF system uses our config system as its system of record. There&#x27;s some potential for misuse, and it&#x27;s difficult to apply deadlines. On the plus side all our settings are captured in version control. Before they were spread out over several systems, one of which had an audit system that was pure tribal knowledge for years.</div><br/></div></div><div id="37613723" class="c"><input type="checkbox" id="c-37613723" checked=""/><div class="controls bullet"><span class="by">rubicon33</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613622">parent</a><span>|</span><a href="#37617315">prev</a><span>|</span><a href="#37613933">next</a><span>|</span><label class="collapse" for="c-37613723">[-]</label><label class="expand" for="c-37613723">[3 more]</label></div><br/><div class="children"><div class="content">This hits the nail on the head.<p>The term &quot;feature flag&quot; has come to inherently have a time component because features are supposed to eventually be fulled GA&#x27;d.<p>What I&#x27;ve seen in practice is feature flags are never removed so a better way to think about them is as a runtime configuration.</div><br/><div id="37618035" class="c"><input type="checkbox" id="c-37618035" checked=""/><div class="controls bullet"><span class="by">dasil003</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613723">parent</a><span>|</span><a href="#37616688">next</a><span>|</span><label class="collapse" for="c-37618035">[-]</label><label class="expand" for="c-37618035">[1 more]</label></div><br/><div class="children"><div class="content">I think the reason feature flags are never removed is because the timeframe that a given feature-flag is top-of-mind is also when it&#x27;s at its most useful.  Later when it&#x27;s calcified in place and the off-state may be broken&#x2F;atrophied, no one is really thinking about it.<p>I&#x27;m also not convinced it&#x27;s always a huge problem.  I can imagine sometimes it is, but in most codebases I&#x27;ve worked on, it&#x27;s more of an annoyance but not cracking the top 3 or 5 biggest problems we wanted to focus on.<p>IMHO the best solution is not something heavy handed like a policy that we only use run-time config for fixed timeframes, or a process where we regularly audit and prune old flags.  It&#x27;s simply to keep a record of the config changes over time so anyone interested can see the history, and a culture where every engineer is encouraged to take a little extra time to verify and remove dead stuff whenever it crosses their path .</div><br/></div></div><div id="37616688" class="c"><input type="checkbox" id="c-37616688" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613723">parent</a><span>|</span><a href="#37618035">prev</a><span>|</span><a href="#37613933">next</a><span>|</span><label class="collapse" for="c-37616688">[-]</label><label class="expand" for="c-37616688">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>What I&#x27;ve seen in practice is feature flags are never removed so a better way to think about them is as a runtime configuration.</i><p>SaaS won&#x27;t sell itself unless it redefines the problem and presents itself as a solution...</div><br/></div></div></div></div><div id="37613933" class="c"><input type="checkbox" id="c-37613933" checked=""/><div class="controls bullet"><span class="by">mabbo</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613622">parent</a><span>|</span><a href="#37613723">prev</a><span>|</span><a href="#37613667">next</a><span>|</span><label class="collapse" for="c-37613933">[-]</label><label class="expand" for="c-37613933">[6 more]</label></div><br/><div class="children"><div class="content">There is a need for runtime configurations, yes, but it&#x27;s important to put them behind an interface intended for that, and not one intended for something else.</div><br/><div id="37614018" class="c"><input type="checkbox" id="c-37614018" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613933">parent</a><span>|</span><a href="#37615035">next</a><span>|</span><label class="collapse" for="c-37614018">[-]</label><label class="expand" for="c-37614018">[4 more]</label></div><br/><div class="children"><div class="content">I can immediately see if the config is being requested, which system requests it, what are the metadata of the request, etc. I can do conditional rollout of a configuration based on runtime data. I can reset the configuration to a know-good failsafe default without asking for approval with a break-glass button. I can schedule a rollout and get a reviewer for the config change.<p>IME the feature flag interface is next to perfect for runtime configuration. I don&#x27;t care for intended usage at all. You could say feature flags have found a great product-market fit, just that a segment of the market is a bit unexpected but makes perfect sense if you think about it.</div><br/><div id="37620508" class="c"><input type="checkbox" id="c-37620508" checked=""/><div class="controls bullet"><span class="by">NBJack</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37614018">parent</a><span>|</span><a href="#37614814">next</a><span>|</span><label class="collapse" for="c-37620508">[-]</label><label class="expand" for="c-37620508">[1 more]</label></div><br/><div class="children"><div class="content">This gets messy at larger scales,   both as teams grow and software grows.<p>Resetting to a know failsafe works as long ask the risk of someone changing a backend service (or, multiple services) at the same time  is low. Once it isn&#x27;t, you can most definitely do more damage (and make life harder for oncall).<p>Who controls the runtime config? One person? Half a dozen? One hundred plus? Is it being gated by approvals, or can anyone do it? What about auditability? If something does go wrong, how easily can I rule out you turning on that flag?<p>Finally there is simply the sheer permutations you introduce here. A feature <i>flag</i> is binary in many cases: on or off. A config could be in any number of states.<p>These things make me nervous as an architect, and I&#x27;ve seen well intentioned changes fail when good flag discipline wasn&#x27;t followed. Using it as fullblown runtime config seems like a postmortem waiting to happen.</div><br/></div></div><div id="37614814" class="c"><input type="checkbox" id="c-37614814" checked=""/><div class="controls bullet"><span class="by">bertil</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37614018">parent</a><span>|</span><a href="#37620508">prev</a><span>|</span><a href="#37615035">next</a><span>|</span><label class="collapse" for="c-37614814">[-]</label><label class="expand" for="c-37614814">[2 more]</label></div><br/><div class="children"><div class="content">I am tempted to agree: if separating the two is key (I’m not convinced that it is, but happy to assume) why not copy the interface and the infrastructure of the feature flag and offer it as a configuration tool.<p>I feel like you could easily add a status to flags, to mark whether they are part of a release process, or a permanent configuration tool, and in the latter case, take them off the release interfaces.</div><br/><div id="37618023" class="c"><input type="checkbox" id="c-37618023" checked=""/><div class="controls bullet"><span class="by">monknomo</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37614814">parent</a><span>|</span><a href="#37615035">next</a><span>|</span><label class="collapse" for="c-37618023">[-]</label><label class="expand" for="c-37618023">[1 more]</label></div><br/><div class="children"><div class="content">I think unleash offers &quot;toggle type&quot; which can take values that describe whether it&#x27;s a pure feature flag, something operation, config, etc.</div><br/></div></div></div></div></div></div><div id="37615035" class="c"><input type="checkbox" id="c-37615035" checked=""/><div class="controls bullet"><span class="by">dastbe</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613933">parent</a><span>|</span><a href="#37614018">prev</a><span>|</span><a href="#37613667">next</a><span>|</span><label class="collapse" for="c-37615035">[-]</label><label class="expand" for="c-37615035">[1 more]</label></div><br/><div class="children"><div class="content">Could you expand on what you think the different interfaces should be? you keep stating that these things ought to be distinct but haven&#x27;t explained why beyond dogma.</div><br/></div></div></div></div><div id="37613667" class="c"><input type="checkbox" id="c-37613667" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613622">parent</a><span>|</span><a href="#37613933">prev</a><span>|</span><a href="#37617260">next</a><span>|</span><label class="collapse" for="c-37613667">[-]</label><label class="expand" for="c-37613667">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, and assuming they are done well, they probably have better analytics and insights attached to them than anything else except perhaps your experiments!</div><br/></div></div></div></div><div id="37617260" class="c"><input type="checkbox" id="c-37617260" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37613622">prev</a><span>|</span><a href="#37613473">next</a><span>|</span><label class="collapse" for="c-37617260">[-]</label><label class="expand" for="c-37617260">[1 more]</label></div><br/><div class="children"><div class="content">Long lived features flags is a development process bug, I&#x27;m not sure we can solve it with the feature toggle system.<p>I&#x27;m at the point of deciding that Scrum is fundamentally incompatible with feature flags. We demo the code long before the flag has been removed, which leads to perverse incentives. If you want flags to go away in a timely manner you need WIP limits, and columns for those elements of the lifecycle.  In short: Kanban doesn&#x27;t (have to) have this problem.<p>And even the fixes I can imagine like the above, I&#x27;m not entirely sure you can stop your bad actor, because it&#x27;s going to be months before anyone notices that the flags have long overstayed their welcome.<p>I&#x27;m partial to flags being under version control, where we have an audit trail. However time and again what we really need is a summary of how long each flag has existed, so they can be gotten rid of.  The Kanban solution I mention above is only a 90% solution - it&#x27;s easy to forget you added a flag (or added 3 but deleted 2)</div><br/></div></div><div id="37613473" class="c"><input type="checkbox" id="c-37613473" checked=""/><div class="controls bullet"><span class="by">gastonfournier</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37617260">prev</a><span>|</span><a href="#37618287">next</a><span>|</span><label class="collapse" for="c-37613473">[-]</label><label class="expand" for="c-37613473">[6 more]</label></div><br/><div class="children"><div class="content">I faced something similar, and I think it&#x27;s unavoidable. Give people a screwdriver and they&#x27;ll find a way of using it as a hammer.<p>The best you can do is expect the feature flagging solution to give some kind of warning for tech debt. Then equip them with alternative tools for configuration management. Rather than forbidding, give them options, but if it&#x27;s not your scope, I&#x27;d let them be (I know as engineers this is hard to do :P).</div><br/><div id="37616516" class="c"><input type="checkbox" id="c-37616516" checked=""/><div class="controls bullet"><span class="by">llbeansandrice</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613473">parent</a><span>|</span><a href="#37618287">next</a><span>|</span><label class="collapse" for="c-37616516">[-]</label><label class="expand" for="c-37616516">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Give people a screwdriver and they&#x27;ll find a way of using it as a hammer.<p>I feel like feature flags aren&#x27;t that far off though. They&#x27;re fantastic for many uses of runtime configuration as mentioned in another comment.<p>There&#x27;s multiple people in this thread complaining about &quot;abuse&quot; of feature flags but no one has been able to voice why it&#x27;s abuse instead of just use beyond esoteric dogma.</div><br/><div id="37616695" class="c"><input type="checkbox" id="c-37616695" checked=""/><div class="controls bullet"><span class="by">bluefirebrand</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37616516">parent</a><span>|</span><a href="#37619200">next</a><span>|</span><label class="collapse" for="c-37616695">[-]</label><label class="expand" for="c-37616695">[3 more]</label></div><br/><div class="children"><div class="content">Allow me to try:<p>Feature Flags inherently introduce at least one branch into your codebase.<p>Every branch in your codebase creates a brand new state your code can run through.<p>The number of branches introduced by Feature Flags likely does not scale linearly, because there is a good chance they will become nested, especially as more are added.<p>Start with even an example of one feature flag nested inside another. That creates four possible program states. Four is not unreasonable, you can clearly define what state the program should be in for all four states.<p>Now scale that to a hundred feature flags, some nested, some not.<p>It becomes impossible to know what any particular program state should be past the most common configurations. If you can&#x27;t point to a single interface in a program and tell me all of the possible states of it, your program is going to be brittle as hell. It will become a QA nightmare.<p>This is why Feature Flags should be used for temporary development efforts or A&#x2F;B testing, and removed.<p>Otherwise you&#x27;re going to have a debugging nightmare on your hands eventually.<p>Edit: Note that this is different from normal runtime configurations because normally runtime configurations don&#x27;t have a mix of in-dev options and other temporary flags. Also, they aren&#x27;t usually set up to arbitrarily add new options whenever it is convenient for a developer.</div><br/><div id="37617574" class="c"><input type="checkbox" id="c-37617574" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37616695">parent</a><span>|</span><a href="#37619200">next</a><span>|</span><label class="collapse" for="c-37617574">[-]</label><label class="expand" for="c-37617574">[2 more]</label></div><br/><div class="children"><div class="content">Sorry, not buying it.<p>Branches are difficult to reason about? Yes, I agree.<p>Are branches necessary to make the product behave in a different way in some circumstances? Most of the time.<p>Do those circumstances require a branch? Unless you’re super confident about some part of code, yes? But why would you be?<p>Runtime configuration is not about making QA easy. It’s introduced because QA has been hell already so you can control rollout of code which you know wasn’t properly QA’d - or it was but turns out the thing you built isn’t the thing users want and the release cycle is too long to deploy a revert.<p>I’d say ‘branches are bad but alternatives are worse’.</div><br/><div id="37619553" class="c"><input type="checkbox" id="c-37619553" checked=""/><div class="controls bullet"><span class="by">bluefirebrand</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37617574">parent</a><span>|</span><a href="#37619200">next</a><span>|</span><label class="collapse" for="c-37619553">[-]</label><label class="expand" for="c-37619553">[1 more]</label></div><br/><div class="children"><div class="content">There is nothing worse than code with dozens to hundreds of possible configuration states that you must test for every new feature.<p>If your QA was bad before, you&#x27;ve made it worse.<p>&quot;I can toggle it off without pushing a new release&quot; is a terrible bandaid for the problem.</div><br/></div></div></div></div></div></div><div id="37619200" class="c"><input type="checkbox" id="c-37619200" checked=""/><div class="controls bullet"><span class="by">x0x0</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37616516">parent</a><span>|</span><a href="#37616695">prev</a><span>|</span><a href="#37618287">next</a><span>|</span><label class="collapse" for="c-37619200">[-]</label><label class="expand" for="c-37619200">[1 more]</label></div><br/><div class="children"><div class="content">The fundamental diff between feature flags and config is the former is meant to be a soft deploy of code where everyone is expected to eventually be on the new code.  Thus it should have a timer built in where it stops, and you should consider all new customers launching with it on.<p>As for why: if you don&#x27;t deprecate the feature flag in some time span, you&#x27;re permanently carrying both code paths.  With ongoing associated dev and qa resources and costs against your complexity budget.<p>Permanent costs should only be undertaken after careful consideration, and should be outside the scope of a single dev deciding to undertake them.  Whereas flags should be cheap to add to enable dev to get stuff into prod faster while retaining safety.<p>Permanently making something a config choice should be done after heavier deliberation because of the aforementioned costs, and you often want different tools to manage it.  Including something heavier duty than a single checkbox&#x2F;button in your internal CS admin tooling.  These are often tied into contracts or legal needs, and in many cases salesforce should be the source of truth for them.  Or whatever CPQ system you&#x27;re using.</div><br/></div></div></div></div></div></div><div id="37618287" class="c"><input type="checkbox" id="c-37618287" checked=""/><div class="controls bullet"><span class="by">strken</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37613473">prev</a><span>|</span><a href="#37617197">next</a><span>|</span><label class="collapse" for="c-37618287">[-]</label><label class="expand" for="c-37618287">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s better to admit they <i>actually are</i> config, just a different kind of config that comes with an expiration date.<p>Accepting reality in this way means you&#x27;ll design a config management system that lets you add feature flags with a required expiration date, and then notifies you when they&#x27;re still in the system after the deadline.</div><br/></div></div><div id="37617197" class="c"><input type="checkbox" id="c-37617197" checked=""/><div class="controls bullet"><span class="by">Dirak</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37618287">prev</a><span>|</span><a href="#37616434">next</a><span>|</span><label class="collapse" for="c-37617197">[-]</label><label class="expand" for="c-37617197">[1 more]</label></div><br/><div class="children"><div class="content">I feel like this is a solvable problem:
1) make feature flags be configured to have an expiration date. If over the expiration date, auto-generate a task to clean up your FF
2) If you want to be extra fancy, set up a codemod to automatically clean up the FF once it&#x27;s expired<p>I don&#x27;t see the problem with developers using flags for configuration as a stopgap until there&#x27;s a better solution available.</div><br/></div></div><div id="37616434" class="c"><input type="checkbox" id="c-37616434" checked=""/><div class="controls bullet"><span class="by">tantalor</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37617197">prev</a><span>|</span><a href="#37613176">next</a><span>|</span><label class="collapse" for="c-37616434">[-]</label><label class="expand" for="c-37616434">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like &quot;other dev&quot; found some business case they could unblock with existing system, and you thought the business was better off not solving that, or finding a more expensive solution.<p>Curious how you plan to justify cost to &quot;fix it&quot; to management. If it ain&#x27;t broke...</div><br/></div></div><div id="37613176" class="c"><input type="checkbox" id="c-37613176" checked=""/><div class="controls bullet"><span class="by">accountantbob</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37616434">prev</a><span>|</span><a href="#37619620">next</a><span>|</span><label class="collapse" for="c-37613176">[-]</label><label class="expand" for="c-37613176">[2 more]</label></div><br/><div class="children"><div class="content">We did the same. We were early adopters of unleash and wrangled it to also host long term application configuration and even rule based application config.<p>The architecture of unleash made it so simple to do in unleash vs having to evaluate, configure, and deploy a separate app config solution.</div><br/><div id="37613698" class="c"><input type="checkbox" id="c-37613698" checked=""/><div class="controls bullet"><span class="by">gastonfournier</span><span>|</span><a href="#37613024">root</a><span>|</span><a href="#37613176">parent</a><span>|</span><a href="#37619620">next</a><span>|</span><label class="collapse" for="c-37613698">[-]</label><label class="expand" for="c-37613698">[1 more]</label></div><br/><div class="children"><div class="content">Victim of your own success. As others were saying, when it works for short-lived its easy&#x2F;no effort to use it for long-lived configurations.</div><br/></div></div></div></div><div id="37619620" class="c"><input type="checkbox" id="c-37619620" checked=""/><div class="controls bullet"><span class="by">brightball</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37613176">prev</a><span>|</span><a href="#37613198">next</a><span>|</span><label class="collapse" for="c-37619620">[-]</label><label class="expand" for="c-37619620">[1 more]</label></div><br/><div class="children"><div class="content">It’s one of the main reasons to start with something like unleash because they have stale flag warnings built in. Plus, since you already have a UI it’s harder for it to be hijacked.</div><br/></div></div><div id="37613198" class="c"><input type="checkbox" id="c-37613198" checked=""/><div class="controls bullet"><span class="by">ivarconr</span><span>|</span><a href="#37613024">parent</a><span>|</span><a href="#37619620">prev</a><span>|</span><a href="#37621506">next</a><span>|</span><label class="collapse" for="c-37613198">[-]</label><label class="expand" for="c-37613198">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing. I have seen systems grow in to thousands of flags, where most developers does not know what a particular flags do anymore.</div><br/></div></div></div></div><div id="37621506" class="c"><input type="checkbox" id="c-37621506" checked=""/><div class="controls bullet"><span class="by">tvink</span><span>|</span><a href="#37613024">prev</a><span>|</span><a href="#37615748">next</a><span>|</span><label class="collapse" for="c-37621506">[-]</label><label class="expand" for="c-37621506">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Organizations who adopt feature flags see improvements in all key operational metrics for DevOps: Lead time to changes, mean-time-to-recovery, deployment frequency, and change failure rate.<p>Is this true? unfortunately there&#x27;s no sources indicated, and a quick check on scholar doesn&#x27;t show me anything of the sort.</div><br/></div></div><div id="37615748" class="c"><input type="checkbox" id="c-37615748" checked=""/><div class="controls bullet"><span class="by">dabeeeenster</span><span>|</span><a href="#37621506">prev</a><span>|</span><a href="#37613156">next</a><span>|</span><label class="collapse" for="c-37615748">[-]</label><label class="expand" for="c-37615748">[1 more]</label></div><br/><div class="children"><div class="content">For those that dont know about the project, check out Open Feature <a href="https:&#x2F;&#x2F;openfeature.dev&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;openfeature.dev&#x2F;</a> which is sort of like Open Telemetry but for feature flags. Helps avoid vendor lock in. We&#x27;re a young project and looking for help and to build the community!</div><br/></div></div><div id="37613156" class="c"><input type="checkbox" id="c-37613156" checked=""/><div class="controls bullet"><span class="by">staplung</span><span>|</span><a href="#37615748">prev</a><span>|</span><a href="#37612545">next</a><span>|</span><label class="collapse" for="c-37613156">[-]</label><label class="expand" for="c-37613156">[2 more]</label></div><br/><div class="children"><div class="content">This feels a bit like the dicta on 12 Factor: rules handed down from a presumed authority without any discussion of the tradeoffs. Engineering <i>is</i> tradeoff evaluation. Give me some discussion about the alternatives, when and why they&#x27;re inferior and don&#x27;t pretend like the proposed solution doesn&#x27;t have shortcomings or pitfalls.</div><br/><div id="37614184" class="c"><input type="checkbox" id="c-37614184" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#37613156">parent</a><span>|</span><a href="#37612545">next</a><span>|</span><label class="collapse" for="c-37614184">[-]</label><label class="expand" for="c-37614184">[1 more]</label></div><br/><div class="children"><div class="content">I agree with you that tradeoff evaluation is crucial in engineering, but I don&#x27;t see the 12 Factor methodology as a set of strict rules. They&#x27;re more like guidelines that are generally a good idea to follow for building modern applications or services. Some of the suggestions apply for any type of software, like having a single version controlled codebase, separate build&#x2F;release&#x2F;run stages, and using stateless processes.<p>So it&#x27;s good to be aware of _why_ those guidelines are considered a good thing, but as with any methodology, an engineer should be pragmatic in deciding when to follow it strictly, and when to adapt or ignore some of it.<p>That said, I wouldn&#x27;t want to work on software that completely ignores 12 Factor.</div><br/></div></div></div></div><div id="37612545" class="c"><input type="checkbox" id="c-37612545" checked=""/><div class="controls bullet"><span class="by">tiberriver256</span><span>|</span><a href="#37613156">prev</a><span>|</span><a href="#37612317">next</a><span>|</span><label class="collapse" for="c-37612545">[-]</label><label class="expand" for="c-37612545">[2 more]</label></div><br/><div class="children"><div class="content">Item #1 depends on the reason you&#x27;re using feature flags.<p>For a more nuanced and careful discussion of the topic I like to reference:
<a href="https:&#x2F;&#x2F;martinfowler.com&#x2F;articles&#x2F;feature-toggles.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;martinfowler.com&#x2F;articles&#x2F;feature-toggles.html</a></div><br/><div id="37613510" class="c"><input type="checkbox" id="c-37613510" checked=""/><div class="controls bullet"><span class="by">gastonfournier</span><span>|</span><a href="#37612545">parent</a><span>|</span><a href="#37612317">next</a><span>|</span><label class="collapse" for="c-37613510">[-]</label><label class="expand" for="c-37613510">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s true that there are more long-lived use cases, but if you have the ability to choose, runtime controlled ones cover both cases, while compile time only cover some use cases. But fair point</div><br/></div></div></div></div><div id="37612317" class="c"><input type="checkbox" id="c-37612317" checked=""/><div class="controls bullet"><span class="by">jt2190</span><span>|</span><a href="#37612545">prev</a><span>|</span><a href="#37618750">next</a><span>|</span><label class="collapse" for="c-37612317">[-]</label><label class="expand" for="c-37612317">[3 more]</label></div><br/><div class="children"><div class="content">I just item 1 (“Enable run-time control. Control flags dynamically, not using config files”) and it’s almost exclusively focused on what to do but not on why to do it.<p>It seems to be skipping past the use-cases and assumptions,  in particular, describing what a system with feature flags looks and acts like, what the benefits and drawbacks are.</div><br/><div id="37613170" class="c"><input type="checkbox" id="c-37613170" checked=""/><div class="controls bullet"><span class="by">ivarconr</span><span>|</span><a href="#37612317">parent</a><span>|</span><a href="#37612437">next</a><span>|</span><label class="collapse" for="c-37613170">[-]</label><label class="expand" for="c-37613170">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It seems to be skipping past the use-cases and assumptions<p>This is a great feedback. Our intention was to describe how such a system work at scale, but I see we could do better in this section, thanks!<p>Do you have some use-cases in mind?</div><br/></div></div><div id="37612437" class="c"><input type="checkbox" id="c-37612437" checked=""/><div class="controls bullet"><span class="by">tmpX7dMeXU</span><span>|</span><a href="#37612317">parent</a><span>|</span><a href="#37613170">prev</a><span>|</span><a href="#37618750">next</a><span>|</span><label class="collapse" for="c-37612437">[-]</label><label class="expand" for="c-37612437">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, because it’s describing how a product works, being passed off as knowledge.</div><br/></div></div></div></div><div id="37618750" class="c"><input type="checkbox" id="c-37618750" checked=""/><div class="controls bullet"><span class="by">eximius</span><span>|</span><a href="#37612317">prev</a><span>|</span><a href="#37612655">next</a><span>|</span><label class="collapse" for="c-37618750">[-]</label><label class="expand" for="c-37618750">[1 more]</label></div><br/><div class="children"><div class="content">The system we&#x27;re building now meets most of these but not necessarily in the way described.<p>First, we&#x27;re building a runtime configuration system on top of AWS AppConfig. YAML&#x2F;proto validation that pushes to AppConfig via gitops and bazel. Configurations are namespaced so the unique names is solved. It&#x27;s all open in git.<p>Feature flags are special cases of runtime configuration.<p>We are distinguishing backend feature flags from experimentation&#x2F;variants for users. We don&#x27;t have (or want) cohorting by user IDs or roles. We have a separate system for that and it does it well.<p>The last two points - distinguishing between experimentation&#x2F;feature variants and feature flags as runtime configuration are somewhat axiomatic differences. Folks might disagree but ultimately we have that separate system that solves that case. They&#x27;re complimentary and share a lot of properties but ultimately it solves a lot of angst if you don&#x27;t force both to be the same tool.</div><br/></div></div><div id="37612655" class="c"><input type="checkbox" id="c-37612655" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37618750">prev</a><span>|</span><a href="#37612983">next</a><span>|</span><label class="collapse" for="c-37612655">[-]</label><label class="expand" for="c-37612655">[20 more]</label></div><br/><div class="children"><div class="content">Background: I work at Block&#x2F;Square, on the team that owns (but didn&#x27;t build) our internal Feature Flag system, and also have a lot of experience with using LaunchDarkly.<p>I like the idea of caching locally, although k8s makes that a bit more difficult since containers are typically ephemeral. People <i>will</i> use feature flags for things that they shouldn&#x27;t, so eventually &quot;falling back go default values&quot; will cause production problems. One thing you can do to help with this is run proxies closer to your services. For example, LaunchDarkly has an open source &quot;Relay&quot;.<p>Local evaluation seems to be pretty standard at this point, although I&#x27;d argue that delivering flag definitions is (relatively) easy. One of the real value-add of a product like LaunchDarkly is all the things they can do when your applications send evaluation data upstream: unused flags, only-ever-evaluated-to-the-default flags, only-ever-evaluated-to-one-outcome flags, etc.<p>One best practice that I&#x27;d love to see spread (in our codebases too) is <i>always</i> naming the full feature flag directly in code, as a string (not a constant). I&#x27;d argue the same practice should be taken with metrics names.<p>One of the most useful things to know (but seldom communicated clearly near landing pages) is a basic sketch of the architecture. It&#x27;s necessary to know how things will behave if there is trouble. For instance: our internal system uses ZK to store (protobuf) flag definitions, and applications set watches to be notified of changes. LaunchDarkly clients download all flags[1] in the project on connection, then stream changes.<p>If I were going to build a feature flag system, I would ensure that there is a global, incrementing counter that is updated every time any change is made, and make it a fundamental aspect of the design. That way, clients can cache what they&#x27;ve seen, and easily fetch only necessary updates. You could also imagine annotating that generation ID into W3C Baggage, and passing it through the microservices call graph to ensure evaluation at a consistent point in time (clients would need to cache history for a minute or two, of course).<p>One other dimension in which feature flag services vary is by the complexity of the rules they allow you to evaluate. Our internal system has a mini expression language (probably overkill). LaunchDarkly&#x27;s arguably better system gives you an ordered set of rules within which conditions are ANDed together. Both allow you to pass in arbitrary contexts of key&#x2F;value pairs. Many open source solutions (Unleash, last I checked, some time ago) are more limited: some of them don&#x27;t let you vary on inputs, some only a small set of prescribed attributes.<p>I think the time is ripe for an open standard client API for feature flags. I think standardizing the communication mechanisms would be constricting, but there&#x27;s no reason we couldn&#x27;t create something analogous to (or even part of) the Open Telemetry client SDK for feature flags. If you are seriously interested in collaborating on that, please get in touch. (I&#x27;m &quot;zellyn&quot; just about everywhere)<p>[1] Yes, this causes problems if you have too many flags in one project. They have a pretty nice filtering solution that&#x27;s almost fully ready.<p>[Update: edited to make 70% of it not italics ]</div><br/><div id="37612756" class="c"><input type="checkbox" id="c-37612756" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37612655">parent</a><span>|</span><a href="#37613022">next</a><span>|</span><label class="collapse" for="c-37612756">[-]</label><label class="expand" for="c-37612756">[6 more]</label></div><br/><div class="children"><div class="content">One more update. I spent a little time the other day trying to find all the feature flag products I could. I&#x27;m sure I missed a ton. Let me know in the comments!<p>LaunchDarkly
Split
Apptimize
CloudBees
ConfigCat
DevCycle
FeatBit
FeatureHub
Flagsmith
Flipper
Flipt
GrowthBook
Harness
Molasses
OpenFeature
Posthog
Rollout
Unleash<p>Here&#x27;s my first draft of the questions you&#x27;d want to ask about any given solution:<p><pre><code>    Questionnaire
    
    - Does it seem to be primarily proprietary, primarily open-source, or “open core” (parts open source, enterprise features proprietary)?
      - If it’s open core or open source with a service offering, can you run it completely on your own for free?
    - Does it look “serious&#x2F;mature”?
      - Lots of language SDKs
      - High-profile, high-scale users
      - Can you do rules with arbitrary attributes or is it just on&#x2F;off or on&#x2F;off with overrides?
    - Can it do complex rules?
    - How many language SDKs (one, a few, lots)
    - Do feature flags appear to be the primary purpose of this company&#x2F;project?
      - If not, does it look like feature flags are a first-class offering, or an afterthought &#x2F; checkbox-filler? (eg. split.io started out in experimentation, and then later introduced free feature flag functionality. I think it’s a first-class feature now.)
    - Does it allow approval workflows?
    - What is the basic architecture?
      - Are flags evaluated in-memory, locally? (Hopefully!)
      - Is there a relay&#x2F;proxy you can run in your own environment?
      - How are changes propagated?
        - Polling?
        - Streaming?
      - Does each app retrieve&#x2F;stream all the flags in a project, or just the ones they use?
      - What happens if their website goes down?
    - Do they do experiments too?
      - As a first-class offering?
    - Are there ACLs and groups&#x2F;roles?
      - Can they be synced from your own source of truth?
    - Do they have a solution for mobile and web apps?
      - If so, what is the pricing model?
      - Do they have a mobile relay type product you can run yourself?
    - What is the pricing model?
      - Per developer?
      - Per end-user? MAU?</code></pre></div><br/><div id="37615672" class="c"><input type="checkbox" id="c-37615672" checked=""/><div class="controls bullet"><span class="by">konradlekko</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612756">parent</a><span>|</span><a href="#37615309">next</a><span>|</span><label class="collapse" for="c-37615672">[-]</label><label class="expand" for="c-37615672">[1 more]</label></div><br/><div class="children"><div class="content">A few more: <a href="https:&#x2F;&#x2F;featurevisor.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;featurevisor.com&#x2F;</a> <a href="https:&#x2F;&#x2F;configcat.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;configcat.com&#x2F;</a><p>I will toss our hat in the ring but we are early in this 
space! <a href="https:&#x2F;&#x2F;lekko.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;lekko.com</a></div><br/></div></div><div id="37615309" class="c"><input type="checkbox" id="c-37615309" checked=""/><div class="controls bullet"><span class="by">blawson</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612756">parent</a><span>|</span><a href="#37615672">prev</a><span>|</span><a href="#37613095">next</a><span>|</span><label class="collapse" for="c-37615309">[-]</label><label class="expand" for="c-37615309">[1 more]</label></div><br/><div class="children"><div class="content">Togglz is another option: <a href="https:&#x2F;&#x2F;www.togglz.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.togglz.org&#x2F;</a></div><br/></div></div><div id="37613095" class="c"><input type="checkbox" id="c-37613095" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612756">parent</a><span>|</span><a href="#37615309">prev</a><span>|</span><a href="#37614252">next</a><span>|</span><label class="collapse" for="c-37613095">[-]</label><label class="expand" for="c-37613095">[2 more]</label></div><br/><div class="children"><div class="content">Do you have the answers to that questionnaire for the services you mention?</div><br/><div id="37613306" class="c"><input type="checkbox" id="c-37613306" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37613095">parent</a><span>|</span><a href="#37614252">next</a><span>|</span><label class="collapse" for="c-37613306">[-]</label><label class="expand" for="c-37613306">[1 more]</label></div><br/><div class="children"><div class="content">I more or less know all the answers for LaunchDarkly (except pricing details), and for the internal feature flag service we&#x27;re deprecating, but I haven&#x27;t gone through and answered it for all the other offerings. It would be time-consuming, but very useful.<p>Also, undoubtedly contentious. If you want an amusing read, go check out LaunchDarkly&#x27;s &quot;comparison with Split&quot; page and Split&#x27;s &quot;comparison with LaunchDarkly&quot; page. It&#x27;s especially funny when they make the exact same evaluations, but in reverse.</div><br/></div></div></div></div><div id="37614252" class="c"><input type="checkbox" id="c-37614252" checked=""/><div class="controls bullet"><span class="by">vijayer</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612756">parent</a><span>|</span><a href="#37613095">prev</a><span>|</span><a href="#37613022">next</a><span>|</span><label class="collapse" for="c-37614252">[-]</label><label class="expand" for="c-37614252">[1 more]</label></div><br/><div class="children"><div class="content">Could you add Statsig to your research?</div><br/></div></div></div></div><div id="37613022" class="c"><input type="checkbox" id="c-37613022" checked=""/><div class="controls bullet"><span class="by">daigoba66</span><span>|</span><a href="#37612655">parent</a><span>|</span><a href="#37612756">prev</a><span>|</span><a href="#37612678">next</a><span>|</span><label class="collapse" for="c-37613022">[-]</label><label class="expand" for="c-37613022">[6 more]</label></div><br/><div class="children"><div class="content">&gt; One best practice that I&#x27;d love to see spread (in our codebases too) is always naming the full feature flag directly in code, as a string (not a constant).<p>Can you elaborate on this? As a programmer, I would think that using something like a constant would help us find references and ensure all usage of the flag is removed when the constant is removed.</div><br/><div id="37613236" class="c"><input type="checkbox" id="c-37613236" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37613022">parent</a><span>|</span><a href="#37613158">next</a><span>|</span><label class="collapse" for="c-37613236">[-]</label><label class="expand" for="c-37613236">[2 more]</label></div><br/><div class="children"><div class="content">One of the most common things you want to do for a feature flag or metric name is ask, &quot;Where is this used in code?&quot;. (LaunchDarkly even has a product feature that does this, called &quot;Code References&quot;.) I suppose one layer of indirection (into a constant) doesn&#x27;t hurt too much, although it certainly makes things a little trickier.<p>The bigger problem is when the code constructs metric and flag names programmatically:<p><pre><code>    prefix = &quot;framework.client.requests.http.{status%100}s&quot;
    recordHistogram(prefix + &quot;.latency&quot;, latency)
    recordCount(prefix + &quot;.count&quot;, 1)

    flagName = appName + &quot;&#x2F;loadshed-percent&quot;

    # etc...
</code></pre>
That kind of thing makes it very hard to find references to metrics or flags. Sometimes it&#x27;s impossible, or close to impossible to remove, but it&#x27;s worth trying hard.<p>Of course, this is just, like, my opinion, man!</div><br/><div id="37615383" class="c"><input type="checkbox" id="c-37615383" checked=""/><div class="controls bullet"><span class="by">dgorton</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37613236">parent</a><span>|</span><a href="#37613158">next</a><span>|</span><label class="collapse" for="c-37615383">[-]</label><label class="expand" for="c-37615383">[1 more]</label></div><br/><div class="children"><div class="content">Agreed. Flags are a type of technical debt. Keeping them as full strings in the code encourages and facilitates cleanup.<p>This sort of programmatic naming is a dangerous step down a slippery slope.</div><br/></div></div></div></div><div id="37613158" class="c"><input type="checkbox" id="c-37613158" checked=""/><div class="controls bullet"><span class="by">athenot</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37613022">parent</a><span>|</span><a href="#37613236">prev</a><span>|</span><a href="#37613171">next</a><span>|</span><label class="collapse" for="c-37613158">[-]</label><label class="expand" for="c-37613158">[2 more]</label></div><br/><div class="children"><div class="content">Not OP but multiple code bases may refer to the same flag by a different constant. Having a single string that can be searched accross all repos in an organization is quite handy to find all places where it&#x27;s referenced.</div><br/><div id="37619434" class="c"><input type="checkbox" id="c-37619434" checked=""/><div class="controls bullet"><span class="by">joshuamorton</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37613158">parent</a><span>|</span><a href="#37613171">next</a><span>|</span><label class="collapse" for="c-37619434">[-]</label><label class="expand" for="c-37619434">[1 more]</label></div><br/><div class="children"><div class="content">especially when you have different languages with different rules, `MY_FEATURE_FLAG` and `kMyFeatureFlag` and `@MyFeatureFlag` might all be reasonable names for what is defined as `&quot;my_feature_flag&quot;` in the configuration.<p>Using just the string-recognizable name everywhere is...better.</div><br/></div></div></div></div><div id="37613171" class="c"><input type="checkbox" id="c-37613171" checked=""/><div class="controls bullet"><span class="by">grork</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37613022">parent</a><span>|</span><a href="#37613158">prev</a><span>|</span><a href="#37612678">next</a><span>|</span><label class="collapse" for="c-37613171">[-]</label><label class="expand" for="c-37613171">[1 more]</label></div><br/><div class="children"><div class="content">IME searching for the name of the flag name and getting 1 result is less helpful than 15 results that directly show point-of-use.</div><br/></div></div></div></div><div id="37612678" class="c"><input type="checkbox" id="c-37612678" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37612655">parent</a><span>|</span><a href="#37613022">prev</a><span>|</span><a href="#37612797">next</a><span>|</span><label class="collapse" for="c-37612678">[-]</label><label class="expand" for="c-37612678">[4 more]</label></div><br/><div class="children"><div class="content">After typing that, and realizing I have a lot more to say, I guess I should write a blog post on the subject</div><br/><div id="37613237" class="c"><input type="checkbox" id="c-37613237" checked=""/><div class="controls bullet"><span class="by">snorlaxmorlax</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612678">parent</a><span>|</span><a href="#37613467">next</a><span>|</span><label class="collapse" for="c-37613237">[-]</label><label class="expand" for="c-37613237">[1 more]</label></div><br/><div class="children"><div class="content">You definitely should! These questions are great, and could use some appropriate context for evaluation.</div><br/></div></div><div id="37613467" class="c"><input type="checkbox" id="c-37613467" checked=""/><div class="controls bullet"><span class="by">ferrantim</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612678">parent</a><span>|</span><a href="#37613237">prev</a><span>|</span><a href="#37613632">next</a><span>|</span><label class="collapse" for="c-37613467">[-]</label><label class="expand" for="c-37613467">[1 more]</label></div><br/><div class="children"><div class="content">Yes please. Blog would be awesome.</div><br/></div></div><div id="37613632" class="c"><input type="checkbox" id="c-37613632" checked=""/><div class="controls bullet"><span class="by">gastonfournier</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612678">parent</a><span>|</span><a href="#37613467">prev</a><span>|</span><a href="#37612797">next</a><span>|</span><label class="collapse" for="c-37613632">[-]</label><label class="expand" for="c-37613632">[1 more]</label></div><br/><div class="children"><div class="content">Yes, please!</div><br/></div></div></div></div><div id="37612797" class="c"><input type="checkbox" id="c-37612797" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37612655">parent</a><span>|</span><a href="#37612678">prev</a><span>|</span><a href="#37613355">next</a><span>|</span><label class="collapse" for="c-37612797">[-]</label><label class="expand" for="c-37612797">[2 more]</label></div><br/><div class="children"><div class="content">Oh, and one last(?) update.<p>If you create your own service to evaluate a bunch of feature flags for a given user&#x2F;client&#x2F;device&#x2F;location&#x2F;whatever and return the results, for use in mobile clients (everyone does this), PLEASE *make sure the client enumerates the list of flags it wants*. It&#x27;s very tempting to just keep that list server-side, and send all the flags (much simpler requests, right?), but you will have to keep serving all those flags for all eternity because you&#x27;ll never know which deployed versions of your app require which flags, and which can be removed.<p>[Edit: speling]</div><br/><div id="37617642" class="c"><input type="checkbox" id="c-37617642" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37612655">root</a><span>|</span><a href="#37612797">parent</a><span>|</span><a href="#37613355">next</a><span>|</span><label class="collapse" for="c-37617642">[-]</label><label class="expand" for="c-37617642">[1 more]</label></div><br/><div class="children"><div class="content">You should be collecting metrics on used flags and their values if you’re rolling your own. A saas offering will do that for you.</div><br/></div></div></div></div><div id="37613355" class="c"><input type="checkbox" id="c-37613355" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37612655">parent</a><span>|</span><a href="#37612797">prev</a><span>|</span><a href="#37612983">next</a><span>|</span><label class="collapse" for="c-37613355">[-]</label><label class="expand" for="c-37613355">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;d argue that delivering flag definitions is (relatively) easy.<p>I&#x27;d argue that coming up with good UI that nudges developers towards safe behavior, as well as useful and appropriate guard rails -- in other words, using the feature flag UI to reduce likelihood of breakage -- is difficult, and one of the major value propositions of feature flag services.</div><br/></div></div></div></div><div id="37612983" class="c"><input type="checkbox" id="c-37612983" checked=""/><div class="controls bullet"><span class="by">Lutger</span><span>|</span><a href="#37612655">prev</a><span>|</span><a href="#37613098">next</a><span>|</span><label class="collapse" for="c-37612983">[-]</label><label class="expand" for="c-37612983">[1 more]</label></div><br/><div class="children"><div class="content">We use Unleash. There are many things you can do with feature flags and Unleash helps with a lot of them. However, my feeling is 80% of the value comes from 20% of the features. Even a much simpler system provides a ton of benefit. For me, it is top of the list after having automated tests and automated deployments.</div><br/></div></div><div id="37613098" class="c"><input type="checkbox" id="c-37613098" checked=""/><div class="controls bullet"><span class="by">aranchelk</span><span>|</span><a href="#37612983">prev</a><span>|</span><a href="#37613750">next</a><span>|</span><label class="collapse" for="c-37613098">[-]</label><label class="expand" for="c-37613098">[5 more]</label></div><br/><div class="children"><div class="content">With regard to web-based services, once you’ve got the ability to do canary testing, IMO flags&#x2F;toggles are less compelling — busier code and logic you’ll have to pull out later.</div><br/><div id="37616858" class="c"><input type="checkbox" id="c-37616858" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#37613098">parent</a><span>|</span><a href="#37613535">next</a><span>|</span><label class="collapse" for="c-37616858">[-]</label><label class="expand" for="c-37616858">[1 more]</label></div><br/><div class="children"><div class="content">Canarying gets you a 1&#x2F;n treatment group, but it might be skew geographically (all affected users are near the canary’s datacenter). You need a percentage in a feature flag if 1&#x2F;n is too big and you want, e.g., 0.1% of traffic.</div><br/></div></div><div id="37613535" class="c"><input type="checkbox" id="c-37613535" checked=""/><div class="controls bullet"><span class="by">gastonfournier</span><span>|</span><a href="#37613098">parent</a><span>|</span><a href="#37616858">prev</a><span>|</span><a href="#37617682">next</a><span>|</span><label class="collapse" for="c-37613535">[-]</label><label class="expand" for="c-37613535">[2 more]</label></div><br/><div class="children"><div class="content">I agree that if you have only a few changes going to prod, fast and doing canary testing, you should be covered. In my experience that&#x27;s rarely the case because of multiple teams deploying changes at the same time, and even deployments in external services causing side effects in other services.</div><br/><div id="37615145" class="c"><input type="checkbox" id="c-37615145" checked=""/><div class="controls bullet"><span class="by">aranchelk</span><span>|</span><a href="#37613098">root</a><span>|</span><a href="#37613535">parent</a><span>|</span><a href="#37617682">next</a><span>|</span><label class="collapse" for="c-37615145">[-]</label><label class="expand" for="c-37615145">[1 more]</label></div><br/><div class="children"><div class="content">Emergent inter-service issues are challenging to deal with regardless.<p>I’ve absolutely seen canary testing work in large environments with a lot of teams doing frequent deploys. The teams need to have the tooling to conduct their own canary testing and monitoring.<p>As soon as you’re involving external services or anything persistent you may not be able to undo the damage of misbehaving software by simply disabling the offending code with a flag.<p>In practice the cost&#x2F;benefit of feature flags has never proven out for me, better to just speed up your deploys&#x2F;rollbacks, the caveat is I’ve only ever worked in web environments, I can imagine with software running on an end user device it could solve some difficult problems provided you have a way to toggle the flag.</div><br/></div></div></div></div><div id="37617682" class="c"><input type="checkbox" id="c-37617682" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37613098">parent</a><span>|</span><a href="#37613535">prev</a><span>|</span><a href="#37613750">next</a><span>|</span><label class="collapse" for="c-37617682">[-]</label><label class="expand" for="c-37617682">[1 more]</label></div><br/><div class="children"><div class="content">OTOH a flag gives you an ability to deploy and revert independent of the product’s release cycle.</div><br/></div></div></div></div><div id="37613750" class="c"><input type="checkbox" id="c-37613750" checked=""/><div class="controls bullet"><span class="by">rubicon33</span><span>|</span><a href="#37613098">prev</a><span>|</span><a href="#37614736">next</a><span>|</span><label class="collapse" for="c-37613750">[-]</label><label class="expand" for="c-37613750">[7 more]</label></div><br/><div class="children"><div class="content">As an engineer, I am generally against feature flags.<p>They fracture your code base, are sometimes never removed, and add complexity and logic that at best is a boolean check and at worse is something more involved.<p>I&#x27;d love a world where engineers are given time to complete their feature in its entirety, and the feature is released when it is ready.<p>Sadly, we do not live in that world and hence: feature flags.</div><br/><div id="37613783" class="c"><input type="checkbox" id="c-37613783" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#37613750">parent</a><span>|</span><a href="#37614736">next</a><span>|</span><label class="collapse" for="c-37613783">[-]</label><label class="expand" for="c-37613783">[6 more]</label></div><br/><div class="children"><div class="content">This misses the point. A big point of feature flags is that you don&#x27;t yet know how features will be perceived until you get them in front of real users.<p>I get what you&#x27;d like &quot;as an engineer&quot;, but it ignores the needs of the business.</div><br/><div id="37615125" class="c"><input type="checkbox" id="c-37615125" checked=""/><div class="controls bullet"><span class="by">PH95VuimJjqBqy</span><span>|</span><a href="#37613750">root</a><span>|</span><a href="#37613783">parent</a><span>|</span><a href="#37614057">next</a><span>|</span><label class="collapse" for="c-37615125">[-]</label><label class="expand" for="c-37615125">[1 more]</label></div><br/><div class="children"><div class="content">That is not what feature flags are typically used for.<p>They&#x27;re typically used as a way of enabling a change for a subset of your services to allow for monitoring of the update and easier &quot;rollback&quot; if it becomes necessary.<p>They can be used for A&#x2F;B testing, but this is not what they&#x27;re typically used for.</div><br/></div></div><div id="37614057" class="c"><input type="checkbox" id="c-37614057" checked=""/><div class="controls bullet"><span class="by">rubicon33</span><span>|</span><a href="#37613750">root</a><span>|</span><a href="#37613783">parent</a><span>|</span><a href="#37615125">prev</a><span>|</span><a href="#37614736">next</a><span>|</span><label class="collapse" for="c-37614057">[-]</label><label class="expand" for="c-37614057">[4 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t that the job a product manager?  There are other means and methodologies for gathering user sentiment before you go and build something.<p>You should get as close as you can, release the product, and iterate.<p>Todays world is release the product in some ramshackle form or fashion, collect feedback, iterate.  To do that introduces a new construct of Feature Flags that would otherwise not be necessary.</div><br/><div id="37617705" class="c"><input type="checkbox" id="c-37617705" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#37613750">root</a><span>|</span><a href="#37614057">parent</a><span>|</span><a href="#37614736">next</a><span>|</span><label class="collapse" for="c-37617705">[-]</label><label class="expand" for="c-37617705">[3 more]</label></div><br/><div class="children"><div class="content">Yeah product manager says ‘run this on 5% of traffic for 2 weeks and then we’ll see what the next iteration should be’.</div><br/><div id="37620379" class="c"><input type="checkbox" id="c-37620379" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#37613750">root</a><span>|</span><a href="#37617705">parent</a><span>|</span><a href="#37614736">next</a><span>|</span><label class="collapse" for="c-37620379">[-]</label><label class="expand" for="c-37620379">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Also, if one customer is having a particularly bad time we need to be able to disable the feature for them while continuing to collect feedback from everyone else.&quot;</div><br/><div id="37621365" class="c"><input type="checkbox" id="c-37621365" checked=""/><div class="controls bullet"><span class="by">mrcarrot</span><span>|</span><a href="#37613750">root</a><span>|</span><a href="#37620379">parent</a><span>|</span><a href="#37614736">next</a><span>|</span><label class="collapse" for="c-37621365">[-]</label><label class="expand" for="c-37621365">[1 more]</label></div><br/><div class="children"><div class="content">“And management’s priority for Q4 is feature Y, so we’re just going to leave feature X like it is for now”</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37614736" class="c"><input type="checkbox" id="c-37614736" checked=""/><div class="controls bullet"><span class="by">adasdasdas</span><span>|</span><a href="#37613750">prev</a><span>|</span><a href="#37613521">next</a><span>|</span><label class="collapse" for="c-37614736">[-]</label><label class="expand" for="c-37614736">[5 more]</label></div><br/><div class="children"><div class="content">More principles<p>- Require in code defaults for fault tolerance<p>- Start annoying the flag author to delete if the flag is over a month old<p>- Partial rollout should be by hash on user id<p>- Contextual flag features should always be supplied by client (e.g. only show in LA, the location should be provided by client)</div><br/><div id="37615319" class="c"><input type="checkbox" id="c-37615319" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#37614736">parent</a><span>|</span><a href="#37621021">next</a><span>|</span><label class="collapse" for="c-37615319">[-]</label><label class="expand" for="c-37615319">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Partial rollout should be by hash on user id<p>With a per-flag salt as well, otherwise the same user will always have bad luck and be subject to experiments first.</div><br/><div id="37619667" class="c"><input type="checkbox" id="c-37619667" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#37614736">root</a><span>|</span><a href="#37615319">parent</a><span>|</span><a href="#37621021">next</a><span>|</span><label class="collapse" for="c-37619667">[-]</label><label class="expand" for="c-37619667">[1 more]</label></div><br/><div class="children"><div class="content">Our in-house solution hashes flagname+key, and LD does the same but adds salt</div><br/></div></div></div></div><div id="37621021" class="c"><input type="checkbox" id="c-37621021" checked=""/><div class="controls bullet"><span class="by">stravant</span><span>|</span><a href="#37614736">parent</a><span>|</span><a href="#37615319">prev</a><span>|</span><a href="#37616453">next</a><span>|</span><label class="collapse" for="c-37621021">[-]</label><label class="expand" for="c-37621021">[1 more]</label></div><br/><div class="children"><div class="content">Better yet require always the same default for boolean flags, so that it&#x27;s easier to reason about lifecycle for them.</div><br/></div></div><div id="37616453" class="c"><input type="checkbox" id="c-37616453" checked=""/><div class="controls bullet"><span class="by">tantalor</span><span>|</span><a href="#37614736">parent</a><span>|</span><a href="#37621021">prev</a><span>|</span><a href="#37613521">next</a><span>|</span><label class="collapse" for="c-37616453">[-]</label><label class="expand" for="c-37616453">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Start annoying the flag author to delete if the flag is over a month old<p>No problem, filter that email directly to spam folder.</div><br/></div></div></div></div><div id="37613521" class="c"><input type="checkbox" id="c-37613521" checked=""/><div class="controls bullet"><span class="by">angarg12</span><span>|</span><a href="#37614736">prev</a><span>|</span><a href="#37611195">next</a><span>|</span><label class="collapse" for="c-37613521">[-]</label><label class="expand" for="c-37613521">[1 more]</label></div><br/><div class="children"><div class="content">Offtopic but relevant:<p>TL;DR if you break long posts into pages, at least have an option to see the whole thing in a single page.<p>I use a browser extension to send websites to my Kindle. It&#x27;s great for long-ish format blog posts that I want to read, but I don&#x27;t have the time at the moment. However, whenever I see long blog posts that are broken into sections, each one in it&#x27;s own page, it becomes a mess. It forces me to navigate each individual page and send it to my Kindle. Then in the Kindle I have a long list of unsorted files that I need to jump around to read in order.<p>I understand breaking long pieces of text into pages makes it neater and more organized, but at least have an option to see the whole thing in a single page, as a way to export it somewhere else for easy reading.</div><br/></div></div><div id="37611195" class="c"><input type="checkbox" id="c-37611195" checked=""/><div class="controls bullet"><span class="by">dgorton</span><span>|</span><a href="#37613521">prev</a><span>|</span><a href="#37613955">next</a><span>|</span><label class="collapse" for="c-37611195">[-]</label><label class="expand" for="c-37611195">[1 more]</label></div><br/><div class="children"><div class="content">Open Source knowledge sharing. I like it:<p>&quot;Unleash is open-source, and so are these principles. Have something to contribute? Open a PR or discussion on our Github.&quot;</div><br/></div></div><div id="37613955" class="c"><input type="checkbox" id="c-37613955" checked=""/><div class="controls bullet"><span class="by">jacomoRodriguez</span><span>|</span><a href="#37611195">prev</a><span>|</span><label class="collapse" for="c-37613955">[-]</label><label class="expand" for="c-37613955">[4 more]</label></div><br/><div class="children"><div class="content">Is it just me or does this articles text structure and wording strongly indicate that is was written by gpt?</div><br/><div id="37616279" class="c"><input type="checkbox" id="c-37616279" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37613955">parent</a><span>|</span><a href="#37616744">next</a><span>|</span><label class="collapse" for="c-37616279">[-]</label><label class="expand" for="c-37616279">[1 more]</label></div><br/><div class="children"><div class="content">The only thing worse than AI generated content is now everyone thinks everything is AI generated.</div><br/></div></div><div id="37614435" class="c"><input type="checkbox" id="c-37614435" checked=""/><div class="controls bullet"><span class="by">gingerrr</span><span>|</span><a href="#37613955">parent</a><span>|</span><a href="#37616744">prev</a><span>|</span><label class="collapse" for="c-37614435">[-]</label><label class="expand" for="c-37614435">[1 more]</label></div><br/><div class="children"><div class="content">Definitely getting strong uncanny valley prose vibes.<p>Hard to tell if it&#x27;s generated or written in an attempt to be as plain English as possible, but either way feels strangely vacuous for a technical opinion piece. There&#x27;s no writer&#x27;s voice.</div><br/></div></div></div></div></div></div></div></div></div></body></html>