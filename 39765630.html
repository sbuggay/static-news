<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711011676935" as="style"/><link rel="stylesheet" href="styles.css?v=1711011676935"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://anchor.dev/blog/introducing-lcl-host">Lcl.host: fast, easy HTTPS in your local dev environment</a> <span class="domain">(<a href="https://anchor.dev">anchor.dev</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>87 comments</span></div><br/><div><div id="39768128" class="c"><input type="checkbox" id="c-39768128" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#39767074">next</a><span>|</span><label class="collapse" for="c-39768128">[-]</label><label class="expand" for="c-39768128">[20 more]</label></div><br/><div class="children"><div class="content">Warning: This checks if it’s running the latest version and refuses to run if it isn’t up to date. They just released v0.0.16 15 minutes ago and the update hasn’t hit Homebrew yet, so it has completely disabled itself and won’t run. There doesn’t seem to be any option to skip the version check.<p>So don’t use this unless you don’t mind it breaking randomly whenever there’s an update.</div><br/><div id="39768685" class="c"><input type="checkbox" id="c-39768685" checked=""/><div class="controls bullet"><span class="by">benburkert</span><span>|</span><a href="#39768128">parent</a><span>|</span><a href="#39768204">next</a><span>|</span><label class="collapse" for="c-39768685">[-]</label><label class="expand" for="c-39768685">[4 more]</label></div><br/><div class="children"><div class="content">Sorry about that, we&#x27;re working on switching this to a warning and not an error, that slipped by us before release. After the next update, it will only show a warning if you&#x27;re not on the latest release.</div><br/><div id="39769474" class="c"><input type="checkbox" id="c-39769474" checked=""/><div class="controls bullet"><span class="by">benburkert</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768685">parent</a><span>|</span><a href="#39768204">next</a><span>|</span><label class="collapse" for="c-39769474">[-]</label><label class="expand" for="c-39769474">[3 more]</label></div><br/><div class="children"><div class="content">We just released a fix for the version error, this will be the last one you see, we promise!</div><br/><div id="39773590" class="c"><input type="checkbox" id="c-39773590" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39769474">parent</a><span>|</span><a href="#39775444">next</a><span>|</span><label class="collapse" for="c-39773590">[-]</label><label class="expand" for="c-39773590">[1 more]</label></div><br/><div class="children"><div class="content">How about being able to disable the check entirely? I really dislike tools phoning home unless asked.</div><br/></div></div><div id="39775444" class="c"><input type="checkbox" id="c-39775444" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39769474">parent</a><span>|</span><a href="#39773590">prev</a><span>|</span><a href="#39768204">next</a><span>|</span><label class="collapse" for="c-39775444">[-]</label><label class="expand" for="c-39775444">[1 more]</label></div><br/><div class="children"><div class="content">Thanks. The upgrade command v0.0.15 gives didn’t work for me. In fact the only method I found that would successfully update was to uninstall it, then untap your tap, then reinstall.<p>Also, I echo the other people saying that the typeface you chose for the website is very difficult to read.</div><br/></div></div></div></div></div></div><div id="39768204" class="c"><input type="checkbox" id="c-39768204" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#39768128">parent</a><span>|</span><a href="#39768685">prev</a><span>|</span><a href="#39771633">next</a><span>|</span><label class="collapse" for="c-39768204">[-]</label><label class="expand" for="c-39768204">[8 more]</label></div><br/><div class="children"><div class="content">When I first announced Caddy, our website downloaded everything as .gz due to high traffic load --  a lesson I learned very quickly and a mistake I never made again.<p>This probably falls in the same boat. :)</div><br/><div id="39768262" class="c"><input type="checkbox" id="c-39768262" checked=""/><div class="controls bullet"><span class="by">emi2k01</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768204">parent</a><span>|</span><a href="#39774700">next</a><span>|</span><label class="collapse" for="c-39768262">[-]</label><label class="expand" for="c-39768262">[6 more]</label></div><br/><div class="children"><div class="content">Sorry, maybe it&#x27;s too early in the day but I don&#x27;t get what the lesson was. Could you explain?</div><br/><div id="39768425" class="c"><input type="checkbox" id="c-39768425" checked=""/><div class="controls bullet"><span class="by">orliesaurus</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768262">parent</a><span>|</span><a href="#39774700">next</a><span>|</span><label class="collapse" for="c-39768425">[-]</label><label class="expand" for="c-39768425">[5 more]</label></div><br/><div class="children"><div class="content">(IMHO) the lesson is that sometimes you&#x27;re excited to tell the world about what you built, that you forget about some &quot;other stuff&quot;<p>i.e. I don&#x27;t think that the authors of this tool wanted to have developers be forced to use the latest version of their tool.<p>It&#x27;s probably that they didn&#x27;t think about it when they wrote the code, but now they know and hopefully this gets fixed in the next release?</div><br/><div id="39768491" class="c"><input type="checkbox" id="c-39768491" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768425">parent</a><span>|</span><a href="#39768509">next</a><span>|</span><label class="collapse" for="c-39768491">[-]</label><label class="expand" for="c-39768491">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, exactly. A lot goes into shipping, and sometimes things like this can be overlooked, especially on a small team that needs to deliver broad platform support right out of the gate.<p>There are some bugs that are just hard to find until they&#x27;re out there.</div><br/></div></div><div id="39768509" class="c"><input type="checkbox" id="c-39768509" checked=""/><div class="controls bullet"><span class="by">hackmiester</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768425">parent</a><span>|</span><a href="#39768491">prev</a><span>|</span><a href="#39774700">next</a><span>|</span><label class="collapse" for="c-39768509">[-]</label><label class="expand" for="c-39768509">[3 more]</label></div><br/><div class="children"><div class="content">I just don&#x27;t understand what the thing about &quot;downloading everything as .gz&quot; means. It&#x27;s not like a gz is a rare file format, it seems like a totally reasonable format to download something in.</div><br/><div id="39768673" class="c"><input type="checkbox" id="c-39768673" checked=""/><div class="controls bullet"><span class="by">wolfgang42</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768509">parent</a><span>|</span><a href="#39768653">next</a><span>|</span><label class="collapse" for="c-39768673">[-]</label><label class="expand" for="c-39768673">[1 more]</label></div><br/><div class="children"><div class="content">Having once made a similar mistake myself, I assume what they mean is that it was downloading <i>everything</i> as a .gz—that is, the browser was asking users “where would you like to save index.html.gz?” instead of showing the homepage. (This happens when you precompress a static site for performance, but forget to tell the server that gzip should be negotiated as a Content-Encoding instead of a Content-Type.)</div><br/></div></div><div id="39768653" class="c"><input type="checkbox" id="c-39768653" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768509">parent</a><span>|</span><a href="#39768673">prev</a><span>|</span><a href="#39774700">next</a><span>|</span><label class="collapse" for="c-39768653">[-]</label><label class="expand" for="c-39768653">[1 more]</label></div><br/><div class="children"><div class="content">To clarify, every page load (.html file) was downloaded as a .gz file instead of being served as an HTML file and displayed as a web page in the browser.</div><br/></div></div></div></div></div></div></div></div><div id="39774700" class="c"><input type="checkbox" id="c-39774700" checked=""/><div class="controls bullet"><span class="by">thomasfromcdnjs</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768204">parent</a><span>|</span><a href="#39768262">prev</a><span>|</span><a href="#39771633">next</a><span>|</span><label class="collapse" for="c-39774700">[-]</label><label class="expand" for="c-39774700">[1 more]</label></div><br/><div class="children"><div class="content">When we first release cdnjs.com we used tools to check if the DNS had fully propagated... but it hadn&#x27;t. The shame of a cdn being down in several places across the globe.</div><br/></div></div></div></div><div id="39771633" class="c"><input type="checkbox" id="c-39771633" checked=""/><div class="controls bullet"><span class="by">hipadev23</span><span>|</span><a href="#39768128">parent</a><span>|</span><a href="#39768204">prev</a><span>|</span><a href="#39768232">next</a><span>|</span><label class="collapse" for="c-39771633">[-]</label><label class="expand" for="c-39771633">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s an absurd tactic I&#x27;ve not seen since last time I used Firefox.</div><br/><div id="39772578" class="c"><input type="checkbox" id="c-39772578" checked=""/><div class="controls bullet"><span class="by">yoavm</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39771633">parent</a><span>|</span><a href="#39768232">next</a><span>|</span><label class="collapse" for="c-39772578">[-]</label><label class="expand" for="c-39772578">[3 more]</label></div><br/><div class="children"><div class="content">you&#x27;re completely free to run firefox from 5 years ago and it will not refuse to run.</div><br/><div id="39774039" class="c"><input type="checkbox" id="c-39774039" checked=""/><div class="controls bullet"><span class="by">cookiengineer</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39772578">parent</a><span>|</span><a href="#39768232">next</a><span>|</span><label class="collapse" for="c-39774039">[-]</label><label class="expand" for="c-39774039">[2 more]</label></div><br/><div class="children"><div class="content">No, you are not.<p>Mozilla bricked SSL certificates that are mandatory for everything, including Browser Extensions.<p>There is a flag for about:config to unbrick it. Problem is though, that this lasts less than a second because of the remote settings service running in a loop. If you block that services domain with a host firewall (like opensnitch), Firefox will do an endless for loop using 100% CPU load trying to request the shavar and other services domains.<p>So, effectively, you cannot run an old Firefox version, and especially not a version that uses the old bundled mozilla certificate (which is all provided download variants).<p>That&#x27;s what the previous commenter was (likely) referring to.</div><br/><div id="39775583" class="c"><input type="checkbox" id="c-39775583" checked=""/><div class="controls bullet"><span class="by">yoavm</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39774039">parent</a><span>|</span><a href="#39768232">next</a><span>|</span><label class="collapse" for="c-39775583">[-]</label><label class="expand" for="c-39775583">[1 more]</label></div><br/><div class="children"><div class="content">Just for the fun I went to <a href="https:&#x2F;&#x2F;ftp.mozilla.org&#x2F;pub&#x2F;firefox&#x2F;releases&#x2F;53.0&#x2F;linux-x86_64&#x2F;en-US&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ftp.mozilla.org&#x2F;pub&#x2F;firefox&#x2F;releases&#x2F;53.0&#x2F;linux-x86_...</a> and downloaded Firefox 53 from 2017.<p>Font are ugly but it loaded HN just fine.</div><br/></div></div></div></div></div></div></div></div><div id="39768232" class="c"><input type="checkbox" id="c-39768232" checked=""/><div class="controls bullet"><span class="by">jollyllama</span><span>|</span><a href="#39768128">parent</a><span>|</span><a href="#39771633">prev</a><span>|</span><a href="#39767074">next</a><span>|</span><label class="collapse" for="c-39768232">[-]</label><label class="expand" for="c-39768232">[3 more]</label></div><br/><div class="children"><div class="content">Gross. Thanks for the heads up!</div><br/><div id="39770675" class="c"><input type="checkbox" id="c-39770675" checked=""/><div class="controls bullet"><span class="by">apgwoz</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768232">parent</a><span>|</span><a href="#39771041">next</a><span>|</span><label class="collapse" for="c-39770675">[-]</label><label class="expand" for="c-39770675">[1 more]</label></div><br/><div class="children"><div class="content">Not affiliated with them, but it seems this was a mistake. <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39768685">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39768685</a> -- maybe give it another shot?</div><br/></div></div><div id="39771041" class="c"><input type="checkbox" id="c-39771041" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#39768128">root</a><span>|</span><a href="#39768232">parent</a><span>|</span><a href="#39770675">prev</a><span>|</span><a href="#39767074">next</a><span>|</span><label class="collapse" for="c-39771041">[-]</label><label class="expand" for="c-39771041">[1 more]</label></div><br/><div class="children"><div class="content">They fixed this. It&#x27;s now a warning.</div><br/></div></div></div></div></div></div><div id="39767074" class="c"><input type="checkbox" id="c-39767074" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39768128">prev</a><span>|</span><a href="#39767202">next</a><span>|</span><label class="collapse" for="c-39767074">[-]</label><label class="expand" for="c-39767074">[11 more]</label></div><br/><div class="children"><div class="content">I like the interactive setup. I think this is solid but if you want something even faster and easier to use, try my project localias [0]. The parent project, lcl.host, has some annoying restrictions:<p>&gt; This CA has some restrictions though: it can only issue certificates for subdomains of lcl.host and localhost, but that’s all you need for local development.<p>Localias, on the other hand, lets you use any custom domain you&#x27;d like. And if you use a domain ending in .local, it will broadcast over mDNS so that you can easily connect to that server from any other device on your wifi network (like your phone.)<p>Localias also allows you to share your configuration with your entire development team by committing a .localias.yaml file to the root of your git repo. This makes sharing links with each other super convenient.<p>Always nice to see another competitor in the space; if you&#x27;re interested in this, please check out Localias as well!<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;peterldowns&#x2F;localias">https:&#x2F;&#x2F;github.com&#x2F;peterldowns&#x2F;localias</a></div><br/><div id="39775718" class="c"><input type="checkbox" id="c-39775718" checked=""/><div class="controls bullet"><span class="by">maxcoder4</span><span>|</span><a href="#39767074">parent</a><span>|</span><a href="#39768168">next</a><span>|</span><label class="collapse" for="c-39775718">[-]</label><label class="expand" for="c-39775718">[1 more]</label></div><br/><div class="children"><div class="content">&gt;This CA has some restrictions though: it can only issue certificates for subdomains of lcl.host and localhost, but that’s all you need for local development.<p>This sound like a security feature, not (just) an annoying restriction. Though an attack model for a local CA is a bit flimsy.</div><br/></div></div><div id="39768168" class="c"><input type="checkbox" id="c-39768168" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#39767074">parent</a><span>|</span><a href="#39775718">prev</a><span>|</span><a href="#39772587">next</a><span>|</span><label class="collapse" for="c-39768168">[-]</label><label class="expand" for="c-39768168">[2 more]</label></div><br/><div class="children"><div class="content">Neat! I hadn&#x27;t seen this before, and it uses Caddy :D</div><br/><div id="39768824" class="c"><input type="checkbox" id="c-39768824" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39767074">root</a><span>|</span><a href="#39768168">parent</a><span>|</span><a href="#39772587">next</a><span>|</span><label class="collapse" for="c-39768824">[-]</label><label class="expand" for="c-39768824">[1 more]</label></div><br/><div class="children"><div class="content">Yes! Thank you for making Caddy, it’s wonderful software and it was really easy to extend!</div><br/></div></div></div></div><div id="39772587" class="c"><input type="checkbox" id="c-39772587" checked=""/><div class="controls bullet"><span class="by">gvkhna</span><span>|</span><a href="#39767074">parent</a><span>|</span><a href="#39768168">prev</a><span>|</span><a href="#39771436">next</a><span>|</span><label class="collapse" for="c-39772587">[-]</label><label class="expand" for="c-39772587">[2 more]</label></div><br/><div class="children"><div class="content">This looks fantastic! Does it support node extra ca cert etc? I’ve had that issue with mkcert in the past and it’s easy to fix but another thing to keep track of in these already complex dev setups if you’re doing local https.</div><br/><div id="39772761" class="c"><input type="checkbox" id="c-39772761" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39767074">root</a><span>|</span><a href="#39772587">parent</a><span>|</span><a href="#39771436">next</a><span>|</span><label class="collapse" for="c-39772761">[-]</label><label class="expand" for="c-39772761">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand what you mean, what is &quot;node extra ca cert etc&quot; and what is the issue with mkcert?<p>Localias wraps Caddy to handle all the cert provision; I believe Caddy uses mkcert. I haven&#x27;t seen any bug reports about yet, but if you give it a try and run into an issue I would be happy to help fix it.</div><br/></div></div></div></div><div id="39771436" class="c"><input type="checkbox" id="c-39771436" checked=""/><div class="controls bullet"><span class="by">elzbardico</span><span>|</span><a href="#39767074">parent</a><span>|</span><a href="#39772587">prev</a><span>|</span><a href="#39772843">next</a><span>|</span><label class="collapse" for="c-39771436">[-]</label><label class="expand" for="c-39771436">[2 more]</label></div><br/><div class="children"><div class="content">Oh man, I was up and running in my project in less than one minute. Thanks!</div><br/><div id="39772213" class="c"><input type="checkbox" id="c-39772213" checked=""/><div class="controls bullet"><span class="by">peter_l_downs</span><span>|</span><a href="#39767074">root</a><span>|</span><a href="#39771436">parent</a><span>|</span><a href="#39772843">next</a><span>|</span><label class="collapse" for="c-39772213">[-]</label><label class="expand" for="c-39772213">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m glad it worked for you and was easy to set up. If you run into any trouble or have any feature requests, please file an issue on github!</div><br/></div></div></div></div><div id="39772843" class="c"><input type="checkbox" id="c-39772843" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#39767074">parent</a><span>|</span><a href="#39771436">prev</a><span>|</span><a href="#39767202">next</a><span>|</span><label class="collapse" for="c-39772843">[-]</label><label class="expand" for="c-39772843">[3 more]</label></div><br/><div class="children"><div class="content">This would be perfect if combined with Traefik&#x27;s method of config via docker tags.</div><br/><div id="39774474" class="c"><input type="checkbox" id="c-39774474" checked=""/><div class="controls bullet"><span class="by">mitjam</span><span>|</span><a href="#39767074">root</a><span>|</span><a href="#39772843">parent</a><span>|</span><a href="#39767202">next</a><span>|</span><label class="collapse" for="c-39774474">[-]</label><label class="expand" for="c-39774474">[2 more]</label></div><br/><div class="children"><div class="content">The Caddy Docker Proxy Module enables Caddy to act as reverse proxy for docker containers via labels: <a href="https:&#x2F;&#x2F;github.com&#x2F;lucaslorentz&#x2F;caddy-docker-proxy">https:&#x2F;&#x2F;github.com&#x2F;lucaslorentz&#x2F;caddy-docker-proxy</a></div><br/><div id="39776112" class="c"><input type="checkbox" id="c-39776112" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#39767074">root</a><span>|</span><a href="#39774474">parent</a><span>|</span><a href="#39767202">next</a><span>|</span><label class="collapse" for="c-39776112">[-]</label><label class="expand" for="c-39776112">[1 more]</label></div><br/><div class="children"><div class="content">Whoa, thanks. I had my eye on Caddy for a local reverse proxy but can&#x27;t be doing with maintaining another big config file. With the labels method the reverse proxy becomes &quot;set and forget&quot; and you&#x27;re probably going to be editing bundled compose files to get rid of port conflicts anyway (or using override like <a href="https:&#x2F;&#x2F;blog.gpkb.org&#x2F;posts&#x2F;multiple-web-projects-traefik&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.gpkb.org&#x2F;posts&#x2F;multiple-web-projects-traefik&#x2F;</a>)</div><br/></div></div></div></div></div></div></div></div><div id="39767202" class="c"><input type="checkbox" id="c-39767202" checked=""/><div class="controls bullet"><span class="by">dspillett</span><span>|</span><a href="#39767074">prev</a><span>|</span><a href="#39771783">next</a><span>|</span><label class="collapse" for="c-39767202">[-]</label><label class="expand" for="c-39767202">[17 more]</label></div><br/><div class="children"><div class="content">It surprises me how few people dev&#x2F;test against HTTPS, given that it isn&#x27;t exactly hard to setup manually (with tools like this making it even easier). Just point a wildcard DNS entry at 127.0.0.1 or some other useful address if your dev copy is actually not that local, and chuck a web server there acting as a proxy to what-ever apps, with a LetsEncrypt wildcard cert. It isn&#x27;t zero work, but saves time in the long run as soon as you hit unexpected issues caused by small differences between dev and prod.</div><br/><div id="39767349" class="c"><input type="checkbox" id="c-39767349" checked=""/><div class="controls bullet"><span class="by">zikduruqe</span><span>|</span><a href="#39767202">parent</a><span>|</span><a href="#39767624">next</a><span>|</span><label class="collapse" for="c-39767349">[-]</label><label class="expand" for="c-39767349">[7 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t even need to mess with a wildcard from Lets Encrypt, just use <a href="https:&#x2F;&#x2F;github.com&#x2F;FiloSottile&#x2F;mkcert">https:&#x2F;&#x2F;github.com&#x2F;FiloSottile&#x2F;mkcert</a></div><br/><div id="39767907" class="c"><input type="checkbox" id="c-39767907" checked=""/><div class="controls bullet"><span class="by">dspillett</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39767349">parent</a><span>|</span><a href="#39773921">next</a><span>|</span><label class="collapse" for="c-39767907">[-]</label><label class="expand" for="c-39767907">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always been a bit wary of a local trusted CA, especially with the signing cert on the same dev box as the certificates it signs which is how I&#x27;ve seen things done a lot. It feels like opening up a trust issue that could allow an uncooperative entity to play games with me… Maybe that is just paranoia from the practical jokes played back in CompSci at Uni!<p>Admittedly an external attacker getting close enough to sign a cert using such a CA, in order to trick me into something, means they probably have such high access already that they don&#x27;t really need the CA to do that or worse, so perhaps it is unnecessary caution.</div><br/><div id="39768837" class="c"><input type="checkbox" id="c-39768837" checked=""/><div class="controls bullet"><span class="by">nucleardog</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39767907">parent</a><span>|</span><a href="#39773816">next</a><span>|</span><label class="collapse" for="c-39768837">[-]</label><label class="expand" for="c-39768837">[2 more]</label></div><br/><div class="children"><div class="content">The way I handle this in the dev tooling I put together is to run a totally separate browser profile that (1) trusts the certificate and (2) can only connect to localhost. It also launches with a totally different colour scheme.<p>With chrome, that&#x27;s something like:<p><pre><code>    google-chrome
        --user-data-dir=&quot;${HOME}&#x2F;.config&#x2F;ourlocaldev&#x2F;google-chrome&quot;
        --install-autogenerated-theme=85,63,9
        --host-rules=&quot;MAP * 127.0.0.1, EXCLUDE localhost, EXCLUDE fonts.googleapis.com, EXCLUDE fonts.gstatic.com&quot;
        --ignore-certificate-errors-spki-list=&quot;0oKw9nasIS7qRQD1CYXe5bmi22&#x2F;mnHjZP++f6G+VM88=&quot;
        &quot;https:&#x2F;&#x2F;my.dev.thing&quot;
</code></pre>
This will launch a separate copy of chrome with a fresh&#x2F;separate profile. It will have a different colour (RGB values set in there) so it&#x27;s visually distinct when it&#x27;s running and I don&#x27;t get the windows mixed up. Any request made from the browser will be rewritten to connect to 127.0.0.1 (except a couple google font domains).<p>The danger if someone got their hands on my local key&#x2F;cert is basically nil. They would only be able to MITM connections from this one specific browser window to localhost. And that browser is incapable of connecting to anything besides localhost. I can never accidentally open my banking site in there. Also fresh profile so no saved passwords, credit cards, or anything else.<p>(As an added benefit, I don&#x27;t really need to worry about reconfiguring URLs for projects. If I open &quot;testing.mysite.com&quot; in that browser, it will force the connection to localhost, so I can just run my services at our test URLs and steal configs as-is from the testing environment. Taking it further, I then have a controller set up in k3s&#x2F;Rancher Desktop that rewrites the service on all annotated ingresses to point to its own service, which runs nginx, which the controller then configures to proxy the requests on to the local service or the actual upstream testing service depending on whether the local container is running. It also configures CoreDNS to point the upstream URLs at the same proxy. End result is that from the browser or anything running in k3s you can hit our testing URLs and it will hit your local container if it&#x27;s running or fall back to the testing environment if not.)<p>If you want to try the browser thing, you can generate the fingerprint for a certificate with:<p><pre><code>    echo &quot;&quot; |
    openssl s_client -connect 127.0.0.1:443 -prexit 2&gt;&#x2F;dev&#x2F;null |
    openssl x509 -pubkey -noout -in &#x2F;dev&#x2F;stdin |
    openssl pkey -pubin -outform der |
    openssl dgst -sha256 -binary |
    openssl enc -base64</code></pre></div><br/><div id="39771243" class="c"><input type="checkbox" id="c-39771243" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39768837">parent</a><span>|</span><a href="#39773816">next</a><span>|</span><label class="collapse" for="c-39771243">[-]</label><label class="expand" for="c-39771243">[1 more]</label></div><br/><div class="children"><div class="content">This is an awesome trick, thanks, I&#x27;m copying you.</div><br/></div></div></div></div><div id="39773816" class="c"><input type="checkbox" id="c-39773816" checked=""/><div class="controls bullet"><span class="by">dpkirchner</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39767907">parent</a><span>|</span><a href="#39768837">prev</a><span>|</span><a href="#39768122">next</a><span>|</span><label class="collapse" for="c-39773816">[-]</label><label class="expand" for="c-39773816">[1 more]</label></div><br/><div class="children"><div class="content">I figure you could create the CA, have your browser trust it, create and sign your localhost cert, and then nuke the CA private key so no other carts may be signed.<p>It&#x27;d be annoying if you need to make a new localhost certificate, but totally manageable.</div><br/></div></div></div></div><div id="39773921" class="c"><input type="checkbox" id="c-39773921" checked=""/><div class="controls bullet"><span class="by">javajosh</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39767349">parent</a><span>|</span><a href="#39767907">prev</a><span>|</span><a href="#39767624">next</a><span>|</span><label class="collapse" for="c-39773921">[-]</label><label class="expand" for="c-39773921">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t even need that. See <a href="https:&#x2F;&#x2F;simpatico.io&#x2F;devops&#x2F;deploy.sh#generateSelfSignedCert" rel="nofollow">https:&#x2F;&#x2F;simpatico.io&#x2F;devops&#x2F;deploy.sh#generateSelfSignedCert</a>() and also #generateRootCA()<p>Then point your server to the output files. If you want, you can also modify `&#x2F;etc&#x2F;hosts` to point a &quot;production name&quot; to localhost (something I actually don&#x27;t do and never wrote a script for). Far fewer moving parts than the OP. (parts of Simpatico uses subtle.crypto and so requires https to run even locally)</div><br/></div></div></div></div><div id="39767624" class="c"><input type="checkbox" id="c-39767624" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#39767202">parent</a><span>|</span><a href="#39767349">prev</a><span>|</span><a href="#39770485">next</a><span>|</span><label class="collapse" for="c-39767624">[-]</label><label class="expand" for="c-39767624">[6 more]</label></div><br/><div class="children"><div class="content">&gt; It surprises me how few people dev&#x2F;test against HTTPS<p>For dev at least it’s mostly because web browsers treat localhost as a special domain that gets the HTTPS treatment even when loaded over HTTP.<p>I have set up local HTTPS certs before now, can’t remember exactly what required it. But I still load most web projects on localhost over HTTP just out of habit.</div><br/><div id="39768574" class="c"><input type="checkbox" id="c-39768574" checked=""/><div class="controls bullet"><span class="by">hk1337</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39767624">parent</a><span>|</span><a href="#39770485">next</a><span>|</span><label class="collapse" for="c-39768574">[-]</label><label class="expand" for="c-39768574">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always thought the need for local HTTPS was unnecessary for at least 90% of the projects and brought no real value other than making the developer &quot;feel&quot; better.<p>localhost with HTTP should be sufficient for most things. It&#x27;s when you start doing stuff like &quot;app.localhost&quot; like what was mentioned in the article which, despite it having &quot;localhost&quot; is not the same as <a href="http:&#x2F;&#x2F;localhost" rel="nofollow">http:&#x2F;&#x2F;localhost</a>.<p>Develop basic in local and do all the hostname + https on actual server where you can easily do something like letsencrypt route DNS to it.</div><br/><div id="39768887" class="c"><input type="checkbox" id="c-39768887" checked=""/><div class="controls bullet"><span class="by">chuckadams</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39768574">parent</a><span>|</span><a href="#39770485">next</a><span>|</span><label class="collapse" for="c-39768887">[-]</label><label class="expand" for="c-39768887">[4 more]</label></div><br/><div class="children"><div class="content">There are a number of APIs, such as geolocation, that only work over https.  It&#x27;s also very common to accidentally generate non-https urls for assets, which is a bug most people would rather catch in local dev and not production when the browser refuses to fetch them.<p>I use traefik to serve my apps in dev, which generates self-signed certs by default if you don&#x27;t hook it up to ACME.  Slightly more cumbersome because it means clicking through a warning screen and disabling verification in CLI tools (actually those are where I do drop to plain http).  I&#x27;m sure this lcl.host product smooths this process considerably, but when it comes to local dev tools, I have an absolute requirement that they actually run locally and don&#x27;t tether me to some cloud service, so I&#x27;ll be sticking with traefik regardless for now.</div><br/><div id="39769130" class="c"><input type="checkbox" id="c-39769130" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39768887">parent</a><span>|</span><a href="#39770485">next</a><span>|</span><label class="collapse" for="c-39769130">[-]</label><label class="expand" for="c-39769130">[3 more]</label></div><br/><div class="children"><div class="content">&gt; There are a number of APIs, such as geolocation, that only work over https<p>And localhost<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;Security&#x2F;Secure_Contexts#when_is_a_context_considered_secure" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;Security&#x2F;Secure...</a></div><br/><div id="39771160" class="c"><input type="checkbox" id="c-39771160" checked=""/><div class="controls bullet"><span class="by">ifwinterco</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39769130">parent</a><span>|</span><a href="#39770485">next</a><span>|</span><label class="collapse" for="c-39771160">[-]</label><label class="expand" for="c-39771160">[2 more]</label></div><br/><div class="children"><div class="content">Might have changed, but last time I tried to use the Clipboard API it didn&#x27;t work on localhost without https</div><br/><div id="39771831" class="c"><input type="checkbox" id="c-39771831" checked=""/><div class="controls bullet"><span class="by">umvi</span><span>|</span><a href="#39767202">root</a><span>|</span><a href="#39771160">parent</a><span>|</span><a href="#39770485">next</a><span>|</span><label class="collapse" for="c-39771831">[-]</label><label class="expand" for="c-39771831">[1 more]</label></div><br/><div class="children"><div class="content">I would be very surprised if that were the case. Localhost gets special privileges in most browsers</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39770485" class="c"><input type="checkbox" id="c-39770485" checked=""/><div class="controls bullet"><span class="by">knallfrosch</span><span>|</span><a href="#39767202">parent</a><span>|</span><a href="#39767624">prev</a><span>|</span><a href="#39771928">next</a><span>|</span><label class="collapse" for="c-39770485">[-]</label><label class="expand" for="c-39770485">[1 more]</label></div><br/><div class="children"><div class="content">It <i>is</i> hard to set up. Creating a cert and trusting it is easy – a Powershell script can do that in 3 lines.<p>But then, trouble begins. You have to configure every server to use the certificate (or use a proxy) and every client to accept the certificate. Sometimes the proxies eat headers, or they have trouble with WebSockets and hot reloading or whatever.<p>We also use IPs instead of domains to find our locally running prod servers so that our customers don&#x27;t have to configure anything DNS on their maybe-offline WiFi network. We also have to test with external devices, such as iPads. How do you automate getting your certificate onto them?<p>..And then your IP changes and all is lost again.<p>Yeah, if you have a 50 line Svelte &quot;app&quot; that you serve as site it&#x27;s easy. But who does that?</div><br/></div></div><div id="39771928" class="c"><input type="checkbox" id="c-39771928" checked=""/><div class="controls bullet"><span class="by">holoduke</span><span>|</span><a href="#39767202">parent</a><span>|</span><a href="#39770485">prev</a><span>|</span><a href="#39773951">next</a><span>|</span><label class="collapse" for="c-39771928">[-]</label><label class="expand" for="c-39771928">[1 more]</label></div><br/><div class="children"><div class="content">I never work locally. Always remote. Dev.xxx.com, stg.xxx.com etc</div><br/></div></div></div></div><div id="39771783" class="c"><input type="checkbox" id="c-39771783" checked=""/><div class="controls bullet"><span class="by">austin-cheney</span><span>|</span><a href="#39767202">prev</a><span>|</span><a href="#39767308">next</a><span>|</span><label class="collapse" for="c-39771783">[-]</label><label class="expand" for="c-39771783">[1 more]</label></div><br/><div class="children"><div class="content">Some things I learned about trusted localhost HTTPS:<p>* Windows is the easiest... by far.  There is only one trust store and its extremely easy to access at different levels of trust.  Firefox has its own trust store so you can either add your certs to both the Windows store AND the Firefox trust store or flip a config in Firefox to tell it to use the Windows trust store like everyone else.<p>* Linux is a challenge because you have to add your certificates to the OS trust store and then each browser has their own trust stores.<p>* MacOS is pretty close to impossible, at least fully automated.  If the cert is not registered with a third party of the OS&#x27;s choosing the cert will not be trusted in the browser.  The way around this is to manually add your localhost cert chain to the MacOS keychain.<p>If anybody wants an example here is something I wrote a ways back in JS (but please be warned its specific to my application:<p>* Build the certificate chain - <a href="https:&#x2F;&#x2F;github.com&#x2F;prettydiff&#x2F;share-file-systems&#x2F;blob&#x2F;master&#x2F;lib&#x2F;terminal&#x2F;commands&#x2F;library&#x2F;build.ts#L403-L511">https:&#x2F;&#x2F;github.com&#x2F;prettydiff&#x2F;share-file-systems&#x2F;blob&#x2F;master...</a><p>* Install the cert by OS type - <a href="https:&#x2F;&#x2F;github.com&#x2F;prettydiff&#x2F;share-file-systems&#x2F;blob&#x2F;master&#x2F;lib&#x2F;terminal&#x2F;commands&#x2F;library&#x2F;build.ts#L403-L511">https:&#x2F;&#x2F;github.com&#x2F;prettydiff&#x2F;share-file-systems&#x2F;blob&#x2F;master...</a><p>That second sample also installs pcap so that I can serve on localhost over ports 80&#x2F;443.</div><br/></div></div><div id="39767308" class="c"><input type="checkbox" id="c-39767308" checked=""/><div class="controls bullet"><span class="by">BroomOfSYS</span><span>|</span><a href="#39771783">prev</a><span>|</span><a href="#39768097">next</a><span>|</span><label class="collapse" for="c-39767308">[-]</label><label class="expand" for="c-39767308">[4 more]</label></div><br/><div class="children"><div class="content">How is this different from something like Caddy which supports <a href="https:&#x2F;&#x2F;localhost" rel="nofollow">https:&#x2F;&#x2F;localhost</a> instead of something like <a href="https:&#x2F;&#x2F;lcl.host" rel="nofollow">https:&#x2F;&#x2F;lcl.host</a></div><br/><div id="39767701" class="c"><input type="checkbox" id="c-39767701" checked=""/><div class="controls bullet"><span class="by">its_stolt</span><span>|</span><a href="#39767308">parent</a><span>|</span><a href="#39768097">next</a><span>|</span><label class="collapse" for="c-39767701">[-]</label><label class="expand" for="c-39767701">[3 more]</label></div><br/><div class="children"><div class="content">localhost gives you a different security context in your browser than using a full domain name. Typically to use a full domain name locally you&#x27;d either need to mess with &#x2F;etc&#x2F;hosts (which can bite you later) or mess with DNS. lcl.host just makes things work out of the box.</div><br/><div id="39767853" class="c"><input type="checkbox" id="c-39767853" checked=""/><div class="controls bullet"><span class="by">its_stolt</span><span>|</span><a href="#39767308">root</a><span>|</span><a href="#39767701">parent</a><span>|</span><a href="#39768097">next</a><span>|</span><label class="collapse" for="c-39767853">[-]</label><label class="expand" for="c-39767853">[2 more]</label></div><br/><div class="children"><div class="content">Let me add a bit of clarification here, since you specifically asked about <a href="https:&#x2F;&#x2F;localhost" rel="nofollow">https:&#x2F;&#x2F;localhost</a><p>Using http with localhost is a mostly security context, but it has some quirks[0]. Using <a href="https:&#x2F;&#x2F;localhost" rel="nofollow">https:&#x2F;&#x2F;localhost</a> will give you the full security context but then you&#x27;re typically stuck either dealing with certs manually or using a proxy, like caddy. lcl.host should simplify your setup.<p>We&#x27;re big fans of caddy by the way and even sponsor the project. Matt&#x27;s doing amazing work over there.<p>[0] <a href="https:&#x2F;&#x2F;web.dev&#x2F;articles&#x2F;when-to-use-local-https" rel="nofollow">https:&#x2F;&#x2F;web.dev&#x2F;articles&#x2F;when-to-use-local-https</a></div><br/><div id="39768156" class="c"><input type="checkbox" id="c-39768156" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#39767308">root</a><span>|</span><a href="#39767853">parent</a><span>|</span><a href="#39768097">next</a><span>|</span><label class="collapse" for="c-39768156">[-]</label><label class="expand" for="c-39768156">[1 more]</label></div><br/><div class="children"><div class="content">Thanks! That reminds me we need to get your logo on our new homepage. I&#x27;ll shoot you an email.</div><br/></div></div></div></div></div></div></div></div><div id="39768097" class="c"><input type="checkbox" id="c-39768097" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#39767308">prev</a><span>|</span><a href="#39767794">next</a><span>|</span><label class="collapse" for="c-39768097">[-]</label><label class="expand" for="c-39768097">[1 more]</label></div><br/><div class="children"><div class="content">I want to point out that Anchor.dev sponsors the Caddy project and we&#x27;re very grateful for that! Anchor devs have also made code contributions to Caddy and CertMagic.<p>Anchor has a neat product. They&#x27;re making internal TLS more accessible to more developers who don&#x27;t necessarily need a separate web server. They&#x27;re doing local TLS just about as best as possible from what I can see.<p>IMO this has more utility than mkcert -- which is a great tool by Filippo and Caddy shares some of its underlying library for its own auto-trusted internal CA -- because, like Caddy, Anchor fully automates the certificates instead of just generating them and needing a cron job. It&#x27;s more hands-off and higher-level, allowing you to get more done with less effort.</div><br/></div></div><div id="39767794" class="c"><input type="checkbox" id="c-39767794" checked=""/><div class="controls bullet"><span class="by">blopker</span><span>|</span><a href="#39768097">prev</a><span>|</span><a href="#39770103">next</a><span>|</span><label class="collapse" for="c-39767794">[-]</label><label class="expand" for="c-39767794">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see OrbStack mentioned here much, but it&#x27;s completely replaced Docker Desktop for me. Aside from having a better UI, faster and uses less battery, it also gives local https with custom domains for free [0].<p>[0] <a href="https:&#x2F;&#x2F;docs.orbstack.dev&#x2F;features&#x2F;https" rel="nofollow">https:&#x2F;&#x2F;docs.orbstack.dev&#x2F;features&#x2F;https</a></div><br/><div id="39773539" class="c"><input type="checkbox" id="c-39773539" checked=""/><div class="controls bullet"><span class="by">drewbitt</span><span>|</span><a href="#39767794">parent</a><span>|</span><a href="#39769987">next</a><span>|</span><label class="collapse" for="c-39773539">[-]</label><label class="expand" for="c-39773539">[1 more]</label></div><br/><div class="children"><div class="content">OrbStack was mentioned often with all the Docker Desktop &#x2F; Docker open-source organization drama in the last year or two. But that was when it was free for all, now it&#x27;s paid for commercial licenses which is less attractive for organizations to switch over. We&#x27;re all on Colima. But the local https feature is a nice little feature for sure.</div><br/></div></div><div id="39769987" class="c"><input type="checkbox" id="c-39769987" checked=""/><div class="controls bullet"><span class="by">ensignavenger</span><span>|</span><a href="#39767794">parent</a><span>|</span><a href="#39773539">prev</a><span>|</span><a href="#39769685">next</a><span>|</span><label class="collapse" for="c-39769987">[-]</label><label class="expand" for="c-39769987">[1 more]</label></div><br/><div class="children"><div class="content">It looks nice, but it is MacOS only, and it is really expensive at $96 per year! Probably why it doesn&#x27;t get mentioned often.</div><br/></div></div><div id="39769685" class="c"><input type="checkbox" id="c-39769685" checked=""/><div class="controls bullet"><span class="by">avtar</span><span>|</span><a href="#39767794">parent</a><span>|</span><a href="#39769987">prev</a><span>|</span><a href="#39770103">next</a><span>|</span><label class="collapse" for="c-39769685">[-]</label><label class="expand" for="c-39769685">[1 more]</label></div><br/><div class="children"><div class="content">If you don&#x27;t need a GUI, the following combo works pretty well:<p>- <a href="https:&#x2F;&#x2F;github.com&#x2F;abiosoft&#x2F;colima">https:&#x2F;&#x2F;github.com&#x2F;abiosoft&#x2F;colima</a><p>- <a href="https:&#x2F;&#x2F;github.com&#x2F;peterldowns&#x2F;localias">https:&#x2F;&#x2F;github.com&#x2F;peterldowns&#x2F;localias</a></div><br/></div></div></div></div><div id="39770103" class="c"><input type="checkbox" id="c-39770103" checked=""/><div class="controls bullet"><span class="by">zachrip</span><span>|</span><a href="#39767794">prev</a><span>|</span><a href="#39768297">next</a><span>|</span><label class="collapse" for="c-39770103">[-]</label><label class="expand" for="c-39770103">[1 more]</label></div><br/><div class="children"><div class="content">Off topic but I find this font for the body very hard to read.</div><br/></div></div><div id="39768297" class="c"><input type="checkbox" id="c-39768297" checked=""/><div class="controls bullet"><span class="by">Wingy</span><span>|</span><a href="#39770103">prev</a><span>|</span><a href="#39771071">next</a><span>|</span><label class="collapse" for="c-39768297">[-]</label><label class="expand" for="c-39768297">[4 more]</label></div><br/><div class="children"><div class="content">Why modify the trust stores with the personal CA? Is there any risk to just publishing a globally valid wildcard cert for *.lcl.host, since it always resolves to 127.0.0.1 anyway?</div><br/><div id="39768504" class="c"><input type="checkbox" id="c-39768504" checked=""/><div class="controls bullet"><span class="by">benburkert</span><span>|</span><a href="#39768297">parent</a><span>|</span><a href="#39768838">next</a><span>|</span><label class="collapse" for="c-39768504">[-]</label><label class="expand" for="c-39768504">[1 more]</label></div><br/><div class="children"><div class="content">We install the CA certificates into the trust stores so that the certificates are trusted by your browsers and clients, otherwise they will (rightfully!) get connection errors. We also set the CAA records for all lcl.host subdomains to anchor.dev, so no public CA will issue certificates for *.lcl.host. The only valid certs for lcl.host subdomains you will encounter are for your account&#x27;s CAs. If we gave everyone a cert+key for *.lcl.host, besides the security concerns, we&#x27;d have to keep redistributing them every ~45 days, but with lcl.host you can setup ACME to automatically renew certs before they expire.</div><br/></div></div><div id="39768838" class="c"><input type="checkbox" id="c-39768838" checked=""/><div class="controls bullet"><span class="by">8organicbits</span><span>|</span><a href="#39768297">parent</a><span>|</span><a href="#39768504">prev</a><span>|</span><a href="#39771071">next</a><span>|</span><label class="collapse" for="c-39768838">[-]</label><label class="expand" for="c-39768838">[2 more]</label></div><br/><div class="children"><div class="content">Some sites have tried this before, but I dont think they stay online long. The certificates are &quot;leaked&quot; when they are shared, so the CA will revoke them.<p>I think a better approach is to get a domain name and a Let&#x27;s Encrypt certificate. There&#x27;s lots of tooling for this, and it matches production. I built <a href="https:&#x2F;&#x2F;www.getlocalcert.net&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.getlocalcert.net&#x2F;</a> to act as free, Let&#x27;s Encrypt compatible subdomain service specifically for these sorts of challenges.</div><br/><div id="39769232" class="c"><input type="checkbox" id="c-39769232" checked=""/><div class="controls bullet"><span class="by">extraduder_ire</span><span>|</span><a href="#39768297">root</a><span>|</span><a href="#39768838">parent</a><span>|</span><a href="#39771071">next</a><span>|</span><label class="collapse" for="c-39769232">[-]</label><label class="expand" for="c-39769232">[1 more]</label></div><br/><div class="children"><div class="content">Cool. I was hoping something like this existed, and glad to see you got it into the public suffix list. I&#x27;d been considering doing something like it for some time.</div><br/></div></div></div></div></div></div><div id="39771071" class="c"><input type="checkbox" id="c-39771071" checked=""/><div class="controls bullet"><span class="by">jpambrun</span><span>|</span><a href="#39768297">prev</a><span>|</span><a href="#39768395">next</a><span>|</span><label class="collapse" for="c-39771071">[-]</label><label class="expand" for="c-39771071">[1 more]</label></div><br/><div class="children"><div class="content">I have another personal solution [0]. It&#x27;s a DNS server that also gets a wildcard certificate and make it available with a secret. This is definitely in the convenience over security relm, but it resolve any pattern prefix-123-123-123-123-suffix.example.com to the enclosed ip (e.g. 123.123.123.123). It will resolve to 127.0.0.1 or any other ip happily. Now you just need to use the associated cert and enjoy https. Works great from with k8s ingress, caddy, node.. You don&#x27;t have to fiddle with your trusted store and it works for everybody. I took inspiration from <a href="https:&#x2F;&#x2F;nip.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;nip.io&#x2F;</a> for the dns part.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;jpambrun&#x2F;dnsssl">https:&#x2F;&#x2F;github.com&#x2F;jpambrun&#x2F;dnsssl</a></div><br/></div></div><div id="39768395" class="c"><input type="checkbox" id="c-39768395" checked=""/><div class="controls bullet"><span class="by">binwiederhier</span><span>|</span><a href="#39771071">prev</a><span>|</span><a href="#39774769">next</a><span>|</span><label class="collapse" for="c-39768395">[-]</label><label class="expand" for="c-39768395">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used this service in the past, <a href="http:&#x2F;&#x2F;local-ip.co&#x2F;" rel="nofollow">http:&#x2F;&#x2F;local-ip.co&#x2F;</a> which provides downloadable private key and certs and they run a dns service that resolves to any IP address.</div><br/></div></div><div id="39774769" class="c"><input type="checkbox" id="c-39774769" checked=""/><div class="controls bullet"><span class="by">jspaetzel</span><span>|</span><a href="#39768395">prev</a><span>|</span><a href="#39772189">next</a><span>|</span><label class="collapse" for="c-39774769">[-]</label><label class="expand" for="c-39774769">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using mkcert for ages now for local development. Free, open source, and works offline.<p>Why use any service for this?</div><br/></div></div><div id="39772189" class="c"><input type="checkbox" id="c-39772189" checked=""/><div class="controls bullet"><span class="by">jokull</span><span>|</span><a href="#39774769">prev</a><span>|</span><a href="#39768305">next</a><span>|</span><label class="collapse" for="c-39772189">[-]</label><label class="expand" for="c-39772189">[1 more]</label></div><br/><div class="children"><div class="content">I just use cloudflare tunnels (cloudflared) - don&#x27;t have to install any certificates, it&#x27;s all handled by cloudflare. Yes, it exposes globally, but that&#x27;s often convenient to share a link to my dev with colleagues. And it has been fast enough. Downside is that you need internet connectivity.</div><br/></div></div><div id="39768305" class="c"><input type="checkbox" id="c-39768305" checked=""/><div class="controls bullet"><span class="by">felixhummel</span><span>|</span><a href="#39772189">prev</a><span>|</span><a href="#39770966">next</a><span>|</span><label class="collapse" for="c-39768305">[-]</label><label class="expand" for="c-39768305">[1 more]</label></div><br/><div class="children"><div class="content">We built something similar for docker-compose based projects: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;hukudo&#x2F;ingress" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;hukudo&#x2F;ingress</a></div><br/></div></div><div id="39770966" class="c"><input type="checkbox" id="c-39770966" checked=""/><div class="controls bullet"><span class="by">d_meeze</span><span>|</span><a href="#39768305">prev</a><span>|</span><a href="#39773329">next</a><span>|</span><label class="collapse" for="c-39770966">[-]</label><label class="expand" for="c-39770966">[4 more]</label></div><br/><div class="children"><div class="content">I’m skimming the docs looking for how “in containers” is handled and so far I can only see a one liner in the release notes. One problem in local environments I keep having and building tricks for is for services inside containers getting certs for other containers. From within the container, resolving to 127.0.0.1 isn’t helpful as that’s the internal loopback not the host.</div><br/><div id="39771349" class="c"><input type="checkbox" id="c-39771349" checked=""/><div class="controls bullet"><span class="by">benburkert</span><span>|</span><a href="#39770966">parent</a><span>|</span><a href="#39773329">next</a><span>|</span><label class="collapse" for="c-39771349">[-]</label><label class="expand" for="c-39771349">[3 more]</label></div><br/><div class="children"><div class="content">we&#x27;re going to say more about how lcl.host works between containers in the future since it ends up pulling in Anchor&#x27;s package features, but I can give a quick rundown of what we&#x27;ve done in the past with docker-compose: start a service in container A and expose port 44300, and configure the service with an ACME client to provision a `service-a.lcl.host` certificate. The clients in that container won&#x27;t trust the cert, but that no problem, since your system&#x2F;browser will trust the cert if you&#x27;ve run `anchor lcl`. In container B, install an anchor built package for the language of the server, and setup the HTTPS&#x2F;TLS client to use the set of CAs in that package. Now app B can connect to `service-a.lcl.host:443300` over HTTPS&#x2F;TLS.</div><br/><div id="39771554" class="c"><input type="checkbox" id="c-39771554" checked=""/><div class="controls bullet"><span class="by">d_meeze</span><span>|</span><a href="#39770966">root</a><span>|</span><a href="#39771349">parent</a><span>|</span><a href="#39773329">next</a><span>|</span><label class="collapse" for="c-39771554">[-]</label><label class="expand" for="c-39771554">[2 more]</label></div><br/><div class="children"><div class="content">“Clients in that container won’t trust the cert”. Yeah, there’s the trick.<p>“service-a.lcl.host:443300“ so when inside the container, won’t that resolve to 127.0.0.1 which is the container internal loopback interface not the docker host’s interface? Hence trying to connect to itself not its sibling.</div><br/><div id="39771951" class="c"><input type="checkbox" id="c-39771951" checked=""/><div class="controls bullet"><span class="by">benburkert</span><span>|</span><a href="#39770966">root</a><span>|</span><a href="#39771554">parent</a><span>|</span><a href="#39773329">next</a><span>|</span><label class="collapse" for="c-39771951">[-]</label><label class="expand" for="c-39771951">[1 more]</label></div><br/><div class="children"><div class="content">right it&#x27;s the loopback, but I believe docker-compose can forward loopback ports to the host (and then back into the other container) using links, but i&#x27;m fuzzy on the details and may be misremembering.</div><br/></div></div></div></div></div></div></div></div><div id="39773329" class="c"><input type="checkbox" id="c-39773329" checked=""/><div class="controls bullet"><span class="by">cpendery</span><span>|</span><a href="#39770966">prev</a><span>|</span><a href="#39770778">next</a><span>|</span><label class="collapse" for="c-39773329">[-]</label><label class="expand" for="c-39773329">[1 more]</label></div><br/><div class="children"><div class="content">I was working on something similar with <a href="https:&#x2F;&#x2F;github.com&#x2F;cpendery&#x2F;wock">https:&#x2F;&#x2F;github.com&#x2F;cpendery&#x2F;wock</a>. Never finished it up, but this looks promising</div><br/></div></div><div id="39770778" class="c"><input type="checkbox" id="c-39770778" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#39773329">prev</a><span>|</span><a href="#39768175">next</a><span>|</span><label class="collapse" for="c-39770778">[-]</label><label class="expand" for="c-39770778">[1 more]</label></div><br/><div class="children"><div class="content">Just use orbstack, it gives you https and hostnames.<p>Shameless plug: <a href="https:&#x2F;&#x2F;github.com&#x2F;jrz&#x2F;container-shell">https:&#x2F;&#x2F;github.com&#x2F;jrz&#x2F;container-shell</a> in combination with orbstack. Isolated dev environment, easy to use, local tools, https on <a href="https:&#x2F;&#x2F;xxxxx.orb" rel="nofollow">https:&#x2F;&#x2F;xxxxx.orb</a></div><br/></div></div><div id="39768175" class="c"><input type="checkbox" id="c-39768175" checked=""/><div class="controls bullet"><span class="by">robertclaus</span><span>|</span><a href="#39770778">prev</a><span>|</span><a href="#39768226">next</a><span>|</span><label class="collapse" for="c-39768175">[-]</label><label class="expand" for="c-39768175">[1 more]</label></div><br/><div class="children"><div class="content">In my experience a lot of developers ignore the concept of dev&#x2F;prod parity like this because a different team (ex. Deployment) ends up dealing with the integration issues it causes. That being said, its also traditionally a balance between effort and output - so I can see a &quot;make it easier&quot; tool like this helping lower the barrier to actually get devs to use it.</div><br/></div></div><div id="39768226" class="c"><input type="checkbox" id="c-39768226" checked=""/><div class="controls bullet"><span class="by">k__</span><span>|</span><a href="#39768175">prev</a><span>|</span><a href="#39771145">next</a><span>|</span><label class="collapse" for="c-39768226">[-]</label><label class="expand" for="c-39768226">[1 more]</label></div><br/><div class="children"><div class="content">Congratulations on shipping!<p>Just yesterday, I needed it for a hackathon, but had to switch to a cloud IDE instead.</div><br/></div></div><div id="39771145" class="c"><input type="checkbox" id="c-39771145" checked=""/><div class="controls bullet"><span class="by">himhckr</span><span>|</span><a href="#39768226">prev</a><span>|</span><a href="#39772847">next</a><span>|</span><label class="collapse" for="c-39771145">[-]</label><label class="expand" for="c-39771145">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m on Windows 11 and not sure if it is just me but your font is too hard to read. I thought it was just the blog but no, it&#x27;s everywhere even on the landing page.</div><br/></div></div><div id="39772847" class="c"><input type="checkbox" id="c-39772847" checked=""/><div class="controls bullet"><span class="by">mderazon</span><span>|</span><a href="#39771145">prev</a><span>|</span><a href="#39771706">next</a><span>|</span><label class="collapse" for="c-39772847">[-]</label><label class="expand" for="c-39772847">[1 more]</label></div><br/><div class="children"><div class="content">Any reason why these tools usually don&#x27;t support windows ? Is it harder on Windows ?</div><br/></div></div><div id="39771706" class="c"><input type="checkbox" id="c-39771706" checked=""/><div class="controls bullet"><span class="by">jensenbox</span><span>|</span><a href="#39772847">prev</a><span>|</span><a href="#39768735">next</a><span>|</span><label class="collapse" for="c-39771706">[-]</label><label class="expand" for="c-39771706">[1 more]</label></div><br/><div class="children"><div class="content">How do I get this working if we are 100% docker?</div><br/></div></div><div id="39768735" class="c"><input type="checkbox" id="c-39768735" checked=""/><div class="controls bullet"><span class="by">nickphx</span><span>|</span><a href="#39771706">prev</a><span>|</span><a href="#39768384">next</a><span>|</span><label class="collapse" for="c-39768735">[-]</label><label class="expand" for="c-39768735">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Try for free&quot;, no mention of pricing anywhere.. I&#x27;ll stick to what I&#x27;m already doing that&#x27;s free.. :D</div><br/></div></div><div id="39768384" class="c"><input type="checkbox" id="c-39768384" checked=""/><div class="controls bullet"><span class="by">hartator</span><span>|</span><a href="#39768735">prev</a><span>|</span><a href="#39774710">next</a><span>|</span><label class="collapse" for="c-39768384">[-]</label><label class="expand" for="c-39768384">[3 more]</label></div><br/><div class="children"><div class="content">Were some bugs that show only in the https version of the app?</div><br/><div id="39768725" class="c"><input type="checkbox" id="c-39768725" checked=""/><div class="controls bullet"><span class="by">its_stolt</span><span>|</span><a href="#39768384">parent</a><span>|</span><a href="#39774727">next</a><span>|</span><label class="collapse" for="c-39768725">[-]</label><label class="expand" for="c-39768725">[1 more]</label></div><br/><div class="children"><div class="content">These tend to manifest themselves when you have mixed content on the page or you&#x27;re using CORS. For CORS the issues can surface due to running different rules for dev vs prod&#x2F;stg.</div><br/></div></div><div id="39774727" class="c"><input type="checkbox" id="c-39774727" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#39768384">parent</a><span>|</span><a href="#39768725">prev</a><span>|</span><a href="#39774710">next</a><span>|</span><label class="collapse" for="c-39774727">[-]</label><label class="expand" for="c-39774727">[1 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;2 quirks, e.g. header capitalization.<p>I think I&#x27;ve seen some different cache behaviors.<p>Secure cookies (and maybe same&#x2F;cross site stuff?)</div><br/></div></div></div></div><div id="39774710" class="c"><input type="checkbox" id="c-39774710" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#39768384">prev</a><span>|</span><a href="#39768934">next</a><span>|</span><label class="collapse" for="c-39774710">[-]</label><label class="expand" for="c-39774710">[1 more]</label></div><br/><div class="children"><div class="content">The inline code formatting is making my eyes bleed....</div><br/></div></div><div id="39768934" class="c"><input type="checkbox" id="c-39768934" checked=""/><div class="controls bullet"><span class="by">WesolyKubeczek</span><span>|</span><a href="#39774710">prev</a><span>|</span><a href="#39770422">next</a><span>|</span><label class="collapse" for="c-39768934">[-]</label><label class="expand" for="c-39768934">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve just got me a domain and am using letsencrypt. The hostnames resolve to LAN addresses. Still unsure what I&#x27;m doing wrong.</div><br/></div></div><div id="39770422" class="c"><input type="checkbox" id="c-39770422" checked=""/><div class="controls bullet"><span class="by">redder23</span><span>|</span><a href="#39768934">prev</a><span>|</span><label class="collapse" for="c-39770422">[-]</label><label class="expand" for="c-39770422">[1 more]</label></div><br/><div class="children"><div class="content">Can you not use Letsencrypt locally? I think I actually saw something about that recently here on HN.<p>What is the difference between this and LE if true?<p>I would like to use a .test domain. I use that currently and just click &quot;proceed anyway&quot; whenever the warning pops up and It&#x27;s pretty often lately.</div><br/></div></div></div></div></div></div></div></body></html>