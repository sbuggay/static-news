<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704963657360" as="style"/><link rel="stylesheet" href="styles.css?v=1704963657360"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://henrikwarne.com/2024/01/10/tidy-first/">Tidy First?</a> <span class="domain">(<a href="https://henrikwarne.com">henrikwarne.com</a>)</span></div><div class="subtext"><span>ingve</span> | <span>23 comments</span></div><br/><div><div id="38948983" class="c"><input type="checkbox" id="c-38948983" checked=""/><div class="controls bullet"><span class="by">aulin</span><span>|</span><a href="#38949561">next</a><span>|</span><label class="collapse" for="c-38948983">[-]</label><label class="expand" for="c-38948983">[5 more]</label></div><br/><div class="children"><div class="content">Guard clauses, something so simple yet so underrated, you never know how much you love them until you meet people from the single return per function church.<p>It still amazes me how they can believe that putting all the guards in tens of nested ifs can be saner than a few extra returns at the top.<p>And don&#x27;t get me started on those that goto is bad but it&#x27;s ok to put everything inside a do while (0) they can break out of and clean up at the end.<p>Sorry for the off-topic rambling, tidying is like &quot;clean&quot; code, everyone has their own definition and sometimes changing code for the sake of making it tidy is more dangerous than just changing the behaviour, especially if it was already tidy by some other people standard.</div><br/><div id="38949159" class="c"><input type="checkbox" id="c-38949159" checked=""/><div class="controls bullet"><span class="by">WesolyKubeczek</span><span>|</span><a href="#38948983">parent</a><span>|</span><a href="#38949561">next</a><span>|</span><label class="collapse" for="c-38949159">[-]</label><label class="expand" for="c-38949159">[4 more]</label></div><br/><div class="children"><div class="content">Does this church still exist?</div><br/><div id="38949400" class="c"><input type="checkbox" id="c-38949400" checked=""/><div class="controls bullet"><span class="by">tirpen</span><span>|</span><a href="#38948983">root</a><span>|</span><a href="#38949159">parent</a><span>|</span><a href="#38949249">next</a><span>|</span><label class="collapse" for="c-38949400">[-]</label><label class="expand" for="c-38949400">[1 more]</label></div><br/><div class="children"><div class="content">I <i>think</i> it&#x27;s still required by by the MISRA-C standard, so if you write code for cars and some similar industries, you may get forcefully dragged into that church.</div><br/></div></div><div id="38949249" class="c"><input type="checkbox" id="c-38949249" checked=""/><div class="controls bullet"><span class="by">blowski</span><span>|</span><a href="#38948983">root</a><span>|</span><a href="#38949159">parent</a><span>|</span><a href="#38949400">prev</a><span>|</span><a href="#38949329">next</a><span>|</span><label class="collapse" for="c-38949249">[-]</label><label class="expand" for="c-38949249">[1 more]</label></div><br/><div class="children"><div class="content">I’ve definitely run into its members recently. They tend to have other strange beliefs, like “methods can’t have more than four lines” and “you can instantiate an object only in a factory service”.</div><br/></div></div><div id="38949329" class="c"><input type="checkbox" id="c-38949329" checked=""/><div class="controls bullet"><span class="by">aulin</span><span>|</span><a href="#38948983">root</a><span>|</span><a href="#38949159">parent</a><span>|</span><a href="#38949249">prev</a><span>|</span><a href="#38949561">next</a><span>|</span><label class="collapse" for="c-38949329">[-]</label><label class="expand" for="c-38949329">[1 more]</label></div><br/><div class="children"><div class="content">Definitely. Let&#x27;s wait if some adept shows up. I met plenty IRL.<p>One specific case I have in mind I think it came from the company mostly hiring fresh graduates and seniors indoctrinating them with their blind and badly aged structured programming rules.</div><br/></div></div></div></div></div></div><div id="38949561" class="c"><input type="checkbox" id="c-38949561" checked=""/><div class="controls bullet"><span class="by">ilitirit</span><span>|</span><a href="#38948983">prev</a><span>|</span><a href="#38947840">next</a><span>|</span><label class="collapse" for="c-38949561">[-]</label><label class="expand" for="c-38949561">[1 more]</label></div><br/><div class="children"><div class="content">Often when I read articles&#x2F;books with this sort of advice I get halfway and think to myself &quot;Hmmm... I really should write my own book about programming stuff&quot;.<p>I&#x27;m sure many other senior programmers have similar thoughts.</div><br/></div></div><div id="38947840" class="c"><input type="checkbox" id="c-38947840" checked=""/><div class="controls bullet"><span class="by">klooney</span><span>|</span><a href="#38949561">prev</a><span>|</span><a href="#38944611">next</a><span>|</span><label class="collapse" for="c-38947840">[-]</label><label class="expand" for="c-38947840">[2 more]</label></div><br/><div class="children"><div class="content">&gt; In many work places, there are high fixed costs (in time and effort) associated with PR reviews. The ideal solution for this, according to the author, is to not require PR reviews for only tidyings.<p>Well that sounds like a loaded footgun.</div><br/><div id="38948241" class="c"><input type="checkbox" id="c-38948241" checked=""/><div class="controls bullet"><span class="by">jacoblambda</span><span>|</span><a href="#38947840">parent</a><span>|</span><a href="#38944611">next</a><span>|</span><label class="collapse" for="c-38948241">[-]</label><label class="expand" for="c-38948241">[1 more]</label></div><br/><div class="children"><div class="content">I think requiring reduced rigor for housekeeping changes is reasonable but there should 100% be somebody in the loop doing manual reviews for all changes.</div><br/></div></div></div></div><div id="38944611" class="c"><input type="checkbox" id="c-38944611" checked=""/><div class="controls bullet"><span class="by">gregdoesit</span><span>|</span><a href="#38947840">prev</a><span>|</span><a href="#38949190">next</a><span>|</span><label class="collapse" for="c-38944611">[-]</label><label class="expand" for="c-38944611">[1 more]</label></div><br/><div class="children"><div class="content">For anyone interested in reading full chapters of the book (all are relatively short!), here are three full ones [1], shared with the permission of the author (Kent Beck) and publisher (O’Reilly).<p>[1] <a href="https:&#x2F;&#x2F;newsletter.pragmaticengineer.com&#x2F;p&#x2F;dead-code-getting-untangled-and-coupling" rel="nofollow">https:&#x2F;&#x2F;newsletter.pragmaticengineer.com&#x2F;p&#x2F;dead-code-getting...</a></div><br/></div></div><div id="38949190" class="c"><input type="checkbox" id="c-38949190" checked=""/><div class="controls bullet"><span class="by">CraigJPerry</span><span>|</span><a href="#38944611">prev</a><span>|</span><a href="#38948860">next</a><span>|</span><label class="collapse" for="c-38949190">[-]</label><label class="expand" for="c-38949190">[1 more]</label></div><br/><div class="children"><div class="content">“One pile” vs “extract helper” - I like this distinction. This is the main mental model I’ve arrived at for reading Peter Norvig’s style of coding - a style which i can’t help but be really drawn to.<p>I’d understand one pile not as just throw everything in one function but thoughtfully arrange code with surgical precision into purposeful blocks with no noise or distractions. I.e. it’s as much about getting rid of crap as it is about concentrating the line of execution.</div><br/></div></div><div id="38948860" class="c"><input type="checkbox" id="c-38948860" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#38949190">prev</a><span>|</span><a href="#38943447">next</a><span>|</span><label class="collapse" for="c-38948860">[-]</label><label class="expand" for="c-38948860">[1 more]</label></div><br/><div class="children"><div class="content">Seems like mostly good advice that we all learn (well most of us) but is rarely written down.<p>I have to caveat this though:<p>&gt; Therefore, reducing coupling will reduce the cost of change.<p>This seems like unwise advice. People are going to read it as &quot;coupling = bad&quot; and then try to eliminate coupling even between components that are still coupled, through things like dynamic typing, queues and so on. This only reduces the <i>appearance</i> of coupling.<p>For example say you have an API endpoint that is supposed to perform some action in another service. A lot of people would &quot;decouple&quot; them by having the endpoint place a request in some shared Kafka&#x2F;MQTT queue or a file or whatever, and then the other service can poll that. Tada! Decoupled! Much better than a direct RPC call right?<p>Except they still depend on each other - you&#x27;ve just made the coupling less robust, so it can easily break when you make a mistake refactoring.</div><br/></div></div><div id="38943447" class="c"><input type="checkbox" id="c-38943447" checked=""/><div class="controls bullet"><span class="by">Toutouxc</span><span>|</span><a href="#38948860">prev</a><span>|</span><label class="collapse" for="c-38943447">[-]</label><label class="expand" for="c-38943447">[11 more]</label></div><br/><div class="children"><div class="content">Would anyone else recommend the book?</div><br/><div id="38946011" class="c"><input type="checkbox" id="c-38946011" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#38943447">parent</a><span>|</span><a href="#38945652">next</a><span>|</span><label class="collapse" for="c-38946011">[-]</label><label class="expand" for="c-38946011">[1 more]</label></div><br/><div class="children"><div class="content">Everything mentioned in the article is obvious to me ... however it has been hard won lessons over years and years and years.<p>Someone more freshly baked could probably get a <i>real</i> nice head start with the advice in the book.</div><br/></div></div><div id="38945652" class="c"><input type="checkbox" id="c-38945652" checked=""/><div class="controls bullet"><span class="by">eweise</span><span>|</span><a href="#38943447">parent</a><span>|</span><a href="#38946011">prev</a><span>|</span><a href="#38946009">next</a><span>|</span><label class="collapse" for="c-38945652">[-]</label><label class="expand" for="c-38945652">[4 more]</label></div><br/><div class="children"><div class="content">Bought it with work money but would be unhappy spending $38 of my own since its pretty short and a lot is common sense. Some good nuggets of info in there though.</div><br/><div id="38948148" class="c"><input type="checkbox" id="c-38948148" checked=""/><div class="controls bullet"><span class="by">joshka</span><span>|</span><a href="#38943447">root</a><span>|</span><a href="#38945652">parent</a><span>|</span><a href="#38946125">next</a><span>|</span><label class="collapse" for="c-38948148">[-]</label><label class="expand" for="c-38948148">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps a good metric for how much this should be worth would be to ask whether buying this book for a junior developer with your own money would save you that amount in the long term. Based on the article only, and the amount of times I&#x27;ve personally had to have similar discussions, I&#x27;d say it&#x27;s worth that amount at least (and likely more).</div><br/></div></div><div id="38946125" class="c"><input type="checkbox" id="c-38946125" checked=""/><div class="controls bullet"><span class="by">GuB-42</span><span>|</span><a href="#38943447">root</a><span>|</span><a href="#38945652">parent</a><span>|</span><a href="#38948148">prev</a><span>|</span><a href="#38946824">next</a><span>|</span><label class="collapse" for="c-38946125">[-]</label><label class="expand" for="c-38946125">[1 more]</label></div><br/><div class="children"><div class="content">&gt; a lot is common sense<p>Probably the best compliment one can make of such a book.<p>Common sense tends to be lacking when it comes to coding practices, and books about it don&#x27;t really help. Instead, they tend to go with practices that are completely detached from reality. Also, things that require unreasonable effort, so that if you don&#x27;t do it because you are too neurotypical for that, then &quot;you are doing it wrong&quot; and if it doesn&#x27;t work then it is not the author&#x27;s fault.<p>And even if it common sense in that that&#x27;s what every experienced programmer is already doing, then, still great. First because not every programmer is an experienced programmer, obviously. And even if you are, seeing it writing helps with consolidation.<p>So really, you are getting me very interested right now.</div><br/></div></div><div id="38946824" class="c"><input type="checkbox" id="c-38946824" checked=""/><div class="controls bullet"><span class="by">ghostpepper</span><span>|</span><a href="#38943447">root</a><span>|</span><a href="#38945652">parent</a><span>|</span><a href="#38946125">prev</a><span>|</span><a href="#38946009">next</a><span>|</span><label class="collapse" for="c-38946824">[-]</label><label class="expand" for="c-38946824">[1 more]</label></div><br/><div class="children"><div class="content">I thought a lot of it was common sense too but I&#x27;ve been coding for 15+ years. I wonder how much of it is common sense to someone with less experience.</div><br/></div></div></div></div><div id="38946009" class="c"><input type="checkbox" id="c-38946009" checked=""/><div class="controls bullet"><span class="by">Brajeshwar</span><span>|</span><a href="#38943447">parent</a><span>|</span><a href="#38945652">prev</a><span>|</span><a href="#38943691">next</a><span>|</span><label class="collapse" for="c-38946009">[-]</label><label class="expand" for="c-38946009">[1 more]</label></div><br/><div class="children"><div class="content">On the pricing that the other comments mentioned, if you happen to have friends coming from India -- it is less than $10 here. ;-)</div><br/></div></div><div id="38943691" class="c"><input type="checkbox" id="c-38943691" checked=""/><div class="controls bullet"><span class="by">azemetre</span><span>|</span><a href="#38943447">parent</a><span>|</span><a href="#38946009">prev</a><span>|</span><a href="#38943874">next</a><span>|</span><label class="collapse" for="c-38943691">[-]</label><label class="expand" for="c-38943691">[3 more]</label></div><br/><div class="children"><div class="content">I would under the condition you have never read or heard about refactoring.
 If you’re expecting thorough techniques, you won’t find them. They’re literally single page chapters where the advice might be “move functions near their argument declarations.”
It’s very basic, but the content is quite ever green. It’s something that should be included in every employee handbook and often feels like trying to change SWE culture to one of “fix then ship.”
I’m really curious what Beck’s other books in this series will be.<p>I’m about halfway thru, can’t comment on the last third which is different and offers a newish mental model.<p>tldr: Good but expensive for the content amount. Should be $15 IMO.</div><br/><div id="38943849" class="c"><input type="checkbox" id="c-38943849" checked=""/><div class="controls bullet"><span class="by">loevborg</span><span>|</span><a href="#38943447">root</a><span>|</span><a href="#38943691">parent</a><span>|</span><a href="#38943874">next</a><span>|</span><label class="collapse" for="c-38943849">[-]</label><label class="expand" for="c-38943849">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s funny. The last third is where it gets interesting. And then it stops – to be continued in the next volume. Except that Volume I is only 100 pages, and many of them blank.</div><br/><div id="38944207" class="c"><input type="checkbox" id="c-38944207" checked=""/><div class="controls bullet"><span class="by">azemetre</span><span>|</span><a href="#38943447">root</a><span>|</span><a href="#38943849">parent</a><span>|</span><a href="#38943874">next</a><span>|</span><label class="collapse" for="c-38944207">[-]</label><label class="expand" for="c-38944207">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s really exciting to hear. I hope I didn&#x27;t come across as negative in my view. I am enjoying the book immensely but so far doesn&#x27;t seem too different than other refactoring books.</div><br/></div></div></div></div></div></div><div id="38943874" class="c"><input type="checkbox" id="c-38943874" checked=""/><div class="controls bullet"><span class="by">thanatos519</span><span>|</span><a href="#38943447">parent</a><span>|</span><a href="#38943691">prev</a><span>|</span><label class="collapse" for="c-38943874">[-]</label><label class="expand" for="c-38943874">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t read it but it sounds like it gives names to and elucidates a lot of the stuff I am doing these days so I will read it soon.</div><br/></div></div></div></div></div></div></div></div></div></body></html>