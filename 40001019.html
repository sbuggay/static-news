<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712998867886" as="style"/><link rel="stylesheet" href="styles.css?v=1712998867886"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://utcc.utoronto.ca/~cks/space/blog/linux/UbuntuGrubUpdateConfusion">It&#x27;s far from clear how grub package updates work on Ubuntu</a> <span class="domain">(<a href="https://utcc.utoronto.ca">utcc.utoronto.ca</a>)</span></div><div class="subtext"><span>emegeve83</span> | <span>12 comments</span></div><br/><div><div id="40021337" class="c"><input type="checkbox" id="c-40021337" checked=""/><div class="controls bullet"><span class="by">raggi</span><span>|</span><a href="#40021616">next</a><span>|</span><label class="collapse" for="c-40021337">[-]</label><label class="expand" for="c-40021337">[3 more]</label></div><br/><div class="children"><div class="content">Grubs install process is a complete disaster. I went to use it to boot Fuchsia on bios systems at one point, when Zircon still supported multiboot chaining.<p>The &quot;install&quot; scripts and so on are all horribly broken, and extremely badly behaved in terms of grabbing arbitrary stuff from the environment that has nothing to do with your desired target system. Using them for anything other than modifying the current host system is extremely sketchy at best.<p>I ended up re-implementing the whole process in a pile of bash (it should have been in something else, but I started in bash, and finished there). The slicing up of the bios segment that it does is also unnecessarily fiddly considering how it&#x27;s all constructed, it would have been far easier to keep those segments in separate files and then you could just write one buffer after another in any language&#x2F;tool environment you want.<p>The whole thing seems like an accident of history that no one wants to fix, which would be approximately congruent with all of the tooling in that area of the boot path, partition tools and so on.</div><br/><div id="40021365" class="c"><input type="checkbox" id="c-40021365" checked=""/><div class="controls bullet"><span class="by">jorvi</span><span>|</span><a href="#40021337">parent</a><span>|</span><a href="#40021616">next</a><span>|</span><label class="collapse" for="c-40021365">[-]</label><label class="expand" for="c-40021365">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The whole thing seems like an accident of history that no one wants to fix<p>I can’t really speak to Fuchsia systems, but a lot (most?) Linux desktop distros use stub or systemd-boot bootloading these days. And if you want to get fancy, there’s rEFInd.</div><br/><div id="40021615" class="c"><input type="checkbox" id="c-40021615" checked=""/><div class="controls bullet"><span class="by">DaSHacka</span><span>|</span><a href="#40021337">root</a><span>|</span><a href="#40021365">parent</a><span>|</span><a href="#40021616">next</a><span>|</span><label class="collapse" for="c-40021615">[-]</label><label class="expand" for="c-40021615">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I can’t really speak to Fuchsia systems, but a lot (most?) Linux desktop distros use stub or systemd-boot bootloading these days.<p>Which ones are you thinking of? Most &#x27;desktop&#x27; distros I&#x27;ve used recently still default to Grub (Debian, Fedora, Linux Mint, Ubuntu) though I&#x27;d certainly be glad if change is on the horizon.</div><br/></div></div></div></div></div></div><div id="40021616" class="c"><input type="checkbox" id="c-40021616" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#40021337">prev</a><span>|</span><a href="#40021160">next</a><span>|</span><label class="collapse" for="c-40021616">[-]</label><label class="expand" for="c-40021616">[2 more]</label></div><br/><div class="children"><div class="content">I miss LILO, life was song much simpler, to this day I barely understand grub beyond basic kernel parameters.</div><br/><div id="40021629" class="c"><input type="checkbox" id="c-40021629" checked=""/><div class="controls bullet"><span class="by">Zardoz84</span><span>|</span><a href="#40021616">parent</a><span>|</span><a href="#40021160">next</a><span>|</span><label class="collapse" for="c-40021629">[-]</label><label class="expand" for="c-40021629">[1 more]</label></div><br/><div class="children"><div class="content">I miss LOADLIN</div><br/></div></div></div></div><div id="40021160" class="c"><input type="checkbox" id="c-40021160" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#40021616">prev</a><span>|</span><a href="#40021583">next</a><span>|</span><label class="collapse" for="c-40021160">[-]</label><label class="expand" for="c-40021160">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s far from clear how grub works.<p>IMHO it contains enough functionality (filesystem access, user interface, program execution, etc.) that it could already be considered an OS itself.</div><br/><div id="40021170" class="c"><input type="checkbox" id="c-40021170" checked=""/><div class="controls bullet"><span class="by">sambazi</span><span>|</span><a href="#40021160">parent</a><span>|</span><a href="#40021583">next</a><span>|</span><label class="collapse" for="c-40021170">[-]</label><label class="expand" for="c-40021170">[1 more]</label></div><br/><div class="children"><div class="content">efi joined the chat</div><br/></div></div></div></div><div id="40021583" class="c"><input type="checkbox" id="c-40021583" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#40021160">prev</a><span>|</span><a href="#40021445">next</a><span>|</span><label class="collapse" for="c-40021583">[-]</label><label class="expand" for="c-40021583">[1 more]</label></div><br/><div class="children"><div class="content">One of the areas of Linux that I slunk away from defeated is understanding grub and the boot process in general for Linux.  Either I am stopid or it is stopidly complex or both.</div><br/></div></div><div id="40021445" class="c"><input type="checkbox" id="c-40021445" checked=""/><div class="controls bullet"><span class="by">rini17</span><span>|</span><a href="#40021583">prev</a><span>|</span><a href="#40021518">next</a><span>|</span><label class="collapse" for="c-40021445">[-]</label><label class="expand" for="c-40021445">[1 more]</label></div><br/><div class="children"><div class="content">Had a reckoning too with unholy heap of shell scripts that is grub-probe and dracut. At least they don&#x27;t use M4 preprocessing XD</div><br/></div></div><div id="40021518" class="c"><input type="checkbox" id="c-40021518" checked=""/><div class="controls bullet"><span class="by">ur-whale</span><span>|</span><a href="#40021445">prev</a><span>|</span><label class="collapse" for="c-40021518">[-]</label><label class="expand" for="c-40021518">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s far from clear how grub package updates work on Ubuntu<p>It&#x27;s far from clear how grub works, period.<p>Much less how to configure it or install it.<p>Sendmail.cf or jq level configuration language in terms of obscurity.<p>Cryptic error messages the severity of which is impossible to infer (actual impact being from no impact whatsoever to my computer won&#x27;t boot anymore).<p>Not my favorite piece of Linux software by a very large margin.</div><br/><div id="40021586" class="c"><input type="checkbox" id="c-40021586" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#40021518">parent</a><span>|</span><label class="collapse" for="c-40021586">[-]</label><label class="expand" for="c-40021586">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s pretty well documented with a pretty simple configuration language (if you already use a bourne shell (and you probably do), you already know how GRUB&#x27;s syntax works).<p>I guess reading the manual isn&#x27;t popular these days, but GRUB has a complete one that explains it all.</div><br/></div></div></div></div></div></div></div></div></div></body></html>