<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707642064564" as="style"/><link rel="stylesheet" href="styles.css?v=1707642064564"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/Textualize/toolong">Toolong: Terminal application to view, tail, merge, and search log files</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>ingve</span> | <span>38 comments</span></div><br/><div><div id="39329675" class="c"><input type="checkbox" id="c-39329675" checked=""/><div class="controls bullet"><span class="by">avtar</span><span>|</span><a href="#39330345">next</a><span>|</span><label class="collapse" for="c-39329675">[-]</label><label class="expand" for="c-39329675">[4 more]</label></div><br/><div class="children"><div class="content">The code base seems like a good reference as a small Python project.<p>My fav option in this class of apps: <a href="https:&#x2F;&#x2F;lnav.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lnav.org&#x2F;</a> It lets you use journalctl with pipes as requested here: <a href="https:&#x2F;&#x2F;github.com&#x2F;Textualize&#x2F;toolong&#x2F;issues&#x2F;4">https:&#x2F;&#x2F;github.com&#x2F;Textualize&#x2F;toolong&#x2F;issues&#x2F;4</a></div><br/><div id="39333103" class="c"><input type="checkbox" id="c-39333103" checked=""/><div class="controls bullet"><span class="by">sandebert</span><span>|</span><a href="#39329675">parent</a><span>|</span><a href="#39332817">next</a><span>|</span><label class="collapse" for="c-39333103">[-]</label><label class="expand" for="c-39333103">[1 more]</label></div><br/><div class="children"><div class="content">Plus it&#x27;s possible to download lnav as a statically linked binary, which is very nice. (Would have been even better if it was in the official repos.) I&#x27;m not interested in installing things using yet another package manager, like pip or the like.</div><br/></div></div><div id="39332817" class="c"><input type="checkbox" id="c-39332817" checked=""/><div class="controls bullet"><span class="by">SushiHippie</span><span>|</span><a href="#39329675">parent</a><span>|</span><a href="#39333103">prev</a><span>|</span><a href="#39330403">next</a><span>|</span><label class="collapse" for="c-39332817">[-]</label><label class="expand" for="c-39332817">[1 more]</label></div><br/><div class="children"><div class="content">Mind elaborating why this would be a good reference? Not saying it isn&#x27;t, just want to understand why you think so</div><br/></div></div><div id="39330403" class="c"><input type="checkbox" id="c-39330403" checked=""/><div class="controls bullet"><span class="by">maxyurk</span><span>|</span><a href="#39329675">parent</a><span>|</span><a href="#39332817">prev</a><span>|</span><a href="#39330345">next</a><span>|</span><label class="collapse" for="c-39330403">[-]</label><label class="expand" for="c-39330403">[1 more]</label></div><br/><div class="children"><div class="content">lnav is great</div><br/></div></div></div></div><div id="39330345" class="c"><input type="checkbox" id="c-39330345" checked=""/><div class="controls bullet"><span class="by">piterrro</span><span>|</span><a href="#39329675">prev</a><span>|</span><a href="#39330895">next</a><span>|</span><label class="collapse" for="c-39330345">[-]</label><label class="expand" for="c-39330345">[2 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch! I&#x27;m an author of <a href="https:&#x2F;&#x2F;logdy.dev" rel="nofollow">https:&#x2F;&#x2F;logdy.dev</a> seems like we had a similar problem with logs and decided to solve it but in a slightly different way.
Logdy works with pipes very well, I&#x27;m wrapping up another version to be released soon.</div><br/><div id="39330904" class="c"><input type="checkbox" id="c-39330904" checked=""/><div class="controls bullet"><span class="by">kinow</span><span>|</span><a href="#39330345">parent</a><span>|</span><a href="#39330895">next</a><span>|</span><label class="collapse" for="c-39330904">[-]</label><label class="expand" for="c-39330904">[1 more]</label></div><br/><div class="children"><div class="content">I maintain a workflow manager, and had both textualize and logdy on my list of projects to try soon. Planning to add a TUI written in textualize, and was thinking in something like logdy (or use it directly). Not sure which way to go now, will play with both now and see which version users like best. Thanks for logdy, and thanks to the creators of toolong too!</div><br/></div></div></div></div><div id="39330895" class="c"><input type="checkbox" id="c-39330895" checked=""/><div class="controls bullet"><span class="by">willm</span><span>|</span><a href="#39330345">prev</a><span>|</span><a href="#39331947">next</a><span>|</span><label class="collapse" for="c-39330895">[-]</label><label class="expand" for="c-39330895">[3 more]</label></div><br/><div class="children"><div class="content">Hello. Author of Toolong here. Happy to answer any questions!</div><br/><div id="39332399" class="c"><input type="checkbox" id="c-39332399" checked=""/><div class="controls bullet"><span class="by">mstudio</span><span>|</span><a href="#39330895">parent</a><span>|</span><a href="#39333167">next</a><span>|</span><label class="collapse" for="c-39332399">[-]</label><label class="expand" for="c-39332399">[1 more]</label></div><br/><div class="children"><div class="content">Just wanted to say thanks for creating this. Wonderful tool!</div><br/></div></div><div id="39333167" class="c"><input type="checkbox" id="c-39333167" checked=""/><div class="controls bullet"><span class="by">barbs</span><span>|</span><a href="#39330895">parent</a><span>|</span><a href="#39332399">prev</a><span>|</span><a href="#39331947">next</a><span>|</span><label class="collapse" for="c-39333167">[-]</label><label class="expand" for="c-39333167">[1 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the relevance of the kookaburra?</div><br/></div></div></div></div><div id="39331947" class="c"><input type="checkbox" id="c-39331947" checked=""/><div class="controls bullet"><span class="by">HellsMaddy</span><span>|</span><a href="#39330895">prev</a><span>|</span><a href="#39330796">next</a><span>|</span><label class="collapse" for="c-39331947">[-]</label><label class="expand" for="c-39331947">[2 more]</label></div><br/><div class="children"><div class="content">This looks cool. If I have a log file with a format that is like `[timestamp] SEVERITY { json content }`, can I use the feature that pretty prints the JSON part, or does the whole line need to be valid JSON? If not could I somehow write a plugin that would allow me to parse the lines in order to accomplish this? That would be really useful.</div><br/><div id="39332094" class="c"><input type="checkbox" id="c-39332094" checked=""/><div class="controls bullet"><span class="by">lathiat</span><span>|</span><a href="#39331947">parent</a><span>|</span><a href="#39330796">next</a><span>|</span><label class="collapse" for="c-39332094">[-]</label><label class="expand" for="c-39332094">[1 more]</label></div><br/><div class="children"><div class="content">lnav can do this may be worth a look</div><br/></div></div></div></div><div id="39330796" class="c"><input type="checkbox" id="c-39330796" checked=""/><div class="controls bullet"><span class="by">mstudio</span><span>|</span><a href="#39331947">prev</a><span>|</span><a href="#39329544">next</a><span>|</span><label class="collapse" for="c-39330796">[-]</label><label class="expand" for="c-39330796">[1 more]</label></div><br/><div class="children"><div class="content">This looks great. I spend a good amount of time each week grepping through Kubernetes log files. Looking forward to trying this out next week. I particularly like the pretty-print and merge options.</div><br/></div></div><div id="39329544" class="c"><input type="checkbox" id="c-39329544" checked=""/><div class="controls bullet"><span class="by">alserio</span><span>|</span><a href="#39330796">prev</a><span>|</span><a href="#39330328">next</a><span>|</span><label class="collapse" for="c-39329544">[-]</label><label class="expand" for="c-39329544">[1 more]</label></div><br/><div class="children"><div class="content">Nice! I&#x27;ve found this kind of tools really useful and love the merge functionality. 
I&#x27;ve skimmed the README but maybe I&#x27;ve missed the info: does toolong support multiline logs like stacktraces? Or is it possible to customize the recognized formats?</div><br/></div></div><div id="39330328" class="c"><input type="checkbox" id="c-39330328" checked=""/><div class="controls bullet"><span class="by">raldi</span><span>|</span><a href="#39329544">prev</a><span>|</span><a href="#39333013">next</a><span>|</span><label class="collapse" for="c-39330328">[-]</label><label class="expand" for="c-39330328">[1 more]</label></div><br/><div class="children"><div class="content">A handy utility I’ve written a few times is a tool that can quickly extract a range of logs from a timestamped, ordered file without reading every byte. This would be a good feature to add to this.</div><br/></div></div><div id="39333013" class="c"><input type="checkbox" id="c-39333013" checked=""/><div class="controls bullet"><span class="by">yalok</span><span>|</span><a href="#39330328">prev</a><span>|</span><a href="#39330051">next</a><span>|</span><label class="collapse" for="c-39333013">[-]</label><label class="expand" for="c-39333013">[1 more]</label></div><br/><div class="children"><div class="content">Is there a way to search&#x2F;highlight multiple tokens at once?<p>Didn’t find this in the help&#x2F;GitHub readme…</div><br/></div></div><div id="39330051" class="c"><input type="checkbox" id="c-39330051" checked=""/><div class="controls bullet"><span class="by">hawski</span><span>|</span><a href="#39333013">prev</a><span>|</span><a href="#39330908">next</a><span>|</span><label class="collapse" for="c-39330051">[-]</label><label class="expand" for="c-39330051">[3 more]</label></div><br/><div class="children"><div class="content">What I often do when I analyze logs is removing timestamps and changing unique identifiers to something more predictable and diff them to see when things started diverting from the norm, because it is often earlier than the usual error&#x2F;crash. Is there anything that does something like it?</div><br/><div id="39331441" class="c"><input type="checkbox" id="c-39331441" checked=""/><div class="controls bullet"><span class="by">xuhu</span><span>|</span><a href="#39330051">parent</a><span>|</span><a href="#39331639">next</a><span>|</span><label class="collapse" for="c-39331441">[-]</label><label class="expand" for="c-39331441">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;harjoc&#x2F;LogDiff">https:&#x2F;&#x2F;github.com&#x2F;harjoc&#x2F;LogDiff</a> - unmaintained, parses only ProcMon, but does the steps you describe, and uses Kdiff3 for diffs. With threaded apps it can be hard to identify automatically which thread is which.</div><br/></div></div><div id="39331639" class="c"><input type="checkbox" id="c-39331639" checked=""/><div class="controls bullet"><span class="by">1kurac</span><span>|</span><a href="#39330051">parent</a><span>|</span><a href="#39331441">prev</a><span>|</span><a href="#39330908">next</a><span>|</span><label class="collapse" for="c-39331639">[-]</label><label class="expand" for="c-39331639">[1 more]</label></div><br/><div class="children"><div class="content">This looks good: <a href="https:&#x2F;&#x2F;github.com&#x2F;kernc&#x2F;diff-logs">https:&#x2F;&#x2F;github.com&#x2F;kernc&#x2F;diff-logs</a></div><br/></div></div></div></div><div id="39330908" class="c"><input type="checkbox" id="c-39330908" checked=""/><div class="controls bullet"><span class="by">nickjj</span><span>|</span><a href="#39330051">prev</a><span>|</span><a href="#39330192">next</a><span>|</span><label class="collapse" for="c-39330908">[-]</label><label class="expand" for="c-39330908">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to see a tool that lets you modify large files efficiently.<p>I had to replace line 4 of a 200 GB SQL dump, it took a substantial amount of compute time to perform a find &#x2F; replace with sed and it also required having over double the disk space since sed creates a temp file before it writes out the new file.<p>Using a hex editor could have worked but it seemed too risky because data integrity was really important.</div><br/><div id="39332855" class="c"><input type="checkbox" id="c-39332855" checked=""/><div class="controls bullet"><span class="by">SushiHippie</span><span>|</span><a href="#39330908">parent</a><span>|</span><a href="#39332992">next</a><span>|</span><label class="collapse" for="c-39332855">[-]</label><label class="expand" for="c-39332855">[1 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t something like this, work for your specific use case:<p><pre><code>  head -n4 sqldump &gt; sqldump2
</code></pre>
Then change the line 4 in sqldump2 to whatever you wanted to, and after that:<p><pre><code>  tail -n+5 sqldump &gt;&gt; sqldump2

</code></pre>
And now sqldump2 contains sqldump but with line 4 edited.<p>This still requires double the disk space, but at least shouldn&#x27;t take 30 minutes.</div><br/></div></div><div id="39332992" class="c"><input type="checkbox" id="c-39332992" checked=""/><div class="controls bullet"><span class="by">verticalscaler</span><span>|</span><a href="#39330908">parent</a><span>|</span><a href="#39332855">prev</a><span>|</span><a href="#39330981">next</a><span>|</span><label class="collapse" for="c-39332992">[-]</label><label class="expand" for="c-39332992">[1 more]</label></div><br/><div class="children"><div class="content">There is this thing called dd.<p>Hold it like so:<p><pre><code>  seek=$bytes-offset-until-line-4 conv=notrunc,sync
</code></pre>
Enjoy responsibly :)</div><br/></div></div><div id="39330981" class="c"><input type="checkbox" id="c-39330981" checked=""/><div class="controls bullet"><span class="by">coolThingsFirst</span><span>|</span><a href="#39330908">parent</a><span>|</span><a href="#39332992">prev</a><span>|</span><a href="#39330192">next</a><span>|</span><label class="collapse" for="c-39330981">[-]</label><label class="expand" for="c-39330981">[8 more]</label></div><br/><div class="children"><div class="content">What’s the challenge in here? Loading the text efficiently in RAM?</div><br/><div id="39331111" class="c"><input type="checkbox" id="c-39331111" checked=""/><div class="controls bullet"><span class="by">nickjj</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39330981">parent</a><span>|</span><a href="#39330192">next</a><span>|</span><label class="collapse" for="c-39331111">[-]</label><label class="expand" for="c-39331111">[7 more]</label></div><br/><div class="children"><div class="content">It&#x27;s mainly to save time.<p>I don&#x27;t remember exactly how long it took but I remember it being something like 30 minutes of purely waiting for the find &#x2F; replace to finish on a 4 CPU core &#x2F; 8 GB of memory machine. Memory wasn&#x27;t an issue fortunately.</div><br/><div id="39331232" class="c"><input type="checkbox" id="c-39331232" checked=""/><div class="controls bullet"><span class="by">filleduchaos</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39331111">parent</a><span>|</span><a href="#39331654">next</a><span>|</span><label class="collapse" for="c-39331232">[-]</label><label class="expand" for="c-39331232">[4 more]</label></div><br/><div class="children"><div class="content">I mean, if you knew you <i>only</i> wanted to find&#x2F;replace on line 4, why not simply stop the search after the first match?<p>The syntax escapes me at the moment, but I&#x27;m quite sure I&#x27;ve used sed (or maybe awk?) in the past to do exactly that</div><br/><div id="39332122" class="c"><input type="checkbox" id="c-39332122" checked=""/><div class="controls bullet"><span class="by">nickjj</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39331232">parent</a><span>|</span><a href="#39331311">next</a><span>|</span><label class="collapse" for="c-39332122">[-]</label><label class="expand" for="c-39332122">[2 more]</label></div><br/><div class="children"><div class="content">As far as I know sed will still read and write the full file, even when you do a modification on a specific line. I&#x27;ve target deleted 1 line with sed and it took quite some time too.</div><br/><div id="39332575" class="c"><input type="checkbox" id="c-39332575" checked=""/><div class="controls bullet"><span class="by">filleduchaos</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39332122">parent</a><span>|</span><a href="#39331311">next</a><span>|</span><label class="collapse" for="c-39332575">[-]</label><label class="expand" for="c-39332575">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a big difference between &quot;quite some time&quot; and 30 minutes, though. Of course sed needs to read the file and write it back to disk, but that&#x27;s capped by I&#x2F;O speed which is very high on modern drives - we&#x27;re talking <i>seconds</i> for a file in the tens of gigabytes on the fastest SSDs, a very far cry from half an entire hour.</div><br/></div></div></div></div><div id="39331311" class="c"><input type="checkbox" id="c-39331311" checked=""/><div class="controls bullet"><span class="by">PetahNZ</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39331232">parent</a><span>|</span><a href="#39332122">prev</a><span>|</span><a href="#39331654">next</a><span>|</span><label class="collapse" for="c-39331311">[-]</label><label class="expand" for="c-39331311">[1 more]</label></div><br/><div class="children"><div class="content">Sed takes ages to remove a single line from huge files too.</div><br/></div></div></div></div><div id="39331654" class="c"><input type="checkbox" id="c-39331654" checked=""/><div class="controls bullet"><span class="by">coolThingsFirst</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39331111">parent</a><span>|</span><a href="#39331232">prev</a><span>|</span><a href="#39330192">next</a><span>|</span><label class="collapse" for="c-39331654">[-]</label><label class="expand" for="c-39331654">[2 more]</label></div><br/><div class="children"><div class="content">Why would there be a market for something like this?</div><br/><div id="39332116" class="c"><input type="checkbox" id="c-39332116" checked=""/><div class="controls bullet"><span class="by">nickjj</span><span>|</span><a href="#39330908">root</a><span>|</span><a href="#39331654">parent</a><span>|</span><a href="#39330192">next</a><span>|</span><label class="collapse" for="c-39332116">[-]</label><label class="expand" for="c-39332116">[1 more]</label></div><br/><div class="children"><div class="content">Once in a while things come up where you need to make a surgical edit in a really large file and it could be in a scenario where time matters.<p>For example if you&#x27;re doing a SQL dump -&gt; import, technically you could have downtime during this process to eliminate any chance of data loss. Having to wait ~30min for a command to finish is painful.<p>I&#x27;m not saying to go off and make this product to sell but if such a tool existed and you positioned it at $39 or whatever, if it could eliminate half an hour of downtime for a business it pays for itself. Especially if the alternative is to muck around with hex editing the file.<p>If 100,000 people have this problem and 3,000 of them would pay for it that&#x27;s $117,000. If you spent 6 months making a super polished tool that made it easy to know exactly what&#x27;s being edit (or deleting lines, etc.) that&#x27;s pretty appealing. Even if the sales were half that&#x27;s still solid but it could also be 5x too, who knows. Maybe you can finish such an app in 3 months instead of 6, etc.. It&#x27;s also an app that mostly feels like it could reach a &quot;done&quot; state with little maintenance since you&#x27;re editing text files which is a well known topic.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39330192" class="c"><input type="checkbox" id="c-39330192" checked=""/><div class="controls bullet"><span class="by">jonnycoder</span><span>|</span><a href="#39330908">prev</a><span>|</span><a href="#39331277">next</a><span>|</span><label class="collapse" for="c-39330192">[-]</label><label class="expand" for="c-39330192">[1 more]</label></div><br/><div class="children"><div class="content">This would have been great when I used to work in embedded development and had to grep log files to root cause bugs. I had thought about writing something like this but was always too busy. The biggest feature is combining log files and organizing by timestamp.. well done</div><br/></div></div><div id="39331277" class="c"><input type="checkbox" id="c-39331277" checked=""/><div class="controls bullet"><span class="by">xwowsersx</span><span>|</span><a href="#39330192">prev</a><span>|</span><a href="#39329530">next</a><span>|</span><label class="collapse" for="c-39331277">[-]</label><label class="expand" for="c-39331277">[1 more]</label></div><br/><div class="children"><div class="content">Nice example of a README done well. What, why, screenshots, how.</div><br/></div></div><div id="39329530" class="c"><input type="checkbox" id="c-39329530" checked=""/><div class="controls bullet"><span class="by">asmosoinio</span><span>|</span><a href="#39331277">prev</a><span>|</span><a href="#39332111">next</a><span>|</span><label class="collapse" for="c-39329530">[-]</label><label class="expand" for="c-39329530">[1 more]</label></div><br/><div class="children"><div class="content">Looks very interesting and should solve a pretty common use case for me - am often trying to debug some issue over many log files. I will for sure test this next week.</div><br/></div></div><div id="39332111" class="c"><input type="checkbox" id="c-39332111" checked=""/><div class="controls bullet"><span class="by">BOOSTERHIDROGEN</span><span>|</span><a href="#39329530">prev</a><span>|</span><a href="#39330883">next</a><span>|</span><label class="collapse" for="c-39332111">[-]</label><label class="expand" for="c-39332111">[2 more]</label></div><br/><div class="children"><div class="content">In Indonesian “tolong” means help :)</div><br/></div></div></div></div></div></div></div></body></html>