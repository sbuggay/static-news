<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707037268693" as="style"/><link rel="stylesheet" href="styles.css?v=1707037268693"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/gabotechs/dep-tree">Show HN: Visualize the entropy of a codebase with a 3D force-directed graph</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>gabimtme</span> | <span>48 comments</span></div><br/><div><div id="39247871" class="c"><input type="checkbox" id="c-39247871" checked=""/><div class="controls bullet"><span class="by">Weidenwalker</span><span>|</span><a href="#39245466">next</a><span>|</span><label class="collapse" for="c-39247871">[-]</label><label class="expand" for="c-39247871">[2 more]</label></div><br/><div class="children"><div class="content">This is cool, basically the first 3D codebase visualization I&#x27;ve seen that doesn&#x27;t immediately give me a headache, so good job! :)<p>Always interesting to see different ways of visualising the same thing. A while ago my friend and I also made a codebase visualisation tool ([<a href="https:&#x2F;&#x2F;www.codeatlas.dev&#x2F;gallery](https:&#x2F;&#x2F;www.codeatlas.dev&#x2F;gallery)" rel="nofollow">https:&#x2F;&#x2F;www.codeatlas.dev&#x2F;gallery](https:&#x2F;&#x2F;www.codeatlas.dev...</a>), but instead of taking the graph route, we opted for Voronoi treemaps in 2D! It&#x27;s a tradeoff between form and function for sure, modelling code as a DAG is definitely more powerful for static analysis. However, in most graph-based visualizations (this, gource) I just find myself getting lost super quickly, because the shapes are just not very recognisable.<p>Really impressed by how polished this already is, nice docs, on-the-fly rendering, congrats!<p>If I ever find time to work on codebase visualisation again, I might have to steal the idea of codebase entropy to better layout which files to place close to which others!</div><br/><div id="39248421" class="c"><input type="checkbox" id="c-39248421" checked=""/><div class="controls bullet"><span class="by">Weidenwalker</span><span>|</span><a href="#39247871">parent</a><span>|</span><a href="#39245466">next</a><span>|</span><label class="collapse" for="c-39248421">[-]</label><label class="expand" for="c-39248421">[1 more]</label></div><br/><div class="children"><div class="content">Ooops, I should take more care pasting links from markdown, this one works: <a href="https:&#x2F;&#x2F;codeatlas.dev&#x2F;gallery" rel="nofollow">https:&#x2F;&#x2F;codeatlas.dev&#x2F;gallery</a></div><br/></div></div></div></div><div id="39245466" class="c"><input type="checkbox" id="c-39245466" checked=""/><div class="controls bullet"><span class="by">ytjohn</span><span>|</span><a href="#39247871">prev</a><span>|</span><a href="#39244894">next</a><span>|</span><label class="collapse" for="c-39245466">[-]</label><label class="expand" for="c-39245466">[4 more]</label></div><br/><div class="children"><div class="content">This is really cool. And as OP pointed out, I really like the pipeline integration. Like when linting catches function-level complexity, but in a cross functional way. I prefer to think of programs in layers where the top layers can import lower layers, but never the other way (and also very cautious on horizontal imports). Something like this would help track that. Unfortunately, I&#x27;d really need to support Go. I find it interesting the the code is written in Go, but doesn&#x27;t support Go. But I will watch this project.<p>From the visualization perspective, it reminds me a lot of Gource.  Gource is a cool visualization showing contributions to a repo. You see individual contributors buzzing around updating files on per-commit and per-merge.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;acaudwell&#x2F;Gource">https:&#x2F;&#x2F;github.com&#x2F;acaudwell&#x2F;Gource</a></div><br/><div id="39245600" class="c"><input type="checkbox" id="c-39245600" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39245466">parent</a><span>|</span><a href="#39244894">next</a><span>|</span><label class="collapse" for="c-39245600">[-]</label><label class="expand" for="c-39245600">[3 more]</label></div><br/><div class="children"><div class="content">The visualization is actually inspired by Gource, but taken to the 3D space, it&#x27;s a really cool project.<p>Golang is very challenging to implement, because dependencies between files inside a package are not explicitly declared, you can just use any function from any file without importing it as long as they both belong into the same package, so supporting Golang would probably require spawning an LSP and resolving symbols.<p>The reason for implementing dep-tree in Go was because things were going to get algorithmic af, and better to choose a language as simple as possible, knowing that it also needed to be performant.</div><br/><div id="39246355" class="c"><input type="checkbox" id="c-39246355" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#39245466">root</a><span>|</span><a href="#39245600">parent</a><span>|</span><a href="#39244894">next</a><span>|</span><label class="collapse" for="c-39246355">[-]</label><label class="expand" for="c-39246355">[2 more]</label></div><br/><div class="children"><div class="content">If Go treats all files inside a package the same, maybe you should use packages as the &quot;unit&quot; in Go instead of files? That would probably still be useful, at least for bigger projects...</div><br/><div id="39247966" class="c"><input type="checkbox" id="c-39247966" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39245466">root</a><span>|</span><a href="#39246355">parent</a><span>|</span><a href="#39244894">next</a><span>|</span><label class="collapse" for="c-39247966">[-]</label><label class="expand" for="c-39247966">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that&#x27;s an option, it&#x27;s not a perfect fit with the philosophy of the project, but definitely possible. But ideally it would just work between files in a package.</div><br/></div></div></div></div></div></div></div></div><div id="39244894" class="c"><input type="checkbox" id="c-39244894" checked=""/><div class="controls bullet"><span class="by">sam_bristow</span><span>|</span><a href="#39245466">prev</a><span>|</span><a href="#39246723">next</a><span>|</span><label class="collapse" for="c-39244894">[-]</label><label class="expand" for="c-39244894">[2 more]</label></div><br/><div class="children"><div class="content">A tangentially related tool you can use to look at a repo over time is Git of Theseus[1]. It shows things like &quot;what percentage of the code in this repo survives 6 months.<p>[1]<a href="https:&#x2F;&#x2F;erikbern.com&#x2F;2016&#x2F;12&#x2F;05&#x2F;the-half-life-of-code.html" rel="nofollow">https:&#x2F;&#x2F;erikbern.com&#x2F;2016&#x2F;12&#x2F;05&#x2F;the-half-life-of-code.html</a></div><br/><div id="39244925" class="c"><input type="checkbox" id="c-39244925" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244894">parent</a><span>|</span><a href="#39246723">next</a><span>|</span><label class="collapse" for="c-39244925">[-]</label><label class="expand" for="c-39244925">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s really interesting!</div><br/></div></div></div></div><div id="39246723" class="c"><input type="checkbox" id="c-39246723" checked=""/><div class="controls bullet"><span class="by">a1o</span><span>|</span><a href="#39244894">prev</a><span>|</span><a href="#39244957">next</a><span>|</span><label class="collapse" for="c-39246723">[-]</label><label class="expand" for="c-39246723">[2 more]</label></div><br/><div class="children"><div class="content">It would be nice if Cpp was supported. A lot of large legacy codebases written in c++ would be interesting to visualize.</div><br/><div id="39248040" class="c"><input type="checkbox" id="c-39248040" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39246723">parent</a><span>|</span><a href="#39244957">next</a><span>|</span><label class="collapse" for="c-39248040">[-]</label><label class="expand" for="c-39248040">[1 more]</label></div><br/><div class="children"><div class="content">definitely, that and Java sounds like two very good candidates.</div><br/></div></div></div></div><div id="39244957" class="c"><input type="checkbox" id="c-39244957" checked=""/><div class="controls bullet"><span class="by">daxfohl</span><span>|</span><a href="#39246723">prev</a><span>|</span><a href="#39247888">next</a><span>|</span><label class="collapse" for="c-39244957">[-]</label><label class="expand" for="c-39244957">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always felt like instead of public, private, protected, there should be something like security groups and acls on classes and functions. That way it&#x27;s very explicit when you are newly coupling things, and brings tighter scrutiny to those changes.<p>Edit: oh, looking at the docs, apparently that&#x27;s exactly what this tool does. Though it would be nice to have function level granularity. Maybe by annotating the code itself.</div><br/><div id="39245566" class="c"><input type="checkbox" id="c-39245566" checked=""/><div class="controls bullet"><span class="by">sam_bristow</span><span>|</span><a href="#39244957">parent</a><span>|</span><a href="#39247888">next</a><span>|</span><label class="collapse" for="c-39245566">[-]</label><label class="expand" for="c-39245566">[2 more]</label></div><br/><div class="children"><div class="content">Build systems like Bazel provide mechanisms for controlling access at the module-level. If you&#x27;re disciplined about not just making everything &quot;public&quot; it can be really powerful. Bazel is a very big hammer though and might be overkill for your projects.</div><br/><div id="39246249" class="c"><input type="checkbox" id="c-39246249" checked=""/><div class="controls bullet"><span class="by">daxfohl</span><span>|</span><a href="#39244957">root</a><span>|</span><a href="#39245566">parent</a><span>|</span><a href="#39247888">next</a><span>|</span><label class="collapse" for="c-39246249">[-]</label><label class="expand" for="c-39246249">[1 more]</label></div><br/><div class="children"><div class="content">Oh, interesting! We already use bazel at work but it was all set up before anybody on the current team got here and the only process we have is &quot;fight it until it works&quot;, which fortunately doesn&#x27;t come up too often. Or maybe _unfortunately_, as then there&#x27;s not enough incentive to figure it out. Now you gave me inspiration to dig in and understand how it should really be used.</div><br/></div></div></div></div></div></div><div id="39247888" class="c"><input type="checkbox" id="c-39247888" checked=""/><div class="controls bullet"><span class="by">_ZeD_</span><span>|</span><a href="#39244957">prev</a><span>|</span><a href="#39244786">next</a><span>|</span><label class="collapse" for="c-39247888">[-]</label><label class="expand" for="c-39247888">[2 more]</label></div><br/><div class="children"><div class="content">This reminds me of doxygen diagrams - <a href="https:&#x2F;&#x2F;doxygen.nl&#x2F;manual&#x2F;diagrams.html" rel="nofollow">https:&#x2F;&#x2F;doxygen.nl&#x2F;manual&#x2F;diagrams.html</a></div><br/><div id="39248045" class="c"><input type="checkbox" id="c-39248045" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39247888">parent</a><span>|</span><a href="#39244786">next</a><span>|</span><label class="collapse" for="c-39248045">[-]</label><label class="expand" for="c-39248045">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a similar idea, but I often find myself very lost on 2d drawings if the codebase reaches a certain size</div><br/></div></div></div></div><div id="39244786" class="c"><input type="checkbox" id="c-39244786" checked=""/><div class="controls bullet"><span class="by">contravariant</span><span>|</span><a href="#39247888">prev</a><span>|</span><a href="#39245383">next</a><span>|</span><label class="collapse" for="c-39244786">[-]</label><label class="expand" for="c-39244786">[8 more]</label></div><br/><div class="children"><div class="content">Is this just using the word &#x27;entropy&#x27; as a stand-in for complexity or is there some actual definition of entropy involved?</div><br/><div id="39244844" class="c"><input type="checkbox" id="c-39244844" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244786">parent</a><span>|</span><a href="#39245383">next</a><span>|</span><label class="collapse" for="c-39244844">[-]</label><label class="expand" for="c-39244844">[7 more]</label></div><br/><div class="children"><div class="content">Nah, nothing like that, &quot;entropy&quot; in the colloquial meaning of level of disorder, it has proven to be a useful word for people to understand what it is about, even though it&#x27;s strictly incorrect.</div><br/><div id="39247209" class="c"><input type="checkbox" id="c-39247209" checked=""/><div class="controls bullet"><span class="by">contravariant</span><span>|</span><a href="#39244786">root</a><span>|</span><a href="#39244844">parent</a><span>|</span><a href="#39247874">next</a><span>|</span><label class="collapse" for="c-39247209">[-]</label><label class="expand" for="c-39247209">[2 more]</label></div><br/><div class="children"><div class="content">This might be the first time someone used the word &quot;entropy&quot; colloquially in the hopes that it is generally well understood what it means.<p>To me the usage makes no sense whatsoever, there&#x27;s no entropy to be found here, and if there is it&#x27;s not what is being displayed. Perhaps it makes sense to people who don&#x27;t know what entropy is, though most of them wouldn&#x27;t know the word in the first place.</div><br/><div id="39247696" class="c"><input type="checkbox" id="c-39247696" checked=""/><div class="controls bullet"><span class="by">voidhorse</span><span>|</span><a href="#39244786">root</a><span>|</span><a href="#39247209">parent</a><span>|</span><a href="#39247874">next</a><span>|</span><label class="collapse" for="c-39247696">[-]</label><label class="expand" for="c-39247696">[1 more]</label></div><br/><div class="children"><div class="content">Same here. My first reaction to this was &quot;how does this compute entropy at all&quot;? Also, entropy and complexity are two  different, if related, concepts, both mathematically and colloquially speaking.<p>It&#x27;s abuse of technical language in efforts to sound impressive, in my opinion, which I guess is a valid form of language evolution. There are other words in our lexicon that have become general purpose and fuzzy in spite of their precise technical origins.</div><br/></div></div></div></div><div id="39247874" class="c"><input type="checkbox" id="c-39247874" checked=""/><div class="controls bullet"><span class="by">ngneer</span><span>|</span><a href="#39244786">root</a><span>|</span><a href="#39244844">parent</a><span>|</span><a href="#39247209">prev</a><span>|</span><a href="#39247704">next</a><span>|</span><label class="collapse" for="c-39247874">[-]</label><label class="expand" for="c-39247874">[1 more]</label></div><br/><div class="children"><div class="content">Great tool for visualizing complexity and dependencies. Entropy is the wrong term, though. For me (and likely many others) it conjures Shannon&#x27;s seminal definition as an information measure. Entropy is a number.</div><br/></div></div><div id="39247704" class="c"><input type="checkbox" id="c-39247704" checked=""/><div class="controls bullet"><span class="by">voidhorse</span><span>|</span><a href="#39244786">root</a><span>|</span><a href="#39244844">parent</a><span>|</span><a href="#39247874">prev</a><span>|</span><a href="#39248018">next</a><span>|</span><label class="collapse" for="c-39247704">[-]</label><label class="expand" for="c-39247704">[1 more]</label></div><br/><div class="children"><div class="content">Why not simply say &quot;disorder&quot; then and:<p>a. avoid making certain subsets of people think you&#x27;re using precise concepts that you aren&#x27;t.
b. make it easier for people that don&#x27;t know what entropy even is to understand what this tool does. Disorder is a far more widely understood term in my view.</div><br/></div></div><div id="39248018" class="c"><input type="checkbox" id="c-39248018" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244786">root</a><span>|</span><a href="#39244844">parent</a><span>|</span><a href="#39247704">prev</a><span>|</span><a href="#39245279">next</a><span>|</span><label class="collapse" for="c-39248018">[-]</label><label class="expand" for="c-39248018">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the feedback y&#x27;all, I&#x27;ll take this into account going forward</div><br/></div></div><div id="39245279" class="c"><input type="checkbox" id="c-39245279" checked=""/><div class="controls bullet"><span class="by">carrolldunham</span><span>|</span><a href="#39244786">root</a><span>|</span><a href="#39244844">parent</a><span>|</span><a href="#39248018">prev</a><span>|</span><a href="#39245383">next</a><span>|</span><label class="collapse" for="c-39245279">[-]</label><label class="expand" for="c-39245279">[1 more]</label></div><br/><div class="children"><div class="content">please don&#x27;t do that, especially when presenting something that uses graphs, as entropy on graphs is an actual technical concept that&#x27;s currently widely used in very hot fields.</div><br/></div></div></div></div></div></div><div id="39245383" class="c"><input type="checkbox" id="c-39245383" checked=""/><div class="controls bullet"><span class="by">SushiHippie</span><span>|</span><a href="#39244786">prev</a><span>|</span><a href="#39245167">next</a><span>|</span><label class="collapse" for="c-39245383">[-]</label><label class="expand" for="c-39245383">[4 more]</label></div><br/><div class="children"><div class="content">Could it be, that this can&#x27;t check absolute imports? My python project, has many files which depend on each other, but are not linked together in the generated graph. But one of my modules has a __init__.py with relative imports, and this shows links between the files imported in the __init__.py.<p>Lets say my project looks like this:<p>src&#x2F;example&#x2F;foo.py<p>src&#x2F;example&#x2F;bar.py<p>And If bar.py containse the statement &quot;from example.foo import Foo&quot; there is no link between the files foo and bar.
Though, if the statement is &quot;from .foo import Foo&quot; it shows a link.</div><br/><div id="39245444" class="c"><input type="checkbox" id="c-39245444" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39245383">parent</a><span>|</span><a href="#39245167">next</a><span>|</span><label class="collapse" for="c-39245444">[-]</label><label class="expand" for="c-39245444">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s because dep-tree doesn&#x27;t know it needs to resolve names starting from `src&#x2F;`, as your imports have that piece of information trimmed. You can solve this by setting the PYTHONPATH env variable like this:<p>export PYTHONPATH=src</div><br/><div id="39245469" class="c"><input type="checkbox" id="c-39245469" checked=""/><div class="controls bullet"><span class="by">SushiHippie</span><span>|</span><a href="#39245383">root</a><span>|</span><a href="#39245444">parent</a><span>|</span><a href="#39245167">next</a><span>|</span><label class="collapse" for="c-39245469">[-]</label><label class="expand" for="c-39245469">[2 more]</label></div><br/><div class="children"><div class="content">Perfect, that worked, thank you!<p>I thought this could be solved by changing the directory to src&#x2F; and then executing that command, but this didn&#x27;t work.<p>This also seems to be an issue with the web app, e.g. the repository for the formatter black is only one white dot <a href="https:&#x2F;&#x2F;dep-tree-explorer.vercel.app&#x2F;api?repo=https:&#x2F;&#x2F;github.com&#x2F;psf&#x2F;black&amp;entrypoint=src&#x2F;black&#x2F;__init__.py" rel="nofollow">https:&#x2F;&#x2F;dep-tree-explorer.vercel.app&#x2F;api?repo=https:&#x2F;&#x2F;github...</a></div><br/><div id="39245549" class="c"><input type="checkbox" id="c-39245549" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39245383">root</a><span>|</span><a href="#39245469">parent</a><span>|</span><a href="#39245167">next</a><span>|</span><label class="collapse" for="c-39245549">[-]</label><label class="expand" for="c-39245549">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, the web app is quite limited, it doesn&#x27;t accept any kind of configuration. Implementing the Python absolute path resolution mechanism was actually quite challenging, as there is just too many ways you can handle absolute imports.<p>I&#x27;ve seen people using tricks like the `sys.path.extend([&quot;src&quot;])` in the main file for being able to place source code into an `src` folder, but unfortunately, dep-tree is not able to take that into account.</div><br/></div></div></div></div></div></div></div></div><div id="39245167" class="c"><input type="checkbox" id="c-39245167" checked=""/><div class="controls bullet"><span class="by">MilStdJunkie</span><span>|</span><a href="#39245383">prev</a><span>|</span><a href="#39247891">next</a><span>|</span><label class="collapse" for="c-39245167">[-]</label><label class="expand" for="c-39245167">[1 more]</label></div><br/><div class="children"><div class="content">This is gonna sound weird as hell, but I would really dig implementing this on a doc repo with CCS (component content), where you re-use document modules[1]. Why do I care? Because some modules support <i>way</i> too much complexity, and entropy is a pretty good measurement of that.<p>[1] Asciidoc&#x2F;RsT (include directive for both), XML (DITA&#x2F;S1000D&#x2F;DocBook&#x2F;etc, each with different transclude mechanisms), any markup that supports transclusion.</div><br/></div></div><div id="39247891" class="c"><input type="checkbox" id="c-39247891" checked=""/><div class="controls bullet"><span class="by">enoch2090</span><span>|</span><a href="#39245167">prev</a><span>|</span><a href="#39246771">next</a><span>|</span><label class="collapse" for="c-39247891">[-]</label><label class="expand" for="c-39247891">[2 more]</label></div><br/><div class="children"><div class="content">This is really cool! We are recently developing a project with heavy C++ and maybe a little Python scripts &amp; wrappers and we are planning for a major refactor. Is it possible to adopt this with a C++ codebase?</div><br/><div id="39247954" class="c"><input type="checkbox" id="c-39247954" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39247891">parent</a><span>|</span><a href="#39246771">next</a><span>|</span><label class="collapse" for="c-39247954">[-]</label><label class="expand" for="c-39247954">[1 more]</label></div><br/><div class="children"><div class="content">Right now it only supports JavaScript, TypeScript, Python and Rust, but it&#x27;s designed to be extended with any other language. Each language implementation is just some hundreds of lines of code, so it&#x27;s &quot;easy&quot; to add new ones, I think C&#x2F;C++  and Java&#x2F;Kotlin are good candidates that would be very easy to implement.</div><br/></div></div></div></div><div id="39246771" class="c"><input type="checkbox" id="c-39246771" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#39247891">prev</a><span>|</span><a href="#39244806">next</a><span>|</span><label class="collapse" for="c-39246771">[-]</label><label class="expand" for="c-39246771">[2 more]</label></div><br/><div class="children"><div class="content">Pretty cool -- sadly I think this doesn&#x27;t catch custom `imports` patterns in my package.json[0] so my graph is incomplete<p>___<p>0. <a href="https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;packages.html#subpath-patterns" rel="nofollow">https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;packages.html#subpath-patterns</a></div><br/><div id="39248024" class="c"><input type="checkbox" id="c-39248024" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39246771">parent</a><span>|</span><a href="#39244806">next</a><span>|</span><label class="collapse" for="c-39248024">[-]</label><label class="expand" for="c-39248024">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, unfortunately custom imports are only implemented if declared in the tsconfig.json as path overrides, but definitely something that should be looked at</div><br/></div></div></div></div><div id="39244806" class="c"><input type="checkbox" id="c-39244806" checked=""/><div class="controls bullet"><span class="by">rikroots</span><span>|</span><a href="#39246771">prev</a><span>|</span><a href="#39244451">next</a><span>|</span><label class="collapse" for="c-39244806">[-]</label><label class="expand" for="c-39244806">[2 more]</label></div><br/><div class="children"><div class="content">I &quot;think&quot; I understand what I&#x27;m looking at - it&#x27;s like a 3d dependency tree with added flow of exports -&gt; imports? It certainly looks very pretty![1]<p>One piece of feedback, if I may. It&#x27;s really difficult to read the blue labels against the black background. Is there any way to change the palette colors?<p>[1] <a href="https:&#x2F;&#x2F;dep-tree-explorer.vercel.app&#x2F;api?repo=https%3A%2F%2Fgithub.com%2FKaliedaRik%2FScrawl-canvas&amp;entrypoint=source%2Fscrawl.js" rel="nofollow">https:&#x2F;&#x2F;dep-tree-explorer.vercel.app&#x2F;api?repo=https%3A%2F%2F...</a></div><br/><div id="39244893" class="c"><input type="checkbox" id="c-39244893" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244806">parent</a><span>|</span><a href="#39244451">next</a><span>|</span><label class="collapse" for="c-39244893">[-]</label><label class="expand" for="c-39244893">[1 more]</label></div><br/><div class="children"><div class="content">Well, that&#x27;s one of the drawbacks of the smart color auto generation... it&#x27;s not that smart.<p>That&#x27;s definitely is an improvement point, I have just calibrated things looking at my screen, which might have a high saturation&#x2F;brightness setting.<p>Thanks for the feedback!</div><br/></div></div></div></div><div id="39244451" class="c"><input type="checkbox" id="c-39244451" checked=""/><div class="controls bullet"><span class="by">leetrout</span><span>|</span><a href="#39244806">prev</a><span>|</span><a href="#39247543">next</a><span>|</span><label class="collapse" for="c-39244451">[-]</label><label class="expand" for="c-39244451">[7 more]</label></div><br/><div class="children"><div class="content">Off topic but...<p>&gt; I work at a startup where business evolves really fast, and requirements change frequently, so it&#x27;s easy to end up with big piles of code stacked together without a clear structure, specially with tight deadlines<p>That smells.<p>It sounds like the team could benefit from better stack technologies and a bit more discipline in how it is applied to solutioning.<p>&gt; Enforcing some dependency rules that allow&#x2F;forbid dependencies between different parts of the application.<p>What is the alternative to this tool that lowers the cognitive barrier &#x2F; builds the right muscles for the team to understand what they should &#x2F; shouldnt depend on?</div><br/><div id="39244661" class="c"><input type="checkbox" id="c-39244661" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244451">parent</a><span>|</span><a href="#39245165">next</a><span>|</span><label class="collapse" for="c-39244661">[-]</label><label class="expand" for="c-39244661">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It sounds like the team could benefit from better stack technologies and a bit more discipline in how it is applied to solutioning.<p>For our specific case it&#x27;s actually pretty good, we&#x27;ve built a lot of discipline around maintainability, but in general this is a recurring problem in tech teams who might not be able to afford the time it takes to gain discipline.<p>&gt; What is the alternative to this tool that lowers the cognitive barrier &#x2F; builds the right muscles for the team to understand what they should &#x2F; shouldnt depend on?<p>Some programming languages allow you to split the codebase into modular units (npm  workspaces, cargo workspaces, etc..) which forces developers to modularize things, and dependencies between modules need to be explicitly declared.<p>This is good, but usually not enough, as nothing prevents you to mess things up within a module&#x2F;workspace.<p>There&#x27;s some other tooling with similar functionality to dep-tree, but language-specific and with visualizations not suitable for large codebases (.dot files, 2d svgs...)</div><br/><div id="39245457" class="c"><input type="checkbox" id="c-39245457" checked=""/><div class="controls bullet"><span class="by">jonmoore</span><span>|</span><a href="#39244451">root</a><span>|</span><a href="#39244661">parent</a><span>|</span><a href="#39245165">next</a><span>|</span><label class="collapse" for="c-39245457">[-]</label><label class="expand" for="c-39245457">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, and tools like dep-tree provide a combination of 1) making module structure visible 2) making rules about this structure concrete and 3) automatically checking for rule violations.<p>These all help to lower the cognitive barrier to learning and maintaining the code base effectively.  For developers new to the code base they help with learning and for those more experienced they help with ongoing design and maintenance.<p>Most long-lived code bases I&#x27;ve seen have adopted or built such tooling at some point, often with tools customized to the code base.  For example in one large code base (c. 250 devs) we built tooling that simulated and helped optimize the changes to implement a major refactor of the overall module structure.</div><br/></div></div></div></div><div id="39245165" class="c"><input type="checkbox" id="c-39245165" checked=""/><div class="controls bullet"><span class="by">nyrikki</span><span>|</span><a href="#39244451">parent</a><span>|</span><a href="#39244661">prev</a><span>|</span><a href="#39244770">next</a><span>|</span><label class="collapse" for="c-39245165">[-]</label><label class="expand" for="c-39245165">[1 more]</label></div><br/><div class="children"><div class="content">Stack technologies tend to bound contexts based on technologies and not on domain boundaries.<p>This is why we see all these products targeted at companies with 24 microservices with 26 developers who have to run end to end testing on everything.<p>Architectural erosion is primarily a cultural issue and any tool that helps people discover and call out architectural violations is potentially useful.<p>Many companies can&#x27;t just do the inverse Conway law, and if you look at the state of devops report, note how they call out CAB forums and controls being problematic for even high performing companies to become elite.<p>This product as an example, which just really means you want to keep k8s but have given up on loose coupling and high cohesion.<p><a href="https:&#x2F;&#x2F;www.signadot.com&#x2F;blog&#x2F;how-uber-and-doordash-enable-developers-to-test-in-production">https:&#x2F;&#x2F;www.signadot.com&#x2F;blog&#x2F;how-uber-and-doordash-enable-d...</a><p>Throwing products at structure problems typically doesn&#x27;t work.</div><br/></div></div><div id="39244770" class="c"><input type="checkbox" id="c-39244770" checked=""/><div class="controls bullet"><span class="by">crucialfelix</span><span>|</span><a href="#39244451">parent</a><span>|</span><a href="#39245165">prev</a><span>|</span><a href="#39244763">next</a><span>|</span><label class="collapse" for="c-39244770">[-]</label><label class="expand" for="c-39244770">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s extremely common to get things twisted up. Even if there is a good tech lead, that person may not be good at writing documentation, may be too busy writing code, and may not yet have a plan for how to keep things organized.<p>Maintaining a code base requires communication, PR reviews and discipline. That doesn&#x27;t always happen.<p>Having lint check rules is brilliant. Never mind discipline, you just need a friendly error to say don&#x27;t import services into an ORM model file. I&#x27;m going to adopt this right away.</div><br/><div id="39244911" class="c"><input type="checkbox" id="c-39244911" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244451">root</a><span>|</span><a href="#39244770">parent</a><span>|</span><a href="#39244763">next</a><span>|</span><label class="collapse" for="c-39244911">[-]</label><label class="expand" for="c-39244911">[1 more]</label></div><br/><div class="children"><div class="content">And even with discipline, sometimes introducing tech debt in order to ship something fast is actually something desirable at the short term, specially in the startup world, so I don&#x27;t think that anybody with deadlines is completely free from twisting things up.</div><br/></div></div></div></div><div id="39244763" class="c"><input type="checkbox" id="c-39244763" checked=""/><div class="controls bullet"><span class="by">gjgtcbkj</span><span>|</span><a href="#39244451">parent</a><span>|</span><a href="#39244770">prev</a><span>|</span><a href="#39247543">next</a><span>|</span><label class="collapse" for="c-39244763">[-]</label><label class="expand" for="c-39244763">[1 more]</label></div><br/><div class="children"><div class="content">Thereâs such a weird vane of do nothingness that runs through this comments attitude. Yeah of course itâs easy to pick dependancies when you donât worry about deadlines. A programmer without a deadline is like a fisherman going to grocery store to buy fish and claiming itâs âbest practicesâ better results, but what was the point?</div><br/></div></div></div></div><div id="39247543" class="c"><input type="checkbox" id="c-39247543" checked=""/><div class="controls bullet"><span class="by">DenisM</span><span>|</span><a href="#39244451">prev</a><span>|</span><a href="#39244795">next</a><span>|</span><label class="collapse" for="c-39247543">[-]</label><label class="expand" for="c-39247543">[2 more]</label></div><br/><div class="children"><div class="content">I could use something like this for large Java projects.</div><br/><div id="39248057" class="c"><input type="checkbox" id="c-39248057" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39247543">parent</a><span>|</span><a href="#39244795">next</a><span>|</span><label class="collapse" for="c-39248057">[-]</label><label class="expand" for="c-39248057">[1 more]</label></div><br/><div class="children"><div class="content">Java is one of the top candidates for being implemented next actually</div><br/></div></div></div></div><div id="39244795" class="c"><input type="checkbox" id="c-39244795" checked=""/><div class="controls bullet"><span class="by">compacct27</span><span>|</span><a href="#39247543">prev</a><span>|</span><a href="#39247800">next</a><span>|</span><label class="collapse" for="c-39244795">[-]</label><label class="expand" for="c-39244795">[2 more]</label></div><br/><div class="children"><div class="content">Love it, I think dependency trees are super underused data for static analysis.<p>The visualization here is amazing in its own right as well, can I ask what part of the codebase renders it and handled the force-directed part?</div><br/><div id="39244835" class="c"><input type="checkbox" id="c-39244835" checked=""/><div class="controls bullet"><span class="by">gabimtme</span><span>|</span><a href="#39244795">parent</a><span>|</span><a href="#39247800">next</a><span>|</span><label class="collapse" for="c-39244835">[-]</label><label class="expand" for="c-39244835">[1 more]</label></div><br/><div class="children"><div class="content">The portion of the code in charge of rendering lives inside the `internal&#x2F;entropy` (<a href="https:&#x2F;&#x2F;github.com&#x2F;gabotechs&#x2F;dep-tree&#x2F;tree&#x2F;main&#x2F;internal&#x2F;entropy">https:&#x2F;&#x2F;github.com&#x2F;gabotechs&#x2F;dep-tree&#x2F;tree&#x2F;main&#x2F;internal&#x2F;ent...</a>).<p>Force-directed is an algorithm for displaying graphs in a 2d or 3d space, which simulates attraction&#x2F;repulsion based on the dependencies between the nodes, the wikipedia page explains it really well <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Force-directed_graph_drawing" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Force-directed_graph_drawing</a><p>&gt; Love it, I think dependency trees are super underused data for static analysis.<p>Definitely, specially for evaluating &quot;the big picture&quot; of a codebase</div><br/></div></div></div></div><div id="39247800" class="c"><input type="checkbox" id="c-39247800" checked=""/><div class="controls bullet"><span class="by">jongjong</span><span>|</span><a href="#39244795">prev</a><span>|</span><a href="#39243462">next</a><span>|</span><label class="collapse" for="c-39247800">[-]</label><label class="expand" for="c-39247800">[1 more]</label></div><br/><div class="children"><div class="content">Great tool!<p>React&#x27;s graph looks like a mess. Why am I not surprised...</div><br/></div></div></div></div></div></div></div></body></html>