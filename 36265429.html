<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1686474046306" as="style"/><link rel="stylesheet" href="styles.css?v=1686474046306"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://joelgustafson.com/posts/2023-05-04/merklizing-the-key-value-store-for-fun-and-profit">Merklizing the key/value store for fun and profit</a> <span class="domain">(<a href="https://joelgustafson.com">joelgustafson.com</a>)</span></div><div class="subtext"><span>joelg</span> | <span>4 comments</span></div><br/><div><div id="36279095" class="c"><input type="checkbox" id="c-36279095" checked=""/><div class="controls bullet"><span class="by">EGreg</span><span>|</span><a href="#36279285">next</a><span>|</span><label class="collapse" for="c-36279095">[-]</label><label class="expand" for="c-36279095">[2 more]</label></div><br/><div class="children"><div class="content">I read this with great interest. Sometimes technologies come around that make me seriously wonder if I should embrace them or continue on the path I’ve already designed.<p>They include: CRDTs, PouchDB, hypercore, etc.<p>What I currently have is my own, PHP-based implementation of essentially a history of “collaborative documents that evolve through time” — with each document having one machine as a source of truth:<p><a href="https:&#x2F;&#x2F;qbix.com&#x2F;platform&#x2F;guide&#x2F;streamsConcepts" rel="nofollow noreferrer">https:&#x2F;&#x2F;qbix.com&#x2F;platform&#x2F;guide&#x2F;streamsConcepts</a><p>So basically, I think that syncing and CRDTs (y.js and automerge) can be excellent for collaborating on documents, but not so great for chatrooms and smart contracts &#x2F; crypto where order of operations matters. For those, you can implement <i>optimistic interface updates</i> but when conflicts (rarely) arise, your interface may roll back changes it displayed. This is especially true after a netsplit.<p>I thought about using PouchDB but the thing is that CouchDB is an extra process people have to run and we want our stuff to run anywhere Wordpress does. Ditto for hypercore. These are great technologies, but it seems what we have is great for fhe very reason tht it’s in PHP - still the most widely supported commodity hosting environment in the world by far. What are the stats these days for PHP vs Node, Go etc.?</div><br/><div id="36279507" class="c"><input type="checkbox" id="c-36279507" checked=""/><div class="controls bullet"><span class="by">Blahah</span><span>|</span><a href="#36279095">parent</a><span>|</span><a href="#36279285">next</a><span>|</span><label class="collapse" for="c-36279507">[-]</label><label class="expand" for="c-36279507">[1 more]</label></div><br/><div class="children"><div class="content">It sounds like you&#x27;ve got a working solution already - is that right? If so, the old adage &quot;if it ain&#x27;t broke, don&#x27;t fix it&quot; applies.<p>Beyond that, if you&#x27;re looking at whether to use these technologies in enhancing what you&#x27;ve got or solving problems that you have or expect with high confidence, then there are clear wins to be had.<p>Automerge and y.js are absolutely great for collaboration on blocks of text or structured documents (or anything that can be modelled as such). They are purely for conflict resolution, so if you don&#x27;t have conflicts, or your use case manages to make the impact of conflicts negligible, don&#x27;t bother with them. They are very easy to implement if you do need them - the barrier most people face is understanding them enough to decide if and how to use them. Just keep it simple.<p>Hypercore is a p2p solution for synchronising streams of data. It can be used raw, for streaming updates, or you can use the abstractions over it to keep filesystems or databases in sync. There&#x27;s a significant difference between the decision about hypercore vs CRDTs - hypercore can potentially remove the need for you to maintain and operate a specific server, allowing all clients to be servers. This also reduces the dependency of the user on infrastructure - your servers, the Internet, a friendly government, etc. If that might be useful to you or your users, it&#x27;s worth considering. Unlike PouchDB, it&#x27;s a low level abstraction that can open up really new ways of thinking about shared information. PouchDB by contrast is &#x27;just&#x27; a p2p syncing database. Also important: hypercore <i>doesn&#x27;t</i> require its own process - you can roll it into your code directly, or have it in a separate process if you want.<p>Of all the things you mentioned, I&#x27;d say that hypercore is the only one worth diving into regardless of whether you seem to need it. You&#x27;ll be a better systems designer and engineer once you understand it, and will have an expanded landscape of possibility when you can leverage it.<p>As for php vs node etc - that hasn&#x27;t been an issue for a long time. Node is supported everywhere.</div><br/></div></div></div></div><div id="36279285" class="c"><input type="checkbox" id="c-36279285" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#36279095">prev</a><span>|</span><label class="collapse" for="c-36279285">[-]</label><label class="expand" for="c-36279285">[1 more]</label></div><br/><div class="children"><div class="content">As someone following German politics I had to read the headline twice :) Haven&#x27;t seen it used without tree.<p>(Yes, the spelling is not the same, but we are talking associations, not exact science.)</div><br/></div></div></div></div></div></div></div></body></html>