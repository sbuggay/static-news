<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1716022854490" as="style"/><link rel="stylesheet" href="styles.css?v=1716022854490"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/HigherOrderCO/Bend">Bend: a high-level language that runs on GPUs (via HVM2)</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>LightMachine</span> | <span>139 comments</span></div><br/><div><div id="40392233" class="c"><input type="checkbox" id="c-40392233" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#40393011">next</a><span>|</span><label class="collapse" for="c-40392233">[-]</label><label class="expand" for="c-40392233">[45 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth, I ported the sum example to pure python.<p><pre><code>    def sum(depth, x):
        if depth == 0:
          return x
        else:
          fst = sum(depth-1, x*2+0) # adds the fst half
          snd = sum(depth-1, x*2+1) # adds the snd half
          return fst + snd
        
    print(sum(30, 0))
</code></pre>
under pypy3 it executes in 0m4.478s, single threaded.  Under python 3.12, it executed in 1m42.148s, again single threaded.  I mention that because you include benchmark information:<p><pre><code>    CPU, Apple M3 Max, 1 thread: 3.5 minutes
    CPU, Apple M3 Max, 16 threads: 10.26 seconds
    GPU, NVIDIA RTX 4090, 32k threads: 1.88 seconds
</code></pre>
The bend single-threaded version has been running for 42 minutes on my laptop, is consuming 6GB of memory, and still hasn&#x27;t finished (12th Gen Intel(R) Core(TM) i7-1270P, Ubuntu 24.04).  That seems to be an incredibly slow interpreter.  Has this been tested or developed on anything other than Macs &#x2F; aarch64?<p>I appreciate this is early days, but it&#x27;s hard to get excited about what seems to be incredibly slow performance from a really simple example you give.  If the simple stuff is slow, what does that mean for the complicated stuff?<p>If I get a chance tonight, I&#x27;ll re-run it with `-s` argument, see if I get anything helpful.</div><br/><div id="40392519" class="c"><input type="checkbox" id="c-40392519" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">parent</a><span>|</span><a href="#40392925">next</a><span>|</span><label class="collapse" for="c-40392519">[-]</label><label class="expand" for="c-40392519">[28 more]</label></div><br/><div class="children"><div class="content">Running on 42 minutes is mots likely a bug. Yes, we haven&#x27;t done much testing outside of M3 Max yet. I&#x27;m aware it is 2x slower on non-Apple CPUs. We&#x27;ll work on that.<p>For the `sum` example, Bend has a huge disadvantage, because it is allocating 2 IC nodes for each numeric operation, while Python is not. This is obviously terribly inefficient. We&#x27;ll avoid that soon (just like HVM1 did it). It just wasn&#x27;t implemented in HVM2 yet.<p>Note most of the work behind Bend went into making the parallel evaluator <i>correct</i>. Running closures and unrestricted recursion on GPUs is <i>extremely</i> hard. We&#x27;ve just finished that part, so, there was basically 0 effort into micro-optimizations. HVM2&#x27;s codegen is still abysmal. (And I was very clear about it on the docs!)<p>That said, please try comparing the Bitonic Sort example, where both are doing the same amount of allocations. I think it will give a much fairer idea of how Bend will perform in practice. HVM1 used to be 3x slower than GHC in a single core, which isn&#x27;t bad. HVM2 should get to that point not far in the future.<p>Now, I totally acknowledge these &quot;this is still bad but we promise it will get better!!&quot; can be underwhelming, and I understand if you don&#x27;t believe on my words. But I actually believe that, with the foundation set, these micro optimizations will be the easiest part, and performance will skyrocket from here. In any case, we&#x27;ll keep working on making it better, and reporting the progress as milestones are reached.</div><br/><div id="40392811" class="c"><input type="checkbox" id="c-40392811" checked=""/><div class="controls bullet"><span class="by">vrmiguel</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392519">parent</a><span>|</span><a href="#40392658">next</a><span>|</span><label class="collapse" for="c-40392811">[-]</label><label class="expand" for="c-40392811">[26 more]</label></div><br/><div class="children"><div class="content">&gt; it is allocating 2 IC nodes for each numeric operation, while Python is not<p>While that&#x27;s true, Python would be using big integers (PyLongObject) for most of the computations, meaning every number gets allocated on the heap.<p>If we use a Python implementation that would avoid this, like PyPy or Cython, the results change significantly:<p><pre><code>    % cat sum.py 
    def sum(depth, x):
        if depth == 0:
            return x
        else:
            fst = sum(depth-1, x*2+0) # adds the fst half
            snd = sum(depth-1, x*2+1) # adds the snd half
        return fst + snd

    if __name__ == &#x27;__main__&#x27;:
        print(sum(30, 0))

    % time pypy sum.py
    576460751766552576
    pypy sum.py  4.26s user 0.06s system 96% cpu 4.464 total
</code></pre>
That&#x27;s on an M2 Pro. I also imagine the result in Bend would not be correct since it only supports 24 bit integers, meaning it&#x27;d overflow quite quickly when summing up to 2^30, is that right?<p>[Edit: just noticed the previous comment had already mentioned pypy]<p>&gt; I&#x27;m aware it is 2x slower on non-Apple CPUs.<p>Do you know why? As far as I can tell, HVM has no aarch64&#x2F;Apple-specific code. Could it be because Apple Silicon has wider decode blocks?<p>&gt; can be underwhelming, and I understand if you don&#x27;t believe on my words<p>I don&#x27;t think anyone wants to rain on your parade, but extraordinary claims require extraordinary evidence.<p>The work you&#x27;ve done in Bend and HVM sounds impressive, but I feel the benchmarks need more evaluation&#x2F;scrutiny. Since your main competitor would be Mojo and not Python, comparisons to Mojo would be nice as well.</div><br/><div id="40392932" class="c"><input type="checkbox" id="c-40392932" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392811">parent</a><span>|</span><a href="#40392658">next</a><span>|</span><label class="collapse" for="c-40392932">[-]</label><label class="expand" for="c-40392932">[25 more]</label></div><br/><div class="children"><div class="content">The only claim I made is that it scales linearly with cores. Nothing else!<p>I&#x27;m personally putting a LOT of effort to make our claims as accurate and truthful as possible, in every single place. Documentation, website, demos. I spent hours in meetings to make sure everything is correct. Yet, sometimes it feels that no matter how much effort I put, people will just find ways to misinterpret it.<p>We published the real benchmarks, checked and double checked. And then you complained some benchmarks are not so good. Which we acknowledged, and provided causes, and how we plan to address them. And then you said the benchmarks need more evaluation? How does that make sense in the context of them being underwhelming?<p>We&#x27;re not going to compare to Mojo or other languages, specifically because it generates hate.<p>Our only claim is:<p>HVM2 is the first version of our Interaction Combinator evaluator that runs with linear speedup on GPUs. Running closures on GPUs required <i>colossal</i> amount of correctness work, and we&#x27;re reporting this milestone. Moreover, we finally managed to compile a Python-like language to it. That is all that is being claimed, and nothing else. The codegen is still abysmal and single-core performance is bad - that&#x27;s our next focus. If anything else was claimed, it wasn&#x27;t us!</div><br/><div id="40397494" class="c"><input type="checkbox" id="c-40397494" checked=""/><div class="controls bullet"><span class="by">quikoa</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40393948">next</a><span>|</span><label class="collapse" for="c-40397494">[-]</label><label class="expand" for="c-40397494">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps you can add: &quot;The codegen is still abysmal and single-core performance is bad - that&#x27;s our next focus.&quot; as a disclaimer on the main page&#x2F;videos&#x2F;etc. This provides more context about what you claim and also very important what you don&#x27;t (yet) claim.</div><br/></div></div><div id="40393948" class="c"><input type="checkbox" id="c-40393948" checked=""/><div class="controls bullet"><span class="by">jonahx</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40397494">prev</a><span>|</span><a href="#40393241">next</a><span>|</span><label class="collapse" for="c-40393948">[-]</label><label class="expand" for="c-40393948">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I spent hours in meetings to make sure everything is correct. Yet, sometimes it feels that no matter how much effort I put, people will just find ways to misinterpret it.<p>from reply below:<p>&gt; I apologize if I got defensive, it is just that I put so much effort on being truthful, double-checking, putting disclaimers everywhere about every possible misinterpretation.<p>I just want to say: don&#x27;t stop.  There will always be some people who don&#x27;t notice or acknowledge the effort to be precise and truthful.  But others will.  For me, this attitude elevates the project to something I will be watching.</div><br/></div></div><div id="40393241" class="c"><input type="checkbox" id="c-40393241" checked=""/><div class="controls bullet"><span class="by">vrmiguel</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40393948">prev</a><span>|</span><a href="#40397285">next</a><span>|</span><label class="collapse" for="c-40393241">[-]</label><label class="expand" for="c-40393241">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s true, you never mentioned Python or alternatives in your README, I guess I got Mandela&#x27;ed from the comments in Hacker News, so my bad on that.<p>People are naturally going to compare the timings and function you cite to what&#x27;s available to the community right now, though,  that&#x27;s the only way we can picture its performance in real-life tasks.<p>&gt; Mojo or other languages, specifically because it generates hate<p>Mojo launched comparing itself to Python and didn&#x27;t generate much hate, it seems, but I digress<p>In any case, I hope Bend and HVM can continue to improve even further, it&#x27;s always nice to see projects like those, specially from another Brazilian</div><br/><div id="40393367" class="c"><input type="checkbox" id="c-40393367" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393241">parent</a><span>|</span><a href="#40397285">next</a><span>|</span><label class="collapse" for="c-40393367">[-]</label><label class="expand" for="c-40393367">[3 more]</label></div><br/><div class="children"><div class="content">Thanks, and I apologize if I got defensive, it is just that I put so much effort on being truthful, double-checking, putting disclaimers everywhere about every possible misinterpretation. Hell this is behind install instructions:<p>&gt; our code gen is still on its infancy, and is nowhere as mature as SOTA compilers like GCC and GHC<p>Yet people still misinterpret. It is frustrating because I don&#x27;t know what I could&#x27;ve done better</div><br/><div id="40393745" class="c"><input type="checkbox" id="c-40393745" checked=""/><div class="controls bullet"><span class="by">alfalfasprout</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393367">parent</a><span>|</span><a href="#40394946">next</a><span>|</span><label class="collapse" for="c-40393745">[-]</label><label class="expand" for="c-40393745">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t worry about it. Keep at it, this is a very cool project.<p>FWIW on HN people are inherently going to try to actually use your project and so if it&#x27;s meant to be (long term) a faster way to run X people evaluate it against that implicit benchmark.</div><br/></div></div><div id="40394946" class="c"><input type="checkbox" id="c-40394946" checked=""/><div class="controls bullet"><span class="by">jhawleypeters</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393367">parent</a><span>|</span><a href="#40393745">prev</a><span>|</span><a href="#40397285">next</a><span>|</span><label class="collapse" for="c-40394946">[-]</label><label class="expand" for="c-40394946">[1 more]</label></div><br/><div class="children"><div class="content">Introducing novel ideas and making strong statements will almost always generate some anger and denial.<p><a href="https:&#x2F;&#x2F;paulgraham.com&#x2F;useful.html" rel="nofollow">https:&#x2F;&#x2F;paulgraham.com&#x2F;useful.html</a></div><br/></div></div></div></div></div></div><div id="40397285" class="c"><input type="checkbox" id="c-40397285" checked=""/><div class="controls bullet"><span class="by">mcintyre1994</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40393241">prev</a><span>|</span><a href="#40394684">next</a><span>|</span><label class="collapse" for="c-40397285">[-]</label><label class="expand" for="c-40397285">[1 more]</label></div><br/><div class="children"><div class="content">Naive question: do you expect the linear scaling to hold with those optimisations to single core performance, or would performance diverge from linear there pending further research advancements?</div><br/></div></div><div id="40394684" class="c"><input type="checkbox" id="c-40394684" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40397285">prev</a><span>|</span><a href="#40394535">next</a><span>|</span><label class="collapse" for="c-40394684">[-]</label><label class="expand" for="c-40394684">[2 more]</label></div><br/><div class="children"><div class="content">Identifying what&#x27;s parallelizable is valuable in the world of language theory, but pure functional languages are as trivial as it gets, so that research isn&#x27;t exactly ground-breaking.<p>And you&#x27;re just not fast enough for anyone doing HPC, where the problem is not identifying what can be parallelized, but figuring out to make the most of the hardware, i.e. the codegen.</div><br/><div id="40395558" class="c"><input type="checkbox" id="c-40395558" checked=""/><div class="controls bullet"><span class="by">Oranguru</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394684">parent</a><span>|</span><a href="#40394535">next</a><span>|</span><label class="collapse" for="c-40395558">[-]</label><label class="expand" for="c-40395558">[1 more]</label></div><br/><div class="children"><div class="content">This approach is valuable because it abstracts away certain complexities for the user, allowing them to focus on the code itself. I found it especially beneficial for users who are not willing to learn functional languages or parallelize code in imperative languages. HPC specialists might not be the current target audience, and code generation can always be improved over time, and I trust based on the dev comments that it will be.</div><br/></div></div></div></div><div id="40394535" class="c"><input type="checkbox" id="c-40394535" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40394684">prev</a><span>|</span><a href="#40396382">next</a><span>|</span><label class="collapse" for="c-40394535">[-]</label><label class="expand" for="c-40394535">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m personally putting a LOT of effort to make our claims as accurate and truthful as possible, in every single place<p>Thank you. I understand in such an early irritation of a language there are going to be lots of bugs.<p>This seems like a very, very cool project and I really hope it or something like it is successful at making utilizing the GPU less cumbersome.</div><br/></div></div><div id="40396382" class="c"><input type="checkbox" id="c-40396382" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40394535">prev</a><span>|</span><a href="#40393054">next</a><span>|</span><label class="collapse" for="c-40396382">[-]</label><label class="expand" for="c-40396382">[1 more]</label></div><br/><div class="children"><div class="content">The claim from the website is &quot;automatically achieves near-ideal speedup&quot;.</div><br/></div></div><div id="40393054" class="c"><input type="checkbox" id="c-40393054" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40396382">prev</a><span>|</span><a href="#40393073">next</a><span>|</span><label class="collapse" for="c-40393054">[-]</label><label class="expand" for="c-40393054">[7 more]</label></div><br/><div class="children"><div class="content"><i>The only claim I made is that it scales linearly with cores. Nothing else!</i><p>The other link on the front page says:<p>&quot;Welcome to the Parallel Future of Computation&quot;</div><br/><div id="40393249" class="c"><input type="checkbox" id="c-40393249" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393054">parent</a><span>|</span><a href="#40393073">next</a><span>|</span><label class="collapse" for="c-40393249">[-]</label><label class="expand" for="c-40393249">[6 more]</label></div><br/><div class="children"><div class="content">Scaling with cores is synonym of parallel.</div><br/><div id="40394258" class="c"><input type="checkbox" id="c-40394258" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393249">parent</a><span>|</span><a href="#40393073">next</a><span>|</span><label class="collapse" for="c-40394258">[-]</label><label class="expand" for="c-40394258">[5 more]</label></div><br/><div class="children"><div class="content">&quot;Future&quot; has some mild speed implications but it sounds like you&#x27;re doing reasonably there, bug nonwithstanding.</div><br/><div id="40394476" class="c"><input type="checkbox" id="c-40394476" checked=""/><div class="controls bullet"><span class="by">singhblom</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394258">parent</a><span>|</span><a href="#40394484">next</a><span>|</span><label class="collapse" for="c-40394476">[-]</label><label class="expand" for="c-40394476">[2 more]</label></div><br/><div class="children"><div class="content">It also has &quot;Not yet&quot; implications ...</div><br/><div id="40396371" class="c"><input type="checkbox" id="c-40396371" checked=""/><div class="controls bullet"><span class="by">cjbgkagh</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394476">parent</a><span>|</span><a href="#40394484">next</a><span>|</span><label class="collapse" for="c-40396371">[-]</label><label class="expand" for="c-40396371">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always taken &#x27;Welcome to the Future&#x27; as the thing being presented is futuristic and exists now in the present. Not &#x27;in the future we will welcome you to the future&#x27; - while that is a nice sentiment it&#x27;s utterly useless. To point out the obvious - of course futuristic things exist in the future and of course I have to wait for the future to happen.</div><br/></div></div></div></div><div id="40394484" class="c"><input type="checkbox" id="c-40394484" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394258">parent</a><span>|</span><a href="#40394476">prev</a><span>|</span><a href="#40393073">next</a><span>|</span><label class="collapse" for="c-40394484">[-]</label><label class="expand" for="c-40394484">[2 more]</label></div><br/><div class="children"><div class="content">But it literally says we believe it is the future of parallel computing! If it was faster than GCC today, we would&#x27;ve written present :&#x27;)</div><br/><div id="40396247" class="c"><input type="checkbox" id="c-40396247" checked=""/><div class="controls bullet"><span class="by">EgoIncarnate</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394484">parent</a><span>|</span><a href="#40393073">next</a><span>|</span><label class="collapse" for="c-40396247">[-]</label><label class="expand" for="c-40396247">[1 more]</label></div><br/><div class="children"><div class="content">I think people might interpret something claiming to be the &quot;Future of Parallel Computing&quot; as something that is just waiting on adoption. Perhaps &quot;Towards the Future of Parallel Computing&quot;...</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40393073" class="c"><input type="checkbox" id="c-40393073" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392932">parent</a><span>|</span><a href="#40393054">prev</a><span>|</span><a href="#40392658">next</a><span>|</span><label class="collapse" for="c-40393073">[-]</label><label class="expand" for="c-40393073">[6 more]</label></div><br/><div class="children"><div class="content">I think the issue is that there is the <i>implicit</i> claim that this is faster than some alternative. Otherwise what&#x27;s the point?<p>If you add some disclaimer like &quot;Note: Bend is currently focused on correctness and scaling. On an absolute scale it may still be slower than single threaded Python. We plan to improve the absolute performance soon.&quot; then you won&#x27;t see these comments.<p>Also this defensive tone does not come off well:<p>&gt; We published the real benchmarks, checked and double checked. And then you complained some benchmarks are not so good. Which we acknowledged, and provided causes, and how we plan to address them. And then you said the benchmarks need more evaluation? How does that make sense in the context of them being underwhelming?</div><br/><div id="40393299" class="c"><input type="checkbox" id="c-40393299" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393073">parent</a><span>|</span><a href="#40393274">next</a><span>|</span><label class="collapse" for="c-40393299">[-]</label><label class="expand" for="c-40393299">[4 more]</label></div><br/><div class="children"><div class="content">Right below install instructions, on Bend&#x27;s README.md:<p>&gt; But keep in mind our code gen is still on its infancy, and is nowhere as mature as SOTA compilers like GCC and GHC.<p>Second paragraph of Bend&#x27;s GUIDE.md:<p>&gt; While cool, Bend is far from perfect. In absolute terms it is still not so fast. Compared to SOTA compilers like GCC or GHC, our code gen is still embarrassingly bad, and there is a lot to improve. That said, it does what it promises: scaling horizontally with cores.<p>Limitations session on HVM2&#x27;s paper:<p>&gt; While HVM2 achieves near-linear speedup, its compiler is still extremely immature, and not nearly as fast as state-of-art alternatives like GCC of GHC. In single-thread CPU evaluation, HVM2, is still about 5x slower than GHC, and this number can grow to 100x on programs that involve loops and mutable arrays, since HVM2 doesn’t feature these yet.</div><br/><div id="40394163" class="c"><input type="checkbox" id="c-40394163" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40393299">parent</a><span>|</span><a href="#40393274">next</a><span>|</span><label class="collapse" for="c-40394163">[-]</label><label class="expand" for="c-40394163">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Right below install instructions<p>Yeah exactly. I read most of the readme and watched the demo, but I&#x27;m not interested in installing it so I missed this. I would recommend moving this to the first section in its own paragraph.<p>I understand you might not want to focus on this but it&#x27;s important information and not a bad thing at all.</div><br/><div id="40394273" class="c"><input type="checkbox" id="c-40394273" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394163">parent</a><span>|</span><a href="#40393274">next</a><span>|</span><label class="collapse" for="c-40394273">[-]</label><label class="expand" for="c-40394273">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great feedback actually, thank you.<p>We&#x27;ll add the disclaimer before the install instructions instead!</div><br/><div id="40396169" class="c"><input type="checkbox" id="c-40396169" checked=""/><div class="controls bullet"><span class="by">presentation</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394273">parent</a><span>|</span><a href="#40393274">next</a><span>|</span><label class="collapse" for="c-40396169">[-]</label><label class="expand" for="c-40396169">[1 more]</label></div><br/><div class="children"><div class="content">Relatedly, the homepage itself doesnt make it obvious it’s still alpha, or not ready, or not actually going to speed up your code this moment - claims like “automatically achieves near-ideal speedup, up to 1000+ threads” - the point is that it parallelizes code, but the word speedup makes it sound like my code will get 1000x faster.<p>I think you can avoid this kind of criticism by setting expectations better - just plastering a banner at the top saying that it’s in early stage development and not optimized, but that the future is bright, for example. The current headline saying it’s the “parallel future of computation” isn’t really enough to make people understand that the future isn’t here yet.<p>Same goes for the README, the fact that it’s not production ready per-se really ought to be at the top to set people’s expectations properly IMO, since a lot of people will not read the whole wall of text and just jump straight into trying it out once they’re on your GitHub page.<p>They’re critical since they are led to have much higher expectations than what actually exists today.<p>That said, this is a cool project and wish you the best in making it really good!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="40392658" class="c"><input type="checkbox" id="c-40392658" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392519">parent</a><span>|</span><a href="#40392811">prev</a><span>|</span><a href="#40392925">next</a><span>|</span><label class="collapse" for="c-40392658">[-]</label><label class="expand" for="c-40392658">[1 more]</label></div><br/><div class="children"><div class="content">Bitonic sort runs in 0m2.035s.  Transpiled to c and compiled it takes 0m0.425s.<p>that sum example, transpiled to C and compiled takes 1m12.704s, so it looks like it&#x27;s just the VM case that is having serious issues of some description!</div><br/></div></div></div></div><div id="40392925" class="c"><input type="checkbox" id="c-40392925" checked=""/><div class="controls bullet"><span class="by">glitchc</span><span>|</span><a href="#40392233">parent</a><span>|</span><a href="#40392519">prev</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40392925">[-]</label><label class="expand" for="c-40392925">[12 more]</label></div><br/><div class="children"><div class="content">I have no dog in this fight, but feel compelled to defend the authors here. Recursion does not test compute, rather it tests the compiler&#x27;s&#x2F;interpreter&#x27;s efficiency at standing up and tearing down the call stack.<p>Clearly this language is positioned at using the gpu for compute-heavy applications and it&#x27;s still in its early stages. Recursion is not the target application and should not be a relevant benchmark.</div><br/><div id="40394313" class="c"><input type="checkbox" id="c-40394313" checked=""/><div class="controls bullet"><span class="by">light_hue_1</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40392925">parent</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40394313">[-]</label><label class="expand" for="c-40394313">[11 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the author&#x27;s own benchmark, but it shows the system doesn&#x27;t work. Recursion isn&#x27;t hard to eliminate for pure functions; there&#x27;s nothing inherently wrong with it.<p>The authors made obviously false claims. That this is an extremely fast implementation. When it&#x27;s not. That&#x27;s really poor form.</div><br/><div id="40394979" class="c"><input type="checkbox" id="c-40394979" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394313">parent</a><span>|</span><a href="#40394354">next</a><span>|</span><label class="collapse" for="c-40394979">[-]</label><label class="expand" for="c-40394979">[2 more]</label></div><br/><div class="children"><div class="content">Okay, no. I know I called out performance in my post, but that was just from my observations.  It surprised me to see something be that much slower than pure python.  If you show me a near-python code example in a new language, as someone who mostly writes python code, I&#x27;m going to go and write it in python and see how it compares performance wise.<p>The authors never made any kind of false claims at all.  You&#x27;re reading a lot in to both their README and my post.<p>They&#x27;ve updated the README for a bit of clarity, but even re-reading the README as it was when I looked this morning (and even a few from before) it hasn&#x27;t claimed to be fast.  The claims are all related to the features that it does have, around parallelisation.</div><br/><div id="40395062" class="c"><input type="checkbox" id="c-40395062" checked=""/><div class="controls bullet"><span class="by">light_hue_1</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394979">parent</a><span>|</span><a href="#40394354">next</a><span>|</span><label class="collapse" for="c-40395062">[-]</label><label class="expand" for="c-40395062">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t get it. Are people on HN so completely ignorant of even the most basic CS101 concepts?<p>That&#x27;s not how complexity theory works at all. If your constants are massive you can make anything look like it scales well.<p>Imagine a compiler that adds in a very large sleep that&#x27;s inversely proportional to the number of cores. There you go. My compiler now emits code that scales linearly. Of course it&#x27;s very slow. Where do I pick up my Turing award?<p>I never thought that CS education was this bad.</div><br/></div></div></div></div><div id="40394354" class="c"><input type="checkbox" id="c-40394354" checked=""/><div class="controls bullet"><span class="by">rowanG077</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394313">parent</a><span>|</span><a href="#40394979">prev</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40394354">[-]</label><label class="expand" for="c-40394354">[8 more]</label></div><br/><div class="children"><div class="content">Where did he claim it is fast? As far as I can see the only claim is that it scales linearly with cores. Which it actually seems to do.</div><br/><div id="40394421" class="c"><input type="checkbox" id="c-40394421" checked=""/><div class="controls bullet"><span class="by">light_hue_1</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394354">parent</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40394421">[-]</label><label class="expand" for="c-40394421">[7 more]</label></div><br/><div class="children"><div class="content">They show benchmarks with massive performance improvements. That clearly implies that the system is fast. Where&#x27;s the disclaimer that this performance is worse than Python but eats up an entire massive GPU?<p>The readme is also blatantly lies: &quot;It is not the kind of algorithm you&#x27;d expect to run fast on GPUs.&quot; Bitonic sort on GPUs is a thing and it performs well.<p>The gaslighting is just amazing here.</div><br/><div id="40395385" class="c"><input type="checkbox" id="c-40395385" checked=""/><div class="controls bullet"><span class="by">flockonus</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394421">parent</a><span>|</span><a href="#40396294">next</a><span>|</span><label class="collapse" for="c-40395385">[-]</label><label class="expand" for="c-40395385">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll give you the benefit of the doubt in case README changed, but here&#x27;s the benchmark it claims, currently, against it&#x27;s own execution modes:<p>CPU, Apple M3 Max, 1 thread: 12.15 seconds<p>CPU, Apple M3 Max, 16 threads: 0.96 seconds<p>GPU, NVIDIA RTX 4090, 16k threads: 0.21 seconds<p>The README mentions &quot;fast&quot; in 2 places, none of which is comparing to other languages.</div><br/></div></div><div id="40396294" class="c"><input type="checkbox" id="c-40396294" checked=""/><div class="controls bullet"><span class="by">EgoIncarnate</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394421">parent</a><span>|</span><a href="#40395385">prev</a><span>|</span><a href="#40394706">next</a><span>|</span><label class="collapse" for="c-40396294">[-]</label><label class="expand" for="c-40396294">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re missing some context, it&#x27;s not bitonic sort itself that would present an issue with GPUs, it&#x27;s the &quot;with immutable tree rotations&quot; part, which in a naive implementation would imply some kind of memory management that would have trouble scaling to thousands of cores.</div><br/></div></div><div id="40394706" class="c"><input type="checkbox" id="c-40394706" checked=""/><div class="controls bullet"><span class="by">rowanG077</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394421">parent</a><span>|</span><a href="#40396294">prev</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40394706">[-]</label><label class="expand" for="c-40394706">[4 more]</label></div><br/><div class="children"><div class="content">Yes and those benchmarks are real. Showing linear speed up in the number cores when writing standard code is a real achievement. If you assumed that somehow means this is a state of the art compiler with super blazing performance is on no one but you. The readme lays it out very clearly.</div><br/><div id="40394996" class="c"><input type="checkbox" id="c-40394996" checked=""/><div class="controls bullet"><span class="by">light_hue_1</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394706">parent</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40394996">[-]</label><label class="expand" for="c-40394996">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m astounded by the level of ignorance of basic CS101 principles shown in this thread. You&#x27;ve clearly never taken a class on parallel computing or complexity theory? Geez. HN is decaying.</div><br/><div id="40395492" class="c"><input type="checkbox" id="c-40395492" checked=""/><div class="controls bullet"><span class="by">ewild</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40394996">parent</a><span>|</span><a href="#40396573">next</a><span>|</span><label class="collapse" for="c-40395492">[-]</label><label class="expand" for="c-40395492">[2 more]</label></div><br/><div class="children"><div class="content">the irony in you blasting all over this thread is that you dont know how it even works. You have 0 idea if their claims of scaling linearly are causing bottlenecks in other places as you state, if you read actual docs on this its clear that the actaul &quot;compiler&quot; part of the compiler was put on the backburner while the parallellization was figured out and as that is now done a bunch of optimizations will come in the next year</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="40396573" class="c"><input type="checkbox" id="c-40396573" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#40392233">parent</a><span>|</span><a href="#40392925">prev</a><span>|</span><a href="#40395872">next</a><span>|</span><label class="collapse" for="c-40396573">[-]</label><label class="expand" for="c-40396573">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Thread&quot; term in GPUs and CPUs mean different things, it&#x27;s more like a SIMD lane in GPUs. A bit like ISPC can compile your code so there&#x27;s eg 32 invocations of your function per CPU thread running on the same time (if you&#x27;re using 16-bit datums on AVX512), and you could have 2048 executions going on after multiplying up 32 cores * 2 SMT threads&#x2F;core * 32 compiler executions.</div><br/></div></div><div id="40395872" class="c"><input type="checkbox" id="c-40395872" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#40392233">parent</a><span>|</span><a href="#40396573">prev</a><span>|</span><a href="#40395867">next</a><span>|</span><label class="collapse" for="c-40395872">[-]</label><label class="expand" for="c-40395872">[2 more]</label></div><br/><div class="children"><div class="content">Why `+0`, is this not a pointless no-op?</div><br/><div id="40396730" class="c"><input type="checkbox" id="c-40396730" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#40392233">root</a><span>|</span><a href="#40395872">parent</a><span>|</span><a href="#40395867">next</a><span>|</span><label class="collapse" for="c-40396730">[-]</label><label class="expand" for="c-40396730">[1 more]</label></div><br/><div class="children"><div class="content">Yes, but when looking at the source it&#x27;s more obvious this is a repeating pattern.<p>&quot;Hey, I&#x27;m accessing the 0th element here, just want to make that clear&quot;<p>Without the +0, that statement looks disconnected from the +1 even though conceptually its the same.<p>Say somebody adds some special marker&#x2F;tombstone&#x2F;whatever into element 0 and now all those additions need to be bumped up by one. Someone else may go and see the +1, +2, +3 and just change them to +2, +3 +4, etc while completely missing the lone variable by itself as its visually dissimilar.<p>Ive usually seen it used in longer lists of statements. It also keeps everything lined up formatting wise.</div><br/></div></div></div></div></div></div><div id="40393011" class="c"><input type="checkbox" id="c-40393011" checked=""/><div class="controls bullet"><span class="by">vegadw</span><span>|</span><a href="#40392233">prev</a><span>|</span><a href="#40393253">next</a><span>|</span><label class="collapse" for="c-40393011">[-]</label><label class="expand" for="c-40393011">[4 more]</label></div><br/><div class="children"><div class="content">A lot of negativity in these threads. I say ~cudas~ kudos to the author for getting this far! The only similar project I&#x27;m aware of is Futhark, and that&#x27;s haskell-y syntax - great for some people, but to the general class of C&#x2F;C++&#x2F;Python&#x2F;Js&#x2F;Java&#x2F;etc. devs pretty arcane and hard to work with. My biggest complaint with this is, unlike Futhark, it only targets Cuda or multi-core. Futhark which can target OpenCL, Cuda, ISPC, HIP, sigle core CPU, or multi core CPU. The performance problems others are pointing out I&#x27;m certain can be tackled.</div><br/><div id="40396652" class="c"><input type="checkbox" id="c-40396652" checked=""/><div class="controls bullet"><span class="by">MarcusE1W</span><span>|</span><a href="#40393011">parent</a><span>|</span><a href="#40393752">next</a><span>|</span><label class="collapse" for="c-40396652">[-]</label><label class="expand" for="c-40396652">[1 more]</label></div><br/><div class="children"><div class="content">ParaSail also goes into that direction <a href="https:&#x2F;&#x2F;github.com&#x2F;parasail-lang&#x2F;parasail">https:&#x2F;&#x2F;github.com&#x2F;parasail-lang&#x2F;parasail</a>.<p>Made by the designer for Ada since 1995, Tucker Taft. Some of the parallel features of ParaSail made it into Ada 2022.</div><br/></div></div><div id="40393752" class="c"><input type="checkbox" id="c-40393752" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#40393011">parent</a><span>|</span><a href="#40396652">prev</a><span>|</span><a href="#40393958">next</a><span>|</span><label class="collapse" for="c-40393752">[-]</label><label class="expand" for="c-40393752">[1 more]</label></div><br/><div class="children"><div class="content">Chapel has a decent use in HPC.<p>Also NVidia has sponsored variants of Haskell, .NET, Java, Julia on CUDA, have a Python JIT and are collaborating with Mojo folks.</div><br/></div></div><div id="40393958" class="c"><input type="checkbox" id="c-40393958" checked=""/><div class="controls bullet"><span class="by">neonsunset</span><span>|</span><a href="#40393011">parent</a><span>|</span><a href="#40393752">prev</a><span>|</span><a href="#40393253">next</a><span>|</span><label class="collapse" for="c-40393958">[-]</label><label class="expand" for="c-40393958">[1 more]</label></div><br/><div class="children"><div class="content">Take a look at ILGPU. It&#x27;s very nice and has been around for a long time! (just no one knows about it, sadly)<p>Short example: <a href="https:&#x2F;&#x2F;github.com&#x2F;m4rs-mt&#x2F;ILGPU&#x2F;blob&#x2F;master&#x2F;Samples&#x2F;SimpleMath&#x2F;Program.cs">https:&#x2F;&#x2F;github.com&#x2F;m4rs-mt&#x2F;ILGPU&#x2F;blob&#x2F;master&#x2F;Samples&#x2F;SimpleM...</a><p>Supports even advanced bits like inline PTX assembly: <a href="https:&#x2F;&#x2F;github.com&#x2F;m4rs-mt&#x2F;ILGPU&#x2F;blob&#x2F;master&#x2F;Samples&#x2F;InlinePTXAssembly&#x2F;Program.cs">https:&#x2F;&#x2F;github.com&#x2F;m4rs-mt&#x2F;ILGPU&#x2F;blob&#x2F;master&#x2F;Samples&#x2F;InlineP...</a></div><br/></div></div></div></div><div id="40393253" class="c"><input type="checkbox" id="c-40393253" checked=""/><div class="controls bullet"><span class="by">CorrectingYou</span><span>|</span><a href="#40393011">prev</a><span>|</span><a href="#40393660">next</a><span>|</span><label class="collapse" for="c-40393253">[-]</label><label class="expand" for="c-40393253">[14 more]</label></div><br/><div class="children"><div class="content">OP comes around with some of the coolest things posted in HN recently, and all he gets is extensive criticism, when it is clear that this is an early version :&#x2F;</div><br/><div id="40396296" class="c"><input type="checkbox" id="c-40396296" checked=""/><div class="controls bullet"><span class="by">imranq</span><span>|</span><a href="#40393253">parent</a><span>|</span><a href="#40396414">next</a><span>|</span><label class="collapse" for="c-40396296">[-]</label><label class="expand" for="c-40396296">[1 more]</label></div><br/><div class="children"><div class="content">I think HN is a community where people want to post something novel or new. When someone wants to post a kudos, most likely they&#x27;ll upvote someone else instead of posting yet another &quot;awesome job&quot; (even if it is certainly warranted). Criticism instead can be endlessly diverse since there&#x27;s usually only limited number ways to get it right, but plenty to get wrong.<p>In the end, HN comments fall prey to this truth and you see a handful of positive comments, with the majority being criticisms or &quot;I wish this did X&quot;. No one person is to blame. Its just the culture of technologists today.</div><br/></div></div><div id="40396414" class="c"><input type="checkbox" id="c-40396414" checked=""/><div class="controls bullet"><span class="by">eating555</span><span>|</span><a href="#40393253">parent</a><span>|</span><a href="#40396296">prev</a><span>|</span><a href="#40394764">next</a><span>|</span><label class="collapse" for="c-40396414">[-]</label><label class="expand" for="c-40396414">[3 more]</label></div><br/><div class="children"><div class="content">I would be pretty appreciated if people criticize my project. That is how you grow. If people tend hide cruel truth behind applause, the world would just crumbled.</div><br/><div id="40396704" class="c"><input type="checkbox" id="c-40396704" checked=""/><div class="controls bullet"><span class="by">diego_sandoval</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40396414">parent</a><span>|</span><a href="#40396853">next</a><span>|</span><label class="collapse" for="c-40396704">[-]</label><label class="expand" for="c-40396704">[1 more]</label></div><br/><div class="children"><div class="content">My observation is that most criticism is useless, because people don&#x27;t understand why you did things the way you did them.<p>If you explain why, they either still don&#x27;t understand, or don&#x27;t agree.<p>If the first iPhone had been presented on HN&#x2F;Reddit&#x2F;Twitter, everyone would criticize the lack of physical keyboard.</div><br/></div></div><div id="40396853" class="c"><input type="checkbox" id="c-40396853" checked=""/><div class="controls bullet"><span class="by">robocat</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40396414">parent</a><span>|</span><a href="#40396704">prev</a><span>|</span><a href="#40394764">next</a><span>|</span><label class="collapse" for="c-40396853">[-]</label><label class="expand" for="c-40396853">[1 more]</label></div><br/><div class="children"><div class="content">What you appreciate has little to do with whether we should assume others are thick-skinned. If someone has always been knocked down they will struggle to positively accept criticism regardless of how well meant it might be.</div><br/></div></div></div></div><div id="40394764" class="c"><input type="checkbox" id="c-40394764" checked=""/><div class="controls bullet"><span class="by">swayvil</span><span>|</span><a href="#40393253">parent</a><span>|</span><a href="#40396414">prev</a><span>|</span><a href="#40395952">next</a><span>|</span><label class="collapse" for="c-40394764">[-]</label><label class="expand" for="c-40394764">[3 more]</label></div><br/><div class="children"><div class="content">The coolest things are often the most difficult to understand.<p>Difficult to understand is often threatening.<p>Criticism is a popular response to threat and is the form of reply that requires the least understanding.</div><br/><div id="40395170" class="c"><input type="checkbox" id="c-40395170" checked=""/><div class="controls bullet"><span class="by">riku_iki</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40394764">parent</a><span>|</span><a href="#40395952">next</a><span>|</span><label class="collapse" for="c-40395170">[-]</label><label class="expand" for="c-40395170">[2 more]</label></div><br/><div class="children"><div class="content">it also could be half cooked and that&#x27;s why criticism arrives.</div><br/><div id="40395208" class="c"><input type="checkbox" id="c-40395208" checked=""/><div class="controls bullet"><span class="by">swayvil</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40395170">parent</a><span>|</span><a href="#40395952">next</a><span>|</span><label class="collapse" for="c-40395208">[-]</label><label class="expand" for="c-40395208">[1 more]</label></div><br/><div class="children"><div class="content">Like, on a bus?</div><br/></div></div></div></div></div></div><div id="40395952" class="c"><input type="checkbox" id="c-40395952" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#40393253">parent</a><span>|</span><a href="#40394764">prev</a><span>|</span><a href="#40393660">next</a><span>|</span><label class="collapse" for="c-40395952">[-]</label><label class="expand" for="c-40395952">[6 more]</label></div><br/><div class="children"><div class="content">Correction for you - This is patently false, OP has had three hits -- this one, and two one hundred pointers out of 100-200 submissions.<p>P.s. it seems rather likely the op is Victor Taelin, they mostly submit his tweets and gists.<p>Who are <i>you</i> rooting for, exactly, newcomer?<p>P.p.s. Victor Taelin just happens to be the most recent committer on this submission, imagine that.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35363400">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35363400</a></div><br/><div id="40396029" class="c"><input type="checkbox" id="c-40396029" checked=""/><div class="controls bullet"><span class="by">foota</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40395952">parent</a><span>|</span><a href="#40396163">next</a><span>|</span><label class="collapse" for="c-40396029">[-]</label><label class="expand" for="c-40396029">[2 more]</label></div><br/><div class="children"><div class="content">We&#x27;re a bit off-topic, but there&#x27;s no requirement that your account be associated with your identity, especially when the op is pretty clearly involved with the project (as opposed to if they were claiming not to be or something).</div><br/></div></div><div id="40396299" class="c"><input type="checkbox" id="c-40396299" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40395952">parent</a><span>|</span><a href="#40396163">prev</a><span>|</span><a href="#40393660">next</a><span>|</span><label class="collapse" for="c-40396299">[-]</label><label class="expand" for="c-40396299">[2 more]</label></div><br/><div class="children"><div class="content">I have no idea what you&#x27;re trying to convey, but I&#x27;m Victor Taelin. Also very cool comment on that thread, hypothesizing on whether we&#x27;d be able to ever run it on GPUs. We did it! That is what we&#x27;re announcing today.</div><br/><div id="40396351" class="c"><input type="checkbox" id="c-40396351" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#40393253">root</a><span>|</span><a href="#40396299">parent</a><span>|</span><a href="#40393660">next</a><span>|</span><label class="collapse" for="c-40396351">[-]</label><label class="expand" for="c-40396351">[1 more]</label></div><br/><div class="children"><div class="content">Great, thanks for clarifying.</div><br/></div></div></div></div></div></div></div></div><div id="40393660" class="c"><input type="checkbox" id="c-40393660" checked=""/><div class="controls bullet"><span class="by">andrewp123</span><span>|</span><a href="#40393253">prev</a><span>|</span><a href="#40392067">next</a><span>|</span><label class="collapse" for="c-40393660">[-]</label><label class="expand" for="c-40393660">[2 more]</label></div><br/><div class="children"><div class="content">I just wanted to comment on how good the homepage is - it&#x27;s immediately clear what you do. Most people working with &quot;combinators&quot; would feel a need to use lots of scary lingo, but OP actually shows the simple idea behind the tool (this is the opposite take of most academics, who instead show every last detail and never tell you what&#x27;s going on). I really appreciate it - we need more of this.</div><br/><div id="40395796" class="c"><input type="checkbox" id="c-40395796" checked=""/><div class="controls bullet"><span class="by">topspin</span><span>|</span><a href="#40393660">parent</a><span>|</span><a href="#40392067">next</a><span>|</span><label class="collapse" for="c-40395796">[-]</label><label class="expand" for="c-40395796">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m ashamed that I didn&#x27;t think to write this.  Well deserved praise.</div><br/></div></div></div></div><div id="40392067" class="c"><input type="checkbox" id="c-40392067" checked=""/><div class="controls bullet"><span class="by">delu</span><span>|</span><a href="#40393660">prev</a><span>|</span><a href="#40397130">next</a><span>|</span><label class="collapse" for="c-40392067">[-]</label><label class="expand" for="c-40392067">[4 more]</label></div><br/><div class="children"><div class="content">Ten years ago, I took a course on parallel algorithms (15-210 at CMU). It pitched parallelism as the future of computing as Moore&#x27;s law would hit inevitable limits. I was sold and I was excited to experiment with it. Unfortunately, there weren&#x27;t many options for general parallel programming. Even the language we used for class (SML) wasn&#x27;t parallel (there was a section at the end about using extensions and CUDA but it was limited from what I recall).<p>Since then, I was able to make some experiments with multithreading (thanks Rust) and getting very creative with shaders (thanks Shadertoy). But a general parallel language on the GPU? I&#x27;m super excited to play with this!</div><br/><div id="40393603" class="c"><input type="checkbox" id="c-40393603" checked=""/><div class="controls bullet"><span class="by">shwestrick</span><span>|</span><a href="#40392067">parent</a><span>|</span><a href="#40394506">next</a><span>|</span><label class="collapse" for="c-40393603">[-]</label><label class="expand" for="c-40393603">[2 more]</label></div><br/><div class="children"><div class="content">Nowadays 210 is actually parallel! You can run 210-style code using MaPLe (<a href="https:&#x2F;&#x2F;github.com&#x2F;MPLLang&#x2F;mpl">https:&#x2F;&#x2F;github.com&#x2F;MPLLang&#x2F;mpl</a>) and get competitive performance with respect to C&#x2F;C++.<p>If you liked 210, you might also like <a href="https:&#x2F;&#x2F;futhark-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;futhark-lang.org&#x2F;</a> which is an ML-family language that compiles to GPU with good performance.</div><br/><div id="40394679" class="c"><input type="checkbox" id="c-40394679" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#40392067">root</a><span>|</span><a href="#40393603">parent</a><span>|</span><a href="#40394506">next</a><span>|</span><label class="collapse" for="c-40394679">[-]</label><label class="expand" for="c-40394679">[1 more]</label></div><br/><div class="children"><div class="content">Huh, the Maple name is already used by a well known computer algebra project.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Maple_(software)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Maple_(software)</a></div><br/></div></div></div></div><div id="40394506" class="c"><input type="checkbox" id="c-40394506" checked=""/><div class="controls bullet"><span class="by">Rodeoclash</span><span>|</span><a href="#40392067">parent</a><span>|</span><a href="#40393603">prev</a><span>|</span><a href="#40397130">next</a><span>|</span><label class="collapse" for="c-40394506">[-]</label><label class="expand" for="c-40394506">[1 more]</label></div><br/><div class="children"><div class="content">The trend towards multiple cores in machines was one of the reasons I decided to learn Elixir.</div><br/></div></div></div></div><div id="40397130" class="c"><input type="checkbox" id="c-40397130" checked=""/><div class="controls bullet"><span class="by">jjovan1</span><span>|</span><a href="#40392067">prev</a><span>|</span><a href="#40394814">next</a><span>|</span><label class="collapse" for="c-40397130">[-]</label><label class="expand" for="c-40397130">[1 more]</label></div><br/><div class="children"><div class="content">Why so much negativity? An angry crowd sounded more like bots trying to test OP&#x27;s intelligence by exploiting the ReadMe file imperfections while trying to change the context and intent of the post. It&#x27;s so ignorant and brutal. They spent hours arguing without taking 2 minutes to properly read the ReadMe file.OP is a one man&#x27;s show and now they all want to piss on OP. Keep going OP!</div><br/></div></div><div id="40394814" class="c"><input type="checkbox" id="c-40394814" checked=""/><div class="controls bullet"><span class="by">praetor22</span><span>|</span><a href="#40397130">prev</a><span>|</span><a href="#40392140">next</a><span>|</span><label class="collapse" for="c-40394814">[-]</label><label class="expand" for="c-40394814">[3 more]</label></div><br/><div class="children"><div class="content">Look, I understand the value proposition and how cool it is from a theoretical standpoint, but I honestly don&#x27;t think this will ever become relevant.<p>Here are some notes from my first impressions and after skimming through the paper. And yes, I am aware that this is very very early software.<p>1. Bend looks like an extremely limited DSL. No FFI. No way of interacting with raw buffers. Weird 24bit floating point format.<p>2. There&#x27;s a reason why ICs are not relevant: performance is and will always be terrible. There is no other way to put it, graph traversal simply doesn&#x27;t map well on hardware.<p>3. The premise of optimal reduction is valid. However, you still need to write the kernels in a way that can be parallelized (ie. no data dependencies, use of recursion).<p>4. There are no serious examples that directly compare Bend&#x2F;HVM code with it&#x27;s equivalent OMP&#x2F;CUDA program. How am I suppose to evaluate the reduction in implementation complexity and what to expect on performance. So many claims, so little actual comparisons.<p>5. In the real world of high performance parallel computing, tree-like structures are non-existent. Arrays are king. And that&#x27;s because of the physical nature of how memory works on a hardware level. And do you know what works best on mutable contiguous memory buffers ? Loops. We&#x27;ll see when HVM will implement this.<p>In the end, what we currently have is half-baked language that is (almost) fully isolated from external data, extremely slow, a massive abstraction on the underlying hardware (unutilised features: multilevel caches, tensor cores, simd, atomics).<p>I apologize if this comes out as harsh, I still find the technical implementation and the theoretical background to be very interesting. I&#x27;m simply not (yet) convinced of its usefulness in the real world.</div><br/><div id="40395356" class="c"><input type="checkbox" id="c-40395356" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40394814">parent</a><span>|</span><a href="#40397032">next</a><span>|</span><label class="collapse" for="c-40395356">[-]</label><label class="expand" for="c-40395356">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the feedback. Some corrections:<p>We do use multi-level caching, and you can achieve 5x higher performance by using it correctly. FFI is already implemented, just not published, because we want to release it with graphics rendering, which I think will be really cool. Haskell&#x2F;GHC uses a graph and trees too, and nobody would say it is not practical of useful. And while it is true that arrays are king, there are many SOTA algorithms that are implemented in Haskell (including compilers, type-checkers, solvers) because they do not map well to arrays at all.<p>The main reason ICs are not fast is that nobody ever has done low-level optimization work over it. All previous implementations were terribly inefficient. And my own work is too, because I spent all time so far trying to get it to run *correctly* on GPUs, which was very hard. As you said yourself, there aren&#x27;t even loops yet. So, how can we solve that? By adding the damn loops! Or do you think there is some inherent limitation preventing us to do that? If you do, you&#x27;ll be surprised.<p>HVM2 is finally a correct algorithm that scales. Now we&#x27;ll optimize it for the actual low-level performance.</div><br/></div></div><div id="40397032" class="c"><input type="checkbox" id="c-40397032" checked=""/><div class="controls bullet"><span class="by">physicsguy</span><span>|</span><a href="#40394814">parent</a><span>|</span><a href="#40395356">prev</a><span>|</span><a href="#40392140">next</a><span>|</span><label class="collapse" for="c-40397032">[-]</label><label class="expand" for="c-40397032">[1 more]</label></div><br/><div class="children"><div class="content">Re: 5, trees are fairly widely used (though not as most CS people would implement them) with Morton or H index ordering in things like the Fast Multipole and Barnes Hut algorithms which reduce O(n^2) pair wise ops to O(n) and O(n log n) respectively. BH more common in Astro, FMM in chemical molecular dynamics.</div><br/></div></div></div></div><div id="40392140" class="c"><input type="checkbox" id="c-40392140" checked=""/><div class="controls bullet"><span class="by">ziedaniel1</span><span>|</span><a href="#40394814">prev</a><span>|</span><a href="#40394488">next</a><span>|</span><label class="collapse" for="c-40392140">[-]</label><label class="expand" for="c-40392140">[22 more]</label></div><br/><div class="children"><div class="content">Very cool idea - but unless I&#x27;m missing something, this seems very slow.<p>I just wrote a simple loop in C++ to sum up 0 to 2^30. With a single thread without any optimizations it runs in 1.7s on my laptop -- matching Bend&#x27;s performance on an RTX 4090! With -O3 it vectorizes the loop to run in less than 80ms.<p><pre><code>    #include &lt;iostream&gt;

    int main() {
      int sum = 0;
      for (int i = 0; i &lt; 1024*1024*1024; i++) {
        sum += i; 
      }
      std::cout &lt;&lt; sum &lt;&lt; &quot;\n&quot;;
      return 0;
    }</code></pre></div><br/><div id="40392629" class="c"><input type="checkbox" id="c-40392629" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392140">parent</a><span>|</span><a href="#40392824">next</a><span>|</span><label class="collapse" for="c-40392629">[-]</label><label class="expand" for="c-40392629">[13 more]</label></div><br/><div class="children"><div class="content">Bend has no tail-call optimization yet. It is allocating a 1-billion long stack, while C is just looping. If you compare against a C program that does actual allocations, Bend will most likely be faster with a few threads.<p>Bend&#x27;s codegen is still abysmal, but these are all low-hanging fruits. Most of the work went into making the parallel evaluator <i>correct</i> (which is extremely hard!). I know that sounds &quot;trust me&quot;, but the single-thread performance will get much better once we start compiling procedures, generating loops, etc. It just hasn&#x27;t been done.<p>(I wonder if I should have waited a little bit more before actually posting it)</div><br/><div id="40395546" class="c"><input type="checkbox" id="c-40395546" checked=""/><div class="controls bullet"><span class="by">jay-barronville</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392629">parent</a><span>|</span><a href="#40396160">next</a><span>|</span><label class="collapse" for="c-40395546">[-]</label><label class="expand" for="c-40395546">[1 more]</label></div><br/><div class="children"><div class="content">&gt; (I wonder if I should have waited a little bit more before actually posting it)<p>No. You built something that’s pretty cool. It’s not done yet, but you’ve accomplished a lot! I’m glad you posted it. Thank you. Ignore the noise and keep cooking!</div><br/></div></div><div id="40396160" class="c"><input type="checkbox" id="c-40396160" checked=""/><div class="controls bullet"><span class="by">phkahler</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392629">parent</a><span>|</span><a href="#40395546">prev</a><span>|</span><a href="#40392789">next</a><span>|</span><label class="collapse" for="c-40396160">[-]</label><label class="expand" for="c-40396160">[2 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; Bend has no tail-call optimization yet.<p>I&#x27;ve never understood the fascination with tail calls and recursion among computer science folks. Just write a loop, it&#x27;s what it optimises to anyway.</div><br/><div id="40396773" class="c"><input type="checkbox" id="c-40396773" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40396160">parent</a><span>|</span><a href="#40392789">next</a><span>|</span><label class="collapse" for="c-40396773">[-]</label><label class="expand" for="c-40396773">[1 more]</label></div><br/><div class="children"><div class="content">Computer science traditionally focuses on algorithms. Divide-and-conquer algorithms are frequently much more clearly expressed as recursion. Quicksort is the classic example, also various tree operations.</div><br/></div></div></div></div><div id="40392789" class="c"><input type="checkbox" id="c-40392789" checked=""/><div class="controls bullet"><span class="by">nneonneo</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392629">parent</a><span>|</span><a href="#40396160">prev</a><span>|</span><a href="#40392824">next</a><span>|</span><label class="collapse" for="c-40392789">[-]</label><label class="expand" for="c-40392789">[9 more]</label></div><br/><div class="children"><div class="content">If they’re low-hanging fruit, why not do that before posting about it publicly? All that happens is that you push yourself into a nasty situation: people get a poor first impression of the system and are less likely to trust you the second time around, and in the (possibly unlikely) event that the problems turn out to be harder than you expect, you wind up in the really nasty situation of having to deal with failed expectations and pressure to fix them quickly.</div><br/><div id="40392988" class="c"><input type="checkbox" id="c-40392988" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392789">parent</a><span>|</span><a href="#40392863">next</a><span>|</span><label class="collapse" for="c-40392988">[-]</label><label class="expand" for="c-40392988">[1 more]</label></div><br/><div class="children"><div class="content">I agree with you. But then there&#x27;s the entire &quot;release fast, don&#x27;t wait before it is perfect&quot;. And, then, there&#x27;s the case that people using it will guide us to iteratively building what is needed. I&#x27;m still trying to find that balance, it isn&#x27;t so easy. This release comes right after we finally managed to compile it to GPUs, which is a huge milestone people could care about - but there are almost no micro-optimizations.</div><br/></div></div><div id="40392863" class="c"><input type="checkbox" id="c-40392863" checked=""/><div class="controls bullet"><span class="by">naasking</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392789">parent</a><span>|</span><a href="#40392988">prev</a><span>|</span><a href="#40392824">next</a><span>|</span><label class="collapse" for="c-40392863">[-]</label><label class="expand" for="c-40392863">[7 more]</label></div><br/><div class="children"><div class="content">That&#x27;s how development under open source works. You can&#x27;t please everyone.</div><br/><div id="40392953" class="c"><input type="checkbox" id="c-40392953" checked=""/><div class="controls bullet"><span class="by">nneonneo</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392863">parent</a><span>|</span><a href="#40392824">next</a><span>|</span><label class="collapse" for="c-40392953">[-]</label><label class="expand" for="c-40392953">[6 more]</label></div><br/><div class="children"><div class="content">There’s a big difference between developing something and announcing loudly that you have something cool; the developers have done the latter here.</div><br/><div id="40393468" class="c"><input type="checkbox" id="c-40393468" checked=""/><div class="controls bullet"><span class="by">vrmiguel</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392953">parent</a><span>|</span><a href="#40394388">next</a><span>|</span><label class="collapse" for="c-40393468">[-]</label><label class="expand" for="c-40393468">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s clearly pretty cool even if not as fast as people expect it to be</div><br/></div></div><div id="40394388" class="c"><input type="checkbox" id="c-40394388" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392953">parent</a><span>|</span><a href="#40393468">prev</a><span>|</span><a href="#40393410">next</a><span>|</span><label class="collapse" for="c-40394388">[-]</label><label class="expand" for="c-40394388">[1 more]</label></div><br/><div class="children"><div class="content">Dude we&#x27;re running unrestricted recursion and closures on GPUs! If that&#x27;s not cool to you, I apologize, but that mind-blowingly cool to me, and I wanted to share it, even though the codegen is still initial. Hell I was actually going to publish it with the interpreters only, but I still coded an initial compiler because I thought people would like to see where it could go :(</div><br/></div></div><div id="40393410" class="c"><input type="checkbox" id="c-40393410" checked=""/><div class="controls bullet"><span class="by">Ar-Curunir</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392953">parent</a><span>|</span><a href="#40394388">prev</a><span>|</span><a href="#40393738">next</a><span>|</span><label class="collapse" for="c-40393410">[-]</label><label class="expand" for="c-40393410">[1 more]</label></div><br/><div class="children"><div class="content">Thats completely unfair. They <i>have</i> developed something cool, just with not all the holes plugged.</div><br/></div></div><div id="40393738" class="c"><input type="checkbox" id="c-40393738" checked=""/><div class="controls bullet"><span class="by">trenchgun</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392953">parent</a><span>|</span><a href="#40393410">prev</a><span>|</span><a href="#40392824">next</a><span>|</span><label class="collapse" for="c-40393738">[-]</label><label class="expand" for="c-40393738">[2 more]</label></div><br/><div class="children"><div class="content">It is pretty cool milestone achieved, just not production ready.</div><br/><div id="40394921" class="c"><input type="checkbox" id="c-40394921" checked=""/><div class="controls bullet"><span class="by">adw</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40393738">parent</a><span>|</span><a href="#40392824">next</a><span>|</span><label class="collapse" for="c-40394921">[-]</label><label class="expand" for="c-40394921">[1 more]</label></div><br/><div class="children"><div class="content">This is very cool and it&#x27;s being treated unfairly, though it&#x27;s also obviously not ready for prime time; it&#x27;s an existence proof.<p>To illustrate that, many people on here have been losing their mind over Kolomogorov-Arnold Networks, which are almost identically positioned; interesting idea, kind of cool, does what the paper claims, potentially useful in the future, definitely not any use at all for any real use-case right now.<p>(In part that&#x27;s probably because the average understanding of ML here is _not_ strong, so there&#x27;s more deference and credulousness around those claims.)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="40392824" class="c"><input type="checkbox" id="c-40392824" checked=""/><div class="controls bullet"><span class="by">nneonneo</span><span>|</span><a href="#40392140">parent</a><span>|</span><a href="#40392629">prev</a><span>|</span><a href="#40392577">next</a><span>|</span><label class="collapse" for="c-40392824">[-]</label><label class="expand" for="c-40392824">[2 more]</label></div><br/><div class="children"><div class="content">You might want to double check with objdump if the loop is actually vectorized, or if the compiler just optimizes it out. Your loop actually performs signed integer overflow, which is UB in C++; the compiler could legally output anything. If you want to avoid the UB, declare sum as unsigned (unsigned integer overflow is well-defined); the optimization will still happen but at least you’ll be guaranteed that it’ll be correct.</div><br/><div id="40393228" class="c"><input type="checkbox" id="c-40393228" checked=""/><div class="controls bullet"><span class="by">ziedaniel1</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392824">parent</a><span>|</span><a href="#40392577">next</a><span>|</span><label class="collapse" for="c-40393228">[-]</label><label class="expand" for="c-40393228">[1 more]</label></div><br/><div class="children"><div class="content">I did make sure to check before posting.<p>Good point about the signed integer overflow, though!</div><br/></div></div></div></div><div id="40392577" class="c"><input type="checkbox" id="c-40392577" checked=""/><div class="controls bullet"><span class="by">molenzwiebel</span><span>|</span><a href="#40392140">parent</a><span>|</span><a href="#40392824">prev</a><span>|</span><a href="#40392196">next</a><span>|</span><label class="collapse" for="c-40392577">[-]</label><label class="expand" for="c-40392577">[3 more]</label></div><br/><div class="children"><div class="content">If compiled with -O3 on clang, the loop is entirely optimized out: <a href="https:&#x2F;&#x2F;godbolt.org&#x2F;z&#x2F;M1rMY6qM9" rel="nofollow">https:&#x2F;&#x2F;godbolt.org&#x2F;z&#x2F;M1rMY6qM9</a>. Probably not the fairest comparison.</div><br/><div id="40392775" class="c"><input type="checkbox" id="c-40392775" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392577">parent</a><span>|</span><a href="#40393218">next</a><span>|</span><label class="collapse" for="c-40392775">[-]</label><label class="expand" for="c-40392775">[1 more]</label></div><br/><div class="children"><div class="content">Exactly, this kind of thing always happens with these loops, which is why I think programs that allocate are fairer. But then people point out that the C allocator is terrible, so we can&#x27;t make that point :&#x27;)</div><br/></div></div><div id="40393218" class="c"><input type="checkbox" id="c-40393218" checked=""/><div class="controls bullet"><span class="by">ziedaniel1</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392577">parent</a><span>|</span><a href="#40392775">prev</a><span>|</span><a href="#40392196">next</a><span>|</span><label class="collapse" for="c-40393218">[-]</label><label class="expand" for="c-40393218">[1 more]</label></div><br/><div class="children"><div class="content">I used GCC and checked that it wasn&#x27;t optimized out (which actually surprised me!)</div><br/></div></div></div></div><div id="40392196" class="c"><input type="checkbox" id="c-40392196" checked=""/><div class="controls bullet"><span class="by">rroriz</span><span>|</span><a href="#40392140">parent</a><span>|</span><a href="#40392577">prev</a><span>|</span><a href="#40394488">next</a><span>|</span><label class="collapse" for="c-40392196">[-]</label><label class="expand" for="c-40392196">[3 more]</label></div><br/><div class="children"><div class="content">I think the point is that Bend in a much higher level than C++.
But to be fair: I also may be missing the point!</div><br/><div id="40393148" class="c"><input type="checkbox" id="c-40393148" checked=""/><div class="controls bullet"><span class="by">gslepak</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392196">parent</a><span>|</span><a href="#40392297">next</a><span>|</span><label class="collapse" for="c-40393148">[-]</label><label class="expand" for="c-40393148">[1 more]</label></div><br/><div class="children"><div class="content">The point is that Bend parallelizes everything that can be parallelized without developers having to do that themselves.</div><br/></div></div><div id="40392297" class="c"><input type="checkbox" id="c-40392297" checked=""/><div class="controls bullet"><span class="by">5-</span><span>|</span><a href="#40392140">root</a><span>|</span><a href="#40392196">parent</a><span>|</span><a href="#40393148">prev</a><span>|</span><a href="#40394488">next</a><span>|</span><label class="collapse" for="c-40392297">[-]</label><label class="expand" for="c-40392297">[1 more]</label></div><br/><div class="children"><div class="content">here is the same loop finishing in one second on my laptop, single-threaded, in a very high-level language, q:<p><pre><code>  q)\t sum til floor 2 xexp 30
  1031</code></pre></div><br/></div></div></div></div></div></div><div id="40394488" class="c"><input type="checkbox" id="c-40394488" checked=""/><div class="controls bullet"><span class="by">Arch485</span><span>|</span><a href="#40392140">prev</a><span>|</span><a href="#40394101">next</a><span>|</span><label class="collapse" for="c-40394488">[-]</label><label class="expand" for="c-40394488">[1 more]</label></div><br/><div class="children"><div class="content">I want to congratulate the author on this, it&#x27;s super cool. Making correct automatic parallelization is nothing to sneeze at, and something you should absolutely be proud of.<p>I&#x27;m excited to see how this project progresses.</div><br/></div></div><div id="40394101" class="c"><input type="checkbox" id="c-40394101" checked=""/><div class="controls bullet"><span class="by">MrLeap</span><span>|</span><a href="#40394488">prev</a><span>|</span><a href="#40391638">next</a><span>|</span><label class="collapse" for="c-40394101">[-]</label><label class="expand" for="c-40394101">[3 more]</label></div><br/><div class="children"><div class="content">This is incredible. This is the kind of work we need to crack open the under utilized GPUs out there. I know LLMs are all the rage, but there&#x27;s more gold in them hills.</div><br/><div id="40395037" class="c"><input type="checkbox" id="c-40395037" checked=""/><div class="controls bullet"><span class="by">anon291</span><span>|</span><a href="#40394101">parent</a><span>|</span><a href="#40391638">next</a><span>|</span><label class="collapse" for="c-40395037">[-]</label><label class="expand" for="c-40395037">[2 more]</label></div><br/><div class="children"><div class="content">Except... it&#x27;s not. Coming from a Haskell background and following the author since the early days, I think his work is excellent w.r.t Interaction Combinators and Nets. However, to do LLM work you need to cooperate with the chip, which means doing things in the manner most expeditious to the intricacies of Computer Architecture. That&#x27;s not what this does. I don&#x27;t see how Bend would modify its runtime to take advantage of all the things that modern GPU-based BLAS implementations do (which is what I currently do), but would love to be surprised.<p>As a whole, the speedups claimed are not actually that great. Going from 1 core to 16k cores increases performance by 50x. That&#x27;s not actually very good.<p>Like, I really truly love what the author has contributed to functional languages and Interaction Nets. He has good ideas, but while it&#x27;s cool that this can be done, things like LLMs require very practical tuning.<p>Finally, the author has a history of making fantastical claims. Again, it&#x27;s true there is a speedup, but in my view, this is like making an extremely slow language and then optimizing it and then announcing that you&#x27;ve figure out how to improve your language&#x27;s performance by 50x. While true, it neglects the fact it was very slow to begin with.</div><br/><div id="40395138" class="c"><input type="checkbox" id="c-40395138" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40394101">root</a><span>|</span><a href="#40395037">parent</a><span>|</span><a href="#40391638">next</a><span>|</span><label class="collapse" for="c-40395138">[-]</label><label class="expand" for="c-40395138">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re comparing CPU cores to GPU cores!<p>It is &quot;only&quot; 50x because a single GPU core is 100x weaker than a CPU core!<p>Within CUDA cores, it is actually a linear speedup! It does 2k MIPS with 1 CUDA core, and ~28000 MIPS with 16k CUDA cores. If we double the performance of single-core GPU evaluation, we almost double the performance with 16k cores!</div><br/></div></div></div></div></div></div><div id="40391638" class="c"><input type="checkbox" id="c-40391638" checked=""/><div class="controls bullet"><span class="by">yetihehe</span><span>|</span><a href="#40394101">prev</a><span>|</span><a href="#40390824">next</a><span>|</span><label class="collapse" for="c-40391638">[-]</label><label class="expand" for="c-40391638">[6 more]</label></div><br/><div class="children"><div class="content">Bend looks like a nice language.<p>&gt; That&#x27;s a 111x speedup by doing nothing. No thread spawning, no explicit management of locks, mutexes. We just asked bend to run our program on RTX, and it did. Simple as that. Note that, for now, Bend only supports 24-bit machine ints (u24), thus, results are always mod 2^24.<p>Ahh, not even 32bit? Hmm, that seems pretty arbitrary for someone not accustomed to gpu&#x27;s and wanting to solve some problems requiring 64 bits (gravitational simulation of solar system at millimeter resolution could use ~58bit ints for position).</div><br/><div id="40391677" class="c"><input type="checkbox" id="c-40391677" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40391638">parent</a><span>|</span><a href="#40392926">next</a><span>|</span><label class="collapse" for="c-40391677">[-]</label><label class="expand" for="c-40391677">[3 more]</label></div><br/><div class="children"><div class="content">We will have 64-bit boxed numbers really soon! As in, next month, or earlier if users find this to be a higher priority.</div><br/><div id="40391841" class="c"><input type="checkbox" id="c-40391841" checked=""/><div class="controls bullet"><span class="by">yetihehe</span><span>|</span><a href="#40391638">root</a><span>|</span><a href="#40391677">parent</a><span>|</span><a href="#40392926">next</a><span>|</span><label class="collapse" for="c-40391841">[-]</label><label class="expand" for="c-40391841">[2 more]</label></div><br/><div class="children"><div class="content">What other types are you planning? Maybe some floats (even if only on cpu targets, would be nice).</div><br/><div id="40394395" class="c"><input type="checkbox" id="c-40394395" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40391638">root</a><span>|</span><a href="#40391841">parent</a><span>|</span><a href="#40392926">next</a><span>|</span><label class="collapse" for="c-40394395">[-]</label><label class="expand" for="c-40394395">[1 more]</label></div><br/><div class="children"><div class="content">Immutable textures and strings. Perhaps actual mutable arrays. Many numeric types like F64, U64, I64. And some vector types like F16x4.</div><br/></div></div></div></div></div></div><div id="40392926" class="c"><input type="checkbox" id="c-40392926" checked=""/><div class="controls bullet"><span class="by">Archit3ch</span><span>|</span><a href="#40391638">parent</a><span>|</span><a href="#40391677">prev</a><span>|</span><a href="#40390824">next</a><span>|</span><label class="collapse" for="c-40392926">[-]</label><label class="expand" for="c-40392926">[2 more]</label></div><br/><div class="children"><div class="content">Is there a platform with native hardware u64? Maybe some FPGA?</div><br/><div id="40392937" class="c"><input type="checkbox" id="c-40392937" checked=""/><div class="controls bullet"><span class="by">Archit3ch</span><span>|</span><a href="#40391638">root</a><span>|</span><a href="#40392926">parent</a><span>|</span><a href="#40390824">next</a><span>|</span><label class="collapse" for="c-40392937">[-]</label><label class="expand" for="c-40392937">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, meant u24.</div><br/></div></div></div></div></div></div><div id="40390824" class="c"><input type="checkbox" id="c-40390824" checked=""/><div class="controls bullet"><span class="by">ruste</span><span>|</span><a href="#40391638">prev</a><span>|</span><a href="#40394747">next</a><span>|</span><label class="collapse" for="c-40390824">[-]</label><label class="expand" for="c-40390824">[1 more]</label></div><br/><div class="children"><div class="content">Been watching your development for a while on Twitter. This is a monumental achievement and I hope it gets the recognition it deserves.</div><br/></div></div><div id="40394747" class="c"><input type="checkbox" id="c-40394747" checked=""/><div class="controls bullet"><span class="by">npalli</span><span>|</span><a href="#40390824">prev</a><span>|</span><a href="#40394344">next</a><span>|</span><label class="collapse" for="c-40394747">[-]</label><label class="expand" for="c-40394747">[1 more]</label></div><br/><div class="children"><div class="content">Is the recursive sum the best function to show multi-threading or GPU speedups? Seems unlikely. FWIW, i ported the python example to Julia and it ran in about 2.5 seconds the same as the C++ version. Pure python 3.12 took 183 seconds.<p><pre><code>  function sum(depth, x)
      if depth == 0
          return x
      else
          fst = sum(depth-1, x*2+0)
          snd = sum(depth-1, x*2+1)
      end
      return fst + snd
  end
</code></pre>
println(sum(30,0))</div><br/></div></div><div id="40394344" class="c"><input type="checkbox" id="c-40394344" checked=""/><div class="controls bullet"><span class="by">robust-cactus</span><span>|</span><a href="#40394747">prev</a><span>|</span><a href="#40394147">next</a><span>|</span><label class="collapse" for="c-40394344">[-]</label><label class="expand" for="c-40394344">[1 more]</label></div><br/><div class="children"><div class="content">This is awesome and much needed. Keep going, forget the overly pedantic folks, the vision is great and early results are exciting.</div><br/></div></div><div id="40394147" class="c"><input type="checkbox" id="c-40394147" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#40394344">prev</a><span>|</span><a href="#40392345">next</a><span>|</span><label class="collapse" for="c-40394147">[-]</label><label class="expand" for="c-40394147">[1 more]</label></div><br/><div class="children"><div class="content">Congrats on the HVM2 launch! Been following for a while, excited to see where this project goes. For others who are lost on the interaction net stuff, there was a neat show hn that gave a more hands-on interactive intro: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37406742">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37406742</a> (the &#x27;Get Started&#x27; writeup was really helpful)</div><br/></div></div><div id="40392345" class="c"><input type="checkbox" id="c-40392345" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#40394147">prev</a><span>|</span><a href="#40392050">next</a><span>|</span><label class="collapse" for="c-40392345">[-]</label><label class="expand" for="c-40392345">[2 more]</label></div><br/><div class="children"><div class="content">This is very exciting. I don’t have any GPU background, but I have been worrying a lot about CUDA cementating itself in the ecosystem. Here devs don’t need CUDA directly which would help decoupling the ecosystem from cynical mega corps, always good! Anyway enough politics..<p>Tried to see what the language is like beyond hello world and found the guide[1]. It looks like a Python and quacks like a Haskell? For instance, variables are immutable, and tree-like divide and conquer data structures&#x2F;algorithms are promoted for getting good results. That makes sense I guess! I’m not surprised to see a functional core, but I’m surprised to see the pythonic frontend, not that it matters much. I must say I highly doubt that it will make it much easier for Python devs to learn Bend though, although I don’t know if that’s the goal.<p>What are some challenges in programming with these kind of restrictions in practice? Also, is there good FFI options?<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;HigherOrderCO&#x2F;bend&#x2F;blob&#x2F;main&#x2F;GUIDE.md">https:&#x2F;&#x2F;github.com&#x2F;HigherOrderCO&#x2F;bend&#x2F;blob&#x2F;main&#x2F;GUIDE.md</a></div><br/><div id="40394173" class="c"><input type="checkbox" id="c-40394173" checked=""/><div class="controls bullet"><span class="by">mathiasgredal</span><span>|</span><a href="#40392345">parent</a><span>|</span><a href="#40392050">next</a><span>|</span><label class="collapse" for="c-40394173">[-]</label><label class="expand" for="c-40394173">[1 more]</label></div><br/><div class="children"><div class="content">We have a replacement for CUDA, it is called C++17 parallel algorithms. It has vendor support for running on the GPU by Intel, AMD and NVIDIA and will also run on all your cores on the CPU. It uses the GPU vendors compiler to convert your C++ to something that can natively run on the GPU. With unified memory support, it becomes very fast to run computations on heap allocated memory using the GPU, but implementations also support non-unified memory<p>Vendor support:<p>- <a href="https:&#x2F;&#x2F;www.intel.com&#x2F;content&#x2F;www&#x2F;us&#x2F;en&#x2F;developer&#x2F;articles&#x2F;guide&#x2F;get-started-with-parallel-stl.html" rel="nofollow">https:&#x2F;&#x2F;www.intel.com&#x2F;content&#x2F;www&#x2F;us&#x2F;en&#x2F;developer&#x2F;articles&#x2F;g...</a><p>- <a href="https:&#x2F;&#x2F;rocm.blogs.amd.com&#x2F;software-tools-optimization&#x2F;hipstdpar&#x2F;README.html" rel="nofollow">https:&#x2F;&#x2F;rocm.blogs.amd.com&#x2F;software-tools-optimization&#x2F;hipst...</a><p>- <a href="https:&#x2F;&#x2F;docs.nvidia.com&#x2F;hpc-sdk&#x2F;archive&#x2F;20.7&#x2F;pdf&#x2F;hpc207c++_par_alg.pdf" rel="nofollow">https:&#x2F;&#x2F;docs.nvidia.com&#x2F;hpc-sdk&#x2F;archive&#x2F;20.7&#x2F;pdf&#x2F;hpc207c++_p...</a></div><br/></div></div></div></div><div id="40392050" class="c"><input type="checkbox" id="c-40392050" checked=""/><div class="controls bullet"><span class="by">notfed</span><span>|</span><a href="#40392345">prev</a><span>|</span><a href="#40391584">next</a><span>|</span><label class="collapse" for="c-40392050">[-]</label><label class="expand" for="c-40392050">[2 more]</label></div><br/><div class="children"><div class="content">This is really, really cool. This makes me think, &quot;I could probably write a high performance GPU program fairly easily&quot;...a sentence that&#x27;s never formed in my head.</div><br/><div id="40392080" class="c"><input type="checkbox" id="c-40392080" checked=""/><div class="controls bullet"><span class="by">developedby</span><span>|</span><a href="#40392050">parent</a><span>|</span><a href="#40391584">next</a><span>|</span><label class="collapse" for="c-40392080">[-]</label><label class="expand" for="c-40392080">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the main idea!</div><br/></div></div></div></div><div id="40391584" class="c"><input type="checkbox" id="c-40391584" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#40392050">prev</a><span>|</span><a href="#40394943">next</a><span>|</span><label class="collapse" for="c-40391584">[-]</label><label class="expand" for="c-40391584">[8 more]</label></div><br/><div class="children"><div class="content">As a resident of Bend, Oregon... it was kind of funny to read this and I&#x27;m curious about the origin of the name.</div><br/><div id="40391751" class="c"><input type="checkbox" id="c-40391751" checked=""/><div class="controls bullet"><span class="by">developedby</span><span>|</span><a href="#40391584">parent</a><span>|</span><a href="#40391648">next</a><span>|</span><label class="collapse" for="c-40391751">[-]</label><label class="expand" for="c-40391751">[1 more]</label></div><br/><div class="children"><div class="content">Bending is an operation similar to folding, both in real life and in the language.
While fold is recursive on data, bend is recursive on a boolean condition (like a pure while that supports multiple branching recursion points).<p>I was actually looking forward to seeing someone from Bend to make a comment like this</div><br/></div></div><div id="40391648" class="c"><input type="checkbox" id="c-40391648" checked=""/><div class="controls bullet"><span class="by">bytK7</span><span>|</span><a href="#40391584">parent</a><span>|</span><a href="#40391751">prev</a><span>|</span><a href="#40394472">next</a><span>|</span><label class="collapse" for="c-40391648">[-]</label><label class="expand" for="c-40391648">[2 more]</label></div><br/><div class="children"><div class="content">As a fellow resident of Bend I felt the same way when I saw this.</div><br/><div id="40391766" class="c"><input type="checkbox" id="c-40391766" checked=""/><div class="controls bullet"><span class="by">noumenon1111</span><span>|</span><a href="#40391584">root</a><span>|</span><a href="#40391648">parent</a><span>|</span><a href="#40394472">next</a><span>|</span><label class="collapse" for="c-40391766">[-]</label><label class="expand" for="c-40391766">[1 more]</label></div><br/><div class="children"><div class="content">As a native Bendite but not current Bend resident, seeing that word with a capital letter always makes me smell juniper and sagebrush a little bit.</div><br/></div></div></div></div><div id="40394472" class="c"><input type="checkbox" id="c-40394472" checked=""/><div class="controls bullet"><span class="by">blinded</span><span>|</span><a href="#40391584">parent</a><span>|</span><a href="#40391648">prev</a><span>|</span><a href="#40392342">next</a><span>|</span><label class="collapse" for="c-40394472">[-]</label><label class="expand" for="c-40394472">[1 more]</label></div><br/><div class="children"><div class="content">Thought the same thing!</div><br/></div></div><div id="40392342" class="c"><input type="checkbox" id="c-40392342" checked=""/><div class="controls bullet"><span class="by">alex_lav</span><span>|</span><a href="#40391584">parent</a><span>|</span><a href="#40394472">prev</a><span>|</span><a href="#40394943">next</a><span>|</span><label class="collapse" for="c-40392342">[-]</label><label class="expand" for="c-40392342">[3 more]</label></div><br/><div class="children"><div class="content">Totally off topic but I&#x27;ll be driving there later this afternoon. Hoping it&#x27;s as beautiful as last time!</div><br/><div id="40392570" class="c"><input type="checkbox" id="c-40392570" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#40391584">root</a><span>|</span><a href="#40392342">parent</a><span>|</span><a href="#40394943">next</a><span>|</span><label class="collapse" for="c-40392570">[-]</label><label class="expand" for="c-40392570">[2 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re going to be here for a bit (I am heading out of town on a bike trip for a few days), always happy to grab a beer with fellow HN people!</div><br/><div id="40393026" class="c"><input type="checkbox" id="c-40393026" checked=""/><div class="controls bullet"><span class="by">alex_lav</span><span>|</span><a href="#40391584">root</a><span>|</span><a href="#40392570">parent</a><span>|</span><a href="#40394943">next</a><span>|</span><label class="collapse" for="c-40393026">[-]</label><label class="expand" for="c-40393026">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately just the weekend. I&#x27;m just in Portland tho so will definitely be back.</div><br/></div></div></div></div></div></div></div></div><div id="40394943" class="c"><input type="checkbox" id="c-40394943" checked=""/><div class="controls bullet"><span class="by">smusamashah</span><span>|</span><a href="#40391584">prev</a><span>|</span><a href="#40391357">next</a><span>|</span><label class="collapse" for="c-40394943">[-]</label><label class="expand" for="c-40394943">[1 more]</label></div><br/><div class="children"><div class="content">I have no interest in this tech as it&#x27;s apparently for backend stuff and not actually rendering things by itself.<p>But the demo gif is probably the best I have seen in a Github readme. I watched it till the end. It was instantly engaging. I wanted to see the whole story unfold.</div><br/></div></div><div id="40391357" class="c"><input type="checkbox" id="c-40391357" checked=""/><div class="controls bullet"><span class="by">darlansbjr</span><span>|</span><a href="#40394943">prev</a><span>|</span><a href="#40396403">next</a><span>|</span><label class="collapse" for="c-40391357">[-]</label><label class="expand" for="c-40391357">[1 more]</label></div><br/><div class="children"><div class="content">Would a compiler be faster by using HVM? Would love to see a fully parallel version of typescript tsc</div><br/></div></div><div id="40396403" class="c"><input type="checkbox" id="c-40396403" checked=""/><div class="controls bullet"><span class="by">zmmmmm</span><span>|</span><a href="#40391357">prev</a><span>|</span><a href="#40396386">next</a><span>|</span><label class="collapse" for="c-40396403">[-]</label><label class="expand" for="c-40396403">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me a little bit of Concurnas [0] which sadly seemed to get abandoned right at the point when it was nearly viable.<p>[0] <a href="https:&#x2F;&#x2F;concurnas.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;concurnas.com&#x2F;</a></div><br/></div></div><div id="40396386" class="c"><input type="checkbox" id="c-40396386" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#40396403">prev</a><span>|</span><a href="#40392108">next</a><span>|</span><label class="collapse" for="c-40396386">[-]</label><label class="expand" for="c-40396386">[2 more]</label></div><br/><div class="children"><div class="content">The website claims &quot;automatically achieves near-ideal speedup&quot;<p>12x for 16x threads<p>51x for 16.000x threads<p>Can someone point me to a website where it explains that this is the &quot;ideal speedup&quot;? Is there a formula?</div><br/><div id="40397006" class="c"><input type="checkbox" id="c-40397006" checked=""/><div class="controls bullet"><span class="by">andersa</span><span>|</span><a href="#40396386">parent</a><span>|</span><a href="#40392108">next</a><span>|</span><label class="collapse" for="c-40397006">[-]</label><label class="expand" for="c-40397006">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not.</div><br/></div></div></div></div><div id="40392108" class="c"><input type="checkbox" id="c-40392108" checked=""/><div class="controls bullet"><span class="by">egnehots</span><span>|</span><a href="#40396386">prev</a><span>|</span><a href="#40394551">next</a><span>|</span><label class="collapse" for="c-40392108">[-]</label><label class="expand" for="c-40392108">[3 more]</label></div><br/><div class="children"><div class="content">the interesting comparison nowadays would be against mojo:<p><a href="https:&#x2F;&#x2F;www.modular.com&#x2F;max&#x2F;mojo" rel="nofollow">https:&#x2F;&#x2F;www.modular.com&#x2F;max&#x2F;mojo</a></div><br/><div id="40395027" class="c"><input type="checkbox" id="c-40395027" checked=""/><div class="controls bullet"><span class="by">ZitchDog</span><span>|</span><a href="#40392108">parent</a><span>|</span><a href="#40394551">next</a><span>|</span><label class="collapse" for="c-40395027">[-]</label><label class="expand" for="c-40395027">[2 more]</label></div><br/><div class="children"><div class="content">I think this is quite different- I don’t think mojo runs on the GPU unless I am mistaken.</div><br/><div id="40395094" class="c"><input type="checkbox" id="c-40395094" checked=""/><div class="controls bullet"><span class="by">witherk</span><span>|</span><a href="#40392108">root</a><span>|</span><a href="#40395027">parent</a><span>|</span><a href="#40394551">next</a><span>|</span><label class="collapse" for="c-40395094">[-]</label><label class="expand" for="c-40395094">[1 more]</label></div><br/><div class="children"><div class="content">Being able to compile to different hardware including GPUs and TPUs seems to be one of the core goals of Mojo based off what Chris Lattner was saying in his Lex Friendman interview. It doesn&#x27;t seem to come up much on Modular website though, so I can see why you would think that.</div><br/></div></div></div></div></div></div><div id="40394551" class="c"><input type="checkbox" id="c-40394551" checked=""/><div class="controls bullet"><span class="by">mbforbes</span><span>|</span><a href="#40392108">prev</a><span>|</span><a href="#40396418">next</a><span>|</span><label class="collapse" for="c-40394551">[-]</label><label class="expand" for="c-40394551">[1 more]</label></div><br/><div class="children"><div class="content">Congratulations on the launch and hard work so far! We need projects like this. Great readme and demo as well.<p>Every time I try to write shaders, or even peek through my fingers at CUDA C(++) code, I recoil in disbelief that we don&#x27;t have high level programming yet on the GPU. I can&#x27;t wait until we do. The more great projects attacking it the better in my book.</div><br/></div></div><div id="40396418" class="c"><input type="checkbox" id="c-40396418" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#40394551">prev</a><span>|</span><a href="#40394781">next</a><span>|</span><label class="collapse" for="c-40396418">[-]</label><label class="expand" for="c-40396418">[1 more]</label></div><br/><div class="children"><div class="content">Has someone written the example in &quot;native&quot; GPU (C&#x2F;Cuda) to compare performance?</div><br/></div></div><div id="40394781" class="c"><input type="checkbox" id="c-40394781" checked=""/><div class="controls bullet"><span class="by">temp123789246</span><span>|</span><a href="#40396418">prev</a><span>|</span><a href="#40392125">next</a><span>|</span><label class="collapse" for="c-40394781">[-]</label><label class="expand" for="c-40394781">[1 more]</label></div><br/><div class="children"><div class="content">Congrats!<p>I’ve been watching HVM for a while and think it’s extremely cool.<p>My intuition is that this will eventually be a really big deal.</div><br/></div></div><div id="40392125" class="c"><input type="checkbox" id="c-40392125" checked=""/><div class="controls bullet"><span class="by">highfrequency</span><span>|</span><a href="#40394781">prev</a><span>|</span><a href="#40395707">next</a><span>|</span><label class="collapse" for="c-40392125">[-]</label><label class="expand" for="c-40392125">[3 more]</label></div><br/><div class="children"><div class="content">&gt; CPU, Apple M3 Max, 1 thread: 3.5 minutes<p>&gt; CPU, Apple M3 Max, 16 threads: 10.26 seconds<p>Surprised to see a <i>more than linear</i> speedup in CPU threads. What’s going on here?</div><br/><div id="40392826" class="c"><input type="checkbox" id="c-40392826" checked=""/><div class="controls bullet"><span class="by">LightMachine</span><span>|</span><a href="#40392125">parent</a><span>|</span><a href="#40392651">next</a><span>|</span><label class="collapse" for="c-40392826">[-]</label><label class="expand" for="c-40392826">[1 more]</label></div><br/><div class="children"><div class="content">I believe the single-core version was running slower due to the memory getting full. The benchmark was adding 2^30 numbers, but HVM2 32-bit has a limit of 2^29 nodes. I&#x27;ve re-ran it with 2^28 instead, and the numbers are `33.39 seconds` (1 core) vs `2.94 seconds` (16 cores). You can replicate the benchmark in an Apple M3 Max. I apologize for the mistake.</div><br/></div></div><div id="40392651" class="c"><input type="checkbox" id="c-40392651" checked=""/><div class="controls bullet"><span class="by">Archit3ch</span><span>|</span><a href="#40392125">parent</a><span>|</span><a href="#40392826">prev</a><span>|</span><a href="#40395707">next</a><span>|</span><label class="collapse" for="c-40392651">[-]</label><label class="expand" for="c-40392651">[1 more]</label></div><br/><div class="children"><div class="content">More cores = more caches?</div><br/></div></div></div></div><div id="40395707" class="c"><input type="checkbox" id="c-40395707" checked=""/><div class="controls bullet"><span class="by">ek_cpp</span><span>|</span><a href="#40392125">prev</a><span>|</span><a href="#40394900">next</a><span>|</span><label class="collapse" for="c-40395707">[-]</label><label class="expand" for="c-40395707">[1 more]</label></div><br/><div class="children"><div class="content">VAMO BRAZIL CARALHOOO! MUITO FODA VAI TOMAR NO CUUU</div><br/></div></div><div id="40394900" class="c"><input type="checkbox" id="c-40394900" checked=""/><div class="controls bullet"><span class="by">netbioserror</span><span>|</span><a href="#40395707">prev</a><span>|</span><a href="#40395304">next</a><span>|</span><label class="collapse" for="c-40394900">[-]</label><label class="expand" for="c-40394900">[1 more]</label></div><br/><div class="children"><div class="content">So HVM finally yields fruit. I&#x27;ve been eagerly awaiting this day! Bend seems like a very suitable candidate for a Lispy S-expression makeover.</div><br/></div></div><div id="40395304" class="c"><input type="checkbox" id="c-40395304" checked=""/><div class="controls bullet"><span class="by">thinking_banana</span><span>|</span><a href="#40394900">prev</a><span>|</span><label class="collapse" for="c-40395304">[-]</label><label class="expand" for="c-40395304">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s pretty cool that you *actually* built this necessary Developer interface aimed towards accessibility of HPC!</div><br/></div></div></div></div></div></div></div></body></html>