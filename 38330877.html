<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1700557264901" as="style"/><link rel="stylesheet" href="styles.css?v=1700557264901"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://engineering.atspotify.com/2014/02/how-to-shuffle-songs/">How to Shuffle Songs? (2014)</a> <span class="domain">(<a href="https://engineering.atspotify.com">engineering.atspotify.com</a>)</span></div><div class="subtext"><span>pablode</span> | <span>20 comments</span></div><br/><div><div id="38361071" class="c"><input type="checkbox" id="c-38361071" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#38360123">next</a><span>|</span><label class="collapse" for="c-38361071">[-]</label><label class="expand" for="c-38361071">[1 more]</label></div><br/><div class="children"><div class="content">Ok, so this article proves that they know how to do it, but they seem to have forgotten over the intervening 9 years - according to some, the shuffle function now prefers similar songs to &quot;keep the vibe&quot;, but according to the Spotify support pages, that&#x27;s a &quot;smart shuffle&quot; feature, and I don&#x27;t have that because I&#x27;m too cheap for the paid plan. Anyway, shuffle should play the songs in a playlist in random order, but make sure to play <i>all the songs</i> (like shuffling a pack of cards and then looking at the cards one by one)! While Spotify&#x27;s current &quot;shuffle&quot; just seems to pick a random song to play after the current one, with some songs repeating three times while others are never played. Annoying as hell...</div><br/></div></div><div id="38360123" class="c"><input type="checkbox" id="c-38360123" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#38361071">prev</a><span>|</span><a href="#38360729">next</a><span>|</span><label class="collapse" for="c-38360123">[-]</label><label class="expand" for="c-38360123">[7 more]</label></div><br/><div class="children"><div class="content">This is one of my favourite things about psychology, perception and programming.<p>When people say they want to &quot;randomly shuffle a playlist&quot;, they really don&#x27;t want that. They want the perception of randomness, but _true_ random doesn&#x27;t abide by rules.<p>If you&#x27;re actually random, there is a probability that it might just play all the songs straight through. Or just pick songs by a single artist back-to-back.</div><br/><div id="38361031" class="c"><input type="checkbox" id="c-38361031" checked=""/><div class="controls bullet"><span class="by">xjay</span><span>|</span><a href="#38360123">parent</a><span>|</span><a href="#38360808">next</a><span>|</span><label class="collapse" for="c-38361031">[-]</label><label class="expand" for="c-38361031">[1 more]</label></div><br/><div class="children"><div class="content">Rob Pardo (Blizzard, World of Warcraft (2004)) said they decided to model randomness after how players thought it worked.<p>&gt; ..at least once a week, a developer would come to my office, and say &quot;the random number generator is broken, we need to look at it.&quot;--It&#x27;s because they hit a streak. [1]<p>[1] <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=FhC0NaB6ock&amp;t=2343s">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=FhC0NaB6ock&amp;t=2343s</a><p>He shares more details about game design choices in the video.</div><br/></div></div><div id="38360808" class="c"><input type="checkbox" id="c-38360808" checked=""/><div class="controls bullet"><span class="by">taneliv</span><span>|</span><a href="#38360123">parent</a><span>|</span><a href="#38361031">prev</a><span>|</span><a href="#38360267">next</a><span>|</span><label class="collapse" for="c-38360808">[-]</label><label class="expand" for="c-38360808">[1 more]</label></div><br/><div class="children"><div class="content">Back in the 90s, when portable CD players were still a thing, I had one.<p>It had a toggle for random play. It indeed apparently played the tracks at random.<p>By random I mean random, not shuffle. It would play the same track multiple times during a listening session. For example tracks in order like 2, 2, 7, 8, 7, ...<p>I actually liked that.<p>If memory serves, it would stop playing after it had played each track at least once. If there were a lot of tracks it would not finish, at least not before the batteries ran out.</div><br/></div></div><div id="38360267" class="c"><input type="checkbox" id="c-38360267" checked=""/><div class="controls bullet"><span class="by">Akronymus</span><span>|</span><a href="#38360123">parent</a><span>|</span><a href="#38360808">prev</a><span>|</span><a href="#38360657">next</a><span>|</span><label class="collapse" for="c-38360267">[-]</label><label class="expand" for="c-38360267">[2 more]</label></div><br/><div class="children"><div class="content">I want all songs truly randomized once, then playing in that order.<p>Sadly youtube just picks the next one based on the current ones ID + some seed, so it constantly gets stuck in loops</div><br/><div id="38360783" class="c"><input type="checkbox" id="c-38360783" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#38360123">root</a><span>|</span><a href="#38360267">parent</a><span>|</span><a href="#38360657">next</a><span>|</span><label class="collapse" for="c-38360783">[-]</label><label class="expand" for="c-38360783">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m amazed youtube hasn&#x27;t figured out a way to detect and avoid these loops, it seems like a solvable problem. Even a naive solution like having the client remember the last n played tracks, and not auto-play any of them (picking the next one down) would be a big improvement.</div><br/></div></div></div></div><div id="38360657" class="c"><input type="checkbox" id="c-38360657" checked=""/><div class="controls bullet"><span class="by">troupo</span><span>|</span><a href="#38360123">parent</a><span>|</span><a href="#38360267">prev</a><span>|</span><a href="#38360729">next</a><span>|</span><label class="collapse" for="c-38360657">[-]</label><label class="expand" for="c-38360657">[2 more]</label></div><br/><div class="children"><div class="content">&gt; When people say they want to &quot;randomly shuffle a playlist&quot;, they really don&#x27;t want that.<p>Same in games. &quot;I had an 80% chance to hit and didn&#x27;t&quot; is a perfect example.</div><br/><div id="38360774" class="c"><input type="checkbox" id="c-38360774" checked=""/><div class="controls bullet"><span class="by">zorr</span><span>|</span><a href="#38360123">root</a><span>|</span><a href="#38360657">parent</a><span>|</span><a href="#38360729">next</a><span>|</span><label class="collapse" for="c-38360774">[-]</label><label class="expand" for="c-38360774">[1 more]</label></div><br/><div class="children"><div class="content">Leading to features like &quot;Karmic Dice&quot; in the recent Baldur&#x27;s Gate 3</div><br/></div></div></div></div></div></div><div id="38360729" class="c"><input type="checkbox" id="c-38360729" checked=""/><div class="controls bullet"><span class="by">low_tech_love</span><span>|</span><a href="#38360123">prev</a><span>|</span><a href="#38360122">next</a><span>|</span><label class="collapse" for="c-38360729">[-]</label><label class="expand" for="c-38360729">[1 more]</label></div><br/><div class="children"><div class="content">Not so related, but I actually like Spotify’s algorithm for suggesting new music a lot. Currently my daily routine for discovering new music is 1) pick an album that has something to do with what I want, 2) start the last song in the album, 3) skip it. It works pretty well!</div><br/></div></div><div id="38360122" class="c"><input type="checkbox" id="c-38360122" checked=""/><div class="controls bullet"><span class="by">franciscop</span><span>|</span><a href="#38360729">prev</a><span>|</span><a href="#38360715">next</a><span>|</span><label class="collapse" for="c-38360122">[-]</label><label class="expand" for="c-38360122">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Let’s go back to our users who have also fallen victims to Gambler’s fallacy. If you just heard a song from a particular artist, that doesn’t mean that the next song will be more likely from a different artist in a perfectly random order.<p>Wait no, it does, right? Since we are not doing random independent events, but taking things out off a finite set. Going back to the colors, if there are 4 green and 4 not-green, there&#x27;s a 50% chance that the first song is green. But if the first song is green, doesn&#x27;t that mean that there&#x27;s now a 3&#x2F;7, or 43% chance, that the second song is green? And 57% that it&#x27;s NOT green?<p>At the extreme, if I have a single song of My Chemical Romance among 10 songs, and it plays first, I expect MCR not to play again (until the list resets, the algorithm describes a finite set, not a rolling one).</div><br/><div id="38360703" class="c"><input type="checkbox" id="c-38360703" checked=""/><div class="controls bullet"><span class="by">low_tech_love</span><span>|</span><a href="#38360122">parent</a><span>|</span><a href="#38360263">next</a><span>|</span><label class="collapse" for="c-38360703">[-]</label><label class="expand" for="c-38360703">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, you’re right. I think this is a case of simplification in communication over perfect technical accuracy. What he meant was more that song “similarity” (as in artist, album, etc) is not taken into account by the algorithm. But yes you’re absolutely right.</div><br/></div></div><div id="38360263" class="c"><input type="checkbox" id="c-38360263" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#38360122">parent</a><span>|</span><a href="#38360703">prev</a><span>|</span><a href="#38360715">next</a><span>|</span><label class="collapse" for="c-38360263">[-]</label><label class="expand" for="c-38360263">[1 more]</label></div><br/><div class="children"><div class="content">When they say &quot;more likely from a different artist&quot; they don&#x27;t mean &quot;more likely than before your last song&quot; but rather that the probability that it is a different artist is higher than the artist last played (which is what the average person likely expects from their shuffle)<p>If we&#x27;re shuffling the set of my liked songs, and 90% of my liked songs are by Taylor Swift, even after hearing 3 of her songs back-to-back on shuffle, chances are I&#x27;m hearing her again next</div><br/></div></div></div></div><div id="38360715" class="c"><input type="checkbox" id="c-38360715" checked=""/><div class="controls bullet"><span class="by">vim-guru</span><span>|</span><a href="#38360122">prev</a><span>|</span><a href="#38360278">next</a><span>|</span><label class="collapse" for="c-38360715">[-]</label><label class="expand" for="c-38360715">[1 more]</label></div><br/><div class="children"><div class="content">I prefer randomizing lists but not songs. Spotify&#x27;s user experience could be better in this regard tbh.</div><br/></div></div><div id="38360278" class="c"><input type="checkbox" id="c-38360278" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#38360715">prev</a><span>|</span><a href="#38360126">next</a><span>|</span><label class="collapse" for="c-38360278">[-]</label><label class="expand" for="c-38360278">[4 more]</label></div><br/><div class="children"><div class="content">I actually just wish Spotify stop spamming me the very same songs and artists over and over in virtually any &quot;made for airstrike&quot; radio &#x2F; playlist.<p>Give me &quot;NOT made for airstrike&quot;, please. I often want to start a radio off a song precisely because I&#x27;m trying to find new songs that go with that one, not so I can have an excuse to unironically listen to &quot;More Than This&quot; for the 20th time this week...</div><br/><div id="38360965" class="c"><input type="checkbox" id="c-38360965" checked=""/><div class="controls bullet"><span class="by">globalise83</span><span>|</span><a href="#38360278">parent</a><span>|</span><a href="#38360553">next</a><span>|</span><label class="collapse" for="c-38360965">[-]</label><label class="expand" for="c-38360965">[1 more]</label></div><br/><div class="children"><div class="content">Yes, Spotify seems to want to force you to listen to the same things over and over, almost as if someone wants to boast about how many millions of seconds of loading time is saved by their clever caching.</div><br/></div></div><div id="38360553" class="c"><input type="checkbox" id="c-38360553" checked=""/><div class="controls bullet"><span class="by">yellow_lead</span><span>|</span><a href="#38360278">parent</a><span>|</span><a href="#38360965">prev</a><span>|</span><a href="#38360126">next</a><span>|</span><label class="collapse" for="c-38360553">[-]</label><label class="expand" for="c-38360553">[2 more]</label></div><br/><div class="children"><div class="content">It seems like the discover weekly playlist does a better job at showing new songs, but you only get that once a week of course, and without any genre control.</div><br/><div id="38360620" class="c"><input type="checkbox" id="c-38360620" checked=""/><div class="controls bullet"><span class="by">rplnt</span><span>|</span><a href="#38360278">root</a><span>|</span><a href="#38360553">parent</a><span>|</span><a href="#38360126">next</a><span>|</span><label class="collapse" for="c-38360620">[-]</label><label class="expand" for="c-38360620">[1 more]</label></div><br/><div class="children"><div class="content">There are also genre-based playlists and a release radar.</div><br/></div></div></div></div></div></div><div id="38360126" class="c"><input type="checkbox" id="c-38360126" checked=""/><div class="controls bullet"><span class="by">at_a_remove</span><span>|</span><a href="#38360278">prev</a><span>|</span><label class="collapse" for="c-38360126">[-]</label><label class="expand" for="c-38360126">[2 more]</label></div><br/><div class="children"><div class="content">Supposedly, the &quot;pros&quot; use a combination of one-step key shifts, similar tempos, and slowly ascending &quot;energy&quot; (which I&#x27;ve never found a good definition of) to pick the next song.  Key-finding algorithms don&#x27;t seem to be particularly accurate from what I have heard of.<p>Ideally, you&#x27;d use this, plus the year and metadata about whatever microgenre.  Use the radio adage of &quot;don&#x27;t hit me with a brick after you tickle me with a feather.&quot;<p>Occasionally do a &quot;two from Band X&quot; or &quot;three from the year NNNN.&quot;  I would probably weight the microgenre in the metadata by how rare it is: &quot;rock&quot; isn&#x27;t particularly descriptive as compared to &quot;doom rock&quot; or &quot;Southern rock.&quot;</div><br/><div id="38360704" class="c"><input type="checkbox" id="c-38360704" checked=""/><div class="controls bullet"><span class="by">troupo</span><span>|</span><a href="#38360126">parent</a><span>|</span><label class="collapse" for="c-38360704">[-]</label><label class="expand" for="c-38360704">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s almost impossible to define those microgenres per song because the metadata for music is shit :)<p>Spotify does try to do it, but it&#x27;s not an exact science: <a href="https:&#x2F;&#x2F;everynoise.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;everynoise.com</a><p>From <a href="https:&#x2F;&#x2F;everynoise.com&#x2F;EverynoiseIntro.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;everynoise.com&#x2F;EverynoiseIntro.pdf</a><p>--- start quote ---<p>There are other ways to plot music genres, of course, than the one used by the map at any given time. We use 10 dimensions internally, and two completely independent measures of genre similarity. Iʼve flipped the map once already since first publishing it, and I might do so again without warning if I find another configuration that seems more interesting.<p>--- end quote ---</div><br/></div></div></div></div></div></div></div></div></div></body></html>