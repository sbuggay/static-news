<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737363652207" as="style"/><link rel="stylesheet" href="styles.css?v=1737363652207"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/rhaiscript/rhai">Rhai: An embedded scripting language for Rust</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>airstrike</span> | <span>14 comments</span></div><br/><div><div id="42766363" class="c"><input type="checkbox" id="c-42766363" checked=""/><div class="controls bullet"><span class="by">chaosprint</span><span>|</span><a href="#42766315">next</a><span>|</span><label class="collapse" for="c-42766363">[-]</label><label class="expand" for="c-42766363">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s a real-world example of using Rhai:<p><a href="https:&#x2F;&#x2F;glicol.org&#x2F;tour#meta1" rel="nofollow">https:&#x2F;&#x2F;glicol.org&#x2F;tour#meta1</a><p>I&#x27;ve embedded Rhai in Glicol to support sample-level audio synthesis, and the performance is acceptable. Real-time audio is very computationally intensive, after all.<p>I&#x27;ve tried various embedded scripting languages in Rust, but Rhai probably has the best documentation and playground.<p>For reference, see this survey:<p><a href="https:&#x2F;&#x2F;www.boringcactus.com&#x2F;2020&#x2F;09&#x2F;16&#x2F;survey-of-rust-embeddable-scripting-languages.html" rel="nofollow">https:&#x2F;&#x2F;www.boringcactus.com&#x2F;2020&#x2F;09&#x2F;16&#x2F;survey-of-rust-embed...</a><p>Recent Koto Lang also looks promising:<p><a href="https:&#x2F;&#x2F;koto.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;koto.dev&#x2F;</a></div><br/></div></div><div id="42766315" class="c"><input type="checkbox" id="c-42766315" checked=""/><div class="controls bullet"><span class="by">oulipo</span><span>|</span><a href="#42766363">prev</a><span>|</span><a href="#42766257">next</a><span>|</span><label class="collapse" for="c-42766315">[-]</label><label class="expand" for="c-42766315">[1 more]</label></div><br/><div class="children"><div class="content">Cool! But wouldn&#x27;t the way to go for scripting in a language these days to just compile to WASM and run in an embedded micro-VM? Why hasn&#x27;t Rhai made this choice?</div><br/></div></div><div id="42766257" class="c"><input type="checkbox" id="c-42766257" checked=""/><div class="controls bullet"><span class="by">satvikpendem</span><span>|</span><a href="#42766315">prev</a><span>|</span><a href="#42766273">next</a><span>|</span><label class="collapse" for="c-42766257">[-]</label><label class="expand" for="c-42766257">[2 more]</label></div><br/><div class="children"><div class="content">When I last read about Rhai it was apparently very slow such that it was simply faster and more ergonomic writing scripts in Rust itself, has that changed?</div><br/><div id="42766275" class="c"><input type="checkbox" id="c-42766275" checked=""/><div class="controls bullet"><span class="by">MarceColl</span><span>|</span><a href="#42766257">parent</a><span>|</span><a href="#42766273">next</a><span>|</span><label class="collapse" for="c-42766275">[-]</label><label class="expand" for="c-42766275">[1 more]</label></div><br/><div class="children"><div class="content">Not sure when you read this, but I can tell you that two years ago it was VERY slow. I used it for a game and I had to redo it in lua some months later because it was a big bottleneck. I don&#x27;t have more up to date information.</div><br/></div></div></div></div><div id="42766273" class="c"><input type="checkbox" id="c-42766273" checked=""/><div class="controls bullet"><span class="by">Black616Angel</span><span>|</span><a href="#42766257">prev</a><span>|</span><a href="#42765713">next</a><span>|</span><label class="collapse" for="c-42766273">[-]</label><label class="expand" for="c-42766273">[2 more]</label></div><br/><div class="children"><div class="content">What does &quot;Passes Miri.&quot; mean?
There is no link and online I only find a Malaysian city with that name.</div><br/><div id="42766307" class="c"><input type="checkbox" id="c-42766307" checked=""/><div class="controls bullet"><span class="by">Deukhoofd</span><span>|</span><a href="#42766273">parent</a><span>|</span><a href="#42765713">next</a><span>|</span><label class="collapse" for="c-42766307">[-]</label><label class="expand" for="c-42766307">[1 more]</label></div><br/><div class="children"><div class="content">Miri is a Rust tool with a similar function to Valgrind, it checks for undefined behavior.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;rust-lang&#x2F;miri">https:&#x2F;&#x2F;github.com&#x2F;rust-lang&#x2F;miri</a></div><br/></div></div></div></div><div id="42765713" class="c"><input type="checkbox" id="c-42765713" checked=""/><div class="controls bullet"><span class="by">chubs</span><span>|</span><a href="#42766273">prev</a><span>|</span><a href="#42763597">next</a><span>|</span><label class="collapse" for="c-42765713">[-]</label><label class="expand" for="c-42765713">[3 more]</label></div><br/><div class="children"><div class="content">Very impressive. I read the readme and I’m unsure how memory management works, is it GC? And is it
OOP or not? Thanks :)</div><br/><div id="42765874" class="c"><input type="checkbox" id="c-42765874" checked=""/><div class="controls bullet"><span class="by">kreetx</span><span>|</span><a href="#42765713">parent</a><span>|</span><a href="#42763597">next</a><span>|</span><label class="collapse" for="c-42765874">[-]</label><label class="expand" for="c-42765874">[2 more]</label></div><br/><div class="children"><div class="content">Only guessing, but since the language is for scripting then maybe all garbage could be collected when the script finishes?</div><br/><div id="42765992" class="c"><input type="checkbox" id="c-42765992" checked=""/><div class="controls bullet"><span class="by">tommiegannert</span><span>|</span><a href="#42765713">root</a><span>|</span><a href="#42765874">parent</a><span>|</span><a href="#42763597">next</a><span>|</span><label class="collapse" for="c-42765992">[-]</label><label class="expand" for="c-42765992">[1 more]</label></div><br/><div class="children"><div class="content">I was also curious. Looking at the code, it seems values are Boxed, but there&#x27;s a special type called Shared that is an Rc-RefCell (unless Send-enabled.):<p><pre><code>                    &#x2F;&#x2F; Also handle case where target is a `Dynamic` shared value

                    &#x2F;&#x2F; (returned by a variable resolver, for example)

 Couldn&#x27;t find any other information about a GC, so guessing this is pure ref-counting. Speaking of potential memory leaks, there&#x27;s also string interning happening. I agree this seems to be for short-lived contexts right now.</code></pre></div><br/></div></div></div></div></div></div><div id="42763597" class="c"><input type="checkbox" id="c-42763597" checked=""/><div class="controls bullet"><span class="by">Epicism</span><span>|</span><a href="#42765713">prev</a><span>|</span><a href="#42765938">next</a><span>|</span><label class="collapse" for="c-42763597">[-]</label><label class="expand" for="c-42763597">[1 more]</label></div><br/><div class="children"><div class="content">That’s very cool! I appreciate how you can simplify interacting with rust applications without rust programming skills.</div><br/></div></div><div id="42765938" class="c"><input type="checkbox" id="c-42765938" checked=""/><div class="controls bullet"><span class="by">ilrwbwrkhv</span><span>|</span><a href="#42763597">prev</a><span>|</span><a href="#42766110">next</a><span>|</span><label class="collapse" for="c-42765938">[-]</label><label class="expand" for="c-42765938">[1 more]</label></div><br/><div class="children"><div class="content">This is awesome. Would this be a replacement for Lua use cases in a Rust desktop app?</div><br/></div></div><div id="42766110" class="c"><input type="checkbox" id="c-42766110" checked=""/><div class="controls bullet"><span class="by">searealist</span><span>|</span><a href="#42765938">prev</a><span>|</span><label class="collapse" for="c-42766110">[-]</label><label class="expand" for="c-42766110">[2 more]</label></div><br/><div class="children"><div class="content">Needs a comparison to the excellent Rust Starlark Implementation.</div><br/><div id="42766114" class="c"><input type="checkbox" id="c-42766114" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#42766110">parent</a><span>|</span><label class="collapse" for="c-42766114">[-]</label><label class="expand" for="c-42766114">[1 more]</label></div><br/><div class="children"><div class="content">Starlark is for config, not scripting.</div><br/></div></div></div></div></div></div></div></div></div></body></html>