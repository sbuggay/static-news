<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1729328451863" as="style"/><link rel="stylesheet" href="styles.css?v=1729328451863"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://en.wikipedia.org/wiki/PhotoDNA">PhotoDNA</a> <span class="domain">(<a href="https://en.wikipedia.org">en.wikipedia.org</a>)</span></div><div class="subtext"><span>sandwichsphinx</span> | <span>22 comments</span></div><br/><div><div id="41886246" class="c"><input type="checkbox" id="c-41886246" checked=""/><div class="controls bullet"><span class="by">ogurechny</span><span>|</span><a href="#41886240">next</a><span>|</span><label class="collapse" for="c-41886246">[-]</label><label class="expand" for="c-41886246">[1 more]</label></div><br/><div class="children"><div class="content">Secretive, unaccountable, uncontrollably expanding, driven by shady “independent” NGO which is in fact completely in bed with certain branches of government. Russian DPI censorship system is really like that... Oh, I&#x27;m sorry, we&#x27;re discussing something that is a decade older, and belongs to a “free world”, which is a completely different thing.<p>These things are simply selling their services to the highest bidder. It&#x27;s a business model on a power connections market. They are made to be offered to, and controlled by, entities that enjoy having such tools. Sometimes they are also offered to smaller fish, like media corporations, to hurt competitors (pirates and foreign services). Also, social media corporations can proudly state that they themselves “censor nothing”, because it&#x27;s outsourced.<p>There&#x27;s a great portrayal of people who run such services:
<a href="https:&#x2F;&#x2F;www.newyorker.com&#x2F;magazine&#x2F;2019&#x2F;11&#x2F;04&#x2F;a-cybersecurity-firms-sharp-rise-and-stunning-collapse" rel="nofollow">https:&#x2F;&#x2F;www.newyorker.com&#x2F;magazine&#x2F;2019&#x2F;11&#x2F;04&#x2F;a-cybersecurit...</a></div><br/></div></div><div id="41886240" class="c"><input type="checkbox" id="c-41886240" checked=""/><div class="controls bullet"><span class="by">zaptrem</span><span>|</span><a href="#41886246">prev</a><span>|</span><a href="#41886116">next</a><span>|</span><label class="collapse" for="c-41886240">[-]</label><label class="expand" for="c-41886240">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;anishathalye.com&#x2F;inverting-photodna&#x2F;" rel="nofollow">https:&#x2F;&#x2F;anishathalye.com&#x2F;inverting-photodna&#x2F;</a><p>You could almost certainly produce nearly photo realistic PhotoDNA inversions with a finetuned diffusion model now. Is it possible to create a perceptual hashing algorithm where this isn&#x27;t possible?</div><br/></div></div><div id="41886116" class="c"><input type="checkbox" id="c-41886116" checked=""/><div class="controls bullet"><span class="by">noduerme</span><span>|</span><a href="#41886240">prev</a><span>|</span><a href="#41886005">next</a><span>|</span><label class="collapse" for="c-41886116">[-]</label><label class="expand" for="c-41886116">[13 more]</label></div><br/><div class="children"><div class="content">What&#x27;s novel about this? iirc, Apple withdrew its plan to hash photos client-side a couple years ago after an outcry. Dropbox has been hashing every file forever to save storage space. Store your shit with a cloud provider, expect it to get scanned, right?<p>Also, there are a million cute methods to make two different photos produce the same hash; that was actually what the outcry about Apple&#x27;s version was about. The more the hash algorithm tried to produce the same hash for different variants of a photo, the more likely it was that someone could get their hands on a flagged hash and theoretically send you an innocuous looking photo that registered as CSAM. Pretty sure that&#x27;s why Apple pulled it.</div><br/><div id="41886394" class="c"><input type="checkbox" id="c-41886394" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#41886116">parent</a><span>|</span><a href="#41886327">next</a><span>|</span><label class="collapse" for="c-41886394">[-]</label><label class="expand" for="c-41886394">[2 more]</label></div><br/><div class="children"><div class="content">&gt; What&#x27;s novel about this?<p>Literally in the first paragraph you can see that it’s not novel.<p>&gt; PhotoDNA was developed by Microsoft Research and Hany Farid, professor at Dartmouth College, beginning in 2009</div><br/><div id="41886531" class="c"><input type="checkbox" id="c-41886531" checked=""/><div class="controls bullet"><span class="by">formerly_proven</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886394">parent</a><span>|</span><a href="#41886327">next</a><span>|</span><label class="collapse" for="c-41886531">[-]</label><label class="expand" for="c-41886531">[1 more]</label></div><br/><div class="children"><div class="content">Also this isn&#x27;t novel.ycombinator.com</div><br/></div></div></div></div><div id="41886327" class="c"><input type="checkbox" id="c-41886327" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#41886116">parent</a><span>|</span><a href="#41886394">prev</a><span>|</span><a href="#41886189">next</a><span>|</span><label class="collapse" for="c-41886327">[-]</label><label class="expand" for="c-41886327">[2 more]</label></div><br/><div class="children"><div class="content">&gt; that was actually what the outcry about Apple&#x27;s version was about. The more the hash algorithm tried to produce the same hash for different variants of a photo, the more likely it was that someone could get their hands on a flagged hash and theoretically send you an innocuous looking photo that registered as CSAM.<p>That was totally infeasible. There were two separate hashes, a public one and a private one, and there needed to be multiple false positives for the system to trigger. So not only would you need to generate collisions for two separate hashes simultaneously, including one for which there are no public details, you would need to do it for several images.<p>People made a lot of assumptions about how it would work without actually reading the papers Apple published on how it would work. So there’s this caricature of the system in people’s minds that is a lot simpler and easier to fool than the reality. That’s what Apple was forced to react to.</div><br/><div id="41886599" class="c"><input type="checkbox" id="c-41886599" checked=""/><div class="controls bullet"><span class="by">Ylpertnodi</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886327">parent</a><span>|</span><a href="#41886189">next</a><span>|</span><label class="collapse" for="c-41886599">[-]</label><label class="expand" for="c-41886599">[1 more]</label></div><br/><div class="children"><div class="content">&gt;That’s what Apple was forced to react to.<p>Perhaps apple could have made a better explanation available?
Unless, there wasn&#x27;t one?</div><br/></div></div></div></div><div id="41886189" class="c"><input type="checkbox" id="c-41886189" checked=""/><div class="controls bullet"><span class="by">kalleboo</span><span>|</span><a href="#41886116">parent</a><span>|</span><a href="#41886327">prev</a><span>|</span><a href="#41886005">next</a><span>|</span><label class="collapse" for="c-41886189">[-]</label><label class="expand" for="c-41886189">[8 more]</label></div><br/><div class="children"><div class="content">&gt; <i>theoretically send you an innocuous looking photo that registered as CSAM. Pretty sure that&#x27;s why Apple pulled it.</i><p>Apple also had human reviewers in the mix. The only reason they pulled it was PR&#x2F;optics.</div><br/><div id="41886252" class="c"><input type="checkbox" id="c-41886252" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886189">parent</a><span>|</span><a href="#41886257">next</a><span>|</span><label class="collapse" for="c-41886252">[-]</label><label class="expand" for="c-41886252">[1 more]</label></div><br/><div class="children"><div class="content">I would assert the only reason they pursued it in the first place is PR&#x2F;optics, since the &quot;optics&quot; of not being able to proactively police what users do using E2EE services you provide is somewhat a problem. That said, I think the concept of having <i>your own computer</i> covertly report you to the authorities is a level too dystopian to accept even from Apple.</div><br/></div></div><div id="41886257" class="c"><input type="checkbox" id="c-41886257" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886189">parent</a><span>|</span><a href="#41886252">prev</a><span>|</span><a href="#41886569">next</a><span>|</span><label class="collapse" for="c-41886257">[-]</label><label class="expand" for="c-41886257">[1 more]</label></div><br/><div class="children"><div class="content">I agree the reason they pulled it was probably PR&#x2F;optics. But given the problems with human reviews of apps on the app store, I wouldn&#x27;t be confident that an underpaid employee somewhere wouldn&#x27;t blindly agree with the algorithm.</div><br/></div></div><div id="41886569" class="c"><input type="checkbox" id="c-41886569" checked=""/><div class="controls bullet"><span class="by">hggigg</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886189">parent</a><span>|</span><a href="#41886257">prev</a><span>|</span><a href="#41886245">next</a><span>|</span><label class="collapse" for="c-41886569">[-]</label><label class="expand" for="c-41886569">[1 more]</label></div><br/><div class="children"><div class="content">Personally I think they had a lot of pressure from naive external and internal sources and had to take the PR hit on this one.<p>If Apple were to do something like that with any level of real intent, the first thing you’d find out about it was when it went live.</div><br/></div></div><div id="41886245" class="c"><input type="checkbox" id="c-41886245" checked=""/><div class="controls bullet"><span class="by">zaptrem</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886189">parent</a><span>|</span><a href="#41886569">prev</a><span>|</span><a href="#41886005">next</a><span>|</span><label class="collapse" for="c-41886245">[-]</label><label class="expand" for="c-41886245">[4 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t that require exfiltrating the original photo? I remember them swearing that wasn&#x27;t part of the deal.</div><br/><div id="41886255" class="c"><input type="checkbox" id="c-41886255" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886245">parent</a><span>|</span><a href="#41886276">next</a><span>|</span><label class="collapse" for="c-41886255">[-]</label><label class="expand" for="c-41886255">[1 more]</label></div><br/><div class="children"><div class="content">Going from memory here but IIRC the deal was that on device they&#x27;d produce a hash using a known pHash, and if that was positive, they&#x27;d send the photo to check it against a <i>second</i> pHash that wasn&#x27;t publicly-disclosed (to try to mitigate the problem of intentional collisions) and then if <i>both</i> of them were positive matches, they would have human reviewers in the loop.</div><br/></div></div><div id="41886276" class="c"><input type="checkbox" id="c-41886276" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886245">parent</a><span>|</span><a href="#41886255">prev</a><span>|</span><a href="#41886005">next</a><span>|</span><label class="collapse" for="c-41886276">[-]</label><label class="expand" for="c-41886276">[2 more]</label></div><br/><div class="children"><div class="content">It was a lot more advanced and abuse-resistant than people assumed. I really wish people had read how it worked instead of guessing it was something a lot simpler. There were two different perceptual hashes. If both matched, and the number of positive matches was high enough, a thumbnail would be able to be decrypted by Apple. Neither the device nor the server were able to independently check for a match, so the device wasn’t able to just scan all your files and flag the matches. It was tied into the iCloud upload process.</div><br/><div id="41886421" class="c"><input type="checkbox" id="c-41886421" checked=""/><div class="controls bullet"><span class="by">zaptrem</span><span>|</span><a href="#41886116">root</a><span>|</span><a href="#41886276">parent</a><span>|</span><a href="#41886005">next</a><span>|</span><label class="collapse" for="c-41886421">[-]</label><label class="expand" for="c-41886421">[1 more]</label></div><br/><div class="children"><div class="content">While this is understandable, the unfortunate issue was that Apple could be coerced into adding images certain authoritarian governments didn’t like to the list. Though imo it’s all moot if iCloud Photos aren’t end to end encrypted anyway.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41886005" class="c"><input type="checkbox" id="c-41886005" checked=""/><div class="controls bullet"><span class="by">Bayes7</span><span>|</span><a href="#41886116">prev</a><span>|</span><label class="collapse" for="c-41886005">[-]</label><label class="expand" for="c-41886005">[6 more]</label></div><br/><div class="children"><div class="content">Is there any good article&#x2F;paper that describes how it actually works or is implemented not just in high-level and hand-waving terms?</div><br/><div id="41886036" class="c"><input type="checkbox" id="c-41886036" checked=""/><div class="controls bullet"><span class="by">unsnap_biceps</span><span>|</span><a href="#41886005">parent</a><span>|</span><a href="#41886305">next</a><span>|</span><label class="collapse" for="c-41886036">[-]</label><label class="expand" for="c-41886036">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;hackerfactor.com&#x2F;blog&#x2F;index.php?&#x2F;archives&#x2F;931-PhotoDNA-and-Limitations.html" rel="nofollow">https:&#x2F;&#x2F;hackerfactor.com&#x2F;blog&#x2F;index.php?&#x2F;archives&#x2F;931-PhotoD...</a> is linked from <a href="https:&#x2F;&#x2F;anishathalye.com&#x2F;inverting-photodna&#x2F;" rel="nofollow">https:&#x2F;&#x2F;anishathalye.com&#x2F;inverting-photodna&#x2F;</a> and is likely a good starting point</div><br/><div id="41886369" class="c"><input type="checkbox" id="c-41886369" checked=""/><div class="controls bullet"><span class="by">Springtime</span><span>|</span><a href="#41886005">root</a><span>|</span><a href="#41886036">parent</a><span>|</span><a href="#41886224">next</a><span>|</span><label class="collapse" for="c-41886369">[-]</label><label class="expand" for="c-41886369">[1 more]</label></div><br/><div class="children"><div class="content">Yeah Hacker Factor&#x27;s multi-post critiques are where I first saw it analyzed. For reference they run the popular fotoforensics.com image analysis site.<p>They also have scathing critique (eg [1]) about the Adobe-led C2PA digital provenance signing, having themselves been part of various groups that seek solutions to the provenance problem.<p>[1] <a href="https:&#x2F;&#x2F;www.hackerfactor.com&#x2F;blog&#x2F;index.php?&#x2F;archives&#x2F;1013-C2PAs-Worst-Case-Scenario.html" rel="nofollow">https:&#x2F;&#x2F;www.hackerfactor.com&#x2F;blog&#x2F;index.php?&#x2F;archives&#x2F;1013-C...</a></div><br/></div></div><div id="41886224" class="c"><input type="checkbox" id="c-41886224" checked=""/><div class="controls bullet"><span class="by">Bayes7</span><span>|</span><a href="#41886005">root</a><span>|</span><a href="#41886036">parent</a><span>|</span><a href="#41886369">prev</a><span>|</span><a href="#41886305">next</a><span>|</span><label class="collapse" for="c-41886224">[-]</label><label class="expand" for="c-41886224">[1 more]</label></div><br/><div class="children"><div class="content">thanks!</div><br/></div></div></div></div><div id="41886305" class="c"><input type="checkbox" id="c-41886305" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#41886005">parent</a><span>|</span><a href="#41886036">prev</a><span>|</span><a href="#41886277">next</a><span>|</span><label class="collapse" for="c-41886305">[-]</label><label class="expand" for="c-41886305">[1 more]</label></div><br/><div class="children"><div class="content">There tends to be more information under the search term &quot;perceptual hashing&quot;</div><br/></div></div><div id="41886277" class="c"><input type="checkbox" id="c-41886277" checked=""/><div class="controls bullet"><span class="by">majke</span><span>|</span><a href="#41886005">parent</a><span>|</span><a href="#41886305">prev</a><span>|</span><label class="collapse" for="c-41886277">[-]</label><label class="expand" for="c-41886277">[1 more]</label></div><br/><div class="children"><div class="content">The secrecy of the inner tech is intentional.</div><br/></div></div></div></div></div></div></div></div></div></body></html>