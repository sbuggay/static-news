<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728205269160" as="style"/><link rel="stylesheet" href="styles.css?v=1728205269160"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://hpyproject.org/">HPy – A better C API for Python</a> <span class="domain">(<a href="https://hpyproject.org">hpyproject.org</a>)</span></div><div class="subtext"><span>gjvc</span> | <span>14 comments</span></div><br/><div><div id="41755537" class="c"><input type="checkbox" id="c-41755537" checked=""/><div class="controls bullet"><span class="by">koe123</span><span>|</span><a href="#41755467">next</a><span>|</span><label class="collapse" for="c-41755537">[-]</label><label class="expand" for="c-41755537">[5 more]</label></div><br/><div class="children"><div class="content">Is my understanding correct that this would provide version agnostic python bindings? Currently, I am building a version of my bindings separately for each version (e.g. building and linking with python 3.7, 3.8, etc.). While automated, it still makes CI&#x2F;CD take quite a long time.</div><br/><div id="41755629" class="c"><input type="checkbox" id="c-41755629" checked=""/><div class="controls bullet"><span class="by">kzrdude</span><span>|</span><a href="#41755537">parent</a><span>|</span><a href="#41755588">next</a><span>|</span><label class="collapse" for="c-41755629">[-]</label><label class="expand" for="c-41755629">[1 more]</label></div><br/><div class="children"><div class="content">Cpython also has a limited stable abi and cp3X-abi3 wheels are compatible across multiple versions of Python.<p><a href="https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;c-api&#x2F;stable.html" rel="nofollow">https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;c-api&#x2F;stable.html</a></div><br/></div></div><div id="41755588" class="c"><input type="checkbox" id="c-41755588" checked=""/><div class="controls bullet"><span class="by">aragilar</span><span>|</span><a href="#41755537">parent</a><span>|</span><a href="#41755629">prev</a><span>|</span><a href="#41755604">next</a><span>|</span><label class="collapse" for="c-41755588">[-]</label><label class="expand" for="c-41755588">[1 more]</label></div><br/><div class="children"><div class="content">I believe so, but it would presumably depend on what features you use.</div><br/></div></div><div id="41755604" class="c"><input type="checkbox" id="c-41755604" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#41755537">parent</a><span>|</span><a href="#41755588">prev</a><span>|</span><a href="#41755467">next</a><span>|</span><label class="collapse" for="c-41755604">[-]</label><label class="expand" for="c-41755604">[2 more]</label></div><br/><div class="children"><div class="content"><i>While automated, it still makes CI&#x2F;CD take quite a long time</i><p>See about using ccache -- <a href="https:&#x2F;&#x2F;ccache.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ccache.dev&#x2F;</a></div><br/><div id="41755812" class="c"><input type="checkbox" id="c-41755812" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#41755537">root</a><span>|</span><a href="#41755604">parent</a><span>|</span><a href="#41755467">next</a><span>|</span><label class="collapse" for="c-41755812">[-]</label><label class="expand" for="c-41755812">[1 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t recommend ccache (or sccache) in CI unless you <i>really</i> need it. They are not 100% reliable, and any time you save from caching will be more than lost debugging the weird failures you get when they go wrong.</div><br/></div></div></div></div></div></div><div id="41755467" class="c"><input type="checkbox" id="c-41755467" checked=""/><div class="controls bullet"><span class="by">rich_sasha</span><span>|</span><a href="#41755537">prev</a><span>|</span><a href="#41755463">next</a><span>|</span><label class="collapse" for="c-41755467">[-]</label><label class="expand" for="c-41755467">[2 more]</label></div><br/><div class="children"><div class="content">Looks very cool.<p>How many new extensions are written in C these days? I was under the impression it&#x27;s mostly things like Boost Python, pybind or PyO3.</div><br/><div id="41755583" class="c"><input type="checkbox" id="c-41755583" checked=""/><div class="controls bullet"><span class="by">aragilar</span><span>|</span><a href="#41755467">parent</a><span>|</span><a href="#41755463">next</a><span>|</span><label class="collapse" for="c-41755583">[-]</label><label class="expand" for="c-41755583">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also Cython.<p>I would guess also that HPy would replace the includes of `Python.h` that pybind11 et al make in order to bind to CPython, and so existing extensions should be easier to port?</div><br/></div></div></div></div><div id="41755463" class="c"><input type="checkbox" id="c-41755463" checked=""/><div class="controls bullet"><span class="by">murkt</span><span>|</span><a href="#41755467">prev</a><span>|</span><label class="collapse" for="c-41755463">[-]</label><label class="expand" for="c-41755463">[6 more]</label></div><br/><div class="children"><div class="content">Imagine how different the Python ecosystem could be, if this was done 20 years ago.</div><br/><div id="41755667" class="c"><input type="checkbox" id="c-41755667" checked=""/><div class="controls bullet"><span class="by">foolfoolz</span><span>|</span><a href="#41755463">parent</a><span>|</span><a href="#41755617">next</a><span>|</span><label class="collapse" for="c-41755667">[-]</label><label class="expand" for="c-41755667">[4 more]</label></div><br/><div class="children"><div class="content">python has one of the most fractured development ecosystems of any moderately used language. i’m pretty convinced python is a language that attracts poor development practices and magnifies them due to its flexibility. the people who love it don’t understand the extreme flexibility makes it fragile at scale and are willing to put up with its annoyances in an almost stockholm syndrome way</div><br/><div id="41755785" class="c"><input type="checkbox" id="c-41755785" checked=""/><div class="controls bullet"><span class="by">Const-me</span><span>|</span><a href="#41755463">root</a><span>|</span><a href="#41755667">parent</a><span>|</span><a href="#41755789">next</a><span>|</span><label class="collapse" for="c-41755785">[-]</label><label class="expand" for="c-41755785">[1 more]</label></div><br/><div class="children"><div class="content">&gt; a language that attracts poor development practices<p>I agree, but note there’s another way to frame it: “python can be used by people who aren’t professional software developers”.</div><br/></div></div><div id="41755789" class="c"><input type="checkbox" id="c-41755789" checked=""/><div class="controls bullet"><span class="by">miohtama</span><span>|</span><a href="#41755463">root</a><span>|</span><a href="#41755667">parent</a><span>|</span><a href="#41755785">prev</a><span>|</span><a href="#41755745">next</a><span>|</span><label class="collapse" for="c-41755789">[-]</label><label class="expand" for="c-41755789">[1 more]</label></div><br/><div class="children"><div class="content">C&#x2F;C++ is more fractured.<p>While Python is fractured, it is nowhere near problems of C ecosystems.</div><br/></div></div><div id="41755745" class="c"><input type="checkbox" id="c-41755745" checked=""/><div class="controls bullet"><span class="by">bvrmn</span><span>|</span><a href="#41755463">root</a><span>|</span><a href="#41755667">parent</a><span>|</span><a href="#41755789">prev</a><span>|</span><a href="#41755617">next</a><span>|</span><label class="collapse" for="c-41755745">[-]</label><label class="expand" for="c-41755745">[1 more]</label></div><br/><div class="children"><div class="content">The reason is a popularity not a technical one. It&#x27;s inevitable to get a diverse interest to improve different parts of ecosystem by different parties.</div><br/></div></div></div></div><div id="41755617" class="c"><input type="checkbox" id="c-41755617" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#41755463">parent</a><span>|</span><a href="#41755667">prev</a><span>|</span><label class="collapse" for="c-41755617">[-]</label><label class="expand" for="c-41755617">[1 more]</label></div><br/><div class="children"><div class="content">Unless it was done at the very beginning, I doubt it would have been even possible because the current C API is the remnant from that very first public version.</div><br/></div></div></div></div></div></div></div></div></div></body></html>