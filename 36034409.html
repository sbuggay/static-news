<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684832454008" as="style"/><link rel="stylesheet" href="styles.css?v=1684832454008"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.vogons.org/viewtopic.php?t=86172">Salt Lake 2002 – not enough memory/crashes to desktop after starting error</a> <span class="domain">(<a href="https://www.vogons.org">www.vogons.org</a>)</span></div><div class="subtext"><span>DMell</span> | <span>26 comments</span></div><br/><div><div id="36040133" class="c"><input type="checkbox" id="c-36040133" checked=""/><div class="controls bullet"><span class="by">mrpippy</span><span>|</span><a href="#36039665">next</a><span>|</span><label class="collapse" for="c-36040133">[-]</label><label class="expand" for="c-36040133">[2 more]</label></div><br/><div class="children"><div class="content">This reminded me of work I did for Proton&#x2F;Wine a few years back: finding a buffer overflow in the Rockstar Games Launcher installer NSIS script, having to implement an ancient deprecated Windows named pipe mode that RGL uses, reverse-engineering the VRAM display&#x2F;detection in GTA IV…<p>If anyone wants to do this kind of reverse-engineering for a living, we’re hiring at CodeWeavers: <a href="https:&#x2F;&#x2F;www.codeweavers.com&#x2F;about&#x2F;jobs" rel="nofollow">https:&#x2F;&#x2F;www.codeweavers.com&#x2F;about&#x2F;jobs</a></div><br/><div id="36041353" class="c"><input type="checkbox" id="c-36041353" checked=""/><div class="controls bullet"><span class="by">easyThrowaway</span><span>|</span><a href="#36040133">parent</a><span>|</span><a href="#36039665">next</a><span>|</span><label class="collapse" for="c-36041353">[-]</label><label class="expand" for="c-36041353">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the often unrecognized work that goes in creating something like this.<p>Once in a while I try some of my father old games with my steam deck (&#x27;90s game like the OG Colin Mc Rae Rally or the early Need For Speed games)and I&#x27;m impressed how they work with basically no issues on current-gen devices.</div><br/></div></div></div></div><div id="36039665" class="c"><input type="checkbox" id="c-36039665" checked=""/><div class="controls bullet"><span class="by">svieira</span><span>|</span><a href="#36040133">prev</a><span>|</span><a href="#36038834">next</a><span>|</span><label class="collapse" for="c-36039665">[-]</label><label class="expand" for="c-36039665">[1 more]</label></div><br/><div class="children"><div class="content">Anyone else see the title and the site domain think, &quot;Oh, was Salt Lake an obscure Intel architecture that was <i>too</i> stable and caused errors in programs because there weren&#x27;t enough CPU errors during startup?&quot;<p>The actual debugging war story (decompiling an old InstallShield installer and detailed examinations of a routine that presumed that 64MB was more VRAM that anyone would _ever_ need) was quite good too.</div><br/></div></div><div id="36038834" class="c"><input type="checkbox" id="c-36038834" checked=""/><div class="controls bullet"><span class="by">klyrs</span><span>|</span><a href="#36039665">prev</a><span>|</span><a href="#36038839">next</a><span>|</span><label class="collapse" for="c-36038834">[-]</label><label class="expand" for="c-36038834">[1 more]</label></div><br/><div class="children"><div class="content">This wasn&#x27;t a problem back in 2002.  Back then, you could just leak however much memory you&#x27;d need to bring the total down to a positive number.<p><a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20020207000806&#x2F;https:&#x2F;&#x2F;www.php.net&#x2F;manual&#x2F;en&#x2F;function.leak.php" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20020207000806&#x2F;https:&#x2F;&#x2F;www.php.n...</a></div><br/></div></div><div id="36038839" class="c"><input type="checkbox" id="c-36038839" checked=""/><div class="controls bullet"><span class="by">johncalvinyoung</span><span>|</span><a href="#36038834">prev</a><span>|</span><a href="#36038758">next</a><span>|</span><label class="collapse" for="c-36038839">[-]</label><label class="expand" for="c-36038839">[1 more]</label></div><br/><div class="children"><div class="content">If I was more skilled with a debugger, I&#x27;d try to dig into why one of my favorite childhood games (an arcade WWII dogfighter game) runs just fine on Windows for ARM64, EXCEPT resetting inventory between each level, which makes final bosses much less fun, as part of the game is stacking powerups.</div><br/></div></div><div id="36038758" class="c"><input type="checkbox" id="c-36038758" checked=""/><div class="controls bullet"><span class="by">aftbit</span><span>|</span><a href="#36038839">prev</a><span>|</span><a href="#36038676">next</a><span>|</span><label class="collapse" for="c-36038758">[-]</label><label class="expand" for="c-36038758">[1 more]</label></div><br/><div class="children"><div class="content">I love this super interesting debugging war story, on such a pointless target. There&#x27;s something delicious about putting so much effort and coming to such a satisfying conclusion when working on such an obscure game.</div><br/></div></div><div id="36038676" class="c"><input type="checkbox" id="c-36038676" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#36038758">prev</a><span>|</span><a href="#36039085">next</a><span>|</span><label class="collapse" for="c-36038676">[-]</label><label class="expand" for="c-36038676">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;m intrigued why MS decided to have GlobalMemoryStatus return a negative number if there is more than 4GB, rather than returning the maximum value.</div><br/><div id="36038797" class="c"><input type="checkbox" id="c-36038797" checked=""/><div class="controls bullet"><span class="by">Narishma</span><span>|</span><a href="#36038676">parent</a><span>|</span><a href="#36038859">next</a><span>|</span><label class="collapse" for="c-36038797">[-]</label><label class="expand" for="c-36038797">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s worse than that. It returns the max value (2GB) when there is more than 2GB but less than 4GB, but a negative value if there is more than 4GB.</div><br/></div></div><div id="36038859" class="c"><input type="checkbox" id="c-36038859" checked=""/><div class="controls bullet"><span class="by">zamnos</span><span>|</span><a href="#36038676">parent</a><span>|</span><a href="#36038797">prev</a><span>|</span><a href="#36038736">next</a><span>|</span><label class="collapse" for="c-36038859">[-]</label><label class="expand" for="c-36038859">[2 more]</label></div><br/><div class="children"><div class="content">2^32 is 4294967296, or 4 GiB. Back before Windows ran on 64-bit machines, 4 GiB was as big a number as a standard int could represent. Updating it for 64-bit mode would mean breaking 32-bit programs, so &quot;fixing&quot; it isn&#x27;t necessarily an upgrade.</div><br/><div id="36038942" class="c"><input type="checkbox" id="c-36038942" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#36038676">root</a><span>|</span><a href="#36038859">parent</a><span>|</span><a href="#36038736">next</a><span>|</span><label class="collapse" for="c-36038942">[-]</label><label class="expand" for="c-36038942">[1 more]</label></div><br/><div class="children"><div class="content">I think OP was suggesting that instead of overflowing, the API could have instead returned 2^32 &#x2F; 4 GiB.</div><br/></div></div></div></div><div id="36038736" class="c"><input type="checkbox" id="c-36038736" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#36038676">parent</a><span>|</span><a href="#36038859">prev</a><span>|</span><a href="#36039085">next</a><span>|</span><label class="collapse" for="c-36038736">[-]</label><label class="expand" for="c-36038736">[1 more]</label></div><br/><div class="children"><div class="content">I was thinking the same. I’m guessing that originally the lack of a bounds check was for efficiency’s sake (save a CPU cycle or two) and they chose not to update it assuming people would use the newer API.</div><br/></div></div></div></div><div id="36039085" class="c"><input type="checkbox" id="c-36039085" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36038676">prev</a><span>|</span><a href="#36034657">next</a><span>|</span><label class="collapse" for="c-36039085">[-]</label><label class="expand" for="c-36039085">[5 more]</label></div><br/><div class="children"><div class="content">This is why “warning. Game needs 64 mb and you have -2gb continue y&#x2F;n?” Is better than just dying out.</div><br/><div id="36039558" class="c"><input type="checkbox" id="c-36039558" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#36039085">parent</a><span>|</span><a href="#36039561">next</a><span>|</span><label class="collapse" for="c-36039558">[-]</label><label class="expand" for="c-36039558">[1 more]</label></div><br/><div class="children"><div class="content">I think it depends on application. For a video game, that’s what you should do. However, that’s not really advisable for a database where broken invariants might lead to corruption.</div><br/></div></div><div id="36039561" class="c"><input type="checkbox" id="c-36039561" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#36039085">parent</a><span>|</span><a href="#36039558">prev</a><span>|</span><a href="#36034657">next</a><span>|</span><label class="collapse" for="c-36039561">[-]</label><label class="expand" for="c-36039561">[3 more]</label></div><br/><div class="children"><div class="content">In open source software where you can throw it over the fence and say &quot;no warranty&quot;, perhaps.<p>In commercial software where your users will say &quot;Y&quot; even when they have 16MB of RAM, have an awful time, waste your money calling your support in that unsupported configuration (and forget to mention it), and leave negative reviews - no, hard blocks make a lot of sense.</div><br/><div id="36039581" class="c"><input type="checkbox" id="c-36039581" checked=""/><div class="controls bullet"><span class="by">jojobas</span><span>|</span><a href="#36039085">root</a><span>|</span><a href="#36039561">parent</a><span>|</span><a href="#36034657">next</a><span>|</span><label class="collapse" for="c-36039581">[-]</label><label class="expand" for="c-36039581">[2 more]</label></div><br/><div class="children"><div class="content">How does the hard block prevent wasted support time and negative reviews?</div><br/><div id="36039612" class="c"><input type="checkbox" id="c-36039612" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#36039085">root</a><span>|</span><a href="#36039581">parent</a><span>|</span><a href="#36034657">next</a><span>|</span><label class="collapse" for="c-36039612">[-]</label><label class="expand" for="c-36039612">[1 more]</label></div><br/><div class="children"><div class="content">&quot;The program won&#x27;t start&quot; is straightforward and a short script will quickly identify the real problem.<p>&quot;On Tuesdays when I alt-tab to Backgammon, my save file is corrupted&quot; is much tougher to immediately identify as out of memory.<p>Telling users no at the beginning yields far fewer negative feelings than letting them get invested and then experience a major problem, blocker, or just constant random irritations</div><br/></div></div></div></div></div></div></div></div><div id="36034657" class="c"><input type="checkbox" id="c-36034657" checked=""/><div class="controls bullet"><span class="by">mahin</span><span>|</span><a href="#36039085">prev</a><span>|</span><a href="#36039417">next</a><span>|</span><label class="collapse" for="c-36034657">[-]</label><label class="expand" for="c-36034657">[7 more]</label></div><br/><div class="children"><div class="content">Was just going to post this but you beat me to it! This was a fun read, and introduced me to vogons where I think I&#x27;ll be spending some time.</div><br/><div id="36038511" class="c"><input type="checkbox" id="c-36038511" checked=""/><div class="controls bullet"><span class="by">mysterydip</span><span>|</span><a href="#36034657">parent</a><span>|</span><a href="#36038343">next</a><span>|</span><label class="collapse" for="c-36038511">[-]</label><label class="expand" for="c-36038511">[5 more]</label></div><br/><div class="children"><div class="content">Vogons is a great place with lots of experts on vintage software and hardware. Definitely recommend it to anyone interested in either running old stuff or just on history&#x2F;tidbits&#x2F;how-things-worked like that post.</div><br/><div id="36038538" class="c"><input type="checkbox" id="c-36038538" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#36034657">root</a><span>|</span><a href="#36038511">parent</a><span>|</span><a href="#36038343">next</a><span>|</span><label class="collapse" for="c-36038538">[-]</label><label class="expand" for="c-36038538">[4 more]</label></div><br/><div class="children"><div class="content">Just don&#x27;t read their poetry.</div><br/><div id="36038579" class="c"><input type="checkbox" id="c-36038579" checked=""/><div class="controls bullet"><span class="by">akiselev</span><span>|</span><a href="#36034657">root</a><span>|</span><a href="#36038538">parent</a><span>|</span><a href="#36038343">next</a><span>|</span><label class="collapse" for="c-36038579">[-]</label><label class="expand" for="c-36038579">[3 more]</label></div><br/><div class="children"><div class="content">Honestly the Vogons were only the third worst poets in the universe. If you can read awful human poetry like anything by Paula Nancy Millstone Jennings, they won&#x27;t faze you.</div><br/><div id="36039415" class="c"><input type="checkbox" id="c-36039415" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#36034657">root</a><span>|</span><a href="#36038579">parent</a><span>|</span><a href="#36038741">next</a><span>|</span><label class="collapse" for="c-36039415">[-]</label><label class="expand" for="c-36039415">[1 more]</label></div><br/><div class="children"><div class="content">I tried once, but I had to gnaw my own legs off to survive.</div><br/></div></div></div></div></div></div></div></div><div id="36038343" class="c"><input type="checkbox" id="c-36038343" checked=""/><div class="controls bullet"><span class="by">DMell</span><span>|</span><a href="#36034657">parent</a><span>|</span><a href="#36038511">prev</a><span>|</span><a href="#36039417">next</a><span>|</span><label class="collapse" for="c-36038343">[-]</label><label class="expand" for="c-36038343">[1 more]</label></div><br/><div class="children"><div class="content">It was an amazing read! I still have so much more digging to do from it.</div><br/></div></div></div></div><div id="36039417" class="c"><input type="checkbox" id="c-36039417" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#36034657">prev</a><span>|</span><a href="#36038578">next</a><span>|</span><label class="collapse" for="c-36039417">[-]</label><label class="expand" for="c-36039417">[1 more]</label></div><br/><div class="children"><div class="content">This is everything that is great about the Internet.</div><br/></div></div><div id="36038578" class="c"><input type="checkbox" id="c-36038578" checked=""/><div class="controls bullet"><span class="by">el_don_almighty</span><span>|</span><a href="#36039417">prev</a><span>|</span><label class="collapse" for="c-36038578">[-]</label><label class="expand" for="c-36038578">[1 more]</label></div><br/><div class="children"><div class="content">Elegant, with a wafting hint of the sublime</div><br/></div></div></div></div></div></div></div></body></html>