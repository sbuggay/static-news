<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725181262576" as="style"/><link rel="stylesheet" href="styles.css?v=1725181262576"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/aceberg/WatchYourLAN">WatchYourLAN: Lightweight Network IP Scanner</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>13 comments</span></div><br/><div><div id="41412932" class="c"><input type="checkbox" id="c-41412932" checked=""/><div class="controls bullet"><span class="by">redbell</span><span>|</span><a href="#41413265">next</a><span>|</span><label class="collapse" for="c-41412932">[-]</label><label class="expand" for="c-41412932">[7 more]</label></div><br/><div class="children"><div class="content">Speaking about LAN, today, I encountered an unexpected event I had never imagined or experienced before.<p>I was working on a simple HTML&#x2F;CSS game in VS Code, with <i>Live Server</i> running on port 5500 to serve the site. Feeling a bit tired, I decided to take a break. I put my Windows PC to sleep and moved to another room in my house. There, I spotted my Android tablet and thought it would be interesting to see how the game would perform on a tablet.<p>I unlocked the tablet, opened Chrome, entered my PC&#x27;s local IP address and port, and hit &#x27;Go&#x27;. To my surprise, the loading spinner appeared and spun for about 3-4 seconds. I was puzzled as to why the request was taking so long to get a response, and then it hit me—my PC was supposed to be sleeping.<p>Yet, just as I was processing this realization, the game’s web page loaded on the tablet. I was stunned, thinking, &quot;Wait a minute—didn&#x27;t I put my PC to sleep?&quot; I went back to check my PC, and sure enough, it was awake but showing the lock screen. Out of curiosity, I repeated the experiment: I put the PC to sleep again, then accessed the webpage from my phone, and, once again, my PC awoke in response to the request. It was an eye-opening moment to see how the network request could wake my PC from sleep!<p>I googled this behavior and turned out to be called <i>Wake on LAN</i> or, WOL for short [1].<p>__________________<p>1. <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;troubleshoot&#x2F;windows-client&#x2F;setup-upgrade-and-drivers&#x2F;wake-on-lan-feature" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;troubleshoot&#x2F;windows-clien...</a></div><br/><div id="41413078" class="c"><input type="checkbox" id="c-41413078" checked=""/><div class="controls bullet"><span class="by">kijiki</span><span>|</span><a href="#41412932">parent</a><span>|</span><a href="#41413057">next</a><span>|</span><label class="collapse" for="c-41413078">[-]</label><label class="expand" for="c-41413078">[3 more]</label></div><br/><div class="children"><div class="content">WoL relies on a special magic Ethernet frame being sent to the MAC of the sleeping computer. A normal ARP or TCP SYN from an incoming HTTP request won&#x27;t do it. The wikipedia article has the exact frame format:
<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Wake-on-LAN" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Wake-on-LAN</a><p>I&#x27;ve seen setups where the router is configured to send the magic WoL packet when it sees an ARP for the IP of a computer it knows is sleeping, but you&#x27;d almost certainly know if you had an exotic configuration like that on your network.</div><br/><div id="41413213" class="c"><input type="checkbox" id="c-41413213" checked=""/><div class="controls bullet"><span class="by">jcrawfordor</span><span>|</span><a href="#41412932">root</a><span>|</span><a href="#41413078">parent</a><span>|</span><a href="#41413283">next</a><span>|</span><label class="collapse" for="c-41413213">[-]</label><label class="expand" for="c-41413213">[1 more]</label></div><br/><div class="children"><div class="content">The terminology here can be a little confusing, because WoL isn&#x27;t a precisely standardized term but rather sort of a general label for a family of behaviors, the most common of which is the &quot;Magic Packet&quot; that originated with AMD. For some time a magic packet was mostly the only thing that could wake a computer, because the NIC had to originate a power-on event and most NICs were only capable of doing so in response to a magic packet. There were, though, particularly in more &quot;enterprise&quot; contexts, NICs that could be configured to wake the machine on other types of traffic. This kind of thing went in the option ROM of high-end NICs.<p>Today, though, with various low-power states and &quot;hybrid sleep,&quot; packets received while in a low-power state can actually be delivered to the operating system to make a decision on waking. That&#x27;s made WoL a lot more complex: with a supported network adapter and power state, Windows will wake up in response to pretty much any network traffic directed at the sleeping computer. That detection is surprisingly sophisticated, unicast packets addressed to a computer will wake it, but so will certain recognized discovery protocols sent to broadcast when they specify the computer&#x27;s hostname.<p>One the one hand, it&#x27;s pretty neat that e.g. attempting to connect to an SMB share on a Windows computer will wake it. On the other hand, it means that &quot;nuisance&quot; WoL has become an occasional irritation. For that reason you can configure Windows back to the original behavior of only waking on a magic packet specifically. To be fair, the whole idea came about in part because of all the implementation limitations with magic packets that made them very flaky.<p>Microsoft refers to all of this functionality with the term &quot;WoL,&quot; while Apple seems to have decided to avoid the confusion by calling the entire concept &quot;Wake on Demand&quot; instead.</div><br/></div></div><div id="41413283" class="c"><input type="checkbox" id="c-41413283" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#41412932">root</a><span>|</span><a href="#41413078">parent</a><span>|</span><a href="#41413213">prev</a><span>|</span><a href="#41413057">next</a><span>|</span><label class="collapse" for="c-41413283">[-]</label><label class="expand" for="c-41413283">[1 more]</label></div><br/><div class="children"><div class="content">Some cards seem to allow any packet, not just the WoL magic packet to wake the machine.  This is referenced in the Wikipedia article as &quot;Wake on Link&quot;<p>You can change this.  From memory it was directly in the Control Panel for Windows.  And ethtool or similar in Linux.</div><br/></div></div></div></div><div id="41413057" class="c"><input type="checkbox" id="c-41413057" checked=""/><div class="controls bullet"><span class="by">IgorPartola</span><span>|</span><a href="#41412932">parent</a><span>|</span><a href="#41413078">prev</a><span>|</span><a href="#41414533">next</a><span>|</span><label class="collapse" for="c-41413057">[-]</label><label class="expand" for="c-41413057">[1 more]</label></div><br/><div class="children"><div class="content">WOL is an old feature where you could even boot a PC that is off, not just asleep, but you had to confine it in the BIOS. It has become less useful with computers able to go into power save modes that are almost as good as having it fully off energy-wise.</div><br/></div></div><div id="41414533" class="c"><input type="checkbox" id="c-41414533" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#41412932">parent</a><span>|</span><a href="#41413057">prev</a><span>|</span><a href="#41413265">next</a><span>|</span><label class="collapse" for="c-41414533">[-]</label><label class="expand" for="c-41414533">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d bet on your computer using &quot;modern standby&quot; rather than WoL. Seems unlikely that your tablet would to send the special WoL ethernet packet just from a web browsing context.</div><br/></div></div></div></div><div id="41413265" class="c"><input type="checkbox" id="c-41413265" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#41412932">prev</a><span>|</span><a href="#41412295">next</a><span>|</span><label class="collapse" for="c-41413265">[-]</label><label class="expand" for="c-41413265">[2 more]</label></div><br/><div class="children"><div class="content">Where do you get your mac-&gt;vendor data from?  &quot;Hardware&quot; in your screen shot.<p>Most OUI (MAC) lists I&#x27;ve seen seem to be very incomplete for what ever reason.</div><br/><div id="41413522" class="c"><input type="checkbox" id="c-41413522" checked=""/><div class="controls bullet"><span class="by">kbaker</span><span>|</span><a href="#41413265">parent</a><span>|</span><a href="#41412295">next</a><span>|</span><label class="collapse" for="c-41413522">[-]</label><label class="expand" for="c-41413522">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t they all come from here?<p><a href="https:&#x2F;&#x2F;regauth.standards.ieee.org&#x2F;standards-ra-web&#x2F;pub&#x2F;view.html#registries" rel="nofollow">https:&#x2F;&#x2F;regauth.standards.ieee.org&#x2F;standards-ra-web&#x2F;pub&#x2F;view...</a><p>Just download the latest of all of the MA-L, MA-M, MA-S to embed in your app.</div><br/></div></div></div></div><div id="41412295" class="c"><input type="checkbox" id="c-41412295" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#41413265">prev</a><span>|</span><label class="collapse" for="c-41412295">[-]</label><label class="expand" for="c-41412295">[3 more]</label></div><br/><div class="children"><div class="content">Cool now tune it with Everything and let it show me data consumption by file||process|egress-addr<p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;RJYldEq.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;RJYldEq.png</a><p>integrate with poly || htop || etc<p><a href="https:&#x2F;&#x2F;www.ycombinator.com&#x2F;companies&#x2F;poly&#x2F;jobs&#x2F;L4ObRgn-founding-platform-full-stack-front-end-engineer">https:&#x2F;&#x2F;www.ycombinator.com&#x2F;companies&#x2F;poly&#x2F;jobs&#x2F;L4ObRgn-foun...</a><p>and give me a screen of IOs for egress ingress with nifty UFW UI</div><br/><div id="41414578" class="c"><input type="checkbox" id="c-41414578" checked=""/><div class="controls bullet"><span class="by">gloflo</span><span>|</span><a href="#41412295">parent</a><span>|</span><label class="collapse" for="c-41414578">[-]</label><label class="expand" for="c-41414578">[2 more]</label></div><br/><div class="children"><div class="content">Anything else we can humbly do for you, Sire?</div><br/><div id="41414732" class="c"><input type="checkbox" id="c-41414732" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#41412295">root</a><span>|</span><a href="#41414578">parent</a><span>|</span><label class="collapse" for="c-41414732">[-]</label><label class="expand" for="c-41414732">[1 more]</label></div><br/><div class="children"><div class="content">Its funny because we are really close to being able to invoke software apps and tools like that..</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>