<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717837263418" as="style"/><link rel="stylesheet" href="styles.css?v=1717837263418"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.uber.com/blog/how-ledgerstore-supports-trillions-of-indexes/?uclick_id=67d612cb-12f8-470a-98fd-e9f7144dfafb">LedgerStore Supports Trillions of Indexes at Uber</a> <span class="domain">(<a href="https://www.uber.com">www.uber.com</a>)</span></div><div class="subtext"><span>imnot404</span> | <span>82 comments</span></div><br/><div><div id="40609726" class="c"><input type="checkbox" id="c-40609726" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#40610372">next</a><span>|</span><label class="collapse" for="c-40609726">[-]</label><label class="expand" for="c-40609726">[44 more]</label></div><br/><div class="children"><div class="content">&gt; From a business impact perspective, operating LedgerStore is now very cost-effective due to reduced spend on DynamoDB. The estimated yearly savings are over $6 million per year.<p>I&#x27;d like to see this broken out more.  You replaced a managed service with a custom DB on top of MySQL.  Surely there is a significant amount of engineering effort that was&#x2F;is being spent to create&#x2F;maintain this.</div><br/><div id="40609912" class="c"><input type="checkbox" id="c-40609912" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#40609726">parent</a><span>|</span><a href="#40612769">next</a><span>|</span><label class="collapse" for="c-40609912">[-]</label><label class="expand" for="c-40609912">[39 more]</label></div><br/><div class="children"><div class="content">Managed services still require engineering efforts. I have never seen a transition to a cloud service that actually didn&#x27;t end up requiring a new hire.<p>It&#x27;s the dirty little secret of our industry.</div><br/><div id="40610446" class="c"><input type="checkbox" id="c-40610446" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40612261">next</a><span>|</span><label class="collapse" for="c-40610446">[-]</label><label class="expand" for="c-40610446">[12 more]</label></div><br/><div class="children"><div class="content">It depends on your scale.<p>As a solo dev just being able to point my apps to firebase and not worry about it saves a ridiculous amount of time.<p>At Uber&#x27;s scale they probably have to tweak Dynamo and other services so much they might as well bring em in house.<p>I&#x27;m a bit surprised we haven&#x27;t seen a new AWS, something like Walmart Web Services.</div><br/><div id="40610738" class="c"><input type="checkbox" id="c-40610738" checked=""/><div class="controls bullet"><span class="by">wongarsu</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610446">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40610738">[-]</label><label class="expand" for="c-40610738">[8 more]</label></div><br/><div class="children"><div class="content">On the other hand as a solo dev `sudo apt-get install postgresql` plus a short tweak of your pg_hba.conf and a quick script to run pg_dump every night is about as much work as setting up a cloud service.<p>Managed databases provide a lot of useful features, especially if shit hits the fan. I&#x27;m not saying you shouldn&#x27;t use them. But the work you put into reasonable self-hosted services and reasonable managed services often scale at a surprisingly similar pace.</div><br/><div id="40610792" class="c"><input type="checkbox" id="c-40610792" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610738">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40610792">[-]</label><label class="expand" for="c-40610792">[7 more]</label></div><br/><div class="children"><div class="content">Alright, what about Auth or other features Firebase has built in ?<p>I still have to host it somewhere.</div><br/><div id="40611075" class="c"><input type="checkbox" id="c-40611075" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610792">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40611075">[-]</label><label class="expand" for="c-40611075">[6 more]</label></div><br/><div class="children"><div class="content">Auth is included in your stack, e.g: django comes with it.<p>Plus you own the accounts, so you are not locked in.<p>Sync is the firebase kill feature, but most apps can live without it.</div><br/><div id="40611734" class="c"><input type="checkbox" id="c-40611734" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40611075">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40611734">[-]</label><label class="expand" for="c-40611734">[5 more]</label></div><br/><div class="children"><div class="content">For a side project it&#x27;s not that serious.<p>Firebase is ready to go without me thinking of the details.<p>If I&#x27;m using Flutter or React, I already have a nice client side sdk to use.<p>The 12th of never when I need to scale it I can switch to a different stack. Firebase functions allows me to do some server side data manipulation.<p>That said, if I was at work and needed to propose something I&#x27;d probably spend more time thinking of this. But for all my side projects firebase is my goto.<p>Let&#x27;s just say we&#x27;re having a competition to see who can crank out a basic crud app first. You&#x27;re not beating me with Flutter and Firebase.</div><br/><div id="40613273" class="c"><input type="checkbox" id="c-40613273" checked=""/><div class="controls bullet"><span class="by">faddypaddy34</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40611734">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40613273">[-]</label><label class="expand" for="c-40613273">[4 more]</label></div><br/><div class="children"><div class="content">Then if you are successful one day you can cry on social media about your large surprise bills.</div><br/><div id="40613800" class="c"><input type="checkbox" id="c-40613800" checked=""/><div class="controls bullet"><span class="by">manquer</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40613273">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40613800">[-]</label><label class="expand" for="c-40613800">[3 more]</label></div><br/><div class="children"><div class="content">That is a big “IF” . 99.99% side projects are not successful, you should not be planning architecture expecting to win the lottery .<p>Even if you did, on premise self-hosting does not save from scaling costs or problems .<p>If you are successful with firebase , all you get is the bill, firebase will definitely scale without sweat or intervention, for most businesses (side or small) that is better tradeoff .<p>If you are successful with a self hosted solution , you are likely to be down when the peak traffic or hug of death hits that is when you need it most to work, the app will fail.<p>This is even assuming intimate expertise on how to scale quickly and having many done it many times before with no mis steps and no researching on what to do.<p>A professionally managed service at firebase level which is shared infra has already both the capacity and code tuned to scale for any one tenant without effort or lag .<p>Self hosted infra is optimized for cost and usage pattern of one small tenant, no matter how good your scale out skills and autoscaling code is , there is going be a lag between you and something like firebase which will never notice your spike and issues around it.<p>This is the crux of success behind multi-tenant IaaS and PaaS, the reason Amazon opened up their infra to the world originally.<p>All the way even to Amazon.com scale of SRE skills and budgets, hosting on AWS will always be better and cheaper for them than using isolated infra only for them given their load pattern fluctuates pretty heavily .<p>Amazon.com would still run AWS even if was losing money a bit ,because it would make them more resilient and their infra costs cheaper .<p>The best analogy I have heard is it similar to insurance, works better with more and more users with diverse usage and risk patterns</div><br/><div id="40615021" class="c"><input type="checkbox" id="c-40615021" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40613800">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40615021">[-]</label><label class="expand" for="c-40615021">[2 more]</label></div><br/><div class="children"><div class="content">For me the answer is much simpler.<p>I find coding backends to be very boring. It&#x27;s just not something I want to do during my spare time.<p>Managed infra is almost always easier to get going.</div><br/><div id="40615468" class="c"><input type="checkbox" id="c-40615468" checked=""/><div class="controls bullet"><span class="by">manquer</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40615021">parent</a><span>|</span><a href="#40614128">next</a><span>|</span><label class="collapse" for="c-40615468">[-]</label><label class="expand" for="c-40615468">[1 more]</label></div><br/><div class="children"><div class="content">Coding CRUD and repeating patterns tends to be boring, however writing interesting logic in backend tends to be interesting.<p>Generated CRUD interfaces with basics like authentication etc is pretty much easy these days, whether Supabase, Hasura, PostgREST style self hostable stacks or just Firebase, even collaborative data structure basics for CRDTs don&#x27;t need to be built each time and are available out of the box.<p>Frontend can get repetitive too, a lot of components keep getting built and redone differently, interesting stuff which makes the tech be core part of the product differentiator such as say how WASM is used at Figma is the real interesting part in frontend.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="40614128" class="c"><input type="checkbox" id="c-40614128" checked=""/><div class="controls bullet"><span class="by">Gorath</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610446">parent</a><span>|</span><a href="#40610738">prev</a><span>|</span><a href="#40612261">next</a><span>|</span><label class="collapse" for="c-40614128">[-]</label><label class="expand" for="c-40614128">[3 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m a bit surprised we haven&#x27;t seen a new AWS, something like Walmart Web Services.<p>Don’t know if you have heard but there are these brand new services called Google cloud and Microsoft azure. Not to mention all the legacy saas providers e.g. oracle that existed prior to aws.</div><br/><div id="40614461" class="c"><input type="checkbox" id="c-40614461" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40614128">parent</a><span>|</span><a href="#40612261">next</a><span>|</span><label class="collapse" for="c-40614461">[-]</label><label class="expand" for="c-40614461">[2 more]</label></div><br/><div class="children"><div class="content">Both of those are tech companies, AWS if the official story is to be believed originated as an internal tool of an e-commerce website.</div><br/><div id="40615795" class="c"><input type="checkbox" id="c-40615795" checked=""/><div class="controls bullet"><span class="by">kolinko</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40614461">parent</a><span>|</span><a href="#40612261">next</a><span>|</span><label class="collapse" for="c-40615795">[-]</label><label class="expand" for="c-40615795">[1 more]</label></div><br/><div class="children"><div class="content">Why wouldn’t it be believed?</div><br/></div></div></div></div></div></div></div></div><div id="40612261" class="c"><input type="checkbox" id="c-40612261" checked=""/><div class="controls bullet"><span class="by">diob</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40610446">prev</a><span>|</span><a href="#40611807">next</a><span>|</span><label class="collapse" for="c-40612261">[-]</label><label class="expand" for="c-40612261">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think it&#x27;s a secret, I think the idea is it will allow you to be more resilient then a custom solution.  Why?  If the person(s) who made the custom solution leave, you can&#x27;t as easily hire a replacement.  What&#x27;s more, hiring immediately effective folks becomes harder, even if those folks who made it don&#x27;t leave.<p>It&#x27;s a tradeoff, but I don&#x27;t think folks are keeping secrets around it.</div><br/></div></div><div id="40611807" class="c"><input type="checkbox" id="c-40611807" checked=""/><div class="controls bullet"><span class="by">devjab</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40612261">prev</a><span>|</span><a href="#40615061">next</a><span>|</span><label class="collapse" for="c-40611807">[-]</label><label class="expand" for="c-40611807">[1 more]</label></div><br/><div class="children"><div class="content">You wish! In my experience they just load all the cloud work on to developers. Like, I’m setting up virtual networks, private endpoints, firewalls and what not, because if I don’t there won’t be horrible (I basically knew nothing about networking before I did it and I still don’t know if anything we do is correct in any manner) security but no security.<p>It’ll bite the company in the ass eventually, or maybe it won’t, but it is what it is.</div><br/></div></div><div id="40615061" class="c"><input type="checkbox" id="c-40615061" checked=""/><div class="controls bullet"><span class="by">acchow</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40611807">prev</a><span>|</span><a href="#40610022">next</a><span>|</span><label class="collapse" for="c-40615061">[-]</label><label class="expand" for="c-40615061">[1 more]</label></div><br/><div class="children"><div class="content">What about after the transition is complete? Surely managing a… managed service… is less costly?</div><br/></div></div><div id="40610022" class="c"><input type="checkbox" id="c-40610022" checked=""/><div class="controls bullet"><span class="by">echelon</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40615061">prev</a><span>|</span><a href="#40614821">next</a><span>|</span><label class="collapse" for="c-40610022">[-]</label><label class="expand" for="c-40610022">[19 more]</label></div><br/><div class="children"><div class="content">This is the biggest nasty secret about cloud (and SaaS for things you don&#x27;t build in-house).<p>When my last company transitioned to cloud, all of the on-prem folks had to additionally take on that responsibility. We then had to hire a bunch of new folks to ease the transition and manage the cloud pieces. And then there are new teams spun up for permissions and security. Your headcount requirements are not going to go down because of cloud.<p>As for those that like to call DIY systems &quot;weirdware&quot;: homegrown systems are expensive to engineer, but cheap to run. We 10x&#x27;d our cost going to 3rd party visibility and feature flagging versus the thinly staffed [1] homegrown systems. And those 3rd party systems also required a ton of engineering to support, the migrations weren&#x27;t clean, and they missed a lot of key features that we had to upstream to the third parties!<p>When SignalFx got bought out by Splunk, I&#x27;ve never seen an annual plan get re-wired so hastily. Top priority was moving to a new vendor, and that impacted every single team in the company.<p>The only real tangible benefit to cloud that I&#x27;ve seen is that a team can instantly provision hardware, database, etc. resources without much planning. That&#x27;s it. And is that worth it? (I don&#x27;t really think so.)<p>[1] Once built, half an engineering headcount per quarter to accommodate new features. Oncall rotation for one team that owned the systems. Our stuff was high resiliency and barely paged at all. No SEV1 or worse outages ever.</div><br/><div id="40610309" class="c"><input type="checkbox" id="c-40610309" checked=""/><div class="controls bullet"><span class="by">spamizbad</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610022">parent</a><span>|</span><a href="#40610525">next</a><span>|</span><label class="collapse" for="c-40610309">[-]</label><label class="expand" for="c-40610309">[3 more]</label></div><br/><div class="children"><div class="content">I love the term &quot;weirdware&quot;: I&#x27;ve seen systems like that built (and used!) first-hand multiple times in my career.<p>They can sometimes be very odd force multipliers in unexpected ways.<p>My favorite example is a home-rolled payroll applications specifically for sales people from over a decade ago. When I first arrived at the org I thought they were absolutely insane to have created such a thing. But its killer feature was that it allowed our org to pay out commissions rapidly (same day) and also allowed negotiating on a per-account residual commission basis as well as giving management the option to buy-out residuals. Off-the-shelf solutions at that time kinda-sorta did this but required either massive upfront $$$ and a ton of integration work. A plucky startup couldn&#x27;t afford it. This was built, tested, and rolled-out in 45 days by 2 engineers and basically allowed them to poach top sales people because they knew they could get paid faster and had more flexibility on residuals.</div><br/><div id="40611762" class="c"><input type="checkbox" id="c-40611762" checked=""/><div class="controls bullet"><span class="by">throwup238</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610309">parent</a><span>|</span><a href="#40611085">next</a><span>|</span><label class="collapse" for="c-40611762">[-]</label><label class="expand" for="c-40611762">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the tradeoff everyone makes when they say something isn&#x27;t in their &quot;core competency&quot; - they give up any real competitive advantage that area of expertise could bring them. That often makes total sense like with accounting or HR, but most companies take it way too far in engineering and internal support software.<p>Engineers make the same mistake all the time too: we love to say that &quot;premature optimization is the root of all evil&quot;, ignoring that the full quote is <i>&quot;We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. _Yet we should not pass up our opportunities in that critical 3%_&quot;</i></div><br/></div></div><div id="40611085" class="c"><input type="checkbox" id="c-40611085" checked=""/><div class="controls bullet"><span class="by">davedx</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610309">parent</a><span>|</span><a href="#40611762">prev</a><span>|</span><a href="#40610525">next</a><span>|</span><label class="collapse" for="c-40611085">[-]</label><label class="expand" for="c-40611085">[1 more]</label></div><br/><div class="children"><div class="content">Ha I built an internal app just like that for field sales at a mid sized company. One of the best projects I ever worked on.</div><br/></div></div></div></div><div id="40610525" class="c"><input type="checkbox" id="c-40610525" checked=""/><div class="controls bullet"><span class="by">throwup238</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610022">parent</a><span>|</span><a href="#40610309">prev</a><span>|</span><a href="#40610552">next</a><span>|</span><label class="collapse" for="c-40610525">[-]</label><label class="expand" for="c-40610525">[5 more]</label></div><br/><div class="children"><div class="content"><i>&gt; The only real tangible benefit to cloud that I&#x27;ve seen is that a team can instantly provision hardware, database, etc. resources without much planning. That&#x27;s it. And is that worth it? (I don&#x27;t really think so.)</i><p>Yes! Maybe not for you or me, but it’s definitely worth it to tons of organizations where everyone including engineering was beholden to old school IT departments that take months to spin up a VM after pages of bureaucratic back and forth. The cloud moves it from an IT issue to department budgeting.<p>The other advantage of cloud was moving capex to opex which the finance people liked because *<i>hand wave*</i> something about amortization. Those are the two reasons most established companies moved to the cloud. It had little to do with the actual cost but how it was spent and who was in charge of doing it.</div><br/><div id="40613507" class="c"><input type="checkbox" id="c-40613507" checked=""/><div class="controls bullet"><span class="by">dopylitty</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610525">parent</a><span>|</span><a href="#40611246">next</a><span>|</span><label class="collapse" for="c-40613507">[-]</label><label class="expand" for="c-40613507">[1 more]</label></div><br/><div class="children"><div class="content">Having seen the results of everyone being able to spin up a VM (or an EMR cluster, or an EKS cluster) I can say a little more bureaucracy is probably a good thing.<p>You end up wasting huge amounts of money on resources that are just sitting around idle (no your fancy automation to shut them down won&#x27;t work because maybe that dev cluster is actually needed at 2am on Sunday. It&#x27;s an org problem, not a technical problem).<p>But more importantly you give the cloud providers an excuse to destroy another square mile of pristine forest and build a giant 4 story grey box that wastes enormous amounts of already limited water and energy.</div><br/></div></div><div id="40611246" class="c"><input type="checkbox" id="c-40611246" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610525">parent</a><span>|</span><a href="#40613507">prev</a><span>|</span><a href="#40615631">next</a><span>|</span><label class="collapse" for="c-40611246">[-]</label><label class="expand" for="c-40611246">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  where everyone including engineering was beholden to old school IT departments that take months to spin up a VM after pages of bureaucratic back and forth. The cloud moves it from an IT issue to department budgeting.
</code></pre>
My F500 company put a stop to that. There is new paperwork in place to requisition cloud resources. The bureaucracy will not be replaced.</div><br/><div id="40611987" class="c"><input type="checkbox" id="c-40611987" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40611246">parent</a><span>|</span><a href="#40615631">next</a><span>|</span><label class="collapse" for="c-40611987">[-]</label><label class="expand" for="c-40611987">[1 more]</label></div><br/><div class="children"><div class="content">Even the startup I worked at in my last job didn&#x27;t let people just spin up whatever resources they felt like in AWS. Changes had to go through architecture&#x2F;security review, and I might have been the only SDE who was allowed to log into AWS at all. We were subject to SOC 2, but I imagine it&#x27;s relatively common for SaaS companies to have some kind of compliance framework assuming they want F500s as customers?</div><br/></div></div></div></div><div id="40615631" class="c"><input type="checkbox" id="c-40615631" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610525">parent</a><span>|</span><a href="#40611246">prev</a><span>|</span><a href="#40610552">next</a><span>|</span><label class="collapse" for="c-40615631">[-]</label><label class="expand" for="c-40615631">[1 more]</label></div><br/><div class="children"><div class="content">&gt; old school IT departments that take months to spin up a VM after pages of bureaucratic back and forth.<p>Virtual machines <i>were the bureaucracy shortcut</i>. People sounded <i>exactly</i> like you. In fact, you can go back about 30 or 40 years and each decade people said the same type of thing. E.g.:<p>&quot;What&#x27;s great about a mainframe logical partition is that we don&#x27;t have to do a year of paperwork to get our own mainframe.&quot;<p>&quot;What&#x27;s great about Intel servers is that we don&#x27;t have to beg IT for a mainframe LPAR.&quot;<p>&quot;What&#x27;s great about virtual machines is we don&#x27;t have to... &quot;<p>&quot;What&#x27;s great about the cloud is we don&#x27;t...&quot;<p>&quot;What&#x27;s great about SaaS is...&quot; &lt;- You are here.<p>PS: There&#x27;s products starting appear in the market that &quot;firewall&quot; SaaS products to stop people like you. Not the hackers. You!<p>The bureaucracy will not be side-stepped.</div><br/></div></div></div></div><div id="40610552" class="c"><input type="checkbox" id="c-40610552" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610022">parent</a><span>|</span><a href="#40610525">prev</a><span>|</span><a href="#40610137">next</a><span>|</span><label class="collapse" for="c-40610552">[-]</label><label class="expand" for="c-40610552">[3 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Your headcount requirements are not going to go down because of cloud.</i><p>Depends on how big you are.  I&#x27;m one person and I do a lot of things with the cloud that I could not do if I had to rack servers (or even order dedicateds).<p>Same goes for small 5-10 person teams that are good with Terraform.  I&#x27;ve seen some orgs punching waaaay above their weight given their size.  Not possible without classic IaaS.</div><br/><div id="40615763" class="c"><input type="checkbox" id="c-40615763" checked=""/><div class="controls bullet"><span class="by">throwaway29511</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610552">parent</a><span>|</span><a href="#40614841">next</a><span>|</span><label class="collapse" for="c-40615763">[-]</label><label class="expand" for="c-40615763">[1 more]</label></div><br/><div class="children"><div class="content">&gt; do a lot of things with the cloud that I could not do if I had to rack servers<p>It&#x27;s not a binary choice between cloud and physical racks in a data center. There is a wide range of options. Companies like Hetzner enables you to click a button and get a dedicated instance, while Digitalocean can provide you with a VM. Both options are cheap and doesn&#x27;t require much time.<p>If you do this often, you probably also have an ansible setup to install the base software (like k8s or a simpler stack), you are ready to go within minutes. Just like you would have a terraform config for your cloud</div><br/></div></div><div id="40614841" class="c"><input type="checkbox" id="c-40614841" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610552">parent</a><span>|</span><a href="#40615763">prev</a><span>|</span><a href="#40610137">next</a><span>|</span><label class="collapse" for="c-40614841">[-]</label><label class="expand" for="c-40614841">[1 more]</label></div><br/><div class="children"><div class="content">Being able to put everything into (good) source with all the lessons we have about how to manage source code over time puts incredible power into teams that can handle it.</div><br/></div></div></div></div><div id="40610137" class="c"><input type="checkbox" id="c-40610137" checked=""/><div class="controls bullet"><span class="by">pphysch</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610022">parent</a><span>|</span><a href="#40610552">prev</a><span>|</span><a href="#40610111">next</a><span>|</span><label class="collapse" for="c-40610137">[-]</label><label class="expand" for="c-40610137">[4 more]</label></div><br/><div class="children"><div class="content">&gt; This is the biggest nasty secret about cloud (and SaaS for things you don&#x27;t build in-house).<p>Yep. Huge amounts of marketing funds are spent tricking decision-makers into thinking that off-the-shelf, plug-and-play solutions exist for their idiosyncratic business problems and schemas.<p>Sometimes such products exist, but they are so bloated with features to support the other 99% of customers. So you absolutely need at least one expert to unwind the complexity.<p>It&#x27;s known that &quot;greenfield&quot; software development is much easier than &quot;brownfield&quot;&#x2F;migrations. It should also be widely known that brownfield SaaS integrations are troublesome, because it involves enormous software+data work to link the existing in-house interfaces to the third-party interfaces. As a rule of thumb, there is no such thing as &quot;off-the-shelf&quot;. You WILL have to hire and build and deeply understand your business processes.</div><br/><div id="40610476" class="c"><input type="checkbox" id="c-40610476" checked=""/><div class="controls bullet"><span class="by">dehrmann</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610137">parent</a><span>|</span><a href="#40610111">next</a><span>|</span><label class="collapse" for="c-40610476">[-]</label><label class="expand" for="c-40610476">[3 more]</label></div><br/><div class="children"><div class="content">This is what people tell themselves, but 99% of the time, what your business does and the scale it operates at aren&#x27;t special.</div><br/><div id="40610548" class="c"><input type="checkbox" id="c-40610548" checked=""/><div class="controls bullet"><span class="by">adamisom</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610476">parent</a><span>|</span><a href="#40611802">next</a><span>|</span><label class="collapse" for="c-40610548">[-]</label><label class="expand" for="c-40610548">[1 more]</label></div><br/><div class="children"><div class="content">Special in the sense of scale does not equate to special in the sense of adapting to your business&#x27; needs&#x2F;culture&#x2F;sensemaking</div><br/></div></div><div id="40611802" class="c"><input type="checkbox" id="c-40611802" checked=""/><div class="controls bullet"><span class="by">lazide</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610476">parent</a><span>|</span><a href="#40610548">prev</a><span>|</span><a href="#40610111">next</a><span>|</span><label class="collapse" for="c-40611802">[-]</label><label class="expand" for="c-40611802">[1 more]</label></div><br/><div class="children"><div class="content">They don’t have to be special to be bespoke.<p>And almost all business integrations are highly bespoke.</div><br/></div></div></div></div></div></div><div id="40610111" class="c"><input type="checkbox" id="c-40610111" checked=""/><div class="controls bullet"><span class="by">deanCommie</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610022">parent</a><span>|</span><a href="#40610137">prev</a><span>|</span><a href="#40614821">next</a><span>|</span><label class="collapse" for="c-40610111">[-]</label><label class="expand" for="c-40610111">[3 more]</label></div><br/><div class="children"><div class="content">What a short-sighted outlook<p>1) &quot;homegrown systems are expensive to engineer, but cheap to run&quot; misses the most important part - how much does it cost to maintain, and how much of a RISK is it?<p>Homegrown probably means you&#x27;re depending on tribal knowledge from a few core people who if they leave you&#x27;re hosed. That&#x27;s a risk. You also have to train EVERYONE you hire to learn the homegrown systems, instead of hiring people with externally transferrable skills that can come in and hit the ground running.<p>2) all of the on-prem folks had to additionally take on that responsibility<p>Most transitions&#x2F;migrations always end up with a period where you have both systems running. It&#x27;s not surprising that at first everyone has additional responsibilities. It sounds like the &quot;on-prem folks&quot; either didn&#x27;t have the skills to work in the cloud or refused to learn, and needed external hires. Well, that&#x27;s one way to put themselves out of a job, and that would be the next step once the homegrown system is deprecated.<p>Obviously there&#x27;s a reason why &quot;not invented here&quot; syndrome exists. There&#x27;s a reason &quot;build vs buy&quot; is a complex discussion because of more than just buy costs. People always prefer the home-grown thing, DIY. Engineers especially. On this site, particularly. And, also, plenty of successful businesses exist by cutting out layers and going on a shallower stack (&quot;your margin is my opportunity&quot;).<p>But at the end of the day, for the vast majority of businesses, companies, and software shops, managing their own in-house infrastructure is a worse decision than paying a cloud vendor.</div><br/><div id="40610776" class="c"><input type="checkbox" id="c-40610776" checked=""/><div class="controls bullet"><span class="by">jcelerier</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610111">parent</a><span>|</span><a href="#40610741">next</a><span>|</span><label class="collapse" for="c-40610776">[-]</label><label class="expand" for="c-40610776">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Homegrown probably means you&#x27;re depending on tribal knowledge from a few core people who if they leave you&#x27;re hosed.<p>there&#x27;s so much complexity and tribal knowledge with cloud deployments that if tomorrow our cloud experts leave we&#x27;re also very definitely hosed too, despite everything being documented thoroughly. I&#x27;m involved in a product that leverages a cloud-based metaverse system (Mozilla Hubs) that recently had organisational changes requiring us to change our hosting approach, and it&#x27;s taking the better part of a year of work to understand its logic, for something that would have been a non-issue if homegrown &amp; self-hosted.</div><br/></div></div><div id="40610741" class="c"><input type="checkbox" id="c-40610741" checked=""/><div class="controls bullet"><span class="by">aledalgrande</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610111">parent</a><span>|</span><a href="#40610776">prev</a><span>|</span><a href="#40614821">next</a><span>|</span><label class="collapse" for="c-40610741">[-]</label><label class="expand" for="c-40610741">[1 more]</label></div><br/><div class="children"><div class="content">I see both points but I have to agree with this one, especially if we’re talking small companies. A startup should outsource everything that is outside their core product (but not more than that), so they can focus on making their product top class.</div><br/></div></div></div></div></div></div><div id="40614821" class="c"><input type="checkbox" id="c-40614821" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40610022">prev</a><span>|</span><a href="#40611040">next</a><span>|</span><label class="collapse" for="c-40614821">[-]</label><label class="expand" for="c-40614821">[1 more]</label></div><br/><div class="children"><div class="content">Cloud costs more but gives you data enter as a service. Software defined everything.</div><br/></div></div><div id="40611040" class="c"><input type="checkbox" id="c-40611040" checked=""/><div class="controls bullet"><span class="by">rco8786</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40614821">prev</a><span>|</span><a href="#40610270">next</a><span>|</span><label class="collapse" for="c-40611040">[-]</label><label class="expand" for="c-40611040">[1 more]</label></div><br/><div class="children"><div class="content">Bingo. You still need your whole Ops and tooling teams. They just become Cloud Ops and Cloud Tooling.</div><br/></div></div><div id="40610270" class="c"><input type="checkbox" id="c-40610270" checked=""/><div class="controls bullet"><span class="by">roncesvalles</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40609912">parent</a><span>|</span><a href="#40611040">prev</a><span>|</span><a href="#40612769">next</a><span>|</span><label class="collapse" for="c-40610270">[-]</label><label class="expand" for="c-40610270">[2 more]</label></div><br/><div class="children"><div class="content">Eh, sure but it&#x27;s not the same person. There are far more people who can &quot;do cloud&quot; than those who genuinely understand distributed systems well enough to build and operate a homegrown data infrastructure.</div><br/><div id="40610557" class="c"><input type="checkbox" id="c-40610557" checked=""/><div class="controls bullet"><span class="by">makmanalp</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40610270">parent</a><span>|</span><a href="#40612769">next</a><span>|</span><label class="collapse" for="c-40610557">[-]</label><label class="expand" for="c-40610557">[1 more]</label></div><br/><div class="children"><div class="content">True, but anyone who&#x27;s a cheaper hire because they can &quot;do cloud&quot; but not homegrown also represents a sacrifice in terms of what&#x27;s you get. In terms of your operational capabilities, you&#x27;ll likely be paying for that with a crisis first where everyone yells at your team because of a problem in your managed provider you can&#x27;t fix, and you can&#x27;t get someone from the provider on the line and helpful in a way that gets you out of it faster. So then you&#x27;ll tack on add a massive yearly support retainer for a response time SLA that&#x27;s still bad for your business bottom line and support that&#x27;s not incentivized to prioritize you. I have stories from name-brand PaaS&#x2F;IaaS companies.<p>It&#x27;s like outsourcing (I don&#x27;t mean offshore, I mean any kind). It can be a reasonable thing to do if you don&#x27;t pretend you&#x27;re getting the same thing for less money and really actually plan around that. But people often do pretend it&#x27;s the same, and the results aren&#x27;t immediately apparent. And when they&#x27;re finally blatantly apparent, either the guilty party has cashed out and left, or people don&#x27;t have enough perspective to point to the real root cause.<p>I&#x27;m not saying building your own infra is generally a good idea of course. It&#x27;s just that beyond a certain size, for more businesses than you&#x27;d think, reliability has to be a core competency you invest in. And homegrown is a lot easier than it used to be because the offerings in terms of tooling and platforms are way better such that you can strategically craft your level of managedness for optimum cost&#x2F;benefit on multiple criteria.</div><br/></div></div></div></div></div></div><div id="40612769" class="c"><input type="checkbox" id="c-40612769" checked=""/><div class="controls bullet"><span class="by">stefan_</span><span>|</span><a href="#40609726">parent</a><span>|</span><a href="#40609912">prev</a><span>|</span><a href="#40609835">next</a><span>|</span><label class="collapse" for="c-40612769">[-]</label><label class="expand" for="c-40612769">[1 more]</label></div><br/><div class="children"><div class="content">When did this profession turn into a bunch of people that never want to build anything ever again?<p>I guess I finally understand what they meant by &quot;no one ever got fired buying IBM&quot;.</div><br/></div></div><div id="40609835" class="c"><input type="checkbox" id="c-40609835" checked=""/><div class="controls bullet"><span class="by">stackskipton</span><span>|</span><a href="#40609726">parent</a><span>|</span><a href="#40612769">prev</a><span>|</span><a href="#40613456">next</a><span>|</span><label class="collapse" for="c-40609835">[-]</label><label class="expand" for="c-40609835">[1 more]</label></div><br/><div class="children"><div class="content">Yea, 6 Million is about ~15 Engineers at Uber Total Comp average.</div><br/></div></div><div id="40613456" class="c"><input type="checkbox" id="c-40613456" checked=""/><div class="controls bullet"><span class="by">gigatexal</span><span>|</span><a href="#40609726">parent</a><span>|</span><a href="#40609835">prev</a><span>|</span><a href="#40610372">next</a><span>|</span><label class="collapse" for="c-40613456">[-]</label><label class="expand" for="c-40613456">[2 more]</label></div><br/><div class="children"><div class="content">6M in total UBER spend is it really a worthwhile chunk of change?<p>I mean I’m here for the tech of course just curious from the cost benefit part.</div><br/><div id="40613525" class="c"><input type="checkbox" id="c-40613525" checked=""/><div class="controls bullet"><span class="by">bastawhiz</span><span>|</span><a href="#40609726">root</a><span>|</span><a href="#40613456">parent</a><span>|</span><a href="#40610372">next</a><span>|</span><label class="collapse" for="c-40613525">[-]</label><label class="expand" for="c-40613525">[1 more]</label></div><br/><div class="children"><div class="content">Six million dollars is six million dollars. Now, if that&#x27;s a team of eight delivering that value, yeah, it&#x27;s a great deal. If it&#x27;s an org of 100 people, 6M is much less exciting. I&#x27;d suspect it&#x27;s the former.</div><br/></div></div></div></div></div></div><div id="40610372" class="c"><input type="checkbox" id="c-40610372" checked=""/><div class="controls bullet"><span class="by">ThinkBeat</span><span>|</span><a href="#40609726">prev</a><span>|</span><a href="#40610246">next</a><span>|</span><label class="collapse" for="c-40610372">[-]</label><label class="expand" for="c-40610372">[12 more]</label></div><br/><div class="children"><div class="content">When you decide to just write your own database to store stuff in, 
because whatever is out there just doesn&#x27;t fit your use case.
you have most likely failed.<p>You can then either write a new database that fits the use case,
or take a hard look at the use case and change it to fit 
existing database systems.<p>Now as a programmer I LOVE the idea of writing a database
or an operating system, it would be super leet.<p>When writing a new database system, you will make a lot of 
mistakes and a lot of bugs that you will no doubt encounter
at inconvenient times after a lot of debugging and profiling.<p>This is built on top of MySQL which has been battle tested 
(still not where I would put any critical data)
Technically that you&#x27;re not writing the engine but with so much
functionality in two layers above MySQL 
you are in essence building an engine for the engine.</div><br/><div id="40612307" class="c"><input type="checkbox" id="c-40612307" checked=""/><div class="controls bullet"><span class="by">dangwu</span><span>|</span><a href="#40610372">parent</a><span>|</span><a href="#40610719">next</a><span>|</span><label class="collapse" for="c-40612307">[-]</label><label class="expand" for="c-40612307">[1 more]</label></div><br/><div class="children"><div class="content">You’re implying that you should never invent new tools. But every tool was a new invention upon its creation. Also, all software is an “engine” for an “engine”.</div><br/></div></div><div id="40610719" class="c"><input type="checkbox" id="c-40610719" checked=""/><div class="controls bullet"><span class="by">SilverBirch</span><span>|</span><a href="#40610372">parent</a><span>|</span><a href="#40612307">prev</a><span>|</span><a href="#40612582">next</a><span>|</span><label class="collapse" for="c-40610719">[-]</label><label class="expand" for="c-40610719">[2 more]</label></div><br/><div class="children"><div class="content">I think this depends on the context. Let’s say Uber had a database problem, they hired a bunch of database people and they came to the conclusion “we just <i>have</i> to write our own… fine. I think that’s actually perfectly legit. What I see much more commonly though is people who don’t really know too much about databases have problems and rather than go off and hire&#x2F;consult with experts, they just decide to build their own. That’s when you get into real trouble. 
The dirty truth is that whilst yes, Uber faces challenges due its scale, it also faces few real limits on building superfluous shit because of their success.</div><br/><div id="40610779" class="c"><input type="checkbox" id="c-40610779" checked=""/><div class="controls bullet"><span class="by">makestuff</span><span>|</span><a href="#40610372">root</a><span>|</span><a href="#40610719">parent</a><span>|</span><a href="#40612582">next</a><span>|</span><label class="collapse" for="c-40610779">[-]</label><label class="expand" for="c-40610779">[1 more]</label></div><br/><div class="children"><div class="content">Yeah this smells like promotion oriented architecture. I have a hard time believing that a logistics company that built DynamoDB and uses it extensively can make it work but uber cannot.<p>The 6m in savings does not properly account for things like ramping up new hires on some custom database, maintenance (what happens in 5 years when whatever language you wrote it in needs to be upgraded to a new version, or some dependency), and a host of other things.<p>Yes the cloud is expensive, but the entire point of it is that you are offloading all of that underlying maintenance&#x2F;feature work to a team that only does that all day every day and is very good at it.</div><br/></div></div></div></div><div id="40612582" class="c"><input type="checkbox" id="c-40612582" checked=""/><div class="controls bullet"><span class="by">aeyes</span><span>|</span><a href="#40610372">parent</a><span>|</span><a href="#40610719">prev</a><span>|</span><a href="#40610592">next</a><span>|</span><label class="collapse" for="c-40612582">[-]</label><label class="expand" for="c-40612582">[1 more]</label></div><br/><div class="children"><div class="content">I understand that this Ledgerstore thing is just some tables and materialized views in a Docstore database which they already use for everything else.<p>This seems to be an in-house DynamoDB (sharded MySQL with Raft) which has been developed a long time ago, see: <a href="https:&#x2F;&#x2F;www.uber.com&#x2F;en-US&#x2F;blog&#x2F;schemaless-sql-database&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.uber.com&#x2F;en-US&#x2F;blog&#x2F;schemaless-sql-database&#x2F;</a><p>But maybe I&#x27;m totally wrong here because they also use or used Google Spanner: <a href="https:&#x2F;&#x2F;www.uber.com&#x2F;en-US&#x2F;blog&#x2F;building-ubers-fulfillment-platform&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.uber.com&#x2F;en-US&#x2F;blog&#x2F;building-ubers-fulfillment-p...</a></div><br/></div></div><div id="40610592" class="c"><input type="checkbox" id="c-40610592" checked=""/><div class="controls bullet"><span class="by">bdcravens</span><span>|</span><a href="#40610372">parent</a><span>|</span><a href="#40612582">prev</a><span>|</span><a href="#40610647">next</a><span>|</span><label class="collapse" for="c-40610592">[-]</label><label class="expand" for="c-40610592">[2 more]</label></div><br/><div class="children"><div class="content">Perhaps but I think most of us have never worked on a problem of Uber&#x27;s scale. The behaviors of things change spectacularly above a certain level; it&#x27;s not just the same thing times N.<p>The implicit assumption of &quot;not invented here syndrome&quot; is that it has been invented elsewhere already, which isn&#x27;t always true.</div><br/><div id="40611921" class="c"><input type="checkbox" id="c-40611921" checked=""/><div class="controls bullet"><span class="by">convolvatron</span><span>|</span><a href="#40610372">root</a><span>|</span><a href="#40610592">parent</a><span>|</span><a href="#40610647">next</a><span>|</span><label class="collapse" for="c-40611921">[-]</label><label class="expand" for="c-40611921">[1 more]</label></div><br/><div class="children"><div class="content">whats missing from the reuse picture for things like operating systems, compilers (somwhat), and databases is systems that use a &#x27;lego&#x27; model of components that can be put together into solutions rather than deployable systems (which can clearly be built on top).<p>this provdies room for doing real customization without having to build all the things from ground zero, and is likely to be more robust than trying to attach functionality fully on the outside like was done here.<p>in the database world it would be really nice to implement caching and sharding extensions inside the transactional envelope</div><br/></div></div></div></div><div id="40610647" class="c"><input type="checkbox" id="c-40610647" checked=""/><div class="controls bullet"><span class="by">jonathan_landy</span><span>|</span><a href="#40610372">parent</a><span>|</span><a href="#40610592">prev</a><span>|</span><a href="#40610418">next</a><span>|</span><label class="collapse" for="c-40610647">[-]</label><label class="expand" for="c-40610647">[1 more]</label></div><br/><div class="children"><div class="content">That all makes sense.  On the other hand, next gen workhorses must often arise from people opting to do something new like this, rather than make do with the current gen workhorse.</div><br/></div></div><div id="40615185" class="c"><input type="checkbox" id="c-40615185" checked=""/><div class="controls bullet"><span class="by">executethis</span><span>|</span><a href="#40610372">parent</a><span>|</span><a href="#40610418">prev</a><span>|</span><a href="#40610246">next</a><span>|</span><label class="collapse" for="c-40615185">[-]</label><label class="expand" for="c-40615185">[3 more]</label></div><br/><div class="children"><div class="content">Agreed. There’s no reason to have so many indices.<p>I think the issue is their engineering culture. They have always had far too many engineers. They are clearly over complicating a such a simple product.</div><br/><div id="40615281" class="c"><input type="checkbox" id="c-40615281" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#40610372">root</a><span>|</span><a href="#40615185">parent</a><span>|</span><a href="#40615755">next</a><span>|</span><label class="collapse" for="c-40615281">[-]</label><label class="expand" for="c-40615281">[1 more]</label></div><br/><div class="children"><div class="content">Promotion and Resume Driven Development.</div><br/></div></div><div id="40615755" class="c"><input type="checkbox" id="c-40615755" checked=""/><div class="controls bullet"><span class="by">executethis</span><span>|</span><a href="#40610372">root</a><span>|</span><a href="#40615185">parent</a><span>|</span><a href="#40615281">prev</a><span>|</span><a href="#40610246">next</a><span>|</span><label class="collapse" for="c-40615755">[-]</label><label class="expand" for="c-40615755">[1 more]</label></div><br/><div class="children"><div class="content">People are downvoting this lmao. Sorry, the truth hurts. Match drivers with riders, give them a route from google maps, the end. It’s simple, sorry you all can’t understand that.</div><br/></div></div></div></div></div></div><div id="40610246" class="c"><input type="checkbox" id="c-40610246" checked=""/><div class="controls bullet"><span class="by">johnrob</span><span>|</span><a href="#40610372">prev</a><span>|</span><a href="#40610310">next</a><span>|</span><label class="collapse" for="c-40610246">[-]</label><label class="expand" for="c-40610246">[3 more]</label></div><br/><div class="children"><div class="content">I’m a little confused as to what “Index” refers to here.  Is it a data structure providing key lookup, or is it a single entry within one of these structures?</div><br/><div id="40610442" class="c"><input type="checkbox" id="c-40610442" checked=""/><div class="controls bullet"><span class="by">tantalor</span><span>|</span><a href="#40610246">parent</a><span>|</span><a href="#40614262">next</a><span>|</span><label class="collapse" for="c-40610442">[-]</label><label class="expand" for="c-40610442">[1 more]</label></div><br/><div class="children"><div class="content">It has to be entries. Also confused.</div><br/></div></div><div id="40614262" class="c"><input type="checkbox" id="c-40614262" checked=""/><div class="controls bullet"><span class="by">ec109685</span><span>|</span><a href="#40610246">parent</a><span>|</span><a href="#40610442">prev</a><span>|</span><a href="#40610310">next</a><span>|</span><label class="collapse" for="c-40614262">[-]</label><label class="expand" for="c-40614262">[1 more]</label></div><br/><div class="children"><div class="content">It’s a materialized view (so it’s the data structure providing key lookup).</div><br/></div></div></div></div><div id="40610310" class="c"><input type="checkbox" id="c-40610310" checked=""/><div class="controls bullet"><span class="by">tiffanyh</span><span>|</span><a href="#40610246">prev</a><span>|</span><a href="#40614781">next</a><span>|</span><label class="collapse" for="c-40610310">[-]</label><label class="expand" for="c-40610310">[2 more]</label></div><br/><div class="children"><div class="content">Is this at all related to the major migration from Postgres to MySQL?<p>Previously discussed on HN (294 comments):<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=12166585">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=12166585</a></div><br/><div id="40611036" class="c"><input type="checkbox" id="c-40611036" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#40610310">parent</a><span>|</span><a href="#40614781">next</a><span>|</span><label class="collapse" for="c-40611036">[-]</label><label class="expand" for="c-40611036">[1 more]</label></div><br/><div class="children"><div class="content">Yea, seems like a continuation of the same fundamental problem?  I don&#x27;t know.<p>As a commenter there put it - &quot;&quot;&quot;The actual summary of the article is &quot;The design of Postgres means that updating existing rows is inefficient compared to MySQL&quot;.&quot;&quot;&quot;<p>I think this is yet another approach to dealing with the cost of updating rows?</div><br/></div></div></div></div><div id="40614781" class="c"><input type="checkbox" id="c-40614781" checked=""/><div class="controls bullet"><span class="by">rossjudson</span><span>|</span><a href="#40610310">prev</a><span>|</span><a href="#40615380">next</a><span>|</span><label class="collapse" for="c-40614781">[-]</label><label class="expand" for="c-40614781">[2 more]</label></div><br/><div class="children"><div class="content">Looks like you built about 10% of Spanner. That&#x27;s a hard road to be on.<p>I&#x27;m curious about what it would cost you to run the same systems on Spanner.</div><br/><div id="40615326" class="c"><input type="checkbox" id="c-40615326" checked=""/><div class="controls bullet"><span class="by">kamikaz1k</span><span>|</span><a href="#40614781">parent</a><span>|</span><a href="#40615380">next</a><span>|</span><label class="collapse" for="c-40615326">[-]</label><label class="expand" for="c-40615326">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think Spanner is supposed to be cheaper than DynamoDB.</div><br/></div></div></div></div><div id="40615380" class="c"><input type="checkbox" id="c-40615380" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#40614781">prev</a><span>|</span><a href="#40613811">next</a><span>|</span><label class="collapse" for="c-40615380">[-]</label><label class="expand" for="c-40615380">[1 more]</label></div><br/><div class="children"><div class="content">HN loves Postgres because Swiss Army knife but mysql is just much faster in most cases. We have a weird use case with data scientists and millions of tables in one db: postgres is terrible at it, mysql has no issues at all. I guess it’s all fine if you are doing an ERP or crm; I would pick Postgres. But for anything else, I would start with mysql and see how far goes without wasting your life in devops (mysql master slave and master master are built in and trivial to set up; it just works).<p>(Sure, I hate Oracle too, but they actually did a pretty good job of both Java and mysql; i guess the 90s Borg for MS Gates and Satan for Oracle Ellison are less things now than they were)</div><br/></div></div><div id="40613811" class="c"><input type="checkbox" id="c-40613811" checked=""/><div class="controls bullet"><span class="by">zinodaur</span><span>|</span><a href="#40615380">prev</a><span>|</span><a href="#40609613">next</a><span>|</span><label class="collapse" for="c-40613811">[-]</label><label class="expand" for="c-40613811">[1 more]</label></div><br/><div class="children"><div class="content">Yes, writing a complete SQL DB engine like MySQL is a huge amount of work, but that is not what this article is talking about.<p>They are wrapping another database that solves these hard problems for them. This is a fine program to write. They will be able to hire other people to maintain it. Its not rocket science</div><br/></div></div><div id="40609613" class="c"><input type="checkbox" id="c-40609613" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#40613811">prev</a><span>|</span><a href="#40610692">next</a><span>|</span><label class="collapse" for="c-40609613">[-]</label><label class="expand" for="c-40609613">[1 more]</label></div><br/><div class="children"><div class="content">That was a pretty cool read, thanks for posting.  It always sends prickly&#x2F;danger signals to my brain when I see &quot;reads also write stuff&quot;, but this was laid out pretty clearly.  Dissolved that prickly feeling pretty quickly haha.</div><br/></div></div><div id="40610692" class="c"><input type="checkbox" id="c-40610692" checked=""/><div class="controls bullet"><span class="by">ddoolin</span><span>|</span><a href="#40609613">prev</a><span>|</span><a href="#40610475">next</a><span>|</span><label class="collapse" for="c-40610692">[-]</label><label class="expand" for="c-40610692">[2 more]</label></div><br/><div class="children"><div class="content">TIL that &quot;indexes&quot; is also a valid plural of &quot;index&quot;, as well as &quot;indices.&quot;</div><br/><div id="40614787" class="c"><input type="checkbox" id="c-40614787" checked=""/><div class="controls bullet"><span class="by">yen223</span><span>|</span><a href="#40610692">parent</a><span>|</span><a href="#40610475">next</a><span>|</span><label class="collapse" for="c-40614787">[-]</label><label class="expand" for="c-40614787">[1 more]</label></div><br/><div class="children"><div class="content">The plural of &quot;regex&quot; is &quot;regices&quot;</div><br/></div></div></div></div><div id="40610475" class="c"><input type="checkbox" id="c-40610475" checked=""/><div class="controls bullet"><span class="by">normand1</span><span>|</span><a href="#40610692">prev</a><span>|</span><a href="#40609909">next</a><span>|</span><label class="collapse" for="c-40610475">[-]</label><label class="expand" for="c-40610475">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like they rebuilt QLDB?
<a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;qldb&#x2F;latest&#x2F;developerguide&#x2F;what-is.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;qldb&#x2F;latest&#x2F;developerguide&#x2F;what-...</a></div><br/></div></div><div id="40609909" class="c"><input type="checkbox" id="c-40609909" checked=""/><div class="controls bullet"><span class="by">jpollock</span><span>|</span><a href="#40610475">prev</a><span>|</span><a href="#40610722">next</a><span>|</span><label class="collapse" for="c-40609909">[-]</label><label class="expand" for="c-40609909">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m confused, why does the Trip Service talk to the issuer to place a hold? I would have expected the Payment Service to mediate all that. Particularly since &quot;Place Hold&quot; is another way of saying &quot;Authorize Payment&quot;.<p>Perhaps the lines are wrong?</div><br/><div id="40610011" class="c"><input type="checkbox" id="c-40610011" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#40609909">parent</a><span>|</span><a href="#40610722">next</a><span>|</span><label class="collapse" for="c-40610011">[-]</label><label class="expand" for="c-40610011">[3 more]</label></div><br/><div class="children"><div class="content">&gt;  Particularly since &quot;Place Hold&quot; is another way of saying &quot;Authorize Payment&quot;.<p>As the article explains, <i>it&#x27;s not</i>, at least from the merchant&#x27;s side (from the customer&#x27;s side it is). A CC hold tells the bank &quot;hey guys, make sure that there will be at least X dollars available when we call in the hold&quot;, and the bank can either respond with &quot;yes, hold confirmed&quot; or &quot;nope, declined&quot; (say, due to a lack of funds, wrong CVV, whatever). When the hold is confirmed, and the customer makes another transaction at another vendor that would cause the amount of open holds + executed but not paid-off transactions to go above your limit, that transaction gets blocked.<p>And eventually, only once you as the merchant call in the hold, you will actually initiate the flow of money. Or you call in less than the held amount, and you&#x27;ll only get that amount of money (usually seen in hotels and car rentals, where the hold can be significantly larger than the bill, to account for stuff like minibar expenses, room cleaning or damages to the vehicle). Or you release the hold, or it expires, and you get no money at all, and all you can do is try to create a new transaction and hope it gets approved.</div><br/><div id="40610233" class="c"><input type="checkbox" id="c-40610233" checked=""/><div class="controls bullet"><span class="by">jpollock</span><span>|</span><a href="#40609909">root</a><span>|</span><a href="#40610011">parent</a><span>|</span><a href="#40610174">next</a><span>|</span><label class="collapse" for="c-40610233">[-]</label><label class="expand" for="c-40610233">[1 more]</label></div><br/><div class="children"><div class="content">Authorize Payment results in the Hold. The diagram is representing a standard Auth + Capture credit card flow.<p>Capture contains the final transaction amount and can either be higher or lower than the Authorized amount.<p>The odd thing is the Trip Service shouldn&#x27;t know anything about the Issuer. That&#x27;s the Payment Service&#x27;s reason to exist (so Trip Service doesn&#x27;t need to know about different payment methods). That the Trip Service knows how to talk to Visa (and Amex, and MasterCard, and Discover, and Google, and Apple) about Auth&#x27;ing a card, but doesn&#x27;t know how to Capture the payment is the strange part.<p>My expectation is that the diagram is incorrect, and the TripService talks to the PaymentService to Auth the card.</div><br/></div></div><div id="40610174" class="c"><input type="checkbox" id="c-40610174" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#40609909">root</a><span>|</span><a href="#40610011">parent</a><span>|</span><a href="#40610233">prev</a><span>|</span><a href="#40610722">next</a><span>|</span><label class="collapse" for="c-40610174">[-]</label><label class="expand" for="c-40610174">[1 more]</label></div><br/><div class="children"><div class="content">But that’s what auth + capture <i>does</i>, though.</div><br/></div></div></div></div></div></div><div id="40610722" class="c"><input type="checkbox" id="c-40610722" checked=""/><div class="controls bullet"><span class="by">redwood</span><span>|</span><a href="#40609909">prev</a><span>|</span><a href="#40611345">next</a><span>|</span><label class="collapse" for="c-40610722">[-]</label><label class="expand" for="c-40610722">[1 more]</label></div><br/><div class="children"><div class="content">Feels like this would have been a good fit for zoned sharding in MongoDB -- hot shards that would age out to cold shards, never having to deal with the lack of strongly consistent secondary indexes or transactions, and not having to deal with a completely different database for the hot and cold environments.</div><br/></div></div><div id="40611345" class="c"><input type="checkbox" id="c-40611345" checked=""/><div class="controls bullet"><span class="by">kookamamie</span><span>|</span><a href="#40610722">prev</a><span>|</span><a href="#40610645">next</a><span>|</span><label class="collapse" for="c-40611345">[-]</label><label class="expand" for="c-40611345">[2 more]</label></div><br/><div class="children"><div class="content">Indexes? Indices?</div><br/><div id="40615370" class="c"><input type="checkbox" id="c-40615370" checked=""/><div class="controls bullet"><span class="by">antonvs</span><span>|</span><a href="#40611345">parent</a><span>|</span><a href="#40610645">next</a><span>|</span><label class="collapse" for="c-40615370">[-]</label><label class="expand" for="c-40615370">[1 more]</label></div><br/><div class="children"><div class="content">Both are correct. Indexes is more modern.<p>The idea that Latin-derived words should have Latin-style plurals in English makes for pointless inconsistencies in the language.</div><br/></div></div></div></div><div id="40610645" class="c"><input type="checkbox" id="c-40610645" checked=""/><div class="controls bullet"><span class="by">nikolay</span><span>|</span><a href="#40611345">prev</a><span>|</span><label class="collapse" for="c-40610645">[-]</label><label class="expand" for="c-40610645">[5 more]</label></div><br/><div class="children"><div class="content">Stop bragging and open-source it!</div><br/><div id="40611529" class="c"><input type="checkbox" id="c-40611529" checked=""/><div class="controls bullet"><span class="by">stackskipton</span><span>|</span><a href="#40610645">parent</a><span>|</span><label class="collapse" for="c-40611529">[-]</label><label class="expand" for="c-40611529">[4 more]</label></div><br/><div class="children"><div class="content">No, please don&#x27;t. Some CTO at some company I work at is going to think they are Uber scale, deploy this and I&#x27;ll be stuck supporting it.</div><br/><div id="40615285" class="c"><input type="checkbox" id="c-40615285" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#40610645">root</a><span>|</span><a href="#40611529">parent</a><span>|</span><a href="#40615202">next</a><span>|</span><label class="collapse" for="c-40615285">[-]</label><label class="expand" for="c-40615285">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  I&#x27;ll be stuck supporting it.<p>which you ought to be charging a pretty penny to do so.</div><br/><div id="40615628" class="c"><input type="checkbox" id="c-40615628" checked=""/><div class="controls bullet"><span class="by">cynicalsecurity</span><span>|</span><a href="#40610645">root</a><span>|</span><a href="#40615285">parent</a><span>|</span><a href="#40615202">next</a><span>|</span><label class="collapse" for="c-40615628">[-]</label><label class="expand" for="c-40615628">[1 more]</label></div><br/><div class="children"><div class="content">Companies nowadays tend to fire people who cost them too much money. So expect supporting this monster for pennies.</div><br/></div></div></div></div><div id="40615202" class="c"><input type="checkbox" id="c-40615202" checked=""/><div class="controls bullet"><span class="by">executethis</span><span>|</span><a href="#40610645">root</a><span>|</span><a href="#40611529">parent</a><span>|</span><a href="#40615285">prev</a><span>|</span><label class="collapse" for="c-40615202">[-]</label><label class="expand" for="c-40615202">[1 more]</label></div><br/><div class="children"><div class="content">I’m sorry, my current VP of engineering is like this too.<p>We should use falcor!  Netflix stops supporting it.<p>We should use functional programming!  It became far too complex and we have abandoned it.<p>Okay, time for a new API. Let’s use vanilla express and do everything on hard mode. Some people never learn.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>