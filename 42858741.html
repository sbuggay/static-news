<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1738141265766" as="style"/><link rel="stylesheet" href="styles.css?v=1738141265766"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.pyspur.dev/blog/multi-head-latent-attention-kv-cache-paper-list">DeepSeek&#x27;s multi-head latent attention and other KV cache tricks</a>Â <span class="domain">(<a href="https://www.pyspur.dev">www.pyspur.dev</a>)</span></div><div class="subtext"><span>t55</span> | <span>52 comments</span></div><br/><div><div id="42862219" class="c"><input type="checkbox" id="c-42862219" checked=""/><div class="controls bullet"><span class="by">llmthrow102</span><span>|</span><a href="#42859746">next</a><span>|</span><label class="collapse" for="c-42862219">[-]</label><label class="expand" for="c-42862219">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d rather eat sand than read an AI-generated article. If you don&#x27;t care enough to write it, I don&#x27;t care enough to read it.</div><br/><div id="42862422" class="c"><input type="checkbox" id="c-42862422" checked=""/><div class="controls bullet"><span class="by">visarga</span><span>|</span><a href="#42862219">parent</a><span>|</span><a href="#42859746">next</a><span>|</span><label class="collapse" for="c-42862422">[-]</label><label class="expand" for="c-42862422">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t like formatting in bullet points and listicles much, but the contents are pretty good, they cover many papers in a lightweight way, you can get a decent overview in 10 minutes for what would take hours to research.</div><br/></div></div></div></div><div id="42859746" class="c"><input type="checkbox" id="c-42859746" checked=""/><div class="controls bullet"><span class="by">evertedsphere</span><span>|</span><a href="#42862219">prev</a><span>|</span><a href="#42861568">next</a><span>|</span><label class="collapse" for="c-42859746">[-]</label><label class="expand" for="c-42859746">[20 more]</label></div><br/><div class="children"><div class="content">&gt; This blog post is mostly AI-generated using a PySpur workflow with minor human edits.<p>it&#x27;s funny that this was clear about 5% in just due to the classic chatgpt-style format and tone</div><br/><div id="42860527" class="c"><input type="checkbox" id="c-42860527" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#42859746">parent</a><span>|</span><a href="#42860578">next</a><span>|</span><label class="collapse" for="c-42860527">[-]</label><label class="expand" for="c-42860527">[3 more]</label></div><br/><div class="children"><div class="content">Okay, so this is a PySpur ad, alright. Since I&#x27;m interested in this kind of tools, and I see on their GitHub that they don&#x27;t have loops yet, I have to ask: does anyone know of a similar tool (node&#x2F;DAG-based) that <i>does</i> support looping?<p>It seems to be a common problem; so far, I&#x27;ve played with Rivet, n8n, and &quot;LLM Party&quot; nodes for ComfyUI; they all seem to focus on everything <i>other than</i> allowing to conveniently loop the flows.</div><br/><div id="42862447" class="c"><input type="checkbox" id="c-42862447" checked=""/><div class="controls bullet"><span class="by">visarga</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860527">parent</a><span>|</span><a href="#42860620">next</a><span>|</span><label class="collapse" for="c-42862447">[-]</label><label class="expand" for="c-42862447">[1 more]</label></div><br/><div class="children"><div class="content">&gt; so this is a PySpur ad, alright<p>They should have also posted the PySpur pipeline, it would be interesting to see the agentic flow they used in this article. I am doing a lot of this kind of worflows manually, copy pasting stuff, I&#x27;d like to have some tools to design AI flows. PySpur looks pretty interesting visually.</div><br/></div></div><div id="42860620" class="c"><input type="checkbox" id="c-42860620" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860527">parent</a><span>|</span><a href="#42862447">prev</a><span>|</span><a href="#42860578">next</a><span>|</span><label class="collapse" for="c-42860620">[-]</label><label class="expand" for="c-42860620">[1 more]</label></div><br/><div class="children"><div class="content">We do support loops! :) Just haven&#x27;t advertised it inside the Github readme yet.<p>One of the reasons why we started building pyspur is precisely because none of the other tools support loops!<p>If you need more support; shoot me an email; you can find it at the bottom of the github readme.<p>EDIT: Just added a screenshot to the readme.</div><br/></div></div></div></div><div id="42860578" class="c"><input type="checkbox" id="c-42860578" checked=""/><div class="controls bullet"><span class="by">didgeoridoo</span><span>|</span><a href="#42859746">parent</a><span>|</span><a href="#42860527">prev</a><span>|</span><a href="#42859822">next</a><span>|</span><label class="collapse" for="c-42860578">[-]</label><label class="expand" for="c-42860578">[3 more]</label></div><br/><div class="children"><div class="content">It was going pretty well until the exclamation point at the end of the first paragraph.</div><br/><div id="42860642" class="c"><input type="checkbox" id="c-42860642" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860578">parent</a><span>|</span><a href="#42859822">next</a><span>|</span><label class="collapse" for="c-42860642">[-]</label><label class="expand" for="c-42860642">[2 more]</label></div><br/><div class="children"><div class="content">Replaced the exclamation point with a dot, hope it&#x27;s better now!</div><br/><div id="42860648" class="c"><input type="checkbox" id="c-42860648" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860642">parent</a><span>|</span><a href="#42859822">next</a><span>|</span><label class="collapse" for="c-42860648">[-]</label><label class="expand" for="c-42860648">[1 more]</label></div><br/><div class="children"><div class="content">let me know if you have more feedback!</div><br/></div></div></div></div></div></div><div id="42859822" class="c"><input type="checkbox" id="c-42859822" checked=""/><div class="controls bullet"><span class="by">GalaxyNova</span><span>|</span><a href="#42859746">parent</a><span>|</span><a href="#42860578">prev</a><span>|</span><a href="#42859866">next</a><span>|</span><label class="collapse" for="c-42859822">[-]</label><label class="expand" for="c-42859822">[11 more]</label></div><br/><div class="children"><div class="content">It&#x27;s blatantly obvious; nobody uses so many bullet points.</div><br/><div id="42861924" class="c"><input type="checkbox" id="c-42861924" checked=""/><div class="controls bullet"><span class="by">pdntspa</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42859822">parent</a><span>|</span><a href="#42859854">next</a><span>|</span><label class="collapse" for="c-42861924">[-]</label><label class="expand" for="c-42861924">[1 more]</label></div><br/><div class="children"><div class="content">I do :(<p>It&#x27;s a great and concise way to write!</div><br/></div></div><div id="42859854" class="c"><input type="checkbox" id="c-42859854" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42859822">parent</a><span>|</span><a href="#42861924">prev</a><span>|</span><a href="#42859866">next</a><span>|</span><label class="collapse" for="c-42859854">[-]</label><label class="expand" for="c-42859854">[9 more]</label></div><br/><div class="children"><div class="content">True! We love bullet points! :)</div><br/><div id="42860318" class="c"><input type="checkbox" id="c-42860318" checked=""/><div class="controls bullet"><span class="by">Mizza</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42859854">parent</a><span>|</span><a href="#42860502">next</a><span>|</span><label class="collapse" for="c-42860318">[-]</label><label class="expand" for="c-42860318">[6 more]</label></div><br/><div class="children"><div class="content">If this is the startup that finally unleashes AI spam bot articles and comments to the top of HackerNews, I&#x27;m gonna quit the internet and move into a log cabin.</div><br/><div id="42861535" class="c"><input type="checkbox" id="c-42861535" checked=""/><div class="controls bullet"><span class="by">srbloom</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860318">parent</a><span>|</span><a href="#42860411">next</a><span>|</span><label class="collapse" for="c-42861535">[-]</label><label class="expand" for="c-42861535">[2 more]</label></div><br/><div class="children"><div class="content">It was already the case that no one reads the article before commenting. Soon it will be that no one writes the article either.</div><br/><div id="42862238" class="c"><input type="checkbox" id="c-42862238" checked=""/><div class="controls bullet"><span class="by">klipt</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42861535">parent</a><span>|</span><a href="#42860411">next</a><span>|</span><label class="collapse" for="c-42862238">[-]</label><label class="expand" for="c-42862238">[1 more]</label></div><br/><div class="children"><div class="content">Just need AI to write the comments and the circle of life will be complete</div><br/></div></div></div></div><div id="42860415" class="c"><input type="checkbox" id="c-42860415" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860318">parent</a><span>|</span><a href="#42860411">prev</a><span>|</span><a href="#42860502">next</a><span>|</span><label class="collapse" for="c-42860415">[-]</label><label class="expand" for="c-42860415">[2 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t matter whether you use AI or not, what matters is whether your articles are relevant and useful or not</div><br/><div id="42860513" class="c"><input type="checkbox" id="c-42860513" checked=""/><div class="controls bullet"><span class="by">mistrial9</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42860415">parent</a><span>|</span><a href="#42860502">next</a><span>|</span><label class="collapse" for="c-42860513">[-]</label><label class="expand" for="c-42860513">[1 more]</label></div><br/><div class="children"><div class="content">no, for copyright and other social agreements, there has to be a declaration of authorship for original works.. maybe others can expand and clarify; certainly will vary on the major marketplaces in the world</div><br/></div></div></div></div></div></div><div id="42860502" class="c"><input type="checkbox" id="c-42860502" checked=""/><div class="controls bullet"><span class="by">carlmr</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42859854">parent</a><span>|</span><a href="#42860318">prev</a><span>|</span><a href="#42859866">next</a><span>|</span><label class="collapse" for="c-42860502">[-]</label><label class="expand" for="c-42860502">[2 more]</label></div><br/><div class="children"><div class="content">I loved bullet points before AI was a thing. Now I&#x27;m accused of being AI.</div><br/></div></div></div></div></div></div><div id="42859866" class="c"><input type="checkbox" id="c-42859866" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859746">parent</a><span>|</span><a href="#42859822">prev</a><span>|</span><a href="#42861568">next</a><span>|</span><label class="collapse" for="c-42859866">[-]</label><label class="expand" for="c-42859866">[2 more]</label></div><br/><div class="children"><div class="content">Fair point! Do you prefer a different format or tone? We really like the concise bullet point format :)</div><br/><div id="42862725" class="c"><input type="checkbox" id="c-42862725" checked=""/><div class="controls bullet"><span class="by">evertedsphere</span><span>|</span><a href="#42859746">root</a><span>|</span><a href="#42859866">parent</a><span>|</span><a href="#42861568">next</a><span>|</span><label class="collapse" for="c-42862725">[-]</label><label class="expand" for="c-42862725">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s not the bullet points per se, the general <i>structure</i> of the analysis has a certain vibe to it at a level deeper than that of just visual presentation<p>but this is something where it&#x27;s up to <i>you</i> to decide what you want from your ghostwriting. my comments would not a system prompt make</div><br/></div></div></div></div></div></div><div id="42861568" class="c"><input type="checkbox" id="c-42861568" checked=""/><div class="controls bullet"><span class="by">seanvelasco</span><span>|</span><a href="#42859746">prev</a><span>|</span><a href="#42859175">next</a><span>|</span><label class="collapse" for="c-42861568">[-]</label><label class="expand" for="c-42861568">[1 more]</label></div><br/><div class="children"><div class="content">getting tired of these blog posts that end with &quot;this post is AI-generated&quot; as if it&#x27;s going to surprise us. it&#x27;s getting repetitive. imo, articles should be prefaced if they&#x27;re ai generated or not to make the reader not feel stupid after reading the whole thing<p>with that said, i love the content! will be bookmarking for future reference</div><br/></div></div><div id="42862595" class="c"><input type="checkbox" id="c-42862595" checked=""/><div class="controls bullet"><span class="by">yellow_lead</span><span>|</span><a href="#42859175">prev</a><span>|</span><a href="#42859739">next</a><span>|</span><label class="collapse" for="c-42862595">[-]</label><label class="expand" for="c-42862595">[2 more]</label></div><br/><div class="children"><div class="content">&gt; each token needs to &quot;look at&quot; or &quot;attend to&quot; all other tokens to understand the context.<p>&gt; First token: Look at 1 token (cost: O(1^2))<p>Umm, is this right? There is not 1 token existing before generating the first token, so how do you look at it? AI slop?</div><br/><div id="42862611" class="c"><input type="checkbox" id="c-42862611" checked=""/><div class="controls bullet"><span class="by">Vampiero</span><span>|</span><a href="#42862595">parent</a><span>|</span><a href="#42859739">next</a><span>|</span><label class="collapse" for="c-42862611">[-]</label><label class="expand" for="c-42862611">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Umm, is this right?<p>No way to know until you painstakingly verify every single assertion that the AI made! The author of this article certainly didn&#x27;t, and the content was good enough to them.<p>Trust me, AGI is almost there.</div><br/></div></div></div></div><div id="42859739" class="c"><input type="checkbox" id="c-42859739" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#42862595">prev</a><span>|</span><a href="#42859639">next</a><span>|</span><label class="collapse" for="c-42859739">[-]</label><label class="expand" for="c-42859739">[4 more]</label></div><br/><div class="children"><div class="content">Not sure if I&#x27;m getting this. Is this cache implemented as part of the forward pass through the network, in a general Python datastructure like a dict? Or is the cache somehow part of the fabric of the neural network?</div><br/><div id="42859889" class="c"><input type="checkbox" id="c-42859889" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859739">parent</a><span>|</span><a href="#42860924">next</a><span>|</span><label class="collapse" for="c-42859889">[-]</label><label class="expand" for="c-42859889">[1 more]</label></div><br/><div class="children"><div class="content">The KV cache is typically stored in a data structure external to the trained weightsâoften a buffer or set of tensors kept alongside the modelâs forward pass (e.g., in PyTorch, one might store it in a dictionary-like container). Itâs not baked into the neural network parameters themselves; instead, itâs an auxiliary memory that holds precomputed key-value pairs so the model doesnât have to re-encode past tokens on each new inference step.</div><br/></div></div><div id="42860924" class="c"><input type="checkbox" id="c-42860924" checked=""/><div class="controls bullet"><span class="by">anvuong</span><span>|</span><a href="#42859739">parent</a><span>|</span><a href="#42859889">prev</a><span>|</span><a href="#42861324">next</a><span>|</span><label class="collapse" for="c-42860924">[-]</label><label class="expand" for="c-42860924">[1 more]</label></div><br/><div class="children"><div class="content">Neither. Think of it as something like redis or memcached. It&#x27;s external to the program, and the program will run just fine without it. But it avoids a lot of duplicate works.</div><br/></div></div><div id="42861324" class="c"><input type="checkbox" id="c-42861324" checked=""/><div class="controls bullet"><span class="by">ahzhou</span><span>|</span><a href="#42859739">parent</a><span>|</span><a href="#42860924">prev</a><span>|</span><a href="#42859639">next</a><span>|</span><label class="collapse" for="c-42861324">[-]</label><label class="expand" for="c-42861324">[1 more]</label></div><br/><div class="children"><div class="content">Itâs a tensor stored in GPU memory to improve inference throughput. Check out the PagedAttention (which introduces vLLM) paper for how most systems implement it nowadays.</div><br/></div></div></div></div><div id="42859350" class="c"><input type="checkbox" id="c-42859350" checked=""/><div class="controls bullet"><span class="by">spps11</span><span>|</span><a href="#42859639">prev</a><span>|</span><a href="#42859888">next</a><span>|</span><label class="collapse" for="c-42859350">[-]</label><label class="expand" for="c-42859350">[2 more]</label></div><br/><div class="children"><div class="content">When you say sequence length, does it only count the output tokens or are input tokens also included in that?<p>Thanks for the post, it was an excellent read!</div><br/><div id="42859406" class="c"><input type="checkbox" id="c-42859406" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859350">parent</a><span>|</span><a href="#42859888">next</a><span>|</span><label class="collapse" for="c-42859406">[-]</label><label class="expand" for="c-42859406">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for reading! In most contexts (including this one), seq length encompasses both the initial input (prompt) tokens and the output tokens the model generates. Itâs the total length of all tokens processed by the model so far.</div><br/></div></div></div></div><div id="42859888" class="c"><input type="checkbox" id="c-42859888" checked=""/><div class="controls bullet"><span class="by">karolist</span><span>|</span><a href="#42859350">prev</a><span>|</span><a href="#42860371">next</a><span>|</span><label class="collapse" for="c-42859888">[-]</label><label class="expand" for="c-42859888">[5 more]</label></div><br/><div class="children"><div class="content">What&#x27;s specific to deepseek here that other models do not use, or are you just riding the keyword wave?</div><br/><div id="42859893" class="c"><input type="checkbox" id="c-42859893" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859888">parent</a><span>|</span><a href="#42860371">next</a><span>|</span><label class="collapse" for="c-42859893">[-]</label><label class="expand" for="c-42859893">[4 more]</label></div><br/><div class="children"><div class="content">DeepSeep proposed the multi-head latent attention technique! :)<p>As far as I know, they are the only ones using it so far</div><br/><div id="42859924" class="c"><input type="checkbox" id="c-42859924" checked=""/><div class="controls bullet"><span class="by">karolist</span><span>|</span><a href="#42859888">root</a><span>|</span><a href="#42859893">parent</a><span>|</span><a href="#42860371">next</a><span>|</span><label class="collapse" for="c-42859924">[-]</label><label class="expand" for="c-42859924">[3 more]</label></div><br/><div class="children"><div class="content">Fair point, thanks for clarification, it seems this was first proposed in <a href="https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2405.04434" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2405.04434</a>? I was confused by your title mentioning DeepSeek but then first paragraph revert to &quot;...language models like ChatGPT and DeepSeek faster at generating text&quot;.</div><br/><div id="42859934" class="c"><input type="checkbox" id="c-42859934" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859888">root</a><span>|</span><a href="#42859924">parent</a><span>|</span><a href="#42860371">next</a><span>|</span><label class="collapse" for="c-42859934">[-]</label><label class="expand" for="c-42859934">[2 more]</label></div><br/><div class="children"><div class="content">Right, that&#x27;s a good point. I&#x27;ll adjust the intro a bit. 
We wanted to provide a more holistic overview on what MLA is, what came before it, and why it matters :) hope it was useful!</div><br/><div id="42859953" class="c"><input type="checkbox" id="c-42859953" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859888">root</a><span>|</span><a href="#42859934">parent</a><span>|</span><a href="#42860371">next</a><span>|</span><label class="collapse" for="c-42859953">[-]</label><label class="expand" for="c-42859953">[1 more]</label></div><br/><div class="children"><div class="content">Just refined it a bit; I hope it&#x27;s clearer now!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42860371" class="c"><input type="checkbox" id="c-42860371" checked=""/><div class="controls bullet"><span class="by">pama</span><span>|</span><a href="#42859888">prev</a><span>|</span><a href="#42860740">next</a><span>|</span><label class="collapse" for="c-42860371">[-]</label><label class="expand" for="c-42860371">[2 more]</label></div><br/><div class="children"><div class="content">Neat. Can you share the workflow that created this blog? What models did it use?</div><br/><div id="42860423" class="c"><input type="checkbox" id="c-42860423" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42860371">parent</a><span>|</span><a href="#42860740">next</a><span>|</span><label class="collapse" for="c-42860423">[-]</label><label class="expand" for="c-42860423">[1 more]</label></div><br/><div class="children"><div class="content">Thanks! Yes, will push it as template to our repo (<a href="https:&#x2F;&#x2F;github.com&#x2F;PySpur-Dev&#x2F;pyspur">https:&#x2F;&#x2F;github.com&#x2F;PySpur-Dev&#x2F;pyspur</a>) soon! We used o1 and claude3.5</div><br/></div></div></div></div><div id="42860740" class="c"><input type="checkbox" id="c-42860740" checked=""/><div class="controls bullet"><span class="by">narmiouh</span><span>|</span><a href="#42860371">prev</a><span>|</span><a href="#42860665">next</a><span>|</span><label class="collapse" for="c-42860740">[-]</label><label class="expand" for="c-42860740">[1 more]</label></div><br/><div class="children"><div class="content">How were the Images in the blog generated?</div><br/></div></div><div id="42860665" class="c"><input type="checkbox" id="c-42860665" checked=""/><div class="controls bullet"><span class="by">8note</span><span>|</span><a href="#42860740">prev</a><span>|</span><a href="#42859597">next</a><span>|</span><label class="collapse" for="c-42860665">[-]</label><label class="expand" for="c-42860665">[4 more]</label></div><br/><div class="children"><div class="content">hmm. after my engineer degree put all of the vector math in the form<p>k = Wx<p>seeing<p>k = xW<p>is jarring. Is there a reason for using horizontal vectors? Common for data science docs?</div><br/><div id="42860693" class="c"><input type="checkbox" id="c-42860693" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42860665">parent</a><span>|</span><a href="#42861186">next</a><span>|</span><label class="collapse" for="c-42860693">[-]</label><label class="expand" for="c-42860693">[2 more]</label></div><br/><div class="children"><div class="content">Itâs mostly a convention. In many deep learning frameworks (PyTorch, TensorFlow, etc.), inputs are stored with the âbatch Ã length Ã hidden-dimâ shape, effectively making the token embeddings row vectors. Multiplying âxWâ is then the natural shape-wise operation. On the other hand, classical linear algebra references often treat vectors as column vectors and write âWx.â</div><br/><div id="42860938" class="c"><input type="checkbox" id="c-42860938" checked=""/><div class="controls bullet"><span class="by">anvuong</span><span>|</span><a href="#42860665">root</a><span>|</span><a href="#42860693">parent</a><span>|</span><a href="#42861186">next</a><span>|</span><label class="collapse" for="c-42860938">[-]</label><label class="expand" for="c-42860938">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t batch-first a Pytorch thing? I started with Tensorflow and it&#x27;s batch-last.</div><br/></div></div></div></div><div id="42861186" class="c"><input type="checkbox" id="c-42861186" checked=""/><div class="controls bullet"><span class="by">quanto</span><span>|</span><a href="#42860665">parent</a><span>|</span><a href="#42860693">prev</a><span>|</span><a href="#42859597">next</a><span>|</span><label class="collapse" for="c-42861186">[-]</label><label class="expand" for="c-42861186">[1 more]</label></div><br/><div class="children"><div class="content">You are in the right here.  Horizontal vectors are common for (some) deep learning docs, but column factors are the literature standard elsewhere.</div><br/></div></div></div></div><div id="42859597" class="c"><input type="checkbox" id="c-42859597" checked=""/><div class="controls bullet"><span class="by">deepdarkforest</span><span>|</span><a href="#42860665">prev</a><span>|</span><a href="#42860275">next</a><span>|</span><label class="collapse" for="c-42859597">[-]</label><label class="expand" for="c-42859597">[4 more]</label></div><br/><div class="children"><div class="content">Very clean writeup.
On the attention sinks, you mention they enable &quot;infinite-length sequence processing&quot;. What does that mean exactly in practice? Isn&#x27;t deepseek still capped at 128k?</div><br/><div id="42859716" class="c"><input type="checkbox" id="c-42859716" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859597">parent</a><span>|</span><a href="#42859714">next</a><span>|</span><label class="collapse" for="c-42859716">[-]</label><label class="expand" for="c-42859716">[1 more]</label></div><br/><div class="children"><div class="content">Thank you! Great question.<p>&quot;Infinite-length sequence processing&quot; in StreamingLLM refers to handling much longer sequences than the model&#x27;s training window (e.g., millions of tokens), by combining a sliding window for recent tokens with fixed attention sinks from the start of the sequence.<p>I can&#x27;t speak for DeepSeek, but if I had to guess, I&#x27;d say that the infinite context window isnât practical because storing all past tokens eventually becomes too expensive.</div><br/></div></div><div id="42859714" class="c"><input type="checkbox" id="c-42859714" checked=""/><div class="controls bullet"><span class="by">m348e912</span><span>|</span><a href="#42859597">parent</a><span>|</span><a href="#42859716">prev</a><span>|</span><a href="#42860275">next</a><span>|</span><label class="collapse" for="c-42859714">[-]</label><label class="expand" for="c-42859714">[2 more]</label></div><br/><div class="children"><div class="content">Agreed on the writeup itself. It&#x27;s beautifully written and presented. Kudos to Jean Kaddour and anyone else that may have been involved in putting it together.</div><br/><div id="42859917" class="c"><input type="checkbox" id="c-42859917" checked=""/><div class="controls bullet"><span class="by">t55</span><span>|</span><a href="#42859597">root</a><span>|</span><a href="#42859714">parent</a><span>|</span><a href="#42860275">next</a><span>|</span><label class="collapse" for="c-42859917">[-]</label><label class="expand" for="c-42859917">[1 more]</label></div><br/><div class="children"><div class="content">Thank you so much, glad you liked it</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>