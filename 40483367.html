<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1716800484453" as="style"/><link rel="stylesheet" href="styles.css?v=1716800484453"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/glebbash/LO">LO – simple WASM native language</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>glebbash</span> | <span>53 comments</span></div><br/><div><div id="40483368" class="c"><input type="checkbox" id="c-40483368" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40488770">next</a><span>|</span><label class="collapse" for="c-40483368">[-]</label><label class="expand" for="c-40483368">[8 more]</label></div><br/><div class="children"><div class="content">Hi, it&#x27;s my first time posting here, just wanted to share the language I was working on for some time now.<p>I&#x27;ve been working on integrating it with WASM-4 runtime this past week. And with minimal changes to the compiler I created this demo game:
<a href="https:&#x2F;&#x2F;rawcdn.githack.com&#x2F;glebbash&#x2F;LO&#x2F;da8305293f5438967619e91c6ecfd472111ccf91&#x2F;examples&#x2F;test&#x2F;demos&#x2F;wasm4&#x2F;builds&#x2F;dark-maze.html" rel="nofollow">https:&#x2F;&#x2F;rawcdn.githack.com&#x2F;glebbash&#x2F;LO&#x2F;da8305293f5438967619e...</a><p>Game source here: <a href="https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;LO&#x2F;blob&#x2F;main&#x2F;examples&#x2F;test&#x2F;demos&#x2F;wasm4&#x2F;src&#x2F;dark-maze.lo">https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;LO&#x2F;blob&#x2F;main&#x2F;examples&#x2F;test&#x2F;demos...</a></div><br/><div id="40484299" class="c"><input type="checkbox" id="c-40484299" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#40483368">parent</a><span>|</span><a href="#40484778">next</a><span>|</span><label class="collapse" for="c-40484299">[-]</label><label class="expand" for="c-40484299">[1 more]</label></div><br/><div class="children"><div class="content">you might want to consider changing the title to a &quot;Show HN&quot; <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;show">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;show</a></div><br/></div></div><div id="40484778" class="c"><input type="checkbox" id="c-40484778" checked=""/><div class="controls bullet"><span class="by">ceronman</span><span>|</span><a href="#40483368">parent</a><span>|</span><a href="#40484299">prev</a><span>|</span><a href="#40488098">next</a><span>|</span><label class="collapse" for="c-40484778">[-]</label><label class="expand" for="c-40484778">[1 more]</label></div><br/><div class="children"><div class="content">Very nice project! I love the fact that you have almost no dependencies for the compiler. I&#x27;m interested in learning how to build a compiler for web assembly and your code seems very clean, simple and easy to follow. Thanks!</div><br/></div></div><div id="40488098" class="c"><input type="checkbox" id="c-40488098" checked=""/><div class="controls bullet"><span class="by">bodge5000</span><span>|</span><a href="#40483368">parent</a><span>|</span><a href="#40484778">prev</a><span>|</span><a href="#40484747">next</a><span>|</span><label class="collapse" for="c-40488098">[-]</label><label class="expand" for="c-40488098">[1 more]</label></div><br/><div class="children"><div class="content">Great to see some attention to WASM-4, if it plays nicely with that I&#x27;ll definitely give it a go</div><br/></div></div><div id="40484747" class="c"><input type="checkbox" id="c-40484747" checked=""/><div class="controls bullet"><span class="by">Lerc</span><span>|</span><a href="#40483368">parent</a><span>|</span><a href="#40488098">prev</a><span>|</span><a href="#40483969">next</a><span>|</span><label class="collapse" for="c-40484747">[-]</label><label class="expand" for="c-40484747">[2 more]</label></div><br/><div class="children"><div class="content">Do you have (or plan to support) a Wasm build of the compiler so you can compile from within the browser?<p>Given you have includes I guess you&#x27;d need to provide a loadFile(filename) callback to provide it with data.</div><br/><div id="40484870" class="c"><input type="checkbox" id="c-40484870" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40483368">root</a><span>|</span><a href="#40484747">parent</a><span>|</span><a href="#40483969">next</a><span>|</span><label class="collapse" for="c-40484870">[-]</label><label class="expand" for="c-40484870">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Compiling single files is supported by calling the exported `compile` function, example setup here: <a href="https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;LO&#x2F;blob&#x2F;60b80d1b325136ce1ceaf4dc12073b7faaceb853&#x2F;utils.mjs#L529">https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;LO&#x2F;blob&#x2F;60b80d1b325136ce1ceaf4dc...</a>.<p>For includes to work compiler uses WASI which can be implemented in the browser. LO playground and VSCode extension use this approach. Playground link: <a href="https:&#x2F;&#x2F;glebbash.deno.dev&#x2F;lo-playground&#x2F;" rel="nofollow">https:&#x2F;&#x2F;glebbash.deno.dev&#x2F;lo-playground&#x2F;</a> and source: <a href="https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;glebbash.dev&#x2F;blob&#x2F;main&#x2F;static&#x2F;lo-playground&#x2F;index.html">https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;glebbash.dev&#x2F;blob&#x2F;main&#x2F;static&#x2F;lo...</a></div><br/></div></div></div></div><div id="40483969" class="c"><input type="checkbox" id="c-40483969" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#40483368">parent</a><span>|</span><a href="#40484747">prev</a><span>|</span><a href="#40488778">next</a><span>|</span><label class="collapse" for="c-40483969">[-]</label><label class="expand" for="c-40483969">[1 more]</label></div><br/><div class="children"><div class="content">Straight to wasm is a good choice. You could get something close to a native binary by packaging the result with wasm3 or similar.</div><br/></div></div></div></div><div id="40488770" class="c"><input type="checkbox" id="c-40488770" checked=""/><div class="controls bullet"><span class="by">cbellew</span><span>|</span><a href="#40483368">prev</a><span>|</span><a href="#40487219">next</a><span>|</span><label class="collapse" for="c-40488770">[-]</label><label class="expand" for="c-40488770">[1 more]</label></div><br/><div class="children"><div class="content">Nice work. Out of curiosity, did you consider using pest (<a href="https:&#x2F;&#x2F;pest.rs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pest.rs&#x2F;</a>) to help build your parser? Or is it too much for what you are doing?</div><br/></div></div><div id="40487219" class="c"><input type="checkbox" id="c-40487219" checked=""/><div class="controls bullet"><span class="by">SushiHippie</span><span>|</span><a href="#40488770">prev</a><span>|</span><a href="#40488241">next</a><span>|</span><label class="collapse" for="c-40487219">[-]</label><label class="expand" for="c-40487219">[2 more]</label></div><br/><div class="children"><div class="content">FYI the VS Code extension Link in the README is broken, as it links to &#x2F;lo-extension instead of &#x2F;vscode-ext<p>And is it intentional that the repository does not have a LICENSE file, or do you intend to open-source (by OSI definition) it?</div><br/><div id="40488049" class="c"><input type="checkbox" id="c-40488049" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40487219">parent</a><span>|</span><a href="#40488241">next</a><span>|</span><label class="collapse" for="c-40488049">[-]</label><label class="expand" for="c-40488049">[1 more]</label></div><br/><div class="children"><div class="content">Fixed the link, forgot that markdown references use double square brackets.<p>Hmm, I haven&#x27;t thought about it the license actually, I would default to MIT, but wanted to keep the number of files minimal in repo, hehe.<p>Will figure it out asap, thanks.</div><br/></div></div></div></div><div id="40488241" class="c"><input type="checkbox" id="c-40488241" checked=""/><div class="controls bullet"><span class="by">kukiTsui</span><span>|</span><a href="#40487219">prev</a><span>|</span><a href="#40486992">next</a><span>|</span><label class="collapse" for="c-40488241">[-]</label><label class="expand" for="c-40488241">[1 more]</label></div><br/><div class="children"><div class="content">Looks interesting! Always glad to see more WASM native languages coming. You may take a look at MoonBit(<a href="https:&#x2F;&#x2F;github.com&#x2F;moonbitlang&#x2F;moonbit-docs&#x2F;tree&#x2F;main">https:&#x2F;&#x2F;github.com&#x2F;moonbitlang&#x2F;moonbit-docs&#x2F;tree&#x2F;main</a>). The language is Rust-like with gc support, and we also have a full toolchain like cloud IDE, compiler, build system, and package manager.</div><br/></div></div><div id="40486992" class="c"><input type="checkbox" id="c-40486992" checked=""/><div class="controls bullet"><span class="by">chai2010</span><span>|</span><a href="#40488241">prev</a><span>|</span><a href="#40484297">next</a><span>|</span><label class="collapse" for="c-40486992">[-]</label><label class="expand" for="c-40486992">[2 more]</label></div><br/><div class="children"><div class="content">Cool project . I am also designing a Wa language for Wasm (<a href="https:&#x2F;&#x2F;github.com&#x2F;wa-lang&#x2F;wa">https:&#x2F;&#x2F;github.com&#x2F;wa-lang&#x2F;wa</a>), we are currently improving support for the WebGPU library and LSP extension.</div><br/><div id="40488254" class="c"><input type="checkbox" id="c-40488254" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40486992">parent</a><span>|</span><a href="#40484297">next</a><span>|</span><label class="collapse" for="c-40488254">[-]</label><label class="expand" for="c-40488254">[1 more]</label></div><br/><div class="children"><div class="content">Cool project you too :) It&#x27;s fun to see how the language of the first compiler affects a lot of the syntax of the languages we build.</div><br/></div></div></div></div><div id="40484297" class="c"><input type="checkbox" id="c-40484297" checked=""/><div class="controls bullet"><span class="by">csjh</span><span>|</span><a href="#40486992">prev</a><span>|</span><a href="#40487589">next</a><span>|</span><label class="collapse" for="c-40484297">[-]</label><label class="expand" for="c-40484297">[3 more]</label></div><br/><div class="children"><div class="content">I like that you have a vscode extension already - I&#x27;m making a similar language project, and you really don&#x27;t notice how much you miss even basic syntax highlighting until it&#x27;s gone</div><br/><div id="40485486" class="c"><input type="checkbox" id="c-40485486" checked=""/><div class="controls bullet"><span class="by">arijun</span><span>|</span><a href="#40484297">parent</a><span>|</span><a href="#40487589">next</a><span>|</span><label class="collapse" for="c-40485486">[-]</label><label class="expand" for="c-40485486">[2 more]</label></div><br/><div class="children"><div class="content">Doesn’t tree sitter make it pretty easy to add highlighting?</div><br/><div id="40485524" class="c"><input type="checkbox" id="c-40485524" checked=""/><div class="controls bullet"><span class="by">vlakreeh</span><span>|</span><a href="#40484297">root</a><span>|</span><a href="#40485486">parent</a><span>|</span><a href="#40487589">next</a><span>|</span><label class="collapse" for="c-40485524">[-]</label><label class="expand" for="c-40485524">[1 more]</label></div><br/><div class="children"><div class="content">For editors that support it, yeah. Sadly vscode doesn&#x27;t natively support tree-sitter.</div><br/></div></div></div></div></div></div><div id="40487589" class="c"><input type="checkbox" id="c-40487589" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#40484297">prev</a><span>|</span><a href="#40488157">next</a><span>|</span><label class="collapse" for="c-40487589">[-]</label><label class="expand" for="c-40487589">[1 more]</label></div><br/><div class="children"><div class="content">Neat project! I liked the dev log writeups (despite the multiple rickrolls), hope you keep doing these. It was interesting seeing your reasoning. I&#x27;m starting a for-fun language project that should compile to wasm and native, and was debating between wasm -&gt; wasm2c or llvm -&gt; emscripten. Your posts about ffi&#x2F;bindings issues were helpful, I&#x27;m probably going to try wasm (or just wat) first and then binaryen for wasm -&gt; wasm optimization.</div><br/></div></div><div id="40488157" class="c"><input type="checkbox" id="c-40488157" checked=""/><div class="controls bullet"><span class="by">chubs</span><span>|</span><a href="#40487589">prev</a><span>|</span><a href="#40484125">next</a><span>|</span><label class="collapse" for="c-40488157">[-]</label><label class="expand" for="c-40488157">[2 more]</label></div><br/><div class="children"><div class="content">This looks super impressive! Any chance you could explain how memory management works? Eg is it like rust in that sense? Or is it GC&#x27;ed ? Thanks</div><br/><div id="40488194" class="c"><input type="checkbox" id="c-40488194" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40488157">parent</a><span>|</span><a href="#40484125">next</a><span>|</span><label class="collapse" for="c-40488194">[-]</label><label class="expand" for="c-40488194">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely. The memory management is manual like in C, but with addition of defers it is actually quite good to work with.<p>Here is the source for the allocator: <a href="https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;LO&#x2F;blob&#x2F;81f96bb09e3a0b1455b32497da445ff5f71d2907&#x2F;examples&#x2F;lib&#x2F;std.lo#L185">https:&#x2F;&#x2F;github.com&#x2F;glebbash&#x2F;LO&#x2F;blob&#x2F;81f96bb09e3a0b1455b32497...</a><p>It also links to where I learned how to build the &quot;proper&quot; allocator from scratch.</div><br/></div></div></div></div><div id="40484125" class="c"><input type="checkbox" id="c-40484125" checked=""/><div class="controls bullet"><span class="by">j-pb</span><span>|</span><a href="#40488157">prev</a><span>|</span><a href="#40486096">next</a><span>|</span><label class="collapse" for="c-40484125">[-]</label><label class="expand" for="c-40484125">[13 more]</label></div><br/><div class="children"><div class="content">Very cute project!<p>I personally wouldn&#x27;t call anything Rust based &quot;simple&quot; (I&#x27;m not trying to hate on Rust, it&#x27;s my daily driver.), so I have to ask: Wouldn&#x27;t be the simplest possible wasm language, a small macro system for WAT, that bootstraps a slightly more highlevel lisp dialect?<p>Wasm already seems like an increadibly high-level language, given that it&#x27;s a low-level compilation target.</div><br/><div id="40488634" class="c"><input type="checkbox" id="c-40488634" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#40484125">parent</a><span>|</span><a href="#40484189">next</a><span>|</span><label class="collapse" for="c-40488634">[-]</label><label class="expand" for="c-40488634">[1 more]</label></div><br/><div class="children"><div class="content">Yes, this would be  similar approach how Lisp Machines, and Interlisp, came to be.<p>Low level forms for systems programming, and then everything else was built on top of it.<p>Picking something like &quot;An Incremental Approach to Compiler Construction&quot;, but instead of Scheme, stay in WAT and move from there, adding features.<p><a href="http:&#x2F;&#x2F;scheme2006.cs.uchicago.edu&#x2F;11-ghuloum.pdf" rel="nofollow">http:&#x2F;&#x2F;scheme2006.cs.uchicago.edu&#x2F;11-ghuloum.pdf</a></div><br/></div></div><div id="40484189" class="c"><input type="checkbox" id="c-40484189" checked=""/><div class="controls bullet"><span class="by">the_duke</span><span>|</span><a href="#40484125">parent</a><span>|</span><a href="#40488634">prev</a><span>|</span><a href="#40484244">next</a><span>|</span><label class="collapse" for="c-40484189">[-]</label><label class="expand" for="c-40484189">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see how WASM is that high level. It doesn&#x27;t have types except numbers (ignoring reference types and the GC proposal), which makes it lower level than LLVM IR. The control flow constructs are also much closer to SSA form than anything viable for humans.<p>If you ever try to write WAT by hand you realize that it&#x27;s very much a compilation target, not something you&#x27;d ever want to manually write.</div><br/><div id="40486438" class="c"><input type="checkbox" id="c-40486438" checked=""/><div class="controls bullet"><span class="by">j-pb</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484189">parent</a><span>|</span><a href="#40484244">next</a><span>|</span><label class="collapse" for="c-40486438">[-]</label><label class="expand" for="c-40486438">[1 more]</label></div><br/><div class="children"><div class="content">Unlike LLVM, control flow is actually structured, no arbitrary jumps, functions, tables, real harvard separation of code and data.<p>The restriction to only number types, is more a byproduct of trying to keep the 1.0 spec as mvp as possible, and reference types are gonna be a big shift in that regard.<p>I mean compare these two. One is a (very low level) language, the other is (high level) assembly.<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;WebAssembly&#x2F;Reference&#x2F;Control_flow&#x2F;if...else" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;WebAssembly&#x2F;Referen...</a><p><a href="https:&#x2F;&#x2F;mapping-high-level-constructs-to-llvm-ir.readthedocs.io&#x2F;en&#x2F;latest&#x2F;control-structures&#x2F;if-then-else.html" rel="nofollow">https:&#x2F;&#x2F;mapping-high-level-constructs-to-llvm-ir.readthedocs...</a></div><br/></div></div></div></div><div id="40484244" class="c"><input type="checkbox" id="c-40484244" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40484125">parent</a><span>|</span><a href="#40484189">prev</a><span>|</span><a href="#40484302">next</a><span>|</span><label class="collapse" for="c-40484244">[-]</label><label class="expand" for="c-40484244">[2 more]</label></div><br/><div class="children"><div class="content">That was how it started actually, I wanted to make a superset of WAT. But then I switched to a more familiar C-like constructs and that gave me a big boost in productivity.<p>I think the superset of WAT idea is very viable and someone more comfortable with s-expressions should explore that for sure.</div><br/><div id="40484494" class="c"><input type="checkbox" id="c-40484494" checked=""/><div class="controls bullet"><span class="by">j-pb</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484244">parent</a><span>|</span><a href="#40484302">next</a><span>|</span><label class="collapse" for="c-40484494">[-]</label><label class="expand" for="c-40484494">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for your insights, again very cool project!</div><br/></div></div></div></div><div id="40484302" class="c"><input type="checkbox" id="c-40484302" checked=""/><div class="controls bullet"><span class="by">MatthiasPortzel</span><span>|</span><a href="#40484125">parent</a><span>|</span><a href="#40484244">prev</a><span>|</span><a href="#40484304">next</a><span>|</span><label class="collapse" for="c-40484302">[-]</label><label class="expand" for="c-40484302">[5 more]</label></div><br/><div class="children"><div class="content">&gt; a small macro system for WAT, that bootstraps a slightly more highlevel lisp dialect<p>Lisp traditionally has immutable data structures and a garbage collector, in which case I would consider it more complicated than LO.<p>I would be very interested if it’s possible to create an extremely simple garbage collector or an ergonomic Lisp that isn’t garbage collected, but a solution doesn’t spring to mind.</div><br/><div id="40488617" class="c"><input type="checkbox" id="c-40488617" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484302">parent</a><span>|</span><a href="#40487816">next</a><span>|</span><label class="collapse" for="c-40488617">[-]</label><label class="expand" for="c-40488617">[1 more]</label></div><br/><div class="children"><div class="content">That much be a very special kind of Lisp, given the amount of variations since the Lisp 1.5 Programmer&#x27;s Manual came to be.</div><br/></div></div><div id="40487816" class="c"><input type="checkbox" id="c-40487816" checked=""/><div class="controls bullet"><span class="by">koito17</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484302">parent</a><span>|</span><a href="#40488617">prev</a><span>|</span><a href="#40485393">next</a><span>|</span><label class="collapse" for="c-40487816">[-]</label><label class="expand" for="c-40487816">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Lisp traditionally has immutable data structures<p>Can you provide a source for this? Common Lisp and its predecessors certainly do not have immutable data structures out of the box. The usual data structures are cons cells, lists (composed of cons cells anyway), vectors, and hash tables.<p>&gt; I would be very interested if it’s possible to create an extremely simple garbage collector or an ergonomic Lisp that isn’t garbage collected, but a solution doesn’t spring to mind.<p>PreScheme immediately comes to mind for me as does ulisp. The latter in particular is designed for microcontrollers with limited memory.</div><br/></div></div><div id="40485393" class="c"><input type="checkbox" id="c-40485393" checked=""/><div class="controls bullet"><span class="by">RodgerTheGreat</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484302">parent</a><span>|</span><a href="#40487816">prev</a><span>|</span><a href="#40486473">next</a><span>|</span><label class="collapse" for="c-40485393">[-]</label><label class="expand" for="c-40485393">[1 more]</label></div><br/><div class="children"><div class="content">A classic mark-and-sweep GC for a heap of uniform structs (like cons-pairs) can be implemented in a few lines of code. Garbage collection is not inescapably complicated, it just gets more challenging as you impose more constraints: multithreading, generations, compaction, minimizing bookkeeping overhead, etc.</div><br/></div></div><div id="40486473" class="c"><input type="checkbox" id="c-40486473" checked=""/><div class="controls bullet"><span class="by">j-pb</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484302">parent</a><span>|</span><a href="#40485393">prev</a><span>|</span><a href="#40484304">next</a><span>|</span><label class="collapse" for="c-40486473">[-]</label><label class="expand" for="c-40486473">[1 more]</label></div><br/><div class="children"><div class="content">While I&#x27;m a huge fan of immutable persistent datastructures, I don&#x27;t think that they are a neccesity.<p>And linked lists with reference counting are really easy to do, and don&#x27;t have any leaks if you don&#x27;t allow cons cell abuse. (which would mess with immutablity anyways)<p>You could also do linear types like carp [0], or you could just do manual memory management.<p>I feel like most people will call something with macros and s-expressions, a reasonable, if brutalist, lisp.<p>0: <a href="https:&#x2F;&#x2F;github.com&#x2F;carp-lang&#x2F;Carp">https:&#x2F;&#x2F;github.com&#x2F;carp-lang&#x2F;Carp</a></div><br/></div></div></div></div><div id="40484304" class="c"><input type="checkbox" id="c-40484304" checked=""/><div class="controls bullet"><span class="by">ravxx</span><span>|</span><a href="#40484125">parent</a><span>|</span><a href="#40484302">prev</a><span>|</span><a href="#40486096">next</a><span>|</span><label class="collapse" for="c-40484304">[-]</label><label class="expand" for="c-40484304">[2 more]</label></div><br/><div class="children"><div class="content">it would be assembly script, the most simple possible typed language to make scripts for wasm. its almost identical to js.</div><br/><div id="40486500" class="c"><input type="checkbox" id="c-40486500" checked=""/><div class="controls bullet"><span class="by">j-pb</span><span>|</span><a href="#40484125">root</a><span>|</span><a href="#40484304">parent</a><span>|</span><a href="#40486096">next</a><span>|</span><label class="collapse" for="c-40486500">[-]</label><label class="expand" for="c-40486500">[1 more]</label></div><br/><div class="children"><div class="content">While that may be easy it&#x27;s definitely not simpler than WAT.<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;WebAssembly&#x2F;Understanding_the_text_format" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;WebAssembly&#x2F;Underst...</a></div><br/></div></div></div></div></div></div><div id="40486096" class="c"><input type="checkbox" id="c-40486096" checked=""/><div class="controls bullet"><span class="by">kettlecorn</span><span>|</span><a href="#40484125">prev</a><span>|</span><a href="#40484566">next</a><span>|</span><label class="collapse" for="c-40486096">[-]</label><label class="expand" for="c-40486096">[2 more]</label></div><br/><div class="children"><div class="content">Looks very cool! I can see myself using this for some Wasm experiments.<p>Please add a license so it&#x27;s clear how people can &#x2F; can&#x27;t use the project!</div><br/><div id="40488122" class="c"><input type="checkbox" id="c-40488122" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40486096">parent</a><span>|</span><a href="#40484566">next</a><span>|</span><label class="collapse" for="c-40488122">[-]</label><label class="expand" for="c-40488122">[1 more]</label></div><br/><div class="children"><div class="content">Yay a first user :) Added the license.</div><br/></div></div></div></div><div id="40484566" class="c"><input type="checkbox" id="c-40484566" checked=""/><div class="controls bullet"><span class="by">marianoguerra</span><span>|</span><a href="#40486096">prev</a><span>|</span><a href="#40486097">next</a><span>|</span><label class="collapse" for="c-40484566">[-]</label><label class="expand" for="c-40484566">[5 more]</label></div><br/><div class="children"><div class="content">If you would like to learn how to build your own then check <a href="https:&#x2F;&#x2F;wasmgroundup.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;wasmgroundup.com&#x2F;</a><p>Disclaimer: I&#x27;m the co-author</div><br/><div id="40484845" class="c"><input type="checkbox" id="c-40484845" checked=""/><div class="controls bullet"><span class="by">thomasfromcdnjs</span><span>|</span><a href="#40484566">parent</a><span>|</span><a href="#40486097">next</a><span>|</span><label class="collapse" for="c-40484845">[-]</label><label class="expand" for="c-40484845">[4 more]</label></div><br/><div class="children"><div class="content">How is this project related to the work you do? e.g. instadeq, gloodata<p>Why do you need WASM?</div><br/><div id="40485252" class="c"><input type="checkbox" id="c-40485252" checked=""/><div class="controls bullet"><span class="by">marianoguerra</span><span>|</span><a href="#40484566">root</a><span>|</span><a href="#40484845">parent</a><span>|</span><a href="#40485253">next</a><span>|</span><label class="collapse" for="c-40485252">[-]</label><label class="expand" for="c-40485252">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s not that related, I like to create compilers&#x2F;transpilers&#x2F;weird languages, see the &quot;Language Projects&quot; section here: <a href="https:&#x2F;&#x2F;marianoguerra.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;marianoguerra.github.io&#x2F;</a><p>But there&#x27;s a relation, two years ago I prototyped a thing that tried to make a headless version of instadeq that could run in the browser and the server, the idea was a dataflow language where the data was represented as apache arrow tables where filters and transformation expressions where compiled to wasm. The prototype kind of worked and I had a lot of fun, I thought about sharing the fun by writing a small book about creating 10 toy languages that compiled to Wasm, I shared the idea with Patrick, he said he was thinking about something similar and the idea evolved into the current book.</div><br/></div></div><div id="40485253" class="c"><input type="checkbox" id="c-40485253" checked=""/><div class="controls bullet"><span class="by">csjh</span><span>|</span><a href="#40484566">root</a><span>|</span><a href="#40484845">parent</a><span>|</span><a href="#40485252">prev</a><span>|</span><a href="#40486097">next</a><span>|</span><label class="collapse" for="c-40485253">[-]</label><label class="expand" for="c-40485253">[2 more]</label></div><br/><div class="children"><div class="content">In-browser data analysis is a great place to use Wasm. Javascript is great, but larger datasets really benefit from SIMD + tighter memory control&#x2F;controlled memory layouts.<p>Some interesting data-related Wasm projects:<p>- DuckDB Wasm | <a href="https:&#x2F;&#x2F;github.com&#x2F;duckdb&#x2F;duckdb-wasm">https:&#x2F;&#x2F;github.com&#x2F;duckdb&#x2F;duckdb-wasm</a><p>- Row Zero | <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39551064">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39551064</a><p>- PGLite | <a href="https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;pglite">https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;pglite</a></div><br/><div id="40485776" class="c"><input type="checkbox" id="c-40485776" checked=""/><div class="controls bullet"><span class="by">thomasfromcdnjs</span><span>|</span><a href="#40484566">root</a><span>|</span><a href="#40485253">parent</a><span>|</span><a href="#40486097">next</a><span>|</span><label class="collapse" for="c-40485776">[-]</label><label class="expand" for="c-40485776">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for this answer</div><br/></div></div></div></div></div></div></div></div><div id="40486097" class="c"><input type="checkbox" id="c-40486097" checked=""/><div class="controls bullet"><span class="by">niutech</span><span>|</span><a href="#40484566">prev</a><span>|</span><a href="#40484530">next</a><span>|</span><label class="collapse" for="c-40486097">[-]</label><label class="expand" for="c-40486097">[3 more]</label></div><br/><div class="children"><div class="content">How does LO compare with AssemblyScript?</div><br/><div id="40486956" class="c"><input type="checkbox" id="c-40486956" checked=""/><div class="controls bullet"><span class="by">andrewfromx</span><span>|</span><a href="#40486097">parent</a><span>|</span><a href="#40484530">next</a><span>|</span><label class="collapse" for="c-40486956">[-]</label><label class="expand" for="c-40486956">[2 more]</label></div><br/><div class="children"><div class="content">AssemblyScript is very strange to me. The whole point of wasm is you can avoid javascript&#x2F;typescript language and do stuff in a browser in go, rust, or now LO!</div><br/><div id="40488059" class="c"><input type="checkbox" id="c-40488059" checked=""/><div class="controls bullet"><span class="by">csjh</span><span>|</span><a href="#40486097">root</a><span>|</span><a href="#40486956">parent</a><span>|</span><a href="#40484530">next</a><span>|</span><label class="collapse" for="c-40488059">[-]</label><label class="expand" for="c-40488059">[1 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t say that&#x27;s the whole point of Wasm. Speed &amp; efficiency are also key goals, which are what AssemblyScript play into, giving access to that speed potential in a format that&#x27;s easy for web devs</div><br/></div></div></div></div></div></div><div id="40484530" class="c"><input type="checkbox" id="c-40484530" checked=""/><div class="controls bullet"><span class="by">ledgerdev</span><span>|</span><a href="#40486097">prev</a><span>|</span><a href="#40484097">next</a><span>|</span><label class="collapse" for="c-40484530">[-]</label><label class="expand" for="c-40484530">[5 more]</label></div><br/><div class="children"><div class="content">Any plans to use wasmgc?</div><br/><div id="40484595" class="c"><input type="checkbox" id="c-40484595" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40484530">parent</a><span>|</span><a href="#40484660">prev</a><span>|</span><a href="#40484097">next</a><span>|</span><label class="collapse" for="c-40484595">[-]</label><label class="expand" for="c-40484595">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see a need for it. Maybe for some higher level scripting, but I don&#x27;t have any plans for that.</div><br/><div id="40484686" class="c"><input type="checkbox" id="c-40484686" checked=""/><div class="controls bullet"><span class="by">azakai</span><span>|</span><a href="#40484530">root</a><span>|</span><a href="#40484595">parent</a><span>|</span><a href="#40484097">next</a><span>|</span><label class="collapse" for="c-40484686">[-]</label><label class="expand" for="c-40484686">[2 more]</label></div><br/><div class="children"><div class="content">A big advantage of WasmGC is it would allow your binaries to be smaller, since you wouldn&#x27;t need to bundle an allocator for heap::alloc and free. Kotlin and Java binaries can in some cases be be much smaller than C++ and Rust for that reason.</div><br/><div id="40485020" class="c"><input type="checkbox" id="c-40485020" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40484530">root</a><span>|</span><a href="#40484686">parent</a><span>|</span><a href="#40484097">next</a><span>|</span><label class="collapse" for="c-40485020">[-]</label><label class="expand" for="c-40485020">[1 more]</label></div><br/><div class="children"><div class="content">Alright, will take a look at it sometime. But the more interesting proposal for me right now is the component model.</div><br/></div></div></div></div></div></div></div></div><div id="40484097" class="c"><input type="checkbox" id="c-40484097" checked=""/><div class="controls bullet"><span class="by">teucris</span><span>|</span><a href="#40484530">prev</a><span>|</span><a href="#40484337">next</a><span>|</span><label class="collapse" for="c-40484097">[-]</label><label class="expand" for="c-40484097">[2 more]</label></div><br/><div class="children"><div class="content">So far I’m loving this. Would love a language tour doc!</div><br/><div id="40484180" class="c"><input type="checkbox" id="c-40484180" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40484097">parent</a><span>|</span><a href="#40484337">next</a><span>|</span><label class="collapse" for="c-40484180">[-]</label><label class="expand" for="c-40484180">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I will definitely do that once the feature set will get stable enough. Don&#x27;t want to update docs constantly :)<p>As for now, you can check the examples folder and explore the compiler sources, tried to keep everything simple.</div><br/></div></div></div></div><div id="40484337" class="c"><input type="checkbox" id="c-40484337" checked=""/><div class="controls bullet"><span class="by">varispeed</span><span>|</span><a href="#40484097">prev</a><span>|</span><label class="collapse" for="c-40484337">[-]</label><label class="expand" for="c-40484337">[2 more]</label></div><br/><div class="children"><div class="content">This is very nice! What is missing for me is the answer to question &quot;Why?&quot;</div><br/><div id="40484502" class="c"><input type="checkbox" id="c-40484502" checked=""/><div class="controls bullet"><span class="by">glebbash</span><span>|</span><a href="#40484337">parent</a><span>|</span><label class="collapse" for="c-40484502">[-]</label><label class="expand" for="c-40484502">[1 more]</label></div><br/><div class="children"><div class="content">Mostly for recreational programming. And then for exploring what the languages with minimal infrastructure could look like.</div><br/></div></div></div></div></div></div></div></div></div></body></html>