<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1718614868161" as="style"/><link rel="stylesheet" href="styles.css?v=1718614868161"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://hiandrewquinn.github.io/til-site/posts/openbsd-the-computer-appliance-maker-s-secret-weapon/">OpenBSD, the computer appliance maker&#x27;s secret weapon</a> <span class="domain">(<a href="https://hiandrewquinn.github.io">hiandrewquinn.github.io</a>)</span></div><div class="subtext"><span>transpute</span> | <span>32 comments</span></div><br/><div><div id="40702621" class="c"><input type="checkbox" id="c-40702621" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#40702837">next</a><span>|</span><label class="collapse" for="c-40702621">[-]</label><label class="expand" for="c-40702621">[3 more]</label></div><br/><div class="children"><div class="content">&gt; This is the little slice of computing heaven I currently live within. In a lot of ways it feels like what I imagine employed hackers of old in the 90s were up to.<p>That does sound like a dream come true; how does one end up in such a gig?<p>&gt; If only there were a freely-usable set of Unix-like operating systems, with an emphasis on keeping things very, very stable over releases, even more stable than Debian does. Enter the BSDs. Free, Open, Net, take your pick. All of them take a “don’t fix it if it ain’t broken” approach to things, which means someone who started slinging NetBSD installs back in 2007 can probably spin up a well-manicured VM of that 2007 install and reliably make their way around the system, even today, in 2024.<p>I dearly love all the major BSDs, but that... isn&#x27;t the argument I would make for OpenBSD, which is <i>quite</i> happy to break things to improve them. For example, replacing sudo with doas - excellent move, but if you go back multiple versions your knowledge no longer works, much like Debian.<p>(If I were making suggestions, I tend to feel that NetBSD has largely not yet realized it isn&#x27;t a barely-forked UNIX running on a VAX; it feels much more unchanging to me, at least from a user perspective, though perhaps I merely lack the experience to know better.)</div><br/><div id="40702786" class="c"><input type="checkbox" id="c-40702786" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#40702621">parent</a><span>|</span><a href="#40703405">next</a><span>|</span><label class="collapse" for="c-40702786">[-]</label><label class="expand" for="c-40702786">[1 more]</label></div><br/><div class="children"><div class="content">Author here - yeah, as I&#x27;ve learned more about OpenBSD I&#x27;ve realized that, while &quot;don&#x27;t fix it if it ain&#x27;t broken&quot; is still a valid claim about their overall approach, the OpenBSD hackers also just ... see a lot of stuff that&#x27;s broken, everywhere.<p>Still, somehow, on the margin, I feel I&#x27;d be more comfortable hopping back into a much earlier OpenBSD than a much earlier Debian. Maybe it&#x27;s a taste thing.</div><br/></div></div><div id="40703405" class="c"><input type="checkbox" id="c-40703405" checked=""/><div class="controls bullet"><span class="by">silver_silver</span><span>|</span><a href="#40702621">parent</a><span>|</span><a href="#40702786">prev</a><span>|</span><a href="#40702837">next</a><span>|</span><label class="collapse" for="c-40703405">[-]</label><label class="expand" for="c-40703405">[1 more]</label></div><br/><div class="children"><div class="content">Not as radical a change as, e.g. integrating systemd though</div><br/></div></div></div></div><div id="40702837" class="c"><input type="checkbox" id="c-40702837" checked=""/><div class="controls bullet"><span class="by">kogepathic</span><span>|</span><a href="#40702621">prev</a><span>|</span><a href="#40702684">next</a><span>|</span><label class="collapse" for="c-40702837">[-]</label><label class="expand" for="c-40702837">[6 more]</label></div><br/><div class="children"><div class="content">The author has a good point but I am surprised they neglected to mention the most important aspect for any aspiring appliance maker:<p>The BSD license<p>Yes, thanks to the magic of the BSD license you can ship an appliance that is nothing more than a vanilla BSD and some hacky scripts and never have to worry about your customers demanding to see how much jank you have shoved into the box.</div><br/><div id="40703105" class="c"><input type="checkbox" id="c-40703105" checked=""/><div class="controls bullet"><span class="by">enriquto</span><span>|</span><a href="#40702837">parent</a><span>|</span><a href="#40702684">next</a><span>|</span><label class="collapse" for="c-40703105">[-]</label><label class="expand" for="c-40703105">[5 more]</label></div><br/><div class="children"><div class="content">As a user, that is precisely the <i>main</i> drawback of the bsds (as much as I love them, especially OpenBSD).  If I&#x27;m using a bsd in some third-party computer, some icky middleman may have changed stuff in the system for which I&#x27;m not allowed to see the patches.  If the license was GPL, I would have the right to see these changes!<p>Forbidding your users to see the inner workings of the system (hiding the jank that has been shoven into the box, as you say), does not seem like a positive thing..</div><br/><div id="40703611" class="c"><input type="checkbox" id="c-40703611" checked=""/><div class="controls bullet"><span class="by">kogepathic</span><span>|</span><a href="#40702837">root</a><span>|</span><a href="#40703105">parent</a><span>|</span><a href="#40703654">next</a><span>|</span><label class="collapse" for="c-40703611">[-]</label><label class="expand" for="c-40703611">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; Forbidding your users to see the inner workings of the system (hiding the jank that has been shoven into the box, as you say), does not seem like a positive thing..</i><p>Indeed, I don&#x27;t consider the BSD license a good thing from a user&#x27;s perspective. Companies love BSD&#x2F;MIT licensed software though.<p>Maybe I should have included a &quot;&#x2F;s&quot; in my post.</div><br/></div></div><div id="40703654" class="c"><input type="checkbox" id="c-40703654" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#40702837">root</a><span>|</span><a href="#40703105">parent</a><span>|</span><a href="#40703611">prev</a><span>|</span><a href="#40703533">next</a><span>|</span><label class="collapse" for="c-40703654">[-]</label><label class="expand" for="c-40703654">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If the license was GPL, I would have the right to see these changes!<p>if you can afford the lawyers.</div><br/></div></div><div id="40703533" class="c"><input type="checkbox" id="c-40703533" checked=""/><div class="controls bullet"><span class="by">michaelt</span><span>|</span><a href="#40702837">root</a><span>|</span><a href="#40703105">parent</a><span>|</span><a href="#40703654">prev</a><span>|</span><a href="#40703202">next</a><span>|</span><label class="collapse" for="c-40703533">[-]</label><label class="expand" for="c-40703533">[1 more]</label></div><br/><div class="children"><div class="content">I mean, it&#x27;s not great.<p>But there&#x27;s plenty of jank in e.g. Android phones. And of course anything the vendor doesn&#x27;t feel like open sourcing they can just cram into something like &#x27;google play services&#x27; to keep it closed source.<p>And vendors who want to TiVo-ize Linux can do it just fine, thanks to the Linux kernel embracing the TPM.</div><br/></div></div></div></div></div></div><div id="40702684" class="c"><input type="checkbox" id="c-40702684" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#40702837">prev</a><span>|</span><a href="#40702645">next</a><span>|</span><label class="collapse" for="c-40702684">[-]</label><label class="expand" for="c-40702684">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve played this distro hopping game since I was a teenager and they were mailing free cds of this weird new south-african thing called Ubuntu which wasn&#x27;t nearly as cool as the FreeBSD 5.0 release.<p>Enough of the astrological pseudo-science. This distro is good for hackers, use this if you want stability, use this for bleeding edge, this one is secure by default, that one has a nice UI, it&#x27;s all nonsense.<p>The only meaningful changes have been: The effective mandatory adoption of SystemD, and the emergence of NixOS.<p>NixOS elevates the entire discussion. I can&#x27;t wait for it to work across different UNIX kernels. It&#x27;s not ready for regular people, it&#x27;s not even ready for most enthusiasts, the language is awful and the nixpkgs set is full of inconsistencies, but it&#x27;s all worth it.<p>So let&#x27;s stop with the voodoo and start applying the techniques in other places. Nix without Nix is what we need.</div><br/><div id="40702773" class="c"><input type="checkbox" id="c-40702773" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#40702684">parent</a><span>|</span><a href="#40702715">next</a><span>|</span><label class="collapse" for="c-40702773">[-]</label><label class="expand" for="c-40702773">[2 more]</label></div><br/><div class="children"><div class="content">Your humble author here... Sadly, I&#x27;ve heard Nix is quite a ways away from being ready for the big leagues with the BSDs.<p>I&#x27;m quite a fan of its approach as well, maybe a little less so when disk space is  a big concern like it often is for computer appliances.</div><br/><div id="40703670" class="c"><input type="checkbox" id="c-40703670" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#40702684">root</a><span>|</span><a href="#40702773">parent</a><span>|</span><a href="#40702715">next</a><span>|</span><label class="collapse" for="c-40703670">[-]</label><label class="expand" for="c-40703670">[1 more]</label></div><br/><div class="children"><div class="content">you wouldn&#x27;t be installing and forgetting loads of different versions of everything on computer appliances. you&#x27;d develop on a normal pc and then push just what&#x27;s needed to the appliance.<p>on the dev pc you&#x27;d run garbage collection once your new env is acceptable and the old one gets removed.</div><br/></div></div></div></div><div id="40702715" class="c"><input type="checkbox" id="c-40702715" checked=""/><div class="controls bullet"><span class="by">solarpunk</span><span>|</span><a href="#40702684">parent</a><span>|</span><a href="#40702773">prev</a><span>|</span><a href="#40702722">next</a><span>|</span><label class="collapse" for="c-40702715">[-]</label><label class="expand" for="c-40702715">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Nix without Nix is what we need.<p>OStree exists and is used in lots of places: <a href="https:&#x2F;&#x2F;ostreedev.github.io&#x2F;ostree&#x2F;#operating-systems-and-distributions-using-ostree" rel="nofollow">https:&#x2F;&#x2F;ostreedev.github.io&#x2F;ostree&#x2F;#operating-systems-and-di...</a></div><br/><div id="40702764" class="c"><input type="checkbox" id="c-40702764" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#40702684">root</a><span>|</span><a href="#40702715">parent</a><span>|</span><a href="#40702722">next</a><span>|</span><label class="collapse" for="c-40702764">[-]</label><label class="expand" for="c-40702764">[1 more]</label></div><br/><div class="children"><div class="content">Agreed it&#x27;s an excellent step, I confess I don&#x27;t know if it answers the package building component however.</div><br/></div></div></div></div><div id="40702722" class="c"><input type="checkbox" id="c-40702722" checked=""/><div class="controls bullet"><span class="by">bpye</span><span>|</span><a href="#40702684">parent</a><span>|</span><a href="#40702715">prev</a><span>|</span><a href="#40702744">next</a><span>|</span><label class="collapse" for="c-40702722">[-]</label><label class="expand" for="c-40702722">[1 more]</label></div><br/><div class="children"><div class="content">You can use Nix to build derivations on at least some of the BSDs - so I guess if you wanted to build some BSD based appliance with Nix it is possible, but would take some doing…</div><br/></div></div><div id="40702744" class="c"><input type="checkbox" id="c-40702744" checked=""/><div class="controls bullet"><span class="by">dinozarw</span><span>|</span><a href="#40702684">parent</a><span>|</span><a href="#40702722">prev</a><span>|</span><a href="#40702951">next</a><span>|</span><label class="collapse" for="c-40702744">[-]</label><label class="expand" for="c-40702744">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Nix without Nix<p>So, GNU Guix?</div><br/><div id="40702856" class="c"><input type="checkbox" id="c-40702856" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#40702684">root</a><span>|</span><a href="#40702744">parent</a><span>|</span><a href="#40702951">next</a><span>|</span><label class="collapse" for="c-40702856">[-]</label><label class="expand" for="c-40702856">[1 more]</label></div><br/><div class="children"><div class="content">I have only read about it but my takeaway was that it was like an opinionated sibling technology rather than a successor one.<p>I don&#x27;t know what a successor would look like, I worry that it would have to wrangle with 40 years of software compilation techniques.</div><br/></div></div></div></div><div id="40702951" class="c"><input type="checkbox" id="c-40702951" checked=""/><div class="controls bullet"><span class="by">bsder</span><span>|</span><a href="#40702684">parent</a><span>|</span><a href="#40702744">prev</a><span>|</span><a href="#40702645">next</a><span>|</span><label class="collapse" for="c-40702951">[-]</label><label class="expand" for="c-40702951">[3 more]</label></div><br/><div class="children"><div class="content">&gt; NixOS elevates the entire discussion.<p>NixOS and Docker and other Linux container and isolation madness only exist because the Linux illuminati can&#x27;t admit that zones and ZFS <i>got it right</i>.<p>I wish Linux would just STFU and copy them already.  Given the amount of code that has been spilled, Linux could have cleanroom reimplemented zones and ZFS 10 times over by now.</div><br/><div id="40703019" class="c"><input type="checkbox" id="c-40703019" checked=""/><div class="controls bullet"><span class="by">irusensei</span><span>|</span><a href="#40702684">root</a><span>|</span><a href="#40702951">parent</a><span>|</span><a href="#40702645">next</a><span>|</span><label class="collapse" for="c-40703019">[-]</label><label class="expand" for="c-40703019">[2 more]</label></div><br/><div class="children"><div class="content">Thats only half of the picture. These tools gain traction because of orchestration and reproducibility. Nix, NixOS and Dockerfiles allow you to define an entire structure through infrastructure code. Is there something similar on any current BSD?</div><br/></div></div></div></div></div></div><div id="40703269" class="c"><input type="checkbox" id="c-40703269" checked=""/><div class="controls bullet"><span class="by">DEADMINCE</span><span>|</span><a href="#40702645">prev</a><span>|</span><a href="#40702816">next</a><span>|</span><label class="collapse" for="c-40703269">[-]</label><label class="expand" for="c-40703269">[2 more]</label></div><br/><div class="children"><div class="content">&gt; If they run into OpenBSD, however, their efforts are quite likely to be thwarted just because the blowfish is so darn spiky.<p>Ehhhhhhh.<p>As a teen eating up all the computer security stuff I could find, and getting into osdev and learning as much as I could, OpenBSD always seemed kind of off to me. The security claims are hugely overstated, and for an OS that claims security as its focus, they are slow if not reluctant to add tools that vastly increase security, like even a simple RBAC implementation.<p>Disabling services by default should have been the default for all operating systems, and writing OpenSSH has been great, but let&#x27;s all stop perpetuating the myth of OpenBSD as an especially hardened OS.<p>I agree about the BSDs being a secret weapon, but that&#x27;s more to do with the license as someone else mentioned, and I&#x27;d think Net and Free are more commonly taken from.</div><br/><div id="40703461" class="c"><input type="checkbox" id="c-40703461" checked=""/><div class="controls bullet"><span class="by">davidgerard</span><span>|</span><a href="#40703269">parent</a><span>|</span><a href="#40702816">next</a><span>|</span><label class="collapse" for="c-40703461">[-]</label><label class="expand" for="c-40703461">[1 more]</label></div><br/><div class="children"><div class="content">The thing that seems to be missing from your post is a list of examples of its security not being all that in practice.</div><br/></div></div></div></div><div id="40702816" class="c"><input type="checkbox" id="c-40702816" checked=""/><div class="controls bullet"><span class="by">Jean-Papoulos</span><span>|</span><a href="#40703269">prev</a><span>|</span><a href="#40703030">next</a><span>|</span><label class="collapse" for="c-40702816">[-]</label><label class="expand" for="c-40702816">[7 more]</label></div><br/><div class="children"><div class="content">Saying that something hasn&#x27;t evolved in almost 20 years is a... strange flex ? I suppose there&#x27;s a need for everything.</div><br/><div id="40702879" class="c"><input type="checkbox" id="c-40702879" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#40702816">parent</a><span>|</span><a href="#40702872">next</a><span>|</span><label class="collapse" for="c-40702879">[-]</label><label class="expand" for="c-40702879">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  15 to 30 year lifespan of an average B2B computer appliance
</code></pre>
<i>&gt; Saying that something hasn&#x27;t evolved in almost 20 years is a... strange flex</i><p>Decades of recurring, non-evolving revenue vs. S-curve surfing.<p>Decisions, decisions.</div><br/><div id="40703631" class="c"><input type="checkbox" id="c-40703631" checked=""/><div class="controls bullet"><span class="by">daemin</span><span>|</span><a href="#40702816">root</a><span>|</span><a href="#40702879">parent</a><span>|</span><a href="#40702872">next</a><span>|</span><label class="collapse" for="c-40703631">[-]</label><label class="expand" for="c-40703631">[1 more]</label></div><br/><div class="children"><div class="content">With an unchanging system you could sit on the beach collecting the recurring revenue, or build new products and look for more customers. It&#x27;s not as glamorous as trying to get a hyperscaling startup but there&#x27;s a lot of money to be made doing boring things.</div><br/></div></div></div></div><div id="40702872" class="c"><input type="checkbox" id="c-40702872" checked=""/><div class="controls bullet"><span class="by">nabla9</span><span>|</span><a href="#40702816">parent</a><span>|</span><a href="#40702879">prev</a><span>|</span><a href="#40702865">next</a><span>|</span><label class="collapse" for="c-40702872">[-]</label><label class="expand" for="c-40702872">[1 more]</label></div><br/><div class="children"><div class="content">Author talks about stability of the userland.<p>OpenBSD is  innovative, especially in all matters of security and stability. SROP, privilege separation and revocation, W^X, PIE, trapsleds, fork+exec separation.<p>Removing weaknesses is evolution.</div><br/></div></div><div id="40702865" class="c"><input type="checkbox" id="c-40702865" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#40702816">parent</a><span>|</span><a href="#40702872">prev</a><span>|</span><a href="#40702968">next</a><span>|</span><label class="collapse" for="c-40702865">[-]</label><label class="expand" for="c-40702865">[2 more]</label></div><br/><div class="children"><div class="content">I appreciate something like that. It can mean one of two things:<p>* it&#x27;s abandoned.<p>* it&#x27;s good for what it does, why change it?<p>I don&#x27;t know, to be honest, in which of these most BSDs are. But I see very little reason for an Operating System&#x27;s tools and utilities to have changed much since the early 2000&#x27;s. Perhaps even since the 1990&#x27;s. Sure, their implementations may have been significantly improved, and maybe they&#x27;ve got some new stuff (specially in things that do need to evolve, like crypto) but the overall user interface remains the same. I think we should start seeing change for the sake of change as a bug, not a feature.</div><br/><div id="40703361" class="c"><input type="checkbox" id="c-40703361" checked=""/><div class="controls bullet"><span class="by">contingencies</span><span>|</span><a href="#40702816">root</a><span>|</span><a href="#40702865">parent</a><span>|</span><a href="#40702968">next</a><span>|</span><label class="collapse" for="c-40703361">[-]</label><label class="expand" for="c-40703361">[1 more]</label></div><br/><div class="children"><div class="content"><i>it&#x27;s good for what it does, why change it?</i><p>Immediately, this quote came to mind: <i>Those who don&#x27;t understand Unix are condemned to reinvent it, poorly.</i> - Henry Spencer<p>Alternatively, <i>Just do what slack did with irc. &#x27;Reinvent&#x27; it with a modern interface and some fixes. The mercurial masses will flock to the hot new platform, VC will shower you with adoration and cash, we&#x27;ll tell stories about how you don&#x27;t eat breakfast and only ever wear one sock. Everyone will emulate you and then you can come back around as a wealthy guru investor.</i> - @more_corn<p>Or the wise man yells at cloud version, <i>It used to be the case that people were admonished to &quot;not re-invent the wheel&quot;. We now live in an age that spends a lot of time &quot;reinventing the flat tire!&quot; The flat tires come from the reinventors often not being in the same league as the original inventors. This is a symptom of a &quot;pop culture&quot; where identity and participation are much more important than progress...</i> - Alan Kay (2016)<p>... via <a href="https:&#x2F;&#x2F;github.com&#x2F;globalcitizen&#x2F;taoup">https:&#x2F;&#x2F;github.com&#x2F;globalcitizen&#x2F;taoup</a></div><br/></div></div></div></div><div id="40702968" class="c"><input type="checkbox" id="c-40702968" checked=""/><div class="controls bullet"><span class="by">blackhaz</span><span>|</span><a href="#40702816">parent</a><span>|</span><a href="#40702865">prev</a><span>|</span><a href="#40703030">next</a><span>|</span><label class="collapse" for="c-40702968">[-]</label><label class="expand" for="c-40702968">[1 more]</label></div><br/><div class="children"><div class="content">Especially if you see other OSs actually devolving.</div><br/></div></div></div></div><div id="40703030" class="c"><input type="checkbox" id="c-40703030" checked=""/><div class="controls bullet"><span class="by">bitwize</span><span>|</span><a href="#40702816">prev</a><span>|</span><label class="collapse" for="c-40703030">[-]</label><label class="expand" for="c-40703030">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s something... oddly satisfying about tailing your logs and watching skiddie exploits harmlessly glance off OpenBSD&#x27;s hide. Still the only OS I&#x27;d trust hooking directly up to the internet with a web server or something, without a firewall of some sort in between.<p>I got into OpenBSD again when I bought a new, cheap potato to play with -- an HP thin client PC I scored off eBay for $25. The super-lightweight candidate operating systems I tried for it -- AROS and Haiku -- both struggled with its eMMC controller and couldn&#x27;t even find a volume to install to; the same, oddly, was true of NetBSD. OpenBSD found it just fine.</div><br/></div></div></div></div></div></div></div></body></html>