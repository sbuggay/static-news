<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1718960454039" as="style"/><link rel="stylesheet" href="styles.css?v=1718960454039"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ochagavia.nl/blog/chasing-a-bug-in-a-sat-solver/">Chasing a Bug in a SAT Solver</a>Â <span class="domain">(<a href="https://ochagavia.nl">ochagavia.nl</a>)</span></div><div class="subtext"><span>wofo</span> | <span>8 comments</span></div><br/><div><div id="40747059" class="c"><input type="checkbox" id="c-40747059" checked=""/><div class="controls bullet"><span class="by">rgovostes</span><span>|</span><a href="#40747121">next</a><span>|</span><label class="collapse" for="c-40747059">[-]</label><label class="expand" for="c-40747059">[4 more]</label></div><br/><div class="children"><div class="content">If you have a large input that triggers a bug and you want to reduce it, it might be worth looking into the Delta Debugging[0] algorithm used by C-Reduce[1] to make minimal test cases for C-like languages. C-Reduce &quot;happens to do a pretty good job reducing the size of programs in languages other than C&#x2F;C++, such as JavaScript and Rust&quot; so it might work out of the box for you. (Aside: there&#x27;s also ddSMT for SMT solvers that take SMT-LIB2 input.)<p>0: <a href="https:&#x2F;&#x2F;www.st.cs.uni-saarland.de&#x2F;dd&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.st.cs.uni-saarland.de&#x2F;dd&#x2F;</a><p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;csmith-project&#x2F;creduce">https:&#x2F;&#x2F;github.com&#x2F;csmith-project&#x2F;creduce</a></div><br/><div id="40747468" class="c"><input type="checkbox" id="c-40747468" checked=""/><div class="controls bullet"><span class="by">andrewchambers</span><span>|</span><a href="#40747059">parent</a><span>|</span><a href="#40747127">next</a><span>|</span><label class="collapse" for="c-40747468">[-]</label><label class="expand" for="c-40747468">[1 more]</label></div><br/><div class="children"><div class="content">I wrote a pure python3 implementation with no other dependencies here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;andrewchambers&#x2F;ddmin-python">https:&#x2F;&#x2F;github.com&#x2F;andrewchambers&#x2F;ddmin-python</a><p>It can be used as a cli program or a python library.</div><br/></div></div><div id="40747127" class="c"><input type="checkbox" id="c-40747127" checked=""/><div class="controls bullet"><span class="by">wyldfire</span><span>|</span><a href="#40747059">parent</a><span>|</span><a href="#40747468">prev</a><span>|</span><a href="#40747072">next</a><span>|</span><label class="collapse" for="c-40747127">[-]</label><label class="expand" for="c-40747127">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used creduce (and cvise) to reduce test cases for all kinds of inputs, even ones that aren&#x27;t C-like. If it has newline-delimited text, it&#x27;ll work well (though you should adjust the knobs accordingly in order to converge faster).</div><br/></div></div><div id="40747072" class="c"><input type="checkbox" id="c-40747072" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#40747059">parent</a><span>|</span><a href="#40747127">prev</a><span>|</span><a href="#40747121">next</a><span>|</span><label class="collapse" for="c-40747072">[-]</label><label class="expand" for="c-40747072">[1 more]</label></div><br/><div class="children"><div class="content">thanks, this is fantastic!</div><br/></div></div></div></div><div id="40747121" class="c"><input type="checkbox" id="c-40747121" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#40747059">prev</a><span>|</span><a href="#40747147">next</a><span>|</span><label class="collapse" for="c-40747121">[-]</label><label class="expand" for="c-40747121">[2 more]</label></div><br/><div class="children"><div class="content">I wrote a CSP solver a while ago. The bugs were alarmingly prone to being incomplete enumeration of solutions. The solver would say &quot;Yep, here&#x27;s all 2412 solutions to that problem&quot;, but there were more solutions out there it missed. I didn&#x27;t usually know how many solutions there would be so it&#x27;s hard to distinguish between &quot;all of them&quot; and &quot;95% of them&quot;. However that also threw a lot of doubt on when the solver returned unsat - was the problem unsat, or was the solver failing to look in part of the search space?<p>I didn&#x27;t find a plausible testing strategy for convincing myself that the last of that class of error was gone and ultimately stopped working on it as a result.</div><br/><div id="40747601" class="c"><input type="checkbox" id="c-40747601" checked=""/><div class="controls bullet"><span class="by">cjfd</span><span>|</span><a href="#40747121">parent</a><span>|</span><a href="#40747147">next</a><span>|</span><label class="collapse" for="c-40747601">[-]</label><label class="expand" for="c-40747601">[1 more]</label></div><br/><div class="children"><div class="content">Maybe one could attempt to use a proof assistant to prove that the algorithm is correct?</div><br/></div></div></div></div><div id="40747147" class="c"><input type="checkbox" id="c-40747147" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#40747121">prev</a><span>|</span><label class="collapse" for="c-40747147">[-]</label><label class="expand" for="c-40747147">[1 more]</label></div><br/><div class="children"><div class="content">i&#x27;ve used drmaciver&#x27;s property testing library hypothesis to find bugs in c libraries before; it has shrinking. &#x27;doesn&#x27;t crash&#x27; is the easiest property to define, but a bit fiddly to connect to property testing libraries, because you have to spawn a subprocess. in one case i just used fork, _exit, and wait, but in some cases things get ugly then (posix threads guarantee you almost nothing, but fortunately i wasn&#x27;t using threads)<p>his &#x27;minithesis&#x27; is the best way i&#x27;ve found to learn about implementing property-based testing<p>sat and smt solvers have gotten astoundingly good, and most of the leading ones are free software. smt-comp shows off new gains every year and has a lineup of the leaders<p>z3 is a particularly easy smt solver to get started with, in part because of its convenient python binding<p>a thing sat&#x2F;smt and property-based testing have in common is that they both solve inverse problems, allowing you to program at a more declarative level</div><br/></div></div></div></div></div></div></div></body></html>