<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717837263418" as="style"/><link rel="stylesheet" href="styles.css?v=1717837263418"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.dave.tf/post/linux-pid0/">What Is PID 0?</a> <span class="domain">(<a href="https://blog.dave.tf">blog.dave.tf</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>34 comments</span></div><br/><div><div id="40613818" class="c"><input type="checkbox" id="c-40613818" checked=""/><div class="controls bullet"><span class="by">scottlamb</span><span>|</span><a href="#40614923">next</a><span>|</span><label class="collapse" for="c-40613818">[-]</label><label class="expand" for="c-40613818">[6 more]</label></div><br/><div class="children"><div class="content">Some nice archaeology here, but I think it&#x27;s important to say &quot;pid 0 is part of the [Linux] kernel&quot; (much less the further details) is only useful from a certain perspective—if you are debugging the kernel itself, using its more idiosyncratic interfaces like trace points within e.g. eBPF to examine the system as a whole, etc.<p>From the perspective of a userspace process using standard APIs, I think a more useful approximation is &quot;pid 0 refers to myself&quot;. It&#x27;s what fork returns in the child. It&#x27;s what you pass in to kill(2) to signal your own entire process group. Probably other variations too.</div><br/><div id="40614382" class="c"><input type="checkbox" id="c-40614382" checked=""/><div class="controls bullet"><span class="by">hi-v-rocknroll</span><span>|</span><a href="#40613818">parent</a><span>|</span><a href="#40614923">next</a><span>|</span><label class="collapse" for="c-40614382">[-]</label><label class="expand" for="c-40614382">[5 more]</label></div><br/><div class="children"><div class="content">There is no PID 0, it&#x27;s a ABI convention just as using a negative PID is a convention to use the PGID instead like <i>kill -9 -1</i>. PIDs start at 1. The Linux kernel allocates PIDs to kernel threads that are &quot;processes&quot; without a separate address space running in a privileged mode with separate stacks, and generally ignore <i>kill()</i> signals.<p>Command to get when a Linux box was started as opposed to just running <i>uptime -s</i>:<p><pre><code>    ps -p 2 -o lstart=</code></pre></div><br/><div id="40614653" class="c"><input type="checkbox" id="c-40614653" checked=""/><div class="controls bullet"><span class="by">scottlamb</span><span>|</span><a href="#40613818">root</a><span>|</span><a href="#40614382">parent</a><span>|</span><a href="#40614923">next</a><span>|</span><label class="collapse" for="c-40614653">[-]</label><label class="expand" for="c-40614653">[4 more]</label></div><br/><div class="children"><div class="content">Okay. I said approximation, and saying that the approximation is not completely true is not that interesting.</div><br/><div id="40614737" class="c"><input type="checkbox" id="c-40614737" checked=""/><div class="controls bullet"><span class="by">wzdd</span><span>|</span><a href="#40613818">root</a><span>|</span><a href="#40614653">parent</a><span>|</span><a href="#40614923">next</a><span>|</span><label class="collapse" for="c-40614737">[-]</label><label class="expand" for="c-40614737">[3 more]</label></div><br/><div class="children"><div class="content">Even in your own examples 0 means different things. It’s not an approximation, it’s wrong.</div><br/><div id="40615974" class="c"><input type="checkbox" id="c-40615974" checked=""/><div class="controls bullet"><span class="by">bvaldivielso</span><span>|</span><a href="#40613818">root</a><span>|</span><a href="#40614737">parent</a><span>|</span><a href="#40614923">next</a><span>|</span><label class="collapse" for="c-40615974">[-]</label><label class="expand" for="c-40615974">[2 more]</label></div><br/><div class="children"><div class="content">All models are wrong, some are useful. I found his explanation useful while knowing it was not correct</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40614923" class="c"><input type="checkbox" id="c-40614923" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#40613818">prev</a><span>|</span><a href="#40614240">next</a><span>|</span><label class="collapse" for="c-40614923">[-]</label><label class="expand" for="c-40614923">[2 more]</label></div><br/><div class="children"><div class="content">On NT-based Windows, PID 0 is &quot;System Idle Process&quot; and is quite similar in function to the Linux one. On DOS-based Windows, IIRC there is no such thing as PID 0 since PIDs there are actually kernel memory pointers and thus very high: <a href="http:&#x2F;&#x2F;www.thescarms.com&#x2F;VBImages&#x2F;RunningProcs.gif" rel="nofollow">http:&#x2F;&#x2F;www.thescarms.com&#x2F;VBImages&#x2F;RunningProcs.gif</a> -- instead, the idle loop is inside VMM32.</div><br/><div id="40616013" class="c"><input type="checkbox" id="c-40616013" checked=""/><div class="controls bullet"><span class="by">therein</span><span>|</span><a href="#40614923">parent</a><span>|</span><a href="#40614240">next</a><span>|</span><label class="collapse" for="c-40616013">[-]</label><label class="expand" for="c-40616013">[1 more]</label></div><br/><div class="children"><div class="content">Having written some code that did some DKOM in Windows, I&#x27;d say PID 4 comes closer.</div><br/></div></div></div></div><div id="40614240" class="c"><input type="checkbox" id="c-40614240" checked=""/><div class="controls bullet"><span class="by">caseyy</span><span>|</span><a href="#40614923">prev</a><span>|</span><a href="#40615216">next</a><span>|</span><label class="collapse" for="c-40614240">[-]</label><label class="expand" for="c-40614240">[6 more]</label></div><br/><div class="children"><div class="content">People are far overconfident online for what they know. The definitive and confident tone most online commenters speak in should probably only be spoken by experts in their own fields.<p>I sometimes wonder if that is why LLMs can so confidently hallucinate — because they were trained on piles of overconfident human texts.<p>It&#x27;s an interesting thing to ponder.</div><br/><div id="40614388" class="c"><input type="checkbox" id="c-40614388" checked=""/><div class="controls bullet"><span class="by">ultra_nick</span><span>|</span><a href="#40614240">parent</a><span>|</span><a href="#40616119">next</a><span>|</span><label class="collapse" for="c-40614388">[-]</label><label class="expand" for="c-40614388">[4 more]</label></div><br/><div class="children"><div class="content">People should be suspicious of statements regardless of tone. Conmen, hackers, cult members,  job applicants, and AIs are all trying to trick people who only listen to tone.</div><br/><div id="40614408" class="c"><input type="checkbox" id="c-40614408" checked=""/><div class="controls bullet"><span class="by">caseyy</span><span>|</span><a href="#40614240">root</a><span>|</span><a href="#40614388">parent</a><span>|</span><a href="#40616119">next</a><span>|</span><label class="collapse" for="c-40614408">[-]</label><label class="expand" for="c-40614408">[3 more]</label></div><br/><div class="children"><div class="content">It takes a lot of cognitive work to doubt and analyze everything. It&#x27;s not really feasible, is it?</div><br/><div id="40615895" class="c"><input type="checkbox" id="c-40615895" checked=""/><div class="controls bullet"><span class="by">autoexec</span><span>|</span><a href="#40614240">root</a><span>|</span><a href="#40614408">parent</a><span>|</span><a href="#40614636">next</a><span>|</span><label class="collapse" for="c-40615895">[-]</label><label class="expand" for="c-40615895">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also not really necessary a lot of the time. If some random person online confidently says that the newest tesla uses an engine which contains ball bearings made in Indonesia by child slaves, I don&#x27;t have to spend the time to doubt and analyze that because it doesn&#x27;t impact me personally. I&#x27;d only ever need to take the time to double check that if I were going to buy a tesla or before I went and spread that information around as if it were fact. How true or false it is doesn&#x27;t affect my life in any way. It can just be something a random person said online and I can treat it as such.<p>Whenever you see information that sounds like it could be extremely important to you and your situation (and when being wrong could really hurt you) then no matter how authoritatively the information was delivered that&#x27;s really when you should invest the time to verify it. Much of the time that investment is just a quick internet search anyway.</div><br/></div></div><div id="40614636" class="c"><input type="checkbox" id="c-40614636" checked=""/><div class="controls bullet"><span class="by">ilc</span><span>|</span><a href="#40614240">root</a><span>|</span><a href="#40614408">parent</a><span>|</span><a href="#40615895">prev</a><span>|</span><a href="#40616119">next</a><span>|</span><label class="collapse" for="c-40614636">[-]</label><label class="expand" for="c-40614636">[1 more]</label></div><br/><div class="children"><div class="content">Review enough code, and even 2 + 2 can look sus.<p>Where&#x27;s the operator overload? ;)</div><br/></div></div></div></div></div></div></div></div><div id="40615216" class="c"><input type="checkbox" id="c-40615216" checked=""/><div class="controls bullet"><span class="by">blueflow</span><span>|</span><a href="#40614240">prev</a><span>|</span><a href="#40614323">next</a><span>|</span><label class="collapse" for="c-40615216">[-]</label><label class="expand" for="c-40615216">[1 more]</label></div><br/><div class="children"><div class="content">Hah. Another topic where the &quot;common knowledge&quot; is just utter garbage and actual research yields a different picture. That doesn&#x27;t stop people from being convinced of it.<p>The author of this post did the only correct thing and checked the kernel&#x27;s source code, with is the authoritative source for this information.<p>The conclusions at the end are a bit whacky.</div><br/></div></div><div id="40614323" class="c"><input type="checkbox" id="c-40614323" checked=""/><div class="controls bullet"><span class="by">bhasi</span><span>|</span><a href="#40615216">prev</a><span>|</span><a href="#40615123">next</a><span>|</span><label class="collapse" for="c-40614323">[-]</label><label class="expand" for="c-40614323">[1 more]</label></div><br/><div class="children"><div class="content">This is very interesting. For those interested in following all the parts of early kernel booting that were out of scope for this article, please read this fantastic resource: <a href="https:&#x2F;&#x2F;0xax.gitbooks.io&#x2F;linux-insides&#x2F;content&#x2F;" rel="nofollow">https:&#x2F;&#x2F;0xax.gitbooks.io&#x2F;linux-insides&#x2F;content&#x2F;</a></div><br/></div></div><div id="40615123" class="c"><input type="checkbox" id="c-40615123" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#40614323">prev</a><span>|</span><a href="#40615728">next</a><span>|</span><label class="collapse" for="c-40615123">[-]</label><label class="expand" for="c-40615123">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a third use of PID 0, besides the already-mentioned &quot;idle&quot; and &quot;self&quot;.<p>On Linux, `getppid` returns 0 if the parent is a process in another PID namespace.</div><br/></div></div><div id="40615728" class="c"><input type="checkbox" id="c-40615728" checked=""/><div class="controls bullet"><span class="by">ykonstant</span><span>|</span><a href="#40615123">prev</a><span>|</span><a href="#40615187">next</a><span>|</span><label class="collapse" for="c-40615728">[-]</label><label class="expand" for="c-40615728">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t help sharing one of the loveliest uses of `kill 0` I know:<p><pre><code>    #!&#x2F;bin&#x2F;sh
    #
    #    Usage: upto LIMIT COMMAND
    #        Run COMMAND until LIMIT seconds have passed, then exit.
    #
    test &quot;$1&quot; -gt 0 || {
     printf &#x27;%s\n&#x27; &quot; Error: first argument must be a positive integer.&quot;
     exit 1
    }
    
    sh -ic &#x27;
     sleeptime=$1
     shift
     exec 3&gt;&amp;1 2&gt;&amp;3
     { 
      &quot;$@&quot; &gt;&amp;3
      kill 0
     } |
     {
      sleep &quot;${sleeptime}&quot;
      kill 0
     }
    &#x27; sh &quot;$@&quot;</code></pre></div><br/></div></div><div id="40615187" class="c"><input type="checkbox" id="c-40615187" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#40615728">prev</a><span>|</span><a href="#40614415">next</a><span>|</span><label class="collapse" for="c-40615187">[-]</label><label class="expand" for="c-40615187">[2 more]</label></div><br/><div class="children"><div class="content">It seems like TID would be a better term for the in-kernal concept of a &quot;pid&quot;, which could stand for &quot;task id&quot; or &quot;thread id&quot;, whichever you prefer. And wouldn&#x27;t be as confusing.</div><br/><div id="40615712" class="c"><input type="checkbox" id="c-40615712" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#40615187">parent</a><span>|</span><a href="#40614415">next</a><span>|</span><label class="collapse" for="c-40615712">[-]</label><label class="expand" for="c-40615712">[1 more]</label></div><br/><div class="children"><div class="content">And afaik that is sometimes a thing via gettid()</div><br/></div></div></div></div><div id="40614415" class="c"><input type="checkbox" id="c-40614415" checked=""/><div class="controls bullet"><span class="by">Ferret7446</span><span>|</span><a href="#40615187">prev</a><span>|</span><a href="#40615316">next</a><span>|</span><label class="collapse" for="c-40614415">[-]</label><label class="expand" for="c-40614415">[3 more]</label></div><br/><div class="children"><div class="content">Kind of clickbait&#x2F;misleading title?  The article even states that PID is a userspace concept.  There is no PID 0.  PIDs is how userspace refers to processes in syscalls.  You can&#x27;t refer to a PID 0 because `kill(0)` has a special meaning.<p>But &quot;What is TGID 0?&quot; is much less catchy of a title.  Hence, clickbait.</div><br/><div id="40614997" class="c"><input type="checkbox" id="c-40614997" checked=""/><div class="controls bullet"><span class="by">singron</span><span>|</span><a href="#40614415">parent</a><span>|</span><a href="#40614666">next</a><span>|</span><label class="collapse" for="c-40614997">[-]</label><label class="expand" for="c-40614997">[1 more]</label></div><br/><div class="children"><div class="content">Specifically, kill()ing pid 0 kills every process in the process group of the calling process. Pid 0 is more like a NULL pointer. You can put something in memory there, but a lot of systems will treat it as an invalid identifier for their own purposes.<p>I had some ruby code that called kill(str.to_i) and killed every process when the string wasn&#x27;t an integer, which is when I painfully found out that to_i returns 0 on invalid strings and kill(0) kills (potentially) a lot of processes.</div><br/></div></div></div></div><div id="40615316" class="c"><input type="checkbox" id="c-40615316" checked=""/><div class="controls bullet"><span class="by">EatFlamingDeath</span><span>|</span><a href="#40614415">prev</a><span>|</span><label class="collapse" for="c-40615316">[-]</label><label class="expand" for="c-40615316">[10 more]</label></div><br/><div class="children"><div class="content">Nice post but WHY THE FSCKING WHITE BACKGROUND</div><br/><div id="40615715" class="c"><input type="checkbox" id="c-40615715" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#40615316">parent</a><span>|</span><a href="#40615542">next</a><span>|</span><label class="collapse" for="c-40615715">[-]</label><label class="expand" for="c-40615715">[2 more]</label></div><br/><div class="children"><div class="content">install DarkReader and never be mad about this again</div><br/><div id="40615832" class="c"><input type="checkbox" id="c-40615832" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#40615316">root</a><span>|</span><a href="#40615715">parent</a><span>|</span><a href="#40615542">next</a><span>|</span><label class="collapse" for="c-40615832">[-]</label><label class="expand" for="c-40615832">[1 more]</label></div><br/><div class="children"><div class="content">And instead be mad at the extension&#x27;s flakiness and random style changes.</div><br/></div></div></div></div><div id="40615542" class="c"><input type="checkbox" id="c-40615542" checked=""/><div class="controls bullet"><span class="by">bowsamic</span><span>|</span><a href="#40615316">parent</a><span>|</span><a href="#40615715">prev</a><span>|</span><a href="#40615749">next</a><span>|</span><label class="collapse" for="c-40615542">[-]</label><label class="expand" for="c-40615542">[6 more]</label></div><br/><div class="children"><div class="content">What? Why not? Many many websites have white backgrounds</div><br/><div id="40615673" class="c"><input type="checkbox" id="c-40615673" checked=""/><div class="controls bullet"><span class="by">h4ch1</span><span>|</span><a href="#40615316">root</a><span>|</span><a href="#40615542">parent</a><span>|</span><a href="#40615749">next</a><span>|</span><label class="collapse" for="c-40615673">[-]</label><label class="expand" for="c-40615673">[5 more]</label></div><br/><div class="children"><div class="content">dark mode cultists are truly a strange breed. personally i like neither dark nor light mode, but more of a sepia tone at a lower brightness that I feel is much more soft on my eyes.<p>both dark and light mode feel way too harsh, both in terms of contrast and the usual color pallettes people often choose (bright whites [ #eee and above] and dark blacks [ #111 and below] )</div><br/><div id="40616223" class="c"><input type="checkbox" id="c-40616223" checked=""/><div class="controls bullet"><span class="by">wszrfcbhujnikm</span><span>|</span><a href="#40615316">root</a><span>|</span><a href="#40615673">parent</a><span>|</span><a href="#40615702">next</a><span>|</span><label class="collapse" for="c-40616223">[-]</label><label class="expand" for="c-40616223">[1 more]</label></div><br/><div class="children"><div class="content">We need to put the UA back into UA and let people decide how they want sites to look.</div><br/></div></div><div id="40615702" class="c"><input type="checkbox" id="c-40615702" checked=""/><div class="controls bullet"><span class="by">kennu</span><span>|</span><a href="#40615316">root</a><span>|</span><a href="#40615673">parent</a><span>|</span><a href="#40616223">prev</a><span>|</span><a href="#40615749">next</a><span>|</span><label class="collapse" for="c-40615702">[-]</label><label class="expand" for="c-40615702">[3 more]</label></div><br/><div class="children"><div class="content">Lack of automatic dark mode support on websites is very annoying at night, when you&#x27;ve turned dark mode on and everything else is dark, except that one website you just opened, and it now hurts your eyes or bothers other people in the bedroom.</div><br/><div id="40615866" class="c"><input type="checkbox" id="c-40615866" checked=""/><div class="controls bullet"><span class="by">ptspts</span><span>|</span><a href="#40615316">root</a><span>|</span><a href="#40615702">parent</a><span>|</span><a href="#40615749">next</a><span>|</span><label class="collapse" for="c-40615866">[-]</label><label class="expand" for="c-40615866">[2 more]</label></div><br/><div class="children"><div class="content">I never use dark mode on a laptop (because I hate it, it&#x27;s a personal preference), not even at night. I don&#x27;t bring a laptop to the bedroom if anyone else is there.</div><br/><div id="40616011" class="c"><input type="checkbox" id="c-40616011" checked=""/><div class="controls bullet"><span class="by">kennu</span><span>|</span><a href="#40615316">root</a><span>|</span><a href="#40615866">parent</a><span>|</span><a href="#40615749">next</a><span>|</span><label class="collapse" for="c-40616011">[-]</label><label class="expand" for="c-40616011">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s why automatic dark mode on websites doesn&#x27;t have any effect unless you turn on dark mode. It lets you choose.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40615749" class="c"><input type="checkbox" id="c-40615749" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#40615316">parent</a><span>|</span><a href="#40615542">prev</a><span>|</span><label class="collapse" for="c-40615749">[-]</label><label class="expand" for="c-40615749">[1 more]</label></div><br/><div class="children"><div class="content">White background is fine.<p>What is <i>not</i> fine is <i>gray text on white background.</i><p>Sincerely, anyone who utilizes low contrast between text and background has utterly no respect for peoples&#x27; eyes. Yes, that includes Hacker News with downvoted comments.</div><br/></div></div></div></div></div></div></div></div></div></body></html>