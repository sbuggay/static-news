<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1720602064561" as="style"/><link rel="stylesheet" href="styles.css?v=1720602064561"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.awsviz.dev/">Awsviz.dev simplifying AWS IAM policies</a> <span class="domain">(<a href="https://www.awsviz.dev">www.awsviz.dev</a>)</span></div><div class="subtext"><span>bscript</span> | <span>27 comments</span></div><br/><div><div id="40924920" class="c"><input type="checkbox" id="c-40924920" checked=""/><div class="controls bullet"><span class="by">timendum</span><span>|</span><a href="#40922741">next</a><span>|</span><label class="collapse" for="c-40924920">[-]</label><label class="expand" for="c-40924920">[2 more]</label></div><br/><div class="children"><div class="content">I think Policy Details card should have a scrollbar, but it is set to  &quot;overflow: hidden&quot;.</div><br/><div id="40925018" class="c"><input type="checkbox" id="c-40925018" checked=""/><div class="controls bullet"><span class="by">bscript</span><span>|</span><a href="#40924920">parent</a><span>|</span><a href="#40922741">next</a><span>|</span><label class="collapse" for="c-40925018">[-]</label><label class="expand" for="c-40925018">[1 more]</label></div><br/><div class="children"><div class="content">Good point. Thanks</div><br/></div></div></div></div><div id="40922741" class="c"><input type="checkbox" id="c-40922741" checked=""/><div class="controls bullet"><span class="by">bscript</span><span>|</span><a href="#40924920">prev</a><span>|</span><a href="#40923634">next</a><span>|</span><label class="collapse" for="c-40922741">[-]</label><label class="expand" for="c-40922741">[4 more]</label></div><br/><div class="children"><div class="content">Sometimes, reading AWS IAM policies can be tough for me. I prefer visuals, so I often use the IAM Policy Simulator. To make things even easier, I built a small tool that turns IAM policies into simple graphs. awsviz.dev is a good tool designed to help users visualize, analyze, and improve their AWS IAM policies.<p>More details: <a href="https:&#x2F;&#x2F;medium.com&#x2F;@Bohr&#x2F;introducing-awsviz-dev-simplifying-aws-iam-policies-2359d69f3e20" rel="nofollow">https:&#x2F;&#x2F;medium.com&#x2F;@Bohr&#x2F;introducing-awsviz-dev-simplifying-...</a></div><br/><div id="40923645" class="c"><input type="checkbox" id="c-40923645" checked=""/><div class="controls bullet"><span class="by">lhousa</span><span>|</span><a href="#40922741">parent</a><span>|</span><a href="#40923578">next</a><span>|</span><label class="collapse" for="c-40923645">[-]</label><label class="expand" for="c-40923645">[1 more]</label></div><br/><div class="children"><div class="content">Just skimmed through the post but how is it different from a plain json visualiser like <a href="https:&#x2F;&#x2F;jsoncrack.com" rel="nofollow">https:&#x2F;&#x2F;jsoncrack.com</a>?</div><br/></div></div><div id="40923578" class="c"><input type="checkbox" id="c-40923578" checked=""/><div class="controls bullet"><span class="by">kaladin-jasnah</span><span>|</span><a href="#40922741">parent</a><span>|</span><a href="#40923645">prev</a><span>|</span><a href="#40923634">next</a><span>|</span><label class="collapse" for="c-40923578">[-]</label><label class="expand" for="c-40923578">[2 more]</label></div><br/><div class="children"><div class="content">Should this be a &quot;Show HN&quot; post?</div><br/><div id="40924328" class="c"><input type="checkbox" id="c-40924328" checked=""/><div class="controls bullet"><span class="by">bscript</span><span>|</span><a href="#40922741">root</a><span>|</span><a href="#40923578">parent</a><span>|</span><a href="#40923634">next</a><span>|</span><label class="collapse" for="c-40924328">[-]</label><label class="expand" for="c-40924328">[1 more]</label></div><br/><div class="children"><div class="content">First time here, did not know about Show NH</div><br/></div></div></div></div></div></div><div id="40923634" class="c"><input type="checkbox" id="c-40923634" checked=""/><div class="controls bullet"><span class="by">bdcravens</span><span>|</span><a href="#40922741">prev</a><span>|</span><a href="#40924039">next</a><span>|</span><label class="collapse" for="c-40923634">[-]</label><label class="expand" for="c-40923634">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps it would make sense to link to the repo on the page? As best I can tell, you can easily self-host your tool (would need to update the redirects in the index.html).<p><a href="https:&#x2F;&#x2F;github.com&#x2F;BourAbdelhadi&#x2F;awsviz">https:&#x2F;&#x2F;github.com&#x2F;BourAbdelhadi&#x2F;awsviz</a></div><br/></div></div><div id="40924039" class="c"><input type="checkbox" id="c-40924039" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#40923634">prev</a><span>|</span><a href="#40924005">next</a><span>|</span><label class="collapse" for="c-40924039">[-]</label><label class="expand" for="c-40924039">[11 more]</label></div><br/><div class="children"><div class="content">IAM policies can be so complex, that become close to unusable.<p>Use multiple AWS accounts, and keep your policies simple. One account for DB, one for the backend servers, etc. Each environment (prod, staging, dev) also gets its own set of accounts.<p>This way, a misconfigured policy won&#x27;t give admin access to everything.</div><br/><div id="40924088" class="c"><input type="checkbox" id="c-40924088" checked=""/><div class="controls bullet"><span class="by">potamic</span><span>|</span><a href="#40924039">parent</a><span>|</span><a href="#40924442">next</a><span>|</span><label class="collapse" for="c-40924088">[-]</label><label class="expand" for="c-40924088">[1 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t that lead to cross account policies, which appear to be even more quirky?</div><br/></div></div><div id="40924442" class="c"><input type="checkbox" id="c-40924442" checked=""/><div class="controls bullet"><span class="by">shakiXBT</span><span>|</span><a href="#40924039">parent</a><span>|</span><a href="#40924088">prev</a><span>|</span><a href="#40924410">next</a><span>|</span><label class="collapse" for="c-40924442">[-]</label><label class="expand" for="c-40924442">[7 more]</label></div><br/><div class="children"><div class="content">Having one account per database&#x2F;backend&#x2F;frontend is not only overkill, but actually a bad practice. You&#x27;re going to have to expose your DB to the internet instead of having everything inside a single VPC.<p>What you should do instead is have one account per environment (as you said).</div><br/><div id="40924606" class="c"><input type="checkbox" id="c-40924606" checked=""/><div class="controls bullet"><span class="by">tenplusfive</span><span>|</span><a href="#40924039">root</a><span>|</span><a href="#40924442">parent</a><span>|</span><a href="#40924654">next</a><span>|</span><label class="collapse" for="c-40924606">[-]</label><label class="expand" for="c-40924606">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve recently stumbled upon the possibility to share a VPC and use one VPC with multiple accounts: <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;whitepapers&#x2F;latest&#x2F;building-scalable-secure-multi-vpc-network-infrastructure&#x2F;amazon-vpc-sharing.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;whitepapers&#x2F;latest&#x2F;building-scal...</a><p>I&#x27;m honestly not sure if thats a great idea, but this might be a possible way to do one account per DB&#x2F;backend&#x2F;frontend in a somewhat sane way.</div><br/><div id="40924894" class="c"><input type="checkbox" id="c-40924894" checked=""/><div class="controls bullet"><span class="by">LilBytes</span><span>|</span><a href="#40924039">root</a><span>|</span><a href="#40924606">parent</a><span>|</span><a href="#40924654">next</a><span>|</span><label class="collapse" for="c-40924894">[-]</label><label class="expand" for="c-40924894">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s fine, but you&#x27;re going to attract a lot of network costs bridging data between AWS accounts.<p>Generally I&#x27;d stick to accounts per environment, you&#x27;ll be worrying about a lot more when you get to FAANG scale.</div><br/></div></div></div></div><div id="40924654" class="c"><input type="checkbox" id="c-40924654" checked=""/><div class="controls bullet"><span class="by">Hikikomori</span><span>|</span><a href="#40924039">root</a><span>|</span><a href="#40924442">parent</a><span>|</span><a href="#40924606">prev</a><span>|</span><a href="#40924460">next</a><span>|</span><label class="collapse" for="c-40924654">[-]</label><label class="expand" for="c-40924654">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;ll find that a plan like this is not overkill once you outgrow single accounts. Though I would do one account per system with Shared VPCs instead.</div><br/></div></div><div id="40924460" class="c"><input type="checkbox" id="c-40924460" checked=""/><div class="controls bullet"><span class="by">kroolik</span><span>|</span><a href="#40924039">root</a><span>|</span><a href="#40924442">parent</a><span>|</span><a href="#40924654">prev</a><span>|</span><a href="#40924410">next</a><span>|</span><label class="collapse" for="c-40924460">[-]</label><label class="expand" for="c-40924460">[3 more]</label></div><br/><div class="children"><div class="content">You can peer-connect vpcs cross-account</div><br/><div id="40924490" class="c"><input type="checkbox" id="c-40924490" checked=""/><div class="controls bullet"><span class="by">dilyevsky</span><span>|</span><a href="#40924039">root</a><span>|</span><a href="#40924460">parent</a><span>|</span><a href="#40924410">next</a><span>|</span><label class="collapse" for="c-40924490">[-]</label><label class="expand" for="c-40924490">[2 more]</label></div><br/><div class="children"><div class="content">Up to 125 peers before you have to setup a transit vpc which is a lot more complex</div><br/><div id="40924559" class="c"><input type="checkbox" id="c-40924559" checked=""/><div class="controls bullet"><span class="by">Hikikomori</span><span>|</span><a href="#40924039">root</a><span>|</span><a href="#40924490">parent</a><span>|</span><a href="#40924410">next</a><span>|</span><label class="collapse" for="c-40924559">[-]</label><label class="expand" for="c-40924559">[1 more]</label></div><br/><div class="children"><div class="content">Transit gateway can have 5000 VPCs connected in a region, and you have multiple TGWs. And rather than have a VPC per account you can use Shared VPCs instead.</div><br/></div></div></div></div></div></div></div></div><div id="40924410" class="c"><input type="checkbox" id="c-40924410" checked=""/><div class="controls bullet"><span class="by">Hikikomori</span><span>|</span><a href="#40924039">parent</a><span>|</span><a href="#40924442">prev</a><span>|</span><a href="#40924403">next</a><span>|</span><label class="collapse" for="c-40924410">[-]</label><label class="expand" for="c-40924410">[1 more]</label></div><br/><div class="children"><div class="content">One account per system and environment with shared vpcs is great.</div><br/></div></div><div id="40924403" class="c"><input type="checkbox" id="c-40924403" checked=""/><div class="controls bullet"><span class="by">laurent_du</span><span>|</span><a href="#40924039">parent</a><span>|</span><a href="#40924410">prev</a><span>|</span><a href="#40924005">next</a><span>|</span><label class="collapse" for="c-40924403">[-]</label><label class="expand" for="c-40924403">[1 more]</label></div><br/><div class="children"><div class="content">I honestly can&#x27;t imagine a situation where this would be a good advice. Can you give an example of such an IAM policy?</div><br/></div></div></div></div><div id="40924005" class="c"><input type="checkbox" id="c-40924005" checked=""/><div class="controls bullet"><span class="by">zarzavat</span><span>|</span><a href="#40924039">prev</a><span>|</span><a href="#40923522">next</a><span>|</span><label class="collapse" for="c-40924005">[-]</label><label class="expand" for="c-40924005">[6 more]</label></div><br/><div class="children"><div class="content">This is a very bad name for a product.</div><br/><div id="40924336" class="c"><input type="checkbox" id="c-40924336" checked=""/><div class="controls bullet"><span class="by">bscript</span><span>|</span><a href="#40924005">parent</a><span>|</span><a href="#40924391">next</a><span>|</span><label class="collapse" for="c-40924336">[-]</label><label class="expand" for="c-40924336">[4 more]</label></div><br/><div class="children"><div class="content">You might be right. My focus wasn&#x27;t on the name; I just wanted to create something useful for my day-to-day job and share it with others. The goal was never to commercialize the product … so maybe that’s why the name was bad!</div><br/><div id="40924420" class="c"><input type="checkbox" id="c-40924420" checked=""/><div class="controls bullet"><span class="by">sclangdon</span><span>|</span><a href="#40924005">root</a><span>|</span><a href="#40924336">parent</a><span>|</span><a href="#40924391">next</a><span>|</span><label class="collapse" for="c-40924420">[-]</label><label class="expand" for="c-40924420">[3 more]</label></div><br/><div class="children"><div class="content">He may be referring to the fact that it could be pronounced Auschwitz. I must admit, my immediate thought on reading the name was &quot;why would someone name their app after a concentration camp?&quot;</div><br/><div id="40924439" class="c"><input type="checkbox" id="c-40924439" checked=""/><div class="controls bullet"><span class="by">bscript</span><span>|</span><a href="#40924005">root</a><span>|</span><a href="#40924420">parent</a><span>|</span><a href="#40924391">next</a><span>|</span><label class="collapse" for="c-40924439">[-]</label><label class="expand" for="c-40924439">[2 more]</label></div><br/><div class="children"><div class="content">wow, I learned something new today</div><br/><div id="40924812" class="c"><input type="checkbox" id="c-40924812" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#40924005">root</a><span>|</span><a href="#40924439">parent</a><span>|</span><a href="#40924391">next</a><span>|</span><label class="collapse" for="c-40924812">[-]</label><label class="expand" for="c-40924812">[1 more]</label></div><br/><div class="children"><div class="content">I had the same reaction. Even just a hyphen between like aws-viz would probably do wonders.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>