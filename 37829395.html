<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1696928467233" as="style"/><link rel="stylesheet" href="styles.css?v=1696928467233"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.infoq.com/news/2023/10/java-at-netflix-bakker/">How Netflix Really Uses Java</a>Â <span class="domain">(<a href="https://www.infoq.com">www.infoq.com</a>)</span></div><div class="subtext"><span>ivanche</span> | <span>13 comments</span></div><br/><div><div id="37829732" class="c"><input type="checkbox" id="c-37829732" checked=""/><div class="controls bullet"><span class="by">ValtteriL</span><span>|</span><a href="#37829633">next</a><span>|</span><label class="collapse" for="c-37829732">[-]</label><label class="expand" for="c-37829732">[9 more]</label></div><br/><div class="children"><div class="content">&gt;Netflix observed a 20% increase of CPU usage on JDK 17 compared to JDK 8. This was mostly due to the improvements in the G1 garbage collector.<p>Help me here, why do GC improvements cause CPU increase?</div><br/><div id="37829851" class="c"><input type="checkbox" id="c-37829851" checked=""/><div class="controls bullet"><span class="by">blackoil</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829861">next</a><span>|</span><label class="collapse" for="c-37829851">[-]</label><label class="expand" for="c-37829851">[1 more]</label></div><br/><div class="children"><div class="content">I think this is a 20% improved utilization of CPU, earlier app was memory-bound or&#x2F;and GC was consuming CPU. Now app has 20% more CPU available. It should be doing correspondingly more work. This could definitely be written clearly.</div><br/></div></div><div id="37829861" class="c"><input type="checkbox" id="c-37829861" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829851">prev</a><span>|</span><a href="#37829852">next</a><span>|</span><label class="collapse" for="c-37829861">[-]</label><label class="expand" for="c-37829861">[1 more]</label></div><br/><div class="children"><div class="content">A somewhat common problem is to be limited by the throughput of CPU heavy tasks while the OS reports lower than expected CPU usage. A lot of companies&#x2F;teams just kind of handwave it away as &quot;hyperthreading is weird&quot;, and allocate more machines. Actual causes might be poor cache usage causing programs to wait on data to be loaded from memory, which depending on the CPU metrics you use, may not show as CPU busy time.<p>For companies at much smaller scale than netflix where employee time is relatively more costly than computer time, this might even be the right decision. So you might end up with 20 servers at 50% usage, but using 10 servers will take twice as long but still appear to be at 50% usage.<p>If the bottlenecks and overhead are reduced such that it&#x27;s able to make more full use of the CPU, you might be able to reduce to e.g. 15 machines at 75% CPU usage. Consequently the increased CPU usage represents more efficient use of resources.</div><br/></div></div><div id="37829852" class="c"><input type="checkbox" id="c-37829852" checked=""/><div class="controls bullet"><span class="by">matsemann</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829861">prev</a><span>|</span><a href="#37829853">next</a><span>|</span><label class="collapse" for="c-37829852">[-]</label><label class="expand" for="c-37829852">[1 more]</label></div><br/><div class="children"><div class="content">The CPU can do more tasks without being limited by memory pressure, perhaps?<p>I guess it depends on if they mean &quot;we used 20% more CPU for the same output&quot;, or &quot;we could utilize the CPUs 20% more&quot;.</div><br/></div></div><div id="37829853" class="c"><input type="checkbox" id="c-37829853" checked=""/><div class="controls bullet"><span class="by">groestl</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829852">prev</a><span>|</span><a href="#37829779">next</a><span>|</span><label class="collapse" for="c-37829853">[-]</label><label class="expand" for="c-37829853">[1 more]</label></div><br/><div class="children"><div class="content">Because the memory &#x2F; I&#x2F;O is not the bottleneck anymore, and the CPU can now run optimally.</div><br/></div></div><div id="37829779" class="c"><input type="checkbox" id="c-37829779" checked=""/><div class="controls bullet"><span class="by">pyeri</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829853">prev</a><span>|</span><a href="#37829749">next</a><span>|</span><label class="collapse" for="c-37829779">[-]</label><label class="expand" for="c-37829779">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s like hiring more workers to accomplish the exact same output as before. &quot;See, I achieved 20% growth in my targets!&quot;, some recruiter will say!</div><br/><div id="37829866" class="c"><input type="checkbox" id="c-37829866" checked=""/><div class="controls bullet"><span class="by">groestl</span><span>|</span><a href="#37829732">root</a><span>|</span><a href="#37829779">parent</a><span>|</span><a href="#37829749">next</a><span>|</span><label class="collapse" for="c-37829866">[-]</label><label class="expand" for="c-37829866">[1 more]</label></div><br/><div class="children"><div class="content">No, it&#x27;s like improving a form to  minimize the need for follow-up questions to the customer, and now seeing your workers (the same you had before) processing 20% more forms instead of waiting for responses.</div><br/></div></div></div></div><div id="37829749" class="c"><input type="checkbox" id="c-37829749" checked=""/><div class="controls bullet"><span class="by">radomir_cernoch</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829779">prev</a><span>|</span><a href="#37829769">next</a><span>|</span><label class="collapse" for="c-37829749">[-]</label><label class="expand" for="c-37829749">[1 more]</label></div><br/><div class="children"><div class="content">Also interested! We saw basically the exact opposite. :-)</div><br/></div></div><div id="37829769" class="c"><input type="checkbox" id="c-37829769" checked=""/><div class="controls bullet"><span class="by">tpm</span><span>|</span><a href="#37829732">parent</a><span>|</span><a href="#37829749">prev</a><span>|</span><a href="#37829633">next</a><span>|</span><label class="collapse" for="c-37829769">[-]</label><label class="expand" for="c-37829769">[1 more]</label></div><br/><div class="children"><div class="content">I read it as a good thing: GC improvements -&gt; more available memory -&gt; more work done by the CPU. But still would be interested in more detail.</div><br/></div></div></div></div><div id="37829633" class="c"><input type="checkbox" id="c-37829633" checked=""/><div class="controls bullet"><span class="by">jarym</span><span>|</span><a href="#37829732">prev</a><span>|</span><a href="#37829846">next</a><span>|</span><label class="collapse" for="c-37829633">[-]</label><label class="expand" for="c-37829633">[1 more]</label></div><br/><div class="children"><div class="content">Interesting the article jumps straight from REST to GraphQL and forgets Falcor[0] - Netflix&#x27;s alternative vision for federated services. For a while it looked like it might be a contender to GraphQL but it never really seemed to take off despite being simpler to adopt.<p>[0] <a href="https:&#x2F;&#x2F;netflix.github.io&#x2F;falcor&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;netflix.github.io&#x2F;falcor&#x2F;</a></div><br/></div></div><div id="37829846" class="c"><input type="checkbox" id="c-37829846" checked=""/><div class="controls bullet"><span class="by">dewey</span><span>|</span><a href="#37829633">prev</a><span>|</span><a href="#37829601">next</a><span>|</span><label class="collapse" for="c-37829846">[-]</label><label class="expand" for="c-37829846">[1 more]</label></div><br/><div class="children"><div class="content">In case you are wondering what LOLOMO stands for, it&#x27;s &quot;List of List of Movies&quot;.</div><br/></div></div><div id="37829601" class="c"><input type="checkbox" id="c-37829601" checked=""/><div class="controls bullet"><span class="by">madaxe_again</span><span>|</span><a href="#37829846">prev</a><span>|</span><label class="collapse" for="c-37829601">[-]</label><label class="expand" for="c-37829601">[1 more]</label></div><br/><div class="children"><div class="content">Ah, the way they break out artwork calls explains the weird behaviour I see with my U.K. Netflix account in Portugal - English titles, Portuguese posters, regardless of language preferences.</div><br/></div></div></div></div></div></div></div></body></html>