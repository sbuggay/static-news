<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724490066257" as="style"/><link rel="stylesheet" href="styles.css?v=1724490066257"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://clojure.github.io/clojure-contrib/doc/datalog.html">An Overview of Datalog (2010)</a> <span class="domain">(<a href="https://clojure.github.io">clojure.github.io</a>)</span></div><div class="subtext"><span>teleforce</span> | <span>18 comments</span></div><br/><div><div id="41335244" class="c"><input type="checkbox" id="c-41335244" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41336087">next</a><span>|</span><label class="collapse" for="c-41335244">[-]</label><label class="expand" for="c-41335244">[4 more]</label></div><br/><div class="children"><div class="content">One very fun and practical application for Datalog is Biscuits, which are a type of arbitrarily scoped authorization token: <a href="https:&#x2F;&#x2F;biscuitsec.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;biscuitsec.org&#x2F;</a>.<p>I tried them out for a pet project over here: <a href="https:&#x2F;&#x2F;er4hn.info&#x2F;blog&#x2F;2024.05.08-biscuits&#x2F;" rel="nofollow">https:&#x2F;&#x2F;er4hn.info&#x2F;blog&#x2F;2024.05.08-biscuits&#x2F;</a> and was pretty impressed with what I found. It&#x27;s not a perfect solution, but I liked it a lot more than OAuth.</div><br/><div id="41335668" class="c"><input type="checkbox" id="c-41335668" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#41335244">parent</a><span>|</span><a href="#41335978">next</a><span>|</span><label class="collapse" for="c-41335668">[-]</label><label class="expand" for="c-41335668">[2 more]</label></div><br/><div class="children"><div class="content">Speaking of which, there&#x27;s a great write-to about a related kind auth token, macaroons: <a href="https:&#x2F;&#x2F;fly.io&#x2F;blog&#x2F;macaroons-escalated-quickly&#x2F;">https:&#x2F;&#x2F;fly.io&#x2F;blog&#x2F;macaroons-escalated-quickly&#x2F;</a></div><br/><div id="41335766" class="c"><input type="checkbox" id="c-41335766" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41335244">root</a><span>|</span><a href="#41335668">parent</a><span>|</span><a href="#41335978">next</a><span>|</span><label class="collapse" for="c-41335766">[-]</label><label class="expand" for="c-41335766">[1 more]</label></div><br/><div class="children"><div class="content">Which funny enough, I learned about biscuits from a prior article Thomas wrote: <a href="https:&#x2F;&#x2F;fly.io&#x2F;blog&#x2F;api-tokens-a-tedious-survey&#x2F;">https:&#x2F;&#x2F;fly.io&#x2F;blog&#x2F;api-tokens-a-tedious-survey&#x2F;</a></div><br/></div></div></div></div><div id="41335978" class="c"><input type="checkbox" id="c-41335978" checked=""/><div class="controls bullet"><span class="by">bmacho</span><span>|</span><a href="#41335244">parent</a><span>|</span><a href="#41335668">prev</a><span>|</span><a href="#41336087">next</a><span>|</span><label class="collapse" for="c-41335978">[-]</label><label class="expand" for="c-41335978">[1 more]</label></div><br/><div class="children"><div class="content">You microservices picture is not readable, since it is dark text over transparent, over dark background.</div><br/></div></div></div></div><div id="41336087" class="c"><input type="checkbox" id="c-41336087" checked=""/><div class="controls bullet"><span class="by">burakemir</span><span>|</span><a href="#41335244">prev</a><span>|</span><a href="#41335523">next</a><span>|</span><label class="collapse" for="c-41336087">[-]</label><label class="expand" for="c-41336087">[2 more]</label></div><br/><div class="children"><div class="content">I am sure Clojure is great but it really shows the need for an &quot;overview of datalog&quot; that is not embedded in the context of a programming language with it&#x27;s own syntactic choices.<p>My own humble attempt is here 
<a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;mangle">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;mangle</a> ... I had come across datalog in Clojure and thought it is a complete nonstarter. Most people (including me) are not in a position to start using Clojure if all they want is a query capability.<p>IMHO what most people would want a datalog implementation that is very easy to integrate into their existing setup, with their existing data. Yet for extensibility it is also important to enable users to write datalog queries in it&#x27;s own special syntax so one can have type checking, modules, declarations in a way that is independent of the host programming language.<p>From a teaching point of view, one does need an example database. Here is &quot;employee department boss&quot;, with a volunteering spin: 
<a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;mangle&#x2F;blob&#x2F;main&#x2F;docs&#x2F;example_volunteer_db.md">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;mangle&#x2F;blob&#x2F;main&#x2F;docs&#x2F;example_volu...</a><p>There is a long history of approaches to integrate querying into programming languages (eg LINQ). Trade off here between making an easy to use yet powerful query language, keeping it simple and integrating it tightly into the host language or using a DSL along clear interface.</div><br/><div id="41336491" class="c"><input type="checkbox" id="c-41336491" checked=""/><div class="controls bullet"><span class="by">truckerbill</span><span>|</span><a href="#41336087">parent</a><span>|</span><a href="#41335523">next</a><span>|</span><label class="collapse" for="c-41336491">[-]</label><label class="expand" for="c-41336491">[1 more]</label></div><br/><div class="children"><div class="content">Check out cozo</div><br/></div></div></div></div><div id="41335523" class="c"><input type="checkbox" id="c-41335523" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#41336087">prev</a><span>|</span><a href="#41335532">next</a><span>|</span><label class="collapse" for="c-41335523">[-]</label><label class="expand" for="c-41335523">[1 more]</label></div><br/><div class="children"><div class="content">Would love to hear the InstantDB folk input on this, as they talk about Datalog and (something else) in their design fro their query language, and stuff about GraphQL...<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41322281">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41322281</a><p>&gt;<i>Under the hood we save data to postgres as triples and wrote a datalog engine for fetching data [3]. We don’t expect you to write datalog queries so we wrote a graphql-like query language that doesn’t require any build step.</i></div><br/></div></div><div id="41335532" class="c"><input type="checkbox" id="c-41335532" checked=""/><div class="controls bullet"><span class="by">cricketlover</span><span>|</span><a href="#41335523">prev</a><span>|</span><a href="#41335134">next</a><span>|</span><label class="collapse" for="c-41335532">[-]</label><label class="expand" for="c-41335532">[5 more]</label></div><br/><div class="children"><div class="content">Do we need another language for querying relqtional data? Why not just use SQL?</div><br/><div id="41335646" class="c"><input type="checkbox" id="c-41335646" checked=""/><div class="controls bullet"><span class="by">koito17</span><span>|</span><a href="#41335532">parent</a><span>|</span><a href="#41335577">next</a><span>|</span><label class="collapse" for="c-41335646">[-]</label><label class="expand" for="c-41335646">[2 more]</label></div><br/><div class="children"><div class="content">Datalog is a subset of Prolog, both of which predate SQL. By your logic, we should be asking what was the point of SQL.</div><br/><div id="41336495" class="c"><input type="checkbox" id="c-41336495" checked=""/><div class="controls bullet"><span class="by">DaiPlusPlus</span><span>|</span><a href="#41335532">root</a><span>|</span><a href="#41335646">parent</a><span>|</span><a href="#41335577">next</a><span>|</span><label class="collapse" for="c-41336495">[-]</label><label class="expand" for="c-41336495">[1 more]</label></div><br/><div class="children"><div class="content">&gt; what was the point of SQL.<p>IBM&#x27;s get-it-out-the-door release of partial (if not broken) implementation of Codd&#x27;s relational-algebra model, which incorporates parts of predicate-logic, set-theory, and more besides. It kicked-off an industrywide multivendor revolution in information storage, processing, and retrieval.<p>...but thesedays I&#x27;m convinced the point of SQL is to have something other programming languages can point-to to deflect any criticisms of being slow or unwilling to adopt new features, being specifically unergonomic, or most of all: being entirely unresponsive to the day-to-day needs of present-day application developers.</div><br/></div></div></div></div><div id="41335577" class="c"><input type="checkbox" id="c-41335577" checked=""/><div class="controls bullet"><span class="by">nucleogenesis</span><span>|</span><a href="#41335532">parent</a><span>|</span><a href="#41335646">prev</a><span>|</span><a href="#41335887">next</a><span>|</span><label class="collapse" for="c-41335577">[-]</label><label class="expand" for="c-41335577">[1 more]</label></div><br/><div class="children"><div class="content">Datalog is rad and has some neat ergonomics. It’s not so much a need as a want kind of thing. It’s definitely worth looking into.<p>I’ve only ever seen it used in Clojure(Script) projects although there’s support in other languages too.</div><br/></div></div><div id="41335887" class="c"><input type="checkbox" id="c-41335887" checked=""/><div class="controls bullet"><span class="by">packetlost</span><span>|</span><a href="#41335532">parent</a><span>|</span><a href="#41335577">prev</a><span>|</span><a href="#41335134">next</a><span>|</span><label class="collapse" for="c-41335887">[-]</label><label class="expand" for="c-41335887">[1 more]</label></div><br/><div class="children"><div class="content">Datalog is strictly more powerful than SQL and way easier to understand recursive, self-referential queries than CTEs.</div><br/></div></div></div></div><div id="41335134" class="c"><input type="checkbox" id="c-41335134" checked=""/><div class="controls bullet"><span class="by">29athrowaway</span><span>|</span><a href="#41335532">prev</a><span>|</span><label class="collapse" for="c-41335134">[-]</label><label class="expand" for="c-41335134">[5 more]</label></div><br/><div class="children"><div class="content">Datalog is tempting but can be slow.<p>For recursion it can be elegant, but a graph query language like Cypher is much easier to work with.<p>Less verbose than SQL but also much less readable.</div><br/><div id="41335495" class="c"><input type="checkbox" id="c-41335495" checked=""/><div class="controls bullet"><span class="by">plaguuuuuu</span><span>|</span><a href="#41335134">parent</a><span>|</span><a href="#41335470">next</a><span>|</span><label class="collapse" for="c-41335495">[-]</label><label class="expand" for="c-41335495">[3 more]</label></div><br/><div class="children"><div class="content">it is totally declarative and almost like an SMT solver so has some properties that can make it more useful in certain situations - I think it might even be fully statically verifiable but not sure. would need to look it up.<p>I think Rust was initially using it for reference counting.</div><br/><div id="41335762" class="c"><input type="checkbox" id="c-41335762" checked=""/><div class="controls bullet"><span class="by">29athrowaway</span><span>|</span><a href="#41335134">root</a><span>|</span><a href="#41335495">parent</a><span>|</span><a href="#41335470">next</a><span>|</span><label class="collapse" for="c-41335762">[-]</label><label class="expand" for="c-41335762">[2 more]</label></div><br/><div class="children"><div class="content">No doubt that it is powerful and useful.<p>But it is no SQL killer or Cypher killer.</div><br/><div id="41336451" class="c"><input type="checkbox" id="c-41336451" checked=""/><div class="controls bullet"><span class="by">nikodotio</span><span>|</span><a href="#41335134">root</a><span>|</span><a href="#41335762">parent</a><span>|</span><a href="#41335470">next</a><span>|</span><label class="collapse" for="c-41336451">[-]</label><label class="expand" for="c-41336451">[1 more]</label></div><br/><div class="children"><div class="content">No, it’s a secret third thing</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>