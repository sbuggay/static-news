<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1730019650594" as="style"/><link rel="stylesheet" href="styles.css?v=1730019650594"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.jonathancreamer.com/how-we-shrunk-our-git-repo-size-by-94-percent/">Shrunked JavaScript monorepo Git size by 94%</a> <span class="domain">(<a href="https://www.jonathancreamer.com">www.jonathancreamer.com</a>)</span></div><div class="subtext"><span>kwantaz</span> | <span>61 comments</span></div><br/><div><div id="41960563" class="c"><input type="checkbox" id="c-41960563" checked=""/><div class="controls bullet"><span class="by">tux3</span><span>|</span><a href="#41960365">next</a><span>|</span><label class="collapse" for="c-41960563">[-]</label><label class="expand" for="c-41960563">[2 more]</label></div><br/><div class="children"><div class="content">For those wondering where this new git-survey command is, it&#x27;s actually not in git.git yet!<p>The author is using microsoft&#x27;s git fork, they&#x27;ve added this new command just this summer: <a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;git&#x2F;pull&#x2F;667">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;git&#x2F;pull&#x2F;667</a></div><br/><div id="41960813" class="c"><input type="checkbox" id="c-41960813" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#41960563">parent</a><span>|</span><a href="#41960365">next</a><span>|</span><label class="collapse" for="c-41960813">[-]</label><label class="expand" for="c-41960813">[1 more]</label></div><br/><div class="children"><div class="content">I assume full-name-hash and path-walk are also only in the fork as well (or in git HEAD)? Can&#x27;t see them in the man pages, or in the 2.47 changelog.</div><br/></div></div></div></div><div id="41960365" class="c"><input type="checkbox" id="c-41960365" checked=""/><div class="controls bullet"><span class="by">bubblesnort</span><span>|</span><a href="#41960563">prev</a><span>|</span><a href="#41960295">next</a><span>|</span><label class="collapse" for="c-41960365">[-]</label><label class="expand" for="c-41960365">[7 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    &gt; We work in a very large Javascript monorepo at Microsoft we colloquially call 1JS.
</code></pre>
I used to call it office.com.. Teams is the worst offender there. Even a website with a cryptominer on it runs faster than that junk.</div><br/><div id="41960856" class="c"><input type="checkbox" id="c-41960856" checked=""/><div class="controls bullet"><span class="by">inglor</span><span>|</span><a href="#41960365">parent</a><span>|</span><a href="#41960474">next</a><span>|</span><label class="collapse" for="c-41960856">[-]</label><label class="expand" for="c-41960856">[1 more]</label></div><br/><div class="children"><div class="content">Hey, I worked with Jonathan on 1JS a while ago (on a team, Excel).<p>Just a note OMR (the office monorepo) is a different (and actually much larger) monorepo than 1JS (which is big on its own)<p>To be fair I suspect a lot of the bloat in both originates from the amount of home grown tooling.</div><br/></div></div><div id="41960474" class="c"><input type="checkbox" id="c-41960474" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#41960365">parent</a><span>|</span><a href="#41960856">prev</a><span>|</span><a href="#41960295">next</a><span>|</span><label class="collapse" for="c-41960474">[-]</label><label class="expand" for="c-41960474">[5 more]</label></div><br/><div class="children"><div class="content">We were all impressed with google docs, but office.com is way more impressive.<p>Collaborative editing between a web app, two mobile anpps and a desktop app with 30 years of backwards compatibility and it pretty much just works. No wonder that took a lot of JavaScript!</div><br/><div id="41960749" class="c"><input type="checkbox" id="c-41960749" checked=""/><div class="controls bullet"><span class="by">esperent</span><span>|</span><a href="#41960365">root</a><span>|</span><a href="#41960474">parent</a><span>|</span><a href="#41960586">next</a><span>|</span><label class="collapse" for="c-41960749">[-]</label><label class="expand" for="c-41960749">[1 more]</label></div><br/><div class="children"><div class="content">We use MS Teams at my company. The Word and Excel in the Windows Teams app are so buggy that I can almost never successfully open a file. It just times out and eventually shows a &quot;please try again later&quot; message nearly every  time. I&#x27;ve uninstalled and reinstalled the Teams app four or five  times trying to fix this.<p>We&#x27;ve totally given up any kind of collaborative document editing because it&#x27;s too frustrating, or we use Notion instead, which for all it&#x27;s fault, at least the basic stuff like loading a bloody file works...</div><br/></div></div><div id="41960586" class="c"><input type="checkbox" id="c-41960586" checked=""/><div class="controls bullet"><span class="by">tinco</span><span>|</span><a href="#41960365">root</a><span>|</span><a href="#41960474">parent</a><span>|</span><a href="#41960749">prev</a><span>|</span><a href="#41960295">next</a><span>|</span><label class="collapse" for="c-41960586">[-]</label><label class="expand" for="c-41960586">[3 more]</label></div><br/><div class="children"><div class="content">To be fair, we were impressed with Google Docs 15 years ago. Not saying office.com isn&#x27;t impressive, but Google Docs certainly isn&#x27;t impressive today. My company still uses GSuite, as I don&#x27;t like being in Microsoft&#x27;s ecosystem and we don&#x27;t need any advanced features of our office suite but Google Docs and the rest of the GSuite seem to be intentionally held back to technology of the early 2010&#x27;s.</div><br/><div id="41960667" class="c"><input type="checkbox" id="c-41960667" checked=""/><div class="controls bullet"><span class="by">alexanderchr</span><span>|</span><a href="#41960365">root</a><span>|</span><a href="#41960586">parent</a><span>|</span><a href="#41960295">next</a><span>|</span><label class="collapse" for="c-41960667">[-]</label><label class="expand" for="c-41960667">[2 more]</label></div><br/><div class="children"><div class="content">Google docs certainly haven&#x27;t changed much the last 5-10 years. I wonder if that&#x27;s an intentional choice, or if it is because those that built it and understand how it works are long gone to work on other things.</div><br/><div id="41960835" class="c"><input type="checkbox" id="c-41960835" checked=""/><div class="controls bullet"><span class="by">jakub_g</span><span>|</span><a href="#41960365">root</a><span>|</span><a href="#41960667">parent</a><span>|</span><a href="#41960295">next</a><span>|</span><label class="collapse" for="c-41960835">[-]</label><label class="expand" for="c-41960835">[1 more]</label></div><br/><div class="children"><div class="content">Actually I did see a few long awaited improvements landing in gdocs lately (e.g. better markdown support, pageless mode).<p>I think they didn&#x27;t deliver much new features in early 2020s because they were busy with a big refactoring from DOM to canvas rendering [0].<p>[0] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27129858">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27129858</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="41960295" class="c"><input type="checkbox" id="c-41960295" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#41960365">prev</a><span>|</span><a href="#41960301">next</a><span>|</span><label class="collapse" for="c-41960295">[-]</label><label class="expand" for="c-41960295">[9 more]</label></div><br/><div class="children"><div class="content">upd: silly mistake - file <i>name</i> does not include its <i>full path</i><p>The explanation probably got lost among all the gifs, but the last 16 chars here are different:<p>&gt; was actually only checking the last 16 characters of a filename
&gt; For example, if you changed repo&#x2F;packages&#x2F;foo&#x2F;CHANGELOG.md, when git was getting ready to do the push, it was generating a diff against repo&#x2F;packages&#x2F;bar&#x2F;CHANGELOG.md!</div><br/><div id="41960636" class="c"><input type="checkbox" id="c-41960636" checked=""/><div class="controls bullet"><span class="by">tux3</span><span>|</span><a href="#41960295">parent</a><span>|</span><a href="#41960457">next</a><span>|</span><label class="collapse" for="c-41960636">[-]</label><label class="expand" for="c-41960636">[2 more]</label></div><br/><div class="children"><div class="content">Derrick provides a better explanation in this cover letter: <a href="https:&#x2F;&#x2F;lore.kernel.org&#x2F;git&#x2F;pull.1785.git.1725890210.gitgitgadget@gmail.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lore.kernel.org&#x2F;git&#x2F;pull.1785.git.1725890210.gitgitg...</a><p>(See also the path-walk API cover letter: <a href="https:&#x2F;&#x2F;lore.kernel.org&#x2F;all&#x2F;pull.1786.git.1725935335.gitgitgadget@gmail.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lore.kernel.org&#x2F;all&#x2F;pull.1786.git.1725935335.gitgitg...</a>)<p>The example in the blog post isn&#x27;t super clear, but Git was essentially taking all the versions of all the files in the repo, putting the last 16 bytes of the path (not filename) in a hash table, and using that to group what they expected to be different versions of the same file together for delta compression.<p>Indeed in the blog it doesn&#x27;t work, because foo&#x2F;CHANGELOG.md and bar&#x2F;CHANGELOG.md is only 13 chars, but you have to imagine the paths have a longer common suffix. That part is fixed by the --full-name-hash option, now you compare the full path instead of just 16 bytes.<p>Then they talk about increasing the window size. That&#x27;s kind of a hack to workaround bad file grouping, but it&#x27;s not the real fix. You&#x27;re still giving terrible inputs to the compressor and working around it by consuming huge amounts of memory. So that was a bit confusing to present it as the solution. The path walk API and&#x2F;or --full-name-hash are the real interesting parts here =)</div><br/><div id="41960730" class="c"><input type="checkbox" id="c-41960730" checked=""/><div class="controls bullet"><span class="by">lastdong</span><span>|</span><a href="#41960295">root</a><span>|</span><a href="#41960636">parent</a><span>|</span><a href="#41960457">next</a><span>|</span><label class="collapse" for="c-41960730">[-]</label><label class="expand" for="c-41960730">[1 more]</label></div><br/><div class="children"><div class="content">Thank you! I ended up having to look at the PR to make any sense of the blog post.</div><br/></div></div></div></div><div id="41960457" class="c"><input type="checkbox" id="c-41960457" checked=""/><div class="controls bullet"><span class="by">derriz</span><span>|</span><a href="#41960295">parent</a><span>|</span><a href="#41960636">prev</a><span>|</span><a href="#41960487">next</a><span>|</span><label class="collapse" for="c-41960457">[-]</label><label class="expand" for="c-41960457">[2 more]</label></div><br/><div class="children"><div class="content">I wish they had provided an actual explanation of what exactly was happening and skipped all the “color” in the story. By filename do they mean path? Or is it that git will just pick any file with a matching name to generate a diff?  Is there any pattern to the choice of other file to use?</div><br/><div id="41960576" class="c"><input type="checkbox" id="c-41960576" checked=""/><div class="controls bullet"><span class="by">snthpy</span><span>|</span><a href="#41960295">root</a><span>|</span><a href="#41960457">parent</a><span>|</span><a href="#41960487">next</a><span>|</span><label class="collapse" for="c-41960576">[-]</label><label class="expand" for="c-41960576">[1 more]</label></div><br/><div class="children"><div class="content">+1</div><br/></div></div></div></div><div id="41960487" class="c"><input type="checkbox" id="c-41960487" checked=""/><div class="controls bullet"><span class="by">p4bl0</span><span>|</span><a href="#41960295">parent</a><span>|</span><a href="#41960457">prev</a><span>|</span><a href="#41960531">next</a><span>|</span><label class="collapse" for="c-41960487">[-]</label><label class="expand" for="c-41960487">[1 more]</label></div><br/><div class="children"><div class="content">I was also bugged by that. I imagine that the meta variables foo and bar are at fault here, and that probably the actual package names had a common suffix like firstPkg and secondPkg. A common suffix of length three is enough in this case to get 16 chars in common as &quot;&#x2F;CHANGELOG.md&quot; is already 13 chars long.</div><br/></div></div><div id="41960531" class="c"><input type="checkbox" id="c-41960531" checked=""/><div class="controls bullet"><span class="by">daenney</span><span>|</span><a href="#41960295">parent</a><span>|</span><a href="#41960487">prev</a><span>|</span><a href="#41960301">next</a><span>|</span><label class="collapse" for="c-41960531">[-]</label><label class="expand" for="c-41960531">[3 more]</label></div><br/><div class="children"><div class="content">File name doesn’t necessarily include the whole path. The last 16 characters of CHANGELOG.md is the full file name.<p>If we interpret it that way, that also explains why the filepathwalk solution solves the problem.<p>But if it’s really based on the last 16 characters of just the file name, not the whole path, then it feels like this problem should be a lot more common. At least in monorepos.</div><br/><div id="41960747" class="c"><input type="checkbox" id="c-41960747" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#41960295">root</a><span>|</span><a href="#41960531">parent</a><span>|</span><a href="#41960622">next</a><span>|</span><label class="collapse" for="c-41960747">[-]</label><label class="expand" for="c-41960747">[1 more]</label></div><br/><div class="children"><div class="content">yes, this makes sense, thanks for pointing it out, silly confusion on my part</div><br/></div></div><div id="41960622" class="c"><input type="checkbox" id="c-41960622" checked=""/><div class="controls bullet"><span class="by">floam</span><span>|</span><a href="#41960295">root</a><span>|</span><a href="#41960531">parent</a><span>|</span><a href="#41960747">prev</a><span>|</span><a href="#41960301">next</a><span>|</span><label class="collapse" for="c-41960622">[-]</label><label class="expand" for="c-41960622">[1 more]</label></div><br/><div class="children"><div class="content">It did shrink Chromium’s repo quite a bit!</div><br/></div></div></div></div></div></div><div id="41960301" class="c"><input type="checkbox" id="c-41960301" checked=""/><div class="controls bullet"><span class="by">yunusabd</span><span>|</span><a href="#41960295">prev</a><span>|</span><a href="#41960763">next</a><span>|</span><label class="collapse" for="c-41960301">[-]</label><label class="expand" for="c-41960301">[2 more]</label></div><br/><div class="children"><div class="content">&gt; For many reasons, that&#x27;s just too big, we have folks in Europe that can&#x27;t even clone the repo due to it&#x27;s size.<p>What&#x27;s up with folks in Europe that they can&#x27;t clone a big repo, but others can? 
Also it sounds like they still won&#x27;t be able to clone, until the change is implemented on the server side?<p>&gt; This meant we were in many occasions just pushing the entire file again and again, which could be 10s of MBs per file in some cases, and you can imagine in a repo<p>The sentence seems to be cut off.<p>Also, the gifs are incredibly distracting while trying to read the article, and they are there even in reader mode.</div><br/><div id="41960415" class="c"><input type="checkbox" id="c-41960415" checked=""/><div class="controls bullet"><span class="by">anon-3988</span><span>|</span><a href="#41960301">parent</a><span>|</span><a href="#41960763">next</a><span>|</span><label class="collapse" for="c-41960415">[-]</label><label class="expand" for="c-41960415">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For many reasons, that&#x27;s just too big, we have folks in Europe that can&#x27;t even clone the repo due to it&#x27;s size.<p>I read that as an anecdote, a more complete sentence would be &quot;We had a story where someone from Europe couldn&#x27;t clone the whole repo on his laptop for him to use on a journey across Europe because his disk is full at the time. He has since cleared up the disk and able to clone the repo&quot;.<p>I don&#x27;t think it points to a larger issue with Europe not being able to handle 180GB files...I surely hope so.</div><br/></div></div></div></div><div id="41960763" class="c"><input type="checkbox" id="c-41960763" checked=""/><div class="controls bullet"><span class="by">nkmnz</span><span>|</span><a href="#41960301">prev</a><span>|</span><a href="#41960752">next</a><span>|</span><label class="collapse" for="c-41960763">[-]</label><label class="expand" for="c-41960763">[1 more]</label></div><br/><div class="children"><div class="content">&gt; we have folks in Europe that can&#x27;t even clone the repo due to it&#x27;s size<p>Officer, I&#x27;d like to report a murder committed in a side note!</div><br/></div></div><div id="41960752" class="c"><input type="checkbox" id="c-41960752" checked=""/><div class="controls bullet"><span class="by">blumomo</span><span>|</span><a href="#41960763">prev</a><span>|</span><a href="#41960298">next</a><span>|</span><label class="collapse" for="c-41960752">[-]</label><label class="expand" for="c-41960752">[2 more]</label></div><br/><div class="children"><div class="content">&gt; we have folks in Europe that can&#x27;t even clone the repo due to it&#x27;s [sic] size<p>What’s wrong with Europeans? Do they have smaller disks?</div><br/><div id="41960785" class="c"><input type="checkbox" id="c-41960785" checked=""/><div class="controls bullet"><span class="by">mark_and_sweep</span><span>|</span><a href="#41960752">parent</a><span>|</span><a href="#41960298">next</a><span>|</span><label class="collapse" for="c-41960785">[-]</label><label class="expand" for="c-41960785">[1 more]</label></div><br/><div class="children"><div class="content">As a German, I assumed he&#x27;s talking about poor connection speeds.</div><br/></div></div></div></div><div id="41960298" class="c"><input type="checkbox" id="c-41960298" checked=""/><div class="controls bullet"><span class="by">triyambakam</span><span>|</span><a href="#41960752">prev</a><span>|</span><a href="#41960717">next</a><span>|</span><label class="collapse" for="c-41960298">[-]</label><label class="expand" for="c-41960298">[15 more]</label></div><br/><div class="children"><div class="content">&gt; we have folks in Europe that can&#x27;t even clone the repo due to it&#x27;s size.<p>What is it about Europe that makes it more difficult? That internet in Europe isn&#x27;t as good? Actually, I have heard that some primary schools in Europe lack internet. My grandson&#x27;s elementary school in rural California (population &lt;10k) had internet as far back as 1998.</div><br/><div id="41960380" class="c"><input type="checkbox" id="c-41960380" checked=""/><div class="controls bullet"><span class="by">_kidlike</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960363">next</a><span>|</span><label class="collapse" for="c-41960380">[-]</label><label class="expand" for="c-41960380">[2 more]</label></div><br/><div class="children"><div class="content">Let&#x27;s pretend you didn&#x27;t write the last 2 sentences...<p>first of all &quot;internet in Europe&quot; makes close to zero sense to argue about. The article just uses it as a shortcut to not start listing countries.<p>I live in a country where I have 10Gbps full-duplex and I pay 50$ &#x2F; month, in &quot;Europe&quot;.<p>The issue is that some countries have telecom lobbies which are still milking their copper networks. Then the &quot;competition committees&quot; in most of these countries are actually working AGAINST the benefit of the public, because they don&#x27;t allow 1 single company to start offering fiber, because that would be a competition advantage. So the whole system is kinda in a deadlock. In order to unblock, at least 2 telecoms have to agree to release fiber deals together. It has happened in some countries.</div><br/><div id="41960793" class="c"><input type="checkbox" id="c-41960793" checked=""/><div class="controls bullet"><span class="by">0points</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960380">parent</a><span>|</span><a href="#41960363">next</a><span>|</span><label class="collapse" for="c-41960793">[-]</label><label class="expand" for="c-41960793">[1 more]</label></div><br/><div class="children"><div class="content">What european countries still dont have fiber?<p>&#x2F;&#x2F;Confused swede with 10G fiber all over the place. Writing from literally the countryside next to nowhere.</div><br/></div></div></div></div><div id="41960363" class="c"><input type="checkbox" id="c-41960363" checked=""/><div class="controls bullet"><span class="by">yashap</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960380">prev</a><span>|</span><a href="#41960387">next</a><span>|</span><label class="collapse" for="c-41960363">[-]</label><label class="expand" for="c-41960363">[1 more]</label></div><br/><div class="children"><div class="content">They’re probably downloading from a server in the states, being much further away makes a big difference with a massive download.</div><br/></div></div><div id="41960387" class="c"><input type="checkbox" id="c-41960387" checked=""/><div class="controls bullet"><span class="by">nyanpasu64</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960363">prev</a><span>|</span><a href="#41960423">next</a><span>|</span><label class="collapse" for="c-41960387">[-]</label><label class="expand" for="c-41960387">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve experienced interruptions mid-clone (with no apparent way to resume them) when trying to clone repos on unreliable connections, and perhaps a similar issue is happening with connections between continents.</div><br/><div id="41960448" class="c"><input type="checkbox" id="c-41960448" checked=""/><div class="controls bullet"><span class="by">joshvm</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960387">parent</a><span>|</span><a href="#41960423">next</a><span>|</span><label class="collapse" for="c-41960448">[-]</label><label class="expand" for="c-41960448">[1 more]</label></div><br/><div class="children"><div class="content">The only reliable route I’ve found is to use SSH clone. HTTPS is lousy and as you mention, is not resumable. Works fine in Antarctica even over our slower satellite. Doesn’t help if you actually drop, but you can clone to a remote and then rsync everything over time.</div><br/></div></div></div></div><div id="41960423" class="c"><input type="checkbox" id="c-41960423" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960387">prev</a><span>|</span><a href="#41960332">next</a><span>|</span><label class="collapse" for="c-41960423">[-]</label><label class="expand" for="c-41960423">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s issues cloning super huge repo over crappy protocols across ocean especially when VPNs get included in the problem</div><br/></div></div><div id="41960332" class="c"><input type="checkbox" id="c-41960332" checked=""/><div class="controls bullet"><span class="by">RadiozRadioz</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960423">prev</a><span>|</span><a href="#41960343">next</a><span>|</span><label class="collapse" for="c-41960332">[-]</label><label class="expand" for="c-41960332">[1 more]</label></div><br/><div class="children"><div class="content">At least here in Western Europe, in general the internet is great. Though coverage in rural areas varies by country.</div><br/></div></div><div id="41960343" class="c"><input type="checkbox" id="c-41960343" checked=""/><div class="controls bullet"><span class="by">gnrlst</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960332">prev</a><span>|</span><a href="#41960593">next</a><span>|</span><label class="collapse" for="c-41960343">[-]</label><label class="expand" for="c-41960343">[6 more]</label></div><br/><div class="children"><div class="content">In most EU countries we have multi-gigabit internet (for cheap too). Current offers are around ~5 GBIT speeds for 20 bucks a month.</div><br/><div id="41960557" class="c"><input type="checkbox" id="c-41960557" checked=""/><div class="controls bullet"><span class="by">jillesvangurp</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960343">parent</a><span>|</span><a href="#41960481">next</a><span>|</span><label class="collapse" for="c-41960557">[-]</label><label class="expand" for="c-41960557">[4 more]</label></div><br/><div class="children"><div class="content">Sadly, I&#x27;m in Germany. Which is a third world country when it comes to decent connectivity. They are rolling out some fiber now in Berlin. Finally. But very slowly and not to my building any time soon. Most of the country is limited to DSL speeds. Mobile coverage is getting better but still non existent outside of cities. Germany has borders with nine countries. Each of those have better connectivity than Germany.<p>I&#x27;m from the Netherlands where over 90% of households now have fiber connections, for example. Here in Berlin it&#x27;s very hard to get that. They are starting to roll it out in some areas but it&#x27;s taking very long and each building has to then get connected, which is up to the building owners.</div><br/><div id="41960670" class="c"><input type="checkbox" id="c-41960670" checked=""/><div class="controls bullet"><span class="by">aniviacat</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960557">parent</a><span>|</span><a href="#41960668">next</a><span>|</span><label class="collapse" for="c-41960670">[-]</label><label class="expand" for="c-41960670">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Mobile coverage is getting better but still non existent outside of cities.<p>According to the Bundesnetzagentur over 90% [1] of Germany has 5G coverage (and almost all of the rest has 4G [2]).<p>[1] <a href="https:&#x2F;&#x2F;www.bundesnetzagentur.de&#x2F;SharedDocs&#x2F;Pressemitteilungen&#x2F;EN&#x2F;2024&#x2F;20240613_MoFu.html" rel="nofollow">https:&#x2F;&#x2F;www.bundesnetzagentur.de&#x2F;SharedDocs&#x2F;Pressemitteilung...</a><p>[2] <a href="https:&#x2F;&#x2F;gigabitgrundbuch.bund.de&#x2F;GIGA&#x2F;DE&#x2F;MobilfunkMonitoring&#x2F;Vollbild&#x2F;start.html" rel="nofollow">https:&#x2F;&#x2F;gigabitgrundbuch.bund.de&#x2F;GIGA&#x2F;DE&#x2F;MobilfunkMonitoring...</a></div><br/><div id="41960765" class="c"><input type="checkbox" id="c-41960765" checked=""/><div class="controls bullet"><span class="by">jillesvangurp</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960670">parent</a><span>|</span><a href="#41960668">next</a><span>|</span><label class="collapse" for="c-41960765">[-]</label><label class="expand" for="c-41960765">[1 more]</label></div><br/><div class="children"><div class="content">I usually lose connectivity on train journeys across Germany. I&#x27;m offline most of the way. Even the in train wifi gets quite bad in remote areas. Because they depend on the same shitty mobile networks. There&#x27;s a stark difference as soon as you cross the borders with other countries. Suddenly stuff works again. Things stop timing out.<p>I also deal with commercial customers that have companies in areas with either no or poor mobile connectivity and since we sell mobile apps to them, we always need to double check they actually have a good connection. One of our customers is on the edge of a city with very spotty 4G at best. I recently recommended Star Link to another company that is operating in rural areas. They were asking about offline capabilities of our app. Because they deal with poor connectivity all the time. I made the point that you can get internet anywhere you want now for a fairly reasonable price.</div><br/></div></div></div></div><div id="41960668" class="c"><input type="checkbox" id="c-41960668" checked=""/><div class="controls bullet"><span class="by">barrkel</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960557">parent</a><span>|</span><a href="#41960670">prev</a><span>|</span><a href="#41960481">next</a><span>|</span><label class="collapse" for="c-41960668">[-]</label><label class="expand" for="c-41960668">[1 more]</label></div><br/><div class="children"><div class="content">When I travel in Germany I use a Deutsche Telekom pay as you go SIM in a 5G hotspot, and generally get about 200Mbit throughtput, which is far higher than you can expect any place you&#x27;re staying to provide. It&#x27;s €7 a day (or €100 a month) but it&#x27;s worth it to avoid the terrible internet.</div><br/></div></div></div></div><div id="41960481" class="c"><input type="checkbox" id="c-41960481" checked=""/><div class="controls bullet"><span class="by">n_ary</span><span>|</span><a href="#41960298">root</a><span>|</span><a href="#41960343">parent</a><span>|</span><a href="#41960557">prev</a><span>|</span><a href="#41960593">next</a><span>|</span><label class="collapse" for="c-41960481">[-]</label><label class="expand" for="c-41960481">[1 more]</label></div><br/><div class="children"><div class="content">Well good for you. On my side of europe, I pay €50&#x2F;- for a cheap 50Mbps(1 month cancellation notice period). I could get a slightly cheaper 100Mbps from a predator for €20&#x2F;- for first 6 month but then it goes up to €50&#x2F;- and they pull bs about not being able to cancel if you even move because your new location is also in their coverage area(over garbage copper) and suffers at least 20 outages per month while there are other providers with much cheaper rates and better service.<p>Some EU is still suffering from Telekom copper barons.</div><br/></div></div></div></div><div id="41960593" class="c"><input type="checkbox" id="c-41960593" checked=""/><div class="controls bullet"><span class="by">teo_zero</span><span>|</span><a href="#41960298">parent</a><span>|</span><a href="#41960343">prev</a><span>|</span><a href="#41960717">next</a><span>|</span><label class="collapse" for="c-41960593">[-]</label><label class="expand" for="c-41960593">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &gt; we have folks in Europe that can&#x27;t even clone the repo due to it&#x27;s size.<p>&gt; I have heard that some primary schools in Europe lack internet.<p>Maybe they lack internet but teach their pupils how to write &quot;its&quot;.</div><br/></div></div></div></div><div id="41960717" class="c"><input type="checkbox" id="c-41960717" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#41960298">prev</a><span>|</span><a href="#41960778">next</a><span>|</span><label class="collapse" for="c-41960717">[-]</label><label class="expand" for="c-41960717">[1 more]</label></div><br/><div class="children"><div class="content">&gt; those branches that only change CHANGELOG.md and CHANGELOG.json, we were fetching 125GB of extra git data?! HOW THO??<p>Unrecognized 100x programmer somewhere lol</div><br/></div></div><div id="41960778" class="c"><input type="checkbox" id="c-41960778" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#41960717">prev</a><span>|</span><a href="#41960547">next</a><span>|</span><label class="collapse" for="c-41960778">[-]</label><label class="expand" for="c-41960778">[1 more]</label></div><br/><div class="children"><div class="content">Nice to see that Microsoft is dog-fooding Azure DevOps. It seems that more and more Azure services only have native connectors to GitHub so I actually thought it was moving towards abandonware.</div><br/></div></div><div id="41960547" class="c"><input type="checkbox" id="c-41960547" checked=""/><div class="controls bullet"><span class="by">snthpy</span><span>|</span><a href="#41960778">prev</a><span>|</span><a href="#41960581">next</a><span>|</span><label class="collapse" for="c-41960547">[-]</label><label class="expand" for="c-41960547">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for this post. Really interesting and a great win for OSS!<p>I&#x27;ve been watching all the recent GitMerge talks put up by GitButler and following the monorepo &#x2F; scaling developments - lots of great things being put out there by Microsoft, Github, and Gitlab.<p>I&#x27;d like to understand this last 16 char vs full path check issue better. How does this fit in with delta compression, pack indexes, multi-pack indexes etc ... ?</div><br/></div></div><div id="41960581" class="c"><input type="checkbox" id="c-41960581" checked=""/><div class="controls bullet"><span class="by">rettichschnidi</span><span>|</span><a href="#41960547">prev</a><span>|</span><a href="#41960263">next</a><span>|</span><label class="collapse" for="c-41960581">[-]</label><label class="expand" for="c-41960581">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m surprised they are actually using Azure DevOps internally. Creating your own hell I guess.</div><br/><div id="41960634" class="c"><input type="checkbox" id="c-41960634" checked=""/><div class="controls bullet"><span class="by">jonathanlydall</span><span>|</span><a href="#41960581">parent</a><span>|</span><a href="#41960263">next</a><span>|</span><label class="collapse" for="c-41960634">[-]</label><label class="expand" for="c-41960634">[1 more]</label></div><br/><div class="children"><div class="content">I find the “Boards” part of DevOps doesn’t work well for us a small org wanting a less structured backlog, but for components like Pipelines and the Git repositories it’s neither here nor there for us.<p>What aspects of Azure DevOps are hell to you?</div><br/></div></div></div></div><div id="41960263" class="c"><input type="checkbox" id="c-41960263" checked=""/><div class="controls bullet"><span class="by">killingtime74</span><span>|</span><a href="#41960581">prev</a><span>|</span><a href="#41960454">next</a><span>|</span><label class="collapse" for="c-41960263">[-]</label><label class="expand" for="c-41960263">[5 more]</label></div><br/><div class="children"><div class="content">Shrank</div><br/><div id="41960757" class="c"><input type="checkbox" id="c-41960757" checked=""/><div class="controls bullet"><span class="by">peutetre</span><span>|</span><a href="#41960263">parent</a><span>|</span><a href="#41960293">next</a><span>|</span><label class="collapse" for="c-41960757">[-]</label><label class="expand" for="c-41960757">[1 more]</label></div><br/><div class="children"><div class="content">I was in the pool!</div><br/></div></div><div id="41960293" class="c"><input type="checkbox" id="c-41960293" checked=""/><div class="controls bullet"><span class="by">dougthesnails</span><span>|</span><a href="#41960263">parent</a><span>|</span><a href="#41960757">prev</a><span>|</span><a href="#41960292">next</a><span>|</span><label class="collapse" for="c-41960293">[-]</label><label class="expand" for="c-41960293">[1 more]</label></div><br/><div class="children"><div class="content">I think I prefer shrunked in this context.</div><br/></div></div><div id="41960292" class="c"><input type="checkbox" id="c-41960292" checked=""/><div class="controls bullet"><span class="by">Sparkyte</span><span>|</span><a href="#41960263">parent</a><span>|</span><a href="#41960293">prev</a><span>|</span><a href="#41960454">next</a><span>|</span><label class="collapse" for="c-41960292">[-]</label><label class="expand" for="c-41960292">[2 more]</label></div><br/><div class="children"><div class="content">Shrinky dinky</div><br/><div id="41960354" class="c"><input type="checkbox" id="c-41960354" checked=""/><div class="controls bullet"><span class="by">bubblesnort</span><span>|</span><a href="#41960263">root</a><span>|</span><a href="#41960292">parent</a><span>|</span><a href="#41960454">next</a><span>|</span><label class="collapse" for="c-41960354">[-]</label><label class="expand" for="c-41960354">[1 more]</label></div><br/><div class="children"><div class="content">Honey, I shrunk the git!</div><br/></div></div></div></div></div></div><div id="41960454" class="c"><input type="checkbox" id="c-41960454" checked=""/><div class="controls bullet"><span class="by">jimjimjim</span><span>|</span><a href="#41960263">prev</a><span>|</span><a href="#41960414">next</a><span>|</span><label class="collapse" for="c-41960454">[-]</label><label class="expand" for="c-41960454">[2 more]</label></div><br/><div class="children"><div class="content">Did anybody else shudder at &quot;Shrunked&quot;?</div><br/><div id="41960826" class="c"><input type="checkbox" id="c-41960826" checked=""/><div class="controls bullet"><span class="by">0points</span><span>|</span><a href="#41960454">parent</a><span>|</span><a href="#41960414">next</a><span>|</span><label class="collapse" for="c-41960826">[-]</label><label class="expand" for="c-41960826">[1 more]</label></div><br/><div class="children"><div class="content">English is my third language, also yes.</div><br/></div></div></div></div><div id="41960414" class="c"><input type="checkbox" id="c-41960414" checked=""/><div class="controls bullet"><span class="by">issung</span><span>|</span><a href="#41960454">prev</a><span>|</span><a href="#41960296">next</a><span>|</span><label class="collapse" for="c-41960414">[-]</label><label class="expand" for="c-41960414">[2 more]</label></div><br/><div class="children"><div class="content">Having someone in arms reach to help out that knows the inner workings of Git so much must be a lovely perk of working on such projects at companies of this scale.</div><br/><div id="41960669" class="c"><input type="checkbox" id="c-41960669" checked=""/><div class="controls bullet"><span class="by">jonathanlydall</span><span>|</span><a href="#41960414">parent</a><span>|</span><a href="#41960296">next</a><span>|</span><label class="collapse" for="c-41960669">[-]</label><label class="expand" for="c-41960669">[1 more]</label></div><br/><div class="children"><div class="content">Certainly being in an org which has close ties to entities like GitHub helps, but any team in any org with that number of developers can justify the cost of bringing in a highly specialized consultant to solve an almost niche problem like this.</div><br/></div></div></div></div><div id="41960247" class="c"><input type="checkbox" id="c-41960247" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#41960296">prev</a><span>|</span><a href="#41960621">next</a><span>|</span><label class="collapse" for="c-41960247">[-]</label><label class="expand" for="c-41960247">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Large blobs happens when someone accidentally checks in some binary, so, not much you can do<p>&gt; Retroactively, once the file is there though, it&#x27;s semi stuck in history.<p>Arguably, the fix for that is to run filter-branch, remove the offending binary, teach and get everyone setup to use git-lfs for binaries,  force push, and help everyone get their workstation to a good place.<p>Far from ideal,
but better than having a large not-even-used file in git.</div><br/><div id="41960262" class="c"><input type="checkbox" id="c-41960262" checked=""/><div class="controls bullet"><span class="by">larusso</span><span>|</span><a href="#41960247">parent</a><span>|</span><a href="#41960400">next</a><span>|</span><label class="collapse" for="c-41960262">[-]</label><label class="expand" for="c-41960262">[1 more]</label></div><br/><div class="children"><div class="content">The main issue is not a binary file that never changes. It’s the small binary file that changes often.</div><br/></div></div><div id="41960400" class="c"><input type="checkbox" id="c-41960400" checked=""/><div class="controls bullet"><span class="by">abound</span><span>|</span><a href="#41960247">parent</a><span>|</span><a href="#41960262">prev</a><span>|</span><a href="#41960539">next</a><span>|</span><label class="collapse" for="c-41960400">[-]</label><label class="expand" for="c-41960400">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also BFG (<a href="https:&#x2F;&#x2F;rtyley.github.io&#x2F;bfg-repo-cleaner&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rtyley.github.io&#x2F;bfg-repo-cleaner&#x2F;</a>) for people like me who are scared of filter-branch.<p>As someone else noted, this is about small, frequently changing files, so you could remove old versions from the history to save space, and use LFS going forward.</div><br/></div></div><div id="41960539" class="c"><input type="checkbox" id="c-41960539" checked=""/><div class="controls bullet"><span class="by">lastdong</span><span>|</span><a href="#41960247">parent</a><span>|</span><a href="#41960400">prev</a><span>|</span><a href="#41960621">next</a><span>|</span><label class="collapse" for="c-41960539">[-]</label><label class="expand" for="c-41960539">[1 more]</label></div><br/><div class="children"><div class="content">It’s easier to blame Linus.</div><br/></div></div></div></div><div id="41960621" class="c"><input type="checkbox" id="c-41960621" checked=""/><div class="controls bullet"><span class="by">AbuAssar</span><span>|</span><a href="#41960247">prev</a><span>|</span><a href="#41960583">next</a><span>|</span><label class="collapse" for="c-41960621">[-]</label><label class="expand" for="c-41960621">[1 more]</label></div><br/><div class="children"><div class="content">the gif memes were very distracting...</div><br/></div></div></div></div></div></div></div></body></html>