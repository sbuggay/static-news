<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728896464040" as="style"/><link rel="stylesheet" href="styles.css?v=1728896464040"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.lohr.dev/embedded-rust">A review after using Rust on embedded in production for over a year</a> <span class="domain">(<a href="https://blog.lohr.dev">blog.lohr.dev</a>)</span></div><div class="subtext"><span>michidk</span> | <span>47 comments</span></div><br/><div><div id="41835625" class="c"><input type="checkbox" id="c-41835625" checked=""/><div class="controls bullet"><span class="by">skwee357</span><span>|</span><a href="#41835253">next</a><span>|</span><label class="collapse" for="c-41835625">[-]</label><label class="expand" for="c-41835625">[1 more]</label></div><br/><div class="children"><div class="content">As someone who is using Rust in production for a year now [0], albeit in a different industry -- webdev, I really like the language. Sure, the first steps were rough, but eventually DX became decent, and the safety guarantees of Rust allow me to have a safe mind when developing and deploying (something I can&#x27;t say about other popular dynamic languages).<p>Having said that, I agree with one of the commenters in this thread: Rust is essentially a solution looking for a problem. It is a great language, but it fails to find its niche. Rust developers are nowhere to be found, companies are not hiring Rust developers (except if you want to work in crypto).<p>[0]<a href="https:&#x2F;&#x2F;yieldcode.blog&#x2F;post&#x2F;one-year-of-rust-in-production&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yieldcode.blog&#x2F;post&#x2F;one-year-of-rust-in-production&#x2F;</a></div><br/></div></div><div id="41835253" class="c"><input type="checkbox" id="c-41835253" checked=""/><div class="controls bullet"><span class="by">dazzawazza</span><span>|</span><a href="#41835625">prev</a><span>|</span><a href="#41835579">next</a><span>|</span><label class="collapse" for="c-41835253">[-]</label><label class="expand" for="c-41835253">[19 more]</label></div><br/><div class="children"><div class="content">Access to competant Rust developers can be a challenge even for large companies.<p>I recently finished a contract at a (very large game dev) company where some tools were written in Rust. The tools were a re-write of python scripts and added no new functionality but were slightly faster in Rust.<p>The reality was that these tools were unmaintainable by the rest of the company. Only the author &quot;knew&quot; Rust and it was hard to justify a new hire Rust developer to maintain  this small set of tools.<p>The only reason these tools were written in Rust was because the dev wanted to learn Rust (a big but common mistake). I pointed out to the Technical Director that this was a big mistake and the teams had taken on a large amount of technical debt for no reason other than the ego of the wanna-be-rust-developer. Since I &quot;knew&quot; Rust he wanted me to maintain it. My advice was to go back to the Python scripts and I left.</div><br/><div id="41835305" class="c"><input type="checkbox" id="c-41835305" checked=""/><div class="controls bullet"><span class="by">gwd</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835460">next</a><span>|</span><label class="collapse" for="c-41835305">[-]</label><label class="expand" for="c-41835305">[3 more]</label></div><br/><div class="children"><div class="content">This question of &quot;what tools &#x2F; languages&quot; should we use was introduced to me (during an interview, actually) as &quot;technical strategy&quot;.  There is more to the choice of language or tooling than whether it&#x27;s fast or slow or reliable at one instant in time -- you have to ask how you will grow and maintain things going forward.<p>That said, obviously all languages were in that state at some point. Twenty-eight years ago you might have said the same thing about Java.  Twenty-four years ago, Perl might have looked like a better choice than Python; now it&#x27;s clearly the opposite.  XenServer took a gamble and wrote their main control stack in OCaml in 2008; on the whole that has had some benefits, but the number of OCaml developers has not significantly grown, and it&#x27;s not easy to hire people.<p>That said, I think Rust is much more likely to follow Java&#x27;s trajectory than OCaml&#x27;s: My prediction is that it&#x27;s only going to be easier and easier to find Rust developers.</div><br/><div id="41835619" class="c"><input type="checkbox" id="c-41835619" checked=""/><div class="controls bullet"><span class="by">devsda</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835305">parent</a><span>|</span><a href="#41835318">next</a><span>|</span><label class="collapse" for="c-41835619">[-]</label><label class="expand" for="c-41835619">[1 more]</label></div><br/><div class="children"><div class="content">I wish and I&#x27;m sure Rust will get there some day but is there a no-brainer usecase today where it&#x27;s really required to use Rust, one important enough to overlook the initial learning curve, developer scarcity and evolving ecosystem?<p>If there&#x27;s a killer open product out there where the  primary supported language is Rust(Linux kernel might as well be it someday), or if a big company launches a successful product in Rust then adoption may accelerate. For now its mostly limited to cryptocurrencies, performance critical paths or rewrite of hidden core components but nothing flashy.<p>&quot;Nobody ever gets fired for buying IBM&quot;. Unless teams can say the same about their choice of Rust, people are going to be risk averse and prefer using safest choice as long as its good enough.</div><br/></div></div></div></div><div id="41835460" class="c"><input type="checkbox" id="c-41835460" checked=""/><div class="controls bullet"><span class="by">steelegbr</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835305">prev</a><span>|</span><a href="#41835570">next</a><span>|</span><label class="collapse" for="c-41835460">[-]</label><label class="expand" for="c-41835460">[2 more]</label></div><br/><div class="children"><div class="content">Indeed. The few times I&#x27;ve encountered Rust in the wild it&#x27;s been for a project that didn&#x27;t need it (web or IO bound applications) and someone&#x27;s &quot;My First Rust Project&quot;. It&#x27;s difficult or even at times beyond the budget of smaller organisations to then hire a seasoned Rust dev to unpick whatever mess you got in to.<p>Don&#x27;t get me wrong, Rust has a niche where it&#x27;s the right choice. But being a popular language of the day, it&#x27;s getting used a lot in the wrong places.</div><br/><div id="41835616" class="c"><input type="checkbox" id="c-41835616" checked=""/><div class="controls bullet"><span class="by">6r17</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835460">parent</a><span>|</span><a href="#41835570">next</a><span>|</span><label class="collapse" for="c-41835616">[-]</label><label class="expand" for="c-41835616">[1 more]</label></div><br/><div class="children"><div class="content">Project that does not need rust &quot;Web, or IO&quot; -&gt; What would you actually choose to make an API then ? Python ? Ruby ? Did you compare benchmarks from rust server to python servers ? Did you actually feel the difference ?</div><br/></div></div></div></div><div id="41835570" class="c"><input type="checkbox" id="c-41835570" checked=""/><div class="controls bullet"><span class="by">nicoburns</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835460">prev</a><span>|</span><a href="#41835522">next</a><span>|</span><label class="collapse" for="c-41835570">[-]</label><label class="expand" for="c-41835570">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I recently finished a contract at a (very large game dev) company where some tools were written in Rust. The tools were a re-write of python scripts and added no new functionality but were slightly faster in Rust.
&gt; The reality was that these tools were unmaintainable by the rest of the company. Only the author &quot;knew&quot; Rust and it was hard to justify a new hire Rust developer to maintain this small set of tools.<p>I can believe this, but it&#x27;s funny because I work on a project where the main product is written in Rust, and it&#x27;s the build tools written in Python that are the technical debt that nobody really wants to touch! In our case I suspect rewriting them in Rust will end up being the right thing to do (if&#x2F;when we can justify the switching costs).</div><br/></div></div><div id="41835522" class="c"><input type="checkbox" id="c-41835522" checked=""/><div class="controls bullet"><span class="by">j-krieger</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835570">prev</a><span>|</span><a href="#41835386">next</a><span>|</span><label class="collapse" for="c-41835522">[-]</label><label class="expand" for="c-41835522">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Only the author &quot;knew&quot; Rust and it was hard to justify a new hire Rust developer to maintain this small set of tools.<p>There are two dialects of Rust. One can be written immediately by beginners, the other is for experts.<p>I make sure to write scripts in the first dialect. It uses `clone` all over the place, does not make use of any async runtime, and makes extensive use of &quot;anyhow&quot; for error creation and logging.<p>I advise all my peers to do the same, if they find a need for Rust in tiny scripts or applications.</div><br/><div id="41835573" class="c"><input type="checkbox" id="c-41835573" checked=""/><div class="controls bullet"><span class="by">sshine</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835522">parent</a><span>|</span><a href="#41835386">next</a><span>|</span><label class="collapse" for="c-41835573">[-]</label><label class="expand" for="c-41835573">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>There are two dialects of Rust. One can be written immediately by beginners, the other is for experts.</i><p>I believe it&#x27;s more like a spectrum.<p>I&#x27;m 3 years into my Rust career.<p>I started with .clone() everywhere.<p>Then I moved on to write highly async code with tokio and std.<p>Now I&#x27;m somewhere entirely unfamiliar, writing highly portable no-std Rust for bare-metal and wasm.<p>It takes some time to know the difference between std and core.<p>It takes some effort to write modular, allocation-free code (static allocations only).<p>It takes some rediscovery of what crates will work for you.<p>It&#x27;s a steep curve, and I don&#x27;t imagine everyone likes it.</div><br/></div></div></div></div><div id="41835386" class="c"><input type="checkbox" id="c-41835386" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835522">prev</a><span>|</span><a href="#41835266">next</a><span>|</span><label class="collapse" for="c-41835386">[-]</label><label class="expand" for="c-41835386">[1 more]</label></div><br/><div class="children"><div class="content">As a Rust&#x2F;Python dev I previously decided against Rust in a work context as I deemed it would make me the sole person who knows what is going on, while python feels much more like a lingua franca of programming nowadays.<p>I would decide this on a case by case basis tho, Rust is different, but if e.g. what you wrote derives most of its business logic from its configuration, or the usecase is so generic changes aren&#x27;t gonna be a thing for a while, why not. Rust is different, but unless you want a complete rewrite or new complex features any developer should be able to get into it if you give them a little time.<p>And the strictness of Rust makes it unlikely that they break things in a bad way, which is good.</div><br/></div></div><div id="41835266" class="c"><input type="checkbox" id="c-41835266" checked=""/><div class="controls bullet"><span class="by">meindnoch</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835386">prev</a><span>|</span><a href="#41835268">next</a><span>|</span><label class="collapse" for="c-41835266">[-]</label><label class="expand" for="c-41835266">[5 more]</label></div><br/><div class="children"><div class="content">&gt;Only the author &quot;knew&quot; Rust [...] because the dev wanted to learn Rust<p>Many such cases. Recipe for disaster.</div><br/><div id="41835378" class="c"><input type="checkbox" id="c-41835378" checked=""/><div class="controls bullet"><span class="by">ahoka</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835266">parent</a><span>|</span><a href="#41835352">next</a><span>|</span><label class="collapse" for="c-41835378">[-]</label><label class="expand" for="c-41835378">[1 more]</label></div><br/><div class="children"><div class="content">I think the rule of thumb should be that if you wouldn’t write aomething in C++, then you shouldn’t use Rust.</div><br/></div></div><div id="41835352" class="c"><input type="checkbox" id="c-41835352" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835266">parent</a><span>|</span><a href="#41835378">prev</a><span>|</span><a href="#41835268">next</a><span>|</span><label class="collapse" for="c-41835352">[-]</label><label class="expand" for="c-41835352">[3 more]</label></div><br/><div class="children"><div class="content">a.k.a. &quot;resume-driven development&quot;</div><br/><div id="41835558" class="c"><input type="checkbox" id="c-41835558" checked=""/><div class="controls bullet"><span class="by">makeitdouble</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835352">parent</a><span>|</span><a href="#41835268">next</a><span>|</span><label class="collapse" for="c-41835558">[-]</label><label class="expand" for="c-41835558">[2 more]</label></div><br/><div class="children"><div class="content">Typically, devs polishing their resume instead of prioritising business metrics probably means the overall org is on the down slope.</div><br/><div id="41835636" class="c"><input type="checkbox" id="c-41835636" checked=""/><div class="controls bullet"><span class="by">mytailorisrich</span><span>|</span><a href="#41835253">root</a><span>|</span><a href="#41835558">parent</a><span>|</span><a href="#41835268">next</a><span>|</span><label class="collapse" for="c-41835636">[-]</label><label class="expand" for="c-41835636">[1 more]</label></div><br/><div class="children"><div class="content">Perfectly normal for people to want to develop their skills and to enhance their value.<p>The thing is that this is not a developer&#x27;s decision, this is a management decision. The developer might pitch for Rust or even start developing in Rust but if that is not right for the org then his manager should say &#x27;no&#x27;.<p>So ultimately this is a red flag about management.</div><br/></div></div></div></div></div></div></div></div><div id="41835268" class="c"><input type="checkbox" id="c-41835268" checked=""/><div class="controls bullet"><span class="by">physicsguy</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835266">prev</a><span>|</span><a href="#41835427">next</a><span>|</span><label class="collapse" for="c-41835268">[-]</label><label class="expand" for="c-41835268">[2 more]</label></div><br/><div class="children"><div class="content">Embedded developers that know Rust is an even smaller pool than Rust developers in general. It’s almost two non-intersecting groups of people since embedded in general is less well paid in many countries and so doesn’t attract people interested in the latest and greatest hyped up language.</div><br/></div></div><div id="41835427" class="c"><input type="checkbox" id="c-41835427" checked=""/><div class="controls bullet"><span class="by">realusername</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835268">prev</a><span>|</span><a href="#41835607">next</a><span>|</span><label class="collapse" for="c-41835427">[-]</label><label class="expand" for="c-41835427">[1 more]</label></div><br/><div class="children"><div class="content">What concerns me even more than the talent pool is that Rust is a language that isn&#x27;t straightforward to learn.<p>I can be confident to teach any average developer about Go without any prior experience relatively quickly, I&#x27;m not so confident I could do the same with Rust.</div><br/></div></div><div id="41835607" class="c"><input type="checkbox" id="c-41835607" checked=""/><div class="controls bullet"><span class="by">6r17</span><span>|</span><a href="#41835253">parent</a><span>|</span><a href="#41835427">prev</a><span>|</span><a href="#41835579">next</a><span>|</span><label class="collapse" for="c-41835607">[-]</label><label class="expand" for="c-41835607">[1 more]</label></div><br/><div class="children"><div class="content">I switched up from python to rust for some processing pipeline at work - rust has a lot of advantages over it specifically for typing and speed, the work itself it a little bit longer to develop. But the quality output is not even comparable, the code itself is way more readable and explicit than in python code.<p>There is not a lot you can do to make your python code as good in terms of reliability or clarity of intent. I&#x27;m sorry to hear that you did not have a good experience with it, but frankly speaking, I cannot look at python code anymore because of the inherent &quot;hidden&quot; work that it creates, variables being passed trough without much care for their exact meaning, hidden &quot;bugs&quot; that make the overall job way more annoying to debug.<p>Python is like that person that tells you everything is fine but is mostly wrong and won&#x27;t even tell about that. Whereas Rust will just straight up tell you what&#x27;s wrong in the draft.<p>I prefer the honesty and the little additional overhead work to getting lost in debugs for weeks bc some person has inputed the wrong shape for some vals or whatnot.<p>The peace of mind is saving me a ton on maintenance as well. 
(project is a 2years on with distributed python pipeline with a bunch of IA processing - switching up to rust was not the easiest thing to do considering some parts had to stay in python because of code ownership being someone&#x27;s else - the stack is a rust&#x2F;python stack now with some parts being left out in python depending on the actual needs of update)<p>I understand very well that some people do not want to code in rust, specifically because they might not have the time or the will to do so. But objectively these people do not have to define the pipeline execution except for the actual order of execution, nor do they need to maintain every part of the code because it&#x27;s just not their job.<p>Now if you are to compare the exact benefits of rust vs python for a company, the server pricing will just speak itself and the choice will be made depending on the cost of production, the lifetime of the code, and the actual benefits.<p>If I was to do some API today, I&#x27;d 50000% go for rust and I DO think of python as the `no-coder coder` thing. I initially learned C, switched up to Python for jobs, and the code quality of python is just downright bad. It does not push me in the right direction AT ALL.<p>The fact that we used a scripting language with no typing for tools that need any kind of guarantee for years does not mean it&#x27;s the best way to do it.<p>Also to answer the problem concerning `rust` dev&#x27;s being non-existant on the market, and no job being open is really simple : even tough rust has 10 years on the developer market on this is really young and need to learn.<p>You need 3 years of practice to get 3 years of experience with rust. There is no way around that. And there is just not enough experienced people with this language yet to make it a shift. I&#x27;m not saying there is none, i&#x27;m saying it&#x27;s not yet democratized.</div><br/></div></div></div></div><div id="41835579" class="c"><input type="checkbox" id="c-41835579" checked=""/><div class="controls bullet"><span class="by">myrmidon</span><span>|</span><a href="#41835253">prev</a><span>|</span><a href="#41835370">next</a><span>|</span><label class="collapse" for="c-41835579">[-]</label><label class="expand" for="c-41835579">[2 more]</label></div><br/><div class="children"><div class="content">A very important point that the article neglects is that for a lot of embedded platforms, you have to heavily rely on the hardware manufacturers libraries and tooling. All of that stuff is typically gonna be targeted at C.<p>Without this, using even very simple hardware interfaces (like an SPI&#x2F;I2C bus) is gonna be a huge pain, because you&#x27;ll have to comb through reference manuals and register descriptions for your processor and piece everything together yourself instead of just calling a few API functions (this is also very error-prone and using Rust is not really gonna help one bit).<p>The only chance to get even halfway decent rust integration is to pick one of the like 3 most popular hardware platforms among hobby enthusiasts (think ESP32, raspberry pico), which is simply not viable for a LOT of embedded applications.<p>So I still think its probably a really bad idea for a typical embedded-shop to fully go for rust right now-- the downsides from lacking tooling&#x2F;libraries, reduced developer pool and the need to train extant devs appear very hard to overcome to me.</div><br/><div id="41835630" class="c"><input type="checkbox" id="c-41835630" checked=""/><div class="controls bullet"><span class="by">alex_suzuki</span><span>|</span><a href="#41835579">parent</a><span>|</span><a href="#41835370">next</a><span>|</span><label class="collapse" for="c-41835630">[-]</label><label class="expand" for="c-41835630">[1 more]</label></div><br/><div class="children"><div class="content">Not a Rust dev, but couldn’t you use FFI to call the C routines from Rust?
Of course you‘ll have glue code which is seldom pretty, and depending on the amount of Rust actually involved at runtime it might be questionable to do in the first place.</div><br/></div></div></div></div><div id="41835370" class="c"><input type="checkbox" id="c-41835370" checked=""/><div class="controls bullet"><span class="by">culebron21</span><span>|</span><a href="#41835579">prev</a><span>|</span><a href="#41835611">next</a><span>|</span><label class="collapse" for="c-41835370">[-]</label><label class="expand" for="c-41835370">[5 more]</label></div><br/><div class="children"><div class="content">The author complains there are few developers available to maintain Rust code.<p>I see very few job postings, and almost all of them are either cryptocurrencies (I don&#x27;t want to waste my life on this), or &quot;3 years professional Rust development in production&quot; (disqualifies self-learners).<p>Given that nowadays most applications are not replied, it makes little sense to spend time even browsing the postings.</div><br/><div id="41835586" class="c"><input type="checkbox" id="c-41835586" checked=""/><div class="controls bullet"><span class="by">nicoburns</span><span>|</span><a href="#41835370">parent</a><span>|</span><a href="#41835434">next</a><span>|</span><label class="collapse" for="c-41835586">[-]</label><label class="expand" for="c-41835586">[1 more]</label></div><br/><div class="children"><div class="content">&gt; 3 years professional Rust development in production&quot; (disqualifies self-learners).<p>It doesn&#x27;t necessarily. Very few jobs postings that require &quot;N years of experience in language A&quot; actually require that. Most will accept N years of total experience and some smaller amount of experience (not necessarily professional) in language A.</div><br/></div></div><div id="41835434" class="c"><input type="checkbox" id="c-41835434" checked=""/><div class="controls bullet"><span class="by">rapsey</span><span>|</span><a href="#41835370">parent</a><span>|</span><a href="#41835586">prev</a><span>|</span><a href="#41835611">next</a><span>|</span><label class="collapse" for="c-41835434">[-]</label><label class="expand" for="c-41835434">[3 more]</label></div><br/><div class="children"><div class="content">There really is a strange dichotomy. Plenty of Rust developers have trouble finding jobs and apparently companies have trouble finding Rust developers.</div><br/><div id="41835490" class="c"><input type="checkbox" id="c-41835490" checked=""/><div class="controls bullet"><span class="by">pytness</span><span>|</span><a href="#41835370">root</a><span>|</span><a href="#41835434">parent</a><span>|</span><a href="#41835491">next</a><span>|</span><label class="collapse" for="c-41835490">[-]</label><label class="expand" for="c-41835490">[1 more]</label></div><br/><div class="children"><div class="content">For being a relatively new language, there are almost no &quot;entry level&quot; positions.<p>Just take a look at <a href="https:&#x2F;&#x2F;rustjobs.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rustjobs.dev&#x2F;</a>. Most of them are well paid remote jobs, but they are asking for +3 years of &quot;professional experience&quot; with rust, &quot;with a proven track record of building and deploying production-quality code&quot;, and more. Hell, iirc, i saw one asking for proof of contributions to the rust repo (eg, being a core maintainer).<p>edit: to be fair, i saw one position a while a go asking to be willing to learn rust</div><br/></div></div><div id="41835491" class="c"><input type="checkbox" id="c-41835491" checked=""/><div class="controls bullet"><span class="by">yawpitch</span><span>|</span><a href="#41835370">root</a><span>|</span><a href="#41835434">parent</a><span>|</span><a href="#41835490">prev</a><span>|</span><a href="#41835611">next</a><span>|</span><label class="collapse" for="c-41835491">[-]</label><label class="expand" for="c-41835491">[1 more]</label></div><br/><div class="children"><div class="content">This sounds like a matchmaking problem that could probably be solved by a competent Python developer, if we can find one.</div><br/></div></div></div></div></div></div><div id="41835611" class="c"><input type="checkbox" id="c-41835611" checked=""/><div class="controls bullet"><span class="by">Do123</span><span>|</span><a href="#41835370">prev</a><span>|</span><a href="#41835212">next</a><span>|</span><label class="collapse" for="c-41835611">[-]</label><label class="expand" for="c-41835611">[1 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t they just have a shitty implementation written in C (could have been any other language...it&#x27;s not the language!) and than learned from the past mistakes and written a new implementation in Rust(could have been any other language)?
And now the author tries to attribute it&#x27;s success to Rust?</div><br/></div></div><div id="41835212" class="c"><input type="checkbox" id="c-41835212" checked=""/><div class="controls bullet"><span class="by">RandomThoughts3</span><span>|</span><a href="#41835611">prev</a><span>|</span><a href="#41835199">next</a><span>|</span><label class="collapse" for="c-41835212">[-]</label><label class="expand" for="c-41835212">[4 more]</label></div><br/><div class="children"><div class="content">The article is really light on actual details.<p>Basically, this is a company who uses ESP32 to read serial data from batteries using UART and retransmits it in json over MQTT. They apparently had buggy C code to do that (for unspecified reasons) and successfully rewrote that in Rust.<p>Conclusion, you can write ESP32 code in Rust. No information on what that actually entails sadly.</div><br/><div id="41835541" class="c"><input type="checkbox" id="c-41835541" checked=""/><div class="controls bullet"><span class="by">usmanmehmood55</span><span>|</span><a href="#41835212">parent</a><span>|</span><a href="#41835476">next</a><span>|</span><label class="collapse" for="c-41835541">[-]</label><label class="expand" for="c-41835541">[1 more]</label></div><br/><div class="children"><div class="content">I was just about to point this out in my own comment but yours sums it up quite nicely. As an embedded software guy this article gives next to no specifics or details on what the bugs were and how they got solved with Rust.</div><br/></div></div><div id="41835476" class="c"><input type="checkbox" id="c-41835476" checked=""/><div class="controls bullet"><span class="by">sgt</span><span>|</span><a href="#41835212">parent</a><span>|</span><a href="#41835541">prev</a><span>|</span><a href="#41835199">next</a><span>|</span><label class="collapse" for="c-41835476">[-]</label><label class="expand" for="c-41835476">[2 more]</label></div><br/><div class="children"><div class="content">Yes I wonder what was wrong with the C code. Was it fixable, was it just a single loop code that ran or could they have used something like FreeRTOS to handle multiple tasks with less chance of bugs?</div><br/><div id="41835524" class="c"><input type="checkbox" id="c-41835524" checked=""/><div class="controls bullet"><span class="by">RandomThoughts3</span><span>|</span><a href="#41835212">root</a><span>|</span><a href="#41835476">parent</a><span>|</span><a href="#41835199">next</a><span>|</span><label class="collapse" for="c-41835524">[-]</label><label class="expand" for="c-41835524">[1 more]</label></div><br/><div class="children"><div class="content">I would have liked to have more details because it&#x27;s easy to have memory related issues when using a serial protocol in a memory constrained environment and I was wondering if somehow some feature of Rust helped them.<p>I would guess that the more expressive type system is very nice but I don&#x27;t expect memory safery features to be that useful in this context. Would like to hear from someone with real world experience on that.</div><br/></div></div></div></div></div></div><div id="41835199" class="c"><input type="checkbox" id="c-41835199" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#41835212">prev</a><span>|</span><a href="#41835275">next</a><span>|</span><label class="collapse" for="c-41835199">[-]</label><label class="expand" for="c-41835199">[6 more]</label></div><br/><div class="children"><div class="content">As expected, the people problem is the biggest factor. Turns out getting C folks to learn Rust is a difficult proposition (hello, lkml) but the other way around it isn&#x27;t too much of a problem.<p>I wonder how much of it is low-level experienced developers only ever using C fail to see that C is not the universally best tool (or, &#x27;if all you have is a hammer, everything looks like a nail&#x27; question).</div><br/><div id="41835262" class="c"><input type="checkbox" id="c-41835262" checked=""/><div class="controls bullet"><span class="by">dunefox</span><span>|</span><a href="#41835199">parent</a><span>|</span><a href="#41835561">next</a><span>|</span><label class="collapse" for="c-41835262">[-]</label><label class="expand" for="c-41835262">[4 more]</label></div><br/><div class="children"><div class="content">&gt; I wonder how much of it is low-level experienced developers only ever using C fail to see that C is not the universally best tool<p>I&#x27;d say that&#x27;s it. From my own experience with software developers, convincing some of them to learn something new is practically impossible.</div><br/><div id="41835349" class="c"><input type="checkbox" id="c-41835349" checked=""/><div class="controls bullet"><span class="by">marcyb5st</span><span>|</span><a href="#41835199">root</a><span>|</span><a href="#41835262">parent</a><span>|</span><a href="#41835561">next</a><span>|</span><label class="collapse" for="c-41835349">[-]</label><label class="expand" for="c-41835349">[3 more]</label></div><br/><div class="children"><div class="content">I generally speaking agree, but I would be more specific:<p>If the person in question has a true passion for the craft, you can regardless of the age&#x2F;seniority of the developer (at least in my experience). In fact, learning something like a new programing language is a big undertaking and if your work doesn&#x27;t offer incentives&#x2F;rewards the will has to come from the person him&#x2F;herself and so that&#x27;s why the passion bit I mentioned above.<p>In my experience I also notice that more senior&#x2F;older devs are more reluctant to learn new things, but I am unsure if that&#x27;s due having their passion destroyed by many years of bullshit companies politics, pointless meetings&#x2F;trainings, and adherence to the latest flavor of agile development every quarter or simply an age thing (I&#x27;m not there yet and so I can&#x27;t tell first hand).</div><br/><div id="41835492" class="c"><input type="checkbox" id="c-41835492" checked=""/><div class="controls bullet"><span class="by">Lanolderen</span><span>|</span><a href="#41835199">root</a><span>|</span><a href="#41835349">parent</a><span>|</span><a href="#41835561">next</a><span>|</span><label class="collapse" for="c-41835492">[-]</label><label class="expand" for="c-41835492">[2 more]</label></div><br/><div class="children"><div class="content">Would this not also be partially connected to not wanting to throw away your 15 years experience with C for 1 year experience in Rust assuming the company actually ditches C? (or any other direct replacement language&#x2F;tool scenario)<p>Sounds like a way to replace yourself by 2 low pay students who also have 1 year of Rust experience.</div><br/><div id="41835609" class="c"><input type="checkbox" id="c-41835609" checked=""/><div class="controls bullet"><span class="by">nsteel</span><span>|</span><a href="#41835199">root</a><span>|</span><a href="#41835492">parent</a><span>|</span><a href="#41835561">next</a><span>|</span><label class="collapse" for="c-41835609">[-]</label><label class="expand" for="c-41835609">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m genuinely surprised there are Rust developers out there that don&#x27;t know C. Perhaps I&#x27;m showing my age, or my ignorance to how much CS education (even self-taught) has changed.</div><br/></div></div></div></div></div></div></div></div><div id="41835561" class="c"><input type="checkbox" id="c-41835561" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#41835199">parent</a><span>|</span><a href="#41835262">prev</a><span>|</span><a href="#41835275">next</a><span>|</span><label class="collapse" for="c-41835561">[-]</label><label class="expand" for="c-41835561">[1 more]</label></div><br/><div class="children"><div class="content">The complexity of Rust is on another level, it&#x27;s a huge language.</div><br/></div></div></div></div><div id="41835275" class="c"><input type="checkbox" id="c-41835275" checked=""/><div class="controls bullet"><span class="by">cesaref</span><span>|</span><a href="#41835199">prev</a><span>|</span><a href="#41835506">next</a><span>|</span><label class="collapse" for="c-41835275">[-]</label><label class="expand" for="c-41835275">[2 more]</label></div><br/><div class="children"><div class="content">The problem I have with articles like this is that if we were to substitute anything in for &#x27;Rust&#x27;, it would read the same. I imagine if they had re-written it in C it would also be better than before. If it was an advert for anything, it might be chucking away a dodgy prototype and starting again (which is surprisingly rare).<p>Anyhow, on the other side of the coin, it&#x27;s good to see newer languages getting a proper outing in real world situations. Proving stuff is &#x27;up to it&#x27; can be a bit of a long haul, so every data point is useful.</div><br/><div id="41835559" class="c"><input type="checkbox" id="c-41835559" checked=""/><div class="controls bullet"><span class="by">simon_void</span><span>|</span><a href="#41835275">parent</a><span>|</span><a href="#41835506">next</a><span>|</span><label class="collapse" for="c-41835559">[-]</label><label class="expand" for="c-41835559">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Rust takes longer to write than C<p>&gt; but spent basically zero time debugging<p>that&#x27;s the difference to rewriting it in C</div><br/></div></div></div></div><div id="41835506" class="c"><input type="checkbox" id="c-41835506" checked=""/><div class="controls bullet"><span class="by">blae</span><span>|</span><a href="#41835275">prev</a><span>|</span><a href="#41835161">next</a><span>|</span><label class="collapse" for="c-41835506">[-]</label><label class="expand" for="c-41835506">[1 more]</label></div><br/><div class="children"><div class="content">I hate how prevalent AI &quot;art&quot; has become on articles like these.</div><br/></div></div><div id="41835161" class="c"><input type="checkbox" id="c-41835161" checked=""/><div class="controls bullet"><span class="by">sshine</span><span>|</span><a href="#41835506">prev</a><span>|</span><a href="#41835214">next</a><span>|</span><label class="collapse" for="c-41835161">[-]</label><label class="expand" for="c-41835161">[1 more]</label></div><br/><div class="children"><div class="content">Reposted:<p>2024-02-20 (3 comments): <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39446699">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39446699</a><p>2024-02-04 (0 comments): <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39251131">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39251131</a></div><br/></div></div><div id="41835214" class="c"><input type="checkbox" id="c-41835214" checked=""/><div class="controls bullet"><span class="by">marmaduke</span><span>|</span><a href="#41835161">prev</a><span>|</span><a href="#41835126">next</a><span>|</span><label class="collapse" for="c-41835214">[-]</label><label class="expand" for="c-41835214">[2 more]</label></div><br/><div class="children"><div class="content">I’m doing some C on esp32 currently, and wondered about switching to rust, and I understand that simple cases with Rust are solid.  I’m definitely interested in trying it out.<p>However we need to work with a lot of the hardware apis like twai, ble, lte, ota, etc.  It seems like support is spotty or it’s DIY.<p>It’s also worth keeping mind the remark about developer availability.  I can generally answer questions about the C to someone who’s not experienced in C, while Rust might be another story.</div><br/><div id="41835548" class="c"><input type="checkbox" id="c-41835548" checked=""/><div class="controls bullet"><span class="by">j-krieger</span><span>|</span><a href="#41835214">parent</a><span>|</span><a href="#41835126">next</a><span>|</span><label class="collapse" for="c-41835548">[-]</label><label class="expand" for="c-41835548">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It seems like support is spotty or it’s DIY<p>I can somewhat attest to this! I have a pretty extensive prototype of using Rust on ESP32 in production. I wrote a reference implementation for ESP32 platforms deployed via BRSKI, a secure remote key bootstrapping protocol which builds upon attestation keys and public key infrastructure.<p>I&#x27;m largely using `esp-idf-svc` for most things, which is a Rust-native wrapper around ESP-IDF code. For anything closer to the hardware, I&#x27;m using `esp-idf-sys` which is just a thin wrapper around the the `ESP-IDF` SDK.<p>You can see the project here: <a href="https:&#x2F;&#x2F;github.com&#x2F;hm-seclab&#x2F;open-brski">https:&#x2F;&#x2F;github.com&#x2F;hm-seclab&#x2F;open-brski</a><p>Hope this helps! I&#x27;m by no means an expert but I sometimes help contribute to the Rust ESP32 ecosystem, so ask away if you want :)</div><br/></div></div></div></div><div id="41835126" class="c"><input type="checkbox" id="c-41835126" checked=""/><div class="controls bullet"><span class="by">bpbp-mango</span><span>|</span><a href="#41835214">prev</a><span>|</span><label class="collapse" for="c-41835126">[-]</label><label class="expand" for="c-41835126">[2 more]</label></div><br/><div class="children"><div class="content">nice pop-up that scrolls you to the top of the article</div><br/><div id="41835136" class="c"><input type="checkbox" id="c-41835136" checked=""/><div class="controls bullet"><span class="by">6r17</span><span>|</span><a href="#41835126">parent</a><span>|</span><label class="collapse" for="c-41835136">[-]</label><label class="expand" for="c-41835136">[1 more]</label></div><br/><div class="children"><div class="content">I was using brave and did not see that popup</div><br/></div></div></div></div></div></div></div></div></div></body></html>