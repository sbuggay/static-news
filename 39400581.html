<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1708160453223" as="style"/><link rel="stylesheet" href="styles.css?v=1708160453223"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://stripe.com/blog/ledger-stripe-system-for-tracking-and-validating-money-movement">Ledger: Stripe&#x27;s system for tracking and validating money movement</a> <span class="domain">(<a href="https://stripe.com">stripe.com</a>)</span></div><div class="subtext"><span>louis-paul</span> | <span>30 comments</span></div><br/><div><div id="39407717" class="c"><input type="checkbox" id="c-39407717" checked=""/><div class="controls bullet"><span class="by">secondcoming</span><span>|</span><a href="#39404579">next</a><span>|</span><label class="collapse" for="c-39407717">[-]</label><label class="expand" for="c-39407717">[1 more]</label></div><br/><div class="children"><div class="content">Only 5bn events per day? That’s not a lot.</div><br/></div></div><div id="39404579" class="c"><input type="checkbox" id="c-39404579" checked=""/><div class="controls bullet"><span class="by">dalton</span><span>|</span><a href="#39407717">prev</a><span>|</span><a href="#39405419">next</a><span>|</span><label class="collapse" for="c-39404579">[-]</label><label class="expand" for="c-39404579">[4 more]</label></div><br/><div class="children"><div class="content">For those curious, YC funded an open source financial ledger company in S21: <a href="https:&#x2F;&#x2F;github.com&#x2F;formancehq&#x2F;stack">https:&#x2F;&#x2F;github.com&#x2F;formancehq&#x2F;stack</a></div><br/><div id="39407148" class="c"><input type="checkbox" id="c-39407148" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#39404579">parent</a><span>|</span><a href="#39407184">next</a><span>|</span><label class="collapse" for="c-39407148">[-]</label><label class="expand" for="c-39407148">[1 more]</label></div><br/><div class="children"><div class="content">Did they implement Interledger Protocol (ILP) for their traditional or digital asset ledger? 
<a href="https:&#x2F;&#x2F;interledger.org&#x2F;developers&#x2F;rfcs&#x2F;interledger-protocol&#x2F;" rel="nofollow">https:&#x2F;&#x2F;interledger.org&#x2F;developers&#x2F;rfcs&#x2F;interledger-protocol...</a></div><br/></div></div><div id="39407184" class="c"><input type="checkbox" id="c-39407184" checked=""/><div class="controls bullet"><span class="by">brunoqc</span><span>|</span><a href="#39404579">parent</a><span>|</span><a href="#39407148">prev</a><span>|</span><a href="#39404607">next</a><span>|</span><label class="collapse" for="c-39407184">[-]</label><label class="expand" for="c-39407184">[1 more]</label></div><br/><div class="children"><div class="content">I guess it&#x27;s &quot;open core&quot;. &quot;View license&quot;</div><br/></div></div><div id="39404607" class="c"><input type="checkbox" id="c-39404607" checked=""/><div class="controls bullet"><span class="by">neoecos</span><span>|</span><a href="#39404579">parent</a><span>|</span><a href="#39407184">prev</a><span>|</span><a href="#39405419">next</a><span>|</span><label class="collapse" for="c-39404607">[-]</label><label class="expand" for="c-39404607">[1 more]</label></div><br/><div class="children"><div class="content">It is actually a very good product.</div><br/></div></div></div></div><div id="39405419" class="c"><input type="checkbox" id="c-39405419" checked=""/><div class="controls bullet"><span class="by">reese_john</span><span>|</span><a href="#39404579">prev</a><span>|</span><a href="#39404671">next</a><span>|</span><label class="collapse" for="c-39405419">[-]</label><label class="expand" for="c-39405419">[9 more]</label></div><br/><div class="children"><div class="content">&gt; Even when we have billions of transactions, a single missing, late, or incorrect transaction immediately creates a detectable accuracy issue with a simple query—for example, “Find the clearing Accounts with nonzero balance.”<p>How do you deal with <i>float</i>, transactions where the first leg happens in T+0 but settlement is done in T+N ? Do the clearing accounts have a flag&#x2F;mark allowing for a nonzero balance?</div><br/><div id="39405467" class="c"><input type="checkbox" id="c-39405467" checked=""/><div class="controls bullet"><span class="by">ilganeli</span><span>|</span><a href="#39405419">parent</a><span>|</span><a href="#39406135">next</a><span>|</span><label class="collapse" for="c-39405467">[-]</label><label class="expand" for="c-39405467">[3 more]</label></div><br/><div class="children"><div class="content">We model a timestamp which functionally is &quot;when does this activity go on the books&quot;? We compute clearing both based on this &quot;effective_at&quot; and a &quot;system time&quot; (there are some business functions with known periodicity and it makes for a useful debugging tool).<p>Long-clearing activity makes for some interesting business cases and long-standing float obviously can lead to some detection noise. For example, Brazil has uniquely long settlement times.</div><br/><div id="39405863" class="c"><input type="checkbox" id="c-39405863" checked=""/><div class="controls bullet"><span class="by">dwightboyyy</span><span>|</span><a href="#39405419">root</a><span>|</span><a href="#39405467">parent</a><span>|</span><a href="#39406135">next</a><span>|</span><label class="collapse" for="c-39405863">[-]</label><label class="expand" for="c-39405863">[2 more]</label></div><br/><div class="children"><div class="content">I work with payments in a bank in Brazil and as I was reading the question I thought &quot;interesting question, here we have a great &#x27;delay&#x27; in clearances and very old and very complex government-embedded systems to deal with it, funny to see that you know about it too.<p>btw, are you familiar with Pix?
<a href="https:&#x2F;&#x2F;www.bcb.gov.br&#x2F;en&#x2F;financialstability&#x2F;pix_en" rel="nofollow">https:&#x2F;&#x2F;www.bcb.gov.br&#x2F;en&#x2F;financialstability&#x2F;pix_en</a></div><br/><div id="39406163" class="c"><input type="checkbox" id="c-39406163" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#39405419">root</a><span>|</span><a href="#39405863">parent</a><span>|</span><a href="#39406135">next</a><span>|</span><label class="collapse" for="c-39406163">[-]</label><label class="expand" for="c-39406163">[1 more]</label></div><br/><div class="children"><div class="content">Well at least some people there should be familiar with it -  <a href="https:&#x2F;&#x2F;docs.stripe.com&#x2F;payments&#x2F;pix" rel="nofollow">https:&#x2F;&#x2F;docs.stripe.com&#x2F;payments&#x2F;pix</a></div><br/></div></div></div></div></div></div><div id="39406135" class="c"><input type="checkbox" id="c-39406135" checked=""/><div class="controls bullet"><span class="by">lapusta</span><span>|</span><a href="#39405419">parent</a><span>|</span><a href="#39405467">prev</a><span>|</span><a href="#39406001">next</a><span>|</span><label class="collapse" for="c-39406135">[-]</label><label class="expand" for="c-39406135">[1 more]</label></div><br/><div class="children"><div class="content">Many systems have concepts of booking date &amp; value date <a href="https:&#x2F;&#x2F;support.mambu.com&#x2F;docs&#x2F;booking-date-vs-value-date" rel="nofollow">https:&#x2F;&#x2F;support.mambu.com&#x2F;docs&#x2F;booking-date-vs-value-date</a><p>You may also have suspense accounts for certain types of use cases: <a href="https:&#x2F;&#x2F;gocardless.com&#x2F;en-us&#x2F;guides&#x2F;posts&#x2F;what-is-a-suspense-account&#x2F;" rel="nofollow">https:&#x2F;&#x2F;gocardless.com&#x2F;en-us&#x2F;guides&#x2F;posts&#x2F;what-is-a-suspense...</a></div><br/></div></div><div id="39406001" class="c"><input type="checkbox" id="c-39406001" checked=""/><div class="controls bullet"><span class="by">SmellTheGlove</span><span>|</span><a href="#39405419">parent</a><span>|</span><a href="#39406135">prev</a><span>|</span><a href="#39405468">next</a><span>|</span><label class="collapse" for="c-39406001">[-]</label><label class="expand" for="c-39406001">[1 more]</label></div><br/><div class="children"><div class="content">Not the author, but know a little bit about this. You’re describing a payable or receivable, depending on the direction of the funds flow you’re thinking about.  You’d have an account for the payable&#x2F;receivable that should clear. If it doesn’t do that by the expected settlement date, someone or something needs to go look and find out why. The settlement date itself should be predictable based on properties of the submitted transaction and the network&#x2F;scheme reporting.</div><br/></div></div><div id="39405468" class="c"><input type="checkbox" id="c-39405468" checked=""/><div class="controls bullet"><span class="by">milesskorpen</span><span>|</span><a href="#39405419">parent</a><span>|</span><a href="#39406001">prev</a><span>|</span><a href="#39406252">next</a><span>|</span><label class="collapse" for="c-39405468">[-]</label><label class="expand" for="c-39405468">[2 more]</label></div><br/><div class="children"><div class="content">The general way you&#x27;d handle this is with undeposited or in-transit ledgers. Funds would go Account A &gt; Undeposited Account B &gt; Deposited Account B, where they&#x27;re typically in Undeposited Account B for N days. All ledgers would balance.</div><br/><div id="39406620" class="c"><input type="checkbox" id="c-39406620" checked=""/><div class="controls bullet"><span class="by">lijok</span><span>|</span><a href="#39405419">root</a><span>|</span><a href="#39405468">parent</a><span>|</span><a href="#39406252">next</a><span>|</span><label class="collapse" for="c-39406620">[-]</label><label class="expand" for="c-39406620">[1 more]</label></div><br/><div class="children"><div class="content">Second. That&#x27;s exactly how we handle all money flow state transitions in our ledgers.</div><br/></div></div></div></div><div id="39406252" class="c"><input type="checkbox" id="c-39406252" checked=""/><div class="controls bullet"><span class="by">kfrzcode</span><span>|</span><a href="#39405419">parent</a><span>|</span><a href="#39405468">prev</a><span>|</span><a href="#39404671">next</a><span>|</span><label class="collapse" for="c-39406252">[-]</label><label class="expand" for="c-39406252">[1 more]</label></div><br/><div class="children"><div class="content">Using Hedera hashgraph would be interesting</div><br/></div></div></div></div><div id="39404671" class="c"><input type="checkbox" id="c-39404671" checked=""/><div class="controls bullet"><span class="by">ericyd</span><span>|</span><a href="#39405419">prev</a><span>|</span><a href="#39404827">next</a><span>|</span><label class="collapse" for="c-39404671">[-]</label><label class="expand" for="c-39404671">[9 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure who is the audience of this article. I&#x27;ve worked in fintech and have read several practical guides on ledgers and found them interesting reads. In contrast, this one is laden with overly verbose language whose meaning is unclear, such as<p>&gt; Transaction-level fund flows give us powerful tools to reason about complex interconnected subcomponents.<p>This article reads as a fluff piece for investors to me; it&#x27;s primary purpose seems to be boasting about their own quality while offering only the smallest of breadcrumbs about the underlying system.<p>I&#x27;d be curious if others have a different read, and found this to be more insightful&#x2F;interesting, and why.</div><br/><div id="39405305" class="c"><input type="checkbox" id="c-39405305" checked=""/><div class="controls bullet"><span class="by">dghlsakjg</span><span>|</span><a href="#39404671">parent</a><span>|</span><a href="#39405128">next</a><span>|</span><label class="collapse" for="c-39405305">[-]</label><label class="expand" for="c-39405305">[6 more]</label></div><br/><div class="children"><div class="content">Stripe strongly encourages writing for its own sake. So much so that they run their own press. I suspect the intended audience is whoever is curious for a medium depth primer in what a ledger looks like for a company handling billions of transactions.<p>As someone in payment tech I found it very interesting.</div><br/><div id="39405407" class="c"><input type="checkbox" id="c-39405407" checked=""/><div class="controls bullet"><span class="by">ilganeli</span><span>|</span><a href="#39404671">root</a><span>|</span><a href="#39405305">parent</a><span>|</span><a href="#39406700">next</a><span>|</span><label class="collapse" for="c-39405407">[-]</label><label class="expand" for="c-39405407">[4 more]</label></div><br/><div class="children"><div class="content">Hello! I am the author. Thank you for the comment.<p>While Stripe does love to write, I think our core premise here was that being able to reason mathematically about independent distributed systems was a unique application of a ledger. Likewise, we think the data quality offering is a unique extension since it gives us tools to make improvements to our systems over time.</div><br/><div id="39406965" class="c"><input type="checkbox" id="c-39406965" checked=""/><div class="controls bullet"><span class="by">leviathant</span><span>|</span><a href="#39404671">root</a><span>|</span><a href="#39405407">parent</a><span>|</span><a href="#39406724">next</a><span>|</span><label class="collapse" for="c-39406965">[-]</label><label class="expand" for="c-39406965">[1 more]</label></div><br/><div class="children"><div class="content">This must be what it&#x27;s like when someone overhears me and a colleague talking about enterprise ecommerce integration on our way to get lunch.</div><br/></div></div><div id="39406724" class="c"><input type="checkbox" id="c-39406724" checked=""/><div class="controls bullet"><span class="by">newZWhoDis</span><span>|</span><a href="#39404671">root</a><span>|</span><a href="#39405407">parent</a><span>|</span><a href="#39406965">prev</a><span>|</span><a href="#39406700">next</a><span>|</span><label class="collapse" for="c-39406724">[-]</label><label class="expand" for="c-39406724">[2 more]</label></div><br/><div class="children"><div class="content">I’m sorry but was this comment satire? It certainly reads like it and I’m trying to decide if I should laugh with it or criticize the tone deaf response.<p>“Our core premise was that being able to use math on spreadsheets is powerful”<p>“Likewise, we think plugging numbers into an analytics platform that PMs can query might improve product”<p>I’m getting some real McKinsey vibes here</div><br/><div id="39407532" class="c"><input type="checkbox" id="c-39407532" checked=""/><div class="controls bullet"><span class="by">15457345234</span><span>|</span><a href="#39404671">root</a><span>|</span><a href="#39406724">parent</a><span>|</span><a href="#39406700">next</a><span>|</span><label class="collapse" for="c-39407532">[-]</label><label class="expand" for="c-39407532">[1 more]</label></div><br/><div class="children"><div class="content">I had to read it a few times too, I&#x27;m still not entirely convinced that &quot;being able to reason mathematically about independent distributed systems was a unique application of a ledger&quot; actually parses into anything.<p>Is &#x27;being able to reason&#x27; an &#x27;application of a&#x27; ?<p>It looks... off</div><br/></div></div></div></div></div></div><div id="39406700" class="c"><input type="checkbox" id="c-39406700" checked=""/><div class="controls bullet"><span class="by">newZWhoDis</span><span>|</span><a href="#39404671">root</a><span>|</span><a href="#39405305">parent</a><span>|</span><a href="#39405407">prev</a><span>|</span><a href="#39405128">next</a><span>|</span><label class="collapse" for="c-39406700">[-]</label><label class="expand" for="c-39406700">[1 more]</label></div><br/><div class="children"><div class="content">As someone looking to setup $5m&#x2F;year in a small side business I was frustrated to learn stripe categorically bans what I was planning. I’m on Braintree now and assumed stripe would be better. Now looking for alternatives.</div><br/></div></div></div></div><div id="39405128" class="c"><input type="checkbox" id="c-39405128" checked=""/><div class="controls bullet"><span class="by">ian0</span><span>|</span><a href="#39404671">parent</a><span>|</span><a href="#39405305">prev</a><span>|</span><a href="#39404827">next</a><span>|</span><label class="collapse" for="c-39405128">[-]</label><label class="expand" for="c-39405128">[2 more]</label></div><br/><div class="children"><div class="content">&gt; have read several practical guides on ledgers and found them interesting reads<p>Can you share some links?</div><br/><div id="39405472" class="c"><input type="checkbox" id="c-39405472" checked=""/><div class="controls bullet"><span class="by">milesskorpen</span><span>|</span><a href="#39404671">root</a><span>|</span><a href="#39405128">parent</a><span>|</span><a href="#39404827">next</a><span>|</span><label class="collapse" for="c-39405472">[-]</label><label class="expand" for="c-39405472">[1 more]</label></div><br/><div class="children"><div class="content">Modern Treasury has some great docs: <a href="https:&#x2F;&#x2F;www.moderntreasury.com&#x2F;learn&#x2F;what-is-a-ledger" rel="nofollow">https:&#x2F;&#x2F;www.moderntreasury.com&#x2F;learn&#x2F;what-is-a-ledger</a></div><br/></div></div></div></div></div></div><div id="39404827" class="c"><input type="checkbox" id="c-39404827" checked=""/><div class="controls bullet"><span class="by">kaycebasques</span><span>|</span><a href="#39404671">prev</a><span>|</span><a href="#39407592">next</a><span>|</span><label class="collapse" for="c-39404827">[-]</label><label class="expand" for="c-39404827">[3 more]</label></div><br/><div class="children"><div class="content">How is Stripe doing? There seems to be less HN front page news about Stripe these days.</div><br/><div id="39405204" class="c"><input type="checkbox" id="c-39405204" checked=""/><div class="controls bullet"><span class="by">joshmanders</span><span>|</span><a href="#39404827">parent</a><span>|</span><a href="#39406964">next</a><span>|</span><label class="collapse" for="c-39405204">[-]</label><label class="expand" for="c-39405204">[1 more]</label></div><br/><div class="children"><div class="content">Things that just work quickly become boring and untalkworthy. Stripe is still king.</div><br/></div></div><div id="39406964" class="c"><input type="checkbox" id="c-39406964" checked=""/><div class="controls bullet"><span class="by">hitekker</span><span>|</span><a href="#39404827">parent</a><span>|</span><a href="#39405204">prev</a><span>|</span><a href="#39407592">next</a><span>|</span><label class="collapse" for="c-39406964">[-]</label><label class="expand" for="c-39406964">[1 more]</label></div><br/><div class="children"><div class="content">Internally, pretty messy, lots of burn out. Some of the big names they hired and the products they championed flamed out or became irrelevant.<p>However, they still have decent numbers to show their investors.</div><br/></div></div></div></div><div id="39406791" class="c"><input type="checkbox" id="c-39406791" checked=""/><div class="controls bullet"><span class="by">hanniabu</span><span>|</span><a href="#39407592">prev</a><span>|</span><label class="collapse" for="c-39406791">[-]</label><label class="expand" for="c-39406791">[2 more]</label></div><br/><div class="children"><div class="content">Or just use a blockchain for settlement</div><br/><div id="39407088" class="c"><input type="checkbox" id="c-39407088" checked=""/><div class="controls bullet"><span class="by">jakewins</span><span>|</span><a href="#39406791">parent</a><span>|</span><label class="collapse" for="c-39407088">[-]</label><label class="expand" for="c-39407088">[1 more]</label></div><br/><div class="children"><div class="content">This processes three orders of magnitude more transactions per day than ethereum.<p>What would blockchain possibly be helpful with here?</div><br/></div></div></div></div></div></div></div></div></div></body></html>