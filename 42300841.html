<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733216467547" as="style"/><link rel="stylesheet" href="styles.css?v=1733216467547"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.elodin.systems/post/a-better-approach-to-gravity-how-we-made-egm2008-faster">A better approach to gravity: how we made EGM2008 faster</a> <span class="domain">(<a href="https://www.elodin.systems">www.elodin.systems</a>)</span></div><div class="subtext"><span>sphw</span> | <span>19 comments</span></div><br/><div><div id="42301234" class="c"><input type="checkbox" id="c-42301234" checked=""/><div class="controls bullet"><span class="by">perihelions</span><span>|</span><a href="#42301998">next</a><span>|</span><label class="collapse" for="c-42301234">[-]</label><label class="expand" for="c-42301234">[2 more]</label></div><br/><div class="children"><div class="content">Do I understand right, that it&#x27;s summing ~2 million spherical harmonic terms, and the optimization is that that&#x27;s accomplished in ~200 ms (per test point?)? Does this force field feed into something like a Runge-Kutta solver for predicting orbits? (I don&#x27;t know much about orbital mechanics).</div><br/><div id="42301478" class="c"><input type="checkbox" id="c-42301478" checked=""/><div class="controls bullet"><span class="by">sphw</span><span>|</span><a href="#42301234">parent</a><span>|</span><a href="#42301998">next</a><span>|</span><label class="collapse" for="c-42301478">[-]</label><label class="expand" for="c-42301478">[1 more]</label></div><br/><div class="children"><div class="content">Yup, your understanding is correct. When set to full fidelity, it computes and sums 2,331,720 terms. What we optimized is the way the spherical harmonics are generated, which allows for the generation and summation to happen in less than 250 ms. Once that force information is generated, it is passed to a semi-implicit integrator – we also support RK4, but this test was using semi-implicit. That allows you to run orbital dynamics simulations; our primary use case is for testing satellite control systems.</div><br/></div></div></div></div><div id="42301998" class="c"><input type="checkbox" id="c-42301998" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#42301234">prev</a><span>|</span><a href="#42301891">next</a><span>|</span><label class="collapse" for="c-42301998">[-]</label><label class="expand" for="c-42301998">[6 more]</label></div><br/><div class="children"><div class="content">Technical nit: spherical harmonics are used in quantum mechanics but were developed for classical mechanics.</div><br/><div id="42303080" class="c"><input type="checkbox" id="c-42303080" checked=""/><div class="controls bullet"><span class="by">sphw</span><span>|</span><a href="#42301998">parent</a><span>|</span><a href="#42302177">next</a><span>|</span><label class="collapse" for="c-42303080">[-]</label><label class="expand" for="c-42303080">[2 more]</label></div><br/><div class="children"><div class="content">Fair point. We will fix the language up</div><br/><div id="42303478" class="c"><input type="checkbox" id="c-42303478" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#42301998">root</a><span>|</span><a href="#42303080">parent</a><span>|</span><a href="#42302177">next</a><span>|</span><label class="collapse" for="c-42303478">[-]</label><label class="expand" for="c-42303478">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a pretty minor point, but the pedant in me appreciates it nonetheless!<p>It&#x27;s also true that since most people are not subjected to the horrors of learning about PDEs, the place where they may be exposed to spherical harmonics is in atomic orbitals from  high school chemistry, so I could see where you were coming from.</div><br/></div></div></div></div><div id="42302177" class="c"><input type="checkbox" id="c-42302177" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#42301998">parent</a><span>|</span><a href="#42303080">prev</a><span>|</span><a href="#42302486">next</a><span>|</span><label class="collapse" for="c-42302177">[-]</label><label class="expand" for="c-42302177">[2 more]</label></div><br/><div class="children"><div class="content">Where do they show up in classical mechanics?</div><br/><div id="42302316" class="c"><input type="checkbox" id="c-42302316" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#42301998">root</a><span>|</span><a href="#42302177">parent</a><span>|</span><a href="#42302486">next</a><span>|</span><label class="collapse" for="c-42302316">[-]</label><label class="expand" for="c-42302316">[1 more]</label></div><br/><div class="children"><div class="content">Anywhere you have to solve the Laplace equation in spherical coordinates. For example with the gravitational field.</div><br/></div></div></div></div><div id="42302486" class="c"><input type="checkbox" id="c-42302486" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#42301998">parent</a><span>|</span><a href="#42302177">prev</a><span>|</span><a href="#42301891">next</a><span>|</span><label class="collapse" for="c-42302486">[-]</label><label class="expand" for="c-42302486">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think that there is any need for &quot;Technical nit:&quot; and it looks a bit aggressive to me and without any substantiation.<p>Why not say your piece and be done at that point in time?  You can respond to counter arguments as they arise in child comments.<p>Why not kick off with &quot;Here at {wherever}, we find that ... crossing the streams is a really bad idea&quot; or similar?</div><br/></div></div></div></div><div id="42301891" class="c"><input type="checkbox" id="c-42301891" checked=""/><div class="controls bullet"><span class="by">landosaari</span><span>|</span><a href="#42301998">prev</a><span>|</span><a href="#42301378">next</a><span>|</span><label class="collapse" for="c-42301891">[-]</label><label class="expand" for="c-42301891">[1 more]</label></div><br/><div class="children"><div class="content">Related: Dr. Martin used PINN for creating a gravity model [0] and video [1].<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;MartinAstro&#x2F;GravNN">https:&#x2F;&#x2F;github.com&#x2F;MartinAstro&#x2F;GravNN</a><p>[1] <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=1UNtZ4sOVEI" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=1UNtZ4sOVEI</a></div><br/></div></div><div id="42301378" class="c"><input type="checkbox" id="c-42301378" checked=""/><div class="controls bullet"><span class="by">defrost</span><span>|</span><a href="#42301891">prev</a><span>|</span><a href="#42302979">next</a><span>|</span><label class="collapse" for="c-42301378">[-]</label><label class="expand" for="c-42301378">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Who’s the fastest kid on the block now, MATLAB?<p>Was MATLAB ever the fastest kid?<p>What&#x27;s outlined in the article has, from my PoV at least, been true since 1980 at least (and older coders will likely in with earlier tales): handy implementation and simulation libraries generally work and provide good reference results to check against but almost always you can get a magnitude order faster if you can put the time in.<p>I put the earlier pre-2008 epoch models for earths gravity and magnetics through a similar workout sometime ago, for our use case we spent some time and money to make a custom TI DSP chip pipeline to get the turn around that made data exploration playful rather than an overnight grind.</div><br/></div></div><div id="42302979" class="c"><input type="checkbox" id="c-42302979" checked=""/><div class="controls bullet"><span class="by">Scaevolus</span><span>|</span><a href="#42301378">prev</a><span>|</span><a href="#42303059">next</a><span>|</span><label class="collapse" for="c-42302979">[-]</label><label class="expand" for="c-42302979">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the accuracy&#x2F;speed tradeoff for thus model compared to one based on computing density points and using Barnes-Hut?</div><br/><div id="42303149" class="c"><input type="checkbox" id="c-42303149" checked=""/><div class="controls bullet"><span class="by">sphw</span><span>|</span><a href="#42302979">parent</a><span>|</span><a href="#42303059">next</a><span>|</span><label class="collapse" for="c-42303149">[-]</label><label class="expand" for="c-42303149">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve never seen anyone use Barnes-Hut for an earth gravity model. I&#x27;d be curious to see how an implementation like that would work. I think Barnes-Hut is typically used for large N-body simulations where each particle moves independently, like for galactic simulations.<p>One of the biggest barriers to alternate geopotential models is the availability of trusted data-sets. In another comment someone linked to a PINN based method that looks super promising</div><br/></div></div></div></div><div id="42303059" class="c"><input type="checkbox" id="c-42303059" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#42302979">prev</a><span>|</span><a href="#42302019">next</a><span>|</span><label class="collapse" for="c-42303059">[-]</label><label class="expand" for="c-42303059">[1 more]</label></div><br/><div class="children"><div class="content">No offense but this doesn&#x27;t seem &quot;revolutionary&quot; at all &#x2F; people have been doing hierarchical representations and multipole expansions since forever. The presentation of a single fixed-resolution bitmap of dense equations with no introduction of terms feels like it&#x27;s trying to do proof by intimidation.<p>When doing path guiding in Monte Carlo path tracing you often have lots of nasty low probability &#x2F; high contribution paths that make gravitational simulation seem easy. After all, if you can a-priori simulate light paths efficiently, then you can efficiently solve optical computers &#x2F; the Halting Problem.</div><br/></div></div><div id="42302019" class="c"><input type="checkbox" id="c-42302019" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#42303059">prev</a><span>|</span><a href="#42303613">next</a><span>|</span><label class="collapse" for="c-42302019">[-]</label><label class="expand" for="c-42302019">[3 more]</label></div><br/><div class="children"><div class="content">Disable NextDNS or other DNS Adblock tools if the site doesn&#x27;t load the content.</div><br/><div id="42302765" class="c"><input type="checkbox" id="c-42302765" checked=""/><div class="controls bullet"><span class="by">Diti</span><span>|</span><a href="#42302019">parent</a><span>|</span><a href="#42303613">next</a><span>|</span><label class="collapse" for="c-42302765">[-]</label><label class="expand" for="c-42302765">[2 more]</label></div><br/><div class="children"><div class="content">Thank you for giving a plausible explanation as to why the main content of the website doesn’t load, but the rest does! Looking at my NextDNS logs, the website does indeed seem to have plenty of telemetry. I’ll keep it blocked.</div><br/><div id="42302786" class="c"><input type="checkbox" id="c-42302786" checked=""/><div class="controls bullet"><span class="by">tommgurka</span><span>|</span><a href="#42302019">root</a><span>|</span><a href="#42302765">parent</a><span>|</span><a href="#42303613">next</a><span>|</span><label class="collapse" for="c-42302786">[-]</label><label class="expand" for="c-42302786">[1 more]</label></div><br/><div class="children"><div class="content">Sorry to hear you had to block the site - Do you have issues loading other webflow sites because of NextDNS? I&#x27;ve found many threads on issues between them - but not much in the way of a solution.</div><br/></div></div></div></div></div></div><div id="42303613" class="c"><input type="checkbox" id="c-42303613" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#42302019">prev</a><span>|</span><label class="collapse" for="c-42303613">[-]</label><label class="expand" for="c-42303613">[1 more]</label></div><br/><div class="children"><div class="content">TL;DR: JAX (the GPU-accelerated Python ML framework)<p>Pretty cool to see applications of all this good stuff developed for ML in other areas! I guess a side effect is that the calculations should now be differentiable and you could optimize various parameters using gradient descent if you wanted. You could even use it as a component of a neural net and backpropagate gradients through it.<p>Also it&#x27;s not clear if they used GPUs but they probably could for an even better speedup in a scenario with large batches of calculations.</div><br/></div></div></div></div></div></div></div></body></html>