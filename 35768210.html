<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1682931674111" as="style"/><link rel="stylesheet" href="styles.css?v=1682931674111"/><link rel="apple-touch-startup-image" href="https://png.pngtree.com/png-clipart/20210309/original/pngtree-a-squatting-tabby-cat-png-image_5803660.jpg"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/microsoft/vscode-wasm/commit/0cdb9997d83bae116bb7693ba6837ffa812425a7">VSCode-WASM: Implement a first version of a WebShell</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>tech234a</span> | <span>9 comments</span></div><br/><div><div id="35768888" class="c"><input type="checkbox" id="c-35768888" checked=""/><div class="controls bullet"><span class="by">syrusakbary</span><span>|</span><a href="#35769853">next</a><span>|</span><label class="collapse" for="c-35768888">[-]</label><label class="expand" for="c-35768888">[5 more]</label></div><br/><div class="children"><div class="content">The goal of the extension is great, as it allows developers to use WASI easily when creating new extensions. Mad props to the team that worked on it.<p>But is unfortunate that they used literally the name of the most famous extension for WebAssembly in VSCode (vscode-wasm), which has been around already for a few years, as it might confuse people on what is what:<p><a href="https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=dtsvet.vscode-wasm" rel="nofollow">https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=dtsvet.v...</a> (113k installations)<p>Repo here:
<a href="https:&#x2F;&#x2F;github.com&#x2F;wasmerio&#x2F;vscode-wasm">https:&#x2F;&#x2F;github.com&#x2F;wasmerio&#x2F;vscode-wasm</a></div><br/><div id="35769253" class="c"><input type="checkbox" id="c-35769253" checked=""/><div class="controls bullet"><span class="by">nl</span><span>|</span><a href="#35768888">parent</a><span>|</span><a href="#35769853">next</a><span>|</span><label class="collapse" for="c-35769253">[-]</label><label class="expand" for="c-35769253">[4 more]</label></div><br/><div class="children"><div class="content">&gt; allows developers to use WASI easily when creating new extensions<p>What is WASI?</div><br/><div id="35769471" class="c"><input type="checkbox" id="c-35769471" checked=""/><div class="controls bullet"><span class="by">cjbprime</span><span>|</span><a href="#35768888">root</a><span>|</span><a href="#35769253">parent</a><span>|</span><a href="#35769460">next</a><span>|</span><label class="collapse" for="c-35769471">[-]</label><label class="expand" for="c-35769471">[1 more]</label></div><br/><div class="children"><div class="content">Am not expert, but here&#x27;s the understanding I&#x27;ve picked up:<p>When you use JavaScript through Node, your JS gets the ability to open files and make network sockets and so on, because there are a set of APIs implemented by Node and exposed to your JS code, like so:<p>JS &lt;-&gt; native APIs &lt;-&gt; Node implementation of platform-specific operations<p>WASI applies to WebAssembly instead of JS.  So again if we&#x27;re on Node:<p>wasm &lt;-&gt; native APIs (WASI) &lt;-&gt; Node implementation of platform-specific operations<p>But WASI is much more general than Node&#x27;s APIs, and meant to be used by different engines in different environments (browsers, native bindings, etc).</div><br/></div></div><div id="35769460" class="c"><input type="checkbox" id="c-35769460" checked=""/><div class="controls bullet"><span class="by">nindalf</span><span>|</span><a href="#35768888">root</a><span>|</span><a href="#35769253">parent</a><span>|</span><a href="#35769471">prev</a><span>|</span><a href="#35769342">next</a><span>|</span><label class="collapse" for="c-35769460">[-]</label><label class="expand" for="c-35769460">[1 more]</label></div><br/><div class="children"><div class="content">&gt; WASI stands for WebAssembly System Interface. It&#x27;s an API designed by the Wasmtime project that provides access to several operating-system-like features, including files and filesystems, Berkeley sockets, clocks, and random numbers, that we&#x27;ll be proposing for standardization.<p>Read more here - <a href="https:&#x2F;&#x2F;github.com&#x2F;bytecodealliance&#x2F;wasmtime&#x2F;blob&#x2F;main&#x2F;docs&#x2F;WASI-intro.md">https:&#x2F;&#x2F;github.com&#x2F;bytecodealliance&#x2F;wasmtime&#x2F;blob&#x2F;main&#x2F;docs&#x2F;...</a></div><br/></div></div><div id="35769342" class="c"><input type="checkbox" id="c-35769342" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#35768888">root</a><span>|</span><a href="#35769253">parent</a><span>|</span><a href="#35769460">prev</a><span>|</span><a href="#35769853">next</a><span>|</span><label class="collapse" for="c-35769342">[-]</label><label class="expand" for="c-35769342">[1 more]</label></div><br/><div class="children"><div class="content">API for Webassembly. Common interface.</div><br/></div></div></div></div></div></div><div id="35769853" class="c"><input type="checkbox" id="c-35769853" checked=""/><div class="controls bullet"><span class="by">yewenjie</span><span>|</span><a href="#35768888">prev</a><span>|</span><a href="#35768817">next</a><span>|</span><label class="collapse" for="c-35769853">[-]</label><label class="expand" for="c-35769853">[1 more]</label></div><br/><div class="children"><div class="content">It is kind of sad that Monaco (VS Code&#x27;s editor as a JS web component) still doesn&#x27;t support tree-sitter.</div><br/></div></div><div id="35768817" class="c"><input type="checkbox" id="c-35768817" checked=""/><div class="controls bullet"><span class="by">rektide</span><span>|</span><a href="#35769853">prev</a><span>|</span><label class="collapse" for="c-35768817">[-]</label><label class="expand" for="c-35768817">[2 more]</label></div><br/><div class="children"><div class="content">Getting a FS going on the web has been such a brutal slog for me. There&#x27;s some pretty decent existing projects lole lightning-fs but it feels like the web APIs have been changing &amp; changing &amp; I keep wanting newer.<p>Very cool to see this nicely tackled. Still poking around but seems integrative with wasi, which hopefully grows closer &amp; closer with good fast web APIs. There&#x27;s been a ton of criticism I think justly so that neither the wasi nor the web fs teams have spent much time trying to figure out how to work together, &amp; so there&#x27;s real peril possible too, but I think wasi is a much better much less hacked out model &amp; is probably the &quot;right&quot; real target. Having build in object capability sandbox security puts it lightyears beyond what the web spec folk have been up to, and the rest of their fs model is also much much better built out.<p>Alas it just means that running on the web the target so going to be primarily in-memory for a long time because the web spec folk seem so uninterested in doing a good actual filesystems impl. Origin Private File System seems to be the one place there&#x27;s interest in being fast at all, and they seem overwhelmingly concerned about making sqlite in emscripted fast &amp; not a ton else. What we would do for real wasi on the web!<p>Already a very solid start building out coreutils.  There&#x27;s a bunch of similar ish efforts out there already, building JS impls of core utils. For example, posix-tools, <a href="https:&#x2F;&#x2F;github.com&#x2F;shama&#x2F;posix-tools">https:&#x2F;&#x2F;github.com&#x2F;shama&#x2F;posix-tools</a></div><br/><div id="35769536" class="c"><input type="checkbox" id="c-35769536" checked=""/><div class="controls bullet"><span class="by">jakear</span><span>|</span><a href="#35768817">parent</a><span>|</span><label class="collapse" for="c-35769536">[-]</label><label class="expand" for="c-35769536">[1 more]</label></div><br/><div class="children"><div class="content">&gt; running on the web the target so going to be primarily in-memory for a long time<p>What do you mean by this? FS implementations I&#x27;ve seen (including lightning-fs) use IndexedDB for the backing store, which is not &quot;in-memory&quot;. I authored VS Code&#x27;s web file system driver and it also uses IndexedDB, which I didn&#x27;t see evidence of being memory-constrained. Furthermore, there&#x27;s the File System Access API for web which is also not in-memory (I also authored VS Code&#x27;s driver for that...)</div><br/></div></div></div></div></div></div></div></div></div></body></html>