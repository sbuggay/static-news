<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689498054811" as="style"/><link rel="stylesheet" href="styles.css?v=1689498054811"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.phoronix.com/news/Linux-Device-Memory-TCP">Linux Code for “Device Memory TCP” – Network to/from Accelerator RAM</a> <span class="domain">(<a href="https://www.phoronix.com">www.phoronix.com</a>)</span></div><div class="subtext"><span>ksec</span> | <span>8 comments</span></div><br/><div><div id="36744435" class="c"><input type="checkbox" id="c-36744435" checked=""/><div class="controls bullet"><span class="by">buildbot</span><span>|</span><a href="#36744398">next</a><span>|</span><label class="collapse" for="c-36744435">[-]</label><label class="expand" for="c-36744435">[4 more]</label></div><br/><div class="children"><div class="content">How is this better than RDMA that is already well supported?<p>At least with mellanox stuff the last time I touched it, there were I think four levels of reliability, one of which matched TCP.</div><br/><div id="36744751" class="c"><input type="checkbox" id="c-36744751" checked=""/><div class="controls bullet"><span class="by">yokaze</span><span>|</span><a href="#36744435">parent</a><span>|</span><a href="#36744460">next</a><span>|</span><label class="collapse" for="c-36744751">[-]</label><label class="expand" for="c-36744751">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s different. Rdma offloads the TCP transfer of host memory to the network device. This is about transferring device memory directly, avoiding going though the host.<p>Had to read through the lklm message, at it wasn&#x27;t clear from the article.</div><br/><div id="36744858" class="c"><input type="checkbox" id="c-36744858" checked=""/><div class="controls bullet"><span class="by">_zoltan_</span><span>|</span><a href="#36744435">root</a><span>|</span><a href="#36744751">parent</a><span>|</span><a href="#36744460">next</a><span>|</span><label class="collapse" for="c-36744858">[-]</label><label class="expand" for="c-36744858">[1 more]</label></div><br/><div class="children"><div class="content">RDMA does not offload TCP. Furthermore it&#x27;s not limited to between NIC memories - for example GPU memory to remote GPU memory works as well.</div><br/></div></div></div></div><div id="36744460" class="c"><input type="checkbox" id="c-36744460" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#36744435">parent</a><span>|</span><a href="#36744751">prev</a><span>|</span><a href="#36744398">next</a><span>|</span><label class="collapse" for="c-36744460">[-]</label><label class="expand" for="c-36744460">[1 more]</label></div><br/><div class="children"><div class="content">This sounds like it will work with existing TCP applications.</div><br/></div></div></div></div><div id="36744398" class="c"><input type="checkbox" id="c-36744398" checked=""/><div class="controls bullet"><span class="by">jand</span><span>|</span><a href="#36744435">prev</a><span>|</span><a href="#36744278">next</a><span>|</span><label class="collapse" for="c-36744398">[-]</label><label class="expand" for="c-36744398">[1 more]</label></div><br/><div class="children"><div class="content">Devmem TCP sounds a lot like direct memory access. Am i mistaken if i think of it as a security nightmare? Do you have by chance any links to security considerations?</div><br/></div></div><div id="36744278" class="c"><input type="checkbox" id="c-36744278" checked=""/><div class="controls bullet"><span class="by">arjvik</span><span>|</span><a href="#36744398">prev</a><span>|</span><label class="collapse" for="c-36744278">[-]</label><label class="expand" for="c-36744278">[2 more]</label></div><br/><div class="children"><div class="content">Somehow I think the overhead of TCP will be a lot more significant than the overhead of a copy from cache to memory.<p>Wouldn&#x27;t such a system make more sense for sending raw memory directly over the wire in some form of custom protocol? Even UDP would probably be able to approximate that.</div><br/><div id="36744317" class="c"><input type="checkbox" id="c-36744317" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#36744278">parent</a><span>|</span><label class="collapse" for="c-36744317">[-]</label><label class="expand" for="c-36744317">[1 more]</label></div><br/><div class="children"><div class="content">TCP lends itself well, I assume, because it:<p>- is supported everywhere<p>- allows massive reads and writes (whereas
UDP often has quite small limits before packets are dropped)<p>- is reliable (you wont lose data, your data won&#x27;t corrupt, etc)<p>So you could use this inside an existing datacenter, with existing hardware, and existing software to debug and monitor it.<p>If you send GB of memory, the TCP overhead is minimal.</div><br/></div></div></div></div></div></div></div></div></div></body></html>