<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1714986073264" as="style"/><link rel="stylesheet" href="styles.css?v=1714986073264"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ounapuu.ee/posts/2024/05/02/smartplugs/">Monitoring energy usage with smart plugs, Prometheus and Grafana</a> <span class="domain">(<a href="https://ounapuu.ee">ounapuu.ee</a>)</span></div><div class="subtext"><span>hddherman</span> | <span>137 comments</span></div><br/><div><div id="40267441" class="c"><input type="checkbox" id="c-40267441" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40268729">next</a><span>|</span><label class="collapse" for="c-40267441">[-]</label><label class="expand" for="c-40267441">[29 more]</label></div><br/><div class="children"><div class="content">I got a Zigbee power breaker and hooked it up so all my flat&#x27;s power goes through it, and then made an e-ink display to show my power consumption:<p><a href="https:&#x2F;&#x2F;www.stavros.io&#x2F;posts&#x2F;making-the-timeframe&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.stavros.io&#x2F;posts&#x2F;making-the-timeframe&#x2F;</a></div><br/><div id="40271773" class="c"><input type="checkbox" id="c-40271773" checked=""/><div class="controls bullet"><span class="by">danieldk</span><span>|</span><a href="#40267441">parent</a><span>|</span><a href="#40267509">next</a><span>|</span><label class="collapse" for="c-40271773">[-]</label><label class="expand" for="c-40271773">[4 more]</label></div><br/><div class="children"><div class="content">For people in The Netherlands: all Smart Meters that the net maintainers installed (are required to) support the P1 standard, which provides a standardized interface for customers to read out current current draw, cumulative power use, etc. Usually gas is hooked as well.<p>You can hook up a cheap dongle to expose the stats in an app. For instance, we use:<p><a href="https:&#x2F;&#x2F;www.homewizard.com&#x2F;nl&#x2F;shop&#x2F;wi-fi-p1-meter&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.homewizard.com&#x2F;nl&#x2F;shop&#x2F;wi-fi-p1-meter&#x2F;</a><p>This meter also exposes an API on the local network. I have written a small driver for the SmartThings Hub, so that you can get the stats&#x2F;graphs in the SmartThings app as well (we use a SmartThings hub for Zigbee&#x2F;Z-Wave devices):<p><a href="https:&#x2F;&#x2F;github.com&#x2F;danieldk&#x2F;homewizard-energy">https:&#x2F;&#x2F;github.com&#x2F;danieldk&#x2F;homewizard-energy</a></div><br/><div id="40272594" class="c"><input type="checkbox" id="c-40272594" checked=""/><div class="controls bullet"><span class="by">benhurmarcel</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40271773">parent</a><span>|</span><a href="#40272146">next</a><span>|</span><label class="collapse" for="c-40272594">[-]</label><label class="expand" for="c-40272594">[1 more]</label></div><br/><div class="children"><div class="content">Same in France, the official meters have an interface on which you can plug a Raspberry Pi for example to read the data live.</div><br/></div></div><div id="40272146" class="c"><input type="checkbox" id="c-40272146" checked=""/><div class="controls bullet"><span class="by">Maakuth</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40271773">parent</a><span>|</span><a href="#40272594">prev</a><span>|</span><a href="#40267509">next</a><span>|</span><label class="collapse" for="c-40272146">[-]</label><label class="expand" for="c-40272146">[2 more]</label></div><br/><div class="children"><div class="content">This applies to Finland and Sweden too, perhaps others to follow.</div><br/><div id="40272187" class="c"><input type="checkbox" id="c-40272187" checked=""/><div class="controls bullet"><span class="by">jononor</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40272146">parent</a><span>|</span><a href="#40267509">next</a><span>|</span><label class="collapse" for="c-40272187">[-]</label><label class="expand" for="c-40272187">[1 more]</label></div><br/><div class="children"><div class="content">Same principle in Norway, though it uses HAN instead of P1.</div><br/></div></div></div></div></div></div><div id="40267509" class="c"><input type="checkbox" id="c-40267509" checked=""/><div class="controls bullet"><span class="by">3abiton</span><span>|</span><a href="#40267441">parent</a><span>|</span><a href="#40271773">prev</a><span>|</span><a href="#40268555">next</a><span>|</span><label class="collapse" for="c-40267509">[-]</label><label class="expand" for="c-40267509">[3 more]</label></div><br/><div class="children"><div class="content">That was a great write up! I wish I had the time to follow-up this guide. Thanks for sharing it!</div><br/><div id="40267586" class="c"><input type="checkbox" id="c-40267586" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40267509">parent</a><span>|</span><a href="#40268139">next</a><span>|</span><label class="collapse" for="c-40267586">[-]</label><label class="expand" for="c-40267586">[1 more]</label></div><br/><div class="children"><div class="content">Thank you! It&#x27;s not very hard to use, you basically just flash my firmware and use my script to display images on the Timeframe. That&#x27;s about it.</div><br/></div></div><div id="40268139" class="c"><input type="checkbox" id="c-40268139" checked=""/><div class="controls bullet"><span class="by">hackernewds</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40267509">parent</a><span>|</span><a href="#40267586">prev</a><span>|</span><a href="#40268555">next</a><span>|</span><label class="collapse" for="c-40268139">[-]</label><label class="expand" for="c-40268139">[1 more]</label></div><br/><div class="children"><div class="content">Related to your comment so much, I got hurt</div><br/></div></div></div></div><div id="40268555" class="c"><input type="checkbox" id="c-40268555" checked=""/><div class="controls bullet"><span class="by">aksss</span><span>|</span><a href="#40267441">parent</a><span>|</span><a href="#40267509">prev</a><span>|</span><a href="#40267972">next</a><span>|</span><label class="collapse" for="c-40268555">[-]</label><label class="expand" for="c-40268555">[1 more]</label></div><br/><div class="children"><div class="content">I think the aliexpress link for the display is busted (as they do).<p>A natural integration would be with Home Assistant. I’m not sure if the Earu breaker has an OOTB integration with HA yet, beyond doing something like Zigbee2MQTT and configuring entities for readings. It’s a good pattern though - integrate meter with your automation hub, let the automation hub push the images to displays, for meter and everything else.</div><br/></div></div><div id="40267972" class="c"><input type="checkbox" id="c-40267972" checked=""/><div class="controls bullet"><span class="by">shrx</span><span>|</span><a href="#40267441">parent</a><span>|</span><a href="#40268555">prev</a><span>|</span><a href="#40267967">next</a><span>|</span><label class="collapse" for="c-40267972">[-]</label><label class="expand" for="c-40267972">[17 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious, which power breaker do you have?</div><br/><div id="40268263" class="c"><input type="checkbox" id="c-40268263" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40267972">parent</a><span>|</span><a href="#40267967">next</a><span>|</span><label class="collapse" for="c-40268263">[-]</label><label class="expand" for="c-40268263">[16 more]</label></div><br/><div class="children"><div class="content">This one: <a href="https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005657383634.html?spm=a2g0n.order_detail.order_detail_item.3.29d9f19cVGy4lV" rel="nofollow">https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005657383634.html?spm=a2...</a></div><br/><div id="40268452" class="c"><input type="checkbox" id="c-40268452" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268263">parent</a><span>|</span><a href="#40270227">next</a><span>|</span><label class="collapse" for="c-40268452">[-]</label><label class="expand" for="c-40268452">[14 more]</label></div><br/><div class="children"><div class="content">You&#x27;re running all your flat&#x27;s power through that $14 Chinese rubbish and never assumed that shortcuts were taken or quality would be an issue? How do you know it will continue to function as a circuit breaker and isn&#x27;t just a piece of wire inside?<p>For the uninitiated, CE marking is meaningless (it allows for self-certification).<p>I&#x27;d like to see Big Clive do a teardown of one of those.</div><br/><div id="40270128" class="c"><input type="checkbox" id="c-40270128" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268452">parent</a><span>|</span><a href="#40268505">next</a><span>|</span><label class="collapse" for="c-40270128">[-]</label><label class="expand" for="c-40270128">[2 more]</label></div><br/><div class="children"><div class="content">There are 2 ways to design these.  They could use a regular relay, or they could use a solid state relay.<p>Solid state relays have <i>widespread</i> fraud.   Like 60% of the ones on amazon will catch fire or fail before they hit the rated current.  Trade suppliers generally don&#x27;t sell them at &gt;30 amps.<p>Regular relays up to 10 amps are cheap and reliable.   Beyond that, they get expensive surprisingly fast, and the reliability is hit or miss.   They fail in numerous ways, but the most concerning one is the plastic case melting and catching fire.   The chance of failure depends on the nature of the load (capacitive or inductive loads will dramatically shorten a relays lifespan).<p>In my professional career, I have witnessed ~20 of the above devices failing, with melted bits or burn marks, but of that sample none has burned down a building, yet.   But I&#x27;d say that was more down to luck than good design.<p>In general, I would trust a china-device for <i>monitoring</i> power, but not for <i>switching</i> anything more than ~10 amps (1 outlet).</div><br/><div id="40272517" class="c"><input type="checkbox" id="c-40272517" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40270128">parent</a><span>|</span><a href="#40268505">next</a><span>|</span><label class="collapse" for="c-40272517">[-]</label><label class="expand" for="c-40272517">[1 more]</label></div><br/><div class="children"><div class="content">Is it the switching that kills the relay or is it enough to start&#x2F;stop the load? E.g. if I have a 10A smart plug monitoring power on a small waist-tall freezer in the garage will it eventually damage the switching function?</div><br/></div></div></div></div><div id="40268505" class="c"><input type="checkbox" id="c-40268505" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268452">parent</a><span>|</span><a href="#40270128">prev</a><span>|</span><a href="#40268503">next</a><span>|</span><label class="collapse" for="c-40268505">[-]</label><label class="expand" for="c-40268505">[6 more]</label></div><br/><div class="children"><div class="content">&gt; How do you know it will continue to function as a circuit breaker and isn&#x27;t just a piece of wire inside?<p>I don&#x27;t care. I connected my previous breaker after it.</div><br/><div id="40268534" class="c"><input type="checkbox" id="c-40268534" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268505">parent</a><span>|</span><a href="#40268503">next</a><span>|</span><label class="collapse" for="c-40268534">[-]</label><label class="expand" for="c-40268534">[5 more]</label></div><br/><div class="children"><div class="content">Why not just use a current transformer? (Clamp over wire type) It&#x27;s much safer.</div><br/><div id="40268591" class="c"><input type="checkbox" id="c-40268591" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268534">parent</a><span>|</span><a href="#40268787">next</a><span>|</span><label class="collapse" for="c-40268591">[-]</label><label class="expand" for="c-40268591">[2 more]</label></div><br/><div class="children"><div class="content">Do you know of a Zigbee one? That&#x27;s also a good option.</div><br/><div id="40268714" class="c"><input type="checkbox" id="c-40268714" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268591">parent</a><span>|</span><a href="#40268787">next</a><span>|</span><label class="collapse" for="c-40268714">[-]</label><label class="expand" for="c-40268714">[1 more]</label></div><br/><div class="children"><div class="content">Some options at the $10 price point on AliExpress, though I cannot recommend one, maybe another reader can. CTs are the generally accepted way to do this and don&#x27;t have to modify mains wiring. Could also build your own; CTs are inexpensive.</div><br/></div></div></div></div></div></div></div></div><div id="40268503" class="c"><input type="checkbox" id="c-40268503" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268452">parent</a><span>|</span><a href="#40268505">prev</a><span>|</span><a href="#40269010">next</a><span>|</span><label class="collapse" for="c-40268503">[-]</label><label class="expand" for="c-40268503">[3 more]</label></div><br/><div class="children"><div class="content">You can get less shit ones that aren&#x27;t made of Chinesium from Shelly</div><br/><div id="40268873" class="c"><input type="checkbox" id="c-40268873" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268503">parent</a><span>|</span><a href="#40269010">next</a><span>|</span><label class="collapse" for="c-40268873">[-]</label><label class="expand" for="c-40268873">[2 more]</label></div><br/><div class="children"><div class="content">Great suggestion. Some of their modules appear to be UL certified.</div><br/><div id="40272492" class="c"><input type="checkbox" id="c-40272492" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268873">parent</a><span>|</span><a href="#40269010">next</a><span>|</span><label class="collapse" for="c-40272492">[-]</label><label class="expand" for="c-40272492">[1 more]</label></div><br/><div class="children"><div class="content">Yeah you need to shop for these specifically. They come at a premium.</div><br/></div></div></div></div></div></div><div id="40269010" class="c"><input type="checkbox" id="c-40269010" checked=""/><div class="controls bullet"><span class="by">dist-epoch</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268452">parent</a><span>|</span><a href="#40268503">prev</a><span>|</span><a href="#40270227">next</a><span>|</span><label class="collapse" for="c-40269010">[-]</label><label class="expand" for="c-40269010">[2 more]</label></div><br/><div class="children"><div class="content">&gt; $14 Chinese rubbish<p>Where do you think the &quot;quality&quot; devices are made?</div><br/><div id="40271821" class="c"><input type="checkbox" id="c-40271821" checked=""/><div class="controls bullet"><span class="by">homero</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40269010">parent</a><span>|</span><a href="#40270227">next</a><span>|</span><label class="collapse" for="c-40271821">[-]</label><label class="expand" for="c-40271821">[1 more]</label></div><br/><div class="children"><div class="content">Quality ones inspect the product and have a company that can be sued. Others change their name monthly.</div><br/></div></div></div></div></div></div><div id="40270227" class="c"><input type="checkbox" id="c-40270227" checked=""/><div class="controls bullet"><span class="by">whatble</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268263">parent</a><span>|</span><a href="#40268452">prev</a><span>|</span><a href="#40267967">next</a><span>|</span><label class="collapse" for="c-40270227">[-]</label><label class="expand" for="c-40270227">[1 more]</label></div><br/><div class="children"><div class="content">This is NOT a valid 63 Amps rated breaker, or 63 Amp anything for that matter. The screw terminal will melt.<p>Based on the screw terminal, without looking inside, I would rate it not higher than 10 Amps. Don&#x27;t pass your whole apartment through it.</div><br/></div></div></div></div></div></div><div id="40267967" class="c"><input type="checkbox" id="c-40267967" checked=""/><div class="controls bullet"><span class="by">gog</span><span>|</span><a href="#40267441">parent</a><span>|</span><a href="#40267972">prev</a><span>|</span><a href="#40268729">next</a><span>|</span><label class="collapse" for="c-40267967">[-]</label><label class="expand" for="c-40267967">[3 more]</label></div><br/><div class="children"><div class="content">Can you link the power breaker?</div><br/><div id="40268264" class="c"><input type="checkbox" id="c-40268264" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40267967">parent</a><span>|</span><a href="#40268729">next</a><span>|</span><label class="collapse" for="c-40268264">[-]</label><label class="expand" for="c-40268264">[2 more]</label></div><br/><div class="children"><div class="content">This one: <a href="https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005657383634.html?spm=a2g0n.order_detail.order_detail_item.3.29d9f19cVGy4lV" rel="nofollow">https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005005657383634.html?spm=a2...</a></div><br/><div id="40271833" class="c"><input type="checkbox" id="c-40271833" checked=""/><div class="controls bullet"><span class="by">homero</span><span>|</span><a href="#40267441">root</a><span>|</span><a href="#40268264">parent</a><span>|</span><a href="#40268729">next</a><span>|</span><label class="collapse" for="c-40271833">[-]</label><label class="expand" for="c-40271833">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s crazy to run any power through that. Only safe option are current transformers</div><br/></div></div></div></div></div></div></div></div><div id="40268729" class="c"><input type="checkbox" id="c-40268729" checked=""/><div class="controls bullet"><span class="by">kasey_junk</span><span>|</span><a href="#40267441">prev</a><span>|</span><a href="#40267790">next</a><span>|</span><label class="collapse" for="c-40268729">[-]</label><label class="expand" for="c-40268729">[1 more]</label></div><br/><div class="children"><div class="content">I nerded out on this a few years ago and ended up buying a not well known device called a rainforest automation eagle (<a href="https:&#x2F;&#x2F;www.rainforestautomation.com&#x2F;rfa-z114-eagle-200-2&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.rainforestautomation.com&#x2F;rfa-z114-eagle-200-2&#x2F;</a>).  Its a pretty straight forward little linux device that reads your smart meter (after being enrolled via your utility).  It exposes an xml api that I bridge to Prometheus (<a href="https:&#x2F;&#x2F;github.com&#x2F;kklipsch&#x2F;reagle">https:&#x2F;&#x2F;github.com&#x2F;kklipsch&#x2F;reagle</a>).<p>I also bridge my utility (ComEd&#x27;s) pricing feed to prometheus (<a href="https:&#x2F;&#x2F;github.com&#x2F;kklipsch&#x2F;comed_exporter">https:&#x2F;&#x2F;github.com&#x2F;kklipsch&#x2F;comed_exporter</a>).  Between those 2 I get pretty good whole home utilization and pricing info graphed into Prometheus (and thus into Grafana).</div><br/></div></div><div id="40267790" class="c"><input type="checkbox" id="c-40267790" checked=""/><div class="controls bullet"><span class="by">recursinging</span><span>|</span><a href="#40268729">prev</a><span>|</span><a href="#40268131">next</a><span>|</span><label class="collapse" for="c-40267790">[-]</label><label class="expand" for="c-40267790">[10 more]</label></div><br/><div class="children"><div class="content">One step further. I just installed the Emporia Vue 2 in my distribution box. 16 CTs plus the three mains phases. It&#x27;s ESP32 based and there is a great ESPHome project that you can flash it with for local only reporting. Add some HA and VictoriaMetrics, and now I can see how the whole house behaves with Grafana. Next up, Zero-Export using this data to steer my little OpenDTU solar plant. We live in such cool times!</div><br/><div id="40267918" class="c"><input type="checkbox" id="c-40267918" checked=""/><div class="controls bullet"><span class="by">pzduniak</span><span>|</span><a href="#40267790">parent</a><span>|</span><a href="#40270334">next</a><span>|</span><label class="collapse" for="c-40267918">[-]</label><label class="expand" for="c-40267918">[4 more]</label></div><br/><div class="children"><div class="content">Is anyone aware of any other OSHW alternatives to this? Preferably with Ethernet. ESPHome would be preferable.<p>The clones I can find are roughly the same price as the &quot;original&quot; hardware.<p>ATM90E32AS seems to be ~$1 per channel on JLCPCB, so I&#x27;d imagine this could be pretty cheap with SMT assembly. My use case is like ~60 circuits.</div><br/><div id="40272253" class="c"><input type="checkbox" id="c-40272253" checked=""/><div class="controls bullet"><span class="by">BHSPitMonkey</span><span>|</span><a href="#40267790">root</a><span>|</span><a href="#40267918">parent</a><span>|</span><a href="#40269461">next</a><span>|</span><label class="collapse" for="c-40272253">[-]</label><label class="expand" for="c-40272253">[1 more]</label></div><br/><div class="children"><div class="content">The main one I&#x27;m away of is IotaWatt, which I&#x27;ve had running in my panel for the last few years without incident.</div><br/></div></div><div id="40269461" class="c"><input type="checkbox" id="c-40269461" checked=""/><div class="controls bullet"><span class="by">anupcshan</span><span>|</span><a href="#40267790">root</a><span>|</span><a href="#40267918">parent</a><span>|</span><a href="#40272253">prev</a><span>|</span><a href="#40270365">next</a><span>|</span><label class="collapse" for="c-40269461">[-]</label><label class="expand" for="c-40269461">[1 more]</label></div><br/><div class="children"><div class="content">You can install esphome on Emporia Vue. <a href="https:&#x2F;&#x2F;github.com&#x2F;emporia-vue-local&#x2F;esphome">https:&#x2F;&#x2F;github.com&#x2F;emporia-vue-local&#x2F;esphome</a> (not used this myself). Vue V3 has wired ethernet support too.</div><br/></div></div><div id="40270365" class="c"><input type="checkbox" id="c-40270365" checked=""/><div class="controls bullet"><span class="by">briffle</span><span>|</span><a href="#40267790">root</a><span>|</span><a href="#40267918">parent</a><span>|</span><a href="#40269461">prev</a><span>|</span><a href="#40270334">next</a><span>|</span><label class="collapse" for="c-40270365">[-]</label><label class="expand" for="c-40270365">[1 more]</label></div><br/><div class="children"><div class="content">Many people flash the emporia vue with espHome</div><br/></div></div></div></div><div id="40270334" class="c"><input type="checkbox" id="c-40270334" checked=""/><div class="controls bullet"><span class="by">yx827ha</span><span>|</span><a href="#40267790">parent</a><span>|</span><a href="#40267918">prev</a><span>|</span><a href="#40267973">next</a><span>|</span><label class="collapse" for="c-40270334">[-]</label><label class="expand" for="c-40270334">[1 more]</label></div><br/><div class="children"><div class="content">I bought a CURB Energy monitor about 6 years ago. Does anyone know if it&#x27;s possible to flash open source firmware on it? It only has a cloud integration, but I would really like to hook it to to home assistant.</div><br/></div></div><div id="40267973" class="c"><input type="checkbox" id="c-40267973" checked=""/><div class="controls bullet"><span class="by">applied_heat</span><span>|</span><a href="#40267790">parent</a><span>|</span><a href="#40270334">prev</a><span>|</span><a href="#40267853">next</a><span>|</span><label class="collapse" for="c-40267973">[-]</label><label class="expand" for="c-40267973">[1 more]</label></div><br/><div class="children"><div class="content">Victoria metrics and grafana is great. I only wish I could enter descriptions for the metrics to populate the description in the grafana metrics explorer which is traditionally done by Prometheus metric metadata “help” field.<p>Victoria metrics&#x2F; grafana is supplanting our industrial historian, which is admittedly not a best in class product - I am sure osi pi is better</div><br/></div></div><div id="40267853" class="c"><input type="checkbox" id="c-40267853" checked=""/><div class="controls bullet"><span class="by">septic-liqueur</span><span>|</span><a href="#40267790">parent</a><span>|</span><a href="#40267973">prev</a><span>|</span><a href="#40268131">next</a><span>|</span><label class="collapse" for="c-40267853">[-]</label><label class="expand" for="c-40267853">[3 more]</label></div><br/><div class="children"><div class="content">Opendtu solar plant - care to elaborate?</div><br/><div id="40268020" class="c"><input type="checkbox" id="c-40268020" checked=""/><div class="controls bullet"><span class="by">recursinging</span><span>|</span><a href="#40267790">root</a><span>|</span><a href="#40267853">parent</a><span>|</span><a href="#40268131">next</a><span>|</span><label class="collapse" for="c-40268020">[-]</label><label class="expand" for="c-40268020">[2 more]</label></div><br/><div class="children"><div class="content">OpenDTU is an open source project using an ESP32+CMT2300A for talking to Hoymiles Micro-Inverters. Local Only.</div><br/><div id="40268782" class="c"><input type="checkbox" id="c-40268782" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#40267790">root</a><span>|</span><a href="#40268020">parent</a><span>|</span><a href="#40268131">next</a><span>|</span><label class="collapse" for="c-40268782">[-]</label><label class="expand" for="c-40268782">[1 more]</label></div><br/><div class="children"><div class="content">I did some scouting about for what microinverters would be usable without a full professional install, for a small under half kilowatt playing around. I was hoping I could snap up some used enphases &amp; try stuff out with a 200w panel &amp; my existing batteries. But I really didn&#x27;t turn up much; most discussion online made it seem like you needed special installer access to get anywhere with Enphase. Exciting to hear maybe this microinverter idea might not be totally dead in the water.</div><br/></div></div></div></div></div></div></div></div><div id="40268131" class="c"><input type="checkbox" id="c-40268131" checked=""/><div class="controls bullet"><span class="by">sponaugle</span><span>|</span><a href="#40267790">prev</a><span>|</span><a href="#40272475">next</a><span>|</span><label class="collapse" for="c-40268131">[-]</label><label class="expand" for="c-40268131">[5 more]</label></div><br/><div class="children"><div class="content">I used IoTaWatt devices, which can be installed in panels.  It is a great solution for by circuit monitoring, and has direct influxdb integration so you can use Grafana.<p>Per plug monitoring is cool however for getting specific devices on a circuit.<p>(Short video about the setup: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=-tcbJCvuJG8" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=-tcbJCvuJG8</a>)</div><br/><div id="40268479" class="c"><input type="checkbox" id="c-40268479" checked=""/><div class="controls bullet"><span class="by">gibbonsrcool</span><span>|</span><a href="#40268131">parent</a><span>|</span><a href="#40270271">next</a><span>|</span><label class="collapse" for="c-40268479">[-]</label><label class="expand" for="c-40268479">[2 more]</label></div><br/><div class="children"><div class="content">Wow it’s a small world. I just discovered your channel recently and love the content.  Probably watched the home lab video like 10 times. I have a historic building with 3 vacation rentals that I’m in the process of adding some intelligence and monitoring to, including a raspberry pi kiosk based on one of your videos.  Thanks for making them!</div><br/><div id="40270078" class="c"><input type="checkbox" id="c-40270078" checked=""/><div class="controls bullet"><span class="by">sponaugle</span><span>|</span><a href="#40268131">root</a><span>|</span><a href="#40268479">parent</a><span>|</span><a href="#40270271">next</a><span>|</span><label class="collapse" for="c-40270078">[-]</label><label class="expand" for="c-40270078">[1 more]</label></div><br/><div class="children"><div class="content">That is cool!  Indeed there is a good cross section of home automation , software development, power monitoring, and hacker news.<p>I just did a new video on building a 68030 computer that I suspect will have a <i>much</i> smaller audience!</div><br/></div></div></div></div><div id="40270271" class="c"><input type="checkbox" id="c-40270271" checked=""/><div class="controls bullet"><span class="by">RatchetWerks</span><span>|</span><a href="#40268131">parent</a><span>|</span><a href="#40268479">prev</a><span>|</span><a href="#40272475">next</a><span>|</span><label class="collapse" for="c-40270271">[-]</label><label class="expand" for="c-40270271">[2 more]</label></div><br/><div class="children"><div class="content">I gotta chime in also. I just learned about your channel literally today when a buddy DM&#x27;d me a link on your  YouTube homelab tour. We have pretty similar interests. I also have an IOTAWATT and I love it. My only grip is I wish they had the ability to log more channels with the same unit. ie Approximately 30 channels.</div><br/><div id="40271181" class="c"><input type="checkbox" id="c-40271181" checked=""/><div class="controls bullet"><span class="by">sponaugle</span><span>|</span><a href="#40268131">root</a><span>|</span><a href="#40270271">parent</a><span>|</span><a href="#40272475">next</a><span>|</span><label class="collapse" for="c-40271181">[-]</label><label class="expand" for="c-40271181">[1 more]</label></div><br/><div class="children"><div class="content">Sweet! Yea, I have several panels that have 2 of them for that reason.  I have debated making a larger one since the code is open source.  It would be great to have one that has more ports, and perhaps the ports combined into less cables.</div><br/></div></div></div></div></div></div><div id="40272475" class="c"><input type="checkbox" id="c-40272475" checked=""/><div class="controls bullet"><span class="by">killme2008</span><span>|</span><a href="#40268131">prev</a><span>|</span><a href="#40267731">next</a><span>|</span><label class="collapse" for="c-40272475">[-]</label><label class="expand" for="c-40272475">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s interesting and cool! Looks like the software stack is still running on the local server.<p>Looking for Prometheus and Grafana on the cloud? Check out GreptimeCloud! <a href="https:&#x2F;&#x2F;greptime.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;greptime.com&#x2F;</a></div><br/></div></div><div id="40267731" class="c"><input type="checkbox" id="c-40267731" checked=""/><div class="controls bullet"><span class="by">richardjennings</span><span>|</span><a href="#40272475">prev</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40267731">[-]</label><label class="expand" for="c-40267731">[7 more]</label></div><br/><div class="children"><div class="content">I scrape power usage metrics from Tapo P110s and push them to Grafana Cloud using  <a href="https:&#x2F;&#x2F;github.com&#x2F;richardjennings&#x2F;tapmon">https:&#x2F;&#x2F;github.com&#x2F;richardjennings&#x2F;tapmon</a> - although as other commenters have noted - using Wifi for smart plugs has its rough edges.</div><br/><div id="40267834" class="c"><input type="checkbox" id="c-40267834" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#40267731">parent</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40267834">[-]</label><label class="expand" for="c-40267834">[6 more]</label></div><br/><div class="children"><div class="content">I second that.  I replaced a bunch of wall switches with Leviton WiFi smart ones and would never go WiFi again.  They&#x27;re totally unreliable.  My Meross smart plugs fair a little better but still lose connectivity now and then (got a bit better with updates).</div><br/><div id="40268761" class="c"><input type="checkbox" id="c-40268761" checked=""/><div class="controls bullet"><span class="by">ssl-3</span><span>|</span><a href="#40267731">root</a><span>|</span><a href="#40267834">parent</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40268761">[-]</label><label class="expand" for="c-40268761">[5 more]</label></div><br/><div class="children"><div class="content">I hear a lot about reliability issues with various wifi smart devices.<p>I&#x27;ve had perfectly lovely reliability with wifi smart devices in my mixture of zigbee&#x2F;wifi at home, such that I don&#x27;t really have a preference.  Except for one cheap ESP8266-based wifi relay module that had some liquid damage (not the module&#x27;s fault), and the LED driver in my very first RGBW light bulb finding death after being used for a few years (a common-enough tale regardless of connectivity choice), they seem to Just Work.<p>It&#x27;s all semi-random brands of devices, bought over time.<p>I&#x27;m not doing anything <i>particularly</i> fancy with the network itself:  It&#x27;s just a couple of hardwired dual-band Mikrotik access points, with one upstairs at the back of the house and one downstairs at the front of the house (perhaps non-obviously, on non-overlapping channels).  A Pi 4 with OpenWRT quietly does the packet-slinging.<p>Like in many other places, the 2.4GHz band is approximately ruined where I live these days.  It&#x27;s noisy and slow.  But it all works well enough to reliably toggle a relay on or off, at least.<p>Am I just lucky?  Are others just unlucky?  Or is there an actual pattern here?</div><br/><div id="40269712" class="c"><input type="checkbox" id="c-40269712" checked=""/><div class="controls bullet"><span class="by">nucleardog</span><span>|</span><a href="#40267731">root</a><span>|</span><a href="#40268761">parent</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40269712">[-]</label><label class="expand" for="c-40269712">[4 more]</label></div><br/><div class="children"><div class="content">I’ve tried a handful of WiFi light bulbs, smart plugs, and other things. They were connected to a dedicated 2.4GHz access point (MikroTik as well). WiFi signal was fine—had good coverage (access point was central to the small wood frame house, and checking signal strength at device locations showed a great signal) and I live in the middle of a forest and there’s nothing else within range to interfere. Basically best case scenario outside of a lab or something.<p>I haven’t had a single device that worked reliably. Some worked fairly consistently, but only after a long (and variable) delay. Many others failed to work often enough that, combined with the delays, the workarounds became the normal way of using things.<p>At this point I’m running basically everything over Z-Wave (via Home Assistant) and it’s been rock solid for me. Especially with the ability to set up direct associations, things like “this dimmer’s state should be synchronized to that dimmer” are very responsive and reliable, not involving my controller or Home Assistant at all.<p>Hard to say whether you’re lucky or I’m unlucky—most people having a good experience aren’t going to take to the internet to start a crusade about it—but I do occasionally see someone recommending or saying that Z-Wave or Zigbee has been reliable for them… I think yours is the first I’ve read where someone’s been happy with WiFi.</div><br/><div id="40270808" class="c"><input type="checkbox" id="c-40270808" checked=""/><div class="controls bullet"><span class="by">ssl-3</span><span>|</span><a href="#40267731">root</a><span>|</span><a href="#40269712">parent</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40270808">[-]</label><label class="expand" for="c-40270808">[3 more]</label></div><br/><div class="children"><div class="content">Why sure.  It&#x27;s a rule that people who have the least amount of success with a thing will write the most about that thing.  This is why those with their wits about them read things like Amazon reviews with a decent-sized grain of salt.<p>And yes, you&#x27;re describing a very quiet environment in terms of outside interference.  I&#x27;m seriously a little bit envious of that.<p>One thing that I am doing differently than what you were doing is this:  I&#x27;m not isolating my smart-widgets to their own wifi access point, as I suspect most people also are not (since &quot;most people&quot; just have a single access point&#x2F;all-in-one router for everything).<p>I built my little wifi network to have what I feel is good coverage in and around the whole house, with the intent that all devices (dozens of them) would use that same wifi SSID.<p>As an unintentional result of this combined network, if&#x2F;when there&#x27;s a problem with the do-all wireless network, I&#x27;m pretty likely to notice right away because things like my phone and my laptop won&#x27;t work like they did yesterday.<p>And wifi problems <i>have</i> happened for me:  For instance, before I went 100% Mikrotik, I was using an old once-fancy Asus router with third-party firmware as a combination of access point and switch for part of the house.  It became increasingly unreliable as the years ticked on for whatever reason, and always came back to life after a quick reboot, but it eventually would turn stupid again anyway.<p>And whilst it was being stupid, various things would indeed break:  The lights wouldn&#x27;t turn on&#x2F;off, or I&#x27;d see that my phone was using cellular data instead of wifi, or I&#x27;d say &quot;Hey Google&quot; and get &quot;<i>I can&#x27;t connect to your Wifi</i>&quot; as a response.  Madness, insanity.  (And then I&#x27;d go unplug that router-shaped Asus access point for a few seconds, plug it back in, and things would be fine after a few minutes -- every time.)<p>But I have not at any time blamed the smart end-point devices (the wifi light bulbs, the switched outlets, the whatevers) for what was clearly -- in my case -- an infrastructure problem.  (And having a particular old Asus router-box turn funky isn&#x27;t indicative of a wifi-specific problem, either -- it&#x27;s just indicative that this hardware had become increasingly broken over time.)</div><br/><div id="40271569" class="c"><input type="checkbox" id="c-40271569" checked=""/><div class="controls bullet"><span class="by">nucleardog</span><span>|</span><a href="#40267731">root</a><span>|</span><a href="#40270808">parent</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40271569">[-]</label><label class="expand" for="c-40271569">[2 more]</label></div><br/><div class="children"><div class="content">I have two identical Mikrotik devices bolted to a wall beside each other in a closet. One is the WAP serving all of our phones, the laptop I use for work, the laptop my wife uses for work, the TV, the PC hooked to the TV, and everything else. It’s been 100% rock solid.<p>So my initial assumption is definitely going to be that the nearly identical setup except only serving a handful of low bandwidth devices is going to be just as solid.<p>That would seem to be a safe assumption given I’ve no noticeable missing data points from the $700 German air quality sensor that I’ve been recording for years and is connected via that access point. It’s moved to various rooms and points throughout the house as demand dictated without issue.<p>It would seem to be the case given I can pull up a feed from the WiFi IP camera I hooked up and pull it continuously with no latency or dropped frames whenever I want.<p>If I have an infrastructure issue, it’s one that is curiously selective about cheap IoT hardware while ignoring whatever other random stuff I hook up.<p>After a decade of installing MikroTik networks in hotels, condo buildings, and office buildings supporting all manner of nonsense you can take my word that there is a strong, reliable, WiFi network connection available at any point inside my house… or you’re welcome to come by with whatever diagnostic gear you’d like and tell me how it’s broken. I’d love to be able to make good use of some of that wifi IoT stuff!</div><br/><div id="40272050" class="c"><input type="checkbox" id="c-40272050" checked=""/><div class="controls bullet"><span class="by">ssl-3</span><span>|</span><a href="#40267731">root</a><span>|</span><a href="#40271569">parent</a><span>|</span><a href="#40267849">next</a><span>|</span><label class="collapse" for="c-40272050">[-]</label><label class="expand" for="c-40272050">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t, at any time, doubted your ability to correctly configure an access point.<p>I&#x27;m just trying to find some data points that allow for an explanation of <i>both</i> &quot;Eh, seems fine for me,&quot; and &quot;Arrgh!  This stuff doesn&#x27;t work!  Into the bin!&quot;<p>I mean:  I believe you when you say it doesn&#x27;t work for you, for I have no reason not to believe you.  And I assume that you also believe me when I say that it does work for me.<p>What other variables&#x2F;data points could there be, do you suppose?  It&#x27;s hard, as you probably know, for me to imagine ways in which things can break when they&#x27;ve generally been working fine for me.<p>One possibly-related theoretical datapoint:  My access points are not near eachother at all, on purpose.  It is perhaps possible that the chatter from one of your APs was &quot;desensing&quot; (I hate that word, but it&#x27;s a common-enough word) the front-end of the other AP and that this limits the ability of that AP to receive weak-ass signals from an ESP module (or whatever) in some manner of smart device.  (When I do want to isolate wifi networks, like when my neighbor asks if he can borrow a cup of Internet because he&#x27;s broke this month, I&#x27;ve been successful at creating virtual wireless interfaces that are steered to a particular VLAN -- even as far back as the WRT54G days.)<p>Another possibly-related data point:  I do run my 2.4GHz channels at 20MHz bandwidth instead of 40MHz, because that always seemed to get better performance at a longer distance (not that I think I need that for most little in-home smart widgets, but it is nice to be able to take a wifi-connected speaker into the yard or out by the alley where I work on my car, and to use it without using bluetooth[0] or making my phone into a battery-sucking hotspot and reconfiguring the speaker to use that hotspot instead of the house&#x27;s SSID).<p>In doing this, the <i>best</i> available throughput in my neighborhood is not very quick at 2.4GHz -- it&#x27;s always down into low single-digit Mbps with 20MHz-wide 2.4GHz channels, which quite frankly sucks.  But it always seems to work with a fairly consistent level of suck, and that level of suck is adequate (throughput-wise, at least) for what I actually need&#x2F;want from 2.4GHz.<p>And, sure:  I&#x27;d be happy to swing by with a few smart devices that seem to Just Work and one of my rather boring Mikrotik wAP ACs so we could sort it out.  Or just share configs with passphrases and SSIDs sanitized?  I don&#x27;t think I&#x27;m doing anything special, but perhaps I am?  (Perhaps I&#x27;m even doing something that is both wrong and stupid, but which lets it actually-work.)<p>I mean:  At the end of the day, I just want other people to enjoy the same pleasure of being able to plug in random stuff and have it generally just behave.  I don&#x27;t think I&#x27;m an expert, though:  I&#x27;ve got some background in land-mobile RF, have established some rather long links between Ethernet-connected devices using ISM bands (some of which have stood up for well over a decade), and I&#x27;ve been playing with Wifi since Orinoco PCMCIA cards were the new hotness.  I think I know a few things, but that doesn&#x27;t mean that I&#x27;ve got some super-secret sauce or something.<p>At home I&#x27;m just a cheap bastard who wants to automate some things, and who seems to be successful at getting inexpensive things like TP-Link smart plugs, ATHOM light bulbs, random Google&#x2F;Amazon smart speakers, and trash-tier relay modules to work seemingly-reliably with Home Assistant over wifi.  I&#x27;d pay more for Z-Wave or something if I felt that I had to do so, but my (perhaps unique) experience with wifi isn&#x27;t leading me towards Z-Wave.  (I also had good &quot;luck&quot; with X10 around a quarter of a century ago:  It always worked well-enough to automate reliably as long as I kept everything X10-related far away, wiring-wise, from the beastly Best FerrUPS UPS I was using back then.)<p>---<p>[0]:  Most people would use Bluetooth for this, and they&#x27;re generally not wrong.  But I absolutely hate the way in which Bluetooth breaks when the person with a Bluetooth-connected speaker wanders off with their phone in their pocket and leaves their speaker behind:  The audio breaks up in ways that are particularly annoying, but which they&#x27;ll never, ever hear -- much to the disdain of anyone who does hear it happen.  I don&#x27;t like being that person.  If I&#x27;m going to play music that the neighbors or anyone else can coincidentally hear, I don&#x27;t want it to get broken and choppy just because I went inside the house to fetch a different wrench or a beer or something, even if I myself will never hear the problem that Bluetooth use can promote.  In this way, slow wifi is better than broken Bluetooth.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="40267849" class="c"><input type="checkbox" id="c-40267849" checked=""/><div class="controls bullet"><span class="by">123pie123</span><span>|</span><a href="#40267731">prev</a><span>|</span><a href="#40267396">next</a><span>|</span><label class="collapse" for="c-40267849">[-]</label><label class="expand" for="c-40267849">[4 more]</label></div><br/><div class="children"><div class="content">i&#x27;ve just bought a cheap esp32 with a light sensor connected to it. then connected light sensor (ie bluetac) to my electicity meter that pulses every 1&#x2F;1000 1KW&#x2F;Hr, it uploads the data to google sheets which graphs the output  - works great<p>I also have another esp32 at my elderly relatives house with a pir sensor connected to it, it&#x27;s also sending the movement data to a different sheet on the google sheets site, so that i can monitor some sort of movement.<p>i&#x27;m i expecting google to discontinue this service at anytime - yes, but its working for now. you can write and read data from the google sheets via json via the esp32, not very inutitive but doable (and free!!)</div><br/><div id="40268047" class="c"><input type="checkbox" id="c-40268047" checked=""/><div class="controls bullet"><span class="by">whitehexagon</span><span>|</span><a href="#40267849">parent</a><span>|</span><a href="#40267922">next</a><span>|</span><label class="collapse" for="c-40268047">[-]</label><label class="expand" for="c-40268047">[1 more]</label></div><br/><div class="children"><div class="content">nice, I like the simple approach.  My old meter only had a rotating disc and it took all my effort to get a sensor connected to my arduino that could detect the black mark on the edge of the disc.  There was just enough mem for a http service to allow me to pull that value into my iobridge for remote monitoring.</div><br/></div></div><div id="40267922" class="c"><input type="checkbox" id="c-40267922" checked=""/><div class="controls bullet"><span class="by">gog</span><span>|</span><a href="#40267849">parent</a><span>|</span><a href="#40268047">prev</a><span>|</span><a href="#40267396">next</a><span>|</span><label class="collapse" for="c-40267922">[-]</label><label class="expand" for="c-40267922">[2 more]</label></div><br/><div class="children"><div class="content">I have a Frient Zigbee device that does the same, but sends data to Home Assistant.</div><br/><div id="40268006" class="c"><input type="checkbox" id="c-40268006" checked=""/><div class="controls bullet"><span class="by">123pie123</span><span>|</span><a href="#40267849">root</a><span>|</span><a href="#40267922">parent</a><span>|</span><a href="#40267396">next</a><span>|</span><label class="collapse" for="c-40268006">[-]</label><label class="expand" for="c-40268006">[1 more]</label></div><br/><div class="children"><div class="content">Home assist looks good, but my requirements was that my elderly relative was being monitored by all my family (ie they&#x27;re not on my home wifi&#x2F;lan) hence the data on the movement needed to be on the internet for all to see</div><br/></div></div></div></div></div></div><div id="40267396" class="c"><input type="checkbox" id="c-40267396" checked=""/><div class="controls bullet"><span class="by">leeoniya</span><span>|</span><a href="#40267849">prev</a><span>|</span><a href="#40268716">next</a><span>|</span><label class="collapse" for="c-40267396">[-]</label><label class="expand" for="c-40267396">[8 more]</label></div><br/><div class="children"><div class="content">i&#x27;m trying to nudge Grafana into the direction of IoT&#x2F;SCADA control, so we can be both, a great way to viz (data sources) and to control (data sinks). not personally a huge fan of having to recommend Home Assistant for that use case :)<p>(i work at Grafana Labs)</div><br/><div id="40268857" class="c"><input type="checkbox" id="c-40268857" checked=""/><div class="controls bullet"><span class="by">applied_heat</span><span>|</span><a href="#40267396">parent</a><span>|</span><a href="#40267691">next</a><span>|</span><label class="collapse" for="c-40268857">[-]</label><label class="expand" for="c-40268857">[3 more]</label></div><br/><div class="children"><div class="content">If grafana supported numeric entry fields and buttons it could easily replace wonderware intouch etc.<p>Traditional scada systems have such brutal plotting abilities they are ripe for disruption</div><br/><div id="40268939" class="c"><input type="checkbox" id="c-40268939" checked=""/><div class="controls bullet"><span class="by">leeoniya</span><span>|</span><a href="#40267396">root</a><span>|</span><a href="#40268857">parent</a><span>|</span><a href="#40267691">next</a><span>|</span><label class="collapse" for="c-40268939">[-]</label><label class="expand" for="c-40268939">[2 more]</label></div><br/><div class="children"><div class="content">for sure. we&#x27;re continuously adding capabilities to the Canvas panel to support SCADA-type and flowchart use cases.<p><a href="https:&#x2F;&#x2F;grafana.com&#x2F;docs&#x2F;grafana&#x2F;latest&#x2F;panels-visualizations&#x2F;visualizations&#x2F;canvas&#x2F;" rel="nofollow">https:&#x2F;&#x2F;grafana.com&#x2F;docs&#x2F;grafana&#x2F;latest&#x2F;panels-visualization...</a><p>there&#x27;s some initial movement towards &quot;press Canvas element -&gt; invoke HTTP api call&quot;:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=T6fg1TpfBUg" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=T6fg1TpfBUg</a><p>we added streaming&#x2F;websocket data sources a few major versions back.<p>i&#x27;m hoping to make something more standardized and pluggable like data sources.</div><br/><div id="40271512" class="c"><input type="checkbox" id="c-40271512" checked=""/><div class="controls bullet"><span class="by">applied_heat</span><span>|</span><a href="#40267396">root</a><span>|</span><a href="#40268939">parent</a><span>|</span><a href="#40267691">next</a><span>|</span><label class="collapse" for="c-40271512">[-]</label><label class="expand" for="c-40271512">[1 more]</label></div><br/><div class="children"><div class="content">I think OPC-UA uses http, and there are OPC-UA servers to talk to Just about every type of device, so maybe it is already possible.<p>I was looking at the canvas element to do an electrical single line diagram.</div><br/></div></div></div></div></div></div><div id="40267691" class="c"><input type="checkbox" id="c-40267691" checked=""/><div class="controls bullet"><span class="by">recursinging</span><span>|</span><a href="#40267396">parent</a><span>|</span><a href="#40268857">prev</a><span>|</span><a href="#40268145">next</a><span>|</span><label class="collapse" for="c-40267691">[-]</label><label class="expand" for="c-40267691">[1 more]</label></div><br/><div class="children"><div class="content">This would be great. Were using Grafana dashboards for thermal vacuum testing. Everyone is always asking for simple SCADA functionality.</div><br/></div></div><div id="40268145" class="c"><input type="checkbox" id="c-40268145" checked=""/><div class="controls bullet"><span class="by">hackernewds</span><span>|</span><a href="#40267396">parent</a><span>|</span><a href="#40267691">prev</a><span>|</span><a href="#40268716">next</a><span>|</span><label class="collapse" for="c-40268145">[-]</label><label class="expand" for="c-40268145">[3 more]</label></div><br/><div class="children"><div class="content">could you expand on your comment? what is data sinks as applied to your idea?</div><br/><div id="40269125" class="c"><input type="checkbox" id="c-40269125" checked=""/><div class="controls bullet"><span class="by">leeoniya</span><span>|</span><a href="#40267396">root</a><span>|</span><a href="#40268145">parent</a><span>|</span><a href="#40268716">next</a><span>|</span><label class="collapse" for="c-40269125">[-]</label><label class="expand" for="c-40269125">[2 more]</label></div><br/><div class="children"><div class="content">similar to how you can make plugins for data sources, you can make plugins for data sinks, like write over modbus, or POST to http API or, publish to some kind of MQTT broker, etc.<p>since IoT devices have limited storage, usually the metrics are dumped into another system like Prometheus. but that Prometheus data source used plotting cannot be used to control the device, which will have another endpoint and another API, so we need some kind of concept of data sinks. at least that&#x27;s my idea right now, allow data links configured in the panels to poke some &quot;data sink&quot; with values that are available in the DataFrame or custom-entered into the UI, like we do with traceID for Exemplars, etc.</div><br/><div id="40272238" class="c"><input type="checkbox" id="c-40272238" checked=""/><div class="controls bullet"><span class="by">nagisa</span><span>|</span><a href="#40267396">root</a><span>|</span><a href="#40269125">parent</a><span>|</span><a href="#40268716">next</a><span>|</span><label class="collapse" for="c-40272238">[-]</label><label class="expand" for="c-40272238">[1 more]</label></div><br/><div class="children"><div class="content">Have you seen&#x2F;know about NodeRED? I myself have moved away from HA&#x2F;OpenHAB-likes to NodeRED as that allows me control that&#x27;s more... restricting. At its heart NodeRED is a visual programming tool (and I think it wouldn&#x27;t be a terrible fit for Grafana), but what NodeRED has and Grafana doesn&#x27;t is a community which built a very significant number of packages that integrate with various protocols and devices used in home automation.<p>I see a potential for some integration and&#x2F;or idea sharing here. But it is also important to understand that the set of people who want to fiddle with their homes is much, much larger than the set of people who (are able to) program. Which is why HA and the likes are so popular.</div><br/></div></div></div></div></div></div></div></div><div id="40268716" class="c"><input type="checkbox" id="c-40268716" checked=""/><div class="controls bullet"><span class="by">fidotron</span><span>|</span><a href="#40267396">prev</a><span>|</span><a href="#40267139">next</a><span>|</span><label class="collapse" for="c-40268716">[-]</label><label class="expand" for="c-40268716">[1 more]</label></div><br/><div class="children"><div class="content">Facetious but half serious reaction: surely grafana usage nullifies any possible benefit from the monitoring? If there is one piece of software regularly using way more resources than seem reasonable it&#x27;s that one.</div><br/></div></div><div id="40267139" class="c"><input type="checkbox" id="c-40267139" checked=""/><div class="controls bullet"><span class="by">Xerox9213</span><span>|</span><a href="#40268716">prev</a><span>|</span><a href="#40267971">next</a><span>|</span><label class="collapse" for="c-40267139">[-]</label><label class="expand" for="c-40267139">[4 more]</label></div><br/><div class="children"><div class="content">Yeah, not to mention the ability to automate things.<p>My latest automation: when the white noise machine is on for the baby, the doorbell volume is turned down.</div><br/><div id="40267205" class="c"><input type="checkbox" id="c-40267205" checked=""/><div class="controls bullet"><span class="by">alchemist1e9</span><span>|</span><a href="#40267139">parent</a><span>|</span><a href="#40267971">next</a><span>|</span><label class="collapse" for="c-40267205">[-]</label><label class="expand" for="c-40267205">[3 more]</label></div><br/><div class="children"><div class="content">Could you expand on how prometheus or grafana helps you automate? I didn’t know either enabled that.</div><br/><div id="40267451" class="c"><input type="checkbox" id="c-40267451" checked=""/><div class="controls bullet"><span class="by">Jleagle</span><span>|</span><a href="#40267139">root</a><span>|</span><a href="#40267205">parent</a><span>|</span><a href="#40267971">next</a><span>|</span><label class="collapse" for="c-40267451">[-]</label><label class="expand" for="c-40267451">[2 more]</label></div><br/><div class="children"><div class="content">I think this was supposed to be a reply to one of the Home Assistant threads</div><br/><div id="40270087" class="c"><input type="checkbox" id="c-40270087" checked=""/><div class="controls bullet"><span class="by">Xerox9213</span><span>|</span><a href="#40267139">root</a><span>|</span><a href="#40267451">parent</a><span>|</span><a href="#40267971">next</a><span>|</span><label class="collapse" for="c-40270087">[-]</label><label class="expand" for="c-40270087">[1 more]</label></div><br/><div class="children"><div class="content">Correct. My mistake.</div><br/></div></div></div></div></div></div></div></div><div id="40267971" class="c"><input type="checkbox" id="c-40267971" checked=""/><div class="controls bullet"><span class="by">eMerzh</span><span>|</span><a href="#40267139">prev</a><span>|</span><a href="#40267346">next</a><span>|</span><label class="collapse" for="c-40267971">[-]</label><label class="expand" for="c-40267971">[1 more]</label></div><br/><div class="children"><div class="content">Homeassistant + Power calc (<a href="https:&#x2F;&#x2F;github.com&#x2F;bramstroker&#x2F;homeassistant-powercalc">https:&#x2F;&#x2F;github.com&#x2F;bramstroker&#x2F;homeassistant-powercalc</a>) really does wonder here,<p>you can &quot;simulate&quot; power of fairly stable appliances.<p>Then you chart that in a nice Sankey chart or in standard charts and enjoy</div><br/></div></div><div id="40267346" class="c"><input type="checkbox" id="c-40267346" checked=""/><div class="controls bullet"><span class="by">dsab</span><span>|</span><a href="#40267971">prev</a><span>|</span><a href="#40267172">next</a><span>|</span><label class="collapse" for="c-40267346">[-]</label><label class="expand" for="c-40267346">[13 more]</label></div><br/><div class="children"><div class="content">Guys what are your favourite smart plug? I need one with easy integration with grafana, not sucking, and shipment to EU country?</div><br/><div id="40267465" class="c"><input type="checkbox" id="c-40267465" checked=""/><div class="controls bullet"><span class="by">ckolkey</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40267744">next</a><span>|</span><label class="collapse" for="c-40267465">[-]</label><label class="expand" for="c-40267465">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a huge fan of <a href="https:&#x2F;&#x2F;www.shelly.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.shelly.com&#x2F;</a> - they have a built in webserver and can be controlled via POST requests. No cloud needed.</div><br/><div id="40267888" class="c"><input type="checkbox" id="c-40267888" checked=""/><div class="controls bullet"><span class="by">septic-liqueur</span><span>|</span><a href="#40267346">root</a><span>|</span><a href="#40267465">parent</a><span>|</span><a href="#40267744">next</a><span>|</span><label class="collapse" for="c-40267888">[-]</label><label class="expand" for="c-40267888">[2 more]</label></div><br/><div class="children"><div class="content">I also like their products very much. I installed a few of them in my sockets. Some people argue that it&#x27;s not safe to put in your sockets walls and the 16A limit is realistically lower before they can overheat and cause fire. That scared me a little bit but I think most of the reports are from bad wiring like using thin wires or not tightening the clamps enough</div><br/><div id="40268937" class="c"><input type="checkbox" id="c-40268937" checked=""/><div class="controls bullet"><span class="by">spockz</span><span>|</span><a href="#40267346">root</a><span>|</span><a href="#40267888">parent</a><span>|</span><a href="#40267744">next</a><span>|</span><label class="collapse" for="c-40268937">[-]</label><label class="expand" for="c-40268937">[1 more]</label></div><br/><div class="children"><div class="content">I have a Shelly pro 1PM in my Breaker box for the car charger. It gets to 80 degrees Celsius easily at 16A. I have two other gripes with it:<p>1: the slots&#x2F;clamps are small which makes fitting 4mm2 wires a chore already. 6mm3 is impossible. 
2: the overcurrent protection is very trigger happy. Due to solar panels in the street that voltage can vary significantly. Apparently the charger doesn’t always keep up exactly resulting in a current of 16.0001A which is more than the limit of 16 and poof, off it goes. Not sure whether this is an actual fault in the charger or some rounding error.</div><br/></div></div></div></div></div></div><div id="40267744" class="c"><input type="checkbox" id="c-40267744" checked=""/><div class="controls bullet"><span class="by">whitehexagon</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40267465">prev</a><span>|</span><a href="#40267736">next</a><span>|</span><label class="collapse" for="c-40267744">[-]</label><label class="expand" for="c-40267744">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been happy with my tplink sockets, especially running them off-cloud, and getting some command line control over them (although I think that debug api got blocked on later firmware updates).  But quite easy to feed data into any db once you have such control.<p>Just about to try some ikea zigbee sockets, seem cheap(7e) in comparison.  I hope I can also get them working command line based, just trying to setup a sonoff usb stick with some python package (bellows) as we speak.</div><br/></div></div><div id="40267736" class="c"><input type="checkbox" id="c-40267736" checked=""/><div class="controls bullet"><span class="by">argulane</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40267744">prev</a><span>|</span><a href="#40267430">next</a><span>|</span><label class="collapse" for="c-40267736">[-]</label><label class="expand" for="c-40267736">[4 more]</label></div><br/><div class="children"><div class="content">ATHOM plugs are very nice, you can order one with ESPHome or Tasomata firmware preinstalled and they can ship from Germany <a href="https:&#x2F;&#x2F;www.athom.tech&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.athom.tech&#x2F;</a></div><br/><div id="40271088" class="c"><input type="checkbox" id="c-40271088" checked=""/><div class="controls bullet"><span class="by">aulin</span><span>|</span><a href="#40267346">root</a><span>|</span><a href="#40267736">parent</a><span>|</span><a href="#40268088">next</a><span>|</span><label class="collapse" for="c-40271088">[-]</label><label class="expand" for="c-40271088">[2 more]</label></div><br/><div class="children"><div class="content">I had four tasmota preflashed athom plugs die on me in less than a year. As long as they worked they were perfect but they don&#x27;t last... Hope they addressed the issue meanwhile</div><br/><div id="40272343" class="c"><input type="checkbox" id="c-40272343" checked=""/><div class="controls bullet"><span class="by">pipe01</span><span>|</span><a href="#40267346">root</a><span>|</span><a href="#40271088">parent</a><span>|</span><a href="#40268088">next</a><span>|</span><label class="collapse" for="c-40272343">[-]</label><label class="expand" for="c-40272343">[1 more]</label></div><br/><div class="children"><div class="content">Were you switching high loads? I&#x27;ve had a few for some years with no issues</div><br/></div></div></div></div><div id="40268088" class="c"><input type="checkbox" id="c-40268088" checked=""/><div class="controls bullet"><span class="by">kryptoncalm</span><span>|</span><a href="#40267346">root</a><span>|</span><a href="#40267736">parent</a><span>|</span><a href="#40271088">prev</a><span>|</span><a href="#40267430">next</a><span>|</span><label class="collapse" for="c-40268088">[-]</label><label class="expand" for="c-40268088">[1 more]</label></div><br/><div class="children"><div class="content">Note this vendor is different than the Athom company making the Homey smart hub: <a href="https:&#x2F;&#x2F;homey.app&#x2F;" rel="nofollow">https:&#x2F;&#x2F;homey.app&#x2F;</a></div><br/></div></div></div></div><div id="40267430" class="c"><input type="checkbox" id="c-40267430" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40267736">prev</a><span>|</span><a href="#40268176">next</a><span>|</span><label class="collapse" for="c-40267430">[-]</label><label class="expand" for="c-40267430">[1 more]</label></div><br/><div class="children"><div class="content">ZigBee list of good devices:<p><a href="https:&#x2F;&#x2F;www.zigbee2mqtt.io&#x2F;supported-devices&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.zigbee2mqtt.io&#x2F;supported-devices&#x2F;</a></div><br/></div></div><div id="40268176" class="c"><input type="checkbox" id="c-40268176" checked=""/><div class="controls bullet"><span class="by">kryptoncalm</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40267430">prev</a><span>|</span><a href="#40268541">next</a><span>|</span><label class="collapse" for="c-40268176">[-]</label><label class="expand" for="c-40268176">[1 more]</label></div><br/><div class="children"><div class="content">I have two plugs in use that ship to EU (at least NL) and are made (or at least certified) in the EU. The latter matters to me because of fire hazards etc (e.g. [1]). Both can handle 16A and connect over zigbee which helps to reduce idle power consumption.
1. Innr plugs, e.g. SP240 <a href="https:&#x2F;&#x2F;www.innr.com&#x2F;en&#x2F;product&#x2F;innr-smart-plug-eu-with-power-monitoring&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.innr.com&#x2F;en&#x2F;product&#x2F;innr-smart-plug-eu-with-powe...</a>
2. Robb zigbee smart plug <a href="https:&#x2F;&#x2F;www.robbshop.nl&#x2F;robb-smarrt-slimme-stekker-zigbee-3680w" rel="nofollow">https:&#x2F;&#x2F;www.robbshop.nl&#x2F;robb-smarrt-slimme-stekker-zigbee-36...</a><p>[1] <a href="https:&#x2F;&#x2F;hackaday.com&#x2F;2023&#x2F;11&#x2F;03&#x2F;just-how-dodgy-are-cheap-usb-chargers-anyway&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hackaday.com&#x2F;2023&#x2F;11&#x2F;03&#x2F;just-how-dodgy-are-cheap-usb...</a></div><br/></div></div><div id="40268541" class="c"><input type="checkbox" id="c-40268541" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40268176">prev</a><span>|</span><a href="#40268042">next</a><span>|</span><label class="collapse" for="c-40268541">[-]</label><label class="expand" for="c-40268541">[1 more]</label></div><br/><div class="children"><div class="content">I love these ATORCH ones on Amazon, they have a screen with a bunch of useful details, super stable wifi connection, over-voltage&#x2F;current&#x2F;power protection, etc.<p><a href="https:&#x2F;&#x2F;www.amazon.com&#x2F;gp&#x2F;product&#x2F;B0BGSYJQK6&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.amazon.com&#x2F;gp&#x2F;product&#x2F;B0BGSYJQK6&#x2F;</a></div><br/></div></div><div id="40268042" class="c"><input type="checkbox" id="c-40268042" checked=""/><div class="controls bullet"><span class="by">Mister_Snuggles</span><span>|</span><a href="#40267346">parent</a><span>|</span><a href="#40268541">prev</a><span>|</span><a href="#40267172">next</a><span>|</span><label class="collapse" for="c-40268042">[-]</label><label class="expand" for="c-40268042">[1 more]</label></div><br/><div class="children"><div class="content">I’ve got some Sengled E1C-NB7 plugs that I really like. The form factor is nice, they work perfectly with Zigbee2MQTT and Home Assistant, and they’ve got a power button on the device itself.<p>I want to buy more and they don’t seem to be available anymore.</div><br/></div></div></div></div><div id="40267172" class="c"><input type="checkbox" id="c-40267172" checked=""/><div class="controls bullet"><span class="by">holri</span><span>|</span><a href="#40267346">prev</a><span>|</span><a href="#40267119">next</a><span>|</span><label class="collapse" for="c-40267172">[-]</label><label class="expand" for="c-40267172">[3 more]</label></div><br/><div class="children"><div class="content">Missing from the blog. The power reading of the Tosmota device should be calibrated:
<a href="https:&#x2F;&#x2F;tasmota.github.io&#x2F;docs&#x2F;Power-Monitoring-Calibration&#x2F;" rel="nofollow">https:&#x2F;&#x2F;tasmota.github.io&#x2F;docs&#x2F;Power-Monitoring-Calibration&#x2F;</a></div><br/><div id="40267244" class="c"><input type="checkbox" id="c-40267244" checked=""/><div class="controls bullet"><span class="by">jhenkens</span><span>|</span><a href="#40267172">parent</a><span>|</span><a href="#40267119">next</a><span>|</span><label class="collapse" for="c-40267244">[-]</label><label class="expand" for="c-40267244">[2 more]</label></div><br/><div class="children"><div class="content">I would love a semi-automated way to generate a power-profile for ESP-Home. Find a smart room heater with 3 levels perhaps, and use home assistant to gather values at &quot;Off&quot;, &quot;1&#x2F;3&quot;, &quot;2&#x2F;3&quot;, &quot;3&#x2F;3&quot;, with a downstream power plug as reference (and a known consumption of the downstream plug as well).<p>So I can just take my EspHome plug and very quickly generate a standard set of mapping values for voltage and wattage.</div><br/><div id="40269031" class="c"><input type="checkbox" id="c-40269031" checked=""/><div class="controls bullet"><span class="by">ssl-3</span><span>|</span><a href="#40267172">root</a><span>|</span><a href="#40267244">parent</a><span>|</span><a href="#40267119">next</a><span>|</span><label class="collapse" for="c-40269031">[-]</label><label class="expand" for="c-40269031">[1 more]</label></div><br/><div class="children"><div class="content">The easy way is with a resistive space heater and a multimeter.  I keep a big, dumb, thrifted &quot;oil-filled radiator&quot; space heater around just to use as a big, safe 3-speed dummy load with reasonably OK repeatability (nichrome heaters do not have perfect temperature coefficients, but they&#x27;re stable-enough that using them to measure temperature quickly begins to be a non-starter).<p>The level of integration you choose is entirely up to you.  I don&#x27;t do this kind of thing much, so I&#x27;m OK with kludging together a test rig as-needed with a handheld meter and tearing it apart when I&#x27;m done.  This makes good use of my own time and tools, according to my personal proclivities.<p>But if I were doing it often, then I might buy the equivalent of the HOPI meter that Big Clive uses in many of his videos.  It displays current and voltage, multiplies them to get power, and also displays power factor -- concurrently, on separate digital displays, in real time.<p>Or I might build something:  A box with a current shunt with some panel-mount meters and appropriate connectors would not be too challenging to put together in an afternoon with parts from Amazon and Lowes, depending on one&#x27;s ability and desire to deal with sheet metal at home.  (I use galvanized steel handy boxes and cover plates from Lowes for all kinds of small-ish stuff.  They&#x27;re cheap, common, and durable-enough.)<p>Whatever the approach, a simple space heater with multiple literal-speeds seems like a cheap and useful way to make it happen unless you&#x27;re trying to automate every part of it.<p>(But by then, making a dumb multi-speed space heater into a &quot;smart&quot; multi-speed space heater that can be activated programmatically with software like ESPHome and some relays is probably pretty much a no-brainer, isn&#x27;t it?)</div><br/></div></div></div></div></div></div><div id="40267119" class="c"><input type="checkbox" id="c-40267119" checked=""/><div class="controls bullet"><span class="by">dainiusse</span><span>|</span><a href="#40267172">prev</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40267119">[-]</label><label class="expand" for="c-40267119">[33 more]</label></div><br/><div class="children"><div class="content">No need for that mate, just deploy home assistant or something similar and you will get this (and more) out of the box</div><br/><div id="40267223" class="c"><input type="checkbox" id="c-40267223" checked=""/><div class="controls bullet"><span class="by">Havoc</span><span>|</span><a href="#40267119">parent</a><span>|</span><a href="#40267640">next</a><span>|</span><label class="collapse" for="c-40267223">[-]</label><label class="expand" for="c-40267223">[5 more]</label></div><br/><div class="children"><div class="content">Grafana is a hell of a lot nicer &amp; controllable than HA<p>HA is great, but it&#x27;s not the answer to everything</div><br/><div id="40267379" class="c"><input type="checkbox" id="c-40267379" checked=""/><div class="controls bullet"><span class="by">Cyph0n</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267223">parent</a><span>|</span><a href="#40267262">next</a><span>|</span><label class="collapse" for="c-40267379">[-]</label><label class="expand" for="c-40267379">[1 more]</label></div><br/><div class="children"><div class="content">Why not both? You’ll need to run a server either way.<p>HA can export data to Prometheus. Setting up and running HA is much easier than figuring out how to get a set of different smart devices to export metrics to Prometheus&#x2F;Influx. Let HA deal with that.</div><br/></div></div><div id="40267262" class="c"><input type="checkbox" id="c-40267262" checked=""/><div class="controls bullet"><span class="by">zimpenfish</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267223">parent</a><span>|</span><a href="#40267379">prev</a><span>|</span><a href="#40267765">next</a><span>|</span><label class="collapse" for="c-40267262">[-]</label><label class="expand" for="c-40267262">[1 more]</label></div><br/><div class="children"><div class="content">Seconded - HA&#x27;s graphs are great for a simple &quot;is this going up or down&quot; glance but when you want to put a whole bunch of things together for comparison or perform aggregations or calculations, that&#x27;s when you want Grafana et al.</div><br/></div></div><div id="40267765" class="c"><input type="checkbox" id="c-40267765" checked=""/><div class="controls bullet"><span class="by">icehawk</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267223">parent</a><span>|</span><a href="#40267262">prev</a><span>|</span><a href="#40267261">next</a><span>|</span><label class="collapse" for="c-40267765">[-]</label><label class="expand" for="c-40267765">[1 more]</label></div><br/><div class="children"><div class="content">It might be, but  for all of the examples in the blog post, HA does this out of the box.</div><br/></div></div><div id="40267261" class="c"><input type="checkbox" id="c-40267261" checked=""/><div class="controls bullet"><span class="by">madaxe_again</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267223">parent</a><span>|</span><a href="#40267765">prev</a><span>|</span><a href="#40267640">next</a><span>|</span><label class="collapse" for="c-40267261">[-]</label><label class="expand" for="c-40267261">[1 more]</label></div><br/><div class="children"><div class="content">Agreed.<p>I live off grid, so energy monitoring is a big deal for me. HA is fine for “at a glance”, but if I want any kind of detail, I use grafana. I actually have my old openhab instance still running purely as I can’t be faffed setting up all the piping from MQTT into influx again.<p>It’s also possible to integrate the usage over time using a dynamic time window to get Wh figures from wattage, which is enormously useful for me, and is more accurate than the figures HA gives in their power system.<p>HA is dead useful for getting alerts when the laundry finishes, though - dumb machine, smart plug, look for a sudden drop in power. Also does all our climate control.<p>So different tools for different jobs.</div><br/></div></div></div></div><div id="40267640" class="c"><input type="checkbox" id="c-40267640" checked=""/><div class="controls bullet"><span class="by">whitehexagon</span><span>|</span><a href="#40267119">parent</a><span>|</span><a href="#40267223">prev</a><span>|</span><a href="#40267316">next</a><span>|</span><label class="collapse" for="c-40267640">[-]</label><label class="expand" for="c-40267640">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also looking at a custom solution for my current migration from WiFi sockets to Zigbee.  It seemed impossible to do an offline installation of home assistant, and discouraging signs for running it without an internet connection.<p>There seems to be a sonoff usb stick that might act as a hub and allow command-line monitoring of all devices, should be perfect for feeding into grafana&#x2F;prometheus.</div><br/><div id="40267727" class="c"><input type="checkbox" id="c-40267727" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267640">parent</a><span>|</span><a href="#40267316">next</a><span>|</span><label class="collapse" for="c-40267727">[-]</label><label class="expand" for="c-40267727">[3 more]</label></div><br/><div class="children"><div class="content">HA will happily run offline; if you mean HAOS then I don&#x27;t know what it does but it&#x27;s an unorthodox Linux distro, but once it installs it should also run offline without issues. I&#x27;m also using their skyconnect zigbee coordinator and it works very well.</div><br/><div id="40267787" class="c"><input type="checkbox" id="c-40267787" checked=""/><div class="controls bullet"><span class="by">whitehexagon</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267727">parent</a><span>|</span><a href="#40267316">next</a><span>|</span><label class="collapse" for="c-40267787">[-]</label><label class="expand" for="c-40267787">[2 more]</label></div><br/><div class="children"><div class="content">Yeah one of the tests was a RPi image and it wouldnt complete without a LAN internet connection (only got 4G).  And it seemed far too weighty for a bit of home automation.<p>I recall the online requirement was for some ntp server requests that cant be disabled.</div><br/><div id="40267822" class="c"><input type="checkbox" id="c-40267822" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267787">parent</a><span>|</span><a href="#40267316">next</a><span>|</span><label class="collapse" for="c-40267822">[-]</label><label class="expand" for="c-40267822">[1 more]</label></div><br/><div class="children"><div class="content">Yeah that&#x27;s more of a rpi hardware requirement as it doesn&#x27;t have a battery and you realistically want to have accurate time on your smart home controller, even - especially - after it cold boots after power loss.</div><br/></div></div></div></div></div></div></div></div><div id="40267316" class="c"><input type="checkbox" id="c-40267316" checked=""/><div class="controls bullet"><span class="by">Banditoz</span><span>|</span><a href="#40267119">parent</a><span>|</span><a href="#40267640">prev</a><span>|</span><a href="#40267171">next</a><span>|</span><label class="collapse" for="c-40267316">[-]</label><label class="expand" for="c-40267316">[1 more]</label></div><br/><div class="children"><div class="content">Why not both?</div><br/></div></div><div id="40267171" class="c"><input type="checkbox" id="c-40267171" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">parent</a><span>|</span><a href="#40267316">prev</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40267171">[-]</label><label class="expand" for="c-40267171">[22 more]</label></div><br/><div class="children"><div class="content">Right up until the Home Assistant UI turns into a lagfest, the installation dies, and you can&#x27;t debug why because Docker. At least that&#x27;s what happened to me. And no, it wasn&#x27;t RPi SD power issues. This happened on an otherwise-stable amd64 server.<p>The Home Assistant authors&#x27; hostility towards simple native distributions is now a show stopper for me. Long term reliability is more important than quick initial setup.</div><br/><div id="40267280" class="c"><input type="checkbox" id="c-40267280" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267171">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40267280">[-]</label><label class="expand" for="c-40267280">[10 more]</label></div><br/><div class="children"><div class="content">HA is actually pretty debuggable. Just install the SSH plugin, then SSH into the HA box, and then simply &quot;docker exec&quot; into the target HA container.</div><br/><div id="40267349" class="c"><input type="checkbox" id="c-40267349" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267280">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40267349">[-]</label><label class="expand" for="c-40267349">[9 more]</label></div><br/><div class="children"><div class="content">... and then not have any of your usual development tools, environment, system layout, or repair techniques because you&#x27;re inside someone else&#x27;s &quot;works on my system&quot; that they threw over the wall.<p>It&#x27;s obviously <i>possible</i> to debug what goes on inside a Docker image. It&#x27;s just not something I&#x27;m particularly interested in dealing with, especially under duress.</div><br/><div id="40269276" class="c"><input type="checkbox" id="c-40269276" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267349">parent</a><span>|</span><a href="#40267802">next</a><span>|</span><label class="collapse" for="c-40269276">[-]</label><label class="expand" for="c-40269276">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  ... and then not have any of your usual development tools, environment, system layout, or repair techniques because you&#x27;re inside someone else&#x27;s &quot;works on my system&quot; that they threw over the wall.<p>The thing is, the &quot;it works&quot; is reproducible because of containers. Which is a step above just hoping that it works.<p>HA is also easy to &quot;patch&quot;. You can just install your custom components in `config&#x2F;custom_components`, it can also be used to &quot;override&quot; core HA files.<p>Finally, if you are doing intrusive development, you can easily launch HA locally. macOS, Linux, and WSL are supported. You will lose the ability to install add-ons via the addon manager, but that&#x27;s about it.<p>FWIW, I had the same aversion to their custom OS and their crazy container-based  setup initially. For a couple of years, I used to run HA as a Python app and managed the dependencies manually. Then I tried the HAOS and it... kinda just worked.</div><br/></div></div><div id="40267802" class="c"><input type="checkbox" id="c-40267802" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267349">parent</a><span>|</span><a href="#40269276">prev</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40267802">[-]</label><label class="expand" for="c-40267802">[7 more]</label></div><br/><div class="children"><div class="content">&gt; <i>because you&#x27;re inside someone else&#x27;s &quot;works on my system&quot; that they threw over the wall.</i><p>FWIW, this can also be called <i>stable state you can retreat to</i>. And build upon, e.g. adding a layer of debugging tools.<p>I don&#x27;t really like to deal with Docker, but at least I have reasonable certainty it&#x27;ll work. I prefer system package manager or MSI, but if not that, it beats having to build something when it&#x27;s near-guaranteed that what I&#x27;ll get is <i>not</i> the binary the authors had in mind, if it even runs at all.<p>(Then again, I routinely rebuild Emacs to stay on the bleeding edge. But it took a while to work out all the usual dependency mess, and I even broke my system once doing it.)</div><br/><div id="40267948" class="c"><input type="checkbox" id="c-40267948" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267802">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40267948">[-]</label><label class="expand" for="c-40267948">[6 more]</label></div><br/><div class="children"><div class="content">It&#x27;s certainly within my gamut to jump into an embedded system to debug it, bringing&#x2F;building tools as I go. I&#x27;m just not looking to <i>opt into</i> doing that on something that doesn&#x27;t need to be that complex in the first place. Same reason I run one decently powerful amd64 server that does many things rather than a stack of Raspberry Pis, one per software package.</div><br/><div id="40269842" class="c"><input type="checkbox" id="c-40269842" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267948">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40269842">[-]</label><label class="expand" for="c-40269842">[5 more]</label></div><br/><div class="children"><div class="content">But how would you do it differently?<p>You need to host a bunch of daemons (MQTT, ZWave and ZigBee bridges, and whatever else you might need). And a bunch of these daemons can have their own gnarly dependencies (e.g. they can be written in JS and built with NPM, ugh).<p>So you kinda _need_ to use Docker to make it at least sane.<p>And if you&#x27;re using Docker for the plugins, then why not use it for the HA core itself?<p>And once you do that, you don&#x27;t really need much from the host system. So why not use a minimalistic OS instead of something like Debian?</div><br/><div id="40270499" class="c"><input type="checkbox" id="c-40270499" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40269842">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40270499">[-]</label><label class="expand" for="c-40270499">[4 more]</label></div><br/><div class="children"><div class="content">At the time my setup didn&#x27;t require other daemons like that. But if I had been in that position, I would have just set up the other daemon under Debian and pointed HA at it.<p>These days I&#x27;d say that NixOS captures that requirement, allowing orchestration of many daemons and other system config to be abstracted into a packaged solution (eg NixOS Mailserver), that the user can override as much or as little as they&#x27;d like.<p>I believe NixOS does package (or at least attempts to package) HA, but given my past experience and what I believe is still the throw-it-over-the-wall desire of the HA maintainers, I&#x27;m wary of adopting it as an overarching solution. I&#x27;m certainly not ruling it out for performing some functions, like UI. I just would rather set up my automation efforts as MQTT-first, keep logging and automation rules as their own separate things, and not be fully committed to HA.</div><br/><div id="40271003" class="c"><input type="checkbox" id="c-40271003" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40270499">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40271003">[-]</label><label class="expand" for="c-40271003">[3 more]</label></div><br/><div class="children"><div class="content">&gt; At the time my setup didn&#x27;t require other daemons like that. But if I had been in that position, I would have just set up the other daemon under Debian and pointed HA at it.<p>You can do that just fine even now. I&#x27;m doing experiments with voice control, and I run the complete AI stack locally on my computer. So I just set up everything as regular background processes.<p>You just can&#x27;t expect HA to be able to do autoupdates for these daemons.<p>The other problem is that most of required dependencies are not packaged in Debian. So you&#x27;ll have to install multiple NodeJS servers and tons of NPMs somewhere on your system.<p>&gt; These days I&#x27;d say that NixOS captures that requirement, allowing orchestration of many daemons and other system config to be abstracted into a packaged solution (eg NixOS Mailserver), that the user can override as much or as little as they&#x27;d like.<p>You can do that with HA as well. Just push in a new image, and tag it appropriately.<p>The last time I played with Nix, it needed to download tens of gigs of data for a few programs. I don&#x27;t think this is acceptable for HA.<p>You can definitely do HA in a piecemeal fashio, but there&#x27;s just no way it can be done as a reproducible system that you can give to your grandmother. Given these constraints, HAOS is actually pretty remarkable.<p>&gt; I just would rather set up my automation efforts as MQTT-first, keep logging and automation rules as their own separate things, and not be fully committed to HA.<p>Raw MQTT still needs a UI that is user-friendly. And even with MQTT you&#x27;ll need to run ZWave and ZigBee bridges.</div><br/><div id="40271378" class="c"><input type="checkbox" id="c-40271378" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40271003">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40271378">[-]</label><label class="expand" for="c-40271378">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>You just can&#x27;t expect HA to be able to do autoupdates for these daemons.</i><p>I&#x27;m not expecting or even wanting HA to do autoupdates. A good framing of the crux of the problem here is that I want to use HA <i>but not HAOS</i>.<p>&gt; <i>even with MQTT you&#x27;ll need to run ZWave and ZigBee bridges.</i><p>Yes, the point is wanting to keep them as part of my overarching OS-level deployment config so that I can manage them along side email, nginx, matrix, netfilter, hostapd, kodi, etc.<p>I only brought up NixOS specifically because you asked for an example of a different approach of encapsulating and abstracting service configuration. I&#x27;m happy using NixOS, regardless of what you consider a dealbreaker. I used to choose Debian instead. If you prefer HAOS then please continue using HAOS. If I had to create and hand off a machine to my &quot;grandmother&quot;, I might even choose HAOS for that myself. We shouldn&#x27;t need to argue about distributions when talking about software packages.</div><br/><div id="40271735" class="c"><input type="checkbox" id="c-40271735" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40271378">parent</a><span>|</span><a href="#40267770">next</a><span>|</span><label class="collapse" for="c-40271735">[-]</label><label class="expand" for="c-40271735">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m not expecting or even wanting HA to do autoupdates. A good framing of the crux of the problem here is that I want to use HA but not HAOS.<p>You can do that. It&#x27;s not even hard, the HA documentation is pretty stellar in that regard: <a href="https:&#x2F;&#x2F;www.home-assistant.io&#x2F;installation&#x2F;#advanced-installation-methods" rel="nofollow">https:&#x2F;&#x2F;www.home-assistant.io&#x2F;installation&#x2F;#advanced-install...</a><p>The HA team rightly doesn&#x27;t want to officially support it, to avoid being inundated by people who don&#x27;t want to keep the pieces.<p>&gt; Yes, the point is wanting to keep them as part of my overarching OS-level deployment config so that I can manage them along side email, nginx, matrix, netfilter, hostapd, kodi, etc.<p>Then this is just not going to happen, unless the world changes a lot. There&#x27;s just no way something like HA can be both useful for most people, and be released according to the Debian Stable calendar. HA has to move fast to adapt to third-party API changes, new integrations, and to just be able to bring features to users.<p>&gt; I only brought up NixOS specifically because you asked for an example of a different approach of encapsulating and abstracting service configuration.<p>NixOS is not that much different from the HA approach. You also can&#x27;t just get into the NixOS system and edit random files in its storage tree, you&#x27;ll end up with a broken system. So you need to create a new flake, and then do the changes within this flake&#x27;s env. If it&#x27;s a deep dependency, you&#x27;ll need to modify the dependent software to use your new patched version.<p>Of course, nix is far more flexible than HAOS, but then they also are made for different kinds of users.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="40267770" class="c"><input type="checkbox" id="c-40267770" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267171">parent</a><span>|</span><a href="#40267280">prev</a><span>|</span><a href="#40267774">next</a><span>|</span><label class="collapse" for="c-40267770">[-]</label><label class="expand" for="c-40267770">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a Python app, <i>of course</i> being distributed as a docker image is the sanest way of doing it. I don&#x27;t see why you couldn&#x27;t just pip install it if you really wanted, but having been a Python developer for close to two decades, I wouldn&#x27;t want to.</div><br/><div id="40271115" class="c"><input type="checkbox" id="c-40271115" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267770">parent</a><span>|</span><a href="#40268071">next</a><span>|</span><label class="collapse" for="c-40271115">[-]</label><label class="expand" for="c-40271115">[1 more]</label></div><br/><div class="children"><div class="content">That was the standard way a long time ago, and the first startup would take a really long time because it would install even more stuff.  And sometimes fail. It wasn&#x27;t very reliable if you used any addons, and some required a ton of extra steps that it couldn&#x27;t automate like the modern deployments do now.</div><br/></div></div><div id="40268071" class="c"><input type="checkbox" id="c-40268071" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267770">parent</a><span>|</span><a href="#40271115">prev</a><span>|</span><a href="#40267774">next</a><span>|</span><label class="collapse" for="c-40268071">[-]</label><label class="expand" for="c-40268071">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m talking about distribution package managers, not pip.</div><br/><div id="40268916" class="c"><input type="checkbox" id="c-40268916" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40268071">parent</a><span>|</span><a href="#40267774">next</a><span>|</span><label class="collapse" for="c-40268916">[-]</label><label class="expand" for="c-40268916">[2 more]</label></div><br/><div class="children"><div class="content">I happily ran a dockerized HA on a Debian for years now, no need to do any complicated debugging (and even if I did, it would not be difficult to inspect it properly)</div><br/><div id="40270528" class="c"><input type="checkbox" id="c-40270528" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40268916">parent</a><span>|</span><a href="#40267774">next</a><span>|</span><label class="collapse" for="c-40270528">[-]</label><label class="expand" for="c-40270528">[1 more]</label></div><br/><div class="children"><div class="content">Dockerized HA on Debian is exactly what died on me. About 5-6 years ago. I&#x27;m sure it works just fine for most people. Just once bitten, twice shy.</div><br/></div></div></div></div></div></div></div></div><div id="40267774" class="c"><input type="checkbox" id="c-40267774" checked=""/><div class="controls bullet"><span class="by">tw04</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267171">parent</a><span>|</span><a href="#40267770">prev</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40267774">[-]</label><label class="expand" for="c-40267774">[6 more]</label></div><br/><div class="children"><div class="content">Nobody is preventing you from running Home Assistant core and deploying everything else yourself manually.<p>Demanding the authors who gave you the software for free also provide support for an installation method they&#x27;ve offered up with no support is a bit ridiculous, don&#x27;t you think?<p>That attitude is what causes open source projects to die though...</div><br/><div id="40267907" class="c"><input type="checkbox" id="c-40267907" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267774">parent</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40267907">[-]</label><label class="expand" for="c-40267907">[5 more]</label></div><br/><div class="children"><div class="content">What do you mean &quot;demanding support&quot; ? I remember Home Assistant authors being <i>actively hostile</i> to people packaging their software outside of the official Docker or RPi images. Which is why it wasn&#x27;t in the Debian repository, pushing me down that Docker path in the first place. Here&#x27;s the same dynamic on an associated project in 2021: <a href="https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;pull&#x2F;126326">https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;pull&#x2F;126326</a><p>If anyone chimes in and says they&#x27;ve been running Home Assistant from nixpkgs (where I am now) for several years with no hiccups, then I will certainly reconsider my opinion. But based on my experience and what I&#x27;ve continued to read since, it feels like trying to do that is an uphill battle. One I&#x27;m not looking to take on, especially for automation I&#x27;m relying on.</div><br/><div id="40270367" class="c"><input type="checkbox" id="c-40270367" checked=""/><div class="controls bullet"><span class="by">tw04</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40267907">parent</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40270367">[-]</label><label class="expand" for="c-40270367">[4 more]</label></div><br/><div class="children"><div class="content">So... your example is a developer of HA stating that he sees major flaws with how they&#x27;re distributing his package, and that he has absolutely no interest in supporting users that pull his code in a way that is unmaintainable by him.<p><i>YOU</i> believe he should support this anyway, because of various &quot;we promise end-users won&#x27;t reach out to you&quot; which is comically incorrect because history has shown repeatedly that a user&#x27;s first step when something is broken is to google <i>package_name broken</i> - which will absolutely turn up the author&#x27;s name.<p><i>BECAUSE</i> he doesn&#x27;t want to support his software being repackaged in a way he believes isn&#x27;t supportable, you&#x27;re upset.  You want him to support your unicorn config because that&#x27;s what you want to do, and his refusal to comply makes him a bad person.<p>Thank you for reinforcing EXACTLY why open source devs burn out.  He has a workflow that he is willing and able to support and doesn&#x27;t want to support anything outside of that.  Your response is: but you need to do it for me because it&#x27;s what I want.</div><br/><div id="40270535" class="c"><input type="checkbox" id="c-40270535" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40270367">parent</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40270535">[-]</label><label class="expand" for="c-40270535">[3 more]</label></div><br/><div class="children"><div class="content">Did we read the same thread? Nobody asked the HA developer to support anything, rather that developer started the conversation by making demands and then kept at it.</div><br/><div id="40271004" class="c"><input type="checkbox" id="c-40271004" checked=""/><div class="controls bullet"><span class="by">tw04</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40270535">parent</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40271004">[-]</label><label class="expand" for="c-40271004">[2 more]</label></div><br/><div class="children"><div class="content">“Making demands” which were: please don’t package my code in your distro that has dozens of out of date packages my code depends on that will break. Because I don’t want to deal with end users bugging me about it being broken.<p>I think the most surprising thing is that you can’t see how unreasonable your complaints are.</div><br/><div id="40271100" class="c"><input type="checkbox" id="c-40271100" checked=""/><div class="controls bullet"><span class="by">mindslight</span><span>|</span><a href="#40267119">root</a><span>|</span><a href="#40271004">parent</a><span>|</span><a href="#40268638">next</a><span>|</span><label class="collapse" for="c-40271100">[-]</label><label class="expand" for="c-40271100">[1 more]</label></div><br/><div class="children"><div class="content">If you attempted <i>explaining</i> how you think my stated position is unreasonable, perhaps I could see it. So far you&#x27;ve only attacked strawmen, such as claiming that I am demanding support from HA or claiming upstream was being asked to support nixpkgs.<p>What I do see is a project calling itself FOSS, while its maintainers really don&#x27;t like it being used as Free Software. If one wants to control downstream uses of one&#x27;s software, the answer is quite simple - release it under a proprietary license. Don&#x27;t grant freedom while going on and on about how you support freedom, but then be upset when someone actually uses that freedom to do something.<p>&gt; <i>deal with end users bugging me about it being broken.</i><p>The nixpkgs maintainers asked how much this was actually happening, and even preemptively proposed solutions. OP didn&#x27;t engage and just repeated his demands. And in general how is this any different from the common DRM-authoritarian refrain that companies are justified locking down devices they make, lest end users modify them and then clueless people might attribute the outcome to the original manufacturer?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="40268638" class="c"><input type="checkbox" id="c-40268638" checked=""/><div class="controls bullet"><span class="by">aksss</span><span>|</span><a href="#40267119">prev</a><span>|</span><a href="#40271791">next</a><span>|</span><label class="collapse" for="c-40268638">[-]</label><label class="expand" for="c-40268638">[1 more]</label></div><br/><div class="children"><div class="content">Surprised there’s not more mention of Shelly monitors in these comments. They’re great for whole house (service entrance) and circuit power monitoring. Pretty open integration, OOTB integration with HA.<p>I think it makes more sense to use “dumb” OTS circuit breakers in your house and augment with add-on monitor than combining the capabilities into a tightly-coupled single device.</div><br/></div></div><div id="40271791" class="c"><input type="checkbox" id="c-40271791" checked=""/><div class="controls bullet"><span class="by">33282334</span><span>|</span><a href="#40268638">prev</a><span>|</span><a href="#40267242">next</a><span>|</span><label class="collapse" for="c-40271791">[-]</label><label class="expand" for="c-40271791">[1 more]</label></div><br/><div class="children"><div class="content">33282334</div><br/></div></div><div id="40267242" class="c"><input type="checkbox" id="c-40267242" checked=""/><div class="controls bullet"><span class="by">ars</span><span>|</span><a href="#40271791">prev</a><span>|</span><a href="#40267713">next</a><span>|</span><label class="collapse" for="c-40267242">[-]</label><label class="expand" for="c-40267242">[3 more]</label></div><br/><div class="children"><div class="content">If someone else wants to try this, I strongly recommend against using WiFi for the plugs, instead use Z-Wave or Zigbee.<p>Wifi is just not meant for this use case, it will be unhappy if you start adding a lot of devices, and it will slow down your main use of WiFi for your phone.</div><br/><div id="40267474" class="c"><input type="checkbox" id="c-40267474" checked=""/><div class="controls bullet"><span class="by">seszett</span><span>|</span><a href="#40267242">parent</a><span>|</span><a href="#40267713">next</a><span>|</span><label class="collapse" for="c-40267474">[-]</label><label class="expand" for="c-40267474">[2 more]</label></div><br/><div class="children"><div class="content">Not the first time I hear this but I have about 20 ESP devices on my WiFi, almost all of them pushing data regularly and polling for instructions (I don&#x27;t use HA, but a simpler home made solution) and I have no problem at all.</div><br/><div id="40269323" class="c"><input type="checkbox" id="c-40269323" checked=""/><div class="controls bullet"><span class="by">meatmanek</span><span>|</span><a href="#40267242">root</a><span>|</span><a href="#40267474">parent</a><span>|</span><a href="#40267713">next</a><span>|</span><label class="collapse" for="c-40269323">[-]</label><label class="expand" for="c-40269323">[1 more]</label></div><br/><div class="children"><div class="content">It helps that the IoT things almost invariably use 2.4GHz while your data-hungry computers and phones usually use 5GHz.</div><br/></div></div></div></div></div></div><div id="40267713" class="c"><input type="checkbox" id="c-40267713" checked=""/><div class="controls bullet"><span class="by">WesolyKubeczek</span><span>|</span><a href="#40267242">prev</a><span>|</span><a href="#40267498">next</a><span>|</span><label class="collapse" for="c-40267713">[-]</label><label class="expand" for="c-40267713">[4 more]</label></div><br/><div class="children"><div class="content">You need to be careful with what plugs you choose, though, because they each have, let&#x27;s say, their own peculiarities.<p>For instance, their overvoltage protection might not align well with what the local regulations say. For example, in my region of EU, the upper voltage tolerances are such that 264V must trigger an instant poweroff, and also anything producing power must shut off if the average voltage over the last 10 minutes was 253V or more. However, TuYa sockets which pretty much are the only in-wall variety I was able to find on the local market, shut off at 260V. This tends to be somewhat problematic in an area saturated with PV installations, like the one I&#x27;m living in.<p>This problem is compounded by the fact that the reported measurements of sockets sitting on the same phase tend to differ quite a bit. Some sockets tend to overstate the voltage compared to neighboring sockets sitting on the same wires. Thus, they shut off when they think it&#x27;s 260V, while it might just as well be 255V.<p>Just saying that if you put lots of those in your walls, you might suddenly find yourself in a need to prepare some automations to try and bring the sockets on once the voltage is back to normal. This particular variety of sockets won&#x27;t come back on after the voltage drops.</div><br/><div id="40267785" class="c"><input type="checkbox" id="c-40267785" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267713">parent</a><span>|</span><a href="#40267498">next</a><span>|</span><label class="collapse" for="c-40267785">[-]</label><label class="expand" for="c-40267785">[3 more]</label></div><br/><div class="children"><div class="content">Shelly relays can be configured to do all these things and the voltage safety threshold itself is also configurable (at least in the Plus devices) but they aren&#x27;t zigbee. Otherwise great little devices.</div><br/><div id="40268934" class="c"><input type="checkbox" id="c-40268934" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#40267713">root</a><span>|</span><a href="#40267785">parent</a><span>|</span><a href="#40267498">next</a><span>|</span><label class="collapse" for="c-40268934">[-]</label><label class="expand" for="c-40268934">[2 more]</label></div><br/><div class="children"><div class="content">I cannot really understand why Shelly doesn&#x27;t offer ZigBee (and now Matter) options, only Wifi. This has always been the biggest blocker for me.</div><br/><div id="40272261" class="c"><input type="checkbox" id="c-40272261" checked=""/><div class="controls bullet"><span class="by">nagisa</span><span>|</span><a href="#40267713">root</a><span>|</span><a href="#40268934">parent</a><span>|</span><a href="#40267498">next</a><span>|</span><label class="collapse" for="c-40272261">[-]</label><label class="expand" for="c-40272261">[1 more]</label></div><br/><div class="children"><div class="content">They have z-wave options, though.</div><br/></div></div></div></div></div></div></div></div><div id="40267498" class="c"><input type="checkbox" id="c-40267498" checked=""/><div class="controls bullet"><span class="by">ryall</span><span>|</span><a href="#40267713">prev</a><span>|</span><label class="collapse" for="c-40267498">[-]</label><label class="expand" for="c-40267498">[7 more]</label></div><br/><div class="children"><div class="content">It&#x27;s annoying that smart plugs&#x2F;bulbs etc use wifi when Powerline exists</div><br/><div id="40267679" class="c"><input type="checkbox" id="c-40267679" checked=""/><div class="controls bullet"><span class="by">whitehexagon</span><span>|</span><a href="#40267498">parent</a><span>|</span><a href="#40267823">next</a><span>|</span><label class="collapse" for="c-40267679">[-]</label><label class="expand" for="c-40267679">[1 more]</label></div><br/><div class="children"><div class="content">I have a box of old X10 devices here, one of the most reliable home automation systems I ever set up.  I only switched to WiFi when my iobridge X10 controller failed and I couldnt work out the RS232 protocol for a different controller.</div><br/></div></div><div id="40267823" class="c"><input type="checkbox" id="c-40267823" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#40267498">parent</a><span>|</span><a href="#40267679">prev</a><span>|</span><label class="collapse" for="c-40267823">[-]</label><label class="expand" for="c-40267823">[5 more]</label></div><br/><div class="children"><div class="content">Powerline ethernet dumps an utterly horrifying amount of electrical noise into both the wiring and the surrounding area. Please don&#x27;t use powerline unless you have no other solution.<p>Note: Powerline ethernet should not be confused with Power Over Ethernet which is perfectly fine.</div><br/><div id="40267842" class="c"><input type="checkbox" id="c-40267842" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#40267498">root</a><span>|</span><a href="#40267823">parent</a><span>|</span><label class="collapse" for="c-40267842">[-]</label><label class="expand" for="c-40267842">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using it on two outlets after not having enough prescience to install ethernet in my wardrobe-turned-office - got any reading materials?</div><br/><div id="40269829" class="c"><input type="checkbox" id="c-40269829" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#40267498">root</a><span>|</span><a href="#40267842">parent</a><span>|</span><label class="collapse" for="c-40269829">[-]</label><label class="expand" for="c-40269829">[3 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t have any to link off hand, but the basic gist is this:<p>Electrical wiring of any sort are all antennas to varying degrees, transmitting and receiving electromagnetic signals. Most mains electrical wiring is also unshielded, meaning they <i>readily</i> transmit and receive electromagnetic signals.<p>Powerline ethernet basically puts ethernet data on mains electrical wiring by utilizing the bands that aren&#x27;t used for carrying power. This data is very, very noisy in electrical noise terms, and because most wiring also acts as an antenna that noise also gets broadcast everywhere.<p>Simple electronics like your coffee machine or microwave oven won&#x27;t care, but more sensitive electronics like radios can in turn receive interference from both the power line and the noise broadcast into the air.</div><br/><div id="40272287" class="c"><input type="checkbox" id="c-40272287" checked=""/><div class="controls bullet"><span class="by">nagisa</span><span>|</span><a href="#40267498">root</a><span>|</span><a href="#40269829">parent</a><span>|</span><label class="collapse" for="c-40272287">[-]</label><label class="expand" for="c-40272287">[2 more]</label></div><br/><div class="children"><div class="content">The issue, I think, is that you&#x27;re extrapolating from the usecase where high bandwidth ethernet is carried over the power lines. Protocols&#x27; like X10 bandwidth use and needs are so low (dozens of bits per second) that the interference is indistinguishable from the regular power fluctuations.</div><br/><div id="40272507" class="c"><input type="checkbox" id="c-40272507" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#40267498">root</a><span>|</span><a href="#40272287">parent</a><span>|</span><label class="collapse" for="c-40272507">[-]</label><label class="expand" for="c-40272507">[1 more]</label></div><br/><div class="children"><div class="content">I speak from experience. I tried powerline ethernet because wifi signals traverse the house walls very poorly, to say the least. The sheer noise the powerline adapters generated into the line, regardless traffic, was unacceptable.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>