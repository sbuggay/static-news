<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1706605256471" as="style"/><link rel="stylesheet" href="styles.css?v=1706605256471"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://archive-it.org/post/the-stack-warc-file/">An Introduction to the WARC File (2021)</a> <span class="domain">(<a href="https://archive-it.org">archive-it.org</a>)</span></div><div class="subtext"><span>dsego</span> | <span>52 comments</span></div><br/><div><div id="39184561" class="c"><input type="checkbox" id="c-39184561" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#39186957">next</a><span>|</span><label class="collapse" for="c-39184561">[-]</label><label class="expand" for="c-39184561">[7 more]</label></div><br/><div class="children"><div class="content">Fun fact, modern wget binaries can emit warc natively, if one wanted to kick the tires on such a thing<p><pre><code>  $ wget --version
  GNU Wget 1.21.2 built on linux-gnu.

  -cares +digest -gpgme +https +ipv6 +iri +large-file -metalink +nls
  +ntlm +opie +psl +ssl&#x2F;openssl
  $ wget --help | grep warc
         --warc-file=FILENAME        save request&#x2F;response data to a .warc.gz file
         --warc-header=STRING        insert STRING into the warcinfo record
         --warc-max-size=NUMBER      set maximum size of WARC files to NUMBER
         --warc-cdx                  write CDX index files
         --warc-dedup=FILENAME       do not store records listed in this CDX file
         --no-warc-compression       do not compress WARC files with GZIP
         --no-warc-digests           do not calculate SHA1 digests
         --no-warc-keep-log          do not store the log file in a WARC record
         --warc-tempdir=DIRECTORY    location for temporary files created by the
</code></pre>
The ArchiveBox project (which gets reposted on the regular: e.g. <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38954189">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38954189</a> ) also saves in WARC <a href="https:&#x2F;&#x2F;github.com&#x2F;ArchiveBox&#x2F;ArchiveBox#output-formats">https:&#x2F;&#x2F;github.com&#x2F;ArchiveBox&#x2F;ArchiveBox#output-formats</a> although I&#x27;ve personally not used it to comment further</div><br/><div id="39185036" class="c"><input type="checkbox" id="c-39185036" checked=""/><div class="controls bullet"><span class="by">seabass-labrax</span><span>|</span><a href="#39184561">parent</a><span>|</span><a href="#39185033">next</a><span>|</span><label class="collapse" for="c-39185036">[-]</label><label class="expand" for="c-39185036">[1 more]</label></div><br/><div class="children"><div class="content">Very helpful to know that! Zimit[1] also uses warc files as an intermediate step to producing Zim files. You can use these Zim files to read and search websites offline with the excellent app Kiwix[2]. I think &#x27;Kiwix for Android&#x27; and the Kiwix PWA support Zim files made with Zimit, with support by the desktop Kiwix application currently work-in-progress.<p>Other useful information about archiving websites is available from Webrecorder[3].<p>[1]: <a href="https:&#x2F;&#x2F;youzim.it&#x2F;" rel="nofollow">https:&#x2F;&#x2F;youzim.it&#x2F;</a><p>[2]: <a href="https:&#x2F;&#x2F;kiwix.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;kiwix.org&#x2F;</a><p>[3]: <a href="https:&#x2F;&#x2F;webrecorder.net&#x2F;" rel="nofollow">https:&#x2F;&#x2F;webrecorder.net&#x2F;</a></div><br/></div></div><div id="39185033" class="c"><input type="checkbox" id="c-39185033" checked=""/><div class="controls bullet"><span class="by">iansinnott</span><span>|</span><a href="#39184561">parent</a><span>|</span><a href="#39185036">prev</a><span>|</span><a href="#39185542">next</a><span>|</span><label class="collapse" for="c-39185033">[-]</label><label class="expand" for="c-39185033">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used it for about a year. ArchiveBox works well. My only complaint is that there&#x27;s no JSON API to trigger archiving a page--it&#x27;s primarily a CLI tool despite being built with Django. This can be worked around of course, and there&#x27;s a browser plug-in to auto-archive sites you visit based on a whitelist.</div><br/><div id="39187609" class="c"><input type="checkbox" id="c-39187609" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39184561">root</a><span>|</span><a href="#39185033">parent</a><span>|</span><a href="#39185542">next</a><span>|</span><label class="collapse" for="c-39187609">[-]</label><label class="expand" for="c-39187609">[1 more]</label></div><br/><div class="children"><div class="content">API is coming soon (relatively, it&#x27;s still a one-man project)! Stay tuned <a href="https:&#x2F;&#x2F;github.com&#x2F;ArchiveBox&#x2F;ArchiveBox&#x2F;issues&#x2F;496">https:&#x2F;&#x2F;github.com&#x2F;ArchiveBox&#x2F;ArchiveBox&#x2F;issues&#x2F;496</a><p>I have an event-sourcing refactor in progress now to allow us to pluginize functionality like the API (similar to Home Assistant with a plugin app store), it will take a month or two. Next up is the REST API using the new plugin system.</div><br/></div></div></div></div><div id="39185542" class="c"><input type="checkbox" id="c-39185542" checked=""/><div class="controls bullet"><span class="by">pjot</span><span>|</span><a href="#39184561">parent</a><span>|</span><a href="#39185033">prev</a><span>|</span><a href="#39186957">next</a><span>|</span><label class="collapse" for="c-39185542">[-]</label><label class="expand" for="c-39185542">[3 more]</label></div><br/><div class="children"><div class="content">You can also generate warc natively in iOS!<p>On a website, tap the share sheet icon, at the top of the tray tap “options”, and finally “web archive”. From there you can save&#x2F;send&#x2F;copy the file to your desired location.</div><br/><div id="39185978" class="c"><input type="checkbox" id="c-39185978" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#39184561">root</a><span>|</span><a href="#39185542">parent</a><span>|</span><a href="#39185739">next</a><span>|</span><label class="collapse" for="c-39185978">[-]</label><label class="expand" for="c-39185978">[1 more]</label></div><br/><div class="children"><div class="content">I was positively stunned to learn such a thing, so while I don&#x27;t have iOS I was able to find some references to that behavior in discussions.apple.com which led me to the fact that Safari on macOS can do it, too<p>But Apple gonna apple about using the plist hammer for every file format nail in their world, so no: definitely not the same thing we are discussing here<p><pre><code>  $ xxd -l 512 &#x27;You can also generate warc natively in iOS! On a website, tap the share sheet ic... | Hacker News.webarchive&#x27;
  00000000: 6270 6c69 7374 3030 d201 0203 205f 100f  bplist00.... _..
  00000010: 5765 6253 7562 7265 736f 7572 6365 735f  WebSubresources_
  00000020: 100f 5765 624d 6169 6e52 6573 6f75 7263  ..WebMainResourc
  00000030: 65a5 040d 1216 1bd4 0506 0708 090a 0b0c  e...............
  00000040: 5f10 0f57 6562 5265 736f 7572 6365 4461  _..WebResourceDa
  00000050: 7461 5f10 1357 6562 5265 736f 7572 6365  ta_..WebResource
  00000060: 4d49 4d45 5479 7065 5f10 1357 6562 5265  MIMEType_..WebRe
  00000070: 736f 7572 6365 5265 7370 6f6e 7365 5e57  sourceResponse^W
  00000080: 6562 5265 736f 7572 6365 5552 4c4f 111c  ebResourceURLO..
  00000090: dd62 6f64 7920 207b 2066 6f6e 742d 6661  .body  { font-fa
  000000a0: 6d69 6c79 3a56 6572 6461 6e61 2c20 4765  mily:Verdana, Ge
  000000b0: 6e65 7661 2c20 7361 6e73 2d73 6572 6966  neva, sans-serif

  $ plutil -p - &lt; &#x27;You can also generate warc natively in iOS! On a website, tap the share sheet ic... | Hacker News.webarchive&#x27;
  {
    &quot;WebMainResource&quot; =&gt; {
      &quot;WebResourceData&quot; =&gt; {length = 5725, bytes = 0x3c68746d 6c206c61 6e673d22 656e2220 ... 3e3c2f68 746d6c3e }
      &quot;WebResourceFrameName&quot; =&gt; &quot;&quot;
      &quot;WebResourceMIMEType&quot; =&gt; &quot;text&#x2F;html&quot;
      &quot;WebResourceTextEncodingName&quot; =&gt; &quot;UTF-8&quot;
      &quot;WebResourceURL&quot; =&gt; &quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39185542&quot;
    }
    &quot;WebSubresources&quot; =&gt; [
      0 =&gt; {
        &quot;WebResourceData&quot; =&gt; {length = 7389, bytes = 0x626f6479 20207b20 666f6e74 2d66616d ... 64656e20 7d0a7d0a }
        &quot;WebResourceMIMEType&quot; =&gt; &quot;text&#x2F;css&quot;
        &quot;WebResourceResponse&quot; =&gt; {length = 1880, bytes = 0x62706c69 73743030 d4010203 04050607 ... 00000000 0000065c }
        &quot;WebResourceURL&quot; =&gt; &quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;news.css?15bzD7gVH5AOktnbu3y0&quot;
      }
      1 =&gt; {
        &quot;WebResourceData&quot; =&gt; {length = 131, bytes = 0x3c737667 20686569 6768743d 22333222 ... 2f3e3c2f 7376673e }
        &quot;WebResourceMIMEType&quot; =&gt; &quot;image&#x2F;svg+xml&quot;
        &quot;WebResourceResponse&quot; =&gt; {length = 1842, bytes = 0x62706c69 73743030 d4010203 04050607 ... 00000000 00000636 }
        &quot;WebResourceURL&quot; =&gt; &quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;triangle.svg&quot;
      }
      2 =&gt; {
        &quot;WebResourceData&quot; =&gt; {length = 315, bytes = 0x3c737667 20686569 6768743d 22313822 ... 2f3e3c2f 7376673e }
        &quot;WebResourceMIMEType&quot; =&gt; &quot;image&#x2F;svg+xml&quot;
        &quot;WebResourceResponse&quot; =&gt; {length = 1842, bytes = 0x62706c69 73743030 d4010203 04050607 ... 00000000 00000636 }
        &quot;WebResourceURL&quot; =&gt; &quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;y18.svg&quot;
      }
      3 =&gt; {
        &quot;WebResourceData&quot; =&gt; {length = 43, bytes = 0x47494638 39610100 010080ff 00c0c0c0 ... 00000202 4401003b }
        &quot;WebResourceMIMEType&quot; =&gt; &quot;image&#x2F;gif&quot;
        &quot;WebResourceResponse&quot; =&gt; {length = 1826, bytes = 0x62706c69 73743030 d4010203 04050607 ... 00000000 00000626 }
        &quot;WebResourceURL&quot; =&gt; &quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;s.gif&quot;
      }
      4 =&gt; {
        &quot;WebResourceData&quot; =&gt; {length = 5224, bytes = 0x66756e63 74696f6e 20242028 69642920 ... 636c6963 6b293b0a }
        &quot;WebResourceMIMEType&quot; =&gt; &quot;application&#x2F;javascript&quot;
        &quot;WebResourceResponse&quot; =&gt; {length = 1945, bytes = 0x62706c69 73743030 d4010203 04050607 ... 00000000 0000069b }
        &quot;WebResourceURL&quot; =&gt; &quot;https:&#x2F;&#x2F;news.ycombinator.com&#x2F;hn.js?15bzD7gVH5AOktnbu3y0&quot;
      }
    ]
  }</code></pre></div><br/></div></div><div id="39185739" class="c"><input type="checkbox" id="c-39185739" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#39184561">root</a><span>|</span><a href="#39185542">parent</a><span>|</span><a href="#39185978">prev</a><span>|</span><a href="#39186957">next</a><span>|</span><label class="collapse" for="c-39185739">[-]</label><label class="expand" for="c-39185739">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, that&#x27;s much better than iOS PDFs which don&#x27;t preserve links.</div><br/></div></div></div></div></div></div><div id="39186957" class="c"><input type="checkbox" id="c-39186957" checked=""/><div class="controls bullet"><span class="by">rurban</span><span>|</span><a href="#39184561">prev</a><span>|</span><a href="#39185109">next</a><span>|</span><label class="collapse" for="c-39186957">[-]</label><label class="expand" for="c-39186957">[2 more]</label></div><br/><div class="children"><div class="content">This is probably in the news since Fedora 40 announced to replace wget with wget2, removing WARC support. I&#x27;ve also looked yesterday what I will be missing, and decided I will not miss it. FTP on the other hand was very handy, and actually used in a lot of places<p><a href="https:&#x2F;&#x2F;discussion.fedoraproject.org&#x2F;t&#x2F;f40-change-proposal-wget2-as-wget&#x2F;96422&#x2F;2" rel="nofollow">https:&#x2F;&#x2F;discussion.fedoraproject.org&#x2F;t&#x2F;f40-change-proposal-w...</a></div><br/><div id="39187504" class="c"><input type="checkbox" id="c-39187504" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#39186957">parent</a><span>|</span><a href="#39185109">next</a><span>|</span><label class="collapse" for="c-39187504">[-]</label><label class="expand" for="c-39187504">[1 more]</label></div><br/><div class="children"><div class="content">Interestingly wget2 was made by the same guy that maintains the original wget. I&#x27;m curious about the motivation.<p>From the announcement:<p>&gt; The major benefit of switching to wget2 is leveraging the cleaner codebase that leverages modern practices for development and maintainability, including unit tests and fuzzing as a security-sensitive component. Users will also see better support for newer protocols over time as they are more easily and quickly plumbed into wget2 than wget.<p>wget2 appears to be written in C.<p>Notably WARC support is in the todo.txt</div><br/></div></div></div></div><div id="39185109" class="c"><input type="checkbox" id="c-39185109" checked=""/><div class="controls bullet"><span class="by">ghukill</span><span>|</span><a href="#39186957">prev</a><span>|</span><a href="#39187165">next</a><span>|</span><label class="collapse" for="c-39185109">[-]</label><label class="expand" for="c-39185109">[3 more]</label></div><br/><div class="children"><div class="content">If interested in WARC, recommend also checking out WACZ: <a href="https:&#x2F;&#x2F;specs.webrecorder.net&#x2F;wacz&#x2F;1.1.1&#x2F;" rel="nofollow">https:&#x2F;&#x2F;specs.webrecorder.net&#x2F;wacz&#x2F;1.1.1&#x2F;</a></div><br/><div id="39187540" class="c"><input type="checkbox" id="c-39187540" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#39185109">parent</a><span>|</span><a href="#39187165">next</a><span>|</span><label class="collapse" for="c-39187540">[-]</label><label class="expand" for="c-39187540">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the point of WACZ? It appears to wrap a number of WARC files into a single zip, enabling Range requests to specific WARC files so it can be served by a passive file server. But why is that needed?</div><br/><div id="39187624" class="c"><input type="checkbox" id="c-39187624" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39185109">root</a><span>|</span><a href="#39187540">parent</a><span>|</span><a href="#39187165">next</a><span>|</span><label class="collapse" for="c-39187624">[-]</label><label class="expand" for="c-39187624">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s huge for being able to replay big WARC files in a browser without having to download the whole thing. (e.g. try loading a 700mb WARC from IPFS to visit one page within it, it&#x27;s too slow to work as-is)<p>It&#x27;s used extensively by the Browsertrix&#x2F;Webrecorder.io projects (who&#x27;s team pioneered the WACZ format) and a few other projects.</div><br/></div></div></div></div></div></div><div id="39187165" class="c"><input type="checkbox" id="c-39187165" checked=""/><div class="controls bullet"><span class="by">noufalibrahim</span><span>|</span><a href="#39185109">prev</a><span>|</span><a href="#39184547">next</a><span>|</span><label class="collapse" for="c-39187165">[-]</label><label class="expand" for="c-39187165">[1 more]</label></div><br/><div class="children"><div class="content">I wrote a library to handle these and the older ARC files to use with an archiving proxy that a friend and I built for the Internet Archive. <a href="https:&#x2F;&#x2F;github.com&#x2F;internetarchive&#x2F;warc">https:&#x2F;&#x2F;github.com&#x2F;internetarchive&#x2F;warc</a>. He wrote the WARC parts while I did the ARC one using this <a href="https:&#x2F;&#x2F;archive.org&#x2F;web&#x2F;researcher&#x2F;ArcFileFormat.php" rel="nofollow">https:&#x2F;&#x2F;archive.org&#x2F;web&#x2F;researcher&#x2F;ArcFileFormat.php</a><p>Good memories.</div><br/></div></div><div id="39184547" class="c"><input type="checkbox" id="c-39184547" checked=""/><div class="controls bullet"><span class="by">gamepsys</span><span>|</span><a href="#39187165">prev</a><span>|</span><a href="#39185639">next</a><span>|</span><label class="collapse" for="c-39184547">[-]</label><label class="expand" for="c-39184547">[2 more]</label></div><br/><div class="children"><div class="content">I remember looking into this file format when starting on an unfinished and mostly dead project.  My goal was to build a local, searchable database of all webtraffic I visited.  This really should be what is generated when clicking &quot;Save page as&quot;</div><br/><div id="39187725" class="c"><input type="checkbox" id="c-39187725" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39184547">parent</a><span>|</span><a href="#39185639">next</a><span>|</span><label class="collapse" for="c-39187725">[-]</label><label class="expand" for="c-39187725">[1 more]</label></div><br/><div class="children"><div class="content">Before you build, there&#x27;s tons of tools that do this already!<p><a href="https:&#x2F;&#x2F;wiki.archivebox.io&#x2F;Web-Archiving-Community#other-archivebox-alternatives" rel="nofollow">https:&#x2F;&#x2F;wiki.archivebox.io&#x2F;Web-Archiving-Community#other-arc...</a></div><br/></div></div></div></div><div id="39185639" class="c"><input type="checkbox" id="c-39185639" checked=""/><div class="controls bullet"><span class="by">beeboobaa</span><span>|</span><a href="#39184547">prev</a><span>|</span><a href="#39187395">next</a><span>|</span><label class="collapse" for="c-39185639">[-]</label><label class="expand" for="c-39185639">[5 more]</label></div><br/><div class="children"><div class="content">Anyone archiving every website they visit? I often want to search for something I read recently, which is awkward to do if you don&#x27;t remember where you read it.<p>I&#x27;d like to store everything I visit with my browser once the page is loaded, but haven&#x27;t found any nice solutions for this.</div><br/><div id="39187705" class="c"><input type="checkbox" id="c-39187705" checked=""/><div class="controls bullet"><span class="by">112233</span><span>|</span><a href="#39185639">parent</a><span>|</span><a href="#39185985">next</a><span>|</span><label class="collapse" for="c-39187705">[-]</label><label class="expand" for="c-39187705">[1 more]</label></div><br/><div class="children"><div class="content">was that not literally a built-in feature of Opera 12?</div><br/></div></div><div id="39185985" class="c"><input type="checkbox" id="c-39185985" checked=""/><div class="controls bullet"><span class="by">daniel31x13</span><span>|</span><a href="#39185639">parent</a><span>|</span><a href="#39187705">prev</a><span>|</span><a href="#39186412">next</a><span>|</span><label class="collapse" for="c-39185985">[-]</label><label class="expand" for="c-39185985">[2 more]</label></div><br/><div class="children"><div class="content">Created Linkwarden exactly for this:<p><a href="https:&#x2F;&#x2F;linkwarden.app" rel="nofollow">https:&#x2F;&#x2F;linkwarden.app</a></div><br/><div id="39186219" class="c"><input type="checkbox" id="c-39186219" checked=""/><div class="controls bullet"><span class="by">beeboobaa</span><span>|</span><a href="#39185639">root</a><span>|</span><a href="#39185985">parent</a><span>|</span><a href="#39186412">next</a><span>|</span><label class="collapse" for="c-39186219">[-]</label><label class="expand" for="c-39186219">[1 more]</label></div><br/><div class="children"><div class="content">Nice! This is very close to what I&#x27;m hoping to find. My main issue is that it seems the pages are fetched from the linkwarden server, instead of preserved by my browser extension. For example if I use the browser extension to save a HN page, the saved version is an unauthenticated view of the page instead of showing my username.<p>If the pages were preserved directly from my browser now additional requests to the server would be required, and it would be realistic to archive everything automatically, instead of only when I press the button.</div><br/></div></div></div></div><div id="39186412" class="c"><input type="checkbox" id="c-39186412" checked=""/><div class="controls bullet"><span class="by">autocole</span><span>|</span><a href="#39185639">parent</a><span>|</span><a href="#39185985">prev</a><span>|</span><a href="#39187395">next</a><span>|</span><label class="collapse" for="c-39186412">[-]</label><label class="expand" for="c-39186412">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using the Forethink web extension for that. It keeps a local index of every page I visit for searching<p><a href="https:&#x2F;&#x2F;forethink.ai" rel="nofollow">https:&#x2F;&#x2F;forethink.ai</a></div><br/></div></div></div></div><div id="39187395" class="c"><input type="checkbox" id="c-39187395" checked=""/><div class="controls bullet"><span class="by">silverliver</span><span>|</span><a href="#39185639">prev</a><span>|</span><a href="#39183981">next</a><span>|</span><label class="collapse" for="c-39187395">[-]</label><label class="expand" for="c-39187395">[2 more]</label></div><br/><div class="children"><div class="content">is there a browser add-on that automatically archives every single page I visit? The solutions suggested here seem to be focused on indexing. I want complete saving of all resources so that I can rewind and inspect my entire browsing experience.</div><br/><div id="39187646" class="c"><input type="checkbox" id="c-39187646" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39187395">parent</a><span>|</span><a href="#39183981">next</a><span>|</span><label class="collapse" for="c-39187646">[-]</label><label class="expand" for="c-39187646">[1 more]</label></div><br/><div class="children"><div class="content">The ArchiveBox extension can save all browser history (among others [1]), but I don&#x27;t recommend it. Most people who try it eventually switch to only archiving some domains or some pages.<p>It ends up being too much data to be useful, although that might change with better AI-based search and summarization tooling. Most people also don&#x27;t want to manage the terabytes of storage it would take to do such a thing.<p>[1] <a href="https:&#x2F;&#x2F;wiki.archivebox.io&#x2F;Web-Archiving-Community#other-archivebox-alternatives" rel="nofollow">https:&#x2F;&#x2F;wiki.archivebox.io&#x2F;Web-Archiving-Community#other-arc...</a></div><br/></div></div></div></div><div id="39183981" class="c"><input type="checkbox" id="c-39183981" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#39187395">prev</a><span>|</span><a href="#39185425">next</a><span>|</span><label class="collapse" for="c-39183981">[-]</label><label class="expand" for="c-39183981">[18 more]</label></div><br/><div class="children"><div class="content">Great article on the WARC file format. I really appreciate the efforts of the ArchiveIt team in developing and maintaining such a crucial tool for web archiving.<p>I&#x27;m trying to understand why the WARC format was made the way it is. Can someone explain the main reasons behind its design? Specifically, I&#x27;m curious about:<p>- Why not use a regular folder and file system with separate metadata files? It seems simpler and more user-friendly.<p>- Why not use SQLite?</div><br/><div id="39187835" class="c"><input type="checkbox" id="c-39187835" checked=""/><div class="controls bullet"><span class="by">fforflo</span><span>|</span><a href="#39183981">parent</a><span>|</span><a href="#39184293">next</a><span>|</span><label class="collapse" for="c-39187835">[-]</label><label class="expand" for="c-39187835">[1 more]</label></div><br/><div class="children"><div class="content">&gt; - Why not use SQLite?<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Florents-Tselai&#x2F;WarcDB">https:&#x2F;&#x2F;github.com&#x2F;Florents-Tselai&#x2F;WarcDB</a></div><br/></div></div><div id="39184293" class="c"><input type="checkbox" id="c-39184293" checked=""/><div class="controls bullet"><span class="by">egh</span><span>|</span><a href="#39183981">parent</a><span>|</span><a href="#39187835">prev</a><span>|</span><a href="#39184409">next</a><span>|</span><label class="collapse" for="c-39184293">[-]</label><label class="expand" for="c-39184293">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a pretty simple design, and it&#x27;s based on the ARC format (<a href="https:&#x2F;&#x2F;archive.org&#x2F;web&#x2F;researcher&#x2F;ArcFileFormat.php" rel="nofollow">https:&#x2F;&#x2F;archive.org&#x2F;web&#x2F;researcher&#x2F;ArcFileFormat.php</a>) which is even simpler. In response to your questions, here&#x27;s my take (as somebody who used to work on web archiving).<p>1. Two reasons: First, many files are harder to manage. WARC files might contain hundreds or thousands of files. It&#x27;s easier to manage big groups of files that are roughly the same size. Both for humans, and, at least in the past, for the file systems themselves. Second, once you break them up into files, what do you name the files? If you give them a name unrelated to the URL that was fetched, what is the advantage? If you name them based on the URL, suddenly you have a problem of mapping a URL to a legal file name, which can vary based on the file system. This would be a huge headache.<p>2. Yes, it predates SQLite, but also, why would you use sqlite? That&#x27;s adding a huge amount of complexity. Is SQLite even good at storing big binary blobs?<p>Additionally, because of the clever way that WARC files are gzipped, each piece of the WARC file is gzipped individually, which allows random access into the file for reading enclosed content in a compressed file without needing to read the entire WARC file.</div><br/><div id="39184325" class="c"><input type="checkbox" id="c-39184325" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184293">parent</a><span>|</span><a href="#39184416">next</a><span>|</span><label class="collapse" for="c-39184325">[-]</label><label class="expand" for="c-39184325">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Is SQLite even good at storing big binary blobs<p>Nope! SQLite is good for lots of small-ish blobs (kilobytes), but once you start getting into the megabyte range, less so. There&#x27;s also currently a hard upper limit blob size of 2GiB.</div><br/></div></div><div id="39184416" class="c"><input type="checkbox" id="c-39184416" checked=""/><div class="controls bullet"><span class="by">abracadaniel</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184293">parent</a><span>|</span><a href="#39184325">prev</a><span>|</span><a href="#39184403">next</a><span>|</span><label class="collapse" for="c-39184416">[-]</label><label class="expand" for="c-39184416">[2 more]</label></div><br/><div class="children"><div class="content">To add to this, WARC.gz files are also concatenated gzip records, so you can read any record by starting a decompression at a known offset. This gives you the access time of a file with the efficiency of having many many records only taking up one file.</div><br/><div id="39187656" class="c"><input type="checkbox" id="c-39187656" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184416">parent</a><span>|</span><a href="#39184403">next</a><span>|</span><label class="collapse" for="c-39187656">[-]</label><label class="expand" for="c-39187656">[1 more]</label></div><br/><div class="children"><div class="content">WACZ also extends this functionality to allow streaming archives off a server without having to request the whole file to get one page. <a href="https:&#x2F;&#x2F;replayweb.page&#x2F;docs&#x2F;wacz-format" rel="nofollow">https:&#x2F;&#x2F;replayweb.page&#x2F;docs&#x2F;wacz-format</a></div><br/></div></div></div></div><div id="39184403" class="c"><input type="checkbox" id="c-39184403" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184293">parent</a><span>|</span><a href="#39184416">prev</a><span>|</span><a href="#39184409">next</a><span>|</span><label class="collapse" for="c-39184403">[-]</label><label class="expand" for="c-39184403">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the insights, egh! It&#x27;s clear now why SQLite wouldn&#x27;t be ideal for this purpose. Also, the point about URLs not always being valid filenames really makes sense.</div><br/></div></div></div></div><div id="39184409" class="c"><input type="checkbox" id="c-39184409" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#39183981">parent</a><span>|</span><a href="#39184293">prev</a><span>|</span><a href="#39184046">next</a><span>|</span><label class="collapse" for="c-39184409">[-]</label><label class="expand" for="c-39184409">[5 more]</label></div><br/><div class="children"><div class="content">&gt; - Why not use a regular folder and file system with separate metadata files? It seems simpler and more user-friendly.<p>Filesystems don&#x27;t generally deal well with having billions of files.  Like you can work around some issues with deep directory structures, but even then it&#x27;s not very effective and many cases you&#x27;ll run out of inodes before you even reach a single billion.  This is not a use-case filesystems in general tend to optimize for.<p>&gt; - Why not use SQLite?<p>The main reason WARC looks like it does is to be as recoverable as possible if the crawler hard-crashes.  There are much fewer things that <i>can</i> go wrong compared other formats.  Records are only stored in exactly one location.  Data corruption, write faults and other error states are all easy to detect and reason about.  You have to work really hard to mess up a WARC file beyond being able to salvage most of it.</div><br/><div id="39184811" class="c"><input type="checkbox" id="c-39184811" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184409">parent</a><span>|</span><a href="#39184046">next</a><span>|</span><label class="collapse" for="c-39184811">[-]</label><label class="expand" for="c-39184811">[4 more]</label></div><br/><div class="children"><div class="content">&gt; The main reason WARC looks like it does is to be as recoverable as possible if the crawler hard-crashes.<p>I disagree on the recovery part. SQLite being ACID compliant, arguably offers better recovery than the WARC format.</div><br/><div id="39184960" class="c"><input type="checkbox" id="c-39184960" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184811">parent</a><span>|</span><a href="#39184046">next</a><span>|</span><label class="collapse" for="c-39184960">[-]</label><label class="expand" for="c-39184960">[3 more]</label></div><br/><div class="children"><div class="content">WARC is also resistant to hardware errors though, and has this property without requiring constant fsyncing.<p>A CSV file is arguably harder to recover by comparison.</div><br/><div id="39185170" class="c"><input type="checkbox" id="c-39185170" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184960">parent</a><span>|</span><a href="#39184046">next</a><span>|</span><label class="collapse" for="c-39185170">[-]</label><label class="expand" for="c-39185170">[2 more]</label></div><br/><div class="children"><div class="content">&gt; WARC is also resistant to hardware errors though, and has this property without requiring constant fsyncing.<p>I just downloaded a sample WARC file to check for any checksums to detect bit rot, but I couldn&#x27;t find one. Can you share any resources I can explore to understand how WARC is more resistant to hardware errors compared to other file formats?</div><br/><div id="39185288" class="c"><input type="checkbox" id="c-39185288" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39185170">parent</a><span>|</span><a href="#39184046">next</a><span>|</span><label class="collapse" for="c-39185288">[-]</label><label class="expand" for="c-39185288">[1 more]</label></div><br/><div class="children"><div class="content">It supports hashes of both the record and record+payload, content length for both, and on top of that if a record is bad, you can easily find the next one from the format itself.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39184046" class="c"><input type="checkbox" id="c-39184046" checked=""/><div class="controls bullet"><span class="by">SnowflakeOnIce</span><span>|</span><a href="#39183981">parent</a><span>|</span><a href="#39184409">prev</a><span>|</span><a href="#39184606">next</a><span>|</span><label class="collapse" for="c-39184046">[-]</label><label class="expand" for="c-39184046">[3 more]</label></div><br/><div class="children"><div class="content">As to the your second question: WARC is based on an older format that was started in the 1990s, before SQLite existed.</div><br/><div id="39184185" class="c"><input type="checkbox" id="c-39184185" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184046">parent</a><span>|</span><a href="#39184606">next</a><span>|</span><label class="collapse" for="c-39184185">[-]</label><label class="expand" for="c-39184185">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for that info! Didn&#x27;t realize WARC predated SQLite. Makes me wonder, are there any modern updates that could enhance WARC, or is it only format for archiving?</div><br/><div id="39184242" class="c"><input type="checkbox" id="c-39184242" checked=""/><div class="controls bullet"><span class="by">makeworld</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184185">parent</a><span>|</span><a href="#39184606">next</a><span>|</span><label class="collapse" for="c-39184242">[-]</label><label class="expand" for="c-39184242">[1 more]</label></div><br/><div class="children"><div class="content">The main update to WARC now is WACZ.<p><a href="https:&#x2F;&#x2F;specs.webrecorder.net&#x2F;wacz&#x2F;1.1.1&#x2F;" rel="nofollow">https:&#x2F;&#x2F;specs.webrecorder.net&#x2F;wacz&#x2F;1.1.1&#x2F;</a></div><br/></div></div></div></div></div></div><div id="39184606" class="c"><input type="checkbox" id="c-39184606" checked=""/><div class="controls bullet"><span class="by">michaelt</span><span>|</span><a href="#39183981">parent</a><span>|</span><a href="#39184046">prev</a><span>|</span><a href="#39185425">next</a><span>|</span><label class="collapse" for="c-39184606">[-]</label><label class="expand" for="c-39184606">[3 more]</label></div><br/><div class="children"><div class="content"><i>&gt; Why not use a regular folder and file system with separate metadata files? It seems simpler and more user-friendly.</i><p>First of all, no matter how easy it is to extract the files, the results will be kinda user unfriendly - unless someone goes through the archived html files updating all the URLs for images and javascript and so on, it&#x27;ll probably end up looking pretty broken. For users who just want to view a few files, Wayback Machine is a better tool for the job.<p>With that said, some situations where warc is helpful include:<p>* If a website had a page at www.example.com&#x2F;foo and a file at www.example.com&#x2F;foo&#x2F;bar.txt you can&#x27;t express that in a regular filesystem, as you can&#x27;t have a file and a directory with the same name.<p>* If a website uses some absurd 2000 character URL like <a href="https:&#x2F;&#x2F;s3.eu-west-2.amazonaws.com&#x2F;document-api-images-live.ch.gov.uk&#x2F;docs&#x2F;D-WKi1U-gH-GK5_ZAteBCDH8U7KRu2oGH5riOkQkfy0M&#x2F;application-pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASIAWRGBDBQ3JAGVZSXW%2F20240124%2Feu-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20240124T211617Z&amp;X-Amz-Expires=60&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEML%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCWV1LXdlc3QtMiJHMEUCIAH8WTsMW%2Fr%2Bd4bDE1z%2FcEOtTnZ45BG%2BU2Dobz3%2FtpcWAiEAgN4c37JFBVlCvRUj5cRq1Zycuevq5w5PwzB0qu%2FcVsoquwUIexAEGgw0NDkyMjkwMzI4MjIiDFL6RhazU9lNl3hJpyqYBXstsc8y4MsNNSBiwkNcxeLNJXip8N9DyUs3X37F%2Bo0x%2BTKKm0f2kJ2%2FXxAijyiQVzNrL9luVcC3T7jeoPneZHm1qnEuVSitp300jCU7KRu2oMq3%2BDbGR1QUMp1QypNXJVCmyax5uCIzkB30XSwoQ2M57J3jSb4l9GC18UVAqVGsWralDgeuHNMneeiRQhJrI6zkVYw28kRhgeDl9tG%2F%2B29Ky3fr%2BEBnZSmKAjRL0R5wS37sRNVM3hofweHqEtKE69ai469OH0yIL13K4UwMaVUgpfLo24NPR9liLfiy7fTMAoC8SJhAfxwRc9c%2BnRfmY5RXS35c0dwaizYQJ6qaWGFq3ZUOgUZRIuxEOTSC%2BNoTHwduW9ZURbEd9AIEKrfMzM8SVo3JX6I3ZbpIlmbz87OTnWUQVb8BTLA%2F%2BEKAhJ9u%2BCHQbJ2Z6xfqssPAyTid859ExhRrUhsV4KB0QeaQJ5vKVLAT2vO2Oyd%2FATab5lMQLILbJB8NK2x64x8jQaYljswQnX6YR8IZr%2BI%2BwWo8HF%2FsQkgfI%2BHfJV4Wn%2FsGMB5jrfXm519lbogWVRyVx65%2FqKv8DbPvIYoz1tztfmyhk5PAiA9ugi4mm%2Fqxj2QSM08wcyU9wKMKJ0N8F1ABgK8H0FV%2F9mr9y5Mf5I5RCLQ%2B2qqjjQaiypC%2Fzf%2FAZEvGZlrrqmcnvCdDSJpiEMhr4MUQmTR5KmBBV5knnyIC9%2BLvVCQWqzgSxU5U%2BX4dStCK9nQwQX76Vrxu9Mgcl%2FQT1r3ii2LdfTjPRjmZ%2BY%2BTyTr%2FDVwYl%2Bmf4ky8wnJMpqMiO4Br5WEJIiuPjxWFdA4%2BuKKaKJot5XAdHLNvu8mwZ5G8NwJj6Keebomq3r1awjxPxglUqj9gwoejDIYwt6XFrQY6sQG7ggh2Xrja38H%2ByRtpBN6ZCbxCuSY6%2BN0ZGFHHg9r%2FPqcdP0Uguy%2B06X78ULxk6dEitIckzaXlLyfkexOkmDToxP5gsU7g%2FUJvZAx9oqfU51zwvteeQwLqmjvB4EG4wZozziRMaB9L0pPTi8w5ZqanBU9SxHZNrrRHNDphioNGXHo9foXlrDHK3iRXkgftY2P0m78ujp0J2ZZbDMbrxoY1OjLly54dRVX0tu2mVoWWW9s%3D&amp;X-Amz-SignedHeaders=host&amp;response-content-disposition=inline%3Bfilename%3D%22companies_house_document.pdf%22&amp;X-Amz-Signature=9cb107709fbc76576e5d2d4c9f14a3b61982dee78831dd45af03317da9040414" rel="nofollow">https:&#x2F;&#x2F;s3.eu-west-2.amazonaws.com&#x2F;document-api-images-live....</a> you don&#x27;t end up with a filesystem-breaking filename.<p>* If www.example.com embeds an image from exampleusercontent.com you can capture the image in the same archive file.<p>* If for some reason you want to store daily copies of www.cnn.com in the same archive for comparison purposes - you can.<p>* It lets you store headers, 300 redirect messages, case-sensitive filenames, and all that sort of stuff.<p>* And it&#x27;s an extremely simple format - basically human readable. So if you think you&#x27;re archiving for the super-long-term and want to make really conservative choices, you can be pretty confident in plain text.</div><br/><div id="39185139" class="c"><input type="checkbox" id="c-39185139" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39184606">parent</a><span>|</span><a href="#39185425">next</a><span>|</span><label class="collapse" for="c-39185139">[-]</label><label class="expand" for="c-39185139">[2 more]</label></div><br/><div class="children"><div class="content">Interesting points about the WARC format.I&#x27;m just wondering how it handles tricky stuff like those cache-busting query parameters and dynamic content generated by scripts. These seem like important details for preserving web pages accurately.</div><br/><div id="39185916" class="c"><input type="checkbox" id="c-39185916" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#39183981">root</a><span>|</span><a href="#39185139">parent</a><span>|</span><a href="#39185425">next</a><span>|</span><label class="collapse" for="c-39185916">[-]</label><label class="expand" for="c-39185916">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s basically like a dumb flight recorder.  It saves the http request and the response, including all headers, cookies, and the full query string, with additional metadata on top.</div><br/></div></div></div></div></div></div></div></div><div id="39185425" class="c"><input type="checkbox" id="c-39185425" checked=""/><div class="controls bullet"><span class="by">slmjkdbtl</span><span>|</span><a href="#39183981">prev</a><span>|</span><a href="#39186175">next</a><span>|</span><label class="collapse" for="c-39185425">[-]</label><label class="expand" for="c-39185425">[8 more]</label></div><br/><div class="children"><div class="content">For personal archiving, how does WARC compare to tools that can save pages as single HTML that can be directly opened in browser, like SingleFile, monolith?<p>[0] <a href="https:&#x2F;&#x2F;chromewebstore.google.com&#x2F;detail&#x2F;singlefile&#x2F;mpiodijhokgodhhofbcjdecpffjipkle" rel="nofollow">https:&#x2F;&#x2F;chromewebstore.google.com&#x2F;detail&#x2F;singlefile&#x2F;mpiodijh...</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;Y2Z&#x2F;monolith">https:&#x2F;&#x2F;github.com&#x2F;Y2Z&#x2F;monolith</a></div><br/><div id="39186038" class="c"><input type="checkbox" id="c-39186038" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#39185425">parent</a><span>|</span><a href="#39185834">next</a><span>|</span><label class="collapse" for="c-39186038">[-]</label><label class="expand" for="c-39186038">[5 more]</label></div><br/><div class="children"><div class="content">I have never used monolith to say with any certainty, but two things in your description are worth highlighting between the <i>goals</i> of WARC versus the umpteen bazillion &quot;save this one page I&#x27;m looking at as a single file&quot; type projects:<p>1. WARC is designed, as a goal, to <i>archive</i> the request-response handshake. It does not get into the business of trying to make it easy for a browser to subsequently <i>display</i> that content, since that&#x27;s a browser&#x27;s problem<p>2. Using your cited project specifically, observe the number of &quot;well, save it but ...&quot; options &lt;<a href="https:&#x2F;&#x2F;github.com&#x2F;Y2Z&#x2F;monolith#options">https:&#x2F;&#x2F;github.com&#x2F;Y2Z&#x2F;monolith#options</a>&gt; which is in stark contrast to the archiving goals I just spoke about. It&#x27;s not a good snapshot of history if the server responded with `content-type: text&#x2F;html;charset=iso-8859-1` back in the 90s but &quot;modern tools&quot; want everything to be UTF-8 so we&#x27;ll just convert it, shall we? Bah, I don&#x27;t like JavaScript, so we&#x27;ll just toss that out, shall we? And so on<p>For 100% clarity: monolith, and similar, may work fantastic for any individual&#x27;s workflow, and I&#x27;m not here to yuck anyone&#x27;s yum; but I do want to highlight that all things being equal it should always be possible to derive monolith files from warc files because the warc files are (or at least have the goal of) perfect fidelity of what the exchange was. I would guess only pcap files would be of higher fidelity, but also a lot more <i>extraneous</i> or potentially privacy violating details</div><br/><div id="39186097" class="c"><input type="checkbox" id="c-39186097" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39185425">root</a><span>|</span><a href="#39186038">parent</a><span>|</span><a href="#39185834">next</a><span>|</span><label class="collapse" for="c-39186097">[-]</label><label class="expand" for="c-39186097">[4 more]</label></div><br/><div class="children"><div class="content">What privacy violating details does WARC retain?</div><br/><div id="39187217" class="c"><input type="checkbox" id="c-39187217" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#39185425">root</a><span>|</span><a href="#39186097">parent</a><span>|</span><a href="#39185834">next</a><span>|</span><label class="collapse" for="c-39187217">[-]</label><label class="expand" for="c-39187217">[3 more]</label></div><br/><div class="children"><div class="content">They said that a pcap could contain unwanted private info.<p>I don&#x27;t know what pcap is though, tcpdump?</div><br/><div id="39187288" class="c"><input type="checkbox" id="c-39187288" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39185425">root</a><span>|</span><a href="#39187217">parent</a><span>|</span><a href="#39185834">next</a><span>|</span><label class="collapse" for="c-39187288">[-]</label><label class="expand" for="c-39187288">[2 more]</label></div><br/><div class="children"><div class="content">they said pcap could contain &quot;a lot more&quot;, so I was wondering what &quot;lesser&quot; private info WARC has</div><br/><div id="39187407" class="c"><input type="checkbox" id="c-39187407" checked=""/><div class="controls bullet"><span class="by">DrewADesign</span><span>|</span><a href="#39185425">root</a><span>|</span><a href="#39187288">parent</a><span>|</span><a href="#39185834">next</a><span>|</span><label class="collapse" for="c-39187407">[-]</label><label class="expand" for="c-39187407">[1 more]</label></div><br/><div class="children"><div class="content">Depends on what you’re archiving. Are you archiving a site with poorly protected authentication mechanisms? Something with personal data? In any case, it won’t have a bunch of internal network traffic that could be sensitive regardless of what you’re archiving.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39185834" class="c"><input type="checkbox" id="c-39185834" checked=""/><div class="controls bullet"><span class="by">brnt</span><span>|</span><a href="#39185425">parent</a><span>|</span><a href="#39186038">prev</a><span>|</span><a href="#39186175">next</a><span>|</span><label class="collapse" for="c-39185834">[-]</label><label class="expand" for="c-39185834">[2 more]</label></div><br/><div class="children"><div class="content">And here is was printing to PDF. How do these tools deal with content rendered by JavaScript, lazy loading, etc?</div><br/><div id="39187699" class="c"><input type="checkbox" id="c-39187699" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39185425">root</a><span>|</span><a href="#39185834">parent</a><span>|</span><a href="#39186175">next</a><span>|</span><label class="collapse" for="c-39187699">[-]</label><label class="expand" for="c-39187699">[1 more]</label></div><br/><div class="children"><div class="content">Singlefile uses the browser it&#x27;s running in to execute all the JS before saving. The Singlefile CLI runs a headless browser to do the same.<p>Most tools that can handle JS use puppeteer, playwright, or chrome headless directly.<p>ArchiveBox uses Singlefile and Chrome headless directly for screenshot, PDF, and HTML saving, though we may switch to playwright soon.<p>The best currently for high-fidelity with JS support is ArchiveWeb.page&#x2F;Browsertrix though, they use puppeteer under the hood with a lot of magic to even make embedded YouTube videos work in the native player on replay.</div><br/></div></div></div></div></div></div><div id="39186175" class="c"><input type="checkbox" id="c-39186175" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39185425">prev</a><span>|</span><label class="collapse" for="c-39186175">[-]</label><label class="expand" for="c-39186175">[3 more]</label></div><br/><div class="children"><div class="content">Can you view this format on a phone?</div><br/><div id="39187707" class="c"><input type="checkbox" id="c-39187707" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39186175">parent</a><span>|</span><a href="#39187316">next</a><span>|</span><label class="collapse" for="c-39187707">[-]</label><label class="expand" for="c-39187707">[1 more]</label></div><br/><div class="children"><div class="content">Yes, you can replay in a browser without any software even! See: <a href="https:&#x2F;&#x2F;ReplayWeb.page" rel="nofollow">https:&#x2F;&#x2F;ReplayWeb.page</a><p>(it uses service workers under the hood to mimic a server and replay the original archived responses)</div><br/></div></div><div id="39187316" class="c"><input type="checkbox" id="c-39187316" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#39186175">parent</a><span>|</span><a href="#39187707">prev</a><span>|</span><label class="collapse" for="c-39187316">[-]</label><label class="expand" for="c-39187316">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t appear to care about viewing, only preserving.<p>Viewing would be a separate job and probably more than one right answer about how it should be done. Ie, just replay the transactions verbatim or try to translate or substitute some parts to adapt to the current context, etc.<p>Well &quot;don&#x27;t care&quot; is wrong. The entire format is designed to be readable and decipherable even if it&#x27;s 200 years in the future and you have no idea what the file is and are starting from scratch looking at it. They obviously care a great deal.<p>In that sense, yes you can look at it on a phone, since you can look at it in any text editor. And that is not some pedantic useless statement but an explicit design goal.<p>But interpreting it in any facier way like replaying the transactions and rendering the original browser view, but on some other browser with a different physical screen size and different browser features and limitations and plugins and scripting languages enabled&#x2F;disabled&#x2F;versions and security settings etc etc etc... That is really an entirely different job and no single right way to do it, so there will need to be many different viewer apps that all make different choices to attain different results from the same raw source data.</div><br/></div></div></div></div></div></div></div></div></div></body></html>