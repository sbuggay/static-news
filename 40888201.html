<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1720256449524" as="style"/><link rel="stylesheet" href="styles.css?v=1720256449524"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.1password.com/1password-2fa-passwords-codes-together/">1Password and 2FA: Is it wrong to store passwords and one-time codes together? (2023)</a> <span class="domain">(<a href="https://blog.1password.com">blog.1password.com</a>)</span></div><div class="subtext"><span>Brajeshwar</span> | <span>25 comments</span></div><br/><div><div id="40888530" class="c"><input type="checkbox" id="c-40888530" checked=""/><div class="controls bullet"><span class="by">leftcenterright</span><span>|</span><a href="#40889028">next</a><span>|</span><label class="collapse" for="c-40888530">[-]</label><label class="expand" for="c-40888530">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For the majority of people, storing TOTP in 1Password is well within their risk tolerance. There will always be those of you who will trade that convenience because you want or require the added protection of true 2FA. And to those faithful hardware key crew members: Think of your true second factor as less “extra layer of security,” and more granular protection that will apply only if you’re subject to certain forms of attack.<p>this is the crux really. Especially when a web based password manager is in use [0], this is not at all within risk tolerance for people really striving for a long-term threat model which they do not need to revisit every couple of years.<p>Buying multiple hardware tokens and keeping one authenticator&#x2F;TOTP app on phone is very practical the best you can do and it is secure, loss-proof and will last for a long time. Most services allow you to add multiple types of 2FA devices.<p>0. <a href="https:&#x2F;&#x2F;lock.cmpxchg8b.com&#x2F;passmgrs.html" rel="nofollow">https:&#x2F;&#x2F;lock.cmpxchg8b.com&#x2F;passmgrs.html</a></div><br/></div></div><div id="40889028" class="c"><input type="checkbox" id="c-40889028" checked=""/><div class="controls bullet"><span class="by">kemotep</span><span>|</span><a href="#40888530">prev</a><span>|</span><a href="#40888800">next</a><span>|</span><label class="collapse" for="c-40889028">[-]</label><label class="expand" for="c-40889028">[1 more]</label></div><br/><div class="children"><div class="content">Multifactor Authentication is having at least two of the following:<p>* Something you know (such as a password)<p>* Something you have (security key, TOTP generator)<p>* Someone you are (biometrics, fingerprint&#x2F;face id)<p>* Somewhere you are (network or geolocation)<p>Using a password manager app and TOTP generator app on the same phone is clearly a single point of failure and does not add meaningfully to your security compared to just storing the TOTP in the password manager. If your device is compromised the attacker has control of both apps potentially, and very likely the TOTP app does not require an additional password or factor. And unless you use a FIDO2 device for MFA, TOTP is not phishing resistant. You can mitigate these issues though.<p>However, if you require a specific device to access the password manager by one of the following methods:<p>* Offline password manager such as KeepassXC (needing the password database file)<p>* Needing a keyfile (like with KeepassXC or 1Password’s device key)<p>* Needing to be on a specific network such as VPN (when using a self-hosted password manager like Bitwarden and configuring the firewall to be limited to a wireguard network for example)<p>Does this count as an additional possession factor or location factor? And if it counts as a possession factor does it meaningfully increase your security posture to have multiple possession factors beyond a FIDO2 key?</div><br/></div></div><div id="40888800" class="c"><input type="checkbox" id="c-40888800" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#40889028">prev</a><span>|</span><a href="#40888407">next</a><span>|</span><label class="collapse" for="c-40888800">[-]</label><label class="expand" for="c-40888800">[8 more]</label></div><br/><div class="children"><div class="content">Say, I want to go the extra mile of not storing them together. What would I have to do?<p>- Both in same password manager is obviously storing together.<p>- Both on same phone, but different apps. There are the subvariants of:  password manager and dedicated OTP app or two different password managers. Also there is the consideration where the apps really store the secret data, e.g. system provided vault<p>- OTP on a separate device<p>I think the middle option has too many ifs and buts and you could argue that as long as its the same device it&#x27;s not really separate.<p>So dedicated OTP token. What should I use?<p>Cheap mobile phone? Does it need a SIM? Are there dedicated devices? Can they store multiple keys?</div><br/><div id="40888806" class="c"><input type="checkbox" id="c-40888806" checked=""/><div class="controls bullet"><span class="by">lye</span><span>|</span><a href="#40888800">parent</a><span>|</span><a href="#40888829">next</a><span>|</span><label class="collapse" for="c-40888806">[-]</label><label class="expand" for="c-40888806">[2 more]</label></div><br/><div class="children"><div class="content">Either a couple of FIDO keys, if your website supports them, or one of these:<p><a href="https:&#x2F;&#x2F;www.token2.com&#x2F;shop&#x2F;category&#x2F;classic-tokens" rel="nofollow">https:&#x2F;&#x2F;www.token2.com&#x2F;shop&#x2F;category&#x2F;classic-tokens</a><p><a href="https:&#x2F;&#x2F;www.token2.com&#x2F;shop&#x2F;category&#x2F;c301-tokens" rel="nofollow">https:&#x2F;&#x2F;www.token2.com&#x2F;shop&#x2F;category&#x2F;c301-tokens</a><p><a href="https:&#x2F;&#x2F;www.token2.com&#x2F;shop&#x2F;category&#x2F;multi-profile-programmable-tokens" rel="nofollow">https:&#x2F;&#x2F;www.token2.com&#x2F;shop&#x2F;category&#x2F;multi-profile-programma...</a><p>Other vendors probably have something like that, I link to what I&#x27;ve personally used.</div><br/><div id="40888892" class="c"><input type="checkbox" id="c-40888892" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#40888800">root</a><span>|</span><a href="#40888806">parent</a><span>|</span><a href="#40888829">next</a><span>|</span><label class="collapse" for="c-40888892">[-]</label><label class="expand" for="c-40888892">[1 more]</label></div><br/><div class="children"><div class="content">How do these hardware devices pair.  They probably can&#x27;t read the QR code provided? They also seem to have just one button, so I need one device per account?<p>EDIT: I see the last link has a multi account device and some devices have USB. How does it work, when it says &quot;factory programmed&quot;? I&#x27;ve never seen that I can sync an app to an existing token.</div><br/></div></div></div></div><div id="40888829" class="c"><input type="checkbox" id="c-40888829" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#40888800">parent</a><span>|</span><a href="#40888806">prev</a><span>|</span><a href="#40888805">next</a><span>|</span><label class="collapse" for="c-40888829">[-]</label><label class="expand" for="c-40888829">[2 more]</label></div><br/><div class="children"><div class="content">&gt; So dedicated OTP token. What should I use?<p>You want something that supports the FIDO2 standard (<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;FIDO_Alliance#FIDO2" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;FIDO_Alliance#FIDO2</a>). In practise this means you probably want something like a YubiKey.</div><br/><div id="40889047" class="c"><input type="checkbox" id="c-40889047" checked=""/><div class="controls bullet"><span class="by">Hamuko</span><span>|</span><a href="#40888800">root</a><span>|</span><a href="#40888829">parent</a><span>|</span><a href="#40888805">next</a><span>|</span><label class="collapse" for="c-40889047">[-]</label><label class="expand" for="c-40889047">[1 more]</label></div><br/><div class="children"><div class="content">I feel like the security benefit of using FIDO2 isn&#x27;t really there, since I don&#x27;t remember when I&#x27;ve actually set up WebAuthn as my two-factor without being prompted to have another mechanism like OTP or SMS as a backup solution. Not that many sites even support it in the first place though.</div><br/></div></div></div></div><div id="40888805" class="c"><input type="checkbox" id="c-40888805" checked=""/><div class="controls bullet"><span class="by">piperswe</span><span>|</span><a href="#40888800">parent</a><span>|</span><a href="#40888829">prev</a><span>|</span><a href="#40888407">next</a><span>|</span><label class="collapse" for="c-40888805">[-]</label><label class="expand" for="c-40888805">[3 more]</label></div><br/><div class="children"><div class="content">Yubikeys support OTPs, you can configure and read them using the Yubico Authenticator application on desktop&#x2F;mobile.</div><br/><div id="40888902" class="c"><input type="checkbox" id="c-40888902" checked=""/><div class="controls bullet"><span class="by">steve1977</span><span>|</span><a href="#40888800">root</a><span>|</span><a href="#40888805">parent</a><span>|</span><a href="#40888407">next</a><span>|</span><label class="collapse" for="c-40888902">[-]</label><label class="expand" for="c-40888902">[2 more]</label></div><br/><div class="children"><div class="content">To expand on that (for those who might not know), the actual secrets are physically on the Yubikey and the Authenticator app on iOS or Android is using them to generate the One-Time Password.<p>This means you can also roam those secrets to different devices (as they are on the Yubikey). But it also means that you need to have access to the key whenever you need the OTP!<p>One caveat is that you can &quot;only&quot; have 32 or 64 accounts per Yubikey (number depending on the version of the key)</div><br/><div id="40889004" class="c"><input type="checkbox" id="c-40889004" checked=""/><div class="controls bullet"><span class="by">graftak</span><span>|</span><a href="#40888800">root</a><span>|</span><a href="#40888902">parent</a><span>|</span><a href="#40888407">next</a><span>|</span><label class="collapse" for="c-40889004">[-]</label><label class="expand" for="c-40889004">[1 more]</label></div><br/><div class="children"><div class="content">That number has to be so big I’d be absolutely confident to never exceed it before ever considering it.<p>Nobody has time to manage&#x2F;backup multiple keys with the fun game of ‘what account is stored on which key’.</div><br/></div></div></div></div></div></div></div></div><div id="40888407" class="c"><input type="checkbox" id="c-40888407" checked=""/><div class="controls bullet"><span class="by">mt42or</span><span>|</span><a href="#40888800">prev</a><span>|</span><a href="#40888821">next</a><span>|</span><label class="collapse" for="c-40888407">[-]</label><label class="expand" for="c-40888407">[12 more]</label></div><br/><div class="children"><div class="content">It is really a bad article. Instead of making things easy to understand it makes things more complex.<p>Factors are : Knowledge (password), Inherence (biometrics) &amp; Possession (device).<p>If you have multiple same factor it remains single factor.<p>1password itself is only one factor for authentication whatever they offer (password, totp, passkey).</div><br/><div id="40888434" class="c"><input type="checkbox" id="c-40888434" checked=""/><div class="controls bullet"><span class="by">Skunkleton</span><span>|</span><a href="#40888407">parent</a><span>|</span><a href="#40888821">next</a><span>|</span><label class="collapse" for="c-40888434">[-]</label><label class="expand" for="c-40888434">[11 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not correct, at least depending on your threat model. Having a password stored + totp in a password manager does give the advantage of protecting you against the loss of the stored password itself.<p>Specifically with 1password I have all three factors you&#x27;ve mentioned above. 1) knowledge - my vault password is memorized, 2) inherence (?) - biometrics used to unlock the vault on trusted devices, 3) possession - my account requires a security key to unlock.</div><br/><div id="40888617" class="c"><input type="checkbox" id="c-40888617" checked=""/><div class="controls bullet"><span class="by">danieldk</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888434">parent</a><span>|</span><a href="#40888551">next</a><span>|</span><label class="collapse" for="c-40888617">[-]</label><label class="expand" for="c-40888617">[1 more]</label></div><br/><div class="children"><div class="content"><i>Having a password stored + totp in a password manager does give the advantage of protecting you against the loss of the stored password itself.</i><p>Which becomes far less relevant when using a password manager, because people don&#x27;t reuse passwords anymore. Password managers also autofill, so eavesdropping on a password is also not possible anymore. One of the primary vectors for compromising passwords is compromising the password manager, which would also compromise the TOTP codes if they were in the password manager. You have much stronger protection against that if your TOTP codes are stored on a separate device.<p>That said, TOTP is also pretty terrible because does not really protect against phishing (just make a phishing site proxy both credentials).<p>Hardware keys are the only really secure solution if you consider password manager compromise as part of your threat model.<p>Remember that password managers are comprisable, just look at LassPass&#x27; history.</div><br/></div></div><div id="40888551" class="c"><input type="checkbox" id="c-40888551" checked=""/><div class="controls bullet"><span class="by">adastra22</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888434">parent</a><span>|</span><a href="#40888617">prev</a><span>|</span><a href="#40888821">next</a><span>|</span><label class="collapse" for="c-40888551">[-]</label><label class="expand" for="c-40888551">[9 more]</label></div><br/><div class="children"><div class="content">...how? Loss of the stored password would mean loss of the TOTP too.</div><br/><div id="40888621" class="c"><input type="checkbox" id="c-40888621" checked=""/><div class="controls bullet"><span class="by">goupil</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888551">parent</a><span>|</span><a href="#40888593">next</a><span>|</span><label class="collapse" for="c-40888621">[-]</label><label class="expand" for="c-40888621">[3 more]</label></div><br/><div class="children"><div class="content">If your 1password is compromised, then loss of the password would mean loss of the TOTP, in which case TOTP doesn&#x27;t help.<p>But there are other scenarios where your password could be stolen without someone getting access to your 1password, for instance if your connection isn&#x27;t protected and a man in the middle can intercept your password.<p>In the end, I would argue that having TOTP in the same place as your password is weaker than having it somewhere else, but it&#x27;s still better than no 2FA</div><br/><div id="40888746" class="c"><input type="checkbox" id="c-40888746" checked=""/><div class="controls bullet"><span class="by">tempestn</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888621">parent</a><span>|</span><a href="#40888677">next</a><span>|</span><label class="collapse" for="c-40888746">[-]</label><label class="expand" for="c-40888746">[1 more]</label></div><br/><div class="children"><div class="content">Another one would be a password change attack. TOTP in 1pw protects you against almost all of the things TOTP normally would, except an attacker somehow gaining access to your vault. But in order to gain access to your vault, they would almost certainly need access to one of your unlocked devices, thanks to the 1pw secret key, which is required in addition to your master pw to unlock the vault on a new device. And if they have that, thrn they would have your second factor even if it were in a separate app.</div><br/></div></div><div id="40888677" class="c"><input type="checkbox" id="c-40888677" checked=""/><div class="controls bullet"><span class="by">danieldk</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888621">parent</a><span>|</span><a href="#40888746">prev</a><span>|</span><a href="#40888593">next</a><span>|</span><label class="collapse" for="c-40888677">[-]</label><label class="expand" for="c-40888677">[1 more]</label></div><br/><div class="children"><div class="content"><i>But there are other scenarios where your password could be stolen without someone getting access to your 1password, for instance if your connection isn&#x27;t protected and a man in the middle can intercept your password.</i><p>Then they could also intercept your TOTP code, which is valid for a pretty long time by default (remember that the TOTP code is accepted for some time after the counter goes to 0 to account for transmission delays, slightly out of sync clocks, etc.) and use that to log into your account.<p>TOTP does not protect against modern forms of phishing. You need something like FIDO2.</div><br/></div></div></div></div><div id="40888593" class="c"><input type="checkbox" id="c-40888593" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888551">parent</a><span>|</span><a href="#40888621">prev</a><span>|</span><a href="#40888601">next</a><span>|</span><label class="collapse" for="c-40888593">[-]</label><label class="expand" for="c-40888593">[3 more]</label></div><br/><div class="children"><div class="content">Say I store a password for service X on 1P.<p>The password becomes known to attackers somehow.<p>That doesn&#x27;t mean they have access to my TOTP for the service, even if it&#x27;s managed by the 1P app.<p>Loss of 1P&#x27;s password&#x2F;key would indeed also mean loss of my TOTP. But then one would have much bigger problems anyway, except if all their 1P passwords also had an external TOTP.</div><br/><div id="40888646" class="c"><input type="checkbox" id="c-40888646" checked=""/><div class="controls bullet"><span class="by">danieldk</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888593">parent</a><span>|</span><a href="#40888601">next</a><span>|</span><label class="collapse" for="c-40888646">[-]</label><label class="expand" for="c-40888646">[2 more]</label></div><br/><div class="children"><div class="content"><i>The password becomes known to attackers somehow.</i><p>Let&#x27;s work through the scenarios:<p>- Eavesdropping on you, doesn&#x27;t happen because you use the password manager&#x27;s autofill.<p>- Hacking service X, TOTP doesn&#x27;t matter. They&#x27;ll have the TOTP shared secret, but who cares anyway, they have access to your whole account.<p>- Using the same password across sites -&gt; shouldn&#x27;t happen either, this is why you are using a password manager.<p>- Phishing: while they cannot access your TOTP secret, they can just ask you a TOTP code while phishing as well and log onto your account.<p>So what is this scenario where an attacker knows your password, needs your TOTP, but doesn&#x27;t have it? The primary scenario I can think of is where they somehow compromised your password manager, but you stored your TOTP secrets on a separate, uncompromised device (like your phone).</div><br/><div id="40888794" class="c"><input type="checkbox" id="c-40888794" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888646">parent</a><span>|</span><a href="#40888601">next</a><span>|</span><label class="collapse" for="c-40888794">[-]</label><label class="expand" for="c-40888794">[1 more]</label></div><br/><div class="children"><div class="content">&gt;<i>- Eavesdropping on you, doesn&#x27;t happen because you use the password manager&#x27;s autofill</i><p>Not necessarily always, I could also copy paste from the password manager (e.g. for some app that doesn&#x27;t support the autofill), write it from memory at some point, and so on.<p>Password manager just means &quot;place to store passwords safely&quot;, it doesn&#x27;t mandate the passwords are generated by it, that autofill and browser extensions are used, and so on.<p>&gt;<i>- Hacking service X, TOTP doesn&#x27;t matter. They&#x27;ll have the TOTP shared secret, but who cares anyway, they have access to your whole account.</i><p>They can (and often do) hack and get the passwords, but not at the same time have access to the account data. E.g. just hack the auth, or have the password file&#x2F;db leak, etc.<p>&gt;<i>- Using the same password across sites -&gt; shouldn&#x27;t happen either, this is why you are using a password manager.</i><p>Doesn&#x27;t matter, can still happen anyway. Not all passwords were created with the password manager, and some someone might not have bothered to change once he added them there.<p>&gt;<i>- Phishing: while they cannot access your TOTP secret, they can just ask you a TOTP code while phishing as well and log onto your account.</i><p>That&#x27;s still about them not having and needing your TOTP.<p>&gt;<i>So what is this scenario where an attacker knows your password, needs your TOTP, but doesn&#x27;t have it?</i><p>For starters, the case where they &quot;ask you a TOTP code while phishing&quot; and you don&#x27;t give it to them.<p>It&#x27;s not mandatory that you&#x27;re prone to their phishing.</div><br/></div></div></div></div></div></div><div id="40888601" class="c"><input type="checkbox" id="c-40888601" checked=""/><div class="controls bullet"><span class="by">gregoryl</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888551">parent</a><span>|</span><a href="#40888593">prev</a><span>|</span><a href="#40888606">next</a><span>|</span><label class="collapse" for="c-40888601">[-]</label><label class="expand" for="c-40888601">[1 more]</label></div><br/><div class="children"><div class="content">Only if the vault is cracked. If it&#x27;s intercepted somehow, or pulled from a database dump, the 2FA token will still be secure.</div><br/></div></div><div id="40888606" class="c"><input type="checkbox" id="c-40888606" checked=""/><div class="controls bullet"><span class="by">eschatology</span><span>|</span><a href="#40888407">root</a><span>|</span><a href="#40888551">parent</a><span>|</span><a href="#40888601">prev</a><span>|</span><a href="#40888821">next</a><span>|</span><label class="collapse" for="c-40888606">[-]</label><label class="expand" for="c-40888606">[1 more]</label></div><br/><div class="children"><div class="content">if your network is compromised I can read your password but not totp<p>if I hacked a website you’re registered to and you had reused your password I got your password but not totp<p>if I broke through your computer and password manager then yes it’s all over, but this is not the only threat model and frankly the least i am worried about</div><br/></div></div></div></div></div></div></div></div><div id="40888821" class="c"><input type="checkbox" id="c-40888821" checked=""/><div class="controls bullet"><span class="by">CPLX</span><span>|</span><a href="#40888407">prev</a><span>|</span><a href="#40888206">next</a><span>|</span><label class="collapse" for="c-40888821">[-]</label><label class="expand" for="c-40888821">[1 more]</label></div><br/><div class="children"><div class="content">Everyone is talking about threat models but like the actual use case here is some web service that doesn’t matter very much that you use sometimes and if it was compromised that wouldn’t matter either but they make you use some fucking login scheme that adds extra time to your day. Or even more accurately they insist on you using their own proprietary mobile app to get a code which really only exists to track you and make trouble when you log in from a different city or have a VA log in for you, spawning a call from them to try to insist on you buying extra licenses so you find the fine print link that lets you use a TOTP instead and get a few minutes of your life back every time as well as their useless fucking app off your iPhone.</div><br/></div></div></div></div></div></div></div></body></html>