<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1734080459057" as="style"/><link rel="stylesheet" href="styles.css?v=1734080459057"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://stripe.com/blog/secret-life-of-dns">The secret life of DNS packets (2019)</a> <span class="domain">(<a href="https://stripe.com">stripe.com</a>)</span></div><div class="subtext"><span>ohjeez</span> | <span>8 comments</span></div><br/><div><div id="42405446" class="c"><input type="checkbox" id="c-42405446" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#42406636">next</a><span>|</span><label class="collapse" for="c-42405446">[-]</label><label class="expand" for="c-42405446">[1 more]</label></div><br/><div class="children"><div class="content">&gt; We realized we may be hitting the AWS limit for how much traffic can be sent to a VPC resolver<p>Never rely on an AWS service until you&#x27;ve understood it&#x27;s quotas.  They are reliable services,  but to maintain that standard,  they have to impose limits at many different levels of the plane.  There are some good &quot;quota surprises&quot; tucked away in there.</div><br/></div></div><div id="42406636" class="c"><input type="checkbox" id="c-42406636" checked=""/><div class="controls bullet"><span class="by">dougifresh94</span><span>|</span><a href="#42405446">prev</a><span>|</span><a href="#42405336">next</a><span>|</span><label class="collapse" for="c-42406636">[-]</label><label class="expand" for="c-42406636">[1 more]</label></div><br/><div class="children"><div class="content">AWS natively provides this (1024 PPS) as a metric (‘ linklocal_allowance_exceeded’) via eth tool, which is automatically scraped by most Observability stacks. See <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AWSEC2&#x2F;latest&#x2F;UserGuide&#x2F;monitoring-network-performance-ena.html#network-performance-metrics" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AWSEC2&#x2F;latest&#x2F;UserGuide&#x2F;monitori...</a></div><br/></div></div><div id="42405336" class="c"><input type="checkbox" id="c-42405336" checked=""/><div class="controls bullet"><span class="by">makiniq0z</span><span>|</span><a href="#42406636">prev</a><span>|</span><a href="#42405056">next</a><span>|</span><label class="collapse" for="c-42405336">[-]</label><label class="expand" for="c-42405336">[2 more]</label></div><br/><div class="children"><div class="content">Instead of running local resolvers for caching, they should have used nscd DNS cache to decrease the volume of queries from those machines running the logs tasks. nscd is not designed for that, but is long known to have this best-use practice: 
<a href="https:&#x2F;&#x2F;prefetch.net&#x2F;blog&#x2F;2011&#x2F;03&#x2F;27&#x2F;configuring-nscd-to-cache-dns-host-lookups&#x2F;" rel="nofollow">https:&#x2F;&#x2F;prefetch.net&#x2F;blog&#x2F;2011&#x2F;03&#x2F;27&#x2F;configuring-nscd-to-cac...</a></div><br/><div id="42406269" class="c"><input type="checkbox" id="c-42406269" checked=""/><div class="controls bullet"><span class="by">factormeta</span><span>|</span><a href="#42405336">parent</a><span>|</span><a href="#42405056">next</a><span>|</span><label class="collapse" for="c-42406269">[-]</label><label class="expand" for="c-42406269">[1 more]</label></div><br/><div class="children"><div class="content">Yeah but then they not going to have a fancy blog about how they hit the AWS traffic limit to VPC resolver!  Now days a tech blog like this is gonna be good tech PR for the company.</div><br/></div></div></div></div><div id="42405056" class="c"><input type="checkbox" id="c-42405056" checked=""/><div class="controls bullet"><span class="by">mattrighetti</span><span>|</span><a href="#42405336">prev</a><span>|</span><a href="#42405977">next</a><span>|</span><label class="collapse" for="c-42405056">[-]</label><label class="expand" for="c-42405056">[1 more]</label></div><br/><div class="children"><div class="content">Another super interesting article that talks about DNS and how it’s used at Spotify [0] (or was used in 2013)<p>[0]: <a href="https:&#x2F;&#x2F;engineering.atspotify.com&#x2F;2013&#x2F;02&#x2F;in-praise-of-boring-technology&#x2F;" rel="nofollow">https:&#x2F;&#x2F;engineering.atspotify.com&#x2F;2013&#x2F;02&#x2F;in-praise-of-borin...</a></div><br/></div></div><div id="42405977" class="c"><input type="checkbox" id="c-42405977" checked=""/><div class="controls bullet"><span class="by">adeptima</span><span>|</span><a href="#42405056">prev</a><span>|</span><a href="#42404834">next</a><span>|</span><label class="collapse" for="c-42405977">[-]</label><label class="expand" for="c-42405977">[1 more]</label></div><br/><div class="children"><div class="content">There are many more dark secrets of DNS packets. Especially, in the context of internet providers and censorship industry -  DNS Filtering, DNS Spoofing&#x2F;Poisoning, Blocking Public DNS, etc</div><br/></div></div><div id="42404834" class="c"><input type="checkbox" id="c-42404834" checked=""/><div class="controls bullet"><span class="by">aeden</span><span>|</span><a href="#42405977">prev</a><span>|</span><label class="collapse" for="c-42404834">[-]</label><label class="expand" for="c-42404834">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to see an update of this for how things look in 2024.</div><br/></div></div></div></div></div></div></div></body></html>