<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728637262492" as="style"/><link rel="stylesheet" href="styles.css?v=1728637262492"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/kevmo314/scuda">Scuda – Virtual GPU over IP</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>kevmo314</span> | <span>12 comments</span></div><br/><div><div id="41807159" class="c"><input type="checkbox" id="c-41807159" checked=""/><div class="controls bullet"><span class="by">dschuetz</span><span>|</span><a href="#41807472">next</a><span>|</span><label class="collapse" for="c-41807159">[-]</label><label class="expand" for="c-41807159">[1 more]</label></div><br/><div class="children"><div class="content">More like &quot;virtual cuda only gpu&quot; over IP.</div><br/></div></div><div id="41807472" class="c"><input type="checkbox" id="c-41807472" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#41807159">prev</a><span>|</span><a href="#41806566">next</a><span>|</span><label class="collapse" for="c-41807472">[-]</label><label class="expand" for="c-41807472">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of this, from a couple months ago.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41203475">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41203475</a></div><br/></div></div><div id="41806566" class="c"><input type="checkbox" id="c-41806566" checked=""/><div class="controls bullet"><span class="by">ghxst</span><span>|</span><a href="#41807472">prev</a><span>|</span><a href="#41806869">next</a><span>|</span><label class="collapse" for="c-41806566">[-]</label><label class="expand" for="c-41806566">[1 more]</label></div><br/><div class="children"><div class="content">This looks more like CUDA over IP or am I missing something?</div><br/></div></div><div id="41806869" class="c"><input type="checkbox" id="c-41806869" checked=""/><div class="controls bullet"><span class="by">gpuhacker</span><span>|</span><a href="#41806566">prev</a><span>|</span><a href="#41806330">next</a><span>|</span><label class="collapse" for="c-41806869">[-]</label><label class="expand" for="c-41806869">[2 more]</label></div><br/><div class="children"><div class="content">As this mentions some prior art but not rCUDA (<a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;RCUDA" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;RCUDA</a>) I&#x27;m a bit confused about what makes scuda different.</div><br/></div></div><div id="41806330" class="c"><input type="checkbox" id="c-41806330" checked=""/><div class="controls bullet"><span class="by">ranger_danger</span><span>|</span><a href="#41806869">prev</a><span>|</span><a href="#41807010">next</a><span>|</span><label class="collapse" for="c-41806330">[-]</label><label class="expand" for="c-41806330">[5 more]</label></div><br/><div class="children"><div class="content">This appears to only support CUDA on nvidia. I&#x27;m curious why they didn&#x27;t just expose &#x2F;dev&#x2F;nvidia-uvm as a socket and forward that over the network instead of hooking hundreds of functions (maybe it&#x27;s not that simple and I just don&#x27;t know).</div><br/><div id="41807005" class="c"><input type="checkbox" id="c-41807005" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#41806330">parent</a><span>|</span><a href="#41807010">next</a><span>|</span><label class="collapse" for="c-41807005">[-]</label><label class="expand" for="c-41807005">[4 more]</label></div><br/><div class="children"><div class="content">You can&#x27;t mmap a socket, and mmap is core to how &#x2F;dev&#x2F;nvidia-uvm works.</div><br/><div id="41807671" class="c"><input type="checkbox" id="c-41807671" checked=""/><div class="controls bullet"><span class="by">afr0ck</span><span>|</span><a href="#41806330">root</a><span>|</span><a href="#41807005">parent</a><span>|</span><a href="#41807430">next</a><span>|</span><label class="collapse" for="c-41807671">[-]</label><label class="expand" for="c-41807671">[1 more]</label></div><br/><div class="children"><div class="content">Well, it&#x27;s not impossible. It&#x27;s just software after all. You can mmap a remote device file, but you need OS support to do the magical paging for you, probably some sort of page ownership tracking protocol like in HMM [1], but outside a coherence domain.<p>I was once working on CXL [2] and memory ownership tracking in the Linux kernel and wanted to play with Nvidia GPUs, but then I hit a wall when I realised that a lot of the functionalities were running on the GSP or the firmware blob with very little to no documentation, so I ended up generally not liking the system software stack of Nvidia and I gave up the project. UVM subsystem in the open kernel driver is a bit of an exception, but a lot of the control path is still handled and controlled from closed-source cuda libraries in userspace.<p>tldr; it&#x27;s very hard to do systems hacking with Nvidia GPUs.<p>[1] <a href="https:&#x2F;&#x2F;www.kernel.org&#x2F;doc&#x2F;html&#x2F;v5.0&#x2F;vm&#x2F;hmm.html" rel="nofollow">https:&#x2F;&#x2F;www.kernel.org&#x2F;doc&#x2F;html&#x2F;v5.0&#x2F;vm&#x2F;hmm.html</a>
[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Compute_Express_Link" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Compute_Express_Link</a></div><br/></div></div><div id="41807430" class="c"><input type="checkbox" id="c-41807430" checked=""/><div class="controls bullet"><span class="by">majke</span><span>|</span><a href="#41806330">root</a><span>|</span><a href="#41807005">parent</a><span>|</span><a href="#41807671">prev</a><span>|</span><a href="#41807094">next</a><span>|</span><label class="collapse" for="c-41807430">[-]</label><label class="expand" for="c-41807430">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a first time I hear about &#x2F;dev&#x2F;nvidia-uvm. Is there any documentation on how nvidia API works? Especially, how strong is the multi-tenancy story. Can two users use one GPU and expect reasonable security?<p>Last time I checked the GPU did offer some kind of memory isolation, but that was only for their datacenter, not consumer cards.</div><br/></div></div><div id="41807094" class="c"><input type="checkbox" id="c-41807094" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#41806330">root</a><span>|</span><a href="#41807005">parent</a><span>|</span><a href="#41807430">prev</a><span>|</span><a href="#41807010">next</a><span>|</span><label class="collapse" for="c-41807094">[-]</label><label class="expand" for="c-41807094">[1 more]</label></div><br/><div class="children"><div class="content">Which seems weird to me: if we&#x27;re going to have device files, it&#x27;s super annoying that they actually don&#x27;t really act like files.<p>Like we really should just have enough rDMA in the kernel to let that work.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>