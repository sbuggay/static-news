<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717146073707" as="style"/><link rel="stylesheet" href="styles.css?v=1717146073707"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.plerion.com/things-you-wish-you-didnt-need-to-know-about-s3/">Things you wish you didn&#x27;t need to know about S3</a> <span class="domain">(<a href="https://blog.plerion.com">blog.plerion.com</a>)</span></div><div class="subtext"><span>miles</span> | <span>63 comments</span></div><br/><div><div id="40531553" class="c"><input type="checkbox" id="c-40531553" checked=""/><div class="controls bullet"><span class="by">coolgoose</span><span>|</span><a href="#40531926">next</a><span>|</span><label class="collapse" for="c-40531553">[-]</label><label class="expand" for="c-40531553">[33 more]</label></div><br/><div class="children"><div class="content">A lot of them are interesting points, but I am not sure I agree with the complaint the file system is case sensitive.<p>That&#x27;s how it should be and I am annoyed at macos for not having it.</div><br/><div id="40531680" class="c"><input type="checkbox" id="c-40531680" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#40531553">parent</a><span>|</span><a href="#40531745">next</a><span>|</span><label class="collapse" for="c-40531680">[-]</label><label class="expand" for="c-40531680">[17 more]</label></div><br/><div class="children"><div class="content">&gt; <i>That&#x27;s how it should be</i><p>Why? Windows is also not case-sensitive, so it&#x27;s not like there&#x27;s a near-universal convention that S3 is ignoring.<p>Case sensitivity in file names is surprising even to non-technical people. If someone says they sent you &quot;Book Draft 1.docx&quot; and you check your email to find &quot;Book draft 1.docx,&quot; you don&#x27;t say, &quot;Hey! I think you sent me the wrong file!&quot;<p>Casing is <i>usually</i> not meaningful even in written language. &quot;Hi, how are you?&quot; means the same thing as &quot;hi, how are you?&quot; Uppercase changes meaning only when distinguishing between proper and common nouns, which is rarely a concern we have with file names anyway.</div><br/><div id="40532797" class="c"><input type="checkbox" id="c-40532797" checked=""/><div class="controls bullet"><span class="by">Lutger</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40531765">next</a><span>|</span><label class="collapse" for="c-40532797">[-]</label><label class="expand" for="c-40532797">[1 more]</label></div><br/><div class="children"><div class="content">There are just not the same characters. A filesystem should not have an opinion on what strings of characters _mean_ the same. It is the wrong level of abstraction.<p>filenames might even not be words at all, and surely not limited to English. We shouldn&#x27;t implement rules and conventions from spoken English at a filesystem level, certainly not S3.<p>MacOS and Windows are just wrong about this.</div><br/></div></div><div id="40531765" class="c"><input type="checkbox" id="c-40531765" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40532797">prev</a><span>|</span><a href="#40531882">next</a><span>|</span><label class="collapse" for="c-40531765">[-]</label><label class="expand" for="c-40531765">[4 more]</label></div><br/><div class="children"><div class="content">&gt; If someone says they sent you &quot;Book Draft 1.docx&quot; and you check your email to find &quot;Book draft 1.docx,&quot; you don&#x27;t say, &quot;Hey! I think you sent me the wrong file!&quot;<p>But you also wouldn&#x27;t say that if they sent &quot;Book - Draft 1.docx&quot;, &quot;Book Draft I.docx&quot;, &quot;BookDraft1.docx&quot;, &quot;Book_Draft_1.docx&quot;, or &quot;Book Draft 1.doc&quot;, and surely you wouldn&#x27;t want a filesystem to treat all of them as the same.</div><br/><div id="40531938" class="c"><input type="checkbox" id="c-40531938" checked=""/><div class="controls bullet"><span class="by">quickslowdown</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531765">parent</a><span>|</span><a href="#40531828">next</a><span>|</span><label class="collapse" for="c-40531938">[-]</label><label class="expand" for="c-40531938">[1 more]</label></div><br/><div class="children"><div class="content">This is a personal reason, but the reason I prefer case sensitive directory names is I can make &quot;logical groupings&quot; for things. So, my python git directory might have &quot;Projects&#x2F;&quot; and &quot;Packages&#x2F;,&quot; and the capitalization not only makes them stand out as a sort of &quot;root path&quot; for whatever&#x27;s underneath, but the capitalization makes me conscious of the commands I&#x27;m typing with that path. I can&#x27;t just autopilot a path name, I have to consciously hit shift when tab completion stops working.<p>That might sound like a dumb reason, but it&#x27;s kept me from moving things into the wrong directory, or accidentally removing a directory multiple times in the past.<p>I also use Windows regularly and it really isn&#x27;t a hindrance, so maybe I wouldn&#x27;t actually be bothered if everything was case sensitive.</div><br/></div></div><div id="40531828" class="c"><input type="checkbox" id="c-40531828" checked=""/><div class="controls bullet"><span class="by">cmcconomy</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531765">parent</a><span>|</span><a href="#40531938">prev</a><span>|</span><a href="#40531778">next</a><span>|</span><label class="collapse" for="c-40531828">[-]</label><label class="expand" for="c-40531828">[1 more]</label></div><br/><div class="children"><div class="content">you called it - those are different situations all right</div><br/></div></div></div></div><div id="40531882" class="c"><input type="checkbox" id="c-40531882" checked=""/><div class="controls bullet"><span class="by">lultimouomo</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40531765">prev</a><span>|</span><a href="#40532352">next</a><span>|</span><label class="collapse" for="c-40531882">[-]</label><label class="expand" for="c-40531882">[4 more]</label></div><br/><div class="children"><div class="content">Case insensitive matching is a surprisingly complicated, locale-dependent affair.
Should I.txt and i.txt match? (Note that the first file is <i>not</i> named I.txt).<p>Case insensitive filesystems make about as much sense as ASCII-only filenames.</div><br/><div id="40532327" class="c"><input type="checkbox" id="c-40532327" checked=""/><div class="controls bullet"><span class="by">HeatrayEnjoyer</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531882">parent</a><span>|</span><a href="#40532352">next</a><span>|</span><label class="collapse" for="c-40532327">[-]</label><label class="expand" for="c-40532327">[3 more]</label></div><br/><div class="children"><div class="content">How would locale matter?</div><br/><div id="40532413" class="c"><input type="checkbox" id="c-40532413" checked=""/><div class="controls bullet"><span class="by">ckolkey</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40532327">parent</a><span>|</span><a href="#40532383">next</a><span>|</span><label class="collapse" for="c-40532413">[-]</label><label class="expand" for="c-40532413">[1 more]</label></div><br/><div class="children"><div class="content">Off the top of my head, in turkish, `i` doesn&#x27;t become `I`, it becomes `İ`. And `ı` is the lower case version of `I`</div><br/></div></div><div id="40532383" class="c"><input type="checkbox" id="c-40532383" checked=""/><div class="controls bullet"><span class="by">GolDDranks</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40532327">parent</a><span>|</span><a href="#40532413">prev</a><span>|</span><a href="#40532352">next</a><span>|</span><label class="collapse" for="c-40532383">[-]</label><label class="expand" for="c-40532383">[1 more]</label></div><br/><div class="children"><div class="content">For example, it depends on the locale if the capitalized form of ß is ß or SS.</div><br/></div></div></div></div></div></div><div id="40532352" class="c"><input type="checkbox" id="c-40532352" checked=""/><div class="controls bullet"><span class="by">raincole</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40531882">prev</a><span>|</span><a href="#40531930">next</a><span>|</span><label class="collapse" for="c-40532352">[-]</label><label class="expand" for="c-40532352">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Casing is usually not meaningful even in written language. &quot;Hi, how are you?&quot; means the same thing as &quot;hi, how are you?&quot; Uppercase changes meaning only when distinguishing between proper and common nouns, which is rarely a concern we have with file names anyway.<p>The number of spaces is usually not meaningful in written language. &quot;Hi, how are you?&quot; means the same thing as &quot;Hi,  how are you ?&quot;. I don&#x27;t think it&#x27;s a good reason to make file system ignore space characters.</div><br/></div></div><div id="40531930" class="c"><input type="checkbox" id="c-40531930" checked=""/><div class="controls bullet"><span class="by">blahgeek</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40532352">prev</a><span>|</span><a href="#40532004">next</a><span>|</span><label class="collapse" for="c-40531930">[-]</label><label class="expand" for="c-40531930">[2 more]</label></div><br/><div class="children"><div class="content">No offense, but I think that&#x27;s a very western-centric view. Your example only make sense when the user is familiar to English (or other western languages, I guess). To me personally, I find it strange that &quot;D.txt&quot; and &quot;d.txt&quot; means the same file, since they are two very different characters.  Likewise, I think you would also go crazy if I tell you &quot;ア.txt&quot; and &quot;あ.txt&quot; means the same file (which is hiragana and katakana for A respectively, which in a sense is equivalent to uppercase and lowercase in Japanese), or &quot;一.txt&quot; and &quot;壹.txt&quot; means the same file (which both means number 1 in Chinese, we call the latter one literally &quot;uppercase number&quot;)</div><br/><div id="40532586" class="c"><input type="checkbox" id="c-40532586" checked=""/><div class="controls bullet"><span class="by">ClumsyPilot</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531930">parent</a><span>|</span><a href="#40532004">next</a><span>|</span><label class="collapse" for="c-40532586">[-]</label><label class="expand" for="c-40532586">[1 more]</label></div><br/><div class="children"><div class="content">Those are all the same, I don’t see an issue</div><br/></div></div></div></div><div id="40532004" class="c"><input type="checkbox" id="c-40532004" checked=""/><div class="controls bullet"><span class="by">up2isomorphism</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40531930">prev</a><span>|</span><a href="#40531947">next</a><span>|</span><label class="collapse" for="c-40532004">[-]</label><label class="expand" for="c-40532004">[1 more]</label></div><br/><div class="children"><div class="content">Then why don’t you just always write in lower case?</div><br/></div></div><div id="40531947" class="c"><input type="checkbox" id="c-40531947" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40532004">prev</a><span>|</span><a href="#40531885">next</a><span>|</span><label class="collapse" for="c-40531947">[-]</label><label class="expand" for="c-40531947">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  you don&#x27;t say, &quot;Hey! I think you sent me the wrong file!&quot;<p>You do! Why not?<p>It&#x27;s a big trap. A lot of counterfeit, spam, phishing etc go by this method. You end up buying a fake brand or getting tricked.</div><br/></div></div><div id="40531885" class="c"><input type="checkbox" id="c-40531885" checked=""/><div class="controls bullet"><span class="by">fortran77</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40531947">prev</a><span>|</span><a href="#40531812">next</a><span>|</span><label class="collapse" for="c-40531885">[-]</label><label class="expand" for="c-40531885">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why? Windows is also not case-sensitive, so it&#x27;s not like there&#x27;s a near-universal convention that S3 is ignoring.<p>You can enable case sensitivity for directories or disks, but this is usually done for special cases, like git repos</div><br/></div></div><div id="40531812" class="c"><input type="checkbox" id="c-40531812" checked=""/><div class="controls bullet"><span class="by">pkulak</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531680">parent</a><span>|</span><a href="#40531885">prev</a><span>|</span><a href="#40531745">next</a><span>|</span><label class="collapse" for="c-40531812">[-]</label><label class="expand" for="c-40531812">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, but that little bit of user friendliness ruins the file system for file system things. Now you need “registries” and other, secondary file systems to do file system things because you can’t even use base64 in file names. Make your file browsing app case insensitive, if that’s what you want. Don’t build inferiority down to the core.</div><br/></div></div></div></div><div id="40531745" class="c"><input type="checkbox" id="c-40531745" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#40531553">parent</a><span>|</span><a href="#40531680">prev</a><span>|</span><a href="#40532243">next</a><span>|</span><label class="collapse" for="c-40531745">[-]</label><label class="expand" for="c-40531745">[4 more]</label></div><br/><div class="children"><div class="content">macOS has case sensitivity. It&#x27;s just off by default and is a major pain to turn on. You have to either reinstall from scratch onto a case-sensitive partition, or change the &quot;com.apple.backupd.VolumeIsCaseSensitive&quot; xattr from 0 to 1 in a Time Machine backup of your whole system and then restore everything from it.</div><br/><div id="40531799" class="c"><input type="checkbox" id="c-40531799" checked=""/><div class="controls bullet"><span class="by">JonathonW</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531745">parent</a><span>|</span><a href="#40532243">next</a><span>|</span><label class="collapse" for="c-40531799">[-]</label><label class="expand" for="c-40531799">[3 more]</label></div><br/><div class="children"><div class="content">You shouldn&#x27;t do this if you value things working, though--  this is a pretty rare configuration (you have to go <i>way</i> out of your way to get it), so many developers won&#x27;t test with it and it&#x27;s not unheard of for applications to break on case-sensitive filesystems.<p>If you absolutely <i>need</i> case-sensitivity for a specific application or a specific project, it&#x27;s worth seeing if you can do what you need to do within a case-sensitive disk image.  It may not work for every use-case where you might need a case-sensitive FS, but if it does work for you, it avoids the need to reinstall to make the switch to a case-sensitive FS, and should keep most applications from misbehaving because the root FS is case-sensitive.</div><br/><div id="40531880" class="c"><input type="checkbox" id="c-40531880" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531799">parent</a><span>|</span><a href="#40532040">next</a><span>|</span><label class="collapse" for="c-40531880">[-]</label><label class="expand" for="c-40531880">[1 more]</label></div><br/><div class="children"><div class="content">Most things work fine, but it will break (or at least did break at one point) Steam, Unreal Engine, Microsoft OneDrive, and Adobe Creative Cloud. I&#x27;m rather surprised about the first two, since they both support Linux with case-sensitive filesystems. I took the opposite approach as you, though: making my root filesystem case-sensitive and creating a case-insensitive disk image if I ever needed those broken programs.</div><br/></div></div><div id="40532040" class="c"><input type="checkbox" id="c-40532040" checked=""/><div class="controls bullet"><span class="by">danielheath</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531799">parent</a><span>|</span><a href="#40531880">prev</a><span>|</span><a href="#40532243">next</a><span>|</span><label class="collapse" for="c-40532040">[-]</label><label class="expand" for="c-40532040">[1 more]</label></div><br/><div class="children"><div class="content">I keep a case sensitive volume around to checkout code repositories into. 
For everything else I prefer it insensitive, but my code is being deployed to a case sensitive fs.</div><br/></div></div></div></div></div></div><div id="40532243" class="c"><input type="checkbox" id="c-40532243" checked=""/><div class="controls bullet"><span class="by">dagrz</span><span>|</span><a href="#40531553">parent</a><span>|</span><a href="#40531745">prev</a><span>|</span><a href="#40532001">next</a><span>|</span><label class="collapse" for="c-40532243">[-]</label><label class="expand" for="c-40532243">[1 more]</label></div><br/><div class="children"><div class="content">Author here. There&#x27;s no complaint. It&#x27;s an observation rather than an absolute good or bad. It&#x27;s something you have the consider in designing your application.</div><br/></div></div><div id="40532001" class="c"><input type="checkbox" id="c-40532001" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#40531553">parent</a><span>|</span><a href="#40532243">prev</a><span>|</span><a href="#40531663">next</a><span>|</span><label class="collapse" for="c-40532001">[-]</label><label class="expand" for="c-40532001">[1 more]</label></div><br/><div class="children"><div class="content">UNIX is one of the few OSes that went down that path.<p>Others do offer the option if one is so inclined, and also prepared to deal with legacy software that expects otherwise.<p>Which is also the case with macOS, because although it is a UNIX, OS X had to catter to the Mac OS developer community used to HFS and HFS+.</div><br/></div></div><div id="40531663" class="c"><input type="checkbox" id="c-40531663" checked=""/><div class="controls bullet"><span class="by">sholladay</span><span>|</span><a href="#40531553">parent</a><span>|</span><a href="#40532001">prev</a><span>|</span><a href="#40531789">next</a><span>|</span><label class="collapse" for="c-40531663">[-]</label><label class="expand" for="c-40531663">[3 more]</label></div><br/><div class="children"><div class="content">macOS is case preserving, though. To me, it’s the best of both worlds. You can stylize your file names and they will be respected, but you don’t have to remember how they are stylized when you are searching for or processing them because search is case insensitive.</div><br/><div id="40531683" class="c"><input type="checkbox" id="c-40531683" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531663">parent</a><span>|</span><a href="#40531911">next</a><span>|</span><label class="collapse" for="c-40531683">[-]</label><label class="expand" for="c-40531683">[1 more]</label></div><br/><div class="children"><div class="content">Windows is also case-insensitive but case-preserving</div><br/></div></div><div id="40531911" class="c"><input type="checkbox" id="c-40531911" checked=""/><div class="controls bullet"><span class="by">self_awareness</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531663">parent</a><span>|</span><a href="#40531683">prev</a><span>|</span><a href="#40531789">next</a><span>|</span><label class="collapse" for="c-40531911">[-]</label><label class="expand" for="c-40531911">[1 more]</label></div><br/><div class="children"><div class="content">Maybe macOS is case-preserving, but it&#x27;s not encoding-preserving. If you create a file using a composed UTF-8 &quot;A&quot;, the filesystem layer will decompose the string to another form, and create the filename using that decomposed form &quot;B&quot;. Of course, &quot;A&quot; and &quot;B&quot; when compared can be completely different (even when compared using case insensitivity enabled), yet will point to the same file.<p>More info here: <a href="https:&#x2F;&#x2F;eclecticlight.co&#x2F;2021&#x2F;05&#x2F;08&#x2F;explainer-unicode-normalization-and-apfs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;eclecticlight.co&#x2F;2021&#x2F;05&#x2F;08&#x2F;explainer-unicode-normal...</a></div><br/></div></div></div></div><div id="40531789" class="c"><input type="checkbox" id="c-40531789" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#40531553">parent</a><span>|</span><a href="#40531663">prev</a><span>|</span><a href="#40531926">next</a><span>|</span><label class="collapse" for="c-40531789">[-]</label><label class="expand" for="c-40531789">[6 more]</label></div><br/><div class="children"><div class="content">Case insensitive is how humans think about names. “John” and “New York” are the same identifiers as “john” and “new york”. It would be pretty weird if someone insisted that their passport is invalid because the name is printed in all caps and that’s not their preferred spelling.<p>IMO the best thing would be to call Unix-style case-sensitive file names something else. But it’s obviously too late for that.</div><br/><div id="40532179" class="c"><input type="checkbox" id="c-40532179" checked=""/><div class="controls bullet"><span class="by">lalaithion</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531789">parent</a><span>|</span><a href="#40532152">next</a><span>|</span><label class="collapse" for="c-40532179">[-]</label><label class="expand" for="c-40532179">[2 more]</label></div><br/><div class="children"><div class="content">The word “Turkey” is not the same as “turkey”, “August” is not the same as “august”, and “Muse” is not the same as “muse”. <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Capitonym" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Capitonym</a></div><br/><div id="40532370" class="c"><input type="checkbox" id="c-40532370" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40532179">parent</a><span>|</span><a href="#40532152">next</a><span>|</span><label class="collapse" for="c-40532370">[-]</label><label class="expand" for="c-40532370">[1 more]</label></div><br/><div class="children"><div class="content">Yet &quot;TURKEY&quot; is not a separate word from &quot;Turkey&quot; and &quot;turkey&quot;. Ultimately context disambiguates these words, not capitalization.</div><br/></div></div></div></div><div id="40532152" class="c"><input type="checkbox" id="c-40532152" checked=""/><div class="controls bullet"><span class="by">bigstrat2003</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531789">parent</a><span>|</span><a href="#40532179">prev</a><span>|</span><a href="#40532112">next</a><span>|</span><label class="collapse" for="c-40532152">[-]</label><label class="expand" for="c-40532152">[1 more]</label></div><br/><div class="children"><div class="content">Agreed. I think case sensitivity in Unix filesystems is actually a pretty poor design decision. It prioritizes what is convenient for the computer (easy to compare file paths) over what makes sense for the user (treating file paths the same way human intuition does).</div><br/></div></div><div id="40532112" class="c"><input type="checkbox" id="c-40532112" checked=""/><div class="controls bullet"><span class="by">Hamuko</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40531789">parent</a><span>|</span><a href="#40532152">prev</a><span>|</span><a href="#40531926">next</a><span>|</span><label class="collapse" for="c-40532112">[-]</label><label class="expand" for="c-40532112">[2 more]</label></div><br/><div class="children"><div class="content">Humans will also treat &quot;Jyväskylä&quot;, &quot;Jyvaskyla&quot; and &quot;Jyvaeskylae&quot; as the same identifiers but I don&#x27;t think that&#x27;s a good basis for file storage to have those be the same filenames.</div><br/><div id="40532380" class="c"><input type="checkbox" id="c-40532380" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#40531553">root</a><span>|</span><a href="#40532112">parent</a><span>|</span><a href="#40531926">next</a><span>|</span><label class="collapse" for="c-40532380">[-]</label><label class="expand" for="c-40532380">[1 more]</label></div><br/><div class="children"><div class="content">In the era of Unicode, this battle is pretty much lost. Several different code point sequences can produce the glyph &#x27;ä&#x27;, and user input can contain any of these. You need to normalize anyway.</div><br/></div></div></div></div></div></div></div></div><div id="40531926" class="c"><input type="checkbox" id="c-40531926" checked=""/><div class="controls bullet"><span class="by">reddalo</span><span>|</span><a href="#40531553">prev</a><span>|</span><a href="#40532582">next</a><span>|</span><label class="collapse" for="c-40531926">[-]</label><label class="expand" for="c-40531926">[2 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t trust myself using S3 (or any other AWS service). Nothing is straightforward, there are too many things going on, too much documentation that I should read, and even then (as OP shows) I may be accidentally and unknowingly expose everything to the world.<p>I think I&#x27;ll stick to actually simple services, such as Hetzner Storage Boxes or DigitalOcean Spaces.</div><br/><div id="40532336" class="c"><input type="checkbox" id="c-40532336" checked=""/><div class="controls bullet"><span class="by">chamomeal</span><span>|</span><a href="#40531926">parent</a><span>|</span><a href="#40532582">next</a><span>|</span><label class="collapse" for="c-40532336">[-]</label><label class="expand" for="c-40532336">[1 more]</label></div><br/><div class="children"><div class="content">I like digital ocean spaces, but it has its own annoying quirks.<p>Like I recently found out yif you pipe a video file larger than a few MB, it’ll drop the <a href="https:&#x2F;&#x2F;" rel="nofollow">https:&#x2F;&#x2F;</a> from the returned Location. So on every file upload I have to check if the location starts with https, and add it on if it’s not there.<p>Of course the S3 node client GitHub issue says “sounds like a digital ocean bug”, and the digital ocean forums say “sounds like an S3 node client bug” lol</div><br/></div></div></div></div><div id="40532582" class="c"><input type="checkbox" id="c-40532582" checked=""/><div class="controls bullet"><span class="by">swiftcoder</span><span>|</span><a href="#40531926">prev</a><span>|</span><a href="#40531611">next</a><span>|</span><label class="collapse" for="c-40532582">[-]</label><label class="expand" for="c-40532582">[1 more]</label></div><br/><div class="children"><div class="content">&gt; S3 isn’t the only service that works this way, Hosted Cognito UI endpoints do something similar (<a href="https:&#x2F;&#x2F;[your-user-pool-domain]&#x2F;login" rel="nofollow">https:&#x2F;&#x2F;[your-user-pool-domain]&#x2F;login</a>).<p>Basically every new service that expects to deal with a lot of traffic should work this way (we did this also for AWS IoT). It&#x27;s a hell of a lot easier to deal with load balancing and request routing if you can segment resources starting at the DNS level...</div><br/></div></div><div id="40531611" class="c"><input type="checkbox" id="c-40531611" checked=""/><div class="controls bullet"><span class="by">isoprophlex</span><span>|</span><a href="#40532582">prev</a><span>|</span><a href="#40532082">next</a><span>|</span><label class="collapse" for="c-40531611">[-]</label><label class="expand" for="c-40531611">[5 more]</label></div><br/><div class="children"><div class="content">That bit on failed multipart uploads invisibly sticking around (and incurring storage cost, unless you explicitly specify some lifecycle magic)... just ugh.<p>And I thought one of the S-es was for &#x27;simple&#x27;.</div><br/><div id="40531899" class="c"><input type="checkbox" id="c-40531899" checked=""/><div class="controls bullet"><span class="by">e____g</span><span>|</span><a href="#40531611">parent</a><span>|</span><a href="#40531870">next</a><span>|</span><label class="collapse" for="c-40531899">[-]</label><label class="expand" for="c-40531899">[2 more]</label></div><br/><div class="children"><div class="content">Yes, that sucks. Blame ahenry@, then GM for S3.<p>My proposal was that parts of incomplete uploads would stick around for only 24 hours after the most recent activity on the upload, and you wouldn&#x27;t be charged for storage during that time. ahenry@ vetoed that.</div><br/><div id="40532631" class="c"><input type="checkbox" id="c-40532631" checked=""/><div class="controls bullet"><span class="by">vbezhenar</span><span>|</span><a href="#40531611">root</a><span>|</span><a href="#40531899">parent</a><span>|</span><a href="#40531870">next</a><span>|</span><label class="collapse" for="c-40532631">[-]</label><label class="expand" for="c-40532631">[1 more]</label></div><br/><div class="children"><div class="content">Why would you propose something that makes company earn less money? I&#x27;m sure that at Amazon scale, this misfeature earned millions of dollars.</div><br/></div></div></div></div><div id="40531870" class="c"><input type="checkbox" id="c-40531870" checked=""/><div class="controls bullet"><span class="by">teitoklien</span><span>|</span><a href="#40531611">parent</a><span>|</span><a href="#40531899">prev</a><span>|</span><a href="#40532090">next</a><span>|</span><label class="collapse" for="c-40531870">[-]</label><label class="expand" for="c-40531870">[1 more]</label></div><br/><div class="children"><div class="content">That S for simple stands for simple ways to skyrocket your expenses</div><br/></div></div><div id="40532090" class="c"><input type="checkbox" id="c-40532090" checked=""/><div class="controls bullet"><span class="by">Hamuko</span><span>|</span><a href="#40531611">parent</a><span>|</span><a href="#40531870">prev</a><span>|</span><a href="#40532082">next</a><span>|</span><label class="collapse" for="c-40532090">[-]</label><label class="expand" for="c-40532090">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I&#x27;ve definitely treaded on the storage cost landmine. Thankfully it was just some cents in my case, but it&#x27;s really infuriating how badly the console exposes the information.</div><br/></div></div></div></div><div id="40532082" class="c"><input type="checkbox" id="c-40532082" checked=""/><div class="controls bullet"><span class="by">dale_glass</span><span>|</span><a href="#40531611">prev</a><span>|</span><a href="#40531819">next</a><span>|</span><label class="collapse" for="c-40532082">[-]</label><label class="expand" for="c-40532082">[5 more]</label></div><br/><div class="children"><div class="content">The case sensitivity one is easy, here&#x27;s a thing that&#x27;s more likely to be entirely unintuitive:<p>S3 paths are fake. Yes, it accepts uploads to &quot;&#x2F;builds&#x2F;1&#x2F;installer.exe&quot;, and yes, you can list what&#x27;s in &#x2F;builds, but all of that is a simulation. What you actually did was to upload a file literally named &#x27;&#x2F;builds&#x2F;1&#x2F;installer.exe&#x27; with the &#x27;&#x2F;&#x27; as part of the name.<p>So, &quot;&#x2F;builds&#x2F;1&#x2F;&#x2F;installer.exe&quot; and &quot;&#x2F;builds&#x2F;&#x2F;1&#x2F;installer.exe&quot; are also possible to upload and entirely different files. Because it&#x27;s the name of a key, there&#x27;s no actual directories.</div><br/><div id="40532711" class="c"><input type="checkbox" id="c-40532711" checked=""/><div class="controls bullet"><span class="by">cnity</span><span>|</span><a href="#40532082">parent</a><span>|</span><a href="#40532141">next</a><span>|</span><label class="collapse" for="c-40532711">[-]</label><label class="expand" for="c-40532711">[2 more]</label></div><br/><div class="children"><div class="content">Aside from resolution of paths to some canonical version (e.g. collapsing redundant &#x2F;&#x27;s in your example), what actually is an &quot;actual directory&quot; other than a prefix?</div><br/><div id="40532810" class="c"><input type="checkbox" id="c-40532810" checked=""/><div class="controls bullet"><span class="by">ncruces</span><span>|</span><a href="#40532082">root</a><span>|</span><a href="#40532711">parent</a><span>|</span><a href="#40532141">next</a><span>|</span><label class="collapse" for="c-40532810">[-]</label><label class="expand" for="c-40532810">[1 more]</label></div><br/><div class="children"><div class="content">An actual directory knows its direct children.<p>An actual directory A with 2 child directories A&#x2F;B and A&#x2F;C, each of which with 1 million files, doesn&#x27;t need to go through millions of entries in an index to figure out the names of B and C.<p>It&#x27;s also not possible for A and A&#x2F; to exist independently, and for A to be a PDF, A&#x2F; an MP4 and A&#x2F;B a JPG under the A&#x2F; ”directory&quot;. All of which are possible, simultaneously, with S3.</div><br/></div></div></div></div><div id="40532141" class="c"><input type="checkbox" id="c-40532141" checked=""/><div class="controls bullet"><span class="by">reddalo</span><span>|</span><a href="#40532082">parent</a><span>|</span><a href="#40532711">prev</a><span>|</span><a href="#40532100">next</a><span>|</span><label class="collapse" for="c-40532141">[-]</label><label class="expand" for="c-40532141">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right, unless you use the new S3 &quot;Directory buckets&quot; [1], which make the entire thing even more confusing!<p>[1] <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonS3&#x2F;latest&#x2F;userguide&#x2F;directory-buckets-overview.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonS3&#x2F;latest&#x2F;userguide&#x2F;direct...</a></div><br/></div></div><div id="40532100" class="c"><input type="checkbox" id="c-40532100" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#40532082">parent</a><span>|</span><a href="#40532141">prev</a><span>|</span><a href="#40531819">next</a><span>|</span><label class="collapse" for="c-40532100">[-]</label><label class="expand" for="c-40532100">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, the prefix thing is a source of so many bugs. I get why AWS took that approach and it’s actually a really smart approach but it still catches so many developers out.<p>Just this year our production system was hit by a weird bug that took 5 people to find. Turned out the issue was an object literally just named “&#x2F;“ and the software was trying to treat it as a path rather than a file.</div><br/></div></div></div></div><div id="40531819" class="c"><input type="checkbox" id="c-40531819" checked=""/><div class="controls bullet"><span class="by">nh2</span><span>|</span><a href="#40532082">prev</a><span>|</span><a href="#40532057">next</a><span>|</span><label class="collapse" for="c-40531819">[-]</label><label class="expand" for="c-40531819">[6 more]</label></div><br/><div class="children"><div class="content">How about the fact that S3 is not suitable for web serving due to  high latencies (in standard storage classes)?<p>Many people think you can just host the resources for your websites, such as images or fonts, straight on S3. But that can make for a shitty experience:<p>&gt; applications can achieve consistent small object latencies (and first-byte-out latencies for larger objects) of roughly 100–200 milliseconds.<p>From: <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonS3&#x2F;latest&#x2F;userguide&#x2F;optimizing-performance.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonS3&#x2F;latest&#x2F;userguide&#x2F;optimi...</a></div><br/><div id="40531877" class="c"><input type="checkbox" id="c-40531877" checked=""/><div class="controls bullet"><span class="by">teitoklien</span><span>|</span><a href="#40531819">parent</a><span>|</span><a href="#40532739">next</a><span>|</span><label class="collapse" for="c-40531877">[-]</label><label class="expand" for="c-40531877">[1 more]</label></div><br/><div class="children"><div class="content">Most folks use S3 as a source for AWS cloudfront for serving content<p>You can even use cloudfront signed cookies to give specific users cdn access to only specific content owned by them on S3. How cool is that.</div><br/></div></div><div id="40532739" class="c"><input type="checkbox" id="c-40532739" checked=""/><div class="controls bullet"><span class="by">mcqueenjordan</span><span>|</span><a href="#40531819">parent</a><span>|</span><a href="#40531877">prev</a><span>|</span><a href="#40531874">next</a><span>|</span><label class="collapse" for="c-40532739">[-]</label><label class="expand" for="c-40532739">[1 more]</label></div><br/><div class="children"><div class="content">s3 is not optimized to directly serve websites, but to durably store and retrieve ~unlimited data.</div><br/></div></div><div id="40531874" class="c"><input type="checkbox" id="c-40531874" checked=""/><div class="controls bullet"><span class="by">WatchDog</span><span>|</span><a href="#40531819">parent</a><span>|</span><a href="#40532739">prev</a><span>|</span><a href="#40531853">next</a><span>|</span><label class="collapse" for="c-40531874">[-]</label><label class="expand" for="c-40531874">[1 more]</label></div><br/><div class="children"><div class="content">Typically you would use cloudfront with S3 if you want to use it for serving web assets.<p>It will cache frequently accessed assets, and in addition to reducing latency may reduce cost quite a bit.</div><br/></div></div><div id="40531853" class="c"><input type="checkbox" id="c-40531853" checked=""/><div class="controls bullet"><span class="by">lulznews</span><span>|</span><a href="#40531819">parent</a><span>|</span><a href="#40531874">prev</a><span>|</span><a href="#40531837">next</a><span>|</span><label class="collapse" for="c-40531853">[-]</label><label class="expand" for="c-40531853">[1 more]</label></div><br/><div class="children"><div class="content">Pretty much everyone knows this …</div><br/></div></div><div id="40531837" class="c"><input type="checkbox" id="c-40531837" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#40531819">parent</a><span>|</span><a href="#40531853">prev</a><span>|</span><a href="#40532057">next</a><span>|</span><label class="collapse" for="c-40531837">[-]</label><label class="expand" for="c-40531837">[1 more]</label></div><br/><div class="children"><div class="content">Put a memcached instance in front and you&#x27;re good.</div><br/></div></div></div></div><div id="40532057" class="c"><input type="checkbox" id="c-40532057" checked=""/><div class="controls bullet"><span class="by">pachico</span><span>|</span><a href="#40531819">prev</a><span>|</span><a href="#40532381">next</a><span>|</span><label class="collapse" for="c-40532057">[-]</label><label class="expand" for="c-40532057">[5 more]</label></div><br/><div class="children"><div class="content">I have the feeling that the entire case (in)-sensitive discussions are usually too much English-centric.<p>Allow me to iterate: I have the feeling way too many language discussions, especially in IT, are too much English-centric.</div><br/><div id="40532260" class="c"><input type="checkbox" id="c-40532260" checked=""/><div class="controls bullet"><span class="by">teitoklien</span><span>|</span><a href="#40532057">parent</a><span>|</span><a href="#40532149">next</a><span>|</span><label class="collapse" for="c-40532260">[-]</label><label class="expand" for="c-40532260">[2 more]</label></div><br/><div class="children"><div class="content">&gt; too much English-centric.<p>Pretty glad about it considering how much more simpler ASCII was to work with compared to Unicode.<p>I say it as a non native english speaker, programming has so many concepts and stuff already, its best not to make it more complex by adding a 101 different languages to account for.<p>Unicode and Timezone, the two things that try to bring more languages and cultures to be accounted for while programming and look what happens, it creates the most amount of pain for everyone including non native english programmers.<p>I dont want to write computer programs in my non-english native tongue, if that means i’ll have to start accounting for every major language while im programming.<p>Its fine that IT discussions are so English-centric. Diversity is more complexity, and no one owns the english language, its just a tool used by people to communicate, thanks to that universal language, I can express my thoughts to most people in India, China, Japan, South America, etc due to having 1 common language.<p>They all own the english language too, the moment they decided to speak in it.<p>No need to bring diversity politics in IT.<p>Best to keep it technical.</div><br/><div id="40532714" class="c"><input type="checkbox" id="c-40532714" checked=""/><div class="controls bullet"><span class="by">orphea</span><span>|</span><a href="#40532057">root</a><span>|</span><a href="#40532260">parent</a><span>|</span><a href="#40532149">next</a><span>|</span><label class="collapse" for="c-40532714">[-]</label><label class="expand" for="c-40532714">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; considering how much more simpler ASCII was to work with compared to Unicode.
</code></pre>
And elemental algebra is more simple than differential calculus.<p>ASCII being simpler just means it is not adequate to represent innate complexity that human languages have. Unicode is not complex because of &quot;diversity politics&quot;, whatever that means. It is because <i>languages are complex</i>.<p>The same story with time zones: they are as complex as time is.</div><br/></div></div></div></div><div id="40532149" class="c"><input type="checkbox" id="c-40532149" checked=""/><div class="controls bullet"><span class="by">reddalo</span><span>|</span><a href="#40532057">parent</a><span>|</span><a href="#40532260">prev</a><span>|</span><a href="#40532381">next</a><span>|</span><label class="collapse" for="c-40532149">[-]</label><label class="expand" for="c-40532149">[2 more]</label></div><br/><div class="children"><div class="content">Speaking of non-English cultures, do Japanese case insensitive systems differentiate between hiragana and katakana?<p>Because, in some ways, the two syllabaries remind me of uppercase and lowercase alphabets.</div><br/><div id="40532663" class="c"><input type="checkbox" id="c-40532663" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#40532057">root</a><span>|</span><a href="#40532149">parent</a><span>|</span><a href="#40532381">next</a><span>|</span><label class="collapse" for="c-40532663">[-]</label><label class="expand" for="c-40532663">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;re more like distinguishing between &quot;o&quot; and “ℴ”.<p>Which is where the European idea of &quot;capital letters&quot; originates, but not how we think about them today.</div><br/></div></div></div></div></div></div><div id="40532381" class="c"><input type="checkbox" id="c-40532381" checked=""/><div class="controls bullet"><span class="by">xarope</span><span>|</span><a href="#40532057">prev</a><span>|</span><a href="#40531604">next</a><span>|</span><label class="collapse" for="c-40532381">[-]</label><label class="expand" for="c-40532381">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There are only losers in this game, but at least we’ve all got a participation ribbon to comfort us in moments of angst.<p>I sense the frustration...</div><br/></div></div><div id="40531604" class="c"><input type="checkbox" id="c-40531604" checked=""/><div class="controls bullet"><span class="by">willsoon</span><span>|</span><a href="#40532381">prev</a><span>|</span><a href="#40532019">next</a><span>|</span><label class="collapse" for="c-40531604">[-]</label><label class="expand" for="c-40531604">[1 more]</label></div><br/><div class="children"><div class="content">My wife - she&#x27;s a future developer, I&#x27;m a lawyer - has had enough of me explaining some of these details in the form of concerns. I am somewhat satisfied to know that my perplexities are not imaginary.</div><br/></div></div><div id="40532019" class="c"><input type="checkbox" id="c-40532019" checked=""/><div class="controls bullet"><span class="by">prpl</span><span>|</span><a href="#40531604">prev</a><span>|</span><a href="#40531961">next</a><span>|</span><label class="collapse" for="c-40532019">[-]</label><label class="expand" for="c-40532019">[1 more]</label></div><br/><div class="children"><div class="content">Not one thing about different API limits for operations according to key prefixes, and how you need to contact support if you need partitioning and provide them the prefixes, huh?</div><br/></div></div><div id="40531961" class="c"><input type="checkbox" id="c-40531961" checked=""/><div class="controls bullet"><span class="by">CaliforniaKarl</span><span>|</span><a href="#40532019">prev</a><span>|</span><a href="#40531659">next</a><span>|</span><label class="collapse" for="c-40531961">[-]</label><label class="expand" for="c-40531961">[1 more]</label></div><br/><div class="children"><div class="content">&gt; S3 buckets are the S3 API<p>&gt; … a relatively small part of the API requires HTTP requests to be sent to generic S3 endpoints (such as s3.us-east-2.amazonaws.com), while the vast majority of requests must be sent to the URL of a target bucket.<p>I believe this is talking about virtual-hosted style and path-style methods for accessing the S3 API.<p>From what I can see [0], at least for the REST API, the entire API works either with virtual-hosted style (where the bucket name is in the host part of the URL) and path-style (where the bucket name is in the path part of the URL).  Amazon has been wanting folks to move over to the virtual-hosted style for a long time, but (as of 3+ years ago) the deprecation of path-style has been delayed[1].<p>This deprecation of path-style requests has been extremely important for products implementing the S3 API.  For example…<p>* MinIO uses path-style requests by default, requiring you set a configuration variable[2] (and set up DNS appropriately) to handle the virtual-hosted style.<p>* Wasabi supports both path-style and virtual-hosted style, but &quot;Wasabi recommends using path-style requests as shown in all examples in this guide (for example, <a href="http:&#x2F;&#x2F;s3.wasabisys.com&#x2F;my-bucket&#x2F;my-object" rel="nofollow">http:&#x2F;&#x2F;s3.wasabisys.com&#x2F;my-bucket&#x2F;my-object</a>) because the path-style offers the greatest flexibility in bucket names, avoiding domain name issues.&quot;[3].<p>Now here&#x27;s the really annoying part: The REST API examples show virtual-hosting style, but <i>path style works too</i>!<p>For example, take the GetBucketTagging example.  Let&#x27;s say you have bucket &quot;karl123456&quot; in region US-West-2.  The example would have you do this:<p>GET &#x2F;?tagging HTTP&#x2F;1.1<p>Host: karl123456.s3.amazonaws.com<p>But instead, you can do this:<p>GET &#x2F;karl123456?tagging HTTP&#x2F;1.1<p>Host: s3.us-west-2.amazonaws.com<p>!!<p>How do I know this?  I tried it!  I constructed a `curl` command do to the path-style request, and it worked!  (I didn&#x27;t use &quot;karl123456&quot;, though.)<p>So hopefully that helps resolve at least one of your S3 annoyances :-)<p>[0]: <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonS3&#x2F;latest&#x2F;userguide&#x2F;RESTAPI.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonS3&#x2F;latest&#x2F;userguide&#x2F;RESTAP...</a><p>[1]: <a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;aws&#x2F;amazon-s3-path-deprecation-plan-the-rest-of-the-story&#x2F;" rel="nofollow">https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;aws&#x2F;amazon-s3-path-deprecation-...</a><p>[2]: <a href="https:&#x2F;&#x2F;min.io&#x2F;docs&#x2F;minio&#x2F;linux&#x2F;reference&#x2F;minio-server&#x2F;settings&#x2F;core.html#envvar.MINIO_DOMAIN" rel="nofollow">https:&#x2F;&#x2F;min.io&#x2F;docs&#x2F;minio&#x2F;linux&#x2F;reference&#x2F;minio-server&#x2F;setti...</a><p>[3]: <a href="https:&#x2F;&#x2F;docs.wasabi.com&#x2F;docs&#x2F;rest-api-introduction" rel="nofollow">https:&#x2F;&#x2F;docs.wasabi.com&#x2F;docs&#x2F;rest-api-introduction</a></div><br/></div></div><div id="40531659" class="c"><input type="checkbox" id="c-40531659" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#40531961">prev</a><span>|</span><label class="collapse" for="c-40531659">[-]</label><label class="expand" for="c-40531659">[1 more]</label></div><br/><div class="children"><div class="content">I barely touch S3, but all of this seems pretty straightforward from the documentation? If you didn&#x27;t want to know this, maybe a career change is in order?</div><br/></div></div></div></div></div></div></div></body></html>