<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736413274805" as="style"/><link rel="stylesheet" href="styles.css?v=1736413274805"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://operating-system-in-1000-lines.vercel.app/en">Operating System in 1,000 Lines – Intro</a> <span class="domain">(<a href="https://operating-system-in-1000-lines.vercel.app">operating-system-in-1000-lines.vercel.app</a>)</span></div><div class="subtext"><span>ingve</span> | <span>99 comments</span></div><br/><div><div id="42634474" class="c"><input type="checkbox" id="c-42634474" checked=""/><div class="controls bullet"><span class="by">nuta</span><span>|</span><a href="#42634278">next</a><span>|</span><label class="collapse" for="c-42634474">[-]</label><label class="expand" for="c-42634474">[20 more]</label></div><br/><div class="children"><div class="content">Author here.<p>I wrote this book so you can spend a boring weekend writing an operating system from scratch. You don’t have to write it in C - you can use your favorite programming language, like Rust or Zig.<p>I intentionally made it not UNIX-like and kept only the essential parts. Thinking about how the OS differs from Linux or Windows can also be fun. Designing an OS is like creating your own world—you can make it however you like!<p>BTW, you might notice some paragraphs feel machine-translated because, to some extent, they are. If you have some time to spare, please send me a PR. The content is written in plain Markdown [1].<p>Hope you enjoy :)<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;nuta&#x2F;operating-system-in-1000-lines&#x2F;tree&#x2F;main&#x2F;website&#x2F;en">https:&#x2F;&#x2F;github.com&#x2F;nuta&#x2F;operating-system-in-1000-lines&#x2F;tree&#x2F;...</a></div><br/><div id="42635690" class="c"><input type="checkbox" id="c-42635690" checked=""/><div class="controls bullet"><span class="by">sesm</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42643038">next</a><span>|</span><label class="collapse" for="c-42635690">[-]</label><label class="expand" for="c-42635690">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Designing an OS is like creating your own world<p>Or like building your temple so you can talk to God directly</div><br/><div id="42636199" class="c"><input type="checkbox" id="c-42636199" checked=""/><div class="controls bullet"><span class="by">sohang</span><span>|</span><a href="#42634474">root</a><span>|</span><a href="#42635690">parent</a><span>|</span><a href="#42642277">next</a><span>|</span><label class="collapse" for="c-42636199">[-]</label><label class="expand" for="c-42636199">[1 more]</label></div><br/><div class="children"><div class="content">TempleOS: <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;TempleOS" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;TempleOS</a></div><br/></div></div><div id="42642277" class="c"><input type="checkbox" id="c-42642277" checked=""/><div class="controls bullet"><span class="by">6510</span><span>|</span><a href="#42634474">root</a><span>|</span><a href="#42635690">parent</a><span>|</span><a href="#42636199">prev</a><span>|</span><a href="#42643038">next</a><span>|</span><label class="collapse" for="c-42642277">[-]</label><label class="expand" for="c-42642277">[1 more]</label></div><br/><div class="children"><div class="content">We won&#x27;t know until we try.</div><br/></div></div></div></div><div id="42643038" class="c"><input type="checkbox" id="c-42643038" checked=""/><div class="controls bullet"><span class="by">Tainnor</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42635690">prev</a><span>|</span><a href="#42642383">next</a><span>|</span><label class="collapse" for="c-42643038">[-]</label><label class="expand" for="c-42643038">[1 more]</label></div><br/><div class="children"><div class="content">I almost feel tempted to use your book to both learn about OS and improve my shitty Japanese. :)</div><br/></div></div><div id="42642383" class="c"><input type="checkbox" id="c-42642383" checked=""/><div class="controls bullet"><span class="by">pronoiac</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42643038">prev</a><span>|</span><a href="#42634941">next</a><span>|</span><label class="collapse" for="c-42642383">[-]</label><label class="expand" for="c-42642383">[1 more]</label></div><br/><div class="children"><div class="content">If you want PRs, I suggest you set up Semantic Linefeeds* sooner, rather than later. Each sentence gets its own line, and it <i>really</i> helps avoid merge conflicts.<p>* <a href="https:&#x2F;&#x2F;rhodesmill.org&#x2F;brandon&#x2F;2012&#x2F;one-sentence-per-line&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rhodesmill.org&#x2F;brandon&#x2F;2012&#x2F;one-sentence-per-line&#x2F;</a></div><br/></div></div><div id="42634941" class="c"><input type="checkbox" id="c-42634941" checked=""/><div class="controls bullet"><span class="by">johndoe0815</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42642383">prev</a><span>|</span><a href="#42640372">next</a><span>|</span><label class="collapse" for="c-42634941">[-]</label><label class="expand" for="c-42634941">[1 more]</label></div><br/><div class="children"><div class="content">Are you planning to also provide an English translation of your microkernel book? That sounds very interesting...</div><br/></div></div><div id="42640372" class="c"><input type="checkbox" id="c-42640372" checked=""/><div class="controls bullet"><span class="by">laurieg</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42634941">prev</a><span>|</span><a href="#42641636">next</a><span>|</span><label class="collapse" for="c-42640372">[-]</label><label class="expand" for="c-42640372">[1 more]</label></div><br/><div class="children"><div class="content">Great resource, thanks for sharing.<p>I thought the written text was very high quality and didn&#x27;t show many of the usual tells of a non-native writer. Could you share some details of how you used AI tools to help write it?</div><br/></div></div><div id="42641636" class="c"><input type="checkbox" id="c-42641636" checked=""/><div class="controls bullet"><span class="by">jb_briant</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42640372">prev</a><span>|</span><a href="#42639322">next</a><span>|</span><label class="collapse" for="c-42641636">[-]</label><label class="expand" for="c-42641636">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Designing an OS is like creating your own world&quot;<p>Making video game is also like creating your own world!<p>And it&#x27;s order of magnitude less hard than making an OS...<p>Bonus point, you have a chance to make a living from it!</div><br/></div></div><div id="42639322" class="c"><input type="checkbox" id="c-42639322" checked=""/><div class="controls bullet"><span class="by">niutech</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42641636">prev</a><span>|</span><a href="#42641302">next</a><span>|</span><label class="collapse" for="c-42639322">[-]</label><label class="expand" for="c-42639322">[1 more]</label></div><br/><div class="children"><div class="content">How does your book compare with the classic &quot;Operating systems design and implementation&quot; by Andrew S. Tanenbaum and Albert S. Woodhull implementing MINIX?</div><br/></div></div><div id="42641302" class="c"><input type="checkbox" id="c-42641302" checked=""/><div class="controls bullet"><span class="by">mayli</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42639322">prev</a><span>|</span><a href="#42636117">next</a><span>|</span><label class="collapse" for="c-42641302">[-]</label><label class="expand" for="c-42641302">[1 more]</label></div><br/><div class="children"><div class="content">Nice project, short and concise enough for an undergrad to learn basic os concept and implementation.</div><br/></div></div><div id="42636117" class="c"><input type="checkbox" id="c-42636117" checked=""/><div class="controls bullet"><span class="by">viraj_shah</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42641302">prev</a><span>|</span><a href="#42638426">next</a><span>|</span><label class="collapse" for="c-42636117">[-]</label><label class="expand" for="c-42636117">[3 more]</label></div><br/><div class="children"><div class="content">Hi OP, this looks super cool. I remember hearing about this (<a href="https:&#x2F;&#x2F;www.linuxfromscratch.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.linuxfromscratch.org&#x2F;</a>) many years ago but have never done it.<p>Curious, what are the prerequisites for this? Do I have to know about how kernels work? How memory management, protection rings or processes are queued? Some I&#x27;d like to definitely learn about.</div><br/><div id="42636593" class="c"><input type="checkbox" id="c-42636593" checked=""/><div class="controls bullet"><span class="by">johnmaguire</span><span>|</span><a href="#42634474">root</a><span>|</span><a href="#42636117">parent</a><span>|</span><a href="#42636870">next</a><span>|</span><label class="collapse" for="c-42636593">[-]</label><label class="expand" for="c-42636593">[1 more]</label></div><br/><div class="children"><div class="content">LFS is about building a Linux distribution from scratch (i.e. using the Linux kernel.)<p>The book in question is about how to build your own operating system (i.e. a non-Linux) kernel from scratch.<p>&gt; We&#x27;ll implement basic context switching, paging, user mode, a command-line shell, a disk device driver, and file read&#x2F;write operations in C. Sounds like a lot, however, it&#x27;s only 1,000 lines of code!</div><br/></div></div></div></div><div id="42638426" class="c"><input type="checkbox" id="c-42638426" checked=""/><div class="controls bullet"><span class="by">sydbarrett74</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42636117">prev</a><span>|</span><a href="#42634668">next</a><span>|</span><label class="collapse" for="c-42638426">[-]</label><label class="expand" for="c-42638426">[1 more]</label></div><br/><div class="children"><div class="content">Did you post to OSDev?</div><br/></div></div><div id="42634668" class="c"><input type="checkbox" id="c-42634668" checked=""/><div class="controls bullet"><span class="by">ilikeorangutans</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42638426">prev</a><span>|</span><a href="#42635674">next</a><span>|</span><label class="collapse" for="c-42634668">[-]</label><label class="expand" for="c-42634668">[1 more]</label></div><br/><div class="children"><div class="content">This is fantastic. Thank you so much for writing this.</div><br/></div></div><div id="42635674" class="c"><input type="checkbox" id="c-42635674" checked=""/><div class="controls bullet"><span class="by">cplusplus6382</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42634668">prev</a><span>|</span><a href="#42634994">next</a><span>|</span><label class="collapse" for="c-42635674">[-]</label><label class="expand" for="c-42635674">[1 more]</label></div><br/><div class="children"><div class="content">Excellent content!</div><br/></div></div><div id="42634994" class="c"><input type="checkbox" id="c-42634994" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42635674">prev</a><span>|</span><a href="#42634730">next</a><span>|</span><label class="collapse" for="c-42634994">[-]</label><label class="expand" for="c-42634994">[1 more]</label></div><br/><div class="children"><div class="content">Kudos for not being yet another UNIX clone tutorial.</div><br/></div></div><div id="42634730" class="c"><input type="checkbox" id="c-42634730" checked=""/><div class="controls bullet"><span class="by">pshirshov</span><span>|</span><a href="#42634474">parent</a><span>|</span><a href="#42634994">prev</a><span>|</span><a href="#42634278">next</a><span>|</span><label class="collapse" for="c-42634730">[-]</label><label class="expand" for="c-42634730">[2 more]</label></div><br/><div class="children"><div class="content">Could you port this to riscv64 please?</div><br/><div id="42637807" class="c"><input type="checkbox" id="c-42637807" checked=""/><div class="controls bullet"><span class="by">ndnsjxj</span><span>|</span><a href="#42634474">root</a><span>|</span><a href="#42634730">parent</a><span>|</span><a href="#42634278">next</a><span>|</span><label class="collapse" for="c-42637807">[-]</label><label class="expand" for="c-42637807">[1 more]</label></div><br/><div class="children"><div class="content">Porting to any platform is trivial after understanding the basics as described in these articles<p>The author explicitly describes why they chose riscv32<p>Why would you want the author to use riscv64 instead?</div><br/></div></div></div></div></div></div><div id="42634278" class="c"><input type="checkbox" id="c-42634278" checked=""/><div class="controls bullet"><span class="by">exDM69</span><span>|</span><a href="#42634474">prev</a><span>|</span><a href="#42632294">next</a><span>|</span><label class="collapse" for="c-42634278">[-]</label><label class="expand" for="c-42634278">[5 more]</label></div><br/><div class="children"><div class="content">Very delightful article. Based on my experience in &quot;hobby&quot; OS programming, I would add setting up GDB debugging as early as possible. It was a great help in my projects and an improvement over debugging with the QEMU monitor only.<p>QEMU contains a built-in GDB server, you&#x27;ll need a GDB client built for the target architecture (riscv in this case) and connecting to the QEMU GDB server over the network.<p><a href="https:&#x2F;&#x2F;qemu-project.gitlab.io&#x2F;qemu&#x2F;system&#x2F;gdb.html" rel="nofollow">https:&#x2F;&#x2F;qemu-project.gitlab.io&#x2F;qemu&#x2F;system&#x2F;gdb.html</a></div><br/><div id="42636531" class="c"><input type="checkbox" id="c-42636531" checked=""/><div class="controls bullet"><span class="by">quruquru</span><span>|</span><a href="#42634278">parent</a><span>|</span><a href="#42641806">next</a><span>|</span><label class="collapse" for="c-42636531">[-]</label><label class="expand" for="c-42636531">[3 more]</label></div><br/><div class="children"><div class="content">Agree, and I&#x27;ll add 3 other really useful QEMU features for osdev:<p>1) Record &amp; Replay: Record an execution and replay it back. You can even attach GDB while replaying, and go back in time while debugging with &quot;reverse-next&quot; and &quot;reverse-continue&quot;: <a href="https:&#x2F;&#x2F;qemu-project.gitlab.io&#x2F;qemu&#x2F;system&#x2F;replay.html" rel="nofollow">https:&#x2F;&#x2F;qemu-project.gitlab.io&#x2F;qemu&#x2F;system&#x2F;replay.html</a><p>2) The QEMU monitor, especially the &quot;gva2gpa&quot; and &quot;xp&quot; commands which are very useful to debug stuff with virtual memory<p>3) &quot;-d mmu,cpu_reset,guest_errors,unimp&quot;: Basically causes QEMU to log when your code does something wrong. Also check &quot;trace:help&quot;, there&#x27;s a bunch of useful stuff to debug drivers</div><br/><div id="42643058" class="c"><input type="checkbox" id="c-42643058" checked=""/><div class="controls bullet"><span class="by">kotborealis</span><span>|</span><a href="#42634278">root</a><span>|</span><a href="#42636531">parent</a><span>|</span><a href="#42636554">next</a><span>|</span><label class="collapse" for="c-42643058">[-]</label><label class="expand" for="c-42643058">[1 more]</label></div><br/><div class="children"><div class="content">Record &amp; replay sounds really nice, but the actual reverse-debugging is broken, see <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;qemu-project&#x2F;qemu&#x2F;-&#x2F;issues&#x2F;2634" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;qemu-project&#x2F;qemu&#x2F;-&#x2F;issues&#x2F;2634</a></div><br/></div></div><div id="42636554" class="c"><input type="checkbox" id="c-42636554" checked=""/><div class="controls bullet"><span class="by">jannesan</span><span>|</span><a href="#42634278">root</a><span>|</span><a href="#42636531">parent</a><span>|</span><a href="#42643058">prev</a><span>|</span><a href="#42641806">next</a><span>|</span><label class="collapse" for="c-42636554">[-]</label><label class="expand" for="c-42636554">[1 more]</label></div><br/><div class="children"><div class="content">thanks for sharing! qemu is very powerful, but it’s hard to discocer a lot of these features</div><br/></div></div></div></div><div id="42641806" class="c"><input type="checkbox" id="c-42641806" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#42634278">parent</a><span>|</span><a href="#42636531">prev</a><span>|</span><a href="#42632294">next</a><span>|</span><label class="collapse" for="c-42641806">[-]</label><label class="expand" for="c-42641806">[1 more]</label></div><br/><div class="children"><div class="content">&gt; you&#x27;ll need a GDB client built for the target architecture<p>Thankfully, GDB has a multiarch build these days which should work for all well-behaved targets in a single build.<p>(the place it is known to fail is for badly-behaved (embedded?) targets where there are configuration differences but no way to identify them)</div><br/></div></div></div></div><div id="42632294" class="c"><input type="checkbox" id="c-42632294" checked=""/><div class="controls bullet"><span class="by">ramon156</span><span>|</span><a href="#42634278">prev</a><span>|</span><a href="#42634863">next</a><span>|</span><label class="collapse" for="c-42632294">[-]</label><label class="expand" for="c-42632294">[4 more]</label></div><br/><div class="children"><div class="content">For any rust enthusiasts, phil-opp&#x27;s guide is such a fun exercise to try out. It was actually the first thing I tried in Rust (very silly idea) and ended up only understanding ~5% of what I had just typed out.<p>I tried it again 2-3 years later and took the time to go over each subject. I even planned in advance to make sure I was going to finish it.</div><br/><div id="42636015" class="c"><input type="checkbox" id="c-42636015" checked=""/><div class="controls bullet"><span class="by">quibono</span><span>|</span><a href="#42632294">parent</a><span>|</span><a href="#42634863">next</a><span>|</span><label class="collapse" for="c-42636015">[-]</label><label class="expand" for="c-42636015">[3 more]</label></div><br/><div class="children"><div class="content">Hey, any chance you could link it please?</div><br/><div id="42636081" class="c"><input type="checkbox" id="c-42636081" checked=""/><div class="controls bullet"><span class="by">vrnvu</span><span>|</span><a href="#42632294">root</a><span>|</span><a href="#42636015">parent</a><span>|</span><a href="#42634863">next</a><span>|</span><label class="collapse" for="c-42636081">[-]</label><label class="expand" for="c-42636081">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;os.phil-opp.com" rel="nofollow">https:&#x2F;&#x2F;os.phil-opp.com</a></div><br/><div id="42636590" class="c"><input type="checkbox" id="c-42636590" checked=""/><div class="controls bullet"><span class="by">quibono</span><span>|</span><a href="#42632294">root</a><span>|</span><a href="#42636081">parent</a><span>|</span><a href="#42634863">next</a><span>|</span><label class="collapse" for="c-42636590">[-]</label><label class="expand" for="c-42636590">[1 more]</label></div><br/><div class="children"><div class="content">Thank you!</div><br/></div></div></div></div></div></div></div></div><div id="42634863" class="c"><input type="checkbox" id="c-42634863" checked=""/><div class="controls bullet"><span class="by">khaledh</span><span>|</span><a href="#42632294">prev</a><span>|</span><a href="#42632680">next</a><span>|</span><label class="collapse" for="c-42634863">[-]</label><label class="expand" for="c-42634863">[2 more]</label></div><br/><div class="children"><div class="content">Very cool to see someone tackling a small OS for RISC-V.<p>Shameless plug: I&#x27;ve written hobby OS (well, a kernel actually) in Nim for x86-64[0] and it&#x27;s all documented as well. I put its development on hold until I create a JetBrains plugin for Nim (in heavy development right now).<p>[0] <a href="https:&#x2F;&#x2F;0xc0ffee.netlify.app&#x2F;osdev" rel="nofollow">https:&#x2F;&#x2F;0xc0ffee.netlify.app&#x2F;osdev</a></div><br/><div id="42637359" class="c"><input type="checkbox" id="c-42637359" checked=""/><div class="controls bullet"><span class="by">elvis70</span><span>|</span><a href="#42634863">parent</a><span>|</span><a href="#42632680">next</a><span>|</span><label class="collapse" for="c-42637359">[-]</label><label class="expand" for="c-42637359">[1 more]</label></div><br/><div class="children"><div class="content">And discussed here a few months ago: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40962767">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40962767</a> - Fusion – A hobby OS implemented in Nim (110 comments)</div><br/></div></div></div></div><div id="42632680" class="c"><input type="checkbox" id="c-42632680" checked=""/><div class="controls bullet"><span class="by">agentkilo</span><span>|</span><a href="#42634863">prev</a><span>|</span><a href="#42633559">next</a><span>|</span><label class="collapse" for="c-42632680">[-]</label><label class="expand" for="c-42632680">[5 more]</label></div><br/><div class="children"><div class="content">Very cool! I just started to dvelve into RISC-V, and the book I&#x27;m reading (not in English) offers their own emulator[1], which, at a glance, is much simpler than QEMU, and comes with a weird license[2]. I wonder if people actually used it, since it looks like an academic project. Maybe I can also follow this tutorial and test it out.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;NJU-ProjectN&#x2F;nemu&#x2F;tree&#x2F;master">https:&#x2F;&#x2F;github.com&#x2F;NJU-ProjectN&#x2F;nemu&#x2F;tree&#x2F;master</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;NJU-ProjectN&#x2F;nemu&#x2F;blob&#x2F;master&#x2F;LICENSE">https:&#x2F;&#x2F;github.com&#x2F;NJU-ProjectN&#x2F;nemu&#x2F;blob&#x2F;master&#x2F;LICENSE</a><p>Edit: wrong link</div><br/><div id="42633827" class="c"><input type="checkbox" id="c-42633827" checked=""/><div class="controls bullet"><span class="by">corank</span><span>|</span><a href="#42632680">parent</a><span>|</span><a href="#42633723">next</a><span>|</span><label class="collapse" for="c-42633827">[-]</label><label class="expand" for="c-42633827">[1 more]</label></div><br/><div class="children"><div class="content">It likely doesn&#x27;t have performance that&#x27;s good enough for production use. Doesn&#x27;t look like there&#x27;s JIT so it&#x27;s all instruction by instruction interpreting.</div><br/></div></div><div id="42633723" class="c"><input type="checkbox" id="c-42633723" checked=""/><div class="controls bullet"><span class="by">markus_zhang</span><span>|</span><a href="#42632680">parent</a><span>|</span><a href="#42633827">prev</a><span>|</span><a href="#42633559">next</a><span>|</span><label class="collapse" for="c-42633723">[-]</label><label class="expand" for="c-42633723">[3 more]</label></div><br/><div class="children"><div class="content">You can follow the MIT course and use QEMU if so wish.</div><br/><div id="42634227" class="c"><input type="checkbox" id="c-42634227" checked=""/><div class="controls bullet"><span class="by">kwakubiney</span><span>|</span><a href="#42632680">root</a><span>|</span><a href="#42633723">parent</a><span>|</span><a href="#42633559">next</a><span>|</span><label class="collapse" for="c-42634227">[-]</label><label class="expand" for="c-42634227">[2 more]</label></div><br/><div class="children"><div class="content">Link to the MIT course?</div><br/><div id="42634747" class="c"><input type="checkbox" id="c-42634747" checked=""/><div class="controls bullet"><span class="by">markus_zhang</span><span>|</span><a href="#42632680">root</a><span>|</span><a href="#42634227">parent</a><span>|</span><a href="#42633559">next</a><span>|</span><label class="collapse" for="c-42634747">[-]</label><label class="expand" for="c-42634747">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;pdos.csail.mit.edu&#x2F;6.1810&#x2F;2024&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pdos.csail.mit.edu&#x2F;6.1810&#x2F;2024&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="42633559" class="c"><input type="checkbox" id="c-42633559" checked=""/><div class="controls bullet"><span class="by">sschmitt</span><span>|</span><a href="#42632680">prev</a><span>|</span><a href="#42632390">next</a><span>|</span><label class="collapse" for="c-42633559">[-]</label><label class="expand" for="c-42633559">[2 more]</label></div><br/><div class="children"><div class="content">Cool! Will be interesting to compare to <a href="https:&#x2F;&#x2F;github.com&#x2F;mit-pdos&#x2F;xv6-riscv">https:&#x2F;&#x2F;github.com&#x2F;mit-pdos&#x2F;xv6-riscv</a>!<p>Shameless plug for my html version of the xv6 book: <a href="https:&#x2F;&#x2F;xv6-guide.github.io&#x2F;xv6-riscv-book&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xv6-guide.github.io&#x2F;xv6-riscv-book&#x2F;</a></div><br/><div id="42633603" class="c"><input type="checkbox" id="c-42633603" checked=""/><div class="controls bullet"><span class="by">pshirshov</span><span>|</span><a href="#42633559">parent</a><span>|</span><a href="#42632390">next</a><span>|</span><label class="collapse" for="c-42633603">[-]</label><label class="expand" for="c-42633603">[1 more]</label></div><br/><div class="children"><div class="content">xv6-riscv is 7000+ LoC. Half of that is userland utilities though.</div><br/></div></div></div></div><div id="42632390" class="c"><input type="checkbox" id="c-42632390" checked=""/><div class="controls bullet"><span class="by">unwind</span><span>|</span><a href="#42633559">prev</a><span>|</span><a href="#42636093">next</a><span>|</span><label class="collapse" for="c-42632390">[-]</label><label class="expand" for="c-42632390">[2 more]</label></div><br/><div class="children"><div class="content">Very nice, I always enjoy some low-level discussion like this.<p>I found a small typo&#x2F;editing glitch on the &quot;RISC-V 101 page&quot; [1]:<p><i>- It&#x27;s a trending CPU (&quot;Instruction Set Architecture&quot;) recent years.</i><p>It should probably say &quot;ISA&quot; instead of &quot;CPU&quot;, and the word &quot;in&quot; is missing from after the parentheses, right?<p>Edit: Markdown, don&#x27;t format the quote as code. Oops.<p>1: <a href="https:&#x2F;&#x2F;operating-system-in-1000-lines.vercel.app&#x2F;en&#x2F;02-assembly" rel="nofollow">https:&#x2F;&#x2F;operating-system-in-1000-lines.vercel.app&#x2F;en&#x2F;02-asse...</a></div><br/><div id="42634584" class="c"><input type="checkbox" id="c-42634584" checked=""/><div class="controls bullet"><span class="by">nuta</span><span>|</span><a href="#42632390">parent</a><span>|</span><a href="#42636093">next</a><span>|</span><label class="collapse" for="c-42634584">[-]</label><label class="expand" for="c-42634584">[1 more]</label></div><br/><div class="children"><div class="content">So do I :D<p>I was wondering that too. I&#x27;ll update it with other examples (x86 and Arm).</div><br/></div></div></div></div><div id="42636093" class="c"><input type="checkbox" id="c-42636093" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#42632390">prev</a><span>|</span><a href="#42632951">next</a><span>|</span><label class="collapse" for="c-42636093">[-]</label><label class="expand" for="c-42636093">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The tricky part of creating your own OS is debugging.<p>The older I get, the more I think I can figure out most problems that don&#x27;t require some really gnarly domain expertise if I have a good way to iterate on them: code something, try it, see the results, see how they compare with what I wanted. It&#x27;s when pieces of that are difficult or impossible, or very slow, things get more difficult.</div><br/></div></div><div id="42632951" class="c"><input type="checkbox" id="c-42632951" checked=""/><div class="controls bullet"><span class="by">vanderZwan</span><span>|</span><a href="#42636093">prev</a><span>|</span><a href="#42636967">next</a><span>|</span><label class="collapse" for="c-42632951">[-]</label><label class="expand" for="c-42632951">[3 more]</label></div><br/><div class="children"><div class="content">This looks nice! I would love to have an ebook version to read on my ereader. I wonder how much effort it would take to use the markdown files in the GH repo and convert those.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;nuta&#x2F;operating-system-in-1000-lines">https:&#x2F;&#x2F;github.com&#x2F;nuta&#x2F;operating-system-in-1000-lines</a></div><br/><div id="42633102" class="c"><input type="checkbox" id="c-42633102" checked=""/><div class="controls bullet"><span class="by">cheeseface</span><span>|</span><a href="#42632951">parent</a><span>|</span><a href="#42636967">next</a><span>|</span><label class="collapse" for="c-42633102">[-]</label><label class="expand" for="c-42633102">[2 more]</label></div><br/><div class="children"><div class="content">You can clone the repo and install pandoc. Then run &quot;pandoc index.md *.md -o operating-system-in-1000-lines.epub&quot; in &quot;website&#x2F;en&#x2F;&quot; folder and you will have a fully working ebook.</div><br/><div id="42641978" class="c"><input type="checkbox" id="c-42641978" checked=""/><div class="controls bullet"><span class="by">vanderZwan</span><span>|</span><a href="#42632951">root</a><span>|</span><a href="#42633102">parent</a><span>|</span><a href="#42636967">next</a><span>|</span><label class="collapse" for="c-42641978">[-]</label><label class="expand" for="c-42641978">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for the tip!</div><br/></div></div></div></div></div></div><div id="42636967" class="c"><input type="checkbox" id="c-42636967" checked=""/><div class="controls bullet"><span class="by">pm2222</span><span>|</span><a href="#42632951">prev</a><span>|</span><a href="#42632897">next</a><span>|</span><label class="collapse" for="c-42636967">[-]</label><label class="expand" for="c-42636967">[1 more]</label></div><br/><div class="children"><div class="content">Two projects mentioned by this one:<p><pre><code>  https:&#x2F;&#x2F;github.com&#x2F;nuta&#x2F;microkernel-book&#x2F;
  https:&#x2F;&#x2F;github.com&#x2F;mit-pdos&#x2F;xv6-riscv</code></pre></div><br/></div></div><div id="42632897" class="c"><input type="checkbox" id="c-42632897" checked=""/><div class="controls bullet"><span class="by">atan2</span><span>|</span><a href="#42636967">prev</a><span>|</span><a href="#42634630">next</a><span>|</span><label class="collapse" for="c-42632897">[-]</label><label class="expand" for="c-42632897">[5 more]</label></div><br/><div class="children"><div class="content">Just a small typo in the RISC-V 101 chapter. It says &quot;it&#x27;s a trending CPU (ISA) recent years.&quot; I believe it should read &quot;in recent years.&quot;</div><br/><div id="42632918" class="c"><input type="checkbox" id="c-42632918" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#42632897">parent</a><span>|</span><a href="#42634630">next</a><span>|</span><label class="collapse" for="c-42632918">[-]</label><label class="expand" for="c-42632918">[4 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t hesitate to send the author an email, open a ticket or a PR to make sure they see this, it seems more appropriate than HN comments for this kind of things :-)<p><a href="https:&#x2F;&#x2F;operating-system-in-1000-lines.vercel.app&#x2F;en&#x2F;17-outro#feedbacks-are-very-welcome" rel="nofollow">https:&#x2F;&#x2F;operating-system-in-1000-lines.vercel.app&#x2F;en&#x2F;17-outr...</a></div><br/><div id="42633091" class="c"><input type="checkbox" id="c-42633091" checked=""/><div class="controls bullet"><span class="by">wccrawford</span><span>|</span><a href="#42632897">root</a><span>|</span><a href="#42632918">parent</a><span>|</span><a href="#42634630">next</a><span>|</span><label class="collapse" for="c-42633091">[-]</label><label class="expand" for="c-42633091">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m sure they know that those things were possible.  Perhaps you could have done it instead?<p>They bothered to stop and suggest improvements here.  That&#x27;s enough work for them.  They don&#x27;t need to go elsewhere and do more, any more than you did.</div><br/></div></div></div></div></div></div><div id="42634630" class="c"><input type="checkbox" id="c-42634630" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#42632897">prev</a><span>|</span><a href="#42635190">next</a><span>|</span><label class="collapse" for="c-42634630">[-]</label><label class="expand" for="c-42634630">[2 more]</label></div><br/><div class="children"><div class="content">I never counted, but my first professional software project was an operating system (firmware) for an RF switching box. It was written in 8085 ASM, and was probably in the neighborhood of 1,000 lines.<p>Apples to oranges, though. It was a specialized firmware system. Probably the biggest part was the IEEE-488 communications handler.</div><br/><div id="42637454" class="c"><input type="checkbox" id="c-42637454" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#42634630">parent</a><span>|</span><a href="#42635190">next</a><span>|</span><label class="collapse" for="c-42637454">[-]</label><label class="expand" for="c-42637454">[1 more]</label></div><br/><div class="children"><div class="content">This is it[0].<p>Looks like more like 2800 lines.<p>[0] <a href="https:&#x2F;&#x2F;littlegreenviper.com&#x2F;wp-content&#x2F;uploads&#x2F;2022&#x2F;07&#x2F;TF30194-Manual-1987.pdf" rel="nofollow">https:&#x2F;&#x2F;littlegreenviper.com&#x2F;wp-content&#x2F;uploads&#x2F;2022&#x2F;07&#x2F;TF30...</a></div><br/></div></div></div></div><div id="42635190" class="c"><input type="checkbox" id="c-42635190" checked=""/><div class="controls bullet"><span class="by">ge96</span><span>|</span><a href="#42634630">prev</a><span>|</span><a href="#42632662">next</a><span>|</span><label class="collapse" for="c-42635190">[-]</label><label class="expand" for="c-42635190">[2 more]</label></div><br/><div class="children"><div class="content">This is on my to do list of things to learn but I also don&#x27;t know yet the purpose other than it being your own. Maybe security since most of what I work with is on top of the OS eg. programming languages. Maybe for RTOS applications at any rate this and OS Dev good resources.</div><br/><div id="42642085" class="c"><input type="checkbox" id="c-42642085" checked=""/><div class="controls bullet"><span class="by">JJOmeo</span><span>|</span><a href="#42635190">parent</a><span>|</span><a href="#42632662">next</a><span>|</span><label class="collapse" for="c-42642085">[-]</label><label class="expand" for="c-42642085">[1 more]</label></div><br/><div class="children"><div class="content">I find this kind of thing most useful for microcontrollers and real-time embedded systems that don&#x27;t require full networking. I&#x27;ve used many of these concepts but maybe not all at once on what many would call &quot;bare metal&quot; systems with no OS.
Audio gizmos like cheap synths, LED nodes, things you want booting really fast with well-bounded functionality.  An OS can get in the way with this kind of system if all you really need is some timers and simple I&#x2F;O. You may still want a primitive scheduler, sane interrupt dispatching, and filesystems.</div><br/></div></div></div></div><div id="42632662" class="c"><input type="checkbox" id="c-42632662" checked=""/><div class="controls bullet"><span class="by">dailykoder</span><span>|</span><a href="#42635190">prev</a><span>|</span><a href="#42638349">next</a><span>|</span><label class="collapse" for="c-42632662">[-]</label><label class="expand" for="c-42632662">[1 more]</label></div><br/><div class="children"><div class="content">This looks nice. Thank you!
Been considering something like that for quite a while now (Since my own risc-v CPU, written in VHDL, is working actually). I might get this as inspiration and rewrite it in Rust (tm) - Because I wnat to learn Rust, too</div><br/></div></div><div id="42638349" class="c"><input type="checkbox" id="c-42638349" checked=""/><div class="controls bullet"><span class="by">mahdihabibi</span><span>|</span><a href="#42632662">prev</a><span>|</span><a href="#42632036">next</a><span>|</span><label class="collapse" for="c-42638349">[-]</label><label class="expand" for="c-42638349">[1 more]</label></div><br/><div class="children"><div class="content">Good stuff! Saving it for the weekend because I&#x27;m such a slow reader!</div><br/></div></div><div id="42632036" class="c"><input type="checkbox" id="c-42632036" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#42638349">prev</a><span>|</span><a href="#42632062">next</a><span>|</span><label class="collapse" for="c-42632036">[-]</label><label class="expand" for="c-42632036">[4 more]</label></div><br/><div class="children"><div class="content">I started a toy OS years ago based on the book <i>Operating System Design</i> by Douglas Comer. Personally I just couldn&#x27;t get excited about anything that didn&#x27;t run on real hardware, so I made mine for Raspberry Pi.<p>Is there any real hardware that this could run on?<p>Looking through this seems to use a lot of assembly. In the above the amount of assembly is kept to a minimum. Pretty much just bootstrapping and context switching. The rest is done in C.</div><br/><div id="42632194" class="c"><input type="checkbox" id="c-42632194" checked=""/><div class="controls bullet"><span class="by">johndoe0815</span><span>|</span><a href="#42632036">parent</a><span>|</span><a href="#42632517">next</a><span>|</span><label class="collapse" for="c-42632194">[-]</label><label class="expand" for="c-42632194">[2 more]</label></div><br/><div class="children"><div class="content">Comer was also my introduction to OS design and I still like the approach used in his Xinu books.<p>I had a quick glance at the OS in the linked article. This seems to be based on a 32-bit RISC-V with MMU. However, AFAIK, all available RISC-V SoCs with MMU are 64-bit. The 32-bit cores are only used for embedded controllers (unless you want to start designing an FPGA-based system).<p>The 32 and 64 bit versions of RISC-V are _not_ binary compatible, but the differences are rather small. Porting the MMU code from 64 to 32 bit or the other way round is not very complex, see my RV32 port of xv6 at
<a href="https:&#x2F;&#x2F;github.com&#x2F;michaelengel&#x2F;xv6-rv32">https:&#x2F;&#x2F;github.com&#x2F;michaelengel&#x2F;xv6-rv32</a> (the regular MIT xv6 version only supports RV64).<p>The major difference is that virtual address translation on RV32, sv32, uses a two-level page table (10 bit index for the first level, 10 bit index for the second and 12 bit offset) whereas there are several modes of translation for RV64. The most common one, sv39, uses 39 bits of the virtual address split into three 9-bit indexes (so you need a three-level page table for 4 kB pages) plus 12 bit offset.<p>If you make the modifications, running the OS on real hardware should not be too difficult. The Allwinner D1 is a relatively simply RV64 single code SoC (boards can be found for $20 upwards from aliexpress) and getting the CPU and a UART to work is not that difficult. You can check out my xv6 port to the D1 as a reference:
<a href="https:&#x2F;&#x2F;github.com&#x2F;michaelengel&#x2F;xv6-d1">https:&#x2F;&#x2F;github.com&#x2F;michaelengel&#x2F;xv6-d1</a></div><br/><div id="42636167" class="c"><input type="checkbox" id="c-42636167" checked=""/><div class="controls bullet"><span class="by">cess11</span><span>|</span><a href="#42632036">root</a><span>|</span><a href="#42632194">parent</a><span>|</span><a href="#42632517">next</a><span>|</span><label class="collapse" for="c-42636167">[-]</label><label class="expand" for="c-42636167">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s encouraging, thanks for sharing.</div><br/></div></div></div></div><div id="42632517" class="c"><input type="checkbox" id="c-42632517" checked=""/><div class="controls bullet"><span class="by">DrNosferatu</span><span>|</span><a href="#42632036">parent</a><span>|</span><a href="#42632194">prev</a><span>|</span><a href="#42632062">next</a><span>|</span><label class="collapse" for="c-42632517">[-]</label><label class="expand" for="c-42632517">[1 more]</label></div><br/><div class="children"><div class="content">I guess this could run on the Raspberry Pico - RP2040 &#x2F; RP2350.</div><br/></div></div></div></div><div id="42632062" class="c"><input type="checkbox" id="c-42632062" checked=""/><div class="controls bullet"><span class="by">com</span><span>|</span><a href="#42632036">prev</a><span>|</span><a href="#42635369">next</a><span>|</span><label class="collapse" for="c-42632062">[-]</label><label class="expand" for="c-42632062">[3 more]</label></div><br/><div class="children"><div class="content">I’m interested in the use of things like virtio instead of real hardware.<p>Are there other virtualisation-driven designs for hardware devices out there rather than the qemu stuff?</div><br/><div id="42632464" class="c"><input type="checkbox" id="c-42632464" checked=""/><div class="controls bullet"><span class="by">johndoe0815</span><span>|</span><a href="#42632062">parent</a><span>|</span><a href="#42632830">next</a><span>|</span><label class="collapse" for="c-42632464">[-]</label><label class="expand" for="c-42632464">[1 more]</label></div><br/><div class="children"><div class="content">Virtio is not qemu only. For example, the macOS virtualization framework on Apple Silicon Macs (and x86 machines IIRC) also provides virtio devices, other hypervisors.<p>An overview of the available devices can be found in this presentation:<p><a href="https:&#x2F;&#x2F;crc.dev&#x2F;blog&#x2F;Container%20Plumbing%202023%20-%20vfkit%20-%20A%20minimal%20hypervisor%20using%20Apple%27s%20virtualization%20framework.pdf" rel="nofollow">https:&#x2F;&#x2F;crc.dev&#x2F;blog&#x2F;Container%20Plumbing%202023%20-%20vfkit...</a></div><br/></div></div><div id="42632830" class="c"><input type="checkbox" id="c-42632830" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#42632062">parent</a><span>|</span><a href="#42632464">prev</a><span>|</span><a href="#42635369">next</a><span>|</span><label class="collapse" for="c-42632830">[-]</label><label class="expand" for="c-42632830">[1 more]</label></div><br/><div class="children"><div class="content">you can try plain KVM  its a bit more pain to get a system up tho compared to qemu which does a lot for you (--enable-kvm)</div><br/></div></div></div></div><div id="42635369" class="c"><input type="checkbox" id="c-42635369" checked=""/><div class="controls bullet"><span class="by">crowdhailer</span><span>|</span><a href="#42632062">prev</a><span>|</span><a href="#42632715">next</a><span>|</span><label class="collapse" for="c-42635369">[-]</label><label class="expand" for="c-42635369">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to try implementing this in some other languages.</div><br/></div></div><div id="42632715" class="c"><input type="checkbox" id="c-42632715" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#42635369">prev</a><span>|</span><a href="#42632598">next</a><span>|</span><label class="collapse" for="c-42632715">[-]</label><label class="expand" for="c-42632715">[1 more]</label></div><br/><div class="children"><div class="content">Ah yes, I have a few (too many as always, but I think that&#x27;s good, especially when getting older; need to not get complacent) resolutions for 2025, one of them is to write a OS&#x2F;DB with a development environment. Just to see how far I can take it. So these kind of tutorials are great. I was already going to make it RISC-V first because i&#x27;m interested.</div><br/></div></div><div id="42632598" class="c"><input type="checkbox" id="c-42632598" checked=""/><div class="controls bullet"><span class="by">roetlich</span><span>|</span><a href="#42632715">prev</a><span>|</span><a href="#42634265">next</a><span>|</span><label class="collapse" for="c-42632598">[-]</label><label class="expand" for="c-42632598">[1 more]</label></div><br/><div class="children"><div class="content">This looks great, thank you for making this.</div><br/></div></div><div id="42633075" class="c"><input type="checkbox" id="c-42633075" checked=""/><div class="controls bullet"><span class="by">lproven</span><span>|</span><a href="#42634265">prev</a><span>|</span><a href="#42635427">next</a><span>|</span><label class="collapse" for="c-42633075">[-]</label><label class="expand" for="c-42633075">[19 more]</label></div><br/><div class="children"><div class="content">A noble idea, but Github is literally littered with hobbyist home-grown Unix-like kernels in C.<p>As an industry are we not supposed to be trying to move <i>away</i> from hoary old unsafe C?<p>Could we not have a hobbyist educational OSes in more of the C replacements?<p>Drew DeVault wrote Bunnix in Hare, in one month. There&#x27;s the proof of concept.<p>How about tiny toy Unix-likes in Zig, Nim, Crystal, Odin, D, Rust, Circle, Carbon, Austral?<p>How about ones that aren&#x27;t ostensibly suitable for such tasks, such as Go or Ada?<p>Yes I know Ada is not a good fit, but there has already been a Unix-like OS entirely implemented in a derivative of Pascal: TUNIS.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;TUNIS" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;TUNIS</a><p>This might need work from skilled expert practitioners first. That&#x27;s <i>good.</i> That&#x27;s what experts are for: teaching, and uplifting newbies.<p>There was a project to do C# on the bare metal.<p><a href="https:&#x2F;&#x2F;migeel.sk&#x2F;blog&#x2F;2023&#x2F;12&#x2F;08&#x2F;building-bare-metal-bootable-game-for-raspberry-pi-in-csharp&#x2F;" rel="nofollow">https:&#x2F;&#x2F;migeel.sk&#x2F;blog&#x2F;2023&#x2F;12&#x2F;08&#x2F;building-bare-metal-bootab...</a><p>How about a Unix-like in C#? Get the Unix and .NET folks interested in this stuff.<p>Even if the OS never leads to anything, maybe the tooling might prove useful. I am sure someone somewhere would have uses for bare-metal GoLang.<p>Saying that, I really don&#x27;t think we need any more Unix-like OSes. There are far <i>far</i> too many of those already. There is a huge problem space to be explored here, and there used to be fascinating OSes that did things no Unix-like ever did.<p>OSes that are by modern standards tiny and simple but explored interesting areas of OS design, and are FOSS, with code out there under permissive licenses:<p>* Plan 9
<a href="https:&#x2F;&#x2F;github.com&#x2F;plan9foundation&#x2F;plan9">https:&#x2F;&#x2F;github.com&#x2F;plan9foundation&#x2F;plan9</a><p>* Inferno
<a href="https:&#x2F;&#x2F;github.com&#x2F;inferno-os&#x2F;inferno-os">https:&#x2F;&#x2F;github.com&#x2F;inferno-os&#x2F;inferno-os</a><p>* Symbian
<a href="https:&#x2F;&#x2F;github.com&#x2F;SymbianSource">https:&#x2F;&#x2F;github.com&#x2F;SymbianSource</a><p>* Parhelion HeliOS
<a href="https:&#x2F;&#x2F;archive.org&#x2F;details&#x2F;Heliosukernel" rel="nofollow">https:&#x2F;&#x2F;archive.org&#x2F;details&#x2F;Heliosukernel</a><p>There is already an effort at Plan 9 in Rust:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dancrossnyc&#x2F;r9">https:&#x2F;&#x2F;github.com&#x2F;dancrossnyc&#x2F;r9</a><p>Why not Plan 9 in Zig, or Hare, or even D?<p>Plan 9 imposes <i>and enforces</i> considerably more simplicity on C as it is: you can&#x27;t #include stuff that already has #include statements of its own. The result is a compilation speedup of around 3 orders of magnitude. That would be a benefit to the would-be C replacements too, wouldn&#x27;t it?</div><br/><div id="42634524" class="c"><input type="checkbox" id="c-42634524" checked=""/><div class="controls bullet"><span class="by">netbsdusers</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42634250">next</a><span>|</span><label class="collapse" for="c-42634524">[-]</label><label class="expand" for="c-42634524">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Yes I know Ada is not a good fit, but there has already been a Unix-like OS entirely implemented in a derivative of Pascal: TUNIS.<p>Isn&#x27;t it? There is a very well-developed kernel written in ADA with SPARK and formally verified at that: <a href="https:&#x2F;&#x2F;ironclad.nongnu.org" rel="nofollow">https:&#x2F;&#x2F;ironclad.nongnu.org</a><p>And PASCAL-derived languages were very popular for operating systems in the 80s. To name a few: Apple&#x27;s LISA OS, DEC&#x27;s VAXELN, and OBERON. There were others as well that didn&#x27;t quite make it, like DEC&#x27;s MICA and Acorn&#x27;s ARX.</div><br/><div id="42636551" class="c"><input type="checkbox" id="c-42636551" checked=""/><div class="controls bullet"><span class="by">lproven</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42634524">parent</a><span>|</span><a href="#42634250">next</a><span>|</span><label class="collapse" for="c-42636551">[-]</label><label class="expand" for="c-42636551">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for this!<p>I did not realise VAXELN was in Pascal. The others I did know of, yes, although Ironclad only from another comment in this thread.</div><br/></div></div></div></div><div id="42634250" class="c"><input type="checkbox" id="c-42634250" checked=""/><div class="controls bullet"><span class="by">Rochus</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42634524">prev</a><span>|</span><a href="#42634724">next</a><span>|</span><label class="collapse" for="c-42634250">[-]</label><label class="expand" for="c-42634250">[3 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Yes I know Ada is not a good fit</i><p>Why?<p>&gt; <i><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;TUNIS" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;TUNIS</a></i><p>Interesting; do you know whether the source code is available somewhere?</div><br/><div id="42636530" class="c"><input type="checkbox" id="c-42636530" checked=""/><div class="controls bullet"><span class="by">lproven</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42634250">parent</a><span>|</span><a href="#42634724">next</a><span>|</span><label class="collapse" for="c-42636530">[-]</label><label class="expand" for="c-42636530">[2 more]</label></div><br/><div class="children"><div class="content">No, sadly, I don&#x27;t know of any.<p>You might ask co-developer Prof James Cordy:
<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;James_Cordy" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;James_Cordy</a><p>Or approach the University of Toronto:
<a href="https:&#x2F;&#x2F;www.utoronto.ca&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.utoronto.ca&#x2F;</a></div><br/><div id="42637302" class="c"><input type="checkbox" id="c-42637302" checked=""/><div class="controls bullet"><span class="by">Rochus</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42636530">parent</a><span>|</span><a href="#42634724">next</a><span>|</span><label class="collapse" for="c-42637302">[-]</label><label class="expand" for="c-42637302">[1 more]</label></div><br/><div class="children"><div class="content">I had a look at the available literature. Many of the ideas are pretty similar to the work of Per Brinch Hansen a decade earlier. Actually the successor of Concurrent Euclid, called Object-Oriented Turing, is pretty interesting, because it is still a Pascal descendant, but supports modules, declarations in the statement flow, OO and concurrent programming. As it seems it&#x27;s worth a closer look.</div><br/></div></div></div></div></div></div><div id="42634724" class="c"><input type="checkbox" id="c-42634724" checked=""/><div class="controls bullet"><span class="by">rep_lodsb</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42634250">prev</a><span>|</span><a href="#42633369">next</a><span>|</span><label class="collapse" for="c-42634724">[-]</label><label class="expand" for="c-42634724">[6 more]</label></div><br/><div class="children"><div class="content">Dijkstra famously said that programmers who started with BASIC are &quot;mentally mutilated&quot;. But I think this applies a lot more to C and UNIX.<p>Most of them don&#x27;t seem to understand how anything substantially different could exist in the world of computing - every other language and operating system is seen as either an inferior copy, or as another layer of abstraction building on top of C and UNIX.</div><br/><div id="42637327" class="c"><input type="checkbox" id="c-42637327" checked=""/><div class="controls bullet"><span class="by">Rochus</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42634724">parent</a><span>|</span><a href="#42636497">next</a><span>|</span><label class="collapse" for="c-42637327">[-]</label><label class="expand" for="c-42637327">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Dijkstra famously said that programmers who started with BASIC are &quot;mentally mutilated&quot;</i><p>He knew how to make friends.</div><br/><div id="42638006" class="c"><input type="checkbox" id="c-42638006" checked=""/><div class="controls bullet"><span class="by">jhbadger</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42637327">parent</a><span>|</span><a href="#42636497">next</a><span>|</span><label class="collapse" for="c-42638006">[-]</label><label class="expand" for="c-42638006">[3 more]</label></div><br/><div class="children"><div class="content">To be fair, he was talking about classic BASIC which didn&#x27;t even have user defined procedures but just goto and gosub similar to jumps and calls in assembly language. I remember when I started learning Pascal after BASIC on the Apple II and there was so much to unlearn about programming because how you wrote BASIC was so different from any other high level programming language.</div><br/><div id="42638618" class="c"><input type="checkbox" id="c-42638618" checked=""/><div class="controls bullet"><span class="by">Rochus</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42638006">parent</a><span>|</span><a href="#42636497">next</a><span>|</span><label class="collapse" for="c-42638618">[-]</label><label class="expand" for="c-42638618">[2 more]</label></div><br/><div class="children"><div class="content">Sure. Pascal btw. had a pretty &quot;flexible&quot; goto statement, I would say nearly as flexible as BASIC; Apple ][ Pascal was a bit more structured though. In original Pascal, you could use goto to even jump out of a procedure; Apple Pascal could only jump within a procedure, and only if goto was enabled at all, if I remember correctly.</div><br/><div id="42638666" class="c"><input type="checkbox" id="c-42638666" checked=""/><div class="controls bullet"><span class="by">jhbadger</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42638618">parent</a><span>|</span><a href="#42636497">next</a><span>|</span><label class="collapse" for="c-42638666">[-]</label><label class="expand" for="c-42638666">[1 more]</label></div><br/><div class="children"><div class="content">True. And even C has one. I guess you could write &quot;spaghetti code&quot; in Pascal if you really wanted to.</div><br/></div></div></div></div></div></div></div></div><div id="42636497" class="c"><input type="checkbox" id="c-42636497" checked=""/><div class="controls bullet"><span class="by">lproven</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42634724">parent</a><span>|</span><a href="#42637327">prev</a><span>|</span><a href="#42633369">next</a><span>|</span><label class="collapse" for="c-42636497">[-]</label><label class="expand" for="c-42636497">[1 more]</label></div><br/><div class="children"><div class="content">Exactly my own sentiments!</div><br/></div></div></div></div><div id="42633369" class="c"><input type="checkbox" id="c-42633369" checked=""/><div class="controls bullet"><span class="by">nj5rq</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42634724">prev</a><span>|</span><a href="#42635524">next</a><span>|</span><label class="collapse" for="c-42633369">[-]</label><label class="expand" for="c-42633369">[3 more]</label></div><br/><div class="children"><div class="content">There are very good kernels written in Ada, like Ironclad[1].<p>Besides, what&#x27;s the point of this comment? What if people wanted to write a million more Unix-like kernels in C? Do you think this is bad? Why do you care? If you want, just write your own in whatever language you want, with whatever design you want.<p>&gt; Why not Plan 9 in Zig, or Hare, or even D?<p>Because nobody to this point was interested in doing this. It&#x27;s really that simple.<p>[1] <a href="https:&#x2F;&#x2F;ironclad.nongnu.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ironclad.nongnu.org&#x2F;</a></div><br/><div id="42633692" class="c"><input type="checkbox" id="c-42633692" checked=""/><div class="controls bullet"><span class="by">amiga386</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42633369">parent</a><span>|</span><a href="#42633651">next</a><span>|</span><label class="collapse" for="c-42633692">[-]</label><label class="expand" for="c-42633692">[1 more]</label></div><br/><div class="children"><div class="content">I agree. the GP&#x27;s comment has a flavour of &quot;people shouldn&#x27;t like the things I don&#x27;t like&quot;.<p>&quot;Make your own kernel&quot; is a thing-in-itself, and &quot;runs on &lt;X&gt; hardware&#x2F;VM&quot; + &quot;provides &lt;Y&gt;-like API for programs&quot; are <i>tangible</i>, <i>concrete</i> goals to aim for, even if you personally don&#x27;t like the &lt;Y&gt; API or the architectural choices it implies.<p>To give an analogy: <a href="https:&#x2F;&#x2F;www.nand2tetris.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.nand2tetris.org&#x2F;</a> is an amazing learning experience, even though <i>games other than Tetris should and do exist</i><p>Personally, I like the AROS project, aiming to provide an operating system that implements the AmigaOS APIs and runs on many architectures, but lots of users are interested in running it on 680x0 Amigas and spiritually-related PowerPC devices: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;AROS_Research_Operating_System" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;AROS_Research_Operating_System</a><p>It&#x27;s OK for programmers to write a thing just for the learning experience. If it gains adoptees, that&#x27;s a happy accident.</div><br/></div></div><div id="42633651" class="c"><input type="checkbox" id="c-42633651" checked=""/><div class="controls bullet"><span class="by">lproven</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42633369">parent</a><span>|</span><a href="#42633692">prev</a><span>|</span><a href="#42635524">next</a><span>|</span><label class="collapse" for="c-42633651">[-]</label><label class="expand" for="c-42633651">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There are very good kernels written in Ada, like Ironclad[1].<p>Interesting. Thanks.<p>&gt; Besides, what&#x27;s the point of this comment? What if people wanted to write a million more Unix-like kernels in C? Do you think this is bad? Why do you care?<p>Because it seems to me that modern OS design is caught in a deep deep rut, and the &quot;OS in 1000 lines&quot; article that we are discussing is digging that rut even deeper.<p>Don&#x27;t repeat the mistakes of the past. Make interesting new mistakes. It&#x27;s more fun.</div><br/></div></div></div></div><div id="42635524" class="c"><input type="checkbox" id="c-42635524" checked=""/><div class="controls bullet"><span class="by">twic</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42633369">prev</a><span>|</span><a href="#42633274">next</a><span>|</span><label class="collapse" for="c-42635524">[-]</label><label class="expand" for="c-42635524">[1 more]</label></div><br/><div class="children"><div class="content">SPIN in Modula-2: <a href="https:&#x2F;&#x2F;www-spin.cs.washington.edu&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www-spin.cs.washington.edu&#x2F;</a></div><br/></div></div><div id="42633274" class="c"><input type="checkbox" id="c-42633274" checked=""/><div class="controls bullet"><span class="by">pomatic</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42635524">prev</a><span>|</span><a href="#42637673">next</a><span>|</span><label class="collapse" for="c-42633274">[-]</label><label class="expand" for="c-42633274">[2 more]</label></div><br/><div class="children"><div class="content">Symbian is anything but simple!</div><br/><div id="42633631" class="c"><input type="checkbox" id="c-42633631" checked=""/><div class="controls bullet"><span class="by">lproven</span><span>|</span><a href="#42633075">root</a><span>|</span><a href="#42633274">parent</a><span>|</span><a href="#42637673">next</a><span>|</span><label class="collapse" for="c-42633631">[-]</label><label class="expand" for="c-42633631">[1 more]</label></div><br/><div class="children"><div class="content">:-) Fair point.<p>Very very small, compared to Android or iOS or any modern Linux, though.</div><br/></div></div></div></div><div id="42637673" class="c"><input type="checkbox" id="c-42637673" checked=""/><div class="controls bullet"><span class="by">nickpsecurity</span><span>|</span><a href="#42633075">parent</a><span>|</span><a href="#42633274">prev</a><span>|</span><a href="#42635427">next</a><span>|</span><label class="collapse" for="c-42637673">[-]</label><label class="expand" for="c-42637673">[1 more]</label></div><br/><div class="children"><div class="content">OS’s written in Ada included MaRTE OS (open source), Intel’s BiiN system, and the Army Secure Operating System (ASOS) (IIRC).<p>The Muen Seperation Kernel (muen.sk) is a secure hypervisor written in SPARK Ada.<p>Ada was designed for low-level programming. It makes sense it does operating systems fairly easily. Parts of them will break its safety features. They can be validated with external tools, though.<p>Another trick, used in House with H layer, is to wrap the lowest-level parts which you might do in assembly. Build the GC or whatever, too. Then, everything else is in the higher-level language. These data, the lowest-level portions can be specified, verified, and implemented.</div><br/></div></div></div></div><div id="42635427" class="c"><input type="checkbox" id="c-42635427" checked=""/><div class="controls bullet"><span class="by">qianli_cs</span><span>|</span><a href="#42633075">prev</a><span>|</span><a href="#42635296">next</a><span>|</span><label class="collapse" for="c-42635427">[-]</label><label class="expand" for="c-42635427">[2 more]</label></div><br/><div class="children"><div class="content">The article nicely explains how to build a minimalist OS — works great as an intro material. I think understanding basic OS concepts is essential for performance tuning and debugging.</div><br/><div id="42639275" class="c"><input type="checkbox" id="c-42639275" checked=""/><div class="controls bullet"><span class="by">qianli_cs</span><span>|</span><a href="#42635427">parent</a><span>|</span><a href="#42635296">next</a><span>|</span><label class="collapse" for="c-42639275">[-]</label><label class="expand" for="c-42639275">[1 more]</label></div><br/><div class="children"><div class="content">Notice a bunch of downvotes -- Apologies for being unfamiliar with the rules here (I&#x27;ve always been reading HN, but I&#x27;m new to commenting). I should&#x27;ve added a lot more details to my previous comment and been more specific. Any other guides would be helpful too. I&#x27;ll be careful in the future.<p>When I learned OS, I followed MIT 6.828 (<a href="https:&#x2F;&#x2F;pdos.csail.mit.edu&#x2F;6.828&#x2F;2017&#x2F;overview.html" rel="nofollow">https:&#x2F;&#x2F;pdos.csail.mit.edu&#x2F;6.828&#x2F;2017&#x2F;overview.html</a>) and implemented a small OS called JOS based on Xv6. So if you&#x27;re looking for some teaching OS in x86, check it out.</div><br/></div></div></div></div><div id="42635296" class="c"><input type="checkbox" id="c-42635296" checked=""/><div class="controls bullet"><span class="by">davio</span><span>|</span><a href="#42635427">prev</a><span>|</span><a href="#42634299">next</a><span>|</span><label class="collapse" for="c-42635296">[-]</label><label class="expand" for="c-42635296">[1 more]</label></div><br/><div class="children"><div class="content">Someone probably has a python one-liner for it on leetcode</div><br/></div></div><div id="42634299" class="c"><input type="checkbox" id="c-42634299" checked=""/><div class="controls bullet"><span class="by">6forward</span><span>|</span><a href="#42635296">prev</a><span>|</span><label class="collapse" for="c-42634299">[-]</label><label class="expand" for="c-42634299">[9 more]</label></div><br/><div class="children"><div class="content">This article brilliantly demonstrates the elegance of simplicity in systems design, proving that even complex concepts like operating systems can be demystified with clarity and minimalism. It&#x27;s a reminder that understanding fundamentals often unlocks deeper innovation. How might this inspire rethinking other &quot;big&quot; systems?</div><br/><div id="42634703" class="c"><input type="checkbox" id="c-42634703" checked=""/><div class="controls bullet"><span class="by">mnoronha</span><span>|</span><a href="#42634299">parent</a><span>|</span><a href="#42635138">next</a><span>|</span><label class="collapse" for="c-42634703">[-]</label><label class="expand" for="c-42634703">[7 more]</label></div><br/><div class="children"><div class="content">this comment reads... a lot like chatgpt</div><br/><div id="42634843" class="c"><input type="checkbox" id="c-42634843" checked=""/><div class="controls bullet"><span class="by">whatevermom</span><span>|</span><a href="#42634299">root</a><span>|</span><a href="#42634703">parent</a><span>|</span><a href="#42635216">next</a><span>|</span><label class="collapse" for="c-42634843">[-]</label><label class="expand" for="c-42634843">[2 more]</label></div><br/><div class="children"><div class="content">It’s just an alt used to promote some guy’s startup. You should look up it’s comments…</div><br/><div id="42634928" class="c"><input type="checkbox" id="c-42634928" checked=""/><div class="controls bullet"><span class="by">unethical_ban</span><span>|</span><a href="#42634299">root</a><span>|</span><a href="#42634843">parent</a><span>|</span><a href="#42635216">next</a><span>|</span><label class="collapse" for="c-42634928">[-]</label><label class="expand" for="c-42634928">[1 more]</label></div><br/><div class="children"><div class="content">All the comments from the account are deleted.</div><br/></div></div></div></div><div id="42635216" class="c"><input type="checkbox" id="c-42635216" checked=""/><div class="controls bullet"><span class="by">6forward</span><span>|</span><a href="#42634299">root</a><span>|</span><a href="#42634703">parent</a><span>|</span><a href="#42634843">prev</a><span>|</span><a href="#42635138">next</a><span>|</span><label class="collapse" for="c-42635216">[-]</label><label class="expand" for="c-42635216">[4 more]</label></div><br/><div class="children"><div class="content">I always use an LLM to recraft my comments to ensure they are clear (English isn&#x27;t my first language). Is that not allowed here?</div><br/><div id="42635420" class="c"><input type="checkbox" id="c-42635420" checked=""/><div class="controls bullet"><span class="by">hansvm</span><span>|</span><a href="#42634299">root</a><span>|</span><a href="#42635216">parent</a><span>|</span><a href="#42636000">next</a><span>|</span><label class="collapse" for="c-42635420">[-]</label><label class="expand" for="c-42635420">[2 more]</label></div><br/><div class="children"><div class="content">HN ostensibly tries to have thoughtful, engaged conversations. LLM grammatical cleanups and translations are absolutely fair game. The comment has certain hallmarks (broad, sweeping summary, certain word choices, ...) suggesting that an LLM had more creative liberty than HN really likes to see -- in sort of an Uncanny Valley situation, it&#x27;s hard to tell if the LLM produced the post or if a person did (plus, somebody apparently went digging and didn&#x27;t see a lot of value in your other comments while also finding self-endorsements, which paints this one in a worse light).<p>You might have better luck with prompts that try to adhere better to your intent:<p>&gt; English is not my first language. Please correct the spelling&#x2F;grammar  and perhaps teach me up to one idiom that would fit well in the following comment, but leave the meat of the message largely the same.<p>&gt; Please translate the following [franglish&#x2F;spanglish&#x2F;(English mixed  with a few words from your native language as appropriate to better convey your point)] to English suitable for a forum post.</div><br/><div id="42635450" class="c"><input type="checkbox" id="c-42635450" checked=""/><div class="controls bullet"><span class="by">6forward</span><span>|</span><a href="#42634299">root</a><span>|</span><a href="#42635420">parent</a><span>|</span><a href="#42636000">next</a><span>|</span><label class="collapse" for="c-42635450">[-]</label><label class="expand" for="c-42635450">[1 more]</label></div><br/><div class="children"><div class="content">I appreciate this response. Thank you</div><br/></div></div></div></div></div></div></div></div><div id="42635138" class="c"><input type="checkbox" id="c-42635138" checked=""/><div class="controls bullet"><span class="by">demarq</span><span>|</span><a href="#42634299">parent</a><span>|</span><a href="#42634703">prev</a><span>|</span><label class="collapse" for="c-42635138">[-]</label><label class="expand" for="c-42635138">[1 more]</label></div><br/><div class="children"><div class="content">dang clean up on isle 10</div><br/></div></div></div></div></div></div></div></div></div></body></html>