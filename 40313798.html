<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715331711272" as="style"/><link rel="stylesheet" href="styles.css?v=1715331711272"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/wayland-transpositor/wprs">Wprs – rootless remote desktop for Wayland (and X11, via XWayland) applications</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>happy-dude</span> | <span>24 comments</span></div><br/><div><div id="40316470" class="c"><input type="checkbox" id="c-40316470" checked=""/><div class="controls bullet"><span class="by">npteljes</span><span>|</span><a href="#40314947">next</a><span>|</span><label class="collapse" for="c-40316470">[-]</label><label class="expand" for="c-40316470">[3 more]</label></div><br/><div class="children"><div class="content">What I never understood is how Spice is not elevated to a separate product. It does a fantastic job handling the graphical, audio, and peripheral connections to VMs, so how come there isn&#x27;t a Spice server that I can just install to whatever Linux system and remote to it with the Spice clients that are already there?<p>Also, I&#x27;d like to plug Sunshine - I think it works on Wayland, and from the tests I did it does a fantastic job on a local network to make a desktop usable, even from an Android device. The downside is that whatever happens on the remote screen, it must happen on the host screen as well, so you can&#x27;t have the host locked while you do gaming on it for example.</div><br/><div id="40316613" class="c"><input type="checkbox" id="c-40316613" checked=""/><div class="controls bullet"><span class="by">IceWreck</span><span>|</span><a href="#40316470">parent</a><span>|</span><a href="#40314947">next</a><span>|</span><label class="collapse" for="c-40316613">[-]</label><label class="expand" for="c-40316613">[2 more]</label></div><br/><div class="children"><div class="content">I love Spice too but it has been deprecated for a while now.
<a href="https:&#x2F;&#x2F;access.redhat.com&#x2F;documentation&#x2F;en-us&#x2F;red_hat_enterprise_linux&#x2F;8&#x2F;html&#x2F;8.6_release_notes&#x2F;deprecated_functionality" rel="nofollow">https:&#x2F;&#x2F;access.redhat.com&#x2F;documentation&#x2F;en-us&#x2F;red_hat_enterp...</a></div><br/><div id="40316692" class="c"><input type="checkbox" id="c-40316692" checked=""/><div class="controls bullet"><span class="by">npteljes</span><span>|</span><a href="#40316470">root</a><span>|</span><a href="#40316613">parent</a><span>|</span><a href="#40314947">next</a><span>|</span><label class="collapse" for="c-40316692">[-]</label><label class="expand" for="c-40316692">[1 more]</label></div><br/><div class="children"><div class="content">Oh no. Thanks for passing the news along.<p>EDIT: just an FYI for everyone interested, here&#x27;s a bit of info about how Proxmox is handling it. TL;DR Spice is still at least maintained until 2029, so it&#x27;s not going to just go away anytime soon.<p><a href="https:&#x2F;&#x2F;forum.proxmox.com&#x2F;threads&#x2F;plans-for-spice.113339&#x2F;" rel="nofollow">https:&#x2F;&#x2F;forum.proxmox.com&#x2F;threads&#x2F;plans-for-spice.113339&#x2F;</a></div><br/></div></div></div></div></div></div><div id="40314947" class="c"><input type="checkbox" id="c-40314947" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#40316470">prev</a><span>|</span><a href="#40316235">next</a><span>|</span><label class="collapse" for="c-40314947">[-]</label><label class="expand" for="c-40314947">[6 more]</label></div><br/><div class="children"><div class="content">Is it better than xrdp though?  I found xrdp last week and it&#x27;s stellar, basically a microsoft-compatible RDP server for Linux.  It&#x27;s a complete solution, no drama and simply amazing.<p>Every other Linux remote desktop solution I tried was a mess, including Xpra (which was quite involved to even get installed and Debian, and then a letdown, yikes).<p>I wonder what happens with Wprs when you try to launch virt-manager, which requires root.</div><br/><div id="40315497" class="c"><input type="checkbox" id="c-40315497" checked=""/><div class="controls bullet"><span class="by">pxc</span><span>|</span><a href="#40314947">parent</a><span>|</span><a href="#40315912">next</a><span>|</span><label class="collapse" for="c-40315497">[-]</label><label class="expand" for="c-40315497">[2 more]</label></div><br/><div class="children"><div class="content">For me, definitely yes, because it&#x27;s rootless. Being able to stream individual windows is an absolutely killer feature. Having to deal with non-native window management is a nightmare, not to mention that it leaves you pulling down more pixels than you need to.<p>Microsoft has similar functionality but it&#x27;s gated behind enterprise licenses. I ran Xpra for free when I was a kid and it was magical; many years later I&#x27;ve still never played with Windows&#x27; Terminal Services, which is the MS thing that can do rootless IIRC. The way MS gates the necessary windowing features is why to this day you can&#x27;t do rootless with X2Go or Xpra with normal Windows clients.<p>Is there special reason the usual GUI PolKit privilege elevation wrappers can&#x27;t work with a remote X session? I think I used to be able to use kdesu and similar just fine over Xpra. Note that &#x27;rootless&#x27; in this context (windowing) means &#x27;without a root window&#x27;, i.e., without rendering a desktop. It has nothing to do with the usage in projects like podman where &#x27;rootless&#x27; means &#x27;not requiring elevated privileges&#x27;.</div><br/><div id="40315526" class="c"><input type="checkbox" id="c-40315526" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#40314947">root</a><span>|</span><a href="#40315497">parent</a><span>|</span><a href="#40315912">next</a><span>|</span><label class="collapse" for="c-40315526">[-]</label><label class="expand" for="c-40315526">[1 more]</label></div><br/><div class="children"><div class="content">Xpra can also stream rootless single windows, to html5 or other Xpra clients.  I found it annoying with a bunch of sharp edges compared to getting a full desktop, though. You must have a different use-case :)</div><br/></div></div></div></div><div id="40315912" class="c"><input type="checkbox" id="c-40315912" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#40314947">parent</a><span>|</span><a href="#40315497">prev</a><span>|</span><a href="#40314966">next</a><span>|</span><label class="collapse" for="c-40315912">[-]</label><label class="expand" for="c-40315912">[1 more]</label></div><br/><div class="children"><div class="content">Can xrdp open windows in single apps? This is my main use case for using waypipe (mostly) and xpra. I don&#x27;t want to show a full desktop nor having to deal with keyboard shortcuts highjack between host and remote.</div><br/></div></div><div id="40314966" class="c"><input type="checkbox" id="c-40314966" checked=""/><div class="controls bullet"><span class="by">shmerl</span><span>|</span><a href="#40314947">parent</a><span>|</span><a href="#40315912">prev</a><span>|</span><a href="#40316235">next</a><span>|</span><label class="collapse" for="c-40314966">[-]</label><label class="expand" for="c-40314966">[2 more]</label></div><br/><div class="children"><div class="content">I think freerdp is a better option since it has integration with Wayland and even some Wayland DEs are adopting it as remote access feature.</div><br/><div id="40315916" class="c"><input type="checkbox" id="c-40315916" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#40314947">root</a><span>|</span><a href="#40314966">parent</a><span>|</span><a href="#40316235">next</a><span>|</span><label class="collapse" for="c-40315916">[-]</label><label class="expand" for="c-40315916">[1 more]</label></div><br/><div class="children"><div class="content">From what I understand freerdp is only the client component while xrdp is the server component.</div><br/></div></div></div></div></div></div><div id="40316235" class="c"><input type="checkbox" id="c-40316235" checked=""/><div class="controls bullet"><span class="by">billpg</span><span>|</span><a href="#40314947">prev</a><span>|</span><a href="#40314800">next</a><span>|</span><label class="collapse" for="c-40316235">[-]</label><label class="expand" for="c-40316235">[4 more]</label></div><br/><div class="children"><div class="content">&quot;We&#x27;ve built X. It allows you to run graphical applications over a network.&quot;<p>&quot;Here&#x27;s an optimization for when the X display is the same machine as the process.&quot;<p>&quot;We&#x27;ve built Wayland. We all run applications on the same machine as the display and X gets in the way.&quot;<p>&quot;We&#x27;d like to run applications from machines over the internet.&quot;<p>&quot;We&#x27;ve built Wprs. It allows you to run graphical applications over a network.&quot;<p>That&#x27;s the circle of life.....</div><br/><div id="40316514" class="c"><input type="checkbox" id="c-40316514" checked=""/><div class="controls bullet"><span class="by">delusional</span><span>|</span><a href="#40316235">parent</a><span>|</span><a href="#40316459">next</a><span>|</span><label class="collapse" for="c-40316514">[-]</label><label class="expand" for="c-40316514">[1 more]</label></div><br/><div class="children"><div class="content">The X protocol is from a time before proprietary&#x2F;differentiated GPU devices. Network transparency looks very different when you&#x27;re doing simple stuff like &quot;render a line&quot; or &quot;render a box&quot;. Nowadays even 2D applications are essentially sending arbitrary programs to a standalone accelerator (the GPU) which they expect to have incredible bandwidth.<p>In the simple case of the past, it made sense to send the primitives. In the complex now it&#x27;s way more robust to stuff the bitmap over the wire.</div><br/></div></div><div id="40316459" class="c"><input type="checkbox" id="c-40316459" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#40316235">parent</a><span>|</span><a href="#40316514">prev</a><span>|</span><a href="#40316509">next</a><span>|</span><label class="collapse" for="c-40316459">[-]</label><label class="expand" for="c-40316459">[1 more]</label></div><br/><div class="children"><div class="content">X being network transparent hasn’t been true for decades — no one uses xmotif and similar GUI libs, they just grab a buffer and paint stuff themselves, making the X protocol an inefficient format to carry bitmaps around.<p>Local-first is the correct approach as the end computers are significantly more powerful than 30 years ago. Plus, we can transport bitmaps far more efficiently with compression, so it’s quite obviously an improvement on every metric, it is pretty shortsighted to note it down as circular development.</div><br/></div></div><div id="40316509" class="c"><input type="checkbox" id="c-40316509" checked=""/><div class="controls bullet"><span class="by">znpy</span><span>|</span><a href="#40316235">parent</a><span>|</span><a href="#40316459">prev</a><span>|</span><a href="#40314800">next</a><span>|</span><label class="collapse" for="c-40316509">[-]</label><label class="expand" for="c-40316509">[1 more]</label></div><br/><div class="children"><div class="content">It’s not a circle, it’s plain stupidity. Running stuff over the network has always been a requirement and somehow wayland people decided so ignore that requirement, producing an half-assed spec and quarter-assed implementations.<p>All this could have been avoided, and yet here we are…</div><br/></div></div></div></div><div id="40314800" class="c"><input type="checkbox" id="c-40314800" checked=""/><div class="controls bullet"><span class="by">dsp_person</span><span>|</span><a href="#40316235">prev</a><span>|</span><a href="#40314642">next</a><span>|</span><label class="collapse" for="c-40314800">[-]</label><label class="expand" for="c-40314800">[5 more]</label></div><br/><div class="children"><div class="content">Can this be used to switch back and forth between different computers? If I remember correct Xpra supports this.<p>E.g. (1) open a session on desktop with firefox, thunderbird, vscode. (2) Then grab laptop and go to a coffee shop, connect with wayland-tranpositor to the desktop to resume the session with those programs where you left off with them. (3) Then go home and resume from the desktop.<p>I guess for (1) and (3) you are just running both the server and client on the desktop, and then for (2) you close the client on the desktop and run it on the laptop?<p>It would be cool if it could do shadowing, or have multiple clients running at the same time.</div><br/><div id="40315149" class="c"><input type="checkbox" id="c-40315149" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#40314800">parent</a><span>|</span><a href="#40315166">prev</a><span>|</span><a href="#40314642">next</a><span>|</span><label class="collapse" for="c-40315149">[-]</label><label class="expand" for="c-40315149">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a second crucial element to this: can it <i>lock</i> the local screen while you do this?<p>I did this a whole lot in the lab with Windows - walk away, and log in remotely and monitor my session, then head back in and log back on locally.<p>I never found a way to do this with Linux that just restores the session the way Windows seems able to. Instead all I ever found was &quot;the remote screen is unlocked and the cursor is moving&quot; or whatever.</div><br/><div id="40315432" class="c"><input type="checkbox" id="c-40315432" checked=""/><div class="controls bullet"><span class="by">coryrc</span><span>|</span><a href="#40314800">root</a><span>|</span><a href="#40315149">parent</a><span>|</span><a href="#40314642">next</a><span>|</span><label class="collapse" for="c-40315432">[-]</label><label class="expand" for="c-40315432">[2 more]</label></div><br/><div class="children"><div class="content">AFAIK the only way is to always run a remote X server (i.e. Xvnc) and always connect to it, even when sitting at the local computer.<p>Maybe you could do something with dpms but that leaves the keyboard active still.</div><br/><div id="40315854" class="c"><input type="checkbox" id="c-40315854" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#40314800">root</a><span>|</span><a href="#40315432">parent</a><span>|</span><a href="#40314642">next</a><span>|</span><label class="collapse" for="c-40315854">[-]</label><label class="expand" for="c-40315854">[1 more]</label></div><br/><div class="children"><div class="content">Yeah see this has always been where I think Windows dominates Linux.<p>Going from local to RDP to local feels seamless and secure. I wish we could get that experience on Linux.</div><br/></div></div></div></div></div></div></div></div><div id="40314642" class="c"><input type="checkbox" id="c-40314642" checked=""/><div class="controls bullet"><span class="by">dannyobrien</span><span>|</span><a href="#40314800">prev</a><span>|</span><a href="#40315838">next</a><span>|</span><label class="collapse" for="c-40314642">[-]</label><label class="expand" for="c-40314642">[2 more]</label></div><br/><div class="children"><div class="content">Can anyone compare this to waypipe, which I&#x27;ve heard of more often for remote wayland execution.</div><br/><div id="40314655" class="c"><input type="checkbox" id="c-40314655" checked=""/><div class="controls bullet"><span class="by">coppsilgold</span><span>|</span><a href="#40314642">parent</a><span>|</span><a href="#40315838">next</a><span>|</span><label class="collapse" for="c-40314655">[-]</label><label class="expand" for="c-40314655">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Can anyone compare this to waypipe, which I&#x27;ve heard of more often for remote wayland execution.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;wayland-transpositor&#x2F;wprs#comparison-to-waypipe">https:&#x2F;&#x2F;github.com&#x2F;wayland-transpositor&#x2F;wprs#comparison-to-w...</a></div><br/></div></div></div></div><div id="40315838" class="c"><input type="checkbox" id="c-40315838" checked=""/><div class="controls bullet"><span class="by">tripdout</span><span>|</span><a href="#40314642">prev</a><span>|</span><a href="#40314370">next</a><span>|</span><label class="collapse" for="c-40315838">[-]</label><label class="expand" for="c-40315838">[2 more]</label></div><br/><div class="children"><div class="content">How would this compare to a Wayland VNC server like WayVNC?</div><br/><div id="40316085" class="c"><input type="checkbox" id="c-40316085" checked=""/><div class="controls bullet"><span class="by">froh</span><span>|</span><a href="#40315838">parent</a><span>|</span><a href="#40314370">next</a><span>|</span><label class="collapse" for="c-40316085">[-]</label><label class="expand" for="c-40316085">[1 more]</label></div><br/><div class="children"><div class="content">vnc isn&#x27;t rootless, is it?</div><br/></div></div></div></div></div></div></div></div></div></body></html>