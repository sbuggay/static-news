<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724144466050" as="style"/><link rel="stylesheet" href="styles.css?v=1724144466050"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/jfedor2/hid-remapper">RP2040 Hid Remapper</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>peterburkimsher</span> | <span>23 comments</span></div><br/><div><div id="41297235" class="c"><input type="checkbox" id="c-41297235" checked=""/><div class="controls bullet"><span class="by">mongol</span><span>|</span><a href="#41297755">next</a><span>|</span><label class="collapse" for="c-41297235">[-]</label><label class="expand" for="c-41297235">[7 more]</label></div><br/><div class="children"><div class="content">Imagine something like this but having two USB inputs, one for the keyboard and one for your phone. Then your phone could inject passwords managed in the password manager in your phone. No need to keep them in the cloud.<p>Unfortunately I don&#x27;t think Android supports acting like a HID device. But possibly custom firmware in the dongle could support some USB serial protocol.</div><br/><div id="41298189" class="c"><input type="checkbox" id="c-41298189" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#41297235">parent</a><span>|</span><a href="#41297479">next</a><span>|</span><label class="collapse" for="c-41298189">[-]</label><label class="expand" for="c-41298189">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t keep passwords in the cloud because I&#x27;m afraid they&#x27;ll be stolen from my computer, I keep them there for backup.</div><br/></div></div><div id="41297479" class="c"><input type="checkbox" id="c-41297479" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#41297235">parent</a><span>|</span><a href="#41298189">prev</a><span>|</span><a href="#41297340">next</a><span>|</span><label class="collapse" for="c-41297479">[-]</label><label class="expand" for="c-41297479">[1 more]</label></div><br/><div class="children"><div class="content">You can set up a network connection over USB (intended for tethered operation).</div><br/></div></div><div id="41297340" class="c"><input type="checkbox" id="c-41297340" checked=""/><div class="controls bullet"><span class="by">peterburkimsher</span><span>|</span><a href="#41297235">parent</a><span>|</span><a href="#41297479">prev</a><span>|</span><a href="#41297241">next</a><span>|</span><label class="collapse" for="c-41297340">[-]</label><label class="expand" for="c-41297340">[3 more]</label></div><br/><div class="children"><div class="content">Anrdoid and iOS don&#x27;t support USB HID natively. The iPod does with Rockbox, but I&#x27;m probably the only person still carrying one around.<p>The best solution I&#x27;ve found for pocket-sized USB HID is an EspUSB Tiny:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;cnlohr&#x2F;espusb">https:&#x2F;&#x2F;github.com&#x2F;cnlohr&#x2F;espusb</a><p>It&#x27;s an ESP8285 acting as a USB keyboard, with the keystrokes coming over WiFi from a nearby phone.</div><br/><div id="41297741" class="c"><input type="checkbox" id="c-41297741" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#41297235">root</a><span>|</span><a href="#41297340">parent</a><span>|</span><a href="#41297728">next</a><span>|</span><label class="collapse" for="c-41297741">[-]</label><label class="expand" for="c-41297741">[1 more]</label></div><br/><div class="children"><div class="content"><i>Acting</i> like USB HID and <i>hosting</i> USB HID devices are two different things, GP&#x27;s suggestion might be possible with Android Open Accessory(aka abusing adb in Google sanctioned way) or through a rooted phone with a custom kernel mode gadget driver.<p>An RP2040 device with 2 USB downstream facing port and 1 USB upstream facing port can be made, stuffed into a conspicuous Y-cable, appropriately programmed and appear as a single USB keyboard. Out of my reach but not impossible.</div><br/></div></div><div id="41297728" class="c"><input type="checkbox" id="c-41297728" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#41297235">root</a><span>|</span><a href="#41297340">parent</a><span>|</span><a href="#41297741">prev</a><span>|</span><a href="#41297241">next</a><span>|</span><label class="collapse" for="c-41297728">[-]</label><label class="expand" for="c-41297728">[1 more]</label></div><br/><div class="children"><div class="content">A rooted android can.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tejado&#x2F;android-usb-gadget">https:&#x2F;&#x2F;github.com&#x2F;tejado&#x2F;android-usb-gadget</a></div><br/></div></div></div></div><div id="41297241" class="c"><input type="checkbox" id="c-41297241" checked=""/><div class="controls bullet"><span class="by">willwade</span><span>|</span><a href="#41297235">parent</a><span>|</span><a href="#41297340">prev</a><span>|</span><a href="#41297755">next</a><span>|</span><label class="collapse" for="c-41297241">[-]</label><label class="expand" for="c-41297241">[1 more]</label></div><br/><div class="children"><div class="content">..Or iOS, Windows.. or Mac..</div><br/></div></div></div></div><div id="41297755" class="c"><input type="checkbox" id="c-41297755" checked=""/><div class="controls bullet"><span class="by">TaylorAlexander</span><span>|</span><a href="#41297235">prev</a><span>|</span><a href="#41297287">next</a><span>|</span><label class="collapse" for="c-41297755">[-]</label><label class="expand" for="c-41297755">[3 more]</label></div><br/><div class="children"><div class="content">Something similar that I want us USB Force Feedback wheel (and joystick) support for the RP2040. I looked pretty deeply in to this and I was unable to find any libraries which do the necessary USB magic for the chip to build devices which show up on a computer as force feedback. There’s some code for the Atmega32u4 to do it and in general there is documentation around the web for how this stuff works, but actually digging in to USB spec stuff is not really my thing.<p>There is an open source gamepad library for the RP2040 but they said on GitHub issues and discord that they have no plan to pursue force feedback support.<p>But I designed a really nice brushless motor controller for the RP2040 and I’d love to make a force feedback wheel with it! I already have a motorized wheel I built to test this and I even made it work with motorized return to center as a regular USB joystick device, I just don’t know the magic incantations to make it in to a force feedback device.</div><br/><div id="41297824" class="c"><input type="checkbox" id="c-41297824" checked=""/><div class="controls bullet"><span class="by">jononor</span><span>|</span><a href="#41297755">parent</a><span>|</span><a href="#41297287">next</a><span>|</span><label class="collapse" for="c-41297824">[-]</label><label class="expand" for="c-41297824">[2 more]</label></div><br/><div class="children"><div class="content">Use the atmega32u4 and it&#x27;s force feedback implementation to handle the USB communication? Communicating with it over I2C or similar?</div><br/><div id="41298138" class="c"><input type="checkbox" id="c-41298138" checked=""/><div class="controls bullet"><span class="by">TaylorAlexander</span><span>|</span><a href="#41297755">root</a><span>|</span><a href="#41297824">parent</a><span>|</span><a href="#41297287">next</a><span>|</span><label class="collapse" for="c-41298138">[-]</label><label class="expand" for="c-41298138">[1 more]</label></div><br/><div class="children"><div class="content">Definitely possible, but it would ruin an otherwise nice development environment. For personal use that would be fine, but I tend to try to design things as nice complete open source projects people could use and enjoy using. Plugging in to one USB port to program the RP2040 and then another to test the force feedback control is not ideal for development.<p>It would work though, and I do want a wheel even for myself (the surplus motor I got for it is a beast). Might be my best bet.</div><br/></div></div></div></div></div></div><div id="41297287" class="c"><input type="checkbox" id="c-41297287" checked=""/><div class="controls bullet"><span class="by">MrLeap</span><span>|</span><a href="#41297755">prev</a><span>|</span><a href="#41297845">next</a><span>|</span><label class="collapse" for="c-41297287">[-]</label><label class="expand" for="c-41297287">[3 more]</label></div><br/><div class="children"><div class="content">This seems purpose built for me. I ordered a foot pedal online with the intention of hooking OBS up to it. It seems to send a &#x27;b&#x27; keydown event when it&#x27;s pressed, with no clear way to change it. Utterly useless out of the box lol.</div><br/><div id="41297331" class="c"><input type="checkbox" id="c-41297331" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#41297287">parent</a><span>|</span><a href="#41297845">next</a><span>|</span><label class="collapse" for="c-41297331">[-]</label><label class="expand" for="c-41297331">[2 more]</label></div><br/><div class="children"><div class="content">What on Earth? :(<p>Was it a lot cheaper than the Elgato one?<p><a href="https:&#x2F;&#x2F;www.amazon.com&#x2F;Elgato-Stream-Deck-Pedal-footswitches&#x2F;dp&#x2F;B09PRMCTGB" rel="nofollow">https:&#x2F;&#x2F;www.amazon.com&#x2F;Elgato-Stream-Deck-Pedal-footswitches...</a><p>I&#x27;m thinking this remapper would get some buttons working on some old USB keyboards that have driver issues. BUT, the cost and time to make one of these remappers makes it only useful in very extreme circumstances where buying a alternate replacement device is not possible, feasible or desirable.</div><br/><div id="41297369" class="c"><input type="checkbox" id="c-41297369" checked=""/><div class="controls bullet"><span class="by">MrLeap</span><span>|</span><a href="#41297287">root</a><span>|</span><a href="#41297331">parent</a><span>|</span><a href="#41297845">next</a><span>|</span><label class="collapse" for="c-41297369">[-]</label><label class="expand" for="c-41297369">[1 more]</label></div><br/><div class="children"><div class="content">Much cheaper. <a href="https:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;B08MC456TC" rel="nofollow">https:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;B08MC456TC</a><p>Looking at the store page is refreshing my memory. I ended up being unwilling to install the sketchy software. I just took it for granted it would come with a sensible default. Mouse3+, or a joypad input. Something.</div><br/></div></div></div></div></div></div><div id="41297845" class="c"><input type="checkbox" id="c-41297845" checked=""/><div class="controls bullet"><span class="by">bankcust08385</span><span>|</span><a href="#41297287">prev</a><span>|</span><a href="#41297404">next</a><span>|</span><label class="collapse" for="c-41297845">[-]</label><label class="expand" for="c-41297845">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see the point except for rare fixed applications without admin OS access. Do it in software for free. Karabiner Elements etc.</div><br/></div></div><div id="41297404" class="c"><input type="checkbox" id="c-41297404" checked=""/><div class="controls bullet"><span class="by">anilakar</span><span>|</span><a href="#41297845">prev</a><span>|</span><a href="#41297218">next</a><span>|</span><label class="collapse" for="c-41297404">[-]</label><label class="expand" for="c-41297404">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been planning on turning an old ambidextrous Logitech Marble Mouse into a cheap CAD spacemouse and this might be just what I need.</div><br/></div></div><div id="41297218" class="c"><input type="checkbox" id="c-41297218" checked=""/><div class="controls bullet"><span class="by">bb88</span><span>|</span><a href="#41297404">prev</a><span>|</span><a href="#41297668">next</a><span>|</span><label class="collapse" for="c-41297218">[-]</label><label class="expand" for="c-41297218">[5 more]</label></div><br/><div class="children"><div class="content">It turns out the RP2040 is turning out to be a really nice microprocessor.<p>The only thing missing is Wifi really.</div><br/><div id="41297296" class="c"><input type="checkbox" id="c-41297296" checked=""/><div class="controls bullet"><span class="by">MathMonkeyMan</span><span>|</span><a href="#41297218">parent</a><span>|</span><a href="#41297250">next</a><span>|</span><label class="collapse" for="c-41297296">[-]</label><label class="expand" for="c-41297296">[3 more]</label></div><br/><div class="children"><div class="content">The Pico W connects the RP2040 to a CYW43439 over PIO. Works pretty well.</div><br/><div id="41297564" class="c"><input type="checkbox" id="c-41297564" checked=""/><div class="controls bullet"><span class="by">moefh</span><span>|</span><a href="#41297218">root</a><span>|</span><a href="#41297296">parent</a><span>|</span><a href="#41297250">next</a><span>|</span><label class="collapse" for="c-41297564">[-]</label><label class="expand" for="c-41297564">[2 more]</label></div><br/><div class="children"><div class="content">It does!<p>Sadly, the firmware for the CYW43439 is a binary blob provided in the form of C header files[1] -- even though it&#x27;s free for commercial use[2] as long as it&#x27;s used with a RP2040 like in the Pico W.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;georgerobotics&#x2F;cyw43-driver&#x2F;tree&#x2F;main&#x2F;firmware">https:&#x2F;&#x2F;github.com&#x2F;georgerobotics&#x2F;cyw43-driver&#x2F;tree&#x2F;main&#x2F;fir...</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;georgerobotics&#x2F;cyw43-driver&#x2F;blob&#x2F;main&#x2F;LICENSE.RP">https:&#x2F;&#x2F;github.com&#x2F;georgerobotics&#x2F;cyw43-driver&#x2F;blob&#x2F;main&#x2F;LIC...</a></div><br/><div id="41297975" class="c"><input type="checkbox" id="c-41297975" checked=""/><div class="controls bullet"><span class="by">aleph_minus_one</span><span>|</span><a href="#41297218">root</a><span>|</span><a href="#41297564">parent</a><span>|</span><a href="#41297250">next</a><span>|</span><label class="collapse" for="c-41297975">[-]</label><label class="expand" for="c-41297975">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Sadly, the firmware for the CYW43439 is a binary blob provided in the form of C header files<p>This is <i>Hacker</i> News - let&#x27;s start reverse-engineering it. :-)</div><br/></div></div></div></div></div></div><div id="41297250" class="c"><input type="checkbox" id="c-41297250" checked=""/><div class="controls bullet"><span class="by">willwade</span><span>|</span><a href="#41297218">parent</a><span>|</span><a href="#41297296">prev</a><span>|</span><a href="#41297668">next</a><span>|</span><label class="collapse" for="c-41297250">[-]</label><label class="expand" for="c-41297250">[1 more]</label></div><br/><div class="children"><div class="content">Its BLE needs more work - note that project uses the nrf52840. Its pretty feature complete</div><br/></div></div></div></div><div id="41297668" class="c"><input type="checkbox" id="c-41297668" checked=""/><div class="controls bullet"><span class="by">gsich</span><span>|</span><a href="#41297218">prev</a><span>|</span><a href="#41297349">next</a><span>|</span><label class="collapse" for="c-41297668">[-]</label><label class="expand" for="c-41297668">[1 more]</label></div><br/><div class="children"><div class="content">Also useful if you want a 1000Hz mouse who doesn&#x27;t natively support it.</div><br/></div></div><div id="41297349" class="c"><input type="checkbox" id="c-41297349" checked=""/><div class="controls bullet"><span class="by">peterburkimsher</span><span>|</span><a href="#41297668">prev</a><span>|</span><label class="collapse" for="c-41297349">[-]</label><label class="expand" for="c-41297349">[1 more]</label></div><br/><div class="children"><div class="content">I use an Apple keyboard on my work PC, but would rather use Command-C and Command-V instead of Ctrl-C and Ctrl-V.<p>This remapper should be able to remap the Command&#x2F;Windows key to Ctrl.</div><br/></div></div></div></div></div></div></div></body></html>