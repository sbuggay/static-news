<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707642064564" as="style"/><link rel="stylesheet" href="styles.css?v=1707642064564"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/djanderson/aho">Aho – a Git implementation in Awk</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>pabs3</span> | <span>105 comments</span></div><br/><div><div id="39328167" class="c"><input type="checkbox" id="c-39328167" checked=""/><div class="controls bullet"><span class="by">snovymgodym</span><span>|</span><a href="#39328669">next</a><span>|</span><label class="collapse" for="c-39328167">[-]</label><label class="expand" for="c-39328167">[31 more]</label></div><br/><div class="children"><div class="content">Awk is cool. It&#x27;s a full-fledged programming language that&#x27;s there in anything remotely unix-flavored, but I mostly see it used in one-liners to grab bits of text from piped stdout.<p>But you can use awk as a general-purpose scripting language [1], in many ways it&#x27;s nicer than bash for this purpose. I wonder why you don&#x27;t see more awk scripts in the wild. I suppose perl came along and tried to combine the good features of shell, awk, and sed into one language, and then people decided perl was bad and moved on from that.<p>[1] Random excerpt from NetBSD&#x27;s source code
<a href="https:&#x2F;&#x2F;github.com&#x2F;NetBSD&#x2F;src&#x2F;blob&#x2F;trunk&#x2F;sys&#x2F;dev&#x2F;eisa&#x2F;devlist2h.awk">https:&#x2F;&#x2F;github.com&#x2F;NetBSD&#x2F;src&#x2F;blob&#x2F;trunk&#x2F;sys&#x2F;dev&#x2F;eisa&#x2F;devlis...</a></div><br/><div id="39329414" class="c"><input type="checkbox" id="c-39329414" checked=""/><div class="controls bullet"><span class="by">dkarl</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39329965">next</a><span>|</span><label class="collapse" for="c-39329414">[-]</label><label class="expand" for="c-39329414">[11 more]</label></div><br/><div class="children"><div class="content">You nailed it. Perl replaced awk and then turned out to be counterproductive in a lot of cases because there was no simple and broadly understood way for people to write Perl code that was 1) readable for other programmers and 2) scalable to medium-to-large programs.<p>Which is not to say that nobody ever figured out those things and did them well, just that the success rate was low enough across the industry to earn Perl a really bad reputation.<p>I&#x27;d like to see a revival of awk. It&#x27;s less easy to scale up, so there&#x27;s very little risk that starting a project with a little bit of awk results in the next person inheriting a multi-thousand line awk codebase. Instead, you get an early-ish rewrite into a more scalable and maintainable language.</div><br/><div id="39329649" class="c"><input type="checkbox" id="c-39329649" checked=""/><div class="controls bullet"><span class="by">kradroy</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329414">parent</a><span>|</span><a href="#39329527">next</a><span>|</span><label class="collapse" for="c-39329649">[-]</label><label class="expand" for="c-39329649">[6 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;d like to see a revival of awk. It&#x27;s less easy to scale up, so there&#x27;s very little risk that starting a project with a little bit of awk results in the next person inheriting a multi-thousand line awk codebase. Instead, you get an early-ish rewrite into a more scalable and maintainable language.<p>Taco Bell programming is the way to go.<p>This is the thinking I use when putting together prototypes. You can do a lot with awk, sed, join, xargs, parallel (GNU), etc. But it&#x27;s <i>really</i> a lot of effort to abstract in a bash script, so the code is compact. I&#x27;ve built many data engineering&#x2F;ML systems with this technique. Those command line tools are SO WELL debugged and have reasonable error behavior that you don&#x27;t have to worry about complexities of exception handling, etc.</div><br/><div id="39332693" class="c"><input type="checkbox" id="c-39332693" checked=""/><div class="controls bullet"><span class="by">SOLAR_FIELDS</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329649">parent</a><span>|</span><a href="#39332171">next</a><span>|</span><label class="collapse" for="c-39332693">[-]</label><label class="expand" for="c-39332693">[4 more]</label></div><br/><div class="children"><div class="content">The problem Perl and the like have to contend with is that they have to compete with Python. If a dependency needs to be installed to do something you have to convince me that whatever language and script is worthwhile to maintain over Python which is the next de jure thing people reach for after bash. The nice thing about awk is that it’s baked in. So it has an advantage. You can convince me awk is better because I don’t have to deal with dependency issues, but it’s a harder sell for anything I have to install before I can use<p>And it’s not even that Python is a great language. Or has a great package manager or install situation. It doesn’t have any of those things. It does, however, have the likelihood of the next monkey after me understanding it. Which is unfortunately more than can be said about Perl</div><br/><div id="39333370" class="c"><input type="checkbox" id="c-39333370" checked=""/><div class="controls bullet"><span class="by">GrumpySloth</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39332693">parent</a><span>|</span><a href="#39332886">next</a><span>|</span><label class="collapse" for="c-39333370">[-]</label><label class="expand" for="c-39333370">[1 more]</label></div><br/><div class="children"><div class="content">Perl is installed by default on most Unix systems. FreeBSD being the exception. Python isn’t. Although Python is popular; if we’re comparing the probability of someone having the interpreter installed already, it’s greater for Perl, even if people aren’t aware they already have it.</div><br/></div></div><div id="39332886" class="c"><input type="checkbox" id="c-39332886" checked=""/><div class="controls bullet"><span class="by">KerrAvon</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39332693">parent</a><span>|</span><a href="#39333370">prev</a><span>|</span><a href="#39332171">next</a><span>|</span><label class="collapse" for="c-39332886">[-]</label><label class="expand" for="c-39332886">[2 more]</label></div><br/><div class="children"><div class="content">Bingo. I would argue Ruby has the quality of being a great language the next person can understand, but I think Rails has prejudiced people.</div><br/><div id="39333188" class="c"><input type="checkbox" id="c-39333188" checked=""/><div class="controls bullet"><span class="by">Towaway69</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39332886">parent</a><span>|</span><a href="#39332171">next</a><span>|</span><label class="collapse" for="c-39333188">[-]</label><label class="expand" for="c-39333188">[1 more]</label></div><br/><div class="children"><div class="content">Agree, Ruby is a wonderful language that is unfortunately dominated by an opinionated Web framework.<p>Job descriptions tend to be looking for rails developers and forgetting that actually its Ruby developers they are looking for.</div><br/></div></div></div></div></div></div><div id="39332171" class="c"><input type="checkbox" id="c-39332171" checked=""/><div class="controls bullet"><span class="by">patmorgan23</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329649">parent</a><span>|</span><a href="#39332693">prev</a><span>|</span><a href="#39329527">next</a><span>|</span><label class="collapse" for="c-39332171">[-]</label><label class="expand" for="c-39332171">[1 more]</label></div><br/><div class="children"><div class="content">May Introduce you to <a href="https:&#x2F;&#x2F;bashsta.cc&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bashsta.cc&#x2F;</a></div><br/></div></div></div></div><div id="39329527" class="c"><input type="checkbox" id="c-39329527" checked=""/><div class="controls bullet"><span class="by">cmgbhm</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329414">parent</a><span>|</span><a href="#39329649">prev</a><span>|</span><a href="#39332149">next</a><span>|</span><label class="collapse" for="c-39329527">[-]</label><label class="expand" for="c-39329527">[1 more]</label></div><br/><div class="children"><div class="content">What Perl nailed was being useful to write cross platform shell scripts. Agree that it didn’t scale up but you had a chance of delivering n platforms with minimal pain.<p>awk v gawk doesn’t make me want o to relive those days.</div><br/></div></div><div id="39332149" class="c"><input type="checkbox" id="c-39332149" checked=""/><div class="controls bullet"><span class="by">fourfun</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329414">parent</a><span>|</span><a href="#39329527">prev</a><span>|</span><a href="#39329965">next</a><span>|</span><label class="collapse" for="c-39332149">[-]</label><label class="expand" for="c-39332149">[3 more]</label></div><br/><div class="children"><div class="content">I’ve seen enough awk behemoths  in my time, no thanks.</div><br/><div id="39332389" class="c"><input type="checkbox" id="c-39332389" checked=""/><div class="controls bullet"><span class="by">cpeterso</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39332149">parent</a><span>|</span><a href="#39329965">next</a><span>|</span><label class="collapse" for="c-39332389">[-]</label><label class="expand" for="c-39332389">[2 more]</label></div><br/><div class="children"><div class="content">I’m curious: what are some problems where awk was (presumably) a reasonable choice at first but then the implementation grew into a behemoth? Did the solution need to grow as the problem grew? Or was awk just the wrong choice from the beginning?</div><br/><div id="39332797" class="c"><input type="checkbox" id="c-39332797" checked=""/><div class="controls bullet"><span class="by">fourfun</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39332389">parent</a><span>|</span><a href="#39329965">next</a><span>|</span><label class="collapse" for="c-39332797">[-]</label><label class="expand" for="c-39332797">[1 more]</label></div><br/><div class="children"><div class="content">One case I saw it used was for processing genomics data. It was kinda ok at first but when we needed to add a new sequencing type it was laborious.<p>Personally I don’t think awk is a good choice for anything beyond one liners and personal scripts. Here it was fine because it was (initially) some write-once academic code that needed to not be insanely slow.</div><br/></div></div></div></div></div></div></div></div><div id="39329965" class="c"><input type="checkbox" id="c-39329965" checked=""/><div class="controls bullet"><span class="by">sgarland</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39329414">prev</a><span>|</span><a href="#39329616">next</a><span>|</span><label class="collapse" for="c-39329965">[-]</label><label class="expand" for="c-39329965">[2 more]</label></div><br/><div class="children"><div class="content">Awk is incredibly useful. I wrote a script this week to parse Postgres logs (many, many GB) to answer the question, &quot;what were the top users making queries in the first few minutes at the top of every hour?&quot; [0] Took a couple of functions, maybe 20 LOC in total, plus some pipes through sort and uniq [1]. Also quite fast, especially if you prefix it with LC_ALL=C.<p>[0]: If you&#x27;re wondering why there wasn&#x27;t adequate observability in place to not have to do this, you&#x27;re not wrong, but sometimes you must live with the reality you have.<p>[1]: Yes, I know gawk can do a unique sort while building the list. It was late into an incident and I was tired, and | sort | uniq -c | sort -rn is a lot easier to remember.<p>[1].a: Yes, I know sort has a -u arg. It doesn&#x27;t provide a count, and its unique function is also quite a bit slower than uniq&#x27;s implementation.</div><br/><div id="39332924" class="c"><input type="checkbox" id="c-39332924" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329965">parent</a><span>|</span><a href="#39329616">next</a><span>|</span><label class="collapse" for="c-39332924">[-]</label><label class="expand" for="c-39332924">[1 more]</label></div><br/><div class="children"><div class="content">you can do that in a lot lesser line of code in python and much better performance.</div><br/></div></div></div></div><div id="39329616" class="c"><input type="checkbox" id="c-39329616" checked=""/><div class="controls bullet"><span class="by">anonnon</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39329965">prev</a><span>|</span><a href="#39331652">next</a><span>|</span><label class="collapse" for="c-39329616">[-]</label><label class="expand" for="c-39329616">[6 more]</label></div><br/><div class="children"><div class="content">&gt; then people decided perl was bad and moved on from that.<p>That&#x27;s a large part of what&#x27;s driving Awk&#x27;s renaissance: devs that never learned Perl to begin with want something to fill the gap between shell and Python, and other devs like me who (reluctantly) abandoned Perl because it was deemed &quot;uncool&quot; by HN types, which means Perl and all code written in it now has an expiration date on it. But since Awk is a POSIX standard, HN types can&#x27;t get rid of it.</div><br/><div id="39330530" class="c"><input type="checkbox" id="c-39330530" checked=""/><div class="controls bullet"><span class="by">bigstrat2003</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329616">parent</a><span>|</span><a href="#39329957">next</a><span>|</span><label class="collapse" for="c-39330530">[-]</label><label class="expand" for="c-39330530">[2 more]</label></div><br/><div class="children"><div class="content">&quot;HN types&quot; can&#x27;t get rid of perl either. So just use perl if you want to. Personally I think perl is a terrible language and that anything which is too complex for a shell script (which is most things) should just be done in python. But if you disagree, it&#x27;s not like anyone can stop you. If your issue is &quot;my teammates hate it and want me to use something else&quot;, I promise you they will be just as annoyed if you use awk.</div><br/><div id="39331285" class="c"><input type="checkbox" id="c-39331285" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39330530">parent</a><span>|</span><a href="#39329957">next</a><span>|</span><label class="collapse" for="c-39331285">[-]</label><label class="expand" for="c-39331285">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure people have read more perl code than awk code, so they&#x27;ll roll their eyes but will be able to cover for perl-required tasks, but won&#x27;t build up the courage to touch the awk.<p>To me, hell is having to debug perl scripts other people wrote. Based on experiences in the 1998 time frame.</div><br/></div></div></div></div><div id="39329957" class="c"><input type="checkbox" id="c-39329957" checked=""/><div class="controls bullet"><span class="by">Almondsetat</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329616">parent</a><span>|</span><a href="#39330530">prev</a><span>|</span><a href="#39331652">next</a><span>|</span><label class="collapse" for="c-39329957">[-]</label><label class="expand" for="c-39329957">[3 more]</label></div><br/><div class="children"><div class="content">can&#x27;t wait for the day I will be able to compile Linux without Perl</div><br/><div id="39333568" class="c"><input type="checkbox" id="c-39333568" checked=""/><div class="controls bullet"><span class="by">LinuxProtips</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329957">parent</a><span>|</span><a href="#39332602">next</a><span>|</span><label class="collapse" for="c-39333568">[-]</label><label class="expand" for="c-39333568">[1 more]</label></div><br/><div class="children"><div class="content">You can do that right now. Sabotage Linux rewrote the one and only perl dependency in awk years ago.<p>Grab <a href="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;sabotage-linux&#x2F;sabotage&#x2F;master&#x2F;KEEP&#x2F;build_OID_registry" rel="nofollow">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;sabotage-linux&#x2F;sabotage&#x2F;ma...</a> and clobber the perl script in the Linux source.<p>Then: sed -i -e &#x27;s@perl $(srctree)&#x2F;$(src)&#x2F;build_OID_registry@awk -f $(srctree)&#x2F;$(src)&#x2F;build_OID_registry@&#x27; .&#x2F;lib&#x2F;Makefile<p>They also removed the perl dependency on ca-certificates since one of the goals was to remove perl entirely from the core system. It&#x27;s really not an important dependency at all to modern systems.</div><br/></div></div><div id="39332602" class="c"><input type="checkbox" id="c-39332602" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329957">parent</a><span>|</span><a href="#39333568">prev</a><span>|</span><a href="#39331652">next</a><span>|</span><label class="collapse" for="c-39332602">[-]</label><label class="expand" for="c-39332602">[1 more]</label></div><br/><div class="children"><div class="content">that&#x27;s the day I&#x27;ll eat my red hat</div><br/></div></div></div></div></div></div><div id="39331652" class="c"><input type="checkbox" id="c-39331652" checked=""/><div class="controls bullet"><span class="by">bagful</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39329616">prev</a><span>|</span><a href="#39332917">next</a><span>|</span><label class="collapse" for="c-39331652">[-]</label><label class="expand" for="c-39331652">[4 more]</label></div><br/><div class="children"><div class="content">I love AWK. Its stringly-typedness would make a Javascript programmer blush: 0, “”, and actually-nothing are identically falsey. Numbers are no different from strings representing numbers, like Lua. Somehow, I don’t mind — if you really need to keep your numbers numbers and strings strings, sigilate the value (prepend with #&#x2F;$) and peel it off with a substr() later.</div><br/><div id="39332388" class="c"><input type="checkbox" id="c-39332388" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39331652">parent</a><span>|</span><a href="#39331761">next</a><span>|</span><label class="collapse" for="c-39332388">[-]</label><label class="expand" for="c-39332388">[1 more]</label></div><br/><div class="children"><div class="content">I like the way Lua handles strings and numbers quite a bit. They&#x27;re different types, but arithmetic will convert a string to a number when it can.<p>This is without footguns, because concatenation is a different operator entirely.<p><pre><code>    2 + &quot;3&quot;  -- 5 
    2 .. &quot;3&quot; -- &quot;23&quot;
</code></pre>
It&#x27;s rather convenient, especially when you can combine it with LPeg to parse files with numbers in them, then do the maths directly.</div><br/></div></div><div id="39331761" class="c"><input type="checkbox" id="c-39331761" checked=""/><div class="controls bullet"><span class="by">garaetjjte</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39331652">parent</a><span>|</span><a href="#39332388">prev</a><span>|</span><a href="#39332917">next</a><span>|</span><label class="collapse" for="c-39331761">[-]</label><label class="expand" for="c-39331761">[2 more]</label></div><br/><div class="children"><div class="content">Lua does not represent numbers with strings. It does have number type which is always floating-point.</div><br/><div id="39331873" class="c"><input type="checkbox" id="c-39331873" checked=""/><div class="controls bullet"><span class="by">nmz</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39331761">parent</a><span>|</span><a href="#39332917">next</a><span>|</span><label class="collapse" for="c-39331873">[-]</label><label class="expand" for="c-39331873">[1 more]</label></div><br/><div class="children"><div class="content">Integers were introduced in 5.3.</div><br/></div></div></div></div></div></div><div id="39332917" class="c"><input type="checkbox" id="c-39332917" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39331652">prev</a><span>|</span><a href="#39329049">next</a><span>|</span><label class="collapse" for="c-39332917">[-]</label><label class="expand" for="c-39332917">[2 more]</label></div><br/><div class="children"><div class="content">awk isn&#x27;t readable. modern programming languages can do things much better than awk in much lesser lines of code.all of them have better code to work with text and string.</div><br/><div id="39333382" class="c"><input type="checkbox" id="c-39333382" checked=""/><div class="controls bullet"><span class="by">GrumpySloth</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39332917">parent</a><span>|</span><a href="#39329049">next</a><span>|</span><label class="collapse" for="c-39333382">[-]</label><label class="expand" for="c-39333382">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; much lesser lines of code</i><p>Doubtful. awk has a lot of implicit behaviour which allows the programmer to write very terse scripts. An equivalent Python program is usually several times longer.</div><br/></div></div></div></div><div id="39329049" class="c"><input type="checkbox" id="c-39329049" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39332917">prev</a><span>|</span><a href="#39329621">next</a><span>|</span><label class="collapse" for="c-39329049">[-]</label><label class="expand" for="c-39329049">[2 more]</label></div><br/><div class="children"><div class="content">&gt; then people decided perl was bad and moved on from that.<p>Screw what people think. I found out I like perl. The last thing I wrote is a programmatic partition editor [1] - like how you use sfdisk to zero out the partitions, except I wanted to do more than zap, like having the MBR and GPT partition table to combine them and make hybrids.<p>I was fun, and I will use perl again (I may also use awk at one point now that I see how cool it is)<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;csdvrx&#x2F;hdisk&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;csdvrx&#x2F;hdisk&#x2F;</a></div><br/><div id="39332578" class="c"><input type="checkbox" id="c-39332578" checked=""/><div class="controls bullet"><span class="by">blacklite</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39329049">parent</a><span>|</span><a href="#39329621">next</a><span>|</span><label class="collapse" for="c-39332578">[-]</label><label class="expand" for="c-39332578">[1 more]</label></div><br/><div class="children"><div class="content">Perl is a great programming language, unless true.</div><br/></div></div></div></div><div id="39328723" class="c"><input type="checkbox" id="c-39328723" checked=""/><div class="controls bullet"><span class="by">smburdick</span><span>|</span><a href="#39328167">parent</a><span>|</span><a href="#39329621">prev</a><span>|</span><a href="#39328669">next</a><span>|</span><label class="collapse" for="c-39328723">[-]</label><label class="expand" for="c-39328723">[2 more]</label></div><br/><div class="children"><div class="content">Does that excerpt start with an if-else sequence?</div><br/><div id="39329307" class="c"><input type="checkbox" id="c-39329307" checked=""/><div class="controls bullet"><span class="by">mksybr</span><span>|</span><a href="#39328167">root</a><span>|</span><a href="#39328723">parent</a><span>|</span><a href="#39328669">next</a><span>|</span><label class="collapse" for="c-39329307">[-]</label><label class="expand" for="c-39329307">[1 more]</label></div><br/><div class="children"><div class="content">it starts with the BEGIN block<p><a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawk.html#BEGIN_002fEND" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawk.html#BEGIN_002...</a>
<a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawk.html#Pattern-Elements" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawk.html#Pattern-E...</a></div><br/></div></div></div></div></div></div><div id="39328669" class="c"><input type="checkbox" id="c-39328669" checked=""/><div class="controls bullet"><span class="by">throw0101b</span><span>|</span><a href="#39328167">prev</a><span>|</span><a href="#39330129">next</a><span>|</span><label class="collapse" for="c-39328669">[-]</label><label class="expand" for="c-39328669">[11 more]</label></div><br/><div class="children"><div class="content">The book <i>The AWK Programming Language, Second Edition</i> was released this past September (2023):<p>* <a href="https:&#x2F;&#x2F;awk.dev" rel="nofollow">https:&#x2F;&#x2F;awk.dev</a><p>The first edition was published in 1988, and is available at:<p>* <a href="https:&#x2F;&#x2F;archive.org&#x2F;details&#x2F;pdfy-MgN0H1joIoDVoIC7" rel="nofollow">https:&#x2F;&#x2F;archive.org&#x2F;details&#x2F;pdfy-MgN0H1joIoDVoIC7</a><p>* Discussion: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=13451454">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=13451454</a></div><br/><div id="39329368" class="c"><input type="checkbox" id="c-39329368" checked=""/><div class="controls bullet"><span class="by">adonovan</span><span>|</span><a href="#39328669">parent</a><span>|</span><a href="#39328736">next</a><span>|</span><label class="collapse" for="c-39329368">[-]</label><label class="expand" for="c-39329368">[9 more]</label></div><br/><div class="children"><div class="content">This 35-year gap is a great story to tell your editor whenever they ask &quot;so how&#x27;s that second edition coming along...?&quot;</div><br/><div id="39330183" class="c"><input type="checkbox" id="c-39330183" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39329368">parent</a><span>|</span><a href="#39330839">next</a><span>|</span><label class="collapse" for="c-39330183">[-]</label><label class="expand" for="c-39330183">[7 more]</label></div><br/><div class="children"><div class="content">The original authors have done next to nothing to improve Awk in those years; it&#x27;s embarrassing to be writing another book on a subject that they have not advanced.<p>Awk could use improvement in numerous areas. Oh, for instance, you can pass associative arrays into functions, but not return them. Functions that filter array to array have to take an output array parameter.<p>Using extra parameters as the only way to get local variables is also a smell.<p>a[i] syntax cannot index into strings, what the hell?</div><br/><div id="39330718" class="c"><input type="checkbox" id="c-39330718" checked=""/><div class="controls bullet"><span class="by">ksherlock</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39330183">parent</a><span>|</span><a href="#39330594">next</a><span>|</span><label class="collapse" for="c-39330718">[-]</label><label class="expand" for="c-39330718">[1 more]</label></div><br/><div class="children"><div class="content">CVS support (--csv) was added last year (to the one true awk and gnu awk)</div><br/></div></div><div id="39330594" class="c"><input type="checkbox" id="c-39330594" checked=""/><div class="controls bullet"><span class="by">chris_wot</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39330183">parent</a><span>|</span><a href="#39330718">prev</a><span>|</span><a href="#39330839">next</a><span>|</span><label class="collapse" for="c-39330594">[-]</label><label class="expand" for="c-39330594">[5 more]</label></div><br/><div class="children"><div class="content">Just for contex, Aho is 82, Weinberger is 81 and Kerrighan is dead.</div><br/><div id="39330734" class="c"><input type="checkbox" id="c-39330734" checked=""/><div class="controls bullet"><span class="by">ksherlock</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39330594">parent</a><span>|</span><a href="#39330839">next</a><span>|</span><label class="collapse" for="c-39330734">[-]</label><label class="expand" for="c-39330734">[4 more]</label></div><br/><div class="children"><div class="content">Brian Kernighan is alive.</div><br/><div id="39331076" class="c"><input type="checkbox" id="c-39331076" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39330734">parent</a><span>|</span><a href="#39332708">next</a><span>|</span><label class="collapse" for="c-39331076">[-]</label><label class="expand" for="c-39331076">[2 more]</label></div><br/><div class="children"><div class="content">And 82, just to complete the data.</div><br/><div id="39332671" class="c"><input type="checkbox" id="c-39332671" checked=""/><div class="controls bullet"><span class="by">banku_brougham</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39331076">parent</a><span>|</span><a href="#39332708">next</a><span>|</span><label class="collapse" for="c-39332671">[-]</label><label class="expand" for="c-39332671">[1 more]</label></div><br/><div class="children"><div class="content">I just wanna say i have love for the while crew and jumped when i saw that about BK. thanks for posting fast</div><br/></div></div></div></div><div id="39332708" class="c"><input type="checkbox" id="c-39332708" checked=""/><div class="controls bullet"><span class="by">chris_wot</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39330734">parent</a><span>|</span><a href="#39331076">prev</a><span>|</span><a href="#39330839">next</a><span>|</span><label class="collapse" for="c-39332708">[-]</label><label class="expand" for="c-39332708">[1 more]</label></div><br/><div class="children"><div class="content">I apologise for my error! And I am very happy he is alive.</div><br/></div></div></div></div></div></div></div></div><div id="39330839" class="c"><input type="checkbox" id="c-39330839" checked=""/><div class="controls bullet"><span class="by">EasyMark</span><span>|</span><a href="#39328669">root</a><span>|</span><a href="#39329368">parent</a><span>|</span><a href="#39330183">prev</a><span>|</span><a href="#39328736">next</a><span>|</span><label class="collapse" for="c-39330839">[-]</label><label class="expand" for="c-39330839">[1 more]</label></div><br/><div class="children"><div class="content">GRRM should probably use that as something to refer to as people pointing to him completing &quot;the damn book&quot;</div><br/></div></div></div></div><div id="39328736" class="c"><input type="checkbox" id="c-39328736" checked=""/><div class="controls bullet"><span class="by">smburdick</span><span>|</span><a href="#39328669">parent</a><span>|</span><a href="#39329368">prev</a><span>|</span><a href="#39330129">next</a><span>|</span><label class="collapse" for="c-39328736">[-]</label><label class="expand" for="c-39328736">[1 more]</label></div><br/><div class="children"><div class="content">Alongside Brian Kernighan, the &quot;K&quot; in K&amp;R C, and much more Unix lore.</div><br/></div></div></div></div><div id="39330129" class="c"><input type="checkbox" id="c-39330129" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#39328669">prev</a><span>|</span><a href="#39329994">next</a><span>|</span><label class="collapse" for="c-39330129">[-]</label><label class="expand" for="c-39330129">[2 more]</label></div><br/><div class="children"><div class="content">When you see code like:<p><pre><code>  function read_objfile(obj, objpath,    bytes, end_of_header, header,
                                         end_of_type, type, size,
                                         bytes_after_header)

</code></pre>
the parameters separated by the big white space are local variables. It&#x27;s possible to pass them values, but you&#x27;re not supposed to.<p>I wrote a patch for GNU Awk to give it a let statement for binding true lexical variables, so that this could be:<p><pre><code>  function read_objfile(obj, objpath)
  {
     @let (bytes, end_of_header, header,
           end_of_type, type, size,
           bytes_after_header)
     {
     }
  }
</code></pre>
Unfortunately, this was rejected by the project; I was encouraged to make a renamed fork of GNU Awk, so that&#x27;s what I did.<p><a href="https:&#x2F;&#x2F;www.kylheku.com&#x2F;cgit&#x2F;egawk&#x2F;about&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.kylheku.com&#x2F;cgit&#x2F;egawk&#x2F;about&#x2F;</a></div><br/><div id="39330444" class="c"><input type="checkbox" id="c-39330444" checked=""/><div class="controls bullet"><span class="by">coliveira</span><span>|</span><a href="#39330129">parent</a><span>|</span><a href="#39329994">next</a><span>|</span><label class="collapse" for="c-39330444">[-]</label><label class="expand" for="c-39330444">[1 more]</label></div><br/><div class="children"><div class="content">I feel they have a point, gawk has already too many differences compared to awk. If you introduce even more distinct syntax, it is better just to fork it and call it something else.</div><br/></div></div></div></div><div id="39329994" class="c"><input type="checkbox" id="c-39329994" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#39330129">prev</a><span>|</span><a href="#39333215">next</a><span>|</span><label class="collapse" for="c-39329994">[-]</label><label class="expand" for="c-39329994">[5 more]</label></div><br/><div class="children"><div class="content">When people ask me why I say that the linux command line is the best dev environment, Awk is one of the tools I often point to.  When you know even basic awk, you can do a lot with a little.  IDEs actually start to feel clunky.<p>If you&#x27;re looking to get into Awk, and you learn well from a lecture style, I put together a talk for Linux Fest Northwest some years ago and recorded it for Youtube:  <a href="https:&#x2F;&#x2F;youtu.be&#x2F;E5aQxIdjT0M" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;E5aQxIdjT0M</a></div><br/><div id="39331996" class="c"><input type="checkbox" id="c-39331996" checked=""/><div class="controls bullet"><span class="by">makeitdouble</span><span>|</span><a href="#39329994">parent</a><span>|</span><a href="#39330987">next</a><span>|</span><label class="collapse" for="c-39331996">[-]</label><label class="expand" for="c-39331996">[2 more]</label></div><br/><div class="children"><div class="content">At the same time unicode support was added super late (like 2 years ago ?), like any other shell tools passing content to awk by piping has edge cases (anything ressembling a CTRL+D sequence will cut the feed, and there must be dozens of other edge cases I have no idea about that will only bite me at the worst time.<p>Awk is an impressive tool, but putting it on a pedastal blinds people from the weak spots and why they should probably move serious tasks to more specialized, but modern and adapted tools.</div><br/><div id="39332898" class="c"><input type="checkbox" id="c-39332898" checked=""/><div class="controls bullet"><span class="by">themk</span><span>|</span><a href="#39329994">root</a><span>|</span><a href="#39331996">parent</a><span>|</span><a href="#39330987">next</a><span>|</span><label class="collapse" for="c-39332898">[-]</label><label class="expand" for="c-39332898">[1 more]</label></div><br/><div class="children"><div class="content">You have to be trying pretty hard to make a CTRL-D cut the feed when piping into shell tools.<p>That only comes into effect when the input is coming from a pty, and that only when it&#x27;s in a very specific mode that is meant for interactive use.</div><br/></div></div></div></div><div id="39330987" class="c"><input type="checkbox" id="c-39330987" checked=""/><div class="controls bullet"><span class="by">corytheboyd</span><span>|</span><a href="#39329994">parent</a><span>|</span><a href="#39331996">prev</a><span>|</span><a href="#39333215">next</a><span>|</span><label class="collapse" for="c-39330987">[-]</label><label class="expand" for="c-39330987">[2 more]</label></div><br/><div class="children"><div class="content">How does awk replace an IDE? I love awk, I love how powerful it is if you spend the time to learn it, but if I didn’t have an IDE I would be significantly less productive. Most of what an IDE does is help you understand and change code, not text editing operations. Not trying to say you’re wrong, just curious what your angle is with that statement.</div><br/><div id="39331931" class="c"><input type="checkbox" id="c-39331931" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#39329994">root</a><span>|</span><a href="#39330987">parent</a><span>|</span><a href="#39333215">next</a><span>|</span><label class="collapse" for="c-39331931">[-]</label><label class="expand" for="c-39331931">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, to clarify, I don&#x27;t mean that just awk replaces an IDE.  I mean that the Linux command line replaces an IDE, specifically the functions like finding references, substitutions, transformations, etc.  It doesn&#x27;t replace syntax highlighting and stuff of course, though I get that from Vim.<p>It&#x27;s never going to be as powerful as a specialized IDE would for a specific language, but the Linux CLI is language agnostic and even works on just text files, so it&#x27;s universally applicable and doesn&#x27;t change depending on the language of the project.  For me it&#x27;s better than an IDE, but YMMV of course because everybody is different.</div><br/></div></div></div></div></div></div><div id="39333215" class="c"><input type="checkbox" id="c-39333215" checked=""/><div class="controls bullet"><span class="by">dexzod</span><span>|</span><a href="#39329994">prev</a><span>|</span><a href="#39328073">next</a><span>|</span><label class="collapse" for="c-39333215">[-]</label><label class="expand" for="c-39333215">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand how you can write more that one line long program in a language where all variables are global by default even if they are inside a scope delimited by brackets. You can have local variables but the syntax is weird. <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;html_node&#x2F;Variable-Scope.html" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;html_node&#x2F;Variable-...</a></div><br/></div></div><div id="39328073" class="c"><input type="checkbox" id="c-39328073" checked=""/><div class="controls bullet"><span class="by">Towaway69</span><span>|</span><a href="#39333215">prev</a><span>|</span><a href="#39328173">next</a><span>|</span><label class="collapse" for="c-39328073">[-]</label><label class="expand" for="c-39328073">[1 more]</label></div><br/><div class="children"><div class="content">Great project and great idea. Understanding the basics gives one different perspectives for other projects and problems.<p>Back in the day I created a Web-based wiki using awk. Why? Because I was using linksys router with minimal memory.<p>It was a great learning both how wikis work and what can be done with awk. And since there are no libraries to fallback on, I had to implement the basics and gain all the understandings.</div><br/></div></div><div id="39328173" class="c"><input type="checkbox" id="c-39328173" checked=""/><div class="controls bullet"><span class="by">sampo</span><span>|</span><a href="#39328073">prev</a><span>|</span><a href="#39329536">next</a><span>|</span><label class="collapse" for="c-39328173">[-]</label><label class="expand" for="c-39328173">[13 more]</label></div><br/><div class="children"><div class="content">&gt; I don&#x27;t plan to add network functionality to this (even though you totally can), so no <i>clone</i> or <i>push</i>.<p>You can also git clone from a repository in a different directory in the same computer. And push to.</div><br/><div id="39329521" class="c"><input type="checkbox" id="c-39329521" checked=""/><div class="controls bullet"><span class="by">d-lisp</span><span>|</span><a href="#39328173">parent</a><span>|</span><a href="#39330228">next</a><span>|</span><label class="collapse" for="c-39329521">[-]</label><label class="expand" for="c-39329521">[5 more]</label></div><br/><div class="children"><div class="content">Exactly, but having branches kind of allow you to not have to create local clones. And I legit use rsync to clone locally git repos. The question is : what is the best ?</div><br/><div id="39330040" class="c"><input type="checkbox" id="c-39330040" checked=""/><div class="controls bullet"><span class="by">nerdponx</span><span>|</span><a href="#39328173">root</a><span>|</span><a href="#39329521">parent</a><span>|</span><a href="#39330228">next</a><span>|</span><label class="collapse" for="c-39330040">[-]</label><label class="expand" for="c-39330040">[4 more]</label></div><br/><div class="children"><div class="content">You can have multiple worktrees per repo. Usually that&#x27;s the best solution instead of local clones.</div><br/><div id="39333134" class="c"><input type="checkbox" id="c-39333134" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#39328173">root</a><span>|</span><a href="#39330040">parent</a><span>|</span><a href="#39332699">next</a><span>|</span><label class="collapse" for="c-39333134">[-]</label><label class="expand" for="c-39333134">[1 more]</label></div><br/><div class="children"><div class="content">The git-worktree man page says:<p><pre><code>  BUGS

  Multiple checkout in general is still experimental, and
  the support for submodules is incomplete. It is NOT
  recommended to make multiple checkouts of a superproject.
</code></pre>
Source: <a href="https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-worktree" rel="nofollow">https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-worktree</a><p>It complicates git with more cruft. A separate clone is more understandable and independent. If you trash something in its .git&#x2F; subdirectory, only that repo is affected.</div><br/></div></div><div id="39332699" class="c"><input type="checkbox" id="c-39332699" checked=""/><div class="controls bullet"><span class="by">d-lisp</span><span>|</span><a href="#39328173">root</a><span>|</span><a href="#39330040">parent</a><span>|</span><a href="#39333134">prev</a><span>|</span><a href="#39330319">next</a><span>|</span><label class="collapse" for="c-39332699">[-]</label><label class="expand" for="c-39332699">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s interesting, some kind of meta branches.</div><br/></div></div><div id="39330319" class="c"><input type="checkbox" id="c-39330319" checked=""/><div class="controls bullet"><span class="by">kilroy123</span><span>|</span><a href="#39328173">root</a><span>|</span><a href="#39330040">parent</a><span>|</span><a href="#39332699">prev</a><span>|</span><a href="#39330228">next</a><span>|</span><label class="collapse" for="c-39330319">[-]</label><label class="expand" for="c-39330319">[1 more]</label></div><br/><div class="children"><div class="content">This is what I do for complex projects.</div><br/></div></div></div></div></div></div><div id="39330228" class="c"><input type="checkbox" id="c-39330228" checked=""/><div class="controls bullet"><span class="by">more-coffee</span><span>|</span><a href="#39328173">parent</a><span>|</span><a href="#39329521">prev</a><span>|</span><a href="#39328301">next</a><span>|</span><label class="collapse" for="c-39330228">[-]</label><label class="expand" for="c-39330228">[1 more]</label></div><br/><div class="children"><div class="content">That is so obvious.. yet I&#x27;ve never thought to try this in 10 years of using git.</div><br/></div></div></div></div><div id="39329536" class="c"><input type="checkbox" id="c-39329536" checked=""/><div class="controls bullet"><span class="by">Keyframe</span><span>|</span><a href="#39328173">prev</a><span>|</span><a href="#39329612">next</a><span>|</span><label class="collapse" for="c-39329536">[-]</label><label class="expand" for="c-39329536">[4 more]</label></div><br/><div class="children"><div class="content">There&#x27;s this lingering thought in my head that with a bunch of GNU utils&#x2F;programs and probably not much more one could create these omnipotent databases and processing tools that would surpass in performance and capabilities tools specialized in it. Anyone else feels like that?</div><br/><div id="39332125" class="c"><input type="checkbox" id="c-39332125" checked=""/><div class="controls bullet"><span class="by">Qem</span><span>|</span><a href="#39329536">parent</a><span>|</span><a href="#39330447">next</a><span>|</span><label class="collapse" for="c-39332125">[-]</label><label class="expand" for="c-39332125">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;adamdrake.com&#x2F;command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html" rel="nofollow">https:&#x2F;&#x2F;adamdrake.com&#x2F;command-line-tools-can-be-235x-faster-...</a></div><br/></div></div><div id="39330447" class="c"><input type="checkbox" id="c-39330447" checked=""/><div class="controls bullet"><span class="by">zilti</span><span>|</span><a href="#39329536">parent</a><span>|</span><a href="#39332125">prev</a><span>|</span><a href="#39329612">next</a><span>|</span><label class="collapse" for="c-39330447">[-]</label><label class="expand" for="c-39330447">[2 more]</label></div><br/><div class="children"><div class="content">Oh yes, and a project like this exists&#x2F;existed: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Strozzi_NoSQL?wprov=sfla1" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Strozzi_NoSQL?wprov=sfla1</a></div><br/><div id="39330644" class="c"><input type="checkbox" id="c-39330644" checked=""/><div class="controls bullet"><span class="by">Keyframe</span><span>|</span><a href="#39329536">root</a><span>|</span><a href="#39330447">parent</a><span>|</span><a href="#39329612">next</a><span>|</span><label class="collapse" for="c-39330644">[-]</label><label class="expand" for="c-39330644">[1 more]</label></div><br/><div class="children"><div class="content">Fantastic, first time I hear about it. So there&#x27;s _something_ to it, alright.</div><br/></div></div></div></div></div></div><div id="39329612" class="c"><input type="checkbox" id="c-39329612" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#39329536">prev</a><span>|</span><a href="#39331964">next</a><span>|</span><label class="collapse" for="c-39329612">[-]</label><label class="expand" for="c-39329612">[2 more]</label></div><br/><div class="children"><div class="content">If this used cppawk (which didn&#x27;t exist when this was developed), it could use #include. This is nicely relative to the file; no AWKPATH. Also you can just &quot;build&quot; the preprocessed program into a single file which then doesn&#x27;t need cppawk.<p><a href="https:&#x2F;&#x2F;www.kylheku.com&#x2F;cgit&#x2F;cppawk&#x2F;about&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.kylheku.com&#x2F;cgit&#x2F;cppawk&#x2F;about&#x2F;</a></div><br/><div id="39331854" class="c"><input type="checkbox" id="c-39331854" checked=""/><div class="controls bullet"><span class="by">xonix</span><span>|</span><a href="#39329612">parent</a><span>|</span><a href="#39331964">next</a><span>|</span><label class="collapse" for="c-39331854">[-]</label><label class="expand" for="c-39331854">[1 more]</label></div><br/><div class="children"><div class="content">You can also implement includes in couple (tens) of lines of AWK: <a href="https:&#x2F;&#x2F;maximullaris.com&#x2F;revamp_define.html#mglwnafh" rel="nofollow">https:&#x2F;&#x2F;maximullaris.com&#x2F;revamp_define.html#mglwnafh</a></div><br/></div></div></div></div><div id="39331964" class="c"><input type="checkbox" id="c-39331964" checked=""/><div class="controls bullet"><span class="by">hajimuz</span><span>|</span><a href="#39329612">prev</a><span>|</span><a href="#39327679">next</a><span>|</span><label class="collapse" for="c-39331964">[-]</label><label class="expand" for="c-39331964">[3 more]</label></div><br/><div class="children"><div class="content">Aho means dumb ass in Japanese. Haha</div><br/><div id="39333218" class="c"><input type="checkbox" id="c-39333218" checked=""/><div class="controls bullet"><span class="by">Towaway69</span><span>|</span><a href="#39331964">parent</a><span>|</span><a href="#39333076">next</a><span>|</span><label class="collapse" for="c-39333218">[-]</label><label class="expand" for="c-39333218">[1 more]</label></div><br/><div class="children"><div class="content">What&#x27;s wrong with hello in pirate speak? ;)<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Ahoy_(greeting)" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Ahoy_(greeting)</a></div><br/></div></div><div id="39333076" class="c"><input type="checkbox" id="c-39333076" checked=""/><div class="controls bullet"><span class="by">chanux</span><span>|</span><a href="#39331964">parent</a><span>|</span><a href="#39333218">prev</a><span>|</span><a href="#39327679">next</a><span>|</span><label class="collapse" for="c-39333076">[-]</label><label class="expand" for="c-39333076">[1 more]</label></div><br/><div class="children"><div class="content">In Sinhala it&#x27;s Alas!</div><br/></div></div></div></div><div id="39327679" class="c"><input type="checkbox" id="c-39327679" checked=""/><div class="controls bullet"><span class="by">artsi0m</span><span>|</span><a href="#39331964">prev</a><span>|</span><a href="#39328426">next</a><span>|</span><label class="collapse" for="c-39327679">[-]</label><label class="expand" for="c-39327679">[3 more]</label></div><br/><div class="children"><div class="content">Might be relevant:<p>sed-chess:
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37896854">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37896854</a><p>awk-raycaster:
<a href="https:&#x2F;&#x2F;github.com&#x2F;TheMozg&#x2F;awk-raycaster">https:&#x2F;&#x2F;github.com&#x2F;TheMozg&#x2F;awk-raycaster</a></div><br/><div id="39328272" class="c"><input type="checkbox" id="c-39328272" checked=""/><div class="controls bullet"><span class="by">erk__</span><span>|</span><a href="#39327679">parent</a><span>|</span><a href="#39328426">next</a><span>|</span><label class="collapse" for="c-39328272">[-]</label><label class="expand" for="c-39328272">[2 more]</label></div><br/><div class="children"><div class="content">There is also a Google (and more) translate client written in AWK<p><a href="https:&#x2F;&#x2F;github.com&#x2F;soimort&#x2F;translate-shell">https:&#x2F;&#x2F;github.com&#x2F;soimort&#x2F;translate-shell</a></div><br/><div id="39328415" class="c"><input type="checkbox" id="c-39328415" checked=""/><div class="controls bullet"><span class="by">artsi0m</span><span>|</span><a href="#39327679">root</a><span>|</span><a href="#39328272">parent</a><span>|</span><a href="#39328426">next</a><span>|</span><label class="collapse" for="c-39328415">[-]</label><label class="expand" for="c-39328415">[1 more]</label></div><br/><div class="children"><div class="content">I found an awesome-awk[1] page on github and is seems to be a little empty.
Maybe we should contribute to it and bring some examples like subj of this HN post
or ahrf[2], dedicated markup language for static site generators based on awk.
I&#x27;ve started with adding one true awk and bioawk implementations.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;freznicek&#x2F;awesome-awk">https:&#x2F;&#x2F;github.com&#x2F;freznicek&#x2F;awesome-awk</a>
[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;Ypnose&#x2F;ahrf">https:&#x2F;&#x2F;github.com&#x2F;Ypnose&#x2F;ahrf</a></div><br/></div></div></div></div></div></div><div id="39328426" class="c"><input type="checkbox" id="c-39328426" checked=""/><div class="controls bullet"><span class="by">sodapopcan</span><span>|</span><a href="#39327679">prev</a><span>|</span><a href="#39329134">next</a><span>|</span><label class="collapse" for="c-39328426">[-]</label><label class="expand" for="c-39328426">[6 more]</label></div><br/><div class="children"><div class="content">Not the most interesting of questions I have here, but is this indentation style on function definitions a thing or is it just accidental?  It&#x27;s in a few places, mostly before the first arg but sometimes before others.<p>eg:<p><pre><code>    function run_command(    c, shortopts, longopts, quiet, directory, path, errors)
</code></pre>
Just asking as this project has kind of resparked my interest in awk.</div><br/><div id="39328549" class="c"><input type="checkbox" id="c-39328549" checked=""/><div class="controls bullet"><span class="by">rbonvall</span><span>|</span><a href="#39328426">parent</a><span>|</span><a href="#39328634">next</a><span>|</span><label class="collapse" for="c-39328549">[-]</label><label class="expand" for="c-39328549">[3 more]</label></div><br/><div class="children"><div class="content">Awk doesn&#x27;t have a way to define function-local variables. All variables are global, except for function parameters.<p>This spacing convention is meant to clearly separate mandatory parameters and optional parameters that are sometimes only introduced to &quot;declare&quot; a local variable.</div><br/><div id="39329002" class="c"><input type="checkbox" id="c-39329002" checked=""/><div class="controls bullet"><span class="by">bewuethr</span><span>|</span><a href="#39328426">root</a><span>|</span><a href="#39328549">parent</a><span>|</span><a href="#39329903">next</a><span>|</span><label class="collapse" for="c-39329002">[-]</label><label class="expand" for="c-39329002">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s where the manual introduces the convention: <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawk.html#Variable-Scope" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawk.html#Variable-...</a></div><br/></div></div><div id="39329903" class="c"><input type="checkbox" id="c-39329903" checked=""/><div class="controls bullet"><span class="by">sodapopcan</span><span>|</span><a href="#39328426">root</a><span>|</span><a href="#39328549">parent</a><span>|</span><a href="#39329002">prev</a><span>|</span><a href="#39328634">next</a><span>|</span><label class="collapse" for="c-39329903">[-]</label><label class="expand" for="c-39329903">[1 more]</label></div><br/><div class="children"><div class="content">Oh cool, thank you!!</div><br/></div></div></div></div><div id="39328470" class="c"><input type="checkbox" id="c-39328470" checked=""/><div class="controls bullet"><span class="by">michaelcampbell</span><span>|</span><a href="#39328426">parent</a><span>|</span><a href="#39328634">prev</a><span>|</span><a href="#39329134">next</a><span>|</span><label class="collapse" for="c-39328470">[-]</label><label class="expand" for="c-39328470">[1 more]</label></div><br/><div class="children"><div class="content">I noticed this too and can&#x27;t figure it out.  Spaces between SOME parameters, not all, and not consistently placed</div><br/></div></div></div></div><div id="39329134" class="c"><input type="checkbox" id="c-39329134" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#39328426">prev</a><span>|</span><a href="#39327833">next</a><span>|</span><label class="collapse" for="c-39329134">[-]</label><label class="expand" for="c-39329134">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>A Git Implementation in Awk</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28771841">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28771841</a> - Oct 2021 (96 comments)</div><br/></div></div><div id="39327833" class="c"><input type="checkbox" id="c-39327833" checked=""/><div class="controls bullet"><span class="by">bitwize</span><span>|</span><a href="#39329134">prev</a><span>|</span><a href="#39330513">next</a><span>|</span><label class="collapse" for="c-39327833">[-]</label><label class="expand" for="c-39327833">[6 more]</label></div><br/><div class="children"><div class="content">At first I thought this was named for <i>aho</i> (アホ), Japanese slang for &quot;stupid&quot;, then I remembered that Alfred Aho is the &#x27;a&#x27; in &#x27;awk&#x27;. Or maybe it&#x27;s both?</div><br/><div id="39328057" class="c"><input type="checkbox" id="c-39328057" checked=""/><div class="controls bullet"><span class="by">bangonkeyboard</span><span>|</span><a href="#39327833">parent</a><span>|</span><a href="#39328326">next</a><span>|</span><label class="collapse" for="c-39328057">[-]</label><label class="expand" for="c-39328057">[3 more]</label></div><br/><div class="children"><div class="content">Both, I assume. &quot;Git&quot; was already slang for &quot;stupid person,&quot; so this is a clever name.</div><br/><div id="39331561" class="c"><input type="checkbox" id="c-39331561" checked=""/><div class="controls bullet"><span class="by">phkahler</span><span>|</span><a href="#39327833">root</a><span>|</span><a href="#39328057">parent</a><span>|</span><a href="#39328326">next</a><span>|</span><label class="collapse" for="c-39331561">[-]</label><label class="expand" for="c-39331561">[2 more]</label></div><br/><div class="children"><div class="content">I always assumed git was a sort of slang for get. So you &quot;git the code&quot; or use git to get code.</div><br/><div id="39332409" class="c"><input type="checkbox" id="c-39332409" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#39327833">root</a><span>|</span><a href="#39331561">parent</a><span>|</span><a href="#39328326">next</a><span>|</span><label class="collapse" for="c-39332409">[-]</label><label class="expand" for="c-39332409">[1 more]</label></div><br/><div class="children"><div class="content">The pun is there for sure, but &quot;git&quot; is British slang for an unpleasant or annoying person. I was introduced to it by The Beatles: &quot;and curse Sir Walter Raleigh, he was such a stupid git&quot;.<p>I believe it was Linus himself who quipped (paraphrasing) that he is so arrogant he named two software projects after himself: Linux, and git.</div><br/></div></div></div></div></div></div><div id="39328326" class="c"><input type="checkbox" id="c-39328326" checked=""/><div class="controls bullet"><span class="by">CharlesW</span><span>|</span><a href="#39327833">parent</a><span>|</span><a href="#39328057">prev</a><span>|</span><a href="#39329634">next</a><span>|</span><label class="collapse" for="c-39328326">[-]</label><label class="expand" for="c-39328326">[1 more]</label></div><br/><div class="children"><div class="content">My most recent experience is hearing it in <i>Reservation Dogs</i>: <a href="https:&#x2F;&#x2F;en.wiktionary.org&#x2F;wiki&#x2F;aho#Navajo" rel="nofollow">https:&#x2F;&#x2F;en.wiktionary.org&#x2F;wiki&#x2F;aho#Navajo</a></div><br/></div></div><div id="39329634" class="c"><input type="checkbox" id="c-39329634" checked=""/><div class="controls bullet"><span class="by">ghc</span><span>|</span><a href="#39327833">parent</a><span>|</span><a href="#39328326">prev</a><span>|</span><a href="#39330513">next</a><span>|</span><label class="collapse" for="c-39329634">[-]</label><label class="expand" for="c-39329634">[1 more]</label></div><br/><div class="children"><div class="content">I bet it&#x27;s both. Extremely clever wordplay!</div><br/></div></div></div></div><div id="39330513" class="c"><input type="checkbox" id="c-39330513" checked=""/><div class="controls bullet"><span class="by">earthboundkid</span><span>|</span><a href="#39327833">prev</a><span>|</span><a href="#39330834">next</a><span>|</span><label class="collapse" for="c-39330513">[-]</label><label class="expand" for="c-39330513">[2 more]</label></div><br/><div class="children"><div class="content">The perfect project name doesn&#x27;t exi…</div><br/><div id="39330704" class="c"><input type="checkbox" id="c-39330704" checked=""/><div class="controls bullet"><span class="by">runiq</span><span>|</span><a href="#39330513">parent</a><span>|</span><a href="#39330834">next</a><span>|</span><label class="collapse" for="c-39330704">[-]</label><label class="expand" for="c-39330704">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, digging the name. For the uninitiated: &#x27;aho&#x27; is basically &#x27;git&#x27; in Osakan.</div><br/></div></div></div></div><div id="39330834" class="c"><input type="checkbox" id="c-39330834" checked=""/><div class="controls bullet"><span class="by">EasyMark</span><span>|</span><a href="#39330513">prev</a><span>|</span><a href="#39328252">next</a><span>|</span><label class="collapse" for="c-39330834">[-]</label><label class="expand" for="c-39330834">[1 more]</label></div><br/><div class="children"><div class="content">can be built as a part of busybox too, which I&#x27;ve found useful a few times on embedded linux systems with limited resources&#x2F;program space</div><br/></div></div><div id="39328252" class="c"><input type="checkbox" id="c-39328252" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#39330834">prev</a><span>|</span><a href="#39329208">next</a><span>|</span><label class="collapse" for="c-39328252">[-]</label><label class="expand" for="c-39328252">[4 more]</label></div><br/><div class="children"><div class="content">Does it solve the large-file bottleneck? Then I might use it for my deep learning models.</div><br/><div id="39330431" class="c"><input type="checkbox" id="c-39330431" checked=""/><div class="controls bullet"><span class="by">aseipp</span><span>|</span><a href="#39328252">parent</a><span>|</span><a href="#39328950">next</a><span>|</span><label class="collapse" for="c-39330431">[-]</label><label class="expand" for="c-39330431">[1 more]</label></div><br/><div class="children"><div class="content">No, Git&#x27;s object store was not designed to hold large binary blobs, and no implementation of Git in any language can change this. It&#x27;s a reasonable request; I mean, Git doesn&#x27;t even deal with &quot;pretty small&quot; binary files very well, either. But it&#x27;s all simply a consequence of its design that was thought up all those years ago.<p>The core object storage model and data format (and many, many things on top of those) have to be changed&#x2F;extended&#x2F;fixed first, but it&#x27;s realistically an immense change, so git-lfs and other various solutions are about as good as it&#x27;ll get in the mean time.</div><br/></div></div><div id="39328950" class="c"><input type="checkbox" id="c-39328950" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#39328252">parent</a><span>|</span><a href="#39330431">prev</a><span>|</span><a href="#39329208">next</a><span>|</span><label class="collapse" for="c-39328950">[-]</label><label class="expand" for="c-39328950">[2 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t, since Git&#x27;s data model has to be changed to content-defined chunks to solve the issue.<p>You should look at git-lfs[1] instead.<p>[1] <a href="https:&#x2F;&#x2F;git-lfs.com" rel="nofollow">https:&#x2F;&#x2F;git-lfs.com</a></div><br/><div id="39329533" class="c"><input type="checkbox" id="c-39329533" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#39328252">root</a><span>|</span><a href="#39328950">parent</a><span>|</span><a href="#39329208">next</a><span>|</span><label class="collapse" for="c-39329533">[-]</label><label class="expand" for="c-39329533">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve tried it but it doesn&#x27;t play nice with git-shell, and thus for me is too much of a hassle to set up.<p>Also, I&#x27;m not a huge fan of tools that implement important functionality as an afterthought, especially if those tools deal with my precious data.</div><br/></div></div></div></div></div></div><div id="39329208" class="c"><input type="checkbox" id="c-39329208" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#39328252">prev</a><span>|</span><a href="#39332410">next</a><span>|</span><label class="collapse" for="c-39329208">[-]</label><label class="expand" for="c-39329208">[6 more]</label></div><br/><div class="children"><div class="content">Neat project. It’s always fun to see tools pushed beyond their normal use cases.<p>That said, it should be a criminal offense to write any tool this large and complex in any language that can’t be used in a powerful step debugger.<p>TBH I’m increasingly frustrated by the amount of code written in Bash. I kind of hate Python for various reasons. But if 100% of Bash was replaced with Python I think the world would be a better place.</div><br/><div id="39333446" class="c"><input type="checkbox" id="c-39333446" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#39329208">parent</a><span>|</span><a href="#39329435">next</a><span>|</span><label class="collapse" for="c-39333446">[-]</label><label class="expand" for="c-39333446">[1 more]</label></div><br/><div class="children"><div class="content">Only if python gained the ability to execute externals and handle stdin&#x2F;stdout&#x2F;stderr, return value, &amp; environment directly instead of through exec().
And ditched the meaningful indentation.
And was backwards compatible so that old scripts work today and today scripts work tomorrow.<p>Bash has it&#x27;s own uglies so I guess it&#x27;s fair enough to compare two imperfect things, but the problem is these are two different jobs, and python just doesn&#x27;t do the job bash does, and that job needs doing, so python can&#x27;t be the replacement.</div><br/></div></div><div id="39329435" class="c"><input type="checkbox" id="c-39329435" checked=""/><div class="controls bullet"><span class="by">riddley</span><span>|</span><a href="#39329208">parent</a><span>|</span><a href="#39333446">prev</a><span>|</span><a href="#39332410">next</a><span>|</span><label class="collapse" for="c-39329435">[-]</label><label class="expand" for="c-39329435">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m mostly in concordance, but one thing I think every scripting language got wrong is how painful it is to run external binaries. Sure it can be done but it could be as easy as a shell script.</div><br/><div id="39330852" class="c"><input type="checkbox" id="c-39330852" checked=""/><div class="controls bullet"><span class="by">wazbug</span><span>|</span><a href="#39329208">root</a><span>|</span><a href="#39329435">parent</a><span>|</span><a href="#39329574">next</a><span>|</span><label class="collapse" for="c-39330852">[-]</label><label class="expand" for="c-39330852">[2 more]</label></div><br/><div class="children"><div class="content">Ruby is nice in this regard though :-)<p><pre><code>    x = `git --version`
    puts(x) #=&gt; &quot;git version 2.43.0&quot;</code></pre></div><br/><div id="39332919" class="c"><input type="checkbox" id="c-39332919" checked=""/><div class="controls bullet"><span class="by">KerrAvon</span><span>|</span><a href="#39329208">root</a><span>|</span><a href="#39330852">parent</a><span>|</span><a href="#39329574">next</a><span>|</span><label class="collapse" for="c-39332919">[-]</label><label class="expand" for="c-39332919">[1 more]</label></div><br/><div class="children"><div class="content">Ruby is really nice in this regard, in fact — you’re not limited to backticks; you can use any quote delimiters you want.</div><br/></div></div></div></div><div id="39329574" class="c"><input type="checkbox" id="c-39329574" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#39329208">root</a><span>|</span><a href="#39329435">parent</a><span>|</span><a href="#39330852">prev</a><span>|</span><a href="#39332410">next</a><span>|</span><label class="collapse" for="c-39329574">[-]</label><label class="expand" for="c-39329574">[1 more]</label></div><br/><div class="children"><div class="content">Agreed.<p>That said, stdout&#x2F;stderr is such a bloody, inconsistent nightmare. I’m not totally convinced that “chain small binary programs together” is better than “one language with useful libraries”.<p>Bash is admittedly nice for small things. But it always spirals out of control. And rarely gets ported.<p>Also my life is primarily Windows and if you want everything to “just work” across mac&#x2F;linux&#x2F;win it’s easier to just use Python or sometimes even Rust. I often wish I could easily write and run single-file rust scripts.</div><br/></div></div></div></div></div></div><div id="39332410" class="c"><input type="checkbox" id="c-39332410" checked=""/><div class="controls bullet"><span class="by">pyuser583</span><span>|</span><a href="#39329208">prev</a><span>|</span><a href="#39332899">next</a><span>|</span><label class="collapse" for="c-39332410">[-]</label><label class="expand" for="c-39332410">[1 more]</label></div><br/><div class="children"><div class="content">Dear lord, why?</div><br/></div></div><div id="39332899" class="c"><input type="checkbox" id="c-39332899" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#39332410">prev</a><span>|</span><label class="collapse" for="c-39332899">[-]</label><label class="expand" for="c-39332899">[1 more]</label></div><br/><div class="children"><div class="content">if you are using awk for more than 5 lines of code  just use python.it is painfully slow and unreadable, there is no benefit of using it at all. if you are saying awk is fast you yad never benchmarked it against other programming languages. even pyhon is 10-20x faster.</div><br/></div></div></div></div></div></div></div></body></html>