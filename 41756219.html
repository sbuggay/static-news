<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728378068696" as="style"/><link rel="stylesheet" href="styles.css?v=1728378068696"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nickb.website/blog/virtualizing-ios-on-apple-silicon">Virtualizing iOS on Apple Silicon</a> <span class="domain">(<a href="https://nickb.website">nickb.website</a>)</span></div><div class="subtext"><span>walterbell</span> | <span>99 comments</span></div><br/><div><div id="41771686" class="c"><input type="checkbox" id="c-41771686" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">next</a><span>|</span><label class="collapse" for="c-41771686">[-]</label><label class="expand" for="c-41771686">[13 more]</label></div><br/><div class="children"><div class="content"><i>&gt; Corellium and their virtual iPhone cloud product (only publicly-available “complete” solution)</i><p>Corellium won their legal case, allowing them to rent [1] iOS Cloud VMs for security research, <a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?query=corellium" rel="nofollow">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?query=corellium</a><p>If iOS can be virtualized on Apple Silicon Macbooks, it could reduce demand for commercial iOS virtualization services.<p><pre><code>  Individuals: $400&#x2F;month
  Business: $60,000&#x2F;year
</code></pre>
[1] <a href="https:&#x2F;&#x2F;support.corellium.com&#x2F;subscriptions&#x2F;pricing" rel="nofollow">https:&#x2F;&#x2F;support.corellium.com&#x2F;subscriptions&#x2F;pricing</a></div><br/><div id="41772814" class="c"><input type="checkbox" id="c-41772814" checked=""/><div class="controls bullet"><span class="by">ravetcofx</span><span>|</span><a href="#41771686">parent</a><span>|</span><a href="#41771605">next</a><span>|</span><label class="collapse" for="c-41772814">[-]</label><label class="expand" for="c-41772814">[12 more]</label></div><br/><div class="children"><div class="content">my god, $4-$8&#x2F;hr who is paying for these VMs?</div><br/><div id="41773779" class="c"><input type="checkbox" id="c-41773779" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772814">parent</a><span>|</span><a href="#41773158">next</a><span>|</span><label class="collapse" for="c-41773779">[-]</label><label class="expand" for="c-41773779">[2 more]</label></div><br/><div class="children"><div class="content">You say that but companies routinely pay projects like Circle CI similar orders of magnitudes for chunkier CI builds (one place I know having builds take 30 minutes.... with 64 shards. Basically paying like 5-10 bucks per commit)<p>You still gotta do hardware management yourself in other words but CI is good business!</div><br/><div id="41774841" class="c"><input type="checkbox" id="c-41774841" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41773779">parent</a><span>|</span><a href="#41773158">next</a><span>|</span><label class="collapse" for="c-41774841">[-]</label><label class="expand" for="c-41774841">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Basically paying like 5-10 bucks per commit<p>Which isn&#x27;t actually all that much, compared to the amount you pay your developers.</div><br/></div></div></div></div><div id="41773158" class="c"><input type="checkbox" id="c-41773158" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772814">parent</a><span>|</span><a href="#41773779">prev</a><span>|</span><a href="#41773198">next</a><span>|</span><label class="collapse" for="c-41773158">[-]</label><label class="expand" for="c-41773158">[2 more]</label></div><br/><div class="children"><div class="content">These people: <a href="https:&#x2F;&#x2F;www.corellium.com&#x2F;about#:~:text=Who%20we%20serve" rel="nofollow">https:&#x2F;&#x2F;www.corellium.com&#x2F;about#:~:text=Who%20we%20serve</a></div><br/><div id="41774561" class="c"><input type="checkbox" id="c-41774561" checked=""/><div class="controls bullet"><span class="by">e____g</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41773158">parent</a><span>|</span><a href="#41773198">next</a><span>|</span><label class="collapse" for="c-41774561">[-]</label><label class="expand" for="c-41774561">[1 more]</label></div><br/><div class="children"><div class="content">No, those people are almost certainly paying far below list price.</div><br/></div></div></div></div><div id="41773198" class="c"><input type="checkbox" id="c-41773198" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772814">parent</a><span>|</span><a href="#41773158">prev</a><span>|</span><a href="#41772861">next</a><span>|</span><label class="collapse" for="c-41773198">[-]</label><label class="expand" for="c-41773198">[1 more]</label></div><br/><div class="children"><div class="content">attackers and defenders of zero day vulns in iOS black boxes</div><br/></div></div><div id="41772861" class="c"><input type="checkbox" id="c-41772861" checked=""/><div class="controls bullet"><span class="by">ronsor</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772814">parent</a><span>|</span><a href="#41773198">prev</a><span>|</span><a href="#41771605">next</a><span>|</span><label class="collapse" for="c-41772861">[-]</label><label class="expand" for="c-41772861">[6 more]</label></div><br/><div class="children"><div class="content">This is cheaper than 8xH100 GPU compute time for AI.</div><br/><div id="41772953" class="c"><input type="checkbox" id="c-41772953" checked=""/><div class="controls bullet"><span class="by">sangnoir</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772861">parent</a><span>|</span><a href="#41771605">next</a><span>|</span><label class="collapse" for="c-41772953">[-]</label><label class="expand" for="c-41772953">[5 more]</label></div><br/><div class="children"><div class="content">This is such a left-field comparison. <i>One</i> H100 costs $25,000, whereas one Macbook Pro&#x2F;iMac&#x2F;iOS device costs roughly a tenth of that. It&#x27;s not at all surprising that it&#x27;s cheaper to rent something that has CapEx costs 2 orders of magnitude less than that of 8xH100 ($200k for the GPUs alone).</div><br/><div id="41774543" class="c"><input type="checkbox" id="c-41774543" checked=""/><div class="controls bullet"><span class="by">Almondsetat</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772953">parent</a><span>|</span><a href="#41773654">next</a><span>|</span><label class="collapse" for="c-41774543">[-]</label><label class="expand" for="c-41774543">[2 more]</label></div><br/><div class="children"><div class="content">The problem is that H100s are enterprise products while Apple ones aren&#x27;t. If you have trouble with your H100s how does it compare cost-wise with having trouble with your consumer Apple hardware?</div><br/><div id="41774845" class="c"><input type="checkbox" id="c-41774845" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41774543">parent</a><span>|</span><a href="#41773654">next</a><span>|</span><label class="collapse" for="c-41774845">[-]</label><label class="expand" for="c-41774845">[1 more]</label></div><br/><div class="children"><div class="content">Depends on the kind of trouble you are having.<p>Many corner stores can fix a smashed iPhone screen.</div><br/></div></div></div></div><div id="41773654" class="c"><input type="checkbox" id="c-41773654" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41772953">parent</a><span>|</span><a href="#41774543">prev</a><span>|</span><a href="#41771605">next</a><span>|</span><label class="collapse" for="c-41773654">[-]</label><label class="expand" for="c-41773654">[2 more]</label></div><br/><div class="children"><div class="content">I think the point was a $4-$8&#x2F;hr VM is pretty small potatoes compared to other common corporate expenses.</div><br/><div id="41773821" class="c"><input type="checkbox" id="c-41773821" checked=""/><div class="controls bullet"><span class="by">sangnoir</span><span>|</span><a href="#41771686">root</a><span>|</span><a href="#41773654">parent</a><span>|</span><a href="#41771605">next</a><span>|</span><label class="collapse" for="c-41773821">[-]</label><label class="expand" for="c-41773821">[1 more]</label></div><br/><div class="children"><div class="content">The H100 was a terrible example to support that point because it has a much better (rent vs buy) value proposition.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="41771605" class="c"><input type="checkbox" id="c-41771605" checked=""/><div class="controls bullet"><span class="by">gorkish</span><span>|</span><a href="#41771686">prev</a><span>|</span><a href="#41770546">next</a><span>|</span><label class="collapse" for="c-41771605">[-]</label><label class="expand" for="c-41771605">[34 more]</label></div><br/><div class="children"><div class="content">This is great; for your next trick, can you please figure out how to install MacOS on an iPad so that we can all finally get the dang computer we want Apple to build?</div><br/><div id="41771652" class="c"><input type="checkbox" id="c-41771652" checked=""/><div class="controls bullet"><span class="by">makeitdouble</span><span>|</span><a href="#41771605">parent</a><span>|</span><a href="#41774022">next</a><span>|</span><label class="collapse" for="c-41771652">[-]</label><label class="expand" for="c-41771652">[9 more]</label></div><br/><div class="children"><div class="content">You can start with Windows XP<p><a href="https:&#x2F;&#x2F;www.theverge.com&#x2F;2024&#x2F;7&#x2F;22&#x2F;24200536&#x2F;windows-xp-ipad-pc-emulation-utm-se" rel="nofollow">https:&#x2F;&#x2F;www.theverge.com&#x2F;2024&#x2F;7&#x2F;22&#x2F;24200536&#x2F;windows-xp-ipad-...</a></div><br/><div id="41771760" class="c"><input type="checkbox" id="c-41771760" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41771652">parent</a><span>|</span><a href="#41771769">next</a><span>|</span><label class="collapse" for="c-41771760">[-]</label><label class="expand" for="c-41771760">[4 more]</label></div><br/><div class="children"><div class="content"><i>&gt; It took two and a half hours for my iPad to crawl through installation.</i><p>Jailbroken Apple M1 iPads with iOS16 can use the iOS hypervisor to run VMs without overheating their devices or waiting hours to boot.<p>Still, we can thank Apple for small mercies like UTM, ashell and iSH.<p>As a science experiment, Apple could silently launch a &quot;VM store&quot; with $100 VMs, accessible only via hidden URL.  How badly do Apple customers want to use the iPad hardware they already purchased? Could Apple customers be extorted into paying for VMs? Will anyone ever ship a competitive tablet running Linux?</div><br/><div id="41772420" class="c"><input type="checkbox" id="c-41772420" checked=""/><div class="controls bullet"><span class="by">acchow</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41771760">parent</a><span>|</span><a href="#41771769">next</a><span>|</span><label class="collapse" for="c-41772420">[-]</label><label class="expand" for="c-41772420">[3 more]</label></div><br/><div class="children"><div class="content">Apple definitely does not want bad reviews on their iPads because the VMs they are selling are crashing more often than their other offerings. Any product Apple sells for actual $ would have meet Apple’s standards of support and customer service, or they would be deteriorating their Goodwill.<p>Except their charging cables. Apple actively trades goodwill for those margins.</div><br/><div id="41773691" class="c"><input type="checkbox" id="c-41773691" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41772420">parent</a><span>|</span><a href="#41773160">next</a><span>|</span><label class="collapse" for="c-41773691">[-]</label><label class="expand" for="c-41773691">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; the VMs they are selling are crashing</i><p>VMs would be a subset of existing iOS&#x2F;macOS. VMs are more uniform targets than bare-metal, less likely to crash.<p>Think Microsoft CAL (client access license) paper entitlements.<p>Or papal certificates of indulgence, <a href="https:&#x2F;&#x2F;theconversation.com&#x2F;the-catholic-view-on-indulgences-and-how-they-work-today-193066" rel="nofollow">https:&#x2F;&#x2F;theconversation.com&#x2F;the-catholic-view-on-indulgences...</a><p>Software margins with iPad-as-DRM-dongle, investors would rejoice! Broadcom and Qualcomm would be envious.</div><br/></div></div><div id="41773160" class="c"><input type="checkbox" id="c-41773160" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41772420">parent</a><span>|</span><a href="#41773691">prev</a><span>|</span><a href="#41771769">next</a><span>|</span><label class="collapse" for="c-41773160">[-]</label><label class="expand" for="c-41773160">[1 more]</label></div><br/><div class="children"><div class="content">You do realize that Apple sells Macs, right?</div><br/></div></div></div></div></div></div><div id="41771769" class="c"><input type="checkbox" id="c-41771769" checked=""/><div class="controls bullet"><span class="by">tambourine_man</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41771652">parent</a><span>|</span><a href="#41771760">prev</a><span>|</span><a href="#41774022">next</a><span>|</span><label class="collapse" for="c-41771769">[-]</label><label class="expand" for="c-41771769">[4 more]</label></div><br/><div class="children"><div class="content">Without JIT, it’s more a prof-of-concept than a useful tool, IMO.</div><br/><div id="41773892" class="c"><input type="checkbox" id="c-41773892" checked=""/><div class="controls bullet"><span class="by">makeitdouble</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41771769">parent</a><span>|</span><a href="#41774022">next</a><span>|</span><label class="collapse" for="c-41773892">[-]</label><label class="expand" for="c-41773892">[3 more]</label></div><br/><div class="children"><div class="content">With the current iPad limitations, however slow it gets, running any arbitrary code locally can be a big deal.<p>If you wanted to debug and print out your original papercraft without remoting into another machine, that will probably be good enough.</div><br/><div id="41774900" class="c"><input type="checkbox" id="c-41774900" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773892">parent</a><span>|</span><a href="#41774851">next</a><span>|</span><label class="collapse" for="c-41774900">[-]</label><label class="expand" for="c-41774900">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; running any arbitrary code locally can be a big deal</i><p>yt-dlp on iPad via iSH is surprising useful.</div><br/></div></div><div id="41774851" class="c"><input type="checkbox" id="c-41774851" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773892">parent</a><span>|</span><a href="#41774900">prev</a><span>|</span><a href="#41774022">next</a><span>|</span><label class="collapse" for="c-41774851">[-]</label><label class="expand" for="c-41774851">[1 more]</label></div><br/><div class="children"><div class="content">&gt; [...], running any arbitrary code locally can be a big deal.<p>Well, unless you are using JavaScript?</div><br/></div></div></div></div></div></div></div></div><div id="41774022" class="c"><input type="checkbox" id="c-41774022" checked=""/><div class="controls bullet"><span class="by">miramba</span><span>|</span><a href="#41771605">parent</a><span>|</span><a href="#41771652">prev</a><span>|</span><a href="#41772040">next</a><span>|</span><label class="collapse" for="c-41774022">[-]</label><label class="expand" for="c-41774022">[2 more]</label></div><br/><div class="children"><div class="content">Oh, 1000 times this! Literally my research subject in the last weeks, a tablet with a dev OS. Sizewise I love the iPad Mini, but iPadOS is useless. Looking now at a Surface Go: slightly too large. If anyone has another suggestion for a small tablet with Win11 (I know there is none with MacOS), please post it here. Will order from China if needed.</div><br/><div id="41774303" class="c"><input type="checkbox" id="c-41774303" checked=""/><div class="controls bullet"><span class="by">Joeri</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774022">parent</a><span>|</span><a href="#41772040">next</a><span>|</span><label class="collapse" for="c-41774303">[-]</label><label class="expand" for="c-41774303">[1 more]</label></div><br/><div class="children"><div class="content">What about the GPD Pocket?</div><br/></div></div></div></div><div id="41772040" class="c"><input type="checkbox" id="c-41772040" checked=""/><div class="controls bullet"><span class="by">striking</span><span>|</span><a href="#41771605">parent</a><span>|</span><a href="#41774022">prev</a><span>|</span><a href="#41773761">next</a><span>|</span><label class="collapse" for="c-41772040">[-]</label><label class="expand" for="c-41772040">[1 more]</label></div><br/><div class="children"><div class="content">Prior research section reads:<p>&gt; [Zhuowei Zhang] concluded that (GUI) macOS applications cannot run on iOS—but (graphical) iOS apps can run on macOS. Mac Catalyst seems to work, expectedly, only one way.</div><br/></div></div><div id="41773761" class="c"><input type="checkbox" id="c-41773761" checked=""/><div class="controls bullet"><span class="by">azinman2</span><span>|</span><a href="#41771605">parent</a><span>|</span><a href="#41772040">prev</a><span>|</span><a href="#41771919">next</a><span>|</span><label class="collapse" for="c-41773761">[-]</label><label class="expand" for="c-41773761">[12 more]</label></div><br/><div class="children"><div class="content">What is it about the iPad you want with macOS? It has one port (which is largely used for power), no built in keyboard, an incompatible input device (touch) by default, and often smaller screens. What’s the appeal?</div><br/><div id="41773962" class="c"><input type="checkbox" id="c-41773962" checked=""/><div class="controls bullet"><span class="by">kmeisthax</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773761">parent</a><span>|</span><a href="#41773801">next</a><span>|</span><label class="collapse" for="c-41773962">[-]</label><label class="expand" for="c-41773962">[2 more]</label></div><br/><div class="children"><div class="content">Apple doesn&#x27;t sell a MacBook with a cellular modem, drawing stylus, or 4:3 screen. Also, iPads sometimes get the newest chips first (e.g. M4)<p>To be clear, <i>as an iPad Pro owner</i>, I don&#x27;t think &quot;just put macOS on iPad&quot; is the answer to the iPad&#x27;s problems, either. But I can appreciate why people complain about it. Apple sold them &quot;a computer&quot;, they want &quot;a computer&quot;. With full iPad ports of Mac apps, a filesystem that isn&#x27;t entirely built around share sheets and hope, project exports that don&#x27;t demand you keep the app foregrounded because Apple can&#x27;t be arsed to add a &quot;Eat The Whole Battery&quot; multitasking mode, multiple user profiles, third-party developer tools, third-party app distribution, and generally, the ability to innovate on the platform <i>without Apple&#x27;s prior written consent</i>[0].<p>The iPad was originally announced as Apple&#x27;s answer to the netbook: a cheap(ish) touch computer for casual computing tasks and games. In that narrow lane, it succeeded. But in 2015 with the introduction of the iPad Pro, Apple decided that the iPad was going to <i>replace</i> the Macintosh. The Mac was there to be to the iPad what the Apple Lisa was to early Macs: an annoying technical relic to bootstrap software onto the newer, superior platform. Except Apple didn&#x27;t have the courage to pull the trigger on several features necessary for creative and development workflows on iPadOS until it was too late. e.g. The reason why iPadOS is built so heavily around share sheets is because, for the first six years of the iPad&#x27;s life, that was the <i>only</i> way to share data between apps[1]. So there&#x27;s a lot of old apps that do things the annoying way, a lot of roadblocks that get put up arbitrarily, and so on.<p>[0] More broadly, the creative economy needs to stop talking about consent. Consent is for sex, not creativity.<p>[1] iOS 9 (?) added support for shared containers, but AFAIK each app that wants to use the container has to opt into it; and all apps have to be published by the same corporate entity or otherwise consent to data sharing in this way. There was no way to just have files owned by the <i>user</i> and nonconsensually modified by other apps.</div><br/><div id="41775148" class="c"><input type="checkbox" id="c-41775148" checked=""/><div class="controls bullet"><span class="by">prxtl</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773962">parent</a><span>|</span><a href="#41773801">next</a><span>|</span><label class="collapse" for="c-41775148">[-]</label><label class="expand" for="c-41775148">[1 more]</label></div><br/><div class="children"><div class="content">&gt; But in 2015 with the introduction of the iPad Pro, Apple decided that the iPad was going to replace the Macintosh.<p>Although that is an intriguing (and controversial) possibility, Apple has never explicitly stated that. What they have done, is continued to heavily invest in the Mac lineup. IMO the ‘Pro’ in iPad Pro is meant to target creative professionals, not all the types of professionals (for e.g. programmers).</div><br/></div></div></div></div><div id="41773801" class="c"><input type="checkbox" id="c-41773801" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773761">parent</a><span>|</span><a href="#41773962">prev</a><span>|</span><a href="#41774014">next</a><span>|</span><label class="collapse" for="c-41773801">[-]</label><label class="expand" for="c-41773801">[8 more]</label></div><br/><div class="children"><div class="content">This question has been endlessly asked and answered, <a href="https:&#x2F;&#x2F;www.theverge.com&#x2F;2021&#x2F;4&#x2F;22&#x2F;22396449&#x2F;apple-ipad-pro-macbook-air-macos-2021" rel="nofollow">https:&#x2F;&#x2F;www.theverge.com&#x2F;2021&#x2F;4&#x2F;22&#x2F;22396449&#x2F;apple-ipad-pro-m...</a><p>The answer is obvious to Apple iPad Pro + Magic Keyboard customers:<p><pre><code>   MOBILE MICROTASKING
</code></pre>
No, dear Apple, it will not compete with your precious Macbook revenue, because an iPad is not a laptop.  Your customers who are pleading for un-crippled iPads will keep buying desktops and laptops. But it will be life-changing for on-demand portable anytime anywhere access to OSS code and professional apps, for last-minute edits, quick checks during video calls, testing-while-learning and countless other scenarios. iPad enables flexible computing, i.e. unlimited use cases -- and revenue! Still the only mobile device with 4:3 HiDPI screen.<p>Apple continues to pour billions into science experiments like Vision Pro (iPad-on-Skull) and anemic cloud services, while refusing to improve the workflows of millions of customers who are willing to pay for repackaging of existing technology already sold by Apple. Fortunately, the industry has not been standing still while Apple squandered a decade of feature-frozen tablet supremacy. Google is now shipping VMs on both phones and tablets.<p><i>&gt; At a privately held event, Google recently demonstrated a special build of Chromium OS — code-named “ferrochrome” — running in a virtual machine on a Pixel 8. However, Chromium OS wasn’t shown running on the phone’s screen itself. Rather, it was projected to an external display, which is possible because Google recently enabled display output on its Pixel 8 series... Hopefully, Google will offer the ability to run Chrome OS alongside Android in a future device</i></div><br/><div id="41774019" class="c"><input type="checkbox" id="c-41774019" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773801">parent</a><span>|</span><a href="#41774889">next</a><span>|</span><label class="collapse" for="c-41774019">[-]</label><label class="expand" for="c-41774019">[6 more]</label></div><br/><div class="children"><div class="content">As much as I would like macOS on iPads, running macOS applications on an iPad without the Magic Keyboard would suck. Windows can do it though, so it&#x27;s not really an excuse.<p>But, in Microsoft&#x27;s case, it&#x27;s sort of different. They had Windows 10 Mobile for tablets which is the closest thing to iPadOS, I suppose. Windows 10 Mobile couldn&#x27;t run Win32 applications, similar to how iPadOS can&#x27;t run macOS applications. Microsoft killed Windows 10 Mobile...<p>Implementation-wise though, it&#x27;s a big effort for Apple. They can&#x27;t just make macOS applications runnable on iOS. Something like reverse Mac Catalyst for iPadOS wouldn&#x27;t work due to how complicated and different macOS is compared to iPadOS. It would probably have to be a full on emulation of macOS on iPadOS for applications to run.<p>So, it would seem like starting with macOS then implementing iPadOS on-top would be better than starting with iPadOS and implementing macOS, which is literally what Mac Catalyst is. So now, Apple has to make sure that all iPadOS APIs work with Mac Catalyst (they don&#x27;t yet) and they have to do something to make the UX work better when switching between touch and M&amp;K.<p>Bringing it back to Microsoft and Windows now. It&#x27;s quite similar actually. Think of Windows 10 Mobile = iPadOS, UWP = iPadOS apps, Win32 = macOS apps. Microsoft killed Windows 10 Mobile and replaced it with full-on Windows 10. Windows 10 can run UWP apps.<p>Similarly, Apple will likely have to kill iPadOS and fully implement compatibility with iPad apps on Mac for macOS to ever be on iPads.</div><br/><div id="41774166" class="c"><input type="checkbox" id="c-41774166" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774019">parent</a><span>|</span><a href="#41774889">next</a><span>|</span><label class="collapse" for="c-41774166">[-]</label><label class="expand" for="c-41774166">[5 more]</label></div><br/><div class="children"><div class="content"><i>&gt; starting with macOS then implementing iPadOS on-top</i><p>This would lose the security properties of iOS, which is a big part of the value proposition for iPhones and iPads.<p><i>&gt; They can&#x27;t just make macOS applications runnable on iOS.</i><p>Other operating systems can run in _parallel_ with iOS.  Hardware support for nested virtualization has shipped on Apple Silicon since M2.  Google implemented Android Virtualization Framework. There&#x27;s no shortage of candidate VM operating systems. Microsoft implemented WSL (<i>Windows Subsystem for Linux</i>) VM. Apple could ship ASF (<i>Apple Subsystem for FreeBSD</i>) VMs.</div><br/><div id="41774275" class="c"><input type="checkbox" id="c-41774275" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774166">parent</a><span>|</span><a href="#41774889">next</a><span>|</span><label class="collapse" for="c-41774275">[-]</label><label class="expand" for="c-41774275">[4 more]</label></div><br/><div class="children"><div class="content">&gt; This would lose the security properties of iOS, which is a big part of the value proposition for iPhones and iPads.<p>Right. Apple is adding more and more security features from iOS into macOS. But, people are going to complain about that too.<p>&gt; Other operating systems can run in _parallel_ with iOS<p>Absolutely, but there is a performance hit and memory management becomes an issue. You still need a host OS as well to unify the UX. Also, there needs to be some way for IPC between the applications of different OSes.<p>&gt; Microsoft implemented WSL<p>WSL has networking and memory management issues. WSLg sort of works. Its architecture is wild [1]. Display scaling is terrible though. IPC between Windows and WSL guests is limited.<p>WSL 2 was released in 2020 and it still has issues. It&#x27;s not a simple problem to solve.<p>Microsoft has also gone from WinRT, UWP, WinUI, MAUI, and now WinUI 3 trying to unify application development [2]. Again, it&#x27;s not a simple problem to solve.<p>I think the only OS that has actually unified application development across all form factors is Android&#x2F;Chrome OS. But, people complain about how limited Chrome OS is.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;wslg?tab=readme-ov-file#wslg-architecture-overview">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;wslg?tab=readme-ov-file#wslg-ar...</a><p>[2] <a href="https:&#x2F;&#x2F;www.irrlicht3d.org&#x2F;index.php?t=1626" rel="nofollow">https:&#x2F;&#x2F;www.irrlicht3d.org&#x2F;index.php?t=1626</a></div><br/><div id="41774904" class="c"><input type="checkbox" id="c-41774904" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774275">parent</a><span>|</span><a href="#41774465">next</a><span>|</span><label class="collapse" for="c-41774904">[-]</label><label class="expand" for="c-41774904">[1 more]</label></div><br/><div class="children"><div class="content">The problem with  WinRT, UWP, WinUI, MAUI, and now WinUI 3 is the usual Microsoft mess.<p>As anyone can imagine by that list, every new acronym requires a rewrite, and most folks that aren&#x27;t on Microsoft pay list no longer care.</div><br/></div></div><div id="41774465" class="c"><input type="checkbox" id="c-41774465" checked=""/><div class="controls bullet"><span class="by">nolist_policy</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774275">parent</a><span>|</span><a href="#41774904">prev</a><span>|</span><a href="#41774889">next</a><span>|</span><label class="collapse" for="c-41774465">[-]</label><label class="expand" for="c-41774465">[2 more]</label></div><br/><div class="children"><div class="content">ChromeOS solves the memory management very well.<p>Depending on how you use it, you have up to 3 VMs running in the background with Wayland passtrough: ARCVM (Android), Crostini (Linux dev environment) and Borealis (SteamOS).<p>All these VMs run Linux and Google uses MGLRU in cooperation with Chromes tab discarder to balance memory.</div><br/><div id="41774556" class="c"><input type="checkbox" id="c-41774556" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774465">parent</a><span>|</span><a href="#41774889">next</a><span>|</span><label class="collapse" for="c-41774556">[-]</label><label class="expand" for="c-41774556">[1 more]</label></div><br/><div class="children"><div class="content">Wow. Never knew about the move to ARCVM. Though the first thing that comes up when I search it is memory and CPU usage issues though :&#x2F;<p>Google et al. has put a lot of effort into improving Linux&#x27;s virtualization capabilities. Goes with being the OS of choice for pretty much all servers I suppose.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41774889" class="c"><input type="checkbox" id="c-41774889" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773801">parent</a><span>|</span><a href="#41774019">prev</a><span>|</span><a href="#41774014">next</a><span>|</span><label class="collapse" for="c-41774889">[-]</label><label class="expand" for="c-41774889">[1 more]</label></div><br/><div class="children"><div class="content">Ferrochrome was canceled.</div><br/></div></div></div></div><div id="41774014" class="c"><input type="checkbox" id="c-41774014" checked=""/><div class="controls bullet"><span class="by">Uehreka</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773761">parent</a><span>|</span><a href="#41773801">prev</a><span>|</span><a href="#41771919">next</a><span>|</span><label class="collapse" for="c-41774014">[-]</label><label class="expand" for="c-41774014">[1 more]</label></div><br/><div class="children"><div class="content">I have an M4 iPad Pro, it beats my M1 Max MacBook Pro on a lot of benchmarks, yet I cannot use it for programming, 3D modeling or VFX. Yes, I know that apps “technically” exist to do those things. No, those apps are not professional grade. I want VS Code, a Terminal, Blender and Adobe After Effects.<p>Seemingly the only thing stopping those apps from running on the iPad unmodified is the operating system. I want the operating system that runs on the other Mx devices to run on my iPad Pro. I have wanted this for years. I have never been even close to alone in wanting this.</div><br/></div></div></div></div><div id="41771919" class="c"><input type="checkbox" id="c-41771919" checked=""/><div class="controls bullet"><span class="by">worstspotgain</span><span>|</span><a href="#41771605">parent</a><span>|</span><a href="#41773761">prev</a><span>|</span><a href="#41770546">next</a><span>|</span><label class="collapse" for="c-41771919">[-]</label><label class="expand" for="c-41771919">[9 more]</label></div><br/><div class="children"><div class="content">If they called it a Macbook Air with an upside-down bulge and a detachable keyboard, would that be just as well?</div><br/><div id="41772317" class="c"><input type="checkbox" id="c-41772317" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41771919">parent</a><span>|</span><a href="#41770546">next</a><span>|</span><label class="collapse" for="c-41772317">[-]</label><label class="expand" for="c-41772317">[8 more]</label></div><br/><div class="children"><div class="content">With touch screen, iOS and macOS?</div><br/><div id="41772486" class="c"><input type="checkbox" id="c-41772486" checked=""/><div class="controls bullet"><span class="by">SheinhardtWigCo</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41772317">parent</a><span>|</span><a href="#41772391">next</a><span>|</span><label class="collapse" for="c-41772486">[-]</label><label class="expand" for="c-41772486">[6 more]</label></div><br/><div class="children"><div class="content">macOS when the keyboard is attached, and iOS when it is not, with instantaneous switching.<p>One can dream… but really, this is not all that far-fetched</div><br/><div id="41774299" class="c"><input type="checkbox" id="c-41774299" checked=""/><div class="controls bullet"><span class="by">diffeomorphism</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41772486">parent</a><span>|</span><a href="#41773880">next</a><span>|</span><label class="collapse" for="c-41774299">[-]</label><label class="expand" for="c-41774299">[3 more]</label></div><br/><div class="children"><div class="content">We cureently have that on pixel devices, where you can just run windows if you want<p><a href="https:&#x2F;&#x2F;www.cnx-software.com&#x2F;2022&#x2F;02&#x2F;14&#x2F;android-13-virtualization-lets-pixel-6-run-windows-11-linux-distributions&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.cnx-software.com&#x2F;2022&#x2F;02&#x2F;14&#x2F;android-13-virtualiz...</a><p>We had that with linuxonDex or maruos or motorola or..<p>People say they want that, but when they actually do, it completely flops.</div><br/><div id="41774635" class="c"><input type="checkbox" id="c-41774635" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774299">parent</a><span>|</span><a href="#41773880">next</a><span>|</span><label class="collapse" for="c-41774635">[-]</label><label class="expand" for="c-41774635">[2 more]</label></div><br/><div class="children"><div class="content"><i>&gt; People say they want that, but when they actually do, it completely flops.</i><p>That feature isn&#x27;t yet exposed to end-users, although the plumbing is in place.  So far only on Pixel devices.<p>There&#x27;s potential for phones docking to desktops via USB-c, running both Android and Linux&#x2F;ChromeOS VMs.</div><br/><div id="41774914" class="c"><input type="checkbox" id="c-41774914" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41774635">parent</a><span>|</span><a href="#41773880">next</a><span>|</span><label class="collapse" for="c-41774914">[-]</label><label class="expand" for="c-41774914">[1 more]</label></div><br/><div class="children"><div class="content">Except no one except a few geeks ever cared about Samsung DEX, or Windows Phone&#x2F;Table continuum.</div><br/></div></div></div></div></div></div><div id="41773880" class="c"><input type="checkbox" id="c-41773880" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41772486">parent</a><span>|</span><a href="#41774299">prev</a><span>|</span><a href="#41772391">next</a><span>|</span><label class="collapse" for="c-41773880">[-]</label><label class="expand" for="c-41773880">[2 more]</label></div><br/><div class="children"><div class="content">What would happen to the macOS applications when switching to iOS? iOS applications would be fine in macOS-mode (Mac Catalyst already exists). But, there isn&#x27;t a good way to make macOS applications usable in iOS-mode.</div><br/><div id="41773938" class="c"><input type="checkbox" id="c-41773938" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41773880">parent</a><span>|</span><a href="#41772391">next</a><span>|</span><label class="collapse" for="c-41773938">[-]</label><label class="expand" for="c-41773938">[1 more]</label></div><br/><div class="children"><div class="content">Start with macOS CLI VM. Give it a couple of years and see how customers use it.<p>Or allow Linux&#x2F;FreeBSD VMs.</div><br/></div></div></div></div></div></div><div id="41772391" class="c"><input type="checkbox" id="c-41772391" checked=""/><div class="controls bullet"><span class="by">worstspotgain</span><span>|</span><a href="#41771605">root</a><span>|</span><a href="#41772317">parent</a><span>|</span><a href="#41772486">prev</a><span>|</span><a href="#41770546">next</a><span>|</span><label class="collapse" for="c-41772391">[-]</label><label class="expand" for="c-41772391">[1 more]</label></div><br/><div class="children"><div class="content">Touch screen but no iOS.</div><br/></div></div></div></div></div></div></div></div><div id="41770546" class="c"><input type="checkbox" id="c-41770546" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#41771605">prev</a><span>|</span><a href="#41770767">next</a><span>|</span><label class="collapse" for="c-41770546">[-]</label><label class="expand" for="c-41770546">[24 more]</label></div><br/><div class="children"><div class="content">Very cool!<p>I have a feeling that the reason that Apple hasn&#x27;t made their Simulator into an Emulator, is because they don&#x27;t want folks digging into the substrate of iOS.</div><br/><div id="41771498" class="c"><input type="checkbox" id="c-41771498" checked=""/><div class="controls bullet"><span class="by">ChocolateGod</span><span>|</span><a href="#41770546">parent</a><span>|</span><a href="#41771065">next</a><span>|</span><label class="collapse" for="c-41771498">[-]</label><label class="expand" for="c-41771498">[8 more]</label></div><br/><div class="children"><div class="content">Another reason it was a Simulator and not an Emulator to begin with could be because a lot of iOS (or iPhone OS) components at the time were forks of existing Mac OS X libraries.</div><br/><div id="41771847" class="c"><input type="checkbox" id="c-41771847" checked=""/><div class="controls bullet"><span class="by">kridsdale1</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41771498">parent</a><span>|</span><a href="#41773995">next</a><span>|</span><label class="collapse" for="c-41771847">[-]</label><label class="expand" for="c-41771847">[1 more]</label></div><br/><div class="children"><div class="content">The reason to begin with was the Mac OS was x86-32 and the iOS environment was arm. Building for intel let the ui devs have high performance by leveraging the existing network stack and graphics compositor. But most of the libraries live parallel in the sim, not using the OS ones. That wouldn’t allow you to simulate different iOS versions.</div><br/></div></div><div id="41773995" class="c"><input type="checkbox" id="c-41773995" checked=""/><div class="controls bullet"><span class="by">cryptoz</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41771498">parent</a><span>|</span><a href="#41771847">prev</a><span>|</span><a href="#41771065">next</a><span>|</span><label class="collapse" for="c-41773995">[-]</label><label class="expand" for="c-41773995">[6 more]</label></div><br/><div class="children"><div class="content">&gt; iOS (or iPhone OS)<p>Slightly OT but the first iPhone ran OS X at launch.<p>I think as time went by and the &quot;OS X&quot; running on phones diverged more and more, they renamed to iPhone OS and then iOS some time later? Something like that anyway.</div><br/><div id="41774400" class="c"><input type="checkbox" id="c-41774400" checked=""/><div class="controls bullet"><span class="by">agsnu</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773995">parent</a><span>|</span><a href="#41771065">next</a><span>|</span><label class="collapse" for="c-41774400">[-]</label><label class="expand" for="c-41774400">[5 more]</label></div><br/><div class="children"><div class="content">The first iPhone ran iPhone OS 1.0</div><br/><div id="41774769" class="c"><input type="checkbox" id="c-41774769" checked=""/><div class="controls bullet"><span class="by">fathyb</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41774400">parent</a><span>|</span><a href="#41774519">next</a><span>|</span><label class="collapse" for="c-41774769">[-]</label><label class="expand" for="c-41774769">[1 more]</label></div><br/><div class="children"><div class="content">Apple advertised the first iPhone to run OS X: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;VQKMoT-6XSg?t=506" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;VQKMoT-6XSg?t=506</a></div><br/></div></div><div id="41774519" class="c"><input type="checkbox" id="c-41774519" checked=""/><div class="controls bullet"><span class="by">cryptoz</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41774400">parent</a><span>|</span><a href="#41774769">prev</a><span>|</span><a href="#41771065">next</a><span>|</span><label class="collapse" for="c-41774519">[-]</label><label class="expand" for="c-41774519">[3 more]</label></div><br/><div class="children"><div class="content">Well, I never owned one of them, so maybe I&#x27;m not supposed to comment on this. But their website was very clear: The OS on the first iPhone was OS X.<p><a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070112064939&#x2F;http:&#x2F;&#x2F;www.apple.com&#x2F;iphone&#x2F;technology&#x2F;osx.html" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070112064939&#x2F;http:&#x2F;&#x2F;www.apple....</a></div><br/><div id="41774550" class="c"><input type="checkbox" id="c-41774550" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41774519">parent</a><span>|</span><a href="#41771065">next</a><span>|</span><label class="collapse" for="c-41774550">[-]</label><label class="expand" for="c-41774550">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s about as Mac OS X as Apple Watch runs macOS.</div><br/><div id="41774704" class="c"><input type="checkbox" id="c-41774704" checked=""/><div class="controls bullet"><span class="by">ChocolateGod</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41774550">parent</a><span>|</span><a href="#41771065">next</a><span>|</span><label class="collapse" for="c-41774704">[-]</label><label class="expand" for="c-41774704">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not the same as Mac OS X or macOS, they share a common kernel, system libraries etc but the userland is very different on an iPhone or Apple Watch.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="41771065" class="c"><input type="checkbox" id="c-41771065" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#41770546">parent</a><span>|</span><a href="#41771498">prev</a><span>|</span><a href="#41772405">next</a><span>|</span><label class="collapse" for="c-41771065">[-]</label><label class="expand" for="c-41771065">[4 more]</label></div><br/><div class="children"><div class="content">Developers still use Intel Macs, and you can&#x27;t virtualize ARM iOS on that.</div><br/><div id="41774403" class="c"><input type="checkbox" id="c-41774403" checked=""/><div class="controls bullet"><span class="by">agsnu</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41771065">parent</a><span>|</span><a href="#41772413">next</a><span>|</span><label class="collapse" for="c-41774403">[-]</label><label class="expand" for="c-41774403">[1 more]</label></div><br/><div class="children"><div class="content">The overwhelming majority use ARM Macs these days</div><br/></div></div><div id="41772413" class="c"><input type="checkbox" id="c-41772413" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41771065">parent</a><span>|</span><a href="#41774403">prev</a><span>|</span><a href="#41771090">next</a><span>|</span><label class="collapse" for="c-41772413">[-]</label><label class="expand" for="c-41772413">[1 more]</label></div><br/><div class="children"><div class="content">Doesn’t sound like a strong enough reason for the visionOS team.</div><br/></div></div><div id="41771090" class="c"><input type="checkbox" id="c-41771090" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41771065">parent</a><span>|</span><a href="#41772413">prev</a><span>|</span><a href="#41772405">next</a><span>|</span><label class="collapse" for="c-41771090">[-]</label><label class="expand" for="c-41771090">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I was thinking about the ARM Macs. They are common enough, now, to make it worthwhile.</div><br/></div></div></div></div><div id="41772405" class="c"><input type="checkbox" id="c-41772405" checked=""/><div class="controls bullet"><span class="by">MuffinFlavored</span><span>|</span><a href="#41770546">parent</a><span>|</span><a href="#41771065">prev</a><span>|</span><a href="#41770767">next</a><span>|</span><label class="collapse" for="c-41772405">[-]</label><label class="expand" for="c-41772405">[11 more]</label></div><br/><div class="children"><div class="content">I really do wonder now that both iPhones, Macs, and iPads are all &quot;arm64&quot; (Apple Silicon no less) how different the bootloaders are for iOS vs MacOS. Once you are past the bootloader, why would they be maintaining two different operating systems&#x2F;lots of differences if they don&#x27;t have to, especially since they seem to control the hardware?</div><br/><div id="41773749" class="c"><input type="checkbox" id="c-41773749" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41772405">parent</a><span>|</span><a href="#41773176">next</a><span>|</span><label class="collapse" for="c-41773749">[-]</label><label class="expand" for="c-41773749">[5 more]</label></div><br/><div class="children"><div class="content">The hardware was drastically different between Macs and iPhones when iOS was released. That was in 2007. Apple only unified the hardware in 2020. Over the *13* years, the operating systems have diverged so much that unifying them is a massive effort. The linked blog post by Zhuowei Zhang shows some of the differences. The user-space components are just so different that it&#x27;s not as simple as running a macOS app on iOS.<p>EDIT: You can run a iOS apps on macOS without recompilation, but it uses Mac Catalyst which is a user-space shim for iOS apps to work on macOS. Even then, not everything works.</div><br/><div id="41773772" class="c"><input type="checkbox" id="c-41773772" checked=""/><div class="controls bullet"><span class="by">azinman2</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773749">parent</a><span>|</span><a href="#41773176">next</a><span>|</span><label class="collapse" for="c-41773772">[-]</label><label class="expand" for="c-41773772">[4 more]</label></div><br/><div class="children"><div class="content">You can run iOS apps directly on M1 Macs. Some developers flip a bit to disable this, but there any many that don’t.</div><br/><div id="41773820" class="c"><input type="checkbox" id="c-41773820" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773772">parent</a><span>|</span><a href="#41773176">next</a><span>|</span><label class="collapse" for="c-41773820">[-]</label><label class="expand" for="c-41773820">[3 more]</label></div><br/><div class="children"><div class="content">In this case, the app is running in a sandbox with a user-space that simulates the iOS user-space [0].<p>&gt; Your apps use the same frameworks and infrastructure that Mac Catalyst apps use to run, but without the need to recompile for the Mac platform.<p>&gt; Although you can run your iOS apps unmodified on a Mac with Apple silicon, Mac Catalyst lets you build your app specifically for macOS and customize your app’s behavior on that platform.<p>Mac Catalyst was a multi-year effort by Apple. Doing the same to run macOS apps on iOS would probably be even harder due to how complicated macOS is compared to iOS.<p>[0] <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;apple-silicon&#x2F;running-your-ios-apps-in-macos#overview" rel="nofollow">https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;apple-silicon&#x2F;runn...</a></div><br/><div id="41773855" class="c"><input type="checkbox" id="c-41773855" checked=""/><div class="controls bullet"><span class="by">azinman2</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773820">parent</a><span>|</span><a href="#41773176">next</a><span>|</span><label class="collapse" for="c-41773855">[-]</label><label class="expand" for="c-41773855">[2 more]</label></div><br/><div class="children"><div class="content">It seems you agree, except previously you said “Likewise, you can&#x27;t just run a iOS app on macOS. You need to recompile your app with Mac Catalyst for it to work. Even then, it&#x27;s a bit jank.”  That’s not true, you can just run an iOS app on macOS.</div><br/><div id="41774153" class="c"><input type="checkbox" id="c-41774153" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773855">parent</a><span>|</span><a href="#41773176">next</a><span>|</span><label class="collapse" for="c-41774153">[-]</label><label class="expand" for="c-41774153">[1 more]</label></div><br/><div class="children"><div class="content">I edited my original comment. The &quot;It&#x27;s a bit jank&quot; part is still true though. When you enable running your app on macOS without compiling specifically for macOS with Mac Catalyst, it still uses Mac Catalyst, but transparently. So, you still get all the issues of Mac Catalyst, but without the compiler warnings. Your application may crash or behave strangely.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41773176" class="c"><input type="checkbox" id="c-41773176" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41772405">parent</a><span>|</span><a href="#41773749">prev</a><span>|</span><a href="#41772880">next</a><span>|</span><label class="collapse" for="c-41773176">[-]</label><label class="expand" for="c-41773176">[4 more]</label></div><br/><div class="children"><div class="content">They are very similar. The differences are largely in that macOS generally will permit some things that iOS will not.</div><br/><div id="41773631" class="c"><input type="checkbox" id="c-41773631" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773176">parent</a><span>|</span><a href="#41772880">next</a><span>|</span><label class="collapse" for="c-41773631">[-]</label><label class="expand" for="c-41773631">[3 more]</label></div><br/><div class="children"><div class="content">They aren’t actually too similar. They both use XNU, but the memory model is completely different. On macOS memory can be paged to&#x2F;from disk. On iOS it isn’t and applications must free memory when asked or be terminated [0].<p>iOS applications are sandboxed by the kernel, with no opt out. macOS applications are not sandboxed by default and are opt in.<p>Then there are the API and UI differences.<p>EDIT: That linked blog post in the parent blog post also shows how different the userspace is: <a href="https:&#x2F;&#x2F;worthdoingbadly.com&#x2F;macappsios&#x2F;" rel="nofollow">https:&#x2F;&#x2F;worthdoingbadly.com&#x2F;macappsios&#x2F;</a><p>EDIT: iPadOS 16 enables virtual memory swap [1]<p>[0] <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;Performance&#x2F;Conceptual&#x2F;ManagingMemory&#x2F;Articles&#x2F;AboutMemory.html" rel="nofollow">https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;Pe...</a><p>[1] <a href="https:&#x2F;&#x2F;www.apple.com&#x2F;newsroom&#x2F;2022&#x2F;06&#x2F;ipados-16-takes-the-versatility-of-ipad-even-further&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.apple.com&#x2F;newsroom&#x2F;2022&#x2F;06&#x2F;ipados-16-takes-the-v...</a></div><br/><div id="41774872" class="c"><input type="checkbox" id="c-41774872" checked=""/><div class="controls bullet"><span class="by">fathyb</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41773631">parent</a><span>|</span><a href="#41772880">next</a><span>|</span><label class="collapse" for="c-41774872">[-]</label><label class="expand" for="c-41774872">[2 more]</label></div><br/><div class="children"><div class="content">&gt; On macOS memory can be paged to&#x2F;from disk. On iOS it isn’t and applications must free memory when asked or be terminated<p>Not sure what you meant by that, you always could `mmap` files into memory on iOS. Back in the 32 bits days there was a ~700 MB limit due to the address space, but there aren&#x27;t anymore nowadays with 64 bits. If `didReceiveMemoryWarning` is called on your app, then you need to free resident memory but the kernel will take care of dumping file-backed memory pages for you.</div><br/><div id="41775080" class="c"><input type="checkbox" id="c-41775080" checked=""/><div class="controls bullet"><span class="by">kuhsaft</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41774872">parent</a><span>|</span><a href="#41772880">next</a><span>|</span><label class="collapse" for="c-41775080">[-]</label><label class="expand" for="c-41775080">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s memory mapping. This is memory paging [1]. I.e. Windows pagefile.sys, Linux swap, macOS swap files. iOS does not have swap files, only memory compression. If you&#x27;re on a Mac, open up Activity Monitor, go to Memory, and at the bottom there is `Swap Used`. That doesn&#x27;t exist on iOS. So, if more memory is used than available, applications will need to free memory or be terminated. Unlike macOS, where some used memory will be swapped to disk to allow other stuff to be loaded into memory.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Memory_paging" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Memory_paging</a></div><br/></div></div></div></div></div></div></div></div><div id="41772880" class="c"><input type="checkbox" id="c-41772880" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#41770546">root</a><span>|</span><a href="#41772405">parent</a><span>|</span><a href="#41773176">prev</a><span>|</span><a href="#41770767">next</a><span>|</span><label class="collapse" for="c-41772880">[-]</label><label class="expand" for="c-41772880">[1 more]</label></div><br/><div class="children"><div class="content">Very different user experiences, and also, the Mac development ecosystem is well-established. I suspect a lot of Mac AAA apps are done in C++.<p>Probably a lot of iOS AAA apps are still in ObjC.<p>It is unwise to pull the rug from established developers.</div><br/></div></div></div></div></div></div><div id="41770767" class="c"><input type="checkbox" id="c-41770767" checked=""/><div class="controls bullet"><span class="by">cedws</span><span>|</span><a href="#41770546">prev</a><span>|</span><a href="#41772394">next</a><span>|</span><label class="collapse" for="c-41770767">[-]</label><label class="expand" for="c-41770767">[4 more]</label></div><br/><div class="children"><div class="content">According to the author&#x27;s GitHub profile they are a fresh CS grad - seriously impressive work.</div><br/><div id="41772141" class="c"><input type="checkbox" id="c-41772141" checked=""/><div class="controls bullet"><span class="by">lukeh</span><span>|</span><a href="#41770767">parent</a><span>|</span><a href="#41771297">next</a><span>|</span><label class="collapse" for="c-41772141">[-]</label><label class="expand" for="c-41772141">[2 more]</label></div><br/><div class="children"><div class="content">I imagine a job offer from Apple won&#x27;t be too far away!</div><br/><div id="41772178" class="c"><input type="checkbox" id="c-41772178" checked=""/><div class="controls bullet"><span class="by">ttul</span><span>|</span><a href="#41770767">root</a><span>|</span><a href="#41772141">parent</a><span>|</span><a href="#41771297">next</a><span>|</span><label class="collapse" for="c-41772178">[-]</label><label class="expand" for="c-41772178">[1 more]</label></div><br/><div class="children"><div class="content">They had better swing this person an offer before they go to the dark side!</div><br/></div></div></div></div><div id="41771297" class="c"><input type="checkbox" id="c-41771297" checked=""/><div class="controls bullet"><span class="by">valval</span><span>|</span><a href="#41770767">parent</a><span>|</span><a href="#41772141">prev</a><span>|</span><a href="#41772394">next</a><span>|</span><label class="collapse" for="c-41771297">[-]</label><label class="expand" for="c-41771297">[1 more]</label></div><br/><div class="children"><div class="content">I bet this one never used ChatGPT to cheat at homework then!</div><br/></div></div></div></div><div id="41772394" class="c"><input type="checkbox" id="c-41772394" checked=""/><div class="controls bullet"><span class="by">hadad</span><span>|</span><a href="#41770767">prev</a><span>|</span><a href="#41770539">next</a><span>|</span><label class="collapse" for="c-41772394">[-]</label><label class="expand" for="c-41772394">[2 more]</label></div><br/><div class="children"><div class="content">the guy that create qemu-t8030 manage to get springboard running [1] , but doesn&#x27;t made the code public. Is wonderful if the progress can combined with this one<p>[1] <a href="https:&#x2F;&#x2F;mastodon.social&#x2F;@ntrung03&#x2F;109712247237110967" rel="nofollow">https:&#x2F;&#x2F;mastodon.social&#x2F;@ntrung03&#x2F;109712247237110967</a></div><br/><div id="41772456" class="c"><input type="checkbox" id="c-41772456" checked=""/><div class="controls bullet"><span class="by">hadad</span><span>|</span><a href="#41772394">parent</a><span>|</span><a href="#41770539">next</a><span>|</span><label class="collapse" for="c-41772456">[-]</label><label class="expand" for="c-41772456">[1 more]</label></div><br/><div class="children"><div class="content">Another qemu attempt is this one [1] , q22-qemu (iphone x)<p>1. <a href="https:&#x2F;&#x2F;www.xia0.sh&#x2F;2024&#x2F;03&#x2F;09&#x2F;Boot-Newer-iOS-with-QEMU-Step-by-Step&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.xia0.sh&#x2F;2024&#x2F;03&#x2F;09&#x2F;Boot-Newer-iOS-with-QEMU-Step...</a></div><br/></div></div></div></div><div id="41770539" class="c"><input type="checkbox" id="c-41770539" checked=""/><div class="controls bullet"><span class="by">heavyset_go</span><span>|</span><a href="#41772394">prev</a><span>|</span><a href="#41771091">next</a><span>|</span><label class="collapse" for="c-41770539">[-]</label><label class="expand" for="c-41770539">[12 more]</label></div><br/><div class="children"><div class="content">Slightly tangential, but has anyone virtualized ARM macOS on x86-64?</div><br/><div id="41771389" class="c"><input type="checkbox" id="c-41771389" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#41770539">parent</a><span>|</span><a href="#41770967">next</a><span>|</span><label class="collapse" for="c-41771389">[-]</label><label class="expand" for="c-41771389">[5 more]</label></div><br/><div class="children"><div class="content">You can&#x27;t. The term &quot;virtualize&quot; is generally used to mean running an OS via hardware virtualization, where your host CPU natively runs its code but forwards all I&#x2F;O to a hypervisor. You can only do that with an OS built for the same CPU architecture as your host system.<p>For everything else, like running ARM software on x86 (and vice versa), you&#x27;ll have to resort to emulation, which involves either interpreting the code or dynamically recompiling it. By definition, you can emulate anything on anything else (someone recently booted Linux for MIPS on an Intel 4004, the first ever microprocessor), but the performance might be a problem.</div><br/><div id="41771685" class="c"><input type="checkbox" id="c-41771685" checked=""/><div class="controls bullet"><span class="by">amarshall</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41771389">parent</a><span>|</span><a href="#41770967">next</a><span>|</span><label class="collapse" for="c-41771685">[-]</label><label class="expand" for="c-41771685">[4 more]</label></div><br/><div class="children"><div class="content">TL;DR: emulating <i>any</i> ARM binaries on x86_64 via QEMU is so slow that it is unusable for any general use.<p>This is also less of a QEMU problem and more just that ARM does not emulate well on x86_64 due to their designs.</div><br/><div id="41772472" class="c"><input type="checkbox" id="c-41772472" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41771685">parent</a><span>|</span><a href="#41770967">next</a><span>|</span><label class="collapse" for="c-41772472">[-]</label><label class="expand" for="c-41772472">[3 more]</label></div><br/><div class="children"><div class="content">I have tried emulating ARM Windows on x86 with QEMU. It is fast enough to see whether something works and not much more (imagine Windows 11 on a 400MHz equivalent processor to understand what the performance was like --- and the host was a fairly recent Intel i7.)<p>ARM Linux is close to usable, however.</div><br/><div id="41772906" class="c"><input type="checkbox" id="c-41772906" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41772472">parent</a><span>|</span><a href="#41770967">next</a><span>|</span><label class="collapse" for="c-41772906">[-]</label><label class="expand" for="c-41772906">[2 more]</label></div><br/><div class="children"><div class="content">It feels like it&#x27;s just not possible in general to emulate the <i>full</i> instruction set of any CPU with an MMU with an acceptable performance to run modern software. QEMU running Windows for x86 on an M1 isn&#x27;t very fast either.<p>Only emulating the portion of the instruction set available from the userspace is another story though. At least the way Apple does it with Rosetta and Microsoft with whatever their thing is called, you don&#x27;t even <i>notice</i> that an app is running under emulation. The only giveaway is that it takes a noticeable time to start for the first time while the code is being translated. It&#x27;s truly impressive.</div><br/><div id="41774149" class="c"><input type="checkbox" id="c-41774149" checked=""/><div class="controls bullet"><span class="by">Netch</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41772906">parent</a><span>|</span><a href="#41770967">next</a><span>|</span><label class="collapse" for="c-41774149">[-]</label><label class="expand" for="c-41774149">[1 more]</label></div><br/><div class="children"><div class="content">&gt; QEMU running Windows for x86 on an M1 isn&#x27;t very fast either.<p>It seems the main obstacle is in paging where x86 4KB clashes with Apple 16KB (ARM&#x2F;64 supports multiple sizes), so, 2-level paging canʼt aid and an emulator has to shadow-paging which is, definitely, much slower.<p>&gt; Apple does it with Rosetta and Microsoft with whatever their thing is called, you don&#x27;t even notice that an app is running under emulation.<p>But they still use a vendor-specific TSO support in hardware.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41770967" class="c"><input type="checkbox" id="c-41770967" checked=""/><div class="controls bullet"><span class="by">aliher1911</span><span>|</span><a href="#41770539">parent</a><span>|</span><a href="#41771389">prev</a><span>|</span><a href="#41770757">next</a><span>|</span><label class="collapse" for="c-41770967">[-]</label><label class="expand" for="c-41770967">[1 more]</label></div><br/><div class="children"><div class="content">You can try to virtualize generic ARM in qemu and see that it won&#x27;t reach Raspberry Pi performance. Recent versions should have it available out of the box afaik.
Virtualizing Mn cpus would be even less useful.</div><br/></div></div><div id="41770757" class="c"><input type="checkbox" id="c-41770757" checked=""/><div class="controls bullet"><span class="by">3abiton</span><span>|</span><a href="#41770539">parent</a><span>|</span><a href="#41770967">prev</a><span>|</span><a href="#41771091">next</a><span>|</span><label class="collapse" for="c-41770757">[-]</label><label class="expand" for="c-41770757">[5 more]</label></div><br/><div class="children"><div class="content">You should look into the hackintosh project.</div><br/><div id="41771663" class="c"><input type="checkbox" id="c-41771663" checked=""/><div class="controls bullet"><span class="by">amarshall</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41770757">parent</a><span>|</span><a href="#41770863">next</a><span>|</span><label class="collapse" for="c-41771663">[-]</label><label class="expand" for="c-41771663">[1 more]</label></div><br/><div class="children"><div class="content">Hackintosh currently has no way of running ARM-based macOS, so it is of no help here.</div><br/></div></div><div id="41770863" class="c"><input type="checkbox" id="c-41770863" checked=""/><div class="controls bullet"><span class="by">aspenmayer</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41770757">parent</a><span>|</span><a href="#41771663">prev</a><span>|</span><a href="#41771091">next</a><span>|</span><label class="collapse" for="c-41770863">[-]</label><label class="expand" for="c-41770863">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;dortania.github.io&#x2F;OpenCore-Legacy-Patcher&#x2F;" rel="nofollow">https:&#x2F;&#x2F;dortania.github.io&#x2F;OpenCore-Legacy-Patcher&#x2F;</a></div><br/><div id="41770913" class="c"><input type="checkbox" id="c-41770913" checked=""/><div class="controls bullet"><span class="by">fl0id</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41770863">parent</a><span>|</span><a href="#41771091">next</a><span>|</span><label class="collapse" for="c-41770913">[-]</label><label class="expand" for="c-41770913">[2 more]</label></div><br/><div class="children"><div class="content">But that’s not arm on x86 is it? My understanding was that it ‘just’ enables things to work on unsupported intel macs, by enabling stuff that still works on newer Intel Macs.</div><br/><div id="41771005" class="c"><input type="checkbox" id="c-41771005" checked=""/><div class="controls bullet"><span class="by">aspenmayer</span><span>|</span><a href="#41770539">root</a><span>|</span><a href="#41770913">parent</a><span>|</span><a href="#41771091">next</a><span>|</span><label class="collapse" for="c-41771005">[-]</label><label class="expand" for="c-41771005">[1 more]</label></div><br/><div class="children"><div class="content">It’s complicated, but you have the right intuition about it. OCLP re-inserts drivers removed by Apple and patches the OS to enable functionality that doesn’t rely on hardware verification or ARM hardware. According to the devs, that’s about all they are currently able to do with current approaches.<p>UTM might do what you want but likely not on x86.<p><a href="https:&#x2F;&#x2F;mac.getutm.app&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mac.getutm.app&#x2F;</a><p>&gt; Virtualize macOS as well.<p>&gt; Run multiple instances of macOS on your Apple Silicon Mac with UTM. This can be useful for developers as well as security conscious users.<p>&gt; Note that macOS VM support is limited to ARM based Macs running macOS Monterey or higher.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41771091" class="c"><input type="checkbox" id="c-41771091" checked=""/><div class="controls bullet"><span class="by">MYEUHD</span><span>|</span><a href="#41770539">prev</a><span>|</span><a href="#41771729">next</a><span>|</span><label class="collapse" for="c-41771091">[-]</label><label class="expand" for="c-41771091">[8 more]</label></div><br/><div class="children"><div class="content">Apple already provides an iOS simulator in XCode.
So, what&#x27;s the benefit of this project over the apple-provided one?</div><br/><div id="41771249" class="c"><input type="checkbox" id="c-41771249" checked=""/><div class="controls bullet"><span class="by">ykl</span><span>|</span><a href="#41771091">parent</a><span>|</span><a href="#41771729">next</a><span>|</span><label class="collapse" for="c-41771249">[-]</label><label class="expand" for="c-41771249">[7 more]</label></div><br/><div class="children"><div class="content">The simulator is not actually running real iOS or the iOS build of your app. Instead, when you run an app in the simulator, your app is being compiled to the current Mac’s native instruction set and links&#x2F;runs against a set of Mac frameworks and libraries that _simulate_ and in some cases only stub in the expected iOS behavior. So as an example, you can’t just take an iOS binary off of the App Store and run it in the iOS Simulator (especially not on an Intel Mac). You also can’t use the simulator to probe and learn anything about how real iOS works internally, because the simulator isn’t really running full iOS. If you drill down in the simulator’s frameworks far enough you eventually just find yourself back in macOS.<p>Contrast with an emulator, where you are just running the full iOS build identical to the build on a real device. You would in theory be able to run any iOS binary unmodified and probe how the real os works.<p>It’s sort of like the difference between running an app through Wine versus running an app in a Windows VM, except in the case of the simulator it’d be like if you had to custom recompile&#x2F;link a Windows app first against the Wine environment before being able to run it. If you wanted to study how Windows works internally, there&#x27;s not much you can learn about that from running Wine, but there is quite a lot you could learn from probing a VM running Windows.</div><br/><div id="41772262" class="c"><input type="checkbox" id="c-41772262" checked=""/><div class="controls bullet"><span class="by">lisper</span><span>|</span><a href="#41771091">root</a><span>|</span><a href="#41771249">parent</a><span>|</span><a href="#41771729">next</a><span>|</span><label class="collapse" for="c-41772262">[-]</label><label class="expand" for="c-41772262">[6 more]</label></div><br/><div class="children"><div class="content">Since you are someone who seems to know what they&#x27;re doing I hope you&#x27;ll forgive a random unrelated question: do you happen to know if it&#x27;s possible to call out to M1 code inside Rosetta2?  It seems like this should be possible since Rosetta2 is (supposedly) a transpiler and so it&#x27;s (supposedly) really running M1 code under the hood, but I haven&#x27;t been able to figure out a way to call out to native M1 code.</div><br/><div id="41772370" class="c"><input type="checkbox" id="c-41772370" checked=""/><div class="controls bullet"><span class="by">ykl</span><span>|</span><a href="#41771091">root</a><span>|</span><a href="#41772262">parent</a><span>|</span><a href="#41772419">next</a><span>|</span><label class="collapse" for="c-41772370">[-]</label><label class="expand" for="c-41772370">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great question. The short answer is: no, you can&#x27;t, but not necessarily for the reason you might expect. The long answer is: Rosetta 2 is indeed a transpiler generating native arm64 code, but transpiled code running via Rosetta 2 vs. native arm64 code in macOS use two different ABIs. Transpiled Rosetta 2 code uses a arm64-ized version of the System V x64 ABI that contains a direct mapping between x64 and arm64 registers, whereas native arm64 code uses the standard arm64 ABI. There&#x27;s a lot of magic going on in the Rosetta 2 arm64-ized System V ABI that is necessary to make Rosetta 2 work.<p>Koh Nakagawa&#x27;s work on reverse engineering Rosetta 2 dives into this topic extensively: <a href="https:&#x2F;&#x2F;ffri.github.io&#x2F;ProjectChampollion&#x2F;part1&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ffri.github.io&#x2F;ProjectChampollion&#x2F;part1&#x2F;</a><p>One interesting side effect of this ABI difference comes from modern x64 macOS using AVX2 instructions by default but Rosetta 2 not supporting AVX2. Because Rosetta 2 uses a different ABI than native arm64, code running under Rosetta 2 can&#x27;t just call into the native arm64 system libraries; for calls to system libraries, Rosetta 2 transpiles from the x64 versions of those as well, which are available on Apple Silicon Macs thanks to the universal binary architecture. In macOS, all of the commonly used system dylibs are pre-linked into a single giant file called the dyld cache. Since the native x64 dyld cache contains AVX2 instructions though, it isn&#x27;t usable by Rosetta 2, so for when a system library call requires going into the dyld cache, Rosetta 2 ships with a _separate second version_ of the x64 dyld cache that is compiled without AVX2. 
This is an interesting quirk that has proven to be exceptionally useful for getting newer macOS versions running on older unsupported Macs that have Intel CPUs that are too old to support AVX2.</div><br/><div id="41772407" class="c"><input type="checkbox" id="c-41772407" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#41771091">root</a><span>|</span><a href="#41772370">parent</a><span>|</span><a href="#41772452">next</a><span>|</span><label class="collapse" for="c-41772407">[-]</label><label class="expand" for="c-41772407">[1 more]</label></div><br/><div class="children"><div class="content">IIRC Rosetta 1 did attempt to use the native x86 versions of system frameworks, but there were issues with floating point precision between the emulated and native code. I don&#x27;t remember if they gave up on it, fixed it, or just left it like that.</div><br/></div></div><div id="41772452" class="c"><input type="checkbox" id="c-41772452" checked=""/><div class="controls bullet"><span class="by">lisper</span><span>|</span><a href="#41771091">root</a><span>|</span><a href="#41772370">parent</a><span>|</span><a href="#41772407">prev</a><span>|</span><a href="#41772419">next</a><span>|</span><label class="collapse" for="c-41772452">[-]</label><label class="expand" for="c-41772452">[1 more]</label></div><br/><div class="children"><div class="content">Thanks!</div><br/></div></div></div></div><div id="41772419" class="c"><input type="checkbox" id="c-41772419" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41771091">root</a><span>|</span><a href="#41772262">parent</a><span>|</span><a href="#41772370">prev</a><span>|</span><a href="#41773858">next</a><span>|</span><label class="collapse" for="c-41772419">[-]</label><label class="expand" for="c-41772419">[1 more]</label></div><br/><div class="children"><div class="content">This is not supported. It’s possible in theory but the theory here is “breaking out of the emulator and fiddling with runtime metadata”.</div><br/></div></div><div id="41773858" class="c"><input type="checkbox" id="c-41773858" checked=""/><div class="controls bullet"><span class="by">wahnfrieden</span><span>|</span><a href="#41771091">root</a><span>|</span><a href="#41772262">parent</a><span>|</span><a href="#41772419">prev</a><span>|</span><a href="#41771729">next</a><span>|</span><label class="collapse" for="c-41773858">[-]</label><label class="expand" for="c-41773858">[1 more]</label></div><br/><div class="children"><div class="content">Note that that reply isn&#x27;t authoritative in terms of Apple choosing or not to stray from reusing code&#x2F;frameworks across macos for simulating&#x2F;emulating and ios</div><br/></div></div></div></div></div></div></div></div><div id="41771729" class="c"><input type="checkbox" id="c-41771729" checked=""/><div class="controls bullet"><span class="by">jamesy0ung</span><span>|</span><a href="#41771091">prev</a><span>|</span><label class="collapse" for="c-41771729">[-]</label><label class="expand" for="c-41771729">[1 more]</label></div><br/><div class="children"><div class="content">Discussion of this is on the nick&#x27;s funny device emporium Discord server.
<a href="https:&#x2F;&#x2F;discord.com&#x2F;invite&#x2F;4HXCHWhf6r" rel="nofollow">https:&#x2F;&#x2F;discord.com&#x2F;invite&#x2F;4HXCHWhf6r</a></div><br/></div></div></div></div></div></div></div></body></html>