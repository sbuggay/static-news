<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1719133273248" as="style"/><link rel="stylesheet" href="styles.css?v=1719133273248"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://whynothugo.nl/journal/2024/06/13/ssh-as-a-sudo-replacement/">SSH as a Sudo Replacement</a> <span class="domain">(<a href="https://whynothugo.nl">whynothugo.nl</a>)</span></div><div class="subtext"><span>legobeet</span> | <span>74 comments</span></div><br/><div><div id="40764527" class="c"><input type="checkbox" id="c-40764527" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#40763513">next</a><span>|</span><label class="collapse" for="c-40764527">[-]</label><label class="expand" for="c-40764527">[25 more]</label></div><br/><div class="children"><div class="content">My main objection to this is just the added complexity.  Instead of a single suid binary that reads a config file and calls exec(), now you have one binary that runs as root and listens on a UNIX socket, and another that talks to a UNIX socket; both of them have to do asymmetric crypto stuff.<p>It seems like the main argument against sudo&#x2F;doas being presented is that you have a suid binary accessible to any user, and if there&#x27;s a bug in it, an unauthorized user might be able to use it for privilege escalation.  If that&#x27;s really the main issue, then you can:<p><pre><code>    chgrp wheel &#x2F;usr&#x2F;bin&#x2F;sudo
    chmod o-rwx &#x2F;usr&#x2F;bin&#x2F;sudo
</code></pre>
Add any sudoers to the wheel group, and there you go: only users that can sudo are allowed to even read the bytes of the file off disk, let alone execute them.  This essentially gives you the same access-related security as the sshd approach (the UNIX socket there is set up to be only accessible to users in wheel), with much much much less complexity.<p>And since the sshd approach doesn&#x27;t allow you to restrict root access to only certain commands (like sudo does), even if there is a bug in sudo that allows a user to bypass the command restrictions, that still gives no more access than the sshd approach.<p>If you are worried about your system package manager messing up the permissions on &#x2F;usr&#x2F;bin&#x2F;sudo, you can put something in cron to fix them up that runs every hour or whatever you&#x27;re comfortable with.  Or you can uninstall sudo entirely, and manually install it from source to some other location.  Then you have to maintain and upgrade it, manually, of course, unfortunately.</div><br/><div id="40764929" class="c"><input type="checkbox" id="c-40764929" checked=""/><div class="controls bullet"><span class="by">alexey-salmin</span><span>|</span><a href="#40764527">parent</a><span>|</span><a href="#40765030">next</a><span>|</span><label class="collapse" for="c-40764929">[-]</label><label class="expand" for="c-40764929">[10 more]</label></div><br/><div class="children"><div class="content">&gt; Add any sudoers to the wheel group, and there you go: only users that can sudo are allowed to even read the bytes of the file off disk, let alone execute them.<p>That&#x27;s very sensible, I wonder why it&#x27;s not the default setup everywhere.</div><br/><div id="40765345" class="c"><input type="checkbox" id="c-40765345" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40764929">parent</a><span>|</span><a href="#40765148">next</a><span>|</span><label class="collapse" for="c-40765345">[-]</label><label class="expand" for="c-40765345">[3 more]</label></div><br/><div class="children"><div class="content">Probably because there&#x27;s nothing that says only users in wheel (assuming your OS&#x2F;distro even has that group; some don&#x27;t) can sudo.  You can grant any user with any group membership access to sudo, either full access, or restricted to only certain commands.<p>If the package was set up to install &#x2F;usr&#x2F;bin&#x2F;sudo so it was only runnable by members of the wheel group, that wouldn&#x27;t work.</div><br/><div id="40765424" class="c"><input type="checkbox" id="c-40765424" checked=""/><div class="controls bullet"><span class="by">kmeisthax</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765345">parent</a><span>|</span><a href="#40765148">next</a><span>|</span><label class="collapse" for="c-40765424">[-]</label><label class="expand" for="c-40765424">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s worth noting that the reason why your OS&#x2F;distro doesn&#x27;t have or doesn&#x27;t respect wheel is largely down to RMS opposing it[0], instead favoring people trading the root password around to unauthorized users.<p>[0] <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070603191229&#x2F;http:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;coreutils&#x2F;manual&#x2F;html_node&#x2F;su-invocation.html#index-group-wheel_002c-not-supported-2200" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070603191229&#x2F;http:&#x2F;&#x2F;www.gnu.or...</a></div><br/><div id="40765521" class="c"><input type="checkbox" id="c-40765521" checked=""/><div class="controls bullet"><span class="by">sham1</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765424">parent</a><span>|</span><a href="#40765148">next</a><span>|</span><label class="collapse" for="c-40765521">[-]</label><label class="expand" for="c-40765521">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also worth noting that the Coreutils `su` is no longer in use by anyone, and that the `su` from the shadow-package absolutely checks for wheel. It&#x27;s even configurable if you haven&#x27;t enabled PAM by configuring `SU_WHEEL_ONLY` in your login.defs. And with PAM you configure that via PAM.<p>Hell, not even GNU distros like GNU Guix, Parabola, nor Trisquel follow RMS&#x27; opinions on this anymore.</div><br/></div></div></div></div></div></div><div id="40765148" class="c"><input type="checkbox" id="c-40765148" checked=""/><div class="controls bullet"><span class="by">dingensundso</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40764929">parent</a><span>|</span><a href="#40765345">prev</a><span>|</span><a href="#40765256">next</a><span>|</span><label class="collapse" for="c-40765148">[-]</label><label class="expand" for="c-40765148">[2 more]</label></div><br/><div class="children"><div class="content">Having a wheel group that is allowed to run any command with su rights is the default setup, but it&#x27;s not the only one.<p>I have used sudo a lot of times to allow a specific user to run exactly one command with elevated rights. In those cases they weren&#x27;t in the wheel group.</div><br/><div id="40765323" class="c"><input type="checkbox" id="c-40765323" checked=""/><div class="controls bullet"><span class="by">riedel</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765148">parent</a><span>|</span><a href="#40765256">next</a><span>|</span><label class="collapse" for="c-40765323">[-]</label><label class="expand" for="c-40765323">[1 more]</label></div><br/><div class="children"><div class="content">Actually retristricting defined commands to defined sudoers should be one of the main use cases of sudo. This could be done as well via ssh config but one would need a lot of keys if you don not want a wrapper (and rewrite sudo all over)<p>If you are really thinking security, elevating a standard user seems bad practice to anyways. It is rather I guess a way to protect the user to do `rm -rf &#x2F;` accidentally. On the other end adding an another layer of obscurity is practically adding a bit of security against script kiddies. But if that is of concern one could also rename the sudo binary.<p>One last thing the SSH trick might be interesting is the portability but in this case I would rather go via a standard TCP socket.</div><br/></div></div></div></div><div id="40765256" class="c"><input type="checkbox" id="c-40765256" checked=""/><div class="controls bullet"><span class="by">jkhanlar</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40764929">parent</a><span>|</span><a href="#40765148">prev</a><span>|</span><a href="#40765475">next</a><span>|</span><label class="collapse" for="c-40765256">[-]</label><label class="expand" for="c-40765256">[1 more]</label></div><br/><div class="children"><div class="content">Has anyone prepared a list of distributions indicating the default sudo setup comparing to each other? I&#x27;d be interested to see the defaults for each distro as a factor to consider.</div><br/></div></div><div id="40765475" class="c"><input type="checkbox" id="c-40765475" checked=""/><div class="controls bullet"><span class="by">peanut-walrus</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40764929">parent</a><span>|</span><a href="#40765256">prev</a><span>|</span><a href="#40765042">next</a><span>|</span><label class="collapse" for="c-40765475">[-]</label><label class="expand" for="c-40765475">[1 more]</label></div><br/><div class="children"><div class="content">Not every user who uses sudo is admin or elevates to root.</div><br/></div></div><div id="40765042" class="c"><input type="checkbox" id="c-40765042" checked=""/><div class="controls bullet"><span class="by">rascul</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40764929">parent</a><span>|</span><a href="#40765475">prev</a><span>|</span><a href="#40764983">next</a><span>|</span><label class="collapse" for="c-40765042">[-]</label><label class="expand" for="c-40765042">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen a wheel or sudo group often enough to think it&#x27;s common.</div><br/></div></div><div id="40764983" class="c"><input type="checkbox" id="c-40764983" checked=""/><div class="controls bullet"><span class="by">cqqxo4zV46cp</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40764929">parent</a><span>|</span><a href="#40765042">prev</a><span>|</span><a href="#40765030">next</a><span>|</span><label class="collapse" for="c-40764983">[-]</label><label class="expand" for="c-40764983">[1 more]</label></div><br/><div class="children"><div class="content">It’s at the very least incompatible with *some^ hypothetical sudo configurations. It’s probably a good hardening practice if you know how sudo is going to set up on the machine.</div><br/></div></div></div></div><div id="40765030" class="c"><input type="checkbox" id="c-40765030" checked=""/><div class="controls bullet"><span class="by">lttlrck</span><span>|</span><a href="#40764527">parent</a><span>|</span><a href="#40764929">prev</a><span>|</span><a href="#40765351">next</a><span>|</span><label class="collapse" for="c-40765030">[-]</label><label class="expand" for="c-40765030">[6 more]</label></div><br/><div class="children"><div class="content">Maybe also make &#x2F;usr&#x2F;bin&#x2F;sudo immutable? would that help prevent a package manager from messing with it? I think so.</div><br/><div id="40765364" class="c"><input type="checkbox" id="c-40765364" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765030">parent</a><span>|</span><a href="#40765528">next</a><span>|</span><label class="collapse" for="c-40765364">[-]</label><label class="expand" for="c-40765364">[1 more]</label></div><br/><div class="children"><div class="content">The downside of this is that if you have your system set up to automatically install package updates, then it will start failing, which might kill <i>all</i> automatic updates.<p>On Debian, for example, I have unattended-upgrades set up to automatically install security updates.  sudo is reasonably likely to have updates for security reasons.</div><br/></div></div><div id="40765063" class="c"><input type="checkbox" id="c-40765063" checked=""/><div class="controls bullet"><span class="by">ec109685</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765030">parent</a><span>|</span><a href="#40765528">prev</a><span>|</span><a href="#40765351">next</a><span>|</span><label class="collapse" for="c-40765063">[-]</label><label class="expand" for="c-40765063">[3 more]</label></div><br/><div class="children"><div class="content">How would you do that?</div><br/><div id="40765092" class="c"><input type="checkbox" id="c-40765092" checked=""/><div class="controls bullet"><span class="by">vrotaru</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765063">parent</a><span>|</span><a href="#40765086">next</a><span>|</span><label class="collapse" for="c-40765092">[-]</label><label class="expand" for="c-40765092">[1 more]</label></div><br/><div class="children"><div class="content">lsattr - for reading attributes
chattr - for setting them<p>You need the `i` attribute. But this is filesystem dependent. Anyway protecting the `sudo` binary from package managers is a so-so idea.</div><br/></div></div><div id="40765086" class="c"><input type="checkbox" id="c-40765086" checked=""/><div class="controls bullet"><span class="by">xomodo</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765063">parent</a><span>|</span><a href="#40765092">prev</a><span>|</span><a href="#40765351">next</a><span>|</span><label class="collapse" for="c-40765086">[-]</label><label class="expand" for="c-40765086">[1 more]</label></div><br/><div class="children"><div class="content">man chattr</div><br/></div></div></div></div></div></div><div id="40765351" class="c"><input type="checkbox" id="c-40765351" checked=""/><div class="controls bullet"><span class="by">euroderf</span><span>|</span><a href="#40764527">parent</a><span>|</span><a href="#40765030">prev</a><span>|</span><a href="#40765588">next</a><span>|</span><label class="collapse" for="c-40765351">[-]</label><label class="expand" for="c-40765351">[4 more]</label></div><br/><div class="children"><div class="content">Pardon my ignorance, but I have to ask for explanation of what the wheel group is and does. I&#x27;m aware that this might open a can of worms.</div><br/><div id="40765409" class="c"><input type="checkbox" id="c-40765409" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765351">parent</a><span>|</span><a href="#40765379">next</a><span>|</span><label class="collapse" for="c-40765409">[-]</label><label class="expand" for="c-40765409">[1 more]</label></div><br/><div class="children"><div class="content">In addition to being the default name for the admin group in Debian, the name has some history:<p>&gt; [from slang ‘big wheel’ for a powerful person] A person who has an active wheel bit. “We need to find a wheel to unwedge the hung tape drives.” The traditional name of security group zero in BSD (to which the major system-internal users like root belong) is ‘wheel’.<p>&gt;  The term was invented on the TENEX operating system, and carried over to TOPS-20, XEROX-IFS, and others. The state of being in a privileged logon is sometimes called wheel mode. This term entered the Unix culture from TWENEX in the mid-1980s and has been gaining popularity there (esp. at university sites).<p><a href="http:&#x2F;&#x2F;www.catb.org&#x2F;~esr&#x2F;jargon&#x2F;html&#x2F;W&#x2F;wheel.html" rel="nofollow">http:&#x2F;&#x2F;www.catb.org&#x2F;~esr&#x2F;jargon&#x2F;html&#x2F;W&#x2F;wheel.html</a></div><br/></div></div><div id="40765379" class="c"><input type="checkbox" id="c-40765379" checked=""/><div class="controls bullet"><span class="by">ffsm8</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765351">parent</a><span>|</span><a href="#40765409">prev</a><span>|</span><a href="#40765390">next</a><span>|</span><label class="collapse" for="c-40765379">[-]</label><label class="expand" for="c-40765379">[1 more]</label></div><br/><div class="children"><div class="content">The wheel group is just a regular user group, its just the name Debian gives the group with admin permissions.<p>It&#x27;s no different to any other user group on linux systems and you could replace the name wheel with admin, freethinker, systemdestroyer or whatever else you wanna call it.</div><br/></div></div><div id="40765390" class="c"><input type="checkbox" id="c-40765390" checked=""/><div class="controls bullet"><span class="by">bozey07</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765351">parent</a><span>|</span><a href="#40765379">prev</a><span>|</span><a href="#40765588">next</a><span>|</span><label class="collapse" for="c-40765390">[-]</label><label class="expand" for="c-40765390">[1 more]</label></div><br/><div class="children"><div class="content">Not really! In modern Linux specifically it&#x27;s just a regular user group, but it&#x27;s the de-facto standard name of the &quot;administrator&quot; group - users who can escalate to root privileges.<p>You might not even have wheel anymore; Debian just calls it &quot;sudo&quot; now.</div><br/></div></div></div></div><div id="40765588" class="c"><input type="checkbox" id="c-40765588" checked=""/><div class="controls bullet"><span class="by">blueflow</span><span>|</span><a href="#40764527">parent</a><span>|</span><a href="#40765351">prev</a><span>|</span><a href="#40765195">next</a><span>|</span><label class="collapse" for="c-40765588">[-]</label><label class="expand" for="c-40765588">[1 more]</label></div><br/><div class="children"><div class="content">&gt; And since the sshd approach doesn&#x27;t allow you to restrict root access to only certain commands [...]<p>The ForcedCommand infrastructure.</div><br/></div></div><div id="40765195" class="c"><input type="checkbox" id="c-40765195" checked=""/><div class="controls bullet"><span class="by">guerby</span><span>|</span><a href="#40764527">parent</a><span>|</span><a href="#40765588">prev</a><span>|</span><a href="#40763513">next</a><span>|</span><label class="collapse" for="c-40765195">[-]</label><label class="expand" for="c-40765195">[3 more]</label></div><br/><div class="children"><div class="content">Except when physically logged in via console you&#x27;re already using ssh before using sudo.<p>So the complexity you describe is already there.<p>sudo removed is one less moving part in the end.</div><br/><div id="40765255" class="c"><input type="checkbox" id="c-40765255" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765195">parent</a><span>|</span><a href="#40765340">next</a><span>|</span><label class="collapse" for="c-40765255">[-]</label><label class="expand" for="c-40765255">[1 more]</label></div><br/><div class="children"><div class="content">That is a furphy, because both tools are also used non-interactively.<p>If you forced me to choose one to remove, I’d delete ssh in many cases. Anything production that isn’t bare-metal is a candidate for never allowing a remote terminal. Easiest with cloud instances since they’re almost completely disposable, but many sites still don’t have the stomach&#x2F;discipline for it.</div><br/></div></div><div id="40765340" class="c"><input type="checkbox" id="c-40765340" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#40764527">root</a><span>|</span><a href="#40765195">parent</a><span>|</span><a href="#40765255">prev</a><span>|</span><a href="#40763513">next</a><span>|</span><label class="collapse" for="c-40765340">[-]</label><label class="expand" for="c-40765340">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see how <i>two</i> sshd daemons and two sessions is less complicated.<p>Yes, removing sudo is one fewer moving part, but sshd is a much larger moving part than sudo.  (If you think sudo is a larger moving part than it should be, I&#x27;d agree, and you can use doas instead.)<p>Regardless, the vast majority of my sudo usage is on my local machine, so there&#x27;s no sshd involved at all.</div><br/></div></div></div></div></div></div><div id="40763513" class="c"><input type="checkbox" id="c-40763513" checked=""/><div class="controls bullet"><span class="by">aaaronic</span><span>|</span><a href="#40764527">prev</a><span>|</span><a href="#40764165">next</a><span>|</span><label class="collapse" for="c-40763513">[-]</label><label class="expand" for="c-40763513">[26 more]</label></div><br/><div class="children"><div class="content">Am I missing something?<p>How is logging into ssh (sshd) AS root more secure than using sudo? I honestly don’t even know how dangerous that is because I’ve always been told to never allow it. I see here thought goes into preventing that for a remote user, so I’m not talking about that aspect of security here.<p>Maybe it has to do with #3 in the sudo limitations — I certainly don’t see any benefits vis-a-vis #1.<p>I totally get that this is an experiment, but I suspect it is more vulnerable than using sudo, not less (the open socket proxy looks interestingly vulnerable to a man in the middle attack).<p>Having said all that, I did learn some tricks old tools are capable of, so kudos for showing me something new.</div><br/><div id="40763746" class="c"><input type="checkbox" id="c-40763746" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#40763513">parent</a><span>|</span><a href="#40763576">next</a><span>|</span><label class="collapse" for="c-40763746">[-]</label><label class="expand" for="c-40763746">[14 more]</label></div><br/><div class="children"><div class="content">The sudo binary is suid root &#x2F; privileged and is exposed directly to the untrusted user. If anything goes wrong inside of sudo (with the user&#x27;s entire environment as the surface area), it may be exploited.<p>The ssh approach does not expose a suid binary. Instead it uses the ssh network layer so it is no less secure than accessing ssh over a network, which is considered pretty secure.</div><br/><div id="40765326" class="c"><input type="checkbox" id="c-40765326" checked=""/><div class="controls bullet"><span class="by">Sparkyte</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763746">parent</a><span>|</span><a href="#40763881">next</a><span>|</span><label class="collapse" for="c-40765326">[-]</label><label class="expand" for="c-40765326">[1 more]</label></div><br/><div class="children"><div class="content">I would assume if you has to use SSH or sudo you&#x27;ve already lost. I&#x27;ve been working with people where we just completely lock down the VM or Container. They only allow necessary flow of traffic and are managed entirely from golden builds. If you need to make changes or fix something it is a new vm or container.</div><br/></div></div><div id="40763881" class="c"><input type="checkbox" id="c-40763881" checked=""/><div class="controls bullet"><span class="by">hughesjj</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763746">parent</a><span>|</span><a href="#40765326">prev</a><span>|</span><a href="#40763576">next</a><span>|</span><label class="collapse" for="c-40763881">[-]</label><label class="expand" for="c-40763881">[12 more]</label></div><br/><div class="children"><div class="content">...why not just su then?</div><br/><div id="40763929" class="c"><input type="checkbox" id="c-40763929" checked=""/><div class="controls bullet"><span class="by">rpgwaiter</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763881">parent</a><span>|</span><a href="#40765327">next</a><span>|</span><label class="collapse" for="c-40763929">[-]</label><label class="expand" for="c-40763929">[10 more]</label></div><br/><div class="children"><div class="content">root would need a defined password, which opens up other security concerns</div><br/><div id="40763989" class="c"><input type="checkbox" id="c-40763989" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763929">parent</a><span>|</span><a href="#40764412">next</a><span>|</span><label class="collapse" for="c-40763989">[-]</label><label class="expand" for="c-40763989">[8 more]</label></div><br/><div class="children"><div class="content">Even if you allow passwordless su for users in the wheel group?</div><br/><div id="40764205" class="c"><input type="checkbox" id="c-40764205" checked=""/><div class="controls bullet"><span class="by">bdd8f1df777b</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763989">parent</a><span>|</span><a href="#40764208">next</a><span>|</span><label class="collapse" for="c-40764205">[-]</label><label class="expand" for="c-40764205">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s extremely dangerous. Any software running as a wheel user can escalate privileges willy nilly.</div><br/><div id="40764319" class="c"><input type="checkbox" id="c-40764319" checked=""/><div class="controls bullet"><span class="by">immibis</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40764205">parent</a><span>|</span><a href="#40764208">next</a><span>|</span><label class="collapse" for="c-40764319">[-]</label><label class="expand" for="c-40764319">[3 more]</label></div><br/><div class="children"><div class="content">they can also access your ssh private keys</div><br/><div id="40765044" class="c"><input type="checkbox" id="c-40765044" checked=""/><div class="controls bullet"><span class="by">rascul</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40764319">parent</a><span>|</span><a href="#40765065">next</a><span>|</span><label class="collapse" for="c-40765044">[-]</label><label class="expand" for="c-40765044">[1 more]</label></div><br/><div class="children"><div class="content">In theory, those ssh private keys are password protected.<p>In practice, maybe not.</div><br/></div></div><div id="40765065" class="c"><input type="checkbox" id="c-40765065" checked=""/><div class="controls bullet"><span class="by">ec109685</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40764319">parent</a><span>|</span><a href="#40765044">prev</a><span>|</span><a href="#40764208">next</a><span>|</span><label class="collapse" for="c-40765065">[-]</label><label class="expand" for="c-40765065">[1 more]</label></div><br/><div class="children"><div class="content">They were stored in the user’s yubikeys (or similar) in this example.</div><br/></div></div></div></div></div></div><div id="40764208" class="c"><input type="checkbox" id="c-40764208" checked=""/><div class="controls bullet"><span class="by">bogantech</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763989">parent</a><span>|</span><a href="#40764205">prev</a><span>|</span><a href="#40764045">next</a><span>|</span><label class="collapse" for="c-40764208">[-]</label><label class="expand" for="c-40764208">[1 more]</label></div><br/><div class="children"><div class="content">If you do that you deserve what you get</div><br/></div></div><div id="40764045" class="c"><input type="checkbox" id="c-40764045" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763989">parent</a><span>|</span><a href="#40764208">prev</a><span>|</span><a href="#40764242">next</a><span>|</span><label class="collapse" for="c-40764045">[-]</label><label class="expand" for="c-40764045">[1 more]</label></div><br/><div class="children"><div class="content">Do what!?</div><br/></div></div><div id="40764242" class="c"><input type="checkbox" id="c-40764242" checked=""/><div class="controls bullet"><span class="by">bobmcnamara</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763989">parent</a><span>|</span><a href="#40764045">prev</a><span>|</span><a href="#40764412">next</a><span>|</span><label class="collapse" for="c-40764242">[-]</label><label class="expand" for="c-40764242">[1 more]</label></div><br/><div class="children"><div class="content">plzno</div><br/></div></div></div></div><div id="40764412" class="c"><input type="checkbox" id="c-40764412" checked=""/><div class="controls bullet"><span class="by">CaliforniaKarl</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763929">parent</a><span>|</span><a href="#40763989">prev</a><span>|</span><a href="#40765327">next</a><span>|</span><label class="collapse" for="c-40764412">[-]</label><label class="expand" for="c-40764412">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve got root passwords set on, IIRC, all of our systems.  They&#x27;re long, random, and can only be entered through the console on the VGA port or the IPMI console.</div><br/></div></div></div></div><div id="40765327" class="c"><input type="checkbox" id="c-40765327" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763881">parent</a><span>|</span><a href="#40763929">prev</a><span>|</span><a href="#40763576">next</a><span>|</span><label class="collapse" for="c-40765327">[-]</label><label class="expand" for="c-40765327">[1 more]</label></div><br/><div class="children"><div class="content">su is also a suid binary, no? It is probably a lot less complex than sudo.</div><br/></div></div></div></div></div></div><div id="40763576" class="c"><input type="checkbox" id="c-40763576" checked=""/><div class="controls bullet"><span class="by">op00to</span><span>|</span><a href="#40763513">parent</a><span>|</span><a href="#40763746">prev</a><span>|</span><a href="#40763767">next</a><span>|</span><label class="collapse" for="c-40763576">[-]</label><label class="expand" for="c-40763576">[9 more]</label></div><br/><div class="children"><div class="content">A big part of sudo is that you should be running individual commands using sudo to increase auditability rather than simply running sudo bash or whatever.</div><br/><div id="40765708" class="c"><input type="checkbox" id="c-40765708" checked=""/><div class="controls bullet"><span class="by">dmw_ng</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763576">parent</a><span>|</span><a href="#40763613">next</a><span>|</span><label class="collapse" for="c-40765708">[-]</label><label class="expand" for="c-40765708">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s comical to see the sudo codebase mentioned in the same breath as increasing auditability here</div><br/></div></div><div id="40763613" class="c"><input type="checkbox" id="c-40763613" checked=""/><div class="controls bullet"><span class="by">aaaronic</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763576">parent</a><span>|</span><a href="#40765708">prev</a><span>|</span><a href="#40764084">next</a><span>|</span><label class="collapse" for="c-40763613">[-]</label><label class="expand" for="c-40763613">[5 more]</label></div><br/><div class="children"><div class="content">I can agree with that, though admit to being guilty of using sudo bash far more often than I should.<p>I honestly thought they’d be using ssh that way (single command at a time), though I’m still not sure to what security end.</div><br/><div id="40763888" class="c"><input type="checkbox" id="c-40763888" checked=""/><div class="controls bullet"><span class="by">mmh0000</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763613">parent</a><span>|</span><a href="#40764182">next</a><span>|</span><label class="collapse" for="c-40763888">[-]</label><label class="expand" for="c-40763888">[3 more]</label></div><br/><div class="children"><div class="content">If ‘sudo’ is properly configured running bash or anything that allows command execution (vim, eMacs, etc) is disallowed.<p>Also, may I introduce you to the ‘sudo -i’ option.</div><br/><div id="40765623" class="c"><input type="checkbox" id="c-40765623" checked=""/><div class="controls bullet"><span class="by">acka</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763888">parent</a><span>|</span><a href="#40765620">next</a><span>|</span><label class="collapse" for="c-40765623">[-]</label><label class="expand" for="c-40765623">[1 more]</label></div><br/><div class="children"><div class="content">&gt; eMacs<p>This made me chuckle. Apple influencing the way Emacs is capitalized (pun intended) versus RMS&#x27;s stance on Free Software couldn&#x27;t be further apart I think.</div><br/></div></div><div id="40765620" class="c"><input type="checkbox" id="c-40765620" checked=""/><div class="controls bullet"><span class="by">dns_snek</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763888">parent</a><span>|</span><a href="#40765623">prev</a><span>|</span><a href="#40764182">next</a><span>|</span><label class="collapse" for="c-40765620">[-]</label><label class="expand" for="c-40765620">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If ‘sudo’ is properly configured running bash or anything that allows command execution (vim, eMacs, etc) is disallowed.<p>Keep in mind that this is borderline impossible to enforce unless your goal is just to stop the most common ways of accidentally breaking the policy. A list of commands that allows breaking out into a full shell includes: less, apt, man, nano, wget &amp; many more.<p><a href="https:&#x2F;&#x2F;gtfobins.github.io&#x2F;#+shell" rel="nofollow">https:&#x2F;&#x2F;gtfobins.github.io&#x2F;#+shell</a></div><br/></div></div></div></div><div id="40764182" class="c"><input type="checkbox" id="c-40764182" checked=""/><div class="controls bullet"><span class="by">op00to</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763613">parent</a><span>|</span><a href="#40763888">prev</a><span>|</span><a href="#40764084">next</a><span>|</span><label class="collapse" for="c-40764182">[-]</label><label class="expand" for="c-40764182">[1 more]</label></div><br/><div class="children"><div class="content">I sudo bash a lot as well. Some times I regret it when I try to figure out what the hell I did months ago. :)</div><br/></div></div></div></div><div id="40764084" class="c"><input type="checkbox" id="c-40764084" checked=""/><div class="controls bullet"><span class="by">kiririn</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763576">parent</a><span>|</span><a href="#40763613">prev</a><span>|</span><a href="#40763767">next</a><span>|</span><label class="collapse" for="c-40764084">[-]</label><label class="expand" for="c-40764084">[2 more]</label></div><br/><div class="children"><div class="content">Auditd and pam_tty_audit can take care of all your auditing needs</div><br/><div id="40764183" class="c"><input type="checkbox" id="c-40764183" checked=""/><div class="controls bullet"><span class="by">op00to</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40764084">parent</a><span>|</span><a href="#40763767">next</a><span>|</span><label class="collapse" for="c-40764183">[-]</label><label class="expand" for="c-40764183">[1 more]</label></div><br/><div class="children"><div class="content">Sure! All part of layered controls and reporting.</div><br/></div></div></div></div></div></div><div id="40763767" class="c"><input type="checkbox" id="c-40763767" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#40763513">parent</a><span>|</span><a href="#40763576">prev</a><span>|</span><a href="#40764165">next</a><span>|</span><label class="collapse" for="c-40763767">[-]</label><label class="expand" for="c-40763767">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m skeptical of the approach in the linked article, but:<p>&gt; I honestly don’t even know how dangerous that is because I’ve always been told to never allow it.<p>You&#x27;ve fallen for the FUD. In reality, logging in directly as root over remote SSH is strictly more secure than logging in as user over remote SSH and then using `sudo`.<p>If user@home uses ssh to root@server, then root@server is only compromised if user@home is compromised.<p>If user@home uses ssh to user@server then sudo to root@server, then root@server is compromised if <i>either</i> user@home or user@server is compromised. In particular, it is fairly common for user@server to be running some other software such as daemons or cronjobs. Please don&#x27;t give out free root escalation (and often lateral movement due to password reuse) to anyone who manages to infect through those!<p>(This of course does not apply if sudo is used in whitelisted-commands-only mode and does not take either passwords or credentials fully accessible from the remote host)</div><br/><div id="40764409" class="c"><input type="checkbox" id="c-40764409" checked=""/><div class="controls bullet"><span class="by">cycomanic</span><span>|</span><a href="#40763513">root</a><span>|</span><a href="#40763767">parent</a><span>|</span><a href="#40764165">next</a><span>|</span><label class="collapse" for="c-40764409">[-]</label><label class="expand" for="c-40764409">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure I agree with this argument. Sure you can say theoretically it&#x27;s one less account that could be compromised, but in practice I see a bunch of caveats.<p>1. If we allow password based logins, there will be many orders of magnitude more login attempts to root than any other user. So if you have to allow password based logins, you pretty much never want to allow root login.<p>2. If we disallow password based logins, a user account would be as save as a root login, except again that the root account is the much more valuable target so will get much more attention. I also do see the relevance of cronjobs (root does run them as well) and naturally no user that has sudo privileges should be be running network exposed services.<p>3. In cases were admin rights have to be shared amongst multiple users, are you going to share the same key for all users (probably not a good idea) or give every user a separate key (making key management a bit of a nightmare, user management is much easier).<p>4. As you pointed out yourself sudo gives you much more fine-grained control over commands that can be run.</div><br/></div></div></div></div></div></div><div id="40764165" class="c"><input type="checkbox" id="c-40764165" checked=""/><div class="controls bullet"><span class="by">cycomanic</span><span>|</span><a href="#40763513">prev</a><span>|</span><a href="#40763539">next</a><span>|</span><label class="collapse" for="c-40764165">[-]</label><label class="expand" for="c-40764165">[7 more]</label></div><br/><div class="children"><div class="content">So what happens if ssh (IIRC correctly in typical configurations it depends on network to start) fails to start at boot? You can&#x27;t even login at failsave console. What does this actually buy us over sudo or su? Sure you avoid a setuid binary but instead you are now running a network service (even though only connected to a socket) with root priveledges.</div><br/><div id="40764442" class="c"><input type="checkbox" id="c-40764442" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#40764165">parent</a><span>|</span><a href="#40764388">next</a><span>|</span><label class="collapse" for="c-40764442">[-]</label><label class="expand" for="c-40764442">[2 more]</label></div><br/><div class="children"><div class="content">As I run a system similar to the one used in TFA I&#x27;ll give my take...<p>&gt; So what happens if ssh (IIRC correctly in typical configurations it depends on network to start) fails to start at boot?<p>I do this for my main desktop. If the worse of the worse happen, I&#x27;ve got backup of everything (we all do right?) and I re-install the system.<p>What I mean is: what do you do when you SSD is dead? You can&#x27;t even login at failsafe console either.<p>In 30 years of using Linux I&#x27;ve have hard disk die on me <i>way</i> more than I had my <i>sshd</i> daemon not starting. The ratio is even a divide-by-zero error.<p>Arguably if my OS had its sshd daemon randomly not starting, it&#x27;d be an indication to me that it&#x27;s time to move to a more stable OS.<p>&gt; What does this actually buy us over sudo or su?<p>Much harder to pull local privilege escalation exploits.</div><br/><div id="40764942" class="c"><input type="checkbox" id="c-40764942" checked=""/><div class="controls bullet"><span class="by">alexey-salmin</span><span>|</span><a href="#40764165">root</a><span>|</span><a href="#40764442">parent</a><span>|</span><a href="#40764388">next</a><span>|</span><label class="collapse" for="c-40764942">[-]</label><label class="expand" for="c-40764942">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Much harder to pull local privilege escalation exploits.<p>That&#x27;s not certain. sshd is way bigger than sudo, so chances of it having an exploitable bug seem higher.</div><br/></div></div></div></div><div id="40764388" class="c"><input type="checkbox" id="c-40764388" checked=""/><div class="controls bullet"><span class="by">CaliforniaKarl</span><span>|</span><a href="#40764165">parent</a><span>|</span><a href="#40764442">prev</a><span>|</span><a href="#40764356">next</a><span>|</span><label class="collapse" for="c-40764388">[-]</label><label class="expand" for="c-40764388">[2 more]</label></div><br/><div class="children"><div class="content">&gt; You can&#x27;t even login at failsave console.<p>Linux consoles (the ttys that appear over local display or remote-access KVM, or the ttyS* devices that appear over serial ports and IPMI SoL) do not use sudo or su.  Those consoles use a program like `getty`, or a window-manager; all those programs are non-suid programs that are started as root.<p>Your system should have a root password set, for logins via console.</div><br/><div id="40764461" class="c"><input type="checkbox" id="c-40764461" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#40764165">root</a><span>|</span><a href="#40764388">parent</a><span>|</span><a href="#40764356">next</a><span>|</span><label class="collapse" for="c-40764461">[-]</label><label class="expand" for="c-40764461">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Your system should have a root password set, for logins via console.<p>TFA says that he&#x27;s prefixing his password hash with &#x27;!&#x27;, making login with a root password impossible (including at the console).<p>Hence GP&#x27;s question.</div><br/></div></div></div></div><div id="40764356" class="c"><input type="checkbox" id="c-40764356" checked=""/><div class="controls bullet"><span class="by">jethro_tell</span><span>|</span><a href="#40764165">parent</a><span>|</span><a href="#40764388">prev</a><span>|</span><a href="#40764996">next</a><span>|</span><label class="collapse" for="c-40764356">[-]</label><label class="expand" for="c-40764356">[1 more]</label></div><br/><div class="children"><div class="content">As far as I&#x27;m concerned, I use setuid&#x2F;sudo for auditing.  At this point, I don&#x27;t really do multi-user&#x2F;multi service boxes.  Almost everything I have that&#x27;s multi-tenant at this point is k8s and you can just use kubectl endpoint instead of ssh. But if you&#x27;re allowed to log in, you&#x27;re allowed to setuid to root.  So for a k8s box, that&#x27;s the platform infra team and access to the services on top is through the k8s permissions provider.<p>For the platform infra teams, if you just need something like metrics and logs, that&#x27;s already off box.  If you need to trigger some job or workflow, you can use the pipeline.<p>But when someone does log in and do root stuff, I want to have an audit log.<p>I actually can&#x27;t think of a single box I own where someone with a login doesn&#x27;t also have root for everything.<p>Obviously, I understand the services doing setuid thing, but in the case of services, you generally have systemd doing setuid to drop permissions instead of the other way around.</div><br/></div></div><div id="40764996" class="c"><input type="checkbox" id="c-40764996" checked=""/><div class="controls bullet"><span class="by">gizmo686</span><span>|</span><a href="#40764165">parent</a><span>|</span><a href="#40764356">prev</a><span>|</span><a href="#40763539">next</a><span>|</span><label class="collapse" for="c-40764996">[-]</label><label class="expand" for="c-40764996">[1 more]</label></div><br/><div class="children"><div class="content">If you have access to the bootloadet, you can still set systems.unit=emergency.target, or init=&#x2F;bin&#x2F;bash, or rd.break=pre-pivot, or boot into a live-cd environment. All of the normal emergency options work.<p>For less fatal emergencies, I don&#x27;t see anything that would tie this instance of sshd to tge network.</div><br/></div></div></div></div><div id="40763539" class="c"><input type="checkbox" id="c-40763539" checked=""/><div class="controls bullet"><span class="by">iroddis</span><span>|</span><a href="#40764165">prev</a><span>|</span><a href="#40763548">next</a><span>|</span><label class="collapse" for="c-40763539">[-]</label><label class="expand" for="c-40763539">[2 more]</label></div><br/><div class="children"><div class="content">I think it’s a bit remiss to not include all of the downsides of this approach. sudo allows control over which groups can exercise which commands, what args those commands accept, subshell spawns, etc, etc, etc.<p>This approach loses a lot of this fine-grained control, and also relies on trusted keys, which are harder to manage than editing a sudoers file.<p>To see all the amazing things that sudo can do, I’d really recommend the Sudo Mastery book.</div><br/><div id="40763555" class="c"><input type="checkbox" id="c-40763555" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#40763539">parent</a><span>|</span><a href="#40763548">next</a><span>|</span><label class="collapse" for="c-40763555">[-]</label><label class="expand" for="c-40763555">[1 more]</label></div><br/><div class="children"><div class="content">SSH can do some of that with ForceCommand, though I agree that&#x27;s not as flexible&#x2F;precise.</div><br/></div></div></div></div><div id="40763548" class="c"><input type="checkbox" id="c-40763548" checked=""/><div class="controls bullet"><span class="by">hernantz</span><span>|</span><a href="#40763539">prev</a><span>|</span><a href="#40764393">next</a><span>|</span><label class="collapse" for="c-40763548">[-]</label><label class="expand" for="c-40763548">[1 more]</label></div><br/><div class="children"><div class="content">This is a similar idea to run0 by Systemd: <a href="https:&#x2F;&#x2F;news.itsfoss.com&#x2F;systemd-run0&#x2F;" rel="nofollow">https:&#x2F;&#x2F;news.itsfoss.com&#x2F;systemd-run0&#x2F;</a></div><br/></div></div><div id="40764393" class="c"><input type="checkbox" id="c-40764393" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#40763548">prev</a><span>|</span><a href="#40765513">next</a><span>|</span><label class="collapse" for="c-40764393">[-]</label><label class="expand" for="c-40764393">[2 more]</label></div><br/><div class="children"><div class="content">100 000 times yes: I do something similar and I described that here on HN in a comment &#x2F; comments in the past!<p>The way I do is a bit different...<p>I&#x27;m using a dedicated machine as my physical &quot;SSH console&quot; and that machine is living on a private LAN which is separated from the rest of the machines at home. It&#x27;s on an unmanaged switch, using ethernet cables (but no trunk).<p>Then the only way to login is using SSH but, here&#x27;s a little spin... <i>with a Yubikey</i>.<p>The desktop PC has its own firewall, only accepting SSH traffic in from the IP &#x2F; MAC address of my &quot;SSH console&quot; (on the private LAN it&#x27;s sharing with the SSH console... On the other physical LAN, my desktop can access the Internet).<p>Then the <i>sshd</i> daemon is configured to only allow pub&#x2F;priv key logins, no password logins.<p>So basically when I need root, I boot up my &quot;SSH console&quot; (which boots ultra quickly for there&#x27;s basically nothing on that machine), log in, hit the up arrow to get back the &quot;ssh root@...&quot; line, hit enter, press the Yubikey.<p>That &quot;ssh console&quot; and its keyboard is on my desk, always withing reaching distance.<p>iptables&#x2F;nftables (on a private LAN moreover, physically separated from the other private LAN) + sshd: you judge if this is more or less secure than sudo binaries &#x2F; su.<p>As to the &quot;why&quot;, I&#x27;d answer &quot;because I can&quot;. I did set that up such a long time ago that I don&#x27;t even remember when I did. I think I started toying with that idea two years ago and I&#x27;ve been using it ever since. Zero problem. Not a single issue.</div><br/><div id="40764817" class="c"><input type="checkbox" id="c-40764817" checked=""/><div class="controls bullet"><span class="by">r4indeer</span><span>|</span><a href="#40764393">parent</a><span>|</span><a href="#40765513">next</a><span>|</span><label class="collapse" for="c-40764817">[-]</label><label class="expand" for="c-40764817">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like what you have is similar to the idea of a bastion host, even if not quite the same.</div><br/></div></div></div></div><div id="40765513" class="c"><input type="checkbox" id="c-40765513" checked=""/><div class="controls bullet"><span class="by">coretx</span><span>|</span><a href="#40764393">prev</a><span>|</span><a href="#40763954">next</a><span>|</span><label class="collapse" for="c-40765513">[-]</label><label class="expand" for="c-40765513">[1 more]</label></div><br/><div class="children"><div class="content">This is not a solution, it&#x27;s a workaround. 
One that breaks with ( outdated ) system design doctrines and therefore is likely to spawn more cans of worms and will certainly increase the amount of technical debt at present.</div><br/></div></div><div id="40763954" class="c"><input type="checkbox" id="c-40763954" checked=""/><div class="controls bullet"><span class="by">mise_en_place</span><span>|</span><a href="#40765513">prev</a><span>|</span><a href="#40765709">next</a><span>|</span><label class="collapse" for="c-40763954">[-]</label><label class="expand" for="c-40763954">[2 more]</label></div><br/><div class="children"><div class="content">This is an elegant solution to the problem. We don&#x27;t need to treat users as children, but at the same time we should avoid potential foot guns with sensible defaults. I&#x27;d argue that even `su` is not needed, if you need to be root, then login as root via console. This is as close as possible to logging into root from the console tty.</div><br/><div id="40764192" class="c"><input type="checkbox" id="c-40764192" checked=""/><div class="controls bullet"><span class="by">bogantech</span><span>|</span><a href="#40763954">parent</a><span>|</span><a href="#40765709">next</a><span>|</span><label class="collapse" for="c-40764192">[-]</label><label class="expand" for="c-40764192">[1 more]</label></div><br/><div class="children"><div class="content">&gt; if you need to be root, then login as root via console<p>1: This requires every user to have the root password, while sudo does not<p>2: If everyone just logs in as root there&#x27;s no way to audit who actually logged in and did what.</div><br/></div></div></div></div><div id="40765709" class="c"><input type="checkbox" id="c-40765709" checked=""/><div class="controls bullet"><span class="by">ketily</span><span>|</span><a href="#40763954">prev</a><span>|</span><a href="#40764750">next</a><span>|</span><label class="collapse" for="c-40765709">[-]</label><label class="expand" for="c-40765709">[1 more]</label></div><br/><div class="children"><div class="content">This reminds me a little of plam 9 and inferno in treating local resources and network resources with a uniform protocol</div><br/></div></div><div id="40764750" class="c"><input type="checkbox" id="c-40764750" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#40765709">prev</a><span>|</span><a href="#40764548">next</a><span>|</span><label class="collapse" for="c-40764750">[-]</label><label class="expand" for="c-40764750">[1 more]</label></div><br/><div class="children"><div class="content">I did something similar a decade ago (well without the UNIX socket bit, but just a separate sshd listening on localhost only and also no need to deal with SCM_RIGHTS). Nothing good or bad came out of it. I simply got bored and didn&#x27;t bother porting this setup to the next machine.</div><br/></div></div><div id="40764548" class="c"><input type="checkbox" id="c-40764548" checked=""/><div class="controls bullet"><span class="by">gnuser</span><span>|</span><a href="#40764750">prev</a><span>|</span><a href="#40764075">next</a><span>|</span><label class="collapse" for="c-40764548">[-]</label><label class="expand" for="c-40764548">[1 more]</label></div><br/><div class="children"><div class="content">Good stuff. Imagine this though: ssh as user access control using a multiuser system such as gnu&#x2F;linux<p>byw everyone should be using ed25519 or at least 2048+</div><br/></div></div><div id="40764075" class="c"><input type="checkbox" id="c-40764075" checked=""/><div class="controls bullet"><span class="by">xfitm3</span><span>|</span><a href="#40764548">prev</a><span>|</span><a href="#40764492">next</a><span>|</span><label class="collapse" for="c-40764075">[-]</label><label class="expand" for="c-40764075">[1 more]</label></div><br/><div class="children"><div class="content">Fixing things that aren&#x27;t broken. Changing things just because they can be changed. Sometimes boring and stagnant is good.</div><br/></div></div><div id="40764732" class="c"><input type="checkbox" id="c-40764732" checked=""/><div class="controls bullet"><span class="by">RecycledEle</span><span>|</span><a href="#40764492">prev</a><span>|</span><label class="collapse" for="c-40764732">[-]</label><label class="expand" for="c-40764732">[2 more]</label></div><br/><div class="children"><div class="content">It seems like a way for Fed.Gov to know everything we do on our computers.<p>Kill it with fire.</div><br/><div id="40764738" class="c"><input type="checkbox" id="c-40764738" checked=""/><div class="controls bullet"><span class="by">RecycledEle</span><span>|</span><a href="#40764732">parent</a><span>|</span><label class="collapse" for="c-40764738">[-]</label><label class="expand" for="c-40764738">[1 more]</label></div><br/><div class="children"><div class="content">They have some rule hidden somewhere that communications through sockets is less private than things in the terminal.</div><br/></div></div></div></div></div></div></div></div></div></body></html>