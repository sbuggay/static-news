<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1734858060859" as="style"/><link rel="stylesheet" href="styles.css?v=1734858060859"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://engineering.fb.com/2024/12/18/android/translating-java-to-kotlin-at-scale/">Translating 10M lines of Java to Kotlin</a> <span class="domain">(<a href="https://engineering.fb.com">engineering.fb.com</a>)</span></div><div class="subtext"><span>ermatt</span> | <span>98 comments</span></div><br/><div><div id="42483510" class="c"><input type="checkbox" id="c-42483510" checked=""/><div class="controls bullet"><span class="by">aduffy</span><span>|</span><a href="#42484408">next</a><span>|</span><label class="collapse" for="c-42483510">[-]</label><label class="expand" for="c-42483510">[33 more]</label></div><br/><div class="children"><div class="content">I’m skeptical of the value in doing this. There are a mountain of tools like NullAway, ErrorProne, Immutables that make it so much easier to write safe code in Java. New developments in the language like first-class record types improve the DX as well.<p>I think Kotlin helped push Java in the right direction, but at this point it seems like a weaker choice. Spending years to migrate a massive Java code base like this feels like wasted time.</div><br/><div id="42483538" class="c"><input type="checkbox" id="c-42483538" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42483929">next</a><span>|</span><label class="collapse" for="c-42483538">[-]</label><label class="expand" for="c-42483538">[17 more]</label></div><br/><div class="children"><div class="content">I, personally, happen to like writing in Kotlin more than Java - with a lot of experience in both (though admittedly, all? the Java I wrote is in the pre-Streams style).<p>I like:<p><pre><code>  * data class Foo(val theImplementationAndStyleOfDataClasses: String)
  * elvis?.operator?.chaining
  * the order of variable declaration (type afterward)
  * how function pointers at the end of a method call can be auto-inserted as the next curly bracket
  * how you can have fun foo() = returnValue; in one line.
  * fun `method names that can have spaces - and dashes - in them`()
</code></pre>
The preceding 3, combined, allow for:<p><pre><code>  @Test
  fun `much easier testing`() = commonTestSetupWrapper {
    &#x2F;&#x2F; the code under test
  }

  * val immutable by default
</code></pre>
While I agree that Kotlin has definitely helped push Java in the right direction; and I agree that it&#x27;s probably not especially necessary to migrate 10MM lines of Java code to Kotlin, especially since they&#x27;re fully interoperable, I definitely would prefer writing _new_ code in Kotlin over Java for the for-the-lazy devex improvements, if nothing else.<p>fwiw, my &quot;good at it&quot; programming history follows the lineage in historical order of:<p><pre><code>  * Java (8?? years of it including competition programming)
  * C# (5+ years)
  * Python (2016ish to current)
  * Ruby (3-ish years, lots of Rails)
  * Kotlin (2-3 years, through current - written over 40k lines of Kotlin in the last year, alone)</code></pre></div><br/><div id="42483820" class="c"><input type="checkbox" id="c-42483820" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483538">parent</a><span>|</span><a href="#42484017">next</a><span>|</span><label class="collapse" for="c-42483820">[-]</label><label class="expand" for="c-42483820">[9 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  `method names that can have spaces - and dashes - in them`
</code></pre>
Eugh, that is a turnoff. Maybe I have programmer Stockholm’s, but at least with a single connected word, I can always double click to select the token. Maybe, I might have wanted dashes at some point, but spaces seem like a step way too far.</div><br/><div id="42483857" class="c"><input type="checkbox" id="c-42483857" checked=""/><div class="controls bullet"><span class="by">ditn</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483820">parent</a><span>|</span><a href="#42485052">next</a><span>|</span><label class="collapse" for="c-42483857">[-]</label><label class="expand" for="c-42483857">[6 more]</label></div><br/><div class="children"><div class="content">Generally these are only used in test methods, which is fine. I&#x27;ve never seen anyone use them outside that.</div><br/><div id="42484313" class="c"><input type="checkbox" id="c-42484313" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483857">parent</a><span>|</span><a href="#42485052">next</a><span>|</span><label class="collapse" for="c-42484313">[-]</label><label class="expand" for="c-42484313">[5 more]</label></div><br/><div class="children"><div class="content">What benefit do they provide in testing scenarios?  I&#x27;ve never written Kotlin, but from an outsider&#x27;s perspective, it seems like a slim benefit, outweighed by the cost of the mere existence of this syntactical oddity in the language&#x27;s grammar.</div><br/><div id="42484369" class="c"><input type="checkbox" id="c-42484369" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484313">parent</a><span>|</span><a href="#42485052">next</a><span>|</span><label class="collapse" for="c-42484369">[-]</label><label class="expand" for="c-42484369">[4 more]</label></div><br/><div class="children"><div class="content">When writing tests, you can name the methods more useful things, such as:<p><pre><code>  class MyTestableClass {
    fun `methodName - when input does not parse to valid regex throw exception`() {

    }
  }
</code></pre>
It&#x27;s pretty clear what is under test in a situation like that. That&#x27;s basically the only situation I ever see it used in (and would code-smell the heck out of it if I saw it in other circumstances).<p>People who are familiar with RSpec-style testing are very used to this sort of thing.<p><pre><code>  describe MyTestableClass do
    context &#x27;input parsing issues&#x27; do
      context &#x27;when not valid regex&#x27; do
        it &#x27;throws exception&#x27; do
          ...
        end
      end
    end
  end
</code></pre>
Anecdotally, I&#x27;ve also found that such style naming for tests allows me to write out the desired names for all the tests ahead of time more easily and then implement them. That happens to be my flow.</div><br/><div id="42484772" class="c"><input type="checkbox" id="c-42484772" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484369">parent</a><span>|</span><a href="#42484874">next</a><span>|</span><label class="collapse" for="c-42484772">[-]</label><label class="expand" for="c-42484772">[1 more]</label></div><br/><div class="children"><div class="content">I like how tests are made in Python - you don&#x27;t even need classes, just functions, and use a single assert keyword for everything. Also it&#x27;s easy to parametrize them using decorators.</div><br/></div></div><div id="42484874" class="c"><input type="checkbox" id="c-42484874" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484369">parent</a><span>|</span><a href="#42484772">prev</a><span>|</span><a href="#42485052">next</a><span>|</span><label class="collapse" for="c-42484874">[-]</label><label class="expand" for="c-42484874">[2 more]</label></div><br/><div class="children"><div class="content">methodName_whenInputDoesNotParseToValidRegexThrowException<p>They did a study and it isn&#x27;t hard to read camelCase. <a href="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;5090039" rel="nofollow">https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;5090039</a></div><br/><div id="42485120" class="c"><input type="checkbox" id="c-42485120" checked=""/><div class="controls bullet"><span class="by">richbell</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484874">parent</a><span>|</span><a href="#42485052">next</a><span>|</span><label class="collapse" for="c-42485120">[-]</label><label class="expand" for="c-42485120">[1 more]</label></div><br/><div class="children"><div class="content">I mean, it&#x27;s harder to read compared to normal text with spaces and punctuation.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42485052" class="c"><input type="checkbox" id="c-42485052" checked=""/><div class="controls bullet"><span class="by">Freak_NL</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483820">parent</a><span>|</span><a href="#42483857">prev</a><span>|</span><a href="#42484471">next</a><span>|</span><label class="collapse" for="c-42485052">[-]</label><label class="expand" for="c-42485052">[1 more]</label></div><br/><div class="children"><div class="content">While that is avoidable by sticking to a coding style, that horrid and unavoidable &#x27;fun&#x27; instead of &#x27;function&#x27; (or &#x27;fn&#x27;) just saps my will to work on such a codebase.</div><br/></div></div><div id="42484471" class="c"><input type="checkbox" id="c-42484471" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483820">parent</a><span>|</span><a href="#42485052">prev</a><span>|</span><a href="#42484017">next</a><span>|</span><label class="collapse" for="c-42484471">[-]</label><label class="expand" for="c-42484471">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Maybe I have programmer Stockholm’s, but at least with a single connected word, I can always double click to select the token.<p>If you&#x27;re using anything that can do syntax coloring correctly, you can still do that.</div><br/></div></div></div></div><div id="42484017" class="c"><input type="checkbox" id="c-42484017" checked=""/><div class="controls bullet"><span class="by">NIckGeek</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483538">parent</a><span>|</span><a href="#42483820">prev</a><span>|</span><a href="#42484064">next</a><span>|</span><label class="collapse" for="c-42484017">[-]</label><label class="expand" for="c-42484017">[1 more]</label></div><br/><div class="children"><div class="content">fwiw in modern-Java they have data classes:<p><pre><code>  record Foo(String theImplementationAndStyleOfDataClasses) {}
</code></pre>
The string is final. While sadly there is no elvis operator, the Optional type helps:<p><pre><code>  evlis.map(e-&gt;e.operator).map(e-&gt;e.chaining)
</code></pre>
I still strongly dislike working in Java but Java 23 is a long way ahead of the Java 6 I first learnt Java with.</div><br/></div></div><div id="42484064" class="c"><input type="checkbox" id="c-42484064" checked=""/><div class="controls bullet"><span class="by">ncallaway</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483538">parent</a><span>|</span><a href="#42484017">prev</a><span>|</span><a href="#42484131">next</a><span>|</span><label class="collapse" for="c-42484064">[-]</label><label class="expand" for="c-42484064">[2 more]</label></div><br/><div class="children"><div class="content">I also really like conditionals like switches and ifs returning values.</div><br/><div id="42484699" class="c"><input type="checkbox" id="c-42484699" checked=""/><div class="controls bullet"><span class="by">overhead4075</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484064">parent</a><span>|</span><a href="#42484131">next</a><span>|</span><label class="collapse" for="c-42484699">[-]</label><label class="expand" for="c-42484699">[1 more]</label></div><br/><div class="children"><div class="content">Java 14 introduced switch expressions.<p><a href="https:&#x2F;&#x2F;docs.oracle.com&#x2F;en&#x2F;java&#x2F;javase&#x2F;17&#x2F;language&#x2F;switch-expressions-and-statements.html" rel="nofollow">https:&#x2F;&#x2F;docs.oracle.com&#x2F;en&#x2F;java&#x2F;javase&#x2F;17&#x2F;language&#x2F;switch-ex...</a></div><br/></div></div></div></div><div id="42484131" class="c"><input type="checkbox" id="c-42484131" checked=""/><div class="controls bullet"><span class="by">akoboldfrying</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483538">parent</a><span>|</span><a href="#42484064">prev</a><span>|</span><a href="#42483929">next</a><span>|</span><label class="collapse" for="c-42484131">[-]</label><label class="expand" for="c-42484131">[4 more]</label></div><br/><div class="children"><div class="content">Honestly, none of those differences you listed seems especially compelling to me, except possibly for the ?. operator.<p>What <i>would be</i> compelling: Array types that don&#x27;t hate generics, or generic collection types that don&#x27;t hate primitive types. Does Kotlin improve on Java at all here? It&#x27;s such a pain having to remember this bonus complexity when all I want is a consistent way to manage a <i>bunch</i> of <i>things</i>. (I suspect not, as I think the limitations are at the JVM level, but I don&#x27;t know.)</div><br/><div id="42484987" class="c"><input type="checkbox" id="c-42484987" checked=""/><div class="controls bullet"><span class="by">sjrd</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484131">parent</a><span>|</span><a href="#42484247">next</a><span>|</span><label class="collapse" for="c-42484987">[-]</label><label class="expand" for="c-42484987">[1 more]</label></div><br/><div class="children"><div class="content">Scala solves the primitives-in-generics, and it significantly improves on the array-hates-generics.<p>So it&#x27;s possible.</div><br/></div></div><div id="42484247" class="c"><input type="checkbox" id="c-42484247" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484131">parent</a><span>|</span><a href="#42484987">prev</a><span>|</span><a href="#42483929">next</a><span>|</span><label class="collapse" for="c-42484247">[-]</label><label class="expand" for="c-42484247">[2 more]</label></div><br/><div class="children"><div class="content">Out of curiosity, what are you wanting that autoboxing doesn&#x27;t resolve?</div><br/><div id="42484798" class="c"><input type="checkbox" id="c-42484798" checked=""/><div class="controls bullet"><span class="by">kjeetgill</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42484247">parent</a><span>|</span><a href="#42483929">next</a><span>|</span><label class="collapse" for="c-42484798">[-]</label><label class="expand" for="c-42484798">[1 more]</label></div><br/><div class="children"><div class="content">Stripping out Maps&#x2F;Lists with boxed keys and values is the first easy thing to do when perf tuning a piece of code. It&#x27;s so frequently impactful that it&#x27;s worth doing immediately without any measurement.<p>You just swap them out with fastutils or trove and call it a day.</div><br/></div></div></div></div></div></div></div></div><div id="42483929" class="c"><input type="checkbox" id="c-42483929" checked=""/><div class="controls bullet"><span class="by">m0zzie</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42483538">prev</a><span>|</span><a href="#42483649">next</a><span>|</span><label class="collapse" for="c-42483929">[-]</label><label class="expand" for="c-42483929">[2 more]</label></div><br/><div class="children"><div class="content">The value in the conversion of existing code in this particular case isn&#x27;t 100% clear to me either, but I think calling Kotlin a weaker choice than Java at this time is naive, particularly when preceding that with &quot;there are a mountain of tools&quot; that you can bolt on to Java to give it features that are built in to Kotlin.<p>What makes Kotlin such a strong choice for many orgs today is its batteries-included multiplatform capability. We are able to write data models, validation logic, business logic, etc just once and compile to JVM, WASM, and native targets. For orgs with very large codebases and frontend applications (web + iOS + Android) this is an attractive capability because we can have a single codebase for a ton of core functionality, and have each frontend import a library which is native to its own platform.<p>Of course many technologies with this promise have come and gone over the years, but this is the first one with a strong backing that has allowed us to _natively_ interoperate with each target platform.<p>I believe these are all driving factors that have been pushing well known companies, that were previously Java shops, toward Kotlin. If you speak to a broad range of people in the industry you&#x27;ll find many more orgs moving from Java to Kotlin than from Kotlin back to Java. We can simply get more work done with less code and ship to all our frontend platforms, and unless Java can do the same, I don&#x27;t see the industry moving in that direction.</div><br/><div id="42485208" class="c"><input type="checkbox" id="c-42485208" checked=""/><div class="controls bullet"><span class="by">sebazzz</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483929">parent</a><span>|</span><a href="#42483649">next</a><span>|</span><label class="collapse" for="c-42485208">[-]</label><label class="expand" for="c-42485208">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What makes Kotlin such a strong choice for many orgs today is its batteries-included multiplatform capability. We are able to write data models, validation logic, business logic, etc just once and compile to JVM, WASM, and native targets.<p>Not familiar with Kotlin but how does that work? Does it come included with a PAL? Because it you want to be platform agnostic, you can&#x27;t for instance use a Java RegularExpression in your platform agnostic code.</div><br/></div></div></div></div><div id="42483649" class="c"><input type="checkbox" id="c-42483649" checked=""/><div class="controls bullet"><span class="by">spankalee</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42483929">prev</a><span>|</span><a href="#42483702">next</a><span>|</span><label class="collapse" for="c-42483649">[-]</label><label class="expand" for="c-42483649">[1 more]</label></div><br/><div class="children"><div class="content">As long as they&#x27;re already writing new code in Kotlin, translating the existing code makes a ton of sense, if they can do it cost effectively (which is sounds like they did).<p>One of the huge problems with a language migration is that you&#x27;re left with old and new and all the parallel tooling, context switching, and impedance mismatches. There&#x27;s often a claim that the existing code will be migrated eventually, but IME that doesn&#x27;t actually happen with large code bases. Then if there&#x27;s ever a third migration, you&#x27;re left with three languages in play.<p>It&#x27;s much better to aim for 100% migration, as close to 100% automated as possible. Then when you&#x27;re done, you&#x27;re really done. Maintenance, training, and the next migration will be easier.</div><br/></div></div><div id="42483702" class="c"><input type="checkbox" id="c-42483702" checked=""/><div class="controls bullet"><span class="by">halfmatthalfcat</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42483649">prev</a><span>|</span><a href="#42484292">next</a><span>|</span><label class="collapse" for="c-42483702">[-]</label><label class="expand" for="c-42483702">[4 more]</label></div><br/><div class="children"><div class="content">I would argue it was Scala, not Kotlin, that has contributed to the push to make Java “better”.</div><br/><div id="42483817" class="c"><input type="checkbox" id="c-42483817" checked=""/><div class="controls bullet"><span class="by">desiderantes</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483702">parent</a><span>|</span><a href="#42484292">next</a><span>|</span><label class="collapse" for="c-42483817">[-]</label><label class="expand" for="c-42483817">[3 more]</label></div><br/><div class="children"><div class="content">Scala and Groovy were big pushes for Java 7&#x2F;8. Their hypes died down after that release.</div><br/><div id="42483852" class="c"><input type="checkbox" id="c-42483852" checked=""/><div class="controls bullet"><span class="by">marwis</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483817">parent</a><span>|</span><a href="#42484292">next</a><span>|</span><label class="collapse" for="c-42483852">[-]</label><label class="expand" for="c-42483852">[2 more]</label></div><br/><div class="children"><div class="content">Where do you see pattern matching in Kotlin?</div><br/><div id="42484235" class="c"><input type="checkbox" id="c-42484235" checked=""/><div class="controls bullet"><span class="by">totallykvothe</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483852">parent</a><span>|</span><a href="#42484292">next</a><span>|</span><label class="collapse" for="c-42484235">[-]</label><label class="expand" for="c-42484235">[1 more]</label></div><br/><div class="children"><div class="content">In its pattern matching feature</div><br/></div></div></div></div></div></div></div></div><div id="42484292" class="c"><input type="checkbox" id="c-42484292" checked=""/><div class="controls bullet"><span class="by">needlesslygrim</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42483702">prev</a><span>|</span><a href="#42483690">next</a><span>|</span><label class="collapse" for="c-42484292">[-]</label><label class="expand" for="c-42484292">[1 more]</label></div><br/><div class="children"><div class="content">There are, at least in my opinion, many more reasons to use Kotlin than null-safety and data-classes&#x2F;records, especially on Android (Jetpack Compose).</div><br/></div></div><div id="42483690" class="c"><input type="checkbox" id="c-42483690" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42484292">prev</a><span>|</span><a href="#42483745">next</a><span>|</span><label class="collapse" for="c-42483690">[-]</label><label class="expand" for="c-42483690">[5 more]</label></div><br/><div class="children"><div class="content">Is Oracle a factor?<p>Does a Kotlin codebase have more safety from a legal perspective?</div><br/><div id="42483809" class="c"><input type="checkbox" id="c-42483809" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483690">parent</a><span>|</span><a href="#42483760">next</a><span>|</span><label class="collapse" for="c-42483809">[-]</label><label class="expand" for="c-42483809">[2 more]</label></div><br/><div class="children"><div class="content">unless you&#x27;re not using the jvm (which is owned by oracle, despite being opensource), you won&#x27;t have any difference between kotlin and java from a legal perspective tbh.</div><br/><div id="42483971" class="c"><input type="checkbox" id="c-42483971" checked=""/><div class="controls bullet"><span class="by">a57721</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483809">parent</a><span>|</span><a href="#42483760">next</a><span>|</span><label class="collapse" for="c-42483971">[-]</label><label class="expand" for="c-42483971">[1 more]</label></div><br/><div class="children"><div class="content">&gt; unless you&#x27;re not using the jvm (which is owned by oracle, despite being opensource)<p>It&#x27;s not &quot;the JVM&quot;; JVM is a spec that has many implementations, you are probably referring to Oracle JRE&#x2F;JDK.</div><br/></div></div></div></div><div id="42483760" class="c"><input type="checkbox" id="c-42483760" checked=""/><div class="controls bullet"><span class="by">nradov</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483690">parent</a><span>|</span><a href="#42483809">prev</a><span>|</span><a href="#42483745">next</a><span>|</span><label class="collapse" for="c-42483760">[-]</label><label class="expand" for="c-42483760">[2 more]</label></div><br/><div class="children"><div class="content">The legal issues around Java between Alphabet and Oracle are settled at this point and no longer a risk for third-party software vendors. But it&#x27;s pretty clear that Android is moving away from Java, so anyone with a strategic commitment to that platform has to plan around that reality.</div><br/><div id="42484180" class="c"><input type="checkbox" id="c-42484180" checked=""/><div class="controls bullet"><span class="by">retrodaredevil</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483760">parent</a><span>|</span><a href="#42483745">next</a><span>|</span><label class="collapse" for="c-42484180">[-]</label><label class="expand" for="c-42484180">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s safe to say that Android is definitely moving away from Java in terms of new language features. I mean, if you want to support older Android versions and use modern Java features or newer parts of standard libraries, you&#x27;ll usually have to rely on desugaring or making sure you&#x27;re using classes that are supported in Android.<p>IMO, Android is moving away from modern versions of Java. Java and its underlying standard library will always play a big role in Android development.<p>The way I see it, Kotlin makes a lot of sense for Android development because Kotlin can introduce new things in its standard library that make older versions of Java look ancient. It&#x27;s not like you can use new Java features in Android, so using Kotlin makes people not care as much about new features of Java that are only available in modern versions of Java.</div><br/></div></div></div></div></div></div><div id="42483745" class="c"><input type="checkbox" id="c-42483745" checked=""/><div class="controls bullet"><span class="by">nradov</span><span>|</span><a href="#42483510">parent</a><span>|</span><a href="#42483690">prev</a><span>|</span><a href="#42484408">next</a><span>|</span><label class="collapse" for="c-42483745">[-]</label><label class="expand" for="c-42483745">[2 more]</label></div><br/><div class="children"><div class="content">Meta operates at such a large scale that the engineering management decision process becomes qualitatively different from smaller organizations. They can justify enormous investments in keeping their code base fresh for small improvements in productivity and quality.</div><br/><div id="42484851" class="c"><input type="checkbox" id="c-42484851" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#42483510">root</a><span>|</span><a href="#42483745">parent</a><span>|</span><a href="#42484408">next</a><span>|</span><label class="collapse" for="c-42484851">[-]</label><label class="expand" for="c-42484851">[1 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t fresh though. Java has improved a lot and the benefit of Kotlin is dubious.<p>Maybe it has a more PHP-like feel to it. No accounting for taste at that company.</div><br/></div></div></div></div></div></div><div id="42484408" class="c"><input type="checkbox" id="c-42484408" checked=""/><div class="controls bullet"><span class="by">hitekker</span><span>|</span><a href="#42483510">prev</a><span>|</span><a href="#42483603">next</a><span>|</span><label class="collapse" for="c-42484408">[-]</label><label class="expand" for="c-42484408">[4 more]</label></div><br/><div class="children"><div class="content">At my last job, the management greenlighted a full rewrite in Kotlin in order to attract&#x2F;retain developers bored with Java and Python. The actual business project was boring since all the important design work was already finished by the architect. No language rewrite, no interested devs. So management made a quiet trade with ICs where everyone got what they wanted at the cost of future maintenance.<p>I learned that social whims (developer fun, preferences , dopamin) are weighted as much as technical rationales (performance, maintenance)</div><br/><div id="42484433" class="c"><input type="checkbox" id="c-42484433" checked=""/><div class="controls bullet"><span class="by">azemetre</span><span>|</span><a href="#42484408">parent</a><span>|</span><a href="#42483603">next</a><span>|</span><label class="collapse" for="c-42484433">[-]</label><label class="expand" for="c-42484433">[3 more]</label></div><br/><div class="children"><div class="content">How would you say it panned out? Were you able to hire people easily and did retention go up?</div><br/><div id="42484575" class="c"><input type="checkbox" id="c-42484575" checked=""/><div class="controls bullet"><span class="by">hitekker</span><span>|</span><a href="#42484408">root</a><span>|</span><a href="#42484433">parent</a><span>|</span><a href="#42483603">next</a><span>|</span><label class="collapse" for="c-42484575">[-]</label><label class="expand" for="c-42484575">[2 more]</label></div><br/><div class="children"><div class="content">Initially, Kotlin attracted mid-level folks to transfer. I recall a roaming staff engineer who lead the project for a bit, and then wisely rotated outside of the org.<p>Long-term, the folks who remain are stuck and unhappy. The business got what it needed and moved on, leaving a system half in maintenance-mode, half feature-complete. Any Kotlin-only changes are mostly just bug-fixes or glue work with other team&#x27;s SDKs. Any new features carry a lot of risk because the few people motivated to drum up new business (and write up requirements) left or quiet-quit.<p>In a weird way, the project naturally selected for people who would get stuck maintaining the artefacts of the project. It&#x27;s a paradox that I can&#x27;t fully comprehend.</div><br/><div id="42485214" class="c"><input type="checkbox" id="c-42485214" checked=""/><div class="controls bullet"><span class="by">MrDresden</span><span>|</span><a href="#42484408">root</a><span>|</span><a href="#42484575">parent</a><span>|</span><a href="#42483603">next</a><span>|</span><label class="collapse" for="c-42485214">[-]</label><label class="expand" for="c-42485214">[1 more]</label></div><br/><div class="children"><div class="content">[delayed]</div><br/></div></div></div></div></div></div></div></div><div id="42483603" class="c"><input type="checkbox" id="c-42483603" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#42484408">prev</a><span>|</span><a href="#42483661">next</a><span>|</span><label class="collapse" for="c-42483603">[-]</label><label class="expand" for="c-42483603">[13 more]</label></div><br/><div class="children"><div class="content">I have a genuine side question... Why does Meta have 10M lines of Java for their Android code base? What&#x27;s in it?</div><br/><div id="42484938" class="c"><input type="checkbox" id="c-42484938" checked=""/><div class="controls bullet"><span class="by">optymizer</span><span>|</span><a href="#42483603">parent</a><span>|</span><a href="#42483941">next</a><span>|</span><label class="collapse" for="c-42484938">[-]</label><label class="expand" for="c-42484938">[2 more]</label></div><br/><div class="children"><div class="content">(Android dev at Meta here, though not involved with the Kotlin migration. Opinion below, completely my own)<p>We have: public and internal apps, tests for those, tons of wrappers around Android APIs, autogenerated infra code, did I mention the API wrappers?, custom layout engines, duplicate code that people wrote because they couldn&#x27;t be bothered to search the monorepo, code that was copied without much thought because people searched the monorepo and found something, app architecture tools like dependency injectors, annotation processors, custom build tooling, etc<p>If you can think it, someone has probably committed Java&#x2F;Kotlin or native code for it already.</div><br/><div id="42485054" class="c"><input type="checkbox" id="c-42485054" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42484938">parent</a><span>|</span><a href="#42483941">next</a><span>|</span><label class="collapse" for="c-42485054">[-]</label><label class="expand" for="c-42485054">[1 more]</label></div><br/><div class="children"><div class="content">That makes sense. Thanks for the answer.</div><br/></div></div></div></div><div id="42483941" class="c"><input type="checkbox" id="c-42483941" checked=""/><div class="controls bullet"><span class="by">aithrowawaycomm</span><span>|</span><a href="#42483603">parent</a><span>|</span><a href="#42484938">prev</a><span>|</span><a href="#42483624">next</a><span>|</span><label class="collapse" for="c-42483941">[-]</label><label class="expand" for="c-42483941">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a lot of subtlety in what exactly a &quot;line&quot; is, especially for Java and especially for a legacy enterprise codebase: hard to say that Meta&#x27;s 10M is actually twice as big as someone else&#x27;s 5M.<p>I have no clue what&#x27;s in their code, but I would expect a lot of &quot;almost redundant&quot; stuff around specific Android versions, manufacturers, etc, which can really pile up.</div><br/></div></div><div id="42483624" class="c"><input type="checkbox" id="c-42483624" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483603">parent</a><span>|</span><a href="#42483941">prev</a><span>|</span><a href="#42484936">next</a><span>|</span><label class="collapse" for="c-42483624">[-]</label><label class="expand" for="c-42483624">[7 more]</label></div><br/><div class="children"><div class="content">Java&#x27;s how you wrote Android apps before Kotlin came out. I expect they have __all their existing Android code__ in Java. 10MM lines doesn&#x27;t seem out of line for a very, very established company with 100k developers across several products. It&#x27;s one of the 3 main platforms that people interact with Facebook on and so they&#x27;d want it to be as good and as fast as possible, especially on older phones for the time when Android phones were new.</div><br/><div id="42483907" class="c"><input type="checkbox" id="c-42483907" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42483624">parent</a><span>|</span><a href="#42483720">next</a><span>|</span><label class="collapse" for="c-42483907">[-]</label><label class="expand" for="c-42483907">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m well aware of the history of Android, Kotlin and Java. Still my question stand...</div><br/></div></div><div id="42483720" class="c"><input type="checkbox" id="c-42483720" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42483624">parent</a><span>|</span><a href="#42483907">prev</a><span>|</span><a href="#42484936">next</a><span>|</span><label class="collapse" for="c-42483720">[-]</label><label class="expand" for="c-42483720">[5 more]</label></div><br/><div class="children"><div class="content">Why they wouldn&#x27;t use React Native?</div><br/><div id="42483737" class="c"><input type="checkbox" id="c-42483737" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42483720">parent</a><span>|</span><a href="#42484936">next</a><span>|</span><label class="collapse" for="c-42483737">[-]</label><label class="expand" for="c-42483737">[4 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  * Facebook Messenger came out on Android in 2011 [0]
  * React Native came out in 2015 is written in C++, Java, JavaScript, Objective-C, Kotlin [1]
</code></pre>
[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Messenger_(software)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Messenger_(software)</a><p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;React_Native" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;React_Native</a><p>So, even if they did use React Native, they still have 4+ years of code in the original language; and, React Native doesn&#x27;t stop the use of Java</div><br/><div id="42483783" class="c"><input type="checkbox" id="c-42483783" checked=""/><div class="controls bullet"><span class="by">lawgimenez</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42483737">parent</a><span>|</span><a href="#42483785">next</a><span>|</span><label class="collapse" for="c-42483783">[-]</label><label class="expand" for="c-42483783">[2 more]</label></div><br/><div class="children"><div class="content">Most importantly, why was Threads not written in React Native?</div><br/><div id="42483968" class="c"><input type="checkbox" id="c-42483968" checked=""/><div class="controls bullet"><span class="by">Yiin</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42483783">parent</a><span>|</span><a href="#42483785">next</a><span>|</span><label class="collapse" for="c-42483968">[-]</label><label class="expand" for="c-42483968">[1 more]</label></div><br/><div class="children"><div class="content">Because Instagram wasn&#x27;t, and Threads is pretty much a copy pasted Instagram codebase (for good reasons).</div><br/></div></div></div></div><div id="42483785" class="c"><input type="checkbox" id="c-42483785" checked=""/><div class="controls bullet"><span class="by">rycomb</span><span>|</span><a href="#42483603">root</a><span>|</span><a href="#42483737">parent</a><span>|</span><a href="#42483783">prev</a><span>|</span><a href="#42484936">next</a><span>|</span><label class="collapse" for="c-42483785">[-]</label><label class="expand" for="c-42483785">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure wg0 was being facetious.</div><br/></div></div></div></div></div></div></div></div><div id="42484936" class="c"><input type="checkbox" id="c-42484936" checked=""/><div class="controls bullet"><span class="by">Too</span><span>|</span><a href="#42483603">parent</a><span>|</span><a href="#42483624">prev</a><span>|</span><a href="#42484023">next</a><span>|</span><label class="collapse" for="c-42484936">[-]</label><label class="expand" for="c-42484936">[1 more]</label></div><br/><div class="children"><div class="content">All those AbstractContextFizzProviderMetaFactoryBuilderInjectorStreamManager quickly add up.</div><br/></div></div><div id="42484023" class="c"><input type="checkbox" id="c-42484023" checked=""/><div class="controls bullet"><span class="by">smrtinsert</span><span>|</span><a href="#42483603">parent</a><span>|</span><a href="#42484936">prev</a><span>|</span><a href="#42483661">next</a><span>|</span><label class="collapse" for="c-42484023">[-]</label><label class="expand" for="c-42484023">[1 more]</label></div><br/><div class="children"><div class="content">Really the only question I have on this post.  So many of their non ai updates make me roll my eyes</div><br/></div></div></div></div><div id="42483661" class="c"><input type="checkbox" id="c-42483661" checked=""/><div class="controls bullet"><span class="by">valenterry</span><span>|</span><a href="#42483603">prev</a><span>|</span><a href="#42483415">next</a><span>|</span><label class="collapse" for="c-42483661">[-]</label><label class="expand" for="c-42483661">[2 more]</label></div><br/><div class="children"><div class="content">Crazy project.<p>Personally I find that it&#x27;s an interesting indicator of the capability of the programming languages. Moving from language A to B can be extremely easy if B is as powerful or more powerful in terms of expressiveness than A. It can be an absolute horror if it is less powerful.<p>Being not null-safe in fact brings additional expressiveness. I guess most would argue that it&#x27;s not a good type expressiveness. Nonetheless it is a type of expressiveness that can cause trouble during such a transition.<p>In general it feels like Java is making faster progress than Kotlin nowadays. I wonder where Kotlin would be if it weren&#x27;t for Android. I hope those folks don&#x27;t have to migrate back before they even finished.</div><br/><div id="42483740" class="c"><input type="checkbox" id="c-42483740" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#42483661">parent</a><span>|</span><a href="#42483415">next</a><span>|</span><label class="collapse" for="c-42483740">[-]</label><label class="expand" for="c-42483740">[1 more]</label></div><br/><div class="children"><div class="content">Without Android, Kotlin would just be Cool Alternative Language #4721. Java has been a safe, non-controversial pick for decades. Who is going to endorse writing their hot new project in it just because some IDE uses it?
When Google says they support a technology going forward, that gives the project some cache it otherwise never would have received.</div><br/></div></div></div></div><div id="42483415" class="c"><input type="checkbox" id="c-42483415" checked=""/><div class="controls bullet"><span class="by">freeqaz</span><span>|</span><a href="#42483661">prev</a><span>|</span><a href="#42483560">next</a><span>|</span><label class="collapse" for="c-42483415">[-]</label><label class="expand" for="c-42483415">[9 more]</label></div><br/><div class="children"><div class="content">What are the benefits of Kotlin over Java? Something I wish they went into!</div><br/><div id="42483551" class="c"><input type="checkbox" id="c-42483551" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483415">parent</a><span>|</span><a href="#42483705">next</a><span>|</span><label class="collapse" for="c-42483551">[-]</label><label class="expand" for="c-42483551">[3 more]</label></div><br/><div class="children"><div class="content">I commented here: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42483538">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42483538</a><p>Mostly, I find it far less verbose with a couple huge convenience features that I&#x27;m constantly using and would feel very lost without; and, they all come as part of the language, rather than bytecode hacks &#x2F; pre-processors, like lombak</div><br/><div id="42484027" class="c"><input type="checkbox" id="c-42484027" checked=""/><div class="controls bullet"><span class="by">smrtinsert</span><span>|</span><a href="#42483415">root</a><span>|</span><a href="#42483551">parent</a><span>|</span><a href="#42483705">next</a><span>|</span><label class="collapse" for="c-42484027">[-]</label><label class="expand" for="c-42484027">[2 more]</label></div><br/><div class="children"><div class="content">Lombok is absolutely painless.</div><br/><div id="42484268" class="c"><input type="checkbox" id="c-42484268" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483415">root</a><span>|</span><a href="#42484027">parent</a><span>|</span><a href="#42483705">next</a><span>|</span><label class="collapse" for="c-42484268">[-]</label><label class="expand" for="c-42484268">[1 more]</label></div><br/><div class="children"><div class="content">I admit I have no direct experience with it. For my perspective on it, I rely on one of the best developers I&#x27;ve ever worked with - especially when it comes to debugging and deep investigation and she *hates* it. If I had to assume (we don&#x27;t work together anymore), it&#x27;s because it did some freaky stuff that made debugging the weird bugs really, really hard.</div><br/></div></div></div></div></div></div><div id="42483705" class="c"><input type="checkbox" id="c-42483705" checked=""/><div class="controls bullet"><span class="by">TheSociologist</span><span>|</span><a href="#42483415">parent</a><span>|</span><a href="#42483551">prev</a><span>|</span><a href="#42483442">next</a><span>|</span><label class="collapse" for="c-42483705">[-]</label><label class="expand" for="c-42483705">[4 more]</label></div><br/><div class="children"><div class="content">Steve Yegge has a fun article on why someone might prefer kotlin over Java: <a href="http:&#x2F;&#x2F;steve-yegge.blogspot.com&#x2F;2017&#x2F;05&#x2F;why-kotlin-is-better-than-whatever-dumb.html?m=1" rel="nofollow">http:&#x2F;&#x2F;steve-yegge.blogspot.com&#x2F;2017&#x2F;05&#x2F;why-kotlin-is-better...</a><p>Do note that Java has quite a few features now that it didn’t at the time of writing.</div><br/><div id="42483766" class="c"><input type="checkbox" id="c-42483766" checked=""/><div class="controls bullet"><span class="by">billisonline</span><span>|</span><a href="#42483415">root</a><span>|</span><a href="#42483705">parent</a><span>|</span><a href="#42483442">next</a><span>|</span><label class="collapse" for="c-42483766">[-]</label><label class="expand" for="c-42483766">[3 more]</label></div><br/><div class="children"><div class="content">“More specifically, from JetBrains, the makers of the world-famous IntelliJ IDEA IDE, whose primary claim to fame is its lovely orange, green, purple and black &#x27;Darcula&#x27; theme”<p>This must be a bad attempt at a joke, right? Darcula is a nice theme (I personally prefer high contrast), but surely IntelliJ’s code inspection and automatic refactoring have always been its claim to fame.</div><br/><div id="42484032" class="c"><input type="checkbox" id="c-42484032" checked=""/><div class="controls bullet"><span class="by">TheSociologist</span><span>|</span><a href="#42483415">root</a><span>|</span><a href="#42483766">parent</a><span>|</span><a href="#42483922">next</a><span>|</span><label class="collapse" for="c-42484032">[-]</label><label class="expand" for="c-42484032">[1 more]</label></div><br/><div class="children"><div class="content">Yegge’s writing has a pretty sardonic sense of humor. I like it but I’ve seen it put off some folk.</div><br/></div></div><div id="42483922" class="c"><input type="checkbox" id="c-42483922" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42483415">root</a><span>|</span><a href="#42483766">parent</a><span>|</span><a href="#42484032">prev</a><span>|</span><a href="#42483442">next</a><span>|</span><label class="collapse" for="c-42483922">[-]</label><label class="expand" for="c-42483922">[1 more]</label></div><br/><div class="children"><div class="content">Themes are the cup holders of the IDE world. You can&#x27;t sell one without them.</div><br/></div></div></div></div></div></div><div id="42483442" class="c"><input type="checkbox" id="c-42483442" checked=""/><div class="controls bullet"><span class="by">cute_boi</span><span>|</span><a href="#42483415">parent</a><span>|</span><a href="#42483705">prev</a><span>|</span><a href="#42483560">next</a><span>|</span><label class="collapse" for="c-42483442">[-]</label><label class="expand" for="c-42483442">[1 more]</label></div><br/><div class="children"><div class="content">&gt; maximize our gains in developer productivity and null safety<p>Java is to too verbose. Kotlin have features like null safety, better functional programming, better coroutines, advanced sealed classe. Java virtual threads is still not ready and development was very slow. Blame oracle for being too complacent.</div><br/></div></div></div></div><div id="42483560" class="c"><input type="checkbox" id="c-42483560" checked=""/><div class="controls bullet"><span class="by">spullara</span><span>|</span><a href="#42483415">prev</a><span>|</span><a href="#42452641">next</a><span>|</span><label class="collapse" for="c-42483560">[-]</label><label class="expand" for="c-42483560">[5 more]</label></div><br/><div class="children"><div class="content">This seems like a huge waste of time unless they expect Google to deprecate Java on Android - which isn&#x27;t impossible.</div><br/><div id="42484881" class="c"><input type="checkbox" id="c-42484881" checked=""/><div class="controls bullet"><span class="by">lawgimenez</span><span>|</span><a href="#42483560">parent</a><span>|</span><a href="#42483580">next</a><span>|</span><label class="collapse" for="c-42484881">[-]</label><label class="expand" for="c-42484881">[1 more]</label></div><br/><div class="children"><div class="content">You can’t use Jetpack Compose with Java.</div><br/></div></div><div id="42483580" class="c"><input type="checkbox" id="c-42483580" checked=""/><div class="controls bullet"><span class="by">politelemon</span><span>|</span><a href="#42483560">parent</a><span>|</span><a href="#42484881">prev</a><span>|</span><a href="#42452641">next</a><span>|</span><label class="collapse" for="c-42483580">[-]</label><label class="expand" for="c-42483580">[3 more]</label></div><br/><div class="children"><div class="content">Some of the newer material libraries are kotlin only. It does seem to be happening.</div><br/><div id="42483724" class="c"><input type="checkbox" id="c-42483724" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#42483560">root</a><span>|</span><a href="#42483580">parent</a><span>|</span><a href="#42452641">next</a><span>|</span><label class="collapse" for="c-42483724">[-]</label><label class="expand" for="c-42483724">[2 more]</label></div><br/><div class="children"><div class="content">Kotlin can&#x27;t be called from Java land?</div><br/><div id="42483913" class="c"><input type="checkbox" id="c-42483913" checked=""/><div class="controls bullet"><span class="by">senorrib</span><span>|</span><a href="#42483560">root</a><span>|</span><a href="#42483724">parent</a><span>|</span><a href="#42452641">next</a><span>|</span><label class="collapse" for="c-42483913">[-]</label><label class="expand" for="c-42483913">[1 more]</label></div><br/><div class="children"><div class="content">It can.</div><br/></div></div></div></div></div></div></div></div><div id="42483657" class="c"><input type="checkbox" id="c-42483657" checked=""/><div class="controls bullet"><span class="by">neocron</span><span>|</span><a href="#42452641">prev</a><span>|</span><a href="#42483436">next</a><span>|</span><label class="collapse" for="c-42483657">[-]</label><label class="expand" for="c-42483657">[2 more]</label></div><br/><div class="children"><div class="content">Ah, here we go again with HHVM and Hack ...<p>The only reason fb is able to do this, is the billions of $ behind it... For everyone else this is just pure idiocy<p>Sure if you like Kotlin, use it for new software, but rewriting milliona loc for some marginal gains... that how businesses fail more often than not</div><br/><div id="42483812" class="c"><input type="checkbox" id="c-42483812" checked=""/><div class="controls bullet"><span class="by">forgot_old_user</span><span>|</span><a href="#42483657">parent</a><span>|</span><a href="#42483436">next</a><span>|</span><label class="collapse" for="c-42483812">[-]</label><label class="expand" for="c-42483812">[1 more]</label></div><br/><div class="children"><div class="content">I think its great for recruiting. This signals to the world their investment in making Devs happier (one of top two reasons mentioned was &quot;devs were happier with Kotlin&quot;)</div><br/></div></div></div></div><div id="42483436" class="c"><input type="checkbox" id="c-42483436" checked=""/><div class="controls bullet"><span class="by">latenightcoding</span><span>|</span><a href="#42483657">prev</a><span>|</span><a href="#42483464">next</a><span>|</span><label class="collapse" for="c-42483436">[-]</label><label class="expand" for="c-42483436">[8 more]</label></div><br/><div class="children"><div class="content">&gt; we decided that the only way to leverage the full value of Kotlin was to go all in on conversion<p>Could someone expand on this please.</div><br/><div id="42483541" class="c"><input type="checkbox" id="c-42483541" checked=""/><div class="controls bullet"><span class="by">acaloiar</span><span>|</span><a href="#42483436">parent</a><span>|</span><a href="#42483459">next</a><span>|</span><label class="collapse" for="c-42483541">[-]</label><label class="expand" for="c-42483541">[2 more]</label></div><br/><div class="children"><div class="content">In addition to what @phyrex already pointed out, without any Java in the code base, they probably hope to hire from a different cohort of job seekers.<p>Younger developers are far less likely to know Java today than Kotlin, since Kotlin has been the lingua franca for Android development for quite some time. Mobile developers skew younger, and younger developers skew cheaper.<p>With Java out of the code base they can hire &quot;Kotlin developers&quot; wanting to work in a &quot;modern code base&quot;.<p>I&#x27;m not suggesting there&#x27;s something malevolent about this, but I&#x27;d be surprised if it wasn&#x27;t a goal.</div><br/><div id="42483593" class="c"><input type="checkbox" id="c-42483593" checked=""/><div class="controls bullet"><span class="by">trollbridge</span><span>|</span><a href="#42483436">root</a><span>|</span><a href="#42483541">parent</a><span>|</span><a href="#42483459">next</a><span>|</span><label class="collapse" for="c-42483593">[-]</label><label class="expand" for="c-42483593">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;re on to something here. When recruiters contact me about Java jobs, I tell them my level of interest in a Java job is about as high as RPG or COBOL, and that I&#x27;m wary of spending time on a &quot;legacy&quot; technology. Most of them are fairly understanding of that sentiment, too.<p>If I had someone call me about Kotlin, I would assume the people hiring are more interested in the future than being stuck in the past.</div><br/></div></div></div></div><div id="42483459" class="c"><input type="checkbox" id="c-42483459" checked=""/><div class="controls bullet"><span class="by">phyrex</span><span>|</span><a href="#42483436">parent</a><span>|</span><a href="#42483541">prev</a><span>|</span><a href="#42483464">next</a><span>|</span><label class="collapse" for="c-42483459">[-]</label><label class="expand" for="c-42483459">[5 more]</label></div><br/><div class="children"><div class="content">From the article:<p>&gt; The short answer is that any remaining Java code can be an agent of nullability chaos, especially if it’s not null safe and even more so if it’s central to the dependency graph. (For a more detailed explanation, see the section below on null safety.)</div><br/><div id="42483599" class="c"><input type="checkbox" id="c-42483599" checked=""/><div class="controls bullet"><span class="by">trollbridge</span><span>|</span><a href="#42483436">root</a><span>|</span><a href="#42483459">parent</a><span>|</span><a href="#42483464">next</a><span>|</span><label class="collapse" for="c-42483599">[-]</label><label class="expand" for="c-42483599">[4 more]</label></div><br/><div class="children"><div class="content">One of my biggest gripes with an otherwise strictly typed language like Java was deciding to allow nulls. It is particularly annoying since implementing something like NullableTypes would have been quite trivial in Java.</div><br/><div id="42483626" class="c"><input type="checkbox" id="c-42483626" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42483436">root</a><span>|</span><a href="#42483599">parent</a><span>|</span><a href="#42483464">next</a><span>|</span><label class="collapse" for="c-42483626">[-]</label><label class="expand" for="c-42483626">[3 more]</label></div><br/><div class="children"><div class="content">Would it have been trivial and obvious for Java (and would Java still have been &quot;not scary&quot;) back in the 90s when it came out?</div><br/><div id="42483679" class="c"><input type="checkbox" id="c-42483679" checked=""/><div class="controls bullet"><span class="by">nradov</span><span>|</span><a href="#42483436">root</a><span>|</span><a href="#42483626">parent</a><span>|</span><a href="#42483464">next</a><span>|</span><label class="collapse" for="c-42483679">[-]</label><label class="expand" for="c-42483679">[2 more]</label></div><br/><div class="children"><div class="content">It wouldn&#x27;t have been particularly hard from a language, standard library, and virtual machine perspective. It would have made converting legacy C++ programmers harder (scarier). Back then the average developer had a higher tolerance for defects because the consequences seemed less severe. It was common to intentionally use null variables to indicate failures or other special meanings. It seemed like a good idea at the time</div><br/><div id="42483703" class="c"><input type="checkbox" id="c-42483703" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#42483436">root</a><span>|</span><a href="#42483679">parent</a><span>|</span><a href="#42483464">next</a><span>|</span><label class="collapse" for="c-42483703">[-]</label><label class="expand" for="c-42483703">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>It would have made converting legacy C++ programmers harder (scarier).</i><p>And that, right there, is all the reason they needed back then.  Sun wanted C++ developers (and C developers, to some extent) to switch to Java.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42483464" class="c"><input type="checkbox" id="c-42483464" checked=""/><div class="controls bullet"><span class="by">mukunda_johnson</span><span>|</span><a href="#42483436">prev</a><span>|</span><a href="#42483516">next</a><span>|</span><label class="collapse" for="c-42483464">[-]</label><label class="expand" for="c-42483464">[1 more]</label></div><br/><div class="children"><div class="content">Wait a minute, this isn&#x27;t an AI article...</div><br/></div></div><div id="42483516" class="c"><input type="checkbox" id="c-42483516" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42483464">prev</a><span>|</span><a href="#42484445">next</a><span>|</span><label class="collapse" for="c-42483516">[-]</label><label class="expand" for="c-42483516">[8 more]</label></div><br/><div class="children"><div class="content">This article absolutely <i>reeks</i> of ChatGPT to me. For example:<p>&gt;With this in mind, we set out to automate the conversion process and minimize interference with our developers’ daily work. The result was a tool we call the Kotlinator that we built around J2K. It’s now comprised of six phases:<p>followed by a list of descriptions of the &quot;phases&quot; which only sort of make sense for the name given to them, and are utterly incoherent as actual phases in a process (and grammatically inconsistent). For example, one of the cited &quot;phases&quot; is... &quot;headless J2K&quot;. In other words: they have one piece of software that wraps another, and it - gasp - <i>doesn&#x27;t</i> use the wrapped software&#x27;s GUI. Aside from being entirely unremarkable, that&#x27;s neither a phase in a process <i>nor a component of a tool</i>. It&#x27;s a <i>fact about</i> the component.<p>LLMs write like this all the time - and it&#x27;s clear evidence that they do not, in fact, do anything like <i>reasoning</i>, even if they can sometimes be manipulated into generating a second piece of text that resembles an analysis of the first one. The resulting description is so weird that I question whether the authors actually checked the LLM&#x27;s output for accuracy.<p>Any human writer who <i>gives a damn about good writing</i> and has any skill, would not allow &quot;it&quot; to refer to &quot;the conversion process&quot; two sentences back when &quot;a tool called the Kotlinator&quot; has been introduced in the interim (or, if that were the intended referent, would notice that tools are not &quot;comprised of phases&quot;). Such a writer would also not come up with abominations like &quot;the conversion process is now comprised of six phases&quot; where &quot;we now use a six-phase conversion process&quot; would be much clearer. Certainly, a six-point bullet list produced by a competent writer would label them in a grammatically consistent way (<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Parallelism_(grammar)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Parallelism_(grammar)</a>) - not with an abstract noun describing an action, two participles, two concrete (well, as concrete as software ever is) nouns and a command (who, exactly, is being told to &quot;build&quot; the &quot;error-based fixes&quot; - whatever that means - here?).<p>I&#x27;m starting to feel like Mark Twain.<p>----<p>On the other hand, I was cynically expecting some mention of using AI for the <i>actual task</i>, and that doesn&#x27;t seem to be the case.<p>(Also, the &quot;reactive&quot; web design is broken. The page overflows horizontally for some range of window widths, without causing a horizontal scrollbar to be added.)</div><br/><div id="42483561" class="c"><input type="checkbox" id="c-42483561" checked=""/><div class="controls bullet"><span class="by">LegionMammal978</span><span>|</span><a href="#42483516">parent</a><span>|</span><a href="#42483630">next</a><span>|</span><label class="collapse" for="c-42483561">[-]</label><label class="expand" for="c-42483561">[2 more]</label></div><br/><div class="children"><div class="content">Calling it a &#x27;phase&#x27; doesn&#x27;t seem that weird to me? For each file, they go through a number of steps to translate it, and one of those steps is to run the J2K tool on it. The next section is just describing how they implemented that step: the J2K tool is normally enmeshed into the rest of the IDE, but they managed to jerry-rig a solution to run the relevant code by itself, without running the rest of the IDE with it every time.</div><br/><div id="42483614" class="c"><input type="checkbox" id="c-42483614" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42483516">root</a><span>|</span><a href="#42483561">parent</a><span>|</span><a href="#42483630">next</a><span>|</span><label class="collapse" for="c-42483614">[-]</label><label class="expand" for="c-42483614">[1 more]</label></div><br/><div class="children"><div class="content">It could possibly make sense if the phases were described as e.g. &quot;performing a deep build, preprocessing, running J2K, postprocessing, linting and applying error-based fixes&quot; (i.e., all participles). But then the descriptions should be about how those phases are implemented (i.e., <i>this</i> is the place to mention the work of setting up a headless version of J2K so that it could be run in an automated pipeline) and how they contribute to getting the desired result. The description &quot;The J2K we know and love, but server-friendly!&quot; is utterly useless here, and also practically the archetype of what ChatGPT writes in &quot;promotional material&quot; mode.</div><br/></div></div></div></div><div id="42483630" class="c"><input type="checkbox" id="c-42483630" checked=""/><div class="controls bullet"><span class="by">Philpax</span><span>|</span><a href="#42483516">parent</a><span>|</span><a href="#42483561">prev</a><span>|</span><a href="#42483611">next</a><span>|</span><label class="collapse" for="c-42483630">[-]</label><label class="expand" for="c-42483630">[1 more]</label></div><br/><div class="children"><div class="content">You are tilting at windmills. The article exhibits the kind of English I&#x27;d expect from someone sharing a technical development in an acceptably-perfunctory style for a company blog.</div><br/></div></div><div id="42483539" class="c"><input type="checkbox" id="c-42483539" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#42483516">parent</a><span>|</span><a href="#42483611">prev</a><span>|</span><a href="#42483625">next</a><span>|</span><label class="collapse" for="c-42483539">[-]</label><label class="expand" for="c-42483539">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  cynically expecting some mention of using AI for the actual task<p>Well, you could combine AI with correctness preserving transformations, so you get the best of both worlds (i.e., correctness AND a translation that keeps the resulting code close to what a human would write).</div><br/></div></div><div id="42483625" class="c"><input type="checkbox" id="c-42483625" checked=""/><div class="controls bullet"><span class="by">spankalee</span><span>|</span><a href="#42483516">parent</a><span>|</span><a href="#42483539">prev</a><span>|</span><a href="#42484445">next</a><span>|</span><label class="collapse" for="c-42483625">[-]</label><label class="expand" for="c-42483625">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s not a &quot;phase&quot; about running J2K?</div><br/><div id="42483799" class="c"><input type="checkbox" id="c-42483799" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42483516">root</a><span>|</span><a href="#42483625">parent</a><span>|</span><a href="#42484445">next</a><span>|</span><label class="collapse" for="c-42483799">[-]</label><label class="expand" for="c-42483799">[1 more]</label></div><br/><div class="children"><div class="content">The phase is, as you say, (the act of) <i>running</i> J2K - not a property (being headless) of the J2K implementation used.</div><br/></div></div></div></div></div></div><div id="42483823" class="c"><input type="checkbox" id="c-42483823" checked=""/><div class="controls bullet"><span class="by">nutanc</span><span>|</span><a href="#42484445">prev</a><span>|</span><a href="#42483634">next</a><span>|</span><label class="collapse" for="c-42483823">[-]</label><label class="expand" for="c-42483823">[3 more]</label></div><br/><div class="children"><div class="content">I am surprised they did not use LLMs like Claude or maybe even train their own Llama version to do this. In my experience LLMs have been very reliable in translating code.</div><br/><div id="42484476" class="c"><input type="checkbox" id="c-42484476" checked=""/><div class="controls bullet"><span class="by">snovymgodym</span><span>|</span><a href="#42483823">parent</a><span>|</span><a href="#42483928">next</a><span>|</span><label class="collapse" for="c-42484476">[-]</label><label class="expand" for="c-42484476">[1 more]</label></div><br/><div class="children"><div class="content">It seems pretty obvious to me why deterministic code translation is preferable for something like this.</div><br/></div></div><div id="42483928" class="c"><input type="checkbox" id="c-42483928" checked=""/><div class="controls bullet"><span class="by">lazide</span><span>|</span><a href="#42483823">parent</a><span>|</span><a href="#42484476">prev</a><span>|</span><a href="#42483634">next</a><span>|</span><label class="collapse" for="c-42483928">[-]</label><label class="expand" for="c-42483928">[1 more]</label></div><br/><div class="children"><div class="content">There is zero chance they’d end up with a functional code base after attempting to do this.</div><br/></div></div></div></div><div id="42483634" class="c"><input type="checkbox" id="c-42483634" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#42483823">prev</a><span>|</span><label class="collapse" for="c-42483634">[-]</label><label class="expand" for="c-42483634">[7 more]</label></div><br/><div class="children"><div class="content">&quot;Android development at Meta has been Kotlin-first since 2020, and developers have been saying they prefer Kotlin as a language for even longer.&quot;<p>Not one link to an opinion piece or two regarding: &quot;kotlin vs java&quot;.  The nearest thing I found was &quot;What makes Kotlin different&quot;.<p>This sounds somewhat like a debate about which Germanic language is best.  German, Dutch and English are all &quot;Germanic&quot; but which is &quot;best&quot;?<p>Obviously: That&#x27;s the wrong question to ask and so an answer is doomed to failure.<p>In the end, does your generated machine code implore the CPU and associated hardware to do what you want it to more efficiently in some way that is not an abstraction?<p>Pissing contests rarely excite me.  Why did you do this?</div><br/><div id="42483733" class="c"><input type="checkbox" id="c-42483733" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#42483634">parent</a><span>|</span><a href="#42483660">next</a><span>|</span><label class="collapse" for="c-42483733">[-]</label><label class="expand" for="c-42483733">[3 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Why did you do this?</i><p>You literally quoted the &quot;why&quot;: their developers prefer writing Kotlin over Java for Android development.  That&#x27;s it.  They don&#x27;t need further justification.  They didn&#x27;t need a &quot;Kotlin vs. Java&quot; comparison, and they&#x27;re not really evangelizing Kotlin all that much.  They&#x27;re simply stating a fact <i>for their organization</i>: Kotlin is a better fit for their developers than Java is.<p>&gt; <i>In the end, does your generated machine code implore the CPU and associated hardware to do what you want it to more efficiently in some way that is not an abstraction?</i><p>Most shops don&#x27;t care about this too much.  The most important thing is developer productivity.<p>(And yes, this is why we have bloated garbage like Electron these days; sometimes some people value developer productivity to unhealthy extremes.)</div><br/><div id="42483808" class="c"><input type="checkbox" id="c-42483808" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#42483634">root</a><span>|</span><a href="#42483733">parent</a><span>|</span><a href="#42483660">next</a><span>|</span><label class="collapse" for="c-42483808">[-]</label><label class="expand" for="c-42483808">[2 more]</label></div><br/><div class="children"><div class="content">So why bother posting on HN if it was inevitable?</div><br/><div id="42483984" class="c"><input type="checkbox" id="c-42483984" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#42483634">root</a><span>|</span><a href="#42483808">parent</a><span>|</span><a href="#42483660">next</a><span>|</span><label class="collapse" for="c-42483984">[-]</label><label class="expand" for="c-42483984">[1 more]</label></div><br/><div class="children"><div class="content">Seems to me the article focused on how they did this big job, rather than why.</div><br/></div></div></div></div></div></div><div id="42483660" class="c"><input type="checkbox" id="c-42483660" checked=""/><div class="controls bullet"><span class="by">troad</span><span>|</span><a href="#42483634">parent</a><span>|</span><a href="#42483733">prev</a><span>|</span><a href="#42484120">next</a><span>|</span><label class="collapse" for="c-42483660">[-]</label><label class="expand" for="c-42483660">[1 more]</label></div><br/><div class="children"><div class="content">I think a pissing contest is precisely what they were hoping to avoid by not linking to some &quot;Kotlin v Java&quot; blog post. That their developers prefer writing in Kotlin is a basic premise for the rest of the article, not its thesis.</div><br/></div></div><div id="42484120" class="c"><input type="checkbox" id="c-42484120" checked=""/><div class="controls bullet"><span class="by">occz</span><span>|</span><a href="#42483634">parent</a><span>|</span><a href="#42483660">prev</a><span>|</span><a href="#42483635">next</a><span>|</span><label class="collapse" for="c-42484120">[-]</label><label class="expand" for="c-42484120">[1 more]</label></div><br/><div class="children"><div class="content">The target audience for this kind of article - Android engineers - do not need any more convincing on why Kotlin is superior to Java. This is a debate that has been settled in the Android community since a long time ago. I&#x27;d be willing to bet money on there only being a rounding error of Android engineers advocating the use of Java over Kotlin these days.</div><br/></div></div><div id="42483635" class="c"><input type="checkbox" id="c-42483635" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#42483634">parent</a><span>|</span><a href="#42484120">prev</a><span>|</span><label class="collapse" for="c-42483635">[-]</label><label class="expand" for="c-42483635">[1 more]</label></div><br/><div class="children"><div class="content">Blimey, DV&#x27;d within seconds!</div><br/></div></div></div></div></div></div></div></div></div></body></html>