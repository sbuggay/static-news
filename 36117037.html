<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1685437257244" as="style"/><link rel="stylesheet" href="styles.css?v=1685437257244"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://minigdx.github.io/tiny/">Show HN: Tiny – A 2D Game Engine in Kotlin Working with Lua</a> <span class="domain">(<a href="https://minigdx.github.io">minigdx.github.io</a>)</span></div><div class="subtext"><span>dwursteisen</span> | <span>21 comments</span></div><br/><div><div id="36121981" class="c"><input type="checkbox" id="c-36121981" checked=""/><div class="controls bullet"><span class="by">bodge5000</span><span>|</span><a href="#36120686">next</a><span>|</span><label class="collapse" for="c-36121981">[-]</label><label class="expand" for="c-36121981">[1 more]</label></div><br/><div class="children"><div class="content">Feels like we&#x27;ve been getting a lot more fantasy-console-style frameworks&#x2F;engines lately and I&#x27;ve gotta say I&#x27;m all for it. Not sure this one is for me, but love to see it regardless!</div><br/></div></div><div id="36120686" class="c"><input type="checkbox" id="c-36120686" checked=""/><div class="controls bullet"><span class="by">codazoda</span><span>|</span><a href="#36121981">prev</a><span>|</span><a href="#36118725">next</a><span>|</span><label class="collapse" for="c-36120686">[-]</label><label class="expand" for="c-36120686">[2 more]</label></div><br/><div class="children"><div class="content">Nice work. I was just looking at that other Lua game engine outlined in that post about simple coding. The first thing I wondered was how to handle resolution. It wasn’t clear to me in the docs for that older game engine. It’s one of the early things you mention in your docs. I think I’ll give this a try.<p>I have never created a game but I built a hobby slot machine cabinet and I need to build the game. The attached TV is 1080P turned in portrait mode. I’ve hidden a raspberry pi in the cabinet but I could use anything.</div><br/><div id="36122202" class="c"><input type="checkbox" id="c-36122202" checked=""/><div class="controls bullet"><span class="by">dwursteisen</span><span>|</span><a href="#36120686">parent</a><span>|</span><a href="#36118725">next</a><span>|</span><label class="collapse" for="c-36122202">[-]</label><label class="expand" for="c-36122202">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t build Tiny for performance, I&#x27;m afraid that you might get poor performance. But you can git it a try!</div><br/></div></div></div></div><div id="36118725" class="c"><input type="checkbox" id="c-36118725" checked=""/><div class="controls bullet"><span class="by">xigency</span><span>|</span><a href="#36120686">prev</a><span>|</span><a href="#36120032">next</a><span>|</span><label class="collapse" for="c-36118725">[-]</label><label class="expand" for="c-36118725">[3 more]</label></div><br/><div class="children"><div class="content">Looks pretty cool. I’m curious how Lua scripting support is handled for the web platform. There have been one or two different projects for Lua support on the web in the past.</div><br/><div id="36119300" class="c"><input type="checkbox" id="c-36119300" checked=""/><div class="controls bullet"><span class="by">mometsi</span><span>|</span><a href="#36118725">parent</a><span>|</span><a href="#36120032">next</a><span>|</span><label class="collapse" for="c-36119300">[-]</label><label class="expand" for="c-36119300">[2 more]</label></div><br/><div class="children"><div class="content">Looks like it uses luaj to run scripts from kotlin, and the whole kotlin project can use the Kotlin&#x2F;JS compiler to target the browser.</div><br/><div id="36122172" class="c"><input type="checkbox" id="c-36122172" checked=""/><div class="controls bullet"><span class="by">dwursteisen</span><span>|</span><a href="#36118725">root</a><span>|</span><a href="#36119300">parent</a><span>|</span><a href="#36120032">next</a><span>|</span><label class="collapse" for="c-36122172">[-]</label><label class="expand" for="c-36122172">[1 more]</label></div><br/><div class="children"><div class="content">Actually, it&#x27;s using Luak (<a href="https:&#x2F;&#x2F;github.com&#x2F;korlibs&#x2F;korge-luak">https:&#x2F;&#x2F;github.com&#x2F;korlibs&#x2F;korge-luak</a>).
It&#x27;s a port of LuaJ for Kotlin Multiplatform.</div><br/></div></div></div></div></div></div><div id="36120032" class="c"><input type="checkbox" id="c-36120032" checked=""/><div class="controls bullet"><span class="by">cies</span><span>|</span><a href="#36118725">prev</a><span>|</span><a href="#36119132">next</a><span>|</span><label class="collapse" for="c-36120032">[-]</label><label class="expand" for="c-36120032">[3 more]</label></div><br/><div class="children"><div class="content">Kotlin is pretty nice as a language: quite strong type system, good tooling (like JetBrain&#x27;s IDEA Community), terse, supports functional programming quite well, etc.<p>Lua OTOH is not so much a favorite of mine. Could I use this without Lua, just using Kotlin throughout?</div><br/><div id="36122179" class="c"><input type="checkbox" id="c-36122179" checked=""/><div class="controls bullet"><span class="by">dwursteisen</span><span>|</span><a href="#36120032">parent</a><span>|</span><a href="#36121089">next</a><span>|</span><label class="collapse" for="c-36122179">[-]</label><label class="expand" for="c-36122179">[1 more]</label></div><br/><div class="children"><div class="content">Not a the time.<p>If you want to try Kotlin for creating games, I advise to check other game engine:<p>- <a href="https:&#x2F;&#x2F;littlekt.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;littlekt.com&#x2F;</a> (LittleKt (Little Kotlin) is a multiplatform 2D game framework written in Kotlin)<p>- <a href="https:&#x2F;&#x2F;korge.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;korge.org&#x2F;</a> (Korge - Modern Multiplatform Game Engine for Kotlin.)
- <a href="https:&#x2F;&#x2F;github.com&#x2F;minigdx&#x2F;minigdx">https:&#x2F;&#x2F;github.com&#x2F;minigdx&#x2F;minigdx</a> (Minigdx - Minimalist Game Framework using Kotlin Multiplatform &#x2F; I created it before creating Tiny)
- <a href="https:&#x2F;&#x2F;libgdx.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;libgdx.com&#x2F;</a> (LibGDX, it&#x27;s for Java but you can use Kotlin, if you don&#x27;t want to target the web platform)</div><br/></div></div></div></div><div id="36119132" class="c"><input type="checkbox" id="c-36119132" checked=""/><div class="controls bullet"><span class="by">bullen</span><span>|</span><a href="#36120032">prev</a><span>|</span><label class="collapse" for="c-36119132">[-]</label><label class="expand" for="c-36119132">[11 more]</label></div><br/><div class="children"><div class="content">Why not just use Java and hot deploy on the JVM?</div><br/><div id="36119159" class="c"><input type="checkbox" id="c-36119159" checked=""/><div class="controls bullet"><span class="by">gavinray</span><span>|</span><a href="#36119132">parent</a><span>|</span><label class="collapse" for="c-36119159">[-]</label><label class="expand" for="c-36119159">[10 more]</label></div><br/><div class="children"><div class="content">It&#x27;s in the first like 20 words of the post:<p><pre><code>  &gt; The engine was created using Kotlin *Multiplatform* and can run on a JVM and JS.
</code></pre>
Kotlin allows you to have a single codebase that compiles and runs on:<p>- JVM<p>- WASM<p>- JS<p>- Native Windows&#x2F;Linux&#x2F;Mac (LLVM)<p>- Android, iOS&#x2F;tvOS&#x2F;watchOS<p>This is disregarding any notions about the language benefits of Kotlin vs Java.</div><br/><div id="36119194" class="c"><input type="checkbox" id="c-36119194" checked=""/><div class="controls bullet"><span class="by">bullen</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119159">parent</a><span>|</span><label class="collapse" for="c-36119194">[-]</label><label class="expand" for="c-36119194">[9 more]</label></div><br/><div class="children"><div class="content">Oh, ok I thought the demo was a picture because nothing happended when you clicked the thing...<p>The JS version has very high latency. How does it work under the hood?<p>Can the same pipeline port Java Applets to WASM&#x2F;JS?</div><br/><div id="36122394" class="c"><input type="checkbox" id="c-36122394" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119194">parent</a><span>|</span><a href="#36119235">next</a><span>|</span><label class="collapse" for="c-36122394">[-]</label><label class="expand" for="c-36122394">[1 more]</label></div><br/><div class="children"><div class="content">Not sure about Kotlin, but there is alreadt CheerpJ that can run Java applets unmodified both as normal JS, or as WASM.<p>For non-applets there is even more possibilities: there is google’s closure compiler and teawm, both can produce really great code!</div><br/></div></div><div id="36119235" class="c"><input type="checkbox" id="c-36119235" checked=""/><div class="controls bullet"><span class="by">gavinray</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119194">parent</a><span>|</span><a href="#36122394">prev</a><span>|</span><a href="#36119220">next</a><span>|</span><label class="collapse" for="c-36119235">[-]</label><label class="expand" for="c-36119235">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; How does it work under the hood?
</code></pre>
The Kotlin is transpiled to JavaScript by the Kotlin compiler:<p><a href="https:&#x2F;&#x2F;kotlinlang.org&#x2F;docs&#x2F;js-overview.html" rel="nofollow">https:&#x2F;&#x2F;kotlinlang.org&#x2F;docs&#x2F;js-overview.html</a></div><br/></div></div><div id="36119220" class="c"><input type="checkbox" id="c-36119220" checked=""/><div class="controls bullet"><span class="by">gavinray</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119194">parent</a><span>|</span><a href="#36119235">prev</a><span>|</span><label class="collapse" for="c-36119220">[-]</label><label class="expand" for="c-36119220">[6 more]</label></div><br/><div class="children"><div class="content">It literally is the first thing you see.<p>The docs at <a href="https:&#x2F;&#x2F;minigdx.github.io&#x2F;tiny&#x2F;" rel="nofollow">https:&#x2F;&#x2F;minigdx.github.io&#x2F;tiny&#x2F;</a> have a demo &quot;BREAKOUT&quot; game embedded in the page under the first paragraph with a link to the source code lol<p>Screenshot for reference: <a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;TVzQwiu.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;TVzQwiu.png</a></div><br/><div id="36119250" class="c"><input type="checkbox" id="c-36119250" checked=""/><div class="controls bullet"><span class="by">bullen</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119220">parent</a><span>|</span><label class="collapse" for="c-36119250">[-]</label><label class="expand" for="c-36119250">[5 more]</label></div><br/><div class="children"><div class="content">I think it would be more interesting to expose how the bytecode becomes JS.<p>But I guess I&#x27;ll dig through at some point...<p>nm, that breakout (that you could run on a 6502) maxxes a 15W modern CPU core. That&#x27;s 10.000x less efficient.</div><br/><div id="36122271" class="c"><input type="checkbox" id="c-36122271" checked=""/><div class="controls bullet"><span class="by">nottorp</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119250">parent</a><span>|</span><a href="#36119325">next</a><span>|</span><label class="collapse" for="c-36122271">[-]</label><label class="expand" for="c-36122271">[1 more]</label></div><br/><div class="children"><div class="content">browser games no have fps limiter and&#x2F;or vsync?<p>oh i forgot, 2000 fps is good for bragging rights</div><br/></div></div><div id="36119325" class="c"><input type="checkbox" id="c-36119325" checked=""/><div class="controls bullet"><span class="by">gavinray</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119250">parent</a><span>|</span><a href="#36122271">prev</a><span>|</span><label class="collapse" for="c-36119325">[-]</label><label class="expand" for="c-36119325">[3 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; I think it would be more interesting to expose how the bytecode becomes JS.
</code></pre>
There&#x27;s no bytecode emitted -- Kotlin is unique among JVM languages in that it acts more like a frontend, similar to LLVM or GCC.<p>The Kotlin code is translated from an IR&#x2F;AST into JS directly. The JS is one of many target languages for the Kotlin compiler.<p><pre><code>    Kotlin Source Code
            |
    Kotlin Compiler
            |
            IR
       &#x2F;   &#x2F;    \    \
    JVM  WASM  Native JS</code></pre></div><br/><div id="36119647" class="c"><input type="checkbox" id="c-36119647" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119325">parent</a><span>|</span><label class="collapse" for="c-36119647">[-]</label><label class="expand" for="c-36119647">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Kotlin is unique among JVM languages in that it acts more like a frontend, similar to LLVM or GCC.<p>&quot;Unique among JVM languages&quot; lol. Like most of the good parts of Kotlin, this was actually copied from Scala.</div><br/><div id="36122387" class="c"><input type="checkbox" id="c-36122387" checked=""/><div class="controls bullet"><span class="by">MrBuddyCasino</span><span>|</span><a href="#36119132">root</a><span>|</span><a href="#36119647">parent</a><span>|</span><label class="collapse" for="c-36122387">[-]</label><label class="expand" for="c-36122387">[1 more]</label></div><br/><div class="children"><div class="content">Scala has good parts?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>