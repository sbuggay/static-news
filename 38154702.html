<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699261260895" as="style"/><link rel="stylesheet" href="styles.css?v=1699261260895"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://thechipletter.substack.com/p/intel-vs-nec-the-case-of-the-v20s">Intel vs. NEC: The Case of the V20&#x27;s Microcode</a>Â <span class="domain">(<a href="https://thechipletter.substack.com">thechipletter.substack.com</a>)</span></div><div class="subtext"><span>klelatti</span> | <span>11 comments</span></div><br/><div><div id="38160059" class="c"><input type="checkbox" id="c-38160059" checked=""/><div class="controls bullet"><span class="by">klelatti</span><span>|</span><a href="#38157459">next</a><span>|</span><label class="collapse" for="c-38160059">[-]</label><label class="expand" for="c-38160059">[1 more]</label></div><br/><div class="children"><div class="content">Author here. Just wanted to share one point I&#x27;ve been pondering after writing the article.<p>The legal action over the V20 started when NEC sued Intel not the other way around. I wonder if Intel held off suing NEC first as they felt that their legal case was weak - the two microcode programs were very different after all. Only during discovery would it have become clear that members of the NEC team who had seen the 8088 code had also worked on the V20.<p>In the end a four year court case was probably a good outcome for Intel and starting the case possibly a mistake by NEC.</div><br/></div></div><div id="38157459" class="c"><input type="checkbox" id="c-38157459" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38160059">prev</a><span>|</span><a href="#38156183">next</a><span>|</span><label class="collapse" for="c-38157459">[-]</label><label class="expand" for="c-38157459">[2 more]</label></div><br/><div class="children"><div class="content">Reading the NEC V20&#x2F;V30 user manual[0] is like viewing a document from some bizarro world where stuff is almost like things in our world. The register naming is close, the instructions are all there but with different names, and there are a few more instructions (I can see PUSHA and POPA in there-- two instructions I loved on my 286).<p>I&#x27;ve got an old V20-based NEC laptop (the PC-1702, arguably an Ultrabook in its day) and I really should dig it out and try the 8080 emulation out. It doesn&#x27;t look like it&#x27;d be too difficult to execute short 8080 routines. (Getting CP&#x2F;M up and going looks like more work than would be reasonable for fun.)<p>[0] <a href="https:&#x2F;&#x2F;www.ceibo.com&#x2F;eng&#x2F;datasheets&#x2F;NEC-V20-V30-Users-Manual.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.ceibo.com&#x2F;eng&#x2F;datasheets&#x2F;NEC-V20-V30-Users-Manua...</a></div><br/><div id="38159823" class="c"><input type="checkbox" id="c-38159823" checked=""/><div class="controls bullet"><span class="by">adrian_b</span><span>|</span><a href="#38157459">parent</a><span>|</span><a href="#38156183">next</a><span>|</span><label class="collapse" for="c-38159823">[-]</label><label class="expand" for="c-38159823">[1 more]</label></div><br/><div class="children"><div class="content">NEC V20&#x2F;V30 implemented the entire 80186&#x2F;80188 instruction set, hence the PUSHA and POPA that you have seen.<p>Intel 80186 had been launched in 1982, simultaneously with 80286, i.e. 2 years before NEC V20&#x2F;V30, so NEC had ample time to update their instruction set.<p>NEC V20&#x2F;V30 also implemented a mode when it directly executed Intel 8080 instructions, presumably to be able to execute some old CP&#x2F;M applications.</div><br/></div></div></div></div><div id="38156183" class="c"><input type="checkbox" id="c-38156183" checked=""/><div class="controls bullet"><span class="by">FirmwareBurner</span><span>|</span><a href="#38157459">prev</a><span>|</span><a href="#38159992">next</a><span>|</span><label class="collapse" for="c-38156183">[-]</label><label class="expand" for="c-38156183">[2 more]</label></div><br/><div class="children"><div class="content">A few years ago I reed a comment on HN mentioning that NEC at the time had a product capable of reverse engineering the microcode of any CPU and that the tech was later sold off to another company who was into the business of emulation.<p>Not sure how much truth there could be in this or if it&#x27;s just a good sounding tech legend based on this lawsuit but if anyone has any details on this story that would be great.</div><br/><div id="38157448" class="c"><input type="checkbox" id="c-38157448" checked=""/><div class="controls bullet"><span class="by">PaulHoule</span><span>|</span><a href="#38156183">parent</a><span>|</span><a href="#38159992">next</a><span>|</span><label class="collapse" for="c-38157448">[-]</label><label class="expand" for="c-38157448">[1 more]</label></div><br/><div class="children"><div class="content">I think Ken Shirriff has a product that can reverse engineer the microcode of any CPU from that time period.</div><br/></div></div></div></div><div id="38159992" class="c"><input type="checkbox" id="c-38159992" checked=""/><div class="controls bullet"><span class="by">ngcc_hk</span><span>|</span><a href="#38156183">prev</a><span>|</span><a href="#38156240">next</a><span>|</span><label class="collapse" for="c-38159992">[-]</label><label class="expand" for="c-38159992">[1 more]</label></div><br/><div class="children"><div class="content">actually this is done at least for S&#x2F;360 as it is no way to have one architecture for so different hardware.  Hence, microcode is common idea when you have different hardware but same ISA I think in those days.</div><br/></div></div><div id="38156240" class="c"><input type="checkbox" id="c-38156240" checked=""/><div class="controls bullet"><span class="by">timw4mail</span><span>|</span><a href="#38159992">prev</a><span>|</span><a href="#38157111">next</a><span>|</span><label class="collapse" for="c-38156240">[-]</label><label class="expand" for="c-38156240">[3 more]</label></div><br/><div class="children"><div class="content">I wonder what this would mean in regards to any Soviet clones. Those probably would have just copied the microcode though.</div><br/><div id="38157206" class="c"><input type="checkbox" id="c-38157206" checked=""/><div class="controls bullet"><span class="by">orbital-decay</span><span>|</span><a href="#38156240">parent</a><span>|</span><a href="#38157038">next</a><span>|</span><label class="collapse" for="c-38157206">[-]</label><label class="expand" for="c-38157206">[1 more]</label></div><br/><div class="children"><div class="content">Depends. Some CPUs were just ISA-compatible independent designs, such as the K1801VM1 popular in home computers, which used PDP-11 ISA; there never were any single-chip designs using that ISA to copy from. Some CPUs were clones modified to fit weaker domestic manufacturing capabilities, like KR580VM80A which had a revised design of the i8080. Some CPUs were almost literal reverse-engineered clones, including the copied microcode, for example K1810VM86 (8086).</div><br/></div></div><div id="38157038" class="c"><input type="checkbox" id="c-38157038" checked=""/><div class="controls bullet"><span class="by">kjs3</span><span>|</span><a href="#38156240">parent</a><span>|</span><a href="#38157206">prev</a><span>|</span><a href="#38157111">next</a><span>|</span><label class="collapse" for="c-38157038">[-]</label><label class="expand" for="c-38157038">[1 more]</label></div><br/><div class="children"><div class="content">Depends on the clones.  Some things they straight up copied, some things they &#x27;reverse engineered&#x27; and produced a functional not exact copy.  For example, they couldn&#x27;t straight copy something that they didn&#x27;t have the process to fabricate.<p>We sometimes forget&#x2F;ignore the fact the Soviets had very, very good engineers even if the system they were embedded in limited their achievement.<p>For amusement: <a href="https:&#x2F;&#x2F;micro.magnet.fsu.edu&#x2F;creatures&#x2F;pages&#x2F;russians.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;micro.magnet.fsu.edu&#x2F;creatures&#x2F;pages&#x2F;russians.html</a></div><br/></div></div></div></div><div id="38157111" class="c"><input type="checkbox" id="c-38157111" checked=""/><div class="controls bullet"><span class="by">rasz</span><span>|</span><a href="#38156240">prev</a><span>|</span><label class="collapse" for="c-38157111">[-]</label><label class="expand" for="c-38157111">[1 more]</label></div><br/><div class="children"><div class="content">Explains existence of NEC V33 &quot;instruction decode done by hardwired logic rather than a microprogrammed control store&quot;</div><br/></div></div></div></div></div></div></div></body></html>