<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1714122122619" as="style"/><link rel="stylesheet" href="styles.css?v=1714122122619"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://romeov.github.io/malicious_ip_addresses/malicious_ip_analysis.html">Visualizing malicious IP addresses</a> <span class="domain">(<a href="https://romeov.github.io">romeov.github.io</a>)</span></div><div class="subtext"><span>Bromeo</span> | <span>71 comments</span></div><br/><div><div id="40165589" class="c"><input type="checkbox" id="c-40165589" checked=""/><div class="controls bullet"><span class="by">mianos</span><span>|</span><a href="#40166010">next</a><span>|</span><label class="collapse" for="c-40165589">[-]</label><label class="expand" for="c-40165589">[13 more]</label></div><br/><div class="children"><div class="content">I always wondered how the IPs like this 180.101.88.232 from this block:<p>ISP ChinaNet Jiangsu Province Network
Domain Name chinatelecom.com.cn<p>Continue to be the source of thousands of ssh password login attempts for years and years on end.<p>It&#x27;s not  a big deal, I use a tarpit on all ssh with 2FA on the one I use, but it seems ridiculous that some participants of the internet don&#x27;t give a shit about the rest of the world.</div><br/><div id="40166957" class="c"><input type="checkbox" id="c-40166957" checked=""/><div class="controls bullet"><span class="by">ayewo</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40166532">next</a><span>|</span><label class="collapse" for="c-40166957">[-]</label><label class="expand" for="c-40166957">[1 more]</label></div><br/><div class="children"><div class="content">That IP block (180.101.88.0&#x2F;24) also makes a showing at the top of the stats [1] for <a href="https:&#x2F;&#x2F;brute.fail&#x2F;" rel="nofollow">https:&#x2F;&#x2F;brute.fail&#x2F;</a><p>Previous HN discussion for brute.fail [2].<p>1: <a href="https:&#x2F;&#x2F;brute.fail&#x2F;top.txt" rel="nofollow">https:&#x2F;&#x2F;brute.fail&#x2F;top.txt</a><p>2: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36169954">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36169954</a></div><br/></div></div><div id="40166532" class="c"><input type="checkbox" id="c-40166532" checked=""/><div class="controls bullet"><span class="by">iforgotpassword</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40166957">prev</a><span>|</span><a href="#40166247">next</a><span>|</span><label class="collapse" for="c-40166532">[-]</label><label class="expand" for="c-40166532">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not illegal to try to log in to an ssh server. Or many. Apart from that I think the map from the article is mostly matching the number of internet-connected devices per country&#x2F;region. So I think you can replace &quot;some&quot; by &quot;almost all&quot; in your statement. I mean, find a vulnerable iot device, use it for scanning&#x2F;botnet.</div><br/><div id="40166755" class="c"><input type="checkbox" id="c-40166755" checked=""/><div class="controls bullet"><span class="by">chgs</span><span>|</span><a href="#40165589">root</a><span>|</span><a href="#40166532">parent</a><span>|</span><a href="#40166247">next</a><span>|</span><label class="collapse" for="c-40166755">[-]</label><label class="expand" for="c-40166755">[1 more]</label></div><br/><div class="children"><div class="content">In what country? I suspect that given the intentions it would be a breach of the U.K. computer misuse act for example. Holding the perpetrator to the law is another matter of course.</div><br/></div></div></div></div><div id="40166247" class="c"><input type="checkbox" id="c-40166247" checked=""/><div class="controls bullet"><span class="by">jkrejcha</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40166532">prev</a><span>|</span><a href="#40165885">next</a><span>|</span><label class="collapse" for="c-40166247">[-]</label><label class="expand" for="c-40166247">[1 more]</label></div><br/><div class="children"><div class="content">&gt;180.101.88.232<p>Amusingly I recognize those IPs by that specific prefix as well, basically that entire &#x2F;24 (at the very least) appears to be an absolutely <i>massive</i> source of the SSH login attempts.<p>Small world, I guess</div><br/></div></div><div id="40165885" class="c"><input type="checkbox" id="c-40165885" checked=""/><div class="controls bullet"><span class="by">lithiumii</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40166247">prev</a><span>|</span><a href="#40166364">next</a><span>|</span><label class="collapse" for="c-40165885">[-]</label><label class="expand" for="c-40165885">[1 more]</label></div><br/><div class="children"><div class="content">If it&#x27;s an ISP, maybe it&#x27;s their crappy modems now part of a botnet.</div><br/></div></div><div id="40166364" class="c"><input type="checkbox" id="c-40166364" checked=""/><div class="controls bullet"><span class="by">dotancohen</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40165885">prev</a><span>|</span><a href="#40165780">next</a><span>|</span><label class="collapse" for="c-40166364">[-]</label><label class="expand" for="c-40166364">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; I use a tarpit on all ssh
</code></pre>
I would love to hear more about your approach, if that&#x27;s not sensitive. My Gmail username is the same as my HN username if you prefer. Thank you!</div><br/><div id="40166507" class="c"><input type="checkbox" id="c-40166507" checked=""/><div class="controls bullet"><span class="by">mianos</span><span>|</span><a href="#40165589">root</a><span>|</span><a href="#40166364">parent</a><span>|</span><a href="#40165780">next</a><span>|</span><label class="collapse" for="c-40166507">[-]</label><label class="expand" for="c-40166507">[1 more]</label></div><br/><div class="children"><div class="content">I run an N100 with LXD so I have a container running one of the many ssh tar pits and point 22 and a bunch other ports to it. It simulates an ssh login that very slowly sends ssh banner lines in the connection protocol, endlessly, until they disconnect.<p>It commonly thought that they do nothing, but they seem to keep TCP connections open for quite a long time. A assume a hand written scanning client could detect and mitigate the delay but it&#x27;s going to hold open the sessions on the firewall exit on the other side. If there are enough of these maybe someone might do something.<p>Makes me smile when I look at the logs, that&#x27;s enough for me.<p>It&#x27;s been covered quite a bit here on HN.</div><br/></div></div></div></div><div id="40165780" class="c"><input type="checkbox" id="c-40165780" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40166364">prev</a><span>|</span><a href="#40165741">next</a><span>|</span><label class="collapse" for="c-40165780">[-]</label><label class="expand" for="c-40165780">[3 more]</label></div><br/><div class="children"><div class="content">Those probably belong to a CGNAT with many machines behind it.</div><br/><div id="40165865" class="c"><input type="checkbox" id="c-40165865" checked=""/><div class="controls bullet"><span class="by">mianos</span><span>|</span><a href="#40165589">root</a><span>|</span><a href="#40165780">parent</a><span>|</span><a href="#40165741">next</a><span>|</span><label class="collapse" for="c-40165865">[-]</label><label class="expand" for="c-40165865">[2 more]</label></div><br/><div class="children"><div class="content">Yes, I assumed it is an exit point of the great firewall or something like that, but they do so much packet inspection, they could easily block them. It&#x27;s not like it&#x27;s hard to see them.</div><br/><div id="40165893" class="c"><input type="checkbox" id="c-40165893" checked=""/><div class="controls bullet"><span class="by">kube-system</span><span>|</span><a href="#40165589">root</a><span>|</span><a href="#40165865">parent</a><span>|</span><a href="#40165741">next</a><span>|</span><label class="collapse" for="c-40165893">[-]</label><label class="expand" for="c-40165893">[1 more]</label></div><br/><div class="children"><div class="content">The Great Firewall is about blocking Chinese citizens from accessing content the party doesn’t find palatable.  Being a good neighbor to the rest of the world is out of scope for that project.</div><br/></div></div></div></div></div></div><div id="40165741" class="c"><input type="checkbox" id="c-40165741" checked=""/><div class="controls bullet"><span class="by">Gathering6678</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40165780">prev</a><span>|</span><a href="#40165624">next</a><span>|</span><label class="collapse" for="c-40165741">[-]</label><label class="expand" for="c-40165741">[1 more]</label></div><br/><div class="children"><div class="content">Or, it could mean there are a lot more devices in some places, and a lot of them may be vulnerable to becoming &#x2F; are a part of botnets?</div><br/></div></div><div id="40165624" class="c"><input type="checkbox" id="c-40165624" checked=""/><div class="controls bullet"><span class="by">dools</span><span>|</span><a href="#40165589">parent</a><span>|</span><a href="#40165741">prev</a><span>|</span><a href="#40166010">next</a><span>|</span><label class="collapse" for="c-40165624">[-]</label><label class="expand" for="c-40165624">[1 more]</label></div><br/><div class="children"><div class="content">Some participants in the world don&#x27;t give a shit about the rest of the world</div><br/></div></div></div></div><div id="40166010" class="c"><input type="checkbox" id="c-40166010" checked=""/><div class="controls bullet"><span class="by">chriscjcj</span><span>|</span><a href="#40165589">prev</a><span>|</span><a href="#40166641">next</a><span>|</span><label class="collapse" for="c-40166010">[-]</label><label class="expand" for="c-40166010">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been a couple decades since I adminned servers and firewalls. In my experience, in the early 2000&#x27;s, Russian IPs were extremely common. I was surprised that OP didn&#x27;t see even one. Can anyone conjecture on what might account for the apparent change?</div><br/><div id="40166139" class="c"><input type="checkbox" id="c-40166139" checked=""/><div class="controls bullet"><span class="by">johanbcn</span><span>|</span><a href="#40166010">parent</a><span>|</span><a href="#40166095">next</a><span>|</span><label class="collapse" for="c-40166139">[-]</label><label class="expand" for="c-40166139">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Can anyone conjecture on what might account for the apparent change?<p>Many companies that do not have business in countries known for their abundance of bad actors will block their IP ranges right away.<p>Nowadays hackers worth their salt will make use of botnets and VPNs located at more &quot;friendly&quot; countries.</div><br/></div></div><div id="40166095" class="c"><input type="checkbox" id="c-40166095" checked=""/><div class="controls bullet"><span class="by">efnx</span><span>|</span><a href="#40166010">parent</a><span>|</span><a href="#40166139">prev</a><span>|</span><a href="#40166641">next</a><span>|</span><label class="collapse" for="c-40166095">[-]</label><label class="expand" for="c-40166095">[1 more]</label></div><br/><div class="children"><div class="content">The Russians are probably tunnelling through another connection or are steering a botnet.</div><br/></div></div></div></div><div id="40166641" class="c"><input type="checkbox" id="c-40166641" checked=""/><div class="controls bullet"><span class="by">midnight_shaman</span><span>|</span><a href="#40166010">prev</a><span>|</span><a href="#40166135">next</a><span>|</span><label class="collapse" for="c-40166641">[-]</label><label class="expand" for="c-40166641">[2 more]</label></div><br/><div class="children"><div class="content">I always install fail2ban on publicly exposed machines, especially if ssh is enabled. It won&#x27;t block new malicious IPs but at least it will stop bruteforce attacks coming from each IP</div><br/><div id="40166727" class="c"><input type="checkbox" id="c-40166727" checked=""/><div class="controls bullet"><span class="by">Joel_Mckay</span><span>|</span><a href="#40166641">parent</a><span>|</span><a href="#40166135">next</a><span>|</span><label class="collapse" for="c-40166727">[-]</label><label class="expand" for="c-40166727">[1 more]</label></div><br/><div class="children"><div class="content">Sure, but most people have had do the walk of shame to a local coffee shop when someone inevitably trips the ban on your own network.<p>A proper firewall port-knock set interleaved with 5 day ban tripwire port rules is effective at mitigating distributed brute-forcing.   However, a ssh route whitelist rule set with SSL or iodine tunnel traffic priority is probably more important (when someone saturates the bandwidth trying to starve your session  off the server).<p>Have a great day =)</div><br/></div></div></div></div><div id="40166135" class="c"><input type="checkbox" id="c-40166135" checked=""/><div class="controls bullet"><span class="by">reincoder</span><span>|</span><a href="#40166641">prev</a><span>|</span><a href="#40165897">next</a><span>|</span><label class="collapse" for="c-40166135">[-]</label><label class="expand" for="c-40166135">[1 more]</label></div><br/><div class="children"><div class="content">You can use IPinfo&#x27;s IP map (<a href="https:&#x2F;&#x2F;ipinfo.io&#x2F;tools&#x2F;map" rel="nofollow">https:&#x2F;&#x2F;ipinfo.io&#x2F;tools&#x2F;map</a>) or IP summary tool (<a href="https:&#x2F;&#x2F;ipinfo.io&#x2F;tools&#x2F;summarize-ips" rel="nofollow">https:&#x2F;&#x2F;ipinfo.io&#x2F;tools&#x2F;summarize-ips</a>).<p>Both of these services support sending IP addresses via an API endpoint and can handle up to 500k IP addresses. You can also share the report via URL.</div><br/></div></div><div id="40165897" class="c"><input type="checkbox" id="c-40165897" checked=""/><div class="controls bullet"><span class="by">dfex</span><span>|</span><a href="#40166135">prev</a><span>|</span><a href="#40165896">next</a><span>|</span><label class="collapse" for="c-40165897">[-]</label><label class="expand" for="c-40165897">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Upon closer inspection of Asia, we can notice a significant number of addresses located in South Kora, (and possibly North Korea?), as well as in Taiwan.<p>&gt; I was surpised to see that the distribution of attacks is extremely uneven with most of it concentrated in parts of Asia, Europe, and the US, and (almost) none from South America, Middle East, and Russia.<p>Aside from the casual stereotyping of bad actors here, the article completely neglects the fact that just because the attack is sourced from a certain IP&#x2F;geolocation doesn&#x27;t mean that the attacker resides in that location.<p>What you most likely have is a listed of pwned PCs with fast internet connections being used in botnets.</div><br/><div id="40166214" class="c"><input type="checkbox" id="c-40166214" checked=""/><div class="controls bullet"><span class="by">bradley13</span><span>|</span><a href="#40165897">parent</a><span>|</span><a href="#40166232">next</a><span>|</span><label class="collapse" for="c-40166214">[-]</label><label class="expand" for="c-40166214">[2 more]</label></div><br/><div class="children"><div class="content">Not seeing how this is stereotyping. He is just presenting his results. Whether those results stem from direct attacks or botnets? He doesn&#x27;t even speculate.<p>When I ran public servers a few years ago, I saw similar results. Since the company had no customers in Asia, we IP-blocked the entire continent.</div><br/><div id="40166290" class="c"><input type="checkbox" id="c-40166290" checked=""/><div class="controls bullet"><span class="by">out-of-ideas</span><span>|</span><a href="#40165897">root</a><span>|</span><a href="#40166214">parent</a><span>|</span><a href="#40166232">next</a><span>|</span><label class="collapse" for="c-40166290">[-]</label><label class="expand" for="c-40166290">[1 more]</label></div><br/><div class="children"><div class="content">the distribution looks spot on for what it used to look back in late 2000&#x27;s as well from my collection of memories (minus south america, russia)</div><br/></div></div></div></div><div id="40166232" class="c"><input type="checkbox" id="c-40166232" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#40165897">parent</a><span>|</span><a href="#40166214">prev</a><span>|</span><a href="#40166694">next</a><span>|</span><label class="collapse" for="c-40166232">[-]</label><label class="expand" for="c-40166232">[1 more]</label></div><br/><div class="children"><div class="content">I found the information about the attackers’ quite interesting, because it also seems to disagree with Cloudflare data and my personal experience[1] which shows the US to be the largest originator of attacks.<p>[1] <a href="https:&#x2F;&#x2F;radar.cloudflare.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;radar.cloudflare.com&#x2F;</a></div><br/></div></div><div id="40166694" class="c"><input type="checkbox" id="c-40166694" checked=""/><div class="controls bullet"><span class="by">wolfendin</span><span>|</span><a href="#40165897">parent</a><span>|</span><a href="#40166232">prev</a><span>|</span><a href="#40165896">next</a><span>|</span><label class="collapse" for="c-40166694">[-]</label><label class="expand" for="c-40166694">[1 more]</label></div><br/><div class="children"><div class="content">That’s perfectly consistent with sources of bad actor data I have access to and compile myself.</div><br/></div></div></div></div><div id="40165896" class="c"><input type="checkbox" id="c-40165896" checked=""/><div class="controls bullet"><span class="by">ies7</span><span>|</span><a href="#40165897">prev</a><span>|</span><a href="#40165588">next</a><span>|</span><label class="collapse" for="c-40165896">[-]</label><label class="expand" for="c-40165896">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Interesting! We can see the most locations in India, Indonesia, and China as well as a significant number in the US and Europe.<p>Are these because the bad guys are in there or just because of the population size?<p>China, India, US, and Indonesia are the top four of the most populous country and also 4 countries with most internet users.<p>Even the size of 10% of Indonesian internet users are almost the entire Taiwan population.</div><br/><div id="40166155" class="c"><input type="checkbox" id="c-40166155" checked=""/><div class="controls bullet"><span class="by">Gigachad</span><span>|</span><a href="#40165896">parent</a><span>|</span><a href="#40165937">next</a><span>|</span><label class="collapse" for="c-40166155">[-]</label><label class="expand" for="c-40166155">[1 more]</label></div><br/><div class="children"><div class="content">I doubt most of these scans come from the attackers network. This is probably just a map of where the poorly secured CCTV cameras and IoT washing machines are.</div><br/></div></div><div id="40165937" class="c"><input type="checkbox" id="c-40165937" checked=""/><div class="controls bullet"><span class="by">tomschlick</span><span>|</span><a href="#40165896">parent</a><span>|</span><a href="#40166155">prev</a><span>|</span><a href="#40165588">next</a><span>|</span><label class="collapse" for="c-40165937">[-]</label><label class="expand" for="c-40165937">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Are these because the bad guys are in there or just because of the population size?<p>Yes</div><br/></div></div></div></div><div id="40165588" class="c"><input type="checkbox" id="c-40165588" checked=""/><div class="controls bullet"><span class="by">mcoliver</span><span>|</span><a href="#40165896">prev</a><span>|</span><a href="#40165919">next</a><span>|</span><label class="collapse" for="c-40165588">[-]</label><label class="expand" for="c-40165588">[2 more]</label></div><br/><div class="children"><div class="content">Fun.  You could also try putting the data into Google&#x27;s data studio (now looker) to visualize them in an interactive map you can publish.  Add things like size of dot corresponding to number of attempts, add reverse DNS&#x2F;whois info to the info bubble, etc.  Wonder how much came from residential vs business ip space.<p><a href="https:&#x2F;&#x2F;lookerstudio.google.com" rel="nofollow">https:&#x2F;&#x2F;lookerstudio.google.com</a></div><br/><div id="40165866" class="c"><input type="checkbox" id="c-40165866" checked=""/><div class="controls bullet"><span class="by">noah_buddy</span><span>|</span><a href="#40165588">parent</a><span>|</span><a href="#40165919">next</a><span>|</span><label class="collapse" for="c-40165866">[-]</label><label class="expand" for="c-40165866">[1 more]</label></div><br/><div class="children"><div class="content">If he published that, people will try and make the new leaderboard.</div><br/></div></div></div></div><div id="40165919" class="c"><input type="checkbox" id="c-40165919" checked=""/><div class="controls bullet"><span class="by">micw</span><span>|</span><a href="#40165588">prev</a><span>|</span><a href="#40166602">next</a><span>|</span><label class="collapse" for="c-40165919">[-]</label><label class="expand" for="c-40165919">[6 more]</label></div><br/><div class="children"><div class="content">&quot;Failed publickey&quot; - does this make sense? What is the chance to brute-force a private key that way?</div><br/><div id="40166089" class="c"><input type="checkbox" id="c-40166089" checked=""/><div class="controls bullet"><span class="by">magnat</span><span>|</span><a href="#40165919">parent</a><span>|</span><a href="#40166568">next</a><span>|</span><label class="collapse" for="c-40166089">[-]</label><label class="expand" for="c-40166089">[1 more]</label></div><br/><div class="children"><div class="content">If you haven&#x27;t updated your Debian in a while, 1 in 30000 apparently: <a href="https:&#x2F;&#x2F;www.hezmatt.org&#x2F;~mpalmer&#x2F;blog&#x2F;2024&#x2F;04&#x2F;09&#x2F;how-i-tripped-over-the-debian-weak-keys-vuln.html" rel="nofollow">https:&#x2F;&#x2F;www.hezmatt.org&#x2F;~mpalmer&#x2F;blog&#x2F;2024&#x2F;04&#x2F;09&#x2F;how-i-tripp...</a></div><br/></div></div><div id="40166568" class="c"><input type="checkbox" id="c-40166568" checked=""/><div class="controls bullet"><span class="by">iforgotpassword</span><span>|</span><a href="#40165919">parent</a><span>|</span><a href="#40166089">prev</a><span>|</span><a href="#40166109">next</a><span>|</span><label class="collapse" for="c-40166568">[-]</label><label class="expand" for="c-40166568">[2 more]</label></div><br/><div class="children"><div class="content">1. Scrape GitHub et al for accidentally committed private keys, maybe even get the appropriate username.<p>2. Run botnet that tries all these keys on the entire Internet.<p>3. Profit!</div><br/><div id="40166806" class="c"><input type="checkbox" id="c-40166806" checked=""/><div class="controls bullet"><span class="by">ykonstant</span><span>|</span><a href="#40165919">root</a><span>|</span><a href="#40166568">parent</a><span>|</span><a href="#40166109">next</a><span>|</span><label class="collapse" for="c-40166806">[-]</label><label class="expand" for="c-40166806">[1 more]</label></div><br/><div class="children"><div class="content">Why is GitHub not(?) hosting a flock of repos* with fake private keys&#x2F;username pairs to annoy&#x2F;deter those people?<p>*Flock because of the Cloud?  What is the appropriate noun for many repos?</div><br/></div></div></div></div><div id="40166109" class="c"><input type="checkbox" id="c-40166109" checked=""/><div class="controls bullet"><span class="by">apstls</span><span>|</span><a href="#40165919">parent</a><span>|</span><a href="#40166568">prev</a><span>|</span><a href="#40166647">next</a><span>|</span><label class="collapse" for="c-40166109">[-]</label><label class="expand" for="c-40166109">[1 more]</label></div><br/><div class="children"><div class="content">It could be key spraying, maybe targeting a particular organization with distributed infrastructure for which the attacker already has some keys, but more likely groups blasting default keys (i.e. for some crappy IoT devices that included them in the firmware etc) for a nice &amp; quick botnet.</div><br/></div></div><div id="40166647" class="c"><input type="checkbox" id="c-40166647" checked=""/><div class="controls bullet"><span class="by">micw</span><span>|</span><a href="#40165919">parent</a><span>|</span><a href="#40166109">prev</a><span>|</span><a href="#40166602">next</a><span>|</span><label class="collapse" for="c-40166647">[-]</label><label class="expand" for="c-40166647">[1 more]</label></div><br/><div class="children"><div class="content">Very good points in the comments, thank you a lot!</div><br/></div></div></div></div><div id="40166602" class="c"><input type="checkbox" id="c-40166602" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#40165919">prev</a><span>|</span><a href="#40166326">next</a><span>|</span><label class="collapse" for="c-40166602">[-]</label><label class="expand" for="c-40166602">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d recommend grepping &quot;(Failed|Invalid)&quot; to capture more IPs</div><br/><div id="40166842" class="c"><input type="checkbox" id="c-40166842" checked=""/><div class="controls bullet"><span class="by">mtekman</span><span>|</span><a href="#40166602">parent</a><span>|</span><a href="#40166326">next</a><span>|</span><label class="collapse" for="c-40166842">[-]</label><label class="expand" for="c-40166842">[1 more]</label></div><br/><div class="children"><div class="content">I use the same pattern for my iptables banner.<p>It&#x27;s essentially a manual firewall for when I disable ufw if it&#x27;s being too aggressive:<p><a href="https:&#x2F;&#x2F;gitlab.com&#x2F;mtekman&#x2F;iptables-autobanner" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;mtekman&#x2F;iptables-autobanner</a></div><br/></div></div></div></div><div id="40166326" class="c"><input type="checkbox" id="c-40166326" checked=""/><div class="controls bullet"><span class="by">ludovicianul</span><span>|</span><a href="#40166602">prev</a><span>|</span><a href="#40165932">next</a><span>|</span><label class="collapse" for="c-40166326">[-]</label><label class="expand" for="c-40166326">[1 more]</label></div><br/><div class="children"><div class="content">A few years ago I&#x27;ve built a more simple visualization similar to this one with the attacks on the host the application was already deployed: <a href="https:&#x2F;&#x2F;github.com&#x2F;ludovicianul&#x2F;geolog">https:&#x2F;&#x2F;github.com&#x2F;ludovicianul&#x2F;geolog</a>. China was mostly leading, but there were many from US and Europe.</div><br/></div></div><div id="40165932" class="c"><input type="checkbox" id="c-40165932" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#40166326">prev</a><span>|</span><a href="#40165785">next</a><span>|</span><label class="collapse" for="c-40165932">[-]</label><label class="expand" for="c-40165932">[1 more]</label></div><br/><div class="children"><div class="content">This was cool. The makings of an adhoc DIY cyber intelligence dashboard.<p>I guess the distribution could reflect places with lower income levels looking to get free compute? (for whatever purposes). A lot are coming out of places where relative cost of compute compared to income, may be too high, alternately there may not have access to accepted payment methods?<p>For the servers coming from the US and developed East Asia it could be already cyber companies doing scanning to find clients, or already compromised servers?</div><br/></div></div><div id="40165785" class="c"><input type="checkbox" id="c-40165785" checked=""/><div class="controls bullet"><span class="by">unraveller</span><span>|</span><a href="#40165932">prev</a><span>|</span><a href="#40166365">next</a><span>|</span><label class="collapse" for="c-40165785">[-]</label><label class="expand" for="c-40165785">[4 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re lucky enough to have a big ISP with a single big block of IP addresses that never changes you can disallow all other ranges on your VPS admin ports and only have to worry about VPNing through that ISP.<p>I guess you could block the main country offenders but you&#x27;d have to pay an API to keep up with the IP allocations to be sure.</div><br/><div id="40165809" class="c"><input type="checkbox" id="c-40165809" checked=""/><div class="controls bullet"><span class="by">abound</span><span>|</span><a href="#40165785">parent</a><span>|</span><a href="#40166365">next</a><span>|</span><label class="collapse" for="c-40165809">[-]</label><label class="expand" for="c-40165809">[3 more]</label></div><br/><div class="children"><div class="content">Or alternatively, block port 22 entirely on your firewall and use something like Tailscale to access the machine.<p>Of course, now your attack surface includes Tailscale, which has had it&#x27;s own vulns in the past, but I think blocking all public traffic ends up being much stronger than any weaknesses Tailscale may introduce.</div><br/><div id="40165844" class="c"><input type="checkbox" id="c-40165844" checked=""/><div class="controls bullet"><span class="by">kimixa</span><span>|</span><a href="#40165785">root</a><span>|</span><a href="#40165809">parent</a><span>|</span><a href="#40166365">next</a><span>|</span><label class="collapse" for="c-40165844">[-]</label><label class="expand" for="c-40165844">[2 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t that just the same thing in different clothes? Just a different protocol offering the same features of authentication and encryption - often using exactly the same primitives?<p>Is it &quot;Security through obscurity&quot; assuming fewer people are attacking vpn protocols that than ssh? And I&#x27;m not sure that&#x27;s even true</div><br/><div id="40165859" class="c"><input type="checkbox" id="c-40165859" checked=""/><div class="controls bullet"><span class="by">walterbell</span><span>|</span><a href="#40165785">root</a><span>|</span><a href="#40165844">parent</a><span>|</span><a href="#40166365">next</a><span>|</span><label class="collapse" for="c-40165859">[-]</label><label class="expand" for="c-40165859">[1 more]</label></div><br/><div class="children"><div class="content">Plus a centralized identity provider, which is a plus or minus depending on your threat model, <a href="https:&#x2F;&#x2F;tailscale.com&#x2F;kb&#x2F;1013&#x2F;sso-providers" rel="nofollow">https:&#x2F;&#x2F;tailscale.com&#x2F;kb&#x2F;1013&#x2F;sso-providers</a></div><br/></div></div></div></div></div></div></div></div><div id="40166365" class="c"><input type="checkbox" id="c-40166365" checked=""/><div class="controls bullet"><span class="by">tonymet</span><span>|</span><a href="#40165785">prev</a><span>|</span><a href="#40165766">next</a><span>|</span><label class="collapse" for="c-40166365">[-]</label><label class="expand" for="c-40166365">[5 more]</label></div><br/><div class="children"><div class="content">why is ssh open to the internet to begin with?<p>ufw is the first thing I install, even on a &quot;private&quot; network and here&#x27;s why.<p>I recently installed a router with IPv4 and IPV6.  I later found out that IPv6 was globally addressed with no firewall.<p>Always run ufw and begin by shutting off everything to the internet, then only open up what you need.</div><br/><div id="40166444" class="c"><input type="checkbox" id="c-40166444" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#40166365">parent</a><span>|</span><a href="#40166434">next</a><span>|</span><label class="collapse" for="c-40166444">[-]</label><label class="expand" for="c-40166444">[1 more]</label></div><br/><div class="children"><div class="content">Well, if you want to connect to your home LAN from your phone anywhere in the world you either need SSH or some VPN port opened either. Alternatively you can use some SaaS server where everything initiate the connection against the remote SaaS endpoint, but if you want to stay 100% local you need to open a port.<p>For ssh changing the port to something else usually takes out 99% of bots.</div><br/></div></div><div id="40166434" class="c"><input type="checkbox" id="c-40166434" checked=""/><div class="controls bullet"><span class="by">Msurrow</span><span>|</span><a href="#40166365">parent</a><span>|</span><a href="#40166444">prev</a><span>|</span><a href="#40166791">next</a><span>|</span><label class="collapse" for="c-40166434">[-]</label><label class="expand" for="c-40166434">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps because the VPS is hosted somewhere remote and (s)he needs to ssh into it. Why ask  questions in such an arrogant manner to begin with.</div><br/></div></div><div id="40166791" class="c"><input type="checkbox" id="c-40166791" checked=""/><div class="controls bullet"><span class="by">ykonstant</span><span>|</span><a href="#40166365">parent</a><span>|</span><a href="#40166434">prev</a><span>|</span><a href="#40166557">next</a><span>|</span><label class="collapse" for="c-40166791">[-]</label><label class="expand" for="c-40166791">[1 more]</label></div><br/><div class="children"><div class="content">Hey, a question: I also use ufw because I don&#x27;t understand firewall rules properly.  Is there a benefit for me, a desktop user who would like to set up a tiny home network and <i>possibly</i> setup an SSH server to connect from afar, to delve into iptables&#x2F;nftables instead?  I tried once, but couldn&#x27;t understand how the rules work.<p>Also, if there is a ground-up explanation of firewall rules, their uses and misuses, and illustrative examples, I&#x27;d love if people could share.</div><br/></div></div><div id="40166557" class="c"><input type="checkbox" id="c-40166557" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#40166365">parent</a><span>|</span><a href="#40166791">prev</a><span>|</span><a href="#40165766">next</a><span>|</span><label class="collapse" for="c-40166557">[-]</label><label class="expand" for="c-40166557">[1 more]</label></div><br/><div class="children"><div class="content">Erm, because he wanted to use SSH?<p>Using firewall rules on the hosts is like a fake firewall. Stuff on the hosts can override those rules. Like docker. After all, the host is actually receiving the traffic.<p>A router isn&#x27;t a firewall. Lesson learnt: don&#x27;t assume any &quot;router&quot; device is also a firewall. Last I heard about half of ISP issued routers don&#x27;t run any kind of stateful firewall for IPv6. The only reason they do for IPv4 is NAT.</div><br/></div></div></div></div><div id="40165766" class="c"><input type="checkbox" id="c-40165766" checked=""/><div class="controls bullet"><span class="by">wiradikusuma</span><span>|</span><a href="#40166365">prev</a><span>|</span><a href="#40166766">next</a><span>|</span><label class="collapse" for="c-40165766">[-]</label><label class="expand" for="c-40165766">[2 more]</label></div><br/><div class="children"><div class="content">Holy moly! That explains why I frequently get captcha when using residential internet in Jakarta. I don&#x27;t see those captcha when accessing from e.g. Kuala Lumpur or Singapore.<p>Is the information in the article actionable? E.g. can I complain to someone with authority?</div><br/><div id="40166229" class="c"><input type="checkbox" id="c-40166229" checked=""/><div class="controls bullet"><span class="by">Moru</span><span>|</span><a href="#40165766">parent</a><span>|</span><a href="#40166766">next</a><span>|</span><label class="collapse" for="c-40166229">[-]</label><label class="expand" for="c-40166229">[1 more]</label></div><br/><div class="children"><div class="content">No, it&#x27;s just a map of all hacked IoT devices in the world, it&#x27;s not where the actual hacker is.</div><br/></div></div></div></div><div id="40166766" class="c"><input type="checkbox" id="c-40166766" checked=""/><div class="controls bullet"><span class="by">opentokix</span><span>|</span><a href="#40165766">prev</a><span>|</span><a href="#40165886">next</a><span>|</span><label class="collapse" for="c-40166766">[-]</label><label class="expand" for="c-40166766">[1 more]</label></div><br/><div class="children"><div class="content">This is literally built in, in most modern logging systems with visualization.</div><br/></div></div><div id="40165886" class="c"><input type="checkbox" id="c-40165886" checked=""/><div class="controls bullet"><span class="by">mo_42</span><span>|</span><a href="#40166766">prev</a><span>|</span><a href="#40165380">next</a><span>|</span><label class="collapse" for="c-40165886">[-]</label><label class="expand" for="c-40165886">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not so hard to use Tor for that. I wonder how the Tor exit nodes are distributed across the globe and see how that correlates or not.</div><br/><div id="40166103" class="c"><input type="checkbox" id="c-40166103" checked=""/><div class="controls bullet"><span class="by">bauruine</span><span>|</span><a href="#40165886">parent</a><span>|</span><a href="#40165380">next</a><span>|</span><label class="collapse" for="c-40166103">[-]</label><label class="expand" for="c-40166103">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t have exactly what you want but you would be very disappointed by the result anyway. Tor isn&#x27;t as nefarious as people tend to believe.<p><pre><code>  [bauruine@tp:projects&#x2F;misc]$ python check_ip_tor.py &#x2F;tmp&#x2F;malicious_ips.txt
  Got a total of 6303 malicious IPs
  Of which 15 are Tor relays
</code></pre>
Edit: Small addendum here are the worst 5 ASNs.<p><pre><code>  1607 TENCENT-NET-AP-CN
  738  DIGITALOCEAN-ASN
  483  KIXS-AS-KR 
  205  GOOGLE-CLOUD-PLATFORM
  115  OVH</code></pre></div><br/><div id="40166819" class="c"><input type="checkbox" id="c-40166819" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#40165886">root</a><span>|</span><a href="#40166103">parent</a><span>|</span><a href="#40165380">next</a><span>|</span><label class="collapse" for="c-40166819">[-]</label><label class="expand" for="c-40166819">[1 more]</label></div><br/><div class="children"><div class="content">Stats from my service: ~92% of fake &#x2F; auto user registrations comes from tor exits. (Or would, without blocking)</div><br/></div></div></div></div></div></div><div id="40165380" class="c"><input type="checkbox" id="c-40165380" checked=""/><div class="controls bullet"><span class="by">wsintra2022</span><span>|</span><a href="#40165886">prev</a><span>|</span><a href="#40165930">next</a><span>|</span><label class="collapse" for="c-40165380">[-]</label><label class="expand" for="c-40165380">[5 more]</label></div><br/><div class="children"><div class="content">Interesting, if it’s an issue you could try port knocking to prevent the constant attempts</div><br/><div id="40165527" class="c"><input type="checkbox" id="c-40165527" checked=""/><div class="controls bullet"><span class="by">IAmGraydon</span><span>|</span><a href="#40165380">parent</a><span>|</span><a href="#40165930">next</a><span>|</span><label class="collapse" for="c-40165527">[-]</label><label class="expand" for="c-40165527">[4 more]</label></div><br/><div class="children"><div class="content">Anyone who has run an SSH server on the default port knows that you’ll get hundreds or thousands of login attempts per day. Changing the port to something less obvious and running fail2ban is enough to mitigate most of it. They’re just looking for low hanging fruit.</div><br/><div id="40166252" class="c"><input type="checkbox" id="c-40166252" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#40165380">root</a><span>|</span><a href="#40165527">parent</a><span>|</span><a href="#40165930">next</a><span>|</span><label class="collapse" for="c-40166252">[-]</label><label class="expand" for="c-40166252">[3 more]</label></div><br/><div class="children"><div class="content">Changing the default port - yeah, works wonders for reducing noise. But I don&#x27;t understand why people run fail2ban. Nobody is going to be brute forcing a ssh login, all it does is add another moving part very close to a security boundary for very little gain.</div><br/><div id="40166599" class="c"><input type="checkbox" id="c-40166599" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#40165380">root</a><span>|</span><a href="#40166252">parent</a><span>|</span><a href="#40166271">next</a><span>|</span><label class="collapse" for="c-40166599">[-]</label><label class="expand" for="c-40166599">[1 more]</label></div><br/><div class="children"><div class="content">Yes they do. I had a colleague who opened up his machine to another using the logon &quot;remote&quot; and let them set the password.<p>It was cracked the next day. It turns out having 12345678 is probably a bad password.</div><br/></div></div><div id="40166271" class="c"><input type="checkbox" id="c-40166271" checked=""/><div class="controls bullet"><span class="by">gnabgib</span><span>|</span><a href="#40165380">root</a><span>|</span><a href="#40166252">parent</a><span>|</span><a href="#40166599">prev</a><span>|</span><a href="#40165930">next</a><span>|</span><label class="collapse" for="c-40166271">[-]</label><label class="expand" for="c-40166271">[1 more]</label></div><br/><div class="children"><div class="content">Have you recently run a server?  It takes a week-month before your ssh port is published on shodan&#x2F;binaryedge&#x2F;censys&#x2F;criminalIP and other dodgy scanners.. and then you can expect constant attention, and yes.. 14691 attempted logins for every username possible (even though password login is turned off) from the same IP (usually a VPN, tor exit, or &quot;crowdsourced VPN&quot;)</div><br/></div></div></div></div></div></div></div></div><div id="40165930" class="c"><input type="checkbox" id="c-40165930" checked=""/><div class="controls bullet"><span class="by">imp0cat</span><span>|</span><a href="#40165380">prev</a><span>|</span><a href="#40166521">next</a><span>|</span><label class="collapse" for="c-40165930">[-]</label><label class="expand" for="c-40165930">[1 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t it be better and faster to use a local geoip database for the IP lookup instead of doing a network call for each?</div><br/></div></div></div></div></div></div></div></body></html>