<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689670852196" as="style"/><link rel="stylesheet" href="styles.css?v=1689670852196"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://islamov.ai/stable-diffusion-webgpu/">Stable Diffusion WebGPU demo</a> <span class="domain">(<a href="https://islamov.ai">islamov.ai</a>)</span></div><div class="subtext"><span>aislamov</span> | <span>62 comments</span></div><br/><div><div id="36766727" class="c"><input type="checkbox" id="c-36766727" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#36769653">next</a><span>|</span><label class="collapse" for="c-36766727">[-]</label><label class="expand" for="c-36766727">[2 more]</label></div><br/><div class="children"><div class="content">The MLC team got that working back in March: <a href="https:&#x2F;&#x2F;github.com&#x2F;mlc-ai&#x2F;web-stable-diffusion">https:&#x2F;&#x2F;github.com&#x2F;mlc-ai&#x2F;web-stable-diffusion</a><p>Even more impressively, they followed up with support for several Large Language Models: <a href="https:&#x2F;&#x2F;webllm.mlc.ai&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;webllm.mlc.ai&#x2F;</a></div><br/><div id="36766860" class="c"><input type="checkbox" id="c-36766860" checked=""/><div class="controls bullet"><span class="by">aislamov</span><span>|</span><a href="#36766727">parent</a><span>|</span><a href="#36769653">next</a><span>|</span><label class="collapse" for="c-36766860">[-]</label><label class="expand" for="c-36766860">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s really impressive and much more performant. I was following a different approach: to run any ONNX model without prior modifications.</div><br/></div></div></div></div><div id="36768161" class="c"><input type="checkbox" id="c-36768161" checked=""/><div class="controls bullet"><span class="by">3cats-in-a-coat</span><span>|</span><a href="#36769653">prev</a><span>|</span><a href="#36766619">next</a><span>|</span><label class="collapse" for="c-36768161">[-]</label><label class="expand" for="c-36768161">[17 more]</label></div><br/><div class="children"><div class="content">&quot;This will load 3.5GB and use 8GB of your RAM&quot;.<p>Interesting what browsers have become. The web ate the operating systems.</div><br/><div id="36768589" class="c"><input type="checkbox" id="c-36768589" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36768161">parent</a><span>|</span><a href="#36768988">next</a><span>|</span><label class="collapse" for="c-36768589">[-]</label><label class="expand" for="c-36768589">[6 more]</label></div><br/><div class="children"><div class="content">That is why there is a company selling laptops where the OS is the browser, and another one doing the same for smart TVs.</div><br/><div id="36768801" class="c"><input type="checkbox" id="c-36768801" checked=""/><div class="controls bullet"><span class="by">3cats-in-a-coat</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768589">parent</a><span>|</span><a href="#36768599">next</a><span>|</span><label class="collapse" for="c-36768801">[-]</label><label class="expand" for="c-36768801">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s however the important detail that this company has been doggedly working for achieving that end by first co-opting the browser of a competitor (Safari WebKit), then forking it, then taking over the web standards process, and putting in every API possible on the web, including access to USB devices and so on, so they can make an OS around it.<p>Because if it&#x27;s the web, Google sees it. And if everything is the web, then Google sees everything.</div><br/><div id="36769325" class="c"><input type="checkbox" id="c-36769325" checked=""/><div class="controls bullet"><span class="by">wood_spirit</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768801">parent</a><span>|</span><a href="#36768599">next</a><span>|</span><label class="collapse" for="c-36769325">[-]</label><label class="expand" for="c-36769325">[1 more]</label></div><br/><div class="children"><div class="content">And Apple had in turn had cop-opted KDE’s KHTML and KJS project to start WebKit.  An illustrious linage.<p>(I remember several awesome hobby OS projects ported KHTML to get a really good browser back in those days.  It was a really solid and portable codebase and much tidier than Firefox.)</div><br/></div></div></div></div><div id="36768599" class="c"><input type="checkbox" id="c-36768599" checked=""/><div class="controls bullet"><span class="by">solardev</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768589">parent</a><span>|</span><a href="#36768801">prev</a><span>|</span><a href="#36768988">next</a><span>|</span><label class="collapse" for="c-36768599">[-]</label><label class="expand" for="c-36768599">[3 more]</label></div><br/><div class="children"><div class="content">Wish Windows would take a cue from that other operating system and stop shipping with so much cruft.<p>Can&#x27;t remember the last time I used Windows for anything more than launching Chrome and Steam...</div><br/><div id="36768778" class="c"><input type="checkbox" id="c-36768778" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768599">parent</a><span>|</span><a href="#36769378">next</a><span>|</span><label class="collapse" for="c-36768778">[-]</label><label class="expand" for="c-36768778">[1 more]</label></div><br/><div class="children"><div class="content">Actually Windows was one of the first to follow upon this idea with Active Desktop and packaged Web applications.<p>I guess you would be better off with SteamOS then.</div><br/></div></div><div id="36769378" class="c"><input type="checkbox" id="c-36769378" checked=""/><div class="controls bullet"><span class="by">scioto</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768599">parent</a><span>|</span><a href="#36768778">prev</a><span>|</span><a href="#36768988">next</a><span>|</span><label class="collapse" for="c-36769378">[-]</label><label class="expand" for="c-36769378">[1 more]</label></div><br/><div class="children"><div class="content">I only use Windows for games.</div><br/></div></div></div></div></div></div><div id="36768988" class="c"><input type="checkbox" id="c-36768988" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#36768161">parent</a><span>|</span><a href="#36768589">prev</a><span>|</span><a href="#36768600">next</a><span>|</span><label class="collapse" for="c-36768988">[-]</label><label class="expand" for="c-36768988">[2 more]</label></div><br/><div class="children"><div class="content">The web ate Java&#x27;s original premise.</div><br/><div id="36769147" class="c"><input type="checkbox" id="c-36769147" checked=""/><div class="controls bullet"><span class="by">colechristensen</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768988">parent</a><span>|</span><a href="#36768600">next</a><span>|</span><label class="collapse" for="c-36769147">[-]</label><label class="expand" for="c-36769147">[1 more]</label></div><br/><div class="children"><div class="content">Yup, java just didn&#x27;t actually do it very well.<p>Or java was too heavy for the computers at the time to get people to use &quot;applets&quot; for everyday things (i.e. go to a new website a do a thing on it)<p>Flash et al also failed to catch for long.<p>The web browser&#x27;s success might have something to do with neverending feature creep as opposed to &quot;this can do everything but as such it&#x27;s broken and vulnerable&quot;.</div><br/></div></div></div></div><div id="36768600" class="c"><input type="checkbox" id="c-36768600" checked=""/><div class="controls bullet"><span class="by">esperent</span><span>|</span><a href="#36768161">parent</a><span>|</span><a href="#36768988">prev</a><span>|</span><a href="#36768999">next</a><span>|</span><label class="collapse" for="c-36768600">[-]</label><label class="expand" for="c-36768600">[5 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t quite understand your criticism here. It&#x27;s running stable diffusion on your computer via your browser. How would it do this without downloading it and then loading it into RAM?<p>It&#x27;ll be the same size download and use about the same RAM if you download it and run it directly without using a browser.</div><br/><div id="36768746" class="c"><input type="checkbox" id="c-36768746" checked=""/><div class="controls bullet"><span class="by">3cats-in-a-coat</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768600">parent</a><span>|</span><a href="#36768751">next</a><span>|</span><label class="collapse" for="c-36768746">[-]</label><label class="expand" for="c-36768746">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not a criticism. I&#x27;m just pointing it out. For good or bad, it is what it is. There are two sides to it. For anyone familiar with system theory, this was the inevitable end game of the web.<p>However, the web also has a terrible bloat&#x2F;legacy issue it refuses to deal with. So sooner or later, a new minimal platform will grow from within it, the way the web started in the 90s as the then humble browser. And the web will be replaced.</div><br/></div></div><div id="36768751" class="c"><input type="checkbox" id="c-36768751" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768600">parent</a><span>|</span><a href="#36768746">prev</a><span>|</span><a href="#36768858">next</a><span>|</span><label class="collapse" for="c-36768751">[-]</label><label class="expand" for="c-36768751">[2 more]</label></div><br/><div class="children"><div class="content">Its not a criticism that this is neccesary, its a criticism that it is possible to even do this in a browser.</div><br/><div id="36769459" class="c"><input type="checkbox" id="c-36769459" checked=""/><div class="controls bullet"><span class="by">esperent</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768751">parent</a><span>|</span><a href="#36768858">next</a><span>|</span><label class="collapse" for="c-36769459">[-]</label><label class="expand" for="c-36769459">[1 more]</label></div><br/><div class="children"><div class="content">But why is that a criticism? I tried running SD on my computer a few months ago. I spent several hours trying to install the dependencies and eventually gave up. I&#x27;m sure it wouldn&#x27;t have been a big deal for someone familiar with python but for me it was a massive hassle and I eventually failed to make it run at all.<p>For this one, as long as my browser supports WebGPU (which will be widely supported soon) and I have the system resources, it <i>will</i> run. Barely any technical knowledge needed, doesn&#x27;t matter what OS or brand of GPU I have. Isn&#x27;t that really cool? It reduces both technical and knowledge based barriers to entry. Why do people criticize this so strongly?</div><br/></div></div></div></div></div></div><div id="36768999" class="c"><input type="checkbox" id="c-36768999" checked=""/><div class="controls bullet"><span class="by">massifist</span><span>|</span><a href="#36768161">parent</a><span>|</span><a href="#36768600">prev</a><span>|</span><a href="#36768862">next</a><span>|</span><label class="collapse" for="c-36768999">[-]</label><label class="expand" for="c-36768999">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know, something tells me a (actual) operating system will still be
required (at some level).<p>Though, they might eat the desktop environment or UIs (in general).</div><br/></div></div><div id="36768862" class="c"><input type="checkbox" id="c-36768862" checked=""/><div class="controls bullet"><span class="by">ale42</span><span>|</span><a href="#36768161">parent</a><span>|</span><a href="#36768999">prev</a><span>|</span><a href="#36766619">next</a><span>|</span><label class="collapse" for="c-36768862">[-]</label><label class="expand" for="c-36768862">[2 more]</label></div><br/><div class="children"><div class="content">I guess data is compressed? Otherwise, this makes no sense (even if it might happen in practice).</div><br/><div id="36769078" class="c"><input type="checkbox" id="c-36769078" checked=""/><div class="controls bullet"><span class="by">josefx</span><span>|</span><a href="#36768161">root</a><span>|</span><a href="#36768862">parent</a><span>|</span><a href="#36766619">next</a><span>|</span><label class="collapse" for="c-36769078">[-]</label><label class="expand" for="c-36769078">[1 more]</label></div><br/><div class="children"><div class="content">AI models can get quite memory intensive while running. I have seen a primitive image improvement AI eat up over 80 GB of RAM on high res images. The data of the model itself &quot;only&quot; used up 4 GB.</div><br/></div></div></div></div></div></div><div id="36766619" class="c"><input type="checkbox" id="c-36766619" checked=""/><div class="controls bullet"><span class="by">brucethemoose2</span><span>|</span><a href="#36768161">prev</a><span>|</span><a href="#36766558">next</a><span>|</span><label class="collapse" for="c-36766619">[-]</label><label class="expand" for="c-36766619">[1 more]</label></div><br/><div class="children"><div class="content">Also already done here: <a href="https:&#x2F;&#x2F;websd.mlc.ai&#x2F;#text-to-image-generation-demo" rel="nofollow noreferrer">https:&#x2F;&#x2F;websd.mlc.ai&#x2F;#text-to-image-generation-demo</a><p>MLC uses Apache TVM to generate and autotune the webGPU code, and its respectably performant.</div><br/></div></div><div id="36766558" class="c"><input type="checkbox" id="c-36766558" checked=""/><div class="controls bullet"><span class="by">ccooffee</span><span>|</span><a href="#36766619">prev</a><span>|</span><a href="#36767212">next</a><span>|</span><label class="collapse" for="c-36766558">[-]</label><label class="expand" for="c-36766558">[21 more]</label></div><br/><div class="children"><div class="content">&gt; You need latest Chrome with &quot;Experimental WebAssembly&quot; and &quot;Experimental WebAssembly JavaScript Promise Integration (JSPI)&quot; flags enabled!<p>Darn, guess I&#x27;ll have to wait for stuff to land in Firefox.</div><br/><div id="36768414" class="c"><input type="checkbox" id="c-36768414" checked=""/><div class="controls bullet"><span class="by">tpowell</span><span>|</span><a href="#36766558">parent</a><span>|</span><a href="#36769386">next</a><span>|</span><label class="collapse" for="c-36768414">[-]</label><label class="expand" for="c-36768414">[2 more]</label></div><br/><div class="children"><div class="content">I enabled the requested chrome:flags in Brave, but it still doesn&#x27;t work. I haven&#x27;t downloaded Chrome on any of my M1 Macs, and don&#x27;t plan to start now.</div><br/><div id="36768729" class="c"><input type="checkbox" id="c-36768729" checked=""/><div class="controls bullet"><span class="by">radiKal07</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36768414">parent</a><span>|</span><a href="#36769386">next</a><span>|</span><label class="collapse" for="c-36768729">[-]</label><label class="expand" for="c-36768729">[1 more]</label></div><br/><div class="children"><div class="content">same here, I use Chromium but it&#x27;s the latest version and I enabled those flags... website still does not work</div><br/></div></div></div></div><div id="36769386" class="c"><input type="checkbox" id="c-36769386" checked=""/><div class="controls bullet"><span class="by">moffkalast</span><span>|</span><a href="#36766558">parent</a><span>|</span><a href="#36768414">prev</a><span>|</span><a href="#36766722">next</a><span>|</span><label class="collapse" for="c-36769386">[-]</label><label class="expand" for="c-36769386">[1 more]</label></div><br/><div class="children"><div class="content">At least Firefox now allows for CSS scrollbar styling, so you have that going for you which is nice.</div><br/></div></div><div id="36766722" class="c"><input type="checkbox" id="c-36766722" checked=""/><div class="controls bullet"><span class="by">bsimpson</span><span>|</span><a href="#36766558">parent</a><span>|</span><a href="#36769386">prev</a><span>|</span><a href="#36767119">next</a><span>|</span><label class="collapse" for="c-36766722">[-]</label><label class="expand" for="c-36766722">[7 more]</label></div><br/><div class="children"><div class="content">I tried turning them on in Canary, but I still couldn&#x27;t get it to work.</div><br/><div id="36767113" class="c"><input type="checkbox" id="c-36767113" checked=""/><div class="controls bullet"><span class="by">veb</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766722">parent</a><span>|</span><a href="#36767827">next</a><span>|</span><label class="collapse" for="c-36767113">[-]</label><label class="expand" for="c-36767113">[5 more]</label></div><br/><div class="children"><div class="content">I tried on latest (normal) Chrome, beta and canary&#x2F;nightly and enabled both options one by one and let it relaunch but still wouldn&#x27;t work at all. ¯\_(ツ)_&#x2F;¯<p>How are others getting it working?!<p>From someone else&#x27;s comment, this one works fine: <a href="https:&#x2F;&#x2F;websd.mlc.ai&#x2F;#text-to-image-generation-demo" rel="nofollow noreferrer">https:&#x2F;&#x2F;websd.mlc.ai&#x2F;#text-to-image-generation-demo</a></div><br/><div id="36768816" class="c"><input type="checkbox" id="c-36768816" checked=""/><div class="controls bullet"><span class="by">marcod</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36767113">parent</a><span>|</span><a href="#36767170">next</a><span>|</span><label class="collapse" for="c-36768816">[-]</label><label class="expand" for="c-36768816">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s working on Edge &#x2F; win 11 ;)<p>If you can&#x27;t run it, here&#x27;s how the output looks with default settings <a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;WCQc8hO.png" rel="nofollow noreferrer">https:&#x2F;&#x2F;i.imgur.com&#x2F;WCQc8hO.png</a></div><br/></div></div><div id="36767170" class="c"><input type="checkbox" id="c-36767170" checked=""/><div class="controls bullet"><span class="by">aislamov</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36767113">parent</a><span>|</span><a href="#36768816">prev</a><span>|</span><a href="#36767827">next</a><span>|</span><label class="collapse" for="c-36767170">[-]</label><label class="expand" for="c-36767170">[3 more]</label></div><br/><div class="children"><div class="content">What error message do you get?</div><br/><div id="36767217" class="c"><input type="checkbox" id="c-36767217" checked=""/><div class="controls bullet"><span class="by">veb</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36767170">parent</a><span>|</span><a href="#36767827">next</a><span>|</span><label class="collapse" for="c-36767217">[-]</label><label class="expand" for="c-36767217">[2 more]</label></div><br/><div class="children"><div class="content">Hold on, to run your demo does one have to click the &quot;Load Model&quot; button before doing anything? &#x27;cos what I see is a form that is greyed out with the error message still at the top:<p>&gt; You need latest Chrome with &quot;Experimental WebAssembly&quot; and &quot;Experimental WebAssembly JavaScript Promise Integration (JSPI)&quot; flags enabled!<p>Now I&#x27;m wondering whether the top message goes away once the flags are enabled?</div><br/><div id="36767269" class="c"><input type="checkbox" id="c-36767269" checked=""/><div class="controls bullet"><span class="by">aislamov</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36767217">parent</a><span>|</span><a href="#36767827">next</a><span>|</span><label class="collapse" for="c-36767269">[-]</label><label class="expand" for="c-36767269">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Hold on, to run your demo does one have to click the &quot;Load Model&quot; button before doing anything?<p>Yes. I thought it won&#x27;t be good if it would download 3.5gb once you open the page.<p>&gt;Now I&#x27;m wondering whether the top message goes away once the flags are enabled?<p>No, I haven&#x27;t added any checks for that (and I&#x27;m not sure how the first one can be properly checked), so it&#x27;s just an info bar. Which is, eventually, misleading.</div><br/></div></div></div></div></div></div></div></div><div id="36767827" class="c"><input type="checkbox" id="c-36767827" checked=""/><div class="controls bullet"><span class="by">1letterunixname</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766722">parent</a><span>|</span><a href="#36767113">prev</a><span>|</span><a href="#36767119">next</a><span>|</span><label class="collapse" for="c-36767827">[-]</label><label class="expand" for="c-36767827">[1 more]</label></div><br/><div class="children"><div class="content">It works on canary on M1 mac and Windows w&#x2F; an NVIDIA RTX GPU. I believe there are custom command line options that have to be passed to make it work. The MLC site has the deets that work.</div><br/></div></div></div></div><div id="36767119" class="c"><input type="checkbox" id="c-36767119" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#36766558">parent</a><span>|</span><a href="#36766722">prev</a><span>|</span><a href="#36766616">next</a><span>|</span><label class="collapse" for="c-36767119">[-]</label><label class="expand" for="c-36767119">[3 more]</label></div><br/><div class="children"><div class="content">You refuse to even try something on chrome?</div><br/><div id="36767134" class="c"><input type="checkbox" id="c-36767134" checked=""/><div class="controls bullet"><span class="by">ccooffee</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36767119">parent</a><span>|</span><a href="#36768062">next</a><span>|</span><label class="collapse" for="c-36767134">[-]</label><label class="expand" for="c-36767134">[1 more]</label></div><br/><div class="children"><div class="content">Nah, I don&#x27;t use Chrome so I don&#x27;t have it installed. I&#x27;m not a web developer, so testing across different platforms isn&#x27;t useful to me. I&#x27;ve used StableDiffusion before, so hacking around to make this demo work in my browser isn&#x27;t particularly interesting either.</div><br/></div></div><div id="36768062" class="c"><input type="checkbox" id="c-36768062" checked=""/><div class="controls bullet"><span class="by">ChuckMcM</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36767119">parent</a><span>|</span><a href="#36767134">prev</a><span>|</span><a href="#36766616">next</a><span>|</span><label class="collapse" for="c-36768062">[-]</label><label class="expand" for="c-36768062">[1 more]</label></div><br/><div class="children"><div class="content">Yes. You don&#x27;t?</div><br/></div></div></div></div><div id="36766616" class="c"><input type="checkbox" id="c-36766616" checked=""/><div class="controls bullet"><span class="by">flangola7</span><span>|</span><a href="#36766558">parent</a><span>|</span><a href="#36767119">prev</a><span>|</span><a href="#36767212">next</a><span>|</span><label class="collapse" for="c-36766616">[-]</label><label class="expand" for="c-36766616">[7 more]</label></div><br/><div class="children"><div class="content">What does the second flag do</div><br/><div id="36766638" class="c"><input type="checkbox" id="c-36766638" checked=""/><div class="controls bullet"><span class="by">bhaney</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766616">parent</a><span>|</span><a href="#36767212">next</a><span>|</span><label class="collapse" for="c-36766638">[-]</label><label class="expand" for="c-36766638">[6 more]</label></div><br/><div class="children"><div class="content">Turns on an implementation of this proposal<p><a href="https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;js-promise-integration&#x2F;blob&#x2F;main&#x2F;proposals&#x2F;js-promise-integration&#x2F;Overview.md">https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;js-promise-integration&#x2F;blob&#x2F;m...</a></div><br/><div id="36766802" class="c"><input type="checkbox" id="c-36766802" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766638">parent</a><span>|</span><a href="#36767212">next</a><span>|</span><label class="collapse" for="c-36766802">[-]</label><label class="expand" for="c-36766802">[5 more]</label></div><br/><div class="children"><div class="content">Why is it that implementing something in wasm is stalled for so long but doing it as a js feature is so fast? Anyone have insights? As an outsider it feels like wasm is being developed in an impossibly slow way.</div><br/><div id="36768606" class="c"><input type="checkbox" id="c-36768606" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766802">parent</a><span>|</span><a href="#36767646">next</a><span>|</span><label class="collapse" for="c-36768606">[-]</label><label class="expand" for="c-36768606">[1 more]</label></div><br/><div class="children"><div class="content">Because it basically covers what PNaCL, Java plugin, Flash plugin, Silverlight  asm.js were doing.<p>Anything beyond those use cases it is really meh, specially given how clunky compiling and debugin WASM code tends to be.<p>Then we have all those startups trying to reivent bytecode executable formats in the server, as if it wasn&#x27;t something that has been done every couple of years since late 1950&#x27;s.</div><br/></div></div><div id="36767646" class="c"><input type="checkbox" id="c-36767646" checked=""/><div class="controls bullet"><span class="by">rictic</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766802">parent</a><span>|</span><a href="#36768606">prev</a><span>|</span><a href="#36767082">next</a><span>|</span><label class="collapse" for="c-36767646">[-]</label><label class="expand" for="c-36767646">[1 more]</label></div><br/><div class="children"><div class="content">JS Promises in something like their modern form were first played around with in ~2010, and it was ~2016 before browsers were shipping them natively. Good standards can take a while!</div><br/></div></div><div id="36767082" class="c"><input type="checkbox" id="c-36767082" checked=""/><div class="controls bullet"><span class="by">chrisweekly</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766802">parent</a><span>|</span><a href="#36767646">prev</a><span>|</span><a href="#36767250">next</a><span>|</span><label class="collapse" for="c-36767082">[-]</label><label class="expand" for="c-36767082">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know for sure, but gut says the primary factor 
must be the ratio of devs working on JS runtimes vs WASM (over 10,000:1?)</div><br/></div></div><div id="36767250" class="c"><input type="checkbox" id="c-36767250" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#36766558">root</a><span>|</span><a href="#36766802">parent</a><span>|</span><a href="#36767082">prev</a><span>|</span><a href="#36767212">next</a><span>|</span><label class="collapse" for="c-36767250">[-]</label><label class="expand" for="c-36767250">[1 more]</label></div><br/><div class="children"><div class="content">Implementing something new in JS can be done relatively easily using a slow path, where you just write some privileged JS or C++ and then wrap it, without doing any optimizations. Then if it gets popular the vendors can optimize it at their own pace.<p>Implementing a new feature in WebAssembly is a bit more complex due to its execution model and security constraints. I expect it&#x27;s also just the case that a lot of these new WASM features are very complex - promise integration is super nontrivial to get right, so are WebAssembly GC and SIMD.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36767212" class="c"><input type="checkbox" id="c-36767212" checked=""/><div class="controls bullet"><span class="by">DustinBrett</span><span>|</span><a href="#36766558">prev</a><span>|</span><a href="#36767696">next</a><span>|</span><label class="collapse" for="c-36767212">[-]</label><label class="expand" for="c-36767212">[3 more]</label></div><br/><div class="children"><div class="content">I integrated MLC-AI&#x27;s Stable Diffusion into my website as a custom background generator. It grabs the model data from Hugging Face.<p><a href="https:&#x2F;&#x2F;dustinbrett.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;dustinbrett.com&#x2F;</a></div><br/><div id="36767721" class="c"><input type="checkbox" id="c-36767721" checked=""/><div class="controls bullet"><span class="by">mNovak</span><span>|</span><a href="#36767212">parent</a><span>|</span><a href="#36767227">next</a><span>|</span><label class="collapse" for="c-36767721">[-]</label><label class="expand" for="c-36767721">[1 more]</label></div><br/><div class="children"><div class="content">How smooth and fast this is just makes me sad that every app on my phone requires 200MB to show a couple views and send API calls.</div><br/></div></div><div id="36767227" class="c"><input type="checkbox" id="c-36767227" checked=""/><div class="controls bullet"><span class="by">taf2</span><span>|</span><a href="#36767212">parent</a><span>|</span><a href="#36767721">prev</a><span>|</span><a href="#36767696">next</a><span>|</span><label class="collapse" for="c-36767227">[-]</label><label class="expand" for="c-36767227">[1 more]</label></div><br/><div class="children"><div class="content">That is really impressive loaded on my iPhone 12 mini and my phone was not over heating</div><br/></div></div></div></div><div id="36767696" class="c"><input type="checkbox" id="c-36767696" checked=""/><div class="controls bullet"><span class="by">baddash</span><span>|</span><a href="#36767212">prev</a><span>|</span><a href="#36769179">next</a><span>|</span><label class="collapse" for="c-36767696">[-]</label><label class="expand" for="c-36767696">[6 more]</label></div><br/><div class="children"><div class="content">Out of curiosity, what are use cases&#x2F;applications of this?<p>So what I know is that this generates images via browser rather than server. The only thing I can think of is not having to refresh the page in order to change an image or generate a new image. Which... hmm, well, that could mean websites whose visual design changes in real-time? And maybe changes in a way that would be functionally relevant&#x2F;useful? That does seem pretty cool, although I&#x27;m not sure how useful Stable Diffusion is for generating UI components&#x2F;visual aspects of a site.</div><br/><div id="36767739" class="c"><input type="checkbox" id="c-36767739" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#36767696">parent</a><span>|</span><a href="#36768891">next</a><span>|</span><label class="collapse" for="c-36767739">[-]</label><label class="expand" for="c-36767739">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s useful because it&#x27;s expensive to generate these images en masse. It moves the compute cost to the client.</div><br/></div></div><div id="36767836" class="c"><input type="checkbox" id="c-36767836" checked=""/><div class="controls bullet"><span class="by">ShamelessC</span><span>|</span><a href="#36767696">parent</a><span>|</span><a href="#36768891">prev</a><span>|</span><a href="#36769179">next</a><span>|</span><label class="collapse" for="c-36767836">[-]</label><label class="expand" for="c-36767836">[3 more]</label></div><br/><div class="children"><div class="content">What? The use case is to easily run it on your own computer. Without needing to be a programmer or install an application.</div><br/><div id="36767869" class="c"><input type="checkbox" id="c-36767869" checked=""/><div class="controls bullet"><span class="by">asynchronous</span><span>|</span><a href="#36767696">root</a><span>|</span><a href="#36767836">parent</a><span>|</span><a href="#36769179">next</a><span>|</span><label class="collapse" for="c-36767869">[-]</label><label class="expand" for="c-36767869">[2 more]</label></div><br/><div class="children"><div class="content">Just like what most web apps allow- quick applications in a sandboxed environment on almost every type of hardware</div><br/><div id="36768668" class="c"><input type="checkbox" id="c-36768668" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#36767696">root</a><span>|</span><a href="#36767869">parent</a><span>|</span><a href="#36769179">next</a><span>|</span><label class="collapse" for="c-36768668">[-]</label><label class="expand" for="c-36768668">[1 more]</label></div><br/><div class="children"><div class="content">Any hardware! As long as that hardware is overpowered for the job, so that the browser overhead is acceptable. Oh and it needs internet. Oh and it needs a reasonably large screen because padding and margins. Oh and it needs quite a bit of RAM to start. Maybe not any hardware.</div><br/></div></div></div></div></div></div></div></div><div id="36769179" class="c"><input type="checkbox" id="c-36769179" checked=""/><div class="controls bullet"><span class="by">Kiro</span><span>|</span><a href="#36767696">prev</a><span>|</span><a href="#36767434">next</a><span>|</span><label class="collapse" for="c-36769179">[-]</label><label class="expand" for="c-36769179">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Having DevTools open will slow everything down to about 2x.<p>What causes this?</div><br/><div id="36769210" class="c"><input type="checkbox" id="c-36769210" checked=""/><div class="controls bullet"><span class="by">capableweb</span><span>|</span><a href="#36769179">parent</a><span>|</span><a href="#36767434">next</a><span>|</span><label class="collapse" for="c-36769210">[-]</label><label class="expand" for="c-36769210">[1 more]</label></div><br/><div class="children"><div class="content">Browser dev tools (and most of them really) hook into the application flow to do additional work compared to running it without any developer tools. Depending on what the application does, it can mean that it has to do a lot of extra work and need a lot of extra memory, just to be able to process and store all the extra information that it needs.<p>I don&#x27;t know the specifics of why the slowdown is so extreme in this case, usually it has a negligible impact. But I&#x27;m guessing it&#x27;s related to what I wrote above.</div><br/></div></div></div></div><div id="36767434" class="c"><input type="checkbox" id="c-36767434" checked=""/><div class="controls bullet"><span class="by">aussieguy1234</span><span>|</span><a href="#36769179">prev</a><span>|</span><a href="#36766849">next</a><span>|</span><label class="collapse" for="c-36767434">[-]</label><label class="expand" for="c-36767434">[3 more]</label></div><br/><div class="children"><div class="content">Next up....WebGPU chatbot? ChatGPT style chat with your own GPU in the browser?</div><br/><div id="36769390" class="c"><input type="checkbox" id="c-36769390" checked=""/><div class="controls bullet"><span class="by">moffkalast</span><span>|</span><a href="#36767434">parent</a><span>|</span><a href="#36768092">next</a><span>|</span><label class="collapse" for="c-36769390">[-]</label><label class="expand" for="c-36769390">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;webllm.mlc.ai&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;webllm.mlc.ai&#x2F;</a><p>Already done.</div><br/></div></div><div id="36768092" class="c"><input type="checkbox" id="c-36768092" checked=""/><div class="controls bullet"><span class="by">brucethemoose2</span><span>|</span><a href="#36767434">parent</a><span>|</span><a href="#36769390">prev</a><span>|</span><a href="#36766849">next</a><span>|</span><label class="collapse" for="c-36768092">[-]</label><label class="expand" for="c-36768092">[1 more]</label></div><br/><div class="children"><div class="content">Also already done... With some limitations.<p>LLMs are especially tricky for WebGPU because the good models are so RAM&#x2F;VRAM heavy.</div><br/></div></div></div></div><div id="36766849" class="c"><input type="checkbox" id="c-36766849" checked=""/><div class="controls bullet"><span class="by">bb88</span><span>|</span><a href="#36767434">prev</a><span>|</span><a href="#36766970">next</a><span>|</span><label class="collapse" for="c-36766849">[-]</label><label class="expand" for="c-36766849">[2 more]</label></div><br/><div class="children"><div class="content">Anyone have metrics on this on performance in webgpu vs running this natively?</div><br/><div id="36766904" class="c"><input type="checkbox" id="c-36766904" checked=""/><div class="controls bullet"><span class="by">aislamov</span><span>|</span><a href="#36766849">parent</a><span>|</span><a href="#36766970">next</a><span>|</span><label class="collapse" for="c-36766904">[-]</label><label class="expand" for="c-36766904">[1 more]</label></div><br/><div class="children"><div class="content">UNET takes about a 1:10 on WebGPU and around a minute on CPU in one thread. VAE is 2 minutes on CPU and about 10 seconds on GPU. It should be because most GPU ops for VAE are already implemented but for UNET are not. So in the latter case browser is just tossing data from GPU to CPU and back on each step</div><br/></div></div></div></div><div id="36766970" class="c"><input type="checkbox" id="c-36766970" checked=""/><div class="controls bullet"><span class="by">seeknotfind</span><span>|</span><a href="#36766849">prev</a><span>|</span><a href="#36767109">next</a><span>|</span><label class="collapse" for="c-36766970">[-]</label><label class="expand" for="c-36766970">[2 more]</label></div><br/><div class="children"><div class="content">If this is fast enough, then you could use it to render images locally for personal use. Websites could deliver prompts only, perhaps rendering different images for different users. At that point, what does it mean for copyrights? Is the model itself copyrighted or does the system break down?</div><br/><div id="36768403" class="c"><input type="checkbox" id="c-36768403" checked=""/><div class="controls bullet"><span class="by">schoen</span><span>|</span><a href="#36766970">parent</a><span>|</span><a href="#36767109">next</a><span>|</span><label class="collapse" for="c-36768403">[-]</label><label class="expand" for="c-36768403">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If this is fast enough, then you could use it to render images locally for personal use. Websites could deliver prompts only, perhaps rendering different images for different users.<p>That&#x27;s a fascinating possibility, but we&#x27;re <i>very</i> far from that world right now: elsewhere in the thread it&#x27;s mentioned that this actively uses 8 GB of RAM. And I doubt many web designers would accept the risk that a model misinterprets a prompt, produces distorted output (like the wrong number of fingers on someone&#x27;s hands), or accidentally produces sexual or violent content in a context where it&#x27;s not intended.<p>For many generative image models today, people often pick the best of a dozen or more images, and the others that they throw away may actually be quite bad.<p>The quality and predictability of the models would need to be significantly higher than it is now in order to routinely dynamically illustrate web sites.<p>But I don&#x27;t want to say that we&#x27;ll never get there. All of the recent models are doing things now that would have been considered inconceivable just a few years ago. (Compare <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;1425&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;xkcd.com&#x2F;1425&#x2F;</a> where it may even be a challenge to explain the issue behind the joke to some younger readers!)</div><br/></div></div></div></div><div id="36767109" class="c"><input type="checkbox" id="c-36767109" checked=""/><div class="controls bullet"><span class="by">yboris</span><span>|</span><a href="#36766970">prev</a><span>|</span><label class="collapse" for="c-36767109">[-]</label><label class="expand" for="c-36767109">[1 more]</label></div><br/><div class="children"><div class="content">Link to repo from the FAQ at the bottom of the page:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dakenf&#x2F;stable-diffusion-webgpu-minimal">https:&#x2F;&#x2F;github.com&#x2F;dakenf&#x2F;stable-diffusion-webgpu-minimal</a></div><br/></div></div></div></div></div></div></div></body></html>