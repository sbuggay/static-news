<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695373261159" as="style"/><link rel="stylesheet" href="styles.css?v=1695373261159"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.isosceles.com/the-webp-0day/">The WebP 0day</a>Â <span class="domain">(<a href="https://blog.isosceles.com">blog.isosceles.com</a>)</span></div><div class="subtext"><span>benhawkes</span> | <span>155 comments</span></div><br/><div><div id="37608235" class="c"><input type="checkbox" id="c-37608235" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37607448">next</a><span>|</span><label class="collapse" for="c-37608235">[-]</label><label class="expand" for="c-37608235">[6 more]</label></div><br/><div class="children"><div class="content">To me, this bug is most similar to the Timsort bug back in 2015 [1].<p>Timsort is an ingenious hybrid sorting algorithm originated from CPython and many implementations including OpenJDK adopted it mostly via a source-by-source translation. Timsort particularly maintains a stack of sorted runs, and due to the construction there is a small enough finite limit in the maximum possible stack size. However the original CPython implementation didn&#x27;t exactly match what was proven, so there were rare cases where stack overflow could happen. So this was a serious security bug in CPython, but wasn&#x27;t in OpenJDK because Java instead threw an exception in that case.<p>Similarly, this WebP bug occurred because the largest table size was formally proven but it didn&#x27;t match what was fed to the source code. This kind of bugs is not only hard to verify but also hard to review, because of course there is a proof and the source code seems to match the proof, so it should be okay! This bug suggests strong needs for approachable formal verification, including the use of memory-safe languages (type systems can be regarded as a weak form of formal verification), not human reviews.<p>[1] <a href="http:&#x2F;&#x2F;envisage-project.eu&#x2F;wp-content&#x2F;uploads&#x2F;2015&#x2F;02&#x2F;sorting.pdf" rel="nofollow noreferrer">http:&#x2F;&#x2F;envisage-project.eu&#x2F;wp-content&#x2F;uploads&#x2F;2015&#x2F;02&#x2F;sortin...</a></div><br/><div id="37609295" class="c"><input type="checkbox" id="c-37609295" checked=""/><div class="controls bullet"><span class="by">tialaramex</span><span>|</span><a href="#37608235">parent</a><span>|</span><a href="#37608921">next</a><span>|</span><label class="collapse" for="c-37609295">[-]</label><label class="expand" for="c-37609295">[2 more]</label></div><br/><div class="children"><div class="content">Specifically, since performance is crucial for this type of work, it should be written in WUFFS. WUFFS doesn&#x27;t emit bounds checks (as Java does and as Rust would where it&#x27;s unclear why something should be in bounds at runtime) it just rejects programs where it can&#x27;t see why the indexes are in-bounds.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;wuffs</a><p>You <i>can</i> explicitly write the same checks and meet this requirement, but chances are since you believe you&#x27;re producing a high performance piece of software which doesn&#x27;t need checks you&#x27;ll instead be pulled up by the fact the WUFFS tooling won&#x27;t accept your code and discover you got it wrong.<p>This is weaker than full blown formal verification, but not for the purpose we care about in program safety, thus a big improvement on humans writing LGTM.</div><br/><div id="37609437" class="c"><input type="checkbox" id="c-37609437" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37608235">root</a><span>|</span><a href="#37609295">parent</a><span>|</span><a href="#37608921">next</a><span>|</span><label class="collapse" for="c-37609437">[-]</label><label class="expand" for="c-37609437">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, Wuffs can be classified as memory-safe languages in this case and should be endorsed as much as possible. I mean, I said a lot about the limitation of Wuffs in the last conversation, but that&#x27;s because I believe <i>something like</i> Wuffs should be used more widely, and the current limitation of Wuffs can hinder the progress. We need several angles of attack to make it real, and Wuffs is only one of them.</div><br/></div></div></div></div><div id="37608921" class="c"><input type="checkbox" id="c-37608921" checked=""/><div class="controls bullet"><span class="by">3abiton</span><span>|</span><a href="#37608235">parent</a><span>|</span><a href="#37609295">prev</a><span>|</span><a href="#37607448">next</a><span>|</span><label class="collapse" for="c-37608921">[-]</label><label class="expand" for="c-37608921">[3 more]</label></div><br/><div class="children"><div class="content">TIL Stack Overflow is not just the name of a website.</div><br/><div id="37608989" class="c"><input type="checkbox" id="c-37608989" checked=""/><div class="controls bullet"><span class="by">defrost</span><span>|</span><a href="#37608235">root</a><span>|</span><a href="#37608921">parent</a><span>|</span><a href="#37607448">next</a><span>|</span><label class="collapse" for="c-37608989">[-]</label><label class="expand" for="c-37608989">[2 more]</label></div><br/><div class="children"><div class="content">If that&#x27;s a serious TIL then you <i>might</i> enjoy the Ye Olde Timey classic<p><i>Smashing The Stack For Fun And Profit</i> (1996)<p>(OG Phrack link) <a href="http:&#x2F;&#x2F;phrack.org&#x2F;issues&#x2F;49&#x2F;14.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;phrack.org&#x2F;issues&#x2F;49&#x2F;14.html</a> (Text-zine)<p>(TISM Berkeley CS coursework) <a href="https:&#x2F;&#x2F;inst.eecs.berkeley.edu&#x2F;~cs161&#x2F;fa08&#x2F;papers&#x2F;stack_smashing.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;inst.eecs.berkeley.edu&#x2F;~cs161&#x2F;fa08&#x2F;papers&#x2F;stack_smas...</a> (PDF)</div><br/><div id="37609562" class="c"><input type="checkbox" id="c-37609562" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37608235">root</a><span>|</span><a href="#37608989">parent</a><span>|</span><a href="#37607448">next</a><span>|</span><label class="collapse" for="c-37609562">[-]</label><label class="expand" for="c-37609562">[1 more]</label></div><br/><div class="children"><div class="content">But unrelated to the stack overflow in Tim sort.</div><br/></div></div></div></div></div></div></div></div><div id="37607448" class="c"><input type="checkbox" id="c-37607448" checked=""/><div class="controls bullet"><span class="by">pvg</span><span>|</span><a href="#37608235">prev</a><span>|</span><a href="#37603320">next</a><span>|</span><label class="collapse" for="c-37607448">[-]</label><label class="expand" for="c-37607448">[1 more]</label></div><br/><div class="children"><div class="content">Couple of interesting things in the post that aren&#x27;t about &#x27;what to patch now&#x27;<p>It can be quite a bit of work to recreate a POC of the exploit even knowing the location <i>and the fix</i>.<p>A lossless decompressor in an image decoder can be quite fuzzing resistant.<p>Maybe obvious to security people but fun to read about as a muggle.</div><br/></div></div><div id="37603320" class="c"><input type="checkbox" id="c-37603320" checked=""/><div class="controls bullet"><span class="by">omginternets</span><span>|</span><a href="#37607448">prev</a><span>|</span><a href="#37603845">next</a><span>|</span><label class="collapse" for="c-37603320">[-]</label><label class="expand" for="c-37603320">[30 more]</label></div><br/><div class="children"><div class="content">I have a few questions I&#x27;m not able to find clear answers to:<p>1. Are other Chrome-based browsers (e.g. Brave) affected by this?<p>2. Is desktop Chrome affected, or is this purely a mobile thing?<p>3. Why haven&#x27;t I heard of WebP before?  Am I living under a rock, or is this a mobile-first technology?</div><br/><div id="37603566" class="c"><input type="checkbox" id="c-37603566" checked=""/><div class="controls bullet"><span class="by">benhawkes</span><span>|</span><a href="#37603320">parent</a><span>|</span><a href="#37604314">next</a><span>|</span><label class="collapse" for="c-37603566">[-]</label><label class="expand" for="c-37603566">[3 more]</label></div><br/><div class="children"><div class="content">Good questions -- yes other Chromium-based browsers would likely be affected by this bug. Many of these do a commendable job of following security updates in Chromium (like Brave), but others tend to fall quite far behind (like Samsung&#x27;s SBrowser).<p>Chrome desktop was affected as well, both on Linux and Windows. Chrome bundles its own version of libwebp, so even if your Linux distribution hasn&#x27;t patched yet, as long as Chrome is up-to-date you should be OK (in terms of browser attacks at least).<p>There&#x27;s lots of wonderfully obscure image file formats that are supported by the major browsers and operating systems. For example you can load a KTX2 file (Khronos Texture Container) on MacOS, or a DNG file (Adobe Digital Negative) on Android. Lots of interesting and highly exposed attack surface for attackers to explore.</div><br/><div id="37603882" class="c"><input type="checkbox" id="c-37603882" checked=""/><div class="controls bullet"><span class="by">omginternets</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37603566">parent</a><span>|</span><a href="#37604314">next</a><span>|</span><label class="collapse" for="c-37603882">[-]</label><label class="expand" for="c-37603882">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Chrome desktop was affected as well, both on Linux and Windows.<p>Not MacOS though?</div><br/><div id="37603994" class="c"><input type="checkbox" id="c-37603994" checked=""/><div class="controls bullet"><span class="by">benhawkes</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37603882">parent</a><span>|</span><a href="#37604314">next</a><span>|</span><label class="collapse" for="c-37603994">[-]</label><label class="expand" for="c-37603994">[1 more]</label></div><br/><div class="children"><div class="content">Chrome on MacOS was affected as well, yeah. Note that we don&#x27;t know if attackers exploited the bug on platforms other than iOS, but its certainly possible that they did (I&#x27;d argue even probable).</div><br/></div></div></div></div></div></div><div id="37604314" class="c"><input type="checkbox" id="c-37604314" checked=""/><div class="controls bullet"><span class="by">pornel</span><span>|</span><a href="#37603320">parent</a><span>|</span><a href="#37603566">prev</a><span>|</span><a href="#37609164">next</a><span>|</span><label class="collapse" for="c-37604314">[-]</label><label class="expand" for="c-37604314">[13 more]</label></div><br/><div class="children"><div class="content">1. <i>Everything</i> that supports WebP is affected. Not just Chrome and Electron, but all browsers, desktop and mobile, and non-browser software too. All kinds of image viewers, graphics programs, email clients, even your file manager that shows thumbnails.<p>The bug is in the codec library, and WebP has implementation monoculture, so everyone uses the same library, and everyone needs to patch.<p>3. Google tried to make WebP a thing 10 years ago, but it didn&#x27;t get much traction, since it was Chrome-only for a long time. It never got properly standardized (it is open source tho). It compresses low-quality images better than JPEG, but tends to blur and smear colors in higher-quality images.<p>Ironically WebP became widely supported at the same time when it became technically obsoleted by AVIF and JPEG XL.</div><br/><div id="37604416" class="c"><input type="checkbox" id="c-37604416" checked=""/><div class="controls bullet"><span class="by">teruakohatu</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604314">parent</a><span>|</span><a href="#37604630">next</a><span>|</span><label class="collapse" for="c-37604416">[-]</label><label class="expand" for="c-37604416">[4 more]</label></div><br/><div class="children"><div class="content">&gt; but all browsers, and non-browser software too<p>It is a libwebp vuln right? So anyone that does not link to libwebp is or may be ok.</div><br/><div id="37604879" class="c"><input type="checkbox" id="c-37604879" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604416">parent</a><span>|</span><a href="#37606118">next</a><span>|</span><label class="collapse" for="c-37604879">[-]</label><label class="expand" for="c-37604879">[1 more]</label></div><br/><div class="children"><div class="content">Pretty long tail of apps that shell out to imagemagick to convert stuff, too.</div><br/></div></div><div id="37606118" class="c"><input type="checkbox" id="c-37606118" checked=""/><div class="controls bullet"><span class="by">jandrese</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604416">parent</a><span>|</span><a href="#37604879">prev</a><span>|</span><a href="#37606037">next</a><span>|</span><label class="collapse" for="c-37606118">[-]</label><label class="expand" for="c-37606118">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, but once you fix the library the system should be safe.  Well, except for all of the snaps and docker containers and whatnot.  Those will need to be updated as well.</div><br/></div></div><div id="37606037" class="c"><input type="checkbox" id="c-37606037" checked=""/><div class="controls bullet"><span class="by">not2b</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604416">parent</a><span>|</span><a href="#37606118">prev</a><span>|</span><a href="#37604630">next</a><span>|</span><label class="collapse" for="c-37606037">[-]</label><label class="expand" for="c-37606037">[1 more]</label></div><br/><div class="children"><div class="content">A security update for libwebp has been shipped by the major Linux distros.</div><br/></div></div></div></div><div id="37604630" class="c"><input type="checkbox" id="c-37604630" checked=""/><div class="controls bullet"><span class="by">moffkalast</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604314">parent</a><span>|</span><a href="#37604416">prev</a><span>|</span><a href="#37604914">next</a><span>|</span><label class="collapse" for="c-37604630">[-]</label><label class="expand" for="c-37604630">[4 more]</label></div><br/><div class="children"><div class="content">&gt; even your file manager that shows thumbnails<p>Aha! Finally the day has come when KDE&#x27;s Dolphin emerges as the most secure file manager, in a &quot;this sign can&#x27;t stop me because I can&#x27;t read&quot; fashion.</div><br/><div id="37604790" class="c"><input type="checkbox" id="c-37604790" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604630">parent</a><span>|</span><a href="#37609215">next</a><span>|</span><label class="collapse" for="c-37604790">[-]</label><label class="expand" for="c-37604790">[2 more]</label></div><br/><div class="children"><div class="content">Desktop Linux is on the relatively safer side, just because so much of the open source ecosystem still uses dynamic linking so it just needs your distro to package a new version of libwebp.<p>All the proprietary software with their own bundled versions of electron or vendored libraries, etc. on the other hand...</div><br/><div id="37608584" class="c"><input type="checkbox" id="c-37608584" checked=""/><div class="controls bullet"><span class="by">josefx</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604790">parent</a><span>|</span><a href="#37609215">next</a><span>|</span><label class="collapse" for="c-37608584">[-]</label><label class="expand" for="c-37608584">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  so it just needs your distro to package a new version of libwebp.<p>That and every snap&#x2F;flatpack&#x2F;etc. package, every container image you are using and possibly pip packages that can come with and compile all kinds of dependencies and haven&#x27;t been maintained for ten years...<p>The security benefit a well maintained Linux distro provides has been eroding for years now.</div><br/></div></div></div></div><div id="37609215" class="c"><input type="checkbox" id="c-37609215" checked=""/><div class="controls bullet"><span class="by">sundarurfriend</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604630">parent</a><span>|</span><a href="#37604790">prev</a><span>|</span><a href="#37604914">next</a><span>|</span><label class="collapse" for="c-37609215">[-]</label><label class="expand" for="c-37609215">[1 more]</label></div><br/><div class="children"><div class="content">What do you mean? Dolphin displays thumbnails perfectly fine, and I love how easy it is to change the thumbnail size (ctrl-mousewheel or the slider at the bottom).</div><br/></div></div></div></div><div id="37604914" class="c"><input type="checkbox" id="c-37604914" checked=""/><div class="controls bullet"><span class="by">est31</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604314">parent</a><span>|</span><a href="#37604630">prev</a><span>|</span><a href="#37604696">next</a><span>|</span><label class="collapse" for="c-37604914">[-]</label><label class="expand" for="c-37604914">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Ironically WebP became widely supported at the same time when it became technically obsoleted by AVIF and JPEG XL.<p>Firefox <i>very</i> quickly implemented WebP when YouTube (a Google property) added support for animated WebP based hover thumbnails.</div><br/></div></div><div id="37604696" class="c"><input type="checkbox" id="c-37604696" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604314">parent</a><span>|</span><a href="#37604914">prev</a><span>|</span><a href="#37605372">next</a><span>|</span><label class="collapse" for="c-37604696">[-]</label><label class="expand" for="c-37604696">[2 more]</label></div><br/><div class="children"><div class="content">There is an implementation for go, although it doesn&#x27;t support every feature of the format.</div><br/><div id="37605382" class="c"><input type="checkbox" id="c-37605382" checked=""/><div class="controls bullet"><span class="by">Hello71</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604696">parent</a><span>|</span><a href="#37605372">next</a><span>|</span><label class="collapse" for="c-37605382">[-]</label><label class="expand" for="c-37605382">[1 more]</label></div><br/><div class="children"><div class="content">ffmpeg also has an independent implementation based on its own vp8 decoder</div><br/></div></div></div></div></div></div><div id="37609164" class="c"><input type="checkbox" id="c-37609164" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#37603320">parent</a><span>|</span><a href="#37604314">prev</a><span>|</span><a href="#37603455">next</a><span>|</span><label class="collapse" for="c-37609164">[-]</label><label class="expand" for="c-37609164">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;ve almost certainly downloaded WebP images, but you didn&#x27;t realize it because many websites serve multiple formats at the same URL. This is often done with a HTTP reverse proxy that automatically converts between formats so if you have a modern (last decade) browser, you&#x27;ll get a WebP even if the download&#x27;s file extension seems to be &quot;.png&quot;. All modern image editors support WebP so you&#x27;ll never notice the difference</div><br/></div></div><div id="37603455" class="c"><input type="checkbox" id="c-37603455" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#37603320">parent</a><span>|</span><a href="#37609164">prev</a><span>|</span><a href="#37603450">next</a><span>|</span><label class="collapse" for="c-37603455">[-]</label><label class="expand" for="c-37603455">[4 more]</label></div><br/><div class="children"><div class="content">&gt; 3. Why haven&#x27;t I heard of WebP before? Am I living under a rock, or is this a mobile-first technology?<p>It&#x27;s been supported in desktop chrome for a long while.  There&#x27;s dozens of JPEG replacements that have come and gone, and WebP is primarily notable for having Google&#x27;s clout behind it.  When Google bought Duck&#x2F;On2 they got a lot of video compression technology, some of which went into WebP.</div><br/><div id="37604209" class="c"><input type="checkbox" id="c-37604209" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37603455">parent</a><span>|</span><a href="#37603450">next</a><span>|</span><label class="collapse" for="c-37604209">[-]</label><label class="expand" for="c-37604209">[3 more]</label></div><br/><div class="children"><div class="content">At the scale of Youtube and Google Image Search, saving even 1% of data transfer is worth <i>a lot</i> of money and yak-shaving efforts.</div><br/><div id="37605314" class="c"><input type="checkbox" id="c-37605314" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604209">parent</a><span>|</span><a href="#37603450">next</a><span>|</span><label class="collapse" for="c-37605314">[-]</label><label class="expand" for="c-37605314">[2 more]</label></div><br/><div class="children"><div class="content">Oh, it&#x27;s definitely something that makes&#x2F;made sense for them to do; just pointing out that not knowing one of many JPEG replacements doesn&#x27;t mean you live under a rock.</div><br/><div id="37606055" class="c"><input type="checkbox" id="c-37606055" checked=""/><div class="controls bullet"><span class="by">not2b</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37605314">parent</a><span>|</span><a href="#37603450">next</a><span>|</span><label class="collapse" for="c-37606055">[-]</label><label class="expand" for="c-37606055">[1 more]</label></div><br/><div class="children"><div class="content">WEBP is more of a PNG replacement; better lossless image compression. And it&#x27;s claimed to be about 25% smaller.</div><br/></div></div></div></div></div></div></div></div><div id="37603450" class="c"><input type="checkbox" id="c-37603450" checked=""/><div class="controls bullet"><span class="by">dboreham</span><span>|</span><a href="#37603320">parent</a><span>|</span><a href="#37603455">prev</a><span>|</span><a href="#37605831">next</a><span>|</span><label class="collapse" for="c-37603450">[-]</label><label class="expand" for="c-37603450">[6 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a Google-first technology.</div><br/><div id="37603477" class="c"><input type="checkbox" id="c-37603477" checked=""/><div class="controls bullet"><span class="by">fiddlerwoaroof</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37603450">parent</a><span>|</span><a href="#37605831">next</a><span>|</span><label class="collapse" for="c-37603477">[-]</label><label class="expand" for="c-37603477">[5 more]</label></div><br/><div class="children"><div class="content">Itâs pretty broadly supported now:<p><a href="https:&#x2F;&#x2F;caniuse.com&#x2F;webp" rel="nofollow noreferrer">https:&#x2F;&#x2F;caniuse.com&#x2F;webp</a></div><br/><div id="37604499" class="c"><input type="checkbox" id="c-37604499" checked=""/><div class="controls bullet"><span class="by">oittaa</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37603477">parent</a><span>|</span><a href="#37605831">next</a><span>|</span><label class="collapse" for="c-37604499">[-]</label><label class="expand" for="c-37604499">[4 more]</label></div><br/><div class="children"><div class="content">Many CDNs use it automatically. They detect you&#x27;re on a modern browser and transparently compress sub-optimal images like PNGs without loss of quality.</div><br/><div id="37608659" class="c"><input type="checkbox" id="c-37608659" checked=""/><div class="controls bullet"><span class="by">nyanpasu64</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37604499">parent</a><span>|</span><a href="#37605831">next</a><span>|</span><label class="collapse" for="c-37608659">[-]</label><label class="expand" for="c-37608659">[3 more]</label></div><br/><div class="children"><div class="content">Considering that &quot;lossless&quot; WebP comes with mandatory chroma subsampling, I&#x27;d say that WebP and not PNG is the sub-optimal image format.</div><br/><div id="37609145" class="c"><input type="checkbox" id="c-37609145" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37608659">parent</a><span>|</span><a href="#37605831">next</a><span>|</span><label class="collapse" for="c-37609145">[-]</label><label class="expand" for="c-37609145">[2 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;lossless&quot; WebP comes with mandatory chroma subsampling<p>Source? I&#x27;ve roundtripped bitmap-&gt;WebP-&gt;bitmap and got the same bits out</div><br/><div id="37609588" class="c"><input type="checkbox" id="c-37609588" checked=""/><div class="controls bullet"><span class="by">nyanpasu64</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37609145">parent</a><span>|</span><a href="#37605831">next</a><span>|</span><label class="collapse" for="c-37609588">[-]</label><label class="expand" for="c-37609588">[1 more]</label></div><br/><div class="children"><div class="content">I did find that `ffmpeg -i file.png -lossless 1 test.webp` could produce a full-res chroma image, recognized as WebP by file and opening successfully in Chrome and Firefox. I was under the impression this was not possible, but I suppose it is (today, not sure in the past).<p>Why do I see WebP as an image format used to sneakily degrade PNG files? I&#x27;ve seen gaming wikis and CDNs serve PNG URLs as lossy WebP, ruining pixel art and degrading color detail in 2D art. And Discord CDN&#x27;s &quot;file.webp?size=1024&amp;quality=lossless&quot; serves icons&#x2F;emotes with chroma subsampling (and ffprobe doesn&#x27;t say the file is lossless, unlike test.webp above).</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37605831" class="c"><input type="checkbox" id="c-37605831" checked=""/><div class="controls bullet"><span class="by">wooque</span><span>|</span><a href="#37603320">parent</a><span>|</span><a href="#37603450">prev</a><span>|</span><a href="#37603845">next</a><span>|</span><label class="collapse" for="c-37605831">[-]</label><label class="expand" for="c-37605831">[2 more]</label></div><br/><div class="children"><div class="content">Every browser is affected, Firefox issued security update as well.<p>WebP is gaining popularity as replacement for JPEG, I&#x27;m surprised you haven&#x27;t stumbled it on yet, cause more and more images I download from the web turn out to be WebP.</div><br/><div id="37607870" class="c"><input type="checkbox" id="c-37607870" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#37603320">root</a><span>|</span><a href="#37605831">parent</a><span>|</span><a href="#37603845">next</a><span>|</span><label class="collapse" for="c-37607870">[-]</label><label class="expand" for="c-37607870">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Firefox issued security update as well<p>Fixed[1] in Firefox 117.0.1 as well as some ESR and Thunderbird versions.<p>[1]: <a href="https:&#x2F;&#x2F;www.mozilla.org&#x2F;en-US&#x2F;security&#x2F;advisories&#x2F;mfsa2023-40&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.mozilla.org&#x2F;en-US&#x2F;security&#x2F;advisories&#x2F;mfsa2023-4...</a></div><br/></div></div></div></div></div></div><div id="37603845" class="c"><input type="checkbox" id="c-37603845" checked=""/><div class="controls bullet"><span class="by">pja</span><span>|</span><a href="#37603320">prev</a><span>|</span><a href="#37607840">next</a><span>|</span><label class="collapse" for="c-37603845">[-]</label><label class="expand" for="c-37603845">[14 more]</label></div><br/><div class="children"><div class="content">So if your Android device is out of support, thereâs now a 0-click exploit floating about in the wild?<p>Or will updating the SMS App, Chrome, WhatsApp, Signal etc be sufficient to cover all the likely input routes?</div><br/><div id="37604058" class="c"><input type="checkbox" id="c-37604058" checked=""/><div class="controls bullet"><span class="by">benhawkes</span><span>|</span><a href="#37603845">parent</a><span>|</span><a href="#37605894">next</a><span>|</span><label class="collapse" for="c-37604058">[-]</label><label class="expand" for="c-37604058">[8 more]</label></div><br/><div class="children"><div class="content">Well, we don&#x27;t know for sure that an exploit exists for this bug on Android yet (the original exploit was for iOS via iMessage), but there&#x27;s a reasonably high chance that one has been developed already. These types of exploits are in very high demand for Android right now, I&#x27;ve heard some eye-watering prices being mentioned recently.<p>Updating Chrome on an unsupported device would fix the issue, but you would still need an Android OS upgrade to fix the issue for apps like Signal and WhatsApp. Chrome bundles its own version of libwebp, but messaging apps and other highly exposed stuff like Gmail all use the OS provided interfaces for displaying images. Hopefully we&#x27;ll start getting updates for security-supported Android devices in early October.</div><br/><div id="37604751" class="c"><input type="checkbox" id="c-37604751" checked=""/><div class="controls bullet"><span class="by">TheGuyWhoCodes</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604058">parent</a><span>|</span><a href="#37604557">next</a><span>|</span><label class="collapse" for="c-37604751">[-]</label><label class="expand" for="c-37604751">[1 more]</label></div><br/><div class="children"><div class="content">This is honestly pretty bad.
You either wait a month (or more) for the OS security update, if you are lucky  enough that your device is supported.<p>Or the app could bundle the library, they can push updates faster but then again they could just use an old version and never update like most 3rd party dependencies these days.</div><br/></div></div><div id="37604557" class="c"><input type="checkbox" id="c-37604557" checked=""/><div class="controls bullet"><span class="by">pja</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604058">parent</a><span>|</span><a href="#37604751">prev</a><span>|</span><a href="#37607212">next</a><span>|</span><label class="collapse" for="c-37604557">[-]</label><label class="expand" for="c-37604557">[3 more]</label></div><br/><div class="children"><div class="content">So thereâs a webp system library as well as the one in Chrome?<p>Nice of Google to drop security support for the Pixel 4a just before this bug drops.</div><br/><div id="37604640" class="c"><input type="checkbox" id="c-37604640" checked=""/><div class="controls bullet"><span class="by">vuln</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604557">parent</a><span>|</span><a href="#37607212">next</a><span>|</span><label class="collapse" for="c-37604640">[-]</label><label class="expand" for="c-37604640">[2 more]</label></div><br/><div class="children"><div class="content">Youâre saying that Google knew about the bug and purposely dropped security support for the pixel 4a right before? Support didnât age out, like it typically does (age of device)? Google just pulled security support for this one device?</div><br/><div id="37604685" class="c"><input type="checkbox" id="c-37604685" checked=""/><div class="controls bullet"><span class="by">pja</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604640">parent</a><span>|</span><a href="#37607212">next</a><span>|</span><label class="collapse" for="c-37604685">[-]</label><label class="expand" for="c-37604685">[1 more]</label></div><br/><div class="children"><div class="content">No, Iâm saying itâs extremely frustrating that Google just drops security support entirely for devices like this, when they could continue to at least patch egregious platform bugs like this one, even if they canât fix everything.<p>Itâs just icing on the proverbial cake that a month after they drop security support for the 4a a 0-click remote exploit is found.</div><br/></div></div></div></div></div></div><div id="37607212" class="c"><input type="checkbox" id="c-37607212" checked=""/><div class="controls bullet"><span class="by">ocdtrekkie</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604058">parent</a><span>|</span><a href="#37604557">prev</a><span>|</span><a href="#37604678">next</a><span>|</span><label class="collapse" for="c-37607212">[-]</label><label class="expand" for="c-37607212">[1 more]</label></div><br/><div class="children"><div class="content">I have iOS devices from 2015 that still get security updates and already patched for this issue. It&#x27;s really just straight up irresponsible at this point that Android can&#x27;t actually do this.</div><br/></div></div><div id="37604678" class="c"><input type="checkbox" id="c-37604678" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604058">parent</a><span>|</span><a href="#37607212">prev</a><span>|</span><a href="#37605894">next</a><span>|</span><label class="collapse" for="c-37604678">[-]</label><label class="expand" for="c-37604678">[2 more]</label></div><br/><div class="children"><div class="content">Can you give me a real number on that? Are we talking over a million? Over 5?</div><br/><div id="37606896" class="c"><input type="checkbox" id="c-37606896" checked=""/><div class="controls bullet"><span class="by">0x53</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37604678">parent</a><span>|</span><a href="#37605894">next</a><span>|</span><label class="collapse" for="c-37606896">[-]</label><label class="expand" for="c-37606896">[1 more]</label></div><br/><div class="children"><div class="content">The only publicly posted price list that I know of is zerodiumâs (evil people). <a href="http:&#x2F;&#x2F;zerodium.com&#x2F;program.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;zerodium.com&#x2F;program.html</a> They currently offer 2.5 million for an android zero click with persistence. This doesnât give you the persistence piece without another bug so maybe 2m. Of course, they are only willing to offer that price if they could sell it for much more.</div><br/></div></div></div></div></div></div><div id="37605894" class="c"><input type="checkbox" id="c-37605894" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#37603845">parent</a><span>|</span><a href="#37604058">prev</a><span>|</span><a href="#37606272">next</a><span>|</span><label class="collapse" for="c-37605894">[-]</label><label class="expand" for="c-37605894">[1 more]</label></div><br/><div class="children"><div class="content">The platform image decoding libraries really ought to be one of the system modules that are updated through the Play Store, can anyone confirm whether they are or not?</div><br/></div></div><div id="37606272" class="c"><input type="checkbox" id="c-37606272" checked=""/><div class="controls bullet"><span class="by">sprokolopolis</span><span>|</span><a href="#37603845">parent</a><span>|</span><a href="#37605894">prev</a><span>|</span><a href="#37607638">next</a><span>|</span><label class="collapse" for="c-37606272">[-]</label><label class="expand" for="c-37606272">[1 more]</label></div><br/><div class="children"><div class="content">Some messaging apps have options to not automatically download&#x2F;preview images that are sent, so that might be a good step to take. I know that Google Messages has this feature.</div><br/></div></div><div id="37607638" class="c"><input type="checkbox" id="c-37607638" checked=""/><div class="controls bullet"><span class="by">lern_too_spel</span><span>|</span><a href="#37603845">parent</a><span>|</span><a href="#37606272">prev</a><span>|</span><a href="#37607840">next</a><span>|</span><label class="collapse" for="c-37607638">[-]</label><label class="expand" for="c-37607638">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s an especially big problem on iOS because iMessage has elevated permissions. On Android, all of those apps are sandboxed.</div><br/><div id="37607790" class="c"><input type="checkbox" id="c-37607790" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37607638">parent</a><span>|</span><a href="#37608959">next</a><span>|</span><label class="collapse" for="c-37607790">[-]</label><label class="expand" for="c-37607790">[1 more]</label></div><br/><div class="children"><div class="content">iMessage is a sandboxed app.</div><br/></div></div><div id="37608959" class="c"><input type="checkbox" id="c-37608959" checked=""/><div class="controls bullet"><span class="by">olliej</span><span>|</span><a href="#37603845">root</a><span>|</span><a href="#37607638">parent</a><span>|</span><a href="#37607790">prev</a><span>|</span><a href="#37607840">next</a><span>|</span><label class="collapse" for="c-37608959">[-]</label><label class="expand" for="c-37608959">[1 more]</label></div><br/><div class="children"><div class="content">iMessage is sandboxed, and does attachment processing in yet another sandbox (the exploit is named BLASTpass as it circumvents this). These days iMessage itself is probably more tightly sandboxed than other apps.<p>It sounds like the exploit was triggered in another process by iMessage forwarding the post-parse attachment content to that process - the blog post says this is passkit related so I assume any app that has passkit interaction could do this. iMessage is simply universally available so why use a different medium.</div><br/></div></div></div></div></div></div><div id="37607840" class="c"><input type="checkbox" id="c-37607840" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#37603845">prev</a><span>|</span><a href="#37604343">next</a><span>|</span><label class="collapse" for="c-37607840">[-]</label><label class="expand" for="c-37607840">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s surprising that this isn&#x27;t in a &quot;newer&quot; part of the image format; Huffman compression has been around for over 70 years, Canonical Huffman for a few decades less, but even JPEG uses Huffman. This is a decades-old technology that should&#x27;ve had the bugs worked out of its many implementations by now and there are also countless articles about how to implement it.<p>I&#x27;ve read the JPEG spec (and written a decoder) before, so I decided to look at the WebP spec: <a href="https:&#x2F;&#x2F;developers.google.com&#x2F;speed&#x2F;webp&#x2F;docs&#x2F;webp_lossless_bitstream_specification" rel="nofollow noreferrer">https:&#x2F;&#x2F;developers.google.com&#x2F;speed&#x2F;webp&#x2F;docs&#x2F;webp_lossless_...</a><p>The important information is in section 6. The first thing I notice is that it&#x27;s not very clear how the codes are constructed, unlike the JPEG one (which actually has a ton of very readable flowcharts on the process), but it appears to be similar to LZH&#x2F;deflate(zlib). The &quot;specification&quot; looks more like a selected set of source code fragments with accompanying descriptions.<p>Perhaps I should try writing a WebP decoder too, having already done GIF, JPEG, and PNG, but based on the above &quot;specification&quot;, it&#x27;s almost as if they don&#x27;t want you to.</div><br/><div id="37607927" class="c"><input type="checkbox" id="c-37607927" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37607840">parent</a><span>|</span><a href="#37608217">next</a><span>|</span><label class="collapse" for="c-37607927">[-]</label><label class="expand" for="c-37607927">[1 more]</label></div><br/><div class="children"><div class="content">&gt; it&#x27;s not very clear how the codes are constructed<p>I agree the specification really lacks examples, but it explicitly states that it uses canonical Huffman trees so that only code lengths have to be transmitted. I think this is clear enough to pinpoint the actual tree. (I don&#x27;t think there is any canonical Huffman tree implementation that uses the inverse lexicographical order.)<p>&gt; This is a decades-old technology that should&#x27;ve had the bugs worked out of its many implementations by now and there are also countless articles about how to implement it.<p>Because there are many implementations of Huffman trees with different trade-offs? Charles Bloom once said that the definitive 1997 paper on Huffman optimizations [1] is still not well known at that point (2010) and many optimizations were rediscovered and then forgotten, so there should be many inefficient implementations out there.<p>[1] <a href="https:&#x2F;&#x2F;cbloomrants.blogspot.com&#x2F;2010&#x2F;08&#x2F;08-12-10-lost-huffman-paper.html?m=1" rel="nofollow noreferrer">https:&#x2F;&#x2F;cbloomrants.blogspot.com&#x2F;2010&#x2F;08&#x2F;08-12-10-lost-huffm...</a></div><br/></div></div></div></div><div id="37604343" class="c"><input type="checkbox" id="c-37604343" checked=""/><div class="controls bullet"><span class="by">skilled</span><span>|</span><a href="#37607840">prev</a><span>|</span><a href="#37603274">next</a><span>|</span><label class="collapse" for="c-37604343">[-]</label><label class="expand" for="c-37604343">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The good news is that Apple and Chrome did an amazing job at responding to this issue with the urgency that it deserves<p>Excuse me? It is Google that assigned this as Chrome only. Over the last 7 days alone every single major Linux distribution has had to push an update (including Red Hat which assigned this a 9.6 score), and Docker images like Python which has over 1 billion pulls, not to mention Puppeteer(hello?), WordPress, Node.js, etc. and CRBug is still private to this day.<p>I am not being condescending but sites like BleepingComputer reported this as they saw it rather than doing any investigation. And the same goes for a lot of security companies that reported on this issue in third person. Itâs really difficult to foster trust when you know that the person on the other side hasnât bothered to do any due diligence.<p>Adam Caudill (1Password was one of the first to patch it) did a nice blog post, âWhose CVE is it anyway?â[0] highlighting the issue I am talking about in my comment.<p>Citizen Lab has refused to comment on whether both are related, but it doesnât take a genius does itâ¦<p>[0]: <a href="https:&#x2F;&#x2F;adamcaudill.com&#x2F;2023&#x2F;09&#x2F;14&#x2F;whose-cve-is-it-anyway&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;adamcaudill.com&#x2F;2023&#x2F;09&#x2F;14&#x2F;whose-cve-is-it-anyway&#x2F;</a></div><br/></div></div><div id="37603274" class="c"><input type="checkbox" id="c-37603274" checked=""/><div class="controls bullet"><span class="by">Yeroc</span><span>|</span><a href="#37604343">prev</a><span>|</span><a href="#37606815">next</a><span>|</span><label class="collapse" for="c-37603274">[-]</label><label class="expand" for="c-37603274">[35 more]</label></div><br/><div class="children"><div class="content">I&#x27;m surprised the summary of the article only talked about over-reliance on fuzzing and then suggested 1) more thorough code reviews and 2) sandboxing as solutions?!  To me, the solution lies in using memory-safe languages.</div><br/><div id="37603793" class="c"><input type="checkbox" id="c-37603793" checked=""/><div class="controls bullet"><span class="by">nolist_policy</span><span>|</span><a href="#37603274">parent</a><span>|</span><a href="#37604131">next</a><span>|</span><label class="collapse" for="c-37603793">[-]</label><label class="expand" for="c-37603793">[24 more]</label></div><br/><div class="children"><div class="content">I think sandboxing is the more powerful solution. You think in terms of &quot;What privileges can the attacker gain if this code blows up?&quot; and limit the code&#x27;s privileges to the minimum.<p>Problem is, sandboxing is harder to implement so it&#x27;s often done suboptimally or not at all.</div><br/><div id="37603993" class="c"><input type="checkbox" id="c-37603993" checked=""/><div class="controls bullet"><span class="by">Yeroc</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37603793">parent</a><span>|</span><a href="#37605140">next</a><span>|</span><label class="collapse" for="c-37603993">[-]</label><label class="expand" for="c-37603993">[14 more]</label></div><br/><div class="children"><div class="content">Yes and Google Chrome has invested heavily in sandboxing and still had to ship this as a high-priority fix.  I&#x27;d say sandboxing in conjunction with memory-safe languages is the future.</div><br/><div id="37604876" class="c"><input type="checkbox" id="c-37604876" checked=""/><div class="controls bullet"><span class="by">kentonv</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37603993">parent</a><span>|</span><a href="#37605140">next</a><span>|</span><label class="collapse" for="c-37604876">[-]</label><label class="expand" for="c-37604876">[13 more]</label></div><br/><div class="children"><div class="content">The problem is that rewriting existing code into a memory-safe language is a huge investment -- and realistically the world depends on a <i>lot</i> of code built over many decades that cannot be rewritten overnight. Consider that Mozilla created Rust <i>specifically</i> so they could rewrite their browser in it, yet still only a small fraction of Firefox code is Rust today -- much more is still C&#x2F;C++. Realistically we&#x27;re going to have a lot of heavily used C&#x2F;C++ code forever. The singularity will come before we can replace it all.<p>The nice thing about sandboxing and fuzzing can be applied to existing code.</div><br/><div id="37604926" class="c"><input type="checkbox" id="c-37604926" checked=""/><div class="controls bullet"><span class="by">Yeroc</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604876">parent</a><span>|</span><a href="#37605231">next</a><span>|</span><label class="collapse" for="c-37604926">[-]</label><label class="expand" for="c-37604926">[8 more]</label></div><br/><div class="children"><div class="content">Yes, but sandboxing and fuzzing are insufficient.  As pointed out in the article Google had been fuzzing this library and it didn&#x27;t find the issue.  They even tweaked the fuzzing after this issue was found to specifically target the area of the vulnerability and it apparently still didn&#x27;t trigger the issue.<p>Google Chrome also implements sandboxing and many areas.  It&#x27;s not feasible everywhere.  So for new code &#x2F; libraries we should default to a memory-safe language.</div><br/><div id="37605183" class="c"><input type="checkbox" id="c-37605183" checked=""/><div class="controls bullet"><span class="by">kentonv</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604926">parent</a><span>|</span><a href="#37605231">next</a><span>|</span><label class="collapse" for="c-37605183">[-]</label><label class="expand" for="c-37605183">[7 more]</label></div><br/><div class="children"><div class="content">I think almost everyone agrees new greenfield projects should not choose C&#x2F;C++, now that Rust has matured enough and covers essentially the same use cases.<p>But realistically that only solves a tiny fraction of the problem, since realistically new greenfield projects started today will likely take 10+ years to become widely used, if they do at all.<p>WebP was written at a time when C&#x2F;C++ was still the only viable language in which to write an image compression library. Saying &quot;things like this should be written in Rust!&quot; just doesn&#x27;t actually do anything to make software like WebP secure. Improving fuzzers and sandboxing might.</div><br/><div id="37605272" class="c"><input type="checkbox" id="c-37605272" checked=""/><div class="controls bullet"><span class="by">est31</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605183">parent</a><span>|</span><a href="#37605231">next</a><span>|</span><label class="collapse" for="c-37605272">[-]</label><label class="expand" for="c-37605272">[6 more]</label></div><br/><div class="children"><div class="content">&gt; realistically new greenfield projects started today will likely take 10+ years to become widely used, if they do at all.<p>I&#x27;m pretty sure that even now a lot speaks <i>against</i> using rust for greenfield projects precisely for that reason: few people want to integrate Rust into their build chain. You basically always have to have a compiler that&#x27;s 1 release old or otherwise you cannot compile new Rust software like the very widely used time crate.<p>If you are a new and unproven format, do you really want to bear that hit? You could make two implementations, one in C and one in Rust, but that will mean you spread your probably quite scarce engineers over two projects.</div><br/><div id="37605520" class="c"><input type="checkbox" id="c-37605520" checked=""/><div class="controls bullet"><span class="by">kentonv</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605272">parent</a><span>|</span><a href="#37608019">next</a><span>|</span><label class="collapse" for="c-37605520">[-]</label><label class="expand" for="c-37605520">[3 more]</label></div><br/><div class="children"><div class="content">Heh. Well, speaking as the lead engineer of a large C++ systems project that sadly started a liiiiitle bit to early to use Rust (the Cloudflare Workers runtime), I&#x27;d say our attitude is the other way around: We basically refuse to bring in any kind of C&#x2F;C++ dependency unless it&#x27;s something used in Chrome (implying they&#x27;ve vetted it). We are much more willing to bring in Rust dependencies, even though they&#x27;re harder for us to invoke due to the language barrier.</div><br/><div id="37605912" class="c"><input type="checkbox" id="c-37605912" checked=""/><div class="controls bullet"><span class="by">Yeroc</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605520">parent</a><span>|</span><a href="#37608019">next</a><span>|</span><label class="collapse" for="c-37605912">[-]</label><label class="expand" for="c-37605912">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s great, but the fact that the author of this article didn&#x27;t mention memory safe languages is disturbing and an indication that not everyone is aware!</div><br/><div id="37606932" class="c"><input type="checkbox" id="c-37606932" checked=""/><div class="controls bullet"><span class="by">albntomat0</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605912">parent</a><span>|</span><a href="#37608019">next</a><span>|</span><label class="collapse" for="c-37606932">[-]</label><label class="expand" for="c-37606932">[1 more]</label></div><br/><div class="children"><div class="content">The author is the former lead of Google Project Zero, and the article is an in depth look at a low level bug.<p>Heâs certainly aware of memory safe programming.</div><br/></div></div></div></div></div></div><div id="37608019" class="c"><input type="checkbox" id="c-37608019" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605272">parent</a><span>|</span><a href="#37605520">prev</a><span>|</span><a href="#37609135">next</a><span>|</span><label class="collapse" for="c-37608019">[-]</label><label class="expand" for="c-37608019">[1 more]</label></div><br/><div class="children"><div class="content">You can write your implementation in Rust and expose a C ABI, and anyone using your library doesn&#x27;t have to know or care that the internals use Rust. That&#x27;s pretty much the whole point of Rust, otherwise you&#x27;d just use OCaml.</div><br/></div></div><div id="37609135" class="c"><input type="checkbox" id="c-37609135" checked=""/><div class="controls bullet"><span class="by">inferiorhuman</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605272">parent</a><span>|</span><a href="#37608019">prev</a><span>|</span><a href="#37605231">next</a><span>|</span><label class="collapse" for="c-37609135">[-]</label><label class="expand" for="c-37609135">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  You basically always have to have a compiler that&#x27;s 1 release
  old or otherwise you cannot compile new Rust software like the
  very widely used time crate.
</code></pre>
That&#x27;s an interesting example as the time crate stagnated for quite a while and even the current version only requires Rust 1.67 or newer.  The current Rust version is 1.72.</div><br/></div></div></div></div></div></div></div></div><div id="37605231" class="c"><input type="checkbox" id="c-37605231" checked=""/><div class="controls bullet"><span class="by">est31</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604876">parent</a><span>|</span><a href="#37604926">prev</a><span>|</span><a href="#37606108">next</a><span>|</span><label class="collapse" for="c-37605231">[-]</label><label class="expand" for="c-37605231">[3 more]</label></div><br/><div class="children"><div class="content">A rewrite of a webp decoder into Rust already exists (image-rs has a decoder for webp). I&#x27;m sure there is some polishing needed but it&#x27;s nothing a company the size of Google can&#x27;t afford.</div><br/><div id="37608008" class="c"><input type="checkbox" id="c-37608008" checked=""/><div class="controls bullet"><span class="by">Yeroc</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605231">parent</a><span>|</span><a href="#37606108">next</a><span>|</span><label class="collapse" for="c-37608008">[-]</label><label class="expand" for="c-37608008">[2 more]</label></div><br/><div class="children"><div class="content">Unfortunately, the readme for image-rs indicates that webp support is provided via the libwebp C library!</div><br/><div id="37609570" class="c"><input type="checkbox" id="c-37609570" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37608008">parent</a><span>|</span><a href="#37606108">next</a><span>|</span><label class="collapse" for="c-37609570">[-]</label><label class="expand" for="c-37609570">[1 more]</label></div><br/><div class="children"><div class="content">Only for encoding.</div><br/></div></div></div></div></div></div><div id="37606108" class="c"><input type="checkbox" id="c-37606108" checked=""/><div class="controls bullet"><span class="by">skitter</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604876">parent</a><span>|</span><a href="#37605231">prev</a><span>|</span><a href="#37605140">next</a><span>|</span><label class="collapse" for="c-37606108">[-]</label><label class="expand" for="c-37606108">[1 more]</label></div><br/><div class="children"><div class="content">Mozilla has an interesting sandboxing strategy: They compile some of the C&#x2F;C++ parts of Firefox (e.g. the ogg parser) to Wasm and then back to C. Because Wasm is memory safe, the resulting C is too.</div><br/></div></div></div></div></div></div><div id="37605140" class="c"><input type="checkbox" id="c-37605140" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37603793">parent</a><span>|</span><a href="#37603993">prev</a><span>|</span><a href="#37609336">next</a><span>|</span><label class="collapse" for="c-37605140">[-]</label><label class="expand" for="c-37605140">[8 more]</label></div><br/><div class="children"><div class="content">This again.<p>Strong type systems can give <i>provably</i> correct code. For trusted code (e.g. not third party code), sandboxing is a post-exploit mitigation. And such a post-exploit mitigation cannot necessarily guard against any class of bugs that (at least in some aspect) provably correct code can.<p>Yes, of course privilege separation as much as possible is still extremely valuable, but to say that sandboxing is a &quot;better&quot; solution, implying that one should not pursue provable correct code in favor of post-exploit mitigation, is a harsh liability. It&#x27;s the same as the &quot;oh, we don&#x27;t need to use a type safe language, we have unit tests&quot;-crowd, only worse.</div><br/><div id="37608158" class="c"><input type="checkbox" id="c-37608158" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605140">parent</a><span>|</span><a href="#37605244">next</a><span>|</span><label class="collapse" for="c-37608158">[-]</label><label class="expand" for="c-37608158">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Strong type systems can give <i>provably</i> correct code.<p>&quot;Sound&quot; [1] type systems only guarantee the absence of some class of bugs as well. There are a lot of bug classes that remain exploitable. Memory safety happens to be a low-hanging fruit because many existing softwares are not even written in such languages.<p>[1] &quot;Strong&quot; type systems generally refer to the intolerance towards implicit type conversions or memory unsafety, and that alone doesn&#x27;t make type systems provably safe in some sense.</div><br/><div id="37608944" class="c"><input type="checkbox" id="c-37608944" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37608158">parent</a><span>|</span><a href="#37605244">next</a><span>|</span><label class="collapse" for="c-37608944">[-]</label><label class="expand" for="c-37608944">[1 more]</label></div><br/><div class="children"><div class="content">I did not claim that everything about the code was proven correct, but a subset of properties expressable by the type system.<p>I agree that using the word âstrongâ was wrong. I basically meant it in the sense of âgoodâ&#x2F;âelaborateâ, mistakenly ignoring that âstrongâ already has a very specific meaning in type systems. Thanks for correcting.</div><br/></div></div></div></div><div id="37605244" class="c"><input type="checkbox" id="c-37605244" checked=""/><div class="controls bullet"><span class="by">kentonv</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605140">parent</a><span>|</span><a href="#37608158">prev</a><span>|</span><a href="#37606927">next</a><span>|</span><label class="collapse" for="c-37605244">[-]</label><label class="expand" for="c-37605244">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Strong type systems can give provably correct code.<p>In theory, perhaps. In practice, the compiler &#x2F; runtime will have bugs. So you still need a sandboxing layer. Best to do both.<p>(The sandbox will have bugs too. But if you have two layers, hopefully it&#x27;s hard for attackers to get ahold of zero days for both at the same time...)</div><br/><div id="37608996" class="c"><input type="checkbox" id="c-37608996" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605244">parent</a><span>|</span><a href="#37608033">next</a><span>|</span><label class="collapse" for="c-37608996">[-]</label><label class="expand" for="c-37608996">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, anything can be implemented incorrectly. My point was specifically that ignoring memory safe languages in favor of post-exploit mitigation is foolish, not that the latter is useless.<p>But in practice, type systems can be proven to be sound, implementations of type checkers can be proven correct, and while itâs still possible to make mistakes there, that isnât so much an issue in mathematics, simply because of how rigorous it is. This does not just include type systems, thereâs even an effort to rebase the foundation of mathematics on a type system instead of set theory!<p>In other words, we likely agree that steel vaults can have holes. But we probably also agree that an average steel vault is better in keeping things in or out of it than a velvet curtain.</div><br/></div></div><div id="37608033" class="c"><input type="checkbox" id="c-37608033" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605244">parent</a><span>|</span><a href="#37608996">prev</a><span>|</span><a href="#37606927">next</a><span>|</span><label class="collapse" for="c-37608033">[-]</label><label class="expand" for="c-37608033">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In theory, perhaps. In practice, the compiler &#x2F; runtime will have bugs.<p>They probably won&#x27;t. The trusted kernel for these systems is tiny; a sandbox is orders of magnitude more complex with orders of magnitude more chances for bugs to creep in.</div><br/></div></div></div></div><div id="37606927" class="c"><input type="checkbox" id="c-37606927" checked=""/><div class="controls bullet"><span class="by">0x53</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605140">parent</a><span>|</span><a href="#37605244">prev</a><span>|</span><a href="#37609336">next</a><span>|</span><label class="collapse" for="c-37606927">[-]</label><label class="expand" for="c-37606927">[2 more]</label></div><br/><div class="children"><div class="content">What does provably correct mean here? I think you mean that the code doesnât have any memory corruption vulnerabilities. However, that is only one class of vulnerability, so more techniques then just relying on a memory safe language are required for secure software.</div><br/><div id="37609031" class="c"><input type="checkbox" id="c-37609031" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37606927">parent</a><span>|</span><a href="#37609336">next</a><span>|</span><label class="collapse" for="c-37609031">[-]</label><label class="expand" for="c-37609031">[1 more]</label></div><br/><div class="children"><div class="content">It means that the type system can prove certain properties for you. For example, in languages with dependent type systems like Agda, you can construct a sorted list type that the compiler will prove it sorted at all times, otherwise it wonât compile. Or a complex tree type that is always balanced. Or a set of only even numbers, and again it wonât compile otherwiseâ¦<p>(Sadly, if you go that far, it isnât generally Turing complete anymore. Though in some cases thatâs a good thing.)</div><br/></div></div></div></div></div></div><div id="37609336" class="c"><input type="checkbox" id="c-37609336" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37603793">parent</a><span>|</span><a href="#37605140">prev</a><span>|</span><a href="#37604131">next</a><span>|</span><label class="collapse" for="c-37609336">[-]</label><label class="expand" for="c-37609336">[1 more]</label></div><br/><div class="children"><div class="content">Second problem: sandbox aren&#x27;t perfect either. It&#x27;s indeed useful, as part of a defense-in-depth approach, but it&#x27;s far from sufficient.<p>Memory safety could solve the problem altogether, but then again no program is 100% memory safe, there&#x27;s always some kind of primitive that uses memory-unsafe code under the hood, so it&#x27;s not perfect either.<p>The  âperfectâ solution would probably be:<p>- use memory safe languages<p>- all primitives using memory unsafe stuff should get <i>formally</i> verified<p>Rust is kind of aiming at this (with things like [1] and [2]), but it&#x27;s not there yet.<p>[1]: <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;pdf&#x2F;10.1145&#x2F;3158154" rel="nofollow noreferrer">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;pdf&#x2F;10.1145&#x2F;3158154</a>
[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;rust-secure-code&#x2F;safety-dance">https:&#x2F;&#x2F;github.com&#x2F;rust-secure-code&#x2F;safety-dance</a></div><br/></div></div></div></div><div id="37604131" class="c"><input type="checkbox" id="c-37604131" checked=""/><div class="controls bullet"><span class="by">spookie</span><span>|</span><a href="#37603274">parent</a><span>|</span><a href="#37603793">prev</a><span>|</span><a href="#37604080">next</a><span>|</span><label class="collapse" for="c-37604131">[-]</label><label class="expand" for="c-37604131">[9 more]</label></div><br/><div class="children"><div class="content">Using memory safe languages may help, but the core issue lies on the lack of understanding of the program as a whole. Hence, the over reliance on fuzzing.</div><br/><div id="37608945" class="c"><input type="checkbox" id="c-37608945" checked=""/><div class="controls bullet"><span class="by">pcwalton</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604131">parent</a><span>|</span><a href="#37604818">next</a><span>|</span><label class="collapse" for="c-37608945">[-]</label><label class="expand" for="c-37608945">[1 more]</label></div><br/><div class="children"><div class="content">Debating what the &quot;core issue&quot; is may be an interesting philosophical debate, but at the end of the day, using a memory-safe language would have prevented this issue from being exploitable.</div><br/></div></div><div id="37604818" class="c"><input type="checkbox" id="c-37604818" checked=""/><div class="controls bullet"><span class="by">Yeroc</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604131">parent</a><span>|</span><a href="#37608945">prev</a><span>|</span><a href="#37605167">next</a><span>|</span><label class="collapse" for="c-37604818">[-]</label><label class="expand" for="c-37604818">[2 more]</label></div><br/><div class="children"><div class="content">May help?  Studies have shown that ~70% [1] of all security issues (including this one) are memory safety issues.<p>[1] <a href="https:&#x2F;&#x2F;security.googleblog.com&#x2F;2021&#x2F;02&#x2F;mitigating-memory-safety-issues-in-open.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;security.googleblog.com&#x2F;2021&#x2F;02&#x2F;mitigating-memory-sa...</a></div><br/></div></div><div id="37605167" class="c"><input type="checkbox" id="c-37605167" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37604131">parent</a><span>|</span><a href="#37604818">prev</a><span>|</span><a href="#37604080">next</a><span>|</span><label class="collapse" for="c-37605167">[-]</label><label class="expand" for="c-37605167">[5 more]</label></div><br/><div class="children"><div class="content">Luckily type safe languages, which includes memory safe languages, help you in understanding the program as a whole better, and strictly prevent you from doing things against that understanding, because the types literally encode automatically proven properties of your code.</div><br/><div id="37608045" class="c"><input type="checkbox" id="c-37608045" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37605167">parent</a><span>|</span><a href="#37604080">next</a><span>|</span><label class="collapse" for="c-37608045">[-]</label><label class="expand" for="c-37608045">[4 more]</label></div><br/><div class="children"><div class="content">Not all memory safe languages are type safe. I&#x27;d argue that expressive ML-style typing is if anything more important than memory safety, although it&#x27;s hard to tell since a type-safe language will almost always have to be memory-safe.</div><br/><div id="37608920" class="c"><input type="checkbox" id="c-37608920" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37608045">parent</a><span>|</span><a href="#37604080">next</a><span>|</span><label class="collapse" for="c-37608920">[-]</label><label class="expand" for="c-37608920">[3 more]</label></div><br/><div class="children"><div class="content">I never claimed all memory safe languages are type safe. But memory safety is a subset of type safety. Whether dynamic or static (though Iâm much in the latter camp), memory safety is achieved through information associated with the types. Whether thatâs exposed to the surface or not: Rust exposes it and is static, Haskell normally does not expose it and is also static, most modern dynamic languages are memory safe but donât expose the associated information.</div><br/><div id="37609023" class="c"><input type="checkbox" id="c-37609023" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37608920">parent</a><span>|</span><a href="#37604080">next</a><span>|</span><label class="collapse" for="c-37609023">[-]</label><label class="expand" for="c-37609023">[2 more]</label></div><br/><div class="children"><div class="content">&gt; But memory safety is a subset of type safety. Whether dynamic or static (though Iâm much in the latter camp), memory safety is achieved through information associated with the types.<p>Nah. Dynamic languages don&#x27;t actually have types (even if they have something that they call types), and even typed-but-GCed languages often don&#x27;t really use the types for memory safety.</div><br/><div id="37609060" class="c"><input type="checkbox" id="c-37609060" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37603274">root</a><span>|</span><a href="#37609023">parent</a><span>|</span><a href="#37604080">next</a><span>|</span><label class="collapse" for="c-37609060">[-]</label><label class="expand" for="c-37609060">[1 more]</label></div><br/><div class="children"><div class="content">They have value types. The expressions donât have types (or rather very general types), but the values do, and itâs still possible to have a dynamic language with very rigorous value types that have a well-defined set of inhabitants.<p>Any dynamic language that has a string type has something similar to (for example) a buffer and a length associated with it internally. You can formalize that from the compilerâs perspective, even if you donât expose it to the outside.<p>You could argue that the <i>language</i> doesnât necessarily have memory safety associated with its types, because a compliant compiler or interpreter could represent strings in any way it chooses, and on some academic level thereâs merit to that, but in practice youâd be rather stupid to implement the string value type in an interpreter or compiler for a language with a common string type in a memory unsafe way.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37606815" class="c"><input type="checkbox" id="c-37606815" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#37603274">prev</a><span>|</span><a href="#37605933">next</a><span>|</span><label class="collapse" for="c-37606815">[-]</label><label class="expand" for="c-37606815">[6 more]</label></div><br/><div class="children"><div class="content">Millions of people in the world are affected by this library, 10 times over for every devices and apps they use.<p>I&#x27;m sorry but I call for libraries used by millions around the world to NOT use C. And I love C... But this risk ratio is off the charts and they ought to not use C for such critical libraries.<p>Even as a C guru, you are going to make a mistake, at some point.<p>I think this is the fix <a href="https:&#x2F;&#x2F;github.com&#x2F;webmproject&#x2F;libwebp&#x2F;commit&#x2F;dce8397fec159c9edfeec7c6388cb81428c87ed8">https:&#x2F;&#x2F;github.com&#x2F;webmproject&#x2F;libwebp&#x2F;commit&#x2F;dce8397fec159c...</a><p>&quot;malloc fail&quot;? :facepalm: (oh yes, Slack, Discord, Teams, everything is affected, including all modern OS).</div><br/><div id="37607805" class="c"><input type="checkbox" id="c-37607805" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#37606815">parent</a><span>|</span><a href="#37609451">next</a><span>|</span><label class="collapse" for="c-37607805">[-]</label><label class="expand" for="c-37607805">[3 more]</label></div><br/><div class="children"><div class="content">This is the fix: <a href="https:&#x2F;&#x2F;github.com&#x2F;webmproject&#x2F;libwebp&#x2F;commit&#x2F;902bc9190331343b2017211debcec8d2ab87e17a">https:&#x2F;&#x2F;github.com&#x2F;webmproject&#x2F;libwebp&#x2F;commit&#x2F;902bc919033134...</a></div><br/><div id="37607994" class="c"><input type="checkbox" id="c-37607994" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#37606815">root</a><span>|</span><a href="#37607805">parent</a><span>|</span><a href="#37609451">next</a><span>|</span><label class="collapse" for="c-37607994">[-]</label><label class="expand" for="c-37607994">[2 more]</label></div><br/><div class="children"><div class="content">Thanks!</div><br/><div id="37608160" class="c"><input type="checkbox" id="c-37608160" checked=""/><div class="controls bullet"><span class="by">chrisbolt</span><span>|</span><a href="#37606815">root</a><span>|</span><a href="#37607994">parent</a><span>|</span><a href="#37609451">next</a><span>|</span><label class="collapse" for="c-37608160">[-]</label><label class="expand" for="c-37608160">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a follow-up fix, according to Debian[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;webmproject&#x2F;libwebp&#x2F;commit&#x2F;95ea5226c870449522240ccff26f0b006037c520">https:&#x2F;&#x2F;github.com&#x2F;webmproject&#x2F;libwebp&#x2F;commit&#x2F;95ea5226c87044...</a><p>[0]: <a href="https:&#x2F;&#x2F;security-tracker.debian.org&#x2F;tracker&#x2F;CVE-2023-4863" rel="nofollow noreferrer">https:&#x2F;&#x2F;security-tracker.debian.org&#x2F;tracker&#x2F;CVE-2023-4863</a></div><br/></div></div></div></div></div></div><div id="37609451" class="c"><input type="checkbox" id="c-37609451" checked=""/><div class="controls bullet"><span class="by">ctz</span><span>|</span><a href="#37606815">parent</a><span>|</span><a href="#37607805">prev</a><span>|</span><a href="#37606827">next</a><span>|</span><label class="collapse" for="c-37609451">[-]</label><label class="expand" for="c-37609451">[1 more]</label></div><br/><div class="children"><div class="content">Not a single test, either here or in adjacent commits.<p>!?!</div><br/></div></div></div></div><div id="37605933" class="c"><input type="checkbox" id="c-37605933" checked=""/><div class="controls bullet"><span class="by">SubzeroCarnage</span><span>|</span><a href="#37606815">prev</a><span>|</span><a href="#37603051">next</a><span>|</span><label class="collapse" for="c-37605933">[-]</label><label class="expand" for="c-37605933">[2 more]</label></div><br/><div class="children"><div class="content">re Android:<p>My DivestOS 14.1 (A7) through 19.1 (A12) has this patched, and 20.0 (A13) is currently compiling: <a href="https:&#x2F;&#x2F;divestos.org&#x2F;pages&#x2F;news#2023-09.2" rel="nofollow noreferrer">https:&#x2F;&#x2F;divestos.org&#x2F;pages&#x2F;news#2023-09.2</a><p>GrapheneOS shipped it: <a href="https:&#x2F;&#x2F;grapheneos.org&#x2F;releases#2023091800" rel="nofollow noreferrer">https:&#x2F;&#x2F;grapheneos.org&#x2F;releases#2023091800</a><p>CalyxOS has it staged for next update: <a href="https:&#x2F;&#x2F;review.calyxos.org&#x2F;c&#x2F;CalyxOS&#x2F;platform_external_webp&#x2F;+&#x2F;20327" rel="nofollow noreferrer">https:&#x2F;&#x2F;review.calyxos.org&#x2F;c&#x2F;CalyxOS&#x2F;platform_external_webp&#x2F;...</a><p>LineageOS 18.1+ also pulled it in: <a href="https:&#x2F;&#x2F;review.lineageos.org&#x2F;q&#x2F;topic:%22CVE-2023-4863%22" rel="nofollow noreferrer">https:&#x2F;&#x2F;review.lineageos.org&#x2F;q&#x2F;topic:%22CVE-2023-4863%22</a><p>Additionally all of the above have shipped Chromium 117.0.5938.60 which contained the same fix as well: <a href="https:&#x2F;&#x2F;divestos.org&#x2F;misc&#x2F;ch-dates.txt" rel="nofollow noreferrer">https:&#x2F;&#x2F;divestos.org&#x2F;misc&#x2F;ch-dates.txt</a></div><br/></div></div><div id="37603051" class="c"><input type="checkbox" id="c-37603051" checked=""/><div class="controls bullet"><span class="by">Syonyk</span><span>|</span><a href="#37605933">prev</a><span>|</span><a href="#37608197">next</a><span>|</span><label class="collapse" for="c-37603051">[-]</label><label class="expand" for="c-37603051">[19 more]</label></div><br/><div class="children"><div class="content">Good writeup, thanks for sharing it!<p>And yet another argument for &quot;You ought to be using Qubes.&quot;  Random web access needs to be treated as &quot;Genuinely high risk&quot; anymore.  A disposable VM with nothing of value in it for &quot;casual web use&quot; seems the right option for exploring the security hostile environment of &quot;the internet.&quot;</div><br/><div id="37605381" class="c"><input type="checkbox" id="c-37605381" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#37603051">parent</a><span>|</span><a href="#37603852">next</a><span>|</span><label class="collapse" for="c-37605381">[-]</label><label class="expand" for="c-37605381">[1 more]</label></div><br/><div class="children"><div class="content">Sure, that might help you on your desktop. But this exploit was only discovered because of a zero-click iOS exploit, where the payload was encoded in an iMessage attachment that opened in Passkit, which rendered the WebP file. (In fact the user didn&#x27;t even need to &quot;open&quot; the attachment - just receiving the message was sufficient to trigger the exploit.)<p>So Qubes won&#x27;t help you everywhere, and the WebP decoder is everywhere.</div><br/></div></div><div id="37603852" class="c"><input type="checkbox" id="c-37603852" checked=""/><div class="controls bullet"><span class="by">cogman10</span><span>|</span><a href="#37603051">parent</a><span>|</span><a href="#37605381">prev</a><span>|</span><a href="#37603533">next</a><span>|</span><label class="collapse" for="c-37603852">[-]</label><label class="expand" for="c-37603852">[6 more]</label></div><br/><div class="children"><div class="content">Unless you are making a vm per page refresh, I can&#x27;t really see how a browser in the VM is any safer than a browser outside the VM.<p>My most valuable stuff (passwords, bank accounts, logins) is accessible from the browser.  You&#x27;d need to somehow sandbox and frequently destroy&#x2F;restore the rendering and javascript engine to avoid leaking this information cross site while having a fairly strict firewall between those and the external browser. (IE: cookie&#x2F;session&#x2F;password storage).</div><br/><div id="37603981" class="c"><input type="checkbox" id="c-37603981" checked=""/><div class="controls bullet"><span class="by">Syonyk</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603852">parent</a><span>|</span><a href="#37603533">next</a><span>|</span><label class="collapse" for="c-37603981">[-]</label><label class="expand" for="c-37603981">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not &quot;a browser in a VM.&quot;<p>It&#x27;s &quot;A range of VMs, with different browsers in them, for different purposes.&quot;<p>My &quot;random web use&quot; browser VMs don&#x27;t have <i>anything</i> in them - they&#x27;re ephemeral.  If I need a password, I copy it from another VM over.  If you escape into that VM, you might be able to grab a password being pasted, but I don&#x27;t access anything I consider sensitive in them - just random forum accounts, etc.  And it&#x27;s easy enough to spin up other disposable VMs for stuff in Qubes (I actually mostly browse through the Tor network, to add traffic to it).<p>So, for your use case, you&#x27;d have one VM with your &quot;core&quot; stuff - passwords, logged in to webmail, banking.  And then you do everything else web related in a different VM.</div><br/><div id="37604062" class="c"><input type="checkbox" id="c-37604062" checked=""/><div class="controls bullet"><span class="by">cogman10</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603981">parent</a><span>|</span><a href="#37603533">next</a><span>|</span><label class="collapse" for="c-37604062">[-]</label><label class="expand" for="c-37604062">[4 more]</label></div><br/><div class="children"><div class="content">Ah, makes sense.<p>Probably a good solution for the highly technical, not something I could ever propose to my mother.</div><br/><div id="37604253" class="c"><input type="checkbox" id="c-37604253" checked=""/><div class="controls bullet"><span class="by">halJordan</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37604062">parent</a><span>|</span><a href="#37603533">next</a><span>|</span><label class="collapse" for="c-37604253">[-]</label><label class="expand" for="c-37604253">[3 more]</label></div><br/><div class="children"><div class="content">I mean your mother is successfully using Apple&#x27;s highly sophisticated sandboxes and things like authenticated pointers. (sHe&#x27;s On AnDrOiD)<p>For Qubes specifically she can understand theres a bank Qube and a Facebook Qube and a nothing-special Qubes and its all color coordinated. She doesn&#x27;t even need to know they are VMs, they&#x27;re just color coded windows</div><br/><div id="37605316" class="c"><input type="checkbox" id="c-37605316" checked=""/><div class="controls bullet"><span class="by">hiatus</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37604253">parent</a><span>|</span><a href="#37603533">next</a><span>|</span><label class="collapse" for="c-37605316">[-]</label><label class="expand" for="c-37605316">[2 more]</label></div><br/><div class="children"><div class="content">As a qubes user myself, I don&#x27;t think my mother would be able to perform the initial setup and segregation, not to mention endure the hurdles of copy&#x2F;paste rules and filesharing across VMs. Oh sure, she could learn another set of copy paste keyboard shortcuts that will end up as another handwritten note on her list of keyboard shortcuts. Not to mention how frequently I&#x27;d get called due to slowness as she neglects to close the VMs. And say goodbye to remote support options unless she gives me SSH to dom0 but then why do any of this anyway at that point?</div><br/><div id="37607017" class="c"><input type="checkbox" id="c-37607017" checked=""/><div class="controls bullet"><span class="by">jwells89</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37605316">parent</a><span>|</span><a href="#37603533">next</a><span>|</span><label class="collapse" for="c-37607017">[-]</label><label class="expand" for="c-37607017">[1 more]</label></div><br/><div class="children"><div class="content">My bet is that over time most people would slip on the separation and end up with tons of tabs in the wrong containers. The only way it&#x27;d work in the long term is if there were some way of automatically taking link clicks in the &quot;wrong&quot; container, thoroughly sanitizing them, and then tossing them over the &quot;right&quot; container but then you&#x27;re back to risking cross-contamination.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37603533" class="c"><input type="checkbox" id="c-37603533" checked=""/><div class="controls bullet"><span class="by">bennyg</span><span>|</span><a href="#37603051">parent</a><span>|</span><a href="#37603852">prev</a><span>|</span><a href="#37608318">next</a><span>|</span><label class="collapse" for="c-37603533">[-]</label><label class="expand" for="c-37603533">[8 more]</label></div><br/><div class="children"><div class="content">This is a fun idea, are there any browsers that hide the VM from end users so it looks and feels like a browser instance but is actually a tunnel into a sandboxed VM thatâs being painted to?</div><br/><div id="37603684" class="c"><input type="checkbox" id="c-37603684" checked=""/><div class="controls bullet"><span class="by">Chabsff</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603533">parent</a><span>|</span><a href="#37604099">next</a><span>|</span><label class="collapse" for="c-37603684">[-]</label><label class="expand" for="c-37603684">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s kinda-sorta what they all do already. Not full OS-level VM abstraction, but surprisingly close to it. Exploits like this need to be paired with sandbox-escaping in order to do damage beyond the current browsing session (which VMs wouldn&#x27;t help with in the first place). And the distinction between sandbox-escaping and VM-escaping is rather thin.</div><br/><div id="37603989" class="c"><input type="checkbox" id="c-37603989" checked=""/><div class="controls bullet"><span class="by">Syonyk</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603684">parent</a><span>|</span><a href="#37604099">next</a><span>|</span><label class="collapse" for="c-37603989">[-]</label><label class="expand" for="c-37603989">[3 more]</label></div><br/><div class="children"><div class="content">&gt; <i>And the distinction between sandbox-escaping and VM-escaping is rather thin.</i><p>Eh, I think it&#x27;s a good bit harder to escape a HVM isolated virtual machine than a sandbox.  At least, I&#x27;m not aware of many cross-Xen VM escapes.</div><br/><div id="37609660" class="c"><input type="checkbox" id="c-37609660" checked=""/><div class="controls bullet"><span class="by">taway1237</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603989">parent</a><span>|</span><a href="#37608052">next</a><span>|</span><label class="collapse" for="c-37609660">[-]</label><label class="expand" for="c-37609660">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a huge difference. Browser sandboxes are not &quot;real&quot; VMs and share a kernel. And in case of Chromium it&#x27;s enough to read a few bytes from another process (token) to escape.</div><br/></div></div><div id="37608052" class="c"><input type="checkbox" id="c-37608052" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603989">parent</a><span>|</span><a href="#37609660">prev</a><span>|</span><a href="#37604099">next</a><span>|</span><label class="collapse" for="c-37608052">[-]</label><label class="expand" for="c-37608052">[1 more]</label></div><br/><div class="children"><div class="content">There used to be dozens of them at any given time; maybe they&#x27;re a bit rarer now that cloud providers have been banging on them for a while.</div><br/></div></div></div></div></div></div><div id="37604099" class="c"><input type="checkbox" id="c-37604099" checked=""/><div class="controls bullet"><span class="by">tech234a</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603533">parent</a><span>|</span><a href="#37603684">prev</a><span>|</span><a href="#37603615">next</a><span>|</span><label class="collapse" for="c-37604099">[-]</label><label class="expand" for="c-37604099">[1 more]</label></div><br/><div class="children"><div class="content">This exists as an option for Microsoft Edge on Windows: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;deployedge&#x2F;microsoft-edge-security-windows-defender-application-guard" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;deployedge&#x2F;microsoft-edge-...</a></div><br/></div></div><div id="37603615" class="c"><input type="checkbox" id="c-37603615" checked=""/><div class="controls bullet"><span class="by">mminer237</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603533">parent</a><span>|</span><a href="#37604099">prev</a><span>|</span><a href="#37608318">next</a><span>|</span><label class="collapse" for="c-37603615">[-]</label><label class="expand" for="c-37603615">[2 more]</label></div><br/><div class="children"><div class="content">The problem is that browsers are the biggest attack vectors but also the most valuable targets. Getting a user&#x27;s email password or cookie is probably the most damaging thing they could get unless you&#x27;re the type to buy cryptocurrencies.</div><br/><div id="37605397" class="c"><input type="checkbox" id="c-37605397" checked=""/><div class="controls bullet"><span class="by">hiatus</span><span>|</span><a href="#37603051">root</a><span>|</span><a href="#37603615">parent</a><span>|</span><a href="#37608318">next</a><span>|</span><label class="collapse" for="c-37605397">[-]</label><label class="expand" for="c-37605397">[1 more]</label></div><br/><div class="children"><div class="content">Not your bank? Email and bank login should be sufficient to change mfa and other settings and lock you out long enough to have forged checks drawn and cashed against your account.</div><br/></div></div></div></div></div></div><div id="37608318" class="c"><input type="checkbox" id="c-37608318" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#37603051">parent</a><span>|</span><a href="#37603533">prev</a><span>|</span><a href="#37604105">next</a><span>|</span><label class="collapse" for="c-37608318">[-]</label><label class="expand" for="c-37608318">[1 more]</label></div><br/><div class="children"><div class="content">Tools should work for people, not the other way around. The cognitive load of manually managing sandboxes is huge. Instead we could build tools that arenât fundamentally broken. Memory safety should be formally guaranteed before shipping.</div><br/></div></div><div id="37604105" class="c"><input type="checkbox" id="c-37604105" checked=""/><div class="controls bullet"><span class="by">circuit10</span><span>|</span><a href="#37603051">parent</a><span>|</span><a href="#37608318">prev</a><span>|</span><a href="#37603475">next</a><span>|</span><label class="collapse" for="c-37604105">[-]</label><label class="expand" for="c-37604105">[1 more]</label></div><br/><div class="children"><div class="content">Browsers already have sandboxes, they&#x27;re not perfect but neither are VMs, and if you&#x27;re going for a layer of security through obscurity by having an unusual setup (which is bad on its own but when layered with real security can be fine) then just running Linux is probably enough already</div><br/></div></div></div></div><div id="37608197" class="c"><input type="checkbox" id="c-37608197" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#37603051">prev</a><span>|</span><a href="#37604458">next</a><span>|</span><label class="collapse" for="c-37608197">[-]</label><label class="expand" for="c-37608197">[2 more]</label></div><br/><div class="children"><div class="content">The gigantic âSubscribeâ button on this page is infuriating and highly distracting. It effectively covers 1&#x2F;3 to 1&#x2F;2 of the page if you scroll once a paragraph like me and many others.</div><br/></div></div><div id="37604458" class="c"><input type="checkbox" id="c-37604458" checked=""/><div class="controls bullet"><span class="by">johnklos</span><span>|</span><a href="#37608197">prev</a><span>|</span><a href="#37606025">next</a><span>|</span><label class="collapse" for="c-37604458">[-]</label><label class="expand" for="c-37604458">[6 more]</label></div><br/><div class="children"><div class="content">Funny, because for ages I was running macOS on a 2011 MacBook Pro which had a version of Safari that was so old it didn&#x27;t support webp. At the same time, my Amiga 3000 running AmigaDOS 3.2.2 could support webp by virtue of an operating system-wide datatype plugin for webp.<p>Updating the OS-wide datatype means all apps are updated, not just the browser. Why is this STILL not the case on supposedly modern OSes these days?</div><br/><div id="37604701" class="c"><input type="checkbox" id="c-37604701" checked=""/><div class="controls bullet"><span class="by">pornel</span><span>|</span><a href="#37604458">parent</a><span>|</span><a href="#37604619">next</a><span>|</span><label class="collapse" for="c-37604701">[-]</label><label class="expand" for="c-37604701">[1 more]</label></div><br/><div class="children"><div class="content">The reason is most likely security and stability. OS vendors don&#x27;t want every application to be potentially vulnerable or unstable, because user installed some dubious codec pack.<p>One place where macOS allows arbitrary codecs is Quicklook plugins, but these are designed to run in a separate process. It&#x27;d be wise to implement image codecs the same way, but so far they&#x27;re typically a library linked in the same process.</div><br/></div></div><div id="37604619" class="c"><input type="checkbox" id="c-37604619" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37604458">parent</a><span>|</span><a href="#37604701">prev</a><span>|</span><a href="#37604628">next</a><span>|</span><label class="collapse" for="c-37604619">[-]</label><label class="expand" for="c-37604619">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t really <i>want</i> this to be the case. Remember when Firefox accidentally exposed all gstreamer plugins to the web?<p>Having some insecure unaudited badly written codec is fine for a lot of use cases because it operates on trusted data. But this is of course quite a different situation than being exposed to all webpages you visit.<p>The Amiga 3000 lived in a different world with a different internet.</div><br/></div></div><div id="37604628" class="c"><input type="checkbox" id="c-37604628" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#37604458">parent</a><span>|</span><a href="#37604619">prev</a><span>|</span><a href="#37608360">next</a><span>|</span><label class="collapse" for="c-37604628">[-]</label><label class="expand" for="c-37604628">[1 more]</label></div><br/><div class="children"><div class="content">FYI, you can install Safari Technology Preview (and Safari Beta) as a standalone app, without upgrading the entire OS: <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;safari&#x2F;technology-preview&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;developer.apple.com&#x2F;safari&#x2F;technology-preview&#x2F;</a></div><br/></div></div><div id="37608360" class="c"><input type="checkbox" id="c-37608360" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#37604458">parent</a><span>|</span><a href="#37604628">prev</a><span>|</span><a href="#37604625">next</a><span>|</span><label class="collapse" for="c-37608360">[-]</label><label class="expand" for="c-37608360">[1 more]</label></div><br/><div class="children"><div class="content">Especially infuriating because MacOS has the brilliant generic file viewing framework that they brand as Quick Look Plugins (QLPlugin). The name comes from where the feature started (pressing spacebar in the file viewer to ostensibly view literally any file) but it is used all over the place in Mac and iOS software.</div><br/></div></div></div></div><div id="37606025" class="c"><input type="checkbox" id="c-37606025" checked=""/><div class="controls bullet"><span class="by">not2b</span><span>|</span><a href="#37604458">prev</a><span>|</span><a href="#37602433">next</a><span>|</span><label class="collapse" for="c-37606025">[-]</label><label class="expand" for="c-37606025">[4 more]</label></div><br/><div class="children"><div class="content">Ubuntu and Fedora have put out security updates for libwebp, so any program that uses the shared library to access WEBP images is safe, once security updates are applied. Not sure about other Linux distros, but I expect that almost everyone has dealt with this. Unfortunately, snap and flatpak applications are a problem; it&#x27;s hard to tell which ones might have a bundled, vulnerable WEBP decoder linked in.</div><br/><div id="37607157" class="c"><input type="checkbox" id="c-37607157" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37606025">parent</a><span>|</span><a href="#37606835">next</a><span>|</span><label class="collapse" for="c-37607157">[-]</label><label class="expand" for="c-37607157">[1 more]</label></div><br/><div class="children"><div class="content">Not really âanyâ program but those that donât ship their own version and didnât statically link against libwebp (if thatâs an option?). Notably, browsers often donât use the system version of the library. Thatâs not the end of the world since browser vendors are on top of the security game for the most part - but the million Electron apps you might be running also each need to be updated individually!<p>Basically, donât rest easy and get complacent. Updating the OS distros is not enough.</div><br/></div></div></div></div><div id="37602433" class="c"><input type="checkbox" id="c-37602433" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#37606025">prev</a><span>|</span><a href="#37602954">next</a><span>|</span><label class="collapse" for="c-37602433">[-]</label><label class="expand" for="c-37602433">[10 more]</label></div><br/><div class="children"><div class="content">It feels like this bug has only really flown down under the radar because the discoverers are not in the habit of giving bugs names and landing pages. Both because of level of access (remote code execution), the vector (image rendering, often done with untrusted data) and the widespread nature of the affected library.</div><br/><div id="37602536" class="c"><input type="checkbox" id="c-37602536" checked=""/><div class="controls bullet"><span class="by">jsnell</span><span>|</span><a href="#37602433">parent</a><span>|</span><a href="#37602585">next</a><span>|</span><label class="collapse" for="c-37602536">[-]</label><label class="expand" for="c-37602536">[4 more]</label></div><br/><div class="children"><div class="content">Did it really fly under the radar? It was widely reported in the mainstream media. There were at least two &quot;top of HN frontpage&quot; submissions on it.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37425007">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37425007</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37478403">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37478403</a></div><br/><div id="37602955" class="c"><input type="checkbox" id="c-37602955" checked=""/><div class="controls bullet"><span class="by">mmsc</span><span>|</span><a href="#37602433">root</a><span>|</span><a href="#37602536">parent</a><span>|</span><a href="#37602854">next</a><span>|</span><label class="collapse" for="c-37602955">[-]</label><label class="expand" for="c-37602955">[1 more]</label></div><br/><div class="children"><div class="content">I would argue that it has flown under the radar because it has only been contextualized with respect to Chrome and iOS. The issue has and continues to affect many other critical places, including server-side image processing services.</div><br/></div></div><div id="37602854" class="c"><input type="checkbox" id="c-37602854" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#37602433">root</a><span>|</span><a href="#37602536">parent</a><span>|</span><a href="#37602955">prev</a><span>|</span><a href="#37602585">next</a><span>|</span><label class="collapse" for="c-37602854">[-]</label><label class="expand" for="c-37602854">[2 more]</label></div><br/><div class="children"><div class="content">Compared to the likes of log4shell, shellshock or heartbleed, yes. It feels like the immediately exploit possibility of it is arguably more than heartbleed, but I don&#x27;t see every security person chasing after it in the same way.<p>I&#x27;ve been following the progress of some of the fixes in apps I use and it&#x27;s meandering through intermediates at an urgency that is more akin to the ssh 9.1p1 vulnerability which required peopel to ssh into an affected server.</div><br/><div id="37602997" class="c"><input type="checkbox" id="c-37602997" checked=""/><div class="controls bullet"><span class="by">pvg</span><span>|</span><a href="#37602433">root</a><span>|</span><a href="#37602854">parent</a><span>|</span><a href="#37602585">next</a><span>|</span><label class="collapse" for="c-37602997">[-]</label><label class="expand" for="c-37602997">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s nothing close to heartbleed which was &#x27;extract key material from every TLS-serving endpoint in the universe&#x27;. There are almost certainly exploitable buffer overflows in whatever device you&#x27;re using right now.</div><br/></div></div></div></div></div></div><div id="37602585" class="c"><input type="checkbox" id="c-37602585" checked=""/><div class="controls bullet"><span class="by">jandrese</span><span>|</span><a href="#37602433">parent</a><span>|</span><a href="#37602536">prev</a><span>|</span><a href="#37602808">next</a><span>|</span><label class="collapse" for="c-37602585">[-]</label><label class="expand" for="c-37602585">[4 more]</label></div><br/><div class="children"><div class="content">BLASTPASS is an ok exploit name, but it is kinda specific.  People might think it was only about bypassing BlastDoor on iPhones.  A better name might have been something like &quot;WebPwn&quot;, which would have made it much more clear that it was a vulnerability in the image format.</div><br/><div id="37604315" class="c"><input type="checkbox" id="c-37604315" checked=""/><div class="controls bullet"><span class="by">halJordan</span><span>|</span><a href="#37602433">root</a><span>|</span><a href="#37602585">parent</a><span>|</span><a href="#37603176">next</a><span>|</span><label class="collapse" for="c-37604315">[-]</label><label class="expand" for="c-37604315">[1 more]</label></div><br/><div class="children"><div class="content">Blastpass is the exploit that broke open Blastdoor. The webp exploit is just a neat privilege escalation after you blastdoor&#x27;d the target.</div><br/></div></div><div id="37603176" class="c"><input type="checkbox" id="c-37603176" checked=""/><div class="controls bullet"><span class="by">AdmiralAsshat</span><span>|</span><a href="#37602433">root</a><span>|</span><a href="#37602585">parent</a><span>|</span><a href="#37604315">prev</a><span>|</span><a href="#37603743">next</a><span>|</span><label class="collapse" for="c-37603176">[-]</label><label class="expand" for="c-37603176">[1 more]</label></div><br/><div class="children"><div class="content">&quot;BLASTPASS&quot; made me initially think it was the exploit used to breach LastPass.</div><br/></div></div><div id="37603743" class="c"><input type="checkbox" id="c-37603743" checked=""/><div class="controls bullet"><span class="by">olliej</span><span>|</span><a href="#37602433">root</a><span>|</span><a href="#37602585">parent</a><span>|</span><a href="#37603176">prev</a><span>|</span><a href="#37602808">next</a><span>|</span><label class="collapse" for="c-37603743">[-]</label><label class="expand" for="c-37603743">[1 more]</label></div><br/><div class="children"><div class="content">WebPwn is a great name and I almost want a direct RCE in WebP just so it can get that name</div><br/></div></div></div></div></div></div><div id="37602954" class="c"><input type="checkbox" id="c-37602954" checked=""/><div class="controls bullet"><span class="by">freitzkriesler2</span><span>|</span><a href="#37602433">prev</a><span>|</span><a href="#37606967">next</a><span>|</span><label class="collapse" for="c-37602954">[-]</label><label class="expand" for="c-37602954">[12 more]</label></div><br/><div class="children"><div class="content">Ah webp, let me count the ways I hate thee...</div><br/><div id="37603618" class="c"><input type="checkbox" id="c-37603618" checked=""/><div class="controls bullet"><span class="by">Jigsy</span><span>|</span><a href="#37602954">parent</a><span>|</span><a href="#37604016">next</a><span>|</span><label class="collapse" for="c-37603618">[-]</label><label class="expand" for="c-37603618">[10 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t get the praise for webp either. Out of images I see, jpg has better details preserved than webp.</div><br/><div id="37603835" class="c"><input type="checkbox" id="c-37603835" checked=""/><div class="controls bullet"><span class="by">dchest</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37603618">parent</a><span>|</span><a href="#37603698">next</a><span>|</span><label class="collapse" for="c-37603835">[-]</label><label class="expand" for="c-37603835">[3 more]</label></div><br/><div class="children"><div class="content">The lossless format (where this bug&#x27;s in) achieves amazing compression rates, compared to PNG.</div><br/><div id="37606096" class="c"><input type="checkbox" id="c-37606096" checked=""/><div class="controls bullet"><span class="by">not2b</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37603835">parent</a><span>|</span><a href="#37603698">next</a><span>|</span><label class="collapse" for="c-37606096">[-]</label><label class="expand" for="c-37606096">[2 more]</label></div><br/><div class="children"><div class="content">Yes, the main benefit of WEBP is for lossless compression, it&#x27;s reported to be about 25% better, though this would depend on the image. For lossy, there&#x27;s no reason I can see to prefer it over JPEG.</div><br/><div id="37607727" class="c"><input type="checkbox" id="c-37607727" checked=""/><div class="controls bullet"><span class="by">edflsafoiewq</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37606096">parent</a><span>|</span><a href="#37603698">next</a><span>|</span><label class="collapse" for="c-37607727">[-]</label><label class="expand" for="c-37607727">[1 more]</label></div><br/><div class="children"><div class="content">The lossy format has alpha support, unlike JPEG.</div><br/></div></div></div></div></div></div><div id="37603698" class="c"><input type="checkbox" id="c-37603698" checked=""/><div class="controls bullet"><span class="by">freitzkriesler2</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37603618">parent</a><span>|</span><a href="#37603835">prev</a><span>|</span><a href="#37604016">next</a><span>|</span><label class="collapse" for="c-37603698">[-]</label><label class="expand" for="c-37603698">[6 more]</label></div><br/><div class="children"><div class="content">It&#x27;s an annoying format that Google made that&#x27;s proprietary and reinvents the wheel.<p>Had Microsoft done this the tech world would be up in arms. When Google does it, it&#x27;s OK.<p>I have to add extensions to convert this crap when I want to download images. I hope that Google loses their dominance to Microsoft with AI.</div><br/><div id="37603874" class="c"><input type="checkbox" id="c-37603874" checked=""/><div class="controls bullet"><span class="by">madars</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37603698">parent</a><span>|</span><a href="#37604361">next</a><span>|</span><label class="collapse" for="c-37603874">[-]</label><label class="expand" for="c-37603874">[1 more]</label></div><br/><div class="children"><div class="content">webp is not proprietary. There is a patent grant <a href="https:&#x2F;&#x2F;groups.google.com&#x2F;a&#x2F;webmproject.org&#x2F;g&#x2F;webp-discuss&#x2F;c&#x2F;W4_j7Tlofv8" rel="nofollow noreferrer">https:&#x2F;&#x2F;groups.google.com&#x2F;a&#x2F;webmproject.org&#x2F;g&#x2F;webp-discuss&#x2F;c...</a> and reference implementation is BSD-licensed.</div><br/></div></div><div id="37604361" class="c"><input type="checkbox" id="c-37604361" checked=""/><div class="controls bullet"><span class="by">halJordan</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37603698">parent</a><span>|</span><a href="#37603874">prev</a><span>|</span><a href="#37603953">next</a><span>|</span><label class="collapse" for="c-37604361">[-]</label><label class="expand" for="c-37604361">[3 more]</label></div><br/><div class="children"><div class="content">But you don&#x27;t have to add extensions to convert this crap. You do that to yourself. If you quit making your life hard it would be so much easier, but probably less complaining- so i guess that&#x27;s the trade off.</div><br/><div id="37604771" class="c"><input type="checkbox" id="c-37604771" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37604361">parent</a><span>|</span><a href="#37603953">next</a><span>|</span><label class="collapse" for="c-37604771">[-]</label><label class="expand" for="c-37604771">[2 more]</label></div><br/><div class="children"><div class="content">You do have to handle it though, and rarely when you want to. You click on a jpg link in your browser and save it, but the CDN invisibly converted it to webp. Which the program you want to edit the image in doesn&#x27;t support. I didn&#x27;t ask for webp. I didn&#x27;t try to make this difficult.</div><br/><div id="37609286" class="c"><input type="checkbox" id="c-37609286" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37604771">parent</a><span>|</span><a href="#37603953">next</a><span>|</span><label class="collapse" for="c-37609286">[-]</label><label class="expand" for="c-37609286">[1 more]</label></div><br/><div class="children"><div class="content">All modern image editors support webp</div><br/></div></div></div></div></div></div><div id="37603953" class="c"><input type="checkbox" id="c-37603953" checked=""/><div class="controls bullet"><span class="by">nayuki</span><span>|</span><a href="#37602954">root</a><span>|</span><a href="#37603698">parent</a><span>|</span><a href="#37604361">prev</a><span>|</span><a href="#37604016">next</a><span>|</span><label class="collapse" for="c-37603953">[-]</label><label class="expand" for="c-37603953">[1 more]</label></div><br/><div class="children"><div class="content">You might be interested that Microsoft developed JPEG XR: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;JPEG_XR" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;JPEG_XR</a> , <a href="https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;research&#x2F;project&#x2F;jpeg-xr&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;research&#x2F;project&#x2F;jpeg-xr&#x2F;</a> .<p>And in the past, they tried to shove Windows Media Video and Audio down our throats, which are inferior relatives of MPEG-4, AAC, FLAC, etc.</div><br/></div></div></div></div></div></div></div></div><div id="37606967" class="c"><input type="checkbox" id="c-37606967" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#37602954">prev</a><span>|</span><label class="collapse" for="c-37606967">[-]</label><label class="expand" for="c-37606967">[2 more]</label></div><br/><div class="children"><div class="content">Why can&#x27;t modern software pack with more &quot;modules&quot;? e.g. Just upgrade a webp.dll and we&#x27;re set.</div><br/><div id="37609298" class="c"><input type="checkbox" id="c-37609298" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#37606967">parent</a><span>|</span><label class="collapse" for="c-37609298">[-]</label><label class="expand" for="c-37609298">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s how most linux distros work, but it also leads to nasty diamond dependency problems</div><br/></div></div></div></div></div></div></div></div></div></body></html>