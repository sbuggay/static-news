<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699002059995" as="style"/><link rel="stylesheet" href="styles.css?v=1699002059995"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/iterative/dvc">ML Experiments Management with Git</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>shcheklein</span> | <span>23 comments</span></div><br/><div><div id="38122920" class="c"><input type="checkbox" id="c-38122920" checked=""/><div class="controls bullet"><span class="by">krastanov</span><span>|</span><a href="#38123811">next</a><span>|</span><label class="collapse" for="c-38122920">[-]</label><label class="expand" for="c-38122920">[1 more]</label></div><br/><div class="children"><div class="content">Another option, that manages versioning of your computational graph and its results and provides extremely elegant query-able memoization is Mandala <a href="https:&#x2F;&#x2F;github.com&#x2F;amakelov&#x2F;mandala">https:&#x2F;&#x2F;github.com&#x2F;amakelov&#x2F;mandala</a><p>It is a much simpler and much more magical piece of software that truly expanded how I think about writing, exploring, and experimenting with code. Even if you never use it, you probably would really enjoy reading the blog posts the author wrote about the design of the tool <a href="https:&#x2F;&#x2F;amakelov.github.io&#x2F;blog&#x2F;pl&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;amakelov.github.io&#x2F;blog&#x2F;pl&#x2F;</a></div><br/></div></div><div id="38123811" class="c"><input type="checkbox" id="c-38123811" checked=""/><div class="controls bullet"><span class="by">shcheklein</span><span>|</span><a href="#38122920">prev</a><span>|</span><a href="#38124178">next</a><span>|</span><label class="collapse" for="c-38123811">[-]</label><label class="expand" for="c-38123811">[2 more]</label></div><br/><div class="children"><div class="content">One of the maintainers here. I published this link tbh to specifically emphasize the experiment management aspect of DVC. Historically because of its name (Data Version Control) users perceived it as a pure replacement for LFS scenarios, while in reality it always had pipelines, metrics, etc, etc.<p>I 100% agree that managing large datasets by moving them around is not practical, and definitely not in LFS&#x2F;DVC-style. There should be a level of indirection if reproducibility is needed (pointers are versioned to files, not the data directly, data should be staying in the cloud).<p>Here, I would love to one more time mention some other cool features that DVC has. E.g. `dvc exp` set of commands where it is creating custom git refs to snapshot experiments, of DVCLive logger that helps capturing metrics, plots, etc. And also VS Code extension [1] that provides quite cool experience for experiments workflow inside VS Code.<p>Point here is that for DVC the ability to capture some large files and directories (that do not fit into Git) was always a low level mechanism to support higher level scenarios (e.g. you need to save a model somewhere as an output of an experiment).<p>[1] <a href="https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=Iterative.dvc" rel="nofollow noreferrer">https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=Iterativ...</a></div><br/><div id="38126078" class="c"><input type="checkbox" id="c-38126078" checked=""/><div class="controls bullet"><span class="by">matrss</span><span>|</span><a href="#38123811">parent</a><span>|</span><a href="#38124178">next</a><span>|</span><label class="collapse" for="c-38126078">[-]</label><label class="expand" for="c-38126078">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I 100% agree that managing large datasets by moving them around is not practical, and definitely not in LFS&#x2F;DVC-style. There should be a level of indirection if reproducibility is needed (pointers are versioned to files, not the data directly, data should be staying in the cloud).<p>I am not sure I understand that correctly. Are you saying that LFS&#x2F;DVC manage the data suboptimally because they do not use some kind of pointer?<p>I only have some experience with DataLad[0], not with DVC or LFS. DataLad is built on git-annex, which does a pointer indirection through symlinks or pointer files in git. You basically manage the directory structure in git and can &quot;get&quot; and &quot;drop&quot; specific files as you need them. git-annex keeps track of where (e.g. on what (remote) system, which could be anything from a http server over s3 to a nextcloud via webdav and more) the data is and how it can be fetched. I always thought DVC did something similar.<p>[0] <a href="https:&#x2F;&#x2F;www.datalad.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.datalad.org&#x2F;</a></div><br/></div></div></div></div><div id="38124178" class="c"><input type="checkbox" id="c-38124178" checked=""/><div class="controls bullet"><span class="by">BradyJ27</span><span>|</span><a href="#38123811">prev</a><span>|</span><a href="#38120997">next</a><span>|</span><label class="collapse" for="c-38124178">[-]</label><label class="expand" for="c-38124178">[1 more]</label></div><br/><div class="children"><div class="content">I have used dvc (specifically pipelines and experiments) for a little while now and I have found it to be a great tool for creating a standardized process for training ML models. Workflows in so many different teams consist of a bunch of notebooks that aren&#x27;t versioned, that are all on developers local machines, and just no reproducibility or standardization. DVC is a great lightweight tool that is easy to setup and use, customizable to whatever hardware or architecture that you are using. Most teams that I have seen have data and models on local machines, and do not version them whatsoever. DVC has been great for creating reproducible models, which has always been the biggest focus point for me. Overall I think it is a great tool and does a whole lot more than just data version control, things like experiments and DVCLive are super great.</div><br/></div></div><div id="38120997" class="c"><input type="checkbox" id="c-38120997" checked=""/><div class="controls bullet"><span class="by">vinni2</span><span>|</span><a href="#38124178">prev</a><span>|</span><a href="#38125006">next</a><span>|</span><label class="collapse" for="c-38120997">[-]</label><label class="expand" for="c-38120997">[13 more]</label></div><br/><div class="children"><div class="content">I gave up on dvc and instead switched to huggingface and wandb because of the way it handled large files and large local cache it downloaded.</div><br/><div id="38126117" class="c"><input type="checkbox" id="c-38126117" checked=""/><div class="controls bullet"><span class="by">tsroe</span><span>|</span><a href="#38120997">parent</a><span>|</span><a href="#38122009">next</a><span>|</span><label class="collapse" for="c-38126117">[-]</label><label class="expand" for="c-38126117">[1 more]</label></div><br/><div class="children"><div class="content">How do you track code-changes between model iterations with this setup though? From looking at wandb, it seems like it does something similar to MLFlow, so it only logs meta-parameters right?</div><br/></div></div><div id="38122009" class="c"><input type="checkbox" id="c-38122009" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#38120997">parent</a><span>|</span><a href="#38126117">prev</a><span>|</span><a href="#38121125">next</a><span>|</span><label class="collapse" for="c-38122009">[-]</label><label class="expand" for="c-38122009">[2 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t used it but git seems like the wrong framework for managing experiments. Even programmers don&#x27;t especially like git, forget about data scientists. You can&#x27;t meaningfully version control the data; it&#x27;s usually binary, and in an object store. The code already lives in a git repository. So what does that leave, the metadata around the experiment?<p>A relational database like Dolt seems like a better fit. You want to be able to query by experiment name, date, test results, and other metadata.<p>Let me know if I&#x27;m doing it wrong! What&#x27;s your use case?</div><br/><div id="38126058" class="c"><input type="checkbox" id="c-38126058" checked=""/><div class="controls bullet"><span class="by">IanCal</span><span>|</span><a href="#38120997">root</a><span>|</span><a href="#38122009">parent</a><span>|</span><a href="#38121125">next</a><span>|</span><label class="collapse" for="c-38126058">[-]</label><label class="expand" for="c-38126058">[1 more]</label></div><br/><div class="children"><div class="content">DVC stores metadata files in your git repo and the actual files somewhere else (local, S3, etc). It handles swapping around the files so they match what you&#x27;ve checked out. It does a lot more but that&#x27;s the relevant part for your main question.</div><br/></div></div></div></div><div id="38121125" class="c"><input type="checkbox" id="c-38121125" checked=""/><div class="controls bullet"><span class="by">icyfox</span><span>|</span><a href="#38120997">parent</a><span>|</span><a href="#38122009">prev</a><span>|</span><a href="#38122029">next</a><span>|</span><label class="collapse" for="c-38121125">[-]</label><label class="expand" for="c-38121125">[6 more]</label></div><br/><div class="children"><div class="content">I have a similar harness going for my recent experiments, except instead of hosting with huggingface I have a dataframe with pointers to the files on S3 and then just download them during local preprocessing.<p>Every time I see DVC mentioned I always feel like the idea was so close (and perhaps right in intuition to use git for everything) but the execution had just enough friction that I looked elsewhere. Small DX improvements really do cascade pretty far.</div><br/><div id="38125370" class="c"><input type="checkbox" id="c-38125370" checked=""/><div class="controls bullet"><span class="by">a_bonobo</span><span>|</span><a href="#38120997">root</a><span>|</span><a href="#38121125">parent</a><span>|</span><a href="#38121317">next</a><span>|</span><label class="collapse" for="c-38125370">[-]</label><label class="expand" for="c-38125370">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve really liked the idea of <i>scidataflow</i> in this context: <a href="https:&#x2F;&#x2F;github.com&#x2F;vsbuffalo&#x2F;scidataflow">https:&#x2F;&#x2F;github.com&#x2F;vsbuffalo&#x2F;scidataflow</a><p>It&#x27;s neat for research as it stores the data on scientific data repositories like Zenodo and you get DOIs.</div><br/></div></div><div id="38121317" class="c"><input type="checkbox" id="c-38121317" checked=""/><div class="controls bullet"><span class="by">nerdponx</span><span>|</span><a href="#38120997">root</a><span>|</span><a href="#38121125">parent</a><span>|</span><a href="#38125370">prev</a><span>|</span><a href="#38122029">next</a><span>|</span><label class="collapse" for="c-38121317">[-]</label><label class="expand" for="c-38121317">[4 more]</label></div><br/><div class="children"><div class="content">DVC is great for medium-scale projects in small teams, but that&#x27;s where I&#x27;d stop with it. It only really makes sense for work that you&#x27;re doing on your own machine, or an old-school Linux server type of setup, not something you&#x27;d use for modern-day ML work in a cloud environment.<p>Also I always thought the idea of using Git branches to track experiments was a bad idea. I would never want to only have one experiment &quot;active&quot; at a time. Even if I&#x27;m only running one process at a time, I still want to be able to look at outputs and such all side-by-side. Maybe there&#x27;s some magic tooling they created that makes it workable.</div><br/><div id="38121495" class="c"><input type="checkbox" id="c-38121495" checked=""/><div class="controls bullet"><span class="by">unsynced</span><span>|</span><a href="#38120997">root</a><span>|</span><a href="#38121317">parent</a><span>|</span><a href="#38123851">next</a><span>|</span><label class="collapse" for="c-38121495">[-]</label><label class="expand" for="c-38121495">[2 more]</label></div><br/><div class="children"><div class="content">FYI, you can use git worktrees [1] to work on multiple branches simultaneously<p>[1] <a href="https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-worktree" rel="nofollow noreferrer">https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-worktree</a></div><br/><div id="38122593" class="c"><input type="checkbox" id="c-38122593" checked=""/><div class="controls bullet"><span class="by">nerdponx</span><span>|</span><a href="#38120997">root</a><span>|</span><a href="#38121495">parent</a><span>|</span><a href="#38123851">next</a><span>|</span><label class="collapse" for="c-38122593">[-]</label><label class="expand" for="c-38122593">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I know and love that feature for software projects, especially if I need to switch  over to a bugfix while I&#x27;m deep in a topic branch.<p>But for a data project it would be a big pain to have separate worktrees just to work around what IMO is a usage anti-pattern to begin with!</div><br/></div></div></div></div><div id="38123851" class="c"><input type="checkbox" id="c-38123851" checked=""/><div class="controls bullet"><span class="by">shcheklein</span><span>|</span><a href="#38120997">root</a><span>|</span><a href="#38121317">parent</a><span>|</span><a href="#38121495">prev</a><span>|</span><a href="#38122029">next</a><span>|</span><label class="collapse" for="c-38123851">[-]</label><label class="expand" for="c-38123851">[1 more]</label></div><br/><div class="children"><div class="content">DVC has `dvc exp` that doesn&#x27;t require creating commits or branches. It&#x27;s utilizing git custom references (technical details [1]). And it can be visualized in CLI or VS Code.<p>[1] <a href="https:&#x2F;&#x2F;iterative.ai&#x2F;blog&#x2F;experiment-refs" rel="nofollow noreferrer">https:&#x2F;&#x2F;iterative.ai&#x2F;blog&#x2F;experiment-refs</a><p>[2] <a href="https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=Iterative.dvc" rel="nofollow noreferrer">https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=Iterativ...</a></div><br/></div></div></div></div></div></div><div id="38122029" class="c"><input type="checkbox" id="c-38122029" checked=""/><div class="controls bullet"><span class="by">ishabytes</span><span>|</span><a href="#38120997">parent</a><span>|</span><a href="#38121125">prev</a><span>|</span><a href="#38122152">next</a><span>|</span><label class="collapse" for="c-38122029">[-]</label><label class="expand" for="c-38122029">[1 more]</label></div><br/><div class="children"><div class="content">Pachyderm is another alternative. Here&#x27;s a couple articles that compare the two:<p><a href="https:&#x2F;&#x2F;www.pachyderm.com&#x2F;blog&#x2F;data-versioning-comparing-dvc-with-pachyderm&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.pachyderm.com&#x2F;blog&#x2F;data-versioning-comparing-dvc...</a>
<a href="https:&#x2F;&#x2F;www.dolthub.com&#x2F;blog&#x2F;2022-04-27-data-version-control&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.dolthub.com&#x2F;blog&#x2F;2022-04-27-data-version-control...</a><p>As far as I know, DVC is better than Pachyderm for small datasets, but Pachyderm scales way better</div><br/></div></div><div id="38122152" class="c"><input type="checkbox" id="c-38122152" checked=""/><div class="controls bullet"><span class="by">mriet</span><span>|</span><a href="#38120997">parent</a><span>|</span><a href="#38122029">prev</a><span>|</span><a href="#38123835">next</a><span>|</span><label class="collapse" for="c-38122152">[-]</label><label class="expand" for="c-38122152">[1 more]</label></div><br/><div class="children"><div class="content">Exactly! Ironically, dvc doesn&#x27;t really scale well and is limited to small-ish files.</div><br/></div></div><div id="38123835" class="c"><input type="checkbox" id="c-38123835" checked=""/><div class="controls bullet"><span class="by">shcheklein</span><span>|</span><a href="#38120997">parent</a><span>|</span><a href="#38122152">prev</a><span>|</span><a href="#38125006">next</a><span>|</span><label class="collapse" for="c-38123835">[-]</label><label class="expand" for="c-38123835">[1 more]</label></div><br/><div class="children"><div class="content">hey, sorry to hear that. Could you share more details please? Were you using specifically for data management?</div><br/></div></div></div></div><div id="38125006" class="c"><input type="checkbox" id="c-38125006" checked=""/><div class="controls bullet"><span class="by">farhanhubble</span><span>|</span><a href="#38120997">prev</a><span>|</span><a href="#38121746">next</a><span>|</span><label class="collapse" for="c-38125006">[-]</label><label class="expand" for="c-38125006">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using DVC for managing experiments as well as data versioning for 100,000s of files. Its git-like interface is great but it does have scaling issues, especially with hooks taking tens of minutes on every commit. It also does not support parallel stage execution yet.</div><br/></div></div><div id="38121746" class="c"><input type="checkbox" id="c-38121746" checked=""/><div class="controls bullet"><span class="by">fancy_pantser</span><span>|</span><a href="#38125006">prev</a><span>|</span><label class="collapse" for="c-38121746">[-]</label><label class="expand" for="c-38121746">[4 more]</label></div><br/><div class="children"><div class="content">Use Determined if you want a nice UI <a href="https:&#x2F;&#x2F;github.com&#x2F;determined-ai&#x2F;determined#readme">https:&#x2F;&#x2F;github.com&#x2F;determined-ai&#x2F;determined#readme</a></div><br/><div id="38121986" class="c"><input type="checkbox" id="c-38121986" checked=""/><div class="controls bullet"><span class="by">ishabytes</span><span>|</span><a href="#38121746">parent</a><span>|</span><a href="#38122708">next</a><span>|</span><label class="collapse" for="c-38121986">[-]</label><label class="expand" for="c-38121986">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a developer advocate at Determined AI - here to help anyone who&#x27;s interested in trying us out. There&#x27;s a slack community as well, link is on the homepage: <a href="https:&#x2F;&#x2F;www.determined.ai&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.determined.ai&#x2F;</a></div><br/><div id="38122059" class="c"><input type="checkbox" id="c-38122059" checked=""/><div class="controls bullet"><span class="by">ishabytes</span><span>|</span><a href="#38121746">root</a><span>|</span><a href="#38121986">parent</a><span>|</span><a href="#38122708">next</a><span>|</span><label class="collapse" for="c-38122059">[-]</label><label class="expand" for="c-38122059">[1 more]</label></div><br/><div class="children"><div class="content">You still use git as usual to manage your code versions, but Determined has a nice Web UI to track experiments you submit with that code, just to clarify</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>