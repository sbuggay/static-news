<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1691485263556" as="style"/><link rel="stylesheet" href="styles.css?v=1691485263556"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/LogMonitoringTarpit">Monitoring your logs is mostly a tarpit</a> <span class="domain">(<a href="https://utcc.utoronto.ca">utcc.utoronto.ca</a>)</span></div><div class="subtext"><span>signa11</span> | <span>9 comments</span></div><br/><div><div id="37046031" class="c"><input type="checkbox" id="c-37046031" checked=""/><div class="controls bullet"><span class="by">skissane</span><span>|</span><a href="#37046119">next</a><span>|</span><label class="collapse" for="c-37046031">[-]</label><label class="expand" for="c-37046031">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The fundamental problem with general log monitoring is that logs are functionally unstructured.<p>JSON format logs?<p>One pattern I’ve used before - in a Java app with an RDBMS, create an error table, and every Java exception gets logged to that table. Then have a system to match problems in that table to known errors, or flag new ones for analysis. (I just clone the table from the production DB into a non-production DB, then have a bunch of views I wrote to analyse them - the fact it is cloned to the non-production DB means I don’t need release management approval to update the definitions of my views.)<p>At a certain scale this may lead to problems with performance or data volumes, but generally not if the app is small to medium scale (as in practice many apps are), and especially if exceptions are sufficiently infrequent (one hopes so!)</div><br/></div></div><div id="37046119" class="c"><input type="checkbox" id="c-37046119" checked=""/><div class="controls bullet"><span class="by">dopidopHN</span><span>|</span><a href="#37046031">prev</a><span>|</span><a href="#37045883">next</a><span>|</span><label class="collapse" for="c-37046119">[-]</label><label class="expand" for="c-37046119">[1 more]</label></div><br/><div class="children"><div class="content">That does not match recent experience with datadog or the GCP log aggregator 
We derived values out of that ( meaning : OPS having a playbook to troubleshot, alarms &amp; prod support in general )</div><br/></div></div><div id="37045883" class="c"><input type="checkbox" id="c-37045883" checked=""/><div class="controls bullet"><span class="by">laserbeam</span><span>|</span><a href="#37046119">prev</a><span>|</span><a href="#37046025">next</a><span>|</span><label class="collapse" for="c-37045883">[-]</label><label class="expand" for="c-37045883">[4 more]</label></div><br/><div class="children"><div class="content">I generally feel that way regarding the log systems I&#x27;ve worked with, specifically since they were some of the first I helped implement and&#x2F;or design, and thus I&#x27;d not consider them high quality. However, what would be better than monitoring logs? Any sort of monitoring I know of looks at logs produced by one system or another... I&#x27;m not sure if there is an alternative.</div><br/><div id="37045942" class="c"><input type="checkbox" id="c-37045942" checked=""/><div class="controls bullet"><span class="by">Xylakant</span><span>|</span><a href="#37045883">parent</a><span>|</span><a href="#37046017">next</a><span>|</span><label class="collapse" for="c-37045942">[-]</label><label class="expand" for="c-37045942">[2 more]</label></div><br/><div class="children"><div class="content">Tracking specific metrics and monitoring those is an option - for example you could track service restarts and alert on unusually high numbers.<p>The tricky part - just as with logging - is to figure out what metric make sense and give you signal and what metrics are mostly noise.<p>Sometimes you can even extract metrics from logs by looking for specific log lines if you know what to expect.</div><br/><div id="37045953" class="c"><input type="checkbox" id="c-37045953" checked=""/><div class="controls bullet"><span class="by">fluential</span><span>|</span><a href="#37045883">root</a><span>|</span><a href="#37045942">parent</a><span>|</span><a href="#37046017">next</a><span>|</span><label class="collapse" for="c-37045953">[-]</label><label class="expand" for="c-37045953">[1 more]</label></div><br/><div class="children"><div class="content">You often create metrics based on logs indicating certain events, not much progress here in that approach</div><br/></div></div></div></div><div id="37046017" class="c"><input type="checkbox" id="c-37046017" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#37045883">parent</a><span>|</span><a href="#37045942">prev</a><span>|</span><a href="#37046025">next</a><span>|</span><label class="collapse" for="c-37046017">[-]</label><label class="expand" for="c-37046017">[1 more]</label></div><br/><div class="children"><div class="content">if we are talking about the &quot;log files&quot;  aspect then one certainly needs to get away from that and have all log events in a single searchable interface.</div><br/></div></div></div></div><div id="37046025" class="c"><input type="checkbox" id="c-37046025" checked=""/><div class="controls bullet"><span class="by">acumenical</span><span>|</span><a href="#37045883">prev</a><span>|</span><label class="collapse" for="c-37046025">[-]</label><label class="expand" for="c-37046025">[2 more]</label></div><br/><div class="children"><div class="content">This seems backwards to me in 2023. Logs seem like valuable data to train your AI on in order to automate as much of the basic inference away as possible.</div><br/><div id="37046067" class="c"><input type="checkbox" id="c-37046067" checked=""/><div class="controls bullet"><span class="by">darkclouds</span><span>|</span><a href="#37046025">parent</a><span>|</span><label class="collapse" for="c-37046067">[-]</label><label class="expand" for="c-37046067">[1 more]</label></div><br/><div class="children"><div class="content">What if the logs were missing entries though? Would you train your AI on missing data?<p>I found a bug in rsyslog a few years ago, where in certain conditions, log entries were missing. If you know the pattern for what log entries were going missing, then you could craft a very stealthy attack on the system and remain undetected in the logs.</div><br/></div></div></div></div></div></div></div></div></div></body></html>