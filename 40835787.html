<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1720083676209" as="style"/><link rel="stylesheet" href="styles.css?v=1720083676209"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://statmodeling.stat.columbia.edu/2024/06/17/this-well-known-paradox-of-r-squared-is-still-buggin-me-can-you-help-me-out/">Well-known paradox of R-squared is still buggin me</a> <span class="domain">(<a href="https://statmodeling.stat.columbia.edu">statmodeling.stat.columbia.edu</a>)</span></div><div class="subtext"><span>luu</span> | <span>32 comments</span></div><br/><div><div id="40872355" class="c"><input type="checkbox" id="c-40872355" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#40872226">next</a><span>|</span><label class="collapse" for="c-40872355">[-]</label><label class="expand" for="c-40872355">[9 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see the problem.  The R-squared is 0.01 for blue&#x2F;red predicting individual votes, because both of the states in question are really just different shades of purple.  The R-squared is 1.00 for predicting the total vote share and which party wins the state, because of course the red&#x2F;blue binary completely determines those.</div><br/><div id="40873273" class="c"><input type="checkbox" id="c-40873273" checked=""/><div class="controls bullet"><span class="by">mihaaly</span><span>|</span><a href="#40872355">parent</a><span>|</span><a href="#40872589">next</a><span>|</span><label class="collapse" for="c-40873273">[-]</label><label class="expand" for="c-40873273">[1 more]</label></div><br/><div class="children"><div class="content">&gt; predicting individual votes<p>Isn&#x27;t that around the top of the statistics no-nos list? Probability theory in general? Predicting individual result based on the whole sample base? It was long ago and I am not in this field at all but my recollection tells me that it was mentioned in the beginning of the first class of probability theory 101.</div><br/></div></div><div id="40872589" class="c"><input type="checkbox" id="c-40872589" checked=""/><div class="controls bullet"><span class="by">energy123</span><span>|</span><a href="#40872355">parent</a><span>|</span><a href="#40873273">prev</a><span>|</span><a href="#40872226">next</a><span>|</span><label class="collapse" for="c-40872589">[-]</label><label class="expand" for="c-40872589">[7 more]</label></div><br/><div class="children"><div class="content">R-squared is very small when the effect is small because it&#x27;s squared, as the name implies.<p>If he doesn&#x27;t like that he should just use R by itself, which would turn that 0.01 into 0.1, and it&#x27;d turn that 0.16 into 0.4. R is the Pearson correlation coefficient of a univariable linear regression.</div><br/><div id="40872813" class="c"><input type="checkbox" id="c-40872813" checked=""/><div class="controls bullet"><span class="by">cubefox</span><span>|</span><a href="#40872355">root</a><span>|</span><a href="#40872589">parent</a><span>|</span><a href="#40872226">next</a><span>|</span><label class="collapse" for="c-40872813">[-]</label><label class="expand" for="c-40872813">[6 more]</label></div><br/><div class="children"><div class="content">(Who came up with R squared anyway? Seems like someone wanted to remove the possible minus sign from R but didn&#x27;t know about the ABS function, so he used the square which has this side effect of making the numbers too small.)</div><br/><div id="40873275" class="c"><input type="checkbox" id="c-40873275" checked=""/><div class="controls bullet"><span class="by">justk</span><span>|</span><a href="#40872355">root</a><span>|</span><a href="#40872813">parent</a><span>|</span><a href="#40872970">next</a><span>|</span><label class="collapse" for="c-40873275">[-]</label><label class="expand" for="c-40873275">[2 more]</label></div><br/><div class="children"><div class="content">The reason of this apparent paradox is that there are two different and separated populations so that you should consider conditional probabilities. The linear model and the R^2 should be used when the variables affect one individual, for example your height and weight but not when each variable belongs to a different population. In other words, a linear model is of no use when you are considering two different populations, in this case you need a linear model for each population, one for the result y for the A=red state and other y|B for the B=blue state both of those are 1 so the state predicts the winner with total (100%) linear accuracy.<p>PS: edited several times.<p>In reality this is a mixed model (mixed population), googling R^2 for mixed model gives this reference: 
<a href="https:&#x2F;&#x2F;ecologyforacrowdedplanet.wordpress.com&#x2F;2013&#x2F;08&#x2F;27&#x2F;r-squared-in-mixed-models-the-easy-way&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ecologyforacrowdedplanet.wordpress.com&#x2F;2013&#x2F;08&#x2F;27&#x2F;r-...</a><p><pre><code>  It seems that being a graduate math guy helps a little to solve those apparent paradoxes in a few seconds.</code></pre></div><br/><div id="40873437" class="c"><input type="checkbox" id="c-40873437" checked=""/><div class="controls bullet"><span class="by">vcdimension</span><span>|</span><a href="#40872355">root</a><span>|</span><a href="#40873275">parent</a><span>|</span><a href="#40872970">next</a><span>|</span><label class="collapse" for="c-40873437">[-]</label><label class="expand" for="c-40873437">[1 more]</label></div><br/><div class="children"><div class="content">@justk What you&#x27;re talking about might make sense if there were more independent variables to consider, but in this case there&#x27;s only one, state.
So in fact you could say that there are two conditional linear models in the example; one for the first state (state=0), and one for the second (state=1).
The model does the best job with the information available (state).</div><br/></div></div></div></div><div id="40872970" class="c"><input type="checkbox" id="c-40872970" checked=""/><div class="controls bullet"><span class="by">carlob</span><span>|</span><a href="#40872355">root</a><span>|</span><a href="#40872813">parent</a><span>|</span><a href="#40873275">prev</a><span>|</span><a href="#40873184">next</a><span>|</span><label class="collapse" for="c-40872970">[-]</label><label class="expand" for="c-40872970">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think it&#x27;s about not knowing the abs function, more about the fact that the first derivative would be discontinuous and the second doesn&#x27;t exist in 0. Variance had much nicer properties mathematically than absolute deviation.</div><br/></div></div><div id="40873184" class="c"><input type="checkbox" id="c-40873184" checked=""/><div class="controls bullet"><span class="by">snarkconjecture</span><span>|</span><a href="#40872355">root</a><span>|</span><a href="#40872813">parent</a><span>|</span><a href="#40872970">prev</a><span>|</span><a href="#40872226">next</a><span>|</span><label class="collapse" for="c-40873184">[-]</label><label class="expand" for="c-40873184">[2 more]</label></div><br/><div class="children"><div class="content">R squared has extremely nice properties. If you add a bunch of linearly uncorrelated variables together, then compute R² between each variable and the sum, the R² values will sum to 1.</div><br/><div id="40873298" class="c"><input type="checkbox" id="c-40873298" checked=""/><div class="controls bullet"><span class="by">cubefox</span><span>|</span><a href="#40872355">root</a><span>|</span><a href="#40873184">parent</a><span>|</span><a href="#40872226">next</a><span>|</span><label class="collapse" for="c-40873298">[-]</label><label class="expand" for="c-40873298">[1 more]</label></div><br/><div class="children"><div class="content">R (ρ) has also a nice property:<p>&gt; if X,Y,Z are &quot;generic&quot; random variables such that ρ(X,Y)=a and ρ(Y,Z)=b, we should on average expect that ρ(X,Z)=ab.<p><a href="https:&#x2F;&#x2F;www.lesswrong.com&#x2F;posts&#x2F;vfb5Seaaqzk5kzChb&#x2F;when-is-correlation-transitive" rel="nofollow">https:&#x2F;&#x2F;www.lesswrong.com&#x2F;posts&#x2F;vfb5Seaaqzk5kzChb&#x2F;when-is-co...</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="40872226" class="c"><input type="checkbox" id="c-40872226" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#40872355">prev</a><span>|</span><a href="#40873345">next</a><span>|</span><label class="collapse" for="c-40872226">[-]</label><label class="expand" for="c-40872226">[8 more]</label></div><br/><div class="children"><div class="content">&gt; The two states are much different in their politics!<p>Are they? Sounds like they&#x27;re both swing states, pretty close to 50-50, so which state you&#x27;re from doesn&#x27;t have a big effect on what your politics are likely to be. Which is exactly what the R^2 tells us. Where&#x27;s the paradox?</div><br/><div id="40872394" class="c"><input type="checkbox" id="c-40872394" checked=""/><div class="controls bullet"><span class="by">spenczar5</span><span>|</span><a href="#40872226">parent</a><span>|</span><a href="#40873091">next</a><span>|</span><label class="collapse" for="c-40872394">[-]</label><label class="expand" for="c-40872394">[3 more]</label></div><br/><div class="children"><div class="content">A ten point gap is not a swing state, that’s big. Its about the same as New Jersey vs Texas in the 2020 presidential vote.</div><br/><div id="40872547" class="c"><input type="checkbox" id="c-40872547" checked=""/><div class="controls bullet"><span class="by">zarzavat</span><span>|</span><a href="#40872226">root</a><span>|</span><a href="#40872394">parent</a><span>|</span><a href="#40872600">next</a><span>|</span><label class="collapse" for="c-40872547">[-]</label><label class="expand" for="c-40872547">[1 more]</label></div><br/><div class="children"><div class="content">In the US.<p>In other countries 45&#x2F;55 could easily be a swing state.<p>For example the 2014 Scottish independence referendum was decided 45&#x2F;55 and that is usually held to be a fairly close result, at least close enough that it hasn’t ended the question.<p>So the real story here is voter polarization. The reason that Texas isn’t a swing state is because there’s a big hard core of immoveable voters at either end. So the actual population of swing voters is small.</div><br/></div></div><div id="40872600" class="c"><input type="checkbox" id="c-40872600" checked=""/><div class="controls bullet"><span class="by">chipdart</span><span>|</span><a href="#40872226">root</a><span>|</span><a href="#40872394">parent</a><span>|</span><a href="#40872547">prev</a><span>|</span><a href="#40873091">next</a><span>|</span><label class="collapse" for="c-40872600">[-]</label><label class="expand" for="c-40872600">[1 more]</label></div><br/><div class="children"><div class="content">&gt; A ten point gap is not a swing state, that’s big.<p>No, it isn&#x27;t. Your &quot;ten point gap&quot; is something like a 5% delta. That&#x27;s below the confidence level of some polls.</div><br/></div></div></div></div><div id="40873091" class="c"><input type="checkbox" id="c-40873091" checked=""/><div class="controls bullet"><span class="by">DougBTX</span><span>|</span><a href="#40872226">parent</a><span>|</span><a href="#40872394">prev</a><span>|</span><a href="#40872363">next</a><span>|</span><label class="collapse" for="c-40873091">[-]</label><label class="expand" for="c-40873091">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Where&#x27;s the paradox?<p>Exactly. I propose that the paradox is in first-past-the-post voting, a 5% swing leads to a 100% change in representation. How can that be?</div><br/><div id="40873144" class="c"><input type="checkbox" id="c-40873144" checked=""/><div class="controls bullet"><span class="by">gadders</span><span>|</span><a href="#40872226">root</a><span>|</span><a href="#40873091">parent</a><span>|</span><a href="#40872363">next</a><span>|</span><label class="collapse" for="c-40873144">[-]</label><label class="expand" for="c-40873144">[2 more]</label></div><br/><div class="children"><div class="content">Relax - they&#x27;re all broken: <a href="https:&#x2F;&#x2F;www.investopedia.com&#x2F;terms&#x2F;a&#x2F;arrows-impossibility-theorem.asp" rel="nofollow">https:&#x2F;&#x2F;www.investopedia.com&#x2F;terms&#x2F;a&#x2F;arrows-impossibility-th...</a></div><br/><div id="40873256" class="c"><input type="checkbox" id="c-40873256" checked=""/><div class="controls bullet"><span class="by">evan_piermont</span><span>|</span><a href="#40872226">root</a><span>|</span><a href="#40873144">parent</a><span>|</span><a href="#40872363">next</a><span>|</span><label class="collapse" for="c-40873256">[-]</label><label class="expand" for="c-40873256">[1 more]</label></div><br/><div class="children"><div class="content">Only if you reject the axiom of choice: <a href="https:&#x2F;&#x2F;www.jyotirmoy.net&#x2F;posts&#x2F;2013-10-28-arrow-ultrafilter.html" rel="nofollow">https:&#x2F;&#x2F;www.jyotirmoy.net&#x2F;posts&#x2F;2013-10-28-arrow-ultrafilter...</a></div><br/></div></div></div></div></div></div><div id="40872363" class="c"><input type="checkbox" id="c-40872363" checked=""/><div class="controls bullet"><span class="by">derbOac</span><span>|</span><a href="#40872226">parent</a><span>|</span><a href="#40873091">prev</a><span>|</span><a href="#40873345">next</a><span>|</span><label class="collapse" for="c-40872363">[-]</label><label class="expand" for="c-40872363">[1 more]</label></div><br/><div class="children"><div class="content">That was my first thought as well.<p>Also, traditional R squared with binary variables, or maybe categorical variables, never made much sense to me. The &quot;meaning&quot; of the variance I don&#x27;t think is quite the same. You generally have to nonlinearly transform (e.g., logit) any linear model quantities into something else to put it on an observed variable scale.</div><br/></div></div></div></div><div id="40872422" class="c"><input type="checkbox" id="c-40872422" checked=""/><div class="controls bullet"><span class="by">parpfish</span><span>|</span><a href="#40873345">prev</a><span>|</span><a href="#40873219">next</a><span>|</span><label class="collapse" for="c-40872422">[-]</label><label class="expand" for="c-40872422">[1 more]</label></div><br/><div class="children"><div class="content">part of this has to do with the fact that our intuitive sense of effect sizes don&#x27;t really use proportions and we subconsciously start including sample sizes.<p>If a state had an election with millions of voters and got a 55-45 result, it would be a decisive landslide victory; If a elementary school classroom had an election 20 voters had got a 55-45 split, it&#x27;s be the narrowest possible margin of victory.<p>Most would likely say that the effect in the former &#x27;feels&#x27; much larger even though proportions are identical, which suggests that under the hood we&#x27;re factoring in sample size to our intuition about effect sizes (probably something chi-square-ish).<p>The result is that the framing of the problem can change our sense of how big the effects are. When we hear that these are state-level elections, we think it&#x27;s a huge effect and feel that we should be able to do reverse inference. If it was reframed as an election on a much smaller sample, the paradox disappears and you&#x27;d say &quot;of course you wouldn&#x27;t be able to reverse that inference&quot;</div><br/></div></div><div id="40873219" class="c"><input type="checkbox" id="c-40873219" checked=""/><div class="controls bullet"><span class="by">dash2</span><span>|</span><a href="#40872422">prev</a><span>|</span><a href="#40872423">next</a><span>|</span><label class="collapse" for="c-40873219">[-]</label><label class="expand" for="c-40873219">[1 more]</label></div><br/><div class="children"><div class="content">This comes up a lot in genetics. One crowd says &quot;polygenic scores for education don&#x27;t tell you much, because look how low the R-squared is!&quot; Another crowd (including me) says &quot;polygenic scores for education are a big deal, because look how big the effect size is!&quot;</div><br/></div></div><div id="40872423" class="c"><input type="checkbox" id="c-40872423" checked=""/><div class="controls bullet"><span class="by">blt</span><span>|</span><a href="#40873219">prev</a><span>|</span><a href="#40872486">next</a><span>|</span><label class="collapse" for="c-40872423">[-]</label><label class="expand" for="c-40872423">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m no statistician, but the whole premise seems mismatched. Why are we using a tool from regression to analyze a classification problem?</div><br/><div id="40873341" class="c"><input type="checkbox" id="c-40873341" checked=""/><div class="controls bullet"><span class="by">vcdimension</span><span>|</span><a href="#40872423">parent</a><span>|</span><a href="#40872537">next</a><span>|</span><label class="collapse" for="c-40873341">[-]</label><label class="expand" for="c-40873341">[1 more]</label></div><br/><div class="children"><div class="content">I am a statistician, and you&#x27;re right, for this kind of thing we would normally use a binary response model such as a logit or probit model that constrains the response variable to be between 0 &amp; 1. 
However in this case it doesn&#x27;t matter since there&#x27;s only one independent variable (state), and it&#x27;s binary so there&#x27;s only 2 different predictions the model could make (which will be the correct probabilities of 0.45 &amp; 0.55, even with a linear model).<p>The normal R^2 formula can&#x27;t be applied to a logit&#x2F;probit model; instead you use an alternative such as McFadden&#x27;s or Cox &amp; Snell pseudo R-squared. I&#x27;d be interested to see what value they take for this example.<p>Linear models are sometimes used even in models with many independent variables since it can be shown that the coefficients in a linear model are unbiased estimators for the average partial effects of any non-linear binary response model.</div><br/></div></div><div id="40872537" class="c"><input type="checkbox" id="c-40872537" checked=""/><div class="controls bullet"><span class="by">chipdart</span><span>|</span><a href="#40872423">parent</a><span>|</span><a href="#40873341">prev</a><span>|</span><a href="#40872474">next</a><span>|</span><label class="collapse" for="c-40872537">[-]</label><label class="expand" for="c-40872537">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why are we using a tool from regression to analyze a classification problem?<p>Because classification is a regression problem.<p>Think about it for a second. You want to put together a tool to tell which class an input belongs to. You have training data you can use to build your tool around. Your training data is already divided into sets that belong to a specific classm Your goal is to put together a model that can tell you what&#x27;s the closest class your input belongs to by comparing with how close your input is to elements of the training data belonging to a specific class.<p>What&#x27;s your strategy?<p>Well, one of the textbook strategie starts by specifying how you measure the distance between elements of your training set, and from that point you work on putting together a function that not only minimizes the distance between elements of your training set but also, when used to evaluate elements of a training set, works well in telling the type of elements of the training set that are closest to them. Then you assume the class of your input element is the same as the class of the elements of the training set that are closest to them.<p>In the example above, the minimization step is... Yes,  regression. You use regression to fit your model to your training data so that it is able how close your input element is to elements of a certain class, and then outputs how close it is to each of the classes.</div><br/></div></div><div id="40872474" class="c"><input type="checkbox" id="c-40872474" checked=""/><div class="controls bullet"><span class="by">greesil</span><span>|</span><a href="#40872423">parent</a><span>|</span><a href="#40872537">prev</a><span>|</span><a href="#40872486">next</a><span>|</span><label class="collapse" for="c-40872474">[-]</label><label class="expand" for="c-40872474">[1 more]</label></div><br/><div class="children"><div class="content">Yep. I&#x27;m also not a statistician, but linear regression that the blogger is using predicts the mean for each state, and this is being conflated with trying to predict p(color | state). The goodness of fit here would be better modeled cross entropy and not a standard deviation.</div><br/></div></div></div></div><div id="40872486" class="c"><input type="checkbox" id="c-40872486" checked=""/><div class="controls bullet"><span class="by">gpsx</span><span>|</span><a href="#40872423">prev</a><span>|</span><a href="#40872352">next</a><span>|</span><label class="collapse" for="c-40872486">[-]</label><label class="expand" for="c-40872486">[1 more]</label></div><br/><div class="children"><div class="content">My statisitcs are a little rusty, so I might be off here. Someone correct me if I have this wrong. R^2 = 1 would be every voter in one state votes blue and every voter in the other votes red. R^2 = 0 would mean both states are exactly even between red and blue. The states are a lot closer to that. Again, my statistics are rusty so I&#x27;m no sure if this next part is valid, but sqaure root of .01 is .1, which doesn&#x27;t seem like such a bad representation of the situation.</div><br/></div></div><div id="40872352" class="c"><input type="checkbox" id="c-40872352" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#40872486">prev</a><span>|</span><a href="#40872477">next</a><span>|</span><label class="collapse" for="c-40872352">[-]</label><label class="expand" for="c-40872352">[1 more]</label></div><br/><div class="children"><div class="content">What paradox?  People don&#x27;t vote a particular way because they live in a state.  The logic here would imply &quot;Welp,  I live in Kentucky,  so I guess Red?&quot; would be the expected mode at the voting booth.</div><br/></div></div><div id="40872477" class="c"><input type="checkbox" id="c-40872477" checked=""/><div class="controls bullet"><span class="by">leto_ii</span><span>|</span><a href="#40872352">prev</a><span>|</span><a href="#40872420">next</a><span>|</span><label class="collapse" for="c-40872477">[-]</label><label class="expand" for="c-40872477">[1 more]</label></div><br/><div class="children"><div class="content">As other commenters have pointed out in one way or another, the problem seems to actually be that this simplistic model of voter choice can&#x27;t capture all the structure of the real world that humans can quickly infer from the setup. Things like: state elections have millions of voters, 55&#x2F;45 is actually a decisive, not a narrow win etc.<p>In a generic setup, imagine you have a binary classifier that outputs probabilities in the .45-.55 range - likely it won&#x27;t be a really strong classifier. You would ideally like polarized predictions, not values around .5.<p>Come to think of it, could this be an issue of non-ergodicity too ( hope I&#x27;m using the term right)? i.e. state level prior is not that informative wrt individual vote?</div><br/></div></div><div id="40872420" class="c"><input type="checkbox" id="c-40872420" checked=""/><div class="controls bullet"><span class="by">c76</span><span>|</span><a href="#40872477">prev</a><span>|</span><a href="#40872324">next</a><span>|</span><label class="collapse" for="c-40872420">[-]</label><label class="expand" for="c-40872420">[2 more]</label></div><br/><div class="children"><div class="content">Isn’t the phenomenon just related to the way the vote options are encoded? Use different methods and you will see different R^2 results.
Aren’t the votes represented  artificially on a continuous domain for the R^2 calculation but the actual values are categorical values?</div><br/><div id="40873236" class="c"><input type="checkbox" id="c-40873236" checked=""/><div class="controls bullet"><span class="by">ayhanfuat</span><span>|</span><a href="#40872420">parent</a><span>|</span><a href="#40872324">next</a><span>|</span><label class="collapse" for="c-40873236">[-]</label><label class="expand" for="c-40873236">[1 more]</label></div><br/><div class="children"><div class="content">Not really. No matter how you encode extremes will be 0% and 100% and one option will be 45% and the other 55%.</div><br/></div></div></div></div><div id="40872324" class="c"><input type="checkbox" id="c-40872324" checked=""/><div class="controls bullet"><span class="by">ninjinxo</span><span>|</span><a href="#40872420">prev</a><span>|</span><a href="#40872932">next</a><span>|</span><label class="collapse" for="c-40872324">[-]</label><label class="expand" for="c-40872324">[1 more]</label></div><br/><div class="children"><div class="content">If voters are split 60-40 on an issue, that doesn&#x27;t mean that the odds are 60-40.<p>You should instead be asking, what are the odds that that X voters could change their vote.</div><br/></div></div><div id="40872932" class="c"><input type="checkbox" id="c-40872932" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#40872324">prev</a><span>|</span><label class="collapse" for="c-40872932">[-]</label><label class="expand" for="c-40872932">[1 more]</label></div><br/><div class="children"><div class="content">Nothing but endless cloudfare captchas here for me.<p>Removing cookies for the domain doesn&#x27;t help, because (doh) I&#x27;ve never visited it before.</div><br/></div></div></div></div></div></div></div></body></html>