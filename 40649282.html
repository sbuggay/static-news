<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1718355654680" as="style"/><link rel="stylesheet" href="styles.css?v=1718355654680"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://mrd0x.com/progressive-web-apps-pwa-phishing/">Progressive Web Apps (PWAs) Phishing</a> <span class="domain">(<a href="https://mrd0x.com">mrd0x.com</a>)</span></div><div class="subtext"><span>kolp</span> | <span>37 comments</span></div><br/><div><div id="40673120" class="c"><input type="checkbox" id="c-40673120" checked=""/><div class="controls bullet"><span class="by">theteapot</span><span>|</span><a href="#40673564">next</a><span>|</span><label class="collapse" for="c-40673120">[-]</label><label class="expand" for="c-40673120">[17 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the difference between this and just having a button on your website that redirects to a spoof microsoft login page?</div><br/><div id="40673201" class="c"><input type="checkbox" id="c-40673201" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#40673120">parent</a><span>|</span><a href="#40674213">next</a><span>|</span><label class="collapse" for="c-40673201">[-]</label><label class="expand" for="c-40673201">[12 more]</label></div><br/><div class="children"><div class="content">Because this one makes it look like there’s a url bar with a Microsoft domain</div><br/><div id="40674286" class="c"><input type="checkbox" id="c-40674286" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40673201">parent</a><span>|</span><a href="#40674213">next</a><span>|</span><label class="collapse" for="c-40674286">[-]</label><label class="expand" for="c-40674286">[11 more]</label></div><br/><div class="children"><div class="content">No it doesn&#x27;t.  You need to fool the user into installing an app that loads from your own domain.  Now that obviously isn&#x27;t impossible, but it requires getting the user to ignore or be mislead by the clearly-displayed URL in the web page and&#x2F;or installer UI.<p>As the commenter upthread conjectured, this is indeed perfectly isomorphic to fooling a user into loading and interacting with a faked web page.  That&#x27;s a real threat!  But it&#x27;s clearly not a <i>new</i> threat with PWAs and IMHO this article is mostly just spun clickbait.  This isn&#x27;t remotely a novel vulnerability.</div><br/><div id="40674582" class="c"><input type="checkbox" id="c-40674582" checked=""/><div class="controls bullet"><span class="by">felipc</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674286">parent</a><span>|</span><a href="#40676657">next</a><span>|</span><label class="collapse" for="c-40674582">[-]</label><label class="expand" for="c-40674582">[7 more]</label></div><br/><div class="children"><div class="content">Nope, it&#x27;s much more insidious than that. The user is already on your website, which could be a legitimate website with a malicious owner.<p>If you look at the screenshot, it&#x27;s a perfectly valid interpretation for a non tech-savvy user to interpret that as &quot;realhealthysnacks is asking me to install a legitimate Microsoft application&quot;.<p>Now change the simplified example for a real one from a SaaS product login page with several &quot;Login with ...&quot; buttons, and one of them triggers this.</div><br/><div id="40674720" class="c"><input type="checkbox" id="c-40674720" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674582">parent</a><span>|</span><a href="#40676657">next</a><span>|</span><label class="collapse" for="c-40674720">[-]</label><label class="expand" for="c-40674720">[6 more]</label></div><br/><div class="children"><div class="content">&gt; legitimate website with a malicious owner.<p>What... does that mean?  A website with a malicious owner is illegitimate by definition.  :)<p>But more to the point, this logic is circular.  You&#x27;re saying PWAs are subject to attack by malicious actors because their users can be attacked by websites controlled by malicious owners.  Which is... true.  But specious, and true of regular web pages and apps and every other kind of software.<p>I&#x27;m not seeing where you&#x27;re getting anything novel here at all.  If you let people run software written by other people you need some kind of protection against people being fooled by bad software.  That is obviously a <i>very hard problem</i> with only imperfect solutions.  But those solutions do exist, and that protection exists here in PWAs and needs to be evaded, in a form that is entirely analogous to the way you have to validate a web page you&#x27;re looking at.</div><br/><div id="40676557" class="c"><input type="checkbox" id="c-40676557" checked=""/><div class="controls bullet"><span class="by">doakes</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674720">parent</a><span>|</span><a href="#40676076">next</a><span>|</span><label class="collapse" for="c-40676557">[-]</label><label class="expand" for="c-40676557">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand the answers to your &quot;what is a legitimate website with a malicious owner&quot; question, but I kinda see this as the same concern as downloading a phone app that requests an OAuth login via a native webview. You can&#x27;t always see the true URL of that login page. But it comes back to what I think is your main point -- you&#x27;ve already downloaded something malicious from the get-go. But I guess there&#x27;s some damage control if you can spot a fake login page and remove the install.</div><br/></div></div><div id="40676076" class="c"><input type="checkbox" id="c-40676076" checked=""/><div class="controls bullet"><span class="by">Thorrez</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674720">parent</a><span>|</span><a href="#40676557">prev</a><span>|</span><a href="#40675052">next</a><span>|</span><label class="collapse" for="c-40676076">[-]</label><label class="expand" for="c-40676076">[1 more]</label></div><br/><div class="children"><div class="content">&gt;legitimate website with a malicious owner.<p>The situation is this: You go to some web store. You click &quot;Sign In With Microsoft&quot; (or Google, or Facebook, etc.). You expect the site to be able to know your Microsoft&#x2F;Google&#x2F;Facebook email address. You don&#x27;t expect the site to be able to take over your entire Microsoft&#x2F;Google&#x2F;Facebook account.<p>So it&#x27;s a site you trust enough to use, but you don&#x27;t trust it enough to give it control over your other accounts. This phishing attack gives it control over your other accounts.</div><br/></div></div><div id="40675052" class="c"><input type="checkbox" id="c-40675052" checked=""/><div class="controls bullet"><span class="by">felipc</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674720">parent</a><span>|</span><a href="#40676076">prev</a><span>|</span><a href="#40675467">next</a><span>|</span><label class="collapse" for="c-40675052">[-]</label><label class="expand" for="c-40675052">[1 more]</label></div><br/><div class="children"><div class="content">Yeah it still needs a malicious person to run the attack of course, but it&#x27;s a different attack vector. Phishing consists of making the user believe they are in a different website than they are at.<p>Most of the time, that requires a convincingly-looking URL to redirect from website A to the phishing page. (e.g. micr0softlogin.com)<p>This attack doesn&#x27;t require that, it all stays in the website A which they user may find legitimate. (or it could be a legitimate one that has been compromised)<p>Another aspect of this is that PWAs have a helpful anti-phishing feature which actually displays a URL bar when you navigate to a different domain. Which is entirely twisted by this because by staying in website A that&#x27;s exactly when the URL bar will be hidden, letting the attacker to place a fake one there.<p>But agreed that there are only imperfect solutions to this sort of thing.</div><br/></div></div><div id="40675467" class="c"><input type="checkbox" id="c-40675467" checked=""/><div class="controls bullet"><span class="by">Habgdnv</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674720">parent</a><span>|</span><a href="#40675052">prev</a><span>|</span><a href="#40676831">next</a><span>|</span><label class="collapse" for="c-40675467">[-]</label><label class="expand" for="c-40675467">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What... does that mean?<p>microsoft.com is legitimate website.
The owner of microsoft.com however get your browsing history, reboot your PC during weekends when your rendering is almost complete, put random adware on your PC without asking you, injects adware into various websites, i&#x27;m too lazy to list all the rest but you get the picture. Legitimate website with a malicious owner.</div><br/></div></div><div id="40676831" class="c"><input type="checkbox" id="c-40676831" checked=""/><div class="controls bullet"><span class="by">koolala</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674720">parent</a><span>|</span><a href="#40675467">prev</a><span>|</span><a href="#40676657">next</a><span>|</span><label class="collapse" for="c-40676831">[-]</label><label class="expand" for="c-40676831">[1 more]</label></div><br/><div class="children"><div class="content">i like your reasoning</div><br/></div></div></div></div></div></div><div id="40676657" class="c"><input type="checkbox" id="c-40676657" checked=""/><div class="controls bullet"><span class="by">strictnein</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674286">parent</a><span>|</span><a href="#40674582">prev</a><span>|</span><a href="#40676479">next</a><span>|</span><label class="collapse" for="c-40676657">[-]</label><label class="expand" for="c-40676657">[1 more]</label></div><br/><div class="children"><div class="content">&gt; But it&#x27;s clearly not a new threat with PWAs and IMHO this article is mostly just spun clickbait. This isn&#x27;t remotely a novel vulnerability.<p>This isn&#x27;t &quot;clickbait&quot;. This author is a known security researcher. The word &quot;new&quot; or &quot;novel&quot; doesn&#x27;t occur in the writeup. They are simply documenting how something works.<p>They&#x27;ve been writing about this type of thing for years now.</div><br/></div></div><div id="40676479" class="c"><input type="checkbox" id="c-40676479" checked=""/><div class="controls bullet"><span class="by">oneepic</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674286">parent</a><span>|</span><a href="#40676657">prev</a><span>|</span><a href="#40674213">next</a><span>|</span><label class="collapse" for="c-40676479">[-]</label><label class="expand" for="c-40676479">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not a security pro, but the claim about &quot;spun clickbait&quot; doesn&#x27;t hold for me. I thought it was new to me, and an attack possibility that I hadn&#x27;t considered before reading. I do think I &quot;validate&quot; sites pretty well before doing any serious things there (logins, transactions, etc).</div><br/><div id="40676638" class="c"><input type="checkbox" id="c-40676638" checked=""/><div class="controls bullet"><span class="by">strictnein</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40676479">parent</a><span>|</span><a href="#40674213">next</a><span>|</span><label class="collapse" for="c-40676638">[-]</label><label class="expand" for="c-40676638">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re correct that it&#x27;s not clickbait. This author is a known security researcher who specializes in this type of thing. It&#x27;s just another type of attack that they&#x27;ve writing about.</div><br/></div></div></div></div></div></div></div></div><div id="40674213" class="c"><input type="checkbox" id="c-40674213" checked=""/><div class="controls bullet"><span class="by">ffpip</span><span>|</span><a href="#40673120">parent</a><span>|</span><a href="#40673201">prev</a><span>|</span><a href="#40674285">next</a><span>|</span><label class="collapse" for="c-40674213">[-]</label><label class="expand" for="c-40674213">[1 more]</label></div><br/><div class="children"><div class="content">A PWA can have the familiar &quot;Sign in with google&quot; button now, which pops up a similar page as shown in the article, but with accounts.google.com in the fake URL bar.</div><br/></div></div><div id="40674285" class="c"><input type="checkbox" id="c-40674285" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#40673120">parent</a><span>|</span><a href="#40674213">prev</a><span>|</span><a href="#40673564">next</a><span>|</span><label class="collapse" for="c-40674285">[-]</label><label class="expand" for="c-40674285">[3 more]</label></div><br/><div class="children"><div class="content">Being a PWA lets you hide the real URL bar.</div><br/><div id="40676485" class="c"><input type="checkbox" id="c-40676485" checked=""/><div class="controls bullet"><span class="by">paulryanrogers</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40674285">parent</a><span>|</span><a href="#40673564">next</a><span>|</span><label class="collapse" for="c-40676485">[-]</label><label class="expand" for="c-40676485">[2 more]</label></div><br/><div class="children"><div class="content">How could this be stopped? Blocking images or rendering that mimics a real URL bar would be challenging.<p>Perhaps the PWA forces an overlay of the real apex domain at the top or in a top corner?</div><br/><div id="40678286" class="c"><input type="checkbox" id="c-40678286" checked=""/><div class="controls bullet"><span class="by">johnnypangs</span><span>|</span><a href="#40673120">root</a><span>|</span><a href="#40676485">parent</a><span>|</span><a href="#40673564">next</a><span>|</span><label class="collapse" for="c-40678286">[-]</label><label class="expand" for="c-40678286">[1 more]</label></div><br/><div class="children"><div class="content">I think that it’s pretty hard to stop with the current state of PWA installation.<p>You could try the manifest data, (the data for the PWA app) tied more to the html and dns. Making it harder to impersonate other sites.<p>You could also go a more extreme route and have something like PWA app signing like other kinds of apps.</div><br/></div></div></div></div></div></div></div></div><div id="40673564" class="c"><input type="checkbox" id="c-40673564" checked=""/><div class="controls bullet"><span class="by">erikerikson</span><span>|</span><a href="#40673120">prev</a><span>|</span><a href="#40673008">next</a><span>|</span><label class="collapse" for="c-40673564">[-]</label><label class="expand" for="c-40673564">[2 more]</label></div><br/><div class="children"><div class="content">Does this fool tools like 1Password?</div><br/><div id="40673810" class="c"><input type="checkbox" id="c-40673810" checked=""/><div class="controls bullet"><span class="by">phartenfeller</span><span>|</span><a href="#40673564">parent</a><span>|</span><a href="#40673008">next</a><span>|</span><label class="collapse" for="c-40673810">[-]</label><label class="expand" for="c-40673810">[1 more]</label></div><br/><div class="children"><div class="content">No as the page&#x27;s URL is still not the real login URL. The shown address bar is just a fake with styled website content if I understood it correctly. Really smart!</div><br/></div></div></div></div><div id="40673008" class="c"><input type="checkbox" id="c-40673008" checked=""/><div class="controls bullet"><span class="by">difosfor</span><span>|</span><a href="#40673564">prev</a><span>|</span><a href="#40675384">next</a><span>|</span><label class="collapse" for="c-40673008">[-]</label><label class="expand" for="c-40673008">[7 more]</label></div><br/><div class="children"><div class="content">I think you could do the same in native apps? So yeah, not much you can do about uncareful users. I suppose you could use something like an App store to provide some checks and a little more security. But then you&#x27;re likely to run into monopolies again..</div><br/><div id="40673054" class="c"><input type="checkbox" id="c-40673054" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#40673008">parent</a><span>|</span><a href="#40675166">next</a><span>|</span><label class="collapse" for="c-40673054">[-]</label><label class="expand" for="c-40673054">[5 more]</label></div><br/><div class="children"><div class="content">I guess the argument would be that a screened app store would block such a malicious app.<p>But since the trick requires the user to go to a malicious website to install this app, it seems to me that the user might similarly be tricked into entering credentials on that website.</div><br/><div id="40673344" class="c"><input type="checkbox" id="c-40673344" checked=""/><div class="controls bullet"><span class="by">ghayes</span><span>|</span><a href="#40673008">root</a><span>|</span><a href="#40673054">parent</a><span>|</span><a href="#40674192">next</a><span>|</span><label class="collapse" for="c-40673344">[-]</label><label class="expand" for="c-40673344">[1 more]</label></div><br/><div class="children"><div class="content">Ideally, the best defense here is a FIDO-compliant 2FA or Passkey that would properly not send a valid credential for a different domain.</div><br/></div></div><div id="40674192" class="c"><input type="checkbox" id="c-40674192" checked=""/><div class="controls bullet"><span class="by">ffpip</span><span>|</span><a href="#40673008">root</a><span>|</span><a href="#40673054">parent</a><span>|</span><a href="#40673344">prev</a><span>|</span><a href="#40677224">next</a><span>|</span><label class="collapse" for="c-40674192">[-]</label><label class="expand" for="c-40674192">[2 more]</label></div><br/><div class="children"><div class="content">This looks a lot like a Oauth request, where you are redirected to sign-in. You check the URL and enter the creds, with the assumption that you are using &quot;Sign in with Microsoft&quot; to login to the site since this is how that login flow works</div><br/><div id="40674632" class="c"><input type="checkbox" id="c-40674632" checked=""/><div class="controls bullet"><span class="by">whartung</span><span>|</span><a href="#40673008">root</a><span>|</span><a href="#40674192">parent</a><span>|</span><a href="#40677224">next</a><span>|</span><label class="collapse" for="c-40674632">[-]</label><label class="expand" for="c-40674632">[1 more]</label></div><br/><div class="children"><div class="content">That’s the thing. For a desktop app, they can pop up a chromeless web view with the Oauth login page. You can’t vet the authenticity at all.</div><br/></div></div></div></div><div id="40677224" class="c"><input type="checkbox" id="c-40677224" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#40673008">root</a><span>|</span><a href="#40673054">parent</a><span>|</span><a href="#40674192">prev</a><span>|</span><a href="#40675166">next</a><span>|</span><label class="collapse" for="c-40677224">[-]</label><label class="expand" for="c-40677224">[1 more]</label></div><br/><div class="children"><div class="content">No, the malicious website would have a &quot;Sign in with Facebook&quot;.<p>You would enter your credentials on something that (according to a url bar) is Facebook.com</div><br/></div></div></div></div></div></div><div id="40675384" class="c"><input type="checkbox" id="c-40675384" checked=""/><div class="controls bullet"><span class="by">toddmorey</span><span>|</span><a href="#40673008">prev</a><span>|</span><a href="#40675035">next</a><span>|</span><label class="collapse" for="c-40675384">[-]</label><label class="expand" for="c-40675384">[4 more]</label></div><br/><div class="children"><div class="content">What makes this PWA specific rather than just “installable software”?</div><br/><div id="40678601" class="c"><input type="checkbox" id="c-40678601" checked=""/><div class="controls bullet"><span class="by">arendtio</span><span>|</span><a href="#40675384">parent</a><span>|</span><a href="#40675416">next</a><span>|</span><label class="collapse" for="c-40678601">[-]</label><label class="expand" for="c-40678601">[1 more]</label></div><br/><div class="children"><div class="content">PWAs are generally considered safe to install because they are just a website (running in a sandbox) plus some fancy desktop integration. Normal software you install doesn&#x27;t run in a sandbox and has much more capabilities.<p>However, as with every phishing attack, the user must ignore small (security related) hints.</div><br/></div></div><div id="40675416" class="c"><input type="checkbox" id="c-40675416" checked=""/><div class="controls bullet"><span class="by">toddmorey</span><span>|</span><a href="#40675384">parent</a><span>|</span><a href="#40678601">prev</a><span>|</span><a href="#40675035">next</a><span>|</span><label class="collapse" for="c-40675416">[-]</label><label class="expand" for="c-40675416">[2 more]</label></div><br/><div class="children"><div class="content">Ah, I’m thinking Windows maybe requires less permission to install a PWA?</div><br/><div id="40675827" class="c"><input type="checkbox" id="c-40675827" checked=""/><div class="controls bullet"><span class="by">MisterDizzy</span><span>|</span><a href="#40675384">root</a><span>|</span><a href="#40675416">parent</a><span>|</span><a href="#40675035">next</a><span>|</span><label class="collapse" for="c-40675827">[-]</label><label class="expand" for="c-40675827">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s &quot;installed&quot; through the browser, and it runs in the browser. So a PWA is just a browser app that maybe runs in a window with no browser chrome so it feels more native.</div><br/></div></div></div></div></div></div><div id="40675035" class="c"><input type="checkbox" id="c-40675035" checked=""/><div class="controls bullet"><span class="by">meiraleal</span><span>|</span><a href="#40675384">prev</a><span>|</span><a href="#40675546">next</a><span>|</span><label class="collapse" for="c-40675035">[-]</label><label class="expand" for="c-40675035">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s indeed a tricky one. Even tho I work with PWAs I could see myself being misled by this with a github credential. Good remind to only connect third party services with access tokens.</div><br/><div id="40675385" class="c"><input type="checkbox" id="c-40675385" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#40675035">parent</a><span>|</span><a href="#40675546">next</a><span>|</span><label class="collapse" for="c-40675385">[-]</label><label class="expand" for="c-40675385">[2 more]</label></div><br/><div class="children"><div class="content">Many applications will obtain such a token through an OAuth flow of some kind.<p>Using a browser-integrated password manager or passkey will usually prevent this attack, though.</div><br/><div id="40676235" class="c"><input type="checkbox" id="c-40676235" checked=""/><div class="controls bullet"><span class="by">Nathanba</span><span>|</span><a href="#40675035">root</a><span>|</span><a href="#40675385">parent</a><span>|</span><a href="#40675546">next</a><span>|</span><label class="collapse" for="c-40676235">[-]</label><label class="expand" for="c-40676235">[1 more]</label></div><br/><div class="children"><div class="content">Nah, it won&#x27;t because it happens all the time that my password manager doesn&#x27;t recognize the current url because the auth signin flow had so many weird urls in it that I had to save the url manually and now it&#x27;s not the right url so I copy out the password manually instead of autofilling it. This was actually the case for my Google account which I created through gmail but then my gmail password wasn&#x27;t using the right url for all the other google services. Now that I think about it, this was also the case for my Microsoft account that I got a long time ago through hotmail.<p>I think that this is a fairly legitimate attack vector and it&#x27;s sad because I really want to be able to hide the url bar in my PWAs through custom styling to make it look more like a real native app.</div><br/></div></div></div></div></div></div><div id="40675546" class="c"><input type="checkbox" id="c-40675546" checked=""/><div class="controls bullet"><span class="by">dzhiurgis</span><span>|</span><a href="#40675035">prev</a><span>|</span><a href="#40674527">next</a><span>|</span><label class="collapse" for="c-40675546">[-]</label><label class="expand" for="c-40675546">[1 more]</label></div><br/><div class="children"><div class="content">This reminds me OAuth screens where you are not sure why your password manager doesn’t work…</div><br/></div></div></div></div></div></div></div></body></html>