<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712912459811" as="style"/><link rel="stylesheet" href="styles.css?v=1712912459811"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://cliffle.com/blog/keypad-go/">I made a thing to help you make a thing out of a keypad</a> <span class="domain">(<a href="https://cliffle.com">cliffle.com</a>)</span></div><div class="subtext"><span>mooreds</span> | <span>30 comments</span></div><br/><div><div id="40008875" class="c"><input type="checkbox" id="c-40008875" checked=""/><div class="controls bullet"><span class="by">shermantanktop</span><span>|</span><a href="#40008727">next</a><span>|</span><label class="collapse" for="c-40008875">[-]</label><label class="expand" for="c-40008875">[7 more]</label></div><br/><div class="children"><div class="content">I think this is great, but it strikes me as the DIY embedded hardware equivalent of what coders often do.<p>“I could manually enter 100 lines of text or…I could spend all afternoon writing Perl to clean and correct my noisy OCR data…and end up with the same 100 lines of text.<p>But also I’ll have built a tool! A tool nobody asked for.  I really hope I can get someone else to use it so I can feel better about my lost afternoon.”</div><br/><div id="40008966" class="c"><input type="checkbox" id="c-40008966" checked=""/><div class="controls bullet"><span class="by">Tijdreiziger</span><span>|</span><a href="#40008875">parent</a><span>|</span><a href="#40008992">next</a><span>|</span><label class="collapse" for="c-40008966">[-]</label><label class="expand" for="c-40008966">[3 more]</label></div><br/><div class="children"><div class="content">The programmers’ creed: We do these things not because they are easy, but because we thought they would be easy. ;)</div><br/><div id="40009494" class="c"><input type="checkbox" id="c-40009494" checked=""/><div class="controls bullet"><span class="by">gibolt</span><span>|</span><a href="#40008875">root</a><span>|</span><a href="#40008966">parent</a><span>|</span><a href="#40010204">next</a><span>|</span><label class="collapse" for="c-40009494">[-]</label><label class="expand" for="c-40009494">[1 more]</label></div><br/><div class="children"><div class="content">The one I follow is slightly different:<p>We do these things not because they are easy, but because we want to<p>And later we can find 100 good excuses explaining why it was worth it</div><br/></div></div><div id="40010204" class="c"><input type="checkbox" id="c-40010204" checked=""/><div class="controls bullet"><span class="by">fxtentacle</span><span>|</span><a href="#40008875">root</a><span>|</span><a href="#40008966">parent</a><span>|</span><a href="#40009494">prev</a><span>|</span><a href="#40008992">next</a><span>|</span><label class="collapse" for="c-40010204">[-]</label><label class="expand" for="c-40010204">[1 more]</label></div><br/><div class="children"><div class="content">We do these things for the learning experience.<p>At least that&#x27;s me. I&#x27;ve built sooo much stuff just because I wanted to learn how to build it.</div><br/></div></div></div></div><div id="40008992" class="c"><input type="checkbox" id="c-40008992" checked=""/><div class="controls bullet"><span class="by">zer00eyz</span><span>|</span><a href="#40008875">parent</a><span>|</span><a href="#40008966">prev</a><span>|</span><a href="#40010509">next</a><span>|</span><label class="collapse" for="c-40008992">[-]</label><label class="expand" for="c-40008992">[2 more]</label></div><br/><div class="children"><div class="content">Perl was a spot on choice for your example.<p>&gt;&gt; DIY embedded hardware<p>20 years ago an Arduino was brand new and 50 bucks.<p>Now any one can get a PCB made. You can do hardware like software (iterative, casual).<p>This is both silly and amazing!</div><br/><div id="40010095" class="c"><input type="checkbox" id="c-40010095" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#40008875">root</a><span>|</span><a href="#40008992">parent</a><span>|</span><a href="#40010509">next</a><span>|</span><label class="collapse" for="c-40010095">[-]</label><label class="expand" for="c-40010095">[1 more]</label></div><br/><div class="children"><div class="content">I wish, and PCBs, yes, but we are still far from <i>&quot;hardware like software (iterative, casual)&quot;</i>.<p>We will be there if we can send off a design and get back a small quantity of reasonably priced fully assembled devices.<p>And this is not only about ability alone. Learning the skills to assemble a board is pretty realistically possible for almost anyone. It&#x27;s just so annoyingly boring and tedious once the initial fascination and excitement has worn off. Contrary to when I learned it, it is already a pretty useless skill and will be comletely futile in the future.</div><br/></div></div></div></div><div id="40010509" class="c"><input type="checkbox" id="c-40010509" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#40008875">parent</a><span>|</span><a href="#40008992">prev</a><span>|</span><a href="#40008727">next</a><span>|</span><label class="collapse" for="c-40010509">[-]</label><label class="expand" for="c-40010509">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I think this is great, but it strikes me as the DIY embedded hardware equivalent of what coders often do.<p>I think the author already knows this :-)<p>The primary goal in this project appears to be &quot;fun&quot;, not &quot;provide a cheap option for reading keypads&quot;.<p>I mean, the author ate the pain of learning-to-Rust-on-the-STM32, uses it for no discernible gain for a project of this scope, and for good measure adds in a home-written embedded OS.<p>For something of this scope no multi-task-driven design is necessary, and an 8051-or-cheaper uC with an i2c peripheral and ISRs reading with a while(1) loop writing is more than sufficient.<p>I attempted making and selling a thing like this (integrating 2x16&#x2F;2x32 character LCD and keypad) waaaay back in 2003&#x2F;2004, but the number of hobbyist uC developers just didn&#x27;t make it worthwhile.<p>Today, with the arduino already a grandaddy in relative terms, everyone and their dog is doing embedded, so might be a good time for me to relook at all-in-one i2c peripherals for hobbyists.</div><br/></div></div></div></div><div id="40008727" class="c"><input type="checkbox" id="c-40008727" checked=""/><div class="controls bullet"><span class="by">technothrasher</span><span>|</span><a href="#40008875">prev</a><span>|</span><a href="#40008893">next</a><span>|</span><label class="collapse" for="c-40008727">[-]</label><label class="expand" for="c-40008727">[8 more]</label></div><br/><div class="children"><div class="content">I just today was interfacing to one of these 4x4 keypad arrays for a small in-house test box we&#x27;re making at work.  I was handed the keypad and told to make it go.  No problem, they&#x27;re pretty straightforward to work with.  But my immediate question was, &quot;can&#x27;t we get one with a calculator style number layout rather than a phone style layout?&quot; and it seems to be the answer is basically no, unless you want to have one custom made.  Pretty much all the stuff out there floating around is all phone layout.  Why??  The pattern on the one in your project write up (which is a fun project, btw) seems the most common, and the same pattern as the one I&#x27;ve got.  Along with the reverse number pattern, the &#x27;#&#x27; and &#x27;*&#x27; keys seems much less useful than a &#x27;.&#x27; and an &#x27;enter&#x27; key would be in a lot of applications.</div><br/><div id="40008949" class="c"><input type="checkbox" id="c-40008949" checked=""/><div class="controls bullet"><span class="by">EnigmaFlare</span><span>|</span><a href="#40008727">parent</a><span>|</span><a href="#40008802">next</a><span>|</span><label class="collapse" for="c-40008949">[-]</label><label class="expand" for="c-40008949">[6 more]</label></div><br/><div class="children"><div class="content">Phone layout plus * and # is extremely common on combination locks, even ones with electronic displays for keypads like this <a href="https:&#x2F;&#x2F;www.levellock.com&#x2F;home-and-office-electronic-lock-with-password-and-mf1-card-tdt-1550" rel="nofollow">https:&#x2F;&#x2F;www.levellock.com&#x2F;home-and-office-electronic-lock-wi...</a> so maybe it&#x27;s just more widely recognized by users for non-computer, non-calculator devices.<p>When I opened a bank account, I had to choose a PIN on the keypad in the office (probably a computer numpad with the same layout as a keyboard) and the clerk warned me that the numbers are upside down compared to an actual POS machine or ATM (which are phone layout).</div><br/><div id="40009171" class="c"><input type="checkbox" id="c-40009171" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#40008727">root</a><span>|</span><a href="#40008949">parent</a><span>|</span><a href="#40009004">next</a><span>|</span><label class="collapse" for="c-40009171">[-]</label><label class="expand" for="c-40009171">[1 more]</label></div><br/><div class="children"><div class="content">The 3270 terminal family had a numberpad-like matrix on the right side of the keyboard which was PF1–PF12 with the PF1–3 on the top row. It was a bit confusing for people who used ASCII terminals with a numeric keypad muxed in to access IBM mainframes as occasionally software would assume the 3270 arrangement of keys but the mapping for ASCII terminals used the keypad with the keypad’s 1–0 corresponding to PF1–PF10 and . and + (if I remember right) corresponding to PF11 and PF12 and there would be seemingly irrational arrangements of commands with up and down reversed.</div><br/></div></div><div id="40009004" class="c"><input type="checkbox" id="c-40009004" checked=""/><div class="controls bullet"><span class="by">Tijdreiziger</span><span>|</span><a href="#40008727">root</a><span>|</span><a href="#40008949">parent</a><span>|</span><a href="#40009171">prev</a><span>|</span><a href="#40008802">next</a><span>|</span><label class="collapse" for="c-40009004">[-]</label><label class="expand" for="c-40009004">[4 more]</label></div><br/><div class="children"><div class="content">Slightly off-topic, but ‘choosing a PIN’ is an interesting rabbit hole.<p>Some banks send you a random PIN in a sealed letter.<p>Other banks have you key in your choice of PIN in various manners (at a branch, online or by phone).<p>Some banks support changing PIN at an ATM. Others don’t.</div><br/><div id="40009912" class="c"><input type="checkbox" id="c-40009912" checked=""/><div class="controls bullet"><span class="by">Moru</span><span>|</span><a href="#40008727">root</a><span>|</span><a href="#40009004">parent</a><span>|</span><a href="#40009378">next</a><span>|</span><label class="collapse" for="c-40009912">[-]</label><label class="expand" for="c-40009912">[1 more]</label></div><br/><div class="children"><div class="content">Here in Sweden the banks have been hard at work removing all physical contact for 20 years or so. Started with lowering opening times, closing down the smallest, closing down the next smallest, only accepting booked appointments and so on. Now they are opening tiny holes in the walls of shopping malls where you can get the simplest things taken care of like a new ID card or maybe even setting up a new account if you are not customer already.<p>If you don&#x27;t have a Bank-ID on your phone you can hardly do anything any more.</div><br/></div></div><div id="40009378" class="c"><input type="checkbox" id="c-40009378" checked=""/><div class="controls bullet"><span class="by">EnigmaFlare</span><span>|</span><a href="#40008727">root</a><span>|</span><a href="#40009004">parent</a><span>|</span><a href="#40009912">prev</a><span>|</span><a href="#40008802">next</a><span>|</span><label class="collapse" for="c-40009378">[-]</label><label class="expand" for="c-40009378">[2 more]</label></div><br/><div class="children"><div class="content">I guess it&#x27;s up to their evaluation of the risk since they&#x27;re the ones who&#x27;ll pay for fraud if someone finds your lost card and guesses the PIN. Though if you&#x27;re not going into a branch, there&#x27;s no opportunity for you to choose a PIN so they have to do it for you.</div><br/><div id="40009922" class="c"><input type="checkbox" id="c-40009922" checked=""/><div class="controls bullet"><span class="by">Moru</span><span>|</span><a href="#40008727">root</a><span>|</span><a href="#40009378">parent</a><span>|</span><a href="#40008802">next</a><span>|</span><label class="collapse" for="c-40009922">[-]</label><label class="expand" for="c-40009922">[1 more]</label></div><br/><div class="children"><div class="content">Sadly not here, they put all the responsibility on you as a customer. You loose your card and don&#x27;t immediately notice it, you are responsible for all lost funds until you block the card.</div><br/></div></div></div></div></div></div></div></div><div id="40008802" class="c"><input type="checkbox" id="c-40008802" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#40008727">parent</a><span>|</span><a href="#40008949">prev</a><span>|</span><a href="#40008893">next</a><span>|</span><label class="collapse" for="c-40008802">[-]</label><label class="expand" for="c-40008802">[1 more]</label></div><br/><div class="children"><div class="content">Inexpensive 10 key hid usb keyboards are common. Either interface directly or dismantle.</div><br/></div></div></div></div><div id="40008893" class="c"><input type="checkbox" id="c-40008893" checked=""/><div class="controls bullet"><span class="by">Saigonautica</span><span>|</span><a href="#40008727">prev</a><span>|</span><a href="#40005088">next</a><span>|</span><label class="collapse" for="c-40008893">[-]</label><label class="expand" for="c-40008893">[1 more]</label></div><br/><div class="children"><div class="content">Your tiny dinosaur assistant is awesome!<p>I encountered a similar problem, but solved it with USB keyboards &#x2F; keypads instead. I managed to get a low-speed USB host working on ESP32. Now I use these instead as much better build quality is available, although they are notably more expensive.<p>One thing that caught me off guard was that USB keyboard scancodes were different from PS&#x2F;2. Previously I had tackled the issue using PS&#x2F;2 keypads and a chip with some firmware that translated the scancodes to 5V serial. This was neat, but sourcing old keyboards eventually became a pain.</div><br/></div></div><div id="40005088" class="c"><input type="checkbox" id="c-40005088" checked=""/><div class="controls bullet"><span class="by">ricksunny</span><span>|</span><a href="#40008893">prev</a><span>|</span><a href="#40010300">next</a><span>|</span><label class="collapse" for="c-40005088">[-]</label><label class="expand" for="c-40005088">[6 more]</label></div><br/><div class="children"><div class="content">We need more general purpose embedded modules to act as an abstraction&#x2F; middleware &#x2F; API interface to diversity implemented but frequently utilised low-level hardware.
(and since this is a real world, with grades of environmental reliability like automotive, or specs like -45 C to 85 C.<p>edit * models-&gt; modules (autoincorrect)</div><br/><div id="40005753" class="c"><input type="checkbox" id="c-40005753" checked=""/><div class="controls bullet"><span class="by">jareklupinski</span><span>|</span><a href="#40005088">parent</a><span>|</span><a href="#40010538">next</a><span>|</span><label class="collapse" for="c-40005753">[-]</label><label class="expand" for="c-40005753">[3 more]</label></div><br/><div class="children"><div class="content">I start pretty much every new electronics project with the question &quot;Which M5Stack product handles 99% of the use cases?&quot; and I start iterating from there<p><a href="https:&#x2F;&#x2F;shop.m5stack.com&#x2F;collections&#x2F;m5-controllers" rel="nofollow">https:&#x2F;&#x2F;shop.m5stack.com&#x2F;collections&#x2F;m5-controllers</a></div><br/><div id="40005877" class="c"><input type="checkbox" id="c-40005877" checked=""/><div class="controls bullet"><span class="by">ricksunny</span><span>|</span><a href="#40005088">root</a><span>|</span><a href="#40005753">parent</a><span>|</span><a href="#40008474">next</a><span>|</span><label class="collapse" for="c-40005877">[-]</label><label class="expand" for="c-40005877">[1 more]</label></div><br/><div class="children"><div class="content">Love it and was hitherto unfamiliar - thanks for clueing me in =)</div><br/></div></div><div id="40008474" class="c"><input type="checkbox" id="c-40008474" checked=""/><div class="controls bullet"><span class="by">imchillyb</span><span>|</span><a href="#40005088">root</a><span>|</span><a href="#40005753">parent</a><span>|</span><a href="#40005877">prev</a><span>|</span><a href="#40010538">next</a><span>|</span><label class="collapse" for="c-40008474">[-]</label><label class="expand" for="c-40008474">[1 more]</label></div><br/><div class="children"><div class="content">That’s an amazing resource.  Thank you for sharing.</div><br/></div></div></div></div><div id="40010538" class="c"><input type="checkbox" id="c-40010538" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#40005088">parent</a><span>|</span><a href="#40005753">prev</a><span>|</span><a href="#40008543">next</a><span>|</span><label class="collapse" for="c-40010538">[-]</label><label class="expand" for="c-40010538">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m game to build anything. What specifically did you have in mind that doesn&#x27;t already exist?</div><br/></div></div><div id="40008543" class="c"><input type="checkbox" id="c-40008543" checked=""/><div class="controls bullet"><span class="by">0xEF</span><span>|</span><a href="#40005088">parent</a><span>|</span><a href="#40010538">prev</a><span>|</span><a href="#40010300">next</a><span>|</span><label class="collapse" for="c-40008543">[-]</label><label class="expand" for="c-40008543">[1 more]</label></div><br/><div class="children"><div class="content">We also need more manuals with dinosaurs.</div><br/></div></div></div></div><div id="40010300" class="c"><input type="checkbox" id="c-40010300" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#40005088">prev</a><span>|</span><a href="#40008807">next</a><span>|</span><label class="collapse" for="c-40010300">[-]</label><label class="expand" for="c-40010300">[1 more]</label></div><br/><div class="children"><div class="content">The electronics are the easy part. What i&#x27;d like to know: has any DIYer ever created their own keycaps?</div><br/></div></div><div id="40008807" class="c"><input type="checkbox" id="c-40008807" checked=""/><div class="controls bullet"><span class="by">bayesianbot</span><span>|</span><a href="#40010300">prev</a><span>|</span><a href="#40009517">next</a><span>|</span><label class="collapse" for="c-40008807">[-]</label><label class="expand" for="c-40008807">[2 more]</label></div><br/><div class="children"><div class="content">Huh, weirdly I was just searching for solutions for this just few days ago - I&#x27;ve got some ESP32 projects with keypads and LCDs, which usually are wired little further away from the ESP and other attachments, so the wiring is somewhat PITA. This thing could help it go from 12 wires total for both LCD+keys to only 4 using shared I2C wiring, quite nice!</div><br/><div id="40010431" class="c"><input type="checkbox" id="c-40010431" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#40008807">parent</a><span>|</span><a href="#40009517">next</a><span>|</span><label class="collapse" for="c-40010431">[-]</label><label class="expand" for="c-40010431">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This thing could help it go from 12 wires total for both LCD+keys to only 4 using shared I2C wiring, quite nice!<p>Or you could use shift registers which cost a few USD cents.<p>On a personal project a long long time ago, I recall using daisy-chained shift registers to control a stupidly high number of relays (think 100+), at an extra BOM cost of around $1.<p>The relay switching time was still much, much larger than the time it took to bit-bang the daisy-chained shift registers for all relays.</div><br/></div></div></div></div><div id="40009517" class="c"><input type="checkbox" id="c-40009517" checked=""/><div class="controls bullet"><span class="by">tambourine_man</span><span>|</span><a href="#40008807">prev</a><span>|</span><a href="#40008380">next</a><span>|</span><label class="collapse" for="c-40009517">[-]</label><label class="expand" for="c-40009517">[1 more]</label></div><br/><div class="children"><div class="content">Awesome project. Suggestion: turn off autofocus for close-up videos. Focus lock on the mid-to-closest subject. Phones and their tiny sensors have plenty of depth of field.</div><br/></div></div><div id="40008072" class="c"><input type="checkbox" id="c-40008072" checked=""/><div class="controls bullet"><span class="by">bhaney</span><span>|</span><a href="#40008380">prev</a><span>|</span><a href="#40009690">next</a><span>|</span><label class="collapse" for="c-40008072">[-]</label><label class="expand" for="c-40008072">[1 more]</label></div><br/><div class="children"><div class="content">Things that help me make things are one of my favorite kind of things</div><br/></div></div><div id="40009690" class="c"><input type="checkbox" id="c-40009690" checked=""/><div class="controls bullet"><span class="by">crystaln</span><span>|</span><a href="#40008072">prev</a><span>|</span><label class="collapse" for="c-40009690">[-]</label><label class="expand" for="c-40009690">[1 more]</label></div><br/><div class="children"><div class="content">Why hardware not software?</div><br/></div></div></div></div></div></div></div></body></html>