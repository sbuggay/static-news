<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732957257155" as="style"/><link rel="stylesheet" href="styles.css?v=1732957257155"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://mcyoung.xyz/2021/06/01/linker-script/">Everything You Never Wanted to Know About Linker Script (2021)</a> <span class="domain">(<a href="https://mcyoung.xyz">mcyoung.xyz</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>9 comments</span></div><br/><div><div id="42279116" class="c"><input type="checkbox" id="c-42279116" checked=""/><div class="controls bullet"><span class="by">4ntiq</span><span>|</span><a href="#42279300">next</a><span>|</span><label class="collapse" for="c-42279116">[-]</label><label class="expand" for="c-42279116">[3 more]</label></div><br/><div class="children"><div class="content">This is a fairly high level overview of linkers, most of which you can find for yourself if you look up `ld` documentation [0] (mentioned in the article) and walk through it step by step in a tutorial fashion.<p>A more comprehensive look would be, at the very least one would hope, to have a reference manual of your favorite MCU and write the corresponding linker script for the memory sections it expects and provide stubs&#x2F;thunks and other things of that nature. It&#x27;s the praxis and application that brings the scary things out.<p>[0] <a href="https:&#x2F;&#x2F;sourceware.org&#x2F;binutils&#x2F;docs&#x2F;ld.pdf" rel="nofollow">https:&#x2F;&#x2F;sourceware.org&#x2F;binutils&#x2F;docs&#x2F;ld.pdf</a> (nb - after you&#x27;ve gone through the page count of some IC and MCU datasheets, 164 pages of ld will seem like a walk in the park)</div><br/><div id="42280421" class="c"><input type="checkbox" id="c-42280421" checked=""/><div class="controls bullet"><span class="by">bboygravity</span><span>|</span><a href="#42279116">parent</a><span>|</span><a href="#42279882">next</a><span>|</span><label class="collapse" for="c-42280421">[-]</label><label class="expand" for="c-42280421">[1 more]</label></div><br/><div class="children"><div class="content">Except in reality 99% of people will just take the example (or auto-generated) linker scripts from the MCU manufacturer without understanding a thing about them and call it a day.<p>And all will work fine.</div><br/></div></div><div id="42279882" class="c"><input type="checkbox" id="c-42279882" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#42279116">parent</a><span>|</span><a href="#42280421">prev</a><span>|</span><a href="#42279300">next</a><span>|</span><label class="collapse" for="c-42279882">[-]</label><label class="expand" for="c-42279882">[1 more]</label></div><br/><div class="children"><div class="content">Implying that you can just read that documentation and &quot;walk through it in a tutorial fashion&quot; is a peak HN comment probably only rivaled by the famous Dropbox comment.<p>Not everyone is an expert in these things, and I&#x27;d appreciate if there were more articles like this.</div><br/></div></div></div></div><div id="42279300" class="c"><input type="checkbox" id="c-42279300" checked=""/><div class="controls bullet"><span class="by">rramadass</span><span>|</span><a href="#42279116">prev</a><span>|</span><a href="#42279894">next</a><span>|</span><label class="collapse" for="c-42279300">[-]</label><label class="expand" for="c-42279300">[1 more]</label></div><br/><div class="children"><div class="content">Folks might also find the book <i>Advanced C and C++ Compiling by Milan Stevanovic</i> useful here.</div><br/></div></div><div id="42279894" class="c"><input type="checkbox" id="c-42279894" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#42279300">prev</a><span>|</span><label class="collapse" for="c-42279894">[-]</label><label class="expand" for="c-42279894">[4 more]</label></div><br/><div class="children"><div class="content">Linking is a huge topic: subtle nuances on the concept of topological sort represent the difference between success and failure for a build system that constructs an interesting link line. This is for lack of a better term “undergraduate link theory”.<p>But the real sweat equity starts at dynamic linking on a quasi-platform with all the best qualities of an identity crisis like an M Night Shyamalan story. Don’t take my word for it, some combination of Thompson and Pike and generally what’s left of the Labs legacy is a much better source than I am [1].<p>glibc is an amazing software artifact and has nonetheless become a liability in the default case. Everyone knows Drepper is an OG force of nature like they don’t make anymore, but copying the Win32 playbook has starved out musl and other strictly better ways to live. The consensus is to pour billions of good money after bad into the coffers of the Docker Industrial Complex to get a static link they had on a PDP-11.<p>For the first time in decades there’s a sane take on Python courtesy of the Astral folks and they have a whole page explaining the minimum viable technical debt risk landmine needed to use Torch with a better strategy than hope [2].<p>But really it’s the Nix people who have failed in their duty here: nix-ld is an awesome piece of software and it’s not the author’s fault, but crippling it on purpose via whitelisting rather than blacklisting eligible .so when they’re all already at the same privilege level could possibly kill Nix in the era of extreme performance vector compute via accelerator as the cover charge on being part of the software business [3]. I’m rolling Ubuntu boxes and patching it up with Homebrew when I don’t have a week and a PhD to get Triton taking to the driver these days and god damn I hate mutable state guess abd check and pray on my science.<p>I hate to rant with no actionable proposal, but the action item here is a very big ask. Almost all people are reasonable if they don’t fear for what they regard as essential and existential. Vi&#x2F;Emacs wars were old when I was young but the idea that anyone would prosper or perish IRL who took this stuff seriously couldn’t even be spelled in the alphabet at that time, and it’s not AI or offshoring, or any of that. Wildly unique mathematicians and engineers and scientists were grateful for what little they had and exceedingly cautious of standing next to a dissident in the USSR for decades when the stakes wer3 nuclear hellfire.<p>That’s what central committees of insiders produce. You can call it communism or a16z. Unaccountable insiders who answer to no one but each other walks and talks and quacks like Thiel-world whatever you call it.<p>[1] <a href="https:&#x2F;&#x2F;harmful.cat-v.org&#x2F;software&#x2F;dynamic-linking&#x2F;" rel="nofollow">https:&#x2F;&#x2F;harmful.cat-v.org&#x2F;software&#x2F;dynamic-linking&#x2F;</a><p>[2] <a href="https:&#x2F;&#x2F;docs.astral.sh&#x2F;uv&#x2F;guides&#x2F;integration&#x2F;pytorch&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.astral.sh&#x2F;uv&#x2F;guides&#x2F;integration&#x2F;pytorch&#x2F;</a><p>[3] <a href="https:&#x2F;&#x2F;github.com&#x2F;nix-community&#x2F;nix-ld">https:&#x2F;&#x2F;github.com&#x2F;nix-community&#x2F;nix-ld</a></div><br/><div id="42280230" class="c"><input type="checkbox" id="c-42280230" checked=""/><div class="controls bullet"><span class="by">AceJohnny2</span><span>|</span><a href="#42279894">parent</a><span>|</span><label class="collapse" for="c-42280230">[-]</label><label class="expand" for="c-42280230">[3 more]</label></div><br/><div class="children"><div class="content">not gonna lie, you had me in the first half.<p>How did you get from the topic of linking to communism &amp; a16z!?</div><br/><div id="42280275" class="c"><input type="checkbox" id="c-42280275" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#42279894">root</a><span>|</span><a href="#42280230">parent</a><span>|</span><label class="collapse" for="c-42280275">[-]</label><label class="expand" for="c-42280275">[2 more]</label></div><br/><div class="children"><div class="content">Google search is no longer up to the task of making it quick on a mobile phone to find this, but the first time I read it out well was on Steve Yegge’s OG blog. I’m paraphrasing here but he basically made the point that spending your life mastering software doesn’t leave much scope for horizontal career mobility, and that getting heavily wired into a given programming language or operating system or whatever makes it existential to see it succeed. If I talk shit about a certain programming language here it’ll mobbed by people who owe their paycheck to its adoption in under an hour, please don’t make me prove that.<p>I appreciate that I elided a lot of the conjectures on the way from “Drepper wants static glibc not to work” to “mafia capitalist RICO shit is the upstream cause”.<p>Scandal-ridden mafia capitalist shit is the upstream problem.</div><br/><div id="42280303" class="c"><input type="checkbox" id="c-42280303" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#42279894">root</a><span>|</span><a href="#42280275">parent</a><span>|</span><label class="collapse" for="c-42280303">[-]</label><label class="expand" for="c-42280303">[1 more]</label></div><br/><div class="children"><div class="content">I mean, Unit 5 of Thiel’s startup 101 lectures at Stanford is titled “Competition is for Losers”. He leads off with making sure everyone is crystal clear that “attaining a monopoly” aka anti-trust fraud is his “idee fixé”.<p>This isn’t hosted on InfoWars. It’s hosted on YC’s YouTube channel.<p>It’s not a secret what these guys are doing and plan to do more of: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;3Fx5Q8xGU8k?si=I04EIvC-8GGV-LXf" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;3Fx5Q8xGU8k?si=I04EIvC-8GGV-LXf</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>