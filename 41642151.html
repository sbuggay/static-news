<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1727254868408" as="style"/><link rel="stylesheet" href="styles.css?v=1727254868408"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/cozis/blogtech">Show HN: Hosting my website using my C web server</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>cozis</span> | <span>54 comments</span></div><br/><div><div id="41643691" class="c"><input type="checkbox" id="c-41643691" checked=""/><div class="controls bullet"><span class="by">theideaofcoffee</span><span>|</span><a href="#41642171">next</a><span>|</span><label class="collapse" for="c-41643691">[-]</label><label class="expand" for="c-41643691">[2 more]</label></div><br/><div class="children"><div class="content">Awesome! I used to think (well, I still do) that getting a barebones service up and running using the system APIs at the lowest level like this is so satisfying. It&#x27;s sort of magical, really. And to see it serve real traffic! I&#x27;m kind of surprised that the vanilla poll() can put up numbers like you were seeing, but I guess it&#x27;s been a while since I&#x27;ve had to do anything event related&#x2F;benchmark at that level.<p>I love the connection-specific functions and related structs and arrays for your connection bookkeeping, as well as the poll fd arrays. It&#x27;s very reminiscent of how it&#x27;s done in lots of other open source packages known for high throughput numbers, like nginx, redis, memcached.<p>Great work!</div><br/><div id="41645165" class="c"><input type="checkbox" id="c-41645165" checked=""/><div class="controls bullet"><span class="by">yard2010</span><span>|</span><a href="#41643691">parent</a><span>|</span><a href="#41642171">next</a><span>|</span><label class="collapse" for="c-41645165">[-]</label><label class="expand" for="c-41645165">[1 more]</label></div><br/><div class="children"><div class="content">Working with c&#x2F;cpp in uni exploded my mind. It&#x27;s such a specific humbling experience that has a bit of anything I love - engineering, history, culture, linguistics, etc.<p>It made me think that anyone should know and try every possible language (programming or otherwise) - &quot;thinking&quot; in a language is such a unique experience. The different contexts make everything feel different, even though it&#x27;s more of the same. The perspective change, and changes the subjective experience.<p>For example - to really understand the nature of linux or git, you have to speak its language and understand the nuances that are usually lost in translation. Tangibly, to understand the true subjective meaning of the word &quot;forest&quot; in russian one has to speak and understand russian.<p>The context changes the perspective, so sometimes it changes everything.</div><br/></div></div></div></div><div id="41642171" class="c"><input type="checkbox" id="c-41642171" checked=""/><div class="controls bullet"><span class="by">cozis</span><span>|</span><a href="#41643691">prev</a><span>|</span><a href="#41643553">next</a><span>|</span><label class="collapse" for="c-41642171">[-]</label><label class="expand" for="c-41642171">[2 more]</label></div><br/><div class="children"><div class="content">Hello everyone! This is a fun little project I started in my spare time and thought you&#x27;d appreciate :)</div><br/><div id="41642952" class="c"><input type="checkbox" id="c-41642952" checked=""/><div class="controls bullet"><span class="by">yazzku</span><span>|</span><a href="#41642171">parent</a><span>|</span><a href="#41643553">next</a><span>|</span><label class="collapse" for="c-41642952">[-]</label><label class="expand" for="c-41642952">[1 more]</label></div><br/><div class="children"><div class="content">Appreciated indeed. I happened to want to mess around with the C11 concurrency API and write a server of sorts, mostly as a curiosity of how those constructs work out in C coming from C++.</div><br/></div></div></div></div><div id="41643553" class="c"><input type="checkbox" id="c-41643553" checked=""/><div class="controls bullet"><span class="by">litbear2022</span><span>|</span><a href="#41642171">prev</a><span>|</span><a href="#41644776">next</a><span>|</span><label class="collapse" for="c-41643553">[-]</label><label class="expand" for="c-41643553">[1 more]</label></div><br/><div class="children"><div class="content">You may be interested in this <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27431910">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27431910</a><p>&gt; As of 2024, the althttpd instance for sqlite.org answers more than 500,000 HTTP requests per day (about 5 or 6 per second) delivering about 200GB of content per day (about 18 megabits&#x2F;second) on a $40&#x2F;month Linode. The load average on this machine normally stays around 0.5. About 19% of the HTTP requests are CGI to various Fossil source-code repositories.</div><br/></div></div><div id="41644776" class="c"><input type="checkbox" id="c-41644776" checked=""/><div class="controls bullet"><span class="by">gonzus</span><span>|</span><a href="#41643553">prev</a><span>|</span><a href="#41643407">next</a><span>|</span><label class="collapse" for="c-41644776">[-]</label><label class="expand" for="c-41644776">[2 more]</label></div><br/><div class="children"><div class="content">Kudos for your project -- it is great fun and a learning experience to implement your own HTTP server in a low(er)-level language.<p>One question: you say that &quot;Transfer-Encoding: Chunked responds with 411 Length Required, prompting the client to resend with Content-Length&quot;. Is there a reason for doing this (security perhaps), or is it just a choice?</div><br/><div id="41644956" class="c"><input type="checkbox" id="c-41644956" checked=""/><div class="controls bullet"><span class="by">gonzus</span><span>|</span><a href="#41644776">parent</a><span>|</span><a href="#41643407">next</a><span>|</span><label class="collapse" for="c-41644956">[-]</label><label class="expand" for="c-41644956">[1 more]</label></div><br/><div class="children"><div class="content">Sorry for answering myself. I paid more attention now, and it seems this is disabling chunked transfer encoding <i>from the client to the server</i>, which makes sense from a security &#x2F; reliability PoV. Disabling it from server to client does not (IMHO).</div><br/></div></div></div></div><div id="41643407" class="c"><input type="checkbox" id="c-41643407" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#41644776">prev</a><span>|</span><a href="#41643242">next</a><span>|</span><label class="collapse" for="c-41643407">[-]</label><label class="expand" for="c-41643407">[12 more]</label></div><br/><div class="children"><div class="content">Finally a website that doesn&#x27;t crash when it shows up on the front page</div><br/><div id="41643566" class="c"><input type="checkbox" id="c-41643566" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#41643407">parent</a><span>|</span><a href="#41643510">next</a><span>|</span><label class="collapse" for="c-41643566">[-]</label><label class="expand" for="c-41643566">[9 more]</label></div><br/><div class="children"><div class="content">Any site with a CDN in front of it can do that.<p>Don’t get me wrong this is an awesome project but if you really care about this kind of thing in a production scenario and you’re serving mostly static content… just use a CDN. It’ll pretty much always outperform just about anything you write. It’s just boring.</div><br/><div id="41644704" class="c"><input type="checkbox" id="c-41644704" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643566">parent</a><span>|</span><a href="#41644566">next</a><span>|</span><label class="collapse" for="c-41644704">[-]</label><label class="expand" for="c-41644704">[3 more]</label></div><br/><div class="children"><div class="content">Even caching is normally unnecessary.<p>Honestly, HN front page traffic isn’t much. For most, it probably peaks at about one page load¹ per second², and if your web server software can’t cope with that, it’s <i>bad</i>.<p>Even if your site uses PHP and MySQL and queries the database to handle every request, hopefully static resources bypass all that and are served straight from disk. CPU and memory usage will be negligible, and a 100Mbps uplink will handle it all easily. So then, hopefully you’re only left with one request that’s actually doing database work, and if it can’t answer in one whole, entire second, it’s <i>bad</i>.<p>(I’m talking about general web pages here, not web apps, which have a somewhat different balance; but still for most things HN traffic shouldn’t cause a sweat, even if you’ve completely ignored caching.)<p>Seriously, a not-<i>too</i>-awful WordPress installation on a Raspberry Pi could probably cope with HN traffic.<p>—⁂—<p>¹ Note this metric: <i>page loads</i>, not <i>requests</i>. Requests per second will scale with first-party requests per page.<p>² From a quick search, two sources from this year: <a href="https:&#x2F;&#x2F;marcotm.com&#x2F;articles&#x2F;stats-of-being-on-the-hacker-news-front-page&#x2F;" rel="nofollow">https:&#x2F;&#x2F;marcotm.com&#x2F;articles&#x2F;stats-of-being-on-the-hacker-ne...</a>, <a href="https:&#x2F;&#x2F;harrisonbroadbent.com&#x2F;blog&#x2F;hacker-news-traffic-spike-anatomy&#x2F;" rel="nofollow">https:&#x2F;&#x2F;harrisonbroadbent.com&#x2F;blog&#x2F;hacker-news-traffic-spike...</a>. Both use JS tracking, but even doubling the number to generously account for we sensible people who use content blockers has the hourly average under one load per second.</div><br/><div id="41644740" class="c"><input type="checkbox" id="c-41644740" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41644704">parent</a><span>|</span><a href="#41644566">next</a><span>|</span><label class="collapse" for="c-41644740">[-]</label><label class="expand" for="c-41644740">[2 more]</label></div><br/><div class="children"><div class="content">&gt; and if your web server software can’t cope with that, it’s bad.<p>Well then sites on average are sadly &quot;bad&quot; by your standards. Lots of sites that get on the front page of HN go down.</div><br/><div id="41644848" class="c"><input type="checkbox" id="c-41644848" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41644740">parent</a><span>|</span><a href="#41644566">next</a><span>|</span><label class="collapse" for="c-41644848">[-]</label><label class="expand" for="c-41644848">[1 more]</label></div><br/><div class="children"><div class="content">There <i>are</i> a lot of bad sites, but it’s nowhere near average—it’s a small fraction that are bad in these ways. I visit <i>many</i> sites from HN, and encounter pages that are down or even <i>struggling</i> due to overtraffic significantly less than once a week. Admittedly most of the pages loaded are on well-established sites or static hosts, but there are plenty that are WordPress or similar.</div><br/></div></div></div></div></div></div><div id="41644566" class="c"><input type="checkbox" id="c-41644566" checked=""/><div class="controls bullet"><span class="by">tazjin</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643566">parent</a><span>|</span><a href="#41644704">prev</a><span>|</span><a href="#41643781">next</a><span>|</span><label class="collapse" for="c-41644566">[-]</label><label class="expand" for="c-41644566">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Any site with a CDN in front of it can do that.<p>You are vastly overestimating HN front page traffic. Any reasonable system on any reasonable machine with any reasonable link can do this. And I really do mean reasonable: I&#x27;ve served front-page traffic from a dedicated server in a DC, and from a small NUC in a closet at home, and both handled it completely fine.</div><br/></div></div><div id="41643781" class="c"><input type="checkbox" id="c-41643781" checked=""/><div class="controls bullet"><span class="by">theideaofcoffee</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643566">parent</a><span>|</span><a href="#41644566">prev</a><span>|</span><a href="#41643743">next</a><span>|</span><label class="collapse" for="c-41643781">[-]</label><label class="expand" for="c-41643781">[1 more]</label></div><br/><div class="children"><div class="content">This sort of trivializes the effort and the fun of a project like this, doesn&#x27;t it? Yes, you&#x27;ll want to put all of your ducks in a row when you go to full production and you&#x27;ve reached full virality and your project is taking 5 million RPS globally and offloading all of that onto a CDN and making sure your clients requests are well respected in terms of cache control and making it secure and putting requests through a waf and and and and and. Yes we know. Lighten up. The comment you&#x27;re replying to was meant to be lighthearted.</div><br/></div></div><div id="41643743" class="c"><input type="checkbox" id="c-41643743" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643566">parent</a><span>|</span><a href="#41643781">prev</a><span>|</span><a href="#41643747">next</a><span>|</span><label class="collapse" for="c-41643743">[-]</label><label class="expand" for="c-41643743">[1 more]</label></div><br/><div class="children"><div class="content">Any site that consists of static files served by a professional-grade web server like nginx on a small VPS can also trivially do that.</div><br/></div></div><div id="41643747" class="c"><input type="checkbox" id="c-41643747" checked=""/><div class="controls bullet"><span class="by">interroboink</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643566">parent</a><span>|</span><a href="#41643743">prev</a><span>|</span><a href="#41643510">next</a><span>|</span><label class="collapse" for="c-41643747">[-]</label><label class="expand" for="c-41643747">[2 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re hosting static data, shouldn&#x27;t HTTP cache flags be enough in most cases? Read-only cacheable data shouldn&#x27;t be toppling even a modest server. Even without an explicit CDN, various nodes along the chain will be caching it.<p>(though I confess it&#x27;s been some years since I&#x27;ve worked in this area)</div><br/><div id="41643807" class="c"><input type="checkbox" id="c-41643807" checked=""/><div class="controls bullet"><span class="by">christina97</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643747">parent</a><span>|</span><a href="#41643510">next</a><span>|</span><label class="collapse" for="c-41643807">[-]</label><label class="expand" for="c-41643807">[1 more]</label></div><br/><div class="children"><div class="content">That’s not the case these days. Due to TLS, there is very little catching in between you and the server you’re hitting.</div><br/></div></div></div></div></div></div><div id="41643510" class="c"><input type="checkbox" id="c-41643510" checked=""/><div class="controls bullet"><span class="by">rubyn00bie</span><span>|</span><a href="#41643407">parent</a><span>|</span><a href="#41643566">prev</a><span>|</span><a href="#41643242">next</a><span>|</span><label class="collapse" for="c-41643510">[-]</label><label class="expand" for="c-41643510">[2 more]</label></div><br/><div class="children"><div class="content">Uhh… doesn’t the link go to GitHub? I’m a little confused by this comment. I mean the project is neat and cool. But I imagine most folks go to GitHub and don’t go to the link showing the webpage. Am I missing something?</div><br/><div id="41643661" class="c"><input type="checkbox" id="c-41643661" checked=""/><div class="controls bullet"><span class="by">wilkystyle</span><span>|</span><a href="#41643407">root</a><span>|</span><a href="#41643510">parent</a><span>|</span><a href="#41643242">next</a><span>|</span><label class="collapse" for="c-41643661">[-]</label><label class="expand" for="c-41643661">[1 more]</label></div><br/><div class="children"><div class="content">Link to the actual site is at the top of the GitHub page.</div><br/></div></div></div></div></div></div><div id="41643242" class="c"><input type="checkbox" id="c-41643242" checked=""/><div class="controls bullet"><span class="by">SPascareli13</span><span>|</span><a href="#41643407">prev</a><span>|</span><a href="#41644004">next</a><span>|</span><label class="collapse" for="c-41643242">[-]</label><label class="expand" for="c-41643242">[5 more]</label></div><br/><div class="children"><div class="content">Only 3.4k of C code for a full http and https server? I honestly thought you would need a lot more for it to be fully compliant with the spec.</div><br/><div id="41643405" class="c"><input type="checkbox" id="c-41643405" checked=""/><div class="controls bullet"><span class="by">ironhaven</span><span>|</span><a href="#41643242">parent</a><span>|</span><a href="#41643831">next</a><span>|</span><label class="collapse" for="c-41643405">[-]</label><label class="expand" for="c-41643405">[2 more]</label></div><br/><div class="children"><div class="content">Http&#x2F;1.1 is dead simple if you ignore most of the spec. If you only take get requests and set content-length on response you will be good for 99% of user agents. It’s not much more code to handle the transfer-encoding and byte-range headers. HTTPS is just http over a tls socket which is the level of abstraction you should have if you don’t roll your own crypto.<p>It’s fun and not that bad really.</div><br/><div id="41643494" class="c"><input type="checkbox" id="c-41643494" checked=""/><div class="controls bullet"><span class="by">AnotherGoodName</span><span>|</span><a href="#41643242">root</a><span>|</span><a href="#41643405">parent</a><span>|</span><a href="#41643831">next</a><span>|</span><label class="collapse" for="c-41643494">[-]</label><label class="expand" for="c-41643494">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I’ve done this for embedded devices. A website can be presented with nothing more than a raw socket and sending back a text string of http headers and html in a single text string when people connect to it.<p>Hell if you’re really lazy you can forgo responding with the http headers and just socket.write(“hello world”) as the response and all the major browsers will render “hello world” to the user. Properly formatted http headers are just a text string extra and the html is just text. There’s not much to it.</div><br/></div></div></div></div><div id="41643831" class="c"><input type="checkbox" id="c-41643831" checked=""/><div class="controls bullet"><span class="by">ninjin</span><span>|</span><a href="#41643242">parent</a><span>|</span><a href="#41643405">prev</a><span>|</span><a href="#41644172">next</a><span>|</span><label class="collapse" for="c-41643831">[-]</label><label class="expand" for="c-41643831">[1 more]</label></div><br/><div class="children"><div class="content">It feels about right to me. OpenBSD&#x27;s httpd(8) [1] currently clocks in at just below 15,000 lines when you include its documentation. Take away a few features, make a few assumptions , and I would not be surprised we are in the 5,000 lines territory like this project.<p><pre><code>    $ wc -l *
        31 Makefile
       910 config.c
       314 control.c
        34 css.h.in
       257 http.h
       100 httpd.8
      1262 httpd.c
       882 httpd.conf.5
       843 httpd.h
        19 js.h.in
       218 log.c
       319 logger.c
      2563 parse.y
       309 patterns.7
       713 patterns.c
        46 patterns.h
       829 proc.c
      1484 server.c
       849 server_fcgi.c
       826 server_file.c
      1997 server_http.c
        10 toheader.sed
     14815 total
</code></pre>
[1]: <a href="https:&#x2F;&#x2F;man.openbsd.org&#x2F;httpd.8" rel="nofollow">https:&#x2F;&#x2F;man.openbsd.org&#x2F;httpd.8</a></div><br/></div></div><div id="41644172" class="c"><input type="checkbox" id="c-41644172" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#41643242">parent</a><span>|</span><a href="#41643831">prev</a><span>|</span><a href="#41644004">next</a><span>|</span><label class="collapse" for="c-41644172">[-]</label><label class="expand" for="c-41644172">[1 more]</label></div><br/><div class="children"><div class="content">I wrote a simple embedded C webserver to provide a liveview of data acquisition for one of my experiments that weighs in at &lt;250LOC. Ok, I wouldn&#x27;t put it on the public internet, and it only implements a small fraction of HTTP&#x2F;1.1, but it works and only requires mallocing at initialization...</div><br/></div></div></div></div><div id="41644004" class="c"><input type="checkbox" id="c-41644004" checked=""/><div class="controls bullet"><span class="by">Ono-Sendai</span><span>|</span><a href="#41643242">prev</a><span>|</span><a href="#41643309">next</a><span>|</span><label class="collapse" for="c-41644004">[-]</label><label class="expand" for="c-41644004">[1 more]</label></div><br/><div class="children"><div class="content">My blog (<a href="https:&#x2F;&#x2F;forwardscattering.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;forwardscattering.org&#x2F;</a>) uses a C++ web server too: <a href="https:&#x2F;&#x2F;github.com&#x2F;Ono-Sendai&#x2F;blog">https:&#x2F;&#x2F;github.com&#x2F;Ono-Sendai&#x2F;blog</a></div><br/></div></div><div id="41643309" class="c"><input type="checkbox" id="c-41643309" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#41644004">prev</a><span>|</span><a href="#41643198">next</a><span>|</span><label class="collapse" for="c-41643309">[-]</label><label class="expand" for="c-41643309">[1 more]</label></div><br/><div class="children"><div class="content">looks like it’s survived the HN front page hug. Congrats.</div><br/></div></div><div id="41643198" class="c"><input type="checkbox" id="c-41643198" checked=""/><div class="controls bullet"><span class="by">marcodiego</span><span>|</span><a href="#41643309">prev</a><span>|</span><a href="#41643526">next</a><span>|</span><label class="collapse" for="c-41643198">[-]</label><label class="expand" for="c-41643198">[2 more]</label></div><br/><div class="children"><div class="content">How about embedding the contents of the HTML files so that no access to the filesystem is required?<p>That would make it not only faster but also safer.</div><br/><div id="41643301" class="c"><input type="checkbox" id="c-41643301" checked=""/><div class="controls bullet"><span class="by">kevin_thibedeau</span><span>|</span><a href="#41643198">parent</a><span>|</span><a href="#41643526">next</a><span>|</span><label class="collapse" for="c-41643301">[-]</label><label class="expand" for="c-41643301">[1 more]</label></div><br/><div class="children"><div class="content">I recommend linking a romfs image into the program. It&#x27;s a simple format and provides an easy way to manage a collection of resources.</div><br/></div></div></div></div><div id="41643526" class="c"><input type="checkbox" id="c-41643526" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#41643198">prev</a><span>|</span><a href="#41644507">next</a><span>|</span><label class="collapse" for="c-41643526">[-]</label><label class="expand" for="c-41643526">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Show HN: Hosting my website using my own C web server<p>&quot;But if you actually do this, WAT&quot; – <a href="https:&#x2F;&#x2F;www.destroyallsoftware.com&#x2F;talks&#x2F;wat" rel="nofollow">https:&#x2F;&#x2F;www.destroyallsoftware.com&#x2F;talks&#x2F;wat</a><p>As with much of HN, this is fun, a good thing to learn while making and reading about... but it likely needs the caveat that doing this is production isn&#x27;t a good idea (although in this case the author does not appear to encourage production usage).</div><br/><div id="41643702" class="c"><input type="checkbox" id="c-41643702" checked=""/><div class="controls bullet"><span class="by">dailykoder</span><span>|</span><a href="#41643526">parent</a><span>|</span><a href="#41643588">next</a><span>|</span><label class="collapse" for="c-41643702">[-]</label><label class="expand" for="c-41643702">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d assume most people would know that? But if they still put random code that someone wrote just for fun into a (serious) production system, then WAT.<p>Edit: And sure, if the author is lucky, then maybe a handful of people will gather around the code and try to make it &quot;production ready&quot;. But since the README doesn&#x27;t say anything about the topic at all, just let people have fun and learn things along the way?</div><br/></div></div><div id="41643588" class="c"><input type="checkbox" id="c-41643588" checked=""/><div class="controls bullet"><span class="by">x3haloed</span><span>|</span><a href="#41643526">parent</a><span>|</span><a href="#41643702">prev</a><span>|</span><a href="#41644507">next</a><span>|</span><label class="collapse" for="c-41643588">[-]</label><label class="expand" for="c-41643588">[2 more]</label></div><br/><div class="children"><div class="content">It’s a great way to get hacked</div><br/></div></div></div></div><div id="41643057" class="c"><input type="checkbox" id="c-41643057" checked=""/><div class="controls bullet"><span class="by">system7rocks</span><span>|</span><a href="#41644507">prev</a><span>|</span><a href="#41643523">next</a><span>|</span><label class="collapse" for="c-41643057">[-]</label><label class="expand" for="c-41643057">[6 more]</label></div><br/><div class="children"><div class="content">This is amazing. Seriously, more things should be custom-coded. Why not?</div><br/><div id="41643222" class="c"><input type="checkbox" id="c-41643222" checked=""/><div class="controls bullet"><span class="by">bosch_mind</span><span>|</span><a href="#41643057">parent</a><span>|</span><a href="#41643523">next</a><span>|</span><label class="collapse" for="c-41643222">[-]</label><label class="expand" for="c-41643222">[5 more]</label></div><br/><div class="children"><div class="content">For fun, sure. Small mistake can be big security nightmare</div><br/><div id="41643278" class="c"><input type="checkbox" id="c-41643278" checked=""/><div class="controls bullet"><span class="by">whiterknight</span><span>|</span><a href="#41643057">root</a><span>|</span><a href="#41643222">parent</a><span>|</span><a href="#41643523">next</a><span>|</span><label class="collapse" for="c-41643278">[-]</label><label class="expand" for="c-41643278">[4 more]</label></div><br/><div class="children"><div class="content">1000 lines are easier to secure than 5 million lines</div><br/><div id="41643367" class="c"><input type="checkbox" id="c-41643367" checked=""/><div class="controls bullet"><span class="by">agentultra</span><span>|</span><a href="#41643057">root</a><span>|</span><a href="#41643278">parent</a><span>|</span><a href="#41643530">next</a><span>|</span><label class="collapse" for="c-41643367">[-]</label><label class="expand" for="c-41643367">[2 more]</label></div><br/><div class="children"><div class="content">“You can write software that has no obvious bugs or you can write software that obviously has no bugs.”<p>I think that was ewd?</div><br/><div id="41644268" class="c"><input type="checkbox" id="c-41644268" checked=""/><div class="controls bullet"><span class="by">naniwaduni</span><span>|</span><a href="#41643057">root</a><span>|</span><a href="#41643367">parent</a><span>|</span><a href="#41643530">next</a><span>|</span><label class="collapse" for="c-41644268">[-]</label><label class="expand" for="c-41644268">[1 more]</label></div><br/><div class="children"><div class="content">You can, of course, also write programs that have known bugs. Or even programs that have bugs that obviously shouldn&#x27;t be there, but are anyway.</div><br/></div></div></div></div><div id="41643530" class="c"><input type="checkbox" id="c-41643530" checked=""/><div class="controls bullet"><span class="by">mplewis</span><span>|</span><a href="#41643057">root</a><span>|</span><a href="#41643278">parent</a><span>|</span><a href="#41643367">prev</a><span>|</span><a href="#41643523">next</a><span>|</span><label class="collapse" for="c-41643530">[-]</label><label class="expand" for="c-41643530">[1 more]</label></div><br/><div class="children"><div class="content">Not if you’re the only author!</div><br/></div></div></div></div></div></div></div></div><div id="41643523" class="c"><input type="checkbox" id="c-41643523" checked=""/><div class="controls bullet"><span class="by">chairmansteve</span><span>|</span><a href="#41643057">prev</a><span>|</span><a href="#41644726">next</a><span>|</span><label class="collapse" for="c-41643523">[-]</label><label class="expand" for="c-41643523">[1 more]</label></div><br/><div class="children"><div class="content">I did something similar in LabView once. There were reasons.....</div><br/></div></div><div id="41644726" class="c"><input type="checkbox" id="c-41644726" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#41643523">prev</a><span>|</span><a href="#41642998">next</a><span>|</span><label class="collapse" for="c-41644726">[-]</label><label class="expand" for="c-41644726">[2 more]</label></div><br/><div class="children"><div class="content">Nginx is C web server.</div><br/><div id="41645194" class="c"><input type="checkbox" id="c-41645194" checked=""/><div class="controls bullet"><span class="by">nineteen999</span><span>|</span><a href="#41644726">parent</a><span>|</span><a href="#41642998">next</a><span>|</span><label class="collapse" for="c-41645194">[-]</label><label class="expand" for="c-41645194">[1 more]</label></div><br/><div class="children"><div class="content">So is Apache and OpenBSD httpd and probably too many others to name. 
Node.js is written in C&#x2F;C++ as is Litespeed, probably Cloudflare Server as well. 
Microsoft IIS is written in C++.<p>So that accounts for about the top 5 ...</div><br/></div></div></div></div><div id="41642998" class="c"><input type="checkbox" id="c-41642998" checked=""/><div class="controls bullet"><span class="by">TZubiri</span><span>|</span><a href="#41644726">prev</a><span>|</span><a href="#41645200">next</a><span>|</span><label class="collapse" for="c-41642998">[-]</label><label class="expand" for="c-41642998">[6 more]</label></div><br/><div class="children"><div class="content">Nice. I&#x27;ve done this in the past. But I feel like attempting to make a file serving http server is like adding preservants and high fructose corn syrup to home made baked goods.<p>You have the opportunity to really make something custom and of high quality, hard code the paths of your files and avoid a whole class of vulnerabilities for example.<p>Configuration files? That makes sense when programmer and sysadmin are distinct, you can just modify variables and recompile.</div><br/><div id="41643466" class="c"><input type="checkbox" id="c-41643466" checked=""/><div class="controls bullet"><span class="by">iveqy</span><span>|</span><a href="#41642998">parent</a><span>|</span><a href="#41643130">next</a><span>|</span><label class="collapse" for="c-41643466">[-]</label><label class="expand" for="c-41643466">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;ll like dwm and other suckless tools. They have configuration as code and require a recompile after a configuration change.</div><br/></div></div><div id="41643130" class="c"><input type="checkbox" id="c-41643130" checked=""/><div class="controls bullet"><span class="by">jagged-chisel</span><span>|</span><a href="#41642998">parent</a><span>|</span><a href="#41643466">prev</a><span>|</span><a href="#41645200">next</a><span>|</span><label class="collapse" for="c-41643130">[-]</label><label class="expand" for="c-41643130">[4 more]</label></div><br/><div class="children"><div class="content">Not sure if serious…</div><br/><div id="41643304" class="c"><input type="checkbox" id="c-41643304" checked=""/><div class="controls bullet"><span class="by">heyoni</span><span>|</span><a href="#41642998">root</a><span>|</span><a href="#41643130">parent</a><span>|</span><a href="#41645200">next</a><span>|</span><label class="collapse" for="c-41643304">[-]</label><label class="expand" for="c-41643304">[3 more]</label></div><br/><div class="children"><div class="content">Not the only time it’s been brought up in this thread: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41643198">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41643198</a><p>I’m waiting for someone to chime in and explain why that would be a bad idea cause I can’t think of it from a security perspective.</div><br/><div id="41645188" class="c"><input type="checkbox" id="c-41645188" checked=""/><div class="controls bullet"><span class="by">sabas123</span><span>|</span><a href="#41642998">root</a><span>|</span><a href="#41643304">parent</a><span>|</span><a href="#41643352">next</a><span>|</span><label class="collapse" for="c-41645188">[-]</label><label class="expand" for="c-41645188">[1 more]</label></div><br/><div class="children"><div class="content">From a security perspective a lot of changes to this world would be an upgrade. However implementing security features is always a trade off, and sometimes good security is just not worth the loss of other things.</div><br/></div></div><div id="41643352" class="c"><input type="checkbox" id="c-41643352" checked=""/><div class="controls bullet"><span class="by">its-summertime</span><span>|</span><a href="#41642998">root</a><span>|</span><a href="#41643304">parent</a><span>|</span><a href="#41645188">prev</a><span>|</span><a href="#41645200">next</a><span>|</span><label class="collapse" for="c-41643352">[-]</label><label class="expand" for="c-41643352">[1 more]</label></div><br/><div class="children"><div class="content">Once at a certain level of complexity, e.g. having several hundred&#x2F;thousand resources, then you start automating your hardcoded paths, and then you still can get bitten.<p>vs just putting things in a subfolder of your repo or whatever and having the default handling not accept `..` path components</div><br/></div></div></div></div></div></div></div></div><div id="41645200" class="c"><input type="checkbox" id="c-41645200" checked=""/><div class="controls bullet"><span class="by">ifail_for_fun</span><span>|</span><a href="#41642998">prev</a><span>|</span><a href="#41643484">next</a><span>|</span><label class="collapse" for="c-41645200">[-]</label><label class="expand" for="c-41645200">[1 more]</label></div><br/><div class="children"><div class="content">cool project, but the readme has a disingenuous comparison bench against nginx. why even put it there?</div><br/></div></div><div id="41643484" class="c"><input type="checkbox" id="c-41643484" checked=""/><div class="controls bullet"><span class="by">ezekielmudd</span><span>|</span><a href="#41645200">prev</a><span>|</span><a href="#41643757">next</a><span>|</span><label class="collapse" for="c-41643484">[-]</label><label class="expand" for="c-41643484">[1 more]</label></div><br/><div class="children"><div class="content">I love it!<p>It’s fast!<p>I have always wanted to try out something like this.<p>Good job!</div><br/></div></div><div id="41643757" class="c"><input type="checkbox" id="c-41643757" checked=""/><div class="controls bullet"><span class="by">kristianpaul</span><span>|</span><a href="#41643484">prev</a><span>|</span><label class="collapse" for="c-41643757">[-]</label><label class="expand" for="c-41643757">[3 more]</label></div><br/><div class="children"><div class="content">Not to compare but i realice this is something you can do with rust with few lines<p><a href="https:&#x2F;&#x2F;github.com&#x2F;actix&#x2F;actix-web&#x2F;tree&#x2F;master&#x2F;actix-http">https:&#x2F;&#x2F;github.com&#x2F;actix&#x2F;actix-web&#x2F;tree&#x2F;master&#x2F;actix-http</a></div><br/><div id="41643772" class="c"><input type="checkbox" id="c-41643772" checked=""/><div class="controls bullet"><span class="by">theideaofcoffee</span><span>|</span><a href="#41643757">parent</a><span>|</span><a href="#41643806">next</a><span>|</span><label class="collapse" for="c-41643772">[-]</label><label class="expand" for="c-41643772">[1 more]</label></div><br/><div class="children"><div class="content">Look ma, I can do it in python!<p>$ python3 -m http.server</div><br/></div></div><div id="41643806" class="c"><input type="checkbox" id="c-41643806" checked=""/><div class="controls bullet"><span class="by">ustad</span><span>|</span><a href="#41643757">parent</a><span>|</span><a href="#41643772">prev</a><span>|</span><label class="collapse" for="c-41643806">[-]</label><label class="expand" for="c-41643806">[1 more]</label></div><br/><div class="children"><div class="content">You call that a few lines of code!?</div><br/></div></div></div></div></div></div></div></div></div></body></html>