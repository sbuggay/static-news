<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695718873190" as="style"/><link rel="stylesheet" href="styles.css?v=1695718873190"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://macoscontainers.org/">macOS Containers v0.0.1</a>Â <span class="domain">(<a href="https://macoscontainers.org">macoscontainers.org</a>)</span></div><div class="subtext"><span>CiTyBear</span> | <span>70 comments</span></div><br/><div><div id="37655889" class="c"><input type="checkbox" id="c-37655889" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37655868">next</a><span>|</span><label class="collapse" for="c-37655889">[-]</label><label class="expand" for="c-37655889">[37 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;macOScontainers&#x2F;homebrew-formula">https:&#x2F;&#x2F;github.com&#x2F;macOScontainers&#x2F;homebrew-formula</a><p>&quot;macOS <i>native</i> containers&quot;<p>Cool, this sounds interesting.<p>&quot;Disable System Identity Protection.&quot;<p>Eesh.</div><br/><div id="37656057" class="c"><input type="checkbox" id="c-37656057" checked=""/><div class="controls bullet"><span class="by">maggit</span><span>|</span><a href="#37655889">parent</a><span>|</span><a href="#37656267">next</a><span>|</span><label class="collapse" for="c-37656057">[-]</label><label class="expand" for="c-37656057">[1 more]</label></div><br/><div class="children"><div class="content">&quot;System Integrity Protection (SIP)&quot; seems to be the correct name here, for anyone as confused as me :)<p>(More details here: <a href="https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;102149" rel="nofollow noreferrer">https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;102149</a> )</div><br/></div></div><div id="37656267" class="c"><input type="checkbox" id="c-37656267" checked=""/><div class="controls bullet"><span class="by">sacnoradhq</span><span>|</span><a href="#37655889">parent</a><span>|</span><a href="#37656057">prev</a><span>|</span><a href="#37656076">next</a><span>|</span><label class="collapse" for="c-37656267">[-]</label><label class="expand" for="c-37656267">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Disable System Identity [sic] Protection.<p>Aaand, it&#x27;s stillborn. Not happening.</div><br/></div></div><div id="37656076" class="c"><input type="checkbox" id="c-37656076" checked=""/><div class="controls bullet"><span class="by">solatic</span><span>|</span><a href="#37655889">parent</a><span>|</span><a href="#37656267">prev</a><span>|</span><a href="#37656277">next</a><span>|</span><label class="collapse" for="c-37656076">[-]</label><label class="expand" for="c-37656076">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m more interested in this as part of a CI&#x2F;CD process for releasing macOS software. For an isolated build worker - yeah, sure, I&#x27;ll go ahead and disable SIP.<p>Not every workload is running on an endpoint connected to a human via keyboard and screen.</div><br/></div></div><div id="37656277" class="c"><input type="checkbox" id="c-37656277" checked=""/><div class="controls bullet"><span class="by">jamil7</span><span>|</span><a href="#37655889">parent</a><span>|</span><a href="#37656076">prev</a><span>|</span><a href="#37655941">next</a><span>|</span><label class="collapse" for="c-37656277">[-]</label><label class="expand" for="c-37656277">[2 more]</label></div><br/><div class="children"><div class="content">In the context of an internal CI or something, it&#x27;s probably fine.</div><br/><div id="37656396" class="c"><input type="checkbox" id="c-37656396" checked=""/><div class="controls bullet"><span class="by">steeleduncan</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656277">parent</a><span>|</span><a href="#37655941">next</a><span>|</span><label class="collapse" for="c-37656396">[-]</label><label class="expand" for="c-37656396">[1 more]</label></div><br/><div class="children"><div class="content">Given that the vast majority of CI runs on linux without any equivalent of SIP, I&#x27;d have thought it were a complete non-issue</div><br/></div></div></div></div><div id="37655941" class="c"><input type="checkbox" id="c-37655941" checked=""/><div class="controls bullet"><span class="by">perryizgr8</span><span>|</span><a href="#37655889">parent</a><span>|</span><a href="#37656277">prev</a><span>|</span><a href="#37655922">next</a><span>|</span><label class="collapse" for="c-37655941">[-]</label><label class="expand" for="c-37655941">[19 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;Disable System Identity Protection.&quot;<p>This is the first thing I do on any Mac OS system before I start using it.</div><br/><div id="37655985" class="c"><input type="checkbox" id="c-37655985" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655941">parent</a><span>|</span><a href="#37656281">next</a><span>|</span><label class="collapse" for="c-37655985">[-]</label><label class="expand" for="c-37655985">[13 more]</label></div><br/><div class="children"><div class="content">This kind of makes me wonder why you&#x27;d have a Mac at all (I&#x27;m sure there are use cases).<p>Wouldn&#x27;t a Linux device, or Linux running on a Mac suit you better?<p>For me, the security picture is one of the main features of the eco-system even if it&#x27;s very restrictive - disabling SIP undermines it more or less completely.</div><br/><div id="37656045" class="c"><input type="checkbox" id="c-37656045" checked=""/><div class="controls bullet"><span class="by">rafaelmn</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655985">parent</a><span>|</span><a href="#37656009">next</a><span>|</span><label class="collapse" for="c-37656045">[-]</label><label class="expand" for="c-37656045">[9 more]</label></div><br/><div class="children"><div class="content">&gt;Wouldn&#x27;t a Linux device, or Linux running on a Mac suit you better?<p>Maybe they want a unixy desktop with working sound ?<p>Half joking, but that&#x27;s my use case - homebrew is pretty great, most developers use a Mac in my domains of interest so it&#x27;s always supported.<p>Linux is just too much work (and I&#x27;m using Fedora on my desktop). SIP is just false positives and annoyance.<p>I&#x27;m on the fence about M&#x2F;ARM switch since I still see a lot of friction with containers so I might be looking at framework for my next device. Or just go all in on client&#x2F;server development model.</div><br/><div id="37656347" class="c"><input type="checkbox" id="c-37656347" checked=""/><div class="controls bullet"><span class="by">zuppy</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656045">parent</a><span>|</span><a href="#37656222">next</a><span>|</span><label class="collapse" for="c-37656347">[-]</label><label class="expand" for="c-37656347">[1 more]</label></div><br/><div class="children"><div class="content">depending of what you mean by friction with containers, there may be different solutins. for example, as a temporary solution on Docker when you don&#x27;t want&#x2F;have time to support both arm and x86, you can do something like this: 
FROM --platform=linux&#x2F;x86_64 ubuntu:23.04<p>i haven&#x27;t found any issues with it that i could not get over in the past 2+ years of m1. most of the containers are available on both architectures anyway. the performance improvement was totally worth it, i won&#x27;t even talk about the heating issue with intel.</div><br/></div></div><div id="37656222" class="c"><input type="checkbox" id="c-37656222" checked=""/><div class="controls bullet"><span class="by">devsda</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656045">parent</a><span>|</span><a href="#37656347">prev</a><span>|</span><a href="#37656242">next</a><span>|</span><label class="collapse" for="c-37656222">[-]</label><label class="expand" for="c-37656222">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Maybe they want a unixy desktop with working sound ?<p>In my experience, this has not been an issue for the past 10-15 years atleast. Before that there were some problems with few (external) soundcards or random cpu spikes with the mixers.<p>However, the UX can still improve. Switching audio outputs with multiple outputs like external displays etc is not very smooth or intuitive.<p>Some bluetooth headsets have issues but I&#x27;ve had those with a mac as well.</div><br/><div id="37656358" class="c"><input type="checkbox" id="c-37656358" checked=""/><div class="controls bullet"><span class="by">AHTERIX5000</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656222">parent</a><span>|</span><a href="#37656288">next</a><span>|</span><label class="collapse" for="c-37656358">[-]</label><label class="expand" for="c-37656358">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m getting early PulseAudio vibes with PipeWire though. BT audio devices stuttering and sometimes losing audio completely regardless of output devices unless I restart the daemon. I guess it stabilizes again during next few years.</div><br/></div></div><div id="37656288" class="c"><input type="checkbox" id="c-37656288" checked=""/><div class="controls bullet"><span class="by">unsupp0rted</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656222">parent</a><span>|</span><a href="#37656358">prev</a><span>|</span><a href="#37656341">next</a><span>|</span><label class="collapse" for="c-37656288">[-]</label><label class="expand" for="c-37656288">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s only a 1% chance these days on Linux that your sound won&#x27;t work or your computer won&#x27;t sleep when you close the lid or your wifi won&#x27;t work, or your ethernet, or your cooling, or a peripheral, or CPU&#x2F;memory spikes.<p>And a 90% chance it&#x27;ll be at least one such thing.</div><br/></div></div><div id="37656341" class="c"><input type="checkbox" id="c-37656341" checked=""/><div class="controls bullet"><span class="by">ShamelessC</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656222">parent</a><span>|</span><a href="#37656288">prev</a><span>|</span><a href="#37656242">next</a><span>|</span><label class="collapse" for="c-37656341">[-]</label><label class="expand" for="c-37656341">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In my experience, this has not been an issue for the past 10-15 years atleast. Before that there were some problems with few (external) soundcards or random cpu spikes with the mixers.<p>May be some confusion. To run linux on a newer Mac with &quot;Apple Silicon&quot; (ARM based), you need to go through a lot of hoops and much work needs to be done still for a stable environment. Check out <a href="https:&#x2F;&#x2F;asahilinux.org&#x2F;about&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;asahilinux.org&#x2F;about&#x2F;</a><p>Or maybe you thought they meant running linux in general on a PC (Intel x86 32&#x2F;64 bit)? In that case I agree - driver issues like that have been mostly ironed out by now.</div><br/></div></div></div></div><div id="37656242" class="c"><input type="checkbox" id="c-37656242" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656045">parent</a><span>|</span><a href="#37656222">prev</a><span>|</span><a href="#37656009">next</a><span>|</span><label class="collapse" for="c-37656242">[-]</label><label class="expand" for="c-37656242">[3 more]</label></div><br/><div class="children"><div class="content">&gt; homebrew is pretty great<p>I hear this said a lot in passing, and I&#x27;m really curious what people mean when they say this.</div><br/><div id="37656298" class="c"><input type="checkbox" id="c-37656298" checked=""/><div class="controls bullet"><span class="by">kowlo</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656242">parent</a><span>|</span><a href="#37656009">next</a><span>|</span><label class="collapse" for="c-37656298">[-]</label><label class="expand" for="c-37656298">[2 more]</label></div><br/><div class="children"><div class="content">Perhaps they are talking about Homebrew the package manager [1].<p>[1] <a href="https:&#x2F;&#x2F;brew.sh" rel="nofollow noreferrer">https:&#x2F;&#x2F;brew.sh</a></div><br/><div id="37656391" class="c"><input type="checkbox" id="c-37656391" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656298">parent</a><span>|</span><a href="#37656009">next</a><span>|</span><label class="collapse" for="c-37656391">[-]</label><label class="expand" for="c-37656391">[1 more]</label></div><br/><div class="children"><div class="content">I wonder what people mean when they say &quot;Homebrew is pretty great&quot;, I do not wonder what they mean when they say &quot;Homebrew&quot;.</div><br/></div></div></div></div></div></div></div></div><div id="37656009" class="c"><input type="checkbox" id="c-37656009" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655985">parent</a><span>|</span><a href="#37656045">prev</a><span>|</span><a href="#37656032">next</a><span>|</span><label class="collapse" for="c-37656009">[-]</label><label class="expand" for="c-37656009">[2 more]</label></div><br/><div class="children"><div class="content">I would think most people choose macOS over Linux for the familiarity with the UI&#x2F;UX and software availability (Adobe and MS stuff).<p>I would expect a very small number people making this choice over security concerns.</div><br/><div id="37656168" class="c"><input type="checkbox" id="c-37656168" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656009">parent</a><span>|</span><a href="#37656032">next</a><span>|</span><label class="collapse" for="c-37656168">[-]</label><label class="expand" for="c-37656168">[1 more]</label></div><br/><div class="children"><div class="content">Windows is constantly forces people with popups to makes scary security decisions and if they press no, the world stops working</div><br/></div></div></div></div><div id="37656032" class="c"><input type="checkbox" id="c-37656032" checked=""/><div class="controls bullet"><span class="by">walthamstow</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655985">parent</a><span>|</span><a href="#37656009">prev</a><span>|</span><a href="#37656281">next</a><span>|</span><label class="collapse" for="c-37656032">[-]</label><label class="expand" for="c-37656032">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not your parent post but surely the easy answer to why use a mac at all is simply how great the hardware is. The 2020 M1 Air is nearly 3 years old and still a brilliant machine.</div><br/></div></div></div></div><div id="37656281" class="c"><input type="checkbox" id="c-37656281" checked=""/><div class="controls bullet"><span class="by">sacnoradhq</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655941">parent</a><span>|</span><a href="#37655985">prev</a><span>|</span><a href="#37655970">next</a><span>|</span><label class="collapse" for="c-37656281">[-]</label><label class="expand" for="c-37656281">[1 more]</label></div><br/><div class="children"><div class="content">Then you don&#x27;t know how to use it.</div><br/></div></div><div id="37655970" class="c"><input type="checkbox" id="c-37655970" checked=""/><div class="controls bullet"><span class="by">przems</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655941">parent</a><span>|</span><a href="#37656281">prev</a><span>|</span><a href="#37656181">next</a><span>|</span><label class="collapse" for="c-37655970">[-]</label><label class="expand" for="c-37655970">[2 more]</label></div><br/><div class="children"><div class="content">Could you elaborate why? Iâm new to macOS, Iâd love to learn more about it.</div><br/><div id="37656338" class="c"><input type="checkbox" id="c-37656338" checked=""/><div class="controls bullet"><span class="by">sacnoradhq</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655970">parent</a><span>|</span><a href="#37656181">next</a><span>|</span><label class="collapse" for="c-37656338">[-]</label><label class="expand" for="c-37656338">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t disable security features because of random comments from randos.<p>Also, don&#x27;t install shit anywhere but your home directory as you unless you want to break your system in an irreparably, unmaintainable, or unsupported manner.<p>If you&#x27;re using sudo, you&#x27;re already doing it wrong.<p><a href="https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;102149" rel="nofollow noreferrer">https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;102149</a></div><br/></div></div></div></div><div id="37656181" class="c"><input type="checkbox" id="c-37656181" checked=""/><div class="controls bullet"><span class="by">Klonoar</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655941">parent</a><span>|</span><a href="#37655970">prev</a><span>|</span><a href="#37656039">next</a><span>|</span><label class="collapse" for="c-37656181">[-]</label><label class="expand" for="c-37656181">[1 more]</label></div><br/><div class="children"><div class="content">So I take it you don&#x27;t use Apple Pay or anything...?<p><i>Edit: to be clear for the people who may not know, Apple Pay does not work with SIP disabled. ;P</i></div><br/></div></div><div id="37656039" class="c"><input type="checkbox" id="c-37656039" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655941">parent</a><span>|</span><a href="#37656181">prev</a><span>|</span><a href="#37655922">next</a><span>|</span><label class="collapse" for="c-37656039">[-]</label><label class="expand" for="c-37656039">[1 more]</label></div><br/><div class="children"><div class="content">Bizarre</div><br/></div></div></div></div><div id="37655922" class="c"><input type="checkbox" id="c-37655922" checked=""/><div class="controls bullet"><span class="by">dddnzzz334</span><span>|</span><a href="#37655889">parent</a><span>|</span><a href="#37655941">prev</a><span>|</span><a href="#37655868">next</a><span>|</span><label class="collapse" for="c-37655922">[-]</label><label class="expand" for="c-37655922">[12 more]</label></div><br/><div class="children"><div class="content">If you use an operating system like macOS, don&#x27;t be surprised that it prevents you from having the freedom to do anything with your hardware. You live in a prison.</div><br/><div id="37655982" class="c"><input type="checkbox" id="c-37655982" checked=""/><div class="controls bullet"><span class="by">cassianoleal</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655922">parent</a><span>|</span><a href="#37655971">next</a><span>|</span><label class="collapse" for="c-37655982">[-]</label><label class="expand" for="c-37655982">[4 more]</label></div><br/><div class="children"><div class="content">You&#x27;re free to disable SIP, so your post makes no sense.<p>It&#x27;s more akin to locking your front door. Keep it locked if you want the extra protection but feel free to crank the door open if you want the breeze to come in, but knowing that more than the breeze might do so.</div><br/><div id="37656118" class="c"><input type="checkbox" id="c-37656118" checked=""/><div class="controls bullet"><span class="by">lopkeny12ko</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655982">parent</a><span>|</span><a href="#37655971">next</a><span>|</span><label class="collapse" for="c-37656118">[-]</label><label class="expand" for="c-37656118">[3 more]</label></div><br/><div class="children"><div class="content">Have you ever tried modifying the filesystem a couple levels under &#x2F;?<p>Last I used a Mac I remember trying to create a new directory in &#x2F; and writing to &#x2F;bin (or something like that). I was appalled that Mac doesn&#x27;t let you do anything other than read-only operations for select paths a few levels under root, and as I remember, there way no way to disable this asinine behavior.</div><br/><div id="37656212" class="c"><input type="checkbox" id="c-37656212" checked=""/><div class="controls bullet"><span class="by">doctor_eval</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656118">parent</a><span>|</span><a href="#37656268">next</a><span>|</span><label class="collapse" for="c-37656212">[-]</label><label class="expand" for="c-37656212">[1 more]</label></div><br/><div class="children"><div class="content">I say this as someone who has used Unix, MacOS and Linux for most of his long life: not being able to write to &#x2F;bin and other system directories is a <i>feature</i> and I really donât understand how anybody in 2023 could see it otherwise.<p>Freedom does not just imply the ability to do the things you want, but also the ability to avoid the things you donât.</div><br/></div></div><div id="37656268" class="c"><input type="checkbox" id="c-37656268" checked=""/><div class="controls bullet"><span class="by">cassianoleal</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656118">parent</a><span>|</span><a href="#37656212">prev</a><span>|</span><a href="#37655971">next</a><span>|</span><label class="collapse" for="c-37656268">[-]</label><label class="expand" for="c-37656268">[1 more]</label></div><br/><div class="children"><div class="content">lol what?<p>What&#x27;s the point of this exercise? Is this some kind of power play against the... operating system?!<p>Did this prevent you from achieving anything?<p>In any case, I&#x27;m fairly confident if you disable SIP and do a couple extra steps, you can get write access to those.</div><br/></div></div></div></div></div></div><div id="37655971" class="c"><input type="checkbox" id="c-37655971" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655922">parent</a><span>|</span><a href="#37655982">prev</a><span>|</span><a href="#37656231">next</a><span>|</span><label class="collapse" for="c-37655971">[-]</label><label class="expand" for="c-37655971">[1 more]</label></div><br/><div class="children"><div class="content">I opt-in to a prison with trade-offs I deem reasonable for what I get out of it.  I have a couple of Linux devices too.<p>Being interested in this project and simultaneously disappointed it requires SIP to be disabled are not conflicting views, even if a little unfortunate for me personally.</div><br/></div></div><div id="37656231" class="c"><input type="checkbox" id="c-37656231" checked=""/><div class="controls bullet"><span class="by">k4rli</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655922">parent</a><span>|</span><a href="#37655971">prev</a><span>|</span><a href="#37656148">next</a><span>|</span><label class="collapse" for="c-37656231">[-]</label><label class="expand" for="c-37656231">[1 more]</label></div><br/><div class="children"><div class="content">Seems like all counterarguments to this fact sound like people who aren&#x27;t competent enough and&#x2F;or don&#x27;t understand the basics. There doesn&#x27;t need to be a higher cognitive load using Linux and security arguments make even less sense.</div><br/></div></div><div id="37656148" class="c"><input type="checkbox" id="c-37656148" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655922">parent</a><span>|</span><a href="#37656231">prev</a><span>|</span><a href="#37656023">next</a><span>|</span><label class="collapse" for="c-37656148">[-]</label><label class="expand" for="c-37656148">[1 more]</label></div><br/><div class="children"><div class="content">People are free to buy the hardware they feel like.<p>Given the numbers of UNIX devs that rather use macOS than either pure BSD or GNU&#x2F;Linux, that prison is quite comfy.</div><br/></div></div><div id="37656023" class="c"><input type="checkbox" id="c-37656023" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655922">parent</a><span>|</span><a href="#37656148">prev</a><span>|</span><a href="#37656317">next</a><span>|</span><label class="collapse" for="c-37656023">[-]</label><label class="expand" for="c-37656023">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, i like the security without thinking. Yes, I give up freedoms but I gain a lot in lack of cognitive load.</div><br/></div></div><div id="37656317" class="c"><input type="checkbox" id="c-37656317" checked=""/><div class="controls bullet"><span class="by">timeon</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37655922">parent</a><span>|</span><a href="#37656023">prev</a><span>|</span><a href="#37656038">next</a><span>|</span><label class="collapse" for="c-37656317">[-]</label><label class="expand" for="c-37656317">[2 more]</label></div><br/><div class="children"><div class="content">&gt; You live in a prison.<p>It is just computer.</div><br/><div id="37656355" class="c"><input type="checkbox" id="c-37656355" checked=""/><div class="controls bullet"><span class="by">jamil7</span><span>|</span><a href="#37655889">root</a><span>|</span><a href="#37656317">parent</a><span>|</span><a href="#37656038">next</a><span>|</span><label class="collapse" for="c-37656355">[-]</label><label class="expand" for="c-37656355">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a prison if you base your whole personality on your choice of hardware and operating system.</div><br/></div></div></div></div></div></div></div></div><div id="37655868" class="c"><input type="checkbox" id="c-37655868" checked=""/><div class="controls bullet"><span class="by">AceJohnny2</span><span>|</span><a href="#37655889">prev</a><span>|</span><a href="#37656051">next</a><span>|</span><label class="collapse" for="c-37655868">[-]</label><label class="expand" for="c-37655868">[13 more]</label></div><br/><div class="children"><div class="content">How does this work?<p>Fundamentally, containers are about namespace&#x2F;isolation of a bunch of OS interfaces, so file system functions, network functions, memory management, process functions, etc, can all pretend like they&#x27;re the only game in town, but crucially without having to virtualize out the kernel.<p>Does XNU have such namespacing functionality across all its interfaces?<p>Furthermore, the existing container ecosystem assumes a Linux syscall interface. [1]. Does macOS provide that? I expect not.<p>The way Docker Desktop (and podman.io) implement &quot;containers on macOS&quot; is a bit of a cop-out: they actually run a <i>Linux virtual machine</i> (using Hypervisor.framework&#x2F;hvf), and have that just provide the container environment.<p>Is that what this project is doing? But then, how could it run a macOS container?<p>[1] based on the foundation that Linux, unlike BSDs, has a stable syscall interface!</div><br/><div id="37655950" class="c"><input type="checkbox" id="c-37655950" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37655868">parent</a><span>|</span><a href="#37655896">next</a><span>|</span><label class="collapse" for="c-37655950">[-]</label><label class="expand" for="c-37655950">[4 more]</label></div><br/><div class="children"><div class="content">This introduces a long-standing problem that is really the main issue I have with Docker&#x2F;Podman&#x2F;containers on anything other than Linux - you have a dedicated VM that needs memory to be set aside for it exclusively.<p>This is fine if you have a 32&#x2F;64GB machine, but less so on an 8GB non-upgradeable laptop.<p>I get it - memory is relatively cheap these days - and manufacturers that are building memory-limited devices are really only doing it to fleece you on obscene upgrade fees at the time of purchase - but it would be nice if there was a more elegant solution to this on Windows and macOS.<p>WSL 1 had a solution to this that clearly took <i>a lot</i> of work to put together, wherein they&#x27;d have a Linux kernel running side-by-side as a Windows sub-process so that the memory pool was shared.  Unfortunately it might have been too much work as they scrapped it entirely for WSL 2 and just used essentially the same VM route.<p>If anyone knows of any projects trying to work around <i>that</i> problem I&#x27;d love to hear about it.  If Apple really wanted to bring the development community back on board, focusing on these kind of use cases would be great, sadly it seems someone over there has taken the view that scrapping butterfly keys and the touchbar is &quot;enough&quot;.<p>Say what you will about Microsoft, but they&#x27;ve focused <i>really hard</i> on developer use cases for decades, and it shows.</div><br/><div id="37656401" class="c"><input type="checkbox" id="c-37656401" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#37655868">root</a><span>|</span><a href="#37655950">parent</a><span>|</span><a href="#37656025">next</a><span>|</span><label class="collapse" for="c-37656401">[-]</label><label class="expand" for="c-37656401">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If anyone knows of any projects trying to work around that problem I&#x27;d love to hear about it.<p>Containers are namespaced processes. These processes exec against the corresponding kernel they require. There is no workaround: if you have an ELF binary calling Linux syscalls it can only run on a Linux kernelâ , so to run that you need a VM. It&#x27;s not as bad as it appears thanks to memory ballooningâ â .<p>Conversely if you want to exec a Windows binary in a container, the Windows kernel needs to provide process namespacing features (which it does). And if you want to exec a Darwin binary in a container, then the Darwin kernel needs to provide process namespacing features (which it doesn&#x27;t).<p>â  WSL1 was implementing the Linux syscall API on the Windows kernel, which proved to be much more complex than it appears to be.<p>â â  <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Memory_ballooning" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Memory_ballooning</a></div><br/></div></div><div id="37656025" class="c"><input type="checkbox" id="c-37656025" checked=""/><div class="controls bullet"><span class="by">themoonisachees</span><span>|</span><a href="#37655868">root</a><span>|</span><a href="#37655950">parent</a><span>|</span><a href="#37656401">prev</a><span>|</span><a href="#37656173">next</a><span>|</span><label class="collapse" for="c-37656025">[-]</label><label class="expand" for="c-37656025">[1 more]</label></div><br/><div class="children"><div class="content">VM dynamic allocation of ram has been a standard feature of KVM, hyper-v and VMware for the better part of 10 years now.</div><br/></div></div><div id="37656173" class="c"><input type="checkbox" id="c-37656173" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37655868">root</a><span>|</span><a href="#37655950">parent</a><span>|</span><a href="#37656025">prev</a><span>|</span><a href="#37655896">next</a><span>|</span><label class="collapse" for="c-37656173">[-]</label><label class="expand" for="c-37656173">[1 more]</label></div><br/><div class="children"><div class="content">However WSL for Docker works differently depending on the containers configuration.<p>When Windows containers are being used, it is just there to keep the docker daemon happy.</div><br/></div></div></div></div><div id="37655896" class="c"><input type="checkbox" id="c-37655896" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#37655868">parent</a><span>|</span><a href="#37655950">prev</a><span>|</span><a href="#37655912">next</a><span>|</span><label class="collapse" for="c-37655896">[-]</label><label class="expand" for="c-37655896">[4 more]</label></div><br/><div class="children"><div class="content">The transitively linked docs have some answers:<p><pre><code>  rund is an experimental containerd shim for running macOS containers on macOS.

  rund doesnât offer the usual level of container isolation that is achievable on other OSes due to limited macOS kernel API.

  What rund provides:
    - Filesystem isolation via chroot(2)
    - Cleanup of container processes using process group
    - OCI Runtime Specification compatibility (to the extent it is possible on macOS)
    - Host-network mode only
    - bind mounts</code></pre></div><br/><div id="37656315" class="c"><input type="checkbox" id="c-37656315" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#37655868">root</a><span>|</span><a href="#37655896">parent</a><span>|</span><a href="#37656185">next</a><span>|</span><label class="collapse" for="c-37656315">[-]</label><label class="expand" for="c-37656315">[1 more]</label></div><br/><div class="children"><div class="content">&gt; bind mounts via MacFuse</div><br/></div></div><div id="37656185" class="c"><input type="checkbox" id="c-37656185" checked=""/><div class="controls bullet"><span class="by">znpy</span><span>|</span><a href="#37655868">root</a><span>|</span><a href="#37655896">parent</a><span>|</span><a href="#37656315">prev</a><span>|</span><a href="#37655912">next</a><span>|</span><label class="collapse" for="c-37656185">[-]</label><label class="expand" for="c-37656185">[2 more]</label></div><br/><div class="children"><div class="content">So essentially a chroot with a bit of make-up and a lot of marketing?<p>Except for bind mounts (not even overlayfs...) there isn&#x27;t much interesting.<p>&gt;     - Host-network mode only<p>Yeah expect a lot of things to break in subtle ways... most containers are developed kinda expecting you have your own network namespace (and that no one else is using ports)</div><br/><div id="37656323" class="c"><input type="checkbox" id="c-37656323" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#37655868">root</a><span>|</span><a href="#37656185">parent</a><span>|</span><a href="#37655912">next</a><span>|</span><label class="collapse" for="c-37656323">[-]</label><label class="expand" for="c-37656323">[1 more]</label></div><br/><div class="children"><div class="content">&gt; most containers are developed<p>Most Linux (and Windows) containers. Since these are macOS containers there are no containers developed yet.</div><br/></div></div></div></div></div></div><div id="37655912" class="c"><input type="checkbox" id="c-37655912" checked=""/><div class="controls bullet"><span class="by">plextoria</span><span>|</span><a href="#37655868">parent</a><span>|</span><a href="#37655896">prev</a><span>|</span><a href="#37655964">next</a><span>|</span><label class="collapse" for="c-37655912">[-]</label><label class="expand" for="c-37655912">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Does XNU have such namespacing functionality across all its interfaces?<p>I don&#x27;t think so, but some Docker features could be implemented using XNU sandboxing AFAIK<p>&gt; Furthermore, the existing container ecosystem assumes a Linux syscall interface. [1]. Does macOS provide that? I expect not.<p>This project is about running macOS containers on macOS. It&#x27;s not about running Linux containers.</div><br/></div></div><div id="37655964" class="c"><input type="checkbox" id="c-37655964" checked=""/><div class="controls bullet"><span class="by">dwattttt</span><span>|</span><a href="#37655868">parent</a><span>|</span><a href="#37655912">prev</a><span>|</span><a href="#37655892">next</a><span>|</span><label class="collapse" for="c-37655964">[-]</label><label class="expand" for="c-37655964">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Furthermore, the existing container ecosystem assumes a Linux syscall interface. [1]. Does macOS provide that? I expect not.<p>There is more to the container ecosystem than Linux containers; Windows native containers function much the same way (well, in two ways, with VM-backing or the traditional kernel syscall interface, but with Windows syscalls).</div><br/></div></div><div id="37655902" class="c"><input type="checkbox" id="c-37655902" checked=""/><div class="controls bullet"><span class="by">lijok</span><span>|</span><a href="#37655868">parent</a><span>|</span><a href="#37655892">prev</a><span>|</span><a href="#37656051">next</a><span>|</span><label class="collapse" for="c-37655902">[-]</label><label class="expand" for="c-37655902">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;macOScontainers&#x2F;rund&#x2F;blob&#x2F;main&#x2F;README.adoc">https:&#x2F;&#x2F;github.com&#x2F;macOScontainers&#x2F;rund&#x2F;blob&#x2F;main&#x2F;README.ado...</a></div><br/></div></div></div></div><div id="37656051" class="c"><input type="checkbox" id="c-37656051" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#37655868">prev</a><span>|</span><a href="#37655846">next</a><span>|</span><label class="collapse" for="c-37656051">[-]</label><label class="expand" for="c-37656051">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, not disabling SIP for something that I can already do without needing to nobble security policies (and have them reset&#x2F;impossible due to MDM). If there was user&#x2F;networking space in Darwin then maybe I&#x27;d be interested but...</div><br/></div></div><div id="37655846" class="c"><input type="checkbox" id="c-37655846" checked=""/><div class="controls bullet"><span class="by">skibz</span><span>|</span><a href="#37656051">prev</a><span>|</span><a href="#37656177">next</a><span>|</span><label class="collapse" for="c-37655846">[-]</label><label class="expand" for="c-37655846">[3 more]</label></div><br/><div class="children"><div class="content">System Integrity Protection sounds really important. What does it do normally, and why does this tool require it to be disabled?</div><br/><div id="37656046" class="c"><input type="checkbox" id="c-37656046" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37655846">parent</a><span>|</span><a href="#37656031">next</a><span>|</span><label class="collapse" for="c-37656046">[-]</label><label class="expand" for="c-37656046">[1 more]</label></div><br/><div class="children"><div class="content">SIP is secure boot for macOS.<p>It&#x27;s intended to prevent malware from changing system files due to rogue permissions or escalation.  With SIP enabled, even the root&#x2F;sudo user doesn&#x27;t have rights to change these files.<p>It also refuses to boot a system with drivers that are not signed by Apple, so as to deter malware from using drivers as an attack vector.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;System_Integrity_Protection" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;System_Integrity_Protection</a></div><br/></div></div><div id="37656031" class="c"><input type="checkbox" id="c-37656031" checked=""/><div class="controls bullet"><span class="by">bzzzt</span><span>|</span><a href="#37655846">parent</a><span>|</span><a href="#37656046">prev</a><span>|</span><a href="#37656177">next</a><span>|</span><label class="collapse" for="c-37656031">[-]</label><label class="expand" for="c-37656031">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s meant to protect the base OS from persistent malware infections.
<a href="https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;102149" rel="nofollow noreferrer">https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;102149</a></div><br/></div></div></div></div><div id="37656177" class="c"><input type="checkbox" id="c-37656177" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#37655846">prev</a><span>|</span><a href="#37656371">next</a><span>|</span><label class="collapse" for="c-37656177">[-]</label><label class="expand" for="c-37656177">[2 more]</label></div><br/><div class="children"><div class="content">Can anyone speak to how the macOS runners on GitHub actions work? It would seem from this post that containers of any kind for macOS are a brand new thing..</div><br/><div id="37656294" class="c"><input type="checkbox" id="c-37656294" checked=""/><div class="controls bullet"><span class="by">mawalu</span><span>|</span><a href="#37656177">parent</a><span>|</span><a href="#37656371">next</a><span>|</span><label class="collapse" for="c-37656294">[-]</label><label class="expand" for="c-37656294">[1 more]</label></div><br/><div class="children"><div class="content">AFAIK GitHub action runners all use VMs and not containers</div><br/></div></div></div></div><div id="37656371" class="c"><input type="checkbox" id="c-37656371" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#37656177">prev</a><span>|</span><a href="#37656087">next</a><span>|</span><label class="collapse" for="c-37656371">[-]</label><label class="expand" for="c-37656371">[1 more]</label></div><br/><div class="children"><div class="content">Despite the SIP problem, this is really exciting.</div><br/></div></div><div id="37656087" class="c"><input type="checkbox" id="c-37656087" checked=""/><div class="controls bullet"><span class="by">xena</span><span>|</span><a href="#37656371">prev</a><span>|</span><a href="#37655847">next</a><span>|</span><label class="collapse" for="c-37656087">[-]</label><label class="expand" for="c-37656087">[1 more]</label></div><br/><div class="children"><div class="content">This is amazingly cursed and I&#x27;d love to see this become viable</div><br/></div></div><div id="37655847" class="c"><input type="checkbox" id="c-37655847" checked=""/><div class="controls bullet"><span class="by">minipark</span><span>|</span><a href="#37656087">prev</a><span>|</span><a href="#37655775">next</a><span>|</span><label class="collapse" for="c-37655847">[-]</label><label class="expand" for="c-37655847">[7 more]</label></div><br/><div class="children"><div class="content">Why should anyone trust this website and download the software? There&#x27;s no indication who made it. Could be malware for all I know.</div><br/><div id="37655856" class="c"><input type="checkbox" id="c-37655856" checked=""/><div class="controls bullet"><span class="by">Squarex</span><span>|</span><a href="#37655847">parent</a><span>|</span><a href="#37656287">next</a><span>|</span><label class="collapse" for="c-37655856">[-]</label><label class="expand" for="c-37655856">[4 more]</label></div><br/><div class="children"><div class="content">Looks like it&#x27;s open source <a href="https:&#x2F;&#x2F;github.com&#x2F;macOScontainers">https:&#x2F;&#x2F;github.com&#x2F;macOScontainers</a></div><br/><div id="37656162" class="c"><input type="checkbox" id="c-37656162" checked=""/><div class="controls bullet"><span class="by">ThePowerOfFuet</span><span>|</span><a href="#37655847">root</a><span>|</span><a href="#37655856">parent</a><span>|</span><a href="#37656287">next</a><span>|</span><label class="collapse" for="c-37656162">[-]</label><label class="expand" for="c-37656162">[3 more]</label></div><br/><div class="children"><div class="content">Unfortunately, that doesn&#x27;t answer their question.</div><br/><div id="37656357" class="c"><input type="checkbox" id="c-37656357" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#37655847">root</a><span>|</span><a href="#37656162">parent</a><span>|</span><a href="#37656275">next</a><span>|</span><label class="collapse" for="c-37656357">[-]</label><label class="expand" for="c-37656357">[1 more]</label></div><br/><div class="children"><div class="content">It answers both of their questions. Git lets you see the author and they can audit the code if they like.</div><br/></div></div><div id="37656275" class="c"><input type="checkbox" id="c-37656275" checked=""/><div class="controls bullet"><span class="by">puquesnrn</span><span>|</span><a href="#37655847">root</a><span>|</span><a href="#37656162">parent</a><span>|</span><a href="#37656357">prev</a><span>|</span><a href="#37656287">next</a><span>|</span><label class="collapse" for="c-37656275">[-]</label><label class="expand" for="c-37656275">[1 more]</label></div><br/><div class="children"><div class="content">yes it does. Thereâs only one contributor for most of it and you can click to see his profile.<p>With the source code available and the primary contributor clear, what more could anyone want? Certainly itâs a bit much for one to ask for a security audit they themselves wonât do</div><br/></div></div></div></div></div></div><div id="37656287" class="c"><input type="checkbox" id="c-37656287" checked=""/><div class="controls bullet"><span class="by">puquesnrn</span><span>|</span><a href="#37655847">parent</a><span>|</span><a href="#37655856">prev</a><span>|</span><a href="#37655925">next</a><span>|</span><label class="collapse" for="c-37656287">[-]</label><label class="expand" for="c-37656287">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There&#x27;s no indication who made it.<p>It clearly links to the GitHub where you can click to see all contributors<p>I suppose the answer to your question is âpeople who want macOS containersâ, whoever they are. As far as malware, Iâd employ whatever your standard practices are for installing GitHub projects</div><br/></div></div><div id="37655925" class="c"><input type="checkbox" id="c-37655925" checked=""/><div class="controls bullet"><span class="by">tmpX7dMeXU</span><span>|</span><a href="#37655847">parent</a><span>|</span><a href="#37656287">prev</a><span>|</span><a href="#37655775">next</a><span>|</span><label class="collapse" for="c-37655925">[-]</label><label class="expand" for="c-37655925">[1 more]</label></div><br/><div class="children"><div class="content">Which answer to this question would sufficiently comfort you?</div><br/></div></div></div></div><div id="37655775" class="c"><input type="checkbox" id="c-37655775" checked=""/><div class="controls bullet"><span class="by">xcdzvyn</span><span>|</span><a href="#37655847">prev</a><span>|</span><label class="collapse" for="c-37655775">[-]</label><label class="expand" for="c-37655775">[4 more]</label></div><br/><div class="children"><div class="content">TIL SIP blocks chroot. I wonder why?</div><br/><div id="37655940" class="c"><input type="checkbox" id="c-37655940" checked=""/><div class="controls bullet"><span class="by">Hnrobert42</span><span>|</span><a href="#37655775">parent</a><span>|</span><label class="collapse" for="c-37655940">[-]</label><label class="expand" for="c-37655940">[3 more]</label></div><br/><div class="children"><div class="content">I imagine because if an adversary can a chroot environment, then they can trick anything using that chroot to use different binaries.</div><br/><div id="37656018" class="c"><input type="checkbox" id="c-37656018" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37655775">root</a><span>|</span><a href="#37655940">parent</a><span>|</span><label class="collapse" for="c-37656018">[-]</label><label class="expand" for="c-37656018">[2 more]</label></div><br/><div class="children"><div class="content">I have these thoughts about Homebrew also.<p>macOS apps have to be signed and notarised to run without a warning, which is a pretty big part of the defence picture for this software - the certificates can be revoked at any time to block the software if malicious behaviour is identified.<p>However, if I install Homebrew, then install python, then install a pip package, there&#x27;s really no kind of scanning&#x2F;notarization&#x2F;checking happening at all.  I wonder if this is something Apple has ever looked into - it seems like the exact scenario where you&#x27;d want to sandbox it away from the rest of the system.</div><br/><div id="37656303" class="c"><input type="checkbox" id="c-37656303" checked=""/><div class="controls bullet"><span class="by">vetinari</span><span>|</span><a href="#37655775">root</a><span>|</span><a href="#37656018">parent</a><span>|</span><label class="collapse" for="c-37656303">[-]</label><label class="expand" for="c-37656303">[1 more]</label></div><br/><div class="children"><div class="content">&gt; However, if I install Homebrew, then install python, then install a pip package, there&#x27;s really no kind of scanning&#x2F;notarization&#x2F;checking happening at all.<p>There is: you are running that pip package in a chain of processes: Terminal (or iTerm, or whatever) - your shell - python - pip package. In this chain, Terminal has &quot;Developer Tools&quot; privilege, which allows you to run software, that does not meet the system&#x27;s security policy.<p>You can disable this privilege in System settings, Privacy and Security panel.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>