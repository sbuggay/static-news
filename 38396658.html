<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1700816457832" as="style"/><link rel="stylesheet" href="styles.css?v=1700816457832"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://habr.com/en/articles/456476/">Bluetooth stack modifications to improve audio quality on headphones without AA (2019)</a> <span class="domain">(<a href="https://habr.com">habr.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>90 comments</span></div><br/><div><div id="38396870" class="c"><input type="checkbox" id="c-38396870" checked=""/><div class="controls bullet"><span class="by">noodlesUK</span><span>|</span><a href="#38398130">next</a><span>|</span><label class="collapse" for="c-38396870">[-]</label><label class="expand" for="c-38396870">[36 more]</label></div><br/><div class="children"><div class="content">This is great: SBC is widely supported and this seems like a natural extension of the existing standard. The issue I personally have is not about SBC vs LDAC or AAC, but that HFP is garbage. The moment the mic gets switched on, I’m transported back to the 90s. If someone wants to make bidirectional Bluetooth audio that doesn’t suck, I’d be thrilled.</div><br/><div id="38397286" class="c"><input type="checkbox" id="c-38397286" checked=""/><div class="controls bullet"><span class="by">HPsquared</span><span>|</span><a href="#38396870">parent</a><span>|</span><a href="#38397215">next</a><span>|</span><label class="collapse" for="c-38397286">[-]</label><label class="expand" for="c-38397286">[20 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t it just the need for low latency? &quot;Media&quot; (music, videos etc) has good sound quality but significant latency. It gets compensated by delaying the video by an equal amount, but it&#x27;s too much latency for phone calls.</div><br/><div id="38397593" class="c"><input type="checkbox" id="c-38397593" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397286">parent</a><span>|</span><a href="#38397510">next</a><span>|</span><label class="collapse" for="c-38397593">[-]</label><label class="expand" for="c-38397593">[9 more]</label></div><br/><div class="children"><div class="content">Everyone who wants a standard to require their patent is allergic to it, but Opus was designed for <i>exactly</i> this. It’s acoustically transparent at moderate bit rate, good enough at lower bit rate, and adds minimal latency.</div><br/><div id="38401599" class="c"><input type="checkbox" id="c-38401599" checked=""/><div class="controls bullet"><span class="by">rickdeckard</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397593">parent</a><span>|</span><a href="#38397693">next</a><span>|</span><label class="collapse" for="c-38401599">[-]</label><label class="expand" for="c-38401599">[1 more]</label></div><br/><div class="children"><div class="content">Bluetooth HFP 1.9 includes support for LC3 codec for Super Wideband Speech (SWB) in Handsfree mode [1], with 32kbps bitrate.<p>Quality is significantly better than SBC. ETSI has tested this extensively and came to the conclusion that LC3 is better than Opus in some common conditions [2]<p>Quote: <i>LC3 at 32 kbps (LC3 32) provides significantly better audio quality than Opus-CELT at 32 kbps and complexity level 0 (OPUS_v114_c0 and COPUS_v114_c0)</i><p>So there IS a solution for higher quality, which is LC3-SWB. It&#x27;s just that both devices need to support HFP 1.9 to make use of better codecs, which will take a while especially on the headset side.<p>[1] <a href="https:&#x2F;&#x2F;www.bluetooth.com&#x2F;specifications&#x2F;specs&#x2F;hands-free-profile&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bluetooth.com&#x2F;specifications&#x2F;specs&#x2F;hands-free-pr...</a><p>[2] <a href="https:&#x2F;&#x2F;www.etsi.org&#x2F;deliver&#x2F;etsi_tr&#x2F;103500_103599&#x2F;103590&#x2F;01.01.01_60&#x2F;tr_103590v010101p.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.etsi.org&#x2F;deliver&#x2F;etsi_tr&#x2F;103500_103599&#x2F;103590&#x2F;01...</a></div><br/></div></div><div id="38397693" class="c"><input type="checkbox" id="c-38397693" checked=""/><div class="controls bullet"><span class="by">photoGrant</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397593">parent</a><span>|</span><a href="#38401599">prev</a><span>|</span><a href="#38397510">next</a><span>|</span><label class="collapse" for="c-38397693">[-]</label><label class="expand" for="c-38397693">[7 more]</label></div><br/><div class="children"><div class="content">Love that profits plunder progress.</div><br/><div id="38400027" class="c"><input type="checkbox" id="c-38400027" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397693">parent</a><span>|</span><a href="#38400779">next</a><span>|</span><label class="collapse" for="c-38400027">[-]</label><label class="expand" for="c-38400027">[3 more]</label></div><br/><div class="children"><div class="content">It’s true.<p>The SBC bitrates discussed in the article are <i>nuts</i>.  Opus is transparent at 1&#x2F;5-1&#x2F;4 of those rates. OTOH it’s newer and maybe ten-year-old cheap Bluetooth chips couldn’t have handled it.</div><br/><div id="38401337" class="c"><input type="checkbox" id="c-38401337" checked=""/><div class="controls bullet"><span class="by">acchow</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38400027">parent</a><span>|</span><a href="#38400779">next</a><span>|</span><label class="collapse" for="c-38401337">[-]</label><label class="expand" for="c-38401337">[2 more]</label></div><br/><div class="children"><div class="content">What would the power requirements for decoding Opus with a low latency be? Wireless earphones have tiny batteries.</div><br/><div id="38401547" class="c"><input type="checkbox" id="c-38401547" checked=""/><div class="controls bullet"><span class="by">rickdeckard</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38401337">parent</a><span>|</span><a href="#38400779">next</a><span>|</span><label class="collapse" for="c-38401547">[-]</label><label class="expand" for="c-38401547">[1 more]</label></div><br/><div class="children"><div class="content">Also keep in mind that you would also need realtime transcoding on the transmitter, as the device would need to mix whatever audio-codec is provided with other channels (Notification sounds, etc.) and encode it into Opus on-the-fly.</div><br/></div></div></div></div></div></div><div id="38400779" class="c"><input type="checkbox" id="c-38400779" checked=""/><div class="controls bullet"><span class="by">swells34</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397693">parent</a><span>|</span><a href="#38400027">prev</a><span>|</span><a href="#38397510">next</a><span>|</span><label class="collapse" for="c-38400779">[-]</label><label class="expand" for="c-38400779">[3 more]</label></div><br/><div class="children"><div class="content">No no no, capitalism is supposed to make BETTER products, because money! You must be mistaken.</div><br/><div id="38400840" class="c"><input type="checkbox" id="c-38400840" checked=""/><div class="controls bullet"><span class="by">pasiaj</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38400779">parent</a><span>|</span><a href="#38401224">next</a><span>|</span><label class="collapse" for="c-38400840">[-]</label><label class="expand" for="c-38400840">[1 more]</label></div><br/><div class="children"><div class="content">Better than what?</div><br/></div></div><div id="38401224" class="c"><input type="checkbox" id="c-38401224" checked=""/><div class="controls bullet"><span class="by">HideousKojima</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38400779">parent</a><span>|</span><a href="#38400840">prev</a><span>|</span><a href="#38397510">next</a><span>|</span><label class="collapse" for="c-38401224">[-]</label><label class="expand" for="c-38401224">[1 more]</label></div><br/><div class="children"><div class="content">Not sure what is a failing unique to capitalism here. The USSR had a standards body comparable to western ones (Gosstandard) and that still has plenty of political infighting and abuse. And for all of capitalism&#x27;s failings, I don&#x27;t think it&#x27;s had any scientific failings on the level of Lysenkoism.</div><br/></div></div></div></div></div></div></div></div><div id="38397510" class="c"><input type="checkbox" id="c-38397510" checked=""/><div class="controls bullet"><span class="by">therein</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397286">parent</a><span>|</span><a href="#38397593">prev</a><span>|</span><a href="#38397503">next</a><span>|</span><label class="collapse" for="c-38397510">[-]</label><label class="expand" for="c-38397510">[8 more]</label></div><br/><div class="children"><div class="content">&gt; It gets compensated by delaying the video by an equal amount<p>Is this actually done? Who would be doing it, the OS? It just sounds like the separation of concerns and the design of the interfaces would make it pretty unlikely.</div><br/><div id="38401452" class="c"><input type="checkbox" id="c-38401452" checked=""/><div class="controls bullet"><span class="by">chenxiaolong</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397510">parent</a><span>|</span><a href="#38398982">next</a><span>|</span><label class="collapse" for="c-38401452">[-]</label><label class="expand" for="c-38401452">[1 more]</label></div><br/><div class="children"><div class="content">Yup, Bluetooth devices can report the latency via AVDTP 1.3 Delay Reporting. If I remember correctly from the last time I looked at this, the media framework in OS&#x27;s tend to expose this to applications by reporting the timestamp that a submitted audio buffer is actually played back. The video player can use these timestamps to adjust the video delay accordingly. And since it&#x27;s per buffer, it can handle the latency changing (eg. by switching from Bluetooth to a wired connection).<p>I know at least Android and Linux + Pipewire support this. I haven&#x27;t encountered a single application on desktop Linux that doesn&#x27;t support this properly. All the standard video players and browsers work. It works for HDMI too, when the TV&#x2F;AV receiver is well designed and communicates the latency in the EDID.</div><br/></div></div><div id="38398982" class="c"><input type="checkbox" id="c-38398982" checked=""/><div class="controls bullet"><span class="by">roywashere</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397510">parent</a><span>|</span><a href="#38401452">prev</a><span>|</span><a href="#38399000">next</a><span>|</span><label class="collapse" for="c-38398982">[-]</label><label class="expand" for="c-38398982">[1 more]</label></div><br/><div class="children"><div class="content">Yes, this is called AVDTP 1.3 Delay Reporting feature. It allows headphones to report  the delay to a sending device that actually plays the sound.</div><br/></div></div><div id="38399000" class="c"><input type="checkbox" id="c-38399000" checked=""/><div class="controls bullet"><span class="by">HPsquared</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397510">parent</a><span>|</span><a href="#38398982">prev</a><span>|</span><a href="#38397617">next</a><span>|</span><label class="collapse" for="c-38399000">[-]</label><label class="expand" for="c-38399000">[2 more]</label></div><br/><div class="children"><div class="content">Empirically: videos are perfectly synced using my Sony headphones (which use Bluetooth 5.0) on Android. But anything interactive (games, and UI sound effects) has a significant delay.<p>I think Bluetooth 5.0 includes something where the audio latency is communicated back to the phone.</div><br/><div id="38400953" class="c"><input type="checkbox" id="c-38400953" checked=""/><div class="controls bullet"><span class="by">Pxtl</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38399000">parent</a><span>|</span><a href="#38397617">next</a><span>|</span><label class="collapse" for="c-38400953">[-]</label><label class="expand" for="c-38400953">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, playing twitchy games with bluetooth on is janky suicide.  I was trying to play a difficult platformer on my phone with a clipped-on game controller and it was miserable until I switched to wired audio.<p>Not sure if it was the audio latency or the crowded traffic on bluetooth slowing down my BT game controller, but the difference in feel and success was night-and-day when I did that.</div><br/></div></div></div></div><div id="38397617" class="c"><input type="checkbox" id="c-38397617" checked=""/><div class="controls bullet"><span class="by">explodingcamera</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397510">parent</a><span>|</span><a href="#38399000">prev</a><span>|</span><a href="#38397607">next</a><span>|</span><label class="collapse" for="c-38397617">[-]</label><label class="expand" for="c-38397617">[1 more]</label></div><br/><div class="children"><div class="content">It is absolutely done, mostly by the media player&#x2F;library used, e.g exoplayer on Android has automatic lag compensation for that purpose.</div><br/></div></div><div id="38397607" class="c"><input type="checkbox" id="c-38397607" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397510">parent</a><span>|</span><a href="#38397617">prev</a><span>|</span><a href="#38398711">next</a><span>|</span><label class="collapse" for="c-38397607">[-]</label><label class="expand" for="c-38397607">[1 more]</label></div><br/><div class="children"><div class="content">Not always. Just got some wireless headphones at work, and now I can no longer enjoy YouTube videos (mostly KEXP) because of the 100ms audio delay. It&#x27;s too disturbing even only in side view.<p>So at least with a browser on Windows it&#x27;s not done.</div><br/></div></div><div id="38398711" class="c"><input type="checkbox" id="c-38398711" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397510">parent</a><span>|</span><a href="#38397607">prev</a><span>|</span><a href="#38397503">next</a><span>|</span><label class="collapse" for="c-38398711">[-]</label><label class="expand" for="c-38398711">[1 more]</label></div><br/><div class="children"><div class="content">I’ve definitely noticed it on macOS. Videos in the browser will stall for a fraction of a second after pressing play to give the audio time to catch up.</div><br/></div></div></div></div><div id="38397503" class="c"><input type="checkbox" id="c-38397503" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397286">parent</a><span>|</span><a href="#38397510">prev</a><span>|</span><a href="#38397215">next</a><span>|</span><label class="collapse" for="c-38397503">[-]</label><label class="expand" for="c-38397503">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s Bluetooth not having enough latency.</div><br/><div id="38399154" class="c"><input type="checkbox" id="c-38399154" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397503">parent</a><span>|</span><a href="#38397215">next</a><span>|</span><label class="collapse" for="c-38399154">[-]</label><label class="expand" for="c-38399154">[1 more]</label></div><br/><div class="children"><div class="content">I meant to say bandwidth.</div><br/></div></div></div></div></div></div><div id="38397215" class="c"><input type="checkbox" id="c-38397215" checked=""/><div class="controls bullet"><span class="by">baxuz</span><span>|</span><a href="#38396870">parent</a><span>|</span><a href="#38397286">prev</a><span>|</span><a href="#38397469">next</a><span>|</span><label class="collapse" for="c-38397215">[-]</label><label class="expand" for="c-38397215">[12 more]</label></div><br/><div class="children"><div class="content">I really don&#x27;t understand why HFP is still the industry standard. Even devices within the same ecosystem, like MacBook &#x2F; iPhone &#x2F; AirPods seems to use it based on the audio quality. Or maybe it&#x27;s AVRCP. Sounds horrible either way.</div><br/><div id="38397807" class="c"><input type="checkbox" id="c-38397807" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397215">parent</a><span>|</span><a href="#38397476">next</a><span>|</span><label class="collapse" for="c-38397807">[-]</label><label class="expand" for="c-38397807">[8 more]</label></div><br/><div class="children"><div class="content">AVRCP is the control protocol for BT media (e.g. when you volume up or play&#x2F;pause from your headset). I’m assuming you meant A2DP which is the protocol for receiving audio. HFP is totally separate from A2DP in that it’s a bidirectional audio stream. That bidirectionality is the difficult part - you have in theory tight time bounds for transmitting the data for latency reasons + these cheapo headsets have 1 radio which means they’re nominally limited to tx or rx. Since the assumption for the design is voice calls, you severely clip the microphone audio into the frequency band for speech &amp; transmit mono which is why the audio quality is so bad (+ you further lossy encode it but the frequency reduction is probably the biggest dip). All of this has to fit on top of the PHY packet transport that time-divides access to the channel + has to coex with other 2.4 GHZ radios like WiFi (at least historically).<p>Now, could these designs be revisited? Probably. Maybe radios are small and cheap enough that we should have 2 and a protocol for bidirectional audio that allows independent streams over separate bands with software synchronizing and mixing audio. It’s also possible the audio encoders&#x2F;decoders could be modernized with more modern compression techniques to improve audio quality without requiring changes to the bandwidth allocation. Bluetooth those is very ossified and the standards bodies move like molasses - most of the investment is in WiFi and radio vendors are more interested in milking what exists now (or coming up with proprietary solutions like aptx) than actually solving the problems.</div><br/><div id="38397926" class="c"><input type="checkbox" id="c-38397926" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397807">parent</a><span>|</span><a href="#38398664">next</a><span>|</span><label class="collapse" for="c-38397926">[-]</label><label class="expand" for="c-38397926">[2 more]</label></div><br/><div class="children"><div class="content">BLE Audio supports bidirectional audio up to ±1300kbps (&quot;2Mbps&quot; but with overhead subtracted) which is a LOT better than HFP, especially with LC3 as a replacement for the older codecs.<p>I don&#x27;t think many devices support it yet, but the spec has a perfectly acceptable bitrate for modern audio calls. We just need to wait for hardware vendors to pick up on BT5.1 features. Last I read about these I think the focus for BLE audio was on hearing aids and such, but there&#x27;s no reason the spec couldn&#x27;t be used for headphones.<p>BLE audio also allows for things like connecting your headphones to multiple sources and broadcasting audio to multiple receivers. The standard has improved significantly, but without cheap, mass produced chips, these advancements will probably be stuck in expensive purpose-built devices for a while.</div><br/><div id="38398350" class="c"><input type="checkbox" id="c-38398350" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397926">parent</a><span>|</span><a href="#38398664">next</a><span>|</span><label class="collapse" for="c-38398350">[-]</label><label class="expand" for="c-38398350">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I was just reading that the latest standards have improved things so we’ll have to wait a few years for HW to filter out.</div><br/></div></div></div></div><div id="38398664" class="c"><input type="checkbox" id="c-38398664" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397807">parent</a><span>|</span><a href="#38397926">prev</a><span>|</span><a href="#38399354">next</a><span>|</span><label class="collapse" for="c-38398664">[-]</label><label class="expand" for="c-38398664">[3 more]</label></div><br/><div class="children"><div class="content">&gt; That bidirectionality is the difficult part<p>Best hack I&#x27;ve come up with when I have to use Bluetooth headsets on calls is to use them unidirectionally by selecting my MacBook microphone as input (try option click on volume control in menu bar).<p>(... but mostly I go wired most of the time).</div><br/><div id="38399463" class="c"><input type="checkbox" id="c-38399463" checked=""/><div class="controls bullet"><span class="by">carstenhag</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38398664">parent</a><span>|</span><a href="#38400991">next</a><span>|</span><label class="collapse" for="c-38399463">[-]</label><label class="expand" for="c-38399463">[1 more]</label></div><br/><div class="children"><div class="content">Yep, this is also what u do. On top of that, the MacBook mics are way better than any earbud mic.</div><br/></div></div><div id="38400991" class="c"><input type="checkbox" id="c-38400991" checked=""/><div class="controls bullet"><span class="by">Pxtl</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38398664">parent</a><span>|</span><a href="#38399463">prev</a><span>|</span><a href="#38399354">next</a><span>|</span><label class="collapse" for="c-38400991">[-]</label><label class="expand" for="c-38400991">[1 more]</label></div><br/><div class="children"><div class="content">Just get a wireless headset that uses a USB dongle.  It&#x27;s archaic but it works.  I can&#x27;t stand to be tethered to my desk when I talk.  It&#x27;s annoying and silly how I have a BT headset and a USB-wireless headset on my desk at the same time and I switch depending on whether the call is coming over the phone or the PC, and theoretically I could get one device that does both with a switch (eg. my wife has a Logitech one that does that) but this approach works for me.<p>I&#x27;ve literally gotten a compliment or two on how great the audio is when I&#x27;m doing remote presentations, but maybe that&#x27;s because I often privately grouse about people who are using awful mic setups and so somebody was watching for that. I&#x27;m not using anything fancy, I just buy upper-mid-range gaming headsets (the $150US-ish ones that are good-enough that they don&#x27;t cover them in neon plastic and LED lighting).</div><br/></div></div></div></div><div id="38399354" class="c"><input type="checkbox" id="c-38399354" checked=""/><div class="controls bullet"><span class="by">MonaroVXR</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397807">parent</a><span>|</span><a href="#38398664">prev</a><span>|</span><a href="#38397476">next</a><span>|</span><label class="collapse" for="c-38399354">[-]</label><label class="expand" for="c-38399354">[2 more]</label></div><br/><div class="children"><div class="content">So I assume Sony and Xbox are using Wi-Fi to use Audio on their controllers?</div><br/><div id="38400766" class="c"><input type="checkbox" id="c-38400766" checked=""/><div class="controls bullet"><span class="by">thomasfortes</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38399354">parent</a><span>|</span><a href="#38397476">next</a><span>|</span><label class="collapse" for="c-38400766">[-]</label><label class="expand" for="c-38400766">[1 more]</label></div><br/><div class="children"><div class="content">At least for Xbox controllers and headsets (and logitech lightspeed mouses too) they don&#x27;t use bluetooth, they use a proprietary protocol, you can connect them using bluetooth but if you really want low latency you will need a proprietary dongle.<p>I suppose sony do something similar, and as far as I know they all use the 2.4GHz band.<p>Good thing both Xbox and Playstation controllers have a 3.5mm jack and I don&#x27;t need to buy their overpriced shitty headsets to play without significant audio latency.</div><br/></div></div></div></div></div></div><div id="38397476" class="c"><input type="checkbox" id="c-38397476" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397215">parent</a><span>|</span><a href="#38397807">prev</a><span>|</span><a href="#38398798">next</a><span>|</span><label class="collapse" for="c-38397476">[-]</label><label class="expand" for="c-38397476">[2 more]</label></div><br/><div class="children"><div class="content">There are simply no common successors to HFP. There are a few handsets that use two A2DP streams, but that requires a lot of bandwidth and I don&#x27;t think support is anywhere close to universal.<p>Bluetooth 5.2 adds BLE Audio which offers more flexibility. The LC3 codec is supported by Windows 11, Android 13, and Linux, and it significantly improves audio quality compared to the older codecs. I&#x27;m not so sure about hardware support in headphones, though.</div><br/></div></div><div id="38398798" class="c"><input type="checkbox" id="c-38398798" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397215">parent</a><span>|</span><a href="#38397476">prev</a><span>|</span><a href="#38397469">next</a><span>|</span><label class="collapse" for="c-38398798">[-]</label><label class="expand" for="c-38398798">[1 more]</label></div><br/><div class="children"><div class="content">Newer HFP headphones at least have mSBC, which sounds slightly less horrible.<p>Still, I’m also surprised that AirPods don’t use anything better within the Apple ecosystem, proprietary or otherwise.</div><br/></div></div></div></div><div id="38397469" class="c"><input type="checkbox" id="c-38397469" checked=""/><div class="controls bullet"><span class="by">zwirbl</span><span>|</span><a href="#38396870">parent</a><span>|</span><a href="#38397215">prev</a><span>|</span><a href="#38399300">next</a><span>|</span><label class="collapse" for="c-38397469">[-]</label><label class="expand" for="c-38397469">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s slowly entering the market as LE Audio &#x2F; Auracast. Might be a while till good os support is available though</div><br/><div id="38399991" class="c"><input type="checkbox" id="c-38399991" checked=""/><div class="controls bullet"><span class="by">Namidairo</span><span>|</span><a href="#38396870">root</a><span>|</span><a href="#38397469">parent</a><span>|</span><a href="#38399300">next</a><span>|</span><label class="collapse" for="c-38399991">[-]</label><label class="expand" for="c-38399991">[1 more]</label></div><br/><div class="children"><div class="content">While Windows technically supports LE Audio and the profiles required, the encoding and such are left up to the vendor driver to implement.[0]<p>I&#x27;m not even sure if Intel&#x27;s newer products will actually properly do BAP etc. on Windows because of driver support, despite them listing very windows looking software version numbers in the certification on the Bluetooth SIG site. (AX210 and newer should be capable and advertise proper isochronous channel support in their drivers. AX200 and AX201 are not capable, and but kinda sorta advertise isochronous channel support anyway because of a bug I believe. BE200 obviously capable but they have a separate driver on Windows and I have no idea how stable it is in Linux.)<p>[0] <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows-hardware&#x2F;drivers&#x2F;bluetooth&#x2F;bluetooth-low-energy-audio" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows-hardware&#x2F;drivers&#x2F;b...</a></div><br/></div></div></div></div><div id="38399300" class="c"><input type="checkbox" id="c-38399300" checked=""/><div class="controls bullet"><span class="by">MonaroVXR</span><span>|</span><a href="#38396870">parent</a><span>|</span><a href="#38397469">prev</a><span>|</span><a href="#38398130">next</a><span>|</span><label class="collapse" for="c-38399300">[-]</label><label class="expand" for="c-38399300">[1 more]</label></div><br/><div class="children"><div class="content">I can vote for that as well.</div><br/></div></div></div></div><div id="38398130" class="c"><input type="checkbox" id="c-38398130" checked=""/><div class="controls bullet"><span class="by">jwtorres</span><span>|</span><a href="#38396870">prev</a><span>|</span><a href="#38397465">next</a><span>|</span><label class="collapse" for="c-38398130">[-]</label><label class="expand" for="c-38398130">[10 more]</label></div><br/><div class="children"><div class="content">This article is not about Bluetooth in general, it is a deep dive into the bugs buried within the Android Bluetooth stack.<p>And what the writer is not acknowledging at all is that the underlying hardware being used is highly variable. Android runs on top of numerous Bluetooth chipsets. So when he gets a patch to seem to work on his hardware, there is no saying that it will work for a different Android phone.<p>Furthermore, this all depends on what else the device is up to at the current moment. If you have shared BT+Wifi chipset and you are streaming a video over wifi, then streaming the audio to your headphones, the device is having to allocate resources based on wifi usage and BT. So playing audio stored locally and audio via a stream is not necessarily going to get the same CODEC parameters.<p>There is so much nuance to this subject that the author just hasn&#x27;t considered. Please be careful what you read.</div><br/><div id="38400800" class="c"><input type="checkbox" id="c-38400800" checked=""/><div class="controls bullet"><span class="by">AnggaSP</span><span>|</span><a href="#38398130">parent</a><span>|</span><a href="#38401240">next</a><span>|</span><label class="collapse" for="c-38400800">[-]</label><label class="expand" for="c-38400800">[2 more]</label></div><br/><div class="children"><div class="content">Former custom ROM developer here who has reviewed and integrated valdikSS modification.<p>It’s not a bug that the patchset is doing, but enables dual-channel SBC to be negotiated in the source and sink connection. This enables the higher bit-rate without exceeding the maximum bitpool both Android and BT receiver impose.<p>There’s still negotiation occurs between the source and sink and if either one of them doesn’t support dual-channel SBc, it’ll fallback to whatever its supported. All the device that i had maintained supports it, while some cheap speaker that i test at that time doesn’t and able to negotiate joint stereo session.</div><br/><div id="38401631" class="c"><input type="checkbox" id="c-38401631" checked=""/><div class="controls bullet"><span class="by">jwtorres</span><span>|</span><a href="#38398130">root</a><span>|</span><a href="#38400800">parent</a><span>|</span><a href="#38401240">next</a><span>|</span><label class="collapse" for="c-38401631">[-]</label><label class="expand" for="c-38401631">[1 more]</label></div><br/><div class="children"><div class="content">Right, it’s more of a configuration that is being changed. But my point was that this is all above the HCI layer, so at the end of the day it’s related to the specific host-stack implementation and not to do with Bluetooth in general.<p>I guess I’m basically saying the title should be changed</div><br/></div></div></div></div><div id="38401240" class="c"><input type="checkbox" id="c-38401240" checked=""/><div class="controls bullet"><span class="by">ValdikSS</span><span>|</span><a href="#38398130">parent</a><span>|</span><a href="#38400800">prev</a><span>|</span><a href="#38399399">next</a><span>|</span><label class="collapse" for="c-38401240">[-]</label><label class="expand" for="c-38401240">[3 more]</label></div><br/><div class="children"><div class="content">&gt;This article is not about Bluetooth in general<p>Here you are <a href="https:&#x2F;&#x2F;habr.com&#x2F;en&#x2F;articles&#x2F;456182&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;habr.com&#x2F;en&#x2F;articles&#x2F;456182&#x2F;</a></div><br/><div id="38401736" class="c"><input type="checkbox" id="c-38401736" checked=""/><div class="controls bullet"><span class="by">jwtorres</span><span>|</span><a href="#38398130">root</a><span>|</span><a href="#38401240">parent</a><span>|</span><a href="#38401319">next</a><span>|</span><label class="collapse" for="c-38401736">[-]</label><label class="expand" for="c-38401736">[1 more]</label></div><br/><div class="children"><div class="content">Good work putting all this together. Not saying anything is wrong necessarily, but missing part of the picture.</div><br/></div></div><div id="38401319" class="c"><input type="checkbox" id="c-38401319" checked=""/><div class="controls bullet"><span class="by">adithyassekhar</span><span>|</span><a href="#38398130">root</a><span>|</span><a href="#38401240">parent</a><span>|</span><a href="#38401736">prev</a><span>|</span><a href="#38399399">next</a><span>|</span><label class="collapse" for="c-38401319">[-]</label><label class="expand" for="c-38401319">[1 more]</label></div><br/><div class="children"><div class="content">Unrelated: Every once in a while you&#x27;d see a familiar name on this website. Thank you for goodbyedpi, it saved me when all isps in my country started blocking raw.githubusercontent.com among others ofc :)</div><br/></div></div></div></div><div id="38399399" class="c"><input type="checkbox" id="c-38399399" checked=""/><div class="controls bullet"><span class="by">MonaroVXR</span><span>|</span><a href="#38398130">parent</a><span>|</span><a href="#38401240">prev</a><span>|</span><a href="#38399504">next</a><span>|</span><label class="collapse" for="c-38399399">[-]</label><label class="expand" for="c-38399399">[2 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t think about this, do you have more information about this?</div><br/><div id="38400153" class="c"><input type="checkbox" id="c-38400153" checked=""/><div class="controls bullet"><span class="by">jwtorres</span><span>|</span><a href="#38398130">root</a><span>|</span><a href="#38399399">parent</a><span>|</span><a href="#38399504">next</a><span>|</span><label class="collapse" for="c-38400153">[-]</label><label class="expand" for="c-38400153">[1 more]</label></div><br/><div class="children"><div class="content">Not really. Just experience</div><br/></div></div></div></div><div id="38399504" class="c"><input type="checkbox" id="c-38399504" checked=""/><div class="controls bullet"><span class="by">xchip</span><span>|</span><a href="#38398130">parent</a><span>|</span><a href="#38399399">prev</a><span>|</span><a href="#38397465">next</a><span>|</span><label class="collapse" for="c-38399504">[-]</label><label class="expand" for="c-38399504">[2 more]</label></div><br/><div class="children"><div class="content">Do you have any links?</div><br/><div id="38400157" class="c"><input type="checkbox" id="c-38400157" checked=""/><div class="controls bullet"><span class="by">jwtorres</span><span>|</span><a href="#38398130">root</a><span>|</span><a href="#38399504">parent</a><span>|</span><a href="#38397465">next</a><span>|</span><label class="collapse" for="c-38400157">[-]</label><label class="expand" for="c-38400157">[1 more]</label></div><br/><div class="children"><div class="content">Nope</div><br/></div></div></div></div></div></div><div id="38397465" class="c"><input type="checkbox" id="c-38397465" checked=""/><div class="controls bullet"><span class="by">velox</span><span>|</span><a href="#38398130">prev</a><span>|</span><a href="#38397385">next</a><span>|</span><label class="collapse" for="c-38397465">[-]</label><label class="expand" for="c-38397465">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Alternative A2DP Driver&quot; offers this functionality on Windows. Lets you customize SBC parameters, use AAC, aptX (apparently, haven&#x27;t tried). Works well in my experience, lets me use LDAC with my sony XM4&#x27;s. It&#x27;s trialware, but cheap.<p>I have seen the bluetooth range drop off in higher quality modes, which seems to confirm it&#x27;s actually changing the codec (or at least something) and not just a placebo.<p><a href="https:&#x2F;&#x2F;www.bluetoothgoodies.com&#x2F;a2dp&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bluetoothgoodies.com&#x2F;a2dp&#x2F;</a> (i have no affiliation)</div><br/></div></div><div id="38397385" class="c"><input type="checkbox" id="c-38397385" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#38397465">prev</a><span>|</span><a href="#38396961">next</a><span>|</span><label class="collapse" for="c-38397385">[-]</label><label class="expand" for="c-38397385">[10 more]</label></div><br/><div class="children"><div class="content">Perhaps interesting to note: on Linux, you can also enable higher bitrate SBC audio (though something dubbed &quot;SBC XQ&quot;). Similarly, &quot;mSBC&quot; can be used for higher quality headset audio (still nowhere close to SBC or more APTX, of course).<p>I hope someone over at Google merges this, or something like this, already. Better audio codec are supported by tons of headphones and such, but support is not universal and bidirectional audio improvements definitely aren&#x27;t.</div><br/><div id="38398463" class="c"><input type="checkbox" id="c-38398463" checked=""/><div class="controls bullet"><span class="by">izacus</span><span>|</span><a href="#38397385">parent</a><span>|</span><a href="#38397441">next</a><span>|</span><label class="collapse" for="c-38398463">[-]</label><label class="expand" for="c-38398463">[3 more]</label></div><br/><div class="children"><div class="content">This is a 4 year old article that predates things like LE Audio support for which has been merged into Android.</div><br/><div id="38400820" class="c"><input type="checkbox" id="c-38400820" checked=""/><div class="controls bullet"><span class="by">altairprime</span><span>|</span><a href="#38397385">root</a><span>|</span><a href="#38398463">parent</a><span>|</span><a href="#38399382">next</a><span>|</span><label class="collapse" for="c-38400820">[-]</label><label class="expand" for="c-38400820">[1 more]</label></div><br/><div class="children"><div class="content">It also predates the Bluetooth headset audio spec update that came out a few weeks ago. Hasn’t reached hardware yet, though.</div><br/></div></div><div id="38399382" class="c"><input type="checkbox" id="c-38399382" checked=""/><div class="controls bullet"><span class="by">nmstoker</span><span>|</span><a href="#38397385">root</a><span>|</span><a href="#38398463">parent</a><span>|</span><a href="#38400820">prev</a><span>|</span><a href="#38397441">next</a><span>|</span><label class="collapse" for="c-38399382">[-]</label><label class="expand" for="c-38399382">[1 more]</label></div><br/><div class="children"><div class="content">Does that definitely negate the value in merging this?<p>I&#x27;m not up on the distinctions here but it seems like people may have older headphones where this could still result in improved quality and it seems like low hanging fruit.</div><br/></div></div></div></div><div id="38397441" class="c"><input type="checkbox" id="c-38397441" checked=""/><div class="controls bullet"><span class="by">krzyk</span><span>|</span><a href="#38397385">parent</a><span>|</span><a href="#38398463">prev</a><span>|</span><a href="#38397655">next</a><span>|</span><label class="collapse" for="c-38397441">[-]</label><label class="expand" for="c-38397441">[4 more]</label></div><br/><div class="children"><div class="content">Do you know how to enable that on Linux?<p>Or how to check what my current headset is using?<p>I remember I had previously a patched pulseaudio that exposed appropriate settings, but later it got &quot;merged into mainstream&quot; - and I couldn&#x27;t find the settings or information what is being used.</div><br/><div id="38397821" class="c"><input type="checkbox" id="c-38397821" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#38397385">root</a><span>|</span><a href="#38397441">parent</a><span>|</span><a href="#38397698">next</a><span>|</span><label class="collapse" for="c-38397821">[-]</label><label class="expand" for="c-38397821">[1 more]</label></div><br/><div class="children"><div class="content">I use Wireplumber+Pipewire on Ubuntu and Manjaro. I stuffed the following into &#x2F;etc&#x2F;wireplumber&#x2F;bluetooth.lua.d&#x2F;bluez_monitor.properties :<p><pre><code>    bluez_monitor.properties = {
      [&quot;bluez5.enable-msbc&quot;] = true,
      [&quot;bluez5.enable-sbc-xq&quot;] = true,
      [&quot;bluez5.enable-hw-volume&quot;] = true,
      [&quot;bluez5.headset-roles&quot;] = &quot;[ hsp_hs hsp_ag hfp_hf hfp_ag ]&quot;,
      [&quot;bluez5.codecs&quot;] = &quot;[ sbc sbc_xq aac ldac aptx aptx_hd aptx_II aptx_II_duplex faststream faststream_duplex ]&quot;,
    }
</code></pre>
Then from the GNOME audio settings I can pick the appropriate codec from the dropdown.<p>I have a pair of Oneplus buds (the older ones, with a wire in between them) so I don&#x27;t get any of the newer codecs, but SBC-XQ works well for reducing latency in a pinch.<p>Pulseaudio also has support, but I don&#x27;t know how to make that work. My last attempt led me to switch to Pipewire.</div><br/></div></div><div id="38397698" class="c"><input type="checkbox" id="c-38397698" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#38397385">root</a><span>|</span><a href="#38397441">parent</a><span>|</span><a href="#38397821">prev</a><span>|</span><a href="#38397655">next</a><span>|</span><label class="collapse" for="c-38397698">[-]</label><label class="expand" for="c-38397698">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Or how to check what my current headset is using?<p>`pactl list` should show you all your input and output sinks and what profiles they are using. Even though, I think the pulseaudio Volume Control app also shows this graphically.<p>Something like `pactl set-card-profile bluez_card.98_52_3D_7E_5D_DE a2dp-sink-sbc_xq` sets the profile to sbc xq. This is a bit old and I am not sure if newer versions of pipewire have better ways of doing it.</div><br/><div id="38398328" class="c"><input type="checkbox" id="c-38398328" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#38397385">root</a><span>|</span><a href="#38397698">parent</a><span>|</span><a href="#38397655">next</a><span>|</span><label class="collapse" for="c-38398328">[-]</label><label class="expand" for="c-38398328">[1 more]</label></div><br/><div class="children"><div class="content">Not sure about Gnome, but in KDE you can select the codec from a drop-down in volume panel for a while now. I got high quality headset audio with low delay for at least 2 releases of Fedora.</div><br/></div></div></div></div></div></div><div id="38397655" class="c"><input type="checkbox" id="c-38397655" checked=""/><div class="controls bullet"><span class="by">Lucasoato</span><span>|</span><a href="#38397385">parent</a><span>|</span><a href="#38397441">prev</a><span>|</span><a href="#38396961">next</a><span>|</span><label class="collapse" for="c-38397655">[-]</label><label class="expand" for="c-38397655">[2 more]</label></div><br/><div class="children"><div class="content">I’m struggling so hard just to even barely support Airpods in Linux :’)</div><br/><div id="38397768" class="c"><input type="checkbox" id="c-38397768" checked=""/><div class="controls bullet"><span class="by">mb7733</span><span>|</span><a href="#38397385">root</a><span>|</span><a href="#38397655">parent</a><span>|</span><a href="#38396961">next</a><span>|</span><label class="collapse" for="c-38397768">[-]</label><label class="expand" for="c-38397768">[1 more]</label></div><br/><div class="children"><div class="content">I use Linux Mint with airpods no problem -- what are you running into? Are you just trying to pair and use as audio sync or also read battery levels?</div><br/></div></div></div></div></div></div><div id="38396961" class="c"><input type="checkbox" id="c-38396961" checked=""/><div class="controls bullet"><span class="by">btreecat</span><span>|</span><a href="#38397385">prev</a><span>|</span><a href="#38397612">next</a><span>|</span><label class="collapse" for="c-38396961">[-]</label><label class="expand" for="c-38396961">[1 more]</label></div><br/><div class="children"><div class="content">I have used this in LineageOS and honestly loved the feature. The ability to send higher quality audio to stuff like my car stereo where I don&#x27;t have any support for 3P codecs. Also headphones can really benefit from this.<p>The UX needs some work, but the feature is fantastic.</div><br/></div></div><div id="38397612" class="c"><input type="checkbox" id="c-38397612" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38396961">prev</a><span>|</span><a href="#38399512">next</a><span>|</span><label class="collapse" for="c-38397612">[-]</label><label class="expand" for="c-38397612">[13 more]</label></div><br/><div class="children"><div class="content">Please can someone invent a bluetooth audio profile which allows buffering a long time in advance?<p>Ie. if I&#x27;m playing a 1 minute song, the whole song should get buffered up.  Obviously, if I click &#x27;pause&#x27; or change the volume, the buffer should be discarded.<p>But the long buffer should let my phone sleep more of the time (saving power), and survive poor radio connectivity.</div><br/><div id="38397772" class="c"><input type="checkbox" id="c-38397772" checked=""/><div class="controls bullet"><span class="by">solraph</span><span>|</span><a href="#38397612">parent</a><span>|</span><a href="#38398445">next</a><span>|</span><label class="collapse" for="c-38397772">[-]</label><label class="expand" for="c-38397772">[6 more]</label></div><br/><div class="children"><div class="content">Unlikely to happen. I sincerely doubt most headphones would have the memory for that buffer. Sure, it&#x27;s only a megabyte or two of ram, but your headphones would have to spend valuable battery on keeping that ram active.<p>From my foray into audio app (quite a while ago, I admit), I imagine application support would be tricky as well.</div><br/><div id="38397901" class="c"><input type="checkbox" id="c-38397901" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397772">parent</a><span>|</span><a href="#38399106">next</a><span>|</span><label class="collapse" for="c-38397901">[-]</label><label class="expand" for="c-38397901">[2 more]</label></div><br/><div class="children"><div class="content">Well they can advertise how much memory they have...<p>RAM uses less power than keeping a radio alive, so I suspect aggressive buffering is a net energy saver.</div><br/><div id="38399161" class="c"><input type="checkbox" id="c-38399161" checked=""/><div class="controls bullet"><span class="by">HPsquared</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397901">parent</a><span>|</span><a href="#38399106">next</a><span>|</span><label class="collapse" for="c-38399161">[-]</label><label class="expand" for="c-38399161">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of the old portable CD players that would advertise the capacity of their anti-skip buffers.</div><br/></div></div></div></div><div id="38399106" class="c"><input type="checkbox" id="c-38399106" checked=""/><div class="controls bullet"><span class="by">RobotToaster</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397772">parent</a><span>|</span><a href="#38397901">prev</a><span>|</span><a href="#38397854">next</a><span>|</span><label class="collapse" for="c-38399106">[-]</label><label class="expand" for="c-38399106">[1 more]</label></div><br/><div class="children"><div class="content">There are inexpensive headphones with the entire MP3 player built in, so I doubt a little RAM would make much difference.</div><br/></div></div><div id="38397854" class="c"><input type="checkbox" id="c-38397854" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397772">parent</a><span>|</span><a href="#38399106">prev</a><span>|</span><a href="#38398445">next</a><span>|</span><label class="collapse" for="c-38397854">[-]</label><label class="expand" for="c-38397854">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, memory on these devices tends to be pretty tight. The other challenge with buffering ahead so much is that if you do skip, you’ve basically used your energy budget for 0 value. You’d have to make the argument that there’s net savings, but that would only materialize with predictions that are right enough that the savings outweigh the times you lose (e.g. a simplest heuristic would be if the audio stream has been live for 5 seconds without skipping, send the available buffer at faster than realtime).</div><br/><div id="38397960" class="c"><input type="checkbox" id="c-38397960" checked=""/><div class="controls bullet"><span class="by">spockz</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397854">parent</a><span>|</span><a href="#38398445">next</a><span>|</span><label class="collapse" for="c-38397960">[-]</label><label class="expand" for="c-38397960">[1 more]</label></div><br/><div class="children"><div class="content">IIRC, Spotify applies a similar strategy also for deciding which music to already fetch from the servers when listening to a playlist to minimise the gap between pressing next song and actual playback. It seems like it should be exactly the same algorithm for sending it to the headset, with the exception of other sounds like notifications&#x2F;calls.</div><br/></div></div></div></div></div></div><div id="38398445" class="c"><input type="checkbox" id="c-38398445" checked=""/><div class="controls bullet"><span class="by">jwtorres</span><span>|</span><a href="#38397612">parent</a><span>|</span><a href="#38397772">prev</a><span>|</span><a href="#38397888">next</a><span>|</span><label class="collapse" for="c-38398445">[-]</label><label class="expand" for="c-38398445">[1 more]</label></div><br/><div class="children"><div class="content">Well that&#x27;s doable with enough embedded memory, but it will become an issue when you want to sync audio and video. So it really is less of a protocol thing and more of something that an individual product could design in, allowing a user to toggle the feature via an app.</div><br/></div></div><div id="38397888" class="c"><input type="checkbox" id="c-38397888" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#38397612">parent</a><span>|</span><a href="#38398445">prev</a><span>|</span><a href="#38398475">next</a><span>|</span><label class="collapse" for="c-38397888">[-]</label><label class="expand" for="c-38397888">[4 more]</label></div><br/><div class="children"><div class="content">You&#x27;d love that until the phone rings and you want to pre-empt all that buffered stuff with your incoming call rather than to first listen to the next minute of Led Zeppelin.</div><br/><div id="38397986" class="c"><input type="checkbox" id="c-38397986" checked=""/><div class="controls bullet"><span class="by">lstamour</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397888">parent</a><span>|</span><a href="#38397943">next</a><span>|</span><label class="collapse" for="c-38397986">[-]</label><label class="expand" for="c-38397986">[1 more]</label></div><br/><div class="children"><div class="content">You could use BLE to signal the incoming call or switching tracks or queuing up a new track. Likewise I’d love it if re-encoding the AAC from the player weren’t a necessary step when there isn’t additional audio. But then I suppose they would have to mix the audio on headphones which … actually sounds doable given that’s basically what noise cancelling and transparency mode requires already.<p>Of course, the cynic in me wonders why we can’t do AirPlay 2-style functionality with simple Bluetooth and BLE speakers, but Apple wants to preserve their margin and ecosystem. Literally lossless headphone audio was mostly a thing with cords, and we’re still playing catchup to the idea.<p>I do remember a brief period a period in the late 00’s when “MP3 headphones” were a thing, and you could add an SD card to your headphones and listen wirelessly. I’m not sure any of those supported FLAC though.<p>My suspicion is that in the future, we will skip Bluetooth and go straight to wifi and cellular, where these tiny AirPods end up connecting to audio sources directly and basically only use BLE to sync between themselves. That way you can “leave the phone at home,” etc. They would probably have built-in storage too, for offline support.</div><br/></div></div><div id="38397943" class="c"><input type="checkbox" id="c-38397943" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397888">parent</a><span>|</span><a href="#38397986">prev</a><span>|</span><a href="#38398475">next</a><span>|</span><label class="collapse" for="c-38397943">[-]</label><label class="expand" for="c-38397943">[2 more]</label></div><br/><div class="children"><div class="content">Well the protocol would need support for &quot;something happened, drop the buffer&quot;.<p>PulseAudio calls it &quot;rewinding&quot; for example:<p><a href="https:&#x2F;&#x2F;www.freedesktop.org&#x2F;wiki&#x2F;Software&#x2F;PulseAudio&#x2F;Documentation&#x2F;Developer&#x2F;Rewinding&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.freedesktop.org&#x2F;wiki&#x2F;Software&#x2F;PulseAudio&#x2F;Documen...</a></div><br/><div id="38398018" class="c"><input type="checkbox" id="c-38398018" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#38397612">root</a><span>|</span><a href="#38397943">parent</a><span>|</span><a href="#38398475">next</a><span>|</span><label class="collapse" for="c-38398018">[-]</label><label class="expand" for="c-38398018">[1 more]</label></div><br/><div class="children"><div class="content">Right, true, or some kind of priority queue.</div><br/></div></div></div></div></div></div><div id="38398475" class="c"><input type="checkbox" id="c-38398475" checked=""/><div class="controls bullet"><span class="by">izacus</span><span>|</span><a href="#38397612">parent</a><span>|</span><a href="#38397888">prev</a><span>|</span><a href="#38399512">next</a><span>|</span><label class="collapse" for="c-38398475">[-]</label><label class="expand" for="c-38398475">[1 more]</label></div><br/><div class="children"><div class="content">That is pretty much explicitly against what most users want from audio unfortunately.</div><br/></div></div></div></div><div id="38399512" class="c"><input type="checkbox" id="c-38399512" checked=""/><div class="controls bullet"><span class="by">seba_dos1</span><span>|</span><a href="#38397612">prev</a><span>|</span><a href="#38401249">next</a><span>|</span><label class="collapse" for="c-38399512">[-]</label><label class="expand" for="c-38399512">[1 more]</label></div><br/><div class="children"><div class="content">Would be good to add (2019) to the title. It makes statements about &quot;all current Bluetooth stacks&quot;, while these things have been implemented in at least PulseAudio and PipeWire for a while now.</div><br/></div></div><div id="38401249" class="c"><input type="checkbox" id="c-38401249" checked=""/><div class="controls bullet"><span class="by">ValdikSS</span><span>|</span><a href="#38399512">prev</a><span>|</span><a href="#38400625">next</a><span>|</span><label class="collapse" for="c-38401249">[-]</label><label class="expand" for="c-38401249">[1 more]</label></div><br/><div class="children"><div class="content">Do anyone know whether the new LE Audio standard include high quality duplex audio (headphones + microphone)? Or is it still mSBC 16 kHz?</div><br/></div></div><div id="38400625" class="c"><input type="checkbox" id="c-38400625" checked=""/><div class="controls bullet"><span class="by">pavon</span><span>|</span><a href="#38401249">prev</a><span>|</span><a href="#38399008">next</a><span>|</span><label class="collapse" for="c-38400625">[-]</label><label class="expand" for="c-38400625">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a little skeptical that Dual Channel at 551 kbps results in noticeably better quality than Joint Stereo at 328 kbps as opposed to just using more bits encoding redundant information. At least for most music - eg stuff that isn&#x27;t intentionally playing around with different recorded tracks on left and right.</div><br/></div></div><div id="38399008" class="c"><input type="checkbox" id="c-38399008" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#38400625">prev</a><span>|</span><a href="#38397057">next</a><span>|</span><label class="collapse" for="c-38399008">[-]</label><label class="expand" for="c-38399008">[1 more]</label></div><br/><div class="children"><div class="content">Jumping on with a related question: Does anyone know of any way to improve the HFP on MacOS with Bluetooth? The same headset I&#x27;m using on Linux with mSBC and pretty good quality - on MacOS it completely sucks and switches to phone line &#x2F; mono quality. Is there already any hack for Darwin to make it behave properly?</div><br/></div></div><div id="38397057" class="c"><input type="checkbox" id="c-38397057" checked=""/><div class="controls bullet"><span class="by">luqtas</span><span>|</span><a href="#38399008">prev</a><span>|</span><a href="#38398102">next</a><span>|</span><label class="collapse" for="c-38397057">[-]</label><label class="expand" for="c-38397057">[1 more]</label></div><br/><div class="children"><div class="content">i didn&#x27;t know i was using SBC (Lineage 18-1 doesn&#x27;t show that UI checkbox when connecting devices with SBC capability) until this post!<p>_magic_ *-*</div><br/></div></div><div id="38399286" class="c"><input type="checkbox" id="c-38399286" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#38398102">prev</a><span>|</span><a href="#38397581">next</a><span>|</span><label class="collapse" for="c-38399286">[-]</label><label class="expand" for="c-38399286">[1 more]</label></div><br/><div class="children"><div class="content">This is about Android&#x27;s Bluetooth stack.<p>Is the Android Bluetooth stack usable on Linux in general?  It seems to work a whole lot better and with more devices, so would be great if it was usable.</div><br/></div></div><div id="38397581" class="c"><input type="checkbox" id="c-38397581" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38399286">prev</a><span>|</span><a href="#38399805">next</a><span>|</span><label class="collapse" for="c-38397581">[-]</label><label class="expand" for="c-38397581">[1 more]</label></div><br/><div class="children"><div class="content">Is it possible to measure the signal strength and auto-fallback to lower bitrates as the device starts to go near the edge of range?<p>Random audio glitches are even more annoying than poor frequency response and robotic-sounding music to me...</div><br/></div></div><div id="38399805" class="c"><input type="checkbox" id="c-38399805" checked=""/><div class="controls bullet"><span class="by">lawrenceyan</span><span>|</span><a href="#38397581">prev</a><span>|</span><a href="#38397530">next</a><span>|</span><label class="collapse" for="c-38399805">[-]</label><label class="expand" for="c-38399805">[1 more]</label></div><br/><div class="children"><div class="content">This is exactly my vibe. Super cool, props to the author for improving things purely through software.</div><br/></div></div><div id="38397530" class="c"><input type="checkbox" id="c-38397530" checked=""/><div class="controls bullet"><span class="by">Moldoteck</span><span>|</span><a href="#38399805">prev</a><span>|</span><a href="#38398076">next</a><span>|</span><label class="collapse" for="c-38397530">[-]</label><label class="expand" for="c-38397530">[2 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t expecting a harb link getting to the front of hn. Congrats to the author</div><br/><div id="38399042" class="c"><input type="checkbox" id="c-38399042" checked=""/><div class="controls bullet"><span class="by">capableweb</span><span>|</span><a href="#38397530">parent</a><span>|</span><a href="#38398076">next</a><span>|</span><label class="collapse" for="c-38399042">[-]</label><label class="expand" for="c-38399042">[1 more]</label></div><br/><div class="children"><div class="content">Pretty common for habr.com :) <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;from?site=habr.com">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;from?site=habr.com</a></div><br/></div></div></div></div><div id="38398076" class="c"><input type="checkbox" id="c-38398076" checked=""/><div class="controls bullet"><span class="by">JeremyNT</span><span>|</span><a href="#38397530">prev</a><span>|</span><a href="#38397253">next</a><span>|</span><label class="collapse" for="c-38398076">[-]</label><label class="expand" for="c-38398076">[1 more]</label></div><br/><div class="children"><div class="content">(2019)</div><br/></div></div><div id="38397253" class="c"><input type="checkbox" id="c-38397253" checked=""/><div class="controls bullet"><span class="by">gchokov</span><span>|</span><a href="#38398076">prev</a><span>|</span><a href="#38398605">next</a><span>|</span><label class="collapse" for="c-38397253">[-]</label><label class="expand" for="c-38397253">[2 more]</label></div><br/><div class="children"><div class="content">I wish something like this existed on MacOs :&#x2F;</div><br/><div id="38398061" class="c"><input type="checkbox" id="c-38398061" checked=""/><div class="controls bullet"><span class="by">krackers</span><span>|</span><a href="#38397253">parent</a><span>|</span><a href="#38398605">next</a><span>|</span><label class="collapse" for="c-38398061">[-]</label><label class="expand" for="c-38398061">[1 more]</label></div><br/><div class="children"><div class="content">I think it does, <a href="https:&#x2F;&#x2F;github.com&#x2F;ololx&#x2F;sbc-bitpool-expander">https:&#x2F;&#x2F;github.com&#x2F;ololx&#x2F;sbc-bitpool-expander</a></div><br/></div></div></div></div><div id="38398605" class="c"><input type="checkbox" id="c-38398605" checked=""/><div class="controls bullet"><span class="by">emilfihlman</span><span>|</span><a href="#38397253">prev</a><span>|</span><a href="#38398921">next</a><span>|</span><label class="collapse" for="c-38398605">[-]</label><label class="expand" for="c-38398605">[1 more]</label></div><br/><div class="children"><div class="content">This artificial limitation sounds very much like a purposeful limitation to gather licensing fees.</div><br/></div></div><div id="38399476" class="c"><input type="checkbox" id="c-38399476" checked=""/><div class="controls bullet"><span class="by">xchip</span><span>|</span><a href="#38400816">prev</a><span>|</span><label class="collapse" for="c-38399476">[-]</label><label class="expand" for="c-38399476">[1 more]</label></div><br/><div class="children"><div class="content">What a week written article</div><br/></div></div></div></div></div></div></div></body></html>