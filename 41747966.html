<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728205269160" as="style"/><link rel="stylesheet" href="styles.css?v=1728205269160"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.linuxfromscratch.org/index.html">Linux from Scratch</a> <span class="domain">(<a href="https://www.linuxfromscratch.org">www.linuxfromscratch.org</a>)</span></div><div class="subtext"><span>udev4096</span> | <span>140 comments</span></div><br/><div><div id="41749857" class="c"><input type="checkbox" id="c-41749857" checked=""/><div class="controls bullet"><span class="by">cloudripper</span><span>|</span><a href="#41750936">next</a><span>|</span><label class="collapse" for="c-41749857">[-]</label><label class="expand" for="c-41749857">[19 more]</label></div><br/><div class="children"><div class="content">I gave LFS a go earlier this year. I learned a lot through the process - but I definitely went outside the guardrails. I use NixOS as my daily driver and found myself curious of whether I could complete LFS using a &quot;Nix&quot; approach. I was only a basic Nix user at that time and that choice made a difficult process much more difficult. However, the declarative nature of Nix meant that I had clear notes of every step of my process - and if something didn&#x27;t work, I could backtrack and troubleshoot to find the root of the cause. The end result is here [0].<p>My understanding of Linux, of bootstrapping, cross-compilation, and Nix has grown tremendously as a result of the time I took on this project - and I still go back and reference the work from time to time. When I get some time to revisit the Nix-based LFS project, there are quite a few things I would like to clean-up, including setting kernel configs and handling post-build permissions.<p>Nix-complexities aside, I highly recommend LFS if you like to understand how things work and don&#x27;t mind a little suffering along the way.<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;cloudripper&#x2F;NixLFS">https:&#x2F;&#x2F;github.com&#x2F;cloudripper&#x2F;NixLFS</a></div><br/><div id="41752728" class="c"><input type="checkbox" id="c-41752728" checked=""/><div class="controls bullet"><span class="by">hi-v-rocknroll</span><span>|</span><a href="#41749857">parent</a><span>|</span><a href="#41751979">next</a><span>|</span><label class="collapse" for="c-41752728">[-]</label><label class="expand" for="c-41752728">[4 more]</label></div><br/><div class="children"><div class="content">While Nix&#x2F;NixOS solved RPM dependency hell and side-by-side multiple concurrent version installation issues, it created its own problems.<p>The problem with Nix&#x2F;NixOS is everything is too isolated to be configurable or usable, and so almost everything is broken because it doesn&#x27;t work like any other OS. Chasing down all of the oddities and gotcha problems becomes a full-time IT job that slows everything else down, and then with a fragile special snowflake of patches and workarounds, it becomes very expensive and slow to do anything or to count on it being reliable. Furthermore, the syntax and nature of the packaging DSL is also too clever special snowflake that could&#x27;ve made do with declarative data or imperative procedural with something widespread like Python, Bourne shell, or JS to reduce the friction of customization and contribution.<p>Like Qubes, an over-optimization for particular goal(s) ends up becoming Achille&#x27;s footguns because of a lack of compatibility and usability with everything else that came before.</div><br/><div id="41753505" class="c"><input type="checkbox" id="c-41753505" checked=""/><div class="controls bullet"><span class="by">ertian</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752728">parent</a><span>|</span><a href="#41753545">next</a><span>|</span><label class="collapse" for="c-41753505">[-]</label><label class="expand" for="c-41753505">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re basically just saying it&#x27;s unfamiliar, and not universal yet.<p>In my experience, using &amp; configuring NixOS is much simpler and easier than most distros...until it&#x27;s not, at which point, yes, the difficulty curve is very steep.<p>Even in those cases, though, it&#x27;s got the nice feature that once it&#x27;s solved, <i>it&#x27;s solved</i>. All the config is in one place, and you can apply the same config across all your hosts. You don&#x27;t get those situations where you get something working after tweaking configs, env vars and systems jobs, and can&#x27;t remember how to reproduce it.<p>And though some of the conventions around NixOS are pretty arcane and convoluted (though the language itself is pretty simple), it has the advantage that you only need to learn it once and you can use it all over, instead of switching between bash, python, yaml, toml, systemd units and even more obscure formats (nginx, apache, postfix, etc).<p>IMHO, the tradeoff is completely worth it.</div><br/></div></div><div id="41753545" class="c"><input type="checkbox" id="c-41753545" checked=""/><div class="controls bullet"><span class="by">VTimofeenko</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752728">parent</a><span>|</span><a href="#41753505">prev</a><span>|</span><a href="#41753125">next</a><span>|</span><label class="collapse" for="c-41753545">[-]</label><label class="expand" for="c-41753545">[1 more]</label></div><br/><div class="children"><div class="content">Chasing down oddities on predictably isolated environments is much easier though. And since the environment is declarative, one can actually roll back to the previous working state without breaking other things. For that alone the learning curve of the DSL is worth it IMHO, but I am not saying that the language and ecosystem are perfect just the way they are.</div><br/></div></div><div id="41753125" class="c"><input type="checkbox" id="c-41753125" checked=""/><div class="controls bullet"><span class="by">therein</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752728">parent</a><span>|</span><a href="#41753545">prev</a><span>|</span><a href="#41751979">next</a><span>|</span><label class="collapse" for="c-41753125">[-]</label><label class="expand" for="c-41753125">[1 more]</label></div><br/><div class="children"><div class="content">If the DSL was easier to work with, more familiar; and if there was some good IDE support with autocomplete and documentation, I think it would be amazing.</div><br/></div></div></div></div><div id="41751979" class="c"><input type="checkbox" id="c-41751979" checked=""/><div class="controls bullet"><span class="by">tomberek</span><span>|</span><a href="#41749857">parent</a><span>|</span><a href="#41752728">prev</a><span>|</span><a href="#41752119">next</a><span>|</span><label class="collapse" for="c-41751979">[-]</label><label class="expand" for="c-41751979">[2 more]</label></div><br/><div class="children"><div class="content">This is excellent. Have you considered making a presentation or a write-up of the experience?</div><br/><div id="41752037" class="c"><input type="checkbox" id="c-41752037" checked=""/><div class="controls bullet"><span class="by">cloudripper</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41751979">parent</a><span>|</span><a href="#41752119">next</a><span>|</span><label class="collapse" for="c-41752037">[-]</label><label class="expand" for="c-41752037">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the input. A couple of folks suggested that recently as well. Once I can clear up some bandwidth, I do intend to follow through on that. It gave me a huge appreciation for Nix as a build system, and I would love to share that if it were helpful to others.</div><br/></div></div></div></div><div id="41752119" class="c"><input type="checkbox" id="c-41752119" checked=""/><div class="controls bullet"><span class="by">ayakang31415</span><span>|</span><a href="#41749857">parent</a><span>|</span><a href="#41751979">prev</a><span>|</span><a href="#41752281">next</a><span>|</span><label class="collapse" for="c-41752119">[-]</label><label class="expand" for="c-41752119">[11 more]</label></div><br/><div class="children"><div class="content">The first thing that pops out on Google search of NixOS is &quot;Declarative builds and deployments.&quot; What exactly is NixOS different from other distros, such as Ubuntu?</div><br/><div id="41752154" class="c"><input type="checkbox" id="c-41752154" checked=""/><div class="controls bullet"><span class="by">hollerith</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752119">parent</a><span>|</span><a href="#41752281">next</a><span>|</span><label class="collapse" for="c-41752154">[-]</label><label class="expand" for="c-41752154">[10 more]</label></div><br/><div class="children"><div class="content">NixOS separates packages. If the package foo contains a file &#x2F;usr&#x2F;bin&#x2F;foo, NixOS installs it in &#x2F;nix&#x2F;store&#x2F;67c25d7ad7b2b64c67c25d7ad7b2b64c-foo&#x2F;usr&#x2F;bin&#x2F;foo. In order to make this separation work, Nix must sometimes rewrite binaries so that all references in the binary to &#x2F;usr&#x2F;bin&#x2F;foo becomes references to &#x2F;nix&#x2F;store&#x2F;67c25d7ad7b2b64c67c25d7ad7b2b64c-foo&#x2F;usr&#x2F;bin&#x2F;foo.<p>The advantage of this approach is that it gives more control to the distro maintainers and the admins of the computer, taking that control away from the &quot;upstream&quot; maintainers of the software being packaged. For example the software being packaged cannot just call the library bar because bar is not at &#x2F;usr&#x2F;lib&#x2F;bar.so like it is in most Linux distros -- it is at &#x2F;nix&#x2F;store&#x2F;17813e8b97b84e0317813e8b97b84e03-bar&#x2F;usr&#x2F;lib&#x2F;bar.so, but of course the software does not know that unless the person creating the Nix package (the packager) arranges for the software to know it (again sometimes by doing a search-and-replace on binaries).<p>If the upstream maintainer of foo thinks foo should link to version 6 of library bar, but you think it should link to version 5, NixOS makes it easier for you to arrange for foo to link to version 5 than most distros do (even if version 6 of bar is needed by other packages you have installed which you need to use at the same times as your using foo).<p>Note that <i>if</i> this separation of packages imposed by NixOS has any beneficial security properties, it is merely security through obscurity because there is nothing preventing a binary from covertly searching through the directory listing of &#x2F;nix&#x2F;store&#x2F; for the name of the library it wants to call. Nevertheless it turns out the be useful to seize some control away from upstream in this way even if technically upstream could seize the control back if it were willing to complicate the software to do so.<p>People, <i>including</i> the creator of Nix and NixOS (Dolstra), will tell you that NixOS&#x27;s main advantage is &quot;declarativeness&quot; (which in the past Dolstra called &quot;purity&quot;) or the fact that the compilation &#x2F; building process is deterministic. I believe both positions (NixOS&#x27;s advantage is declarativeness and the advantage is deterministic builds) are wrong. Specifically, I believe that although deterministic builds are useful, the separation of packages I described is much more useful to most users and prospective users of NixOS.<p>Another way to summarize it is that NixOS package maintainers routinely modify the software they are packaging to use less &quot;ambient authority&quot;.</div><br/><div id="41752352" class="c"><input type="checkbox" id="c-41752352" checked=""/><div class="controls bullet"><span class="by">_ank_it</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752154">parent</a><span>|</span><a href="#41753685">next</a><span>|</span><label class="collapse" for="c-41752352">[-]</label><label class="expand" for="c-41752352">[8 more]</label></div><br/><div class="children"><div class="content">Extremely noob here, I was trying nixos and got real confused about how to install python packages as pip was not allowed at system level.</div><br/><div id="41752849" class="c"><input type="checkbox" id="c-41752849" checked=""/><div class="controls bullet"><span class="by">j0057</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752352">parent</a><span>|</span><a href="#41752959">next</a><span>|</span><label class="collapse" for="c-41752849">[-]</label><label class="expand" for="c-41752849">[1 more]</label></div><br/><div class="children"><div class="content">If other distros allow pip-installing into the system, that could be considered a bug or at least an anti-feature, because it&#x27;s almost always a bad idea: it can clash with distro-managed Python packages, it will break on Python upgrades, and sooner or later you will run into version conflicts (a.k.a. DLL Hell). Recent versions of pip refuse to install into the system by default, for all of these reasons.<p>It&#x27;s better to instead pip-install Python packages into virtual environments, recent Pythons havr `venv` built in for this purpose. For user-scoped or system-scoped utilities, `pipx` can manage dedicated virtual environments and symlink them into the search path.</div><br/></div></div><div id="41752959" class="c"><input type="checkbox" id="c-41752959" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752352">parent</a><span>|</span><a href="#41752849">prev</a><span>|</span><a href="#41753315">next</a><span>|</span><label class="collapse" for="c-41752959">[-]</label><label class="expand" for="c-41752959">[4 more]</label></div><br/><div class="children"><div class="content">Nix purists would say that you should use flakes to declare all the dependencies for each project, and reference all Python dependencies as Nix packages there. Nix effectively tries to replace every package manager in existence, so all Python, Ruby, Emacs, etc. dependency trees are duplicated in Nix.<p>I think this is insane. Not only will many packages be missing from Nix, you will also have to wait for the upstream changes to actually propagate to Nix repositories. This all assumes, of course, that there are no packaging issues or incompatibilities in this repackaging.<p>This is one of the ways that Nix sometimes just gets in your way. I&#x27;ve been using Nix(OS) for several years now, and this still bothers me.<p>Instead of doing this, For Python specifically I would suggest installing pyenv, which Nix packages. Then enter a nix-shell with a derivation thingie[1,2], and install Python as usual with pyenv. Then you can use any Python version, and with pyenv-virtualenv (which Nix _doesn&#x27;t_ package...), you can use venvs as you&#x27;re used to. Sure, you don&#x27;t get the benefits of the declarative approach and isolation as with &quot;the Nix way&quot;, and you may run into other issues, but at least it&#x27;s a workflow well known to Python devs. Hope it helps!<p>[1]: <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;imiric&#x2F;3422258c4df9dacb4128ff94d31e9079" rel="nofollow">https:&#x2F;&#x2F;gist.github.com&#x2F;imiric&#x2F;3422258c4df9dacb4128ff94d31e9...</a><p>[2]: It took me way longer than I would like to admit to figure this out... This shouldn&#x27;t be so difficult!</div><br/><div id="41753139" class="c"><input type="checkbox" id="c-41753139" checked=""/><div class="controls bullet"><span class="by">therein</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752959">parent</a><span>|</span><a href="#41753315">next</a><span>|</span><label class="collapse" for="c-41753139">[-]</label><label class="expand" for="c-41753139">[3 more]</label></div><br/><div class="children"><div class="content">Ironically, that&#x27;s when you create an Arch container in LXC.</div><br/><div id="41753796" class="c"><input type="checkbox" id="c-41753796" checked=""/><div class="controls bullet"><span class="by">hollerith</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41753139">parent</a><span>|</span><a href="#41753168">next</a><span>|</span><label class="collapse" for="c-41753796">[-]</label><label class="expand" for="c-41753796">[1 more]</label></div><br/><div class="children"><div class="content">I would try installing pacman in the same filesystem NixOS is in.</div><br/></div></div><div id="41753168" class="c"><input type="checkbox" id="c-41753168" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41753139">parent</a><span>|</span><a href="#41753796">prev</a><span>|</span><a href="#41753315">next</a><span>|</span><label class="collapse" for="c-41753168">[-]</label><label class="expand" for="c-41753168">[1 more]</label></div><br/><div class="children"><div class="content">Meh, maybe. Containers make everything more difficult for local development, though. That would be my last resort in this case.</div><br/></div></div></div></div></div></div><div id="41753315" class="c"><input type="checkbox" id="c-41753315" checked=""/><div class="controls bullet"><span class="by">nextos</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752352">parent</a><span>|</span><a href="#41752959">prev</a><span>|</span><a href="#41752445">next</a><span>|</span><label class="collapse" for="c-41753315">[-]</label><label class="expand" for="c-41753315">[1 more]</label></div><br/><div class="children"><div class="content">The right way is to compose the base Python package with the libraries you want. For example, this gives you an ephemeral environment with the latest python3 plus NumPy:<p><pre><code>  nix-shell -p &#x27;python3.withPackages(ps: [ ps.numpy ])&#x27;
</code></pre>
In case of Python, you can also go for a simpler option that avoids composing Python with its packages, but that gives worse isolation:<p><pre><code>  nix-shell -p python3 python3Packages.numpy
</code></pre>
If other packages were present in that ephemeral environment, aside from python3, they could see NumPy in a global directory. That&#x27;s why the first option is preferable, as it offers better isolation. In Nix, some languages only let you use libraries with something like the first option. See the Nix user wiki for further information: <a href="https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Python" rel="nofollow">https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Python</a>.</div><br/></div></div><div id="41752445" class="c"><input type="checkbox" id="c-41752445" checked=""/><div class="controls bullet"><span class="by">hebocon</span><span>|</span><a href="#41749857">root</a><span>|</span><a href="#41752352">parent</a><span>|</span><a href="#41753315">prev</a><span>|</span><a href="#41753685">next</a><span>|</span><label class="collapse" for="c-41752445">[-]</label><label class="expand" for="c-41752445">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m new as well - it&#x27;s good to remember that NixOS, nix-shell, and the programming language of Nix are all separate. You can start with your current distro to learn nix-shell first.<p>I still have no idea how it all works but it seemed prudent for me to at least try.</div><br/></div></div></div></div></div></div></div></div><div id="41752281" class="c"><input type="checkbox" id="c-41752281" checked=""/><div class="controls bullet"><span class="by">ocean_moist</span><span>|</span><a href="#41749857">parent</a><span>|</span><a href="#41752119">prev</a><span>|</span><a href="#41750936">next</a><span>|</span><label class="collapse" for="c-41752281">[-]</label><label class="expand" for="c-41752281">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This results in a significant storage footprint, often exceeding 12GB.<p>12GB being considered significant makes me feel good, a return to simplicity. The other day I couldn&#x27;t provision a VM with less than 512GB of storage...<p>I can&#x27;t even play my favorite games without giving up &gt;150GBs...</div><br/></div></div></div></div><div id="41750936" class="c"><input type="checkbox" id="c-41750936" checked=""/><div class="controls bullet"><span class="by">dvno42</span><span>|</span><a href="#41749857">prev</a><span>|</span><a href="#41748823">next</a><span>|</span><label class="collapse" for="c-41750936">[-]</label><label class="expand" for="c-41750936">[7 more]</label></div><br/><div class="children"><div class="content">Between LFS and Stage 1 and 2 Gentoo installs back in the early 2000s during High School, this gave me a big leg up in my journey of learning about computers and Linux. I can&#x27;t thank those project maintainers enough for helping me get my footing at such a young age and peaking my interest in computing. I ended up printing out the LFS book in segments on one of the printers in High School and brought it home in pieces to use on the home computer.</div><br/><div id="41751205" class="c"><input type="checkbox" id="c-41751205" checked=""/><div class="controls bullet"><span class="by">tehf0x</span><span>|</span><a href="#41750936">parent</a><span>|</span><a href="#41752898">next</a><span>|</span><label class="collapse" for="c-41751205">[-]</label><label class="expand" for="c-41751205">[1 more]</label></div><br/><div class="children"><div class="content">Amen to that! 20 years later this was my gateway drug into being addicted to computers and gave me my full stack understanding I still use every day at work. &lt;3 Gentoo and the friendly geek at the coffee place I worked at when I was 14 who gave me my first hit and held my hand through what is effectively mental torture for most people</div><br/></div></div><div id="41752898" class="c"><input type="checkbox" id="c-41752898" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#41750936">parent</a><span>|</span><a href="#41751205">prev</a><span>|</span><a href="#41755209">next</a><span>|</span><label class="collapse" for="c-41752898">[-]</label><label class="expand" for="c-41752898">[1 more]</label></div><br/><div class="children"><div class="content">Same, ricing Gentoo taught me a <i>lot</i> about linux and mainly how to fix it. 20+ year career later... I&#x27;m still learning how to fix it :)</div><br/></div></div><div id="41755209" class="c"><input type="checkbox" id="c-41755209" checked=""/><div class="controls bullet"><span class="by">dontdieych</span><span>|</span><a href="#41750936">parent</a><span>|</span><a href="#41752898">prev</a><span>|</span><a href="#41752771">next</a><span>|</span><label class="collapse" for="c-41755209">[-]</label><label class="expand" for="c-41755209">[1 more]</label></div><br/><div class="children"><div class="content">Hey, I&#x27;m looking at mirror. :D<p>&gt; Between LFS and Stage 1 and 2 Gentoo installs back in the early 2000s<p>&gt; I ended up printing out the LFS book in segments on one of the printers<p>LFS and Gentoo is what made me understand Linux system.</div><br/></div></div><div id="41752771" class="c"><input type="checkbox" id="c-41752771" checked=""/><div class="controls bullet"><span class="by">hi-v-rocknroll</span><span>|</span><a href="#41750936">parent</a><span>|</span><a href="#41755209">prev</a><span>|</span><a href="#41751391">next</a><span>|</span><label class="collapse" for="c-41752771">[-]</label><label class="expand" for="c-41752771">[2 more]</label></div><br/><div class="children"><div class="content">Yep. Recompile all the things with different USE flags.</div><br/><div id="41752909" class="c"><input type="checkbox" id="c-41752909" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#41750936">root</a><span>|</span><a href="#41752771">parent</a><span>|</span><a href="#41751391">next</a><span>|</span><label class="collapse" for="c-41752909">[-]</label><label class="expand" for="c-41752909">[1 more]</label></div><br/><div class="children"><div class="content">Recompiling the entire openoffice so it loads 1 second quicker.. just using a hacked up distcc cluster and a day&#x27;s worth of CPU time. Bargain!</div><br/></div></div></div></div><div id="41751391" class="c"><input type="checkbox" id="c-41751391" checked=""/><div class="controls bullet"><span class="by">oorza</span><span>|</span><a href="#41750936">parent</a><span>|</span><a href="#41752771">prev</a><span>|</span><a href="#41748823">next</a><span>|</span><label class="collapse" for="c-41751391">[-]</label><label class="expand" for="c-41751391">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I ended up printing out the LFS book in segments on one of the printers in High School and brought it home in pieces to use on the home computer.<p>I am actually flabbergasted there&#x27;s another human being on Earth that has this exact same story as me.  I used one of those giant 3 ring legal binders for my printed copy, lmao.</div><br/></div></div></div></div><div id="41748823" class="c"><input type="checkbox" id="c-41748823" checked=""/><div class="controls bullet"><span class="by">sieste</span><span>|</span><a href="#41750936">prev</a><span>|</span><a href="#41752261">next</a><span>|</span><label class="collapse" for="c-41748823">[-]</label><label class="expand" for="c-41748823">[49 more]</label></div><br/><div class="children"><div class="content">I really like the idea, really tried following the process several times. But each time it just turned into a copy-incomprehensible-commands-into-the-terminal exercise at some point, and I lost motivation. Did anyone experience the same?</div><br/><div id="41750048" class="c"><input type="checkbox" id="c-41750048" checked=""/><div class="controls bullet"><span class="by">aflukasz</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41749248">next</a><span>|</span><label class="collapse" for="c-41750048">[-]</label><label class="expand" for="c-41750048">[3 more]</label></div><br/><div class="children"><div class="content">It feels to me like you have approached this with a wrong mindset, like you focused too much on finishing the whole process.<p>With LFS you must put substantial amount of value into the journey itself. It&#x27;s not about copy-pasting commands, it&#x27;s about trying to actually understand what and, more importantly, why your are doing each step. My recollection is that LFS docs were good in helping with that. Or maybe it was coming from reading docs of the actual components as I went along? I don&#x27;t remember, probably some mix of both.<p>I did set LFS system up once, I think it was 2001 or 2002. I specifically remember that it took many days (due to compilation times), was very interesting, and at the end I was putting final touches to my mutt and slrn configs. With a vague memory that I had some TODO for mutt that I didn&#x27;t finish, still lingering in my mind, apparently! :)<p>All in all, great and satisfying learning experience.<p>I would not use such system as a daily driver, though. I think it&#x27;s good only if you have time and want to learn. I&#x27;m curious if someone here is brave enough to have different approach.</div><br/><div id="41751404" class="c"><input type="checkbox" id="c-41751404" checked=""/><div class="controls bullet"><span class="by">oorza</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41750048">parent</a><span>|</span><a href="#41753389">next</a><span>|</span><label class="collapse" for="c-41751404">[-]</label><label class="expand" for="c-41751404">[1 more]</label></div><br/><div class="children"><div class="content">LFS to a computer scientist should be like soap to a chemist.  Something you can do as a fun, educational experiment, but not where you source a necessary tool for your life.</div><br/></div></div><div id="41753389" class="c"><input type="checkbox" id="c-41753389" checked=""/><div class="controls bullet"><span class="by">NegativeK</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41750048">parent</a><span>|</span><a href="#41751404">prev</a><span>|</span><a href="#41749248">next</a><span>|</span><label class="collapse" for="c-41753389">[-]</label><label class="expand" for="c-41753389">[1 more]</label></div><br/><div class="children"><div class="content">I daily drove it for a few months, back in the early 2000s (like many in this thread, it seems.)<p>I kept it updated by subscribing to Freshmeat emails for releases, and I&#x27;d download and install the tarball.<p>My review is that I&#x27;m glad I did it, it&#x27;s a terrible idea, and it&#x27;s debatable (honestly, not facetiously) as to whether the classes I skipped were more valuable.</div><br/></div></div></div></div><div id="41749248" class="c"><input type="checkbox" id="c-41749248" checked=""/><div class="controls bullet"><span class="by">vbezhenar</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41750048">prev</a><span>|</span><a href="#41749318">next</a><span>|</span><label class="collapse" for="c-41749248">[-]</label><label class="expand" for="c-41749248">[2 more]</label></div><br/><div class="children"><div class="content">I built my LFS around 20 years ago. While I followed instructions most of the time, I built some components myself. I remember that I wrote by own init scripts and I think I wrote my own initramfs (not completely sure about it, but I definitely remember tinkering with it and it probably was LFS).<p>I also wanted to implement an isolated build system and my own package manager (basically tar wrapper with file database to be able to uninstall, no fancy dependency stuff), but containers were not invented back then and my skills were not good enough to properly utilize fakeroot, so it never was implemented, although I spent some time experimenting. Today I would do it with docker, exciting time.</div><br/><div id="41749901" class="c"><input type="checkbox" id="c-41749901" checked=""/><div class="controls bullet"><span class="by">johnisgood</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749248">parent</a><span>|</span><a href="#41749318">next</a><span>|</span><label class="collapse" for="c-41749901">[-]</label><label class="expand" for="c-41749901">[1 more]</label></div><br/><div class="children"><div class="content">Wanting to (and doing it) make my own package manager because of LFS and minimalism in general, good times.</div><br/></div></div></div></div><div id="41749318" class="c"><input type="checkbox" id="c-41749318" checked=""/><div class="controls bullet"><span class="by">noufalibrahim</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41749248">prev</a><span>|</span><a href="#41748911">next</a><span>|</span><label class="collapse" for="c-41749318">[-]</label><label class="expand" for="c-41749318">[2 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t tried this but I have used <a href="https:&#x2F;&#x2F;github.com&#x2F;MichielDerhaeg&#x2F;build-linux">https:&#x2F;&#x2F;github.com&#x2F;MichielDerhaeg&#x2F;build-linux</a> during my trainings and all my students quite enjoyed the experience. It basically builds a Kernel, libc, busybox, init etc. and gets the whole thing running inside qemu.<p>I found it quite educational and worth the little time I spent on it.</div><br/><div id="41753572" class="c"><input type="checkbox" id="c-41753572" checked=""/><div class="controls bullet"><span class="by">sheepybloke</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749318">parent</a><span>|</span><a href="#41748911">next</a><span>|</span><label class="collapse" for="c-41753572">[-]</label><label class="expand" for="c-41753572">[1 more]</label></div><br/><div class="children"><div class="content">I agree! I find systems like OpenEmbedded&#x27;s Yocto to be super helpful with learning how to build Linux.</div><br/></div></div></div></div><div id="41748911" class="c"><input type="checkbox" id="c-41748911" checked=""/><div class="controls bullet"><span class="by">pushupentry1219</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41749318">prev</a><span>|</span><a href="#41749825">next</a><span>|</span><label class="collapse" for="c-41748911">[-]</label><label class="expand" for="c-41748911">[14 more]</label></div><br/><div class="children"><div class="content">When I was in highschool I had a bunch of free time outside of school days. I used a YouTube guide to install Arch. I failed many many times. But in doing so I almost kind of learnt what each command was doing.<p>I had the same experience when I installed Gentoo.
In both cases at first I was copy&#x2F;pasting commands, but through failure I ended up understanding a lot of what the commands did.<p>And what someone else said below is true as well, actually try and force yourself to understand what you&#x27;re typing. Even briefly just scanning a man page helps a lot.</div><br/><div id="41749639" class="c"><input type="checkbox" id="c-41749639" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41748911">parent</a><span>|</span><a href="#41749825">next</a><span>|</span><label class="collapse" for="c-41749639">[-]</label><label class="expand" for="c-41749639">[13 more]</label></div><br/><div class="children"><div class="content">I wonder if the wiki would have been an easier start, than YouTube. YouTube is nice for learning things with a visual component, but installing Linux is all text, all the time. The ability to easily hop around and re-read sections on the wiki where necessary (I mean, jumping around is possible on YouTube of course, but it is really easy on the wiki) seem like it would be a big help.</div><br/><div id="41754092" class="c"><input type="checkbox" id="c-41754092" checked=""/><div class="controls bullet"><span class="by">pushupentry1219</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749639">parent</a><span>|</span><a href="#41750881">next</a><span>|</span><label class="collapse" for="c-41754092">[-]</label><label class="expand" for="c-41754092">[1 more]</label></div><br/><div class="children"><div class="content">Arch wiki would&#x27;ve almost definitely been a way better start!<p>But I had _just_ ventured into this space. And at the time the wiki format wasn&#x27;t something I&#x27;d ever seen outside of Wikipedia so i never put 2-2 together to figure out the wiki could be used as an install guide. Plus the walls of text were kind of intimidating?<p>So I jumped to what i knew; YouTube tutorials.</div><br/></div></div><div id="41750881" class="c"><input type="checkbox" id="c-41750881" checked=""/><div class="controls bullet"><span class="by">pino82</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749639">parent</a><span>|</span><a href="#41754092">prev</a><span>|</span><a href="#41749825">next</a><span>|</span><label class="collapse" for="c-41750881">[-]</label><label class="expand" for="c-41750881">[11 more]</label></div><br/><div class="children"><div class="content">Reading and actually understanding non-trivial text is hard if you are part of a generation that was never challenged to actually learn it. For those people, YouTube (and a few similar shops) are the default way to consume any content. That&#x27;s what they do all the time. Sure, they somehow know those legacy emojis that you call the latin alphabet. It will just not lead to a deep understanding of text.<p>Another aspect is probably that watching YT clips always has a feeling of being part of something. Some movement, some bubble, some society, whatever. They don&#x27;t install Arch bcs they want to learn sth, or make some use of the OS. They do it _because_ they found it on YT and they want to be part of it. Maybe they even write comments or make a &#x27;reaction&#x27; video. Today it&#x27;s Arch, tomorrow it&#x27;s a special pizza recipe from that other guy on Insta. It doesn&#x27;t really matter.</div><br/><div id="41751138" class="c"><input type="checkbox" id="c-41751138" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41750881">parent</a><span>|</span><a href="#41754151">next</a><span>|</span><label class="collapse" for="c-41751138">[-]</label><label class="expand" for="c-41751138">[9 more]</label></div><br/><div class="children"><div class="content">I dunno. I’m a millennial so all sorts of stuff was just ascribed to my generation. As a result, I tend to just assume these differences are overstated.<p>I worked with college students fairly recently. They did often reach reflexively for video. But when the written material was good enough, they used it.</div><br/><div id="41751270" class="c"><input type="checkbox" id="c-41751270" checked=""/><div class="controls bullet"><span class="by">chgs</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41751138">parent</a><span>|</span><a href="#41752590">next</a><span>|</span><label class="collapse" for="c-41751270">[-]</label><label class="expand" for="c-41751270">[5 more]</label></div><br/><div class="children"><div class="content">Us millenials are old. My 43rd birthday is coming up fast.<p>College students are the next generation. Most millenials remember dialup or at most a time before mainstream streaming video. College students today have seen their formative years being constantly on with instant access to more material in any format they want than they could ever grasp the concept of.</div><br/><div id="41751653" class="c"><input type="checkbox" id="c-41751653" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41751270">parent</a><span>|</span><a href="#41752590">next</a><span>|</span><label class="collapse" for="c-41751653">[-]</label><label class="expand" for="c-41751653">[4 more]</label></div><br/><div class="children"><div class="content">Yeah, I was just abstracting from the experience of having everything I did attributed to my generation, and then applying that experience to the next generation.<p>They handle some things a little differently and sometimes reach for different defaults, but in the end, it isn’t like they are coming from some totally alien planet or anything like that.</div><br/><div id="41752632" class="c"><input type="checkbox" id="c-41752632" checked=""/><div class="controls bullet"><span class="by">pino82</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41751653">parent</a><span>|</span><a href="#41752590">next</a><span>|</span><label class="collapse" for="c-41752632">[-]</label><label class="expand" for="c-41752632">[3 more]</label></div><br/><div class="children"><div class="content">Very often when I discuss it, someone argues along the lines of &quot;yes, it looks different, and maybe even weird at first glance, but everything is indeed fine, and look how access to all that content even makes them more competent than older generations in many ways&quot;.<p>And I&#x27;m always asking myself what is wrong with me that all that completely does not reflect my practical experiences at all.</div><br/><div id="41753153" class="c"><input type="checkbox" id="c-41753153" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41752632">parent</a><span>|</span><a href="#41752590">next</a><span>|</span><label class="collapse" for="c-41753153">[-]</label><label class="expand" for="c-41753153">[2 more]</label></div><br/><div class="children"><div class="content">I dunno, hard to say, if our experiences don’t match maybe we’re just in different environments. No particular reason to assume mine is the ground truth of course.<p>One possible skew could be: often it is professors who complain about this stuff, but the type of person who goes on to be a professor tends to be pretty clever and surround themselves with clever friends. So if you are a professor or a highly skilled programmer or something, keep in mind that you probably have a rosy picture of the average competence of the past.</div><br/><div id="41753318" class="c"><input type="checkbox" id="c-41753318" checked=""/><div class="controls bullet"><span class="by">pino82</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41753153">parent</a><span>|</span><a href="#41752590">next</a><span>|</span><label class="collapse" for="c-41753318">[-]</label><label class="expand" for="c-41753318">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not clever, no. A few of my friends are, but I never was. I would call myself a skilled software developer, yes. And other, more skilled ones, would maybe disagree. :) But all that says nothing about real life cleverness.<p>I can clearly see that there are unfortunate patterns, even back then when I was young, and it just got worse and worse. Which is no surprise imho. Of course it propagates. If the parents are already &#x27;social media&#x27; addicts, and their friends, and the teachers as well, what shall happen with their children. The issues just &#x27;normalize&#x27; - that&#x27;s what we see, but it doesn&#x27;t _solve_ them.<p>The thing is, our societies love to chatter about all kinds of issues and troubles, as long as they are somewhere else or at least the bad guys are far enough away. Something not binding. But as soon as an inconvenient discussion about themselves start, about what they do wrong and what issues we get by them, it turns into silence. So we also do not discuss much about more and more incompetent social media addicts. Since the majority is addicted, and the ground for public discussions is social media only nowadays, who should even start this discussion - and where...</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41752590" class="c"><input type="checkbox" id="c-41752590" checked=""/><div class="controls bullet"><span class="by">pino82</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41751138">parent</a><span>|</span><a href="#41751270">prev</a><span>|</span><a href="#41754151">next</a><span>|</span><label class="collapse" for="c-41752590">[-]</label><label class="expand" for="c-41752590">[3 more]</label></div><br/><div class="children"><div class="content">We are probably more or less the same age. And yes, they said it about us as well. And they were right. It&#x27;s a slow downward trend. And it&#x27;s still continuing. Do you also see these young mothers on the streets which would just ram you with their baby buggy, because they are deeeeply involved into some toktok swiping ceremony? Addicts. What do we expect from that?<p>&gt; But when the written material was good enough, they used it.<p>To some extent, yes, as we all do, they will try to make a good show for you when they feel that there is an audience for that show and it might somehow pay off.</div><br/><div id="41753412" class="c"><input type="checkbox" id="c-41753412" checked=""/><div class="controls bullet"><span class="by">NegativeK</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41752590">parent</a><span>|</span><a href="#41754151">next</a><span>|</span><label class="collapse" for="c-41753412">[-]</label><label class="expand" for="c-41753412">[2 more]</label></div><br/><div class="children"><div class="content">To be fair, though, people have been complaining about the younger generations for hundreds and thousands of years.<p>I&#x27;ve read accounts of newspapers and common books rotting people&#x27;s minds (including the &quot;they aren&#x27;t talking to each other!&quot; concern,) and ancient Greeks complaining about the next generation.<p>I can&#x27;t negate any specific point this way, but I do try to think about history repeating itself whenever I see someone notably younger annoying me.<p>(Also, the complaints that younger generations have about the older generations are just as ancient.)</div><br/><div id="41753490" class="c"><input type="checkbox" id="c-41753490" checked=""/><div class="controls bullet"><span class="by">pino82</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41753412">parent</a><span>|</span><a href="#41754151">next</a><span>|</span><label class="collapse" for="c-41753490">[-]</label><label class="expand" for="c-41753490">[1 more]</label></div><br/><div class="children"><div class="content">Yes, another thing that often happens in those discussions: Someone cites Socrates with very similar complaints. To me this is not a contradiction. E.g. maybe the Socrates era has seen it going downhill as we do today, and between there were times with upward movement (maybe forced by some bigger event or development - things are complex). I don&#x27;t know.<p>What I know is, when I talk to e.g. colleagues, the younger there are, the more they feel like materialized YT clips. And that&#x27;s not a good thing. Of course I try to compensate for their younger age when I do the comparison. And of course I could be wrong, e.g. biased in some way. But I would sat that I really try to be fair, and I must be veeeery off if you say there are no such issues.</div><br/></div></div></div></div></div></div></div></div><div id="41754151" class="c"><input type="checkbox" id="c-41754151" checked=""/><div class="controls bullet"><span class="by">pushupentry1219</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41750881">parent</a><span>|</span><a href="#41751138">prev</a><span>|</span><a href="#41749825">next</a><span>|</span><label class="collapse" for="c-41754151">[-]</label><label class="expand" for="c-41754151">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Reading and actually understanding non-trivial text is hard if you are part of a generation that was never challenged to actually learn it.<p>I don&#x27;t think this is fair to say. 
Could be said for the generation after me. Maybe not. I think this kind of sweeping generalisation is not fair on any generation though. There are motivated and lazy people in all generations, as there are people with good&#x2F;bad attention spans.<p>And what you&#x27;ve said about YouTube might be true, but it wasn&#x27;t for me. I did not go to YouTube for the community aspect, but only because like I said before I didn&#x27;t even know that the Arch wiki was an install guide as well.</div><br/></div></div></div></div></div></div></div></div><div id="41749825" class="c"><input type="checkbox" id="c-41749825" checked=""/><div class="controls bullet"><span class="by">kobalsky</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41748911">prev</a><span>|</span><a href="#41754636">next</a><span>|</span><label class="collapse" for="c-41749825">[-]</label><label class="expand" for="c-41749825">[5 more]</label></div><br/><div class="children"><div class="content">I grabbed a random page from the manual:<p><a href="https:&#x2F;&#x2F;www.linuxfromscratch.org&#x2F;lfs&#x2F;view&#x2F;stable-systemd&#x2F;chapter05&#x2F;gcc-pass1.html" rel="nofollow">https:&#x2F;&#x2F;www.linuxfromscratch.org&#x2F;lfs&#x2F;view&#x2F;stable-systemd&#x2F;cha...</a><p>Every step is explained and every used parameter is documented.</div><br/><div id="41755762" class="c"><input type="checkbox" id="c-41755762" checked=""/><div class="controls bullet"><span class="by">starfezzy</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749825">parent</a><span>|</span><a href="#41752048">next</a><span>|</span><label class="collapse" for="c-41755762">[-]</label><label class="expand" for="c-41755762">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Every step is explained and every used parameter is documented.<p>That’s almost the exact opposite of the truth, and your example demonstrates his point. Almost none of the commands—let alone their parameters—are explained, beyond a high level summary of what the goal of the step is.<p>Is this phenomenon the explanation for why almost all documentation sucks? Experienced developers delude themselves into imagining that their docs have a level of detail and explanation that they simply just don’t have?</div><br/></div></div><div id="41752048" class="c"><input type="checkbox" id="c-41752048" checked=""/><div class="controls bullet"><span class="by">ruszki</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749825">parent</a><span>|</span><a href="#41755762">prev</a><span>|</span><a href="#41751523">next</a><span>|</span><label class="collapse" for="c-41752048">[-]</label><label class="expand" for="c-41752048">[2 more]</label></div><br/><div class="children"><div class="content">I would say &quot;explained&quot;. As a layman, who worked with linux previously (and even tried LFS a long time ago), but definitely don&#x27;t have a deep understanding of linux, and eve my knowledge is not up-to-date:<p>The sed command is not explained at all. Even the description is non-sense if you don&#x27;t know already what they are talking about. What is this &quot;default directory&quot;, why do you need to set it, why there and only there, why that command works? Even the command itself is something, which I need to check the manual what the heck it does, because it&#x27;s not a simple one.<p>&gt; -enable-default-pie and --enable-default-ssp<p>The description is almost unusable. So we don&#x27;t need it, but it&#x27;s &quot;cleaner&quot;, which in this context means exactly nothing. So what happens if I left out? Nothing? Then why should I care?<p>&gt; --disable-multilib<p>Okay, it doesn&#x27;t support &quot;something&quot;. I have no idea what is multilib, or why I should care. Basically the next arguments&#x27; description tells me that because it wouldn&#x27;t work the compilation otherwise. And then..<p>&gt; --disable-threads, --disable-libatomic, --disable-libgomp, --disable-libquadmath, --disable-libssp, --disable-libvtv, --disable-libstdcxx<p>But why would they fail? I want to understand what&#x27;s happening here, and I need to blindly trust the manual because they just tell me, that &quot;they won&#x27;t work, believe us&quot;.<p>&gt; --enable-languages=c,c++<p>Why are these the only languages which we need? What are the other languages?<p>So at the end, descriptions are not really helping to understand what&#x27;s happening, if you don&#x27;t know already. The last time when I started LFS (about 10 years ago), that was my main problem. That you already need to know almost everything to understand what&#x27;s really happening, and why, or reading manuals, or trying to find basically unsearchable information (like why libatomic compiling would fail at this step). So after a while, I started the blind copy-pasting, because I didn&#x27;t have the patience of literary months, and when I realized that this was pointless, I gave up.</div><br/><div id="41753034" class="c"><input type="checkbox" id="c-41753034" checked=""/><div class="controls bullet"><span class="by">gabriel</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41752048">parent</a><span>|</span><a href="#41751523">next</a><span>|</span><label class="collapse" for="c-41753034">[-]</label><label class="expand" for="c-41753034">[1 more]</label></div><br/><div class="children"><div class="content">Go deeper. You&#x27;re right on the cusp of it since all of your questions are <i>fantastic</i>. Even digging into one of your questions will bring up highly relevant material for understanding how a Linux system functions.<p><pre><code>    &gt; The sed command is not explained at all. Even the description is non-sense if you don&#x27;t know already what they are talking about. What is this &quot;default directory&quot;, why do you need to set it, why there and only there, why that command works? Even the command itself is something, which I need to check the manual what the heck it does, because it&#x27;s not a simple one.
</code></pre>
By &quot;default directory&quot; they just mean that the upstream GCC source code has a file with default variables and they are modifying those variables with the sed command to use $prefix&#x2F;lib and $prefix&#x2F;usr&#x2F;lib instead of $prefix&#x2F;lib64 and $prefix&#x2F;usr&#x2F;lib64, e.g. lines that contain &quot;m64=&quot; and replacing &quot;lib64&quot; to be &quot;lib&quot;. This is what sed is used for: To make string substitutions based on pattern matching. Think through ways of writing the sed command and testing on your own file to see how it behaves. This will lead you to more tools like diff, grep and awk.<p><pre><code>    &gt; &gt; -enable-default-pie and --enable-default-ssp
    &gt; The description is almost unusable. So we don&#x27;t need it, but it&#x27;s &quot;cleaner&quot;, which in this context means exactly nothing. So what happens if I left out? Nothing? Then why should I care?
</code></pre>
Go back and re-read the sections up to this point. Make note that you&#x27;re in Chapter 5, which is the <i>bootstrapping</i> phase for the toolchain cross-compilers. Then look into the features that are mentioned. You can see descriptions by running the .&#x2F;configure --help most times or looking up the GCC documentation. Those features are for security purposes and if you put that in perspective of the bootstrap phase they aren&#x27;t needed if the only purpose of the temporary GCC binaries is to compile the final GCC in a later phase. To your point, perform an experiment and enable those features to see if there really <i>is</i> a difference other than time spent to compile. GCC incrementally adds security features like this and they are a <i>big</i> thing in hardened distributions.<p><pre><code>    &gt; &gt; --disable-multilib
    &gt; Okay, it doesn&#x27;t support &quot;something&quot;. I have no idea what is multilib, or why I should care. Basically the next arguments&#x27; description tells me that because it wouldn&#x27;t work the compilation otherwise. And then..
</code></pre>
A great feature to look up! Check out <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;install&#x2F;configure.html" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;install&#x2F;configure.html</a> and search for the option and you&#x27;ll find that it has to do with supporting a variety of target calling conventions. I can see how that&#x27;d be pretty confusing. It has to do with the underlying hardware support for application binary interfaces that GCC can utilize and it turns out you probably only need to support your native hardware (e.g. x86_64). That is, you&#x27;re compiling your system from scratch and it&#x27;ll only run on your native hardware (x86_64) but if you were a C&#x2F;C++ programmer maybe you&#x27;d want to have support for other hardware (64-bit ARM systems are pretty common today as an example). So you can save time&#x2F;space by disabling the defaults and honestly the defaults it includes are just not all that relevant on most systems today.<p><pre><code>    &gt; &gt; --disable-threads, --disable-libatomic, --disable-libgomp, --disable-libquadmath, --disable-libssp, --disable-libvtv, --disable-libstdcxx
    &gt; But why would they fail? I want to understand what&#x27;s happening here, and I need to blindly trust the manual because they just tell me, that &quot;they won&#x27;t work, believe us&quot;.
</code></pre>
Try it and find out. I would expect that they would fail due to reliance on other dependencies that may not have been installed or included in this bootstrapped build. Or maybe be&#x2F;c those components don&#x27;t behaved well with the LFS-based bootstrap methodology and ultimately aren&#x27;t needed to bootstrap. Sure trust the LFSers but also think through a way to test your own assertions of the build process and try it out!<p><pre><code>    &gt; &gt; --enable-languages=c,c++
    &gt; Why are these the only languages which we need? What are the other languages?
</code></pre>
GCC supports many language front-ends. See <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;frontends.html" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;frontends.html</a>. Only C&#x2F;C++ is needed be&#x2F;c you&#x27;re bootstrapping only C and C++ based package sources. You can validate this as you build the remaining sections. It&#x27;s conceivable that if you needed other languages in the bootstrap you could include them.<p><pre><code>    &gt; So at the end, descriptions are not really helping to understand what&#x27;s happening, if you don&#x27;t know already. The last time when I started LFS (about 10 years ago), that was my main problem. That you already need to know almost everything to understand what&#x27;s really happening, and why, or reading manuals, or trying to find basically unsearchable information (like why libatomic compiling would fail at this step). So after a while, I started the blind copy-pasting, because I didn&#x27;t have the patience of literary months, and when I realized that this was pointless, I gave up.
</code></pre>
It&#x27;s a steep learning curve, especially of a bootstrap which by its nature is circular! tbh, that&#x27;s sort of the utility of LFS, it can take you up to a certain point but there are so many options and pitfalls in building a Linux system (or really any complex piece of software) and the real usefulness is pushing through, picking something and learning about it. Then using what you learned to apply to the unknown. GCC is one of the most important packages too, so there&#x27;s a lot to unpack in understanding anything about it, but the impact is large.</div><br/></div></div></div></div><div id="41751523" class="c"><input type="checkbox" id="c-41751523" checked=""/><div class="controls bullet"><span class="by">andrewmcwatters</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749825">parent</a><span>|</span><a href="#41752048">prev</a><span>|</span><a href="#41754636">next</a><span>|</span><label class="collapse" for="c-41751523">[-]</label><label class="expand" for="c-41751523">[1 more]</label></div><br/><div class="children"><div class="content">You grabbed a random page.</div><br/></div></div></div></div><div id="41750257" class="c"><input type="checkbox" id="c-41750257" checked=""/><div class="controls bullet"><span class="by">mnahkies</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41754636">prev</a><span>|</span><a href="#41748963">next</a><span>|</span><label class="collapse" for="c-41750257">[-]</label><label class="expand" for="c-41750257">[1 more]</label></div><br/><div class="children"><div class="content">Last time I tried (probably well over 10 years ago) I struggled more with how long stuff took to compile. The main learning I remember from it was the chroot concept, which then later helped me grasp containerization easier</div><br/></div></div><div id="41748963" class="c"><input type="checkbox" id="c-41748963" checked=""/><div class="controls bullet"><span class="by">pipes</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41750257">prev</a><span>|</span><a href="#41749093">next</a><span>|</span><label class="collapse" for="c-41748963">[-]</label><label class="expand" for="c-41748963">[1 more]</label></div><br/><div class="children"><div class="content">Yes this and endlessly unzipping things. I gave up after many many hours. I doubt I learned much from it.</div><br/></div></div><div id="41749093" class="c"><input type="checkbox" id="c-41749093" checked=""/><div class="controls bullet"><span class="by">kwanbix</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41748963">prev</a><span>|</span><a href="#41749440">next</a><span>|</span><label class="collapse" for="c-41749093">[-]</label><label class="expand" for="c-41749093">[1 more]</label></div><br/><div class="children"><div class="content">Same for me. I tried it about 20 years ago. I didn&#x27;t fell like I was learning anything, just copy paste like you say. I haven&#x27;t retried since, but I think it would be much better if they explain what you are doing and why.</div><br/></div></div><div id="41749440" class="c"><input type="checkbox" id="c-41749440" checked=""/><div class="controls bullet"><span class="by">zvmaz</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41749093">prev</a><span>|</span><a href="#41748829">next</a><span>|</span><label class="collapse" for="c-41749440">[-]</label><label class="expand" for="c-41749440">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Did anyone experience the same?<p>I tried several times, and tried again just recently. I share your sentiment. It perhaps gave me a renewed appreciation of the huge benefits Linux ditributions and package managers give us.</div><br/></div></div><div id="41748829" class="c"><input type="checkbox" id="c-41748829" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41749440">prev</a><span>|</span><a href="#41748897">next</a><span>|</span><label class="collapse" for="c-41748829">[-]</label><label class="expand" for="c-41748829">[6 more]</label></div><br/><div class="children"><div class="content">Yep, basically. At some point you realise you <i>could</i> do it, but do you really <i>want to</i> go through it all... It&#x27;s a slog.<p>It is a fun experience though!</div><br/><div id="41749170" class="c"><input type="checkbox" id="c-41749170" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41748829">parent</a><span>|</span><a href="#41748897">next</a><span>|</span><label class="collapse" for="c-41749170">[-]</label><label class="expand" for="c-41749170">[5 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s a slog. It is a fun experience though!<p>Aren&#x27;t those two opposites?</div><br/><div id="41753506" class="c"><input type="checkbox" id="c-41753506" checked=""/><div class="controls bullet"><span class="by">whartung</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749170">parent</a><span>|</span><a href="#41750852">next</a><span>|</span><label class="collapse" for="c-41753506">[-]</label><label class="expand" for="c-41753506">[1 more]</label></div><br/><div class="children"><div class="content">I have a saying for this: An &quot;adventure&quot; is a bad trip, remembered fondly.</div><br/></div></div><div id="41750852" class="c"><input type="checkbox" id="c-41750852" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749170">parent</a><span>|</span><a href="#41753506">prev</a><span>|</span><a href="#41749696">next</a><span>|</span><label class="collapse" for="c-41750852">[-]</label><label class="expand" for="c-41750852">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;ve never experienced effort as fun?
That is... not flattering.</div><br/><div id="41751045" class="c"><input type="checkbox" id="c-41751045" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41750852">parent</a><span>|</span><a href="#41749696">next</a><span>|</span><label class="collapse" for="c-41751045">[-]</label><label class="expand" for="c-41751045">[1 more]</label></div><br/><div class="children"><div class="content">Effort, yes. Slog, no.</div><br/></div></div></div></div><div id="41749696" class="c"><input type="checkbox" id="c-41749696" checked=""/><div class="controls bullet"><span class="by">wezdog1</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749170">parent</a><span>|</span><a href="#41750852">prev</a><span>|</span><a href="#41748897">next</a><span>|</span><label class="collapse" for="c-41749696">[-]</label><label class="expand" for="c-41749696">[1 more]</label></div><br/><div class="children"><div class="content">Type 2 fun</div><br/></div></div></div></div></div></div><div id="41748897" class="c"><input type="checkbox" id="c-41748897" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41748829">prev</a><span>|</span><a href="#41753380">next</a><span>|</span><label class="collapse" for="c-41748897">[-]</label><label class="expand" for="c-41748897">[5 more]</label></div><br/><div class="children"><div class="content">it&#x27;s better if you try to work out what the commands and options are doing. I did this a long time ago, and 15 years later, I realise that it gave me a big advantage over my colleagues who haven&#x27;t done something like that. &quot;missing xxxxx.so&quot; - they don&#x27;t even know what that means, whereas I&#x27;m already trying to find the so and putting it in ld_library_path to see if it helps.</div><br/><div id="41749153" class="c"><input type="checkbox" id="c-41749153" checked=""/><div class="controls bullet"><span class="by">spockz</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41748897">parent</a><span>|</span><a href="#41753380">next</a><span>|</span><label class="collapse" for="c-41749153">[-]</label><label class="expand" for="c-41749153">[4 more]</label></div><br/><div class="children"><div class="content">In my experience, whenever a .so was missing it was either due to a missing package on the os package manager level, or a completely broken gcc or llvm setup. I never needed to explicitly add single .so files to a path. (Besides the use case where I specifically wanted to override a malloc implementation.)<p>In which cases did&#x2F;do you need to add individual files?</div><br/><div id="41750148" class="c"><input type="checkbox" id="c-41750148" checked=""/><div class="controls bullet"><span class="by">nmoura</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749153">parent</a><span>|</span><a href="#41749671">next</a><span>|</span><label class="collapse" for="c-41750148">[-]</label><label class="expand" for="c-41750148">[1 more]</label></div><br/><div class="children"><div class="content">In my case, when I was a Slackware user before Slackbuilds was created, sometimes I wanted to try out programs for which there was no package. Usually they required a .so file that was not installed and a workaround was to put it manually from a package of another distribution compiled for the same architecture. When the .so file was there, but on another path, a symbolic link was sufficient. The ldd command was a good friend.<p>Of course that was not the best and cleanest solution, having things outside the package management system bothered, but it was enough to experiment programs and I kept track of the changes so I could have the prior state of things. Later on, the Slackbuilds project eased the work and I contributed by writing code to automate the creation of a few packages. I learned a lot from these issues.</div><br/></div></div><div id="41749671" class="c"><input type="checkbox" id="c-41749671" checked=""/><div class="controls bullet"><span class="by">screcth</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749153">parent</a><span>|</span><a href="#41750148">prev</a><span>|</span><a href="#41749176">next</a><span>|</span><label class="collapse" for="c-41749671">[-]</label><label class="expand" for="c-41749671">[1 more]</label></div><br/><div class="children"><div class="content">In my case, I work with proprietary EDA tools. Vendors love messing with LD_LIBRARY_PATH. Chaos ensues when they override a system library or two versions require mutually incompatible versions.<p>I agree with the comment you are replying to. Having broken my home Linux installs too many times has taught me how to diagnose and fix this sort of issues.</div><br/></div></div><div id="41749176" class="c"><input type="checkbox" id="c-41749176" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41749153">parent</a><span>|</span><a href="#41749671">prev</a><span>|</span><a href="#41753380">next</a><span>|</span><label class="collapse" for="c-41749176">[-]</label><label class="expand" for="c-41749176">[1 more]</label></div><br/><div class="children"><div class="content">in this case it&#x27;s an in-house monstrosity that&#x27;s got a lot of various languages and build systems involved, and the moment you update a compiler or build system, everything jumps into a new location for no good reasons. it was just an example though - same issue with .h not found during compilation, or using a different compiler from the system wide one.</div><br/></div></div></div></div></div></div><div id="41753380" class="c"><input type="checkbox" id="c-41753380" checked=""/><div class="controls bullet"><span class="by">donio</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41748897">prev</a><span>|</span><a href="#41752780">next</a><span>|</span><label class="collapse" for="c-41753380">[-]</label><label class="expand" for="c-41753380">[2 more]</label></div><br/><div class="children"><div class="content">For most people the whole reason to do the exercise is to understand what is involved in a bootstrap process. When you don&#x27;t understand something you stop and figure out what is going on. There is not much point in blindly running commands that you don&#x27;t understand.</div><br/><div id="41754300" class="c"><input type="checkbox" id="c-41754300" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#41748823">root</a><span>|</span><a href="#41753380">parent</a><span>|</span><a href="#41752780">next</a><span>|</span><label class="collapse" for="c-41754300">[-]</label><label class="expand" for="c-41754300">[1 more]</label></div><br/><div class="children"><div class="content">Except of course getting the OS installed and running.</div><br/></div></div></div></div><div id="41752780" class="c"><input type="checkbox" id="c-41752780" checked=""/><div class="controls bullet"><span class="by">hi-v-rocknroll</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41753380">prev</a><span>|</span><a href="#41753152">next</a><span>|</span><label class="collapse" for="c-41752780">[-]</label><label class="expand" for="c-41752780">[1 more]</label></div><br/><div class="children"><div class="content">Nope. It&#x27;s a launchpad not meant solely to follow blindly. The point is trial and error experimentation along the way. Can I switch the order of these packages or enable dependency X?<p>It also helps to have a fast x86_64 box with zillions of cores and plenty of RAM and SSD, and also a compiler cache like sccache to speed up rebuilds.</div><br/></div></div><div id="41753152" class="c"><input type="checkbox" id="c-41753152" checked=""/><div class="controls bullet"><span class="by">sweeter</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41752780">prev</a><span>|</span><a href="#41749734">next</a><span>|</span><label class="collapse" for="c-41753152">[-]</label><label class="expand" for="c-41753152">[1 more]</label></div><br/><div class="children"><div class="content">Yes. I got a little bit out of it, certainly, but it really is mostly an exercise of compiling packages. I was a little disappointed but in the end LFS inspired me to take on a rewrite of the Unix Coreutils in Golang. I learned far more about Unix systems from doing this than anything else. It also improved my skills a lot, I look back on some of this code and cringe a little bit.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;sweetbbak&#x2F;go-moreutils">https:&#x2F;&#x2F;github.com&#x2F;sweetbbak&#x2F;go-moreutils</a></div><br/></div></div><div id="41749734" class="c"><input type="checkbox" id="c-41749734" checked=""/><div class="controls bullet"><span class="by">notorandit</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41753152">prev</a><span>|</span><a href="#41749374">next</a><span>|</span><label class="collapse" for="c-41749734">[-]</label><label class="expand" for="c-41749734">[1 more]</label></div><br/><div class="children"><div class="content">Nope. I never execute commands without understanding its meaning. Maybe you expect to complete a LFS installation in very little time. Which cannot be the case in general and in this very case in particular</div><br/></div></div><div id="41749374" class="c"><input type="checkbox" id="c-41749374" checked=""/><div class="controls bullet"><span class="by">rwalle</span><span>|</span><a href="#41748823">parent</a><span>|</span><a href="#41749734">prev</a><span>|</span><a href="#41752261">next</a><span>|</span><label class="collapse" for="c-41749374">[-]</label><label class="expand" for="c-41749374">[1 more]</label></div><br/><div class="children"><div class="content">Haven&#x27;t tried it,  but I guess if you were doing this again today, ChatGPT would help a lot.</div><br/></div></div></div></div><div id="41752261" class="c"><input type="checkbox" id="c-41752261" checked=""/><div class="controls bullet"><span class="by">ocean_moist</span><span>|</span><a href="#41748823">prev</a><span>|</span><a href="#41748873">next</a><span>|</span><label class="collapse" for="c-41752261">[-]</label><label class="expand" for="c-41752261">[1 more]</label></div><br/><div class="children"><div class="content">I did LFS after I started dailying gentoo with a custom kernel (~2017), it was actually fairly easy, if not time consuming. People on IRC are extremely helpful. These days I write code more than infra, but I still think it was valuable.<p>That combined with my general interest in Linux probably saved me thousands in cloud costs. Linux is a dying art among young software engineers, but alive among young nerds. Even among infra&#x2F;devops people, maybe if they learned more about linux they wouldn&#x27;t reach for k8s to solve the simplest problems.</div><br/></div></div><div id="41748873" class="c"><input type="checkbox" id="c-41748873" checked=""/><div class="controls bullet"><span class="by">Manfred</span><span>|</span><a href="#41752261">prev</a><span>|</span><a href="#41752964">next</a><span>|</span><label class="collapse" for="c-41748873">[-]</label><label class="expand" for="c-41748873">[1 more]</label></div><br/><div class="children"><div class="content">You could argue that running through the woods doesn&#x27;t teach you about trees, but it&#x27;s really effective when you bring a book along.<p>Linux From Scratch is a fun way to explore what parts make up a Linux distribution. I did this a few time long ago before switching to Gentoo and it really helped with appreciating the freedom to pick and choose details of your operating system without actually writing it from scratch.</div><br/></div></div><div id="41752964" class="c"><input type="checkbox" id="c-41752964" checked=""/><div class="controls bullet"><span class="by">jakogut</span><span>|</span><a href="#41748873">prev</a><span>|</span><a href="#41748855">next</a><span>|</span><label class="collapse" for="c-41752964">[-]</label><label class="expand" for="c-41752964">[2 more]</label></div><br/><div class="children"><div class="content">Another project to check out if you enjoy LFS is buildroot.<p>Buildroot uses Kconfig (and associated tools like menuconfig, config, etc.) same as the kernel, to generate a configuration for building an embedded Linux system. This configuration can be committed and patched in the repo for your project. Adding an application or library automatically pulls in dependencies. Configs can be merged with fragments that add specific features.<p>Buildroot is capable of building its own cross compilation tool chain for many architectures, and enables developers to choose their own libc, and other toolchain configurations. It can also be configured to pull a prebuilt toolchain tarball to save time.<p>Packages are written in GNU Make, and macros are available for pulling code from GitHub and building packages using autoconf, cmake, meson, golang, Rust, python, and many more.<p>It works fantastically for anything from building an embedded Linux distro for something like digital signage, to a self-contained network bootable application for large scale automated provisioning of devices, to building minimal tarballs of filesystems to run as containers.</div><br/><div id="41753836" class="c"><input type="checkbox" id="c-41753836" checked=""/><div class="controls bullet"><span class="by">itomato</span><span>|</span><a href="#41752964">parent</a><span>|</span><a href="#41748855">next</a><span>|</span><label class="collapse" for="c-41753836">[-]</label><label class="expand" for="c-41753836">[1 more]</label></div><br/><div class="children"><div class="content">It’s cool but adding more than a package or two in the buildroot way is where I would get into the weeds.<p>I’m sometimes surprised a fork with better approach to package management doesn’t exist yet.</div><br/></div></div></div></div><div id="41748855" class="c"><input type="checkbox" id="c-41748855" checked=""/><div class="controls bullet"><span class="by">harha_</span><span>|</span><a href="#41752964">prev</a><span>|</span><a href="#41751464">next</a><span>|</span><label class="collapse" for="c-41748855">[-]</label><label class="expand" for="c-41748855">[11 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the fun in this? I once looked into it briefly and it&#x27;s what I guessed: mostly about building and installing the required software individually. That&#x27;s boring, I guess the fun would be in building an actual usable distro &quot;from scratch&quot;.</div><br/><div id="41748927" class="c"><input type="checkbox" id="c-41748927" checked=""/><div class="controls bullet"><span class="by">thom</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41749751">next</a><span>|</span><label class="collapse" for="c-41748927">[-]</label><label class="expand" for="c-41748927">[1 more]</label></div><br/><div class="children"><div class="content">The first run isn&#x27;t much fun. There are useful skills in just knowing how to build stuff, and knowing all the constituent parts of a running system. But overall I suspect you&#x27;d learn more in a year of using Arch.<p>But on subsequent play-throughs, you get to be creative! Want to ignore the FHS and try putting your apps somewhere weird? Want to use a different libc or init system? Build everything around an esoteric shell? Go for maximum optimisation? It&#x27;s the replayability that makes Linux from Scratch fun, and yes, totally worth working out what your own distro might look like.</div><br/></div></div><div id="41749751" class="c"><input type="checkbox" id="c-41749751" checked=""/><div class="controls bullet"><span class="by">coatmatter</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41748927">prev</a><span>|</span><a href="#41749419">next</a><span>|</span><label class="collapse" for="c-41749751">[-]</label><label class="expand" for="c-41749751">[1 more]</label></div><br/><div class="children"><div class="content">I think it depends on one&#x27;s true goals and the way it&#x27;s approached. Compare with <a href="http:&#x2F;&#x2F;www.greenfly.org&#x2F;mes.html" rel="nofollow">http:&#x2F;&#x2F;www.greenfly.org&#x2F;mes.html</a> (which affects many Arch users too, I feel)</div><br/></div></div><div id="41749419" class="c"><input type="checkbox" id="c-41749419" checked=""/><div class="controls bullet"><span class="by">akdev1l</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41749751">prev</a><span>|</span><a href="#41748942">next</a><span>|</span><label class="collapse" for="c-41749419">[-]</label><label class="expand" for="c-41749419">[3 more]</label></div><br/><div class="children"><div class="content">You would start with LFS to build a base and then add your own package manager to make a “true” distro.<p>If you want to just build an existing distro from scratch then they all have ways of doing that as they need to rebuild packages regularly. Eg: It’s a lot simpler to build a fedora image from scratch by using Koji&#x2F;OSBuild vs LFS as Koji&#x2F;OSBuild basically automate the whole LFS process.<p>Additionally in order to have fun with LFS you don’t really need to do the whole book. You can make your own little Linux “distro” from scratch with the kernel and statically linked busybox. Busybox comes with all the minimal utilities so you can pick and choose what you want to write and what you want to reuse.</div><br/><div id="41749670" class="c"><input type="checkbox" id="c-41749670" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#41748855">root</a><span>|</span><a href="#41749419">parent</a><span>|</span><a href="#41748942">next</a><span>|</span><label class="collapse" for="c-41749670">[-]</label><label class="expand" for="c-41749670">[2 more]</label></div><br/><div class="children"><div class="content">I wonder if some sort of “BSD from scratch” would be a more fruitful exercise. Since they include more of the overall system, you’d end up with something approximating a regular BSD install pretty well at the end.</div><br/><div id="41752606" class="c"><input type="checkbox" id="c-41752606" checked=""/><div class="controls bullet"><span class="by">machinestops</span><span>|</span><a href="#41748855">root</a><span>|</span><a href="#41749670">parent</a><span>|</span><a href="#41748942">next</a><span>|</span><label class="collapse" for="c-41752606">[-]</label><label class="expand" for="c-41752606">[1 more]</label></div><br/><div class="children"><div class="content">A &quot;BSD from scratch&quot; project would end up closer to something along the lines of &quot;Debian from scratch&quot; or &quot;Redhat from scratch&quot;. You would be performing an exercise in bootstrapping, and little else.</div><br/></div></div></div></div></div></div><div id="41748942" class="c"><input type="checkbox" id="c-41748942" checked=""/><div class="controls bullet"><span class="by">mbivert</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41749419">prev</a><span>|</span><a href="#41750501">next</a><span>|</span><label class="collapse" for="c-41748942">[-]</label><label class="expand" for="c-41748942">[1 more]</label></div><br/><div class="children"><div class="content">You can think of a LFS as training before actually tackling an original distribution: distributions are complex, even following the steps of a LFS won&#x27;t necessarily yield a working system (lots of room for mistakes).<p>Or, as a base to build a distribution: you can automatize some of the process, slap a pkgsrc on top, etc.<p>For budding programmers, it&#x27;s a great exercise: discover software, appreciate dependencies, understand components of a Linux distribution, learn how to build things from source, configure a kernel, etc.</div><br/></div></div><div id="41750501" class="c"><input type="checkbox" id="c-41750501" checked=""/><div class="controls bullet"><span class="by">skotobaza</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41748942">prev</a><span>|</span><a href="#41749292">next</a><span>|</span><label class="collapse" for="c-41750501">[-]</label><label class="expand" for="c-41750501">[1 more]</label></div><br/><div class="children"><div class="content">Learning how things work under the hood is fun, and you should do this if your job revolves around Linux.</div><br/></div></div><div id="41749292" class="c"><input type="checkbox" id="c-41749292" checked=""/><div class="controls bullet"><span class="by">immibis</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41750501">prev</a><span>|</span><a href="#41748886">next</a><span>|</span><label class="collapse" for="c-41749292">[-]</label><label class="expand" for="c-41749292">[1 more]</label></div><br/><div class="children"><div class="content">Building an actually usable distro means doing this, but every day for every package that updated, and scripting it for other people to use.</div><br/></div></div><div id="41748886" class="c"><input type="checkbox" id="c-41748886" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41748855">parent</a><span>|</span><a href="#41749292">prev</a><span>|</span><a href="#41751464">next</a><span>|</span><label class="collapse" for="c-41748886">[-]</label><label class="expand" for="c-41748886">[2 more]</label></div><br/><div class="children"><div class="content">&gt; building an actual usable distro &quot;from scratch&quot;.<p>could you say a few words on how this would avoid building and installing the required software individually? are you thinking of osdev instead?</div><br/><div id="41749648" class="c"><input type="checkbox" id="c-41749648" checked=""/><div class="controls bullet"><span class="by">creatonez</span><span>|</span><a href="#41748855">root</a><span>|</span><a href="#41748886">parent</a><span>|</span><a href="#41751464">next</a><span>|</span><label class="collapse" for="c-41749648">[-]</label><label class="expand" for="c-41749648">[1 more]</label></div><br/><div class="children"><div class="content">I assume they were alluding to package managers, automation, and release engineering, which are somewhat covered in the LFS Hints Project (<a href="https:&#x2F;&#x2F;www.linuxfromscratch.org&#x2F;hints&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.linuxfromscratch.org&#x2F;hints&#x2F;</a>)</div><br/></div></div></div></div></div></div><div id="41751464" class="c"><input type="checkbox" id="c-41751464" checked=""/><div class="controls bullet"><span class="by">f0e4c2f7</span><span>|</span><a href="#41748855">prev</a><span>|</span><a href="#41753128">next</a><span>|</span><label class="collapse" for="c-41751464">[-]</label><label class="expand" for="c-41751464">[4 more]</label></div><br/><div class="children"><div class="content">Building using LFS has been on my list of &quot;I really should probably do that just to learn&quot; for about 20 years now. I&#x27;ll get around to it! This year I&#x27;m finally learning Lisp (and really enjoying it).</div><br/><div id="41754815" class="c"><input type="checkbox" id="c-41754815" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#41751464">parent</a><span>|</span><a href="#41751510">next</a><span>|</span><label class="collapse" for="c-41754815">[-]</label><label class="expand" for="c-41754815">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;d done that 20 years ago, we&#x27;d been on the same page :)<p>Though back then, I learnt well from Gentoo by setting the system up from stage 1, which was a good knowledge to keep when trying to fix things such as handling partitions in single user mode or modprobe&#x27;ing to detect hardware and such.<p>If you can&#x27;t do anything beyond relying on GUI, you could get stuck real fast.</div><br/></div></div><div id="41751510" class="c"><input type="checkbox" id="c-41751510" checked=""/><div class="controls bullet"><span class="by">theanonymousone</span><span>|</span><a href="#41751464">parent</a><span>|</span><a href="#41754815">prev</a><span>|</span><a href="#41753128">next</a><span>|</span><label class="collapse" for="c-41751510">[-]</label><label class="expand" for="c-41751510">[2 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t an LLM making such things more approachable?</div><br/><div id="41751804" class="c"><input type="checkbox" id="c-41751804" checked=""/><div class="controls bullet"><span class="by">f0e4c2f7</span><span>|</span><a href="#41751464">root</a><span>|</span><a href="#41751510">parent</a><span>|</span><a href="#41753128">next</a><span>|</span><label class="collapse" for="c-41751804">[-]</label><label class="expand" for="c-41751804">[1 more]</label></div><br/><div class="children"><div class="content">For sure. It&#x27;s been amazing honestly and I feel like it has really accelerated my learning. Enough that I&#x27;m trying to get really serious about making the most out of this new leverage seemingly out of nowhere.<p>I use it a lot for mapping out of the initial concepts but I find one of the best use cases is after understanding the basics, explaining where I need to learn more and asking for a book recommendation. The quality of my reading list has gone up 10x this way and I find myself working through multiple books a week.<p>Great for code too obviously, though still feels like early days there to me.</div><br/></div></div></div></div></div></div><div id="41753128" class="c"><input type="checkbox" id="c-41753128" checked=""/><div class="controls bullet"><span class="by">cjk</span><span>|</span><a href="#41751464">prev</a><span>|</span><a href="#41753124">next</a><span>|</span><label class="collapse" for="c-41753128">[-]</label><label class="expand" for="c-41753128">[1 more]</label></div><br/><div class="children"><div class="content">This, and its no-longer-maintained cousin, Cross Linux from Scratch[1], were instrumental in learning how to bootstrap a custom Linux distro for embedded devices (especially the CLFS Embedded variant[2]) at a previous job.<p>[1]: <a href="https:&#x2F;&#x2F;clfs.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;clfs.org&#x2F;</a><p>[2]: <a href="https:&#x2F;&#x2F;clfs.org&#x2F;view&#x2F;clfs-embedded&#x2F;arm&#x2F;" rel="nofollow">https:&#x2F;&#x2F;clfs.org&#x2F;view&#x2F;clfs-embedded&#x2F;arm&#x2F;</a></div><br/></div></div><div id="41753124" class="c"><input type="checkbox" id="c-41753124" checked=""/><div class="controls bullet"><span class="by">Scuds</span><span>|</span><a href="#41753128">prev</a><span>|</span><a href="#41754046">next</a><span>|</span><label class="collapse" for="c-41753124">[-]</label><label class="expand" for="c-41753124">[2 more]</label></div><br/><div class="children"><div class="content">I wonder what an equivalent &quot;BSD from scratch&quot; is like? 
Linux was assembled from a collection of parts while BSD is (reputably) a lot more &#x27;designed from the ground up&#x27;
Even a modern system like Fuchsia - what&#x27;s that like to build from the ground up?<p>Or is it &quot;You fool! Building your own kitbashed Gundam of an OS is the point.&quot;</div><br/><div id="41754186" class="c"><input type="checkbox" id="c-41754186" checked=""/><div class="controls bullet"><span class="by">joveian</span><span>|</span><a href="#41753124">parent</a><span>|</span><a href="#41754046">next</a><span>|</span><label class="collapse" for="c-41754186">[-]</label><label class="expand" for="c-41754186">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure about the others but the full NetBSD base system can be cross compiled from Linux (and maybe some other unixy systems) using the included build script (I&#x27;m not sure what the current state of cross compiling pkgsrc is, likely not as good).  You could add or remove things from the base system to learn more about how the build system works or create different install sets or something along those lines, although just looking at what the build system does might be as helpful.</div><br/></div></div></div></div><div id="41754046" class="c"><input type="checkbox" id="c-41754046" checked=""/><div class="controls bullet"><span class="by">keitmo</span><span>|</span><a href="#41753124">prev</a><span>|</span><a href="#41748719">next</a><span>|</span><label class="collapse" for="c-41754046">[-]</label><label class="expand" for="c-41754046">[1 more]</label></div><br/><div class="children"><div class="content">I went through the LFS process back in 2003 or 2004. I didn&#x27;t have a Linux system handy, so I built it with Fedora 3 running under VMWare on a Windows XP laptop. It was not speedy.<p>I tried to automate the process as much as possible. There&#x27;s a separate Automated Linux From Scratch project, but I choose to roll my own. This was my first experience with Bash scripts -- I developed skills (and bad habits) that I continue to use this day.</div><br/></div></div><div id="41748719" class="c"><input type="checkbox" id="c-41748719" checked=""/><div class="controls bullet"><span class="by">lrvick</span><span>|</span><a href="#41754046">prev</a><span>|</span><a href="#41750911">next</a><span>|</span><label class="collapse" for="c-41748719">[-]</label><label class="expand" for="c-41748719">[1 more]</label></div><br/><div class="children"><div class="content">For those that want to see full source bootstrapped, deterministic, and container native LFS check out <a href="https:&#x2F;&#x2F;codeberg.org&#x2F;stagex" rel="nofollow">https:&#x2F;&#x2F;codeberg.org&#x2F;stagex</a></div><br/></div></div><div id="41750911" class="c"><input type="checkbox" id="c-41750911" checked=""/><div class="controls bullet"><span class="by">fefe23</span><span>|</span><a href="#41748719">prev</a><span>|</span><a href="#41748848">next</a><span>|</span><label class="collapse" for="c-41750911">[-]</label><label class="expand" for="c-41750911">[1 more]</label></div><br/><div class="children"><div class="content">LFS has been a tremendous resource over the years for me.
I&#x27;m happy it exists and that people put in the time to keep it going.<p>I often wonder why the existence of long &quot;you also need to do this completely unintuitive thing first&quot; documentation on the open internet isn&#x27;t shaming more projects into reducing barriers to build their software.</div><br/></div></div><div id="41748848" class="c"><input type="checkbox" id="c-41748848" checked=""/><div class="controls bullet"><span class="by">devilkin</span><span>|</span><a href="#41750911">prev</a><span>|</span><a href="#41751715">next</a><span>|</span><label class="collapse" for="c-41748848">[-]</label><label class="expand" for="c-41748848">[7 more]</label></div><br/><div class="children"><div class="content">I did this, once, on a 386. Did I learn things? Definitely. Will I ever do it again? Definitely not ;)</div><br/><div id="41749980" class="c"><input type="checkbox" id="c-41749980" checked=""/><div class="controls bullet"><span class="by">tonyarkles</span><span>|</span><a href="#41748848">parent</a><span>|</span><a href="#41749108">next</a><span>|</span><label class="collapse" for="c-41749980">[-]</label><label class="expand" for="c-41749980">[1 more]</label></div><br/><div class="children"><div class="content">Heh, I did this back in about 2000 or 2001 with the intent of taking an old 486 I had mounted in a relatively flat case to fit under the seat of my car and turning it into an MP3 player. The process was a lot of fun, I learned a ton, and then... I discovered that I didn&#x27;t realize I&#x27;d done the entire build targeting a Pentium CPU and all of the binaries contained instructions that the 486 couldn&#x27;t run.<p>I did not repeat the process :)</div><br/></div></div><div id="41749108" class="c"><input type="checkbox" id="c-41749108" checked=""/><div class="controls bullet"><span class="by">yonatan8070</span><span>|</span><a href="#41748848">parent</a><span>|</span><a href="#41749980">prev</a><span>|</span><a href="#41751715">next</a><span>|</span><label class="collapse" for="c-41749108">[-]</label><label class="expand" for="c-41749108">[5 more]</label></div><br/><div class="children"><div class="content">I wonder, if you were to script all the commands you ran back in the day, and ran that same script on your old 386 and on a modern system with a top-of-the-line AMD Epyc or Intel Xeon, how much faster would it run?</div><br/><div id="41749143" class="c"><input type="checkbox" id="c-41749143" checked=""/><div class="controls bullet"><span class="by">fourfour3</span><span>|</span><a href="#41748848">root</a><span>|</span><a href="#41749108">parent</a><span>|</span><a href="#41749337">next</a><span>|</span><label class="collapse" for="c-41749143">[-]</label><label class="expand" for="c-41749143">[3 more]</label></div><br/><div class="children"><div class="content">Especially with the increase in storage performance - going from a hard disk that might have even still been using PIO modes to modern NVMe would be gigantic</div><br/><div id="41749344" class="c"><input type="checkbox" id="c-41749344" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#41748848">root</a><span>|</span><a href="#41749143">parent</a><span>|</span><a href="#41749337">next</a><span>|</span><label class="collapse" for="c-41749344">[-]</label><label class="expand" for="c-41749344">[2 more]</label></div><br/><div class="children"><div class="content">The kernel is rather larger today: <a href="https:&#x2F;&#x2F;stopbyte.com&#x2F;t&#x2F;how-many-lines-of-code-linux-has&#x2F;455&#x2F;2" rel="nofollow">https:&#x2F;&#x2F;stopbyte.com&#x2F;t&#x2F;how-many-lines-of-code-linux-has&#x2F;455&#x2F;...</a><p>The same is true for all other pieces of software.<p>Build time will always increase until no one can be bothered to build it any more.</div><br/><div id="41753173" class="c"><input type="checkbox" id="c-41753173" checked=""/><div class="controls bullet"><span class="by">fourfour3</span><span>|</span><a href="#41748848">root</a><span>|</span><a href="#41749344">parent</a><span>|</span><a href="#41749337">next</a><span>|</span><label class="collapse" for="c-41753173">[-]</label><label class="expand" for="c-41753173">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;ve missed the point:<p>&gt; I wonder, if you were to script all the commands you ran back in the day, and ran that same script on your old 386 and on a modern system with a top-of-the-line AMD Epyc or Intel Xeon, how much faster would it run?<p>Implies you&#x27;re compiling the <i>386</i> era versions of Linux - so the fact modern Linux is larger is immaterial.</div><br/></div></div></div></div></div></div><div id="41749337" class="c"><input type="checkbox" id="c-41749337" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#41748848">root</a><span>|</span><a href="#41749108">parent</a><span>|</span><a href="#41749143">prev</a><span>|</span><a href="#41751715">next</a><span>|</span><label class="collapse" for="c-41749337">[-]</label><label class="expand" for="c-41749337">[1 more]</label></div><br/><div class="children"><div class="content">There is a unit of compilation as part of the LSF book which lets you estimate the who build process. You only need to compile libc or some such.</div><br/></div></div></div></div></div></div><div id="41751715" class="c"><input type="checkbox" id="c-41751715" checked=""/><div class="controls bullet"><span class="by">ngneer</span><span>|</span><a href="#41748848">prev</a><span>|</span><a href="#41750187">next</a><span>|</span><label class="collapse" for="c-41751715">[-]</label><label class="expand" for="c-41751715">[4 more]</label></div><br/><div class="children"><div class="content">This brings back memories. I built LFS on a Pentium based machine a few times and it was quite fun. I took a similar approach to building a custom bare metal system for a client that needed extra security. I sometimes wish that there was a well maintained bare bones distribution inspired by the LFS philosophy, that might help with managing complexity on the cloud. Scanning the thread, NixOS came up. I used to love Slack, too. Any other recommendations? Something with minimal dependencies yet capable of being a LAMP-like server?</div><br/><div id="41753078" class="c"><input type="checkbox" id="c-41753078" checked=""/><div class="controls bullet"><span class="by">greggyb</span><span>|</span><a href="#41751715">parent</a><span>|</span><a href="#41752392">next</a><span>|</span><label class="collapse" for="c-41753078">[-]</label><label class="expand" for="c-41753078">[1 more]</label></div><br/><div class="children"><div class="content">Alpine Linux is a very minimal base built around busybox and musl libc.<p>Void is another minimalist distro offering a choice of glibc or musl, and using runit as an init.<p>If you want more choices of init and a bleeding edge rolling release, Artix is a derivative of Arch with multiple init options in the core distribution.<p>Arch and Gentoo are the classics of do-it-yourself minimalism.</div><br/></div></div><div id="41752392" class="c"><input type="checkbox" id="c-41752392" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#41751715">parent</a><span>|</span><a href="#41753078">prev</a><span>|</span><a href="#41750187">next</a><span>|</span><label class="collapse" for="c-41752392">[-]</label><label class="expand" for="c-41752392">[2 more]</label></div><br/><div class="children"><div class="content">Alpine isn&#x27;t good enough as a base system?</div><br/><div id="41752915" class="c"><input type="checkbox" id="c-41752915" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#41751715">root</a><span>|</span><a href="#41752392">parent</a><span>|</span><a href="#41750187">next</a><span>|</span><label class="collapse" for="c-41752915">[-]</label><label class="expand" for="c-41752915">[1 more]</label></div><br/><div class="children"><div class="content">muslc isn&#x27;t as fast as glibc (last time I checked), but I guess it&#x27;s fine if you&#x27;re ok with that.</div><br/></div></div></div></div></div></div><div id="41750187" class="c"><input type="checkbox" id="c-41750187" checked=""/><div class="controls bullet"><span class="by">kopirgan</span><span>|</span><a href="#41751715">prev</a><span>|</span><a href="#41752844">next</a><span>|</span><label class="collapse" for="c-41750187">[-]</label><label class="expand" for="c-41750187">[1 more]</label></div><br/><div class="children"><div class="content">This has been around for ages. I only read the contents briefly to know what the minimum components of Linux is, that too years ago. When you install any distro (even Debian) so much gets installed which newbies wouldn&#x27;t even know exists or use.</div><br/></div></div><div id="41752844" class="c"><input type="checkbox" id="c-41752844" checked=""/><div class="controls bullet"><span class="by">hi-v-rocknroll</span><span>|</span><a href="#41750187">prev</a><span>|</span><a href="#41751918">next</a><span>|</span><label class="collapse" for="c-41752844">[-]</label><label class="expand" for="c-41752844">[1 more]</label></div><br/><div class="children"><div class="content">I wrote an (unreleased) Bash-based framework for Docker container- and exo-Docker VM-based LFS builds.<p>Dir listing: <a href="https:&#x2F;&#x2F;pastebin.com&#x2F;JrPkftgr" rel="nofollow">https:&#x2F;&#x2F;pastebin.com&#x2F;JrPkftgr</a><p>Dockerfile (it&#x27;s still missing throwing away intermediate layers b&#x2F;c it&#x27;s optimized for caching and dev speed):<p><pre><code>    FROM quay.io&#x2F;centos&#x2F;centos:stream9

    COPY files&#x2F;bashrc &#x2F;root&#x2F;.bashrc
    COPY files&#x2F;bash_profile &#x2F;root&#x2F;.bash_profile
    
    COPY --chmod=755 files&#x2F;sysdiff &#x2F;usr&#x2F;bin&#x2F;sysdiff
    
    WORKDIR &#x2F;mnt&#x2F;lfs
    
    COPY files&#x2F;functions.inc files&#x2F;
    COPY --chmod=755 files&#x2F;run files&#x2F;
    
    COPY scripts&#x2F;0000-install-deps scripts&#x2F;
    RUN files&#x2F;run install 0000-install-deps
    
    # Docker host runs a memcache instance to cache build artifacts in RAM
    COPY scripts&#x2F;0010-install-sccache scripts&#x2F;
    COPY files&#x2F;sccache-wrapper.c files&#x2F;
    RUN files&#x2F;run install 0010-install-sccache
    
    COPY scripts&#x2F;1000-setup scripts&#x2F;
    COPY files&#x2F;hosts files&#x2F;passwd files&#x2F;group files&#x2F;shells files&#x2F;inputrc files&#x2F;fstab.in files&#x2F;locale.conf.in files&#x2F;
    RUN files&#x2F;run install 1000-setup
    
    ...</code></pre></div><br/></div></div><div id="41749588" class="c"><input type="checkbox" id="c-41749588" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#41751918">prev</a><span>|</span><a href="#41750607">next</a><span>|</span><label class="collapse" for="c-41749588">[-]</label><label class="expand" for="c-41749588">[2 more]</label></div><br/><div class="children"><div class="content">How up to date is this?<p>When trying to learn by copy-pasting from the internet, I sometimes get tripped up over older&#x2F;newer Linuxes using different versions of commands or best practices. (e.g. ipconfig vs. ifconfig, iptables vs. successors)</div><br/><div id="41749679" class="c"><input type="checkbox" id="c-41749679" checked=""/><div class="controls bullet"><span class="by">creatonez</span><span>|</span><a href="#41749588">parent</a><span>|</span><a href="#41750607">next</a><span>|</span><label class="collapse" for="c-41749679">[-]</label><label class="expand" for="c-41749679">[1 more]</label></div><br/><div class="children"><div class="content">It was last updated in September 2024. Distrowatch&#x27;s package list can give you an idea of what version numbers to expect: <a href="https:&#x2F;&#x2F;distrowatch.com&#x2F;table.php?distribution=lfs" rel="nofollow">https:&#x2F;&#x2F;distrowatch.com&#x2F;table.php?distribution=lfs</a><p>Once you get to the BLFS part, you have more choice on whether you&#x27;re going to innovate or use something that old and in maintenance mode. For example, it has instructions for both Pulseaudio and Pipewire, Xorg and Wayland, SysVinit and systemd. The instructions will rarely be outright incorrect on modern distros unless something is very strange about your environment, since a bulk of the work is done after establishing a more predictable build environment.</div><br/></div></div></div></div><div id="41750607" class="c"><input type="checkbox" id="c-41750607" checked=""/><div class="controls bullet"><span class="by">throwaway2016a</span><span>|</span><a href="#41749588">prev</a><span>|</span><a href="#41751883">next</a><span>|</span><label class="collapse" for="c-41750607">[-]</label><label class="expand" for="c-41750607">[1 more]</label></div><br/><div class="children"><div class="content">This brings back memories. I tried to do his (by using this exact site!) in college. Which, for reference, was 20ish years ago.<p>I wasn&#x27;t able to get very far, mostly because I kept running into obscure compiler and linker errors and 18 year old me wasn&#x27;t clear how to fix them. Would be fun to see how much is changed since then because it does appear to be at least partially maintained.</div><br/></div></div><div id="41751883" class="c"><input type="checkbox" id="c-41751883" checked=""/><div class="controls bullet"><span class="by">krylon</span><span>|</span><a href="#41750607">prev</a><span>|</span><a href="#41749200">next</a><span>|</span><label class="collapse" for="c-41751883">[-]</label><label class="expand" for="c-41751883">[1 more]</label></div><br/><div class="children"><div class="content">Back in the day, I made an attempt at LFS but gave up halfway through. In my defense, I had done a gentoo stage 1 emerge earlier that year. ;-)<p>I never intended to end up with a usable system, I was just in it for the learning experience. And I <i>did</i> end up learning a lot.</div><br/></div></div><div id="41749200" class="c"><input type="checkbox" id="c-41749200" checked=""/><div class="controls bullet"><span class="by">sirodoht</span><span>|</span><a href="#41751883">prev</a><span>|</span><a href="#41749627">next</a><span>|</span><label class="collapse" for="c-41749200">[-]</label><label class="expand" for="c-41749200">[1 more]</label></div><br/><div class="children"><div class="content">I went through this over a couple of weeks last year. Very fun, I would recommend it to anyone interested to see the complexity of making a linux distro.</div><br/></div></div><div id="41749627" class="c"><input type="checkbox" id="c-41749627" checked=""/><div class="controls bullet"><span class="by">mydriasis</span><span>|</span><a href="#41749200">prev</a><span>|</span><a href="#41748996">next</a><span>|</span><label class="collapse" for="c-41749627">[-]</label><label class="expand" for="c-41749627">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re curious, you should try it. It&#x27;s a great way to learn about all of the little bits and pieces that go into a working OS that you can use, and by the time you&#x27;re done you&#x27;ll be more comfy thinking about Linux in general. It may take some time depending on how often you come back to it, but it&#x27;s definitely worth it.</div><br/></div></div><div id="41748996" class="c"><input type="checkbox" id="c-41748996" checked=""/><div class="controls bullet"><span class="by">squarefoot</span><span>|</span><a href="#41749627">prev</a><span>|</span><a href="#41751507">next</a><span>|</span><label class="collapse" for="c-41748996">[-]</label><label class="expand" for="c-41748996">[8 more]</label></div><br/><div class="children"><div class="content">Related: <a href="https:&#x2F;&#x2F;buildroot.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;buildroot.org&#x2F;</a></div><br/><div id="41749147" class="c"><input type="checkbox" id="c-41749147" checked=""/><div class="controls bullet"><span class="by">stingraycharles</span><span>|</span><a href="#41748996">parent</a><span>|</span><a href="#41749163">next</a><span>|</span><label class="collapse" for="c-41749147">[-]</label><label class="expand" for="c-41749147">[6 more]</label></div><br/><div class="children"><div class="content">This basically allows you to make an OS that’s effectively a single application, right?</div><br/><div id="41750041" class="c"><input type="checkbox" id="c-41750041" checked=""/><div class="controls bullet"><span class="by">ahepp</span><span>|</span><a href="#41748996">root</a><span>|</span><a href="#41749147">parent</a><span>|</span><a href="#41749187">next</a><span>|</span><label class="collapse" for="c-41750041">[-]</label><label class="expand" for="c-41750041">[1 more]</label></div><br/><div class="children"><div class="content">It will spit out a rootfs, or even a block image for a disk, which might make it _look_ like a single application. You will probably update your system by flashing that entire rootfs&#x2F;image to your target device as if it was one application.<p>However, it is still Linux under the hood, so there is a kernel + whatever other applications you want running on there, all as separate processes.<p>You may also be thinking of busybox, which bakes an implementation of most of gnu coreutils into one file to save space. Many symlinks are often created to that sesame file, and when invoked the process can check what name it was invoked with to determine its behavior.</div><br/></div></div><div id="41749187" class="c"><input type="checkbox" id="c-41749187" checked=""/><div class="controls bullet"><span class="by">bubblesnort</span><span>|</span><a href="#41748996">root</a><span>|</span><a href="#41749147">parent</a><span>|</span><a href="#41750041">prev</a><span>|</span><a href="#41749163">next</a><span>|</span><label class="collapse" for="c-41749187">[-]</label><label class="expand" for="c-41749187">[4 more]</label></div><br/><div class="children"><div class="content">No. It creates a root filesystem that follows your choices of what should be included and tries to be as minimal and small as possible by default. Very suitable for embedded devices and lightweight virtual machines. You can have it build a kernel as well. I use the ability to create a cpio archive for an initramfs on the Linux boxes.</div><br/><div id="41751103" class="c"><input type="checkbox" id="c-41751103" checked=""/><div class="controls bullet"><span class="by">joezydeco</span><span>|</span><a href="#41748996">root</a><span>|</span><a href="#41749187">parent</a><span>|</span><a href="#41750098">next</a><span>|</span><label class="collapse" for="c-41751103">[-]</label><label class="expand" for="c-41751103">[2 more]</label></div><br/><div class="children"><div class="content">I use buildroot to make a commercial product.<p>It builds the bootloader, the kernel, initramfs and rootfs, and then my application(s) all installed in the right place and connected to systemd. The output is a set of images that burn into their respective partitions on eMMC.<p>If you&#x27;re a masochist, there&#x27;s also Yocto. It&#x27;ll build your compiler and crosstools as well as the entire system image.</div><br/><div id="41753507" class="c"><input type="checkbox" id="c-41753507" checked=""/><div class="controls bullet"><span class="by">ahepp</span><span>|</span><a href="#41748996">root</a><span>|</span><a href="#41751103">parent</a><span>|</span><a href="#41750098">next</a><span>|</span><label class="collapse" for="c-41753507">[-]</label><label class="expand" for="c-41753507">[1 more]</label></div><br/><div class="children"><div class="content">Buildroot will build the cross toolchain too unless you specify BR2_TOOLCHAIN_EXTERNAL, right? And likewise you can configure yocto to use an external toolchain.<p>A lot of the byproducts are configurable. You could configure the system to not use an initramfs, use only an initramfs&#x2F;squashfs, etc. It is a really great tool with great documentation.<p>I agree that Yocto is a bit masochistic by comparison, but vendors like it because its primary purpose is to enable shitty vendor forks.</div><br/></div></div></div></div><div id="41750098" class="c"><input type="checkbox" id="c-41750098" checked=""/><div class="controls bullet"><span class="by">ahepp</span><span>|</span><a href="#41748996">root</a><span>|</span><a href="#41749187">parent</a><span>|</span><a href="#41751103">prev</a><span>|</span><a href="#41749163">next</a><span>|</span><label class="collapse" for="c-41750098">[-]</label><label class="expand" for="c-41750098">[1 more]</label></div><br/><div class="children"><div class="content">I reckon you are already aware of this if you’re using it to generate an initramfs, but for those reading along, you can also use it as a docker image</div><br/></div></div></div></div></div></div></div></div><div id="41751507" class="c"><input type="checkbox" id="c-41751507" checked=""/><div class="controls bullet"><span class="by">andrewmcwatters</span><span>|</span><a href="#41748996">prev</a><span>|</span><a href="#41751459">next</a><span>|</span><label class="collapse" for="c-41751507">[-]</label><label class="expand" for="c-41751507">[4 more]</label></div><br/><div class="children"><div class="content">I remember trying to automate non-distribution builds of a functional GNU&#x2F;Linux operating system and trying to not read Linux from Scratch but just official kernel.org documentation.[1]<p>Unfortunately, the state of Linux documentation is so poor, you can&#x27;t do it. You need to reference a number of third-party articles that kernel.org itself sometimes links you to.<p>I believe kernel.org might also mention Linux from Scratch, but LFS does a very poor job of explaining why you need particular dependencies straight out of initramfs.<p>You need a functional shell, and you need to get your installation on to an actual drive. Neither of those things are explained in sufficient detail with the current documentation available today.<p>LFS at best says &quot;throw in these ingredients,&quot; and leaves you with no other information. You can probably read man pages and piece this stuff together, but it requires that you, at the very least, hardcode where to install files with fsck&#x2F;mount&#x2F;cp, I think.<p>Edit: LFS also does a really poor job of explaining why it chooses its &quot;Basic System Software,&quot; much of which isn&#x27;t actually required for a common GNU&#x2F;Linux system.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewmcwatters&#x2F;linux-workflow">https:&#x2F;&#x2F;github.com&#x2F;andrewmcwatters&#x2F;linux-workflow</a></div><br/><div id="41752624" class="c"><input type="checkbox" id="c-41752624" checked=""/><div class="controls bullet"><span class="by">machinestops</span><span>|</span><a href="#41751507">parent</a><span>|</span><a href="#41751459">next</a><span>|</span><label class="collapse" for="c-41752624">[-]</label><label class="expand" for="c-41752624">[3 more]</label></div><br/><div class="children"><div class="content">&gt; why you need particular dependencies straight out of initramfs.<p>It came as a shock to me to learn that initramfs is mostly optional. It can be skipped, and you can boot straight into userland.</div><br/><div id="41753074" class="c"><input type="checkbox" id="c-41753074" checked=""/><div class="controls bullet"><span class="by">andrewmcwatters</span><span>|</span><a href="#41751507">root</a><span>|</span><a href="#41752624">parent</a><span>|</span><a href="#41751459">next</a><span>|</span><label class="collapse" for="c-41753074">[-]</label><label class="expand" for="c-41753074">[2 more]</label></div><br/><div class="children"><div class="content">Yes, but if I understand correctly, you’d need to configure for this specifically. I think standard configurations and installations use them.</div><br/><div id="41753633" class="c"><input type="checkbox" id="c-41753633" checked=""/><div class="controls bullet"><span class="by">machinestops</span><span>|</span><a href="#41751507">root</a><span>|</span><a href="#41753074">parent</a><span>|</span><a href="#41751459">next</a><span>|</span><label class="collapse" for="c-41753633">[-]</label><label class="expand" for="c-41753633">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it requires specific configuration. The reason most distributions of Linux use them is it allows you to dynamically discover and load kernel modules at boot time, and provide a fallback for if mounting the disk fails.</div><br/></div></div></div></div></div></div></div></div><div id="41751459" class="c"><input type="checkbox" id="c-41751459" checked=""/><div class="controls bullet"><span class="by">rbattula</span><span>|</span><a href="#41751507">prev</a><span>|</span><a href="#41749814">next</a><span>|</span><label class="collapse" for="c-41751459">[-]</label><label class="expand" for="c-41751459">[1 more]</label></div><br/><div class="children"><div class="content">tried lfs back in high school really fun experience and teaches you a lot</div><br/></div></div><div id="41749814" class="c"><input type="checkbox" id="c-41749814" checked=""/><div class="controls bullet"><span class="by">dark-star</span><span>|</span><a href="#41751459">prev</a><span>|</span><a href="#41752342">next</a><span>|</span><label class="collapse" for="c-41749814">[-]</label><label class="expand" for="c-41749814">[1 more]</label></div><br/><div class="children"><div class="content">I have used CLFS (Cross-Linux From Scratch) in the past a couple of times to build a Linux system for Sun UltraSPARC and SGI Octane systems.<p>The things I learned, especially about cross-compiling, were invaluable, but you do have to invest some time understanding everything (even reading patches that you have to apply on top of build tools, for example) to get the most out of it. If you just copy&#x2F;paste commands, well then there are faster&#x2F;easier ways to get Linux up and running<p>Edit: I just noted that CLFS has been dead for a couple of years now, which is sad. I would have loved to try an updated CLFS</div><br/></div></div><div id="41752342" class="c"><input type="checkbox" id="c-41752342" checked=""/><div class="controls bullet"><span class="by">Razengan</span><span>|</span><a href="#41749814">prev</a><span>|</span><a href="#41750025">next</a><span>|</span><label class="collapse" for="c-41752342">[-]</label><label class="expand" for="c-41752342">[2 more]</label></div><br/><div class="children"><div class="content">Anyone else annoyed by “online books” sites like these where you have to play a convoluted game find-the-breadcrumbs from the website landing page to the beginning of the actual book content..</div><br/><div id="41753123" class="c"><input type="checkbox" id="c-41753123" checked=""/><div class="controls bullet"><span class="by">greggyb</span><span>|</span><a href="#41752342">parent</a><span>|</span><a href="#41750025">next</a><span>|</span><label class="collapse" for="c-41753123">[-]</label><label class="expand" for="c-41753123">[1 more]</label></div><br/><div class="children"><div class="content">Two clicks from the landing page.<p>1. Choose the book you want to read (they call them sub-projects)<p>2. &quot;Download&quot; or &quot;Read online&quot;<p>Of course, they could reverse the nav order and provide first a &quot;read online&quot;&#x2F;&quot;download&quot; and then let you pick which of the books you want to read, yielding ... two clicks to get to the one you want to read.</div><br/></div></div></div></div><div id="41750025" class="c"><input type="checkbox" id="c-41750025" checked=""/><div class="controls bullet"><span class="by">smitty1e</span><span>|</span><a href="#41752342">prev</a><span>|</span><a href="#41748898">next</a><span>|</span><label class="collapse" for="c-41750025">[-]</label><label class="expand" for="c-41750025">[1 more]</label></div><br/><div class="children"><div class="content">I have gone all the way through this, #21584. What a tremendous resource.</div><br/></div></div><div id="41748898" class="c"><input type="checkbox" id="c-41748898" checked=""/><div class="controls bullet"><span class="by">sirsinsalot</span><span>|</span><a href="#41750025">prev</a><span>|</span><label class="collapse" for="c-41748898">[-]</label><label class="expand" for="c-41748898">[2 more]</label></div><br/><div class="children"><div class="content">Ah yes, I remember the year I lost to this and the pain of cross compilation. Reader beware.</div><br/><div id="41749766" class="c"><input type="checkbox" id="c-41749766" checked=""/><div class="controls bullet"><span class="by">astrobe_</span><span>|</span><a href="#41748898">parent</a><span>|</span><label class="collapse" for="c-41749766">[-]</label><label class="expand" for="c-41749766">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve crossed-compiled things from time-to-time along the years, and it seems to me that support has improved a bit. Some time ago it was &quot;cross..wut?&quot; but now it is fairly commonly supported and tested. I think it&#x27;s thanks to Raspi and other popular ARM-based things.</div><br/></div></div></div></div></div></div></div></div></div></body></html>