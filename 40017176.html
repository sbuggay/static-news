<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712998867886" as="style"/><link rel="stylesheet" href="styles.css?v=1712998867886"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://olegtarasov.me/opentherm-thermostat-esphome/">DIY Wi-Fi thermostat from scratch with ESPHome and Home Assistant</a> <span class="domain">(<a href="https://olegtarasov.me">olegtarasov.me</a>)</span></div><div class="subtext"><span>oleg_tarasov</span> | <span>8 comments</span></div><br/><div><div id="40021421" class="c"><input type="checkbox" id="c-40021421" checked=""/><div class="controls bullet"><span class="by">Luker88</span><span>|</span><a href="#40021266">next</a><span>|</span><label class="collapse" for="c-40021421">[-]</label><label class="expand" for="c-40021421">[2 more]</label></div><br/><div class="children"><div class="content">Nice!<p>This references a couple of OpenTherm project, so let&#x27;s add the usual disclaimer:<p>The OpenTherm protocol is <i>not</i> open.<p>You can only find the spec for v2, they are now drafting v5. Yearly membership is about 3K if I remember correctly (without testing software, just for the spec).<p>There seems to be big difference in what you can do after v2, and it includes power delivery, maybe more fine grained control on heating curves and such (unclear, I don&#x27;t have the spec)<p>Not all boilers support opentherm (but most should), and those who do don&#x27;t support all features (but the most basic should always be present).</div><br/><div id="40021571" class="c"><input type="checkbox" id="c-40021571" checked=""/><div class="controls bullet"><span class="by">oleg_tarasov</span><span>|</span><a href="#40021421">parent</a><span>|</span><a href="#40021266">next</a><span>|</span><label class="collapse" for="c-40021571">[-]</label><label class="expand" for="c-40021571">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the context! I didn&#x27;t research OpenTherm much, since my boiler is one of the most basic models on the market. It supports just the bare minimum from V2 spec, but it works, so I&#x27;m not complaining :)  This boiler was already installed when we bought the house, so not needing to replace it was a great way to save some money for remodelling.<p>Otherwise, I completely agree that charging 3K for the spec is a stupid money grab. When the time comes to build a new house and choose a new boiler, my choice will be influenced by what protocols are available and whether I can control the boiler with my own thermostat.</div><br/></div></div></div></div><div id="40021266" class="c"><input type="checkbox" id="c-40021266" checked=""/><div class="controls bullet"><span class="by">jandeboevrie</span><span>|</span><a href="#40021421">prev</a><span>|</span><a href="#40021246">next</a><span>|</span><label class="collapse" for="c-40021266">[-]</label><label class="expand" for="c-40021266">[2 more]</label></div><br/><div class="children"><div class="content">esphome is by far the best and most useful piece of software I&#x27;ve encountered in a long time!<p>Even for non home automation. Simple web API to turn gpio&#x27;s on or off, coupled with some relays makes for a great easy yaml configurable industrial automation system</div><br/><div id="40021305" class="c"><input type="checkbox" id="c-40021305" checked=""/><div class="controls bullet"><span class="by">oleg_tarasov</span><span>|</span><a href="#40021266">parent</a><span>|</span><a href="#40021246">next</a><span>|</span><label class="collapse" for="c-40021305">[-]</label><label class="expand" for="c-40021305">[1 more]</label></div><br/><div class="children"><div class="content">I completely agree, using ESPHome beats writing firmware from scratch, even though lots of Arduino libraries are available. But the flip side is that ESPHome is in active development with lots of contributors, so sometimes things don&#x27;t work as you might expect. And if that happens, your only option is to spin up an IDE and dive into source code :) For example, during this project I had to fork an abandoned OpenTherm library and rewrite almost half of it, as well as contribute a couple of bugfixes to ESPHome itself. It was actually fun, and I expected something like that from the beginning, but such a sharp drop from a cliff when YAML config doesn&#x27;t work, will be a surprise for most people :)</div><br/></div></div></div></div><div id="40021246" class="c"><input type="checkbox" id="c-40021246" checked=""/><div class="controls bullet"><span class="by">shrx</span><span>|</span><a href="#40021266">prev</a><span>|</span><a href="#40021059">next</a><span>|</span><label class="collapse" for="c-40021246">[-]</label><label class="expand" for="c-40021246">[2 more]</label></div><br/><div class="children"><div class="content">I was hoping to see some plots of the PID temperature control in action, I&#x27;m curious what is the final fluctuation in room temperature with a setup like this.</div><br/><div id="40021278" class="c"><input type="checkbox" id="c-40021278" checked=""/><div class="controls bullet"><span class="by">oleg_tarasov</span><span>|</span><a href="#40021246">parent</a><span>|</span><a href="#40021059">next</a><span>|</span><label class="collapse" for="c-40021278">[-]</label><label class="expand" for="c-40021278">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for the suggestion! I will try to add some plots if data from winter months is still available in Home Assistant. Based on my observations during winter, room temperature fluctuation is usually ±0.3° C around target temperature, which I consider to be pretty good for a first prototype :)</div><br/></div></div></div></div><div id="40021059" class="c"><input type="checkbox" id="c-40021059" checked=""/><div class="controls bullet"><span class="by">voltagex_</span><span>|</span><a href="#40021246">prev</a><span>|</span><label class="collapse" for="c-40021059">[-]</label><label class="expand" for="c-40021059">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need the AI generated picture at the top of that article.</div><br/></div></div></div></div></div></div></div></body></html>