<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717318872462" as="style"/><link rel="stylesheet" href="styles.css?v=1717318872462"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/distantmagic/paddler">Show HN: Open-source load balancer for llama.cpp</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>mcharytoniuk</span> | <span>8 comments</span></div><br/><div><div id="40551886" class="c"><input type="checkbox" id="c-40551886" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#40551496">next</a><span>|</span><label class="collapse" for="c-40551886">[-]</label><label class="expand" for="c-40551886">[2 more]</label></div><br/><div class="children"><div class="content">Does it do queuing ? Didn’t see it in the readme. I haven’t seen (but that says nothing at all) an open source solution that queues when all are busy and allow me to show a countdown of people in the queue. Like the closed ones do.</div><br/><div id="40552053" class="c"><input type="checkbox" id="c-40552053" checked=""/><div class="controls bullet"><span class="by">ritonlajoie</span><span>|</span><a href="#40551886">parent</a><span>|</span><a href="#40551496">next</a><span>|</span><label class="collapse" for="c-40552053">[-]</label><label class="expand" for="c-40552053">[1 more]</label></div><br/><div class="children"><div class="content">I stumbled on this yesterday, it seems to have a queue concept..
 <a href="https:&#x2F;&#x2F;github.com&#x2F;ParisNeo&#x2F;ollama_proxy_server">https:&#x2F;&#x2F;github.com&#x2F;ParisNeo&#x2F;ollama_proxy_server</a></div><br/></div></div></div></div><div id="40551496" class="c"><input type="checkbox" id="c-40551496" checked=""/><div class="controls bullet"><span class="by">curious_cat_163</span><span>|</span><a href="#40551886">prev</a><span>|</span><label class="collapse" for="c-40551496">[-]</label><label class="expand" for="c-40551496">[5 more]</label></div><br/><div class="children"><div class="content">&gt; a stateful load balancer that is aware of each server&#x27;s available slots<p>Interesting. Curious to understand what a &#x27;slot&#x27; is, in this context.<p>Is that a llama.cpp specific application-layer state that llama.cpp makes available? Or is this an application-layer state that is being inferred? If later, how?</div><br/><div id="40552354" class="c"><input type="checkbox" id="c-40552354" checked=""/><div class="controls bullet"><span class="by">riedel</span><span>|</span><a href="#40551496">parent</a><span>|</span><a href="#40551543">next</a><span>|</span><label class="collapse" for="c-40552354">[-]</label><label class="expand" for="c-40552354">[1 more]</label></div><br/><div class="children"><div class="content">What does stateful mean: I always wonder how loading states of users is done, it seems that one can call `llama_state_set_data` , does this load balancer create a central store for such states? What is the overhead of transfering state?</div><br/></div></div><div id="40551543" class="c"><input type="checkbox" id="c-40551543" checked=""/><div class="controls bullet"><span class="by">tjfontaine</span><span>|</span><a href="#40551496">parent</a><span>|</span><a href="#40552354">prev</a><span>|</span><a href="#40551741">next</a><span>|</span><label class="collapse" for="c-40551543">[-]</label><label class="expand" for="c-40551543">[1 more]</label></div><br/><div class="children"><div class="content">Looks like it’s to only have one completion running at a time currently, <a href="https:&#x2F;&#x2F;github.com&#x2F;distantmagic&#x2F;paddler&#x2F;blob&#x2F;main&#x2F;loadbalancer&#x2F;LoadBalancerRequest.go#L10">https:&#x2F;&#x2F;github.com&#x2F;distantmagic&#x2F;paddler&#x2F;blob&#x2F;main&#x2F;loadbalanc...</a> I was curious if there was any other cache tracking happening</div><br/></div></div><div id="40551741" class="c"><input type="checkbox" id="c-40551741" checked=""/><div class="controls bullet"><span class="by">asne11</span><span>|</span><a href="#40551496">parent</a><span>|</span><a href="#40551543">prev</a><span>|</span><label class="collapse" for="c-40551741">[-]</label><label class="expand" for="c-40551741">[2 more]</label></div><br/><div class="children"><div class="content">&quot;slot&quot; is a processing unit. Either GPU or CPU. I believe `llama.c` is only CPU so I&#x27;m guessing 1 slot = 1 core (or thread)?</div><br/><div id="40551980" class="c"><input type="checkbox" id="c-40551980" checked=""/><div class="controls bullet"><span class="by">new299</span><span>|</span><a href="#40551496">root</a><span>|</span><a href="#40551741">parent</a><span>|</span><label class="collapse" for="c-40551980">[-]</label><label class="expand" for="c-40551980">[1 more]</label></div><br/><div class="children"><div class="content">llama.cpp is not CPU only…</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>