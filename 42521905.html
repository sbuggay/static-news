<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735376451365" as="style"/><link rel="stylesheet" href="styles.css?v=1735376451365"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.pqconnect.net/">PQConnect: Automated Post-Quantum End-to-End Tunnels</a> <span class="domain">(<a href="https://www.pqconnect.net">www.pqconnect.net</a>)</span></div><div class="subtext"><span>nabla9</span> | <span>15 comments</span></div><br/><div><div id="42527065" class="c"><input type="checkbox" id="c-42527065" checked=""/><div class="controls bullet"><span class="by">philsnow</span><span>|</span><a href="#42525542">next</a><span>|</span><label class="collapse" for="c-42527065">[-]</label><label class="expand" for="c-42527065">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The advantage of PQConnect is that, once you have installed PQConnect on your computer, PQConnect automatically detects servers that support PQConnect, and transparently encrypts traffic to those servers.<p>I mainly take issue with this claim of &quot;automatically&quot; detecting servers and magically doing post-quantum magic to your connections, magically.<p>It seems to do so by noticing that DNS records for names are CNAMEs that match a format (&quot;pq1&quot; and then a 52-char b32-encoded hash), which it does by creating a netfilter rule for &quot;udp sport 53&quot; [0].<p>So, I guess if you don&#x27;t have adversaries racing your DNS response packets, and you&#x27;re not using dns-over-tls or dns-over-https, then the magic can work.<p>One glaring problem with this kind of automatic, magic setup is that if you do have attackers, or if your system does dns in some newfangled way that wasn&#x27;t thought up in the 1980s, then it doesn&#x27;t secure your connection, but it also doesn&#x27;t tell you that it failed to do so.<p>So many clients (imap, ldap, anything) that use StartTLS don&#x27;t default to &quot;fail if TLS doesn&#x27;t work&quot; and don&#x27;t tell the user anything about it, and it makes me hate StartTLS even though the fault isn&#x27;t directly with StartTLS.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;jedisct1&#x2F;pqconnect&#x2F;blob&#x2F;6d093005ed164ff314dd69b9f59175e6727d71a5&#x2F;src&#x2F;pqconnect&#x2F;nft.py#L69">https:&#x2F;&#x2F;github.com&#x2F;jedisct1&#x2F;pqconnect&#x2F;blob&#x2F;6d093005ed164ff31...</a></div><br/></div></div><div id="42525542" class="c"><input type="checkbox" id="c-42525542" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#42527065">prev</a><span>|</span><a href="#42526454">next</a><span>|</span><label class="collapse" for="c-42525542">[-]</label><label class="expand" for="c-42525542">[1 more]</label></div><br/><div class="children"><div class="content">From the Compatibility page:<p>“The initial PQConnect software release is for Linux. The software installation relies on packages supplied by Linux distributions. Package names are not synchronized across Linux distributions. The installation currently understands the names for Debian; Debian derivatives such as Ubuntu and Raspbian; Arch; and Gentoo. Adding further distributions should be easy. [The installation also requires root access.]<p>“Support for non-Linux operating systems is planned, handling the different mechanisms that different operating systems provide for reading and writing IP-layer packets. The PQConnect system as a whole is designed to be compatible with any operating system. The PQConnect software is written in Python. The underlying C libraries for cryptography have already been ported to MacOS.<p>“Accessing the IP layer is not the only way to implement the PQConnect protocol. Existing user-level applications access the kernel&#x27;s network stack via system calls, normally via libc. It is possible to modify those network packets by modifying the kernel, by modifying libc, or by pre-loading a PQConnect dynamic library, still without touching the individual applications. […]”<p>I would have expected information about OS support, and on which application&#x2F;OS layer PQConnect operates, on the Intro page.</div><br/></div></div><div id="42526454" class="c"><input type="checkbox" id="c-42526454" checked=""/><div class="controls bullet"><span class="by">coppsilgold</span><span>|</span><a href="#42525542">prev</a><span>|</span><a href="#42524094">next</a><span>|</span><label class="collapse" for="c-42526454">[-]</label><label class="expand" for="c-42526454">[1 more]</label></div><br/><div class="children"><div class="content">There are a number (or just one? Mullvad) of commercial VPN providers that provide an optional PQC layer, and that fact is referenced on this project&#x27;s page.<p>There is also VPN software that incorporates PQC (also referenced): &lt;<a href="https:&#x2F;&#x2F;rosenpass.eu" rel="nofollow">https:&#x2F;&#x2F;rosenpass.eu</a>&gt;<p>What this project attempts to do is to establish a transparent PQC stream between client and server.<p>I&#x27;m not sure I like the way they are doing this, with a lot of magic (PQConnect inserts itself into the network stack to inspect incoming DNS responses) and with Python of all things.[1][2][3]<p>I think the best way to do this is to graft it on top of QUIC and not mess with linux network plumbing. Perhaps integrate it with something like &lt;<a href="https:&#x2F;&#x2F;github.com&#x2F;n0-computer&#x2F;iroh">https:&#x2F;&#x2F;github.com&#x2F;n0-computer&#x2F;iroh</a>&gt;<p>[1] &lt;<a href="https:&#x2F;&#x2F;www.pqconnect.net&#x2F;pqconnect-20241206.pdf" rel="nofollow">https:&#x2F;&#x2F;www.pqconnect.net&#x2F;pqconnect-20241206.pdf</a>&gt;<p>[2] &lt;<a href="https:&#x2F;&#x2F;www.pqconnect.net&#x2F;20241227.pdf" rel="nofollow">https:&#x2F;&#x2F;www.pqconnect.net&#x2F;20241227.pdf</a>&gt;<p>[3] &lt;<a href="https:&#x2F;&#x2F;github.com&#x2F;jedisct1&#x2F;pqconnect&#x2F;tree&#x2F;main&#x2F;src&#x2F;pqconnect">https:&#x2F;&#x2F;github.com&#x2F;jedisct1&#x2F;pqconnect&#x2F;tree&#x2F;main&#x2F;src&#x2F;pqconnec...</a>&gt;</div><br/></div></div><div id="42524094" class="c"><input type="checkbox" id="c-42524094" checked=""/><div class="controls bullet"><span class="by">arj</span><span>|</span><a href="#42526454">prev</a><span>|</span><a href="#42526258">next</a><span>|</span><label class="collapse" for="c-42524094">[-]</label><label class="expand" for="c-42524094">[2 more]</label></div><br/><div class="children"><div class="content">Does not seem like the source code is available?</div><br/><div id="42524163" class="c"><input type="checkbox" id="c-42524163" checked=""/><div class="controls bullet"><span class="by">nemoniac</span><span>|</span><a href="#42524094">parent</a><span>|</span><a href="#42526258">next</a><span>|</span><label class="collapse" for="c-42524163">[-]</label><label class="expand" for="c-42524163">[1 more]</label></div><br/><div class="children"><div class="content">Click through to &quot;For users&quot;.<p>Python source code available at<p>www.pqconnect.net&#x2F;pqconnect-1.2.1.tar.gz</div><br/></div></div></div></div><div id="42526258" class="c"><input type="checkbox" id="c-42526258" checked=""/><div class="controls bullet"><span class="by">ur-whale</span><span>|</span><a href="#42524094">prev</a><span>|</span><a href="#42524369">next</a><span>|</span><label class="collapse" for="c-42526258">[-]</label><label class="expand" for="c-42526258">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s rather unclear how this integrates with the OS you run on top of.<p>I think a short explanation of how this actually works (not the post-quantum crypto part, but rather the plumbing into the networking stack of your box) would be very helpful.<p>[EDIT]: an a very quick first glance at the python source code and the install scripts reveals that a PQconnect install performs rather intrusive changes to your system:<p><pre><code>    - installs lots of packages
    - installs a daemon running under systemd
    - creates a new user
    - creates a new tunnel network device
</code></pre>
I&#x27;m going to take a wild initial guess and assume that there&#x27;s some dynamic manipulation of low-level networking state (routing tables, iptables, etc...), which makes me rather queasy to install this on a production and&#x2F;or work system because I have no idea if it is going to wreck my existing setup.<p>Also, the server is written in python ... I most certainly hope the python code is not in any way processing &#x2F; redirecting network traffic itself in userland, or performance is going to be awful.<p>All of this points to the fact that an overview of how pqconnect grafts itself into your Linux system would be <i>most</i> welcome.</div><br/></div></div><div id="42524369" class="c"><input type="checkbox" id="c-42524369" checked=""/><div class="controls bullet"><span class="by">orlp</span><span>|</span><a href="#42526258">prev</a><span>|</span><a href="#42525067">next</a><span>|</span><label class="collapse" for="c-42524369">[-]</label><label class="expand" for="c-42524369">[5 more]</label></div><br/><div class="children"><div class="content">Seems a bit disrespectful to only list the big name professors in the title and shove the PhD student who seemingly actually wrote the pqconnect software (Jonathan D. Levin) into the ohters [sic] category.</div><br/><div id="42524852" class="c"><input type="checkbox" id="c-42524852" checked=""/><div class="controls bullet"><span class="by">nabla9</span><span>|</span><a href="#42524369">parent</a><span>|</span><a href="#42525067">next</a><span>|</span><label class="collapse" for="c-42524852">[-]</label><label class="expand" for="c-42524852">[4 more]</label></div><br/><div class="children"><div class="content">The purpose of the title is not to distribute credit.<p>It&#x27;s to provide information about the link. People in HN don&#x27;t know Levin (yet). The nave conveys no information. . Everybody knows DJB and Lange.</div><br/><div id="42525073" class="c"><input type="checkbox" id="c-42525073" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42524369">root</a><span>|</span><a href="#42524852">parent</a><span>|</span><a href="#42525503">next</a><span>|</span><label class="collapse" for="c-42525073">[-]</label><label class="expand" for="c-42525073">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;re not supposed to do that in links on HN.<p><a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?dateRange=all&amp;page=0&amp;prefix=false&amp;query=original%20title%20by%3Adang&amp;sort=byDate&amp;type=comment" rel="nofollow">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?dateRange=all&amp;page=0&amp;prefix=false&amp;qu...</a></div><br/></div></div><div id="42525503" class="c"><input type="checkbox" id="c-42525503" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#42524369">root</a><span>|</span><a href="#42524852">parent</a><span>|</span><a href="#42525073">prev</a><span>|</span><a href="#42525067">next</a><span>|</span><label class="collapse" for="c-42525503">[-]</label><label class="expand" for="c-42525503">[1 more]</label></div><br/><div class="children"><div class="content">It wasn’t clear to me that DJB and Lange in the title were names of persons.</div><br/></div></div></div></div></div></div><div id="42525067" class="c"><input type="checkbox" id="c-42525067" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42524369">prev</a><span>|</span><label class="collapse" for="c-42525067">[-]</label><label class="expand" for="c-42525067">[2 more]</label></div><br/><div class="children"><div class="content">The title of this post should be &quot;PQConnect&quot;, or &quot;PQConnect:
Automated Post-Quantum End-to-End Tunnels&quot; (from the paper). The editorialized title here now stiffs the guy who actually wrote the software.<p>This looks like basically a McEliece&#x2F;SNTRUP version of Colin Percival&#x27;s spiped.</div><br/><div id="42525121" class="c"><input type="checkbox" id="c-42525121" checked=""/><div class="controls bullet"><span class="by">jmspring</span><span>|</span><a href="#42525067">parent</a><span>|</span><label class="collapse" for="c-42525121">[-]</label><label class="expand" for="c-42525121">[1 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t sound a lot different than Tailscale co-option (commercially) of Wireguard?</div><br/></div></div></div></div></div></div></div></div></div></body></html>