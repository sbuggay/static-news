<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735290050552" as="style"/><link rel="stylesheet" href="styles.css?v=1735290050552"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nflatrea.bearblog.dev/lua-is-so-underrated/">Lua Is So Underrated</a> <span class="domain">(<a href="https://nflatrea.bearblog.dev">nflatrea.bearblog.dev</a>)</span></div><div class="subtext"><span>nflatrea</span> | <span>181 comments</span></div><br/><div><div id="42518992" class="c"><input type="checkbox" id="c-42518992" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518848">next</a><span>|</span><label class="collapse" for="c-42518992">[-]</label><label class="expand" for="c-42518992">[11 more]</label></div><br/><div class="children"><div class="content">Lua is not underrated. It’s how many now, still 4(?) different languages which continue to suicide after a few years, all with cringe [re]design decisions, half-assed mechanics and lack of convenience that authors refuse to address. I spent many years on it (embedding, metaprogramming, all the deep things) and it is one of my biggest regrets in the choice of tech. The amount of effort you’ll put into not sliding out of this crazy ride nullifies all the promises of easyness, which is limited to trivial things anyway and explodes with complexity in any non-trivial data exchange. Its only upside is low footprint, but I fail to see where it matters today (apart from nodemcu whose active users could probably fit in one closet).<p><a href="https:&#x2F;&#x2F;github.com&#x2F;nodemcu&#x2F;nodemcu-firmware">https:&#x2F;&#x2F;github.com&#x2F;nodemcu&#x2F;nodemcu-firmware</a><p><i>Based on Lua 5.1.4 or Lua 5.3 but without debug, io, os and (most of the) math modules</i><p>As expected, they didn’t bother to support all versions and probably were done with it after 5.4 announcement.</div><br/><div id="42519423" class="c"><input type="checkbox" id="c-42519423" checked=""/><div class="controls bullet"><span class="by">raincole</span><span>|</span><a href="#42518992">parent</a><span>|</span><a href="#42519417">next</a><span>|</span><label class="collapse" for="c-42519423">[-]</label><label class="expand" for="c-42519423">[2 more]</label></div><br/><div class="children"><div class="content">Personally I would choose JavaScript over Lua anytime*. Lua gives me &quot;poor man&#x27;s JavaScript&quot; vibe.<p>* (If the target hardware can afford V8&#x2F;node runtime, obviously)</div><br/><div id="42520687" class="c"><input type="checkbox" id="c-42520687" checked=""/><div class="controls bullet"><span class="by">realusername</span><span>|</span><a href="#42518992">root</a><span>|</span><a href="#42519423">parent</a><span>|</span><a href="#42519417">next</a><span>|</span><label class="collapse" for="c-42520687">[-]</label><label class="expand" for="c-42520687">[1 more]</label></div><br/><div class="children"><div class="content">&gt; * (If the target hardware can afford V8&#x2F;node runtime, obviously)<p>If it doesn&#x27;t, I&#x27;d still use Duktape or QuickJS over a Lua engine</div><br/></div></div></div></div><div id="42519417" class="c"><input type="checkbox" id="c-42519417" checked=""/><div class="controls bullet"><span class="by">unscaled</span><span>|</span><a href="#42518992">parent</a><span>|</span><a href="#42519423">prev</a><span>|</span><a href="#42520293">next</a><span>|</span><label class="collapse" for="c-42519417">[-]</label><label class="expand" for="c-42519417">[4 more]</label></div><br/><div class="children"><div class="content">Lua is definitely not underrated as an embedded Language. It is the uncontested winner of this field. If anything, I feel it is slightly overrated: it is easy to embed, but has no other real strength. Everything else feels about Lua feels a little bit meh for me. It is completely serviceable, and there are many apps where I have used Lua very effectively like Hammerspoon or Wezterm. But in the end of the day, every time I have to deal with a system that embeds Python or modern JavaScript, I am 2-5 more productive than I am with Lua. Sure, Python and JavaScript have their own warts, but they have grown and improved their ergonomics since the 90s. Lua, on the other hand, is a language that is philosophically hostile ergonomics.<p>Lua&#x27;s philosophy, as far as I can get it, is to be minimalist and allows for emergent features. You want arrays? We don&#x27;t natively support arrays, but you can use tables as arrays. You want classes? You can build your own class system  or prototype system using tables. You want to implement anything else? Well, we&#x27;ve got some metaprogramming for you. The problem with this approach, is that you don&#x27;t end up with one language, but with hundreds of different and confusing dialect, where each programmer does their own thing, this is how JavaScript used to be with regards to concurrency and classes, and it wasn&#x27;t good.<p>The other issues that arise from this philosophy is that Lua lacks a lot of ergonomic features which cannot easily emerge out of its simple tables+closures+coroutines foundations. There are no type hints (like Python got), const (like JavaScript), default argument values, array&#x2F;table destructuring, try&#x2F;catch blocks, string interpolation, foreach loops, immutable values, etc.<p>These features sure add a lot of complexity to the language implementation, but they are extremely valuable in saving programmer time and cutting down bugs. Lua takes the Worse Is Better approach here and saves implementation complexity by pushing it down to the user. If this complexity doesn&#x27;t exist in the Lua interpreter it doesn&#x27;t disappear: the programmer has to deal with it by making bugs more likely and debugging harder.<p>Lua might be a worthwhile trade-off where the choice is between embedding Lua or Embedding nothing, since other languages are harder to embed. Or in industries where it&#x27;s deeply established like gaming. But I cannot say it&#x27;s a language I enjoy programming, and I don&#x27;t see any reason to use it in a non-embedded context. Apparently no one else does, but that&#x27;s not because Lua is underrated.</div><br/><div id="42519461" class="c"><input type="checkbox" id="c-42519461" checked=""/><div class="controls bullet"><span class="by">raincole</span><span>|</span><a href="#42518992">root</a><span>|</span><a href="#42519417">parent</a><span>|</span><a href="#42520347">next</a><span>|</span><label class="collapse" for="c-42519461">[-]</label><label class="expand" for="c-42519461">[2 more]</label></div><br/><div class="children"><div class="content">Lua kinda has an unofficial type hint implementation (via lua-language-server). But at this point I would just use TypeScript.<p>&gt; Lua&#x27;s philosophy, as far as I can get it, is to be minimalist and allows for emergent features<p>IMO this philosophy only shines in languages with macro, e.g. lisp family.</div><br/><div id="42520637" class="c"><input type="checkbox" id="c-42520637" checked=""/><div class="controls bullet"><span class="by">MattJ100</span><span>|</span><a href="#42518992">root</a><span>|</span><a href="#42519461">parent</a><span>|</span><a href="#42520347">next</a><span>|</span><label class="collapse" for="c-42520637">[-]</label><label class="expand" for="c-42520637">[1 more]</label></div><br/><div class="children"><div class="content">You should take a look at Fennel ( <a href="https:&#x2F;&#x2F;fennel-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;fennel-lang.org&#x2F;</a> ) then - it takes Lua in a lisp direction, including macro support.</div><br/></div></div></div></div><div id="42520347" class="c"><input type="checkbox" id="c-42520347" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#42518992">root</a><span>|</span><a href="#42519417">parent</a><span>|</span><a href="#42519461">prev</a><span>|</span><a href="#42520293">next</a><span>|</span><label class="collapse" for="c-42520347">[-]</label><label class="expand" for="c-42520347">[1 more]</label></div><br/><div class="children"><div class="content">I have several friends who have worked on embedded interpreters, and one has used lots of forth, the other lots of tcl.<p>WOnder how they compare?</div><br/></div></div></div></div><div id="42520293" class="c"><input type="checkbox" id="c-42520293" checked=""/><div class="controls bullet"><span class="by">MomsAVoxell</span><span>|</span><a href="#42518992">parent</a><span>|</span><a href="#42519417">prev</a><span>|</span><a href="#42519458">next</a><span>|</span><label class="collapse" for="c-42520293">[-]</label><label class="expand" for="c-42520293">[2 more]</label></div><br/><div class="children"><div class="content">What products have you made with Lua?</div><br/><div id="42520402" class="c"><input type="checkbox" id="c-42520402" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518992">root</a><span>|</span><a href="#42520293">parent</a><span>|</span><a href="#42519458">next</a><span>|</span><label class="collapse" for="c-42520402">[-]</label><label class="expand" for="c-42520402">[1 more]</label></div><br/><div class="children"><div class="content">Trading bots for Arqa Quik.<p>Mostly functional cross-platform animated ui toolkit based on cairo&#x2F;pango&#x2F;gdk. Never published, probably still have a repo. I was proud of it cause it was better than gtk (if you ignore gc-related stutters).<p>A backend for a boring accounting-related project.<p>I also have developed an active-record like platform using Lua, but dropped the idea eventually. It was a repl-devenv-like thing with “active” ui, data, transparent networking, etc.<p>In product-ish category that’s all probably. Not much of it were actual products, as in portfolio sense.</div><br/></div></div></div></div><div id="42519458" class="c"><input type="checkbox" id="c-42519458" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#42518992">parent</a><span>|</span><a href="#42520293">prev</a><span>|</span><a href="#42518848">next</a><span>|</span><label class="collapse" for="c-42519458">[-]</label><label class="expand" for="c-42519458">[2 more]</label></div><br/><div class="children"><div class="content">What happened with the 5.4 announcement?</div><br/><div id="42519632" class="c"><input type="checkbox" id="c-42519632" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518992">root</a><span>|</span><a href="#42519458">parent</a><span>|</span><a href="#42518848">next</a><span>|</span><label class="collapse" for="c-42519632">[-]</label><label class="expand" for="c-42519632">[1 more]</label></div><br/><div class="children"><div class="content">You eventually become unamazed by news like a new Lua version and lose interest. It was interesting and controversial in 5.0…5.2 period, but then code and userbases established and no one wants to break code or infuriate users. With all the half-subjective flaws, previous (alternate really) versions of Lua are absolutely “done” and usable, so just sticking with one is a readonable thing.</div><br/></div></div></div></div></div></div><div id="42518848" class="c"><input type="checkbox" id="c-42518848" checked=""/><div class="controls bullet"><span class="by">opticfluorine</span><span>|</span><a href="#42518992">prev</a><span>|</span><a href="#42520790">next</a><span>|</span><label class="collapse" for="c-42518848">[-]</label><label class="expand" for="c-42518848">[32 more]</label></div><br/><div class="children"><div class="content">Having just gone through the exercise of integrating Lua with a custom game engine over the past few weeks, I have to echo how clean the integration with other languages is.<p>It&#x27;s also worth noting that the interface is clean in such a way that it is straightforward to automatically generate bindings. In my case, I used a handful of Roslyn Incremental Source Generators to automatically generate bindings between C# and Lua that matched my overall architecture. It was not at all difficult because of the way the interface is designed. The Lua stack together with its dynamic typing and &quot;tables&quot; made it very easy to generate marshallers for arbitrary data classes between C# and Lua.<p>That said, there are plenty of valid criticisms of the language itself (sorry, not to nitpick, but I am really not a fan of one-based indexing). I&#x27;m thinking about designing an embedded scripting language that addresses some of these issues while having a similar interface for integration... Would make for a fun side project one of these days.</div><br/><div id="42518883" class="c"><input type="checkbox" id="c-42518883" checked=""/><div class="controls bullet"><span class="by">zogomoox</span><span>|</span><a href="#42518848">parent</a><span>|</span><a href="#42518912">next</a><span>|</span><label class="collapse" for="c-42518883">[-]</label><label class="expand" for="c-42518883">[1 more]</label></div><br/><div class="children"><div class="content">if you fix the one based indexing you should call yours KT@ or Kt`</div><br/></div></div><div id="42518912" class="c"><input type="checkbox" id="c-42518912" checked=""/><div class="controls bullet"><span class="by">ADeerAppeared</span><span>|</span><a href="#42518848">parent</a><span>|</span><a href="#42518883">prev</a><span>|</span><a href="#42520353">next</a><span>|</span><label class="collapse" for="c-42518912">[-]</label><label class="expand" for="c-42518912">[29 more]</label></div><br/><div class="children"><div class="content">&gt; sorry, not to nitpick, but I am really not a fan of one-based indexing<p>It is very funny how this is just <i>the one sole criticism</i> that always gets brought up. Not that other problems don&#x27;t exist, but they&#x27;re not very talked about.<p>Lua&#x27;s strength as a language is that it does a lot quite well in ways that aren&#x27;t noticeable. But when you compare things to the competition then they&#x27;re quite obvious.<p>E.g. Type Coercion. Complete shitshow in lots of languages. Nightmare in Javascript. In Lua? It&#x27;s quite elegant but most interestingly, <i>effortlessly</i> elegant. Very little of the rest of the language had to change to accomodate the improvement. (Excercise for the reader: Spot the one change that completely fixes string&lt;-&gt;number conversion)<p>Makes Brendan Eich look like a total clown in comparison.</div><br/><div id="42518967" class="c"><input type="checkbox" id="c-42518967" checked=""/><div class="controls bullet"><span class="by">taberiand</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518912">parent</a><span>|</span><a href="#42519069">next</a><span>|</span><label class="collapse" for="c-42518967">[-]</label><label class="expand" for="c-42518967">[11 more]</label></div><br/><div class="children"><div class="content">To be fair, having to work with 1 based indexing when you&#x27;re used to 0 would be a frustrating source of off-by-one errors and extra cognitive load</div><br/><div id="42519047" class="c"><input type="checkbox" id="c-42519047" checked=""/><div class="controls bullet"><span class="by">berkut</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518967">parent</a><span>|</span><a href="#42519103">next</a><span>|</span><label class="collapse" for="c-42519047">[-]</label><label class="expand" for="c-42519047">[1 more]</label></div><br/><div class="children"><div class="content">As someone who&#x27;s used Lua a lot as an embedded language in the VFX industry (The Games industry wasn&#x27;t the only one that used it for that!), and had to deal with wrapping C++ and Python APIs with Lua (and vice-versa at times!), this is indeed very annoying, especially when tracing through callstacks to work out what&#x27;s going on.<p>Eventually you end up in a place where it&#x27;s beneficial to have converter functions that show up in the call stack frames so that you can keep track of whether the index is in the right &quot;coordinate index system&quot; (for lack of a better term) for the right language.</div><br/></div></div><div id="42519103" class="c"><input type="checkbox" id="c-42519103" checked=""/><div class="controls bullet"><span class="by">chengiz</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518967">parent</a><span>|</span><a href="#42519047">prev</a><span>|</span><a href="#42518988">next</a><span>|</span><label class="collapse" for="c-42519103">[-]</label><label class="expand" for="c-42519103">[5 more]</label></div><br/><div class="children"><div class="content">It absolutely is. For a language whose biggest selling factor is embeddability with C&#x2F;C++, that decision (and I&#x27;m being polite) is a headscratcher (along with the other similar source of errors: 0 evaluating to true).</div><br/><div id="42519201" class="c"><input type="checkbox" id="c-42519201" checked=""/><div class="controls bullet"><span class="by">usrusr</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519103">parent</a><span>|</span><a href="#42520312">next</a><span>|</span><label class="collapse" for="c-42519201">[-]</label><label class="expand" for="c-42519201">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the perfect distraction: once you start accepting one-based, everything else that might be not quite to your liking isn&#x27;t worth talking about. I could easily imagine an alternative timeline where lua was zero-based, but never reached critical mass.</div><br/><div id="42519342" class="c"><input type="checkbox" id="c-42519342" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519201">parent</a><span>|</span><a href="#42520312">next</a><span>|</span><label class="collapse" for="c-42519342">[-]</label><label class="expand" for="c-42519342">[2 more]</label></div><br/><div class="children"><div class="content">Absolutely so. It’s just one obvious thing from a large set of issues with it.<p>One can read through “mystdlib” part of any meaningful Lua-based project to see it. Things you’ll likely find there are: NIL, poor man’s classes, __newindex proxying wrapper, strict(), empty dict literal for json, “fixed” iteration protocols.<p>You don’t even have to walk too far, it’s all right there in neovim: <a href="https:&#x2F;&#x2F;neovim.io&#x2F;doc&#x2F;user&#x2F;lua.html" rel="nofollow">https:&#x2F;&#x2F;neovim.io&#x2F;doc&#x2F;user&#x2F;lua.html</a></div><br/><div id="42519609" class="c"><input type="checkbox" id="c-42519609" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519342">parent</a><span>|</span><a href="#42520312">next</a><span>|</span><label class="collapse" for="c-42519609">[-]</label><label class="expand" for="c-42519609">[1 more]</label></div><br/><div class="children"><div class="content">This is very valuable!  Thank you!</div><br/></div></div></div></div></div></div><div id="42520312" class="c"><input type="checkbox" id="c-42520312" checked=""/><div class="controls bullet"><span class="by">Mikhail_Edoshin</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519103">parent</a><span>|</span><a href="#42519201">prev</a><span>|</span><a href="#42518988">next</a><span>|</span><label class="collapse" for="c-42520312">[-]</label><label class="expand" for="c-42520312">[1 more]</label></div><br/><div class="children"><div class="content">The language actually started as a data entry notation for scientists.</div><br/></div></div></div></div><div id="42518988" class="c"><input type="checkbox" id="c-42518988" checked=""/><div class="controls bullet"><span class="by">opticfluorine</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518967">parent</a><span>|</span><a href="#42519103">prev</a><span>|</span><a href="#42520536">next</a><span>|</span><label class="collapse" for="c-42518988">[-]</label><label class="expand" for="c-42518988">[1 more]</label></div><br/><div class="children"><div class="content">Especially when one of the language&#x27;s main purposes is to be embedded in applications written in other languages (which are predominantly zero based) - and so you tend to have a lot of back-and-forth integration between these two styles that can get confusing. Even from the C API side, for example, the Lua stack is one-based but addressed exclusively from the host language which is likely zero-based.</div><br/></div></div><div id="42520536" class="c"><input type="checkbox" id="c-42520536" checked=""/><div class="controls bullet"><span class="by">bigstrat2003</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518967">parent</a><span>|</span><a href="#42518988">prev</a><span>|</span><a href="#42519069">next</a><span>|</span><label class="collapse" for="c-42520536">[-]</label><label class="expand" for="c-42520536">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t really blame Lua for that, though. 1-based indexing comes <i>naturally</i> to humans. It&#x27;s the other languages which are backwards. I get why other languages are backwards from human intuition, I do. But if something has to be declared the bad guy, imo it&#x27;s the paradigm which is at odds with human intuition which deserves that label, not the paradigm which fits us well.</div><br/><div id="42520557" class="c"><input type="checkbox" id="c-42520557" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42520536">parent</a><span>|</span><a href="#42519069">next</a><span>|</span><label class="collapse" for="c-42520557">[-]</label><label class="expand" for="c-42520557">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.cs.utexas.edu&#x2F;~EWD&#x2F;transcriptions&#x2F;EWD08xx&#x2F;EWD831.html" rel="nofollow">https:&#x2F;&#x2F;www.cs.utexas.edu&#x2F;~EWD&#x2F;transcriptions&#x2F;EWD08xx&#x2F;EWD831...</a><p>Why numbering should start at zero. -- Dijkstra</div><br/><div id="42520738" class="c"><input type="checkbox" id="c-42520738" checked=""/><div class="controls bullet"><span class="by">MattJ100</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42520557">parent</a><span>|</span><a href="#42519069">next</a><span>|</span><label class="collapse" for="c-42520738">[-]</label><label class="expand" for="c-42520738">[1 more]</label></div><br/><div class="children"><div class="content">I admire Dijkstra for many things, but this has always been a weak argument to me. To quote:<p>&quot;when starting with subscript 1, the subscript range 1 ≤ i &lt; N+1; starting with 0, however, gives the nicer range 0 ≤  i &lt; N&quot;<p>So it&#x27;s &quot;nicer&quot;, ok! Lua has a numeric for..loop, which doesn&#x27;t require this kind of range syntax. Looping is x,y,step where x and y are inclusive in the range, i.e. Dijkstra&#x27;s option (b). Dijkstra doesn&#x27;t like this because iterating the empty set is awkward. But it&#x27;s far more natural (if you aren&#x27;t already used to languages from the 0-indexed lineage) to simply specify the lower and upper bounds of your search.<p>I actually work a lot with Lua, all the time, alongside other 0-indexed languages such as C and JS. I believe 0 makes sense in C, where arrays are pointers and the subscript is actually an offset. That still doesn&#x27;t make the 1st item the 0th item.<p>Between this, and the fact that, regardless of language, I find myself having to add or subtract 1 frequently in different scenarios, I think it&#x27;s less of a deal than people make it out to be.</div><br/></div></div></div></div></div></div></div></div><div id="42519069" class="c"><input type="checkbox" id="c-42519069" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518912">parent</a><span>|</span><a href="#42518967">prev</a><span>|</span><a href="#42518975">next</a><span>|</span><label class="collapse" for="c-42519069">[-]</label><label class="expand" for="c-42519069">[4 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget that not equals is ~=, the horror.<p>The real gripes should be globals by default and ... nothing. Lua is wonderful.</div><br/><div id="42519332" class="c"><input type="checkbox" id="c-42519332" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519069">parent</a><span>|</span><a href="#42518975">next</a><span>|</span><label class="collapse" for="c-42519332">[-]</label><label class="expand" for="c-42519332">[3 more]</label></div><br/><div class="children"><div class="content">&quot;Don&#x27;t forget that not equals is ~=, the horror.&quot;<p>I get you are taking the piss but ~= is just as logical as != being the symbols for: &quot;not equals&quot;, if you&#x27;ve been exposed to some math(s) as well as ... well, ! means factorial, doesn&#x27;t it?<p>Syntax is syntax and so is vocabulary!  In the end you copy and paste off of Stack Exchange and all is golden 8)</div><br/><div id="42520510" class="c"><input type="checkbox" id="c-42520510" checked=""/><div class="controls bullet"><span class="by">bingo3131</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519332">parent</a><span>|</span><a href="#42520178">next</a><span>|</span><label class="collapse" for="c-42520510">[-]</label><label class="expand" for="c-42520510">[1 more]</label></div><br/><div class="children"><div class="content">! is commonly used as the unary not operator, so &quot;a != b&quot; makes sense as a shortcut for &quot;!(a == b)&quot;. a not equals b.</div><br/></div></div><div id="42520178" class="c"><input type="checkbox" id="c-42520178" checked=""/><div class="controls bullet"><span class="by">ctippett</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519332">parent</a><span>|</span><a href="#42520510">prev</a><span>|</span><a href="#42518975">next</a><span>|</span><label class="collapse" for="c-42520178">[-]</label><label class="expand" for="c-42520178">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m more familiar with CSS than I am with Lua. The syntax for the former has a very different meaning[1].<p><pre><code>  [attr~=value]
  Represents elements with an attribute name of attr whose value is a whitespace-separated list of words, one of which is exactly value.

</code></pre>
[1] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;Attribute_selectors#attrvalue_2" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;Attribute_s...</a></div><br/></div></div></div></div></div></div><div id="42518975" class="c"><input type="checkbox" id="c-42518975" checked=""/><div class="controls bullet"><span class="by">opticfluorine</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518912">parent</a><span>|</span><a href="#42519069">prev</a><span>|</span><a href="#42519340">next</a><span>|</span><label class="collapse" for="c-42518975">[-]</label><label class="expand" for="c-42518975">[1 more]</label></div><br/><div class="children"><div class="content">It is funny, isn&#x27;t it? I always wonder how the language would be perceived had they gone with zero based indexing from the start.<p>I&#x27;m a big fan of Lua, including for the reasons you mention. I suspect the reason this one thing is always brought up is twofold: it&#x27;s easy to notice, and it&#x27;s very rare these days outside of Lua (if you consider VB.NET to be a legacy language, anyway). Other criticisms take more effort to communicate, and you can throw a rock and hit ten other languages with the same or similar issues.</div><br/></div></div><div id="42519340" class="c"><input type="checkbox" id="c-42519340" checked=""/><div class="controls bullet"><span class="by">saghm</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518912">parent</a><span>|</span><a href="#42518975">prev</a><span>|</span><a href="#42519844">next</a><span>|</span><label class="collapse" for="c-42519340">[-]</label><label class="expand" for="c-42519340">[3 more]</label></div><br/><div class="children"><div class="content">Honestly, it might almost act as a &quot;honeypot&quot; to give people a convenient target to complain about, which makes it easier for the rest of the language to get viewed as a whole rather than nitpicked. Sometimes I think people like to have at least one negative thing to say about something new they learn, whether it&#x27;s to show that they understand enough to be able to find something or it&#x27;s to be &quot;cool&quot; enough not to just like everything.</div><br/><div id="42519643" class="c"><input type="checkbox" id="c-42519643" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519340">parent</a><span>|</span><a href="#42519844">next</a><span>|</span><label class="collapse" for="c-42519643">[-]</label><label class="expand" for="c-42519643">[2 more]</label></div><br/><div class="children"><div class="content">that would be a galaxy brain move on the part of lua.</div><br/><div id="42520060" class="c"><input type="checkbox" id="c-42520060" checked=""/><div class="controls bullet"><span class="by">saghm</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519643">parent</a><span>|</span><a href="#42519844">next</a><span>|</span><label class="collapse" for="c-42520060">[-]</label><label class="expand" for="c-42520060">[1 more]</label></div><br/><div class="children"><div class="content">To be clear, I&#x27;m not claiming that I think this was the original intent for implementing array indexes like this; I&#x27;m just theorizing that this might explain why this ends up being such a fixation when it comes to discusses downsides of Lua.</div><br/></div></div></div></div></div></div><div id="42519844" class="c"><input type="checkbox" id="c-42519844" checked=""/><div class="controls bullet"><span class="by">krapp</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42518912">parent</a><span>|</span><a href="#42519340">prev</a><span>|</span><a href="#42520353">next</a><span>|</span><label class="collapse" for="c-42519844">[-]</label><label class="expand" for="c-42519844">[9 more]</label></div><br/><div class="children"><div class="content">&gt;Makes Brendan Eich look like a total clown in comparison.<p>To be fair, Brendan Eich was making a scripting language for the 90&#x27;s web. It isn&#x27;t his fault Silicon Valley decided that language needed to become the Ur-language to replace all application development in the future.</div><br/><div id="42520754" class="c"><input type="checkbox" id="c-42520754" checked=""/><div class="controls bullet"><span class="by">BrendanEich</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519844">parent</a><span>|</span><a href="#42520160">next</a><span>|</span><label class="collapse" for="c-42520754">[-]</label><label class="expand" for="c-42520754">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Silicon Valley&quot; is not an actor (human or organization of humans) that decided any such thing. This is like saying a virus decides to infect a host. JS got on first, and that meant it stuck. After getting on first, switching costs and sunk costs (fallacy or not) kept it going.<p>The pressure to evolve JS in a more fair-play standards setting rose and fell as browser competition rose and fell, because browser vendors compete for developers as lead users and promoters. Before competition came back, a leading or upstart browser could and did innovate ahead of the last JS standard. IE did this with DHTML mostly outside the core language, which MS helped standardize at the same time. I did it in Mozilla&#x27;s engine in the late &#x27;90s, implementing things that made it into ES3, ES5, and ES6 (Array extras, getters and setters, more).<p>But the evolutionary regime everyone operated in didn&#x27;t &quot;decide&quot; anything. There was and is no &quot;Silicon Valley&quot; entity calling such shots.</div><br/></div></div><div id="42520160" class="c"><input type="checkbox" id="c-42520160" checked=""/><div class="controls bullet"><span class="by">yoz</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519844">parent</a><span>|</span><a href="#42520754">prev</a><span>|</span><a href="#42520550">next</a><span>|</span><label class="collapse" for="c-42520160">[-]</label><label class="expand" for="c-42520160">[2 more]</label></div><br/><div class="children"><div class="content">Most of the blame should go to Netscape management. They didn&#x27;t give Eich much time, then burst in before he was done and made him copy a bunch of things from Java. (The new language, codenamed &quot;Mocha&quot; internally, was first publicly announced as &quot;LiveScript&quot;, and then Sun threw a bunch of money at Netscape.)<p>IIRC, Eich was quite influenced by Python&#x27;s design. I wish he&#x27;d just used Lua - would likely have saved a lot of pain. (Although, all that said, I have no idea what Lua looked like in 1994, and how much of its design has changed since then.)</div><br/><div id="42520730" class="c"><input type="checkbox" id="c-42520730" checked=""/><div class="controls bullet"><span class="by">BrendanEich</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42520160">parent</a><span>|</span><a href="#42520550">next</a><span>|</span><label class="collapse" for="c-42520730">[-]</label><label class="expand" for="c-42520730">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1905155">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1905155</a><p>If you don&#x27;t know what Lua was like then, don&#x27;t wish that I&#x27;d &quot;just used Lua&quot;.<p>Other issues include Netscape target system support, &quot;make it look like Java&quot; orders from above, without which it wouldn&#x27;t have happened, and more.</div><br/></div></div></div></div><div id="42520550" class="c"><input type="checkbox" id="c-42520550" checked=""/><div class="controls bullet"><span class="by">bigstrat2003</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519844">parent</a><span>|</span><a href="#42520160">prev</a><span>|</span><a href="#42520103">next</a><span>|</span><label class="collapse" for="c-42520550">[-]</label><label class="expand" for="c-42520550">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It isn&#x27;t his fault Silicon Valley decided that language needed to become the Ur-language to replace all application development in the future.<p>Which remains one of the most baffling decisions of all time, even to this day. Javascript is unpleasant to work with <i>in the browser</i>, the place it was designed for. It is utterly beyond me why anyone would go out of their way to use it in contexts where there are countless better languages available for the job. At least in the browser you pretty much have to use JS, so there&#x27;s a good reason to tolerate it. Not so outside of the browser.</div><br/></div></div><div id="42520103" class="c"><input type="checkbox" id="c-42520103" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42519844">parent</a><span>|</span><a href="#42520550">prev</a><span>|</span><a href="#42520353">next</a><span>|</span><label class="collapse" for="c-42520103">[-]</label><label class="expand" for="c-42520103">[4 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t the language he was making for the web Scheme?</div><br/><div id="42520113" class="c"><input type="checkbox" id="c-42520113" checked=""/><div class="controls bullet"><span class="by">hollerith</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42520103">parent</a><span>|</span><a href="#42520353">next</a><span>|</span><label class="collapse" for="c-42520113">[-]</label><label class="expand" for="c-42520113">[3 more]</label></div><br/><div class="children"><div class="content">No, Scheme was defined in 1975.</div><br/><div id="42520154" class="c"><input type="checkbox" id="c-42520154" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42520113">parent</a><span>|</span><a href="#42520353">next</a><span>|</span><label class="collapse" for="c-42520154">[-]</label><label class="expand" for="c-42520154">[2 more]</label></div><br/><div class="children"><div class="content">So? That doesn&#x27;t stop Brendan Eich from putting it in a web browser 20 years later.</div><br/><div id="42520213" class="c"><input type="checkbox" id="c-42520213" checked=""/><div class="controls bullet"><span class="by">hollerith</span><span>|</span><a href="#42518848">root</a><span>|</span><a href="#42520154">parent</a><span>|</span><a href="#42520353">next</a><span>|</span><label class="collapse" for="c-42520213">[-]</label><label class="expand" for="c-42520213">[1 more]</label></div><br/><div class="children"><div class="content">No, it does not. I see I misunderstood your q.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42520353" class="c"><input type="checkbox" id="c-42520353" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#42518848">parent</a><span>|</span><a href="#42518912">prev</a><span>|</span><a href="#42520790">next</a><span>|</span><label class="collapse" for="c-42520353">[-]</label><label class="expand" for="c-42520353">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>I&#x27;m thinking about designing an embedded scripting language that addresses some of these issues...</i><p><a href="https:&#x2F;&#x2F;xkcd.com&#x2F;927&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;927&#x2F;</a><p>;)</div><br/></div></div></div></div><div id="42520790" class="c"><input type="checkbox" id="c-42520790" checked=""/><div class="controls bullet"><span class="by">jhoechtl</span><span>|</span><a href="#42518848">prev</a><span>|</span><a href="#42517143">next</a><span>|</span><label class="collapse" for="c-42520790">[-]</label><label class="expand" for="c-42520790">[1 more]</label></div><br/><div class="children"><div class="content">Lua as a language is underrated, yes. Lua as the implementatation of PUC Rio is what it is. It misses abstractions in the runtime to make it pre-emptive and parallel. It is also somewhat telling that Mike Pall despite his come back announcement didn&#x27;t deliver.<p>It comes with batteries but they only fitt into one brand well. Compare this to eg golang or Python.</div><br/></div></div><div id="42517143" class="c"><input type="checkbox" id="c-42517143" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#42520790">prev</a><span>|</span><a href="#42518469">next</a><span>|</span><label class="collapse" for="c-42517143">[-]</label><label class="expand" for="c-42517143">[10 more]</label></div><br/><div class="children"><div class="content">If you like Lua, see Terra, <a href="https:&#x2F;&#x2F;terralang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;terralang.org&#x2F;</a><p><i>&gt; Terra is a low-level system programming language that is embedded in and meta-programmed by the Lua programming language.. Like C&#x2F;C++, Terra is a statically-typed, compiled language with manual memory management. But unlike C&#x2F;C++, it is designed from the beginning to be meta-programmed from Lua.. In Terra, we just gave in to the trend of making the meta-language of C&#x2F;C++ more powerful and replaced it with a real programming language, Lua.. Terra programs use the same LLVM backend that Apple uses for its C compilers. This means that Terra code performs similarly to equivalent C code.</i><p>From Pat Hanrahan&#x27;s research group at Stanford, <a href="https:&#x2F;&#x2F;amturing.acm.org&#x2F;award_winners&#x2F;hanrahan_4652251.cfm" rel="nofollow">https:&#x2F;&#x2F;amturing.acm.org&#x2F;award_winners&#x2F;hanrahan_4652251.cfm</a><p><pre><code>  Hanrahan and his students developed Brook, a language for GPUs that eventually led to NVIDIA’s CUDA. The prevalence and variety of shading languages ultimately required the GPU hardware designers to develop more flexible architectures. These architectures, in turn, allowed the GPUs to be used in a variety of computing contexts, including running algorithms for high performance computing applications, and training machine learning algorithms on massive datasets for artificial intelligence applications.
</code></pre>
Papers: <a href="https:&#x2F;&#x2F;terralang.org&#x2F;publications.html" rel="nofollow">https:&#x2F;&#x2F;terralang.org&#x2F;publications.html</a></div><br/><div id="42520541" class="c"><input type="checkbox" id="c-42520541" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#42517143">parent</a><span>|</span><a href="#42520145">next</a><span>|</span><label class="collapse" for="c-42520541">[-]</label><label class="expand" for="c-42520541">[2 more]</label></div><br/><div class="children"><div class="content">&quot;I am here to warn you, traveler, that Terra sits on a throne of lies. I was foolish. I was taken in by their audacious claims and fake jewels. It is only when I finally sat down to dine with them that I realized I was surrounded by nothing but cheap plastic and slightly burnt toast.&quot;<p>Source:
<a href="https:&#x2F;&#x2F;erikmcclure.com&#x2F;blog&#x2F;a-rant-on-terra&#x2F;" rel="nofollow">https:&#x2F;&#x2F;erikmcclure.com&#x2F;blog&#x2F;a-rant-on-terra&#x2F;</a></div><br/><div id="42520555" class="c"><input type="checkbox" id="c-42520555" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#42517143">root</a><span>|</span><a href="#42520541">parent</a><span>|</span><a href="#42520145">next</a><span>|</span><label class="collapse" for="c-42520555">[-]</label><label class="expand" for="c-42520555">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27337278">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27337278</a><p><i>&gt; Please note: The entire &quot;windows&quot; portion of that article has largely been resolved at this point, because I fixed it myself.</i></div><br/></div></div></div></div><div id="42520145" class="c"><input type="checkbox" id="c-42520145" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#42517143">parent</a><span>|</span><a href="#42520541">prev</a><span>|</span><a href="#42518588">next</a><span>|</span><label class="collapse" for="c-42520145">[-]</label><label class="expand" for="c-42520145">[2 more]</label></div><br/><div class="children"><div class="content">Both Terra and Extempore [1] implement the same basic idea, which is provide a way to generate performant machine code on the fly but keeping a language surface that feels like you are working with a dynamic language (Lua or Scheme correspondingly). I think Scopes [2] could be mentioned here too. The concept is really cool and different from JIT compiling in that the developer is given the tools to generate machine code, as opposed to some &quot;magic&quot; JIT compiling happening opaquely behind the scenes.<p>That being said, I don&#x27;t think either of these languages is practical for real world projects for several reasons: lack of (or low quality) documentation, bus factor (lack of developers), tiny communities, lack of tools, lack of libraries, etc etc etc.<p>--<p>1: <a href="https:&#x2F;&#x2F;extemporelang.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;extemporelang.github.io&#x2F;</a><p>2: <a href="https:&#x2F;&#x2F;sr.ht&#x2F;~duangle&#x2F;scopes&#x2F;" rel="nofollow">https:&#x2F;&#x2F;sr.ht&#x2F;~duangle&#x2F;scopes&#x2F;</a></div><br/><div id="42520349" class="c"><input type="checkbox" id="c-42520349" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#42517143">root</a><span>|</span><a href="#42520145">parent</a><span>|</span><a href="#42518588">next</a><span>|</span><label class="collapse" for="c-42520349">[-]</label><label class="expand" for="c-42520349">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; I don&#x27;t think either of these languages is practical for real world projects</i><p>Maybe not yet, but prior work by this research team eventually lead to CUDA.  Terra may be useful as a productivity DSL for some high-performance computations, e.g. listed in their papers:<p><pre><code>  our DSL for stencil computations runs 2.3x faster than hand-written C
  our serialization library is 11 times faster than Kryo
  our dynamic assembler is 3–20 times faster than Google’s Chrome assembler
</code></pre>
2021 HN thread, <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27334065">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27334065</a><p><i>&gt; Terra is a workhorse and it gets the job done..  Having first-class code generation capabilities has been really nice, especially with built-in support for things like parsing C header files, vectorization, and CUDA code generation. The language is stable and generally doesn&#x27;t have many surprises. Unlike, say, C++ or Rust, there aren&#x27;t as many corners to hide odd behaviors.</i></div><br/></div></div></div></div><div id="42518588" class="c"><input type="checkbox" id="c-42518588" checked=""/><div class="controls bullet"><span class="by">trott</span><span>|</span><a href="#42517143">parent</a><span>|</span><a href="#42520145">prev</a><span>|</span><a href="#42520725">next</a><span>|</span><label class="collapse" for="c-42518588">[-]</label><label class="expand" for="c-42518588">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Terra programs use the same LLVM backend that Apple uses for its C compilers.<p>Can it use anything else (as an option), <i>e.g.</i> Lua? That would be useful during development&#x2F;debugging thanks to faster iteration and memory safety.</div><br/><div id="42520082" class="c"><input type="checkbox" id="c-42520082" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#42517143">root</a><span>|</span><a href="#42518588">parent</a><span>|</span><a href="#42520725">next</a><span>|</span><label class="collapse" for="c-42520082">[-]</label><label class="expand" for="c-42520082">[3 more]</label></div><br/><div class="children"><div class="content">LLVM would not be easily replaced, <a href="https:&#x2F;&#x2F;chriscummins.cc&#x2F;2019&#x2F;llvm-cost&#x2F;" rel="nofollow">https:&#x2F;&#x2F;chriscummins.cc&#x2F;2019&#x2F;llvm-cost&#x2F;</a><p><i>&gt; 1.2k developers have produced a 6.9M line code base with an estimated price tag of $530M.</i></div><br/><div id="42520286" class="c"><input type="checkbox" id="c-42520286" checked=""/><div class="controls bullet"><span class="by">ajb</span><span>|</span><a href="#42517143">root</a><span>|</span><a href="#42520082">parent</a><span>|</span><a href="#42520725">next</a><span>|</span><label class="collapse" for="c-42520286">[-]</label><label class="expand" for="c-42520286">[2 more]</label></div><br/><div class="children"><div class="content">Although it&#x27;s true that replacing LLVM like-for-like would indeed be expensive, I feel like you missed GP&#x27;s point. To make the easier to debug, what you want is to replace LLVM with something simple, like a plain interpreter. And writing one (or adapting one) would be nothing like this cost.</div><br/><div id="42520327" class="c"><input type="checkbox" id="c-42520327" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#42517143">root</a><span>|</span><a href="#42520286">parent</a><span>|</span><a href="#42520725">next</a><span>|</span><label class="collapse" for="c-42520327">[-]</label><label class="expand" for="c-42520327">[1 more]</label></div><br/><div class="children"><div class="content">Any precedent example for an LLVM-hosted language? There are benefits from being on the same toolchain as popular languages.</div><br/></div></div></div></div></div></div></div></div><div id="42520725" class="c"><input type="checkbox" id="c-42520725" checked=""/><div class="controls bullet"><span class="by">almostgotcaught</span><span>|</span><a href="#42517143">parent</a><span>|</span><a href="#42518588">prev</a><span>|</span><a href="#42518469">next</a><span>|</span><label class="collapse" for="c-42520725">[-]</label><label class="expand" for="c-42520725">[1 more]</label></div><br/><div class="children"><div class="content">y&#x27;all realize that this thing (terra) was a phd project that is (for a long time) fully abandoned by the guy that did the phd (zach) right?<p>&gt; Terra programs use the same LLVM backend that Apple uses for its C compilers<p>lol is this a flex? or is it just dated? everyone uses LLVM for all of their compilers.</div><br/></div></div></div></div><div id="42518469" class="c"><input type="checkbox" id="c-42518469" checked=""/><div class="controls bullet"><span class="by">fsmv</span><span>|</span><a href="#42517143">prev</a><span>|</span><a href="#42517200">next</a><span>|</span><label class="collapse" for="c-42518469">[-]</label><label class="expand" for="c-42518469">[27 more]</label></div><br/><div class="children"><div class="content">I built a chatbot with lua plugin commands and I really had an awful experience trying to incorporate it in my C++ program. I really don&#x27;t understand why people say it&#x27;s easy to embed because you have to do a ton of stack manipulation to do anything. Not only that but the language itself is cumbersome, frustrating, and does nothing at all to help you when you make a mistake.<p>I will never use lua again and avoid any project that uses it.</div><br/><div id="42518741" class="c"><input type="checkbox" id="c-42518741" checked=""/><div class="controls bullet"><span class="by">bogwog</span><span>|</span><a href="#42518469">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42518741">[-]</label><label class="expand" for="c-42518741">[10 more]</label></div><br/><div class="children"><div class="content">I am in the &quot;Lua sucks&quot; camp. I also found it weird how clunky it is to embed, but my biggest gripe is with the language itself. It just sucks, as its barely a programming language at all. Every Lua project ends up reinventing its own class system or other language feature to get anything done.<p>I&#x27;ve also never seen a clean (non trivial) Lua codebase before. They&#x27;re all spaghetti messes and difficult to follow. On the contrary, some of the worst, least maintainable and difficult to read code I&#x27;ve seen has been in Lua.<p>For configuration (what it was originally designed for) or for very small, non-critical stuff, then it can be a good choice.<p>With that said, I know some people are very productive with it, and have made impressive things in Lua. It&#x27;s just not for me.</div><br/><div id="42520803" class="c"><input type="checkbox" id="c-42520803" checked=""/><div class="controls bullet"><span class="by">zaik</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42518741">parent</a><span>|</span><a href="#42519671">next</a><span>|</span><label class="collapse" for="c-42520803">[-]</label><label class="expand" for="c-42520803">[1 more]</label></div><br/><div class="children"><div class="content">I enjoyed writing a small module for the Prosody XMPP server, which is written in Lua. Everytime I had to look into the internals I found what I was looking for pretty easily.</div><br/></div></div><div id="42519671" class="c"><input type="checkbox" id="c-42519671" checked=""/><div class="controls bullet"><span class="by">garbagelang</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42518741">parent</a><span>|</span><a href="#42520803">prev</a><span>|</span><a href="#42518970">next</a><span>|</span><label class="collapse" for="c-42519671">[-]</label><label class="expand" for="c-42519671">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It just sucks, as its barely a programming language at all
So very true.<p>This entire comment accurately depicts what it’s like to actually use Lua.<p>The worst, host horrific codebase I’ve ever worked on was in Lua for some godawful reason.</div><br/></div></div><div id="42518970" class="c"><input type="checkbox" id="c-42518970" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42518741">parent</a><span>|</span><a href="#42519671">prev</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42518970">[-]</label><label class="expand" for="c-42518970">[7 more]</label></div><br/><div class="children"><div class="content">&gt; <i>It just sucks, as it&#x27;s barely a programming language at all.</i><p>I remember when I thought like this when I was first learning C++ and thought it was awesome because of all the features built into the language.  Since then, I&#x27;ve learned that things that are &quot;barely a programming language at all&quot; like Lua—where you can easily learn the whole language and then write, if necessary, reflective object-oriented effortlessly parametrically polymorphic code—are actually the best languages of all.  (Such extreme liberalism does require a compensating amount of discipline, as you say.)<p>Lua has its flaws (implicit nils, the nil&#x2F;# interaction, default global, 1-based indexing, etc.) but minimalism is one of its major virtues.</div><br/><div id="42519055" class="c"><input type="checkbox" id="c-42519055" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42518970">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42519055">[-]</label><label class="expand" for="c-42519055">[6 more]</label></div><br/><div class="children"><div class="content">Then you get hold of a language that doesn’t have all this mess as a foundation and it feels like you stopped self-suffocating.<p><i>you can easily learn the whole language and then write, if necessary, reflective object-oriented effortlessly parametrically polymorphic code</i><p>This is all you can do in these languages. Anything above it will share the fragility and ad-hocness of this meaningless language para-olympics.</div><br/><div id="42519311" class="c"><input type="checkbox" id="c-42519311" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519055">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42519311">[-]</label><label class="expand" for="c-42519311">[5 more]</label></div><br/><div class="children"><div class="content">Nope, that&#x27;s completely wrong, to the point that you cannot have possibly thought it was correct.  You can avoid using reflection, object orientation, and parametric polymorphism in Lua, just as you can in almost any other language, and stick to simple imperative code.  And most of the time you should.</div><br/><div id="42519404" class="c"><input type="checkbox" id="c-42519404" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519311">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42519404">[-]</label><label class="expand" for="c-42519404">[4 more]</label></div><br/><div class="children"><div class="content">I think you misunderstood my second paragraph. What I’m saying is that in order to do anything complex in it, you’ll have to reimplement important parts that are lacking, using all these meta&#x2F;parametric things in your “mylualib”, and all this mud will drown you when you’re most vulnerable.<p>Toying with it with all the free time on one’s hands is okay.<p>Avoiding useful techniques is an option, but doing it when the world of saner alternatives exists feels like self-sabotaging.</div><br/><div id="42519419" class="c"><input type="checkbox" id="c-42519419" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519404">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42519419">[-]</label><label class="expand" for="c-42519419">[3 more]</label></div><br/><div class="children"><div class="content">Hmm, that makes a little more sense than what I thought you were saying.  I still don&#x27;t think it&#x27;s correct, though.  Lua has those facilities already; you don&#x27;t have to implement them yourself.  My point is that it <i>isn&#x27;t</i> like programming in assembly or C where you either implement them yourself or do without.  When OO or reflection is the <i>saner</i> alternative, in Lua, you can just use it.</div><br/><div id="42519494" class="c"><input type="checkbox" id="c-42519494" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519419">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42519494">[-]</label><label class="expand" for="c-42519494">[2 more]</label></div><br/><div class="children"><div class="content">I see your point and have even shared it, but my experience with real-business Lua was miserable and actively laughed at. Which was, I must admit now, absolutely deserved.</div><br/><div id="42519561" class="c"><input type="checkbox" id="c-42519561" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519494">parent</a><span>|</span><a href="#42518680">next</a><span>|</span><label class="collapse" for="c-42519561">[-]</label><label class="expand" for="c-42519561">[1 more]</label></div><br/><div class="children"><div class="content">Condolences!  Fortunately, my own Lua experience has entirely been real-fun Lua instead of real-business Lua.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="42518680" class="c"><input type="checkbox" id="c-42518680" checked=""/><div class="controls bullet"><span class="by">Etheryte</span><span>|</span><a href="#42518469">parent</a><span>|</span><a href="#42518741">prev</a><span>|</span><a href="#42518719">next</a><span>|</span><label class="collapse" for="c-42518680">[-]</label><label class="expand" for="c-42518680">[1 more]</label></div><br/><div class="children"><div class="content">My experience has been similar, even though not as drastic. Lua is fine for small extensions and such (e.g. Hammerspoon), but a lack of any kind of a reasonable standard library really bites me the wrong way. Sure, I can write a function to log an array, but why can&#x27;t I just log an array like a decent human being?</div><br/></div></div><div id="42518719" class="c"><input type="checkbox" id="c-42518719" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">parent</a><span>|</span><a href="#42518680">prev</a><span>|</span><a href="#42518853">next</a><span>|</span><label class="collapse" for="c-42518719">[-]</label><label class="expand" for="c-42518719">[12 more]</label></div><br/><div class="children"><div class="content">What language did you find was easier to embed, and how does it handle the lifetime management that Lua&#x27;s embedding API handles with its stack?<p>The language itself may be a matter of taste. I prefer languages which, &quot;in the face of ambiguity, refuse the temptation to guess,&quot; but certainly I&#x27;ve spent enough time using Perl, bash, JS, and BASIC to be able to deal with Lua&#x27;s relatively mild level of DWIMminess.</div><br/><div id="42519159" class="c"><input type="checkbox" id="c-42519159" checked=""/><div class="controls bullet"><span class="by">le-mark</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42518719">parent</a><span>|</span><a href="#42519160">next</a><span>|</span><label class="collapse" for="c-42519159">[-]</label><label class="expand" for="c-42519159">[6 more]</label></div><br/><div class="children"><div class="content">I would use quickjs today for embedding over lua. Everyone know js nowadays and quickjs is really nice. The advantage lua has is library support via Lua rocks. Maybe someone can comment on the quickjs ecosystem?</div><br/><div id="42520684" class="c"><input type="checkbox" id="c-42520684" checked=""/><div class="controls bullet"><span class="by">ga2mer</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519159">parent</a><span>|</span><a href="#42520455">next</a><span>|</span><label class="collapse" for="c-42520684">[-]</label><label class="expand" for="c-42520684">[1 more]</label></div><br/><div class="children"><div class="content">Amazfit&#x27;s Zepp OS uses quickjs to run 3rd party watchfaces and apps in their smartwatch<p>I was surprised to find out I&#x27;d been wearing javascript on my arm all this time</div><br/></div></div><div id="42520455" class="c"><input type="checkbox" id="c-42520455" checked=""/><div class="controls bullet"><span class="by">dchest</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519159">parent</a><span>|</span><a href="#42520684">prev</a><span>|</span><a href="#42520023">next</a><span>|</span><label class="collapse" for="c-42520455">[-]</label><label class="expand" for="c-42520455">[1 more]</label></div><br/><div class="children"><div class="content">I have experience of embedding and modifying both QuickJS and Lua. QuickJS is not bad, but Lua is a lot easier and has fewer bugs. JavaScript is a very complicated language under the surface; I think very few people, if any, know and remember all its quirks.</div><br/></div></div><div id="42520023" class="c"><input type="checkbox" id="c-42520023" checked=""/><div class="controls bullet"><span class="by">feznyng</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519159">parent</a><span>|</span><a href="#42520455">prev</a><span>|</span><a href="#42519336">next</a><span>|</span><label class="collapse" for="c-42520023">[-]</label><label class="expand" for="c-42520023">[1 more]</label></div><br/><div class="children"><div class="content">I think there’s a fork called quickjs-ng that’s actively maintained on GH. Should be able to use it as a lib maybe with some externing.<p>I’ve also had luck using it in a wasm runtime thanks to quickjs-emscripten. Good if you need sandboxing sans full process isolation.</div><br/></div></div><div id="42519336" class="c"><input type="checkbox" id="c-42519336" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519159">parent</a><span>|</span><a href="#42520023">prev</a><span>|</span><a href="#42519694">next</a><span>|</span><label class="collapse" for="c-42519336">[-]</label><label class="expand" for="c-42519336">[1 more]</label></div><br/><div class="children"><div class="content">It sounds like you&#x27;re saying quickjs is what you&#x27;d try if you wanted to embed a language, but you haven&#x27;t tried embedding quickjs yet?</div><br/></div></div><div id="42519694" class="c"><input type="checkbox" id="c-42519694" checked=""/><div class="controls bullet"><span class="by">garbagelang</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519159">parent</a><span>|</span><a href="#42519336">prev</a><span>|</span><a href="#42519160">next</a><span>|</span><label class="collapse" for="c-42519694">[-]</label><label class="expand" for="c-42519694">[1 more]</label></div><br/><div class="children"><div class="content">Luarocks is an advantage? It’s full of thousands of variations of the same poorly copypasted code from idiotic Lua forums. All of them basically abandoned.<p>Lua rocks is a wart on Lua’s piss poor existence, not an advantage. Lol.</div><br/></div></div></div></div><div id="42519160" class="c"><input type="checkbox" id="c-42519160" checked=""/><div class="controls bullet"><span class="by">int_19h</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42518719">parent</a><span>|</span><a href="#42519159">prev</a><span>|</span><a href="#42518853">next</a><span>|</span><label class="collapse" for="c-42519160">[-]</label><label class="expand" for="c-42519160">[5 more]</label></div><br/><div class="children"><div class="content">Python is arguably easier since you don&#x27;t need to handle non-native stacks at all; you just have a straightforward mapping of Python operations to C functions that you call with regular arguments, as usual.</div><br/><div id="42519328" class="c"><input type="checkbox" id="c-42519328" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519160">parent</a><span>|</span><a href="#42518853">next</a><span>|</span><label class="collapse" for="c-42519328">[-]</label><label class="expand" for="c-42519328">[4 more]</label></div><br/><div class="children"><div class="content">With Python&#x27;s extension API, you have to carefully incref and decref Python values to ensure that you don&#x27;t either leak memory or deallocate data that&#x27;s still in use.  That&#x27;s what the Lua stack interface saves you.  It&#x27;s not a call stack, which seems to be what you&#x27;re thinking of.</div><br/><div id="42519456" class="c"><input type="checkbox" id="c-42519456" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519328">parent</a><span>|</span><a href="#42518853">next</a><span>|</span><label class="collapse" for="c-42519456">[-]</label><label class="expand" for="c-42519456">[3 more]</label></div><br/><div class="children"><div class="content">Lifetimes and references are things to consider in Lua integration code too. See luaL_ref() rationale and why you can’t lua_pop() a string that is in use. The fact that gc doesn’t happen instantly 99.99999% of the times doesn’t save you from thinking about it.<p>Not that this was a hard topic in a language where lifetimes are the main concern and business as usual. In C&#x2F;etc you can’t hold <i>anything</i> without a ref or some sort of a lifetime guarantee. What makes it special wrt Lua&#x2F;Python?</div><br/><div id="42519480" class="c"><input type="checkbox" id="c-42519480" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519456">parent</a><span>|</span><a href="#42518853">next</a><span>|</span><label class="collapse" for="c-42519480">[-]</label><label class="expand" for="c-42519480">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I didn&#x27;t mean to say you didn&#x27;t have to think about lifetimes at all when embedding Lua, just that the stack, weird as it is, seems to simplify that kind of thing rather than complicating it (even if you do occasionally have to luaL_ref).  But if there&#x27;s a clearly better alternative, I&#x27;d like to know about it.  Constantly calling Py_INCREF and Py_DECREF isn&#x27;t it.<p>Delayed GC seems like it might add headaches for this kind of thing rather than removing them, because your bugs may take a while to show up in testing.</div><br/><div id="42519524" class="c"><input type="checkbox" id="c-42519524" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518469">root</a><span>|</span><a href="#42519480">parent</a><span>|</span><a href="#42518853">next</a><span>|</span><label class="collapse" for="c-42519524">[-]</label><label class="expand" for="c-42519524">[1 more]</label></div><br/><div class="children"><div class="content">Lua stack basically works as an arena if you aren’t eager to clean it.<p>I guess in C one could macro hack himself a similar arena to borrow objects from python runtime.<p>In C++ it’s a matter of befriending a smart pointer with ref&#x2F;unref calls. It was probably done hundreds of times in all sorts of python embedding wrappers.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42518814" class="c"><input type="checkbox" id="c-42518814" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42518469">parent</a><span>|</span><a href="#42518853">prev</a><span>|</span><a href="#42518700">next</a><span>|</span><label class="collapse" for="c-42518814">[-]</label><label class="expand" for="c-42518814">[1 more]</label></div><br/><div class="children"><div class="content">It’s easy to embed compared to e.g. python, js or perl, and iff you only push&#x2F;call&#x2F;pop and it’s all functions with primitive arguments. Otherwise it’s ~as hard.</div><br/></div></div></div></div><div id="42517200" class="c"><input type="checkbox" id="c-42517200" checked=""/><div class="controls bullet"><span class="by">aeturnum</span><span>|</span><a href="#42518469">prev</a><span>|</span><a href="#42517224">next</a><span>|</span><label class="collapse" for="c-42517200">[-]</label><label class="expand" for="c-42517200">[9 more]</label></div><br/><div class="children"><div class="content">I have really enjoyed working with Lua when it&#x27;s come up and I think it&#x27;s an extremely good language. In particular, as Noë says, its interface for embedding into C&#x2F;C++ is clean and flexible. There are performance concerns, but considering how widely Lua is used for game logic in high performance video games clearly those concerns can be addressed.<p>That said, I think there are other warts that can be confusing and make the language difficult. The <i>Nil-Terminated Arrays</i> section points out one oddity about `nil` - but there are many others. There are a number of confusing corner cases (or were - I haven&#x27;t used it in a while). As an example, if you have a list of values and you pass that list into a new table, the resulting table may be different than if you add each value in that list in order.<p>I also think that the flexibility of embedding means that you are often learning the Lua &lt;=&gt; C interface as much as you are learning Lua. So jumping from deploy to deploy is more confusing than most languages.<p>Nevertheless I fully agree the language is underrated!</div><br/><div id="42517256" class="c"><input type="checkbox" id="c-42517256" checked=""/><div class="controls bullet"><span class="by">01HNNWZ0MV43FF</span><span>|</span><a href="#42517200">parent</a><span>|</span><a href="#42517537">next</a><span>|</span><label class="collapse" for="c-42517256">[-]</label><label class="expand" for="c-42517256">[6 more]</label></div><br/><div class="children"><div class="content">&gt; you are often learning the Lua &lt;=&gt; C interface as much as you are learning Lua.<p>One time I had a memory leak in a game, something like exactly 4 bytes per frame.<p>It turned out I was not popping the Lua-C parameter passing stack properly after each frame.<p>I found this out after some unhelpful person suggested that &quot;all programs just leak memory&quot; lol</div><br/><div id="42517824" class="c"><input type="checkbox" id="c-42517824" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#42517200">root</a><span>|</span><a href="#42517256">parent</a><span>|</span><a href="#42517537">next</a><span>|</span><label class="collapse" for="c-42517824">[-]</label><label class="expand" for="c-42517824">[5 more]</label></div><br/><div class="children"><div class="content">The Lua C API is fantastic from a design perspective, but as you have discovered, it is rather error prone. Fortunately, there are many wrapper libraries that take care of all the stack manipulation. For example, I&#x27;m using <a href="https:&#x2F;&#x2F;github.com&#x2F;ThePhD&#x2F;sol2">https:&#x2F;&#x2F;github.com&#x2F;ThePhD&#x2F;sol2</a> to interface with C++ and the API is incredibly ergonomic.</div><br/><div id="42519102" class="c"><input type="checkbox" id="c-42519102" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42517200">root</a><span>|</span><a href="#42517824">parent</a><span>|</span><a href="#42518593">next</a><span>|</span><label class="collapse" for="c-42519102">[-]</label><label class="expand" for="c-42519102">[1 more]</label></div><br/><div class="children"><div class="content">How is it fantastic, it’s just barebones stack interface thrown in your general direction.<p>Any integration code that doesn’t use an ad-hoc helper library looks like assembly listing (not even in disguise, cause it basically is bytecode but in C).</div><br/></div></div><div id="42518593" class="c"><input type="checkbox" id="c-42518593" checked=""/><div class="controls bullet"><span class="by">ahoka</span><span>|</span><a href="#42517200">root</a><span>|</span><a href="#42517824">parent</a><span>|</span><a href="#42519102">prev</a><span>|</span><a href="#42517537">next</a><span>|</span><label class="collapse" for="c-42518593">[-]</label><label class="expand" for="c-42518593">[3 more]</label></div><br/><div class="children"><div class="content">An API cannot be “fantastic” if it’s error prone.</div><br/><div id="42519033" class="c"><input type="checkbox" id="c-42519033" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#42517200">root</a><span>|</span><a href="#42518593">parent</a><span>|</span><a href="#42518733">next</a><span>|</span><label class="collapse" for="c-42519033">[-]</label><label class="expand" for="c-42519033">[1 more]</label></div><br/><div class="children"><div class="content">It is a low-level API for creating bindings to other languages and as such typically isn&#x27;t used directly. (Well, unless you are writing C :)<p>What I find fantastic about the stack-based API is that it exposes very few interpreter internals. As a result the authors may drastically change the implementation without breaking the public API. Most importantly, they hide the internal object representation and as a user you only ever deal with plain C types, like integers, floats, C-strings and user data pointers. As a consequence, you don&#x27;t have to think about memory management because all types are passed by value! In fact, someone could theoretically write a Lua implementation with reference counting and the API wouldn&#x27;t have to change. It really is a very smart and elegant design.</div><br/></div></div><div id="42518733" class="c"><input type="checkbox" id="c-42518733" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42517200">root</a><span>|</span><a href="#42518593">parent</a><span>|</span><a href="#42519033">prev</a><span>|</span><a href="#42517537">next</a><span>|</span><label class="collapse" for="c-42518733">[-]</label><label class="expand" for="c-42518733">[1 more]</label></div><br/><div class="children"><div class="content">It might be fantastic in other ways; there are multiple ways an API can be good.  For example, it could be very expressive and flexible, or it could be especially amenable to formal proofs with things like TLA+ even if it&#x27;s error-prone in human hands, or it could facilitate very high performance.  Even on the error-proneness axis, an error-prone API might still be less error-prone than the alternatives.</div><br/></div></div></div></div></div></div></div></div><div id="42517537" class="c"><input type="checkbox" id="c-42517537" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#42517200">parent</a><span>|</span><a href="#42517256">prev</a><span>|</span><a href="#42517224">next</a><span>|</span><label class="collapse" for="c-42517537">[-]</label><label class="expand" for="c-42517537">[2 more]</label></div><br/><div class="children"><div class="content">&gt; but considering how widely Lua is used for game logic in high performance video games clearly those concerns can be addressed.<p>It’s ok, but should be much better.<p>Once upon a time Supreme Commander used Lua. Perf on consoles for SupCom2 was catastrophically bad. We switched to Kore which was effectively Lua but way faster (10x?).<p>Kore was bought by Havok and rebranded into Havok Script. Havok got bought by Microsoft. I’m honestly not even sure if you can still buy it today. It’s not listed on their website.<p>These days I think you’d use Luau? I’m not sure. <a href="https:&#x2F;&#x2F;github.com&#x2F;luau-lang&#x2F;luau">https:&#x2F;&#x2F;github.com&#x2F;luau-lang&#x2F;luau</a></div><br/><div id="42518466" class="c"><input type="checkbox" id="c-42518466" checked=""/><div class="controls bullet"><span class="by">a_t48</span><span>|</span><a href="#42517200">root</a><span>|</span><a href="#42517537">parent</a><span>|</span><a href="#42517224">next</a><span>|</span><label class="collapse" for="c-42518466">[-]</label><label class="expand" for="c-42518466">[1 more]</label></div><br/><div class="children"><div class="content">LuaJIT is pretty good, but some platforms might not allow it. iOS technically didn&#x27;t allow it when I used it before, but Apple either didn&#x27;t _actually_ care or just looked the other way.</div><br/></div></div></div></div></div></div><div id="42517224" class="c"><input type="checkbox" id="c-42517224" checked=""/><div class="controls bullet"><span class="by">Levitating</span><span>|</span><a href="#42517200">prev</a><span>|</span><a href="#42517205">next</a><span>|</span><label class="collapse" for="c-42517224">[-]</label><label class="expand" for="c-42517224">[13 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t say I appreciate Lua any more after reading this. It only reinforced my annoyances with it.<p>It&#x27;s been a while since I wrote any Lua but I didn&#x27;t think it was intuitive at all. Why are arrays tables, why are they nil terminated and why do they start at 1.<p>I don&#x27;t think it&#x27;s underrated either. It&#x27;s very popular for writing scripts in (older) game engines.</div><br/><div id="42519174" class="c"><input type="checkbox" id="c-42519174" checked=""/><div class="controls bullet"><span class="by">int_19h</span><span>|</span><a href="#42517224">parent</a><span>|</span><a href="#42517261">next</a><span>|</span><label class="collapse" for="c-42519174">[-]</label><label class="expand" for="c-42519174">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Why are arrays tables<p>For the same reason why (standard) arrays are associative in PHP and JS, as well - because, from a certain perspective, a regular array is just an associated array with consecutive integers as keys, so if you&#x27;re trying to keep things simple, it seems like a straightforward unification.<p>&gt; why are they nil terminated<p>It follows from them being associated arrays, and Lua&#x27;s pervasive use of &quot;nil&quot; meaning &quot;this thing is missing&quot;.<p>&gt; why do they start at 1<p>Because humans generally start counting from 1.</div><br/><div id="42519250" class="c"><input type="checkbox" id="c-42519250" checked=""/><div class="controls bullet"><span class="by">dahart</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42519174">parent</a><span>|</span><a href="#42517261">next</a><span>|</span><label class="collapse" for="c-42519250">[-]</label><label class="expand" for="c-42519250">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Because humans generally start counting from 1.<p>I’m not parent, but for me the question is not literally why did they choose 1-based indexing. That’s easy to answer. The question is really: why haven’t they realized by now that the disadvantages of 1-based indexing far outweigh the benefits when it comes to programming, and changed it? Backward compatibility is a valid reason, but lots of other people have tried 1-based arrays and reverted to 0-based once it becomes clear that 1-based arrays causes more problems than it solves. Even humans who count starting from one will soon want to use 0-based the moment they need to add two array indexes together; we don’t want to have to start from 2 in that case, right? Early versions of the famous Numerical Recipes in C started with 1-based arrays, but removed them, and got slightly better. :P</div><br/><div id="42519608" class="c"><input type="checkbox" id="c-42519608" checked=""/><div class="controls bullet"><span class="by">leephillips</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42519250">parent</a><span>|</span><a href="#42517261">next</a><span>|</span><label class="collapse" for="c-42519608">[-]</label><label class="expand" for="c-42519608">[1 more]</label></div><br/><div class="children"><div class="content">Yes, that’s surely why Fortran never found any widespread adoption and remained an obscure, niche language.</div><br/></div></div></div></div></div></div><div id="42517261" class="c"><input type="checkbox" id="c-42517261" checked=""/><div class="controls bullet"><span class="by">selimthegrim</span><span>|</span><a href="#42517224">parent</a><span>|</span><a href="#42519174">prev</a><span>|</span><a href="#42517299">next</a><span>|</span><label class="collapse" for="c-42517261">[-]</label><label class="expand" for="c-42517261">[1 more]</label></div><br/><div class="children"><div class="content">The system software for newer TI graphing calculators is written in Lua and often emulated to Z80.</div><br/></div></div><div id="42517299" class="c"><input type="checkbox" id="c-42517299" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#42517224">parent</a><span>|</span><a href="#42517261">prev</a><span>|</span><a href="#42517312">next</a><span>|</span><label class="collapse" for="c-42517299">[-]</label><label class="expand" for="c-42517299">[1 more]</label></div><br/><div class="children"><div class="content">a bunch of that comes from awk.</div><br/></div></div><div id="42517312" class="c"><input type="checkbox" id="c-42517312" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#42517224">parent</a><span>|</span><a href="#42517299">prev</a><span>|</span><a href="#42517205">next</a><span>|</span><label class="collapse" for="c-42517312">[-]</label><label class="expand" for="c-42517312">[7 more]</label></div><br/><div class="children"><div class="content">&gt; Why are arrays tables<p>I might be able to provide at least some insight into that.<p>One of the things I found while implementing my language was that the ordering of elements in a hash table is essentially random. Literally random if you mix in some randomness into the hash function&#x27;s initial state in order to harden it against collision attacks.<p>Many languages guarantee insertion ordering. It&#x27;s a useful property to have, makes testing easy and deterministic and it&#x27;s intuitive for users. A simple way to implement that is to put a perfectly normal array of values into the hash table, and then have the buckets which the keys hash into contain indexes into that array. That way the indexes of values remain stable no matter what the keys hash to.<p>So a sufficiently advanced hash table will have an array of values inside it. I suppose some language designers took one look at that situation and decided to just merge both types already by using hash tables for everything. For example, PHP also did that. Associative arrays, they call it.</div><br/><div id="42518769" class="c"><input type="checkbox" id="c-42518769" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42517312">parent</a><span>|</span><a href="#42519167">next</a><span>|</span><label class="collapse" for="c-42518769">[-]</label><label class="expand" for="c-42518769">[4 more]</label></div><br/><div class="children"><div class="content">CPython&#x27;s hash table (dict) evolved to have an array of values indexed by a hash table of indices for performance reasons, but later decided to guarantee the insertion ordering that this permitted for iteration.<p>&quot;Associative array&quot; is just the term used for hash tables (dicts) in Awk, bash, Tcl, and, most relevantly for PHP, Perl4.  It doesn&#x27;t specifically mean that the language lacks a separate container type for small-integer-indexed arrays.  It just means that that particular container type can be indexed by something other than small integers, usually strings.</div><br/><div id="42519181" class="c"><input type="checkbox" id="c-42519181" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42518769">parent</a><span>|</span><a href="#42519732">next</a><span>|</span><label class="collapse" for="c-42519181">[-]</label><label class="expand" for="c-42519181">[2 more]</label></div><br/><div class="children"><div class="content">Yes, this name is basically a reflection of the fact that a hash table <i>is</i> an array, indexes of which get calculated by `hashof(key) % arr.length`.<p>It doesn’t mean HTs are <i>the</i> arrays which should be used to store seqint-indexed values.</div><br/><div id="42519322" class="c"><input type="checkbox" id="c-42519322" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42519181">parent</a><span>|</span><a href="#42519732">next</a><span>|</span><label class="collapse" for="c-42519322">[-]</label><label class="expand" for="c-42519322">[1 more]</label></div><br/><div class="children"><div class="content">No, that&#x27;s an implementation detail which isn&#x27;t actually true of the associative arrays in all of these languages.  &quot;Associative array&quot; is the name for the interface, not the implementation.  In theory it could be a hash trie or something, although I&#x27;m not aware of any implementations of any of these languages that uses anything but a hash table (which is, yes, fundamentally dependent on using an array).</div><br/></div></div></div></div><div id="42519732" class="c"><input type="checkbox" id="c-42519732" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42518769">parent</a><span>|</span><a href="#42519181">prev</a><span>|</span><a href="#42519167">next</a><span>|</span><label class="collapse" for="c-42519732">[-]</label><label class="expand" for="c-42519732">[1 more]</label></div><br/><div class="children"><div class="content">&gt; CPython&#x27;s hash table (dict) evolved to have an array of values indexed by a hash table of indices for performance reasons<p>In case anyone is curious about it:<p><a href="https:&#x2F;&#x2F;mail.python.org&#x2F;pipermail&#x2F;python-dev&#x2F;2012-December&#x2F;123028.html" rel="nofollow">https:&#x2F;&#x2F;mail.python.org&#x2F;pipermail&#x2F;python-dev&#x2F;2012-December&#x2F;1...</a><p>&gt; In addition to space savings, the new memory layout makes iteration faster.<p>&gt; Currently, keys(), values, anditems() loop over the sparse table, skipping-over free slots in the hash table.<p>&gt; Now, keys&#x2F;values&#x2F;items can loop directly over the dense table, using fewer memory accesses.<p>The &quot;dense table&quot; is the array of values. The &quot;sparse table&quot; is the actual hash table, only the values index into the values array.<p>I thought the insertion ordering was implemented at around the same time as a result of it. The data structure ensures it pretty much for free, seemed like the obvious next step. It appears I was mistaken about that.</div><br/></div></div></div></div><div id="42519167" class="c"><input type="checkbox" id="c-42519167" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42517312">parent</a><span>|</span><a href="#42518769">prev</a><span>|</span><a href="#42517205">next</a><span>|</span><label class="collapse" for="c-42519167">[-]</label><label class="expand" for="c-42519167">[2 more]</label></div><br/><div class="children"><div class="content">You described how every language without hashtable-as-an-object works. The only difference is <i>when</i> you address fields.<p>But I fail to see the logic behind seeing this and merging array&#x2F;table ideas. Feels like one of these irrational decisions you make in a dream.<p>And Lua doesn’t use hash table to store arrays. Its tables have two different parts (hash, indexed array) with foggy distribution logic which reflects into “# vs ipairs” issue. This merge is purely synthetic and doesn’t project any underlying implementation idea.</div><br/><div id="42519537" class="c"><input type="checkbox" id="c-42519537" checked=""/><div class="controls bullet"><span class="by">unscaled</span><span>|</span><a href="#42517224">root</a><span>|</span><a href="#42519167">parent</a><span>|</span><a href="#42517205">next</a><span>|</span><label class="collapse" for="c-42519537">[-]</label><label class="expand" for="c-42519537">[1 more]</label></div><br/><div class="children"><div class="content">Merging the concepts of arrays and maps was very popular in the 1980s and 1990s. I can count at least Awk, Tcl, Lua, JavaScript and PHP as languages that went with this approach.<p>Looking from today&#x27;s perspective, I also fail to see the logic behind it: separating arrays and dictionaries does not make your implementation more complicated than having a single backing data structure for both and taking care of all the special cases that arise from such a monstrosity.<p>The best explanation I can think of is that this was just a fad nobody questioned too much. Back in the 1980s and 1990s, there was a strong distinction between &quot;scripting languages&quot; and general-purpose dynamic languages (like Lisp and Smalltalk). Scripting languages were supposed to be used to write small scripts to automate stuff. Type-safety was not something that any mainstream language considered back then (it was a thing in niche languages like Ada, SML and Eiffel), and speed was not a concern for scripting languages.<p>A common philosophy (though I never seen it clearly stated) for scripting languages seems to have been to &quot;be liberal and try to work with whatever the programmer does&quot;.<p>So you shouldn&#x27;t require to declare variables in advance (that&#x27;s a lot of hassle!) or throw an error if a function is called with the wrong number of arguments.<p>And what if the programmer tries to add an integer and a number written as string? Just coerce them. Or better yet, make everything a string like Tcl does. Or at the very least, don&#x27;t be a spoilsport and have separate types for integers and floating point numbers!<p>Ok, so what if the programmer tries to use a string index? We cannot coerce non-numeric strings! Well, why don&#x27;t we just unify arrays and dictionaries like we&#x27;ve just unified all our number types? Now you don&#x27;t have to worry about invalid indexes since all indexes are converted to strings! And if the programmers want to use 0-based, 1-based, 2-based or 42-based indexes they can do whatever they want! They can even have non-contiguous arrays or mix arrays with associative dictionaries. Total freedom.<p>This thought process is completely imaginary. I suspect not a lot of thought was given to this type of flexibility at all back in the day. It was just a widely accepted assumption that scripting languages should be flexible, free and relaxed. And merging arrays and dictionaries (or &quot;all arrays are associative arrays&quot; as it was often called back then) was just one more idea that naturally fit into the zeitgeist, like type coercion and &quot;assignment to an unknown variable sets a global variable by default&quot;.<p>So tldr: it was a fad.</div><br/></div></div></div></div></div></div></div></div><div id="42517205" class="c"><input type="checkbox" id="c-42517205" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#42517224">prev</a><span>|</span><a href="#42518564">next</a><span>|</span><label class="collapse" for="c-42517205">[-]</label><label class="expand" for="c-42517205">[31 more]</label></div><br/><div class="children"><div class="content">My humble opinion is that most applications that need scripting should just embed JavaScript.<p>It has a massive advantage in the existing ecosystem. People don’t always love it, but millions of them already know it. You don’t need to re-learn array indexing and nil termination quirks and the dozens of other things where Lua is subtly different in ways that you’ll find out at runtime.<p>There are JS engines in all sizes, from tiny interpreters to world-leading JIT performance monsters. And most operating systems nowadays ship with a high-quality engine and embedding framework that you can access without installing anything, like JavaScriptCore on the Apple platforms.<p>Do your users a favor and just use the boring standard language instead of making them learn a completely new one that doesn’t offer meaningful practical benefits for them. It’s probably not as much fun for you, but you’ll save time for both the users and yourself in the end.</div><br/><div id="42517273" class="c"><input type="checkbox" id="c-42517273" checked=""/><div class="controls bullet"><span class="by">Demiurge</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42518801">next</a><span>|</span><label class="collapse" for="c-42517273">[-]</label><label class="expand" for="c-42517273">[14 more]</label></div><br/><div class="children"><div class="content">On one hand, you do have JavaScript ubiquity, on the other hand, you have the JavaScript &quot;WTF&quot; equality and typing conversion matrix, &quot;WTF&quot; scoping, and dozens of other foot guns that Lua doesn&#x27;t have. Some people would rather everyone learned Lua subtle differences and wrote less buggy code. I&#x27;ve had to use for the web for 20 years, and if I have any choice, I would avoid it.<p>Anyway, every language has some fans, and I don&#x27;t mean to dismiss them, but ubiquity is not the top priority, all the time.</div><br/><div id="42520232" class="c"><input type="checkbox" id="c-42520232" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517273">parent</a><span>|</span><a href="#42518541">next</a><span>|</span><label class="collapse" for="c-42520232">[-]</label><label class="expand" for="c-42520232">[1 more]</label></div><br/><div class="children"><div class="content">JavaScript has very nice scoping compared to Lua.<p>Js needs no forwards which in Lua turn into ugly “local foo; … … … foo = function()…end”. All functions are “hoisted” by default.<p>Js also uses “export”s or “module.exports[…]” instead of <i>returning</i> a symbol table, which allows cross-referencing.<p>Js has a function scope (var) <i>together</i> with local scoping.<p>Js doesn’t allow accidental shadowing in the same scope. Lua: local x; local x; silently creates two variables, good luck debugging that closure.<p>Js type coercion is only insane in the parts where operation itself makes zero sense. Please don’t tell me that ![0] or [] + {} makes sense to you or that you use them in other languages. Or that s+n and n+s seems safe everywhere except in js.<p>Js has a ternary operator and ?? ?. ??= operator group. Lua only has that “and-or” crutch and “not X” which returns true only for nil and false.<p>Js “…arr” is a first class citizen while in Lua “…” decays into its last value if you want to follow it.<p>Js (normally) ordered properties system is much more convenient in dev and debug time than an unordered mess of meta-hashtables.<p>Js doesn’t require you to<p><pre><code>  {
    myPropertyHere = gotSomeObject.myPropertyHere,
    …
    IllRepeatThisAsManyTimesAsNeeded = gotSomeObject.causeWhyNot,
  }
  gotSomeObject.someNumericField = gotSomeObject.someNumericField + 1
</code></pre>
which is extremely abhorrent DX in 2024.</div><br/></div></div><div id="42518541" class="c"><input type="checkbox" id="c-42518541" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517273">parent</a><span>|</span><a href="#42520232">prev</a><span>|</span><a href="#42517642">next</a><span>|</span><label class="collapse" for="c-42518541">[-]</label><label class="expand" for="c-42518541">[2 more]</label></div><br/><div class="children"><div class="content">Fortunately most of JavaScript&#x27;s WTFs are avoidable (though I do wish they&#x27;d add a &quot;really strict;&quot; mode that actually removed them).</div><br/><div id="42519335" class="c"><input type="checkbox" id="c-42519335" checked=""/><div class="controls bullet"><span class="by">Demiurge</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518541">parent</a><span>|</span><a href="#42517642">next</a><span>|</span><label class="collapse" for="c-42519335">[-]</label><label class="expand" for="c-42519335">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that would be great. I remember this was helpful in Perl, and ES6 days.</div><br/></div></div></div></div><div id="42517642" class="c"><input type="checkbox" id="c-42517642" checked=""/><div class="controls bullet"><span class="by">therein</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517273">parent</a><span>|</span><a href="#42518541">prev</a><span>|</span><a href="#42518151">next</a><span>|</span><label class="collapse" for="c-42517642">[-]</label><label class="expand" for="c-42517642">[3 more]</label></div><br/><div class="children"><div class="content">There is the equality gotchas on JavaScript but then you have 1-indexed arrays in Lua, which is a footgun that I know exists, I try to avoid shooting myself in the foot with it but I keep doing it.<p>It is beyond a footgun, more like a footgun concealed as a shoehorn.<p>Either way I find embedding a Lua VM into a project so much easier than embedding a Javascript one.</div><br/><div id="42518993" class="c"><input type="checkbox" id="c-42518993" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517642">parent</a><span>|</span><a href="#42519297">next</a><span>|</span><label class="collapse" for="c-42518993">[-]</label><label class="expand" for="c-42518993">[1 more]</label></div><br/><div class="children"><div class="content">Which JS VMs have you tried embedding?  People in this thread have suggested <a href="https:&#x2F;&#x2F;github.com&#x2F;Moddable-OpenSource&#x2F;moddable">https:&#x2F;&#x2F;github.com&#x2F;Moddable-OpenSource&#x2F;moddable</a>, <a href="https:&#x2F;&#x2F;bellard.org&#x2F;quickjs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bellard.org&#x2F;quickjs&#x2F;</a>, and <a href="https:&#x2F;&#x2F;duktape.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;duktape.org&#x2F;</a>, but I haven&#x27;t tried any of them.</div><br/></div></div><div id="42519297" class="c"><input type="checkbox" id="c-42519297" checked=""/><div class="controls bullet"><span class="by">Demiurge</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517642">parent</a><span>|</span><a href="#42518993">prev</a><span>|</span><a href="#42518151">next</a><span>|</span><label class="collapse" for="c-42519297">[-]</label><label class="expand" for="c-42519297">[1 more]</label></div><br/><div class="children"><div class="content">Indexing, I give you this one... I think it was intended as some kind of a gift to a &quot;non programmer&quot;, a choice many other older language made, by the history decided to go another way, unfortunately for Lua. Still, I haven&#x27;t had any issues adjusting to this one, personally. It seems kind of like Python whitespacing, I think I forget about it.</div><br/></div></div></div></div><div id="42518151" class="c"><input type="checkbox" id="c-42518151" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517273">parent</a><span>|</span><a href="#42517642">prev</a><span>|</span><a href="#42518801">next</a><span>|</span><label class="collapse" for="c-42518151">[-]</label><label class="expand" for="c-42518151">[7 more]</label></div><br/><div class="children"><div class="content">The only people saying &quot;WTF&quot; about Javascript are people who haven&#x27;t taken the time to learn how to use it effectively. There are &quot;WTF&quot; things about every language, not just Javascript.<p>Noobs are going to find the footguns in any language. Every language can be misused. I&#x27;ve been using Javascript over 20 years and have never thought it was any worse than any other language. Yes, it&#x27;s dynamic, and yes, you can do stupid things with that dynamism, but for someone who actually knows how to use it, it&#x27;s quite easy to work with.<p>I recently started using Lua and I&#x27;m not impressed at all. It&#x27;s just another language, it&#x27;s really up to the programmer what can be done with it, just like Javascript.</div><br/><div id="42518486" class="c"><input type="checkbox" id="c-42518486" checked=""/><div class="controls bullet"><span class="by">3a2d29</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518151">parent</a><span>|</span><a href="#42519211">next</a><span>|</span><label class="collapse" for="c-42518486">[-]</label><label class="expand" for="c-42518486">[2 more]</label></div><br/><div class="children"><div class="content">This is the common arguement used by people defending languages with tons of footguns.<p>If this is true, why not write everything in C++?<p>Javscript includes so many footguns that people know are bad (see the billion of examples of different types being added and getting random answers).  Every langauge has some difficult parts, pretending that means any amount is fine is crazy.  Javascript has earned its reputation.</div><br/><div id="42519880" class="c"><input type="checkbox" id="c-42519880" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518486">parent</a><span>|</span><a href="#42519211">next</a><span>|</span><label class="collapse" for="c-42519880">[-]</label><label class="expand" for="c-42519880">[1 more]</label></div><br/><div class="children"><div class="content">&gt;(see the billion of examples of different types being added and getting random answers)<p>Almost every &quot;footgun&quot; people cite about Javascript is something that would never be written as working code, by any competent programmer - they are &quot;WTF&quot; in that the person writing the &quot;gotcha&quot; has to go way outside of normal programming behavior to get the &quot;WTF&quot; result. Most of these &quot;WTF&quot; examples should be taken with a grain of salt.<p>If you&#x27;re expecting to &quot;WTF&quot; about Javascript&#x27;s type inference&#x2F;coercion, that works according to some logical rules.<p><a href="https:&#x2F;&#x2F;media.geeksforgeeks.org&#x2F;wp-content&#x2F;uploads&#x2F;advanced-javascript-backend-basics.png" rel="nofollow">https:&#x2F;&#x2F;media.geeksforgeeks.org&#x2F;wp-content&#x2F;uploads&#x2F;advanced-...</a><p>This matrix should be pretty easy to understand. Yes some things might seem weird like [[]] == false, and [1] == true, but nobody should be writing code like that, it&#x27;s just <i>illogical</i> to do anything this way and I don&#x27;t consider it to be a &quot;gotcha&quot;. &quot;Just because you can, doesn&#x27;t mean you should&quot; can be said about footguns in every language.<p>Yes, there are &quot;WTF&quot;s, but just like if I were to write a C++ &quot;WTF&quot;, it wouldn&#x27;t be something that most people would be tripped up by unless they were specifically looking for a way to say &quot;WTF&quot; about the language.<p>These &quot;javascript sucks&quot; internet arguments have persisted for decades, and it&#x27;s always complaints about the language that are citing unreasonable examples to prove a point that a programming language has some rough edges. Every programming language has some rough edges.<p>Javascript maybe has more footguns than some other languages because it is so dynamic, and the dynamism has its benefits too that other languages don&#x27;t have. I do like it and I use it effectively, YMMV. People just seem to be specifically mad at Javascript because it&#x27;s so popular and was made so by being the defacto standard for web browsers. It&#x27;s part jealousy and part frustration that <i>their favorite programming language</i> isn&#x27;t the one that web browsers include by default.</div><br/></div></div></div></div><div id="42519211" class="c"><input type="checkbox" id="c-42519211" checked=""/><div class="controls bullet"><span class="by">int_19h</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518151">parent</a><span>|</span><a href="#42518486">prev</a><span>|</span><a href="#42519350">next</a><span>|</span><label class="collapse" for="c-42519211">[-]</label><label class="expand" for="c-42519211">[1 more]</label></div><br/><div class="children"><div class="content">Python is also dynamic, but it doesn&#x27;t let you do things like (1 + &quot;a&quot;), for example.</div><br/></div></div><div id="42519350" class="c"><input type="checkbox" id="c-42519350" checked=""/><div class="controls bullet"><span class="by">Demiurge</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518151">parent</a><span>|</span><a href="#42519211">prev</a><span>|</span><a href="#42518491">next</a><span>|</span><label class="collapse" for="c-42519350">[-]</label><label class="expand" for="c-42519350">[2 more]</label></div><br/><div class="children"><div class="content">Okey, so the first thing everyone should learn is not to use &quot;==&quot; but use &quot;===&quot;. Or, perhaps, just use TypeScript, right? I think that&#x27;s what people call &quot;effective JavaScript&quot; these days.</div><br/><div id="42519983" class="c"><input type="checkbox" id="c-42519983" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42519350">parent</a><span>|</span><a href="#42518491">next</a><span>|</span><label class="collapse" for="c-42519983">[-]</label><label class="expand" for="c-42519983">[1 more]</label></div><br/><div class="children"><div class="content">Quite a lot can be built reliably with Javascript following only &quot;use ===&quot;. YMMV. Typescript doesn&#x27;t solve much unless you use it religiously (and few people really do), it still allows for all kinds of &quot;gotchas&quot; if you want to write &quot;gotchas&quot; with it.</div><br/></div></div></div></div><div id="42518491" class="c"><input type="checkbox" id="c-42518491" checked=""/><div class="controls bullet"><span class="by">Supermancho</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518151">parent</a><span>|</span><a href="#42519350">prev</a><span>|</span><a href="#42518801">next</a><span>|</span><label class="collapse" for="c-42518491">[-]</label><label class="expand" for="c-42518491">[1 more]</label></div><br/><div class="children"><div class="content">Lua feels and acts like a worse javascript. Yes the runtime can make the memory footprint really small, but manipulation and validation of the crappy list&#x2F;table structures makes the implementations miserably large. I&#x27;ve only written about a million lines of it (literally), so I&#x27;m pretty set in my opinion.</div><br/></div></div></div></div></div></div><div id="42518801" class="c"><input type="checkbox" id="c-42518801" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42517273">prev</a><span>|</span><a href="#42517283">next</a><span>|</span><label class="collapse" for="c-42518801">[-]</label><label class="expand" for="c-42518801">[3 more]</label></div><br/><div class="children"><div class="content">Lua 5.2 is 15000 lines of portable ANSI C.  On amd64 the Debian default configuration of the interpreter compiles to a 950KiB executable that strips to 224K.  I think reduced configurations can go below 100K.  It doesn&#x27;t start extra threads, demand a thread of its own, or have tricky memory management demands.  What JS interpreter would you recommend for cases where that&#x27;s a good fit?  Something that&#x27;s less than a megabyte and can be compiled to run on weird architectures.</div><br/><div id="42518854" class="c"><input type="checkbox" id="c-42518854" checked=""/><div class="controls bullet"><span class="by">Vogtinator</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518801">parent</a><span>|</span><a href="#42517283">next</a><span>|</span><label class="collapse" for="c-42518854">[-]</label><label class="expand" for="c-42518854">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;duktape.org" rel="nofollow">https:&#x2F;&#x2F;duktape.org</a> is in a similar ballpark.</div><br/><div id="42518981" class="c"><input type="checkbox" id="c-42518981" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518854">parent</a><span>|</span><a href="#42517283">next</a><span>|</span><label class="collapse" for="c-42518981">[-]</label><label class="expand" for="c-42518981">[1 more]</label></div><br/><div class="children"><div class="content">This does look great!  Unfortunately it looks like it&#x27;ll be hard for me to build it; it&#x27;s yet another project that got fucked over by the Python community&#x27;s irresponsibility.</div><br/></div></div></div></div></div></div><div id="42517283" class="c"><input type="checkbox" id="c-42517283" checked=""/><div class="controls bullet"><span class="by">Groxx</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42518801">prev</a><span>|</span><a href="#42518938">next</a><span>|</span><label class="collapse" for="c-42517283">[-]</label><label class="expand" for="c-42517283">[2 more]</label></div><br/><div class="children"><div class="content">For cases where you can realistically include a full v8 in your project, yea - that seems fairly reasonable nowadays.<p>Javascript took an extremely high-complexity, high-cost, and nearly-all-effort-in-just-two-impls-for-over-a-decade route to get to the current (stunning) performance though.  How do small-scale embedded interpreters stack up?  That&#x27;s what many things that aren&#x27;t Electron apps will be using.<p>I ask this honestly, to be clear - I&#x27;m not sure how they stack up.  I know Lua has historically targeted and dominated this area so I&#x27;d expect it to win, but I have not seen <i>any</i> data and I largely agree - JS is a massively better development environment now, and I would love to choose it.  Everything I can find pits it against v8, and that&#x27;s kinda like comparing the performance of a bike against a train - they are so different in many situations that it&#x27;s meaningless.  Otherwise I&#x27;d probably choose WASM today, or maybe docker containers where performance and platform needs isn&#x27;t an issue.</div><br/><div id="42518667" class="c"><input type="checkbox" id="c-42518667" checked=""/><div class="controls bullet"><span class="by">CharlesW</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517283">parent</a><span>|</span><a href="#42518938">next</a><span>|</span><label class="collapse" for="c-42518667">[-]</label><label class="expand" for="c-42518667">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>How do small-scale embedded interpreters stack up?</i><p>Moddable&#x27;s XS runtime is a wonder, with 99%+ ES2023 conformance even on devices running at 80 kHz with 45 KB of free memory. <a href="https:&#x2F;&#x2F;github.com&#x2F;Moddable-OpenSource&#x2F;moddable">https:&#x2F;&#x2F;github.com&#x2F;Moddable-OpenSource&#x2F;moddable</a><p>QuickJS has somewhat higher requirements, but also a great candidate for embeddable mobile and desktop applications, and is well-regarded. <a href="https:&#x2F;&#x2F;bellard.org&#x2F;quickjs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bellard.org&#x2F;quickjs&#x2F;</a></div><br/></div></div></div></div><div id="42518938" class="c"><input type="checkbox" id="c-42518938" checked=""/><div class="controls bullet"><span class="by">DanielHB</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42517283">prev</a><span>|</span><a href="#42517302">next</a><span>|</span><label class="collapse" for="c-42518938">[-]</label><label class="expand" for="c-42518938">[2 more]</label></div><br/><div class="children"><div class="content">Lua used to be very popular for embedding because the runtime was minuscule so it could run in very constrained environments (like old consoles). This is mostly a non-issue these days though.<p>JS and Lua are very similar feature-wise and I imagine Lua hasn&#x27;t gotten the massive JIT runtime optimizations that JS has, so JS seems a far better choice these days.</div><br/><div id="42519279" class="c"><input type="checkbox" id="c-42519279" checked=""/><div class="controls bullet"><span class="by">Isogash</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518938">parent</a><span>|</span><a href="#42517302">next</a><span>|</span><label class="collapse" for="c-42519279">[-]</label><label class="expand" for="c-42519279">[1 more]</label></div><br/><div class="children"><div class="content">Once you reach LuaJIT levels of performance though it&#x27;s not like you need more. If you&#x27;re doing a huge amount of heavy lifting in your embedded runtime then you&#x27;ve probably designed the application wrong.<p>The fat better arguments are that it&#x27;s more common and there are more libraries.</div><br/></div></div></div></div><div id="42517302" class="c"><input type="checkbox" id="c-42517302" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42518938">prev</a><span>|</span><a href="#42517311">next</a><span>|</span><label class="collapse" for="c-42517302">[-]</label><label class="expand" for="c-42517302">[4 more]</label></div><br/><div class="children"><div class="content">This probably makes more sense in 2024 but for many years JavaScript was not a serious option. I wasn&#x27;t until the mid-late 2000&#x27;s that it started to get traction as an application language and had any way to run it outside of a web browser.<p>Lua as an embedded language already had over a decade head start.</div><br/><div id="42518322" class="c"><input type="checkbox" id="c-42518322" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517302">parent</a><span>|</span><a href="#42517311">next</a><span>|</span><label class="collapse" for="c-42518322">[-]</label><label class="expand" for="c-42518322">[3 more]</label></div><br/><div class="children"><div class="content">Netscape had javascript running server-side in 1995, only a couple years after Lua was created. So no, Lua did not have &quot;over a decade head start&quot;, it had 1 year.<p>Microsoft also had server-side JS, and still do. Active Server Pages (ASP) were scriptable with javascript since 1996. Microsoft&#x27;s JScript.net has been around since 2002 (even if not well supported or maintained by M$, it still works). I&#x27;ve written web back-ends, Windows desktop applications, and even .dlls with JScript.net as far back as 2003.<p>Javascript has been Adobe&#x27;s scripting engine for Photoshop since 2005. Sony chose Javascript for Vegas Video&#x27;s scripting language in 2003.<p>Javascript has so many uses outside of a web browser, and has for a very long time.</div><br/><div id="42518876" class="c"><input type="checkbox" id="c-42518876" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518322">parent</a><span>|</span><a href="#42517311">next</a><span>|</span><label class="collapse" for="c-42518876">[-]</label><label class="expand" for="c-42518876">[2 more]</label></div><br/><div class="children"><div class="content">Yes but for the first 10 years (1995 - ~2005) JavaScript was not taken seriously as an application language in most dev shops. Active Server Pages were overwhelmingly coded in VBScript. JavaScript was used in little snippets in &quot;onBlur&quot; attributes to do client-side validation of fields on a form, pop up &quot;alert&quot; boxes, and enable submit buttons. It wasn&#x27;t until XMLHttp and prototype.js and jquery and stuff like that came along that mainstream developers started to understand what JavaScript was capable of.</div><br/><div id="42519222" class="c"><input type="checkbox" id="c-42519222" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42518876">parent</a><span>|</span><a href="#42517311">next</a><span>|</span><label class="collapse" for="c-42519222">[-]</label><label class="expand" for="c-42519222">[1 more]</label></div><br/><div class="children"><div class="content">I guess I wasn&#x27;t a &quot;mainstream&quot; developer in the 1990&#x27;s? Before XMLHTTPRequest, I was using iframes to asynchronously load content into the browser, essentially accomplishing the same thing before &quot;AJAX&quot; was a thing. We were doing long-polling before there was websockets. I was using Javascript and CSS to create &quot;DHTML&quot; SPAs before XMLHTTPRequest, with Javascript for front-end and back-end. You either know the potential of the tools that are available, or you don&#x27;t.<p>But I guess my anecdotal experience doesn&#x27;t matter, because I wasn&#x27;t a &quot;mainstream&quot; developer? From my point of view, everyone else was missing out on using one language for front-end and back-end.<p>Context switching has a real cost in terms of developer burnout, and it&#x27;s something I&#x27;ve happily avoided for 25 years.</div><br/></div></div></div></div></div></div></div></div><div id="42517311" class="c"><input type="checkbox" id="c-42517311" checked=""/><div class="controls bullet"><span class="by">krapp</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42517302">prev</a><span>|</span><a href="#42518510">next</a><span>|</span><label class="collapse" for="c-42517311">[-]</label><label class="expand" for="c-42517311">[4 more]</label></div><br/><div class="children"><div class="content">&quot;most people should use the things I use and am familiar with&quot; is a common opinion but you should realize that between Javascript and Lua, Lua <i>is</i> the boring standard language in this context.<p>Also there are whole books written on the quirks you need to master with Javascript. Lua has its rough edges but it&#x27;s a much simpler language, so there are far fewer of them.</div><br/><div id="42518049" class="c"><input type="checkbox" id="c-42518049" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517311">parent</a><span>|</span><a href="#42517411">next</a><span>|</span><label class="collapse" for="c-42518049">[-]</label><label class="expand" for="c-42518049">[1 more]</label></div><br/><div class="children"><div class="content">Lua has a ton of sharp edges, they just don&#x27;t manifest themselves as much as with JavaScript since JS has a different &quot;typical use case&quot; and aren&#x27;t as often discussed. Writing user facing UIs, with all that it entails, is a great way to uncover and experience all possible sharp edges.<p>And a lot of the issues with JavaScript just wouldn&#x27;t matter for an &quot;embedded scripting engine&quot; use case imo.</div><br/></div></div><div id="42517411" class="c"><input type="checkbox" id="c-42517411" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517311">parent</a><span>|</span><a href="#42518049">prev</a><span>|</span><a href="#42518510">next</a><span>|</span><label class="collapse" for="c-42517411">[-]</label><label class="expand" for="c-42517411">[2 more]</label></div><br/><div class="children"><div class="content">What’s the end-user segment where Lua is more widely known than JavaScript?<p>Game dev, possibly (even that seems highly debatable). But the article was making the case that Lua should be more widely used outside of that niche.</div><br/><div id="42517648" class="c"><input type="checkbox" id="c-42517648" checked=""/><div class="controls bullet"><span class="by">mikey_p</span><span>|</span><a href="#42517205">root</a><span>|</span><a href="#42517411">parent</a><span>|</span><a href="#42518510">next</a><span>|</span><label class="collapse" for="c-42517648">[-]</label><label class="expand" for="c-42517648">[1 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t matter if it&#x27;s widely known, it honestly is much nicer to work with than Javascript and is being used as it is intended, instead of being a half-baked language designed in a hurry, to work in a browser, that got repurposed as a general purpose scripting language later.</div><br/></div></div></div></div></div></div><div id="42518510" class="c"><input type="checkbox" id="c-42518510" checked=""/><div class="controls bullet"><span class="by">2OEH8eoCRo0</span><span>|</span><a href="#42517205">parent</a><span>|</span><a href="#42517311">prev</a><span>|</span><a href="#42518564">next</a><span>|</span><label class="collapse" for="c-42518510">[-]</label><label class="expand" for="c-42518510">[1 more]</label></div><br/><div class="children"><div class="content">My exact thought when trying to program my Logitech mouse (which uses Lua).<p>I also think 9 out of 10 languages are <i>overrated</i> and we have far too many.</div><br/></div></div></div></div><div id="42518564" class="c"><input type="checkbox" id="c-42518564" checked=""/><div class="controls bullet"><span class="by">ternnoburn</span><span>|</span><a href="#42517205">prev</a><span>|</span><a href="#42517213">next</a><span>|</span><label class="collapse" for="c-42518564">[-]</label><label class="expand" for="c-42518564">[2 more]</label></div><br/><div class="children"><div class="content">Lisa is deeply, deeply overrated, ime. But I&#x27;m coming from the games industry where it&#x27;s widely used.<p>The only benefit of Lua ime is the ease at which it embeds in C++. Beyond that, it&#x27;s a nightmare.</div><br/><div id="42518747" class="c"><input type="checkbox" id="c-42518747" checked=""/><div class="controls bullet"><span class="by">julianeon</span><span>|</span><a href="#42518564">parent</a><span>|</span><a href="#42517213">next</a><span>|</span><label class="collapse" for="c-42518747">[-]</label><label class="expand" for="c-42518747">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m getting the sense overall that Lua is correctly rated.</div><br/></div></div></div></div><div id="42517213" class="c"><input type="checkbox" id="c-42517213" checked=""/><div class="controls bullet"><span class="by">01HNNWZ0MV43FF</span><span>|</span><a href="#42518564">prev</a><span>|</span><a href="#42520202">next</a><span>|</span><label class="collapse" for="c-42517213">[-]</label><label class="expand" for="c-42517213">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve had fun embedding Lua a couple times, but as with wasm I almost never have a case where I need to run new code without being able to recompile the whole binary, so I don&#x27;t get to use it often.<p>The most fun was when I made a game engine (&quot;engine&quot;) in C++ that used Lua for all the game logic. The fast debug cycles are very useful there. Maybe I should still do that for Rust gamedev, since Rust notoriously compiles slowly.<p>The second-most fun was an IRC bot that could reload its Lua logic without disconnecting. Nowadays I&#x27;d write a bouncer and just let the main process restart. (Or use wasm, a wasm IRC bot would be good...)<p>The third-most fun was using Lua as a Turing-complete configuration language. If I needed an array of something, I just made Lua make an array, instead of generating Lua code.<p>One of the least fun was the Blender plugin that exported 3D models as generated Lua. If I did that one again today, I&#x27;d just use MsgPack or some ad-hoc binary format.</div><br/></div></div><div id="42520202" class="c"><input type="checkbox" id="c-42520202" checked=""/><div class="controls bullet"><span class="by">jdblair</span><span>|</span><a href="#42517213">prev</a><span>|</span><a href="#42518768">next</a><span>|</span><label class="collapse" for="c-42520202">[-]</label><label class="expand" for="c-42520202">[1 more]</label></div><br/><div class="children"><div class="content">Lua fits the same niche as Tcl, but the runtime is smaller and way better. Tcl started as a simple, embeddable scripting language (and low performance, it was just string substitutions!) and evolved into Tcl8, a mostly backward compatible object system after successive iterations to improve its performance and expressiveness. &quot;everything is a table&quot; gets you pretty far in Lua, in much the same way that &quot;everything is a list&quot; in lisp, and was a much better abstraction than Tcl&#x27;s &quot;everything is a string.&quot;<p>When I last used Lua professionally (10 years ago) I did discover some foot-guns related to the handling of NULL &#x2F; nil in the LuaSQL module. The Lua array length function was based on nil-termination, so a NULL value in a column could cause issues. Maybe this has been fixed by now?</div><br/></div></div><div id="42518768" class="c"><input type="checkbox" id="c-42518768" checked=""/><div class="controls bullet"><span class="by">bvrmn</span><span>|</span><a href="#42520202">prev</a><span>|</span><a href="#42517373">next</a><span>|</span><label class="collapse" for="c-42518768">[-]</label><label class="expand" for="c-42518768">[12 more]</label></div><br/><div class="children"><div class="content">It&#x27;s hard to use lua for any sizeable chunk of code due to weak typing, absence of type hints and error handling. No it&#x27;s not underrated in any way.<p>It&#x27;s funny how through the years I&#x27;ve started to appreciate statically typed languages and type hints (Python, TypeScript) as well. Up to my current stance: it&#x27;s a disservice for a community to write hintless python or js code.<p>P.S. Recently I&#x27;ve rewritten 1.5k cloc of JS into TypeScript. As usual there were dozens of cases of missed nulls, null attribute accesses or semantically questionable nulls.</div><br/><div id="42520333" class="c"><input type="checkbox" id="c-42520333" checked=""/><div class="controls bullet"><span class="by">thunkle</span><span>|</span><a href="#42518768">parent</a><span>|</span><a href="#42518924">next</a><span>|</span><label class="collapse" for="c-42520333">[-]</label><label class="expand" for="c-42520333">[1 more]</label></div><br/><div class="children"><div class="content">I just started using lua and have types in vscode using lua annotations. <a href="https:&#x2F;&#x2F;github.com&#x2F;LuaLS&#x2F;lua-language-server&#x2F;wiki&#x2F;Annotations">https:&#x2F;&#x2F;github.com&#x2F;LuaLS&#x2F;lua-language-server&#x2F;wiki&#x2F;Annotation...</a></div><br/></div></div><div id="42518924" class="c"><input type="checkbox" id="c-42518924" checked=""/><div class="controls bullet"><span class="by">DanielHB</span><span>|</span><a href="#42518768">parent</a><span>|</span><a href="#42520333">prev</a><span>|</span><a href="#42518901">next</a><span>|</span><label class="collapse" for="c-42518924">[-]</label><label class="expand" for="c-42518924">[2 more]</label></div><br/><div class="children"><div class="content">It is because type inference has become a standard feature in most languages so you don&#x27;t have to type AbstractBeanCounterSingletonFactoryFactory all the time.<p>Also the duck typing crowd were rebelling against polymorphism and over-used meta-programming OOP slop, not against types per se.</div><br/><div id="42519026" class="c"><input type="checkbox" id="c-42519026" checked=""/><div class="controls bullet"><span class="by">bvrmn</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518924">parent</a><span>|</span><a href="#42518901">next</a><span>|</span><label class="collapse" for="c-42519026">[-]</label><label class="expand" for="c-42519026">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Also the duck typing crowd were rebelling against polymorphism and over-used meta-programming OOP slop, not against types per se.<p>My argument against types in python was literally: it&#x27;s hard to model my domain with static types. And we have tests!<p>I felt types would severely decrease my productivity as 10x coder. Embarrassing, right?</div><br/></div></div></div></div><div id="42518901" class="c"><input type="checkbox" id="c-42518901" checked=""/><div class="controls bullet"><span class="by">rstuart4133</span><span>|</span><a href="#42518768">parent</a><span>|</span><a href="#42518924">prev</a><span>|</span><a href="#42518838">next</a><span>|</span><label class="collapse" for="c-42518901">[-]</label><label class="expand" for="c-42518901">[1 more]</label></div><br/><div class="children"><div class="content">You forgot to mention variables are global by default, just like javascript.</div><br/></div></div><div id="42518838" class="c"><input type="checkbox" id="c-42518838" checked=""/><div class="controls bullet"><span class="by">liendolucas</span><span>|</span><a href="#42518768">parent</a><span>|</span><a href="#42518901">prev</a><span>|</span><a href="#42517373">next</a><span>|</span><label class="collapse" for="c-42518838">[-]</label><label class="expand" for="c-42518838">[7 more]</label></div><br/><div class="children"><div class="content">&gt; Up to my current stance: it&#x27;s a disservice for a community to write hintless python or js code.<p>Strongly disagree. If you are you using Python or Javascript or any other duck typing language you are supposed to know what you are doing and types are completely unnecessary. I&#x27;m amused at how the community in general praises and adopts TypeScript in so many projects. You can just write realiable JS code as it is. I have ever written any hinted Python code and everything just works as expected. If you need some guarantees then I would probably switch to some unit testing which at least for me brings more value that using types.</div><br/><div id="42520691" class="c"><input type="checkbox" id="c-42520691" checked=""/><div class="controls bullet"><span class="by">vrighter</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518838">parent</a><span>|</span><a href="#42518921">next</a><span>|</span><label class="collapse" for="c-42520691">[-]</label><label class="expand" for="c-42520691">[1 more]</label></div><br/><div class="children"><div class="content">Code <i>always</i> has types. Even in dynamic languages. The difference is whether those types can be expressed in the code, or have to be kept completely in your head (or constantly having to re-figure out what they are).</div><br/></div></div><div id="42518921" class="c"><input type="checkbox" id="c-42518921" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518838">parent</a><span>|</span><a href="#42520691">prev</a><span>|</span><a href="#42518987">next</a><span>|</span><label class="collapse" for="c-42518921">[-]</label><label class="expand" for="c-42518921">[2 more]</label></div><br/><div class="children"><div class="content">- Documentation is great, but documentation can fall out of date. Strong types usually can&#x27;t; they are checked in both directions.<p>- Tests are great, but it&#x27;s hard to maintain 100% coverage that checks all of what types do. It&#x27;s very possible to have tests that pass that shouldn&#x27;t. Types can not only find stealthily broken code, but also broken tests.<p>- Type checking gives even more instantaneous feedback than almost any test runner.<p>- Most projects have multiple developers. Types don&#x27;t communicate everything, but they are a reliable form of communication that is guaranteed to be up-to-date even when documentation isn&#x27;t, which is great combined with good function names and good parameter names.<p>- Most programs need to deal with requirements that shift, either because they evolve or our understanding evolves. Refactoring code without types is hard: if you change the return value of something, how can you be sure that all of the usages are up-to-date? What about if your refactor has been rebased a number of times before merging? I&#x27;ve run into a real-world production incident caused by this, when a return type changed to a tuple and it only exploded in an important Celery job that didn&#x27;t have a test around the specific boundary that broke.<p>&quot;If you know what you&#x27;re doing&quot; is not enough. Programs change, and they are changed by multiple people concurrently. This is the same reason why Rust continues to grow, people can say what they want but moving errors to the left is the only way forward because even if you&#x27;re literally perfect you still have to know 100% of what&#x27;s going on to never merge anything that causes a problem. (But really, people are not perfect, and never will be, so better tools Will win eventually.)</div><br/><div id="42519675" class="c"><input type="checkbox" id="c-42519675" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518921">parent</a><span>|</span><a href="#42518987">next</a><span>|</span><label class="collapse" for="c-42519675">[-]</label><label class="expand" for="c-42519675">[1 more]</label></div><br/><div class="children"><div class="content">&gt; - Most programs need to deal with requirements that shift, either because they evolve or our understanding evolves. Refactoring code without types is hard<p>I get perverse thrills out of drawing the attention of the &quot;pfft, types are for n00bs&quot; crowd to the multiple <i>authentication related</i> CVEs in GitLab due to the &quot;well, the parameter types are whatever they are, don&#x27;t you worry about it&quot;<p>That said, I&#x27;m trying very hard to ween myself off even reading these threads, let alone contributing to them, because much like &lt;<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42492508">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42492508</a>&gt; I&#x27;m never going convince them and they for damn sure are never going to convince me</div><br/></div></div></div></div><div id="42518987" class="c"><input type="checkbox" id="c-42518987" checked=""/><div class="controls bullet"><span class="by">blazing234</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518838">parent</a><span>|</span><a href="#42518921">prev</a><span>|</span><a href="#42519178">next</a><span>|</span><label class="collapse" for="c-42518987">[-]</label><label class="expand" for="c-42518987">[1 more]</label></div><br/><div class="children"><div class="content">I weep for the people who have to read your code when you&#x27;re not around</div><br/></div></div><div id="42519178" class="c"><input type="checkbox" id="c-42519178" checked=""/><div class="controls bullet"><span class="by">int_19h</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518838">parent</a><span>|</span><a href="#42518987">prev</a><span>|</span><a href="#42519051">next</a><span>|</span><label class="collapse" for="c-42519178">[-]</label><label class="expand" for="c-42519178">[1 more]</label></div><br/><div class="children"><div class="content">Past a certain amount of lines of code, you might <i>think</i> you know what you&#x27;re doing and types are completely unnecessary, but it&#x27;s just not true.</div><br/></div></div><div id="42519051" class="c"><input type="checkbox" id="c-42519051" checked=""/><div class="controls bullet"><span class="by">bvrmn</span><span>|</span><a href="#42518768">root</a><span>|</span><a href="#42518838">parent</a><span>|</span><a href="#42519178">prev</a><span>|</span><a href="#42517373">next</a><span>|</span><label class="collapse" for="c-42519051">[-]</label><label class="expand" for="c-42519051">[1 more]</label></div><br/><div class="children"><div class="content">&gt; you are supposed to know what you are doing and types are completely unnecessary<p>You are human, you simply can&#x27;t.<p>I&#x27;ve literally found bugs in <i>MY</i> existing code by a mere rewriting it to TypeScript. It&#x27;s the same story every single time. Even for projects with 100% test coverage.</div><br/></div></div></div></div></div></div><div id="42517373" class="c"><input type="checkbox" id="c-42517373" checked=""/><div class="controls bullet"><span class="by">hipadev23</span><span>|</span><a href="#42518768">prev</a><span>|</span><a href="#42517160">next</a><span>|</span><label class="collapse" for="c-42517373">[-]</label><label class="expand" for="c-42517373">[1 more]</label></div><br/><div class="children"><div class="content">Luau [1] developed by Roblox is a backwards-compatible fork of Lua 5.1 with some very significant improvements to speed and QoL [2]. It also mostly alleviates the nil-terminated array problem.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;luau-lang&#x2F;luau">https:&#x2F;&#x2F;github.com&#x2F;luau-lang&#x2F;luau</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;luau-lang&#x2F;rfcs&#x2F;tree&#x2F;master&#x2F;docs">https:&#x2F;&#x2F;github.com&#x2F;luau-lang&#x2F;rfcs&#x2F;tree&#x2F;master&#x2F;docs</a></div><br/></div></div><div id="42517160" class="c"><input type="checkbox" id="c-42517160" checked=""/><div class="controls bullet"><span class="by">lopatin</span><span>|</span><a href="#42517373">prev</a><span>|</span><a href="#42520326">next</a><span>|</span><label class="collapse" for="c-42517160">[-]</label><label class="expand" for="c-42517160">[2 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s a stretch to call it underrated. Isn&#x27;t it the defacto language for embedded scripting stuff? I&#x27;ve seen it used as a mini language in production in game engines, databases, and trading systems.<p>On the other hand, if the article is saying that it deserves to be more highly rated in the non-embedded space, I think I would need more than a handful of syntactical niceties to explain why it deserves to be in the same conversation as Python, Ruby, etc...</div><br/><div id="42517244" class="c"><input type="checkbox" id="c-42517244" checked=""/><div class="controls bullet"><span class="by">librasteve</span><span>|</span><a href="#42517160">parent</a><span>|</span><a href="#42520326">next</a><span>|</span><label class="collapse" for="c-42517244">[-]</label><label class="expand" for="c-42517244">[1 more]</label></div><br/><div class="children"><div class="content">…raku</div><br/></div></div></div></div><div id="42520326" class="c"><input type="checkbox" id="c-42520326" checked=""/><div class="controls bullet"><span class="by">thunkle</span><span>|</span><a href="#42517160">prev</a><span>|</span><a href="#42520186">next</a><span>|</span><label class="collapse" for="c-42520326">[-]</label><label class="expand" for="c-42520326">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been writing lots of lua recently. The only two things that bother me are indexes starting at 1. It&#x27;s made my 2d grid math more complicated. I also don&#x27;t like how I have to write a goto statement if I want to continue&#x2F;next inside a loop. Other than that I love the simplicity.</div><br/></div></div><div id="42520186" class="c"><input type="checkbox" id="c-42520186" checked=""/><div class="controls bullet"><span class="by">jezek2</span><span>|</span><a href="#42520326">prev</a><span>|</span><a href="#42517692">next</a><span>|</span><label class="collapse" for="c-42520186">[-]</label><label class="expand" for="c-42520186">[1 more]</label></div><br/><div class="children"><div class="content">If you like how easy is to embed Lua but not liking it&#x27;s syntax or features you can try FixScript.<p>It&#x27;s a language I&#x27;ve created that has C-like syntax, the implementation is a single .c file. It&#x27;s unique feature is an ability to arbitrarily extend the syntax (in fact classes and the type system is implemented as a library). This can be used for specific needs of your project.<p>It has also an ability to have time limits for execution and is able to reload scripts in place for live code updates. It also has a JIT by default.<p>More information here: <a href="https:&#x2F;&#x2F;www.fixscript.org&#x2F;blog&#x2F;introduction" rel="nofollow">https:&#x2F;&#x2F;www.fixscript.org&#x2F;blog&#x2F;introduction</a></div><br/></div></div><div id="42517692" class="c"><input type="checkbox" id="c-42517692" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#42520186">prev</a><span>|</span><a href="#42518763">next</a><span>|</span><label class="collapse" for="c-42517692">[-]</label><label class="expand" for="c-42517692">[5 more]</label></div><br/><div class="children"><div class="content">Except for &quot;tables&quot;. Lua tables are too weird. Trying to make one construct do the work of an array, a struct, and a dict leads to a messy construct.</div><br/><div id="42519224" class="c"><input type="checkbox" id="c-42519224" checked=""/><div class="controls bullet"><span class="by">int_19h</span><span>|</span><a href="#42517692">parent</a><span>|</span><a href="#42518281">next</a><span>|</span><label class="collapse" for="c-42519224">[-]</label><label class="expand" for="c-42519224">[2 more]</label></div><br/><div class="children"><div class="content">There was a time when this approach was common for dynamic languages in general. PHP and, to some extent, JS also come to mind.<p>I think it&#x27;s clear in retrospect that it makes more sense to keep lists and maps separate even in a high-level dynamic language that doesn&#x27;t care much about perf, and any purported gains in simplicity from having a single data structure are illusory because of footguns. But perhaps it wasn&#x27;t so clear before we had enough experience with this kind of design.<p>Then again, Python had a clean separation between lists and dicts from the get go, and it predates Lua as well as PHP and JS...</div><br/><div id="42519571" class="c"><input type="checkbox" id="c-42519571" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#42517692">root</a><span>|</span><a href="#42519224">parent</a><span>|</span><a href="#42518281">next</a><span>|</span><label class="collapse" for="c-42519571">[-]</label><label class="expand" for="c-42519571">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  even in a high-level dynamic language that doesn&#x27;t care much about perf<p>Lua is mostly used inside games, and the JIT compilers for it are said to be pretty good. (I haven&#x27;t tried this yet, but will have to soon.)</div><br/></div></div></div></div><div id="42518281" class="c"><input type="checkbox" id="c-42518281" checked=""/><div class="controls bullet"><span class="by">giraffe_lady</span><span>|</span><a href="#42517692">parent</a><span>|</span><a href="#42519224">prev</a><span>|</span><a href="#42518763">next</a><span>|</span><label class="collapse" for="c-42518281">[-]</label><label class="expand" for="c-42518281">[2 more]</label></div><br/><div class="children"><div class="content">There is also a very common two-liner invocation that turns them into prototypical classes as well. Extremely versatile data structure (pejorative).</div><br/><div id="42518416" class="c"><input type="checkbox" id="c-42518416" checked=""/><div class="controls bullet"><span class="by">ramses0</span><span>|</span><a href="#42517692">root</a><span>|</span><a href="#42518281">parent</a><span>|</span><a href="#42518763">next</a><span>|</span><label class="collapse" for="c-42518416">[-]</label><label class="expand" for="c-42518416">[1 more]</label></div><br/><div class="children"><div class="content">Perl would like to have a word... ;-)<p>But seriously, they do have some interesting quirks which make sense if you think of it (and maybe Lua as a semi-contemporary got its ideas from there), specifically, hashes are pairs of keys (even&#x2F;odd) in a flat array... and of course objects are just key&#x2F;values, but with some values being names and functions...<p><a href="https:&#x2F;&#x2F;perlmaven.com&#x2F;creating-hash-from-an-array" rel="nofollow">https:&#x2F;&#x2F;perlmaven.com&#x2F;creating-hash-from-an-array</a></div><br/></div></div></div></div></div></div><div id="42518763" class="c"><input type="checkbox" id="c-42518763" checked=""/><div class="controls bullet"><span class="by">K0IN</span><span>|</span><a href="#42517692">prev</a><span>|</span><a href="#42519516">next</a><span>|</span><label class="collapse" for="c-42518763">[-]</label><label class="expand" for="c-42518763">[1 more]</label></div><br/><div class="children"><div class="content">I used Lua the first time in Garry&#x27;s mod, and I had a absolute blast, was my first real programming language, I can vouch, it&#x27;s easy to pick up :)
I also must admit, the gmod lua extension (glua) was so much more enjoyable, that since then I keep my own lua version with patched ! for not and != as alternative for ~= (Luas way for not equal)</div><br/></div></div><div id="42519516" class="c"><input type="checkbox" id="c-42519516" checked=""/><div class="controls bullet"><span class="by">YoshiRulz</span><span>|</span><a href="#42518763">prev</a><span>|</span><a href="#42519997">next</a><span>|</span><label class="collapse" for="c-42519516">[-]</label><label class="expand" for="c-42519516">[1 more]</label></div><br/><div class="children"><div class="content">There are a lot of good comments here already, but I can&#x27;t let this pass by the main page without taking the opportunity to rail against Lua because, no, it&#x27;s not underrated. It&#x27;s everywhere and terrible.<p>This article is fairly light on detail, only mentioning a couple table footguns, but there are MANY more. (I also disagree with it being &quot;accessible even for beginners&quot;, but I&#x27;ll stick to objective things.) For starters, the size operator `#` doesn&#x27;t work on map-like tables, and there&#x27;s no easy way to copy part or all of a table, or to serialise one for printing.<p>Lua doesn&#x27;t have `switch` or even `break`&#x2F;`continue`. Though it added a `goto`—years after we collectively realised that&#x27;s an antifeature. You can use `and`+`or` as a ternary, but you need to remember that it works differently with bools and that `nil` is falsey ofc. And `0` is truthy. Using a variable which hasn&#x27;t been declared yet or is otherwise out of scope gives `nil` rather than an error. In fact most logic errors are SILENT (yay dynamic typing), and some syntax errors are raised far from the actual cause. `&lt;const&gt;` isn&#x27;t.<p>Before Lua 5.3, all numbers were floats. The patterns used for `string.match` look superficially like RegEx but they are not, despite them predating Lua. The stdlib is woefully lacking, with the official documentation seeming to taunt you with examples of how several common functions could be implemented, but it&#x27;s left to you to copy them into your projects.<p>So yeah, Lua might be small and quaint, but that&#x27;s only because so much is not included &quot;in the box&quot;, and what is included is no good.</div><br/></div></div><div id="42519997" class="c"><input type="checkbox" id="c-42519997" checked=""/><div class="controls bullet"><span class="by">gustavopezzi</span><span>|</span><a href="#42519516">prev</a><span>|</span><a href="#42518022">next</a><span>|</span><label class="collapse" for="c-42519997">[-]</label><label class="expand" for="c-42519997">[1 more]</label></div><br/><div class="children"><div class="content">Lua is a great language for extending systems and very high-level scripting. I like it. I had the pleasure of teaching a module in 2020 together with Roberto Ierusalimschy where we used Lua and LPeg to teach students how to write a simple programming language. It was a very fun class.</div><br/></div></div><div id="42518022" class="c"><input type="checkbox" id="c-42518022" checked=""/><div class="controls bullet"><span class="by">tga</span><span>|</span><a href="#42519997">prev</a><span>|</span><a href="#42519818">next</a><span>|</span><label class="collapse" for="c-42518022">[-]</label><label class="expand" for="c-42518022">[1 more]</label></div><br/><div class="children"><div class="content">Mandatory plug for Redbean[0], a standalone Lua webserver (a single-file that runs natively on six OSes!), and Fullmoon[1], a web framework built on top of it.<p>Not exactly mainstream, but so simple and elegant.<p>[0] <a href="https:&#x2F;&#x2F;redbean.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;redbean.dev&#x2F;</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;pkulchenko&#x2F;fullmoon">https:&#x2F;&#x2F;github.com&#x2F;pkulchenko&#x2F;fullmoon</a></div><br/></div></div><div id="42519818" class="c"><input type="checkbox" id="c-42519818" checked=""/><div class="controls bullet"><span class="by">cromantin</span><span>|</span><a href="#42518022">prev</a><span>|</span><a href="#42519144">next</a><span>|</span><label class="collapse" for="c-42519818">[-]</label><label class="expand" for="c-42519818">[1 more]</label></div><br/><div class="children"><div class="content">The best way to use Lia is using Typescript - <a href="https:&#x2F;&#x2F;typescripttolua.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;typescripttolua.github.io&#x2F;</a><p>We have huge Lia codebase for game client and game server shared code all written in typescript. Our developers only see lua if something does not work and it’s not often.</div><br/></div></div><div id="42519144" class="c"><input type="checkbox" id="c-42519144" checked=""/><div class="controls bullet"><span class="by">habibur</span><span>|</span><a href="#42519818">prev</a><span>|</span><a href="#42517191">next</a><span>|</span><label class="collapse" for="c-42519144">[-]</label><label class="expand" for="c-42519144">[3 more]</label></div><br/><div class="children"><div class="content">Add, no way to determine size of Array, which is the primary data structure anyway.<p>No item.length propery.<p>You might decide to count with foreach(), but that will terminate when it encounters the first value in the array that is NULL.</div><br/><div id="42520319" class="c"><input type="checkbox" id="c-42520319" checked=""/><div class="controls bullet"><span class="by">MomsAVoxell</span><span>|</span><a href="#42519144">parent</a><span>|</span><a href="#42519807">next</a><span>|</span><label class="collapse" for="c-42520319">[-]</label><label class="expand" for="c-42520319">[1 more]</label></div><br/><div class="children"><div class="content">&gt; You might decide to count with foreach(), but that will terminate when it encounters the first value in the array that is NULL.<p>True only if the programmer doesn’t take the effort to understand the difference between ipairs and pairs.</div><br/></div></div><div id="42519807" class="c"><input type="checkbox" id="c-42519807" checked=""/><div class="controls bullet"><span class="by">talideon</span><span>|</span><a href="#42519144">parent</a><span>|</span><a href="#42520319">prev</a><span>|</span><a href="#42517191">next</a><span>|</span><label class="collapse" for="c-42519807">[-]</label><label class="expand" for="c-42519807">[1 more]</label></div><br/><div class="children"><div class="content">Given the way that tables work, the concept of a &#x27;length&#x27; is a fuzzy one. However, the &#x27;#&#x27; operator will give you the last index of a table, which for tables used as arrays is pretty much what you want. There&#x27;s also the &#x27;__len&#x27; metamethod, which is what&#x27;s invoked if it&#x27;s present if you use the &#x27;#&#x27; operator. The operator&#x27;s been in the language since at least 5.1.<p>It&#x27;s a bad idea to think of Lua tables as arrays. They&#x27;re maps&#x2F;dictionaries with some extra semantics to allow them to be used similarly to arrays.</div><br/></div></div></div></div><div id="42517191" class="c"><input type="checkbox" id="c-42517191" checked=""/><div class="controls bullet"><span class="by">hprotagonist</span><span>|</span><a href="#42519144">prev</a><span>|</span><a href="#42517337">next</a><span>|</span><label class="collapse" for="c-42517191">[-]</label><label class="expand" for="c-42517191">[4 more]</label></div><br/><div class="children"><div class="content">especially with fennel on top, i can certainly see the uses and appeal!<p>coming from mostly python, i miss a robust stdlib.</div><br/><div id="42517493" class="c"><input type="checkbox" id="c-42517493" checked=""/><div class="controls bullet"><span class="by">digdugdirk</span><span>|</span><a href="#42517191">parent</a><span>|</span><a href="#42517337">next</a><span>|</span><label class="collapse" for="c-42517493">[-]</label><label class="expand" for="c-42517493">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been more and more intrigued by fennel lately, and I&#x27;ve been meaning to dive into the functional end of the pool. Any recommendations for how to get started with it, especially if coming from a python background?</div><br/><div id="42519066" class="c"><input type="checkbox" id="c-42519066" checked=""/><div class="controls bullet"><span class="by">livrem</span><span>|</span><a href="#42517191">root</a><span>|</span><a href="#42517493">parent</a><span>|</span><a href="#42517574">next</a><span>|</span><label class="collapse" for="c-42519066">[-]</label><label class="expand" for="c-42519066">[1 more]</label></div><br/><div class="children"><div class="content">I have learned it (somewhat) by playing around in TIC-80 and Löve2D (including LoveDOS).<p>Both Lua and Fennel are tiny languages. You can skim all the documentation in a short evening. Fennel does not even have its own standard library, so keep the Lua documentation close at hand.<p>I appreciate the simplicity of both Lua and Fennel. There are some ugly parts, but all languages have those.<p>Janet (later project by Fennel&#x27;s creator) is a nicer language that is also portable and embeddable, and has a nice standard library, but Fennel runs anywhere Lua runs. Janet is great just on its own for scripting and not sure I would want to use Fennel for that anywhere Janet is available. But as a way to script games in e.g. Löve2D it seems like an excellent choice.</div><br/></div></div><div id="42517574" class="c"><input type="checkbox" id="c-42517574" checked=""/><div class="controls bullet"><span class="by">n8henrie</span><span>|</span><a href="#42517191">root</a><span>|</span><a href="#42517493">parent</a><span>|</span><a href="#42519066">prev</a><span>|</span><a href="#42517337">next</a><span>|</span><label class="collapse" for="c-42517574">[-]</label><label class="expand" for="c-42517574">[1 more]</label></div><br/><div class="children"><div class="content">Also interested in resources here -- familiar with python, go, rust, but never used a lisp.<p>As a learning experiment, I was able to use the fennel website to convert my Hammerspoon config from lua to fennel, but I still struggle to add new functionality. Certainly have not delved into macros, but this is where much of the power lies AIUI.</div><br/></div></div></div></div></div></div><div id="42517337" class="c"><input type="checkbox" id="c-42517337" checked=""/><div class="controls bullet"><span class="by">keb_</span><span>|</span><a href="#42517191">prev</a><span>|</span><a href="#42519052">next</a><span>|</span><label class="collapse" for="c-42517337">[-]</label><label class="expand" for="c-42517337">[1 more]</label></div><br/><div class="children"><div class="content">I love Lua as a language; even if it can be a bit cumbersome at times, its simplicity and low barrier of entry is refreshing. I&#x27;m currently building a full-stack web application with <a href="https:&#x2F;&#x2F;redbean.dev" rel="nofollow">https:&#x2F;&#x2F;redbean.dev</a> in Lua and it&#x27;s mostly been a joy.</div><br/></div></div><div id="42519052" class="c"><input type="checkbox" id="c-42519052" checked=""/><div class="controls bullet"><span class="by">aulisius</span><span>|</span><a href="#42517337">prev</a><span>|</span><a href="#42518840">next</a><span>|</span><label class="collapse" for="c-42519052">[-]</label><label class="expand" for="c-42519052">[1 more]</label></div><br/><div class="children"><div class="content">I recently came across TypescriptToLua[0] which has improved my experience of writing Lua manyfolds. No more having to deal with 1-based indexes or lack of type hints.<p>[0] - <a href="https:&#x2F;&#x2F;typescripttolua.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;typescripttolua.github.io&#x2F;</a></div><br/></div></div><div id="42518840" class="c"><input type="checkbox" id="c-42518840" checked=""/><div class="controls bullet"><span class="by">pshc</span><span>|</span><a href="#42519052">prev</a><span>|</span><a href="#42517146">next</a><span>|</span><label class="collapse" for="c-42518840">[-]</label><label class="expand" for="c-42518840">[1 more]</label></div><br/><div class="children"><div class="content">Lua as a language is pretty warty, with some obvious omissions. But it’s widespread as an embedded language, and has been around a long time, and I think that tends to give it a nostalgic halo effect.<p>I would like to see more minimalist scripting languages with modern sensibilities replace it.</div><br/></div></div><div id="42517146" class="c"><input type="checkbox" id="c-42517146" checked=""/><div class="controls bullet"><span class="by">miohtama</span><span>|</span><a href="#42518840">prev</a><span>|</span><a href="#42517588">next</a><span>|</span><label class="collapse" for="c-42517146">[-]</label><label class="expand" for="c-42517146">[2 more]</label></div><br/><div class="children"><div class="content">I guess one of the issues is that because Lua is tailored for embedded use case, it lacks appeal as a general purpose software development ecosystem and thus its usage is marginal.</div><br/><div id="42517211" class="c"><input type="checkbox" id="c-42517211" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42517146">parent</a><span>|</span><a href="#42517588">next</a><span>|</span><label class="collapse" for="c-42517211">[-]</label><label class="expand" for="c-42517211">[1 more]</label></div><br/><div class="children"><div class="content">It’s been adopted in game engines to handle story logic, so the people writing the game can be decoupled from the people writing the engine, and don’t have to code in a low level language against a constantly moving target.<p>And I would argue that a lot of the staying power of World of Warcraft came from the Lua based addons democratizing the UI. Blizzard co-opted a lot of features from best of breed addons back into the base game. (That and negative pressure in the economy to keep from having every new character wielding the third best sword in the game due to deflation, but that’s a story for a different thread)</div><br/></div></div></div></div><div id="42517588" class="c"><input type="checkbox" id="c-42517588" checked=""/><div class="controls bullet"><span class="by">soapdog</span><span>|</span><a href="#42517146">prev</a><span>|</span><a href="#42518246">next</a><span>|</span><label class="collapse" for="c-42517588">[-]</label><label class="expand" for="c-42517588">[1 more]</label></div><br/><div class="children"><div class="content">Really liked that post, then again Lua is one of my favourite languages.<p>I wrote this post <a href="https:&#x2F;&#x2F;andregarzia.com&#x2F;2021&#x2F;01&#x2F;lua-a-misunderstood-language.html" rel="nofollow">https:&#x2F;&#x2F;andregarzia.com&#x2F;2021&#x2F;01&#x2F;lua-a-misunderstood-language...</a> some time ago and it kinda touches similar points as the OP. Read on if any of yous want to see yet another person talking about Lua.</div><br/></div></div><div id="42518246" class="c"><input type="checkbox" id="c-42518246" checked=""/><div class="controls bullet"><span class="by">jmclnx</span><span>|</span><a href="#42517588">prev</a><span>|</span><label class="collapse" for="c-42518246">[-]</label><label class="expand" for="c-42518246">[2 more]</label></div><br/><div class="children"><div class="content">Lua can be used to access the NetBSD kernel, which is interesting. I have said it before, I should spend time learning Lua.</div><br/><div id="42519600" class="c"><input type="checkbox" id="c-42519600" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42518246">parent</a><span>|</span><label class="collapse" for="c-42519600">[-]</label><label class="expand" for="c-42519600">[1 more]</label></div><br/><div class="children"><div class="content">You won&#x27;t have to spend very much time.  It&#x27;s a very small language.</div><br/></div></div></div></div></div></div></div></div></div></body></html>