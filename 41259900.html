<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724058071688" as="style"/><link rel="stylesheet" href="styles.css?v=1724058071688"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a>Ask HN: Pragmatic way to avoid supply chain attacks as a developer</a>Â </div><div class="subtext"><span>RoboTeddy</span> | <span>12 comments</span></div><br/><div><div id="41289210" class="c"><input type="checkbox" id="c-41289210" checked=""/><div class="controls bullet"><span class="by">bravetraveler</span><span>|</span><a href="#41274217">next</a><span>|</span><label class="collapse" for="c-41289210">[-]</label><label class="expand" for="c-41289210">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found an effective band-aid is <i>&#x27;become the supply chain&#x27;</i>. Running your own cache, poorly, has advantages. You don&#x27;t get the latest silliness by forgetting to update sometimes.</div><br/></div></div><div id="41274217" class="c"><input type="checkbox" id="c-41274217" checked=""/><div class="controls bullet"><span class="by">comprev</span><span>|</span><a href="#41289210">prev</a><span>|</span><a href="#41289153">next</a><span>|</span><label class="collapse" for="c-41274217">[-]</label><label class="expand" for="c-41274217">[1 more]</label></div><br/><div class="children"><div class="content">A large portion of my role at $DayJob is around improving supply chain security.<p>Some examples of how we do it:<p>- Devs can only use hardened (by us) Docker images hosted inside our infrastructure.  Policies enforce this during CI and runtime on clusters.<p>- All Maven&#x2F;PIP&#x2F;NodeJS&#x2F;etc. dependencies are pulled through via proxy and scanned before first use.  All future CI jobs pull from this internal cache.<p>- Only a handful of CI runners have outbound connectivity to the public internet (via firewalls). These runners have specific tags for jobs needing connectivity. All other runners pull dependencies &#x2F; push artefacts from within our network.<p>- The CI Runners with Internet connectivity have domains whitelisted at the firewall level, and so far very few requests have been made to add new domains.<p>- External assets, e.g an OpenJDK artefact, have their checksums validated during the build stage of our base images.  This checksum is included in Docker image metadata should we wish to download the asset again and compare against the public one.</div><br/></div></div><div id="41289153" class="c"><input type="checkbox" id="c-41289153" checked=""/><div class="controls bullet"><span class="by">blueflow</span><span>|</span><a href="#41274217">prev</a><span>|</span><a href="#41280602">next</a><span>|</span><label class="collapse" for="c-41289153">[-]</label><label class="expand" for="c-41289153">[1 more]</label></div><br/><div class="children"><div class="content">Be conservative in your software choices. If your software stack relies on a few off-the-shelf Debian packages and nothing more, you are pretty safe.</div><br/></div></div><div id="41280602" class="c"><input type="checkbox" id="c-41280602" checked=""/><div class="controls bullet"><span class="by">h4ck_th3_pl4n3t</span><span>|</span><a href="#41289153">prev</a><span>|</span><a href="#41274898">next</a><span>|</span><label class="collapse" for="c-41280602">[-]</label><label class="expand" for="c-41280602">[2 more]</label></div><br/><div class="children"><div class="content">CycloneDX tools offer packages for each and every programming language. [1]<p>The dependency track project accumulates all dependency vulnerabilities in a dashboard. [2]<p>Container SBOMs can be generated with syft and grype [3] [4]<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;CycloneDX">https:&#x2F;&#x2F;github.com&#x2F;CycloneDX</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;DependencyTrack">https:&#x2F;&#x2F;github.com&#x2F;DependencyTrack</a><p>[3] <a href="https:&#x2F;&#x2F;github.com&#x2F;anchore&#x2F;syft">https:&#x2F;&#x2F;github.com&#x2F;anchore&#x2F;syft</a><p>[4] <a href="https:&#x2F;&#x2F;github.com&#x2F;anchore&#x2F;grype">https:&#x2F;&#x2F;github.com&#x2F;anchore&#x2F;grype</a></div><br/><div id="41289132" class="c"><input type="checkbox" id="c-41289132" checked=""/><div class="controls bullet"><span class="by">boricj</span><span>|</span><a href="#41280602">parent</a><span>|</span><a href="#41274898">next</a><span>|</span><label class="collapse" for="c-41289132">[-]</label><label class="expand" for="c-41289132">[1 more]</label></div><br/><div class="children"><div class="content">SBOMs can&#x27;t flag vulnerable dependencies until after those are publicly known. Traceability is useful when mitigating a crisis, but it won&#x27;t prevent one.</div><br/></div></div></div></div><div id="41274898" class="c"><input type="checkbox" id="c-41274898" checked=""/><div class="controls bullet"><span class="by">mikewarot</span><span>|</span><a href="#41280602">prev</a><span>|</span><a href="#41271620">next</a><span>|</span><label class="collapse" for="c-41274898">[-]</label><label class="expand" for="c-41274898">[1 more]</label></div><br/><div class="children"><div class="content">The root cause of many of our woes is <i>ambient authority</i>. This is the metaphorical equivalent of building an electrical grid without fuses or circuit breakers.<p>You have to trust everything, and any breach of trust breaks it all. This approach is insane, and yet, widely accepted as the way things were always done, and will always be done.<p>If you ever get the chance to use capability based security, otherwise known as the principle of least privilege, or multilevel security, do so.<p>Know that permission flags in Android, or the UAC crap in Windows, or AppArmor are NOT capability based security.</div><br/></div></div><div id="41271620" class="c"><input type="checkbox" id="c-41271620" checked=""/><div class="controls bullet"><span class="by">meiraleal</span><span>|</span><a href="#41274898">prev</a><span>|</span><a href="#41277463">next</a><span>|</span><label class="collapse" for="c-41271620">[-]</label><label class="expand" for="c-41271620">[1 more]</label></div><br/><div class="children"><div class="content">What I started to do is to remove external packages and bringing just the parts I need to the codebase, usually using chatgpt to write a smaller version of the lib. no dependencies, no supply chain attack. Also stopped using npm.</div><br/></div></div><div id="41277463" class="c"><input type="checkbox" id="c-41277463" checked=""/><div class="controls bullet"><span class="by">mindcrash</span><span>|</span><a href="#41271620">prev</a><span>|</span><a href="#41278125">next</a><span>|</span><label class="collapse" for="c-41277463">[-]</label><label class="expand" for="c-41277463">[2 more]</label></div><br/><div class="children"><div class="content">Implement SLSA on developer&#x2F;org&#x2F;infra level<p><a href="https:&#x2F;&#x2F;slsa.dev&#x2F;spec&#x2F;v1.0&#x2F;" rel="nofollow">https:&#x2F;&#x2F;slsa.dev&#x2F;spec&#x2F;v1.0&#x2F;</a></div><br/><div id="41284065" class="c"><input type="checkbox" id="c-41284065" checked=""/><div class="controls bullet"><span class="by">Terretta</span><span>|</span><a href="#41277463">parent</a><span>|</span><a href="#41278125">next</a><span>|</span><label class="collapse" for="c-41284065">[-]</label><label class="expand" for="c-41284065">[1 more]</label></div><br/><div class="children"><div class="content">Yes.<p>See <a href="https:&#x2F;&#x2F;kusari.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;kusari.dev&#x2F;</a></div><br/></div></div></div></div><div id="41278125" class="c"><input type="checkbox" id="c-41278125" checked=""/><div class="controls bullet"><span class="by">ralala</span><span>|</span><a href="#41277463">prev</a><span>|</span><a href="#41264622">next</a><span>|</span><label class="collapse" for="c-41278125">[-]</label><label class="expand" for="c-41278125">[1 more]</label></div><br/><div class="children"><div class="content">For protecting your developer machine, devcontainers will provide at least some isolation.</div><br/></div></div></div></div></div></div></div></body></html>