<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1700643667669" as="style"/><link rel="stylesheet" href="styles.css?v=1700643667669"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://sourcegraph.com/blog/zoekt-creating-internal-tools-at-google">Code Search at Google: Han-Wen and Zoekt</a> <span class="domain">(<a href="https://sourcegraph.com">sourcegraph.com</a>)</span></div><div class="subtext"><span>intrepidsoldier</span> | <span>43 comments</span></div><br/><div><div id="38367643" class="c"><input type="checkbox" id="c-38367643" checked=""/><div class="controls bullet"><span class="by">j2kun</span><span>|</span><a href="#38368241">next</a><span>|</span><label class="collapse" for="c-38367643">[-]</label><label class="expand" for="c-38367643">[6 more]</label></div><br/><div class="children"><div class="content">IIUC, the main thing that Google&#x27;s internal codesearch does that makes it superior to external systems (outside of an IDE, like GitHub code search) is that Google actually builds everything, and so it can incorporate that information into its index. There&#x27;s only so much text search can do when you have macros generating code.</div><br/><div id="38367901" class="c"><input type="checkbox" id="c-38367901" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#38367643">parent</a><span>|</span><a href="#38368196">next</a><span>|</span><label class="collapse" for="c-38367901">[-]</label><label class="expand" for="c-38367901">[4 more]</label></div><br/><div class="children"><div class="content">Yea that would be Kythe.  We build almost everything, across 44-45 different programming languages, and postprocess that into a giant semantic graph.<p>Most major parts are open sourced at kythe.io, and there&#x27;s a somewhat dated talk given by Luke here: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;VYI3ji8aSM0" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;VYI3ji8aSM0</a></div><br/><div id="38370535" class="c"><input type="checkbox" id="c-38370535" checked=""/><div class="controls bullet"><span class="by">sa46</span><span>|</span><a href="#38367643">root</a><span>|</span><a href="#38367901">parent</a><span>|</span><a href="#38368685">next</a><span>|</span><label class="collapse" for="c-38370535">[-]</label><label class="expand" for="c-38370535">[2 more]</label></div><br/><div class="children"><div class="content">Do you have any cases studies or success stories for non-Google repos? I miss code search but I’m not sure how close Kythe is to code-search-in-a-box.</div><br/><div id="38370949" class="c"><input type="checkbox" id="c-38370949" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#38367643">root</a><span>|</span><a href="#38370535">parent</a><span>|</span><a href="#38368685">next</a><span>|</span><label class="collapse" for="c-38370949">[-]</label><label class="expand" for="c-38370949">[1 more]</label></div><br/><div class="children"><div class="content">Internally, we use variants of our pipeline to index a variety of open source repos, and some non-blaze&#x2F;bazel internal repos.  Those are often non-Google repos.  But we&#x27;re using some internal postprocessing and serving logic to actually create and host the final index.<p>Unfortunately I don&#x27;t know if there&#x27;s any significant use of Kythe outside of Google.  We get a handful of questions on the open source repo from time to time, but that&#x27;s all I know about.</div><br/></div></div></div></div><div id="38368685" class="c"><input type="checkbox" id="c-38368685" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#38367643">root</a><span>|</span><a href="#38367901">parent</a><span>|</span><a href="#38370535">prev</a><span>|</span><a href="#38368196">next</a><span>|</span><label class="collapse" for="c-38368685">[-]</label><label class="expand" for="c-38368685">[1 more]</label></div><br/><div class="children"><div class="content">&gt; macros<p>Corollary: while we can do a lot with indexing generated code (even cross language) in Kythe, there are limits.  Macros may be one, I forget atm</div><br/></div></div></div></div><div id="38368196" class="c"><input type="checkbox" id="c-38368196" checked=""/><div class="controls bullet"><span class="by">beyang</span><span>|</span><a href="#38367643">parent</a><span>|</span><a href="#38367901">prev</a><span>|</span><a href="#38368241">next</a><span>|</span><label class="collapse" for="c-38368196">[-]</label><label class="expand" for="c-38368196">[1 more]</label></div><br/><div class="children"><div class="content">Great call out! We&#x27;ve built this code navigation infra on top of Zoekt into Sourcegraph. Example: <a href="https:&#x2F;&#x2F;sourcegraph.com&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;-&#x2F;blob&#x2F;src&#x2F;net&#x2F;http&#x2F;server.go?L86:6-86:13#tab=references" rel="nofollow noreferrer">https:&#x2F;&#x2F;sourcegraph.com&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;-&#x2F;blob&#x2F;src&#x2F;net&#x2F;...</a><p>Docs: <a href="https:&#x2F;&#x2F;docs.sourcegraph.com&#x2F;code_navigation&#x2F;explanations&#x2F;precise_code_navigation" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.sourcegraph.com&#x2F;code_navigation&#x2F;explanations&#x2F;pr...</a></div><br/></div></div></div></div><div id="38368241" class="c"><input type="checkbox" id="c-38368241" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#38367643">prev</a><span>|</span><a href="#38367120">next</a><span>|</span><label class="collapse" for="c-38368241">[-]</label><label class="expand" for="c-38368241">[21 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t start my tech journey til late 00&#x27;s, so it&#x27;s constantly surprising to me that something as ubiquitous as git only came out in <i>2005</i>.<p>Is it possible at all this story helped spur the widespread adoption of git (the early implementation of this tool)?</div><br/><div id="38369187" class="c"><input type="checkbox" id="c-38369187" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#38368241">parent</a><span>|</span><a href="#38368809">next</a><span>|</span><label class="collapse" for="c-38369187">[-]</label><label class="expand" for="c-38369187">[11 more]</label></div><br/><div class="children"><div class="content">Before git, most people in my larger circle used RCS, a UNIX version control system from the early 80&#x27;s.  It was very limited (basically each file had its own side-file that contained revision data, and there was no project-wide file) but did its job.  Many people moved over to VCS, which used RCS files but added project-wide files so you could manage a dir tree.<p>After that, I think many people moved to subversion, which had a lot more functionality for distributed VC, for exmaple there was a server.  svn was popular for a while but building it was painful (due to berkeley db) and it sort of never grew.  I invested a lot of time in (specifically apache with mod_dav and mod_dav_svn) but lost interest in VC after fighting with subversion.<p>git came along and from what i can tell it mainly had &quot;it&#x27;s by linus, and the kernel uses it&quot; and &quot;it&#x27;s fast&quot; and &quot;something about reflogs&quot;.  I use git day-to-day but I still; can&#x27;t explain how git became so ubiquitous; I find using it outright painful.</div><br/><div id="38371894" class="c"><input type="checkbox" id="c-38371894" checked=""/><div class="controls bullet"><span class="by">timr</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38369187">parent</a><span>|</span><a href="#38369852">next</a><span>|</span><label class="collapse" for="c-38371894">[-]</label><label class="expand" for="c-38371894">[4 more]</label></div><br/><div class="children"><div class="content">You have a weird&#x2F;selective perspective.<p>As someone who has used all of them in different companies since the 90s: RCS was ancient, even in the early 90s. Most widely found in things like UNIX source trees.<p>CVS came along later (mid&#x2F;late 90s), and was much more widely used.<p>SVN came on the scene around the late 90s -- it was a massive improvement on CVS, and spread across open source and most professional shops like wildfire. Major sites like sourceforge were built on SVN, but also supported CVS.<p>Git only became prevalent starting around 2006-2008, and adoption was actually really slow because of its inherent complexity. When Github appeared, that was really when the shift started in earnest.<p>There were others along the way: MS SourceSafe, a moment when everyone was toying with Bitkeeper, etc., but these were as marginal as RCS.</div><br/><div id="38373662" class="c"><input type="checkbox" id="c-38373662" checked=""/><div class="controls bullet"><span class="by">paulryanrogers</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38371894">parent</a><span>|</span><a href="#38374512">next</a><span>|</span><label class="collapse" for="c-38373662">[-]</label><label class="expand" for="c-38373662">[2 more]</label></div><br/><div class="children"><div class="content">Bazar was my first DVCS, used after SVN, and it became clear very quickly why Git used SHA revision IDs.</div><br/><div id="38375683" class="c"><input type="checkbox" id="c-38375683" checked=""/><div class="controls bullet"><span class="by">timr</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38373662">parent</a><span>|</span><a href="#38374512">next</a><span>|</span><label class="collapse" for="c-38375683">[-]</label><label class="expand" for="c-38375683">[1 more]</label></div><br/><div class="children"><div class="content">Forgot about Bazar!</div><br/></div></div></div></div><div id="38374512" class="c"><input type="checkbox" id="c-38374512" checked=""/><div class="controls bullet"><span class="by">jonstewart</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38371894">parent</a><span>|</span><a href="#38373662">prev</a><span>|</span><a href="#38369852">next</a><span>|</span><label class="collapse" for="c-38374512">[-]</label><label class="expand" for="c-38374512">[1 more]</label></div><br/><div class="children"><div class="content">Subversion -was- a massive improvement over CVS but the effort to create it only started in 2000 and it was early 2004 when it went 1.0. I think it was at the 2003 OSCON when Fitz et al introduced it? Everyone in the audience was stoked, but it only had a few good years before git eclipsed it.</div><br/></div></div></div></div><div id="38369852" class="c"><input type="checkbox" id="c-38369852" checked=""/><div class="controls bullet"><span class="by">dws</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38369187">parent</a><span>|</span><a href="#38371894">prev</a><span>|</span><a href="#38369905">next</a><span>|</span><label class="collapse" for="c-38369852">[-]</label><label class="expand" for="c-38369852">[1 more]</label></div><br/><div class="children"><div class="content">Lightweight branches was a huge selling point. If you didn&#x27;t do them often enough that they were rote, branches in RCS&#x2F;CVS&#x2F;SVN required ritual sacrifice.</div><br/></div></div><div id="38369905" class="c"><input type="checkbox" id="c-38369905" checked=""/><div class="controls bullet"><span class="by">reportingsjr</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38369187">parent</a><span>|</span><a href="#38369852">prev</a><span>|</span><a href="#38370634">next</a><span>|</span><label class="collapse" for="c-38369905">[-]</label><label class="expand" for="c-38369905">[2 more]</label></div><br/><div class="children"><div class="content">Mercurial (aka hg) was also gaining popularity at the same time as git. The interface was a lot nicer and more sane than git, but it had some serious performance limitations that hampered it.<p>Both were definitely way better than SVN&#x2F;CVS&#x2F;etc.</div><br/><div id="38370093" class="c"><input type="checkbox" id="c-38370093" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38369905">parent</a><span>|</span><a href="#38370634">next</a><span>|</span><label class="collapse" for="c-38370093">[-]</label><label class="expand" for="c-38370093">[1 more]</label></div><br/><div class="children"><div class="content">Yes, after using git for a few years I was introduced to Mercurial and it was like a breath of fresh air, although I&#x27;m also told hg added a number of things that made it much more usable, &quot;right before I started using it&quot;.<p>Since I have limited brain capacity I focus my efforts on being able to use git, not hg, merely because it has so much marketshare.</div><br/></div></div></div></div><div id="38370634" class="c"><input type="checkbox" id="c-38370634" checked=""/><div class="controls bullet"><span class="by">cpach</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38369187">parent</a><span>|</span><a href="#38369905">prev</a><span>|</span><a href="#38375270">next</a><span>|</span><label class="collapse" for="c-38370634">[-]</label><label class="expand" for="c-38370634">[2 more]</label></div><br/><div class="children"><div class="content">Nit-pick: Did you mean CVS?</div><br/><div id="38370690" class="c"><input type="checkbox" id="c-38370690" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38370634">parent</a><span>|</span><a href="#38375270">next</a><span>|</span><label class="collapse" for="c-38370690">[-]</label><label class="expand" for="c-38370690">[1 more]</label></div><br/><div class="children"><div class="content">Yes, CVS.</div><br/></div></div></div></div><div id="38375270" class="c"><input type="checkbox" id="c-38375270" checked=""/><div class="controls bullet"><span class="by">xarope</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38369187">parent</a><span>|</span><a href="#38370634">prev</a><span>|</span><a href="#38368809">next</a><span>|</span><label class="collapse" for="c-38375270">[-]</label><label class="expand" for="c-38375270">[1 more]</label></div><br/><div class="children"><div class="content">ah yes, I still remember the rcs ci &#x2F; co workflow</div><br/></div></div></div></div><div id="38368809" class="c"><input type="checkbox" id="c-38368809" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#38368241">parent</a><span>|</span><a href="#38369187">prev</a><span>|</span><a href="#38369183">next</a><span>|</span><label class="collapse" for="c-38368809">[-]</label><label class="expand" for="c-38368809">[3 more]</label></div><br/><div class="children"><div class="content">Git stepped into a source control ecosystem that was well-served (albeit contentious).  People knew (or at least thought they knew) what they wanted from bk&#x2F;svn&#x2F;CVS&#x2F;p4&#x2F;rcs&#x2F;sccs.<p>So git essentially was the &quot;final form&quot; that integrated all the various workflows and topped it off with a maximally-scaled use case (linux) that proved out the tool, drove innovation in integration&#x2F;scripting&#x2F;gadgetry, and provided a clear beacon for everyone else to adopt it.  So it won.<p>But in 2004, if you asked around, everyone would have told you that a tool like this was coming at some point (even if they probably wouldn&#x27;t have described it as very git-like!).</div><br/><div id="38370095" class="c"><input type="checkbox" id="c-38370095" checked=""/><div class="controls bullet"><span class="by">pgeorgi</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38368809">parent</a><span>|</span><a href="#38369183">next</a><span>|</span><label class="collapse" for="c-38370095">[-]</label><label class="expand" for="c-38370095">[2 more]</label></div><br/><div class="children"><div class="content">If you squint a little, <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20030629114010&#x2F;http:&#x2F;&#x2F;www.venge.net&#x2F;monotone&#x2F;index.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20030629114010&#x2F;http:&#x2F;&#x2F;www.venge....</a> is a fair approximation of some of the core ideas behind git (and Linus played with it and wrote a critique of its short-comings before starting git)</div><br/><div id="38371509" class="c"><input type="checkbox" id="c-38371509" checked=""/><div class="controls bullet"><span class="by">mettamage</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38370095">parent</a><span>|</span><a href="#38369183">next</a><span>|</span><label class="collapse" for="c-38371509">[-]</label><label class="expand" for="c-38371509">[1 more]</label></div><br/><div class="children"><div class="content">That is so cool to see where Linus got some of his inspiration from. It made a few things more clear to me as to why git uses certain things.</div><br/></div></div></div></div></div></div><div id="38369183" class="c"><input type="checkbox" id="c-38369183" checked=""/><div class="controls bullet"><span class="by">justrealist</span><span>|</span><a href="#38368241">parent</a><span>|</span><a href="#38368809">prev</a><span>|</span><a href="#38368670">next</a><span>|</span><label class="collapse" for="c-38369183">[-]</label><label class="expand" for="c-38369183">[1 more]</label></div><br/><div class="children"><div class="content">Oh yeah.  I remember merging SVN branches into production in 2010 or so.<p>It was a... special time.  Let&#x27;s not reminisce.</div><br/></div></div><div id="38368670" class="c"><input type="checkbox" id="c-38368670" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#38368241">parent</a><span>|</span><a href="#38369183">prev</a><span>|</span><a href="#38367120">next</a><span>|</span><label class="collapse" for="c-38368670">[-]</label><label class="expand" for="c-38368670">[5 more]</label></div><br/><div class="children"><div class="content">I think it is odd that the story mentions git at all. Git5, the mentioned wrapper around piper, has only a niche audience when I last used it 5 years ago, and it was a demonstrated fact that the users of it were less productive than perforce users. Whether that was causal or not was unknown.</div><br/><div id="38370445" class="c"><input type="checkbox" id="c-38370445" checked=""/><div class="controls bullet"><span class="by">hanwenn</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38368670">parent</a><span>|</span><a href="#38370553">next</a><span>|</span><label class="collapse" for="c-38370445">[-]</label><label class="expand" for="c-38370445">[3 more]</label></div><br/><div class="children"><div class="content">Hi, I&#x27;m the Han-Wen from the title.<p>The story mentions git because git5 got me into developer tooling. More in particular, it put me in touch with Shawn Pearce who ran the Git&#x2F;Gerrit team at Google.  When I went to work for him, Shawn wanted to have codesearch support in  Gerrit, and Zoekt was ultimately the outcome of my explorations in this space.<p>IIRC, Git5 was deleted approximately 5 years ago because Fig (the Hg based replacement) had taken over all the use cases</div><br/><div id="38376394" class="c"><input type="checkbox" id="c-38376394" checked=""/><div class="controls bullet"><span class="by">dag11</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38370445">parent</a><span>|</span><a href="#38370553">next</a><span>|</span><label class="collapse" for="c-38376394">[-]</label><label class="expand" for="c-38376394">[2 more]</label></div><br/><div class="children"><div class="content">Is Fig still kicking? I worked on it a bit as an intern back in 2014, but Mercurial has also been on its way out of mainstream support over the last few years. It was a really neat project!</div><br/><div id="38376788" class="c"><input type="checkbox" id="c-38376788" checked=""/><div class="controls bullet"><span class="by">hanwenn</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38376394">parent</a><span>|</span><a href="#38370553">next</a><span>|</span><label class="collapse" for="c-38376788">[-]</label><label class="expand" for="c-38376788">[1 more]</label></div><br/><div class="children"><div class="content">See <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=bx_LGilOuE4" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=bx_LGilOuE4</a>. I think the plan is to replace to it with something based off JJ.</div><br/></div></div></div></div></div></div><div id="38370553" class="c"><input type="checkbox" id="c-38370553" checked=""/><div class="controls bullet"><span class="by">billllll</span><span>|</span><a href="#38368241">root</a><span>|</span><a href="#38368670">parent</a><span>|</span><a href="#38370445">prev</a><span>|</span><a href="#38367120">next</a><span>|</span><label class="collapse" for="c-38370553">[-]</label><label class="expand" for="c-38370553">[1 more]</label></div><br/><div class="children"><div class="content">I agree there doesn&#x27;t seem to be a good connection between work on version control and work on code search.<p>However, I don&#x27;t think it makes sense to downplay git5. Anecdotally, basically everybody knew about it, and I&#x27;d constantly run into people using it (which is by itself noteworthy since nobody was exactly talking about version control all the time).<p>Git5 was at the time the most robust solution to chain commits, which was tedious bordering on impossible without some tool. Without definitive data, I wouldn&#x27;t say users were less productive with git5: it definitely was a useful tool that people at least recommended for chain commits. I  was definitely more productive with it.<p>There were a lot of footguns though, and I do think the hg wrapper that superseded it was way better.</div><br/></div></div></div></div></div></div><div id="38367120" class="c"><input type="checkbox" id="c-38367120" checked=""/><div class="controls bullet"><span class="by">frutiger</span><span>|</span><a href="#38368241">prev</a><span>|</span><a href="#38367829">next</a><span>|</span><label class="collapse" for="c-38367120">[-]</label><label class="expand" for="c-38367120">[6 more]</label></div><br/><div class="children"><div class="content">I’m a bit confused as to how <a href="https:&#x2F;&#x2F;swtch.com&#x2F;~rsc&#x2F;regexp&#x2F;regexp4.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;swtch.com&#x2F;~rsc&#x2F;regexp&#x2F;regexp4.html</a> isn’t mentioned at all.</div><br/><div id="38368274" class="c"><input type="checkbox" id="c-38368274" checked=""/><div class="controls bullet"><span class="by">beyang</span><span>|</span><a href="#38367120">parent</a><span>|</span><a href="#38370511">next</a><span>|</span><label class="collapse" for="c-38368274">[-]</label><label class="expand" for="c-38368274">[2 more]</label></div><br/><div class="children"><div class="content">Zoekt was heavily inspired by Google&#x27;s internal code search, as mentioned in the blog post. The original version of the internal code search is described in the rsc post. Zoekt keeps some of the foundational ideas (e.g., trigram index), but was a from-scratch implementation. We probably should link to the rsc post for completeness, will update.</div><br/><div id="38370711" class="c"><input type="checkbox" id="c-38370711" checked=""/><div class="controls bullet"><span class="by">hanwenn</span><span>|</span><a href="#38367120">root</a><span>|</span><a href="#38368274">parent</a><span>|</span><a href="#38370511">next</a><span>|</span><label class="collapse" for="c-38370711">[-]</label><label class="expand" for="c-38370711">[1 more]</label></div><br/><div class="children"><div class="content">At the time that I started Zoekt (2016), Google&#x27;s internal codesearch used suffix arrays for the string matching, which the team wasn&#x27;t happy with, presumably because of the algorithmic complexity and indexing slowness.  The Codesearch team was exploring alternatives, one of them the technique described in  <a href="https:&#x2F;&#x2F;link.springer.com&#x2F;article&#x2F;10.1007&#x2F;s11390-016-1618-6" rel="nofollow noreferrer">https:&#x2F;&#x2F;link.springer.com&#x2F;article&#x2F;10.1007&#x2F;s11390-016-1618-6</a>. The positional trigrams were a simplification of this, that they didn&#x27;t mind me open sourcing.<p>so, in terms of algorithms, Zoekt wasn&#x27;t actually inspired by Google&#x27;s internal code search.<p>The precise query syntax of zoekt is mostly copied from google&#x27;s internal syntax, though.</div><br/></div></div></div></div><div id="38370511" class="c"><input type="checkbox" id="c-38370511" checked=""/><div class="controls bullet"><span class="by">hanwenn</span><span>|</span><a href="#38367120">parent</a><span>|</span><a href="#38368274">prev</a><span>|</span><a href="#38369021">next</a><span>|</span><label class="collapse" for="c-38370511">[-]</label><label class="expand" for="c-38370511">[1 more]</label></div><br/><div class="children"><div class="content">Russ Cox&#x27; trigram approach uses document IDs for the posting list, which makes the index much smaller, but gives less precise (ie. slower) matching. This is mentioned in the design doc at <a href="https:&#x2F;&#x2F;github.com&#x2F;sourcegraph&#x2F;zoekt&#x2F;blob&#x2F;main&#x2F;doc&#x2F;design.md#positional-trigrams">https:&#x2F;&#x2F;github.com&#x2F;sourcegraph&#x2F;zoekt&#x2F;blob&#x2F;main&#x2F;doc&#x2F;design.md...</a>.</div><br/></div></div><div id="38369021" class="c"><input type="checkbox" id="c-38369021" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#38367120">parent</a><span>|</span><a href="#38370511">prev</a><span>|</span><a href="#38367829">next</a><span>|</span><label class="collapse" for="c-38369021">[-]</label><label class="expand" for="c-38369021">[2 more]</label></div><br/><div class="children"><div class="content">It is mentioned.</div><br/><div id="38370278" class="c"><input type="checkbox" id="c-38370278" checked=""/><div class="controls bullet"><span class="by">frutiger</span><span>|</span><a href="#38367120">root</a><span>|</span><a href="#38369021">parent</a><span>|</span><a href="#38367829">next</a><span>|</span><label class="collapse" for="c-38370278">[-]</label><label class="expand" for="c-38370278">[1 more]</label></div><br/><div class="children"><div class="content">It is now, but wasn’t earlier.</div><br/></div></div></div></div></div></div><div id="38367829" class="c"><input type="checkbox" id="c-38367829" checked=""/><div class="controls bullet"><span class="by">tromp</span><span>|</span><a href="#38367120">prev</a><span>|</span><a href="#38366907">next</a><span>|</span><label class="collapse" for="c-38367829">[-]</label><label class="expand" for="c-38367829">[3 more]</label></div><br/><div class="children"><div class="content">Wondering how this tool got named after the Dutch verb for seek, I found this quote on its github page [1].<p>&gt; &quot;Zoekt, en gij zult spinazie eten&quot; - Jan Eertink<p>&gt; (&quot;seek, and ye shall eat spinach&quot; - My primary school teacher)<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;sourcegraph&#x2F;zoekt">https:&#x2F;&#x2F;github.com&#x2F;sourcegraph&#x2F;zoekt</a></div><br/><div id="38376200" class="c"><input type="checkbox" id="c-38376200" checked=""/><div class="controls bullet"><span class="by">consp</span><span>|</span><a href="#38367829">parent</a><span>|</span><a href="#38374079">next</a><span>|</span><label class="collapse" for="c-38376200">[-]</label><label class="expand" for="c-38376200">[1 more]</label></div><br/><div class="children"><div class="content">Note, &quot;zoekt&quot; is the imperative, which makes sense asking a tool to do something.</div><br/></div></div><div id="38374079" class="c"><input type="checkbox" id="c-38374079" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#38367829">parent</a><span>|</span><a href="#38376200">prev</a><span>|</span><a href="#38366907">next</a><span>|</span><label class="collapse" for="c-38374079">[-]</label><label class="expand" for="c-38374079">[1 more]</label></div><br/><div class="children"><div class="content">author <a href="https:&#x2F;&#x2F;github.com&#x2F;hanwen">https:&#x2F;&#x2F;github.com&#x2F;hanwen</a></div><br/></div></div></div></div><div id="38366907" class="c"><input type="checkbox" id="c-38366907" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#38367829">prev</a><span>|</span><a href="#38369066">next</a><span>|</span><label class="collapse" for="c-38366907">[-]</label><label class="expand" for="c-38366907">[5 more]</label></div><br/><div class="children"><div class="content">Is Zoekt actually in use at Google and if so how does it related to Kythe? I know the Zoekt instance for Bazel exists, but the Kythe index also exists (<a href="https:&#x2F;&#x2F;cs.opensource.google&#x2F;bazel&#x2F;bazel" rel="nofollow noreferrer">https:&#x2F;&#x2F;cs.opensource.google&#x2F;bazel&#x2F;bazel</a>)</div><br/><div id="38367489" class="c"><input type="checkbox" id="c-38367489" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#38366907">parent</a><span>|</span><a href="#38370887">next</a><span>|</span><label class="collapse" for="c-38367489">[-]</label><label class="expand" for="c-38367489">[3 more]</label></div><br/><div class="children"><div class="content">It has nothing to do with Kythe.<p>I&#x27;m on the Kythe team, and I don&#x27;t know off the top of my head what Zoekt is.  Looking it up, I see it&#x27;s some sort of trigram search, which means if it&#x27;s used at all (I have no idea), it&#x27;s codesearch proper, not Kythe.<p>The Kythe index is the semantic index of the codebase, Codesearch does all of the text&#x2F;regex&#x2F;etc searching.</div><br/><div id="38368956" class="c"><input type="checkbox" id="c-38368956" checked=""/><div class="controls bullet"><span class="by">sluongng</span><span>|</span><a href="#38366907">root</a><span>|</span><a href="#38367489">parent</a><span>|</span><a href="#38370887">next</a><span>|</span><label class="collapse" for="c-38368956">[-]</label><label class="expand" for="c-38368956">[2 more]</label></div><br/><div class="children"><div class="content">Are you sure? There is find definition and references in <a href="https:&#x2F;&#x2F;cs.opensource.google&#x2F;bazel&#x2F;bazel" rel="nofollow noreferrer">https:&#x2F;&#x2F;cs.opensource.google&#x2F;bazel&#x2F;bazel</a> and Im quite sure it&#x27;s thanks to the Kythe indexing job Bazel team is running in CI.</div><br/><div id="38369873" class="c"><input type="checkbox" id="c-38369873" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#38366907">root</a><span>|</span><a href="#38368956">parent</a><span>|</span><a href="#38370887">next</a><span>|</span><label class="collapse" for="c-38369873">[-]</label><label class="expand" for="c-38369873">[1 more]</label></div><br/><div class="children"><div class="content">The refs &amp; jump to def in bazel&#x2F;bazel are using Kythe, yes.  But that is Kythe&#x27;s semantic index from running (also it&#x27;s Kythe team running it, not bazel team).  It&#x27;s not the Codesearch trigram&#x2F;text search (which again, I have no idea if it uses zoekt).</div><br/></div></div></div></div></div></div><div id="38370887" class="c"><input type="checkbox" id="c-38370887" checked=""/><div class="controls bullet"><span class="by">hanwenn</span><span>|</span><a href="#38366907">parent</a><span>|</span><a href="#38367489">prev</a><span>|</span><a href="#38369066">next</a><span>|</span><label class="collapse" for="c-38370887">[-]</label><label class="expand" for="c-38370887">[1 more]</label></div><br/><div class="children"><div class="content">Not in use that I know</div><br/></div></div></div></div><div id="38369066" class="c"><input type="checkbox" id="c-38369066" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#38366907">prev</a><span>|</span><label class="collapse" for="c-38369066">[-]</label><label class="expand" for="c-38369066">[1 more]</label></div><br/><div class="children"><div class="content">The same algorithm is also used in Hound (<a href="https:&#x2F;&#x2F;github.com&#x2F;hound-search&#x2F;hound">https:&#x2F;&#x2F;github.com&#x2F;hound-search&#x2F;hound</a>) though I have to say the best implementation of code search by far that I&#x27;ve seen is <a href="https:&#x2F;&#x2F;grep.app" rel="nofollow noreferrer">https:&#x2F;&#x2F;grep.app</a><p>You really should check it out if you haven&#x27;t already. It&#x27;s incredibly useful; I used it all the time. Not open source though.</div><br/></div></div></div></div></div></div></div></body></html>