<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1723885262457" as="style"/><link rel="stylesheet" href="styles.css?v=1723885262457"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://hkalbasi.github.io/zngur/">Zngur: A C++/Rust interop tool</a> <span class="domain">(<a href="https://hkalbasi.github.io">hkalbasi.github.io</a>)</span></div><div class="subtext"><span>hkalbasi</span> | <span>18 comments</span></div><br/><div><div id="41272667" class="c"><input type="checkbox" id="c-41272667" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#41271971">next</a><span>|</span><label class="collapse" for="c-41272667">[-]</label><label class="expand" for="c-41272667">[1 more]</label></div><br/><div class="children"><div class="content">This kind of tools are great, as C++ isn&#x27;t going away any time soon, and Rust is decades away to be relevant in some domains, specially those where C++ only recently took over C.</div><br/></div></div><div id="41271971" class="c"><input type="checkbox" id="c-41271971" checked=""/><div class="controls bullet"><span class="by">uneekname</span><span>|</span><a href="#41272667">prev</a><span>|</span><a href="#41272100">next</a><span>|</span><label class="collapse" for="c-41271971">[-]</label><label class="expand" for="c-41271971">[12 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been learning Rust and really enjoying it, but the primary downside (compared to C++) is the lack of access to the large, well-tested libraries that exist in C++. For example, my work would benefit from using the CGAL library [0], something that be nontrivial to rewrite in Rust. As much as I like Rust, at some point it&#x27;s a better idea to use C++ to tap into libraries like that.<p>Does anyone have thoughts about how mature Zngur&#x2F;CXX&#x2F;etc. are for a project like mine? Would it be reasonable to invest effort in creating those bindings? Thanks.<p>[0] <a href="https:&#x2F;&#x2F;www.cgal.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.cgal.org&#x2F;</a></div><br/><div id="41272719" class="c"><input type="checkbox" id="c-41272719" checked=""/><div class="controls bullet"><span class="by">hkalbasi</span><span>|</span><a href="#41271971">parent</a><span>|</span><a href="#41272052">next</a><span>|</span><label class="collapse" for="c-41272719">[-]</label><label class="expand" for="c-41272719">[1 more]</label></div><br/><div class="children"><div class="content">Zngur allows you to write functions operating over Rust types, adding methods to Rust types and implementing Rust traits for C++ and Rust types inside C++. So you can write a rusty wrapper for the C++ library inside C++.<p>If you want to immediately use a C++ library in Rust with minimal manual effort, check out autocxx [0]. Its generated api isn&#x27;t very idiomatic Rust, and it uses Pin, moveit, ... but it covers a good percent of C++ apis and you can also make an idiomatic wrapper for it in Rust.<p>[0] <a href="https:&#x2F;&#x2F;docs.rs&#x2F;autocxx&#x2F;latest&#x2F;autocxx&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;autocxx&#x2F;latest&#x2F;autocxx&#x2F;</a></div><br/></div></div><div id="41272052" class="c"><input type="checkbox" id="c-41272052" checked=""/><div class="controls bullet"><span class="by">throwup238</span><span>|</span><a href="#41271971">parent</a><span>|</span><a href="#41272719">prev</a><span>|</span><a href="#41272019">next</a><span>|</span><label class="collapse" for="c-41272052">[-]</label><label class="expand" for="c-41272052">[6 more]</label></div><br/><div class="children"><div class="content">I’m using cxx&#x2F;cxx-qt in a Rust QT app with substantial interop with Qt&#x2F;QML and lots of C++ code (because Gpt&#x2F;Claude make implementing some stuff easier in C++). It’s definitely mature enough because Qt’s libs are no joke.<p>At this point I have a Claude project set up with Cxx documentation and it autogenerates most of my bindings.</div><br/><div id="41272284" class="c"><input type="checkbox" id="c-41272284" checked=""/><div class="controls bullet"><span class="by">heavyset_go</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272052">parent</a><span>|</span><a href="#41272146">next</a><span>|</span><label class="collapse" for="c-41272284">[-]</label><label class="expand" for="c-41272284">[1 more]</label></div><br/><div class="children"><div class="content">How was your experience using Qt with Rust? Is it awkward writing models and QObjects in Rust?<p>I&#x27;m a fan of QML and would love to use Rust with it if pleasant Qt bindings are finally there.</div><br/></div></div><div id="41272146" class="c"><input type="checkbox" id="c-41272146" checked=""/><div class="controls bullet"><span class="by">slimsag</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272052">parent</a><span>|</span><a href="#41272284">prev</a><span>|</span><a href="#41272397">next</a><span>|</span><label class="collapse" for="c-41272146">[-]</label><label class="expand" for="c-41272146">[2 more]</label></div><br/><div class="children"><div class="content">Do you have some specific usage of Claude to help? Or how do you use Claude&#x2F;Gpt for this more precisely?</div><br/><div id="41272244" class="c"><input type="checkbox" id="c-41272244" checked=""/><div class="controls bullet"><span class="by">oneshtein</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272146">parent</a><span>|</span><a href="#41272397">next</a><span>|</span><label class="collapse" for="c-41272244">[-]</label><label class="expand" for="c-41272244">[1 more]</label></div><br/><div class="children"><div class="content">IMHO, he created RAG from documentation to provide more context for Claude, so he then can call Claude with a task like &quot;Generate bindings in Rust language for C++ class Foo from the Bar library.&quot;.</div><br/></div></div></div></div><div id="41272397" class="c"><input type="checkbox" id="c-41272397" checked=""/><div class="controls bullet"><span class="by">adamnemecek</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272052">parent</a><span>|</span><a href="#41272146">prev</a><span>|</span><a href="#41272019">next</a><span>|</span><label class="collapse" for="c-41272397">[-]</label><label class="expand" for="c-41272397">[2 more]</label></div><br/><div class="children"><div class="content">Can you talk more any you Claude use?</div><br/><div id="41272766" class="c"><input type="checkbox" id="c-41272766" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272397">parent</a><span>|</span><a href="#41272019">next</a><span>|</span><label class="collapse" for="c-41272766">[-]</label><label class="expand" for="c-41272766">[1 more]</label></div><br/><div class="children"><div class="content">Not the GP, but I use Claude with aider (<a href="https:&#x2F;&#x2F;aider.chat&#x2F;" rel="nofollow">https:&#x2F;&#x2F;aider.chat&#x2F;</a>) to write much of my chore code. At one point I even used it to write a whole mobile app, even though I have no experience with mobile.</div><br/></div></div></div></div></div></div><div id="41272019" class="c"><input type="checkbox" id="c-41272019" checked=""/><div class="controls bullet"><span class="by">npalli</span><span>|</span><a href="#41271971">parent</a><span>|</span><a href="#41272052">prev</a><span>|</span><a href="#41272101">next</a><span>|</span><label class="collapse" for="c-41272019">[-]</label><label class="expand" for="c-41272019">[3 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>   So, Zngur allows you to use arbitrary Rust types in C++, store them by value in the C++ stack, and call arbitrary Rust methods and functions on them. But it doesn&#x27;t bridge any C++ type into Rust, since it is not possible with the same ergonomic
</code></pre>
You want to use C++ libraries from Rust. This only does interop the other way.</div><br/><div id="41272882" class="c"><input type="checkbox" id="c-41272882" checked=""/><div class="controls bullet"><span class="by">ogoffart</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272019">parent</a><span>|</span><a href="#41272300">next</a><span>|</span><label class="collapse" for="c-41272882">[-]</label><label class="expand" for="c-41272882">[1 more]</label></div><br/><div class="children"><div class="content">For calling C++ libraries from Rust, there is also <a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;cpp" rel="nofollow">https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;cpp</a></div><br/></div></div><div id="41272300" class="c"><input type="checkbox" id="c-41272300" checked=""/><div class="controls bullet"><span class="by">dkersten</span><span>|</span><a href="#41271971">root</a><span>|</span><a href="#41272019">parent</a><span>|</span><a href="#41272882">prev</a><span>|</span><a href="#41272101">next</a><span>|</span><label class="collapse" for="c-41272300">[-]</label><label class="expand" for="c-41272300">[1 more]</label></div><br/><div class="children"><div class="content">It seems to do both:<p><a href="https:&#x2F;&#x2F;hkalbasi.github.io&#x2F;zngur&#x2F;tutorial.html#calling-c-from-rust" rel="nofollow">https:&#x2F;&#x2F;hkalbasi.github.io&#x2F;zngur&#x2F;tutorial.html#calling-c-fro...</a><p>It sound like your quoted text is just saying that it’s not as ergonomic, you cannot use arbitrary C++ types directly in Rust, but you can use arbitrary Rust types in C++.</div><br/></div></div></div></div><div id="41272101" class="c"><input type="checkbox" id="c-41272101" checked=""/><div class="controls bullet"><span class="by">bschwindHN</span><span>|</span><a href="#41271971">parent</a><span>|</span><a href="#41272019">prev</a><span>|</span><a href="#41272100">next</a><span>|</span><label class="collapse" for="c-41272101">[-]</label><label class="expand" for="c-41272101">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used cxx.rs to bind to the OpenCascade CAD kernel. It was a lot of work but the bindings seem to work well.</div><br/></div></div></div></div><div id="41272100" class="c"><input type="checkbox" id="c-41272100" checked=""/><div class="controls bullet"><span class="by">mastax</span><span>|</span><a href="#41271971">prev</a><span>|</span><a href="#41271915">next</a><span>|</span><label class="collapse" for="c-41272100">[-]</label><label class="expand" for="c-41272100">[1 more]</label></div><br/><div class="children"><div class="content">Wow! Amazing how reframing the problem to exclude C++ types in rust makes it all so much more elegant.</div><br/></div></div><div id="41271915" class="c"><input type="checkbox" id="c-41271915" checked=""/><div class="controls bullet"><span class="by">boguscoder</span><span>|</span><a href="#41272100">prev</a><span>|</span><a href="#41271912">next</a><span>|</span><label class="collapse" for="c-41271915">[-]</label><label class="expand" for="c-41271915">[2 more]</label></div><br/><div class="children"><div class="content">Interesting. Any clue how this compares to <a href="https:&#x2F;&#x2F;cxx.rs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;cxx.rs&#x2F;</a></div><br/><div id="41271945" class="c"><input type="checkbox" id="c-41271945" checked=""/><div class="controls bullet"><span class="by">boguscoder</span><span>|</span><a href="#41271915">parent</a><span>|</span><a href="#41271912">next</a><span>|</span><label class="collapse" for="c-41271945">[-]</label><label class="expand" for="c-41271945">[1 more]</label></div><br/><div class="children"><div class="content">Maybe I should learn to read!
<a href="https:&#x2F;&#x2F;hkalbasi.github.io&#x2F;zngur&#x2F;how_it_compares.html" rel="nofollow">https:&#x2F;&#x2F;hkalbasi.github.io&#x2F;zngur&#x2F;how_it_compares.html</a></div><br/></div></div></div></div><div id="41271912" class="c"><input type="checkbox" id="c-41271912" checked=""/><div class="controls bullet"><span class="by">jdright</span><span>|</span><a href="#41271915">prev</a><span>|</span><label class="collapse" for="c-41271912">[-]</label><label class="expand" for="c-41271912">[1 more]</label></div><br/><div class="children"><div class="content">This is insane.<p>Is this being used in some codebase? How stable is it? What are the plans for it?<p>I have so many questions, but will stick with these for now.</div><br/></div></div></div></div></div></div></div></body></html>