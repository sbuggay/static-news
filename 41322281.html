<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724403664680" as="style"/><link rel="stylesheet" href="styles.css?v=1724403664680"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/instantdb/instant">Show HN: InstantDB – A Modern Firebase</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>nezaj</span> | <span>108 comments</span></div><br/><div><div id="41322809" class="c"><input type="checkbox" id="c-41322809" checked=""/><div class="controls bullet"><span class="by">jamest</span><span>|</span><a href="#41325004">next</a><span>|</span><label class="collapse" for="c-41322809">[-]</label><label class="expand" for="c-41322809">[19 more]</label></div><br/><div class="children"><div class="content">[Firebase founder] The thing I&#x27;m excited about w&#x2F;Instant is the quad-fecta of offline + real-time + relational queries + open source. The amount of requests we had for relational queries was off-the-charts (and is a hard engineering problem), and, while the Firebase clients are OSS, I failed to open source a reference backend (a longer story).<p>Good luck, Joe, Stopa and team!</div><br/><div id="41323700" class="c"><input type="checkbox" id="c-41323700" checked=""/><div class="controls bullet"><span class="by">ashconnor</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41323932">next</a><span>|</span><label class="collapse" for="c-41323700">[-]</label><label class="expand" for="c-41323700">[1 more]</label></div><br/><div class="children"><div class="content">I always assumed that an architectural decision had prevented relational queries in Firebase.<p>It was jarring to find out that indexes are required for every combination of filters your app applies, but then you quickly realize that Firebase solves a particular problem and you&#x27;re attempted to shoehorn into a problem-space better solved by something like Supabase.<p>It&#x27;s not too dissimilar to DynamoDB vs RDB.</div><br/></div></div><div id="41323932" class="c"><input type="checkbox" id="c-41323932" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41323700">prev</a><span>|</span><a href="#41325077">next</a><span>|</span><label class="collapse" for="c-41323932">[-]</label><label class="expand" for="c-41323932">[6 more]</label></div><br/><div class="children"><div class="content">Thanks for creating Firebase!<p>It&#x27;s really the definition of an managed database&#x2F;datastore.<p>Do you see InstantDB as a drop in replacement ?<p>To be honest I don&#x27;t want to have to worry about my backend. I want a place to effectively drop JSON docs and retract them later.<p>This is more than enough for a hobbyist project, though I imagine at scale things get might not work as well.</div><br/><div id="41325012" class="c"><input type="checkbox" id="c-41325012" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41323932">parent</a><span>|</span><a href="#41324259">next</a><span>|</span><label class="collapse" for="c-41325012">[-]</label><label class="expand" for="c-41325012">[1 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth, we designed Instant with this in mind. Schema is optional, and you can save JSON data into a column if you like.<p>If you wanted to store documents, you could write:<p>```<p>useQuery({docs: {}}) &#x2F;&#x2F; get documents<p>transact(tx.docs[docId].update({someKey: someValue}); &#x2F;&#x2F; update keys in a doc<p>transact(tx.docs[docId].delete()) &#x2F;&#x2F; delete the doc<p>```</div><br/></div></div><div id="41324259" class="c"><input type="checkbox" id="c-41324259" checked=""/><div class="controls bullet"><span class="by">warden_2003</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41323932">parent</a><span>|</span><a href="#41325012">prev</a><span>|</span><a href="#41325077">next</a><span>|</span><label class="collapse" for="c-41324259">[-]</label><label class="expand" for="c-41324259">[4 more]</label></div><br/><div class="children"><div class="content">If you only need simple dropping and collecting back, maybe you should consider about AWS S3 or Supabase storage.</div><br/><div id="41326200" class="c"><input type="checkbox" id="c-41326200" checked=""/><div class="controls bullet"><span class="by">ElFitz</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41324259">parent</a><span>|</span><a href="#41324519">next</a><span>|</span><label class="collapse" for="c-41326200">[-]</label><label class="expand" for="c-41326200">[1 more]</label></div><br/><div class="children"><div class="content">Or a key-value store, if the size is limited and speed is essential.</div><br/></div></div><div id="41324519" class="c"><input type="checkbox" id="c-41324519" checked=""/><div class="controls bullet"><span class="by">999900000999</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41324259">parent</a><span>|</span><a href="#41326200">prev</a><span>|</span><a href="#41325077">next</a><span>|</span><label class="collapse" for="c-41324519">[-]</label><label class="expand" for="c-41324519">[2 more]</label></div><br/><div class="children"><div class="content">Ohh, I still need a database, I just need the JSON doc format.</div><br/></div></div></div></div></div></div><div id="41325077" class="c"><input type="checkbox" id="c-41325077" checked=""/><div class="controls bullet"><span class="by">buggy6257</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41323932">prev</a><span>|</span><a href="#41324160">next</a><span>|</span><label class="collapse" for="c-41325077">[-]</label><label class="expand" for="c-41325077">[7 more]</label></div><br/><div class="children"><div class="content">This is an aside but “trifecta but with four” actually has an awesome name: “Superfecta”!</div><br/><div id="41325635" class="c"><input type="checkbox" id="c-41325635" checked=""/><div class="controls bullet"><span class="by">SOLAR_FIELDS</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41325077">parent</a><span>|</span><a href="#41325239">next</a><span>|</span><label class="collapse" for="c-41325635">[-]</label><label class="expand" for="c-41325635">[3 more]</label></div><br/><div class="children"><div class="content">I would probably avoid naming Firebase alternatives with a prefix like “Super” at this time.</div><br/><div id="41326287" class="c"><input type="checkbox" id="c-41326287" checked=""/><div class="controls bullet"><span class="by">hyperbrainer</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41325635">parent</a><span>|</span><a href="#41325239">next</a><span>|</span><label class="collapse" for="c-41326287">[-]</label><label class="expand" for="c-41326287">[2 more]</label></div><br/><div class="children"><div class="content">I am dumb. Why? Was there some failed&#x2F;controversial thing?</div><br/><div id="41326313" class="c"><input type="checkbox" id="c-41326313" checked=""/><div class="controls bullet"><span class="by">alabhyajindal</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41326287">parent</a><span>|</span><a href="#41325239">next</a><span>|</span><label class="collapse" for="c-41326313">[-]</label><label class="expand" for="c-41326313">[1 more]</label></div><br/><div class="children"><div class="content">Probably because of Supabase, I think.</div><br/></div></div></div></div></div></div><div id="41325239" class="c"><input type="checkbox" id="c-41325239" checked=""/><div class="controls bullet"><span class="by">djeastm</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41325077">parent</a><span>|</span><a href="#41325635">prev</a><span>|</span><a href="#41324160">next</a><span>|</span><label class="collapse" for="c-41325239">[-]</label><label class="expand" for="c-41325239">[3 more]</label></div><br/><div class="children"><div class="content">Tetrafecta would be cooler</div><br/><div id="41326843" class="c"><input type="checkbox" id="c-41326843" checked=""/><div class="controls bullet"><span class="by">aitchnyu</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41325239">parent</a><span>|</span><a href="#41324160">next</a><span>|</span><label class="collapse" for="c-41326843">[-]</label><label class="expand" for="c-41326843">[2 more]</label></div><br/><div class="children"><div class="content">Cursory googling says tetra is Greek and perfect is Latin, so its a bastard word like erogenous or television.</div><br/><div id="41327193" class="c"><input type="checkbox" id="c-41327193" checked=""/><div class="controls bullet"><span class="by">tzot</span><span>|</span><a href="#41322809">root</a><span>|</span><a href="#41326843">parent</a><span>|</span><a href="#41324160">next</a><span>|</span><label class="collapse" for="c-41327193">[-]</label><label class="expand" for="c-41327193">[1 more]</label></div><br/><div class="children"><div class="content">Side point: television is a bastard word, but erogenous is not Greek eros + Latin genus; it&#x27;s all greek (ἐρωτογενής — it would be erotogenous in English since the root of the word eros is erot- , but the extra syllable was dropped; another example of differentiated transliteration is φωτογενής which became photogenic instead of photogenous).</div><br/></div></div></div></div></div></div></div></div><div id="41324160" class="c"><input type="checkbox" id="c-41324160" checked=""/><div class="controls bullet"><span class="by">650REDHAIR</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41325077">prev</a><span>|</span><a href="#41324488">next</a><span>|</span><label class="collapse" for="c-41324160">[-]</label><label class="expand" for="c-41324160">[1 more]</label></div><br/><div class="children"><div class="content">Was pretty neat to see your investment&#x2F;involvement!<p>Made me feel quite old that Firebase is no longer &quot;modern&quot; though...</div><br/></div></div><div id="41324488" class="c"><input type="checkbox" id="c-41324488" checked=""/><div class="controls bullet"><span class="by">Ozzie_osman</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41324160">prev</a><span>|</span><a href="#41323095">next</a><span>|</span><label class="collapse" for="c-41324488">[-]</label><label class="expand" for="c-41324488">[1 more]</label></div><br/><div class="children"><div class="content">Awesome to see this launch and to see James Tamplin backing this project.</div><br/></div></div><div id="41323095" class="c"><input type="checkbox" id="c-41323095" checked=""/><div class="controls bullet"><span class="by">nezaj</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41324488">prev</a><span>|</span><a href="#41324115">next</a><span>|</span><label class="collapse" for="c-41323095">[-]</label><label class="expand" for="c-41323095">[1 more]</label></div><br/><div class="children"><div class="content">Thank you James!</div><br/></div></div><div id="41324115" class="c"><input type="checkbox" id="c-41324115" checked=""/><div class="controls bullet"><span class="by">bobbywilson0</span><span>|</span><a href="#41322809">parent</a><span>|</span><a href="#41323095">prev</a><span>|</span><a href="#41325004">next</a><span>|</span><label class="collapse" for="c-41324115">[-]</label><label class="expand" for="c-41324115">[1 more]</label></div><br/><div class="children"><div class="content">If we only had doSQL() for everything.</div><br/></div></div></div></div><div id="41325004" class="c"><input type="checkbox" id="c-41325004" checked=""/><div class="controls bullet"><span class="by">sibeliuss</span><span>|</span><a href="#41322809">prev</a><span>|</span><a href="#41324018">next</a><span>|</span><label class="collapse" for="c-41325004">[-]</label><label class="expand" for="c-41325004">[7 more]</label></div><br/><div class="children"><div class="content">One bit of feedback: Its always appreciated when code examples on websites are complete. Your example isn&#x27;t complete -- where&#x27;s the `transact` import coming from, or `useQuery`? Little minor details that go far as your product scales out to a wider user base.</div><br/><div id="41326119" class="c"><input type="checkbox" id="c-41326119" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41325004">parent</a><span>|</span><a href="#41326166">next</a><span>|</span><label class="collapse" for="c-41326119">[-]</label><label class="expand" for="c-41326119">[2 more]</label></div><br/><div class="children"><div class="content">Thank you for the feedback, this makes sense!<p>I updated the example to include the imports:<p>```<p>import { init, tx, id } from &quot;@instantdb&#x2F;react&quot;;<p>const db = init({ 
  appId: process.env.NEXT_PUBLIC_APP_ID,
});<p>function Chat() {<p><pre><code>  &#x2F;&#x2F; 1. Read
  const { isLoading, error, data } = db.useQuery({
    messages: {},
  });

  &#x2F;&#x2F; 2. Write
  const addMessage = (message) =&gt; {
    db.transact(tx.messages[id()].update(message));
  };

  &#x2F;&#x2F; 3. Render!
  return &lt;UI data={data} onAdd={addMessage} &#x2F;&gt;;</code></pre>
}<p>```<p>What do you think?</div><br/><div id="41326415" class="c"><input type="checkbox" id="c-41326415" checked=""/><div class="controls bullet"><span class="by">sibeliuss</span><span>|</span><a href="#41325004">root</a><span>|</span><a href="#41326119">parent</a><span>|</span><a href="#41326166">next</a><span>|</span><label class="collapse" for="c-41326415">[-]</label><label class="expand" for="c-41326415">[1 more]</label></div><br/><div class="children"><div class="content">Much better!</div><br/></div></div></div></div><div id="41326166" class="c"><input type="checkbox" id="c-41326166" checked=""/><div class="controls bullet"><span class="by">android521</span><span>|</span><a href="#41325004">parent</a><span>|</span><a href="#41326119">prev</a><span>|</span><a href="#41325068">next</a><span>|</span><label class="collapse" for="c-41326166">[-]</label><label class="expand" for="c-41326166">[2 more]</label></div><br/><div class="children"><div class="content">Yes. This gives users the vibe of “ this is obvious, if you don’t know it , you are dumb “ .</div><br/><div id="41326215" class="c"><input type="checkbox" id="c-41326215" checked=""/><div class="controls bullet"><span class="by">ElFitz</span><span>|</span><a href="#41325004">root</a><span>|</span><a href="#41326166">parent</a><span>|</span><a href="#41325068">next</a><span>|</span><label class="collapse" for="c-41326215">[-]</label><label class="expand" for="c-41326215">[1 more]</label></div><br/><div class="children"><div class="content">Or that the writers were oblivious, and the documentation shouldn’t be relied upon.</div><br/></div></div></div></div><div id="41325068" class="c"><input type="checkbox" id="c-41325068" checked=""/><div class="controls bullet"><span class="by">lelo_tp</span><span>|</span><a href="#41325004">parent</a><span>|</span><a href="#41326166">prev</a><span>|</span><a href="#41325574">next</a><span>|</span><label class="collapse" for="c-41325068">[-]</label><label class="expand" for="c-41325068">[1 more]</label></div><br/><div class="children"><div class="content">lol i was wondering the same thing</div><br/></div></div><div id="41325574" class="c"><input type="checkbox" id="c-41325574" checked=""/><div class="controls bullet"><span class="by">krehwell</span><span>|</span><a href="#41325004">parent</a><span>|</span><a href="#41325068">prev</a><span>|</span><a href="#41324018">next</a><span>|</span><label class="collapse" for="c-41325574">[-]</label><label class="expand" for="c-41325574">[1 more]</label></div><br/><div class="children"><div class="content">this is my question too, lol</div><br/></div></div></div></div><div id="41324018" class="c"><input type="checkbox" id="c-41324018" checked=""/><div class="controls bullet"><span class="by">codersfocus</span><span>|</span><a href="#41325004">prev</a><span>|</span><a href="#41326362">next</a><span>|</span><label class="collapse" for="c-41324018">[-]</label><label class="expand" for="c-41324018">[5 more]</label></div><br/><div class="children"><div class="content">For those looking for alternatives to the offline first model, I settled on PowerSync. Runner up was WatermelonDB (don&#x27;t let the name fool you.) ElectricSQL is still too immature, they announced a rewrite this month. CouchDB &#x2F; PocketDB aren&#x27;t really up to date anymore.<p>Unfortunately this area is still immature, and there aren&#x27;t really great options but PowerSync was the least bad. I&#x27;ll probably pair it with Supabase for the backend.</div><br/><div id="41324132" class="c"><input type="checkbox" id="c-41324132" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#41324018">parent</a><span>|</span><a href="#41326362">next</a><span>|</span><label class="collapse" for="c-41324132">[-]</label><label class="expand" for="c-41324132">[4 more]</label></div><br/><div class="children"><div class="content">Co-founder of PowerSync here. Would love to hear what you would like to see improved in PowerSync :) Thanks!</div><br/><div id="41324282" class="c"><input type="checkbox" id="c-41324282" checked=""/><div class="controls bullet"><span class="by">codersfocus</span><span>|</span><a href="#41324018">root</a><span>|</span><a href="#41324132">parent</a><span>|</span><a href="#41326718">next</a><span>|</span><label class="collapse" for="c-41324282">[-]</label><label class="expand" for="c-41324282">[2 more]</label></div><br/><div class="children"><div class="content">The docs for React Native. I had to piece together how to do stuff from the code examples and a YouTube video tutorial because they&#x27;re pretty sparse with information, and missing a cohesive tutorial that could get me setup with CRUD locally. Plus the initial setup process from the npm page, which itself was notable for how much was required.<p>I haven&#x27;t attempted to setup the backend yet, so that&#x27;s my feedback so far.</div><br/><div id="41324614" class="c"><input type="checkbox" id="c-41324614" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#41324018">root</a><span>|</span><a href="#41324282">parent</a><span>|</span><a href="#41326718">next</a><span>|</span><label class="collapse" for="c-41324614">[-]</label><label class="expand" for="c-41324614">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, appreciate the feedback.</div><br/></div></div></div></div><div id="41326718" class="c"><input type="checkbox" id="c-41326718" checked=""/><div class="controls bullet"><span class="by">satvikpendem</span><span>|</span><a href="#41324018">root</a><span>|</span><a href="#41324132">parent</a><span>|</span><a href="#41324282">prev</a><span>|</span><a href="#41326362">next</a><span>|</span><label class="collapse" for="c-41326718">[-]</label><label class="expand" for="c-41326718">[1 more]</label></div><br/><div class="children"><div class="content">ElectricSQL before their announced rewrite worked fully offline and could sync when the clients became online again. Now, that functionality with their rewrite is somewhat removed, as they expect you to handle clientside writes by yourself, which is what I believe PowerSync does as well, am I correct in that understanding? If I wanted a fully offline clientside database that could then sync to all the other clients when online, what would I do? I am looking for this in the context of a Flutter app, for reference.</div><br/></div></div></div></div></div></div><div id="41326362" class="c"><input type="checkbox" id="c-41326362" checked=""/><div class="controls bullet"><span class="by">blixt</span><span>|</span><a href="#41324018">prev</a><span>|</span><a href="#41325430">next</a><span>|</span><label class="collapse" for="c-41326362">[-]</label><label class="expand" for="c-41326362">[2 more]</label></div><br/><div class="children"><div class="content">I saw the reference to “apps like Figma” and as one of the people that worked on Framer’s (also a canvas based app) database which is also local+multiplayer I find it hard to imagine how to effectively synchronize canvas data with a relational database like Postgres effectively. Users will frequently work on thousands of nodes in parallel and perform dragging updates that occur at 60 FPS and should at least be propagated to other clients frequently.<p>Does Instant have a way to merge many frequent updates into fewer Postgres transactions while maintaining high frequency for multiplayer?<p>Regardless this is super cool for so many other things where you’re modifying more regular app data. Apps often have bugs when attempting to synchronize data across multiple endpoints and tend to drift over time when data mutation logic is spread across the code base. Just being able to treat the data as one big object usually helps even if it seems to go against some principles (like microservices but don’t get me started on why that fails more often than not due to the discipline it requires).</div><br/><div id="41326710" class="c"><input type="checkbox" id="c-41326710" checked=""/><div class="controls bullet"><span class="by">shunia_huang</span><span>|</span><a href="#41326362">parent</a><span>|</span><a href="#41325430">next</a><span>|</span><label class="collapse" for="c-41326710">[-]</label><label class="expand" for="c-41326710">[1 more]</label></div><br/><div class="children"><div class="content">Good point on the update frequency, I believe it is a must to batch the requests and responds for any of this type of lib&#x2F;service to work in a production environment, a performance report&#x2F;comparison is still required for ppl to get the idea if this is good to support their business model.<p>About the synchronized data though I think it&#x27;s not about the database but the data types designed to sync the data? I worked on multiple-player canvas games and we didn&#x27;t really care that much about relational db or document db, they worked both fine. I would love to know what&#x27;s the difference and the challanges.</div><br/></div></div></div></div><div id="41325430" class="c"><input type="checkbox" id="c-41325430" checked=""/><div class="controls bullet"><span class="by">lewisl9029</span><span>|</span><a href="#41326362">prev</a><span>|</span><a href="#41327199">next</a><span>|</span><label class="collapse" for="c-41325430">[-]</label><label class="expand" for="c-41325430">[2 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch! :)<p>Apparently I signed up for Instant previously but completely forgot about it. Only realized I had an account when I went to the dashboard to find myself still logged in. I dug up the sign up email and apparently I signed up back in 2022, so some kind of default invalidation period on your auth tokens would definitely make me a bit more comfortable.<p>Regardless, I&#x27;m still as excited about the idea of a client-side, offline-first, realtime syncing db as ever, especially now that the space has really been picking up steam with new entrants showing up every few weeks.<p>One thing I was curious about is how well the system currently supports users with multiple emails? GitHub popularized this pattern, and these days it&#x27;s pretty much table stakes in the dev tools space to be able to sign in once and use the same account across personal accounts and orgs associated with different emails.<p>Looking at the docs I&#x27;m getting the sense that there might be an assumption of 1 email per user in the user model currently. Is that correct? If so, any plans to evolve the model to become more flexible?</div><br/><div id="41325685" class="c"><input type="checkbox" id="c-41325685" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41325430">parent</a><span>|</span><a href="#41327199">next</a><span>|</span><label class="collapse" for="c-41325685">[-]</label><label class="expand" for="c-41325685">[1 more]</label></div><br/><div class="children"><div class="content">Noted about the refresh tokens, thank you!<p>&gt; One thing I was curious about is how well the system currently supports users with multiple emails? GitHub popularized this pattern, and these days it&#x27;s pretty much table stakes in the dev tools space to be able to sign in once and use the same account across personal accounts and orgs associated with different emails<p>Right now there is an assumption of 1 `user` object per email. You could create an entity like `workspace` inside Instant, and tie multiple users together this way for now.<p>However, making the `user` support multiple identities, and creating recipes for common data models  (like workspaces) is on the near-term roadmap.</div><br/></div></div></div></div><div id="41327199" class="c"><input type="checkbox" id="c-41327199" checked=""/><div class="controls bullet"><span class="by">monomers</span><span>|</span><a href="#41325430">prev</a><span>|</span><a href="#41323388">next</a><span>|</span><label class="collapse" for="c-41327199">[-]</label><label class="expand" for="c-41327199">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m missing clarity about how do I escape Instant DB when I need to, and how to make it part of a larger system.<p>Say I have an InstantDB app, can I stream events from the instant backend to somewhere else?</div><br/></div></div><div id="41323388" class="c"><input type="checkbox" id="c-41323388" checked=""/><div class="controls bullet"><span class="by">antidnan</span><span>|</span><a href="#41327199">prev</a><span>|</span><a href="#41323278">next</a><span>|</span><label class="collapse" for="c-41323388">[-]</label><label class="expand" for="c-41323388">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using Instant for about 6 months and have been very happy. Realtime, relational, and offline were the most important things for us, building out a relatively simple schema (users, files, projects, teams) that also is local first. Tried a few others unsuccessfully and after Instant, haven&#x27;t looked back.<p>Congrats team!</div><br/><div id="41325087" class="c"><input type="checkbox" id="c-41325087" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323388">parent</a><span>|</span><a href="#41323278">next</a><span>|</span><label class="collapse" for="c-41325087">[-]</label><label class="expand" for="c-41325087">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been great iterating with you AJ! Can&#x27;t wait for what&#x27;s ahead.</div><br/></div></div></div></div><div id="41323278" class="c"><input type="checkbox" id="c-41323278" checked=""/><div class="controls bullet"><span class="by">breatheoften</span><span>|</span><a href="#41323388">prev</a><span>|</span><a href="#41327290">next</a><span>|</span><label class="collapse" for="c-41323278">[-]</label><label class="expand" for="c-41323278">[7 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the short summary of how the authorization system works for this?<p>One of the things I find quite nice about firebase is the quite powerful separation between the logic of data retrieval &#x2F; update and the enforcement of access policy -- if you understand it you can build the prototype on a happy path with barely any authorization enforcement and then add it later and have quite complete confidence that you aren&#x27;t leaking data between users or allowing them to change something they shouldn&#x27;t be able to.  Although you do need to keep the way this system works in mind as you build and I have found that developers often don&#x27;t really grasp the shape of these mechanisms at first<p>From what I can tell -- the instant system is different in that the permission logic is evaluated on the results of queries -- vs firebase which enforces whether the query is safe to run prior to it even being executed ...</div><br/><div id="41323588" class="c"><input type="checkbox" id="c-41323588" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323278">parent</a><span>|</span><a href="#41327290">next</a><span>|</span><label class="collapse" for="c-41323588">[-]</label><label class="expand" for="c-41323588">[6 more]</label></div><br/><div class="children"><div class="content">&gt; What&#x27;s the short summary of how the authorization system works for this?<p>We built a permission system on top of Google&#x27;s CEL [1]. Every object returned in a query is filtered by a &#x27;view&#x27; rule. Similarly, every modification of an object goes through a &#x27;create&#x2F;update&#x2F;delete&#x27; rule.<p>The docs: <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;docs&#x2F;permissions">https:&#x2F;&#x2F;www.instantdb.com&#x2F;docs&#x2F;permissions</a><p>The experience is similar to Firebase in three ways:<p>1. Both languages are based on CEL
2. There&#x27;s a distinct separation between data retrieval and access policy 
3. You can start on a happy path when developing, and lock down later.<p>AFAIK, Firebase Realtime can be more efficient, as it can tell if a permission check has passed statically. I am not sure if Firestore works this way. We wanted to be more dynamic, to support more nuanced rules down the road (stuff like &#x27;check this http endpoint if an object has permissions&#x27;). We took inspiration Facebook&#x27;s &#x27;EntPrivacy&#x27; rules in this respect.</div><br/><div id="41323660" class="c"><input type="checkbox" id="c-41323660" checked=""/><div class="controls bullet"><span class="by">SahAssar</span><span>|</span><a href="#41323278">root</a><span>|</span><a href="#41323588">parent</a><span>|</span><a href="#41324999">next</a><span>|</span><label class="collapse" for="c-41323660">[-]</label><label class="expand" for="c-41323660">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Every object returned in a query is filtered by a &#x27;view&#x27; rule. Similarly, every modification of an object goes through a &#x27;create&#x2F;update&#x2F;delete&#x27; rule.<p>Is that efficient for queries that return many rows but each user only has access to a few?<p>Is there a specific reason to not use something like postgresql RLS that would do the filtering within the database where indexes can help?</div><br/><div id="41324028" class="c"><input type="checkbox" id="c-41324028" checked=""/><div class="controls bullet"><span class="by">Guillaume86</span><span>|</span><a href="#41323278">root</a><span>|</span><a href="#41323660">parent</a><span>|</span><a href="#41324999">next</a><span>|</span><label class="collapse" for="c-41324028">[-]</label><label class="expand" for="c-41324028">[3 more]</label></div><br/><div class="children"><div class="content">Yes, reading the essay, that seems like the only &quot;red flag&quot; to me, the rest sound like a dream db.<p>Not being able to leverage permission rules to optimize queries (predicate pushdown) seems like too big a compromise to me. It would be too easy to hit pathological cases, and the workaround would probably be something akin to replicating the permission logic in every query. Is there any plans to improve this?</div><br/><div id="41325100" class="c"><input type="checkbox" id="c-41325100" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323278">root</a><span>|</span><a href="#41324028">parent</a><span>|</span><a href="#41324999">next</a><span>|</span><label class="collapse" for="c-41325100">[-]</label><label class="expand" for="c-41325100">[2 more]</label></div><br/><div class="children"><div class="content">Yes, in the near future we plan to convert CEL expressions to where clauses, which we attach to queries. This would push permissions to the query level, like postgres RLS.</div><br/><div id="41326820" class="c"><input type="checkbox" id="c-41326820" checked=""/><div class="controls bullet"><span class="by">Guillaume86</span><span>|</span><a href="#41323278">root</a><span>|</span><a href="#41325100">parent</a><span>|</span><a href="#41324999">next</a><span>|</span><label class="collapse" for="c-41326820">[-]</label><label class="expand" for="c-41326820">[1 more]</label></div><br/><div class="children"><div class="content">Great, and congrats on the launch!</div><br/></div></div></div></div></div></div></div></div><div id="41324999" class="c"><input type="checkbox" id="c-41324999" checked=""/><div class="controls bullet"><span class="by">dudus</span><span>|</span><a href="#41323278">root</a><span>|</span><a href="#41323588">parent</a><span>|</span><a href="#41323660">prev</a><span>|</span><a href="#41327290">next</a><span>|</span><label class="collapse" for="c-41324999">[-]</label><label class="expand" for="c-41324999">[1 more]</label></div><br/><div class="children"><div class="content">While it seems inflexible at first this system is surprisingly capable and provides great DX, one of the best things about working with firestore.</div><br/></div></div></div></div></div></div><div id="41327290" class="c"><input type="checkbox" id="c-41327290" checked=""/><div class="controls bullet"><span class="by">intellix</span><span>|</span><a href="#41323278">prev</a><span>|</span><a href="#41323905">next</a><span>|</span><label class="collapse" for="c-41327290">[-]</label><label class="expand" for="c-41327290">[1 more]</label></div><br/><div class="children"><div class="content">Kind of like Horizon + RethinkDB? which sadly disappeared out of nowhere</div><br/></div></div><div id="41323905" class="c"><input type="checkbox" id="c-41323905" checked=""/><div class="controls bullet"><span class="by">remolacha</span><span>|</span><a href="#41327290">prev</a><span>|</span><a href="#41324310">next</a><span>|</span><label class="collapse" for="c-41323905">[-]</label><label class="expand" for="c-41323905">[8 more]</label></div><br/><div class="children"><div class="content">I really want an ActiveRecord-like experience.<p>In ActiveRecord, I can do this:<p>```rb<p>post = Post.find_by(author: &quot;John Smith&quot;)<p>post.author.email = &quot;john@example.com&quot;<p>post.save<p>```<p>In React&#x2F;Vue&#x2F;Solid, I want to express things like this:<p>```jsx<p>function BlogPostDetailComponent(...) {<p><pre><code>  &#x2F;&#x2F; `subscribe` or `useSnapshot` or whatever would be the hook that gives me a reactive post object

  const post = subscribe(Posts.find(props.id));

  function updateAuthorName(newName) {
    &#x2F;&#x2F; This should handle the join between posts and authors, optimistically update the UI

    post.author.name = newName;

    &#x2F;&#x2F; This should attempt to persist any pending changes to browser storage, then
    &#x2F;&#x2F; sync to remote db, rolling back changes if there&#x27;s a failure, and
    &#x2F;&#x2F; giving me an easy way to show an error toast if the update failed. 

    post.save();
  } 

  return (
    &lt;&gt;
      ...
    &lt;&#x2F;&gt;
  )</code></pre>
}<p>```<p>I don&#x27;t want to think about joining up-front, and I want the ORM to give me an object-graph-like API, not a SQL-like API.<p>In ActiveRecord, I can fall back to SQL or build my ORM query with the join specified to avoid N+1s, but in most cases I can just act as if my whole object graph is in memory, which is the ideal DX.</div><br/><div id="41323989" class="c"><input type="checkbox" id="c-41323989" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323905">parent</a><span>|</span><a href="#41325864">next</a><span>|</span><label class="collapse" for="c-41323989">[-]</label><label class="expand" for="c-41323989">[5 more]</label></div><br/><div class="children"><div class="content">Absolutely. Instant has similar design goals to Rails and ActiveRecord<p>Here are some parallels your example:<p>A. ActiveRecord:<p>```<p>post = Post.find_by(author: &quot;John Smith&quot;) post.author.email = &quot;john@example.com&quot; post.save<p>```<p>B. Instant:<p>```<p>db.transact(
  tx.users[lookup(&#x27;author&#x27;, &#x27;John Smith&#x27;)].update({ email: &#x27;john@example.com&#x27; }),
);<p>```<p>&gt; In React&#x2F;Vue&#x2F;Solid, I want to say express things like this:<p>Here&#x27;s what the React&#x2F;Vue code would look like:<p>```<p>function BlogPostDetailComponent(props) {<p><pre><code>  &#x2F;&#x2F; `useQuery` is equivelant to the `subscribe` that you mentioned:

  const { isLoading, data, error } = db.useQuery({posts: {author: {}, $: {where: { id: props.id }, } })
  
  if (isLoading) return ...
  
  if (error) return .. 
  
  function updateAuthorName(newName) {
  
    &#x2F;&#x2F; `db.transact` does what you mentioned: 
    &#x2F;&#x2F; it attempts to persist any pending changes to browser storage, then
    &#x2F;&#x2F; sync to remote db, rolling back changes if there&#x27;s a failure, and
    &#x2F;&#x2F; gives an easy way to show an error toast if the update failed. (it&#x27;s awaitable)
  
    db.transact(
      tx.authors[author.id].update({name: newName})
    )
  
  }

  return (
    &lt;&gt;
      ...
    &lt;&#x2F;&gt;
  )</code></pre>
}<p>```</div><br/><div id="41324061" class="c"><input type="checkbox" id="c-41324061" checked=""/><div class="controls bullet"><span class="by">remolacha</span><span>|</span><a href="#41323905">root</a><span>|</span><a href="#41323989">parent</a><span>|</span><a href="#41325864">next</a><span>|</span><label class="collapse" for="c-41324061">[-]</label><label class="expand" for="c-41324061">[4 more]</label></div><br/><div class="children"><div class="content">Maybe a dumb question, but why do I have to wrap in `db.transact` and `tx.*`? Why can&#x27;t I just have a proxy object that handles that stuff under the hood?<p>Naively, it seems more verbose than necessary.<p>Also, I like that in Rails, there are ways to mutate just in memory, and then ways to push the change to DB. I can just assign, and then changes are only pushed when I call `save()`. Or if I want to do it all-in-one, I can use something like `.update(..)`.<p>In the browser context, having this separation feels most useful for input elements. For example, I might have a page where the user can update their username. I want to simply pass in a value for the input element (controlled input)<p>ex.<p>```jsx<p>&lt;input
  value={user.name}
  ...
&#x2F;&gt;<p>```<p>But I only want to push the changes to the db (save) when the user clicks the save button at the bottom of the page.<p>If any changes go straight to the db, then I have two choices:<p>1. Use an uncontrolled input element. This is inconvenient if I want to use something like Zod for form validation<p>2. Create a temporary state for the WIP changes, because in this case I don&#x27;t want partial, unvalidated&#x2F;unconfirmed changes written to either my local or remote db.</div><br/><div id="41325360" class="c"><input type="checkbox" id="c-41325360" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323905">root</a><span>|</span><a href="#41324061">parent</a><span>|</span><a href="#41325864">next</a><span>|</span><label class="collapse" for="c-41325360">[-]</label><label class="expand" for="c-41325360">[3 more]</label></div><br/><div class="children"><div class="content">This is a great question. We are working on a more concise transaction API, and are still in the design phase.<p>Writing a `user.save()` could be a good idea, but it opens up a question about how to do transactions. For example, saving _both_ user and post together).<p>I could see a variant where we return proxied objects from `useQuery`.<p>What would your ideal API look like?</div><br/><div id="41326311" class="c"><input type="checkbox" id="c-41326311" checked=""/><div class="controls bullet"><span class="by">aidos</span><span>|</span><a href="#41323905">root</a><span>|</span><a href="#41325360">parent</a><span>|</span><a href="#41325956">next</a><span>|</span><label class="collapse" for="c-41326311">[-]</label><label class="expand" for="c-41326311">[1 more]</label></div><br/><div class="children"><div class="content">We have an internal lib for data management that’s philosophically similar to linear too. I opted for having required transactions for <i>developer safety</i>.<p>Imagine that you support the model discussed above where it’s possible to update the local store optimistically without syncing back to the db. Now you’re one missing .save() away from having everything look like it’s working in the frontend when really nothing is persisting. It’s the sort of foot gun that you might regret supporting.<p>Our model is slightly different in that we require the .save() on objects to create the mutation for the sync. The primary reason is that we’re syncing back to real tables in Postgres and require referential integrity etc to be maintained.<p><pre><code>    tx((db) =&gt; {
      const author = new Author(db)
      author.save()
      article.name = “New name”
      article.author = author
      article.save()
    }
</code></pre>
Mutating an object outside of a transaction is a hard error. Doing the mutation in a transaction but failing to call save within the same transaction is a hard error too.</div><br/></div></div><div id="41325956" class="c"><input type="checkbox" id="c-41325956" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#41323905">root</a><span>|</span><a href="#41325360">parent</a><span>|</span><a href="#41326311">prev</a><span>|</span><a href="#41325864">next</a><span>|</span><label class="collapse" for="c-41325956">[-]</label><label class="expand" for="c-41325956">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What would your ideal API look like?<p>He gave an example in the first post in this chain xD</div><br/></div></div></div></div></div></div></div></div><div id="41325864" class="c"><input type="checkbox" id="c-41325864" checked=""/><div class="controls bullet"><span class="by">gr4vityWall</span><span>|</span><a href="#41323905">parent</a><span>|</span><a href="#41323989">prev</a><span>|</span><a href="#41326563">next</a><span>|</span><label class="collapse" for="c-41325864">[-]</label><label class="expand" for="c-41325864">[1 more]</label></div><br/><div class="children"><div class="content">From what you say, seems like Meteor + React would deliver almost the exact syntax you want, although it&#x27;s MongoDB instead of SQL.<p>Reference: <a href="https:&#x2F;&#x2F;react-tutorial.meteor.com&#x2F;simple-todos&#x2F;02-collections#2-3-Render-Tasks-Collection" rel="nofollow">https:&#x2F;&#x2F;react-tutorial.meteor.com&#x2F;simple-todos&#x2F;02-collection...</a></div><br/></div></div><div id="41326563" class="c"><input type="checkbox" id="c-41326563" checked=""/><div class="controls bullet"><span class="by">TheFragenTaken</span><span>|</span><a href="#41323905">parent</a><span>|</span><a href="#41325864">prev</a><span>|</span><a href="#41324310">next</a><span>|</span><label class="collapse" for="c-41326563">[-]</label><label class="expand" for="c-41326563">[1 more]</label></div><br/><div class="children"><div class="content">Every day, we get closer to what Ember.js did&#x2F;does.</div><br/></div></div></div></div><div id="41324310" class="c"><input type="checkbox" id="c-41324310" checked=""/><div class="controls bullet"><span class="by">the_duke</span><span>|</span><a href="#41323905">prev</a><span>|</span><a href="#41324152">next</a><span>|</span><label class="collapse" for="c-41324310">[-]</label><label class="expand" for="c-41324310">[8 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found triple stores to have pretty poor performance when most of your queries fetch full objects, or many fields of the same object, which in the real world seems to be very common.<p>Postgres also isn&#x27;t terrible, but also not brilliant for that use case.<p>How has your experience been in that regard?</div><br/><div id="41325803" class="c"><input type="checkbox" id="c-41325803" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#41324310">parent</a><span>|</span><a href="#41325106">next</a><span>|</span><label class="collapse" for="c-41325803">[-]</label><label class="expand" for="c-41325803">[4 more]</label></div><br/><div class="children"><div class="content">It’s not quite the same thing but nearby:<p>I built a EAV secondary index system on top of Postgres to accelerate Notion’s user-defined-schema “Databases” feature about a year ago. By secondary index, I mean the EAV table was used for queries that returned IDs, and we hydrated the full objects from another store.<p>We’d heard that “EAV in Postgres is bad” but wanted to find out for ourselves. Our strategy was to push the whole query down to Postgres and avoid doing query planning in our application code.<p>When we first turned it on in our dogfood environment, the results looked quite promising; large improvement compared to the baseline system at p75, but above that things looked rough, and at p95 queries would never complete (time out after 60s).<p>It worked great if you want to filter and sort on the same single attribute. The problem queries were when we tried to query and sort on multiple different attributes. We spent a few weeks fixing the most obviously broken classes of query and learned a lot about common table expressions, all the different join types, and strategies for hinting the Postgres query planner. Performance up to p95 was looking good, but after p95 we still had a lot of timeout queries.<p>It turns out using an EAV table means Postgres statistics system is totally oblivious to the shape of objects, so the query planner will be very silly sometimes when you JOIN. Things like forget about the Value index and just use a primary key scan for some arms of the join because the index doesn’t look effective enough.<p>It was clear we’d need to move a lot of query planning to the application, maintain our own “table” statistics, and do app joins instead of Postgres joins if Postgres was going to mess it up. That last part was the last nail in the coffin - we really couldn’t lean on join in PG at all because we had no way to know when the query planner was going to be silly.<p>It was worth doing for the learning! I merged a PR deleting the EAV code about a month ago, and we rolled out a totally different design to production last week :)</div><br/><div id="41325926" class="c"><input type="checkbox" id="c-41325926" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#41324310">root</a><span>|</span><a href="#41325803">parent</a><span>|</span><a href="#41325106">next</a><span>|</span><label class="collapse" for="c-41325926">[-]</label><label class="expand" for="c-41325926">[3 more]</label></div><br/><div class="children"><div class="content">Does postgres not have the ability to hint or force indexes?<p>Long long time ago, I found that quite helpful with MySQL.</div><br/><div id="41326538" class="c"><input type="checkbox" id="c-41326538" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#41324310">root</a><span>|</span><a href="#41325926">parent</a><span>|</span><a href="#41326021">next</a><span>|</span><label class="collapse" for="c-41326538">[-]</label><label class="expand" for="c-41326538">[1 more]</label></div><br/><div class="children"><div class="content">It does not, and that fact is the #1 downside of Postgres. It is not predictable or controllable at scale, and comes with inherent risk because you cannot “lock into” a good query plan. I have been paged at 3 am a few times because Postgres decided it didn’t like a perfectly reasonable index anymore and wanted to try a full table scan instead :(</div><br/></div></div><div id="41326021" class="c"><input type="checkbox" id="c-41326021" checked=""/><div class="controls bullet"><span class="by">evanelias</span><span>|</span><a href="#41324310">root</a><span>|</span><a href="#41325926">parent</a><span>|</span><a href="#41326538">prev</a><span>|</span><a href="#41325106">next</a><span>|</span><label class="collapse" for="c-41326021">[-]</label><label class="expand" for="c-41326021">[1 more]</label></div><br/><div class="children"><div class="content">Nope, weirdly Postgres still doesn&#x27;t have that ability even today.</div><br/></div></div></div></div></div></div><div id="41325106" class="c"><input type="checkbox" id="c-41325106" checked=""/><div class="controls bullet"><span class="by">nostrademons</span><span>|</span><a href="#41324310">parent</a><span>|</span><a href="#41325803">prev</a><span>|</span><a href="#41325400">next</a><span>|</span><label class="collapse" for="c-41325106">[-]</label><label class="expand" for="c-41325106">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve also found triple stores to have terrible performance, but it looks like the intended use-case for this (like Firebase) is rapid development, prototyping, and startups.  You aren&#x27;t going to generate enough traffic when you&#x27;re building an MVP for this to be an issue.<p>And it&#x27;s a hosted service, so the performance issues are for the InstantDB team to worry about, and they can fold it into the price they charge.  It does mean that your application architecture will get locked in to something that costs a fortune in server bills when it gets big, but from InstantDB&#x27;s POV, that&#x27;s a feature not a bug.  From your POV as a startup it may be a feature as well, since if you get to that point you&#x27;ll like have VC to blow on server bills or use to rewrite your backend.</div><br/></div></div><div id="41325400" class="c"><input type="checkbox" id="c-41325400" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41324310">parent</a><span>|</span><a href="#41325106">prev</a><span>|</span><a href="#41324152">next</a><span>|</span><label class="collapse" for="c-41325400">[-]</label><label class="expand" for="c-41325400">[2 more]</label></div><br/><div class="children"><div class="content">So far we haven&#x27;t hit intractable problems with query performance. One approach that we could evolving too down the road is similar to Tao [1]. In Tao, there are two tables: objects and references. This has scaled well for Facebook.<p>We&#x27;re also working on an individual Postgres adapter. This would replace the underlying triple store with a fully relational Postgres database.<p>[1] <a href="https:&#x2F;&#x2F;www.usenix.org&#x2F;system&#x2F;files&#x2F;conference&#x2F;atc13&#x2F;atc13-bronson.pdf" rel="nofollow">https:&#x2F;&#x2F;www.usenix.org&#x2F;system&#x2F;files&#x2F;conference&#x2F;atc13&#x2F;atc13-b...</a></div><br/><div id="41325988" class="c"><input type="checkbox" id="c-41325988" checked=""/><div class="controls bullet"><span class="by">evanelias</span><span>|</span><a href="#41324310">root</a><span>|</span><a href="#41325400">parent</a><span>|</span><a href="#41324152">next</a><span>|</span><label class="collapse" for="c-41325988">[-]</label><label class="expand" for="c-41325988">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In Tao, there are two tables: objects and references. This has scaled well for Facebook.<p>That&#x27;s a rather tremendous oversimplification, unless something major changed in recent years. When I worked on database infra at FB, MySQL-backed TAO objects and associations were mapped to distinct underlying tables for each major type of entity or relationship. In other words, each UDB shard had hundreds of tables. Also each MySQL instance had a bunch (few dozen?) of shards, and each physical host had multiple MySQL instances. So the end result of that is that each individual table was kept to a quite reasonable size.<p>Nor was it an EAV &#x2F; KV pattern at all, since each row represented a full object or association, rather than just a single attribute. And the read workload for associations typically consisted of range scans across an index, which isn&#x27;t really a thing with EAV.</div><br/></div></div></div></div></div></div><div id="41324152" class="c"><input type="checkbox" id="c-41324152" checked=""/><div class="controls bullet"><span class="by">coffeemug</span><span>|</span><a href="#41324310">prev</a><span>|</span><a href="#41327120">next</a><span>|</span><label class="collapse" for="c-41324152">[-]</label><label class="expand" for="c-41324152">[2 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch! I think Firebase was started in 2011, and it&#x27;s incredible that 13 years later the problem is still unsolved in an open way. We took a shot at this at RethinkDB but fell short. If I were doing this again today, Instant is how I would build it. Rooting for you!</div><br/><div id="41325650" class="c"><input type="checkbox" id="c-41325650" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41324152">parent</a><span>|</span><a href="#41327120">next</a><span>|</span><label class="collapse" for="c-41325650">[-]</label><label class="expand" for="c-41325650">[1 more]</label></div><br/><div class="children"><div class="content">I really appreciate your message Slava. Your essays were really influential for us.</div><br/></div></div></div></div><div id="41327120" class="c"><input type="checkbox" id="c-41327120" checked=""/><div class="controls bullet"><span class="by">dsmurrell</span><span>|</span><a href="#41324152">prev</a><span>|</span><a href="#41326240">next</a><span>|</span><label class="collapse" for="c-41327120">[-]</label><label class="expand" for="c-41327120">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using Hasura connected to a postgres DB at the moment. What you have built sounds great.<p>Hasura offer a self hosted solution so that I know if they decide to close shop for whatever reason, I&#x27;m not stuck in the lurch and have to reengineer my entire solution. Do you offer this now or are you planning to?</div><br/></div></div><div id="41326240" class="c"><input type="checkbox" id="c-41326240" checked=""/><div class="controls bullet"><span class="by">TeeWEE</span><span>|</span><a href="#41327120">prev</a><span>|</span><a href="#41326032">next</a><span>|</span><label class="collapse" for="c-41326240">[-]</label><label class="expand" for="c-41326240">[1 more]</label></div><br/><div class="children"><div class="content">Very nice!<p>However for our use case we want total control over the server database. And wanted to store it in normalized tables.<p>The solution we went for us is streaming the mutation stream (basically the WAL) from&#x2F;to client and server. And use table stream duality to store them in a table.<p>Permissions are handled on a table level.<p>When a client writes it sends a mutation to the servers. Or queues it locally if offline. Writes never conflict: we employ a CRDT “last write wins” policy.<p>Queries are represented by objects and need to be implemented both in Postgres as wel as SQLLite (if you want offline querying, often we don’t). A query we implement for small tables is: “SELECT *”.<p>Note that the result set being queried is updated realtime for any mutation coming in.<p>It’s by default not enforcing relational constraints on the clientside so no rollbacks needed.<p>However you can set a table in different modes:
- online synchronous writes only: allows us to have relational constraints. And to validate the creation against other server only business rules.<p>The tech stack is Kotlin on client (KMM) and server, websocket for streaming. Kafka for all mutations messaging. And vanilla Postgres for storing.<p>The nice thing is that we now have a Kafka topic that contains all mutations that we can listen to. For example to send emails or handle other use cases.<p>For every table you:
- create a serializable Kotlin data class
- create a Postgres table on the server
- implement reading and writing that data, and custom queries<p>Done: the apps have offline support for reading a single entity and upserts. 
Querying require to be online if not implemented on the client.</div><br/></div></div><div id="41326032" class="c"><input type="checkbox" id="c-41326032" checked=""/><div class="controls bullet"><span class="by">the_king</span><span>|</span><a href="#41326240">prev</a><span>|</span><a href="#41324080">next</a><span>|</span><label class="collapse" for="c-41326032">[-]</label><label class="expand" for="c-41326032">[2 more]</label></div><br/><div class="children"><div class="content">This is really cool. Curious to see more about how the database can be queried. I don&#x27;t write much SQL these days, and I have no dedication to Postgres, but it does integrate with pretty much everything. Also curious how I&#x27;d go about the basics in Instant.<p>For example, creating a user table and ensuring that emails are unique - I&#x27;ve done it 50 times with Postgres. Is that part built out yet?<p>Very cool. Appreciate the &quot;Don&#x27;t Make Me Think&quot; API.<p>(written with aqua)</div><br/><div id="41326222" class="c"><input type="checkbox" id="c-41326222" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41326032">parent</a><span>|</span><a href="#41324080">next</a><span>|</span><label class="collapse" for="c-41326222">[-]</label><label class="expand" for="c-41326222">[1 more]</label></div><br/><div class="children"><div class="content">&gt; creating a user table and ensuring that emails are unique - I&#x27;ve done it 50 times with Postgres. Is that part built out yet?<p>Yes. Auth comes out of the box with Instant. You get support magic code-based auth, Google OAuth, and have an option to extend it using your own backend if you prefer.<p>P.S Aqua seems very cool; I broke my thumb 6 months ago, and would have definitely appreciated a tool like that.</div><br/></div></div></div></div><div id="41324080" class="c"><input type="checkbox" id="c-41324080" checked=""/><div class="controls bullet"><span class="by">w10-1</span><span>|</span><a href="#41326032">prev</a><span>|</span><a href="#41322813">next</a><span>|</span><label class="collapse" for="c-41324080">[-]</label><label class="expand" for="c-41324080">[5 more]</label></div><br/><div class="children"><div class="content">Is the datalog engine exposed?  Is there any way to cache parsed queries?<p>Other datalog engines support recursive queries, which makes my life <i>so</i> much easier.  Can I do that now with this?  Or is it on the roadmap?<p>I have fairly large and overlapping rules&#x2F;queries.  Is there any way to store parsed queries and combine them?<p>Also, why the same name as the (Lutris) Enhydra java database?  Your domain is currently listed as a &quot;failed company&quot; from 1997-2000 (actual usage of the Java InstantDB was much longer)<p><pre><code>   https:&#x2F;&#x2F;dbdb.io&#x2F;db&#x2F;instantdb
</code></pre>
Given that it&#x27;s implemented clojure and some other datalog engines are in clojure, can you say anything about antecedents?<p>Some other Clojure datalog implementations, most in open source<p>- Datomic is the long-standing market leader<p>- XTDB (MPL): <a href="https:&#x2F;&#x2F;github.com&#x2F;xtdb&#x2F;xtdb">https:&#x2F;&#x2F;github.com&#x2F;xtdb&#x2F;xtdb</a><p>- Datascript (EPL): <a href="https:&#x2F;&#x2F;github.com&#x2F;tonsky&#x2F;datascript">https:&#x2F;&#x2F;github.com&#x2F;tonsky&#x2F;datascript</a><p>- Datalevin ((forking datascript, EPL): <a href="https:&#x2F;&#x2F;github.com&#x2F;juji-io&#x2F;datalevin">https:&#x2F;&#x2F;github.com&#x2F;juji-io&#x2F;datalevin</a><p>- datahike (forking datascript, EPL): <a href="https:&#x2F;&#x2F;github.com&#x2F;replikativ&#x2F;datahike">https:&#x2F;&#x2F;github.com&#x2F;replikativ&#x2F;datahike</a><p>- Naga (EPL): <a href="https:&#x2F;&#x2F;github.com&#x2F;quoll&#x2F;naga">https:&#x2F;&#x2F;github.com&#x2F;quoll&#x2F;naga</a></div><br/><div id="41325168" class="c"><input type="checkbox" id="c-41325168" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41324080">parent</a><span>|</span><a href="#41324370">next</a><span>|</span><label class="collapse" for="c-41325168">[-]</label><label class="expand" for="c-41325168">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Is the datalog engine exposed? Is there any way to cache parsed queries?<p>We don&#x27;t currently expose the datalog engine. You _technically_ could use it, but that part of the query system changes much more quickly.<p>Queries results are also cached by default on the client.<p>&gt; Other datalog engines support recursive queries, which makes my life so much easier. Can I do that now with this?<p>There&#x27;s no shorthand for recursive queries yet, but it&#x27;s on the roadmap. Today if you had a data model like &#x27;blocks have child blocks&#x27;, you wanted to get 3 levels deep, you could write:<p>```<p>useQuery({ 
  blocks: { child: { child: {} } }
});<p>```<p>&gt; Also, why the same name as the (Lutris) Enhydra java database?<p>When we first thought of the idea for this project, our &#x27;codename&#x27; was Instant. We didn&#x27;t actually think we could get `instantdb.com` as a real domain name. But, after some sleuthing, we found that the email server for instantdb.com went to a gentleman in New Zealand. Seems like he nabbed it after Lutris shut down. We were about to buy the domain after.<p>&gt; Given that it&#x27;s implemented clojure and some other datalog engines are in clojure, can you say anything about antecedents?<p>Certainly. Datomic has had a huge influence on us. I first used it at a startup in 2014 (wit.ai) and enjoyed it.<p>Datalog and triples were critical for shipping Instant. The datalog syntax was simple enough that we could write a small query engine for the client. Triples were flexible enough to let us support relations. We wrote a bit about how helpful this was in this essay: <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase#another-approach">https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase#another-appro...</a><p>We studied just about all the codebases you mentioned as we built Instant. Fun fact, datascript actually supports our in-memory cache on the server:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;instantdb&#x2F;instant&#x2F;blob&#x2F;main&#x2F;server&#x2F;src&#x2F;instant&#x2F;reactive&#x2F;store.clj#L18">https:&#x2F;&#x2F;github.com&#x2F;instantdb&#x2F;instant&#x2F;blob&#x2F;main&#x2F;server&#x2F;src&#x2F;in...</a></div><br/><div id="41326550" class="c"><input type="checkbox" id="c-41326550" checked=""/><div class="controls bullet"><span class="by">nikodotio</span><span>|</span><a href="#41324080">root</a><span>|</span><a href="#41325168">parent</a><span>|</span><a href="#41324370">next</a><span>|</span><label class="collapse" for="c-41326550">[-]</label><label class="expand" for="c-41326550">[1 more]</label></div><br/><div class="children"><div class="content">Definitely waiting for the datalog query to be exposed before I’d use this.<p>If it was I would never use another database again.<p>I think the amount of people coming from datascript&#x2F;datomic who have to work in js and would prefer to use datalog instead of learning a new query language is big.</div><br/></div></div></div></div><div id="41324370" class="c"><input type="checkbox" id="c-41324370" checked=""/><div class="controls bullet"><span class="by">apavlo</span><span>|</span><a href="#41324080">parent</a><span>|</span><a href="#41325168">prev</a><span>|</span><a href="#41322813">next</a><span>|</span><label class="collapse" for="c-41324370">[-]</label><label class="expand" for="c-41324370">[2 more]</label></div><br/><div class="children"><div class="content">This is from me. I didn&#x27;t realize the connection to Lutris + Enhydra. It should be listed as a &quot;Acquired Company&quot; + &quot;Abandoned Project&quot;. Wikipedia also says that it lasted until 2001. Usage is different from development&#x2F;maintenance. I will update the entry for the old InstantDB and add an entry for this new InstantDB.<p>I think given that the original InstantDB died over two decades okay and is not widely known&#x2F;remembered, reusing the name is fine.</div><br/><div id="41325179" class="c"><input type="checkbox" id="c-41325179" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41324080">root</a><span>|</span><a href="#41324370">parent</a><span>|</span><a href="#41322813">next</a><span>|</span><label class="collapse" for="c-41325179">[-]</label><label class="expand" for="c-41325179">[1 more]</label></div><br/><div class="children"><div class="content">Andy, both my co-founder and I watched your Database course on Youtube. We learned a lot, and it&#x27;s awesome to see your name pop up :)</div><br/></div></div></div></div></div></div><div id="41322813" class="c"><input type="checkbox" id="c-41322813" checked=""/><div class="controls bullet"><span class="by">webdevladder</span><span>|</span><a href="#41324080">prev</a><span>|</span><a href="#41323263">next</a><span>|</span><label class="collapse" for="c-41322813">[-]</label><label class="expand" for="c-41322813">[3 more]</label></div><br/><div class="children"><div class="content">As a potential dev user this looks really intriguing, hitting all of the main points I was looking for. I build apps in this space, and the open source alternatives I&#x27;ve evaluated are lacking specifically in &quot;live queries&quot; or don&#x27;t use Postgres. The docs look great too.<p>In the docs[1]:<p>&gt; Instant uses a declarative syntax for querying. It&#x27;s like GraphQL without the configuration.<p>Would you be interested in elaborating more about this decision&#x2F;design?<p>[1] <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;docs&#x2F;instaql">https:&#x2F;&#x2F;www.instantdb.com&#x2F;docs&#x2F;instaql</a></div><br/><div id="41323266" class="c"><input type="checkbox" id="c-41323266" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41322813">parent</a><span>|</span><a href="#41323263">next</a><span>|</span><label class="collapse" for="c-41323266">[-]</label><label class="expand" for="c-41323266">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Would you be interested in elaborating more about this decision&#x2F;design?<p>Our initial intuition was to expose a language like SQL in the frontend.<p>We decided against this approach for 3 reasons:<p>1. Adding SQL would mean we would have to bundle SQLite, which would add a few hundred kilobytes to a bundle<p>2. SQL itself has a large spec, and would be difficult to make reactive<p>3. What&#x27;s worst: most of the time on the frontend you want to make tree-like queries (users -&gt; posts -&gt; comments). Writing queries that like that is relatively difficult in SQL [1]<p>We wanted a language that felt intuitive on the frontend. We ended up gravitating towards something like GraphQL. But then, why not use GraphQL itself? Mainly because it&#x27;s a separate syntax from javascript.<p>We wanted to use data structures instead of strings when writing apps. Datastructures let you manipulate and build new queries.<p>For example, if you are making a table with filters, you could manipulate the query to include the filters. [2]<p>So we thought: what if you could express GraphQL as javascript objects?<p>```
{ users: { posts: { comments: { } } }
```<p>This made frontend queries intuitive, and you can &#x27;generate&#x27; these objects programatically.<p>For more info about this, we wrote an essay about the initial design journey here: 
<a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase">https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase</a><p>[1] We wrote the language choice here: <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase#language">https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase#language</a><p>[2] We programatically generate queries for the Instant Explorer itself: <a href="https:&#x2F;&#x2F;github.com&#x2F;instantdb&#x2F;instant&#x2F;blob&#x2F;main&#x2F;client&#x2F;www&#x2F;lib&#x2F;hooks&#x2F;explorer.tsx#L15-L32">https:&#x2F;&#x2F;github.com&#x2F;instantdb&#x2F;instant&#x2F;blob&#x2F;main&#x2F;client&#x2F;www&#x2F;li...</a></div><br/><div id="41323389" class="c"><input type="checkbox" id="c-41323389" checked=""/><div class="controls bullet"><span class="by">LegNeato</span><span>|</span><a href="#41322813">root</a><span>|</span><a href="#41323266">parent</a><span>|</span><a href="#41323263">next</a><span>|</span><label class="collapse" for="c-41323389">[-]</label><label class="expand" for="c-41323389">[1 more]</label></div><br/><div class="children"><div class="content">The graphql schema &#x2F; string language is not required. For example, Juniper defines the graphql schema and queries using rust structs and impls: <a href="https:&#x2F;&#x2F;graphql-rust.github.io&#x2F;juniper&#x2F;types&#x2F;objects&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;graphql-rust.github.io&#x2F;juniper&#x2F;types&#x2F;objects&#x2F;index.h...</a> and the actual on-the-wire encoding and decoding format can be anything.</div><br/></div></div></div></div></div></div><div id="41323263" class="c"><input type="checkbox" id="c-41323263" checked=""/><div class="controls bullet"><span class="by">taw1285</span><span>|</span><a href="#41322813">prev</a><span>|</span><a href="#41326934">next</a><span>|</span><label class="collapse" for="c-41323263">[-]</label><label class="expand" for="c-41323263">[2 more]</label></div><br/><div class="children"><div class="content">This looks fantastic. I want to recommend this to my team. We are a small consulting team building apps for clients. I have a few questions to help me pitch my team and clients better:
1. the usual &quot;vendor locked in&quot;. Is there a recommended escape hatch?
2. any big clients on this yet or at what scale do you expect people to start rolling their in house product</div><br/><div id="41325702" class="c"><input type="checkbox" id="c-41325702" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323263">parent</a><span>|</span><a href="#41326934">next</a><span>|</span><label class="collapse" for="c-41325702">[-]</label><label class="expand" for="c-41325702">[1 more]</label></div><br/><div class="children"><div class="content">Thank you the kind words.<p>&gt; 1. the usual &quot;vendor locked in&quot;. Is there a recommended escape hatch?<p>Instant is completely open source. We have no private repos, so in the event that you want to run the system yourself, you can fork it.<p>&gt; 2. any big clients on this yet or at what scale do you expect people to start rolling their in house product<p>We have startups in production using us today. We would love to learn more about your use case. You can reach out to us directly at founders@instantdb.com</div><br/></div></div></div></div><div id="41326934" class="c"><input type="checkbox" id="c-41326934" checked=""/><div class="controls bullet"><span class="by">piyushtechsavy</span><span>|</span><a href="#41323263">prev</a><span>|</span><a href="#41322798">next</a><span>|</span><label class="collapse" for="c-41326934">[-]</label><label class="expand" for="c-41326934">[1 more]</label></div><br/><div class="children"><div class="content">This seems like a game changer for real time applications. We have been using Firebase mostly for it RTDB and websocket kind of implementation without actually maintaining websocket at the backend. This takes things a step ahead.</div><br/></div></div><div id="41322798" class="c"><input type="checkbox" id="c-41322798" checked=""/><div class="controls bullet"><span class="by">IanCal</span><span>|</span><a href="#41326934">prev</a><span>|</span><a href="#41323315">next</a><span>|</span><label class="collapse" for="c-41322798">[-]</label><label class="expand" for="c-41322798">[9 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve just used this to start a bouldering app, so far has been extremely simple, great work.<p>I&#x27;m not sure about how things grow from here in terms of larger aggregates and more complex queries though so am slightly worried I&#x27;m painting myself into a corner. Do you have any guides or pointers here? Or key areas people shouldn&#x27;t use your db?</div><br/><div id="41323877" class="c"><input type="checkbox" id="c-41323877" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41322798">parent</a><span>|</span><a href="#41322855">next</a><span>|</span><label class="collapse" for="c-41323877">[-]</label><label class="expand" for="c-41323877">[1 more]</label></div><br/><div class="children"><div class="content">Glad to hear the experience so far has been good!<p>&gt; larger aggregates and more complex queries<p>Currently Instant supports nested queries, pagination, IN, AND, and OR. We have an internal implementation for COUNT [1], but need to update permissions for aggregates.<p>We&#x27;re always hacking away on blocker features. If we can&#x27;t get to it in time and it blocks your app, you can reach to the admin SDK for an escape hatch [2]<p>[1] The &#x27;admin-only&#x27; count starts here: <a href="https:&#x2F;&#x2F;github.com&#x2F;jsventures&#x2F;instant&#x2F;blob&#x2F;main&#x2F;server&#x2F;src&#x2F;instant&#x2F;db&#x2F;instaql.clj#L76">https:&#x2F;&#x2F;github.com&#x2F;jsventures&#x2F;instant&#x2F;blob&#x2F;main&#x2F;server&#x2F;src&#x2F;i...</a><p>[2] <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;docs&#x2F;backend">https:&#x2F;&#x2F;www.instantdb.com&#x2F;docs&#x2F;backend</a></div><br/></div></div><div id="41322855" class="c"><input type="checkbox" id="c-41322855" checked=""/><div class="controls bullet"><span class="by">FetusP</span><span>|</span><a href="#41322798">parent</a><span>|</span><a href="#41323877">prev</a><span>|</span><a href="#41323315">next</a><span>|</span><label class="collapse" for="c-41322855">[-]</label><label class="expand" for="c-41322855">[7 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious what a bouldering app is? As in climbing, like a route checklist type thing?</div><br/><div id="41322960" class="c"><input type="checkbox" id="c-41322960" checked=""/><div class="controls bullet"><span class="by">IanCal</span><span>|</span><a href="#41322798">root</a><span>|</span><a href="#41322855">parent</a><span>|</span><a href="#41323315">next</a><span>|</span><label class="collapse" for="c-41322960">[-]</label><label class="expand" for="c-41322960">[6 more]</label></div><br/><div class="children"><div class="content">Yep. Which climbs have you attempted, at what grades.<p>My gym uses griptonite, but it&#x27;s so slow I feel like it&#x27;d be quicker overall to create my own app for logging things. I decided to use instantdb as a backend database and it&#x27;s working nicely so far.</div><br/><div id="41323732" class="c"><input type="checkbox" id="c-41323732" checked=""/><div class="controls bullet"><span class="by">gsala</span><span>|</span><a href="#41322798">root</a><span>|</span><a href="#41322960">parent</a><span>|</span><a href="#41324409">next</a><span>|</span><label class="collapse" for="c-41323732">[-]</label><label class="expand" for="c-41323732">[1 more]</label></div><br/><div class="children"><div class="content">My gym uses TopLogger. It&#x27;s not super bad, but it could use a nicer design. Are you making an app for indoor gyms or outdoor boulders? Or both? Sounds good with another alternative in the market.</div><br/></div></div><div id="41324409" class="c"><input type="checkbox" id="c-41324409" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#41322798">root</a><span>|</span><a href="#41322960">parent</a><span>|</span><a href="#41323732">prev</a><span>|</span><a href="#41323315">next</a><span>|</span><label class="collapse" for="c-41324409">[-]</label><label class="expand" for="c-41324409">[4 more]</label></div><br/><div class="children"><div class="content">Climber Dreamer here: Former RFID Sensor stuff.<p>I&#x27;d love to see a smart Hold that integrates with an app where the gym cann associate holds&#x2F;grips in a DB inventory - and pull them out and assign them to a boulder&#x2F;wall &amp; route. The smart holds have simple pressure sensors for knowing when they are gripped, and for how long. Advanced ones measure force&#x2F;weight.<p>Just walk in scan the boulder&#x27;s code to slurp in all the holds to the local table and then you have them all ping back to the app with every touch. and map your route and exactly telemetry applied using route. So it shows you the wall and the grips you hit as you went up and how much energy and time spend on each node.<p>Report climbing timings and accomplishemnets on the Gym leaderboard... have challenges - subscribe to a wall&#x2F;route&#x2F;buolder and set a threashold to show you when anyone beats your time etc etc<p>Strava for the actual climb. (The gym could then have a db of all the positions fastener locations in the facility, and then simply assign a hold to a given slot - each hold has a json of its Spec-Sheet for hold type, rating, syle&#x2F;whatever metrics climbing geeks geek out on, I mean get a grip folks)<p>Anyway - it would allow for the local climbing app to them maintain a db history of every route and grip and difficulty you&#x27;ve actually touched. Rate the hold-types, routes, wall, boulder - and have that realtime update across al clients subscribed to a wall or gym. A gym can post new routes and have your app subscribers just get the new table for that route and what grips and their profiles each have.)<p>Then (the not eco friendly version) is epoxy a BLE tag to a routes holds in the wild and you can have the app point at the climb and ping all the BLEs and learn  the route - and have ClimbGps - and it can run it locally with a dynamic table of the BLEs it can sense as checkpoints as you pass them (obviously only timing data could be saved unless you do RSSI&#x2F;something to get vertical and horizontal pathing by triangulating ...<p>(built these features in previous varying capacities for different things - but climbing would be fun to do it with as well.<p>I am sure there are already smart grips out there... but this rappelled into my thoughts like Tom Cruise as soon as I read your post.</div><br/><div id="41325449" class="c"><input type="checkbox" id="c-41325449" checked=""/><div class="controls bullet"><span class="by">daemonologist</span><span>|</span><a href="#41322798">root</a><span>|</span><a href="#41324409">parent</a><span>|</span><a href="#41325063">next</a><span>|</span><label class="collapse" for="c-41325449">[-]</label><label class="expand" for="c-41325449">[2 more]</label></div><br/><div class="children"><div class="content">That would be really cool, but also really expensive - gyms have thousands (tens of thousands for some) of holds and they&#x27;re usually cleaned by power washing and otherwise constantly abused.  Maybe a middle ground would be computer vision?  Not nearly as accurate or comprehensive of course, but a lot less hardware.  (Most gyms in my experience have comprehensive camera coverage already for insurance purposes so I don&#x27;t think there would be any additional privacy concerns).</div><br/><div id="41325577" class="c"><input type="checkbox" id="c-41325577" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#41322798">root</a><span>|</span><a href="#41325449">parent</a><span>|</span><a href="#41325063">next</a><span>|</span><label class="collapse" for="c-41325577">[-]</label><label class="expand" for="c-41325577">[1 more]</label></div><br/><div class="children"><div class="content">Make a Spline Web App with the routes drawn on the spline doo-dad:<p><a href="https:&#x2F;&#x2F;old.reddit.com&#x2F;r&#x2F;Spline3D&#x2F;" rel="nofollow">https:&#x2F;&#x2F;old.reddit.com&#x2F;r&#x2F;Spline3D&#x2F;</a><p>Can see a simple route design widget in spline that can be a nifty ux for a climbing thing that uses the app ID.<p>Can you clone an Instant AppID?<p>I know I am just thinking out loud - but its pretty easy to envision how to use these neato tools and services that have been cropping up recently... Its inspiring.</div><br/></div></div></div></div><div id="41325063" class="c"><input type="checkbox" id="c-41325063" checked=""/><div class="controls bullet"><span class="by">bigiain</span><span>|</span><a href="#41322798">root</a><span>|</span><a href="#41324409">parent</a><span>|</span><a href="#41325449">prev</a><span>|</span><a href="#41323315">next</a><span>|</span><label class="collapse" for="c-41325063">[-]</label><label class="expand" for="c-41325063">[1 more]</label></div><br/><div class="children"><div class="content">I am not a climber, but that sounds like a really fun project!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41323315" class="c"><input type="checkbox" id="c-41323315" checked=""/><div class="controls bullet"><span class="by">projektfu</span><span>|</span><a href="#41322798">prev</a><span>|</span><a href="#41322841">next</a><span>|</span><label class="collapse" for="c-41323315">[-]</label><label class="expand" for="c-41323315">[2 more]</label></div><br/><div class="children"><div class="content">It reminds me of the data half of Meteor, but it looks better thought-out and, obv., not based on Mongo.  Nice work.</div><br/><div id="41323451" class="c"><input type="checkbox" id="c-41323451" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41323315">parent</a><span>|</span><a href="#41322841">next</a><span>|</span><label class="collapse" for="c-41323451">[-]</label><label class="expand" for="c-41323451">[1 more]</label></div><br/><div class="children"><div class="content">Thank you. Meteor was definitely an inspiration.</div><br/></div></div></div></div><div id="41322841" class="c"><input type="checkbox" id="c-41322841" checked=""/><div class="controls bullet"><span class="by">remolacha</span><span>|</span><a href="#41323315">prev</a><span>|</span><a href="#41326192">next</a><span>|</span><label class="collapse" for="c-41322841">[-]</label><label class="expand" for="c-41322841">[2 more]</label></div><br/><div class="children"><div class="content">This is awesome. I know that a lot of people are looking for something like the Linear sync engine.<p>I appreciate that you&#x27;re thinking about relational data and about permissions. I&#x27;ve seen a bunch of sync engine projects that don&#x27;t have a good story for those things.<p>imo, the more that you can make the ORM feel like ActiveRecord, the better.</div><br/><div id="41325715" class="c"><input type="checkbox" id="c-41325715" checked=""/><div class="controls bullet"><span class="by">stopachka</span><span>|</span><a href="#41322841">parent</a><span>|</span><a href="#41326192">next</a><span>|</span><label class="collapse" for="c-41325715">[-]</label><label class="expand" for="c-41325715">[1 more]</label></div><br/><div class="children"><div class="content">Thank you. We admire ActiveRecord&#x27;s DSL. I especially like their `validation` helpers, simple error reporting, and the `before` &#x2F; `after` create hooks.</div><br/></div></div></div></div><div id="41324161" class="c"><input type="checkbox" id="c-41324161" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#41326192">prev</a><span>|</span><a href="#41326929">next</a><span>|</span><label class="collapse" for="c-41324161">[-]</label><label class="expand" for="c-41324161">[4 more]</label></div><br/><div class="children"><div class="content">Sounds conceptually similar to Zero: <a href="https:&#x2F;&#x2F;zerosync.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;zerosync.dev&#x2F;</a><p>I haven&#x27;t looked in detail yet — what are the main differences relative to Zero?</div><br/><div id="41324538" class="c"><input type="checkbox" id="c-41324538" checked=""/><div class="controls bullet"><span class="by">pbreeze</span><span>|</span><a href="#41324161">parent</a><span>|</span><a href="#41326929">next</a><span>|</span><label class="collapse" for="c-41324538">[-]</label><label class="expand" for="c-41324538">[3 more]</label></div><br/><div class="children"><div class="content">I think it would be difficult to compare at this point, as there aren&#x27;t many details about Zero outside of the blog on their landing page. I believe it&#x27;s very much in early (but active) development.<p>From that blog:
&gt;  We are working toward a source release in summer 2024 and an open beta EOY 2024.</div><br/><div id="41324672" class="c"><input type="checkbox" id="c-41324672" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#41324161">root</a><span>|</span><a href="#41324538">parent</a><span>|</span><a href="#41326929">next</a><span>|</span><label class="collapse" for="c-41324672">[-]</label><label class="expand" for="c-41324672">[2 more]</label></div><br/><div class="children"><div class="content">Makes sense. FWIW, there are some more details here: <a href="https:&#x2F;&#x2F;replicache.notion.site&#x2F;Introducing-Zero-8ce1b1f184aa4a9088a9f76e1b8db003" rel="nofollow">https:&#x2F;&#x2F;replicache.notion.site&#x2F;Introducing-Zero-8ce1b1f184aa...</a></div><br/><div id="41325108" class="c"><input type="checkbox" id="c-41325108" checked=""/><div class="controls bullet"><span class="by">pbreeze</span><span>|</span><a href="#41324161">root</a><span>|</span><a href="#41324672">parent</a><span>|</span><a href="#41326929">next</a><span>|</span><label class="collapse" for="c-41325108">[-]</label><label class="expand" for="c-41325108">[1 more]</label></div><br/><div class="children"><div class="content">Hadn&#x27;t seen this, thanks!</div><br/></div></div></div></div></div></div></div></div><div id="41326929" class="c"><input type="checkbox" id="c-41326929" checked=""/><div class="controls bullet"><span class="by">manx</span><span>|</span><a href="#41324161">prev</a><span>|</span><a href="#41326578">next</a><span>|</span><label class="collapse" for="c-41326929">[-]</label><label class="expand" for="c-41326929">[1 more]</label></div><br/><div class="children"><div class="content">Looks great! How is the migration story when schema changes are needed? How do you deal with old clients?</div><br/></div></div><div id="41326578" class="c"><input type="checkbox" id="c-41326578" checked=""/><div class="controls bullet"><span class="by">punnerud</span><span>|</span><a href="#41326929">prev</a><span>|</span><a href="#41324043">next</a><span>|</span><label class="collapse" for="c-41326578">[-]</label><label class="expand" for="c-41326578">[1 more]</label></div><br/><div class="children"><div class="content">Intro on X:
<a href="https:&#x2F;&#x2F;x.com&#x2F;stopachka&#x2F;status&#x2F;1826674372175900724?s=46&amp;t=mnfnjms0Jwgo35Iov0GH2w" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;stopachka&#x2F;status&#x2F;1826674372175900724?s=46&amp;t=mn...</a></div><br/></div></div><div id="41324043" class="c"><input type="checkbox" id="c-41324043" checked=""/><div class="controls bullet"><span class="by">koito17</span><span>|</span><a href="#41326578">prev</a><span>|</span><a href="#41322782">next</a><span>|</span><label class="collapse" for="c-41324043">[-]</label><label class="expand" for="c-41324043">[1 more]</label></div><br/><div class="children"><div class="content">The datalog syntax has me curious. It looks like a JavaScript &quot;port&quot; of Datomic&#x27;s Datalog syntax. Have you considered using other forms of Datalog that are seemingly more compatible with JavaScript? See <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Datalog?useskin=vector#Syntax" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Datalog?useskin=vector#Syntax</a><p>I wouldn&#x27;t mind using the Datalog syntax as-is since I have some experience using Clojure with Datomic, but it did surprise that someone would decide to use this syntax over a syntax used in other Datalog engines (and predating Datomic itself).</div><br/></div></div><div id="41322782" class="c"><input type="checkbox" id="c-41322782" checked=""/><div class="controls bullet"><span class="by">DandyDev</span><span>|</span><a href="#41324043">prev</a><span>|</span><a href="#41324197">next</a><span>|</span><label class="collapse" for="c-41322782">[-]</label><label class="expand" for="c-41322782">[3 more]</label></div><br/><div class="children"><div class="content">What isn’t modern about Firebase and what makes this modern in comparison?</div><br/><div id="41323552" class="c"><input type="checkbox" id="c-41323552" checked=""/><div class="controls bullet"><span class="by">nezaj</span><span>|</span><a href="#41322782">parent</a><span>|</span><a href="#41324197">next</a><span>|</span><label class="collapse" for="c-41323552">[-]</label><label class="expand" for="c-41323552">[2 more]</label></div><br/><div class="children"><div class="content">When Firebase was first built, using a document store was a great choice for building a local abstraction that enabled optimistic updates and offline mode. But  the lack of relations makes it a real schlep to change your data model when you start adding new features to your app. You end up hand-rolling joins or duplicating your data to avoid complete re-writes. [1]<p>With Instant, you get a relational Firebase.<p>[1] <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase#firebase">https:&#x2F;&#x2F;www.instantdb.com&#x2F;essays&#x2F;next_firebase#firebase</a></div><br/><div id="41324215" class="c"><input type="checkbox" id="c-41324215" checked=""/><div class="controls bullet"><span class="by">mnahkies</span><span>|</span><a href="#41322782">root</a><span>|</span><a href="#41323552">parent</a><span>|</span><a href="#41324197">next</a><span>|</span><label class="collapse" for="c-41324215">[-]</label><label class="expand" for="c-41324215">[1 more]</label></div><br/><div class="children"><div class="content">One of the first things I&#x27;ve found myself doing with the few firebase realtime database based projects I&#x27;ve made is some kind of abstraction to emulate joins.<p>I realise that this is probably a symptom of &quot;holding it wrong&quot; and not embracing denormalization, but it was always present and also horrifically inefficient w.r.t to firebases pricing due to the amplifying effect it had on reads - none of those projects would&#x27;ve been practical to take to market without reworking that significantly.<p>Really what I wanted was a relational database that also did the fun&#x2F;flashy real time updates without the heavy lifting. At face value it sounds like you&#x27;re offering exactly what I wanted so I look forward to giving it a try next time!</div><br/></div></div></div></div></div></div><div id="41324197" class="c"><input type="checkbox" id="c-41324197" checked=""/><div class="controls bullet"><span class="by">agambrahma</span><span>|</span><a href="#41322782">prev</a><span>|</span><a href="#41325619">next</a><span>|</span><label class="collapse" for="c-41324197">[-]</label><label class="expand" for="c-41324197">[3 more]</label></div><br/><div class="children"><div class="content">Interesting that this is Clojure :-)<p>Clojure + TS seems to be a good way to go, without being hung up on CLJS.</div><br/><div id="41324341" class="c"><input type="checkbox" id="c-41324341" checked=""/><div class="controls bullet"><span class="by">sesm</span><span>|</span><a href="#41324197">parent</a><span>|</span><a href="#41325619">next</a><span>|</span><label class="collapse" for="c-41324341">[-]</label><label class="expand" for="c-41324341">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m dreaming about a Next-like framework that will do React SSR in GraalVM JS engine but will do data fetching, routing and other stuff in Clojure.</div><br/><div id="41325853" class="c"><input type="checkbox" id="c-41325853" checked=""/><div class="controls bullet"><span class="by">obvi8</span><span>|</span><a href="#41324197">root</a><span>|</span><a href="#41324341">parent</a><span>|</span><a href="#41325619">next</a><span>|</span><label class="collapse" for="c-41325853">[-]</label><label class="expand" for="c-41325853">[1 more]</label></div><br/><div class="children"><div class="content">I recently started a project with C#&#x2F;.Net8 with Sveltekit using adapter-static, and it’s been pretty great so far.<p>Different tech, obvs, but similar spirit. I like the idea of starting with my own monolith with a clear path to breaking out the frontend in the future if we need to scale.</div><br/></div></div></div></div></div></div><div id="41325619" class="c"><input type="checkbox" id="c-41325619" checked=""/><div class="controls bullet"><span class="by">deepsun</span><span>|</span><a href="#41324197">prev</a><span>|</span><label class="collapse" for="c-41325619">[-]</label><label class="expand" for="c-41325619">[1 more]</label></div><br/><div class="children"><div class="content">&gt; ... we would need a schema. But it turns out triple stores don’t need one.<p>Data always needs a schema (unless it&#x27;s random bits aka max entropy). The question is just where it&#x27;s managed and enforced.</div><br/></div></div></div></div></div></div></div></body></html>