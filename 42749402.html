<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737277254133" as="style"/><link rel="stylesheet" href="styles.css?v=1737277254133"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://isd-project.github.io/isd/">Show HN: Interactive systemd – a better way to work with systemd units</a> <span class="domain">(<a href="https://isd-project.github.io">isd-project.github.io</a>)</span></div><div class="subtext"><span>kai-tub</span> | <span>149 comments</span></div><br/><div><div id="42749803" class="c"><input type="checkbox" id="c-42749803" checked=""/><div class="controls bullet"><span class="by">owyn</span><span>|</span><a href="#42749655">next</a><span>|</span><label class="collapse" for="c-42749803">[-]</label><label class="expand" for="c-42749803">[75 more]</label></div><br/><div class="children"><div class="content">This looks neat. I have to look up the very fiddly and unintuitive systemd commands all the time. service start? service.foo start? start foo.service? Oh right, sudo systemctl start service.foo<p>And the feedback is so bad. It should know everything in its own config dir and tell me how to do what I want to do. Was it enabled? I forget. How do I look at logs? Oh right journalctl. Also the layout of things with lots of symlinks and weird directories in places that annoy my 90&#x27;s linux sysadmin brain. Why am I looking at &#x2F;lib&#x2F;systemd&#x2F;system<p>I am annoyed by the redundant &quot;systemd&#x2F;system&quot; directory name every time I have to go there. At this point, just promote it to &#x2F;etc&#x2F;systemd and build a better CLI.<p>As a very occasional linux sysadmin just trying to make things work, the &quot;typing at a console&quot; systemd interfaces are not fun to work with. Maybe nobody should be doing that. In an enterprise, sure that&#x27;s different. I think interfaces should be human, and linux should still be fun.</div><br/><div id="42750770" class="c"><input type="checkbox" id="c-42750770" checked=""/><div class="controls bullet"><span class="by">pkkm</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750495">next</a><span>|</span><label class="collapse" for="c-42750770">[-]</label><label class="expand" for="c-42750770">[34 more]</label></div><br/><div class="children"><div class="content">&gt; I have to look up the very fiddly and unintuitive systemd commands all the time. service start? service.foo start? start foo.service? Oh right, sudo systemctl start service.foo<p>I don&#x27;t get this complaint. It&#x27;s the same order as almost every other command-line utility that has subcommands: &lt;command&gt; &lt;subcommand&gt; &lt;thing to operate on&gt;. To me, that kind of consistency is very intuitive.<p><pre><code>    systemctl stop my-service
    systemctl status my-service
    git add my-file
    git remote remove upstream
    apt install my-package
    docker run my-container
    adb push local-file remote-file</code></pre></div><br/><div id="42751341" class="c"><input type="checkbox" id="c-42751341" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42754905">next</a><span>|</span><label class="collapse" for="c-42751341">[-]</label><label class="expand" for="c-42751341">[2 more]</label></div><br/><div class="children"><div class="content">I feel the same way. The big part for me is that it tells us that owyn doesn&#x27;t use tab completion if they&#x27;re forgetting about the &quot;.service&quot; part. Sure, I don&#x27;t remember either, I don&#x27;t have to.<p>I&#x27;ll add the abstraction for anyone confused<p><pre><code>  program [command [subcommand]] [flags] [object]
  e.g.s
  systemctl status sshd.service
  systemctl enable --now sshd.service
  touch -c test.sh
  echo &#x27;Hello World&#x27;
  echo &quot;Hello ${USER}&quot;
  </code></pre>
Anything in brackets is optional and might not appear or be available. By command I mean a category of commands. Such as &#x27;pip install&#x27; vs &#x27;pip uninstall&#x27;, which are sub-programs inside the main program. But this can have layers such as &#x27;uv pip install&#x27;.  Often flags can be used in any order because you&#x27;ll just loop over all the arguments but this is still the standard order.<p>There&#x27;s also the two actor pattern<p><pre><code>  program [command [subcommand]] [flags] source destination
  e.g.s
  cp &#x2F;foo&#x2F;bar&#x2F;baz.txt &quot;${HOME%&#x2F;}&#x2F;&quot;
  scp -i &quot;${HOME}&#x2F;.ssh&#x2F;foo&quot; ${HOME}&#x2F;to_upload.sh user@remote:~&#x2F;
  dd if=&#x2F;dev&#x2F;urandom of=&#x2F;dev&#x2F;diskToDestroy
  rsync &#x2F;mnt&#x2F;hdd1&#x2F; &#x2F;mnt&#x2F;hdd2&#x2F;</code></pre></div><br/><div id="42752586" class="c"><input type="checkbox" id="c-42752586" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751341">parent</a><span>|</span><a href="#42754905">next</a><span>|</span><label class="collapse" for="c-42752586">[-]</label><label class="expand" for="c-42752586">[1 more]</label></div><br/><div class="children"><div class="content">Also the `.service` part is optional anyway for most commands (including the start, stop, restart etc. ones they use in their examples). Only commands that can operate on services and other non-service units require it.</div><br/></div></div></div></div><div id="42754905" class="c"><input type="checkbox" id="c-42754905" checked=""/><div class="controls bullet"><span class="by">gymbeaux</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42751341">prev</a><span>|</span><a href="#42753085">next</a><span>|</span><label class="collapse" for="c-42754905">[-]</label><label class="expand" for="c-42754905">[1 more]</label></div><br/><div class="children"><div class="content">I on the other hand DO get this complaint. It’s less about the “word order” and more remembering the words to type. As a software engineer I have to google stuff all the time. I haven’t touched C#’s PLINQ in five years, I doubt I could do it from memory. Likewise, I can count on one hand the number of times I will set up a systemd service in a given year.<p>Many (most?) of us are all over the place, expected to “wear many hats” and aren’t in a single IDE or language all day every day. Certainly if I were a “Linux admin” I would have systemd pretty committed to memory. Anyone else probably wouldn’t.</div><br/></div></div><div id="42753085" class="c"><input type="checkbox" id="c-42753085" checked=""/><div class="controls bullet"><span class="by">Ayesh</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42754905">prev</a><span>|</span><a href="#42751505">next</a><span>|</span><label class="collapse" for="c-42753085">[-]</label><label class="expand" for="c-42753085">[3 more]</label></div><br/><div class="children"><div class="content">I think the previous post mentions the `service` command, which has `service foo start` pattern.<p>I&#x27;m used to `service` command, so I have muscle memory  which `systemd` breaks. The way `systemd` commands are laid out is better, it just messes with `service` command muscle memory.</div><br/><div id="42753281" class="c"><input type="checkbox" id="c-42753281" checked=""/><div class="controls bullet"><span class="by">Mayzie</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42753085">parent</a><span>|</span><a href="#42751505">next</a><span>|</span><label class="collapse" for="c-42753281">[-]</label><label class="expand" for="c-42753281">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been a decade at this point since the last big distro (and surrounding drama), Debian and Ubuntu following shortly after, moved to systemd.</div><br/><div id="42754718" class="c"><input type="checkbox" id="c-42754718" checked=""/><div class="controls bullet"><span class="by">kijin</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42753281">parent</a><span>|</span><a href="#42751505">next</a><span>|</span><label class="collapse" for="c-42754718">[-]</label><label class="expand" for="c-42754718">[1 more]</label></div><br/><div class="children"><div class="content">Many distros still provide the `service` command, and don&#x27;t print any warnings when you use it. At best, you might get an informational message that the equivalent systemd command is being called. There is no recommendation to call the systemd command directly, or any sign of the `service` command being deprecated any time soon. As a result, a lot of people are probably still relying on their muscle memory for the `service` command.</div><br/></div></div></div></div></div></div><div id="42751505" class="c"><input type="checkbox" id="c-42751505" checked=""/><div class="controls bullet"><span class="by">IgorPartola</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42753085">prev</a><span>|</span><a href="#42750848">next</a><span>|</span><label class="collapse" for="c-42751505">[-]</label><label class="expand" for="c-42751505">[16 more]</label></div><br/><div class="children"><div class="content">When it comes to starting and stopping services I want the verb to go last. Way easier to press up, backspace backspace backspace o p to change <i>service ssh start</i> to <i>service ssh top</i>. This is a frequent pattern I follow as I start&#x2F;stop&#x2F;restart&#x2F;reload. Having to go back at least one word adds keystrokes that aren’t necessary.</div><br/><div id="42752114" class="c"><input type="checkbox" id="c-42752114" checked=""/><div class="controls bullet"><span class="by">johnchristopher</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751505">parent</a><span>|</span><a href="#42751590">next</a><span>|</span><label class="collapse" for="c-42752114">[-]</label><label class="expand" for="c-42752114">[1 more]</label></div><br/><div class="children"><div class="content">Do you use your space bar to handle heating ?</div><br/></div></div><div id="42751590" class="c"><input type="checkbox" id="c-42751590" checked=""/><div class="controls bullet"><span class="by">brontitall</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751505">parent</a><span>|</span><a href="#42752114">prev</a><span>|</span><a href="#42751961">next</a><span>|</span><label class="collapse" for="c-42751590">[-]</label><label class="expand" for="c-42751590">[7 more]</label></div><br/><div class="children"><div class="content">Doing it the way it does allows specifying multiple services.<p>systemctl status myapp mydb</div><br/><div id="42752625" class="c"><input type="checkbox" id="c-42752625" checked=""/><div class="controls bullet"><span class="by">IgorPartola</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751590">parent</a><span>|</span><a href="#42751946">next</a><span>|</span><label class="collapse" for="c-42752625">[-]</label><label class="expand" for="c-42752625">[3 more]</label></div><br/><div class="children"><div class="content">I would rather do that as two commands than to scroll to see the output of each.</div><br/><div id="42752922" class="c"><input type="checkbox" id="c-42752922" checked=""/><div class="controls bullet"><span class="by">okanat</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42752625">parent</a><span>|</span><a href="#42751946">next</a><span>|</span><label class="collapse" for="c-42752922">[-]</label><label class="expand" for="c-42752922">[2 more]</label></div><br/><div class="children"><div class="content">There is no output for success.</div><br/><div id="42753161" class="c"><input type="checkbox" id="c-42753161" checked=""/><div class="controls bullet"><span class="by">BikiniPrince</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42752922">parent</a><span>|</span><a href="#42751946">next</a><span>|</span><label class="collapse" for="c-42753161">[-]</label><label class="expand" for="c-42753161">[1 more]</label></div><br/><div class="children"><div class="content">Only failure is rewarded!</div><br/></div></div></div></div></div></div><div id="42751946" class="c"><input type="checkbox" id="c-42751946" checked=""/><div class="controls bullet"><span class="by">autoexec</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751590">parent</a><span>|</span><a href="#42752625">prev</a><span>|</span><a href="#42751961">next</a><span>|</span><label class="collapse" for="c-42751946">[-]</label><label class="expand" for="c-42751946">[3 more]</label></div><br/><div class="children"><div class="content">Why not allow for both and accept the option at any location?<p>Something like:<p>systemctl --stop myapp mydb<p>systemctl myapp mydb --stop</div><br/><div id="42753104" class="c"><input type="checkbox" id="c-42753104" checked=""/><div class="controls bullet"><span class="by">Ayesh</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751946">parent</a><span>|</span><a href="#42752050">next</a><span>|</span><label class="collapse" for="c-42753104">[-]</label><label class="expand" for="c-42753104">[1 more]</label></div><br/><div class="children"><div class="content">All `--` strings should be &quot;options&quot;. Starting&#x2F;stopping a service is not an option, it&#x27;s a command. I don&#x27;t enjoy `pacman` for this very reason.</div><br/></div></div><div id="42752050" class="c"><input type="checkbox" id="c-42752050" checked=""/><div class="controls bullet"><span class="by">bronson</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751946">parent</a><span>|</span><a href="#42753104">prev</a><span>|</span><a href="#42751961">next</a><span>|</span><label class="collapse" for="c-42752050">[-]</label><label class="expand" for="c-42752050">[1 more]</label></div><br/><div class="children"><div class="content">unnecessary flexibility brings unnecessary bugs</div><br/></div></div></div></div></div></div><div id="42751961" class="c"><input type="checkbox" id="c-42751961" checked=""/><div class="controls bullet"><span class="by">kjellsbells</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751505">parent</a><span>|</span><a href="#42751590">prev</a><span>|</span><a href="#42751777">next</a><span>|</span><label class="collapse" for="c-42751961">[-]</label><label class="expand" for="c-42751961">[3 more]</label></div><br/><div class="children"><div class="content">I agree, but here&#x27;s a handy Bashism:<p>^art^op<p>Converts the &quot;start&quot; in &quot;foo start bar&quot; to &quot;stop&quot;, ie runs &quot;foo stop bar&quot;. Append :p to do the substitution but print the command instead of running it.</div><br/><div id="42752628" class="c"><input type="checkbox" id="c-42752628" checked=""/><div class="controls bullet"><span class="by">IgorPartola</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751961">parent</a><span>|</span><a href="#42751777">next</a><span>|</span><label class="collapse" for="c-42752628">[-]</label><label class="expand" for="c-42752628">[2 more]</label></div><br/><div class="children"><div class="content">Learn something new every day. What is the ^ representing in this case?</div><br/><div id="42753168" class="c"><input type="checkbox" id="c-42753168" checked=""/><div class="controls bullet"><span class="by">kjellsbells</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42752628">parent</a><span>|</span><a href="#42751777">next</a><span>|</span><label class="collapse" for="c-42753168">[-]</label><label class="expand" for="c-42753168">[1 more]</label></div><br/><div class="children"><div class="content">Caret is a word designator in bash&#x27;s history scheme. Here it acts as a way to mark the thing with the thing being replaced. There&#x27;s a more detailed explanation in [1] and a quick read in [2]. Essentially bash let&#x27;s you do manipulation and re-execution of commands from your history and one of the manipulations is via word substitution.<p>[1] <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;Word-Designators.html" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;Word-Desi...</a><p>[2] <a href="https:&#x2F;&#x2F;www.johndcook.com&#x2F;blog&#x2F;2022&#x2F;10&#x2F;21&#x2F;shell-replace-word&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.johndcook.com&#x2F;blog&#x2F;2022&#x2F;10&#x2F;21&#x2F;shell-replace-word...</a></div><br/></div></div></div></div></div></div><div id="42751777" class="c"><input type="checkbox" id="c-42751777" checked=""/><div class="controls bullet"><span class="by">gf000</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751505">parent</a><span>|</span><a href="#42751961">prev</a><span>|</span><a href="#42752091">next</a><span>|</span><label class="collapse" for="c-42751777">[-]</label><label class="expand" for="c-42751777">[2 more]</label></div><br/><div class="children"><div class="content">Press alt+B twice?</div><br/><div id="42751817" class="c"><input type="checkbox" id="c-42751817" checked=""/><div class="controls bullet"><span class="by">smallmancontrov</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751777">parent</a><span>|</span><a href="#42752091">next</a><span>|</span><label class="collapse" for="c-42751817">[-]</label><label class="expand" for="c-42751817">[1 more]</label></div><br/><div class="children"><div class="content">Alt + Bikeshed?<p>(Kidding aside, quick reminder that on Mac you have to enable Settings&gt;Profiles&gt;Keyboard&gt;Use Option as Meta key, or else Alt doesn&#x27;t work)</div><br/></div></div></div></div><div id="42752091" class="c"><input type="checkbox" id="c-42752091" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751505">parent</a><span>|</span><a href="#42751777">prev</a><span>|</span><a href="#42750848">next</a><span>|</span><label class="collapse" for="c-42752091">[-]</label><label class="expand" for="c-42752091">[2 more]</label></div><br/><div class="children"><div class="content">It actually should be possible to switch them around.  No-ones going to call their service &#x27;stop&#x27; or &#x27;service&#x27; right?</div><br/><div id="42753108" class="c"><input type="checkbox" id="c-42753108" checked=""/><div class="controls bullet"><span class="by">Ayesh</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42752091">parent</a><span>|</span><a href="#42750848">next</a><span>|</span><label class="collapse" for="c-42753108">[-]</label><label class="expand" for="c-42753108">[1 more]</label></div><br/><div class="children"><div class="content">Someone should create a set of systemd units that show something funny when entered, like how `sl` does for `ls`.</div><br/></div></div></div></div></div></div><div id="42750848" class="c"><input type="checkbox" id="c-42750848" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42751505">prev</a><span>|</span><a href="#42751198">next</a><span>|</span><label class="collapse" for="c-42750848">[-]</label><label class="expand" for="c-42750848">[5 more]</label></div><br/><div class="children"><div class="content">For me:<p>* &#x2F;etc&#x2F;init.d&#x2F;my-service stop<p>and Ubuntu’s:<p>* service my-service stop<p>both lurk in my brain.</div><br/><div id="42751284" class="c"><input type="checkbox" id="c-42751284" checked=""/><div class="controls bullet"><span class="by">pkkm</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750848">parent</a><span>|</span><a href="#42751198">next</a><span>|</span><label class="collapse" for="c-42751284">[-]</label><label class="expand" for="c-42751284">[4 more]</label></div><br/><div class="children"><div class="content">Sure, it&#x27;s different from the old way, but I don&#x27;t think &quot;unintuitive&quot; is the right word for that. systemd forced people to change their habits so that it could be more intuitive. Of course, people are going to disagree about whether it was worth it - it&#x27;s the age-old question about breaking backwards compatibility for the sake of minor improvement. Personally, I got used to it pretty quickly and I like it more than the old commands now.</div><br/><div id="42752163" class="c"><input type="checkbox" id="c-42752163" checked=""/><div class="controls bullet"><span class="by">ndom91</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751284">parent</a><span>|</span><a href="#42751462">next</a><span>|</span><label class="collapse" for="c-42752163">[-]</label><label class="expand" for="c-42752163">[1 more]</label></div><br/><div class="children"><div class="content">The way I remember this is that the old way didn&#x27;t allow for applying the verb to multiple units. Now you can &quot;restart&quot; multiple units, i.e. `systemctl restart nginx webapp`, etc.</div><br/></div></div><div id="42751462" class="c"><input type="checkbox" id="c-42751462" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751284">parent</a><span>|</span><a href="#42752163">prev</a><span>|</span><a href="#42751330">next</a><span>|</span><label class="collapse" for="c-42751462">[-]</label><label class="expand" for="c-42751462">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I gave up resisting and I’m rolling with it. Ok, fine, this is the way now.<p>And yet my fingers still want to type it the other way.</div><br/></div></div><div id="42751330" class="c"><input type="checkbox" id="c-42751330" checked=""/><div class="controls bullet"><span class="by">bbarnett</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751284">parent</a><span>|</span><a href="#42751462">prev</a><span>|</span><a href="#42751198">next</a><span>|</span><label class="collapse" for="c-42751330">[-]</label><label class="expand" for="c-42751330">[1 more]</label></div><br/><div class="children"><div class="content">Yet, the &quot;ease&quot; of use is a joke.  Every try to stop and start a service at different points?  At points you choose?  Have fun!<p>Ah well, it&#x27;s all been said before.</div><br/></div></div></div></div></div></div><div id="42751198" class="c"><input type="checkbox" id="c-42751198" checked=""/><div class="controls bullet"><span class="by">ripitout</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42750848">prev</a><span>|</span><a href="#42752282">next</a><span>|</span><label class="collapse" for="c-42751198">[-]</label><label class="expand" for="c-42751198">[1 more]</label></div><br/><div class="children"><div class="content">Plus, you could always write a quick shell script to swap the arguments if it detects this specific failure. Inability to remember or learn which commands expect which arguments is, at some point, not the responsibility of the software to fix. Unfortunately, this field does necessitate <i>some</i> amount of memorization and ability to problem-solve.</div><br/></div></div><div id="42752282" class="c"><input type="checkbox" id="c-42752282" checked=""/><div class="controls bullet"><span class="by">OlympusMonds</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42751198">prev</a><span>|</span><a href="#42751753">next</a><span>|</span><label class="collapse" for="c-42752282">[-]</label><label class="expand" for="c-42752282">[1 more]</label></div><br/><div class="children"><div class="content">If I had to guess it&#x27;s because of the &#x27;service&#x27; command, which goes &#x27;service foo start&#x27;.<p>It took me ages to unlearn that pattern for using systemctl, even though as you say: it&#x27;s far more consistent</div><br/></div></div><div id="42751753" class="c"><input type="checkbox" id="c-42751753" checked=""/><div class="controls bullet"><span class="by">frizlab</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750770">parent</a><span>|</span><a href="#42752282">prev</a><span>|</span><a href="#42753563">next</a><span>|</span><label class="collapse" for="c-42751753">[-]</label><label class="expand" for="c-42751753">[3 more]</label></div><br/><div class="children"><div class="content">It’s because service was the other way around, I’m sure.</div><br/><div id="42751779" class="c"><input type="checkbox" id="c-42751779" checked=""/><div class="controls bullet"><span class="by">DHowett</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751753">parent</a><span>|</span><a href="#42753563">next</a><span>|</span><label class="collapse" for="c-42751779">[-]</label><label class="expand" for="c-42751779">[2 more]</label></div><br/><div class="children"><div class="content">systemd services are named &quot;foo.service&quot;, and you do not need to specify the &quot;.service&quot; in almost any case.</div><br/><div id="42751837" class="c"><input type="checkbox" id="c-42751837" checked=""/><div class="controls bullet"><span class="by">tremon</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751779">parent</a><span>|</span><a href="#42753563">next</a><span>|</span><label class="collapse" for="c-42751837">[-]</label><label class="expand" for="c-42751837">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;re referring to Debian&#x27;s service(8) command.<p><pre><code>  NAME
       service - run a System V init script
  SYNOPSIS
       service SCRIPT COMMAND [OPTIONS]
</code></pre>
(the manpage wasn&#x27;t updated, but the same command also supports systemd services nowadays)</div><br/></div></div></div></div></div></div></div></div><div id="42750495" class="c"><input type="checkbox" id="c-42750495" checked=""/><div class="controls bullet"><span class="by">zamadatix</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750770">prev</a><span>|</span><a href="#42750293">next</a><span>|</span><label class="collapse" for="c-42750495">[-]</label><label class="expand" for="c-42750495">[18 more]</label></div><br/><div class="children"><div class="content">My biggest annoyance is &quot;systemctl status&quot; gives you just enough of the service&#x27;s log to make the output take up most of the terminal each time you run it but never enough of the service&#x27;s log to get a useful picture of what&#x27;s actually happened with the service lately.<p>Not to mention unless the problem with the service completely prevented it from running (it advises some commands to run in that case) you&#x27;re supposed to just always remember &quot;journalctl -xeu $SERVICE&quot; was the incantation, less you want to go look up the flags again or manually parse the entire &quot;journalctl&quot; output.<p>Overall I generally like systemd though. The syntax can just be a burden sometimes.</div><br/><div id="42751100" class="c"><input type="checkbox" id="c-42751100" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750495">parent</a><span>|</span><a href="#42750527">next</a><span>|</span><label class="collapse" for="c-42751100">[-]</label><label class="expand" for="c-42751100">[10 more]</label></div><br/><div class="children"><div class="content">it&#x27;s the same mentality that brought us the git design - the easiest, least typing options are rarely, if ever the thing you want to do.<p>Instead, these invocations give cryptic messages, throw errors, or sometimes, even break things.<p>The most common and helpful things are hidden deep behind multiple flags and command line arguments in manuals that read like dictionaries more than guides.<p>I&#x27;m always at a complete loss as to how such decisions are made. For instance, &quot;git branch -vv&quot; is the useful output you would like to see, every time, that should be &quot;git branch&quot;. Why not make the current output, &quot;git branch -qq&quot;? Is a humane interface too much to ask for? Apparently...<p>I know people defend this stuff, but as a senior engineer in programming pits for 30 years, they&#x27;re wrong. Needless mistakes and confusions are the norm. We can do better.<p>We need to stop conflating elitism with fucked up design.</div><br/><div id="42751550" class="c"><input type="checkbox" id="c-42751550" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751100">parent</a><span>|</span><a href="#42755044">prev</a><span>|</span><a href="#42750527">next</a><span>|</span><label class="collapse" for="c-42751550">[-]</label><label class="expand" for="c-42751550">[8 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; Why not make the current output, &quot;git branch -qq&quot;? Is a humane interface too much to ask for? Apparently...
</code></pre>
Yes, it is too much.<p>You have the wrong mentality, and I hope this can help make your life easier. Programs are made so that the simplest option is the base option. This is because there is a high expectation that things will be scripted AND understanding that there is a wide breadth of user preference. There&#x27;s an important rule<p><pre><code>  DON&#x27;T TRY TO MAKE A ONE SIZE FITS ALL PROGRAM
</code></pre>
Customization is at the root of everything. We have aliases that solve most of the problems and small functions for everything else. You default to an non-noisy output, showing only __essentials__ and nothing more unless asked. Similarly, you do no filtering other than hidden files. This way, everyone can get what they want. Btw, this is why so many people are upset with default options on things like fdfind and ripgrep.<p>For your problem with git, there are 2 solutions you have.<p><pre><code>  # alias git branch using git
  git config --global alias.branch &#x27;branch -vv&#x27;

  # write a simple function and add to .bashrc or .zshrc or .*rc
  git() {
      case &quot;$1&quot; in
          branch)
              shift
              command git branch -vv &quot;$@&quot;
              ;;
          *)
              command git &quot;$@&quot;
              ;;
      esac
  }

  &gt; We need to stop conflating elitism with fucked up design.
</code></pre>
The design isn&#x27;t fucked up, it is that you don&#x27;t understand the model. This is okay. You aren&#x27;t going to learn it unless you read docs or books on linux. If you learn the normal way, by usage, then it is really confusing at first. But there is a method to the madness. Things will start making more sense if you understand the reason for the design choices. (In a sibling comment I wrote the abstraction to command patterns that makes the gp&#x27;s confusion odd. Because systemd follows the standard)<p>Side note: if you try to design something that works for everyone or works for the average person, you end up designing something that is BAD for most people. This is because people&#x27;s preference is not uniformly distributed, meaning the average person is not representative of any person in the distribution. This is because anything that is normally distributed has its density along the shell while a uniform distribution has a uniform density all throughout it.</div><br/><div id="42752482" class="c"><input type="checkbox" id="c-42752482" checked=""/><div class="controls bullet"><span class="by">LinXitoW</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751550">parent</a><span>|</span><a href="#42751722">next</a><span>|</span><label class="collapse" for="c-42752482">[-]</label><label class="expand" for="c-42752482">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve heard this reasoning multiple times, but that doesn&#x27;t make it right. Like you said, you ARE presuming something: That scripting and a (useless) base case are the most common usage.<p>How many people script Git? More importantly, how often do you change that script? Rarely, and rarely. That means it&#x27;s FAR FAR less work for the scripter to look up the weird incantations to remove the &quot;human&quot; parts (like a quiet flag).<p>Conversely, the human is far more likely to write git commands impromptu, and I dare say, this is the FAR FAR more common use case.<p>That means Git (and a lot of these kinds of commands) optimize for the RARE choice that happens infrequently over the common case that happens often. That&#x27;s horrible design.<p>TL;DR: Just because there&#x27;s a consistent design philosophy behind obtuse linux commands does not make a good, helpful, useful, modern, or simple philosophy. If a library author wrote code this way, we&#x27;d all realize how horrible that design is.</div><br/><div id="42754683" class="c"><input type="checkbox" id="c-42754683" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42752482">parent</a><span>|</span><a href="#42751722">next</a><span>|</span><label class="collapse" for="c-42754683">[-]</label><label class="expand" for="c-42754683">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; That scripting and a (useless) base case are the most common usage.
</code></pre>
You&#x27;re thinking as a user. I&#x27;m sorry, but the vast majority of linux systems are still servers and embedded systems.<p>Here&#x27;s two versions of the Unix Philosophy<p><pre><code>    - Write programs that do one thing and do it well.
    - Write programs to work together.
    - Write programs to handle text streams, because that is a universal interface.

    - Make it easy to write, test, and run programs.
    - Interactive use instead of batch processing.
    - Economy and elegance of design due to size constraints (&quot;salvation through suffering&quot;).
    - Self-supporting system: all Unix software is maintained under Unix.
</code></pre>
Yes, scripting is a common use case (I use git in scripts! I use git in programs. You probably do too, even if you don&#x27;t know it). Piping is a common use case. And I&#x27;m not sure what we&#x27;re talking about that is &quot;useless&quot;. I&#x27;ve yet to run into a command where the default is useless. Even though I have `alias grep=&#x27;grep --color=always --no-messages --binary-files=without-match&#x27;` I still frequently run `\grep`.<p>But we&#x27;re also talking about programs that are DECADES old. git will turn 20 this year. You&#x27;re going to be breaking a lot of stuff if you change it now.<p>And look, you don&#x27;t have to agree, that&#x27;s fine. But I&#x27;m trying to help you get into a mindset so that this doesn&#x27;t look like a bunch of gobbledegook. You call these weird incantations. I get it. But if you get this model and get why things are the way they are, then those incantations become a lot less weird and a lot easier to remember. Because frankly, you&#x27;ll have to remember far less. And either way, it&#x27;s not like you&#x27;re going to get linux changed. If you don&#x27;t use it, great, move on. But if you do, then I&#x27;m trying to help, because if you can&#x27;t change it you got to figure out the way.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_philosophy" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_philosophy</a></div><br/></div></div></div></div><div id="42751722" class="c"><input type="checkbox" id="c-42751722" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751550">parent</a><span>|</span><a href="#42752482">prev</a><span>|</span><a href="#42751651">next</a><span>|</span><label class="collapse" for="c-42751722">[-]</label><label class="expand" for="c-42751722">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;re fundamentally misunderstanding things.<p>If every person has the same point of confusion than they are not the problem, it&#x27;s the thing they&#x27;re confused by.<p>There&#x27;s better ways to do things and calling people naive for suggesting the obvious is the problem.<p>And about your side note: no. For example, when people checkout a branch, they want to track the remote branch 99.9% of the time. It should be the default.<p>The default journalctl should show where things have failed, that&#x27;s why people are invoking it.<p>Also there&#x27;s plenty of counterexamples that do these things.  &quot;ping host&quot; genuinely pings the host. &quot;ssh host&quot; genuinely ssh&#x27;s into the host.<p>You don&#x27;t need to specify say, the encryption algorithm, that you want a shell, use say, &quot;--resolve=dns&quot; to specify the hostname resolution... It has sensible defaults that do what most people intend.<p>Under the model you advocate for &quot;ssh host&quot; would simply open up a random socket connection and then you&#x27;d have to manually attach a  virtual terminal to it and request the invocation of shell separately, stacking each piece on top of the other, before you log in.<p>This design could be defended in the same way: Some people do port mapping, tunneling, SOCKS proxies, there&#x27;s too many use cases! How can we assume the user wants a shell? Answer: because they do.<p>Most things are reasonable like certbot, apt, tune2fs, mkfs, awk, cut, paste, grep, sort, so many reasonable things. Even emacs is reasonable.<p>But systemd and git are not and the users are not the problems. Choices were made to be hostile to usability and they continue to be defended by being hostile to usability. Things like lex and yacc are inherently complicated and there&#x27;s nothing to do there. Other things are intentionally complicated. Those can be fixed.</div><br/><div id="42754572" class="c"><input type="checkbox" id="c-42754572" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751722">parent</a><span>|</span><a href="#42751651">next</a><span>|</span><label class="collapse" for="c-42754572">[-]</label><label class="expand" for="c-42754572">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; The default journalctl should show where things have failed
</code></pre>
How? What do you filter for? Emergency? Critical? Error? Alert? (see `dmesg -l`). What&#x27;s the default? Do you do since boot? Since a certain time? Since restart?<p>FWIW, I invoke it all the time for other reasons. I am legitimately checking the status. Is it online? Do I have it enabled? What&#x27;s the PID? Where&#x27;s the file (though I can run `sudo systemctl edit foo.service`)? What&#x27;s the memory usage? When did it start? And so on. The tail of the log are useful but not the point of status.<p>If I&#x27;m looking to debug a service I look at the journal instead. I hope this helps<p><pre><code>  # Show 10 most recent logs (you don&#x27;t know what service to debug)
  journalctl -r -n 10
  # Show recent logs for a known service (can tab complete)
  journalctl -r -n 10 --unit foo.service
  # Some useful flags
  -S, -U
    Since and until. Time filtering including keywords {now, yesterday, today, tomorrow}
  -b
    Since boot. You can even do since a specific boot! Or even `--boot=-1` for the last 2 boots
  -p, --priority
    You can use the numbers 0-7 representing {emerg,alert,crit,err,warning,notice,info,debug} respectively
  -g, --grep
    No comment needed 
  -f, --follow
    This is the tool while debugging since it&#x27;ll update.
  -e, --pager-end
    Start at the end of the pager 

  &gt; that&#x27;s why people are invoking it.
</code></pre>
That&#x27;s why __you&#x27;re__ using it, but don&#x27;t assume that your usecase is the general. Remember, linux has a large breadth in types of users. But their biggest market is still servers and embedded systems. There&#x27;s far more of those than PC users.<p><pre><code>  &gt; Choices were made to be hostile to usability and they continue to be defended by being hostile to usability.
</code></pre>
Idk, when systemd became the main thing I hated it too. But mostly because it was different and I didn&#x27;t know how to use it. But then I learned and you know what? I agreed. This took awhile though and I had to see the problems they are solving. Otherwise it looks really bloaty and confusing. Like why have things like nspawn? Why use systemd jobs instead of using cron? Why use systemd-homed instead of useradd?<p>Well a big part of it is security and flexibility.<p>I write systemd services now instead of cron jobs. With a cron job I can&#x27;t make private tmps[0]. Cron won&#x27;t run a job if the computer is off during the job time. Cron can&#x27;t stagger services. Cron can&#x27;t wait for other services first. Cron can&#x27;t be given limited CPU, memory, or other resource limitations.<p>Nspawn exists to make things highly portable. Chroot on steroids is used for a reason. Being able to containerize things, placing specific capabilities and all that. This is all part of a systemd job anyways. It really makes it a lot easier to give a job the minimum privileges. So often nspawn is a better fit than things like docker.<p>Same goes for homed. You can do things like setting timezones unique to users. But there&#x27;s so much more like how it can better handle encryption. And you can do really cool things like move your home directory from one machine to another. This might seem like a non-issue to most people but it isn&#x27;t. That whole paradigm where your keyboard is just an interface to a machine (i.e. a terminal, and I don&#x27;t mean the cli. There&#x27;s a reason that&#x27;s called a terminal &quot;emulator&quot;). This is a really useful thing when you work on servers.<p>Look, there&#x27;s a reason the distros switched over. It&#x27;s not collective madness.<p>[0] <a href="https:&#x2F;&#x2F;www.redhat.com&#x2F;en&#x2F;blog&#x2F;new-red-hat-enterprise-linux-7-security-feature-privatetmp" rel="nofollow">https:&#x2F;&#x2F;www.redhat.com&#x2F;en&#x2F;blog&#x2F;new-red-hat-enterprise-linux-...</a><p><a href="https:&#x2F;&#x2F;systemd.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;systemd.io&#x2F;</a></div><br/></div></div></div></div><div id="42751651" class="c"><input type="checkbox" id="c-42751651" checked=""/><div class="controls bullet"><span class="by">nativeit</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751550">parent</a><span>|</span><a href="#42751722">prev</a><span>|</span><a href="#42750527">next</a><span>|</span><label class="collapse" for="c-42751651">[-]</label><label class="expand" for="c-42751651">[3 more]</label></div><br/><div class="children"><div class="content">Fully this. For all its foibles, Linux was built to never presume too much, and its users tend to be power users who will almost certainly have dotfiles to tune their systems to their needs. In the context of making choices that will necessarily be universal, I admire how thoughtfully most standard Linux packages have been designed to never interfere with the users’ intentions.</div><br/><div id="42752811" class="c"><input type="checkbox" id="c-42752811" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751651">parent</a><span>|</span><a href="#42751710">next</a><span>|</span><label class="collapse" for="c-42752811">[-]</label><label class="expand" for="c-42752811">[1 more]</label></div><br/><div class="children"><div class="content">Making things customizable doesn&#x27;t mean the defaults should be useless. zsh, tmux, emacs, vim and bash, out of the box, for instance, have both pretty nice defaults and are highly customizable.<p>I know it&#x27;s hard to make things like this but let&#x27;s do it anyway.</div><br/></div></div><div id="42751710" class="c"><input type="checkbox" id="c-42751710" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751651">parent</a><span>|</span><a href="#42752811">prev</a><span>|</span><a href="#42750527">next</a><span>|</span><label class="collapse" for="c-42751710">[-]</label><label class="expand" for="c-42751710">[1 more]</label></div><br/><div class="children"><div class="content">And to all the linux noobies[0], you&#x27;ll be a hell of a lot more efficient if you learn the philosophy of the design early. It will make it so that you can learn a new command and instantly know how to use several options. It will dramatically reduce the number of things you have to learn. I also HIGHLY suggest learning a bit of bash scripting.<p>Take a look at the manual<p><pre><code>  https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;index.html
</code></pre>
and bookmark &quot;Bash Pitfalls&quot;<p><pre><code>  https:&#x2F;&#x2F;mywiki.wooledge.org&#x2F;BashPitfalls
</code></pre>
Live in the terminal as much as you can. It is harder at first, but you will get huge boosts in productivity quicker than you would know it (easily &lt;2 weeks). It sucks doing things &quot;the hard way&quot; but sometimes that comes with extra lessons. The thing is, those extra lessons are the real value.<p>[0] no matter how many years you&#x27;ve been using it there&#x27;s no shame in being a noobie</div><br/></div></div></div></div></div></div></div></div><div id="42750527" class="c"><input type="checkbox" id="c-42750527" checked=""/><div class="controls bullet"><span class="by">Denvercoder9</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750495">parent</a><span>|</span><a href="#42751100">prev</a><span>|</span><a href="#42750831">next</a><span>|</span><label class="collapse" for="c-42750527">[-]</label><label class="expand" for="c-42750527">[6 more]</label></div><br/><div class="children"><div class="content">In case you don&#x27;t know, you can use the `-n` argument to `systemctl status` to tweak the log output, e.g. `-n0` to disable the log output and `-n40` to get more than the default 10 lines.</div><br/><div id="42750714" class="c"><input type="checkbox" id="c-42750714" checked=""/><div class="controls bullet"><span class="by">zamadatix</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750527">parent</a><span>|</span><a href="#42751640">next</a><span>|</span><label class="collapse" for="c-42750714">[-]</label><label class="expand" for="c-42750714">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great option to tweak the behavior and I hadn&#x27;t known about it (or if I ever had, I&#x27;d well forgotten). Thanks!<p>From the man page it ?looks like? if you want reverse or full then it&#x27;s still off to the journalctl command and arguments but at least &quot;-n9999&quot; is better than &quot;always 10 lines&quot;.</div><br/><div id="42751618" class="c"><input type="checkbox" id="c-42751618" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750714">parent</a><span>|</span><a href="#42751640">next</a><span>|</span><label class="collapse" for="c-42751618">[-]</label><label class="expand" for="c-42751618">[3 more]</label></div><br/><div class="children"><div class="content">FWIW, I don&#x27;t want that behavior. 10 lines is great for my usage.<p>And IIRC you can change the default behavior. In the worst case, just alias it if it is bothering you that much.</div><br/><div id="42751931" class="c"><input type="checkbox" id="c-42751931" checked=""/><div class="controls bullet"><span class="by">zamadatix</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751618">parent</a><span>|</span><a href="#42751640">next</a><span>|</span><label class="collapse" for="c-42751931">[-]</label><label class="expand" for="c-42751931">[2 more]</label></div><br/><div class="children"><div class="content">Glad you like it! I&#x27;d rather learn to deal&#x2F;work with the rough spots than stick my head in the sand with an alias and be even more lost when I don&#x27;t have it or am working with someone else though. At least for the super common tools like git, systemctl, grep, and the like.</div><br/><div id="42753433" class="c"><input type="checkbox" id="c-42753433" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751931">parent</a><span>|</span><a href="#42751640">next</a><span>|</span><label class="collapse" for="c-42753433">[-]</label><label class="expand" for="c-42753433">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; I&#x27;d rather learn to deal&#x2F;work with the rough spots than stick my head in the sand with an alias 
</code></pre>
I highly encourage you to learn the commands. But it seems like you did.<p>I would not call something so stylistic as `git branch -vv` as &quot;sticking your head in the sand&quot;. Your fallback is not going to really confuse you or put you at risk of not knowing what&#x27;s going on. I can totally understand if we were talking about aliasing something much more complicated, but at that point it&#x27;s a script...</div><br/></div></div></div></div></div></div></div></div><div id="42751640" class="c"><input type="checkbox" id="c-42751640" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750527">parent</a><span>|</span><a href="#42750714">prev</a><span>|</span><a href="#42750831">next</a><span>|</span><label class="collapse" for="c-42751640">[-]</label><label class="expand" for="c-42751640">[1 more]</label></div><br/><div class="children"><div class="content">Nice! I didn&#x27;t know that was an option.
Definitely something I should make configurable in `isd` :+1:</div><br/></div></div></div></div><div id="42750831" class="c"><input type="checkbox" id="c-42750831" checked=""/><div class="controls bullet"><span class="by">SJC_Hacker</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750495">parent</a><span>|</span><a href="#42750527">prev</a><span>|</span><a href="#42750293">next</a><span>|</span><label class="collapse" for="c-42750831">[-]</label><label class="expand" for="c-42750831">[1 more]</label></div><br/><div class="children"><div class="content">&gt; My biggest annoyance is &quot;systemctl status&quot; gives you just enough of the service&#x27;s log to make the output take up most of the terminal each time you run it but never enough of the service&#x27;s log to get a useful picture of what&#x27;s actually happened with the service lately.<p>How about<p>systemctl status foo | tail</div><br/></div></div></div></div><div id="42750293" class="c"><input type="checkbox" id="c-42750293" checked=""/><div class="controls bullet"><span class="by">Denvercoder9</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750495">prev</a><span>|</span><a href="#42750493">next</a><span>|</span><label class="collapse" for="c-42750293">[-]</label><label class="expand" for="c-42750293">[3 more]</label></div><br/><div class="children"><div class="content">&gt; I am annoyed by the redundant &quot;systemd&#x2F;system&quot; directory name<p>It&#x27;s not redundant, you also have &#x2F;etc&#x2F;systemd&#x2F;user (and &#x2F;lib&#x2F;systemd&#x2F;user) where units that run in the user context (as opposed to system-wide context) are stored.</div><br/><div id="42751656" class="c"><input type="checkbox" id="c-42751656" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750293">parent</a><span>|</span><a href="#42752755">next</a><span>|</span><label class="collapse" for="c-42751656">[-]</label><label class="expand" for="c-42751656">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also worth noting that this is a fairly standard pattern in &#x2F;etc<p><pre><code>  &#x2F;
  | etc
  | | fail2ban
  | | | action.d
  | | | fail2band.d
  | | | filter.d
  | | | jail.d
  | | ssh
  | | | ssh_config
  | | | sshd_config
  | | systemd
  | | | network   # network wide context
  | | | nspawn    # containers
  | | | system    # system wide context
  | | | user      # user wide context
  </code></pre>
Personally I like it more than<p><pre><code>  &#x2F;
  | etc
  | | cron.d
  | | cron.daily
  | | cron.hourly
  | | cron.monthly
  | | cron.weekly
  | | ...
  | | firewall
  | | firewalld
</code></pre>
Keeps things less cluttered. Hierarchical categorization is &gt;&gt; than lateral</div><br/></div></div><div id="42752755" class="c"><input type="checkbox" id="c-42752755" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750293">parent</a><span>|</span><a href="#42751656">prev</a><span>|</span><a href="#42750493">next</a><span>|</span><label class="collapse" for="c-42752755">[-]</label><label class="expand" for="c-42752755">[1 more]</label></div><br/><div class="children"><div class="content">It could have been named &#x27;global&#x27; instead of &#x27;system&#x27;.</div><br/></div></div></div></div><div id="42750493" class="c"><input type="checkbox" id="c-42750493" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750293">prev</a><span>|</span><a href="#42750365">next</a><span>|</span><label class="collapse" for="c-42750493">[-]</label><label class="expand" for="c-42750493">[3 more]</label></div><br/><div class="children"><div class="content">This is why I have instated a policy of using systemd --user services whenever possible.<p>If you don&#x27;t need elevated permissions this is ideal.<p>All you have to do is enable linger using loginctl if you want your service to auto start as the user on boot unattended.<p>Your user services live in ~&#x2F;.config&#x2F;systemd&#x2F;user</div><br/><div id="42752493" class="c"><input type="checkbox" id="c-42752493" checked=""/><div class="controls bullet"><span class="by">j16sdiz</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750493">parent</a><span>|</span><a href="#42751663">next</a><span>|</span><label class="collapse" for="c-42752493">[-]</label><label class="expand" for="c-42752493">[1 more]</label></div><br/><div class="children"><div class="content">I tried, but found it very confusing around the user session. Apparently an environment variable need to point to a started dbus. 
I can&#x27;t get consistent results over local session vs ssh vs su vs sudo</div><br/></div></div><div id="42751663" class="c"><input type="checkbox" id="c-42751663" checked=""/><div class="controls bullet"><span class="by">bityard</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750493">parent</a><span>|</span><a href="#42752493">prev</a><span>|</span><a href="#42750365">next</a><span>|</span><label class="collapse" for="c-42751663">[-]</label><label class="expand" for="c-42751663">[1 more]</label></div><br/><div class="children"><div class="content">I used to do this but frankly it&#x27;s easier to run a system-level unit as whatever user you want and keep all the files in &#x2F;etc instead of scattered around &#x2F;home.<p>The user-level units are most useful when running an actual multi-user system. If you trust your users to not abuse them, anyway.</div><br/></div></div></div></div><div id="42750365" class="c"><input type="checkbox" id="c-42750365" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750493">prev</a><span>|</span><a href="#42753469">next</a><span>|</span><label class="collapse" for="c-42750365">[-]</label><label class="expand" for="c-42750365">[1 more]</label></div><br/><div class="children"><div class="content">I find that at least systemd means that it&#x27;s consistent across distros. I spent way more time looking up this kind of thing when every distro rolled their own init system.</div><br/></div></div><div id="42753469" class="c"><input type="checkbox" id="c-42753469" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750365">prev</a><span>|</span><a href="#42751119">next</a><span>|</span><label class="collapse" for="c-42753469">[-]</label><label class="expand" for="c-42753469">[1 more]</label></div><br/><div class="children"><div class="content">By the time you have it all memorized, they&#x27;ll change it. Again. Because... because.</div><br/></div></div><div id="42751119" class="c"><input type="checkbox" id="c-42751119" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42753469">prev</a><span>|</span><a href="#42751564">next</a><span>|</span><label class="collapse" for="c-42751119">[-]</label><label class="expand" for="c-42751119">[1 more]</label></div><br/><div class="children"><div class="content">I just wish systemd allowed abbreviations for the subcommands, like &quot;ip&quot; (and git, for long options).</div><br/></div></div><div id="42751564" class="c"><input type="checkbox" id="c-42751564" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42751119">prev</a><span>|</span><a href="#42752417">next</a><span>|</span><label class="collapse" for="c-42751564">[-]</label><label class="expand" for="c-42751564">[1 more]</label></div><br/><div class="children"><div class="content">Author here: Yeah, I agree.<p>It is a bit weird. On the one hand, I understand that it makes sense to have [command] [verb] [object] on a &quot;logical&quot; level and that viewing logs should be a separate command (`journalctl`), but it is definitely not ergonomic.
Especially if you frequently have to switch between start&#x2F;stop&#x2F;restart.<p>&gt; As a very occasional linux sysadmin just trying to make things work, the &quot;typing at a console&quot; systemd interfaces are not fun to work with. Maybe nobody should be doing that. In an enterprise, sure that&#x27;s different. I think interfaces should be human, and linux should still be fun.<p>This was precisely the case for me. I &quot;enjoy&quot; playing around with systemd and am super interested in better understanding it, but the feedback loop just felt sooo slow. So hopefully this TUI can make it &quot;fun&quot; again :)</div><br/></div></div><div id="42752417" class="c"><input type="checkbox" id="c-42752417" checked=""/><div class="controls bullet"><span class="by">BrouteMinou</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42751564">prev</a><span>|</span><a href="#42750225">next</a><span>|</span><label class="collapse" for="c-42752417">[-]</label><label class="expand" for="c-42752417">[1 more]</label></div><br/><div class="children"><div class="content">I am going to be that guy, but I went full runit for similar reasons.<p>Give me files for my logs, give me a single place for my service definitions, be simple.<p>After years of systemd, I have never really &quot;got it&quot;, while it took a weekend for runit.<p>It&#x27;s not always our choice, corporate world is something else, I know...</div><br/></div></div><div id="42750225" class="c"><input type="checkbox" id="c-42750225" checked=""/><div class="controls bullet"><span class="by">kjkjadksj</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42752417">prev</a><span>|</span><a href="#42749942">next</a><span>|</span><label class="collapse" for="c-42750225">[-]</label><label class="expand" for="c-42750225">[7 more]</label></div><br/><div class="children"><div class="content">It is a bit crazy to me how everyone says “dont use cron systemd is in now” but cron just does what it says on the tin with no problems. I have lines that work fine ran in script or on my crontab but when wrapped in a launchd command no longer work (log says things work until the db is to be updated which tells me launchd ran processes lack sufficient permissions perhaps to update my db but its not clear why this is the case or how I can elevate launchd sufficiently.</div><br/><div id="42751940" class="c"><input type="checkbox" id="c-42751940" checked=""/><div class="controls bullet"><span class="by">MrDrMcCoy</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750225">parent</a><span>|</span><a href="#42751382">next</a><span>|</span><label class="collapse" for="c-42751940">[-]</label><label class="expand" for="c-42751940">[1 more]</label></div><br/><div class="children"><div class="content">&gt; cron just does what it says on the tin with no problems.<p>I can name a rather large problem with cron that systemd timers solve handily: long-running job duplication. When jobs take longer to run than the space between their triggering times, duplicates start piling up. I&#x27;ve had to rescue numerous systems from such states, which are difficult to detect until things have gotten quite bad. Sure, you can write a bunch of boilerplate to handle this yourself with cron, but with systemd timers it&#x27;s all handled for you along with other niceties like capturing all output in journald and ensuring that the next run starts at soon as possible.</div><br/></div></div><div id="42751382" class="c"><input type="checkbox" id="c-42751382" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750225">parent</a><span>|</span><a href="#42751940">prev</a><span>|</span><a href="#42752716">next</a><span>|</span><label class="collapse" for="c-42751382">[-]</label><label class="expand" for="c-42751382">[2 more]</label></div><br/><div class="children"><div class="content">Launchd is not used in systemd - why would anything be wrapped in it? The config is simple - User for the user and Group for the group. You can print it the result of &quot;id&quot; if you&#x27;re not sure what the result is.</div><br/><div id="42751855" class="c"><input type="checkbox" id="c-42751855" checked=""/><div class="controls bullet"><span class="by">kjkjadksj</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42751382">parent</a><span>|</span><a href="#42752716">next</a><span>|</span><label class="collapse" for="c-42751855">[-]</label><label class="expand" for="c-42751855">[1 more]</label></div><br/><div class="children"><div class="content">Sorry I conflate the two since they share a lot of similarity. Launchd is what I use as its a macos system.</div><br/></div></div></div></div><div id="42752716" class="c"><input type="checkbox" id="c-42752716" checked=""/><div class="controls bullet"><span class="by">simoncion</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750225">parent</a><span>|</span><a href="#42751382">prev</a><span>|</span><a href="#42749942">next</a><span>|</span><label class="collapse" for="c-42752716">[-]</label><label class="expand" for="c-42752716">[3 more]</label></div><br/><div class="children"><div class="content">&gt; ...cron just does what it says on the tin with no problems.<p>Yeah, tell me about it.<p>We had a production-down support ticket filed for one of the things that I work on at $DAYJOB. The customer&#x27;s VM&#x27;s disk was full. Why? Because the &#x27;timer unit&#x27; that was supposed to run logrotate every day had never been run and was never scheduled <i>to</i> run. (The VM had been up for a month at this point.) No other customers had ever reported this issue, and we&#x27;d not changed anything about that timer unit or what it is supposed to run in ages.<p>No amount of gyration or agitation with &#x27;systemctl&#x27; and friends OR rebooting of the VM kicked the cron replacement into proper functioning. &#x27;logrotate&#x27; was simply never being scheduled to run. This fucker was WEDGED, and the tools weren&#x27;t helping us understand why.<p>We read through all the docs on all the various kinds of units and don&#x27;t see what we&#x27;re doing wrong. We do a BUNCH of digging, and find an -IIRC- open Github issue from years back where someone was running into this problem. More or less the last word on the issue was Poettering saying something like &quot;Well... actually, now that we&#x27;ve said that that particular cascade of options isn&#x27;t actually supposed to work, now I&#x27;m not so sure that they&#x27;re NOT supposed to work.&quot;. And that was -apparently- that.<p>IMO, when your cron replacement can be easily configured in such a way as to never even try to run the thing that you scheduled it to run, you <i>really</i> need to go back and rethink how you&#x27;ve built your cron replacement.</div><br/><div id="42754074" class="c"><input type="checkbox" id="c-42754074" checked=""/><div class="controls bullet"><span class="by">glandium</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42752716">parent</a><span>|</span><a href="#42749942">next</a><span>|</span><label class="collapse" for="c-42754074">[-]</label><label class="expand" for="c-42754074">[2 more]</label></div><br/><div class="children"><div class="content">At least systemctl status tells you when next the timer will trigger. Cron doesn&#x27;t.</div><br/><div id="42754813" class="c"><input type="checkbox" id="c-42754813" checked=""/><div class="controls bullet"><span class="by">isodude</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42754074">parent</a><span>|</span><a href="#42749942">next</a><span>|</span><label class="collapse" for="c-42754813">[-]</label><label class="expand" for="c-42754813">[1 more]</label></div><br/><div class="children"><div class="content">Actually it does, have a look at cronnext</div><br/></div></div></div></div></div></div></div></div><div id="42749942" class="c"><input type="checkbox" id="c-42749942" checked=""/><div class="controls bullet"><span class="by">mixmastamyk</span><span>|</span><a href="#42749803">parent</a><span>|</span><a href="#42750225">prev</a><span>|</span><a href="#42749655">next</a><span>|</span><label class="collapse" for="c-42749942">[-]</label><label class="expand" for="c-42749942">[4 more]</label></div><br/><div class="children"><div class="content">I haven’t had much trouble with the cli, but it is kinda wordy.  I made this alias:<p><pre><code>    alias sc=&#x27;sudo systemctl&#x27;
</code></pre>
Now it matches the sc utility introduced in Windows many years back.  Then remember the verb goes first.</div><br/><div id="42750100" class="c"><input type="checkbox" id="c-42750100" checked=""/><div class="controls bullet"><span class="by">johnisgood</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42749942">parent</a><span>|</span><a href="#42749655">next</a><span>|</span><label class="collapse" for="c-42750100">[-]</label><label class="expand" for="c-42750100">[3 more]</label></div><br/><div class="children"><div class="content">Yeah, and you can omit the &quot;.service&quot; suffix, and you could use &quot;.timer&quot; suffix, too, if you have a timer for that service.<p>As much as I do not like systemd, I do not think its commands are an issue, and I use &quot;systemctl status&quot; and &quot;journalctl&quot; as well with some flags at times.</div><br/><div id="42750191" class="c"><input type="checkbox" id="c-42750191" checked=""/><div class="controls bullet"><span class="by">robinsonb5</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750100">parent</a><span>|</span><a href="#42749655">next</a><span>|</span><label class="collapse" for="c-42750191">[-]</label><label class="expand" for="c-42750191">[2 more]</label></div><br/><div class="children"><div class="content">&quot;systemctl&quot; would be less of an issue if &quot;sysctl&quot; didn&#x27;t already exist and do something completely different.</div><br/><div id="42750200" class="c"><input type="checkbox" id="c-42750200" checked=""/><div class="controls bullet"><span class="by">johnisgood</span><span>|</span><a href="#42749803">root</a><span>|</span><a href="#42750191">parent</a><span>|</span><a href="#42749655">next</a><span>|</span><label class="collapse" for="c-42750200">[-]</label><label class="expand" for="c-42750200">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it is something I had to learn in the very beginning, but I never made the mistake ever again.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42749655" class="c"><input type="checkbox" id="c-42749655" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749803">prev</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42749655">[-]</label><label class="expand" for="c-42749655">[19 more]</label></div><br/><div class="children"><div class="content">Looks nice.<p>One thing I found systemd really confusing was its treatment of ExecStop in a service script.  ExecStart is the command to run when systemd starts the service at system boot up (or when a user tells systemd to start the service).  However, ExecStop is run when the starting command has finished running.  You have to set RemainAfterExit=yes to have the desired function of running the stop command on system shutdown or on user stopping the service.  ExecStop is basically the &quot;on-cleanup&quot; event rather than &quot;to-shutdown-the-service&quot; event.</div><br/><div id="42749825" class="c"><input type="checkbox" id="c-42749825" checked=""/><div class="controls bullet"><span class="by">Cyph0n</span><span>|</span><a href="#42749655">parent</a><span>|</span><a href="#42749839">next</a><span>|</span><label class="collapse" for="c-42749825">[-]</label><label class="expand" for="c-42749825">[5 more]</label></div><br/><div class="children"><div class="content">I think about them as “on start” and “on stop”.<p>It is important to keep in mind that systemd is tailored towards daemons. So if your service just runs a command that eventually exits, you need to explicitly tell systemd to treat it differently than a daemon.<p>Edit: As others noted, you’re probably looking for oneshot + RemainAfterExit.</div><br/><div id="42750396" class="c"><input type="checkbox" id="c-42750396" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42749825">parent</a><span>|</span><a href="#42749839">next</a><span>|</span><label class="collapse" for="c-42750396">[-]</label><label class="expand" for="c-42750396">[4 more]</label></div><br/><div class="children"><div class="content">It is a little asymmetric, because &#x27;ExecStart&#x27; is actually normally &#x27;Executable that is the service&#x27;, not just script that starts the service, but I think that&#x27;s a hangover from the self-daemonizing approach to init scripts.</div><br/><div id="42750456" class="c"><input type="checkbox" id="c-42750456" checked=""/><div class="controls bullet"><span class="by">Cyph0n</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750396">parent</a><span>|</span><a href="#42749839">next</a><span>|</span><label class="collapse" for="c-42750456">[-]</label><label class="expand" for="c-42750456">[3 more]</label></div><br/><div class="children"><div class="content">True, but it still makes sense to reason about them this way. Say you have an HTTP server:<p>- on start: start the server<p>- on stop: do nothing, because you are already terminating the server<p>But suppose you need to perform an additional task when the server is terminated. That is where you would add a ExecStop command or script.</div><br/><div id="42750635" class="c"><input type="checkbox" id="c-42750635" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750456">parent</a><span>|</span><a href="#42749839">next</a><span>|</span><label class="collapse" for="c-42750635">[-]</label><label class="expand" for="c-42750635">[2 more]</label></div><br/><div class="children"><div class="content">Then ExecStop is basically on-cleanup, not to-stop. ExecStart really is to-start, not on-start. In the httpd server case, ExecStart runs the httpd command.</div><br/><div id="42750696" class="c"><input type="checkbox" id="c-42750696" checked=""/><div class="controls bullet"><span class="by">Cyph0n</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750635">parent</a><span>|</span><a href="#42749839">next</a><span>|</span><label class="collapse" for="c-42750696">[-]</label><label class="expand" for="c-42750696">[1 more]</label></div><br/><div class="children"><div class="content">If that helps you understand it better, then sure.<p>All I am trying to say is that the name of the option makes sense as-is: it literally runs the provided command(s) on service stop (“execute on stop”).<p>Similarly, ExecStart literally means command(s) to execute on start.<p>If the command runs a blocking daemon&#x2F;server (usually the case), then the server will be <i>implicitly stopped by definition</i> -  because if you’re stopping the systemd service, you’re interrupting any commands that are still running&#x2F;blocking.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42749839" class="c"><input type="checkbox" id="c-42749839" checked=""/><div class="controls bullet"><span class="by">yread</span><span>|</span><a href="#42749655">parent</a><span>|</span><a href="#42749825">prev</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42749839">[-]</label><label class="expand" for="c-42749839">[13 more]</label></div><br/><div class="children"><div class="content">ExecStop works the way you want for type=forking</div><br/><div id="42749931" class="c"><input type="checkbox" id="c-42749931" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42749839">parent</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42749931">[-]</label><label class="expand" for="c-42749931">[12 more]</label></div><br/><div class="children"><div class="content">Still has the same problem even with type=forking. Only way to get it working was RemainAfterExit=yes</div><br/><div id="42749941" class="c"><input type="checkbox" id="c-42749941" checked=""/><div class="controls bullet"><span class="by">shawnz</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42749931">parent</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42749941">[-]</label><label class="expand" for="c-42749941">[11 more]</label></div><br/><div class="children"><div class="content">I think you actually probably want type=oneshot (and also RemainAfterExit=yes) for the kind of service you&#x27;re describing</div><br/><div id="42750005" class="c"><input type="checkbox" id="c-42750005" checked=""/><div class="controls bullet"><span class="by">brirec</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42749941">parent</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42750005">[-]</label><label class="expand" for="c-42750005">[10 more]</label></div><br/><div class="children"><div class="content">This was ultimately what I needed to do when I wrote a systemd service that managed some firewall rules. It really was a footgun though, what with having essentially different meanings&#x2F;purposes for ExecStop whether you’re doing a Type=forking, a Type=oneshot, or a Type=oneshot with RemainAfterExit=yes.<p>And relatedly, I honestly have no idea when I’d want to use ExecStartPre, or multiple ExecStarts, or ExecStartPost, and so on.</div><br/><div id="42750301" class="c"><input type="checkbox" id="c-42750301" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750005">parent</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42750301">[-]</label><label class="expand" for="c-42750301">[9 more]</label></div><br/><div class="children"><div class="content">Having different semantics with different proprieties on the same command is really confusing.</div><br/><div id="42750379" class="c"><input type="checkbox" id="c-42750379" checked=""/><div class="controls bullet"><span class="by">shawnz</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750301">parent</a><span>|</span><a href="#42751359">next</a><span>|</span><label class="collapse" for="c-42750379">[-]</label><label class="expand" for="c-42750379">[6 more]</label></div><br/><div class="children"><div class="content">I would argue the semantics of ExecStop are always the same. It&#x27;s the command that&#x27;s executed to stop the service. On the other hand, what it means for a service to be &quot;running&quot; or &quot;stopping&quot; naturally depends on what type of service it is (i.e., is it a daemon or not?)</div><br/><div id="42750617" class="c"><input type="checkbox" id="c-42750617" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750379">parent</a><span>|</span><a href="#42751359">next</a><span>|</span><label class="collapse" for="c-42750617">[-]</label><label class="expand" for="c-42750617">[5 more]</label></div><br/><div class="children"><div class="content">&gt; the command that&#x27;s executed to stop the service<p>That’s what is assumed. But in reality it runs after the started process stops.</div><br/><div id="42750784" class="c"><input type="checkbox" id="c-42750784" checked=""/><div class="controls bullet"><span class="by">shawnz</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750617">parent</a><span>|</span><a href="#42751359">next</a><span>|</span><label class="collapse" for="c-42750784">[-]</label><label class="expand" for="c-42750784">[4 more]</label></div><br/><div class="children"><div class="content">Yes, so whether the service is stopping as a result of the process exiting, or whether you requested the service to stop manually, it will run the ExecStop in either case.<p>That makes sense to me personally. What would be the more intuitive design in your mind?</div><br/><div id="42752491" class="c"><input type="checkbox" id="c-42752491" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750784">parent</a><span>|</span><a href="#42753250">next</a><span>|</span><label class="collapse" for="c-42752491">[-]</label><label class="expand" for="c-42752491">[1 more]</label></div><br/><div class="children"><div class="content">Stopping as a result of the process exiting or requested the service to stop are two very different things.  Systemd overloads the term ExecStop for different semantics, relying on different property settings.  That&#x27;s where the confusion comes from.</div><br/></div></div><div id="42753250" class="c"><input type="checkbox" id="c-42753250" checked=""/><div class="controls bullet"><span class="by">drougge</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750784">parent</a><span>|</span><a href="#42752491">prev</a><span>|</span><a href="#42751359">next</a><span>|</span><label class="collapse" for="c-42753250">[-]</label><label class="expand" for="c-42753250">[2 more]</label></div><br/><div class="children"><div class="content">The name sounds like it means &quot;this is how I want you to cause the service to stop&quot; to me (and clearly to others as well). That would be symmetrical with ExecStart meaning &quot;this is how I want you to cause the service to start&quot;. If it runs after the service stopped it should be called &quot;ExecAfterStop&quot; or something like that.</div><br/><div id="42753709" class="c"><input type="checkbox" id="c-42753709" checked=""/><div class="controls bullet"><span class="by">shawnz</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42753250">parent</a><span>|</span><a href="#42751359">next</a><span>|</span><label class="collapse" for="c-42753709">[-]</label><label class="expand" for="c-42753709">[1 more]</label></div><br/><div class="children"><div class="content">That is what ExecStop means. It specifies how you want to cause the service to stop. But the lifetime of the service isn&#x27;t exactly the same thing as the lifetime of the process that got started in ExecStart.<p>Maybe think about it this way: ExecStart is what the system will run to transition the service from the &quot;starting&quot; state to the &quot;started&quot; state. ExecStop is what the system will run to transition the service from the &quot;stopping&quot; state to the &quot;stopped&quot; state.<p>For a service with RemainAfterExit=no (the default), you enter the stopping state right away once the processes that got started in ExecStart exit. That&#x27;s useful when you are starting some long lived process as a service, and in that case there is usually no need for an ExecStop. But semantically, ExecStop has the same meaning either way -- it&#x27;s what needs to be run, if anything, to transition the service from the stopping state to the stopped state.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42751359" class="c"><input type="checkbox" id="c-42751359" checked=""/><div class="controls bullet"><span class="by">yencabulator</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42750301">parent</a><span>|</span><a href="#42750379">prev</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42751359">[-]</label><label class="expand" for="c-42751359">[2 more]</label></div><br/><div class="children"><div class="content">Think of it as an enum, Type branches the logic.<p><pre><code>    enum Service {
        Exec { ExecStart: String, ... }
        Forking { ExecStart: String, ... }
        OneShot { ExecStart: String, ... }
    }
</code></pre>
You can argue that sometimes that ExecStart could be a different term, but it&#x27;d still end up being the same across multiple enum variants.</div><br/><div id="42752471" class="c"><input type="checkbox" id="c-42752471" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#42749655">root</a><span>|</span><a href="#42751359">parent</a><span>|</span><a href="#42749554">next</a><span>|</span><label class="collapse" for="c-42752471">[-]</label><label class="expand" for="c-42752471">[1 more]</label></div><br/><div class="children"><div class="content">Yes.  ExecStart works the same for all the cases.  ExecStop works differently though.  While ExecStart is the event to kick off the command for the service, ExecStop is not.  The asymmetric semantics are where the confusion comes from.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="42749554" class="c"><input type="checkbox" id="c-42749554" checked=""/><div class="controls bullet"><span class="by">wasted_intel</span><span>|</span><a href="#42749655">prev</a><span>|</span><a href="#42754667">next</a><span>|</span><label class="collapse" for="c-42749554">[-]</label><label class="expand" for="c-42749554">[2 more]</label></div><br/><div class="children"><div class="content">Love this. I use raw CLI commands until it hurts, and have recently embraced tools like lazygit&#x2F;lazydocker to get visibility into otherwise opaque system&#x2F;tree states, and it’s been a huge level-up.<p>I have several user and system level services I manage, but debugging them is tedious. Your opening line that lists common commands and their pain points really resonated with me.<p>I’m on NixOS, so editing immutable unit files directly won’t work, but the service discovery, visibility, and management will be really helpful. Nice work!</div><br/><div id="42749586" class="c"><input type="checkbox" id="c-42749586" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749554">parent</a><span>|</span><a href="#42754667">next</a><span>|</span><label class="collapse" for="c-42749586">[-]</label><label class="expand" for="c-42749586">[1 more]</label></div><br/><div class="children"><div class="content">I am also a NixOS user and this is exactly what motivated me to work on this project!<p>I am planning on adding some &quot;guides&quot; in the documentation but in short:
You should check out `systemctl edit --runtime` for debugging units on NixOS. It makes debugging sooo much easier.</div><br/></div></div></div></div><div id="42754667" class="c"><input type="checkbox" id="c-42754667" checked=""/><div class="controls bullet"><span class="by">alduin32</span><span>|</span><a href="#42749554">prev</a><span>|</span><a href="#42750224">next</a><span>|</span><label class="collapse" for="c-42754667">[-]</label><label class="expand" for="c-42754667">[2 more]</label></div><br/><div class="children"><div class="content">This is amazing, I had a bunch of work to do on some remote hosts this night and tried using isd as much as possible, to see how it can help me.<p>Some feedback :<p>- it is.. relatively slow ? especially when focusing on different panes (tab&#x2F;shift+tab). on my machine it takes at least half a second to react<p>- the unit list is missing page-up&#x2F;page-down handling<p>- in some unit attributes, the ordering of some values frequently changes (for example, on unstarted services, in `TriggeredBy`)<p>- it could be interesting to integrate the output of `systemd-analyse security`<p>Nice work !</div><br/><div id="42754974" class="c"><input type="checkbox" id="c-42754974" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42754667">parent</a><span>|</span><a href="#42750224">next</a><span>|</span><label class="collapse" for="c-42754974">[-]</label><label class="expand" for="c-42754974">[1 more]</label></div><br/><div class="children"><div class="content">- That the tab pane switching is the slow part is a bit weird. Is there a difference when you see all units and a subset of units? Maybe open an issue and I can provide more possible settings that could be changed.<p>- Jep, page up&#x2F;down handling will be added. Thanks!<p>- Not quite sure when this happens. Maybe an example screen shot (before&#x2F;after) could help?<p>- Yeah, that is definitely on the roadmap.</div><br/></div></div></div></div><div id="42750224" class="c"><input type="checkbox" id="c-42750224" checked=""/><div class="controls bullet"><span class="by">Fnoord</span><span>|</span><a href="#42754667">prev</a><span>|</span><a href="#42754626">next</a><span>|</span><label class="collapse" for="c-42750224">[-]</label><label class="expand" for="c-42750224">[2 more]</label></div><br/><div class="children"><div class="content">At long last, systemd-client: merry meet! Next step is such a TUI for non-Linux such as macOS, FreeBSD, Windows. For macOS I use LaunchControl.app but it isn&#x27;t a TUI.<p>Just one thing: I had to do<p><pre><code>  $ uv tool install git+https:&#x2F;&#x2F;github.com&#x2F;isd-project&#x2F;isd
</code></pre>
instead of<p><pre><code>  $ uv tool install https:&#x2F;&#x2F;github.com&#x2F;isd-project&#x2F;isd&#x2F;isd@latest
</code></pre>
and uvx wouldn&#x27;t work at all, version: uv 0.5.21. That said, uv is way more quick than pip(x) so I just switched.</div><br/><div id="42751659" class="c"><input type="checkbox" id="c-42751659" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42750224">parent</a><span>|</span><a href="#42754626">next</a><span>|</span><label class="collapse" for="c-42751659">[-]</label><label class="expand" for="c-42751659">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, silly me. It is fixed now, thanks for letting me know!</div><br/></div></div></div></div><div id="42754626" class="c"><input type="checkbox" id="c-42754626" checked=""/><div class="controls bullet"><span class="by">larusso</span><span>|</span><a href="#42750224">prev</a><span>|</span><a href="#42750016">next</a><span>|</span><label class="collapse" for="c-42754626">[-]</label><label class="expand" for="c-42754626">[1 more]</label></div><br/><div class="children"><div class="content">Need to see this in action. The example videos overuse the fuzzy search for commands in my opinion. Makes it hard to concentrate what the actual action&#x2F;information is when a huge part of the screen changes. Not to say I don’t like fuzzy searchable command prompts. But it can be clearer to either just type out a command or have a menu system. As I said I need to check this out in action for myself.</div><br/></div></div><div id="42750016" class="c"><input type="checkbox" id="c-42750016" checked=""/><div class="controls bullet"><span class="by">ripley12</span><span>|</span><a href="#42754626">prev</a><span>|</span><a href="#42751806">next</a><span>|</span><label class="collapse" for="c-42750016">[-]</label><label class="expand" for="c-42750016">[2 more]</label></div><br/><div class="children"><div class="content">This looks very good, thanks for sharing! I maintain a similar project and working with the systemd&#x2F;dbus APIs has been pretty painful; eager to try this and see what I can learn from it.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;rgwood&#x2F;systemctl-tui">https:&#x2F;&#x2F;github.com&#x2F;rgwood&#x2F;systemctl-tui</a></div><br/><div id="42750223" class="c"><input type="checkbox" id="c-42750223" checked=""/><div class="controls bullet"><span class="by">gurgeous</span><span>|</span><a href="#42750016">parent</a><span>|</span><a href="#42751806">next</a><span>|</span><label class="collapse" for="c-42750223">[-]</label><label class="expand" for="c-42750223">[1 more]</label></div><br/><div class="children"><div class="content">This is incredible! I will use this a ton. Only thing missing is a deb package...</div><br/></div></div></div></div><div id="42751806" class="c"><input type="checkbox" id="c-42751806" checked=""/><div class="controls bullet"><span class="by">mahoro</span><span>|</span><a href="#42750016">prev</a><span>|</span><a href="#42749553">next</a><span>|</span><label class="collapse" for="c-42751806">[-]</label><label class="expand" for="c-42751806">[2 more]</label></div><br/><div class="children"><div class="content">So cool that with uv it becomes so easy to install such tools.<p>What&#x27;s missing in the install routine is uv installing this tool ignoring the Python dependency. My box has 3.10 and isd won&#x27;t work with it. Fixed with `-p 3.13` option. May be worth mention in the docs.</div><br/><div id="42752548" class="c"><input type="checkbox" id="c-42752548" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42751806">parent</a><span>|</span><a href="#42749553">next</a><span>|</span><label class="collapse" for="c-42752548">[-]</label><label class="expand" for="c-42752548">[1 more]</label></div><br/><div class="children"><div class="content">Hey, thanks for mentioning this!
I have included the flag in the docs.</div><br/></div></div></div></div><div id="42749553" class="c"><input type="checkbox" id="c-42749553" checked=""/><div class="controls bullet"><span class="by">johnchristopher</span><span>|</span><a href="#42751806">prev</a><span>|</span><a href="#42749913">next</a><span>|</span><label class="collapse" for="c-42749553">[-]</label><label class="expand" for="c-42749553">[4 more]</label></div><br/><div class="children"><div class="content">&gt; If you ever became frustrated while typing:<p>Hey, that&#x27;s me ! (And I love systemd !)<p>I haven&#x27;t installed it yet so quick question: can it connect to remote host ? I often use systemctl --host &lt;hostname&gt; status foo.service (status, timers, logs etc. )</div><br/><div id="42749572" class="c"><input type="checkbox" id="c-42749572" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749553">parent</a><span>|</span><a href="#42749913">next</a><span>|</span><label class="collapse" for="c-42749572">[-]</label><label class="expand" for="c-42749572">[3 more]</label></div><br/><div class="children"><div class="content">Dang. I have never heard of `systemctl --host`.
Sadly not. It is more or less a fancy wrapper around (the local) `systemctl`.
But there is also an appimage that should make it (hopefully) easy to run it on remote servers.<p>Either way, feel free to open an issue and I will have a look at it.</div><br/><div id="42749647" class="c"><input type="checkbox" id="c-42749647" checked=""/><div class="controls bullet"><span class="by">diggan</span><span>|</span><a href="#42749553">root</a><span>|</span><a href="#42749572">parent</a><span>|</span><a href="#42749913">next</a><span>|</span><label class="collapse" for="c-42749647">[-]</label><label class="expand" for="c-42749647">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Dang. I have never heard of `systemctl --host`. Sadly not. It is more or less a fancy wrapper around (the local) `systemctl`.<p>Sounds like you could easily support it by letting users pass in $REMOTE_HOST and when you use your `systemctl` wrapper, add `$CMD --host=$REMOTE_HOST`, after that everything should work as before.</div><br/><div id="42751706" class="c"><input type="checkbox" id="c-42751706" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749553">root</a><span>|</span><a href="#42749647">parent</a><span>|</span><a href="#42749913">next</a><span>|</span><label class="collapse" for="c-42751706">[-]</label><label class="expand" for="c-42751706">[1 more]</label></div><br/><div class="children"><div class="content">I will investigate it!<p><a href="https:&#x2F;&#x2F;github.com&#x2F;isd-project&#x2F;isd&#x2F;issues&#x2F;6">https:&#x2F;&#x2F;github.com&#x2F;isd-project&#x2F;isd&#x2F;issues&#x2F;6</a></div><br/></div></div></div></div></div></div></div></div><div id="42749913" class="c"><input type="checkbox" id="c-42749913" checked=""/><div class="controls bullet"><span class="by">throeurir</span><span>|</span><a href="#42749553">prev</a><span>|</span><a href="#42751648">next</a><span>|</span><label class="collapse" for="c-42749913">[-]</label><label class="expand" for="c-42749913">[1 more]</label></div><br/><div class="children"><div class="content">I can not install this stuff on remote servers and docker images. I would like multiple backbends to execute commands and gather informations (local, ssh, docker).<p>It should be installable locally, and run commands on remote machine via ssh! And via &#x27;docker exec&#x27; commands.</div><br/></div></div><div id="42751648" class="c"><input type="checkbox" id="c-42751648" checked=""/><div class="controls bullet"><span class="by">elric</span><span>|</span><a href="#42749913">prev</a><span>|</span><a href="#42749790">next</a><span>|</span><label class="collapse" for="c-42751648">[-]</label><label class="expand" for="c-42751648">[2 more]</label></div><br/><div class="children"><div class="content">Looks great, well done. It&#x27;s a shame that it&#x27;s needed at all. The vast majority of my interactions with systemd are trivial: (re)starting a service, looking at a log file to figure out what&#x27;s wrong, and making sure a service starts on boot. I find it baffling that the ergonomics of systemd for those common tasks are so lacking. But the TUI seems to help, so thanks.<p>And sure, systemd it&#x27;s more deterministic and includes the kitchen sink, unlike initd.<p>Thankfully these days I can automate most of such interactions out of existence, so I no longer feel the burning hatred that I once did. More like a smoldering ember.</div><br/><div id="42752325" class="c"><input type="checkbox" id="c-42752325" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42751648">parent</a><span>|</span><a href="#42749790">next</a><span>|</span><label class="collapse" for="c-42752325">[-]</label><label class="expand" for="c-42752325">[1 more]</label></div><br/><div class="children"><div class="content">I mean, I get why they don&#x27;t want to &quot;bloat&quot; systemd with a complex&#x2F;opinionated TUI, but I would&#x27;ve also really liked a more &quot;upstreamed&quot; interface.
Though, I guess making systemd more beginner-friendly&#x2F;accessible is not really that important for their funding?</div><br/></div></div></div></div><div id="42749790" class="c"><input type="checkbox" id="c-42749790" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#42751648">prev</a><span>|</span><a href="#42751086">next</a><span>|</span><label class="collapse" for="c-42749790">[-]</label><label class="expand" for="c-42749790">[5 more]</label></div><br/><div class="children"><div class="content">&gt; If you have nix installed, this AppImage will not work! Either use the nix or uv installation instructions!<p>Is this really true? I understand why it does not work on NixOS (I tried just out of curiosity and it seems like it is unable to exec the host systemctl for some reason) but I don&#x27;t think there&#x27;s any reason it wouldn&#x27;t work on other OSes that merely have Nix installed.<p>Interestingly though, on Nix v2.24.11, I can&#x27;t use the provided Nix command either:<p><pre><code>    $ nix run https:&#x2F;&#x2F;github.com&#x2F;isd-project&#x2F;isd
    error:
           … while fetching the input &#x27;https:&#x2F;&#x2F;github.com&#x2F;isd-project&#x2F;isd&#x27;
    
           error: Failed to open archive (Unrecognized archive format)
</code></pre>
Even if that did work (you could adjust it into a Git URL to make it work) it would probably not be ideal since Nix has a native GitHub fetcher that is more efficient. I think this should be the actual Nix command:<p><pre><code>    nix run github:isd-project&#x2F;isd
</code></pre>
Anyway, this is cool. I actually wanted to make a similar thing using systemd&#x27;s DBus API and Qt instead of a TUI and even started writing code for it, and if you wanted to I&#x27;m sure you&#x27;d find that the DBus API <i>probably</i> provides all of the functionality you would need (admittedly it is a lot easier to just call `systemd -H` than to implement your own SSH tunneling, though.) It kind of frustrates me that systemd and modern Linux in general is absolutely teeming with data and interfaces that could be exposed and make administering systems, especially desktop systems that were traditionally very inscrutable, much easier. e.g. in the past, how did you know what was going on when an xdg autostart app failed? Now with systemd running xdg autostart apps in some desktops, it would be really easy to provide a GUI that can <i>show</i> you the failed autostarts and even provide a GUI log viewer, and yet somehow, such a tool does not seem to exist, at least in the realm of things that are maintained and relatively feature-complete. Rather frustrating.</div><br/><div id="42752294" class="c"><input type="checkbox" id="c-42752294" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749790">parent</a><span>|</span><a href="#42751501">next</a><span>|</span><label class="collapse" for="c-42752294">[-]</label><label class="expand" for="c-42752294">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Is this really true? I understand why it does not work on NixOS (I tried just out of curiosity and it seems like it is unable to exec the host systemctl for some reason) but I don&#x27;t think there&#x27;s any reason it wouldn&#x27;t work on other OSes that merely have Nix installed.<p>Yeah, it get&#x27;s complicated and I don&#x27;t want to recommend it and explain the details. In short, I am creating the AppImage via nix. And the AppImage &quot;mounts&quot; (not overlays!) the AppImage&#x27;s &#x2F;nix&#x2F; directory. So calls from the TUI that would access &#x2F;nix&#x2F; wouldn&#x27;t go to the systems `&#x2F;nix` directory, which leads to all kind of weird issues. For example, you could install your EDITOR via home-manager on Ubuntu. isd would start correctly because systemctl is &quot;accessible&quot; but if you open your EDITOR under `&#x2F;nix` it wouldn&#x27;t find it, which is super confusing as a user.
-&gt; So it is just easier to say to use the nix installation method if you are already using it :D<p>And sorry for the wrong docs, it is fixed now.<p>I also agree with your frustration. Personally, I would really enjoy working on such a tool but it wouldn&#x27;t be an easy task, and who would support the work? This TUI had a manageable scope but it was still quite a bit of work. So I don&#x27;t see myself investing too much into &quot;higher-level interfaces&quot;.<p>PS: I have no idea why your post is ill-received :&#x2F;</div><br/><div id="42752318" class="c"><input type="checkbox" id="c-42752318" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#42749790">root</a><span>|</span><a href="#42752294">parent</a><span>|</span><a href="#42751501">next</a><span>|</span><label class="collapse" for="c-42752318">[-]</label><label class="expand" for="c-42752318">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In short, I am creating the AppImage via nix. And the AppImage &quot;mounts&quot; (not overlays!) the AppImage&#x27;s &#x2F;nix&#x2F; directory. So calls from the TUI that would access &#x2F;nix&#x2F; wouldn&#x27;t go to the systems `&#x2F;nix` directory, which leads to all kind of weird issues.<p>That makes a lot of sense. There&#x27;s not really much trivial that I think you can do to deal with that.<p>&gt; PS: I have no idea why your post is ill-received :&#x2F;<p>It&#x27;s not really a big deal, I was just surprised and wondered if anyone who was compelled to vote down might come back to explain why.</div><br/></div></div></div></div><div id="42751501" class="c"><input type="checkbox" id="c-42751501" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#42749790">parent</a><span>|</span><a href="#42752294">prev</a><span>|</span><a href="#42751086">next</a><span>|</span><label class="collapse" for="c-42751501">[-]</label><label class="expand" for="c-42751501">[2 more]</label></div><br/><div class="children"><div class="content">I am completely confused as to why this comment seems to be poorly received. Can someone explain?</div><br/><div id="42751908" class="c"><input type="checkbox" id="c-42751908" checked=""/><div class="controls bullet"><span class="by">speed_spread</span><span>|</span><a href="#42749790">root</a><span>|</span><a href="#42751501">parent</a><span>|</span><a href="#42751086">next</a><span>|</span><label class="collapse" for="c-42751908">[-]</label><label class="expand" for="c-42751908">[1 more]</label></div><br/><div class="children"><div class="content">That may be a bit of nix backlash, don&#x27;t sweat it.<p>I agree Linux could use better system APIs than &quot;put file here&quot; and &quot;run these commands&quot; which are much more error prone than making calls to properly documented interfaces.</div><br/></div></div></div></div></div></div><div id="42751086" class="c"><input type="checkbox" id="c-42751086" checked=""/><div class="controls bullet"><span class="by">gchamonlive</span><span>|</span><a href="#42749790">prev</a><span>|</span><a href="#42754018">next</a><span>|</span><label class="collapse" for="c-42751086">[-]</label><label class="expand" for="c-42751086">[2 more]</label></div><br/><div class="children"><div class="content">How&#x27;s security handled? Not in terms of system permissions which Linux handles well, but in terms of guarantees that it can&#x27;t be hijacked and remotely controlled by an external attacker.</div><br/><div id="42751676" class="c"><input type="checkbox" id="c-42751676" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42751086">parent</a><span>|</span><a href="#42754018">next</a><span>|</span><label class="collapse" for="c-42751676">[-]</label><label class="expand" for="c-42751676">[1 more]</label></div><br/><div class="children"><div class="content">Author here: I also find this an important thing to ask yourself when you are running applications&#x2F;scripts that do anything with sudo and which is why I have written a fairly in-depth &quot;Security&quot; section on the isd documentation page:<p><a href="https:&#x2F;&#x2F;isd-project.github.io&#x2F;isd&#x2F;security&#x2F;" rel="nofollow">https:&#x2F;&#x2F;isd-project.github.io&#x2F;isd&#x2F;security&#x2F;</a><p>Let me know if anything is missing!</div><br/></div></div></div></div><div id="42754018" class="c"><input type="checkbox" id="c-42754018" checked=""/><div class="controls bullet"><span class="by">udev4096</span><span>|</span><a href="#42751086">prev</a><span>|</span><a href="#42750803">next</a><span>|</span><label class="collapse" for="c-42754018">[-]</label><label class="expand" for="c-42754018">[2 more]</label></div><br/><div class="children"><div class="content">This would be extremely helpful. Although, I would love a feature where you can add different linux hosts and manage them all from a single place, using ssh</div><br/><div id="42754353" class="c"><input type="checkbox" id="c-42754353" checked=""/><div class="controls bullet"><span class="by">eliaspro</span><span>|</span><a href="#42754018">parent</a><span>|</span><a href="#42750803">next</a><span>|</span><label class="collapse" for="c-42754353">[-]</label><label class="expand" for="c-42754353">[1 more]</label></div><br/><div class="children"><div class="content">Most systemd functionality has built-in support for targeting remote hosts and local machines (containers, VMs) and mostly utilizes SSH under the hood to do so.<p>Check the -H and respective -M flags of many systemd CLI utilities.</div><br/></div></div></div></div><div id="42750803" class="c"><input type="checkbox" id="c-42750803" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#42754018">prev</a><span>|</span><a href="#42750853">next</a><span>|</span><label class="collapse" for="c-42750803">[-]</label><label class="expand" for="c-42750803">[1 more]</label></div><br/><div class="children"><div class="content">This looks almost as easy to use as slackware’s init&#x2F;syslog back in the Linux 0.9x days.<p>If you add a sane cli with tab completion support, it’ll come full circle.</div><br/></div></div><div id="42750853" class="c"><input type="checkbox" id="c-42750853" checked=""/><div class="controls bullet"><span class="by">jonwest</span><span>|</span><a href="#42750803">prev</a><span>|</span><a href="#42752977">next</a><span>|</span><label class="collapse" for="c-42750853">[-]</label><label class="expand" for="c-42750853">[3 more]</label></div><br/><div class="children"><div class="content">Maybe a bit of a gross simplification, but would you say this is analogous to something like k9s for Kubernetes?  It looks handy, to say the least.</div><br/><div id="42750932" class="c"><input type="checkbox" id="c-42750932" checked=""/><div class="controls bullet"><span class="by">wint3rmute</span><span>|</span><a href="#42750853">parent</a><span>|</span><a href="#42752302">next</a><span>|</span><label class="collapse" for="c-42750932">[-]</label><label class="expand" for="c-42750932">[1 more]</label></div><br/><div class="children"><div class="content">That was my first thought as well, seems to fill a very similar niche, just for systemd instead of kubernetes</div><br/></div></div><div id="42752302" class="c"><input type="checkbox" id="c-42752302" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42750853">parent</a><span>|</span><a href="#42750932">prev</a><span>|</span><a href="#42752977">next</a><span>|</span><label class="collapse" for="c-42752302">[-]</label><label class="expand" for="c-42752302">[1 more]</label></div><br/><div class="children"><div class="content">I have never used or touched k9s nor Kubernetes, so... Maybe?</div><br/></div></div></div></div><div id="42752977" class="c"><input type="checkbox" id="c-42752977" checked=""/><div class="controls bullet"><span class="by">rglover</span><span>|</span><a href="#42750853">prev</a><span>|</span><a href="#42751002">next</a><span>|</span><label class="collapse" for="c-42752977">[-]</label><label class="expand" for="c-42752977">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for shipping this. Need to test it but going to add this to the deps bundle for my deployment service (relies heavily on systemd). Looks like it would make day to day maintenance&#x2F;debugging far less of a headache.</div><br/></div></div><div id="42751002" class="c"><input type="checkbox" id="c-42751002" checked=""/><div class="controls bullet"><span class="by">yonatan8070</span><span>|</span><a href="#42752977">prev</a><span>|</span><a href="#42750045">next</a><span>|</span><label class="collapse" for="c-42751002">[-]</label><label class="expand" for="c-42751002">[1 more]</label></div><br/><div class="children"><div class="content">Looks super cool, I&#x27;ve been working quite a bit with systemd recently, and typing systemctl and journalctl + their flags gets old rather fast.<p>Can it connect to remote hosts like you can with systemctl --host?</div><br/></div></div><div id="42750045" class="c"><input type="checkbox" id="c-42750045" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#42751002">prev</a><span>|</span><a href="#42750262">next</a><span>|</span><label class="collapse" for="c-42750045">[-]</label><label class="expand" for="c-42750045">[3 more]</label></div><br/><div class="children"><div class="content">This looks super well done and polished. The rich docs are crazy detailed for something that was just released. You&#x27;re really setting the bar for what other projects should do. Congrats!</div><br/><div id="42752616" class="c"><input type="checkbox" id="c-42752616" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42750045">parent</a><span>|</span><a href="#42750262">next</a><span>|</span><label class="collapse" for="c-42752616">[-]</label><label class="expand" for="c-42752616">[2 more]</label></div><br/><div class="children"><div class="content">Thanks!<p>I&#x27;ve put quite a lot of work into it and wanted the project to give a good first impression. This was important to me since I believe these &quot;niche&quot; TUI libraries need to immediately show what problems they are solving or how they save time, as users need a reason to _use_ an additional abstraction layer.</div><br/><div id="42753346" class="c"><input type="checkbox" id="c-42753346" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#42750045">root</a><span>|</span><a href="#42752616">parent</a><span>|</span><a href="#42750262">next</a><span>|</span><label class="collapse" for="c-42753346">[-]</label><label class="expand" for="c-42753346">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely! Really well done. I now think you&#x27;re the best person to do the same for ffmpeg lol</div><br/></div></div></div></div></div></div><div id="42750262" class="c"><input type="checkbox" id="c-42750262" checked=""/><div class="controls bullet"><span class="by">willm</span><span>|</span><a href="#42750045">prev</a><span>|</span><a href="#42749601">next</a><span>|</span><label class="collapse" for="c-42750262">[-]</label><label class="expand" for="c-42750262">[2 more]</label></div><br/><div class="children"><div class="content">Nice! How did you find working with the Textual library?</div><br/><div id="42752655" class="c"><input type="checkbox" id="c-42752655" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42750262">parent</a><span>|</span><a href="#42749601">next</a><span>|</span><label class="collapse" for="c-42752655">[-]</label><label class="expand" for="c-42752655">[1 more]</label></div><br/><div class="children"><div class="content">It was great!
The extensive documentation and the vast amount of widgets were definitely the main reasons why I have chosen to do it in Python&#x2F;Textual rather than other languages&#x2F;libraries.<p>Though I don&#x27;t agree with all design decisions, and there are some bugs, having such well-maintained documentation and clean repo makes it easy to dive into the project and understand what is going on and how other components are built.<p>Thanks for the library!</div><br/></div></div></div></div><div id="42749601" class="c"><input type="checkbox" id="c-42749601" checked=""/><div class="controls bullet"><span class="by">cdiamand</span><span>|</span><a href="#42750262">prev</a><span>|</span><a href="#42752150">next</a><span>|</span><label class="collapse" for="c-42749601">[-]</label><label class="expand" for="c-42749601">[2 more]</label></div><br/><div class="children"><div class="content">The security section is good to see. Thanks for that!</div><br/><div id="42749643" class="c"><input type="checkbox" id="c-42749643" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749601">parent</a><span>|</span><a href="#42752150">next</a><span>|</span><label class="collapse" for="c-42749643">[-]</label><label class="expand" for="c-42749643">[1 more]</label></div><br/><div class="children"><div class="content">Funny that you mention that.
I honestly thought not too many people would care about it.<p>Though I am by far no security specialist.
Please let me know where I can improve the section!</div><br/></div></div></div></div><div id="42752150" class="c"><input type="checkbox" id="c-42752150" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#42749601">prev</a><span>|</span><a href="#42749750">next</a><span>|</span><label class="collapse" for="c-42752150">[-]</label><label class="expand" for="c-42752150">[2 more]</label></div><br/><div class="children"><div class="content">Is there any way I can run a service before a given other service <i>AND</i> as late as possible (without rewriting the other service&#x27;s unit file)?</div><br/><div id="42754482" class="c"><input type="checkbox" id="c-42754482" checked=""/><div class="controls bullet"><span class="by">distype</span><span>|</span><a href="#42752150">parent</a><span>|</span><a href="#42749750">next</a><span>|</span><label class="collapse" for="c-42754482">[-]</label><label class="expand" for="c-42754482">[1 more]</label></div><br/><div class="children"><div class="content">You can override the other unit without rewriting.
Place you config here.<p>&gt; &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;&lt;unit&gt;.service.d<p>I&#x27;ve used PartOf to enforce &quot;dependency&quot;.
Lots of other ways to enforce order and dependency once you have the override in place.</div><br/></div></div></div></div><div id="42749750" class="c"><input type="checkbox" id="c-42749750" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#42752150">prev</a><span>|</span><a href="#42749532">next</a><span>|</span><label class="collapse" for="c-42749750">[-]</label><label class="expand" for="c-42749750">[1 more]</label></div><br/><div class="children"><div class="content">Looks very useful.  Standard tooling for systemd is such an annoying maze to navigate.</div><br/></div></div><div id="42749532" class="c"><input type="checkbox" id="c-42749532" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#42749750">prev</a><span>|</span><a href="#42750263">next</a><span>|</span><label class="collapse" for="c-42749532">[-]</label><label class="expand" for="c-42749532">[2 more]</label></div><br/><div class="children"><div class="content">I use systemd heavily. I&#x27;ll definitely check this out!</div><br/><div id="42749550" class="c"><input type="checkbox" id="c-42749550" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749532">parent</a><span>|</span><a href="#42750263">next</a><span>|</span><label class="collapse" for="c-42749550">[-]</label><label class="expand" for="c-42749550">[1 more]</label></div><br/><div class="children"><div class="content">Happy to hear!<p>Please open an issue on GitHub if you encounter any silly alpha issues.</div><br/></div></div></div></div><div id="42750263" class="c"><input type="checkbox" id="c-42750263" checked=""/><div class="controls bullet"><span class="by">btbuilder</span><span>|</span><a href="#42749532">prev</a><span>|</span><a href="#42749730">next</a><span>|</span><label class="collapse" for="c-42750263">[-]</label><label class="expand" for="c-42750263">[1 more]</label></div><br/><div class="children"><div class="content">The switching of command and service in the argument order from the init script days still catches me out.<p>foo restart vs restart foo</div><br/></div></div><div id="42749730" class="c"><input type="checkbox" id="c-42749730" checked=""/><div class="controls bullet"><span class="by">geenat</span><span>|</span><a href="#42750263">prev</a><span>|</span><a href="#42751348">next</a><span>|</span><label class="collapse" for="c-42749730">[-]</label><label class="expand" for="c-42749730">[1 more]</label></div><br/><div class="children"><div class="content">Out of curiosity, any tools that provide a systemd gui minus the fzf dependency?</div><br/></div></div><div id="42751348" class="c"><input type="checkbox" id="c-42751348" checked=""/><div class="controls bullet"><span class="by">alpb</span><span>|</span><a href="#42749730">prev</a><span>|</span><a href="#42749509">next</a><span>|</span><label class="collapse" for="c-42751348">[-]</label><label class="expand" for="c-42751348">[2 more]</label></div><br/><div class="children"><div class="content">Why have you picked Python for this project? I feel like Rust&#x2F;Go have better TUI ecosystems and the ability to use native bindings.</div><br/><div id="42752247" class="c"><input type="checkbox" id="c-42752247" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42751348">parent</a><span>|</span><a href="#42749509">next</a><span>|</span><label class="collapse" for="c-42752247">[-]</label><label class="expand" for="c-42752247">[1 more]</label></div><br/><div class="children"><div class="content">Hey, mostly because the underlying TUI framework (textual) is _amazing_.<p>Not gonna lie, I am not a big fan of Python anymore because of the dependency hell you can run into when working with CUDA libraries but uv is a breath of fresh air and textual is just sooo easy.<p>Don&#x27;t get me wrong, I am not saying that I would never consider rewriting it in Rust or Go, but the documentation and guides from Textual were great resources and the creator, Will, also seems like a really nice guy :D<p>Edit: To be explicit, I believe that Python has currently the most advanced and accessible TUI ecosystem. At least, that was my impression after checking a few examples on an afternoon.</div><br/></div></div></div></div><div id="42749509" class="c"><input type="checkbox" id="c-42749509" checked=""/><div class="controls bullet"><span class="by">heywire</span><span>|</span><a href="#42751348">prev</a><span>|</span><a href="#42749559">next</a><span>|</span><label class="collapse" for="c-42749509">[-]</label><label class="expand" for="c-42749509">[1 more]</label></div><br/><div class="children"><div class="content">This looks very nice, I’ll have to give it a try!</div><br/></div></div><div id="42749559" class="c"><input type="checkbox" id="c-42749559" checked=""/><div class="controls bullet"><span class="by">johng</span><span>|</span><a href="#42749509">prev</a><span>|</span><a href="#42749582">next</a><span>|</span><label class="collapse" for="c-42749559">[-]</label><label class="expand" for="c-42749559">[1 more]</label></div><br/><div class="children"><div class="content">This looks really well done. Congratulations!</div><br/></div></div><div id="42749582" class="c"><input type="checkbox" id="c-42749582" checked=""/><div class="controls bullet"><span class="by">renewiltord</span><span>|</span><a href="#42749559">prev</a><span>|</span><label class="collapse" for="c-42749582">[-]</label><label class="expand" for="c-42749582">[3 more]</label></div><br/><div class="children"><div class="content">Haha this is great. It’s funny that others also end up doing this enable, start, journalctl, start dance. Good stuff. I shall try it.<p>My only problem is that I wish there were a way to install it on my machine and have it connect to a remote systemctl but that probably is a lot of work to reliably work (port may not be open etc etc).</div><br/><div id="42752222" class="c"><input type="checkbox" id="c-42752222" checked=""/><div class="controls bullet"><span class="by">kai-tub</span><span>|</span><a href="#42749582">parent</a><span>|</span><label class="collapse" for="c-42752222">[-]</label><label class="expand" for="c-42752222">[2 more]</label></div><br/><div class="children"><div class="content">Maybe it is possible with `systemctl --host`...
Though, I would have to make quite a few changes to the UI design since it
would mean that there are &quot;multiple modes&quot;. One for local and multiple remotes.
So... Check back in a month or so :D</div><br/><div id="42754485" class="c"><input type="checkbox" id="c-42754485" checked=""/><div class="controls bullet"><span class="by">noisy_boy</span><span>|</span><a href="#42749582">root</a><span>|</span><a href="#42752222">parent</a><span>|</span><label class="collapse" for="c-42754485">[-]</label><label class="expand" for="c-42754485">[1 more]</label></div><br/><div class="children"><div class="content">Maybe you can keep it uniform by always presuming &quot;host&quot; as one of the parameters (and localhost just happens to be the default for it).</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>