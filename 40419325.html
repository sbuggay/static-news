<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1716282065083" as="style"/><link rel="stylesheet" href="styles.css?v=1716282065083"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://kevroletin.github.io/terminal/2021/12/11/how-terminal-works-in.html">How terminal works. Part 1: Xterm, user input</a>Â <span class="domain">(<a href="https://kevroletin.github.io">kevroletin.github.io</a>)</span></div><div class="subtext"><span>smartmic</span> | <span>13 comments</span></div><br/><div><div id="40422796" class="c"><input type="checkbox" id="c-40422796" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#40421337">next</a><span>|</span><label class="collapse" for="c-40422796">[-]</label><label class="expand" for="c-40422796">[2 more]</label></div><br/><div class="children"><div class="content">The other three parts aren&#x27;t linked in the article, but available if you go up a level. <a href="https:&#x2F;&#x2F;kevroletin.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;kevroletin.github.io&#x2F;</a></div><br/><div id="40425008" class="c"><input type="checkbox" id="c-40425008" checked=""/><div class="controls bullet"><span class="by">rurban</span><span>|</span><a href="#40422796">parent</a><span>|</span><a href="#40421337">next</a><span>|</span><label class="collapse" for="c-40425008">[-]</label><label class="expand" for="c-40425008">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve enjoyed the 4th part, sessions and writing script most. The rest looks like severe security problems lurking underneath</div><br/></div></div></div></div><div id="40421337" class="c"><input type="checkbox" id="c-40421337" checked=""/><div class="controls bullet"><span class="by">ggm</span><span>|</span><a href="#40422796">prev</a><span>|</span><a href="#40424368">next</a><span>|</span><label class="collapse" for="c-40421337">[-]</label><label class="expand" for="c-40421337">[2 more]</label></div><br/><div class="children"><div class="content">I used to search for a couple of lines of code in the getty.c program or its ancestors, which permitted ALL CAPS LOGIN because teletypes and early VDU terminals included models without a shift function. It made me ask myself how the password check was able to function (and how strong the crypt function was) if the case wasn&#x27;t important.<p>They were removed from (at least) FreeBSD sometime in the 2.x series I believe.</div><br/><div id="40422124" class="c"><input type="checkbox" id="c-40422124" checked=""/><div class="controls bullet"><span class="by">ksherlock</span><span>|</span><a href="#40421337">parent</a><span>|</span><a href="#40424368">next</a><span>|</span><label class="collapse" for="c-40422124">[-]</label><label class="expand" for="c-40422124">[1 more]</label></div><br/><div class="children"><div class="content">I remember AIX doing that when you entered an upper-case login. Probably still does.<p><a href="https:&#x2F;&#x2F;www.ibm.com&#x2F;docs&#x2F;en&#x2F;aix&#x2F;7.1?topic=s-stty-command#stty__row-d3e57730" rel="nofollow">https:&#x2F;&#x2F;www.ibm.com&#x2F;docs&#x2F;en&#x2F;aix&#x2F;7.1?topic=s-stty-command#stt...</a><p>xcase    Echoes uppercase characters on input, and displays uppercase characters on output with a preceding \ (backslash).<p>iuclc    Maps uppercase alphabetic characters to lowercase.<p>olcuc    Maps lowercase alphabetic characters to uppercase on output.<p>Solaris (Illumos) source code is consistent with this.<p>So for an upper-case only keyboard, uppercase letters are lowercase. To type an uppercase letter, precede it with a \.  The tty layer handles the conversion so programs don&#x27;t know or care what you&#x27;re actually typing -- they just read (and write) normal upper and lower case characters.</div><br/></div></div></div></div><div id="40424368" class="c"><input type="checkbox" id="c-40424368" checked=""/><div class="controls bullet"><span class="by">matricaria</span><span>|</span><a href="#40421337">prev</a><span>|</span><a href="#40423056">next</a><span>|</span><label class="collapse" for="c-40424368">[-]</label><label class="expand" for="c-40424368">[1 more]</label></div><br/><div class="children"><div class="content">(2021)</div><br/></div></div><div id="40423056" class="c"><input type="checkbox" id="c-40423056" checked=""/><div class="controls bullet"><span class="by">bsder</span><span>|</span><a href="#40424368">prev</a><span>|</span><label class="collapse" for="c-40423056">[-]</label><label class="expand" for="c-40423056">[7 more]</label></div><br/><div class="children"><div class="content">How terminal works?  Badly.<p>The terminal protocol is broken in fairly fundamental ways (see: How do I get an event for &lt;shift&gt; key up&#x2F;down by itself?  How do I distinguish Esc by itself from Esc combined with something else)<p>A lot of modern things have adopted the Kitty extensions in order to solve this:
See: <a href="https:&#x2F;&#x2F;sw.kovidgoyal.net&#x2F;kitty&#x2F;keyboard-protocol&#x2F;" rel="nofollow">https:&#x2F;&#x2F;sw.kovidgoyal.net&#x2F;kitty&#x2F;keyboard-protocol&#x2F;</a></div><br/><div id="40424644" class="c"><input type="checkbox" id="c-40424644" checked=""/><div class="controls bullet"><span class="by">otabdeveloper4</span><span>|</span><a href="#40423056">parent</a><span>|</span><a href="#40424749">next</a><span>|</span><label class="collapse" for="c-40424644">[-]</label><label class="expand" for="c-40424644">[1 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t broken.<p>As far as standards go it is a fairly clean and easy to implement one. (That is the reason for its enduring popularity.)<p>Source: wrote a terminal emulator once. Turned out to be not that difficult. We just need to agree on an xterm-compatible subset of functionality and throw away the rest, which nobody ever uses anyways.<p>Your complaints are just aesthetic complaints, the terminal isn&#x27;t supposed to be a universal GUI toolkit.</div><br/></div></div><div id="40424749" class="c"><input type="checkbox" id="c-40424749" checked=""/><div class="controls bullet"><span class="by">matvore</span><span>|</span><a href="#40423056">parent</a><span>|</span><a href="#40424644">prev</a><span>|</span><a href="#40424705">next</a><span>|</span><label class="collapse" for="c-40424749">[-]</label><label class="expand" for="c-40424749">[1 more]</label></div><br/><div class="children"><div class="content">Yes, let&#x27;s take dozens of terminal emulator projects out of maintenance mode so app devs can individually and capriciously overload my shift and escape keys, because modern.</div><br/></div></div><div id="40424705" class="c"><input type="checkbox" id="c-40424705" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#40423056">parent</a><span>|</span><a href="#40424749">prev</a><span>|</span><a href="#40423335">next</a><span>|</span><label class="collapse" for="c-40424705">[-]</label><label class="expand" for="c-40424705">[2 more]</label></div><br/><div class="children"><div class="content">&gt; How do I get an event for &lt;shift&gt; key up&#x2F;down by itself? How do I distinguish Esc by itself from Esc combined with something els<p>How do I drive a screw with a hammer? Badly. It doesn&#x27;t make hammer a bad tool though.<p>Terminals are a simple tool. The inputs and outputs are lines of text. If your application doesn&#x27;t fit that model and needs keypress events then terminal is simply the wrong tool for the job.</div><br/><div id="40425798" class="c"><input type="checkbox" id="c-40425798" checked=""/><div class="controls bullet"><span class="by">M95D</span><span>|</span><a href="#40423056">root</a><span>|</span><a href="#40424705">parent</a><span>|</span><a href="#40423335">next</a><span>|</span><label class="collapse" for="c-40425798">[-]</label><label class="expand" for="c-40425798">[1 more]</label></div><br/><div class="children"><div class="content">Let&#x27;s take MC, or any other TUI app. Esc is the common key to use to exit from menus, dialog boxes, various views, etc.<p>If the terminal is the wrong tool, then give example of the right tool.</div><br/></div></div></div></div><div id="40423335" class="c"><input type="checkbox" id="c-40423335" checked=""/><div class="controls bullet"><span class="by">Xerox9213</span><span>|</span><a href="#40423056">parent</a><span>|</span><a href="#40424705">prev</a><span>|</span><a href="#40423477">next</a><span>|</span><label class="collapse" for="c-40423335">[-]</label><label class="expand" for="c-40423335">[1 more]</label></div><br/><div class="children"><div class="content">Kitty is great. I started using it because I like cats. But I am learning more and more about how robust it is.</div><br/></div></div><div id="40423477" class="c"><input type="checkbox" id="c-40423477" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#40423056">parent</a><span>|</span><a href="#40423335">prev</a><span>|</span><label class="collapse" for="c-40423477">[-]</label><label class="expand" for="c-40423477">[1 more]</label></div><br/><div class="children"><div class="content">And yet because of the *nix OSs being widely available it has even displaced superior models e.g. the Windows character cell model [0] is arguably a better fit for modern terminals yet new development goes to compatibility with &quot;cross platform&quot; inband signaling and escape sequences.<p>[0]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;console&#x2F;console-functions" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;console&#x2F;console-fu...</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>