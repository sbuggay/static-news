<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724144466050" as="style"/><link rel="stylesheet" href="styles.css?v=1724144466050"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://signalsmith-audio.co.uk/writing/2021/lets-write-a-reverb/">Let&#x27;s Write a Reverb</a>Â <span class="domain">(<a href="https://signalsmith-audio.co.uk">signalsmith-audio.co.uk</a>)</span></div><div class="subtext"><span>notagoodidea</span> | <span>40 comments</span></div><br/><div><div id="41297088" class="c"><input type="checkbox" id="c-41297088" checked=""/><div class="controls bullet"><span class="by">chaosprint</span><span>|</span><a href="#41297280">next</a><span>|</span><label class="collapse" for="c-41297088">[-]</label><label class="expand" for="c-41297088">[1 more]</label></div><br/><div class="children"><div class="content">Signalsmith Audio always has great posts. Their article on pitch shift is also worth a look! I have also posted before:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36706588">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36706588</a><p>Speaking of reverb, I implemented a Dattorro reverb (<a href="https:&#x2F;&#x2F;ccrma.stanford.edu&#x2F;~dattorro&#x2F;EffectDesignPart1.pdf" rel="nofollow">https:&#x2F;&#x2F;ccrma.stanford.edu&#x2F;~dattorro&#x2F;EffectDesignPart1.pdf</a>) in Rust before.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;chaosprint&#x2F;dattorro-vst-rs">https:&#x2F;&#x2F;github.com&#x2F;chaosprint&#x2F;dattorro-vst-rs</a><p>It&#x27;s based on Glicol source code here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;chaosprint&#x2F;glicol&#x2F;blob&#x2F;main&#x2F;rs&#x2F;synth&#x2F;src&#x2F;node&#x2F;effect&#x2F;plate.rs">https:&#x2F;&#x2F;github.com&#x2F;chaosprint&#x2F;glicol&#x2F;blob&#x2F;main&#x2F;rs&#x2F;synth&#x2F;src&#x2F;...</a><p>You can play with it here:<p><a href="https:&#x2F;&#x2F;glicol.org&#x2F;demo#handmadedattorroreverb" rel="nofollow">https:&#x2F;&#x2F;glicol.org&#x2F;demo#handmadedattorroreverb</a><p>Also you don&#x27;t want to miss the Tom Erbe&#x27;s reverb patches in Pure Data. Patches demonstrating several types of reverb (Schroeder, Moorer, Moore, Gerzon, Dattorro):<p><a href="https:&#x2F;&#x2F;tre.ucsd.edu&#x2F;wordpress&#x2F;?p=625" rel="nofollow">https:&#x2F;&#x2F;tre.ucsd.edu&#x2F;wordpress&#x2F;?p=625</a></div><br/></div></div><div id="41297280" class="c"><input type="checkbox" id="c-41297280" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41297088">prev</a><span>|</span><a href="#41296601">next</a><span>|</span><label class="collapse" for="c-41297280">[-]</label><label class="expand" for="c-41297280">[11 more]</label></div><br/><div class="children"><div class="content">Whoah - the author (Signalsmith) here!  This was a fun way to wake up, and I&#x27;m happy to answer any questions.</div><br/><div id="41297970" class="c"><input type="checkbox" id="c-41297970" checked=""/><div class="controls bullet"><span class="by">bambax</span><span>|</span><a href="#41297280">parent</a><span>|</span><a href="#41297401">next</a><span>|</span><label class="collapse" for="c-41297970">[-]</label><label class="expand" for="c-41297970">[2 more]</label></div><br/><div class="children"><div class="content">Brillant article! Thanks!<p>Are you also &quot;Geraint&quot;? (The home page <a href="https:&#x2F;&#x2F;signalsmith-audio.co.uk&#x2F;" rel="nofollow">https:&#x2F;&#x2F;signalsmith-audio.co.uk&#x2F;</a> says &quot;we&quot; but the Geraint page <a href="https:&#x2F;&#x2F;geraintluff.github.io&#x2F;jsfx&#x2F;" rel="nofollow">https:&#x2F;&#x2F;geraintluff.github.io&#x2F;jsfx&#x2F;</a> says &quot;I&quot;...?)<p>Geraint&#x27;s plugins are a great collection of excellent (and free) effects for Reaper, with a superb GUI (which isn&#x27;t easy to do in Reaper&#x2F;JSFX). So thanks also for this! ;-)</div><br/><div id="41298100" class="c"><input type="checkbox" id="c-41298100" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41297280">root</a><span>|</span><a href="#41297970">parent</a><span>|</span><a href="#41297401">next</a><span>|</span><label class="collapse" for="c-41298100">[-]</label><label class="expand" for="c-41298100">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I&#x27;m Geraint. :D  I&#x27;m the tech side of Signalsmith Audio, and my partner is the Business Brain.  The JSFX plugins are mostly from before we made a proper company (back when Signalsmith was just my username) - I&#x27;m glad you&#x27;re enjoying them!</div><br/></div></div></div></div><div id="41297401" class="c"><input type="checkbox" id="c-41297401" checked=""/><div class="controls bullet"><span class="by">22c</span><span>|</span><a href="#41297280">parent</a><span>|</span><a href="#41297970">prev</a><span>|</span><a href="#41297412">next</a><span>|</span><label class="collapse" for="c-41297401">[-]</label><label class="expand" for="c-41297401">[3 more]</label></div><br/><div class="children"><div class="content">Thanks for the enjoyable article!<p>Possibly off-topic, but I am coder with hobbyist interest in the DSP space. I have never really had a &quot;penny drop&quot; moment when it comes to starting from nothing and generating sound.<p>Even generating simple sine wave seems like either a big chore or a completely abstract concept (depending on the tools&#x2F;libraries&#x2F;environment), I have not been able to find a middle-ground where I feel like I am learning but not getting completely lost in trigonometry or calculus. I am not sure if I&#x27;m not using the right tools or if I need to start even simpler and build up. GNU Radio comes close to scratching an itch for me of generating signal processing pipelines and a bit of intuition, but ultimately it becomes pretty easy to get lost in that as well (and it seems mostly focused on actual radio use-cases).<p>Do you have any advice for someone looking to build more familiarity or intuition on this front?</div><br/><div id="41297469" class="c"><input type="checkbox" id="c-41297469" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41297280">root</a><span>|</span><a href="#41297401">parent</a><span>|</span><a href="#41297660">next</a><span>|</span><label class="collapse" for="c-41297469">[-]</label><label class="expand" for="c-41297469">[1 more]</label></div><br/><div class="children"><div class="content">First, join a good community!  If you&#x27;re on Discord, TAP is great: <a href="https:&#x2F;&#x2F;discord.gg&#x2F;aBghGGcfYs" rel="nofollow">https:&#x2F;&#x2F;discord.gg&#x2F;aBghGGcfYs</a> - it&#x27;s beginner-friendly while also having some heavy-hitters in there, and it&#x27;s generally wholesome.  You&#x27;re not the only hobbyist learner, and it&#x27;s important to have a place you can ask questions without feeling awkward.<p>If you swap language&#x2F;environment later, you&#x27;ll carry your understanding&#x2F;intuition with you, so you don&#x27;t have to start with C++ if that&#x27;s not your bag (even though it&#x27;s still the industry standard).  There are audio-specific languages with JIT runtimes (which can be used in Logic&#x2F;Reaper&#x2F;GarageBand&#x2F;etc.), Rust&#x2F;JS frameworks, etc. so find the one that feels good to tinker with, and keep that momentum&#x2F;motivation going.  :)</div><br/></div></div><div id="41297660" class="c"><input type="checkbox" id="c-41297660" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#41297280">root</a><span>|</span><a href="#41297401">parent</a><span>|</span><a href="#41297469">prev</a><span>|</span><a href="#41297412">next</a><span>|</span><label class="collapse" for="c-41297660">[-]</label><label class="expand" for="c-41297660">[1 more]</label></div><br/><div class="children"><div class="content">You could start with making sounds using a software synth or PureData. There will be no issues with generating sine waves. And there are lot of tutorials for this.<p>If you aim for performance, you will have to use SIMD and language that supports it (for example, C, Rust).</div><br/></div></div></div></div><div id="41297412" class="c"><input type="checkbox" id="c-41297412" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#41297280">parent</a><span>|</span><a href="#41297401">prev</a><span>|</span><a href="#41297780">next</a><span>|</span><label class="collapse" for="c-41297412">[-]</label><label class="expand" for="c-41297412">[1 more]</label></div><br/><div class="children"><div class="content">Not a question but, really cool articles on your page, cheers :)</div><br/></div></div><div id="41297780" class="c"><input type="checkbox" id="c-41297780" checked=""/><div class="controls bullet"><span class="by">chr15m</span><span>|</span><a href="#41297280">parent</a><span>|</span><a href="#41297412">prev</a><span>|</span><a href="#41297466">next</a><span>|</span><label class="collapse" for="c-41297780">[-]</label><label class="expand" for="c-41297780">[1 more]</label></div><br/><div class="children"><div class="content">Thanks so much for taking the time to write this up clearly. I now have a much better understanding of how recent work than I did before. Really appreciate it!</div><br/></div></div><div id="41297466" class="c"><input type="checkbox" id="c-41297466" checked=""/><div class="controls bullet"><span class="by">chaosprint</span><span>|</span><a href="#41297280">parent</a><span>|</span><a href="#41297780">prev</a><span>|</span><a href="#41297399">next</a><span>|</span><label class="collapse" for="c-41297466">[-]</label><label class="expand" for="c-41297466">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for writing so many blogs. The adc talk was also great. Have you considered doing some demos with wasm on the web? Also, have you considered porting these packages to rust?</div><br/><div id="41297511" class="c"><input type="checkbox" id="c-41297511" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41297280">root</a><span>|</span><a href="#41297466">parent</a><span>|</span><a href="#41297399">next</a><span>|</span><label class="collapse" for="c-41297511">[-]</label><label class="expand" for="c-41297511">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t done anything with Rust yet, but it&#x27;s on my free-time wishlist.<p>I&#x27;m working on WASM demos!  I&#x27;ve been playing with WASM builds of my plugins, and it&#x27;s great for prototyping&#x2F;sharing, but it could definitely be set up better for demos&#x2F;teaching:  <a href="https:&#x2F;&#x2F;signalsmith-audio.co.uk&#x2F;tmp&#x2F;web-audio&#x2F;?url=&#x2F;tmp&#x2F;basics&#x2F;SignalsmithBasics.js#reverb" rel="nofollow">https:&#x2F;&#x2F;signalsmith-audio.co.uk&#x2F;tmp&#x2F;web-audio&#x2F;?url=&#x2F;tmp&#x2F;basi...</a></div><br/></div></div></div></div><div id="41297399" class="c"><input type="checkbox" id="c-41297399" checked=""/><div class="controls bullet"><span class="by">127</span><span>|</span><a href="#41297280">parent</a><span>|</span><a href="#41297466">prev</a><span>|</span><a href="#41296601">next</a><span>|</span><label class="collapse" for="c-41297399">[-]</label><label class="expand" for="c-41297399">[1 more]</label></div><br/><div class="children"><div class="content">Nothing to ask, really. Just saying thanks for a fantastic intro to reverb, that I used as one of the sources to implement my own. Hope to see more audio processing educational material.</div><br/></div></div></div></div><div id="41296601" class="c"><input type="checkbox" id="c-41296601" checked=""/><div class="controls bullet"><span class="by">squeaky-clean</span><span>|</span><a href="#41297280">prev</a><span>|</span><a href="#41296824">next</a><span>|</span><label class="collapse" for="c-41296601">[-]</label><label class="expand" for="c-41296601">[2 more]</label></div><br/><div class="children"><div class="content">Fantastic article from start to finish. Great explanation, great audio samples, and from a first skim the C++ example looks very readable.<p>&gt; I haven&#x27;t found any good resources on this particular diffuser design. I found a couple of forum posts and a paragraph from a book<p>When I read this my first thought was &quot;this is a link to a comment by mystran on KVR, isn&#x27;t it?&quot; And yep. If you&#x27;re looking for some obscure DSP knowledge, all Google searches eventually lead to a comment by mystran.</div><br/><div id="41297303" class="c"><input type="checkbox" id="c-41297303" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41296601">parent</a><span>|</span><a href="#41296824">next</a><span>|</span><label class="collapse" for="c-41297303">[-]</label><label class="expand" for="c-41297303">[1 more]</label></div><br/><div class="children"><div class="content">Haha, yeah - although their comment was only considering the 2D case, same as the book.<p>You can make a (very efficient!) diffuser from 2-channel rotations, but you have to tune it a bit to get it smooth without having a slow attack.  With more channels, it&#x27;s much easier to get right.</div><br/></div></div></div></div><div id="41296824" class="c"><input type="checkbox" id="c-41296824" checked=""/><div class="controls bullet"><span class="by">chilling</span><span>|</span><a href="#41296601">prev</a><span>|</span><a href="#41295787">next</a><span>|</span><label class="collapse" for="c-41296824">[-]</label><label class="expand" for="c-41296824">[2 more]</label></div><br/><div class="children"><div class="content">Very nice tutorial, and extremally nicely done!<p>It&#x27;s worth knowing that some of those effects can also be achived (of course much much more simplified) in all modern browsers using the Web Audio API. 
I created mobbler[0] using that, and I also wrote a small tutorial on how some of the effects can be achieved using simple modules (it might seem too complex at first glance, but you can just look at the pictures)[1].<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;Megaemce&#x2F;mobbler">https:&#x2F;&#x2F;github.com&#x2F;Megaemce&#x2F;mobbler</a><p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;Megaemce&#x2F;mobbler&#x2F;wiki&#x2F;Tutorials">https:&#x2F;&#x2F;github.com&#x2F;Megaemce&#x2F;mobbler&#x2F;wiki&#x2F;Tutorials</a></div><br/><div id="41297333" class="c"><input type="checkbox" id="c-41297333" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41296824">parent</a><span>|</span><a href="#41295787">next</a><span>|</span><label class="collapse" for="c-41297333">[-]</label><label class="expand" for="c-41297333">[1 more]</label></div><br/><div class="children"><div class="content">Given the number of connections&#x2F;nodes in my design, I&#x27;d be interested to know what the performance is.<p>For Web Audio, there&#x27;s an increasing trend of compiling WASM and running it in an AudioWorkletProcessor, which is maybe 2-3x slower than native.  It&#x27;s actually how I do a lot of my prototyping now, because the Emscripten build times are faster than a full plugin, and I can send it to people without them having to install anything.</div><br/></div></div></div></div><div id="41295787" class="c"><input type="checkbox" id="c-41295787" checked=""/><div class="controls bullet"><span class="by">pierrec</span><span>|</span><a href="#41296824">prev</a><span>|</span><a href="#41295939">next</a><span>|</span><label class="collapse" for="c-41295787">[-]</label><label class="expand" for="c-41295787">[3 more]</label></div><br/><div class="children"><div class="content">Easily the most approachable yet complete writeup I&#x27;ve seen on the topic. I&#x27;ve always noticed an aura of esoteric dark magic around writing good algorithmic reverbs, this makes it seems less daunting.<p>Since the author does a quick comparison between convolution and algorithmic reverbs, I&#x27;ll mention how I often <i>combine</i> them: a small&#x2F;medium convolution reverb, plus a long algorithmic reverb. The convolution can perfectly diffuse the signal and it can also give a precise character to the sound, depending on the impulse response. It&#x27;s great for adding a &quot;body&quot; to a raw sound generator. The algorithmic layer then adds a subtle ambience that can be extra long if desired.</div><br/><div id="41296739" class="c"><input type="checkbox" id="c-41296739" checked=""/><div class="controls bullet"><span class="by">joshka</span><span>|</span><a href="#41295787">parent</a><span>|</span><a href="#41295939">next</a><span>|</span><label class="collapse" for="c-41296739">[-]</label><label class="expand" for="c-41296739">[2 more]</label></div><br/><div class="children"><div class="content">Take a look at the articles on Valhalla&#x27;s site. They&#x27;re another goldmine <a href="https:&#x2F;&#x2F;valhalladsp.com&#x2F;learn&#x2F;" rel="nofollow">https:&#x2F;&#x2F;valhalladsp.com&#x2F;learn&#x2F;</a></div><br/><div id="41297172" class="c"><input type="checkbox" id="c-41297172" checked=""/><div class="controls bullet"><span class="by">cyco130</span><span>|</span><a href="#41295787">root</a><span>|</span><a href="#41296739">parent</a><span>|</span><a href="#41295939">next</a><span>|</span><label class="collapse" for="c-41297172">[-]</label><label class="expand" for="c-41297172">[1 more]</label></div><br/><div class="children"><div class="content">Came to write this. The guy not only makes <i>the</i> best algorithmic reverb plugins out there and sells them very cheap, he also shares his obsessively deep and broad knowledge on the subject. Big fan.</div><br/></div></div></div></div></div></div><div id="41295939" class="c"><input type="checkbox" id="c-41295939" checked=""/><div class="controls bullet"><span class="by">fuhsnn</span><span>|</span><a href="#41295787">prev</a><span>|</span><a href="#41297678">next</a><span>|</span><label class="collapse" for="c-41295939">[-]</label><label class="expand" for="c-41295939">[2 more]</label></div><br/><div class="children"><div class="content">&gt;throw a random-number generator at all the delay times<p>Reverb algorithms are indeed random enough, a leading audio plugin brand once came up with a randomizing reverb freeware[0] embedded with a &quot;submit when it sounds cool&quot; button.<p><a href="https:&#x2F;&#x2F;www.kvraudio.com&#x2F;forum&#x2F;viewtopic.php?t=453229" rel="nofollow">https:&#x2F;&#x2F;www.kvraudio.com&#x2F;forum&#x2F;viewtopic.php?t=453229</a></div><br/><div id="41296044" class="c"><input type="checkbox" id="c-41296044" checked=""/><div class="controls bullet"><span class="by">NikkiA</span><span>|</span><a href="#41295939">parent</a><span>|</span><a href="#41297678">next</a><span>|</span><label class="collapse" for="c-41296044">[-]</label><label class="expand" for="c-41296044">[1 more]</label></div><br/><div class="children"><div class="content">u-he weren&#x27;t the only ones either:<p><a href="https:&#x2F;&#x2F;bedroomproducersblog.com&#x2F;2021&#x2F;11&#x2F;17&#x2F;baby-audio-magic-dice&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bedroomproducersblog.com&#x2F;2021&#x2F;11&#x2F;17&#x2F;baby-audio-magic...</a><p>And while it&#x27;s not a one-button random reverb, MCharmVerb also heavily relies on randomizing:<p><a href="https:&#x2F;&#x2F;www.meldaproduction.com&#x2F;MCharmVerb" rel="nofollow">https:&#x2F;&#x2F;www.meldaproduction.com&#x2F;MCharmVerb</a></div><br/></div></div></div></div><div id="41297678" class="c"><input type="checkbox" id="c-41297678" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#41295939">prev</a><span>|</span><a href="#41297640">next</a><span>|</span><label class="collapse" for="c-41297678">[-]</label><label class="expand" for="c-41297678">[2 more]</label></div><br/><div class="children"><div class="content">I wonder where do you find information like this? E.g. how a reverd is made, how those electronic drum sounds from classic drum machines are made and so on? Is there something like a big catalogue of different tricks and algorithms?</div><br/><div id="41297742" class="c"><input type="checkbox" id="c-41297742" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41297678">parent</a><span>|</span><a href="#41297640">next</a><span>|</span><label class="collapse" for="c-41297742">[-]</label><label class="expand" for="c-41297742">[1 more]</label></div><br/><div class="children"><div class="content">Some stuff is around the web, some is from other people.  Particularly for classic kit, someone&#x27;s usually analysed it before, but it&#x27;s not always in a good tutorial kind of form.  I did a <i>lot</i> of messing around with audio&#x2F;programming from my early teens onwards, so I have a good intuition about how the maths and sound link up.<p>A lot of this stuff can be made from relatively simple building-blocks though, and you don&#x27;t have to copy a previous configuration.  My thought process was pretty much exactly as written in the blog-post!  I just wanted to make something which didn&#x27;t require any special tuning skills.</div><br/></div></div></div></div><div id="41297640" class="c"><input type="checkbox" id="c-41297640" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#41297678">prev</a><span>|</span><a href="#41296437">next</a><span>|</span><label class="collapse" for="c-41297640">[-]</label><label class="expand" for="c-41297640">[2 more]</label></div><br/><div class="children"><div class="content">Interesting article, however in drums demo the reverb sound increases after the drum is hit, and this doesn&#x27;t seem natural. I would expect the reverb to have only decay phase, but here the reverb has a slow attack as well.</div><br/><div id="41297674" class="c"><input type="checkbox" id="c-41297674" checked=""/><div class="controls bullet"><span class="by">signalsmith</span><span>|</span><a href="#41297640">parent</a><span>|</span><a href="#41296437">next</a><span>|</span><label class="collapse" for="c-41297674">[-]</label><label class="expand" for="c-41297674">[1 more]</label></div><br/><div class="children"><div class="content">*EDIT*: I just realised that the demo you&#x27;re talking about doesn&#x27;t include the &quot;early reflections&quot;!  So that demo only includes echoes which have gone through the main feedback delays at least once.<p>If you mix in some of the diffused signal directly, it bridges the gap between the initial sound and the feedback echoes: <a href="https:&#x2F;&#x2F;signalsmith-audio.co.uk&#x2F;writing&#x2F;2021&#x2F;lets-write-a-reverb&#x2F;#putting-it-together-next-steps-early-reflections" rel="nofollow">https:&#x2F;&#x2F;signalsmith-audio.co.uk&#x2F;writing&#x2F;2021&#x2F;lets-write-a-re...</a><p>---<p>You can tune the diffuser to have an almost-instant onset.  I can&#x27;t remember what I did last time, but at a guess, having the largest diffuser stage increase by a factor of N (number of channels) instead of 2 might do it.<p>But also, if you&#x27;re playing acoustic drums in a big space like a concert hall (instead of a long one like a staircase), the first echoes coming back from the walls <i>are</i> actually a bit delayed (1 foot ~= 1ms, at the speed of sound).  So if your nearest wall is 10ft away, the first wall-echoes will come 10-20ms after the initial direct sound.</div><br/></div></div></div></div><div id="41296437" class="c"><input type="checkbox" id="c-41296437" checked=""/><div class="controls bullet"><span class="by">parentheses</span><span>|</span><a href="#41297640">prev</a><span>|</span><a href="#41295707">next</a><span>|</span><label class="collapse" for="c-41296437">[-]</label><label class="expand" for="c-41296437">[3 more]</label></div><br/><div class="children"><div class="content">I came expecting DSP code but was pleasantly surprised by this!<p>If anyone has any other interesting ones to share about how audio hardware and software are built, I&#x27;d love to see them!</div><br/><div id="41296546" class="c"><input type="checkbox" id="c-41296546" checked=""/><div class="controls bullet"><span class="by">Slow_Hand</span><span>|</span><a href="#41296437">parent</a><span>|</span><a href="#41296912">next</a><span>|</span><label class="collapse" for="c-41296546">[-]</label><label class="expand" for="c-41296546">[1 more]</label></div><br/><div class="children"><div class="content">Sean Costello of Valhalla DSP is doing excellent work with his designs. He&#x27;s got a series of blog posts that delve into various approaches for designing reverb algorithms:<p><a href="https:&#x2F;&#x2F;valhalladsp.com&#x2F;2021&#x2F;09&#x2F;20&#x2F;getting-started-with-reverb-design-part-1-dev-environments&#x2F;" rel="nofollow">https:&#x2F;&#x2F;valhalladsp.com&#x2F;2021&#x2F;09&#x2F;20&#x2F;getting-started-with-reve...</a><p><a href="https:&#x2F;&#x2F;valhalladsp.com&#x2F;2021&#x2F;09&#x2F;22&#x2F;getting-started-with-reverb-design-part-2-the-foundations&#x2F;" rel="nofollow">https:&#x2F;&#x2F;valhalladsp.com&#x2F;2021&#x2F;09&#x2F;22&#x2F;getting-started-with-reve...</a></div><br/></div></div></div></div><div id="41295707" class="c"><input type="checkbox" id="c-41295707" checked=""/><div class="controls bullet"><span class="by">prashp</span><span>|</span><a href="#41296437">prev</a><span>|</span><a href="#41296411">next</a><span>|</span><label class="collapse" for="c-41295707">[-]</label><label class="expand" for="c-41295707">[9 more]</label></div><br/><div class="children"><div class="content">Is it possible to model reverb using a neural network (e.g. wavenet or LSTMs) for real-time use? Is this what something like Neural DSP is doing under the hood?</div><br/><div id="41296156" class="c"><input type="checkbox" id="c-41296156" checked=""/><div class="controls bullet"><span class="by">duped</span><span>|</span><a href="#41295707">parent</a><span>|</span><a href="#41296539">next</a><span>|</span><label class="collapse" for="c-41296156">[-]</label><label class="expand" for="c-41296156">[1 more]</label></div><br/><div class="children"><div class="content">The trick is not to use NNs for DSP but to discover the parameters for the DSP. In other words you hardcode the signal flow architecture using a common technique like an FDN but then train a NN to find &quot;good&quot; sounding parameters, like comparing to a convolution reverb or recordings.<p>The thing about reverb is they require a lot of state and nonlinearity is undesirable.</div><br/></div></div><div id="41296539" class="c"><input type="checkbox" id="c-41296539" checked=""/><div class="controls bullet"><span class="by">squeaky-clean</span><span>|</span><a href="#41295707">parent</a><span>|</span><a href="#41296156">prev</a><span>|</span><a href="#41295934">next</a><span>|</span><label class="collapse" for="c-41296539">[-]</label><label class="expand" for="c-41296539">[2 more]</label></div><br/><div class="children"><div class="content">For reverb I don&#x27;t see much practical use, mainly because you can capture a pretty-much-perfect recreation of a real space with an impulse response. No need for thousands or millions of rounds of training a network. For unrealistic reverbs, you have the problem that to get training data you&#x27;d have to invent several unrealistic reverb effects to apply to sounds. And once you&#x27;ve made those effects, there&#x27;s not really any reason to neural-netify them.<p>For NeuralDSP it&#x27;s a bit different because they use NN&#x27;s to simulate a guitar amp circuit which is a nonlinear system and so there&#x27;s no simple way to &quot;capture&quot; the effect the way that you can for reverb sims or speaker sims. And while you can make a very accurate model using something like SPICE, that won&#x27;t run in realtime. With traditional amp modeling you basically take the SPICE version and try to optimize and cheat as much as you can so it can run in realtime, at the cost of accuracy.<p>So that&#x27;s what NeuralDSP&#x27;s goal is, a system that approximates the amplifier but can also be computed in real-time, except done using a trained NN instead of a human-optimized variant of the SPICE circuit.<p>They have a couple whitepapers on their website, though none of them go deep enough to really give away their secret sauce. But basically according to them, making a NN model of an amplifier at a fixed setting is fairly simple. Where they had to get novel with it is adjustable settings&#x2F;parameters. E.g. turning the drive up, or turning the treble down. Just capturing a few hundred or thousand models based on adjusting parameters and cross-fading between them doesn&#x27;t sound realistic. So they had to come up with a larger model architecture that can &quot;learn&quot; those parameter changes.<p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2403.08559" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2403.08559</a></div><br/><div id="41297083" class="c"><input type="checkbox" id="c-41297083" checked=""/><div class="controls bullet"><span class="by">intalentive</span><span>|</span><a href="#41295707">root</a><span>|</span><a href="#41296539">parent</a><span>|</span><a href="#41295934">next</a><span>|</span><label class="collapse" for="c-41297083">[-]</label><label class="expand" for="c-41297083">[1 more]</label></div><br/><div class="children"><div class="content">Itâs not that hard, you just collect a lot of data. Much easier with a robot turning the knobs. Predict the next sample based on input and knob settings.</div><br/></div></div></div></div><div id="41295934" class="c"><input type="checkbox" id="c-41295934" checked=""/><div class="controls bullet"><span class="by">landonxjames</span><span>|</span><a href="#41295707">parent</a><span>|</span><a href="#41296539">prev</a><span>|</span><a href="#41296411">next</a><span>|</span><label class="collapse" for="c-41295934">[-]</label><label class="expand" for="c-41295934">[5 more]</label></div><br/><div class="children"><div class="content">Not sure about Neural DSP or reverbs in general, but real-time neural network based DSP seems very possible. The open source Neural amp modeler[1] would be a good place to start diving in.<p>[1] <a href="https:&#x2F;&#x2F;www.neuralampmodeler.com&#x2F;the-code" rel="nofollow">https:&#x2F;&#x2F;www.neuralampmodeler.com&#x2F;the-code</a></div><br/><div id="41296036" class="c"><input type="checkbox" id="c-41296036" checked=""/><div class="controls bullet"><span class="by">prashp</span><span>|</span><a href="#41295707">root</a><span>|</span><a href="#41295934">parent</a><span>|</span><a href="#41297016">next</a><span>|</span><label class="collapse" for="c-41296036">[-]</label><label class="expand" for="c-41296036">[3 more]</label></div><br/><div class="children"><div class="content">I have tried NAM but with limited success in modeling some time-based effects (e.g. octave shifting). However, I have not tried to model reverb effects.</div><br/><div id="41297023" class="c"><input type="checkbox" id="c-41297023" checked=""/><div class="controls bullet"><span class="by">intalentive</span><span>|</span><a href="#41295707">root</a><span>|</span><a href="#41296036">parent</a><span>|</span><a href="#41297016">next</a><span>|</span><label class="collapse" for="c-41297023">[-]</label><label class="expand" for="c-41297023">[2 more]</label></div><br/><div class="children"><div class="content">To handle time-based effects you need a custom architecture.<p><a href="https:&#x2F;&#x2F;www.research.ed.ac.uk&#x2F;en&#x2F;publications&#x2F;neural-modelling-of-periodically-modulated-time-varying-effects" rel="nofollow">https:&#x2F;&#x2F;www.research.ed.ac.uk&#x2F;en&#x2F;publications&#x2F;neural-modelli...</a><p>Donât use NAM. Learn PyTorch.</div><br/><div id="41297193" class="c"><input type="checkbox" id="c-41297193" checked=""/><div class="controls bullet"><span class="by">prashp</span><span>|</span><a href="#41295707">root</a><span>|</span><a href="#41297023">parent</a><span>|</span><a href="#41297016">next</a><span>|</span><label class="collapse" for="c-41297193">[-]</label><label class="expand" for="c-41297193">[1 more]</label></div><br/><div class="children"><div class="content">NAM uses pytorch for its NN implementation?</div><br/></div></div></div></div></div></div><div id="41297016" class="c"><input type="checkbox" id="c-41297016" checked=""/><div class="controls bullet"><span class="by">intalentive</span><span>|</span><a href="#41295707">root</a><span>|</span><a href="#41295934">parent</a><span>|</span><a href="#41296036">prev</a><span>|</span><a href="#41296411">next</a><span>|</span><label class="collapse" for="c-41297016">[-]</label><label class="expand" for="c-41297016">[1 more]</label></div><br/><div class="children"><div class="content">It is 100% possible and there are a slew of tricks you can use to get big performance boosts with negligible cost to accuracy.</div><br/></div></div></div></div></div></div><div id="41296038" class="c"><input type="checkbox" id="c-41296038" checked=""/><div class="controls bullet"><span class="by">peterburkimsher</span><span>|</span><a href="#41296411">prev</a><span>|</span><label class="collapse" for="c-41296038">[-]</label><label class="expand" for="c-41296038">[1 more]</label></div><br/><div class="children"><div class="content">On my personal laptop (Mac), I used AU Lab to apply effects to the music I listened to, and discovered that I like the ambience provided by adding a little reverb.<p>I&#x27;m interested in doing the same at work, but the office PCs run Windows and I&#x27;m somewhat limited in what I can install.<p>The Arduino Audio Tools library seemed like it would work, but it only applies effects on one channel.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;pschatzmann&#x2F;arduino-audio-tools&#x2F;wiki&#x2F;Audio-Effects#limitations">https:&#x2F;&#x2F;github.com&#x2F;pschatzmann&#x2F;arduino-audio-tools&#x2F;wiki&#x2F;Audi...</a><p>I discovered the Wishing Well stereo reverb pedal, and am wondering whether building one will allow me to apply the effect to music from an iPod, rather than a guitar.<p><a href="https:&#x2F;&#x2F;scientificguitarist.wixsite.com&#x2F;home&#x2F;wishing-well" rel="nofollow">https:&#x2F;&#x2F;scientificguitarist.wixsite.com&#x2F;home&#x2F;wishing-well</a><p>If anybody would like to group-buy the Wishing Well, please let me know - if I order PCBs and parts, I&#x27;ll have spares.</div><br/></div></div></div></div></div></div></div></body></html>