<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1716800484453" as="style"/><link rel="stylesheet" href="styles.css?v=1716800484453"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/transcriptionstream/transcriptionstream">Self-hosted offline transcription and diarization service with LLM summary</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>indigodaddy</span> | <span>30 comments</span></div><br/><div><div id="40486139" class="c"><input type="checkbox" id="c-40486139" checked=""/><div class="controls bullet"><span class="by">rimple</span><span>|</span><a href="#40486267">next</a><span>|</span><label class="collapse" for="c-40486139">[-]</label><label class="expand" for="c-40486139">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s cool. I&#x27;ve created a website(<a href="https:&#x2F;&#x2F;papertube.site" rel="nofollow">https:&#x2F;&#x2F;papertube.site</a>) that essentially transcribes video conversations for reading on Kindle. Right now, I&#x27;m relying on third-party APIs, but I was thinking about self-hosting to reduce costs.</div><br/><div id="40486167" class="c"><input type="checkbox" id="c-40486167" checked=""/><div class="controls bullet"><span class="by">3abiton</span><span>|</span><a href="#40486139">parent</a><span>|</span><a href="#40486204">next</a><span>|</span><label class="collapse" for="c-40486167">[-]</label><label class="expand" for="c-40486167">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s like reverse audio-book, but how do you tackle issues related to video content, as the visual medium contains more information dimension than just sound.</div><br/><div id="40486534" class="c"><input type="checkbox" id="c-40486534" checked=""/><div class="controls bullet"><span class="by">rimple</span><span>|</span><a href="#40486139">root</a><span>|</span><a href="#40486167">parent</a><span>|</span><a href="#40486204">next</a><span>|</span><label class="collapse" for="c-40486534">[-]</label><label class="expand" for="c-40486534">[1 more]</label></div><br/><div class="children"><div class="content">Not handling video content here. The focus is on cases where no visual content is needed, such as podcasts, TED talks, and conversations.</div><br/></div></div></div></div><div id="40486204" class="c"><input type="checkbox" id="c-40486204" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#40486139">parent</a><span>|</span><a href="#40486167">prev</a><span>|</span><a href="#40486267">next</a><span>|</span><label class="collapse" for="c-40486204">[-]</label><label class="expand" for="c-40486204">[1 more]</label></div><br/><div class="children"><div class="content">oh that&#x27;s awesome. I wanted to build that as well. tiny nit pick, left aligned is easier to read than justified, imo.</div><br/></div></div></div></div><div id="40486267" class="c"><input type="checkbox" id="c-40486267" checked=""/><div class="controls bullet"><span class="by">__jonas</span><span>|</span><a href="#40486139">prev</a><span>|</span><a href="#40485962">next</a><span>|</span><label class="collapse" for="c-40486267">[-]</label><label class="expand" for="c-40486267">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using this:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;bugbakery&#x2F;transcribee">https:&#x2F;&#x2F;github.com&#x2F;bugbakery&#x2F;transcribee</a><p>It&#x27;s noticeably work-in-progress but it does the job and has a nice UI to edit transcriptions and speakers etc.<p>It&#x27;s running on the CPU for me, would be nice to have something that can make use of a 4GB Nvidia GPU, which faster-whisper is actually able to [1]<p><a href="https:&#x2F;&#x2F;github.com&#x2F;SYSTRAN&#x2F;faster-whisper?tab=readme-ov-file#large-v2-model-on-gpu">https:&#x2F;&#x2F;github.com&#x2F;SYSTRAN&#x2F;faster-whisper?tab=readme-ov-file...</a></div><br/><div id="40487071" class="c"><input type="checkbox" id="c-40487071" checked=""/><div class="controls bullet"><span class="by">gooseyman</span><span>|</span><a href="#40486267">parent</a><span>|</span><a href="#40485962">next</a><span>|</span><label class="collapse" for="c-40487071">[-]</label><label class="expand" for="c-40487071">[2 more]</label></div><br/><div class="children"><div class="content">I couldn’t get the container to run for the life of me.</div><br/><div id="40488582" class="c"><input type="checkbox" id="c-40488582" checked=""/><div class="controls bullet"><span class="by">__jonas</span><span>|</span><a href="#40486267">root</a><span>|</span><a href="#40487071">parent</a><span>|</span><a href="#40485962">next</a><span>|</span><label class="collapse" for="c-40488582">[-]</label><label class="expand" for="c-40488582">[1 more]</label></div><br/><div class="children"><div class="content">Yeah the docker setup is broken, I just worked around it locally<p><a href="https:&#x2F;&#x2F;github.com&#x2F;bugbakery&#x2F;transcribee&#x2F;issues&#x2F;427#issuecomment-2028112368">https:&#x2F;&#x2F;github.com&#x2F;bugbakery&#x2F;transcribee&#x2F;issues&#x2F;427#issuecom...</a></div><br/></div></div></div></div></div></div><div id="40485962" class="c"><input type="checkbox" id="c-40485962" checked=""/><div class="controls bullet"><span class="by">siruva07</span><span>|</span><a href="#40486267">prev</a><span>|</span><a href="#40486924">next</a><span>|</span><label class="collapse" for="c-40485962">[-]</label><label class="expand" for="c-40485962">[1 more]</label></div><br/><div class="children"><div class="content">Built something similar for podcasts<p><a href="https:&#x2F;&#x2F;www.podsnacks.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.podsnacks.org&#x2F;</a></div><br/></div></div><div id="40486924" class="c"><input type="checkbox" id="c-40486924" checked=""/><div class="controls bullet"><span class="by">keineid</span><span>|</span><a href="#40485962">prev</a><span>|</span><a href="#40485739">next</a><span>|</span><label class="collapse" for="c-40486924">[-]</label><label class="expand" for="c-40486924">[4 more]</label></div><br/><div class="children"><div class="content">Anybody have recommendations for an easy way to grab &quot;outbound&quot; audio regardless of source? I meet with clients on a wide range of platforms and would love to be able to universally grab their audio to use here, regardless of what platform we&#x27;re in. I know there&#x27;s plenty of services, but would love to keep it all local.</div><br/><div id="40487065" class="c"><input type="checkbox" id="c-40487065" checked=""/><div class="controls bullet"><span class="by">password4321</span><span>|</span><a href="#40486924">parent</a><span>|</span><a href="#40485739">next</a><span>|</span><label class="collapse" for="c-40487065">[-]</label><label class="expand" for="c-40487065">[3 more]</label></div><br/><div class="children"><div class="content"><i>BlackHole: macOS Audio Loopback Driver</i><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40270219">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40270219</a><p>Not sure what you mean by source&#x2F;platforms, you might find what you need for your operating system on that discussion 3 weeks ago with links to options for macOS, Linux, and Windows.</div><br/><div id="40487268" class="c"><input type="checkbox" id="c-40487268" checked=""/><div class="controls bullet"><span class="by">keineid</span><span>|</span><a href="#40486924">root</a><span>|</span><a href="#40487065">parent</a><span>|</span><a href="#40485739">next</a><span>|</span><label class="collapse" for="c-40487268">[-]</label><label class="expand" for="c-40487268">[2 more]</label></div><br/><div class="children"><div class="content">Ha, forgot to specify Windows. I&#x27;ll dig into the discussion, thanks!</div><br/><div id="40488753" class="c"><input type="checkbox" id="c-40488753" checked=""/><div class="controls bullet"><span class="by">bt1a</span><span>|</span><a href="#40486924">root</a><span>|</span><a href="#40487268">parent</a><span>|</span><a href="#40485739">next</a><span>|</span><label class="collapse" for="c-40488753">[-]</label><label class="expand" for="c-40488753">[1 more]</label></div><br/><div class="children"><div class="content">I do what you&#x27;re describing with VB-CABLE on Windows (and Blackhole-2ch on macOS) + OBS<p><a href="https:&#x2F;&#x2F;vb-audio.com&#x2F;Cable&#x2F;index.htm" rel="nofollow">https:&#x2F;&#x2F;vb-audio.com&#x2F;Cable&#x2F;index.htm</a><p>So, if you wanted to transcribe the audio from one of your physical output devices (say you had your meeting software outputting on external headphones), you could set the virtual audio device as the monitoring device on the physical external headphones. Therefore, you end up with a virtual audio input device containing the audio from your meeting software. I also do this to apply a chain of filters to my condenser mic in OBS because it picks up everything.</div><br/></div></div></div></div></div></div></div></div><div id="40485739" class="c"><input type="checkbox" id="c-40485739" checked=""/><div class="controls bullet"><span class="by">BeefySwain</span><span>|</span><a href="#40486924">prev</a><span>|</span><a href="#40484922">next</a><span>|</span><label class="collapse" for="c-40485739">[-]</label><label class="expand" for="c-40485739">[1 more]</label></div><br/><div class="children"><div class="content">I was able to build something that does all this, more or less, in a couple weeks. It works really well.<p>I wanted to be able to transcribe and diarize in realtime though, which is much harder. Didn&#x27;t manage to make that happen.</div><br/></div></div><div id="40484922" class="c"><input type="checkbox" id="c-40484922" checked=""/><div class="controls bullet"><span class="by">bitshaker</span><span>|</span><a href="#40485739">prev</a><span>|</span><a href="#40486215">next</a><span>|</span><label class="collapse" for="c-40484922">[-]</label><label class="expand" for="c-40484922">[4 more]</label></div><br/><div class="children"><div class="content">Amazing. I’ll see if I can get this working on Mac too. I have so many use cases for this.<p>30 years of audio that needs transcribing, summaries, and worksheets made out of them.</div><br/><div id="40487183" class="c"><input type="checkbox" id="c-40487183" checked=""/><div class="controls bullet"><span class="by">genewitch</span><span>|</span><a href="#40484922">parent</a><span>|</span><a href="#40485497">next</a><span>|</span><label class="collapse" for="c-40487183">[-]</label><label class="expand" for="c-40487183">[2 more]</label></div><br/><div class="children"><div class="content">Whisper works ... kinda. I&#x27;m hoping there&#x27;s another set of models released at some point, the error rate isn&#x27;t appalling to me because i am transcribing TV shows and radio shows for personal use, so it&#x27;s not mission critical.<p>There are a few whisper diarization &quot;projects&quot; but i&#x27;ve never been able to get it to work. Whisper does have word-level timestamps, so it should be simple to &quot;plug in&quot; diarization.<p>I don&#x27;t need an LLM or whatever this project has, but i will see if it&#x27;s runnable and if it&#x27;s any better than what a couple podcasts i listen to use.<p>edit: see some people mentioning whisperx, which is one of those things that <i>was</i> cool until moving fast broke things:<p>&gt;As of Oct 11, 2023, there is a known issue regarding slow performance with pyannote&#x2F;Speaker-Diarization-3.0 in whisperX. It is due to dependency conflicts between faster-whisper and pyannote-audio 3.0.0. Please see this issue for more details and potential workarounds.<p>which means that what i gain is a ~3x increase in large-v2 speeds but i instantly lose those gains with diarization, unless i track down 8 month old bug workarounds.<p>I&#x27;ll stick with the py venv whisper install i&#x27;ve been using for the last 16 months, tyvm</div><br/><div id="40487495" class="c"><input type="checkbox" id="c-40487495" checked=""/><div class="controls bullet"><span class="by">forgingahead</span><span>|</span><a href="#40484922">root</a><span>|</span><a href="#40487183">parent</a><span>|</span><a href="#40485497">next</a><span>|</span><label class="collapse" for="c-40487495">[-]</label><label class="expand" for="c-40487495">[1 more]</label></div><br/><div class="children"><div class="content">Re: Diarization, I had decent results with testing this on Colab a while ago:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;MahmoudAshraf97&#x2F;whisper-diarization">https:&#x2F;&#x2F;github.com&#x2F;MahmoudAshraf97&#x2F;whisper-diarization</a><p>I remember having the usual python package hell when NeMo was updated somewhere, but it seems to be decently well maintained so give it a go.<p>*Edit, I remember reading somewhere that pyannote was a weak link in other repos, that might be why your other tests were not great.</div><br/></div></div></div></div><div id="40485497" class="c"><input type="checkbox" id="c-40485497" checked=""/><div class="controls bullet"><span class="by">toomuchtodo</span><span>|</span><a href="#40484922">parent</a><span>|</span><a href="#40487183">prev</a><span>|</span><a href="#40486215">next</a><span>|</span><label class="collapse" for="c-40485497">[-]</label><label class="expand" for="c-40485497">[1 more]</label></div><br/><div class="children"><div class="content">I would love to hear more about your use case!</div><br/></div></div></div></div><div id="40486215" class="c"><input type="checkbox" id="c-40486215" checked=""/><div class="controls bullet"><span class="by">101008</span><span>|</span><a href="#40484922">prev</a><span>|</span><a href="#40485181">next</a><span>|</span><label class="collapse" for="c-40486215">[-]</label><label class="expand" for="c-40486215">[3 more]</label></div><br/><div class="children"><div class="content">Is tehre a transcription engine (?) that works on Javascript? I&#x27;d love to make a browser extension that allows me to transcript Whatsapp audios instead of having to listen to them.</div><br/><div id="40486259" class="c"><input type="checkbox" id="c-40486259" checked=""/><div class="controls bullet"><span class="by">c0brac0bra</span><span>|</span><a href="#40486215">parent</a><span>|</span><a href="#40485181">next</a><span>|</span><label class="collapse" for="c-40486259">[-]</label><label class="expand" for="c-40486259">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s examples of whisper.cpp that run in the browser. Pretty laggy but they work.</div><br/><div id="40486546" class="c"><input type="checkbox" id="c-40486546" checked=""/><div class="controls bullet"><span class="by">indigodaddy</span><span>|</span><a href="#40486215">root</a><span>|</span><a href="#40486259">parent</a><span>|</span><a href="#40485181">next</a><span>|</span><label class="collapse" for="c-40486546">[-]</label><label class="expand" for="c-40486546">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;whisper.ggerganov.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;whisper.ggerganov.com&#x2F;</a></div><br/></div></div></div></div></div></div><div id="40485181" class="c"><input type="checkbox" id="c-40485181" checked=""/><div class="controls bullet"><span class="by">lbrito</span><span>|</span><a href="#40486215">prev</a><span>|</span><a href="#40486974">next</a><span>|</span><label class="collapse" for="c-40485181">[-]</label><label class="expand" for="c-40485181">[2 more]</label></div><br/><div class="children"><div class="content">What is the cost compared with something like Whisper API? Assuming one would use commodity cloud GPUs for self hosting</div><br/><div id="40485789" class="c"><input type="checkbox" id="c-40485789" checked=""/><div class="controls bullet"><span class="by">seligman99</span><span>|</span><a href="#40485181">parent</a><span>|</span><a href="#40486974">next</a><span>|</span><label class="collapse" for="c-40485789">[-]</label><label class="expand" for="c-40485789">[1 more]</label></div><br/><div class="children"><div class="content">WhisperX along with whisper-diarization, runs at something around 20x of real time on audio with a modern GPU, so for that part, you&#x27;re looking at around $1 per twenty hours of content to run it on a g5.xlarge, not counting time to build up a node (or around 1&#x2F;2 that for Spot prices, assuming you&#x27;re much luckier than I am at getting stable spot instances these days).<p>You can short circuit that time to build up a node a bit with a prebaked AMI on AWS, but there&#x27;s still some amount of time before a new node can start running at speed, around 10 minutes in my experience.<p>I haven&#x27;t looked at this particular solution yet, but I really find the LLMs to be hit or miss at summarizing transcripts.  Sometimes it&#x27;s impressive, sometimes it&#x27;s literally &quot;informal conversation between multiple people about various topics&quot;</div><br/></div></div></div></div><div id="40486974" class="c"><input type="checkbox" id="c-40486974" checked=""/><div class="controls bullet"><span class="by">SubiculumCode</span><span>|</span><a href="#40485181">prev</a><span>|</span><a href="#40485402">next</a><span>|</span><label class="collapse" for="c-40486974">[-]</label><label class="expand" for="c-40486974">[1 more]</label></div><br/><div class="children"><div class="content">I was just building out one of these for myself and working through some dependency issues! Cool!!</div><br/></div></div><div id="40485402" class="c"><input type="checkbox" id="c-40485402" checked=""/><div class="controls bullet"><span class="by">lloydatkinson</span><span>|</span><a href="#40486974">prev</a><span>|</span><a href="#40485335">next</a><span>|</span><label class="collapse" for="c-40485402">[-]</label><label class="expand" for="c-40485402">[1 more]</label></div><br/><div class="children"><div class="content">Can this translate too? As in transcribe audio and then give output in two languages?</div><br/></div></div><div id="40485335" class="c"><input type="checkbox" id="c-40485335" checked=""/><div class="controls bullet"><span class="by">ranger_danger</span><span>|</span><a href="#40485402">prev</a><span>|</span><label class="collapse" for="c-40485335">[-]</label><label class="expand" for="c-40485335">[5 more]</label></div><br/><div class="children"><div class="content">I thought local LLMs were unable to summarize large documents due to limited token counts or something like that? Can someone ELI5?</div><br/><div id="40485385" class="c"><input type="checkbox" id="c-40485385" checked=""/><div class="controls bullet"><span class="by">icelancer</span><span>|</span><a href="#40485335">parent</a><span>|</span><a href="#40485396">next</a><span>|</span><label class="collapse" for="c-40485385">[-]</label><label class="expand" for="c-40485385">[1 more]</label></div><br/><div class="children"><div class="content">You batch them. If token limit is 32k for example, you summarize them in batches of 32k tokens (inc. output) then summarize all the partial summaries.<p>It&#x27;s what we were doing at our company until Anthropic and others released larger context window LLMs. We do the TTS locally (whisperX) and the summarization via API. Though we&#x27;ve tried with local LLMs, too.</div><br/></div></div><div id="40485396" class="c"><input type="checkbox" id="c-40485396" checked=""/><div class="controls bullet"><span class="by">phh</span><span>|</span><a href="#40485335">parent</a><span>|</span><a href="#40485385">prev</a><span>|</span><label class="collapse" for="c-40485396">[-]</label><label class="expand" for="c-40485396">[3 more]</label></div><br/><div class="children"><div class="content">Well it&#x27;ll always depend on the length of the meeting to summarize. But they are using mistral which clocks at 32k context. With an average of 150 spoken words per minute, 1 token ~= word (which is rather pessimistic), that&#x27;s 3h30m of meeting. So I guess that&#x27;s okay?</div><br/><div id="40486518" class="c"><input type="checkbox" id="c-40486518" checked=""/><div class="controls bullet"><span class="by">rahimnathwani</span><span>|</span><a href="#40485335">root</a><span>|</span><a href="#40485396">parent</a><span>|</span><label class="collapse" for="c-40486518">[-]</label><label class="expand" for="c-40486518">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  mistral which clocks at 32k context
</code></pre>
I may be wrong, but my understanding was&#x2F;is:<p>- Mistral can handle 32k context, but only using sliding window attention. So it can&#x27;t really process all 32k tokens at once.<p>- Mixtral (note the &#x27;x&#x27;) 8x7B can handle 32k context without resorting to sliding window attention.<p>I wonder whether Mistral would do a better job summarizing a long (32k token) doc all at once, or using recursive summarization.</div><br/><div id="40486574" class="c"><input type="checkbox" id="c-40486574" checked=""/><div class="controls bullet"><span class="by">icelancer</span><span>|</span><a href="#40485335">root</a><span>|</span><a href="#40486518">parent</a><span>|</span><label class="collapse" for="c-40486574">[-]</label><label class="expand" for="c-40486574">[1 more]</label></div><br/><div class="children"><div class="content">Hmm. Interesting question. We had no issues using Mixtral 8x7B for this, perhaps reinforcing your point. We use fine-tuned Mistral-7B instances but not for long context stuff.<p>Maybe a neat eval to try.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>