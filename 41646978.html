<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1727686865557" as="style"/><link rel="stylesheet" href="styles.css?v=1727686865557"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.railsexplained.com/pages/hunting-for-gems/">Hunting for Gems: How Ruby&#x27;s package management system evolved</a> <span class="domain">(<a href="https://www.railsexplained.com">www.railsexplained.com</a>)</span></div><div class="subtext"><span>greytape</span> | <span>9 comments</span></div><br/><div><div id="41693347" class="c"><input type="checkbox" id="c-41693347" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#41693120">next</a><span>|</span><label class="collapse" for="c-41693347">[-]</label><label class="expand" for="c-41693347">[7 more]</label></div><br/><div class="children"><div class="content">FWIW, I LOVE bundler and it absolutely kills me that npm, pip still haven&#x27;t settled well in to the management of it.<p>Specifically, bundler allows side-by-side version installs and the program simply loads the version specified in the bundle.lock thus making the lock file the source of truth where as npm, pip, even poetry install whatever version exists at the path. This pushes the source of truth from the .lock to that path.<p>It&#x27;s not the end of the world, but when you&#x27;re testing library versions side-by-side you can easily get confused whether you remembered to run `install` between the switches.</div><br/><div id="41693643" class="c"><input type="checkbox" id="c-41693643" checked=""/><div class="controls bullet"><span class="by">hosh</span><span>|</span><a href="#41693347">parent</a><span>|</span><a href="#41693120">next</a><span>|</span><label class="collapse" for="c-41693643">[-]</label><label class="expand" for="c-41693643">[6 more]</label></div><br/><div class="children"><div class="content">It’s even worse when npm install modifies the package lock file.<p>It also doesn’t understand how to get packages from a git source.<p>From a release engineering perspective, this drives me batty.</div><br/><div id="41694592" class="c"><input type="checkbox" id="c-41694592" checked=""/><div class="controls bullet"><span class="by">noirscape</span><span>|</span><a href="#41693347">root</a><span>|</span><a href="#41693643">parent</a><span>|</span><a href="#41694093">next</a><span>|</span><label class="collapse" for="c-41694592">[-]</label><label class="expand" for="c-41694592">[1 more]</label></div><br/><div class="children"><div class="content">As I understand it, the idea is that npm install is what&#x27;s used during development, while npm ci&#x2F;clean-install is what you use for deployments and your CI system.<p>It makes the pretty heavy assumption that a developer will always be able to bugfix the version differences.</div><br/></div></div><div id="41694093" class="c"><input type="checkbox" id="c-41694093" checked=""/><div class="controls bullet"><span class="by">weaksauce</span><span>|</span><a href="#41693347">root</a><span>|</span><a href="#41693643">parent</a><span>|</span><a href="#41694592">prev</a><span>|</span><a href="#41693816">next</a><span>|</span><label class="collapse" for="c-41694093">[-]</label><label class="expand" for="c-41694093">[2 more]</label></div><br/><div class="children"><div class="content">i’ve said before that it’s like the npm people have made the worst possible design choice whenever asked for a decision. it’s insane how bad it is compared to bundler or comparable package management tools.</div><br/><div id="41694615" class="c"><input type="checkbox" id="c-41694615" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#41693347">root</a><span>|</span><a href="#41694093">parent</a><span>|</span><a href="#41693816">next</a><span>|</span><label class="collapse" for="c-41694615">[-]</label><label class="expand" for="c-41694615">[1 more]</label></div><br/><div class="children"><div class="content">No, I strongly disagree. Npm may have some weird ergonomics and defaults, but as a dependency manager it is first class. Before npm, almost all dependency managers suffered from the diamond dependency problem. Npm pioneered allowing multiple versions of packages to be simultaneously installed without having to chase down conflicting dependencies as long as the package involved is not a major framework (i.e. peer dependency). For example you can’t (or at least strongly discouraged to) have react v15 and react v20 in the same project, but you can have leftpad v1 and leftpad v3 in the same project. You cannot do this in most other languages like Ruby Python Dart C++ etc. (Java has a similar but half baked concept called shading which requires a separate plugin) Go and Rust followed what npm pioneered, allowing multiple conflicting dependencies too, saving countless hours of developer time. Rust goes as far as supporting linking against code from different language versions. Without npm, Cargo would be doing NP class dependency searches and Rust developers would be wasting forking old upstream repos to bring them up to date. Not everybody has the engineering resources of google to build everything in house and keep every single dependency in sync through a massive monorepo and test suite.<p>In the npm-style dependency managers, <i>generally speaking</i>, you don’t really get dependency conflicts unless it’s a large overarching peer dependency or something like global singleton e.g. a GPU driver. Regardless of your thoughts on npm or having a massive number of tiny dependencies, you can’t deny npm dragged the dependency management field into the 21st century and forced it to scale.</div><br/></div></div></div></div><div id="41693816" class="c"><input type="checkbox" id="c-41693816" checked=""/><div class="controls bullet"><span class="by">hschne</span><span>|</span><a href="#41693347">root</a><span>|</span><a href="#41693643">parent</a><span>|</span><a href="#41694093">prev</a><span>|</span><a href="#41693120">next</a><span>|</span><label class="collapse" for="c-41693816">[-]</label><label class="expand" for="c-41693816">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It also doesn’t understand how to get packages from a git source.<p>Not sure what you mean.<p><a href="https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;git.html" rel="nofollow">https:&#x2F;&#x2F;bundler.io&#x2F;guides&#x2F;git.html</a></div><br/><div id="41693934" class="c"><input type="checkbox" id="c-41693934" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#41693347">root</a><span>|</span><a href="#41693816">parent</a><span>|</span><a href="#41693120">next</a><span>|</span><label class="collapse" for="c-41693934">[-]</label><label class="expand" for="c-41693934">[1 more]</label></div><br/><div class="children"><div class="content">He&#x27;s talking about npm</div><br/></div></div></div></div></div></div></div></div><div id="41693120" class="c"><input type="checkbox" id="c-41693120" checked=""/><div class="controls bullet"><span class="by">bankcust08385</span><span>|</span><a href="#41693347">prev</a><span>|</span><label class="collapse" for="c-41693120">[-]</label><label class="expand" for="c-41693120">[1 more]</label></div><br/><div class="children"><div class="content">They still don&#x27;t have cryptographic signatures widely signing gems despite deploying optional infrastructure to do it. What a waste and sad.</div><br/></div></div></div></div></div></div></div></body></html>