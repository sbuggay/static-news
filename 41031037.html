<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721638876449" as="style"/><link rel="stylesheet" href="styles.css?v=1721638876449"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/BurntSushi/jiff">Jiff: A brand new Datetime library for Rust, from the author of ripgrep</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>goranmoomin</span> | <span>67 comments</span></div><br/><div><div id="41031223" class="c"><input type="checkbox" id="c-41031223" checked=""/><div class="controls bullet"><span class="by">sushibowl</span><span>|</span><a href="#41031670">next</a><span>|</span><label class="collapse" for="c-41031223">[-]</label><label class="expand" for="c-41031223">[30 more]</label></div><br/><div class="children"><div class="content">Overall this looks nice, but I found myself stumbling over the ToSpan syntax:<p><pre><code>    let span = 5.days().hours(8).minutes(1);
</code></pre>
It feels sort of weird how the first number appears in front, and then all the other ones are function arguments. I suppose if you don&#x27;t like that you can just write:<p><pre><code>    let span = Span::new().days(5).hours(8).minutes(1);
</code></pre>
at the expense of a couple characters, which is not too bad.</div><br/><div id="41031289" class="c"><input type="checkbox" id="c-41031289" checked=""/><div class="controls bullet"><span class="by">DemocracyFTW2</span><span>|</span><a href="#41031223">parent</a><span>|</span><a href="#41031294">next</a><span>|</span><label class="collapse" for="c-41031289">[-]</label><label class="expand" for="c-41031289">[9 more]</label></div><br/><div class="children"><div class="content">I stumbled over<p><pre><code>    use jiff::{Timestamp, ToSpan};

    fn main() -&gt; Result&lt;(), jiff::Error&gt; {
        let time: Timestamp = &quot;2024-07-11T01:14:00Z&quot;.parse()?;
</code></pre>
I seem to remember Rust does that thing with interfaces instead of classes, is it that? How come I import a library and all of a sudden strings have a `parse()` method that despite its generic name results in a `Timestamp` object? or is it the left-hand side that determines which meaning `str.parse()` should have? What if I have two libraries, one for dates and one for say, Lisp expressions that both augment strings with a `parse()` method? Why use this syntax at all, why not, say, `Timestamp.parse( str )`? I have so many questions.</div><br/><div id="41031346" class="c"><input type="checkbox" id="c-41031346" checked=""/><div class="controls bullet"><span class="by">kam</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031289">parent</a><span>|</span><a href="#41031505">next</a><span>|</span><label class="collapse" for="c-41031346">[-]</label><label class="expand" for="c-41031346">[1 more]</label></div><br/><div class="children"><div class="content">`parse` is actually an inherent method on `str` that always exists: <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;core&#x2F;primitive.str.html#method.parse" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;core&#x2F;primitive.str.html#method.par...</a><p>Its return type is generic, and here it&#x27;s inferred from the left hand side. It&#x27;s implemented using the `FromStr` trait, and you can equivalently write `Timestamp::from_str(t)`.<p>You&#x27;re thinking of the &quot;extension trait&quot; pattern for using traits to add methods to existing types when the trait in scope, but that&#x27;s not what&#x27;s going on here. Jiff&#x27;s `ToSpan` mentioned above is an example of that pattern, though: <a href="https:&#x2F;&#x2F;docs.rs&#x2F;jiff&#x2F;latest&#x2F;jiff&#x2F;trait.ToSpan.html" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;jiff&#x2F;latest&#x2F;jiff&#x2F;trait.ToSpan.html</a></div><br/></div></div><div id="41031505" class="c"><input type="checkbox" id="c-41031505" checked=""/><div class="controls bullet"><span class="by">nindalf</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031289">parent</a><span>|</span><a href="#41031346">prev</a><span>|</span><a href="#41031348">next</a><span>|</span><label class="collapse" for="c-41031505">[-]</label><label class="expand" for="c-41031505">[3 more]</label></div><br/><div class="children"><div class="content">All of these options work and are equivalent.<p>- let time = Timestamp::parse(&quot;2024-07-11T01:14:00Z&quot;)?;<p>- let time: Timestamp = &quot;2024-07-11T01:14:00Z&quot;.parse()?;<p>- let time = &quot;2024-07-11T01:14:00Z&quot;.parse::&lt;Timestamp&gt;()?;<p>You’re free to choose whatever you prefer, although the compiler needs to be able to infer the type of time. If it can’t, it’ll let you know.<p>So a fourth option is allowed, as long as the subsequent lines make the type of time unambiguous.<p>- let time = &quot;2024-07-11T01:14:00Z&quot;.parse()?;<p>This is a direct consequence of Timestamp implementing the FromStr trait.</div><br/><div id="41031755" class="c"><input type="checkbox" id="c-41031755" checked=""/><div class="controls bullet"><span class="by">Sharlin</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031505">parent</a><span>|</span><a href="#41031348">next</a><span>|</span><label class="collapse" for="c-41031755">[-]</label><label class="expand" for="c-41031755">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  let time = Timestamp::from_str(&quot;2024-07-11T01:14:00Z&quot;)?;
</code></pre>
I think you meant :)</div><br/><div id="41032142" class="c"><input type="checkbox" id="c-41032142" checked=""/><div class="controls bullet"><span class="by">nindalf</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031755">parent</a><span>|</span><a href="#41031348">next</a><span>|</span><label class="collapse" for="c-41032142">[-]</label><label class="expand" for="c-41032142">[1 more]</label></div><br/><div class="children"><div class="content">Haha, yes I did. If only the HN textbox integrated with rust-analyzer, it would have caught the mistake.</div><br/></div></div></div></div></div></div><div id="41031348" class="c"><input type="checkbox" id="c-41031348" checked=""/><div class="controls bullet"><span class="by">nrabulinski</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031289">parent</a><span>|</span><a href="#41031505">prev</a><span>|</span><a href="#41031339">next</a><span>|</span><label class="collapse" for="c-41031348">[-]</label><label class="expand" for="c-41031348">[1 more]</label></div><br/><div class="children"><div class="content">It’s because Timestamp implements the FromStr trait which is one of the first traits everyone learns about when learning rust. So when you say that your value is a Timestamp and the expression is string.parse()?, the compiler knows that it has to use the implementation which returns a Timestamp.<p>There will never be two libraries that clash because of Rust’s orphan rule: you can only implement either a trait which you define on any type, or define a foreign trait on a type which you define, so there’s no way for some random library to also ship an implementation of FromStr for Timestamp</div><br/></div></div><div id="41031339" class="c"><input type="checkbox" id="c-41031339" checked=""/><div class="controls bullet"><span class="by">Tigress8780</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031289">parent</a><span>|</span><a href="#41031348">prev</a><span>|</span><a href="#41031433">next</a><span>|</span><label class="collapse" for="c-41031339">[-]</label><label class="expand" for="c-41031339">[1 more]</label></div><br/><div class="children"><div class="content">Rust will determine what `parse` does based on the inferred return type (which is being explicitly set to `Timestamp` here). This is possible when the return type has `FromStr` trait.</div><br/></div></div><div id="41031433" class="c"><input type="checkbox" id="c-41031433" checked=""/><div class="controls bullet"><span class="by">csomar</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031289">parent</a><span>|</span><a href="#41031339">prev</a><span>|</span><a href="#41031294">next</a><span>|</span><label class="collapse" for="c-41031433">[-]</label><label class="expand" for="c-41031433">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s implied. Here is the full syntax.<p>&gt; let time: Timestamp = &quot;2024-07-11T01:14:00Z&quot;.parse::&lt;Timestamp&gt;()?;</div><br/><div id="41031494" class="c"><input type="checkbox" id="c-41031494" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031433">parent</a><span>|</span><a href="#41031294">next</a><span>|</span><label class="collapse" for="c-41031494">[-]</label><label class="expand" for="c-41031494">[1 more]</label></div><br/><div class="children"><div class="content">That ::&lt;TYPE&gt; thing at the end is called a turbofish. It is rarely necessary to give it explicitly (but sometimes you do when the compiler cannot infer the return type on its own—thusfar in my own rust coding I’ve needed it exactly once).</div><br/></div></div></div></div></div></div><div id="41031294" class="c"><input type="checkbox" id="c-41031294" checked=""/><div class="controls bullet"><span class="by">frereit</span><span>|</span><a href="#41031223">parent</a><span>|</span><a href="#41031289">prev</a><span>|</span><a href="#41032073">next</a><span>|</span><label class="collapse" for="c-41031294">[-]</label><label class="expand" for="c-41031294">[4 more]</label></div><br/><div class="children"><div class="content">I agree. Personally, I&#x27;d prefer<p><pre><code>    let span = 5.days() + 8.hours() + 1.minutes();</code></pre></div><br/><div id="41031659" class="c"><input type="checkbox" id="c-41031659" checked=""/><div class="controls bullet"><span class="by">mutatio</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031294">parent</a><span>|</span><a href="#41031462">next</a><span>|</span><label class="collapse" for="c-41031659">[-]</label><label class="expand" for="c-41031659">[1 more]</label></div><br/><div class="children"><div class="content">Looks like it should be supported: <a href="https:&#x2F;&#x2F;docs.rs&#x2F;jiff&#x2F;latest&#x2F;jiff&#x2F;struct.Span.html#impl-Add%3CSpan%3E-for-%26Zoned" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;jiff&#x2F;latest&#x2F;jiff&#x2F;struct.Span.html#impl-Add%3...</a></div><br/></div></div><div id="41031462" class="c"><input type="checkbox" id="c-41031462" checked=""/><div class="controls bullet"><span class="by">csomar</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031294">parent</a><span>|</span><a href="#41031659">prev</a><span>|</span><a href="#41031645">next</a><span>|</span><label class="collapse" for="c-41031462">[-]</label><label class="expand" for="c-41031462">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if OP will accept a PR for such a change. Your proposal is much readable and flexible (it&#x27;s not clear from the docs if you can add random time ranges together). Plus, you&#x27;ll be able to create your own ranges like `1.decade` or `1.application_timeframe` and add&#x2F;subtract them.</div><br/></div></div><div id="41031645" class="c"><input type="checkbox" id="c-41031645" checked=""/><div class="controls bullet"><span class="by">mijoharas</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031294">parent</a><span>|</span><a href="#41031462">prev</a><span>|</span><a href="#41032073">next</a><span>|</span><label class="collapse" for="c-41031645">[-]</label><label class="expand" for="c-41031645">[1 more]</label></div><br/><div class="children"><div class="content">Have you checked the API to see if that works? I imagine it does.</div><br/></div></div></div></div><div id="41032073" class="c"><input type="checkbox" id="c-41032073" checked=""/><div class="controls bullet"><span class="by">gpderetta</span><span>|</span><a href="#41031223">parent</a><span>|</span><a href="#41031294">prev</a><span>|</span><a href="#41031279">next</a><span>|</span><label class="collapse" for="c-41032073">[-]</label><label class="expand" for="c-41032073">[1 more]</label></div><br/><div class="children"><div class="content">Can you do 5.days() + 8.hours() + 1.minutes()?</div><br/></div></div><div id="41031279" class="c"><input type="checkbox" id="c-41031279" checked=""/><div class="controls bullet"><span class="by">tomas789</span><span>|</span><a href="#41031223">parent</a><span>|</span><a href="#41032073">prev</a><span>|</span><a href="#41031743">next</a><span>|</span><label class="collapse" for="c-41031279">[-]</label><label class="expand" for="c-41031279">[1 more]</label></div><br/><div class="children"><div class="content">I agree with that. In my thought process is to specify what I’m doing and only then some details. This is the other way around. When reading the code, it would be better to see that I’m dealing with span at first.</div><br/></div></div><div id="41031743" class="c"><input type="checkbox" id="c-41031743" checked=""/><div class="controls bullet"><span class="by">Sharlin</span><span>|</span><a href="#41031223">parent</a><span>|</span><a href="#41031279">prev</a><span>|</span><a href="#41031276">next</a><span>|</span><label class="collapse" for="c-41031743">[-]</label><label class="expand" for="c-41031743">[3 more]</label></div><br/><div class="children"><div class="content">Yeah, or there could simply be a `days()` free function (and equivalents of the other methods too). No need for struct constructors to be associated functions.</div><br/><div id="41031882" class="c"><input type="checkbox" id="c-41031882" checked=""/><div class="controls bullet"><span class="by">creata</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031743">parent</a><span>|</span><a href="#41031276">next</a><span>|</span><label class="collapse" for="c-41031882">[-]</label><label class="expand" for="c-41031882">[2 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t tried it (so I&#x27;m sorry if it&#x27;s wrong or not what you&#x27;re talking about) but can&#x27;t you get a freestanding days function by<p><pre><code>    use jiff::ToSpan::days;</code></pre></div><br/><div id="41032078" class="c"><input type="checkbox" id="c-41032078" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031882">parent</a><span>|</span><a href="#41031276">next</a><span>|</span><label class="collapse" for="c-41032078">[-]</label><label class="expand" for="c-41032078">[1 more]</label></div><br/><div class="children"><div class="content">You cannot import trait methods as free standing functions.  I&#x27;m not sure if there was a discussion about making this a possibility but it&#x27;s definitely not something you can do today.</div><br/></div></div></div></div></div></div><div id="41031276" class="c"><input type="checkbox" id="c-41031276" checked=""/><div class="controls bullet"><span class="by">Galanwe</span><span>|</span><a href="#41031223">parent</a><span>|</span><a href="#41031743">prev</a><span>|</span><a href="#41031670">next</a><span>|</span><label class="collapse" for="c-41031276">[-]</label><label class="expand" for="c-41031276">[11 more]</label></div><br/><div class="children"><div class="content">If only Rust had named function parameters, you could write what is IMHO the most readable option:<p><pre><code>    Span::new(days=5, hours=8, minutes=1)</code></pre></div><br/><div id="41031618" class="c"><input type="checkbox" id="c-41031618" checked=""/><div class="controls bullet"><span class="by">_flux</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031276">parent</a><span>|</span><a href="#41031298">next</a><span>|</span><label class="collapse" for="c-41031618">[-]</label><label class="expand" for="c-41031618">[4 more]</label></div><br/><div class="children"><div class="content">Yes, that could&#x27;ve been lended almost as-is from OCaml, in particular as Rust doesn&#x27;t have partial application so optional arguments would work out-of-the-box as well.</div><br/><div id="41031842" class="c"><input type="checkbox" id="c-41031842" checked=""/><div class="controls bullet"><span class="by">berkes</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031618">parent</a><span>|</span><a href="#41031298">next</a><span>|</span><label class="collapse" for="c-41031842">[-]</label><label class="expand" for="c-41031842">[3 more]</label></div><br/><div class="children"><div class="content">Are named arguments on the roadmap somewhere? Or is it a won&#x27;t-fix?</div><br/><div id="41032157" class="c"><input type="checkbox" id="c-41032157" checked=""/><div class="controls bullet"><span class="by">PoignardAzur</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031842">parent</a><span>|</span><a href="#41032148">next</a><span>|</span><label class="collapse" for="c-41032157">[-]</label><label class="expand" for="c-41032157">[1 more]</label></div><br/><div class="children"><div class="content">The feature is controversial enough that it&#x27;s basically a wontfix.</div><br/></div></div><div id="41032148" class="c"><input type="checkbox" id="c-41032148" checked=""/><div class="controls bullet"><span class="by">_flux</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031842">parent</a><span>|</span><a href="#41032157">prev</a><span>|</span><a href="#41031298">next</a><span>|</span><label class="collapse" for="c-41032148">[-]</label><label class="expand" for="c-41032148">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t seen anything for or against in actual roadmaps. But there is, of course, at least one pre-proposal:<p><a href="https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;pre-rfc-named-arguments&#x2F;16413" rel="nofollow">https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;pre-rfc-named-arguments&#x2F;16...</a><p>It doesn&#x27;t think about optional arguments (but somehow does include overloading). And a bit in a related fashion, it doesn&#x27;t permit for reordering calling arguments, which I consider a downside:<p>&gt; Reordering named arguments when calling<p>&gt; No it is not possible. Just like unnamed arguments and generics, named arguments are also position-based and cannot be reordered when calling: register(name:surname:) cannot be called as register(surname:name:).<p>&gt; Reordering them at the definition site is an API break, just like reordering unnamed arguments or generics is an API break already.<p>The rationale for this expressed in the comments says it&#x27;s incompatible with overloading, but to me I don&#x27;t see why named arguments and overloading should go hand-in-hand—or, indeed, how desirable overloading is in the first place. Or why should overloading be able to overload that kind of scenario. The other reasons for this don&#x27;t seem really problems at all.<p><pre><code>    &gt; fn func2(pub name: u32, name hidden: u32) { &#x2F;\* ... *&#x2F; }
    &gt; fn func3(name hidden1: u32, name hidden2: u32) { &#x2F;* ... *&#x2F; }
</code></pre>
&gt; func2 and func3 could work in theory: named arguments as proposed in this RFC are position-based and their internal names are different: just like two arguments can have the same type without ambiguity, those functions could be allowed.<p>Maybe there are technical reasons that are simpler when considering type compatibility between function types that have or don&#x27;t have labeled arguments? Seems the proposal has misunderstood something about OCaml labeled arguments when placing it under <a href="https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;pre-rfc-named-arguments&#x2F;16413#mandatory-and-ordered-named-arguments-61" rel="nofollow">https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;pre-rfc-named-arguments&#x2F;16...</a> , though.<p>In addition the proposal doesn&#x27;t seem to have a neat syntax for forwarding named parameters, like in constructing records you can just fill in a field called foo by mentioning its name by itself—or, like in OCaml you can have<p><pre><code>    let foo ~bar = bar + 1
    let baz ~bar = foo ~bar

    let main () = baz ~bar:42
</code></pre>
If it used the .-prefix as mentioned as an idea elsewhere, then this too could be naturally expressed.<p>Maybe there are other ideas how to go about the labeled arguments, though that one seems pretty well thought-out.<p>One thing I&#x27;ve enjoyed with Python (and Mypy) is the ability to <i>require</i> the caller to use named arguments with the asterisk marker in the parameter list. This idea is mentioned in the proposal.</div><br/></div></div></div></div></div></div><div id="41031298" class="c"><input type="checkbox" id="c-41031298" checked=""/><div class="controls bullet"><span class="by">DemocracyFTW2</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031276">parent</a><span>|</span><a href="#41031618">prev</a><span>|</span><a href="#41031979">next</a><span>|</span><label class="collapse" for="c-41031298">[-]</label><label class="expand" for="c-41031298">[5 more]</label></div><br/><div class="children"><div class="content">could you do that with `struct` &#x2F; `record` fields? In JavaScript which doesn&#x27;t have named function parameters either I often write functions with a single `cfg` parameter that are called like `f({ hours: 2, seconds: 53, })` which I find nice b&#x2F;c it re-uses existing data structures.</div><br/><div id="41031487" class="c"><input type="checkbox" id="c-41031487" checked=""/><div class="controls bullet"><span class="by">devanl</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031298">parent</a><span>|</span><a href="#41031447">next</a><span>|</span><label class="collapse" for="c-41031487">[-]</label><label class="expand" for="c-41031487">[1 more]</label></div><br/><div class="children"><div class="content">In Rust, you can&#x27;t implicitly omit fields when instantiating a struct, so it would have to be a bit more verbose, explicitly using Rust&#x27;s analog to the spread syntax.<p>It would have to look something like:<p><pre><code>  f({ hours: 2, seconds: 53, ..Default::default() })

</code></pre>
The defaults could come from some value &#x2F; function with a name shorter than Default::default(), but it would be less clear.</div><br/></div></div><div id="41031447" class="c"><input type="checkbox" id="c-41031447" checked=""/><div class="controls bullet"><span class="by">Galanwe</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031298">parent</a><span>|</span><a href="#41031487">prev</a><span>|</span><a href="#41031542">next</a><span>|</span><label class="collapse" for="c-41031447">[-]</label><label class="expand" for="c-41031447">[1 more]</label></div><br/><div class="children"><div class="content">Well the beautiful thing about software engineering is that pretty much everything is possible, it essentially boils down to &quot;but should you really&quot;? :-)</div><br/></div></div><div id="41031542" class="c"><input type="checkbox" id="c-41031542" checked=""/><div class="controls bullet"><span class="by">4hg4ufxhy</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031298">parent</a><span>|</span><a href="#41031447">prev</a><span>|</span><a href="#41031979">next</a><span>|</span><label class="collapse" for="c-41031542">[-]</label><label class="expand" for="c-41031542">[2 more]</label></div><br/><div class="children"><div class="content">Kind of inefficient. Also it&#x27;s less ergonomic since every struct is it&#x27;s own type, so you need to have the signature on both sides.</div><br/><div id="41031820" class="c"><input type="checkbox" id="c-41031820" checked=""/><div class="controls bullet"><span class="by">benmmurphy</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031542">parent</a><span>|</span><a href="#41031979">next</a><span>|</span><label class="collapse" for="c-41031820">[-]</label><label class="expand" for="c-41031820">[1 more]</label></div><br/><div class="children"><div class="content">It should compile to the same because a struct passed by value is loaded into the registers the same as method arguments.</div><br/></div></div></div></div></div></div><div id="41031979" class="c"><input type="checkbox" id="c-41031979" checked=""/><div class="controls bullet"><span class="by">nurettin</span><span>|</span><a href="#41031223">root</a><span>|</span><a href="#41031276">parent</a><span>|</span><a href="#41031298">prev</a><span>|</span><a href="#41031670">next</a><span>|</span><label class="collapse" for="c-41031979">[-]</label><label class="expand" for="c-41031979">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m all for named parameters. C++ is sorely lacking that feature as well.<p>Currently using vs code with C++, I like how it handles the missing language feature by adding a grayed out parameter name before the value for function calls and initializers. Maybe there is something like that for rust.</div><br/></div></div></div></div></div></div><div id="41031670" class="c"><input type="checkbox" id="c-41031670" checked=""/><div class="controls bullet"><span class="by">mijoharas</span><span>|</span><a href="#41031223">prev</a><span>|</span><a href="#41031213">next</a><span>|</span><label class="collapse" for="c-41031670">[-]</label><label class="expand" for="c-41031670">[3 more]</label></div><br/><div class="children"><div class="content">This looks like a cool library.<p>Does anyone know why burntsushi is making this new library? I haven&#x27;t messed around with times in rust much, but do the existing libraries have performance problems? Or are the existing API&#x27;s awkward to use? Or is he just doing it for fun, or some other reason?</div><br/><div id="41031767" class="c"><input type="checkbox" id="c-41031767" checked=""/><div class="controls bullet"><span class="by">Sharlin</span><span>|</span><a href="#41031670">parent</a><span>|</span><a href="#41031752">next</a><span>|</span><label class="collapse" for="c-41031767">[-]</label><label class="expand" for="c-41031767">[1 more]</label></div><br/><div class="children"><div class="content">Linked from the readme:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;jiff&#x2F;blob&#x2F;master&#x2F;DESIGN.md">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;jiff&#x2F;blob&#x2F;master&#x2F;DESIGN.md</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;jiff&#x2F;blob&#x2F;master&#x2F;COMPARE.md">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;jiff&#x2F;blob&#x2F;master&#x2F;COMPARE.md</a><p>TLDR: API and IANA timezone support primarily.</div><br/></div></div><div id="41031752" class="c"><input type="checkbox" id="c-41031752" checked=""/><div class="controls bullet"><span class="by">richrichie</span><span>|</span><a href="#41031670">parent</a><span>|</span><a href="#41031767">prev</a><span>|</span><a href="#41031213">next</a><span>|</span><label class="collapse" for="c-41031752">[-]</label><label class="expand" for="c-41031752">[1 more]</label></div><br/><div class="children"><div class="content">chrono is pretty good IMO.</div><br/></div></div></div></div><div id="41031213" class="c"><input type="checkbox" id="c-41031213" checked=""/><div class="controls bullet"><span class="by">sam0x17</span><span>|</span><a href="#41031670">prev</a><span>|</span><a href="#41031971">next</a><span>|</span><label class="collapse" for="c-41031213">[-]</label><label class="expand" for="c-41031213">[5 more]</label></div><br/><div class="children"><div class="content">Not to mention that BurntSushi is the author of the entire rust regex ecosystem</div><br/><div id="41031509" class="c"><input type="checkbox" id="c-41031509" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#41031213">parent</a><span>|</span><a href="#41031971">next</a><span>|</span><label class="collapse" for="c-41031509">[-]</label><label class="expand" for="c-41031509">[4 more]</label></div><br/><div class="children"><div class="content">I remember getting into a debate with him on Reddit about something or other and then realizing who I was debating with and saying never mind.</div><br/><div id="41031533" class="c"><input type="checkbox" id="c-41031533" checked=""/><div class="controls bullet"><span class="by">ramon156</span><span>|</span><a href="#41031213">root</a><span>|</span><a href="#41031509">parent</a><span>|</span><a href="#41031971">next</a><span>|</span><label class="collapse" for="c-41031533">[-]</label><label class="expand" for="c-41031533">[3 more]</label></div><br/><div class="children"><div class="content">That shouldn&#x27;t stop you from settling an argument (given it was respectful). The best way to learn is to be wronged by smarter people.</div><br/><div id="41031772" class="c"><input type="checkbox" id="c-41031772" checked=""/><div class="controls bullet"><span class="by">komadori</span><span>|</span><a href="#41031213">root</a><span>|</span><a href="#41031533">parent</a><span>|</span><a href="#41031780">next</a><span>|</span><label class="collapse" for="c-41031772">[-]</label><label class="expand" for="c-41031772">[1 more]</label></div><br/><div class="children"><div class="content">Also, just because someone is famous&#x2F;important&#x2F;etc doesn&#x27;t mean they&#x27;re always right. In fact, one of the dangerous things about being famous is the people stop being willing to disagree with you and that can lead to becoming detached and warped as a person.</div><br/></div></div><div id="41031780" class="c"><input type="checkbox" id="c-41031780" checked=""/><div class="controls bullet"><span class="by">qup</span><span>|</span><a href="#41031213">root</a><span>|</span><a href="#41031533">parent</a><span>|</span><a href="#41031772">prev</a><span>|</span><a href="#41031971">next</a><span>|</span><label class="collapse" for="c-41031780">[-]</label><label class="expand" for="c-41031780">[1 more]</label></div><br/><div class="children"><div class="content">I feel very certain that&#x27;s not the best way to learn.</div><br/></div></div></div></div></div></div></div></div><div id="41031971" class="c"><input type="checkbox" id="c-41031971" checked=""/><div class="controls bullet"><span class="by">sva_</span><span>|</span><a href="#41031213">prev</a><span>|</span><a href="#41031303">next</a><span>|</span><label class="collapse" for="c-41031971">[-]</label><label class="expand" for="c-41031971">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s pronounced &#x27;Giff&#x27; (with a hard &#x27;G&#x27;)</div><br/></div></div><div id="41031303" class="c"><input type="checkbox" id="c-41031303" checked=""/><div class="controls bullet"><span class="by">tomas789</span><span>|</span><a href="#41031971">prev</a><span>|</span><a href="#41031411">next</a><span>|</span><label class="collapse" for="c-41031303">[-]</label><label class="expand" for="c-41031303">[1 more]</label></div><br/><div class="children"><div class="content">The state of calendar libraries in Rust is less than ideal. When working with Pandas, there is .tz_convert() and .tz_localize() and that is basically it for timezone conversions. My benchmark for this is: given a date, get first hour of CET&#x2F;CEST day in UTC. In Pandas a very simple operation. In Chrono, you have to have a NaiveDate, convert to DateTime&lt;FixedOffset&gt; and then to DateTime&lt;Utc&gt;. And there is no pattern in those conversions I managed to find. Sometimes it is a member function, other times a static method on the timezone object.<p>I hope somebody will rectify this at some point. Jiff seems like a step in a right direction but the syntax is sometimes weird. I guess I’d wellcome something more predictable</div><br/></div></div><div id="41031411" class="c"><input type="checkbox" id="c-41031411" checked=""/><div class="controls bullet"><span class="by">7bit</span><span>|</span><a href="#41031303">prev</a><span>|</span><a href="#41031952">next</a><span>|</span><label class="collapse" for="c-41031411">[-]</label><label class="expand" for="c-41031411">[4 more]</label></div><br/><div class="children"><div class="content">So, ist it pronounced jiff or gif?</div><br/><div id="41031461" class="c"><input type="checkbox" id="c-41031461" checked=""/><div class="controls bullet"><span class="by">sschueller</span><span>|</span><a href="#41031411">parent</a><span>|</span><a href="#41031778">next</a><span>|</span><label class="collapse" for="c-41031461">[-]</label><label class="expand" for="c-41031461">[1 more]</label></div><br/><div class="children"><div class="content">The author gets to decide IMO. Gif was always pronounced &quot;jif&quot; according to the creator so I hope the creator of this new tool will pronounce Jiff as &quot;gif&quot; to avoid confusion...</div><br/></div></div><div id="41031778" class="c"><input type="checkbox" id="c-41031778" checked=""/><div class="controls bullet"><span class="by">Sharlin</span><span>|</span><a href="#41031411">parent</a><span>|</span><a href="#41031461">prev</a><span>|</span><a href="#41031549">next</a><span>|</span><label class="collapse" for="c-41031778">[-]</label><label class="expand" for="c-41031778">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;jiff&#x2F;blob&#x2F;master&#x2F;DESIGN.md#why-name-the-library-jiff">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;jiff&#x2F;blob&#x2F;master&#x2F;DESIGN.md#why...</a><p>&gt; Jiff is pronounced like &quot;gif&quot; with a soft &quot;g,&quot; as in &quot;gem.&quot;<p>Heh, I see what they did there…</div><br/></div></div><div id="41031549" class="c"><input type="checkbox" id="c-41031549" checked=""/><div class="controls bullet"><span class="by">runiq</span><span>|</span><a href="#41031411">parent</a><span>|</span><a href="#41031778">prev</a><span>|</span><a href="#41031952">next</a><span>|</span><label class="collapse" for="c-41031549">[-]</label><label class="expand" for="c-41031549">[1 more]</label></div><br/><div class="children"><div class="content">Imma pronounce it biff, it&#x27;s a time handling library after all.</div><br/></div></div></div></div><div id="41031952" class="c"><input type="checkbox" id="c-41031952" checked=""/><div class="controls bullet"><span class="by">returnfalse</span><span>|</span><a href="#41031411">prev</a><span>|</span><a href="#41031823">next</a><span>|</span><label class="collapse" for="c-41031952">[-]</label><label class="expand" for="c-41031952">[1 more]</label></div><br/><div class="children"><div class="content">Looks cool, thank you burntsushi for this. I have similar complaints about existing date-time libraries in rust. I’ll replace chrono&#x2F;time with Jiff in my projects.</div><br/></div></div><div id="41031823" class="c"><input type="checkbox" id="c-41031823" checked=""/><div class="controls bullet"><span class="by">raasdnil</span><span>|</span><a href="#41031952">prev</a><span>|</span><a href="#41031285">next</a><span>|</span><label class="collapse" for="c-41031823">[-]</label><label class="expand" for="c-41031823">[1 more]</label></div><br/><div class="children"><div class="content">Has to be pronounced gif right?</div><br/></div></div><div id="41031285" class="c"><input type="checkbox" id="c-41031285" checked=""/><div class="controls bullet"><span class="by">arijun</span><span>|</span><a href="#41031823">prev</a><span>|</span><a href="#41031357">next</a><span>|</span><label class="collapse" for="c-41031285">[-]</label><label class="expand" for="c-41031285">[11 more]</label></div><br/><div class="children"><div class="content">A little off topic but does anyone know the purpose of dual licensing MIT and the UNLICENSE? It seems like the second should already allow anyone to do whatever they want…</div><br/><div id="41031356" class="c"><input type="checkbox" id="c-41031356" checked=""/><div class="controls bullet"><span class="by">Xylakant</span><span>|</span><a href="#41031285">parent</a><span>|</span><a href="#41031316">next</a><span>|</span><label class="collapse" for="c-41031356">[-]</label><label class="expand" for="c-41031356">[3 more]</label></div><br/><div class="children"><div class="content">The unlicense is considered problematic in various jurisdictions, among them Germany - under German law, you cannot relinquish certain rights that are associated with the author at all. Dedicating something to the public domain is not a valid concept here. This means the whole license could be declared invalid in court. Other jurisdictions may be similarly problematic- thus the fallback to MIT<p>There’s a stackoverflow post that discusses some of the issues <a href="https:&#x2F;&#x2F;softwareengineering.stackexchange.com&#x2F;questions&#x2F;147111&#x2F;what-is-wrong-with-the-unlicense#147120" rel="nofollow">https:&#x2F;&#x2F;softwareengineering.stackexchange.com&#x2F;questions&#x2F;1471...</a></div><br/><div id="41031430" class="c"><input type="checkbox" id="c-41031430" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#41031285">root</a><span>|</span><a href="#41031356">parent</a><span>|</span><a href="#41031316">next</a><span>|</span><label class="collapse" for="c-41031430">[-]</label><label class="expand" for="c-41031430">[2 more]</label></div><br/><div class="children"><div class="content">My own summary and collection of information about the problems with the Unlicense: <a href="https:&#x2F;&#x2F;chrismorgan.info&#x2F;blog&#x2F;unlicense&#x2F;" rel="nofollow">https:&#x2F;&#x2F;chrismorgan.info&#x2F;blog&#x2F;unlicense&#x2F;</a><p>(I collected that mostly because I didn’t find all the relevant information in one place, or explanation of the reasonable alternatives.)</div><br/><div id="41031887" class="c"><input type="checkbox" id="c-41031887" checked=""/><div class="controls bullet"><span class="by">Xylakant</span><span>|</span><a href="#41031285">root</a><span>|</span><a href="#41031430">parent</a><span>|</span><a href="#41031316">next</a><span>|</span><label class="collapse" for="c-41031887">[-]</label><label class="expand" for="c-41031887">[1 more]</label></div><br/><div class="children"><div class="content">That looks like a pretty comprehensive overview. I&#x27;ll bookmark this for further reference :)</div><br/></div></div></div></div></div></div><div id="41031316" class="c"><input type="checkbox" id="c-41031316" checked=""/><div class="controls bullet"><span class="by">GolDDranks</span><span>|</span><a href="#41031285">parent</a><span>|</span><a href="#41031356">prev</a><span>|</span><a href="#41031317">next</a><span>|</span><label class="collapse" for="c-41031316">[-]</label><label class="expand" for="c-41031316">[5 more]</label></div><br/><div class="children"><div class="content">What I gather about the author&#x27;s thoughts about that, he isn&#x27;t a fan of copyright in general, and uses UNLICENSE as an ideological statement, plus a practical way of saying &quot;do whatever you want with this&quot;, but also slaps the option to use MIT as &quot;something almost as good&quot; because non-standard licenses deter corporate types, which kind of defeats the original &quot;do whatever you want&quot; purpose of UNLICENSE :D</div><br/><div id="41031676" class="c"><input type="checkbox" id="c-41031676" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41031285">root</a><span>|</span><a href="#41031316">parent</a><span>|</span><a href="#41031317">next</a><span>|</span><label class="collapse" for="c-41031676">[-]</label><label class="expand" for="c-41031676">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s what I gather from Unlicense too (in fact, this is confirmed in a linked bug thread where the author says he &quot;hates copyright&quot;).<p>I think the author is actually looking for the GPL but doesn&#x27;t realise it yet. Unlicense can&#x27;t make something free forever, no matter how hard the author wishes it. GPL can. In other words, Unlicense&#x2F;MIT is idealistic, GPL is pragmatic. You can&#x27;t turn off copyright, but you can make it work for the people instead of against them.</div><br/><div id="41031830" class="c"><input type="checkbox" id="c-41031830" checked=""/><div class="controls bullet"><span class="by">rahkiin</span><span>|</span><a href="#41031285">root</a><span>|</span><a href="#41031676">parent</a><span>|</span><a href="#41031317">next</a><span>|</span><label class="collapse" for="c-41031830">[-]</label><label class="expand" for="c-41031830">[3 more]</label></div><br/><div class="children"><div class="content">Not at all. If this library was GPL, any software using it also needs to be GPL. This means all code needs to be open source, which severely limits freedom of makers of end-user software.<p>And almost the whole Rust ecosystem is MIT.</div><br/><div id="41031906" class="c"><input type="checkbox" id="c-41031906" checked=""/><div class="controls bullet"><span class="by">richrichardsson</span><span>|</span><a href="#41031285">root</a><span>|</span><a href="#41031830">parent</a><span>|</span><a href="#41031317">next</a><span>|</span><label class="collapse" for="c-41031906">[-]</label><label class="expand" for="c-41031906">[2 more]</label></div><br/><div class="children"><div class="content">&gt; severely limits freedom of makers of end-user software<p>Ironic for a &quot;free&quot; software license.<p>It would be great if there was a license somewhere inbetween GPL and MIT:  you&#x27;d be required to upstream (or make available) any changes you made to the parts of other people&#x27;s code you&#x27;re making use of, but <i>not</i> required to open your entire codebase.</div><br/><div id="41032076" class="c"><input type="checkbox" id="c-41032076" checked=""/><div class="controls bullet"><span class="by">jstarks</span><span>|</span><a href="#41031285">root</a><span>|</span><a href="#41031906">parent</a><span>|</span><a href="#41031317">next</a><span>|</span><label class="collapse" for="c-41032076">[-]</label><label class="expand" for="c-41032076">[1 more]</label></div><br/><div class="children"><div class="content">I think the MPL attempts to be that license.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41031317" class="c"><input type="checkbox" id="c-41031317" checked=""/><div class="controls bullet"><span class="by">nindalf</span><span>|</span><a href="#41031285">parent</a><span>|</span><a href="#41031316">prev</a><span>|</span><a href="#41031306">next</a><span>|</span><label class="collapse" for="c-41031317">[-]</label><label class="expand" for="c-41031317">[1 more]</label></div><br/><div class="children"><div class="content">Burntsushi has written many important crates in the Rust ecosystem. He started with licensing under Unlicense exclusively, until people requested a dual license with MIT. See this issue from 2016 for more details - <a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;byteorder&#x2F;issues&#x2F;26">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;byteorder&#x2F;issues&#x2F;26</a><p>Almost all of the Rust ecosystem is dual licensed under MIT&#x2F;Apache 2.0, so this combination is a bit unusual. But the presence of MIT means that it hasn’t been a problem in practice.</div><br/></div></div><div id="41031306" class="c"><input type="checkbox" id="c-41031306" checked=""/><div class="controls bullet"><span class="by">nsajko</span><span>|</span><a href="#41031285">parent</a><span>|</span><a href="#41031317">prev</a><span>|</span><a href="#41031357">next</a><span>|</span><label class="collapse" for="c-41031306">[-]</label><label class="expand" for="c-41031306">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;Unlicense&quot; is not considered as serious.</div><br/></div></div></div></div><div id="41031357" class="c"><input type="checkbox" id="c-41031357" checked=""/><div class="controls bullet"><span class="by">alfiedotwtf</span><span>|</span><a href="#41031285">prev</a><span>|</span><a href="#41031451">next</a><span>|</span><label class="collapse" for="c-41031357">[-]</label><label class="expand" for="c-41031357">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been dealing with time and timezones for a long time, but this is the first time I have ever seen the &quot;[Olson&#x2F;Name]&quot; suffix. Is that actually standard?</div><br/><div id="41031402" class="c"><input type="checkbox" id="c-41031402" checked=""/><div class="controls bullet"><span class="by">Nekit1234007</span><span>|</span><a href="#41031357">parent</a><span>|</span><a href="#41031451">next</a><span>|</span><label class="collapse" for="c-41031402">[-]</label><label class="expand" for="c-41031402">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen it being used in ECMAScript&#x27;s Temporal <a href="https:&#x2F;&#x2F;tc39.es&#x2F;proposal-temporal&#x2F;docs&#x2F;strings.html" rel="nofollow">https:&#x2F;&#x2F;tc39.es&#x2F;proposal-temporal&#x2F;docs&#x2F;strings.html</a></div><br/><div id="41031477" class="c"><input type="checkbox" id="c-41031477" checked=""/><div class="controls bullet"><span class="by">alfiedotwtf</span><span>|</span><a href="#41031357">root</a><span>|</span><a href="#41031402">parent</a><span>|</span><a href="#41031451">next</a><span>|</span><label class="collapse" for="c-41031477">[-]</label><label class="expand" for="c-41031477">[2 more]</label></div><br/><div class="children"><div class="content">Ah, thank you.<p>Now that I&#x27;m back at my desk I had to check ISO8601, that suffix is not included. However it does look like an extension - RFC 9557 - which looks like is still in proposed state.<p>I would personally caution using these suffixes until wider adoption, because AFAIK the Olson database names themselves are not standardised on non-POSIX systems (i.e you might have a hard time on Windows).</div><br/><div id="41031577" class="c"><input type="checkbox" id="c-41031577" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#41031357">root</a><span>|</span><a href="#41031477">parent</a><span>|</span><a href="#41031451">next</a><span>|</span><label class="collapse" for="c-41031577">[-]</label><label class="expand" for="c-41031577">[1 more]</label></div><br/><div class="children"><div class="content">The database names are standardized: <a href="https:&#x2F;&#x2F;www.iana.org&#x2F;time-zones" rel="nofollow">https:&#x2F;&#x2F;www.iana.org&#x2F;time-zones</a><p>The database itself may not be available but there are various implementations including Windows <a href="https:&#x2F;&#x2F;data.iana.org&#x2F;time-zones&#x2F;tz-link.html#software" rel="nofollow">https:&#x2F;&#x2F;data.iana.org&#x2F;time-zones&#x2F;tz-link.html#software</a></div><br/></div></div></div></div></div></div></div></div><div id="41031313" class="c"><input type="checkbox" id="c-41031313" checked=""/><div class="controls bullet"><span class="by">nsajko</span><span>|</span><a href="#41031451">prev</a><span>|</span><a href="#41031793">next</a><span>|</span><label class="collapse" for="c-41031313">[-]</label><label class="expand" for="c-41031313">[2 more]</label></div><br/><div class="children"><div class="content">The title doesn&#x27;t conform to the HN guidelines, dang.</div><br/><div id="41031829" class="c"><input type="checkbox" id="c-41031829" checked=""/><div class="controls bullet"><span class="by">croemer</span><span>|</span><a href="#41031313">parent</a><span>|</span><a href="#41031793">next</a><span>|</span><label class="collapse" for="c-41031829">[-]</label><label class="expand" for="c-41031829">[1 more]</label></div><br/><div class="children"><div class="content">Came here to say this :)<p>The original tag line is &quot;Jiff is a datetime library for Rust that encourages you to jump into the pit of success.&quot;</div><br/></div></div></div></div><div id="41031793" class="c"><input type="checkbox" id="c-41031793" checked=""/><div class="controls bullet"><span class="by">noxs</span><span>|</span><a href="#41031313">prev</a><span>|</span><label class="collapse" for="c-41031793">[-]</label><label class="expand" for="c-41031793">[2 more]</label></div><br/><div class="children"><div class="content">The fact that we need a such complicated datetime library just means so many unncessary artificial complexities were introduced before (yes the daylight saving, leap seconds etc.)</div><br/><div id="41031879" class="c"><input type="checkbox" id="c-41031879" checked=""/><div class="controls bullet"><span class="by">berkes</span><span>|</span><a href="#41031793">parent</a><span>|</span><label class="collapse" for="c-41031879">[-]</label><label class="expand" for="c-41031879">[1 more]</label></div><br/><div class="children"><div class="content">&gt; unncessary artificial complexities<p>The very fact they are there, still used, and so on, contradicts &quot;unnessary [sic]&quot;. Sure, it might be outdated now, or technically better alternatives might be there.<p>But, in the end, software that deals with &quot;The Real World&quot; is going to be a complex, illogical mess. Because the real world is a complex, illogical mess. We could make a time that is global, counts resonant frequency of atoms. While technically superior, I will continue saying &quot;The job took me 3h25 minutes&quot;  and not &quot;The job took me 113,066,170,771,000,000 cycles&quot;, or even &quot;The job took me 113066 Tera-cycles.&quot; or such. Messy, illogical and complex is often simply more practical. If only because &quot;everyone does it that way&quot;.</div><br/></div></div></div></div></div></div></div></div></div></body></html>