<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717578075940" as="style"/><link rel="stylesheet" href="styles.css?v=1717578075940"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://brooker.co.za/blog/2024/06/04/scale.html">Not Just Scale</a> <span class="domain">(<a href="https://brooker.co.za">brooker.co.za</a>)</span></div><div class="subtext"><span>eatonphil</span> | <span>17 comments</span></div><br/><div><div id="40581990" class="c"><input type="checkbox" id="c-40581990" checked=""/><div class="controls bullet"><span class="by">kissgyorgy</span><span>|</span><a href="#40581840">next</a><span>|</span><label class="collapse" for="c-40581990">[-]</label><label class="expand" for="c-40581990">[7 more]</label></div><br/><div class="children"><div class="content">If you think distributed systems are somehow, some way are simpler, need less coordination, and can have less latency, I don&#x27;t know what to tell you.<p>It seems to me that author is convinced about distributed systems or it&#x27;s their whole identity and try to come up with reasons to feel better or something.<p>It&#x27;s not that you don&#x27;t ever need distributed systems, but that&#x27;s the exception when you do, not very frequent.</div><br/><div id="40582803" class="c"><input type="checkbox" id="c-40582803" checked=""/><div class="controls bullet"><span class="by">sam_bristow</span><span>|</span><a href="#40581990">parent</a><span>|</span><a href="#40582660">next</a><span>|</span><label class="collapse" for="c-40582803">[-]</label><label class="expand" for="c-40582803">[1 more]</label></div><br/><div class="children"><div class="content">One point from the author that i wholeheartedly agree with is:<p>&quot;Simplicity is a property of systems, not components. Systems include people and processes.&quot;<p>How you achieve that simpicity is at the heart of what I consider &#x27;software engineering&#x27; vs just &#x27;programming&#x27;.</div><br/></div></div><div id="40582660" class="c"><input type="checkbox" id="c-40582660" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#40581990">parent</a><span>|</span><a href="#40582803">prev</a><span>|</span><a href="#40582621">next</a><span>|</span><label class="collapse" for="c-40582660">[-]</label><label class="expand" for="c-40582660">[1 more]</label></div><br/><div class="children"><div class="content">I think biggest issue with the post is the use of the term &quot;distributed systems&quot;.<p>It makes the whole thing murkier, because it&#x27;s unclear to me what exactly they advocate for. Multiple servers? Microservices? Just running multiple services but don&#x27;t go too crazy on the micro? (Many &quot;focused&quot; small monoliths handling cross cutting concerns might be considered microservices but are not as micro as some people do, etc). Maybe running multiple servers with some distributed systems technology but not actually messing with distributed systems as product part (k8s, some easy to distribute clustering databases, etc)? All of that simply doesn&#x27;t fire for me when I see &quot;distributed systems&quot;.<p>One could just as well read it as arguing for actually going deep into distributed systems theory and practice, integrating those ideas in your product, designing your software to use distributed persistence systems instead of single &quot;coherent view&quot; SQL or other database, etc.</div><br/></div></div><div id="40582621" class="c"><input type="checkbox" id="c-40582621" checked=""/><div class="controls bullet"><span class="by">DanielHB</span><span>|</span><a href="#40581990">parent</a><span>|</span><a href="#40582660">prev</a><span>|</span><a href="#40582016">next</a><span>|</span><label class="collapse" for="c-40582621">[-]</label><label class="expand" for="c-40582621">[1 more]</label></div><br/><div class="children"><div class="content">I agree with all arguments made in the article from a certain point of view. And that is of a large org with several teams, his point about reducing coordination between the teams is crucial in the trade-off calculation.<p>If you have a small org with small number of teams then you are right, but still what qualifies as &quot;small&quot; or &quot;large&quot; is not really clear and people seem to jump into the distributed systems architecture way too soon.</div><br/></div></div><div id="40582016" class="c"><input type="checkbox" id="c-40582016" checked=""/><div class="controls bullet"><span class="by">hugofirth</span><span>|</span><a href="#40581990">parent</a><span>|</span><a href="#40582621">prev</a><span>|</span><a href="#40581840">next</a><span>|</span><label class="collapse" for="c-40582016">[-]</label><label class="expand" for="c-40582016">[3 more]</label></div><br/><div class="children"><div class="content">What specific example or point from the blog post do you disagree with?</div><br/><div id="40582207" class="c"><input type="checkbox" id="c-40582207" checked=""/><div class="controls bullet"><span class="by">kissgyorgy</span><span>|</span><a href="#40581990">root</a><span>|</span><a href="#40582016">parent</a><span>|</span><a href="#40581840">next</a><span>|</span><label class="collapse" for="c-40582207">[-]</label><label class="expand" for="c-40582207">[2 more]</label></div><br/><div class="children"><div class="content">Literally all of them. Availability might have been a good point, but their other blog post somehow reaches 100% so I don&#x27;t believe that either. Also not every business needs 99.9999 availability and can give up for good reasons (like cost and complexity).</div><br/><div id="40582359" class="c"><input type="checkbox" id="c-40582359" checked=""/><div class="controls bullet"><span class="by">cherioo</span><span>|</span><a href="#40581990">root</a><span>|</span><a href="#40582207">parent</a><span>|</span><a href="#40581840">next</a><span>|</span><label class="collapse" for="c-40582359">[-]</label><label class="expand" for="c-40582359">[1 more]</label></div><br/><div class="children"><div class="content">The author is an engineer at AWS so he has an obvious bridge to sell.<p>That said, I do agree with the general point of needing more than one computer. But most people probably just need two, one for backup, far from “distributed system” in the traditional sense.</div><br/></div></div></div></div></div></div></div></div><div id="40581840" class="c"><input type="checkbox" id="c-40581840" checked=""/><div class="controls bullet"><span class="by">Jean-Papoulos</span><span>|</span><a href="#40581990">prev</a><span>|</span><a href="#40582698">next</a><span>|</span><label class="collapse" for="c-40581840">[-]</label><label class="expand" for="c-40581840">[2 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve had this discussion already. Get your business off the ground by staying simple and non-optimize ; if there ever comes a time where it becomes necessary to the health of the company then you should have the means to introduce scalability at that point. If you don&#x27;t then it means your business model doesn&#x27;t work as well as you thought it did.<p>(Of course this doesn&#x27;t mean you should charge ahead without thinking about the future at all. If you can make something scalable at a very low cost of implementation&#x2F;maintenance, go ahead but growth should take precedence.)</div><br/><div id="40582064" class="c"><input type="checkbox" id="c-40582064" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#40581840">parent</a><span>|</span><a href="#40582698">next</a><span>|</span><label class="collapse" for="c-40582064">[-]</label><label class="expand" for="c-40582064">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes the optimization is thereto reduce running costs and free time for product development.<p>Not everyone operated in environments where VCs drop ridiculous amounts of money on third generation pets.com</div><br/></div></div></div></div><div id="40582698" class="c"><input type="checkbox" id="c-40582698" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#40581840">prev</a><span>|</span><a href="#40582514">next</a><span>|</span><label class="collapse" for="c-40582698">[-]</label><label class="expand" for="c-40582698">[1 more]</label></div><br/><div class="children"><div class="content">Another usually misunderstood fact is that if you are trying to go fast enough, i.e at the limit of a machine then even one machine is a distributed system. While cache coherency and a bunch of things try to pretend it isn&#x27;t you really do need to be aware of NUMA and PCI-E lane configuration if you want to get everything out of a box.<p>The very same techniques that make networked distributed systems work well are also useful on threaded or multi-process single image workloads. Sure it doesn&#x27;t matter at less than ~5gbit line rate but past that point it certainly does.</div><br/></div></div><div id="40582514" class="c"><input type="checkbox" id="c-40582514" checked=""/><div class="controls bullet"><span class="by">mj2718</span><span>|</span><a href="#40582698">prev</a><span>|</span><a href="#40582111">next</a><span>|</span><label class="collapse" for="c-40582514">[-]</label><label class="expand" for="c-40582514">[1 more]</label></div><br/><div class="children"><div class="content">Of course it always depends, but my experience is people reach for distributed systems when they can simply run a single node.<p>If you can run a single node, and it meets all your business requirements, then I’d argue that is simpler than having to manage the very challenging problems inherent in distributed systems.<p>A simple web app can run 100k+ connections per second with latency in the 100s of microseconds. This is 2 orders of magnitude better than most apps need.<p>If you want durability you can use a service like RDS which takes care of replication and backups for you.<p>That’s my advice anyway.</div><br/></div></div><div id="40582111" class="c"><input type="checkbox" id="c-40582111" checked=""/><div class="controls bullet"><span class="by">breckognize</span><span>|</span><a href="#40582514">prev</a><span>|</span><a href="#40581958">next</a><span>|</span><label class="collapse" for="c-40582111">[-]</label><label class="expand" for="c-40582111">[1 more]</label></div><br/><div class="children"><div class="content">I think calling out Durability is a bit of a straw man. Most services get their durability from S3 or some other managed database service. So they&#x27;re really only making the &quot;do it on a beefy machine argument&quot; for the stateless portion of their service.<p>I agree with the other points for production services with the caveat that many workloads don&#x27;t need all of those. Internal workloads or batch data processing use cases often don&#x27;t need 4 9&#x27;s of availability and can be done more simply and cheaply on a chonky EC2 instance.<p>The last point is part of our thesis for <a href="https:&#x2F;&#x2F;rowzero.io" rel="nofollow">https:&#x2F;&#x2F;rowzero.io</a>. You can vertically scale data analysis workloads way further than most people expect.</div><br/></div></div><div id="40581958" class="c"><input type="checkbox" id="c-40581958" checked=""/><div class="controls bullet"><span class="by">cristaloleg</span><span>|</span><a href="#40582111">prev</a><span>|</span><label class="collapse" for="c-40581958">[-]</label><label class="expand" for="c-40581958">[4 more]</label></div><br/><div class="children"><div class="content">1 beefy machine != 1 binary.<p>Just one m6g.8xlarge can easily fit 10 heavy loaded services (read binaries) without a problem. Each of these services can be made by different teams.</div><br/><div id="40582156" class="c"><input type="checkbox" id="c-40582156" checked=""/><div class="controls bullet"><span class="by">phillu</span><span>|</span><a href="#40581958">parent</a><span>|</span><a href="#40582173">next</a><span>|</span><label class="collapse" for="c-40582156">[-]</label><label class="expand" for="c-40582156">[2 more]</label></div><br/><div class="children"><div class="content">What deployment orchestration tool would one use in such a case? Is it just plain systemd&#x2F;docker compose and a shell script?
I surely want zero downtime for my deployments. Do I then need multiple instances of the app running on the server and do something like blue&#x2F;green? In that case I also need some load balancer config management during my deployment.<p>How do you guys do it? Curious, because I only ever lived in the k8s&#x2F;cloud native world.</div><br/><div id="40582625" class="c"><input type="checkbox" id="c-40582625" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#40581958">root</a><span>|</span><a href="#40582156">parent</a><span>|</span><a href="#40582173">next</a><span>|</span><label class="collapse" for="c-40582625">[-]</label><label class="expand" for="c-40582625">[1 more]</label></div><br/><div class="children"><div class="content">I drop kubernetes on such cases, usually k3s.<p>I drop in some &quot;standard&quot; parts like load balancer, ingress controller, monitoring, storage automation (both for persistent volumes and database with CNPG), let&#x27;s encrypt, DNS auto registering.<p>On top of that then I can easily deploy project&#x2F;customer&#x2F;workload specific things while caring less about implementation for common traits like &quot;I need application&#x27;s port 80 to show on public internet as app.foo.quux&#x2F;API and I need an SQL database for it&quot;.<p>Usually there&#x27;s also SSO and few &quot;Dev happiness&quot; elements like simple dashboard to access relevant applications if you stumble on the root domain.<p>It might sound like a lot of work, but it&#x27;s mostly single time investment (especially when you haven&#x27;t done some bits before) that is remarkably little interaction on later, and definitely takes less time than fiddling with terraform or others only to then have manual (or so custom only one person in the world knows them) she&#x27;ll scripts on the server.</div><br/></div></div></div></div><div id="40582173" class="c"><input type="checkbox" id="c-40582173" checked=""/><div class="controls bullet"><span class="by">larsrc</span><span>|</span><a href="#40581958">parent</a><span>|</span><a href="#40582156">prev</a><span>|</span><label class="collapse" for="c-40582173">[-]</label><label class="expand" for="c-40582173">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s still a SPOF, though.</div><br/></div></div></div></div></div></div></div></div></div></body></html>