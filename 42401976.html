<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1734080459057" as="style"/><link rel="stylesheet" href="styles.css?v=1734080459057"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://richiejp.com/1d-reversible-automata">Bitbanging 1D Reversible Automata</a> <span class="domain">(<a href="https://richiejp.com">richiejp.com</a>)</span></div><div class="subtext"><span>richiejp</span> | <span>17 comments</span></div><br/><div><div id="42406912" class="c"><input type="checkbox" id="c-42406912" checked=""/><div class="controls bullet"><span class="by">tromp</span><span>|</span><a href="#42404680">next</a><span>|</span><label class="collapse" for="c-42406912">[-]</label><label class="expand" for="c-42406912">[1 more]</label></div><br/><div class="children"><div class="content">The author make automata reversible by xoring with the previous row&#x27;s cell. But some rules are reversible without this trick. For example rule 0xf0:<p><pre><code>    111 110 101 100 011 010 001 000
     1   1   1   1   0   0   0   0
</code></pre>
will shift all cells one step to the right and is thus the reverse of rule 0xaa which shifts all cells to the left:<p><pre><code>    111 110 101 100 011 010 001 000
     1   0   1   0   1   0   1   0
</code></pre>
My question is how can we test which of the 256 rules are reversible and how do they pair up?</div><br/></div></div><div id="42404680" class="c"><input type="checkbox" id="c-42404680" checked=""/><div class="controls bullet"><span class="by">hairtuq</span><span>|</span><a href="#42406912">prev</a><span>|</span><a href="#42403467">next</a><span>|</span><label class="collapse" for="c-42404680">[-]</label><label class="expand" for="c-42404680">[1 more]</label></div><br/><div class="children"><div class="content">The author wonders:<p>&gt; In theory at least, the compiler can see that rule only has 256 values and create a reduced version of ca1d_rule_apply for each value. Whether it actually does is not of much practical concern when the rendering code is the bottle neck. However it’s interesting to see if the compiler can deduce the best solution or whether anything trips it up.<p>The compiler is unlikely to get the optimal result here. The core of this is finding the best instruction sequence for a ternary boolean operation encoded in 8 bits; it&#x27;s the same job needed for emulating the AVX512F &quot;vpternlog&quot; instruction. This can always be done in at most 5 instructions (or 4 if you have andnot&#x2F;ornot&#x2F;xornot), but it&#x27;s not straightforward to do this. Here is some code that calculates optimal instruction sequences (by letting z3 do the heavy lifting): <a href="https:&#x2F;&#x2F;github.com&#x2F;falk-hueffner&#x2F;ternary-logic-optimization">https:&#x2F;&#x2F;github.com&#x2F;falk-hueffner&#x2F;ternary-logic-optimization</a></div><br/></div></div><div id="42403467" class="c"><input type="checkbox" id="c-42403467" checked=""/><div class="controls bullet"><span class="by">kousun12</span><span>|</span><a href="#42404680">prev</a><span>|</span><a href="#42402887">next</a><span>|</span><label class="collapse" for="c-42403467">[-]</label><label class="expand" for="c-42403467">[4 more]</label></div><br/><div class="children"><div class="content">played around with a few colorization convolution kernels based on density and thought they turned out nicely:<p>rusty: <a href="https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;6cec75da-3366-4ce3-addf-a458f7c534d4">https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;6cec75da-3366-4ce...</a><p>ocean3: <a href="https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;6dbdc099-2dc3-4330-b8ca-6832db45794c">https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;6dbdc099-2dc3-433...</a><p>forest4: <a href="https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;dc77bbfd-bd15-4e47-b161-967af78653cb">https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;dc77bbfd-bd15-4e4...</a><p>rust105: <a href="https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;d80733c9-b435-49a4-b1d6-f0d3a92176cc">https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;d80733c9-b435-49a...</a><p>ocean105: <a href="https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;d717a3f1-32bb-449e-9c99-da0bc6239f20">https:&#x2F;&#x2F;github.com&#x2F;user-attachments&#x2F;assets&#x2F;d717a3f1-32bb-449...</a></div><br/><div id="42403559" class="c"><input type="checkbox" id="c-42403559" checked=""/><div class="controls bullet"><span class="by">richiejp</span><span>|</span><a href="#42403467">parent</a><span>|</span><a href="#42402887">next</a><span>|</span><label class="collapse" for="c-42403559">[-]</label><label class="expand" for="c-42403559">[3 more]</label></div><br/><div class="children"><div class="content">could you provide a link to the code?</div><br/><div id="42404084" class="c"><input type="checkbox" id="c-42404084" checked=""/><div class="controls bullet"><span class="by">genewitch</span><span>|</span><a href="#42403467">root</a><span>|</span><a href="#42403559">parent</a><span>|</span><a href="#42402887">next</a><span>|</span><label class="collapse" for="c-42404084">[-]</label><label class="expand" for="c-42404084">[2 more]</label></div><br/><div class="children"><div class="content">i wrote something similar a <i>real</i> long time ago, but it was a pig, super slow. So i upgraded to winpro or whatever and had copilot figure out what was slowing it down, and it was a simple fix, and i fleshed out the UI a bit. I forget where i first saw the rules, but when i went and fixed it up i used the wolframalpha reference[0]<p>Adjust the screen rez. i am not a software developer and i put stuff on github as additional backups.<p>[0]<a href="https:&#x2F;&#x2F;mathworld.wolfram.com&#x2F;ElementaryCellularAutomaton.html" rel="nofollow">https:&#x2F;&#x2F;mathworld.wolfram.com&#x2F;ElementaryCellularAutomaton.ht...</a><p>my code: <a href="https:&#x2F;&#x2F;github.com&#x2F;genewitch&#x2F;opensource&#x2F;blob&#x2F;master&#x2F;elementalautomata.py">https:&#x2F;&#x2F;github.com&#x2F;genewitch&#x2F;opensource&#x2F;blob&#x2F;master&#x2F;elementa...</a> it uses pygame you can do python -m venv cellular; scripts\activate.[bat|ps1|sh]; pip install pygame; python elementalautomata.py<p>the rules are the same numbers as OP used, so given the same seeds the monochrome output should be identical (this is a deterministic automaton) I forget which rules were my favorite, but i constantly test 110 and 73 (73 is psuedorandom but doesn&#x27;t look like it is, it looks like it repeats.) - my code checks for loops, but it defaults to 1 screen-fulls of checking, you can press H to increase this by 1 screen-full per press. this will slow my code down to a crawl, but you can find loops in the longer period automata.<p>i was going to do a version similar in godot but i got distracted by ipv6 routing.<p>edit:<p>the part you&#x27;d need to adapt to add color in my code is just this one part, i think:<p><pre><code>        for pixel in range(1, w):

            if lineOut[pixel] == 1:

                world.set_at((pixel, h-1), (0, 0, 0))

            else:
                world.set_at((pixel, h-1), (255, 255, 255))</code></pre></div><br/><div id="42406453" class="c"><input type="checkbox" id="c-42406453" checked=""/><div class="controls bullet"><span class="by">genewitch</span><span>|</span><a href="#42403467">root</a><span>|</span><a href="#42404084">parent</a><span>|</span><a href="#42402887">next</a><span>|</span><label class="collapse" for="c-42406453">[-]</label><label class="expand" for="c-42406453">[1 more]</label></div><br/><div class="children"><div class="content">oops you need to &quot;cd cellular&quot; after the venv command! I proofread that 4 times and still missed the cd, and i had <i>just</i> set it up for my kid to play with (he asked!)</div><br/></div></div></div></div></div></div></div></div><div id="42402887" class="c"><input type="checkbox" id="c-42402887" checked=""/><div class="controls bullet"><span class="by">jszymborski</span><span>|</span><a href="#42403467">prev</a><span>|</span><a href="#42403571">next</a><span>|</span><label class="collapse" for="c-42402887">[-]</label><label class="expand" for="c-42402887">[4 more]</label></div><br/><div class="children"><div class="content">Man do I ever want a wall-size flipdisk display to cycle through the different rules throughout the day...</div><br/><div id="42403143" class="c"><input type="checkbox" id="c-42403143" checked=""/><div class="controls bullet"><span class="by">TechDebtDevin</span><span>|</span><a href="#42402887">parent</a><span>|</span><a href="#42403571">next</a><span>|</span><label class="collapse" for="c-42403143">[-]</label><label class="expand" for="c-42403143">[3 more]</label></div><br/><div class="children"><div class="content">Check out the Hisense Canvas.</div><br/><div id="42403295" class="c"><input type="checkbox" id="c-42403295" checked=""/><div class="controls bullet"><span class="by">jszymborski</span><span>|</span><a href="#42402887">root</a><span>|</span><a href="#42403143">parent</a><span>|</span><a href="#42406445">next</a><span>|</span><label class="collapse" for="c-42403295">[-]</label><label class="expand" for="c-42403295">[1 more]</label></div><br/><div class="children"><div class="content">Actually was tempted to buy a Samsung Frame TV earlier this month when TV shopping.<p>Still, without the clicking and clacking, it&#x27;s not quite the same :P</div><br/></div></div><div id="42406445" class="c"><input type="checkbox" id="c-42406445" checked=""/><div class="controls bullet"><span class="by">genewitch</span><span>|</span><a href="#42402887">root</a><span>|</span><a href="#42403143">parent</a><span>|</span><a href="#42403295">prev</a><span>|</span><a href="#42403571">next</a><span>|</span><label class="collapse" for="c-42406445">[-]</label><label class="expand" for="c-42406445">[1 more]</label></div><br/><div class="children"><div class="content">that is good looking, too bad i have 0 wall space for hanging things.</div><br/></div></div></div></div></div></div><div id="42403571" class="c"><input type="checkbox" id="c-42403571" checked=""/><div class="controls bullet"><span class="by">tugu77</span><span>|</span><a href="#42402887">prev</a><span>|</span><label class="collapse" for="c-42403571">[-]</label><label class="expand" for="c-42403571">[6 more]</label></div><br/><div class="children"><div class="content">Automaton.<p>The singular is automaton. Automata is plural.</div><br/><div id="42404812" class="c"><input type="checkbox" id="c-42404812" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#42403571">parent</a><span>|</span><a href="#42403734">next</a><span>|</span><label class="collapse" for="c-42404812">[-]</label><label class="expand" for="c-42404812">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve sometimes thought it might be reasonable to think of a single cell in the system as an &#x27;automaton&#x27; which might make it somewhat ok to call the whole collection of cells &#x27;automata&#x27;.<p>I accept that there&#x27;s two levels here though and sometimes people refer to the system as a whole as being a single automaton even if there&#x27;s loads of cells.</div><br/></div></div><div id="42403734" class="c"><input type="checkbox" id="c-42403734" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#42403571">parent</a><span>|</span><a href="#42404812">prev</a><span>|</span><a href="#42404616">next</a><span>|</span><label class="collapse" for="c-42403734">[-]</label><label class="expand" for="c-42403734">[1 more]</label></div><br/><div class="children"><div class="content">I was considering posting this, but then I realised the hypocrisy in my use of the word &quot;data&quot; :)</div><br/></div></div><div id="42404616" class="c"><input type="checkbox" id="c-42404616" checked=""/><div class="controls bullet"><span class="by">QuadmasterXLII</span><span>|</span><a href="#42403571">parent</a><span>|</span><a href="#42403734">prev</a><span>|</span><a href="#42406992">next</a><span>|</span><label class="collapse" for="c-42404616">[-]</label><label class="expand" for="c-42404616">[2 more]</label></div><br/><div class="children"><div class="content">The post describes multiple automata though?</div><br/><div id="42406454" class="c"><input type="checkbox" id="c-42406454" checked=""/><div class="controls bullet"><span class="by">richiejp</span><span>|</span><a href="#42403571">root</a><span>|</span><a href="#42404616">parent</a><span>|</span><a href="#42406992">next</a><span>|</span><label class="collapse" for="c-42406454">[-]</label><label class="expand" for="c-42406454">[1 more]</label></div><br/><div class="children"><div class="content">Yes it does. Even discarding arguments that different rules in the same class are the same automaton and multiple cells are the same automaton, the article includes reversible and non-reversible automata which are distinct classes.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>