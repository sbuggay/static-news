<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687597258424" as="style"/><link rel="stylesheet" href="styles.css?v=1687597258424"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://utcc.utoronto.ca/~cks/space/blog/programming/Go121ToolchainDownloads">Go 1.21 will (probably) download newer toolchains on demand by default</a> <span class="domain">(<a href="https://utcc.utoronto.ca">utcc.utoronto.ca</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>39 comments</span></div><br/><div><div id="36456131" class="c"><input type="checkbox" id="c-36456131" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#36456872">next</a><span>|</span><label class="collapse" for="c-36456131">[-]</label><label class="expand" for="c-36456131">[7 more]</label></div><br/><div class="children"><div class="content">Good idea!  Go has always impressed me on how every single new release works perfectly with zero effort on my part.  There is no reason I can think of that someone would want to be on an older version of Go.<p>I understand the objections here.  I upgrade software a lot.  Upgrade Emacs, your .emacs fails to load.  Upgrade Linux, your system fails to boot.  That&#x27;s because they make backwards incompatible changes and release if the unit tests pass.  I don&#x27;t know what Go is doing, but this simply never happens.  Every 6 months, you get a performance improvement and new features for free.  For free!  It&#x27;s truly amazing.  (While I&#x27;m here, I&#x27;ll also point out that PostgreSQL is similar here.  Have you ever upgraded and had your app broke?  Absolutely not.  Every version is a free performance and feature win.)<p>At the risk of being downvoted, I have to say that if you don&#x27;t believe this, you&#x27;ve been Stockholm Syndrome&#x27;d into your programming language of choice.  I work primarily in Go, but occasionally have to do frontend stuff.  The pattern that I run into is that if I use the version of Node in Debian, the code doesn&#x27;t compile.  If I go to nodejs.org and download the latest version, it doesn&#x27;t compile.  Only if I install 20000 lines of bash that inspect some files and switches 300 environment variables to put the right version of node.js in my path can I even begin to ... run a script that concatenates 300,000 lines of code and translate it to a version of Javascript that Chrome and Firefox both have?  Guys, it&#x27;s crazy.  I love a good user interface, but if I was trapped on a desert island with node.js I would instantly kill myself.  No questions asked.   Go isn&#x27;t like that.  If your users can handle a CLI, you are one &quot;tar xzvf&quot; way from sanity.  It&#x27;s great.<p>I digressed, but this is a great choice.  The Go team always seems to know how to improve the lives of end users.  I appreciate that.</div><br/><div id="36456470" class="c"><input type="checkbox" id="c-36456470" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#36456131">parent</a><span>|</span><a href="#36456620">next</a><span>|</span><label class="collapse" for="c-36456470">[-]</label><label class="expand" for="c-36456470">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; There is no reason I can think of that someone would want to be on an older version of Go.</i><p>New Go toolchains regularly drop support for running the generated binaries on older versions of Windows and macOS. I definitely want to remain in control of this.</div><br/></div></div><div id="36456620" class="c"><input type="checkbox" id="c-36456620" checked=""/><div class="controls bullet"><span class="by">james2doyle</span><span>|</span><a href="#36456131">parent</a><span>|</span><a href="#36456470">prev</a><span>|</span><a href="#36456150">next</a><span>|</span><label class="collapse" for="c-36456620">[-]</label><label class="expand" for="c-36456620">[1 more]</label></div><br/><div class="children"><div class="content">The comment about Node on a desert island made me actually LOL. Thanks for that!<p>I recently had to update 2 Node (Next.js, static sites) projects from v16 to v18 and it was brutal. Granted it was a big jump but still took over a week to get done. So many dependencies just broke and had to be updated or patched.<p>Coming from the PHP world, where there is also real effort put into maintaining backwards compatibility, it is really painful. I had sites on version 5.6 that went to version 8 just fine...</div><br/></div></div><div id="36456150" class="c"><input type="checkbox" id="c-36456150" checked=""/><div class="controls bullet"><span class="by">srcreigh</span><span>|</span><a href="#36456131">parent</a><span>|</span><a href="#36456620">prev</a><span>|</span><a href="#36456589">next</a><span>|</span><label class="collapse" for="c-36456150">[-]</label><label class="expand" for="c-36456150">[1 more]</label></div><br/><div class="children"><div class="content">One workplace I had used GCP. There was a Postgres upgrade and one of our services had a major performance degradation, some people worked for days to mitigate the problem.<p>Sadly I don’t have the version number or any details as I wasn’t working on the issue. It was sometime in mid 2022.</div><br/></div></div><div id="36456589" class="c"><input type="checkbox" id="c-36456589" checked=""/><div class="controls bullet"><span class="by">JdeBP</span><span>|</span><a href="#36456131">parent</a><span>|</span><a href="#36456150">prev</a><span>|</span><a href="#36456872">next</a><span>|</span><label class="collapse" for="c-36456589">[-]</label><label class="expand" for="c-36456589">[3 more]</label></div><br/><div class="children"><div class="content">On the contrary, that <i>you do</i> believe this means that you don&#x27;t have long enough experience in golang.  The points where suddenly a seemingly innocent version upgrade becomes a massive real-world problem usually happen years or decades into a tool&#x2F;language&#x2F;whatever.  golang hasn&#x27;t existed nearly long enough yet.<p>&quot;simply never happens&quot; is incorrect.  &quot;hasn&#x27;t happened to me yet&quot; is correct.<p>Or, put another way: Come back to us when you are on version 3.x, years or decades from now, and <i>then</i> a statement that this never happened to you will actually be significant.  (-:</div><br/><div id="36456819" class="c"><input type="checkbox" id="c-36456819" checked=""/><div class="controls bullet"><span class="by">ericpauley</span><span>|</span><a href="#36456131">root</a><span>|</span><a href="#36456589">parent</a><span>|</span><a href="#36456789">next</a><span>|</span><label class="collapse" for="c-36456819">[-]</label><label class="expand" for="c-36456819">[1 more]</label></div><br/><div class="children"><div class="content">^Stockholm Syndrome :)<p>Go is over a decade old. I’ve been using it for 8 or 9 years now and entirely concur with GP. As an example, I have routinely deployed to prod for lower stakes stuff using CI Go versions that didn’t match development. Aside from needing new features this has <i>never</i> caused an issue. I’ve had more issues arise from OS updates than Go toolchain updates.</div><br/></div></div><div id="36456789" class="c"><input type="checkbox" id="c-36456789" checked=""/><div class="controls bullet"><span class="by">jjallen</span><span>|</span><a href="#36456131">root</a><span>|</span><a href="#36456589">parent</a><span>|</span><a href="#36456819">prev</a><span>|</span><a href="#36456872">next</a><span>|</span><label class="collapse" for="c-36456789">[-]</label><label class="expand" for="c-36456789">[1 more]</label></div><br/><div class="children"><div class="content">You’re predicting the future which is inherently uncertain. He was talking about the past.</div><br/></div></div></div></div></div></div><div id="36456872" class="c"><input type="checkbox" id="c-36456872" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36456131">prev</a><span>|</span><a href="#36456264">next</a><span>|</span><label class="collapse" for="c-36456872">[-]</label><label class="expand" for="c-36456872">[1 more]</label></div><br/><div class="children"><div class="content">Default smells of same ignorance like proxy and GOPRIVATE introduction, where after introduction they forced using proxy so no private repositories for dependencies worked any more without fucking with env</div><br/></div></div><div id="36456264" class="c"><input type="checkbox" id="c-36456264" checked=""/><div class="controls bullet"><span class="by">JetSetIlly</span><span>|</span><a href="#36456872">prev</a><span>|</span><a href="#36456830">next</a><span>|</span><label class="collapse" for="c-36456264">[-]</label><label class="expand" for="c-36456264">[1 more]</label></div><br/><div class="children"><div class="content">It sounds to me like this is downloading the toolchain as though it were any other Go package and compiling it. I&#x27;m not sure it&#x27;s downloading binaries, as the article suggests.<p>From the Go Toolchains documentation:<p>&quot;When using GOTOOLCHAIN=auto or GOTOOLCHAIN=&lt;name&gt;+auto, the Go command downloads newer toolchains as needed. These toolchains are packaged as special modules with module path golang.org&#x2F;toolchain and version v0.0.1-goVERSION.GOOS-GOARCH. Toolchains are downloaded like any other module, meaning that toolchain downloads can be proxied by setting GOPROXY and have their checksums checked by the Go checksum database.&quot;<p>I don&#x27;t know for sure though.</div><br/></div></div><div id="36456830" class="c"><input type="checkbox" id="c-36456830" checked=""/><div class="controls bullet"><span class="by">SuperSandro2000</span><span>|</span><a href="#36456264">prev</a><span>|</span><a href="#36455690">next</a><span>|</span><label class="collapse" for="c-36456830">[-]</label><label class="expand" for="c-36456830">[1 more]</label></div><br/><div class="children"><div class="content">As a distro maintainer: we are probably needing to disable that by default.</div><br/></div></div><div id="36455690" class="c"><input type="checkbox" id="c-36455690" checked=""/><div class="controls bullet"><span class="by">sigg3</span><span>|</span><a href="#36456830">prev</a><span>|</span><a href="#36455694">next</a><span>|</span><label class="collapse" for="c-36455690">[-]</label><label class="expand" for="c-36455690">[6 more]</label></div><br/><div class="children"><div class="content">It is customizable:<p>&gt; Not everyone is going to be happy with the idea of the &#x27;go&#x27; command downloading and running binaries from the Internet. If this is the case for you, you need to set GOTOOLCHAIN to either &#x27;path&#x27;, if you&#x27;re happy to search $PATH for the right toolchain, or &#x27;local&#x27;, if you want to turn off this behavior entirely and have &#x27;go&#x27; just fail.</div><br/><div id="36456864" class="c"><input type="checkbox" id="c-36456864" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36455690">parent</a><span>|</span><a href="#36455750">next</a><span>|</span><label class="collapse" for="c-36456864">[-]</label><label class="expand" for="c-36456864">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s terrible default.<p>Reminds me on GOPRIVATE bullshit where since some go version private repositories outright didn&#x27;t work  without setting env variables, because go team decided to not add fallback if something is not available via their shitty proxy</div><br/></div></div><div id="36455750" class="c"><input type="checkbox" id="c-36455750" checked=""/><div class="controls bullet"><span class="by">timmytokyo</span><span>|</span><a href="#36455690">parent</a><span>|</span><a href="#36456864">prev</a><span>|</span><a href="#36455694">next</a><span>|</span><label class="collapse" for="c-36455750">[-]</label><label class="expand" for="c-36455750">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s customizable, but it downloads by default. Anyone who cares about controlling what they download from the Internet would prefer opt-in, not opt-out.</div><br/><div id="36455887" class="c"><input type="checkbox" id="c-36455887" checked=""/><div class="controls bullet"><span class="by">codazoda</span><span>|</span><a href="#36455690">root</a><span>|</span><a href="#36455750">parent</a><span>|</span><a href="#36455981">next</a><span>|</span><label class="collapse" for="c-36455887">[-]</label><label class="expand" for="c-36455887">[1 more]</label></div><br/><div class="children"><div class="content">I’m a veteran dev but I’m new to Go…<p>The following quotes seem to indicate that “auto” is not the default. At least, not if you haven’t run some command to set it at a default (and I’m not seeing one).<p>&gt; If the $GOROOT&#x2F;go.env file is missing or does not set a default, the go command assumes GOTOOLCHAIN=local.<p>&gt; When GOTOOLCHAIN is set to local, the go command always runs the bundled Go toolchain.<p>In the intro, however, it does say:<p>&gt; The default GOTOOLCHAIN setting is auto, which enables the toolchain switching described earlier.<p>I guess I’m also confused. :&#x2F;<p>Note that go.work is only created by the `go work init` command when you intend to use multiple modules in one directory. I’m guessing that doing this is relatively unusual. This could be how a “default” gets set for newer versions (unconfirmed conjecture on my part).<p>I don’t see any command that creates a `go.env` and therefore might set GOTOOLCHAIN in that file.<p>The only other thing I can think of is that `go mod init` could set this to “auto” in the `go.mod` of a new project. But, go.env is probably missing in this case.<p>Ref: <a href="https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;toolchain" rel="nofollow noreferrer">https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;toolchain</a></div><br/></div></div><div id="36455981" class="c"><input type="checkbox" id="c-36455981" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#36455690">root</a><span>|</span><a href="#36455750">parent</a><span>|</span><a href="#36455887">prev</a><span>|</span><a href="#36455768">next</a><span>|</span><label class="collapse" for="c-36455981">[-]</label><label class="expand" for="c-36455981">[1 more]</label></div><br/><div class="children"><div class="content">Seems crazy to me.  I want to see an error if the version in my PATH is too old, so I can address.  I don&#x27;t want my toolchain to do -anything- implicitly, including searching PATH.  If my PATH is wrong, I&#x27;ll fix it.<p>And downloading is even weirder.  What happens if the download fails?  Am I presented a random network error, or a Go too old error?  Who decides which is even more correct?</div><br/></div></div><div id="36455768" class="c"><input type="checkbox" id="c-36455768" checked=""/><div class="controls bullet"><span class="by">bushbaba</span><span>|</span><a href="#36455690">root</a><span>|</span><a href="#36455750">parent</a><span>|</span><a href="#36455981">prev</a><span>|</span><a href="#36455694">next</a><span>|</span><label class="collapse" for="c-36455768">[-]</label><label class="expand" for="c-36455768">[1 more]</label></div><br/><div class="children"><div class="content">Tend to agree here. Feels like an overstep</div><br/></div></div></div></div></div></div><div id="36455694" class="c"><input type="checkbox" id="c-36455694" checked=""/><div class="controls bullet"><span class="by">ttymck</span><span>|</span><a href="#36455690">prev</a><span>|</span><a href="#36456179">next</a><span>|</span><label class="collapse" for="c-36455694">[-]</label><label class="expand" for="c-36455694">[7 more]</label></div><br/><div class="children"><div class="content">I really don&#x27;t understand. Maybe I&#x27;m stupid. But I don&#x27;t see the issue.<p>I work with go daily, but I&#x27;m pretty sure our binary is pegged to a specific go version, using go.mod<p>I don&#x27;t see in what scenario I would add a dependency and it would unexpectedly upgrade my go toolchain? Isn&#x27;t my toolchain version pegged by a go.mod file?<p>This article may raise a valid concern, but it doesn&#x27;t propose a clear alternative or solution.<p>I&#x27;m not a go truther but there seems to be lot of pessimism around it (error handling, generics, and now toolchain) and not enough optimism.</div><br/><div id="36455759" class="c"><input type="checkbox" id="c-36455759" checked=""/><div class="controls bullet"><span class="by">GeneralMayhem</span><span>|</span><a href="#36455694">parent</a><span>|</span><a href="#36455732">next</a><span>|</span><label class="collapse" for="c-36455759">[-]</label><label class="expand" for="c-36455759">[1 more]</label></div><br/><div class="children"><div class="content">The go version line in go.mod doesn&#x27;t peg the version of the actual compiler, it only pegs the version of the <i>language</i>. It&#x27;s analogous to flags like --std=c++20 in C++ compilers. If you have code that is, for example, valid go 1.17 and also valid go 1.18, but it behaves differently somehow between the two for reasons that are considered implementation details instead of language changes (for instance, depending on behavior changes in standard libraries), the behavior you get will depend on the version of the go tool that you happen to be running when you build it, not by what&#x27;s defined in go.mod. That&#x27;s <i>sort of</i> what&#x27;s changing in go 1.21 - there&#x27;s now a &quot;toolchain&quot; directive to specify the precise compiler version that should be used, which is slightly independent of the version of the language semantics that you want to apply.<p>But of course, it&#x27;s still not that clear - because the toolchain directive is only respected in the &quot;main&quot; module, and it&#x27;s also still only a minimum. That means you can&#x27;t actually guarantee that your module will always be built with exactly that toolchain version - if it&#x27;s included in someone else&#x27;s module then it will be built with whatever they happen to be running, and it can always be built with a later version no matter what.</div><br/></div></div><div id="36455732" class="c"><input type="checkbox" id="c-36455732" checked=""/><div class="controls bullet"><span class="by">yobert</span><span>|</span><a href="#36455694">parent</a><span>|</span><a href="#36455759">prev</a><span>|</span><a href="#36455712">next</a><span>|</span><label class="collapse" for="c-36455732">[-]</label><label class="expand" for="c-36455732">[4 more]</label></div><br/><div class="children"><div class="content">I think the part they take issue with that might surprise you is if you decide to start using a dependency, and that dependency declares in it&#x27;s go.mod file (not yours) that it needs a newer version than yours, and that triggers a download and toolchain swap.<p>I think it&#x27;s... Iffy. I&#x27;d prefer it to fail and for it to be up to me to upgrade, personally.</div><br/><div id="36455779" class="c"><input type="checkbox" id="c-36455779" checked=""/><div class="controls bullet"><span class="by">GeneralMayhem</span><span>|</span><a href="#36455694">root</a><span>|</span><a href="#36455732">parent</a><span>|</span><a href="#36455776">next</a><span>|</span><label class="collapse" for="c-36455779">[-]</label><label class="expand" for="c-36455779">[1 more]</label></div><br/><div class="children"><div class="content">I think that&#x27;s only what happens for binary (tool) dependencies that are built on their own, though. For library dependencies that you&#x27;re only building against, their &quot;toolchain&quot; directive would be ignored, because they&#x27;re not the main module (<a href="https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;toolchain" rel="nofollow noreferrer">https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;toolchain</a>).</div><br/></div></div><div id="36455776" class="c"><input type="checkbox" id="c-36455776" checked=""/><div class="controls bullet"><span class="by">ttymck</span><span>|</span><a href="#36455694">root</a><span>|</span><a href="#36455732">parent</a><span>|</span><a href="#36455779">prev</a><span>|</span><a href="#36455757">next</a><span>|</span><label class="collapse" for="c-36455776">[-]</label><label class="expand" for="c-36455776">[1 more]</label></div><br/><div class="children"><div class="content">Idk, I just looked at the go.mod docs (I assume go.mod is the current standard but I really can&#x27;t say for certain, the go ecosystem is more of a cluster than python, imo): <a href="https:&#x2F;&#x2F;go.dev&#x2F;ref&#x2F;mod#go-mod-file-go" rel="nofollow noreferrer">https:&#x2F;&#x2F;go.dev&#x2F;ref&#x2F;mod#go-mod-file-go</a><p>&gt; The go directive sets the minimum version of Go required to use this module. Before Go 1.21, the directive was advisory only; now it is a mandatory requirement: Go toolchains refuse to use modules declaring newer Go versions.<p>Seems like a non-issue. I&#x27;m still unclear what TFA is saying</div><br/></div></div><div id="36455757" class="c"><input type="checkbox" id="c-36455757" checked=""/><div class="controls bullet"><span class="by">ttymck</span><span>|</span><a href="#36455694">root</a><span>|</span><a href="#36455732">parent</a><span>|</span><a href="#36455776">prev</a><span>|</span><a href="#36455712">next</a><span>|</span><label class="collapse" for="c-36455757">[-]</label><label class="expand" for="c-36455757">[1 more]</label></div><br/><div class="children"><div class="content">OK, if I understand correctly:<p>I might have a git repo, and nowhere in it does anything say &quot;go1.2x&quot;<p>My go.mod might say go1.26<p>But one of the dependencies, in it&#x27;s source (not anywhere to be found in my source), says go1. 29<p>So when you build my source, it will build with go1.29<p>If that&#x27;s the case, then yes, I&#x27;m appalled, AND this article did a terrible job of informing me of the situation</div><br/></div></div></div></div><div id="36455712" class="c"><input type="checkbox" id="c-36455712" checked=""/><div class="controls bullet"><span class="by">philosopher1234</span><span>|</span><a href="#36455694">parent</a><span>|</span><a href="#36455732">prev</a><span>|</span><a href="#36456179">next</a><span>|</span><label class="collapse" for="c-36455712">[-]</label><label class="expand" for="c-36455712">[1 more]</label></div><br/><div class="children"><div class="content">IIRC the go version in go.mod is a minimum go toolchain version. In the future if you pull in a dep with a higher minimum toolchain version, it would be unbuildable without upgrading your toolchain. I expect there is an env variable to disable this, though.</div><br/></div></div></div></div><div id="36456179" class="c"><input type="checkbox" id="c-36456179" checked=""/><div class="controls bullet"><span class="by">leighmcculloch</span><span>|</span><a href="#36455694">prev</a><span>|</span><a href="#36455846">next</a><span>|</span><label class="collapse" for="c-36456179">[-]</label><label class="expand" for="c-36456179">[1 more]</label></div><br/><div class="children"><div class="content">Go downloading a toolchain is not any different to dustup downloading the version of rust that is in a toolchain toml file. At least with Go it will presumably only download officially released versions, and not gotip&#x2F;nightly.</div><br/></div></div><div id="36455846" class="c"><input type="checkbox" id="c-36455846" checked=""/><div class="controls bullet"><span class="by">plorkyeran</span><span>|</span><a href="#36456179">prev</a><span>|</span><a href="#36455766">next</a><span>|</span><label class="collapse" for="c-36455846">[-]</label><label class="expand" for="c-36455846">[7 more]</label></div><br/><div class="children"><div class="content">I don’t see downloading a new copy of go which matches a dependency’s version requirement as being fundamentally different from downloading that dependency’s other dependencies. It’s surprising due to being a new thing, but in five years I suspect people will consider it completely obvious and normal.</div><br/><div id="36455923" class="c"><input type="checkbox" id="c-36455923" checked=""/><div class="controls bullet"><span class="by">2h</span><span>|</span><a href="#36455846">parent</a><span>|</span><a href="#36455766">next</a><span>|</span><label class="collapse" for="c-36455923">[-]</label><label class="expand" for="c-36455923">[6 more]</label></div><br/><div class="children"><div class="content">&gt; I don’t see downloading a new copy of go which matches a dependency’s version requirement as being fundamentally different<p>Well, you&#x27;d be wrong then. If you went into a car dealership and asked for a new rearview mirror, and they gave you (and charged you for) a new car, you&#x27;d be rightly surprised.<p>Or better yet, if you ask apt get to update a package, you damn sure don&#x27;t expect it to update itself.<p>Nothing else works like this, and shouldn&#x27;t. It&#x27;s just not what most people need or expect, or even want.</div><br/><div id="36455984" class="c"><input type="checkbox" id="c-36455984" checked=""/><div class="controls bullet"><span class="by">wereHamster</span><span>|</span><a href="#36455846">root</a><span>|</span><a href="#36455923">parent</a><span>|</span><a href="#36456507">next</a><span>|</span><label class="collapse" for="c-36455984">[-]</label><label class="expand" for="c-36455984">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s kindof a bad analogy.<p>`go build` is a very high-level command. I&#x27;d compare it to going to a car dealership and asking them to &#x27;make the car usable&#x27;. You think only a small part is broken but the dealership determines that it&#x27;s incompatible with the current law and you need to get a new one.<p>If you want to build go project in a hermetically sealed environment (where it doesn&#x27;t fetch anything unknown or unexpected from the internet), use for example Nix. When building software with Nix, the sandbox doesn&#x27;t have access to the internet and all project dependencies must be specified via the Nix language.</div><br/></div></div><div id="36456507" class="c"><input type="checkbox" id="c-36456507" checked=""/><div class="controls bullet"><span class="by">JdeBP</span><span>|</span><a href="#36455846">root</a><span>|</span><a href="#36455923">parent</a><span>|</span><a href="#36455984">prev</a><span>|</span><a href="#36456462">next</a><span>|</span><label class="collapse" for="c-36456507">[-]</label><label class="expand" for="c-36456507">[1 more]</label></div><br/><div class="children"><div class="content">... except that Visual Studio Installer, the pkg tool on FreeBSD, and others <i>do</i> do various forms of self-update.  Visual Studio Installer does <i>exactly</i> what you describe, updating itself before updating any version of Visual Studio.  FreeBSD pkg has an update from the static to the packaged version of itself.<p>So several things in the world at present work like this; whatever one might say about their being expected, needed, or wanted.</div><br/></div></div><div id="36456462" class="c"><input type="checkbox" id="c-36456462" checked=""/><div class="controls bullet"><span class="by">_puk</span><span>|</span><a href="#36455846">root</a><span>|</span><a href="#36455923">parent</a><span>|</span><a href="#36456507">prev</a><span>|</span><a href="#36455983">next</a><span>|</span><label class="collapse" for="c-36456462">[-]</label><label class="expand" for="c-36456462">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Nothing else works like this, and shouldn&#x27;t&quot;<p>I&#x27;m pretty sure homebrew does this, and it&#x27;s awful behaviour.<p>Every time you think I&#x27;ll just.. and then you have to sit and wait whilst it does it&#x27;s thing..<p>It can be disabled, and it was changed from every time to once every 24 hours years ago, but still..</div><br/></div></div><div id="36455983" class="c"><input type="checkbox" id="c-36455983" checked=""/><div class="controls bullet"><span class="by">ben-schaaf</span><span>|</span><a href="#36455846">root</a><span>|</span><a href="#36455923">parent</a><span>|</span><a href="#36456462">prev</a><span>|</span><a href="#36455961">next</a><span>|</span><label class="collapse" for="c-36455983">[-]</label><label class="expand" for="c-36455983">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Or better yet, if you ask apt get to update a package, you damn sure don&#x27;t expect it to update itself.<p>If a package requires a newer version of apt and said version is available then I would absolutely expect apt to do so. apt is after all just another package.</div><br/></div></div><div id="36455961" class="c"><input type="checkbox" id="c-36455961" checked=""/><div class="controls bullet"><span class="by">rcme</span><span>|</span><a href="#36455846">root</a><span>|</span><a href="#36455923">parent</a><span>|</span><a href="#36455983">prev</a><span>|</span><a href="#36455766">next</a><span>|</span><label class="collapse" for="c-36455961">[-]</label><label class="expand" for="c-36455961">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Or better yet, if you ask apt get to update a package, you damn sure don&#x27;t expect it to update itself.<p>This might be true for apt, because that’s how it always worked, but is this true of modern package managers? Like if I do `brew install X` I expect the latest version of X, which might require updating brew. I definitely don’t want the latest version of X my local brew install happens to know about. As an example, doesn’t pretty much every Dockerfile installing dependencies from apt call apt-get update -y?</div><br/></div></div></div></div></div></div><div id="36455766" class="c"><input type="checkbox" id="c-36455766" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#36455846">prev</a><span>|</span><a href="#36456040">next</a><span>|</span><label class="collapse" for="c-36455766">[-]</label><label class="expand" for="c-36455766">[5 more]</label></div><br/><div class="children"><div class="content">At last Go got rustup.</div><br/><div id="36456032" class="c"><input type="checkbox" id="c-36456032" checked=""/><div class="controls bullet"><span class="by">kramerger</span><span>|</span><a href="#36455766">parent</a><span>|</span><a href="#36456534">next</a><span>|</span><label class="collapse" for="c-36456032">[-]</label><label class="expand" for="c-36456032">[3 more]</label></div><br/><div class="children"><div class="content">You say it as it was a good thing.<p>Not having full control over the compiler is generally bad if your product needs to be supported for a long time or has to undergo some type of certification.<p>Rustup has slowed down rust adaptation in certain industries. Yes, it is technically possible to download a fixed version and stick to it but it will be challenging when the rest of the ecosystem is on nightly...</div><br/><div id="36456302" class="c"><input type="checkbox" id="c-36456302" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#36455766">root</a><span>|</span><a href="#36456032">parent</a><span>|</span><a href="#36456155">next</a><span>|</span><label class="collapse" for="c-36456302">[-]</label><label class="expand" for="c-36456302">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Not having full control over the compiler is generally bad if your product needs to be supported for a long time or has to undergo some type of certification.<p>rustup, and this mechanism in Go, don&#x27;t take away your control over the compiler. You can always choose to build your software with whichever version you like.<p>&gt; Rustup has slowed down rust adaptation in certain industries. Yes, it is technically possible to download a fixed version and stick to it but it will be challenging when the rest of the ecosystem is on nightly...<p>The vast majority of the Rust ecosystem is on stable, not nightly. Crates that require nightly tend to get limited adoption.</div><br/></div></div><div id="36456155" class="c"><input type="checkbox" id="c-36456155" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#36455766">root</a><span>|</span><a href="#36456032">parent</a><span>|</span><a href="#36456302">prev</a><span>|</span><a href="#36456534">next</a><span>|</span><label class="collapse" for="c-36456155">[-]</label><label class="expand" for="c-36456155">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand that. If anything rustup has made it easier because I can pull any old version on a whim, or not?</div><br/></div></div></div></div><div id="36456534" class="c"><input type="checkbox" id="c-36456534" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36455766">parent</a><span>|</span><a href="#36456032">prev</a><span>|</span><a href="#36456040">next</a><span>|</span><label class="collapse" for="c-36456534">[-]</label><label class="expand" for="c-36456534">[1 more]</label></div><br/><div class="children"><div class="content">Actually Gradle.</div><br/></div></div></div></div><div id="36456040" class="c"><input type="checkbox" id="c-36456040" checked=""/><div class="controls bullet"><span class="by">015a</span><span>|</span><a href="#36455766">prev</a><span>|</span><a href="#36456033">next</a><span>|</span><label class="collapse" for="c-36456040">[-]</label><label class="expand" for="c-36456040">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m... really not sure I agree with this, from a philosophical point of view. It feels like this is making &quot;eh, we&#x27;ll just upgrade our Go version next quarter&quot; too easy; ultimately some responsibility toward updating your application&#x27;s Go version to work with what new dependencies require should fall on Us, the application developers. Sure, we&#x27;re bad at it. Everyone&#x27;s lived through running years-old versions of some toolchain. But I think this just makes the problem worse, not better.<p>Its compounded by the problem that, when you&#x27;re setting up a new library, the `go` directive in the mod file defaults to your current toolchain; most likely a very current one. It would take a not-insignificant effort on the library author&#x27;s part to change that to assert the true-minimum version of Go required, based on libraries and language features and such. That&#x27;s an effort most devs won&#x27;t take on.<p>I&#x27;d also guess that many developers, up-to this point if not indefinitely because education is hard, interpreted that `go` directive to mean more-of &quot;the version of go this was built with&quot;; not necessarily &quot;the version of go minimally required&quot;. There are really major libraries (kubernetes&#x2F;client-go [1]) which assert a minimum go version of 1.20; the latest version (see, for comparison, the aws-sdk, which specifies a more reasonable go1.11 [2]). I haven&#x27;t, you know, fully audited these libraries, but 1.20 wasn&#x27;t exactly a major release with huge language and library changes; do they <i>really</i> need 1.20? If devs haven&#x27;t traditionally operated in this world where keeping this value super-current results in actually significant downstream costs in network bandwidth (go1.20 is 100mb!) and CI runtime, do we have confidence that the community will adapt? There&#x27;s millions of Go packages out there.<p>Or, will a future version of Go patch a security update, not backport it more than one version or so, and libraries <i>have</i> to specify the newest `go` directive version, because manifest security scanning and policy and whatever? Like, yeah, I get the rosy worldview of &quot;your minimum version encodes required language and library features&quot;, but its not obvious to me that this is how this field is, or even will be, used.<p>Just a LOT of tertiary costs to this change which I hope the team has thought through.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;kubernetes&#x2F;client-go&#x2F;blob&#x2F;master&#x2F;go.mod#L5">https:&#x2F;&#x2F;github.com&#x2F;kubernetes&#x2F;client-go&#x2F;blob&#x2F;master&#x2F;go.mod#L...</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;aws&#x2F;aws-sdk-go&#x2F;blob&#x2F;main&#x2F;go.mod">https:&#x2F;&#x2F;github.com&#x2F;aws&#x2F;aws-sdk-go&#x2F;blob&#x2F;main&#x2F;go.mod</a></div><br/></div></div><div id="36456033" class="c"><input type="checkbox" id="c-36456033" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#36456040">prev</a><span>|</span><label class="collapse" for="c-36456033">[-]</label><label class="expand" for="c-36456033">[1 more]</label></div><br/><div class="children"><div class="content">If this happens, this will be a case of &quot;jumping the shark&quot;.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Jumping_the_shark" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Jumping_the_shark</a></div><br/></div></div></div></div></div></div></div></body></html>