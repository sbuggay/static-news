<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721552453418" as="style"/><link rel="stylesheet" href="styles.css?v=1721552453418"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/Vexu/arocc">Aro – Zig&#x27;s new C compiler</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>whatever3</span> | <span>88 comments</span></div><br/><div><div id="41019522" class="c"><input type="checkbox" id="c-41019522" checked=""/><div class="controls bullet"><span class="by">AndyKelley</span><span>|</span><a href="#41021937">next</a><span>|</span><label class="collapse" for="c-41019522">[-]</label><label class="expand" for="c-41019522">[5 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think it&#x27;s accurate to call it &quot;Zig&#x27;s&quot;. This is an independent project started by Veikka Tuominen, a Zig core team member, but it&#x27;s not owned or managed by ZSF in any way. It&#x27;s Veikka&#x27;s project. Don&#x27;t take that away from him!</div><br/><div id="41022431" class="c"><input type="checkbox" id="c-41022431" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#41019522">parent</a><span>|</span><a href="#41021295">next</a><span>|</span><label class="collapse" for="c-41022431">[-]</label><label class="expand" for="c-41022431">[1 more]</label></div><br/><div class="children"><div class="content">Even the about section on Github is &quot;A C compiler written in Zig&quot;. This goes against the guideline of Editorialise the headline.</div><br/></div></div><div id="41021295" class="c"><input type="checkbox" id="c-41021295" checked=""/><div class="controls bullet"><span class="by">wyldfire</span><span>|</span><a href="#41019522">parent</a><span>|</span><a href="#41022431">prev</a><span>|</span><a href="#41019567">next</a><span>|</span><label class="collapse" for="c-41021295">[-]</label><label class="expand" for="c-41021295">[2 more]</label></div><br/><div class="children"><div class="content">Is it intended&#x2F;desired for Zig to use it in lieu of libclang at some point?</div><br/><div id="41022314" class="c"><input type="checkbox" id="c-41022314" checked=""/><div class="controls bullet"><span class="by">TUSF</span><span>|</span><a href="#41019522">root</a><span>|</span><a href="#41021295">parent</a><span>|</span><a href="#41019567">next</a><span>|</span><label class="collapse" for="c-41022314">[-]</label><label class="expand" for="c-41022314">[1 more]</label></div><br/><div class="children"><div class="content">Yes. In fact, Aro is already in the main Zig compiler&#x27;s repo, although currently I don&#x27;t think it actually does any compilation of C (unless you explicitly disable LLVM) and is mostly used for Zig&#x27;s &quot;translate-c&quot; functionality, last I checked.</div><br/></div></div></div></div><div id="41019567" class="c"><input type="checkbox" id="c-41019567" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41019522">parent</a><span>|</span><a href="#41021295">prev</a><span>|</span><a href="#41021937">next</a><span>|</span><label class="collapse" for="c-41019567">[-]</label><label class="expand" for="c-41019567">[1 more]</label></div><br/><div class="children"><div class="content">thanks for clarifying.<p>I was wondering why it was under a different github site.</div><br/></div></div></div></div><div id="41021937" class="c"><input type="checkbox" id="c-41021937" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#41019522">prev</a><span>|</span><a href="#41018489">next</a><span>|</span><label class="collapse" for="c-41021937">[-]</label><label class="expand" for="c-41021937">[3 more]</label></div><br/><div class="children"><div class="content">One of the features missing in bun:ffi is inferring types for symbols from header files. This would let you import C libraries in JavaScript&#x2F;TypeScript directly, without having to configure bindings.<p>We embed TinyCC for FFI, but TinyCC doesn&#x27;t expose a way to read the types for exported symbols.<p>Currently, it looks like this:<p><pre><code>      import { dlopen, FFIType, suffix } from &quot;bun:ffi&quot;;

      &#x2F;&#x2F; `suffix` is either &quot;dylib&quot;, &quot;so&quot;, or &quot;dll&quot; depending on the platform
      &#x2F;&#x2F; you don&#x27;t have to use &quot;suffix&quot;, it&#x27;s just there for convenience
      const path = `libsqlite3.${suffix}`;

      const {
        symbols: {
          sqlite3_libversion, &#x2F;&#x2F; the function to call
        },
      } = dlopen(
        path, &#x2F;&#x2F; a library name or file path
        {
          sqlite3_libversion: {
            &#x2F;&#x2F; no arguments, returns a string
            args: [],
            returns: FFIType.cstring,
          },
        },
      );
      console.log(`SQLite 3 version: ${sqlite3_libversion()}`);
</code></pre>
It would be nicer if it was something like this:<p><pre><code>      import {sqlite3_libversion as version} from &quot;sqlite3.h&quot; with {lib: &quot;sqlite3&quot;};
      console.log(`SQLite 3 version: ${version()}`);

</code></pre>
Would love to use Aro to do this in the future</div><br/><div id="41022845" class="c"><input type="checkbox" id="c-41022845" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41021937">parent</a><span>|</span><a href="#41022555">next</a><span>|</span><label class="collapse" for="c-41022845">[-]</label><label class="expand" for="c-41022845">[1 more]</label></div><br/><div class="children"><div class="content">With D it is:<p><pre><code>    import sqlite3;
</code></pre>
This causes sqlite3.h to be read, lexed, parsed, and semantically analyzed to convert (where possible) C symbols to D symbols, and makes them available to the importer.<p>I&#x27;ve been sometimes pressured to instead use various more complicated syntaxes, but have held the line :-)</div><br/></div></div></div></div><div id="41018489" class="c"><input type="checkbox" id="c-41018489" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41021937">prev</a><span>|</span><a href="#41023177">next</a><span>|</span><label class="collapse" for="c-41018489">[-]</label><label class="expand" for="c-41018489">[32 more]</label></div><br/><div class="children"><div class="content">The dlang D compiler includes a full C compiler, so you can mix and match C and D code. You can import C code from D, and D code from C.<p><pre><code>    dmd hello.c
    .&#x2F;hello
    hello world
</code></pre>
This helps enormously in binding to existing C libraries.</div><br/><div id="41023568" class="c"><input type="checkbox" id="c-41023568" checked=""/><div class="controls bullet"><span class="by">flohofwoe</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41019030">next</a><span>|</span><label class="collapse" for="c-41023568">[-]</label><label class="expand" for="c-41023568">[1 more]</label></div><br/><div class="children"><div class="content">...I mean Zig has those features  too since the beginning with `zig cc`, translate-c and @cImport (currently via an embedded Clang), but the post is about an indepdent C compiler written in Zig (but which will most likely replace Clang as the embedded C frontend once Clang&#x2F;LLVM isn&#x27;t compiled into the Zig compiler anymore).</div><br/></div></div><div id="41019030" class="c"><input type="checkbox" id="c-41019030" checked=""/><div class="controls bullet"><span class="by">Daunk</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41023568">prev</a><span>|</span><a href="#41019223">next</a><span>|</span><label class="collapse" for="c-41019030">[-]</label><label class="expand" for="c-41019030">[3 more]</label></div><br/><div class="children"><div class="content">D is so underrated. Keep up the good work Walter.</div><br/><div id="41022437" class="c"><input type="checkbox" id="c-41022437" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019030">parent</a><span>|</span><a href="#41019223">next</a><span>|</span><label class="collapse" for="c-41022437">[-]</label><label class="expand" for="c-41022437">[2 more]</label></div><br/><div class="children"><div class="content">I am pretty sure that most of the language design is done by Andrei Alexandrescu now.</div><br/><div id="41023497" class="c"><input type="checkbox" id="c-41023497" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41022437">parent</a><span>|</span><a href="#41019223">next</a><span>|</span><label class="collapse" for="c-41023497">[-]</label><label class="expand" for="c-41023497">[1 more]</label></div><br/><div class="children"><div class="content">Not at all. Walter is the &quot;boss&quot;, Andrei left as a leader in May 2019: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=cpTAtiboIDs&amp;t=3049s" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=cpTAtiboIDs&amp;t=3049s</a></div><br/></div></div></div></div></div></div><div id="41019223" class="c"><input type="checkbox" id="c-41019223" checked=""/><div class="controls bullet"><span class="by">nequo</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41019030">prev</a><span>|</span><a href="#41018542">next</a><span>|</span><label class="collapse" for="c-41019223">[-]</label><label class="expand" for="c-41019223">[12 more]</label></div><br/><div class="children"><div class="content">How exactly does this relate to the post, Aro, other than this also being a C compiler? Could you draw a comparison for those who came here for Zig and not D?<p>What conclusion should we draw about Aro based on what you’re saying?</div><br/><div id="41019999" class="c"><input type="checkbox" id="c-41019999" checked=""/><div class="controls bullet"><span class="by">WJW</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019223">parent</a><span>|</span><a href="#41021621">next</a><span>|</span><label class="collapse" for="c-41019999">[-]</label><label class="expand" for="c-41019999">[10 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t relate to Zig at all, but Walter Bright is the creator of D and tremendously proud of it.</div><br/><div id="41020033" class="c"><input type="checkbox" id="c-41020033" checked=""/><div class="controls bullet"><span class="by">nequo</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019999">parent</a><span>|</span><a href="#41021621">next</a><span>|</span><label class="collapse" for="c-41020033">[-]</label><label class="expand" for="c-41020033">[9 more]</label></div><br/><div class="children"><div class="content">I know that he is but this is incredibly off-topic. Aro deserves the attention it is getting, without the discussion getting hijacked by another project.<p>D would deserve attention too, in a separate post, or here if it was explained how it relates to Aro.</div><br/><div id="41021160" class="c"><input type="checkbox" id="c-41021160" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41020033">parent</a><span>|</span><a href="#41020553">next</a><span>|</span><label class="collapse" for="c-41021160">[-]</label><label class="expand" for="c-41021160">[2 more]</label></div><br/><div class="children"><div class="content">His post does seem self-promotional I admit but Walter usually shows up in any threads about compilers and usually shares interesting comparisons and contrasts to how his language and compiler handled the issue.<p>For me, I appreciate the perspective and opinions of someone else in the industry with proven results. D is a major language, you can&#x27;t deny that.<p>Maybe this post he should have went into a little more detail but I do not think he posted this with ill intent.<p>If anything I&#x27;m sure he would love to continue a dialog about the design decisions that led him to implement the same feature  - and maybe this was his way of starting the conversation.<p>Given that he is a 15 year member of our community, and has earned 70k karma, we should give him the benefit of the doubt.</div><br/><div id="41022212" class="c"><input type="checkbox" id="c-41022212" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41021160">parent</a><span>|</span><a href="#41020553">next</a><span>|</span><label class="collapse" for="c-41022212">[-]</label><label class="expand" for="c-41022212">[1 more]</label></div><br/><div class="children"><div class="content">&gt; he should have went into a little more detail<p>If there&#x27;s interest, I can give more detail.</div><br/></div></div></div></div><div id="41020553" class="c"><input type="checkbox" id="c-41020553" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41020033">parent</a><span>|</span><a href="#41021160">prev</a><span>|</span><a href="#41021635">next</a><span>|</span><label class="collapse" for="c-41020553">[-]</label><label class="expand" for="c-41020553">[2 more]</label></div><br/><div class="children"><div class="content">Walter&#x27;s comment could be read more charitably and could show his interest in Zig and similar choices that are made.<p>The last sentence, or, indeed, the whole comment, can be read like &quot;We did this for D, and it works well. [go for it]&quot;.<p>I don&#x27;t think D is casting any shadow on Zig. Both languages play in the same field, D is older but I feel like we hear about Zig way more these days.<p>His comment is likely to interest people interested in Zig or PLs in general.<p>The comment as is might lack some finesse but I don&#x27;t think it deserves this level of aggressiveness.</div><br/><div id="41020770" class="c"><input type="checkbox" id="c-41020770" checked=""/><div class="controls bullet"><span class="by">bithavoc</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41020553">parent</a><span>|</span><a href="#41021635">next</a><span>|</span><label class="collapse" for="c-41020770">[-]</label><label class="expand" for="c-41020770">[1 more]</label></div><br/><div class="children"><div class="content">I have profound respect for Walter and all his work, same for Andrei; but his comment was off-topic.</div><br/></div></div></div></div><div id="41021635" class="c"><input type="checkbox" id="c-41021635" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41020033">parent</a><span>|</span><a href="#41020553">prev</a><span>|</span><a href="#41021621">next</a><span>|</span><label class="collapse" for="c-41021635">[-]</label><label class="expand" for="c-41021635">[4 more]</label></div><br/><div class="children"><div class="content">&gt;I know that he is but this is incredibly off-topic.<p>no, it is not. in the fine tradition of hn, let me reply by saying, &quot;that&#x27;s like, just your opinion, man&quot;. which is not worth more than any other people&#x27;s opinion on this site. maybe worth less.<p>e.g.:<p>&gt;D would deserve attention too if ...<p>so now you are telling everyone what deserves attention?<p>then what have you done to deserve attention yourself (to your comments, that is)?<p>walter has done plenty. he created the D language, and still maintains it, along with others, like, you know, Andrei, for one. Google who <i>that</i> is.<p>Google about Walter to know what other stuff he has done before, like you know, the Zortech C++ compiler.</div><br/><div id="41021856" class="c"><input type="checkbox" id="c-41021856" checked=""/><div class="controls bullet"><span class="by">nequo</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41021635">parent</a><span>|</span><a href="#41021845">next</a><span>|</span><label class="collapse" for="c-41021856">[-]</label><label class="expand" for="c-41021856">[2 more]</label></div><br/><div class="children"><div class="content">Let me just say, your comments have not been the most constructive I’ve read.</div><br/><div id="41022282" class="c"><input type="checkbox" id="c-41022282" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41021856">parent</a><span>|</span><a href="#41021845">next</a><span>|</span><label class="collapse" for="c-41022282">[-]</label><label class="expand" for="c-41022282">[1 more]</label></div><br/><div class="children"><div class="content">Sure, I will let you say it :)<p>Let me say that I think the same about this comment of yours upthread:<p>&gt;&gt;D would deserve attention too, in a separate post, or here if it was explained how it relates to Aro.<p>In case you cannot or don&#x27;t want to google for some reason, here are the Wikipedia articles about D, Walter and Andrei, and important related topics (all on Wikipedia, which implies notability) that I suggested you look up,  above:<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Walter_Bright" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Walter_Bright</a><p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Zortech_C%2B%2B" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Zortech_C%2B%2B</a><p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Empire_(1977_video_game)" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Empire_(1977_video_game)</a><p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;D_(programming_language)" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;D_(programming_language)</a><p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Andrei_Alexandrescu" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Andrei_Alexandrescu</a><p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Modern_C%2B%2B_Design" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Modern_C%2B%2B_Design</a><p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;C%2B%2B" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;C%2B%2B</a><p>Edit: spelling</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41021621" class="c"><input type="checkbox" id="c-41021621" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019223">parent</a><span>|</span><a href="#41019999">prev</a><span>|</span><a href="#41018542">next</a><span>|</span><label class="collapse" for="c-41021621">[-]</label><label class="expand" for="c-41021621">[1 more]</label></div><br/><div class="children"><div class="content">Jeez!<p>The post title is &quot;Aro, Zig&#x27;s new <i>C compiler</i>&quot;, not just about Aro or Zig. In fact, <i>just</i> by virtue of being about Aro, it is <i>also about C compilers</i> - <i>as the title clearly says</i>, whether you (pedantically) like it or not. And D is a language that is used as a better C too, apart from other things. In fact, lang C -&gt; lang D, says something significant to this discussion, right?<p>&gt;Could you draw a comparison for those who came here for Zig and not D?<p>Sigh.<p>More pedantic talk.<p>Shall we start drawing Venn diagrams to clarify things?<p>Is it not possible that there can be different groups of people, some of whom are interested in Zig, others in Zig and Aro, others in C compilers generally, and others in D with some of those groups overlapping? That&#x27;s what Venn diagrams are meant to show.</div><br/></div></div></div></div><div id="41018542" class="c"><input type="checkbox" id="c-41018542" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41019223">prev</a><span>|</span><a href="#41019385">next</a><span>|</span><label class="collapse" for="c-41018542">[-]</label><label class="expand" for="c-41018542">[11 more]</label></div><br/><div class="children"><div class="content">Is it possible to do what Zig does and cross compile to any OS&#x2F;arch, from any OS&#x2F;arch?<p>Last I tried, I found some compiler options and commands to do it, but they were badly explained, I tried for hours and it just didn&#x27;t work at all, so I gave up.</div><br/><div id="41018621" class="c"><input type="checkbox" id="c-41018621" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41018542">parent</a><span>|</span><a href="#41019054">next</a><span>|</span><label class="collapse" for="c-41018621">[-]</label><label class="expand" for="c-41018621">[7 more]</label></div><br/><div class="children"><div class="content">The dmd D compiler can cross-compile to any of the targets that it supports. I use it all the time to develop on other platforms.<p>I am currently adding AArch64 support to DMD&#x27;s code generator. dmd doesn&#x27;t run on my Raspberry Pi (yet!), so I use sshfs to access the Pi&#x27;s filesystem from Ubuntu, compile programs on Ubuntu, transfer the .o file to the Pi, link it on the Pi, and run it on the Pi.<p>I&#x27;m sorry you&#x27;re having trouble with this, so I recommend posting on the D forums, and people are there to help!<p><a href="https:&#x2F;&#x2F;forum.dlang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;forum.dlang.org&#x2F;</a></div><br/><div id="41019174" class="c"><input type="checkbox" id="c-41019174" checked=""/><div class="controls bullet"><span class="by">wyldfire</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41018621">parent</a><span>|</span><a href="#41019054">next</a><span>|</span><label class="collapse" for="c-41019174">[-]</label><label class="expand" for="c-41019174">[6 more]</label></div><br/><div class="children"><div class="content">The grandparent post refers to the fact that Zig ships with  C, C++ library source that it lazily cross-builds (at least for linux, I don&#x27;t recall how it solves this problem for macOS or windows).  And possibly it uses lld too?  Since Zig ships with these, it makes the whole cross-build experience much smoother and less dependent on whether your host OS distribution includes packages for your desired target OS&#x2F;architecture.</div><br/><div id="41019231" class="c"><input type="checkbox" id="c-41019231" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019174">parent</a><span>|</span><a href="#41019054">next</a><span>|</span><label class="collapse" for="c-41019231">[-]</label><label class="expand" for="c-41019231">[5 more]</label></div><br/><div class="children"><div class="content">Exactly. Zig tooling includes a linker, and that&#x27;s also cross-platform. Zig can generate actual runnable executables that run anywhere from a single machine.<p>As far as I can tell, D&#x27;s DMD can cross compile but not link. I probably missed that before (actually, I think I was trying with LDC, I found the page where they document the process while searching for it just now: <a href="https:&#x2F;&#x2F;wiki.dlang.org&#x2F;Cross-compiling_with_LDC" rel="nofollow">https:&#x2F;&#x2F;wiki.dlang.org&#x2F;Cross-compiling_with_LDC</a> if you try those options, nothing works, at least from MacOS).<p>I just tried and this only works with the -c option (compile, but not link):<p><pre><code>    dmd -os=linux -c source&#x2F;app.d
</code></pre>
Without `-c`:<p>```
Error: linker exited with status 1
       cc app.o -o app -m64 -Xlinker -no_compact_unwind -L&#x2F;Users&#x2F;me&#x2F;dlang&#x2F;dmd-2.109.1&#x2F;osx&#x2F;bin&#x2F;..&#x2F;lib -Xlinker -Bstatic -lphobos2 -Xlinker -Bdynamic -lpthread -lm 
(dmd-2.109.1)
```<p>I am sure Walter knows how to compile on one machine, then go to another machine and do the linking or whatever is needed. I know nothing about those, but with Zig I need not know anything other than which flag to use to cross compile. It&#x27;s a huge difference. D should do that, otherwise it&#x27;s just not competitive for people like me (I am just an average joe programmer who knows how to write code but has very little interest in learning how linkers work).</div><br/><div id="41019388" class="c"><input type="checkbox" id="c-41019388" checked=""/><div class="controls bullet"><span class="by">wyldfire</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019231">parent</a><span>|</span><a href="#41021794">next</a><span>|</span><label class="collapse" for="c-41019388">[-]</label><label class="expand" for="c-41019388">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I am sure Walter knows how to compile on one machine, then go to another machine and do the linking or whatever is needed.<p>Historically, you would or at least could get your compiler and linker from different vendors -- assembler, disassembler and other tools too.  So it&#x27;s normal&#x2F;common for C compilers like gcc, clang, dmd to not be distributed like Zig is.<p>But I would dare say that the way Zig is doing it is a great model for others.<p>&gt; go to another machine and do the linking<p>BTW - if you use something like debian&#x2F;ubuntu for development, they have compilers+linkers+binutils for several different architectures available to make cross-building without Zig at least a little bit easier.</div><br/><div id="41023550" class="c"><input type="checkbox" id="c-41023550" checked=""/><div class="controls bullet"><span class="by">kubkon</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019388">parent</a><span>|</span><a href="#41021794">next</a><span>|</span><label class="collapse" for="c-41023550">[-]</label><label class="expand" for="c-41023550">[1 more]</label></div><br/><div class="children"><div class="content">FYI, Zig is in the process of dropping dependence on lld on Linux and Windows; macOS uses Zig&#x27;s own linker since roughly 2021 as far as I recall. Tracking issue for reference: <a href="https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues&#x2F;8726">https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues&#x2F;8726</a></div><br/></div></div></div></div><div id="41021794" class="c"><input type="checkbox" id="c-41021794" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019231">parent</a><span>|</span><a href="#41019388">prev</a><span>|</span><a href="#41019054">next</a><span>|</span><label class="collapse" for="c-41021794">[-]</label><label class="expand" for="c-41021794">[2 more]</label></div><br/><div class="children"><div class="content">A cross-linker would be required for that to work. If you use a cross-linker with D, it should work.</div><br/><div id="41023529" class="c"><input type="checkbox" id="c-41023529" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41021794">parent</a><span>|</span><a href="#41019054">next</a><span>|</span><label class="collapse" for="c-41023529">[-]</label><label class="expand" for="c-41023529">[1 more]</label></div><br/><div class="children"><div class="content">Given Zig has one, it might actually be possible to delegate to that then?<p>It would be awesome to have a post explaining how to do that :)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41019054" class="c"><input type="checkbox" id="c-41019054" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41018542">parent</a><span>|</span><a href="#41018621">prev</a><span>|</span><a href="#41019385">next</a><span>|</span><label class="collapse" for="c-41019054">[-]</label><label class="expand" for="c-41019054">[3 more]</label></div><br/><div class="children"><div class="content">Generally, the hard part isn&#x27;t the cross <i>compiler</i> (nor, these days, the cross binutils), but the cross <i>libraries</i>. There are at least 3 ways (&#x2F;usr&#x2F;lib&#x2F;$ARCH, &#x2F;usr&#x2F;$ARCH&#x2F;lib, &#x2F;$CHROOT&#x2F;usr&#x2F;lib&#x2F;) to set up the libraries, all incompatible with each other.<p>Zig is notable for putting a lot of work into hard-coding basic C libraries, though of course you still need a scattering of other C libraries for most real-world programs.<p>(for a sufficiently advanced language ecosystem, the language&#x27;s own libraries should be easy enough)</div><br/><div id="41020900" class="c"><input type="checkbox" id="c-41020900" checked=""/><div class="controls bullet"><span class="by">wucke13</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019054">parent</a><span>|</span><a href="#41019385">next</a><span>|</span><label class="collapse" for="c-41020900">[-]</label><label class="expand" for="c-41020900">[2 more]</label></div><br/><div class="children"><div class="content">The nixpkgs have a rather elegant way to deal with that. Let&#x27;s presume you need a libpng for an armv7 platform, such as an old RaspberryPi. Then Nix allows you to<p>- get a suitable cross compiler toolchain<p>- pick whether you want dynamic or static linking (most likely static when the target system does not come with &#x2F;nix&#x2F;store)<p>- compile all prerequisites for the library such as transitive dependencies<p>- compile the library with the cross compiler for the selected target arch<p>All in one command line call, that does not require you to &#x27;apt-get install&#x27; any of the tools manually:<p><pre><code>  nix-build &#x27;&lt;nixpkgs&gt;&#x27; -A pkgsStatic.libpng --arg crossSystem &#x27;{ config = &quot;armv7a-unknown-linux-gnueabihf&quot;; }&#x27;</code></pre></div><br/><div id="41022663" class="c"><input type="checkbox" id="c-41022663" checked=""/><div class="controls bullet"><span class="by">Cloudef</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41020900">parent</a><span>|</span><a href="#41019385">next</a><span>|</span><label class="collapse" for="c-41022663">[-]</label><label class="expand" for="c-41022663">[1 more]</label></div><br/><div class="children"><div class="content">You can combine zig and nix with &lt;<a href="https:&#x2F;&#x2F;github.com&#x2F;Cloudef&#x2F;zig2nix">https:&#x2F;&#x2F;github.com&#x2F;Cloudef&#x2F;zig2nix</a>&gt; (shameless plug)</div><br/></div></div></div></div></div></div></div></div><div id="41019385" class="c"><input type="checkbox" id="c-41019385" checked=""/><div class="controls bullet"><span class="by">binary132</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41018542">prev</a><span>|</span><a href="#41022194">next</a><span>|</span><label class="collapse" for="c-41019385">[-]</label><label class="expand" for="c-41019385">[2 more]</label></div><br/><div class="children"><div class="content">I would 100% be a D user if it had full C++ typesystem fluency.</div><br/><div id="41021801" class="c"><input type="checkbox" id="c-41021801" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41018489">root</a><span>|</span><a href="#41019385">parent</a><span>|</span><a href="#41022194">next</a><span>|</span><label class="collapse" for="c-41021801">[-]</label><label class="expand" for="c-41021801">[1 more]</label></div><br/><div class="children"><div class="content">D has a lot of compatibility with C++&#x27;s type system. But not with everything - for example, D does not have a `volatile` type. What is missing that you&#x27;re interested in?</div><br/></div></div></div></div><div id="41022194" class="c"><input type="checkbox" id="c-41022194" checked=""/><div class="controls bullet"><span class="by">WhereIsTheTruth</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41019385">prev</a><span>|</span><a href="#41021576">next</a><span>|</span><label class="collapse" for="c-41022194">[-]</label><label class="expand" for="c-41022194">[1 more]</label></div><br/><div class="children"><div class="content">I was about to say this, and DMD compiles C code insanely FAST!</div><br/></div></div><div id="41021576" class="c"><input type="checkbox" id="c-41021576" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018489">parent</a><span>|</span><a href="#41022194">prev</a><span>|</span><a href="#41023177">next</a><span>|</span><label class="collapse" for="c-41021576">[-]</label><label class="expand" for="c-41021576">[1 more]</label></div><br/><div class="children"><div class="content">Interesting, good to know.</div><br/></div></div></div></div><div id="41023177" class="c"><input type="checkbox" id="c-41023177" checked=""/><div class="controls bullet"><span class="by">ilayn</span><span>|</span><a href="#41018489">prev</a><span>|</span><a href="#41018906">next</a><span>|</span><label class="collapse" for="c-41023177">[-]</label><label class="expand" for="c-41023177">[1 more]</label></div><br/><div class="children"><div class="content">I hope Zig adds complex numbers before it is too late. It&#x27;s a pity that they did not steal array syntax and slices from Fortran&#x2F;Numpy.</div><br/></div></div><div id="41018906" class="c"><input type="checkbox" id="c-41018906" checked=""/><div class="controls bullet"><span class="by">livrem</span><span>|</span><a href="#41023177">prev</a><span>|</span><a href="#41018467">next</a><span>|</span><label class="collapse" for="c-41018906">[-]</label><label class="expand" for="c-41018906">[9 more]</label></div><br/><div class="children"><div class="content">Is this part of the long-term plan for zig to get rid of the dependency on clang&#x2F;llvm?<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues&#x2F;16270">https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues&#x2F;16270</a></div><br/><div id="41019534" class="c"><input type="checkbox" id="c-41019534" checked=""/><div class="controls bullet"><span class="by">AndyKelley</span><span>|</span><a href="#41018906">parent</a><span>|</span><a href="#41019057">next</a><span>|</span><label class="collapse" for="c-41019534">[-]</label><label class="expand" for="c-41019534">[1 more]</label></div><br/><div class="children"><div class="content">No. Or rather, only the preprocessor.</div><br/></div></div><div id="41019057" class="c"><input type="checkbox" id="c-41019057" checked=""/><div class="controls bullet"><span class="by">Laremere</span><span>|</span><a href="#41018906">parent</a><span>|</span><a href="#41019534">prev</a><span>|</span><a href="#41018467">next</a><span>|</span><label class="collapse" for="c-41019057">[-]</label><label class="expand" for="c-41019057">[7 more]</label></div><br/><div class="children"><div class="content">Yes.</div><br/><div id="41019111" class="c"><input type="checkbox" id="c-41019111" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#41018906">root</a><span>|</span><a href="#41019057">parent</a><span>|</span><a href="#41018467">next</a><span>|</span><label class="collapse" for="c-41019111">[-]</label><label class="expand" for="c-41019111">[6 more]</label></div><br/><div class="children"><div class="content">Does Zig already compile without LLVM, even if not by default?<p>Also, do you know when the changes Andrew mentioned in his &quot;Data Oriented Design&quot; are going to be released in the zig compiler?<p>I would expect that when both of the above are done, compiling Zig will be really, really fast compared to anything we currently have.</div><br/><div id="41019198" class="c"><input type="checkbox" id="c-41019198" checked=""/><div class="controls bullet"><span class="by">Laremere</span><span>|</span><a href="#41018906">root</a><span>|</span><a href="#41019111">parent</a><span>|</span><a href="#41019164">next</a><span>|</span><label class="collapse" for="c-41019198">[-]</label><label class="expand" for="c-41019198">[4 more]</label></div><br/><div class="children"><div class="content">The Zig compiler has used Data Oriented Design for a long time, so any recent version has that, yes.  The most substantial part of running the compiler right now is LLVM, hence the focus to provide an alternative.  The other big focus right now is incremental compilation, which will make recompilations very fast.</div><br/><div id="41019295" class="c"><input type="checkbox" id="c-41019295" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#41018906">root</a><span>|</span><a href="#41019198">parent</a><span>|</span><a href="#41019164">next</a><span>|</span><label class="collapse" for="c-41019295">[-]</label><label class="expand" for="c-41019295">[3 more]</label></div><br/><div class="children"><div class="content">The talk I am referring to is from 2024 and shows some metrics improving by 30% or more. And Andrew said that&#x27;s not yet shipped:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=IroPQ150F6c" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=IroPQ150F6c</a><p>So, are you sure about that??<p>EDIT: ok, the talk was uploaded just last week, but someone in the comments clarified that:<p>&gt;  The original talk is from 2021.. Thank you for reuploading.<p>I feel stupid now :&#x2F;</div><br/><div id="41020988" class="c"><input type="checkbox" id="c-41020988" checked=""/><div class="controls bullet"><span class="by">hiccuphippo</span><span>|</span><a href="#41018906">root</a><span>|</span><a href="#41019295">parent</a><span>|</span><a href="#41019918">next</a><span>|</span><label class="collapse" for="c-41020988">[-]</label><label class="expand" for="c-41020988">[1 more]</label></div><br/><div class="children"><div class="content">Recently Andrew posted that the compiler can compile itself without LLVM in under 10 seconds:
<a href="https:&#x2F;&#x2F;mastodon.social&#x2F;@andrewrk&#x2F;112752924367683101" rel="nofollow">https:&#x2F;&#x2F;mastodon.social&#x2F;@andrewrk&#x2F;112752924367683101</a></div><br/></div></div><div id="41019918" class="c"><input type="checkbox" id="c-41019918" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#41018906">root</a><span>|</span><a href="#41019295">parent</a><span>|</span><a href="#41020988">prev</a><span>|</span><a href="#41019164">next</a><span>|</span><label class="collapse" for="c-41019918">[-]</label><label class="expand" for="c-41019918">[1 more]</label></div><br/><div class="children"><div class="content">Don’t</div><br/></div></div></div></div></div></div><div id="41019164" class="c"><input type="checkbox" id="c-41019164" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#41018906">root</a><span>|</span><a href="#41019111">parent</a><span>|</span><a href="#41019198">prev</a><span>|</span><a href="#41018467">next</a><span>|</span><label class="collapse" for="c-41019164">[-]</label><label class="expand" for="c-41019164">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the major area of focus right now.  You can track the issues with this tag&#x2F;link if you&#x27;d like:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues?q=is%3Aissue+is%3Aopen+label%3Abackend-self-hosted+">https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues?q=is%3Aissue+is%3Aopen...</a></div><br/></div></div></div></div></div></div></div></div><div id="41018467" class="c"><input type="checkbox" id="c-41018467" checked=""/><div class="controls bullet"><span class="by">slowmovintarget</span><span>|</span><a href="#41018906">prev</a><span>|</span><a href="#41017945">next</a><span>|</span><label class="collapse" for="c-41018467">[-]</label><label class="expand" for="c-41018467">[9 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not all that familiar with the Zig tool chain.<p>Am I understanding correctly that this is a regular C compiler used as a component of the Zig compiler chain allowing compilation of C files alongside Zig? Or does Zig generate C and therefore need a C compiler under the hood?<p>Looking at the documentation suggests it is the former, not the latter.</div><br/><div id="41018505" class="c"><input type="checkbox" id="c-41018505" checked=""/><div class="controls bullet"><span class="by">anonymoushn</span><span>|</span><a href="#41018467">parent</a><span>|</span><a href="#41017945">next</a><span>|</span><label class="collapse" for="c-41018505">[-]</label><label class="expand" for="c-41018505">[8 more]</label></div><br/><div class="children"><div class="content">It says it&#x27;s a C frontend for `zig translate-c` which translates C code to Zig code. `zig translate-c` is not required for most Zig projects or even for most Zig projects that interop with C.</div><br/><div id="41018629" class="c"><input type="checkbox" id="c-41018629" checked=""/><div class="controls bullet"><span class="by">slowmovintarget</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41018505">parent</a><span>|</span><a href="#41019036">next</a><span>|</span><label class="collapse" for="c-41018629">[-]</label><label class="expand" for="c-41018629">[2 more]</label></div><br/><div class="children"><div class="content">Thank you.<p>I also started reading through the Zig overview [1] and near the end of that document it says this: &quot;Not only can Zig compile C code, but there is a very good reason to use Zig as a C compiler: Zig ships with libc.&quot;<p>From the doc, IIUC, compilation of header files and other C code allows Zig to do direct interop with no intermediaries. Seems useful.<p>[1] <a href="https:&#x2F;&#x2F;ziglang.org&#x2F;learn&#x2F;overview&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ziglang.org&#x2F;learn&#x2F;overview&#x2F;</a></div><br/><div id="41019650" class="c"><input type="checkbox" id="c-41019650" checked=""/><div class="controls bullet"><span class="by">3836293648</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41018629">parent</a><span>|</span><a href="#41019036">next</a><span>|</span><label class="collapse" for="c-41019650">[-]</label><label class="expand" for="c-41019650">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s just wrapping clang. They&#x27;re working on replacing it</div><br/></div></div></div></div><div id="41019036" class="c"><input type="checkbox" id="c-41019036" checked=""/><div class="controls bullet"><span class="by">Laremere</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41018505">parent</a><span>|</span><a href="#41018629">prev</a><span>|</span><a href="#41017945">next</a><span>|</span><label class="collapse" for="c-41019036">[-]</label><label class="expand" for="c-41019036">[5 more]</label></div><br/><div class="children"><div class="content">translate-c is not required for compiling pure Zig code.  However, the plan is to remove the &quot;@cImport&quot; built in.  So if your project is importing a c header, in the future you&#x27;ll add build step translating it from c to Zig, and then you import it into your Zig code as a module.</div><br/><div id="41019548" class="c"><input type="checkbox" id="c-41019548" checked=""/><div class="controls bullet"><span class="by">6keZbCECT2uB</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41019036">parent</a><span>|</span><a href="#41021127">next</a><span>|</span><label class="collapse" for="c-41019548">[-]</label><label class="expand" for="c-41019548">[1 more]</label></div><br/><div class="children"><div class="content">How does this work with things which are expressible only in C? For example, Pascal strings with flexible array members?<p>I guess since you said header, you keep everything opaque and create a header for that which gets translated to Zig.</div><br/></div></div><div id="41021127" class="c"><input type="checkbox" id="c-41021127" checked=""/><div class="controls bullet"><span class="by">girvo</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41019036">parent</a><span>|</span><a href="#41019548">prev</a><span>|</span><a href="#41019374">next</a><span>|</span><label class="collapse" for="c-41021127">[-]</label><label class="expand" for="c-41021127">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s super exciting. c2nim is one of the things that makes using Nim in _super_ odd places (like professional embedded firmware development) feasible, and translate-c brings Zig that much closer to what I&#x27;d love from it! Embedded Zig is going to be rad, once we get there.</div><br/></div></div><div id="41019374" class="c"><input type="checkbox" id="c-41019374" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41019036">parent</a><span>|</span><a href="#41021127">prev</a><span>|</span><a href="#41017945">next</a><span>|</span><label class="collapse" for="c-41019374">[-]</label><label class="expand" for="c-41019374">[2 more]</label></div><br/><div class="children"><div class="content">what is the reason for this change? zig less than newbie here. I&#x27;ve only just recently started reading the zig overview, although I have been reading hn posts about zig with interest for some time.</div><br/><div id="41019611" class="c"><input type="checkbox" id="c-41019611" checked=""/><div class="controls bullet"><span class="by">Laremere</span><span>|</span><a href="#41018467">root</a><span>|</span><a href="#41019374">parent</a><span>|</span><a href="#41017945">next</a><span>|</span><label class="collapse" for="c-41019611">[-]</label><label class="expand" for="c-41019611">[1 more]</label></div><br/><div class="children"><div class="content">Primary reason is that it removes a dependency on libclang, and as such is required to remove the LLVM dependency.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41017945" class="c"><input type="checkbox" id="c-41017945" checked=""/><div class="controls bullet"><span class="by">Y_Y</span><span>|</span><a href="#41018467">prev</a><span>|</span><a href="#41020607">next</a><span>|</span><label class="collapse" for="c-41017945">[-]</label><label class="expand" for="c-41017945">[3 more]</label></div><br/><div class="children"><div class="content">It would be interesting to see how well it optimizes compared to the established players. The fact that it handles C23 and common GNU extensions is already impressive.</div><br/><div id="41018357" class="c"><input type="checkbox" id="c-41018357" checked=""/><div class="controls bullet"><span class="by">MaxBarraclough</span><span>|</span><a href="#41017945">parent</a><span>|</span><a href="#41020607">next</a><span>|</span><label class="collapse" for="c-41018357">[-]</label><label class="expand" for="c-41018357">[2 more]</label></div><br/><div class="children"><div class="content">I agree it does seem very impressive. My first thought was that they must be using LLVM for the backend, but it looks like no, it&#x27;s fully &#x27;self-contained&#x27;.</div><br/><div id="41019135" class="c"><input type="checkbox" id="c-41019135" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#41017945">root</a><span>|</span><a href="#41018357">parent</a><span>|</span><a href="#41020607">next</a><span>|</span><label class="collapse" for="c-41019135">[-]</label><label class="expand" for="c-41019135">[1 more]</label></div><br/><div class="children"><div class="content">Eliminating the dependency on LLVM is a major focus for the language team, and a big part of why Aro exists.<p>Note that it&#x27;s the <i>dependency</i> which is being eliminated: it will remain possible to use LLVM as a back end, and to compile Zig and C together without using Aro to translate the C into Zig.  If I&#x27;m understanding the roadmap correctly, the C <i>headers</i> needed to link a C library with Zig code will be translated into Zig, but doing so with the actual .c files will be optional.</div><br/></div></div></div></div></div></div><div id="41020607" class="c"><input type="checkbox" id="c-41020607" checked=""/><div class="controls bullet"><span class="by">fefe23</span><span>|</span><a href="#41017945">prev</a><span>|</span><a href="#41018250">next</a><span>|</span><label class="collapse" for="c-41020607">[-]</label><label class="expand" for="c-41020607">[2 more]</label></div><br/><div class="children"><div class="content">Wait, so you still need zig, and zig still needs LLVM.
If you have LLVM, you have clang.<p>What is the value proposition of this compiler, then?</div><br/><div id="41020663" class="c"><input type="checkbox" id="c-41020663" checked=""/><div class="controls bullet"><span class="by">defen</span><span>|</span><a href="#41020607">parent</a><span>|</span><a href="#41018250">next</a><span>|</span><label class="collapse" for="c-41020663">[-]</label><label class="expand" for="c-41020663">[1 more]</label></div><br/><div class="children"><div class="content">The Zig self-hosted x86 backend is nearly complete (and is already capable of building the Zig compiler itself). So it&#x27;s part of the path toward not needing LLVM or clang at all.</div><br/></div></div></div></div><div id="41018250" class="c"><input type="checkbox" id="c-41018250" checked=""/><div class="controls bullet"><span class="by">sirwhinesalot</span><span>|</span><a href="#41020607">prev</a><span>|</span><a href="#41018342">next</a><span>|</span><label class="collapse" for="c-41018250">[-]</label><label class="expand" for="c-41018250">[5 more]</label></div><br/><div class="children"><div class="content">Very nice, honestly the tooling around Zig is even more impressive than the language itself.</div><br/><div id="41019106" class="c"><input type="checkbox" id="c-41019106" checked=""/><div class="controls bullet"><span class="by">Validark</span><span>|</span><a href="#41018250">parent</a><span>|</span><a href="#41018342">next</a><span>|</span><label class="collapse" for="c-41019106">[-]</label><label class="expand" for="c-41019106">[4 more]</label></div><br/><div class="children"><div class="content">The language itself is the reason the tooling exists though, because it attracts a certain kind of developer that probably would not have done the same kind of work for other languages.</div><br/><div id="41019542" class="c"><input type="checkbox" id="c-41019542" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018250">root</a><span>|</span><a href="#41019106">parent</a><span>|</span><a href="#41018342">next</a><span>|</span><label class="collapse" for="c-41019542">[-]</label><label class="expand" for="c-41019542">[3 more]</label></div><br/><div class="children"><div class="content">what kind of developer is that? interested to know.<p>I have a lot of prior C usage background, including for nontrivial stuff, including a product, although it has been a while since I used it.<p>and I am checking out zig as one of my next languages to learn in the C-like &#x2F; systems programming area.</div><br/><div id="41021735" class="c"><input type="checkbox" id="c-41021735" checked=""/><div class="controls bullet"><span class="by">geodel</span><span>|</span><a href="#41018250">root</a><span>|</span><a href="#41019542">parent</a><span>|</span><a href="#41018342">next</a><span>|</span><label class="collapse" for="c-41021735">[-]</label><label class="expand" for="c-41021735">[2 more]</label></div><br/><div class="children"><div class="content">I think it is logistics, infrastructure oriented vs language feature oriented. Looking at current PL landscape Go, Zig appears to be infrastructure oriented languages where features are just enough to keep infrastructure super fast. Whereas most other languages like Rust, Kotlin and so many more feature oriented if compiler gets fast, runtimes get better its nice but they&#x27;d rather work on long list of modern language features.<p>To be honest PL market feels similar to consumer market where gadgets with myriad <i>smart features</i> sell more than plain but solid machines.</div><br/><div id="41022472" class="c"><input type="checkbox" id="c-41022472" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#41018250">root</a><span>|</span><a href="#41021735">parent</a><span>|</span><a href="#41018342">next</a><span>|</span><label class="collapse" for="c-41022472">[-]</label><label class="expand" for="c-41022472">[1 more]</label></div><br/><div class="children"><div class="content">makes sense. not too different from the market for operating systems or enterprise software. both suffer from the same malady. 
we need a remedy. :)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41018342" class="c"><input type="checkbox" id="c-41018342" checked=""/><div class="controls bullet"><span class="by">lambdaone</span><span>|</span><a href="#41018250">prev</a><span>|</span><a href="#41018415">next</a><span>|</span><label class="collapse" for="c-41018342">[-]</label><label class="expand" for="c-41018342">[8 more]</label></div><br/><div class="children"><div class="content">Zig is amazing. What started as a one-man project is becoming a mature software ecosystem capable of standing on its own as a peer with the major languages.</div><br/><div id="41019138" class="c"><input type="checkbox" id="c-41019138" checked=""/><div class="controls bullet"><span class="by">squarefoot</span><span>|</span><a href="#41018342">parent</a><span>|</span><a href="#41019177">next</a><span>|</span><label class="collapse" for="c-41019138">[-]</label><label class="expand" for="c-41019138">[4 more]</label></div><br/><div class="children"><div class="content">It appears to me it could become the low level language of choice for small embedded systems in contexts where Lua or MicroPython couldn&#x27;t fit the bill performance-wise and one wants something higher level than C. Ditto for Nim and Crystal.</div><br/><div id="41019780" class="c"><input type="checkbox" id="c-41019780" checked=""/><div class="controls bullet"><span class="by">Drygord</span><span>|</span><a href="#41018342">root</a><span>|</span><a href="#41019138">parent</a><span>|</span><a href="#41019177">next</a><span>|</span><label class="collapse" for="c-41019780">[-]</label><label class="expand" for="c-41019780">[3 more]</label></div><br/><div class="children"><div class="content">It’s constraints on memory management basically will never allow that to happen.<p>It lures people in with “use any allocator you want”! Which only appears as freedom of choice when reality it’s locking the user into the same paradigm of memory management that has given C a bad name to begin with.</div><br/><div id="41019987" class="c"><input type="checkbox" id="c-41019987" checked=""/><div class="controls bullet"><span class="by">throwawaymaths</span><span>|</span><a href="#41018342">root</a><span>|</span><a href="#41019780">parent</a><span>|</span><a href="#41019177">next</a><span>|</span><label class="collapse" for="c-41019987">[-]</label><label class="expand" for="c-41019987">[2 more]</label></div><br/><div class="children"><div class="content">1&#x2F;3 of the problem with c memory management is null unsafely, not a problem in zig.  1&#x2F;3 more is conflating arrays with single item pointers.  Also not a problem with zig.  The only memory management &quot;issue&quot; with zig is lack of temporal memory safety.</div><br/></div></div></div></div></div></div><div id="41019177" class="c"><input type="checkbox" id="c-41019177" checked=""/><div class="controls bullet"><span class="by">akkad33</span><span>|</span><a href="#41018342">parent</a><span>|</span><a href="#41019138">prev</a><span>|</span><a href="#41019186">next</a><span>|</span><label class="collapse" for="c-41019177">[-]</label><label class="expand" for="c-41019177">[1 more]</label></div><br/><div class="children"><div class="content">Why is zig amazing? Could you elaborate a bit</div><br/></div></div><div id="41019186" class="c"><input type="checkbox" id="c-41019186" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#41018342">parent</a><span>|</span><a href="#41019177">prev</a><span>|</span><a href="#41018415">next</a><span>|</span><label class="collapse" for="c-41019186">[-]</label><label class="expand" for="c-41019186">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m all-in on Zig, I think it&#x27;s the bee&#x27;s knees.<p>I needed a regex library for another project, and dashed off an acceptable one in a week flat <a href="https:&#x2F;&#x2F;github.com&#x2F;mnemnion&#x2F;mvzr">https:&#x2F;&#x2F;github.com&#x2F;mnemnion&#x2F;mvzr</a><p>The fun part about this is that it can compile, and <i>match</i>, during both comptime and runtime.  Will it replace PCRE? No. But nor is it intended to.</div><br/><div id="41019355" class="c"><input type="checkbox" id="c-41019355" checked=""/><div class="controls bullet"><span class="by">ozgrakkurt</span><span>|</span><a href="#41018342">root</a><span>|</span><a href="#41019186">parent</a><span>|</span><a href="#41018415">next</a><span>|</span><label class="collapse" for="c-41019355">[-]</label><label class="expand" for="c-41019355">[1 more]</label></div><br/><div class="children"><div class="content">Really want to get into it when reading these posts. Feels like rust killed my casual programming taste in last years.</div><br/></div></div></div></div></div></div><div id="41018415" class="c"><input type="checkbox" id="c-41018415" checked=""/><div class="controls bullet"><span class="by">janice1999</span><span>|</span><a href="#41018342">prev</a><span>|</span><a href="#41020521">next</a><span>|</span><label class="collapse" for="c-41018415">[-]</label><label class="expand" for="c-41018415">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s doesn&#x27;t appear to a whole lot of comments or documentation in the code. Is this normal for Zig projects? Does it have an equivalent of Sphinx to build docs from code?</div><br/><div id="41018478" class="c"><input type="checkbox" id="c-41018478" checked=""/><div class="controls bullet"><span class="by">hu3</span><span>|</span><a href="#41018415">parent</a><span>|</span><a href="#41018439">next</a><span>|</span><label class="collapse" for="c-41018478">[-]</label><label class="expand" for="c-41018478">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;zig.guide&#x2F;build-system&#x2F;generating-documentation&#x2F;" rel="nofollow">https:&#x2F;&#x2F;zig.guide&#x2F;build-system&#x2F;generating-documentation&#x2F;</a></div><br/></div></div><div id="41018439" class="c"><input type="checkbox" id="c-41018439" checked=""/><div class="controls bullet"><span class="by">hellcow</span><span>|</span><a href="#41018415">parent</a><span>|</span><a href="#41018478">prev</a><span>|</span><a href="#41020521">next</a><span>|</span><label class="collapse" for="c-41018439">[-]</label><label class="expand" for="c-41018439">[1 more]</label></div><br/><div class="children"><div class="content">Zig has a documentation generator that uses specially formatted comments, similar to godoc or JSDoc.</div><br/></div></div></div></div><div id="41020521" class="c"><input type="checkbox" id="c-41020521" checked=""/><div class="controls bullet"><span class="by">dist1ll</span><span>|</span><a href="#41018415">prev</a><span>|</span><a href="#41020387">next</a><span>|</span><label class="collapse" for="c-41020521">[-]</label><label class="expand" for="c-41020521">[4 more]</label></div><br/><div class="children"><div class="content">It seems like I can&#x27;t include standard header files, so it can&#x27;t compile a common hello world. I guess that&#x27;d be useful to mention on the README, or maybe I&#x27;m doing something wrong?<p><pre><code>    main.c:1:10: fatal error: &#x27;stdio.h&#x27; not found
    #include &lt;stdio.h&gt;

</code></pre>
It&#x27;d be nice if header inclusion, and -l options work. This would allow benchmarking Aro against some other compilers on a wide range of C files. Usually sqlite3.c is my first go-to for stress-testing C compilers.</div><br/><div id="41020689" class="c"><input type="checkbox" id="c-41020689" checked=""/><div class="controls bullet"><span class="by">defen</span><span>|</span><a href="#41020521">parent</a><span>|</span><a href="#41020387">next</a><span>|</span><label class="collapse" for="c-41020689">[-]</label><label class="expand" for="c-41020689">[3 more]</label></div><br/><div class="children"><div class="content">System header search paths are only implemented on Linux currently. You should be able to parse sqlite3.c on Linux with<p><pre><code>   arocc -fsyntax-only -Wno-unknown-attributes sqlite3.c</code></pre></div><br/><div id="41020962" class="c"><input type="checkbox" id="c-41020962" checked=""/><div class="controls bullet"><span class="by">dist1ll</span><span>|</span><a href="#41020521">root</a><span>|</span><a href="#41020689">parent</a><span>|</span><a href="#41020387">next</a><span>|</span><label class="collapse" for="c-41020962">[-]</label><label class="expand" for="c-41020962">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m primarily interested in full compilation performance, but thanks for the tip!</div><br/><div id="41021663" class="c"><input type="checkbox" id="c-41021663" checked=""/><div class="controls bullet"><span class="by">defen</span><span>|</span><a href="#41020521">root</a><span>|</span><a href="#41020962">parent</a><span>|</span><a href="#41020387">next</a><span>|</span><label class="collapse" for="c-41021663">[-]</label><label class="expand" for="c-41021663">[1 more]</label></div><br/><div class="children"><div class="content">Very little of the backend appears to be implemented currently.</div><br/></div></div></div></div></div></div></div></div><div id="41020726" class="c"><input type="checkbox" id="c-41020726" checked=""/><div class="controls bullet"><span class="by">tiffanyh</span><span>|</span><a href="#41020387">prev</a><span>|</span><label class="collapse" for="c-41020726">[-]</label><label class="expand" for="c-41020726">[2 more]</label></div><br/><div class="children"><div class="content">The ReadMe is quite lacking …<p>- why create a competing front end to Zig?<p>- what problems is it solving?<p>- what’s different than the official Zig frontend?<p>Etc</div><br/><div id="41020851" class="c"><input type="checkbox" id="c-41020851" checked=""/><div class="controls bullet"><span class="by">laserbeam</span><span>|</span><a href="#41020726">parent</a><span>|</span><label class="collapse" for="c-41020851">[-]</label><label class="expand" for="c-41020851">[1 more]</label></div><br/><div class="children"><div class="content">A lot of the work happening in Zig includes experiments which may or may not end up kept long term. What this would solve: compile C without requiring LLVM. The plan in the community is to have LLVM as an optional dependency, and not required by default.</div><br/></div></div></div></div></div></div></div></div></div></body></html>