<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724317256078" as="style"/><link rel="stylesheet" href="styles.css?v=1724317256078"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ghostdev.xyz/posts/self-hosting-dns/">Self-Hosting DNS</a> <span class="domain">(<a href="https://ghostdev.xyz">ghostdev.xyz</a>)</span></div><div class="subtext"><span>onlyspaceghost</span> | <span>25 comments</span></div><br/><div><div id="41317793" class="c"><input type="checkbox" id="c-41317793" checked=""/><div class="controls bullet"><span class="by">bananapub</span><span>|</span><a href="#41316437">next</a><span>|</span><label class="collapse" for="c-41317793">[-]</label><label class="expand" for="c-41317793">[5 more]</label></div><br/><div class="children"><div class="content">DNS <i>resolver</i>, which it is deeply silly to not include in the title.</div><br/><div id="41317834" class="c"><input type="checkbox" id="c-41317834" checked=""/><div class="controls bullet"><span class="by">voytec</span><span>|</span><a href="#41317793">parent</a><span>|</span><a href="#41317810">next</a><span>|</span><label class="collapse" for="c-41317834">[-]</label><label class="expand" for="c-41317834">[2 more]</label></div><br/><div class="children"><div class="content">Agree. Title got me hoping for a description of reasonably-solved public zones self-hosting. The actual content is not interesting to me, and reads like an ad for something called AdGuard (I use unbound for most of this).</div><br/><div id="41318049" class="c"><input type="checkbox" id="c-41318049" checked=""/><div class="controls bullet"><span class="by">endre</span><span>|</span><a href="#41317793">root</a><span>|</span><a href="#41317834">parent</a><span>|</span><a href="#41317810">next</a><span>|</span><label class="collapse" for="c-41318049">[-]</label><label class="expand" for="c-41318049">[1 more]</label></div><br/><div class="children"><div class="content">same here, bait title as it is</div><br/></div></div></div></div><div id="41317810" class="c"><input type="checkbox" id="c-41317810" checked=""/><div class="controls bullet"><span class="by">sulandor</span><span>|</span><a href="#41317793">parent</a><span>|</span><a href="#41317834">prev</a><span>|</span><a href="#41316437">next</a><span>|</span><label class="collapse" for="c-41317810">[-]</label><label class="expand" for="c-41317810">[2 more]</label></div><br/><div class="children"><div class="content">technically it&#x27;s a stub forwarder. so i&#x27;ll let it pass</div><br/></div></div></div></div><div id="41316437" class="c"><input type="checkbox" id="c-41316437" checked=""/><div class="controls bullet"><span class="by">onlyspaceghost</span><span>|</span><a href="#41317793">prev</a><span>|</span><a href="#41317608">next</a><span>|</span><label class="collapse" for="c-41316437">[-]</label><label class="expand" for="c-41316437">[1 more]</label></div><br/><div class="children"><div class="content">My journey of DNS, including self-hosting with Pi-hole and AdGuard Home, using paid services like NextDNS and AdGuard DNS, and public privacy-respecting resolvers.</div><br/></div></div><div id="41317608" class="c"><input type="checkbox" id="c-41317608" checked=""/><div class="controls bullet"><span class="by">ThePowerOfFuet</span><span>|</span><a href="#41316437">prev</a><span>|</span><a href="#41316658">next</a><span>|</span><label class="collapse" for="c-41317608">[-]</label><label class="expand" for="c-41317608">[7 more]</label></div><br/><div class="children"><div class="content">&gt;I wanted to be able to access it with a static IP, and I don’t feel like calling my ISP to get one.<p>Not &quot;feeling like&quot; calling your ISP to get a static IP, but also wanting to self-host?</div><br/><div id="41318025" class="c"><input type="checkbox" id="c-41318025" checked=""/><div class="controls bullet"><span class="by">creesch</span><span>|</span><a href="#41317608">parent</a><span>|</span><a href="#41317800">next</a><span>|</span><label class="collapse" for="c-41318025">[-]</label><label class="expand" for="c-41318025">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think calling the ISP was actually what they didn&#x27;t feel like doing. It is more the call itself. Being put on queue with wait music, dealing with first line customer support who have no clue what you are asking, waiting to be connected to the right support, being connected to the wrong support, being put on hold again, suddenly being hung up on, rinse, repeat.<p>Which is a whole different type of mental challenge compared to figuring out the technical details of self hosting something ;)</div><br/><div id="41318059" class="c"><input type="checkbox" id="c-41318059" checked=""/><div class="controls bullet"><span class="by">endre</span><span>|</span><a href="#41317608">root</a><span>|</span><a href="#41318025">parent</a><span>|</span><a href="#41317800">next</a><span>|</span><label class="collapse" for="c-41318059">[-]</label><label class="expand" for="c-41318059">[1 more]</label></div><br/><div class="children"><div class="content">especially challenging for introverts</div><br/></div></div></div></div><div id="41317800" class="c"><input type="checkbox" id="c-41317800" checked=""/><div class="controls bullet"><span class="by">vachina</span><span>|</span><a href="#41317608">parent</a><span>|</span><a href="#41318025">prev</a><span>|</span><a href="#41317653">next</a><span>|</span><label class="collapse" for="c-41317800">[-]</label><label class="expand" for="c-41317800">[2 more]</label></div><br/><div class="children"><div class="content">point your ns to CloudFlare and write a powershell script to update your AA records every 5 minutes, boom quasi static IP (from the PoV of the client anyway)<p>Not 99.9999% uptime obviously but good enough.</div><br/><div id="41317817" class="c"><input type="checkbox" id="c-41317817" checked=""/><div class="controls bullet"><span class="by">sulandor</span><span>|</span><a href="#41317608">root</a><span>|</span><a href="#41317800">parent</a><span>|</span><a href="#41317653">next</a><span>|</span><label class="collapse" for="c-41317817">[-]</label><label class="expand" for="c-41317817">[1 more]</label></div><br/><div class="children"><div class="content">dyndns solves some applications of static addressing but not most</div><br/></div></div></div></div><div id="41317653" class="c"><input type="checkbox" id="c-41317653" checked=""/><div class="controls bullet"><span class="by">senectus1</span><span>|</span><a href="#41317608">parent</a><span>|</span><a href="#41317800">prev</a><span>|</span><a href="#41316658">next</a><span>|</span><label class="collapse" for="c-41317653">[-]</label><label class="expand" for="c-41317653">[2 more]</label></div><br/><div class="children"><div class="content">I really resent having to pay $120 a year for a static IP :-|</div><br/><div id="41317798" class="c"><input type="checkbox" id="c-41317798" checked=""/><div class="controls bullet"><span class="by">sulandor</span><span>|</span><a href="#41317608">root</a><span>|</span><a href="#41317653">parent</a><span>|</span><a href="#41316658">next</a><span>|</span><label class="collapse" for="c-41317798">[-]</label><label class="expand" for="c-41317798">[1 more]</label></div><br/><div class="children"><div class="content">vps with static ip will go for half of that</div><br/></div></div></div></div></div></div><div id="41316658" class="c"><input type="checkbox" id="c-41316658" checked=""/><div class="controls bullet"><span class="by">shivajikobardan</span><span>|</span><a href="#41317608">prev</a><span>|</span><a href="#41317551">next</a><span>|</span><label class="collapse" for="c-41316658">[-]</label><label class="expand" for="c-41316658">[2 more]</label></div><br/><div class="children"><div class="content">I also want to selfhost variosu servers like dns, email(just to send email to myself).....ldap, dhcp etc. Where do I get started with?  I know linux command line.</div><br/><div id="41317521" class="c"><input type="checkbox" id="c-41317521" checked=""/><div class="controls bullet"><span class="by">thbb123</span><span>|</span><a href="#41316658">parent</a><span>|</span><a href="#41317551">next</a><span>|</span><label class="collapse" for="c-41317521">[-]</label><label class="expand" for="c-41317521">[1 more]</label></div><br/><div class="children"><div class="content">r&#x2F;selfhosted on reddit has a very helpful community.<p>DNS is very easy. Email is tough. Usually one would add a media server such as Plex and Nextcloud which is very useful.</div><br/></div></div></div></div><div id="41317551" class="c"><input type="checkbox" id="c-41317551" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41316658">prev</a><span>|</span><a href="#41317843">next</a><span>|</span><label class="collapse" for="c-41317551">[-]</label><label class="expand" for="c-41317551">[6 more]</label></div><br/><div class="children"><div class="content">Why forward requests to a DNS server like 1.1.1.1 at all? I used to use stuff like pi-hole&#x2F;dnsmasq, but now I&#x27;m using unbound on my opnsense router which supports using blocklists and custom overrides (as well as automatic for DHCP clients). I found the default blocklists in pi-hole broke a few things but not had any problems with the lists I&#x27;m using now.</div><br/><div id="41317669" class="c"><input type="checkbox" id="c-41317669" checked=""/><div class="controls bullet"><span class="by">swiftcoder</span><span>|</span><a href="#41317551">parent</a><span>|</span><a href="#41317843">next</a><span>|</span><label class="collapse" for="c-41317669">[-]</label><label class="expand" for="c-41317669">[5 more]</label></div><br/><div class="children"><div class="content">You have to forward requests that aren&#x27;t in your cache, surely? I don&#x27;t see how you would resolve public domain names otherwise</div><br/><div id="41317757" class="c"><input type="checkbox" id="c-41317757" checked=""/><div class="controls bullet"><span class="by">sulandor</span><span>|</span><a href="#41317551">root</a><span>|</span><a href="#41317669">parent</a><span>|</span><a href="#41318079">next</a><span>|</span><label class="collapse" for="c-41317757">[-]</label><label class="expand" for="c-41317757">[1 more]</label></div><br/><div class="children"><div class="content">that&#x27;s called a dns-resolver (iterator). essentially starting from the top (.) and asking for authorative nameservers that can answer the next level down until it reaches the hostname you are looking for. this usually takes multiple rtt&#x27;s and is hence slower than asking some big cache.</div><br/></div></div><div id="41318079" class="c"><input type="checkbox" id="c-41318079" checked=""/><div class="controls bullet"><span class="by">nobody9999</span><span>|</span><a href="#41317551">root</a><span>|</span><a href="#41317669">parent</a><span>|</span><a href="#41317757">prev</a><span>|</span><a href="#41317701">next</a><span>|</span><label class="collapse" for="c-41318079">[-]</label><label class="expand" for="c-41318079">[1 more]</label></div><br/><div class="children"><div class="content">That would be a &#x27;recursive resolver&#x27;[0], which <i>recursively</i> queries the DNS hierarchy from the top, returns the requested DNS record, and (unless you configure it not to do so) caches the results.<p>They&#x27;re easy to set up and unless you&#x27;re using it to support thousands of DNS requests per second, it&#x27;s not appreciably (on human scales) slower than forwarding requests to your ISP&#x27;s servers and&#x2F;or 8.8.8.8 or 1.1.1.1.<p>More detail about recursive resolvers and how they work can be found here[1]<p>[0] <a href="https:&#x2F;&#x2F;notes.networklessons.com&#x2F;dns-recursive-resolver" rel="nofollow">https:&#x2F;&#x2F;notes.networklessons.com&#x2F;dns-recursive-resolver</a><p>[1] <a href="https:&#x2F;&#x2F;www.akamai.com&#x2F;glossary&#x2F;what-is-recursive-dns" rel="nofollow">https:&#x2F;&#x2F;www.akamai.com&#x2F;glossary&#x2F;what-is-recursive-dns</a></div><br/></div></div><div id="41317701" class="c"><input type="checkbox" id="c-41317701" checked=""/><div class="controls bullet"><span class="by">mavhc</span><span>|</span><a href="#41317551">root</a><span>|</span><a href="#41317669">parent</a><span>|</span><a href="#41318079">prev</a><span>|</span><a href="#41317826">next</a><span>|</span><label class="collapse" for="c-41317701">[-]</label><label class="expand" for="c-41317701">[1 more]</label></div><br/><div class="children"><div class="content">Use the root servers to find the dns entries yourself, just like the upstream provider does</div><br/></div></div><div id="41317826" class="c"><input type="checkbox" id="c-41317826" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41317551">root</a><span>|</span><a href="#41317669">parent</a><span>|</span><a href="#41317701">prev</a><span>|</span><a href="#41317843">next</a><span>|</span><label class="collapse" for="c-41317826">[-]</label><label class="expand" for="c-41317826">[1 more]</label></div><br/><div class="children"><div class="content">Yes but to the root servers, not to someone else&#x27;s cache.</div><br/></div></div></div></div></div></div><div id="41317843" class="c"><input type="checkbox" id="c-41317843" checked=""/><div class="controls bullet"><span class="by">sulandor</span><span>|</span><a href="#41317551">prev</a><span>|</span><label class="collapse" for="c-41317843">[-]</label><label class="expand" for="c-41317843">[3 more]</label></div><br/><div class="children"><div class="content">this seems like a massively overcomplicated exercise.<p>dns-blocking is evil, no matter who does it.<p>stop lying to yourself and install contentblocker on your devices</div><br/><div id="41318031" class="c"><input type="checkbox" id="c-41318031" checked=""/><div class="controls bullet"><span class="by">creesch</span><span>|</span><a href="#41317843">parent</a><span>|</span><a href="#41317985">next</a><span>|</span><label class="collapse" for="c-41318031">[-]</label><label class="expand" for="c-41318031">[1 more]</label></div><br/><div class="children"><div class="content">&gt; dns-blocking is evil, no matter who does it.<p>You really ought to expand on that line of reasoning in order to get anyone to take this comment seriously.</div><br/></div></div><div id="41317985" class="c"><input type="checkbox" id="c-41317985" checked=""/><div class="controls bullet"><span class="by">otabdeveloper4</span><span>|</span><a href="#41317843">parent</a><span>|</span><a href="#41318031">prev</a><span>|</span><label class="collapse" for="c-41317985">[-]</label><label class="expand" for="c-41317985">[1 more]</label></div><br/><div class="children"><div class="content">DNS is a kind of content. You seem to be quibbling over semantic technicalities.</div><br/></div></div></div></div></div></div></div></div></div></body></html>