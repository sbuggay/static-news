<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711011676935" as="style"/><link rel="stylesheet" href="styles.css?v=1711011676935"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.phoronix.com/news/Red-Hat-Nova-Rust-Abstractions">Red Hat to author new Linux driver for Nvidia GPUs in Rust</a> <span class="domain">(<a href="https://www.phoronix.com">www.phoronix.com</a>)</span></div><div class="subtext"><span>dralley</span> | <span>64 comments</span></div><br/><div><div id="39774378" class="c"><input type="checkbox" id="c-39774378" checked=""/><div class="controls bullet"><span class="by">doix</span><span>|</span><a href="#39775060">next</a><span>|</span><label class="collapse" for="c-39774378">[-]</label><label class="expand" for="c-39774378">[34 more]</label></div><br/><div class="children"><div class="content">I am totally out of the loop here, but wasn&#x27;t the main problem with Nouveau the lack of documentation from Nvidia? They had to reverse engineer things to get it working.<p>I get that some of the architectural choices no longer make sense, and starting from scratch will address those. But is the goal to have performance that is somewhat comparable to the proprietary drivers? Or just good enough to run the desktop environment with hardware acceleration.</div><br/><div id="39775362" class="c"><input type="checkbox" id="c-39775362" checked=""/><div class="controls bullet"><span class="by">uluyol</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39774439">next</a><span>|</span><label class="collapse" for="c-39775362">[-]</label><label class="expand" for="c-39775362">[2 more]</label></div><br/><div class="children"><div class="content">The problem with Nouveau was that Nvidia hardware could not be reclocked (the cores were basically always in low power mode) without a signed firmware blob. That blob couldn&#x27;t be legally distributed except by Nvidia, so the open source folks more or less gave up on a high performance driver.<p>Now, for newer hardware, Nvidia has changed some aspects of the firmware and allows redistribution. So it&#x27;s feasible to make a good open source driver.<p>AMD and Intel also use different drivers for different hardware generations, since eventually things change so much that it&#x27;s better to start clean.<p>With regards to reverse engineering, Mesa has a number of reverse engineered drivers. That isn&#x27;t anything new.</div><br/><div id="39775569" class="c"><input type="checkbox" id="c-39775569" checked=""/><div class="controls bullet"><span class="by">wengo314</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775362">parent</a><span>|</span><a href="#39774439">next</a><span>|</span><label class="collapse" for="c-39775569">[-]</label><label class="expand" for="c-39775569">[1 more]</label></div><br/><div class="children"><div class="content">the problem was the nouveau would do this before when firmware was easy to intercept from the driver (and could be extracted easily). the newer driver uses different methods of firmware upload and it&#x27;s a real chore to do so now.<p>so nouveau gave up on it. they also expected nvidia to drop some firmware.<p>now that newer cards have GSP.bin firmware, which can be interfaced with easily - things are different. i would wager a guess that it&#x27;s similar to atombios from amd. you just call a function in GSP and it knows what registers to poke with the right values to achieve what you need.</div><br/></div></div></div></div><div id="39774439" class="c"><input type="checkbox" id="c-39774439" checked=""/><div class="controls bullet"><span class="by">porphyra</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39775362">prev</a><span>|</span><a href="#39774679">next</a><span>|</span><label class="collapse" for="c-39774439">[-]</label><label class="expand" for="c-39774439">[5 more]</label></div><br/><div class="children"><div class="content">My understanding is that nowadays most of the heavy lifting is done by magic going on in the firmware, so the actual driver is relatively simple and is open source: <a href="https:&#x2F;&#x2F;github.com&#x2F;NVIDIA&#x2F;open-gpu-kernel-modules">https:&#x2F;&#x2F;github.com&#x2F;NVIDIA&#x2F;open-gpu-kernel-modules</a></div><br/><div id="39774927" class="c"><input type="checkbox" id="c-39774927" checked=""/><div class="controls bullet"><span class="by">roenxi</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774439">parent</a><span>|</span><a href="#39775747">next</a><span>|</span><label class="collapse" for="c-39774927">[-]</label><label class="expand" for="c-39774927">[3 more]</label></div><br/><div class="children"><div class="content">Any efforts by Nvidia are welcome, but that raises the question of why Red Hat are writing a new driver. Presumably there is some aspect of the OSS component that is dissatisfying Red Hat.<p>It is weird for a 3rd party to be maintaining a 2nd driver when the first party has a reasonable OSS driver.</div><br/><div id="39776204" class="c"><input type="checkbox" id="c-39776204" checked=""/><div class="controls bullet"><span class="by">zekica</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774927">parent</a><span>|</span><a href="#39775029">next</a><span>|</span><label class="collapse" for="c-39776204">[-]</label><label class="expand" for="c-39776204">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but that raises the question of why Red Hat are writing a new driver<p>Nvidia&#x27;s driver cannot be included in the upstream linux as it doesn&#x27;t follow kernel coding style and code organization, but more importantly it is tightly coupled to a single version of their GSP firmware - they have to be updated at the same time.</div><br/></div></div><div id="39775029" class="c"><input type="checkbox" id="c-39775029" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774927">parent</a><span>|</span><a href="#39776204">prev</a><span>|</span><a href="#39775747">next</a><span>|</span><label class="collapse" for="c-39775029">[-]</label><label class="expand" for="c-39775029">[1 more]</label></div><br/><div class="children"><div class="content">There are a few things someone would pay Red Hat dearly to do. In my opinion the most likely are:<p>- No telemetry.<p>- Enabling software blocked features.<p>- Emulation.<p>There are few possibilities about making a performant OSS driver:<p>- This is impracticable, because the software you want to run on the GPU is so complex, and the hardware is so complex, that you will never get enough insights to make something that compares with the people who can see it all.<p>- This is eminently practicable because: (1) the software is much simpler, and the GPU hardware much simpler. Perhaps there is a lot of obfuscation of the simplicity. Or (2) the application that best utilizes the hardware only needs a limited feature set that is within scope.<p>I&#x27;m leaning on &quot;application limited scope&quot; and &quot;telemetry.&quot; It aligns best with what is actually happening, which is NVIDIA is scooping up a lot of valuable intelligence on LLM workloads; and that there isn&#x27;t enough competition for LLM &quot;ASICs&quot; to make them cheap enough to be worthwhile.</div><br/></div></div></div></div><div id="39775747" class="c"><input type="checkbox" id="c-39775747" checked=""/><div class="controls bullet"><span class="by">denzil</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774439">parent</a><span>|</span><a href="#39774927">prev</a><span>|</span><a href="#39774679">next</a><span>|</span><label class="collapse" for="c-39775747">[-]</label><label class="expand" for="c-39775747">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure if it&#x27;s different for Nvidia, but the Gamer Nexus video about Intel drivers suggest a lot of the work getting good performance is done on the driver side for all GPU vendors: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Qp3BGu3vixk" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Qp3BGu3vixk</a></div><br/></div></div></div></div><div id="39774679" class="c"><input type="checkbox" id="c-39774679" checked=""/><div class="controls bullet"><span class="by">weikju</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39774439">prev</a><span>|</span><a href="#39774471">next</a><span>|</span><label class="collapse" for="c-39774679">[-]</label><label class="expand" for="c-39774679">[20 more]</label></div><br/><div class="children"><div class="content">Cynically, I’m thinking the main “problem” being solve here is the current drivers are not written in Rust</div><br/><div id="39775229" class="c"><input type="checkbox" id="c-39775229" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774679">parent</a><span>|</span><a href="#39774844">next</a><span>|</span><label class="collapse" for="c-39775229">[-]</label><label class="expand" for="c-39775229">[1 more]</label></div><br/><div class="children"><div class="content">My first thought too.</div><br/></div></div><div id="39774844" class="c"><input type="checkbox" id="c-39774844" checked=""/><div class="controls bullet"><span class="by">throwaway48476</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774679">parent</a><span>|</span><a href="#39775229">prev</a><span>|</span><a href="#39775236">next</a><span>|</span><label class="collapse" for="c-39774844">[-]</label><label class="expand" for="c-39774844">[16 more]</label></div><br/><div class="children"><div class="content">Unless the problem is memory safety, probably not.</div><br/><div id="39775054" class="c"><input type="checkbox" id="c-39775054" checked=""/><div class="controls bullet"><span class="by">worthless-trash</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774844">parent</a><span>|</span><a href="#39775236">next</a><span>|</span><label class="collapse" for="c-39775054">[-]</label><label class="expand" for="c-39775054">[15 more]</label></div><br/><div class="children"><div class="content">There is another perspective you msy not be thinking of, developer availability<p>In 20 years when the current crop of greybeards are dead, how many experienced c programmers with kernel experience will exist.<p>Rust lowers the bar for contributing and also increases the pool of programmers who can.</div><br/><div id="39775101" class="c"><input type="checkbox" id="c-39775101" checked=""/><div class="controls bullet"><span class="by">sham1</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775054">parent</a><span>|</span><a href="#39775653">next</a><span>|</span><label class="collapse" for="c-39775101">[-]</label><label class="expand" for="c-39775101">[5 more]</label></div><br/><div class="children"><div class="content">I do somewhat doubt that. `no_std` Rust is still quite different from normal, userspace Rust. You don&#x27;t get all the fancy libraries or whatever (of course Linus would probably just veto them anyway) and the Linux kernel development model is probably quite different (IIRC no cargo and whatnot).<p>So… what should we reckon? Would there a difference in getting new developers into `no_std` Rust in the kernel, and how different would that be versus having people learn freestanding C, with all the kernel add-ons and nicknacks?</div><br/><div id="39775373" class="c"><input type="checkbox" id="c-39775373" checked=""/><div class="controls bullet"><span class="by">charlotte-fyi</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775101">parent</a><span>|</span><a href="#39775308">next</a><span>|</span><label class="collapse" for="c-39775373">[-]</label><label class="expand" for="c-39775373">[3 more]</label></div><br/><div class="children"><div class="content">`no_std` with `alloc` isn&#x27;t <i>that</i> different.</div><br/><div id="39775519" class="c"><input type="checkbox" id="c-39775519" checked=""/><div class="controls bullet"><span class="by">leoedin</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775373">parent</a><span>|</span><a href="#39775308">next</a><span>|</span><label class="collapse" for="c-39775519">[-]</label><label class="expand" for="c-39775519">[2 more]</label></div><br/><div class="children"><div class="content">Yeah it’s a weird take. The hard part about learning rust is borrow semantics and understanding the kinds of architectures the compiler will and won’t allow.</div><br/><div id="39775810" class="c"><input type="checkbox" id="c-39775810" checked=""/><div class="controls bullet"><span class="by">sham1</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775519">parent</a><span>|</span><a href="#39775308">next</a><span>|</span><label class="collapse" for="c-39775810">[-]</label><label class="expand" for="c-39775810">[1 more]</label></div><br/><div class="children"><div class="content">Well maybe it&#x27;s just me, but the borrow semantics were never all that bad. Of course there were things that needed to be relearnt, but it&#x27;s not all that bad all things considered.</div><br/></div></div></div></div></div></div><div id="39775308" class="c"><input type="checkbox" id="c-39775308" checked=""/><div class="controls bullet"><span class="by">worthless-trash</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775101">parent</a><span>|</span><a href="#39775373">prev</a><span>|</span><a href="#39775653">next</a><span>|</span><label class="collapse" for="c-39775308">[-]</label><label class="expand" for="c-39775308">[1 more]</label></div><br/><div class="children"><div class="content">Systems programming is always a full step sideways from traditional applications and I do see where you are coming from.<p>I would still reckon that having familiarity with the standard rust (even with std) will still have more programmers willing to make the leap than learn C for this one project.<p>I know of less than a handful of C projects starting in 2024,  I know there is a bunch in rust , even with no_std.</div><br/></div></div></div></div><div id="39775653" class="c"><input type="checkbox" id="c-39775653" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775054">parent</a><span>|</span><a href="#39775101">prev</a><span>|</span><a href="#39775880">next</a><span>|</span><label class="collapse" for="c-39775653">[-]</label><label class="expand" for="c-39775653">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Rust lowers the bar for contributing</i><p>Not sure I agree with that.  C is a <i>very</i> easy language to learn.  The problem with it is that you have to be careful with memory management.  That does take effort to learn, and I still make mistakes after writing C for over 20 years.<p>I love Rust, but it is a <i>very</i> complex language, with a complex, full-featured stdlib, and rich, sometimes-inscrutable type system.  It is more difficult to learn than C, but also more difficult (and sometimes impossible) to make many of the mistakes that you can make in C.</div><br/><div id="39775939" class="c"><input type="checkbox" id="c-39775939" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775653">parent</a><span>|</span><a href="#39775880">next</a><span>|</span><label class="collapse" for="c-39775939">[-]</label><label class="expand" for="c-39775939">[1 more]</label></div><br/><div class="children"><div class="content">Rust isn&#x27;t that hard to learn, and many of its user come from managed languages who never dared to learn C, because “it&#x27;s too hard”.<p>C <i>looks</i> easy on the surface, but the syntax is pretty dated and full of footguns (yes even just the syntax, not even talking about UBs), and learning the language is a pretty intimidating experience because every time you think you know something, you actually don&#x27;t and get bitten later.<p>Rust on the other hand is a good language for CS students: you have a lot of things to assimilate <i>upfront</i>, but when you&#x27;ve reached the level required to fulfill the class, you&#x27;re actually ready to use it in production, and the resulting code produced by a sophomore will be more stable than C code written by wizards.</div><br/></div></div></div></div><div id="39775880" class="c"><input type="checkbox" id="c-39775880" checked=""/><div class="controls bullet"><span class="by">flohofwoe</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775054">parent</a><span>|</span><a href="#39775653">prev</a><span>|</span><a href="#39775637">next</a><span>|</span><label class="collapse" for="c-39775880">[-]</label><label class="expand" for="c-39775880">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a very optimistic view on the future of Rust, and a very pessimistic view on the future of C. Chances are that C will be longer around than Rust just because of the Lindy Effect ;)</div><br/></div></div><div id="39775637" class="c"><input type="checkbox" id="c-39775637" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775054">parent</a><span>|</span><a href="#39775880">prev</a><span>|</span><a href="#39775777">next</a><span>|</span><label class="collapse" for="c-39775637">[-]</label><label class="expand" for="c-39775637">[4 more]</label></div><br/><div class="children"><div class="content">20 years is not a very long time and people are still learning c. My 17 year old intern learned c in college and prefers it over ‘modern crap’ (his words, but he wasn’t talking about rust; JavaScript). We do embedded (low powered mcu’s with a few kb of mem) and I too prefer c over rust for it; it’s a lot easier to attract c than rust people in my experience for this work. Most never touched rust and wouldn’t see a reason for it. Many of them are young.</div><br/><div id="39775932" class="c"><input type="checkbox" id="c-39775932" checked=""/><div class="controls bullet"><span class="by">papichulo2023</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775637">parent</a><span>|</span><a href="#39775676">next</a><span>|</span><label class="collapse" for="c-39775932">[-]</label><label class="expand" for="c-39775932">[1 more]</label></div><br/><div class="children"><div class="content">It is not unlikely that shared your bias though. Not like it is a bad thing, but not sure if I would generalize it.</div><br/></div></div><div id="39775676" class="c"><input type="checkbox" id="c-39775676" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775637">parent</a><span>|</span><a href="#39775932">prev</a><span>|</span><a href="#39775777">next</a><span>|</span><label class="collapse" for="c-39775676">[-]</label><label class="expand" for="c-39775676">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>My 17 year old intern learned c in college and prefers it over ‘modern crap’</i><p>I had a lot of opinions like this too when I was 17, but age and experience has disabused me of many of them.<p>The embedded story on Rust still has many rough edges, but it&#x27;s improving every day, and I could easily see it replace C in many places, given enough time (I wouldn&#x27;t be too surprised if we eventually see companies distributing a BSP that&#x27;s written in Rust).<p>Frankly, at this point in time, I think it&#x27;s foolish to start a new project in C unless you have a really good reason to do so.  Many embedded systems certainly qualify as a really good reason, but I very much hope that reason diminishes over time.</div><br/><div id="39775907" class="c"><input type="checkbox" id="c-39775907" checked=""/><div class="controls bullet"><span class="by">consp</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775676">parent</a><span>|</span><a href="#39775777">next</a><span>|</span><label class="collapse" for="c-39775907">[-]</label><label class="expand" for="c-39775907">[1 more]</label></div><br/><div class="children"><div class="content">&gt; wouldn&#x27;t be too surprised if we eventually see companies distributing a BSP that&#x27;s written in Rust<p>Some niches maybe but most packages are ancient and the cost of supporting rust Vs the gain is massive.<p>There are also way less people who can write rust. This forum with the &quot;c is bad rust is the new God&quot; attitude is not a representation of the world.</div><br/></div></div></div></div></div></div><div id="39775777" class="c"><input type="checkbox" id="c-39775777" checked=""/><div class="controls bullet"><span class="by">rjsw</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775054">parent</a><span>|</span><a href="#39775637">prev</a><span>|</span><a href="#39775913">next</a><span>|</span><label class="collapse" for="c-39775777">[-]</label><label class="expand" for="c-39775777">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Rust lowers the bar for contributing and also increases the pool of programmers who can.<p>It reduces the amount of help that current experienced kernel developers can give to  newer developers who want to write in rust.</div><br/></div></div><div id="39775913" class="c"><input type="checkbox" id="c-39775913" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775054">parent</a><span>|</span><a href="#39775777">prev</a><span>|</span><a href="#39775236">next</a><span>|</span><label class="collapse" for="c-39775913">[-]</label><label class="expand" for="c-39775913">[1 more]</label></div><br/><div class="children"><div class="content">Yup, and that&#x27;s exactly Linus&#x27; argument for Rust-in-Kernel.</div><br/></div></div></div></div></div></div><div id="39775236" class="c"><input type="checkbox" id="c-39775236" checked=""/><div class="controls bullet"><span class="by">AtlasBarfed</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39774679">parent</a><span>|</span><a href="#39774844">prev</a><span>|</span><a href="#39774471">next</a><span>|</span><label class="collapse" for="c-39775236">[-]</label><label class="expand" for="c-39775236">[2 more]</label></div><br/><div class="children"><div class="content">The cynicism if red hat is involved is that red hat wants more control of Linux.<p>Christ could they just make Wayland usable first?</div><br/><div id="39775397" class="c"><input type="checkbox" id="c-39775397" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775236">parent</a><span>|</span><a href="#39774471">next</a><span>|</span><label class="collapse" for="c-39775397">[-]</label><label class="expand" for="c-39775397">[1 more]</label></div><br/><div class="children"><div class="content">Please do not sidetrack this thread with Wayland flame bait.</div><br/></div></div></div></div></div></div><div id="39774471" class="c"><input type="checkbox" id="c-39774471" checked=""/><div class="controls bullet"><span class="by">wezm</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39774679">prev</a><span>|</span><a href="#39775396">next</a><span>|</span><label class="collapse" for="c-39774471">[-]</label><label class="expand" for="c-39774471">[1 more]</label></div><br/><div class="children"><div class="content">NVIDIA started publishing more of their driver as open-source in 2022, which while not hardware documentation probably helps a lot.<p>You may be wondering why Red Hat is bothering with this effort then? I assume it’s so that the code can be added to Linux directly as opposed to being out of tree.<p><a href="https:&#x2F;&#x2F;developer.nvidia.com&#x2F;blog&#x2F;nvidia-releases-open-source-gpu-kernel-modules&#x2F;" rel="nofollow">https:&#x2F;&#x2F;developer.nvidia.com&#x2F;blog&#x2F;nvidia-releases-open-sourc...</a></div><br/></div></div><div id="39775396" class="c"><input type="checkbox" id="c-39775396" checked=""/><div class="controls bullet"><span class="by">inamberclad</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39774471">prev</a><span>|</span><a href="#39774600">next</a><span>|</span><label class="collapse" for="c-39775396">[-]</label><label class="expand" for="c-39775396">[3 more]</label></div><br/><div class="children"><div class="content">A coworker of mine formerly worked on Nvidia&#x27;s proprietary drivers. They remarked at just how wrong the Nouveau driver was about certain things, including the functionality and reasons for certain registers.</div><br/><div id="39775705" class="c"><input type="checkbox" id="c-39775705" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775396">parent</a><span>|</span><a href="#39775717">next</a><span>|</span><label class="collapse" for="c-39775705">[-]</label><label class="expand" for="c-39775705">[1 more]</label></div><br/><div class="children"><div class="content">Around a decade ago, I was introduced to a couple people who it turned out worked at nvidia.  After a bunch of conversation, nouveau came up; they were intensely negative about it, mocking it and its developers, criticizing its existence, even, and declaring it would never amount to anything.  (Meanwhile, I was running it on a computer at home and it was significantly more stable than the nvidia proprietary driver at the time, and performed well enough for my use.)<p>I wish I&#x27;d had more conversational courage at the time to &quot;stand up&quot; for nouveau with them; it was super rude to shit on someone else&#x27;s hard work, especially when the reason why they had to do that hard work was because nvidia was a bunch of jerks with a shitty FOSS policy.</div><br/></div></div><div id="39775717" class="c"><input type="checkbox" id="c-39775717" checked=""/><div class="controls bullet"><span class="by">bogantech</span><span>|</span><a href="#39774378">root</a><span>|</span><a href="#39775396">parent</a><span>|</span><a href="#39775705">prev</a><span>|</span><a href="#39774600">next</a><span>|</span><label class="collapse" for="c-39775717">[-]</label><label class="expand" for="c-39775717">[1 more]</label></div><br/><div class="children"><div class="content">Given that there&#x27;s no official documentation and they can only learn through reverse engineering this is not at all surprising.<p>Presumably RedHat are in the same boat.</div><br/></div></div></div></div><div id="39774600" class="c"><input type="checkbox" id="c-39774600" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39775396">prev</a><span>|</span><a href="#39775094">next</a><span>|</span><label class="collapse" for="c-39774600">[-]</label><label class="expand" for="c-39774600">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;re still reverse engineering. The hardware is so good that people would rather use an Nvidia GPU with reverse engineered drivers than AMD with open documentation and official open source drivers. Same with Apple and Asahi.</div><br/></div></div><div id="39775094" class="c"><input type="checkbox" id="c-39775094" checked=""/><div class="controls bullet"><span class="by">lyu07282</span><span>|</span><a href="#39774378">parent</a><span>|</span><a href="#39774600">prev</a><span>|</span><a href="#39775060">next</a><span>|</span><label class="collapse" for="c-39775094">[-]</label><label class="expand" for="c-39775094">[1 more]</label></div><br/><div class="children"><div class="content">I was hoping they officially partnered with NVIDIA in that effort, perhaps eventually even replacing the proprietary one on Linux. But then I awoke from that dream, it&#x27;s less exciting. Still cool though.<p>Unfortunately Linux Desktop still seems to be too irrelevant for NVIDIA. All current drivers have issues with suspend, multiple displays and Wayland among other things.</div><br/></div></div></div></div><div id="39775060" class="c"><input type="checkbox" id="c-39775060" checked=""/><div class="controls bullet"><span class="by">saidinesh5</span><span>|</span><a href="#39774378">prev</a><span>|</span><a href="#39774532">next</a><span>|</span><label class="collapse" for="c-39775060">[-]</label><label class="expand" for="c-39775060">[3 more]</label></div><br/><div class="children"><div class="content">Does anyone know How or where would this fits alongside the recent NVK driver by collabora?<p>www.collabora.com&#x2F;news-and-blog&#x2F;news-and-events&#x2F;introducing-nvk.html</div><br/><div id="39775375" class="c"><input type="checkbox" id="c-39775375" checked=""/><div class="controls bullet"><span class="by">nan60</span><span>|</span><a href="#39775060">parent</a><span>|</span><a href="#39775376">next</a><span>|</span><label class="collapse" for="c-39775375">[-]</label><label class="expand" for="c-39775375">[1 more]</label></div><br/><div class="children"><div class="content">This new driver (along with the modules Nvidia have released as OSS [1]) are kernel drivers and do not break userspace. NVK is a Vulkan implementation for Nvidia GPUs as part of the Mesa project (the same project that AMD&#x27;s userspace drivers are a part of, even though AMDs kernel drivers are in tree). They are both needed to make a cohesive driver.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;NVIDIA&#x2F;open-gpu-kernel-modules">https:&#x2F;&#x2F;github.com&#x2F;NVIDIA&#x2F;open-gpu-kernel-modules</a></div><br/></div></div><div id="39775376" class="c"><input type="checkbox" id="c-39775376" checked=""/><div class="controls bullet"><span class="by">uluyol</span><span>|</span><a href="#39775060">parent</a><span>|</span><a href="#39775375">prev</a><span>|</span><a href="#39774532">next</a><span>|</span><label class="collapse" for="c-39775376">[-]</label><label class="expand" for="c-39775376">[1 more]</label></div><br/><div class="children"><div class="content">The kernel driver manages things like display setup, memory management (isolation between processes), and funneling of commands from user space to the hardware. This is more a replacement for Nouveau than NVK.<p>NVK generates the commands to send to the hardware, by converting vulkan APIs to Nvidia-specific instructions, and feeds them to the kernel driver.</div><br/></div></div></div></div><div id="39774532" class="c"><input type="checkbox" id="c-39774532" checked=""/><div class="controls bullet"><span class="by">aumerle</span><span>|</span><a href="#39775060">prev</a><span>|</span><a href="#39775103">next</a><span>|</span><label class="collapse" for="c-39774532">[-]</label><label class="expand" for="c-39774532">[8 more]</label></div><br/><div class="children"><div class="content">Sigh. So yet another rewrite, which will result in yet another round of regressions. Hopefully, at the end of it we will have something better than yet another unofficial driver with partial functionality that lags behind in support for newer hardware.<p>It&#x27;s a real shame that many things in Linux land are so badly designed&#x2F;maintained that they have to be re-written from scratch every few years. The major exception being the base kernel itself I suppose.</div><br/><div id="39775388" class="c"><input type="checkbox" id="c-39775388" checked=""/><div class="controls bullet"><span class="by">uluyol</span><span>|</span><a href="#39774532">parent</a><span>|</span><a href="#39774928">next</a><span>|</span><label class="collapse" for="c-39775388">[-]</label><label class="expand" for="c-39775388">[1 more]</label></div><br/><div class="children"><div class="content">Which regressions for Nvidia hardware are you talking about?<p>Nouveau supports seriously ancient Nvidia hardware. It&#x27;s perfectly reasonable to make a clean break once in a while (both AMD and Intel have done it in their open source drivers).</div><br/></div></div><div id="39774928" class="c"><input type="checkbox" id="c-39774928" checked=""/><div class="controls bullet"><span class="by">tristan957</span><span>|</span><a href="#39774532">parent</a><span>|</span><a href="#39775388">prev</a><span>|</span><a href="#39775608">next</a><span>|</span><label class="collapse" for="c-39774928">[-]</label><label class="expand" for="c-39774928">[5 more]</label></div><br/><div class="children"><div class="content">This is completely on Nvidia. Don&#x27;t buy a GPU from them if you care about Linux support.</div><br/><div id="39775317" class="c"><input type="checkbox" id="c-39775317" checked=""/><div class="controls bullet"><span class="by">Mathnerd314</span><span>|</span><a href="#39774532">root</a><span>|</span><a href="#39774928">parent</a><span>|</span><a href="#39775608">next</a><span>|</span><label class="collapse" for="c-39775317">[-]</label><label class="expand" for="c-39775317">[4 more]</label></div><br/><div class="children"><div class="content">My understanding was that the proprietary drivers work fine.</div><br/><div id="39775446" class="c"><input type="checkbox" id="c-39775446" checked=""/><div class="controls bullet"><span class="by">fayalalebrun</span><span>|</span><a href="#39774532">root</a><span>|</span><a href="#39775317">parent</a><span>|</span><a href="#39775608">next</a><span>|</span><label class="collapse" for="c-39775446">[-]</label><label class="expand" for="c-39775446">[3 more]</label></div><br/><div class="children"><div class="content">Even though the newest nvidia drivers have started to support GBM, the Wayland compatibility story is still not great. In my experience on Wayland, several OpenGL programs refuse to work, and Vulkan does not work at all. This is with driver 545.</div><br/><div id="39776163" class="c"><input type="checkbox" id="c-39776163" checked=""/><div class="controls bullet"><span class="by">mrmlz</span><span>|</span><a href="#39774532">root</a><span>|</span><a href="#39775446">parent</a><span>|</span><a href="#39775608">next</a><span>|</span><label class="collapse" for="c-39776163">[-]</label><label class="expand" for="c-39776163">[2 more]</label></div><br/><div class="children"><div class="content">Perhaps Wayland is to blame?</div><br/><div id="39776221" class="c"><input type="checkbox" id="c-39776221" checked=""/><div class="controls bullet"><span class="by">la_oveja</span><span>|</span><a href="#39774532">root</a><span>|</span><a href="#39776163">parent</a><span>|</span><a href="#39775608">next</a><span>|</span><label class="collapse" for="c-39776221">[-]</label><label class="expand" for="c-39776221">[1 more]</label></div><br/><div class="children"><div class="content">no its not. wayland strangely works flawlessly on amd, such a big mystery.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39775608" class="c"><input type="checkbox" id="c-39775608" checked=""/><div class="controls bullet"><span class="by">bdjsiqoocwk</span><span>|</span><a href="#39774532">parent</a><span>|</span><a href="#39774928">prev</a><span>|</span><a href="#39775103">next</a><span>|</span><label class="collapse" for="c-39775608">[-]</label><label class="expand" for="c-39775608">[1 more]</label></div><br/><div class="children"><div class="content">And the church of rust is contributing to the problem.</div><br/></div></div></div></div><div id="39775103" class="c"><input type="checkbox" id="c-39775103" checked=""/><div class="controls bullet"><span class="by">toughruck</span><span>|</span><a href="#39774532">prev</a><span>|</span><a href="#39775780">next</a><span>|</span><label class="collapse" for="c-39775103">[-]</label><label class="expand" for="c-39775103">[4 more]</label></div><br/><div class="children"><div class="content">Does the compilation time bother anyone?</div><br/><div id="39775407" class="c"><input type="checkbox" id="c-39775407" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#39775103">parent</a><span>|</span><a href="#39775780">next</a><span>|</span><label class="collapse" for="c-39775407">[-]</label><label class="expand" for="c-39775407">[3 more]</label></div><br/><div class="children"><div class="content">When&#x27;s the last time you have compiled the kernel? I bet waiting for Rust drivers to compile on a modern CPU should not take much longer than the last time I compiled the kernel by hand on a Core 2 Duo, circa 2013</div><br/><div id="39775634" class="c"><input type="checkbox" id="c-39775634" checked=""/><div class="controls bullet"><span class="by">atlasduo</span><span>|</span><a href="#39775103">root</a><span>|</span><a href="#39775407">parent</a><span>|</span><a href="#39775780">next</a><span>|</span><label class="collapse" for="c-39775634">[-]</label><label class="expand" for="c-39775634">[2 more]</label></div><br/><div class="children"><div class="content">You make two short-sighted assumptions:<p>1. &quot;Nobody compiles a kernel these days&quot;. Sure, maybe not for daily use for most, but lots of people do for work and experimentation. Also, Gentoo.<p>2. &quot;Everybody runs a modern CPU&quot;. Plenty of people still run decade-old hardware, and even older, because it works and in that decade objectives of PC have not significantly changed, so why would hardware?</div><br/></div></div></div></div></div></div><div id="39775780" class="c"><input type="checkbox" id="c-39775780" checked=""/><div class="controls bullet"><span class="by">ListeningPie</span><span>|</span><a href="#39775103">prev</a><span>|</span><a href="#39773120">next</a><span>|</span><label class="collapse" for="c-39775780">[-]</label><label class="expand" for="c-39775780">[2 more]</label></div><br/><div class="children"><div class="content">Now that Nvidia is the leader in AI, there is more of a business case for them to work properly in Linux.</div><br/><div id="39776030" class="c"><input type="checkbox" id="c-39776030" checked=""/><div class="controls bullet"><span class="by">ZiiS</span><span>|</span><a href="#39775780">parent</a><span>|</span><a href="#39773120">next</a><span>|</span><label class="collapse" for="c-39776030">[-]</label><label class="expand" for="c-39776030">[1 more]</label></div><br/><div class="children"><div class="content">Their AI stuff has always been Linux first, they have just not cared about Wayland at all or X11 very much.</div><br/></div></div></div></div><div id="39773120" class="c"><input type="checkbox" id="c-39773120" checked=""/><div class="controls bullet"><span class="by">bionhoward</span><span>|</span><a href="#39775780">prev</a><span>|</span><a href="#39774371">next</a><span>|</span><label class="collapse" for="c-39773120">[-]</label><label class="expand" for="c-39773120">[1 more]</label></div><br/><div class="children"><div class="content">This is great news. Likely to make it easier to use these GPUs in Linux.</div><br/></div></div><div id="39774371" class="c"><input type="checkbox" id="c-39774371" checked=""/><div class="controls bullet"><span class="by">superkuh</span><span>|</span><a href="#39773120">prev</a><span>|</span><a href="#39773838">next</a><span>|</span><label class="collapse" for="c-39774371">[-]</label><label class="expand" for="c-39774371">[10 more]</label></div><br/><div class="children"><div class="content">&gt;and without the Nouveau baggage that&#x27;s built up over the years in supporting NVIDIA GPUs going back to its early days.<p>Not supporting most nvidia hardware is not a good thing. I hope it&#x27;s adoption by commercial users (home users don&#x27;t have the latest nvidia gpu generally) doesn&#x27;t mean Nouveau bitrots from lack of companies with deep pockets paying for dev work. As for the inherent memory safety, well, remember how safe memory safe java was?</div><br/><div id="39775406" class="c"><input type="checkbox" id="c-39775406" checked=""/><div class="controls bullet"><span class="by">uluyol</span><span>|</span><a href="#39774371">parent</a><span>|</span><a href="#39775012">next</a><span>|</span><label class="collapse" for="c-39775406">[-]</label><label class="expand" for="c-39775406">[2 more]</label></div><br/><div class="children"><div class="content">The chances of getting Nouveau working well on older Nvidia hardware are essentially zero. There are legal issues with firmware redistribution.<p>&gt; Little hope of reclocking becoming available for GM20x, GP10x and GV100 as firmware now needs to be signed by NVIDIA to have the necessary access<p>From <a href="https:&#x2F;&#x2F;nouveau.freedesktop.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;nouveau.freedesktop.org&#x2F;</a></div><br/><div id="39775756" class="c"><input type="checkbox" id="c-39775756" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39774371">root</a><span>|</span><a href="#39775406">parent</a><span>|</span><a href="#39775012">next</a><span>|</span><label class="collapse" for="c-39775756">[-]</label><label class="expand" for="c-39775756">[1 more]</label></div><br/><div class="children"><div class="content">When they say &quot;early&quot; days, I think they mean <i>really</i> old GPUs, like before the reclocking locks started becoming a thing.</div><br/></div></div></div></div><div id="39775012" class="c"><input type="checkbox" id="c-39775012" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#39774371">parent</a><span>|</span><a href="#39775406">prev</a><span>|</span><a href="#39774446">next</a><span>|</span><label class="collapse" for="c-39775012">[-]</label><label class="expand" for="c-39775012">[1 more]</label></div><br/><div class="children"><div class="content">indeed, already new official nvidia drivers don&#x27;t support the aging Nvidia card I have in my desktop at home (the desktop is newer than the video card, I moved it from an older computer).</div><br/></div></div><div id="39774446" class="c"><input type="checkbox" id="c-39774446" checked=""/><div class="controls bullet"><span class="by">nickpsecurity</span><span>|</span><a href="#39774371">parent</a><span>|</span><a href="#39775012">prev</a><span>|</span><a href="#39773838">next</a><span>|</span><label class="collapse" for="c-39774446">[-]</label><label class="expand" for="c-39774446">[6 more]</label></div><br/><div class="children"><div class="content">Java the language was memory safe. The runtime and libraries weren’t all memory safe. The JIT’s can break memory safety. Applets had integration issues. So, what hurt Java were opportunities to go around memory safety instead of attacking that memory-safe code.<p>Memory-safe, system languages (eg Ada, Rust) address this by having as much as possible in memory safety with either little or zero runtime. Rust makes things safe that weren’t before. It has unsafe which is less used than some other languages. The type checker can also catch many logic-level errors. The safety situation is better with Rust than Java code.<p>That doesn’t mean it will solve NVIDIA users’ problems, though. They are usually worried about compatibility, performance, and reliability. Rust mostly helps in one area. We’ll see about the rest, especially compatibility, as you said.</div><br/><div id="39775803" class="c"><input type="checkbox" id="c-39775803" checked=""/><div class="controls bullet"><span class="by">mlindner</span><span>|</span><a href="#39774371">root</a><span>|</span><a href="#39774446">parent</a><span>|</span><a href="#39774948">next</a><span>|</span><label class="collapse" for="c-39775803">[-]</label><label class="expand" for="c-39775803">[1 more]</label></div><br/><div class="children"><div class="content">Java is forever stuck in my head as a bad language because it&#x27;s UI library performance were so bad. I grew up being annoyed with anything written in Java because of its poor performance on Mac OS X. Notable was the persistent UI lag with anything written in Java.</div><br/></div></div><div id="39774948" class="c"><input type="checkbox" id="c-39774948" checked=""/><div class="controls bullet"><span class="by">KerrAvon</span><span>|</span><a href="#39774371">root</a><span>|</span><a href="#39774446">parent</a><span>|</span><a href="#39775803">prev</a><span>|</span><a href="#39773838">next</a><span>|</span><label class="collapse" for="c-39774948">[-]</label><label class="expand" for="c-39774948">[4 more]</label></div><br/><div class="children"><div class="content">Java was crippled by a terrible standard UI library and a failure to recognize the opportunity for a natively-compiled systems language other than C++.</div><br/><div id="39775715" class="c"><input type="checkbox" id="c-39775715" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39774371">root</a><span>|</span><a href="#39774948">parent</a><span>|</span><a href="#39773838">next</a><span>|</span><label class="collapse" for="c-39775715">[-]</label><label class="expand" for="c-39775715">[3 more]</label></div><br/><div class="children"><div class="content">JetBrains is doing quite well with such terrible UI library, with I would take any day over Electron crap, and AOT compilers have been available since 2000, even if only on commercial JDKs, which naturally did not did well on communities that won&#x27;t pay for their work tools.</div><br/><div id="39775779" class="c"><input type="checkbox" id="c-39775779" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39774371">root</a><span>|</span><a href="#39775715">parent</a><span>|</span><a href="#39773838">next</a><span>|</span><label class="collapse" for="c-39775779">[-]</label><label class="expand" for="c-39775779">[2 more]</label></div><br/><div class="children"><div class="content">I think the GP is talking about AWT, which is indeed terrible.  JetBrains uses Swing, which is... still not really the best, but IIRC they&#x27;ve done a lot of work to write their own abstractions and helpers and whatnot on top of it to make it more bearable.</div><br/><div id="39776073" class="c"><input type="checkbox" id="c-39776073" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39774371">root</a><span>|</span><a href="#39775779">parent</a><span>|</span><a href="#39773838">next</a><span>|</span><label class="collapse" for="c-39776073">[-]</label><label class="expand" for="c-39776073">[1 more]</label></div><br/><div class="children"><div class="content">Swing is quite powerful, the only downside is that it requires reading books like &quot;Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications&quot; to actually understand how to take advantage of its features, and the bad decision to not use by default the platform&#x27;s L&amp;F.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39773838" class="c"><input type="checkbox" id="c-39773838" checked=""/><div class="controls bullet"><span class="by">adamnemecek</span><span>|</span><a href="#39774371">prev</a><span>|</span><label class="collapse" for="c-39773838">[-]</label><label class="expand" for="c-39773838">[1 more]</label></div><br/><div class="children"><div class="content">The tide is turning.</div><br/></div></div></div></div></div></div></div></body></html>