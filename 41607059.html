<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726909253206" as="style"/><link rel="stylesheet" href="styles.css?v=1726909253206"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://switowski.com/blog/i-like-makefiles/">I Like Makefiles</a> <span class="domain">(<a href="https://switowski.com">switowski.com</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>150 comments</span></div><br/><div><div id="41607792" class="c"><input type="checkbox" id="c-41607792" checked=""/><div class="controls bullet"><span class="by">jart</span><span>|</span><a href="#41607539">next</a><span>|</span><label class="collapse" for="c-41607792">[-]</label><label class="expand" for="c-41607792">[7 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t be discouraged by all the people in this thread saying you&#x27;re using make wrong. One of the things that makes make a great tool is how deceptively simple it is. Yes not using .PHONY can potentially get you in trouble. But for a small project that&#x27;s the sort of trap you&#x27;ll fall into a year later, if at all, and even then you&#x27;ll only be scratching your head for an hour. 99% of the time you don&#x27;t have to care about doing things the proper way. Make lets you just hit the ground running and only imposes as much complexity as you need to keep the thing from falling apart.</div><br/><div id="41608429" class="c"><input type="checkbox" id="c-41608429" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607792">parent</a><span>|</span><a href="#41607539">next</a><span>|</span><label class="collapse" for="c-41608429">[-]</label><label class="expand" for="c-41608429">[6 more]</label></div><br/><div class="children"><div class="content">&gt; One of the things that makes make a great tool is how deceptively simple it is.<p>One of the worst things of Make is how deceptively simple it looks.<p>Make does exactly one thing: it takes input files, some dependencies and generates _exactly_one_ output file.
To have rules which don&#x27;t generate output (like `install` or `all` or `clean` or all targets in the article) we need to resort to a hack, a special magic target like `.PHONY` (which hasn&#x27;t been part of POSIX up to the 2017 version - IEEE Std 1003.1-2017 - <a href="https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9699919799&#x2F;utilities&#x2F;make.html" rel="nofollow">https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9699919799&#x2F;utilities&#x2F;m...</a>, only the current one - IEEE Std 1003.1-2024 -  <a href="https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9799919799&#x2F;utilities&#x2F;make.html" rel="nofollow">https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9799919799&#x2F;utilities&#x2F;m...</a> includes `.PHONY`). If you want to generate more than one file (like an object file and a module or a precompiled header or ...) you are on your own to build some brittle hack to get that working. Don&#x27;t forget that not every Make is GNU Make, <i>BSD and other </i>nix like Solaris&#x2F;Illumos still exist.<p>Don&#x27;t get me wrong: Make has it&#x27;s uses for sufficiently complex projects which aren&#x27;t too complex yet to need some &quot;better&quot; build system. Problem is that such projects may get too complex when more code is added and they inevitably gain some sort of scripts&#x2F;programs to generate Makefiles or parts of Makefiles (so, an ad hoc meta build system is created).<p>And the problem isn&#x27;t that they use it, but that they are proposing it as a solution to &quot;everybody&quot;. And that their Makefile stops working as soon as there is a directory (or file) `build` (or `dev` or ...) in the project root.</div><br/><div id="41608470" class="c"><input type="checkbox" id="c-41608470" checked=""/><div class="controls bullet"><span class="by">jart</span><span>|</span><a href="#41607792">root</a><span>|</span><a href="#41608429">parent</a><span>|</span><a href="#41608499">next</a><span>|</span><label class="collapse" for="c-41608470">[-]</label><label class="expand" for="c-41608470">[3 more]</label></div><br/><div class="children"><div class="content">I work on a project with 4.4 million lines of code and using a single Makefile with no generated code works fine. It&#x27;s really not all that difficult.</div><br/><div id="41608563" class="c"><input type="checkbox" id="c-41608563" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#41607792">root</a><span>|</span><a href="#41608470">parent</a><span>|</span><a href="#41608573">next</a><span>|</span><label class="collapse" for="c-41608563">[-]</label><label class="expand" for="c-41608563">[1 more]</label></div><br/><div class="children"><div class="content">Projects of much smaller sizes often have recursive convoluted makefiles.</div><br/></div></div><div id="41608573" class="c"><input type="checkbox" id="c-41608573" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607792">root</a><span>|</span><a href="#41608470">parent</a><span>|</span><a href="#41608563">prev</a><span>|</span><a href="#41608499">next</a><span>|</span><label class="collapse" for="c-41608573">[-]</label><label class="expand" for="c-41608573">[1 more]</label></div><br/><div class="children"><div class="content">And I can show you thousands of &quot;Hello World&quot;s that use GNU Autotools or CMake ;)<p>But seriously: can I take a look at it (Soource + Makefile)?</div><br/></div></div></div></div><div id="41608499" class="c"><input type="checkbox" id="c-41608499" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#41607792">root</a><span>|</span><a href="#41608429">parent</a><span>|</span><a href="#41608470">prev</a><span>|</span><a href="#41607539">next</a><span>|</span><label class="collapse" for="c-41608499">[-]</label><label class="expand" for="c-41608499">[2 more]</label></div><br/><div class="children"><div class="content">&gt; If you want to generate more than one file (like an object file and a module or a precompiled header or ...)<p>He&#x27;s not using C, though :-)<p>&gt; And the problem isn&#x27;t that they use it, but that they are proposing it as a solution to &quot;everybody&quot;.<p>He&#x27;s proposing it for the same reason I&#x27;m starting to like it, after many years in the industry: as a simple build wrapper.<p>&gt; And that their Makefile stops working as soon as there is a directory (or file) `build` (or `dev` or ...) in the project root.<p>And they can fix that problem in 5 minutes, big deal :-)<p>&gt; Don&#x27;t forget that not every Make is GNU Make, BSD and other nix like Solaris&#x2F;Illumos still exist.<p>This is a very bad reason in this day and age. 99.999999% of *NIX usage these days, probably 99.9999999999999999% for the average person, since most people won&#x27;t ever get to those environments where BSD and Solaris are still used, is Linux.<p>And even for BSD and Solaris, guess what... you add an extra step in the build instructions asking them to... install GNU Make.<p>Heck, even back in 2005 (I think?) for Solaris one of the first things you&#x27;d do was to install the GNU userland wherever allowed because the Solaris one was so forlorn I swear I heard wooden planks creak and dust pouring down every time I had to use their version of ps.<p>And regarding POSIX, meh. If you&#x27;re a C developer (C++, Rust, I guess), knock yourself out. Most of the stuff devs use are so far removed from POSIX... Actually, not removed, but has so many non-POSIX layers on top (I mean not standardized). Ruby bundler is not standardized like awk. Python pip is not standardized like make. Etc, etc. That&#x27;s the reality we&#x27;re in. POSIX is very useful but only as a very low level base most people don&#x27;t need to chain themselves directly to. I&#x27;d definitely not avoid a tool because it&#x27;s not in the latest POSIX standard (or only in the latest POSIX standard).</div><br/><div id="41608547" class="c"><input type="checkbox" id="c-41608547" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607792">root</a><span>|</span><a href="#41608499">parent</a><span>|</span><a href="#41607539">next</a><span>|</span><label class="collapse" for="c-41608547">[-]</label><label class="expand" for="c-41608547">[1 more]</label></div><br/><div class="children"><div class="content">&gt; He&#x27;s not using C, though :-)<p>As said elsewhere, the use-case in the article is too simple to warrant a Makefile. So: if you aren&#x27;t compiling some static language, you do not need - and certainly don&#x27;t want to use - Make.<p>&gt; you add an extra step in the build instructions asking them to... install GNU Make.<p>The main reason to use Make is that it is installed everywhere, as stated multiple times in other posts. If you must install something, you can also install a better alternative for your specific use-case to Make.<p>&gt; one of the first things you&#x27;d do was to install the GNU userland<p>Yes, and the Unix vendors even shipped them on companion CDs or similar.<p>&gt; is not standardized like awk<p>Same problem with awk (and sed and ...): some weeks ago I had problem with the SDK for some real-time Linux that works with mawk only, and not with GNU awk (most of the time it&#x27;s the other way round, only working for some GNU program).</div><br/></div></div></div></div></div></div></div></div><div id="41607539" class="c"><input type="checkbox" id="c-41607539" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#41607792">prev</a><span>|</span><a href="#41607469">next</a><span>|</span><label class="collapse" for="c-41607539">[-]</label><label class="expand" for="c-41607539">[54 more]</label></div><br/><div class="children"><div class="content">The author is not even using the mtime-based dependency tracking. Also the targets are supposed to be PHONY but not marked as such. The author could have replaced it with a shell script that read $1 and matched on it to determine what to do.</div><br/><div id="41607683" class="c"><input type="checkbox" id="c-41607683" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41607660">next</a><span>|</span><label class="collapse" for="c-41607683">[-]</label><label class="expand" for="c-41607683">[28 more]</label></div><br/><div class="children"><div class="content"><i>&quot;The author could have replaced it with a shell script that read $1 and matched on it to determine what to do.&quot;</i><p>Or just with a simple command runner like <i>just</i>.<p><a href="https:&#x2F;&#x2F;just.systems&#x2F;" rel="nofollow">https:&#x2F;&#x2F;just.systems&#x2F;</a></div><br/><div id="41608609" class="c"><input type="checkbox" id="c-41608609" checked=""/><div class="controls bullet"><span class="by">flooow</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607683">parent</a><span>|</span><a href="#41608200">next</a><span>|</span><label class="collapse" for="c-41608609">[-]</label><label class="expand" for="c-41608609">[1 more]</label></div><br/><div class="children"><div class="content">`just` is great and I use it all the time.<p>* All commands in one place, view them all with `just --list`
* Stupid-simple format
* Small standalone binary
* Configurable (with arguments, environment variables etc) but not _too_ configurable<p>When I see a git repo with a Makefile, I&#x27;m filled with dread. When I see a repo with a Justfile, I get warm fuzzies.<p>Some people say it just doesn&#x27;t do enough to justify existing. These people are just wrong.</div><br/></div></div><div id="41608200" class="c"><input type="checkbox" id="c-41608200" checked=""/><div class="controls bullet"><span class="by">safety1st</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607683">parent</a><span>|</span><a href="#41608609">prev</a><span>|</span><a href="#41607750">next</a><span>|</span><label class="collapse" for="c-41608200">[-]</label><label class="expand" for="c-41608200">[4 more]</label></div><br/><div class="children"><div class="content">The strengths of make, in this context where it&#x27;s been coaxed into serving as a task runner for small projects, are:<p>1) It&#x27;s already installed practically everywhere<p>2) It reduces your cognitive load for all sorts of tasks down to just remembering one verb which you can reuse across multiple projects, even if the implementation ends up differing a bit<p>3) In conjunction with the similarly ubiquitous SSH and git, you have everything you need to apply the basic principles of DevOps automation and IaC<p>There&#x27;s something special about waking up one day with an idea, and being able to create a fresh git repository where the first commit is the Makefile you&#x27;ve had in your back pocket for years that scripts everything from environment setup to deployment to test automation to code reviews.<p>There&#x27;s zero effort beyond just copying your single file &quot;cookbook&quot; into that new repo.</div><br/><div id="41608502" class="c"><input type="checkbox" id="c-41608502" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608200">parent</a><span>|</span><a href="#41608442">next</a><span>|</span><label class="collapse" for="c-41608502">[-]</label><label class="expand" for="c-41608502">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s already installed practically everywhere<p>Well, except Windows. But nobody uses that right?</div><br/><div id="41608578" class="c"><input type="checkbox" id="c-41608578" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608502">parent</a><span>|</span><a href="#41608442">next</a><span>|</span><label class="collapse" for="c-41608578">[-]</label><label class="expand" for="c-41608578">[1 more]</label></div><br/><div class="children"><div class="content">nmake comes with msvc</div><br/></div></div></div></div><div id="41608442" class="c"><input type="checkbox" id="c-41608442" checked=""/><div class="controls bullet"><span class="by">yunohn</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608200">parent</a><span>|</span><a href="#41608502">prev</a><span>|</span><a href="#41607750">next</a><span>|</span><label class="collapse" for="c-41608442">[-]</label><label class="expand" for="c-41608442">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s already installed practically everywhere<p>This always comes up, and is a sad chicken&#x2F;egg problem.<p>We can all somehow agree that Make mostly sucks, but OS maintainers aren’t interested in providing a default alternative, due to choice overload or something.</div><br/></div></div></div></div><div id="41607750" class="c"><input type="checkbox" id="c-41607750" checked=""/><div class="controls bullet"><span class="by">a5c11</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607683">parent</a><span>|</span><a href="#41608200">prev</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41607750">[-]</label><label class="expand" for="c-41607750">[18 more]</label></div><br/><div class="children"><div class="content">Or just with a simple command which is guaranteed to be on most Linux systems already - make.<p>Maybe his Makefiles aren&#x27;t complex, nor they seem to follow all the best practices invented by code gurus in sandals, but it works and, what&#x27;s important, it works
for him.</div><br/><div id="41607831" class="c"><input type="checkbox" id="c-41607831" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607750">parent</a><span>|</span><a href="#41607822">next</a><span>|</span><label class="collapse" for="c-41607831">[-]</label><label class="expand" for="c-41607831">[10 more]</label></div><br/><div class="children"><div class="content">There was a time when people would have said the same about <i>make</i>. 
The shell is the simple command that is guaranteed to be on all Unix systems from the get go. Make is the new kid on the block.<p>If you just want to run commands in the order written down, don&#x27;t need the topological sorting feature of make and value ubiquity then a shell script is the answer.<p>If you are not stuck in the past and you truly live by the UNIX philosophy of doing one thing and doing it well, a command runner is the answer.<p>The command runner avoids the ton of foot guns both shell scripts (no matter which flavor) and make files have. <i>just</i> also brings a couple of features out of the box that would be very tedious and error prone that replicate in make and shell scripts.</div><br/><div id="41608555" class="c"><input type="checkbox" id="c-41608555" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607831">parent</a><span>|</span><a href="#41607870">next</a><span>|</span><label class="collapse" for="c-41608555">[-]</label><label class="expand" for="c-41608555">[1 more]</label></div><br/><div class="children"><div class="content">Who develops just? Will it be around in 5 years? Will it be ad supported? Will the developer sell my data? Etc.<p>I don&#x27;t have any of those concerns with GNU Make.</div><br/></div></div><div id="41607870" class="c"><input type="checkbox" id="c-41607870" checked=""/><div class="controls bullet"><span class="by">darby_nine</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607831">parent</a><span>|</span><a href="#41608555">prev</a><span>|</span><a href="#41608284">next</a><span>|</span><label class="collapse" for="c-41607870">[-]</label><label class="expand" for="c-41607870">[3 more]</label></div><br/><div class="children"><div class="content">Right but writing dependency management (of targets, not package management) in shell seems like a nightmare compared to just leveraging make. Why complicate things? It&#x27;s dead simple to debug, the interface is dead simple, what&#x27;s the downside?</div><br/><div id="41608308" class="c"><input type="checkbox" id="c-41608308" checked=""/><div class="controls bullet"><span class="by">boomlinde</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607870">parent</a><span>|</span><a href="#41608117">next</a><span>|</span><label class="collapse" for="c-41608308">[-]</label><label class="expand" for="c-41608308">[1 more]</label></div><br/><div class="children"><div class="content">Right, but the original point which started the thread is that &quot;The author is not even using the mtime-based dependency tracking&quot;, in which case a plain shell script is very much a viable alternative to make.<p>I don&#x27;t particularly mind this use of make, but as an article on make it fails to exemplify what I think is its main purpose.</div><br/></div></div><div id="41608117" class="c"><input type="checkbox" id="c-41608117" checked=""/><div class="controls bullet"><span class="by">tcfhgj</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607870">parent</a><span>|</span><a href="#41608308">prev</a><span>|</span><a href="#41608284">next</a><span>|</span><label class="collapse" for="c-41608117">[-]</label><label class="expand" for="c-41608117">[1 more]</label></div><br/><div class="children"><div class="content">In my PS script solution, I just added a clean option+command.<p>I rewrote my makefile in PS and don&#x27;t miss anything from make and have no regrets, as it is simpler now.</div><br/></div></div></div></div><div id="41608284" class="c"><input type="checkbox" id="c-41608284" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607831">parent</a><span>|</span><a href="#41607870">prev</a><span>|</span><a href="#41608093">next</a><span>|</span><label class="collapse" for="c-41608284">[-]</label><label class="expand" for="c-41608284">[4 more]</label></div><br/><div class="children"><div class="content">&gt;Make is the new kid on the block.<p>Make is from 1976. I don&#x27;t think you can legitimately refer to it as that.</div><br/><div id="41608432" class="c"><input type="checkbox" id="c-41608432" checked=""/><div class="controls bullet"><span class="by">cassianoleal</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608284">parent</a><span>|</span><a href="#41608337">next</a><span>|</span><label class="collapse" for="c-41608432">[-]</label><label class="expand" for="c-41608432">[2 more]</label></div><br/><div class="children"><div class="content">The first UNIX was announced outside of Bell Labs in 1973. In 1976, pretty much every tool was “the new kid on the block”.</div><br/><div id="41608523" class="c"><input type="checkbox" id="c-41608523" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608432">parent</a><span>|</span><a href="#41608337">next</a><span>|</span><label class="collapse" for="c-41608523">[-]</label><label class="expand" for="c-41608523">[1 more]</label></div><br/><div class="children"><div class="content">Phew, I was so worried. So for 48 years out of Unix&#x27; 53 years of existence (90% of that time), make hasn&#x27;t been the new kid on the block. Oh, let alone the fact that we&#x27;re talking about stuff from 48 years ago, when their &quot;screen&quot; was a paper printout of the output.</div><br/></div></div></div></div><div id="41608337" class="c"><input type="checkbox" id="c-41608337" checked=""/><div class="controls bullet"><span class="by">Ygg2</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608284">parent</a><span>|</span><a href="#41608432">prev</a><span>|</span><a href="#41608093">next</a><span>|</span><label class="collapse" for="c-41608337">[-]</label><label class="expand" for="c-41608337">[1 more]</label></div><br/><div class="children"><div class="content">You could around 1976. Who&#x27;s ever going to need make.</div><br/></div></div></div></div><div id="41608093" class="c"><input type="checkbox" id="c-41608093" checked=""/><div class="controls bullet"><span class="by">movedx</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607831">parent</a><span>|</span><a href="#41608284">prev</a><span>|</span><a href="#41607822">next</a><span>|</span><label class="collapse" for="c-41608093">[-]</label><label class="expand" for="c-41608093">[1 more]</label></div><br/><div class="children"><div class="content">I believe you to be correct. I think it&#x27;s important that one uses the right tool for the job, regardless of whether or not it&#x27;s widely adopted or supported.</div><br/></div></div></div></div><div id="41607822" class="c"><input type="checkbox" id="c-41607822" checked=""/><div class="controls bullet"><span class="by">hulitu</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607750">parent</a><span>|</span><a href="#41607831">prev</a><span>|</span><a href="#41607866">next</a><span>|</span><label class="collapse" for="c-41607822">[-]</label><label class="expand" for="c-41607822">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but it works<p>That it what a lot of SW developers forget: your code might be the best in the world, but , if someone is not able to build it, it is useless.</div><br/></div></div><div id="41607866" class="c"><input type="checkbox" id="c-41607866" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607750">parent</a><span>|</span><a href="#41607822">prev</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41607866">[-]</label><label class="expand" for="c-41607866">[6 more]</label></div><br/><div class="children"><div class="content">&gt; it works and, what&#x27;s important, it works for him.<p>Until it doesn&#x27;t. And then you really have to learn about PHONY targets, why and when there must be a tab and not spaces - good luck with an editor that doesn&#x27;t treat Makefiles special and is configured to convert tabs to spaces.</div><br/><div id="41607903" class="c"><input type="checkbox" id="c-41607903" checked=""/><div class="controls bullet"><span class="by">dented42</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607866">parent</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41607903">[-]</label><label class="expand" for="c-41607903">[5 more]</label></div><br/><div class="children"><div class="content">But those are things that he’ll learn about as he keeps using make. And why does it matter that some editors don’t know about makefiles? The one he is using handles them just fine so what’s the problem?</div><br/><div id="41607980" class="c"><input type="checkbox" id="c-41607980" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607903">parent</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41607980">[-]</label><label class="expand" for="c-41607980">[4 more]</label></div><br/><div class="children"><div class="content">&gt; And why does it matter that some editors don’t know about makefiles?<p>Because it isn&#x27;t fun checking if the whitespace at the beginning of the line is a tab or spaces. And as said, you must know when to use tabs and&#x2F;or spaces in rules.<p>For doing such a simple thing as calling some commands, Make has way too many subtle footguns which _will_ bite somebody, someday. The problem (that&#x27;s not a problém at all, that&#x27;s a reason to celebrate!) is that most JS devs and users aren&#x27;t used to Make, compared to e.g. C programmers. To rephrase: as someone writing C, you have to use something like a Makefile, as anything else (like scripts) gets unreadable and -usable quite fast. But if you can get away with a less complex solution, you should really use that instead of Make.</div><br/><div id="41608188" class="c"><input type="checkbox" id="c-41608188" checked=""/><div class="controls bullet"><span class="by">instig007</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607980">parent</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41608188">[-]</label><label class="expand" for="c-41608188">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Because it isn&#x27;t fun checking if the whitespace at the beginning of the line is a tab or spaces. And as said, you must know when to use tabs and&#x2F;or spaces in rules.<p>that&#x27;s why <a href="https:&#x2F;&#x2F;editorconfig.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;editorconfig.org&#x2F;</a> exists, so that neither you nor your teammates have to think about these things</div><br/><div id="41608498" class="c"><input type="checkbox" id="c-41608498" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608188">parent</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41608498">[-]</label><label class="expand" for="c-41608498">[2 more]</label></div><br/><div class="children"><div class="content">&gt; neither you nor your teammates have to think about these things<p>You&#x27;re better off using a Makefile linter. But you must know about the problem before being able to solve it. And error messages like<p><pre><code>   Makefile:2: *** missing separator.  Stop.
</code></pre>
aren&#x27;t the most helpful.</div><br/><div id="41608549" class="c"><input type="checkbox" id="c-41608549" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608498">parent</a><span>|</span><a href="#41608037">next</a><span>|</span><label class="collapse" for="c-41608549">[-]</label><label class="expand" for="c-41608549">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;ll find the issue within 2 minutes of googling the error message.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="41608037" class="c"><input type="checkbox" id="c-41608037" checked=""/><div class="controls bullet"><span class="by">112233</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607683">parent</a><span>|</span><a href="#41607750">prev</a><span>|</span><a href="#41607861">next</a><span>|</span><label class="collapse" for="c-41608037">[-]</label><label class="expand" for="c-41608037">[2 more]</label></div><br/><div class="children"><div class="content">Please help me understand why this thing exists. Like, no snark, I like using the proper tool for a job -- when would I look at the project and think &quot;this is something that is better done with &#x27;just&#x27; tool&quot;. Instead of readme.txt and a folder with scripts</div><br/><div id="41608445" class="c"><input type="checkbox" id="c-41608445" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608037">parent</a><span>|</span><a href="#41607861">next</a><span>|</span><label class="collapse" for="c-41608445">[-]</label><label class="expand" for="c-41608445">[1 more]</label></div><br/><div class="children"><div class="content">I can count on one hand the number of times a simple script or make worked out of the box. Sure, part of the reason is dependencies, but then I might as well use a build tool that is actually doing what a build tool should. Makefiles&#x2F;bash scripts are hacks, and I don’t get this strange Stockholm syndrome UNIX-people have for them.</div><br/></div></div></div></div><div id="41607861" class="c"><input type="checkbox" id="c-41607861" checked=""/><div class="controls bullet"><span class="by">darby_nine</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607683">parent</a><span>|</span><a href="#41608037">prev</a><span>|</span><a href="#41608345">next</a><span>|</span><label class="collapse" for="c-41607861">[-]</label><label class="expand" for="c-41607861">[1 more]</label></div><br/><div class="children"><div class="content">Why not just use make? I am constantly confused by people reinventing the wheel with new syntax and little benefit</div><br/></div></div><div id="41608345" class="c"><input type="checkbox" id="c-41608345" checked=""/><div class="controls bullet"><span class="by">nsonha</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607683">parent</a><span>|</span><a href="#41607861">prev</a><span>|</span><a href="#41607660">next</a><span>|</span><label class="collapse" for="c-41608345">[-]</label><label class="expand" for="c-41608345">[1 more]</label></div><br/><div class="children"><div class="content">why do you need a &quot;command runner&quot;? Have you heard of bash functions? Or... make? The thing is too simple to justify installing another tool, however nifty it is.</div><br/></div></div></div></div><div id="41607660" class="c"><input type="checkbox" id="c-41607660" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41607683">prev</a><span>|</span><a href="#41607848">next</a><span>|</span><label class="collapse" for="c-41607660">[-]</label><label class="expand" for="c-41607660">[10 more]</label></div><br/><div class="children"><div class="content">Here’s a one-line horror story for you (from a real project I’m working on):<p><pre><code>  .PHONY: $(MAKECMDGOALS)
</code></pre>
&gt; The author could have replaced it with a shell script that read $1<p>Sure, but `.&#x2F;build.sh dev` is a bit less obvious than `make dev`.<p>Another reason to use Make even if you don’t have any non-phony steps is that you can add those later if needed. (I agree that the author should mark {dev,build,deploy} as phony though.)</div><br/><div id="41607925" class="c"><input type="checkbox" id="c-41607925" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607660">parent</a><span>|</span><a href="#41607675">next</a><span>|</span><label class="collapse" for="c-41607925">[-]</label><label class="expand" for="c-41607925">[2 more]</label></div><br/><div class="children"><div class="content">Why is this a horror story? Under certain assumptions of how the author intends to use this, this sounds like a sensible way to define a dynamic list of phony targets to me, without having to specify them by hand.<p>There are many reasonable scenarios why you might want to do this: determining at the point of calling make which targets  to force or deactivate for safety, projects with nested or external makefiles not directly under your control, reuse of MAKECMDGOALS throughout the makefile (including propagation to submakefiles), ...</div><br/><div id="41608388" class="c"><input type="checkbox" id="c-41608388" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607925">parent</a><span>|</span><a href="#41607675">next</a><span>|</span><label class="collapse" for="c-41608388">[-]</label><label class="expand" for="c-41608388">[1 more]</label></div><br/><div class="children"><div class="content">Consider:<p><pre><code>    .PHONY: $(MAKECMDGOALS)

    qux:

    foo: qux

    bar: foo
</code></pre>
Now make bar and make foo bar  will disagree on whether foo is phony, which may or may not be what one wants depending on both what foo and qux do, and how bar depends on foo and qux side effects.<p>It also very much depends on what the intent is, notably such a &quot;autophony&quot; make foo is <i>very</i> different from make -B foo.</div><br/></div></div></div></div><div id="41607675" class="c"><input type="checkbox" id="c-41607675" checked=""/><div class="controls bullet"><span class="by">dima55</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607660">parent</a><span>|</span><a href="#41607925">prev</a><span>|</span><a href="#41607848">next</a><span>|</span><label class="collapse" for="c-41607675">[-]</label><label class="expand" for="c-41607675">[7 more]</label></div><br/><div class="children"><div class="content">I got an even better one for you: `.&#x2F;dev.sh`. The author is doing it wrong, and giving Make a bad name.</div><br/><div id="41607748" class="c"><input type="checkbox" id="c-41607748" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607675">parent</a><span>|</span><a href="#41607690">next</a><span>|</span><label class="collapse" for="c-41607748">[-]</label><label class="expand" for="c-41607748">[1 more]</label></div><br/><div class="children"><div class="content">First of all, misusing a tool doesn’t “give it a bad name”, and second of all who cares? A tool isn’t a human being. Make’s feelings aren’t going to be hurt by this article.<p>The author just shared something they think is cool. That takes guts to show the world, and our critiques should respect that.</div><br/></div></div><div id="41607690" class="c"><input type="checkbox" id="c-41607690" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607675">parent</a><span>|</span><a href="#41607748">prev</a><span>|</span><a href="#41607736">next</a><span>|</span><label class="collapse" for="c-41607690">[-]</label><label class="expand" for="c-41607690">[4 more]</label></div><br/><div class="children"><div class="content">You’ll also want .&#x2F;build.sh and .&#x2F;deploy.sh then. If each is 1-2 commands, I’d argue it’s a waste to use separate files here.<p>&gt; giving Make a bad name<p>How so?</div><br/><div id="41607868" class="c"><input type="checkbox" id="c-41607868" checked=""/><div class="controls bullet"><span class="by">dima55</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607690">parent</a><span>|</span><a href="#41607738">next</a><span>|</span><label class="collapse" for="c-41607868">[-]</label><label class="expand" for="c-41607868">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I’d argue it’s a waste to use separate files here<p>Fine. Write a `make.sh` that parses the arguments; that would be better.<p>&gt; How so?<p>Well, read the comments here. Do you sense that Make is a beloved tool? Most of the complaints are about some details about syntax, and those complaints are completely valid. If you use Make for its intended purpose, then it&#x27;s still easily well-worth using, despite that. But if you use it as a glorified script, then all you see is the warts, without any upsides. And you then tell all your friends that &quot;Make sux!&quot; Which is a huge shame because Make is awesome.</div><br/><div id="41607933" class="c"><input type="checkbox" id="c-41607933" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607868">parent</a><span>|</span><a href="#41607738">next</a><span>|</span><label class="collapse" for="c-41607933">[-]</label><label class="expand" for="c-41607933">[1 more]</label></div><br/><div class="children"><div class="content">Hear hear!</div><br/></div></div></div></div><div id="41607738" class="c"><input type="checkbox" id="c-41607738" checked=""/><div class="controls bullet"><span class="by">Jach</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607690">parent</a><span>|</span><a href="#41607868">prev</a><span>|</span><a href="#41607736">next</a><span>|</span><label class="collapse" for="c-41607738">[-]</label><label class="expand" for="c-41607738">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s fine, the separate files are a benefit here. The only annoyance is clogging up the root project folder -- though some people don&#x27;t seem to care about that. If they got too numerous (the 5 in OP&#x27;s &quot;more advanced&quot; project would probably not be too numerous), I&#x27;d consider putting the scripts in their own folder. I might even call it &#x27;make&#x27; just to mess with people. Then my commands are just make&#x2F;build and make&#x2F;deploy and so on (.sh unnecessary). But really, in OP&#x27;s case, I just have no need for some of their simple wrappers. &quot;npm run dev&quot; is two characters longer than &quot;make dev&quot;, pointless.</div><br/></div></div></div></div></div></div></div></div><div id="41607848" class="c"><input type="checkbox" id="c-41607848" checked=""/><div class="controls bullet"><span class="by">tempodox</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41607660">prev</a><span>|</span><a href="#41608538">next</a><span>|</span><label class="collapse" for="c-41607848">[-]</label><label class="expand" for="c-41607848">[1 more]</label></div><br/><div class="children"><div class="content">We all were beginners at one time or another.  And if you want to learn a tool, it helps to actually use it, even if your greenhorn usage is less than perfect.  You can make incremental improvements as you learn, like we all do.</div><br/></div></div><div id="41608538" class="c"><input type="checkbox" id="c-41608538" checked=""/><div class="controls bullet"><span class="by">thom</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41607848">prev</a><span>|</span><a href="#41607662">next</a><span>|</span><label class="collapse" for="c-41608538">[-]</label><label class="expand" for="c-41608538">[2 more]</label></div><br/><div class="children"><div class="content">There isn’t even a need for a shell script. The author is already invoking three separate tools, each of which has a mechanism for invoking custom commands.</div><br/><div id="41608540" class="c"><input type="checkbox" id="c-41608540" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608538">parent</a><span>|</span><a href="#41607662">next</a><span>|</span><label class="collapse" for="c-41608540">[-]</label><label class="expand" for="c-41608540">[1 more]</label></div><br/><div class="children"><div class="content">What if he wants to have a uniform environment across projects and some aren&#x27;t JavaScript?</div><br/></div></div></div></div><div id="41607662" class="c"><input type="checkbox" id="c-41607662" checked=""/><div class="controls bullet"><span class="by">fukawi2</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41608538">prev</a><span>|</span><a href="#41607952">next</a><span>|</span><label class="collapse" for="c-41607662">[-]</label><label class="expand" for="c-41607662">[4 more]</label></div><br/><div class="children"><div class="content">While you&#x27;re technically correct, what I gathered from their experience is the consistency of usage, between not only their own projects but third-party projects too.<p>They could make technical improvements to their own Makefiles, sure. But it&#x27;s more about being able to enter a project and have a consistent experience in &quot;getting started&quot;.</div><br/><div id="41607724" class="c"><input type="checkbox" id="c-41607724" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607662">parent</a><span>|</span><a href="#41607952">next</a><span>|</span><label class="collapse" for="c-41607724">[-]</label><label class="expand" for="c-41607724">[3 more]</label></div><br/><div class="children"><div class="content">&gt; But it&#x27;s more about being able to enter a project and have a consistent experience in &quot;getting started&quot;.<p>I&#x27;d say putting the Makefile content in `package.json` would be more consistent, especially as they are already using Gulp as the build system.</div><br/><div id="41607795" class="c"><input type="checkbox" id="c-41607795" checked=""/><div class="controls bullet"><span class="by">croemer</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607724">parent</a><span>|</span><a href="#41607952">next</a><span>|</span><label class="collapse" for="c-41607795">[-]</label><label class="expand" for="c-41607795">[2 more]</label></div><br/><div class="children"><div class="content">You can&#x27;t put comments in package.json, JSON should never have been used for something maintained by humans.</div><br/><div id="41607891" class="c"><input type="checkbox" id="c-41607891" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607795">parent</a><span>|</span><a href="#41607952">next</a><span>|</span><label class="collapse" for="c-41607891">[-]</label><label class="expand" for="c-41607891">[1 more]</label></div><br/><div class="children"><div class="content">We are not arguing whether not declaring phony targets is worse than using comments in `package.json`?<p>But anyway, comments in a Makefile or `package.json` are not documentation anyway, that&#x27;s what the `README` or `INSTALL` (or whatever) is there for (in projects like the one the Makefile is written for).</div><br/></div></div></div></div></div></div></div></div><div id="41607952" class="c"><input type="checkbox" id="c-41607952" checked=""/><div class="controls bullet"><span class="by">ristos</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41607662">prev</a><span>|</span><a href="#41607898">next</a><span>|</span><label class="collapse" for="c-41607952">[-]</label><label class="expand" for="c-41607952">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the beauty of make and shell, it&#x27;s follows the UNIX principle of being simple and doing one thing and one thing well. People want it to do many other things, like be a scripting language, a dependency tracker, etc, so they&#x27;re willing to pull in bloatware. New isn&#x27;t necessarily better. Autoconf and automake isn&#x27;t make.</div><br/><div id="41607968" class="c"><input type="checkbox" id="c-41607968" checked=""/><div class="controls bullet"><span class="by">trashburger</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607952">parent</a><span>|</span><a href="#41608463">next</a><span>|</span><label class="collapse" for="c-41607968">[-]</label><label class="expand" for="c-41607968">[2 more]</label></div><br/><div class="children"><div class="content">Is this satire? Being a scripting language and tracking dependencies are primary features of shells and Make, respectively.</div><br/><div id="41608009" class="c"><input type="checkbox" id="c-41608009" checked=""/><div class="controls bullet"><span class="by">ristos</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607968">parent</a><span>|</span><a href="#41608463">next</a><span>|</span><label class="collapse" for="c-41608009">[-]</label><label class="expand" for="c-41608009">[1 more]</label></div><br/><div class="children"><div class="content">Not satire, sorry I didn&#x27;t clarify. They want make to have a builtin scripting language rather than using shell scripts, and a dependency tracking system that more complex and less tooling agnostic rather than leveraging the appropriate tool (like `npm ci`).</div><br/></div></div></div></div><div id="41608463" class="c"><input type="checkbox" id="c-41608463" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607952">parent</a><span>|</span><a href="#41607968">prev</a><span>|</span><a href="#41607898">next</a><span>|</span><label class="collapse" for="c-41608463">[-]</label><label class="expand" for="c-41608463">[1 more]</label></div><br/><div class="children"><div class="content">None of them are simple, they are chock full of hacks upon hacks, “fixing” their own idiocies, and by extension, none of them are doing their one thing well. Especially bash scripts, they should be left behind..</div><br/></div></div></div></div><div id="41607898" class="c"><input type="checkbox" id="c-41607898" checked=""/><div class="controls bullet"><span class="by">deepspace</span><span>|</span><a href="#41607539">parent</a><span>|</span><a href="#41607952">prev</a><span>|</span><a href="#41607469">next</a><span>|</span><label class="collapse" for="c-41607898">[-]</label><label class="expand" for="c-41607898">[4 more]</label></div><br/><div class="children"><div class="content">The author also seems not to have discovered &#x27;make configure&#x27; and the horrors of the automake&#x2F;autoconf toolset and the m4 macro language.</div><br/><div id="41607994" class="c"><input type="checkbox" id="c-41607994" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607898">parent</a><span>|</span><a href="#41608206">next</a><span>|</span><label class="collapse" for="c-41607994">[-]</label><label class="expand" for="c-41607994">[1 more]</label></div><br/><div class="children"><div class="content">Sure but these are completely orthogonal to make. Might as well complain about gcc.<p>If anything, it&#x27;s an argument for making better use of make&#x27;s own features for configuration in the first place.</div><br/></div></div><div id="41608206" class="c"><input type="checkbox" id="c-41608206" checked=""/><div class="controls bullet"><span class="by">instig007</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41607898">parent</a><span>|</span><a href="#41607994">prev</a><span>|</span><a href="#41607469">next</a><span>|</span><label class="collapse" for="c-41608206">[-]</label><label class="expand" for="c-41608206">[2 more]</label></div><br/><div class="children"><div class="content">what are those horrors about?</div><br/><div id="41608447" class="c"><input type="checkbox" id="c-41608447" checked=""/><div class="controls bullet"><span class="by">deepspace</span><span>|</span><a href="#41607539">root</a><span>|</span><a href="#41608206">parent</a><span>|</span><a href="#41607469">next</a><span>|</span><label class="collapse" for="c-41608447">[-]</label><label class="expand" for="c-41608447">[1 more]</label></div><br/><div class="children"><div class="content">Have you tried writing (or even just reading) a configure.ac script?</div><br/></div></div></div></div></div></div></div></div><div id="41607469" class="c"><input type="checkbox" id="c-41607469" checked=""/><div class="controls bullet"><span class="by">kstenerud</span><span>|</span><a href="#41607539">prev</a><span>|</span><a href="#41607445">next</a><span>|</span><label class="collapse" for="c-41607469">[-]</label><label class="expand" for="c-41607469">[7 more]</label></div><br/><div class="children"><div class="content">Makefiles are terrible tech. The problem is that they&#x27;re slightly less bad than most other build system we&#x27;ve come up with, which makes them &quot;useful&quot; in a masochistic way.<p>Build systems tend to commit one or more of the following sins:<p>* Too basic: Once you try to build anything beyond a toy, it quickly becomes chaos.<p>* Too complicated: The upfront required knowledge, bureaucracy, synchronization and boilerplate is ridiculous. The build system itself takes an order of magnitude more data and memory than the build target.<p>* No standard library (or a substandard one that does things poorly or not at all): You must define everything yourself, leading to 10000 different incompatible implementations of the same build patterns. So now no one can just dive in and know what they&#x27;re doing.<p>* Too constricting: The interface wasn&#x27;t built as a simple layer upon an expert layer. So now as soon as your needs evolve, you have to migrate away.<p>* Too much magic: The hallmark of a poorly designed system. It doesn&#x27;t have to be turtles all the way down, but it should be relatively close with few exceptions.<p>* Cryptic or inconsistent syntax.</div><br/><div id="41607985" class="c"><input type="checkbox" id="c-41607985" checked=""/><div class="controls bullet"><span class="by">ristos</span><span>|</span><a href="#41607469">parent</a><span>|</span><a href="#41608583">next</a><span>|</span><label class="collapse" for="c-41607985">[-]</label><label class="expand" for="c-41607985">[1 more]</label></div><br/><div class="children"><div class="content">My 2c: Makefiles are excellent tech, just that a lot of people haven&#x27;t learned to use it properly and use it as it was intended. I&#x27;m sure I&#x27;ll get pushback, that&#x27;s ok.<p>- Too basic: At least half of the software I use just uses plain makefiles and maybe a configure script. No autotools. I optionally run .&#x2F;configure, and then make and make install, and it just works. I definitely wouldn&#x27;t consider my setup to be a toy by any stretch of the imagination. It&#x27;s built out of smaller programs that do one thing and one thing well.<p>- Too complicated: I don&#x27;t know, I think make and how it works is really easy to understand to me at least. I guess everyone&#x27;s had different experiences. Not necessarily your case, but I think usually it&#x27;s because they had bad experiences that they probably blamed make for, when they were trying to build some complex project that either had a bad build setup itself (not make&#x27;s fault), or without the requisite knowledge.<p>- No standard library: It&#x27;s supposed to be tooling agnostic, which is what makes it universally applicable for a very wide range of tools, languages, and use cases. It&#x27;s viewed as a feature, not a bug.<p>- Too constricting: I&#x27;m not sure what you mean here, it&#x27;s designed to do one thing and one thing well. The simple layer is the dependency tracking.<p>- Too much magic: Cryptic or inconsistent syntax: See &#x27;Too complicated&#x27;</div><br/></div></div><div id="41608583" class="c"><input type="checkbox" id="c-41608583" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#41607469">parent</a><span>|</span><a href="#41607985">prev</a><span>|</span><a href="#41607805">next</a><span>|</span><label class="collapse" for="c-41608583">[-]</label><label class="expand" for="c-41608583">[1 more]</label></div><br/><div class="children"><div class="content">I agree. Also a lot of the replacements are focused on one language rather than being a generic &quot;do stuff&quot; tool like Make.<p>The fact that Make can&#x27;t even do subdirectories sanely is kind of ridiculous.<p>Does anyone know of anything better than Make? There&#x27;s Ninja but it&#x27;s not designed to be written by hand.</div><br/></div></div><div id="41607805" class="c"><input type="checkbox" id="c-41607805" checked=""/><div class="controls bullet"><span class="by">sixthDot</span><span>|</span><a href="#41607469">parent</a><span>|</span><a href="#41608583">prev</a><span>|</span><a href="#41607445">next</a><span>|</span><label class="collapse" for="c-41607805">[-]</label><label class="expand" for="c-41607805">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Once you try to build anything beyond a toy, it quickly becomes chaos.<p>Of course the chaos is not caused by, &quot;very hypotheticaly&quot; let&#x27;s say, a compiler or maybe a language without modules.<p>How would you estimate that ? 20%, 40%, or 70%, true ?</div><br/><div id="41608471" class="c"><input type="checkbox" id="c-41608471" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#41607469">root</a><span>|</span><a href="#41607805">parent</a><span>|</span><a href="#41607934">next</a><span>|</span><label class="collapse" for="c-41608471">[-]</label><label class="expand" for="c-41608471">[1 more]</label></div><br/><div class="children"><div class="content">There are projects that generate files, depend on multiple languages, etc. If you push the job of a build tool to the compiler infrastructure, then why even have a “build tool” in the first place? Make is simply anemic for anything remotely complex, and there are countless better tools that actually solve the problem.</div><br/></div></div><div id="41607934" class="c"><input type="checkbox" id="c-41607934" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607469">root</a><span>|</span><a href="#41607805">parent</a><span>|</span><a href="#41608471">prev</a><span>|</span><a href="#41607894">next</a><span>|</span><label class="collapse" for="c-41607934">[-]</label><label class="expand" for="c-41607934">[1 more]</label></div><br/><div class="children"><div class="content">Good luck writing Makefiles for Fortran, OCaml or (whenever they will really, actually work) C++ modules.<p>There aren&#x27;t many widely used build systems that can handle such dynamic dependencies without some special &quot;magic&quot; for these, the only one that I know of (with a significant number of users, so not Shake) is Buck 2 (Bazel and all C++ build systems use &quot;special magic&quot;, you can&#x27;t write in user rules).</div><br/></div></div><div id="41607894" class="c"><input type="checkbox" id="c-41607894" checked=""/><div class="controls bullet"><span class="by">tomjen3</span><span>|</span><a href="#41607469">root</a><span>|</span><a href="#41607805">parent</a><span>|</span><a href="#41607934">prev</a><span>|</span><a href="#41607445">next</a><span>|</span><label class="collapse" for="c-41607894">[-]</label><label class="expand" for="c-41607894">[1 more]</label></div><br/><div class="children"><div class="content">Not OP, but its not just that C&#x2F;C++ lacks modules. I think that is missing the real issue. Any complicated program probably needs a custom developed tool to build it. As a simple example, imagine a program that uses a database - you want to keep the sources as SQL and generate classes from them. Thats a custom build step.<p>Its just that in some languages and build systems (Node, Maven), we have abstracted this away by calling them plugins and they probably come from the same group that made the library you need.<p>No such pluginsystem exists, as far as I am aware, for makefiles.</div><br/></div></div></div></div></div></div><div id="41607445" class="c"><input type="checkbox" id="c-41607445" checked=""/><div class="controls bullet"><span class="by">john-tells-all</span><span>|</span><a href="#41607469">prev</a><span>|</span><a href="#41607519">next</a><span>|</span><label class="collapse" for="c-41607445">[-]</label><label class="expand" for="c-41607445">[5 more]</label></div><br/><div class="children"><div class="content">I adore Make. I&#x27;ve written one (or more) for every single task or project I&#x27;ve touched in the last 20 years.<p>No smarts. It&#x27;s just a collection of snippets with a few variables. &quot;make run&quot;, &quot;make test&quot;, &quot;make lint&quot;, that kind of thing.<p>&quot;make recent&quot; = lint then run the most recently modified script.<p>You could do the same thing with Bash or other shells, but then you get stuck into Developer Land. Things are so much more complicated, without giving extra value. Make is just a DSL saying &quot;files like this, are made into files like that, by running this command or two&quot;. That&#x27;s it.<p>This is incredibly powerful!</div><br/><div id="41608603" class="c"><input type="checkbox" id="c-41608603" checked=""/><div class="controls bullet"><span class="by">elAhmo</span><span>|</span><a href="#41607445">parent</a><span>|</span><a href="#41607684">next</a><span>|</span><label class="collapse" for="c-41608603">[-]</label><label class="expand" for="c-41608603">[1 more]</label></div><br/><div class="children"><div class="content">Likewise! I haven&#x27;t been using them in the past, but at my current position almost every repository has a Makefile.<p>Running `make test` and knowing it will work, regardless of the stack, language, repo is a huge lifesaver.</div><br/></div></div><div id="41607684" class="c"><input type="checkbox" id="c-41607684" checked=""/><div class="controls bullet"><span class="by">rramadass</span><span>|</span><a href="#41607445">parent</a><span>|</span><a href="#41608603">prev</a><span>|</span><a href="#41607458">next</a><span>|</span><label class="collapse" for="c-41607684">[-]</label><label class="expand" for="c-41607684">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Make is just a DSL saying &quot;files like this, are made into files like that, by running this command or two&quot;.<p>Nicely put.<p>Decades ago i wrote a testing framework in java where you could specify your tests and their dependent classes using make-like syntax. So you could have a set of test classes which define the &quot;baseline suite&quot;, then another layer of test classes which is dependent on the above and only run if the above is successful and so on.<p>I really do not understand why folks today make everything so complicated. My advise has always been, stick to standard Unix tools and their way of doing things (tested and proven over time) unless you run into something which could absolutely not be done that way. Time is finite&#x2F;limited and i prefer to spend it on System&#x2F;Program Design&#x2F;Modeling&#x2F;Structure&#x2F;Patterns etc. which are what is central to problem-solving; everything else is ancillary.</div><br/></div></div><div id="41607458" class="c"><input type="checkbox" id="c-41607458" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41607445">parent</a><span>|</span><a href="#41607684">prev</a><span>|</span><a href="#41607519">next</a><span>|</span><label class="collapse" for="c-41607458">[-]</label><label class="expand" for="c-41607458">[2 more]</label></div><br/><div class="children"><div class="content">Somehow every make file I’ve encountered in the wild is a lot more than “that’s it”</div><br/><div id="41608589" class="c"><input type="checkbox" id="c-41608589" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#41607445">root</a><span>|</span><a href="#41607458">parent</a><span>|</span><a href="#41607519">next</a><span>|</span><label class="collapse" for="c-41608589">[-]</label><label class="expand" for="c-41608589">[1 more]</label></div><br/><div class="children"><div class="content">That just rosy tinted glasses most of the historical users are wearing. It takes time and nerve to admit that you have decades of experience with a footgun that isn’t even trivial to use beyond tutorial&#x2F;builtin use cases.</div><br/></div></div></div></div></div></div><div id="41607519" class="c"><input type="checkbox" id="c-41607519" checked=""/><div class="controls bullet"><span class="by">bluejekyll</span><span>|</span><a href="#41607445">prev</a><span>|</span><a href="#41607946">next</a><span>|</span><label class="collapse" for="c-41607519">[-]</label><label class="expand" for="c-41607519">[20 more]</label></div><br/><div class="children"><div class="content">Technically all of these make targets look for files by the names of the targets. Each one should really be defined as .PHONY.<p>That said, I used to write makefiles like this all the time, but have since switched to just and justfiles in recent years which make this the default behavior, and is generally simpler to use. Things like parameters are simpler.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just">https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just</a></div><br/><div id="41607680" class="c"><input type="checkbox" id="c-41607680" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#41607519">parent</a><span>|</span><a href="#41608587">next</a><span>|</span><label class="collapse" for="c-41607680">[-]</label><label class="expand" for="c-41607680">[2 more]</label></div><br/><div class="children"><div class="content">I kinda like these make-ish systems, but they all have one problem: Make is already on any Linux and Mac, and is pretty easy to get on Windows as well. (It’s a real pity they don’t include it in the Git Bash!) Just using the lowest common denominator is a big argument for Make IMO.</div><br/><div id="41608481" class="c"><input type="checkbox" id="c-41608481" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607680">parent</a><span>|</span><a href="#41608587">next</a><span>|</span><label class="collapse" for="c-41608481">[-]</label><label class="expand" for="c-41608481">[1 more]</label></div><br/><div class="children"><div class="content">You have to handle dependencies either way to build a project - what’s one more tiny executable?<p>This criticism might make sense for some non-vim editor because you might have to ssh into a remote location where you can’t install stuff. But if you should be able to build a project and thus install its required dependencies, then you might as well add one additional word to the install command.</div><br/></div></div></div></div><div id="41608587" class="c"><input type="checkbox" id="c-41608587" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#41607519">parent</a><span>|</span><a href="#41607680">prev</a><span>|</span><a href="#41607667">next</a><span>|</span><label class="collapse" for="c-41608587">[-]</label><label class="expand" for="c-41608587">[1 more]</label></div><br/><div class="children"><div class="content">A big mistake Make has is mixing phony and file targets in the same namespace. They should be distinguishable by name, e.g. phony targets start with a : or something.<p>Too late of course.</div><br/></div></div><div id="41607667" class="c"><input type="checkbox" id="c-41607667" checked=""/><div class="controls bullet"><span class="by">a-dub</span><span>|</span><a href="#41607519">parent</a><span>|</span><a href="#41608587">prev</a><span>|</span><a href="#41607946">next</a><span>|</span><label class="collapse" for="c-41607667">[-]</label><label class="expand" for="c-41607667">[16 more]</label></div><br/><div class="children"><div class="content">yeah just is really cool but it&#x27;s not really commonly installed so that&#x27;s kind of annoying.<p>i feel like we&#x27;re due for some kind of newfangled coreutils distribution that packages up all the most common and useful newfangled utilities (just, ripgrep, and friends) and gets them everywhere you&#x27;d want them.</div><br/><div id="41607801" class="c"><input type="checkbox" id="c-41607801" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607667">parent</a><span>|</span><a href="#41607770">next</a><span>|</span><label class="collapse" for="c-41607801">[-]</label><label class="expand" for="c-41607801">[1 more]</label></div><br/><div class="children"><div class="content">But I want please, ag and friends!
The &quot;problem&quot; with this kind of package is that everybody wants something else. And the chances that they get a part of the default MacOS or Windows install (or even part of the XCode command line tools or Plattform SDK (or whatever that is called now)) is quite small.</div><br/></div></div><div id="41607770" class="c"><input type="checkbox" id="c-41607770" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607667">parent</a><span>|</span><a href="#41607801">prev</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607770">[-]</label><label class="expand" for="c-41607770">[13 more]</label></div><br/><div class="children"><div class="content">I like `asdf` a lot for this, but I actually don&#x27;t use it for either of those examples (though it does have plugins for them). Ripgrep is in most package repos by now and all my dev machines have a Rust toolchain installed so I can build and install `just` from source with a quick command.</div><br/><div id="41607806" class="c"><input type="checkbox" id="c-41607806" checked=""/><div class="controls bullet"><span class="by">croemer</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607770">parent</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607806">[-]</label><label class="expand" for="c-41607806">[12 more]</label></div><br/><div class="children"><div class="content">I think parent meant to have it pre installed in most distros, not just easily installable</div><br/><div id="41607832" class="c"><input type="checkbox" id="c-41607832" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607806">parent</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607832">[-]</label><label class="expand" for="c-41607832">[11 more]</label></div><br/><div class="children"><div class="content">Sure, really though I don&#x27;t understand why installing a single binary which is available from several easy to use package managers somehow becomes an insurmountable barrier for people when `just` is involved. &quot;If it&#x27;s not already on my system I can&#x27;t use it&quot; seems like an absurd limitation to place on your projects.</div><br/><div id="41607914" class="c"><input type="checkbox" id="c-41607914" checked=""/><div class="controls bullet"><span class="by">spc476</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607832">parent</a><span>|</span><a href="#41607878">next</a><span>|</span><label class="collapse" for="c-41607914">[-]</label><label class="expand" for="c-41607914">[4 more]</label></div><br/><div class="children"><div class="content">Please talk to security.  My machine is locked down so tight I need a director (or higher) override to get anything not in the default distribution or &quot;blessed&quot; by security installed, and I can&#x27;t even be the one to install it.  May you never have to work at The Enterprise.  It <i>sucks!</i></div><br/><div id="41608448" class="c"><input type="checkbox" id="c-41608448" checked=""/><div class="controls bullet"><span class="by">Thiez</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607914">parent</a><span>|</span><a href="#41607970">next</a><span>|</span><label class="collapse" for="c-41608448">[-]</label><label class="expand" for="c-41608448">[1 more]</label></div><br/><div class="children"><div class="content">At that point wouldn&#x27;t you &quot;just&quot; download the source and compile locally? Since you presumably could compile stuff. Add a &#x27;bin&#x27; folder in your home directory to your PATH and enjoy.</div><br/></div></div><div id="41607970" class="c"><input type="checkbox" id="c-41607970" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607914">parent</a><span>|</span><a href="#41608448">prev</a><span>|</span><a href="#41608487">next</a><span>|</span><label class="collapse" for="c-41607970">[-]</label><label class="expand" for="c-41607970">[1 more]</label></div><br/><div class="children"><div class="content">That sucks for sure, I did work a giant enterprise for a few years and it was plenty painful but not that bad at least. Well maybe it was that bad, because we didn&#x27;t use make either, everything had to go through Jenkins and nobody bothered with anything for local development beyond an occasional `build.sh` somewhere in the project. Simply push your code when you think it&#x27;s done and wait 30 minutes to get the next set of linter errors.</div><br/></div></div><div id="41608487" class="c"><input type="checkbox" id="c-41608487" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607914">parent</a><span>|</span><a href="#41607970">prev</a><span>|</span><a href="#41607878">next</a><span>|</span><label class="collapse" for="c-41608487">[-]</label><label class="expand" for="c-41608487">[1 more]</label></div><br/><div class="children"><div class="content">So how do you build any project, which have countless dependencies that all have to be installed?</div><br/></div></div></div></div><div id="41607878" class="c"><input type="checkbox" id="c-41607878" checked=""/><div class="controls bullet"><span class="by">a-dub</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607832">parent</a><span>|</span><a href="#41607914">prev</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607878">[-]</label><label class="expand" for="c-41607878">[6 more]</label></div><br/><div class="children"><div class="content">oh i have no problem at all installing stuff in my own environments, i&#x27;m all about having cool new tooling -- it just starts to get a little rude to ask others to do so in order to use something you&#x27;re distributing (and therefore absent coreutils-ii-electric-boogaloo installed everywhere, i&#x27;m much more likely to reach for make, unfortunately).</div><br/><div id="41607915" class="c"><input type="checkbox" id="c-41607915" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607878">parent</a><span>|</span><a href="#41607905">next</a><span>|</span><label class="collapse" for="c-41607915">[-]</label><label class="expand" for="c-41607915">[1 more]</label></div><br/><div class="children"><div class="content">Maybe it&#x27;s different kinds of projects then. For most of what I work with distribution would have nothing to do with the build system in the repo, only people who would ever have to deal with it are other contributors that likely have some environment setup to do regardless.</div><br/></div></div><div id="41607905" class="c"><input type="checkbox" id="c-41607905" checked=""/><div class="controls bullet"><span class="by">Jach</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607878">parent</a><span>|</span><a href="#41607915">prev</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607905">[-]</label><label class="expand" for="c-41607905">[4 more]</label></div><br/><div class="children"><div class="content">Meanwhile gradle people are like: just run these included gradlew or gradlew.bat files, they&#x27;ll download the actual gradle from somewhere online, pollute some folders in your home dir, and then execute the build stuff.<p>I notice just has some pre-built binaries that could be used for the same thing. I find it a little beyond rude what gradle normalized, but hey, it &quot;works&quot;, and it removes the source of friction that&#x27;s present any time you violate the principle of least surprise with your choice of build tool.</div><br/><div id="41608064" class="c"><input type="checkbox" id="c-41608064" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607905">parent</a><span>|</span><a href="#41607931">next</a><span>|</span><label class="collapse" for="c-41608064">[-]</label><label class="expand" for="c-41608064">[1 more]</label></div><br/><div class="children"><div class="content">The reason why Gradle needs this junk in the first place is that they aggressively change and deprecate APIs. Tried to build a 6 year old project today and of course nothing works. Gradle wrapper proved pretty useful here. Make, on the other hand, has maintained almost perfect compatibility since it&#x27;s inception.</div><br/></div></div><div id="41607931" class="c"><input type="checkbox" id="c-41607931" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607905">parent</a><span>|</span><a href="#41608064">prev</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607931">[-]</label><label class="expand" for="c-41607931">[2 more]</label></div><br/><div class="children"><div class="content">I have more than once considered writing a Makefile shim that would check for just, install if needed and proxy all commands to it...</div><br/><div id="41607948" class="c"><input type="checkbox" id="c-41607948" checked=""/><div class="controls bullet"><span class="by">arjvik</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607931">parent</a><span>|</span><a href="#41607800">next</a><span>|</span><label class="collapse" for="c-41607948">[-]</label><label class="expand" for="c-41607948">[1 more]</label></div><br/><div class="children"><div class="content">Do it!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="41607800" class="c"><input type="checkbox" id="c-41607800" checked=""/><div class="controls bullet"><span class="by">croemer</span><span>|</span><a href="#41607519">root</a><span>|</span><a href="#41607667">parent</a><span>|</span><a href="#41607770">prev</a><span>|</span><a href="#41607946">next</a><span>|</span><label class="collapse" for="c-41607800">[-]</label><label class="expand" for="c-41607800">[1 more]</label></div><br/><div class="children"><div class="content">Like moreutils? yamu? Yet another moreutils?</div><br/></div></div></div></div></div></div><div id="41607946" class="c"><input type="checkbox" id="c-41607946" checked=""/><div class="controls bullet"><span class="by">davidcalloway</span><span>|</span><a href="#41607519">prev</a><span>|</span><a href="#41607681">next</a><span>|</span><label class="collapse" for="c-41607946">[-]</label><label class="expand" for="c-41607946">[1 more]</label></div><br/><div class="children"><div class="content">I like Makefiles as well, and although many people have commented on the limitations and the fact that the author&#x27;s usage of make is fairly simplistic, I think it&#x27;s great to get started with the basics.<p>Kudos to the author for writing this up and _not_ feeling the need to learn every last bit of make and do everything &quot;properly&quot; before sharing.<p>I&#x27;ve worked on a team where GitLab CI pipelines replaced Makefiles, and I was asked not to commit a makefile to the project because it&#x27;s a customized developer workflow. They were allergic to local testing, but I thought it was a great way to just store and share knowledge about how to build, test, clean, etc. Far easier to read the GitLab CI files (which yes of course were also necessary and served a different porpoise).</div><br/></div></div><div id="41607681" class="c"><input type="checkbox" id="c-41607681" checked=""/><div class="controls bullet"><span class="by">duped</span><span>|</span><a href="#41607946">prev</a><span>|</span><a href="#41607531">next</a><span>|</span><label class="collapse" for="c-41607681">[-]</label><label class="expand" for="c-41607681">[6 more]</label></div><br/><div class="children"><div class="content">make as a task runner is not too bad, but there are better alternatives today like just (as others have commented).<p>make as a build system is <i>ok</i> until you hit the warts.<p>- make&#x2F;Makefiles aren&#x27;t standardized, which is why automake exists. So now you&#x27;re not writing Makefiles, but templates and generating the actual makefile. This doesn&#x27;t matter if you own the whole toolchain, but most people don&#x27;t, so this is what some folks do to guarantee their Makefiles are portable.<p>- make cannot do any kind of dependency resolution, it assumes that whatever you need is right there. That leads to configure scripts, which like makefiles, are not standard, so you use autoconf&#x2F;autoreconf to generate the configure script that runs before you can even run a target with make.<p>- make (and adjacent tools like automake&#x2F;autoconf&#x2F;autorefconf) use mtime to determine if inputs are out of date. You can get into situations where building anything is impossible because inputs are out of date and running autoconf&#x2F;autoreconf&#x2F;automake&#x2F;configure leaves them permanently out of date. (fwiw, many build systems can get away with using mtime if they can do proper dependency tracking)<p>All in all the fundamental design flaw with make is that it&#x27;s built with the unix philosophy in mind: do one thing well, which is &quot;rebuild targets if their inputs are out of date.&quot; However this is an extremely limited tool and modern build systems have to do a lot of work on top to make it useful as more than a basic task runner.</div><br/><div id="41607838" class="c"><input type="checkbox" id="c-41607838" checked=""/><div class="controls bullet"><span class="by">computerfriend</span><span>|</span><a href="#41607681">parent</a><span>|</span><a href="#41608180">next</a><span>|</span><label class="collapse" for="c-41607838">[-]</label><label class="expand" for="c-41607838">[2 more]</label></div><br/><div class="children"><div class="content">&gt; make cannot do any kind of dependency resolution<p><pre><code>    dependency:
        ...
    
    target: dependency
        ...</code></pre></div><br/><div id="41607889" class="c"><input type="checkbox" id="c-41607889" checked=""/><div class="controls bullet"><span class="by">duped</span><span>|</span><a href="#41607681">root</a><span>|</span><a href="#41607838">parent</a><span>|</span><a href="#41608180">next</a><span>|</span><label class="collapse" for="c-41607889">[-]</label><label class="expand" for="c-41607889">[1 more]</label></div><br/><div class="children"><div class="content">Tracking build targets is not dependency management except with handwaving</div><br/></div></div></div></div><div id="41608180" class="c"><input type="checkbox" id="c-41608180" checked=""/><div class="controls bullet"><span class="by">teo_zero</span><span>|</span><a href="#41607681">parent</a><span>|</span><a href="#41607838">prev</a><span>|</span><a href="#41607718">next</a><span>|</span><label class="collapse" for="c-41608180">[-]</label><label class="expand" for="c-41608180">[1 more]</label></div><br/><div class="children"><div class="content">&gt; make cannot do any kind of dependency resolution<p>Ignorant&#x27;s question: isn&#x27;t dependency resolution the core of make? What are you referring to here?</div><br/></div></div><div id="41607718" class="c"><input type="checkbox" id="c-41607718" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41607681">parent</a><span>|</span><a href="#41608180">prev</a><span>|</span><a href="#41608005">next</a><span>|</span><label class="collapse" for="c-41607718">[-]</label><label class="expand" for="c-41607718">[1 more]</label></div><br/><div class="children"><div class="content">&gt; make cannot do any kind of dependency resolution, it assumes that whatever you need is right there. That leads to configure scripts, which like makefiles, are not standard<p>The ancient convention there is &quot;make configure&quot;, which sets up whatever &quot;make [build]&quot; needs.</div><br/></div></div><div id="41608005" class="c"><input type="checkbox" id="c-41608005" checked=""/><div class="controls bullet"><span class="by">evilotto</span><span>|</span><a href="#41607681">parent</a><span>|</span><a href="#41607718">prev</a><span>|</span><a href="#41607531">next</a><span>|</span><label class="collapse" for="c-41608005">[-]</label><label class="expand" for="c-41608005">[1 more]</label></div><br/><div class="children"><div class="content">the only thing I really miss in make is the ability to resolve mtime as something other than mtime.  So I resort to using touchfiles which are gross but still work better than a lot of other things (I&#x27;m looking at you, docker build caching).</div><br/></div></div></div></div><div id="41607531" class="c"><input type="checkbox" id="c-41607531" checked=""/><div class="controls bullet"><span class="by">AdamJacobMuller</span><span>|</span><a href="#41607681">prev</a><span>|</span><a href="#41607497">next</a><span>|</span><label class="collapse" for="c-41607531">[-]</label><label class="expand" for="c-41607531">[4 more]</label></div><br/><div class="children"><div class="content">Agree with the sentiment here but I&#x27;ve been rewriting lots of things to use Justfiles instead<p><a href="https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just">https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just</a><p>Avoids lots of weird makefileisims</div><br/><div id="41607546" class="c"><input type="checkbox" id="c-41607546" checked=""/><div class="controls bullet"><span class="by">OutOfHere</span><span>|</span><a href="#41607531">parent</a><span>|</span><a href="#41607565">next</a><span>|</span><label class="collapse" for="c-41607546">[-]</label><label class="expand" for="c-41607546">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s true, although GPT has given Makefiles a second life by helping write them, delaying their demise.</div><br/></div></div><div id="41607565" class="c"><input type="checkbox" id="c-41607565" checked=""/><div class="controls bullet"><span class="by">metaltyphoon</span><span>|</span><a href="#41607531">parent</a><span>|</span><a href="#41607546">prev</a><span>|</span><a href="#41607497">next</a><span>|</span><label class="collapse" for="c-41607565">[-]</label><label class="expand" for="c-41607565">[1 more]</label></div><br/><div class="children"><div class="content">Same. Bonus that the same file works on Windows too</div><br/></div></div></div></div><div id="41607497" class="c"><input type="checkbox" id="c-41607497" checked=""/><div class="controls bullet"><span class="by">norir</span><span>|</span><a href="#41607531">prev</a><span>|</span><a href="#41608227">next</a><span>|</span><label class="collapse" for="c-41607497">[-]</label><label class="expand" for="c-41607497">[4 more]</label></div><br/><div class="children"><div class="content">For me, make has two fatal flaws:
1) the lack of a builtin scripting language
2) poor recursion support<p>The problem with the lack of a scripting language is that I either have to do horrible shell contortions to do simple things like using a temporary file in a recipe or write a standalone script that doesn&#x27;t live in the Makefile which is needless indirection. This is exacerbated by Make interpreting newlines in the recipe as a separate shell invocation, which I consider a poor design choice. It also requires needless forking for many small tasks which could be done more efficiently in process.<p>The lack of proper recursion means that I either have to use recursive make, which is largely considered an anti-pattern, or I have to use a flat directory structure.<p>What Make does have going for it is ubiquity and good performance for small projects. It is the tool most projects should probably start with and only switch to something more advanced when its scalability issues become a genuine problem.</div><br/><div id="41607528" class="c"><input type="checkbox" id="c-41607528" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#41607497">parent</a><span>|</span><a href="#41608227">next</a><span>|</span><label class="collapse" for="c-41607528">[-]</label><label class="expand" for="c-41607528">[3 more]</label></div><br/><div class="children"><div class="content">You can use .ONESHELL: to switch to the shell behavior you are wanting.<p><a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;make&#x2F;manual&#x2F;html_node&#x2F;One-Shell.html" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;make&#x2F;manual&#x2F;html_node&#x2F;One-Shell...</a></div><br/><div id="41607921" class="c"><input type="checkbox" id="c-41607921" checked=""/><div class="controls bullet"><span class="by">spc476</span><span>|</span><a href="#41607497">root</a><span>|</span><a href="#41607528">parent</a><span>|</span><a href="#41608227">next</a><span>|</span><label class="collapse" for="c-41607921">[-]</label><label class="expand" for="c-41607921">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s for GNU make, not POSIX make [1].  For some people, they either won&#x27;t, or can&#x27;t, use GNU make.<p>[1] <a href="https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9799919799&#x2F;utilities&#x2F;make.html" rel="nofollow">https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9799919799&#x2F;utilities&#x2F;m...</a></div><br/><div id="41608016" class="c"><input type="checkbox" id="c-41608016" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#41607497">root</a><span>|</span><a href="#41607921">parent</a><span>|</span><a href="#41608227">next</a><span>|</span><label class="collapse" for="c-41608016">[-]</label><label class="expand" for="c-41608016">[1 more]</label></div><br/><div class="children"><div class="content">Who even implements an alternative implementation to GNU make? FWIW, no one &quot;can&#x27;t&quot; use GNU make... even Apple uses GNU make (hell: they even <i>ship</i> GNU make, lol).</div><br/></div></div></div></div></div></div></div></div><div id="41608227" class="c"><input type="checkbox" id="c-41608227" checked=""/><div class="controls bullet"><span class="by">kitd</span><span>|</span><a href="#41607497">prev</a><span>|</span><a href="#41607521">next</a><span>|</span><label class="collapse" for="c-41608227">[-]</label><label class="expand" for="c-41608227">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t often interact with make files so when I do,  I usually need to have a reference at hand. This is the best I&#x27;ve found yet:<p><a href="https:&#x2F;&#x2F;makefiletutorial.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;makefiletutorial.com&#x2F;</a></div><br/></div></div><div id="41607521" class="c"><input type="checkbox" id="c-41607521" checked=""/><div class="controls bullet"><span class="by">happy_bzy</span><span>|</span><a href="#41608227">prev</a><span>|</span><a href="#41608326">next</a><span>|</span><label class="collapse" for="c-41607521">[-]</label><label class="expand" for="c-41607521">[4 more]</label></div><br/><div class="children"><div class="content">In those cases, what author really needs is just[1] not make.<p>[1] <a href="https:&#x2F;&#x2F;just.systems&#x2F;man&#x2F;en&#x2F;" rel="nofollow">https:&#x2F;&#x2F;just.systems&#x2F;man&#x2F;en&#x2F;</a></div><br/><div id="41607552" class="c"><input type="checkbox" id="c-41607552" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#41607521">parent</a><span>|</span><a href="#41608326">next</a><span>|</span><label class="collapse" for="c-41607552">[-]</label><label class="expand" for="c-41607552">[3 more]</label></div><br/><div class="children"><div class="content">just is just another dependency. make is available everywhere</div><br/><div id="41607601" class="c"><input type="checkbox" id="c-41607601" checked=""/><div class="controls bullet"><span class="by">OutOfHere</span><span>|</span><a href="#41607521">root</a><span>|</span><a href="#41607552">parent</a><span>|</span><a href="#41607579">next</a><span>|</span><label class="collapse" for="c-41607601">[-]</label><label class="expand" for="c-41607601">[1 more]</label></div><br/><div class="children"><div class="content">Make is available in a lot of places, but not everywhere. It has to explicitly be installed in containers and in some distributions.</div><br/></div></div><div id="41607579" class="c"><input type="checkbox" id="c-41607579" checked=""/><div class="controls bullet"><span class="by">metaltyphoon</span><span>|</span><a href="#41607521">root</a><span>|</span><a href="#41607552">parent</a><span>|</span><a href="#41607601">prev</a><span>|</span><a href="#41608326">next</a><span>|</span><label class="collapse" for="c-41607579">[-]</label><label class="expand" for="c-41607579">[1 more]</label></div><br/><div class="children"><div class="content">I rather have one justfile than have one make and another nmake to support Windows</div><br/></div></div></div></div></div></div><div id="41608326" class="c"><input type="checkbox" id="c-41608326" checked=""/><div class="controls bullet"><span class="by">pletnes</span><span>|</span><a href="#41607521">prev</a><span>|</span><a href="#41608292">next</a><span>|</span><label class="collapse" for="c-41608326">[-]</label><label class="expand" for="c-41608326">[4 more]</label></div><br/><div class="children"><div class="content">I agree with everything, except that I moved to just, which runs fine on win&#x2F;mac&#x2F;nix and is a single-file no-dependency task runner made for this use case. It irons over a lot of warts like working directory, loads dotenv files, lets you write multiline scripts, it’s just magic.</div><br/><div id="41608328" class="c"><input type="checkbox" id="c-41608328" checked=""/><div class="controls bullet"><span class="by">pletnes</span><span>|</span><a href="#41608326">parent</a><span>|</span><a href="#41608292">next</a><span>|</span><label class="collapse" for="c-41608328">[-]</label><label class="expand" for="c-41608328">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just">https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just</a><p><a href="https:&#x2F;&#x2F;just.systems&#x2F;" rel="nofollow">https:&#x2F;&#x2F;just.systems&#x2F;</a></div><br/><div id="41608366" class="c"><input type="checkbox" id="c-41608366" checked=""/><div class="controls bullet"><span class="by">nsonha</span><span>|</span><a href="#41608326">root</a><span>|</span><a href="#41608328">parent</a><span>|</span><a href="#41608292">next</a><span>|</span><label class="collapse" for="c-41608366">[-]</label><label class="expand" for="c-41608366">[2 more]</label></div><br/><div class="children"><div class="content">Stop spamming the thread with petty tool people don&#x27;t actually need.</div><br/><div id="41608374" class="c"><input type="checkbox" id="c-41608374" checked=""/><div class="controls bullet"><span class="by">pletnes</span><span>|</span><a href="#41608326">root</a><span>|</span><a href="#41608366">parent</a><span>|</span><a href="#41608292">next</a><span>|</span><label class="collapse" for="c-41608374">[-]</label><label class="expand" for="c-41608374">[1 more]</label></div><br/><div class="children"><div class="content">Just really is great, you should just give just a try. I put all the project-specific incantations in my Justfile and save my teammates lots of typing and copy-pasta.</div><br/></div></div></div></div></div></div></div></div><div id="41608292" class="c"><input type="checkbox" id="c-41608292" checked=""/><div class="controls bullet"><span class="by">alex-moon</span><span>|</span><a href="#41608326">prev</a><span>|</span><a href="#41607747">next</a><span>|</span><label class="collapse" for="c-41608292">[-]</label><label class="expand" for="c-41608292">[2 more]</label></div><br/><div class="children"><div class="content">I also use make this way and have done for years. I even have the same kind of religious ritual the author has, like writing the Makefile is part of setting up the codebase and organising in my own head how the whole local dev environment is going to work.<p>The only thing is, this isn&#x27;t what make is actually for. A number of commenters have recommended Just - the one I&#x27;ve been using on my personal projects is Task - <a href="https:&#x2F;&#x2F;taskfile.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;taskfile.dev&#x2F;</a> - which is pretty great. As other commenters have said, the problem is that make is installed everywhere already. I would love to see a task runner become standard to the same extent, and will have a look at Just if that&#x27;s the one people are using.</div><br/><div id="41608338" class="c"><input type="checkbox" id="c-41608338" checked=""/><div class="controls bullet"><span class="by">pletnes</span><span>|</span><a href="#41608292">parent</a><span>|</span><a href="#41607747">next</a><span>|</span><label class="collapse" for="c-41608338">[-]</label><label class="expand" for="c-41608338">[1 more]</label></div><br/><div class="children"><div class="content">Thing is, make is not readily available on windows. It should’ve been in git bash, in my opinion, but just fills the gap in a cross-platform way</div><br/></div></div></div></div><div id="41607747" class="c"><input type="checkbox" id="c-41607747" checked=""/><div class="controls bullet"><span class="by">sfink</span><span>|</span><a href="#41608292">prev</a><span>|</span><a href="#41607786">next</a><span>|</span><label class="collapse" for="c-41607747">[-]</label><label class="expand" for="c-41607747">[2 more]</label></div><br/><div class="children"><div class="content">I do this a fair amount as well. It&#x27;s really just a way of documenting the configuration and idiosyncratic commands in one place, which happens to be executable. I will happily create (uncommitted) Makefiles with hardcoded paths and keys and things, since otherwise that information would go in my ~&#x2F;NOTES file and there&#x27;s too much in there already. My default target tends to echo out things that I told myself I needed to remember when coming back to the project.<p>As soon as I notice I&#x27;m reaching for anything more than `.PHONY` targets and dead-simple filename dependencies, I stop and do the real build work in something else (callable via a make target, of course!) I know how to do complicated stuff with make, which means that I know I will do it wrong. Repeatedly. Or possibly eventually do it right, but then have to maintain the resulting fire-breathing hairball.<p>(But to those complaining about not marking all the non-file targets `.PHONY`: lighten up. If the correctness matters so much that you&#x27;re going to be messed up by a file named `all` or `build` or whatever, you&#x27;ve probably already gone too far down the rabbit hole and should switch to something else.)</div><br/><div id="41607839" class="c"><input type="checkbox" id="c-41607839" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607747">parent</a><span>|</span><a href="#41607786">next</a><span>|</span><label class="collapse" for="c-41607839">[-]</label><label class="expand" for="c-41607839">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If the correctness matters so much that you&#x27;re going to be messed up by a file named `all` or `build`...<p>That&#x27;s not the problém. _We_ know what &quot;dev is already up to dáte&quot; means, but chances are people who don&#x27;t know about `.PHONY` don&#x27;t.</div><br/></div></div></div></div><div id="41607786" class="c"><input type="checkbox" id="c-41607786" checked=""/><div class="controls bullet"><span class="by">ac130kz</span><span>|</span><a href="#41607747">prev</a><span>|</span><a href="#41607911">next</a><span>|</span><label class="collapse" for="c-41607786">[-]</label><label class="expand" for="c-41607786">[2 more]</label></div><br/><div class="children"><div class="content">I do like &quot;just&quot; being suggested, but I strongly prefer using a very simple bash run script for tasks that do not require &quot;make&quot;&#x27;s extras, especially given that most modern build tools do parallelism and artifact caching internally.<p>Inspired by:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;adriancooney&#x2F;Taskfile">https:&#x2F;&#x2F;github.com&#x2F;adriancooney&#x2F;Taskfile</a><p><a href="https:&#x2F;&#x2F;death.andgravity.com&#x2F;run-sh" rel="nofollow">https:&#x2F;&#x2F;death.andgravity.com&#x2F;run-sh</a></div><br/><div id="41608019" class="c"><input type="checkbox" id="c-41608019" checked=""/><div class="controls bullet"><span class="by">morningsam</span><span>|</span><a href="#41607786">parent</a><span>|</span><a href="#41607911">next</a><span>|</span><label class="collapse" for="c-41608019">[-]</label><label class="expand" for="c-41608019">[1 more]</label></div><br/><div class="children"><div class="content">I would theoretically prefer that as well, but it doesn&#x27;t give you shell completion of targets&#x2F;tasks for free like Make does. So for &quot;UX parity&quot;, you&#x27;d also have to write a completion script and get users to source it into their shells somehow, which isn&#x27;t great.</div><br/></div></div></div></div><div id="41607911" class="c"><input type="checkbox" id="c-41607911" checked=""/><div class="controls bullet"><span class="by">dented42</span><span>|</span><a href="#41607786">prev</a><span>|</span><a href="#41607172">next</a><span>|</span><label class="collapse" for="c-41607911">[-]</label><label class="expand" for="c-41607911">[1 more]</label></div><br/><div class="children"><div class="content">Make has been my favourite unix tool for years and a really useful tool to have in your pocket. It’s simple, elegant, and powerful.</div><br/></div></div><div id="41607172" class="c"><input type="checkbox" id="c-41607172" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#41607911">prev</a><span>|</span><a href="#41607449">next</a><span>|</span><label class="collapse" for="c-41607172">[-]</label><label class="expand" for="c-41607172">[1 more]</label></div><br/><div class="children"><div class="content">I used to hate makefiles, but really I just hated the way C&#x2F;C++ make it a manual task to decide what to compile, as opposed to something like Python modules.<p>Now I love Make, for non-C work.</div><br/></div></div><div id="41607449" class="c"><input type="checkbox" id="c-41607449" checked=""/><div class="controls bullet"><span class="by">deepsun</span><span>|</span><a href="#41607172">prev</a><span>|</span><a href="#41607633">next</a><span>|</span><label class="collapse" for="c-41607449">[-]</label><label class="expand" for="c-41607449">[1 more]</label></div><br/><div class="children"><div class="content">Same things can be said about shell scripts in a bin&#x2F; folder.</div><br/></div></div><div id="41607633" class="c"><input type="checkbox" id="c-41607633" checked=""/><div class="controls bullet"><span class="by">MrVandemar</span><span>|</span><a href="#41607449">prev</a><span>|</span><a href="#41607746">next</a><span>|</span><label class="collapse" for="c-41607633">[-]</label><label class="expand" for="c-41607633">[10 more]</label></div><br/><div class="children"><div class="content">I instictively know that makefiles would make a lot of things easier, but I&#x27;ve never found the right tutorial that would help me understand them. I&#x27;m not a &#x27;C&#x27; programmer, and so much seems weighted to the idea that you&#x27;re generating object files and linking and producing a.out.<p>Any good tutorials or resources for learning that show a broader applicability for makefiles?</div><br/><div id="41607787" class="c"><input type="checkbox" id="c-41607787" checked=""/><div class="controls bullet"><span class="by">rramadass</span><span>|</span><a href="#41607633">parent</a><span>|</span><a href="#41607812">next</a><span>|</span><label class="collapse" for="c-41607787">[-]</label><label class="expand" for="c-41607787">[1 more]</label></div><br/><div class="children"><div class="content">Some simple examples : <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;101986&#x2F;what-are-the-other-uses-of-the-make-command" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;101986&#x2F;what-are-the-othe...</a> and <a href="https:&#x2F;&#x2F;ivan.sh&#x2F;make&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ivan.sh&#x2F;make&#x2F;</a><p>A good detailed example; <i>Using GNU Make to Manage the Workflow of Data Analysis Projects</i> (pdf) here : <a href="https:&#x2F;&#x2F;www.jstatsoft.org&#x2F;article&#x2F;download&#x2F;v094c01&#x2F;1368" rel="nofollow">https:&#x2F;&#x2F;www.jstatsoft.org&#x2F;article&#x2F;download&#x2F;v094c01&#x2F;1368</a><p>More generally, also take a look at how to use Unix Tools effectively, see; <i>Unix : Concepts and Applications by Sumitabha Das</i> and <i>The Unix Programming Environment by Kernighan &amp; Pike.</i></div><br/></div></div><div id="41607812" class="c"><input type="checkbox" id="c-41607812" checked=""/><div class="controls bullet"><span class="by">hgs3</span><span>|</span><a href="#41607633">parent</a><span>|</span><a href="#41607787">prev</a><span>|</span><a href="#41607759">next</a><span>|</span><label class="collapse" for="c-41607812">[-]</label><label class="expand" for="c-41607812">[6 more]</label></div><br/><div class="children"><div class="content">There is much misunderstanding about Makefiles, what they are, and what they are not. Make is not a &quot;programming language build system&quot; as some would imply, but rather a recipe builder. With Make you provide the file you want built, the shell commands to build it, and any files the build depends on.<p>Here&#x27;s a simple example to get you started. Create a file named &quot;Makefile&quot; with the following text and an empty file alongside it named foo.txt.<p><pre><code>    bar.txt: foo.txt
        cp foo.txt bar.txt
</code></pre>
When you run the &quot;make&quot; command in your shell it will check if the &quot;bar.txt&quot; file exists. If it does not exist OR if &quot;foo.txt&quot; has a newer timestamp, then it will rebuild &quot;bar.txt&quot; by executing the tab indented shell commands underneath. In this case, the only shell command used is the &#x27;cp&#x27; command. In the linked article the author invokes npm, bundler, and netlify.<p>When people use Make to compile their C code they are simply invoking the C compiler just like they would any other shell command. You might have seen something in a Makefile that looks like this:<p><pre><code>    foobar.o: foobar.c
        gcc -c foobar.c
</code></pre>
This is just saying: &quot;The output file &#x27;foobar.o&#x27; depends on the input file &#x27;foobar.c&#x27; and to build &#x27;foobar.o&#x27; run the shell command &#x27;gcc -c foobar.c&#x27;&quot; which is conceptually the same as my previous example were we built &quot;bar.txt&quot;. Since explicitly listing every .o and .c file in a Makefile is tedious, many authors opt for wildcards.<p>I hope this helped!</div><br/><div id="41607841" class="c"><input type="checkbox" id="c-41607841" checked=""/><div class="controls bullet"><span class="by">Jach</span><span>|</span><a href="#41607633">root</a><span>|</span><a href="#41607812">parent</a><span>|</span><a href="#41607759">next</a><span>|</span><label class="collapse" for="c-41607841">[-]</label><label class="expand" for="c-41607841">[5 more]</label></div><br/><div class="children"><div class="content">&gt; When you run the &quot;make&quot; command in your shell it will check if the &quot;bar.txt&quot; file exists.<p>I got to this point and ran into an error: Makefile:2: *** missing separator.  Stop.<p>Ok I&#x27;m just giving you a hard time, and you mention right after the existence of &quot;tab indented&quot; so whatever. Still it&#x27;s one of the things I detest on an aesthetic level about make, even if my editor has special syntax support for makefiles to handle this archaic requirement of actual tabs without me ever having to worry about it in practice.</div><br/><div id="41608045" class="c"><input type="checkbox" id="c-41608045" checked=""/><div class="controls bullet"><span class="by">evilotto</span><span>|</span><a href="#41607633">root</a><span>|</span><a href="#41607841">parent</a><span>|</span><a href="#41607873">next</a><span>|</span><label class="collapse" for="c-41608045">[-]</label><label class="expand" for="c-41608045">[2 more]</label></div><br/><div class="children"><div class="content">I have a suspicion that a lot of people who rant about makefiles using tabs also praise python for the brilliance of using whitespace for scoping.     Or who love yaml for its indented block structure.<p>Nah, who am I kidding ... no one loves yaml, it&#x27;s just better than most of the alternatives.</div><br/><div id="41608106" class="c"><input type="checkbox" id="c-41608106" checked=""/><div class="controls bullet"><span class="by">Jach</span><span>|</span><a href="#41607633">root</a><span>|</span><a href="#41608045">parent</a><span>|</span><a href="#41607873">next</a><span>|</span><label class="collapse" for="c-41608106">[-]</label><label class="expand" for="c-41608106">[1 more]</label></div><br/><div class="children"><div class="content">I quite like python&#x27;s whitespace requirements, but notably it doesn&#x27;t care what your stance is on tabs vs spaces, or how many spaces, so long as you&#x27;re consistent in a block. Never liked yaml, though, I don&#x27;t think it&#x27;s better than any of the alternatives.</div><br/></div></div></div></div><div id="41607873" class="c"><input type="checkbox" id="c-41607873" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41607633">root</a><span>|</span><a href="#41607841">parent</a><span>|</span><a href="#41608045">prev</a><span>|</span><a href="#41607759">next</a><span>|</span><label class="collapse" for="c-41607873">[-]</label><label class="expand" for="c-41607873">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Still it&#x27;s one of the things I detest on an aesthetic level about make<p>There&#x27;s a little-known variable called .RECIPEPREFIX that lets you switch from tabs to anything else.  Probably a bad idea to use it in anything shared with anyone else.</div><br/><div id="41607922" class="c"><input type="checkbox" id="c-41607922" checked=""/><div class="controls bullet"><span class="by">spc476</span><span>|</span><a href="#41607633">root</a><span>|</span><a href="#41607873">parent</a><span>|</span><a href="#41607759">next</a><span>|</span><label class="collapse" for="c-41607922">[-]</label><label class="expand" for="c-41607922">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s for GNU make, not POSIX make [1].  For some people, they either won&#x27;t, or can&#x27;t, use GNU make.<p>[1] <a href="https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9799919799&#x2F;utilities&#x2F;make.html" rel="nofollow">https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9799919799&#x2F;utilities&#x2F;m...</a></div><br/></div></div></div></div></div></div></div></div><div id="41607759" class="c"><input type="checkbox" id="c-41607759" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#41607633">parent</a><span>|</span><a href="#41607812">prev</a><span>|</span><a href="#41607769">next</a><span>|</span><label class="collapse" for="c-41607759">[-]</label><label class="expand" for="c-41607759">[1 more]</label></div><br/><div class="children"><div class="content">unironically, the info manual. It&#x27;s great.<p>the philosophical &quot;c&quot; centredness is true, but doesn&#x27;t get in the way of using other languages. (there&#x27;s things like indirect rules for compiling .c files auromatically for instance, but even this can be turned off)</div><br/></div></div><div id="41607769" class="c"><input type="checkbox" id="c-41607769" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41607633">parent</a><span>|</span><a href="#41607759">prev</a><span>|</span><a href="#41607746">next</a><span>|</span><label class="collapse" for="c-41607769">[-]</label><label class="expand" for="c-41607769">[1 more]</label></div><br/><div class="children"><div class="content">&gt; and so much seems weighted to the idea that you&#x27;re generating object files and linking and producing a.out.<p>Well that&#x27;s kind of wrong (it&#x27;s used for that but that&#x27;s an extremely limited viewpoint).  Here&#x27;s a short introduction to get started:<p><pre><code>  foo: bar
      baz
</code></pre>
This means &quot;whenever bar has been updated, create or recreate foo by running baz&quot;.  You run it with &quot;make foo&quot;, and make will run &quot;baz&quot; by default in &quot;sh&quot;.<p>Here&#x27;s an example in a totally different context:<p><pre><code>  .PHONY: build
  build: node_modules

  node_modules: package.json yarn.lock
      yarn install
      touch node_modules
</code></pre>
With this, when you run &quot;make build&quot;, it&#x27;ll only do &quot;yarn install&quot; if node_modules&#x27;s last-modified timestamp is older than both package.json and yarn.lock.  The touch is there to mark it updated for the next time you run &quot;make build&quot;, so it knows it doesn&#x27;t have to do anything.  Normally you wouldn&#x27;t have to do that but make assumes the commands given will update the file, and &quot;yarn install&quot; won&#x27;t necessarily update the directory&#x27;s last-modified time.<p>This example isn&#x27;t terribly useful because &quot;yarn install&quot; is fast and doesn&#x27;t do anything itself when it&#x27;s up-to-date, but it should give ideas about how flexible make actually is.<p>One of the big criticisms of how people use &quot;make&quot;, and why people recommend things like &quot;just&quot; instead, is they don&#x27;t bother to use that functionality (or any of the piles of stuff built on top of it like pattern matching) and would have just done:<p><pre><code>  build:
      yarn install
</code></pre>
...which appears to be how OP uses it.</div><br/></div></div></div></div><div id="41607746" class="c"><input type="checkbox" id="c-41607746" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#41607633">prev</a><span>|</span><a href="#41607573">next</a><span>|</span><label class="collapse" for="c-41607746">[-]</label><label class="expand" for="c-41607746">[2 more]</label></div><br/><div class="children"><div class="content">Why use Make if they already use Gulp? Why not put that in `package.json`&#x27;s `script` stanza?
And never ever use Make as a script runner without declaring the targets `.PHONY`, there will be a day when somebody has a directory (or file) named `build` or `dev` in their project root.</div><br/><div id="41607773" class="c"><input type="checkbox" id="c-41607773" checked=""/><div class="controls bullet"><span class="by">sfink</span><span>|</span><a href="#41607746">parent</a><span>|</span><a href="#41607573">next</a><span>|</span><label class="collapse" for="c-41607773">[-]</label><label class="expand" for="c-41607773">[1 more]</label></div><br/><div class="children"><div class="content">Because my Rust, Python, bash, Perl, etc. projects aren&#x27;t impressed with the `package.json` file I wave at them. Especially before I&#x27;ve installed npm or any other JS runtime on my system (let alone Gulp).<p>As the article said, it&#x27;s generally installed everywhere as soon as you install any dev-related stuff. So is bash, but it&#x27;s a little clunkier for very basic usage. (`if [[ $1 = build ]]; then...`)</div><br/></div></div></div></div><div id="41607573" class="c"><input type="checkbox" id="c-41607573" checked=""/><div class="controls bullet"><span class="by">staticshock</span><span>|</span><a href="#41607746">prev</a><span>|</span><a href="#41608126">next</a><span>|</span><label class="collapse" for="c-41607573">[-]</label><label class="expand" for="c-41607573">[2 more]</label></div><br/><div class="children"><div class="content">I love makefiles as well and do something similar to OP: for every repo I contribute to, especially if it&#x27;s not one of mine, I&#x27;ll create an uncommitted makefile to track all the shell commands that add up to my workflow within that codebase.<p>The ability to create dependencies between targets is the cherry on top, but the main value is just the ability to create a cheat sheet of shell snippets accessible via `make &lt;target&gt;` from the root of the repo.<p>Such a makefile is always (1) version controlled as a secret github gist (though, as personal rule, i never hardcode secrets into it), (2) committed &amp; pushed on `make` (3) git ignored via `.git&#x2F;info&#x2F;exclude`. This has worked quite well for me.<p>One downside with this approach is that the best syntax for passing parameters down to the target from the shell is to use environment variables, which is a little awkward. `NAME=value make target` is less pleasant than `make target --name=value` would have been.</div><br/><div id="41607828" class="c"><input type="checkbox" id="c-41607828" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41607573">parent</a><span>|</span><a href="#41608126">next</a><span>|</span><label class="collapse" for="c-41607828">[-]</label><label class="expand" for="c-41607828">[1 more]</label></div><br/><div class="children"><div class="content">Take out the dashes and that&#x27;s a supported syntax for overriding variables:<p><pre><code>  NAME := foo
  test:
      echo &quot;name is $(NAME)&quot;


  $ make test
  echo name is foo
  name is foo
  $ make test NAME=bar
  echo name is bar
  name is bar</code></pre></div><br/></div></div></div></div><div id="41608126" class="c"><input type="checkbox" id="c-41608126" checked=""/><div class="controls bullet"><span class="by">Groxx</span><span>|</span><a href="#41607573">prev</a><span>|</span><a href="#41607996">next</a><span>|</span><label class="collapse" for="c-41608126">[-]</label><label class="expand" for="c-41608126">[1 more]</label></div><br/><div class="children"><div class="content">Make is great.<p>When even a simple one misbehaves, like it almost always does, I get to spend a solid chunk of time ignoring my actual goals to play with a bit of computing history.<p>And then I get to do it all over again a month later, when it breaks in yet another new way.</div><br/></div></div><div id="41607996" class="c"><input type="checkbox" id="c-41607996" checked=""/><div class="controls bullet"><span class="by">leiserfg</span><span>|</span><a href="#41608126">prev</a><span>|</span><a href="#41607945">next</a><span>|</span><label class="collapse" for="c-41607996">[-]</label><label class="expand" for="c-41607996">[1 more]</label></div><br/><div class="children"><div class="content">I &quot;hate&quot; Makefiles, for building it&#x27;s faster to use meson, zig build, cmake+ninja. For this use case, <a href="https:&#x2F;&#x2F;github.com&#x2F;adriancooney&#x2F;Taskfile">https:&#x2F;&#x2F;github.com&#x2F;adriancooney&#x2F;Taskfile</a> is way more flexible and you don&#x27;t need to mess with PHONY rules.</div><br/></div></div><div id="41607945" class="c"><input type="checkbox" id="c-41607945" checked=""/><div class="controls bullet"><span class="by">dumpstate</span><span>|</span><a href="#41607996">prev</a><span>|</span><a href="#41608250">next</a><span>|</span><label class="collapse" for="c-41607945">[-]</label><label class="expand" for="c-41607945">[1 more]</label></div><br/><div class="children"><div class="content">I went through a similar phase of excitement, but then realised it&#x27;s a confusing layer of indirection on top of &#x27;whatever-your-project-default-is&#x27; (e.g. npm + package.json). But I always need Make for BE+FE (small) projects, e.g. backend build with go and frontend is an SPA - this is where the power of Make to track dependencies really shines.</div><br/></div></div><div id="41608250" class="c"><input type="checkbox" id="c-41608250" checked=""/><div class="controls bullet"><span class="by">iblaine</span><span>|</span><a href="#41607945">prev</a><span>|</span><a href="#41608021">next</a><span>|</span><label class="collapse" for="c-41608250">[-]</label><label class="expand" for="c-41608250">[1 more]</label></div><br/><div class="children"><div class="content">The correct answer is I don’t like makefiles when they are abused. They have no state yet people try use them as such and create pain for others.</div><br/></div></div><div id="41608021" class="c"><input type="checkbox" id="c-41608021" checked=""/><div class="controls bullet"><span class="by">nobodywillobsrv</span><span>|</span><a href="#41608250">prev</a><span>|</span><a href="#41607732">next</a><span>|</span><label class="collapse" for="c-41608021">[-]</label><label class="expand" for="c-41608021">[1 more]</label></div><br/><div class="children"><div class="content">Makefiles are like exec readme.<p>Put complex stuff in scripts and call script from makefile.</div><br/></div></div><div id="41607732" class="c"><input type="checkbox" id="c-41607732" checked=""/><div class="controls bullet"><span class="by">kickingvegas</span><span>|</span><a href="#41608021">prev</a><span>|</span><a href="#41607788">next</a><span>|</span><label class="collapse" for="c-41607732">[-]</label><label class="expand" for="c-41607732">[1 more]</label></div><br/><div class="children"><div class="content">For me, make is definitely in the “stop worrying and learn to love it” bin. It will outlive all of us, so accept it and move on.</div><br/></div></div><div id="41607788" class="c"><input type="checkbox" id="c-41607788" checked=""/><div class="controls bullet"><span class="by">makapuf</span><span>|</span><a href="#41607732">prev</a><span>|</span><a href="#41607967">next</a><span>|</span><label class="collapse" for="c-41607788">[-]</label><label class="expand" for="c-41607788">[1 more]</label></div><br/><div class="children"><div class="content">Back in the time we had a complex system to prepare content (encoding, metadata extraction, ...), then we tried to shive that to Make: free parallelization, partial remakes when sth went bad, for 1&#x2F;100 the code and almost nothing to install. Throw a GUI to observe the filesystem and voilà. Good times.</div><br/></div></div><div id="41607967" class="c"><input type="checkbox" id="c-41607967" checked=""/><div class="controls bullet"><span class="by">morningsam</span><span>|</span><a href="#41607788">prev</a><span>|</span><a href="#41608237">next</a><span>|</span><label class="collapse" for="c-41607967">[-]</label><label class="expand" for="c-41607967">[1 more]</label></div><br/><div class="children"><div class="content">I kind of knew this was going to be about using make as a &quot;task runner&quot; instead of build system as soon as I read &quot;ten years ago&quot; :-)</div><br/></div></div><div id="41608237" class="c"><input type="checkbox" id="c-41608237" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41607967">prev</a><span>|</span><label class="collapse" for="c-41608237">[-]</label><label class="expand" for="c-41608237">[1 more]</label></div><br/><div class="children"><div class="content">Am I the only one who uses make properly? I don&#x27;t build C projects with it at any more (I used to use autotools for that), I use it like OP does, except I do write PHONY and I do use dependencies. I simply find the declarative way easier than writing a script. I try to avoid scripts whenever there&#x27;s a better tool for the job.</div><br/></div></div></div></div></div></div></div></body></html>