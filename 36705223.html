<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689238853539" as="style"/><link rel="stylesheet" href="styles.css?v=1689238853539"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/rexdex/recompiler">Xbox360 –&gt; Windows Executable Converter (2017)</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>taspeotis</span> | <span>27 comments</span></div><br/><div><div id="36705600" class="c"><input type="checkbox" id="c-36705600" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#36705619">next</a><span>|</span><label class="collapse" for="c-36705600">[-]</label><label class="expand" for="c-36705600">[4 more]</label></div><br/><div class="children"><div class="content">These (incredibly HLE emulators for Microsoft consoles trying to live off the idea &quot;hey, it can&#x27;t be that different than Windows, right?&quot;) emulators like CXBX for the original Xbox don&#x27;t tend to work super well.  There&#x27;s such a huge impedance mismatch between the environments expected by this code versus what actual Xbox hardware can provide (remember that games run in kernel mode and quite a few drivers are statically compiled and optimized into the games) that it&#x27;s just way less surface area to go the full system emulator approach in the first place.<p>So what you see is some tech demo samples perfectly and maybe a couple of bespoke games working OKish, but then the complexity burden overwhelms the project and it kind of stagnates.</div><br/><div id="36705669" class="c"><input type="checkbox" id="c-36705669" checked=""/><div class="controls bullet"><span class="by">Shekelphile</span><span>|</span><a href="#36705600">parent</a><span>|</span><a href="#36705619">next</a><span>|</span><label class="collapse" for="c-36705669">[-]</label><label class="expand" for="c-36705669">[3 more]</label></div><br/><div class="children"><div class="content">This emulator isn&#x27;t taking the &#x27;CXBX approach&#x27;. CXBX does not recompile the binary and relies on common system&#x2F;graphics api calls not being inlined and easily replaceable with windows equivalents, which absolutely doesn&#x27;t exist in any 360 game binary for all the important things.</div><br/><div id="36705977" class="c"><input type="checkbox" id="c-36705977" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#36705600">root</a><span>|</span><a href="#36705669">parent</a><span>|</span><a href="#36705619">next</a><span>|</span><label class="collapse" for="c-36705977">[-]</label><label class="expand" for="c-36705977">[2 more]</label></div><br/><div class="children"><div class="content">The point is that it&#x27;s still HLEing all of the imports (like CXBX).  Just going the extra mile and full system emulating pays massive dividends.  No, it&#x27;s not close enough to Windows in super subtle ways, so don&#x27;t take the bait of the import names being the same.</div><br/><div id="36706415" class="c"><input type="checkbox" id="c-36706415" checked=""/><div class="controls bullet"><span class="by">Shekelphile</span><span>|</span><a href="#36705600">root</a><span>|</span><a href="#36705977">parent</a><span>|</span><a href="#36705619">next</a><span>|</span><label class="collapse" for="c-36706415">[-]</label><label class="expand" for="c-36706415">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The point is that it&#x27;s still HLEing all of the imports (like CXBX).<p>You have a fundamental misunderstanding here. HLE in the style that CXBX does it is not possible for 360 games as every userland library is static linked and LTCG is enabled by default (maybe required for MS cert?) for release builds. Nearly everything is inlined and impossible to replace with calls to matching windows APIs as a result. Xenia and rexdex both emulate the kernel at the syscall level and don&#x27;t touch userland at all.<p>&gt; Just going the extra mile and full system emulating pays massive dividends.<p>Maybe for security research and correctness purposes, it has little practical value for ps3&#x2F;360 gen emulation and beyond.</div><br/></div></div></div></div></div></div></div></div><div id="36705619" class="c"><input type="checkbox" id="c-36705619" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#36705600">prev</a><span>|</span><a href="#36705622">next</a><span>|</span><label class="collapse" for="c-36705619">[-]</label><label class="expand" for="c-36705619">[3 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>Recompiler: Porting Xbox360 Executables to Windows</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=15474393">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=15474393</a> - Oct 2017 (58 comments)</div><br/><div id="36706084" class="c"><input type="checkbox" id="c-36706084" checked=""/><div class="controls bullet"><span class="by">woolion</span><span>|</span><a href="#36705619">parent</a><span>|</span><a href="#36705622">next</a><span>|</span><label class="collapse" for="c-36706084">[-]</label><label class="expand" for="c-36706084">[2 more]</label></div><br/><div class="children"><div class="content">At this point, is it still worth it to post these manually?
Checking all post submissions, keeping only the ones with sufficient engagement, and a little summary line &quot;7 other submissions ignored, the oldest dating from Oct 2018&quot;<p>Maybe I&#x27;m too lazy, but that really sounds like something I would let a computer automatically do.</div><br/><div id="36706385" class="c"><input type="checkbox" id="c-36706385" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#36705619">root</a><span>|</span><a href="#36706084">parent</a><span>|</span><a href="#36705622">next</a><span>|</span><label class="collapse" for="c-36706385">[-]</label><label class="expand" for="c-36706385">[1 more]</label></div><br/><div class="children"><div class="content">Technologically the task can be automated by scraping each submission when it’s submitted, calculate the sentence embeddings of the article, and compare the new submissions with other embeddings. However, that’s how you become a Facebook style social network with “more you might like” and whatnot.</div><br/></div></div></div></div></div></div><div id="36705622" class="c"><input type="checkbox" id="c-36705622" checked=""/><div class="controls bullet"><span class="by">bob-09</span><span>|</span><a href="#36705619">prev</a><span>|</span><a href="#36705757">next</a><span>|</span><label class="collapse" for="c-36705622">[-]</label><label class="expand" for="c-36705622">[8 more]</label></div><br/><div class="children"><div class="content">Since Xbox360 is PPC, does this convert to x86_64?</div><br/><div id="36706007" class="c"><input type="checkbox" id="c-36706007" checked=""/><div class="controls bullet"><span class="by">deaddodo</span><span>|</span><a href="#36705622">parent</a><span>|</span><a href="#36705981">next</a><span>|</span><label class="collapse" for="c-36706007">[-]</label><label class="expand" for="c-36706007">[6 more]</label></div><br/><div class="children"><div class="content">The main README explains their approach. It disassembles PPC, generates equivalent C++ and compiles that into the target ISA (amd64).</div><br/><div id="36706467" class="c"><input type="checkbox" id="c-36706467" checked=""/><div class="controls bullet"><span class="by">eltoto</span><span>|</span><a href="#36705622">root</a><span>|</span><a href="#36706007">parent</a><span>|</span><a href="#36706254">next</a><span>|</span><label class="collapse" for="c-36706467">[-]</label><label class="expand" for="c-36706467">[3 more]</label></div><br/><div class="children"><div class="content">What is PPC please ? Can&#x27;t find anything</div><br/><div id="36706486" class="c"><input type="checkbox" id="c-36706486" checked=""/><div class="controls bullet"><span class="by">ThePowerOfFuet</span><span>|</span><a href="#36705622">root</a><span>|</span><a href="#36706467">parent</a><span>|</span><a href="#36706484">next</a><span>|</span><label class="collapse" for="c-36706486">[-]</label><label class="expand" for="c-36706486">[1 more]</label></div><br/><div class="children"><div class="content">PowerPC</div><br/></div></div><div id="36706484" class="c"><input type="checkbox" id="c-36706484" checked=""/><div class="controls bullet"><span class="by">recrof</span><span>|</span><a href="#36705622">root</a><span>|</span><a href="#36706467">parent</a><span>|</span><a href="#36706486">prev</a><span>|</span><a href="#36706254">next</a><span>|</span><label class="collapse" for="c-36706484">[-]</label><label class="expand" for="c-36706484">[1 more]</label></div><br/><div class="children"><div class="content">PowerPC</div><br/></div></div></div></div><div id="36706254" class="c"><input type="checkbox" id="c-36706254" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#36705622">root</a><span>|</span><a href="#36706007">parent</a><span>|</span><a href="#36706467">prev</a><span>|</span><a href="#36705981">next</a><span>|</span><label class="collapse" for="c-36706254">[-]</label><label class="expand" for="c-36706254">[2 more]</label></div><br/><div class="children"><div class="content">Is it not completely crazy that this is even possible? This sounds like wizardry to me.</div><br/><div id="36706527" class="c"><input type="checkbox" id="c-36706527" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#36705622">root</a><span>|</span><a href="#36706254">parent</a><span>|</span><a href="#36705981">next</a><span>|</span><label class="collapse" for="c-36706527">[-]</label><label class="expand" for="c-36706527">[1 more]</label></div><br/><div class="children"><div class="content">Qemu does something similar. And Box86 does that while keeping 3D acceleration on converting  X86-&gt;ARM linux binaries.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ptitSeb&#x2F;box86">https:&#x2F;&#x2F;github.com&#x2F;ptitSeb&#x2F;box86</a></div><br/></div></div></div></div></div></div><div id="36705981" class="c"><input type="checkbox" id="c-36705981" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#36705622">parent</a><span>|</span><a href="#36706007">prev</a><span>|</span><a href="#36705757">next</a><span>|</span><label class="collapse" for="c-36705981">[-]</label><label class="expand" for="c-36705981">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it recompiles.</div><br/></div></div></div></div><div id="36705757" class="c"><input type="checkbox" id="c-36705757" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#36705622">prev</a><span>|</span><a href="#36705417">next</a><span>|</span><label class="collapse" for="c-36705757">[-]</label><label class="expand" for="c-36705757">[4 more]</label></div><br/><div class="children"><div class="content">Something like this was even easier for XNA games, since you could download a bundle of C# dlls and exes from your console and then after a quick decryption process, patch them to swap the dependencies. I reverse engineered a couple games this way and was able to boot them part-way within a couple hours (of course, endianness and console-only shader instructions were a problem.)</div><br/><div id="36706399" class="c"><input type="checkbox" id="c-36706399" checked=""/><div class="controls bullet"><span class="by">tomsato</span><span>|</span><a href="#36705757">parent</a><span>|</span><a href="#36706536">next</a><span>|</span><label class="collapse" for="c-36706399">[-]</label><label class="expand" for="c-36706399">[1 more]</label></div><br/><div class="children"><div class="content">I vaguely remember this being done for FEZ back in the day. Funnily enough, the same is true for a number of cross-platform frameworks. One that sticks out was a port of David Cage game (which was largely written in lua) and making huge progress on porting the runtime from PS3 to PC.</div><br/></div></div><div id="36706536" class="c"><input type="checkbox" id="c-36706536" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#36705757">parent</a><span>|</span><a href="#36706399">prev</a><span>|</span><a href="#36705775">next</a><span>|</span><label class="collapse" for="c-36706536">[-]</label><label class="expand" for="c-36706536">[1 more]</label></div><br/><div class="children"><div class="content">Under OpenBSD you still have xnaify to wrap and run C# games with MonoGame or whatever was called.</div><br/></div></div><div id="36705775" class="c"><input type="checkbox" id="c-36705775" checked=""/><div class="controls bullet"><span class="by">heywhatupboys</span><span>|</span><a href="#36705757">parent</a><span>|</span><a href="#36706536">prev</a><span>|</span><a href="#36705417">next</a><span>|</span><label class="collapse" for="c-36705775">[-]</label><label class="expand" for="c-36705775">[1 more]</label></div><br/><div class="children"><div class="content">How I miss XNA</div><br/></div></div></div></div><div id="36705417" class="c"><input type="checkbox" id="c-36705417" checked=""/><div class="controls bullet"><span class="by">Laaas</span><span>|</span><a href="#36705757">prev</a><span>|</span><a href="#36705519">next</a><span>|</span><label class="collapse" for="c-36705417">[-]</label><label class="expand" for="c-36705417">[2 more]</label></div><br/><div class="children"><div class="content">How does this compare with Xenia?</div><br/><div id="36705984" class="c"><input type="checkbox" id="c-36705984" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#36705417">parent</a><span>|</span><a href="#36705519">next</a><span>|</span><label class="collapse" for="c-36705984">[-]</label><label class="expand" for="c-36705984">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t actually run any games.</div><br/></div></div></div></div><div id="36705519" class="c"><input type="checkbox" id="c-36705519" checked=""/><div class="controls bullet"><span class="by">comprev</span><span>|</span><a href="#36705417">prev</a><span>|</span><label class="collapse" for="c-36705519">[-]</label><label class="expand" for="c-36705519">[5 more]</label></div><br/><div class="children"><div class="content">Needs (2002) in the title</div><br/><div id="36705523" class="c"><input type="checkbox" id="c-36705523" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#36705519">parent</a><span>|</span><a href="#36705556">next</a><span>|</span><label class="collapse" for="c-36705523">[-]</label><label class="expand" for="c-36705523">[3 more]</label></div><br/><div class="children"><div class="content">Xbox 360 didn&#x27;t exist until 2005.</div><br/><div id="36706370" class="c"><input type="checkbox" id="c-36706370" checked=""/><div class="controls bullet"><span class="by">tapper</span><span>|</span><a href="#36705519">root</a><span>|</span><a href="#36705523">parent</a><span>|</span><a href="#36705564">prev</a><span>|</span><a href="#36705556">next</a><span>|</span><label class="collapse" for="c-36706370">[-]</label><label class="expand" for="c-36706370">[1 more]</label></div><br/><div class="children"><div class="content">hahahahahahahaha</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>