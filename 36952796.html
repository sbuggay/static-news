<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690880459345" as="style"/><link rel="stylesheet" href="styles.css?v=1690880459345"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/martinvonz/jj">Jujutsu: A Git-compatible DVCS that is both simple and powerful</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>lemper</span> | <span>28 comments</span></div><br/><div><div id="36953914" class="c"><input type="checkbox" id="c-36953914" checked=""/><div class="controls bullet"><span class="by">awestroke</span><span>|</span><a href="#36953795">next</a><span>|</span><label class="collapse" for="c-36953914">[-]</label><label class="expand" for="c-36953914">[1 more]</label></div><br/><div class="children"><div class="content">&quot;working copy is automatically committed&quot; seems like a good idea at first glance, but there are many situations where this is not a good idea:<p>- new artefact files are added and you have not yet added them to .gitignore<p>- when you have added ignored files in one branch and switch to another branch, the files will still be in your working copy but but listed in your .gitignore file, and would then be automatically committed<p>- staging only some files and comitting is much easier than splitting a commit after the fact</div><br/></div></div><div id="36953795" class="c"><input type="checkbox" id="c-36953795" checked=""/><div class="controls bullet"><span class="by">ocharles</span><span>|</span><a href="#36953914">prev</a><span>|</span><a href="#36953899">next</a><span>|</span><label class="collapse" for="c-36953795">[-]</label><label class="expand" for="c-36953795">[2 more]</label></div><br/><div class="children"><div class="content">Nice to see this posted here. I switched over to it about 2-3 weeks ago, and I haven&#x27;t looked back. It took a lot of mental rewiring, but I really enjoy the workflow `jj` provides. There&#x27;s no longer a time to think about what&#x27;s being committed, because all file changes automatically amend the working copy commit. Of course, sometimes you don&#x27;t want this, so you have things like the ability to split a commit into two, moving commits, etc. But having _everything_ operate on commits is really nice! Other niceities that I like:<p>- `jj log` is awesome for getting an overview of all your branches. If, like me, you have a lot of work in progress at once, this provides a great map<p>- Conflict resolution is really cool, as you can partially resolve conflicts, and then switch branches. Conflicts are also tracked specially, but I haven&#x27;t done too much with this yet.<p>- The abbreviated changeset ids are really handy. I often will just `jj log` (or in my case just `jj` as that&#x27;s the default), notice a changeset I want to rebase, then run `jj rebase -s qr -d master`. `qr` here is an abbreviated changeset id for a branch&#x2F;commit, and usually much quicker than typing the branch name out! This will probably change when clap gets updated to support dynamic tab-completion though.</div><br/><div id="36953857" class="c"><input type="checkbox" id="c-36953857" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#36953795">parent</a><span>|</span><a href="#36953899">next</a><span>|</span><label class="collapse" for="c-36953857">[-]</label><label class="expand" for="c-36953857">[1 more]</label></div><br/><div class="children"><div class="content">What happens if you accidentally save a file with some sort of secret that gets sucked in?</div><br/></div></div></div></div><div id="36953899" class="c"><input type="checkbox" id="c-36953899" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#36953795">prev</a><span>|</span><a href="#36953263">next</a><span>|</span><label class="collapse" for="c-36953899">[-]</label><label class="expand" for="c-36953899">[1 more]</label></div><br/><div class="children"><div class="content">Related DVCS: <a href="https:&#x2F;&#x2F;pijul.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;pijul.org&#x2F;</a><p>I need to try it out at $WORK since constant rebasing on a busy repo with a hundred or so committers is not fun.</div><br/></div></div><div id="36953263" class="c"><input type="checkbox" id="c-36953263" checked=""/><div class="controls bullet"><span class="by">teleforce</span><span>|</span><a href="#36953899">prev</a><span>|</span><a href="#36953718">next</a><span>|</span><label class="collapse" for="c-36953263">[-]</label><label class="expand" for="c-36953263">[2 more]</label></div><br/><div class="children"><div class="content">Jujutsu started as author&#x27;s personal project and now author&#x27;s full-time project at Google. It&#x27;s presented at Git Merge 2022:<p>Jujutsu: A Git-Compatible VCS - Git Merge 2022:<p>Video:<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;bx_LGilOuE4" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;bx_LGilOuE4</a><p>Slides:<p><a href="https:&#x2F;&#x2F;docs.google.com&#x2F;presentation&#x2F;d&#x2F;1F8j9_UOOSGUN9MvHxPZX_L4bQ9NMcYOp1isn17kTC_M&#x2F;view" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.google.com&#x2F;presentation&#x2F;d&#x2F;1F8j9_UOOSGUN9MvHxPZX...</a></div><br/><div id="36953715" class="c"><input type="checkbox" id="c-36953715" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#36953263">parent</a><span>|</span><a href="#36953718">next</a><span>|</span><label class="collapse" for="c-36953715">[-]</label><label class="expand" for="c-36953715">[1 more]</label></div><br/><div class="children"><div class="content">&gt; started as author&#x27;s personal project and now author&#x27;s full-time project at Google<p>That&#x27;s got to feel good!</div><br/></div></div></div></div><div id="36953718" class="c"><input type="checkbox" id="c-36953718" checked=""/><div class="controls bullet"><span class="by">vesinisa</span><span>|</span><a href="#36953263">prev</a><span>|</span><a href="#36953886">next</a><span>|</span><label class="collapse" for="c-36953718">[-]</label><label class="expand" for="c-36953718">[1 more]</label></div><br/><div class="children"><div class="content">This looks promising. One question I had after reading about its git compatibility is that they seem mostly focused on the use case where a Jujutsu user accesses a git repository (hosted by e.g. GitHub) with jj. But does it support the converse way of working, i.e. accessing a native Jujutsu repository with git?<p>I ask this because most developers are already quite familiar with the git CLI so in production use one would probably see developers co-working with jj and git in the same codebase. Or would the realistic production scenario be always using git (as opposed to native Jujutsu database) as the backing storage to allow accessing both with git and jj CLIs?</div><br/></div></div><div id="36953886" class="c"><input type="checkbox" id="c-36953886" checked=""/><div class="controls bullet"><span class="by">roytam87</span><span>|</span><a href="#36953718">prev</a><span>|</span><a href="#36953427">next</a><span>|</span><label class="collapse" for="c-36953886">[-]</label><label class="expand" for="c-36953886">[1 more]</label></div><br/><div class="children"><div class="content">... so a Jujutsu Kaisen begins if getting a commit conflict?</div><br/></div></div><div id="36953427" class="c"><input type="checkbox" id="c-36953427" checked=""/><div class="controls bullet"><span class="by">zelphirkalt</span><span>|</span><a href="#36953886">prev</a><span>|</span><a href="#36953714">next</a><span>|</span><label class="collapse" for="c-36953427">[-]</label><label class="expand" for="c-36953427">[3 more]</label></div><br/><div class="children"><div class="content">I would say &quot;What a weird name for a VCS. Whether that will work ...&quot;, but then I have to remind myself of the dictionary meaning of &quot;git&quot;. So who knows. Maybe we will be adopting all kinds of martial arts terminology. For example: &quot;I use Karate to manage my code. I divide everything using chops. When a kata is done, ...&quot;</div><br/><div id="36953608" class="c"><input type="checkbox" id="c-36953608" checked=""/><div class="controls bullet"><span class="by">dagurp</span><span>|</span><a href="#36953427">parent</a><span>|</span><a href="#36953714">next</a><span>|</span><label class="collapse" for="c-36953608">[-]</label><label class="expand" for="c-36953608">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a horrible name to pronounce for many non-English speakers.</div><br/><div id="36953783" class="c"><input type="checkbox" id="c-36953783" checked=""/><div class="controls bullet"><span class="by">hosh</span><span>|</span><a href="#36953427">root</a><span>|</span><a href="#36953608">parent</a><span>|</span><a href="#36953714">next</a><span>|</span><label class="collapse" for="c-36953783">[-]</label><label class="expand" for="c-36953783">[1 more]</label></div><br/><div class="children"><div class="content">Ironic because it’s a Japanese name, not English.<p>According to the readme, “jj” was chosen because it was easy to type, and a name was found to fit that.</div><br/></div></div></div></div></div></div><div id="36953714" class="c"><input type="checkbox" id="c-36953714" checked=""/><div class="controls bullet"><span class="by">pxc</span><span>|</span><a href="#36953427">prev</a><span>|</span><a href="#36953754">next</a><span>|</span><label class="collapse" for="c-36953714">[-]</label><label class="expand" for="c-36953714">[1 more]</label></div><br/><div class="children"><div class="content">This Git-compatibility-first approach makes Jujutsu seem like a stronger contender to replace Git than I&#x27;ve seen so far.<p>I&#x27;m curious about its management of conflicts. I know that pmeunier has taken a lot of care to formally work out a theory of patches to drive Pijul, and that unsound or problematic notions of patches&#x2F;conflicts can lead to serious problems— they say that&#x27;s what led to all the performance problems with Darcs, right? I&#x27;d love if the comparison page on the repo wiki gave a little more detail than that Pijul&#x27;s handling of conflicts seems &#x27;similar&#x27;.</div><br/></div></div><div id="36953754" class="c"><input type="checkbox" id="c-36953754" checked=""/><div class="controls bullet"><span class="by">toomim</span><span>|</span><a href="#36953714">prev</a><span>|</span><a href="#36953531">next</a><span>|</span><label class="collapse" for="c-36953754">[-]</label><label class="expand" for="c-36953754">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The working copy is automatically committed.<p>Thank goodness.  This has been needed for a long time.<p>Props to the author Martin for investing himself in creating elegance!</div><br/></div></div><div id="36953531" class="c"><input type="checkbox" id="c-36953531" checked=""/><div class="controls bullet"><span class="by">geenat</span><span>|</span><a href="#36953754">prev</a><span>|</span><a href="#36953258">next</a><span>|</span><label class="collapse" for="c-36953531">[-]</label><label class="expand" for="c-36953531">[4 more]</label></div><br/><div class="children"><div class="content">Explain how does it handle large binary files?<p>(the UX around this is the shortcoming of all current DVCS..)</div><br/><div id="36953732" class="c"><input type="checkbox" id="c-36953732" checked=""/><div class="controls bullet"><span class="by">dahhowl</span><span>|</span><a href="#36953531">parent</a><span>|</span><a href="#36953850">next</a><span>|</span><label class="collapse" for="c-36953732">[-]</label><label class="expand" for="c-36953732">[1 more]</label></div><br/><div class="children"><div class="content">README says that the git backend is the recommended backend, as the &quot;native&quot; one has no additional features, so I imagine: it handles them the same as git (ie. they are just objects in the .git repo data, and each time you change them you add a new one, and they are poorly compressible and optimizable) -- which is, I imagine, the problem you&#x27;re referring to.</div><br/></div></div><div id="36953850" class="c"><input type="checkbox" id="c-36953850" checked=""/><div class="controls bullet"><span class="by">Beldin</span><span>|</span><a href="#36953531">parent</a><span>|</span><a href="#36953732">prev</a><span>|</span><a href="#36953700">next</a><span>|</span><label class="collapse" for="c-36953850">[-]</label><label class="expand" for="c-36953850">[1 more]</label></div><br/><div class="children"><div class="content">Now I&#x27;m curious: how would you want a DVCS to handle large binaries?</div><br/></div></div><div id="36953700" class="c"><input type="checkbox" id="c-36953700" checked=""/><div class="controls bullet"><span class="by">ozkatz</span><span>|</span><a href="#36953531">parent</a><span>|</span><a href="#36953850">prev</a><span>|</span><a href="#36953258">next</a><span>|</span><label class="collapse" for="c-36953700">[-]</label><label class="expand" for="c-36953700">[1 more]</label></div><br/><div class="children"><div class="content">Might want to look at purpose built tools for that such as lakeFS (<a href="https:&#x2F;&#x2F;github.com&#x2F;treeverse&#x2F;lakeFS&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;treeverse&#x2F;lakeFS&#x2F;</a>)<p>* Disclaimer: I&#x27;m one of the creators&#x2F;maintainers of the project.</div><br/></div></div></div></div><div id="36953258" class="c"><input type="checkbox" id="c-36953258" checked=""/><div class="controls bullet"><span class="by">mcqueenjordan</span><span>|</span><a href="#36953531">prev</a><span>|</span><a href="#36953354">next</a><span>|</span><label class="collapse" for="c-36953258">[-]</label><label class="expand" for="c-36953258">[1 more]</label></div><br/><div class="children"><div class="content">Oh wow, this looks really promising.<p>I&#x27;ve been playing with a homegrown centralized VCS client and server project, aimed at basically being the VCS host for monorepos, and this looks like a much better foundation for the VCS layer.</div><br/></div></div><div id="36953354" class="c"><input type="checkbox" id="c-36953354" checked=""/><div class="controls bullet"><span class="by">gyulai</span><span>|</span><a href="#36953258">prev</a><span>|</span><a href="#36953698">next</a><span>|</span><label class="collapse" for="c-36953354">[-]</label><label class="expand" for="c-36953354">[1 more]</label></div><br/><div class="children"><div class="content">I had to choose a VCS for a project a year ago.  At that point jujutsu looked extremely promising but immature.  It&#x27;s great to see that so much progress has been made.  I can&#x27;t wait to give it another go, the next time I get to choose a VCS for something.  Innovation in this space is desperately needed.</div><br/></div></div><div id="36953698" class="c"><input type="checkbox" id="c-36953698" checked=""/><div class="controls bullet"><span class="by">gautamcgoel</span><span>|</span><a href="#36953354">prev</a><span>|</span><a href="#36953469">next</a><span>|</span><label class="collapse" for="c-36953698">[-]</label><label class="expand" for="c-36953698">[4 more]</label></div><br/><div class="children"><div class="content">I am certainly no expert in version control systems, but I&#x27;ve gotta say that it&#x27;s really wonderful to see a project that builds on the algorithmic and cultural successes of Git but with a simplified and modernized approach. The reason that Git took over the open-source world is two-fold: first, it was adopted by Linux, which ended up being the most influential OSS project of all time. Second, the Git model, which is distributed and egalitarian at its core, is a better model for a fast-paced, globally distributed community of developers than previous monorepo systems like Mercurial. These are both reasons to appreciate Git, but they do not imply that Git is the final word in version control. I&#x27;m excited to see innovation in this space!</div><br/><div id="36953713" class="c"><input type="checkbox" id="c-36953713" checked=""/><div class="controls bullet"><span class="by">robertlagrant</span><span>|</span><a href="#36953698">parent</a><span>|</span><a href="#36953469">next</a><span>|</span><label class="collapse" for="c-36953713">[-]</label><label class="expand" for="c-36953713">[3 more]</label></div><br/><div class="children"><div class="content">&gt; which is distributed and egalitarian at its core, is a better model for a fast-paced, globally distributed community of developers than previous monorepo systems like Mercurial<p>I&#x27;m a bit confused by this. I don&#x27;t think that&#x27;s what monorepo means, is it? Monorepo is what you choose to put in a repo? And I thought Mercurial was extremely similar to Git as it&#x27;s also a DVCS?</div><br/><div id="36953859" class="c"><input type="checkbox" id="c-36953859" checked=""/><div class="controls bullet"><span class="by">brmgb</span><span>|</span><a href="#36953698">root</a><span>|</span><a href="#36953713">parent</a><span>|</span><a href="#36953773">next</a><span>|</span><label class="collapse" for="c-36953859">[-]</label><label class="expand" for="c-36953859">[1 more]</label></div><br/><div class="children"><div class="content">It is. The OP is wrong, probably because he has never used Mercurial, which wouldn’t be that surprising given it doesn’t have a lot of users outside of the few remaining companies still using it.</div><br/></div></div><div id="36953773" class="c"><input type="checkbox" id="c-36953773" checked=""/><div class="controls bullet"><span class="by">pmezard</span><span>|</span><a href="#36953698">root</a><span>|</span><a href="#36953713">parent</a><span>|</span><a href="#36953859">prev</a><span>|</span><a href="#36953469">next</a><span>|</span><label class="collapse" for="c-36953773">[-]</label><label class="expand" for="c-36953773">[1 more]</label></div><br/><div class="children"><div class="content">Git and Mercurial are fairly similar, at least compared to what OP is apparently hinting at. Different tech and different internal architectures, but both of them are DVCS offering roughly equivalent workflows.</div><br/></div></div></div></div></div></div><div id="36953469" class="c"><input type="checkbox" id="c-36953469" checked=""/><div class="controls bullet"><span class="by">mcluck</span><span>|</span><a href="#36953698">prev</a><span>|</span><a href="#36953457">next</a><span>|</span><label class="collapse" for="c-36953469">[-]</label><label class="expand" for="c-36953469">[2 more]</label></div><br/><div class="children"><div class="content">Looks really cool! One thing I&#x27;m not clear on from the docs: does it support ignoring changes to some files for &quot;real&quot; commits? For example, a repo at work has a file used for mocking up feature flags. The file is tracked but it&#x27;s encouraged to edit it when testing things, just don&#x27;t commit your changes. If I&#x27;m not mistaken, I&#x27;d have to remember to undo changes to that file before &quot;describing&quot; the commit. Is that right?</div><br/><div id="36953600" class="c"><input type="checkbox" id="c-36953600" checked=""/><div class="controls bullet"><span class="by">ilyagr</span><span>|</span><a href="#36953469">parent</a><span>|</span><a href="#36953457">next</a><span>|</span><label class="collapse" for="c-36953600">[-]</label><label class="expand" for="c-36953600">[1 more]</label></div><br/><div class="children"><div class="content">The commit will indeed be created immediately, there&#x27;s no way to prevent that except for .gitignore I&#x27;m aware of. Until you run `jj describe`, it won&#x27;t have a description.<p>However, if you don&#x27;t manually put a branch on it, it&#x27;ll never get pushed and will stay on your machine only.<p>You can sit on this personal commit and rebase it on top of any other commit to move around the repo, again and again if you like.</div><br/></div></div></div></div><div id="36953457" class="c"><input type="checkbox" id="c-36953457" checked=""/><div class="controls bullet"><span class="by">shandor</span><span>|</span><a href="#36953469">prev</a><span>|</span><a href="#36953433">next</a><span>|</span><label class="collapse" for="c-36953457">[-]</label><label class="expand" for="c-36953457">[1 more]</label></div><br/><div class="children"><div class="content">The automatic rebase and <i>jj diffedit</i> sound very nice addition to some of my most-used git workflows.<p>Looks very interesting, will definitely have to give this a deeper try.</div><br/></div></div><div id="36953433" class="c"><input type="checkbox" id="c-36953433" checked=""/><div class="controls bullet"><span class="by">seertaak</span><span>|</span><a href="#36953457">prev</a><span>|</span><label class="collapse" for="c-36953433">[-]</label><label class="expand" for="c-36953433">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m definitely going to try this, looks really sweet.</div><br/></div></div></div></div></div></div></div></body></html>