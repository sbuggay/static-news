<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1719219674315" as="style"/><link rel="stylesheet" href="styles.css?v=1719219674315"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.rfc-editor.org/old/EOLstory.txt">The End-of-Line Story (2004)</a> <span class="domain">(<a href="https://www.rfc-editor.org">www.rfc-editor.org</a>)</span></div><div class="subtext"><span>susam</span> | <span>10 comments</span></div><br/><div><div id="40772206" class="c"><input type="checkbox" id="c-40772206" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#40771319">next</a><span>|</span><label class="collapse" for="c-40772206">[-]</label><label class="expand" for="c-40772206">[3 more]</label></div><br/><div class="children"><div class="content">This goes back further.<p>Teletype machines needed a delay to move the printing apparatus back to the beginning of a line. The two characters provided that delay.<p>I never used one of these; I was too young.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Teletype_Model_33" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Teletype_Model_33</a><p>Edit: first google hit:<p><a href="https:&#x2F;&#x2F;www.revk.uk&#x2F;2022&#x2F;02&#x2F;crlf-has-long-history.html?m=1" rel="nofollow">https:&#x2F;&#x2F;www.revk.uk&#x2F;2022&#x2F;02&#x2F;crlf-has-long-history.html?m=1</a></div><br/><div id="40772999" class="c"><input type="checkbox" id="c-40772999" checked=""/><div class="controls bullet"><span class="by">Stratoscope</span><span>|</span><a href="#40772206">parent</a><span>|</span><a href="#40771319">next</a><span>|</span><label class="collapse" for="c-40772999">[-]</label><label class="expand" for="c-40772999">[2 more]</label></div><br/><div class="children"><div class="content">I learned to program in high school on a Teletype Model 33 ASR that dialed into to a timesharing service. This was the version with a paper tape punch and reader.<p>Dial-up time was very expensive, somewhere around $50&#x2F;hour in today&#x27;s dollars.<p>So we would punch our code onto a paper tape, then print it out locally to review it, and finally dial in, run the paper tape through and wait for the printout from our program, and immediately disconnect.<p>In theory, CR LF should have been enough at the end of a line, but we found that sometimes, especially after a long line, the next line would start printing before the paper had fully advanced.<p>To play it safe, we would punch CR LF RUBOUT. RUBOUT was a character with all eight holes punched in the tape, i.e. 0xFF. By convention, this code was ignored by any system that received it.<p>The intended use of RUBOUT was to correct an error you made when punching a tape. You would back up the tape as many characters as you got wrong, then punch that many RUBOUTs, and continue from there. Because RUBOUT had every hole punched out, it would erase any error.<p>And it also served to give the paper a little more time to advance when we punched CR LF RUBOUT.<p>Maybe our machine was in need of some oiling or adjustment. The Model 33 was designed as a light-duty machine, unlike the more rugged Models 28 and 35.</div><br/><div id="40773307" class="c"><input type="checkbox" id="c-40773307" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#40772206">root</a><span>|</span><a href="#40772999">parent</a><span>|</span><a href="#40771319">next</a><span>|</span><label class="collapse" for="c-40773307">[-]</label><label class="expand" for="c-40773307">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Maybe our machine was in need of some oiling or adjustment. The Model 33 was designed as a light-duty machine, unlike the more rugged Models 28 and 35.<p>Yes. The spec for the Model 33 says that it is rated for one year of continuous operation without lubrication, three years with lubrication.<p>The models 14, 15, 28, and 35 were designed for a <i>much</i> longer life. I have some Model 14 machines coming up on a century and still working. But there is a price to be paid in maintenance and lubrication. Those machines are totally repairable - you can take them completely apart and put them back together. I&#x27;ve overhauled five of the older machines.
There are over 600 oiling points, and you need both oil and two different greases. Nobody would tolerate an office machine today that required such maintenance.<p>Think about that when you look at iFixit scores.</div><br/></div></div></div></div></div></div><div id="40771319" class="c"><input type="checkbox" id="c-40771319" checked=""/><div class="controls bullet"><span class="by">drdec</span><span>|</span><a href="#40772206">prev</a><span>|</span><a href="#40771588">next</a><span>|</span><label class="collapse" for="c-40771319">[-]</label><label class="expand" for="c-40771319">[2 more]</label></div><br/><div class="children"><div class="content">&gt; This choice was designed to spread the pain equally among all
operating systems of the day; each has to translate to and from the CR
LF convention when text was transferred across the network.<p>On the one hand, this seems clever and fair.  On the other hand, this is why we can&#x27;t have nice things.</div><br/><div id="40772470" class="c"><input type="checkbox" id="c-40772470" checked=""/><div class="controls bullet"><span class="by">Someone</span><span>|</span><a href="#40771319">parent</a><span>|</span><a href="#40771588">next</a><span>|</span><label class="collapse" for="c-40772470">[-]</label><label class="expand" for="c-40772470">[1 more]</label></div><br/><div class="children"><div class="content">According tithe article, it wasn’t even true. FTA:<p><i>“Early operating system designers had to adopt some
&quot;end-of-line&quot; convention using CR and LF; some used LF, some used
CR, and some used a two-octet sequence: LF CR or CR LF.”</i><p>⇒ OSes that used CR LF didn’t have to do that translation.</div><br/></div></div></div></div><div id="40771588" class="c"><input type="checkbox" id="c-40771588" checked=""/><div class="controls bullet"><span class="by">gary_0</span><span>|</span><a href="#40771319">prev</a><span>|</span><a href="#40771062">next</a><span>|</span><label class="collapse" for="c-40771588">[-]</label><label class="expand" for="c-40771588">[1 more]</label></div><br/><div class="children"><div class="content">Nowadays I see in-flight EOL normalization as Considered Harmful; instead I ensure that routines dealing with text buffers treat both CRLF and LF as the same. This has Just Worked without any issues in the software I&#x27;ve written with this approach. (Occasionally this requires wrapping&#x2F;replacing library code that only uses the EOL convention of the host system.)<p>I have encountered numerous issues with EOLs being changed in transit or on disk, so I always make sure to open&#x2F;transfer files in &quot;binary mode&quot;, since both Windows and Linux builds will run the same EOL-agnostic code.</div><br/></div></div><div id="40771062" class="c"><input type="checkbox" id="c-40771062" checked=""/><div class="controls bullet"><span class="by">ktpsns</span><span>|</span><a href="#40771588">prev</a><span>|</span><label class="collapse" for="c-40771062">[-]</label><label class="expand" for="c-40771062">[3 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t seen end-of-line conversion problems (as well as Unicode BOMs) for decades. My guess is that software quality improved these days. MS Notepad was a noteable tool which always mocked around with unix-style line endings. Using dos2unix and unix2dos utilities was something I commonly used in the early 2000s, in particular on dual boot computers. This was also the time where UTF-8 was not yet so widespread, but that is another topic ;-)</div><br/><div id="40772747" class="c"><input type="checkbox" id="c-40772747" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#40771062">parent</a><span>|</span><a href="#40771760">next</a><span>|</span><label class="collapse" for="c-40772747">[-]</label><label class="expand" for="c-40772747">[1 more]</label></div><br/><div class="children"><div class="content">I can easily believe that it&#x27;s gotten better, but I&#x27;ve hit it within the last 6 months; Microsoft Azure DevOps git[0] has a web editor that defaults to Windows-style EOL, and if you use it to deploy files to boxes running a Linux distro then some tools will completely break on config files that aren&#x27;t using unix-style EOL. <i>Ask me how I know.</i> That was fun to fix. For bonus points, <i>some</i> programs on Linux <i>are</i> compatible with either line ending-_-<p>[0] I expect this isn&#x27;t its real name, but it&#x27;s MS so that&#x27;s a lost cause.</div><br/></div></div><div id="40771760" class="c"><input type="checkbox" id="c-40771760" checked=""/><div class="controls bullet"><span class="by">don-code</span><span>|</span><a href="#40771062">parent</a><span>|</span><a href="#40772747">prev</a><span>|</span><label class="collapse" for="c-40771760">[-]</label><label class="expand" for="c-40771760">[1 more]</label></div><br/><div class="children"><div class="content">Sad to say, I filed a bug in an internal tool just two weeks ago relating to how it processes Windows linebreaks. The tool is written using modern languages (Python 3.11) and frameworks (FastAPI).</div><br/></div></div></div></div></div></div></div></div></div></body></html>