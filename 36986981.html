<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1691226056198" as="style"/><link rel="stylesheet" href="styles.css?v=1691226056198"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.rafa.ee/articles/godot-peer-to-peer-multiplayer/">Making peer-to-peer multiplayer seamless with Godot</a> <span class="domain">(<a href="https://www.rafa.ee">www.rafa.ee</a>)</span></div><div class="subtext"><span>dulvui</span> | <span>14 comments</span></div><br/><div><div id="37008161" class="c"><input type="checkbox" id="c-37008161" checked=""/><div class="controls bullet"><span class="by">Laremere</span><span>|</span><a href="#37009065">next</a><span>|</span><label class="collapse" for="c-37008161">[-]</label><label class="expand" for="c-37008161">[3 more]</label></div><br/><div class="children"><div class="content">&gt; If you’re looking for a way to have peer-to-peer multiplayer without setting up your own server, have a look at Steam’s Networking API which also has a Godot integration via GodotSteam, or have a look at the Epic’s NAT P2P API. Both provide NAT hole punching support with relay services as a fallback.<p>Steam used to work this way iirc, but they now always use a relay.  This is user friendly, because with normal peer to peer your IP address is given to other players.  DDOSing, bringing down Twitch streams, and all sorts of unfun things can result from that.  Of course, this does give steam your users&#x27; IP addresses.</div><br/><div id="37008326" class="c"><input type="checkbox" id="c-37008326" checked=""/><div class="controls bullet"><span class="by">zamalek</span><span>|</span><a href="#37008161">parent</a><span>|</span><a href="#37009065">next</a><span>|</span><label class="collapse" for="c-37008326">[-]</label><label class="expand" for="c-37008326">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  Of course, this does give steam your users&#x27; IP addresses.<p>A rendezvous is unavoidable, even for UDP P2P. The hole puncher server would be the rendezvous -- or the STUN (P2P) &#x2F; TURN (TCP) server if you wanted to make the smarter choice and use an existing protocol. Either way, the rendezvous gets the IP no matter what.<p>The only way to avoid leaking the IP to some middle party is to use port forwarding and manual communication of the IP.</div><br/><div id="37008389" class="c"><input type="checkbox" id="c-37008389" checked=""/><div class="controls bullet"><span class="by">TechBro8615</span><span>|</span><a href="#37008161">root</a><span>|</span><a href="#37008326">parent</a><span>|</span><a href="#37009065">next</a><span>|</span><label class="collapse" for="c-37008389">[-]</label><label class="expand" for="c-37008389">[1 more]</label></div><br/><div class="children"><div class="content">IIRC, Twilio offers a paid STUN&#x2F;TURN service. But you could also self-host it using some open source TURN server, since all it requires is a public IP address (with the caveat of course that it might not be geographically close to the end user).</div><br/></div></div></div></div></div></div><div id="37009065" class="c"><input type="checkbox" id="c-37009065" checked=""/><div class="controls bullet"><span class="by">jscottmiller</span><span>|</span><a href="#37008161">prev</a><span>|</span><a href="#37008195">next</a><span>|</span><label class="collapse" for="c-37009065">[-]</label><label class="expand" for="c-37009065">[1 more]</label></div><br/><div class="children"><div class="content">I’m not familiar with Godot networking primitives in 3.X, but 4.0 contains WebRTC support which, combined with a STUN&#x2F;TURN server, solves the hole-punching problem. You need to run a signaling backend to pass connection info between the peers, but you’ll probably want to build a messaging service anyway for matchmaking.</div><br/></div></div><div id="37008195" class="c"><input type="checkbox" id="c-37008195" checked=""/><div class="controls bullet"><span class="by">jasonjmcghee</span><span>|</span><a href="#37009065">prev</a><span>|</span><a href="#37009147">next</a><span>|</span><label class="collapse" for="c-37008195">[-]</label><label class="expand" for="c-37008195">[1 more]</label></div><br/><div class="children"><div class="content">(2022) - specifically January. This is particularly relevant as Godot 4 released in March 2023, and multiplayer was overhauled.</div><br/></div></div><div id="37009147" class="c"><input type="checkbox" id="c-37009147" checked=""/><div class="controls bullet"><span class="by">ktbwrestler</span><span>|</span><a href="#37008195">prev</a><span>|</span><a href="#37008342">next</a><span>|</span><label class="collapse" for="c-37009147">[-]</label><label class="expand" for="c-37009147">[2 more]</label></div><br/><div class="children"><div class="content">This is awesome! As someone new to Godot that wants to learn how to build multiplayer asteroids, should I try to build something standalone or browser based? Do you recommend any tutorials to get started?</div><br/><div id="37009791" class="c"><input type="checkbox" id="c-37009791" checked=""/><div class="controls bullet"><span class="by">arun-mani-j</span><span>|</span><a href="#37009147">parent</a><span>|</span><a href="#37008342">next</a><span>|</span><label class="collapse" for="c-37009791">[-]</label><label class="expand" for="c-37009791">[1 more]</label></div><br/><div class="children"><div class="content">As another beginner, you need not worry much about the platform unless you have a very tight platform integration. Which means, as long as your code dependent fully on Godot, everything works fine. So there is no difference.<p>For the tutorial, once you read the basic syntax of GDScript, you can directly start coding a game of your choice and reading the docs on need. Or use the official 2D and 3D tutorial.<p>(This is how I learnt, YMMV)</div><br/></div></div></div></div><div id="37008342" class="c"><input type="checkbox" id="c-37008342" checked=""/><div class="controls bullet"><span class="by">turpialito</span><span>|</span><a href="#37009147">prev</a><span>|</span><a href="#37008468">next</a><span>|</span><label class="collapse" for="c-37008342">[-]</label><label class="expand" for="c-37008342">[5 more]</label></div><br/><div class="children"><div class="content">Wait, Didn&#x27;t Quake and Unreal used to network by self-hosting?</div><br/><div id="37008816" class="c"><input type="checkbox" id="c-37008816" checked=""/><div class="controls bullet"><span class="by">dustfinger</span><span>|</span><a href="#37008342">parent</a><span>|</span><a href="#37009076">next</a><span>|</span><label class="collapse" for="c-37008816">[-]</label><label class="expand" for="c-37008816">[3 more]</label></div><br/><div class="children"><div class="content">Back in the days of Duke Nukem, Quake and Unreal, we connected with no NAT using 1400 baud modems, if we were lucky ;-). Honestly though, I played direct (peer 2 peer) with Duke Nukem and conected over a centralized server for Unreal, but I hardly ever played Quake. I did this, with a 1400 baud modem and a phone-line that I paid for myself, with the earnings I made from a paper route job. It was the 90s and it was something special, for me at least.</div><br/><div id="37009009" class="c"><input type="checkbox" id="c-37009009" checked=""/><div class="controls bullet"><span class="by">loloquwowndueo</span><span>|</span><a href="#37008342">root</a><span>|</span><a href="#37008816">parent</a><span>|</span><a href="#37009569">next</a><span>|</span><label class="collapse" for="c-37009009">[-]</label><label class="expand" for="c-37009009">[1 more]</label></div><br/><div class="children"><div class="content">1400? I doubt it. 14400 maybe.</div><br/></div></div><div id="37009569" class="c"><input type="checkbox" id="c-37009569" checked=""/><div class="controls bullet"><span class="by">zer0-c00l</span><span>|</span><a href="#37008342">root</a><span>|</span><a href="#37008816">parent</a><span>|</span><a href="#37009009">prev</a><span>|</span><a href="#37009076">next</a><span>|</span><label class="collapse" for="c-37009569">[-]</label><label class="expand" for="c-37009569">[1 more]</label></div><br/><div class="children"><div class="content">you mean 14.4k - 1400 baud was outdated far before that</div><br/></div></div></div></div><div id="37009076" class="c"><input type="checkbox" id="c-37009076" checked=""/><div class="controls bullet"><span class="by">totetsu</span><span>|</span><a href="#37008342">parent</a><span>|</span><a href="#37008816">prev</a><span>|</span><a href="#37008468">next</a><span>|</span><label class="collapse" for="c-37009076">[-]</label><label class="expand" for="c-37009076">[1 more]</label></div><br/><div class="children"><div class="content">We preshared phone numbers</div><br/></div></div></div></div><div id="37008468" class="c"><input type="checkbox" id="c-37008468" checked=""/><div class="controls bullet"><span class="by">jesprenj</span><span>|</span><a href="#37008342">prev</a><span>|</span><label class="collapse" for="c-37008468">[-]</label><label class="expand" for="c-37008468">[1 more]</label></div><br/><div class="children"><div class="content">So they don&#x27;t need a server, but they need a server at the same time (:<p>One could abuse BitTorrent&#x27;s existing DHT infrastructure (:</div><br/></div></div></div></div></div></div></div></body></html>