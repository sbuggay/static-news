<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1701075668270" as="style"/><link rel="stylesheet" href="styles.css?v=1701075668270"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://beej.us/guide/bgipc/html/">Beej&#x27;s Guide to Interprocess Communication</a> <span class="domain">(<a href="https://beej.us">beej.us</a>)</span></div><div class="subtext"><span>tentacleuno</span> | <span>25 comments</span></div><br/><div><div id="38427865" class="c"><input type="checkbox" id="c-38427865" checked=""/><div class="controls bullet"><span class="by">nunez</span><span>|</span><a href="#38427971">next</a><span>|</span><label class="collapse" for="c-38427865">[-]</label><label class="expand" for="c-38427865">[1 more]</label></div><br/><div class="children"><div class="content">I was literally using Beej&#x27;s networking primer today to build a simple TCP server in C. I haven&#x27;t written C in a long time, so imagine my surprise when their code compiled and worked on the first try! In Docker!<p>I had to add an extra sigaction to handle SIGINTs but nothing huge.<p>Thank you so much for this guide.<p>If you can&#x27;t get enough Linux systems fundamentals, give Robert Love&#x27;s Intro to Linux Systems Programming a try. It goes through IPC (but not in this much detail) and a good swath of Linux fundamentals, all in C.</div><br/></div></div><div id="38427971" class="c"><input type="checkbox" id="c-38427971" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#38427865">prev</a><span>|</span><a href="#38427824">next</a><span>|</span><label class="collapse" for="c-38427971">[-]</label><label class="expand" for="c-38427971">[3 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>Beej&#x27;s System V IPC Guide</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36046014">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36046014</a> - May 2023 (1 comment)<p><i>Beej&#x27;s Guide to Unix IPC (2015)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29829483">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29829483</a> - Jan 2022 (54 comments)<p><i>Beej&#x27;s Guide to Unix IPC (2010)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=9619375">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=9619375</a> - May 2015 (31 comments)<p><i>Beejs Guide to Unix IPC</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1525227">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1525227</a> - July 2010 (19 comments)<p><i>Beej&#x27;s Guide to Unix Interprocess Communication</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=978558">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=978558</a> - Dec 2009 (20 comments)</div><br/><div id="38428841" class="c"><input type="checkbox" id="c-38428841" checked=""/><div class="controls bullet"><span class="by">perihelions</span><span>|</span><a href="#38427971">parent</a><span>|</span><a href="#38427824">next</a><span>|</span><label class="collapse" for="c-38428841">[-]</label><label class="expand" for="c-38428841">[2 more]</label></div><br/><div class="children"><div class="content">There are several more with abbreviated titles,<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29829483">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29829483</a> (<i>&quot;Beej&#x27;s Guide to Unix IPC&quot;</i>)—Jan. 2022 (54 comments)<p><a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?query=beej.us&#x2F;guide&#x2F;bgipc" rel="nofollow noreferrer">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?query=beej.us&#x2F;guide&#x2F;bgipc</a></div><br/><div id="38428955" class="c"><input type="checkbox" id="c-38428955" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#38427971">root</a><span>|</span><a href="#38428841">parent</a><span>|</span><a href="#38427824">next</a><span>|</span><label class="collapse" for="c-38428955">[-]</label><label class="expand" for="c-38428955">[1 more]</label></div><br/><div class="children"><div class="content">Ah thanks! I&#x27;ve augmented the list in my comment.</div><br/></div></div></div></div></div></div><div id="38427824" class="c"><input type="checkbox" id="c-38427824" checked=""/><div class="controls bullet"><span class="by">TrustPatches</span><span>|</span><a href="#38427971">prev</a><span>|</span><a href="#38429266">next</a><span>|</span><label class="collapse" for="c-38427824">[-]</label><label class="expand" for="c-38427824">[1 more]</label></div><br/><div class="children"><div class="content">Almost done with Beej&#x27;s Guide to Networking Concepts[1] and absolutely loving it, following along in Go. Gotta check this out and his other guides afterwards<p>[1]: <a href="https:&#x2F;&#x2F;beej.us&#x2F;guide&#x2F;bgnet0&#x2F;html&#x2F;split&#x2F;index.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;beej.us&#x2F;guide&#x2F;bgnet0&#x2F;html&#x2F;split&#x2F;index.html</a></div><br/></div></div><div id="38429266" class="c"><input type="checkbox" id="c-38429266" checked=""/><div class="controls bullet"><span class="by">mytailorisrich</span><span>|</span><a href="#38427824">prev</a><span>|</span><a href="#38429010">next</a><span>|</span><label class="collapse" for="c-38429266">[-]</label><label class="expand" for="c-38429266">[1 more]</label></div><br/><div class="children"><div class="content">It would also be useful to mention the POSIX API for shared memory, which is based on memory-mapped files neatly located under &#x2F;dev&#x2F;shm.</div><br/></div></div><div id="38429010" class="c"><input type="checkbox" id="c-38429010" checked=""/><div class="controls bullet"><span class="by">stevefolta</span><span>|</span><a href="#38429266">prev</a><span>|</span><a href="#38429149">next</a><span>|</span><label class="collapse" for="c-38429010">[-]</label><label class="expand" for="c-38429010">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using pipe() lately (along with poll()) to tell threads to quit, and other simple inter-thread signalling.  Super easy, very little code needed.  I guess socketpair() would work just as well.</div><br/></div></div><div id="38429149" class="c"><input type="checkbox" id="c-38429149" checked=""/><div class="controls bullet"><span class="by">andreareina</span><span>|</span><a href="#38429010">prev</a><span>|</span><a href="#38428156">next</a><span>|</span><label class="collapse" for="c-38429149">[-]</label><label class="expand" for="c-38429149">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the conventional location for unix domain sockets if XDG_RUNTIME_DIR is unset? &#x2F;tmp?</div><br/><div id="38429842" class="c"><input type="checkbox" id="c-38429842" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#38429149">parent</a><span>|</span><a href="#38428156">next</a><span>|</span><label class="collapse" for="c-38429842">[-]</label><label class="expand" for="c-38429842">[1 more]</label></div><br/><div class="children"><div class="content">That’s where the X11 server puts its socket, but I think the modern convention is &#x2F;run, though.</div><br/></div></div></div></div><div id="38428156" class="c"><input type="checkbox" id="c-38428156" checked=""/><div class="controls bullet"><span class="by">locusofself</span><span>|</span><a href="#38429149">prev</a><span>|</span><a href="#38428364">next</a><span>|</span><label class="collapse" for="c-38428156">[-]</label><label class="expand" for="c-38428156">[1 more]</label></div><br/><div class="children"><div class="content">Wow, I remember following Beej&#x27;s socket tutorial somewhere around the year 2000 . perhaps even before that.</div><br/></div></div><div id="38428364" class="c"><input type="checkbox" id="c-38428364" checked=""/><div class="controls bullet"><span class="by">synergy20</span><span>|</span><a href="#38428156">prev</a><span>|</span><a href="#38427907">next</a><span>|</span><label class="collapse" for="c-38428364">[-]</label><label class="expand" for="c-38428364">[2 more]</label></div><br/><div class="children"><div class="content">last time I read it,it was all sysv ipc,but I think we should do posix ipc instead these days?</div><br/><div id="38429057" class="c"><input type="checkbox" id="c-38429057" checked=""/><div class="controls bullet"><span class="by">beej71</span><span>|</span><a href="#38428364">parent</a><span>|</span><a href="#38427907">next</a><span>|</span><label class="collapse" for="c-38429057">[-]</label><label class="expand" for="c-38429057">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like a good idea for an update... :)</div><br/></div></div></div></div><div id="38427907" class="c"><input type="checkbox" id="c-38427907" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38428364">prev</a><span>|</span><label class="collapse" for="c-38427907">[-]</label><label class="expand" for="c-38427907">[12 more]</label></div><br/><div class="children"><div class="content">For people targeting Linux this guide is missing information about Binder and D-Bus which should be what you reach for by default for IPC.</div><br/><div id="38428283" class="c"><input type="checkbox" id="c-38428283" checked=""/><div class="controls bullet"><span class="by">justin66</span><span>|</span><a href="#38427907">parent</a><span>|</span><a href="#38429690">next</a><span>|</span><label class="collapse" for="c-38428283">[-]</label><label class="expand" for="c-38428283">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Binder and D-Bus which should be what you reach for by default for IPC.<p>Well that’s silly. If the portable options can do it for you, use those.</div><br/><div id="38429898" class="c"><input type="checkbox" id="c-38429898" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38428283">parent</a><span>|</span><a href="#38429690">next</a><span>|</span><label class="collapse" for="c-38429898">[-]</label><label class="expand" for="c-38429898">[1 more]</label></div><br/><div class="children"><div class="content">Keep in mind that D-Bus is built on top of Unix sockets so it&#x27;s just as portable.<p>What I personally find silly is every service rolling there own protocol making it harder for clients to use existing libraries to talk to them and making more work for themselves to get to a quality IPC solution. It usually just ends up in getting something half baked.</div><br/></div></div></div></div><div id="38429690" class="c"><input type="checkbox" id="c-38429690" checked=""/><div class="controls bullet"><span class="by">59nadir</span><span>|</span><a href="#38427907">parent</a><span>|</span><a href="#38428283">prev</a><span>|</span><a href="#38427996">next</a><span>|</span><label class="collapse" for="c-38429690">[-]</label><label class="expand" for="c-38429690">[2 more]</label></div><br/><div class="children"><div class="content">I think this type of comment ought to have a bit talking about *why* you would reach for it.</div><br/><div id="38429867" class="c"><input type="checkbox" id="c-38429867" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38429690">parent</a><span>|</span><a href="#38427996">next</a><span>|</span><label class="collapse" for="c-38429867">[-]</label><label class="expand" for="c-38429867">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s convenient when most services on the system all talk the same protocol. It means that services can be more easily secured because they aren&#x27;t all making other own protocols from scratch. Making your program talk to various services is easier when you can use the same library and there is no need to roll your own because some service decided to make up its own custom protocol for some reason. Imagine if websites would all roll their own protocol instead of using a standard like HTTP. Having a standard IPC protocol also makes debugging easier since it makes sense for their to be real tools for seeing what&#x27;s going on. There are network effects in everyone using the same protocol. If you want to step out of this ecosystem and build your own IPC protocol then you need to justify what you are gaining for the value you are giving up.</div><br/></div></div></div></div><div id="38427996" class="c"><input type="checkbox" id="c-38427996" checked=""/><div class="controls bullet"><span class="by">syntheticnature</span><span>|</span><a href="#38427907">parent</a><span>|</span><a href="#38429690">prev</a><span>|</span><a href="#38428222">next</a><span>|</span><label class="collapse" for="c-38427996">[-]</label><label class="expand" for="c-38427996">[3 more]</label></div><br/><div class="children"><div class="content">Much like the other Beej guides, the target isn&#x27;t that tightly constrained. This aims at POSIX options, and attempts to cover gotchas for cross-platform code.<p>Not to mention that just because you&#x27;re only developing for Linux doesn&#x27;t guarantee you&#x27;ll have Binder or D-Bus.</div><br/><div id="38428105" class="c"><input type="checkbox" id="c-38428105" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38427996">parent</a><span>|</span><a href="#38428222">next</a><span>|</span><label class="collapse" for="c-38428105">[-]</label><label class="expand" for="c-38428105">[2 more]</label></div><br/><div class="children"><div class="content">&gt;the target isn&#x27;t that tightly constrained<p>Yes, which is why I highlighted that it is incomplete if you are not limiting yourself to just POSIX. It&#x27;s important for readers to understand the scope of what is contained in the guide as it would be easy to think this is all the IPC mechanisms Linux offers.<p>&gt;developing for Linux doesn&#x27;t guarantee you&#x27;ll have Binder or D-Bus<p>This is technically true, but everywhere Linux is used will likely already have one of them: embedded, mobile, desktop, server, etc. For D-Bus you can even have it work in a peer to peer mode where you don&#x27;t need the daemon.</div><br/><div id="38428329" class="c"><input type="checkbox" id="c-38428329" checked=""/><div class="controls bullet"><span class="by">syntheticnature</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38428105">parent</a><span>|</span><a href="#38428222">next</a><span>|</span><label class="collapse" for="c-38428329">[-]</label><label class="expand" for="c-38428329">[1 more]</label></div><br/><div class="children"><div class="content">As someone who has done quite a bit of embedded Linux development, I assure you: neither is as common as you think.</div><br/></div></div></div></div></div></div><div id="38428222" class="c"><input type="checkbox" id="c-38428222" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#38427907">parent</a><span>|</span><a href="#38427996">prev</a><span>|</span><label class="collapse" for="c-38428222">[-]</label><label class="expand" for="c-38428222">[4 more]</label></div><br/><div class="children"><div class="content">Do you have any recommendations for dbus?</div><br/><div id="38429879" class="c"><input type="checkbox" id="c-38429879" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38428222">parent</a><span>|</span><a href="#38428255">next</a><span>|</span><label class="collapse" for="c-38429879">[-]</label><label class="expand" for="c-38429879">[1 more]</label></div><br/><div class="children"><div class="content">• &lt;<a href="https:&#x2F;&#x2F;www.freedesktop.org&#x2F;wiki&#x2F;IntroductionToDBus&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.freedesktop.org&#x2F;wiki&#x2F;IntroductionToDBus&#x2F;</a>&gt;<p>• &lt;<a href="https:&#x2F;&#x2F;www.freedesktop.org&#x2F;wiki&#x2F;Software&#x2F;dbus&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.freedesktop.org&#x2F;wiki&#x2F;Software&#x2F;dbus&#x2F;</a>&gt;<p>• &lt;<a href="https:&#x2F;&#x2F;dbus.freedesktop.org&#x2F;doc&#x2F;dbus-specification.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;dbus.freedesktop.org&#x2F;doc&#x2F;dbus-specification.html</a>&gt;<p>• &lt;<a href="https:&#x2F;&#x2F;blog.ometer.com&#x2F;2007&#x2F;05&#x2F;17&#x2F;best-d-bus-practices&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.ometer.com&#x2F;2007&#x2F;05&#x2F;17&#x2F;best-d-bus-practices&#x2F;</a>&gt;</div><br/></div></div><div id="38428255" class="c"><input type="checkbox" id="c-38428255" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38428222">parent</a><span>|</span><a href="#38429879">prev</a><span>|</span><a href="#38429034">next</a><span>|</span><label class="collapse" for="c-38428255">[-]</label><label class="expand" for="c-38428255">[1 more]</label></div><br/><div class="children"><div class="content">Using d-feet&#x2F;d-spy was the most helpful thing for me in wrangling dbus along with the mantra Dbus is dumb, needy, verbose and explicit.</div><br/></div></div><div id="38429034" class="c"><input type="checkbox" id="c-38429034" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38427907">root</a><span>|</span><a href="#38428222">parent</a><span>|</span><a href="#38428255">prev</a><span>|</span><label class="collapse" for="c-38429034">[-]</label><label class="expand" for="c-38429034">[1 more]</label></div><br/><div class="children"><div class="content">The systemd library for using it is worth looking at.<p><a href="https:&#x2F;&#x2F;0pointer.net&#x2F;blog&#x2F;the-new-sd-bus-api-of-systemd.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;0pointer.net&#x2F;blog&#x2F;the-new-sd-bus-api-of-systemd.html</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>