<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1708765281071" as="style"/><link rel="stylesheet" href="styles.css?v=1708765281071"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://btxx.org/posts/Please_Make_Your_Table_Headings_Sticky/">Please make your table headings sticky</a>Â <span class="domain">(<a href="https://btxx.org">btxx.org</a>)</span></div><div class="subtext"><span>aragilar</span> | <span>33 comments</span></div><br/><div><div id="39490045" class="c"><input type="checkbox" id="c-39490045" checked=""/><div class="controls bullet"><span class="by">CrendKing</span><span>|</span><a href="#39489041">next</a><span>|</span><label class="collapse" for="c-39490045">[-]</label><label class="expand" for="c-39490045">[1 more]</label></div><br/><div class="children"><div class="content">You would think it&#x27;s that easy to make the table heading sticky with just one `position: sticky;`, until you decide to do anything with the table content.<p>I have a table with sticky head. Then I decide to add a memory feature, where if user scrolls the table body, and leaves the page, I&#x27;d save the index of the first visible row, and restore the scroll position when user comes back. I noticed that every time the restored position is always about one row too downward. For instance, when I want to restore to row 5, it restores to row 6 plus a few pixels. Turns out, once I turned the thead semi-transparent, I can see row 5 was indeed at the top of the table, but the thead just overlaps on top and making it look like row 6 is the first visible row.<p>I told myself, no problem, I just modify the scroll position to be aware of the thead&#x27;s height. It worked fine at first, but from time to from it&#x27;d still be off a few pixels. Turns out, because the table is huge, I&#x27;m doing lazy loading upon the scroll event. And because I&#x27;m using the default automatic table layout (instead of the fixed layout), sometimes certain head cell becomes too narrow and word wraps, thus increases the whole head&#x27;s height. The final solution is to create a ResizeObserver[1] on the thead element and dynamically adjust the scroll position if its height changes.<p>[1] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;ResizeObserver" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;ResizeObser...</a></div><br/></div></div><div id="39489041" class="c"><input type="checkbox" id="c-39489041" checked=""/><div class="controls bullet"><span class="by">LinguaBrowse</span><span>|</span><a href="#39490045">prev</a><span>|</span><a href="#39489318">next</a><span>|</span><label class="collapse" for="c-39489041">[-]</label><label class="expand" for="c-39489041">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll give you sticky headers on one axis, but am still waiting for the day that CSS supports them on both axes: <a href="https:&#x2F;&#x2F;github.com&#x2F;w3c&#x2F;csswg-drafts&#x2F;issues&#x2F;8286">https:&#x2F;&#x2F;github.com&#x2F;w3c&#x2F;csswg-drafts&#x2F;issues&#x2F;8286</a></div><br/><div id="39489714" class="c"><input type="checkbox" id="c-39489714" checked=""/><div class="controls bullet"><span class="by">ehnto</span><span>|</span><a href="#39489041">parent</a><span>|</span><a href="#39489118">next</a><span>|</span><label class="collapse" for="c-39489714">[-]</label><label class="expand" for="c-39489714">[1 more]</label></div><br/><div class="children"><div class="content">One of the most challenging things I have done was when I got contracted to make both column and header sticky. Easy enough with a standard table, but this was in some wild VueJS extended third party library dynamic table with generated CSS as JS. It took me ages just to unravel where all the different CSS and JS actually came from and then I had to work around via overriding JS class functions and generated CSS etc.<p>I felt really bad for the client because of how long it took. It also made me really careful with deciding on libraries when in Vue&#x2F;React codebases. It&#x27;s a very self-inflicted wound to require that much effort to do such a simple task. It&#x27;s a table dangit, a HTML primitive, why am I like three JS classes deep and importing CSS as JSON?</div><br/></div></div><div id="39489118" class="c"><input type="checkbox" id="c-39489118" checked=""/><div class="controls bullet"><span class="by">RheingoldRiver</span><span>|</span><a href="#39489041">parent</a><span>|</span><a href="#39489714">prev</a><span>|</span><a href="#39489318">next</a><span>|</span><label class="collapse" for="c-39489118">[-]</label><label class="expand" for="c-39489118">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been watching the issue that spawned this one for maybe 8 years now. It&#x27;s by far my biggest annoyance about the CSS spec. Sometimes you just need a gigantic data table, and you want that to be sticky top and overflow-x auto. Sorry, too bad, you have to pick one of these.</div><br/></div></div></div></div><div id="39489318" class="c"><input type="checkbox" id="c-39489318" checked=""/><div class="controls bullet"><span class="by">nomilk</span><span>|</span><a href="#39489041">prev</a><span>|</span><a href="#39489111">next</a><span>|</span><label class="collapse" for="c-39489318">[-]</label><label class="expand" for="c-39489318">[1 more]</label></div><br/><div class="children"><div class="content">confession: I somehow make <i>just</i> functional web apps with near zero CSS knowledge. I recently tried to make the header sticky on this ~20k row monstrosity: <a href="https:&#x2F;&#x2F;www.datasciencemeta.com&#x2F;rpackages" rel="nofollow">https:&#x2F;&#x2F;www.datasciencemeta.com&#x2F;rpackages</a><p>My first port of call was bootstrap table classes (hoping for a class=&quot;table table-header-sticky&quot;) but there&#x27;s nothing of the sort. I fiddled with suggestions from stack overflow, GPT and codepen in ~20 minutes only got sticky headers working with weird side effects on the rest of the table.<p>But in 2 minutes with the codepen from this article, I have it working. Pushing to prod now. Thank you!</div><br/></div></div><div id="39489111" class="c"><input type="checkbox" id="c-39489111" checked=""/><div class="controls bullet"><span class="by">Sargos</span><span>|</span><a href="#39489318">prev</a><span>|</span><a href="#39489295">next</a><span>|</span><label class="collapse" for="c-39489111">[-]</label><label class="expand" for="c-39489111">[3 more]</label></div><br/><div class="children"><div class="content">I wish table headers did this automatically. If devs do the extra work to use &lt;th&gt; tags then this is likely the behavior they already want.</div><br/><div id="39489611" class="c"><input type="checkbox" id="c-39489611" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#39489111">parent</a><span>|</span><a href="#39489295">next</a><span>|</span><label class="collapse" for="c-39489611">[-]</label><label class="expand" for="c-39489611">[2 more]</label></div><br/><div class="children"><div class="content">Just install a browser plugin that allows you to load a custom stylesheet on every page.<p>Unfortunately I&#x27;m seeing an increasing number of websites using 500 &lt;div&gt;s with 45 nested layers of &lt;div&gt;s within each &lt;div&gt; to create a table instead of &lt;table&gt;s so it wouldn&#x27;t work on those.</div><br/><div id="39489713" class="c"><input type="checkbox" id="c-39489713" checked=""/><div class="controls bullet"><span class="by">thatfatboy</span><span>|</span><a href="#39489111">root</a><span>|</span><a href="#39489611">parent</a><span>|</span><a href="#39489295">next</a><span>|</span><label class="collapse" for="c-39489713">[-]</label><label class="expand" for="c-39489713">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  Just install a browser plugin that allows you to load a custom stylesheet on every page.<p>why have everyone do extra work when one person could do it for everyone else in about the same amount of time that it would take one client to do?</div><br/></div></div></div></div></div></div><div id="39489295" class="c"><input type="checkbox" id="c-39489295" checked=""/><div class="controls bullet"><span class="by">lwhsiao</span><span>|</span><a href="#39489111">prev</a><span>|</span><a href="#39489583">next</a><span>|</span><label class="collapse" for="c-39489295">[-]</label><label class="expand" for="c-39489295">[1 more]</label></div><br/><div class="children"><div class="content">In case you&#x27;re one of the people implementing this and want your header&#x27;s borders to also stick, you can do something like this<p><pre><code>    table thead:before {
      content: &#x27;&#x27;;
      position: absolute;
      width: 100%;
      top: 0;
      border-top: 2px solid;
    }

    table thead:after {
      content: &#x27;&#x27;;
      position: absolute;
      width: 100%;
      bottom: 0;
      border-bottom: 1px solid;
    }</code></pre></div><br/></div></div><div id="39489583" class="c"><input type="checkbox" id="c-39489583" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#39489295">prev</a><span>|</span><a href="#39489155">next</a><span>|</span><label class="collapse" for="c-39489583">[-]</label><label class="expand" for="c-39489583">[1 more]</label></div><br/><div class="children"><div class="content">No, don&#x27;t. The kewl design crowd will insist that the tables and rows be borderless and that the scroll bars disappear. You won&#x27;t be able to see if the top rows of the table are showing.</div><br/></div></div><div id="39489155" class="c"><input type="checkbox" id="c-39489155" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#39489583">prev</a><span>|</span><a href="#39489487">next</a><span>|</span><label class="collapse" for="c-39489155">[-]</label><label class="expand" for="c-39489155">[7 more]</label></div><br/><div class="children"><div class="content">Some of us would rather say &quot;please don&#x27;t&quot;: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32998091">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32998091</a></div><br/><div id="39489172" class="c"><input type="checkbox" id="c-39489172" checked=""/><div class="controls bullet"><span class="by">alacritas0</span><span>|</span><a href="#39489155">parent</a><span>|</span><a href="#39489487">next</a><span>|</span><label class="collapse" for="c-39489172">[-]</label><label class="expand" for="c-39489172">[6 more]</label></div><br/><div class="children"><div class="content">What&#x27;s bad about the sticky property?</div><br/><div id="39489220" class="c"><input type="checkbox" id="c-39489220" checked=""/><div class="controls bullet"><span class="by">throwawa14223</span><span>|</span><a href="#39489155">root</a><span>|</span><a href="#39489172">parent</a><span>|</span><a href="#39489487">next</a><span>|</span><label class="collapse" for="c-39489220">[-]</label><label class="expand" for="c-39489220">[5 more]</label></div><br/><div class="children"><div class="content">I want a dumb document. I don&#x27;t want the thing where the header gets in the way of my clicking as I scroll.</div><br/><div id="39489698" class="c"><input type="checkbox" id="c-39489698" checked=""/><div class="controls bullet"><span class="by">nikisweeting</span><span>|</span><a href="#39489155">root</a><span>|</span><a href="#39489220">parent</a><span>|</span><a href="#39489697">next</a><span>|</span><label class="collapse" for="c-39489698">[-]</label><label class="expand" for="c-39489698">[2 more]</label></div><br/><div class="children"><div class="content">Same, I can&#x27;t stand sticky headers, especially on anything involving longform text content. They also make web archiving significantly harder as scrolled screenshots cant be easily stitched together anymore to get the whole page.</div><br/><div id="39489860" class="c"><input type="checkbox" id="c-39489860" checked=""/><div class="controls bullet"><span class="by">zaik</span><span>|</span><a href="#39489155">root</a><span>|</span><a href="#39489698">parent</a><span>|</span><a href="#39489697">next</a><span>|</span><label class="collapse" for="c-39489860">[-]</label><label class="expand" for="c-39489860">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t archive the web by taking screenshots?</div><br/></div></div></div></div><div id="39489697" class="c"><input type="checkbox" id="c-39489697" checked=""/><div class="controls bullet"><span class="by">verticalscaler</span><span>|</span><a href="#39489155">root</a><span>|</span><a href="#39489220">parent</a><span>|</span><a href="#39489698">prev</a><span>|</span><a href="#39489410">next</a><span>|</span><label class="collapse" for="c-39489697">[-]</label><label class="expand" for="c-39489697">[1 more]</label></div><br/><div class="children"><div class="content">I understand the sentiment but at some point you&#x27;re asking for the underlying CSV file. In my opinion a little gear icon which lets you toggle sticky headers and other formatting options and downloadable data as plain text is ideal but good luck standardizing such things.</div><br/></div></div><div id="39489410" class="c"><input type="checkbox" id="c-39489410" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#39489155">root</a><span>|</span><a href="#39489220">parent</a><span>|</span><a href="#39489697">prev</a><span>|</span><a href="#39489487">next</a><span>|</span><label class="collapse" for="c-39489410">[-]</label><label class="expand" for="c-39489410">[1 more]</label></div><br/><div class="children"><div class="content">If we get OPs dream, it wouldn&#x27;t.</div><br/></div></div></div></div></div></div></div></div><div id="39489487" class="c"><input type="checkbox" id="c-39489487" checked=""/><div class="controls bullet"><span class="by">nitwit005</span><span>|</span><a href="#39489155">prev</a><span>|</span><a href="#39489151">next</a><span>|</span><label class="collapse" for="c-39489487">[-]</label><label class="expand" for="c-39489487">[1 more]</label></div><br/><div class="children"><div class="content">This didn&#x27;t work for a long time. Chrome previously disabled position sticky on thead and tr elements: <a href="https:&#x2F;&#x2F;issues.chromium.org&#x2F;issues&#x2F;41303743" rel="nofollow">https:&#x2F;&#x2F;issues.chromium.org&#x2F;issues&#x2F;41303743</a><p>I remember the browser support matrix showed almost all green when it didn&#x27;t work for tables in Chrome.</div><br/></div></div><div id="39489151" class="c"><input type="checkbox" id="c-39489151" checked=""/><div class="controls bullet"><span class="by">amenghra</span><span>|</span><a href="#39489487">prev</a><span>|</span><a href="#39489285">next</a><span>|</span><label class="collapse" for="c-39489151">[-]</label><label class="expand" for="c-39489151">[1 more]</label></div><br/><div class="children"><div class="content">the CodePen looks better if top is set to offset the border (i.e. -1px instead of 0). It avoids the table body from bleeding above the header.<p>Compare: <a href="https:&#x2F;&#x2F;codepen.io&#x2F;bradleytaunt&#x2F;pen&#x2F;bGZyJBj" rel="nofollow">https:&#x2F;&#x2F;codepen.io&#x2F;bradleytaunt&#x2F;pen&#x2F;bGZyJBj</a><p>With: <a href="https:&#x2F;&#x2F;codepen.io&#x2F;alokmenghrajani&#x2F;pen&#x2F;ExMBQow" rel="nofollow">https:&#x2F;&#x2F;codepen.io&#x2F;alokmenghrajani&#x2F;pen&#x2F;ExMBQow</a></div><br/></div></div><div id="39489285" class="c"><input type="checkbox" id="c-39489285" checked=""/><div class="controls bullet"><span class="by">cxr</span><span>|</span><a href="#39489151">prev</a><span>|</span><a href="#39489043">next</a><span>|</span><label class="collapse" for="c-39489285">[-]</label><label class="expand" for="c-39489285">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s nothing in the spec that says table headings disappear from view when you page down.  This is a problem with your WWW reader.  Nothing about this requires authors&#x2F;publishers to be in the loop on this, each applying their own one-off hacky attempt to &quot;fix&quot; this.  They really shouldn&#x27;t be.</div><br/><div id="39489620" class="c"><input type="checkbox" id="c-39489620" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#39489285">parent</a><span>|</span><a href="#39489043">next</a><span>|</span><label class="collapse" for="c-39489620">[-]</label><label class="expand" for="c-39489620">[1 more]</label></div><br/><div class="children"><div class="content">Is there anything in the spec that says any specific element disappears from view when you page down?</div><br/></div></div></div></div><div id="39489043" class="c"><input type="checkbox" id="c-39489043" checked=""/><div class="controls bullet"><span class="by">frenchie4111</span><span>|</span><a href="#39489285">prev</a><span>|</span><a href="#39489576">next</a><span>|</span><label class="collapse" for="c-39489043">[-]</label><label class="expand" for="c-39489043">[1 more]</label></div><br/><div class="children"><div class="content">Make a browser extension that stickys all table headings :p</div><br/></div></div><div id="39489576" class="c"><input type="checkbox" id="c-39489576" checked=""/><div class="controls bullet"><span class="by">defanor</span><span>|</span><a href="#39489043">prev</a><span>|</span><a href="#39488959">next</a><span>|</span><label class="collapse" for="c-39489576">[-]</label><label class="expand" for="c-39489576">[1 more]</label></div><br/><div class="children"><div class="content">There are nice little headings in the video. But sometimes there are larger (multi-line, with paddings) headings, or simply broken ones (e.g., custom fonts with icons that don&#x27;t load), and such headings are more annoying than useful to have sticky. Especially with pages that also show their headers and footers at all times, leaving little space for the content. Which makes it one of those features that should be used with care (while it is occasionally useful, and so is raising awareness about it).</div><br/></div></div><div id="39488959" class="c"><input type="checkbox" id="c-39488959" checked=""/><div class="controls bullet"><span class="by">eirikbakke</span><span>|</span><a href="#39489576">prev</a><span>|</span><a href="#39489342">next</a><span>|</span><label class="collapse" for="c-39488959">[-]</label><label class="expand" for="c-39488959">[1 more]</label></div><br/><div class="children"><div class="content">I had a fun time generalizing sticky headings so they work for forms and nested tables: <a href="https:&#x2F;&#x2F;vimeo.com&#x2F;566181649" rel="nofollow">https:&#x2F;&#x2F;vimeo.com&#x2F;566181649</a> . Though that was in a Java app.</div><br/></div></div><div id="39489342" class="c"><input type="checkbox" id="c-39489342" checked=""/><div class="controls bullet"><span class="by">rehevkor5</span><span>|</span><a href="#39488959">prev</a><span>|</span><a href="#39488910">next</a><span>|</span><label class="collapse" for="c-39489342">[-]</label><label class="expand" for="c-39489342">[1 more]</label></div><br/><div class="children"><div class="content">Looking at you, Confluence.</div><br/></div></div><div id="39488910" class="c"><input type="checkbox" id="c-39488910" checked=""/><div class="controls bullet"><span class="by">klyrs</span><span>|</span><a href="#39489342">prev</a><span>|</span><label class="collapse" for="c-39488910">[-]</label><label class="expand" for="c-39488910">[7 more]</label></div><br/><div class="children"><div class="content">... videos, not inline examples?</div><br/><div id="39489890" class="c"><input type="checkbox" id="c-39489890" checked=""/><div class="controls bullet"><span class="by">nox101</span><span>|</span><a href="#39488910">parent</a><span>|</span><a href="#39488937">next</a><span>|</span><label class="collapse" for="c-39489890">[-]</label><label class="expand" for="c-39489890">[1 more]</label></div><br/><div class="children"><div class="content">Because the videos show the issue with out requiring instructions to the user on how to repo the issue being addressed.<p>I&#x27;ve done this myself (usually with a gif though) because if I leave it as a exercise for the user to fiddle with 15% of them won&#x27;t understand it.</div><br/></div></div><div id="39488937" class="c"><input type="checkbox" id="c-39488937" checked=""/><div class="controls bullet"><span class="by">happytoexplain</span><span>|</span><a href="#39488910">parent</a><span>|</span><a href="#39489890">prev</a><span>|</span><a href="#39488969">next</a><span>|</span><label class="collapse" for="c-39488937">[-]</label><label class="expand" for="c-39488937">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure it&#x27;s worth caring about. Either way seems to communicate the problem perfectly. They provide a playground with code.</div><br/><div id="39489014" class="c"><input type="checkbox" id="c-39489014" checked=""/><div class="controls bullet"><span class="by">klyrs</span><span>|</span><a href="#39488910">root</a><span>|</span><a href="#39488937">parent</a><span>|</span><a href="#39488969">next</a><span>|</span><label class="collapse" for="c-39489014">[-]</label><label class="expand" for="c-39489014">[1 more]</label></div><br/><div class="children"><div class="content">But my Canadian data rate...</div><br/></div></div></div></div><div id="39488969" class="c"><input type="checkbox" id="c-39488969" checked=""/><div class="controls bullet"><span class="by">ivanjermakov</span><span>|</span><a href="#39488910">parent</a><span>|</span><a href="#39488937">prev</a><span>|</span><label class="collapse" for="c-39488969">[-]</label><label class="expand" for="c-39488969">[3 more]</label></div><br/><div class="children"><div class="content">Perhaps because 4% of user agents don&#x27;t support it.</div><br/><div id="39489303" class="c"><input type="checkbox" id="c-39489303" checked=""/><div class="controls bullet"><span class="by">bruce511</span><span>|</span><a href="#39488910">root</a><span>|</span><a href="#39488969">parent</a><span>|</span><a href="#39489301">next</a><span>|</span><label class="collapse" for="c-39489303">[-]</label><label class="expand" for="c-39489303">[1 more]</label></div><br/><div class="children"><div class="content">Thats not really an issue in this case. The only browsers not supporting it are ie11 and opera mini. (And a thing called QQbrowser which I confess I&#x27;ve never heard of.) I&#x27;m guess the 4% of traffic is largely ie11.<p>If you are browsing the Web today with ie11 then there&#x27;s a lot of css that isn&#x27;t going to work right.<p>And the impact of not supporting sticky is invisible - the table just works as it does now.<p>So there&#x27;s no -techical- reason not to use it. At this point it&#x27;s either a cosmetic choice (mostly for overflow reasons) or unawareness of its existence.</div><br/></div></div><div id="39489301" class="c"><input type="checkbox" id="c-39489301" checked=""/><div class="controls bullet"><span class="by">wenc</span><span>|</span><a href="#39488910">root</a><span>|</span><a href="#39488969">parent</a><span>|</span><a href="#39489303">prev</a><span>|</span><label class="collapse" for="c-39489301">[-]</label><label class="expand" for="c-39489301">[1 more]</label></div><br/><div class="children"><div class="content">CSS sticky headings (the solution) won&#x27;t work on the user agents that don&#x27;t support it anyway, so they wouldn&#x27;t be missing out. :)</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>