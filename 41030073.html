<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721638876449" as="style"/><link rel="stylesheet" href="styles.css?v=1721638876449"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://martinfowler.com/articles/data-fetch-spa.html">Data Fetching for Single-Page Apps</a>Â <span class="domain">(<a href="https://martinfowler.com">martinfowler.com</a>)</span></div><div class="subtext"><span>fagnerbrack</span> | <span>4 comments</span></div><br/><div><div id="41031377" class="c"><input type="checkbox" id="c-41031377" checked=""/><div class="controls bullet"><span class="by">morbicer</span><span>|</span><a href="#41031751">next</a><span>|</span><label class="collapse" for="c-41031377">[-]</label><label class="expand" for="c-41031377">[1 more]</label></div><br/><div class="children"><div class="content">I would expect a bit more in-depth article from Martin Fowler website.<p>The shown implementation is naive and prone to bugs, for example a race condition. If this id is rapidly changed (say from 1-&gt;2), and the first request arrives last, you think you are looking at user 2 but you&#x27;ve loaded data for user 1.<p>const [user, setUser] = useState&lt;User | undefined&gt;();<p><pre><code>  useEffect(() =&gt; {
    const fetchUser = async () =&gt; {
      const response = await fetch(`&#x2F;api&#x2F;users&#x2F;${id}`);
      const jsonData = await response.json();
      setUser(jsonData);
    };

    fetchUser();
  }, [id]);
</code></pre>
If you don&#x27;t know what you&#x27;re doing, use Tanstack Query libs or read a better article.<p>- <a href="https:&#x2F;&#x2F;tanstack.com&#x2F;query&#x2F;latest" rel="nofollow">https:&#x2F;&#x2F;tanstack.com&#x2F;query&#x2F;latest</a><p>- <a href="https:&#x2F;&#x2F;maxrozen.com&#x2F;race-conditions-fetching-data-react-with-useeffect" rel="nofollow">https:&#x2F;&#x2F;maxrozen.com&#x2F;race-conditions-fetching-data-react-wit...</a></div><br/></div></div><div id="41031751" class="c"><input type="checkbox" id="c-41031751" checked=""/><div class="controls bullet"><span class="by">knallfrosch</span><span>|</span><a href="#41031377">prev</a><span>|</span><a href="#41031916">next</a><span>|</span><label class="collapse" for="c-41031751">[-]</label><label class="expand" for="c-41031751">[1 more]</label></div><br/><div class="children"><div class="content">The missing syntax highlighting (or the absence of <i>any</i> highlighting) makes it really hard to read.<p>Plus the article only refers to React, but it could have stayed a bit more abstract about the techniques.</div><br/></div></div><div id="41031916" class="c"><input type="checkbox" id="c-41031916" checked=""/><div class="controls bullet"><span class="by">FjordWarden</span><span>|</span><a href="#41031751">prev</a><span>|</span><label class="collapse" for="c-41031916">[-]</label><label class="expand" for="c-41031916">[1 more]</label></div><br/><div class="children"><div class="content">I know that Martin Fowler is your God, and that my denigrations upon this divinity will not go unpunished, or that this guy is not Martin Fowler, but what has this guy ever build to convince me that he actually knows what he is talking about? Maybe I am missing that or something else, but here I read that &quot;Today most applications can send hundreds of requests for a single page&quot;, like one would hope there to be a sort of role within the software enterprise that would actively try to discourage people from being stupid like that.<p>Hey, at least when DHH jumps on the third rail of the hypermedia bandwagon I can laugh about the 500ms delay of a dropdown to show a calendar in his mail app, and I respect him for that.</div><br/></div></div></div></div></div></div></div></body></html>