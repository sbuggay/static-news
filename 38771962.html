<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1703667654884" as="style"/><link rel="stylesheet" href="styles.css?v=1703667654884"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/vnmakarov/mir">Mir: Strongly typed IR to implement fast and lightweight interpreters and JITs</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>nateb2022</span> | <span>20 comments</span></div><br/><div><div id="38780078" class="c"><input type="checkbox" id="c-38780078" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#38778372">next</a><span>|</span><label class="collapse" for="c-38780078">[-]</label><label class="expand" for="c-38780078">[1 more]</label></div><br/><div class="children"><div class="content">Too bad it doesn&#x27;t support SIMD. Would be nice for an easily embeddable SIMD-aware JIT to exist.</div><br/></div></div><div id="38778372" class="c"><input type="checkbox" id="c-38778372" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#38780078">prev</a><span>|</span><a href="#38779799">next</a><span>|</span><label class="collapse" for="c-38778372">[-]</label><label class="expand" for="c-38778372">[4 more]</label></div><br/><div class="children"><div class="content">MIR is a start; someone ought to continue with the following downstream projects:<p>TRYD (Trace Rewriter Yielding Dynamics): reconstitutes a CFG from traces in order to not only JIT single hot paths but also multiple interlacing warm ones<p>MAI (Machine-Agnostic Interpreter): support for mobile processes and agents</div><br/><div id="38779276" class="c"><input type="checkbox" id="c-38779276" checked=""/><div class="controls bullet"><span class="by">jashmatthews</span><span>|</span><a href="#38778372">parent</a><span>|</span><a href="#38779799">next</a><span>|</span><label class="collapse" for="c-38779276">[-]</label><label class="expand" for="c-38779276">[3 more]</label></div><br/><div class="children"><div class="content">&gt; TRYD (Trace Rewriter Yielding Dynamics): reconstitutes a CFG from traces in order to not only JIT single hot paths but also multiple interlacing warm ones<p>Do you have more information on that? Googling didn&#x27;t turn much up. It sounds similar to the Trace Tree or region based compilation approaches?</div><br/><div id="38779773" class="c"><input type="checkbox" id="c-38779773" checked=""/><div class="controls bullet"><span class="by">Tiberium</span><span>|</span><a href="#38778372">root</a><span>|</span><a href="#38779276">parent</a><span>|</span><a href="#38780161">next</a><span>|</span><label class="collapse" for="c-38779773">[-]</label><label class="expand" for="c-38779773">[1 more]</label></div><br/><div class="children"><div class="content">That reply is a pun based on the fact that Mir (Мир) means peace in a lot of Slavic languages, and &quot;Мир! Труд! Май!&quot; (&quot;Peace! Labour! May!&quot;) was a popular slogan in the USSR for celebrating 1st of May (<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;International_Workers%27_Day" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;International_Workers%27_Day</a>)</div><br/></div></div><div id="38780161" class="c"><input type="checkbox" id="c-38780161" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#38778372">root</a><span>|</span><a href="#38779276">parent</a><span>|</span><a href="#38779773">prev</a><span>|</span><a href="#38779799">next</a><span>|</span><label class="collapse" for="c-38780161">[-]</label><label class="expand" for="c-38780161">[1 more]</label></div><br/><div class="children"><div class="content">Tiberium is absolutely correct, but I do admit I&#x27;d love a TRYD-like project. Thanks for giving me some useful search terms!<p>(to be clear, what I had in mind: not just merging trace heads to form a tree, but merging their tails as well [à la NFA minimisation] to form a cyclic graph; after which one could use region-based techniques on the identified cycles.<p>Rpython&#x27;s metatracing does a reasonable job for multiple interlacing warm paths, but there&#x27;s still room for improvement)</div><br/></div></div></div></div></div></div><div id="38779799" class="c"><input type="checkbox" id="c-38779799" checked=""/><div class="controls bullet"><span class="by">noelwelsh</span><span>|</span><a href="#38778372">prev</a><span>|</span><a href="#38779413">next</a><span>|</span><label class="collapse" for="c-38779799">[-]</label><label class="expand" for="c-38779799">[2 more]</label></div><br/><div class="children"><div class="content">Looks like a fun project but I think the window of opportunity might have passed. The Shopify JIT seems to be the way forward for Ruby JITs, and WASM is the obvious choice for new programming languages.</div><br/><div id="38780225" class="c"><input type="checkbox" id="c-38780225" checked=""/><div class="controls bullet"><span class="by">vidarh</span><span>|</span><a href="#38779799">parent</a><span>|</span><a href="#38779413">next</a><span>|</span><label class="collapse" for="c-38780225">[-]</label><label class="expand" for="c-38780225">[1 more]</label></div><br/><div class="children"><div class="content">A new jit (rjit) just landed as an experimental option in 3.3. Ruby is very receptive to trying new things if they look promising.</div><br/></div></div></div></div><div id="38779413" class="c"><input type="checkbox" id="c-38779413" checked=""/><div class="controls bullet"><span class="by">mkleczek</span><span>|</span><a href="#38779799">prev</a><span>|</span><a href="#38779681">next</a><span>|</span><label class="collapse" for="c-38779413">[-]</label><label class="expand" for="c-38779413">[2 more]</label></div><br/><div class="children"><div class="content">I think it would be worth mentioning GraalVM and <a href="https:&#x2F;&#x2F;github.com&#x2F;oracle&#x2F;truffleruby">https:&#x2F;&#x2F;github.com&#x2F;oracle&#x2F;truffleruby</a> in competitors section.</div><br/><div id="38780111" class="c"><input type="checkbox" id="c-38780111" checked=""/><div class="controls bullet"><span class="by">charrondev</span><span>|</span><a href="#38779413">parent</a><span>|</span><a href="#38779681">next</a><span>|</span><label class="collapse" for="c-38780111">[-]</label><label class="expand" for="c-38780111">[1 more]</label></div><br/><div class="children"><div class="content">LuaJit and PHP both use [DynASM](<a href="https:&#x2F;&#x2F;luajit.org&#x2F;dynasm.html" rel="nofollow">https:&#x2F;&#x2F;luajit.org&#x2F;dynasm.html</a>) as well.</div><br/></div></div></div></div><div id="38779681" class="c"><input type="checkbox" id="c-38779681" checked=""/><div class="controls bullet"><span class="by">yawpitch</span><span>|</span><a href="#38779413">prev</a><span>|</span><a href="#38779033">next</a><span>|</span><label class="collapse" for="c-38779681">[-]</label><label class="expand" for="c-38779681">[2 more]</label></div><br/><div class="children"><div class="content">Assumed this was about the other MIR: <a href="https:&#x2F;&#x2F;llvm.org&#x2F;docs&#x2F;MIRLangRef.html" rel="nofollow">https:&#x2F;&#x2F;llvm.org&#x2F;docs&#x2F;MIRLangRef.html</a></div><br/><div id="38779853" class="c"><input type="checkbox" id="c-38779853" checked=""/><div class="controls bullet"><span class="by">densh</span><span>|</span><a href="#38779681">parent</a><span>|</span><a href="#38779033">next</a><span>|</span><label class="collapse" for="c-38779853">[-]</label><label class="expand" for="c-38779853">[1 more]</label></div><br/><div class="children"><div class="content">Of this one: <a href="https:&#x2F;&#x2F;rustc-dev-guide.rust-lang.org&#x2F;mir&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;rustc-dev-guide.rust-lang.org&#x2F;mir&#x2F;index.html</a></div><br/></div></div></div></div><div id="38779033" class="c"><input type="checkbox" id="c-38779033" checked=""/><div class="controls bullet"><span class="by">andyferris</span><span>|</span><a href="#38779681">prev</a><span>|</span><a href="#38778486">next</a><span>|</span><label class="collapse" for="c-38779033">[-]</label><label class="expand" for="c-38779033">[2 more]</label></div><br/><div class="children"><div class="content">Is the project still active?</div><br/><div id="38780277" class="c"><input type="checkbox" id="c-38780277" checked=""/><div class="controls bullet"><span class="by">tomcam</span><span>|</span><a href="#38779033">parent</a><span>|</span><a href="#38778486">next</a><span>|</span><label class="collapse" for="c-38780277">[-]</label><label class="expand" for="c-38780277">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;vnmakarov&#x2F;mir">https:&#x2F;&#x2F;github.com&#x2F;vnmakarov&#x2F;mir</a></div><br/></div></div></div></div><div id="38778366" class="c"><input type="checkbox" id="c-38778366" checked=""/><div class="controls bullet"><span class="by">zer0zzz</span><span>|</span><a href="#38778486">prev</a><span>|</span><label class="collapse" for="c-38778366">[-]</label><label class="expand" for="c-38778366">[5 more]</label></div><br/><div class="children"><div class="content">How many times are folks gonna reuse this name?</div><br/><div id="38779357" class="c"><input type="checkbox" id="c-38779357" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#38778366">parent</a><span>|</span><a href="#38779167">next</a><span>|</span><label class="collapse" for="c-38779357">[-]</label><label class="expand" for="c-38779357">[1 more]</label></div><br/><div class="children"><div class="content">&quot;<i>Please don&#x27;t complain about tangential annoyances—e.g. article or website formats, name collisions, or back-button breakage. They&#x27;re too common to be interesting.</i>&quot;<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsguidelines.html">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsguidelines.html</a></div><br/></div></div><div id="38779167" class="c"><input type="checkbox" id="c-38779167" checked=""/><div class="controls bullet"><span class="by">schneems</span><span>|</span><a href="#38778366">parent</a><span>|</span><a href="#38779357">prev</a><span>|</span><a href="#38778727">next</a><span>|</span><label class="collapse" for="c-38779167">[-]</label><label class="expand" for="c-38779167">[1 more]</label></div><br/><div class="children"><div class="content">It means peace&#x2F;world in Russian. He said so in his rubykaigi keynote. Given that, the more peace in this world, the better, I think.<p>I’m curious if he still sees a path or benefit for Ruby switching to such a tool.</div><br/></div></div><div id="38778727" class="c"><input type="checkbox" id="c-38778727" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#38778366">parent</a><span>|</span><a href="#38779167">prev</a><span>|</span><a href="#38778995">next</a><span>|</span><label class="collapse" for="c-38778727">[-]</label><label class="expand" for="c-38778727">[1 more]</label></div><br/><div class="children"><div class="content">On that note, I&#x27;ve seen quite a few zer0s in my time!</div><br/></div></div><div id="38778995" class="c"><input type="checkbox" id="c-38778995" checked=""/><div class="controls bullet"><span class="by">slimsag</span><span>|</span><a href="#38778366">parent</a><span>|</span><a href="#38778727">prev</a><span>|</span><label class="collapse" for="c-38778995">[-]</label><label class="expand" for="c-38778995">[1 more]</label></div><br/><div class="children"><div class="content">a proportionate number of times to people leaving comments like this</div><br/></div></div></div></div></div></div></div></div></div></body></html>