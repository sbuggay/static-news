<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1694682063342" as="style"/><link rel="stylesheet" href="styles.css?v=1694682063342"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://devblogs.microsoft.com/oldnewthing/20230911-00/?p=108749">Any sufficiently advanced uninstaller is indistinguishable from malware</a>Â <span class="domain">(<a href="https://devblogs.microsoft.com">devblogs.microsoft.com</a>)</span></div><div class="subtext"><span>mycall</span> | <span>380 comments</span></div><br/><div><div id="37492848" class="c"><input type="checkbox" id="c-37492848" checked=""/><div class="controls bullet"><span class="by">8organicbits</span><span>|</span><a href="#37496850">next</a><span>|</span><label class="collapse" for="c-37492848">[-]</label><label class="expand" for="c-37492848">[5 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s the codeproject link the code came from.<p><a href="https:&#x2F;&#x2F;www.codeproject.com&#x2F;Articles&#x2F;17052&#x2F;Self-Deleting-Executables#Whereartthou,Oh%20greatentrypointoftheremoteprocess2" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.codeproject.com&#x2F;Articles&#x2F;17052&#x2F;Self-Deleting-Exe...</a><p>&gt; Whether they follow the licensing terms for that code I do not know.<p>I&#x27;m guessing they didn&#x27;t ship the binary with a link pointing back to this page?<p>These&#x27;s also another codeproject example that uses a bat file, which is fairly similar to the recommendation in the post. I guess that&#x27;s the better example.<p><a href="https:&#x2F;&#x2F;www.codeproject.com&#x2F;Articles&#x2F;4027&#x2F;Writing-a-self-destructing-exe-file" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.codeproject.com&#x2F;Articles&#x2F;4027&#x2F;Writing-a-self-des...</a></div><br/><div id="37493133" class="c"><input type="checkbox" id="c-37493133" checked=""/><div class="controls bullet"><span class="by">xg15</span><span>|</span><a href="#37492848">parent</a><span>|</span><a href="#37495459">next</a><span>|</span><label class="collapse" for="c-37493133">[-]</label><label class="expand" for="c-37493133">[3 more]</label></div><br/><div class="children"><div class="content">At least the author seems to agree with Raymond Chan on the similarities between his approach and malware...<p>&gt; <i>shellcode is the technical term (in security circles) for binary machine code that is typically used in exploits as the payload. Here&#x27;s a quick and dirty way of generating the shellcode from the obj file generated when you compile your source files. In our case, we are interested in whipping the shellcode up for the remote_thread routine. Here&#x27;s what you&#x27;ve got to do:</i><p>The whole article has the vibes of some questionable DIY blog along the lines of &quot;Your house is infested by vermin? Here is an easy way to get rid of them using a small, homebuilt neutron bomb!&quot;</div><br/><div id="37494713" class="c"><input type="checkbox" id="c-37494713" checked=""/><div class="controls bullet"><span class="by">lloydatkinson</span><span>|</span><a href="#37492848">root</a><span>|</span><a href="#37493133">parent</a><span>|</span><a href="#37500811">next</a><span>|</span><label class="collapse" for="c-37494713">[-]</label><label class="expand" for="c-37494713">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunatelt CodeProject is full of code like this.</div><br/></div></div><div id="37500811" class="c"><input type="checkbox" id="c-37500811" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#37492848">root</a><span>|</span><a href="#37493133">parent</a><span>|</span><a href="#37494713">prev</a><span>|</span><a href="#37495459">next</a><span>|</span><label class="collapse" for="c-37500811">[-]</label><label class="expand" for="c-37500811">[1 more]</label></div><br/><div class="children"><div class="content">Nit: Raymond Chen, not Chan</div><br/></div></div></div></div><div id="37495459" class="c"><input type="checkbox" id="c-37495459" checked=""/><div class="controls bullet"><span class="by">taway1237</span><span>|</span><a href="#37492848">parent</a><span>|</span><a href="#37493133">prev</a><span>|</span><a href="#37496850">next</a><span>|</span><label class="collapse" for="c-37495459">[-]</label><label class="expand" for="c-37495459">[1 more]</label></div><br/><div class="children"><div class="content">Funnily enough, real malware does this correctly. Usually by just ShellExecing &quot;ping -n 3 127.0.0.1 &gt;nul&quot; followed by &quot;del&quot; - no temporary file needed.</div><br/></div></div></div></div><div id="37496850" class="c"><input type="checkbox" id="c-37496850" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37492848">prev</a><span>|</span><a href="#37502976">next</a><span>|</span><label class="collapse" for="c-37496850">[-]</label><label class="expand" for="c-37496850">[29 more]</label></div><br/><div class="children"><div class="content">The author says the binary looks like malware because it self-deletes, sleeps and touches this uninstaller thing. But the script he proposes, which would be triggered by this same thing, does the same. I am ignoring the injection thing since he guesses at it (likely correct) and also because, lots of things inject into processes without being malware. (monitoring stuff like AV etc.) 
Additionally, binaries which terminate with a run some script via a scripthost... this could just as well be some malware? (stage1 malware downloads script, runs it via scripthost?)<p>my question(s):
How is the proposed solution better than the original thing? Isn&#x27;t this a case of using bad heuristics to determine maliciousness?<p>In the end, he goes a bit further, and sees its non-malicious. So, with a more elaborate rule or heuristic, wouldn&#x27;t it be clear its not malicious?</div><br/><div id="37497053" class="c"><input type="checkbox" id="c-37497053" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#37496850">parent</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37497053">[-]</label><label class="expand" for="c-37497053">[13 more]</label></div><br/><div class="children"><div class="content">The .js script isn&#x27;t injecting code into another program in order to deletee itself; it is deleeting itself directly.<p>It can do that because, I&#x27;m guessing, the file isn&#x27;t open; the run-time isn&#x27;t executing instructions from that file. The file was read, the content compiled into memory, and closed.<p>The script is deleting its source code, not itself. What actually deletes the script itself is the garbage collector in the run-time. Once the fso.Deletefile call and the for loop are executed, they are no longer reachable and so they are garbage. If there is a way for the &quot;var fso&quot; and &quot;var path&quot; variables to go out of scope, they become garbage also.<p>A binary executable is mapped into memory while the process is running it. In Windows, an open file cannot be deleted.<p>But, even on Windows, a prog.exe could delete the prog.c source code it was compiled from, right? Same thing, sort of.</div><br/><div id="37497302" class="c"><input type="checkbox" id="c-37497302" checked=""/><div class="controls bullet"><span class="by">masfuerte</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497053">parent</a><span>|</span><a href="#37497462">next</a><span>|</span><label class="collapse" for="c-37497302">[-]</label><label class="expand" for="c-37497302">[1 more]</label></div><br/><div class="children"><div class="content">Being pedantic, you can delete open files on Windows if you open them with FILE_SHARE_DELETE.</div><br/></div></div><div id="37497462" class="c"><input type="checkbox" id="c-37497462" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497053">parent</a><span>|</span><a href="#37497302">prev</a><span>|</span><a href="#37499215">next</a><span>|</span><label class="collapse" for="c-37497462">[-]</label><label class="expand" for="c-37497462">[2 more]</label></div><br/><div class="children"><div class="content">The script doesn&#x27;t inject. But a lot of malware downloads a script and runs it, so you&#x27;d hit another rule.</div><br/><div id="37498894" class="c"><input type="checkbox" id="c-37498894" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497462">parent</a><span>|</span><a href="#37499215">next</a><span>|</span><label class="collapse" for="c-37498894">[-]</label><label class="expand" for="c-37498894">[1 more]</label></div><br/><div class="children"><div class="content">The way I understand it, the uninstaller program that wants to delete itself doesn&#x27;t have to download the script from anywhere; it generates the script out to a file.</div><br/></div></div></div></div><div id="37499215" class="c"><input type="checkbox" id="c-37499215" checked=""/><div class="controls bullet"><span class="by">dmazzoni</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497053">parent</a><span>|</span><a href="#37497462">prev</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37499215">[-]</label><label class="expand" for="c-37499215">[9 more]</label></div><br/><div class="children"><div class="content">Is the behavior that a running .js script is fully loaded into memory and the file doesn&#x27;t need to exist documented, supported behavior?<p>What if, hypothetically, the system was suspended in the middle of script execution, and the resume function was designed to reload the script from disk?<p>It just feels like a different hack to me.<p>Also - trying 20 times and pausing 500 ms seems wasteful. What are the chances that it&#x27;s going to succeed a subsequent try if it fails the first try? Why not catch the error message and only retry for errors that have a plausible chance of succeeding if you retry?</div><br/><div id="37500888" class="c"><input type="checkbox" id="c-37500888" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37499215">parent</a><span>|</span><a href="#37499796">next</a><span>|</span><label class="collapse" for="c-37500888">[-]</label><label class="expand" for="c-37500888">[1 more]</label></div><br/><div class="children"><div class="content">There is never a good reason to inject code into another process - particularly a system process. At the point at which you believe this is necessary you are several layers of hackiness deep and should go find a beverage and think over what your actual goal is.<p>As a metaphor: you find the instructions to sweep your floor cumbersome so you reprogram your neighbor&#x27;s Roomba to come clean your floor.  Sure, it may well go back to their house and no harm done, but it&#x27;s hacky, socially unacceptable, and no matter how hard your broom is to use it&#x27;s not OK.</div><br/></div></div><div id="37499796" class="c"><input type="checkbox" id="c-37499796" checked=""/><div class="controls bullet"><span class="by">omnicognate</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37499215">parent</a><span>|</span><a href="#37500888">prev</a><span>|</span><a href="#37500890">next</a><span>|</span><label class="collapse" for="c-37499796">[-]</label><label class="expand" for="c-37499796">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Is the behavior that a running .js script is fully loaded into memory and the file doesn&#x27;t need to exist documented, supported behavior?<p>If Raymond Chen says to rely on it then yes.</div><br/></div></div><div id="37500890" class="c"><input type="checkbox" id="c-37500890" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37499215">parent</a><span>|</span><a href="#37499796">prev</a><span>|</span><a href="#37499894">next</a><span>|</span><label class="collapse" for="c-37500890">[-]</label><label class="expand" for="c-37500890">[1 more]</label></div><br/><div class="children"><div class="content">Even if it doesn&#x27;t, I think you could do something similar by just spawning a shell (command prompt) that executes a small script trying to delete the file. You just have to take care to make sure the process is detached from the original one and then let the spawning process terminate to release the lock on the executable. PowerShell could also work, but I know it is pretty restricted in a lot of environments. These completely avoid any intermediate file.<p>I think the retry is necessary because if you launch &quot;wscript cleanup.js&quot; from the process that wants to be cleaned up, you then need to wait for the spawning process to finish executing. I agree if it fails after 20 times, you should probably spawn an alert or something letting the user know that uninstall failed. There are also so many random processes that might take a reference on the file like antivirus in Windows so just spamming retry will help wait that stuff out (this problem does not exist on Linux since Linux generally just does garbage collection which has the downside of not keeping specific paths around, just file inodes).</div><br/></div></div><div id="37499894" class="c"><input type="checkbox" id="c-37499894" checked=""/><div class="controls bullet"><span class="by">chrchang523</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37499215">parent</a><span>|</span><a href="#37500890">prev</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37499894">[-]</label><label class="expand" for="c-37499894">[5 more]</label></div><br/><div class="children"><div class="content">Agree, I&#x27;m shocked at how ugly the recommended alternative is.  This does not make MS look good.</div><br/><div id="37500911" class="c"><input type="checkbox" id="c-37500911" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37499894">parent</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37500911">[-]</label><label class="expand" for="c-37500911">[4 more]</label></div><br/><div class="children"><div class="content">There are plenty of other solutions; that was merely one straightforward option that could be shown in a few lines of code and which doesn&#x27;t require *injecting code into a binary you don&#x27;t own*.</div><br/><div id="37501141" class="c"><input type="checkbox" id="c-37501141" checked=""/><div class="controls bullet"><span class="by">chrchang523</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37500911">parent</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37501141">[-]</label><label class="expand" for="c-37501141">[3 more]</label></div><br/><div class="children"><div class="content">Sure, but there isn&#x27;t even an offhand remark about how hacky this kind of polling is.  It&#x27;s presented as if it&#x27;s a completely normal way to do things in reliable software.</div><br/><div id="37501739" class="c"><input type="checkbox" id="c-37501739" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37501141">parent</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37501739">[-]</label><label class="expand" for="c-37501739">[2 more]</label></div><br/><div class="children"><div class="content">No worse than the 10 minute delay rule in DllCanUnloadNow.<p>DllCanUnloadNow returns an indication that a DLL can be unloaded. A DLL cannot be unloaded if any threads are executing the code. But a DLL can only change to the unloadable state by executing some code, and that code has to return after it has set the indication. Only after it returns is the DLL is <i>actually</i> unloadable! So a delay is needed for that thread to vacate the DLL.<p><a href="https:&#x2F;&#x2F;groups.google.com&#x2F;g&#x2F;microsoft.public.vc.atl&#x2F;c&#x2F;AQvHCWohaqw" rel="nofollow noreferrer">https:&#x2F;&#x2F;groups.google.com&#x2F;g&#x2F;microsoft.public.vc.atl&#x2F;c&#x2F;AQvHCW...</a>  [2001]</div><br/><div id="37502759" class="c"><input type="checkbox" id="c-37502759" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37501739">parent</a><span>|</span><a href="#37497327">next</a><span>|</span><label class="collapse" for="c-37502759">[-]</label><label class="expand" for="c-37502759">[1 more]</label></div><br/><div class="children"><div class="content">So in the present example from Raymond Chen you need the loop for a similar reason.<p>The binary .exe program which the script is trying to delete is the one which created the script and launched it. So that means the .exe is still running at that point and cannot yet be deleted. Lauching the script indicates &quot;I&#x27;m about to die&quot;, not &quot;I&#x27;m already dead&quot;. The script cannot delete the .exe until the .exe terminates. Without some event to indicate that, you poll.<p>The script knows it <i>can</i> delete itself, so it tries that only once.<p>If a handle could be attached to the process, then the script could do a WaitForSingleObject on it; that would be the prim and proper way.<p>It doesn&#x27;t seem worth doing; the chances are low that the process cannot terminate within 20 seconds of launching the reaper script.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37497327" class="c"><input type="checkbox" id="c-37497327" checked=""/><div class="controls bullet"><span class="by">ghostpepper</span><span>|</span><a href="#37496850">parent</a><span>|</span><a href="#37497053">prev</a><span>|</span><a href="#37496944">next</a><span>|</span><label class="collapse" for="c-37497327">[-]</label><label class="expand" for="c-37497327">[3 more]</label></div><br/><div class="children"><div class="content">Once you move past comparing hashes against known malware (by definition useless against novel malware), and the slightly more complex matching of specific binary strings, detecting malware with &quot;shitty heuristics&quot; is basically all we&#x27;ve got.<p>Companies that buy AV&#x2F;EDR products expect them to detect unwanted behaviour while allowing any sort of weird, hacky, abuses of the system that they rely upon for their business.<p>It&#x27;s never been entirely clear to me why windows provides such a rich interface for one process to inject and start executing code in the address space of another but IMHO I want to know when this is happening even when it&#x27;s done by a &quot;legitimate&quot; uninstaller.</div><br/><div id="37497460" class="c"><input type="checkbox" id="c-37497460" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497327">parent</a><span>|</span><a href="#37496944">next</a><span>|</span><label class="collapse" for="c-37497460">[-]</label><label class="expand" for="c-37497460">[2 more]</label></div><br/><div class="children"><div class="content">The first point is true i admit. There are very complex and good ways to identify stuff but those perform so bad they cannot be used in practice.<p>AV&#x2F;EDR products do try to prevent a lot of stuff. They can &#x27;generically&#x27; block things like injection etc. by &#x27;hooking all the things&#x27; and injecting into everything (yes, yuck :D and still kind of heuristic based i admit!) to make certain sections read only or remove executable mappings etc. (got&#x2F;plt&#x2F;stack&#x2F;...)<p>Linux or more specifically ELF files also have an easy vector to allow injection by having a dynamic table entry for debugging purposes which can be trivially overwritten for example. &quot;ibc.so&quot; :(). I&#x27;m not sure anyone uses that entry validly... especially since there&#x27;s better&#x2F;less awkward debugging interfaces than injecting a debugger DLL into something :&#x27;) at least in x86&#x2F;64 Linux land. (ELFShell sure was fun tho!)</div><br/><div id="37498119" class="c"><input type="checkbox" id="c-37498119" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497460">parent</a><span>|</span><a href="#37496944">next</a><span>|</span><label class="collapse" for="c-37498119">[-]</label><label class="expand" for="c-37498119">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re talking about LD_PRELOAD, I used it for an integration test suite of low level system components.</div><br/></div></div></div></div></div></div><div id="37496944" class="c"><input type="checkbox" id="c-37496944" checked=""/><div class="controls bullet"><span class="by">PcChip</span><span>|</span><a href="#37496850">parent</a><span>|</span><a href="#37497327">prev</a><span>|</span><a href="#37497200">next</a><span>|</span><label class="collapse" for="c-37496944">[-]</label><label class="expand" for="c-37496944">[6 more]</label></div><br/><div class="children"><div class="content">&gt;How is the proposed solution better than the original thing?<p>I&#x27;m only assuming here, but maybe because it won&#x27;t crash explorer and it&#x27;s just a few lines of self-documenting code?</div><br/><div id="37497303" class="c"><input type="checkbox" id="c-37497303" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37496944">parent</a><span>|</span><a href="#37497200">next</a><span>|</span><label class="collapse" for="c-37497303">[-]</label><label class="expand" for="c-37497303">[5 more]</label></div><br/><div class="children"><div class="content">Haha, well fair enough the crash is bad indeed, good point! This isn&#x27;t intended behavior though and presumably, it doesn&#x27;t crash on in cases of this technique being implemented in uninstallers. (a bit of a guess i admit!)</div><br/><div id="37497781" class="c"><input type="checkbox" id="c-37497781" checked=""/><div class="controls bullet"><span class="by">ChrisSD</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497303">parent</a><span>|</span><a href="#37500927">next</a><span>|</span><label class="collapse" for="c-37497781">[-]</label><label class="expand" for="c-37497781">[3 more]</label></div><br/><div class="children"><div class="content">The fact it injects into another process means they can&#x27;t know if it&#x27;ll crash or not. You&#x27;re just one Explorer update away from things changing enough for the hack to crash it.<p>I guess they could do this more robustly. I.e pause the entire explorer process, save all its state, remotely allocate new memory to inject their code, remotely create a new thread, run only that thread using the injected code, restore all the process&#x27; state and finally start it running where it left off. A script would be easier though.</div><br/><div id="37499789" class="c"><input type="checkbox" id="c-37499789" checked=""/><div class="controls bullet"><span class="by">nneonneo</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497781">parent</a><span>|</span><a href="#37499175">next</a><span>|</span><label class="collapse" for="c-37499789">[-]</label><label class="expand" for="c-37499789">[1 more]</label></div><br/><div class="children"><div class="content">The problem isnât that the injected thread is racing explorer - indeed, pausing the entirety of explorer to run your uninstaller would probably be strictly more dangerous than what theyâre doing - the problem is that the injected thread is using function pointers that do not exist in explorer.exe. Most likely, the reason is that the uninstaller itself has been âdetouredâ by yet another program to patch calls to certain functions, and itâs copying the detoured addresses instead of the addresses to the real functions.<p>Both detouring and remote thread injection are supported on Windows, but fall into the category of gray-hat techniques; there are some legitimate uses but quite a lot of illegitimate uses, and using these techniques correctly (without crashing anything!) can be a real challenge.</div><br/></div></div><div id="37499175" class="c"><input type="checkbox" id="c-37499175" checked=""/><div class="controls bullet"><span class="by">xp84</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497781">parent</a><span>|</span><a href="#37499789">prev</a><span>|</span><a href="#37500927">next</a><span>|</span><label class="collapse" for="c-37499175">[-]</label><label class="expand" for="c-37499175">[1 more]</label></div><br/><div class="children"><div class="content">Agree completely.<p>I would have assumed (naively?) that they could just copy their uninstaller into a temp folder and run it from there, and just rely on the OS to nuke it in due time, but as a consumer I appreciate the thoroughness of an uninstaller that leaves no trace.</div><br/></div></div></div></div><div id="37500927" class="c"><input type="checkbox" id="c-37500927" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497303">parent</a><span>|</span><a href="#37497781">prev</a><span>|</span><a href="#37497200">next</a><span>|</span><label class="collapse" for="c-37500927">[-]</label><label class="expand" for="c-37500927">[1 more]</label></div><br/><div class="children"><div class="content">You find the instructions to sweep your floor cumbersome so you reprogram your neighbor&#x27;s Roomba to come clean your floor. Sure, it may well go back to their house and no harm done, but it&#x27;s hacky, socially unacceptable, and no matter how hard your broom is to use it&#x27;s not OK.</div><br/></div></div></div></div></div></div><div id="37497200" class="c"><input type="checkbox" id="c-37497200" checked=""/><div class="controls bullet"><span class="by">thombat</span><span>|</span><a href="#37496850">parent</a><span>|</span><a href="#37496944">prev</a><span>|</span><a href="#37497601">next</a><span>|</span><label class="collapse" for="c-37497200">[-]</label><label class="expand" for="c-37497200">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s more about how it does it: injecting executable code directly into the stack so that some other code unwittingly transfers control to it. Stack-smashing is a lot more malware-ISH than a few lines of shell script.</div><br/><div id="37497378" class="c"><input type="checkbox" id="c-37497378" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497200">parent</a><span>|</span><a href="#37497601">next</a><span>|</span><label class="collapse" for="c-37497378">[-]</label><label class="expand" for="c-37497378">[2 more]</label></div><br/><div class="children"><div class="content">They inject something into Explorer. I would assume that to be some DLL that is injected?<p>----
Neither code injection nor detouring is officially supported. I canât tell who did the detouring. Maybe somebody added a detour to the uninstaller, unaware that the uninstaller is going to inject a call to the detour into Explorer. Or maybe the detour was injected by anti-malware software. Or maybe the detour was injected by Windowsâ own application compatibility layer. Whatever the reason, the result was a crash in Explorer.
----<p>I&#x27;d think the anti-malware guess here would be correct, and that (DLL) injection was stopped, and thus some crash happened. Thanks for your reply.<p>The DLL would execute something from its stack so it can be somewhat dynamic (perhaps some path or something is generated before the injection or so - really little to go on here...) and not need to make a heap allocation within Explorer.exe. (this is perhaps a bit too much to assume idk.)<p>Thanks for your insights!</div><br/><div id="37499074" class="c"><input type="checkbox" id="c-37499074" checked=""/><div class="controls bullet"><span class="by">darkclouds</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37497378">parent</a><span>|</span><a href="#37497601">next</a><span>|</span><label class="collapse" for="c-37499074">[-]</label><label class="expand" for="c-37499074">[1 more]</label></div><br/><div class="children"><div class="content">&gt;I canât tell who did the detouring<p>I was thinking hmm and so it continues that game of whack a mole.<p>If a new OS could be designed from scratch, there must be a way to prevent this sort of stuff.</div><br/></div></div></div></div></div></div><div id="37497601" class="c"><input type="checkbox" id="c-37497601" checked=""/><div class="controls bullet"><span class="by">some_random</span><span>|</span><a href="#37496850">parent</a><span>|</span><a href="#37497200">prev</a><span>|</span><a href="#37496996">next</a><span>|</span><label class="collapse" for="c-37497601">[-]</label><label class="expand" for="c-37497601">[1 more]</label></div><br/><div class="children"><div class="content">Cybersecurity is pretty much all bad heuristics with the belief that if you use enough of them they average out to an ok determination of maliciousness. It works alright, sometimes.</div><br/></div></div><div id="37496996" class="c"><input type="checkbox" id="c-37496996" checked=""/><div class="controls bullet"><span class="by">oefrha</span><span>|</span><a href="#37496850">parent</a><span>|</span><a href="#37497601">prev</a><span>|</span><a href="#37502976">next</a><span>|</span><label class="collapse" for="c-37496996">[-]</label><label class="expand" for="c-37496996">[2 more]</label></div><br/><div class="children"><div class="content">Maybe itâs less likely to be flagged or interfered with by antivirus? Antivirus uses all kinds of shitty heuristics, seeing that my Go executables built with -ldflags=&quot;-H windowsgui&quot; are flagged as malware by Windows Defender and co. all the time. Itâs maddening.</div><br/><div id="37497473" class="c"><input type="checkbox" id="c-37497473" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37496850">root</a><span>|</span><a href="#37496996">parent</a><span>|</span><a href="#37502976">next</a><span>|</span><label class="collapse" for="c-37497473">[-]</label><label class="expand" for="c-37497473">[1 more]</label></div><br/><div class="children"><div class="content">that&#x27;s fair enough. perhaps they can more easily in AV land make some kind of signature that whitelists this self-deletion javascript method because the script is more readable. though i&#x27;d expect a good AV to be at least worried if some executable on my system runs a script file via a scripthost.</div><br/></div></div></div></div></div></div><div id="37502976" class="c"><input type="checkbox" id="c-37502976" checked=""/><div class="controls bullet"><span class="by">sim-</span><span>|</span><a href="#37496850">prev</a><span>|</span><a href="#37493827">next</a><span>|</span><label class="collapse" for="c-37502976">[-]</label><label class="expand" for="c-37502976">[1 more]</label></div><br/><div class="children"><div class="content">Imagine if Windows just allowed DeleteFile() even if the file was open, like unlink() on almost any other OS...</div><br/></div></div><div id="37493827" class="c"><input type="checkbox" id="c-37493827" checked=""/><div class="controls bullet"><span class="by">blackpill0w</span><span>|</span><a href="#37502976">prev</a><span>|</span><a href="#37492589">next</a><span>|</span><label class="collapse" for="c-37493827">[-]</label><label class="expand" for="c-37493827">[128 more]</label></div><br/><div class="children"><div class="content">Why do Windows programs need special installers&#x2F;uninstallers? Why isn&#x27;t this handled by Windows itself?</div><br/><div id="37495575" class="c"><input type="checkbox" id="c-37495575" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37493923">next</a><span>|</span><label class="collapse" for="c-37495575">[-]</label><label class="expand" for="c-37495575">[17 more]</label></div><br/><div class="children"><div class="content">Windows has had an installer as an OS component since the late 90s (called Windows Installer). As a sysadmin I&#x27;d prefer apps use it. Many application developers do not. It&#x27;s maddening. (Doubly so when Microsoft themselves don&#x27;t use it-- newer versions of Office, Teams, etc. Microsoft suffers from too much NIH.)<p>I get unattended installs and uninstalls &quot;for free&quot; when well-behaved applications use Windows Installer. Patching is included, too. Customizing installations is fairly straightforward.<p>On the developer side it has historically used a very quirky proprietary file format (MSI) with a fairly steep learning curve and a ton of &quot;tribal knowledge&quot; required to make it work for all but the most trivial cases. (Though, to be fair, most installs are the trivial case-- copy some files, throw some stuff into the registry, make some shortcuts.)<p>Worse, it allows for arbitrary code execution (&quot;Custom Actions&quot;), at which point all bets are off re: unattended installs, removal, etc. Some Windows Installer packages are just &quot;wrapped&quot; EXEs (Google Chrome, for example).<p>I&#x27;ve packaged a ton of 3rd party software as Windows Installer packages. It&#x27;s an ugly system with lots of warts and legacy crap, but if you need to load an application on a large number of Windows PCs reliably unattended it&#x27;s decently fit for purpose.<p>There is reasonable free and libre tooling to generate MSI packages from plain text source (the WiX toolkit) and it can be used in a CI pipeline.</div><br/><div id="37497056" class="c"><input type="checkbox" id="c-37497056" checked=""/><div class="controls bullet"><span class="by">RajT88</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495575">parent</a><span>|</span><a href="#37495850">next</a><span>|</span><label class="collapse" for="c-37497056">[-]</label><label class="expand" for="c-37497056">[5 more]</label></div><br/><div class="children"><div class="content">Can confirm.  I would be considered by most to have been a Windows Installer expert at one point.  Installshield &#x2F; Wix &#x2F; Whatever else.<p>It is intentionally obtuse at times (MSIFileHash table uses rearranged MD5 hashes for example), and also many features made sense for the late 90&#x27;s&#x2F;Early 2000&#x27;s era where bandwidth was low and connectivity limited, and lots of stuff was distributed on CD&#x27;s.  The look on people&#x27;s faces when you explain advertisement to them the first time...  How their unrelated app can get stuck in a loop of repair for a piece of unrelated software...<p>It was deprecated by the newer AppX&#x2F;MSIx&#x2F;AppV format which uses sandboxes, binary chunks&#x2F;streaming and no executable code to install stuff.<p>For my own desktop computing, I prefer MSI packages because I prefer having control post-install to tinker with things if I feel like it.  Also, I have the skillset to modify the installer to my whims if I so choose.</div><br/><div id="37500136" class="c"><input type="checkbox" id="c-37500136" checked=""/><div class="controls bullet"><span class="by">ripley12</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37497056">parent</a><span>|</span><a href="#37498416">next</a><span>|</span><label class="collapse" for="c-37500136">[-]</label><label class="expand" for="c-37500136">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It was deprecated by the newer AppX&#x2F;MSIx&#x2F;AppV format which uses sandboxes, binary chunks&#x2F;streaming and no executable code to install stuff.<p>I can offer a little perspective on MSIX, having devoted months of my life to it in a past job.<p>MSIX is nearly unusable outside the Store. It will work in a tightly controlled environment, but when you try to deploy it to a wide variety of users you will run into 1) unhelpful errors that basically can&#x27;t be diagnosed, 2) enterprise environments that cannot&#x2F;will not allow MSIX installs. I get the impression that the MSIX team is uninterested in solving either of those issues.<p>It&#x27;s not a coincidence that virtually no first-party teams use MSIX to install their product outside the Store. Office tried for a while and eventually gave up.<p>Despite all that, there are still a few people at MS who will tell you that MSIX is the future. I don&#x27;t really understand it and I assume there&#x27;s a weird political reason for this.</div><br/><div id="37506367" class="c"><input type="checkbox" id="c-37506367" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37500136">parent</a><span>|</span><a href="#37498416">next</a><span>|</span><label class="collapse" for="c-37506367">[-]</label><label class="expand" for="c-37506367">[1 more]</label></div><br/><div class="children"><div class="content">MSIX can be made to work in that context. We&#x27;ve done it, although it required writing our own installer EXE stub that invokes the package management API rather than using Microsoft&#x27;s own &quot;App Installer&quot; app, and doing lots of remote diagnosis to solve the mysterious bugs you were hitting. I would indeed not recommend anyone try to use it with Microsoft&#x27;s own tooling.<p>Still, when you finally make it work you get a lot of benefits. MSI is clearly dead end tech which is why so many MSIs are just installer EXEs wrapped in the file format. It doesn&#x27;t have any clear path to modern essentials like online updates, keeping the OS clean, sandboxing and so on. If you were on the Windows team, what would <i>you</i> say the future was?<p>For enterprise environments it&#x27;s actually somewhat the opposite: MSIX packages can be installed without admin privileges due to their declarative nature, and it&#x27;s very easy for admins to provision MSIXs to Active Directory groups because they don&#x27;t have to do any repackaging work. Yes, some admins have hacked Windows to stop it working because when MS launched the Store they didn&#x27;t provide any way for admins to opt out, but these days they have the knobs they need. Also, because they&#x27;re just zips you can always just unzip them into your home directory to get at the app inside. It won&#x27;t auto update that way, but as long as EXEs can run from the home dir it can work.<p>Products like Office and Visual Studio have entire teams devoted to nothing but their installers, which is clearly going too far in the opposite direction. Most products won&#x27;t want to do that.</div><br/></div></div></div></div><div id="37498416" class="c"><input type="checkbox" id="c-37498416" checked=""/><div class="controls bullet"><span class="by">jjcoffman</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37497056">parent</a><span>|</span><a href="#37500136">prev</a><span>|</span><a href="#37495850">next</a><span>|</span><label class="collapse" for="c-37498416">[-]</label><label class="expand" for="c-37498416">[2 more]</label></div><br/><div class="children"><div class="content">Orca ftw</div><br/><div id="37498549" class="c"><input type="checkbox" id="c-37498549" checked=""/><div class="controls bullet"><span class="by">RajT88</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37498416">parent</a><span>|</span><a href="#37495850">next</a><span>|</span><label class="collapse" for="c-37498549">[-]</label><label class="expand" for="c-37498549">[1 more]</label></div><br/><div class="children"><div class="content">If you go way down the rabbit hole, you end up at modifying OpenMCDF.</div><br/></div></div></div></div></div></div><div id="37495850" class="c"><input type="checkbox" id="c-37495850" checked=""/><div class="controls bullet"><span class="by">mariusmg</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495575">parent</a><span>|</span><a href="#37497056">prev</a><span>|</span><a href="#37496586">next</a><span>|</span><label class="collapse" for="c-37495850">[-]</label><label class="expand" for="c-37495850">[3 more]</label></div><br/><div class="children"><div class="content">&gt; with a fairly steep learning curve and a ton of &quot;tribal knowledge&quot;<p>Yes, people preffer to debug their own code rather than spend shitload of time to understand Wix&#x2F;MSI.<p>Microsoft deciding early on to not produce low cost tools for Windows Installer also didn&#x27;t helped with the adoption.</div><br/><div id="37495906" class="c"><input type="checkbox" id="c-37495906" checked=""/><div class="controls bullet"><span class="by">delfinom</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495850">parent</a><span>|</span><a href="#37496586">next</a><span>|</span><label class="collapse" for="c-37495906">[-]</label><label class="expand" for="c-37495906">[2 more]</label></div><br/><div class="children"><div class="content">The joke is, Microsoft devs even now use NSIS for things like VSCode rather than deal with MSIs lol<p>But there is the modern implementation of AppX Bundles which was later extended to create MSIX which allows app distribution without the windows store.
There are still drawbacks to using MSIX usually because you want to touch Windows in ways you can&#x27;t inside the sandbox.</div><br/><div id="37499242" class="c"><input type="checkbox" id="c-37499242" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495906">parent</a><span>|</span><a href="#37496586">next</a><span>|</span><label class="collapse" for="c-37499242">[-]</label><label class="expand" for="c-37499242">[1 more]</label></div><br/><div class="children"><div class="content">To my understanding, MSIX today supports the full MSI catalog and will do entirely unsandboxed (unattended [0]) installs if you want it to. But you need to understand all the same complexity of MSI to build installers in it. The biggest remaining difference MSIX and MSI is an MSI is a strange nesting doll of ancient binary database formats that is tough to build (which is why WiX exists and is part of why WiX is so complex) whereas MSIX is &quot;just&quot; an ordinary ZIP bundle of your files plus XML manifests. With the final punchline being that those XML manifests have yet another dialect from WiX&#x27;s ancient MSI-database-influenced XML and of course it also isn&#x27;t as simple as deleting the WiX compiler and just zipping a WiX project.<p>In my experience, you can pretty easily write the nice sandboxed MSIX manifests by hand, it&#x27;s not too bad, but general MSIX doing weird MSI things you still want better more expensive tools to build them (and of course Microsoft themselves still don&#x27;t exactly provide that and will point you to plenty of expensive third party installer studios for options, many of which are the exact same ones people have been overpaying for decades).<p>[0] The one complaint I&#x27;m aware of is that you can&#x27;t do custom installer UI and &quot;attended&quot; installs with user choices. There&#x27;s one MSIX UI and it is barebones but acceptable. That&#x27;s all you get.</div><br/></div></div></div></div></div></div><div id="37496586" class="c"><input type="checkbox" id="c-37496586" checked=""/><div class="controls bullet"><span class="by">sebazzz</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495575">parent</a><span>|</span><a href="#37495850">prev</a><span>|</span><a href="#37495959">next</a><span>|</span><label class="collapse" for="c-37496586">[-]</label><label class="expand" for="c-37496586">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Doubly so when Microsoft themselves don&#x27;t use it<p>Often, as you mentioned, Windows Installer packages are wrapped by an executable (in WiX this is called a &quot;bundle&quot; because you may also choose to add redistributables like the C++ runtime).<p>However, what you see in installations like SQL Server, Office and Visual Studio is that the installers are bundles as well - of a large amount of MSIs that need to be installed and uninstalled in a specific order. A single Microsoft Installer package is transactional and can be rolled back on failure, but bundles are not as well defined and left open to the implementation of the bundle. Windows Installer does not reach beyond the single msi package.</div><br/></div></div><div id="37495959" class="c"><input type="checkbox" id="c-37495959" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495575">parent</a><span>|</span><a href="#37496586">prev</a><span>|</span><a href="#37499815">next</a><span>|</span><label class="collapse" for="c-37495959">[-]</label><label class="expand" for="c-37495959">[3 more]</label></div><br/><div class="children"><div class="content">I had a friend who worked for a company that specialized in Web browser bars and MSIs.  In other words, they were a shop to put all kinds of malware into these things.  It was a viable <i>business model</i> for a company of something like 50 people.<p>The whole story and ideas put into Windows installing programs are a stupid joke.  It&#x27;s designed by project managers who have no idea what they are doing and no imagination and is executed by the cheapest least motivated programmers from South Asia Microsoft can possibly find.<p>A lot of people who do useful stuff for Windows try to stay away from as much of Microsoft&#x27;s stuff as possible, and integrate it as little as possible with anything else coming from the system because it&#x27;s just maddening how horrible everything there is.</div><br/><div id="37499344" class="c"><input type="checkbox" id="c-37499344" checked=""/><div class="controls bullet"><span class="by">elzbardico</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495959">parent</a><span>|</span><a href="#37499815">next</a><span>|</span><label class="collapse" for="c-37499344">[-]</label><label class="expand" for="c-37499344">[2 more]</label></div><br/><div class="children"><div class="content">A lot of weird things in windows are reflections of the gestalt in the 90&#x27;s and early 2000. People went all in on all sort of OOP-derived weirdness, like CORBA, COM.<p>&quot;Plain-Text files for configuration? what do you think we are? savages? no, we need a hierarchical registry! every serious program must use some opaque binary format to store stuff!&quot; seem to be the general animus at that time. Nowadays, even if you really hated the idea of a text files for configuration in your home direction, people would probably do something more straight-forward like using a SQLite db.</div><br/><div id="37503294" class="c"><input type="checkbox" id="c-37503294" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37499344">parent</a><span>|</span><a href="#37499815">next</a><span>|</span><label class="collapse" for="c-37503294">[-]</label><label class="expand" for="c-37503294">[1 more]</label></div><br/><div class="children"><div class="content">Agreed re: some of the Windows &quot;strangeness&quot;. I think there was some amount of needlessly &quot;Enterprise&quot; architecting going on at MSFT back in the day.<p>There were also very practical solutions incorporated to accommodate the constraints of the hardware of the time that come off looking like needless complexity today, too. (There&#x27;s also, arguably, some laziness in the old binary file formats that were nothing more than  dumps of in-memory structures. That&#x27;s a common story across a ton of old software-- not just MSFT.)<p>Rob Mensching, who worked at Microsoft on Windows Installer pre-release, has a nice blog post about internals of MSI.[0] He goes into some of the overwrought architecture in MSI, as well as quirks to overcome performance limitations in a world of floppy disk-based distribution and much smaller memory capacities. It&#x27;s a good read.<p>[0] <a href="https:&#x2F;&#x2F;robmensching.com&#x2F;blog&#x2F;posts&#x2F;2003&#x2F;11&#x2F;25&#x2F;inside-the-msi-file-format&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;robmensching.com&#x2F;blog&#x2F;posts&#x2F;2003&#x2F;11&#x2F;25&#x2F;inside-the-ms...</a></div><br/></div></div></div></div></div></div><div id="37499815" class="c"><input type="checkbox" id="c-37499815" checked=""/><div class="controls bullet"><span class="by">HdS84</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495575">parent</a><span>|</span><a href="#37495959">prev</a><span>|</span><a href="#37497426">next</a><span>|</span><label class="collapse" for="c-37499815">[-]</label><label class="expand" for="c-37499815">[1 more]</label></div><br/><div class="children"><div class="content">Wix is part of the problem. It&#x27;s basically making money for the developers who offer consultancy for it.<p>Therefore the documentation is poor , like the absolute worst I&#x27;ve ever seen. Opening issues for doc issues never results in anything. Pointing out UX issues is usually shot down. Finally, until this year you needed .net 2 installed to build it, which does not play well with windows docker.</div><br/></div></div><div id="37497426" class="c"><input type="checkbox" id="c-37497426" checked=""/><div class="controls bullet"><span class="by">mavhc</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495575">parent</a><span>|</span><a href="#37499815">prev</a><span>|</span><a href="#37493923">next</a><span>|</span><label class="collapse" for="c-37497426">[-]</label><label class="expand" for="c-37497426">[3 more]</label></div><br/><div class="children"><div class="content">As soon as Office 2007 didn&#x27;t use MSI the format was doomed.<p>I assume the Here in NIH refers to an individual team, not MS as a whole.<p>Teams is entirely NIH <a href="https:&#x2F;&#x2F;github.com&#x2F;Squirrel&#x2F;Squirrel.Windows">https:&#x2F;&#x2F;github.com&#x2F;Squirrel&#x2F;Squirrel.Windows</a> for updates to the Electron app.<p>I would use winget, but MS made it weirdly hard to run as a script on multiple computers, it installs per user, because... who knows.<p>So still using chocolatey</div><br/><div id="37499302" class="c"><input type="checkbox" id="c-37499302" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37497426">parent</a><span>|</span><a href="#37493923">next</a><span>|</span><label class="collapse" for="c-37499302">[-]</label><label class="expand" for="c-37499302">[2 more]</label></div><br/><div class="children"><div class="content">To be fair, Squirrel came from GitHub and early Electron <i>before</i> Microsoft bought GitHub, so it wasn&#x27;t Microsoft&#x27;s NIH that built Squirrel originally.</div><br/><div id="37506450" class="c"><input type="checkbox" id="c-37506450" checked=""/><div class="controls bullet"><span class="by">mavhc</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37499302">parent</a><span>|</span><a href="#37493923">next</a><span>|</span><label class="collapse" for="c-37506450">[-]</label><label class="expand" for="c-37506450">[1 more]</label></div><br/><div class="children"><div class="content">True, I used NIH in the opposite meaning accidentally, I mean it was not invented at Microsoft</div><br/></div></div></div></div></div></div></div></div><div id="37493923" class="c"><input type="checkbox" id="c-37493923" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37495575">prev</a><span>|</span><a href="#37494847">next</a><span>|</span><label class="collapse" for="c-37493923">[-]</label><label class="expand" for="c-37493923">[30 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think any major desktop OS handles this well.<p>I suspect the final form for software installation is probably where iOS and Android are going in the EU, where there&#x27;s a single means of installing software to the device so that everything can be sandboxed properly, but the acquisition&#x2F;update process can be pointed to a URL&#x2F;Store that the user has pre-approved.<p>macOS comes pretty close to what I&#x27;d ideally want in an OS with regards to installation - independent packages that are certified&#x2F;notarised, but I&#x27;d like to see the OS allow for user-specified authorities beyond just Apple.  That being said, I&#x27;m not sure I&#x27;d ever use them as it&#x27;s part of what I&#x27;m paying Apple for, I&#x27;m really thinking more of Linux there.<p>A kind of flatpak&#x2F;snap approach, but that has signing of the package and centralised management of the permissions for the sandbox at an OS level would be ideal in my view.  That way it&#x27;s still free-as-in-speech as the user can specify which notarisation authority to use (or none at all).<p>I really don&#x27;t understand why seperate programs are handling removing their mother program in 2023, that&#x27;s registry spaghetti messy.</div><br/><div id="37494943" class="c"><input type="checkbox" id="c-37494943" checked=""/><div class="controls bullet"><span class="by">irusensei</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493923">parent</a><span>|</span><a href="#37493995">next</a><span>|</span><label class="collapse" for="c-37494943">[-]</label><label class="expand" for="c-37494943">[11 more]</label></div><br/><div class="children"><div class="content">Everyone is pointing at Windows but there are still installer software on MacOS. Normally crusty old corpoware like Citrix that needs to extend its tentacles to the whole system.<p>On Unix&#x2F;Linux land the prevalence of pipe curl to bash type installers is not much different.<p>I normally keep both types away from my computers.</div><br/><div id="37497089" class="c"><input type="checkbox" id="c-37497089" checked=""/><div class="controls bullet"><span class="by">Matl</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494943">parent</a><span>|</span><a href="#37495704">next</a><span>|</span><label class="collapse" for="c-37497089">[-]</label><label class="expand" for="c-37497089">[7 more]</label></div><br/><div class="children"><div class="content">&gt; On Unix&#x2F;Linux land the prevalence of pipe curl to bash type installers is not much different.<p>This is a problem but only if you install software on Linux by manually going to the project page and copy-pasting whatever curl they have there, I think the difference is that mostly you&#x27;re encouraged to go the package manager route, whereas on windows downloading .exes directly (ala the curl example) is the norm.</div><br/><div id="37498469" class="c"><input type="checkbox" id="c-37498469" checked=""/><div class="controls bullet"><span class="by">sanitycheck</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37497089">parent</a><span>|</span><a href="#37498016">next</a><span>|</span><label class="collapse" for="c-37498469">[-]</label><label class="expand" for="c-37498469">[2 more]</label></div><br/><div class="children"><div class="content">It seems to be increasingly the case that package managers just don&#x27;t have some software - or have a version that&#x27;s years out of date. Perhaps the number of different ones available has become self-defeating.<p>Directly sudoing a curl-ed script is like running a binary on Windows with admin permissions and with Defender turned off, which makes it somewhat more scary to me.<p>On Windows I use Chocolatey when I can, and if I can&#x27;t (or it looks dodgy anyway) I&#x27;ll either just not install it or try it in a sandbox. Things that aren&#x27;t choco-able are generally commercial software obtained from the vendor&#x27;s download page, we theoretically trust those things somewhat. YMMV.</div><br/><div id="37499488" class="c"><input type="checkbox" id="c-37499488" checked=""/><div class="controls bullet"><span class="by">Matl</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37498469">parent</a><span>|</span><a href="#37498016">next</a><span>|</span><label class="collapse" for="c-37499488">[-]</label><label class="expand" for="c-37499488">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Directly sudoing a curl-ed script is like running a binary on Windows with admin permissions and with Defender turned off,<p>Most people would just say yes to any prompt they get, those wise enough not to aren&#x27;t running random curl scripts either.<p>As for Defender being any kind of protection, I have my doubts.<p>&gt; it seems to be increasingly the case that package managers just don&#x27;t have some software - or have a version that&#x27;s years out of date.<p>This is entirely distro dependant, some are very up to date and have most things you&#x27;d want, especially if you include the likes of AUR in that. But then there&#x27;s usually a Flatpak or an AppImage that you can use in the odd case that they don&#x27;t.</div><br/></div></div></div></div><div id="37498016" class="c"><input type="checkbox" id="c-37498016" checked=""/><div class="controls bullet"><span class="by">jjgreen</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37497089">parent</a><span>|</span><a href="#37498469">prev</a><span>|</span><a href="#37495704">next</a><span>|</span><label class="collapse" for="c-37498016">[-]</label><label class="expand" for="c-37498016">[4 more]</label></div><br/><div class="children"><div class="content">Actually no, the problem with curl | bash is that it can be detected on the server, so if the server is compromised, it can serve you malware <i>and you will never know about it</i>.  It is safe(r) to curl &gt; file, inspect the file, then execute it under bash.</div><br/><div id="37498904" class="c"><input type="checkbox" id="c-37498904" checked=""/><div class="controls bullet"><span class="by">yrro</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37498016">parent</a><span>|</span><a href="#37495704">next</a><span>|</span><label class="collapse" for="c-37498904">[-]</label><label class="expand" for="c-37498904">[3 more]</label></div><br/><div class="children"><div class="content">The result of inspecting such a file is usually a series of disgusted shudders, &quot;this will do WHAT do my machine&quot;?</div><br/><div id="37498952" class="c"><input type="checkbox" id="c-37498952" checked=""/><div class="controls bullet"><span class="by">jjgreen</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37498904">parent</a><span>|</span><a href="#37495704">next</a><span>|</span><label class="collapse" for="c-37498952">[-]</label><label class="expand" for="c-37498952">[2 more]</label></div><br/><div class="children"><div class="content">Sometimes a smile at the clarity and simplicity of the authors shell code, sometimes.</div><br/><div id="37501463" class="c"><input type="checkbox" id="c-37501463" checked=""/><div class="controls bullet"><span class="by">yrro</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37498952">parent</a><span>|</span><a href="#37495704">next</a><span>|</span><label class="collapse" for="c-37501463">[-]</label><label class="expand" for="c-37501463">[1 more]</label></div><br/><div class="children"><div class="content">A rare delight but it does happen</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37495704" class="c"><input type="checkbox" id="c-37495704" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494943">parent</a><span>|</span><a href="#37497089">prev</a><span>|</span><a href="#37495467">next</a><span>|</span><label class="collapse" for="c-37495704">[-]</label><label class="expand" for="c-37495704">[1 more]</label></div><br/><div class="children"><div class="content">Only installers Iâve seen are the .installer bundles, which leave behind a manifest for automated uninstalling.</div><br/></div></div><div id="37495190" class="c"><input type="checkbox" id="c-37495190" checked=""/><div class="controls bullet"><span class="by">jjgreen</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494943">parent</a><span>|</span><a href="#37495467">prev</a><span>|</span><a href="#37493995">next</a><span>|</span><label class="collapse" for="c-37495190">[-]</label><label class="expand" for="c-37495190">[1 more]</label></div><br/><div class="children"><div class="content"><i>On Unix&#x2F;Linux land the prevalence of pipe curl to bash type installers is not much different.</i><p>True, but saying so will likely to earn you downvotes from those committed to this unhygenic practice ...</div><br/></div></div></div></div><div id="37493995" class="c"><input type="checkbox" id="c-37493995" checked=""/><div class="controls bullet"><span class="by">tobias3</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493923">parent</a><span>|</span><a href="#37494943">prev</a><span>|</span><a href="#37494102">next</a><span>|</span><label class="collapse" for="c-37493995">[-]</label><label class="expand" for="c-37493995">[3 more]</label></div><br/><div class="children"><div class="content">You are basically describing what Windows has as appx&#x2F;msix. The decentrialized notarization authorities are the code signing certificate providers.</div><br/><div id="37494088" class="c"><input type="checkbox" id="c-37494088" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493995">parent</a><span>|</span><a href="#37494102">next</a><span>|</span><label class="collapse" for="c-37494088">[-]</label><label class="expand" for="c-37494088">[2 more]</label></div><br/><div class="children"><div class="content">I had not seen this, but it absolutely does (on the surface) seem like a solution to this problem. Thanks!<p>Iâd need to educate myself a bit more in terms of whether there are third-party authorities beyond Microsoft for the packages.<p>Found this introductory video for anyone else interested:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=phrD081sMWc">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=phrD081sMWc</a><p>Note: I didnât intend the Surface pun above, but it happened and we can all be glad that it did.</div><br/><div id="37494147" class="c"><input type="checkbox" id="c-37494147" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494088">parent</a><span>|</span><a href="#37494102">next</a><span>|</span><label class="collapse" for="c-37494147">[-]</label><label class="expand" for="c-37494147">[1 more]</label></div><br/><div class="children"><div class="content">Yes there are a few certificate authorities. For example DigiCert, SSL.com and others. You can also create your own e.g. for enterprise deployments. Or you could even set up a public CA if you wanted to, the process is standardized.<p>So whilst Microsoft will sign for you if you distribute via their store, otherwise you pay per year for certificates and can distribute outside the store.<p>There are problems with the system (cost, bugs, usability problems) but it is decentralized.</div><br/></div></div></div></div></div></div><div id="37494102" class="c"><input type="checkbox" id="c-37494102" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493923">parent</a><span>|</span><a href="#37493995">prev</a><span>|</span><a href="#37497713">next</a><span>|</span><label class="collapse" for="c-37494102">[-]</label><label class="expand" for="c-37494102">[11 more]</label></div><br/><div class="children"><div class="content">&gt; macOS comes pretty close to what I&#x27;d ideally want in an OS with regards to installation - independent packages that are certified&#x2F;notarised, but I&#x27;d like to see the OS allow for user-specified authorities beyond just Apple.<p>It&#x27;s easy to run unsigned binaries&#x2F;app packages on macOS: right click on the .app, hold down Option, then click Open and confirm the warning.</div><br/><div id="37494299" class="c"><input type="checkbox" id="c-37494299" checked=""/><div class="controls bullet"><span class="by">tmpX7dMeXU</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494102">parent</a><span>|</span><a href="#37497132">next</a><span>|</span><label class="collapse" for="c-37494299">[-]</label><label class="expand" for="c-37494299">[9 more]</label></div><br/><div class="children"><div class="content">That is not a user-specified authority.</div><br/><div id="37495392" class="c"><input type="checkbox" id="c-37495392" checked=""/><div class="controls bullet"><span class="by">TheNewsIsHere</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494299">parent</a><span>|</span><a href="#37497132">next</a><span>|</span><label class="collapse" for="c-37495392">[-]</label><label class="expand" for="c-37495392">[8 more]</label></div><br/><div class="children"><div class="content">I would also like this option. I see why Apple finds it undesirable though. Software installation safeguards are a game of whack-a-mole with (e.g.) support scammers who ask grandma&#x2F;Lee-in-accounting&#x2F;Cindy-next-door to naively click through all the warnings.<p>The closest Apple comes to this capability is achieved via device Supervision and MDM, which might be comfortable for some of us here in this forum but obviously isnât practical beyond more technical circles.<p>Baddies keep ruining all the fun for the rest of us.</div><br/><div id="37495473" class="c"><input type="checkbox" id="c-37495473" checked=""/><div class="controls bullet"><span class="by">cm2187</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495392">parent</a><span>|</span><a href="#37499452">next</a><span>|</span><label class="collapse" for="c-37495473">[-]</label><label class="expand" for="c-37495473">[1 more]</label></div><br/><div class="children"><div class="content">And being the only authority also happens to be conveniently aligned to their financial incentives.</div><br/></div></div><div id="37499452" class="c"><input type="checkbox" id="c-37499452" checked=""/><div class="controls bullet"><span class="by">10000truths</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495392">parent</a><span>|</span><a href="#37495473">prev</a><span>|</span><a href="#37495673">next</a><span>|</span><label class="collapse" for="c-37499452">[-]</label><label class="expand" for="c-37499452">[1 more]</label></div><br/><div class="children"><div class="content">There is no Pareto optimal unicorn that provides both a democratized marketplace of software with low barriers to entry <i>and</i> an ironclad guarantee of security against compromise of personal user information. These two are fundamentally at odds. If anyone can produce and distribute software easily on a given platform, then so can people with malicious intent.</div><br/></div></div><div id="37495673" class="c"><input type="checkbox" id="c-37495673" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495392">parent</a><span>|</span><a href="#37499452">prev</a><span>|</span><a href="#37497132">next</a><span>|</span><label class="collapse" for="c-37495673">[-]</label><label class="expand" for="c-37495673">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Baddies keep ruining all the fun for the rest of us.<p>IMHO the blame rather lies with our politicians who are unwilling to take the steps necessary to cut the baddies off from the Internet. Let&#x27;s see just how fast India, Pakistan, Turkey and other scammer hotspots clean up their act when the US+EU threaten to cut them off from the Internet and SS7 unless the scam callcenters are closed down for good... the amount of corruption regularly exposed by scambaiters on Youtube is insane. Billions of dollars of damages each year [1] from that bullshit and our politicians don&#x27;t. fucking. care.<p>[1] <a href="https:&#x2F;&#x2F;www.vibesofindia.com&#x2F;fraudsters-in-india-cost-americans-almost-10-billion-in-2022&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.vibesofindia.com&#x2F;fraudsters-in-india-cost-americ...</a></div><br/><div id="37499112" class="c"><input type="checkbox" id="c-37499112" checked=""/><div class="controls bullet"><span class="by">resfirestar</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495673">parent</a><span>|</span><a href="#37496148">next</a><span>|</span><label class="collapse" for="c-37499112">[-]</label><label class="expand" for="c-37499112">[2 more]</label></div><br/><div class="children"><div class="content">Iâm more than a little skeptical that scams would be less of a problem if specific countries cracked down on large operations. For one thing itâs not clear how youâd ever get the whole world on board. Pressuring India is hard enough, try Myanmar, a place that doesnât get along with the West at all and is already a hotspot for phone scams targeting Chinese speakers. And if centralized, relatively open operations overseas were no longer possible, it would likely become more like other types of fraud run by local gangs. So Iâm all for pressuring India to crack down on scammers, but I donât see how that would reduce the desire to tighten software controls on PCs.</div><br/><div id="37499916" class="c"><input type="checkbox" id="c-37499916" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37499112">parent</a><span>|</span><a href="#37496148">next</a><span>|</span><label class="collapse" for="c-37499916">[-]</label><label class="expand" for="c-37499916">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For one thing itâs not clear how youâd ever get the whole world on board.<p>You don&#x27;t need the whole world. The Western world is enough - no Internet and phone service (both easily enforced by requiring providers to reject ASNs &#x2F; phone country codes) means <i>a lot</i> of lost business for an affected country.<p>&gt; Pressuring India is hard enough, try Myanmar, a place that doesnât get along with the West at all and is already a hotspot for phone scams targeting Chinese speakers.<p>Honestly, that&#x27;s China&#x27;s problem to solve.<p>&gt; So Iâm all for pressuring India to crack down on scammers, but I donât see how that would reduce the desire to tighten software controls on PCs.<p>When software vendors don&#x27;t have to gate more and more features behind more and more obnoxious bullshit simply to whack-a-mole scammers, they won&#x27;t.</div><br/></div></div></div></div><div id="37496148" class="c"><input type="checkbox" id="c-37496148" checked=""/><div class="controls bullet"><span class="by">cto_of_antifa</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495673">parent</a><span>|</span><a href="#37499112">prev</a><span>|</span><a href="#37497132">next</a><span>|</span><label class="collapse" for="c-37496148">[-]</label><label class="expand" for="c-37496148">[2 more]</label></div><br/><div class="children"><div class="content">they probably don&#x27;t do it because it&#x27;s a bad solution.</div><br/><div id="37496870" class="c"><input type="checkbox" id="c-37496870" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37496148">parent</a><span>|</span><a href="#37497132">next</a><span>|</span><label class="collapse" for="c-37496870">[-]</label><label class="expand" for="c-37496870">[1 more]</label></div><br/><div class="children"><div class="content">Is it? I prefer to tackle problems at the source, and its crystal clear that overseas scammers are exploiting corrupt local law enforcement in conjunction with easy access to targets via the Internet and shady telephone providers.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37497132" class="c"><input type="checkbox" id="c-37497132" checked=""/><div class="controls bullet"><span class="by">gjsman-1000</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494102">parent</a><span>|</span><a href="#37494299">prev</a><span>|</span><a href="#37497713">next</a><span>|</span><label class="collapse" for="c-37497132">[-]</label><label class="expand" for="c-37497132">[1 more]</label></div><br/><div class="children"><div class="content">Or just run `sudo spctl --master-disable` one time; and it will change the allowed app sources to the invisible &quot;Anywhere&quot; option.</div><br/></div></div></div></div><div id="37497713" class="c"><input type="checkbox" id="c-37497713" checked=""/><div class="controls bullet"><span class="by">alerighi</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493923">parent</a><span>|</span><a href="#37494102">prev</a><span>|</span><a href="#37499921">next</a><span>|</span><label class="collapse" for="c-37497713">[-]</label><label class="expand" for="c-37497713">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I suspect the final form for software installation is probably where iOS and Android are going in the EU, where there&#x27;s a single means of installing software to the device so that everything can be sandboxed properly, but the acquisition&#x2F;update process can be pointed to a URL&#x2F;Store that the user has pre-approved.<p>Basically how Linux distributions works since the beginning. Tough at the start the installation source was not remote but a CD-ROM things didn&#x27;t change.<p>You have a repository of packages (that can be on a local source as a CD or remote source such as an HTTP&#x2F;FTP server), that have some sort of signature (on Linux usually the pagkage is signed with GPG) with some keys that the user trusts (and the default are installed on the system), and a software that allows to install, uninstall and update the packages.<p>Android&#x2F;iOS arrived later, but they didn&#x27;t invent anything.</div><br/><div id="37501341" class="c"><input type="checkbox" id="c-37501341" checked=""/><div class="controls bullet"><span class="by">efreak</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37497713">parent</a><span>|</span><a href="#37499921">next</a><span>|</span><label class="collapse" for="c-37501341">[-]</label><label class="expand" for="c-37501341">[1 more]</label></div><br/><div class="children"><div class="content">Android&#x2F;iOS didn&#x27;t invent this, no, however you&#x27;re missing the sandbox part. Most Linux package managers don&#x27;t sandbox anything.</div><br/></div></div></div></div><div id="37499921" class="c"><input type="checkbox" id="c-37499921" checked=""/><div class="controls bullet"><span class="by">brap</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493923">parent</a><span>|</span><a href="#37497713">prev</a><span>|</span><a href="#37494847">next</a><span>|</span><label class="collapse" for="c-37499921">[-]</label><label class="expand" for="c-37499921">[2 more]</label></div><br/><div class="children"><div class="content">iOS is the gold standard IMO. Apps are sandboxed, can only interact with the outside world via APIs (that the user needs to approve), one click uninstall and itâs all gone without a trace (at least in theory). Love it.</div><br/><div id="37503406" class="c"><input type="checkbox" id="c-37503406" checked=""/><div class="controls bullet"><span class="by">fomine3</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37499921">parent</a><span>|</span><a href="#37494847">next</a><span>|</span><label class="collapse" for="c-37503406">[-]</label><label class="expand" for="c-37503406">[1 more]</label></div><br/><div class="children"><div class="content">I think Android does it better with third party store and sideload support. It seems that iOS depends some security to their own the AppStore. (example: disallow dynamic code generation like JIT)</div><br/></div></div></div></div></div></div><div id="37494847" class="c"><input type="checkbox" id="c-37494847" checked=""/><div class="controls bullet"><span class="by">BoppreH</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37493923">prev</a><span>|</span><a href="#37494190">next</a><span>|</span><label class="collapse" for="c-37494847">[-]</label><label class="expand" for="c-37494847">[29 more]</label></div><br/><div class="children"><div class="content">How could Windows handle it by itself?<p>If it provides a framework for installers&#x2F;uninstallers, it&#x27;ll be fighting the inertia of decades of legacy software, programmer habits, and old tutorials.<p>If it tracks file ownership by program, it might accidentally delete user files. How would it differentiate between a VSCode extension that should be uninstalled, and a binary compiled with VSCode for a user project? A false positive could be catastrophic.<p>If it restricts what programs can do to accurately track file ownership, you end up with Android. Which is fantastic for security, but is a royal pain in the ass for all parties:<p>- The app developers have to jump through hoops for the simplest actions, and rewrite most of their code in the new style.<p>- The operating system has to implement a ton of scaffolding, like permissions-restricted file pickers and ways to hand off &quot;intents&quot; between applications.<p>- The user is faced with confusing dialogs, and software with seemingly arbitrary limitations.<p>In the age of shared runtimes, auto-updaters, extension marketplaces, and JIT compilers, managing installed applications is harder than ever.<p>Edit: the answer above applies only to Windows, because of its baggage. Linux&#x27;es are in a much better position, for example, though their solution is still not perfect.</div><br/><div id="37494976" class="c"><input type="checkbox" id="c-37494976" checked=""/><div class="controls bullet"><span class="by">Tuna-Fish</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494847">parent</a><span>|</span><a href="#37497108">next</a><span>|</span><label class="collapse" for="c-37494976">[-]</label><label class="expand" for="c-37494976">[19 more]</label></div><br/><div class="children"><div class="content">The same way any linux distro does?<p>Define a separate directory for program installations, that user processes cannot write to. Only program that can do so is the package manager, which other programs can call to install packages. Uninstall removes everything related to a program from this directory.<p>&gt; In the age of shared runtimes, auto-updaters, extension marketplaces, and JIT compilers, managing installed applications is harder than ever.<p>The only reason these make things hard is that windows lacks any facility to deal with them. Solutions going forward: Outright ban having your own auto-updater, to auto-update you register your program and where to update it from with the package manager. Shared runtimes are trivial for package managers to handle, it&#x27;s just a package that many other ones depend on. Extensions can be handled as packages.</div><br/><div id="37495095" class="c"><input type="checkbox" id="c-37495095" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494976">parent</a><span>|</span><a href="#37498342">next</a><span>|</span><label class="collapse" for="c-37495095">[-]</label><label class="expand" for="c-37495095">[9 more]</label></div><br/><div class="children"><div class="content">I agree with you, now for completeness I should mention that Linux package formats usually allow packagers to provide arbitrary pre- and post- install shell scripts ran as root.<p>(which means that if you don&#x27;t trust a provider, not only it&#x27;s not safe to run the program, but it&#x27;s also unsafe to <i>install</i> it)</div><br/><div id="37497291" class="c"><input type="checkbox" id="c-37497291" checked=""/><div class="controls bullet"><span class="by">pxc</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495095">parent</a><span>|</span><a href="#37495200">next</a><span>|</span><label class="collapse" for="c-37497291">[-]</label><label class="expand" for="c-37497291">[1 more]</label></div><br/><div class="children"><div class="content">Right. You should generally never install a proprietary software package provided by the vendor in RPM, DEB, or similar. What keeps the use of those hooks safe is purely social convention and review internal to the Linux distribution, and vendors routinely use those hooks to do unacceptable things.<p>If you <i>must</i> install proprietary software on your Linux system, either package it yourself or use something like Flatpak or Snap (or even AppImage).<p>Hopefully in the future vendors will increasingly move to providing well-sandboxed Flatpak packages by default.</div><br/></div></div><div id="37495200" class="c"><input type="checkbox" id="c-37495200" checked=""/><div class="controls bullet"><span class="by">ateng</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495095">parent</a><span>|</span><a href="#37497291">prev</a><span>|</span><a href="#37495140">next</a><span>|</span><label class="collapse" for="c-37495200">[-]</label><label class="expand" for="c-37495200">[4 more]</label></div><br/><div class="children"><div class="content">&gt;if you don&#x27;t trust a provider, not only it&#x27;s not safe to run the program, but it&#x27;s also unsafe to install it<p>Isn&#x27;t it same for windows right now? `.msi` and `.exe` can execute arbitrary code right?</div><br/><div id="37495551" class="c"><input type="checkbox" id="c-37495551" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495200">parent</a><span>|</span><a href="#37495375">next</a><span>|</span><label class="collapse" for="c-37495551">[-]</label><label class="expand" for="c-37495551">[2 more]</label></div><br/><div class="children"><div class="content">The only difference is that you usually trust the repo in Linux, but thatâs a pretty significant âonly thing,â in the sense that the repo is already the source of your whole system, so it better be trustworthy!</div><br/><div id="37495840" class="c"><input type="checkbox" id="c-37495840" checked=""/><div class="controls bullet"><span class="by">simiones</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495551">parent</a><span>|</span><a href="#37495375">next</a><span>|</span><label class="collapse" for="c-37495840">[-]</label><label class="expand" for="c-37495840">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;elegant&quot; way of distributing 3rd party software for Linux is to ask the user to add your APT&#x2F;RPM&#x2F;[...] repo to their system. And most Linux distro maintainers anyway don&#x27;t vouch for software in the main repos, beyond basic install-ability. The Debian project for example definitely doesn&#x27;t do in-depth security analysis of every package in the repos: they just check the license, re-package it, and keep an eye on security updates in upstream.</div><br/></div></div></div></div><div id="37495375" class="c"><input type="checkbox" id="c-37495375" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495200">parent</a><span>|</span><a href="#37495551">prev</a><span>|</span><a href="#37495140">next</a><span>|</span><label class="collapse" for="c-37495375">[-]</label><label class="expand" for="c-37495375">[1 more]</label></div><br/><div class="children"><div class="content">Yes, absolutely.</div><br/></div></div></div></div><div id="37495140" class="c"><input type="checkbox" id="c-37495140" checked=""/><div class="controls bullet"><span class="by">mjan22640</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495095">parent</a><span>|</span><a href="#37495200">prev</a><span>|</span><a href="#37498342">next</a><span>|</span><label class="collapse" for="c-37495140">[-]</label><label class="expand" for="c-37495140">[3 more]</label></div><br/><div class="children"><div class="content">The packages are cryptographically signed, you have the option to abort the install of an untrusted package before it does something malicious.</div><br/><div id="37495380" class="c"><input type="checkbox" id="c-37495380" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495140">parent</a><span>|</span><a href="#37498342">next</a><span>|</span><label class="collapse" for="c-37495380">[-]</label><label class="expand" for="c-37495380">[2 more]</label></div><br/><div class="children"><div class="content">&gt; packages are cryptographically signed<p>packages are cryptographically signed by the packager, by the way on Debian you add the key when you install a new repository. The signature tells you &quot;This package has been built by X and has not been tempered in the meantime&quot;, not &quot;X  and this package are not malicious, I promise&quot;.<p>&gt; you have the option to abort the install of an untrusted package before it does something malicious<p>How do you do this in practice?<p>If I run apt install p or or dpkg -i p.deb, the thing is installed. APT asks you for confirmation if it has to install additional dependencies but that&#x27;s it.<p>I don&#x27;t have no guaranty such like for any package, I can install it without worrying something bad won&#x27;t happen during its installation.<p>Of course you should not install untrusted packages, but still.
The same could not be said if the package format didn&#x27;t have anything to specify arbitrary install scripts.</div><br/></div></div></div></div></div></div><div id="37498342" class="c"><input type="checkbox" id="c-37498342" checked=""/><div class="controls bullet"><span class="by">tssva</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494976">parent</a><span>|</span><a href="#37495095">prev</a><span>|</span><a href="#37498025">next</a><span>|</span><label class="collapse" for="c-37498342">[-]</label><label class="expand" for="c-37498342">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The same way any linux distro does?<p>I&#x27;m going to assume you are talking about rpm and deb packages since they are still currently the dominant installation packages on Linux.<p>&gt; Define a separate directory for program installations, that user processes cannot write to. Only program that can do so is the package manager, which other programs can call to install packages.<p>Windows does this. Programs are installed in directories under &quot;C:\Program Files&quot; which is only writable with elevated system rights.<p>&gt; Uninstall removes everything related to a program from this directory.<p>rpm and debs don&#x27;t install all the files needed for a program in a single directory. They are scattershot all over the file system and in many of these directories comingled with files from other programs. Windows comes closer than Linux in this regard since it does create the directory under &quot;C:\Progtam Files&quot; which while unfortunately doesn&#x27;t always contain all the required files usually contains the vast majority.</div><br/></div></div><div id="37498025" class="c"><input type="checkbox" id="c-37498025" checked=""/><div class="controls bullet"><span class="by">mastax</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494976">parent</a><span>|</span><a href="#37498342">prev</a><span>|</span><a href="#37495076">next</a><span>|</span><label class="collapse" for="c-37498025">[-]</label><label class="expand" for="c-37498025">[2 more]</label></div><br/><div class="children"><div class="content">This is exactly how AppX&#x2F;MSIX packages work, with C:\Program Files\WindowsApps (by default) being pretty substantially locked down. They even use filesystem&#x2F;registry virtualization by default to isolate packages even further from each other. They also have solutions for framework packages and extensions though I haven&#x27;t tried those out and suspect they have annoying practical limitations around edge cases.<p>Of course, a decade later almost nobody uses those because they botched the rollout by limiting AppX to the Microsoft Store and an entirely new poorly documented and very restrictive set of windows APIs and app frameworks. They&#x27;ve made huge progress on all of those problems with MSIX to the point that it&#x27;s a reasonably good and easy to use choice for most apps with some neat benefits like updates only downloading the changes between versions. Of course if your app pushes the boundaries of the sandbox or capabilities or runs into a bug it becomes a huge pain.</div><br/><div id="37500173" class="c"><input type="checkbox" id="c-37500173" checked=""/><div class="controls bullet"><span class="by">ripley12</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37498025">parent</a><span>|</span><a href="#37495076">next</a><span>|</span><label class="collapse" for="c-37500173">[-]</label><label class="expand" for="c-37500173">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think MSIX is a good choice for most apps. With a decent-sized user base, you will have a lot of people who run into undiagnosable errors with MSIX or can&#x27;t use it because they&#x27;re in locked-down enterprise environments.<p>I think Affinity Photo&#x27;s experience with MSIX is instructive; hundreds of negative results on their forum, eventually they had to back down and provide a non-MSIX installer (and at that point do ya really want to maintain 2 separate Windows installers?)<p><a href="https:&#x2F;&#x2F;forum.affinity.serif.com&#x2F;index.php?&#x2F;topic&#x2F;170529-extremely-disappointed-that-this-installs-as-an-app-and-not-regular-software-program&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;forum.affinity.serif.com&#x2F;index.php?&#x2F;topic&#x2F;170529-ext...</a>
<a href="https:&#x2F;&#x2F;forum.affinity.serif.com&#x2F;index.php?&#x2F;search&#x2F;&amp;q=msix&amp;type=forums_topic&amp;page=1&amp;quick=1&amp;nodes=5&amp;search_and_or=and&amp;sortby=relevancy" rel="nofollow noreferrer">https:&#x2F;&#x2F;forum.affinity.serif.com&#x2F;index.php?&#x2F;search&#x2F;&amp;q=msix&amp;t...</a></div><br/></div></div></div></div><div id="37495076" class="c"><input type="checkbox" id="c-37495076" checked=""/><div class="controls bullet"><span class="by">BoppreH</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494976">parent</a><span>|</span><a href="#37498025">prev</a><span>|</span><a href="#37496199">next</a><span>|</span><label class="collapse" for="c-37495076">[-]</label><label class="expand" for="c-37495076">[4 more]</label></div><br/><div class="children"><div class="content">That was the first option, &quot;provides a framework for installers&#x2F;uninstallers&quot;.<p>But what would you do with the millions of existing programs, most unmaintained? And what about programs with strong opinions on update schedules, or built-in extension marketplaces?<p>It&#x27;s easy to solve this problem if your first step is &quot;replace every program&quot;.</div><br/><div id="37495258" class="c"><input type="checkbox" id="c-37495258" checked=""/><div class="controls bullet"><span class="by">winthrowe</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495076">parent</a><span>|</span><a href="#37495112">next</a><span>|</span><label class="collapse" for="c-37495258">[-]</label><label class="expand" for="c-37495258">[2 more]</label></div><br/><div class="children"><div class="content">If you care about this enough to abandon old software, they built that and called it Windows S and few wanted it.</div><br/><div id="37497881" class="c"><input type="checkbox" id="c-37497881" checked=""/><div class="controls bullet"><span class="by">riskable</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495258">parent</a><span>|</span><a href="#37495112">next</a><span>|</span><label class="collapse" for="c-37497881">[-]</label><label class="expand" for="c-37497881">[1 more]</label></div><br/><div class="children"><div class="content">Windows without backwards compatibility is a dead end because the only reason why Windows exists is backwards compatibility and the existing user base.  As an OS it is decades behind all its competitors, with a 30yo filesystem, file locking ridiculousness (which is why uninstallers and updates end up being so complex and require reboots), an antiquated central registry for settings that ends up slowing the system down over time, and a security framework so broken that you <i>need</i> anti-malware software running and inspecting every little thing happening on your system or you&#x27;re easily compromised (everything is executable by default).<p>The security situation is so bad at this point that you can&#x27;t trust any Windows benchmarks anymore.  The benchmark suite will run on a &quot;bare&quot; Windows system; probably with updates and Windows Defender disabled and many other system services stopped to maximize performance and prevent background services from slowing everything down.  The reality though is that on a regular user desktop all these things and a whole lot more will be enabled, resulting in vastly degraded performance compared to the benchmarks.  The end user experience sucks.<p>Now they&#x27;re forcing ads down your throat and pestering you at every turn to use more Microsoft software (e.g. trying to get you to use Edge).  They&#x27;ve also recently included UI changes in &quot;essential&quot; system updates that can&#x27;t easily be reverted or undone, breaking people&#x27;s workflows.  It&#x27;s anti-user insanity and it&#x27;s all because Microsoft <i>can&#x27;t</i> actually go back to the drawing board with Windows anymore because the alternatives are just too good.<p>After using a Linux desktop full-time for a while, going back to Windows feels like going from having modern plumbing to pooping in the woods.</div><br/></div></div></div></div><div id="37495112" class="c"><input type="checkbox" id="c-37495112" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495076">parent</a><span>|</span><a href="#37495258">prev</a><span>|</span><a href="#37496199">next</a><span>|</span><label class="collapse" for="c-37495112">[-]</label><label class="expand" for="c-37495112">[1 more]</label></div><br/><div class="children"><div class="content">You could provide the framework that well-behaved, maintained programs will use while still allowing the old installers to run.<p>By the way that&#x27;s what we have on Linux, some programs come as a shell script that you run to install them. Most Java IDEs for instance.<p>(which can&#x27;t be arsed to provide proper packages -- darn, what did I just write? :-))</div><br/></div></div></div></div><div id="37496199" class="c"><input type="checkbox" id="c-37496199" checked=""/><div class="controls bullet"><span class="by">gruez</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494976">parent</a><span>|</span><a href="#37495076">prev</a><span>|</span><a href="#37497108">next</a><span>|</span><label class="collapse" for="c-37496199">[-]</label><label class="expand" for="c-37496199">[2 more]</label></div><br/><div class="children"><div class="content">&gt;The same way any linux distro does?
&gt;Define a separate directory for program installations, that user processes cannot write to.<p>What about &#x2F;usr&#x2F;local&#x2F;bin? Isn&#x27;t that specifically for putting non package manager binaries into?</div><br/><div id="37496302" class="c"><input type="checkbox" id="c-37496302" checked=""/><div class="controls bullet"><span class="by">webstrand</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37496199">parent</a><span>|</span><a href="#37497108">next</a><span>|</span><label class="collapse" for="c-37496302">[-]</label><label class="expand" for="c-37496302">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s more for binaries and scripts manually installed by the administrator because they weren&#x27;t available in the package manager or are custom.</div><br/></div></div></div></div></div></div><div id="37497108" class="c"><input type="checkbox" id="c-37497108" checked=""/><div class="controls bullet"><span class="by">gwbas1c</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494847">parent</a><span>|</span><a href="#37494976">prev</a><span>|</span><a href="#37495460">next</a><span>|</span><label class="collapse" for="c-37497108">[-]</label><label class="expand" for="c-37497108">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s called MSI, and it&#x27;s been in Windows for 20 years.<p>The issue is that MSI is very buggy when handling explorer extensions. If you&#x27;re not careful, when you uninstall it&#x27;ll prompt you to close explorer.<p>(I know because I shipped a product that installed via MSI and had an explorer plugin. The installer issues were more complicated than the plugin.)<p>In this case, the issue is that when explorer loads a plugin, it keeps an open file handle to the dll. This gives the installer two options: Restart explorer.exe, or somehow finish uninstalling when explorer.exe terminates.<p>The product that I shipped just restarted explorer.exe.</div><br/></div></div><div id="37495460" class="c"><input type="checkbox" id="c-37495460" checked=""/><div class="controls bullet"><span class="by">bayindirh</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494847">parent</a><span>|</span><a href="#37497108">prev</a><span>|</span><a href="#37495120">next</a><span>|</span><label class="collapse" for="c-37495460">[-]</label><label class="expand" for="c-37495460">[1 more]</label></div><br/><div class="children"><div class="content">Oh. I thought MSI and WinGet (sorry, AppGet in fact) designed to solve these problems.</div><br/></div></div><div id="37495120" class="c"><input type="checkbox" id="c-37495120" checked=""/><div class="controls bullet"><span class="by">mjan22640</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494847">parent</a><span>|</span><a href="#37495460">prev</a><span>|</span><a href="#37495405">next</a><span>|</span><label class="collapse" for="c-37495120">[-]</label><label class="expand" for="c-37495120">[6 more]</label></div><br/><div class="children"><div class="content">A VSCode extension would be installed and managed by the OS package manager. User created content would be not.</div><br/><div id="37495133" class="c"><input type="checkbox" id="c-37495133" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495120">parent</a><span>|</span><a href="#37495859">next</a><span>|</span><label class="collapse" for="c-37495133">[-]</label><label class="expand" for="c-37495133">[1 more]</label></div><br/><div class="children"><div class="content">You, you want Microsoft to lose its total control over the VSCode extension &quot;marketplace&quot;, don&#x27;t you?</div><br/></div></div><div id="37495859" class="c"><input type="checkbox" id="c-37495859" checked=""/><div class="controls bullet"><span class="by">simiones</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495120">parent</a><span>|</span><a href="#37495133">prev</a><span>|</span><a href="#37495405">next</a><span>|</span><label class="collapse" for="c-37495859">[-]</label><label class="expand" for="c-37495859">[4 more]</label></div><br/><div class="children"><div class="content">Really? Do you install Firefox extensions from apt-get?</div><br/><div id="37497468" class="c"><input type="checkbox" id="c-37497468" checked=""/><div class="controls bullet"><span class="by">pxc</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495859">parent</a><span>|</span><a href="#37503097">next</a><span>|</span><label class="collapse" for="c-37497468">[-]</label><label class="expand" for="c-37497468">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not unusual to do this in the Nix world.<p>There are a ton of VSCode extensions in Nixpkgs: <a href="https:&#x2F;&#x2F;search.nixos.org&#x2F;packages?channel=23.05&amp;from=0&amp;size=50&amp;sort=alpha_asc&amp;type=packages&amp;query=vscode-extensions" rel="nofollow noreferrer">https:&#x2F;&#x2F;search.nixos.org&#x2F;packages?channel=23.05&amp;from=0&amp;size=...</a><p>You can use them in combination with the vscode-with-extensions function to create a VSCode package that bundles in whatever extensions you declare: <a href="https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Visual_Studio_Code" rel="nofollow noreferrer">https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Visual_Studio_Code</a></div><br/></div></div><div id="37503097" class="c"><input type="checkbox" id="c-37503097" checked=""/><div class="controls bullet"><span class="by">kiwijamo</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495859">parent</a><span>|</span><a href="#37497468">prev</a><span>|</span><a href="#37496764">next</a><span>|</span><label class="collapse" for="c-37503097">[-]</label><label class="expand" for="c-37503097">[1 more]</label></div><br/><div class="children"><div class="content">Yes, there are a few that can be installed from the Debian packages.</div><br/></div></div><div id="37496764" class="c"><input type="checkbox" id="c-37496764" checked=""/><div class="controls bullet"><span class="by">Kye</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495859">parent</a><span>|</span><a href="#37503097">prev</a><span>|</span><a href="#37495405">next</a><span>|</span><label class="collapse" for="c-37496764">[-]</label><label class="expand" for="c-37496764">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t used Linux in a while, but I do remember seeing browser extensions in the package manager.</div><br/></div></div></div></div></div></div><div id="37495405" class="c"><input type="checkbox" id="c-37495405" checked=""/><div class="controls bullet"><span class="by">the_third_wave</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494847">parent</a><span>|</span><a href="#37495120">prev</a><span>|</span><a href="#37494190">next</a><span>|</span><label class="collapse" for="c-37495405">[-]</label><label class="expand" for="c-37495405">[1 more]</label></div><br/><div class="children"><div class="content">&gt; How could Windows handle it by itself?<p>In the same way &#x27;Linux&#x27; (in the widest sense of the term, i.e. Linux distributions like Debian) handles this. User data is not touched by the (un)installer, configuration files are checked for changes from the package default and left alone unless explicitly purged. Files which do not belong to any package are left alone as well so that <i>binary compiled with VSCode for a user project</i> will not be touched:<p><pre><code>   warning: while removing directory &#x2F;splurge&#x2F;blargle&#x2F;buzz not empty so not removed
</code></pre>
This has worked fine for decades and is one of the areas where those Linux distributions were and are ahead of the competition. It works fine because the package manager has clearly delineated responsibilities and does (or rather should) not go outside of those. Do not expect the package manager to clean up your home directory for you, that is not part of its duty.<p>&gt; In the age of shared runtimes, auto-updaters, extension marketplaces, and JIT compilers, managing installed applications is harder than ever.<p>Most auto-updaters should be disabled on systems with functioning package management - Thanks Firefox but I&#x27;ll update my browser through either the package manager as I prefer my executables to be read-only for users.<p>Some packages - the whole Javascript rats&#x27; nest being a good example - move too fast to be usefully packaged by volunteer maintainers so those are relegated to a different area which is not touched by the package manager. Other packages - anything Python fits here - are such a tangled mess of mutually incompatible versioned spaghetti that they are hard to fit inside the idiom of package managers so they get their own treatment - python -m venv ... etc. These are the exceptions to the rule that package management can be made to work well. By keeping those exceptions in areas where the package manager does not go - e.g. your home directory - the two can and do coexist without problems.</div><br/></div></div></div></div><div id="37494190" class="c"><input type="checkbox" id="c-37494190" checked=""/><div class="controls bullet"><span class="by">daemin</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37494847">prev</a><span>|</span><a href="#37500003">next</a><span>|</span><label class="collapse" for="c-37494190">[-]</label><label class="expand" for="c-37494190">[8 more]</label></div><br/><div class="children"><div class="content">It allows you to install applications from any source, not only the official store.<p>It allows for a variety of installers to exist with different features for different use cases.<p>It allows you to install the application in any location you choose.<p>It allows for portable installations and to run software just copied from other sources.</div><br/><div id="37494358" class="c"><input type="checkbox" id="c-37494358" checked=""/><div class="controls bullet"><span class="by">damentz</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494190">parent</a><span>|</span><a href="#37496799">next</a><span>|</span><label class="collapse" for="c-37494358">[-]</label><label class="expand" for="c-37494358">[6 more]</label></div><br/><div class="children"><div class="content">What is &quot;it&quot;?</div><br/><div id="37494462" class="c"><input type="checkbox" id="c-37494462" checked=""/><div class="controls bullet"><span class="by">daemin</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494358">parent</a><span>|</span><a href="#37494443">next</a><span>|</span><label class="collapse" for="c-37494462">[-]</label><label class="expand" for="c-37494462">[4 more]</label></div><br/><div class="children"><div class="content">Special installers &#x2F; uninstallers and also the ability to install and run things outside the official OS store.</div><br/><div id="37495353" class="c"><input type="checkbox" id="c-37495353" checked=""/><div class="controls bullet"><span class="by">j16sdiz</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494462">parent</a><span>|</span><a href="#37494443">next</a><span>|</span><label class="collapse" for="c-37495353">[-]</label><label class="expand" for="c-37495353">[3 more]</label></div><br/><div class="children"><div class="content">Many program can run as standalone .exe, or just unzip as a folder.<p>All the points you list does not need _Special_ installers &#x2F; uninstaller.</div><br/><div id="37496664" class="c"><input type="checkbox" id="c-37496664" checked=""/><div class="controls bullet"><span class="by">daemin</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495353">parent</a><span>|</span><a href="#37494443">next</a><span>|</span><label class="collapse" for="c-37496664">[-]</label><label class="expand" for="c-37496664">[2 more]</label></div><br/><div class="children"><div class="content">Yes, that is what I mean by my last point: &quot;It allows for portable installations and to run software just copied from other sources.&quot; You can think of decompressing from an archive as running a very simple installation program.<p>If the only installer available was one provided by the OS how long do you think it would take to make that the only way to install and run software. These things are being done right now on many platforms in the name of safety, security, and to a lesser extent convenience.<p>The more phone-like a platform is the fewer ways you have to install and run software on it. So far general purpose computers still allow you to install software in other ways than the built-in method (i.e. just unzip and place in a directory), but it&#x27;s getting increasingly common to require executables be signed, and things are always moving to be more and more locked down.<p>Now the use of &quot;Special&quot; installers&#x2F;uninstallers is from the original comment, I would just refer to them as &quot;regular&quot; installers&#x2F;uninstallers. I do like the ability and freedom to have an ecosystem of these things, as I don&#x27;t want the one OS method to be the only way to install applications.</div><br/><div id="37496795" class="c"><input type="checkbox" id="c-37496795" checked=""/><div class="controls bullet"><span class="by">devnullbrain</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37496664">parent</a><span>|</span><a href="#37494443">next</a><span>|</span><label class="collapse" for="c-37496795">[-]</label><label class="expand" for="c-37496795">[1 more]</label></div><br/><div class="children"><div class="content">&gt;If the only installer available was one provided by the OS<p>There&#x27;s the non-sequitur. OP never said that this is what should happen. It is strange to leap to this assumption while also wanting to define portable programs and archives as &#x27;installers&#x27;.<p>In the context of Windows, &#x27;special&#x27; installers means the programs you run to be able to use a different program that don&#x27;t appear on other OSes.</div><br/></div></div></div></div></div></div></div></div><div id="37494443" class="c"><input type="checkbox" id="c-37494443" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494358">parent</a><span>|</span><a href="#37494462">prev</a><span>|</span><a href="#37496799">next</a><span>|</span><label class="collapse" for="c-37494443">[-]</label><label class="expand" for="c-37494443">[1 more]</label></div><br/><div class="children"><div class="content">I guess &quot;special installers&#x2F;uninstallers&quot;</div><br/></div></div></div></div><div id="37496799" class="c"><input type="checkbox" id="c-37496799" checked=""/><div class="controls bullet"><span class="by">hilbert42</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494190">parent</a><span>|</span><a href="#37494358">prev</a><span>|</span><a href="#37500003">next</a><span>|</span><label class="collapse" for="c-37496799">[-]</label><label class="expand" for="c-37496799">[1 more]</label></div><br/><div class="children"><div class="content">In principle I have no objection with those options as I&#x27;ve had to use all of them given the nature of the Windows ecosystem.<p>The trouble is that MS never paid much attention to tracking and cleaning up after installations or after uninstallers has finished. Often this doesn&#x27;t matter but when something seriously goes wrong untangling the mess can be almost impossible, it&#x27;s often easier to reinstall Windows and usually much quicker (that&#x27;s if one has a simple installation).<p>Unfortunately, my installations aren&#x27;t simple so I take snapshots at various stages of the installionâstage-1 raw install with all drivers, stage-2 essential utilities, and so on. By stage-4, I have a basic working system with most of my programs. Come the inevitable Windows stuff-up I reinstall from a backup image, it&#x27;s much quicker than starting from scratch.<p>Between those major backups, I use the registry backup utility ERUNT, it not only takes registry snapshots on demand but also automatically backs up the registry on a daily basis. This, I&#x27;d venture, is the most important utility I&#x27;ve ever put on a Windows computer, I cannot recall how many times it&#x27;s gotten me out of trouble.<p>Just several days ago I had a problem reinstalling an update to a corrupted Java jre&#x2F;runtime. Nothing I did would make the installer install as the earlier installation was not fully uninstalled, thus log files etc. weren&#x27;t a help.<p>In the end I had to delete the program dir and other Java files I could find, same with registry entries. As expected, this didn&#x27;t work, as I hadn&#x27;t found everything.<p>Knowing the previous version number of Java I did a string search across the OS and found another half dozen or so Java files. Retried the install again and it still failed. I then ran ERUNT which replaced the registry with an earlier pre-Java one and the install now worked. This still meant that some programs that were added later, LibreOffice for example, had to be reinstalled to update the registry.<p>If I hadn&#x27;t had ERUNT installed I&#x27;d have had to go back to reinstalling an earlier partition backup. And if I&#x27;d not had those then I&#x27;d have been in real trouble.<p>That&#x27;s the short version. Fact is, Windows is an unmitigated mess when it comes to installations. Why can&#x27;t I force an installer to complete even with faults? Why doesn&#x27;t Windows remember exactly what happens during an installation so it can be easily undone?<p>_<p><i>Edit: if you&#x27;ve never used ERUNT and decide to do so, always ensure you shut Windows down and restart it after installing a backup registry before you do anything elseâthat&#x27;s in addition to the mandatory reboot required to install the backup.<p>You may have multiple registry backups and decide the version you&#x27;ve just loaded wasn&#x27;t the one you want. Loading another without this additional reboot [refresh] will blue-screen the O&#x2F;S. You&#x27;ll then have to install the backup manually and that&#x27;s very messy.</i></div><br/></div></div></div></div><div id="37500003" class="c"><input type="checkbox" id="c-37500003" checked=""/><div class="controls bullet"><span class="by">GuB-42</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37494190">prev</a><span>|</span><a href="#37494127">next</a><span>|</span><label class="collapse" for="c-37500003">[-]</label><label class="expand" for="c-37500003">[3 more]</label></div><br/><div class="children"><div class="content">Besides the &quot;special uninstaller&quot; thing. One of the things I hate the most with Windows filesystem management compared to Unix-like OSes.<p>On Windows, opening a file locks it. So you can&#x27;t delete a program that is running, you will get an error. It means of course that an executable can&#x27;t delete itself without resorting to ugly tricks like the one mentioned in the article. That&#x27;s also why you get all these annoying &quot;in use&quot; popups.<p>On Unix, files (more precisely: directory entries) are just reference-counted pointers to the actual data (inode on Linux), removing a file is never a problem: remove the pointer, decrement the reference counter. If the file wasn&#x27;t in use or referenced from elsewhere, the counter will go to zero and the actual data will be deleted. If the file is in use, for example because it is an executable that is running, the file will disappear from the directory, but the data will only be deleted when it stops being in use, in this case, when the executable process terminates. So you can write your uninstaller in the most straightforward way possible and it will do as expected.</div><br/><div id="37500664" class="c"><input type="checkbox" id="c-37500664" checked=""/><div class="controls bullet"><span class="by">EustassKid</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37500003">parent</a><span>|</span><a href="#37494127">next</a><span>|</span><label class="collapse" for="c-37500664">[-]</label><label class="expand" for="c-37500664">[2 more]</label></div><br/><div class="children"><div class="content">I feel like this is some stupid question but aren&#x27;t exexutables and their libraries loaded to RAM? If yes then why can&#x27;t it just delete itself (from disk)?</div><br/><div id="37500859" class="c"><input type="checkbox" id="c-37500859" checked=""/><div class="controls bullet"><span class="by">GuB-42</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37500664">parent</a><span>|</span><a href="#37494127">next</a><span>|</span><label class="collapse" for="c-37500859">[-]</label><label class="expand" for="c-37500859">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know the details but I think executable files are mapped into memory, and needed sections are loaded on demand. In case the system is low on RAM, little used sections can be evicted, to be reloaded the next time they are needed. This requires the file to be present on disk.</div><br/></div></div></div></div></div></div><div id="37494127" class="c"><input type="checkbox" id="c-37494127" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37500003">prev</a><span>|</span><a href="#37493878">next</a><span>|</span><label class="collapse" for="c-37494127">[-]</label><label class="expand" for="c-37494127">[3 more]</label></div><br/><div class="children"><div class="content">It is, these days. Windows 10 onwards has a native package format called MSIX that somewhat resembles packages on Linux. They&#x27;re special zips containing an XML file that declares how the software should be integrated into the OS (start menu, commands on the PATH, file associations etc). Windows takes care of installation, update and uninstallation.<p>The system is great, in theory. In practice adoption has been held back by the fact that it was originally only for UWP apps which almost nobody writes, and also only for the MS Store. These days you can use it for Win32 apps outside the store but then you will hit bugs in Windows. And packages must be signed.<p>Still, the feature set is pretty great if you can make it work. For example you can get Chrome-style updates where Windows will keep the app fresh in the background even if it&#x27;s not running. And it will share files on disk between apps if they&#x27;re the same, avoid downloading them, do delta updates and more. It also tracks all the files your app writes to disk outside of the user&#x27;s home directory so they can be cleanly uninstalled, without needing any custom uninstaller logic.<p>One interesting aspect of the format is that because it&#x27;s a &quot;special&quot; (read: weird) kind of zip, you can make them on non-Windows platforms. Not using any normal zip tool of course, oh no, that would be too easy. You can only extract them using normal zip tools. But if you write your own zip library you can create them.<p>A couple of years ago I sat down to write a tool that would let anyone ship apps to Win&#x2F;Mac&#x2F;Linux in one command from whatever OS they liked, no harder than copying a website to a server. I learned about MSIX and decided to make this package format. It took us a while to work around all the weird bugs in Windows that only show up on some machines and not others for no explicable reason, but it&#x27;s stable now and it works pretty well. For example you can take some HTML and JS files, write a 5 line config file pointing at those files, run one command and now you have a download page pointing to fully signed (or self signed) self-updating Windows, Mac and Linux Electron app. Or a JVM app. Or a Flutter app. Or any kind of app, really! Also IT departments love it because, well, it&#x27;s a real package format and not an installer.<p>Writing more about this tech has been on my todo list for a while, but I have now published something about the delta update scheme it uses which is based on block maps, it&#x27;s somewhat unusual (a bit Flatpak like):<p><a href="https:&#x2F;&#x2F;hydraulic.dev&#x2F;blog&#x2F;20-deltas-diffed.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;hydraulic.dev&#x2F;blog&#x2F;20-deltas-diffed.html</a><p>The tool is free to download, and free for open source projects if anyone is wanting to ship stuff to Windows without installers:<p><a href="https:&#x2F;&#x2F;conveyor.hydraulic.dev&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;conveyor.hydraulic.dev&#x2F;</a></div><br/><div id="37495529" class="c"><input type="checkbox" id="c-37495529" checked=""/><div class="controls bullet"><span class="by">jahav</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494127">parent</a><span>|</span><a href="#37494535">next</a><span>|</span><label class="collapse" for="c-37495529">[-]</label><label class="expand" for="c-37495529">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For example you can get Chrome-style updates where Windows will keep the app fresh in the background even if it&#x27;s not running<p>Considering the ability to update itself is a requirement of Cyber Resilience Act in EU, I foresee a big uptick in usage (and app stores usage of course).</div><br/></div></div><div id="37494535" class="c"><input type="checkbox" id="c-37494535" checked=""/><div class="controls bullet"><span class="by">rootw0rm</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494127">parent</a><span>|</span><a href="#37495529">prev</a><span>|</span><a href="#37493878">next</a><span>|</span><label class="collapse" for="c-37494535">[-]</label><label class="expand" for="c-37494535">[1 more]</label></div><br/><div class="children"><div class="content">that&#x27;s a cool project, will definitely try it out later</div><br/></div></div></div></div><div id="37493878" class="c"><input type="checkbox" id="c-37493878" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37494127">prev</a><span>|</span><a href="#37497030">next</a><span>|</span><label class="collapse" for="c-37493878">[-]</label><label class="expand" for="c-37493878">[34 more]</label></div><br/><div class="children"><div class="content">One thing I like about Linux package managers is that you can query any file to see which package owns it. How does Windows not track this?</div><br/><div id="37493981" class="c"><input type="checkbox" id="c-37493981" checked=""/><div class="controls bullet"><span class="by">yankput</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493878">parent</a><span>|</span><a href="#37494157">next</a><span>|</span><label class="collapse" for="c-37493981">[-]</label><label class="expand" for="c-37493981">[30 more]</label></div><br/><div class="children"><div class="content">Except they all leave files everywhere in ~, ~&#x2F;.cache, ~&#x2F;.config, ~&#x2F;.whatevertheyfeellike</div><br/><div id="37494369" class="c"><input type="checkbox" id="c-37494369" checked=""/><div class="controls bullet"><span class="by">mijoharas</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493981">parent</a><span>|</span><a href="#37494182">next</a><span>|</span><label class="collapse" for="c-37494369">[-]</label><label class="expand" for="c-37494369">[8 more]</label></div><br/><div class="children"><div class="content">The ~&#x2F;.whatevertheyfeellike is an antipattern (that is annoying) but the others are well defined in the xdg_desktop spec[0].<p>Personally I appreciate knowing where the config&#x2F;cache for each application is. (Though it does annoy me when programs don&#x27;t follow this as in your third example)<p>[0] <a href="https:&#x2F;&#x2F;specifications.freedesktop.org&#x2F;basedir-spec&#x2F;basedir-spec-latest.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;specifications.freedesktop.org&#x2F;basedir-spec&#x2F;basedir-...</a></div><br/><div id="37494531" class="c"><input type="checkbox" id="c-37494531" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494369">parent</a><span>|</span><a href="#37494182">next</a><span>|</span><label class="collapse" for="c-37494531">[-]</label><label class="expand" for="c-37494531">[7 more]</label></div><br/><div class="children"><div class="content">Why does the XDG spec have authority over software?</div><br/><div id="37494578" class="c"><input type="checkbox" id="c-37494578" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494531">parent</a><span>|</span><a href="#37494694">next</a><span>|</span><label class="collapse" for="c-37494578">[-]</label><label class="expand" for="c-37494578">[4 more]</label></div><br/><div class="children"><div class="content">It usually doesn&#x27;t, and it&#x27;s mostly a good standards recommendation that even the most GPL of GPL codebases doesn&#x27;t always follow (looking at you, emacs).</div><br/><div id="37494998" class="c"><input type="checkbox" id="c-37494998" checked=""/><div class="controls bullet"><span class="by">chimprich</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494578">parent</a><span>|</span><a href="#37495489">next</a><span>|</span><label class="collapse" for="c-37494998">[-]</label><label class="expand" for="c-37494998">[1 more]</label></div><br/><div class="children"><div class="content">Emacs has respected $XDG_CONFIG_HOME for a while now. There are worse offenders (e.g. not likely to see the end of .mozilla any time soon).</div><br/></div></div><div id="37495489" class="c"><input type="checkbox" id="c-37495489" checked=""/><div class="controls bullet"><span class="by">j16sdiz</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494578">parent</a><span>|</span><a href="#37494998">prev</a><span>|</span><a href="#37494694">next</a><span>|</span><label class="collapse" for="c-37495489">[-]</label><label class="expand" for="c-37495489">[2 more]</label></div><br/><div class="children"><div class="content">GNU emacs was created at 1984.
XDG Base Directory spec was started around 2003..</div><br/><div id="37495667" class="c"><input type="checkbox" id="c-37495667" checked=""/><div class="controls bullet"><span class="by">Zambyte</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495489">parent</a><span>|</span><a href="#37494694">next</a><span>|</span><label class="collapse" for="c-37495667">[-]</label><label class="expand" for="c-37495667">[1 more]</label></div><br/><div class="children"><div class="content">Also Emacs will reapect files being placed in XDG directories, it just doesn&#x27;t put them there...</div><br/></div></div></div></div></div></div><div id="37494694" class="c"><input type="checkbox" id="c-37494694" checked=""/><div class="controls bullet"><span class="by">butlerm</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494531">parent</a><span>|</span><a href="#37494578">prev</a><span>|</span><a href="#37496763">next</a><span>|</span><label class="collapse" for="c-37494694">[-]</label><label class="expand" for="c-37494694">[1 more]</label></div><br/><div class="children"><div class="content">Software specifications are usually adopted by convention and implemented to minimize surprise and make things interoperable. They are not authorities and cannot make anyone do anything. One of the most common software failure modes is to implement a specification too tightly or in a way that nobody wants although the reverse is a problem as well.</div><br/></div></div><div id="37496763" class="c"><input type="checkbox" id="c-37496763" checked=""/><div class="controls bullet"><span class="by">Maken</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494531">parent</a><span>|</span><a href="#37494694">prev</a><span>|</span><a href="#37494182">next</a><span>|</span><label class="collapse" for="c-37496763">[-]</label><label class="expand" for="c-37496763">[1 more]</label></div><br/><div class="children"><div class="content">They don&#x27;t. XDG specifications are recommendations. Their only power is that your software will integrate poorly with other software (specially desktop software) if you ignore their guidelines.</div><br/></div></div></div></div></div></div><div id="37494182" class="c"><input type="checkbox" id="c-37494182" checked=""/><div class="controls bullet"><span class="by">parchley</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493981">parent</a><span>|</span><a href="#37494369">prev</a><span>|</span><a href="#37494898">next</a><span>|</span><label class="collapse" for="c-37494182">[-]</label><label class="expand" for="c-37494182">[18 more]</label></div><br/><div class="children"><div class="content">Those files are user data, not part of the software package.</div><br/><div id="37494220" class="c"><input type="checkbox" id="c-37494220" checked=""/><div class="controls bullet"><span class="by">daemin</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494182">parent</a><span>|</span><a href="#37494898">next</a><span>|</span><label class="collapse" for="c-37494220">[-]</label><label class="expand" for="c-37494220">[17 more]</label></div><br/><div class="children"><div class="content">I would disagree, files that the user cannot edit or should not edit should not be going into their home directory. Things like cache files should go into a system wide cache directory instead.</div><br/><div id="37494256" class="c"><input type="checkbox" id="c-37494256" checked=""/><div class="controls bullet"><span class="by">amenghra</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494220">parent</a><span>|</span><a href="#37495815">next</a><span>|</span><label class="collapse" for="c-37494256">[-]</label><label class="expand" for="c-37494256">[9 more]</label></div><br/><div class="children"><div class="content">Cache files might contain user&#x27;s sensitive data. Makes sense to keep in them in the user&#x27;s home directory in those cases.</div><br/><div id="37494463" class="c"><input type="checkbox" id="c-37494463" checked=""/><div class="controls bullet"><span class="by">Hikikomori</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494256">parent</a><span>|</span><a href="#37495815">next</a><span>|</span><label class="collapse" for="c-37494463">[-]</label><label class="expand" for="c-37494463">[8 more]</label></div><br/><div class="children"><div class="content">File permissions?</div><br/><div id="37494596" class="c"><input type="checkbox" id="c-37494596" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494463">parent</a><span>|</span><a href="#37494667">next</a><span>|</span><label class="collapse" for="c-37494596">[-]</label><label class="expand" for="c-37494596">[6 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t that very anti-linux though, to have a directory owned by root but populated with subfolders owned by other users? &#x2F;home is the only exception I can think of that does this.</div><br/><div id="37494935" class="c"><input type="checkbox" id="c-37494935" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494596">parent</a><span>|</span><a href="#37494956">next</a><span>|</span><label class="collapse" for="c-37494935">[-]</label><label class="expand" for="c-37494935">[2 more]</label></div><br/><div class="children"><div class="content">Anti-linux I don&#x27;t know, but it was not uncommon in unices to have home directories in &#x2F;usr&#x2F;home.<p>And there is no written or unwritten rule about that. In fact, &#x2F;home is a subdirectory of &#x2F; which is owned by root.</div><br/><div id="37496396" class="c"><input type="checkbox" id="c-37496396" checked=""/><div class="controls bullet"><span class="by">TheNewsIsHere</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494935">parent</a><span>|</span><a href="#37494956">next</a><span>|</span><label class="collapse" for="c-37496396">[-]</label><label class="expand" for="c-37496396">[1 more]</label></div><br/><div class="children"><div class="content">True, but &#x2F;usr&#x2F;home is no longer a common place to store home directories. It used to be, particularly in Bell Labs Unix. (Does FreeBSD still do this?)<p>The Linux Foundationâs File Hierarchy Standard puts user homes in &#x2F;home, but itâs by no means mandatory.<p>&#x2F;home being the *nix home folder directory isnât written in stone, but plenty of software expects it. Of course you shouldnât hard code things like that, but that has never stopped anyone from doing it. (Not that we should reward that with de facto standards necessarily.)<p>I understand the various reasons why a root file system hierarchy isnât part of the Single UNIX Specification, but it might have been nice.</div><br/></div></div></div></div><div id="37494956" class="c"><input type="checkbox" id="c-37494956" checked=""/><div class="controls bullet"><span class="by">Hikikomori</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494596">parent</a><span>|</span><a href="#37494935">prev</a><span>|</span><a href="#37494667">next</a><span>|</span><label class="collapse" for="c-37494956">[-]</label><label class="expand" for="c-37494956">[3 more]</label></div><br/><div class="children"><div class="content">&#x2F;tmp</div><br/><div id="37495683" class="c"><input type="checkbox" id="c-37495683" checked=""/><div class="controls bullet"><span class="by">Zambyte</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494956">parent</a><span>|</span><a href="#37496153">next</a><span>|</span><label class="collapse" for="c-37495683">[-]</label><label class="expand" for="c-37495683">[1 more]</label></div><br/><div class="children"><div class="content">And &#x2F;run&#x2F;user</div><br/></div></div><div id="37496153" class="c"><input type="checkbox" id="c-37496153" checked=""/><div class="controls bullet"><span class="by">em-bee</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494956">parent</a><span>|</span><a href="#37495683">prev</a><span>|</span><a href="#37494667">next</a><span>|</span><label class="collapse" for="c-37496153">[-]</label><label class="expand" for="c-37496153">[1 more]</label></div><br/><div class="children"><div class="content">also mail and cron</div><br/></div></div></div></div></div></div><div id="37494667" class="c"><input type="checkbox" id="c-37494667" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494463">parent</a><span>|</span><a href="#37494596">prev</a><span>|</span><a href="#37495815">next</a><span>|</span><label class="collapse" for="c-37494667">[-]</label><label class="expand" for="c-37494667">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no other path that the user is guaranteed to have write permissions to (except maybe &#x2F;tmp, I guess).</div><br/></div></div></div></div></div></div><div id="37495815" class="c"><input type="checkbox" id="c-37495815" checked=""/><div class="controls bullet"><span class="by">the8472</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494220">parent</a><span>|</span><a href="#37494256">prev</a><span>|</span><a href="#37494902">next</a><span>|</span><label class="collapse" for="c-37495815">[-]</label><label class="expand" for="c-37495815">[1 more]</label></div><br/><div class="children"><div class="content">If I uninstall ssh I still want to have have my authorized hosts. If I uninstall some firefox version firefox I want to keep my profiles. XDG defines a thumbnailing hierarchy followed by multiple libraries, uninstalling any of those shouldn&#x27;t clear thumbnail caches.</div><br/></div></div><div id="37494902" class="c"><input type="checkbox" id="c-37494902" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494220">parent</a><span>|</span><a href="#37495815">prev</a><span>|</span><a href="#37494471">next</a><span>|</span><label class="collapse" for="c-37494902">[-]</label><label class="expand" for="c-37494902">[1 more]</label></div><br/><div class="children"><div class="content">I agree cache file should not go into their home directory, however I don&#x27;t agree they aren&#x27;t user data and that they would be part of the software installation.</div><br/></div></div><div id="37494471" class="c"><input type="checkbox" id="c-37494471" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494220">parent</a><span>|</span><a href="#37494902">prev</a><span>|</span><a href="#37494898">next</a><span>|</span><label class="collapse" for="c-37494471">[-]</label><label class="expand" for="c-37494471">[5 more]</label></div><br/><div class="children"><div class="content">Why would you want that?<p>If you have separate partitions, would you really want user data to go to the system partition? Or a third partition?<p>Do you find having more places that user programs can write a benefit?</div><br/><div id="37494913" class="c"><input type="checkbox" id="c-37494913" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494471">parent</a><span>|</span><a href="#37494898">next</a><span>|</span><label class="collapse" for="c-37494913">[-]</label><label class="expand" for="c-37494913">[4 more]</label></div><br/><div class="children"><div class="content">I would favor a &#x2F;var&#x2F;user&#x2F;something directory.<p>The fact that nobody does that is pretty much a consequence of the difficulty of coordinating multiple projects that do not have a common authority, not because it is a bad idea.</div><br/><div id="37495295" class="c"><input type="checkbox" id="c-37495295" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494913">parent</a><span>|</span><a href="#37495501">next</a><span>|</span><label class="collapse" for="c-37495295">[-]</label><label class="expand" for="c-37495295">[2 more]</label></div><br/><div class="children"><div class="content">Again, what do you prefer about that?<p>Maybe the reason no one does that is simply that no one shares your preference.</div><br/><div id="37496339" class="c"><input type="checkbox" id="c-37496339" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37495295">parent</a><span>|</span><a href="#37495501">next</a><span>|</span><label class="collapse" for="c-37496339">[-]</label><label class="expand" for="c-37496339">[1 more]</label></div><br/><div class="children"><div class="content">Having a clear separation between actual user data files &#x2F; documents and stuff like cache for different reasons:<p>- easier to cleanup&#x2F;wipe without risking deleting works&#x2F;personnal files<p>- backup solution doesn&#x27;t have to have a town of entries in an ignore&#x2F;exclude file<p>- same as above for syncing software<p>- tier storage separation possibility<p>- disk space allocation separation depending on data vs volatile stuff</div><br/></div></div></div></div><div id="37495501" class="c"><input type="checkbox" id="c-37495501" checked=""/><div class="controls bullet"><span class="by">j16sdiz</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37494913">parent</a><span>|</span><a href="#37495295">prev</a><span>|</span><a href="#37494898">next</a><span>|</span><label class="collapse" for="c-37495501">[-]</label><label class="expand" for="c-37495501">[1 more]</label></div><br/><div class="children"><div class="content">Should that count towards user disk quota?</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37494898" class="c"><input type="checkbox" id="c-37494898" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493981">parent</a><span>|</span><a href="#37494182">prev</a><span>|</span><a href="#37496926">next</a><span>|</span><label class="collapse" for="c-37494898">[-]</label><label class="expand" for="c-37494898">[1 more]</label></div><br/><div class="children"><div class="content">That is not part of the software itself so it is still correctly installed&#x2F;uninstalled.<p>Now I believe all software should have a manpage, dialog and a cli argument that describes where all the files[1] generated by default go but that is another subject.<p>[1] cache, config and even default save</div><br/></div></div><div id="37496926" class="c"><input type="checkbox" id="c-37496926" checked=""/><div class="controls bullet"><span class="by">devnullbrain</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493981">parent</a><span>|</span><a href="#37494898">prev</a><span>|</span><a href="#37494218">next</a><span>|</span><label class="collapse" for="c-37496926">[-]</label><label class="expand" for="c-37496926">[1 more]</label></div><br/><div class="children"><div class="content">Try opening C:\Users\%USERNAME%\Documents\My Games</div><br/></div></div><div id="37494218" class="c"><input type="checkbox" id="c-37494218" checked=""/><div class="controls bullet"><span class="by">goodpoint</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493981">parent</a><span>|</span><a href="#37496926">prev</a><span>|</span><a href="#37494157">next</a><span>|</span><label class="collapse" for="c-37494218">[-]</label><label class="expand" for="c-37494218">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a feature so that users can keep configuration files and even move them across systems.</div><br/></div></div></div></div><div id="37494157" class="c"><input type="checkbox" id="c-37494157" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493878">parent</a><span>|</span><a href="#37493981">prev</a><span>|</span><a href="#37495083">next</a><span>|</span><label class="collapse" for="c-37494157">[-]</label><label class="expand" for="c-37494157">[1 more]</label></div><br/><div class="children"><div class="content">MSIX packaged apps do support this, Windows redirects file writes outside of home dirs and other user locations to a package-specific directory that&#x27;s overlayed back onto the system so the app thinks it&#x27;s writing to wherever, but it&#x27;s actually a package-private location.</div><br/></div></div><div id="37495083" class="c"><input type="checkbox" id="c-37495083" checked=""/><div class="controls bullet"><span class="by">chimprich</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493878">parent</a><span>|</span><a href="#37494157">prev</a><span>|</span><a href="#37493945">next</a><span>|</span><label class="collapse" for="c-37495083">[-]</label><label class="expand" for="c-37495083">[1 more]</label></div><br/><div class="children"><div class="content">&gt; you can query any file to see which package owns it<p>Presumably you mean something like using dpkg&#x2F;apt for a Debian-style system?<p>I think that only works if a file is actually installed from within the framework. As soon as you&#x27;ve installed a file via npm, flatpak, pip, snap, specialist plug-in, standalone binary, that ancient program you had to install by hand, or one of the other squillions of ways of getting an executable program, you&#x27;re out of luck and have to figure it out manually.</div><br/></div></div><div id="37493945" class="c"><input type="checkbox" id="c-37493945" checked=""/><div class="controls bullet"><span class="by">blackpill0w</span><span>|</span><a href="#37493827">root</a><span>|</span><a href="#37493878">parent</a><span>|</span><a href="#37495083">prev</a><span>|</span><a href="#37497030">next</a><span>|</span><label class="collapse" for="c-37493945">[-]</label><label class="expand" for="c-37493945">[1 more]</label></div><br/><div class="children"><div class="content">Ok, I see what you&#x27;re saying here, still, Linux&#x27;s way is better, I&#x27;d rather have my system cluttered with useless files of deleted programs than be exploited because of something that was solved decades ago.</div><br/></div></div></div></div><div id="37497030" class="c"><input type="checkbox" id="c-37497030" checked=""/><div class="controls bullet"><span class="by">gwbas1c</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37493878">prev</a><span>|</span><a href="#37496237">next</a><span>|</span><label class="collapse" for="c-37497030">[-]</label><label class="expand" for="c-37497030">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why do Windows programs need special installers&#x2F;uninstallers?<p>This is supposed to happen using MSI-based installers. It&#x27;s a windows component.<p>&gt; Why isn&#x27;t this handled by Windows itself?<p>Now, here&#x27;s where things get tricky.<p>In the article, the issue is an explorer plugin. MSI is notoriously buggy with installing and uninstalling explorer plugins. If you don&#x27;t jump through hoops, your installer will have a bug where it prompts the user to close Explorer.exe.<p>I know because I shipped a product with an explorer plugin. The installer was always a thorn in our side; and the workarounds, ect, that we had to do to install &#x2F; uninstall &#x2F; delete our plugin were more complicated than the plugin itself.</div><br/></div></div><div id="37496237" class="c"><input type="checkbox" id="c-37496237" checked=""/><div class="controls bullet"><span class="by">NotYourLawyer</span><span>|</span><a href="#37493827">parent</a><span>|</span><a href="#37497030">prev</a><span>|</span><a href="#37493888">next</a><span>|</span><label class="collapse" for="c-37496237">[-]</label><label class="expand" for="c-37496237">[1 more]</label></div><br/><div class="children"><div class="content">When the subject is Windows, and the question includes a âwhy,â the answer is always âfor historical reasons.â</div><br/></div></div></div></div><div id="37492589" class="c"><input type="checkbox" id="c-37492589" checked=""/><div class="controls bullet"><span class="by">turndown</span><span>|</span><a href="#37493827">prev</a><span>|</span><a href="#37500137">next</a><span>|</span><label class="collapse" for="c-37492589">[-]</label><label class="expand" for="c-37492589">[10 more]</label></div><br/><div class="children"><div class="content">I had never heard of detours before, but I guess it isnât any different that a good old fashioned LD_PRELOAD</div><br/><div id="37492625" class="c"><input type="checkbox" id="c-37492625" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#37492589">parent</a><span>|</span><a href="#37500137">next</a><span>|</span><label class="collapse" for="c-37492625">[-]</label><label class="expand" for="c-37492625">[9 more]</label></div><br/><div class="children"><div class="content">it&#x27;s a little more general, I think, since one common use case for it is to use it on your own process in order to intercept calls to stdlib&#x2F;OS code from libraries you don&#x27;t control.<p>For example, in the bad old days I used detours to virtualize the windows registry so that I could do &quot;fake installs&quot; of COM components inside of a VB6 app, allowing it to run without an install and without administrator permissions. This worked by detouring all the Win32 registry APIs, which was sufficient to intercept registry accesses performed by the COM infrastructure.</div><br/><div id="37502852" class="c"><input type="checkbox" id="c-37502852" checked=""/><div class="controls bullet"><span class="by">wahern</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37492625">parent</a><span>|</span><a href="#37492900">next</a><span>|</span><label class="collapse" for="c-37502852">[-]</label><label class="expand" for="c-37502852">[1 more]</label></div><br/><div class="children"><div class="content">&gt; it&#x27;s a little more general, I think, since one common use case for it is to use it on your own process in order to intercept calls to stdlib&#x2F;OS code from libraries you don&#x27;t control.<p>This capability is intrinsic to how ELF linking works. The main application or even any library can interpose a libc function just by defining and exporting a function with the same name, and that definition will be preferentially linked in both the main application and all subsequently loaded dynamic libraries and modules. Your definition can then use dlsym(RTLD_NEXT, &quot;foo&quot;) to obtain a function pointer to the <i>next</i> definition, which would normally be libc itself but may be from another library. A running application could actually have several implementations of a function, all proxying calls onward until the terminal (usually libc) implementation.<p>Basically, the way ELF linking works <i>by</i> <i>default</i> is that the first definition loaded is the preferred global symbol used to satisfy any symbol dependency with that name. It follows that there&#x27;s normally a singular global symbol table. Though there are features and extensions that can be explicitly used to get different behaviors.<p>There&#x27;s nothing magical about LD_PRELOAD within the context of ELF linking. LD_PRELOAD support in the linker (which is the first bit of code the kernel loads on exec(2)) is very simple; all the linker does is load the specified libraries <i>first</i>, even before the main application, so symbols exported therein become the initial and therefore default definition for satisfying subsequent symbol dependencies, including in the main application binary, and even if the main application binary also defines and exports those symbols.<p>All of this is basically the exact opposite behavior of how PE linking works on Windows, for better and worse--depending on your disposition and problems at hand.<p>Also note that all of this is different than so-called &quot;weak&quot; symbols, which is a mechanism for achieving one of the same behaviors--overriding another definition--when statically linking. Otherwise, when statically linking, multiple definitions are either an error or it&#x27;s difficult (i.e. confusing, especially in complex builds) to control when and where one definition is chosen over another.<p>[1] Though main application symbols aren&#x27;t usually exported by default, so you need to explicitly mark a definition for export or build the entire main binary with a compiler flag like `-rdynamic`, which is the main binary analog to the `-shared` flag used for building shared libraries. The Python and Perl interpreters, for example, are built with -rdynamic as the interpreter binary itself exports all the implementation symbols required by binary modules, rather than defining them in a separate shared library against which modules explicitly link themselves against at compile time. (This is also why when building Perl, Python, and similar language modules you have to tell the compile-time linker to ignore unresolved symbols.)</div><br/></div></div><div id="37492900" class="c"><input type="checkbox" id="c-37492900" checked=""/><div class="controls bullet"><span class="by">cornel_io</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37492625">parent</a><span>|</span><a href="#37502852">prev</a><span>|</span><a href="#37500137">next</a><span>|</span><label class="collapse" for="c-37492900">[-]</label><label class="expand" for="c-37492900">[7 more]</label></div><br/><div class="children"><div class="content">For those of us who don&#x27;t Windows, can you explain what a detour is?</div><br/><div id="37493084" class="c"><input type="checkbox" id="c-37493084" checked=""/><div class="controls bullet"><span class="by">jborean93</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37492900">parent</a><span>|</span><a href="#37493067">next</a><span>|</span><label class="collapse" for="c-37493084">[-]</label><label class="expand" for="c-37493084">[2 more]</label></div><br/><div class="children"><div class="content">You essentially replace a function with your own. The project is at <a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;Detours">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;Detours</a>.<p>Iâve created a PowerShell module that wraps this library to make it easier to hook functions on the fly for testing <a href="https:&#x2F;&#x2F;github.com&#x2F;jborean93&#x2F;PSDetour">https:&#x2F;&#x2F;github.com&#x2F;jborean93&#x2F;PSDetour</a>. For example I used it to capture TLS session data for decryption <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;jborean93&#x2F;6c1f1b3130f2675f1618da56633eb1fa" rel="nofollow noreferrer">https:&#x2F;&#x2F;gist.github.com&#x2F;jborean93&#x2F;6c1f1b3130f2675f1618da5663...</a> as well as create an strace like functionality for various Win32 APIs (still expanding as I find more use cases) <a href="https:&#x2F;&#x2F;github.com&#x2F;jborean93&#x2F;PSDetour-Hooks">https:&#x2F;&#x2F;github.com&#x2F;jborean93&#x2F;PSDetour-Hooks</a></div><br/><div id="37493449" class="c"><input type="checkbox" id="c-37493449" checked=""/><div class="controls bullet"><span class="by">grepfru_it</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37493084">parent</a><span>|</span><a href="#37493067">next</a><span>|</span><label class="collapse" for="c-37493449">[-]</label><label class="expand" for="c-37493449">[1 more]</label></div><br/><div class="children"><div class="content">&gt; as well as create an strace like functionality for various Win32 APIs<p>Yes please. Thank you for this</div><br/></div></div></div></div><div id="37493067" class="c"><input type="checkbox" id="c-37493067" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37492900">parent</a><span>|</span><a href="#37493084">prev</a><span>|</span><a href="#37500137">next</a><span>|</span><label class="collapse" for="c-37493067">[-]</label><label class="expand" for="c-37493067">[4 more]</label></div><br/><div class="children"><div class="content">Detours is a library for instrumenting arbitrary Win32 functions Windows-compatible processors. Detours intercepts Win32 functions by re-writing the in-memory code for target functions. The Detours package also contains utilities to attach arbitrary DLLs and data segments (called payloads) to any Win32 binary.<p>Detours preserves the un-instrumented target function (callable through a trampoline) as a subroutine for use by the instrumentation. Our trampoline design enables a large class of innovative extensions to existing binary software.<p><a href="https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;research&#x2F;project&#x2F;detours&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;research&#x2F;project&#x2F;detours&#x2F;</a></div><br/><div id="37493946" class="c"><input type="checkbox" id="c-37493946" checked=""/><div class="controls bullet"><span class="by">jaclaz</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37493067">parent</a><span>|</span><a href="#37493705">next</a><span>|</span><label class="collapse" for="c-37493946">[-]</label><label class="expand" for="c-37493946">[1 more]</label></div><br/><div class="children"><div class="content">Only for the record, there is also easyhook:<p><a href="https:&#x2F;&#x2F;easyhook.github.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;easyhook.github.io&#x2F;</a><p><a href="https:&#x2F;&#x2F;easyhook.github.io&#x2F;#features" rel="nofollow noreferrer">https:&#x2F;&#x2F;easyhook.github.io&#x2F;#features</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;EasyHook&#x2F;EasyHook">https:&#x2F;&#x2F;github.com&#x2F;EasyHook&#x2F;EasyHook</a></div><br/></div></div><div id="37493705" class="c"><input type="checkbox" id="c-37493705" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37493067">parent</a><span>|</span><a href="#37493946">prev</a><span>|</span><a href="#37500137">next</a><span>|</span><label class="collapse" for="c-37493705">[-]</label><label class="expand" for="c-37493705">[2 more]</label></div><br/><div class="children"><div class="content">Interesting. Has anyone done the same thing on Linux?</div><br/><div id="37494050" class="c"><input type="checkbox" id="c-37494050" checked=""/><div class="controls bullet"><span class="by">alaxapta7</span><span>|</span><a href="#37492589">root</a><span>|</span><a href="#37493705">parent</a><span>|</span><a href="#37500137">next</a><span>|</span><label class="collapse" for="c-37494050">[-]</label><label class="expand" for="c-37494050">[1 more]</label></div><br/><div class="children"><div class="content">I use and recommend subhook[0].<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;Zeex&#x2F;subhook">https:&#x2F;&#x2F;github.com&#x2F;Zeex&#x2F;subhook</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37500137" class="c"><input type="checkbox" id="c-37500137" checked=""/><div class="controls bullet"><span class="by">readyplayernull</span><span>|</span><a href="#37492589">prev</a><span>|</span><a href="#37498147">next</a><span>|</span><label class="collapse" for="c-37500137">[-]</label><label class="expand" for="c-37500137">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of a simple app I made for Windows 95&#x2F;98 to add every directory including System32 to the uninstallers&#x27; lists. No AV, neither Norton or McAfee, saw that timebomb comming. Good times.</div><br/></div></div><div id="37498147" class="c"><input type="checkbox" id="c-37498147" checked=""/><div class="controls bullet"><span class="by">tgtweak</span><span>|</span><a href="#37500137">prev</a><span>|</span><a href="#37497134">next</a><span>|</span><label class="collapse" for="c-37498147">[-]</label><label class="expand" for="c-37498147">[2 more]</label></div><br/><div class="children"><div class="content">Dropping wscripts is a good way to get malware profiled too, and no way to code sign it or verify it&#x27;s integrity before executing.</div><br/><div id="37500464" class="c"><input type="checkbox" id="c-37500464" checked=""/><div class="controls bullet"><span class="by">javajosh</span><span>|</span><a href="#37498147">parent</a><span>|</span><a href="#37497134">next</a><span>|</span><label class="collapse" for="c-37500464">[-]</label><label class="expand" for="c-37500464">[1 more]</label></div><br/><div class="children"><div class="content">If your program creates the script and executes it, is verification necessary? This would be like verifying your 1st party scripts in a webpage that you wrote. It won&#x27;t really hurt anything, but I&#x27;m not sure there&#x27;s a point.</div><br/></div></div></div></div><div id="37497134" class="c"><input type="checkbox" id="c-37497134" checked=""/><div class="controls bullet"><span class="by">drbig</span><span>|</span><a href="#37498147">prev</a><span>|</span><a href="#37493348">next</a><span>|</span><label class="collapse" for="c-37497134">[-]</label><label class="expand" for="c-37497134">[7 more]</label></div><br/><div class="children"><div class="content">I still long for the approach many software used on the AmigaOS - the app is a folder, the folder has the main exec and any assets it needs (libraries, images, etc.) and documentation and... That&#x27;s it.<p>Install? Copy the directory to where you like.
Uninstall? Delete the directory.<p>And if you wish you could keep any files used&#x2F;generated with such an app in the same folder, making it 100% self-contained.<p>I remember being rather grossed out when I learnt Windows has &quot;a registry&quot; (that was a long time ago). &quot;Why would you have a global registry? Whatever preferences a piece of software has they should live where the exe is&quot;.<p>(and yes, I am aware AmigaOS had an installer and dir structure not that unlike of Unix, with `sys:`, `devs:` and so on)</div><br/><div id="37497981" class="c"><input type="checkbox" id="c-37497981" checked=""/><div class="controls bullet"><span class="by">ryandrake</span><span>|</span><a href="#37497134">parent</a><span>|</span><a href="#37497362">next</a><span>|</span><label class="collapse" for="c-37497981">[-]</label><label class="expand" for="c-37497981">[2 more]</label></div><br/><div class="children"><div class="content">To be fair, Windows applications can be designed to be installable this way: a single executable, with everything it needs sitting next to it in the folder. Even better, a single executable with no other dependent files at all! Lots of little utilities used to be distributed this way. But many developers deliberately choose to structure their monster such that it needs to spread its tentacles all over the filesystem for it to work.<p>And for legacy&#x2F;backward compatibility reasons, once MS allowed this behavior to go unchecked, there was no way to put the genie back in the bottle and stop it, without giving up backward compatibility. It didn&#x27;t help that Microsoft software tended to be the &quot;tentacle&quot; kind as well.</div><br/><div id="37499398" class="c"><input type="checkbox" id="c-37499398" checked=""/><div class="controls bullet"><span class="by">TremendousJudge</span><span>|</span><a href="#37497134">root</a><span>|</span><a href="#37497981">parent</a><span>|</span><a href="#37497362">next</a><span>|</span><label class="collapse" for="c-37499398">[-]</label><label class="expand" for="c-37499398">[1 more]</label></div><br/><div class="children"><div class="content">It sounds great but there are simple use cases where the &quot;portable&quot; app isn&#x27;t enough. For example, if you want multiple users to be able to use the program and have their own settings, you need something to be saved to the user folder. Or, if you want any basic interaction with the system (run on startup, run from a browser address, etc), you need to start messing with the registry.<p>So in theory apps could be distributed portable .exes but in practice Windows doesn&#x27;t any ways of interacting with the rest of the system that are that nice.</div><br/></div></div></div></div><div id="37497362" class="c"><input type="checkbox" id="c-37497362" checked=""/><div class="controls bullet"><span class="by">robinsonb5</span><span>|</span><a href="#37497134">parent</a><span>|</span><a href="#37497981">prev</a><span>|</span><a href="#37497760">next</a><span>|</span><label class="collapse" for="c-37497362">[-]</label><label class="expand" for="c-37497362">[1 more]</label></div><br/><div class="children"><div class="content">I still love most aspects of the Amiga user experience, but a lot of Amiga applications would need libraries installed to Libs: and deleting the application&#x27;s &quot;drawer&quot; would leave those libraries behind.  (Having said that, by default libs: is assigned to sys:libs but you could assign extra targets, so that libraries would be sought from application-specific directories.)<p>Also, it suffers from the same problem as Windows here, in that you can&#x27;t delete a file or directory which is currently open.  The executable itself wouldn&#x27;t be open after launch is complete (with the possible exception of overlay executables, but they were pretty rare) but the directory would be locked for as long as it was the program&#x27;s current directory.  If a subdirectory with app-specific libraries was assigned to Libs: that would also prevent deletion.</div><br/></div></div><div id="37497760" class="c"><input type="checkbox" id="c-37497760" checked=""/><div class="controls bullet"><span class="by">realslimjd</span><span>|</span><a href="#37497134">parent</a><span>|</span><a href="#37497362">prev</a><span>|</span><a href="#37497151">next</a><span>|</span><label class="collapse" for="c-37497760">[-]</label><label class="expand" for="c-37497760">[2 more]</label></div><br/><div class="children"><div class="content">This is how a lot of apps on MacOS still work.</div><br/><div id="37500978" class="c"><input type="checkbox" id="c-37500978" checked=""/><div class="controls bullet"><span class="by">justusthane</span><span>|</span><a href="#37497134">root</a><span>|</span><a href="#37497760">parent</a><span>|</span><a href="#37497151">next</a><span>|</span><label class="collapse" for="c-37500978">[-]</label><label class="expand" for="c-37500978">[1 more]</label></div><br/><div class="children"><div class="content">Sort of. They still leave garbage behind in ~&#x2F;Library though.</div><br/></div></div></div></div></div></div><div id="37493348" class="c"><input type="checkbox" id="c-37493348" checked=""/><div class="controls bullet"><span class="by">wolfendin</span><span>|</span><a href="#37497134">prev</a><span>|</span><a href="#37492538">next</a><span>|</span><label class="collapse" for="c-37493348">[-]</label><label class="expand" for="c-37493348">[1 more]</label></div><br/><div class="children"><div class="content">This tracks, Iâve flagged the nvidia uninstall for hours work  because it code injected and flagged behavioral consistent with malware</div><br/></div></div><div id="37492538" class="c"><input type="checkbox" id="c-37492538" checked=""/><div class="controls bullet"><span class="by">bdamm</span><span>|</span><a href="#37493348">prev</a><span>|</span><a href="#37492512">next</a><span>|</span><label class="collapse" for="c-37492538">[-]</label><label class="expand" for="c-37492538">[42 more]</label></div><br/><div class="children"><div class="content">And today I learned that Windows supports running Javascript as shell script. huh</div><br/><div id="37492845" class="c"><input type="checkbox" id="c-37492845" checked=""/><div class="controls bullet"><span class="by">technion</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37492660">next</a><span>|</span><label class="collapse" for="c-37492845">[-]</label><label class="expand" for="c-37492845">[2 more]</label></div><br/><div class="children"><div class="content">Malware delivered as an email with a link to a zip file containing a .js file is one of the most common methods of delivery, right behind word macros. The &quot;map the .js extension to notepad.exe&quot; is a common security trick with a measurable, immediate drop in malware in large orgs. You can deploy it via GPO or InTune.<p>Personal promotion, I built this as a better alternative:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;technion&#x2F;open_safety">https:&#x2F;&#x2F;github.com&#x2F;technion&#x2F;open_safety</a><p>Note the built in .js parser hasn&#x27;t basically ever updated, if you&#x27;re writing for this you&#x27;re writing like you&#x27;re targetting IE5.</div><br/><div id="37493979" class="c"><input type="checkbox" id="c-37493979" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492845">parent</a><span>|</span><a href="#37492660">next</a><span>|</span><label class="collapse" for="c-37493979">[-]</label><label class="expand" for="c-37493979">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It creates the file &quot;example.com&quot; in the same directory containing the EICAR test string. This should set off appropriate alarms<p>Huh, neat!</div><br/></div></div></div></div><div id="37492660" class="c"><input type="checkbox" id="c-37492660" checked=""/><div class="controls bullet"><span class="by">Roark66</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37492845">prev</a><span>|</span><a href="#37492635">next</a><span>|</span><label class="collapse" for="c-37492660">[-]</label><label class="expand" for="c-37492660">[8 more]</label></div><br/><div class="children"><div class="content">It is very common for malware to contain java script payloads that try to obfuscate themselves like like this:<p>Seemingly_random_code(seemingly_random_string)<p>The seemingly_random_code decompresses&#x2F;decodes whatever is in the seemingly_random_string and hands over control to it. Interestingly the decoded code is another version of the same with different code and string. This goes on for ~100 layers deep then at the end it just downloads and executes some file from the net.</div><br/><div id="37493497" class="c"><input type="checkbox" id="c-37493497" checked=""/><div class="controls bullet"><span class="by">soneil</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492660">parent</a><span>|</span><a href="#37493125">next</a><span>|</span><label class="collapse" for="c-37493497">[-]</label><label class="expand" for="c-37493497">[1 more]</label></div><br/><div class="children"><div class="content">Itâs amazing how much we havenât moved on since iloveyou.txt.vbs</div><br/></div></div><div id="37493125" class="c"><input type="checkbox" id="c-37493125" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492660">parent</a><span>|</span><a href="#37493497">prev</a><span>|</span><a href="#37492635">next</a><span>|</span><label class="collapse" for="c-37493125">[-]</label><label class="expand" for="c-37493125">[6 more]</label></div><br/><div class="children"><div class="content">&gt; This goes on for ~100 layers deep then at the end it just downloads and executes some file from the net.<p>I understand doing one layer. I guess I could maybe see two layers. But why would it bother with 100 layers? Either the antivirus or reverse-engineering tool can grab the final product or it can&#x27;t.</div><br/><div id="37494090" class="c"><input type="checkbox" id="c-37494090" checked=""/><div class="controls bullet"><span class="by">tsimionescu</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493125">parent</a><span>|</span><a href="#37494223">next</a><span>|</span><label class="collapse" for="c-37494090">[-]</label><label class="expand" for="c-37494090">[1 more]</label></div><br/><div class="children"><div class="content">Typically scanning tools have some limit to how much they probe complex formats, to avoid stalling the entire system while they&#x27;re scanning. It&#x27;s very much conceivable that a scan tool will try to resolve code like this for 10 layers, and then if the result is not found to be malicious, consider it safe.<p>This is similar to how compilers will often have recursion limits for things like generics, though in that case it&#x27;s easier to reject the program if the recursion limit is reached.</div><br/></div></div><div id="37494223" class="c"><input type="checkbox" id="c-37494223" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493125">parent</a><span>|</span><a href="#37494090">prev</a><span>|</span><a href="#37493188">next</a><span>|</span><label class="collapse" for="c-37494223">[-]</label><label class="expand" for="c-37494223">[1 more]</label></div><br/><div class="children"><div class="content">Because of potential false positives, and the speed at which files need to be analyzed at runtime (suspend process executing it and then analyze it), having files which take a long time to unpack and identify can cause these to be allowed to run. They get offloaded to a sandbox or other systems to be analyzed while the file is already being executed. The sandboxes are too slow to return a verdict before the main logic of the file will be executed. IF those dynamic systems cannot identify a file, an engineer will manually need to look at it.<p>In very strict environments or certain systems it might be practical to block all unknown files, but this is uncommon for user systems for example where users are actively using javascript or macro documents etc. (developers, HR, finance etc.) The FP rates are too high and productivity can take a big hit. If all users do 20% less work that&#x27;s a big loss in revenue (the productivity hit can be much more severe even!). perhaps this impact &#x2F; loss of revenue ends up being bigger than a malware being executed depending on the rest of the security posture&#x2F;measures.<p>technically its possible to identify (nearly?) all malware by tracking p-states&#x2F;symbolic execution&#x2F;very clever sanboxing etc.. but this simply takes much too long. Especially if the malware authors are aware of sandboxing techniques and symbolic execution and such things as they can make those processes also take extra long or sometimes even evade them totally with further techniques.<p>I wish it _was_ possible to do all of the cleverness that malware researchers have invented to detect things, but unfortunately, in practice this cannot happen on like 90+% of environments.<p>If you run like a DNS server or such things, it&#x27;s possible to do it as such a system would not be expected (ever?) to have unknown files. (gotta test each update and analyze new versions before deploying to prod). As you can imagine, this is also kind of a bummer process but imho for such &#x27;static&#x27; systems its worth it.</div><br/></div></div><div id="37493188" class="c"><input type="checkbox" id="c-37493188" checked=""/><div class="controls bullet"><span class="by">rightbyte</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493125">parent</a><span>|</span><a href="#37494223">prev</a><span>|</span><a href="#37492635">next</a><span>|</span><label class="collapse" for="c-37493188">[-]</label><label class="expand" for="c-37493188">[3 more]</label></div><br/><div class="children"><div class="content">With enough conditional evals() with dynamic inputs you can make the search space unsearchable big.</div><br/><div id="37493592" class="c"><input type="checkbox" id="c-37493592" checked=""/><div class="controls bullet"><span class="by">heavenlyblue</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493188">parent</a><span>|</span><a href="#37492635">next</a><span>|</span><label class="collapse" for="c-37493592">[-]</label><label class="expand" for="c-37493592">[2 more]</label></div><br/><div class="children"><div class="content">The search space is linear as the algorithm is linear.</div><br/><div id="37493824" class="c"><input type="checkbox" id="c-37493824" checked=""/><div class="controls bullet"><span class="by">sigmoid10</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493592">parent</a><span>|</span><a href="#37492635">next</a><span>|</span><label class="collapse" for="c-37493824">[-]</label><label class="expand" for="c-37493824">[1 more]</label></div><br/><div class="children"><div class="content">This stuff is mostly done to make static analysis harder.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37492635" class="c"><input type="checkbox" id="c-37492635" checked=""/><div class="controls bullet"><span class="by">mark_and_sweep</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37492660">prev</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37492635">[-]</label><label class="expand" for="c-37492635">[14 more]</label></div><br/><div class="children"><div class="content">Been using this for years. Mostly really useful. Sometimes tricky to get right since the available APIs are semi-well documented and it&#x27;s JScript, which is some sort of old Internet Explorer-ish version of JavaScript.<p>By the way, there are also HTAs, which are Microsoft HTML Applications. You can create a simple double-clickable GUI with these using only HTML and JScript.</div><br/><div id="37492869" class="c"><input type="checkbox" id="c-37492869" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492635">parent</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37492869">[-]</label><label class="expand" for="c-37492869">[13 more]</label></div><br/><div class="children"><div class="content">Pretty crazy how Microsoft basically invented the Electron app as HTAs all the way back in 1999. Of course we browsers weren&#x27;t as capable as they are today, but &quot;I just want a HTML+CSS GUI&quot; had been a solved problem for over ten years when Electron first came out.</div><br/><div id="37493059" class="c"><input type="checkbox" id="c-37493059" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492869">parent</a><span>|</span><a href="#37493309">next</a><span>|</span><label class="collapse" for="c-37493059">[-]</label><label class="expand" for="c-37493059">[6 more]</label></div><br/><div class="children"><div class="content">Yes, and XULRunner allowed this too, using Gecko, Firefox&#x27;s web engine, to render HTML-like markup specifically designed to build native-like GUIs.<p>Apparently XULRunner was first released in 2006, but Thunderbird, which uses (used?) the same technology, was released as early as 2003, and maybe this was existing in the Mozilla Suite even before.</div><br/><div id="37493396" class="c"><input type="checkbox" id="c-37493396" checked=""/><div class="controls bullet"><span class="by">mook</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493059">parent</a><span>|</span><a href="#37493309">next</a><span>|</span><label class="collapse" for="c-37493396">[-]</label><label class="expand" for="c-37493396">[5 more]</label></div><br/><div class="children"><div class="content">Thunderbird never quite used XULRunner, I think; they always built their own binary (though at some point quite a lot of the shared stuff moved into the XRE stuff). Think of it as they had a fork of Firefox (much like Firefox had a stripped down fork of the SeaMonkey stuff).<p>Also, I think one of the Start Menus (might have been XPâ½) was kind of HTA-ish? Not sure about that part, though.</div><br/><div id="37493606" class="c"><input type="checkbox" id="c-37493606" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493396">parent</a><span>|</span><a href="#37493309">next</a><span>|</span><label class="collapse" for="c-37493606">[-]</label><label class="expand" for="c-37493606">[4 more]</label></div><br/><div class="children"><div class="content">&gt; they always built their own binary<p>&gt; Think of it as they had a fork of Firefox<p>Yep indeed, you are right.<p>Notable projects using actual XULRunner included Songbird (a music player) and BlueGriffon, an WYSIWYG HTML editor (a successor of Nvu and KompoZer, themselves succeeding Netscape Composer). Both released after 2006 indeed.<p>I liked XUL, I strongly believe Mozilla could have dominated the market taken by Electron, had they pushed XULRunner more, and perhaps make it transition to pure HTML, like they did to Firefox&#x27;s core, because that&#x27;s what people know and because XUL was a maintenance burden. I think XUL tags made more sense than HTML to build UIs, though, and with XUL, Gecko have had a CSS flex-like mechanism for a long time by the way.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Songbird_%28software%29" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Songbird_%28software%29</a><p>[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;BlueGriffon" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;BlueGriffon</a></div><br/><div id="37493977" class="c"><input type="checkbox" id="c-37493977" checked=""/><div class="controls bullet"><span class="by">vidarh</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493606">parent</a><span>|</span><a href="#37495280">next</a><span>|</span><label class="collapse" for="c-37493977">[-]</label><label class="expand" for="c-37493977">[2 more]</label></div><br/><div class="children"><div class="content">There was an experiment back in the hazy past around that time called Entity that did something similar. It was never complete enough to be a competitor to XULRunner, but it was fascinating for two reasons:<p>1) You could write event handlers in multiple languages, including C. If you wrote them in C, it spawned gcc and compiled it into a library, and dynamically loaded it... The overall idea of a polyglot runtime like that was fun.<p>2) #1 is only really weird because this could be done <i>at runtime</i>. One of the demo apps was an editor for the GUI itself, where you could add buttons <i>to the editor</i>, then write that event handler in C, and have it compiled and loaded into the editor itself...<p>It was a fascinating starting point, though full of heavy duty foot guns, and I&#x27;m still sad nobody took it further.</div><br/><div id="37494061" class="c"><input type="checkbox" id="c-37494061" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493977">parent</a><span>|</span><a href="#37495280">next</a><span>|</span><label class="collapse" for="c-37494061">[-]</label><label class="expand" for="c-37494061">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The overall idea of a polyglot runtime like that was fun.<p>Active Scripting, which powers scripts in both WSH and old-school IE including HTAs, <i>is</i> polyglot and extensible. Itâs why Active{Perl,Python,Tcl} are called thatâthe original headline feature (IIUC) was that they integrated with it. Itâs also why you could write VBS in IE: IE just passed the text of the script along with the language attribute to AS and let it sort things out.<p>Nobody did ever a C interprerer, though, I thinkâperhaps because you basically have to speak COM from Active Scripting, and while speaking COM from C is certainly possible itâs nobodyâs idea of fun. (An ObjC-like preprocessor&#x2F;superset could definitely be made and Iâve heard that Microsoft had even entertained the idea at the dawn of time, but instead they went with C++, and I havenât been able to find any traces of that project.)<p>Thatâs not to say AS is perfect or even goodâthe impossibility of caching DISPIDs[1], in particular, seems like a design-sinking goof. And the AS boundary was also why DOM manipulation in IE was so slow.<p>[1] <a href="https:&#x2F;&#x2F;ericlippert.com&#x2F;2003&#x2F;09&#x2F;16&#x2F;why-do-the-script-engines-not-cache-dispatch-identifiers&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;ericlippert.com&#x2F;2003&#x2F;09&#x2F;16&#x2F;why-do-the-script-engines...</a></div><br/></div></div></div></div><div id="37495280" class="c"><input type="checkbox" id="c-37495280" checked=""/><div class="controls bullet"><span class="by">fouc</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493606">parent</a><span>|</span><a href="#37493977">prev</a><span>|</span><a href="#37493309">next</a><span>|</span><label class="collapse" for="c-37495280">[-]</label><label class="expand" for="c-37495280">[1 more]</label></div><br/><div class="children"><div class="content">the best epub reader for desktop I&#x27;ve ever encountered, was epubreader (pre-WebExtension version), I used to launch it as a standalone app with XULRunner.</div><br/></div></div></div></div></div></div></div></div><div id="37493309" class="c"><input type="checkbox" id="c-37493309" checked=""/><div class="controls bullet"><span class="by">mark_and_sweep</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492869">parent</a><span>|</span><a href="#37493059">prev</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37493309">[-]</label><label class="expand" for="c-37493309">[6 more]</label></div><br/><div class="children"><div class="content">Well, you can use IE 9 in HTAs - that browser is plenty capable. :) Been using this as a Windows-only Electron alternative for years.</div><br/><div id="37493360" class="c"><input type="checkbox" id="c-37493360" checked=""/><div class="controls bullet"><span class="by">mark_and_sweep</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493309">parent</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37493360">[-]</label><label class="expand" for="c-37493360">[5 more]</label></div><br/><div class="children"><div class="content">For the curious: Here&#x27;s a completely unfinished guide to how you might start developing such an application: <a href="https:&#x2F;&#x2F;marksweb.site&#x2F;hta&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;marksweb.site&#x2F;hta&#x2F;</a> From HTAs, you have access to the file system, the network, the registry, the shell - everything. It might be a bit different than normal web dev, but it&#x27;s not too bad either.</div><br/><div id="37494179" class="c"><input type="checkbox" id="c-37494179" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493360">parent</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37494179">[-]</label><label class="expand" for="c-37494179">[4 more]</label></div><br/><div class="children"><div class="content">Wow, that&#x27;s so cool! I played around with making HTAs as a kid and never thought those could be that powerful. (I quickly moved on to topics more exciting to a teenage hacker, like making WinForms apps with some PHP RAD IDE.)<p>Wondering what would it take to port mshta (with all the ActiveX goodies) to other platforms. Maybe it&#x27;s a little bit late for that, but sounds like it might be a fun project to me.</div><br/><div id="37497288" class="c"><input type="checkbox" id="c-37497288" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494179">parent</a><span>|</span><a href="#37494734">next</a><span>|</span><label class="collapse" for="c-37497288">[-]</label><label class="expand" for="c-37497288">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re brave, putting &quot;ActiveX&quot; and &quot;fun&quot; in the same sentence.<p>Wine Gecko supports ActiveX, supposedly, so if someone implements all the common ActiveX components, that could be a cross-platform method of running HTAs outside of Windows.<p>That said, I&#x27;m afraid the Electron API is the closest thing we have to a cross platform HTML application these days. On Manjaro, several packages are already implemented by installing Electron next to the application specific code, so that would be the closest thing to a modern HTA alternative that I know of.<p>PWAs work fine if you don&#x27;t need integration with the system itself other than file prompts, for chat apps for example. They&#x27;re not really alternatives to HTAs to be honest.<p>It should be noted that HTAs are a common way to infect computers (because they&#x27;re executables that aren&#x27;t usually recognised as such) and they&#x27;re disabled in many security conscious environments.</div><br/></div></div><div id="37494734" class="c"><input type="checkbox" id="c-37494734" checked=""/><div class="controls bullet"><span class="by">mark_and_sweep</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494179">parent</a><span>|</span><a href="#37497288">prev</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37494734">[-]</label><label class="expand" for="c-37494734">[2 more]</label></div><br/><div class="children"><div class="content">To be honest, in my ideal world, mshta, Electron and the like would be discontinued and, instead, there&#x27;d be a cross-desktop-platform HTML&#x2F;CSS&#x2F;JS app-runtime (_not a browser!_). This runtime should support a sensible, large subset of modern Web APIs plus a set of cross-OS and OS-specific APIs so it&#x27;s easy to work with for developers. To be easy to use for users, it should be installed by default on all major consumer-facing OSes. So yeah, it&#x27;s probably not gonna happen anytime soon...</div><br/><div id="37495168" class="c"><input type="checkbox" id="c-37495168" checked=""/><div class="controls bullet"><span class="by">hnben</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494734">parent</a><span>|</span><a href="#37494306">next</a><span>|</span><label class="collapse" for="c-37495168">[-]</label><label class="expand" for="c-37495168">[1 more]</label></div><br/><div class="children"><div class="content">how do you feel about PWA?<p><a href="https:&#x2F;&#x2F;web.dev&#x2F;progressive-web-apps&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;web.dev&#x2F;progressive-web-apps&#x2F;</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37494306" class="c"><input type="checkbox" id="c-37494306" checked=""/><div class="controls bullet"><span class="by">dolmen</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37492635">prev</a><span>|</span><a href="#37503621">next</a><span>|</span><label class="collapse" for="c-37494306">[-]</label><label class="expand" for="c-37494306">[3 more]</label></div><br/><div class="children"><div class="content">This feature has existed for more than 25 years.<p>My concern is more than Raymond Chen suggest that using it is still the recommended way. So much malware came through WScript.</div><br/><div id="37495899" class="c"><input type="checkbox" id="c-37495899" checked=""/><div class="controls bullet"><span class="by">pie_flavor</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494306">parent</a><span>|</span><a href="#37494920">next</a><span>|</span><label class="collapse" for="c-37495899">[-]</label><label class="expand" for="c-37495899">[1 more]</label></div><br/><div class="children"><div class="content">Scripting is normal functionality for an OS to support. I don&#x27;t know why people pretend JScript&#x2F;WScript are evil but Bash is fine.</div><br/></div></div><div id="37494920" class="c"><input type="checkbox" id="c-37494920" checked=""/><div class="controls bullet"><span class="by">criddell</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494306">parent</a><span>|</span><a href="#37495899">prev</a><span>|</span><a href="#37503621">next</a><span>|</span><label class="collapse" for="c-37494920">[-]</label><label class="expand" for="c-37494920">[1 more]</label></div><br/><div class="children"><div class="content">Well, he did warn you it would be indistinguishable from malwareâ¦</div><br/></div></div></div></div><div id="37503621" class="c"><input type="checkbox" id="c-37503621" checked=""/><div class="controls bullet"><span class="by">orangea</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37494306">prev</a><span>|</span><a href="#37492629">next</a><span>|</span><label class="collapse" for="c-37503621">[-]</label><label class="expand" for="c-37503621">[1 more]</label></div><br/><div class="children"><div class="content">So does macos: <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;releasenotes&#x2F;InterapplicationCommunication&#x2F;RN-JavaScriptForAutomation&#x2F;Articles&#x2F;Introduction.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;releasenotes&#x2F;Int...</a></div><br/></div></div><div id="37492629" class="c"><input type="checkbox" id="c-37492629" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37503621">prev</a><span>|</span><a href="#37492628">next</a><span>|</span><label class="collapse" for="c-37492629">[-]</label><label class="expand" for="c-37492629">[2 more]</label></div><br/><div class="children"><div class="content">Yes, the same way one could write VBS (Visual Basic Script).<p>I think Windows 98 already had this ability. Possibly Windows 95 as well. It&#x27;s a variant of the language called JScript, which is what was used in old versions of IE too.</div><br/><div id="37493701" class="c"><input type="checkbox" id="c-37493701" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37492629">parent</a><span>|</span><a href="#37492628">next</a><span>|</span><label class="collapse" for="c-37493701">[-]</label><label class="expand" for="c-37493701">[1 more]</label></div><br/><div class="children"><div class="content">It was about Windows 98 that Windows Scripting Host ended up prominent.<p>WSH btw allowed you to run <i>any</i> language that you had interpreter for - they had to support necessary COM interfaces (and to be truly usable, allow you to call COM objects), and register their interpreter class with ActiveScripting (WSH internal) engine.<p>Then you could use them not just for desktop automation, but also for scripts inside Internet Explorer (essentially, classic IE used WSH engines to implement scripts, iirc)<p>I&#x27;ve seen WSH (including HTAs) used with Perl, Python, Tcl, Rexx...so long as you install the interpreter with compatible COM service, you could use it.</div><br/></div></div></div></div><div id="37492628" class="c"><input type="checkbox" id="c-37492628" checked=""/><div class="controls bullet"><span class="by">parasti</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37492629">prev</a><span>|</span><a href="#37493822">next</a><span>|</span><label class="collapse" for="c-37492628">[-]</label><label class="expand" for="c-37492628">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s technically JScript.</div><br/></div></div><div id="37493822" class="c"><input type="checkbox" id="c-37493822" checked=""/><div class="controls bullet"><span class="by">xxs</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37492628">prev</a><span>|</span><a href="#37496738">next</a><span>|</span><label class="collapse" for="c-37493822">[-]</label><label class="expand" for="c-37493822">[1 more]</label></div><br/><div class="children"><div class="content">about what a sibling mentioned &#x27;JScript&#x27; - not javascript; the infamous Microsoft EEE (the 2nd part) It has been there for decades.</div><br/></div></div><div id="37496738" class="c"><input type="checkbox" id="c-37496738" checked=""/><div class="controls bullet"><span class="by">queuebert</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37493822">prev</a><span>|</span><a href="#37493308">next</a><span>|</span><label class="collapse" for="c-37496738">[-]</label><label class="expand" for="c-37496738">[1 more]</label></div><br/><div class="children"><div class="content">What could possibly go wrong?</div><br/></div></div><div id="37493308" class="c"><input type="checkbox" id="c-37493308" checked=""/><div class="controls bullet"><span class="by">xinayder</span><span>|</span><a href="#37492538">parent</a><span>|</span><a href="#37496738">prev</a><span>|</span><a href="#37492512">next</a><span>|</span><label class="collapse" for="c-37493308">[-]</label><label class="expand" for="c-37493308">[8 more]</label></div><br/><div class="children"><div class="content">And it&#x27;s even funnier that the solution the author gives is &quot;hey execute this javascript code that uninstalls a program and deletes itself afterwards&quot;<p>like, really? can&#x27;t you write that in C? I don&#x27;t think most Win32 apps use JavaScript for their installers.</div><br/><div id="37493921" class="c"><input type="checkbox" id="c-37493921" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493308">parent</a><span>|</span><a href="#37493542">next</a><span>|</span><label class="collapse" for="c-37493921">[-]</label><label class="expand" for="c-37493921">[6 more]</label></div><br/><div class="children"><div class="content">&gt; can&#x27;t you write [a self-deleting executable] in C?<p>The point of the exercise is that, on Windows, you canât, because Windows wonât let anyone delete executables that are currently in use (try it, you wonât be able to delete one either). Upgrading shared DLLs in the face of this fact is why installers for Windows programs often have to have you reboot the system (and in more civilized times asked you to close other programs <i>before</i> installation to reduce the probability of hitting a locked DLL). Itâs also why thereâs a registry key[1] containing a list of rename and delete actions to be performed on next reboot (usually accessed via the MOVEFILE_DELAY_UNTIL_REBOOT flag to MoveFileEx).<p>You canât (straightforwardly[2]) make a self-deleting batch script, either, because the command interpreter parses a command at a time and so wants the batch file to exist. The Windows Scripting Host, on the other hand, will parse the whole file at once, close it, and then forget about it, so you <i>can</i> write self-deleting WSH scripts.<p>The workaround used by the uninstaller under discussion is instead for the executable to inject some code into the Windows Explorer (on the assumption that itâs always running and the user has to have access permissions for it) that accomplishes the deletion through return-oriented programming, so that the stack itâs executing from can then disappear into the wind (apparently? Iâm not seeing how they plan to clean that up).<p>On a POSIX system you are explicitly allowed to delete any open fileâincluding an executing oneâmaking it languish in a kind of system-managed limbo (and take up disk space, invisibly) until itâs closed. The tradeoff is then that itâs impossible to ensure youâve opened the same file as somebody else when all you have is its name. (I think you can at least check for success, provided you also have the device and inode numbers for it.)<p>[1] <a href="https:&#x2F;&#x2F;superuser.com&#x2F;questions&#x2F;58479&#x2F;is-there-a-registry-key-to-tell-windows-to-delete-a-file-at-next-startup&#x2F;58481" rel="nofollow noreferrer">https:&#x2F;&#x2F;superuser.com&#x2F;questions&#x2F;58479&#x2F;is-there-a-registry-ke...</a><p>[2] <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;20329355&#x2F;how-to-make-a-batch-file-delete-itself&#x2F;20333575" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;20329355&#x2F;how-to-make-a-b...</a></div><br/><div id="37494379" class="c"><input type="checkbox" id="c-37494379" checked=""/><div class="controls bullet"><span class="by">dolmen</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37493921">parent</a><span>|</span><a href="#37493542">next</a><span>|</span><label class="collapse" for="c-37494379">[-]</label><label class="expand" for="c-37494379">[5 more]</label></div><br/><div class="children"><div class="content">I wonder why Raymond Chen suggest a WSH solution. Isn&#x27;t PowerShell the official scripting language for Windows nowadays?</div><br/><div id="37494453" class="c"><input type="checkbox" id="c-37494453" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494379">parent</a><span>|</span><a href="#37493542">next</a><span>|</span><label class="collapse" for="c-37494453">[-]</label><label class="expand" for="c-37494453">[4 more]</label></div><br/><div class="children"><div class="content">PowerShell has weird restrictions where it&#x27;ll refuse to run scripts unless they&#x27;re signed and stuff.</div><br/><div id="37494638" class="c"><input type="checkbox" id="c-37494638" checked=""/><div class="controls bullet"><span class="by">rk06</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494453">parent</a><span>|</span><a href="#37493542">next</a><span>|</span><label class="collapse" for="c-37494638">[-]</label><label class="expand" for="c-37494638">[3 more]</label></div><br/><div class="children"><div class="content">If the sysadmin chooses to, otherwise PowerShell can be run arbitrarily</div><br/><div id="37495914" class="c"><input type="checkbox" id="c-37495914" checked=""/><div class="controls bullet"><span class="by">pie_flavor</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37494638">parent</a><span>|</span><a href="#37493542">next</a><span>|</span><label class="collapse" for="c-37495914">[-]</label><label class="expand" for="c-37495914">[2 more]</label></div><br/><div class="children"><div class="content">The key is that unsigned scripts are opt-in, not opt-out. Chen is not going to suggest a solution that requires all users of the software to configure their computer to be less secure.</div><br/><div id="37497383" class="c"><input type="checkbox" id="c-37497383" checked=""/><div class="controls bullet"><span class="by">ChrisSD</span><span>|</span><a href="#37492538">root</a><span>|</span><a href="#37495914">parent</a><span>|</span><a href="#37493542">next</a><span>|</span><label class="collapse" for="c-37497383">[-]</label><label class="expand" for="c-37497383">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not really a security measure in that sense. It&#x27;s a &quot;safety feature&quot; that prevents accidentally running such a script. Anything can trivially disable the protection using a bat script (or anything else) to bootstrap.<p>E.g. `powershell.exe -ExecutionPolicy Unrestricted`</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37492512" class="c"><input type="checkbox" id="c-37492512" checked=""/><div class="controls bullet"><span class="by">el_benhameen</span><span>|</span><a href="#37492538">prev</a><span>|</span><a href="#37492921">next</a><span>|</span><label class="collapse" for="c-37492512">[-]</label><label class="expand" for="c-37492512">[5 more]</label></div><br/><div class="children"><div class="content">Any time I see a Microsoft link with a cheeky title, I assume itâs a great Raymond Chen deep dive. Havenât been wrong yet!</div><br/><div id="37492987" class="c"><input type="checkbox" id="c-37492987" checked=""/><div class="controls bullet"><span class="by">_hao</span><span>|</span><a href="#37492512">parent</a><span>|</span><a href="#37492612">next</a><span>|</span><label class="collapse" for="c-37492987">[-]</label><label class="expand" for="c-37492987">[2 more]</label></div><br/><div class="children"><div class="content">As an aside every time I come across a Raymond Chen article I remember this post from Joel Spolsky - <a href="https:&#x2F;&#x2F;www.joelonsoftware.com&#x2F;2005&#x2F;05&#x2F;11&#x2F;making-wrong-code-look-wrong&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.joelonsoftware.com&#x2F;2005&#x2F;05&#x2F;11&#x2F;making-wrong-code-...</a><p>I remember very distinctly this quote about him:<p>&gt; The only person in the world who leapt to my defense was, of course, Raymond Chen, who is, by the way, the best programmer in the world, so that has to say something, right?<p>So in my mind I&#x27;ve made the connection that Raymond Chen = best programmer in the world since then haha.</div><br/><div id="37503779" class="c"><input type="checkbox" id="c-37503779" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#37492512">root</a><span>|</span><a href="#37492987">parent</a><span>|</span><a href="#37492612">next</a><span>|</span><label class="collapse" for="c-37503779">[-]</label><label class="expand" for="c-37503779">[1 more]</label></div><br/><div class="children"><div class="content">This is an interesting article, because it&#x27;s a product of its time: modern languages solve a lot of these exact problems. I think this is a resounding success that they have correctly identified a genuine problem that people used to struggle with (safe types, exceptions) and make it standard and correct and ergonomic.</div><br/></div></div></div></div><div id="37492612" class="c"><input type="checkbox" id="c-37492612" checked=""/><div class="controls bullet"><span class="by">s-video</span><span>|</span><a href="#37492512">parent</a><span>|</span><a href="#37492987">prev</a><span>|</span><a href="#37494905">next</a><span>|</span><label class="collapse" for="c-37492612">[-]</label><label class="expand" for="c-37492612">[1 more]</label></div><br/><div class="children"><div class="content">Hah, I had the same experience. Saw microsoft.com and thought &quot;it&#x27;s gonna be a Raymond, I can feel it&quot;</div><br/></div></div><div id="37494905" class="c"><input type="checkbox" id="c-37494905" checked=""/><div class="controls bullet"><span class="by">beckerdo</span><span>|</span><a href="#37492512">parent</a><span>|</span><a href="#37492612">prev</a><span>|</span><a href="#37492921">next</a><span>|</span><label class="collapse" for="c-37494905">[-]</label><label class="expand" for="c-37494905">[1 more]</label></div><br/><div class="children"><div class="content">It is a very provocative title. I guessed Raymond Chen as well. Of course he delivers an interesting deep dive behind the title.</div><br/></div></div></div></div><div id="37492921" class="c"><input type="checkbox" id="c-37492921" checked=""/><div class="controls bullet"><span class="by">dataflow</span><span>|</span><a href="#37492512">prev</a><span>|</span><a href="#37495407">next</a><span>|</span><label class="collapse" for="c-37492921">[-]</label><label class="expand" for="c-37492921">[8 more]</label></div><br/><div class="children"><div class="content">You can&#x27;t rely on JScript being present unfortunately. It can be disabled.</div><br/><div id="37496923" class="c"><input type="checkbox" id="c-37496923" checked=""/><div class="controls bullet"><span class="by">doloputer</span><span>|</span><a href="#37492921">parent</a><span>|</span><a href="#37493500">next</a><span>|</span><label class="collapse" for="c-37496923">[-]</label><label class="expand" for="c-37496923">[1 more]</label></div><br/><div class="children"><div class="content">It probably should be disabled on most machines. The last time I heard about it was @swiftonsecurity complaining about it being an easily overlooked malware vector.<p>I&#x27;d be surprised if this capability is only available from jscript though. (and sad, I don&#x27;t think jscript has been updated in years)</div><br/></div></div><div id="37493500" class="c"><input type="checkbox" id="c-37493500" checked=""/><div class="controls bullet"><span class="by">OtomotO</span><span>|</span><a href="#37492921">parent</a><span>|</span><a href="#37496923">prev</a><span>|</span><a href="#37493289">next</a><span>|</span><label class="collapse" for="c-37493500">[-]</label><label class="expand" for="c-37493500">[1 more]</label></div><br/><div class="children"><div class="content">Can&#x27;t spell unfortunately without fortunately.</div><br/></div></div><div id="37493569" class="c"><input type="checkbox" id="c-37493569" checked=""/><div class="controls bullet"><span class="by">hardware2win</span><span>|</span><a href="#37492921">parent</a><span>|</span><a href="#37493289">prev</a><span>|</span><a href="#37493564">next</a><span>|</span><label class="collapse" for="c-37493569">[-]</label><label class="expand" for="c-37493569">[3 more]</label></div><br/><div class="children"><div class="content">What can you rely on then?</div><br/><div id="37494032" class="c"><input type="checkbox" id="c-37494032" checked=""/><div class="controls bullet"><span class="by">dataflow</span><span>|</span><a href="#37492921">root</a><span>|</span><a href="#37493569">parent</a><span>|</span><a href="#37493564">next</a><span>|</span><label class="collapse" for="c-37494032">[-]</label><label class="expand" for="c-37494032">[2 more]</label></div><br/><div class="children"><div class="content">Uhm, for uninstallers? How about Windows Installer?<p>If you mean in other contexts... I think the point is you&#x27;re not intended to be able to do this? Outside of uninstallers, running code that only exists in RAM is... the type of thing malware typically wants to do more than anything else.<p>But in terms of what&#x27;s physically possible, I suppose there&#x27;s the command prompt, PowerShell, and scheduled tasks? I&#x27;m not sure if all of those can be disabled.</div><br/><div id="37495315" class="c"><input type="checkbox" id="c-37495315" checked=""/><div class="controls bullet"><span class="by">dataflow</span><span>|</span><a href="#37492921">root</a><span>|</span><a href="#37494032">parent</a><span>|</span><a href="#37493564">next</a><span>|</span><label class="collapse" for="c-37495315">[-]</label><label class="expand" for="c-37495315">[1 more]</label></div><br/><div class="children"><div class="content">Edit: I forgot about this, but there&#x27;s also the official solution of MOVEFILE_DELAY_UNTIL_REBOOT. But (as with scheduled tasks) the delay can cause problems: <a href="https:&#x2F;&#x2F;marc.durdin.net&#x2F;2011&#x2F;09&#x2F;why-you-should-not-use-movefileex-with-movefile_delay_until_reboot-2&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;marc.durdin.net&#x2F;2011&#x2F;09&#x2F;why-you-should-not-use-movef...</a></div><br/></div></div></div></div></div></div></div></div><div id="37493002" class="c"><input type="checkbox" id="c-37493002" checked=""/><div class="controls bullet"><span class="by">terabytest</span><span>|</span><a href="#37495407">prev</a><span>|</span><a href="#37492656">next</a><span>|</span><label class="collapse" for="c-37493002">[-]</label><label class="expand" for="c-37493002">[11 more]</label></div><br/><div class="children"><div class="content">Iâm probably missing something but why is an uninstaller allowed to inject code into explorer.exe? That seems like a massive security flaw?</div><br/><div id="37494192" class="c"><input type="checkbox" id="c-37494192" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#37493002">parent</a><span>|</span><a href="#37493128">next</a><span>|</span><label class="collapse" for="c-37494192">[-]</label><label class="expand" for="c-37494192">[1 more]</label></div><br/><div class="children"><div class="content">Everything is allowed to do that. You&#x27;re right that it&#x27;s not good security-wise which is why Apple blocked that sort of thing years ago. On Windows unfortunately the whole Win32 ecosystem is very dependent on programs injecting things into other processes, the API makes it quite easy and there&#x27;s lots of sample code for it. It&#x27;s a major source of stability and crash bugs there.<p>For example, antivirus products do this all the time, as do many video drivers and other system utilities.<p>Also, Explorer has various plugin interfaces where it&#x27;ll load third party code and run it in-process since the very first version.</div><br/></div></div><div id="37493128" class="c"><input type="checkbox" id="c-37493128" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#37493002">parent</a><span>|</span><a href="#37494192">prev</a><span>|</span><a href="#37493033">next</a><span>|</span><label class="collapse" for="c-37493128">[-]</label><label class="expand" for="c-37493128">[7 more]</label></div><br/><div class="children"><div class="content">It&#x27;s never a security flaw that a program running with administrator privileges is allowed to do something.</div><br/><div id="37494397" class="c"><input type="checkbox" id="c-37494397" checked=""/><div class="controls bullet"><span class="by">gnyman</span><span>|</span><a href="#37493002">root</a><span>|</span><a href="#37493128">parent</a><span>|</span><a href="#37493895">next</a><span>|</span><label class="collapse" for="c-37494397">[-]</label><label class="expand" for="c-37494397">[1 more]</label></div><br/><div class="children"><div class="content">And this has been the case since Windows NT in 1993 according to a presentation I saw from Sami Laiho where he strongly argues that you don&#x27;t need and should be a admin account as default.<p>From microsoft&#x27;s documentation [1]
&gt; Administrator-to-kernel is not a security boundary.<p>I recommend the talk <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Y09nAxZFKzc">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Y09nAxZFKzc</a><p>[1] <a href="https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;msrc&#x2F;windows-security-servicing-criteria" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;msrc&#x2F;windows-security-servic...</a></div><br/></div></div><div id="37493895" class="c"><input type="checkbox" id="c-37493895" checked=""/><div class="controls bullet"><span class="by">blitzar</span><span>|</span><a href="#37493002">root</a><span>|</span><a href="#37493128">parent</a><span>|</span><a href="#37494397">prev</a><span>|</span><a href="#37493346">next</a><span>|</span><label class="collapse" for="c-37493895">[-]</label><label class="expand" for="c-37493895">[1 more]</label></div><br/><div class="children"><div class="content">The security flaw is the administrator.</div><br/></div></div><div id="37493346" class="c"><input type="checkbox" id="c-37493346" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#37493002">root</a><span>|</span><a href="#37493128">parent</a><span>|</span><a href="#37493895">prev</a><span>|</span><a href="#37493033">next</a><span>|</span><label class="collapse" for="c-37493346">[-]</label><label class="expand" for="c-37493346">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a security flaw that too many programs have too many privileges. Windows should have pervasive fine grained permissions like any other modern OS.</div><br/><div id="37496558" class="c"><input type="checkbox" id="c-37496558" checked=""/><div class="controls bullet"><span class="by">wongarsu</span><span>|</span><a href="#37493002">root</a><span>|</span><a href="#37493346">parent</a><span>|</span><a href="#37493789">next</a><span>|</span><label class="collapse" for="c-37496558">[-]</label><label class="expand" for="c-37496558">[1 more]</label></div><br/><div class="children"><div class="content">Yes and no. Windows has a very fine grained permissions system, including at the admin level. The problem is that it was designed for multi-user systems in the 90s, so the permission and security systems are mostly concerned about keeping users safe from each other, and having administrator roles for managing those users and doing system-wide tasks. Preventing a process from injecting code into another process by the same user running in the same session just isn&#x27;t in the original threat model, since it&#x27;s just the user screwing with their own stuff.<p>The shift towards protections from malware happened mostly as a consequence of Windows XP. There are now better controls, like assigning low-trust processes like a browser&#x27;s renderer a low integrity level to prevent them from doing that. But it&#x27;s also late enough that it&#x27;s hard to rock the boat too much without breaking existing applications. Microsoft tried to make a clean break and offer more sandboxed applications with a user-friendly package manager (called the Microsoft Store) but this wasn&#x27;t well received by app developers: most didn&#x27;t use it at all, and those that did often opted out of the sandboxing.</div><br/></div></div><div id="37493789" class="c"><input type="checkbox" id="c-37493789" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37493002">root</a><span>|</span><a href="#37493346">parent</a><span>|</span><a href="#37496558">prev</a><span>|</span><a href="#37493515">next</a><span>|</span><label class="collapse" for="c-37493789">[-]</label><label class="expand" for="c-37493789">[1 more]</label></div><br/><div class="children"><div class="content">Windows pervasive fine grained permissions is better than UNIX, it goes all the way down to OS resources.<p>The OS isn&#x27;t to blame when people give root access left and right.<p>Actually this is why macOS got SIP.</div><br/></div></div><div id="37493515" class="c"><input type="checkbox" id="c-37493515" checked=""/><div class="controls bullet"><span class="by">Kuinox</span><span>|</span><a href="#37493002">root</a><span>|</span><a href="#37493346">parent</a><span>|</span><a href="#37493789">prev</a><span>|</span><a href="#37493033">next</a><span>|</span><label class="collapse" for="c-37493515">[-]</label><label class="expand" for="c-37493515">[1 more]</label></div><br/><div class="children"><div class="content">Windows has a very fine grained permission system.  
But as you can see, the issue isn&#x27;t a lack of this system.</div><br/></div></div></div></div></div></div><div id="37493033" class="c"><input type="checkbox" id="c-37493033" checked=""/><div class="controls bullet"><span class="by">eddythompson80</span><span>|</span><a href="#37493002">parent</a><span>|</span><a href="#37493128">prev</a><span>|</span><a href="#37498189">next</a><span>|</span><label class="collapse" for="c-37493033">[-]</label><label class="expand" for="c-37493033">[1 more]</label></div><br/><div class="children"><div class="content">Whatâs the difference between an uninstaller and any other process running as root?</div><br/></div></div><div id="37498189" class="c"><input type="checkbox" id="c-37498189" checked=""/><div class="controls bullet"><span class="by">tgtweak</span><span>|</span><a href="#37493002">parent</a><span>|</span><a href="#37493033">prev</a><span>|</span><a href="#37492656">next</a><span>|</span><label class="collapse" for="c-37498189">[-]</label><label class="expand" for="c-37498189">[1 more]</label></div><br/><div class="children"><div class="content">Uninstaller likely running with admin privileges or as system.  Despite it&#x27;s huge surface area, explorer is not a super privileged binary on windows and is essentially a userspace program that has tons of open ports to plug in for many many apps.  Locking it down like this would likely cause a lot of apps to break.  I know for a fact microsoft keeps very close eyes on crash reports of their core apps such as explorer, and if your app causes a fault in explorer and you&#x27;re registered on windows developer portal you&#x27;ll get notified of this when they roll out beta insider preview releases.</div><br/></div></div></div></div><div id="37492656" class="c"><input type="checkbox" id="c-37492656" checked=""/><div class="controls bullet"><span class="by">WeylandYutani</span><span>|</span><a href="#37493002">prev</a><span>|</span><a href="#37494552">next</a><span>|</span><label class="collapse" for="c-37492656">[-]</label><label class="expand" for="c-37492656">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen Malwarebytes flag uninstallers a few times.</div><br/></div></div><div id="37494552" class="c"><input type="checkbox" id="c-37494552" checked=""/><div class="controls bullet"><span class="by">humanlity</span><span>|</span><a href="#37492656">prev</a><span>|</span><a href="#37492952">next</a><span>|</span><label class="collapse" for="c-37494552">[-]</label><label class="expand" for="c-37494552">[1 more]</label></div><br/><div class="children"><div class="content">Fight fire with fire</div><br/></div></div><div id="37492952" class="c"><input type="checkbox" id="c-37492952" checked=""/><div class="controls bullet"><span class="by">fergie</span><span>|</span><a href="#37494552">prev</a><span>|</span><a href="#37498228">next</a><span>|</span><label class="collapse" for="c-37492952">[-]</label><label class="expand" for="c-37492952">[7 more]</label></div><br/><div class="children"><div class="content">Why is the recommended javascript way of doing it<p><pre><code>    var fso = new ActiveXObject(&quot;Scripting.FileSystemObject&quot;);
</code></pre>
rather than<p><pre><code>    var fs = require(&#x27;fs&#x27;) &#x2F;&#x2F; (or the appropriate ES6 incantation)

?</code></pre></div><br/><div id="37493111" class="c"><input type="checkbox" id="c-37493111" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#37492952">parent</a><span>|</span><a href="#37493036">next</a><span>|</span><label class="collapse" for="c-37493111">[-]</label><label class="expand" for="c-37493111">[1 more]</label></div><br/><div class="children"><div class="content">The latter is not &quot;javascript&quot; in general, it&#x27;s just a Node.js (a specific v8 Javascript runtime + native integration and libs like fs bundle) API.<p>And the former windows version is JScript which is an implementation Javascript just using an different name for trademark reasons, but tied to an old version of the JavaScript standard (which is confusingly called &quot;ecmascript&quot; officially), plus some Windows-specific integrations, like ActiveXObject and COM&#x2F;OLE support.<p>(There&#x27;s also a later .NET version of JScript to add to the confusion).</div><br/></div></div><div id="37493036" class="c"><input type="checkbox" id="c-37493036" checked=""/><div class="controls bullet"><span class="by">thangngoc89</span><span>|</span><a href="#37492952">parent</a><span>|</span><a href="#37493111">prev</a><span>|</span><a href="#37493113">next</a><span>|</span><label class="collapse" for="c-37493036">[-]</label><label class="expand" for="c-37493036">[1 more]</label></div><br/><div class="children"><div class="content">Itâs JScript. Not JavaScript and definitely not Node.JS</div><br/></div></div><div id="37493113" class="c"><input type="checkbox" id="c-37493113" checked=""/><div class="controls bullet"><span class="by">vbitz</span><span>|</span><a href="#37492952">parent</a><span>|</span><a href="#37493036">prev</a><span>|</span><a href="#37493029">next</a><span>|</span><label class="collapse" for="c-37493113">[-]</label><label class="expand" for="c-37493113">[1 more]</label></div><br/><div class="children"><div class="content">Because JScript was introduced back in Windows 98 and the modern APIs were introduced 10 years later (in the case of Node.js).</div><br/></div></div><div id="37493029" class="c"><input type="checkbox" id="c-37493029" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37492952">parent</a><span>|</span><a href="#37493113">prev</a><span>|</span><a href="#37493034">next</a><span>|</span><label class="collapse" for="c-37493029">[-]</label><label class="expand" for="c-37493029">[1 more]</label></div><br/><div class="children"><div class="content">Windows doesn&#x27;t ship with node.js.</div><br/></div></div><div id="37493034" class="c"><input type="checkbox" id="c-37493034" checked=""/><div class="controls bullet"><span class="by">casselc</span><span>|</span><a href="#37492952">parent</a><span>|</span><a href="#37493029">prev</a><span>|</span><a href="#37492962">next</a><span>|</span><label class="collapse" for="c-37493034">[-]</label><label class="expand" for="c-37493034">[1 more]</label></div><br/><div class="children"><div class="content">Because itâs JScript, which was abandoned prior to ES6.</div><br/></div></div></div></div><div id="37498228" class="c"><input type="checkbox" id="c-37498228" checked=""/><div class="controls bullet"><span class="by">intrasight</span><span>|</span><a href="#37492952">prev</a><span>|</span><a href="#37497283">next</a><span>|</span><label class="collapse" for="c-37498228">[-]</label><label class="expand" for="c-37498228">[2 more]</label></div><br/><div class="children"><div class="content">I think much grief would have been avoided if microprocessor architectures, from the get-go, had separated data and instruction.</div><br/><div id="37498247" class="c"><input type="checkbox" id="c-37498247" checked=""/><div class="controls bullet"><span class="by">jdeaton</span><span>|</span><a href="#37498228">parent</a><span>|</span><a href="#37497283">next</a><span>|</span><label class="collapse" for="c-37498247">[-]</label><label class="expand" for="c-37498247">[1 more]</label></div><br/><div class="children"><div class="content">That would be less fun though</div><br/></div></div></div></div><div id="37497283" class="c"><input type="checkbox" id="c-37497283" checked=""/><div class="controls bullet"><span class="by">darklycan51</span><span>|</span><a href="#37498228">prev</a><span>|</span><a href="#37494345">next</a><span>|</span><label class="collapse" for="c-37497283">[-]</label><label class="expand" for="c-37497283">[1 more]</label></div><br/><div class="children"><div class="content">I had an old hacky community program basically ruin my Windows install so I agree, it was a BLP viewer it automatically added previews on windows explorer, but if yo u removed a file while previewing a blp it&#x27;d crash your explorer and all your open tabs would close, really annoying.</div><br/></div></div><div id="37494345" class="c"><input type="checkbox" id="c-37494345" checked=""/><div class="controls bullet"><span class="by">unnouinceput</span><span>|</span><a href="#37497283">prev</a><span>|</span><a href="#37494372">next</a><span>|</span><label class="collapse" for="c-37494345">[-]</label><label class="expand" for="c-37494345">[2 more]</label></div><br/><div class="children"><div class="content">Does that means the corollary: &quot;Any sufficiently advanced malware is indistinguishable from an uninstaller&quot; would be true as well?<p>I mean can you write a simulation of an uninstaller to create havoc on target&#x27;s system and still remain &quot;the good guy, the OS is at fault&quot; type of situation when you write a malware?</div><br/><div id="37496995" class="c"><input type="checkbox" id="c-37496995" checked=""/><div class="controls bullet"><span class="by">doloputer</span><span>|</span><a href="#37494345">parent</a><span>|</span><a href="#37494372">next</a><span>|</span><label class="collapse" for="c-37496995">[-]</label><label class="expand" for="c-37496995">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve heard this before, about cryptolockers. It&#x27;s hard for the OS to know if you&#x27;re encrypting all of your files on purpose, because you might actually want to do that.</div><br/></div></div></div></div><div id="37494372" class="c"><input type="checkbox" id="c-37494372" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#37494345">prev</a><span>|</span><a href="#37496343">next</a><span>|</span><label class="collapse" for="c-37494372">[-]</label><label class="expand" for="c-37494372">[11 more]</label></div><br/><div class="children"><div class="content">There was a bug in an uninstaller, once, that deleted <i>all</i> of the files on the disk.  Sounds like malware to me!</div><br/><div id="37494540" class="c"><input type="checkbox" id="c-37494540" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#37494372">parent</a><span>|</span><a href="#37496343">next</a><span>|</span><label class="collapse" for="c-37494540">[-]</label><label class="expand" for="c-37494540">[10 more]</label></div><br/><div class="children"><div class="content">There was a bug in some Linux driver installer that accidentally &#x2F;usr, the whole thing.</div><br/><div id="37495265" class="c"><input type="checkbox" id="c-37495265" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37494540">parent</a><span>|</span><a href="#37494787">next</a><span>|</span><label class="collapse" for="c-37495265">[-]</label><label class="expand" for="c-37495265">[3 more]</label></div><br/><div class="children"><div class="content">EVE online&#x27;s patcher once deleted boot.ini (a file configuring their launcher that they stopped needing) without checking the working directory which caused it to delete C:\Windows\system32\boot.ini which was important to booting the then current Windows version.</div><br/><div id="37496240" class="c"><input type="checkbox" id="c-37496240" checked=""/><div class="controls bullet"><span class="by">internetter</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37495265">parent</a><span>|</span><a href="#37494787">next</a><span>|</span><label class="collapse" for="c-37496240">[-]</label><label class="expand" for="c-37496240">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s impressive how incredibly bad the code must have been for that to happen</div><br/><div id="37498883" class="c"><input type="checkbox" id="c-37498883" checked=""/><div class="controls bullet"><span class="by">bobsmooth</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37496240">parent</a><span>|</span><a href="#37494787">next</a><span>|</span><label class="collapse" for="c-37498883">[-]</label><label class="expand" for="c-37498883">[1 more]</label></div><br/><div class="children"><div class="content">System32 is the default directory for cmd. Might have something to do with that.</div><br/></div></div></div></div></div></div><div id="37494787" class="c"><input type="checkbox" id="c-37494787" checked=""/><div class="controls bullet"><span class="by">ikekkdcjkfke</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37494540">parent</a><span>|</span><a href="#37495265">prev</a><span>|</span><a href="#37494712">next</a><span>|</span><label class="collapse" for="c-37494787">[-]</label><label class="expand" for="c-37494787">[5 more]</label></div><br/><div class="children"><div class="content">Why does a third party app have rights all files without asking? The Android app rights system integration into linux and windows is way overdue</div><br/><div id="37495273" class="c"><input type="checkbox" id="c-37495273" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37494787">parent</a><span>|</span><a href="#37494894">next</a><span>|</span><label class="collapse" for="c-37495273">[-]</label><label class="expand" for="c-37495273">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a driver that probably includes a kernel module. It&#x27;s expected that its installer runs as root.</div><br/></div></div><div id="37494894" class="c"><input type="checkbox" id="c-37494894" checked=""/><div class="controls bullet"><span class="by">TheHappyOddish</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37494787">parent</a><span>|</span><a href="#37495273">prev</a><span>|</span><a href="#37494712">next</a><span>|</span><label class="collapse" for="c-37494894">[-]</label><label class="expand" for="c-37494894">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m fairly sure Android apps running as root (like this driver installer probably was) will also have access over all files without asking. That&#x27;s the danger of root.</div><br/><div id="37495245" class="c"><input type="checkbox" id="c-37495245" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37494894">parent</a><span>|</span><a href="#37494712">next</a><span>|</span><label class="collapse" for="c-37495245">[-]</label><label class="expand" for="c-37495245">[2 more]</label></div><br/><div class="children"><div class="content">Android apps themselves can&#x27;t run as root. The apps that do perform operations &quot;as root&quot; do so by spawning a shell process running as root, usually using `su -c`. That&#x27;s on a rooted device. Normally, all privileged actions are done by system daemons that run with appropriate permissions and that apps communicate with through the &quot;binder&quot; IPC mechanism. Those daemons also handle access control â both the regular Android permissions and the god mode for &quot;system privileged&quot; apps.</div><br/><div id="37504607" class="c"><input type="checkbox" id="c-37504607" checked=""/><div class="controls bullet"><span class="by">TheHappyOddish</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37495245">parent</a><span>|</span><a href="#37494712">next</a><span>|</span><label class="collapse" for="c-37504607">[-]</label><label class="expand" for="c-37504607">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the explanatin, I&#x27;d never looked into it.<p>&gt; The apps that do perform operations &quot;as root&quot; do so by spawning a shell process running as root, usually using `su -c`. That&#x27;s on a rooted device.<p>So in a scenario like what we&#x27;re discussing here (a dev deciding to build an uninstaller their own way), on a rooted device (as per the GP&#x27;s context of &quot;this coming to Linux and Windows&quot;), the app in question could still run as root, and this permission set from Android would solve nothing?</div><br/></div></div></div></div></div></div></div></div><div id="37494712" class="c"><input type="checkbox" id="c-37494712" checked=""/><div class="controls bullet"><span class="by">SettembreNero</span><span>|</span><a href="#37494372">root</a><span>|</span><a href="#37494540">parent</a><span>|</span><a href="#37494787">prev</a><span>|</span><a href="#37496343">next</a><span>|</span><label class="collapse" for="c-37494712">[-]</label><label class="expand" for="c-37494712">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Totally uncool dude!!!&quot;</div><br/></div></div></div></div></div></div><div id="37496343" class="c"><input type="checkbox" id="c-37496343" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#37494372">prev</a><span>|</span><a href="#37492787">next</a><span>|</span><label class="collapse" for="c-37496343">[-]</label><label class="expand" for="c-37496343">[24 more]</label></div><br/><div class="children"><div class="content">Why do we still need to install stuff? Why can I run webpages just fine without installing anything? Installation shouldn&#x27;t exist, at least not from the user&#x27;s point of view.</div><br/><div id="37496481" class="c"><input type="checkbox" id="c-37496481" checked=""/><div class="controls bullet"><span class="by">bbojan</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496505">next</a><span>|</span><label class="collapse" for="c-37496481">[-]</label><label class="expand" for="c-37496481">[2 more]</label></div><br/><div class="children"><div class="content">Because the tools we currently use (mostly programming languages) are too insecure to allow you to run any random code from the internet (that has full access to all your computer resources). And most users would be incapable of keeping proper security practices needed in this case.<p>Installed software is considered to have a distributor, ie. a legally responsible entity that can be punished for any shenanigans.<p>I believe this is an outdated model and that with better tooling we could do what you envision.</div><br/><div id="37496745" class="c"><input type="checkbox" id="c-37496745" checked=""/><div class="controls bullet"><span class="by">devnullbrain</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496481">parent</a><span>|</span><a href="#37496505">next</a><span>|</span><label class="collapse" for="c-37496745">[-]</label><label class="expand" for="c-37496745">[1 more]</label></div><br/><div class="children"><div class="content">&gt;any random code from the internet<p>Like installer.exe?<p>Installation-free software doesn&#x27;t have to be web software.</div><br/></div></div></div></div><div id="37496505" class="c"><input type="checkbox" id="c-37496505" checked=""/><div class="controls bullet"><span class="by">edaemon</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496481">prev</a><span>|</span><a href="#37496399">next</a><span>|</span><label class="collapse" for="c-37496505">[-]</label><label class="expand" for="c-37496505">[7 more]</label></div><br/><div class="children"><div class="content">You had to install a web browser to run those web pages.</div><br/><div id="37496629" class="c"><input type="checkbox" id="c-37496629" checked=""/><div class="controls bullet"><span class="by">Tainnor</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496505">parent</a><span>|</span><a href="#37496710">next</a><span>|</span><label class="collapse" for="c-37496629">[-]</label><label class="expand" for="c-37496629">[4 more]</label></div><br/><div class="children"><div class="content">More than that, you have to &quot;install&quot; the code for every webapp that you use at least once (unless it&#x27;s cached).</div><br/><div id="37496720" class="c"><input type="checkbox" id="c-37496720" checked=""/><div class="controls bullet"><span class="by">devnullbrain</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496629">parent</a><span>|</span><a href="#37496710">next</a><span>|</span><label class="collapse" for="c-37496720">[-]</label><label class="expand" for="c-37496720">[3 more]</label></div><br/><div class="children"><div class="content">How do you differentiate between download and install? Is self-modifying code repeatedly installing itself?</div><br/><div id="37496761" class="c"><input type="checkbox" id="c-37496761" checked=""/><div class="controls bullet"><span class="by">Tainnor</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496720">parent</a><span>|</span><a href="#37496710">next</a><span>|</span><label class="collapse" for="c-37496761">[-]</label><label class="expand" for="c-37496761">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no good distinction, but given that browsers have caches, I think there&#x27;s at least a very blurry line there.</div><br/><div id="37496880" class="c"><input type="checkbox" id="c-37496880" checked=""/><div class="controls bullet"><span class="by">devnullbrain</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496761">parent</a><span>|</span><a href="#37496710">next</a><span>|</span><label class="collapse" for="c-37496880">[-]</label><label class="expand" for="c-37496880">[1 more]</label></div><br/><div class="children"><div class="content">Then perhaps the distinction should be the programs called &#x27;Windows installer&#x27; type in Explorer that TFA is talking about and not a blanket inclusion of all software that isn&#x27;t ASM written on the device running it.</div><br/></div></div></div></div></div></div></div></div><div id="37496710" class="c"><input type="checkbox" id="c-37496710" checked=""/><div class="controls bullet"><span class="by">devnullbrain</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496505">parent</a><span>|</span><a href="#37496629">prev</a><span>|</span><a href="#37497863">next</a><span>|</span><label class="collapse" for="c-37496710">[-]</label><label class="expand" for="c-37496710">[1 more]</label></div><br/><div class="children"><div class="content">Not necessarily<p><a href="https:&#x2F;&#x2F;portableapps.com&#x2F;apps&#x2F;internet&#x2F;firefox_portable" rel="nofollow noreferrer">https:&#x2F;&#x2F;portableapps.com&#x2F;apps&#x2F;internet&#x2F;firefox_portable</a></div><br/></div></div><div id="37497863" class="c"><input type="checkbox" id="c-37497863" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496505">parent</a><span>|</span><a href="#37496710">prev</a><span>|</span><a href="#37496399">next</a><span>|</span><label class="collapse" for="c-37497863">[-]</label><label class="expand" for="c-37497863">[1 more]</label></div><br/><div class="children"><div class="content">Installation of the OS and the browser can be amortized away over a large number of app installations.</div><br/></div></div></div></div><div id="37496399" class="c"><input type="checkbox" id="c-37496399" checked=""/><div class="controls bullet"><span class="by">n4r9</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496505">prev</a><span>|</span><a href="#37496441">next</a><span>|</span><label class="collapse" for="c-37496399">[-]</label><label class="expand" for="c-37496399">[2 more]</label></div><br/><div class="children"><div class="content">Lots of people need to work offline sometimes.</div><br/><div id="37496516" class="c"><input type="checkbox" id="c-37496516" checked=""/><div class="controls bullet"><span class="by">broast</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496399">parent</a><span>|</span><a href="#37496441">next</a><span>|</span><label class="collapse" for="c-37496516">[-]</label><label class="expand" for="c-37496516">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure if the suggestion is that all work should be online, or if all desktop apps should be portable.</div><br/></div></div></div></div><div id="37496441" class="c"><input type="checkbox" id="c-37496441" checked=""/><div class="controls bullet"><span class="by">hospitalJail</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496399">prev</a><span>|</span><a href="#37496463">next</a><span>|</span><label class="collapse" for="c-37496441">[-]</label><label class="expand" for="c-37496441">[1 more]</label></div><br/><div class="children"><div class="content">My company doesnt let data leave the premises. It makes for some painful moments, but the data is worth tens of billions of dollars.</div><br/></div></div><div id="37496463" class="c"><input type="checkbox" id="c-37496463" checked=""/><div class="controls bullet"><span class="by">gear54rus</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496441">prev</a><span>|</span><a href="#37496521">next</a><span>|</span><label class="collapse" for="c-37496463">[-]</label><label class="expand" for="c-37496463">[1 more]</label></div><br/><div class="children"><div class="content">The only cases I can think of are games (which are huge and GPU-intensive) or stuff that deals with filesystem a lot (dev tools, torrent clients). Those areas are still anemic in browsers. Other than that no reason.</div><br/></div></div><div id="37496521" class="c"><input type="checkbox" id="c-37496521" checked=""/><div class="controls bullet"><span class="by">_a_a_a_</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496463">prev</a><span>|</span><a href="#37496595">next</a><span>|</span><label class="collapse" for="c-37496521">[-]</label><label class="expand" for="c-37496521">[1 more]</label></div><br/><div class="children"><div class="content">Are you trolling or just unaware of this thing called &#x27;data security&#x27; and &#x27;software ownership&#x27; and &#x27;IP&#x27; and the like.</div><br/></div></div><div id="37496595" class="c"><input type="checkbox" id="c-37496595" checked=""/><div class="controls bullet"><span class="by">ubermonkey</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496521">prev</a><span>|</span><a href="#37496835">next</a><span>|</span><label class="collapse" for="c-37496595">[-]</label><label class="expand" for="c-37496595">[5 more]</label></div><br/><div class="children"><div class="content">It more or less doesn&#x27;t in MacOS, and has NEVER really been a thing.<p>While there ARE some tools that require a more invasive &quot;installation&quot; process (e.g., VMWare Fusion), the overwhelming majority of Mac software is installed by just dragging the application bundle into &#x2F;Applications.<p>(App bundles are just special directories, more or less, so you&#x27;re moving more than just the file, but it presents as a single thing.)<p>To remove an app, you just drag that bundle into the trash.<p>This usually DOES leave behind things like local user data or preference files, but those are inert text files and don&#x27;t impact perf or machine behavior in the long run. Users typically waste more space on cat pictures.<p>The tl;dr is that &quot;installers&quot; and &quot;uninstallers&quot; only exist because Windows needs them. I have seen MANY MANY FOLKS come to the Mac and be VERY confused by this. &quot;But you NEED an installation process! This can&#x27;t work!&quot; Nope. <i>Windows</i> needs an installation process.<p>I joked, in the 90s, that despite all the monopolistic chicanery from Redmond, their real lasting awful legacy would be the degree to which they lowered people&#x27;s expecations about how computers worked, and I stand by that.<p>(Something else not needed on sane systems: &quot;clean up&quot; software. If you don&#x27;t litter the file system with files when you add a program, you don&#x27;t need special utilities to run that shit down and delete it later.)</div><br/><div id="37496700" class="c"><input type="checkbox" id="c-37496700" checked=""/><div class="controls bullet"><span class="by">Tainnor</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496595">parent</a><span>|</span><a href="#37496612">next</a><span>|</span><label class="collapse" for="c-37496700">[-]</label><label class="expand" for="c-37496700">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bit weird to act as if macOS didn&#x27;t have installers and uninstallers. For one thing, there&#x27;s the App store. And then, probably most developers use something like homebrew.<p>What you describe works for a specific kind of app, the ones that can be easily sandboxed and don&#x27;t have shared dependencies.</div><br/><div id="37497310" class="c"><input type="checkbox" id="c-37497310" checked=""/><div class="controls bullet"><span class="by">r00fus</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496700">parent</a><span>|</span><a href="#37496877">next</a><span>|</span><label class="collapse" for="c-37497310">[-]</label><label class="expand" for="c-37497310">[1 more]</label></div><br/><div class="children"><div class="content">Most of my apps in my daily driver Mac were installed this way.<p>Notable exceptions: Microsoft office, Google Drive.</div><br/></div></div><div id="37496877" class="c"><input type="checkbox" id="c-37496877" checked=""/><div class="controls bullet"><span class="by">catiopatio</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496700">parent</a><span>|</span><a href="#37497310">prev</a><span>|</span><a href="#37496612">next</a><span>|</span><label class="collapse" for="c-37496877">[-]</label><label class="expand" for="c-37496877">[1 more]</label></div><br/><div class="children"><div class="content">The App Store literally just places an application bundle in &#x2F;Applications.<p>Homebrew and MacPorts are used for Unix software that requires a Unix-style package management.</div><br/></div></div></div></div><div id="37496612" class="c"><input type="checkbox" id="c-37496612" checked=""/><div class="controls bullet"><span class="by">gjsman-1000</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496595">parent</a><span>|</span><a href="#37496700">prev</a><span>|</span><a href="#37496835">next</a><span>|</span><label class="collapse" for="c-37496612">[-]</label><label class="expand" for="c-37496612">[1 more]</label></div><br/><div class="children"><div class="content">Also, heads up for anyone on MacOS, here&#x27;s a fun experiment!<p>Go to your Applications folder. Right-click any app. Click &quot;Show Package Contents.&quot; Take a good look around.</div><br/></div></div></div></div><div id="37496436" class="c"><input type="checkbox" id="c-37496436" checked=""/><div class="controls bullet"><span class="by">sh4rks</span><span>|</span><a href="#37496343">parent</a><span>|</span><a href="#37496835">prev</a><span>|</span><a href="#37492787">next</a><span>|</span><label class="collapse" for="c-37496436">[-]</label><label class="expand" for="c-37496436">[3 more]</label></div><br/><div class="children"><div class="content">A lot of people in the finance world prefer native apps to web apps. It&#x27;s bizarre.</div><br/><div id="37496494" class="c"><input type="checkbox" id="c-37496494" checked=""/><div class="controls bullet"><span class="by">a13o</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496436">parent</a><span>|</span><a href="#37492787">next</a><span>|</span><label class="collapse" for="c-37496494">[-]</label><label class="expand" for="c-37496494">[2 more]</label></div><br/><div class="children"><div class="content">Load a sufficiently large and complex spreadsheet in Excel vs Sheets and you&#x27;ll have your answer. Sheets will freeze and Excel will open in seconds.<p>There&#x27;s also a feature gap that Google will probably never close, because why bother if you can&#x27;t load the volume of data those power users are working with in the first place.</div><br/><div id="37496671" class="c"><input type="checkbox" id="c-37496671" checked=""/><div class="controls bullet"><span class="by">mratsim</span><span>|</span><a href="#37496343">root</a><span>|</span><a href="#37496494">parent</a><span>|</span><a href="#37492787">next</a><span>|</span><label class="collapse" for="c-37496671">[-]</label><label class="expand" for="c-37496671">[1 more]</label></div><br/><div class="children"><div class="content">Aren&#x27;t Excel sheets still limited to 1M rows or so?</div><br/></div></div></div></div></div></div></div></div><div id="37492787" class="c"><input type="checkbox" id="c-37492787" checked=""/><div class="controls bullet"><span class="by">senectus1</span><span>|</span><a href="#37496343">prev</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37492787">[-]</label><label class="expand" for="c-37492787">[8 more]</label></div><br/><div class="children"><div class="content">funny because any application without a sufficiently advanced uninstaller should also be considered malware.</div><br/><div id="37493490" class="c"><input type="checkbox" id="c-37493490" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#37492787">parent</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37493490">[-]</label><label class="expand" for="c-37493490">[7 more]</label></div><br/><div class="children"><div class="content">If you can just delete its directory (or its single file) and everything works, that should be fine?</div><br/><div id="37493948" class="c"><input type="checkbox" id="c-37493948" checked=""/><div class="controls bullet"><span class="by">senectus1</span><span>|</span><a href="#37492787">root</a><span>|</span><a href="#37493490">parent</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37493948">[-]</label><label class="expand" for="c-37493948">[6 more]</label></div><br/><div class="children"><div class="content">I <i>guess</i> so... but then you&#x27;re assuming that the user isn&#x27;t saving data in that directory :-P<p>but honestly, please Windows Dev&#x27;s.. use MSI&#x27;s <i>please</i><p>it make me love you and i have so much love to give.</div><br/><div id="37494614" class="c"><input type="checkbox" id="c-37494614" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#37492787">root</a><span>|</span><a href="#37493948">parent</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37494614">[-]</label><label class="expand" for="c-37494614">[5 more]</label></div><br/><div class="children"><div class="content">Yes.  But if you stick everything into a single .exe, the user can&#x27;t interfere.</div><br/><div id="37495498" class="c"><input type="checkbox" id="c-37495498" checked=""/><div class="controls bullet"><span class="by">NoZebra120vClip</span><span>|</span><a href="#37492787">root</a><span>|</span><a href="#37494614">parent</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37495498">[-]</label><label class="expand" for="c-37495498">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Yes. But if you stick everything into a single .exe, the user can&#x27;t interfere.<p>Alright cowboy, so where are you storing preferences and settings?</div><br/><div id="37503424" class="c"><input type="checkbox" id="c-37503424" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#37492787">root</a><span>|</span><a href="#37495498">parent</a><span>|</span><a href="#37495854">next</a><span>|</span><label class="collapse" for="c-37503424">[-]</label><label class="expand" for="c-37503424">[1 more]</label></div><br/><div class="children"><div class="content">Well, you stick that in some user directory that would stick around even after a &#x27;normal&#x27; uninstaller runs.</div><br/></div></div><div id="37495854" class="c"><input type="checkbox" id="c-37495854" checked=""/><div class="controls bullet"><span class="by">Narishma</span><span>|</span><a href="#37492787">root</a><span>|</span><a href="#37495498">parent</a><span>|</span><a href="#37503424">prev</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37495854">[-]</label><label class="expand" for="c-37495854">[2 more]</label></div><br/><div class="children"><div class="content">In the .exe, obviously.</div><br/><div id="37500618" class="c"><input type="checkbox" id="c-37500618" checked=""/><div class="controls bullet"><span class="by">NoZebra120vClip</span><span>|</span><a href="#37492787">root</a><span>|</span><a href="#37495854">parent</a><span>|</span><a href="#37492816">next</a><span>|</span><label class="collapse" for="c-37500618">[-]</label><label class="expand" for="c-37500618">[1 more]</label></div><br/><div class="children"><div class="content">Self-modifying code is the most exciting type of user preference!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37492816" class="c"><input type="checkbox" id="c-37492816" checked=""/><div class="controls bullet"><span class="by">JaDogg</span><span>|</span><a href="#37492787">prev</a><span>|</span><a href="#37493061">next</a><span>|</span><label class="collapse" for="c-37492816">[-]</label><label class="expand" for="c-37492816">[1 more]</label></div><br/><div class="children"><div class="content">I love articles by Raymond Chen. very good.</div><br/></div></div><div id="37493061" class="c"><input type="checkbox" id="c-37493061" checked=""/><div class="controls bullet"><span class="by">PreInternet01</span><span>|</span><a href="#37492816">prev</a><span>|</span><a href="#37496445">next</a><span>|</span><label class="collapse" for="c-37493061">[-]</label><label class="expand" for="c-37493061">[17 more]</label></div><br/><div class="children"><div class="content">I can only <i>imagine</i> the Win32 API team meeting prior to this...<p>A: So, people are resorting to injecting code in Explorer to delete in-use files in such numbers that it shows up in our top-100 crash report reasons<p>B: Well, maybe we should add a public API to Windows to support this incredibly common functionality that apparently has been missing so far?<p>A: Nah, let&#x27;s just write a mildly condescending blog post that recommends using an unreliable workaround that is pretty much guaranteed to trigger any client-side intrusion detection software, that will set them straight<p>B: Right on!<p>(Meanwhile, somewhere, a third-party developer <i>is</i> gearing up to ship a kernel-mode driver to directly manipulate file system structures from their uninstaller, since their old solution kept crashing: can&#x27;t wait to read the postmortem once the crash dumps from that one hit the Microsoft servers!)</div><br/><div id="37493324" class="c"><input type="checkbox" id="c-37493324" checked=""/><div class="controls bullet"><span class="by">ack_complete</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37493266">next</a><span>|</span><label class="collapse" for="c-37493324">[-]</label><label class="expand" for="c-37493324">[1 more]</label></div><br/><div class="children"><div class="content">Raymond Chen writes great stuff but gives a very one-sided picture of compatibility -- he doesn&#x27;t mention all of the times that it was the other way around, with Windows doing something lame and application authors having to work around it.<p>Like, for instance, the time that they decided that LaunchAdvancedAssociationUI(), the previous officially recommended way to show UI to allow the user to associate file types with a program, just wouldn&#x27;t work anymore in Windows 10. Instead of opening up the Default Programs UI in Settings, it just displays a dialog telling the _user_ to go there -- which is even modal so they can&#x27;t even refer to it while doing so. No compatibility shim or grandfathering for old programs, they just broke all applications that used this like they originally said good programs should do for Windows 8.<p>Or the case of Dark Mode in Windows, which for some reason they&#x27;ve dragged their heels on implementing barely any Win32 support at all for -- even just simply a call to query whether it is enabled. The current silly recommendation is to obtain the foreground color through WinRT and do a dot product on it to compute luma and determine if it is a dark or light color:
<a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;apps&#x2F;desktop&#x2F;modernize&#x2F;apply-windows-themes" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;apps&#x2F;desktop&#x2F;moder...</a><p>Or the fact that the official way of reporting bugs on the Windows APIs is the Feedback Hub, which is completely unsuitable for task.<p>I don&#x27;t have sympathy for the Windows team anymore. Their lack of developer support is partially responsible for all of the hacks that applications have to do to ship.</div><br/></div></div><div id="37493266" class="c"><input type="checkbox" id="c-37493266" checked=""/><div class="controls bullet"><span class="by">anticristi</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37493324">prev</a><span>|</span><a href="#37493166">next</a><span>|</span><label class="collapse" for="c-37493266">[-]</label><label class="expand" for="c-37493266">[5 more]</label></div><br/><div class="children"><div class="content">This. The deep dive is fascinating, but really feels like a distraction from a product management failure. Microsoft has been 3 decades in the OS business. Surely someone must have noticed that package management should be a core OS feature.</div><br/><div id="37493336" class="c"><input type="checkbox" id="c-37493336" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493266">parent</a><span>|</span><a href="#37493327">next</a><span>|</span><label class="collapse" for="c-37493336">[-]</label><label class="expand" for="c-37493336">[1 more]</label></div><br/><div class="children"><div class="content">Please don&#x27;t inflict more Microsoft package managers on us. All that needs fixing is there should be a supported way to delete &quot;in-use&quot; files just like you always could on Linux. People may make theoretical arguments about the virtues of locking files but the Linux behavior is so clearly the right thing in practice. Over the years I&#x27;ve encountered approximately zero problems with that behavior on Linux and dozens of problems with the Windows behavior, both as a user and as a developer.<p>I&#x27;m sure it would be hard to add such a thing to Windows while minimizing compatibility problems but I&#x27;m equally sure that it&#x27;s possible and that it&#x27;s worth the effort.</div><br/></div></div><div id="37493327" class="c"><input type="checkbox" id="c-37493327" checked=""/><div class="controls bullet"><span class="by">yrro</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493266">parent</a><span>|</span><a href="#37493336">prev</a><span>|</span><a href="#37493809">next</a><span>|</span><label class="collapse" for="c-37493327">[-]</label><label class="expand" for="c-37493327">[1 more]</label></div><br/><div class="children"><div class="content">At this point the Windows package manager omnimisery has metastasized and now idiot developers are insisting on writing their own installers even for platforms where it&#x27;s totally un-necessary (harmful in fact!)</div><br/></div></div><div id="37493809" class="c"><input type="checkbox" id="c-37493809" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493266">parent</a><span>|</span><a href="#37493327">prev</a><span>|</span><a href="#37493301">next</a><span>|</span><label class="collapse" for="c-37493809">[-]</label><label class="expand" for="c-37493809">[1 more]</label></div><br/><div class="children"><div class="content">Since Windows 2000, however Microsoft isn&#x27;t Apple, in being a dictator regarding OS API adoption.</div><br/></div></div><div id="37493301" class="c"><input type="checkbox" id="c-37493301" checked=""/><div class="controls bullet"><span class="by">tinus_hn</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493266">parent</a><span>|</span><a href="#37493809">prev</a><span>|</span><a href="#37493166">next</a><span>|</span><label class="collapse" for="c-37493301">[-]</label><label class="expand" for="c-37493301">[1 more]</label></div><br/><div class="children"><div class="content">Oh, they have, many times! Thatâs why we have msi, app-v, appx etc.</div><br/></div></div></div></div><div id="37493166" class="c"><input type="checkbox" id="c-37493166" checked=""/><div class="controls bullet"><span class="by">bux93</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37493266">prev</a><span>|</span><a href="#37493178">next</a><span>|</span><label class="collapse" for="c-37493166">[-]</label><label class="expand" for="c-37493166">[1 more]</label></div><br/><div class="children"><div class="content">Well, they kinda had to rush that meeting because they spent too much time on the previous meeting listing all the reasons why the microsoft store is a functioning package system and not at all a din of inequity.</div><br/></div></div><div id="37493178" class="c"><input type="checkbox" id="c-37493178" checked=""/><div class="controls bullet"><span class="by">eddythompson80</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37493166">prev</a><span>|</span><a href="#37494062">next</a><span>|</span><label class="collapse" for="c-37493178">[-]</label><label class="expand" for="c-37493178">[5 more]</label></div><br/><div class="children"><div class="content">There are already many services and APIs for doing this. Itâs more like:<p>A: There are a dozen ways to do this correctly. Which right way should we pick?<p>B: I donât know, I found this code on the internet. Should I just use it?<p>A: Sure, if itâs on the internet it must be the right way.</div><br/><div id="37493277" class="c"><input type="checkbox" id="c-37493277" checked=""/><div class="controls bullet"><span class="by">PreInternet01</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493178">parent</a><span>|</span><a href="#37494062">next</a><span>|</span><label class="collapse" for="c-37493277">[-]</label><label class="expand" for="c-37493277">[4 more]</label></div><br/><div class="children"><div class="content">&gt; There are already many services and APIs for doing this<p>I... don&#x27;t think so? The particular problem here, is that an uninstaller executable needs to delete itself from disk after doing its main job.<p>Other than using MoveFileEx with a NULL destination file and the MOVEFILE_DELAY_UNTIL_REBOOT flag, then suggesting&#x2F;forcing a reboot, I can&#x27;t think of a straightforward solution.<p>And that solution <i>instantly</i> lights up your JIRA with 2 tickets:<p>#1: We MUST not suggest&#x2F;force a reboot! Users hate it!<p>#2: CRITICAL BUG: uninstaller.exe still present after uninstalling product<p>So, then you try things like &#x27;create a Task Scheduler job to delete the file&#x27;, which then adds:<p>#3: PRIO 1: uninstaller.exe crashes if Windows Task Scheduler disabled<p>#4: SHOWSTOPPER: uninstaller.exe still not always deleted after uninstall. Why is this so hard?<p>Et cetera, ad absurdum. This then escalates to code injection (as described in the linked article), and (you heard it here first) kernel-mode drivers. So, if you&#x27;re aware of a reliable solution, feel free to share in a comment here, for the betterment of the world!</div><br/><div id="37493311" class="c"><input type="checkbox" id="c-37493311" checked=""/><div class="controls bullet"><span class="by">yrro</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493277">parent</a><span>|</span><a href="#37493676">next</a><span>|</span><label class="collapse" for="c-37493311">[-]</label><label class="expand" for="c-37493311">[1 more]</label></div><br/><div class="children"><div class="content">Resolution: this is just how Windows works, deal with it</div><br/></div></div><div id="37493676" class="c"><input type="checkbox" id="c-37493676" checked=""/><div class="controls bullet"><span class="by">jiofj</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493277">parent</a><span>|</span><a href="#37493311">prev</a><span>|</span><a href="#37494062">next</a><span>|</span><label class="collapse" for="c-37493676">[-]</label><label class="expand" for="c-37493676">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Other than using MoveFileEx with a NULL destination file and the MOVEFILE_DELAY_UNTIL_REBOOT flag, then suggesting&#x2F;forcing a reboot, I can&#x27;t think of a straightforward solution.<p>And what&#x27;s the problem with this?</div><br/><div id="37498467" class="c"><input type="checkbox" id="c-37498467" checked=""/><div class="controls bullet"><span class="by">0x0000000</span><span>|</span><a href="#37493061">root</a><span>|</span><a href="#37493676">parent</a><span>|</span><a href="#37494062">next</a><span>|</span><label class="collapse" for="c-37498467">[-]</label><label class="expand" for="c-37498467">[1 more]</label></div><br/><div class="children"><div class="content">One of the comments on the article gives one example:<p>&gt; When our productâs uninstaller sees an undeletable file (possibly a DLL loaded in another process), it uses the MOVEFILE_DELAY_UNTIL_REBOOT flag to mark it for deletion, and warns the user âPlease reboot as soon as possible to remove the remaining files.â<p>&gt; However, some user uninstall our product, just to be able to reinstall it later, to the same location. And of course they ignored the warning. Once they reinstalled it, everything works, until a reboot.</div><br/></div></div></div></div></div></div></div></div><div id="37494062" class="c"><input type="checkbox" id="c-37494062" checked=""/><div class="controls bullet"><span class="by">phire</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37493178">prev</a><span>|</span><a href="#37493194">next</a><span>|</span><label class="collapse" for="c-37494062">[-]</label><label class="expand" for="c-37494062">[1 more]</label></div><br/><div class="children"><div class="content">A new API would only work in fully updated versions of windows that include the API.<p>Programmers would hesitate to use it, because they can&#x27;t be sure the user of the uninstaller will be on a fully updated windows install.<p>The JScript workaround might seem like a bit of a hack, but it has an advantage of working on every version of windows all the way back to Windows 98.</div><br/></div></div><div id="37493194" class="c"><input type="checkbox" id="c-37493194" checked=""/><div class="controls bullet"><span class="by">water9</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37494062">prev</a><span>|</span><a href="#37493220">next</a><span>|</span><label class="collapse" for="c-37493194">[-]</label><label class="expand" for="c-37493194">[1 more]</label></div><br/><div class="children"><div class="content">Schedule a cronjob &#x2F; win equiv</div><br/></div></div><div id="37493220" class="c"><input type="checkbox" id="c-37493220" checked=""/><div class="controls bullet"><span class="by">Racing0461</span><span>|</span><a href="#37493061">parent</a><span>|</span><a href="#37493194">prev</a><span>|</span><a href="#37493404">next</a><span>|</span><label class="collapse" for="c-37493220">[-]</label><label class="expand" for="c-37493220">[1 more]</label></div><br/><div class="children"><div class="content">This is from the almighty raymond chen tho.</div><br/></div></div></div></div><div id="37496445" class="c"><input type="checkbox" id="c-37496445" checked=""/><div class="controls bullet"><span class="by">marcodiego</span><span>|</span><a href="#37493061">prev</a><span>|</span><a href="#37492542">next</a><span>|</span><label class="collapse" for="c-37496445">[-]</label><label class="expand" for="c-37496445">[20 more]</label></div><br/><div class="children"><div class="content">Uninstaller should not exist. Installers should not exist either. Every OS should have a package manager. The name clearly implies what it does: it manages packages; this task should be left to a specialized software, not to the user.<p>Linux distros were pioneers in this aspect and &quot;stores&quot; of the modern world are just a clothed versions of package managers. of course, a power user should should have the right to change software sources (repositories). It should be possible to add decentralized package managers like it is possible with flatpack.<p>Installers and uninstallers are a relic of a time were most software people used were proprietary running under a proprietary environment. Many windows users are still locked in that proprietary closed world. If &quot;Any sufficiently advanced uninstaller is indistinguishable from malware&quot;, I&#x27;d say that most (all?) microsoft software comes with extremely advanced uninstallers.</div><br/><div id="37496762" class="c"><input type="checkbox" id="c-37496762" checked=""/><div class="controls bullet"><span class="by">alkonaut</span><span>|</span><a href="#37496445">parent</a><span>|</span><a href="#37496748">next</a><span>|</span><label class="collapse" for="c-37496762">[-]</label><label class="expand" for="c-37496762">[1 more]</label></div><br/><div class="children"><div class="content">The difference between a &quot;package being installed by a package manager&quot; and &quot;an application being installed by an installer&quot; can be as small as you want. Linux packages have &quot;installers and uninstallers&quot; in the sense that inside a .deb file for example there are scripts doing necessary tasks for installing and uninstalling. And whether they make a mess is only dependent on these scripts behaving in a way that doesn&#x27;t make a mess.<p>So having a package format or package repository doesn&#x27;t necessarily prevent packages from doing arbitrary or stupid things (there is no difference between a .deb file or an .msi file in that regard). The app store ore repository might add a level of human vetting, but technically there is no difference.<p>I would argue that it&#x27;s better to have most of the vetting be technical: ensure that the package&#x2F;installer format doesn&#x27;t allow making a mess. Sandbox everything, prevent writes in the wrong places etc. More modern formats like flakpak&#x2F;msix&#x2F;etc are of course better in this regard.<p>And the key thing about them is that they prevent a mess on the technical level so that the human vetting (and thus repository) isn&#x27;t really required.</div><br/></div></div><div id="37496748" class="c"><input type="checkbox" id="c-37496748" checked=""/><div class="controls bullet"><span class="by">troyvit</span><span>|</span><a href="#37496445">parent</a><span>|</span><a href="#37496762">prev</a><span>|</span><a href="#37496522">next</a><span>|</span><label class="collapse" for="c-37496748">[-]</label><label class="expand" for="c-37496748">[1 more]</label></div><br/><div class="children"><div class="content">You are right. Linux distros were pioneers and it used to be great, but it&#x27;s gone off the rails now. Running kde-neon I have pkcon, apt&#x2F;aptitude (for when I forget pkcon or one of its commands), flatpaks, AppImages, and the usual rigamarole of uninstalling snap and then setting up app-level installers for the things that previously only had snap candidates (lookin&#x27; at you Firefox). On the RH side I have both yum and dnf? Mokay.<p>Back when I was installing KDE on top of another distro, I&#x27;d also have the Discover front-end sitting next to Gnome&#x27;s Software Center (or whatever it was). That should be somewhat expected and is more an indication of the bloat that major window managers have embraced.<p>The front-ends are decent about showing what source a piece of software came from, which is nice, but the last time I used them they didn&#x27;t stop one from installing the same piece of software from two different sources.<p>All to say, back in the day it was so convenient to have yum or aptitude just take care of things installing software, resolving conflicts, etc. Now we&#x27;re in a bit of a mire.</div><br/></div></div><div id="37496522" class="c"><input type="checkbox" id="c-37496522" checked=""/><div class="controls bullet"><span class="by">sebazzz</span><span>|</span><a href="#37496445">parent</a><span>|</span><a href="#37496748">prev</a><span>|</span><a href="#37496510">next</a><span>|</span><label class="collapse" for="c-37496522">[-]</label><label class="expand" for="c-37496522">[6 more]</label></div><br/><div class="children"><div class="content">&gt; The name clearly implies what it does: it manages packages; this task should be left to a specialized software<p>Yes, but the modifications that are possible are limited by what the API of the package manager provides. Like Windows Installer does. If that doesn&#x27;t work you create custom install uninstall logic, which has the potential to be less robust&#x2F;reliable than what the package manager provides.</div><br/><div id="37496590" class="c"><input type="checkbox" id="c-37496590" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496522">parent</a><span>|</span><a href="#37496510">next</a><span>|</span><label class="collapse" for="c-37496590">[-]</label><label class="expand" for="c-37496590">[5 more]</label></div><br/><div class="children"><div class="content">I mean all Linux package managers allow running arbitrary code on install&#x2F;uninstall and it seems to work well enough.</div><br/><div id="37496699" class="c"><input type="checkbox" id="c-37496699" checked=""/><div class="controls bullet"><span class="by">sebazzz</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496590">parent</a><span>|</span><a href="#37496758">next</a><span>|</span><label class="collapse" for="c-37496699">[-]</label><label class="expand" for="c-37496699">[3 more]</label></div><br/><div class="children"><div class="content">It has also failed enough times for me, but luckily it often works like &quot;on error resume next&quot; do the package manager doesn&#x27;t get stuck in a bad state.<p>Regardless, installation on Linux is often just dropping some files somewhere and perhaps a modprobe.<p>In Windows you have so many things you can do: filesystem, registry, COM registration, GAC, file associations, etc.</div><br/><div id="37497988" class="c"><input type="checkbox" id="c-37497988" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496699">parent</a><span>|</span><a href="#37496758">next</a><span>|</span><label class="collapse" for="c-37497988">[-]</label><label class="expand" for="c-37497988">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not really that dissimilar. People like to act that Windows is so complicated and convoluted when in time the Linux desktop has invented all the same concepts.<p><pre><code>    registry -&gt; dconf
    com registration -&gt; dbus objects
    gac -&gt; shared libs
    file associations -&gt; dconf settings
    windows scheduler entries -&gt; systemd user session</code></pre></div><br/><div id="37499229" class="c"><input type="checkbox" id="c-37499229" checked=""/><div class="controls bullet"><span class="by">sebazzz</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37497988">parent</a><span>|</span><a href="#37496758">next</a><span>|</span><label class="collapse" for="c-37499229">[-]</label><label class="expand" for="c-37499229">[1 more]</label></div><br/><div class="children"><div class="content">Right, but most of these entries are still (1) only files or (2) are almost never touched by most packages.<p>And the GAC isn&#x27;t really comparable, perhaps WinSxS is comparable, but the GAC requires a specific API and isn&#x27;t a matter of just dropping a file in &#x2F;usr&#x2F;lib.</div><br/></div></div></div></div></div></div><div id="37496758" class="c"><input type="checkbox" id="c-37496758" checked=""/><div class="controls bullet"><span class="by">catiopatio</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496590">parent</a><span>|</span><a href="#37496699">prev</a><span>|</span><a href="#37496510">next</a><span>|</span><label class="collapse" for="c-37496758">[-]</label><label class="expand" for="c-37496758">[1 more]</label></div><br/><div class="children"><div class="content">It only works because packages are distributed via a carefully curated, centrally-managed repository with socially-enforced norms.</div><br/></div></div></div></div></div></div><div id="37496510" class="c"><input type="checkbox" id="c-37496510" checked=""/><div class="controls bullet"><span class="by">threatofrain</span><span>|</span><a href="#37496445">parent</a><span>|</span><a href="#37496522">prev</a><span>|</span><a href="#37496690">next</a><span>|</span><label class="collapse" for="c-37496510">[-]</label><label class="expand" for="c-37496510">[6 more]</label></div><br/><div class="children"><div class="content">I find that Linux software culture also leaves stuff behind and leaves it up to the assumed system mastery of the user to clean things up.</div><br/><div id="37496567" class="c"><input type="checkbox" id="c-37496567" checked=""/><div class="controls bullet"><span class="by">koiueo</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496510">parent</a><span>|</span><a href="#37496690">next</a><span>|</span><label class="collapse" for="c-37496567">[-]</label><label class="expand" for="c-37496567">[5 more]</label></div><br/><div class="children"><div class="content">That&#x27;s too broad and misleading.<p>Package manager tracks every single file installed by a package, preventing overwrites by other packages.<p>Strict permissions prohibit software from littering all over the place.<p>What are you taking about?<p>Do you want package manager to remove yourb personal data of it was created by an application your decided to remove?</div><br/><div id="37496712" class="c"><input type="checkbox" id="c-37496712" checked=""/><div class="controls bullet"><span class="by">kroltan</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496567">parent</a><span>|</span><a href="#37497803">prev</a><span>|</span><a href="#37496678">next</a><span>|</span><label class="collapse" for="c-37496712">[-]</label><label class="expand" for="c-37496712">[1 more]</label></div><br/><div class="children"><div class="content">Maybe I do! Many Windows custom uninstallers have an option to remove &quot;settings&quot; while uninstalling.<p>I sure have lots of junk in ~&#x2F;.config I don&#x27;t use anymore and probably never will.</div><br/></div></div><div id="37496935" class="c"><input type="checkbox" id="c-37496935" checked=""/><div class="controls bullet"><span class="by">SAI_Peregrinus</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496567">parent</a><span>|</span><a href="#37496678">prev</a><span>|</span><a href="#37496690">next</a><span>|</span><label class="collapse" for="c-37496935">[-]</label><label class="expand" for="c-37496935">[1 more]</label></div><br/><div class="children"><div class="content">It should certainly be capable of removing everything the application created that wasn&#x27;t manually exported by the user or saved into a user data directory. E.g. everything it made in XDG_CONFIG_HOME, XDG_STATE_HOME, XDG_DATA_HOME, XDG_CACHE_HOME, etc. Probably not anything from XDG_DOCUMENTS_DIR or the other &quot;user data&quot; directories.</div><br/></div></div></div></div></div></div><div id="37496690" class="c"><input type="checkbox" id="c-37496690" checked=""/><div class="controls bullet"><span class="by">mattashii</span><span>|</span><a href="#37496445">parent</a><span>|</span><a href="#37496510">prev</a><span>|</span><a href="#37496797">next</a><span>|</span><label class="collapse" for="c-37496690">[-]</label><label class="expand" for="c-37496690">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Uninstaller should not exist. Installers should not exist either. Every OS should have a package manager<p>What is a package manager, if not an (un)installer shared between projects?</div><br/><div id="37496816" class="c"><input type="checkbox" id="c-37496816" checked=""/><div class="controls bullet"><span class="by">haswell</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496690">parent</a><span>|</span><a href="#37496721">next</a><span>|</span><label class="collapse" for="c-37496816">[-]</label><label class="expand" for="c-37496816">[1 more]</label></div><br/><div class="children"><div class="content">Itâs a <i>single</i>, standardized uninstaller governed by the creators of the OS.<p>Sharing between projects is not how Iâd frame this. Using a shared&#x2F;standard OS facility is closer. This matters quite a bit when it comes to establishing trust.</div><br/></div></div><div id="37496721" class="c"><input type="checkbox" id="c-37496721" checked=""/><div class="controls bullet"><span class="by">systems</span><span>|</span><a href="#37496445">root</a><span>|</span><a href="#37496690">parent</a><span>|</span><a href="#37496816">prev</a><span>|</span><a href="#37496797">next</a><span>|</span><label class="collapse" for="c-37496721">[-]</label><label class="expand" for="c-37496721">[1 more]</label></div><br/><div class="children"><div class="content">well you would normally trust the package manager that comes from your OS&#x2F;Distro provider, as opposed to an uninstalling script from a developer anonymous to you</div><br/></div></div></div></div><div id="37496797" class="c"><input type="checkbox" id="c-37496797" checked=""/><div class="controls bullet"><span class="by">PaulHoule</span><span>|</span><a href="#37496445">parent</a><span>|</span><a href="#37496690">prev</a><span>|</span><a href="#37496828">next</a><span>|</span><label class="collapse" for="c-37496797">[-]</label><label class="expand" for="c-37496797">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not proprietary or not,  it&#x27;s the level of discipline about installing software.  iOS is completely proprietary and has a very disciplined system for installing and uninstalling apps.  The Windows non-system of installers&#x2F;uninstallers is really anarchy except to the end user it looks like a system because the installers&#x2F;uninstaller mostly look the same,  mainly because<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;InstallShield" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;InstallShield</a><p>became a defacto standard endorsed by Microsoft and everybody else tries to look like it.<p>The real Windows &quot;quirk&quot; that this article skirts around is that Windows won&#x27;t let you delete a file which is open and of course if you are running an executable that counts as an open file.  This of course can be a huge hassle if you need to delete something and can&#x27;t find the process which is holding the file open.  It&#x27;s particularly annoying for things like software builds where you really want a script that automatically and reliably clears a lot of stuff away so you can make a fresh start.<p>Now,  POSIX has the opposite &quot;quirk&quot; that you can &quot;delete&quot; an open file and it completes right away because all you did was delete the link from the directory to the file.  The file still exists because it has a link from the process that has it open,  it really gets deleted when that link goes away.<p>That can get you in just as much or more trouble than the way Windows does it can,  for instance if some series of events caused your system log to fill the disk,  you can &quot;rm&quot; the log and the disk is still full.  To really free up the space you need to &quot;rm&quot; and then restart the log daemon.<p>As for Linux it&#x27;s got the problem of a proliferation of package managers in the sense of things like flatpak and snap and generally the (dumpster fire I think) of Docker images (like the place where they thought Docker would help stabilize their Python installations but somehow our data scientists kept finding strangely broken Python images that were real nightmare fuel for me;  e.g. default character encodings that I didn&#x27;t think anybody actually used)<p>Windows has realized the ability to install software in C:&#x2F;Program Files&#x2F; and D:&#x2F;Program Files&#x2F; and often in a user&#x27;s home directory (if the installer supports it.)  20 years ago I thought rpm&#x27;s sucked and thought &quot;any software worth installing is worth building from source&quot; where I could do<p><pre><code>   make-install --prefix=&#x2F;usr|&#x2F;usr&#x2F;local|$HOME
</code></pre>
that is I didn&#x27;t have to beg for my sysadmin to do something like<p><pre><code>   apt-get install nethack
</code></pre>
I am impressed with the comparative speed of installing from a package manager,  but I still can&#x27;t install a local copy of software with one,  and I should be able to.</div><br/></div></div></div></div><div id="37492542" class="c"><input type="checkbox" id="c-37492542" checked=""/><div class="controls bullet"><span class="by">jusssi</span><span>|</span><a href="#37496445">prev</a><span>|</span><a href="#37493318">next</a><span>|</span><label class="collapse" for="c-37492542">[-]</label><label class="expand" for="c-37492542">[13 more]</label></div><br/><div class="children"><div class="content">Installing &#x2F; uninstalling &#x2F; updating software should be a service provided by the OS. Letting vendors do it themselves just gives them an opportunity to mess it up, and they frequently do.</div><br/><div id="37492907" class="c"><input type="checkbox" id="c-37492907" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#37492542">parent</a><span>|</span><a href="#37492609">next</a><span>|</span><label class="collapse" for="c-37492907">[-]</label><label class="expand" for="c-37492907">[1 more]</label></div><br/><div class="children"><div class="content">Windows provides various installer systems (.msi and the later iterations for UWP applications). It&#x27;s unfortunate that MSI files aren&#x27;t used more often, because they&#x27;re more reliable than their uninstall.exe counterparts. They&#x27;re not unlike .deb&#x2F;.rpm files, except they integrate with the system GUI better when it comes to prompts and variables.<p>I believe MSI files were originally supposed to be almost atomic in use (software is either installed or uninstalled), providing transactional operations for installing software and limited UI options. I remember (but can&#x27;t find) an old quote from someone on the team that designed the file format, basically saying something among the lines of &quot;giving developers the option to execute random commands from MSI installers was the worst decision we&#x27;ve made&quot;.</div><br/></div></div><div id="37492609" class="c"><input type="checkbox" id="c-37492609" checked=""/><div class="controls bullet"><span class="by">all2</span><span>|</span><a href="#37492542">parent</a><span>|</span><a href="#37492907">prev</a><span>|</span><a href="#37492644">next</a><span>|</span><label class="collapse" for="c-37492609">[-]</label><label class="expand" for="c-37492609">[2 more]</label></div><br/><div class="children"><div class="content">This makes me think of the recent changes to pip on Arch Linux that recommend installing modules with pacman.<p>Pacman is ok, but I recently destroyed the Ruby installation on a computer while trying to use Vagrant and other Ruby packages. I still haven&#x27;t figured out how to fix it. Lesson learned, stick to AUR and pacman repo.</div><br/><div id="37494319" class="c"><input type="checkbox" id="c-37494319" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37492609">parent</a><span>|</span><a href="#37492644">next</a><span>|</span><label class="collapse" for="c-37494319">[-]</label><label class="expand" for="c-37494319">[1 more]</label></div><br/><div class="children"><div class="content">Virtualenvs are your friend. I use pipx for Python utils not in my OS repos, never had a problem with that. (`pipx install yt-dlp` creates a venv in ~&#x2F;.local&#x2F;pipx&#x2F;venvs, installs yt-dlp there, then symlinks the executables to ~&#x2F;.local&#x2F;bin.)<p>For per-project dependencies, Poetry is pretty good, although there are other options too.<p>For Ruby, I think Bundler is the venv&#x2F;Poetry counterpart. Not sure what you could use for installing global tools though.</div><br/></div></div></div></div><div id="37492644" class="c"><input type="checkbox" id="c-37492644" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#37492542">parent</a><span>|</span><a href="#37492609">prev</a><span>|</span><a href="#37492613">next</a><span>|</span><label class="collapse" for="c-37492644">[-]</label><label class="expand" for="c-37492644">[8 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t speak for whether Apple gets it right, but my experiences with the various package managers on Linux have not been any better than my experiences with installers on Windows. I&#x27;ve settled for avoiding system packages for anything I can build from source since system packages are always outdated and often Strange, and I try to avoid third party package sources and weird stuff like Snap or Flatpak since it&#x27;s also historically been a source of problems for me. Maybe life is better outside of the Debian sphere though, since I&#x27;ve only dealt with Ubuntu and Debian.<p>Windows does have installer&#x2F;uninstaller infrastructure called MSI (<a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;msi&#x2F;windows-installer-portal" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;msi&#x2F;windows-...</a>), but ultimately it&#x27;s up to developers to choose to use it.</div><br/><div id="37492934" class="c"><input type="checkbox" id="c-37492934" checked=""/><div class="controls bullet"><span class="by">omgmajk</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37492644">parent</a><span>|</span><a href="#37492920">next</a><span>|</span><label class="collapse" for="c-37492934">[-]</label><label class="expand" for="c-37492934">[6 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t quite get this, I&#x27;ve been using Debian-esque Linux since like 1997 in various forms and have had problems with apt-get&#x2F;apt maybe five times since then in total and it&#x27;s always fixable with a little work. I&#x27;ve seen this a lot and I&#x27;ve haven&#x27;t really understood the problems.<p>I saw Linus from LTT brick his installation (in Pop_OS! I think?) but that was a clear user error.</div><br/><div id="37493447" class="c"><input type="checkbox" id="c-37493447" checked=""/><div class="controls bullet"><span class="by">FirmwareBurner</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37492934">parent</a><span>|</span><a href="#37493129">next</a><span>|</span><label class="collapse" for="c-37493447">[-]</label><label class="expand" for="c-37493447">[3 more]</label></div><br/><div class="children"><div class="content"><i>&gt;but that was a clear user error</i><p>A user error that can happen to any user who isn&#x27;t Linux savvy and just wants to paly games, and not learn how a package manager works, and that it can uninstall your desktop environment if you aren&#x27;t proficient with Linux, is no user error but OS error.<p>How many MacOS or Windows users expect that going through the installation steps of Steam, it can uninstall your desktop environment? For that user demographic, that is a clear OS issue.</div><br/><div id="37494276" class="c"><input type="checkbox" id="c-37494276" checked=""/><div class="controls bullet"><span class="by">pbhjpbhj</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37493447">parent</a><span>|</span><a href="#37493129">next</a><span>|</span><label class="collapse" for="c-37494276">[-]</label><label class="expand" for="c-37494276">[2 more]</label></div><br/><div class="children"><div class="content">There was a Steam package error, the error warned it might be temporary, the installer said it wouldn&#x27;t continue because that would remove &quot;popos-desktop&quot; amongst other things.<p>So, he opened a console (like any user?), then used apt-get ... which had a WARNING ... &quot;This should NOT be done unless you know exactly what you are doing!&quot;. He then had to type &quot;Yes, do as I say!&quot; in order to &quot;do something potentially harmful&quot; ... and then, what a surprise it did something harmful!<p>That&#x27;s a user error that will only happen to people who are cocky, people who are idiots, or people trying to firm up their long held stance that &#x27;Linux isn&#x27;t for gaming&#x27;.<p>I saw the LTT video the following day to release, loaded a VM up, installed Pop_OS (my first time) and installed Steam, no issues. Very simple. All button clicking.<p>&gt;going through the installation steps of Steam &#x2F;&#x2F;<p>That&#x27;s mis-characterisation, he went through the Steam install steps (click install by the Steam icon), the OS told him there was an error and refused to do it. End.<p>Then he went sudo-ing and ignoring warnings. &quot;You can delete System32 this OS isn&#x27;t ready for users!&quot;.<p>You&#x27;ll tell me now installs never fail on Windows, presumably, despite having experienced them myself.</div><br/><div id="37494418" class="c"><input type="checkbox" id="c-37494418" checked=""/><div class="controls bullet"><span class="by">FirmwareBurner</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37494276">parent</a><span>|</span><a href="#37493129">next</a><span>|</span><label class="collapse" for="c-37494418">[-]</label><label class="expand" for="c-37494418">[1 more]</label></div><br/><div class="children"><div class="content">That would happen to any other user trying linux for the first time because not every user knows they should first update their packages before trying to install something because why doesn&#x27;t the OS do it automatically like any other OS?<p>It&#x27;s 100% an OS UX error you&#x27;re trying to spin into an user error.</div><br/></div></div></div></div></div></div><div id="37493129" class="c"><input type="checkbox" id="c-37493129" checked=""/><div class="controls bullet"><span class="by">eddythompson80</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37492934">parent</a><span>|</span><a href="#37493447">prev</a><span>|</span><a href="#37494100">next</a><span>|</span><label class="collapse" for="c-37493129">[-]</label><label class="expand" for="c-37493129">[1 more]</label></div><br/><div class="children"><div class="content">YMMV. I just bricked a Debian install last month by using the package manager to install display drivers then trying to uninstall it to try a different driver. Had to go editing files in the console on a 4k display and just cross my fingers.</div><br/></div></div><div id="37494100" class="c"><input type="checkbox" id="c-37494100" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37492934">parent</a><span>|</span><a href="#37493129">prev</a><span>|</span><a href="#37492920">next</a><span>|</span><label class="collapse" for="c-37494100">[-]</label><label class="expand" for="c-37494100">[1 more]</label></div><br/><div class="children"><div class="content">The problem isn&#x27;t &quot;apt&quot; so much as &quot;the system apt packages do weird things and as a result I can&#x27;t build this open source package&quot; or &quot;I updated Ubuntu and now varnish and znc don&#x27;t work even though I was using the system packages&quot; or &quot;the system apt package for mono is just plain broken and it conflicts with one I build from source, so I have to uninstall it&quot;<p>mundane gripe: Uninstalling an apt package is too complicated and it is beyond me why it isn&#x27;t a single command in 2023. I have to skim stackoverflow answers every time I need to do it (multiple times a year).</div><br/></div></div></div></div><div id="37492920" class="c"><input type="checkbox" id="c-37492920" checked=""/><div class="controls bullet"><span class="by">gdprrrr</span><span>|</span><a href="#37492542">root</a><span>|</span><a href="#37492644">parent</a><span>|</span><a href="#37492934">prev</a><span>|</span><a href="#37492613">next</a><span>|</span><label class="collapse" for="c-37492920">[-]</label><label class="expand" for="c-37492920">[1 more]</label></div><br/><div class="children"><div class="content">I think part of it is that Debian and Ubuntu try to ship a good, usable default config, which is not necessarily the upstream default. I think it makes it hard to debug config issues.</div><br/></div></div></div></div></div></div><div id="37493318" class="c"><input type="checkbox" id="c-37493318" checked=""/><div class="controls bullet"><span class="by">tankenmate</span><span>|</span><a href="#37492542">prev</a><span>|</span><a href="#37492677">next</a><span>|</span><label class="collapse" for="c-37493318">[-]</label><label class="expand" for="c-37493318">[15 more]</label></div><br/><div class="children"><div class="content">I keep forgetting Windows-isms that won&#x27;t allow you to delete the executable file of a running process. I guess that&#x27;s also why the arcane .dll upgrade process &#x2F; WoW is so necessary.</div><br/><div id="37494954" class="c"><input type="checkbox" id="c-37494954" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#37493318">parent</a><span>|</span><a href="#37493800">next</a><span>|</span><label class="collapse" for="c-37494954">[-]</label><label class="expand" for="c-37494954">[1 more]</label></div><br/><div class="children"><div class="content">It is probably one of the reason windows ask so very often to be rebooted for any minor change.</div><br/></div></div><div id="37493800" class="c"><input type="checkbox" id="c-37493800" checked=""/><div class="controls bullet"><span class="by">xxs</span><span>|</span><a href="#37493318">parent</a><span>|</span><a href="#37494954">prev</a><span>|</span><a href="#37497404">next</a><span>|</span><label class="collapse" for="c-37493800">[-]</label><label class="expand" for="c-37493800">[11 more]</label></div><br/><div class="children"><div class="content">&gt;won&#x27;t allow you to delete the executable file<p>Any open file</div><br/><div id="37493980" class="c"><input type="checkbox" id="c-37493980" checked=""/><div class="controls bullet"><span class="by">spatulon</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37493800">parent</a><span>|</span><a href="#37494393">next</a><span>|</span><label class="collapse" for="c-37493980">[-]</label><label class="expand" for="c-37493980">[6 more]</label></div><br/><div class="children"><div class="content">&gt; Any open file<p>Any file that was opened without specifying FILE_SHARE_DELETE in the call to CreateFile[1] (the Win32 equivalent of open(2)). Unfortunately, most language runtimes that wrap CreateFile tend not to pass that flag.<p>[1] <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;api&#x2F;fileapi&#x2F;nf-fileapi-createfilew" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;api&#x2F;fileapi&#x2F;...</a></div><br/><div id="37494075" class="c"><input type="checkbox" id="c-37494075" checked=""/><div class="controls bullet"><span class="by">xxs</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37493980">parent</a><span>|</span><a href="#37494161">next</a><span>|</span><label class="collapse" for="c-37494075">[-]</label><label class="expand" for="c-37494075">[3 more]</label></div><br/><div class="children"><div class="content">indeed - also reminds me that languages like go[0] and java[1] did disagree to even attempt using it<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;32088#issuecomment-537590826">https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;32088#issuecomment-53759...</a><p>[1]: <a href="https:&#x2F;&#x2F;bugs.openjdk.org&#x2F;browse&#x2F;JDK-6607535" rel="nofollow noreferrer">https:&#x2F;&#x2F;bugs.openjdk.org&#x2F;browse&#x2F;JDK-6607535</a><p>So to me it&#x27;s just not there...</div><br/><div id="37494269" class="c"><input type="checkbox" id="c-37494269" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37494075">parent</a><span>|</span><a href="#37498012">next</a><span>|</span><label class="collapse" for="c-37494269">[-]</label><label class="expand" for="c-37494269">[1 more]</label></div><br/><div class="children"><div class="content">Apparently some parts of this are quite recent, huh[1]:<p>&gt; jstarks commented on Jun 18, 2019:<p>&gt; [I]n the most recent version of Windows, we updated DeleteFile (on NTFS) to perform a &quot;POSIX&quot; delete, where the file is removed from the namespace immediately instead of waiting for all open handles to the file to be closed.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;32088#issuecomment-502850674">https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;32088#issuecomment-50285...</a></div><br/></div></div><div id="37498012" class="c"><input type="checkbox" id="c-37498012" checked=""/><div class="controls bullet"><span class="by">ChrisSD</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37494075">parent</a><span>|</span><a href="#37494269">prev</a><span>|</span><a href="#37494161">next</a><span>|</span><label class="collapse" for="c-37498012">[-]</label><label class="expand" for="c-37498012">[1 more]</label></div><br/><div class="children"><div class="content">Notably Rust&#x27;s standard library does allow deleting files it opens by default. <a href="https:&#x2F;&#x2F;github.com&#x2F;rust-lang&#x2F;rust&#x2F;blob&#x2F;735bb7e5df185cc24e56533abd0bbab510931f6f&#x2F;library&#x2F;std&#x2F;src&#x2F;sys&#x2F;windows&#x2F;fs.rs#L190C19-L190C19">https:&#x2F;&#x2F;github.com&#x2F;rust-lang&#x2F;rust&#x2F;blob&#x2F;735bb7e5df185cc24e565...</a><p>While full Unix-like behaviour is only available on Windows 10 for the past five or so years, you can still have the old win32 behaviour on older systems (delete once the last file handle is closed).</div><br/></div></div></div></div><div id="37494161" class="c"><input type="checkbox" id="c-37494161" checked=""/><div class="controls bullet"><span class="by">nextaccountic</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37493980">parent</a><span>|</span><a href="#37494075">prev</a><span>|</span><a href="#37494393">next</a><span>|</span><label class="collapse" for="c-37494161">[-]</label><label class="expand" for="c-37494161">[2 more]</label></div><br/><div class="children"><div class="content">Can a running executable start with this flag, so that its file can be removed?</div><br/><div id="37494312" class="c"><input type="checkbox" id="c-37494312" checked=""/><div class="controls bullet"><span class="by">dist-epoch</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37494161">parent</a><span>|</span><a href="#37494393">next</a><span>|</span><label class="collapse" for="c-37494312">[-]</label><label class="expand" for="c-37494312">[1 more]</label></div><br/><div class="children"><div class="content">Probably not, since Windows uses the executable file as backing for memory mapping.</div><br/></div></div></div></div></div></div><div id="37494393" class="c"><input type="checkbox" id="c-37494393" checked=""/><div class="controls bullet"><span class="by">the8472</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37493800">parent</a><span>|</span><a href="#37493980">prev</a><span>|</span><a href="#37494656">next</a><span>|</span><label class="collapse" for="c-37494393">[-]</label><label class="expand" for="c-37494393">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think that&#x27;s true any longer. Windows now defaults to setting FILE_DISPOSITION_POSIX_SEMANTICS<p><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;60424732&#x2F;1362755" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;60424732&#x2F;1362755</a></div><br/></div></div><div id="37494656" class="c"><input type="checkbox" id="c-37494656" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37493800">parent</a><span>|</span><a href="#37494393">prev</a><span>|</span><a href="#37493927">next</a><span>|</span><label class="collapse" for="c-37494656">[-]</label><label class="expand" for="c-37494656">[2 more]</label></div><br/><div class="children"><div class="content">But there must be an API to unlock files that programs like &quot;The Unlocker&quot; use? Or do they just enumerate the other processes handles to that file and close them?</div><br/><div id="37496809" class="c"><input type="checkbox" id="c-37496809" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37494656">parent</a><span>|</span><a href="#37493927">next</a><span>|</span><label class="collapse" for="c-37496809">[-]</label><label class="expand" for="c-37496809">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Or do they just enumerate the other processes handles to that file and close them?<p>AFAIK, that&#x27;s exactly what they do. And it can cause problems, see for instance <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;previous-versions&#x2F;technet-magazine&#x2F;dd547078%28v=msdn.10%29" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;previous-versions&#x2F;technet-...</a></div><br/></div></div></div></div><div id="37493927" class="c"><input type="checkbox" id="c-37493927" checked=""/><div class="controls bullet"><span class="by">anticensor</span><span>|</span><a href="#37493318">root</a><span>|</span><a href="#37493800">parent</a><span>|</span><a href="#37494656">prev</a><span>|</span><a href="#37497404">next</a><span>|</span><label class="collapse" for="c-37493927">[-]</label><label class="expand" for="c-37493927">[1 more]</label></div><br/><div class="children"><div class="content">Tne kernel actually allows for that, but Win32 apparently does not.</div><br/></div></div></div></div></div></div><div id="37492677" class="c"><input type="checkbox" id="c-37492677" checked=""/><div class="controls bullet"><span class="by">hooby</span><span>|</span><a href="#37493318">prev</a><span>|</span><a href="#37494604">next</a><span>|</span><label class="collapse" for="c-37492677">[-]</label><label class="expand" for="c-37492677">[2 more]</label></div><br/><div class="children"><div class="content">Reading stuff like that, just makes me love package managers even more :)</div><br/></div></div><div id="37494604" class="c"><input type="checkbox" id="c-37494604" checked=""/><div class="controls bullet"><span class="by">WesSouza</span><span>|</span><a href="#37492677">prev</a><span>|</span><label class="collapse" for="c-37494604">[-]</label><label class="expand" for="c-37494604">[3 more]</label></div><br/><div class="children"><div class="content">I love how it goes from hardcore x86 assembly right into beautiful JavaScript lol.</div><br/></div></div></div></div></div></div></div></body></html>