<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731920460311" as="style"/><link rel="stylesheet" href="styles.css?v=1731920460311"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://arxiv.org/abs/2210.00714">It&#x27;s Time to Replace TCP in the Datacenter</a> <span class="domain">(<a href="https://arxiv.org">arxiv.org</a>)</span></div><div class="subtext"><span>ilove_banh_mi</span> | <span>48 comments</span></div><br/><div><div id="42170007" class="c"><input type="checkbox" id="c-42170007" checked=""/><div class="controls bullet"><span class="by">UltraSane</span><span>|</span><a href="#42169811">next</a><span>|</span><label class="collapse" for="c-42170007">[-]</label><label class="expand" for="c-42170007">[4 more]</label></div><br/><div class="children"><div class="content">I wonder why Fibre Channel isn&#x27;t used as a replacement for TCP in the datacenter. It is a very robust L3 protocol. It was designed to connect block storage devices to servers while making the OS think they are directly connected. OSs do NOT tolerate dropped data when reading and writing to block devices and so Fibre Channel has a extremely robust Token Bucket algorithm. The algo prevents congestion by allowing receivers to control how much data senders can send. I have worked with a lot of VMware clusters that use FC to connect servers to storage arrays and it has ALWAYS worked perfectly.</div><br/><div id="42170384" class="c"><input type="checkbox" id="c-42170384" checked=""/><div class="controls bullet"><span class="by">Sebb767</span><span>|</span><a href="#42170007">parent</a><span>|</span><a href="#42170465">next</a><span>|</span><label class="collapse" for="c-42170384">[-]</label><label class="expand" for="c-42170384">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I wonder why Fibre Channel isn&#x27;t used as a replacement for TCP in the datacenter<p>But it is often used for block storage in datacenters. Using it for anything else is going to be hard, as it is incompatible with TCP.<p>The problem with not using TCP is the same thing HOMA will face - anything already speaks TCP, nearly all potential hires know TCP and most problems you have with TCP have been solved by smart engineers already. Hardware is also easily available. Once you drop all those advantages, either your scale or your gains need to be massive to make that investment worth it, which is why TCP replacements are so rare outside of FAANG.</div><br/></div></div><div id="42170465" class="c"><input type="checkbox" id="c-42170465" checked=""/><div class="controls bullet"><span class="by">YZF</span><span>|</span><a href="#42170007">parent</a><span>|</span><a href="#42170384">prev</a><span>|</span><a href="#42170698">next</a><span>|</span><label class="collapse" for="c-42170465">[-]</label><label class="expand" for="c-42170465">[1 more]</label></div><br/><div class="children"><div class="content">Are you suggesting some protocol layer of Fibre Channel to be used over IP over Ethernet?<p>TCP (in practice) runs on top of (mostly) routed IP networks and network architectures. E.g. a spine&#x2F;leaf network with BGP. Fibre Channel as I understand it is mostly used in more or less point to point connections? I do see some mention of &quot;Switched Fabric&quot; but is that very common?</div><br/></div></div><div id="42170698" class="c"><input type="checkbox" id="c-42170698" checked=""/><div class="controls bullet"><span class="by">wejick</span><span>|</span><a href="#42170007">parent</a><span>|</span><a href="#42170465">prev</a><span>|</span><a href="#42169811">next</a><span>|</span><label class="collapse" for="c-42170698">[-]</label><label class="expand" for="c-42170698">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m imagining having a shared memory mounted as block storages then do the RPC thru this block. Some synchronization and polling&#x2F;notifications work will need to be done.</div><br/></div></div></div></div><div id="42169811" class="c"><input type="checkbox" id="c-42169811" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#42170007">prev</a><span>|</span><a href="#42170451">next</a><span>|</span><label class="collapse" for="c-42169811">[-]</label><label class="expand" for="c-42169811">[2 more]</label></div><br/><div class="children"><div class="content">&gt; If Homa becomes widely deployed, I hypothesize that core congestion will cease to exist as a significant networking problem, as long as the core is not systemically overloaded.<p>Yep.  Sure;  but,  what happens when it becomes overloaded?<p>&gt; Homa manages congestion from the receiver, not the sender. [...] but the remaining scheduled packets may only be sent in response to grants from the receiver<p>I hypothesize it will not be a great day when you do become &quot;systemically&quot; overloaded.</div><br/><div id="42170099" class="c"><input type="checkbox" id="c-42170099" checked=""/><div class="controls bullet"><span class="by">andrewflnr</span><span>|</span><a href="#42169811">parent</a><span>|</span><a href="#42170451">next</a><span>|</span><label class="collapse" for="c-42170099">[-]</label><label class="expand" for="c-42170099">[1 more]</label></div><br/><div class="children"><div class="content">Will it be a worse day than it would be with TCP? Either way, the only solution is to add more hardware, unless I&#x27;m misunderstanding the term &quot;systemically overloaded&quot;.</div><br/></div></div></div></div><div id="42170451" class="c"><input type="checkbox" id="c-42170451" checked=""/><div class="controls bullet"><span class="by">parasubvert</span><span>|</span><a href="#42169811">prev</a><span>|</span><a href="#42169682">next</a><span>|</span><label class="collapse" for="c-42170451">[-]</label><label class="expand" for="c-42170451">[1 more]</label></div><br/><div class="children"><div class="content">This has already been done at scale with HTTP&#x2F;3 (QUIC), it&#x27;s just not widely distributed beyond the largest sites &amp; most popular web browsers.  gRPC for example is still on multiplexed TCP via HTTP&#x2F;2, which is &quot;good enough&quot; for many.<p>Though it doesn&#x27;t really replace TCP, it&#x27;s just that the predominant requirements have changed (as Ousterhout points out).   Bruce Davie has a series of articles on this:  <a href="https:&#x2F;&#x2F;systemsapproach.substack.com&#x2F;p&#x2F;quic-is-not-a-tcp-replacement" rel="nofollow">https:&#x2F;&#x2F;systemsapproach.substack.com&#x2F;p&#x2F;quic-is-not-a-tcp-rep...</a><p>Also see Ivan Pepelnjak&#x27;s commentary (he disagrees with Ousterhout): <a href="https:&#x2F;&#x2F;blog.ipspace.net&#x2F;2023&#x2F;01&#x2F;data-center-tcp-replacement&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.ipspace.net&#x2F;2023&#x2F;01&#x2F;data-center-tcp-replacement...</a></div><br/></div></div><div id="42169682" class="c"><input type="checkbox" id="c-42169682" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42170451">prev</a><span>|</span><a href="#42170020">next</a><span>|</span><label class="collapse" for="c-42169682">[-]</label><label class="expand" for="c-42169682">[1 more]</label></div><br/><div class="children"><div class="content">Previous discussions:<p>Homa, a transport protocol to replace TCP for low-latency RPC in data centers <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28204808">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28204808</a><p>Linux implementation of Homa <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28440542">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28440542</a></div><br/></div></div><div id="42170020" class="c"><input type="checkbox" id="c-42170020" checked=""/><div class="controls bullet"><span class="by">slt2021</span><span>|</span><a href="#42169682">prev</a><span>|</span><a href="#42170757">next</a><span>|</span><label class="collapse" for="c-42170020">[-]</label><label class="expand" for="c-42170020">[3 more]</label></div><br/><div class="children"><div class="content">the problem with trying to replace TCP only inside DC, is because TCP will still be used outside DC.<p>Networking Engineering is already convoluted and troublesome as it is right now, using only tcp stack.<p>When you start using homa inside, but TCP from outside things will break, because a lot of DC requests are created as a response for an inbound request from outside DC (like a client trying to send RPC request).<p>I cannot imagine trying to troubleshoot hybrid problems at the intersection of tcp and homa, its gonna be a nightmare.<p>Plus I don&#x27;t understand why create a a new L4 transport protocol for a specific L7 application (RPC)? This seems like a suboptimal choice, because RPC of today could be replaced with something completely different, like RDMA over Ethernet for AI workloads or transfer of large streams like training data&#x2F;AI model state.<p>I think tuning TCP stack in the kernel, adding more configuration knobs for TCP, switching from stream(tcp) to packet (udp) protocols where it is warranted, will give more incremental benefits.<p>One major thing author missed is security applications, these are considered table stakes:
1. encryption in transit: handshake&#x2F;negotiation
2. ability to intercept and do traffic inspection for enterprise security purposes
3. resistance to attacks like flood
4. security of sockets in containerized Linux environment</div><br/><div id="42170268" class="c"><input type="checkbox" id="c-42170268" checked=""/><div class="controls bullet"><span class="by">jayd16</span><span>|</span><a href="#42170020">parent</a><span>|</span><a href="#42170162">next</a><span>|</span><label class="collapse" for="c-42170268">[-]</label><label class="expand" for="c-42170268">[1 more]</label></div><br/><div class="children"><div class="content">Are you imagining external TCP traffic will be translated at the load balancer or are you actually worried that requests out of an API Gateway need to be identical to what goes in?<p>I could see the former being an issue (if that&#x27;s even implied by &quot;inside the data center&quot;) and I just don&#x27;t see how it&#x27;s a problem for the latter.</div><br/></div></div><div id="42170162" class="c"><input type="checkbox" id="c-42170162" checked=""/><div class="controls bullet"><span class="by">nicman23</span><span>|</span><a href="#42170020">parent</a><span>|</span><a href="#42170268">prev</a><span>|</span><a href="#42170757">next</a><span>|</span><label class="collapse" for="c-42170162">[-]</label><label class="expand" for="c-42170162">[1 more]</label></div><br/><div class="children"><div class="content">only thing homa makes sense is when there is no external tcp to the peers or at least not on the same context ie for roce</div><br/></div></div></div></div><div id="42170757" class="c"><input type="checkbox" id="c-42170757" checked=""/><div class="controls bullet"><span class="by">Woodi</span><span>|</span><a href="#42170020">prev</a><span>|</span><a href="#42169683">next</a><span>|</span><label class="collapse" for="c-42170757">[-]</label><label class="expand" for="c-42170757">[1 more]</label></div><br/><div class="children"><div class="content">You want to replace TCP becouse it is bad ? Then give better &quot;connected&quot; protocol over raw IP and other raw network topologies. Use it. Done.<p>Don&#x27;t mess with another IP -&gt; UDP -&gt; something</div><br/></div></div><div id="42169683" class="c"><input type="checkbox" id="c-42169683" checked=""/><div class="controls bullet"><span class="by">unsnap_biceps</span><span>|</span><a href="#42170757">prev</a><span>|</span><a href="#42170819">next</a><span>|</span><label class="collapse" for="c-42169683">[-]</label><label class="expand" for="c-42169683">[2 more]</label></div><br/><div class="children"><div class="content">The original paper was discussed previously at <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33401480">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33401480</a></div><br/><div id="42170366" class="c"><input type="checkbox" id="c-42170366" checked=""/><div class="controls bullet"><span class="by">parasubvert</span><span>|</span><a href="#42169683">parent</a><span>|</span><a href="#42170819">next</a><span>|</span><label class="collapse" for="c-42170366">[-]</label><label class="expand" for="c-42170366">[1 more]</label></div><br/><div class="children"><div class="content">and here, from an LWN analysis. <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33538649">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33538649</a></div><br/></div></div></div></div><div id="42170819" class="c"><input type="checkbox" id="c-42170819" checked=""/><div class="controls bullet"><span class="by">indolering</span><span>|</span><a href="#42169683">prev</a><span>|</span><a href="#42170575">next</a><span>|</span><label class="collapse" for="c-42170819">[-]</label><label class="expand" for="c-42170819">[1 more]</label></div><br/><div class="children"><div class="content">So token ring?</div><br/></div></div><div id="42170575" class="c"><input type="checkbox" id="c-42170575" checked=""/><div class="controls bullet"><span class="by">GoblinSlayer</span><span>|</span><a href="#42170819">prev</a><span>|</span><a href="#42170076">next</a><span>|</span><label class="collapse" for="c-42170575">[-]</label><label class="expand" for="c-42170575">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For many years, RDMA
NICs could cache the state for only a few hundred connections; if the number of active connections exceeded the cache
size, information had to be shuffled between host memory and
the NIC, with a considerable loss in performance.<p>A massively parallel task? Sounds like something doable with GPGPU.</div><br/></div></div><div id="42170076" class="c"><input type="checkbox" id="c-42170076" checked=""/><div class="controls bullet"><span class="by">runlaszlorun</span><span>|</span><a href="#42170575">prev</a><span>|</span><a href="#42169691">next</a><span>|</span><label class="collapse" for="c-42170076">[-]</label><label class="expand" for="c-42170076">[2 more]</label></div><br/><div class="children"><div class="content">For those who might not have noticed, the author is John Ousterhout- best known for TCL&#x2F;Tk as well as the Raft consensus protocol among others.</div><br/><div id="42170117" class="c"><input type="checkbox" id="c-42170117" checked=""/><div class="controls bullet"><span class="by">signa11</span><span>|</span><a href="#42170076">parent</a><span>|</span><a href="#42169691">next</a><span>|</span><label class="collapse" for="c-42170117">[-]</label><label class="expand" for="c-42170117">[1 more]</label></div><br/><div class="children"><div class="content">and more recently (?) the book : “a philosophy of software design”, highly recommended !</div><br/></div></div></div></div><div id="42169691" class="c"><input type="checkbox" id="c-42169691" checked=""/><div class="controls bullet"><span class="by">ksec</span><span>|</span><a href="#42170076">prev</a><span>|</span><a href="#42170457">next</a><span>|</span><label class="collapse" for="c-42169691">[-]</label><label class="expand" for="c-42169691">[1 more]</label></div><br/><div class="children"><div class="content">Homa: A Receiver-Driven Low-Latency Transport Protocol Using Network Priorities<p><a href="https:&#x2F;&#x2F;people.csail.mit.edu&#x2F;alizadeh&#x2F;papers&#x2F;homa-sigcomm18.pdf" rel="nofollow">https:&#x2F;&#x2F;people.csail.mit.edu&#x2F;alizadeh&#x2F;papers&#x2F;homa-sigcomm18....</a></div><br/></div></div><div id="42170457" class="c"><input type="checkbox" id="c-42170457" checked=""/><div class="controls bullet"><span class="by">dveeden2</span><span>|</span><a href="#42169691">prev</a><span>|</span><a href="#42170284">next</a><span>|</span><label class="collapse" for="c-42170457">[-]</label><label class="expand" for="c-42170457">[3 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t something like HOMA already tried with SCTP?</div><br/><div id="42170627" class="c"><input type="checkbox" id="c-42170627" checked=""/><div class="controls bullet"><span class="by">iforgotpassword</span><span>|</span><a href="#42170457">parent</a><span>|</span><a href="#42170284">next</a><span>|</span><label class="collapse" for="c-42170627">[-]</label><label class="expand" for="c-42170627">[2 more]</label></div><br/><div class="children"><div class="content">And QUIC. And that thing tesla presented recently, with custom silicon even.<p>And as usual, hardware gets faster, better and cheaper over the next years and suddenly the problem isn&#x27;t a problem anymore - if it even ever was for the vast majority of applications. We only recently got a new fleet of compute nodes with 100gbit NICs. The previous one only had 10, plus omnipath. We&#x27;re going ethernet only this time.<p>I remember when saturating 10gbit&#x2F;s was a challenge. This time around, reaching line speed with tcp, the server didn&#x27;t even break a sweat. No jumbo frames, no fiddling with tunables. And that actually was while testing with 4 years old xeon boxes, not even the final hw.<p>Again, I can see how there are use cases that benefit from even lower latency, but thats a niche compared to all DC business, and I&#x27;d assume you might just want rdma in that case, instead of optimizing on top of ethernet or IP.</div><br/><div id="42170689" class="c"><input type="checkbox" id="c-42170689" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#42170457">root</a><span>|</span><a href="#42170627">parent</a><span>|</span><a href="#42170284">next</a><span>|</span><label class="collapse" for="c-42170689">[-]</label><label class="expand" for="c-42170689">[1 more]</label></div><br/><div class="children"><div class="content">This is a solid answer, as someone on the ground.  TCP is not the bogeyman people point it out to be.  It&#x27;s the poison apple where some folks are looking for low hanging fruit.</div><br/></div></div></div></div></div></div><div id="42170284" class="c"><input type="checkbox" id="c-42170284" checked=""/><div class="controls bullet"><span class="by">freetanga</span><span>|</span><a href="#42170457">prev</a><span>|</span><a href="#42169749">next</a><span>|</span><label class="collapse" for="c-42170284">[-]</label><label class="expand" for="c-42170284">[2 more]</label></div><br/><div class="children"><div class="content">So, back to the mainframe and SNA in the data centers?</div><br/><div id="42170319" class="c"><input type="checkbox" id="c-42170319" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42170284">parent</a><span>|</span><a href="#42169749">next</a><span>|</span><label class="collapse" for="c-42170319">[-]</label><label class="expand" for="c-42170319">[1 more]</label></div><br/><div class="children"><div class="content">If Rosenblum can get an award for rediscovering mainframe virtualization, why not give Ousterhout an award for rediscovering SNA?<p>(SNA was before my time so I have no idea if Homa is similar or not.)</div><br/></div></div></div></div><div id="42169749" class="c"><input type="checkbox" id="c-42169749" checked=""/><div class="controls bullet"><span class="by">7e</span><span>|</span><a href="#42170284">prev</a><span>|</span><a href="#42170104">next</a><span>|</span><label class="collapse" for="c-42169749">[-]</label><label class="expand" for="c-42169749">[10 more]</label></div><br/><div class="children"><div class="content">TCP was replaced in the data centers of certain FAANG companies years before this paper.</div><br/><div id="42169769" class="c"><input type="checkbox" id="c-42169769" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42169749">parent</a><span>|</span><a href="#42170102">next</a><span>|</span><label class="collapse" for="c-42169769">[-]</label><label class="expand" for="c-42169769">[3 more]</label></div><br/><div class="children"><div class="content">If they keep it secret they don&#x27;t get credit for it.</div><br/><div id="42170116" class="c"><input type="checkbox" id="c-42170116" checked=""/><div class="controls bullet"><span class="by">andrewflnr</span><span>|</span><a href="#42169749">root</a><span>|</span><a href="#42169769">parent</a><span>|</span><a href="#42170102">next</a><span>|</span><label class="collapse" for="c-42170116">[-]</label><label class="expand" for="c-42170116">[2 more]</label></div><br/><div class="children"><div class="content">How do you figure? The right decision is the right decision, even if you don&#x27;t tell people. (granting, for the sake of argument, that it is the right decision)</div><br/><div id="42170254" class="c"><input type="checkbox" id="c-42170254" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42169749">root</a><span>|</span><a href="#42170116">parent</a><span>|</span><a href="#42170102">next</a><span>|</span><label class="collapse" for="c-42170254">[-]</label><label class="expand" for="c-42170254">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, you get the benefit of secret tech (in this case faster networking) but people shouldn&#x27;t give social credit for it because that creates incentives to lie. And, sadly, tech adoption runs entirely on social proof.</div><br/></div></div></div></div></div></div><div id="42170102" class="c"><input type="checkbox" id="c-42170102" checked=""/><div class="controls bullet"><span class="by">albert_e</span><span>|</span><a href="#42169749">parent</a><span>|</span><a href="#42169769">prev</a><span>|</span><a href="#42169770">next</a><span>|</span><label class="collapse" for="c-42170102">[-]</label><label class="expand" for="c-42170102">[3 more]</label></div><br/><div class="children"><div class="content">Curious ... replaced with what, I would like to know.</div><br/><div id="42170388" class="c"><input type="checkbox" id="c-42170388" checked=""/><div class="controls bullet"><span class="by">parasubvert</span><span>|</span><a href="#42169749">root</a><span>|</span><a href="#42170102">parent</a><span>|</span><a href="#42169770">next</a><span>|</span><label class="collapse" for="c-42170388">[-]</label><label class="expand" for="c-42170388">[2 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;3 aka QUIC (UDP).</div><br/><div id="42170505" class="c"><input type="checkbox" id="c-42170505" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#42169749">root</a><span>|</span><a href="#42170388">parent</a><span>|</span><a href="#42169770">next</a><span>|</span><label class="collapse" for="c-42170505">[-]</label><label class="expand" for="c-42170505">[1 more]</label></div><br/><div class="children"><div class="content">Or SRD, in AWS: <a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;hpc&#x2F;in-the-search-for-performance-theres-more-than-one-way-to-build-a-network&#x2F;" rel="nofollow">https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;hpc&#x2F;in-the-search-for-performan...</a></div><br/></div></div></div></div></div></div><div id="42169770" class="c"><input type="checkbox" id="c-42169770" checked=""/><div class="controls bullet"><span class="by">bushbaba</span><span>|</span><a href="#42169749">parent</a><span>|</span><a href="#42170102">prev</a><span>|</span><a href="#42170104">next</a><span>|</span><label class="collapse" for="c-42169770">[-]</label><label class="expand" for="c-42169770">[3 more]</label></div><br/><div class="children"><div class="content">*minority of the fangs.</div><br/><div id="42169942" class="c"><input type="checkbox" id="c-42169942" checked=""/><div class="controls bullet"><span class="by">avardaro</span><span>|</span><a href="#42169749">root</a><span>|</span><a href="#42169770">parent</a><span>|</span><a href="#42170104">next</a><span>|</span><label class="collapse" for="c-42169942">[-]</label><label class="expand" for="c-42169942">[2 more]</label></div><br/><div class="children"><div class="content">A minority? What large tech company has not prioritized this?</div><br/><div id="42169991" class="c"><input type="checkbox" id="c-42169991" checked=""/><div class="controls bullet"><span class="by">cdchn</span><span>|</span><a href="#42169749">root</a><span>|</span><a href="#42169942">parent</a><span>|</span><a href="#42170104">next</a><span>|</span><label class="collapse" for="c-42169991">[-]</label><label class="expand" for="c-42169991">[1 more]</label></div><br/><div class="children"><div class="content">Which have and with what?</div><br/></div></div></div></div></div></div></div></div><div id="42170104" class="c"><input type="checkbox" id="c-42170104" checked=""/><div class="controls bullet"><span class="by">stiray</span><span>|</span><a href="#42169749">prev</a><span>|</span><a href="#42169881">next</a><span>|</span><label class="collapse" for="c-42170104">[-]</label><label class="expand" for="c-42170104">[3 more]</label></div><br/><div class="children"><div class="content">How long did we need to support ipv6? Is it supported yet and more widely in use than the ipv4, like in mobile networks where everything is stashed behind NAT and ipv4 kept?<p>Another protocol, something completely new? Good luck with that, i would rather bet on global warming to put us out of our misery (&#x2F;s)...<p><a href="https:&#x2F;&#x2F;imgs.xkcd.com&#x2F;comics&#x2F;standards.png" rel="nofollow">https:&#x2F;&#x2F;imgs.xkcd.com&#x2F;comics&#x2F;standards.png</a></div><br/><div id="42170393" class="c"><input type="checkbox" id="c-42170393" checked=""/><div class="controls bullet"><span class="by">detaro</span><span>|</span><a href="#42170104">parent</a><span>|</span><a href="#42169881">next</a><span>|</span><label class="collapse" for="c-42170393">[-]</label><label class="expand" for="c-42170393">[2 more]</label></div><br/><div class="children"><div class="content">Mobile networks especially are widely IPv6, with IPv4 being translated&#x2F;tunneled where still needed. (End-user connections in general skew IPv6 in many places - it&#x27;s observable how traffic patterns shift with people being at work vs at home. Corporate networks without IPv6 leading to more IPv4 traffic during the day, in the evening IPv6 from consumer connections takes over)</div><br/><div id="42170516" class="c"><input type="checkbox" id="c-42170516" checked=""/><div class="controls bullet"><span class="by">stiray</span><span>|</span><a href="#42170104">root</a><span>|</span><a href="#42170393">parent</a><span>|</span><a href="#42169881">next</a><span>|</span><label class="collapse" for="c-42170516">[-]</label><label class="expand" for="c-42170516">[1 more]</label></div><br/><div class="children"><div class="content">Android: Settings -&gt; About (just checked mine, 10.<i>.</i>.*), check your IP. We have 3 providers in our country, all 3 are using ipv4 &quot;lan&quot; for phone connectivity, behind NAT and I am observing this situation around most of EU (Germany, Austria, Portugal, Italy, Spain, France, various providers).</div><br/></div></div></div></div></div></div><div id="42169881" class="c"><input type="checkbox" id="c-42169881" checked=""/><div class="controls bullet"><span class="by">yesbut</span><span>|</span><a href="#42170104">prev</a><span>|</span><a href="#42170018">next</a><span>|</span><label class="collapse" for="c-42169881">[-]</label><label class="expand" for="c-42169881">[2 more]</label></div><br/><div class="children"><div class="content">Another thing not worth investing time into for the rest of our careers. TCP will be around for decades to come.</div><br/><div id="42170496" class="c"><input type="checkbox" id="c-42170496" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#42169881">parent</a><span>|</span><a href="#42170018">next</a><span>|</span><label class="collapse" for="c-42170496">[-]</label><label class="expand" for="c-42170496">[1 more]</label></div><br/><div class="children"><div class="content">True! And chances are, if you&#x27;re developing website software or video game software, you&#x27;ll never think about these sorts of things, it&#x27;ll just be a dumb pipe for you, still.<p>And that&#x27;s okay!<p>But there are other sorts of computer people than website writers and business application devs, and they&#x27;re some of the people this would be interesting for!</div><br/></div></div></div></div><div id="42170018" class="c"><input type="checkbox" id="c-42170018" checked=""/><div class="controls bullet"><span class="by">bmitc</span><span>|</span><a href="#42169881">prev</a><span>|</span><label class="collapse" for="c-42170018">[-]</label><label class="expand" for="c-42170018">[8 more]</label></div><br/><div class="children"><div class="content">Unrelated to this article, are there any reasons to use TCP&#x2F;IP over WebSockets? The latter is such a clean, message-based interface that I don&#x27;t see a reason to use TCP&#x2F;IP.</div><br/><div id="42170083" class="c"><input type="checkbox" id="c-42170083" checked=""/><div class="controls bullet"><span class="by">tacitusarc</span><span>|</span><a href="#42170018">parent</a><span>|</span><a href="#42170219">next</a><span>|</span><label class="collapse" for="c-42170083">[-]</label><label class="expand" for="c-42170083">[5 more]</label></div><br/><div class="children"><div class="content">Websockets is a layer on top of TCP&#x2F;IP.</div><br/><div id="42170167" class="c"><input type="checkbox" id="c-42170167" checked=""/><div class="controls bullet"><span class="by">bmitc</span><span>|</span><a href="#42170018">root</a><span>|</span><a href="#42170083">parent</a><span>|</span><a href="#42170219">next</a><span>|</span><label class="collapse" for="c-42170167">[-]</label><label class="expand" for="c-42170167">[4 more]</label></div><br/><div class="children"><div class="content">Yes, I know that WebSockets layer over TCP&#x2F;IP. But that both misses the point and is part of the point. The reason that I ask is that WebSockets seem to almost always be used in the context of web applications. TCP&#x2F;IP still seems to dominate control communications between hardware. But why not WebSockets? Almost everyone ends up building a message framing protocol on top of TCP&#x2F;IP, so why not just use WebSockets which has bi-directional message framing built-in? I&#x27;m just not seeing why WebSockets aren&#x27;t as ubiquitous as TCP&#x2F;IP and only seem to be relegated to web applications.</div><br/><div id="42170305" class="c"><input type="checkbox" id="c-42170305" checked=""/><div class="controls bullet"><span class="by">dataviz1000</span><span>|</span><a href="#42170018">root</a><span>|</span><a href="#42170167">parent</a><span>|</span><a href="#42170288">next</a><span>|</span><label class="collapse" for="c-42170305">[-]</label><label class="expand" for="c-42170305">[1 more]</label></div><br/><div class="children"><div class="content">There isn&#x27;t much of a difference between a router between two machines physically next to each other and a router in Kansas connecting a machine in California with a machine in Miami. The packets of data are wrapped with an address of where they are going in the header.<p>WebSockets are long lived socket connection designed specifically for use on the &#x27;web&#x27;. TCP is data sent wrapped in packets that is ordered and guaranteed delivery. This causes a massive overhead cost. This is different from UDP which doesn&#x27;t guarantee order and delivery. However, a packet sent over UDP might arrive tomorrow after it goes around the world a few times.<p>With fetch() or XMLHttpRequest, the client has to use energy and time to open a new HTTP connection while a WebSocket opens a long lived connection. When sending lots of bi directional messages it makes sense to have a WebSocket. However, a simple fetch() request is easier to develop. A developer needs to good reason to use the more complicated WebSocket.<p>Regardless, they both send messages using TCP which ensures the order of packets and guaranteed delivery which features have a lot to do with why TCP is the first choice.<p>There is UDP which is used by WebRTC which is good for information like voice or video which can have missing and unordered packets occasionally.<p>If two different processes on the same machine want to communicate, they can use a Unix socket. A Unix socket creates a special file (socket file) in the filesystem, which both processes can use to establish a connection and exchange data directly through the socket, not by reading and writing to the file itself. But the Unix Socket doesn&#x27;t have to deal with routing data packets.<p>(ChatGPT says &quot;Overall, you have a solid grasp of the concepts, and your statements are largely accurate with some minor clarifications needed.&quot;)</div><br/></div></div><div id="42170288" class="c"><input type="checkbox" id="c-42170288" checked=""/><div class="controls bullet"><span class="by">j16sdiz</span><span>|</span><a href="#42170018">root</a><span>|</span><a href="#42170167">parent</a><span>|</span><a href="#42170305">prev</a><span>|</span><a href="#42170296">next</a><span>|</span><label class="collapse" for="c-42170288">[-]</label><label class="expand" for="c-42170288">[1 more]</label></div><br/><div class="children"><div class="content">WebSocket is fairly inefficient protocol. and it needs to deal with the upgrade from HTTP. and you still need to implement you app specific protocol. This is adding complexity without additional benefit<p>It make sense only if you have an websocket based stack and don&#x27;t want to maintain a second protocol.</div><br/></div></div><div id="42170296" class="c"><input type="checkbox" id="c-42170296" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42170018">root</a><span>|</span><a href="#42170167">parent</a><span>|</span><a href="#42170288">prev</a><span>|</span><a href="#42170219">next</a><span>|</span><label class="collapse" for="c-42170296">[-]</label><label class="expand" for="c-42170296">[1 more]</label></div><br/><div class="children"><div class="content">Interesting point. For example, Web apps cannot speak BitTorrent (because Web apps are not allowed to use TCP) but they can speak WebTorrent over WebRTC and native apps can also speak WebTorrent. So in some sense a protocol that runs over WebSockets&#x2F;WebRTC is superior because Web apps and native apps can speak it.</div><br/></div></div></div></div></div></div><div id="42170086" class="c"><input type="checkbox" id="c-42170086" checked=""/><div class="controls bullet"><span class="by">tkin1980</span><span>|</span><a href="#42170018">parent</a><span>|</span><a href="#42170219">prev</a><span>|</span><label class="collapse" for="c-42170086">[-]</label><label class="expand" for="c-42170086">[1 more]</label></div><br/><div class="children"><div class="content">Well, Websocket is over TCP, so you already need it for that.</div><br/></div></div></div></div></div></div></div></div></div></body></html>