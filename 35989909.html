<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684486857597" as="style"/><link rel="stylesheet" href="styles.css?v=1684486857597"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://gist.github.com/antirez/6ca04dd191bdb82aad9fb241013e88a8">LMDB: The first version of Redis, written in Tcl (2009)</a> <span class="domain">(<a href="https://gist.github.com">gist.github.com</a>)</span></div><div class="subtext"><span>avinassh</span> | <span>65 comments</span></div><br/><div><div id="35990342" class="c"><input type="checkbox" id="c-35990342" checked=""/><div class="controls bullet"><span class="by">torh</span><span>|</span><a href="#35992409">next</a><span>|</span><label class="collapse" for="c-35990342">[-]</label><label class="expand" for="c-35990342">[2 more]</label></div><br/><div class="children"><div class="content">I would recommend going back 9 days and read the story behind Redis: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35871462" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35871462</a></div><br/><div id="35994116" class="c"><input type="checkbox" id="c-35994116" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#35990342">parent</a><span>|</span><a href="#35992409">next</a><span>|</span><label class="collapse" for="c-35994116">[-]</label><label class="expand" for="c-35994116">[1 more]</label></div><br/><div class="children"><div class="content">Thanks! Also related:<p><i>LMDB – First version of Redis written in Tcl</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14230960" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14230960</a> - April 2017 (25 comments)<p><i>Redis</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=494649" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=494649</a> - Feb 2009 (11 comments)</div><br/></div></div></div></div><div id="35992409" class="c"><input type="checkbox" id="c-35992409" checked=""/><div class="controls bullet"><span class="by">ben7799</span><span>|</span><a href="#35990342">prev</a><span>|</span><a href="#35990572">next</a><span>|</span><label class="collapse" for="c-35992409">[-]</label><label class="expand" for="c-35992409">[20 more]</label></div><br/><div class="children"><div class="content">I&#x27;m more surprised Tcl was used in 2009 than I am at any praise or complaint about the quality of Tcl.<p>I used Tcl and Expect (which was a very cool extension of Tcl) in the late 90s in some automation projects as an intern.   It did the job and yet I was aware of some of it&#x27;s issue.<p>But that was so far before 2009.   It felt like Tcl was almost done by 2000, I never saw it used again.  Perl came and went, Lua had arrived, Python had arrived, etc..<p>Tcl to me is like Python.. pretty good for small projects by a small team.  Not so desirable for a giant enterprise product&#x2F;platform with a big team.</div><br/><div id="35993345" class="c"><input type="checkbox" id="c-35993345" checked=""/><div class="controls bullet"><span class="by">antirez</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35994769">next</a><span>|</span><label class="collapse" for="c-35993345">[-]</label><label class="expand" for="c-35993345">[2 more]</label></div><br/><div class="children"><div class="content">I started with the goal to write a C implementation just after I could verify the idea. Yet this is a list of reasons why, back then at least, Tcl was a great choice to write a prototype:<p>- Tcl reference counting automatic mem management is extermely solid: it does not introduce any pause and is very consistent in long running processes. Another language I love is Ruby: when I used it for similar reasons, a few years later, I was shocked by how impossible it was to run long running processes in Ruby because of the garbage collector limitations.<p>- Now many languages support event-driven programming very well, but Tcl used to have this for many many years in 2009, it was rock solid.<p>So Tcl allowed to write something that was not fragile, but only limited in speed and with a large memory footprint. And that served very well as a proof of concept to validate the idea, and then switch to the C implementation.<p>This code never ran in production, if I remember correctly: I stopped the experiment as soon as I saw it working well <i>and</i> as soon as I understood the fork-based persistence I wanted to implement was impractical in Tcl.</div><br/></div></div><div id="35994769" class="c"><input type="checkbox" id="c-35994769" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35993345">prev</a><span>|</span><a href="#35998161">next</a><span>|</span><label class="collapse" for="c-35994769">[-]</label><label class="expand" for="c-35994769">[1 more]</label></div><br/><div class="children"><div class="content">TCL had great async I&#x2F;O back when virtually nothing else did. In a time that was pre-nodejs (I just checked, started in 2009) and when Python async I&#x2F;O was still a mess (Twisted worked great, but it wasn&#x27;t easy to work with), TCL would&#x27;ve been the obvious choice for a high-performance network server. (See e.g. AOLServer).<p>(I mean, the functional world had proper async support at that point - I&#x27;d probably have used Scala or OCaml - but a lot of people are scared of those languages)</div><br/></div></div><div id="35998161" class="c"><input type="checkbox" id="c-35998161" checked=""/><div class="controls bullet"><span class="by">forgotmypw17</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35994769">prev</a><span>|</span><a href="#35992633">next</a><span>|</span><label class="collapse" for="c-35998161">[-]</label><label class="expand" for="c-35998161">[1 more]</label></div><br/><div class="children"><div class="content">When I already know what I want to write, especially for MVP or PoC, I reach for the tool I&#x27;m most comfortable with.<p>In my case, it is Perl and HTML&#x2F;HTTP, and I don&#x27;t care if it&#x27;s not &quot;en vogue&quot; in the mainstream, it&#x27;s the quickest language I can prototype with.<p>Just because it&#x27;s not popular anymore doesn&#x27;t mean it can&#x27;t get the job done. Especially if you&#x27;re not using a lot of libraries, there are many reasons to use a less popular language, and few not to.</div><br/></div></div><div id="35992633" class="c"><input type="checkbox" id="c-35992633" checked=""/><div class="controls bullet"><span class="by">klodolph</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35998161">prev</a><span>|</span><a href="#35993554">next</a><span>|</span><label class="collapse" for="c-35992633">[-]</label><label class="expand" for="c-35992633">[2 more]</label></div><br/><div class="children"><div class="content">Tcl is super interesting from a historical point of view. It seems to hit about halfway between shell and Lisp.<p>With some small differences, it probably would have competed more directly against Perl, Python, or maybe Lua. As it is, it gave us Wish, plus a bunch of GUI wrappers for shell scripts, and we’re thankful for those.</div><br/><div id="35992804" class="c"><input type="checkbox" id="c-35992804" checked=""/><div class="controls bullet"><span class="by">ben7799</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992633">parent</a><span>|</span><a href="#35993554">next</a><span>|</span><label class="collapse" for="c-35992804">[-]</label><label class="expand" for="c-35992804">[1 more]</label></div><br/><div class="children"><div class="content">I think some of it back then was there was less internet communication and Tcl could be popular one place and Python was popular in another place and Perl popular in another team.<p>Now we discuss everything so much communities converge on a common choice.<p>Perl &amp; Tcl really share the issue that undisciplined developers could make really obfuscated code that was hard to decipher.</div><br/></div></div></div></div><div id="35993554" class="c"><input type="checkbox" id="c-35993554" checked=""/><div class="controls bullet"><span class="by">gilbetron</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35992633">prev</a><span>|</span><a href="#35993203">next</a><span>|</span><label class="collapse" for="c-35993554">[-]</label><label class="expand" for="c-35993554">[1 more]</label></div><br/><div class="children"><div class="content">My first job out of college used TCL in 1992, and I made a decent sized application with it. It was neat, but ultimately weird and kind of unwieldy, and definitely fraught with peril! In 1995, I left the job behind, thinking I&#x27;d never see TCL again.<p>Fast-forward to 2011 and I found myself in a new job where I was pointed at their middleware to do some enhancement, only to find myself in a TCL application yet again! Hopefully that was the last I&#x27;ll have to deal with it professionally, although it is kind of a nifty language.</div><br/></div></div><div id="35992967" class="c"><input type="checkbox" id="c-35992967" checked=""/><div class="controls bullet"><span class="by">sgt</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35993203">prev</a><span>|</span><a href="#35992760">next</a><span>|</span><label class="collapse" for="c-35992967">[-]</label><label class="expand" for="c-35992967">[9 more]</label></div><br/><div class="children"><div class="content">Makes me wonder, are there any current projects still using tcl? I know DDG is still using perl.</div><br/><div id="35993759" class="c"><input type="checkbox" id="c-35993759" checked=""/><div class="controls bullet"><span class="by">cmacleod4</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992967">parent</a><span>|</span><a href="#35993320">next</a><span>|</span><label class="collapse" for="c-35993759">[-]</label><label class="expand" for="c-35993759">[3 more]</label></div><br/><div class="children"><div class="content">Various projects and companies using Tcl are listed at <a href="https:&#x2F;&#x2F;wiki.tcl-lang.org&#x2F;page&#x2F;Who+Uses+Tcl" rel="nofollow">https:&#x2F;&#x2F;wiki.tcl-lang.org&#x2F;page&#x2F;Who+Uses+Tcl</a> .</div><br/><div id="35993837" class="c"><input type="checkbox" id="c-35993837" checked=""/><div class="controls bullet"><span class="by">sgt</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35993759">parent</a><span>|</span><a href="#35993320">next</a><span>|</span><label class="collapse" for="c-35993837">[-]</label><label class="expand" for="c-35993837">[2 more]</label></div><br/><div class="children"><div class="content">If it just had a fresher UI it would be just fine for most users.</div><br/><div id="35995627" class="c"><input type="checkbox" id="c-35995627" checked=""/><div class="controls bullet"><span class="by">wrenky</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35993837">parent</a><span>|</span><a href="#35993320">next</a><span>|</span><label class="collapse" for="c-35995627">[-]</label><label class="expand" for="c-35995627">[1 more]</label></div><br/><div class="children"><div class="content">I use Tcl daily for work and personally love it! Its syntax is weird but when it clicks things just make sense in a zen way. Much like getting into the groove in lisp or something, it _feels_ correct in that minute.<p>The main problem is just tooling. There are some insanely cool language features like Expect (still the best implementation) or starpacks&#x2F;starkits, yet there is no basic package manager. You are stuck installing via yum&#x2F;apt or building from source if you are lucky to find what you need. Most of the time you can just assume there isn&#x27;t something you can rely on, and you&#x27;ll have to patch source tcllib (the batteries included library).</div><br/></div></div></div></div></div></div><div id="35993320" class="c"><input type="checkbox" id="c-35993320" checked=""/><div class="controls bullet"><span class="by">fweimer</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992967">parent</a><span>|</span><a href="#35993759">prev</a><span>|</span><a href="#35993181">next</a><span>|</span><label class="collapse" for="c-35993320">[-]</label><label class="expand" for="c-35993320">[1 more]</label></div><br/><div class="children"><div class="content">gitk and “git gui” are written in Tcl&#x2F;Tk.<p>Some components of the GNU toolchain use dejagnu in their testsuite, which is based on expect and written in Tcl.<p>The SQLite testsuite uses Tcl, too.</div><br/></div></div><div id="35993181" class="c"><input type="checkbox" id="c-35993181" checked=""/><div class="controls bullet"><span class="by">bch</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992967">parent</a><span>|</span><a href="#35993320">prev</a><span>|</span><a href="#35993681">next</a><span>|</span><label class="collapse" for="c-35993181">[-]</label><label class="expand" for="c-35993181">[1 more]</label></div><br/><div class="children"><div class="content">F5 iRules, Cisco iOS (afaik), embedded in network storage devices, Argonne National Laboratory Swift&#x2F;T supercomputer control, …</div><br/></div></div><div id="35993681" class="c"><input type="checkbox" id="c-35993681" checked=""/><div class="controls bullet"><span class="by">formerly_proven</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992967">parent</a><span>|</span><a href="#35993181">prev</a><span>|</span><a href="#35994027">next</a><span>|</span><label class="collapse" for="c-35993681">[-]</label><label class="expand" for="c-35993681">[1 more]</label></div><br/><div class="children"><div class="content">Python ships with Tcl&#x2F;Tk for tkinter.</div><br/></div></div><div id="35994027" class="c"><input type="checkbox" id="c-35994027" checked=""/><div class="controls bullet"><span class="by">cozzyd</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992967">parent</a><span>|</span><a href="#35993681">prev</a><span>|</span><a href="#35994107">next</a><span>|</span><label class="collapse" for="c-35994027">[-]</label><label class="expand" for="c-35994027">[1 more]</label></div><br/><div class="children"><div class="content">tcl is heavily used in electronic design tools (e.g. Vivado).</div><br/></div></div><div id="35994107" class="c"><input type="checkbox" id="c-35994107" checked=""/><div class="controls bullet"><span class="by">Klonoar</span><span>|</span><a href="#35992409">root</a><span>|</span><a href="#35992967">parent</a><span>|</span><a href="#35994027">prev</a><span>|</span><a href="#35992760">next</a><span>|</span><label class="collapse" for="c-35994107">[-]</label><label class="expand" for="c-35994107">[1 more]</label></div><br/><div class="children"><div class="content">MacPorts.</div><br/></div></div></div></div><div id="35992760" class="c"><input type="checkbox" id="c-35992760" checked=""/><div class="controls bullet"><span class="by">yamtaddle</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35992967">prev</a><span>|</span><a href="#35993600">next</a><span>|</span><label class="collapse" for="c-35992760">[-]</label><label class="expand" for="c-35992760">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I used Tcl and Expect (which was a very cool extension of Tcl)<p>I used &quot;expect&quot; about five years ago to help automate deploying an app to a local Roku box from the command line. Much faster dev loop than having to upload a zip to a webpage hosted on the Roku box.</div><br/></div></div><div id="35993600" class="c"><input type="checkbox" id="c-35993600" checked=""/><div class="controls bullet"><span class="by">dfinninger</span><span>|</span><a href="#35992409">parent</a><span>|</span><a href="#35992760">prev</a><span>|</span><a href="#35990572">next</a><span>|</span><label class="collapse" for="c-35993600">[-]</label><label class="expand" for="c-35993600">[1 more]</label></div><br/><div class="children"><div class="content">I _started_ writing TCL in 2010. This was for EAD automation, and the software only had a TCL API, so probably just a historical quirk. But the company I was with had a lot of it to automate a lot of flows.</div><br/></div></div></div></div><div id="35990572" class="c"><input type="checkbox" id="c-35990572" checked=""/><div class="controls bullet"><span class="by">didip</span><span>|</span><a href="#35992409">prev</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35990572">[-]</label><label class="expand" for="c-35990572">[13 more]</label></div><br/><div class="children"><div class="content">I think this is relevant... These are 3 OSS databases that can be an alternative to Redis:<p>- KeyDB: <a href="https:&#x2F;&#x2F;github.com&#x2F;snapchat&#x2F;keydb">https:&#x2F;&#x2F;github.com&#x2F;snapchat&#x2F;keydb</a><p>- Dragonfly: <a href="https:&#x2F;&#x2F;github.com&#x2F;dragonflydb&#x2F;dragonfly">https:&#x2F;&#x2F;github.com&#x2F;dragonflydb&#x2F;dragonfly</a><p>- Skytable: <a href="https:&#x2F;&#x2F;github.com&#x2F;skytable&#x2F;skytable">https:&#x2F;&#x2F;github.com&#x2F;skytable&#x2F;skytable</a><p>I have used keyDB before. The raft consensus makes building an HA Redis easy.</div><br/><div id="35990897" class="c"><input type="checkbox" id="c-35990897" checked=""/><div class="controls bullet"><span class="by">danogentili</span><span>|</span><a href="#35990572">parent</a><span>|</span><a href="#35994101">next</a><span>|</span><label class="collapse" for="c-35990897">[-]</label><label class="expand" for="c-35990897">[3 more]</label></div><br/><div class="children"><div class="content">We use keydb at work, and I absolutely do NOT recommend it due to its extreme instability, in fact we&#x27;re currently in the process of switching to dragonfly precisely due to keydb&#x27;s instability.<p>Multimaster replication is convenient, but if you accidentally add the IP of the current replica to the replicaset, the entire cluster will crash if any of the nodes shuts down for any reason (note, not immediately, but days or even weeks after starting the cluster with everything working perfectly until one of the nodes crashes or shuts down).<p>Enabling diskless replication in multimaster mode causes either deadlocks, or immediate crashes, depending on the overall LA of the system (!).<p>These are just the issues I remember right now, because the related issues I opened in the repo are still open almost a year later; we had other crashes we had to workaround, too.</div><br/><div id="35993421" class="c"><input type="checkbox" id="c-35993421" checked=""/><div class="controls bullet"><span class="by">antirez</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35990897">parent</a><span>|</span><a href="#35991363">next</a><span>|</span><label class="collapse" for="c-35993421">[-]</label><label class="expand" for="c-35993421">[1 more]</label></div><br/><div class="children"><div class="content">Yep in general when people consider Redis forks or alternaives that use more complex models, they don&#x27;t realize the cost associated to the fact Redis is made in a certian way to be very stable and solid, and different choices lead to more fragility. Things that sometimes gets unnoticed:<p>1. The non threaded architecture of Redis need more management since you have to shard to many instances, but <i>it is optimal</i> from the POV of CPU utilization, especially if you do pinning to different NICs and so forth. And the risk of bugs in threaded code is very large.<p>2. Redis threadoffs such as copy-on-write during persistence is not optimal all the times, but the worst case behavior is predictable, and whatever is the layout of the data structure, you copy 4k pages. When more complex techniques are emplyed, sometimes you can do much better, sometimes you fail in a quite pathological way.<p>3. In general simplicity is there for a reason, and if you go with a fork that is more compelx, has ways less users, less developers and so forth, things can be less pleasent than they appear in READMEs with fancy benchmarks.<p>4. Redis is conceived to be easy to <i>understand and modify</i> by the folks that run it at scale. So the simplicity also is a way to say: come in, change things in your fork, make it particularly adapt for your use case: it&#x27;s not going to be too complex to do it. Hackability is the contrary of vendor lock-in.</div><br/></div></div><div id="35991363" class="c"><input type="checkbox" id="c-35991363" checked=""/><div class="controls bullet"><span class="by">jdsully</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35990897">parent</a><span>|</span><a href="#35993421">prev</a><span>|</span><a href="#35994101">next</a><span>|</span><label class="collapse" for="c-35991363">[-]</label><label class="expand" for="c-35991363">[1 more]</label></div><br/><div class="children"><div class="content">Sorry it didn&#x27;t work well for you.  In the 6.3 release we tried to pack in too much although we&#x27;ve ironed out most of the issues.  The hardest change has been moving away from fork() for background saving which has historically caused a lot of pain for running it in production and makes it difficult to do persistence.<p>I definitely would have paced things out better if I could go back in time.</div><br/></div></div></div></div><div id="35994101" class="c"><input type="checkbox" id="c-35994101" checked=""/><div class="controls bullet"><span class="by">hivacruz</span><span>|</span><a href="#35990572">parent</a><span>|</span><a href="#35990897">prev</a><span>|</span><a href="#35994355">next</a><span>|</span><label class="collapse" for="c-35994101">[-]</label><label class="expand" for="c-35994101">[1 more]</label></div><br/><div class="children"><div class="content">We use Kvrocks[0] at work. It is Redis on disk, powered by &quot;RocksDB&quot; (hence the name) and compatible with most of the Redis clients since it respects the Redis protocol. It was incubated by Apache earlier this year.<p>It works great and the development is really active.<p>[0]: <a href="https:&#x2F;&#x2F;kvrocks.apache.org" rel="nofollow">https:&#x2F;&#x2F;kvrocks.apache.org</a></div><br/></div></div><div id="35994355" class="c"><input type="checkbox" id="c-35994355" checked=""/><div class="controls bullet"><span class="by">tuppinsabound</span><span>|</span><a href="#35990572">parent</a><span>|</span><a href="#35994101">prev</a><span>|</span><a href="#35991885">next</a><span>|</span><label class="collapse" for="c-35994355">[-]</label><label class="expand" for="c-35994355">[1 more]</label></div><br/><div class="children"><div class="content">Also Opatomic <a href="https:&#x2F;&#x2F;opatomic.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;opatomic.com&#x2F;</a><p>Database server is not yet open source though</div><br/></div></div><div id="35991885" class="c"><input type="checkbox" id="c-35991885" checked=""/><div class="controls bullet"><span class="by">mobilio</span><span>|</span><a href="#35990572">parent</a><span>|</span><a href="#35994355">prev</a><span>|</span><a href="#35990898">next</a><span>|</span><label class="collapse" for="c-35991885">[-]</label><label class="expand" for="c-35991885">[1 more]</label></div><br/><div class="children"><div class="content">Also SSDB: <a href="https:&#x2F;&#x2F;github.com&#x2F;ideawu&#x2F;ssdb">https:&#x2F;&#x2F;github.com&#x2F;ideawu&#x2F;ssdb</a></div><br/></div></div><div id="35990898" class="c"><input type="checkbox" id="c-35990898" checked=""/><div class="controls bullet"><span class="by">avinassh</span><span>|</span><a href="#35990572">parent</a><span>|</span><a href="#35991885">prev</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35990898">[-]</label><label class="expand" for="c-35990898">[6 more]</label></div><br/><div class="children"><div class="content">Dragonfly is not open source, rather source available.<p>Also, has anyone here used SkyTable as an alternative to Redis?</div><br/><div id="35991429" class="c"><input type="checkbox" id="c-35991429" checked=""/><div class="controls bullet"><span class="by">wizzwizz4</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35990898">parent</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35991429">[-]</label><label class="expand" for="c-35991429">[5 more]</label></div><br/><div class="children"><div class="content">Dragonfly&#x27;s source available license reverts to Apache on 2028-03-15. I think this &quot;Business Source License&quot; is a <i>wonderful</i> idea: there are business reasons to have proprietary code (yet another indictment of how we&#x27;ve structured our society), but this retains a decent chunk of the long-term benefit-to-the-user that open source provides (namely, reduced vendor lock-in; ability to exercise GDPR data portability rights; ability to keep stuff going after the company goes bankrupt and its assets get bought by a creative-tax-accounting &quot;business&quot;).<p>&quot;Production&quot; doesn&#x27;t seem well-defined, so in practice this is probably a crayon license; and reverting to Apache gives you all the problems of permissive licenses. But it&#x27;s a wonderful <i>idea</i>!</div><br/><div id="35998937" class="c"><input type="checkbox" id="c-35998937" checked=""/><div class="controls bullet"><span class="by">tuananh</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35991429">parent</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35998937">[-]</label><label class="expand" for="c-35998937">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Dragonfly&#x27;s source available license reverts to Apache on 2028-03-15<p>can you explain a bit more? how does it work?</div><br/><div id="35998954" class="c"><input type="checkbox" id="c-35998954" checked=""/><div class="controls bullet"><span class="by">detaro</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35998937">parent</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35998954">[-]</label><label class="expand" for="c-35998954">[3 more]</label></div><br/><div class="children"><div class="content">The license says that the license will change to Apache2 on that date.</div><br/><div id="35998979" class="c"><input type="checkbox" id="c-35998979" checked=""/><div class="controls bullet"><span class="by">tuananh</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35998954">parent</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35998979">[-]</label><label class="expand" for="c-35998979">[2 more]</label></div><br/><div class="children"><div class="content">what&#x27;s the rationale for that? why would that benefit users when selecting which OSS to adopt?</div><br/><div id="35999003" class="c"><input type="checkbox" id="c-35999003" checked=""/><div class="controls bullet"><span class="by">detaro</span><span>|</span><a href="#35990572">root</a><span>|</span><a href="#35998979">parent</a><span>|</span><a href="#35991832">next</a><span>|</span><label class="collapse" for="c-35999003">[-]</label><label class="expand" for="c-35999003">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not OSS.<p>It becoming OSS in the future is somewhat of an insurance against its maker going out of business or making unacceptable changes and users being stuck with software they can&#x27;t improve or fix.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="35991832" class="c"><input type="checkbox" id="c-35991832" checked=""/><div class="controls bullet"><span class="by">ilrwbwrkhv</span><span>|</span><a href="#35990572">prev</a><span>|</span><a href="#35990279">next</a><span>|</span><label class="collapse" for="c-35991832">[-]</label><label class="expand" for="c-35991832">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s amazing seeing the init version of arguably one of the most popular software of the modern era.<p>Goes to show how much programming is like writing. You keep iterating and making it better.</div><br/></div></div><div id="35990279" class="c"><input type="checkbox" id="c-35990279" checked=""/><div class="controls bullet"><span class="by">LispSporks22</span><span>|</span><a href="#35991832">prev</a><span>|</span><a href="#35993499">next</a><span>|</span><label class="collapse" for="c-35990279">[-]</label><label class="expand" for="c-35990279">[21 more]</label></div><br/><div class="children"><div class="content">I have good feels about Tcl. How come it fell out of favor?</div><br/><div id="35990703" class="c"><input type="checkbox" id="c-35990703" checked=""/><div class="controls bullet"><span class="by">lockhouse</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35991325">next</a><span>|</span><label class="collapse" for="c-35990703">[-]</label><label class="expand" for="c-35990703">[3 more]</label></div><br/><div class="children"><div class="content">I think there were several factors.<p>While Tk (one of Tcl’s major killer apps) looked good on Windows and Mac, it retained the Motif look and feel for too long on UNIX platforms.  This gave the impression of it being obsolete technology and made many people dismiss it for use in serious applications.<p>It lacked a major company championing and investing in it.<p>Its creator Dr. Ousterhout, moved onto other projects.<p>Python, JavaScript, Ruby, and PHP won out on the scripting language popularity contest at the expense of Perl and Tcl.<p>Richard Stallman had very strong opinions about Tcl that also did it no favors.  This was known as the “Tcl War.”<p><a href="https:&#x2F;&#x2F;vanderburg.org&#x2F;old_pages&#x2F;Tcl&#x2F;war&#x2F;" rel="nofollow">https:&#x2F;&#x2F;vanderburg.org&#x2F;old_pages&#x2F;Tcl&#x2F;war&#x2F;</a></div><br/><div id="35991744" class="c"><input type="checkbox" id="c-35991744" checked=""/><div class="controls bullet"><span class="by">zerr</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990703">parent</a><span>|</span><a href="#35991356">next</a><span>|</span><label class="collapse" for="c-35991744">[-]</label><label class="expand" for="c-35991744">[1 more]</label></div><br/><div class="children"><div class="content">So the Lisp-like is Guile. Did they ever come up with the second (algebraic) language?</div><br/></div></div><div id="35991356" class="c"><input type="checkbox" id="c-35991356" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990703">parent</a><span>|</span><a href="#35991744">prev</a><span>|</span><a href="#35991325">next</a><span>|</span><label class="collapse" for="c-35991356">[-]</label><label class="expand" for="c-35991356">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If Tcl does
become the &quot;standard scripting language&quot;, users will curse it for
years--the way people curse Fortran, MSDOS, Unix shell syntax, and
other de facto standards they feel stuck with.<p>Hear hear. Just Bash left to kill (and TCL in EDA but I won&#x27;t hold my breath there - hardware people think they aren&#x27;t software engineers so they don&#x27;t care about software quality).</div><br/></div></div></div></div><div id="35991325" class="c"><input type="checkbox" id="c-35991325" checked=""/><div class="controls bullet"><span class="by">sokoloff</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35990703">prev</a><span>|</span><a href="#35990982">next</a><span>|</span><label class="collapse" for="c-35991325">[-]</label><label class="expand" for="c-35991325">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve written a lot of Tcl in my career. I don&#x27;t know if it &quot;fell out of favor&quot; as much as &quot;never really had a ton of favor even at its peak&quot;. I have used it in the last decade to do some build system tooling where string&#x2F;regex processing of log files emitted in prior steps was a big part of the functionality. It was nice that &quot;nobody else is using Tcl, so I won&#x27;t have any versioning conflicts&quot; and that held true for over a decade, so the long-term cost was reasonable.<p>If I had to learn a new language today, I can&#x27;t say that I&#x27;d put Tcl very high on the list, despite being overall happy with it.</div><br/></div></div><div id="35990982" class="c"><input type="checkbox" id="c-35990982" checked=""/><div class="controls bullet"><span class="by">nobleach</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35991325">prev</a><span>|</span><a href="#35992323">next</a><span>|</span><label class="collapse" for="c-35990982">[-]</label><label class="expand" for="c-35990982">[2 more]</label></div><br/><div class="children"><div class="content">I still recall coming across the &quot;Sams Teach Yourself Tcl&#x2F;Tk in 24 Hours&quot; book at my office. I had been doing Linux Samba administration at that time and some of the tooling was written in tcl. So I brought the book home. It was the first time I had ever doing any GUI stuff that wasn&#x27;t Delphi&#x2F;VB&#x2F;FoxPro! I loved it! I quickly realized I had nothing interesting I needed to build at that moment... so I put it back down. But just realizing that GUI programming was in reach without all the heavy Win32&#x2F;GDI or Winforms, was so cool.</div><br/><div id="35991647" class="c"><input type="checkbox" id="c-35991647" checked=""/><div class="controls bullet"><span class="by">zerr</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990982">parent</a><span>|</span><a href="#35992323">next</a><span>|</span><label class="collapse" for="c-35991647">[-]</label><label class="expand" for="c-35991647">[1 more]</label></div><br/><div class="children"><div class="content">I felt the same, but with GTK.</div><br/></div></div></div></div><div id="35992323" class="c"><input type="checkbox" id="c-35992323" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35990982">prev</a><span>|</span><a href="#35990617">next</a><span>|</span><label class="collapse" for="c-35992323">[-]</label><label class="expand" for="c-35992323">[1 more]</label></div><br/><div class="children"><div class="content">I have some thoughts about that, as someone who had a small role in that community:<p><a href="https:&#x2F;&#x2F;journal.dedasys.com&#x2F;2010&#x2F;03&#x2F;30&#x2F;where-tcl-and-tk-went-wrong&#x2F;" rel="nofollow">https:&#x2F;&#x2F;journal.dedasys.com&#x2F;2010&#x2F;03&#x2F;30&#x2F;where-tcl-and-tk-went...</a></div><br/></div></div><div id="35990617" class="c"><input type="checkbox" id="c-35990617" checked=""/><div class="controls bullet"><span class="by">Cyph0n</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35992323">prev</a><span>|</span><a href="#35992371">next</a><span>|</span><label class="collapse" for="c-35990617">[-]</label><label class="expand" for="c-35990617">[3 more]</label></div><br/><div class="children"><div class="content">Still huge in the circuit design&#x2F;EDA (electronic design automation) space.</div><br/><div id="35990871" class="c"><input type="checkbox" id="c-35990871" checked=""/><div class="controls bullet"><span class="by">Aromasin</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990617">parent</a><span>|</span><a href="#35992371">next</a><span>|</span><label class="collapse" for="c-35990871">[-]</label><label class="expand" for="c-35990871">[2 more]</label></div><br/><div class="children"><div class="content">Yup, used in all the FPGA software tools. A lot of the new stuff coming out of Quartus at least is being written in Python though, or rewritten as such. Having worked in the field for the past year, I&#x27;ve definitely got quite a few gripes with the Tcl after some exposure.<p>The syntax is not intuitive, especially for a scripting language. The standard library is far too small, basically just a subset of the C standard library plus regexps. The only true data types in Tcl are strings and associative arrays. As such, Tcl scripts do not scale very well. The performance is generally abysmal, not just because of the magic string conversions, but because standard library functions are incredibly slow in cases that are hard to avoid. Tcl fully parses lines before deciding that they should be executed (in the case of a command) or ignored (in the case of a comment). You should think of a comment as a &quot;do nothing&quot; command, rather than as a comment as in other languages. While not too egregious, if you&#x27;re used to other languages that quirk causes numerous grievances.<p>One positive is it&#x27;s really easy to drop down into C or C++ when you come across tasks that make more sense in a lower-level language, so if you&#x27;re using it for that purpose it&#x27;s good.</div><br/><div id="35991074" class="c"><input type="checkbox" id="c-35991074" checked=""/><div class="controls bullet"><span class="by">bch</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990871">parent</a><span>|</span><a href="#35992371">next</a><span>|</span><label class="collapse" for="c-35991074">[-]</label><label class="expand" for="c-35991074">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Tcl fully parses lines before deciding that they should be executed (in the case of a command) or ignored (in the case of a comment).<p>I don&#x27;t know your measurements or use case but putting code in a [proc] will engage the bytecode compiler which might help you out?</div><br/></div></div></div></div></div></div><div id="35992371" class="c"><input type="checkbox" id="c-35992371" checked=""/><div class="controls bullet"><span class="by">themerone</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35990617">prev</a><span>|</span><a href="#35991067">next</a><span>|</span><label class="collapse" for="c-35992371">[-]</label><label class="expand" for="c-35992371">[1 more]</label></div><br/><div class="children"><div class="content">I read an opinion that the TCL community was divided into two factions.  One faction wanted a lua like small embeddable interpreter. The other wanted a full feature Python like platform. Neither faction won, so TCL got stuck in the middle.<p>I don&#x27;t know if this is true, but it was such an interesting opinion, that it stuck with me.</div><br/></div></div><div id="35991067" class="c"><input type="checkbox" id="c-35991067" checked=""/><div class="controls bullet"><span class="by">orthoxerox</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35992371">prev</a><span>|</span><a href="#35991229">next</a><span>|</span><label class="collapse" for="c-35991067">[-]</label><label class="expand" for="c-35991067">[1 more]</label></div><br/><div class="children"><div class="content">It spent too long actually storing everything as strings internally. When tcl 8 was finally released in 1999, tcl already had a reputation, people have been writing cgi-bin scripts in Perl for 6 years already and PHP was on the rise.<p>Homoiconicity is cool, but cool doesn&#x27;t necessarily mean useful.</div><br/></div></div><div id="35991229" class="c"><input type="checkbox" id="c-35991229" checked=""/><div class="controls bullet"><span class="by">ncr100</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35991067">prev</a><span>|</span><a href="#35990675">next</a><span>|</span><label class="collapse" for="c-35991229">[-]</label><label class="expand" for="c-35991229">[1 more]</label></div><br/><div class="children"><div class="content">I am tickled to see this, first Redis implementation in TCL.<p>TCL was (is?) slow and there was not the userbase that needed it, at the time, in my view.<p>Maybe now with more diverse programmers addressing more diverse use-cases with their software, TCL can be more relevant.</div><br/></div></div><div id="35990675" class="c"><input type="checkbox" id="c-35990675" checked=""/><div class="controls bullet"><span class="by">VWWHFSfQ</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35991229">prev</a><span>|</span><a href="#35991425">next</a><span>|</span><label class="collapse" for="c-35990675">[-]</label><label class="expand" for="c-35990675">[5 more]</label></div><br/><div class="children"><div class="content">It has some niche use-cases but I think in general it was just too awkward.  &quot;Everything is a string&quot; kinda puts people off.  Lua has similar weirdness with various aspects but it&#x27;s still highly successful in other niche areas.<p>I happen to really like Lua.  But a lot of people don&#x27;t like the 1-based indexing and table container can be difficult for people get wrap their head around.</div><br/><div id="35991008" class="c"><input type="checkbox" id="c-35991008" checked=""/><div class="controls bullet"><span class="by">bch</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990675">parent</a><span>|</span><a href="#35991868">next</a><span>|</span><label class="collapse" for="c-35991008">[-]</label><label class="expand" for="c-35991008">[2 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;Everything is a string&quot; kinda puts people off.<p>I can&#x27;t speak for &quot;people&quot;, but i think this might be a bit of misunderstanding combined w an implementation detail.<p>I think most Tcl people these days would say &quot;everything is representable as a string&quot;, which is to say types can be marshalled back&#x2F;forth through a string representation. This (with other features) allows Tcl to be homoiconic[0] (it can evaluated the symbols it emits itself). Pre-8[1] (1997&#x2F;1998(?)) Tcl internals did also indeed use char* strings to do its own work parsing&#x2F;evaluating, but Tcl8 brought in so called Tcl_Obj structures w &quot;dual ported&quot; values that keep the iconic string representation available, as well as a native value (ie: integer when using the value as an integer, so you wouldnt need to do something like atoi() on a string rep when you wanted to do math).<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Homoiconicity" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Homoiconicity</a><p>[1] <a href="https:&#x2F;&#x2F;tcl.tk&#x2F;software&#x2F;tcltk&#x2F;8.0.html" rel="nofollow">https:&#x2F;&#x2F;tcl.tk&#x2F;software&#x2F;tcltk&#x2F;8.0.html</a></div><br/><div id="35993236" class="c"><input type="checkbox" id="c-35993236" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35991008">parent</a><span>|</span><a href="#35991868">next</a><span>|</span><label class="collapse" for="c-35993236">[-]</label><label class="expand" for="c-35993236">[1 more]</label></div><br/><div class="children"><div class="content">Semantically everything is a string, even if they have performance optimisations to make that slightly less insane.<p>Performance is only one of the issues with &quot;everything is a string&quot;. Bug-proneness is probably a bigger issue and you can&#x27;t fix that with optimisations.</div><br/></div></div></div></div><div id="35991868" class="c"><input type="checkbox" id="c-35991868" checked=""/><div class="controls bullet"><span class="by">jollyllama</span><span>|</span><a href="#35990279">root</a><span>|</span><a href="#35990675">parent</a><span>|</span><a href="#35991008">prev</a><span>|</span><a href="#35991903">next</a><span>|</span><label class="collapse" for="c-35991868">[-]</label><label class="expand" for="c-35991868">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it makes debugging a large or distributed TCL application hellish. Once you have had to deal with that, you will be put off of TCL for life.</div><br/></div></div></div></div><div id="35991425" class="c"><input type="checkbox" id="c-35991425" checked=""/><div class="controls bullet"><span class="by">Gordonjcp</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35990675">prev</a><span>|</span><a href="#35991115">next</a><span>|</span><label class="collapse" for="c-35991425">[-]</label><label class="expand" for="c-35991425">[1 more]</label></div><br/><div class="children"><div class="content">VHS vs. Beta, basically.<p>Tcl and Perl are about the same age, approximately similar in function, approximately similar in ease-of-use, and really the world could have gone either way.<p>Just as with VHS and Beta, each had their strengths and weaknesses, but ultimately it came down to an avalanche of the &quot;network effect&quot; - everyone was using VHS so everyone used VHS &#x2F; everyone was using Perl so everyone used Perl.</div><br/></div></div><div id="35991115" class="c"><input type="checkbox" id="c-35991115" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#35990279">parent</a><span>|</span><a href="#35991425">prev</a><span>|</span><a href="#35993499">next</a><span>|</span><label class="collapse" for="c-35991115">[-]</label><label class="expand" for="c-35991115">[1 more]</label></div><br/><div class="children"><div class="content">We got much better options... Basically anything really but even not-very-good languages like JavaScript and Python are <i>significantly</i> better than TCL. The only thing that TCL really beats is Bash.<p>If you are restricted to easily embeddable languages then the options are much more limited, but even so there are obviously better options like Lua, or even rolling your own (e.g. GDScript, QuakeC).<p>The only people still using TCL are those that can&#x27;t leave 90% in the past, e.g. the entire EDA industry.</div><br/></div></div></div></div><div id="35993499" class="c"><input type="checkbox" id="c-35993499" checked=""/><div class="controls bullet"><span class="by">gt565k</span><span>|</span><a href="#35990279">prev</a><span>|</span><a href="#35990534">next</a><span>|</span><label class="collapse" for="c-35993499">[-]</label><label class="expand" for="c-35993499">[2 more]</label></div><br/><div class="children"><div class="content">mIRC tcl scripts and tcl scripts for Eggdrop IRC bots<p>oh man, the nostalgia!</div><br/><div id="35996000" class="c"><input type="checkbox" id="c-35996000" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#35993499">parent</a><span>|</span><a href="#35990534">next</a><span>|</span><label class="collapse" for="c-35996000">[-]</label><label class="expand" for="c-35996000">[1 more]</label></div><br/><div class="children"><div class="content">mIRC has its own language, &quot;mrc&quot;, not tcl.  But yeah, those were fun times with the eggdrop botnets!<p>Eggdrop could be so stable.. pretty much industrial grade.</div><br/></div></div></div></div><div id="35990534" class="c"><input type="checkbox" id="c-35990534" checked=""/><div class="controls bullet"><span class="by">tpmx</span><span>|</span><a href="#35993499">prev</a><span>|</span><a href="#35990493">next</a><span>|</span><label class="collapse" for="c-35990534">[-]</label><label class="expand" for="c-35990534">[4 more]</label></div><br/><div class="children"><div class="content">That was certainly an unusual choice of language for a problem like that. But, I guess, use what you know.<p>Seems like a decent fit, I didn&#x27;t expect that - I mostly know Tcl from very odd Tcl&#x2F;Tk GUI apps in the 90s&#x2F;early 00s.</div><br/><div id="35991762" class="c"><input type="checkbox" id="c-35991762" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#35990534">parent</a><span>|</span><a href="#35991248">next</a><span>|</span><label class="collapse" for="c-35991762">[-]</label><label class="expand" for="c-35991762">[2 more]</label></div><br/><div class="children"><div class="content">my favorite reference to it is in the HTML 4.0 standard <a href="https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;1998&#x2F;REC-html40-19980424&#x2F;interact&#x2F;scripts.html#h-18.2.2" rel="nofollow">https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;1998&#x2F;REC-html40-19980424&#x2F;interact&#x2F;scri...</a><p>&gt; &quot;where &quot;type&quot; is an content type naming the scripting language. Examples of values include &quot;text&#x2F;tcl&quot;, &quot;text&#x2F;javascript&quot;, &quot;text&#x2F;vbscript&quot;.&quot;<p>It goes on to list text&#x2F;tcl as a language, equivalent to javascript and even gives examples. There&#x27;s a story behind this I read somewhere but I can&#x27;t seem to find it.<p>I once had one of those books that was like 500 pages by those companies like Que with a title like &quot;The ___ Bible&quot; which had at least a chapter on web tcl - in anticipation for the presumed support of it which I&#x27;ll argue isn&#x27;t around (besides this: <a href="https:&#x2F;&#x2F;wiki.tcl-lang.org&#x2F;page&#x2F;Using+Tcl+to+write+WWW+client+side+applications+within+the+WWW+browser" rel="nofollow">https:&#x2F;&#x2F;wiki.tcl-lang.org&#x2F;page&#x2F;Using+Tcl+to+write+WWW+client...</a>).</div><br/><div id="35994809" class="c"><input type="checkbox" id="c-35994809" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#35990534">root</a><span>|</span><a href="#35991762">parent</a><span>|</span><a href="#35991248">next</a><span>|</span><label class="collapse" for="c-35994809">[-]</label><label class="expand" for="c-35994809">[1 more]</label></div><br/><div class="children"><div class="content">TCL&#x2F;Tk was the original web-embedded language. You had TkLets, which were the inspiration for Java Applets and worked the same way (with a browser plugin etc.), but it was also suitable for Javascript-style scripting of webpages.</div><br/></div></div></div></div><div id="35991248" class="c"><input type="checkbox" id="c-35991248" checked=""/><div class="controls bullet"><span class="by">ncr100</span><span>|</span><a href="#35990534">parent</a><span>|</span><a href="#35991762">prev</a><span>|</span><a href="#35990493">next</a><span>|</span><label class="collapse" for="c-35991248">[-]</label><label class="expand" for="c-35991248">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s easy to prototype string passing tools with TCL, in my experience with the language at Uni.</div><br/></div></div></div></div></div></div></div></div></div></body></html>