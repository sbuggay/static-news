<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1685091693682" as="style"/><link rel="stylesheet" href="styles.css?v=1685091693682"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.jobrunr.io/en/">JobRunr: A library for background processing in Java</a>Â <span class="domain">(<a href="https://www.jobrunr.io">www.jobrunr.io</a>)</span></div><div class="subtext"><span>mooreds</span> | <span>31 comments</span></div><br/><div><div id="36080177" class="c"><input type="checkbox" id="c-36080177" checked=""/><div class="controls bullet"><span class="by">rdehuyss</span><span>|</span><a href="#36078140">next</a><span>|</span><label class="collapse" for="c-36080177">[-]</label><label class="expand" for="c-36080177">[1 more]</label></div><br/><div class="children"><div class="content">Hi all, I&#x27;m Ronald - the creator of  JobRunr.<p>First of all, thanks to @mooreds to post JobRunr on HackerNews.<p>Second of all - I read some claims that being in the &#x27;job scheduling&#x27; business is easy money. I would like to point out that&#x27;s not really the case.<p>With JobRunr being open-source and more successful than I ever could imagine, this brings along a lot of stress. If you make a mistake (which I did in V6) the whole world starts to see it. I also try to keep the amount of open issues really small as these things linger in my head and also give me stress.<p>Anyway, this to say that I&#x27;m now able to provide my family with food  but I&#x27;m still not break even (meaning if I just had freelanced as before, I would have more money in my bank account).<p>But, I can now work on something I love.<p>P.s.: it&#x27;s indeed LGPL but this is also the case for hibernate. It means you should only open-source if you&#x27;re touching part of the JobRunr code, not if you just use the lib.<p>See also <a href="https:&#x2F;&#x2F;github.com&#x2F;jobrunr&#x2F;jobrunr&#x2F;discussions&#x2F;769">https:&#x2F;&#x2F;github.com&#x2F;jobrunr&#x2F;jobrunr&#x2F;discussions&#x2F;769</a>.</div><br/></div></div><div id="36078140" class="c"><input type="checkbox" id="c-36078140" checked=""/><div class="controls bullet"><span class="by">therealrootuser</span><span>|</span><a href="#36080177">prev</a><span>|</span><a href="#36081262">next</a><span>|</span><label class="collapse" for="c-36078140">[-]</label><label class="expand" for="c-36078140">[7 more]</label></div><br/><div class="children"><div class="content">Seems like these job scheduling systems are a dime a dozen these days. Since we&#x27;re an AWS shop, eventually my team ended up just building a system based on EventBridge and Fargate, killing off a previous system built on top of Quartz. Scheduling is all handled via Terraform. It&#x27;s been solid for several years now, and costs next to nothing to operate. We can parallelize as much or as little as we want.<p>At the end of the day, I don&#x27;t want more to run more dedicated boxes for yet another jobs systems. I just want to hand off a container to the ether and say &quot;please run this container until it stops, and do this once an hour or once a day.&quot; I don&#x27;t want to get alerts in the middle of the night telling me that the Quartz scheduler has had some esoteric failure, and I don&#x27;t want Jobs A, B, and C to get killed because Job D started doing something dumb.<p>Having a nice UI is cool, but I would rather not have more servers and relational databases and Java-cron libraries that can do dumbness in the middle of the night.</div><br/><div id="36079832" class="c"><input type="checkbox" id="c-36079832" checked=""/><div class="controls bullet"><span class="by">sverhagen</span><span>|</span><a href="#36078140">parent</a><span>|</span><a href="#36080725">next</a><span>|</span><label class="collapse" for="c-36079832">[-]</label><label class="expand" for="c-36079832">[1 more]</label></div><br/><div class="children"><div class="content">Within Java, though, Quartz has ruled for years, it&#x27;s aged, its website has been reorganized a few times so that half the search results end in dead links, it was time for a new contender. But my fear is that someone else takes the crown, with another business opportunity in mind, which is likely to fizzle too, and then the cycle just repeats. Another thread here was saying this is easy money, but are open source or open core or whatever companies really all that often a slam dunk?</div><br/></div></div><div id="36080725" class="c"><input type="checkbox" id="c-36080725" checked=""/><div class="controls bullet"><span class="by">irl_chad</span><span>|</span><a href="#36078140">parent</a><span>|</span><a href="#36079832">prev</a><span>|</span><a href="#36078473">next</a><span>|</span><label class="collapse" for="c-36080725">[-]</label><label class="expand" for="c-36080725">[1 more]</label></div><br/><div class="children"><div class="content">We came to the exact same conclusion. EventBridge time triggers a Fargate task. The job automatically terminates the process after execution, so the container shuts down and all is good.</div><br/></div></div><div id="36078473" class="c"><input type="checkbox" id="c-36078473" checked=""/><div class="controls bullet"><span class="by">kernelbugs</span><span>|</span><a href="#36078140">parent</a><span>|</span><a href="#36080725">prev</a><span>|</span><a href="#36081262">next</a><span>|</span><label class="collapse" for="c-36078473">[-]</label><label class="expand" for="c-36078473">[4 more]</label></div><br/><div class="children"><div class="content">Any tips, tricks, or resources for getting started using Fargate for one-off or recurring jobs? I have terraform setup and managing AWS resources, but every time I look into Fargate it seems like guides point towards running webapps instead of diverse jobs.</div><br/><div id="36078928" class="c"><input type="checkbox" id="c-36078928" checked=""/><div class="controls bullet"><span class="by">jamesfinlayson</span><span>|</span><a href="#36078140">root</a><span>|</span><a href="#36078473">parent</a><span>|</span><a href="#36080462">next</a><span>|</span><label class="collapse" for="c-36078928">[-]</label><label class="expand" for="c-36078928">[1 more]</label></div><br/><div class="children"><div class="content">I had a quick look at something I&#x27;ve got (not written by me) and it looks like you create an EventBridge rule with a schedule expression and create an EventBridge target (which can include an ECS task: <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;cli&#x2F;latest&#x2F;reference&#x2F;events&#x2F;put-targets.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;cli&#x2F;latest&#x2F;reference&#x2F;events&#x2F;put-...</a>).</div><br/></div></div><div id="36080462" class="c"><input type="checkbox" id="c-36080462" checked=""/><div class="controls bullet"><span class="by">shpongled</span><span>|</span><a href="#36078140">root</a><span>|</span><a href="#36078473">parent</a><span>|</span><a href="#36078928">prev</a><span>|</span><a href="#36080140">next</a><span>|</span><label class="collapse" for="c-36080462">[-]</label><label class="expand" for="c-36080462">[1 more]</label></div><br/><div class="children"><div class="content">I would look into AWS Batch - it works pretty well for running diverse jobs. I have a few jobs that are triggered by S3 uploads that run for 1-30 minutes, and other jobs that run for ~hours. All on Fargate</div><br/></div></div><div id="36080140" class="c"><input type="checkbox" id="c-36080140" checked=""/><div class="controls bullet"><span class="by">inkyoto</span><span>|</span><a href="#36078140">root</a><span>|</span><a href="#36078473">parent</a><span>|</span><a href="#36080462">prev</a><span>|</span><a href="#36081262">next</a><span>|</span><label class="collapse" for="c-36080140">[-]</label><label class="expand" for="c-36080140">[1 more]</label></div><br/><div class="children"><div class="content">You can use the aws_appautoscaling_scheduled_action terraform resource to create a scheduled scaling policy action to mimic a scheduled Fargate container fire-up, e.g. from zero Fargate container instances to one or however many are required, and then back down to zero.</div><br/></div></div></div></div></div></div><div id="36081262" class="c"><input type="checkbox" id="c-36081262" checked=""/><div class="controls bullet"><span class="by">samsquire</span><span>|</span><a href="#36078140">prev</a><span>|</span><a href="#36077107">next</a><span>|</span><label class="collapse" for="c-36081262">[-]</label><label class="expand" for="c-36081262">[1 more]</label></div><br/><div class="children"><div class="content">This is an interesting space.<p>I think it is interesting that job scheduling, dependency graphs, dirty refresh logic, mutually exclusive execution are all relevant in the same space.<p>I recently working on some Java code to schedule mutually exclusively across threads. I wanted to schedule A if B is not running and then A if B is not running. Then alternately run the two. I think it&#x27;s traditionally solved with a lock in distributed systems.<p>I think there is inspiration from GUI update logic too and potential for cache invalidation or cache refresh logic in background job processing systems.<p>How does JobRunr persist jobs? If I schedule a background job from an inflight request handler, does the job get persisted if there is a crash?</div><br/></div></div><div id="36077107" class="c"><input type="checkbox" id="c-36077107" checked=""/><div class="controls bullet"><span class="by">dvt</span><span>|</span><a href="#36081262">prev</a><span>|</span><a href="#36077700">next</a><span>|</span><label class="collapse" for="c-36077107">[-]</label><label class="expand" for="c-36077107">[3 more]</label></div><br/><div class="children"><div class="content">This is the kind of business that is extremely simple, very boring, and heck, even easy to implement, but ends up making the owners 6 figures MRR with a bit of marketing and networking elbow grease. The perfect software lifestyle business.<p>I love the splash page too: simple and to the point. They aren&#x27;t saving the world with AI, they&#x27;re just making better cron jobs.</div><br/><div id="36077814" class="c"><input type="checkbox" id="c-36077814" checked=""/><div class="controls bullet"><span class="by">mooreds</span><span>|</span><a href="#36077107">parent</a><span>|</span><a href="#36077700">next</a><span>|</span><label class="collapse" for="c-36077814">[-]</label><label class="expand" for="c-36077814">[2 more]</label></div><br/><div class="children"><div class="content">&gt; they&#x27;re just making better cron jobs.<p>Seems to be good money in job running software. See Sidekiq in the ruby world: <a href="https:&#x2F;&#x2F;codecodeship.com&#x2F;blog&#x2F;2023-04-14-mike-perham" rel="nofollow">https:&#x2F;&#x2F;codecodeship.com&#x2F;blog&#x2F;2023-04-14-mike-perham</a></div><br/><div id="36077959" class="c"><input type="checkbox" id="c-36077959" checked=""/><div class="controls bullet"><span class="by">hardwaresofton</span><span>|</span><a href="#36077107">root</a><span>|</span><a href="#36077814">parent</a><span>|</span><a href="#36077700">next</a><span>|</span><label class="collapse" for="c-36077959">[-]</label><label class="expand" for="c-36077959">[1 more]</label></div><br/><div class="children"><div class="content">Yup this was my first thought as well -- they&#x27;re creating sidekiq-for-java. Lots of enterprise money to be scooped up, I&#x27;d assume they have a potential to make even more (especially if they&#x27;re at it as long as sidekiq has been).<p>That said, tech like Temporal and other workflow managers <i>do</i> exist now... But maybe most people won&#x27;t choose them because jobrunr is just an `mvn install` away.</div><br/></div></div></div></div></div></div><div id="36077700" class="c"><input type="checkbox" id="c-36077700" checked=""/><div class="controls bullet"><span class="by">ysleepy</span><span>|</span><a href="#36077107">prev</a><span>|</span><a href="#36077921">next</a><span>|</span><label class="collapse" for="c-36077700">[-]</label><label class="expand" for="c-36077700">[2 more]</label></div><br/><div class="children"><div class="content">Interesting to see this.<p>I tried it in 2020 and was not very happy with it.<p>Serialization was (is?) deeply embedded in the API and my use case didn&#x27;t need that and it was a large burden with no upside in my application.
Then there were fluent builders which instead of collecting parameters just executed on them and it made it highly order dependent with possible invalid states without any indication of why.<p>I&#x27;d love a lightweight job scheduler with metadata and a dashboard, but with less magic in the java world.<p>Maybe I should give it a go again, maybe it has changed.</div><br/><div id="36077927" class="c"><input type="checkbox" id="c-36077927" checked=""/><div class="controls bullet"><span class="by">jmartrican</span><span>|</span><a href="#36077700">parent</a><span>|</span><a href="#36077921">next</a><span>|</span><label class="collapse" for="c-36077927">[-]</label><label class="expand" for="c-36077927">[1 more]</label></div><br/><div class="children"><div class="content">if you give it a go, post the link.  I&#x27;d be interested.</div><br/></div></div></div></div><div id="36077921" class="c"><input type="checkbox" id="c-36077921" checked=""/><div class="controls bullet"><span class="by">TimTheTinker</span><span>|</span><a href="#36077700">prev</a><span>|</span><a href="#36077254">next</a><span>|</span><label class="collapse" for="c-36077921">[-]</label><label class="expand" for="c-36077921">[2 more]</label></div><br/><div class="children"><div class="content">Reminds me of Hangfire on .NET. I haven&#x27;t used it since a previous job in 2016, but it was easily one of my most favorite tools. You can have it serialize scheduled tasks to Redis or SQL Server -- you can get the same durability guarantees the underlying storage mechanism has. The API couldn&#x27;t be more simple to use: <a href="https:&#x2F;&#x2F;www.hangfire.io&#x2F;overview.html" rel="nofollow">https:&#x2F;&#x2F;www.hangfire.io&#x2F;overview.html</a><p>Being able to reliably fire-and-forget or schedule background tasks from a web app can be really powerful.</div><br/><div id="36078845" class="c"><input type="checkbox" id="c-36078845" checked=""/><div class="controls bullet"><span class="by">nirav72</span><span>|</span><a href="#36077921">parent</a><span>|</span><a href="#36077254">next</a><span>|</span><label class="collapse" for="c-36078845">[-]</label><label class="expand" for="c-36078845">[1 more]</label></div><br/><div class="children"><div class="content">Hangfire was definitely a game changer in the .net world back in the day.  One of the most difficult things to do in .net before .net core was long running backgrounds jobs from asp.net &amp; IIS without the apppool prematurely killing it. The other option was MSMQ and offloading the task to another process like a windows service. Just allround a major pita.</div><br/></div></div></div></div><div id="36077254" class="c"><input type="checkbox" id="c-36077254" checked=""/><div class="controls bullet"><span class="by">zmmmmm</span><span>|</span><a href="#36077921">prev</a><span>|</span><a href="#36077721">next</a><span>|</span><label class="collapse" for="c-36077254">[-]</label><label class="expand" for="c-36077254">[5 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    Don&#x27;t bother your legal team.
    We&#x27;re not another SaaS company and we don&#x27;t have access to your data.
</code></pre>
I love it.  (even if that&#x27;s not <i>quite</i> enough to completely ignore legal in my org)</div><br/><div id="36077639" class="c"><input type="checkbox" id="c-36077639" checked=""/><div class="controls bullet"><span class="by">splix</span><span>|</span><a href="#36077254">parent</a><span>|</span><a href="#36077721">next</a><span>|</span><label class="collapse" for="c-36077639">[-]</label><label class="expand" for="c-36077639">[4 more]</label></div><br/><div class="children"><div class="content">Strange claim, actually. Considering that it&#x27;s under LGPL, so the legal team must and want to know about it.</div><br/><div id="36079132" class="c"><input type="checkbox" id="c-36079132" checked=""/><div class="controls bullet"><span class="by">sea-gold</span><span>|</span><a href="#36077254">root</a><span>|</span><a href="#36077639">parent</a><span>|</span><a href="#36078782">next</a><span>|</span><label class="collapse" for="c-36079132">[-]</label><label class="expand" for="c-36079132">[1 more]</label></div><br/><div class="children"><div class="content">FYI, Hibernate (used by a lot of Java shops) is also LGPL 2.1 licensed.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;hibernate&#x2F;hibernate-orm&#x2F;blob&#x2F;main&#x2F;lgpl.txt">https:&#x2F;&#x2F;github.com&#x2F;hibernate&#x2F;hibernate-orm&#x2F;blob&#x2F;main&#x2F;lgpl.tx...</a><p><a href="https:&#x2F;&#x2F;www.tldrlegal.com&#x2F;license&#x2F;gnu-lesser-general-public-license-v2-1-lgpl-2-1" rel="nofollow">https:&#x2F;&#x2F;www.tldrlegal.com&#x2F;license&#x2F;gnu-lesser-general-public-...</a></div><br/></div></div><div id="36078782" class="c"><input type="checkbox" id="c-36078782" checked=""/><div class="controls bullet"><span class="by">okillbite</span><span>|</span><a href="#36077254">root</a><span>|</span><a href="#36077639">parent</a><span>|</span><a href="#36079132">prev</a><span>|</span><a href="#36077721">next</a><span>|</span><label class="collapse" for="c-36078782">[-]</label><label class="expand" for="c-36078782">[2 more]</label></div><br/><div class="children"><div class="content">Deal breaker for us, since alternatives exist that aren&#x27;t so hobbled.</div><br/><div id="36081321" class="c"><input type="checkbox" id="c-36081321" checked=""/><div class="controls bullet"><span class="by">peterashford</span><span>|</span><a href="#36077254">root</a><span>|</span><a href="#36078782">parent</a><span>|</span><a href="#36077721">next</a><span>|</span><label class="collapse" for="c-36081321">[-]</label><label class="expand" for="c-36081321">[1 more]</label></div><br/><div class="children"><div class="content">I get legal having issues with GPL but LGPL???</div><br/></div></div></div></div></div></div></div></div><div id="36077721" class="c"><input type="checkbox" id="c-36077721" checked=""/><div class="controls bullet"><span class="by">evenh</span><span>|</span><a href="#36077254">prev</a><span>|</span><a href="#36077115">next</a><span>|</span><label class="collapse" for="c-36077721">[-]</label><label class="expand" for="c-36077721">[2 more]</label></div><br/><div class="children"><div class="content">db-scheduler is also worth checking out: <a href="https:&#x2F;&#x2F;github.com&#x2F;kagkarlsson&#x2F;db-scheduler">https:&#x2F;&#x2F;github.com&#x2F;kagkarlsson&#x2F;db-scheduler</a></div><br/><div id="36079111" class="c"><input type="checkbox" id="c-36079111" checked=""/><div class="controls bullet"><span class="by">sea-gold</span><span>|</span><a href="#36077721">parent</a><span>|</span><a href="#36077115">next</a><span>|</span><label class="collapse" for="c-36079111">[-]</label><label class="expand" for="c-36079111">[1 more]</label></div><br/><div class="children"><div class="content">db-scheduler looks great (haven&#x27;t had the chance to directly try it myself) and is Apache 2.0 licensed.</div><br/></div></div></div></div><div id="36077115" class="c"><input type="checkbox" id="c-36077115" checked=""/><div class="controls bullet"><span class="by">victor106</span><span>|</span><a href="#36077721">prev</a><span>|</span><a href="#36079013">next</a><span>|</span><label class="collapse" for="c-36077115">[-]</label><label class="expand" for="c-36077115">[2 more]</label></div><br/><div class="children"><div class="content">How is this different from Quartz or Spring Batch?</div><br/><div id="36077641" class="c"><input type="checkbox" id="c-36077641" checked=""/><div class="controls bullet"><span class="by">duttonw</span><span>|</span><a href="#36077115">parent</a><span>|</span><a href="#36079013">next</a><span>|</span><label class="collapse" for="c-36077641">[-]</label><label class="expand" for="c-36077641">[1 more]</label></div><br/><div class="children"><div class="content">pretty gui and no tooling to re-submit failed jobs.</div><br/></div></div></div></div><div id="36079013" class="c"><input type="checkbox" id="c-36079013" checked=""/><div class="controls bullet"><span class="by">xvilka</span><span>|</span><a href="#36077115">prev</a><span>|</span><label class="collapse" for="c-36079013">[-]</label><label class="expand" for="c-36079013">[5 more]</label></div><br/><div class="children"><div class="content">Something simple as that should not require tons of RAM and CPU because of Java. Writing it in natively compiled language would produce a lean product - Rust, Go, etc.</div><br/><div id="36079109" class="c"><input type="checkbox" id="c-36079109" checked=""/><div class="controls bullet"><span class="by">RhodesianHunter</span><span>|</span><a href="#36079013">parent</a><span>|</span><a href="#36080989">next</a><span>|</span><label class="collapse" for="c-36079109">[-]</label><label class="expand" for="c-36079109">[2 more]</label></div><br/><div class="children"><div class="content">Java frequently outperforms Go and Rust. It has a far more mature GC than Go and libraries that have no parallel in either (netty, caffeine).<p>Almost every company doing real time&#x2F;stream processing at the scale of TB&#x2F;hour or greater is doing so by relying on Apache Kafka, written in Java and Scala.<p>I&#x27;ve personally been a member of a team that wrote several services (network collectors, observability processing) in Go&#x2F;Rust&#x2F;JVM (we preferred Kotlin) in parallel for performance comparisons and found the JVM services to show much better throughput.<p>Your perspective seems quite outdated. Possibly from before Go or Rust even existed?</div><br/><div id="36081612" class="c"><input type="checkbox" id="c-36081612" checked=""/><div class="controls bullet"><span class="by">xvilka</span><span>|</span><a href="#36079013">root</a><span>|</span><a href="#36079109">parent</a><span>|</span><a href="#36080989">next</a><span>|</span><label class="collapse" for="c-36081612">[-]</label><label class="expand" for="c-36081612">[1 more]</label></div><br/><div class="children"><div class="content">Regarding Kafka (and other Apache Java tools, e.g. Hadoop) - they are often slower[1] than standard Unix tools.<p>[1] <a href="https:&#x2F;&#x2F;adamdrake.com&#x2F;command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html" rel="nofollow">https:&#x2F;&#x2F;adamdrake.com&#x2F;command-line-tools-can-be-235x-faster-...</a></div><br/></div></div></div></div><div id="36080989" class="c"><input type="checkbox" id="c-36080989" checked=""/><div class="controls bullet"><span class="by">kitd</span><span>|</span><a href="#36079013">parent</a><span>|</span><a href="#36079109">prev</a><span>|</span><label class="collapse" for="c-36080989">[-]</label><label class="expand" for="c-36080989">[2 more]</label></div><br/><div class="children"><div class="content"><i>Writing it in natively compiled language would produce a lean product - Rust, Go, etc.</i><p>... Java?<p>You can natively compile Java these days.</div><br/><div id="36081569" class="c"><input type="checkbox" id="c-36081569" checked=""/><div class="controls bullet"><span class="by">xvilka</span><span>|</span><a href="#36079013">root</a><span>|</span><a href="#36080989">parent</a><span>|</span><label class="collapse" for="c-36081569">[-]</label><label class="expand" for="c-36081569">[1 more]</label></div><br/><div class="children"><div class="content">I tried with non-trivial program, e.g. Ghidra (without the GUI part, obviously), but it turned out to be impossible due to many changes necessary in the codebase. Thus, it&#x27;s not entirely true.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>