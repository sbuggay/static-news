<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1700125279412" as="style"/><link rel="stylesheet" href="styles.css?v=1700125279412"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/poettering/diskomator">Diskomator – NVMe-TCP at your fingertips</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>simjue</span> | <span>65 comments</span></div><br/><div><div id="38283320" class="c"><input type="checkbox" id="c-38283320" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38282598">next</a><span>|</span><label class="collapse" for="c-38283320">[-]</label><label class="expand" for="c-38283320">[20 more]</label></div><br/><div class="children"><div class="content">I never really used Mac machines, but I always appreciated &quot;target disk mode&quot;. This sounds similar, albeit over a network (which could simply  be a straight-thru cable between Ethernet NICs on two machines).<p>Edit: Yeah. I forgot about actually saying what &quot;target disk mode was&quot;. There&#x27;s a child post that mentions it, so I&#x27;ll refrain. I will say that I saw it used in imaging computers in a college computer lab setting back in the early 2000&#x27;s. I definitely wished my PCs could&#x27;ve done it. It looked like a very handy feature. Presumably it would make fixing OS boot issues easier, as well as just harvesting files off a machine that was otherwise not operating properly due to OS issues.</div><br/><div id="38285445" class="c"><input type="checkbox" id="c-38285445" checked=""/><div class="controls bullet"><span class="by">arcticbull</span><span>|</span><a href="#38283320">parent</a><span>|</span><a href="#38283335">next</a><span>|</span><label class="collapse" for="c-38285445">[-]</label><label class="expand" for="c-38285445">[2 more]</label></div><br/><div class="children"><div class="content">For a while (2009-2014) iMacs also had &#x27;target display mode,&#x27; where you could connect your iMac to another machine and it would act as a display. [1]<p>[1] <a href="https:&#x2F;&#x2F;support.apple.com&#x2F;en-ca&#x2F;HT204592" rel="nofollow noreferrer">https:&#x2F;&#x2F;support.apple.com&#x2F;en-ca&#x2F;HT204592</a></div><br/><div id="38285726" class="c"><input type="checkbox" id="c-38285726" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38285445">parent</a><span>|</span><a href="#38283335">next</a><span>|</span><label class="collapse" for="c-38285726">[-]</label><label class="expand" for="c-38285726">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a lot of reasons I think this is going to be a badass system, but I note that the upcoming Minisforum V3 tablet has DisplayPort-IN, and I think this should just be a semi-standard capability everywhere.<p>With USB4 especially, it&#x27;s like: these computers have crazy huge bidirectional throughput. Why why why would we not have one of the most obvious easy to do pipes, a way to let video data in?</div><br/></div></div></div></div><div id="38283335" class="c"><input type="checkbox" id="c-38283335" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#38283320">parent</a><span>|</span><a href="#38285445">prev</a><span>|</span><a href="#38284488">next</a><span>|</span><label class="collapse" for="c-38283335">[-]</label><label class="expand" for="c-38283335">[5 more]</label></div><br/><div class="children"><div class="content">Diskomater appears to be an open source, platform agnostic version of this underlying technology!<p>In case, like me, &quot;Target Disk Mode&quot; is not something you&#x27;re familiar with:<p>&gt; People also ask
What is the target disk mode?
If you have two Mac computers with USB, USB-C or Thunderbolt ports, you can connect them so that one of them appears as an external hard disk on the other. This is called target disk mode. Note: If either of the computers has macOS 11 or later installed, you must connect the two computers using a Thunderbolt cable.<p>Sidenote: Thunderbolt cables are special USB-C cables, i.e. the wire between your Mac and the USB-C power brick.</div><br/><div id="38283885" class="c"><input type="checkbox" id="c-38283885" checked=""/><div class="controls bullet"><span class="by">cjdell</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38283335">parent</a><span>|</span><a href="#38284383">next</a><span>|</span><label class="collapse" for="c-38283885">[-]</label><label class="expand" for="c-38283885">[1 more]</label></div><br/><div class="children"><div class="content">I remember using Target Disk Mode on my iBook G4 over FireWire cables! Very useful for copying large amounts of data before gigabit Ethernet was common place.</div><br/></div></div><div id="38284383" class="c"><input type="checkbox" id="c-38284383" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38283335">parent</a><span>|</span><a href="#38283885">prev</a><span>|</span><a href="#38284488">next</a><span>|</span><label class="collapse" for="c-38284383">[-]</label><label class="expand" for="c-38284383">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Sidenote: Thunderbolt cables are special USB-C cables, i.e. the wire between your Mac and the USB-C power brick.<p>Not exactly - that is only sort-of valid for Thunderbolt 3 and its successor&#x2F;merger USB-C 4. TB1 and 2 used the Mini DisplayPort connector.<p>TB3&#x2F;4 use the USB-C connector, but unlike USB-C, at longer lengths (per standard: 0.5m [1], but there longer passive cables as well, e.g. [2]) are the cable isn&#x27;t passive or semi-passive (cables supporting USB-C PD for higher currents&#x2F;voltages contain &quot;marker&quot; chipsets in the plugs) - it&#x27;s an &quot;active&quot; cable with special transmission&#x2F;driver circuitry to achieve tolerable signal integrity.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Thunderbolt_(interface)#Thunderbolt_3" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Thunderbolt_(interface)#Thunde...</a><p>[2] <a href="https:&#x2F;&#x2F;www.amazon.de&#x2F;Cable-Matters-Zertifiziertes-Thunderbolt-unterst%C3%BCtzt-Schwarz&#x2F;dp&#x2F;B07SH2B2B8?th=1" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.amazon.de&#x2F;Cable-Matters-Zertifiziertes-Thunderbo...</a></div><br/><div id="38284776" class="c"><input type="checkbox" id="c-38284776" checked=""/><div class="controls bullet"><span class="by">chx</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38284383">parent</a><span>|</span><a href="#38285477">prev</a><span>|</span><a href="#38284488">next</a><span>|</span><label class="collapse" for="c-38284776">[-]</label><label class="expand" for="c-38284776">[1 more]</label></div><br/><div class="children"><div class="content">Pedantic (but important) footnote: it&#x27;s USB4. It&#x27;s not USB 4.0, it&#x27;s not USB-C 4, it&#x27;s just USB4. <a href="https:&#x2F;&#x2F;www.usb.org&#x2F;usb4" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.usb.org&#x2F;usb4</a></div><br/></div></div></div></div></div></div><div id="38284488" class="c"><input type="checkbox" id="c-38284488" checked=""/><div class="controls bullet"><span class="by">sheepscreek</span><span>|</span><a href="#38283320">parent</a><span>|</span><a href="#38283335">prev</a><span>|</span><a href="#38285343">next</a><span>|</span><label class="collapse" for="c-38284488">[-]</label><label class="expand" for="c-38284488">[4 more]</label></div><br/><div class="children"><div class="content">Network boot? I think this project is genius - considering it’s solving an interesting problem and not reinventing the wheel.<p>I was half-expecting a Go or Rust utility but so pleasantly surprised to find a bunch of configurations, and that’s it!<p>Never really fully understood what systemd does. It’s basically the star of the show here. Is it an alternative to init? I honestly thought it was a user level service designed to provide a lightweight abstraction around cgroups and init. I haven’t looked into it too deep - but I have a feeling my assumption is wrong.</div><br/><div id="38286706" class="c"><input type="checkbox" id="c-38286706" checked=""/><div class="controls bullet"><span class="by">roygbiv2</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38284488">parent</a><span>|</span><a href="#38285570">next</a><span>|</span><label class="collapse" for="c-38286706">[-]</label><label class="expand" for="c-38286706">[1 more]</label></div><br/><div class="children"><div class="content">This is a good video on it <a href="https:&#x2F;&#x2F;youtu.be&#x2F;o_AIw9bGogo?si=nC0MYSfzbfKibHoU" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;o_AIw9bGogo?si=nC0MYSfzbfKibHoU</a></div><br/></div></div><div id="38285570" class="c"><input type="checkbox" id="c-38285570" checked=""/><div class="controls bullet"><span class="by">BenjiWiebe</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38284488">parent</a><span>|</span><a href="#38286706">prev</a><span>|</span><a href="#38285343">next</a><span>|</span><label class="collapse" for="c-38285570">[-]</label><label class="expand" for="c-38285570">[2 more]</label></div><br/><div class="children"><div class="content">Careful, this is prime flame-war material.<p>systemd is an init system plus various other tools&#x2F;infrastructure for managing a system.</div><br/><div id="38286789" class="c"><input type="checkbox" id="c-38286789" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38285570">parent</a><span>|</span><a href="#38285343">next</a><span>|</span><label class="collapse" for="c-38286789">[-]</label><label class="expand" for="c-38286789">[1 more]</label></div><br/><div class="children"><div class="content">To be somewhat pedantic systems is an init system, but under the umbrella project of systemd, you&#x27;ll find bootloaders, DNS resolvers, log forwarders, DHCP clients, network configuration tools, login session managers, the whole lot. Almost all of these components are independent of the init system, but integrate very well with it.</div><br/></div></div></div></div></div></div><div id="38285343" class="c"><input type="checkbox" id="c-38285343" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#38283320">parent</a><span>|</span><a href="#38284488">prev</a><span>|</span><a href="#38284058">next</a><span>|</span><label class="collapse" for="c-38285343">[-]</label><label class="expand" for="c-38285343">[2 more]</label></div><br/><div class="children"><div class="content"><i>I will say that I saw it used in imaging computers in a college computer lab setting back in the early 2000&#x27;s. I definitely wished my PCs could&#x27;ve done it.</i><p>In that exact same setting, I&#x27;ve seen PCs use PXE for the same purpose.</div><br/><div id="38286152" class="c"><input type="checkbox" id="c-38286152" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38285343">parent</a><span>|</span><a href="#38284058">next</a><span>|</span><label class="collapse" for="c-38286152">[-]</label><label class="expand" for="c-38286152">[1 more]</label></div><br/><div class="children"><div class="content">For sure. For one-offs plugging in a machine and having it act like a removable disk would be a lot easier than orchestrating a DHCP server and TFTP server (plus boot images) to support PXE. For mass numbers of machines, though, PXE is very handy. (I haven&#x27;t kept up with PXE in the UEFI era to know how its changed&#x2F;kept up. Everything I did with it-- netbooting tiny Linux distros to image  machines, primarily, was back in the Windows XP thru 7 days.)</div><br/></div></div></div></div><div id="38284058" class="c"><input type="checkbox" id="c-38284058" checked=""/><div class="controls bullet"><span class="by">znpy</span><span>|</span><a href="#38283320">parent</a><span>|</span><a href="#38285343">prev</a><span>|</span><a href="#38282598">next</a><span>|</span><label class="collapse" for="c-38284058">[-]</label><label class="expand" for="c-38284058">[6 more]</label></div><br/><div class="children"><div class="content">you could do that in linux using usb networking and then sharing files (or block whole devices) over that connection. NFS, SMB or even iSCSI.<p>I think that iSCSI is involved here, as &quot;target&quot; reminds me of the iSCSI terminology.<p>I guess that (as usual) mac os just hides a lot of the details and gives you a nice gui to do that automatically.</div><br/><div id="38284685" class="c"><input type="checkbox" id="c-38284685" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38284058">parent</a><span>|</span><a href="#38282598">next</a><span>|</span><label class="collapse" for="c-38284685">[-]</label><label class="expand" for="c-38284685">[5 more]</label></div><br/><div class="children"><div class="content">On the Macs that supported it the feature was invoked by holding a key during power-on. On the &quot;client&quot; the target disk mode machine appeared as a Firewire-attached disk. It was very slick.<p>I&#x27;d love to have my PC laptop have the same kind of functionality. Need to troubleshoot an OS boot issue-- just plug the unit into a working PC and the disks show up as local devices. Unlock the full disk encryption and go to town. All the convenience of extracting the disk and connecting to another machine without cracking the case.</div><br/><div id="38285360" class="c"><input type="checkbox" id="c-38285360" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38284685">parent</a><span>|</span><a href="#38282598">next</a><span>|</span><label class="collapse" for="c-38285360">[-]</label><label class="expand" for="c-38285360">[4 more]</label></div><br/><div class="children"><div class="content"><i>Need to troubleshoot an OS boot issue-- just plug the unit into a working PC and the disks show up as local devices.</i><p>Or you could just boot from a far more convenient USB drive with a live OS.</div><br/><div id="38286181" class="c"><input type="checkbox" id="c-38286181" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38285360">parent</a><span>|</span><a href="#38286301">next</a><span>|</span><label class="collapse" for="c-38286181">[-]</label><label class="expand" for="c-38286181">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve done a ton of &quot;boot a rescue disk&quot; because I&#x27;m usually too lazy to pull the disk. Particularly with oddball hardware, it always feels like I&#x27;m struggling with drivers or missing tools. When I do pull the disk and plug it into my daily driver machine it feels like stuff goes much more quickly because I&#x27;ve got all the tools I&#x27;m used to.<p>It&#x27;s all counterfactuals anyway-- nothing like target disk mode will ever happen on the PC platform.</div><br/></div></div><div id="38286301" class="c"><input type="checkbox" id="c-38286301" checked=""/><div class="controls bullet"><span class="by">zakki</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38285360">parent</a><span>|</span><a href="#38286181">prev</a><span>|</span><a href="#38282598">next</a><span>|</span><label class="collapse" for="c-38286301">[-]</label><label class="expand" for="c-38286301">[2 more]</label></div><br/><div class="children"><div class="content">Apple solutions is better.</div><br/><div id="38286642" class="c"><input type="checkbox" id="c-38286642" checked=""/><div class="controls bullet"><span class="by">pmontra</span><span>|</span><a href="#38283320">root</a><span>|</span><a href="#38286301">parent</a><span>|</span><a href="#38282598">next</a><span>|</span><label class="collapse" for="c-38286642">[-]</label><label class="expand" for="c-38286642">[1 more]</label></div><br/><div class="children"><div class="content">If you have another machine at hand and the wire. A pendrive fits in a wallet and works even in the middle of nowhere. Both solutions have their pro and cons.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38282598" class="c"><input type="checkbox" id="c-38282598" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#38283320">prev</a><span>|</span><a href="#38282637">next</a><span>|</span><label class="collapse" for="c-38282598">[-]</label><label class="expand" for="c-38282598">[2 more]</label></div><br/><div class="children"><div class="content">&gt;I&#x27;d like to live to see a future where people build appliances like this for various purposes, not just this specific NVMe one. For example, a nice thing to have would be an appliance whose only job is to make all local displays available via Miracast. I hope this repository is inspiration enough for an interested soul, to get this off the ground.<p>Very nice idea.</div><br/></div></div><div id="38282637" class="c"><input type="checkbox" id="c-38282637" checked=""/><div class="controls bullet"><span class="by">mike_d</span><span>|</span><a href="#38282598">prev</a><span>|</span><a href="#38286536">next</a><span>|</span><label class="collapse" for="c-38282637">[-]</label><label class="expand" for="c-38282637">[17 more]</label></div><br/><div class="children"><div class="content">I seem to recall an announcement from Western Digital(?) years ago about a line of hard drives with a direct ethernet interface. Does anyone remember the same or what might have come of it?<p>The market is saturated with solutions for middle-boxes that make hard drives talk to networks, but nobody seems to be directly addressing the problem of we just want storage network accessible.</div><br/><div id="38282826" class="c"><input type="checkbox" id="c-38282826" checked=""/><div class="controls bullet"><span class="by">gorkish</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38283044">next</a><span>|</span><label class="collapse" for="c-38282826">[-]</label><label class="expand" for="c-38282826">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The market is saturated with solutions for middle-boxes that make hard drives talk to networks<p>It&#x27;s my experience that these boxes try to do a hell of a lot more than just putting drives-on-network and that is why they all suck and are expensive.<p>The NVMe-oF fabric devices out there all seem to command a ridiculous premium when the reality is they ought to be very simple and easily cost-optimized.</div><br/></div></div><div id="38283044" class="c"><input type="checkbox" id="c-38283044" checked=""/><div class="controls bullet"><span class="by">matja</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38282826">prev</a><span>|</span><a href="#38283170">next</a><span>|</span><label class="collapse" for="c-38283044">[-]</label><label class="expand" for="c-38283044">[1 more]</label></div><br/><div class="children"><div class="content">There was a line of products called EtherDrive made by Coraid in the early 2000&#x27;s   that was basically a SATA to ATAoE bridge on the most basic devices, up to rack-mount solutions that used a Linux OS and Dell HBA to run vblade (<a href="https:&#x2F;&#x2F;github.com&#x2F;OpenAoE&#x2F;vblade">https:&#x2F;&#x2F;github.com&#x2F;OpenAoE&#x2F;vblade</a>) to expose a Linux MD array carved up using LVM2.<p>ATAoE (&quot;aoe&quot; in the Linux kernel) is nice because it is very lightweight in both terms of code to implement it (~2-3kloc, basically just stuff an ATA packet in an ethernet frame), low network overhead, and ease to setup (no IP addresses).</div><br/></div></div><div id="38283170" class="c"><input type="checkbox" id="c-38283170" checked=""/><div class="controls bullet"><span class="by">wkennington</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38283044">prev</a><span>|</span><a href="#38282802">next</a><span>|</span><label class="collapse" for="c-38283170">[-]</label><label class="expand" for="c-38283170">[1 more]</label></div><br/><div class="children"><div class="content">Seagate kinetic<p><a href="https:&#x2F;&#x2F;www.seagate.com&#x2F;files&#x2F;www-content&#x2F;product-content&#x2F;hdd-fam&#x2F;kinetic-hdd&#x2F;en-us&#x2F;docs&#x2F;kinetic-ds1835-1-1110us.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.seagate.com&#x2F;files&#x2F;www-content&#x2F;product-content&#x2F;hd...</a></div><br/></div></div><div id="38282802" class="c"><input type="checkbox" id="c-38282802" checked=""/><div class="controls bullet"><span class="by">_zoltan_</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38283170">prev</a><span>|</span><a href="#38282806">next</a><span>|</span><label class="collapse" for="c-38282802">[-]</label><label class="expand" for="c-38282802">[4 more]</label></div><br/><div class="children"><div class="content">Kioxia has a line of products (EM6) that has an embedded Marvell NVMeoF&#x2F;{TCP,RDMA}  controller and Foxconn has a chassis that can take them and expose them just directly on the network. neat stuff.</div><br/><div id="38282849" class="c"><input type="checkbox" id="c-38282849" checked=""/><div class="controls bullet"><span class="by">gorkish</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38282802">parent</a><span>|</span><a href="#38282806">next</a><span>|</span><label class="collapse" for="c-38282849">[-]</label><label class="expand" for="c-38282849">[3 more]</label></div><br/><div class="children"><div class="content">Neat if you can stomach paying for the novelty. Let&#x27;s see an open product that does the same for any old M.2 stick</div><br/><div id="38282874" class="c"><input type="checkbox" id="c-38282874" checked=""/><div class="controls bullet"><span class="by">_zoltan_</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38282849">parent</a><span>|</span><a href="#38282806">next</a><span>|</span><label class="collapse" for="c-38282874">[-]</label><label class="expand" for="c-38282874">[2 more]</label></div><br/><div class="children"><div class="content">SPDK + RDMA works just fine :)</div><br/><div id="38283219" class="c"><input type="checkbox" id="c-38283219" checked=""/><div class="controls bullet"><span class="by">gorkish</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38282874">parent</a><span>|</span><a href="#38282806">next</a><span>|</span><label class="collapse" for="c-38283219">[-]</label><label class="expand" for="c-38283219">[1 more]</label></div><br/><div class="children"><div class="content">Yeah i know the software exists; it&#x27;s finding ways to actually build systems from it that sucks. 2.5 gigabit ethernet has absolutely killed dead all momentum for getting faster interfaces in consumer hardware and SBCs unfortunately. I don&#x27;t want to build a 2-drive OSD using a comparatively gargantuan microATX motherboard.</div><br/></div></div></div></div></div></div></div></div><div id="38282806" class="c"><input type="checkbox" id="c-38282806" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38282802">prev</a><span>|</span><a href="#38283470">next</a><span>|</span><label class="collapse" for="c-38282806">[-]</label><label class="expand" for="c-38282806">[4 more]</label></div><br/><div class="children"><div class="content">&gt; The market is saturated with solutions for middle-boxes that make hard drives talk to networks, but nobody seems to be directly addressing the problem of we just want storage network accessible.<p>Most hard drives run a serial console on some of the jumpers. You can easily run PPP or SLIP over that. QED :P</div><br/><div id="38283280" class="c"><input type="checkbox" id="c-38283280" checked=""/><div class="controls bullet"><span class="by">ronsor</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38282806">parent</a><span>|</span><a href="#38283386">next</a><span>|</span><label class="collapse" for="c-38283280">[-]</label><label class="expand" for="c-38283280">[1 more]</label></div><br/><div class="children"><div class="content">Nothing like those blazing fast 115kbps read&#x2F;write speeds.</div><br/></div></div><div id="38283386" class="c"><input type="checkbox" id="c-38283386" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38282806">parent</a><span>|</span><a href="#38283280">prev</a><span>|</span><a href="#38283470">next</a><span>|</span><label class="collapse" for="c-38283386">[-]</label><label class="expand" for="c-38283386">[2 more]</label></div><br/><div class="children"><div class="content">Tell me more, like a brand and model where I can do that!<p>BTW if you already explored that, would you know how to alter the SLC&#x2F;MLC ratio by any chance?<p>Modern QLC drive often have a SLC area for buffering. With the right firmware tools, it should be possible to take a 4 TB QLC drive and convert it to a 1 SLC drive to get more performance.</div><br/><div id="38283520" class="c"><input type="checkbox" id="c-38283520" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38283386">parent</a><span>|</span><a href="#38283470">next</a><span>|</span><label class="collapse" for="c-38283520">[-]</label><label class="expand" for="c-38283520">[1 more]</label></div><br/><div class="children"><div class="content">An older reference for hacking hard disk drives: <a href="https:&#x2F;&#x2F;spritesmods.com&#x2F;?art=hddhack" rel="nofollow noreferrer">https:&#x2F;&#x2F;spritesmods.com&#x2F;?art=hddhack</a><p>There were some firmware bugs on Seagate Barracuda SATA drives that could be worked-around w&#x2F; serial console. I don&#x27;t remember the specifics though.<p>If you some search-engining on hard drive manufacturers and &quot;serial console&quot; you&#x27;ll find indexed pages. (Presumably the really interesting stuff is buried deep down in forum posts, etc.) Just doing a couple quick searches got me some stuff.</div><br/></div></div></div></div></div></div><div id="38283470" class="c"><input type="checkbox" id="c-38283470" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38282806">prev</a><span>|</span><a href="#38284950">next</a><span>|</span><label class="collapse" for="c-38283470">[-]</label><label class="expand" for="c-38283470">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think the economics of this work because an Ethernet network is probably much more expensive than SAS and network configuration is more complex (you could make it zeroconf but that&#x27;s also zero security).</div><br/><div id="38284422" class="c"><input type="checkbox" id="c-38284422" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38283470">parent</a><span>|</span><a href="#38284950">next</a><span>|</span><label class="collapse" for="c-38284422">[-]</label><label class="expand" for="c-38284422">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I don&#x27;t think the economics of this work because an Ethernet network is probably much more expensive than SAS<p>Well, iSCSI has been around <i>for ages</i>, and because people got fed up with Fibre Channel requiring dedicated switches and transceiver components, first came FCoE that allowed using regular network transceivers and switches and then FCIP&#x2F;iFCP that added regular IP routing to the mix but never saw much uptake.</div><br/><div id="38285753" class="c"><input type="checkbox" id="c-38285753" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#38282637">root</a><span>|</span><a href="#38284422">parent</a><span>|</span><a href="#38284950">next</a><span>|</span><label class="collapse" for="c-38285753">[-]</label><label class="expand" for="c-38285753">[1 more]</label></div><br/><div class="children"><div class="content">&gt; first came FCoE that allowed using regular network [stuff]<p>From rough memory, didn&#x27;t FCoE start out that way only in theory?<p>With the reality that people needed to buy FCoE rated equipment, which was priced at &quot;enterprise pricing&quot; levels.<p>Pretty sure that was FCoE, and I&#x27;m not mis-remembering that from something else... :)</div><br/></div></div></div></div></div></div><div id="38284950" class="c"><input type="checkbox" id="c-38284950" checked=""/><div class="controls bullet"><span class="by">cyberge99</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38283470">prev</a><span>|</span><a href="#38283684">next</a><span>|</span><label class="collapse" for="c-38284950">[-]</label><label class="expand" for="c-38284950">[1 more]</label></div><br/><div class="children"><div class="content">I believe you are talking about the WD EX2 boxes.  NAS in a box.</div><br/></div></div><div id="38283684" class="c"><input type="checkbox" id="c-38283684" checked=""/><div class="controls bullet"><span class="by">justsomehnguy</span><span>|</span><a href="#38282637">parent</a><span>|</span><a href="#38284950">prev</a><span>|</span><a href="#38286536">next</a><span>|</span><label class="collapse" for="c-38283684">[-]</label><label class="expand" for="c-38283684">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Does anyone remember the same or what might have come of it?<p>Nothing, because it makes each disk quite costly and by the 2014 nobody wanted costly <i>and slow</i> HDDs.<p>Check the Seagate offering up there it has 1Gbit interface. You can&#x27;t even run the drive at full sequential read&#x2F;write speed over it. And having a two 10Gbit ports on each drive would require having two 10Gbit switches, which by 2014 were still quite costly.<p>EM6 solution[0,1] is neat but at least it both the quite packed both by the spec and the price but delivers a lot of IOPS and throughput.<p>[0] <a href="https:&#x2F;&#x2F;www.ingrasys.com&#x2F;assets&#x2F;files&#x2F;Datasheet_ES2000_20211026.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.ingrasys.com&#x2F;assets&#x2F;files&#x2F;Datasheet_ES2000_20211...</a>  
[1] <a href="https:&#x2F;&#x2F;www.servethehome.com&#x2F;ethernet-ssds-hands-on-with-the-kioxia-em6-nvmeof-ssd&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.servethehome.com&#x2F;ethernet-ssds-hands-on-with-the...</a></div><br/></div></div></div></div><div id="38286536" class="c"><input type="checkbox" id="c-38286536" checked=""/><div class="controls bullet"><span class="by">jmprspret</span><span>|</span><a href="#38282637">prev</a><span>|</span><a href="#38283993">next</a><span>|</span><label class="collapse" for="c-38286536">[-]</label><label class="expand" for="c-38286536">[1 more]</label></div><br/><div class="children"><div class="content">Very personal opinion, but I think the image is overcomplicated. Fedora base + systemd + sshd + application? This can surely be smushed down to being a go-krazy image. I guess then, you&#x27;d have to rewrite in go, and device support would be an issue</div><br/></div></div><div id="38283993" class="c"><input type="checkbox" id="c-38283993" checked=""/><div class="controls bullet"><span class="by">gdgghhhhh</span><span>|</span><a href="#38286536">prev</a><span>|</span><a href="#38282696">next</a><span>|</span><label class="collapse" for="c-38283993">[-]</label><label class="expand" for="c-38283993">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t get it. Isn&#x27;t this just a live CD that setups nvmt like described here?
<a href="https:&#x2F;&#x2F;blogs.oracle.com&#x2F;linux&#x2F;post&#x2F;nvme-over-tcp" rel="nofollow noreferrer">https:&#x2F;&#x2F;blogs.oracle.com&#x2F;linux&#x2F;post&#x2F;nvme-over-tcp</a></div><br/><div id="38284538" class="c"><input type="checkbox" id="c-38284538" checked=""/><div class="controls bullet"><span class="by">sheepscreek</span><span>|</span><a href="#38283993">parent</a><span>|</span><a href="#38282696">next</a><span>|</span><label class="collapse" for="c-38284538">[-]</label><label class="expand" for="c-38284538">[1 more]</label></div><br/><div class="children"><div class="content">I guess? But neatly packaged and pre-configured.<p>I mean, technically, every Linux distribution is “just a(nother) live cd” with a slightly different configuration and some custom packages thrown in. To each their own, yeah?</div><br/></div></div></div></div><div id="38282696" class="c"><input type="checkbox" id="c-38282696" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#38283993">prev</a><span>|</span><a href="#38282795">next</a><span>|</span><label class="collapse" for="c-38282696">[-]</label><label class="expand" for="c-38282696">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m looking forward to Longhorn[1] taking advantage of this technology.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;longhorn&#x2F;longhorn">https:&#x2F;&#x2F;github.com&#x2F;longhorn&#x2F;longhorn</a></div><br/></div></div><div id="38282795" class="c"><input type="checkbox" id="c-38282795" checked=""/><div class="controls bullet"><span class="by">gorkish</span><span>|</span><a href="#38282696">prev</a><span>|</span><a href="#38284047">next</a><span>|</span><label class="collapse" for="c-38282795">[-]</label><label class="expand" for="c-38282795">[2 more]</label></div><br/><div class="children"><div class="content">This is awesome. Would be exciting if it can be extended to support NVMe-oF as well with RDMA via RoCEv2. A SBC running something like this with at least 2x10GbE and two M.2 slots and 2 sata ports would be an absolute dream device for me.</div><br/><div id="38285772" class="c"><input type="checkbox" id="c-38285772" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#38282795">parent</a><span>|</span><a href="#38284047">next</a><span>|</span><label class="collapse" for="c-38285772">[-]</label><label class="expand" for="c-38285772">[1 more]</label></div><br/><div class="children"><div class="content">Having the devices exposed &quot;raw&quot; means there&#x27;s no redundancy on the device though. :(</div><br/></div></div></div></div><div id="38284047" class="c"><input type="checkbox" id="c-38284047" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38282795">prev</a><span>|</span><a href="#38286497">next</a><span>|</span><label class="collapse" for="c-38284047">[-]</label><label class="expand" for="c-38284047">[1 more]</label></div><br/><div class="children"><div class="content">Does NVMe-TCP have any support on Windows?<p>Windows supports iSCSI clients&#x2F;servers...    Isn&#x27;t it easier to emulate that and then you have a much wider range of possible clients?</div><br/></div></div><div id="38286497" class="c"><input type="checkbox" id="c-38286497" checked=""/><div class="controls bullet"><span class="by">askvictor</span><span>|</span><a href="#38284047">prev</a><span>|</span><a href="#38283982">next</a><span>|</span><label class="collapse" for="c-38286497">[-]</label><label class="expand" for="c-38286497">[2 more]</label></div><br/><div class="children"><div class="content">Would be nice to add this to Ventoy</div><br/><div id="38286612" class="c"><input type="checkbox" id="c-38286612" checked=""/><div class="controls bullet"><span class="by">theblazehen</span><span>|</span><a href="#38286497">parent</a><span>|</span><a href="#38283982">next</a><span>|</span><label class="collapse" for="c-38286612">[-]</label><label class="expand" for="c-38286612">[1 more]</label></div><br/><div class="children"><div class="content">AFAIK ventoy can boot EFI files</div><br/></div></div></div></div><div id="38283982" class="c"><input type="checkbox" id="c-38283982" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38286497">prev</a><span>|</span><a href="#38284702">next</a><span>|</span><label class="collapse" for="c-38283982">[-]</label><label class="expand" for="c-38283982">[4 more]</label></div><br/><div class="children"><div class="content">I think a far smaller version of this could be built on top of UEFI functionality...<p>Ie. use UEFI to read&#x2F;write the disks.  UEFI to send&#x2F;receive packets.  UEFI to draw a splash image onto the screen.<p>Now, you don&#x27;t need any network drivers, graphics drivers or disk&#x2F;controller drivers.</div><br/><div id="38284003" class="c"><input type="checkbox" id="c-38284003" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38283982">parent</a><span>|</span><a href="#38284345">next</a><span>|</span><label class="collapse" for="c-38284003">[-]</label><label class="expand" for="c-38284003">[2 more]</label></div><br/><div class="children"><div class="content">I kinda wish Linux would implement support for all the UEFI functionality.   It would let you build micro systems which &#x27;just worked&#x27; with no drivers.<p>The downside is that UEFI drivers tend to be barebones and not high performance.   But it is a nice fallback to know that you will always at least have something that works.<p>For example, here is the API for disk access offered by UEFI:  <a href="https:&#x2F;&#x2F;uefi.org&#x2F;specs&#x2F;UEFI&#x2F;2.10&#x2F;13_Protocols_Media_Access.html#block-i-o-2-protocol" rel="nofollow noreferrer">https:&#x2F;&#x2F;uefi.org&#x2F;specs&#x2F;UEFI&#x2F;2.10&#x2F;13_Protocols_Media_Access.h...</a></div><br/><div id="38284804" class="c"><input type="checkbox" id="c-38284804" checked=""/><div class="controls bullet"><span class="by">pzmarzly</span><span>|</span><a href="#38283982">root</a><span>|</span><a href="#38284003">parent</a><span>|</span><a href="#38284345">next</a><span>|</span><label class="collapse" for="c-38284804">[-]</label><label class="expand" for="c-38284804">[1 more]</label></div><br/><div class="children"><div class="content">This is already possible with kernel patches in <a href="https:&#x2F;&#x2F;github.com&#x2F;osresearch&#x2F;safeboot-loader">https:&#x2F;&#x2F;github.com&#x2F;osresearch&#x2F;safeboot-loader</a> . It is extremely cool, but the README there also explains why it&#x27;s not necessarily a good idea.</div><br/></div></div></div></div><div id="38284345" class="c"><input type="checkbox" id="c-38284345" checked=""/><div class="controls bullet"><span class="by">NovemberWhiskey</span><span>|</span><a href="#38283982">parent</a><span>|</span><a href="#38284003">prev</a><span>|</span><a href="#38284702">next</a><span>|</span><label class="collapse" for="c-38284345">[-]</label><label class="expand" for="c-38284345">[1 more]</label></div><br/><div class="children"><div class="content">I mean, as a proof of concept, that would be neat. As a useful service; not so much with the non-optimization of the UEFI abstraction layer.</div><br/></div></div></div></div><div id="38284702" class="c"><input type="checkbox" id="c-38284702" checked=""/><div class="controls bullet"><span class="by">neverartful</span><span>|</span><a href="#38283982">prev</a><span>|</span><a href="#38282750">next</a><span>|</span><label class="collapse" for="c-38284702">[-]</label><label class="expand" for="c-38284702">[1 more]</label></div><br/><div class="children"><div class="content">Next thing you know someone is going to want to run a &#x27;disklet&#x27; (probably written in Java) within the data path of these devices. Shudder!</div><br/></div></div><div id="38282750" class="c"><input type="checkbox" id="c-38282750" checked=""/><div class="controls bullet"><span class="by">EnigmaCurry</span><span>|</span><a href="#38284702">prev</a><span>|</span><a href="#38284527">next</a><span>|</span><label class="collapse" for="c-38282750">[-]</label><label class="expand" for="c-38282750">[6 more]</label></div><br/><div class="children"><div class="content">How does this compare with iSCSI?</div><br/><div id="38282813" class="c"><input type="checkbox" id="c-38282813" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#38282750">parent</a><span>|</span><a href="#38284527">next</a><span>|</span><label class="collapse" for="c-38282813">[-]</label><label class="expand" for="c-38282813">[5 more]</label></div><br/><div class="children"><div class="content">Like an iops improvement of 30%+ and latency improvement of 20%+[1], ish.<p>[1]: <a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;Proxmox&#x2F;comments&#x2F;134kqy3&#x2F;iscsi_and_nvmetcp_shared_storage_comparison&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;Proxmox&#x2F;comments&#x2F;134kqy3&#x2F;iscsi_and_...</a></div><br/><div id="38285785" class="c"><input type="checkbox" id="c-38285785" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#38282750">root</a><span>|</span><a href="#38282813">parent</a><span>|</span><a href="#38284527">next</a><span>|</span><label class="collapse" for="c-38285785">[-]</label><label class="expand" for="c-38285785">[4 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no way to combine the NVMe drives into a larger sized unit for redundancy &#x2F; failover though, so not sure what kind of future uptake this could have.</div><br/><div id="38286973" class="c"><input type="checkbox" id="c-38286973" checked=""/><div class="controls bullet"><span class="by">aseipp</span><span>|</span><a href="#38282750">root</a><span>|</span><a href="#38285785">parent</a><span>|</span><a href="#38286780">next</a><span>|</span><label class="collapse" for="c-38286973">[-]</label><label class="expand" for="c-38286973">[1 more]</label></div><br/><div class="children"><div class="content">Everyone who uses NVMe-over-network-transport simply does redundancy at the client layer. The networking gear is very robust, and it is easier to optimize the &quot;data plane&quot; path this way (map storage queues &lt;-&gt; network queues) so the actual storage system does less work, which improves cost and density. That also means clients can have their own redundancy solutions that more closely match their requirements, e.g. filesystems can use block devices and implement RAID10 for e.g. virtual machine storage, while userspace applications may use them directly with Reed-Solomon(14,10) and manage the underlying multiple block devices themselves. This all effectively improves density and storage utilization even further.<p>NVMe-over-network (fabrics w&#x2F; RDMA, TCP, ROCEv2) is very popular for doing disaggregated storage&#x2F;compute, and things like Nvidia Bluefield push the whole thing down into networking cards on the host so you don&#x27;t even see the &quot;over network&quot; part. You have a diskless server, plug in some Bluefield cards, and it exposes a bunch of NVMe drives to the host, as if they were plugged in physically. That makes it much easier to scale compute and storage separately (and also effectively increases the capacity of the host machine since it no longer is using up bandwidth and CPU on those tasks.)</div><br/></div></div><div id="38286780" class="c"><input type="checkbox" id="c-38286780" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#38282750">root</a><span>|</span><a href="#38285785">parent</a><span>|</span><a href="#38286973">prev</a><span>|</span><a href="#38284527">next</a><span>|</span><label class="collapse" for="c-38286780">[-]</label><label class="expand" for="c-38286780">[2 more]</label></div><br/><div class="children"><div class="content">I’m not sure what you mean. You can add the disks to a software RAID in the worst case. Are you talking about on the host?</div><br/><div id="38286959" class="c"><input type="checkbox" id="c-38286959" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#38282750">root</a><span>|</span><a href="#38286780">parent</a><span>|</span><a href="#38284527">next</a><span>|</span><label class="collapse" for="c-38286959">[-]</label><label class="expand" for="c-38286959">[1 more]</label></div><br/><div class="children"><div class="content">Yeah.  It seems like directly presenting raw disks to the network means any kind of redundancy would need to be done by whatever device&#x2F;host&#x2F;thing is mounting the storage.<p>And doing that over the network (instead of over a local PCIe bus) seems like it&#x27;ll have some trade-offs. :&#x2F;</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38284527" class="c"><input type="checkbox" id="c-38284527" checked=""/><div class="controls bullet"><span class="by">gigel82</span><span>|</span><a href="#38282750">prev</a><span>|</span><a href="#38283908">next</a><span>|</span><label class="collapse" for="c-38284527">[-]</label><label class="expand" for="c-38284527">[4 more]</label></div><br/><div class="children"><div class="content">Now we just need a super cheap SBC with tons of PCIe lanes to chuck all those old M.2 drives into.</div><br/><div id="38284591" class="c"><input type="checkbox" id="c-38284591" checked=""/><div class="controls bullet"><span class="by">sheepscreek</span><span>|</span><a href="#38284527">parent</a><span>|</span><a href="#38285609">next</a><span>|</span><label class="collapse" for="c-38284591">[-]</label><label class="expand" for="c-38284591">[2 more]</label></div><br/><div class="children"><div class="content">This has been my plan over the last few months! Finding a cheap PCIe 4 motherboard + CPU with many slots has been a challenge. Need PCIe 4 or else you’ll quickly saturate your bandwidth. Even with PCIe 4 - you still can. The fastest (affordable) network solution means using 10 GbE - which can be saturated by just one modern gen NVMe SSD :-&#x2F;</div><br/><div id="38285849" class="c"><input type="checkbox" id="c-38285849" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#38284527">root</a><span>|</span><a href="#38284591">parent</a><span>|</span><a href="#38285609">next</a><span>|</span><label class="collapse" for="c-38285849">[-]</label><label class="expand" for="c-38285849">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The fastest (affordable) network solution means using 10 GbE ...<p>That&#x27;s one of those &quot;it depends&quot; things.  If you only have a small number of computers that need connecting, and you&#x27;re ok with using 2nd hand gear... then 40GBe Mellanox adapters from Ebay are pretty affordable.  eg stuff like this (there&#x27;s a bunch):<p>* <a href="https:&#x2F;&#x2F;www.ebay.com.au&#x2F;itm&#x2F;293393033570" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.ebay.com.au&#x2F;itm&#x2F;293393033570</a><p>* <a href="https:&#x2F;&#x2F;www.ebay.com.au&#x2F;itm&#x2F;175163685084" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.ebay.com.au&#x2F;itm&#x2F;175163685084</a><p>Note - I don&#x27;t know those sellers at all.</div><br/></div></div></div></div><div id="38285609" class="c"><input type="checkbox" id="c-38285609" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38284527">parent</a><span>|</span><a href="#38284591">prev</a><span>|</span><a href="#38283908">next</a><span>|</span><label class="collapse" for="c-38285609">[-]</label><label class="expand" for="c-38285609">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s the Asustor although it only has one lane for each SSD.</div><br/></div></div></div></div><div id="38283908" class="c"><input type="checkbox" id="c-38283908" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#38284527">prev</a><span>|</span><label class="collapse" for="c-38283908">[-]</label><label class="expand" for="c-38283908">[1 more]</label></div><br/><div class="children"><div class="content">Can&#x27;t wait till there&#x27;s a NVMe-QUIC.</div><br/></div></div></div></div></div></div></div></body></html>