<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1720861252406" as="style"/><link rel="stylesheet" href="styles.css?v=1720861252406"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://helgeklein.com/blog/authelia-lldap-authentication-sso-user-management-password-reset-for-home-networks/">Authelia and Lldap: Authentication, SSO, User Management... for Home Networks</a> <span class="domain">(<a href="https://helgeklein.com">helgeklein.com</a>)</span></div><div class="subtext"><span>6502nerdface</span> | <span>14 comments</span></div><br/><div><div id="40952733" class="c"><input type="checkbox" id="c-40952733" checked=""/><div class="controls bullet"><span class="by">diskopanzer</span><span>|</span><a href="#40952456">next</a><span>|</span><label class="collapse" for="c-40952733">[-]</label><label class="expand" for="c-40952733">[1 more]</label></div><br/><div class="children"><div class="content">Those who do not want to choose e-mail as the notification method can take a look at ntfy.sh (<a href="https:&#x2F;&#x2F;github.com&#x2F;binwiederhier&#x2F;ntfy">https:&#x2F;&#x2F;github.com&#x2F;binwiederhier&#x2F;ntfy</a>). You can receive notifications via your smartphone (Android, iOS). A self-hosted server can also be used.</div><br/></div></div><div id="40952456" class="c"><input type="checkbox" id="c-40952456" checked=""/><div class="controls bullet"><span class="by">ShaddyDC</span><span>|</span><a href="#40952733">prev</a><span>|</span><a href="#40952107">next</a><span>|</span><label class="collapse" for="c-40952456">[-]</label><label class="expand" for="c-40952456">[1 more]</label></div><br/><div class="children"><div class="content">Kanidm is another similar tool for user management I&#x27;ve been enjoying. It has a strong focus on safe defaults and supports exposing the users via LDAP ootb. It&#x27;s fairly simple to set up as well, but I feel like it sometimes expects the users to be fairly technical.</div><br/></div></div><div id="40952107" class="c"><input type="checkbox" id="c-40952107" checked=""/><div class="controls bullet"><span class="by">kayson</span><span>|</span><a href="#40952456">prev</a><span>|</span><a href="#40952304">next</a><span>|</span><label class="collapse" for="c-40952107">[-]</label><label class="expand" for="c-40952107">[1 more]</label></div><br/><div class="children"><div class="content">Getting this stack set up is not as complicated as this post makes it seem... LLDAP is great and the dev was very responsive when I had issues with some early builds.<p>Plenty of documentation around on getting Authelia set up, and connecting it to LLDAP is also pretty straightforward.</div><br/></div></div><div id="40952304" class="c"><input type="checkbox" id="c-40952304" checked=""/><div class="controls bullet"><span class="by">mike503</span><span>|</span><a href="#40952107">prev</a><span>|</span><a href="#40951875">next</a><span>|</span><label class="collapse" for="c-40952304">[-]</label><label class="expand" for="c-40952304">[1 more]</label></div><br/><div class="children"><div class="content">I use authelia with nginx proxy manager talking to it for auth, works well. Haven&#x27;t externalized the users since I only have a few to deal with, but it&#x27;s cool having an entire suite of sites protected and provides http headers to grab the logged in user&#x27;s information.</div><br/></div></div><div id="40951875" class="c"><input type="checkbox" id="c-40951875" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#40952304">prev</a><span>|</span><a href="#40951819">next</a><span>|</span><label class="collapse" for="c-40951875">[-]</label><label class="expand" for="c-40951875">[1 more]</label></div><br/><div class="children"><div class="content">Bizarre coincidence. I just ran into lldap for the first time earlier today. I built it on Windows for fun. I&#x27;m new to Rust and it was surprisingly easy (and only needed very slight modification).<p>If I were going to support Windows clients on the hypothetical home network, however, I&#x27;d use Samba as a Domain Controller and use the LDAP server there. That gets you SSO to Windows clients too.</div><br/></div></div><div id="40951819" class="c"><input type="checkbox" id="c-40951819" checked=""/><div class="controls bullet"><span class="by">efitz</span><span>|</span><a href="#40951875">prev</a><span>|</span><a href="#40951727">next</a><span>|</span><label class="collapse" for="c-40951819">[-]</label><label class="expand" for="c-40951819">[4 more]</label></div><br/><div class="children"><div class="content">This caught my eye and I started reading over it but my eyes glazed over after a couple of sections of setting up various docker containers in various zfs directory structures and editing toml configuration files and zzzz…<p>Here’s a hint: for 99.999% of potential users, including 99.9% of motivated, technically savvy users, if I need to know the directory structure of your software, then you already failed.<p>I appreciate that you went through all the pain and learning and effort to figure out how to set all this up AND went to the trouble to write down a how to guide.<p>I hope someone comes later and bundles it up into a script I can launch that will prompt me for the various config options and then set it all up for me.</div><br/><div id="40951924" class="c"><input type="checkbox" id="c-40951924" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#40951819">parent</a><span>|</span><a href="#40952175">next</a><span>|</span><label class="collapse" for="c-40951924">[-]</label><label class="expand" for="c-40951924">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to be wrong, but I suspect that it is quite a narrow niche of users that a) are willing to run their own identity and auth servers but b) aren&#x27;t so persnickety about their software that they would be cool with some wizard to set it all up automagically.</div><br/><div id="40952507" class="c"><input type="checkbox" id="c-40952507" checked=""/><div class="controls bullet"><span class="by">KAMSPioneer</span><span>|</span><a href="#40951819">root</a><span>|</span><a href="#40951924">parent</a><span>|</span><a href="#40952175">next</a><span>|</span><label class="collapse" for="c-40952507">[-]</label><label class="expand" for="c-40952507">[1 more]</label></div><br/><div class="children"><div class="content">Well once you remove the set of users who want Windows Active Directory, then yes, I agree. :)</div><br/></div></div></div></div><div id="40952175" class="c"><input type="checkbox" id="c-40952175" checked=""/><div class="controls bullet"><span class="by">fesc</span><span>|</span><a href="#40951819">parent</a><span>|</span><a href="#40951924">prev</a><span>|</span><a href="#40951727">next</a><span>|</span><label class="collapse" for="c-40952175">[-]</label><label class="expand" for="c-40952175">[1 more]</label></div><br/><div class="children"><div class="content">I disagree, seems like a pretty standard structure of one directorz per app and inside that subfolders for configuration, secrets, opaque various data. Not complicated at all really.</div><br/></div></div></div></div><div id="40951727" class="c"><input type="checkbox" id="c-40951727" checked=""/><div class="controls bullet"><span class="by">RealityVoid</span><span>|</span><a href="#40951819">prev</a><span>|</span><label class="collapse" for="c-40951727">[-]</label><label class="expand" for="c-40951727">[4 more]</label></div><br/><div class="children"><div class="content">I want to set up something like this for my home network. The one thing missing that I&#x27;d also like is a way for users to log in to windows machines using these credentials. I understand that is also possible via Kerberos, but... Well, it takes some time to understand these things, me not doing a whole lot of sysadmin work
...<p>It also seems the author has a more recent post about using Samba as an AD controller, and that would be an alternative to this setup right here:<p><a href="https:&#x2F;&#x2F;helgeklein.com&#x2F;blog&#x2F;samba-active-directory-in-a-docker-container-installation-guide&#x2F;" rel="nofollow">https:&#x2F;&#x2F;helgeklein.com&#x2F;blog&#x2F;samba-active-directory-in-a-dock...</a></div><br/><div id="40951773" class="c"><input type="checkbox" id="c-40951773" checked=""/><div class="controls bullet"><span class="by">SteveNuts</span><span>|</span><a href="#40951727">parent</a><span>|</span><a href="#40951770">next</a><span>|</span><label class="collapse" for="c-40951773">[-]</label><label class="expand" for="c-40951773">[1 more]</label></div><br/><div class="children"><div class="content">FreeIPA (the upstream project for Red Hats IDM) could fit your needs<p><a href="https:&#x2F;&#x2F;www.freeipa.org&#x2F;page&#x2F;Windows_authentication_against_FreeIPA" rel="nofollow">https:&#x2F;&#x2F;www.freeipa.org&#x2F;page&#x2F;Windows_authentication_against_...</a></div><br/></div></div><div id="40951770" class="c"><input type="checkbox" id="c-40951770" checked=""/><div class="controls bullet"><span class="by">Helmut10001</span><span>|</span><a href="#40951727">parent</a><span>|</span><a href="#40951773">prev</a><span>|</span><a href="#40951866">next</a><span>|</span><label class="collapse" for="c-40951770">[-]</label><label class="expand" for="c-40951770">[1 more]</label></div><br/><div class="children"><div class="content">Keycloak has Kerberos+LDAP Federation build in. I wrote a blog post on how to self-host keycloak [1]. If you don&#x27;t do theming, it is quite quick to setup. Just updated the blog post for version 25.0.1.<p>[1]: <a href="https:&#x2F;&#x2F;du.nkel.dev&#x2F;blog&#x2F;2024-02-10_keycloak-docker-compose-nginx&#x2F;" rel="nofollow">https:&#x2F;&#x2F;du.nkel.dev&#x2F;blog&#x2F;2024-02-10_keycloak-docker-compose-...</a></div><br/></div></div><div id="40951866" class="c"><input type="checkbox" id="c-40951866" checked=""/><div class="controls bullet"><span class="by">EvanAnderson</span><span>|</span><a href="#40951727">parent</a><span>|</span><a href="#40951770">prev</a><span>|</span><label class="collapse" for="c-40951866">[-]</label><label class="expand" for="c-40951866">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d go the Samba Domain Controller route, personally. Of any way to do it I think that would give you the smallest sysadmin &quot;burden&quot;. You&#x27;ll also get Group Policy functionality, which is useful for standardizing configurations across your Windows clients (if that&#x27;s a thing you need).</div><br/></div></div></div></div></div></div></div></div></div></body></html>