<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721898068683" as="style"/><link rel="stylesheet" href="styles.css?v=1721898068683"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://trufflesecurity.com/blog/anyone-can-access-deleted-and-private-repo-data-github">Anyone can access deleted and private repository data on GitHub</a>Â <span class="domain">(<a href="https://trufflesecurity.com">trufflesecurity.com</a>)</span></div><div class="subtext"><span>__0x1__</span> | <span>202 comments</span></div><br/><div><div id="41060617" class="c"><input type="checkbox" id="c-41060617" checked=""/><div class="controls bullet"><span class="by">andersa</span><span>|</span><a href="#41061136">next</a><span>|</span><label class="collapse" for="c-41060617">[-]</label><label class="expand" for="c-41060617">[77 more]</label></div><br/><div class="children"><div class="content">I reported this on their HackerOne many years ago (2018 it seems) and they said it was working as intended. Conclusion: don&#x27;t use private forks. Copy the repository instead.<p>Here is their full response from back then:<p>&gt; Thanks for the submission! We have reviewed your report and validated your findings. After internally assessing the finding we have determined it is a known low risk issue. We may make this functionality more strict in the future, but don&#x27;t have anything to announce now. As a result, this is not eligible for reward under the Bug Bounty program.<p>&gt; GitHub stores the parent repository along with forks in a &quot;repository network&quot;. It is a known behavior that objects from one network member are readable via other network members. Blobs and commits are stored together, while refs are stored separately for each fork. This shared storage model is what allows for pull requests between members of the same network. When a repository&#x27;s visibility changes (Eg. public-&gt;private) we remove it from the network to prevent private commits&#x2F;blobs from being readable via another network member.</div><br/><div id="41062689" class="c"><input type="checkbox" id="c-41062689" checked=""/><div class="controls bullet"><span class="by">SnowflakeOnIce</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41060894">next</a><span>|</span><label class="collapse" for="c-41062689">[-]</label><label class="expand" for="c-41062689">[14 more]</label></div><br/><div class="children"><div class="content">There seems to be no such thing as a &quot;private fork&quot; on GitHub in 2024 [1]:<p>&gt; A fork is a new repository that shares code and visibility settings with the upstream repository. All forks of public repositories are public. You cannot change the visibility of a fork.<p>[1] <a href="https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;pull-requests&#x2F;collaborating-with-pull-requests&#x2F;working-with-forks&#x2F;about-permissions-and-visibility-of-forks#about-visibility-of-forks" rel="nofollow">https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;pull-requests&#x2F;collaborating-with-...</a></div><br/><div id="41063756" class="c"><input type="checkbox" id="c-41063756" checked=""/><div class="controls bullet"><span class="by">ff7c11</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062689">parent</a><span>|</span><a href="#41066149">next</a><span>|</span><label class="collapse" for="c-41063756">[-]</label><label class="expand" for="c-41063756">[3 more]</label></div><br/><div class="children"><div class="content">A fork of a private repo is private. When you make the original repo public, the fork is still a private repo, but the commits can now be accessed by hash.</div><br/><div id="41063826" class="c"><input type="checkbox" id="c-41063826" checked=""/><div class="controls bullet"><span class="by">CGamesPlay</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41063756">parent</a><span>|</span><a href="#41066149">next</a><span>|</span><label class="collapse" for="c-41063826">[-]</label><label class="expand" for="c-41063826">[2 more]</label></div><br/><div class="children"><div class="content">According to the screenshot in the documentation, though, <i>new</i> commits made to the fork will <i>not</i> be accessible by hash. So private feature branches in forks may be accessible via the upstream that was changed to public, if those branches existed at the time the upstream&#x27;s visibility changed, but new feature branches made after that time won&#x27;t be accessible.</div><br/><div id="41064264" class="c"><input type="checkbox" id="c-41064264" checked=""/><div class="controls bullet"><span class="by">pcthrowaway</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41063826">parent</a><span>|</span><a href="#41066149">next</a><span>|</span><label class="collapse" for="c-41064264">[-]</label><label class="expand" for="c-41064264">[1 more]</label></div><br/><div class="children"><div class="content">OK but say a company has a private, closed source internal tool, and they want to open-source some part of it. They fork it and start working on cleaning up the history to make it publishable.<p>After some changes which include deleting sensitive information and proprietary code, and squashing all the history to one commit, they change the repo to public.<p>According to this article, any commit on either repo which was made <i>before</i> the 2nd repo was made public, can still be accessed on the public repo.</div><br/></div></div></div></div></div></div><div id="41066149" class="c"><input type="checkbox" id="c-41066149" checked=""/><div class="controls bullet"><span class="by">itsgabriel</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062689">parent</a><span>|</span><a href="#41063756">prev</a><span>|</span><a href="#41064918">next</a><span>|</span><label class="collapse" for="c-41066149">[-]</label><label class="expand" for="c-41066149">[1 more]</label></div><br/><div class="children"><div class="content">Funnily enough the docs are wrong, the GitHub CLI allows changing a forks visibility <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;78094654&#x2F;12846952" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;78094654&#x2F;12846952</a></div><br/></div></div><div id="41064918" class="c"><input type="checkbox" id="c-41064918" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062689">parent</a><span>|</span><a href="#41066149">prev</a><span>|</span><a href="#41062805">next</a><span>|</span><label class="collapse" for="c-41064918">[-]</label><label class="expand" for="c-41064918">[3 more]</label></div><br/><div class="children"><div class="content">Am I the only one who finds this conceptually confusing?</div><br/><div id="41065367" class="c"><input type="checkbox" id="c-41065367" checked=""/><div class="controls bullet"><span class="by">rocqua</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41064918">parent</a><span>|</span><a href="#41062805">next</a><span>|</span><label class="collapse" for="c-41065367">[-]</label><label class="expand" for="c-41065367">[2 more]</label></div><br/><div class="children"><div class="content">Nope, me too. The whole Repo network thing is not User facing at all. It is an internal thing at GitHub to allow easier pull requests between repo&#x27;s. But it isn&#x27;t a concept git knows, and it doesn&#x27;t affect GitHub users at all except for this one weird thing.</div><br/><div id="41066379" class="c"><input type="checkbox" id="c-41066379" checked=""/><div class="controls bullet"><span class="by">brazzledazzle</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41065367">parent</a><span>|</span><a href="#41062805">next</a><span>|</span><label class="collapse" for="c-41066379">[-]</label><label class="expand" for="c-41066379">[1 more]</label></div><br/><div class="children"><div class="content">I may be recalling incorrectly but I seem to remember it having some storage deduplication benefits on the backend.</div><br/></div></div></div></div></div></div><div id="41062805" class="c"><input type="checkbox" id="c-41062805" checked=""/><div class="controls bullet"><span class="by">Manuel_D</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062689">parent</a><span>|</span><a href="#41064918">prev</a><span>|</span><a href="#41060894">next</a><span>|</span><label class="collapse" for="c-41062805">[-]</label><label class="expand" for="c-41062805">[6 more]</label></div><br/><div class="children"><div class="content">Not through the GitHub interface, no. But you can copy all files in a repository and create a new repository. IIRC there&#x27;s a way to retain the history via this process as well.</div><br/><div id="41063065" class="c"><input type="checkbox" id="c-41063065" checked=""/><div class="controls bullet"><span class="by">JyB</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062805">parent</a><span>|</span><a href="#41062944">next</a><span>|</span><label class="collapse" for="c-41063065">[-]</label><label class="expand" for="c-41063065">[1 more]</label></div><br/><div class="children"><div class="content">Thatâs beside the point. The article is specifically about Â« GitHub forks Â» and their shortcomings. Itâs unrelated to pushing to distinct repositories not magically Â´linkedâ by the GH Â« fork feature Â».</div><br/></div></div><div id="41062944" class="c"><input type="checkbox" id="c-41062944" checked=""/><div class="controls bullet"><span class="by">mckn1ght</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062805">parent</a><span>|</span><a href="#41063065">prev</a><span>|</span><a href="#41062956">next</a><span>|</span><label class="collapse" for="c-41062944">[-]</label><label class="expand" for="c-41062944">[1 more]</label></div><br/><div class="children"><div class="content">You can create a private repository on GitHub, clone it locally, add the repo being &quot;forked&quot; from as a separate git remote (I usually call this one &quot;upstream&quot; and my &quot;fork&quot;, well, &quot;fork&quot;), fetch and pull from upstream, then push to fork.</div><br/></div></div><div id="41062956" class="c"><input type="checkbox" id="c-41062956" checked=""/><div class="controls bullet"><span class="by">shkkmo</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062805">parent</a><span>|</span><a href="#41062944">prev</a><span>|</span><a href="#41062917">next</a><span>|</span><label class="collapse" for="c-41062956">[-]</label><label class="expand" for="c-41062956">[1 more]</label></div><br/><div class="children"><div class="content">All you should have to do is just clone the repo locally and then create a blank GitHub repository, set it as the&#x2F;a remote and push to it.</div><br/></div></div><div id="41062917" class="c"><input type="checkbox" id="c-41062917" checked=""/><div class="controls bullet"><span class="by">make3</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062805">parent</a><span>|</span><a href="#41062956">prev</a><span>|</span><a href="#41062922">next</a><span>|</span><label class="collapse" for="c-41062917">[-]</label><label class="expand" for="c-41062917">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not the GitHub concept &#x2F; almost trademark of &quot;fork&quot; anymore though, which is what your parent was talking about</div><br/></div></div><div id="41062922" class="c"><input type="checkbox" id="c-41062922" checked=""/><div class="controls bullet"><span class="by">a1o</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062805">parent</a><span>|</span><a href="#41062917">prev</a><span>|</span><a href="#41060894">next</a><span>|</span><label class="collapse" for="c-41062922">[-]</label><label class="expand" for="c-41062922">[1 more]</label></div><br/><div class="children"><div class="content">I mean it&#x27;s git, just git init, git remote add for origin and upstream, origin pointing to your private, git fetch upstream, git push to origin.</div><br/></div></div></div></div></div></div><div id="41060894" class="c"><input type="checkbox" id="c-41060894" checked=""/><div class="controls bullet"><span class="by">liendolucas</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41062689">prev</a><span>|</span><a href="#41060699">next</a><span>|</span><label class="collapse" for="c-41060894">[-]</label><label class="expand" for="c-41060894">[49 more]</label></div><br/><div class="children"><div class="content">Honest question. Submitting these types of bugs only to get a: &quot;we have determined it is known low risk issue...&quot; seems like they really don&#x27;t want to pay for someone else&#x27;s time and dedication in making their product safer. If they knew about this, was this disclosed somewhere? If not I don&#x27;t see them playing a fair game. What&#x27;s the motivation to do this if in the end they can have the final decision to award you or not? To me it looks like similar to what happens with Google Play&#x2F;Apple store to decide whether or not an app can be uploaded&#x2F;distributed through them.<p>Edit: I popped this up because to me is absolutely miserable from a big company to just say: &quot;Thanks, but we were aware of this&quot;.</div><br/><div id="41061025" class="c"><input type="checkbox" id="c-41061025" checked=""/><div class="controls bullet"><span class="by">jonahx</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41062461">next</a><span>|</span><label class="collapse" for="c-41061025">[-]</label><label class="expand" for="c-41061025">[28 more]</label></div><br/><div class="children"><div class="content">Not defending GH here (their position is indefensible imo) but, as the article notes, they document these behaviors clearly and publicly:<p><a href="https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;pull-requests&#x2F;collaborating-with-pull-requests&#x2F;working-with-forks&#x2F;what-happens-to-forks-when-a-repository-is-deleted-or-changes-visibility" rel="nofollow">https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;pull-requests&#x2F;collaborating-with-...</a><p>I don&#x27;t think they&#x27;re being underhanded exactly... they&#x27;re just making a terrible decision.  Quoting from the article:<p>&gt; The average user views the separation of private and public repositories as a security boundary, and understandably believes that any data located in a private repository cannot be accessed by public users. Unfortunately, as we documented above, that is not always true. Whatsmore, the act of deletion implies the destruction of data. As we saw above, deleting a repository or fork does not mean your commit data is actually deleted.</div><br/><div id="41061226" class="c"><input type="checkbox" id="c-41061226" checked=""/><div class="controls bullet"><span class="by">andersa</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061025">parent</a><span>|</span><a href="#41062287">next</a><span>|</span><label class="collapse" for="c-41061226">[-]</label><label class="expand" for="c-41061226">[19 more]</label></div><br/><div class="children"><div class="content">Based on some (admittedly not very thorough) search, this documentation was posted in 2021, three years after my report.</div><br/><div id="41061832" class="c"><input type="checkbox" id="c-41061832" checked=""/><div class="controls bullet"><span class="by">YetAnotherNick</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061226">parent</a><span>|</span><a href="#41062287">next</a><span>|</span><label class="collapse" for="c-41061832">[-]</label><label class="expand" for="c-41061832">[18 more]</label></div><br/><div class="children"><div class="content">But that would still means they didn&#x27;t intend to fix it, hence not giving bounty is fair.</div><br/><div id="41062076" class="c"><input type="checkbox" id="c-41062076" checked=""/><div class="controls bullet"><span class="by">malfist</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061832">parent</a><span>|</span><a href="#41062287">next</a><span>|</span><label class="collapse" for="c-41062076">[-]</label><label class="expand" for="c-41062076">[17 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bug bounty, not a &quot;only if we have time to fix it&quot; bounty.<p>He found a security problem, they decided not to act on it, but it was still an acknowledged security problem</div><br/><div id="41066401" class="c"><input type="checkbox" id="c-41066401" checked=""/><div class="controls bullet"><span class="by">K0balt</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062076">parent</a><span>|</span><a href="#41062683">next</a><span>|</span><label class="collapse" for="c-41066401">[-]</label><label class="expand" for="c-41066401">[1 more]</label></div><br/><div class="children"><div class="content">The property (âbugâ) in question is an inherent  and intentional property of meekly-tree type storage systems such as git.<p>Calling this a bug is like  reporting that telnet sends information unencrypted.<p>The actual bug is in the way that their UX paradigm sets user expectations.</div><br/></div></div><div id="41062683" class="c"><input type="checkbox" id="c-41062683" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062076">parent</a><span>|</span><a href="#41066401">prev</a><span>|</span><a href="#41062286">next</a><span>|</span><label class="collapse" for="c-41062683">[-]</label><label class="expand" for="c-41062683">[5 more]</label></div><br/><div class="children"><div class="content">&gt;<i>It&#x27;s a bug bounty, not a &quot;only if we have time to fix it&quot; bounty</i><p>It&#x27;s only a bug if it&#x27;s not intended</div><br/><div id="41065208" class="c"><input type="checkbox" id="c-41065208" checked=""/><div class="controls bullet"><span class="by">bmitc</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062683">parent</a><span>|</span><a href="#41063651">next</a><span>|</span><label class="collapse" for="c-41065208">[-]</label><label class="expand" for="c-41065208">[1 more]</label></div><br/><div class="children"><div class="content">I think a lot of developers and companies interpret &quot;that&#x27;s the way the code or process works&quot; as intentional behavior, which is not always the case.</div><br/></div></div><div id="41063651" class="c"><input type="checkbox" id="c-41063651" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062683">parent</a><span>|</span><a href="#41065208">prev</a><span>|</span><a href="#41062286">next</a><span>|</span><label class="collapse" for="c-41063651">[-]</label><label class="expand" for="c-41063651">[3 more]</label></div><br/><div class="children"><div class="content">Do some companies intend for their platform to feature remote code execution?</div><br/><div id="41063957" class="c"><input type="checkbox" id="c-41063957" checked=""/><div class="controls bullet"><span class="by">jen20</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41063651">parent</a><span>|</span><a href="#41062286">next</a><span>|</span><label class="collapse" for="c-41063957">[-]</label><label class="expand" for="c-41063957">[2 more]</label></div><br/><div class="children"><div class="content">Remote code execution is literally a feature of GitHubâ¦</div><br/><div id="41064465" class="c"><input type="checkbox" id="c-41064465" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41063957">parent</a><span>|</span><a href="#41062286">next</a><span>|</span><label class="collapse" for="c-41064465">[-]</label><label class="expand" for="c-41064465">[1 more]</label></div><br/><div class="children"><div class="content">Sandboxed code execution is a bit different than RCE.</div><br/></div></div></div></div></div></div></div></div><div id="41062286" class="c"><input type="checkbox" id="c-41062286" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062076">parent</a><span>|</span><a href="#41062683">prev</a><span>|</span><a href="#41062287">next</a><span>|</span><label class="collapse" for="c-41062286">[-]</label><label class="expand" for="c-41062286">[10 more]</label></div><br/><div class="children"><div class="content">The point of a bug bounty is for companies to find new security problems.<p>If the (class of) problem is already known, itâs not worth rewarding.</div><br/><div id="41062434" class="c"><input type="checkbox" id="c-41062434" checked=""/><div class="controls bullet"><span class="by">berdario</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062286">parent</a><span>|</span><a href="#41062448">next</a><span>|</span><label class="collapse" for="c-41062434">[-]</label><label class="expand" for="c-41062434">[6 more]</label></div><br/><div class="children"><div class="content">I can see this argument making a bit of sense, but if they documented this 3 years after the issue was reported, they don&#x27;t have a way to demonstrate that they truly already knew.<p>At the end it boils down to: is Github being honest and fair in answering the bug bounty reports?<p>If you think it is, cool.<p>If you don&#x27;t, maybe it&#x27;s not worth playing ball with Github&#x27;s bug bounty process</div><br/><div id="41062498" class="c"><input type="checkbox" id="c-41062498" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062434">parent</a><span>|</span><a href="#41063540">next</a><span>|</span><label class="collapse" for="c-41062498">[-]</label><label class="expand" for="c-41062498">[4 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t matter if they knew. If they don&#x27;t deem it a security vulnerability --- and they have put their money where their mouth is, by <i>documenting it as part of the platform behavior</i> --- it&#x27;s not eligible for a payout. It can be a bug, but if it&#x27;s not the kind of bug the bounty program is designed to address, it&#x27;s not getting paid out. The incentives you create by paying for every random non-vulnerability are really bad.<p>The subtext of this thread is that companies should reward any research that turns up surprising or user-hostile behavior in products. It&#x27;s good to want things. But that is not the point of a security bug bounty.</div><br/><div id="41063300" class="c"><input type="checkbox" id="c-41063300" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062498">parent</a><span>|</span><a href="#41062985">next</a><span>|</span><label class="collapse" for="c-41063300">[-]</label><label class="expand" for="c-41063300">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The incentives you create by paying for every random non-vulnerability are really bad.<p>So much this. It&#x27;s pretty clear that most people commenting on this thread have never been involved in a bug bounty program on the company&#x27;s side.<p>Bug bounty programs get a lot of reports, most of which are frankly useless and many of which are cases of intended behavior subjectively perceived as problematic. Sifting through that mess is a lot of work, and if you regularly pay out on unhelpful reports you end up with many more unhelpful reports.<p>This particular case definitely feels like one where the intended behavior is horribly broken, but there are absolutely many cases where &quot;this is intended&quot; is the only valid answer to a report.</div><br/></div></div><div id="41062985" class="c"><input type="checkbox" id="c-41062985" checked=""/><div class="controls bullet"><span class="by">cycomanic</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062498">parent</a><span>|</span><a href="#41063300">prev</a><span>|</span><a href="#41063540">next</a><span>|</span><label class="collapse" for="c-41062985">[-]</label><label class="expand" for="c-41062985">[2 more]</label></div><br/><div class="children"><div class="content">I would argue that even if the behaviour was as intended, at least the fact that it was not documented was a bug (and a pretty serious one at that).</div><br/><div id="41063236" class="c"><input type="checkbox" id="c-41063236" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062985">parent</a><span>|</span><a href="#41063540">next</a><span>|</span><label class="collapse" for="c-41063236">[-]</label><label class="expand" for="c-41063236">[1 more]</label></div><br/><div class="children"><div class="content">Again: you don&#x27;t generally get bounties for finding &quot;bugs&quot;; you get them exclusively for finding qualified vulnerabilities.</div><br/></div></div></div></div></div></div></div></div><div id="41062448" class="c"><input type="checkbox" id="c-41062448" checked=""/><div class="controls bullet"><span class="by">andrewinardeer</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062286">parent</a><span>|</span><a href="#41062434">prev</a><span>|</span><a href="#41062287">next</a><span>|</span><label class="collapse" for="c-41062448">[-]</label><label class="expand" for="c-41062448">[3 more]</label></div><br/><div class="children"><div class="content">If a renown company won&#x27;t pay a bug bounty, a foreign government often will.</div><br/><div id="41062733" class="c"><input type="checkbox" id="c-41062733" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062448">parent</a><span>|</span><a href="#41062927">next</a><span>|</span><label class="collapse" for="c-41062733">[-]</label><label class="expand" for="c-41062733">[1 more]</label></div><br/><div class="children"><div class="content">Why would a foreign government pay for a commonly known security limitation of a product?</div><br/></div></div><div id="41062927" class="c"><input type="checkbox" id="c-41062927" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062448">parent</a><span>|</span><a href="#41062733">prev</a><span>|</span><a href="#41062287">next</a><span>|</span><label class="collapse" for="c-41062927">[-]</label><label class="expand" for="c-41062927">[1 more]</label></div><br/><div class="children"><div class="content">Good luck selling this to a foreign (or domestic) government. It doesnât seem valuable to me, but who knows, maybe someone finds it worth payout.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="41062287" class="c"><input type="checkbox" id="c-41062287" checked=""/><div class="controls bullet"><span class="by">jowea</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061025">parent</a><span>|</span><a href="#41061226">prev</a><span>|</span><a href="#41063222">next</a><span>|</span><label class="collapse" for="c-41062287">[-]</label><label class="expand" for="c-41062287">[1 more]</label></div><br/><div class="children"><div class="content">Shouldn&#x27;t that be on the config page for the repo below the &quot;private&quot; button with a note saying private is not actually private if it&#x27;s a fork? And ditto for delete?</div><br/></div></div><div id="41063222" class="c"><input type="checkbox" id="c-41063222" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061025">parent</a><span>|</span><a href="#41062287">prev</a><span>|</span><a href="#41062461">next</a><span>|</span><label class="collapse" for="c-41063222">[-]</label><label class="expand" for="c-41063222">[7 more]</label></div><br/><div class="children"><div class="content">From the article:<p><i>&quot;We surveyed a few (literally 3) commonly-forked public repositories from a large AI company and easily found 40 valid API keys from deleted forks.&quot;</i><p>This is how your customers get their entire cloud taken over, because you made a stupid, <i>stupid</i> decision and instead of fixing it when warned (repeatedly!) you instead decide to just blame the customer for not reading page 537 paragraph 3 subsection B about the counter-intuitive security footgun you&#x27;ve left in your product.<p>This is negligence, pure and simple.</div><br/><div id="41063836" class="c"><input type="checkbox" id="c-41063836" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41063222">parent</a><span>|</span><a href="#41062461">next</a><span>|</span><label class="collapse" for="c-41063836">[-]</label><label class="expand" for="c-41063836">[6 more]</label></div><br/><div class="children"><div class="content">If you published a key, you <i>must</i> assume someone copied it and that deleting references to it is not sufficient. You <i>must</i> rotate that key now, and should check whether it was used improperly. This is pretty basic incident response.<p>The thing about exposing commits that were only ever in a private repo is pretty indefensible, but not garbage collecting public commits on delete shouldn&#x27;t matter.</div><br/><div id="41064262" class="c"><input type="checkbox" id="c-41064262" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41063836">parent</a><span>|</span><a href="#41062461">next</a><span>|</span><label class="collapse" for="c-41064262">[-]</label><label class="expand" for="c-41064262">[5 more]</label></div><br/><div class="children"><div class="content">&gt; If you published a key<p>Why would anyone think that a private fork is &quot;published&quot;!?<p>This is the footgun here: The UI is telling you that nobody can see the secrets you committed to <i>your private copy</i>, but actually it is widely accessible.<p>A similar example of UI-vs-reality mismatch that I&#x27;ve noticed recently is the Azure Store Account &quot;public&quot; visibility. By default, it uses your <i>authenticated</i> account for RBAC access checks, so if you click around it&#x27;ll say something like &quot;you don&#x27;t have browse access&quot;. This looks secure, but attempting access <i>anonymously</i> would have succeeded!<p>I had a customer recently where this happened -- they clicked through every Storage Account to &quot;check&quot; them, convinced themselves they were secure, meanwhile they had database backups with PII accessible to world+dog!</div><br/><div id="41064458" class="c"><input type="checkbox" id="c-41064458" checked=""/><div class="controls bullet"><span class="by">cellis</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41064262">parent</a><span>|</span><a href="#41065631">next</a><span>|</span><label class="collapse" for="c-41064458">[-]</label><label class="expand" for="c-41064458">[2 more]</label></div><br/><div class="children"><div class="content">Putting keys in repos should not be done, full stop. Even if GitHub forks werenât public, their _private_ repos could one day be compromised. Instead, store keys in a shared vault, .gitignore the .env and have a .env.example with empty keys.</div><br/><div id="41065268" class="c"><input type="checkbox" id="c-41065268" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41064458">parent</a><span>|</span><a href="#41065631">next</a><span>|</span><label class="collapse" for="c-41065268">[-]</label><label class="expand" for="c-41065268">[1 more]</label></div><br/><div class="children"><div class="content">Any time I hear âshouldnât be doneâ I translate that to âwill happen regularlyâ.<p>I do see this regularly in my work. All but one dev team Iâve worked with over the last few years has done this.</div><br/></div></div></div></div><div id="41065631" class="c"><input type="checkbox" id="c-41065631" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41064262">parent</a><span>|</span><a href="#41064458">prev</a><span>|</span><a href="#41064467">next</a><span>|</span><label class="collapse" for="c-41065631">[-]</label><label class="expand" for="c-41065631">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why would anyone think that a private fork is &quot;published&quot;!?<p>Anyone who put sensitive content in a git repo should consider published anyway. Git is a decentralized tool, as a company you cannot control the amount of git remotes that may host your code. Considering your code is only hosted as a private repo in a specific remote git server is at best naive. This is without even considering the amount of copies that are stored in dev computers.<p>Besides, anyone who put stuff on a third party publicly accessible infrastructure should consider it published anyway as breaches happen all the time.<p>If you happen to have api keys stored in a git repo, the only viable response is rotating those keys.</div><br/></div></div><div id="41064467" class="c"><input type="checkbox" id="c-41064467" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41064262">parent</a><span>|</span><a href="#41065631">prev</a><span>|</span><a href="#41062461">next</a><span>|</span><label class="collapse" for="c-41064467">[-]</label><label class="expand" for="c-41064467">[1 more]</label></div><br/><div class="children"><div class="content">The bit you quoted is referring to public forks that were deleted. That sounds like a non-issue to me, and I&#x27;m not at all surprised that<p>1. Public &quot;forks&quot; are just namespaced branches that share an underlying repo<p>2. They don&#x27;t run the garbage collector all the time<p>I&#x27;d be surprised if those <i>weren&#x27;t</i> true.<p>Like I said, the behavior with private forks sounds indefensible.<p>The OP is mixing together multiple things. Being able to access deleted <i>public</i> data isn&#x27;t that surprising and definitely isn&#x27;t a security issue as far as leaking keys is concerned (it was already public. Assume it has been cloned). Being able to access <i>private</i> forks is a footgun&#x2F;issue. They should be garbage collecting as part of public repo creation so that unreferenced commits from private forks aren&#x27;t included.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41062461" class="c"><input type="checkbox" id="c-41062461" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41061025">prev</a><span>|</span><a href="#41060982">next</a><span>|</span><label class="collapse" for="c-41062461">[-]</label><label class="expand" for="c-41062461">[1 more]</label></div><br/><div class="children"><div class="content">No large company running a bug bounty cares one iota about stiffing you on a bounty payment. The teams running this programs are internally incentivized to <i>maximize</i> payouts; the payouts are evidence that the system is working. If you&#x27;re denied a payment --- for a large company, at least --- there&#x27;s something else going on.<p>The thing to keep in mind is that large-scale bug bounty programs make their own incentive weather. People game the hell out of them. If you ack and fix sev:info bugs, people submit <i>lots</i> more sev:info bugs, and now your security program has been reoriented around the dumbest bugs --- the opposite of what you want a bounty program to do.</div><br/></div></div><div id="41060982" class="c"><input type="checkbox" id="c-41060982" checked=""/><div class="controls bullet"><span class="by">kayodelycaon</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41062461">prev</a><span>|</span><a href="#41061569">next</a><span>|</span><label class="collapse" for="c-41060982">[-]</label><label class="expand" for="c-41060982">[10 more]</label></div><br/><div class="children"><div class="content">As the article pointed out, GitHub already publicly documented this vulnerability.<p>My employer doesn&#x27;t pay out for known security issues, especially if we have mitigating controls.<p>A lot of people spam us with vulnerability reports from security tools we already use. At least half of them turn out to be false positives we are already aware of. In my opinion, running a bug bounty program at all is a net negative for us. We aren&#x27;t large enough to get the attention of anyone competent.</div><br/><div id="41062359" class="c"><input type="checkbox" id="c-41062359" checked=""/><div class="controls bullet"><span class="by">giobox</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060982">parent</a><span>|</span><a href="#41062331">next</a><span>|</span><label class="collapse" for="c-41062359">[-]</label><label class="expand" for="c-41062359">[7 more]</label></div><br/><div class="children"><div class="content">&gt; As the article pointed out, GitHub already publicly documented this vulnerability.<p>I&#x27;m honestly not yet convinced that is enough here - I&#x27;ve fallen victim to this without realizing it - the behaviour here is so far removed from how I suspect most user&#x27;s mental model of github.com works. For me none of the exposed data is sensitive, but the point remains I was totally unawares it would be retrievable like this.<p>If the behaviour flies so against the grain, just publishing it in a help doc is not enough I&#x27;d argue. The linked article makes the exact same argument:<p>&gt; &quot;The average user views the separation of private and public repositories as a security boundary, and understandably believes that any data located in a private repository cannot be accessed by public users. Unfortunately, as we documented above, that is not always true. Whatsmore, the act of deletion implies the destruction of data. As we saw above, deleting a repository or fork does not mean your commit data is actually deleted.&quot;</div><br/><div id="41062528" class="c"><input type="checkbox" id="c-41062528" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062359">parent</a><span>|</span><a href="#41063663">next</a><span>|</span><label class="collapse" for="c-41062528">[-]</label><label class="expand" for="c-41062528">[5 more]</label></div><br/><div class="children"><div class="content">The problem with this line of argument is that the fundamental workings of git are also surprising to people, such that they routinely attempt to address mistaken hazmat commits by simple reverts. If at bottom this whole story is just that git is treacherous, well, yeah, but not news.<p>There&#x27;s a deeper problem here, which is that making the UX on hosting sites less surprising doesn&#x27;t fix the underlying problem. There is a best-practices response to commiting hazmat to a repository: revoke the hazmat, so that its disclosure no long matters. <i>You have to do this anyways.</i> If you can&#x27;t, you should be in contact with Github directly to remove it.</div><br/><div id="41062809" class="c"><input type="checkbox" id="c-41062809" checked=""/><div class="controls bullet"><span class="by">Cpoll</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062528">parent</a><span>|</span><a href="#41063295">next</a><span>|</span><label class="collapse" for="c-41062809">[-]</label><label class="expand" for="c-41062809">[3 more]</label></div><br/><div class="children"><div class="content">Is &quot;git&quot; relevant here? Forking isn&#x27;t a git concept, and none of this behaviour has much to do with git; it&#x27;s all GitHub.<p>Also, you can revoke an API key, but you can&#x27;t revoke a company-proprietary algorithm that you implemented into a fork of a public project.</div><br/><div id="41062854" class="c"><input type="checkbox" id="c-41062854" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062809">parent</a><span>|</span><a href="#41064739">next</a><span>|</span><label class="collapse" for="c-41062854">[-]</label><label class="expand" for="c-41062854">[1 more]</label></div><br/><div class="children"><div class="content">Like I said: if you can&#x27;t revoke the thing you committed, you need to get in touch with Github and have them remove it. That&#x27;s a thing they do.</div><br/></div></div><div id="41064739" class="c"><input type="checkbox" id="c-41064739" checked=""/><div class="controls bullet"><span class="by">schrodinger</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062809">parent</a><span>|</span><a href="#41062854">prev</a><span>|</span><a href="#41063295">next</a><span>|</span><label class="collapse" for="c-41064739">[-]</label><label class="expand" for="c-41064739">[1 more]</label></div><br/><div class="children"><div class="content">aside: I think it&#x27;s questionable to say that forking isn&#x27;t a git concept. it&#x27;s just a branch on a different upstream. Those two upstreams could simply be two different folders on your machine, or shared server.<p>I supposed the branding and UI for it could be a counter argument, but then again Github allows regular branch creation &#x2F; committing &#x2F; merging in their UI. Their main value add (not downplaying itâit&#x27;s huge) on top of git (besides ancillary things like CI &#x2F; linters) is the ability to comment on a branch&#x27;s diff, i.e. a PR Review.</div><br/></div></div></div></div><div id="41063295" class="c"><input type="checkbox" id="c-41063295" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062528">parent</a><span>|</span><a href="#41062809">prev</a><span>|</span><a href="#41063663">next</a><span>|</span><label class="collapse" for="c-41063295">[-]</label><label class="expand" for="c-41063295">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, and we can blame a lot of that on the Git developers, but they never use words like âpublicâ and âprivateâ to indicate things theyâre not.<p>Regardless, the vulnerability in Github forks falls squarely on Github, and is not mitigated by Git being hard to understand in the first place.</div><br/></div></div></div></div><div id="41063663" class="c"><input type="checkbox" id="c-41063663" checked=""/><div class="controls bullet"><span class="by">gowld</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062359">parent</a><span>|</span><a href="#41062528">prev</a><span>|</span><a href="#41062331">next</a><span>|</span><label class="collapse" for="c-41063663">[-]</label><label class="expand" for="c-41063663">[1 more]</label></div><br/><div class="children"><div class="content">Two thinks can be true (and are)<p>1. GitHub has a nasty privacy&#x2F;security hole, where commonsense expectations about the meanings of common words are violated by the system.<p>2. Github has publicly announced that they don&#x27;t care about this part of user data security (private code), so won&#x27;t pay people to know tell them what they alreay know and announced.<p>Github won&#x27;t pay you to tell them they are wrong when everyone alreay knows.</div><br/></div></div></div></div><div id="41062331" class="c"><input type="checkbox" id="c-41062331" checked=""/><div class="controls bullet"><span class="by">ipaddr</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060982">parent</a><span>|</span><a href="#41062359">prev</a><span>|</span><a href="#41063340">next</a><span>|</span><label class="collapse" for="c-41062331">[-]</label><label class="expand" for="c-41062331">[1 more]</label></div><br/><div class="children"><div class="content">For both sides it turns into a net negative.  Better to keep your bugs and use them when needed or sell them to others to use if possible.<p>Lets get back to what we had before when multiple people can find the same bug and exploit if needed.  Now we have the one person who finds the bug it gets patched and they don&#x27;t get paid.</div><br/></div></div><div id="41063340" class="c"><input type="checkbox" id="c-41063340" checked=""/><div class="controls bullet"><span class="by">oxfordmale</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060982">parent</a><span>|</span><a href="#41062331">prev</a><span>|</span><a href="#41061569">next</a><span>|</span><label class="collapse" for="c-41063340">[-]</label><label class="expand" for="c-41063340">[1 more]</label></div><br/><div class="children"><div class="content">As the author pointed out, the documentation was written three years after he reported it.<p>Beyond that is is also a batshit crazy implementation. Just I imagine AWS would still allow AWS credentials to give access to a deleted account</div><br/></div></div></div></div><div id="41061569" class="c"><input type="checkbox" id="c-41061569" checked=""/><div class="controls bullet"><span class="by">cyrnel</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41060982">prev</a><span>|</span><a href="#41062193">next</a><span>|</span><label class="collapse" for="c-41061569">[-]</label><label class="expand" for="c-41061569">[3 more]</label></div><br/><div class="children"><div class="content">Security disclosures are like giving someone an unsolicited gift. The receiver is obligated to return the favor.<p>But if you buy someone non-refundable tickets to a concert they already have tickets for, you aren&#x27;t owed compensation.</div><br/><div id="41063342" class="c"><input type="checkbox" id="c-41063342" checked=""/><div class="controls bullet"><span class="by">TheDong</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061569">parent</a><span>|</span><a href="#41062610">next</a><span>|</span><label class="collapse" for="c-41063342">[-]</label><label class="expand" for="c-41063342">[1 more]</label></div><br/><div class="children"><div class="content">Security disclosures are like telling someone they have a spot on their face. It&#x27;s not always welcome, and there&#x27;s no obligation on anyone to do so, nor anyone to return the favor.<p>In this case, the spot turned out to be a freckle, which everyone involved already knew was a freckle (since it was documented), and if anyone owes anyone anything, it&#x27;s the researcher that owes github for wasting their time.</div><br/></div></div></div></div><div id="41062193" class="c"><input type="checkbox" id="c-41062193" checked=""/><div class="controls bullet"><span class="by">nyrikki</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41061569">prev</a><span>|</span><a href="#41061520">next</a><span>|</span><label class="collapse" for="c-41062193">[-]</label><label class="expand" for="c-41062193">[1 more]</label></div><br/><div class="children"><div class="content">For moral reasons, historically I never wrote POCs or threatened disclosure.<p>For companies like Microsoft, which a CSRB audit showed that their security culture &#x27;inadequate&#x27;, the risk of disclosure with a POC is about the only tool we have to enforce their side of the Shared Responsibility Model.<p>Even the largest IT spender in the world, the US government has moved more from the carrot to the stick model.  If they have to do it so do we.<p>Unfortunately as publishing a &#x27;bad practices&#x27; list by us doesn&#x27;t invoke the risk of EULA busting gross negligence claims, responsible disclosure is one of the few tools we have.</div><br/></div></div><div id="41061520" class="c"><input type="checkbox" id="c-41061520" checked=""/><div class="controls bullet"><span class="by">andersa</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41062193">prev</a><span>|</span><a href="#41061052">next</a><span>|</span><label class="collapse" for="c-41061520">[-]</label><label class="expand" for="c-41061520">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t find anything mentioning it online at the time. But there wasn&#x27;t much time and dedication involved either, to be fair. I discovered it completely on accident when I combined a commit hash from my local client with the wrong repository url and it ended up working.</div><br/></div></div><div id="41061045" class="c"><input type="checkbox" id="c-41061045" checked=""/><div class="controls bullet"><span class="by">93po</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41060948">prev</a><span>|</span><a href="#41062494">next</a><span>|</span><label class="collapse" for="c-41061045">[-]</label><label class="expand" for="c-41061045">[1 more]</label></div><br/><div class="children"><div class="content">companies vary wildly in their honesty and cooperation with bug bounties and develop reputations as a result. if they have a shit reputation, people stop doing free work for them and instead focus on more honest companies</div><br/></div></div><div id="41062494" class="c"><input type="checkbox" id="c-41062494" checked=""/><div class="controls bullet"><span class="by">hluska</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060894">parent</a><span>|</span><a href="#41061045">prev</a><span>|</span><a href="#41060699">next</a><span>|</span><label class="collapse" for="c-41062494">[-]</label><label class="expand" for="c-41062494">[1 more]</label></div><br/><div class="children"><div class="content">The issue had been reported at least twice and was clearly documented. GitHub knew about this and had known for years. Their replies to the two notifications were even very similar.<p>GitHub clearly knew. Would you prefer that a vendor lie?</div><br/></div></div></div></div><div id="41060699" class="c"><input type="checkbox" id="c-41060699" checked=""/><div class="controls bullet"><span class="by">tedivm</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41060894">prev</a><span>|</span><a href="#41060964">next</a><span>|</span><label class="collapse" for="c-41060699">[-]</label><label class="expand" for="c-41060699">[3 more]</label></div><br/><div class="children"><div class="content">I reported a different security issue to github, and they responded the same (although they ultimately ended up fixing it when I told them I was going to blog about the &quot;intended behavior&quot;).</div><br/><div id="41061387" class="c"><input type="checkbox" id="c-41061387" checked=""/><div class="controls bullet"><span class="by">myfonj</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060699">parent</a><span>|</span><a href="#41063452">next</a><span>|</span><label class="collapse" for="c-41061387">[-]</label><label class="expand" for="c-41061387">[1 more]</label></div><br/><div class="children"><div class="content">What &quot;intended behaviour&quot; was that, specifically?</div><br/></div></div><div id="41063452" class="c"><input type="checkbox" id="c-41063452" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060699">parent</a><span>|</span><a href="#41061387">prev</a><span>|</span><a href="#41060964">next</a><span>|</span><label class="collapse" for="c-41063452">[-]</label><label class="expand" for="c-41063452">[1 more]</label></div><br/><div class="children"><div class="content">Did you end up getting a bug bounty out of it?</div><br/></div></div></div></div><div id="41060964" class="c"><input type="checkbox" id="c-41060964" checked=""/><div class="controls bullet"><span class="by">kayodelycaon</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41060699">prev</a><span>|</span><a href="#41061029">next</a><span>|</span><label class="collapse" for="c-41060964">[-]</label><label class="expand" for="c-41060964">[5 more]</label></div><br/><div class="children"><div class="content">What does &quot;private fork&quot; mean in this context? I created a fork of a project by cloning it to my own machine and set origin to an empty private repository on GitHub. I manually merge upstream changes on my machine.<p>Is my repository accessible?</div><br/><div id="41061831" class="c"><input type="checkbox" id="c-41061831" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060964">parent</a><span>|</span><a href="#41062123">next</a><span>|</span><label class="collapse" for="c-41061831">[-]</label><label class="expand" for="c-41061831">[1 more]</label></div><br/><div class="children"><div class="content">Itâs not. The feature here works because a network of forks known by GitHub has a unified storage, thatâs what makes things like PRs work transparently and keep working if you delete the fork (kinda, it closes the PR but the contents donât change).</div><br/></div></div><div id="41062123" class="c"><input type="checkbox" id="c-41062123" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060964">parent</a><span>|</span><a href="#41061831">prev</a><span>|</span><a href="#41061071">next</a><span>|</span><label class="collapse" for="c-41062123">[-]</label><label class="expand" for="c-41062123">[1 more]</label></div><br/><div class="children"><div class="content">then it&#x27;s fine<p>the issue is the `fork` mechanism of github is not semantically like a `git clone`<p>it&#x27;s more like creating a larger git repo in which all forks weather private or not are contained and which doesn&#x27;t properly implement access management (at least point 2&amp;3 wouldn&#x27;t be an issue if they did)<p>there are also some implications form point 1 that forks do in some way infer with gc-ing orphan commits (e.g. the non synced commits in he deleted repo in point 1) at least that should be a bug IMHO one which also costs them storage<p>(also to be clear for me 2&amp;3 are security vulnerabilities no matter if they are classified as intended behavior)</div><br/></div></div><div id="41061071" class="c"><input type="checkbox" id="c-41061071" checked=""/><div class="controls bullet"><span class="by">andersa</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060964">parent</a><span>|</span><a href="#41062123">prev</a><span>|</span><a href="#41061810">next</a><span>|</span><label class="collapse" for="c-41061071">[-]</label><label class="expand" for="c-41061071">[1 more]</label></div><br/><div class="children"><div class="content">No, that would be the &quot;copy the repository&quot; approach. Private fork is when you do it through their UI.<p>As far as I know, it is not accessible.</div><br/></div></div><div id="41061810" class="c"><input type="checkbox" id="c-41061810" checked=""/><div class="controls bullet"><span class="by">swozey</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41060964">parent</a><span>|</span><a href="#41061071">prev</a><span>|</span><a href="#41061029">next</a><span>|</span><label class="collapse" for="c-41061810">[-]</label><label class="expand" for="c-41061810">[1 more]</label></div><br/><div class="children"><div class="content">Because you never git pushed to the fork it&#x27;s not aware of your repo, you&#x27;re ok.<p>What I don&#x27;t know is if in 3 months you DO set your remote origin to that fork to for instance, pull upstream patches into your private repo, you&#x27;re still not pushing, only pulling, so I would THINK they&#x27;d still never get your changes, but I don&#x27;t know if git does some sort of log sync when you do a pull as well.<p>Maybe that would wind up having the commit hash available.</div><br/></div></div></div></div><div id="41061029" class="c"><input type="checkbox" id="c-41061029" checked=""/><div class="controls bullet"><span class="by">jeremyjh</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41060964">prev</a><span>|</span><a href="#41064810">next</a><span>|</span><label class="collapse" for="c-41061029">[-]</label><label class="expand" for="c-41061029">[2 more]</label></div><br/><div class="children"><div class="content">It would not even be that hard to fix it; private forks should always just be automatically copied on first write. You might lose your little link to the original repo, but that&#x27;s not as bad as unintentionally exposing all your future content.</div><br/><div id="41061337" class="c"><input type="checkbox" id="c-41061337" checked=""/><div class="controls bullet"><span class="by">sundalia</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41061029">parent</a><span>|</span><a href="#41064810">next</a><span>|</span><label class="collapse" for="c-41061337">[-]</label><label class="expand" for="c-41061337">[1 more]</label></div><br/><div class="children"><div class="content">Yup, we can close the thread and ack that GitHub does not care.</div><br/></div></div></div></div><div id="41064810" class="c"><input type="checkbox" id="c-41064810" checked=""/><div class="controls bullet"><span class="by">WA</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41061029">prev</a><span>|</span><a href="#41062591">next</a><span>|</span><label class="collapse" for="c-41064810">[-]</label><label class="expand" for="c-41064810">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Conclusion: don&#x27;t use private forks. Copy the repository instead.<p>My conclusion would be: donât use GitHub.</div><br/></div></div><div id="41062591" class="c"><input type="checkbox" id="c-41062591" checked=""/><div class="controls bullet"><span class="by">fullstackchris</span><span>|</span><a href="#41060617">parent</a><span>|</span><a href="#41064810">prev</a><span>|</span><a href="#41061136">next</a><span>|</span><label class="collapse" for="c-41062591">[-]</label><label class="expand" for="c-41062591">[2 more]</label></div><br/><div class="children"><div class="content">To be fair, in the true git sense, if a &quot;fork&quot; is really just a branch, deleting the original completely would also mean deleting every branch (fork) completely<p>obviously not a fan of this policy though</div><br/><div id="41065310" class="c"><input type="checkbox" id="c-41065310" checked=""/><div class="controls bullet"><span class="by">bogota</span><span>|</span><a href="#41060617">root</a><span>|</span><a href="#41062591">parent</a><span>|</span><a href="#41061136">next</a><span>|</span><label class="collapse" for="c-41065310">[-]</label><label class="expand" for="c-41065310">[1 more]</label></div><br/><div class="children"><div class="content">But a fork is really not a branch. itâs a copy of a repo with one remote pointing at the original on github but that doesnât need to happen.</div><br/></div></div></div></div></div></div><div id="41061136" class="c"><input type="checkbox" id="c-41061136" checked=""/><div class="controls bullet"><span class="by">hackerbirds</span><span>|</span><a href="#41060617">prev</a><span>|</span><a href="#41060754">next</a><span>|</span><label class="collapse" for="c-41061136">[-]</label><label class="expand" for="c-41061136">[28 more]</label></div><br/><div class="children"><div class="content">Users should never be expected to know these gotchas for a feature called &quot;private&quot;, documented or not. It&#x27;s disappointing to see GitHub calling it a feature instead of a bug, to me it just shows a complete lack of care about security. Privacy features should _always_ have a strict, safe default.<p>In the meantime I&#x27;ll be calling &quot;private&quot; repos &quot;unlisted&quot;, seems more appropriate</div><br/><div id="41061514" class="c"><input type="checkbox" id="c-41061514" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#41061136">parent</a><span>|</span><a href="#41061222">next</a><span>|</span><label class="collapse" for="c-41061514">[-]</label><label class="expand" for="c-41061514">[11 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;ll be calling &quot;private&quot; repos &quot;unlisted&quot;<p>The same for âdeletedâ repos.</div><br/><div id="41063062" class="c"><input type="checkbox" id="c-41063062" checked=""/><div class="controls bullet"><span class="by">NullPrefix</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061514">parent</a><span>|</span><a href="#41061222">next</a><span>|</span><label class="collapse" for="c-41063062">[-]</label><label class="expand" for="c-41063062">[10 more]</label></div><br/><div class="children"><div class="content">&quot;deleted&quot; is just a fancy word &quot;inaccessible to the user&quot;</div><br/><div id="41063151" class="c"><input type="checkbox" id="c-41063151" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063062">parent</a><span>|</span><a href="#41065690">next</a><span>|</span><label class="collapse" for="c-41063151">[-]</label><label class="expand" for="c-41063151">[7 more]</label></div><br/><div class="children"><div class="content">No, it really isnât. Anyone who uses that word that way is just factually incorrect, and probably pretty irresponsible depending on the context. Software should not tell lies.</div><br/><div id="41063247" class="c"><input type="checkbox" id="c-41063247" checked=""/><div class="controls bullet"><span class="by">dumbo-octopus</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063151">parent</a><span>|</span><a href="#41065690">next</a><span>|</span><label class="collapse" for="c-41063247">[-]</label><label class="expand" for="c-41063247">[6 more]</label></div><br/><div class="children"><div class="content">&gt; delete: remove or obliterate (written or printed matter), especially by drawing a line through it or marking it with a delete sign<p>Which is, indeed, what every modern database does.</div><br/><div id="41063786" class="c"><input type="checkbox" id="c-41063786" checked=""/><div class="controls bullet"><span class="by">8organicbits</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063247">parent</a><span>|</span><a href="#41064316">next</a><span>|</span><label class="collapse" for="c-41063786">[-]</label><label class="expand" for="c-41063786">[3 more]</label></div><br/><div class="children"><div class="content">I think you are referring to tombstoning. That&#x27;s usually a temporary process that may immediately delete the underlying data, keeping a tombstone to ensure the deletion propagates to all storage nodes. A compaction process purges the underlying data (if still present) and the tombstones after a suitable delay. It&#x27;s a fancy delete that takes some time to process, but the data is eventually gone. You could turn off the compaction, if you wanted.<p>I believe Kafka make deletion difficult, since it&#x27;s an append-only log, but Kafka doesn&#x27;t work well with laws that require deletion of data, so I don&#x27;t believe it&#x27;s a popular choice any longer (I.E. isn&#x27;t modern).</div><br/><div id="41065128" class="c"><input type="checkbox" id="c-41065128" checked=""/><div class="controls bullet"><span class="by">dumbo-octopus</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063786">parent</a><span>|</span><a href="#41064316">next</a><span>|</span><label class="collapse" for="c-41065128">[-]</label><label class="expand" for="c-41065128">[2 more]</label></div><br/><div class="children"><div class="content">If you run a DELETE FROM in any modern sql engine, which is the absolute best you could expect when asking for a delete in the UI^, the data is nowhere near gone. Itâs still in all the backups, all the WALs, all the transactions that started before yours, etc. Itâs marked for eventual removal, and thatâs it. Just as the definition of delete I provided says.<p>^ (more likely theyâll just update the table to set a deleted flag)</div><br/><div id="41066211" class="c"><input type="checkbox" id="c-41066211" checked=""/><div class="controls bullet"><span class="by">UweSchmidt</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41065128">parent</a><span>|</span><a href="#41064316">next</a><span>|</span><label class="collapse" for="c-41066211">[-]</label><label class="expand" for="c-41066211">[1 more]</label></div><br/><div class="children"><div class="content">Imagine the data that was deleted is of the highest level of illegality you can imagine. Under no circumstance can your service be associated with that content.<p>- What was your &quot;definition of delete&quot; again?<p>- You mentioned some of the convenient technical defaults your frameworks and tools provide out-of-the-box, can you think of ways to improve the situation?<p>(You might re-run delete requests after restoring a backup; transaction should resolve in a timely fashion, failed deletes can be communicated to the user quickly etc.)</div><br/></div></div></div></div></div></div><div id="41064316" class="c"><input type="checkbox" id="c-41064316" checked=""/><div class="controls bullet"><span class="by">mdavidn</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063247">parent</a><span>|</span><a href="#41063786">prev</a><span>|</span><a href="#41064343">next</a><span>|</span><label class="collapse" for="c-41064316">[-]</label><label class="expand" for="c-41064316">[1 more]</label></div><br/><div class="children"><div class="content">Every modern file system works like this too. Then thereâs copy-on-write snapshotting and SSD wear leveling to worry about. Data isnât actually destroyed until the space is reused to store something else at an indeterminate point in the future.<p>Or when its encryption key is overwritten.<p>But it probably is a good idea to stop returning deleted data from web APIs.</div><br/></div></div><div id="41064343" class="c"><input type="checkbox" id="c-41064343" checked=""/><div class="controls bullet"><span class="by">cottsak</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063247">parent</a><span>|</span><a href="#41064316">prev</a><span>|</span><a href="#41065690">next</a><span>|</span><label class="collapse" for="c-41064343">[-]</label><label class="expand" for="c-41064343">[1 more]</label></div><br/><div class="children"><div class="content">this is why when I&#x27;m building confirm UI, I prefer the term &quot;destroy?&quot; on the confirm action. It&#x27;s much clearer to the user that this is a destructive and irreversible action and we will be removing this data&#x2F;state.<p>*obviously doesn&#x27;t apply to soft deletes.</div><br/></div></div></div></div></div></div><div id="41065690" class="c"><input type="checkbox" id="c-41065690" checked=""/><div class="controls bullet"><span class="by">stubish</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063062">parent</a><span>|</span><a href="#41063151">prev</a><span>|</span><a href="#41065174">next</a><span>|</span><label class="collapse" for="c-41065690">[-]</label><label class="expand" for="c-41065690">[1 more]</label></div><br/><div class="children"><div class="content">No, deleted is a word for deleted. But we started saying things were &quot;deleted&quot;, while our eyes flicked to the stack of backup tapes in the corner, acknowledging the white lie, because really deleting things conflicted with other priorities and was hard. And we left it there, until privacy regulations came along and it turned out not using the normal definition of deleted could get you sued. So IMO Github is wide open to paying damages to the first person able to demonstrate them.</div><br/></div></div><div id="41065174" class="c"><input type="checkbox" id="c-41065174" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063062">parent</a><span>|</span><a href="#41065690">prev</a><span>|</span><a href="#41061222">next</a><span>|</span><label class="collapse" for="c-41065174">[-]</label><label class="expand" for="c-41065174">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s tolerated for there to be temporary inaccessible copies sticking around when something is deleted.<p>What GitHub is doing here is neither temporary nor inaccessible.</div><br/></div></div></div></div></div></div><div id="41061222" class="c"><input type="checkbox" id="c-41061222" checked=""/><div class="controls bullet"><span class="by">chrisandchris</span><span>|</span><a href="#41061136">parent</a><span>|</span><a href="#41061514">prev</a><span>|</span><a href="#41063846">next</a><span>|</span><label class="collapse" for="c-41061222">[-]</label><label class="expand" for="c-41061222">[12 more]</label></div><br/><div class="children"><div class="content">Yep, I see GitHub as &quot;public only&quot; hosting, and if I want to host something private, I will choose another vendor.</div><br/><div id="41061323" class="c"><input type="checkbox" id="c-41061323" checked=""/><div class="controls bullet"><span class="by">OutOfHere</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061222">parent</a><span>|</span><a href="#41061282">next</a><span>|</span><label class="collapse" for="c-41061323">[-]</label><label class="expand" for="c-41061323">[3 more]</label></div><br/><div class="children"><div class="content">The noted issue looks to be applicable to forks only, not to all private repos.</div><br/><div id="41062108" class="c"><input type="checkbox" id="c-41062108" checked=""/><div class="controls bullet"><span class="by">eslaught</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061323">parent</a><span>|</span><a href="#41065545">next</a><span>|</span><label class="collapse" for="c-41062108">[-]</label><label class="expand" for="c-41062108">[1 more]</label></div><br/><div class="children"><div class="content">It also applies to this situation:<p><pre><code>    1. Create a private repo R
    2. Create a private fork F of R
    3. Push commits to the fork F
    4. Make R public
</code></pre>
The commits pushed to F prior to R being made public will become de facto public, even though F has always been a private fork. The post makes clear that commits pushed to F <i>after</i> R is made public are placed into a separate, private fork network.<p>So basically, if you ever intend to open source anything, never do it to an existing private repo. Always start a from-scratch repo to be the root of your new public project.</div><br/></div></div><div id="41065545" class="c"><input type="checkbox" id="c-41065545" checked=""/><div class="controls bullet"><span class="by">EugeneOZ</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061323">parent</a><span>|</span><a href="#41062108">prev</a><span>|</span><a href="#41061282">next</a><span>|</span><label class="collapse" for="c-41065545">[-]</label><label class="expand" for="c-41065545">[1 more]</label></div><br/><div class="children"><div class="content">Githubâs attitude and perception of the terms âprivacyâ and âsecurityâ - it is more important.</div><br/></div></div></div></div><div id="41061282" class="c"><input type="checkbox" id="c-41061282" checked=""/><div class="controls bullet"><span class="by">stvltvs</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061222">parent</a><span>|</span><a href="#41061323">prev</a><span>|</span><a href="#41062999">next</a><span>|</span><label class="collapse" for="c-41061282">[-]</label><label class="expand" for="c-41061282">[6 more]</label></div><br/><div class="children"><div class="content">Which vendors work best for private projects?</div><br/><div id="41065679" class="c"><input type="checkbox" id="c-41065679" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061282">parent</a><span>|</span><a href="#41064971">next</a><span>|</span><label class="collapse" for="c-41065679">[-]</label><label class="expand" for="c-41065679">[1 more]</label></div><br/><div class="children"><div class="content">gitea works well. Use that on your own network.</div><br/></div></div><div id="41064971" class="c"><input type="checkbox" id="c-41064971" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061282">parent</a><span>|</span><a href="#41065679">prev</a><span>|</span><a href="#41066184">next</a><span>|</span><label class="collapse" for="c-41064971">[-]</label><label class="expand" for="c-41064971">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been happy with Jetbrains Space (now Space Code); but I&#x27;m using it for private, professional work and paying for it, so perhaps that isn&#x27;t what you mean.</div><br/></div></div><div id="41066184" class="c"><input type="checkbox" id="c-41066184" checked=""/><div class="controls bullet"><span class="by">Ragnarork</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061282">parent</a><span>|</span><a href="#41064971">prev</a><span>|</span><a href="#41061415">next</a><span>|</span><label class="collapse" for="c-41066184">[-]</label><label class="expand" for="c-41066184">[1 more]</label></div><br/><div class="children"><div class="content">Sourcehut :)</div><br/></div></div><div id="41061415" class="c"><input type="checkbox" id="c-41061415" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061282">parent</a><span>|</span><a href="#41066184">prev</a><span>|</span><a href="#41062821">next</a><span>|</span><label class="collapse" for="c-41061415">[-]</label><label class="expand" for="c-41061415">[1 more]</label></div><br/><div class="children"><div class="content">You could consider GitLab.. though this only seems to affect private forks of public repos.</div><br/></div></div><div id="41062821" class="c"><input type="checkbox" id="c-41062821" checked=""/><div class="controls bullet"><span class="by">the8thbit</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061282">parent</a><span>|</span><a href="#41061415">prev</a><span>|</span><a href="#41062999">next</a><span>|</span><label class="collapse" for="c-41062821">[-]</label><label class="expand" for="c-41062821">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used both Bitbucket and Azure in the corporate world.</div><br/></div></div></div></div><div id="41062999" class="c"><input type="checkbox" id="c-41062999" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41061222">parent</a><span>|</span><a href="#41061282">prev</a><span>|</span><a href="#41063846">next</a><span>|</span><label class="collapse" for="c-41062999">[-]</label><label class="expand" for="c-41062999">[2 more]</label></div><br/><div class="children"><div class="content">Or commit an ecryptfs.<p>Clone and mount, unmount and commit</div><br/><div id="41066011" class="c"><input type="checkbox" id="c-41066011" checked=""/><div class="controls bullet"><span class="by">1oooqooq</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41062999">parent</a><span>|</span><a href="#41063846">next</a><span>|</span><label class="collapse" for="c-41066011">[-]</label><label class="expand" for="c-41066011">[1 more]</label></div><br/><div class="children"><div class="content">extremely annoying, but only true private option on somebody&#x27;s else computer.<p>i read headlines like the above with the implied &quot;not just to the employees there anymore&quot;</div><br/></div></div></div></div></div></div><div id="41063846" class="c"><input type="checkbox" id="c-41063846" checked=""/><div class="controls bullet"><span class="by">CGamesPlay</span><span>|</span><a href="#41061136">parent</a><span>|</span><a href="#41061222">prev</a><span>|</span><a href="#41063323">next</a><span>|</span><label class="collapse" for="c-41063846">[-]</label><label class="expand" for="c-41063846">[1 more]</label></div><br/><div class="children"><div class="content">Specifically about the feature called &quot;private&quot;, the only gotcha seems to be that when the upstream transitions from private to public, it may unexpectedly take more data public than desired, right? The other discussed gotchas were all about deleting public data not actually being deleted or inaccessible.</div><br/></div></div><div id="41063323" class="c"><input type="checkbox" id="c-41063323" checked=""/><div class="controls bullet"><span class="by">catalypso</span><span>|</span><a href="#41061136">parent</a><span>|</span><a href="#41063846">prev</a><span>|</span><a href="#41063822">next</a><span>|</span><label class="collapse" for="c-41063323">[-]</label><label class="expand" for="c-41063323">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;ll be calling &quot;private&quot; repos &quot;unlisted&quot;<p>That might be a bit too strict. I&#x27;d still expect my private repos (no forks involved) to be private, unless we discover another footnote in GH&#x27;s docs in a few years Â¯\_(ã)_&#x2F;Â¯<p>But I&#x27;ll forget about using forks except for publicly contributing to public repos.<p>&gt; Users should never be expected to know these gotchas for a feature called &quot;private&quot;.<p>Yes, the principle of least astonishment[0] should apply to security as well.<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Principle_of_least_astonishment" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Principle_of_least_astonishmen...</a></div><br/></div></div><div id="41063822" class="c"><input type="checkbox" id="c-41063822" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#41061136">parent</a><span>|</span><a href="#41063323">prev</a><span>|</span><a href="#41060754">next</a><span>|</span><label class="collapse" for="c-41063822">[-]</label><label class="expand" for="c-41063822">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s disappointing to see GitHub calling it a feature instead of a bug<p>git is a &quot;distributed&quot; version control software afterall. It means a peer can&#x27;t control everything.</div><br/><div id="41064036" class="c"><input type="checkbox" id="c-41064036" checked=""/><div class="controls bullet"><span class="by">Osiris</span><span>|</span><a href="#41061136">root</a><span>|</span><a href="#41063822">parent</a><span>|</span><a href="#41060754">next</a><span>|</span><label class="collapse" for="c-41064036">[-]</label><label class="expand" for="c-41064036">[1 more]</label></div><br/><div class="children"><div class="content">Anyone at your company and just push to a public git repository at any time. Nothing stopping them except threat of consequences.</div><br/></div></div></div></div></div></div><div id="41060754" class="c"><input type="checkbox" id="c-41060754" checked=""/><div class="controls bullet"><span class="by">hmottestad</span><span>|</span><a href="#41061136">prev</a><span>|</span><a href="#41060827">next</a><span>|</span><label class="collapse" for="c-41060754">[-]</label><label class="expand" for="c-41060754">[6 more]</label></div><br/><div class="children"><div class="content">The biggest gotcha here is probably that if you start of with a private repo and a private fork, making the repo public also makes the fork &quot;public&quot;.<p>GitHub may very well say that this is working as intended, but if it truly is then you should be forced to make both the repo and fork public at the same time.<p>Essentially &quot;Making repo R public will make the following forks public as well &#x27;My Fork&#x27;, &#x27;Super secret fork&#x27;, &#x27;Fork that I deleted because it contained the password to my neighbours wifi :P&#x27;.<p>OK. I&#x27;m not sure if the last one would actually be public, but I wouldn&#x27;t be surprised if that was &quot;Working as intended(TM)&quot; - GitHub SecOps</div><br/><div id="41061967" class="c"><input type="checkbox" id="c-41061967" checked=""/><div class="controls bullet"><span class="by">pants2</span><span>|</span><a href="#41060754">parent</a><span>|</span><a href="#41062575">next</a><span>|</span><label class="collapse" for="c-41061967">[-]</label><label class="expand" for="c-41061967">[4 more]</label></div><br/><div class="children"><div class="content">Any time you make a private repo public itâs best to just copy that code into a new public repo and leave the private repo private. Otherwise have to audit every previous commit and every commit on every fork of your private code.</div><br/><div id="41062534" class="c"><input type="checkbox" id="c-41062534" checked=""/><div class="controls bullet"><span class="by">umpalumpaaa</span><span>|</span><a href="#41060754">root</a><span>|</span><a href="#41061967">parent</a><span>|</span><a href="#41065662">next</a><span>|</span><label class="collapse" for="c-41062534">[-]</label><label class="expand" for="c-41062534">[2 more]</label></div><br/><div class="children"><div class="content">If I understand the issue correctly if you make the original repo public any private forks from other users are also effectively public. Right?</div><br/><div id="41064339" class="c"><input type="checkbox" id="c-41064339" checked=""/><div class="controls bullet"><span class="by">scarface_74</span><span>|</span><a href="#41060754">root</a><span>|</span><a href="#41062534">parent</a><span>|</span><a href="#41065662">next</a><span>|</span><label class="collapse" for="c-41064339">[-]</label><label class="expand" for="c-41064339">[1 more]</label></div><br/><div class="children"><div class="content">You create a <i>new</i> repository, âgit initâ it and copy your files over to it and push your new repository to your open source repository.</div><br/></div></div></div></div><div id="41065662" class="c"><input type="checkbox" id="c-41065662" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#41060754">root</a><span>|</span><a href="#41061967">parent</a><span>|</span><a href="#41062534">prev</a><span>|</span><a href="#41062575">next</a><span>|</span><label class="collapse" for="c-41065662">[-]</label><label class="expand" for="c-41065662">[1 more]</label></div><br/><div class="children"><div class="content">Yeah that&#x27;s fine but the issue is GitHub doesn&#x27;t make it clear that you need to do this.</div><br/></div></div></div></div><div id="41062575" class="c"><input type="checkbox" id="c-41062575" checked=""/><div class="controls bullet"><span class="by">kemitche</span><span>|</span><a href="#41060754">parent</a><span>|</span><a href="#41061967">prev</a><span>|</span><a href="#41060827">next</a><span>|</span><label class="collapse" for="c-41062575">[-]</label><label class="expand" for="c-41062575">[1 more]</label></div><br/><div class="children"><div class="content">I agree. The other cases may be mildly surprising, but ultimately fall firmly into the category of &quot;once public on the internet, always public.&quot; Deleting a repo or fork or commit doesn&#x27;t revoke an access key that was accidentally committed, and an access key being public for even a microsecond should be assumed to have been scraped and usable by a malicious actor.</div><br/></div></div></div></div><div id="41060827" class="c"><input type="checkbox" id="c-41060827" checked=""/><div class="controls bullet"><span class="by">jonahx</span><span>|</span><a href="#41060754">prev</a><span>|</span><a href="#41060590">next</a><span>|</span><label class="collapse" for="c-41060827">[-]</label><label class="expand" for="c-41060827">[18 more]</label></div><br/><div class="children"><div class="content">Surprised at the comments minimizing this.<p>I&#x27;ve used github for a long time, would not have expected these results, and was unnerved by them.<p>I&#x27;d recommend reading the article yourself.  It does a good job explaining the vulnerabilities.</div><br/><div id="41060990" class="c"><input type="checkbox" id="c-41060990" checked=""/><div class="controls bullet"><span class="by">hyperpape</span><span>|</span><a href="#41060827">parent</a><span>|</span><a href="#41063333">next</a><span>|</span><label class="collapse" for="c-41060990">[-]</label><label class="expand" for="c-41060990">[13 more]</label></div><br/><div class="children"><div class="content">For the first two, git is based on content addressable storage, so it makes sense that anything that is ever public will never disappear.<p>I can sympathize with someone who gets bit by it, as it might not have occurred to them, but itâs part of the model.<p>The third strikes me as counter-intuitive and hard to reason about.<p>P.S. If you publish your keys or access tokens for well known services to GitHub and you are prominent enough, they will be found and exploited in minutes. The idea that deleting the repository is a security measure is not really worth taking seriously.</div><br/><div id="41061885" class="c"><input type="checkbox" id="c-41061885" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41060990">parent</a><span>|</span><a href="#41061089">next</a><span>|</span><label class="collapse" for="c-41061885">[-]</label><label class="expand" for="c-41061885">[3 more]</label></div><br/><div class="children"><div class="content">&gt; For the first two, git is based on content addressable storage, so it makes sense that anything that is every public will never disappear.<p>this isn&#x27;t quite right<p>content addressable storage is just a mean of access it does<p>- not imply content cannot be deleted<p>- not imply content cannot be access managed<p>you could apply this to a git repo itself (like making some branches private and some not) but more important forks are not git ops, they are more high level github ops and could very well have appropriate measurements to make sure this cannot happen<p>e.g. if github had implemented forks like a `git clone` _non of this vulnerabilities would have been a thing_<p>similar implemented different access rights for different subsets of fork networks (or even the same git repo) technically isn&#x27;t a problem either (not trivial but quite doable)<p>and I mean commits made to private repositories being public is always a security vulnerability no matter how much github claims it&#x27;s intended</div><br/><div id="41062021" class="c"><input type="checkbox" id="c-41062021" checked=""/><div class="controls bullet"><span class="by">hyperpape</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41061885">parent</a><span>|</span><a href="#41061089">next</a><span>|</span><label class="collapse" for="c-41062021">[-]</label><label class="expand" for="c-41062021">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right that I shouldn&#x27;t have given the impression that content addressed storage means as a technical matter that public content must never disappear. The phrasing was a bit sloppy. GitHub could, as a technical matter, choose to hide content that had previously been made public.<p>Nonetheless, given that GitHub exists to facilitate both anonymously pulling the entire history of the repository, and given that any forks would contain the full contents of that repository, it is very natural that GitHub would take the &quot;once public always public&quot; line.<p>&gt; and I mean commits made to private repositories being public is always a security vulnerability no matter how much github claims it&#x27;s intended<p>I specifically said the third use case was different, because it is the one that doesn&#x27;t involve you explicitly choosing to publish the commits that contain your private information. I did not and would not defend GitHub on that point.</div><br/><div id="41063341" class="c"><input type="checkbox" id="c-41063341" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41062021">parent</a><span>|</span><a href="#41061089">next</a><span>|</span><label class="collapse" for="c-41063341">[-]</label><label class="expand" for="c-41063341">[1 more]</label></div><br/><div class="children"><div class="content">&gt; it is very natural that GitHub would take the &quot;once public always public&quot; line<p>I donât think that follows at all. Purging hashes without a link to a commit&#x2F;repository would be pretty natural.</div><br/></div></div></div></div></div></div><div id="41061089" class="c"><input type="checkbox" id="c-41061089" checked=""/><div class="controls bullet"><span class="by">jonahx</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41060990">parent</a><span>|</span><a href="#41061885">prev</a><span>|</span><a href="#41062098">next</a><span>|</span><label class="collapse" for="c-41061089">[-]</label><label class="expand" for="c-41061089">[5 more]</label></div><br/><div class="children"><div class="content">I agree the 3rd is by far the worst of the offenders.  But even the first two should have more visibility.  For example, by notifying users during deletion of forked repos that data will still be available.<p>The exact UX here is debatable, but I don&#x27;t think security warnings buried in the docs is enough.  They should be accounting for likely misunderstandings of the model.</div><br/><div id="41062257" class="c"><input type="checkbox" id="c-41062257" checked=""/><div class="controls bullet"><span class="by">hyperpape</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41061089">parent</a><span>|</span><a href="#41062098">next</a><span>|</span><label class="collapse" for="c-41062257">[-]</label><label class="expand" for="c-41062257">[4 more]</label></div><br/><div class="children"><div class="content">Even if it wasn&#x27;t forked, it could be cloned. Should that be part of the warning?<p>I wouldn&#x27;t mind a disclaimer when you delete a repository that any information that repository ever contained is likely to have already been downloaded and stored. Per the comment I added, I&#x27;m not sure it would really help that much, but it would not be harmful.</div><br/><div id="41062616" class="c"><input type="checkbox" id="c-41062616" checked=""/><div class="controls bullet"><span class="by">jonahx</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41062257">parent</a><span>|</span><a href="#41062098">next</a><span>|</span><label class="collapse" for="c-41062616">[-]</label><label class="expand" for="c-41062616">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Should that be part of the warning?<p>It couldn&#x27;t hurt, but that isn&#x27;t the misunderstanding I&#x27;m worried about.<p>As described in the first example of the article, you can make a fork, commit to it, delete <i>your entire fork</i>, and yet the data will still be accessible via the parent repo, even though no one ever forked or cloned or saw your fork.  <i>That</i> is not intuitive at all.<p>You can say &quot;Well just consider any data that has ever been public compromised forever&quot;, and indeed you should, but this behavior is still surprising and could bite devs even if they know they should follow the advice in that quote.<p>Consider a situation like this...<p>Dev forks, accidentally pushes a secret or some proprietary code in a commit, and immediately deletes the fork.  They figure it was only up for a very short time, now it&#x27;s gone, risk someone saw it is low.  They don&#x27;t bother rotating, because that would be a major operational pain (and yes, it <i>shouldn&#x27;t</i> be, but for many orgs it is).<p>Is this dev making a mistake?  Of course.  That&#x27;s not good security thinking.  But their assessment of the risk being low might actually be correct <i>if their very reasonable mental model of deletion were correct</i>.  But the unintuitive way GH works means that the actual risk is much higher than their reasoning led them to believe.</div><br/><div id="41062826" class="c"><input type="checkbox" id="c-41062826" checked=""/><div class="controls bullet"><span class="by">hyperpape</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41062616">parent</a><span>|</span><a href="#41063085">next</a><span>|</span><label class="collapse" for="c-41062826">[-]</label><label class="expand" for="c-41062826">[1 more]</label></div><br/><div class="children"><div class="content">&gt; As described in the first example of the article, you can make a fork, commit to it, delete your entire fork, and yet the data will still be accessible via the parent repo, even though no one ever forked or cloned or saw your fork. That is not intuitive at all.<p>But isn&#x27;t that only the third vulnerability, that private forks are implicitly made public?<p>As I said, I won&#x27;t defend that decision.</div><br/></div></div><div id="41063085" class="c"><input type="checkbox" id="c-41063085" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41062616">parent</a><span>|</span><a href="#41062826">prev</a><span>|</span><a href="#41062098">next</a><span>|</span><label class="collapse" for="c-41063085">[-]</label><label class="expand" for="c-41063085">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It couldn&#x27;t hurt, but that isn&#x27;t the misunderstanding I&#x27;m worried about.<p>I think lots of warnings lead to people ignoring the warnings. So it could hurt by making people less aware of other warnings.</div><br/></div></div></div></div></div></div></div></div><div id="41062098" class="c"><input type="checkbox" id="c-41062098" checked=""/><div class="controls bullet"><span class="by">keybored</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41060990">parent</a><span>|</span><a href="#41061089">prev</a><span>|</span><a href="#41061564">next</a><span>|</span><label class="collapse" for="c-41062098">[-]</label><label class="expand" for="c-41062098">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For the first two, git is based on content addressable storage, so it makes sense that anything that is ever public will never disappear.<p>No one can, with a straight face, say that they donât restrict access because âthis is just how the technology worksâ. Doesnât matter if it is content addressable or an append-only FS or whatever else.<p>Even for some technology where the data lives forever somewhere (it doesnât according to Git; GitHub has a system which keeps non-transitively referenced commits from being garbage collected), the non-crazy thing is to put access policy logic behind the raw storage fetch.</div><br/></div></div><div id="41061564" class="c"><input type="checkbox" id="c-41061564" checked=""/><div class="controls bullet"><span class="by">dogleash</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41060990">parent</a><span>|</span><a href="#41062098">prev</a><span>|</span><a href="#41063333">next</a><span>|</span><label class="collapse" for="c-41061564">[-]</label><label class="expand" for="c-41061564">[3 more]</label></div><br/><div class="children"><div class="content">&gt; git is based on content addressable storage, so it makes sense that anything that is every public will never disappear.<p>No. That doesn&#x27;t make sense.  It only sounds vaguely plausible at first because content addressable storage often means a distributed system where hosting nodes are controlled by multiple parties.  That&#x27;s not the case here, we&#x27;re only talking about one host.<p>Imagine we were talking about a (hypothetical) NetFlix CDN where it&#x27;s content addressed rather than by UUID.  Would anyone say &quot;they forgot to check auth tokens for Frozen for one day, therefore it makes sense that everyone can watch it for free forever&quot;?</div><br/><div id="41062070" class="c"><input type="checkbox" id="c-41062070" checked=""/><div class="controls bullet"><span class="by">hyperpape</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41061564">parent</a><span>|</span><a href="#41063333">next</a><span>|</span><label class="collapse" for="c-41062070">[-]</label><label class="expand" for="c-41062070">[2 more]</label></div><br/><div class="children"><div class="content">Since Netflix neither allows anonymous users to fully download Frozen without DRM, nor allows authorized users to upload derivative works that are then redistributed to the public, I think there may be some relevant differences here.</div><br/><div id="41062724" class="c"><input type="checkbox" id="c-41062724" checked=""/><div class="controls bullet"><span class="by">debugnik</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41062070">parent</a><span>|</span><a href="#41063333">next</a><span>|</span><label class="collapse" for="c-41062724">[-]</label><label class="expand" for="c-41062724">[1 more]</label></div><br/><div class="children"><div class="content">They do remove content when their licence expires, though. So imagine instead Netflix allowing users to find and watch expired series by hash, then telling the copyright owners they can&#x27;t fully delete the series because <i>something something content-addressing.</i></div><br/></div></div></div></div></div></div></div></div><div id="41063333" class="c"><input type="checkbox" id="c-41063333" checked=""/><div class="controls bullet"><span class="by">TheDong</span><span>|</span><a href="#41060827">parent</a><span>|</span><a href="#41060990">prev</a><span>|</span><a href="#41065324">next</a><span>|</span><label class="collapse" for="c-41063333">[-]</label><label class="expand" for="c-41063333">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;ve used github for a long time, would not have expected these results, and was unnerved by them.<p>So you&#x27;ve used it heavily, but haven&#x27;t read the docs or thought about how forks work, and are now surprised. This seems like a learning opportunity, read the docs for stuff you use heavily, read the man pages and info pages for tools you rely on.<p>None of this seemed surprising to me, perhaps because I&#x27;ve made PRs, seen that PRs from deleted repositories are still visible, and generally have this mental model of &quot;a repository fork is part of a network of forks, which is a shared collection of git objects&quot;.</div><br/><div id="41066232" class="c"><input type="checkbox" id="c-41066232" checked=""/><div class="controls bullet"><span class="by">hnbad</span><span>|</span><a href="#41060827">root</a><span>|</span><a href="#41063333">parent</a><span>|</span><a href="#41065324">next</a><span>|</span><label class="collapse" for="c-41066232">[-]</label><label class="expand" for="c-41066232">[1 more]</label></div><br/><div class="children"><div class="content">Congratulations, you developed the right intuition.<p>However in UX&#x2F;DX the question isn&#x27;t whether users can develop the right intuition based on how they interact with software over time and reading through the documentation but how to shorten the time and effort necessary for that, ideally so that a single glance is enough.<p>Do you think reading all the documentation for every feature of every tool you use in your life is a good use of your time and something that should be expected of everyone? As someone developing software used by other people, I don&#x27;t.</div><br/></div></div></div></div><div id="41065324" class="c"><input type="checkbox" id="c-41065324" checked=""/><div class="controls bullet"><span class="by">bogota</span><span>|</span><a href="#41060827">parent</a><span>|</span><a href="#41063333">prev</a><span>|</span><a href="#41064439">next</a><span>|</span><label class="collapse" for="c-41065324">[-]</label><label class="expand" for="c-41065324">[1 more]</label></div><br/><div class="children"><div class="content">The mental gymnastics going on in this thread to justify this as a sane design is likely why software sucks more and more these days.</div><br/></div></div><div id="41064439" class="c"><input type="checkbox" id="c-41064439" checked=""/><div class="controls bullet"><span class="by">localfirst</span><span>|</span><a href="#41060827">parent</a><span>|</span><a href="#41065324">prev</a><span>|</span><a href="#41060590">next</a><span>|</span><label class="collapse" for="c-41064439">[-]</label><label class="expand" for="c-41064439">[1 more]</label></div><br/><div class="children"><div class="content">pretty much this weird seeing all the ppl trying to deflect&#x2F;minimize this as a non issue</div><br/></div></div></div></div><div id="41060590" class="c"><input type="checkbox" id="c-41060590" checked=""/><div class="controls bullet"><span class="by">TazeTSchnitzel</span><span>|</span><a href="#41060827">prev</a><span>|</span><a href="#41061267">next</a><span>|</span><label class="collapse" for="c-41060590">[-]</label><label class="expand" for="c-41060590">[9 more]</label></div><br/><div class="children"><div class="content">This is not new. Many people have noticed this before, e.g. <a href="https:&#x2F;&#x2F;hikari.noyu.me&#x2F;blog&#x2F;2020-05-05-github-private-repos-access-control-violation.html" rel="nofollow">https:&#x2F;&#x2F;hikari.noyu.me&#x2F;blog&#x2F;2020-05-05-github-private-repos-...</a></div><br/><div id="41063299" class="c"><input type="checkbox" id="c-41063299" checked=""/><div class="controls bullet"><span class="by">majorchord</span><span>|</span><a href="#41060590">parent</a><span>|</span><a href="#41061267">next</a><span>|</span><label class="collapse" for="c-41063299">[-]</label><label class="expand" for="c-41063299">[8 more]</label></div><br/><div class="children"><div class="content">No but I think attention should still be raised to it in the hopes they will fix it. The squeaky wheel gets the grease.<p><a href="https:&#x2F;&#x2F;xkcd.com&#x2F;1053" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;1053</a></div><br/><div id="41064076" class="c"><input type="checkbox" id="c-41064076" checked=""/><div class="controls bullet"><span class="by">dwaite</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41063299">parent</a><span>|</span><a href="#41065864">next</a><span>|</span><label class="collapse" for="c-41064076">[-]</label><label class="expand" for="c-41064076">[3 more]</label></div><br/><div class="children"><div class="content">First step would be to have them acknowledge a documented behavior which was part of their original design 16 years ago, is something that needs to be fixed.<p>As someone who has used git and GitHub extensively over that time, none of what the author documented was a surprise to me.<p>However, I also remember when people were trained to do a &quot;Save As&quot; when preparing a final Word document or Powerpoint for sharing with a third party. That certainly bit enough business users that Microsoft eventually changed the default behavior.</div><br/><div id="41064914" class="c"><input type="checkbox" id="c-41064914" checked=""/><div class="controls bullet"><span class="by">HeatrayEnjoyer</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41064076">parent</a><span>|</span><a href="#41065864">next</a><span>|</span><label class="collapse" for="c-41064914">[-]</label><label class="expand" for="c-41064914">[2 more]</label></div><br/><div class="children"><div class="content">What about Save As bit people?</div><br/><div id="41065039" class="c"><input type="checkbox" id="c-41065039" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41064914">parent</a><span>|</span><a href="#41065864">next</a><span>|</span><label class="collapse" for="c-41065039">[-]</label><label class="expand" for="c-41065039">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s <i>not</i> doing Save As that bit people.  Think of a .doc file as a bad database format.  It gets lots of in-place overwrites, and fragments of old versions stick around.<p>I can&#x27;t find a lot that discusses it, but here&#x27;s one mention: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35252331">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35252331</a></div><br/></div></div></div></div></div></div><div id="41065864" class="c"><input type="checkbox" id="c-41065864" checked=""/><div class="controls bullet"><span class="by">dncornholio</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41063299">parent</a><span>|</span><a href="#41064076">prev</a><span>|</span><a href="#41063393">next</a><span>|</span><label class="collapse" for="c-41065864">[-]</label><label class="expand" for="c-41065864">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s nothing to be fixed though.</div><br/><div id="41066351" class="c"><input type="checkbox" id="c-41066351" checked=""/><div class="controls bullet"><span class="by">hnbad</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41065864">parent</a><span>|</span><a href="#41063393">next</a><span>|</span><label class="collapse" for="c-41066351">[-]</label><label class="expand" for="c-41066351">[1 more]</label></div><br/><div class="children"><div class="content">If people are surprised by this - and clearly a non-trivial number of people are - then even if the behavior works as intended it should be indicated in the UI at critical points.<p>GitHub is not simply a UI to actual git repositories it hosts. It also carries a lot of data that is not stored in the repository itself. The UI deliberately blends the two types of interactions. There&#x27;s no such thing as &quot;creating a pull request&quot; in git, for example.<p>It&#x27;s not at all unreasonable for a user to assume &quot;forking&quot; merely creates a copy with an upstream origin. Read through the steps again:<p><pre><code>    1. You fork a public repository
    2. You commit code to your fork
    3. You delete your fork
</code></pre>
Note that from a user&#x27;s point of view, they only committed code to their &quot;copy&quot; of the repository, i.e. their own repository. They never pushed it upstream or created a pull request that references it. That abstraction is clearly wrong if you look at what actually happens but it&#x27;s not difficult to see why a user might think this way, especially given that &quot;a fork&quot; often simply means &quot;a copy&quot;, i.e. something standalone that then goes on to diverge from its origins (e.g. &quot;Edge is a fork of Chromium&quot; or &quot;MariaDB is a fork of MySQL&quot;).<p>Of course the mistake is that the fork is not a copy. The fork isn&#x27;t a fork (i.e. a separate copy that shares the original&#x27;s history), it&#x27;s a view of the original repository with its own refs. The commits are added to the same repository, only the refs that reference them aren&#x27;t. This makes sense architecturally but it means most metaphors and analogies people likely bring to the table break down because they assume a fork is a copy, not a collection of refs layered over a shared repository of commits - after all &quot;allowing stranges to add commits to the repository&quot; is what PRs are for. Except of course that&#x27;s not what PRs do then, PRs actually <i>allow strangers to add references to commits to your branches</i>.</div><br/></div></div></div></div><div id="41063393" class="c"><input type="checkbox" id="c-41063393" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41063299">parent</a><span>|</span><a href="#41065864">prev</a><span>|</span><a href="#41061267">next</a><span>|</span><label class="collapse" for="c-41063393">[-]</label><label class="expand" for="c-41063393">[2 more]</label></div><br/><div class="children"><div class="content">I love this xkcd.<p>We all need to embrace: Nobody has <i>ever</i> been impressed that you already knew something.  When people share a discovery with you, itâs not about you. Itâs about them and their joy of discovery.  They want to share that joy with you.</div><br/><div id="41064215" class="c"><input type="checkbox" id="c-41064215" checked=""/><div class="controls bullet"><span class="by">nox101</span><span>|</span><a href="#41060590">root</a><span>|</span><a href="#41063393">parent</a><span>|</span><a href="#41061267">next</a><span>|</span><label class="collapse" for="c-41064215">[-]</label><label class="expand" for="c-41064215">[1 more]</label></div><br/><div class="children"><div class="content">If they&#x27;re sharing the joy of discovery that&#x27;s great. Lots of people though are gloating. &quot;Haha, you&#x27;re stupid, you didn&#x27;t know X and I did&quot;.  In other words, they&#x27;re the ones not being charitable by assuming you don&#x27;t already know X.<p>Trying to think of an example it usually goes something like<p>A: We should do X<p>B: No. See this document (the sharing part)<p>A: I wrote that document and I&#x27;m telling you we should do X (the &quot;I already knew this&quot; part)</div><br/></div></div></div></div></div></div></div></div><div id="41061267" class="c"><input type="checkbox" id="c-41061267" checked=""/><div class="controls bullet"><span class="by">LeifCarrotson</span><span>|</span><a href="#41060590">prev</a><span>|</span><a href="#41063074">next</a><span>|</span><label class="collapse" for="c-41061267">[-]</label><label class="expand" for="c-41061267">[3 more]</label></div><br/><div class="children"><div class="content">IMO, the real vulnerability here is the way the Github Events archive exposes the SHA1 hashes of the vulnerable repositories. It would be easy to trawl the entire network to access these deleted&#x2F;private repositories, but only because they have a list of them.<p>Similar (but less concerning) is the ability to use short SHA1 hashes. You&#x27;d have to either be targeting a particular repository (for example, one for which a malicious actor can expect users to follow the tutorial and commit API keys or other private data) or be targeting a particular individual with a public repository who you suspect might have linked private repositories. It&#x27;s not free to guess something like &quot;07f01e&quot;, but not hard either.<p>If these links still worked exactly the same, but (1) you had to guess 07f01e8337c1073d2c45bb12d688170fcd44c637 and (2) there was no events API with which to look up that value, this would be much, much less impactful.</div><br/><div id="41062754" class="c"><input type="checkbox" id="c-41062754" checked=""/><div class="controls bullet"><span class="by">SnowflakeOnIce</span><span>|</span><a href="#41061267">parent</a><span>|</span><a href="#41063719">next</a><span>|</span><label class="collapse" for="c-41062754">[-]</label><label class="expand" for="c-41062754">[1 more]</label></div><br/><div class="children"><div class="content">&#x27;git clone --mirror&#x27; seems to pull down lots of additional content also.</div><br/></div></div><div id="41063719" class="c"><input type="checkbox" id="c-41063719" checked=""/><div class="controls bullet"><span class="by">password4321</span><span>|</span><a href="#41061267">parent</a><span>|</span><a href="#41062754">prev</a><span>|</span><a href="#41063074">next</a><span>|</span><label class="collapse" for="c-41063719">[-]</label><label class="expand" for="c-41063719">[1 more]</label></div><br/><div class="children"><div class="content">Somebody FireSheep this!<p><a href="https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;Firesheep" rel="nofollow">https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;Firesheep</a></div><br/></div></div></div></div><div id="41063074" class="c"><input type="checkbox" id="c-41063074" checked=""/><div class="controls bullet"><span class="by">ahpook</span><span>|</span><a href="#41061267">prev</a><span>|</span><a href="#41062265">next</a><span>|</span><label class="collapse" for="c-41063074">[-]</label><label class="expand" for="c-41063074">[1 more]</label></div><br/><div class="children"><div class="content">Hubber here (same username on github.com).  We in GitHub&#x27;s OSPO have been working on an open source GitHub App to address the use case where organizations want to keep a private mirror of an upstream public fork so they can review code and remove IP&#x2F;secrets&#x2F;keys that get committed and squash history before any of those changes are made public. Getting a beta release this week, in fact - check it out, I&#x27;m curious what yall think about the approach<p><a href="https:&#x2F;&#x2F;github.com&#x2F;github-community-projects&#x2F;private-mirrors">https:&#x2F;&#x2F;github.com&#x2F;github-community-projects&#x2F;private-mirrors</a></div><br/></div></div><div id="41062265" class="c"><input type="checkbox" id="c-41062265" checked=""/><div class="controls bullet"><span class="by">thih9</span><span>|</span><a href="#41063074">prev</a><span>|</span><a href="#41062406">next</a><span>|</span><label class="collapse" for="c-41062265">[-]</label><label class="expand" for="c-41062265">[9 more]</label></div><br/><div class="children"><div class="content">Can this be used to host illegal content? I.e.: fork a popular repo, commit a pirated book to the fork, delete the fork, use the original repo to access the pirated book?<p>What would github do after receiving a DMCA request in that case?</div><br/><div id="41062321" class="c"><input type="checkbox" id="c-41062321" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41062265">parent</a><span>|</span><a href="#41063256">next</a><span>|</span><label class="collapse" for="c-41062321">[-]</label><label class="expand" for="c-41062321">[2 more]</label></div><br/><div class="children"><div class="content">One can safely assume they will find a way to follow the law rather than mumble about technically this is working as intended.</div><br/><div id="41066357" class="c"><input type="checkbox" id="c-41066357" checked=""/><div class="controls bullet"><span class="by">InsomniacL</span><span>|</span><a href="#41062265">root</a><span>|</span><a href="#41062321">parent</a><span>|</span><a href="#41063256">next</a><span>|</span><label class="collapse" for="c-41066357">[-]</label><label class="expand" for="c-41066357">[1 more]</label></div><br/><div class="children"><div class="content">&gt; One can safely assume<p>With something as nuance as this, I wouldn&#x27;t safely assume all processes, especially one from a compliance (none-technical) department account for it.</div><br/></div></div></div></div><div id="41063256" class="c"><input type="checkbox" id="c-41063256" checked=""/><div class="controls bullet"><span class="by">Arnavion</span><span>|</span><a href="#41062265">parent</a><span>|</span><a href="#41062321">prev</a><span>|</span><a href="#41062630">next</a><span>|</span><label class="collapse" for="c-41063256">[-]</label><label class="expand" for="c-41063256">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen bots make that kind of PR spam a few times. They&#x27;ll make a PR that adds a random HTML or markdown file or whatever containing gambling spam or whatever and then presumably post links to github.com&#x2F;$yourorg&#x2F;$yourrepo&#x2F;blob&#x2F;$sha&#x2F;thatfile I can&#x27;t link an example because all the ones I know about were nuked by GH Support.</div><br/></div></div><div id="41062630" class="c"><input type="checkbox" id="c-41062630" checked=""/><div class="controls bullet"><span class="by">lnrd</span><span>|</span><a href="#41062265">parent</a><span>|</span><a href="#41063256">prev</a><span>|</span><a href="#41063320">next</a><span>|</span><label class="collapse" for="c-41062630">[-]</label><label class="expand" for="c-41062630">[2 more]</label></div><br/><div class="children"><div class="content">That looks like the kind of loophole that could get GH to do something about this.</div><br/><div id="41062974" class="c"><input type="checkbox" id="c-41062974" checked=""/><div class="controls bullet"><span class="by">arccy</span><span>|</span><a href="#41062265">root</a><span>|</span><a href="#41062630">parent</a><span>|</span><a href="#41063320">next</a><span>|</span><label class="collapse" for="c-41062974">[-]</label><label class="expand" for="c-41062974">[1 more]</label></div><br/><div class="children"><div class="content">they have the ability to do essentially git gc and drop unreachable commits</div><br/></div></div></div></div><div id="41063320" class="c"><input type="checkbox" id="c-41063320" checked=""/><div class="controls bullet"><span class="by">majorchord</span><span>|</span><a href="#41062265">parent</a><span>|</span><a href="#41062630">prev</a><span>|</span><a href="#41063107">next</a><span>|</span><label class="collapse" for="c-41063320">[-]</label><label class="expand" for="c-41063320">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Can this be used to host illegal content?<p>It already is. Even to github org&#x27;s own repos. Any time you make a PR, the &#x2F;tree&#x2F; link to it stays valid forever, even if the repo author removes it.</div><br/></div></div><div id="41063107" class="c"><input type="checkbox" id="c-41063107" checked=""/><div class="controls bullet"><span class="by">nikeee</span><span>|</span><a href="#41062265">parent</a><span>|</span><a href="#41063320">prev</a><span>|</span><a href="#41063311">next</a><span>|</span><label class="collapse" for="c-41063107">[-]</label><label class="expand" for="c-41063107">[1 more]</label></div><br/><div class="children"><div class="content">I think something like this was done when the takedown of yt-dl happened</div><br/></div></div><div id="41063311" class="c"><input type="checkbox" id="c-41063311" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#41062265">parent</a><span>|</span><a href="#41063107">prev</a><span>|</span><a href="#41062406">next</a><span>|</span><label class="collapse" for="c-41063311">[-]</label><label class="expand" for="c-41063311">[1 more]</label></div><br/><div class="children"><div class="content">It can be used to make it look like another project posted the content (though there is a warning: &quot;This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.&quot;).<p>You can&#x27;t host anything this way that you can&#x27;t already host in your own repository, and GitHub does have a way to remove content that will make it inaccessible, whether in your repository or through another.</div><br/></div></div></div></div><div id="41062406" class="c"><input type="checkbox" id="c-41062406" checked=""/><div class="controls bullet"><span class="by">madewulf</span><span>|</span><a href="#41062265">prev</a><span>|</span><a href="#41062750">next</a><span>|</span><label class="collapse" for="c-41062406">[-]</label><label class="expand" for="c-41062406">[3 more]</label></div><br/><div class="children"><div class="content">In fact, there is a process to request complete removal of data, but it involves sending an email that will be reviewed by github staff: <a href="https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;site-policy&#x2F;content-removal-policies&#x2F;github-private-information-removal-policy#sending-a-private-information-removal-request" rel="nofollow">https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;site-policy&#x2F;content-removal-polic...</a><p>On the other hand, once an API key or password has been published somewhere, you should rotate it anyway.</div><br/><div id="41062951" class="c"><input type="checkbox" id="c-41062951" checked=""/><div class="controls bullet"><span class="by">riedel</span><span>|</span><a href="#41062406">parent</a><span>|</span><a href="#41062750">next</a><span>|</span><label class="collapse" for="c-41062951">[-]</label><label class="expand" for="c-41062951">[2 more]</label></div><br/><div class="children"><div class="content">I was wondering, how they can otherwise comply with legislation. Makes sense there is a way to do this e.g. in case of valid GDPR, DMCA, etc. cases.</div><br/><div id="41063355" class="c"><input type="checkbox" id="c-41063355" checked=""/><div class="controls bullet"><span class="by">majorchord</span><span>|</span><a href="#41062406">root</a><span>|</span><a href="#41062951">parent</a><span>|</span><a href="#41062750">next</a><span>|</span><label class="collapse" for="c-41063355">[-]</label><label class="expand" for="c-41063355">[1 more]</label></div><br/><div class="children"><div class="content">Github&#x27;s own DMCA reporting repo has warez in it from deleted PRs you can still access with the original link. Been that way for years</div><br/></div></div></div></div></div></div><div id="41062750" class="c"><input type="checkbox" id="c-41062750" checked=""/><div class="controls bullet"><span class="by">crvdgc</span><span>|</span><a href="#41062406">prev</a><span>|</span><a href="#41064442">next</a><span>|</span><label class="collapse" for="c-41062750">[-]</label><label class="expand" for="c-41062750">[1 more]</label></div><br/><div class="children"><div class="content">I think the first two points are a result of private data (commit&#x2F;fork&#x2F;issue) being able to refer to public data without making the reference public.<p>Say a private commit depends on a public commit C. Suppose in the public repo, the branch containing C gets deleted and C is no longer reachable from the root. From the public repo&#x27;s point-of-view, C can be garbage-collected, but GitHub must keep it alive, otherwise the deletion will break the private commit.<p>It would be &quot;a spooky action at a distance&quot; from the private repo&#x27;s POV. Since the data was at a time public, the private repo could have just backed up everything. In fact, if that&#x27;s the case, everyone <i>should always</i> backup everything. GitHub retaining the commit achieves the same effect.<p>The public repo&#x27;s owner can&#x27;t prevent this breakage even if they want to, because there&#x27;s no way to know the existence of this dependency.<p>The security issue discussed in the post is a different scenario, where the public repo&#x27;s owner wants to break the dependency (making the commit no longer accessible). That would put too much of a risk for anyone to depend on any public code.<p>My mental model is that all commits ever submitted to GitHub will live forever and if it&#x27;s public at one time, then it will always be publicly accessible via its commit hash.</div><br/></div></div><div id="41064442" class="c"><input type="checkbox" id="c-41064442" checked=""/><div class="controls bullet"><span class="by">est31</span><span>|</span><a href="#41062750">prev</a><span>|</span><a href="#41064599">next</a><span>|</span><label class="collapse" for="c-41064442">[-]</label><label class="expand" for="c-41064442">[1 more]</label></div><br/><div class="children"><div class="content">Earlier thread: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39481933">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39481933</a><p>I&#x27;m not so sure about the &quot;forever&quot; part as git gc is a thing, and at least in 2013 they ran it regularly: <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;56020315" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;56020315</a><p>No idea about nowadays though. There is this blog post:<p><a href="https:&#x2F;&#x2F;github.blog&#x2F;engineering&#x2F;scaling-gits-garbage-collection&#x2F;" rel="nofollow">https:&#x2F;&#x2F;github.blog&#x2F;engineering&#x2F;scaling-gits-garbage-collect...</a><p>&gt; We have used this idea at GitHub with great success, and now treat garbage collection as a hands-off process from start to finish.</div><br/></div></div><div id="41064599" class="c"><input type="checkbox" id="c-41064599" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#41064442">prev</a><span>|</span><a href="#41063500">next</a><span>|</span><label class="collapse" for="c-41064599">[-]</label><label class="expand" for="c-41064599">[1 more]</label></div><br/><div class="children"><div class="content">ISTM thereâs a straightforward mitigation or two available to GitHub:<p>1. If a URL would be in the â[t]his commit does not belong to any branch of this repository, and may belong to a fork outside of the repositoryâ and that URL uses a shortened commit hash, return 404 instead. Assuming no information leakage via timing, this would make semi-brute-force probing via short hashes much harder.<p>GitHub is clearly already doing the hard work for this.<p>2. A commit that was never public should not become public unless it is referenced  in a public repository.<p>This would require storing more state.</div><br/></div></div><div id="41063500" class="c"><input type="checkbox" id="c-41063500" checked=""/><div class="controls bullet"><span class="by">scosman</span><span>|</span><a href="#41064599">prev</a><span>|</span><a href="#41060661">next</a><span>|</span><label class="collapse" for="c-41063500">[-]</label><label class="expand" for="c-41063500">[1 more]</label></div><br/><div class="children"><div class="content">I maintain a pretty popular template for SaaS websites. Every few weeks someone would send a PR with all their private fork data, then quickly try to delete it.<p>Making it a &quot;template&quot; repo mostly fixed the issue. That creates a copy instead of a fork. However it still happens from time to time.</div><br/></div></div><div id="41060661" class="c"><input type="checkbox" id="c-41060661" checked=""/><div class="controls bullet"><span class="by">cxr</span><span>|</span><a href="#41063500">prev</a><span>|</span><a href="#41061485">next</a><span>|</span><label class="collapse" for="c-41060661">[-]</label><label class="expand" for="c-41060661">[7 more]</label></div><br/><div class="children"><div class="content">&gt; The implication here is that any code committed to a public repository may be accessible forever<p>That&#x27;s exactly how you should treat anything made available to the public (and there&#x27;s no need for the subsequent qualifier that appears in the articleâ&quot;<i>as long as there is at least one fork of that repository</i>&quot;).</div><br/><div id="41060988" class="c"><input type="checkbox" id="c-41060988" checked=""/><div class="controls bullet"><span class="by">ilikehurdles</span><span>|</span><a href="#41060661">parent</a><span>|</span><a href="#41061485">next</a><span>|</span><label class="collapse" for="c-41060988">[-]</label><label class="expand" for="c-41060988">[6 more]</label></div><br/><div class="children"><div class="content">Sometimes I wonder if all the security features GitHub slathers on top of `git` lull people into a false sense of security when fundamentally they&#x27;re working in a fully distributed version control system with no centralized authority. If your key is leaked the solution is to invalidate the key not just synthetically alter your version of history to pretend it never happened.</div><br/><div id="41066410" class="c"><input type="checkbox" id="c-41066410" checked=""/><div class="controls bullet"><span class="by">noname120</span><span>|</span><a href="#41060661">root</a><span>|</span><a href="#41060988">parent</a><span>|</span><a href="#41061215">next</a><span>|</span><label class="collapse" for="c-41066410">[-]</label><label class="expand" for="c-41066410">[1 more]</label></div><br/><div class="children"><div class="content">Unless you specifically know and understand the ramifications of this GitHub idiosyncrasy, you have no way to tell that your key was possibly leaked. GitHub never informs you that someone accessed a commit created in your private fork.</div><br/></div></div><div id="41061215" class="c"><input type="checkbox" id="c-41061215" checked=""/><div class="controls bullet"><span class="by">b800h</span><span>|</span><a href="#41060661">root</a><span>|</span><a href="#41060988">parent</a><span>|</span><a href="#41066410">prev</a><span>|</span><a href="#41061485">next</a><span>|</span><label class="collapse" for="c-41061215">[-]</label><label class="expand" for="c-41061215">[4 more]</label></div><br/><div class="children"><div class="content">This is more of a problem if you leak private information with a commit by accident. You can&#x27;t really revoke that.</div><br/><div id="41062608" class="c"><input type="checkbox" id="c-41062608" checked=""/><div class="controls bullet"><span class="by">kemitche</span><span>|</span><a href="#41060661">root</a><span>|</span><a href="#41061215">parent</a><span>|</span><a href="#41061485">next</a><span>|</span><label class="collapse" for="c-41062608">[-]</label><label class="expand" for="c-41062608">[3 more]</label></div><br/><div class="children"><div class="content">You can&#x27;t reach out to any machines that have pulled down that commit and forcibly delete it, either.</div><br/><div id="41063110" class="c"><input type="checkbox" id="c-41063110" checked=""/><div class="controls bullet"><span class="by">hughesjj</span><span>|</span><a href="#41060661">root</a><span>|</span><a href="#41062608">parent</a><span>|</span><a href="#41061485">next</a><span>|</span><label class="collapse" for="c-41063110">[-]</label><label class="expand" for="c-41063110">[2 more]</label></div><br/><div class="children"><div class="content">But you can prevent anyone from doing so in the future and cross your fingers that no one has done so yet</div><br/><div id="41065011" class="c"><input type="checkbox" id="c-41065011" checked=""/><div class="controls bullet"><span class="by">b800h</span><span>|</span><a href="#41060661">root</a><span>|</span><a href="#41063110">parent</a><span>|</span><a href="#41061485">next</a><span>|</span><label class="collapse" for="c-41065011">[-]</label><label class="expand" for="c-41065011">[1 more]</label></div><br/><div class="children"><div class="content">As per this post, if a lot of people have forked your repo in the past, then you&#x27;re stuffed.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="41061485" class="c"><input type="checkbox" id="c-41061485" checked=""/><div class="controls bullet"><span class="by">kassah</span><span>|</span><a href="#41060661">prev</a><span>|</span><a href="#41060742">next</a><span>|</span><label class="collapse" for="c-41061485">[-]</label><label class="expand" for="c-41061485">[2 more]</label></div><br/><div class="children"><div class="content">In response to the end of the article &quot;itâs important to note that some of these issues exist on other version control system products.&quot; I actually have experience helping someone with an issue on BitBucket with PII data that you can&#x27;t rotate.<p>Once we eliminated the references in the tree and all forks (they were all private thankfully), we reached out to BitBucket support, and they were able to garbage collect those commits, and purge them to the point where even knowing the git hashes they were not locatable directly.</div><br/><div id="41066117" class="c"><input type="checkbox" id="c-41066117" checked=""/><div class="controls bullet"><span class="by">gbalduzzi</span><span>|</span><a href="#41061485">parent</a><span>|</span><a href="#41060742">next</a><span>|</span><label class="collapse" for="c-41066117">[-]</label><label class="expand" for="c-41066117">[1 more]</label></div><br/><div class="children"><div class="content">Github also supports that if you reach out support directly</div><br/></div></div></div></div><div id="41060742" class="c"><input type="checkbox" id="c-41060742" checked=""/><div class="controls bullet"><span class="by">lilyball</span><span>|</span><a href="#41061485">prev</a><span>|</span><a href="#41060960">next</a><span>|</span><label class="collapse" for="c-41060742">[-]</label><label class="expand" for="c-41060742">[7 more]</label></div><br/><div class="children"><div class="content">Really the only semi-interesting part of this is &quot;if you make a private repo public, data from other private forks might be discoverable&quot;, but even that seems pretty minor, and the best practice for taking private repos public is to copy the data into a new repo anyway.</div><br/><div id="41061111" class="c"><input type="checkbox" id="c-41061111" checked=""/><div class="controls bullet"><span class="by">zelphirkalt</span><span>|</span><a href="#41060742">parent</a><span>|</span><a href="#41063052">next</a><span>|</span><label class="collapse" for="c-41061111">[-]</label><label class="expand" for="c-41061111">[3 more]</label></div><br/><div class="children"><div class="content">Is that a best practice in hindsight, or because it was known to some, that this issue exists, or for what other reason do you consider it a best practice? Git history?</div><br/><div id="41062907" class="c"><input type="checkbox" id="c-41062907" checked=""/><div class="controls bullet"><span class="by">lilyball</span><span>|</span><a href="#41060742">root</a><span>|</span><a href="#41061111">parent</a><span>|</span><a href="#41064393">next</a><span>|</span><label class="collapse" for="c-41062907">[-]</label><label class="expand" for="c-41062907">[1 more]</label></div><br/><div class="children"><div class="content">When making a private repo public, there&#x27;s a high chance that there was stuff in the private repo that isn&#x27;t necessarily ok to make public. It&#x27;s a lot easier to just create a new public repo containing all the data you want to make public than it is to reliably scrub a private repo of any data that shouldn&#x27;t be there.<p>More generally, you probably want to construct a new history for the public repo anyway, so you&#x27;ll want a brand new repo to ensure none of the scrubbed history is accessible.</div><br/></div></div><div id="41064393" class="c"><input type="checkbox" id="c-41064393" checked=""/><div class="controls bullet"><span class="by">scarface_74</span><span>|</span><a href="#41060742">root</a><span>|</span><a href="#41061111">parent</a><span>|</span><a href="#41062907">prev</a><span>|</span><a href="#41063052">next</a><span>|</span><label class="collapse" for="c-41064393">[-]</label><label class="expand" for="c-41064393">[1 more]</label></div><br/><div class="children"><div class="content">I worked in Professional Services at AWS for a little over three years.  There was a fairly easy approval process to put our work out on the public AWS Samples (<a href="https:&#x2F;&#x2F;github.com&#x2F;aws-samples">https:&#x2F;&#x2F;github.com&#x2F;aws-samples</a>) repository once we removed the private confidential part of the implementation.<p>I always started a new repository without git history. I canât imagine trying to audit every single commit.</div><br/></div></div></div></div><div id="41063052" class="c"><input type="checkbox" id="c-41063052" checked=""/><div class="controls bullet"><span class="by">HL33tibCe7</span><span>|</span><a href="#41060742">parent</a><span>|</span><a href="#41061111">prev</a><span>|</span><a href="#41061434">next</a><span>|</span><label class="collapse" for="c-41063052">[-]</label><label class="expand" for="c-41063052">[2 more]</label></div><br/><div class="children"><div class="content">Youâve completely missed the most dangerous thing mentioned, namely that private forks are not private.</div><br/><div id="41065146" class="c"><input type="checkbox" id="c-41065146" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#41060742">root</a><span>|</span><a href="#41063052">parent</a><span>|</span><a href="#41061434">next</a><span>|</span><label class="collapse" for="c-41065146">[-]</label><label class="expand" for="c-41065146">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Youâve completely missed the most dangerous thing mentioned, namely that private forks are not private.<p>What do you mean &quot;missed&quot;?  They described the situation where data is leaked from a private fork, which is when you make the original repo public.<p>There&#x27;s no other time when data leaks.  A public repo can&#x27;t have ongoing private forks.</div><br/></div></div></div></div><div id="41061434" class="c"><input type="checkbox" id="c-41061434" checked=""/><div class="controls bullet"><span class="by">xmodem</span><span>|</span><a href="#41060742">parent</a><span>|</span><a href="#41063052">prev</a><span>|</span><a href="#41060960">next</a><span>|</span><label class="collapse" for="c-41061434">[-]</label><label class="expand" for="c-41061434">[1 more]</label></div><br/><div class="children"><div class="content">Even after a private repo is made public, it&#x27;s common practice for new functionality to be worked on in private until it&#x27;s ready.</div><br/></div></div></div></div><div id="41060960" class="c"><input type="checkbox" id="c-41060960" checked=""/><div class="controls bullet"><span class="by">agentdrek</span><span>|</span><a href="#41060742">prev</a><span>|</span><a href="#41065726">next</a><span>|</span><label class="collapse" for="c-41060960">[-]</label><label class="expand" for="c-41060960">[1 more]</label></div><br/><div class="children"><div class="content">Clearly a POLA violation (principle of least astonishment)</div><br/></div></div><div id="41065726" class="c"><input type="checkbox" id="c-41065726" checked=""/><div class="controls bullet"><span class="by">x-yl</span><span>|</span><a href="#41060960">prev</a><span>|</span><a href="#41065419">next</a><span>|</span><label class="collapse" for="c-41065726">[-]</label><label class="expand" for="c-41065726">[1 more]</label></div><br/><div class="children"><div class="content">This behaviour is also important for ergonomic submodules. The .gitmodules file lists the upstream repo as the origin. So, if you&#x27;re modifying an upstream project in a submodule and push changes to a fork, it&#x27;s important that the SHA that git tracks is still reachable through the upstream link.<p>Ultimately I don&#x27;t think it&#x27;s feasible to break this behaviour and the most we can hope for is a big red warning when something counterintuitive happens.</div><br/></div></div><div id="41065419" class="c"><input type="checkbox" id="c-41065419" checked=""/><div class="controls bullet"><span class="by">solatic</span><span>|</span><a href="#41065726">prev</a><span>|</span><a href="#41060713">next</a><span>|</span><label class="collapse" for="c-41065419">[-]</label><label class="expand" for="c-41065419">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s quite a long list of &quot;open core&quot; companies whose models are, start from a private repository (i.e. company is in stealth), make a private fork that will include for-profit code with enterprise features, make the original repository public so that the core will be open-source.<p>That GitHub is telling these companies, and bear in mind that these companies are <i>paying customers of GitHub</i>, yeah we don&#x27;t care that your private proprietary code can be hacked off GitHub by anybody, is incredibly disturbing. Is there really not enough pressure from paying customers to fix this? Is Microsoft just too big to care?</div><br/></div></div><div id="41060713" class="c"><input type="checkbox" id="c-41060713" checked=""/><div class="controls bullet"><span class="by">haneul</span><span>|</span><a href="#41065419">prev</a><span>|</span><a href="#41060863">next</a><span>|</span><label class="collapse" for="c-41060713">[-]</label><label class="expand" for="c-41060713">[5 more]</label></div><br/><div class="children"><div class="content">Does any variant of this apply to DMCAâd repos in the repo network?<p>For example if the root repo is DMCAâd, or, if repo B forks repo A, then B adds some stuff that causes B to get DMCAâd. Can A still access B?</div><br/><div id="41060976" class="c"><input type="checkbox" id="c-41060976" checked=""/><div class="controls bullet"><span class="by">richbell</span><span>|</span><a href="#41060713">parent</a><span>|</span><a href="#41060863">next</a><span>|</span><label class="collapse" for="c-41060976">[-]</label><label class="expand" for="c-41060976">[4 more]</label></div><br/><div class="children"><div class="content">I believe the entire network is suspended.</div><br/><div id="41061122" class="c"><input type="checkbox" id="c-41061122" checked=""/><div class="controls bullet"><span class="by">haneul</span><span>|</span><a href="#41060713">root</a><span>|</span><a href="#41060976">parent</a><span>|</span><a href="#41060863">next</a><span>|</span><label class="collapse" for="c-41061122">[-]</label><label class="expand" for="c-41061122">[3 more]</label></div><br/><div class="children"><div class="content">A downstream dmca suspends the upstream? That astonishes me. Anyone down to shut down react?</div><br/><div id="41063934" class="c"><input type="checkbox" id="c-41063934" checked=""/><div class="controls bullet"><span class="by">neongreen</span><span>|</span><a href="#41060713">root</a><span>|</span><a href="#41061122">parent</a><span>|</span><a href="#41060863">next</a><span>|</span><label class="collapse" for="c-41063934">[-]</label><label class="expand" for="c-41063934">[2 more]</label></div><br/><div class="children"><div class="content">According to <a href="https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;site-policy&#x2F;content-removal-policies&#x2F;dmca-takedown-policy#b-what-about-forks-or-whats-a-fork" rel="nofollow">https:&#x2F;&#x2F;docs.github.com&#x2F;en&#x2F;site-policy&#x2F;content-removal-polic...</a>, even an upstream dmca doesnât suspend downstream by default (unless the copyright owner claims they believe all forks violate copyright) â so I would be surprised if downstream dmca suspended upstream.<p>NB: according to <a href="https:&#x2F;&#x2F;www.gtlaw.com&#x2F;-&#x2F;media&#x2F;files&#x2F;webinars&#x2F;ian-ballon-may-19&#x2F;dmca-safe-harbors-an-analysis-of-the-statute-and-case-law.pdf" rel="nofollow">https:&#x2F;&#x2F;www.gtlaw.com&#x2F;-&#x2F;media&#x2F;files&#x2F;webinars&#x2F;ian-ballon-may-...</a>, page 4-470, itâs possible that failing to process a DMCA notice may only lead to losing safe harbor for the material identified in the notice, not for the entire service.<p>So GitHub might just choose to ignore the notice for React, get sued, and win, all without losing the safe harbor.<p>For less popular repos, I would not be surprised if you could take down any repo literally by submitting a completely bogus notice.<p>But honestly I still donât know how much leeway - legally - service providers have in applying their own technical&#x2F;legal expertise when evaluating DMCA notices. Iâd appreciate any sources (court decisions, textbooks, whitepapers, descriptions of actual industry practices, etc) on the topic.</div><br/><div id="41065113" class="c"><input type="checkbox" id="c-41065113" checked=""/><div class="controls bullet"><span class="by">haneul</span><span>|</span><a href="#41060713">root</a><span>|</span><a href="#41063934">parent</a><span>|</span><a href="#41060863">next</a><span>|</span><label class="collapse" for="c-41065113">[-]</label><label class="expand" for="c-41065113">[1 more]</label></div><br/><div class="children"><div class="content">&gt; So GitHub might just choose to ignore the notice for React, get sued, and win, all without losing the safe harbor.<p>It wouldn&#x27;t be React getting the notice. It would be say, someone forking React, then adding a pull request with some clearly DMCA-violating material.<p>Then, if downstream B DMCA shutdown doesn&#x27;t affect upstream A&#x27;s availability, there&#x27;s still the question of A normally still having access to B&#x27;s non-merged commits even in the case of B&#x27;s deletion. So, A should still be access the DMCA-violating material.<p>And, if A&#x27;s access to B&#x27;s non-merged, DMCA-violating commit is truly revoked without affecting A otherwise... why can&#x27;t we have a &quot;Strong Delete&quot; button on GitHub? Would seem they&#x27;d have to have &quot;Strong Delete&quot; functionality to comply with downstream B hitting DMCA.<p>Basically, I&#x27;m feeling either a violation of principle of least astonishment, or a violation of &quot;strong-DMCA&quot;.<p>Unless this is to support a feature in Git&#x2F;GitHub that I am too noob to understand. :shrug:</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41060863" class="c"><input type="checkbox" id="c-41060863" checked=""/><div class="controls bullet"><span class="by">bladegash</span><span>|</span><a href="#41060713">prev</a><span>|</span><a href="#41060939">next</a><span>|</span><label class="collapse" for="c-41060863">[-]</label><label class="expand" for="c-41060863">[1 more]</label></div><br/><div class="children"><div class="content">Unrelated, but another interesting one is any non-admin contributors being able to add (and I believe update) secrets in a private repo for use in GH actions. It canât be done via the UI, but can be done via the API or VSCode extension.<p>When I looked into it a while back, apparently it is intended behavior, which just seems odd.</div><br/></div></div><div id="41060939" class="c"><input type="checkbox" id="c-41060939" checked=""/><div class="controls bullet"><span class="by">mmsc</span><span>|</span><a href="#41060863">prev</a><span>|</span><a href="#41063093">next</a><span>|</span><label class="collapse" for="c-41060939">[-]</label><label class="expand" for="c-41060939">[4 more]</label></div><br/><div class="children"><div class="content">&gt;This is such an enormous attack vector for all organizations that use GitHub that weâre introducing a new term: Cross Fork Object Reference (CFOR)<p>Have we stopped naming vulnerabilities cute and fuzzy names and started inventing class names instead? Does this have a logo? Has this issue been identified anywhere else?</div><br/><div id="41061864" class="c"><input type="checkbox" id="c-41061864" checked=""/><div class="controls bullet"><span class="by">booi</span><span>|</span><a href="#41060939">parent</a><span>|</span><a href="#41060987">next</a><span>|</span><label class="collapse" for="c-41061864">[-]</label><label class="expand" for="c-41061864">[2 more]</label></div><br/><div class="children"><div class="content">Introducing a new vulnerability... Git Forkedâ¢!<p>chatgpt: Create a logo image of a fork impaling a small gnome named &quot;code&quot;</div><br/><div id="41062574" class="c"><input type="checkbox" id="c-41062574" checked=""/><div class="controls bullet"><span class="by">riiii</span><span>|</span><a href="#41060939">root</a><span>|</span><a href="#41061864">parent</a><span>|</span><a href="#41060987">next</a><span>|</span><label class="collapse" for="c-41062574">[-]</label><label class="expand" for="c-41062574">[1 more]</label></div><br/><div class="children"><div class="content">Much better name.<p>It&#x27;s very formally called Cross Fork Object Reference (CFOR). But commonly known as Git Forked! (Including the exclamation mark).</div><br/></div></div></div></div></div></div><div id="41063093" class="c"><input type="checkbox" id="c-41063093" checked=""/><div class="controls bullet"><span class="by">j2kun</span><span>|</span><a href="#41060939">prev</a><span>|</span><a href="#41061587">next</a><span>|</span><label class="collapse" for="c-41063093">[-]</label><label class="expand" for="c-41063093">[1 more]</label></div><br/><div class="children"><div class="content">The title makes it seem more severe than it is. This only applies to GH forks of public repositories (or repositories that become public). Forks mirror the upstream repo&#x27;s visibility.</div><br/></div></div><div id="41061587" class="c"><input type="checkbox" id="c-41061587" checked=""/><div class="controls bullet"><span class="by">tamimio</span><span>|</span><a href="#41063093">prev</a><span>|</span><a href="#41062711">next</a><span>|</span><label class="collapse" for="c-41061587">[-]</label><label class="expand" for="c-41061587">[2 more]</label></div><br/><div class="children"><div class="content">I donât use GitHub for anything serious, rather my own Gitea. However:<p>&gt; Any commits made to your private fork after you make the âupstreamâ repository public are not viewable.<p>Does that mean a private repo that has never been or will be public isnât accessible? That scenario wasnât mentioned.</div><br/><div id="41062182" class="c"><input type="checkbox" id="c-41062182" checked=""/><div class="controls bullet"><span class="by">fedorareis</span><span>|</span><a href="#41061587">parent</a><span>|</span><a href="#41062711">next</a><span>|</span><label class="collapse" for="c-41062182">[-]</label><label class="expand" for="c-41062182">[1 more]</label></div><br/><div class="children"><div class="content">My understanding is that you are correct. If the repo and all of its forks stay private then the only people that would be able to view them are people who have permissions to access those repos.</div><br/></div></div></div></div><div id="41062711" class="c"><input type="checkbox" id="c-41062711" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#41061587">prev</a><span>|</span><a href="#41061486">next</a><span>|</span><label class="collapse" for="c-41062711">[-]</label><label class="expand" for="c-41062711">[5 more]</label></div><br/><div class="children"><div class="content">How is this more of a vulnerability than the existence of sites like archive.org is? Isn&#x27;t it just a fact of the Internet that once you make something public, you can&#x27;t fully take it back later?</div><br/><div id="41062954" class="c"><input type="checkbox" id="c-41062954" checked=""/><div class="controls bullet"><span class="by">debugnik</span><span>|</span><a href="#41062711">parent</a><span>|</span><a href="#41063100">next</a><span>|</span><label class="collapse" for="c-41062954">[-]</label><label class="expand" for="c-41062954">[2 more]</label></div><br/><div class="children"><div class="content">The third case in the article shows private forks being leaked publicly when the upstream goes public.<p>The other two cases are indeed not worse than third-party archival, but they&#x27;re still socially concerning. When you ask your own host to delete something you uploaded, you don&#x27;t expect them to ignore you just because someone could have already archived it maybe. Making it harder to find can still be valuable; not all archives stay available forever, if any.</div><br/><div id="41064192" class="c"><input type="checkbox" id="c-41064192" checked=""/><div class="controls bullet"><span class="by">dwaite</span><span>|</span><a href="#41062711">root</a><span>|</span><a href="#41062954">parent</a><span>|</span><a href="#41063100">next</a><span>|</span><label class="collapse" for="c-41064192">[-]</label><label class="expand" for="c-41064192">[1 more]</label></div><br/><div class="children"><div class="content">&gt; When you ask your own host to delete something you uploaded, you don&#x27;t expect them to ignore you just because someone could have already archived it maybe.<p>I&#x27;ve had a service say that deleting the information fully can take eight months.</div><br/></div></div></div></div><div id="41063100" class="c"><input type="checkbox" id="c-41063100" checked=""/><div class="controls bullet"><span class="by">hughesjj</span><span>|</span><a href="#41062711">parent</a><span>|</span><a href="#41062954">prev</a><span>|</span><a href="#41062899">next</a><span>|</span><label class="collapse" for="c-41063100">[-]</label><label class="expand" for="c-41063100">[1 more]</label></div><br/><div class="children"><div class="content">Private forks were never public beyond this gotcha</div><br/></div></div><div id="41062899" class="c"><input type="checkbox" id="c-41062899" checked=""/><div class="controls bullet"><span class="by">bogwog</span><span>|</span><a href="#41062711">parent</a><span>|</span><a href="#41063100">prev</a><span>|</span><a href="#41061486">next</a><span>|</span><label class="collapse" for="c-41062899">[-]</label><label class="expand" for="c-41062899">[1 more]</label></div><br/><div class="children"><div class="content">Because private forks are not meant to be public</div><br/></div></div></div></div><div id="41061486" class="c"><input type="checkbox" id="c-41061486" checked=""/><div class="controls bullet"><span class="by">Szpadel</span><span>|</span><a href="#41062711">prev</a><span>|</span><a href="#41065393">next</a><span>|</span><label class="collapse" for="c-41061486">[-]</label><label class="expand" for="c-41061486">[1 more]</label></div><br/><div class="children"><div class="content">even better you can actually commit to other forks if they creates pull request to you.<p>(there is checkbox allowing that when you are opening PR that I bet almost noone noticed)<p>I reported that years ago and all they changed it that they extended documentation about this &quot;feature&quot;<p>my main issue was that you cannot easily revoke this access because target repo can always reopen PR and regain write access.<p>but they basically &quot;stated works as intended&quot;</div><br/></div></div><div id="41065393" class="c"><input type="checkbox" id="c-41065393" checked=""/><div class="controls bullet"><span class="by">rocqua</span><span>|</span><a href="#41061486">prev</a><span>|</span><a href="#41063603">next</a><span>|</span><label class="collapse" for="c-41065393">[-]</label><label class="expand" for="c-41065393">[1 more]</label></div><br/><div class="children"><div class="content">They have the yellow banner to detect when you likely access a hash like this. Why do they allow those commit hashes to be accessed through the short commit hashes?</div><br/></div></div><div id="41063603" class="c"><input type="checkbox" id="c-41063603" checked=""/><div class="controls bullet"><span class="by">sgc</span><span>|</span><a href="#41065393">prev</a><span>|</span><a href="#41066276">next</a><span>|</span><label class="collapse" for="c-41063603">[-]</label><label class="expand" for="c-41063603">[2 more]</label></div><br/><div class="children"><div class="content">This walks like a dark pattern and quacks like a dark pattern. People&#x27;s entire livelihoods are at stake and they don&#x27;t care. Most likely because plausible deniability and obscure TOS rights of how and when the code is used is more valuable to them than the reputation hit. It is hard to imagine this is very hard to fix.</div><br/></div></div><div id="41066276" class="c"><input type="checkbox" id="c-41066276" checked=""/><div class="controls bullet"><span class="by">varispeed</span><span>|</span><a href="#41063603">prev</a><span>|</span><a href="#41065305">next</a><span>|</span><label class="collapse" for="c-41066276">[-]</label><label class="expand" for="c-41066276">[1 more]</label></div><br/><div class="children"><div class="content">I learned about it years ago when I accidentally pushed secrets to the repo. When after rebasing and force pushing to the branch I was still able to access that commit, we decided to stop using GitHub.</div><br/></div></div><div id="41065305" class="c"><input type="checkbox" id="c-41065305" checked=""/><div class="controls bullet"><span class="by">daitangio</span><span>|</span><a href="#41066276">prev</a><span>|</span><label class="collapse" for="c-41065305">[-]</label><label class="expand" for="c-41065305">[1 more]</label></div><br/><div class="children"><div class="content">Question: but for deleted you just mean commit to delete it? Because if you remove the commit from the repo, it should disappear.</div><br/></div></div></div></div></div></div></div></body></html>