<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733302858227" as="style"/><link rel="stylesheet" href="styles.css?v=1733302858227"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://skia-canvas.org/">Skia Canvas: Browserless implementation of the HTML Canvas drawing API for node</a> <span class="domain">(<a href="https://skia-canvas.org">skia-canvas.org</a>)</span></div><div class="subtext"><span>DaniAkash</span> | <span>73 comments</span></div><br/><div><div id="42312061" class="c"><input type="checkbox" id="c-42312061" checked=""/><div class="controls bullet"><span class="by">silvajoao</span><span>|</span><a href="#42309895">next</a><span>|</span><label class="collapse" for="c-42312061">[-]</label><label class="expand" for="c-42312061">[4 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;windowjs.org" rel="nofollow">https:&#x2F;&#x2F;windowjs.org</a> is a very similar concept -- it wraps Skia and exposes it as the Canvas API, but also embeds v8 for a very small runtime instead of using Node.<p>It was my first open-source project, released about 3 years ago.<p>I had plans to also expose WebGL, audio, etc and make it a viable platform for Javascript-based games on desktop.<p>Life and other projects happened instead, and development was discontinued. Happy to see this project also making Canvas accessible outside the browser!</div><br/><div id="42314941" class="c"><input type="checkbox" id="c-42314941" checked=""/><div class="controls bullet"><span class="by">wis</span><span>|</span><a href="#42312061">parent</a><span>|</span><a href="#42313639">next</a><span>|</span><label class="collapse" for="c-42314941">[-]</label><label class="expand" for="c-42314941">[1 more]</label></div><br/><div class="children"><div class="content">Amazing project!<p>&gt; but also embeds v8 for a very small runtime instead of using Node.<p>By how much does embedding just V8 instead of using Node.js decrease the binary size? Node.js uses V8, does most of Node&#x27;s binary size come from its runtime and not V8?<p>I tried browsing the website and GitHub repo to find how many kBs or MBs typically is a Window.js binary, but didn&#x27;t find an answer.</div><br/></div></div><div id="42313639" class="c"><input type="checkbox" id="c-42313639" checked=""/><div class="controls bullet"><span class="by">njtransit</span><span>|</span><a href="#42312061">parent</a><span>|</span><a href="#42314941">prev</a><span>|</span><a href="#42309895">next</a><span>|</span><label class="collapse" for="c-42313639">[-]</label><label class="expand" for="c-42313639">[2 more]</label></div><br/><div class="children"><div class="content">That’s pretty cool! But v8 alone kind of sucks unless you specifically want isolation. Sometimes you just want to make a network request, you know?</div><br/><div id="42314781" class="c"><input type="checkbox" id="c-42314781" checked=""/><div class="controls bullet"><span class="by">xnorswap</span><span>|</span><a href="#42312061">root</a><span>|</span><a href="#42313639">parent</a><span>|</span><a href="#42309895">next</a><span>|</span><label class="collapse" for="c-42314781">[-]</label><label class="expand" for="c-42314781">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Sometimes you just want to make a network request<p>In a drawing tool &#x2F; library?<p>That&#x27;s just asking for trouble. By spec, SVG allows for XXE shenanigans. I&#x27;d rather not worry that any image file I process might exfiltrate my data.</div><br/></div></div></div></div></div></div><div id="42309895" class="c"><input type="checkbox" id="c-42309895" checked=""/><div class="controls bullet"><span class="by">jahewson</span><span>|</span><a href="#42312061">prev</a><span>|</span><a href="#42309803">next</a><span>|</span><label class="collapse" for="c-42309895">[-]</label><label class="expand" for="c-42309895">[4 more]</label></div><br/><div class="children"><div class="content">Skia ships with a WASM build that supports node, called CanvasKit [1], whereas this module is Rust bindings? I’d be keen to know what the pros and cons of each approach are.<p>1. <a href="https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;canvaskit-wasm" rel="nofollow">https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;canvaskit-wasm</a></div><br/><div id="42309992" class="c"><input type="checkbox" id="c-42309992" checked=""/><div class="controls bullet"><span class="by">TheRealPomax</span><span>|</span><a href="#42309895">parent</a><span>|</span><a href="#42309803">next</a><span>|</span><label class="collapse" for="c-42309992">[-]</label><label class="expand" for="c-42309992">[3 more]</label></div><br/><div class="children"><div class="content">Note that it&#x27;s not so much &quot;rust bindings&quot; as a pre-compiled node binary (that happens to be generated off of a mixed Rust&#x2F;C++ codebase). So that&#x27;s really the main difference: WASM needs a separate runtime, whereas a node binary doesn&#x27;t.</div><br/><div id="42310866" class="c"><input type="checkbox" id="c-42310866" checked=""/><div class="controls bullet"><span class="by">steelbrain</span><span>|</span><a href="#42309895">root</a><span>|</span><a href="#42309992">parent</a><span>|</span><a href="#42309803">next</a><span>|</span><label class="collapse" for="c-42310866">[-]</label><label class="expand" for="c-42310866">[2 more]</label></div><br/><div class="children"><div class="content">&gt; WASM needs a separate runtime, whereas a node binary doesn&#x27;t.<p>FWIW, node ships with a WASM runtime. See <a href="https:&#x2F;&#x2F;nodejs.org&#x2F;en&#x2F;learn&#x2F;getting-started&#x2F;nodejs-with-webassembly" rel="nofollow">https:&#x2F;&#x2F;nodejs.org&#x2F;en&#x2F;learn&#x2F;getting-started&#x2F;nodejs-with-weba...</a></div><br/><div id="42314247" class="c"><input type="checkbox" id="c-42314247" checked=""/><div class="controls bullet"><span class="by">maxloh</span><span>|</span><a href="#42309895">root</a><span>|</span><a href="#42310866">parent</a><span>|</span><a href="#42309803">next</a><span>|</span><label class="collapse" for="c-42314247">[-]</label><label class="expand" for="c-42314247">[1 more]</label></div><br/><div class="children"><div class="content">The more accurate way to say that is: V8 is also a WASM runtime.</div><br/></div></div></div></div></div></div></div></div><div id="42309803" class="c"><input type="checkbox" id="c-42309803" checked=""/><div class="controls bullet"><span class="by">h1fra</span><span>|</span><a href="#42309895">prev</a><span>|</span><a href="#42309009">next</a><span>|</span><label class="collapse" for="c-42309803">[-]</label><label class="expand" for="c-42309803">[19 more]</label></div><br/><div class="children"><div class="content">Out of curiosity, what&#x27;s the use for such library? If you are on a desktop surely there is a better native library to draw shapes, no?</div><br/><div id="42310703" class="c"><input type="checkbox" id="c-42310703" checked=""/><div class="controls bullet"><span class="by">adrianh</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42309981">next</a><span>|</span><label class="collapse" for="c-42310703">[-]</label><label class="expand" for="c-42310703">[6 more]</label></div><br/><div class="children"><div class="content">At Soundslice, we have a custom sheet-music-rendering graphics library in frontend JavaScript&#x2F;Canvas.<p>We also need to generate vector PDFs serverside — so we use a node library that speaks the HTML Canvas API and can generate PDFs. This way the result is exactly the same as the rendered sheet music in the web browser. Nice!<p>The upshot is: this kind of library allows for code reuse in non-browser contexts.</div><br/><div id="42315616" class="c"><input type="checkbox" id="c-42315616" checked=""/><div class="controls bullet"><span class="by">DanielHB</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42310703">parent</a><span>|</span><a href="#42310734">next</a><span>|</span><label class="collapse" for="c-42315616">[-]</label><label class="expand" for="c-42315616">[1 more]</label></div><br/><div class="children"><div class="content">On a related note, I once used puppeteer and headless chrome in a docker image to generate PDF manuals from our web page documentation using the print to PDF feature of headless chrome.<p>I am not sure if it would be viable to use for thousands of PDF generation per minute but it worked great. I wasted a lot of time trying to find a good lib for HTML-&gt;PDF and they all kinda sucked in different ways. The only downside is that the chrome PDF api doesn&#x27;t have a way to generate a table of contents with page numbers.</div><br/></div></div><div id="42310734" class="c"><input type="checkbox" id="c-42310734" checked=""/><div class="controls bullet"><span class="by">rafaelmn</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42310703">parent</a><span>|</span><a href="#42315616">prev</a><span>|</span><a href="#42313668">next</a><span>|</span><label class="collapse" for="c-42310734">[-]</label><label class="expand" for="c-42310734">[3 more]</label></div><br/><div class="children"><div class="content">Is Canvas really suitable for PDFs ? Afaik it&#x27;s immediate mode bitmap graphics - so PDFs would just be embedded bitmaps ?</div><br/><div id="42310766" class="c"><input type="checkbox" id="c-42310766" checked=""/><div class="controls bullet"><span class="by">adrianh</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42310734">parent</a><span>|</span><a href="#42313668">next</a><span>|</span><label class="collapse" for="c-42310766">[-]</label><label class="expand" for="c-42310766">[2 more]</label></div><br/><div class="children"><div class="content">We do indeed generate vector PDFs, not embedded bitmaps.<p>Our graphics engine works with Canvas API instructions — like &quot;draw a line from point (A,B) to (C,D).&quot; This API is small enough and low-level enough that it can also generate pristine vector output.<p>That&#x27;s in fact one of the features of Skia Canvas (vector output in PDF and SVG).</div><br/><div id="42310890" class="c"><input type="checkbox" id="c-42310890" checked=""/><div class="controls bullet"><span class="by">rafaelmn</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42310766">parent</a><span>|</span><a href="#42313668">next</a><span>|</span><label class="collapse" for="c-42310890">[-]</label><label class="expand" for="c-42310890">[1 more]</label></div><br/><div class="children"><div class="content">Ah nice didn&#x27;t know it had a PDF backend - that sounds perfect for this use case.</div><br/></div></div></div></div></div></div><div id="42313668" class="c"><input type="checkbox" id="c-42313668" checked=""/><div class="controls bullet"><span class="by">simonsarris</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42310703">parent</a><span>|</span><a href="#42310734">prev</a><span>|</span><a href="#42309981">next</a><span>|</span><label class="collapse" for="c-42313668">[-]</label><label class="expand" for="c-42313668">[1 more]</label></div><br/><div class="children"><div class="content">Curious: What other libs are you using for the PDF generation?</div><br/></div></div></div></div><div id="42309981" class="c"><input type="checkbox" id="c-42309981" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42310703">prev</a><span>|</span><a href="#42315028">next</a><span>|</span><label class="collapse" for="c-42309981">[-]</label><label class="expand" for="c-42309981">[3 more]</label></div><br/><div class="children"><div class="content">There isn’t really anything commonly “native” as powerful as skia for 2D drawing and a big part of skia is using the native graphics effectively, this is why it exists in the first place for browser engines. Besides having one target API is a benefit.</div><br/><div id="42312492" class="c"><input type="checkbox" id="c-42312492" checked=""/><div class="controls bullet"><span class="by">1propionyl</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42309981">parent</a><span>|</span><a href="#42315028">next</a><span>|</span><label class="collapse" for="c-42312492">[-]</label><label class="expand" for="c-42312492">[2 more]</label></div><br/><div class="children"><div class="content">&gt; There isn’t really anything commonly “native” as powerful as skia for 2D drawing<p>Cairo?</div><br/><div id="42312876" class="c"><input type="checkbox" id="c-42312876" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42312492">parent</a><span>|</span><a href="#42315028">next</a><span>|</span><label class="collapse" for="c-42312876">[-]</label><label class="expand" for="c-42312876">[1 more]</label></div><br/><div class="children"><div class="content">I love Cairo, but it’s just not in the same feature or performance ballpark as skia. There’s a reason even Firefox adopted skia. 
Skia is like the V8 of 2D drawing libraries, just a ton of continual investment into optimization. I used to work on cairo and pixman, it’s great, very straightforward but not finely tuned for performance on modern hardware.</div><br/></div></div></div></div></div></div><div id="42315028" class="c"><input type="checkbox" id="c-42315028" checked=""/><div class="controls bullet"><span class="by">senko</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42309981">prev</a><span>|</span><a href="#42314744">next</a><span>|</span><label class="collapse" for="c-42315028">[-]</label><label class="expand" for="c-42315028">[1 more]</label></div><br/><div class="children"><div class="content">I used it (different lib, same purpose) at a previous startup, shared web whiteboard, to save the whiteboard to pdf&#x2F;image.<p>We had a rendering engine backed by canvas, so it was easy to just redirect it to this to get the file output. (not everything was visible on the user&#x27;s screen all the time so couldn&#x27;t just save from the client)</div><br/></div></div><div id="42314744" class="c"><input type="checkbox" id="c-42314744" checked=""/><div class="controls bullet"><span class="by">nox101</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42315028">prev</a><span>|</span><a href="#42310827">next</a><span>|</span><label class="collapse" for="c-42314744">[-]</label><label class="expand" for="c-42314744">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s portable? What other GPU accelerated 2D rendering library is?<p>One the one hand this is lower-level. On the other hand, I&#x27;ve used puppeteer as my 2D graphics library. I get Canvas 2D, and WebGL, and WebGPU, and all of HTML&#x2F;CSS (so Text with effects, background images, CSS transforms, etc). I get image and video loading. I can then use the screenshot functionality to make an image of whatever I put together. It&#x27;s overkill, but for my use case I don&#x27;t care. It works, it&#x27;s cross platform, it solves my problem.</div><br/></div></div><div id="42310827" class="c"><input type="checkbox" id="c-42310827" checked=""/><div class="controls bullet"><span class="by">qwertox</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42314744">prev</a><span>|</span><a href="#42311074">next</a><span>|</span><label class="collapse" for="c-42310827">[-]</label><label class="expand" for="c-42310827">[1 more]</label></div><br/><div class="children"><div class="content">Server-side rendering of a track onto map tiles, enriched with other information like PoIs, distance marks, colorizing the track according to the speed, and so on, in order to then send it as a summary email to the customer.<p>Skia is the most modern library if you want to render shapes onto an image&#x2F;surface.<p>According to the example `import {Window} from &#x27;skia-canvas&#x27;` you can also use it to draw onto a spawned window on a desktop.</div><br/></div></div><div id="42311074" class="c"><input type="checkbox" id="c-42311074" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42310827">prev</a><span>|</span><a href="#42310631">next</a><span>|</span><label class="collapse" for="c-42311074">[-]</label><label class="expand" for="c-42311074">[1 more]</label></div><br/><div class="children"><div class="content">Being able to run the same code on multiple platforms is a big bonus. It’s also a very common 2D drawing API. iOS has a native version, Android has a native version, all with more or less the same drawing operations. Leveraging them can pay dividends.</div><br/></div></div><div id="42310631" class="c"><input type="checkbox" id="c-42310631" checked=""/><div class="controls bullet"><span class="by">james-bcn</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42311074">prev</a><span>|</span><a href="#42310701">next</a><span>|</span><label class="collapse" for="c-42310631">[-]</label><label class="expand" for="c-42310631">[1 more]</label></div><br/><div class="children"><div class="content">Yes I would like to know this too. There are various people saying they use this (or things like it) but nobody is saying what they are actually doing with it.</div><br/></div></div><div id="42310701" class="c"><input type="checkbox" id="c-42310701" checked=""/><div class="controls bullet"><span class="by">mvonballmo</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42310631">prev</a><span>|</span><a href="#42312097">next</a><span>|</span><label class="collapse" for="c-42310701">[-]</label><label class="expand" for="c-42310701">[2 more]</label></div><br/><div class="children"><div class="content">I would imagine that you could use it to write automated tests for Canvas code (maybe charts?) running in Node, e.g., jest with snapshots.</div><br/><div id="42310750" class="c"><input type="checkbox" id="c-42310750" checked=""/><div class="controls bullet"><span class="by">TheMiddleMan</span><span>|</span><a href="#42309803">root</a><span>|</span><a href="#42310701">parent</a><span>|</span><a href="#42312097">next</a><span>|</span><label class="collapse" for="c-42310750">[-]</label><label class="expand" for="c-42310750">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I&#x27;m doing exactly this with <a href="https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;jest-image-snapshot" rel="nofollow">https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;jest-image-snapshot</a></div><br/></div></div></div></div><div id="42312097" class="c"><input type="checkbox" id="c-42312097" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42310701">prev</a><span>|</span><a href="#42311130">next</a><span>|</span><label class="collapse" for="c-42312097">[-]</label><label class="expand" for="c-42312097">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be surprised if you could point out a platform that has better APIs for drawing 2D graphics than Canvas offers. Skia outperforms Direct2D by a little bit and outperforms Cairo by a lot. It is optimized to a high degree and has GPU-accelerated backends.</div><br/></div></div><div id="42311130" class="c"><input type="checkbox" id="c-42311130" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#42309803">parent</a><span>|</span><a href="#42312097">prev</a><span>|</span><a href="#42309009">next</a><span>|</span><label class="collapse" for="c-42311130">[-]</label><label class="expand" for="c-42311130">[1 more]</label></div><br/><div class="children"><div class="content">Seems you could compile desktop apps to Web Assembly and distribute them without using some monstrosity like Electron.</div><br/></div></div></div></div><div id="42309009" class="c"><input type="checkbox" id="c-42309009" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#42309803">prev</a><span>|</span><a href="#42309314">next</a><span>|</span><label class="collapse" for="c-42309009">[-]</label><label class="expand" for="c-42309009">[4 more]</label></div><br/><div class="children"><div class="content">Is this like a wrapper for the Rust crate?<p><a href="https:&#x2F;&#x2F;rust-skia.github.io&#x2F;doc&#x2F;skia_safe&#x2F;canvas&#x2F;struct.Canvas.html" rel="nofollow">https:&#x2F;&#x2F;rust-skia.github.io&#x2F;doc&#x2F;skia_safe&#x2F;canvas&#x2F;struct.Canv...</a></div><br/><div id="42310252" class="c"><input type="checkbox" id="c-42310252" checked=""/><div class="controls bullet"><span class="by">wslh</span><span>|</span><a href="#42309009">parent</a><span>|</span><a href="#42309427">next</a><span>|</span><label class="collapse" for="c-42310252">[-]</label><label class="expand" for="c-42310252">[1 more]</label></div><br/><div class="children"><div class="content">I understand that a Skia Canvas should work with almost any programming language with just bindings [1]. I don&#x27;t see anything in particular with Node.<p>[1] <a href="https:&#x2F;&#x2F;www.swig.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.swig.org&#x2F;</a></div><br/></div></div><div id="42309427" class="c"><input type="checkbox" id="c-42309427" checked=""/><div class="controls bullet"><span class="by">jacobp100</span><span>|</span><a href="#42309009">parent</a><span>|</span><a href="#42310252">prev</a><span>|</span><a href="#42309100">next</a><span>|</span><label class="collapse" for="c-42309427">[-]</label><label class="expand" for="c-42309427">[1 more]</label></div><br/><div class="children"><div class="content">Looks like it</div><br/></div></div><div id="42309100" class="c"><input type="checkbox" id="c-42309100" checked=""/><div class="controls bullet"><span class="by">zxilly</span><span>|</span><a href="#42309009">parent</a><span>|</span><a href="#42309427">prev</a><span>|</span><a href="#42309314">next</a><span>|</span><label class="collapse" for="c-42309100">[-]</label><label class="expand" for="c-42309100">[1 more]</label></div><br/><div class="children"><div class="content">yes, generated by napi-rs</div><br/></div></div></div></div><div id="42309314" class="c"><input type="checkbox" id="c-42309314" checked=""/><div class="controls bullet"><span class="by">Feathercrown</span><span>|</span><a href="#42309009">prev</a><span>|</span><a href="#42309129">next</a><span>|</span><label class="collapse" for="c-42309314">[-]</label><label class="expand" for="c-42309314">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been waiting for this for a long time. Previous attempts to do similar things required installing Node-Gyp, which was a nightmare.</div><br/></div></div><div id="42309129" class="c"><input type="checkbox" id="c-42309129" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#42309314">prev</a><span>|</span><a href="#42311924">next</a><span>|</span><label class="collapse" for="c-42309129">[-]</label><label class="expand" for="c-42309129">[4 more]</label></div><br/><div class="children"><div class="content">Huh, it&#x27;s more than just a rendering API: &quot;can render to windows using an OS-native graphics pipeline and provides a browser-like UI event framework&quot;. They could add wgpu to get WebGPU support and ANGLE to get WebGL support.</div><br/><div id="42310590" class="c"><input type="checkbox" id="c-42310590" checked=""/><div class="controls bullet"><span class="by">genter</span><span>|</span><a href="#42309129">parent</a><span>|</span><a href="#42309534">next</a><span>|</span><label class="collapse" for="c-42310590">[-]</label><label class="expand" for="c-42310590">[2 more]</label></div><br/><div class="children"><div class="content">Skia is a widely used library (off the top of my head, Chrome, Firefox, and LibreOffice use it) that supports lots of rendering targets, including WebGPU and ANGLE.</div><br/><div id="42311328" class="c"><input type="checkbox" id="c-42311328" checked=""/><div class="controls bullet"><span class="by">modeless</span><span>|</span><a href="#42309129">root</a><span>|</span><a href="#42310590">parent</a><span>|</span><a href="#42309534">next</a><span>|</span><label class="collapse" for="c-42311328">[-]</label><label class="expand" for="c-42311328">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t mean WebGPU and WebGL as Skia backends. I mean WebGPU and WebGL as APIs that this library could expose to users in addition to the HTML canvas API.</div><br/></div></div></div></div><div id="42309534" class="c"><input type="checkbox" id="c-42309534" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#42309129">parent</a><span>|</span><a href="#42310590">prev</a><span>|</span><a href="#42311924">next</a><span>|</span><label class="collapse" for="c-42309534">[-]</label><label class="expand" for="c-42309534">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s very similar to what Qt already provides (QPainter, for raw image&#x2F;windows, more sophisticated widgets with event support.  Further- and this is something I&#x27;ve been looking for a while- they have a graphicsview that allows resolution-independent rendering of millions of objects, with events, in an larger-than-window graphics plane.</div><br/></div></div></div></div><div id="42311924" class="c"><input type="checkbox" id="c-42311924" checked=""/><div class="controls bullet"><span class="by">soegaard</span><span>|</span><a href="#42309129">prev</a><span>|</span><a href="#42309108">next</a><span>|</span><label class="collapse" for="c-42311924">[-]</label><label class="expand" for="c-42311924">[3 more]</label></div><br/><div class="children"><div class="content">Are there plans for a C API?<p>The missing C API for Skia is most likely why Cairo is still alive.</div><br/><div id="42314365" class="c"><input type="checkbox" id="c-42314365" checked=""/><div class="controls bullet"><span class="by">loic-sharma</span><span>|</span><a href="#42311924">parent</a><span>|</span><a href="#42313918">next</a><span>|</span><label class="collapse" for="c-42314365">[-]</label><label class="expand" for="c-42314365">[1 more]</label></div><br/><div class="children"><div class="content">Impeller - Flutter’s rendering library that replaces Skia on iOS and Android - is working on a C API: <a href="https:&#x2F;&#x2F;github.com&#x2F;flutter&#x2F;engine&#x2F;blob&#x2F;main&#x2F;impeller&#x2F;toolkit&#x2F;interop&#x2F;README.md" rel="nofollow">https:&#x2F;&#x2F;github.com&#x2F;flutter&#x2F;engine&#x2F;blob&#x2F;main&#x2F;impeller&#x2F;toolkit...</a></div><br/></div></div><div id="42313918" class="c"><input type="checkbox" id="c-42313918" checked=""/><div class="controls bullet"><span class="by">hwc</span><span>|</span><a href="#42311924">parent</a><span>|</span><a href="#42314365">prev</a><span>|</span><a href="#42309108">next</a><span>|</span><label class="collapse" for="c-42313918">[-]</label><label class="expand" for="c-42313918">[1 more]</label></div><br/><div class="children"><div class="content">I did a little work on a C API for Skia a long time ago.  We didn&#x27;t have a good use case at the time, so the project was dropped.</div><br/></div></div></div></div><div id="42309108" class="c"><input type="checkbox" id="c-42309108" checked=""/><div class="controls bullet"><span class="by">MortyWaves</span><span>|</span><a href="#42311924">prev</a><span>|</span><a href="#42312818">next</a><span>|</span><label class="collapse" for="c-42309108">[-]</label><label class="expand" for="c-42309108">[15 more]</label></div><br/><div class="children"><div class="content">Kind of strange to call it browserless as though Skia requires one to begin with. Been using the .NET Skia library in CLI and desktop applications for a while.</div><br/><div id="42309152" class="c"><input type="checkbox" id="c-42309152" checked=""/><div class="controls bullet"><span class="by">Matheus28</span><span>|</span><a href="#42309108">parent</a><span>|</span><a href="#42309206">next</a><span>|</span><label class="collapse" for="c-42309152">[-]</label><label class="expand" for="c-42309152">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the &quot;html canvas drawing api&quot; that &quot;browserless&quot; refers to</div><br/></div></div><div id="42309206" class="c"><input type="checkbox" id="c-42309206" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#42309108">parent</a><span>|</span><a href="#42309152">prev</a><span>|</span><a href="#42309166">next</a><span>|</span><label class="collapse" for="c-42309206">[-]</label><label class="expand" for="c-42309206">[8 more]</label></div><br/><div class="children"><div class="content">They&#x27;re not saying Skia itself is browserless; they&#x27;re saying that &quot;Skia Canvas&quot; is a non-browser-based implementation of what people would normally call the <i>browser</i> Canvas API.</div><br/><div id="42309680" class="c"><input type="checkbox" id="c-42309680" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309206">parent</a><span>|</span><a href="#42309410">next</a><span>|</span><label class="collapse" for="c-42309680">[-]</label><label class="expand" for="c-42309680">[3 more]</label></div><br/><div class="children"><div class="content">Canvas is one of the easiest browser APIs to implement because most of it maps 1:1 to PostScript-style 2D APIs.<p>It was created by Apple as a wrapper for CoreGraphics back around Mac OS X Tiger 10.4. (IIRC, Canvas even debuted in Apple&#x27;s Dashboard widgets rather than Safari? I&#x27;m not 100% sure.)<p>I remember writing my own Canvas implementation around 2008-2009 using JavaScriptCore and CoreGraphics. It took maybe two days. I used it for a video application where JS plugins needed to render 2D graphics but I couldn&#x27;t provide a browser engine because that would have been too slow and unpredictable for render functions that get called in the video render loop.</div><br/><div id="42310419" class="c"><input type="checkbox" id="c-42310419" checked=""/><div class="controls bullet"><span class="by">skrebbel</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309680">parent</a><span>|</span><a href="#42309410">next</a><span>|</span><label class="collapse" for="c-42310419">[-]</label><label class="expand" for="c-42310419">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to learn more about how your 2 day implementation did fillText (incl full unicode rendering, proper text shaping etc)</div><br/><div id="42310739" class="c"><input type="checkbox" id="c-42310739" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42310419">parent</a><span>|</span><a href="#42309410">next</a><span>|</span><label class="collapse" for="c-42310739">[-]</label><label class="expand" for="c-42310739">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not claiming I implemented everything from scratch. Since it was a Mac OS X Cocoa app, it would just call the APIs available on that platform, like Apple&#x27;s original Canvas implementation in WebKit.<p>Also since this was a video application running custom scripts written specifically for that host app, there wasn&#x27;t a big worry about exact compatibility with any other Canvas-using code.<p>Anyway, here&#x27;s the old code that doesn&#x27;t look like there&#x27;s anything interesting going on:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;pojala&#x2F;lacqit&#x2F;blob&#x2F;main&#x2F;Lacqit&#x2F;LQJSBridge_2DContext.m#L1261">https:&#x2F;&#x2F;github.com&#x2F;pojala&#x2F;lacqit&#x2F;blob&#x2F;main&#x2F;Lacqit&#x2F;LQJSBridge...</a><p>Looks like I misremembered — it&#x27;s using Cairo rather than CoreGraphics. I don&#x27;t remember why that was.</div><br/></div></div></div></div></div></div><div id="42309410" class="c"><input type="checkbox" id="c-42309410" checked=""/><div class="controls bullet"><span class="by">wolfspider</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309206">parent</a><span>|</span><a href="#42309680">prev</a><span>|</span><a href="#42309166">next</a><span>|</span><label class="collapse" for="c-42309410">[-]</label><label class="expand" for="c-42309410">[4 more]</label></div><br/><div class="children"><div class="content">Automattic created node-canvas a long time ago which was based around Cairo.</div><br/><div id="42310788" class="c"><input type="checkbox" id="c-42310788" checked=""/><div class="controls bullet"><span class="by">dpe82</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309410">parent</a><span>|</span><a href="#42312610">next</a><span>|</span><label class="collapse" for="c-42310788">[-]</label><label class="expand" for="c-42310788">[1 more]</label></div><br/><div class="children"><div class="content">My previous startup Vidmaker created a browser-based collaborative video editor (think Google Docs for iMovie) in 2014 which did live preview in the browser and final render server-side. To use the same typescript-based &quot;engine&quot; for both we re-implemented most of the media browser APIs in NodeJS: 2d and 3d canvas, WebAudio, image APIs, something akin to HTML Video, etc. It worked amazingly well.<p>We got acqui-hired in 2015 and the product was shut down, but in hindsight I wish we&#x27;d open sourced at least those libraries.</div><br/></div></div><div id="42312610" class="c"><input type="checkbox" id="c-42312610" checked=""/><div class="controls bullet"><span class="by">chearon</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309410">parent</a><span>|</span><a href="#42310788">prev</a><span>|</span><a href="#42309668">next</a><span>|</span><label class="collapse" for="c-42312610">[-]</label><label class="expand" for="c-42312610">[1 more]</label></div><br/><div class="children"><div class="content">Automattic acquired LearnBoost who employed TJ Holowaychuk, the original creator of node-canvas (and also Express and tons else). Automattic has not been involved in any way since at least 2017 when I joined node-canvas.</div><br/></div></div><div id="42309668" class="c"><input type="checkbox" id="c-42309668" checked=""/><div class="controls bullet"><span class="by">mrieck</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309410">parent</a><span>|</span><a href="#42312610">prev</a><span>|</span><a href="#42309166">next</a><span>|</span><label class="collapse" for="c-42309668">[-]</label><label class="expand" for="c-42309668">[1 more]</label></div><br/><div class="children"><div class="content">Yeah that&#x27;s been around for a while - I used node-canvas to generate frames to render to mp4 for my HTML canvas animation site:<p><a href="https:&#x2F;&#x2F;www.superanimo.com" rel="nofollow">https:&#x2F;&#x2F;www.superanimo.com</a><p>Looks like it would have been a lot easier if this existed back then. (haven&#x27;t worked on the site for 5+ years)</div><br/></div></div></div></div></div></div><div id="42309166" class="c"><input type="checkbox" id="c-42309166" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#42309108">parent</a><span>|</span><a href="#42309206">prev</a><span>|</span><a href="#42312818">next</a><span>|</span><label class="collapse" for="c-42309166">[-]</label><label class="expand" for="c-42309166">[5 more]</label></div><br/><div class="children"><div class="content">Node is a browserless JS engine. I don’t see why saying browserless is weird.</div><br/><div id="42309397" class="c"><input type="checkbox" id="c-42309397" checked=""/><div class="controls bullet"><span class="by">MortyWaves</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309166">parent</a><span>|</span><a href="#42312818">next</a><span>|</span><label class="collapse" for="c-42309397">[-]</label><label class="expand" for="c-42309397">[4 more]</label></div><br/><div class="children"><div class="content">I don’t think anyone ever thought Node was a browser thing though</div><br/><div id="42309645" class="c"><input type="checkbox" id="c-42309645" checked=""/><div class="controls bullet"><span class="by">jasonjmcghee</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309397">parent</a><span>|</span><a href="#42312818">next</a><span>|</span><label class="collapse" for="c-42309645">[-]</label><label class="expand" for="c-42309645">[3 more]</label></div><br/><div class="children"><div class="content">Thinking Node is related to the browser is not uncommon. They&#x27;re both javascript and javascript means &quot;browser&quot; to a lot of (if not most) people.</div><br/><div id="42310277" class="c"><input type="checkbox" id="c-42310277" checked=""/><div class="controls bullet"><span class="by">wslh</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42309645">parent</a><span>|</span><a href="#42312818">next</a><span>|</span><label class="collapse" for="c-42310277">[-]</label><label class="expand" for="c-42310277">[2 more]</label></div><br/><div class="children"><div class="content">Is not only that, Node was born from the V8 implementation in Google Chrome, not the other way around.</div><br/><div id="42315612" class="c"><input type="checkbox" id="c-42315612" checked=""/><div class="controls bullet"><span class="by">MortyWaves</span><span>|</span><a href="#42309108">root</a><span>|</span><a href="#42310277">parent</a><span>|</span><a href="#42312818">next</a><span>|</span><label class="collapse" for="c-42315612">[-]</label><label class="expand" for="c-42315612">[1 more]</label></div><br/><div class="children"><div class="content">So that means everyone pretends node is a browser thing? Why stop there? Why not call every JS library that happens to run in Node “browserless”?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42312818" class="c"><input type="checkbox" id="c-42312818" checked=""/><div class="controls bullet"><span class="by">dejongh</span><span>|</span><a href="#42309108">prev</a><span>|</span><a href="#42310117">next</a><span>|</span><label class="collapse" for="c-42312818">[-]</label><label class="expand" for="c-42312818">[1 more]</label></div><br/><div class="children"><div class="content">Having skia power in nodejs is a cool idea. Thanks!</div><br/></div></div><div id="42310117" class="c"><input type="checkbox" id="c-42310117" checked=""/><div class="controls bullet"><span class="by">jkrubin</span><span>|</span><a href="#42312818">prev</a><span>|</span><a href="#42310256">next</a><span>|</span><label class="collapse" for="c-42310117">[-]</label><label class="expand" for="c-42310117">[1 more]</label></div><br/><div class="children"><div class="content">Anyone know what the difference between this and `@napi-rs&#x2F;canvas` is?<p>They seem similar?</div><br/></div></div><div id="42310256" class="c"><input type="checkbox" id="c-42310256" checked=""/><div class="controls bullet"><span class="by">zazaulola</span><span>|</span><a href="#42310117">prev</a><span>|</span><a href="#42309609">next</a><span>|</span><label class="collapse" for="c-42310256">[-]</label><label class="expand" for="c-42310256">[5 more]</label></div><br/><div class="children"><div class="content">How is it different from jimp?<p><a href="https:&#x2F;&#x2F;jimp-dev.github.io&#x2F;jimp&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jimp-dev.github.io&#x2F;jimp&#x2F;</a><p>Maybe there are some killer features?</div><br/><div id="42310848" class="c"><input type="checkbox" id="c-42310848" checked=""/><div class="controls bullet"><span class="by">Matheus28</span><span>|</span><a href="#42310256">parent</a><span>|</span><a href="#42310448">next</a><span>|</span><label class="collapse" for="c-42310848">[-]</label><label class="expand" for="c-42310848">[3 more]</label></div><br/><div class="children"><div class="content">The only similarity between the two is that they deal with images.<p>That library only resizes and does other basic pixel level operations.<p>Skia is for drawing vector graphics.</div><br/><div id="42312897" class="c"><input type="checkbox" id="c-42312897" checked=""/><div class="controls bullet"><span class="by">zazaulola</span><span>|</span><a href="#42310256">root</a><span>|</span><a href="#42310848">parent</a><span>|</span><a href="#42310448">next</a><span>|</span><label class="collapse" for="c-42312897">[-]</label><label class="expand" for="c-42312897">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Skia is for drawing vector graphics.<p>What do you mean by &quot;vector graphics&quot;?<p>Both Canvas and ImageData work only with pixels.</div><br/><div id="42314663" class="c"><input type="checkbox" id="c-42314663" checked=""/><div class="controls bullet"><span class="by">Matheus28</span><span>|</span><a href="#42310256">root</a><span>|</span><a href="#42312897">parent</a><span>|</span><a href="#42310448">next</a><span>|</span><label class="collapse" for="c-42314663">[-]</label><label class="expand" for="c-42314663">[1 more]</label></div><br/><div class="children"><div class="content">Skia’s api is focused around using postscript-like commands such as “move to” “line to”, etc to produce vectors that it rasterizes.</div><br/></div></div></div></div></div></div><div id="42310448" class="c"><input type="checkbox" id="c-42310448" checked=""/><div class="controls bullet"><span class="by">skrebbel</span><span>|</span><a href="#42310256">parent</a><span>|</span><a href="#42310848">prev</a><span>|</span><a href="#42309609">next</a><span>|</span><label class="collapse" for="c-42310448">[-]</label><label class="expand" for="c-42310448">[1 more]</label></div><br/><div class="children"><div class="content">It implements the HTML Canvas API.<p>That&#x27;s not necessarily better or worse, it&#x27;s just potentially helpful if you&#x27;ve got lots of Canvas-based code lying around you want to run outside a browser environment.</div><br/></div></div></div></div><div id="42309609" class="c"><input type="checkbox" id="c-42309609" checked=""/><div class="controls bullet"><span class="by">promptdaddy</span><span>|</span><a href="#42310256">prev</a><span>|</span><a href="#42310284">next</a><span>|</span><label class="collapse" for="c-42309609">[-]</label><label class="expand" for="c-42309609">[3 more]</label></div><br/><div class="children"><div class="content">Could this be consumed by Konva js for SSR ?</div><br/><div id="42309759" class="c"><input type="checkbox" id="c-42309759" checked=""/><div class="controls bullet"><span class="by">lavrton</span><span>|</span><a href="#42309609">parent</a><span>|</span><a href="#42310284">next</a><span>|</span><label class="collapse" for="c-42309759">[-]</label><label class="expand" for="c-42309759">[2 more]</label></div><br/><div class="children"><div class="content">Yes, it may require some monkey-patching of Konva right now. But I was able to do that. Drop GitHub issue if you are interested to discuss it.</div><br/><div id="42309881" class="c"><input type="checkbox" id="c-42309881" checked=""/><div class="controls bullet"><span class="by">promptdaddy</span><span>|</span><a href="#42309609">root</a><span>|</span><a href="#42309759">parent</a><span>|</span><a href="#42310284">next</a><span>|</span><label class="collapse" for="c-42309881">[-]</label><label class="expand" for="c-42309881">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the response. Would you suggest this lib for Konva ?</div><br/></div></div></div></div></div></div><div id="42310284" class="c"><input type="checkbox" id="c-42310284" checked=""/><div class="controls bullet"><span class="by">fredrikjacobson</span><span>|</span><a href="#42309609">prev</a><span>|</span><a href="#42313217">next</a><span>|</span><label class="collapse" for="c-42310284">[-]</label><label class="expand" for="c-42310284">[1 more]</label></div><br/><div class="children"><div class="content">Would this work together with something like react-three-fiber to render 3D scenes on the server?</div><br/></div></div><div id="42309810" class="c"><input type="checkbox" id="c-42309810" checked=""/><div class="controls bullet"><span class="by">TheRealPomax</span><span>|</span><a href="#42313217">prev</a><span>|</span><a href="#42310529">next</a><span>|</span><label class="collapse" for="c-42309810">[-]</label><label class="expand" for="c-42309810">[1 more]</label></div><br/><div class="children"><div class="content">Super excited to see this, it&#x27;ll make writing web-compatible graphics that can also run standalone so much nicer (and without needing a compile things from source using a second scripting language to generate the code needed to compile the library for the first scripting language).<p>It&#x27;ll also be interesting to see how well this slots into things like VS Code for live-rendering canvas code (or code that has a translation layer for running on a web canvas)</div><br/></div></div><div id="42310529" class="c"><input type="checkbox" id="c-42310529" checked=""/><div class="controls bullet"><span class="by">tantalor</span><span>|</span><a href="#42309810">prev</a><span>|</span><label class="collapse" for="c-42310529">[-]</label><label class="expand" for="c-42310529">[5 more]</label></div><br/><div class="children"><div class="content">What does &quot;based on Skia&quot; actually mean?<p>Is it a fork of Skia?<p>Does it depend on Skia?<p>Did somebody look at a design diagram of Skia and redo the whole thing from scratch?<p>Did they read about Skia in a blogpost and get the gist of it?</div><br/><div id="42310636" class="c"><input type="checkbox" id="c-42310636" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#42310529">parent</a><span>|</span><a href="#42312522">next</a><span>|</span><label class="collapse" for="c-42310636">[-]</label><label class="expand" for="c-42310636">[3 more]</label></div><br/><div class="children"><div class="content">In this context I would bet money that it&#x27;s an implementation of the Canvas API that uses Skia underneath to do actual rasterization. It turns out (if you do a little research) that Firefox and Chrome have at various points in time used Skia as a backend for their own implementations of the Canvas API, too.</div><br/><div id="42310953" class="c"><input type="checkbox" id="c-42310953" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#42310529">root</a><span>|</span><a href="#42310636">parent</a><span>|</span><a href="#42310796">next</a><span>|</span><label class="collapse" for="c-42310953">[-]</label><label class="expand" for="c-42310953">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Firefox and Chrome have at various points in time used Skia as a backend for their own implementations of the Canvas API, too.<p>Skia is the graphics engine used by Chrome and Android to render everything: <a href="https:&#x2F;&#x2F;skia.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;skia.org&#x2F;</a></div><br/></div></div><div id="42310796" class="c"><input type="checkbox" id="c-42310796" checked=""/><div class="controls bullet"><span class="by">rikroots</span><span>|</span><a href="#42310529">root</a><span>|</span><a href="#42310636">parent</a><span>|</span><a href="#42310953">prev</a><span>|</span><a href="#42312522">next</a><span>|</span><label class="collapse" for="c-42310796">[-]</label><label class="expand" for="c-42310796">[1 more]</label></div><br/><div class="children"><div class="content">Reading the documentation, it seems to implement most (all?) of the Web Canvas API[1], and in certain areas extend the API in some exciting (well, exciting to me[2]) ways. The key point is that this can be used in the backend, far beyond the browser environment?<p>[1] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Canvas_API" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Canvas_API</a><p>[2] The things that jump out to me as &quot;exciting extensions&quot; beyond the Api include: multiline text and text decoration (underlines!)[3]; perspective effects[4]; and Path2D boolean and filter operations[5].<p>[3] <a href="https:&#x2F;&#x2F;skia-canvas.org&#x2F;api&#x2F;context#textdecoration" rel="nofollow">https:&#x2F;&#x2F;skia-canvas.org&#x2F;api&#x2F;context#textdecoration</a><p>[4] - <a href="https:&#x2F;&#x2F;skia-canvas.org&#x2F;api&#x2F;context#createprojection" rel="nofollow">https:&#x2F;&#x2F;skia-canvas.org&#x2F;api&#x2F;context#createprojection</a><p>[5] - <a href="https:&#x2F;&#x2F;skia-canvas.org&#x2F;api&#x2F;path2d" rel="nofollow">https:&#x2F;&#x2F;skia-canvas.org&#x2F;api&#x2F;path2d</a></div><br/></div></div></div></div><div id="42312522" class="c"><input type="checkbox" id="c-42312522" checked=""/><div class="controls bullet"><span class="by">resoluteteeth</span><span>|</span><a href="#42310529">parent</a><span>|</span><a href="#42310636">prev</a><span>|</span><label class="collapse" for="c-42312522">[-]</label><label class="expand" for="c-42312522">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Does it depend on Skia?<p>This one</div><br/></div></div></div></div></div></div></div></div></div></body></html>