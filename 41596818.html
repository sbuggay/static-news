<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726822877095" as="style"/><link rel="stylesheet" href="styles.css?v=1726822877095"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ittavern.com/visual-guide-to-ssh-tunneling-and-port-forwarding/">Visual guide to SSH tunneling and port forwarding (2023)</a>Â <span class="domain">(<a href="https://ittavern.com">ittavern.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>50 comments</span></div><br/><div><div id="41597919" class="c"><input type="checkbox" id="c-41597919" checked=""/><div class="controls bullet"><span class="by">lamnguyenx</span><span>|</span><a href="#41597746">next</a><span>|</span><label class="collapse" for="c-41597919">[-]</label><label class="expand" for="c-41597919">[9 more]</label></div><br/><div class="children"><div class="content">It&#x27;s 2024! Please avoid writing SSH commands like that.<p>Instead, configure your ~&#x2F;.ssh&#x2F;config with LocalForward, RemoteForward, and ProxyJump. This can save you a significant amount of time, especially when using ssh, scp, or rsync to transfer data from a remote server that requires multiple intermediate SSH connections.<p>e.g:<p><pre><code>    Host jump-host-1
        HostName jump1.example.com
        User your_username
        IdentityFile ~&#x2F;.ssh&#x2F;id_rsa

        Host jump-host-2
            HostName jump2.example.com
            User your_username
            IdentityFile ~&#x2F;.ssh&#x2F;id_rsa
            ProxyJump jump-host-1

            Host jump-host-3
                HostName jump3.example.com
                User your_username
                IdentityFile ~&#x2F;.ssh&#x2F;id_rsa
                ProxyJump jump-host-2

                Host target-server
                    HostName target.example.com
                    User your_username
                    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa
                    ProxyJump jump-host-3
                    LocalForward 0.0.0.0:8080 0.0.0.0:80  
                    RemoteForward 0.0.0.0:9022 0.0.0.0:22

    # after this:
    # - you can ssh&#x2F;scp&#x2F;rsync to your target-server via an alias
    # - forward traffic FROM port 80 on your target-server to port 8080 on your local machine
    # - forward ssh requests TO port 9022 on your target-server to port 22 on your local machine
    # - remember, for LocalForward &amp; RemoteForward : 
    #   + left is target-server
    #   + right is your local
    #   + use 0.0.0.0 instead of localhost or 127.0.0.1</code></pre></div><br/><div id="41598213" class="c"><input type="checkbox" id="c-41598213" checked=""/><div class="controls bullet"><span class="by">mmh0000</span><span>|</span><a href="#41597919">parent</a><span>|</span><a href="#41599857">next</a><span>|</span><label class="collapse" for="c-41598213">[-]</label><label class="expand" for="c-41598213">[4 more]</label></div><br/><div class="children"><div class="content">While we&#x27;re sharing neat ssh_config tricks, here&#x27;s my favorite trick I use:<p>My home network is set up so that if I&#x27;m home or on my self-hosted VPN, I can SSH directly to my various things. But if I&#x27;m away from home and not on the VPN, I can SSH into my home systems through a jump host.<p>In the ssh_config file, I have it configured to detect how&#x2F;where I am and optionally use a jump host.<p><pre><code>  Host jump jump.example.org
    HostName                        jump.example.org
    Port                            41444
    User                            mmh
    UserKnownHostsFile              &#x2F;dev&#x2F;null
    ChallengeResponseAuthentication no
    CheckHostIP                     no
    Compression                     yes
    ForwardX11                      no
    GSSAPIAuthentication            no
    LogLevel                        ERROR
    PreferredAuthentications        publickey,keyboard-interactive
    ProxyJump                       none
    PermitLocalCommand              yes

  # Order here matters. Detect VPN first, then home network.
  # If connecting to a *.example.org host and router.example.org = 10.0.0.1, must be home&#x2F;vpn.
  Match host *.example.org exec &quot;getent ahosts router.example.org | grep -q ^10.0.0.1&quot;
    ProxyJump                 none
  # If connecting to a *.example.org host and the macaddr of 10.0.0.1 is NOT 2a:70:ff:ff:ff:ff, then use jump.example.org:
  Match host *.example.org exec &quot;! arp -ne 10.0.0.1 | grep -Fq 2a:70:ff:ff:ff:ff&quot;
    ProxyJump                 jump.example.org


  ## Define the things
  Host tv tv.example.org
    HostName                  tv.example.org
    User                      mmh</code></pre></div><br/><div id="41599308" class="c"><input type="checkbox" id="c-41599308" checked=""/><div class="controls bullet"><span class="by">dbacar</span><span>|</span><a href="#41597919">root</a><span>|</span><a href="#41598213">parent</a><span>|</span><a href="#41599390">next</a><span>|</span><label class="collapse" for="c-41599308">[-]</label><label class="expand" for="c-41599308">[1 more]</label></div><br/><div class="children"><div class="content">This is really cool, I didnt know you could use &quot;exec&quot;.</div><br/></div></div><div id="41599390" class="c"><input type="checkbox" id="c-41599390" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#41597919">root</a><span>|</span><a href="#41598213">parent</a><span>|</span><a href="#41599308">prev</a><span>|</span><a href="#41599427">next</a><span>|</span><label class="collapse" for="c-41599390">[-]</label><label class="expand" for="c-41599390">[1 more]</label></div><br/><div class="children"><div class="content">You should probably replace that &quot;arp -ne&quot; command with &quot;ip neigh show&quot; instead (assuming this is Linux).</div><br/></div></div><div id="41599427" class="c"><input type="checkbox" id="c-41599427" checked=""/><div class="controls bullet"><span class="by">lamnguyenx</span><span>|</span><a href="#41597919">root</a><span>|</span><a href="#41598213">parent</a><span>|</span><a href="#41599390">prev</a><span>|</span><a href="#41599857">next</a><span>|</span><label class="collapse" for="c-41599427">[-]</label><label class="expand" for="c-41599427">[1 more]</label></div><br/><div class="children"><div class="content">Wow. Nice trick! I didn&#x27;t know SSH Config can do that exec control flow.</div><br/></div></div></div></div><div id="41599857" class="c"><input type="checkbox" id="c-41599857" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41597919">parent</a><span>|</span><a href="#41598213">prev</a><span>|</span><a href="#41598960">next</a><span>|</span><label class="collapse" for="c-41599857">[-]</label><label class="expand" for="c-41599857">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s 2024! Please avoid writing SSH commands like that.<p>Sometimes you just want to do it once and you don&#x27;t want to write a config file for it.<p>For example, I am often building up a short lived vps in order to use ssh as a socks proxy and bypass georestrictions.<p>Also it happens that sometimes you are asked to help a different team and need to access a server you aren&#x27;t accessing usually and have very few reasons to ever access again.</div><br/></div></div><div id="41598960" class="c"><input type="checkbox" id="c-41598960" checked=""/><div class="controls bullet"><span class="by">cfinnberg</span><span>|</span><a href="#41597919">parent</a><span>|</span><a href="#41599857">prev</a><span>|</span><a href="#41597991">next</a><span>|</span><label class="collapse" for="c-41598960">[-]</label><label class="expand" for="c-41598960">[2 more]</label></div><br/><div class="children"><div class="content">I think that using 0.0.0.0 it&#x27;s a bad idea. That is supposedly opening the port in all network interfaces, including the external ones. So, if you don&#x27;t have a firewall (especially on the remote server) you are exposing something to the world.<p>OTOH if I&#x27;m going to use some tunnelling&#x2F;port forwarding quite often, I would use the config file option, but for an one time or sporadic use, the command line option is better IMHO.</div><br/><div id="41599452" class="c"><input type="checkbox" id="c-41599452" checked=""/><div class="controls bullet"><span class="by">lamnguyenx</span><span>|</span><a href="#41597919">root</a><span>|</span><a href="#41598960">parent</a><span>|</span><a href="#41597991">next</a><span>|</span><label class="collapse" for="c-41599452">[-]</label><label class="expand" for="c-41599452">[1 more]</label></div><br/><div class="children"><div class="content">Nice catch. You&#x27;re right.
At my company all servers operate inside a complex &amp; heavily-guarded intranet, so I usually use 0.0.0.0 instead of localhost &#x2F; 127.0.0.1. Sometimes, only using the former worked (e.g: using Code-Server or Jupyter Notebook), and I&#x27;m not so good at networking to dive into iptables and firewall things.</div><br/></div></div></div></div><div id="41597991" class="c"><input type="checkbox" id="c-41597991" checked=""/><div class="controls bullet"><span class="by">fracus</span><span>|</span><a href="#41597919">parent</a><span>|</span><a href="#41598960">prev</a><span>|</span><a href="#41597746">next</a><span>|</span><label class="collapse" for="c-41597991">[-]</label><label class="expand" for="c-41597991">[1 more]</label></div><br/><div class="children"><div class="content">This is interesting.  I always made a bash function to proxyjump.  This seems cleaner.  I&#x27;ll try it.</div><br/></div></div></div></div><div id="41597746" class="c"><input type="checkbox" id="c-41597746" checked=""/><div class="controls bullet"><span class="by">_dan</span><span>|</span><a href="#41597919">prev</a><span>|</span><a href="#41599638">next</a><span>|</span><label class="collapse" for="c-41597746">[-]</label><label class="expand" for="c-41597746">[14 more]</label></div><br/><div class="children"><div class="content">SSH tunnelling is an utter necessity in the ridiculous corporate environment I work in. Incredible amounts of bureaucracy and sometimes weeks of waiting to get access to stuff, get ports opened, get some exception in their firewalls and vpn so someone can access a thing they need to do their job.<p>This guide mentions -D but doesn&#x27;t really articulate quite how powerful it is if you don&#x27;t know what it does.<p>ssh -D 8888 someserver, set your browser&#x27;s SOCKS proxy to localhost:8888 (firefox still lets you set this without altering system defaults). Now all your browser&#x27;s traffic is routed via someserver.<p>I find that to be <i>incredibly</i> useful.</div><br/><div id="41597798" class="c"><input type="checkbox" id="c-41597798" checked=""/><div class="controls bullet"><span class="by">hackit2</span><span>|</span><a href="#41597746">parent</a><span>|</span><a href="#41599438">next</a><span>|</span><label class="collapse" for="c-41597798">[-]</label><label class="expand" for="c-41597798">[12 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t a good idea to circumvent corporate environment networks. they&#x27;re there for a reason, and doing it shows a lack of professionalism and dis-respect for the organization process, procedures, and security. Yes it takes weeks&#x2F;months to get access, then it takes weeks&#x2F;months to get access. You don&#x27;t want to be held liable for opening a backdoor to confidential information, or compromising their security.</div><br/><div id="41598691" class="c"><input type="checkbox" id="c-41598691" checked=""/><div class="controls bullet"><span class="by">ziml77</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41599763">next</a><span>|</span><label class="collapse" for="c-41598691">[-]</label><label class="expand" for="c-41598691">[3 more]</label></div><br/><div class="children"><div class="content">Exactly. It&#x27;s not a good idea to bypass policies at work. Just because you don&#x27;t know why the policy is there or you disagree with the reason, it doesn&#x27;t mean you can ignore the policy.<p>If you can&#x27;t get your job done, then escalate the issue to your manager. You not being able to get your work done because of other teams is the kind of problem they&#x27;re supposed to be solving.</div><br/><div id="41599913" class="c"><input type="checkbox" id="c-41599913" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41598691">parent</a><span>|</span><a href="#41599194">next</a><span>|</span><label class="collapse" for="c-41599913">[-]</label><label class="expand" for="c-41599913">[1 more]</label></div><br/><div class="children"><div class="content">If you let me ssh on that server and I am allowed to ssh from there elsewhere that is not bypassing anything. You allowed me to do that unless it says somewhere that tunnels are not allowed. The question is mainly for which purposes you allowed me to use these things and whether I comply with that. E.g. if I was given a ssh route to reach the some internal LDAP system for software development reasons and I abuse it to stream cat videos on youtube that is on me. But if I use it to reach another internal server that I use for software development, then it is on them.<p>The alternative would be asking a babysitter for each connection you are making. Sounds like a good way to never get work done.<p>Also: A good sysadmin will have lines in their &#x2F;etc&#x2F;ssh&#x2F;sshd_config that prevent me from tunneling if they don&#x27;t want me to do it.</div><br/></div></div><div id="41599194" class="c"><input type="checkbox" id="c-41599194" checked=""/><div class="controls bullet"><span class="by">ddulaney</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41598691">parent</a><span>|</span><a href="#41599913">prev</a><span>|</span><a href="#41599763">next</a><span>|</span><label class="collapse" for="c-41599194">[-]</label><label class="expand" for="c-41599194">[1 more]</label></div><br/><div class="children"><div class="content">I think that statement is pretty short-sighted.<p>Bypassing corporate policy at work is <i>risky</i>. You might bring down negative consequences on yourself or your workplace. You have to understand what you are doing. You have to understand likely reactions.<p>But also, bypassing corporate policy can have benefits. If I&#x27;m more productive or get a reputation as the guy who gets things done or don&#x27;t get seen as a complainer or just generally produce results because I bypassed a policy, those are all benefits. If I can transform &quot;hey boss, it&#x27;s gonna be another week on this project because I&#x27;m waiting on a policy exemption&quot; to &quot;here it is&quot;, that&#x27;s a benefit.<p>You have to weigh whether the benefits outweigh the risks for you.</div><br/></div></div></div></div><div id="41599763" class="c"><input type="checkbox" id="c-41599763" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41598691">prev</a><span>|</span><a href="#41599877">next</a><span>|</span><label class="collapse" for="c-41599763">[-]</label><label class="expand" for="c-41599763">[1 more]</label></div><br/><div class="children"><div class="content">In many corporate cases, SSH tunneling is the desired way of accessing a closed by default port on a firewall. Very often from a predefined bastion host.<p>If you don&#x27;t want to open a range of IPs, it allows only people with their ssh key registered on either a selected bastion host or the server to open a specific port.<p>It can also be a way to authenticate users. For example if you want to secure the access to an open source version of an app for which only the proprietary enterprise tier allow authentication by ldap&#x2F;AD&#x2F;oauth2. You can have ssh authenticate against LDAP&#x2F;AD&#x2F;oauth2 and leave the app running without authentication enabled or with a single user. As long as you don&#x27;t need RBAC&#x2F;privilege separation or some kind of auditing of what each user does on the app this is a particularly valid solution.</div><br/></div></div><div id="41599877" class="c"><input type="checkbox" id="c-41599877" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41599763">prev</a><span>|</span><a href="#41599767">next</a><span>|</span><label class="collapse" for="c-41599877">[-]</label><label class="expand" for="c-41599877">[1 more]</label></div><br/><div class="children"><div class="content">I will do everything by the book if your company gives me a person that can help me within half an hour. If every request needs days to complete and then doesn&#x27;t work and then I have to make <i>another</i> request â if I wouldn&#x27;t know better I would call it sabotage.<p>From the CIA simple sabotage field manual: <i>Insist on doing everything through âchannels.â Never permit short-cuts to be taken in order to expedite decisions.</i></div><br/></div></div><div id="41599767" class="c"><input type="checkbox" id="c-41599767" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41599877">prev</a><span>|</span><a href="#41599382">next</a><span>|</span><label class="collapse" for="c-41599767">[-]</label><label class="expand" for="c-41599767">[1 more]</label></div><br/><div class="children"><div class="content">Many corporate networks show a lack of professionalism and a disrespect for the people the network was designed for.</div><br/></div></div><div id="41599382" class="c"><input type="checkbox" id="c-41599382" checked=""/><div class="controls bullet"><span class="by">hmottestad</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41599767">prev</a><span>|</span><a href="#41598035">next</a><span>|</span><label class="collapse" for="c-41599382">[-]</label><label class="expand" for="c-41599382">[1 more]</label></div><br/><div class="children"><div class="content">New version of <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;303&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;303&#x2F;</a> ?<p>&quot;Waiting for corporate to punch a hole through three firewalls for me to get access to the test server :P&quot;<p>I was on a project once where a consultant had dropped their laptop and it had taken a week or two to get fixed. After that everyone had to use a laptop provided by the client. When we scaled up the project with 3 more developers the project manager who had set up this policy discovered that the lead time for 3 dev laptops meant that the new developers got to be bored for a month at a fairly high hourly rate.</div><br/></div></div><div id="41598035" class="c"><input type="checkbox" id="c-41598035" checked=""/><div class="controls bullet"><span class="by">barbs</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41599382">prev</a><span>|</span><a href="#41597831">next</a><span>|</span><label class="collapse" for="c-41598035">[-]</label><label class="expand" for="c-41598035">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes they are. Sometimes that reason is long forgotten, or isn&#x27;t really valid anymore, or is an overprotective measure and not really a good reason in the first place. Quite often it doesn&#x27;t justify waiting weeks or months to get it changed.</div><br/></div></div><div id="41597831" class="c"><input type="checkbox" id="c-41597831" checked=""/><div class="controls bullet"><span class="by">FroshKiller</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597798">parent</a><span>|</span><a href="#41598035">prev</a><span>|</span><a href="#41598189">next</a><span>|</span><label class="collapse" for="c-41597831">[-]</label><label class="expand" for="c-41597831">[2 more]</label></div><br/><div class="children"><div class="content">Can you cite any examples of damage resulting from personal browsing over an SSH tunnel that the worker was held liable for?</div><br/><div id="41599179" class="c"><input type="checkbox" id="c-41599179" checked=""/><div class="controls bullet"><span class="by">wakawaka28</span><span>|</span><a href="#41597746">root</a><span>|</span><a href="#41597831">parent</a><span>|</span><a href="#41598189">next</a><span>|</span><label class="collapse" for="c-41599179">[-]</label><label class="expand" for="c-41599179">[1 more]</label></div><br/><div class="children"><div class="content">That is an awfully specific question. Here are a few examples of what could happen though:<p>- Malicious code on a webpage compromises your computer.<p>- You download unauthorized software to install, which possibly even comes from a known-bad source.<p>- Your employer could have trouble establishing that their patent is legitimate because you accessed documentation from a competitor.<p>Even if the worker avoids liability for costly mistakes, the company will be set back. You can also be fired for breaking rules like that even when there are no actual damages.</div><br/></div></div></div></div></div></div><div id="41599438" class="c"><input type="checkbox" id="c-41599438" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41597746">parent</a><span>|</span><a href="#41597798">prev</a><span>|</span><a href="#41599638">next</a><span>|</span><label class="collapse" for="c-41599438">[-]</label><label class="expand" for="c-41599438">[1 more]</label></div><br/><div class="children"><div class="content">That was pretty much my standard way to browse the web away from home in the mid 2000s. But when I actually got a corporate job they had whitelisted IP addresses so I couldn&#x27;t even get an SSH connection to some random box on the net. I was so miserable I started to look into setting up http tunnel and somehow getting a box I controlled whitelisted. But instead of going that far I just changed jobs.</div><br/></div></div></div></div><div id="41599638" class="c"><input type="checkbox" id="c-41599638" checked=""/><div class="controls bullet"><span class="by">perakojotgenije</span><span>|</span><a href="#41597746">prev</a><span>|</span><a href="#41598087">next</a><span>|</span><label class="collapse" for="c-41599638">[-]</label><label class="expand" for="c-41599638">[1 more]</label></div><br/><div class="children"><div class="content">Shameless plug:<p>What to do when you want to ssh to your linux server or IoT device but they are behind the firewall and without a static IP? You can use a tunneling service like <a href="https:&#x2F;&#x2F;sshreach.me" rel="nofollow">https:&#x2F;&#x2F;sshreach.me</a>.</div><br/></div></div><div id="41598087" class="c"><input type="checkbox" id="c-41598087" checked=""/><div class="controls bullet"><span class="by">theideaofcoffee</span><span>|</span><a href="#41599638">prev</a><span>|</span><a href="#41597604">next</a><span>|</span><label class="collapse" for="c-41598087">[-]</label><label class="expand" for="c-41598087">[4 more]</label></div><br/><div class="children"><div class="content">The filthiest SSH tunneling hack that I&#x27;ve ever done was at 3AM while in a three-way... datacenter connection. The interesting part of that, while the three facilities, spaced out over a single metro area had upstream transit connectivity to the rest of the net, only two pairs were able to reach the other due to some odd routing policies that weren&#x27;t able to be resolved in time.<p>That meant that A could connect to B, and only B could connect to C. The data I had to move from facility A to facility C via B in the most ridiculous rsync+ssh tunnel+keys+routing shenanigan mashup I&#x27;ve ever done. It took a few tries to get the incantation exactly right, but it was magical seeing it all move as one.<p>Looking back it is super obvious how I&#x27;d do it now, but back then being green, was a huge accomplishment. I still remember the exhilaration when I confirmed everything was synced up.</div><br/><div id="41598110" class="c"><input type="checkbox" id="c-41598110" checked=""/><div class="controls bullet"><span class="by">lamnguyenx</span><span>|</span><a href="#41598087">parent</a><span>|</span><a href="#41597604">next</a><span>|</span><label class="collapse" for="c-41598110">[-]</label><label class="expand" for="c-41598110">[3 more]</label></div><br/><div class="children"><div class="content">just check my comment in in this post
using `~&#x2F;.ssh&#x2F;config` with ProxyJump, you can virtually jump between A B C D E ... or whatever.</div><br/><div id="41598124" class="c"><input type="checkbox" id="c-41598124" checked=""/><div class="controls bullet"><span class="by">theideaofcoffee</span><span>|</span><a href="#41598087">root</a><span>|</span><a href="#41598110">parent</a><span>|</span><a href="#41597604">next</a><span>|</span><label class="collapse" for="c-41598124">[-]</label><label class="expand" for="c-41598124">[2 more]</label></div><br/><div class="children"><div class="content">Yep, had I known that nearly 20 years ago I would have done just that. That&#x27;s the ideal way to do it now!</div><br/><div id="41599361" class="c"><input type="checkbox" id="c-41599361" checked=""/><div class="controls bullet"><span class="by">bogantech</span><span>|</span><a href="#41598087">root</a><span>|</span><a href="#41598124">parent</a><span>|</span><a href="#41597604">next</a><span>|</span><label class="collapse" for="c-41599361">[-]</label><label class="expand" for="c-41599361">[1 more]</label></div><br/><div class="children"><div class="content">If it makes you feel any better, ProxyJump was only added in 2016</div><br/></div></div></div></div></div></div></div></div><div id="41597604" class="c"><input type="checkbox" id="c-41597604" checked=""/><div class="controls bullet"><span class="by">1970-01-01</span><span>|</span><a href="#41598087">prev</a><span>|</span><a href="#41598517">next</a><span>|</span><label class="collapse" for="c-41597604">[-]</label><label class="expand" for="c-41597604">[4 more]</label></div><br/><div class="children"><div class="content">I love the extra detail in the visualizations. My wish is for networking to have much more visual representation of traffic, especially at lower level connections.</div><br/><div id="41597715" class="c"><input type="checkbox" id="c-41597715" checked=""/><div class="controls bullet"><span class="by">0nate</span><span>|</span><a href="#41597604">parent</a><span>|</span><a href="#41598517">next</a><span>|</span><label class="collapse" for="c-41597715">[-]</label><label class="expand" for="c-41597715">[3 more]</label></div><br/><div class="children"><div class="content">Hi.. Check out the diagrams here: <a href="https:&#x2F;&#x2F;www.nathanhandy.blog&#x2F;articles&#x2F;osi-model-revisited.html#Diagrams" rel="nofollow">https:&#x2F;&#x2F;www.nathanhandy.blog&#x2F;articles&#x2F;osi-model-revisited.ht...</a> .. obviously this is only a static conceptual representation. Most network vendors will have some form of visual representation of traffic, but it&#x27;s tyipcally only discreet metrics &#x2F; graphs.</div><br/><div id="41597853" class="c"><input type="checkbox" id="c-41597853" checked=""/><div class="controls bullet"><span class="by">1970-01-01</span><span>|</span><a href="#41597604">root</a><span>|</span><a href="#41597715">parent</a><span>|</span><a href="#41598517">next</a><span>|</span><label class="collapse" for="c-41597853">[-]</label><label class="expand" for="c-41597853">[2 more]</label></div><br/><div class="children"><div class="content">That is a fantastic example. I will definitely try your HandyDash as well. We should have had the ability to see this detailed traffic breakdown 20 years ago.</div><br/><div id="41598062" class="c"><input type="checkbox" id="c-41598062" checked=""/><div class="controls bullet"><span class="by">0nate</span><span>|</span><a href="#41597604">root</a><span>|</span><a href="#41597853">parent</a><span>|</span><a href="#41598517">next</a><span>|</span><label class="collapse" for="c-41598062">[-]</label><label class="expand" for="c-41598062">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the feedback. I hope you find HandyDash useful. If you find any issues feel free to raise here: <a href="https:&#x2F;&#x2F;github.com&#x2F;Nathan-Handy&#x2F;HandyDash&#x2F;issues">https:&#x2F;&#x2F;github.com&#x2F;Nathan-Handy&#x2F;HandyDash&#x2F;issues</a></div><br/></div></div></div></div></div></div></div></div><div id="41598517" class="c"><input type="checkbox" id="c-41598517" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#41597604">prev</a><span>|</span><a href="#41598524">next</a><span>|</span><label class="collapse" for="c-41598517">[-]</label><label class="expand" for="c-41598517">[1 more]</label></div><br/><div class="children"><div class="content">&gt; TCP-over-TCP<p>&gt; It lowers the throughput due to more overhead and increases the latency. On connections with packet loss or high latencies (e.x. satellite) it can cause a TCP meltdown.<p>This actually isn&#x27;t a problem with SSH tunnels unless you&#x27;re using TAP&#x2F;TUN, because It unpacks and forwards the TCP streams. But you can still get reduced performance with multiple channels due to head of line blocking.</div><br/></div></div><div id="41598524" class="c"><input type="checkbox" id="c-41598524" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#41598517">prev</a><span>|</span><a href="#41599073">next</a><span>|</span><label class="collapse" for="c-41598524">[-]</label><label class="expand" for="c-41598524">[2 more]</label></div><br/><div class="children"><div class="content">SSH tunnels are an excellent tool, but nowadays you often want TLS and reverse proxy functionality built in. I maintain a list of such tools here: <a href="https:&#x2F;&#x2F;github.com&#x2F;anderspitman&#x2F;awesome-tunneling">https:&#x2F;&#x2F;github.com&#x2F;anderspitman&#x2F;awesome-tunneling</a></div><br/><div id="41598817" class="c"><input type="checkbox" id="c-41598817" checked=""/><div class="controls bullet"><span class="by">aborsy</span><span>|</span><a href="#41598524">parent</a><span>|</span><a href="#41599073">next</a><span>|</span><label class="collapse" for="c-41598817">[-]</label><label class="expand" for="c-41598817">[1 more]</label></div><br/><div class="children"><div class="content">Your suggested solution Cloudflare Tunnels man in the middles the traffic and itâs not an end to end tunnel. Itâs a tunnel to Cloudflare! The users should be warned about this!</div><br/></div></div></div></div><div id="41599073" class="c"><input type="checkbox" id="c-41599073" checked=""/><div class="controls bullet"><span class="by">lidder86</span><span>|</span><a href="#41598524">prev</a><span>|</span><a href="#41597253">next</a><span>|</span><label class="collapse" for="c-41599073">[-]</label><label class="expand" for="c-41599073">[1 more]</label></div><br/><div class="children"><div class="content">sshuttle go have a read much nicer for tunnelling... sshuttle -r user@host 10.0.0.0&#x2F;8<p>Anything on 10&#x2F;8 automatic tunnel it&#x27;s pretty much a vpn over ssh</div><br/></div></div><div id="41597253" class="c"><input type="checkbox" id="c-41597253" checked=""/><div class="controls bullet"><span class="by">jwrallie</span><span>|</span><a href="#41599073">prev</a><span>|</span><a href="#41597451">next</a><span>|</span><label class="collapse" for="c-41597253">[-]</label><label class="expand" for="c-41597253">[4 more]</label></div><br/><div class="children"><div class="content">I learned how to use ssh tunnels when wanting to bypass a firewall in my university network around 15 years ago, had to change the default port to 443.<p>Been using it ever since for so much more than just bypassing firewalls.</div><br/><div id="41597353" class="c"><input type="checkbox" id="c-41597353" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#41597253">parent</a><span>|</span><a href="#41597451">next</a><span>|</span><label class="collapse" for="c-41597353">[-]</label><label class="expand" for="c-41597353">[3 more]</label></div><br/><div class="children"><div class="content">What purpose have you enjoyed it for beyond bypassing firewalls and exposing local services across a network?</div><br/><div id="41597614" class="c"><input type="checkbox" id="c-41597614" checked=""/><div class="controls bullet"><span class="by">lytedev</span><span>|</span><a href="#41597253">root</a><span>|</span><a href="#41597353">parent</a><span>|</span><a href="#41597770">next</a><span>|</span><label class="collapse" for="c-41597614">[-]</label><label class="expand" for="c-41597614">[1 more]</label></div><br/><div class="children"><div class="content">I use it for proxying general internet traffic (such as from your web browser) using the SOCKS5 proxy described in the article. Combined with FoxyProxy or similar it&#x27;s nice if you want certain traffic (such as to a certain domain which only allows certain IP blocks) to flow from a certain host based on things like the domain.</div><br/></div></div><div id="41597770" class="c"><input type="checkbox" id="c-41597770" checked=""/><div class="controls bullet"><span class="by">jwrallie</span><span>|</span><a href="#41597253">root</a><span>|</span><a href="#41597353">parent</a><span>|</span><a href="#41597614">prev</a><span>|</span><a href="#41597451">next</a><span>|</span><label class="collapse" for="c-41597770">[-]</label><label class="expand" for="c-41597770">[1 more]</label></div><br/><div class="children"><div class="content">In essence it is what you mentioned, these are a few practical uses:<p>- Streaming region locked content from overseas.<p>- Permanent reverse-tunnel for remote-access with autossh.<p>- Increased security compared to making services visible to the internet.<p>- Downloading scientific articles using my university&#x27;s connection as a proxy.</div><br/></div></div></div></div></div></div><div id="41597451" class="c"><input type="checkbox" id="c-41597451" checked=""/><div class="controls bullet"><span class="by">haolez</span><span>|</span><a href="#41597253">prev</a><span>|</span><a href="#41597501">next</a><span>|</span><label class="collapse" for="c-41597451">[-]</label><label class="expand" for="c-41597451">[4 more]</label></div><br/><div class="children"><div class="content">Kind of related, but I was wondering if there is some kind of redirect functionality in SSH itself. Something like:<p>- A wants to SSH into B<p>- B tells A that it must connect to C instead<p>- A transparently connects to C directly<p>- B is not a part of the critical data path anymore<p>Does something like this exist?</div><br/><div id="41597590" class="c"><input type="checkbox" id="c-41597590" checked=""/><div class="controls bullet"><span class="by">lytedev</span><span>|</span><a href="#41597451">parent</a><span>|</span><a href="#41597691">next</a><span>|</span><label class="collapse" for="c-41597590">[-]</label><label class="expand" for="c-41597590">[1 more]</label></div><br/><div class="children"><div class="content">B could port forward (as in route packets?) to C, but I don&#x27;t think there are any HTTP Permanent Redirect equivalents, no.<p>Maybe you can explain the problem more and perhaps there&#x27;s a more suitable solution?<p>If you have a host that&#x27;s somewhat embedded, you can have DNS handle the &quot;routing&quot; for you. You will have to handle fingerprint verification.</div><br/></div></div><div id="41597691" class="c"><input type="checkbox" id="c-41597691" checked=""/><div class="controls bullet"><span class="by">bongodongobob</span><span>|</span><a href="#41597451">parent</a><span>|</span><a href="#41597590">prev</a><span>|</span><a href="#41597599">next</a><span>|</span><label class="collapse" for="c-41597691">[-]</label><label class="expand" for="c-41597691">[1 more]</label></div><br/><div class="children"><div class="content">I think you could do that with a virtual IP. For some reason my firewall&#x2F;router doesn&#x27;t communicate DHCP option 67 correctly, it sends its own address no matter what I do so I had to set up a a virtual IP&#x2F;rule to route all PXE boot traffic on whatever port that is going to the routers IP, over to the real PXE boot server instead.</div><br/></div></div><div id="41597599" class="c"><input type="checkbox" id="c-41597599" checked=""/><div class="controls bullet"><span class="by">shmerl</span><span>|</span><a href="#41597451">parent</a><span>|</span><a href="#41597691">prev</a><span>|</span><a href="#41597501">next</a><span>|</span><label class="collapse" for="c-41597599">[-]</label><label class="expand" for="c-41597599">[1 more]</label></div><br/><div class="children"><div class="content">It would be misleading if A doesn&#x27;t know that the real target is C.<p>Otherwise you can use jump functionality<p>From A:<p><pre><code>    ssh -J B C
</code></pre>
If B doesn&#x27;t need to be part of the path, just connect to C directly if it&#x27;s doable. If it&#x27;s not, then B will have to be a hop either way.</div><br/></div></div></div></div><div id="41597501" class="c"><input type="checkbox" id="c-41597501" checked=""/><div class="controls bullet"><span class="by">zaptheimpaler</span><span>|</span><a href="#41597451">prev</a><span>|</span><a href="#41598318">next</a><span>|</span><label class="collapse" for="c-41597501">[-]</label><label class="expand" for="c-41597501">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found VS Code can setup port forwarding tunnels if you remote into a host and its been very useful. Its graphical, no command line incantations to remember and I usually have it running anyways.</div><br/><div id="41599189" class="c"><input type="checkbox" id="c-41599189" checked=""/><div class="controls bullet"><span class="by">KeplerBoy</span><span>|</span><a href="#41597501">parent</a><span>|</span><a href="#41598318">next</a><span>|</span><label class="collapse" for="c-41599189">[-]</label><label class="expand" for="c-41599189">[1 more]</label></div><br/><div class="children"><div class="content">Also setting up code tunnels on the workstations I use regularly saves me a lot of headaches.<p>Sure it&#x27;s a crutch, ugly and probably unsafe but I&#x27;m not a networking guy and need to get my actual stuff done.</div><br/></div></div></div></div><div id="41598318" class="c"><input type="checkbox" id="c-41598318" checked=""/><div class="controls bullet"><span class="by">yownie</span><span>|</span><a href="#41597501">prev</a><span>|</span><a href="#41598457">next</a><span>|</span><label class="collapse" for="c-41598318">[-]</label><label class="expand" for="c-41598318">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used tunneling quite a lot over the years but never knew about -J option.<p>What I&#x27;d really like is just some visual tool to configure my tunnels instead of spending 30 minutes very few months when I need to use a tunnel.</div><br/></div></div><div id="41598457" class="c"><input type="checkbox" id="c-41598457" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#41598318">prev</a><span>|</span><a href="#41597401">next</a><span>|</span><label class="collapse" for="c-41598457">[-]</label><label class="expand" for="c-41598457">[1 more]</label></div><br/><div class="children"><div class="content">See also:<p>A Visual Guide to SSH Tunnels: Local and Remote Port Forwarding <a href="https:&#x2F;&#x2F;iximiuz.com&#x2F;en&#x2F;posts&#x2F;ssh-tunnels&#x2F;" rel="nofollow">https:&#x2F;&#x2F;iximiuz.com&#x2F;en&#x2F;posts&#x2F;ssh-tunnels&#x2F;</a></div><br/></div></div><div id="41597401" class="c"><input type="checkbox" id="c-41597401" checked=""/><div class="controls bullet"><span class="by">elwebmaster</span><span>|</span><a href="#41598457">prev</a><span>|</span><label class="collapse" for="c-41597401">[-]</label><label class="expand" for="c-41597401">[1 more]</label></div><br/><div class="children"><div class="content">Bookmarked, thank you.</div><br/></div></div></div></div></div></div></div></body></html>