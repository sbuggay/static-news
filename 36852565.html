<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690275648550" as="style"/><link rel="stylesheet" href="styles.css?v=1690275648550"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://andrealeopardi.com/posts/breakdown-of-http-clients-in-elixir/">A Breakdown of HTTP Clients in Elixir</a> <span class="domain">(<a href="https://andrealeopardi.com">andrealeopardi.com</a>)</span></div><div class="subtext"><span>clessg</span> | <span>14 comments</span></div><br/><div><div id="36859451" class="c"><input type="checkbox" id="c-36859451" checked=""/><div class="controls bullet"><span class="by">conradfr</span><span>|</span><a href="#36858488">next</a><span>|</span><label class="collapse" for="c-36859451">[-]</label><label class="expand" for="c-36859451">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used HTTPoison, Tesla and more recently Req for a thin Firebase client.<p>I guess they all work.<p>I remember at some point HTTPoison &amp; hackney were finicky with SSL certificate validation. But AFAIK HTTPoison is the only one  that can do async requests to process chunks? [0]<p>[0] <a href="https:&#x2F;&#x2F;www.poeticoding.com&#x2F;download-large-files-with-httpoison-async-requests&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.poeticoding.com&#x2F;download-large-files-with-httpoi...</a></div><br/></div></div><div id="36858488" class="c"><input type="checkbox" id="c-36858488" checked=""/><div class="controls bullet"><span class="by">mikercampbell</span><span>|</span><a href="#36859451">prev</a><span>|</span><a href="#36857996">next</a><span>|</span><label class="collapse" for="c-36858488">[-]</label><label class="expand" for="c-36858488">[4 more]</label></div><br/><div class="children"><div class="content">Is it a bad idea to use Tesla? I’ve got it in my app, but I never know.</div><br/><div id="36858516" class="c"><input type="checkbox" id="c-36858516" checked=""/><div class="controls bullet"><span class="by">mmcclure</span><span>|</span><a href="#36858488">parent</a><span>|</span><a href="#36857996">next</a><span>|</span><label class="collapse" for="c-36858516">[-]</label><label class="expand" for="c-36858516">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also curious why Tesla doesn&#x27;t get mentioned in here, particularly because I&#x27;d argue that Tesla is at a similar abstraction level to Req.</div><br/><div id="36859089" class="c"><input type="checkbox" id="c-36859089" checked=""/><div class="controls bullet"><span class="by">jkhdigital</span><span>|</span><a href="#36858488">root</a><span>|</span><a href="#36858516">parent</a><span>|</span><a href="#36859055">next</a><span>|</span><label class="collapse" for="c-36859089">[-]</label><label class="expand" for="c-36859089">[1 more]</label></div><br/><div class="children"><div class="content">Came here to say this as well! Tesla was my library of choice for setting up dozens of crypto exchange API wrappers while minimizing the repeated boilerplate for each.</div><br/></div></div><div id="36859055" class="c"><input type="checkbox" id="c-36859055" checked=""/><div class="controls bullet"><span class="by">josevalim</span><span>|</span><a href="#36858488">root</a><span>|</span><a href="#36858516">parent</a><span>|</span><a href="#36859089">prev</a><span>|</span><a href="#36857996">next</a><span>|</span><label class="collapse" for="c-36859055">[-]</label><label class="expand" for="c-36859055">[1 more]</label></div><br/><div class="children"><div class="content">Tesla is definitely fine to use! In my opinion it relies too much on module-based composition&#x2F;configuration. In this aspect Req is more functional and less setup-y.</div><br/></div></div></div></div></div></div><div id="36857996" class="c"><input type="checkbox" id="c-36857996" checked=""/><div class="controls bullet"><span class="by">hmmokidk</span><span>|</span><a href="#36858488">prev</a><span>|</span><a href="#36858506">next</a><span>|</span><label class="collapse" for="c-36857996">[-]</label><label class="expand" for="c-36857996">[1 more]</label></div><br/><div class="children"><div class="content">Informative, as always something top notch from Andrea.</div><br/></div></div><div id="36858506" class="c"><input type="checkbox" id="c-36858506" checked=""/><div class="controls bullet"><span class="by">th0ma5</span><span>|</span><a href="#36857996">prev</a><span>|</span><a href="#36858504">next</a><span>|</span><label class="collapse" for="c-36858506">[-]</label><label class="expand" for="c-36858506">[3 more]</label></div><br/><div class="children"><div class="content">This is a wonderful summary but I&#x27;m struck with how these things all seem unnecessarily complicated compared to Python&#x27; requests, Apache Commons clients, curl based libraries... I get that a lot of magic also comes from the Erlang resilience, and maybe the functional composing is certainly interesting, but JavaScripts and Clojure and arguably you could do this with anything with promises... Anyway.<p>This sounds great in the sense that many of the issues I&#x27;ve had with those other platforms also have consideration here, but I guess my real question is:<p>Are http(s) requests always going to be bespoke and have application specific considerations? It also seems we can&#x27;t escape having to know all of the layers ultimately, the socket, TLS, etc sometimes for even the most basic of http use cases. I feel like we don&#x27;t have to do this for... Many other protocols.</div><br/><div id="36859139" class="c"><input type="checkbox" id="c-36859139" checked=""/><div class="controls bullet"><span class="by">jkhdigital</span><span>|</span><a href="#36858506">parent</a><span>|</span><a href="#36859016">next</a><span>|</span><label class="collapse" for="c-36859139">[-]</label><label class="expand" for="c-36859139">[1 more]</label></div><br/><div class="children"><div class="content">I realized that I needed to know way more about HTTP than I wanted to when trying to write a bunch of API wrappers for crypto exchanges. There’s just… a lot of failure modes and the application needs to respond differently to each. Some failures just need a quick retry while others must be pushed all the way back to a client to decide what to do.</div><br/></div></div><div id="36859016" class="c"><input type="checkbox" id="c-36859016" checked=""/><div class="controls bullet"><span class="by">josevalim</span><span>|</span><a href="#36858506">parent</a><span>|</span><a href="#36859139">prev</a><span>|</span><a href="#36858504">next</a><span>|</span><label class="collapse" for="c-36859016">[-]</label><label class="expand" for="c-36859016">[1 more]</label></div><br/><div class="children"><div class="content">I believe `req` borrows inspiration from `requests` and applies a functional approach. Maybe it will become a similar standard in the community? The idea then is that you have the high-level library but the building blocks are available for low-level control.<p>You have a good point about HTTP though and I am not sure if it will improve given 1.1, 2.0, and 3.0 all imply different trade-offs as well.</div><br/></div></div></div></div><div id="36858504" class="c"><input type="checkbox" id="c-36858504" checked=""/><div class="controls bullet"><span class="by">KingMob</span><span>|</span><a href="#36858506">prev</a><span>|</span><label class="collapse" for="c-36858504">[-]</label><label class="expand" for="c-36858504">[4 more]</label></div><br/><div class="children"><div class="content">Very cool. Can we see a similar one for HTTP <i>servers</i>?</div><br/><div id="36858854" class="c"><input type="checkbox" id="c-36858854" checked=""/><div class="controls bullet"><span class="by">KRAKRISMOTT</span><span>|</span><a href="#36858504">parent</a><span>|</span><a href="#36859358">next</a><span>|</span><label class="collapse" for="c-36858854">[-]</label><label class="expand" for="c-36858854">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;ash-hq.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;ash-hq.org&#x2F;</a><p>Have you played with this?</div><br/></div></div><div id="36859323" class="c"><input type="checkbox" id="c-36859323" checked=""/><div class="controls bullet"><span class="by">whatyouhide</span><span>|</span><a href="#36858504">parent</a><span>|</span><a href="#36859358">prev</a><span>|</span><label class="collapse" for="c-36859323">[-]</label><label class="expand" for="c-36859323">[1 more]</label></div><br/><div class="children"><div class="content"><i>takes note</i></div><br/></div></div></div></div></div></div></div></div></div></body></html>