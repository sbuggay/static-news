<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1713171651646" as="style"/><link rel="stylesheet" href="styles.css?v=1713171651646"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://larswander.com/writing/spectral-ray-tracing/">Spectral Ray Tracing</a> <span class="domain">(<a href="https://larswander.com">larswander.com</a>)</span></div><div class="subtext"><span>earslap</span> | <span>17 comments</span></div><br/><div><div id="40037713" class="c"><input type="checkbox" id="c-40037713" checked=""/><div class="controls bullet"><span class="by">dagmx</span><span>|</span><a href="#40037008">next</a><span>|</span><label class="collapse" for="c-40037713">[-]</label><label class="expand" for="c-40037713">[1 more]</label></div><br/><div class="children"><div class="content">Some examples of Spectral ray tracers<p>Mitsuba is an open source research renderer with lots of cool features like differentiable rendering. <a href="https:&#x2F;&#x2F;www.mitsuba-renderer.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.mitsuba-renderer.org&#x2F;</a><p>Maxwell has two spectral modes of varying accuracy. The more complex method is often used for optics. <a href="https:&#x2F;&#x2F;maxwellrender.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;maxwellrender.com&#x2F;</a><p>Manuka by Wētā FX is spectral and has been used in several feature films <a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3182161" rel="nofollow">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3182161</a> and <a href="https:&#x2F;&#x2F;www.wetafx.co.nz&#x2F;research-and-tech&#x2F;technology&#x2F;manuka" rel="nofollow">https:&#x2F;&#x2F;www.wetafx.co.nz&#x2F;research-and-tech&#x2F;technology&#x2F;manuka</a></div><br/></div></div><div id="40037008" class="c"><input type="checkbox" id="c-40037008" checked=""/><div class="controls bullet"><span class="by">DevOfNull</span><span>|</span><a href="#40037713">prev</a><span>|</span><a href="#40037306">next</a><span>|</span><label class="collapse" for="c-40037008">[-]</label><label class="expand" for="c-40037008">[1 more]</label></div><br/><div class="children"><div class="content">If anyone wants to make their own: The free e-book Ray Tracing Gems II [1] covers realtime GPU ray tracing with modern APIs and hardware acceleration, and has a chapter about spectral rendering (Chapter 42: Efficient spectral rendering on the GPU for predictive rendering).<p>[1] <a href="https:&#x2F;&#x2F;www.realtimerendering.com&#x2F;raytracinggems&#x2F;rtg2&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.realtimerendering.com&#x2F;raytracinggems&#x2F;rtg2&#x2F;</a></div><br/></div></div><div id="40037306" class="c"><input type="checkbox" id="c-40037306" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#40037008">prev</a><span>|</span><a href="#40037945">next</a><span>|</span><label class="collapse" for="c-40037306">[-]</label><label class="expand" for="c-40037306">[3 more]</label></div><br/><div class="children"><div class="content">Spectral rendering imho is good example how ray tracing in itself is not the end-game for rendering, it&#x27;s more just starting point. Occasionally I see sentiment that with real-time ray tracing rendering is a solved problem, but imho it&#x27;s far from truth.<p>Afaik most spectral rendering systems do not do (thin-film) interference or other wave-based effects, so that is another frontier. Reality has surprising amount of detail.</div><br/><div id="40038187" class="c"><input type="checkbox" id="c-40038187" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#40037306">parent</a><span>|</span><a href="#40037541">next</a><span>|</span><label class="collapse" for="c-40038187">[-]</label><label class="expand" for="c-40038187">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  Reality has surprising amount of detail.<p>Another one that few implement, and which can have a quite noticeable effect in certain scenes, is polarization of light[1].<p>[1]: <a href="https:&#x2F;&#x2F;www.giangrandi.ch&#x2F;optics&#x2F;polarizer&#x2F;polarizer.shtml" rel="nofollow">https:&#x2F;&#x2F;www.giangrandi.ch&#x2F;optics&#x2F;polarizer&#x2F;polarizer.shtml</a></div><br/></div></div><div id="40037541" class="c"><input type="checkbox" id="c-40037541" checked=""/><div class="controls bullet"><span class="by">Klaster_1</span><span>|</span><a href="#40037306">parent</a><span>|</span><a href="#40038187">prev</a><span>|</span><a href="#40037945">next</a><span>|</span><label class="collapse" for="c-40037541">[-]</label><label class="expand" for="c-40037541">[1 more]</label></div><br/><div class="children"><div class="content">The closer rendering comes closer to underlying physical principles, the more game engines will become world simulation engines. Various engine parts commonly seen today will converge towards a common point, where, for example, we&#x27;ll observe less distinction between physics and rendering layers. I wonder if this trend can be traced to some degree even today. Several orders of compute growth later, we&#x27;ll look upon current abstractions in the same manner as on the 30 years old state of the art, shaped by technical limitations of the yesteryear, obvious in hindsight. Love the perspective this puts the things into.</div><br/></div></div></div></div><div id="40037945" class="c"><input type="checkbox" id="c-40037945" checked=""/><div class="controls bullet"><span class="by">6mian</span><span>|</span><a href="#40037306">prev</a><span>|</span><a href="#40036999">next</a><span>|</span><label class="collapse" for="c-40037945">[-]</label><label class="expand" for="c-40037945">[1 more]</label></div><br/><div class="children"><div class="content">If you want to play with ray tracing implementation, it&#x27;s surprisingly easy to write one by yourself. There&#x27;s a great free book (<a href="https:&#x2F;&#x2F;raytracing.github.io&#x2F;books&#x2F;RayTracingInOneWeekend.html" rel="nofollow">https:&#x2F;&#x2F;raytracing.github.io&#x2F;books&#x2F;RayTracingInOneWeekend.ht...</a>) or, if you know a bit of Unity a very nice GPU-based tutorial (<a href="https:&#x2F;&#x2F;medium.com&#x2F;@jcowles&#x2F;gpu-ray-tracing-in-one-weekend-3e7d874b3b0f" rel="nofollow">https:&#x2F;&#x2F;medium.com&#x2F;@jcowles&#x2F;gpu-ray-tracing-in-one-weekend-3...</a>). The Unity version is easier to tinker with, because you have scene preview and other GUI that makes moving camera around so much easier. There are many implementations based of these sources if you don&#x27;t want to write one from scratch, although doing so is definitely worth it.<p>I spent some great time playing with the base implementation. Making the rays act as particles* that bend their path to&#x2F;away from objects, making them &quot;remember&quot; the last angle of bounce and use it in the next material hit etc. Most of them looked bad, but I still got some intuition what I was looking at. Moving the camera by a notch was also very helpful.<p>A lot of fun, great for a small recreational programming project.<p>* Unless there&#x27;s an intersection with an object, then set the maximum length of the ray to some small amount, then shoot many rays from that point around and for each hit apply something similar to the gravity equation. Of course this is slow and just an approximation, but it&#x27;s easy and you can implement a &quot;black hole&quot; type of object that will bend light in the scene.</div><br/></div></div><div id="40036999" class="c"><input type="checkbox" id="c-40036999" checked=""/><div class="controls bullet"><span class="by">NBJack</span><span>|</span><a href="#40037945">prev</a><span>|</span><a href="#40038007">next</a><span>|</span><label class="collapse" for="c-40036999">[-]</label><label class="expand" for="c-40036999">[1 more]</label></div><br/><div class="children"><div class="content">The beauty of mathematics and physics in action. I wonder if some of the tweaks made for the sake of beauty could be useful in other means of visualizations.<p>It also reminds me of a time that I was copying code from a book to make polyphonic music on an Apple II. I got something wrong for sure when I ran it, but instead of harsh noise, I ended up with an eerily beautiful pattern of tones. Whatever happy accident I made fascinated me.</div><br/></div></div><div id="40038007" class="c"><input type="checkbox" id="c-40038007" checked=""/><div class="controls bullet"><span class="by">Hammershaft</span><span>|</span><a href="#40036999">prev</a><span>|</span><a href="#40037301">next</a><span>|</span><label class="collapse" for="c-40038007">[-]</label><label class="expand" for="c-40038007">[1 more]</label></div><br/><div class="children"><div class="content">That animated artwork at the end is incredible. Thank you for the technical write up and the artwork!</div><br/></div></div><div id="40037301" class="c"><input type="checkbox" id="c-40037301" checked=""/><div class="controls bullet"><span class="by">raytopia</span><span>|</span><a href="#40038007">prev</a><span>|</span><a href="#40036730">next</a><span>|</span><label class="collapse" for="c-40037301">[-]</label><label class="expand" for="c-40037301">[2 more]</label></div><br/><div class="children"><div class="content">Does anyone know if someone has attempted real time spectral rendering? I&#x27;ve tried finding information before but have never had any luck.</div><br/><div id="40037733" class="c"><input type="checkbox" id="c-40037733" checked=""/><div class="controls bullet"><span class="by">dagmx</span><span>|</span><a href="#40037301">parent</a><span>|</span><a href="#40036730">next</a><span>|</span><label class="collapse" for="c-40037733">[-]</label><label class="expand" for="c-40037733">[1 more]</label></div><br/><div class="children"><div class="content">Real-time is unfortunately a sort of vague term.<p>If you mean raster rendering pipelines then I don’t believe it’s possible because the nature of the GPU pipelines precludes it. You’d likely need to make use of compute shaders to create it at which point you’ve just written a patthtracer anyway.<p>If you mean a pathtracer , then real-time becomes wholly dependent on what your parameters are. With a small enough resolution, Mitsuba with Dr.JIT could theoretically start rendering frames after the first one in a reasonable time to be considered realtime.<p>However the reality is just that even in film, with offline rendering, very few studios find the gains of spectral rendering to be worth the effort. Outside of Wētā with Manuka , nobody else really uses spectral rendering. Animal Logic did for LEGO movie but solely for lens flares.<p>The workflow change to make things work with a spectral renderer and the very subtle differences are just not worth the high increase in render time</div><br/></div></div></div></div><div id="40036730" class="c"><input type="checkbox" id="c-40036730" checked=""/><div class="controls bullet"><span class="by">spacecadet</span><span>|</span><a href="#40037301">prev</a><span>|</span><a href="#40037375">next</a><span>|</span><label class="collapse" for="c-40036730">[-]</label><label class="expand" for="c-40036730">[1 more]</label></div><br/><div class="children"><div class="content">Lovely. Not sure if the author would agree... There was much to love and hate about the nascent &quot;new aesthetic&quot; movement, but this demonstrates the best of that genre.</div><br/></div></div><div id="40037375" class="c"><input type="checkbox" id="c-40037375" checked=""/><div class="controls bullet"><span class="by">philsnow</span><span>|</span><a href="#40036730">prev</a><span>|</span><a href="#40037421">next</a><span>|</span><label class="collapse" for="c-40037375">[-]</label><label class="expand" for="c-40037375">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I’ve been curious what happens when some of the laws dictating how light moves are deliberately broken, building cameras out of code in a universe just a little unlike our own. Working with the richness of the full spectrum of light, spectral ray tracing has allowed me to break the rules governing light transport in otherworldly ways.<p>This reminds me of diagnosing bugs while writing my own raytracer, and attempting to map the buggy output to weird&#x2F;contrived&#x2F;silly alternative physics</div><br/></div></div><div id="40037421" class="c"><input type="checkbox" id="c-40037421" checked=""/><div class="controls bullet"><span class="by">DiogenesKynikos</span><span>|</span><a href="#40037375">prev</a><span>|</span><a href="#40036790">next</a><span>|</span><label class="collapse" for="c-40037421">[-]</label><label class="expand" for="c-40037421">[1 more]</label></div><br/><div class="children"><div class="content">If you want to go all the way, you have to track not only the wavelength of each ray, but also its polarization and phase. The situations in which these properties actually matter for human perception are rare (e.g., thin films and diffraction gratings), but they exist.</div><br/></div></div><div id="40036790" class="c"><input type="checkbox" id="c-40036790" checked=""/><div class="controls bullet"><span class="by">sudosysgen</span><span>|</span><a href="#40037421">prev</a><span>|</span><a href="#40037377">next</a><span>|</span><label class="collapse" for="c-40036790">[-]</label><label class="expand" for="c-40036790">[1 more]</label></div><br/><div class="children"><div class="content">A great spectral ray tracing engine is LuxRender : <a href="https:&#x2F;&#x2F;luxcorerender.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;luxcorerender.org&#x2F;</a> (the older one, that is - the newer LuxCore renderer does not have full spectral support)<p>Beyond the effects shown here, there are other benefits to spectral rendering - if done using light tracing, it allows you to change color, spectrum and intensity of light sources after the fact. It also makes indirect lighting much more accurate in many scenes.</div><br/></div></div><div id="40037377" class="c"><input type="checkbox" id="c-40037377" checked=""/><div class="controls bullet"><span class="by">uoaei</span><span>|</span><a href="#40036790">prev</a><span>|</span><label class="collapse" for="c-40037377">[-]</label><label class="expand" for="c-40037377">[2 more]</label></div><br/><div class="children"><div class="content">Are there any good resources for spectral ray tracing for other frequencies of light, e.g. radio frequencies?</div><br/><div id="40038196" class="c"><input type="checkbox" id="c-40038196" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#40037377">parent</a><span>|</span><label class="collapse" for="c-40038196">[-]</label><label class="expand" for="c-40038196">[1 more]</label></div><br/><div class="children"><div class="content">What are the applications you have in mind?<p>I&#x27;m no RF guy, but I imagine you quickly will have to care about areas where the wavelike properties of EM radiation dominates, in which case ray tracing is not the right tool for the job.</div><br/></div></div></div></div></div></div></div></div></div></body></html>