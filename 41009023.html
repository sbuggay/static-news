<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721466050736" as="style"/><link rel="stylesheet" href="styles.css?v=1721466050736"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/KomputeProject/kompute">Kompute – Vulkan Alternative to CUDA</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>coffeeaddict1</span> | <span>15 comments</span></div><br/><div><div id="41013185" class="c"><input type="checkbox" id="c-41013185" checked=""/><div class="controls bullet"><span class="by">Conscat</span><span>|</span><a href="#41012705">next</a><span>|</span><label class="collapse" for="c-41013185">[-]</label><label class="expand" for="c-41013185">[4 more]</label></div><br/><div class="children"><div class="content">Vulkan has some advantages to OpenCL. You gain lower level control over memory allocation and resource synchronization. Rocm has an infamous synchronization pessimization which doesn&#x27;t exist for Vulkan. You can even explicitly allocate Vulkan resources at specific memory addresses, which means Vulkan can easily be used for embedded devices.<p>But some of the caveats for compute applications are currently:<p>- No bfloat16 in shaders<p>- No shader work graphs (GPU-driven shader control flow)<p>- No inline PTX (inline GCN&#x2F;RDNA&#x2F;GEN is available)<p>These may or may not be important to you. Vulkan recently gained an ability to seamlessly dispatch CUDA kernels if you need these in some places, but there aren&#x27;t currently similar Vulkan extensions for HIP.</div><br/><div id="41014632" class="c"><input type="checkbox" id="c-41014632" checked=""/><div class="controls bullet"><span class="by">tormeh</span><span>|</span><a href="#41013185">parent</a><span>|</span><a href="#41014234">next</a><span>|</span><label class="collapse" for="c-41014632">[-]</label><label class="expand" for="c-41014632">[2 more]</label></div><br/><div class="children"><div class="content">The biggest advantage of Vulkan is that there are games relying on Vulkan, which means GPU drivers have to play nice with it. My impression is that OpenCL is borderline unsupported. In fact, there is an effort to reimplement OpenCL on top of Vulkan because the drivers are just that shit.</div><br/><div id="41015090" class="c"><input type="checkbox" id="c-41015090" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#41013185">root</a><span>|</span><a href="#41014632">parent</a><span>|</span><a href="#41014234">next</a><span>|</span><label class="collapse" for="c-41015090">[-]</label><label class="expand" for="c-41015090">[1 more]</label></div><br/><div class="children"><div class="content">&gt; GPU drivers have to play nice with it.<p>i would imagine nvidia to not want their moat with CUDA be uprooted, and so their vulkan support might get gimped in some ways (that does not affect games). At least, that is what the cynic in me would predict.</div><br/></div></div></div></div><div id="41014234" class="c"><input type="checkbox" id="c-41014234" checked=""/><div class="controls bullet"><span class="by">Remnant44</span><span>|</span><a href="#41013185">parent</a><span>|</span><a href="#41014632">prev</a><span>|</span><a href="#41012705">next</a><span>|</span><label class="collapse" for="c-41014234">[-]</label><label class="expand" for="c-41014234">[1 more]</label></div><br/><div class="children"><div class="content">Those are totally reasonable caveats to deal with currently. Thanks!</div><br/></div></div></div></div><div id="41012705" class="c"><input type="checkbox" id="c-41012705" checked=""/><div class="controls bullet"><span class="by">Remnant44</span><span>|</span><a href="#41013185">prev</a><span>|</span><a href="#41014642">next</a><span>|</span><label class="collapse" for="c-41012705">[-]</label><label class="expand" for="c-41012705">[1 more]</label></div><br/><div class="children"><div class="content">This looks great - I&#x27;ve been looking for a sustainable, cross-platform-and-vendor GPU compute solution, and the alternatives are not really great. CUDA is nvidia only, Metal is apple only, etc etc. OpenCL has been the closest match but it seems like it&#x27;s on the way out.<p>Does anyone have real world experience using Vulkan compute shaders versus, say, OpenCL? Does Kompute make things as straightforward as it seems?</div><br/></div></div><div id="41014642" class="c"><input type="checkbox" id="c-41014642" checked=""/><div class="controls bullet"><span class="by">JackYoustra</span><span>|</span><a href="#41012705">prev</a><span>|</span><a href="#41013247">next</a><span>|</span><label class="collapse" for="c-41014642">[-]</label><label class="expand" for="c-41014642">[1 more]</label></div><br/><div class="children"><div class="content">Anyone have a comparison to something like wgsl&#x27;s compute shader mode over stuff like wgpu? I&#x27;ve never seriously written in either.</div><br/></div></div><div id="41013247" class="c"><input type="checkbox" id="c-41013247" checked=""/><div class="controls bullet"><span class="by">cowmix</span><span>|</span><a href="#41014642">prev</a><span>|</span><a href="#41014896">next</a><span>|</span><label class="collapse" for="c-41013247">[-]</label><label class="expand" for="c-41013247">[2 more]</label></div><br/><div class="children"><div class="content">Pytorch alreadh has Vulkan support -- and Kompute does not support pytorch yet. That&#x27;s is going to show adaptation of this project.</div><br/><div id="41013374" class="c"><input type="checkbox" id="c-41013374" checked=""/><div class="controls bullet"><span class="by">juliangoldsmith</span><span>|</span><a href="#41013247">parent</a><span>|</span><a href="#41014896">next</a><span>|</span><label class="collapse" for="c-41013374">[-]</label><label class="expand" for="c-41013374">[1 more]</label></div><br/><div class="children"><div class="content">A quick Googling shows that Vulkan had an experimental, Android-only Vulkan backend around version 1.7.  It doesn&#x27;t appear to still exist in current versions.</div><br/></div></div></div></div><div id="41014896" class="c"><input type="checkbox" id="c-41014896" checked=""/><div class="controls bullet"><span class="by">einpoklum</span><span>|</span><a href="#41013247">prev</a><span>|</span><a href="#41013778">next</a><span>|</span><label class="collapse" for="c-41014896">[-]</label><label class="expand" for="c-41014896">[1 more]</label></div><br/><div class="children"><div class="content">This is _not_ an alternative to CUDA nor to OpenCL. It has some high-level and opinionated API [1], which covers a part (rather small part) of the API of each of those.<p>It may, _in principle_, have been developed - with much more work than has gone into it - into such an alternative; but I am actually not sure of that since I have poor command of Vulcan. I got suspicious being someone who maintains C++ API wrappers for CUDA myself [2], and know that just doing that is a lot more code and a lot more work.<p>[1] - I assume it is opinionated to cater to CNN simulation for large language models, and basically not much more.<p>[2] - <a href="https:&#x2F;&#x2F;github.com&#x2F;eyalroz&#x2F;cuda-api-wrappers&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;eyalroz&#x2F;cuda-api-wrappers&#x2F;</a></div><br/></div></div><div id="41013778" class="c"><input type="checkbox" id="c-41013778" checked=""/><div class="controls bullet"><span class="by">kcb</span><span>|</span><a href="#41014896">prev</a><span>|</span><a href="#41014690">next</a><span>|</span><label class="collapse" for="c-41013778">[-]</label><label class="expand" for="c-41013778">[4 more]</label></div><br/><div class="children"><div class="content">A key component of CUDA is that the kernels are written in C&#x2F;C++ and not some shader language you would only be familiar with if you were into graphics.</div><br/><div id="41014084" class="c"><input type="checkbox" id="c-41014084" checked=""/><div class="controls bullet"><span class="by">mepian</span><span>|</span><a href="#41013778">parent</a><span>|</span><a href="#41014708">next</a><span>|</span><label class="collapse" for="c-41014084">[-]</label><label class="expand" for="c-41014084">[1 more]</label></div><br/><div class="children"><div class="content">CUDA C++ is not exactly standard either.</div><br/></div></div><div id="41014708" class="c"><input type="checkbox" id="c-41014708" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#41013778">parent</a><span>|</span><a href="#41014084">prev</a><span>|</span><a href="#41014140">next</a><span>|</span><label class="collapse" for="c-41014708">[-]</label><label class="expand" for="c-41014708">[1 more]</label></div><br/><div class="children"><div class="content">A key component of CUDA is that kernels can be written in C, C++, Fortran, and any language with PTX compiler backends.<p>The fact many think CUDA is C&#x2F;C++, is already the first error trying to replace it.</div><br/></div></div><div id="41014140" class="c"><input type="checkbox" id="c-41014140" checked=""/><div class="controls bullet"><span class="by">darby_nine</span><span>|</span><a href="#41013778">parent</a><span>|</span><a href="#41014708">prev</a><span>|</span><a href="#41014690">next</a><span>|</span><label class="collapse" for="c-41014140">[-]</label><label class="expand" for="c-41014140">[1 more]</label></div><br/><div class="children"><div class="content">I mean it&#x27;s technically c&#x2F;c++ but the runtime is so different it might as well be a completely different ecosystem. Also, there&#x27;s enough tooling popping up around the concept of <i>avoiding</i> using this ecosystem that it&#x27;s pretty clear people want more than that.</div><br/></div></div></div></div><div id="41014690" class="c"><input type="checkbox" id="c-41014690" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#41013778">prev</a><span>|</span><label class="collapse" for="c-41014690">[-]</label><label class="expand" for="c-41014690">[1 more]</label></div><br/><div class="children"><div class="content">Alternatives can only become one, if they support the same set of C, C++, Fortran, and PTX compiler backends, with similar level of IDE integration, grapical GPGPU debugging, and frameworks.<p>Until then they are wannabe alternatives, for a subset of use cases, with lesser tooling.<p>It always feels like those proposing CUDA alternatives don&#x27;t understand what they are trying to replace, and that is already the first error.</div><br/></div></div></div></div></div></div></div></body></html>