<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695027663760" as="style"/><link rel="stylesheet" href="styles.css?v=1695027663760"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://cloud.google.com/blog/products/management-tools/introducing-infrastructure-manager-powered-by-terraform/">Infrastructure Manager: Provision Google Cloud Resources with Terraform</a> <span class="domain">(<a href="https://cloud.google.com">cloud.google.com</a>)</span></div><div class="subtext"><span>jen20</span> | <span>58 comments</span></div><br/><div><div id="37549217" class="c"><input type="checkbox" id="c-37549217" checked=""/><div class="controls bullet"><span class="by">type_Ben_struct</span><span>|</span><a href="#37549309">next</a><span>|</span><label class="collapse" for="c-37549217">[-]</label><label class="expand" for="c-37549217">[5 more]</label></div><br/><div class="children"><div class="content">Licensing decision aside, I don’t feel a lot of sympathy for Hashicorp here. I think this is different than other scenarios where big MSP’s sell tools based 99% or open source software.<p>This service will largely be used for deployments on Google Cloud, for which Google invests a lot of development effort in maintaining their own provider. It’s not like there’s not already significant contribution from Google to the code base.</div><br/><div id="37552335" class="c"><input type="checkbox" id="c-37552335" checked=""/><div class="controls bullet"><span class="by">Jka9rhnDJos</span><span>|</span><a href="#37549217">parent</a><span>|</span><a href="#37549318">next</a><span>|</span><label class="collapse" for="c-37552335">[-]</label><label class="expand" for="c-37552335">[1 more]</label></div><br/><div class="children"><div class="content">This isn’t really a service. All it does is deploy an infrastructure template into your GCP project. It won’t largely be for deployments on Google Cloud. It’s for automating Terraform, and whatever providers the customer wants to use.<p><a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;infrastructure-manager&#x2F;docs&#x2F;view-resources" rel="nofollow noreferrer">https:&#x2F;&#x2F;cloud.google.com&#x2F;infrastructure-manager&#x2F;docs&#x2F;view-re...</a><p>You, the customer, pay for everything deployed, and Google just pre-connects it to all their services for monitoring and maintenance. It would be like if Route53 on AWS was free, but it deployed a VM in your account, added gateways and nats, opened ports, etc., so that it all ran on discrete infrastructure for just you and you got charged for everything and had to do all the scaling.<p>If you’ve used their Apache Airflow product (Cloud Composer), it’s basically the same thing. With Cloud Composer, they are setting up an Airflow node and cluster on your behalf, in your account, that you pay for, and connecting it to their services.<p>This is no different than going to a consulting company and asking them to setup and maintain a Terraform automation platform in your account., which Hashicorp said was allowed. Google isn’t reselling it as a product. They’re setting it up on their platform on your behalf and giving it to you.<p>And there’s no reason you couldn’t switch it out to OpenTF.</div><br/></div></div><div id="37549318" class="c"><input type="checkbox" id="c-37549318" checked=""/><div class="controls bullet"><span class="by">jen20</span><span>|</span><a href="#37549217">parent</a><span>|</span><a href="#37552335">prev</a><span>|</span><a href="#37549309">next</a><span>|</span><label class="collapse" for="c-37549318">[-]</label><label class="expand" for="c-37549318">[3 more]</label></div><br/><div class="children"><div class="content">Why would you assume that there is no license in place for this?</div><br/><div id="37549526" class="c"><input type="checkbox" id="c-37549526" checked=""/><div class="controls bullet"><span class="by">type_Ben_struct</span><span>|</span><a href="#37549217">root</a><span>|</span><a href="#37549318">parent</a><span>|</span><a href="#37549309">next</a><span>|</span><label class="collapse" for="c-37549526">[-]</label><label class="expand" for="c-37549526">[2 more]</label></div><br/><div class="children"><div class="content">They may well do, but to be honest my fundamental point extends beyond just Google. Hashicorp benefits extensively from third parties maintaining their own providers.</div><br/><div id="37552211" class="c"><input type="checkbox" id="c-37552211" checked=""/><div class="controls bullet"><span class="by">Jka9rhnDJos</span><span>|</span><a href="#37549217">root</a><span>|</span><a href="#37549526">parent</a><span>|</span><a href="#37549309">next</a><span>|</span><label class="collapse" for="c-37552211">[-]</label><label class="expand" for="c-37552211">[1 more]</label></div><br/><div class="children"><div class="content">Google also wrote and maintains Go, which all of Hashicorp products are written in and use for free without contributing back.</div><br/></div></div></div></div></div></div></div></div><div id="37549309" class="c"><input type="checkbox" id="c-37549309" checked=""/><div class="controls bullet"><span class="by">dilyevsky</span><span>|</span><a href="#37549217">prev</a><span>|</span><a href="#37549482">next</a><span>|</span><label class="collapse" for="c-37549309">[-]</label><label class="expand" for="c-37549309">[2 more]</label></div><br/><div class="children"><div class="content">So from a product perspective they basically manage tfstate, you get to use “pre-packaged and recommended” providers (not clear if say aws provider is allowed) and they slapped iam to it? Seems like another one of those frankenstein cloud designs…</div><br/><div id="37549465" class="c"><input type="checkbox" id="c-37549465" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#37549309">parent</a><span>|</span><a href="#37549482">next</a><span>|</span><label class="collapse" for="c-37549465">[-]</label><label class="expand" for="c-37549465">[1 more]</label></div><br/><div class="children"><div class="content">This is definitely half baked IMO.  Not a whole lot of benefits over running TF with Cloud Build and a storage bucket.  Definitely have more control and better UX than the weird hoops you jump through to set this up.</div><br/></div></div></div></div><div id="37549482" class="c"><input type="checkbox" id="c-37549482" checked=""/><div class="controls bullet"><span class="by">mkl95</span><span>|</span><a href="#37549309">prev</a><span>|</span><a href="#37549957">next</a><span>|</span><label class="collapse" for="c-37549482">[-]</label><label class="expand" for="c-37549482">[8 more]</label></div><br/><div class="children"><div class="content">Is there anything particularly painful about working with the Google Cloud Terraform provider? If there isn&#x27;t, I would rather use OpenTF with that provider and manage state myself.</div><br/><div id="37550245" class="c"><input type="checkbox" id="c-37550245" checked=""/><div class="controls bullet"><span class="by">abatilo</span><span>|</span><a href="#37549482">parent</a><span>|</span><a href="#37552080">next</a><span>|</span><label class="collapse" for="c-37550245">[-]</label><label class="expand" for="c-37550245">[5 more]</label></div><br/><div class="children"><div class="content">In my experience, running a plan is much less likely to catch a bad value than the AWS provider.<p>Subjectively, the AWS provider will at least validate that fields have valid values during the plan step. The Google provider doesn&#x27;t seem to validate actual values until apply, and then you get a failure</div><br/><div id="37550576" class="c"><input type="checkbox" id="c-37550576" checked=""/><div class="controls bullet"><span class="by">diarrhea</span><span>|</span><a href="#37549482">root</a><span>|</span><a href="#37550245">parent</a><span>|</span><a href="#37552080">next</a><span>|</span><label class="collapse" for="c-37550576">[-]</label><label class="expand" for="c-37550576">[4 more]</label></div><br/><div class="children"><div class="content">I can’t help but feel… sad about this. I only recently picked up Terraform and am astounded that this is what goes as coding in the infrastructure world. I was coming from Ansible so there was only improvement to be had, but man did Terraform let me down so far.<p>It (well, the provider) doesn’t validate fields until apply. That’s just so… sad. How is that acceptable? It’s like a car without a steering wheel, and people just go along with it.</div><br/><div id="37550973" class="c"><input type="checkbox" id="c-37550973" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#37549482">root</a><span>|</span><a href="#37550576">parent</a><span>|</span><a href="#37551733">next</a><span>|</span><label class="collapse" for="c-37550973">[-]</label><label class="expand" for="c-37550973">[1 more]</label></div><br/><div class="children"><div class="content">Do you know how hard&#x2F;tedious&#x2F;pointless it is to write client side evaluations for everything you do on the server?  The documentation for the Google Cloud provider is shit though and absolutely should be improved.</div><br/></div></div><div id="37551733" class="c"><input type="checkbox" id="c-37551733" checked=""/><div class="controls bullet"><span class="by">cachvico</span><span>|</span><a href="#37549482">root</a><span>|</span><a href="#37550576">parent</a><span>|</span><a href="#37550973">prev</a><span>|</span><a href="#37552080">next</a><span>|</span><label class="collapse" for="c-37551733">[-]</label><label class="expand" for="c-37551733">[2 more]</label></div><br/><div class="children"><div class="content">You do a dry run first</div><br/><div id="37553095" class="c"><input type="checkbox" id="c-37553095" checked=""/><div class="controls bullet"><span class="by">reacharavindh</span><span>|</span><a href="#37549482">root</a><span>|</span><a href="#37551733">parent</a><span>|</span><a href="#37552080">next</a><span>|</span><label class="collapse" for="c-37553095">[-]</label><label class="expand" for="c-37553095">[1 more]</label></div><br/><div class="children"><div class="content">How is a terraform plan different from a dry run?
I always mentally mapped terraform plan == dry run to validate what changes will be made. Your comment throws a gauntlet into that understanding..</div><br/></div></div></div></div></div></div></div></div><div id="37552080" class="c"><input type="checkbox" id="c-37552080" checked=""/><div class="controls bullet"><span class="by">dimgl</span><span>|</span><a href="#37549482">parent</a><span>|</span><a href="#37550245">prev</a><span>|</span><a href="#37550219">next</a><span>|</span><label class="collapse" for="c-37552080">[-]</label><label class="expand" for="c-37552080">[1 more]</label></div><br/><div class="children"><div class="content">I just recently used it and found it significantly more verbose than the AWS provider. Which is unfortunate, because I&#x27;ve actually grown quite fond of GCP.</div><br/></div></div><div id="37550219" class="c"><input type="checkbox" id="c-37550219" checked=""/><div class="controls bullet"><span class="by">cassianoleal</span><span>|</span><a href="#37549482">parent</a><span>|</span><a href="#37552080">prev</a><span>|</span><a href="#37549957">next</a><span>|</span><label class="collapse" for="c-37550219">[-]</label><label class="expand" for="c-37550219">[1 more]</label></div><br/><div class="children"><div class="content">No, it&#x27;s fine. It works about as well as any other Terraform provider out there.<p>Every tool I&#x27;ve seen that wraps Terraform in any way is just a solution looking for a problem.</div><br/></div></div></div></div><div id="37549957" class="c"><input type="checkbox" id="c-37549957" checked=""/><div class="controls bullet"><span class="by">LVB</span><span>|</span><a href="#37549482">prev</a><span>|</span><a href="#37551523">next</a><span>|</span><label class="collapse" for="c-37549957">[-]</label><label class="expand" for="c-37549957">[1 more]</label></div><br/><div class="children"><div class="content">There are numerous comments here about the licensing change and that this could be related, but HashiCorp announced this at Google Cloud Next (and on their own blog), so it seems like a fairly standard partnership arrangement.</div><br/></div></div><div id="37551523" class="c"><input type="checkbox" id="c-37551523" checked=""/><div class="controls bullet"><span class="by">srsqsonyl</span><span>|</span><a href="#37549957">prev</a><span>|</span><a href="#37552485">next</a><span>|</span><label class="collapse" for="c-37551523">[-]</label><label class="expand" for="c-37551523">[6 more]</label></div><br/><div class="children"><div class="content">Can anyone explain the point of TF?<p>I’m sure there’s some 100% subjective, hallucinated value statement but never felt a reason to bother.<p>I’ve only ever used an AWS SDK and “saved state” to git in the form of my SDK scripts.<p>Switched from Python+boto to Go+SDK a few years ago rather than learn some DSL the Lindy effect clock was ticking on.</div><br/><div id="37551710" class="c"><input type="checkbox" id="c-37551710" checked=""/><div class="controls bullet"><span class="by">mef</span><span>|</span><a href="#37551523">parent</a><span>|</span><a href="#37552446">next</a><span>|</span><label class="collapse" for="c-37551710">[-]</label><label class="expand" for="c-37551710">[4 more]</label></div><br/><div class="children"><div class="content">- the situation: you build cloud infrastructure via CLI or console<p>- the problem: if something gets deleted, or if you make a bunch of changes and want to undo them, or if you need to make a change to a lot of stuff at once, or if you want to copy what you&#x27;ve built to a new region, how do you do it? or, if you&#x27;re on a team, how do you as a team make and track changes to your cloud infrastructure?<p>- terraform as a solution: you describe your cloud infrastructure as yaml files.  terraform can figure out what is different between what&#x27;s in your cloud infrastructure and what your yaml files say it should look like. and, it can make changes to your cloud to e.g. build it from scratch, make wide-ranging changes, make a copy of it, etc.<p>- since your yaml files are code, you can also create a repo and do PRs to make and track changes to your cloud infrastructure as it evolves over time</div><br/><div id="37552071" class="c"><input type="checkbox" id="c-37552071" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#37551523">root</a><span>|</span><a href="#37551710">parent</a><span>|</span><a href="#37552281">next</a><span>|</span><label class="collapse" for="c-37552071">[-]</label><label class="expand" for="c-37552071">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes the detected differences are manual changes (“drift”) that shouldn’t have happened, and terraform will offer to reverse them.</div><br/></div></div><div id="37552281" class="c"><input type="checkbox" id="c-37552281" checked=""/><div class="controls bullet"><span class="by">srsqsonyl</span><span>|</span><a href="#37551523">root</a><span>|</span><a href="#37551710">parent</a><span>|</span><a href="#37552071">prev</a><span>|</span><a href="#37552446">next</a><span>|</span><label class="collapse" for="c-37552281">[-]</label><label class="expand" for="c-37552281">[2 more]</label></div><br/><div class="children"><div class="content">Appreciate the answer. In hindsight my use of the word scripts was insufficient.<p>Looked at the TF code; my solution implements similar functionality to handle AWS CRUD ops. What I avoid is all the DSL parsing and such.<p>For me an AWS account is a struct with fields of AWS SDK resource types, which it seems is what TF resources map to (they handle a lot more so there’s more to it, but kind of sort of if I squint just right). Either going to duplicate the internal logic or DSL chunks per project, would rather avoid the context switch between syntax, “learning the TF ecosystem”.<p>Thanks again, though.</div><br/><div id="37553264" class="c"><input type="checkbox" id="c-37553264" checked=""/><div class="controls bullet"><span class="by">friendzis</span><span>|</span><a href="#37551523">root</a><span>|</span><a href="#37552281">parent</a><span>|</span><a href="#37552446">next</a><span>|</span><label class="collapse" for="c-37553264">[-]</label><label class="expand" for="c-37553264">[1 more]</label></div><br/><div class="children"><div class="content">The value of DSL is that the same terraform can run things on your local ESX cluster. I imagine few shops need multiple provider support</div><br/></div></div></div></div></div></div><div id="37552446" class="c"><input type="checkbox" id="c-37552446" checked=""/><div class="controls bullet"><span class="by">pfix</span><span>|</span><a href="#37551523">parent</a><span>|</span><a href="#37551710">prev</a><span>|</span><a href="#37552485">next</a><span>|</span><label class="collapse" for="c-37552446">[-]</label><label class="expand" for="c-37552446">[1 more]</label></div><br/><div class="children"><div class="content">What Terraform brings to the table for us is the capability of calculating the delta of &quot;I want those resources&quot; and &quot;these resources are actually there&quot; by having a separate state stored e.g. as JSON in S3 to compare your code, the world as it should be and how it actually is. That takes away reimplementing that.<p>Why just not writing idempotent resource creation? Terraform also uses this to calculate a &quot;plan&quot; that shows the diff of your changes with reality, which really helps to figure out what happens to your RDS when executing, especially when more abstraction (in form of Terraform modules) is involved.<p>We used Terraform also in a situation where writing custom code would be &quot;prettier&quot; but would have required to write this actual vs desired state code ourselves and could save us the work of doing so.<p>The DSL of Terraform is sometimes quite cumbersome though as it&#x27;s derived JSON and not some actual programming language.</div><br/></div></div></div></div><div id="37552485" class="c"><input type="checkbox" id="c-37552485" checked=""/><div class="controls bullet"><span class="by">anuraaga</span><span>|</span><a href="#37551523">prev</a><span>|</span><a href="#37550518">next</a><span>|</span><label class="collapse" for="c-37552485">[-]</label><label class="expand" for="c-37552485">[1 more]</label></div><br/><div class="children"><div class="content">This seems likely a partnership between Google and Hashicorp, from what I understand most GCP integrations like redis are actually partnerships rather than just running the OSS independently. Potential license and trademark implications seems like it would be a particularly bad time to try the latter with Terraform.<p>As others have mentioned, this is not all that useful of a service - it doesn&#x27;t seem to even have the concept of a &quot;plan&quot; let alone any approval system and seems to only allow for the most basic of workflows. Given that TF by default will store state in a bucket with true locking, I can&#x27;t come up with any potential benefit this provides vs using Terraform directly.<p>The main question is whether this will be improved in the future or is intentionally just &quot;Terraform Trial Edition&quot; with terms of partnership preventing anything encroaching on Terraform Cloud. Perhaps for the former, the trial is important to understand usage to better inform revenue sharing for a future improved product.</div><br/></div></div><div id="37550518" class="c"><input type="checkbox" id="c-37550518" checked=""/><div class="controls bullet"><span class="by">scarface_74</span><span>|</span><a href="#37552485">prev</a><span>|</span><a href="#37550282">next</a><span>|</span><label class="collapse" for="c-37550518">[-]</label><label class="expand" for="c-37550518">[4 more]</label></div><br/><div class="children"><div class="content">As someone who doesn’t have any experience with GCP.  But I do have experience with AWS,  I would have thought this would already be a thing.<p>I know AWS doesn’t have managed TF support - and as a former AWS ProServe employee i know that they thought about it but didn’t do it because they didn’t want to step on Hashicorp’s business.<p>AWS does have its own hosted IAC service that was introduced before TF was a thing with CloudFormation.</div><br/><div id="37550865" class="c"><input type="checkbox" id="c-37550865" checked=""/><div class="controls bullet"><span class="by">x86x87</span><span>|</span><a href="#37550518">parent</a><span>|</span><a href="#37550638">next</a><span>|</span><label class="collapse" for="c-37550865">[-]</label><label class="expand" for="c-37550865">[2 more]</label></div><br/><div class="children"><div class="content">There is much more running on top of CloudFormation than meets the eye. CDK and SAM are both wrappers on top of CloudFormation.<p>I wouldn&#x27;t be shocked to hear that licence fuckeries were the reasom why we don&#x27;t have managed TF support of AWS.</div><br/><div id="37550991" class="c"><input type="checkbox" id="c-37550991" checked=""/><div class="controls bullet"><span class="by">scarface_74</span><span>|</span><a href="#37550518">root</a><span>|</span><a href="#37550865">parent</a><span>|</span><a href="#37550638">next</a><span>|</span><label class="collapse" for="c-37550991">[-]</label><label class="expand" for="c-37550991">[1 more]</label></div><br/><div class="children"><div class="content">I realize that and the SAM transformer is supported natively by the CloudFormation service.</div><br/></div></div></div></div><div id="37550638" class="c"><input type="checkbox" id="c-37550638" checked=""/><div class="controls bullet"><span class="by">pm90</span><span>|</span><a href="#37550518">parent</a><span>|</span><a href="#37550865">prev</a><span>|</span><a href="#37550282">next</a><span>|</span><label class="collapse" for="c-37550638">[-]</label><label class="expand" for="c-37550638">[1 more]</label></div><br/><div class="children"><div class="content">Yeah but cloudformation kinda sucked. As did its clones (Openstack heat).</div><br/></div></div></div></div><div id="37550282" class="c"><input type="checkbox" id="c-37550282" checked=""/><div class="controls bullet"><span class="by">flurie</span><span>|</span><a href="#37550518">prev</a><span>|</span><a href="#37549116">next</a><span>|</span><label class="collapse" for="c-37550282">[-]</label><label class="expand" for="c-37550282">[1 more]</label></div><br/><div class="children"><div class="content">I’m curious how this compares to OCI’s Resource Manager.<p><a href="https:&#x2F;&#x2F;docs.oracle.com&#x2F;en-us&#x2F;iaas&#x2F;Content&#x2F;ResourceManager&#x2F;Concepts&#x2F;resource-manager-and-terraform.htm" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.oracle.com&#x2F;en-us&#x2F;iaas&#x2F;Content&#x2F;ResourceManager&#x2F;C...</a></div><br/></div></div><div id="37549116" class="c"><input type="checkbox" id="c-37549116" checked=""/><div class="controls bullet"><span class="by">stilwelldotdev</span><span>|</span><a href="#37550282">prev</a><span>|</span><a href="#37549074">next</a><span>|</span><label class="collapse" for="c-37549116">[-]</label><label class="expand" for="c-37549116">[1 more]</label></div><br/><div class="children"><div class="content">I figured something like this is what drove Hashicorp&#x27;s licensing decision, but thought it would be Amazon.</div><br/></div></div><div id="37549074" class="c"><input type="checkbox" id="c-37549074" checked=""/><div class="controls bullet"><span class="by">pm90</span><span>|</span><a href="#37549116">prev</a><span>|</span><a href="#37549067">next</a><span>|</span><label class="collapse" for="c-37549074">[-]</label><label class="expand" for="c-37549074">[5 more]</label></div><br/><div class="children"><div class="content">Wonder if they have to pay licensing fees to hashicorp for using terraform this way. It’s essentially replacing terraform cloud for GCP resources.</div><br/><div id="37549322" class="c"><input type="checkbox" id="c-37549322" checked=""/><div class="controls bullet"><span class="by">emptysongglass</span><span>|</span><a href="#37549074">parent</a><span>|</span><a href="#37549067">next</a><span>|</span><label class="collapse" for="c-37549322">[-]</label><label class="expand" for="c-37549322">[4 more]</label></div><br/><div class="children"><div class="content">Which is why it&#x27;s all the more puzzling Google didn&#x27;t spring for OpenTF here. They single-handedly could have proven it as the fork of choice but instead they&#x27;re paying into HashiCorp&#x27;s bad decision?</div><br/><div id="37552255" class="c"><input type="checkbox" id="c-37552255" checked=""/><div class="controls bullet"><span class="by">Jka9rhnDJos</span><span>|</span><a href="#37549074">root</a><span>|</span><a href="#37549322">parent</a><span>|</span><a href="#37549692">next</a><span>|</span><label class="collapse" for="c-37552255">[-]</label><label class="expand" for="c-37552255">[1 more]</label></div><br/><div class="children"><div class="content">Google has a history of welcoming the product on their platform without taking ownership or responsibility for maintaining it. It does the same thing with Elastic, Confluent, and Redis. I’m guessing Hashicorp is deploying infrastructure on Google cloud on the customers’ behalf. It’s not costing Google anything because they’re not reselling it. AWS does something similar with it’s Marketplace, but customers prefer the AWS full-service product rather than adding it to their environment by network peering or deploying templates in their account.</div><br/></div></div><div id="37549692" class="c"><input type="checkbox" id="c-37549692" checked=""/><div class="controls bullet"><span class="by">kevindamm</span><span>|</span><a href="#37549074">root</a><span>|</span><a href="#37549322">parent</a><span>|</span><a href="#37552255">prev</a><span>|</span><a href="#37550870">next</a><span>|</span><label class="collapse" for="c-37549692">[-]</label><label class="expand" for="c-37549692">[1 more]</label></div><br/><div class="children"><div class="content">Probably because development was already well under way several months ago.<p>But I agree, explicit support for OpenTF here would have been really nice to see, even if it delayed launch a little.</div><br/></div></div><div id="37550870" class="c"><input type="checkbox" id="c-37550870" checked=""/><div class="controls bullet"><span class="by">x86x87</span><span>|</span><a href="#37549074">root</a><span>|</span><a href="#37549322">parent</a><span>|</span><a href="#37549692">prev</a><span>|</span><a href="#37549067">next</a><span>|</span><label class="collapse" for="c-37550870">[-]</label><label class="expand" for="c-37550870">[1 more]</label></div><br/><div class="children"><div class="content">Hashicorp is still not out of the woods. If Microsoft or AWS gets behind openTF they are fucked.</div><br/></div></div></div></div></div></div><div id="37549067" class="c"><input type="checkbox" id="c-37549067" checked=""/><div class="controls bullet"><span class="by">varun_chopra</span><span>|</span><a href="#37549074">prev</a><span>|</span><a href="#37551138">next</a><span>|</span><label class="collapse" for="c-37549067">[-]</label><label class="expand" for="c-37549067">[1 more]</label></div><br/><div class="children"><div class="content">Terraform&#x27;s license change suddenly makes sense.</div><br/></div></div><div id="37551138" class="c"><input type="checkbox" id="c-37551138" checked=""/><div class="controls bullet"><span class="by">drabinowitz</span><span>|</span><a href="#37549067">prev</a><span>|</span><a href="#37551328">next</a><span>|</span><label class="collapse" for="c-37551138">[-]</label><label class="expand" for="c-37551138">[3 more]</label></div><br/><div class="children"><div class="content">I was really hoping this would come with rollback support for deployments. That, to me, would be the big advantage of having gcp manage the tfstate. It doesn’t look like that’s currently supported, but maybe that’s coming in the future.</div><br/><div id="37552104" class="c"><input type="checkbox" id="c-37552104" checked=""/><div class="controls bullet"><span class="by">Karrot_Kream</span><span>|</span><a href="#37551138">parent</a><span>|</span><a href="#37551210">next</a><span>|</span><label class="collapse" for="c-37552104">[-]</label><label class="expand" for="c-37552104">[1 more]</label></div><br/><div class="children"><div class="content">Are you thinking of this as separate from a revert to the Terraform files and then a roll forward?</div><br/></div></div></div></div><div id="37551328" class="c"><input type="checkbox" id="c-37551328" checked=""/><div class="controls bullet"><span class="by">dantiberian</span><span>|</span><a href="#37551138">prev</a><span>|</span><a href="#37549093">next</a><span>|</span><label class="collapse" for="c-37551328">[-]</label><label class="expand" for="c-37551328">[1 more]</label></div><br/><div class="children"><div class="content">Presumably GitHub&#x2F;GitLab support is coming, but this is quite a limited product at the moment. It doesn’t even support their own Cloud Source Repositories.<p><i>You can version the Terraform configuration, either in a public Git repository or in a Cloud Storage bucket. Use Object Versioning to version configurations in a storage bucket.</i><p><a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;infrastructure-manager&#x2F;docs&#x2F;overview" rel="nofollow noreferrer">https:&#x2F;&#x2F;cloud.google.com&#x2F;infrastructure-manager&#x2F;docs&#x2F;overvie...</a></div><br/></div></div><div id="37549093" class="c"><input type="checkbox" id="c-37549093" checked=""/><div class="controls bullet"><span class="by">time0ut</span><span>|</span><a href="#37551328">prev</a><span>|</span><a href="#37549373">next</a><span>|</span><label class="collapse" for="c-37549093">[-]</label><label class="expand" for="c-37549093">[16 more]</label></div><br/><div class="children"><div class="content">I wish AWS would do this and deprecate CloudFormation.</div><br/><div id="37549660" class="c"><input type="checkbox" id="c-37549660" checked=""/><div class="controls bullet"><span class="by">shepherdjerred</span><span>|</span><a href="#37549093">parent</a><span>|</span><a href="#37549391">next</a><span>|</span><label class="collapse" for="c-37549660">[-]</label><label class="expand" for="c-37549660">[4 more]</label></div><br/><div class="children"><div class="content">Just use CDK. By far it&#x27;s the best way to manage AWS infra; AWS also uses it internally.</div><br/><div id="37550876" class="c"><input type="checkbox" id="c-37550876" checked=""/><div class="controls bullet"><span class="by">x86x87</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37549660">parent</a><span>|</span><a href="#37549391">next</a><span>|</span><label class="collapse" for="c-37550876">[-]</label><label class="expand" for="c-37550876">[3 more]</label></div><br/><div class="children"><div class="content">CDK uses CloudFormation under the hood.</div><br/><div id="37551300" class="c"><input type="checkbox" id="c-37551300" checked=""/><div class="controls bullet"><span class="by">shepherdjerred</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37550876">parent</a><span>|</span><a href="#37549391">next</a><span>|</span><label class="collapse" for="c-37551300">[-]</label><label class="expand" for="c-37551300">[2 more]</label></div><br/><div class="children"><div class="content">Is that really relevant? CloudFormation is just another primitive at this point.<p>It&#x27;s not much different from high-level code compiling down to machine code. The benefit of writing high level code isn&#x27;t that machine code is entirely gone. The benefit is instead that as a user you can mostly forget that machine code exists.</div><br/><div id="37552270" class="c"><input type="checkbox" id="c-37552270" checked=""/><div class="controls bullet"><span class="by">hughesjj</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37551300">parent</a><span>|</span><a href="#37549391">next</a><span>|</span><label class="collapse" for="c-37552270">[-]</label><label class="expand" for="c-37552270">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes it does appear as a leaky abstraction.  I want to say for example secrets storage support as a parameter</div><br/></div></div></div></div></div></div></div></div><div id="37549391" class="c"><input type="checkbox" id="c-37549391" checked=""/><div class="controls bullet"><span class="by">slavetologic</span><span>|</span><a href="#37549093">parent</a><span>|</span><a href="#37549660">prev</a><span>|</span><a href="#37549112">next</a><span>|</span><label class="collapse" for="c-37549391">[-]</label><label class="expand" for="c-37549391">[2 more]</label></div><br/><div class="children"><div class="content">CDK is amazing, you shouldn&#x27;t be writing cloud formation anymore</div><br/></div></div><div id="37549112" class="c"><input type="checkbox" id="c-37549112" checked=""/><div class="controls bullet"><span class="by">klooney</span><span>|</span><a href="#37549093">parent</a><span>|</span><a href="#37549391">prev</a><span>|</span><a href="#37549946">next</a><span>|</span><label class="collapse" for="c-37549112">[-]</label><label class="expand" for="c-37549112">[8 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t used Cloudformation in three years, how&#x27;s it doing these days?</div><br/><div id="37549211" class="c"><input type="checkbox" id="c-37549211" checked=""/><div class="controls bullet"><span class="by">anyoneamous</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37549112">parent</a><span>|</span><a href="#37549280">next</a><span>|</span><label class="collapse" for="c-37549211">[-]</label><label class="expand" for="c-37549211">[6 more]</label></div><br/><div class="children"><div class="content">I see a roughly even split of people using CFn, Terraform and (Python) CDK.<p>AWS shot themselves in the foot by making the Python version of CDK second-tier after Typescript; IaC is still done by DevOps people far more often than application people, and DevOps people use Python.<p>Another gripe is the number of services and new features which launch without CFn support, which also blocks CDK support; when Terraform supports a new platform feature before the vendors own tools do, that&#x27;s a sign the product teams are being driven by the wrong metrics.</div><br/><div id="37550582" class="c"><input type="checkbox" id="c-37550582" checked=""/><div class="controls bullet"><span class="by">scarface_74</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37549211">parent</a><span>|</span><a href="#37549245">next</a><span>|</span><label class="collapse" for="c-37550582">[-]</label><label class="expand" for="c-37550582">[1 more]</label></div><br/><div class="children"><div class="content">Every version of the CDK uses an interop layer and runs on top of the Typescript version<p><a href="https:&#x2F;&#x2F;github.com&#x2F;aws&#x2F;jsii">https:&#x2F;&#x2F;github.com&#x2F;aws&#x2F;jsii</a><p>And as far as TF supports services before CFT.  Guess which is easier for an AWS employee to do - getting the CF service team to support a new service or just contribute to Terraform’s open source project?<p>I know of at least one service where the service team introduced the needed APIs and then an employee  of AWS wrote the TF provider and contributed to the project before AWS’s own internal team added it to CFT.<p>Source: former AWS ProServe employee.  I am not referring to myself as the author.</div><br/></div></div><div id="37549245" class="c"><input type="checkbox" id="c-37549245" checked=""/><div class="controls bullet"><span class="by">likeabbas</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37549211">parent</a><span>|</span><a href="#37550582">prev</a><span>|</span><a href="#37552249">next</a><span>|</span><label class="collapse" for="c-37549245">[-]</label><label class="expand" for="c-37549245">[1 more]</label></div><br/><div class="children"><div class="content">Idk if I buy this. I’m mostly a backend service developer, but my team manages our own infra using CDK and we love it. And we’re glad they used typescript as it’s a fantastic language.</div><br/></div></div><div id="37552249" class="c"><input type="checkbox" id="c-37552249" checked=""/><div class="controls bullet"><span class="by">Demiurge</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37549211">parent</a><span>|</span><a href="#37549245">prev</a><span>|</span><a href="#37551018">next</a><span>|</span><label class="collapse" for="c-37552249">[-]</label><label class="expand" for="c-37552249">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Python version of CDK second-tier after Typescript<p>What? It&#x27;s not second-tier at all, every single feature in Python is in sync with TypeScript, the library versions are in sync, and the docs for all the languages are auto-generated. They&#x27;re not second-tier, they&#x27;re 100% single tier.</div><br/><div id="37552937" class="c"><input type="checkbox" id="c-37552937" checked=""/><div class="controls bullet"><span class="by">anyoneamous</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37552249">parent</a><span>|</span><a href="#37551018">next</a><span>|</span><label class="collapse" for="c-37552937">[-]</label><label class="expand" for="c-37552937">[1 more]</label></div><br/><div class="children"><div class="content">IME quite a few of those auto-generated docs (mostly the examples) have slight incorrectness, where the code snippet is a mangled mix of Python and TS.<p>Also, the tooling you need to drive CDK is all TS-based, which means I now need to think about NPM and Node versions occasionally, which are not relevant in any other part of my workflow.<p>Admittedly as someone in scientific computing I am unusually far from the JS&#x2F;TS ecosystem - but all I can tell you is that it <i>feels</i> second tier as a user.</div><br/></div></div></div></div></div></div><div id="37549280" class="c"><input type="checkbox" id="c-37549280" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#37549093">root</a><span>|</span><a href="#37549112">parent</a><span>|</span><a href="#37549211">prev</a><span>|</span><a href="#37549946">next</a><span>|</span><label class="collapse" for="c-37549280">[-]</label><label class="expand" for="c-37549280">[1 more]</label></div><br/><div class="children"><div class="content">CDK has kept it very alive.<p>(But there&#x27;s CDKTF, FYI.)</div><br/></div></div></div></div><div id="37549946" class="c"><input type="checkbox" id="c-37549946" checked=""/><div class="controls bullet"><span class="by">tpmx</span><span>|</span><a href="#37549093">parent</a><span>|</span><a href="#37549112">prev</a><span>|</span><a href="#37549373">next</a><span>|</span><label class="collapse" for="c-37549946">[-]</label><label class="expand" for="c-37549946">[1 more]</label></div><br/><div class="children"><div class="content">Or just buy Pulumi... j&#x2F;k (I&#x27;d hate for such an awesome tool to get AWS-ized.)</div><br/></div></div></div></div><div id="37549373" class="c"><input type="checkbox" id="c-37549373" checked=""/><div class="controls bullet"><span class="by">holografix</span><span>|</span><a href="#37549093">prev</a><span>|</span><label class="collapse" for="c-37549373">[-]</label><label class="expand" for="c-37549373">[2 more]</label></div><br/><div class="children"><div class="content">So Deployment Manager is finally dead?</div><br/><div id="37549448" class="c"><input type="checkbox" id="c-37549448" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#37549373">parent</a><span>|</span><label class="collapse" for="c-37549448">[-]</label><label class="expand" for="c-37549448">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s still in the console, this one is not (yet)</div><br/></div></div></div></div></div></div></div></div></div></body></html>