<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687078847126" as="style"/><link rel="stylesheet" href="styles.css?v=1687078847126"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://stefan-marr.de/2023/06/squeezing-a-little-more-performance-out-of-bytecode-interpreters/">Squeezing a Little More Performance Out of Bytecode Interpreters</a>Â <span class="domain">(<a href="https://stefan-marr.de">stefan-marr.de</a>)</span></div><div class="subtext"><span>abhi9u</span> | <span>5 comments</span></div><br/><div><div id="36378302" class="c"><input type="checkbox" id="c-36378302" checked=""/><div class="controls bullet"><span class="by">runehol</span><span>|</span><a href="#36378093">next</a><span>|</span><label class="collapse" for="c-36378302">[-]</label><label class="expand" for="c-36378302">[1 more]</label></div><br/><div class="children"><div class="content">The key problems with this approach is not mentioned in the blog post, but is shown in figures 6 and 7 of the paper - <a href="https:&#x2F;&#x2F;stefan-marr.de&#x2F;downloads&#x2F;acmsac23-huang-et-al-optimizing-the-order-of-bytecode-handlers-in-interpreters-using-a-genetic-algorithm.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;stefan-marr.de&#x2F;downloads&#x2F;acmsac23-huang-et-al-optimi...</a><p>Basically, the code handler ordering does not generalise well across benchmark nor processor, so to get the speedup they see, you&#x27;d need a specialised interpreter for your specific benchmark and processor. That puts this into the &quot;interesting, but not very practical&quot; category.</div><br/></div></div><div id="36378093" class="c"><input type="checkbox" id="c-36378093" checked=""/><div class="controls bullet"><span class="by">astrobe_</span><span>|</span><a href="#36378302">prev</a><span>|</span><a href="#36378113">next</a><span>|</span><label class="collapse" for="c-36378093">[-]</label><label class="expand" for="c-36378093">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Our results suggest that it can give large improvements when training for a specific benchmark.<p>&gt; improved the execution speed of the program for which the order was optimized between 0.8% and 23.0% with 7.7% on average.<p>Single-digit speedup is not worth it IMO, and the wide range (&lt;1% - 23%) probably means that you specialize for some tasks at the expense of other types of tasks, which is not for everyone&#x27;s interpreter.<p>One use I can see for it is to compile multiple inner loops and have the interpreter switch between them (probably manually), if that can get us the yummy 20% speedup. Core primitives and dispatchers are usually not the biggest part of interpreters, after all. Maybe in this scenario the core primitives could also benefit from small semantic changes, like no bounds checking for instance.</div><br/></div></div><div id="36378113" class="c"><input type="checkbox" id="c-36378113" checked=""/><div class="controls bullet"><span class="by">eldenring</span><span>|</span><a href="#36378093">prev</a><span>|</span><a href="#36378202">next</a><span>|</span><label class="collapse" for="c-36378113">[-]</label><label class="expand" for="c-36378113">[1 more]</label></div><br/><div class="children"><div class="content">It would be cool to see this compared with a more simple bin packing technique, or even just stuffing the most commonly used instructions at the top and those ordered by size.</div><br/></div></div><div id="36378202" class="c"><input type="checkbox" id="c-36378202" checked=""/><div class="controls bullet"><span class="by">dvh</span><span>|</span><a href="#36378113">prev</a><span>|</span><label class="collapse" for="c-36378202">[-]</label><label class="expand" for="c-36378202">[1 more]</label></div><br/><div class="children"><div class="content">the eJSVM link is broken: <a href="http:&#x2F;&#x2F;spa.info.kochi-tech.ac.jp&#x2F;~ugawa&#x2F;ejs-comlan-preprint.pdf" rel="nofollow noreferrer">http:&#x2F;&#x2F;spa.info.kochi-tech.ac.jp&#x2F;~ugawa&#x2F;ejs-comlan-preprint....</a></div><br/></div></div></div></div></div></div></div></body></html>