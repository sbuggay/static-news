<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1685696458384" as="style"/><link rel="stylesheet" href="styles.css?v=1685696458384"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.andrewheiss.com/blog/2023/06/01/geocoding-routing-openstreetmap-r/">How to make fancy road trip maps with R and OpenStreetMap</a> <span class="domain">(<a href="https://www.andrewheiss.com">www.andrewheiss.com</a>)</span></div><div class="subtext"><span>sebg</span> | <span>32 comments</span></div><br/><div><div id="36162700" class="c"><input type="checkbox" id="c-36162700" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#36161131">next</a><span>|</span><label class="collapse" for="c-36162700">[-]</label><label class="expand" for="c-36162700">[1 more]</label></div><br/><div class="children"><div class="content">The only thing I don&#x27;t like about OSRM (the public facing version, not sure if the Docker one has this limitation) is that the route planning is limited in the number of waypoints.<p>I&#x27;m planning a trip to the west coast and have 50 POIs (coordinates) collected from Wanderlog that I want to visit. I just run a small TSP algorithm over that list and have an ordered collection of points for which I want to calculate the route for.<p>Unfortunately it seems like OSRM doesn&#x27;t like my 50+ waypoints, thus I can&#x27;t really plot the trip.<p>I&#x27;ll probably give it another try locally, and then make a PR. It also looks like the only way to get a route across waypoints is to make a GET request, so just imagine how long the request path will be with 50 points :&#x27;(
That calls out for a new POST endpoint.</div><br/></div></div><div id="36161131" class="c"><input type="checkbox" id="c-36161131" checked=""/><div class="controls bullet"><span class="by">exp1orer</span><span>|</span><a href="#36162700">prev</a><span>|</span><a href="#36160521">next</a><span>|</span><label class="collapse" for="c-36161131">[-]</label><label class="expand" for="c-36161131">[10 more]</label></div><br/><div class="children"><div class="content">Vaguely related, a few years ago I made a map of &quot;how to drive from SF to NYC while passing through the minimum number of Republican-voting counties&quot;: <a href="https:&#x2F;&#x2F;github.com&#x2F;louispotok&#x2F;blue-road-trip">https:&#x2F;&#x2F;github.com&#x2F;louispotok&#x2F;blue-road-trip</a></div><br/><div id="36161991" class="c"><input type="checkbox" id="c-36161991" checked=""/><div class="controls bullet"><span class="by">casefields</span><span>|</span><a href="#36161131">parent</a><span>|</span><a href="#36161545">next</a><span>|</span><label class="collapse" for="c-36161991">[-]</label><label class="expand" for="c-36161991">[1 more]</label></div><br/><div class="children"><div class="content">You rediscovered the black belt. Also where cotton is produced: <a href="https:&#x2F;&#x2F;qph.fs.quoracdn.net&#x2F;main-qimg-5dcb98887fb22c1d3a920a36e0fa70dc-c" rel="nofollow">https:&#x2F;&#x2F;qph.fs.quoracdn.net&#x2F;main-qimg-5dcb98887fb22c1d3a920a...</a></div><br/></div></div><div id="36161545" class="c"><input type="checkbox" id="c-36161545" checked=""/><div class="controls bullet"><span class="by">michae4</span><span>|</span><a href="#36161131">parent</a><span>|</span><a href="#36161991">prev</a><span>|</span><a href="#36161830">next</a><span>|</span><label class="collapse" for="c-36161545">[-]</label><label class="expand" for="c-36161545">[2 more]</label></div><br/><div class="children"><div class="content">that route follows an ancient coastline - <a href="https:&#x2F;&#x2F;starkeycomics.com&#x2F;2021&#x2F;06&#x2F;11&#x2F;how-a-coastline-100-million-years-ago-influences-modern-election-results-in-alabama&#x2F;" rel="nofollow">https:&#x2F;&#x2F;starkeycomics.com&#x2F;2021&#x2F;06&#x2F;11&#x2F;how-a-coastline-100-mil...</a></div><br/><div id="36162278" class="c"><input type="checkbox" id="c-36162278" checked=""/><div class="controls bullet"><span class="by">piceas</span><span>|</span><a href="#36161131">root</a><span>|</span><a href="#36161545">parent</a><span>|</span><a href="#36161830">next</a><span>|</span><label class="collapse" for="c-36162278">[-]</label><label class="expand" for="c-36162278">[1 more]</label></div><br/><div class="children"><div class="content">&quot;How a coastline 100 million years ago influences modern election results in Alabama&quot;<p>With some maps of Cretaceous sediments, fertile Black Belt Prairie soil, farm size 1997, slave population 1860, black population 2010, and Election Results.<p>A little bit about the soils from a different link:<p>&quot;The Black Belt is the only region in Alabama with extensive regions of alkaline soils (soil pH&gt; 7.0). Early settlers discovered these clayey soils held more nutrients and were generally more productive than the sandier Coastal Plain soils. For this reason, many of the large, antebellum cotton plantations were located in the Black Belt region of Alabama and Mississippi. Black Belt soil color is dark because of the humus, or decomposed organic matter, that often coats the clay particles. However, severe erosion due to intensive farming practices removed much of the dark, rich topsoil.&quot;<p><a href="https:&#x2F;&#x2F;www.aces.edu&#x2F;blog&#x2F;topics&#x2F;healthy-soils&#x2F;alabama-soils-blackland-prairie&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.aces.edu&#x2F;blog&#x2F;topics&#x2F;healthy-soils&#x2F;alabama-soils...</a></div><br/></div></div></div></div><div id="36161830" class="c"><input type="checkbox" id="c-36161830" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#36161131">parent</a><span>|</span><a href="#36161545">prev</a><span>|</span><a href="#36162289">next</a><span>|</span><label class="collapse" for="c-36161830">[-]</label><label class="expand" for="c-36161830">[1 more]</label></div><br/><div class="children"><div class="content">Did you traverse this?<p>Maybe return through maximally republican counties and compare?</div><br/></div></div><div id="36162289" class="c"><input type="checkbox" id="c-36162289" checked=""/><div class="controls bullet"><span class="by">trabant00</span><span>|</span><a href="#36161131">parent</a><span>|</span><a href="#36161830">prev</a><span>|</span><a href="#36160521">next</a><span>|</span><label class="collapse" for="c-36162289">[-]</label><label class="expand" for="c-36162289">[5 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t believe how even a topic about open maps API gets turned into politics. And then gets voted to the top. What was HN saying about Twitter&#x27;s algorithm? Something about polarization, divisiveness, outrage, etc? It&#x27;s not algorithms, it&#x27;s you. You&#x27;re making online discussion miserable for everybody.</div><br/><div id="36162355" class="c"><input type="checkbox" id="c-36162355" checked=""/><div class="controls bullet"><span class="by">thrwawy74</span><span>|</span><a href="#36161131">root</a><span>|</span><a href="#36162289">parent</a><span>|</span><a href="#36160521">next</a><span>|</span><label class="collapse" for="c-36162355">[-]</label><label class="expand" for="c-36162355">[4 more]</label></div><br/><div class="children"><div class="content">This is objectively useful:  Now we can build an underground railroad for getting LGBT folks out of Florida and similar states.</div><br/><div id="36162394" class="c"><input type="checkbox" id="c-36162394" checked=""/><div class="controls bullet"><span class="by">tinus_hn</span><span>|</span><a href="#36161131">root</a><span>|</span><a href="#36162355">parent</a><span>|</span><a href="#36160521">next</a><span>|</span><label class="collapse" for="c-36162394">[-]</label><label class="expand" for="c-36162394">[3 more]</label></div><br/><div class="children"><div class="content">So edgy that you’re only posting it using a throwaway account. Stop trolling.</div><br/><div id="36162483" class="c"><input type="checkbox" id="c-36162483" checked=""/><div class="controls bullet"><span class="by">thrwawy74</span><span>|</span><a href="#36161131">root</a><span>|</span><a href="#36162394">parent</a><span>|</span><a href="#36160521">next</a><span>|</span><label class="collapse" for="c-36162483">[-]</label><label class="expand" for="c-36162483">[2 more]</label></div><br/><div class="children"><div class="content">Is this edgy?  I work in the gov and last week drafted a policy to inform and quickly relocate staff in such states based on their public-facing potential for harm.  Quite a lot of our staff is in Florida right now, and legislation continues to roll through..  It&#x27;s quite real to me.  Also I just cycle through throwaway accounts because when I attached my comments to a username I began to self-censor how I speak.  The lack of a username helps me think.</div><br/><div id="36162819" class="c"><input type="checkbox" id="c-36162819" checked=""/><div class="controls bullet"><span class="by">jay3ss</span><span>|</span><a href="#36161131">root</a><span>|</span><a href="#36162483">parent</a><span>|</span><a href="#36160521">next</a><span>|</span><label class="collapse" for="c-36162819">[-]</label><label class="expand" for="c-36162819">[1 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth, I didn&#x27;t think that was edgy. Sometimes it&#x27;s a good idea to think about worse case scenarios</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36160521" class="c"><input type="checkbox" id="c-36160521" checked=""/><div class="controls bullet"><span class="by">Helmut10001</span><span>|</span><a href="#36161131">prev</a><span>|</span><a href="#36161684">next</a><span>|</span><label class="collapse" for="c-36160521">[-]</label><label class="expand" for="c-36160521">[7 more]</label></div><br/><div class="children"><div class="content">Why is there such a movement for making maps with R? The python ecosystem has more and better packages for making maps already. Notwithstanding that there are indeed some nice results, this new R toolchain movement towards maps feels like a waste of open source energy to me.</div><br/><div id="36161287" class="c"><input type="checkbox" id="c-36161287" checked=""/><div class="controls bullet"><span class="by">a_bonobo</span><span>|</span><a href="#36160521">parent</a><span>|</span><a href="#36161004">next</a><span>|</span><label class="collapse" for="c-36161287">[-]</label><label class="expand" for="c-36161287">[1 more]</label></div><br/><div class="children"><div class="content">I feel like the R ecosystem was there first; but perhaps two completely separate groups of people.<p>Ecologists, researchers working with geological or geospatial data use R and have been using R for a long, long time. The &#x27;old &#x27;standard library &#x27;maps&#x27; is decades old by now, with maps v3 now being 8 years old. maps v2 goes back to <i>2003</i>, about the time of Python 2.3?<p>I can&#x27;t even find the sources of maps v1. <a href="https:&#x2F;&#x2F;cran.r-project.org&#x2F;src&#x2F;contrib&#x2F;Archive&#x2F;maps&#x2F;" rel="nofollow">https:&#x2F;&#x2F;cran.r-project.org&#x2F;src&#x2F;contrib&#x2F;Archive&#x2F;maps&#x2F;</a> I believe that maps v1 was for R&#x27;s predecessor, S, so from the late 90s, about the time Python 1.5 came out. Was anybody even using Python then?<p>OP&#x27;s post uses the slightly fancier tidyverse-versions of these decades-old libraries. I think it&#x27;s safe to say that map-making libraries are older in R than in Python.</div><br/></div></div><div id="36161004" class="c"><input type="checkbox" id="c-36161004" checked=""/><div class="controls bullet"><span class="by">jackdaniel</span><span>|</span><a href="#36160521">parent</a><span>|</span><a href="#36161287">prev</a><span>|</span><a href="#36161274">next</a><span>|</span><label class="collapse" for="c-36161004">[-]</label><label class="expand" for="c-36161004">[1 more]</label></div><br/><div class="children"><div class="content">Can we, I don&#x27;t know, let people enjoy programming languages they like without calling it a waste?</div><br/></div></div><div id="36161274" class="c"><input type="checkbox" id="c-36161274" checked=""/><div class="controls bullet"><span class="by">minimaxir</span><span>|</span><a href="#36160521">parent</a><span>|</span><a href="#36161004">prev</a><span>|</span><a href="#36162568">next</a><span>|</span><label class="collapse" for="c-36161274">[-]</label><label class="expand" for="c-36161274">[3 more]</label></div><br/><div class="children"><div class="content">As someone proficient with R and Python, anything data viz-wise is substantially easier to do in R&#x2F;ggplot2, particularly something complicated like this post.<p>Most of the R packages in this post aren&#x27;t that new either.</div><br/><div id="36162223" class="c"><input type="checkbox" id="c-36162223" checked=""/><div class="controls bullet"><span class="by">jarenmf</span><span>|</span><a href="#36160521">root</a><span>|</span><a href="#36161274">parent</a><span>|</span><a href="#36161957">next</a><span>|</span><label class="collapse" for="c-36162223">[-]</label><label class="expand" for="c-36162223">[1 more]</label></div><br/><div class="children"><div class="content">My same experience, I have built fairly big projects with Python and I like it for general tasks but whenever I have something data analytics&#x2F;visualization related I find myself reaching for R. There is so much functionality built into the language that just makes me so efficient.</div><br/></div></div><div id="36161957" class="c"><input type="checkbox" id="c-36161957" checked=""/><div class="controls bullet"><span class="by">pjacotg</span><span>|</span><a href="#36160521">root</a><span>|</span><a href="#36161274">parent</a><span>|</span><a href="#36162223">prev</a><span>|</span><a href="#36162568">next</a><span>|</span><label class="collapse" for="c-36161957">[-]</label><label class="expand" for="c-36161957">[1 more]</label></div><br/><div class="children"><div class="content">I agree with that. I&#x27;ve been programming on and off in Python since 2008 and really like the language. I started using R just over a year ago after joining a new team. It took a while to adjust but I&#x27;ve gotten to prefer it for exploratory data analysis and data viz.</div><br/></div></div></div></div><div id="36162568" class="c"><input type="checkbox" id="c-36162568" checked=""/><div class="controls bullet"><span class="by">ezconnect</span><span>|</span><a href="#36160521">parent</a><span>|</span><a href="#36161274">prev</a><span>|</span><a href="#36161684">next</a><span>|</span><label class="collapse" for="c-36162568">[-]</label><label class="expand" for="c-36162568">[1 more]</label></div><br/><div class="children"><div class="content">There are a lot of R users and it&#x27;s a nice language you should try it sometimes.</div><br/></div></div></div></div><div id="36161684" class="c"><input type="checkbox" id="c-36161684" checked=""/><div class="controls bullet"><span class="by">avtolik</span><span>|</span><a href="#36160521">prev</a><span>|</span><a href="#36160992">next</a><span>|</span><label class="collapse" for="c-36161684">[-]</label><label class="expand" for="c-36161684">[2 more]</label></div><br/><div class="children"><div class="content">I did something similar in Go for a big sailing trip this year. Just haven&#x27;t had the time and energy to write a blog post about it.<p><a href="https:&#x2F;&#x2F;j.avtolik.net&#x2F;journey&#x2F;2" rel="nofollow">https:&#x2F;&#x2F;j.avtolik.net&#x2F;journey&#x2F;2</a></div><br/><div id="36162616" class="c"><input type="checkbox" id="c-36162616" checked=""/><div class="controls bullet"><span class="by">avest</span><span>|</span><a href="#36161684">parent</a><span>|</span><a href="#36160992">next</a><span>|</span><label class="collapse" for="c-36162616">[-]</label><label class="expand" for="c-36162616">[1 more]</label></div><br/><div class="children"><div class="content">Looks neat, is the code open to look at somewhere?</div><br/></div></div></div></div><div id="36160992" class="c"><input type="checkbox" id="c-36160992" checked=""/><div class="controls bullet"><span class="by">totetsu</span><span>|</span><a href="#36161684">prev</a><span>|</span><a href="#36161654">next</a><span>|</span><label class="collapse" for="c-36160992">[-]</label><label class="expand" for="c-36160992">[4 more]</label></div><br/><div class="children"><div class="content">Sometimes I hold events, and I want to put a little map on the flyer. It&#x27;s a real pain to manually deal with some SVG of a larger map area, and clip it and style it to fit the space. Does anyone know of any solutions like this for this kind of problem?</div><br/><div id="36161368" class="c"><input type="checkbox" id="c-36161368" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#36160992">parent</a><span>|</span><a href="#36161496">next</a><span>|</span><label class="collapse" for="c-36161368">[-]</label><label class="expand" for="c-36161368">[1 more]</label></div><br/><div class="children"><div class="content">A couple of years ago I rendered some maps in QGIS using OpenStreetMap data.<p>It was a complicated beast of functionality but if you learn the right 2 % of buttons it becomes a very competent tool for creating exactly the maps you need. It gives you the tools to show exactly the terrain features you care about (rivers, roads, streets, highways, trails, forests, buildings, railways, etc.) and you can choose to style them however you want.</div><br/></div></div><div id="36161496" class="c"><input type="checkbox" id="c-36161496" checked=""/><div class="controls bullet"><span class="by">honzabe</span><span>|</span><a href="#36160992">parent</a><span>|</span><a href="#36161368">prev</a><span>|</span><a href="#36161666">next</a><span>|</span><label class="collapse" for="c-36161496">[-]</label><label class="expand" for="c-36161496">[1 more]</label></div><br/><div class="children"><div class="content">Could datawrapper be useful to you? It is easily configurable and the maps look great, I think.<p><a href="https:&#x2F;&#x2F;www.datawrapper.de&#x2F;maps" rel="nofollow">https:&#x2F;&#x2F;www.datawrapper.de&#x2F;maps</a></div><br/></div></div><div id="36161666" class="c"><input type="checkbox" id="c-36161666" checked=""/><div class="controls bullet"><span class="by">nilsbunger</span><span>|</span><a href="#36160992">parent</a><span>|</span><a href="#36161496">prev</a><span>|</span><a href="#36161654">next</a><span>|</span><label class="collapse" for="c-36161666">[-]</label><label class="expand" for="c-36161666">[1 more]</label></div><br/><div class="children"><div class="content">Mapbox Studio should be able to do this</div><br/></div></div></div></div><div id="36161654" class="c"><input type="checkbox" id="c-36161654" checked=""/><div class="controls bullet"><span class="by">EddieEngineers</span><span>|</span><a href="#36160992">prev</a><span>|</span><a href="#36161999">next</a><span>|</span><label class="collapse" for="c-36161654">[-]</label><label class="expand" for="c-36161654">[1 more]</label></div><br/><div class="children"><div class="content">I’m driving SF to NY next week so will definitely spend some time trying this out to share with family!</div><br/></div></div><div id="36161999" class="c"><input type="checkbox" id="c-36161999" checked=""/><div class="controls bullet"><span class="by">flaie</span><span>|</span><a href="#36161654">prev</a><span>|</span><a href="#36160158">next</a><span>|</span><label class="collapse" for="c-36161999">[-]</label><label class="expand" for="c-36161999">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for sharing this was really nice and interesting.</div><br/></div></div><div id="36160158" class="c"><input type="checkbox" id="c-36160158" checked=""/><div class="controls bullet"><span class="by">poobear22</span><span>|</span><a href="#36161999">prev</a><span>|</span><a href="#36159980">next</a><span>|</span><label class="collapse" for="c-36160158">[-]</label><label class="expand" for="c-36160158">[1 more]</label></div><br/><div class="children"><div class="content">Thank you!  Love R.</div><br/></div></div><div id="36159980" class="c"><input type="checkbox" id="c-36159980" checked=""/><div class="controls bullet"><span class="by">tony-allan</span><span>|</span><a href="#36160158">prev</a><span>|</span><a href="#36160277">next</a><span>|</span><label class="collapse" for="c-36159980">[-]</label><label class="expand" for="c-36159980">[1 more]</label></div><br/><div class="children"><div class="content">Cool! Curious — has anyone done something similar in Python?</div><br/></div></div><div id="36160277" class="c"><input type="checkbox" id="c-36160277" checked=""/><div class="controls bullet"><span class="by">antisthenes</span><span>|</span><a href="#36159980">prev</a><span>|</span><a href="#36162328">next</a><span>|</span><label class="collapse" for="c-36160277">[-]</label><label class="expand" for="c-36160277">[2 more]</label></div><br/><div class="children"><div class="content">A little underwhelming for so much work, but I guess if you already have R installed, then it&#x27;s just plug and play.<p>Thanks for sharing.</div><br/></div></div></div></div></div></div></div></body></html>