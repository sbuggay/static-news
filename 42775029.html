<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737450056386" as="style"/><link rel="stylesheet" href="styles.css?v=1737450056386"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/astral-sh/ruff">Ruff: Python linter and code formatter written in Rust</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>modinfo</span> | <span>92 comments</span></div><br/><div><div id="42776026" class="c"><input type="checkbox" id="c-42776026" checked=""/><div class="controls bullet"><span class="by">scosman</span><span>|</span><a href="#42775587">next</a><span>|</span><label class="collapse" for="c-42776026">[-]</label><label class="expand" for="c-42776026">[17 more]</label></div><br/><div class="children"><div class="content">Being new to python, the astral stuff is such a relief.<p>I don’t think experienced python folks realize how much the flexible tooling slows people down, and creates friction for adopters. Setting up my project I tried 3 environment managers, 2 type checkers, 3 formatters&#x2F;linters, 3 packagers&#x2F;dependancy&#x2F;project managers.<p>I know this is kinda the n+1 issue where astral is just adding another. But it feels like a complete and well designed stack, not a box of parts encouraging me to build my own. Reminds me a bit of go tooling.<p>I am a convert. I’ll happily jump on their type checker and packager when ready.</div><br/><div id="42777130" class="c"><input type="checkbox" id="c-42777130" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42776164">next</a><span>|</span><label class="collapse" for="c-42777130">[-]</label><label class="expand" for="c-42777130">[7 more]</label></div><br/><div class="children"><div class="content">&gt;Setting up my project I tried 3 environment managers, 2 type checkers, 3 formatters&#x2F;linters, 3 packagers&#x2F;dependancy&#x2F;project managers.<p>I&#x27;ve been using Python for right about 20 years now. I&#x27;ve been through various prior iterations of the &quot;standard&quot; packaging tools. But I&#x27;ve never found myself wanting a type checker, formatter or linter; and aside from a brief period with Poetry (in which I used barely any of its functionality), I&#x27;ve had no interest in dependency management tools, either. What I <i>have</i> found myself wanting is fixes for the problems in Pip.<p>Different people work on different kinds of projects, and approach the language differently, and have radically different needs as a result.</div><br/><div id="42777474" class="c"><input type="checkbox" id="c-42777474" checked=""/><div class="controls bullet"><span class="by">pansa2</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42777130">parent</a><span>|</span><a href="#42777781">next</a><span>|</span><label class="collapse" for="c-42777474">[-]</label><label class="expand" for="c-42777474">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>I&#x27;ve never found myself wanting a type checker</i><p>Do you still write type hints, but not check them? Or just use dynamic typing as in Python 2?<p>Actually, I guess the first case is really type-hints-as-comments, so isn&#x27;t substantially different from the second.<p>&gt; <i>I&#x27;ve been using Python for right about 20 years now</i><p>Either way, I&#x27;ve found it quite common among long-time Python users to stick with Python&#x27;s traditional dynamic typing, whereas newcomers to the language tend to <i>really</i> dislike it in favour of strict static typing. (One exception is GvR himself, who seems to be very pro-type-checking.)<p>As the second group continue to add increasingly complex typing features to the language, I wonder if Python is becoming less desirable for those in the first group.</div><br/></div></div><div id="42777781" class="c"><input type="checkbox" id="c-42777781" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42777130">parent</a><span>|</span><a href="#42777474">prev</a><span>|</span><a href="#42777682">next</a><span>|</span><label class="collapse" for="c-42777781">[-]</label><label class="expand" for="c-42777781">[1 more]</label></div><br/><div class="children"><div class="content">&gt;<i>I&#x27;ve never found myself wanting a type checker, formatter or linter;</i><p>I guess that makes one of us.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;The_Fox_and_the_Grapes" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;The_Fox_and_the_Grapes</a></div><br/></div></div><div id="42777682" class="c"><input type="checkbox" id="c-42777682" checked=""/><div class="controls bullet"><span class="by">emblaegh</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42777130">parent</a><span>|</span><a href="#42777781">prev</a><span>|</span><a href="#42777545">next</a><span>|</span><label class="collapse" for="c-42777682">[-]</label><label class="expand" for="c-42777682">[1 more]</label></div><br/><div class="children"><div class="content">I’ve been using it for around the same time, and never cared much about formatters. Linting is useful but wouldn’t call it essential. But type checking is a non negotiable on any project I lead. It’s not perfect by any means, but beats having to crawl my way through a call stack trying to figure out what the hell a function is expected to take and why it’s getting a None instead.<p>I have yet to find a single drawback of adopting mypy (or similars) that isn’t completely eclipsed by the benefits.</div><br/></div></div><div id="42777545" class="c"><input type="checkbox" id="c-42777545" checked=""/><div class="controls bullet"><span class="by">ubercore</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42777130">parent</a><span>|</span><a href="#42777682">prev</a><span>|</span><a href="#42776164">next</a><span>|</span><label class="collapse" for="c-42777545">[-]</label><label class="expand" for="c-42777545">[3 more]</label></div><br/><div class="children"><div class="content">Working on a team in a larger python application, type checkers and linters are such a time saver. It&#x27;s so nice not to think about how I&#x27;d like to format my code any longer. We&#x27;ve made some tweaks to our ruff rules to suit the team&#x27;s opinion, and now even when I don&#x27;t _love_ the way it formats a particular part of code, I just move on and get something productive done instead.<p>And type checking is so great for both preventing bugs (which it does all the time) and self-documenting code. Can&#x27;t recommend them enough.</div><br/><div id="42777837" class="c"><input type="checkbox" id="c-42777837" checked=""/><div class="controls bullet"><span class="by">Dries007</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42777545">parent</a><span>|</span><a href="#42777641">next</a><span>|</span><label class="collapse" for="c-42777837">[-]</label><label class="expand" for="c-42777837">[1 more]</label></div><br/><div class="children"><div class="content">It takes out so much frustration too. No more nitpicking about style&#x2F;... in merge requests, the pre-commit hook will fix it and CI will catch it if you don&#x27;t.<p>The more of this you can automate, the more you get to spend on &quot;real work&quot;.</div><br/></div></div><div id="42777641" class="c"><input type="checkbox" id="c-42777641" checked=""/><div class="controls bullet"><span class="by">E_Bfx</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42777545">parent</a><span>|</span><a href="#42777837">prev</a><span>|</span><a href="#42776164">next</a><span>|</span><label class="collapse" for="c-42777641">[-]</label><label class="expand" for="c-42777641">[1 more]</label></div><br/><div class="children"><div class="content">In my organisation, some co-workers used to write def func(*args,**kwargs) all the time.
That was so tiring to look for what you should put as argument. Type checking is mandatory for well organized large project.*</div><br/></div></div></div></div></div></div><div id="42776164" class="c"><input type="checkbox" id="c-42776164" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42777130">prev</a><span>|</span><a href="#42777776">next</a><span>|</span><label class="collapse" for="c-42776164">[-]</label><label class="expand" for="c-42776164">[1 more]</label></div><br/><div class="children"><div class="content">I’ve been writing Python for 25 years and I love love love ruff and uv and friends.</div><br/></div></div><div id="42777776" class="c"><input type="checkbox" id="c-42777776" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42776164">prev</a><span>|</span><a href="#42777046">next</a><span>|</span><label class="collapse" for="c-42777776">[-]</label><label class="expand" for="c-42777776">[1 more]</label></div><br/><div class="children"><div class="content">Experienced Python folks have Stockholm Syndrome about its tooling, even rejoice at all the &quot;options&quot; for things like dependency managers.</div><br/></div></div><div id="42777046" class="c"><input type="checkbox" id="c-42777046" checked=""/><div class="controls bullet"><span class="by">giancarlostoro</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42777776">prev</a><span>|</span><a href="#42776888">next</a><span>|</span><label class="collapse" for="c-42777046">[-]</label><label class="expand" for="c-42777046">[1 more]</label></div><br/><div class="children"><div class="content">I used to use any standard editor but these days I use PyCharm or Visual Studio (not Code) otherwise, I just use Sublime Text or any adjacent reasonable editor.<p>Elementary OS has the nicest editor that other Distros have not snatched up yet not sure why. Its fast, and fits the bill where KATE and Sublime Text are for me.</div><br/></div></div><div id="42776888" class="c"><input type="checkbox" id="c-42776888" checked=""/><div class="controls bullet"><span class="by">jmorenoamor</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42777046">prev</a><span>|</span><a href="#42776499">next</a><span>|</span><label class="collapse" for="c-42776888">[-]</label><label class="expand" for="c-42776888">[1 more]</label></div><br/><div class="children"><div class="content">I started with python dependency management just executing pip install and thinking wow that&#x27;s cool. No envs, no linters or formatters.<p>The point is, if you are learning to code, you can skip nearly all the ecosystem tools. Their need will arise when the time comes.</div><br/></div></div><div id="42776499" class="c"><input type="checkbox" id="c-42776499" checked=""/><div class="controls bullet"><span class="by">kibwen</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42776888">prev</a><span>|</span><a href="#42776842">next</a><span>|</span><label class="collapse" for="c-42776499">[-]</label><label class="expand" for="c-42776499">[2 more]</label></div><br/><div class="children"><div class="content"><i>&gt; I know this is kinda the n+1 issue where astral is just adding another.</i><p>My bugbear with that XKCD is that even if it&#x27;s true, it&#x27;s also how progress is made. By this point I&#x27;m so annoyed whenever anyone links it that I kinda just wish Randall would take it down.</div><br/><div id="42776578" class="c"><input type="checkbox" id="c-42776578" checked=""/><div class="controls bullet"><span class="by">tubthumper8</span><span>|</span><a href="#42776026">root</a><span>|</span><a href="#42776499">parent</a><span>|</span><a href="#42776842">next</a><span>|</span><label class="collapse" for="c-42776578">[-]</label><label class="expand" for="c-42776578">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, and that comic is about <i>standards</i> anyways, not tools, so it&#x27;s doubly annoying when it&#x27;s linked out of context</div><br/></div></div></div></div><div id="42776842" class="c"><input type="checkbox" id="c-42776842" checked=""/><div class="controls bullet"><span class="by">nosefurhairdo</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42776499">prev</a><span>|</span><a href="#42777534">next</a><span>|</span><label class="collapse" for="c-42776842">[-]</label><label class="expand" for="c-42776842">[1 more]</label></div><br/><div class="children"><div class="content">I primarily work on typescript projects, little bit of go. Never enjoyed working with python until I found uv. Glad to see folks rally around astral&#x27;s tools.</div><br/></div></div><div id="42777534" class="c"><input type="checkbox" id="c-42777534" checked=""/><div class="controls bullet"><span class="by">ubercore</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42776842">prev</a><span>|</span><a href="#42776927">next</a><span>|</span><label class="collapse" for="c-42777534">[-]</label><label class="expand" for="c-42777534">[1 more]</label></div><br/><div class="children"><div class="content">`uv` really is amazing.</div><br/></div></div><div id="42776927" class="c"><input type="checkbox" id="c-42776927" checked=""/><div class="controls bullet"><span class="by">atkailash</span><span>|</span><a href="#42776026">parent</a><span>|</span><a href="#42777534">prev</a><span>|</span><a href="#42775587">next</a><span>|</span><label class="collapse" for="c-42776927">[-]</label><label class="expand" for="c-42776927">[1 more]</label></div><br/><div class="children"><div class="content">This is why I tried ruff, managing the different settings and stuff and an experienced Python person was getting tedious. Now I have one tool.<p>I moved to poetry for things a bit ago until I found out about uv recently, it’s so fast I thought it didn’t even do what it asked a couple times.</div><br/></div></div></div></div><div id="42775587" class="c"><input type="checkbox" id="c-42775587" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#42776026">prev</a><span>|</span><a href="#42775553">next</a><span>|</span><label class="collapse" for="c-42775587">[-]</label><label class="expand" for="c-42775587">[20 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a little sad that Ruff took off as a re-implementation of a whole bunch of work that was already done, rather than as a project to improve the work that was already done.<p>It was nice to be able to write little extra linters or flake8 plugins in the language I was linting. Plus decades of effort had gone into making those plugins pretty great, finding the right separation of linting codes so that the right things could be linted&#x2F;ignored per codebase.<p>I understand why they did it, and they have done it remarkably well, but &quot;rewrite it from scratch&quot; is almost never the best answer and part of me wonders if this result could have been even better achieved another way.</div><br/><div id="42775700" class="c"><input type="checkbox" id="c-42775700" checked=""/><div class="controls bullet"><span class="by">thrdbndndn</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42775774">next</a><span>|</span><label class="collapse" for="c-42775700">[-]</label><label class="expand" for="c-42775700">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also sad but from a different perspective.<p>If something can be rewritten from scratch fairly quickly and ends up being much faster, it makes you wonder what we (the general “we”) might have done “wrong” with the “decades of effort” before.<p>To be clear: there was nothing wrong with the old toolchains (hence the quotes). And of course, Ruff&#x2F;uv can do what they do because they build on all that earlier knowledge. My point is just that sometimes it&#x27;s easier to start over than to fix the old, and that fact itself feels kind of sad to me.</div><br/><div id="42776778" class="c"><input type="checkbox" id="c-42776778" checked=""/><div class="controls bullet"><span class="by">nicoburns</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775700">parent</a><span>|</span><a href="#42776731">next</a><span>|</span><label class="collapse" for="c-42776778">[-]</label><label class="expand" for="c-42776778">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If something can be rewritten from scratch fairly quickly and ends up being much faster, it makes you wonder what we (the general “we”) might have done “wrong” with the “decades of effort” before.<p>I think the impact of Rust (and Go) shouldn&#x27;t be underestimated here. Prior to these languages if you wanted fast runtime you were either using C or C++ with all their associated footguns, tricky build systems, and poor support for exposing and consuming libraries. Or you were using something like Java or C# which meant managing another runtime just for tools, which is especially bad for something like UV which manages runtimes - imagine if you were using a python tool to manage your Java versions and a Java tool to manage you Python versions, it would be a mess!<p>With both Go and Rust you have fast languages without memory safety issues that compile to a single, easily-installable binary and have a broad ecosystem of libraries available that mean that half the time you don&#x27;t even need to write any difficult code and can just glue some modules together, and the other half of the time you <i>only</i> need to write the code you actually want to write and not all the support code for general pupose stuff like reading config files, file watching, etc.</div><br/></div></div><div id="42776731" class="c"><input type="checkbox" id="c-42776731" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775700">parent</a><span>|</span><a href="#42776778">prev</a><span>|</span><a href="#42775752">next</a><span>|</span><label class="collapse" for="c-42776731">[-]</label><label class="expand" for="c-42776731">[2 more]</label></div><br/><div class="children"><div class="content">&gt; there was nothing wrong with the old toolchains (hence the quotes). And of course, Ruff&#x2F;uv can do what they do because they build on all that earlier knowledge<p>I don&#x27;t think that&#x27;s true. I think the old toolchains really were bad, partly because the Python community was uniquely resistant to building on what worked in other ecosystems, and uv in particular largely succeeds because it&#x27;s the first tool in this space to finally just ignore the nonsense that had somehow become accepted wisdom in Python-land and apply a little bit of outside experience.</div><br/><div id="42777303" class="c"><input type="checkbox" id="c-42777303" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42776731">parent</a><span>|</span><a href="#42775752">next</a><span>|</span><label class="collapse" for="c-42777303">[-]</label><label class="expand" for="c-42777303">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I think the old toolchains really were bad, partly because the Python community was uniquely resistant to building on what worked in other ecosystems<p>I mostly attribute it to backwards compatibility concerns (which I in turn attribute to the traumatic 3.x migration). PyPI continued to accept egg uploads until August 2023 (<a href="https:&#x2F;&#x2F;packaging.python.org&#x2F;en&#x2F;latest&#x2F;discussions&#x2F;package-formats&#x2F;#what-about-eggs" rel="nofollow">https:&#x2F;&#x2F;packaging.python.org&#x2F;en&#x2F;latest&#x2F;discussions&#x2F;package-f...</a>). The easy_install program, along the direct command-line use of `setup.py` (as opposed to having Setuptools invoke it behind the scenes), have been deprecated since October 2021 (<a href="https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#v58-3-0);" rel="nofollow">https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#v58-3-0);</a> but not only are they still supported, Setuptools can&#x27;t even remove support for `setup.py test` (as they tried to in 72.0 and immediately reverted - <a href="https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;setuptools&#x2F;issues&#x2F;4519">https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;setuptools&#x2F;issues&#x2F;4519</a>) without causing major disruption to the ecosystem. One of the packages affected was Requests, which: a) is one of the most downloaded packages on PyPI; b) <i>is pure Python</i> (aside from dependencies) with nothing particular complicated about its metadata (I see no reason it couldn&#x27;t be done in pyproject.toml and&#x2F;or setup.cfg); c) <i>wasn&#x27;t even reliant on</i> that interface to run tests (they use Tox).<p>(For that matter: Requests has been maintained by the PSF since mid-2019 (<a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;Python&#x2F;comments&#x2F;cgtp87&#x2F;seems_like_requests_will_be_moved_to_a_github&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;Python&#x2F;comments&#x2F;cgtp87&#x2F;seems_like_r...</a>) and the problem could have easily been avoided once the deprecation was announced, but nobody did anything about it. The project <i>still</i> defines most of its metadata in `setup.py`; `pyproject.toml` exists but is only used for pytest and isort config, while `setup.cfg` is used for flake8 config and some requirements metadata that&#x27;s completely redundant with `setup.py`.)<p>A lot of it also just has to do with lack of attention and focus. <a href="https:&#x2F;&#x2F;peps.python.org&#x2F;pep-0427&#x2F;" rel="nofollow">https:&#x2F;&#x2F;peps.python.org&#x2F;pep-0427&#x2F;</a> (defining the wheel format) was proposed in September 2012, and accepted in February 2013. But Setuptools itself wasn&#x27;t available as a wheel until November 2013 (<a href="https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#id1646" rel="nofollow">https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#id1646</a>), and in 2017 there were still reports of people having outdated versions of Pip and not being able to install Setuptools from that wheel (<a href="https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#v34-0-0" rel="nofollow">https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#v34-0-0</a>). Setuptools relied on a separate package to actually make wheels until July of last year (<a href="https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#v70-1-0" rel="nofollow">https:&#x2F;&#x2F;setuptools.pypa.io&#x2F;en&#x2F;latest&#x2F;history.html#v70-1-0</a>) - an effort which was initially proposed in June 2018 (<a href="https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;setuptools&#x2F;issues&#x2F;1386">https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;setuptools&#x2F;issues&#x2F;1386</a>). It also took years to notice that Pip and Setuptools had separate implementations for the code that understands the &quot;tags&quot; in wheel filenames and factor it out into `packaging` (<a href="https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;packaging&#x2F;pull&#x2F;156">https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;packaging&#x2F;pull&#x2F;156</a>).</div><br/></div></div></div></div><div id="42775752" class="c"><input type="checkbox" id="c-42775752" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775700">parent</a><span>|</span><a href="#42776731">prev</a><span>|</span><a href="#42775774">next</a><span>|</span><label class="collapse" for="c-42775752">[-]</label><label class="expand" for="c-42775752">[1 more]</label></div><br/><div class="children"><div class="content">&gt; My point is just that sometimes it&#x27;s easier to start over than to fix the old, and that fact itself feels kind of sad to me.<p>Sad, but also liberating. There are surely more projects out there that would benefit from breaking with conventional wisdom to start over.</div><br/></div></div></div></div><div id="42775774" class="c"><input type="checkbox" id="c-42775774" checked=""/><div class="controls bullet"><span class="by">n8henrie</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42775700">prev</a><span>|</span><a href="#42775695">next</a><span>|</span><label class="collapse" for="c-42775774">[-]</label><label class="expand" for="c-42775774">[1 more]</label></div><br/><div class="children"><div class="content">I am quite grateful that they rewrote so many tools that I had been using. Upgrades were super painful with them split into a dozen separate packages, I routinely ran into incompatibilities and had to pin to specific versions to deal with transitive dependencies.<p>Given the state of python packaging and tooling, I&#x27;d say that consolidating the tooling is a big win in and of itself, and with the <i>tremendous</i> speed wins on top...</div><br/></div></div><div id="42775695" class="c"><input type="checkbox" id="c-42775695" checked=""/><div class="controls bullet"><span class="by">FreakLegion</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42775774">prev</a><span>|</span><a href="#42777254">next</a><span>|</span><label class="collapse" for="c-42775695">[-]</label><label class="expand" for="c-42775695">[1 more]</label></div><br/><div class="children"><div class="content">Whenever Ruff comes up, I reflexively go and check <a href="https:&#x2F;&#x2F;github.com&#x2F;astral-sh&#x2F;ruff&#x2F;issues&#x2F;970">https:&#x2F;&#x2F;github.com&#x2F;astral-sh&#x2F;ruff&#x2F;issues&#x2F;970</a>, since Pylint is the one tool whose performance I find to be egregiously bad. Looks like Ruff is still very far from being able to replace it.</div><br/></div></div><div id="42777254" class="c"><input type="checkbox" id="c-42777254" checked=""/><div class="controls bullet"><span class="by">VagabundoP</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42775695">prev</a><span>|</span><a href="#42777228">next</a><span>|</span><label class="collapse" for="c-42777254">[-]</label><label class="expand" for="c-42777254">[1 more]</label></div><br/><div class="children"><div class="content">There was probably a lot of engineering that went into those designs and that took time.<p>Having a clean process to rewrite from is what made it so fast. They knew exactly what outcome they wanted and they had access to the internal implementations on how to do it.<p>All that effort was not wasted at all.</div><br/></div></div><div id="42777228" class="c"><input type="checkbox" id="c-42777228" checked=""/><div class="controls bullet"><span class="by">hobofan</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42777254">prev</a><span>|</span><a href="#42776251">next</a><span>|</span><label class="collapse" for="c-42777228">[-]</label><label class="expand" for="c-42777228">[1 more]</label></div><br/><div class="children"><div class="content">Rewrite from scratch is exactly what the Python ecosystem needs more of.<p>The strong push to always contribute to the existing projects rather than starting new ones in the Python community is what caused the previous subpar state of tooling. I think Astral is also picking a good middle-ground where they still aim to build as much as possible on existing Python standards (and help contributing to new ones), so it&#x27;s still building on what has been done in the past.</div><br/></div></div><div id="42776251" class="c"><input type="checkbox" id="c-42776251" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42777228">prev</a><span>|</span><a href="#42775682">next</a><span>|</span><label class="collapse" for="c-42776251">[-]</label><label class="expand" for="c-42776251">[1 more]</label></div><br/><div class="children"><div class="content">&gt; this result could have been even better achieved another way.<p>Don&#x27;t you have &quot;decades of effort&quot; to resolve this wonder?</div><br/></div></div><div id="42775682" class="c"><input type="checkbox" id="c-42775682" checked=""/><div class="controls bullet"><span class="by">searealist</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42776251">prev</a><span>|</span><a href="#42775642">next</a><span>|</span><label class="collapse" for="c-42775682">[-]</label><label class="expand" for="c-42775682">[8 more]</label></div><br/><div class="children"><div class="content">Your argument seems ideological. There is no chance they could have improved Flake8 to be as good as Ruff is.</div><br/><div id="42775699" class="c"><input type="checkbox" id="c-42775699" checked=""/><div class="controls bullet"><span class="by">burntsushi</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775682">parent</a><span>|</span><a href="#42775787">next</a><span>|</span><label class="collapse" for="c-42775699">[-]</label><label class="expand" for="c-42775699">[6 more]</label></div><br/><div class="children"><div class="content">Folks said the same thing to me about grep 8.5 years ago when I released ripgrep.</div><br/><div id="42776634" class="c"><input type="checkbox" id="c-42776634" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775699">parent</a><span>|</span><a href="#42775852">next</a><span>|</span><label class="collapse" for="c-42776634">[-]</label><label class="expand" for="c-42776634">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, I think the reason I&#x27;m conflicted is probably a similar reason to why you made a separate new thing. Overcoming the inertia and ways of doing things, or proposing widespread changes, often doesn&#x27;t go down well with existing maintainers – for very valid reasons. I probably wouldn&#x27;t want to go into the grep project and suggest rearchitecting it, and I can see why the Ruff developers didn&#x27;t want to go into projects like Flake8 and Pylint to do the same.<p>But that doesn&#x27;t stop me from feeling that there were things lost in this process and wishing for a better outcome.</div><br/></div></div><div id="42775852" class="c"><input type="checkbox" id="c-42775852" checked=""/><div class="controls bullet"><span class="by">JelteF</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775699">parent</a><span>|</span><a href="#42776634">prev</a><span>|</span><a href="#42776836">next</a><span>|</span><label class="collapse" for="c-42775852">[-]</label><label class="expand" for="c-42775852">[2 more]</label></div><br/><div class="children"><div class="content">Wait... Did you misunderstand this comment? Or are you saying grep caught up with ripgrep now?</div><br/><div id="42775976" class="c"><input type="checkbox" id="c-42775976" checked=""/><div class="controls bullet"><span class="by">burntsushi</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775852">parent</a><span>|</span><a href="#42776836">next</a><span>|</span><label class="collapse" for="c-42775976">[-]</label><label class="expand" for="c-42775976">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m agreeing with them. Some folks told me I should have improved grep instead of building my own thing.</div><br/></div></div></div></div><div id="42775817" class="c"><input type="checkbox" id="c-42775817" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775699">parent</a><span>|</span><a href="#42776836">prev</a><span>|</span><a href="#42775787">next</a><span>|</span><label class="collapse" for="c-42775817">[-]</label><label class="expand" for="c-42775817">[1 more]</label></div><br/><div class="children"><div class="content">And you think you&#x27;ve done it?</div><br/></div></div></div></div><div id="42775787" class="c"><input type="checkbox" id="c-42775787" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#42775587">root</a><span>|</span><a href="#42775682">parent</a><span>|</span><a href="#42775699">prev</a><span>|</span><a href="#42775642">next</a><span>|</span><label class="collapse" for="c-42775787">[-]</label><label class="expand" for="c-42775787">[1 more]</label></div><br/><div class="children"><div class="content">Yeah it&#x27;s somewhat ideological, I think open source software is better for society when built as a community project than built and controlled by a VC funded company.<p>I don&#x27;t think you could get flake8 to be as fast as Ruff, but I think you could improve it to be within an order of magnitude, and honestly that&#x27;s plenty good enough. There are a lot of low hanging fruit, particularly around caching. I&#x27;d push back on there being no chance of being &quot;as good as&quot; Ruff, because &quot;good&quot; is not just speed. Ruff is _not complete_, if you want all the features and linters, you still need Flake8, or you have to sacrifice some. It&#x27;s also not publicly extensible, and not written in Python, both of which are fair choices but I think deviate from the ideal scenario here.</div><br/></div></div></div></div><div id="42775642" class="c"><input type="checkbox" id="c-42775642" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#42775587">parent</a><span>|</span><a href="#42775682">prev</a><span>|</span><a href="#42775553">next</a><span>|</span><label class="collapse" for="c-42775642">[-]</label><label class="expand" for="c-42775642">[1 more]</label></div><br/><div class="children"><div class="content">Blame Guido. Until recently when he was bought out by Microsoft, he had been the primary blocker of higher Python performance. There were a bunch of attempts at adding a JIT to Python but Guido was more interested in splitting hairs over syntax than any real heavy lifting. Python could have been as performant as LuaJIT or V8 but their dictator ruined it. Python need more Mike Palls.</div><br/></div></div></div></div><div id="42775553" class="c"><input type="checkbox" id="c-42775553" checked=""/><div class="controls bullet"><span class="by">rikthevik</span><span>|</span><a href="#42775587">prev</a><span>|</span><a href="#42777757">next</a><span>|</span><label class="collapse" for="c-42775553">[-]</label><label class="expand" for="c-42775553">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;m very impressed by the recent developer experience improvements in the python ecosystem. Between ruff, uv, and <a href="https:&#x2F;&#x2F;github.com&#x2F;gauge-sh&#x2F;tach">https:&#x2F;&#x2F;github.com&#x2F;gauge-sh&#x2F;tach</a> we&#x27;ll be able to keep our django monolith going for a long time.<p>Any opinions about the current state of the art type checker?</div><br/><div id="42775603" class="c"><input type="checkbox" id="c-42775603" checked=""/><div class="controls bullet"><span class="by">Mehdi2277</span><span>|</span><a href="#42775553">parent</a><span>|</span><a href="#42777442">next</a><span>|</span><label class="collapse" for="c-42775603">[-]</label><label class="expand" for="c-42775603">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m very happy with pyright. Most bug reports are fixed within a week and new peps&#x2F;features are added very rapidly usually before pep is accepted (under experimental flag). Enough that I ended up dropping pylint and consider pyright enough for lint purposes as well. The most valuable lints for my work require good multi-file&#x2F;semantic analysis and pylint had various false positives.<p>Main tradeoff is this only works if your codebase&#x2F;core dependencies are typed. For a while that was not true and we used pylint + pyright. Eventually most of our code is typed and we added type stubs for our main untyped dependencies.<p>edit: Also on pylint, it did work well mostly. tensorflow was main library that created most false positives. Other thing I found awkward was occasionally pylint produces non-deterministic lints on my codebase.</div><br/></div></div><div id="42777442" class="c"><input type="checkbox" id="c-42777442" checked=""/><div class="controls bullet"><span class="by">optionalsquid</span><span>|</span><a href="#42775553">parent</a><span>|</span><a href="#42775603">prev</a><span>|</span><a href="#42775596">next</a><span>|</span><label class="collapse" for="c-42777442">[-]</label><label class="expand" for="c-42777442">[1 more]</label></div><br/><div class="children"><div class="content">Everyone is already recommending pyright, but I&#x27;ll suggest checking the &quot;based&quot; community fork: <a href="https:&#x2F;&#x2F;github.com&#x2F;detachhead&#x2F;basedpyright">https:&#x2F;&#x2F;github.com&#x2F;detachhead&#x2F;basedpyright</a><p>Besides re-adding features that Microsoft makes exclusive to pylance, it tweaks a number of features that IMO makes pyright work better out the box:<p><a href="https:&#x2F;&#x2F;docs.basedpyright.com&#x2F;latest&#x2F;benefits-over-pyright&#x2F;pylance-features&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.basedpyright.com&#x2F;latest&#x2F;benefits-over-pyright&#x2F;p...</a></div><br/></div></div><div id="42775596" class="c"><input type="checkbox" id="c-42775596" checked=""/><div class="controls bullet"><span class="by">__tyler__</span><span>|</span><a href="#42775553">parent</a><span>|</span><a href="#42777442">prev</a><span>|</span><a href="#42776869">next</a><span>|</span><label class="collapse" for="c-42775596">[-]</label><label class="expand" for="c-42775596">[2 more]</label></div><br/><div class="children"><div class="content">I have always used MyPy but I have noticed some large open source projects adopt Pyright as of late. The folks behind ruff and uv are currently working on a type checker as well but haven&#x27;t heard when they plan on releasing it.</div><br/><div id="42777558" class="c"><input type="checkbox" id="c-42777558" checked=""/><div class="controls bullet"><span class="by">ubercore</span><span>|</span><a href="#42775553">root</a><span>|</span><a href="#42775596">parent</a><span>|</span><a href="#42776869">next</a><span>|</span><label class="collapse" for="c-42777558">[-]</label><label class="expand" for="c-42777558">[1 more]</label></div><br/><div class="children"><div class="content">MyPy is nice, but it has missed some things that pyright caught, which were legitimate bugs that could have arisen.</div><br/></div></div></div></div><div id="42776869" class="c"><input type="checkbox" id="c-42776869" checked=""/><div class="controls bullet"><span class="by">catlover76</span><span>|</span><a href="#42775553">parent</a><span>|</span><a href="#42775596">prev</a><span>|</span><a href="#42777757">next</a><span>|</span><label class="collapse" for="c-42776869">[-]</label><label class="expand" for="c-42776869">[1 more]</label></div><br/><div class="children"><div class="content">Pyright is pretty good. It&#x27;s easy to setup, and has first-class VSCode support, if that&#x27;s what your team uses.</div><br/></div></div></div></div><div id="42777757" class="c"><input type="checkbox" id="c-42777757" checked=""/><div class="controls bullet"><span class="by">earnestinger</span><span>|</span><a href="#42775553">prev</a><span>|</span><a href="#42775348">next</a><span>|</span><label class="collapse" for="c-42777757">[-]</label><label class="expand" for="c-42777757">[1 more]</label></div><br/><div class="children"><div class="content">Does formatting match black? (Unlikely, but one can dream of standard being established)</div><br/></div></div><div id="42775348" class="c"><input type="checkbox" id="c-42775348" checked=""/><div class="controls bullet"><span class="by">throwaway98231</span><span>|</span><a href="#42777757">prev</a><span>|</span><a href="#42775390">next</a><span>|</span><label class="collapse" for="c-42775348">[-]</label><label class="expand" for="c-42775348">[10 more]</label></div><br/><div class="children"><div class="content">At this point I think even people trapped for two years on the International Space Station have heard about the Astral toolchain.</div><br/><div id="42775388" class="c"><input type="checkbox" id="c-42775388" checked=""/><div class="controls bullet"><span class="by">thrdbndndn</span><span>|</span><a href="#42775348">parent</a><span>|</span><a href="#42775549">next</a><span>|</span><label class="collapse" for="c-42775388">[-]</label><label class="expand" for="c-42775388">[2 more]</label></div><br/><div class="children"><div class="content">Any more info about &quot;Astral&quot; the org?<p>I&#x27;ve used ruff&#x2F;uv for sure, but I never pay attention to Astral who is behind it.</div><br/><div id="42775421" class="c"><input type="checkbox" id="c-42775421" checked=""/><div class="controls bullet"><span class="by">ericjmorey</span><span>|</span><a href="#42775348">root</a><span>|</span><a href="#42775388">parent</a><span>|</span><a href="#42775549">next</a><span>|</span><label class="collapse" for="c-42775421">[-]</label><label class="expand" for="c-42775421">[1 more]</label></div><br/><div class="children"><div class="content">VC funded organization. Not sure what their business model is yet.</div><br/></div></div></div></div><div id="42775549" class="c"><input type="checkbox" id="c-42775549" checked=""/><div class="controls bullet"><span class="by">hartator</span><span>|</span><a href="#42775348">parent</a><span>|</span><a href="#42775388">prev</a><span>|</span><a href="#42775419">next</a><span>|</span><label class="collapse" for="c-42775549">[-]</label><label class="expand" for="c-42775549">[2 more]</label></div><br/><div class="children"><div class="content">Astral toolchain?</div><br/><div id="42775673" class="c"><input type="checkbox" id="c-42775673" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775348">root</a><span>|</span><a href="#42775549">parent</a><span>|</span><a href="#42775419">next</a><span>|</span><label class="collapse" for="c-42775673">[-]</label><label class="expand" for="c-42775673">[1 more]</label></div><br/><div class="children"><div class="content">Python development tools produced by Astral (<a href="https:&#x2F;&#x2F;github.com&#x2F;astral-sh">https:&#x2F;&#x2F;github.com&#x2F;astral-sh</a>), primarily uv and ruff. GP is a complaint about how often people submit links to these projects. The resulting discussion tends not to produce any new insight and the most common points IMX are &quot;it&#x27;s fast because it&#x27;s written in Rust&quot; (which is fairly specious logic - most problems with existing native Python tools are due to algorithmic problems such as poorly designed caching) or &quot;it avoids bootstrapping problems because it&#x27;s not written in Python&quot; (it&#x27;s completely possible to avoid those problems for everything except actually provisioning the Python interpreter, which some people apparently do see as a killer feature).</div><br/></div></div></div></div><div id="42775419" class="c"><input type="checkbox" id="c-42775419" checked=""/><div class="controls bullet"><span class="by">mrits</span><span>|</span><a href="#42775348">parent</a><span>|</span><a href="#42775549">prev</a><span>|</span><a href="#42775390">next</a><span>|</span><label class="collapse" for="c-42775419">[-]</label><label class="expand" for="c-42775419">[5 more]</label></div><br/><div class="children"><div class="content">Maybe, I use uv and rust has been my primary language for several years. I have never heard of astral though.</div><br/><div id="42775676" class="c"><input type="checkbox" id="c-42775676" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775348">root</a><span>|</span><a href="#42775419">parent</a><span>|</span><a href="#42775390">next</a><span>|</span><label class="collapse" for="c-42775676">[-]</label><label class="expand" for="c-42775676">[4 more]</label></div><br/><div class="children"><div class="content">Astral is the organization making uv. It&#x27;s right there in the GitHub URL.</div><br/><div id="42775980" class="c"><input type="checkbox" id="c-42775980" checked=""/><div class="controls bullet"><span class="by">mrits</span><span>|</span><a href="#42775348">root</a><span>|</span><a href="#42775676">parent</a><span>|</span><a href="#42775390">next</a><span>|</span><label class="collapse" for="c-42775980">[-]</label><label class="expand" for="c-42775980">[3 more]</label></div><br/><div class="children"><div class="content">How do you read me comment and take away that I still dont know what Astral is? You acted like everyone had heard of it. My point is not even all the users of uv have.</div><br/><div id="42776736" class="c"><input type="checkbox" id="c-42776736" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42775348">root</a><span>|</span><a href="#42775980">parent</a><span>|</span><a href="#42777077">next</a><span>|</span><label class="collapse" for="c-42776736">[-]</label><label class="expand" for="c-42776736">[1 more]</label></div><br/><div class="children"><div class="content">&gt; How do you read me comment and take away that I still dont know what Astral is?<p>The comment where you literally say &quot;I have never heard of astral&quot;? Gee, I wonder.</div><br/></div></div><div id="42777077" class="c"><input type="checkbox" id="c-42777077" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775348">root</a><span>|</span><a href="#42775980">parent</a><span>|</span><a href="#42776736">prev</a><span>|</span><a href="#42775390">next</a><span>|</span><label class="collapse" for="c-42777077">[-]</label><label class="expand" for="c-42777077">[1 more]</label></div><br/><div class="children"><div class="content">&gt;How do you read me comment and take away that I still dont know what Astral is?<p>From the comment I read, quoted directly:<p>&gt;I have never heard of astral though.<p>If you meant &quot;I only learned about Astral thanks to this post&quot;, then I pointed out how you might have found out by yourself before.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42775390" class="c"><input type="checkbox" id="c-42775390" checked=""/><div class="controls bullet"><span class="by">tiltowait</span><span>|</span><a href="#42775348">prev</a><span>|</span><a href="#42775628">next</a><span>|</span><label class="collapse" for="c-42775390">[-]</label><label class="expand" for="c-42775390">[2 more]</label></div><br/><div class="children"><div class="content">It really is as fast as it claims. I sometimes intentionally add something it will complain about just to make sure it’s still working.</div><br/><div id="42775459" class="c"><input type="checkbox" id="c-42775459" checked=""/><div class="controls bullet"><span class="by">atty</span><span>|</span><a href="#42775390">parent</a><span>|</span><a href="#42775628">next</a><span>|</span><label class="collapse" for="c-42775459">[-]</label><label class="expand" for="c-42775459">[1 more]</label></div><br/><div class="children"><div class="content">I do the same thing, and I keep doing it regardless of how many times I see it working properly.</div><br/></div></div></div></div><div id="42775628" class="c"><input type="checkbox" id="c-42775628" checked=""/><div class="controls bullet"><span class="by">Blackarea</span><span>|</span><a href="#42775390">prev</a><span>|</span><a href="#42775486">next</a><span>|</span><label class="collapse" for="c-42775628">[-]</label><label class="expand" for="c-42775628">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t care one bit about py-land, but it&#x27;s always nice to see a rust project swoope in and save the day.<p>Language processing like compiling or linting is just one of the many aspect where rust can really play out it&#x27;s awesome strength.</div><br/><div id="42776860" class="c"><input type="checkbox" id="c-42776860" checked=""/><div class="controls bullet"><span class="by">cwalv</span><span>|</span><a href="#42775628">parent</a><span>|</span><a href="#42775486">next</a><span>|</span><label class="collapse" for="c-42776860">[-]</label><label class="expand" for="c-42776860">[2 more]</label></div><br/><div class="children"><div class="content">How speedy is the rust-language tooling itself these days? I remember wishing for a &#x27;optimize nothing&#x27; or even &#x27;just interpret&#x27; mode. Compile times noticably contributing to the feedback loop are a serious killjoy.</div><br/><div id="42777701" class="c"><input type="checkbox" id="c-42777701" checked=""/><div class="controls bullet"><span class="by">goku12</span><span>|</span><a href="#42775628">root</a><span>|</span><a href="#42776860">parent</a><span>|</span><a href="#42775486">next</a><span>|</span><label class="collapse" for="c-42777701">[-]</label><label class="expand" for="c-42777701">[1 more]</label></div><br/><div class="children"><div class="content">Compile times are still a bit much, but there are ways around it:<p>- The insanely long times are only for the initial build. Further builds are incremental and more tolerable.<p>- Compilation errors can be checked using &#x27;cargo check&#x27;. It avoids the code generation step that&#x27;s part of a build. I find myself doing it way more often than builds. So it&#x27;s a time saver depending on how frequently you use it.<p>- You can extend the incremental build mentioned above using sccache [1]. At the minimum, it allows you to share the build cache between all your local projects. So it saves time if your projects or other builds share a lot of common libraries (that&#x27;s very common in Rust, though). But sccache can go further by using online build caches (for example, using S3) that can be shared between hosts. Finally, sccache also supports distributed builds if you have a few machines sitting idle. (This is like distcc with extra features).<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;sccache">https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;sccache</a></div><br/></div></div></div></div></div></div><div id="42775486" class="c"><input type="checkbox" id="c-42775486" checked=""/><div class="controls bullet"><span class="by">monomial</span><span>|</span><a href="#42775628">prev</a><span>|</span><a href="#42776916">next</a><span>|</span><label class="collapse" for="c-42775486">[-]</label><label class="expand" for="c-42775486">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using an amalgamation of pyenv, pip-tools, black, isort, etc. for projects and just gave uv and ruff a try.  Wow, it really is fast!  Skeptical of anything VC-backed but I&#x27;ll be keeping my eye on it.</div><br/></div></div><div id="42776916" class="c"><input type="checkbox" id="c-42776916" checked=""/><div class="controls bullet"><span class="by">TheTaytay</span><span>|</span><a href="#42775486">prev</a><span>|</span><a href="#42775455">next</a><span>|</span><label class="collapse" for="c-42776916">[-]</label><label class="expand" for="c-42776916">[1 more]</label></div><br/><div class="children"><div class="content">I’m used to running command line tools on fast machines, but the first time I ran ruff on my codebase I was blown away. My codebase isn’t massive but most (non-rust) tools just take a while to run. It might be less than a second of startup overhead, but it’s noticeable. Ruff is so fast you wonder if it even did anything. It reminded me how fast computers actually are.</div><br/></div></div><div id="42775455" class="c"><input type="checkbox" id="c-42775455" checked=""/><div class="controls bullet"><span class="by">mhh__</span><span>|</span><a href="#42776916">prev</a><span>|</span><a href="#42775354">next</a><span>|</span><label class="collapse" for="c-42775455">[-]</label><label class="expand" for="c-42775455">[6 more]</label></div><br/><div class="children"><div class="content">A small boon to it not being in python — it&#x27;s now decoupled from your python toolchain.</div><br/><div id="42775729" class="c"><input type="checkbox" id="c-42775729" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775455">parent</a><span>|</span><a href="#42777481">next</a><span>|</span><label class="collapse" for="c-42775729">[-]</label><label class="expand" for="c-42775729">[4 more]</label></div><br/><div class="children"><div class="content">There is no &quot;coupling&quot; inherent to native Python tools. They can generally be installed in a separate virtual environment from the one they operate on.<p>For example, with Pip you simply pass the `--python` option to have it install for a different environment - you can create your venvs `--without-pip`, and share a copy of Pip across all of them. If you use Pipx, you can expose and use Pipx&#x27;s vendored Pip for this, as I described in a recent blog post (<a href="https:&#x2F;&#x2F;zahlman.github.io&#x2F;posts&#x2F;2025&#x2F;01&#x2F;07&#x2F;python-packaging-2&#x2F;" rel="nofollow">https:&#x2F;&#x2F;zahlman.github.io&#x2F;posts&#x2F;2025&#x2F;01&#x2F;07&#x2F;python-packaging-...</a>).<p>Twine and Build don&#x27;t care about your project&#x27;s environment at all - Twine uploads a specified file, and Build by default creates a new environment for the build (and even withough build isolation, it only requires your build environment to contain the build backend, and the build environment doesn&#x27;t have to be the one you use for the rest of development). Setuptools, similarly, either gets installed by the build frontend into an isolated build environment, or can reside in a separate dedicated build environment. It doesn&#x27;t actually operate on your project&#x27;s environment - it only operates on your project&#x27;s <i>source tree</i>.</div><br/><div id="42776762" class="c"><input type="checkbox" id="c-42776762" checked=""/><div class="controls bullet"><span class="by">mhh__</span><span>|</span><a href="#42775455">root</a><span>|</span><a href="#42775729">parent</a><span>|</span><a href="#42777481">next</a><span>|</span><label class="collapse" for="c-42776762">[-]</label><label class="expand" for="c-42776762">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a lot of words compared to &quot;Download binary from server. Run it&quot;</div><br/><div id="42777074" class="c"><input type="checkbox" id="c-42777074" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775455">root</a><span>|</span><a href="#42776762">parent</a><span>|</span><a href="#42777481">next</a><span>|</span><label class="collapse" for="c-42777074">[-]</label><label class="expand" for="c-42777074">[2 more]</label></div><br/><div class="children"><div class="content">Sometimes it takes a lot of words to debunk a misconception. What you initially said didn&#x27;t have anything to do with setup effort, but also there is quite little setup effort actually described here.</div><br/><div id="42777745" class="c"><input type="checkbox" id="c-42777745" checked=""/><div class="controls bullet"><span class="by">mhh__</span><span>|</span><a href="#42775455">root</a><span>|</span><a href="#42777074">parent</a><span>|</span><a href="#42777481">next</a><span>|</span><label class="collapse" for="c-42777745">[-]</label><label class="expand" for="c-42777745">[1 more]</label></div><br/><div class="children"><div class="content">There is nothing to debunk, my original comment was correct. It&#x27;s useful to have tooling that doesn&#x27;t rely on carting around a bunch of python stuff.</div><br/></div></div></div></div></div></div></div></div><div id="42777481" class="c"><input type="checkbox" id="c-42777481" checked=""/><div class="controls bullet"><span class="by">edelbitter</span><span>|</span><a href="#42775455">parent</a><span>|</span><a href="#42775729">prev</a><span>|</span><a href="#42775354">next</a><span>|</span><label class="collapse" for="c-42777481">[-]</label><label class="expand" for="c-42777481">[1 more]</label></div><br/><div class="children"><div class="content">Even twine decoupled itself from my python toolchain some time ago [1], through some dependency. Cannot install it unless you are on a system <i>trusting trust in rust™</i>.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;twine&#x2F;issues&#x2F;1015">https:&#x2F;&#x2F;github.com&#x2F;pypa&#x2F;twine&#x2F;issues&#x2F;1015</a></div><br/></div></div></div></div><div id="42775354" class="c"><input type="checkbox" id="c-42775354" checked=""/><div class="controls bullet"><span class="by">fastball</span><span>|</span><a href="#42775455">prev</a><span>|</span><a href="#42775567">next</a><span>|</span><label class="collapse" for="c-42775354">[-]</label><label class="expand" for="c-42775354">[1 more]</label></div><br/><div class="children"><div class="content">Some previous discussions:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34788020">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34788020</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37908760">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37908760</a></div><br/></div></div><div id="42775567" class="c"><input type="checkbox" id="c-42775567" checked=""/><div class="controls bullet"><span class="by">seanwilson</span><span>|</span><a href="#42775354">prev</a><span>|</span><a href="#42775543">next</a><span>|</span><label class="collapse" for="c-42775567">[-]</label><label class="expand" for="c-42775567">[4 more]</label></div><br/><div class="children"><div class="content">For Django projects, what&#x27;s fast that will cover Python, HTML, CSS and JavaScript files?  Ruff only does Python?</div><br/><div id="42777326" class="c"><input type="checkbox" id="c-42777326" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775567">parent</a><span>|</span><a href="#42775650">next</a><span>|</span><label class="collapse" for="c-42777326">[-]</label><label class="expand" for="c-42777326">[1 more]</label></div><br/><div class="children"><div class="content">If you already have tooling to cover each separately, why would it be better for it to be a single tool?</div><br/></div></div><div id="42775650" class="c"><input type="checkbox" id="c-42775650" checked=""/><div class="controls bullet"><span class="by">bobbylarrybobby</span><span>|</span><a href="#42775567">parent</a><span>|</span><a href="#42777326">prev</a><span>|</span><a href="#42775543">next</a><span>|</span><label class="collapse" for="c-42775650">[-]</label><label class="expand" for="c-42775650">[2 more]</label></div><br/><div class="children"><div class="content">Prettier can do HTML CSS and JS but I don&#x27;t think there&#x27;s any one tool that can do it all. (It would be interesting if there were something like a tree sitter for auto formatting)</div><br/><div id="42776612" class="c"><input type="checkbox" id="c-42776612" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42775567">root</a><span>|</span><a href="#42775650">parent</a><span>|</span><a href="#42775543">next</a><span>|</span><label class="collapse" for="c-42776612">[-]</label><label class="expand" for="c-42776612">[1 more]</label></div><br/><div class="children"><div class="content">I recently learned that tree-sitter does not have a goal of accurately representing the whole source input, and thus as it currently stands could not be used for that purpose<p>Now, whether a tree-sitter-esque ecosystem that <i>is</i> designed for source modeling could catch on like t-s did is a more interesting question</div><br/></div></div></div></div></div></div><div id="42775495" class="c"><input type="checkbox" id="c-42775495" checked=""/><div class="controls bullet"><span class="by">greatgib</span><span>|</span><a href="#42775543">prev</a><span>|</span><label class="collapse" for="c-42775495">[-]</label><label class="expand" for="c-42775495">[18 more]</label></div><br/><div class="children"><div class="content">So much marketing coolaid&#x2F;bullshit.<p>I&#x27;m not that fan of Ruff because to me it doesn&#x27;t make any sense to add a rust dependency to &quot;python&quot; and it blows my mind that people are so keen to accept the ugly formatting inherited from Black just because &quot;it gives consistency to the team, so I don&#x27;t have to think, and we don&#x27;t have to discuss code style&quot;...<p>But all of that personal opinion set aside, what triggers my initial statement is that so many persons are so excited to run to use Ruff because... &quot;It is so fast&quot;... when I&#x27;m quite sure most of them would never notice any real speed  difference with their modest codebase.<p>In almost all the codebases I have seen, proprietary and OSS, pylint or any other linter was quasi-instant. There are probably a few huge codebases that would see a speed benefit of a few seconds to use Ruff, but their owner would probably better have a look at their code to understand how their reached such a monster!</div><br/><div id="42775513" class="c"><input type="checkbox" id="c-42775513" checked=""/><div class="controls bullet"><span class="by">Terretta</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42775569">next</a><span>|</span><label class="collapse" for="c-42775513">[-]</label><label class="expand" for="c-42775513">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>quite sure most of them would never notice any real speed difference with their modest codebase</i><p>On the contrary, within only a year or so of coding by a small team, this ecosystem takes single digit seconds or less, while the traditional tools are taking minutes and more.<p>Particularly in analytics or scientific computing we&#x27;ve seen minutes versus under a second.<p>Having the tools <i>not</i> require additional&#x2F;parallel Python dependency management is a plus.<p>Note that we watched these tools for a long time, and jumped in when rye converged with uv.  It was promising to see <i>fewer</i> ways to do it.<p>&#x2F;&#x2F; More on that here: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41309072">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41309072</a></div><br/></div></div><div id="42775569" class="c"><input type="checkbox" id="c-42775569" checked=""/><div class="controls bullet"><span class="by">ak217</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42775513">prev</a><span>|</span><a href="#42777569">next</a><span>|</span><label class="collapse" for="c-42775569">[-]</label><label class="expand" for="c-42775569">[9 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know what kinds of codebases you&#x27;ve worked with, but I can tell you that pylint is so far from instant, it became the longest running CI job in multiple reasonably sized codebases I&#x27;ve worked with. Think tens of minutes. Other linters were not much better, until ruff came along. But that&#x27;s far from the only advantage that ruff brings.<p>There are other issues with what you said, but the biggest one is: you have some strongly worded criticism for a project that has set a new bar for usability and consistency in Python code quality tooling. These tools are developed by humans like you and distributed to you for free with no obligation to use them. No matter how I look at your comment, I don&#x27;t see how it&#x27;s helping.</div><br/><div id="42777581" class="c"><input type="checkbox" id="c-42777581" checked=""/><div class="controls bullet"><span class="by">greatgib</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775569">parent</a><span>|</span><a href="#42775738">next</a><span>|</span><label class="collapse" for="c-42777581">[-]</label><label class="expand" for="c-42777581">[1 more]</label></div><br/><div class="children"><div class="content">Can you tell us a little bit more about your codebase? I&#x27;m curious. Because for it to take tens of minutes, something should be crazy over there.</div><br/></div></div><div id="42775738" class="c"><input type="checkbox" id="c-42775738" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775569">parent</a><span>|</span><a href="#42777581">prev</a><span>|</span><a href="#42777569">next</a><span>|</span><label class="collapse" for="c-42775738">[-]</label><label class="expand" for="c-42775738">[7 more]</label></div><br/><div class="children"><div class="content">I&#x27;m confused: why are you linting code in CI, rather than as a precommit hook?</div><br/><div id="42775795" class="c"><input type="checkbox" id="c-42775795" checked=""/><div class="controls bullet"><span class="by">ak217</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775738">parent</a><span>|</span><a href="#42777647">next</a><span>|</span><label class="collapse" for="c-42775795">[-]</label><label class="expand" for="c-42775795">[2 more]</label></div><br/><div class="children"><div class="content">Pre-commit hooks are great in small, focused codebases with small, homogeneous teams. In large monorepos with lots of different teams committing, it&#x27;s impossible to guarantee any kind of consistency in which pre-commit hooks get run, so you need CI to actually enforce the consistency or you&#x27;ll spend all your time chasing (accidental) violations.</div><br/><div id="42777081" class="c"><input type="checkbox" id="c-42777081" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775795">parent</a><span>|</span><a href="#42777647">next</a><span>|</span><label class="collapse" for="c-42777081">[-]</label><label class="expand" for="c-42777081">[1 more]</label></div><br/><div class="children"><div class="content">... am I the only one who figures that linting would logically be a very low priority in those circumstances?</div><br/></div></div></div></div><div id="42777647" class="c"><input type="checkbox" id="c-42777647" checked=""/><div class="controls bullet"><span class="by">wiredfool</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775738">parent</a><span>|</span><a href="#42775795">prev</a><span>|</span><a href="#42776227">next</a><span>|</span><label class="collapse" for="c-42777647">[-]</label><label class="expand" for="c-42777647">[1 more]</label></div><br/><div class="children"><div class="content">Because commits should be small and fast, and always work, like a save. If you’re running a multi second process during commit it’s going to get ripped out.</div><br/></div></div><div id="42776227" class="c"><input type="checkbox" id="c-42776227" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775738">parent</a><span>|</span><a href="#42777647">prev</a><span>|</span><a href="#42776442">next</a><span>|</span><label class="collapse" for="c-42776227">[-]</label><label class="expand" for="c-42776227">[1 more]</label></div><br/><div class="children"><div class="content">Because devs can disable precommit hooks much more easily than they can work around CO.<p>I see precommit hooks as where you avoid the low-hanging fruit, like “is this code actually parsable?”</div><br/></div></div><div id="42776442" class="c"><input type="checkbox" id="c-42776442" checked=""/><div class="controls bullet"><span class="by">sunshowers</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775738">parent</a><span>|</span><a href="#42776227">prev</a><span>|</span><a href="#42777569">next</a><span>|</span><label class="collapse" for="c-42776442">[-]</label><label class="expand" for="c-42776442">[2 more]</label></div><br/><div class="children"><div class="content">Well, for one, I use Jujutsu, where commits happen every time you run jj status and traditional notions of pre-commit hooks don&#x27;t really apply. But also, I think (as a matter of principle) nothing should get in the way of performing commits or amends.</div><br/><div id="42777749" class="c"><input type="checkbox" id="c-42777749" checked=""/><div class="controls bullet"><span class="by">goku12</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42776442">parent</a><span>|</span><a href="#42777569">next</a><span>|</span><label class="collapse" for="c-42777749">[-]</label><label class="expand" for="c-42777749">[1 more]</label></div><br/><div class="children"><div class="content">Depends on what you&#x27;re trying to achieve. Jobs like lint checks should ideally be pre-push checks so that the long process doesn&#x27;t get in the way of commits. But very fast and small checks like warning about trailing whitespaces or ensuring a newline at the end of the file can be done during every commit (even if it was in jujutsu). I would rather not wait till the end to find out. And of course, there are ways to temporarily or permanently disable one or more checks when you absolutely need it.</div><br/></div></div></div></div></div></div></div></div><div id="42777569" class="c"><input type="checkbox" id="c-42777569" checked=""/><div class="controls bullet"><span class="by">optionalsquid</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42775569">prev</a><span>|</span><a href="#42775534">next</a><span>|</span><label class="collapse" for="c-42777569">[-]</label><label class="expand" for="c-42777569">[1 more]</label></div><br/><div class="children"><div class="content">&gt; But all of that personal opinion set aside, what triggers my initial statement is that so many persons are so excited to run to use Ruff because... &quot;It is so fast&quot;... when I&#x27;m quite sure most of them would never notice any real speed difference with their modest codebase.<p>I work on a fairly modest code base (22k lines of python according to sloccount), and I&#x27;m seeing a significant decrease in runtime between `pylint src&#x2F; tests&#x2F;` with default parameters and `ruff check src&#x2F; tests&#x2F;` with the majority of checks enabled. More specifically, I&#x27;m seeing a decrease from 18 second to less than a tenth of a second with a hot FS and having deleted the ruff cache between runs.</div><br/></div></div><div id="42775534" class="c"><input type="checkbox" id="c-42775534" checked=""/><div class="controls bullet"><span class="by">rmwaite</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42777569">prev</a><span>|</span><a href="#42775524">next</a><span>|</span><label class="collapse" for="c-42775534">[-]</label><label class="expand" for="c-42775534">[3 more]</label></div><br/><div class="children"><div class="content">I have issues with some of Black’s formatting decisions but I’ve also suffered from inconsistent formatting and there is no question in my mind that consistent formatting that I find ugly sometimes is 1000% better than the alternative. And after so many years of dealing with it it’s so refreshing to just “give up” and let the formatter win.</div><br/><div id="42776260" class="c"><input type="checkbox" id="c-42776260" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42775534">parent</a><span>|</span><a href="#42775524">next</a><span>|</span><label class="collapse" for="c-42776260">[-]</label><label class="expand" for="c-42776260">[2 more]</label></div><br/><div class="children"><div class="content">Same here. I appreciate that Black annoyed everyone on our team about the same amount but in different ways. From the instant we added it, stupid style arguments completely disappeared.<p>Know what I care about more than Black making my own code look less pretty? It making my coworker’s code look less horrid. (And funnily, I’m certain everyone on the team thinks exactly that same thing.)</div><br/><div id="42776959" class="c"><input type="checkbox" id="c-42776959" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#42775495">root</a><span>|</span><a href="#42776260">parent</a><span>|</span><a href="#42775524">next</a><span>|</span><label class="collapse" for="c-42776959">[-]</label><label class="expand" for="c-42776959">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I appreciate that Black annoyed everyone on our team about the same amount but in different ways.<p>If it did affect people equally, it would be great. Unfortunately, spaces for indentation is an accessibility issue and the Black maintainers are hostile to making this configurable. Normally I am in agreement about minimising configurability, but this isn’t a matter of taste, it is making the Python ecosystem more difficult for some disabled people to participate in.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;psf&#x2F;black&#x2F;issues&#x2F;2798">https:&#x2F;&#x2F;github.com&#x2F;psf&#x2F;black&#x2F;issues&#x2F;2798</a><p>Fortunately, Ruff makes this configurable, so you don’t have to choose between autoformatting and accessibility any more.</div><br/></div></div></div></div></div></div><div id="42775524" class="c"><input type="checkbox" id="c-42775524" checked=""/><div class="controls bullet"><span class="by">sunshowers</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42775534">prev</a><span>|</span><a href="#42775654">next</a><span>|</span><label class="collapse" for="c-42775524">[-]</label><label class="expand" for="c-42775524">[1 more]</label></div><br/><div class="children"><div class="content">Personally, I think excellence is a virtue in tooling in and of itself. The Python world just hasn&#x27;t experienced this kind of excellence before.</div><br/></div></div><div id="42775654" class="c"><input type="checkbox" id="c-42775654" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42775524">prev</a><span>|</span><a href="#42775542">next</a><span>|</span><label class="collapse" for="c-42775654">[-]</label><label class="expand" for="c-42775654">[1 more]</label></div><br/><div class="children"><div class="content">I like that it&#x27;s fast, and it <i>is</i> noticeably faster for even moderately sized codebases.<p>But the main thing I like about ruff is that it is a single tool with consistent configuration, as opposed to a combination of several different tools for formatting and linting that each have their own special way of configuring them and marking exceptions to lint rules.</div><br/></div></div><div id="42775542" class="c"><input type="checkbox" id="c-42775542" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#42775495">parent</a><span>|</span><a href="#42775654">prev</a><span>|</span><label class="collapse" for="c-42775542">[-]</label><label class="expand" for="c-42775542">[1 more]</label></div><br/><div class="children"><div class="content">Doesn’t Black mostly stick to PEP-8 style? What rules do you consider ugly?</div><br/></div></div></div></div></div></div></div></div></div></body></html>