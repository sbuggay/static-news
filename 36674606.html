<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689066068329" as="style"/><link rel="stylesheet" href="styles.css?v=1689066068329"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://hacks.mozilla.org/2023/03/letting-users-block-injected-third-party-dlls-in-firefox/">Letting users block injected third-party DLLs in Firefox</a>Â <span class="domain">(<a href="https://hacks.mozilla.org">hacks.mozilla.org</a>)</span></div><div class="subtext"><span>nateb2022</span> | <span>20 comments</span></div><br/><div><div id="36675652" class="c"><input type="checkbox" id="c-36675652" checked=""/><div class="controls bullet"><span class="by">jacoblambda</span><span>|</span><a href="#36676467">next</a><span>|</span><label class="collapse" for="c-36675652">[-]</label><label class="expand" for="c-36675652">[8 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be curious whether the DLLs for graphics drivers count as 3rd party or not as the only non-windows DLLs I saw on my `about:third-party` page were nvwgf2umx.dll and nvldumdx.dll which are both part of Nvidia&#x27;s gpu drivers (presumably for hardware acceleration).</div><br/><div id="36676598" class="c"><input type="checkbox" id="c-36676598" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#36675652">parent</a><span>|</span><a href="#36677298">next</a><span>|</span><label class="collapse" for="c-36676598">[-]</label><label class="expand" for="c-36676598">[6 more]</label></div><br/><div class="children"><div class="content">I also see Intel IGD and AMD stuff in the list on my machine. According to the article, they are considered to be 3rd party libraries: &quot;other uses include hardware drivers&quot; and &quot;any DLL not digitally signed by Mozilla or part of the OS&quot; are the relevant quotes.</div><br/><div id="36676818" class="c"><input type="checkbox" id="c-36676818" checked=""/><div class="controls bullet"><span class="by">DiabloD3</span><span>|</span><a href="#36675652">root</a><span>|</span><a href="#36676598">parent</a><span>|</span><a href="#36677298">next</a><span>|</span><label class="collapse" for="c-36676818">[-]</label><label class="expand" for="c-36676818">[5 more]</label></div><br/><div class="children"><div class="content">So why are AMD, Intel, and Nvidia shipping improperly designed DLLs as part of their drivers? That&#x27;s a larger red flag than anything involving Firefox.<p>I know some people consider proper binary signing difficult on Windows and find the UAC prompts annoying, but those are multi-billion dollar companies, I&#x27;m pretty sure they can figure it out.<p>If anything, <i>Firefox</i> shouldn&#x27;t be the one doing this, <i>Windows itself</i> should be preventing loading of unsigned&#x2F;improperly signed DLLs without a UAC prompt.</div><br/><div id="36678201" class="c"><input type="checkbox" id="c-36678201" checked=""/><div class="controls bullet"><span class="by">pjc50</span><span>|</span><a href="#36675652">root</a><span>|</span><a href="#36676818">parent</a><span>|</span><a href="#36676990">next</a><span>|</span><label class="collapse" for="c-36678201">[-]</label><label class="expand" for="c-36678201">[1 more]</label></div><br/><div class="children"><div class="content">&gt; why are AMD, Intel, and Nvidia shipping improperly designed DLLs as part of their drivers?<p>Nvidia are notoriously .. not good, but a substantial part of the 3D API runs client-side userspace, and a substantial part of the huge NVIDIA &quot;geforce experience&quot; is a set of <i>game-specific</i> patches, because NVIDIA have their own opinions on how to optimise for framerate.<p>It also provides a whole bunch of features! There&#x27;s an entire overlay screen you can bring up with screenshot&#x2F;video recording options, camera effects for screenshots, etc.<p>(also top tip even if you don&#x27;t have NVIDIA - try pressing Win-G in random applications to see if they count as &quot;games&quot; which will let you use the DirectX screen recorder provided by Windows)<p>&gt; Windows itself should be preventing loading of unsigned&#x2F;improperly signed DLLs without a UAC prompt.<p>That&#x27;s the &quot;UAP&quot; model and its successor, which provide mobile-like actual app isolation. Otherwise you (or rather, processes running as your user account or above) can generally just inject at runtime any DLL into any process.</div><br/></div></div><div id="36677425" class="c"><input type="checkbox" id="c-36677425" checked=""/><div class="controls bullet"><span class="by">formerly_proven</span><span>|</span><a href="#36675652">root</a><span>|</span><a href="#36676818">parent</a><span>|</span><a href="#36676990">prev</a><span>|</span><a href="#36677232">next</a><span>|</span><label class="collapse" for="c-36677425">[-]</label><label class="expand" for="c-36677425">[1 more]</label></div><br/><div class="children"><div class="content">&gt; So why are AMD, Intel, and Nvidia shipping improperly designed DLLs as part of their drivers? That&#x27;s a larger red flag than anything involving Firefox.<p>What do you mean by &quot;improperly designed DLLs&quot;? The presence of these is totally normal because most of the graphics drivers are implemented in user-mode and loaded into whatever process uses Direct3D or another graphics API. If you block these, you won&#x27;t be able to use 3D APIs.</div><br/></div></div><div id="36677232" class="c"><input type="checkbox" id="c-36677232" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#36675652">root</a><span>|</span><a href="#36676818">parent</a><span>|</span><a href="#36677425">prev</a><span>|</span><a href="#36677298">next</a><span>|</span><label class="collapse" for="c-36677232">[-]</label><label class="expand" for="c-36677232">[1 more]</label></div><br/><div class="children"><div class="content">Windows already blocks installation and execution of drivers that aren&#x27;t signed by Microsoft under their WHQL[1] program. You can turn the blocking off, but that&#x27;s a deliberate choice made as a sysadmin or power user.<p>Drivers from Intel&#x2F;Nvidia&#x2F;AMD are signed by Microsoft, WHQL certified, and are not part of Windows, so as far as Mozilla is concerned they are third-party drivers.<p>[1]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows-hardware&#x2F;drivers&#x2F;install&#x2F;whql-release-signature" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows-hardware&#x2F;drivers&#x2F;i...</a></div><br/></div></div></div></div></div></div><div id="36677298" class="c"><input type="checkbox" id="c-36677298" checked=""/><div class="controls bullet"><span class="by">tallanvor</span><span>|</span><a href="#36675652">parent</a><span>|</span><a href="#36676598">prev</a><span>|</span><a href="#36676467">next</a><span>|</span><label class="collapse" for="c-36677298">[-]</label><label class="expand" for="c-36677298">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious what is causing them to be loaded - on my system Firefox shows that no 3rd party DLLs have been injected.</div><br/></div></div></div></div><div id="36676467" class="c"><input type="checkbox" id="c-36676467" checked=""/><div class="controls bullet"><span class="by">krackers</span><span>|</span><a href="#36675652">prev</a><span>|</span><a href="#36676024">next</a><span>|</span><label class="collapse" for="c-36676467">[-]</label><label class="expand" for="c-36676467">[1 more]</label></div><br/><div class="children"><div class="content">On OSX, Chromium used to do something similar before hardened runtime became a thing:<p><a href="https:&#x2F;&#x2F;chromium.googlesource.com&#x2F;chromium&#x2F;src&#x2F;+&#x2F;578c7a852a4ecd586d46c6ba42ef8c77430d435e&#x2F;chrome&#x2F;common&#x2F;mac&#x2F;cfbundle_blocker.mm" rel="nofollow noreferrer">https:&#x2F;&#x2F;chromium.googlesource.com&#x2F;chromium&#x2F;src&#x2F;+&#x2F;578c7a852a4...</a></div><br/></div></div><div id="36676515" class="c"><input type="checkbox" id="c-36676515" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#36676024">prev</a><span>|</span><label class="collapse" for="c-36676515">[-]</label><label class="expand" for="c-36676515">[9 more]</label></div><br/><div class="children"><div class="content">Should Mozilla (or any other group) get to decide what I can or cannot do to a process running on my hardware, even if it originated from them? Things like this make me feel uneasy because it seems to be sitting on the edge of a slippery slope.<p>Another example of these &quot;silently user-hostile&quot; applications is VirtualBox; it spawns multiple processes in a similar way, and even resists attempts to debug it if it&#x27;s already running. I remember being incensed enough by it complaining about my --- patched to make the OS work for <i>me</i> and no others --- system DLLs not matching its internal whitelist and not starting, but not after I exercised the same skills to patch out those checks in it.</div><br/><div id="36678070" class="c"><input type="checkbox" id="c-36678070" checked=""/><div class="controls bullet"><span class="by">TheBrokenRail</span><span>|</span><a href="#36676515">parent</a><span>|</span><a href="#36676645">next</a><span>|</span><label class="collapse" for="c-36678070">[-]</label><label class="expand" for="c-36678070">[1 more]</label></div><br/><div class="children"><div class="content">This is really minor compared to other parts of Firefox. Notably, Firefox requires all extensions to be signed by Mozilla.<p>And the only way to turn that restriction off, is to either use Firefox Nightly or Firefox Developer Edition (which is a beta). If you want to use stable Firefox, because you like having a stable web browser, you just can&#x27;t turn the restriction off. Period. The closest thing you can do is installing it as a &quot;temporary extension&quot; which uninstalls itself when the browser restarts.<p>It&#x27;s kind of ridiculous that the default browser of most Linux distros has a Apple-esque mentality of &quot;we get to tell you what you&#x27;re allowed to install.&quot;</div><br/></div></div><div id="36676645" class="c"><input type="checkbox" id="c-36676645" checked=""/><div class="controls bullet"><span class="by">CJefferson</span><span>|</span><a href="#36676515">parent</a><span>|</span><a href="#36678070">prev</a><span>|</span><a href="#36676574">next</a><span>|</span><label class="collapse" for="c-36676645">[-]</label><label class="expand" for="c-36676645">[5 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand how you can be so negative.<p>The title literally says it is giving <i>users</i> that power. This is empowering you, by giving you the ability to see which DLLs are being injected into Firefox.<p>They do block some by default, certainly, but only ones which in practice just crash Firefox (often because they are old).</div><br/><div id="36676668" class="c"><input type="checkbox" id="c-36676668" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#36676515">root</a><span>|</span><a href="#36676645">parent</a><span>|</span><a href="#36677397">next</a><span>|</span><label class="collapse" for="c-36676668">[-]</label><label class="expand" for="c-36676668">[3 more]</label></div><br/><div class="children"><div class="content">To need to be &quot;giving&quot; something that should be, for lack of better phrasing, a given, is not a good sign.<p><i>They do block some by default, certainly, but only ones which in practice just crash Firefox (often because they are old).</i><p>Is there a way to unblock them as easily as blocking them?</div><br/><div id="36677210" class="c"><input type="checkbox" id="c-36677210" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#36676515">root</a><span>|</span><a href="#36676668">parent</a><span>|</span><a href="#36676715">next</a><span>|</span><label class="collapse" for="c-36677210">[-]</label><label class="expand" for="c-36677210">[1 more]</label></div><br/><div class="children"><div class="content">Yeah it should be a given that you have control over this.  <i>Blame your OS for the fact that you don&#x27;t have it by default.</i>  It doesn&#x27;t make any sense to get mad at firefox for implementing this.  They&#x27;re not interfering with your control.  If they did nothing, you would have no control.</div><br/></div></div><div id="36676715" class="c"><input type="checkbox" id="c-36676715" checked=""/><div class="controls bullet"><span class="by">drdaeman</span><span>|</span><a href="#36676515">root</a><span>|</span><a href="#36676668">parent</a><span>|</span><a href="#36677210">prev</a><span>|</span><a href="#36677397">next</a><span>|</span><label class="collapse" for="c-36676715">[-]</label><label class="expand" for="c-36676715">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t test this, but I suppose it should be as easy as going to about:third-party and clicking a button next to a blocked entry. Probably preemptively learning about how to reset this if Firefox won&#x27;t start anymore.<p>As long as it&#x27;s all end user-controlled, I suppose the only issue is awareness that this feature exists and how it&#x27;s controlled (this is the first time I&#x27;ve read about it).<p>Also, it feels somewhat weird to have this function in an application rather than at the OS level (or as a independent process firewall application) - but I suppose this is fine.</div><br/></div></div></div></div><div id="36677397" class="c"><input type="checkbox" id="c-36677397" checked=""/><div class="controls bullet"><span class="by">nubinetwork</span><span>|</span><a href="#36676515">root</a><span>|</span><a href="#36676645">parent</a><span>|</span><a href="#36676668">prev</a><span>|</span><a href="#36676574">next</a><span>|</span><label class="collapse" for="c-36677397">[-]</label><label class="expand" for="c-36677397">[1 more]</label></div><br/><div class="children"><div class="content">That would imply I had the choice to begin with.  On my work PC, they inject various plugins to enforce security policy.  I imagine if I tried to circumvent that, the security software would just terminate the browser entirely.  Not going to try, it&#x27;s not worth it for me.</div><br/></div></div></div></div><div id="36676574" class="c"><input type="checkbox" id="c-36676574" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#36676515">parent</a><span>|</span><a href="#36676645">prev</a><span>|</span><a href="#36676839">next</a><span>|</span><label class="collapse" for="c-36676574">[-]</label><label class="expand" for="c-36676574">[1 more]</label></div><br/><div class="children"><div class="content">It looks like you get to decide which DLL can stay and which one will be blocked from loading. When do you expect the shiny ball of control to be taken away from users?</div><br/></div></div><div id="36676839" class="c"><input type="checkbox" id="c-36676839" checked=""/><div class="controls bullet"><span class="by">nitwit005</span><span>|</span><a href="#36676515">parent</a><span>|</span><a href="#36676574">prev</a><span>|</span><label class="collapse" for="c-36676839">[-]</label><label class="expand" for="c-36676839">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s open source software. Comment out the whole feature if you want.</div><br/></div></div></div></div></div></div></div></div></div></body></html>