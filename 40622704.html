<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1718010073828" as="style"/><link rel="stylesheet" href="styles.css?v=1718010073828"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/piku/piku">Piku: Allows git push deployments to your own servers</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>tosh</span> | <span>142 comments</span></div><br/><div><div id="40623642" class="c"><input type="checkbox" id="c-40623642" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#40624136">next</a><span>|</span><label class="collapse" for="c-40623642">[-]</label><label class="expand" for="c-40623642">[14 more]</label></div><br/><div class="children"><div class="content">I love piku. I wrote a webapp tutorial for piku which got turned into a repo as part of the official GitHub piku org. You can find that here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;piku&#x2F;webapp-tutorial?tab=readme-ov-file#build-a-web-app-fast-with-piku">https:&#x2F;&#x2F;github.com&#x2F;piku&#x2F;webapp-tutorial?tab=readme-ov-file#b...</a><p>It explains how piku works under the hood, as well as showing a minimalistic Python web app example from a user standpoint.</div><br/><div id="40625339" class="c"><input type="checkbox" id="c-40625339" checked=""/><div class="controls bullet"><span class="by">yodon</span><span>|</span><a href="#40623642">parent</a><span>|</span><a href="#40623846">next</a><span>|</span><label class="collapse" for="c-40625339">[-]</label><label class="expand" for="c-40625339">[3 more]</label></div><br/><div class="children"><div class="content">The new piku docs are pretty but, as a potential new user very interested in trying piku, the new docs are completely useless to me. I gave up on piku because the docs essentially assume I already know everything I need to know to run and use piku. Your doc fixes that, but I never found your doc even after spending quite a bit of time trying to figure out how and whether I could use piku. I never would have known it existed without your comment here.<p>At a minimum, your doc should be prominently linked to from both the piku repo and the piku docs (or more prominently linked, if it&#x27;s already linked somewhere), if not pulled completely into the docs home page.<p>That said, if you&#x27;re interested in a suggestion, take a look at an end-to-end coolio tutorial that shows how to go from new bare metal server to publicly accessible custom domain name with SSL cert, and add the extra steps to your doc (even though yes, they have nothing directly to do with piku, because they have everything to do with what a potential new user actually wants to do and the potential new user doesn&#x27;t know how to do those steps yet even though you do).<p>Your doc is already hundreds of times more useful than the main piku docs page. Extending your doc to cover an example of how to get to exposing a publicly accessible custom domain with SSL cert would make your doc hundreds of times more useful than it is now. Yes, I know, there are a ton of ways to get from where your doc ends to a publicly available custom domain with SSL cert. Pick one. It doesn&#x27;t matter what you pick. The person who cares which approach you use already knows how to do the approach they prefer. You&#x27;re adding these steps for the person who doesn&#x27;t know how to do any of the anpproaches and just wants to get to their site hosted on a $5 droplet or whatever.<p>Again, your page is a huge help, this suggestion is just about making your page a huger help.<p>For reference, here&#x27;s a sample coolio end-to-end example showing how they go from bare metal to publicly accessible custom domain with SSL:<p><a href="https:&#x2F;&#x2F;billyle.dev&#x2F;posts&#x2F;self-hosting-your-website-with-coolify-v4-a-step-by-step-guide" rel="nofollow">https:&#x2F;&#x2F;billyle.dev&#x2F;posts&#x2F;self-hosting-your-website-with-coo...</a><p>The goal of all this isn&#x27;t about making it possible to do things, it&#x27;s about massively increasing the number of people who adopt piku by making it easier for more people to do so.</div><br/><div id="40626022" class="c"><input type="checkbox" id="c-40626022" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40625339">parent</a><span>|</span><a href="#40629406">next</a><span>|</span><label class="collapse" for="c-40626022">[-]</label><label class="expand" for="c-40626022">[1 more]</label></div><br/><div class="children"><div class="content">Acknowledged. The tutorial is linked someplace deeper in the docs, but I am adding a direct link to it in the docs home page. Should be up in a little while.</div><br/></div></div><div id="40629406" class="c"><input type="checkbox" id="c-40629406" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40625339">parent</a><span>|</span><a href="#40626022">prev</a><span>|</span><a href="#40623846">next</a><span>|</span><label class="collapse" for="c-40629406">[-]</label><label class="expand" for="c-40629406">[1 more]</label></div><br/><div class="children"><div class="content">I like your suggestions. I haven&#x27;t looked at this tutorial in awhile but I have an occasion to do so coming up, so I&#x27;ll keep your feedback in mind for a revision.</div><br/></div></div></div></div><div id="40623846" class="c"><input type="checkbox" id="c-40623846" checked=""/><div class="controls bullet"><span class="by">rc_kas</span><span>|</span><a href="#40623642">parent</a><span>|</span><a href="#40625339">prev</a><span>|</span><a href="#40624558">next</a><span>|</span><label class="collapse" for="c-40623846">[-]</label><label class="expand" for="c-40623846">[4 more]</label></div><br/><div class="children"><div class="content">&quot;What is a Heroku-style deploy?&quot;<p>thanks for that. I have no idea what heroku is or does.</div><br/><div id="40623915" class="c"><input type="checkbox" id="c-40623915" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40623846">parent</a><span>|</span><a href="#40626121">next</a><span>|</span><label class="collapse" for="c-40623915">[-]</label><label class="expand" for="c-40623915">[1 more]</label></div><br/><div class="children"><div class="content">Sure thing! Bit of cloud computing history. Covered a bit here:<p><a href="https:&#x2F;&#x2F;leerob.io&#x2F;blog&#x2F;heroku" rel="nofollow">https:&#x2F;&#x2F;leerob.io&#x2F;blog&#x2F;heroku</a></div><br/></div></div><div id="40626121" class="c"><input type="checkbox" id="c-40626121" checked=""/><div class="controls bullet"><span class="by">jslakro</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40623846">parent</a><span>|</span><a href="#40623915">prev</a><span>|</span><a href="#40627338">next</a><span>|</span><label class="collapse" for="c-40626121">[-]</label><label class="expand" for="c-40626121">[1 more]</label></div><br/><div class="children"><div class="content">Basically it was the first PaaS to improve the developer experience when working with server infrastructure. It had git integration and allowed to scale easily your apps from a CLI</div><br/></div></div><div id="40627338" class="c"><input type="checkbox" id="c-40627338" checked=""/><div class="controls bullet"><span class="by">brightball</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40623846">parent</a><span>|</span><a href="#40626121">prev</a><span>|</span><a href="#40624558">next</a><span>|</span><label class="collapse" for="c-40627338">[-]</label><label class="expand" for="c-40627338">[1 more]</label></div><br/><div class="children"><div class="content">Short version:<p>Git push deployment where it detects your stack and automatically builds, then deploys with zero downtime.</div><br/></div></div></div></div><div id="40624558" class="c"><input type="checkbox" id="c-40624558" checked=""/><div class="controls bullet"><span class="by">sesm</span><span>|</span><a href="#40623642">parent</a><span>|</span><a href="#40623846">prev</a><span>|</span><a href="#40626124">next</a><span>|</span><label class="collapse" for="c-40624558">[-]</label><label class="expand" for="c-40624558">[5 more]</label></div><br/><div class="children"><div class="content">Thanks for the explanation, official repo doesn&#x27;t make it clear enough for me.<p>So, did I understand correctly, that Pico installs both an agent on the remote machine and a commit hook on the local machine? Why didn&#x27;t they minimize the overhead by just making the remote machine a Git remote and do all the work there when you push a specific branch to that remote?</div><br/><div id="40624720" class="c"><input type="checkbox" id="c-40624720" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40624558">parent</a><span>|</span><a href="#40624653">next</a><span>|</span><label class="collapse" for="c-40624720">[-]</label><label class="expand" for="c-40624720">[2 more]</label></div><br/><div class="children"><div class="content">You’re confusing things, there is only the remote, the local machine doesn’t need anything. We do have a simple CLI you can run locally, but all it does is ssh remote &lt;command&gt; to scale up&#x2F;down workers, change settings, etc.</div><br/><div id="40625195" class="c"><input type="checkbox" id="c-40625195" checked=""/><div class="controls bullet"><span class="by">sesm</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40624720">parent</a><span>|</span><a href="#40624653">next</a><span>|</span><label class="collapse" for="c-40625195">[-]</label><label class="expand" for="c-40625195">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for clarifying!</div><br/></div></div></div></div><div id="40624653" class="c"><input type="checkbox" id="c-40624653" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40624558">parent</a><span>|</span><a href="#40624720">prev</a><span>|</span><a href="#40626124">next</a><span>|</span><label class="collapse" for="c-40624653">[-]</label><label class="expand" for="c-40624653">[2 more]</label></div><br/><div class="children"><div class="content">piku installs an agent on the remote machine (piku.py) which itself also provides the support for making that machine a git remote.<p>There is no commit hook on the local machine. On the local machine, you simply have a shim named &quot;piku&quot; which is essentially running &quot;ssh remote &#x2F;path&#x2F;to&#x2F;piku.py $@&quot; to control the remote machine.</div><br/><div id="40625193" class="c"><input type="checkbox" id="c-40625193" checked=""/><div class="controls bullet"><span class="by">sesm</span><span>|</span><a href="#40623642">root</a><span>|</span><a href="#40624653">parent</a><span>|</span><a href="#40626124">next</a><span>|</span><label class="collapse" for="c-40625193">[-]</label><label class="expand" for="c-40625193">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for clarifying!</div><br/></div></div></div></div></div></div><div id="40626124" class="c"><input type="checkbox" id="c-40626124" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623642">parent</a><span>|</span><a href="#40624558">prev</a><span>|</span><a href="#40624136">next</a><span>|</span><label class="collapse" for="c-40626124">[-]</label><label class="expand" for="c-40626124">[1 more]</label></div><br/><div class="children"><div class="content">This is now linked from the docs home page.</div><br/></div></div></div></div><div id="40624136" class="c"><input type="checkbox" id="c-40624136" checked=""/><div class="controls bullet"><span class="by">p-o</span><span>|</span><a href="#40623642">prev</a><span>|</span><a href="#40622947">next</a><span>|</span><label class="collapse" for="c-40624136">[-]</label><label class="expand" for="c-40624136">[7 more]</label></div><br/><div class="children"><div class="content">First time I read about piku. I have no idea why, but the feeling of `git push` to initiate a deployment like piku does always felt magical to me. There&#x27;s nothing simpler than that.<p>This is timely for me as well as I just open sourced (yesterday!) a project that is in the same space, but for Kubernetes (<a href="https:&#x2F;&#x2F;github.com&#x2F;pier-oliviert&#x2F;sequencer">https:&#x2F;&#x2F;github.com&#x2F;pier-oliviert&#x2F;sequencer</a>).<p>All of this to say, congrats! It looks great.</div><br/><div id="40624467" class="c"><input type="checkbox" id="c-40624467" checked=""/><div class="controls bullet"><span class="by">myaccountonhn</span><span>|</span><a href="#40624136">parent</a><span>|</span><a href="#40624180">next</a><span>|</span><label class="collapse" for="c-40624467">[-]</label><label class="expand" for="c-40624467">[5 more]</label></div><br/><div class="children"><div class="content">It works like magic, but it&#x27;s also extremely simple to DIY if you wanna learn.<p>If you set up a server, you can create a git repo by just doing `git init --bare`, add the setting `git config receive.denyCurrentBranch updateInstead`.<p>After that you can use git hooks (more specifically push-to-checkout hook), to receive uploads, compile and launch. The hook will just be a simple shell script, the most basic version could be a variant of `compile &amp;&amp; install &amp;&amp; systemctl restart service`.<p>From there you&#x27;ll be able to copy the repo locally and pushing your changes will now trigger the hook you&#x27;ve setup.<p>git clone root@yourserver.com:&#x2F;path&#x2F;to&#x2F;git&#x2F;folder</div><br/><div id="40624549" class="c"><input type="checkbox" id="c-40624549" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40624136">root</a><span>|</span><a href="#40624467">parent</a><span>|</span><a href="#40625375">next</a><span>|</span><label class="collapse" for="c-40624549">[-]</label><label class="expand" for="c-40624549">[2 more]</label></div><br/><div class="children"><div class="content">You just described Piku, except that it’s a Python script that also sets up nginx and a process supervisor for your code :)</div><br/><div id="40624594" class="c"><input type="checkbox" id="c-40624594" checked=""/><div class="controls bullet"><span class="by">myaccountonhn</span><span>|</span><a href="#40624136">root</a><span>|</span><a href="#40624549">parent</a><span>|</span><a href="#40625375">next</a><span>|</span><label class="collapse" for="c-40624594">[-]</label><label class="expand" for="c-40624594">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I love the simplicity of Piku, being able to actually understand what is happening behind the scenes is a great quality. :)</div><br/></div></div></div></div><div id="40625375" class="c"><input type="checkbox" id="c-40625375" checked=""/><div class="controls bullet"><span class="by">tasuki</span><span>|</span><a href="#40624136">root</a><span>|</span><a href="#40624467">parent</a><span>|</span><a href="#40624549">prev</a><span>|</span><a href="#40624180">next</a><span>|</span><label class="collapse" for="c-40625375">[-]</label><label class="expand" for="c-40625375">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been doing almost exactly this. Have set up Ansible to automate it.<p>Why would I want to use Piku? Would it give me some benefits I currently don&#x27;t have?</div><br/><div id="40631307" class="c"><input type="checkbox" id="c-40631307" checked=""/><div class="controls bullet"><span class="by">gasparto</span><span>|</span><a href="#40624136">root</a><span>|</span><a href="#40625375">parent</a><span>|</span><a href="#40624180">next</a><span>|</span><label class="collapse" for="c-40631307">[-]</label><label class="expand" for="c-40631307">[1 more]</label></div><br/><div class="children"><div class="content">I guess the benefit of piku comes with the ease of use for developers who don&#x27;t know lots about system administration&#x2F;infrastructure.<p>Spinning up a server and installing a repo on it is easy.
Depends on your use case and on what you know&#x2F;have.<p>I prefer ansible or jenkins+scp-build-to-server+run-deploy.script<p>I added it to my tools list in case i need sth quick&#x27;n working for a small team&#x2F;to recommend when there&#x27;s no ansible&#x2F;sysadmin knowledge available.<p>(I haven&#x27;t looked into piku but i guess you&#x27;ll hit its limitation once you have more complex deployment schemes, privilege&#x2F;access management, ...)</div><br/></div></div></div></div></div></div><div id="40624180" class="c"><input type="checkbox" id="c-40624180" checked=""/><div class="controls bullet"><span class="by">CaptainOfCoit</span><span>|</span><a href="#40624136">parent</a><span>|</span><a href="#40624467">prev</a><span>|</span><a href="#40622947">next</a><span>|</span><label class="collapse" for="c-40624180">[-]</label><label class="expand" for="c-40624180">[1 more]</label></div><br/><div class="children"><div class="content">Maybe I&#x27;m missing something obvious, but how does sequencer use git to do deploys, if it&#x27;s similar to Heroku&#x2F;dokku&#x2F;piku? Seems like you&#x27;re dealing with kubernetes templates and kubectl rather than `git push` to deploy, which would put the project is a completely difference space.</div><br/></div></div></div></div><div id="40622947" class="c"><input type="checkbox" id="c-40622947" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40624136">prev</a><span>|</span><a href="#40627517">next</a><span>|</span><label class="collapse" for="c-40622947">[-]</label><label class="expand" for="c-40622947">[27 more]</label></div><br/><div class="children"><div class="content">This looks good, and Dokku has been very solid for me, but removing the Docker dependency means that now I&#x27;m beholden to my OS&#x27;s choices. For apps that might run for years without maintenance, that&#x27;s not ideal, as you&#x27;ll quickly find you need a specific version of the OS for them.</div><br/><div id="40623102" class="c"><input type="checkbox" id="c-40623102" checked=""/><div class="controls bullet"><span class="by">tym0</span><span>|</span><a href="#40622947">parent</a><span>|</span><a href="#40624128">next</a><span>|</span><label class="collapse" for="c-40623102">[-]</label><label class="expand" for="c-40623102">[2 more]</label></div><br/><div class="children"><div class="content">A different niche than Piku but I will give Dokku another vote.<p>I&#x27;ve upgraded my dokku install over 3-4 Ubuntu LTS so far and it&#x27;s been problem free for my use case of hosting little side projects on a VPS.</div><br/><div id="40627531" class="c"><input type="checkbox" id="c-40627531" checked=""/><div class="controls bullet"><span class="by">schneems</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623102">parent</a><span>|</span><a href="#40624128">next</a><span>|</span><label class="collapse" for="c-40627531">[-]</label><label class="expand" for="c-40627531">[1 more]</label></div><br/><div class="children"><div class="content">Have you tried cloud native buildpacks? I posted a link to a tutorial on the top level.</div><br/></div></div></div></div><div id="40624128" class="c"><input type="checkbox" id="c-40624128" checked=""/><div class="controls bullet"><span class="by">Sammi</span><span>|</span><a href="#40622947">parent</a><span>|</span><a href="#40623102">prev</a><span>|</span><a href="#40623021">next</a><span>|</span><label class="collapse" for="c-40624128">[-]</label><label class="expand" for="c-40624128">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes docker is overkill and I&#x27;m so glad something exists that doesn&#x27;t require it.</div><br/></div></div><div id="40623021" class="c"><input type="checkbox" id="c-40623021" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40622947">parent</a><span>|</span><a href="#40624128">prev</a><span>|</span><a href="#40625242">next</a><span>|</span><label class="collapse" for="c-40623021">[-]</label><label class="expand" for="c-40623021">[15 more]</label></div><br/><div class="children"><div class="content">You can use docker with it - I have a couple of things with &quot;docker run&quot; statements in the procfile, but of course it’s not designed for that.<p>Most of the deployments I got wind of are on extremely stable distros - typically LTS versions where you will not need to upgrade your runtime every six months (and my website has been running in it for at least two Ubuntu LTS releases…)<p>But you can trivially use pyenv&#x2F;nvenv&#x2F;etc. by just setting environment variables. My home automation system now needs two different Node versions, and I have one set per app.</div><br/><div id="40623030" class="c"><input type="checkbox" id="c-40623030" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623021">parent</a><span>|</span><a href="#40625242">next</a><span>|</span><label class="collapse" for="c-40623030">[-]</label><label class="expand" for="c-40623030">[14 more]</label></div><br/><div class="children"><div class="content">Oh yes, I definitely use LTS distros, but my longest-running apps are from 2008, so even LTS won&#x27;t cover that.</div><br/><div id="40623554" class="c"><input type="checkbox" id="c-40623554" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623030">parent</a><span>|</span><a href="#40623459">next</a><span>|</span><label class="collapse" for="c-40623554">[-]</label><label class="expand" for="c-40623554">[9 more]</label></div><br/><div class="children"><div class="content">That depends on your tech stack. I have Perl CGI and Java apps that have been running unchanged for two decades. And the only thing I ever <i>had</i> to change on Debian over that time was adding HTTPS (Let&#x27;s Encrypt) and SPF&#x2F;DMARC for email.</div><br/><div id="40623572" class="c"><input type="checkbox" id="c-40623572" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623554">parent</a><span>|</span><a href="#40623459">next</a><span>|</span><label class="collapse" for="c-40623572">[-]</label><label class="expand" for="c-40623572">[8 more]</label></div><br/><div class="children"><div class="content">Yeah, but my point is that you have to upgrade your OS. If you never change anything, obviously you don&#x27;t need to worry.</div><br/><div id="40623863" class="c"><input type="checkbox" id="c-40623863" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623572">parent</a><span>|</span><a href="#40624529">next</a><span>|</span><label class="collapse" for="c-40623863">[-]</label><label class="expand" for="c-40623863">[6 more]</label></div><br/><div class="children"><div class="content">My point is that OS upgrades don’t have to break tech stacks, and don’t tend to with runtimes that care a lot about backwards compatibility like Perl and Java. I did regularly upgrade Debian across those two decades.<p>IMO that quality should be the default, and I would choose my OS and tech stacks accordingly.</div><br/><div id="40623880" class="c"><input type="checkbox" id="c-40623880" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623863">parent</a><span>|</span><a href="#40624529">next</a><span>|</span><label class="collapse" for="c-40623880">[-]</label><label class="expand" for="c-40623880">[5 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t they link against static libraries? How do they do that?</div><br/><div id="40624373" class="c"><input type="checkbox" id="c-40624373" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623880">parent</a><span>|</span><a href="#40624529">next</a><span>|</span><label class="collapse" for="c-40624373">[-]</label><label class="expand" for="c-40624373">[4 more]</label></div><br/><div class="children"><div class="content">The runtimes are part of the Linux distribution and get upgraded along with it (and receive continuous security updates along with it), while maintaining backwards compatibility for the application code (Perl scripts or Java bytecode). Tools like <i>needrestart</i> will notify when a process needs to be restarted to take advantage of the update.</div><br/><div id="40624403" class="c"><input type="checkbox" id="c-40624403" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40624373">parent</a><span>|</span><a href="#40624529">next</a><span>|</span><label class="collapse" for="c-40624403">[-]</label><label class="expand" for="c-40624403">[3 more]</label></div><br/><div class="children"><div class="content">Ah, all your dependencies are in the language you&#x27;re using? Some of mine use dependencies that are written in compiled languages.</div><br/><div id="40624422" class="c"><input type="checkbox" id="c-40624422" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40624403">parent</a><span>|</span><a href="#40624529">next</a><span>|</span><label class="collapse" for="c-40624422">[-]</label><label class="expand" for="c-40624422">[2 more]</label></div><br/><div class="children"><div class="content">Not necessarily, but they are part of the Linux distribution.</div><br/><div id="40624449" class="c"><input type="checkbox" id="c-40624449" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40624422">parent</a><span>|</span><a href="#40624529">next</a><span>|</span><label class="collapse" for="c-40624449">[-]</label><label class="expand" for="c-40624449">[1 more]</label></div><br/><div class="children"><div class="content">Well, I don&#x27;t know about you, but my dependencies have often been built against a static library from a different version of the OS, so they wouldn&#x27;t work on mine.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="40624529" class="c"><input type="checkbox" id="c-40624529" checked=""/><div class="controls bullet"><span class="by">keredson</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623572">parent</a><span>|</span><a href="#40623863">prev</a><span>|</span><a href="#40623459">next</a><span>|</span><label class="collapse" for="c-40624529">[-]</label><label class="expand" for="c-40624529">[1 more]</label></div><br/><div class="children"><div class="content">OS updates are important sometimes.  Security and all...</div><br/></div></div></div></div></div></div><div id="40623459" class="c"><input type="checkbox" id="c-40623459" checked=""/><div class="controls bullet"><span class="by">lathiat</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623030">parent</a><span>|</span><a href="#40623554">prev</a><span>|</span><a href="#40625242">next</a><span>|</span><label class="collapse" for="c-40623459">[-]</label><label class="expand" for="c-40623459">[4 more]</label></div><br/><div class="children"><div class="content">At -some- point you actually need to update things. If you&#x27;re using a 2008 docker container you have all manner of bugs and security issues.</div><br/><div id="40627370" class="c"><input type="checkbox" id="c-40627370" checked=""/><div class="controls bullet"><span class="by">poincaredisk</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623459">parent</a><span>|</span><a href="#40623476">next</a><span>|</span><label class="collapse" for="c-40627370">[-]</label><label class="expand" for="c-40627370">[1 more]</label></div><br/><div class="children"><div class="content">I agree. But 2008 is old enough that exploits may be lost in time.
 I recently pentested a client, and had great problems connecting to an old service still using SSL (i think it was 2.0). Every modern tool straight up refused to connect, there was no method to override that, oldest static curl binaries i could find were still too new, I couldn&#x27;t easily compile curl from source because dependencies also changed in the meantime. Finally I&#x27;ve found sn acient docker image that worked.<p>The service was ironically so old that no modern vulnerability scanner or programming language would be able to connect!<p>This made me seeiously ponder the fleeting nature of modern world - SSL support was everywhere 15 years ago, and now I, as an expert, had great problems using it. What chance do we have in 100 years?</div><br/></div></div><div id="40623476" class="c"><input type="checkbox" id="c-40623476" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623459">parent</a><span>|</span><a href="#40627370">prev</a><span>|</span><a href="#40625242">next</a><span>|</span><label class="collapse" for="c-40623476">[-]</label><label class="expand" for="c-40623476">[2 more]</label></div><br/><div class="children"><div class="content">But at least the attack vectors are limited</div><br/><div id="40624142" class="c"><input type="checkbox" id="c-40624142" checked=""/><div class="controls bullet"><span class="by">vault</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623476">parent</a><span>|</span><a href="#40625242">next</a><span>|</span><label class="collapse" for="c-40624142">[-]</label><label class="expand" for="c-40624142">[1 more]</label></div><br/><div class="children"><div class="content">yes, limited to those that work 100%!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40625242" class="c"><input type="checkbox" id="c-40625242" checked=""/><div class="controls bullet"><span class="by">yard2010</span><span>|</span><a href="#40622947">parent</a><span>|</span><a href="#40623021">prev</a><span>|</span><a href="#40627042">next</a><span>|</span><label class="collapse" for="c-40625242">[-]</label><label class="expand" for="c-40625242">[5 more]</label></div><br/><div class="children"><div class="content">Question - how can dependency hell be solved when using such a tool?<p>It seems so elegant and I love the &quot;it just works&quot; attitude, and I do understand that docker can&#x27;t be used everywhere due to its technical (and mental) overhead, but I love it because it allows to isolate everything, freeze everything in time so running a container 5 years for now &quot;just works&quot;.<p>In my humble workflow, I&#x27;m using lazydocker to manage the containers, gitlab workflow (action?) for deployment on push and a small VPS to build and push the containers to gitlab registry and to run it, on the same VPS. It&#x27;s a little bit overkill - I could use a combination of a Dockerfile and a compose.yml with docker compose build. Also, I didn&#x27;t figure out scaling yet. Good thing I don&#x27;t need it! Otherwise I would swap docker for k8s and lazydocker for k9s.<p>(I&#x27;m open to suggestions. I just got into devops, and I love it!)</div><br/><div id="40625515" class="c"><input type="checkbox" id="c-40625515" checked=""/><div class="controls bullet"><span class="by">myaccountonhn</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40625242">parent</a><span>|</span><a href="#40627042">next</a><span>|</span><label class="collapse" for="c-40625515">[-]</label><label class="expand" for="c-40625515">[4 more]</label></div><br/><div class="children"><div class="content">Personally I use the same approach to piku, but instead rebuild my Nixos config on push. My projects use nix flakes, so I get both something that I know will run on my server and on my local machine with the full development environment. No containers needed technically, but I use systemd nspawn to run the software in its own sandboxed namespace.<p>My entire server is then managed declaratively, so if I want to add a new project, it’s like 3-5 lines of Nginx config and push, that’s all. Something goes wrong? Just revert the commit.</div><br/><div id="40629679" class="c"><input type="checkbox" id="c-40629679" checked=""/><div class="controls bullet"><span class="by">nextaccountic</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40625515">parent</a><span>|</span><a href="#40626302">next</a><span>|</span><label class="collapse" for="c-40629679">[-]</label><label class="expand" for="c-40629679">[1 more]</label></div><br/><div class="children"><div class="content">Question, could one use piku for that? (Would it be able to rebuild nixos on each commit?)</div><br/></div></div><div id="40626302" class="c"><input type="checkbox" id="c-40626302" checked=""/><div class="controls bullet"><span class="by">ku1ik</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40625515">parent</a><span>|</span><a href="#40629679">prev</a><span>|</span><a href="#40627042">next</a><span>|</span><label class="collapse" for="c-40626302">[-]</label><label class="expand" for="c-40626302">[2 more]</label></div><br/><div class="children"><div class="content">This sounds super interesting! Do you have an example of such a config somewhere, that you can share?</div><br/><div id="40626478" class="c"><input type="checkbox" id="c-40626478" checked=""/><div class="controls bullet"><span class="by">myaccountonhn</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40626302">parent</a><span>|</span><a href="#40627042">next</a><span>|</span><label class="collapse" for="c-40626478">[-]</label><label class="expand" for="c-40626478">[1 more]</label></div><br/><div class="children"><div class="content">I did a write-up of setting up nixos with git deploys here: <a href="https:&#x2F;&#x2F;mccd.space&#x2F;posts&#x2F;git-to-deploy&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mccd.space&#x2F;posts&#x2F;git-to-deploy&#x2F;</a>.<p>As far as the nixos config is concerned, there is nothing crazy in it. It is just a regular nix config with nginx (<a href="https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Nginx" rel="nofollow">https:&#x2F;&#x2F;nixos.wiki&#x2F;wiki&#x2F;Nginx</a>). You can see there that adding nginx is just four lines of code, ~eight with ssl. Use it to proxy to your applications that are setup as systemd services (<a href="https:&#x2F;&#x2F;wiki.nixos.org&#x2F;wiki&#x2F;Systemd&#x2F;User_Services" rel="nofollow">https:&#x2F;&#x2F;wiki.nixos.org&#x2F;wiki&#x2F;Systemd&#x2F;User_Services</a>).<p>Edit: btw I&#x27;m a big fan of asciinema! ty for making it. :)</div><br/></div></div></div></div></div></div></div></div><div id="40627042" class="c"><input type="checkbox" id="c-40627042" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#40622947">parent</a><span>|</span><a href="#40625242">prev</a><span>|</span><a href="#40623062">next</a><span>|</span><label class="collapse" for="c-40627042">[-]</label><label class="expand" for="c-40627042">[1 more]</label></div><br/><div class="children"><div class="content">I use docker compose + traefik. It&#x27;s nicer than dokku for me because there are less magical abstractions.</div><br/></div></div><div id="40623062" class="c"><input type="checkbox" id="c-40623062" checked=""/><div class="controls bullet"><span class="by">kybernetikos</span><span>|</span><a href="#40622947">parent</a><span>|</span><a href="#40627042">prev</a><span>|</span><a href="#40627517">next</a><span>|</span><label class="collapse" for="c-40623062">[-]</label><label class="expand" for="c-40623062">[2 more]</label></div><br/><div class="children"><div class="content">I use nix via jetify devbox. Maybe something like that could help here.</div><br/><div id="40623086" class="c"><input type="checkbox" id="c-40623086" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622947">root</a><span>|</span><a href="#40623062">parent</a><span>|</span><a href="#40627517">next</a><span>|</span><label class="collapse" for="c-40623086">[-]</label><label class="expand" for="c-40623086">[1 more]</label></div><br/><div class="children"><div class="content">Nix would actually be fantastic for this, but I&#x27;ve never been able to get it to work (including with Devbox and a few other such solutions). I might try again, thank you.</div><br/></div></div></div></div></div></div><div id="40627517" class="c"><input type="checkbox" id="c-40627517" checked=""/><div class="controls bullet"><span class="by">schneems</span><span>|</span><a href="#40622947">prev</a><span>|</span><a href="#40622936">next</a><span>|</span><label class="collapse" for="c-40627517">[-]</label><label class="expand" for="c-40627517">[1 more]</label></div><br/><div class="children"><div class="content">Not related to “git push” deployments, but absolutely related to the PaaS experience, the team I’m working on is previewing Cloud Native Buildpacks (CNB) which is an open spec in the CNCF for Buildpacks that target OCI.<p>What this means is that you can now generate a docker image locally using similar build tooling to Heroku’s “git push” logic that detects language support and does the right thing TM. Here’s a tutorial for building a Rails app with the buildpack I maintain <a href="https:&#x2F;&#x2F;www.schneems.com&#x2F;2024&#x2F;05&#x2F;01&#x2F;build-a-ruby-on-rails-application-image-in-5-minutes-no-dockerfile-required&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.schneems.com&#x2F;2024&#x2F;05&#x2F;01&#x2F;build-a-ruby-on-rails-ap...</a><p>Would love some feedback, if you try it. Please consider posting about the experience in the linked discussion (good, bad, indifferent, or whatever I just want more feedback to improve the experience).</div><br/></div></div><div id="40622936" class="c"><input type="checkbox" id="c-40622936" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40627517">prev</a><span>|</span><a href="#40623968">next</a><span>|</span><label class="collapse" for="c-40622936">[-]</label><label class="expand" for="c-40622936">[5 more]</label></div><br/><div class="children"><div class="content">Very happy to see this here - check out our freshly revamped docs at <a href="https:&#x2F;&#x2F;piku.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;piku.github.io&#x2F;</a></div><br/><div id="40623751" class="c"><input type="checkbox" id="c-40623751" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#40622936">parent</a><span>|</span><a href="#40622942">next</a><span>|</span><label class="collapse" for="c-40623751">[-]</label><label class="expand" for="c-40623751">[1 more]</label></div><br/><div class="children"><div class="content">The new docs look great!</div><br/></div></div><div id="40622942" class="c"><input type="checkbox" id="c-40622942" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#40622936">parent</a><span>|</span><a href="#40623751">prev</a><span>|</span><a href="#40623505">next</a><span>|</span><label class="collapse" for="c-40622942">[-]</label><label class="expand" for="c-40622942">[2 more]</label></div><br/><div class="children"><div class="content">Is this the successor to Dokku? I didn&#x27;t know you had a second project.</div><br/><div id="40623028" class="c"><input type="checkbox" id="c-40623028" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40622936">root</a><span>|</span><a href="#40622942">parent</a><span>|</span><a href="#40623505">next</a><span>|</span><label class="collapse" for="c-40623028">[-]</label><label class="expand" for="c-40623028">[1 more]</label></div><br/><div class="children"><div class="content">Nope, just took inspiration from it because I couldn’t run Docker on some of my targets.</div><br/></div></div></div></div><div id="40623505" class="c"><input type="checkbox" id="c-40623505" checked=""/><div class="controls bullet"><span class="by">ewalk153</span><span>|</span><a href="#40622936">parent</a><span>|</span><a href="#40622942">prev</a><span>|</span><a href="#40623968">next</a><span>|</span><label class="collapse" for="c-40623505">[-]</label><label class="expand" for="c-40623505">[1 more]</label></div><br/><div class="children"><div class="content">Great to see the updated docs.</div><br/></div></div></div></div><div id="40623968" class="c"><input type="checkbox" id="c-40623968" checked=""/><div class="controls bullet"><span class="by">cfiggers</span><span>|</span><a href="#40622936">prev</a><span>|</span><a href="#40624637">next</a><span>|</span><label class="collapse" for="c-40623968">[-]</label><label class="expand" for="c-40623968">[3 more]</label></div><br/><div class="children"><div class="content">The initial commit was <i>eight years</i> ago??<p>I wish I had known about this project ~18 months ago. I was specifically looking for a way to have a Heroku-like dev experience deploying to my Raspberry Pi, and this looks like it&#x27;s trying to be exactly that.</div><br/><div id="40624157" class="c"><input type="checkbox" id="c-40624157" checked=""/><div class="controls bullet"><span class="by">vault</span><span>|</span><a href="#40623968">parent</a><span>|</span><a href="#40624637">next</a><span>|</span><label class="collapse" for="c-40624157">[-]</label><label class="expand" for="c-40624157">[2 more]</label></div><br/><div class="children"><div class="content">Exactly. There&#x27;s a visibility problem. I&#x27;ve just setup a new VPS with CapRover and never found any mention of piku in the hour I&#x27;ve spent checking for comparisons between &quot;Heroku-style self-hosted PaaS&quot; dokku, CapRover, coolify, and dokploy.</div><br/><div id="40624497" class="c"><input type="checkbox" id="c-40624497" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623968">root</a><span>|</span><a href="#40624157">parent</a><span>|</span><a href="#40624637">next</a><span>|</span><label class="collapse" for="c-40624497">[-]</label><label class="expand" for="c-40624497">[1 more]</label></div><br/><div class="children"><div class="content">We’ve been using it for a long time, yes, but doing Marketing for a 1500 LOC Python script felt a little overblown :)<p>Still, Chris did a public presentation on it near the beginning (video’s in the docs) and other folk did similar things, so…</div><br/></div></div></div></div></div></div><div id="40624637" class="c"><input type="checkbox" id="c-40624637" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623968">prev</a><span>|</span><a href="#40628943">next</a><span>|</span><label class="collapse" for="c-40624637">[-]</label><label class="expand" for="c-40624637">[3 more]</label></div><br/><div class="children"><div class="content">Maintainer and co-author here. If you like simple, minimalist deployment tools, check out <a href="https:&#x2F;&#x2F;github.com&#x2F;rcarmo&#x2F;ground-init">https:&#x2F;&#x2F;github.com&#x2F;rcarmo&#x2F;ground-init</a> for a very much down to earth take on cloud-init…</div><br/><div id="40627297" class="c"><input type="checkbox" id="c-40627297" checked=""/><div class="controls bullet"><span class="by">e12e</span><span>|</span><a href="#40624637">parent</a><span>|</span><a href="#40628943">next</a><span>|</span><label class="collapse" for="c-40627297">[-]</label><label class="expand" for="c-40627297">[2 more]</label></div><br/><div class="children"><div class="content">Your readme doesn&#x27;t really answer the question of why not cloud-init?</div><br/><div id="40627874" class="c"><input type="checkbox" id="c-40627874" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40624637">root</a><span>|</span><a href="#40627297">parent</a><span>|</span><a href="#40628943">next</a><span>|</span><label class="collapse" for="c-40627874">[-]</label><label class="expand" for="c-40627874">[1 more]</label></div><br/><div class="children"><div class="content">You can’t use cloud-init on already installed systems.</div><br/></div></div></div></div></div></div><div id="40628943" class="c"><input type="checkbox" id="c-40628943" checked=""/><div class="controls bullet"><span class="by">llIIllIIllIIl</span><span>|</span><a href="#40624637">prev</a><span>|</span><a href="#40623565">next</a><span>|</span><label class="collapse" for="c-40628943">[-]</label><label class="expand" for="c-40628943">[1 more]</label></div><br/><div class="children"><div class="content">I use dokku for my side gigs and it works best. The performance issue I’ve experienced was when the container with my app was being built and it dramatically increased the load on a $20 vm. Then I migrated to use container registry to utilize GitHub actions for building and pushing containers to the registry and then deploying the container directly on the dokku host. Does piku support that flow?<p>Another question is subdomain support: to have a catch all virtual host that will respond to anything.domain.tld and have wildcard letsenrypt enabled ssl with DNS challenge.<p>Those two problems make me think that my side gig has grown up enough to switch to ArgoCD&#x2F;K8s, although there are many other problems that come with it (from my experience on the day job). For now I just do the certificate rotation manually, which is not much ideal but works with a couple make targets.</div><br/></div></div><div id="40623565" class="c"><input type="checkbox" id="c-40623565" checked=""/><div class="controls bullet"><span class="by">dakiol</span><span>|</span><a href="#40628943">prev</a><span>|</span><a href="#40624354">next</a><span>|</span><label class="collapse" for="c-40623565">[-]</label><label class="expand" for="c-40623565">[5 more]</label></div><br/><div class="children"><div class="content">Does someone know how it handles (if any) zero downtime deployments? Like, if your Python service is running in one machine on port 8080 behind nginx, how does piku switch to a fresh instance running in the same port?</div><br/><div id="40623713" class="c"><input type="checkbox" id="c-40623713" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623565">parent</a><span>|</span><a href="#40625094">next</a><span>|</span><label class="collapse" for="c-40623713">[-]</label><label class="expand" for="c-40623713">[1 more]</label></div><br/><div class="children"><div class="content">Currently it will only kill running processes after it finishes deploying the new git push. Socket and session handling will vary depending on your code and whether you use uwsgi or run your own HTTP daemon.<p>One thing it already does (optionally) is to kill off unused instances and idle, lazily starting them when a new connection comes in.</div><br/></div></div><div id="40625094" class="c"><input type="checkbox" id="c-40625094" checked=""/><div class="controls bullet"><span class="by">mrweasel</span><span>|</span><a href="#40623565">parent</a><span>|</span><a href="#40623713">prev</a><span>|</span><a href="#40624354">next</a><span>|</span><label class="collapse" for="c-40625094">[-]</label><label class="expand" for="c-40625094">[3 more]</label></div><br/><div class="children"><div class="content">Slightly off-topic, but you can do zero downtime deployments using systemd and socket activation.</div><br/><div id="40626063" class="c"><input type="checkbox" id="c-40626063" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623565">root</a><span>|</span><a href="#40625094">parent</a><span>|</span><a href="#40625571">next</a><span>|</span><label class="collapse" for="c-40626063">[-]</label><label class="expand" for="c-40626063">[1 more]</label></div><br/><div class="children"><div class="content">That gives me a couple of ideas...But picking a shorter name than &quot;piku&quot; is going to be hard... Maybe I can whip up a proof of concept and call it &quot;syd&quot;.</div><br/></div></div></div></div></div></div><div id="40624354" class="c"><input type="checkbox" id="c-40624354" checked=""/><div class="controls bullet"><span class="by">tiffanyh</span><span>|</span><a href="#40623565">prev</a><span>|</span><a href="#40627112">next</a><span>|</span><label class="collapse" for="c-40624354">[-]</label><label class="expand" for="c-40624354">[12 more]</label></div><br/><div class="children"><div class="content">With PHP, 1-line (no new tools):<p><pre><code>  sftp user@host remoteFile localFile
</code></pre>
Joking aside, I’m a bit surprised such a tool would be developed in Python given its dependency’s and runtime (which is not easy on the user).</div><br/><div id="40624565" class="c"><input type="checkbox" id="c-40624565" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40624354">parent</a><span>|</span><a href="#40627685">next</a><span>|</span><label class="collapse" for="c-40624565">[-]</label><label class="expand" for="c-40624565">[9 more]</label></div><br/><div class="children"><div class="content">To be honest, Python made it stupendously simpler than anything else because it has a great standard library. The only dependency (click) is rock solid and made it a lot simpler to handle commands independently, but we could probably do without it and just use the built-in argparse—-but at the expense of a few more lines of code I didn’t want to maintain.<p>Also, Python is everywhere, on every OS and Linux system, so it was a natural choice. I also wanted it to be easily hackable and extensible, and few languages would make it simpler to understand or extend.</div><br/><div id="40624733" class="c"><input type="checkbox" id="c-40624733" checked=""/><div class="controls bullet"><span class="by">mlhpdx</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40624565">parent</a><span>|</span><a href="#40627685">next</a><span>|</span><label class="collapse" for="c-40624733">[-]</label><label class="expand" for="c-40624733">[8 more]</label></div><br/><div class="children"><div class="content">That’s pretty funny. You may want to look a little further field to discover that the machines with Python are far from “all the machines” out there. Particularly production servers, which, if they run responsibly, are hardened with every extraneous bit of software removed.</div><br/><div id="40624893" class="c"><input type="checkbox" id="c-40624893" checked=""/><div class="controls bullet"><span class="by">jteppinette</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40624733">parent</a><span>|</span><a href="#40626995">next</a><span>|</span><label class="collapse" for="c-40624893">[-]</label><label class="expand" for="c-40624893">[6 more]</label></div><br/><div class="children"><div class="content">I developed security software in Python that ran on 100k+ production nodes covering dozens of operating systems. They all had Python.</div><br/><div id="40625358" class="c"><input type="checkbox" id="c-40625358" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40624893">parent</a><span>|</span><a href="#40626995">next</a><span>|</span><label class="collapse" for="c-40625358">[-]</label><label class="expand" for="c-40625358">[5 more]</label></div><br/><div class="children"><div class="content">Counter-anecdote: none of my Linux PCs have python.</div><br/><div id="40626348" class="c"><input type="checkbox" id="c-40626348" checked=""/><div class="controls bullet"><span class="by">BbzzbB</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40625358">parent</a><span>|</span><a href="#40626181">next</a><span>|</span><label class="collapse" for="c-40626348">[-]</label><label class="expand" for="c-40626348">[2 more]</label></div><br/><div class="children"><div class="content">Debian comes prepackaged with Python. If there are distros that are good enough for a server almost out of the box, surely Debian stable is one.</div><br/><div id="40627094" class="c"><input type="checkbox" id="c-40627094" checked=""/><div class="controls bullet"><span class="by">skeledrew</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40626348">parent</a><span>|</span><a href="#40626181">next</a><span>|</span><label class="collapse" for="c-40627094">[-]</label><label class="expand" for="c-40627094">[1 more]</label></div><br/><div class="children"><div class="content">Not sure who&#x27;s to &quot;blame&quot;, but I was super surprised a few days ago when I installed Kubuntu 24.04 (minimal), and Python was missing. Was fine though as I strictly use via pipx and miniconda only, but still surprising.</div><br/></div></div></div></div><div id="40626181" class="c"><input type="checkbox" id="c-40626181" checked=""/><div class="controls bullet"><span class="by">jteppinette</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40625358">parent</a><span>|</span><a href="#40626348">prev</a><span>|</span><a href="#40626995">next</a><span>|</span><label class="collapse" for="c-40626181">[-]</label><label class="expand" for="c-40626181">[2 more]</label></div><br/><div class="children"><div class="content">Counter-counter-anecdote: my toaster has python.</div><br/><div id="40630642" class="c"><input type="checkbox" id="c-40630642" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40626181">parent</a><span>|</span><a href="#40626995">next</a><span>|</span><label class="collapse" for="c-40630642">[-]</label><label class="expand" for="c-40630642">[1 more]</label></div><br/><div class="children"><div class="content">I am sorry for your toaster.</div><br/></div></div></div></div></div></div></div></div><div id="40626995" class="c"><input type="checkbox" id="c-40626995" checked=""/><div class="controls bullet"><span class="by">zie</span><span>|</span><a href="#40624354">root</a><span>|</span><a href="#40624733">parent</a><span>|</span><a href="#40624893">prev</a><span>|</span><a href="#40627685">next</a><span>|</span><label class="collapse" for="c-40626995">[-]</label><label class="expand" for="c-40626995">[1 more]</label></div><br/><div class="children"><div class="content">I used to run Python 2 on OpenVMS in production. Python can have a pretty wide footprint if one looks around.</div><br/></div></div></div></div></div></div><div id="40627685" class="c"><input type="checkbox" id="c-40627685" checked=""/><div class="controls bullet"><span class="by">rozhok</span><span>|</span><a href="#40624354">parent</a><span>|</span><a href="#40624565">prev</a><span>|</span><a href="#40624608">next</a><span>|</span><label class="collapse" for="c-40627685">[-]</label><label class="expand" for="c-40627685">[1 more]</label></div><br/><div class="children"><div class="content">You still need to install nginx, php-fpm an configure certs, so php is not that easy unfortunately.</div><br/></div></div><div id="40624608" class="c"><input type="checkbox" id="c-40624608" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#40624354">parent</a><span>|</span><a href="#40627685">prev</a><span>|</span><a href="#40627112">next</a><span>|</span><label class="collapse" for="c-40624608">[-]</label><label class="expand" for="c-40624608">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s actually worth taking your joke seriously to compare and contrast:<p>- piku deploys via git rather than scp&#x2F;sftp, but authenticates via ssh like those tools<p>- piku supports a number of runtimes, including Python, Ruby, Node, Go, Clojure. The runtimes are implemented rather simply, you can add your own rather easily, see examples here in the code: <a href="https:&#x2F;&#x2F;github.com&#x2F;piku&#x2F;piku&#x2F;blob&#x2F;8777cc093a062c67d3bead9a5d7ab05cf95fe7a6&#x2F;piku.py#L395-L419">https:&#x2F;&#x2F;github.com&#x2F;piku&#x2F;piku&#x2F;blob&#x2F;8777cc093a062c67d3bead9a5d...</a><p>- For each runtime, a mechanism is utilized to install and isolate package dependencies (requirements.txt in Python, Gemfile in Ruby, packages.json in Node, etc.)<p>- a Procfile and ENV file are used to declare your application entrypoints and envvars akin to Heroku &#x2F; 12 Factor App ideas<p>- a CLI (ssh shim on dev client machine) is provided for checking status and logs from the client (as well as stop&#x2F;start&#x2F;restart)<p>- since all applications are managed via uwsgi on the remote, there is also support for worker&#x2F;sidecar processes and cronjob-style scheduled tasks<p>- HTTPS via Let&#x27;s Encrypt (acme.sh) is handled automagically for web apps<p>I describe more about how piku works in this tutorial:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;piku&#x2F;webapp-tutorial?tab=readme-ov-file#build-a-web-app-fast-with-piku">https:&#x2F;&#x2F;github.com&#x2F;piku&#x2F;webapp-tutorial?tab=readme-ov-file#b...</a><p>You&#x27;re right that PHP apps have a simple deployment story, and in a way piku brings something akin to this level of simplicity to other web programming runtimes.</div><br/></div></div></div></div><div id="40627112" class="c"><input type="checkbox" id="c-40627112" checked=""/><div class="controls bullet"><span class="by">kachurovskiy</span><span>|</span><a href="#40624354">prev</a><span>|</span><a href="#40623965">next</a><span>|</span><label class="collapse" for="c-40627112">[-]</label><label class="expand" for="c-40627112">[3 more]</label></div><br/><div class="children"><div class="content">I just added a magic URL in my app that GitHub calls whenever a commit is pushed and the server does `git pull` which in turn causes pm2 to reload the app. So committing anything shows up in production in seconds. Great for smaller projects.</div><br/><div id="40627183" class="c"><input type="checkbox" id="c-40627183" checked=""/><div class="controls bullet"><span class="by">fprotthetarball</span><span>|</span><a href="#40627112">parent</a><span>|</span><a href="#40627498">next</a><span>|</span><label class="collapse" for="c-40627183">[-]</label><label class="expand" for="c-40627183">[1 more]</label></div><br/><div class="children"><div class="content">I have a similar setup, using snare to handle the webhook endpoint: <a href="https:&#x2F;&#x2F;github.com&#x2F;softdevteam&#x2F;snare">https:&#x2F;&#x2F;github.com&#x2F;softdevteam&#x2F;snare</a><p>GitHub will call the webhook after a push to main and a successful test suite run. Snare runs a shell script on my server to git pull, build, deploy, and call a cronitor.io hook for monitoring deploy success.<p>I&#x27;ve been pretty happy with how relatively simple it is and how well it works.</div><br/></div></div><div id="40627498" class="c"><input type="checkbox" id="c-40627498" checked=""/><div class="controls bullet"><span class="by">gitinit</span><span>|</span><a href="#40627112">parent</a><span>|</span><a href="#40627183">prev</a><span>|</span><a href="#40623965">next</a><span>|</span><label class="collapse" for="c-40627498">[-]</label><label class="expand" for="c-40627498">[1 more]</label></div><br/><div class="children"><div class="content">How did you set this up? Seems simple yet effective.</div><br/></div></div></div></div><div id="40623965" class="c"><input type="checkbox" id="c-40623965" checked=""/><div class="controls bullet"><span class="by">isoprophlex</span><span>|</span><a href="#40627112">prev</a><span>|</span><a href="#40624258">next</a><span>|</span><label class="collapse" for="c-40623965">[-]</label><label class="expand" for="c-40623965">[4 more]</label></div><br/><div class="children"><div class="content">That is brilliant. Something complex, but not complicated. A project distilled down to its UNIX essence: hackable, lean, and magic.<p>That said I want to give this a go but don&#x27;t immediately see how I can migrate my overengineered 8-10 container spaghetti of a docker-compose file to a state where I can use piku instead of manual &#x27;git pull &amp;&amp; docker compose up&#x27; on the remote</div><br/><div id="40624579" class="c"><input type="checkbox" id="c-40624579" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623965">parent</a><span>|</span><a href="#40627003">next</a><span>|</span><label class="collapse" for="c-40624579">[-]</label><label class="expand" for="c-40624579">[2 more]</label></div><br/><div class="children"><div class="content">That kind of situation was what drove me to go simpler :)</div><br/><div id="40625324" class="c"><input type="checkbox" id="c-40625324" checked=""/><div class="controls bullet"><span class="by">isoprophlex</span><span>|</span><a href="#40623965">root</a><span>|</span><a href="#40624579">parent</a><span>|</span><a href="#40627003">next</a><span>|</span><label class="collapse" for="c-40625324">[-]</label><label class="expand" for="c-40625324">[1 more]</label></div><br/><div class="children"><div class="content">Yes it&#x27;s me, not you ;)<p>Currently hyping myself up to drastically simplify everything, which will be a joy onto itself</div><br/></div></div></div></div><div id="40627003" class="c"><input type="checkbox" id="c-40627003" checked=""/><div class="controls bullet"><span class="by">nanidin</span><span>|</span><a href="#40623965">parent</a><span>|</span><a href="#40624579">prev</a><span>|</span><a href="#40624258">next</a><span>|</span><label class="collapse" for="c-40627003">[-]</label><label class="expand" for="c-40627003">[1 more]</label></div><br/><div class="children"><div class="content">Can&#x27;t you use git hooks to automate the manual steps?</div><br/></div></div></div></div><div id="40624258" class="c"><input type="checkbox" id="c-40624258" checked=""/><div class="controls bullet"><span class="by">zeroq</span><span>|</span><a href="#40623965">prev</a><span>|</span><a href="#40625574">next</a><span>|</span><label class="collapse" for="c-40624258">[-]</label><label class="expand" for="c-40624258">[4 more]</label></div><br/><div class="children"><div class="content">15 years ago it was common to deploy web applications as live SVN repositories with a hidden path executing &#x27;svn update&#x27; on manual http request.<p>Not quite the &#x27;push deploy&#x27;, but that was the way apps were developed back in the days, and for some reason I still prefer that approach. Commit, test, and at one point manually nominate and deploy stable version.</div><br/><div id="40627209" class="c"><input type="checkbox" id="c-40627209" checked=""/><div class="controls bullet"><span class="by">rmbyrro</span><span>|</span><a href="#40624258">parent</a><span>|</span><a href="#40624402">next</a><span>|</span><label class="collapse" for="c-40627209">[-]</label><label class="expand" for="c-40627209">[1 more]</label></div><br/><div class="children"><div class="content">You can do that in the git push by having a separate &quot;stable&quot; branch and linking deployment to it.</div><br/></div></div><div id="40624402" class="c"><input type="checkbox" id="c-40624402" checked=""/><div class="controls bullet"><span class="by">eastbound</span><span>|</span><a href="#40624258">parent</a><span>|</span><a href="#40627209">prev</a><span>|</span><a href="#40625542">next</a><span>|</span><label class="collapse" for="c-40624402">[-]</label><label class="expand" for="c-40624402">[1 more]</label></div><br/><div class="children"><div class="content">Yes, when we didn’t want a build machine, we’d just build in production. Isolating production with no unauthorized binary (like Alpine) was a long path away…</div><br/></div></div></div></div><div id="40625574" class="c"><input type="checkbox" id="c-40625574" checked=""/><div class="controls bullet"><span class="by">nico</span><span>|</span><a href="#40624258">prev</a><span>|</span><a href="#40627115">next</a><span>|</span><label class="collapse" for="c-40625574">[-]</label><label class="expand" for="c-40625574">[4 more]</label></div><br/><div class="children"><div class="content">Can it be a good replacement for Capistrano (for deploying rails applications)?<p>Love the focus on being lightweight<p>Recently I wanted to create a super basic website, and discovered it’s actually pretty hard to create something simple<p>And then, even if you manage to create something actually simple, you usually end up having to manage some not so simple deployment process together with hopefully some sort of version control<p>Ended up settling for putting plain html&#x2F;css&#x2F;js files in a git repo, then configuring auto deploy to GitHub Pages on merge to master (via Actions)</div><br/><div id="40625623" class="c"><input type="checkbox" id="c-40625623" checked=""/><div class="controls bullet"><span class="by">juliushuijnk</span><span>|</span><a href="#40625574">parent</a><span>|</span><a href="#40626312">next</a><span>|</span><label class="collapse" for="c-40625623">[-]</label><label class="expand" for="c-40625623">[2 more]</label></div><br/><div class="children"><div class="content">Also an option, if it&#x27;s just for you and with not too many updates, you can upload the new files to ftp as a manual step.</div><br/><div id="40626303" class="c"><input type="checkbox" id="c-40626303" checked=""/><div class="controls bullet"><span class="by">nico</span><span>|</span><a href="#40625574">root</a><span>|</span><a href="#40625623">parent</a><span>|</span><a href="#40626312">next</a><span>|</span><label class="collapse" for="c-40626303">[-]</label><label class="expand" for="c-40626303">[1 more]</label></div><br/><div class="children"><div class="content">Does GitHub pages support ftp? Or are you talking about some other potential hosting options?<p>Yes, ftp is pretty easy for static sites. However, given I want to have version control, it’s nice to have automated deploys happen after a git push</div><br/></div></div></div></div><div id="40626312" class="c"><input type="checkbox" id="c-40626312" checked=""/><div class="controls bullet"><span class="by">mati365</span><span>|</span><a href="#40625574">parent</a><span>|</span><a href="#40625623">prev</a><span>|</span><a href="#40627115">next</a><span>|</span><label class="collapse" for="c-40626312">[-]</label><label class="expand" for="c-40626312">[1 more]</label></div><br/><div class="children"><div class="content">Use Podman Quadlet, I use it as replacement</div><br/></div></div></div></div><div id="40627115" class="c"><input type="checkbox" id="c-40627115" checked=""/><div class="controls bullet"><span class="by">pheggs</span><span>|</span><a href="#40625574">prev</a><span>|</span><a href="#40625417">next</a><span>|</span><label class="collapse" for="c-40627115">[-]</label><label class="expand" for="c-40627115">[2 more]</label></div><br/><div class="children"><div class="content">interesting project! what are the advantages of this over pushing to a normal ssh server with a server side git hook?</div><br/><div id="40628160" class="c"><input type="checkbox" id="c-40628160" checked=""/><div class="controls bullet"><span class="by">acidburnNSA</span><span>|</span><a href="#40627115">parent</a><span>|</span><a href="#40625417">next</a><span>|</span><label class="collapse" for="c-40628160">[-]</label><label class="expand" for="c-40628160">[1 more]</label></div><br/><div class="children"><div class="content">Came to ask this same question. I have a post-receive hook on my server that instamagically deploys whenever I push to it. It is simple and awesome and is basically just a builtin git feature.</div><br/></div></div></div></div><div id="40623159" class="c"><input type="checkbox" id="c-40623159" checked=""/><div class="controls bullet"><span class="by">ericaska</span><span>|</span><a href="#40625417">prev</a><span>|</span><a href="#40623118">next</a><span>|</span><label class="collapse" for="c-40623159">[-]</label><label class="expand" for="c-40623159">[5 more]</label></div><br/><div class="children"><div class="content">pikku means tiny or little in Finnish. Is it where the name came from?</div><br/><div id="40623245" class="c"><input type="checkbox" id="c-40623245" checked=""/><div class="controls bullet"><span class="by">cuu508</span><span>|</span><a href="#40623159">parent</a><span>|</span><a href="#40623525">next</a><span>|</span><label class="collapse" for="c-40623245">[-]</label><label class="expand" for="c-40623245">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know but my first association was &quot;pico-dokku&quot;</div><br/><div id="40623522" class="c"><input type="checkbox" id="c-40623522" checked=""/><div class="controls bullet"><span class="by">ewalk153</span><span>|</span><a href="#40623159">root</a><span>|</span><a href="#40623245">parent</a><span>|</span><a href="#40623525">next</a><span>|</span><label class="collapse" for="c-40623522">[-]</label><label class="expand" for="c-40623522">[1 more]</label></div><br/><div class="children"><div class="content">My guess has been they both originate from heroku; docker heroku to dokku, pico heroku to piku</div><br/></div></div></div></div><div id="40623525" class="c"><input type="checkbox" id="c-40623525" checked=""/><div class="controls bullet"><span class="by">rvnx</span><span>|</span><a href="#40623159">parent</a><span>|</span><a href="#40623245">prev</a><span>|</span><a href="#40623733">next</a><span>|</span><label class="collapse" for="c-40623525">[-]</label><label class="expand" for="c-40623525">[1 more]</label></div><br/><div class="children"><div class="content">Cute, as in the sibling language, Estonian it means “big” or “tall”</div><br/></div></div><div id="40623733" class="c"><input type="checkbox" id="c-40623733" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623159">parent</a><span>|</span><a href="#40623525">prev</a><span>|</span><a href="#40623118">next</a><span>|</span><label class="collapse" for="c-40623733">[-]</label><label class="expand" for="c-40623733">[1 more]</label></div><br/><div class="children"><div class="content">Nope. <a href="https:&#x2F;&#x2F;piku.github.io&#x2F;FAQ.html" rel="nofollow">https:&#x2F;&#x2F;piku.github.io&#x2F;FAQ.html</a></div><br/></div></div></div></div><div id="40623118" class="c"><input type="checkbox" id="c-40623118" checked=""/><div class="controls bullet"><span class="by">mati365</span><span>|</span><a href="#40623159">prev</a><span>|</span><a href="#40623377">next</a><span>|</span><label class="collapse" for="c-40623118">[-]</label><label class="expand" for="c-40623118">[7 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t it better to create local docker repository and then use Podman Quadlet with autopull images to run apps?</div><br/><div id="40623123" class="c"><input type="checkbox" id="c-40623123" checked=""/><div class="controls bullet"><span class="by">pacifika</span><span>|</span><a href="#40623118">parent</a><span>|</span><a href="#40623745">next</a><span>|</span><label class="collapse" for="c-40623123">[-]</label><label class="expand" for="c-40623123">[5 more]</label></div><br/><div class="children"><div class="content">Better in what way?</div><br/><div id="40623140" class="c"><input type="checkbox" id="c-40623140" checked=""/><div class="controls bullet"><span class="by">mati365</span><span>|</span><a href="#40623118">root</a><span>|</span><a href="#40623123">parent</a><span>|</span><a href="#40623745">next</a><span>|</span><label class="collapse" for="c-40623140">[-]</label><label class="expand" for="c-40623140">[4 more]</label></div><br/><div class="children"><div class="content">1. Less dependencies (only Podman and registry is needed)
2. Rock solid rootless systemd service management
3. Easy integration with systemd-proxyd 
4. Easy manage dependencies between containers (with healthchecks)
5. Rollbacks</div><br/><div id="40623267" class="c"><input type="checkbox" id="c-40623267" checked=""/><div class="controls bullet"><span class="by">GordonS</span><span>|</span><a href="#40623118">root</a><span>|</span><a href="#40623140">parent</a><span>|</span><a href="#40625612">next</a><span>|</span><label class="collapse" for="c-40623267">[-]</label><label class="expand" for="c-40623267">[2 more]</label></div><br/><div class="children"><div class="content">Sounds interesting! Is there any support for multi-node systems? Let&#x27;s say I want to have an ingress Caddy proxy on one node, which reverse proxies to several backed APIs on other nodes - can this be done simply with Podman Quadlet?<p>Also, what is the localdev UX like? With Docker Swarm I can easily run very similar setups in dev, test and prod, and it works with multi-node setups, has support for secrets etc. But the lack of work going into Docker Swarm becomes more concerning as the years pass by.<p>Also, had no idea systemd-proxy was a thing - is there anything systemd doesn&#x27;t have its tentacles into? :)</div><br/><div id="40623326" class="c"><input type="checkbox" id="c-40623326" checked=""/><div class="controls bullet"><span class="by">mati365</span><span>|</span><a href="#40623118">root</a><span>|</span><a href="#40623267">parent</a><span>|</span><a href="#40625612">next</a><span>|</span><label class="collapse" for="c-40623326">[-]</label><label class="expand" for="c-40623326">[1 more]</label></div><br/><div class="children"><div class="content">If your VPS is wired with another one using VPC or any other internal network it&#x27;ll just work. Just point Caddy to specified internal IPs of your other servers.<p>It&#x27;s not designed to work on local envs. When I wanted to debug infra I used to run it on Vagrant though</div><br/></div></div></div></div><div id="40625612" class="c"><input type="checkbox" id="c-40625612" checked=""/><div class="controls bullet"><span class="by">altairprime</span><span>|</span><a href="#40623118">root</a><span>|</span><a href="#40623140">parent</a><span>|</span><a href="#40623267">prev</a><span>|</span><a href="#40623745">next</a><span>|</span><label class="collapse" for="c-40625612">[-]</label><label class="expand" for="c-40625612">[1 more]</label></div><br/><div class="children"><div class="content">Does this all fit in 256MB of server RAM?</div><br/></div></div></div></div></div></div><div id="40623745" class="c"><input type="checkbox" id="c-40623745" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623118">parent</a><span>|</span><a href="#40623123">prev</a><span>|</span><a href="#40623377">next</a><span>|</span><label class="collapse" for="c-40623745">[-]</label><label class="expand" for="c-40623745">[1 more]</label></div><br/><div class="children"><div class="content">You can’t do that on tiny systems very easily.</div><br/></div></div></div></div><div id="40623377" class="c"><input type="checkbox" id="c-40623377" checked=""/><div class="controls bullet"><span class="by">demarq</span><span>|</span><a href="#40623118">prev</a><span>|</span><a href="#40627157">next</a><span>|</span><label class="collapse" for="c-40623377">[-]</label><label class="expand" for="c-40623377">[3 more]</label></div><br/><div class="children"><div class="content">Is there support for secrets?</div><br/><div id="40623731" class="c"><input type="checkbox" id="c-40623731" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623377">parent</a><span>|</span><a href="#40627157">next</a><span>|</span><label class="collapse" for="c-40623731">[-]</label><label class="expand" for="c-40623731">[2 more]</label></div><br/><div class="children"><div class="content">You have to bring your own. I have some trivial deployments that fetch secrets from Azure keyvaults using either release hooks or app startup code.</div><br/><div id="40627493" class="c"><input type="checkbox" id="c-40627493" checked=""/><div class="controls bullet"><span class="by">demarq</span><span>|</span><a href="#40623377">root</a><span>|</span><a href="#40623731">parent</a><span>|</span><a href="#40627157">next</a><span>|</span><label class="collapse" for="c-40627493">[-]</label><label class="expand" for="c-40627493">[1 more]</label></div><br/><div class="children"><div class="content">Thanks</div><br/></div></div></div></div></div></div><div id="40627157" class="c"><input type="checkbox" id="c-40627157" checked=""/><div class="controls bullet"><span class="by">eloh</span><span>|</span><a href="#40623377">prev</a><span>|</span><a href="#40624090">next</a><span>|</span><label class="collapse" for="c-40627157">[-]</label><label class="expand" for="c-40627157">[1 more]</label></div><br/><div class="children"><div class="content">I just &quot;git push&quot; using nixos-rebuild</div><br/></div></div><div id="40624090" class="c"><input type="checkbox" id="c-40624090" checked=""/><div class="controls bullet"><span class="by">brigadier132</span><span>|</span><a href="#40627157">prev</a><span>|</span><a href="#40623220">next</a><span>|</span><label class="collapse" for="c-40624090">[-]</label><label class="expand" for="c-40624090">[3 more]</label></div><br/><div class="children"><div class="content">These self-hosted open source paas alternatives are really cool.<p>Off the top of my head I know of<p>coolify
dokku
kamal<p>and now piku</div><br/><div id="40624133" class="c"><input type="checkbox" id="c-40624133" checked=""/><div class="controls bullet"><span class="by">vault</span><span>|</span><a href="#40624090">parent</a><span>|</span><a href="#40625580">next</a><span>|</span><label class="collapse" for="c-40624133">[-]</label><label class="expand" for="c-40624133">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget CapRover. I&#x27;m just trying it on a new VPS and it just works as expected. I would have tried piku first if I knew about it, because it&#x27;s even more minimal.</div><br/></div></div></div></div><div id="40623220" class="c"><input type="checkbox" id="c-40623220" checked=""/><div class="controls bullet"><span class="by">theanonymousone</span><span>|</span><a href="#40624090">prev</a><span>|</span><a href="#40625291">next</a><span>|</span><label class="collapse" for="c-40623220">[-]</label><label class="expand" for="c-40623220">[2 more]</label></div><br/><div class="children"><div class="content">Nice work. But why isn&#x27;t Docker supported as a runtime? Or is it?</div><br/><div id="40623742" class="c"><input type="checkbox" id="c-40623742" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623220">parent</a><span>|</span><a href="#40625291">next</a><span>|</span><label class="collapse" for="c-40623742">[-]</label><label class="expand" for="c-40623742">[1 more]</label></div><br/><div class="children"><div class="content">The FAQ explains it: <a href="https:&#x2F;&#x2F;piku.github.io&#x2F;FAQ.html" rel="nofollow">https:&#x2F;&#x2F;piku.github.io&#x2F;FAQ.html</a><p>You can use docker run commands, but that’s not the main goal.</div><br/></div></div></div></div><div id="40625291" class="c"><input type="checkbox" id="c-40625291" checked=""/><div class="controls bullet"><span class="by">wayoverthecloud</span><span>|</span><a href="#40623220">prev</a><span>|</span><a href="#40624672">next</a><span>|</span><label class="collapse" for="c-40625291">[-]</label><label class="expand" for="c-40625291">[2 more]</label></div><br/><div class="children"><div class="content">Has anybody used this for Ruby on Rails?</div><br/><div id="40625404" class="c"><input type="checkbox" id="c-40625404" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40625291">parent</a><span>|</span><a href="#40624672">next</a><span>|</span><label class="collapse" for="c-40625404">[-]</label><label class="expand" for="c-40625404">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Not any of the maintainers, though.</div><br/></div></div></div></div><div id="40624672" class="c"><input type="checkbox" id="c-40624672" checked=""/><div class="controls bullet"><span class="by">red_admiral</span><span>|</span><a href="#40625291">prev</a><span>|</span><a href="#40625754">next</a><span>|</span><label class="collapse" for="c-40624672">[-]</label><label class="expand" for="c-40624672">[3 more]</label></div><br/><div class="children"><div class="content">Eventually, we&#x27;ll need something more secure than effectively `sudo curl INSTALLER | sh` as a way to install stuff. I can see why package managers aren&#x27;t always the answer, but still.<p>piku itself is neat and I like it.</div><br/><div id="40626071" class="c"><input type="checkbox" id="c-40626071" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40624672">parent</a><span>|</span><a href="#40625587">next</a><span>|</span><label class="collapse" for="c-40626071">[-]</label><label class="expand" for="c-40626071">[1 more]</label></div><br/><div class="children"><div class="content">Actually, we had manual install steps as the only way to go for a while. You&#x27;d be surprised at how many people asked for a one-liner... I&#x27;m going to add a note to the docs about that, since I&#x27;ve seen a couple of comments here of people who were put off by it and didn&#x27;t even read the rest.<p>I actually only install piku via cloud-init, but there are plenty more options: <a href="https:&#x2F;&#x2F;piku.github.io&#x2F;install&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;piku.github.io&#x2F;install&#x2F;index.html</a></div><br/></div></div></div></div><div id="40625754" class="c"><input type="checkbox" id="c-40625754" checked=""/><div class="controls bullet"><span class="by">verisimi</span><span>|</span><a href="#40624672">prev</a><span>|</span><a href="#40624065">next</a><span>|</span><label class="collapse" for="c-40625754">[-]</label><label class="expand" for="c-40625754">[1 more]</label></div><br/><div class="children"><div class="content">But what if you like &#x27;big pass&#x27;?<p>Looking at you sir mixalot:<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;wKfMZOR8eWI?t=31" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;wKfMZOR8eWI?t=31</a></div><br/></div></div><div id="40624065" class="c"><input type="checkbox" id="c-40624065" checked=""/><div class="controls bullet"><span class="by">aaomidi</span><span>|</span><a href="#40625754">prev</a><span>|</span><a href="#40623228">next</a><span>|</span><label class="collapse" for="c-40624065">[-]</label><label class="expand" for="c-40624065">[2 more]</label></div><br/><div class="children"><div class="content">Is go support planned?</div><br/><div id="40624505" class="c"><input type="checkbox" id="c-40624505" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40624065">parent</a><span>|</span><a href="#40623228">next</a><span>|</span><label class="collapse" for="c-40624505">[-]</label><label class="expand" for="c-40624505">[1 more]</label></div><br/><div class="children"><div class="content">It works with Godeps. Module support was always a bit in flux when we added that, but it should be an easy first contribution…</div><br/></div></div></div></div><div id="40623228" class="c"><input type="checkbox" id="c-40623228" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#40624065">prev</a><span>|</span><a href="#40627397">next</a><span>|</span><label class="collapse" for="c-40623228">[-]</label><label class="expand" for="c-40623228">[11 more]</label></div><br/><div class="children"><div class="content">I think a more common use case than doing deploys by pushing to a different remote is to send git repo webhooks on PR merges to main to an API that has a deploy key and can fetch the repo itself.<p>This afaik is missing from most PaaS tools (CapRover excluded, but it has been illegally relicensed to non-open-source).  Perhaps watchtower or something could replace the functionality?</div><br/><div id="40623722" class="c"><input type="checkbox" id="c-40623722" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623228">parent</a><span>|</span><a href="#40623541">next</a><span>|</span><label class="collapse" for="c-40623722">[-]</label><label class="expand" for="c-40623722">[5 more]</label></div><br/><div class="children"><div class="content">Actually, this is how I deploy my static websites: piku in lazy mode handles GitHub hooks, pulls the source and renders them out to cloud storage, then kills all workers and idles again.</div><br/><div id="40624448" class="c"><input type="checkbox" id="c-40624448" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40623722">parent</a><span>|</span><a href="#40624219">next</a><span>|</span><label class="collapse" for="c-40624448">[-]</label><label class="expand" for="c-40624448">[2 more]</label></div><br/><div class="children"><div class="content">Does it support deploy keys, or are your website source repos public?</div><br/><div id="40624514" class="c"><input type="checkbox" id="c-40624514" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40624448">parent</a><span>|</span><a href="#40624219">next</a><span>|</span><label class="collapse" for="c-40624514">[-]</label><label class="expand" for="c-40624514">[1 more]</label></div><br/><div class="children"><div class="content">The piku micro-app that does the deployment is just a 10-line Bottle app that validates the GitHub hook and does a git pull with a private SSH key, so yes.</div><br/></div></div></div></div><div id="40624219" class="c"><input type="checkbox" id="c-40624219" checked=""/><div class="controls bullet"><span class="by">foxhop</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40623722">parent</a><span>|</span><a href="#40624448">prev</a><span>|</span><a href="#40623541">next</a><span>|</span><label class="collapse" for="c-40624219">[-]</label><label class="expand" for="c-40624219">[2 more]</label></div><br/><div class="children"><div class="content">are there docs for this setup?</div><br/><div id="40624604" class="c"><input type="checkbox" id="c-40624604" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40624219">parent</a><span>|</span><a href="#40623541">next</a><span>|</span><label class="collapse" for="c-40624604">[-]</label><label class="expand" for="c-40624604">[1 more]</label></div><br/><div class="children"><div class="content">It’s just a 10-line script, I’ll see if I can sanitize it and add to the docs (one of the samples already does something similar, you can peek at the repos to get ideas)</div><br/></div></div></div></div></div></div><div id="40623541" class="c"><input type="checkbox" id="c-40623541" checked=""/><div class="controls bullet"><span class="by">adeptima</span><span>|</span><a href="#40623228">parent</a><span>|</span><a href="#40623722">prev</a><span>|</span><a href="#40627397">next</a><span>|</span><label class="collapse" for="c-40623541">[-]</label><label class="expand" for="c-40623541">[5 more]</label></div><br/><div class="children"><div class="content">Didnt know ...<p>&quot;CapRover has built in anonymous usage analytics starting v1.11&quot;<p><a href="https:&#x2F;&#x2F;github.com&#x2F;caprover&#x2F;caprover&#x2F;blob&#x2F;master&#x2F;TERMS_AND_CONDITIONS.md">https:&#x2F;&#x2F;github.com&#x2F;caprover&#x2F;caprover&#x2F;blob&#x2F;master&#x2F;TERMS_AND_C...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;caprover&#x2F;caprover&#x2F;issues&#x2F;1852">https:&#x2F;&#x2F;github.com&#x2F;caprover&#x2F;caprover&#x2F;issues&#x2F;1852</a><p>Was looking at CapRover to see if it has REST API<p>Looks shaddy</div><br/><div id="40624185" class="c"><input type="checkbox" id="c-40624185" checked=""/><div class="controls bullet"><span class="by">vault</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40623541">parent</a><span>|</span><a href="#40624494">next</a><span>|</span><label class="collapse" for="c-40624185">[-]</label><label class="expand" for="c-40624185">[3 more]</label></div><br/><div class="children"><div class="content">You scared me for a moment, as I&#x27;ve just setup a new VPS with CapRover and migrated all my projects from heroku. Doesn&#x27;t look too shady for me, there&#x27;s a oneliner to disable analytics, it seems enough for me.</div><br/><div id="40624495" class="c"><input type="checkbox" id="c-40624495" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40624185">parent</a><span>|</span><a href="#40624494">next</a><span>|</span><label class="collapse" for="c-40624495">[-]</label><label class="expand" for="c-40624495">[2 more]</label></div><br/><div class="children"><div class="content">You still have to agree to the terms and conditions of use of the nonfree application which can of course change at any time without notice.  It’s a time bomb.<p>I’m thinking of forking it and adding all his dumb and easy table stakes features (2fa etc) that he is trying to gate as subscriptionware.</div><br/><div id="40624528" class="c"><input type="checkbox" id="c-40624528" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40624495">parent</a><span>|</span><a href="#40624494">next</a><span>|</span><label class="collapse" for="c-40624528">[-]</label><label class="expand" for="c-40624528">[1 more]</label></div><br/><div class="children"><div class="content">If you want to contribute any of that to piku, we’ll welcome it. Might take a bit to review and merge, but we’re always looking for non-breaking improvements</div><br/></div></div></div></div></div></div><div id="40624494" class="c"><input type="checkbox" id="c-40624494" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#40623228">root</a><span>|</span><a href="#40623541">parent</a><span>|</span><a href="#40624185">prev</a><span>|</span><a href="#40627397">next</a><span>|</span><label class="collapse" for="c-40624494">[-]</label><label class="expand" for="c-40624494">[1 more]</label></div><br/><div class="children"><div class="content">It’s not even open core.  The solo maintainer simply relicensed the entire repo to a nonfree license without consent of the copyright holders to all the external contributions.</div><br/></div></div></div></div></div></div><div id="40623317" class="c"><input type="checkbox" id="c-40623317" checked=""/><div class="controls bullet"><span class="by">block_dagger</span><span>|</span><a href="#40627397">prev</a><span>|</span><a href="#40625448">next</a><span>|</span><label class="collapse" for="c-40623317">[-]</label><label class="expand" for="c-40623317">[2 more]</label></div><br/><div class="children"><div class="content">Cool project, but I’ll stick with Dokku, which is a wonder for managing single server deploys via Docker&#x2F;Git.</div><br/></div></div></div></div></div></div></div></body></html>