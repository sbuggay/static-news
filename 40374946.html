<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715850055887" as="style"/><link rel="stylesheet" href="styles.css?v=1715850055887"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://wadetregaskis.com/swift-sucks-at-web-serving-or-does-it/">Swift sucks at web serving or does it?</a> <span class="domain">(<a href="https://wadetregaskis.com">wadetregaskis.com</a>)</span></div><div class="subtext"><span>MBCook</span> | <span>32 comments</span></div><br/><div><div id="40376421" class="c"><input type="checkbox" id="c-40376421" checked=""/><div class="controls bullet"><span class="by">iraldir</span><span>|</span><a href="#40375965">next</a><span>|</span><label class="collapse" for="c-40376421">[-]</label><label class="expand" for="c-40376421">[1 more]</label></div><br/><div class="children"><div class="content">Interesting article (did not finish it), however the little apartes feel soooo condescending. It&#x27;s impeding the reading in my case. Might just be me though, don&#x27;t pay too much of a mind to it.</div><br/></div></div><div id="40375965" class="c"><input type="checkbox" id="c-40375965" checked=""/><div class="controls bullet"><span class="by">norman784</span><span>|</span><a href="#40376421">prev</a><span>|</span><a href="#40375523">next</a><span>|</span><label class="collapse" for="c-40375965">[-]</label><label class="expand" for="c-40375965">[8 more]</label></div><br/><div class="children"><div class="content">Swift could have been a big player in web development 9-10 years ago if they invested more in Linux support with a good standard library (and [0]package manager). Nowadays I would say Go is more an alternative rather than Node, maybe for some extreme cases Rust.<p>I wanted to love Swift, but there was (maybe still is) low Apple investment outside the Apple ecosystem.<p>[0] Still not sure to this day why Swift has a package manager if Xcode is not using it (or at least was not using it a few years ago), I just followed lightly Swift development the past few years.</div><br/><div id="40376070" class="c"><input type="checkbox" id="c-40376070" checked=""/><div class="controls bullet"><span class="by">jillesvangurp</span><span>|</span><a href="#40375965">parent</a><span>|</span><a href="#40376108">next</a><span>|</span><label class="collapse" for="c-40376070">[-]</label><label class="expand" for="c-40376070">[1 more]</label></div><br/><div class="children"><div class="content">Apple just did not care enough about server development to invest in it. There are plenty of languages and frameworks out there. I wouldn&#x27;t say Go and Rust are particularly logical choices for web development though. Of course they are being used for that but it&#x27;s not necessarily the best fit.<p>Rust is kind of restrictive and requires some serious skills to be effective in. And with Rust developers being in high demand, you end up paying a premium for them. So, if you need a simple backend, you might want to pick something more accessible. Go is of course very popular for all sorts of server stuff but you mostly find it lower in the stack in all sorts of middle ware. They both are a bit low level for web development.<p>People seem to gravitate to more flexible&#x2F;richer languages here. Which is why Java and Javascript are very popular and why e.g. Python, Php, and other scripting languages are still widely used for web development. On the native front you have things like Elixir, and a few others gaining traction.<p>Swift being similar to Kotlin, which is popular for server stuff, could have stepped up easily. But it didn&#x27;t happen. Mostly that&#x27;s because Apple tightly controls its roadmap and just wasn&#x27;t interested in it.<p>Interestingly, Kotlin now has an IOS compiler and a native compiler for Linux. And there are some Kotlin server side frameworks that work on kotlin native (e.g. ktor). However, it&#x27;s not a great option for native server development yet mostly for the same reasons Swift is not ideal either: library support is a bit lacking and server&#x2F;linux support just isn&#x27;t a huge priority in either community. So, you get compiler bugs, lack of features, performance issues, etc.<p>On the JVM it&#x27;s a different story. There Kotlin is a drop in replacement for Java in pretty much any Java framework (you can name) and there are a few kotlin specific ones as well. IMHO, it&#x27;s a great fit with Spring Boot which comes with lots of Kotlin support. I&#x27;ve been using it for years for this and can highly recommend it. I&#x27;m interested in switching to Kotlin native for server stuff but right now it seems like I&#x27;d be a very early adopter. Swift is very much in the same boat. You can make it work probably but you&#x27;d be on your own.</div><br/></div></div><div id="40376108" class="c"><input type="checkbox" id="c-40376108" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#40375965">parent</a><span>|</span><a href="#40376070">prev</a><span>|</span><a href="#40375986">next</a><span>|</span><label class="collapse" for="c-40376108">[-]</label><label class="expand" for="c-40376108">[5 more]</label></div><br/><div class="children"><div class="content">I’ve been doing a lot of backend stuff recently with Dart after coming from a Node &#x2F; Ruby background and I can’t begin to describe what a breath of fresh air it is. Insanely high quality of life improvement for development.<p>The experience is very similar to what people here are describing that they wanted from Swift.<p>Also in a similar vein to Typescript, it’s another language I can now comfortably use and share between front and backend but with a very different and I think for most use cases better set of trade offs.<p>Honestly I think it’s the most underrated modern language out there at the moment because people still only associate it with Flutter which is unfortunate.</div><br/><div id="40376137" class="c"><input type="checkbox" id="c-40376137" checked=""/><div class="controls bullet"><span class="by">bsaul</span><span>|</span><a href="#40375965">root</a><span>|</span><a href="#40376108">parent</a><span>|</span><a href="#40376157">next</a><span>|</span><label class="collapse" for="c-40376137">[-]</label><label class="expand" for="c-40376137">[2 more]</label></div><br/><div class="children"><div class="content">Problem with backend dev is that it&#x27;s 99% about plumbing between components written by someone else ( db, cache, queue, other web services , etc).<p>In that sense, the most important property of a language is its popularity: it will ensure connectors exist, and are used enough to be working fine.</div><br/><div id="40376290" class="c"><input type="checkbox" id="c-40376290" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#40375965">root</a><span>|</span><a href="#40376137">parent</a><span>|</span><a href="#40376157">next</a><span>|</span><label class="collapse" for="c-40376290">[-]</label><label class="expand" for="c-40376290">[1 more]</label></div><br/><div class="children"><div class="content">One of the nice things about Dart in particular is that they are actually very aware that they are currently a small community.<p>In that sense they ended up making a big focus on having great interop with other languages. Currently they have C, C++, Rust, Swift, JavaScript, Java and objective C all working and an upcoming goal of WASI will also open up that entire ecosystem.</div><br/></div></div></div></div><div id="40376157" class="c"><input type="checkbox" id="c-40376157" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#40375965">root</a><span>|</span><a href="#40376108">parent</a><span>|</span><a href="#40376137">prev</a><span>|</span><a href="#40375986">next</a><span>|</span><label class="collapse" for="c-40376157">[-]</label><label class="expand" for="c-40376157">[2 more]</label></div><br/><div class="children"><div class="content">How do you find it compared to Java or Kotlin?</div><br/><div id="40376281" class="c"><input type="checkbox" id="c-40376281" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#40375965">root</a><span>|</span><a href="#40376157">parent</a><span>|</span><a href="#40375986">next</a><span>|</span><label class="collapse" for="c-40376281">[-]</label><label class="expand" for="c-40376281">[1 more]</label></div><br/><div class="children"><div class="content">Kotlin would be the most direct comparison for sure.<p>There is much less boilerplate than Java and also just by the fact that it’s a relatively new language (~10 years old) that was allowed to grow without a large community attached to it for a long time but with an absolutely first class technical steering committee they actually had the chance to bring in a lot of really cool features without big messy community migrations.<p>Even those major migrations that have occurred (I.e introducing fully sound null safety a couple of years ago) were done in such a smooth way it gave me a huge amount of hope for its future.</div><br/></div></div></div></div></div></div><div id="40375986" class="c"><input type="checkbox" id="c-40375986" checked=""/><div class="controls bullet"><span class="by">lukeh</span><span>|</span><a href="#40375965">parent</a><span>|</span><a href="#40376108">prev</a><span>|</span><a href="#40375523">next</a><span>|</span><label class="collapse" for="c-40375986">[-]</label><label class="expand" for="c-40375986">[1 more]</label></div><br/><div class="children"><div class="content">Xcode projects can have Swift package dependencies, and Xcode can open Swift packages directly.</div><br/></div></div></div></div><div id="40375523" class="c"><input type="checkbox" id="c-40375523" checked=""/><div class="controls bullet"><span class="by">willio58</span><span>|</span><a href="#40375965">prev</a><span>|</span><a href="#40375907">next</a><span>|</span><label class="collapse" for="c-40375523">[-]</label><label class="expand" for="c-40375523">[4 more]</label></div><br/><div class="children"><div class="content">I feel like comparing performance of Vapor against Node JS in May of 2024 isn’t all I want to see. Like yes Node JS still dominates but we know other runtimes like Bun run much faster.<p>That part aside, I have to say Vapor kind of took over my brain for a year when I was in college. So much so that I actually built some freelance sites with it. A typed language for web development?! I loved the idea of using swift to make websites and honestly everything just worked so well—-until it didn&#x27;t.<p>Remember Heroku? Well there was a heroku buildpack to make a vapor site build with a push to a git repo. Worked great 4 years ago. Well I’ve been ignoring heroku emails (my email is a landfill) for about 3 years and little did I know they had completely end-of-lifed the Postgres version I had been using to the point where the entire build was bricked. I could have spent like 5 hours downloading Xcode and getting it updated and working through errors but instead I just spun up a next js TypeScript site and had a working solution with code ported over (yay for static small sites) and deployed live. Today TypeScript does the job that Swift did for me back then, enabling types for web dev. Anyway, thanks to everyone who worked on or currently works on Vapor!</div><br/><div id="40375639" class="c"><input type="checkbox" id="c-40375639" checked=""/><div class="controls bullet"><span class="by">mannuch</span><span>|</span><a href="#40375523">parent</a><span>|</span><a href="#40375769">next</a><span>|</span><label class="collapse" for="c-40375639">[-]</label><label class="expand" for="c-40375639">[2 more]</label></div><br/><div class="children"><div class="content">Swift has a pretty good VSCode extension these days actually.<p>Check out <a href="https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=sswg.swift-lang" rel="nofollow">https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=sswg.swi...</a></div><br/><div id="40376160" class="c"><input type="checkbox" id="c-40376160" checked=""/><div class="controls bullet"><span class="by">truncate</span><span>|</span><a href="#40375523">root</a><span>|</span><a href="#40375639">parent</a><span>|</span><a href="#40375769">next</a><span>|</span><label class="collapse" for="c-40376160">[-]</label><label class="expand" for="c-40376160">[1 more]</label></div><br/><div class="children"><div class="content">Solid is pushing it. Its ok. Its still miles behind Go, Rust, C++. Partly because swift-lsp-server itself is lacking in functionality.</div><br/></div></div></div></div><div id="40375769" class="c"><input type="checkbox" id="c-40375769" checked=""/><div class="controls bullet"><span class="by">wiseowise</span><span>|</span><a href="#40375523">parent</a><span>|</span><a href="#40375639">prev</a><span>|</span><a href="#40375907">next</a><span>|</span><label class="collapse" for="c-40375769">[-]</label><label class="expand" for="c-40375769">[1 more]</label></div><br/><div class="children"><div class="content">&gt; A typed language for web development?!<p>What a novel idea.</div><br/></div></div></div></div><div id="40375907" class="c"><input type="checkbox" id="c-40375907" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#40375523">prev</a><span>|</span><a href="#40375723">next</a><span>|</span><label class="collapse" for="c-40375907">[-]</label><label class="expand" for="c-40375907">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like macOS sucks at web serving :)<p>I guess one lesson not explicitly mentioned is that doing benchmarking on something like macOS can have lot of pitfalls compared to systems more intended for this kind of workload (Linux...).<p>But the mention of wrk immediately stood out as a red flag; there is notable problem with wrk called &quot;coordinated omission&quot;:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;wg&#x2F;wrk&#x2F;issues&#x2F;485">https:&#x2F;&#x2F;github.com&#x2F;wg&#x2F;wrk&#x2F;issues&#x2F;485</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;giltene&#x2F;wrk2">https:&#x2F;&#x2F;github.com&#x2F;giltene&#x2F;wrk2</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34148502">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34148502</a><p>Benchmarking is difficult. And there is lot of subtlety on how you set up the client(s) and servers that can impact the results a lot.</div><br/></div></div><div id="40375723" class="c"><input type="checkbox" id="c-40375723" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#40375907">prev</a><span>|</span><a href="#40375744">next</a><span>|</span><label class="collapse" for="c-40375723">[-]</label><label class="expand" for="c-40375723">[1 more]</label></div><br/><div class="children"><div class="content">Are the kernel bugs bugs or just not as one assumed? Lots of socket behavior edge cases are unexpected, but also 30 years old.</div><br/></div></div><div id="40375744" class="c"><input type="checkbox" id="c-40375744" checked=""/><div class="controls bullet"><span class="by">poochkoishi728</span><span>|</span><a href="#40375723">prev</a><span>|</span><a href="#40376320">next</a><span>|</span><label class="collapse" for="c-40375744">[-]</label><label class="expand" for="c-40375744">[2 more]</label></div><br/><div class="children"><div class="content">Is there a mistake in the Swift graph of &#x27;Success rate (Y) over concurrent requests (X)&#x27;? It shows a near-constant 1.0 success rate, but the description says &quot;[Swift] had higher throughput than PHP yet requests started failing much sooner as load increased&quot;.<p>EDIT: Nm, it must be referring to the slight dip that starts early in the Swift graph.</div><br/><div id="40376145" class="c"><input type="checkbox" id="c-40376145" checked=""/><div class="controls bullet"><span class="by">bsaul</span><span>|</span><a href="#40375744">parent</a><span>|</span><a href="#40376320">next</a><span>|</span><label class="collapse" for="c-40376145">[-]</label><label class="expand" for="c-40376145">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the pb OP is mentioning quite early : the benchmark didn&#x27;t make sense.</div><br/></div></div></div></div><div id="40375421" class="c"><input type="checkbox" id="c-40375421" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#40376320">prev</a><span>|</span><a href="#40376123">next</a><span>|</span><label class="collapse" for="c-40375421">[-]</label><label class="expand" for="c-40375421">[11 more]</label></div><br/><div class="children"><div class="content">Even the selection of frameworks is kind of weird, versus<p><a href="https:&#x2F;&#x2F;www.techempower.com&#x2F;benchmarks" rel="nofollow">https:&#x2F;&#x2F;www.techempower.com&#x2F;benchmarks</a><p>This is what would be interesting to see Vapour&#x2F;Swift on.</div><br/><div id="40375691" class="c"><input type="checkbox" id="c-40375691" checked=""/><div class="controls bullet"><span class="by">mannuch</span><span>|</span><a href="#40375421">parent</a><span>|</span><a href="#40375448">next</a><span>|</span><label class="collapse" for="c-40375691">[-]</label><label class="expand" for="c-40375691">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think this blog post ever intended to provide a comprehensive comparison between Swift&#x2F;Vapor and other languages&#x2F;frameworks.<p>I think the bigger lesson from this writeup is that we should be careful when looking at these kinds of benchmark comparisons because there may be much more nuance to their results than there initially appears to be.</div><br/><div id="40375738" class="c"><input type="checkbox" id="c-40375738" checked=""/><div class="controls bullet"><span class="by">jamil7</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375691">parent</a><span>|</span><a href="#40375448">next</a><span>|</span><label class="collapse" for="c-40375738">[-]</label><label class="expand" for="c-40375738">[1 more]</label></div><br/><div class="children"><div class="content">I think so too, I also saw it as a lesson on careful and methodical debugging. I&#x27;ve been in situations like the one written up, trying to debug something tricky where each team member is coming up with multiple wrong hypotheses and missing something obvious.</div><br/></div></div></div></div><div id="40375448" class="c"><input type="checkbox" id="c-40375448" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#40375421">parent</a><span>|</span><a href="#40375691">prev</a><span>|</span><a href="#40376123">next</a><span>|</span><label class="collapse" for="c-40375448">[-]</label><label class="expand" for="c-40375448">[8 more]</label></div><br/><div class="children"><div class="content">Yeah and it leaves out a lot of details to be desired.<p>For example, no debian build of Swift. And when I ported the ubuntu version to .deb, I ran into odd bugs, like when you kill it, it lives on! Apparently a known issue.<p>Basic _big_ bugs that shows Apple&#x27;s half assed commitment to open-source on any other platform than their own. I can&#x27;t blame them, but Swift on linux, beware.<p>Swift is a wonderful language, sadly I&#x27;m not seeing the commitment from Apple to make it ubiquitous. Also to note, Apple has basically killed macOS as a server, rendering Swift more towards a system&#x2F;UI target language; which is a shame, because again, it&#x27;s a wonderful, safe, language.</div><br/><div id="40376382" class="c"><input type="checkbox" id="c-40376382" checked=""/><div class="controls bullet"><span class="by">__tmk__</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375448">parent</a><span>|</span><a href="#40375577">next</a><span>|</span><label class="collapse" for="c-40376382">[-]</label><label class="expand" for="c-40376382">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a project for using Swift to write GNOME applications, which is fascinating to me: <a href="https:&#x2F;&#x2F;github.com&#x2F;AparokshaUI&#x2F;adwaita-swift">https:&#x2F;&#x2F;github.com&#x2F;AparokshaUI&#x2F;adwaita-swift</a><p>I wish them success but realistically they won&#x27;t have success.</div><br/></div></div><div id="40375577" class="c"><input type="checkbox" id="c-40375577" checked=""/><div class="controls bullet"><span class="by">justahuman74</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375448">parent</a><span>|</span><a href="#40376382">prev</a><span>|</span><a href="#40375699">next</a><span>|</span><label class="collapse" for="c-40375577">[-]</label><label class="expand" for="c-40375577">[3 more]</label></div><br/><div class="children"><div class="content">I find it kind of surprising that they don&#x27;t put more effort behind swift-on-linux, it would make learning swift a generally more valuable skill. This increases the pool of people who would be willing to write mac software, and in particular, standalone libraries</div><br/><div id="40375677" class="c"><input type="checkbox" id="c-40375677" checked=""/><div class="controls bullet"><span class="by">Hamuko</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375577">parent</a><span>|</span><a href="#40375699">next</a><span>|</span><label class="collapse" for="c-40375677">[-]</label><label class="expand" for="c-40375677">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t find it at all surprising that Apple is not putting any effort into Linux and is instead pooling their developer efforts behind other things. Hopefully things like SwiftUI, a framework that has existed for around five years and still feels a bit immature.</div><br/><div id="40375730" class="c"><input type="checkbox" id="c-40375730" checked=""/><div class="controls bullet"><span class="by">jamil7</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375677">parent</a><span>|</span><a href="#40375699">next</a><span>|</span><label class="collapse" for="c-40375730">[-]</label><label class="expand" for="c-40375730">[1 more]</label></div><br/><div class="children"><div class="content">Yes, SwiftUI, Swift Concurrency and to an extent SPM have been quite frustrating. SwiftUI on macOS in particluar is a major step backwards from AppKit as it is right now.</div><br/></div></div></div></div></div></div><div id="40375699" class="c"><input type="checkbox" id="c-40375699" checked=""/><div class="controls bullet"><span class="by">jamil7</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375448">parent</a><span>|</span><a href="#40375577">prev</a><span>|</span><a href="#40375611">next</a><span>|</span><label class="collapse" for="c-40375699">[-]</label><label class="expand" for="c-40375699">[2 more]</label></div><br/><div class="children"><div class="content">Foundation is going through a gradual open-source rewrite by Apple and the Swift community, which is going to take a while but will eventually open up Swift more to other platforms.</div><br/><div id="40375771" class="c"><input type="checkbox" id="c-40375771" checked=""/><div class="controls bullet"><span class="by">jurip</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375699">parent</a><span>|</span><a href="#40375611">next</a><span>|</span><label class="collapse" for="c-40375771">[-]</label><label class="expand" for="c-40375771">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I have high hopes for the new Foundation. The current open source Foundation is OK but it doesn&#x27;t quite match what&#x27;s there on Apple platforms and makes it all a bit difficult. Having one shared implementation should improve things.</div><br/></div></div></div></div><div id="40375611" class="c"><input type="checkbox" id="c-40375611" checked=""/><div class="controls bullet"><span class="by">mannuch</span><span>|</span><a href="#40375421">root</a><span>|</span><a href="#40375448">parent</a><span>|</span><a href="#40375699">prev</a><span>|</span><a href="#40376123">next</a><span>|</span><label class="collapse" for="c-40375611">[-]</label><label class="expand" for="c-40375611">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I get that it&#x27;s frustrating. But it is open source, and there isn&#x27;t anything stopping you or anyone else from making contributions that bring the language to more places. Sure, various aspects of the project could be improved but that doesn&#x27;t mean it is &quot;half assed&quot;.</div><br/></div></div></div></div></div></div><div id="40376123" class="c"><input type="checkbox" id="c-40376123" checked=""/><div class="controls bullet"><span class="by">tumetab1</span><span>|</span><a href="#40375421">prev</a><span>|</span><a href="#40375512">next</a><span>|</span><label class="collapse" for="c-40376123">[-]</label><label class="expand" for="c-40376123">[1 more]</label></div><br/><div class="children"><div class="content">Wonderful travel down the rabbit hole.</div><br/></div></div></div></div></div></div></div></body></html>