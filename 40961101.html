<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721034065349" as="style"/><link rel="stylesheet" href="styles.css?v=1721034065349"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/sauljabin/kaskade">Show HN: Kaskade – A text user interface for Kafka</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>sauljp</span> | <span>23 comments</span></div><br/><div><div id="40965988" class="c"><input type="checkbox" id="c-40965988" checked=""/><div class="controls bullet"><span class="by">lordgrenville</span><span>|</span><a href="#40965879">next</a><span>|</span><label class="collapse" for="c-40965988">[-]</label><label class="expand" for="c-40965988">[1 more]</label></div><br/><div class="children"><div class="content">I always thought TUI stood for &quot;terminal user interface&quot;, though I guess &quot;text&quot; makes sense. First sentence of the Wikipedia article has both. <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Text-based_user_interface" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Text-based_user_interface</a></div><br/></div></div><div id="40965879" class="c"><input type="checkbox" id="c-40965879" checked=""/><div class="controls bullet"><span class="by">oulipo</span><span>|</span><a href="#40965988">prev</a><span>|</span><a href="#40963302">next</a><span>|</span><label class="collapse" for="c-40965879">[-]</label><label class="expand" for="c-40965879">[1 more]</label></div><br/><div class="children"><div class="content">In Textual, I wanted to write a logging app with a big data table and filtering, and I&#x27;d hoped that it would be a bit more straightforward to write an optimized one<p>I guess it would be a nice addition to have some kind of FilterableDataTable with history, filtering, caching, and fast rendering<p>I guess you probably developed something like that for this tool, perhaps you could share it in Textual, or some kind of &quot;textual widgets extension lib&quot;?</div><br/></div></div><div id="40963302" class="c"><input type="checkbox" id="c-40963302" checked=""/><div class="controls bullet"><span class="by">terminaltrove</span><span>|</span><a href="#40965879">prev</a><span>|</span><a href="#40964811">next</a><span>|</span><label class="collapse" for="c-40963302">[-]</label><label class="expand" for="c-40963302">[2 more]</label></div><br/><div class="children"><div class="content">We featured kaskade on Terminal Trove as tool of the week and looks really cool and useful.<p><a href="https:&#x2F;&#x2F;terminaltrove.com&#x2F;kaskade&#x2F;" rel="nofollow">https:&#x2F;&#x2F;terminaltrove.com&#x2F;kaskade&#x2F;</a><p>For those interested, kaskade is made with the Textual TUI framework.<p><a href="https:&#x2F;&#x2F;www.textualize.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.textualize.io&#x2F;</a><p>Thanks for making this sauljp.</div><br/><div id="40964271" class="c"><input type="checkbox" id="c-40964271" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40963302">parent</a><span>|</span><a href="#40964811">next</a><span>|</span><label class="collapse" for="c-40964271">[-]</label><label class="expand" for="c-40964271">[1 more]</label></div><br/><div class="children"><div class="content">thanks! that is awesome</div><br/></div></div></div></div><div id="40964811" class="c"><input type="checkbox" id="c-40964811" checked=""/><div class="controls bullet"><span class="by">kvakerok</span><span>|</span><a href="#40963302">prev</a><span>|</span><a href="#40963232">next</a><span>|</span><label class="collapse" for="c-40964811">[-]</label><label class="expand" for="c-40964811">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not even going to ask why. Just start following the repo...</div><br/><div id="40964866" class="c"><input type="checkbox" id="c-40964866" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40964811">parent</a><span>|</span><a href="#40963232">next</a><span>|</span><label class="collapse" for="c-40964866">[-]</label><label class="expand" for="c-40964866">[1 more]</label></div><br/><div class="children"><div class="content">Thanks!</div><br/></div></div></div></div><div id="40963232" class="c"><input type="checkbox" id="c-40963232" checked=""/><div class="controls bullet"><span class="by">cyberpunk</span><span>|</span><a href="#40964811">prev</a><span>|</span><a href="#40963733">next</a><span>|</span><label class="collapse" for="c-40963232">[-]</label><label class="expand" for="c-40963232">[7 more]</label></div><br/><div class="children"><div class="content">Can it rebalance partitions? And delete crap from topics?<p>Every time we have to call up our ops guys for this; it’s like “deep breath, first utter some indescribable magic aws iam nonsense and somehow get an ephemeral shell on some rando bitnami Kafka image’s .&#x2F;kafka-topic shell scripts to work over the next few hours” and ultimately succeed but with deep regrets</div><br/><div id="40964821" class="c"><input type="checkbox" id="c-40964821" checked=""/><div class="controls bullet"><span class="by">kvakerok</span><span>|</span><a href="#40963232">parent</a><span>|</span><a href="#40964264">next</a><span>|</span><label class="collapse" for="c-40964821">[-]</label><label class="expand" for="c-40964821">[2 more]</label></div><br/><div class="children"><div class="content">If you have to manually delete data from topics, you are doing Kafka wrong. The whole point of it is high speed data throughput, so that something automated does it for you downstream.</div><br/><div id="40964842" class="c"><input type="checkbox" id="c-40964842" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40963232">root</a><span>|</span><a href="#40964821">parent</a><span>|</span><a href="#40964264">next</a><span>|</span><label class="collapse" for="c-40964842">[-]</label><label class="expand" for="c-40964842">[1 more]</label></div><br/><div class="children"><div class="content">Totally agree</div><br/></div></div></div></div><div id="40964264" class="c"><input type="checkbox" id="c-40964264" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40963232">parent</a><span>|</span><a href="#40964821">prev</a><span>|</span><a href="#40963277">next</a><span>|</span><label class="collapse" for="c-40964264">[-]</label><label class="expand" for="c-40964264">[1 more]</label></div><br/><div class="children"><div class="content">Hi! kaskade is more like AKHQ than Cruise control.<p>We use strimzi by default, so we deploy cruise control with kafka, and it takes care of rebalancing the data across the nodes. Also you can deploy it without strimzi.<p>Delete crap is more complicated, usually with kafka-delete-records (this is king of new I think). The problem is the offsets. By general rule you should not delete data from topics</div><br/></div></div><div id="40963277" class="c"><input type="checkbox" id="c-40963277" checked=""/><div class="controls bullet"><span class="by">rockwotj</span><span>|</span><a href="#40963232">parent</a><span>|</span><a href="#40964264">prev</a><span>|</span><a href="#40963733">next</a><span>|</span><label class="collapse" for="c-40963277">[-]</label><label class="expand" for="c-40963277">[3 more]</label></div><br/><div class="children"><div class="content">&gt; delete crap from topics<p>You have to rewrite the whole topic to do this right? (or do some hacks with compaction if you have unique keys)</div><br/><div id="40963299" class="c"><input type="checkbox" id="c-40963299" checked=""/><div class="controls bullet"><span class="by">bink</span><span>|</span><a href="#40963232">root</a><span>|</span><a href="#40963277">parent</a><span>|</span><a href="#40963733">next</a><span>|</span><label class="collapse" for="c-40963299">[-]</label><label class="expand" for="c-40963299">[2 more]</label></div><br/><div class="children"><div class="content">Or just advance the offsets for that partition beyond the problematic data, or adjust retention, or both.</div><br/><div id="40964014" class="c"><input type="checkbox" id="c-40964014" checked=""/><div class="controls bullet"><span class="by">nick0garvey</span><span>|</span><a href="#40963232">root</a><span>|</span><a href="#40963299">parent</a><span>|</span><a href="#40963733">next</a><span>|</span><label class="collapse" for="c-40964014">[-]</label><label class="expand" for="c-40964014">[1 more]</label></div><br/><div class="children"><div class="content">There is also the deleteRecords API specifically for this. It&#x27;s easier than the retention shrink -&gt; increase dance, as it is a single API call and retention does not kick in immediately. The log segment must roll for retention to apply, either due to size or time.<p><a href="https:&#x2F;&#x2F;kafka.apache.org&#x2F;11&#x2F;javadoc&#x2F;org&#x2F;apache&#x2F;kafka&#x2F;clients&#x2F;admin&#x2F;AdminClient.html#deleteRecords-java.util.Map-" rel="nofollow">https:&#x2F;&#x2F;kafka.apache.org&#x2F;11&#x2F;javadoc&#x2F;org&#x2F;apache&#x2F;kafka&#x2F;clients...</a></div><br/></div></div></div></div></div></div></div></div><div id="40963733" class="c"><input type="checkbox" id="c-40963733" checked=""/><div class="controls bullet"><span class="by">ddoolin</span><span>|</span><a href="#40963232">prev</a><span>|</span><a href="#40962552">next</a><span>|</span><label class="collapse" for="c-40963733">[-]</label><label class="expand" for="c-40963733">[3 more]</label></div><br/><div class="children"><div class="content">Does it support Protobuf deserialization via Schema Registry? This is basically where every other tool falls apart. Kafka UI just added support very recently but kcat falls apart.</div><br/><div id="40964192" class="c"><input type="checkbox" id="c-40964192" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40963733">parent</a><span>|</span><a href="#40962552">next</a><span>|</span><label class="collapse" for="c-40964192">[-]</label><label class="expand" for="c-40964192">[2 more]</label></div><br/><div class="children"><div class="content">Hi! it validates if the message was (or not) generated for schema registry, it checks if the message has the schema registry magic bytes (this bytes has the schema id). so, it deserializes messages with or without schema registry.<p>This is the drawback: you have to generate the descriptor first.<p>1) download the schema from schema registry: 
http :8081&#x2F;schemas&#x2F;ids&#x2F;&lt;my-id&gt;&#x2F;schema<p>2) generate the descriptor with the schema: 
protoc --include_imports --descriptor_set_out=my-descriptor.desc --proto_path=. my-schema.proto<p>3) use kaskade:
kaskade consumer -b my-kafka:9092 -x auto.offset.reset=earliest -k string -v protobuf -t my-protobuf-topic -p descriptor=my-descriptor.desc -p value=mypackage.MyMessage</div><br/><div id="40964277" class="c"><input type="checkbox" id="c-40964277" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40963733">root</a><span>|</span><a href="#40964192">parent</a><span>|</span><a href="#40962552">next</a><span>|</span><label class="collapse" for="c-40964277">[-]</label><label class="expand" for="c-40964277">[1 more]</label></div><br/><div class="children"><div class="content">about the first step: if you already have the .proto file you do not need to download it from schema registry</div><br/></div></div></div></div></div></div><div id="40962552" class="c"><input type="checkbox" id="c-40962552" checked=""/><div class="controls bullet"><span class="by">1bent</span><span>|</span><a href="#40963733">prev</a><span>|</span><a href="#40961102">next</a><span>|</span><label class="collapse" for="c-40962552">[-]</label><label class="expand" for="c-40962552">[3 more]</label></div><br/><div class="children"><div class="content">In case anyone else didn&#x27;t know:<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Apache_Kafka" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Apache_Kafka</a></div><br/><div id="40963288" class="c"><input type="checkbox" id="c-40963288" checked=""/><div class="controls bullet"><span class="by">Huntsecker</span><span>|</span><a href="#40962552">parent</a><span>|</span><a href="#40961102">next</a><span>|</span><label class="collapse" for="c-40963288">[-]</label><label class="expand" for="c-40963288">[2 more]</label></div><br/><div class="children"><div class="content">genuinely surprised that kafka is something unknown, thought it had gained ubiquitous status similar to k8s but maybe that&#x27;s me walking into a Baader–Meinhof effect</div><br/><div id="40964802" class="c"><input type="checkbox" id="c-40964802" checked=""/><div class="controls bullet"><span class="by">vitaliyf</span><span>|</span><a href="#40962552">root</a><span>|</span><a href="#40963288">parent</a><span>|</span><a href="#40961102">next</a><span>|</span><label class="collapse" for="c-40964802">[-]</label><label class="expand" for="c-40964802">[1 more]</label></div><br/><div class="children"><div class="content">Franz Kafka is certainly not unknown, ever since long before people who worked on K8s were even born.<p>See previous discussion here: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29296969">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29296969</a></div><br/></div></div></div></div></div></div><div id="40961911" class="c"><input type="checkbox" id="c-40961911" checked=""/><div class="controls bullet"><span class="by">sauljp</span><span>|</span><a href="#40961102">prev</a><span>|</span><a href="#40964996">next</a><span>|</span><label class="collapse" for="c-40961911">[-]</label><label class="expand" for="c-40961911">[1 more]</label></div><br/><div class="children"><div class="content">Install it:<p>brew install kaskade<p>pipx install kaskade</div><br/></div></div><div id="40964996" class="c"><input type="checkbox" id="c-40964996" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#40961911">prev</a><span>|</span><label class="collapse" for="c-40964996">[-]</label><label class="expand" for="c-40964996">[1 more]</label></div><br/><div class="children"><div class="content">Celery Flower TUI doesn&#x27;t yet support Kafka in Python, though Kombu (the protocol wrapper for celery) does. It looks like Kaskade has non-kombu support for consumers and ?
<a href="https:&#x2F;&#x2F;github.com&#x2F;celery&#x2F;celery&#x2F;issues&#x2F;7674#issuecomment-1204053595">https:&#x2F;&#x2F;github.com&#x2F;celery&#x2F;celery&#x2F;issues&#x2F;7674#issuecomment-12...</a> .. <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40842365">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40842365</a><p>(Edit)<p>Kaskade models.py, consumer.py
<a href="https:&#x2F;&#x2F;github.com&#x2F;sauljabin&#x2F;kaskade&#x2F;blob&#x2F;main&#x2F;kaskade&#x2F;models.py">https:&#x2F;&#x2F;github.com&#x2F;sauljabin&#x2F;kaskade&#x2F;blob&#x2F;main&#x2F;kaskade&#x2F;model...</a><p>kombu&#x2F;transport&#x2F;confluentkafka.py: 
<a href="https:&#x2F;&#x2F;github.com&#x2F;celery&#x2F;kombu&#x2F;blob&#x2F;main&#x2F;kombu&#x2F;transport&#x2F;confluentkafka.py">https:&#x2F;&#x2F;github.com&#x2F;celery&#x2F;kombu&#x2F;blob&#x2F;main&#x2F;kombu&#x2F;transport&#x2F;co...</a><p>confluent-kafka-python wraps librdkafka with binary wheels: <a href="https:&#x2F;&#x2F;github.com&#x2F;confluentinc&#x2F;confluent-kafka-python">https:&#x2F;&#x2F;github.com&#x2F;confluentinc&#x2F;confluent-kafka-python</a><p>librdkafka: <a href="https:&#x2F;&#x2F;github.com&#x2F;edenhill&#x2F;librdkafka">https:&#x2F;&#x2F;github.com&#x2F;edenhill&#x2F;librdkafka</a></div><br/></div></div></div></div></div></div></div></body></html>