<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728378068696" as="style"/><link rel="stylesheet" href="styles.css?v=1728378068696"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/PsyChip/machina">Video Surveillance with YOLO+llava</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>psychip</span> | <span>26 comments</span></div><br/><div><div id="41774274" class="c"><input type="checkbox" id="c-41774274" checked=""/><div class="controls bullet"><span class="by">yu3zhou4</span><span>|</span><a href="#41774375">next</a><span>|</span><label class="collapse" for="c-41774274">[-]</label><label class="expand" for="c-41774274">[1 more]</label></div><br/><div class="children"><div class="content">Congrats! What hardware you use to run the inference 24&#x2F;7? I built a simpler version for running on low end hardware [0] for recognizing if there’s a person on my parcel, so I know someone have trespassed and I can launch siren, lights etc.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jmaczan&#x2F;yolov3-tiny-openvino">https:&#x2F;&#x2F;github.com&#x2F;jmaczan&#x2F;yolov3-tiny-openvino</a></div><br/></div></div><div id="41774375" class="c"><input type="checkbox" id="c-41774375" checked=""/><div class="controls bullet"><span class="by">pmontra</span><span>|</span><a href="#41774274">prev</a><span>|</span><a href="#41774036">next</a><span>|</span><label class="collapse" for="c-41774375">[-]</label><label class="expand" for="c-41774375">[2 more]</label></div><br/><div class="children"><div class="content">This runs with a Geforce GTX 1060. By a quick search it&#x27;s 120 W. Maybe it&#x27;s only the peak power consumption but it&#x27;s still a lot. Do commercial products, if there are any, consume that much power?</div><br/><div id="41774801" class="c"><input type="checkbox" id="c-41774801" checked=""/><div class="controls bullet"><span class="by">hcfman</span><span>|</span><a href="#41774375">parent</a><span>|</span><a href="#41774036">next</a><span>|</span><label class="collapse" for="c-41774801">[-]</label><label class="expand" for="c-41774801">[1 more]</label></div><br/><div class="children"><div class="content">I have something similar. It&#x27;s not tracking though. Drawing around 10W on a pi, around 7W on a Jetson.</div><br/></div></div></div></div><div id="41774036" class="c"><input type="checkbox" id="c-41774036" checked=""/><div class="controls bullet"><span class="by">rocauc</span><span>|</span><a href="#41774375">prev</a><span>|</span><a href="#41773737">next</a><span>|</span><label class="collapse" for="c-41774036">[-]</label><label class="expand" for="c-41774036">[2 more]</label></div><br/><div class="children"><div class="content">A suggestion: I&#x27;d swap llava for Florence-2 for your open set text description. Florence-2 seems uniformly more descriptive in its outputs.</div><br/><div id="41774874" class="c"><input type="checkbox" id="c-41774874" checked=""/><div class="controls bullet"><span class="by">jerpint</span><span>|</span><a href="#41774036">parent</a><span>|</span><a href="#41773737">next</a><span>|</span><label class="collapse" for="c-41774874">[-]</label><label class="expand" for="c-41774874">[1 more]</label></div><br/><div class="children"><div class="content">I found grounding-dino better than Florence and faster</div><br/></div></div></div></div><div id="41773737" class="c"><input type="checkbox" id="c-41773737" checked=""/><div class="controls bullet"><span class="by">ferar</span><span>|</span><a href="#41774036">prev</a><span>|</span><a href="#41774369">next</a><span>|</span><label class="collapse" for="c-41773737">[-]</label><label class="expand" for="c-41773737">[13 more]</label></div><br/><div class="children"><div class="content">Can you specify ideal hardware (camera, computer) to deploy the solution? Thanks</div><br/><div id="41774395" class="c"><input type="checkbox" id="c-41774395" checked=""/><div class="controls bullet"><span class="by">skirmish</span><span>|</span><a href="#41773737">parent</a><span>|</span><a href="#41773875">next</a><span>|</span><label class="collapse" for="c-41774395">[-]</label><label class="expand" for="c-41774395">[1 more]</label></div><br/><div class="children"><div class="content">Here are hardware recommendations from another similar (and well established) project: [1] [2].  Even though they don&#x27;t recommend Reolink cameras, I have both Amcrest and Reolink cameras working well with Frigate for more than a year now.<p>[1] <a href="https:&#x2F;&#x2F;docs.frigate.video&#x2F;frigate&#x2F;hardware" rel="nofollow">https:&#x2F;&#x2F;docs.frigate.video&#x2F;frigate&#x2F;hardware</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;blakeblackshear&#x2F;frigate">https:&#x2F;&#x2F;github.com&#x2F;blakeblackshear&#x2F;frigate</a></div><br/></div></div><div id="41773875" class="c"><input type="checkbox" id="c-41773875" checked=""/><div class="controls bullet"><span class="by">moandcompany</span><span>|</span><a href="#41773737">parent</a><span>|</span><a href="#41774395">prev</a><span>|</span><a href="#41773848">next</a><span>|</span><label class="collapse" for="c-41773875">[-]</label><label class="expand" for="c-41773875">[10 more]</label></div><br/><div class="children"><div class="content">You&#x27;ll want to find an IP Camera that supports the RTSP protocol, which is most of them.<p>If your budget supports commercial style or commercial grade cameras, looking at Dahua or Hikvision manufactured cameras would be a good starting point to get an idea of specs, features, and cost.</div><br/><div id="41773904" class="c"><input type="checkbox" id="c-41773904" checked=""/><div class="controls bullet"><span class="by">meow_catrix</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773875">parent</a><span>|</span><a href="#41773848">next</a><span>|</span><label class="collapse" for="c-41773904">[-]</label><label class="expand" for="c-41773904">[9 more]</label></div><br/><div class="children"><div class="content">Maybe don’t buy surveillance hardware from those brands</div><br/><div id="41773986" class="c"><input type="checkbox" id="c-41773986" checked=""/><div class="controls bullet"><span class="by">sinuhe69</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773904">parent</a><span>|</span><a href="#41774029">next</a><span>|</span><label class="collapse" for="c-41773986">[-]</label><label class="expand" for="c-41773986">[2 more]</label></div><br/><div class="children"><div class="content">Not OP, but the reason may be:<p>US - FCC Ban The US Federal Communications Commission (FCC) banned Dahua and Hikvision from new equipment authorizations in November 2022. Most products that use electricity require FCC equipment authorizations; otherwise, they are illegal to import, sell, market, or use, even for private individuals.
Jul 5, 2024</div><br/><div id="41774807" class="c"><input type="checkbox" id="c-41774807" checked=""/><div class="controls bullet"><span class="by">hcfman</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773986">parent</a><span>|</span><a href="#41774029">next</a><span>|</span><label class="collapse" for="c-41774807">[-]</label><label class="expand" for="c-41774807">[1 more]</label></div><br/><div class="children"><div class="content">Shame, they are the best cameras available.</div><br/></div></div></div></div><div id="41774029" class="c"><input type="checkbox" id="c-41774029" checked=""/><div class="controls bullet"><span class="by">moandcompany</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773904">parent</a><span>|</span><a href="#41773986">prev</a><span>|</span><a href="#41773969">next</a><span>|</span><label class="collapse" for="c-41774029">[-]</label><label class="expand" for="c-41774029">[2 more]</label></div><br/><div class="children"><div class="content">A lot of the commercial-style or commercial-grade IP Cameras sold are rebadged Dahua or Hikvision products.<p>Compromised firmware or other backdoors are a concern for a wide range of products. With IP Cameras, a commonly recommended practice includes putting them on a non-internet accessible network, disabling any remote access, UPnP type features, etc. You can run IP cameras in an air-gapped configuration as well.<p>Home&#x2F;consumer-grade cameras have plenty of shortcomings too.</div><br/><div id="41774810" class="c"><input type="checkbox" id="c-41774810" checked=""/><div class="controls bullet"><span class="by">hcfman</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41774029">parent</a><span>|</span><a href="#41773969">next</a><span>|</span><label class="collapse" for="c-41774810">[-]</label><label class="expand" for="c-41774810">[1 more]</label></div><br/><div class="children"><div class="content">If they are rebadged, that&#x27;s fine :)</div><br/></div></div></div></div><div id="41773969" class="c"><input type="checkbox" id="c-41773969" checked=""/><div class="controls bullet"><span class="by">avh02</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773904">parent</a><span>|</span><a href="#41774029">prev</a><span>|</span><a href="#41773964">next</a><span>|</span><label class="collapse" for="c-41773969">[-]</label><label class="expand" for="c-41773969">[3 more]</label></div><br/><div class="children"><div class="content">You&#x27;re going to have to explain the reasoning here</div><br/><div id="41773984" class="c"><input type="checkbox" id="c-41773984" checked=""/><div class="controls bullet"><span class="by">meow_catrix</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773969">parent</a><span>|</span><a href="#41773964">next</a><span>|</span><label class="collapse" for="c-41773984">[-]</label><label class="expand" for="c-41773984">[2 more]</label></div><br/><div class="children"><div class="content">”Analysts noticed that CCTV cameras in Taiwan and South Korea were digitally talking to crucial parts of the Indian power grid – for no apparent reason. On closer investigation, the strange conversation was the deliberately indirect route by which Chinese spies were interacting with malware they had previously buried deep inside the Indian power grid.”</div><br/><div id="41774226" class="c"><input type="checkbox" id="c-41774226" checked=""/><div class="controls bullet"><span class="by">2Gkashmiri</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773984">parent</a><span>|</span><a href="#41773964">next</a><span>|</span><label class="collapse" for="c-41774226">[-]</label><label class="expand" for="c-41774226">[1 more]</label></div><br/><div class="children"><div class="content">link?
 i am close to CCTV retailers and dahua and hikvision are only brands of CCTV widely available with two exceptions of &quot;cp plus&quot; and &quot;hawkvision&quot; which are in all lilkelihood rebranded or made in china products.<p><a href="https:&#x2F;&#x2F;www.amazon.in&#x2F;s?k=cctv+system+4+channel" rel="nofollow">https:&#x2F;&#x2F;www.amazon.in&#x2F;s?k=cctv+system+4+channel</a><p>so what are your options?  i have been contemplating getting a door phone + cctv for my home for the past so many years but problems like these prevent me from investing into an ecosystem.<p>edit: oh. looks like pager attacks has their attention now.<p><a href="https:&#x2F;&#x2F;trak.in&#x2F;stories&#x2F;pager-bombs-govt-can-ban-chinese-cctvs-favour-local-manufacturers&#x2F;" rel="nofollow">https:&#x2F;&#x2F;trak.in&#x2F;stories&#x2F;pager-bombs-govt-can-ban-chinese-cct...</a><p>i guess time will tell and then there is lobbying so yeah</div><br/></div></div></div></div></div></div><div id="41773964" class="c"><input type="checkbox" id="c-41773964" checked=""/><div class="controls bullet"><span class="by">nativeit</span><span>|</span><a href="#41773737">root</a><span>|</span><a href="#41773904">parent</a><span>|</span><a href="#41773969">prev</a><span>|</span><a href="#41773848">next</a><span>|</span><label class="collapse" for="c-41773964">[-]</label><label class="expand" for="c-41773964">[1 more]</label></div><br/><div class="children"><div class="content">Could you elaborate? What’s up with those brands?</div><br/></div></div></div></div></div></div><div id="41773848" class="c"><input type="checkbox" id="c-41773848" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#41773737">parent</a><span>|</span><a href="#41773875">prev</a><span>|</span><a href="#41774369">next</a><span>|</span><label class="collapse" for="c-41773848">[-]</label><label class="expand" for="c-41773848">[1 more]</label></div><br/><div class="children"><div class="content">Default yolo models are stuck at 640x640, so literally any camera that is at least capable of that resolution. Llava I believe is about the same. You&#x27;d need ubuntu and something that can run a llava model in vaguely real time, so a 4090&#x2F;4080.</div><br/></div></div></div></div><div id="41774369" class="c"><input type="checkbox" id="c-41774369" checked=""/><div class="controls bullet"><span class="by">nikolayasdf123</span><span>|</span><a href="#41773737">prev</a><span>|</span><a href="#41773413">next</a><span>|</span><label class="collapse" for="c-41774369">[-]</label><label class="expand" for="c-41774369">[1 more]</label></div><br/><div class="children"><div class="content">how about llama3.2 vision? should it get better performance?</div><br/></div></div><div id="41773413" class="c"><input type="checkbox" id="c-41773413" checked=""/><div class="controls bullet"><span class="by">_giorgio_</span><span>|</span><a href="#41774369">prev</a><span>|</span><label class="collapse" for="c-41773413">[-]</label><label class="expand" for="c-41773413">[6 more]</label></div><br/><div class="children"><div class="content">All I see, usually, is some AI YOLO algorithm applied to an offline video.<p>This is the first time that I&#x27;ve seen a &quot;complete&quot; setup. Any info to learn more on applying YOLO and similar models to real time streams (whatever the format)?</div><br/><div id="41773828" class="c"><input type="checkbox" id="c-41773828" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#41773413">parent</a><span>|</span><a href="#41773978">next</a><span>|</span><label class="collapse" for="c-41773828">[-]</label><label class="expand" for="c-41773828">[3 more]</label></div><br/><div class="children"><div class="content">Just stream it one frame at a time to the model and eat the latency: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=IHbJcOex6dk" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=IHbJcOex6dk</a> if you need more hand holding.<p>There&#x27;s a reason why there&#x27;s a whole family of models from tiny to huge.</div><br/><div id="41773987" class="c"><input type="checkbox" id="c-41773987" checked=""/><div class="controls bullet"><span class="by">yeldarb</span><span>|</span><a href="#41773413">root</a><span>|</span><a href="#41773828">parent</a><span>|</span><a href="#41773978">next</a><span>|</span><label class="collapse" for="c-41773987">[-]</label><label class="expand" for="c-41773987">[2 more]</label></div><br/><div class="children"><div class="content">If you do it naively your video frames will buffer waiting to be consumed causing a memory leak and eventual crash (or quick crash if you’re running on a device with constrained resources).<p>You really need to have a thread consuming the frames and feeding them to a worker that can run on its own clock.</div><br/><div id="41774574" class="c"><input type="checkbox" id="c-41774574" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#41773413">root</a><span>|</span><a href="#41773987">parent</a><span>|</span><a href="#41773978">next</a><span>|</span><label class="collapse" for="c-41774574">[-]</label><label class="expand" for="c-41774574">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not how loop devices work on Linux.</div><br/></div></div></div></div></div></div><div id="41773978" class="c"><input type="checkbox" id="c-41773978" checked=""/><div class="controls bullet"><span class="by">yeldarb</span><span>|</span><a href="#41773413">parent</a><span>|</span><a href="#41773828">prev</a><span>|</span><a href="#41773537">next</a><span>|</span><label class="collapse" for="c-41773978">[-]</label><label class="expand" for="c-41773978">[1 more]</label></div><br/><div class="children"><div class="content">We’ve got an open source pipeline as part of inference[1] that handles the nuances (multithreading, batching, syncing, reconnecting) of running multiple real time streams (pass in an array of RTSP urls) for CV models like YOLO: <a href="https:&#x2F;&#x2F;blog.roboflow.com&#x2F;vision-models-multiple-streams&#x2F;">https:&#x2F;&#x2F;blog.roboflow.com&#x2F;vision-models-multiple-streams&#x2F;</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;roboflow&#x2F;inference">https:&#x2F;&#x2F;github.com&#x2F;roboflow&#x2F;inference</a></div><br/></div></div><div id="41773537" class="c"><input type="checkbox" id="c-41773537" checked=""/><div class="controls bullet"><span class="by">hug</span><span>|</span><a href="#41773413">parent</a><span>|</span><a href="#41773978">prev</a><span>|</span><label class="collapse" for="c-41773537">[-]</label><label class="expand" for="c-41773537">[1 more]</label></div><br/><div class="children"><div class="content">This repository seems to be exactly what you are asking for. It&#x27;s YOLO analysis of video frames passed in through Real Time Streaming Protocol.</div><br/></div></div></div></div></div></div></div></div></div></body></html>