<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728118872792" as="style"/><link rel="stylesheet" href="styles.css?v=1728118872792"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://mitmproxy.org/posts/releases/mitmproxy-11/">Mitmproxy 11: Full HTTP/3 Support</a> <span class="domain">(<a href="https://mitmproxy.org">mitmproxy.org</a>)</span></div><div class="subtext"><span>mhils</span> | <span>26 comments</span></div><br/><div><div id="41747733" class="c"><input type="checkbox" id="c-41747733" checked=""/><div class="controls bullet"><span class="by">envoked</span><span>|</span><a href="#41746885">next</a><span>|</span><label class="collapse" for="c-41747733">[-]</label><label class="expand" for="c-41747733">[1 more]</label></div><br/><div class="children"><div class="content">It’s great to see that Mitmproxy is still being developed - it indirectly made my career.<p>Back in 2011, I was using it to learn API development by intercepting mobile app requests when I discovered that Airbnb’s API was susceptible to Rails mass assignment (<a href="https:&#x2F;&#x2F;github.com&#x2F;rails&#x2F;rails&#x2F;issues&#x2F;5228">https:&#x2F;&#x2F;github.com&#x2F;rails&#x2F;rails&#x2F;issues&#x2F;5228</a>). I then used it to modify some benign attributes, reached out to the company, and it landed me an interview. Rest is history.</div><br/></div></div><div id="41746885" class="c"><input type="checkbox" id="c-41746885" checked=""/><div class="controls bullet"><span class="by">bluejekyll</span><span>|</span><a href="#41747733">prev</a><span>|</span><a href="#41746252">next</a><span>|</span><label class="collapse" for="c-41746885">[-]</label><label class="expand" for="c-41746885">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for the shoutout to Hickory. It’s always fun to see what people build with it. Nice work!</div><br/><div id="41747534" class="c"><input type="checkbox" id="c-41747534" checked=""/><div class="controls bullet"><span class="by">mhils</span><span>|</span><a href="#41746885">parent</a><span>|</span><a href="#41746252">next</a><span>|</span><label class="collapse" for="c-41747534">[-]</label><label class="expand" for="c-41747534">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for your work on Hickory! It&#x27;s super exciting to see how PyO3&#x27;s Python &lt;-&gt; Rust interop enables us to use a production-grade DNS library with Hickory and also a really solid user-space networking stack with smoltcp. These things wouldn&#x27;t be available in Python otherwise.</div><br/></div></div></div></div><div id="41746252" class="c"><input type="checkbox" id="c-41746252" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#41746885">prev</a><span>|</span><a href="#41746192">next</a><span>|</span><label class="collapse" for="c-41746252">[-]</label><label class="expand" for="c-41746252">[18 more]</label></div><br/><div class="children"><div class="content">Do http&#x2F;2 and http&#x2F;3 offer any benefits if they are only supported by the reverse proxy but not the underlying web server? Most mainstream frameworks for JS&#x2F;Python&#x2F;Ruby don&#x27;t support the newer http standards. Won&#x27;t the web server be a bottleneck for the reverse proxied connection?</div><br/><div id="41747265" class="c"><input type="checkbox" id="c-41747265" checked=""/><div class="controls bullet"><span class="by">AgentME</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41746829">next</a><span>|</span><label class="collapse" for="c-41747265">[-]</label><label class="expand" for="c-41747265">[1 more]</label></div><br/><div class="children"><div class="content">Yes, because http&#x2F;2 or http&#x2F;3 will improve the reliability of the connection between the client and the reverse proxy. The connection between the reverse proxy and the underlying web server is usually much faster and more reliable, so that part would benefit much less from being upgraded to http&#x2F;2 or http&#x2F;3.</div><br/></div></div><div id="41746829" class="c"><input type="checkbox" id="c-41746829" checked=""/><div class="controls bullet"><span class="by">markasoftware</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41747265">prev</a><span>|</span><a href="#41747811">next</a><span>|</span><label class="collapse" for="c-41746829">[-]</label><label class="expand" for="c-41746829">[1 more]</label></div><br/><div class="children"><div class="content">the transport between reverse proxy &lt;-&gt; backend is not always http, eg python w&#x2F; uwsgi and php w&#x2F; fastcgi.<p>And even when it is HTTP, as other commenters said, the reverse proxy is able to handshake connections to the backend much more quickly than an actual remote client would, so it&#x27;s still advantageous to use http&#x2F;2 streams for the slower part of the connection.</div><br/></div></div><div id="41747811" class="c"><input type="checkbox" id="c-41747811" checked=""/><div class="controls bullet"><span class="by">nitely</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41746829">prev</a><span>|</span><a href="#41746398">next</a><span>|</span><label class="collapse" for="c-41747811">[-]</label><label class="expand" for="c-41747811">[1 more]</label></div><br/><div class="children"><div class="content">Something not mentioned: web-browsers limit the number of connections per domain to 6. With +http&#x2F;2 they will use a single connection for multiple concurrent requests.</div><br/></div></div><div id="41746398" class="c"><input type="checkbox" id="c-41746398" checked=""/><div class="controls bullet"><span class="by">masspro</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41747811">prev</a><span>|</span><a href="#41746423">next</a><span>|</span><label class="collapse" for="c-41746398">[-]</label><label class="expand" for="c-41746398">[4 more]</label></div><br/><div class="children"><div class="content">Probably not, but mitmproxy is not a reverse proxy for any production purpose. It’s for running on your local machine and doing testing of either low-level protocol or web security stuff.</div><br/><div id="41747236" class="c"><input type="checkbox" id="c-41747236" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41746398">parent</a><span>|</span><a href="#41746423">next</a><span>|</span><label class="collapse" for="c-41747236">[-]</label><label class="expand" for="c-41747236">[3 more]</label></div><br/><div class="children"><div class="content">&gt; mitmproxy is not a reverse proxy for any production purpose<p>At a startup I was working on a few years ago, I set up mitmproxy in dev and eventually if memory serves right I also sometimes enabled it in prod to debug things.<p>That being said, we did not have a lot of users. We had in fact very very few users at the time.</div><br/><div id="41747470" class="c"><input type="checkbox" id="c-41747470" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41747236">parent</a><span>|</span><a href="#41746423">next</a><span>|</span><label class="collapse" for="c-41747470">[-]</label><label class="expand" for="c-41747470">[2 more]</label></div><br/><div class="children"><div class="content">I’ve been patiently waiting for someone to write a howto that uses mitmproxy to transparently obtain acme certificates for any web servers that are behind it.<p>I’d totally pay a cloud provider to just do this and forward requests to my port 80 or 443 with self signed certificates.<p>Https+acme is already open to this attack vector, so why inconvenience myself by pretending it is not?</div><br/><div id="41747983" class="c"><input type="checkbox" id="c-41747983" checked=""/><div class="controls bullet"><span class="by">dandandan</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41747470">parent</a><span>|</span><a href="#41746423">next</a><span>|</span><label class="collapse" for="c-41747983">[-]</label><label class="expand" for="c-41747983">[1 more]</label></div><br/><div class="children"><div class="content">ngrok can do that<p><a href="https:&#x2F;&#x2F;ngrok.com&#x2F;docs&#x2F;network-edge&#x2F;domains-and-tcp-addresses&#x2F;#branded-domains" rel="nofollow">https:&#x2F;&#x2F;ngrok.com&#x2F;docs&#x2F;network-edge&#x2F;domains-and-tcp-addresse...</a>
<a href="https:&#x2F;&#x2F;ngrok.com&#x2F;docs&#x2F;network-edge&#x2F;tls-certificates&#x2F;#automated" rel="nofollow">https:&#x2F;&#x2F;ngrok.com&#x2F;docs&#x2F;network-edge&#x2F;tls-certificates&#x2F;#automa...</a></div><br/></div></div></div></div></div></div></div></div><div id="41746423" class="c"><input type="checkbox" id="c-41746423" checked=""/><div class="controls bullet"><span class="by">connicpu</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41746398">prev</a><span>|</span><a href="#41747658">next</a><span>|</span><label class="collapse" for="c-41746423">[-]</label><label class="expand" for="c-41746423">[3 more]</label></div><br/><div class="children"><div class="content">Depends. If they&#x27;re running on the same box, the reverse proxy will be able to initiate tcp connections to the web server much more cheaply. Even if they&#x27;re just in the same datacenter, the lower round trip latency will reduce the time for establishing TCP connections. Plus, the proxy might be load balancing across multiple instances of the backend.</div><br/><div id="41746651" class="c"><input type="checkbox" id="c-41746651" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41746423">parent</a><span>|</span><a href="#41747658">next</a><span>|</span><label class="collapse" for="c-41746651">[-]</label><label class="expand" for="c-41746651">[2 more]</label></div><br/><div class="children"><div class="content">Also browsers limit the number of HTTP&#x2F;1.1 requests you can have in flight to a specific domain</div><br/><div id="41747140" class="c"><input type="checkbox" id="c-41747140" checked=""/><div class="controls bullet"><span class="by">ahoka</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41746651">parent</a><span>|</span><a href="#41747658">next</a><span>|</span><label class="collapse" for="c-41747140">[-]</label><label class="expand" for="c-41747140">[1 more]</label></div><br/><div class="children"><div class="content">The limit is much higher for proxies, though.</div><br/></div></div></div></div></div></div><div id="41747658" class="c"><input type="checkbox" id="c-41747658" checked=""/><div class="controls bullet"><span class="by">lemagedurage</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41746423">prev</a><span>|</span><a href="#41747572">next</a><span>|</span><label class="collapse" for="c-41747658">[-]</label><label class="expand" for="c-41747658">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Besides other performance benefits, HTTP&#x2F;3 saves a full roundtrip for connection by combining TCP and TLS handshakes.</div><br/></div></div><div id="41747572" class="c"><input type="checkbox" id="c-41747572" checked=""/><div class="controls bullet"><span class="by">mhils</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41747658">prev</a><span>|</span><a href="#41746525">next</a><span>|</span><label class="collapse" for="c-41747572">[-]</label><label class="expand" for="c-41747572">[1 more]</label></div><br/><div class="children"><div class="content">One of the main promises of HTTP&#x2F;3 is better performance under worse network conditions (e.g. no head-of-line blocking as in HTTP&#x2F;2, connection migration, 0-RTT). For all of that HTTP&#x2F;3 between client and proxy is really great. HTTP&#x2F;3 between proxy and server is not required for that.</div><br/></div></div><div id="41746525" class="c"><input type="checkbox" id="c-41746525" checked=""/><div class="controls bullet"><span class="by">Narhem</span><span>|</span><a href="#41746252">parent</a><span>|</span><a href="#41747572">prev</a><span>|</span><a href="#41746192">next</a><span>|</span><label class="collapse" for="c-41746525">[-]</label><label class="expand" for="c-41746525">[5 more]</label></div><br/><div class="children"><div class="content">http&#x2F;3 seems to be an excellent opportunity to optimize HTMX or any of the libraries which leverage HTML fragments like JSX. The obvious advantage of http&#x2F;3 is for gaming.<p>The servers which run the frameworks have to http&#x2F;3. In most cases the advantages should be transparent to the developers.</div><br/><div id="41746616" class="c"><input type="checkbox" id="c-41746616" checked=""/><div class="controls bullet"><span class="by">deznu</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41746525">parent</a><span>|</span><a href="#41746192">next</a><span>|</span><label class="collapse" for="c-41746616">[-]</label><label class="expand" for="c-41746616">[4 more]</label></div><br/><div class="children"><div class="content">I’m curious what about HTTP&#x2F;3 is particularly advantageous with HTMX?</div><br/><div id="41747076" class="c"><input type="checkbox" id="c-41747076" checked=""/><div class="controls bullet"><span class="by">Narhem</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41746616">parent</a><span>|</span><a href="#41746192">next</a><span>|</span><label class="collapse" for="c-41747076">[-]</label><label class="expand" for="c-41747076">[3 more]</label></div><br/><div class="children"><div class="content">A common use case of HTMX is sending fragments when scrolling.<p>Since http&#x2F;3 uses udp to send the fragments, duplicate packet information doesn’t have to be sent.<p>Kind of funny the newer protocol effectively works in the opposite direction of GraphQl.</div><br/><div id="41747898" class="c"><input type="checkbox" id="c-41747898" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#41746252">root</a><span>|</span><a href="#41747076">parent</a><span>|</span><a href="#41747139">next</a><span>|</span><label class="collapse" for="c-41747898">[-]</label><label class="expand" for="c-41747898">[1 more]</label></div><br/><div class="children"><div class="content">Network congestion management is gonna be wild in the coming decade with the proliferation of udp based protocols</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41746192" class="c"><input type="checkbox" id="c-41746192" checked=""/><div class="controls bullet"><span class="by">38</span><span>|</span><a href="#41746252">prev</a><span>|</span><a href="#41748453">next</a><span>|</span><label class="collapse" for="c-41746192">[-]</label><label class="expand" for="c-41746192">[3 more]</label></div><br/><div class="children"><div class="content">uh:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;mitmproxy&#x2F;mitmproxy&#x2F;issues&#x2F;4170">https:&#x2F;&#x2F;github.com&#x2F;mitmproxy&#x2F;mitmproxy&#x2F;issues&#x2F;4170</a></div><br/><div id="41746250" class="c"><input type="checkbox" id="c-41746250" checked=""/><div class="controls bullet"><span class="by">halJordan</span><span>|</span><a href="#41746192">parent</a><span>|</span><a href="#41747171">next</a><span>|</span><label class="collapse" for="c-41746250">[-]</label><label class="expand" for="c-41746250">[1 more]</label></div><br/><div class="children"><div class="content">Oh no, the summer intern didn&#x27;t close the issue</div><br/></div></div><div id="41747171" class="c"><input type="checkbox" id="c-41747171" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#41746192">parent</a><span>|</span><a href="#41746250">prev</a><span>|</span><a href="#41748453">next</a><span>|</span><label class="collapse" for="c-41747171">[-]</label><label class="expand" for="c-41747171">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;mitmproxy&#x2F;mitmproxy&#x2F;issues&#x2F;6199">https:&#x2F;&#x2F;github.com&#x2F;mitmproxy&#x2F;mitmproxy&#x2F;issues&#x2F;6199</a></div><br/></div></div></div></div><div id="41748453" class="c"><input type="checkbox" id="c-41748453" checked=""/><div class="controls bullet"><span class="by">verytrivial</span><span>|</span><a href="#41746192">prev</a><span>|</span><label class="collapse" for="c-41748453">[-]</label><label class="expand" for="c-41748453">[1 more]</label></div><br/><div class="children"><div class="content">I have just realised the phrase &quot;we are excited to announce&quot; has been ruined for me. Pavlovian response now expects &quot;but with this realigned there will unfortunately be some involuntary career events for our team.&quot;</div><br/></div></div></div></div></div></div></div></body></html>