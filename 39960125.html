<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712566861305" as="style"/><link rel="stylesheet" href="styles.css?v=1712566861305"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://security.googleblog.com/2024/03/google-public-dnss-approach-to-fight.html">Google Public DNS&#x27;s approach to fight against cache poisoning attacks</a> <span class="domain">(<a href="https://security.googleblog.com">security.googleblog.com</a>)</span></div><div class="subtext"><span>tatersolid</span> | <span>47 comments</span></div><br/><div><div id="39960336" class="c"><input type="checkbox" id="c-39960336" checked=""/><div class="controls bullet"><span class="by">LinuxBender</span><span>|</span><a href="#39961276">next</a><span>|</span><label class="collapse" for="c-39960336">[-]</label><label class="expand" for="c-39960336">[14 more]</label></div><br/><div class="children"><div class="content">I see most of the bot traffic hiding behind Google and Cloudflare.  I appreciate that.  They take a lot of load off my servers.  If I had one request of Google it would be to remove the TTL cap of 21600 or raise it to 86400 to further reduce the traffic that comes through from them as my TTL records are very high on purpose for my own reasons that I will not debate.  I know memory is still a limit.  CF seem to honor my TTL&#x27;s with the caveat I have to wait for each node behind their anycast clusters to cache the record but that&#x27;s fine.<p>As a side note, whatever group in Google are running DNS are doing a great job.  I do not see malformed garbage coming from them.  <i>Some people watch birds when they retire, I watch packets ... and critters.</i></div><br/><div id="39962556" class="c"><input type="checkbox" id="c-39962556" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#39960336">parent</a><span>|</span><a href="#39964766">next</a><span>|</span><label class="collapse" for="c-39962556">[-]</label><label class="expand" for="c-39962556">[7 more]</label></div><br/><div class="children"><div class="content">&gt; <i>my TTL records are very high on purpose for my own reasons that I will not debate.</i><p>Why are your records high?  Is the load on your servers too intense otherwise?  (not trying to debate, am curious because I&#x27;ve really appreciated your comments&#x2F;insights in the past)</div><br/><div id="39964991" class="c"><input type="checkbox" id="c-39964991" checked=""/><div class="controls bullet"><span class="by">oooyay</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39962556">parent</a><span>|</span><a href="#39962748">next</a><span>|</span><label class="collapse" for="c-39964991">[-]</label><label class="expand" for="c-39964991">[1 more]</label></div><br/><div class="children"><div class="content">Ask and you shall receive: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=21436448">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=21436448</a></div><br/></div></div><div id="39962748" class="c"><input type="checkbox" id="c-39962748" checked=""/><div class="controls bullet"><span class="by">contingencies</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39962556">parent</a><span>|</span><a href="#39964991">prev</a><span>|</span><a href="#39963336">next</a><span>|</span><label class="collapse" for="c-39962748">[-]</label><label class="expand" for="c-39962748">[4 more]</label></div><br/><div class="children"><div class="content">Guess - possibly some sort of outbound port-knock alternative:<p><pre><code>   if (SYN-&gt;dest port &amp;&amp; TTL &gt; X) { ACK };</code></pre></div><br/><div id="39964418" class="c"><input type="checkbox" id="c-39964418" checked=""/><div class="controls bullet"><span class="by">ThePowerOfFuet</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39962748">parent</a><span>|</span><a href="#39963655">next</a><span>|</span><label class="collapse" for="c-39964418">[-]</label><label class="expand" for="c-39964418">[2 more]</label></div><br/><div class="children"><div class="content">How is this supposed to work, exactly?</div><br/><div id="39966195" class="c"><input type="checkbox" id="c-39966195" checked=""/><div class="controls bullet"><span class="by">contingencies</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39964418">parent</a><span>|</span><a href="#39963655">next</a><span>|</span><label class="collapse" for="c-39966195">[-]</label><label class="expand" for="c-39966195">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Port_knocking" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Port_knocking</a> <a href="https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;Port_knocking" rel="nofollow">https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;Port_knocking</a></div><br/></div></div></div></div><div id="39963655" class="c"><input type="checkbox" id="c-39963655" checked=""/><div class="controls bullet"><span class="by">egberts1</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39962748">parent</a><span>|</span><a href="#39964418">prev</a><span>|</span><a href="#39963336">next</a><span>|</span><label class="collapse" for="c-39963655">[-]</label><label class="expand" for="c-39963655">[1 more]</label></div><br/><div class="children"><div class="content">this</div><br/></div></div></div></div></div></div><div id="39964766" class="c"><input type="checkbox" id="c-39964766" checked=""/><div class="controls bullet"><span class="by">yuliyp</span><span>|</span><a href="#39960336">parent</a><span>|</span><a href="#39962556">prev</a><span>|</span><a href="#39960797">next</a><span>|</span><label class="collapse" for="c-39964766">[-]</label><label class="expand" for="c-39964766">[5 more]</label></div><br/><div class="children"><div class="content">A recursive resolver is not a database. They&#x27;re under no obligation to cache for a day.</div><br/><div id="39965523" class="c"><input type="checkbox" id="c-39965523" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39964766">parent</a><span>|</span><a href="#39960797">next</a><span>|</span><label class="collapse" for="c-39965523">[-]</label><label class="expand" for="c-39965523">[4 more]</label></div><br/><div class="children"><div class="content">Okay stupid question… I thought TTL was a count of hops, not time in seconds.  Or do people use it differently where instead of subtracting 1, their routing devices subtract n seconds?</div><br/><div id="39965537" class="c"><input type="checkbox" id="c-39965537" checked=""/><div class="controls bullet"><span class="by">yuliyp</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39965523">parent</a><span>|</span><a href="#39960797">next</a><span>|</span><label class="collapse" for="c-39965537">[-]</label><label class="expand" for="c-39965537">[3 more]</label></div><br/><div class="children"><div class="content">TTL is a general term standing for &quot;time to live&quot;. In the context of an IP packet it&#x27;s a number of hops. In the context of a cache, it&#x27;s a time until expiration.</div><br/><div id="39966807" class="c"><input type="checkbox" id="c-39966807" checked=""/><div class="controls bullet"><span class="by">ongy</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39965537">parent</a><span>|</span><a href="#39965550">next</a><span>|</span><label class="collapse" for="c-39966807">[-]</label><label class="expand" for="c-39966807">[1 more]</label></div><br/><div class="children"><div class="content">IP is weird.<p>TTL is still in seconds, but every hop has to decrease it by at least one.<p>I&#x27;m not sure if there is any implementation out there that cares, but if e.g. wifi retries or a massive buffer queue lead to a packet spending more than a second on a hop, it should decrease by two.</div><br/></div></div><div id="39965550" class="c"><input type="checkbox" id="c-39965550" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#39960336">root</a><span>|</span><a href="#39965537">parent</a><span>|</span><a href="#39966807">prev</a><span>|</span><a href="#39960797">next</a><span>|</span><label class="collapse" for="c-39965550">[-]</label><label class="expand" for="c-39965550">[1 more]</label></div><br/><div class="children"><div class="content">Derp. Right. We’re talking about caching.</div><br/></div></div></div></div></div></div></div></div><div id="39960797" class="c"><input type="checkbox" id="c-39960797" checked=""/><div class="controls bullet"><span class="by">WirelessGigabit</span><span>|</span><a href="#39960336">parent</a><span>|</span><a href="#39964766">prev</a><span>|</span><a href="#39961276">next</a><span>|</span><label class="collapse" for="c-39960797">[-]</label><label class="expand" for="c-39960797">[1 more]</label></div><br/><div class="children"><div class="content">I aspire to be you when (if) I retire.</div><br/></div></div></div></div><div id="39961276" class="c"><input type="checkbox" id="c-39961276" checked=""/><div class="controls bullet"><span class="by">mjl-</span><span>|</span><a href="#39960336">prev</a><span>|</span><a href="#39960584">next</a><span>|</span><label class="collapse" for="c-39961276">[-]</label><label class="expand" for="c-39961276">[2 more]</label></div><br/><div class="children"><div class="content">Wondering what prompted the blog post. The recent publication of RFC 9539?<p>It would be interesting to hear how often the google dns servers see attempts to poison their cache. The mitigations probably prevent folks from even trying, but he numbers would be interesting.<p>The OARC 40 presentation PDF mentions cookies deployment is low for large operators but open source software has compliant implementations. Are large operators writing their own dns servers, but badly? I would think there wouldn&#x27;t be many custom implementations, and that you would be able to detect which software nameservers are running, each with known capabilities. But from the way the numbers are presented it seems they only look at behaviour without considering software (versions).</div><br/><div id="39965870" class="c"><input type="checkbox" id="c-39965870" checked=""/><div class="controls bullet"><span class="by">mike_d</span><span>|</span><a href="#39961276">parent</a><span>|</span><a href="#39960584">next</a><span>|</span><label class="collapse" for="c-39965870">[-]</label><label class="expand" for="c-39965870">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Are large operators writing their own dns servers, but badly?<p>Yes. It is trivial to build a DNS server, and near impossible to write a correct DNS server. Eventually your organization gets large enough that someone thinks it is a good idea without understanding the implications.<p>&gt; you would be able to detect which software nameservers are running, each with known capabilities<p>There are pseudo-standards for asking an authoritative server what software it is running, but everyone turns that off because somehow it makes you &quot;more secure.&quot; What you end up having to do is probe auth servers by replaying user queries on the side, measuring if the responses you get are correct, and then keeping a database somewhere of which servers support which flags.</div><br/></div></div></div></div><div id="39960584" class="c"><input type="checkbox" id="c-39960584" checked=""/><div class="controls bullet"><span class="by">ape4</span><span>|</span><a href="#39961276">prev</a><span>|</span><a href="#39961320">next</a><span>|</span><label class="collapse" for="c-39960584">[-]</label><label class="expand" for="c-39960584">[4 more]</label></div><br/><div class="children"><div class="content">Good to hear the world&#x27;s infrastructure relies on a kludge like case randomization.</div><br/><div id="39963019" class="c"><input type="checkbox" id="c-39963019" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#39960584">parent</a><span>|</span><a href="#39962046">next</a><span>|</span><label class="collapse" for="c-39963019">[-]</label><label class="expand" for="c-39963019">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s how you maintain backwards compatibility while improving security.  I&#x27;m not sure lamenting the imperfection is valuable,  but it is a worthwhile lesson for those designing new protocols.<p>If it becomes popular enough you will certainly face future security challenges you failed to even imagine.  Leave some room for that.<p>Otherwise,  this is great work.</div><br/></div></div><div id="39962046" class="c"><input type="checkbox" id="c-39962046" checked=""/><div class="controls bullet"><span class="by">bradfitz</span><span>|</span><a href="#39960584">parent</a><span>|</span><a href="#39963019">prev</a><span>|</span><a href="#39961320">next</a><span>|</span><label class="collapse" for="c-39962046">[-]</label><label class="expand" for="c-39962046">[2 more]</label></div><br/><div class="children"><div class="content">Longer domain names are more secure!</div><br/><div id="39962257" class="c"><input type="checkbox" id="c-39962257" checked=""/><div class="controls bullet"><span class="by">jamespwilliams</span><span>|</span><a href="#39960584">root</a><span>|</span><a href="#39962046">parent</a><span>|</span><a href="#39961320">next</a><span>|</span><label class="collapse" for="c-39962257">[-]</label><label class="expand" for="c-39962257">[1 more]</label></div><br/><div class="children"><div class="content">And conversely, short domains like Google’s own g.co are less secure!</div><br/></div></div></div></div></div></div><div id="39961320" class="c"><input type="checkbox" id="c-39961320" checked=""/><div class="controls bullet"><span class="by">rainsford</span><span>|</span><a href="#39960584">prev</a><span>|</span><a href="#39961517">next</a><span>|</span><label class="collapse" for="c-39961320">[-]</label><label class="expand" for="c-39961320">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a little surprised Google only implemented case randomization by default in 2022 considering it&#x27;s been around since 2008.  Presumably they had concerns about widespread compatibility?  Although my understanding is that for a lot of DNS servers it just worked without any specific implementation effort...but maybe there was a long tail of random server types Google was concerned about.</div><br/></div></div><div id="39961517" class="c"><input type="checkbox" id="c-39961517" checked=""/><div class="controls bullet"><span class="by">spydum</span><span>|</span><a href="#39961320">prev</a><span>|</span><a href="#39963833">next</a><span>|</span><label class="collapse" for="c-39961517">[-]</label><label class="expand" for="c-39961517">[1 more]</label></div><br/><div class="children"><div class="content">This is so weird to see. Just this morning I was checking thru my public authoritative NS query logs, and noticed the random capitalization. I had also noticed this in a similar work environment roughly end of 2023, but attributed it to people just doing DNS wordlist bruteforcing to find stuff (couldn&#x27;t explain the case, but figured it was some evasion).<p>Today I let my curiosity dive deeper and quickly found the ietf publication on 0x20 encoding and this article.<p>Just odd to see others post it to hn on the same day.. coincidences are weird.</div><br/></div></div><div id="39963833" class="c"><input type="checkbox" id="c-39963833" checked=""/><div class="controls bullet"><span class="by">MarkSweep</span><span>|</span><a href="#39961517">prev</a><span>|</span><a href="#39960631">next</a><span>|</span><label class="collapse" for="c-39963833">[-]</label><label class="expand" for="c-39963833">[1 more]</label></div><br/><div class="children"><div class="content">The that the longer your domain name, the less susceptible is it to cache poisoning attacks, right? Since there are more possible case variations.</div><br/></div></div><div id="39960631" class="c"><input type="checkbox" id="c-39960631" checked=""/><div class="controls bullet"><span class="by">AndyMcConachie</span><span>|</span><a href="#39963833">prev</a><span>|</span><a href="#39961673">next</a><span>|</span><label class="collapse" for="c-39960631">[-]</label><label class="expand" for="c-39960631">[21 more]</label></div><br/><div class="children"><div class="content">Weird that they don&#x27;t even mention that Google&#x27;s public DNS performs DNSSEC validation. It does, and that&#x27;s the ultimate defense against cache poisoning attacks.</div><br/><div id="39960666" class="c"><input type="checkbox" id="c-39960666" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">parent</a><span>|</span><a href="#39961597">next</a><span>|</span><label class="collapse" for="c-39960666">[-]</label><label class="expand" for="c-39960666">[6 more]</label></div><br/><div class="children"><div class="content">No, it obviously isn&#x27;t, because less than 5% of zones are signed, and an even smaller fraction of important zones (the Moz 500, the Tranco list) are.<p>That&#x27;s why they don&#x27;t mention DNSSEC: because it isn&#x27;t a significant security mechanism for Internet DNS. It&#x27;s also why they do mention ADoT: because it is.<p>I think this is also why DNSSEC advocates are so fixated on DANE, which is (necessarily) an even harder lift than getting DNSSEC deployed: because the attacks DNSSEC were ostensibly designed to address are now solved problems.<p>Note also that if ADoT rolls out all the way --- it&#x27;s already significantly more available than DNSSEC! --- there won&#x27;t even be a real architectural argument for DNSSEC anymore, because we&#x27;ll have end-to-end cryptographic security for the DNS.<p>Thanks for calling this out! That Google feels case randomization is more important than DNSSEC is indeed telling.</div><br/><div id="39960952" class="c"><input type="checkbox" id="c-39960952" checked=""/><div class="controls bullet"><span class="by">Hazelnut2465</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39960666">parent</a><span>|</span><a href="#39960937">next</a><span>|</span><label class="collapse" for="c-39960952">[-]</label><label class="expand" for="c-39960952">[4 more]</label></div><br/><div class="children"><div class="content">&gt; there won&#x27;t even be a real architectural argument for DNSSEC anymore<p>ADoT relies on NS records to be DNSSEC signed.<p>The TLS certificates that ADoT relies on need to be hashed into TLSA records (DANE, DNSSEC).</div><br/><div id="39962510" class="c"><input type="checkbox" id="c-39962510" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39960952">parent</a><span>|</span><a href="#39960937">next</a><span>|</span><label class="collapse" for="c-39962510">[-]</label><label class="expand" for="c-39962510">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;educatedguesswork.org&#x2F;posts&#x2F;dns-security-adox&#x2F;" rel="nofollow">https:&#x2F;&#x2F;educatedguesswork.org&#x2F;posts&#x2F;dns-security-adox&#x2F;</a></div><br/><div id="39963374" class="c"><input type="checkbox" id="c-39963374" checked=""/><div class="controls bullet"><span class="by">Hazelnut2465</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39962510">parent</a><span>|</span><a href="#39960937">next</a><span>|</span><label class="collapse" for="c-39963374">[-]</label><label class="expand" for="c-39963374">[2 more]</label></div><br/><div class="children"><div class="content">And? The IETF RFC draft for ADoT still specifies that it relies on DNSSEC.<p><a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;draft-dickson-dprive-adot-auth&#x2F;" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;draft-dickson-dprive-adot-a...</a></div><br/><div id="39965279" class="c"><input type="checkbox" id="c-39965279" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39963374">parent</a><span>|</span><a href="#39960937">next</a><span>|</span><label class="collapse" for="c-39965279">[-]</label><label class="expand" for="c-39965279">[1 more]</label></div><br/><div class="children"><div class="content">Check out the DPRIVE working group (ekr&#x27;s comments in particular) for some of the backstory. DNSSEC isn&#x27;t happening either way, but I think ADOX might.</div><br/></div></div></div></div></div></div></div></div><div id="39960937" class="c"><input type="checkbox" id="c-39960937" checked=""/><div class="controls bullet"><span class="by">tialaramex</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39960666">parent</a><span>|</span><a href="#39960952">prev</a><span>|</span><a href="#39961597">next</a><span>|</span><label class="collapse" for="c-39960937">[-]</label><label class="expand" for="c-39960937">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the attacks DNSSEC were ostensibly designed to address are now solved problems.<p>Maybe you can help figure out where you went wrong here by explaining what - in your understanding - were the problems that DNSSEC was &quot;ostensibly designed to address&quot; ?<p>&gt; because we&#x27;ll have end-to-end cryptographic security for the DNS.<p>In 1995 a researcher who was annoyed about people snooping his passwords over telnet invented a protocol (and gave away a free Unix program) which I guess you&#x27;d say delivers &quot;end-to-end cryptographic security&quot; for the remote shell. Now, when you go into a startup and you find they&#x27;ve set up a bunch of ad hoc SSH servers and their people are just agreeing to all the &quot;Are you sure you want to continue ..?&quot; messages, do you think &quot;That&#x27;s fine, it&#x27;s end-to-end cryptographic security&quot; ? Or do you immediately put that on the Must Do list for basic security because it&#x27;s an obvious vulnerability ?</div><br/></div></div></div></div><div id="39961597" class="c"><input type="checkbox" id="c-39961597" checked=""/><div class="controls bullet"><span class="by">8organicbits</span><span>|</span><a href="#39960631">parent</a><span>|</span><a href="#39960666">prev</a><span>|</span><a href="#39963128">next</a><span>|</span><label class="collapse" for="c-39961597">[-]</label><label class="expand" for="c-39961597">[3 more]</label></div><br/><div class="children"><div class="content">For end users, TLS is the key protection. I don&#x27;t care if my DNS is poisoned, MITMed, or malicious: if the IP address I connect to can&#x27;t present a valid TLS cert, then I don&#x27;t proceed.<p>If you can&#x27;t securely authenticate your server (as HTTPS&#x2F;TLS does) you have other problems too.</div><br/><div id="39962785" class="c"><input type="checkbox" id="c-39962785" checked=""/><div class="controls bullet"><span class="by">singpolyma3</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39961597">parent</a><span>|</span><a href="#39963128">next</a><span>|</span><label class="collapse" for="c-39962785">[-]</label><label class="expand" for="c-39962785">[2 more]</label></div><br/><div class="children"><div class="content">Unfortunately it&#x27;s quite easy for some actors to get a valid TLS cert <a href="https:&#x2F;&#x2F;notes.valdikss.org.ru&#x2F;jabber.ru-mitm&#x2F;" rel="nofollow">https:&#x2F;&#x2F;notes.valdikss.org.ru&#x2F;jabber.ru-mitm&#x2F;</a></div><br/><div id="39966742" class="c"><input type="checkbox" id="c-39966742" checked=""/><div class="controls bullet"><span class="by">tsimionescu</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39962785">parent</a><span>|</span><a href="#39963128">next</a><span>|</span><label class="collapse" for="c-39966742">[-]</label><label class="expand" for="c-39966742">[1 more]</label></div><br/><div class="children"><div class="content">Quite astonishing that someone managed to get valid certs from Let&#x27;s Encrypt for domains that they didn&#x27;t own. Has Let&#x27;s Encrypt issued any statements about how this might have happened, and how those specific certificates were validated by them?<p>Still, good to see that monitoring the CT logs would have caught this problem much sooner.</div><br/></div></div></div></div></div></div><div id="39963128" class="c"><input type="checkbox" id="c-39963128" checked=""/><div class="controls bullet"><span class="by">phicoh</span><span>|</span><a href="#39960631">parent</a><span>|</span><a href="#39961597">prev</a><span>|</span><a href="#39960669">next</a><span>|</span><label class="collapse" for="c-39963128">[-]</label><label class="expand" for="c-39963128">[8 more]</label></div><br/><div class="children"><div class="content">DNS is where the web would have been if browsers basically didn&#x27;t force websites to support HTTPS.<p>The reasoning is that DNS is not important enough to go through the trouble of deploying DNSSEC. These days TLS is often cited as the reason DNSSEC is not needed.<p>At the same time we see a lot of interest in techniques to prevent cache poisoning and other spoofing attacks. Suddenly in those cases DNS is important.<p>If all DNS client software would drop UDP source port randomization and randomized IDs, then lots of people would be very upset. Because DNS security was more important than claimed.<p>DNS cookies are also an interesting case. They can stop most cache poisoning attacks. But from the google article, big DNS authoritatives do not deploy them.</div><br/><div id="39963269" class="c"><input type="checkbox" id="c-39963269" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39963128">parent</a><span>|</span><a href="#39964009">next</a><span>|</span><label class="collapse" for="c-39963269">[-]</label><label class="expand" for="c-39963269">[3 more]</label></div><br/><div class="children"><div class="content">The key thing to note is that anti-poisoning countermeasures deployed at major authority servers scale to provide value without incurring cost for every (serverside) Internet &quot;user&quot;, and DNSSEC doesn&#x27;t. A lot of these thing seem like (really, are) half-measures, but their cost&#x2F;benefit ratio is drastically different, which is why they get rolled out so quickly compared to DNSSEC, which is more akin to a forklift upgrade.</div><br/><div id="39963419" class="c"><input type="checkbox" id="c-39963419" checked=""/><div class="controls bullet"><span class="by">phicoh</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39963269">parent</a><span>|</span><a href="#39964009">next</a><span>|</span><label class="collapse" for="c-39963419">[-]</label><label class="expand" for="c-39963419">[2 more]</label></div><br/><div class="children"><div class="content">There is no quickly in the Google article. It took them ages to roll out 0x20. Cookies are not very well supported. And then the elephant in the room is the connection between the stub resolver and the public DNS resolvers.<p>The interesting thing is what happens when BGP is used to redirect traffic to DNS servers: <a href="https:&#x2F;&#x2F;www.thousandeyes.com&#x2F;blog&#x2F;amazon-route-53-dns-and-bgp-hijack" rel="nofollow">https:&#x2F;&#x2F;www.thousandeyes.com&#x2F;blog&#x2F;amazon-route-53-dns-and-bg...</a></div><br/><div id="39964012" class="c"><input type="checkbox" id="c-39964012" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39963419">parent</a><span>|</span><a href="#39964009">next</a><span>|</span><label class="collapse" for="c-39964012">[-]</label><label class="expand" for="c-39964012">[1 more]</label></div><br/><div class="children"><div class="content">Did it take 25 years? That&#x27;s the baseline. :)</div><br/></div></div></div></div></div></div><div id="39964009" class="c"><input type="checkbox" id="c-39964009" checked=""/><div class="controls bullet"><span class="by">throwaway458864</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39963128">parent</a><span>|</span><a href="#39963269">prev</a><span>|</span><a href="#39960669">next</a><span>|</span><label class="collapse" for="c-39964009">[-]</label><label class="expand" for="c-39964009">[4 more]</label></div><br/><div class="children"><div class="content">If we didn&#x27;t have the web, all networking above OSI L4 on all operating systems would have been encrypted by default. A simple set of syscalls and kernel features could have enabled it. But since the web was there, and popularized a solution for secure communications (TLS + HTTP), everyone just jumped on that bandwagon, and built skyscrapers on top of a used books store.<p>The weird irony is it&#x27;s the old &quot;worse is better&quot; winning again. HTTP and TLS are fairly bad protocols, in their own ways. But put them together and they&#x27;re better than whatever else exists. It&#x27;s just too bad we didn&#x27;t keep them and ditch the browser.</div><br/><div id="39967079" class="c"><input type="checkbox" id="c-39967079" checked=""/><div class="controls bullet"><span class="by">phicoh</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39964009">parent</a><span>|</span><a href="#39966768">next</a><span>|</span><label class="collapse" for="c-39967079">[-]</label><label class="expand" for="c-39967079">[1 more]</label></div><br/><div class="children"><div class="content">Assuming you are talking about IPSEC, that uses a model that is very hard to deploy.<p>The problem is that applications typically use TCP connections, but IPSEC works at the IP level. Early on, the (BSD socket) kernel API was basically fixed at the IP level instead of associating it with a TCP socket.<p>So the whole thing became too complex (also for other reasons). So SSL and SSH were created to have simple things that worked.<p>SSL took many iterations to get any kind of security, so IPSEC had plenty of time to get it right and take over. But as far as I know, there just never happened. It also doesn&#x27;t help that TLS is trivial to combine with NAT, and for IPSEC that is quite tricky.</div><br/></div></div><div id="39966768" class="c"><input type="checkbox" id="c-39966768" checked=""/><div class="controls bullet"><span class="by">tsimionescu</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39964009">parent</a><span>|</span><a href="#39967079">prev</a><span>|</span><a href="#39964139">next</a><span>|</span><label class="collapse" for="c-39966768">[-]</label><label class="expand" for="c-39966768">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t the Linux kernel at least very unhappy with the idea of adding encryption logic inside, especially in a way where they expose this to user space?</div><br/></div></div><div id="39964139" class="c"><input type="checkbox" id="c-39964139" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39964009">parent</a><span>|</span><a href="#39966768">prev</a><span>|</span><a href="#39960669">next</a><span>|</span><label class="collapse" for="c-39964139">[-]</label><label class="expand" for="c-39964139">[1 more]</label></div><br/><div class="children"><div class="content">Can you articulate what you believe is bad about TLS?</div><br/></div></div></div></div></div></div><div id="39960669" class="c"><input type="checkbox" id="c-39960669" checked=""/><div class="controls bullet"><span class="by">LinuxBender</span><span>|</span><a href="#39960631">parent</a><span>|</span><a href="#39963128">prev</a><span>|</span><a href="#39961673">next</a><span>|</span><label class="collapse" for="c-39960669">[-]</label><label class="expand" for="c-39960669">[3 more]</label></div><br/><div class="children"><div class="content">Just guessing but it could be the lack of adoption.   Despite having climbed rapidly in the last few years [0] the percentage is still very low. [1]<p>[0] - <a href="https:&#x2F;&#x2F;www.verisign.com&#x2F;en_US&#x2F;company-information&#x2F;verisign-labs&#x2F;internet-security-tools&#x2F;dnssec-scoreboard&#x2F;index.xhtml" rel="nofollow">https:&#x2F;&#x2F;www.verisign.com&#x2F;en_US&#x2F;company-information&#x2F;verisign-...</a><p>[1] - <a href="https:&#x2F;&#x2F;www.statdns.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.statdns.com&#x2F;</a></div><br/><div id="39962325" class="c"><input type="checkbox" id="c-39962325" checked=""/><div class="controls bullet"><span class="by">omoikane</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39960669">parent</a><span>|</span><a href="#39961673">next</a><span>|</span><label class="collapse" for="c-39962325">[-]</label><label class="expand" for="c-39962325">[2 more]</label></div><br/><div class="children"><div class="content">The low adoption of DNSSEC might be due to posts like these:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36171696">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36171696</a> - Calling time on DNSSEC: The costs exceed the benefits (2023)<p>And also many news regarding validation failures:<p><a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=dnssec" rel="nofollow">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=dnssec</a></div><br/><div id="39962678" class="c"><input type="checkbox" id="c-39962678" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39960631">root</a><span>|</span><a href="#39962325">parent</a><span>|</span><a href="#39961673">next</a><span>|</span><label class="collapse" for="c-39962678">[-]</label><label class="expand" for="c-39962678">[1 more]</label></div><br/><div class="children"><div class="content">The rabbit hole on people gradually pulling up stakes on DNSSEC goes deeper than that; I&#x27;d say the canary in the coal mine is probably Geoff Huston switching from &quot;of course we&#x27;re going to DNSSEC everything&quot; to &quot;are we going to DNSSEC anything?&quot;:<p><a href="https:&#x2F;&#x2F;www.potaroo.net&#x2F;ispcol&#x2F;2023-02&#x2F;dnssec.html" rel="nofollow">https:&#x2F;&#x2F;www.potaroo.net&#x2F;ispcol&#x2F;2023-02&#x2F;dnssec.html</a><p>(Geoff Huston is an Internet infrastructure giant.)<p>But really it all just boils down to the fact that the DNS zones that matter --- the ones at the busy end of the fat tail of lookups --- just aren&#x27;t signed, despite 25 years of work on the standard. IPv6 is gradually mainstreaming; in countries where registrars auto-sign zones, DNSSEC is growing too, but very notably in countries where people have a choice, DNSSEC deployment is stubbornly stuck in the low single digit percentages, and the zones that are getting signed are disproportionately not in the top 10,000 of the Tranco list.</div><br/></div></div></div></div></div></div></div></div><div id="39961673" class="c"><input type="checkbox" id="c-39961673" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#39960631">prev</a><span>|</span><a href="#39961040">next</a><span>|</span><label class="collapse" for="c-39961673">[-]</label><label class="expand" for="c-39961673">[1 more]</label></div><br/><div class="children"><div class="content">I first heard about this 0x20 scheme around 2015 when I was working on a DNS cache (also at Google, but not for the public DNS team). I noticed and had to work around the fact that some servers were responding in vixie-case even when the requests were not. Those servers would be broken if the requests were paying attention to 0x20, right? I wonder what software was doing that.</div><br/></div></div></div></div></div></div></div></body></html>