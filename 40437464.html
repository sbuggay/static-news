<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1716368468768" as="style"/><link rel="stylesheet" href="styles.css?v=1716368468768"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.undeadly.org/cgi?action=article;sid=20240522045252">Possible firmware issues for Apple Silicon OpenBSD/ARM64 users</a> <span class="domain">(<a href="https://www.undeadly.org">www.undeadly.org</a>)</span></div><div class="subtext"><span>peter_hansteen</span> | <span>16 comments</span></div><br/><div><div id="40437631" class="c"><input type="checkbox" id="c-40437631" checked=""/><div class="controls bullet"><span class="by">AceJohnny2</span><span>|</span><a href="#40437551">next</a><span>|</span><label class="collapse" for="c-40437631">[-]</label><label class="expand" for="c-40437631">[3 more]</label></div><br/><div class="children"><div class="content">As the email message says, this is due to a <i>bug in the Asahi M1N1 hypervisor&#x2F;bootloader</i> (from the Asahi Linux project) which OpenBSD piggybacks on.<p><a href="https:&#x2F;&#x2F;social.treehouse.systems&#x2F;@AsahiLinux&#x2F;112454079096607233" rel="nofollow">https:&#x2F;&#x2F;social.treehouse.systems&#x2F;@AsahiLinux&#x2F;112454079096607...</a></div><br/><div id="40437672" class="c"><input type="checkbox" id="c-40437672" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#40437631">parent</a><span>|</span><a href="#40437969">next</a><span>|</span><label class="collapse" for="c-40437672">[-]</label><label class="expand" for="c-40437672">[1 more]</label></div><br/><div class="children"><div class="content">Comments by Asahi Linux on Apple firmware dependency:<p><pre><code>  Asahi Linux already depends on a stable firmware interface provided by a fixed version of macOS, so macOS updates generally do not affect it. However, macOS updates can update system-wide firmware in ways that are backwards-compatible. In this case, one such update triggered a bug in our code.

  This is no different from updating firmware on any other machine. It is always possible that a benign, backwards-compatible firmware update will trigger a latent bug by chance. This has only happened twice so far, since the project started, and both times we quickly fixed it.

  Apple&#x27;s platform&#x2F;system design requires that they maintain backwards compatibility, in order to be able to run older versions of macOS. Therefore, they cannot break Asahi Linux with updates on purpose, only due to bugs.

 ... If you don&#x27;t want to trust Apple software and their updates and just want to use Linux, then nobody forces you to. macOS is only used for installation and certain update&#x2F;recovery scenarios, it&#x27;s not part of the Linux boot process in any way and It&#x27;s not going to magically update itself.</code></pre></div><br/></div></div><div id="40437969" class="c"><input type="checkbox" id="c-40437969" checked=""/><div class="controls bullet"><span class="by">brynet</span><span>|</span><a href="#40437631">parent</a><span>|</span><a href="#40437672">prev</a><span>|</span><a href="#40437551">next</a><span>|</span><label class="collapse" for="c-40437969">[-]</label><label class="expand" for="c-40437969">[1 more]</label></div><br/><div class="children"><div class="content">An OpenBSD developer has since very early on contributed to m1n1 and the u-boot port, which is also shared by Linux.<p><a href="https:&#x2F;&#x2F;asahilinux.org&#x2F;about&#x2F;#who-is-working-on-asahi-linux" rel="nofollow">https:&#x2F;&#x2F;asahilinux.org&#x2F;about&#x2F;#who-is-working-on-asahi-linux</a><p>Booting OpenBSD on a Apple silicon Mac requires:<p>• macOS + m1n1 stage 1 (from the Asahi Linux project)<p>• m1n1 stage 2 + u-boot (from OpenBSD)<p>• OpenBSD&#x27;s EFI bootloader (BOOTAA64.EFI).<p>A recent macOS update exposed a bug in m1n1 which has been fixed and pushed out by both the Asahi Linux team, and now also OpenBSD.</div><br/></div></div></div></div><div id="40437551" class="c"><input type="checkbox" id="c-40437551" checked=""/><div class="controls bullet"><span class="by">lenerdenator</span><span>|</span><a href="#40437631">prev</a><span>|</span><a href="#40438063">next</a><span>|</span><label class="collapse" for="c-40437551">[-]</label><label class="expand" for="c-40437551">[4 more]</label></div><br/><div class="children"><div class="content">Is this the result of Apple trying to make installing non-MacOS OSes on the M-series harder, or Apple only caring about the &quot;happy path&quot; of MacOS installing and booting on M-series chips and not caring about whether anyone else can?</div><br/><div id="40437574" class="c"><input type="checkbox" id="c-40437574" checked=""/><div class="controls bullet"><span class="by">aeadio</span><span>|</span><a href="#40437551">parent</a><span>|</span><a href="#40437564">next</a><span>|</span><label class="collapse" for="c-40437574">[-]</label><label class="expand" for="c-40437574">[1 more]</label></div><br/><div class="children"><div class="content">The linked announcement pretty clearly implicates a bug in m1n1, the Asahi bootloader, which appears to have been fixed. It’s beyond a stretch to attribute malice here. Nothing indicates the platform is being locked down. Users simply need to update the bootloader before updating the MacOS firmware.</div><br/></div></div><div id="40437564" class="c"><input type="checkbox" id="c-40437564" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#40437551">parent</a><span>|</span><a href="#40437574">prev</a><span>|</span><a href="#40438063">next</a><span>|</span><label class="collapse" for="c-40437564">[-]</label><label class="expand" for="c-40437564">[2 more]</label></div><br/><div class="children"><div class="content">Wild speculation: Probably the latter; why would Apple go to all this trouble to allow booting non-Darwin OSs and then deliberately break it?</div><br/><div id="40438340" class="c"><input type="checkbox" id="c-40438340" checked=""/><div class="controls bullet"><span class="by">qiqitori</span><span>|</span><a href="#40437551">root</a><span>|</span><a href="#40437564">parent</a><span>|</span><a href="#40438063">next</a><span>|</span><label class="collapse" for="c-40438340">[-]</label><label class="expand" for="c-40438340">[1 more]</label></div><br/><div class="children"><div class="content">What trouble exactly?</div><br/></div></div></div></div></div></div><div id="40438063" class="c"><input type="checkbox" id="c-40438063" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#40437551">prev</a><span>|</span><a href="#40438273">next</a><span>|</span><label class="collapse" for="c-40438063">[-]</label><label class="expand" for="c-40438063">[3 more]</label></div><br/><div class="children"><div class="content">I thought OpenBSD people were more security conscious than this madness:<p>$ curl <a href="https:&#x2F;&#x2F;randomwebsite" rel="nofollow">https:&#x2F;&#x2F;randomwebsite</a> | sh<p>but alas I was wrong. There is a certain security reality distortion field that accompanies running OpenBSD.</div><br/><div id="40438155" class="c"><input type="checkbox" id="c-40438155" checked=""/><div class="controls bullet"><span class="by">brynet</span><span>|</span><a href="#40438063">parent</a><span>|</span><a href="#40438146">next</a><span>|</span><label class="collapse" for="c-40438155">[-]</label><label class="expand" for="c-40438155">[1 more]</label></div><br/><div class="children"><div class="content">The script is running on macOS and is what the Asahi project recommends when updating or installing m1n1&#x2F;Linux:<p><a href="https:&#x2F;&#x2F;asahilinux.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;asahilinux.org&#x2F;</a><p>It&#x27;s called out in the OpenBSD&#x2F;arm64 installation notes, at least:<p><a href="https:&#x2F;&#x2F;cdn.openbsd.org&#x2F;pub&#x2F;OpenBSD&#x2F;snapshots&#x2F;arm64&#x2F;INSTALL.arm64" rel="nofollow">https:&#x2F;&#x2F;cdn.openbsd.org&#x2F;pub&#x2F;OpenBSD&#x2F;snapshots&#x2F;arm64&#x2F;INSTALL....</a><p>Search for &quot;Install on Apple Silicon&quot;.</div><br/></div></div><div id="40438146" class="c"><input type="checkbox" id="c-40438146" checked=""/><div class="controls bullet"><span class="by">znyboy</span><span>|</span><a href="#40438063">parent</a><span>|</span><a href="#40438155">prev</a><span>|</span><a href="#40438273">next</a><span>|</span><label class="collapse" for="c-40438146">[-]</label><label class="expand" for="c-40438146">[1 more]</label></div><br/><div class="children"><div class="content">That seems to be the installer for Asahi Linux: <a href="https:&#x2F;&#x2F;asahilinux.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;asahilinux.org&#x2F;</a></div><br/></div></div></div></div><div id="40438273" class="c"><input type="checkbox" id="c-40438273" checked=""/><div class="controls bullet"><span class="by">gizajob</span><span>|</span><a href="#40438063">prev</a><span>|</span><a href="#40437614">next</a><span>|</span><label class="collapse" for="c-40438273">[-]</label><label class="expand" for="c-40438273">[1 more]</label></div><br/><div class="children"><div class="content">Both of them.</div><br/></div></div><div id="40437614" class="c"><input type="checkbox" id="c-40437614" checked=""/><div class="controls bullet"><span class="by">ngcc_hk</span><span>|</span><a href="#40438273">prev</a><span>|</span><a href="#40437582">next</a><span>|</span><label class="collapse" for="c-40437614">[-]</label><label class="expand" for="c-40437614">[2 more]</label></div><br/><div class="children"><div class="content">It seems just a minor update your software issue.  Obviously Apple could not test software outside theirs.  And if there is a beta that can trigger the issue it is up to the software developer to fix it.<p>We can all have conspiracy theory.  And some might even be true.  But really has to look and check.  If it can be fixed, it is an inconvenience of having frequent update and Apple did break software as its philosophy is very different from Microsoft (which is more IBM way in a sense).</div><br/><div id="40438150" class="c"><input type="checkbox" id="c-40438150" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#40437614">parent</a><span>|</span><a href="#40437582">next</a><span>|</span><label class="collapse" for="c-40438150">[-]</label><label class="expand" for="c-40438150">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Obviously Apple could not test software outside theirs.<p>I mean, they certainly can do that.</div><br/></div></div></div></div></div></div></div></div></div></body></html>