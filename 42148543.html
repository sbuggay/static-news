<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731747659969" as="style"/><link rel="stylesheet" href="styles.css?v=1731747659969"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/thomasschafer/scooter">Show HN: Scooter – Interactive find and replace in the terminal</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>tomschafer</span> | <span>67 comments</span></div><br/><div><div id="42152307" class="c"><input type="checkbox" id="c-42152307" checked=""/><div class="controls bullet"><span class="by">sriram_malhar</span><span>|</span><a href="#42150240">next</a><span>|</span><label class="collapse" for="c-42152307">[-]</label><label class="expand" for="c-42152307">[1 more]</label></div><br/><div class="children"><div class="content">You get all this and more with a direct perl one liner. Without the interactivity. I&#x27;d argue that if it is a lot of files, interactivity would be a pain. Also, since the original is preserved as a .bak file, one can be fearless about trying<p><pre><code>   #change xxx to yyy in all html
   bash&gt; perl -pi.bak -e &#x27;s&#x2F;xxx&#x2F;yyy&#x2F;g&#x27; *.html

   #change xxx10 (say) to yyy10 in all html
   bash&gt; perl -pi.bak -e &#x27;s&#x2F;xxx(\d+)&#x2F;yyy$1&#x2F;g&#x27; *.html

   # Change x4 to yyyy, where the number of y&#x27;s equals to the number after x.
   bash&gt; perl -pi.bak -e &#x27;s&#x2F;x(\d+)&#x2F;&quot;y&quot; x $1&#x2F;ge&#x27; *.
</code></pre>
The last example shows the &#x2F;e operator, which evaluates an expression and uses the result as substitute, instead of a simple string.<p>And finally, to exclude files, one can use a subshell.  For example, suppose you want to change all html, but exclude undesirable.html..<p><pre><code>   perl -pi.bak -e &#x27;s&#x2F;x&#x2F;y&#x2F;g&#x27;  $(ls *.html | egrep -v undesirable)</code></pre></div><br/></div></div><div id="42150240" class="c"><input type="checkbox" id="c-42150240" checked=""/><div class="controls bullet"><span class="by">jmhobbs</span><span>|</span><a href="#42152307">prev</a><span>|</span><a href="#42151991">next</a><span>|</span><label class="collapse" for="c-42150240">[-]</label><label class="expand" for="c-42150240">[1 more]</label></div><br/><div class="children"><div class="content">Very cool!  I currently use `sad` for this, if you&#x27;re already an fzf user you should check it out.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ms-jpq&#x2F;sad">https:&#x2F;&#x2F;github.com&#x2F;ms-jpq&#x2F;sad</a></div><br/></div></div><div id="42151991" class="c"><input type="checkbox" id="c-42151991" checked=""/><div class="controls bullet"><span class="by">sigmonsays</span><span>|</span><a href="#42150240">prev</a><span>|</span><a href="#42152656">next</a><span>|</span><label class="collapse" for="c-42151991">[-]</label><label class="expand" for="c-42151991">[6 more]</label></div><br/><div class="children"><div class="content">We&#x27;re losing the art of bash
```
find -type f -iname &#x27;*.go&#x27; | xargs -r -n1 sed -i &#x27;s,foo,foobar,g&#x27;
```</div><br/><div id="42153991" class="c"><input type="checkbox" id="c-42153991" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#42151991">parent</a><span>|</span><a href="#42153830">next</a><span>|</span><label class="collapse" for="c-42153991">[-]</label><label class="expand" for="c-42153991">[2 more]</label></div><br/><div class="children"><div class="content">Why use `xargs` instead of `-exec`? And if you do need `xargs` (for example, for parallel processing with `-P`), it is recommended to use `-print0` with `find` and `-0` with `xargs` to avoid issues due to filenames.</div><br/><div id="42154608" class="c"><input type="checkbox" id="c-42154608" checked=""/><div class="controls bullet"><span class="by">theamk</span><span>|</span><a href="#42151991">root</a><span>|</span><a href="#42153991">parent</a><span>|</span><a href="#42153830">next</a><span>|</span><label class="collapse" for="c-42154608">[-]</label><label class="expand" for="c-42154608">[1 more]</label></div><br/><div class="children"><div class="content">xargs passes many inputs to one script invocation, so even with a single thread there is often a dramatic speedup.<p>(and agree re -print0&#x2F;-0, it&#x27;s absolutely essential)</div><br/></div></div></div></div><div id="42153830" class="c"><input type="checkbox" id="c-42153830" checked=""/><div class="controls bullet"><span class="by">mh-</span><span>|</span><a href="#42151991">parent</a><span>|</span><a href="#42153991">prev</a><span>|</span><a href="#42154761">next</a><span>|</span><label class="collapse" for="c-42153830">[-]</label><label class="expand" for="c-42153830">[1 more]</label></div><br/><div class="children"><div class="content">Something that frequently trips me up, mostly when helping colleagues, is the arguments to both find and xargs differ substantially between GNU and the FreeBSD-derived ones that ship on macOS.</div><br/></div></div><div id="42154761" class="c"><input type="checkbox" id="c-42154761" checked=""/><div class="controls bullet"><span class="by">lofaszvanitt</span><span>|</span><a href="#42151991">parent</a><span>|</span><a href="#42153830">prev</a><span>|</span><a href="#42152656">next</a><span>|</span><label class="collapse" for="c-42154761">[-]</label><label class="expand" for="c-42154761">[2 more]</label></div><br/><div class="children"><div class="content">The problem is... if you use these on rare occasions it gets frustrating, because you have to read the manual or google everything or ask the llm again and again.<p>noone can remember these abbreviations</div><br/><div id="42154778" class="c"><input type="checkbox" id="c-42154778" checked=""/><div class="controls bullet"><span class="by">KetoManx64</span><span>|</span><a href="#42151991">root</a><span>|</span><a href="#42154761">parent</a><span>|</span><a href="#42152656">next</a><span>|</span><label class="collapse" for="c-42154778">[-]</label><label class="expand" for="c-42154778">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;atuin.sh&#x2F;" rel="nofollow">https:&#x2F;&#x2F;atuin.sh&#x2F;</a> is such a huge productivity booster in these scenarios. I remember that I used find + xargs command sometime in the last 6 months on of my computers and with Atuin I can quickly find it and then slightly modify it to fit my current need.</div><br/></div></div></div></div></div></div><div id="42152656" class="c"><input type="checkbox" id="c-42152656" checked=""/><div class="controls bullet"><span class="by">CGamesPlay</span><span>|</span><a href="#42151991">prev</a><span>|</span><a href="#42151573">next</a><span>|</span><label class="collapse" for="c-42152656">[-]</label><label class="expand" for="c-42152656">[1 more]</label></div><br/><div class="children"><div class="content">Since we&#x27;re all giving replacements to this, nobody&#x27;s mentioned my preferred one, so: use git add&#x27;s patch mode. On a clean worktree, do the search&#x2F;replace in bulk. Then use `git add --patch` to selectively add the good replacements and skip the bad ones. Finally, `git checkout -- .` to throw away all the bad ones. The nice part about this is that it&#x27;s not much to remember. If you can make a global search and replace, and you can use `git add --patch` (which is useful loads of times), you can do a selective search and replace by combining them.<p>As far as this actual tool: the demo GIF is way too fast-paced to show what&#x27;s going on. A better demo would maybe search &quot;ring&quot;, have 10 or so results instead of pages and pages, and show how you can unselect &quot;spring&quot; matches which were unintentionally caught.</div><br/></div></div><div id="42151573" class="c"><input type="checkbox" id="c-42151573" checked=""/><div class="controls bullet"><span class="by">herrington_d</span><span>|</span><a href="#42152656">prev</a><span>|</span><a href="#42151362">next</a><span>|</span><label class="collapse" for="c-42151573">[-]</label><label class="expand" for="c-42151573">[1 more]</label></div><br/><div class="children"><div class="content">Cool! is it possible to support structural search like ast-grep[1]? ast-grep has some interactive mode but it is nothing near Scooter.<p>1: <a href="https:&#x2F;&#x2F;ast-grep.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ast-grep.github.io&#x2F;</a></div><br/></div></div><div id="42151362" class="c"><input type="checkbox" id="c-42151362" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#42151573">prev</a><span>|</span><a href="#42148992">next</a><span>|</span><label class="collapse" for="c-42151362">[-]</label><label class="expand" for="c-42151362">[1 more]</label></div><br/><div class="children"><div class="content">Neat ... but I&#x27;d probably just do this by opening a &quot;grep -l&quot; list in nano for interactive replacement directly instead. Easy peasy.</div><br/></div></div><div id="42148992" class="c"><input type="checkbox" id="c-42148992" checked=""/><div class="controls bullet"><span class="by">aerzen</span><span>|</span><a href="#42151362">prev</a><span>|</span><a href="#42149354">next</a><span>|</span><label class="collapse" for="c-42148992">[-]</label><label class="expand" for="c-42148992">[4 more]</label></div><br/><div class="children"><div class="content">Cool.<p>I assumed it uses ripgrep (or the underlying walkdir) because that&#x27;s the established high-performance tool for this. But apparently not.</div><br/><div id="42149046" class="c"><input type="checkbox" id="c-42149046" checked=""/><div class="controls bullet"><span class="by">tomschafer</span><span>|</span><a href="#42148992">parent</a><span>|</span><a href="#42149354">next</a><span>|</span><label class="collapse" for="c-42149046">[-]</label><label class="expand" for="c-42149046">[3 more]</label></div><br/><div class="children"><div class="content">It uses <a href="https:&#x2F;&#x2F;docs.rs&#x2F;ignore&#x2F;latest&#x2F;ignore&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;ignore&#x2F;latest&#x2F;ignore&#x2F;</a> to walk dirs while respecting ignore files</div><br/><div id="42149213" class="c"><input type="checkbox" id="c-42149213" checked=""/><div class="controls bullet"><span class="by">seritools</span><span>|</span><a href="#42148992">root</a><span>|</span><a href="#42149046">parent</a><span>|</span><a href="#42149354">next</a><span>|</span><label class="collapse" for="c-42149213">[-]</label><label class="expand" for="c-42149213">[2 more]</label></div><br/><div class="children"><div class="content">(And `ignore` uses `walkdir` internally)</div><br/><div id="42149221" class="c"><input type="checkbox" id="c-42149221" checked=""/><div class="controls bullet"><span class="by">burntsushi</span><span>|</span><a href="#42148992">root</a><span>|</span><a href="#42149213">parent</a><span>|</span><a href="#42149354">next</a><span>|</span><label class="collapse" for="c-42149221">[-]</label><label class="expand" for="c-42149221">[1 more]</label></div><br/><div class="children"><div class="content">For single threaded use cases. For multi-threaded, it has its own parallel directory traversal. :-)</div><br/></div></div></div></div></div></div></div></div><div id="42149354" class="c"><input type="checkbox" id="c-42149354" checked=""/><div class="controls bullet"><span class="by">doylemark</span><span>|</span><a href="#42148992">prev</a><span>|</span><a href="#42149463">next</a><span>|</span><label class="collapse" for="c-42149354">[-]</label><label class="expand" for="c-42149354">[1 more]</label></div><br/><div class="children"><div class="content">nice! Find and replace across a codebase is one of the few times I open an IDE.<p>Being able to interactively ignore instances for replacement is great!</div><br/></div></div><div id="42149463" class="c"><input type="checkbox" id="c-42149463" checked=""/><div class="controls bullet"><span class="by">Freak_NL</span><span>|</span><a href="#42149354">prev</a><span>|</span><a href="#42149522">next</a><span>|</span><label class="collapse" for="c-42149463">[-]</label><label class="expand" for="c-42149463">[2 more]</label></div><br/><div class="children"><div class="content">Am I alone in initially thinking this was specifically for the fish shell because of this tool&#x27;s name?</div><br/><div id="42149585" class="c"><input type="checkbox" id="c-42149585" checked=""/><div class="controls bullet"><span class="by">darrenf</span><span>|</span><a href="#42149463">parent</a><span>|</span><a href="#42149522">next</a><span>|</span><label class="collapse" for="c-42149585">[-]</label><label class="expand" for="c-42149585">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps. I as a fish user thought “oh, like `string replace`”</div><br/></div></div></div></div><div id="42149522" class="c"><input type="checkbox" id="c-42149522" checked=""/><div class="controls bullet"><span class="by">matt3210</span><span>|</span><a href="#42149463">prev</a><span>|</span><a href="#42150054">next</a><span>|</span><label class="collapse" for="c-42149522">[-]</label><label class="expand" for="c-42149522">[1 more]</label></div><br/><div class="children"><div class="content">Very nice, it might be a good alternative when I can&#x27;t use vscode remote connections.</div><br/></div></div><div id="42150054" class="c"><input type="checkbox" id="c-42150054" checked=""/><div class="controls bullet"><span class="by">jph</span><span>|</span><a href="#42149522">prev</a><span>|</span><a href="#42149892">next</a><span>|</span><label class="collapse" for="c-42150054">[-]</label><label class="expand" for="c-42150054">[1 more]</label></div><br/><div class="children"><div class="content">Excellent, thank you. I do this with sed &amp; awk &amp; sometimes an IDE, and scooter looks better in every way.<p>I&#x27;m adding scooter to my cargo install favorites:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;sixarm&#x2F;cargo-install-favorites">https:&#x2F;&#x2F;github.com&#x2F;sixarm&#x2F;cargo-install-favorites</a></div><br/></div></div><div id="42149892" class="c"><input type="checkbox" id="c-42149892" checked=""/><div class="controls bullet"><span class="by">mg</span><span>|</span><a href="#42150054">prev</a><span>|</span><a href="#42149653">next</a><span>|</span><label class="collapse" for="c-42149892">[-]</label><label class="expand" for="c-42149892">[2 more]</label></div><br/><div class="children"><div class="content">You could also use vim in a loop. Say you want to replace &quot;hello&quot; in all files in the current dir with &quot;world&quot; and confirm every replace, then you would do:<p><pre><code>    for f in $(grep -l &#x27;hello&#x27; *); do vim -c &#x27;:%s&#x2F;hello&#x2F;world&#x2F;gc | wq&#x27; &quot;$f&quot;; done
</code></pre>
Or if you want to use some more vim magic, this simpler command will do the same:<p><pre><code>    vim -c &quot;argdo %s&#x2F;hello&#x2F;world&#x2F;gce | update&quot; -c &quot;qall&quot; *
</code></pre>
&quot;argdo&quot; will do the replace command for each file, the additional e modifier in gce will ignore files that do not contain the search string and the second command &quot;qall&quot; is to quit vim after the work is done.</div><br/></div></div><div id="42149653" class="c"><input type="checkbox" id="c-42149653" checked=""/><div class="controls bullet"><span class="by">eevilspock</span><span>|</span><a href="#42149892">prev</a><span>|</span><a href="#42150152">next</a><span>|</span><label class="collapse" for="c-42149653">[-]</label><label class="expand" for="c-42149653">[2 more]</label></div><br/><div class="children"><div class="content">A Homebrew install option will help this take off on Macs. <a href="https:&#x2F;&#x2F;github.com&#x2F;thomasschafer&#x2F;scooter&#x2F;issues&#x2F;6">https:&#x2F;&#x2F;github.com&#x2F;thomasschafer&#x2F;scooter&#x2F;issues&#x2F;6</a></div><br/><div id="42150461" class="c"><input type="checkbox" id="c-42150461" checked=""/><div class="controls bullet"><span class="by">rvz</span><span>|</span><a href="#42149653">parent</a><span>|</span><a href="#42150152">next</a><span>|</span><label class="collapse" for="c-42150461">[-]</label><label class="expand" for="c-42150461">[1 more]</label></div><br/><div class="children"><div class="content">That was my first problem with trying to install this. But agree that it should be on Homebrew.</div><br/></div></div></div></div><div id="42150152" class="c"><input type="checkbox" id="c-42150152" checked=""/><div class="controls bullet"><span class="by">jmercouris</span><span>|</span><a href="#42149653">prev</a><span>|</span><a href="#42148959">next</a><span>|</span><label class="collapse" for="c-42150152">[-]</label><label class="expand" for="c-42150152">[4 more]</label></div><br/><div class="children"><div class="content">Feels like we just keep making tools that already exist in Emacs.</div><br/><div id="42150191" class="c"><input type="checkbox" id="c-42150191" checked=""/><div class="controls bullet"><span class="by">mway</span><span>|</span><a href="#42150152">parent</a><span>|</span><a href="#42152715">next</a><span>|</span><label class="collapse" for="c-42150191">[-]</label><label class="expand" for="c-42150191">[2 more]</label></div><br/><div class="children"><div class="content">I dunno, seems reasonable to me that we might have nice things without requiring everyone to use emacs. (And for those who do use emacs, I guess you&#x27;re ahead of the curve?)</div><br/><div id="42151444" class="c"><input type="checkbox" id="c-42151444" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#42150152">root</a><span>|</span><a href="#42150191">parent</a><span>|</span><a href="#42152715">next</a><span>|</span><label class="collapse" for="c-42151444">[-]</label><label class="expand" for="c-42151444">[1 more]</label></div><br/><div class="children"><div class="content">On the other hand, it seems reasonable that we should be able to have nice things without giving up our editors. I know I’ve been spoiled by Kakoune’s cursors, but this feels like a tool that should work by spawning $EDITOR in the middle of its execution (or perhaps just having two phases and a control file). I don’t know if that’s actually possible with the current capabilities of $EDITORs (which are not Emacs). I just feel, in the darkest hour of the night which I spend reflecting on UIs, like it should be.</div><br/></div></div></div></div><div id="42152715" class="c"><input type="checkbox" id="c-42152715" checked=""/><div class="controls bullet"><span class="by">alganet</span><span>|</span><a href="#42150152">parent</a><span>|</span><a href="#42150191">prev</a><span>|</span><a href="#42148959">next</a><span>|</span><label class="collapse" for="c-42152715">[-]</label><label class="expand" for="c-42152715">[1 more]</label></div><br/><div class="children"><div class="content">Nonsense, lots of people are doing text editors.</div><br/></div></div></div></div><div id="42148959" class="c"><input type="checkbox" id="c-42148959" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#42150152">prev</a><span>|</span><a href="#42150445">next</a><span>|</span><label class="collapse" for="c-42148959">[-]</label><label class="expand" for="c-42148959">[6 more]</label></div><br/><div class="children"><div class="content">A useful feature of bash and zsh is the &quot;edit command&quot;. The standard shortcut is &quot;ctrl-x ctrl-e&quot;.<p>It opens the current command line in $EDITOR, which often defaults to vim.</div><br/><div id="42149043" class="c"><input type="checkbox" id="c-42149043" checked=""/><div class="controls bullet"><span class="by">dmd</span><span>|</span><a href="#42148959">parent</a><span>|</span><a href="#42149026">next</a><span>|</span><label class="collapse" for="c-42149043">[-]</label><label class="expand" for="c-42149043">[4 more]</label></div><br/><div class="children"><div class="content">That is very useful. What does it have to do with this?</div><br/><div id="42149078" class="c"><input type="checkbox" id="c-42149078" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#42148959">root</a><span>|</span><a href="#42149043">parent</a><span>|</span><a href="#42149026">next</a><span>|</span><label class="collapse" for="c-42149078">[-]</label><label class="expand" for="c-42149078">[3 more]</label></div><br/><div class="children"><div class="content">If you want to search and replace a command line, there&#x27;s tools to do it in your favourite editor.</div><br/><div id="42149103" class="c"><input type="checkbox" id="c-42149103" checked=""/><div class="controls bullet"><span class="by">dmd</span><span>|</span><a href="#42148959">root</a><span>|</span><a href="#42149078">parent</a><span>|</span><a href="#42149026">next</a><span>|</span><label class="collapse" for="c-42149103">[-]</label><label class="expand" for="c-42149103">[2 more]</label></div><br/><div class="children"><div class="content">Ah, so you didn&#x27;t click through and actually see what this tool is, you just read the title.</div><br/><div id="42149135" class="c"><input type="checkbox" id="c-42149135" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#42148959">root</a><span>|</span><a href="#42149103">parent</a><span>|</span><a href="#42149026">next</a><span>|</span><label class="collapse" for="c-42149135">[-]</label><label class="expand" for="c-42149135">[1 more]</label></div><br/><div class="children"><div class="content">I did click through, but misinterpreted what it was doing. Apologies, I&#x27;m &quot;multitasking&quot;.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42150445" class="c"><input type="checkbox" id="c-42150445" checked=""/><div class="controls bullet"><span class="by">rvz</span><span>|</span><a href="#42148959">prev</a><span>|</span><a href="#42150255">next</a><span>|</span><label class="collapse" for="c-42150445">[-]</label><label class="expand" for="c-42150445">[1 more]</label></div><br/><div class="children"><div class="content">There was another comment about the difficulty in installing scooter and in the issues section, there are some requests to add more installation options.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;thomasschafer&#x2F;scooter&#x2F;issues&#x2F;6">https:&#x2F;&#x2F;github.com&#x2F;thomasschafer&#x2F;scooter&#x2F;issues&#x2F;6</a><p>Not everyone has the Rust toolchain installed on their machine. The `cargo install` installation directive needs to be discouraged.</div><br/></div></div><div id="42150255" class="c"><input type="checkbox" id="c-42150255" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#42150445">prev</a><span>|</span><a href="#42148897">next</a><span>|</span><label class="collapse" for="c-42150255">[-]</label><label class="expand" for="c-42150255">[1 more]</label></div><br/><div class="children"><div class="content">Similarly, on bash&#x2F;ksh:         set -o vi         Ctrl-[ v          (or ESC)         set -o emacs         Ctrl-x e</div><br/></div></div><div id="42148897" class="c"><input type="checkbox" id="c-42148897" checked=""/><div class="controls bullet"><span class="by">agateau</span><span>|</span><a href="#42150255">prev</a><span>|</span><a href="#42151746">next</a><span>|</span><label class="collapse" for="c-42148897">[-]</label><label class="expand" for="c-42148897">[1 more]</label></div><br/><div class="children"><div class="content">Looks handy!</div><br/></div></div><div id="42151746" class="c"><input type="checkbox" id="c-42151746" checked=""/><div class="controls bullet"><span class="by">patatass</span><span>|</span><a href="#42148897">prev</a><span>|</span><a href="#42149337">next</a><span>|</span><label class="collapse" for="c-42151746">[-]</label><label class="expand" for="c-42151746">[2 more]</label></div><br/><div class="children"><div class="content">Couldn&#x27;t find it in nixpkgs.</div><br/><div id="42152970" class="c"><input type="checkbox" id="c-42152970" checked=""/><div class="controls bullet"><span class="by">flowingfocus</span><span>|</span><a href="#42151746">parent</a><span>|</span><a href="#42149337">next</a><span>|</span><label class="collapse" for="c-42152970">[-]</label><label class="expand" for="c-42152970">[1 more]</label></div><br/><div class="children"><div class="content">I opened a PR for it: <a href="https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;pull&#x2F;356310">https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;pull&#x2F;356310</a><p>In the meantime you can also add packages that aren&#x27;t yet in nixpkgs using pkgs.callPackage.</div><br/></div></div></div></div><div id="42149337" class="c"><input type="checkbox" id="c-42149337" checked=""/><div class="controls bullet"><span class="by">gurgeous</span><span>|</span><a href="#42151746">prev</a><span>|</span><a href="#42148692">next</a><span>|</span><label class="collapse" for="c-42149337">[-]</label><label class="expand" for="c-42149337">[3 more]</label></div><br/><div class="children"><div class="content">Also see the excellent <a href="https:&#x2F;&#x2F;github.com&#x2F;your-tools&#x2F;ruplacer">https:&#x2F;&#x2F;github.com&#x2F;your-tools&#x2F;ruplacer</a>.<p>For more advanced needs, I have a custom thing called greprep that let&#x27;s you make changes using your favorite editor. Workflow is like this:<p><pre><code>  1. $ rg -n .... &gt; &#x2F;tmp&#x2F;lines.txt
  2. (edit lines.txt in vscode)
  3. $ greprep &#x2F;tmp&#x2F;lines.txt to apply the changes</code></pre></div><br/><div id="42149718" class="c"><input type="checkbox" id="c-42149718" checked=""/><div class="controls bullet"><span class="by">jmarcher</span><span>|</span><a href="#42149337">parent</a><span>|</span><a href="#42149389">next</a><span>|</span><label class="collapse" for="c-42149718">[-]</label><label class="expand" for="c-42149718">[1 more]</label></div><br/><div class="children"><div class="content">In Emacs, there is [helm-ag-edit](<a href="https:&#x2F;&#x2F;github.com&#x2F;emacsorphanage&#x2F;helm-ag">https:&#x2F;&#x2F;github.com&#x2F;emacsorphanage&#x2F;helm-ag</a>) (but uses ripgrep if present). It&#x27;s almost identical to your workflow, but all done inside the same app.<p>1. helm-ag &lt;pattern&gt; # the search results are updated as you type
2. helm-ag-edit # edit the search result as regular text. Use multi-cursors, macros, whatever.
3. helm-ag-edit-save # commits the changes to the affected files<p>All those commands have keybindings, so it&#x27;s pretty fast. I&#x27;ll often open up Emacs just to do that and then go back to my JetBrains IDE.</div><br/></div></div></div></div><div id="42148811" class="c"><input type="checkbox" id="c-42148811" checked=""/><div class="controls bullet"><span class="by">lopkeny12ko</span><span>|</span><a href="#42148771">prev</a><span>|</span><a href="#42148841">next</a><span>|</span><label class="collapse" for="c-42148811">[-]</label><label class="expand" for="c-42148811">[7 more]</label></div><br/><div class="children"><div class="content">[flagged]</div><br/><div id="42149595" class="c"><input type="checkbox" id="c-42149595" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#42148811">parent</a><span>|</span><a href="#42148829">next</a><span>|</span><label class="collapse" for="c-42149595">[-]</label><label class="expand" for="c-42149595">[1 more]</label></div><br/><div class="children"><div class="content">Can you please not post shallow dismissals of other people&#x27;s work? This is in the site guidelines: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsguidelines.html">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsguidelines.html</a>.<p>It&#x27;s important, when people share something they&#x27;ve made on HN, that they don&#x27;t run into this sort of bilious internet putdown.<p>Edit - these are other examples of the same thing (i.e. the thing we don&#x27;t want in HN threads, and which we&#x27;d appreciate if you&#x27;d not do any more of):<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41810426">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41810426</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41224056">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41224056</a></div><br/></div></div><div id="42148829" class="c"><input type="checkbox" id="c-42148829" checked=""/><div class="controls bullet"><span class="by">karanbhangui</span><span>|</span><a href="#42148811">parent</a><span>|</span><a href="#42149595">prev</a><span>|</span><a href="#42148892">next</a><span>|</span><label class="collapse" for="c-42148829">[-]</label><label class="expand" for="c-42148829">[1 more]</label></div><br/><div class="children"><div class="content">&quot;For a Linux user, you can already build such a system yourself quite trivially by getting an FTP account, mounting it locally with curlftpfs, and then using SVN or CVS on the mounted filesystem&quot;<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8863">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8863</a></div><br/></div></div><div id="42148892" class="c"><input type="checkbox" id="c-42148892" checked=""/><div class="controls bullet"><span class="by">tomschafer</span><span>|</span><a href="#42148811">parent</a><span>|</span><a href="#42148829">prev</a><span>|</span><a href="#42148947">next</a><span>|</span><label class="collapse" for="c-42148892">[-]</label><label class="expand" for="c-42148892">[3 more]</label></div><br/><div class="children"><div class="content">Not affiliated, I just built a little tool to make my life easier and thought I&#x27;d share</div><br/><div id="42149600" class="c"><input type="checkbox" id="c-42149600" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#42148811">root</a><span>|</span><a href="#42148892">parent</a><span>|</span><a href="#42148938">next</a><span>|</span><label class="collapse" for="c-42149600">[-]</label><label class="expand" for="c-42149600">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s great and clearly the community appreciates it! I&#x27;ll put Show HN in the title since that&#x27;s the convention for sharing one&#x27;s projects on HN (<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;showhn.html">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;showhn.html</a>).<p>Btw, do you want to include some text giving the backstory of how you came to work on this, and explaining what&#x27;s different about it? that&#x27;s also the convention. If you post it in a reply to this comment, I&#x27;ll move your text to the top of the thread.</div><br/></div></div><div id="42148938" class="c"><input type="checkbox" id="c-42148938" checked=""/><div class="controls bullet"><span class="by">sockaddr</span><span>|</span><a href="#42148811">root</a><span>|</span><a href="#42148892">parent</a><span>|</span><a href="#42149600">prev</a><span>|</span><a href="#42148947">next</a><span>|</span><label class="collapse" for="c-42148938">[-]</label><label class="expand" for="c-42148938">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s cool. Thanks for sharing</div><br/></div></div></div></div></div></div><div id="42148841" class="c"><input type="checkbox" id="c-42148841" checked=""/><div class="controls bullet"><span class="by">oulipo</span><span>|</span><a href="#42148811">prev</a><span>|</span><a href="#42149198">next</a><span>|</span><label class="collapse" for="c-42148841">[-]</label><label class="expand" for="c-42148841">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using this quickly put-together shell script called replace<p><pre><code>    #!&#x2F;usr&#x2F;bin&#x2F;env bash
    
    # Function to escape special characters for sed
    escape_sed_string() {
        printf &#x27;%s\n&#x27; &quot;$1&quot; | gsed -e &#x27;s&#x2F;[]\&#x2F;$*.^[]&#x2F;\\&amp;&#x2F;g&#x27;
    }
    
    help() {
      gum style --foreground cyan --italic &quot;\
    Usage (everything optional, you will be prompted):\n\
    $0\n\
      --ext .js --ext .ts\n\
      --from \&quot;source string\&quot;\n\
      --to \&quot;replacement string\&quot;\n\
      --dir somePath&quot;
    }
    
    # Parse command line arguments
    while [[ &quot;$#&quot; -gt 0 ]]; do
        case $1 in
            -h)
                help
                exit 0
                ;;
            --help)
                help
                exit 0
                ;;
            --ext) EXTENSIONS+=(&quot;$2&quot;); shift ;;
            --from) REPLACE_FROM=&quot;$2&quot;; shift ;;
            --to) REPLACE_TO=&quot;$2&quot;; shift ;;
            --dir) DIRECTORY=&quot;$2&quot;; shift ;;
            *) gum style --foreground red --bold &quot;Unknown parameter: $1&quot;; exit 1 ;;
        esac
        shift
    done
    
    # Check for missing parameters and prompt using gum
    if [ -z &quot;${EXTENSIONS+set}&quot; ]; then
        EXTENSIONS=($(gum choose \
            --no-limit \
            --selected .ts,.mts,.tsx,.vue,.js,.cjs,.mjs \
            .ts .mts .tsx .vue .js .cjs .mjs .txt .md .html .json))
    fi
    
    # Exit if no extension is selected
    if [ ${#EXTENSIONS[@]} -eq 0 ]; then
        gum style --foreground red --bold &quot; Error: No extensions selected. Exiting.&quot;
        exit 1
    fi
    
    if [ -z &quot;${REPLACE_FROM+set}&quot; ]; then
        REPLACE_FROM=$(gum input --placeholder &quot;Search string:&quot;)
        if [ -z &quot;${REPLACE_FROM}&quot; ]; then
            echo &quot;No replace from string, exiting&quot;
            exit 1
        fi
    fi
    if [ -z &quot;${REPLACE_TO+set}&quot; ]; then
        REPLACE_TO=$(gum input --placeholder &quot;Replace string:&quot;)
    fi
    if [ -z &quot;${DIRECTORY+set}&quot; ]; then
        DIRECTORY=&quot;.&quot;
    fi
    
    # Escape strings for sed
    ESCAPED_FROM=$(escape_sed_string &quot;$REPLACE_FROM&quot;)
    ESCAPED_TO=$(escape_sed_string &quot;$REPLACE_TO&quot;)
    
    # Run the replacement
    for ext in &quot;${EXTENSIONS[@]}&quot;; do
        gum style --foreground blue &quot; Replacing ${ext} files...&quot;
        find &quot;$DIRECTORY&quot; -type f -name &quot;*$ext&quot; ! -path &quot;*&#x2F;node_modules&#x2F;*&quot; -exec gsed -i &quot;s&#x2F;$ESCAPED_FROM&#x2F;$ESCAPED_TO&#x2F;g&quot; {} \;
    done
    
    gum style --foreground green --bold &quot; Replacement complete.&quot;</code></pre></div><br/><div id="42152754" class="c"><input type="checkbox" id="c-42152754" checked=""/><div class="controls bullet"><span class="by">JadeNB</span><span>|</span><a href="#42148841">parent</a><span>|</span><a href="#42148933">next</a><span>|</span><label class="collapse" for="c-42152754">[-]</label><label class="expand" for="c-42152754">[1 more]</label></div><br/><div class="children"><div class="content">What is gum?</div><br/></div></div></div></div></div></div></div></div></div></body></html>