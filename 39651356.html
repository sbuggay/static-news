<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1710061251457" as="style"/><link rel="stylesheet" href="styles.css?v=1710061251457"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://arxiv.org/abs/2403.04582">What Cannot be Skipped About the Skiplist</a> <span class="domain">(<a href="https://arxiv.org">arxiv.org</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>17 comments</span></div><br/><div><div id="39654585" class="c"><input type="checkbox" id="c-39654585" checked=""/><div class="controls bullet"><span class="by">fancy_pantser</span><span>|</span><a href="#39653595">next</a><span>|</span><label class="collapse" for="c-39654585">[-]</label><label class="expand" for="c-39654585">[1 more]</label></div><br/><div class="children"><div class="content">Section 2.3, &quot;Analysis of p&quot; is incomplete. The ideal value is 1&#x2F;e. In most practical applications, you want to start with setting it to 1&#x2F;e, which is a good speed&#x2F;memory tradeoff. I tried for years to get Redis and some widely-used libraries to update their default values for everyone&#x27;s benefit, as this one of my favorite data structures.<p>Ref: <a href="http:&#x2F;&#x2F;www.sciencedirect.com&#x2F;science&#x2F;article&#x2F;pii&#x2F;030439759400296U" rel="nofollow">http:&#x2F;&#x2F;www.sciencedirect.com&#x2F;science&#x2F;article&#x2F;pii&#x2F;03043975940...</a></div><br/></div></div><div id="39653595" class="c"><input type="checkbox" id="c-39653595" checked=""/><div class="controls bullet"><span class="by">anfelor</span><span>|</span><a href="#39654585">prev</a><span>|</span><a href="#39652766">next</a><span>|</span><label class="collapse" for="c-39653595">[-]</label><label class="expand" for="c-39653595">[5 more]</label></div><br/><div class="children"><div class="content">Another interesting data structure related to skiplists but not mentioned here are zip trees: <a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1806.06726" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1806.06726</a><p>The are a tree-based version of skiplists and thus more suited to functional programming &#x2F; immutable datastructures.</div><br/><div id="39657494" class="c"><input type="checkbox" id="c-39657494" checked=""/><div class="controls bullet"><span class="by">jpfr</span><span>|</span><a href="#39653595">parent</a><span>|</span><a href="#39654652">next</a><span>|</span><label class="collapse" for="c-39657494">[-]</label><label class="expand" for="c-39657494">[2 more]</label></div><br/><div class="children"><div class="content">Zip trees are great!<p>For a project I made a version that uses the memory location of the entries to construct the (random) rank on the fly.<p>So it’s a binary tree structure that requires the same memory as a linked list (two pointers) only!<p><a href="https:&#x2F;&#x2F;github.com&#x2F;open62541&#x2F;open62541&#x2F;blob&#x2F;master&#x2F;deps&#x2F;ziptree.h">https:&#x2F;&#x2F;github.com&#x2F;open62541&#x2F;open62541&#x2F;blob&#x2F;master&#x2F;deps&#x2F;zipt...</a></div><br/><div id="39657656" class="c"><input type="checkbox" id="c-39657656" checked=""/><div class="controls bullet"><span class="by">jstanley</span><span>|</span><a href="#39653595">root</a><span>|</span><a href="#39657494">parent</a><span>|</span><a href="#39654652">next</a><span>|</span><label class="collapse" for="c-39657656">[-]</label><label class="expand" for="c-39657656">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know anything about zip trees, but I&#x27;d think in a common scenario the memory addresses are reasonably consecutive. Would that be a problem? If not, why not just assign consecutive ranks in the first place?</div><br/></div></div></div></div><div id="39654652" class="c"><input type="checkbox" id="c-39654652" checked=""/><div class="controls bullet"><span class="by">rtheunissen</span><span>|</span><a href="#39653595">parent</a><span>|</span><a href="#39657494">prev</a><span>|</span><a href="#39652766">next</a><span>|</span><label class="collapse" for="c-39654652">[-]</label><label class="expand" for="c-39654652">[2 more]</label></div><br/><div class="children"><div class="content">Zip trees are novel but their performance (and therefore also skip lists, since they are isomorphic) lacks behind other linked structures like Treaps and especially LBSTs. [1] I personally find skip lists to be overhyped binary search trees in disguise.<p>[1] <a href="https:&#x2F;&#x2F;rtheunissen.github.io&#x2F;bst" rel="nofollow">https:&#x2F;&#x2F;rtheunissen.github.io&#x2F;bst</a></div><br/><div id="39655259" class="c"><input type="checkbox" id="c-39655259" checked=""/><div class="controls bullet"><span class="by">bonzini</span><span>|</span><a href="#39653595">root</a><span>|</span><a href="#39654652">parent</a><span>|</span><a href="#39652766">next</a><span>|</span><label class="collapse" for="c-39655259">[-]</label><label class="expand" for="c-39655259">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely trees in disguise, in fact there are deterministic versions of skip lists that are equivalent to B-trees. An 1-2 skip list (where each pointer to next can skip from 1 to 2 pointers on the level below) is isomorphic to a 2-3 tree.</div><br/></div></div></div></div></div></div><div id="39652766" class="c"><input type="checkbox" id="c-39652766" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#39653595">prev</a><span>|</span><a href="#39656043">next</a><span>|</span><label class="collapse" for="c-39652766">[-]</label><label class="expand" for="c-39652766">[1 more]</label></div><br/><div class="children"><div class="content">the title makes this review sound a lot less comprehensive than it really is. it covers basically every variant of pugh&#x27;s skip list ever published, so you can in fact skip most of them<p>but this is the paper you want if you need to look up what variants exist of, say, the interval skip list, and how they compare.  as it happens, that&#x27;s exactly what i needed today<p>gold</div><br/></div></div><div id="39656043" class="c"><input type="checkbox" id="c-39656043" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#39652766">prev</a><span>|</span><a href="#39652714">next</a><span>|</span><label class="collapse" for="c-39656043">[-]</label><label class="expand" for="c-39656043">[5 more]</label></div><br/><div class="children"><div class="content">First sentence of the abstract: &quot;Skiplists have become prevalent in systems.&quot;<p>They have?  I&#x27;ve always viewed them as a curiosity.  They&#x27;re a ton easier to understand than balanced trees and have the same performance behavior, which sounds great.  But the allocation mess[1] makes them lose to RB or AVL trees in, basically every system I can think of.  Is <i>any</i> major software using skiplists as a standard ordered container or map?<p>[1] You either need to pay for Log2(N) pointers per item, or allocate them from a heap with variable header sizes.  Both of those choices are really pessimal when compared with fixed-size metadata.  Skiplists pretty much can&#x27;t be intrusive, for example.</div><br/><div id="39656171" class="c"><input type="checkbox" id="c-39656171" checked=""/><div class="controls bullet"><span class="by">evdubs</span><span>|</span><a href="#39656043">parent</a><span>|</span><a href="#39656824">next</a><span>|</span><label class="collapse" for="c-39656171">[-]</label><label class="expand" for="c-39656171">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Is any major software using skiplists as a standard ordered container or map?<p>Java for concurrent navigable maps.<p><a href="https:&#x2F;&#x2F;docs.oracle.com&#x2F;en&#x2F;java&#x2F;javase&#x2F;21&#x2F;docs&#x2F;api&#x2F;java.base&#x2F;java&#x2F;util&#x2F;concurrent&#x2F;ConcurrentNavigableMap.html" rel="nofollow">https:&#x2F;&#x2F;docs.oracle.com&#x2F;en&#x2F;java&#x2F;javase&#x2F;21&#x2F;docs&#x2F;api&#x2F;java.base...</a><p>&gt; All Known Implementing Classes: ConcurrentSkipListMap<p>Balancing binary search trees suffer from lock contention more than skip lists.</div><br/><div id="39656498" class="c"><input type="checkbox" id="c-39656498" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#39656043">root</a><span>|</span><a href="#39656171">parent</a><span>|</span><a href="#39656824">next</a><span>|</span><label class="collapse" for="c-39656498">[-]</label><label class="expand" for="c-39656498">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Balancing binary search trees suffer from lock contention more than skip lists.<p>Hm... I guess the argument would be that the various list insertions can be independently synchronized?  Certainly lookup is going to be a r&#x2F;w lock or whatever and basically a wash.  I vaguely buy that but would want to see numbers.<p>But that said, the hash made of the heap due to the variable size nodes and lack of intrusivity is going to have exactly the opposite effect for any high performance implementation.  Maybe Java doesn&#x27;t play in that sandbox, I guess.</div><br/></div></div></div></div><div id="39656824" class="c"><input type="checkbox" id="c-39656824" checked=""/><div class="controls bullet"><span class="by">fourthark</span><span>|</span><a href="#39656043">parent</a><span>|</span><a href="#39656171">prev</a><span>|</span><a href="#39652714">next</a><span>|</span><label class="collapse" for="c-39656824">[-]</label><label class="expand" for="c-39656824">[2 more]</label></div><br/><div class="children"><div class="content">Pretty sure I learned about skip lists as a lock-free data structure that is relatively easy to reason about (but it was a while ago and I’m not finding confirmation in a quick search).</div><br/><div id="39657032" class="c"><input type="checkbox" id="c-39657032" checked=""/><div class="controls bullet"><span class="by">senderista</span><span>|</span><a href="#39656043">root</a><span>|</span><a href="#39656824">parent</a><span>|</span><a href="#39652714">next</a><span>|</span><label class="collapse" for="c-39657032">[-]</label><label class="expand" for="c-39657032">[1 more]</label></div><br/><div class="children"><div class="content">Skip lists are relatively simple to make lock-free, while lock-free (even unbalanced) binary search trees are an absolute nightmare.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;openjdk-mirror&#x2F;jdk7u-jdk&#x2F;blob&#x2F;master&#x2F;src&#x2F;share&#x2F;classes&#x2F;java&#x2F;util&#x2F;concurrent&#x2F;ConcurrentSkipListMap.java">https:&#x2F;&#x2F;github.com&#x2F;openjdk-mirror&#x2F;jdk7u-jdk&#x2F;blob&#x2F;master&#x2F;src&#x2F;...</a></div><br/></div></div></div></div></div></div><div id="39652714" class="c"><input type="checkbox" id="c-39652714" checked=""/><div class="controls bullet"><span class="by">JadeNB</span><span>|</span><a href="#39656043">prev</a><span>|</span><a href="#39652798">next</a><span>|</span><label class="collapse" for="c-39652714">[-]</label><label class="expand" for="c-39652714">[1 more]</label></div><br/><div class="children"><div class="content">The full subtitle is &quot;A Survey of Skiplists and Their Applications in Big Data Systems.&quot;</div><br/></div></div><div id="39652798" class="c"><input type="checkbox" id="c-39652798" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#39652714">prev</a><span>|</span><label class="collapse" for="c-39652798">[-]</label><label class="expand" for="c-39652798">[3 more]</label></div><br/><div class="children"><div class="content">I thought arXiv papers were all (experimentally) available as HTML for accessibility reasons now, but I can’t find the html link here.<p>Ref: <a href="https:&#x2F;&#x2F;blog.arxiv.org&#x2F;2023&#x2F;12&#x2F;21&#x2F;accessibility-update-arxiv-now-offers-papers-in-html-format&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.arxiv.org&#x2F;2023&#x2F;12&#x2F;21&#x2F;accessibility-update-arxiv...</a></div><br/><div id="39652911" class="c"><input type="checkbox" id="c-39652911" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#39652798">parent</a><span>|</span><a href="#39653408">next</a><span>|</span><label class="collapse" for="c-39652911">[-]</label><label class="expand" for="c-39652911">[1 more]</label></div><br/><div class="children"><div class="content">From your link:<p>&gt; [...] arXiv is now generating an HTML formatted version of all papers <i>submitted in TeX&#x2F;LaTeX</i> [...]<p>This paper has been submitted as a PDF blob rather than buildable TeX source, it seems. (Otherwise there’d also be a “TeX Source” link on the left.)</div><br/></div></div></div></div></div></div></div></div></div></body></html>