<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690016446214" as="style"/><link rel="stylesheet" href="styles.css?v=1690016446214"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://tavianator.com/2023/bfs_3.0.html">Bfs 3.0: The Fastest Find Yet</a>Â <span class="domain">(<a href="https://tavianator.com">tavianator.com</a>)</span></div><div class="subtext"><span>rurban</span> | <span>15 comments</span></div><br/><div><div id="36822957" class="c"><input type="checkbox" id="c-36822957" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#36783512">next</a><span>|</span><label class="collapse" for="c-36822957">[-]</label><label class="expand" for="c-36822957">[6 more]</label></div><br/><div class="children"><div class="content">Is there a chance for an Everything alternative? That&#x27;s the awesome tool that would allow you to ignore the depth&#x2F;breadth completely find any file literally instantly (the power of instant feedback is unapralleled)
Do non-NTFS systems (even the modern ones) not offer this?</div><br/><div id="36823512" class="c"><input type="checkbox" id="c-36823512" checked=""/><div class="controls bullet"><span class="by">abrookewood</span><span>|</span><a href="#36822957">parent</a><span>|</span><a href="#36823702">next</a><span>|</span><label class="collapse" for="c-36823512">[-]</label><label class="expand" for="c-36823512">[1 more]</label></div><br/><div class="children"><div class="content">Just adding the Everything is ridiculously fast - nothing comes close. 
<a href="https:&#x2F;&#x2F;www.voidtools.com&#x2F;en-au&#x2F;support&#x2F;everything&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.voidtools.com&#x2F;en-au&#x2F;support&#x2F;everything&#x2F;</a></div><br/></div></div><div id="36823702" class="c"><input type="checkbox" id="c-36823702" checked=""/><div class="controls bullet"><span class="by">leeman2016</span><span>|</span><a href="#36822957">parent</a><span>|</span><a href="#36823512">prev</a><span>|</span><a href="#36823209">next</a><span>|</span><label class="collapse" for="c-36823702">[-]</label><label class="expand" for="c-36823702">[2 more]</label></div><br/><div class="children"><div class="content">How about FSearch in Linux? [<a href="http:&#x2F;&#x2F;cboxdoerfer.github.io&#x2F;fsearch&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;cboxdoerfer.github.io&#x2F;fsearch&#x2F;</a>]</div><br/><div id="36823749" class="c"><input type="checkbox" id="c-36823749" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#36822957">root</a><span>|</span><a href="#36823702">parent</a><span>|</span><a href="#36823209">next</a><span>|</span><label class="collapse" for="c-36823749">[-]</label><label class="expand" for="c-36823749">[1 more]</label></div><br/><div class="children"><div class="content">Yes, FSearch is the one I use, but it&#x27;s not as great, per FSearch&#x27;s dev:<p>&gt; However, FSearch doesn&#x27;t automatically detect changes made to the file system and update its index then. This is on the roadmap (it&#x27;s called inotify support) but it&#x27;ll never work as smooth as Everything on Windows, because the Linux kernel isn&#x27;t particularly good at reporting filesystem changes<p><a href="https:&#x2F;&#x2F;github.com&#x2F;cboxdoerfer&#x2F;fsearch&#x2F;issues&#x2F;26">https:&#x2F;&#x2F;github.com&#x2F;cboxdoerfer&#x2F;fsearch&#x2F;issues&#x2F;26</a><p>Everything is comprehensive + instant + always up-to-date, that&#x27;s so awesome a combo it&#x27;s a pity it&#x27;s Windows only</div><br/></div></div></div></div><div id="36823209" class="c"><input type="checkbox" id="c-36823209" checked=""/><div class="controls bullet"><span class="by">ksherlock</span><span>|</span><a href="#36822957">parent</a><span>|</span><a href="#36823702">prev</a><span>|</span><a href="#36783512">next</a><span>|</span><label class="collapse" for="c-36823209">[-]</label><label class="expand" for="c-36823209">[2 more]</label></div><br/><div class="children"><div class="content">Mac OS spotlight has more-or-less instant file search.  Command-F in finder or mdfind in the terminal.</div><br/><div id="36823781" class="c"><input type="checkbox" id="c-36823781" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#36822957">root</a><span>|</span><a href="#36823209">parent</a><span>|</span><a href="#36783512">next</a><span>|</span><label class="collapse" for="c-36823781">[-]</label><label class="expand" for="c-36823781">[1 more]</label></div><br/><div class="children"><div class="content">Except it&#x27;s neither instant nor comprehensive, and those two features are what make Everything awesome</div><br/></div></div></div></div></div></div><div id="36783512" class="c"><input type="checkbox" id="c-36783512" checked=""/><div class="controls bullet"><span class="by">rurban</span><span>|</span><a href="#36822957">prev</a><span>|</span><a href="#36823730">next</a><span>|</span><label class="collapse" for="c-36783512">[-]</label><label class="expand" for="c-36783512">[2 more]</label></div><br/><div class="children"><div class="content">Related: <a href="https:&#x2F;&#x2F;mastodon.social&#x2F;@pervognsen&#x2F;110739397974530013" rel="nofollow noreferrer">https:&#x2F;&#x2F;mastodon.social&#x2F;@pervognsen&#x2F;110739397974530013</a><p>But this tests perf for only finding one file. bfs is optimized for finding many files at once, as it defers closing the dirhandle, and uses io_uring for parallel IO callbacks.</div><br/><div id="36787935" class="c"><input type="checkbox" id="c-36787935" checked=""/><div class="controls bullet"><span class="by">tavianator</span><span>|</span><a href="#36783512">parent</a><span>|</span><a href="#36823730">next</a><span>|</span><label class="collapse" for="c-36787935">[-]</label><label class="expand" for="c-36787935">[1 more]</label></div><br/><div class="children"><div class="content">`bfs` doesn&#x27;t actually use io_uring yet, but it is planned.  I&#x27;m not sure I&#x27;d say it&#x27;s specifically optimized for finding multiple files at once either, I try to make it fast for many different use cases.  There&#x27;s two benchmarks in the blog post and a few more that I run regularly, e.g. <a href="https:&#x2F;&#x2F;github.com&#x2F;tavianator&#x2F;bfs&#x2F;pull&#x2F;107">https:&#x2F;&#x2F;github.com&#x2F;tavianator&#x2F;bfs&#x2F;pull&#x2F;107</a></div><br/></div></div></div></div><div id="36823730" class="c"><input type="checkbox" id="c-36823730" checked=""/><div class="controls bullet"><span class="by">leeman2016</span><span>|</span><a href="#36783512">prev</a><span>|</span><a href="#36823004">next</a><span>|</span><label class="collapse" for="c-36823730">[-]</label><label class="expand" for="c-36823730">[1 more]</label></div><br/><div class="children"><div class="content">There is a mistake in the README of the github repo:<p>In the 1st part of the &quot;Features&quot; section, the &quot;bfs&quot; and &quot;find&quot; columns&#x27; contents are swapped. I was a bit confused while reading it and it took me a while to notice that it was a mistake.</div><br/></div></div><div id="36823004" class="c"><input type="checkbox" id="c-36823004" checked=""/><div class="controls bullet"><span class="by">thecodrr</span><span>|</span><a href="#36823730">prev</a><span>|</span><a href="#36823664">next</a><span>|</span><label class="collapse" for="c-36823004">[-]</label><label class="expand" for="c-36823004">[2 more]</label></div><br/><div class="children"><div class="content">Would love to see how bfs compares to fdir[0] for directory traversal. Even though fdir is using Node.js underneath, the comparisons I have done with fd &amp; find are pretty close. Of course, bfs would probably be quite a bit faster...but how much faster exactly?<p>Disclaimer: I am the developer of fdir.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;thecodrr&#x2F;fdir">https:&#x2F;&#x2F;github.com&#x2F;thecodrr&#x2F;fdir</a></div><br/></div></div><div id="36823664" class="c"><input type="checkbox" id="c-36823664" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#36823004">prev</a><span>|</span><a href="#36823289">next</a><span>|</span><label class="collapse" for="c-36823664">[-]</label><label class="expand" for="c-36823664">[1 more]</label></div><br/><div class="children"><div class="content">I tried it out. If there&#x27;s a lot of results, it seems to fare poorer.<p>However as a disclosure, I was running this on my &quot;bedside laptop&quot; which is a Core2 from like 15 years ago.</div><br/></div></div><div id="36823289" class="c"><input type="checkbox" id="c-36823289" checked=""/><div class="controls bullet"><span class="by">seeknotfind</span><span>|</span><a href="#36823664">prev</a><span>|</span><a href="#36822769">next</a><span>|</span><label class="collapse" for="c-36823289">[-]</label><label class="expand" for="c-36823289">[1 more]</label></div><br/><div class="children"><div class="content">This is so much nicer than using find while iterating max depth.</div><br/></div></div><div id="36822769" class="c"><input type="checkbox" id="c-36822769" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#36823289">prev</a><span>|</span><label class="collapse" for="c-36822769">[-]</label><label class="expand" for="c-36822769">[1 more]</label></div><br/><div class="children"><div class="content">As opposed to DFS: <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;761&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;xkcd.com&#x2F;761&#x2F;</a></div><br/></div></div></div></div></div></div></div></body></html>