<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1713690051550" as="style"/><link rel="stylesheet" href="styles.css?v=1713690051550"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.netbsd.org/~lneto/dls14.pdf">Scriptable operating systems with Lua (2014) [pdf]</a>Â <span class="domain">(<a href="https://www.netbsd.org">www.netbsd.org</a>)</span></div><div class="subtext"><span>type0</span> | <span>7 comments</span></div><br/><div><div id="40103268" class="c"><input type="checkbox" id="c-40103268" checked=""/><div class="controls bullet"><span class="by">netbioserror</span><span>|</span><a href="#40102555">next</a><span>|</span><label class="collapse" for="c-40103268">[-]</label><label class="expand" for="c-40103268">[2 more]</label></div><br/><div class="children"><div class="content">Seems like a perfect use-case for Janet. (<a href="https:&#x2F;&#x2F;janet-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;janet-lang.org&#x2F;</a>) A fast minimal VM like Lua, but even <i>more</i> extensible than Lua by being a &quot;Lisp&quot; with macro and C extension capabilities. Not a true Lisp, it&#x27;s very pragmatic and performance-oriented. But it keeps the good stuff. Composing OS extensions with something like that would be downright joyous.</div><br/><div id="40103943" class="c"><input type="checkbox" id="c-40103943" checked=""/><div class="controls bullet"><span class="by">sourcepluck</span><span>|</span><a href="#40103268">parent</a><span>|</span><a href="#40102555">next</a><span>|</span><label class="collapse" for="c-40103943">[-]</label><label class="expand" for="c-40103943">[1 more]</label></div><br/><div class="children"><div class="content">A lovely idea. I&#x27;d been trying to find an excuse to mess with Janet, because so many of the decisions seem nice, but hadn&#x27;t figured out where it wanted to be. That idea sounds compelling, though!</div><br/></div></div></div></div><div id="40102555" class="c"><input type="checkbox" id="c-40102555" checked=""/><div class="controls bullet"><span class="by">gnat</span><span>|</span><a href="#40103268">prev</a><span>|</span><a href="#40102764">next</a><span>|</span><label class="collapse" for="c-40102555">[-]</label><label class="expand" for="c-40102555">[2 more]</label></div><br/><div class="children"><div class="content">They embedded Lua into the NetBSD kernel for scripting frequency scaling and network packet filtering. Their packet filtering example ran a 100Mbps connection at 96Mbps, which indicates the performance hit isn&#x27;t extreme.</div><br/><div id="40102643" class="c"><input type="checkbox" id="c-40102643" checked=""/><div class="controls bullet"><span class="by">etcimon</span><span>|</span><a href="#40102555">parent</a><span>|</span><a href="#40102764">next</a><span>|</span><label class="collapse" for="c-40102643">[-]</label><label class="expand" for="c-40102643">[1 more]</label></div><br/><div class="children"><div class="content">Would probably need a few more benchmarks to determine if it scales or if it&#x27;s a bottleneck</div><br/></div></div></div></div><div id="40102764" class="c"><input type="checkbox" id="c-40102764" checked=""/><div class="controls bullet"><span class="by">lneto</span><span>|</span><a href="#40102555">prev</a><span>|</span><a href="#40102680">next</a><span>|</span><label class="collapse" for="c-40102764">[-]</label><label class="expand" for="c-40102764">[1 more]</label></div><br/><div class="children"><div class="content">If interested, you may want to glance at <a href="https:&#x2F;&#x2F;github.com&#x2F;luainkernel&#x2F;lunatik">https:&#x2F;&#x2F;github.com&#x2F;luainkernel&#x2F;lunatik</a></div><br/></div></div><div id="40102680" class="c"><input type="checkbox" id="c-40102680" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#40102764">prev</a><span>|</span><label class="collapse" for="c-40102680">[-]</label><label class="expand" for="c-40102680">[1 more]</label></div><br/><div class="children"><div class="content">Discussed at the time:<p><i>Scriptable Operating Systems with Lua [pdf]</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8389728">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8389728</a> - Sept 2014 (50 comments)</div><br/></div></div></div></div></div></div></div></body></html>