<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732179670512" as="style"/><link rel="stylesheet" href="styles.css?v=1732179670512"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://abenezer.org/blog/hyrum-law-in-golang">Hyrum&#x27;s Law in Golang</a> <span class="domain">(<a href="https://abenezer.org">abenezer.org</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>33 comments</span></div><br/><div><div id="42202204" class="c"><input type="checkbox" id="c-42202204" checked=""/><div class="controls bullet"><span class="by">hambes</span><span>|</span><a href="#42202326">next</a><span>|</span><label class="collapse" for="c-42202204">[-]</label><label class="expand" for="c-42202204">[7 more]</label></div><br/><div class="children"><div class="content">Solution to the specifically mentioned problem: Don&#x27;t use string-based errors, use sentinel errors [1].<p>More generally: Don&#x27;t produce code where consumers of your API are the least bit inclined to rely on non-technical strings. Instead use first-level language constructs like predefined error values, types or even constants that contain the non-technical string so that API consumers can compare the return value againnst the constant instead of hard-coding the contained string themselves.<p>Hyrum&#x27;s Law is definitely a thing, but its effects can be mitigated.<p>[1]: <a href="https:&#x2F;&#x2F;thomas-guettler.de&#x2F;go&#x2F;wrapping-and-sentinel-errors" rel="nofollow">https:&#x2F;&#x2F;thomas-guettler.de&#x2F;go&#x2F;wrapping-and-sentinel-errors</a></div><br/><div id="42202260" class="c"><input type="checkbox" id="c-42202260" checked=""/><div class="controls bullet"><span class="by">gwd</span><span>|</span><a href="#42202204">parent</a><span>|</span><a href="#42202257">next</a><span>|</span><label class="collapse" for="c-42202260">[-]</label><label class="expand" for="c-42202260">[1 more]</label></div><br/><div class="children"><div class="content">The frustrating thing is that the error in question already <i>is</i> a sentinel error -- Grafana (the top-level culprit in the linked search) should be using `errors.As(&amp;http.MaxBytesError{})` rather than doing a string compare.<p>The whole point of Hyrum&#x27;s Law is that it doesn&#x27;t matter how well you design your API: no matter what, people will depend on its behavior rather than its contract.</div><br/></div></div><div id="42202257" class="c"><input type="checkbox" id="c-42202257" checked=""/><div class="controls bullet"><span class="by">Svip</span><span>|</span><a href="#42202204">parent</a><span>|</span><a href="#42202260">prev</a><span>|</span><a href="#42202261">next</a><span>|</span><label class="collapse" for="c-42202257">[-]</label><label class="expand" for="c-42202257">[2 more]</label></div><br/><div class="children"><div class="content">In your example, the onus is on the consumer not the provider.  I could still be writing code that checks if `err.String() == &quot;no more tea available.&quot;`.  I agree, I shouldn&#x27;t do that, but nothing is preventing me from doing that.  Additionally, errors.Is is a relatively recent addition to Go, so by the time people would check for errors like this, it was just easier to check the literal string.  But as an API provider in Go, you cannot prevent your consumers from checking the return values of .String().</div><br/><div id="42202284" class="c"><input type="checkbox" id="c-42202284" checked=""/><div class="controls bullet"><span class="by">hambes</span><span>|</span><a href="#42202204">root</a><span>|</span><a href="#42202257">parent</a><span>|</span><a href="#42202261">next</a><span>|</span><label class="collapse" for="c-42202284">[-]</label><label class="expand" for="c-42202284">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately true. The Go maintainers might not agree with me on this, but I think in this case consumers have to learn the hard way. Go tries to always be backwards compatible, but I don&#x27;t think that trying to be backwards compatible with incorrect usage is ever the right choice.</div><br/></div></div></div></div><div id="42202261" class="c"><input type="checkbox" id="c-42202261" checked=""/><div class="controls bullet"><span class="by">adontz</span><span>|</span><a href="#42202204">parent</a><span>|</span><a href="#42202257">prev</a><span>|</span><a href="#42202326">next</a><span>|</span><label class="collapse" for="c-42202261">[-]</label><label class="expand" for="c-42202261">[3 more]</label></div><br/><div class="children"><div class="content">Honestly, this is so much worse than &quot;catch&quot;. It&#x27;s what a &quot;catch&quot; would look like in &quot;C&quot;.</div><br/><div id="42202287" class="c"><input type="checkbox" id="c-42202287" checked=""/><div class="controls bullet"><span class="by">hambes</span><span>|</span><a href="#42202204">root</a><span>|</span><a href="#42202261">parent</a><span>|</span><a href="#42202326">next</a><span>|</span><label class="collapse" for="c-42202287">[-]</label><label class="expand" for="c-42202287">[2 more]</label></div><br/><div class="children"><div class="content">It might look worse than catch, but it&#x27;s much more predictable and less goto-y.</div><br/><div id="42202393" class="c"><input type="checkbox" id="c-42202393" checked=""/><div class="controls bullet"><span class="by">guappa</span><span>|</span><a href="#42202204">root</a><span>|</span><a href="#42202287">parent</a><span>|</span><a href="#42202326">next</a><span>|</span><label class="collapse" for="c-42202393">[-]</label><label class="expand" for="c-42202393">[1 more]</label></div><br/><div class="children"><div class="content">goto was only bad when used to save code and jump indiscriminately. To handle errors is no problem at all.</div><br/></div></div></div></div></div></div></div></div><div id="42202326" class="c"><input type="checkbox" id="c-42202326" checked=""/><div class="controls bullet"><span class="by">FiloSottile</span><span>|</span><a href="#42202204">prev</a><span>|</span><a href="#42202248">next</a><span>|</span><label class="collapse" for="c-42202326">[-]</label><label class="expand" for="c-42202326">[3 more]</label></div><br/><div class="children"><div class="content">Hah, I wrote the crypto&#x2F;rsa comments. We take Hyrum&#x27;s Law (and backwards compatibility [1]) extremely seriously in Go. Here are a couple more examples:<p>- We randomly read an extra byte from random streams in various GenerateKey functions (which are not marked like the ones in OP) with MaybeReadByte [2] to avoid having our algorithm locked in<p>- Just yesterday someone reported that a private ECDSA key with a nil public key used to work, and now it doesn&#x27;t, so we probably have to make it work again [3]<p>- Iterating over a map uses a randomized order to avoid exposing the internals<p>- The output of rand.Rand is considered part of the compatibility promise, so we had to go to great lengths to improve it [4]<p>- We discuss <i>all the time</i> what commitments to make in docs and what behaviors to disclaim, knowing we can never change something documented <i>and</i> probably something that&#x27;s not explicitly documented as &quot;this may change&quot; [6]<p>[1]: <a href="https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;go1compat" rel="nofollow">https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;go1compat</a><p>[2]: <a href="https:&#x2F;&#x2F;pkg.go.dev&#x2F;crypto&#x2F;internal&#x2F;randutil#MaybeReadByte" rel="nofollow">https:&#x2F;&#x2F;pkg.go.dev&#x2F;crypto&#x2F;internal&#x2F;randutil#MaybeReadByte</a><p>[3]: <a href="https:&#x2F;&#x2F;go.dev&#x2F;issue&#x2F;70468" rel="nofollow">https:&#x2F;&#x2F;go.dev&#x2F;issue&#x2F;70468</a><p>[4]: <a href="https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;randv2" rel="nofollow">https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;randv2</a><p>[5]: <a href="https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;chacha8rand" rel="nofollow">https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;chacha8rand</a><p>[6]: <a href="https:&#x2F;&#x2F;go-review.googlesource.com&#x2F;c&#x2F;go&#x2F;+&#x2F;598336&#x2F;comment&#x2F;5d6877aa_f45d6fa5&#x2F;" rel="nofollow">https:&#x2F;&#x2F;go-review.googlesource.com&#x2F;c&#x2F;go&#x2F;+&#x2F;598336&#x2F;comment&#x2F;5d6...</a></div><br/><div id="42202405" class="c"><input type="checkbox" id="c-42202405" checked=""/><div class="controls bullet"><span class="by">gnfargbl</span><span>|</span><a href="#42202326">parent</a><span>|</span><a href="#42202361">next</a><span>|</span><label class="collapse" for="c-42202405">[-]</label><label class="expand" for="c-42202405">[1 more]</label></div><br/><div class="children"><div class="content">As a user of your code this is true, and I&#x27;m very grateful indeed that you take this approach.<p>I would add as a slight caveat that to benefit from this policy, users absolutely must read the release notes on major go versions before upgrading. We recently didn&#x27;t, and we were burnt somewhat by the change to disallow negative serial numbers in the x509 parser without enabling the new feature flag. Completely our fault and not yours, but I add the caveat nevertheless.</div><br/></div></div><div id="42202361" class="c"><input type="checkbox" id="c-42202361" checked=""/><div class="controls bullet"><span class="by">mkesper</span><span>|</span><a href="#42202326">parent</a><span>|</span><a href="#42202405">prev</a><span>|</span><a href="#42202248">next</a><span>|</span><label class="collapse" for="c-42202361">[-]</label><label class="expand" for="c-42202361">[1 more]</label></div><br/><div class="children"><div class="content">The nil key case really makes me wonder how sane it is to support these cases. You will be forced to lug this broken behavior with you forever, like the infamous A20 line (<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;A20_line" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;A20_line</a>).</div><br/></div></div></div></div><div id="42202248" class="c"><input type="checkbox" id="c-42202248" checked=""/><div class="controls bullet"><span class="by">adontz</span><span>|</span><a href="#42202326">prev</a><span>|</span><a href="#42202259">next</a><span>|</span><label class="collapse" for="c-42202248">[-]</label><label class="expand" for="c-42202248">[5 more]</label></div><br/><div class="children"><div class="content">This is a good example of &quot;stringly typed&quot; software. Golang designers did not want exceptions (still have them with panic&#x2F;recover), but untyped errors are evil. On the other hand, how would one process typed errors without pattern matching? Because &quot;catch&quot; in most languages is a [rudimentary] pattern matching.<p><a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;csharp&#x2F;language-reference&#x2F;statements&#x2F;exception-handling-statements#a-when-exception-filter" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;csharp&#x2F;language-ref...</a></div><br/><div id="42202266" class="c"><input type="checkbox" id="c-42202266" checked=""/><div class="controls bullet"><span class="by">KRAKRISMOTT</span><span>|</span><a href="#42202248">parent</a><span>|</span><a href="#42202259">next</a><span>|</span><label class="collapse" for="c-42202266">[-]</label><label class="expand" for="c-42202266">[4 more]</label></div><br/><div class="children"><div class="content">Go has typed errors, it just didn&#x27;t use it in this case.</div><br/><div id="42202378" class="c"><input type="checkbox" id="c-42202378" checked=""/><div class="controls bullet"><span class="by">TheDong</span><span>|</span><a href="#42202248">root</a><span>|</span><a href="#42202266">parent</a><span>|</span><a href="#42202277">next</a><span>|</span><label class="collapse" for="c-42202378">[-]</label><label class="expand" for="c-42202378">[1 more]</label></div><br/><div class="children"><div class="content">It has typed errors, except every function that returns an error returns the &#x27;error&#x27; interface, which gives you no information on the set of errors you might have.<p>In other statically typed languages, you can do things like &#x27;match err&#x27; and have the compiler tell you if you handled all the variants. In java you can `try { x } catch (SomeTypedException)` and have the compiler tell you if you missed any checked exceptions.<p>In go, you have to read the recursive call stack of the entire function you called to know if a certain error type is returned.<p>Can &#x27;pgx.Connect&#x27; return an `io.EOF` error? Can it return a &quot;tls: unknown certificate authority&quot; (unexported string only error)?<p>The only way to know is to recursively read every line of code `pgx.Connect` calls and take note of every returned error.<p>In other languages, it&#x27;s part of the type-signature.<p>Go doesn&#x27;t have _useful_ typed errors since idiomatically they&#x27;re type-erased into &#x27;error&#x27; the second they&#x27;re returned up from any method.</div><br/></div></div><div id="42202277" class="c"><input type="checkbox" id="c-42202277" checked=""/><div class="controls bullet"><span class="by">Svip</span><span>|</span><a href="#42202248">root</a><span>|</span><a href="#42202266">parent</a><span>|</span><a href="#42202378">prev</a><span>|</span><a href="#42202259">next</a><span>|</span><label class="collapse" for="c-42202277">[-]</label><label class="expand" for="c-42202277">[2 more]</label></div><br/><div class="children"><div class="content">The consumer didn&#x27;t, but the error in the example is typed, it&#x27;s called `MaxBytesError`.</div><br/><div id="42202292" class="c"><input type="checkbox" id="c-42202292" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#42202248">root</a><span>|</span><a href="#42202277">parent</a><span>|</span><a href="#42202259">next</a><span>|</span><label class="collapse" for="c-42202292">[-]</label><label class="expand" for="c-42202292">[1 more]</label></div><br/><div class="children"><div class="content">Matching the underlying type when using an interface never feels natural and is definitely the more foreign part of Go&#x27;s syntax to people who are not super proficient with it. Thus, they fall back on what they know - string comparison.</div><br/></div></div></div></div></div></div></div></div><div id="42202259" class="c"><input type="checkbox" id="c-42202259" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#42202248">prev</a><span>|</span><a href="#42202267">next</a><span>|</span><label class="collapse" for="c-42202259">[-]</label><label class="expand" for="c-42202259">[2 more]</label></div><br/><div class="children"><div class="content">When I clicked on the link to codebases relying on the specific error string, I was expecting to see random side projects. Wasn&#x27;t expecting to see Grafana and Caddy on the list.</div><br/><div id="42202363" class="c"><input type="checkbox" id="c-42202363" checked=""/><div class="controls bullet"><span class="by">Cthulhu_</span><span>|</span><a href="#42202259">parent</a><span>|</span><a href="#42202267">next</a><span>|</span><label class="collapse" for="c-42202363">[-]</label><label class="expand" for="c-42202363">[1 more]</label></div><br/><div class="children"><div class="content">Never underestimate the mediocrity of known large codebases, lol.<p>(just kidding, they&#x27;re not mediocre, but they&#x27;re not infallible or perfect either)</div><br/></div></div></div></div><div id="42202267" class="c"><input type="checkbox" id="c-42202267" checked=""/><div class="controls bullet"><span class="by">turtleyacht</span><span>|</span><a href="#42202259">prev</a><span>|</span><a href="#42202147">next</a><span>|</span><label class="collapse" for="c-42202267">[-]</label><label class="expand" for="c-42202267">[1 more]</label></div><br/><div class="children"><div class="content">In Docker&#x27;s error response for `docker rmi&#x27;; the fifteenth word is &quot;container&quot; and the sixteenth is the container ID.</div><br/></div></div><div id="42202147" class="c"><input type="checkbox" id="c-42202147" checked=""/><div class="controls bullet"><span class="by">sudhirj</span><span>|</span><a href="#42202267">prev</a><span>|</span><a href="#42202159">next</a><span>|</span><label class="collapse" for="c-42202147">[-]</label><label class="expand" for="c-42202147">[4 more]</label></div><br/><div class="children"><div class="content">Weren’t there a couple of anecdotes where Windows couldn’t fix a bug because some popular game (maybe SimCity?) depended on it, so the devs hardcoded a SimCity check inside Windows and made the bug happen if it was running?</div><br/><div id="42202200" class="c"><input type="checkbox" id="c-42202200" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#42202147">parent</a><span>|</span><a href="#42202221">next</a><span>|</span><label class="collapse" for="c-42202200">[-]</label><label class="expand" for="c-42202200">[2 more]</label></div><br/><div class="children"><div class="content">It was not a bug in windows, it was a bug in SimCity: it would UAF some memory, but the Windows 3.x allocator did not unmap &#x2F; clear that memory so it worked.<p>Windows 95 changed that, and so one of the compatibility shims it got is that the allocator had a 3.x adjacent mode, which would be turned on when running SimCity (and probably other similarly misbehaving software as well).<p>Nowadays this is formalised in the <i>compatibility engine</i> (dating back to windows do), which can enable special modes or compatibility shims for applications (windows admins trying to run legacy or unmaintained applications can manage the application of compatibility modes via the “compatibility administrator”).</div><br/><div id="42202236" class="c"><input type="checkbox" id="c-42202236" checked=""/><div class="controls bullet"><span class="by">praptak</span><span>|</span><a href="#42202147">root</a><span>|</span><a href="#42202200">parent</a><span>|</span><a href="#42202221">next</a><span>|</span><label class="collapse" for="c-42202236">[-]</label><label class="expand" for="c-42202236">[1 more]</label></div><br/><div class="children"><div class="content">Still a pretty good example of having to support something which is definitely not part of the official spec.</div><br/></div></div></div></div><div id="42202221" class="c"><input type="checkbox" id="c-42202221" checked=""/><div class="controls bullet"><span class="by">adontz</span><span>|</span><a href="#42202147">parent</a><span>|</span><a href="#42202200">prev</a><span>|</span><a href="#42202159">next</a><span>|</span><label class="collapse" for="c-42202221">[-]</label><label class="expand" for="c-42202221">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.joelonsoftware.com&#x2F;2000&#x2F;05&#x2F;24&#x2F;strategy-letter-ii-chicken-and-egg-problems&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.joelonsoftware.com&#x2F;2000&#x2F;05&#x2F;24&#x2F;strategy-letter-ii...</a><p>Jon Ross, who wrote the original version of SimCity for Windows 3.x, told me that he accidentally left a bug in SimCity where he read memory that he had just freed. Yep. It worked fine on Windows 3.x, because the memory never went anywhere. Here’s the amazing part: On beta versions of Windows 95, SimCity wasn’t working in testing. Microsoft tracked down the bug and added specific code to Windows 95 that looks for SimCity. If it finds SimCity running, it runs the memory allocator in a special mode that doesn’t free memory right away. That’s the kind of obsession with backward compatibility that made people willing to upgrade to Windows 95.</div><br/></div></div></div></div><div id="42202159" class="c"><input type="checkbox" id="c-42202159" checked=""/><div class="controls bullet"><span class="by">praptak</span><span>|</span><a href="#42202147">prev</a><span>|</span><a href="#42202360">next</a><span>|</span><label class="collapse" for="c-42202159">[-]</label><label class="expand" for="c-42202159">[3 more]</label></div><br/><div class="children"><div class="content">Corollary: uptime is part of the defacto spec being relied on.<p>One of the SRE practices is breaking your service on purpose to bring the actual service level closer to what is promised and supported.</div><br/><div id="42202395" class="c"><input type="checkbox" id="c-42202395" checked=""/><div class="controls bullet"><span class="by">Cthulhu_</span><span>|</span><a href="#42202159">parent</a><span>|</span><a href="#42202376">next</a><span>|</span><label class="collapse" for="c-42202395">[-]</label><label class="expand" for="c-42202395">[1 more]</label></div><br/><div class="children"><div class="content">As another commenter pointed out, this is to a point what Go does as well; for example, map iteration is randomised so no implementation will rely on insertion order.</div><br/></div></div><div id="42202376" class="c"><input type="checkbox" id="c-42202376" checked=""/><div class="controls bullet"><span class="by">dangfault</span><span>|</span><a href="#42202159">parent</a><span>|</span><a href="#42202395">prev</a><span>|</span><a href="#42202360">next</a><span>|</span><label class="collapse" for="c-42202376">[-]</label><label class="expand" for="c-42202376">[1 more]</label></div><br/><div class="children"><div class="content">another one, you pay me below market rate and you get below market rate code</div><br/></div></div></div></div><div id="42202360" class="c"><input type="checkbox" id="c-42202360" checked=""/><div class="controls bullet"><span class="by">indulona</span><span>|</span><a href="#42202159">prev</a><span>|</span><a href="#42202291">next</a><span>|</span><label class="collapse" for="c-42202360">[-]</label><label class="expand" for="c-42202360">[1 more]</label></div><br/><div class="children"><div class="content">This is why we have semantic versioning.</div><br/></div></div><div id="42202291" class="c"><input type="checkbox" id="c-42202291" checked=""/><div class="controls bullet"><span class="by">fullstackchris</span><span>|</span><a href="#42202360">prev</a><span>|</span><a href="#42202306">next</a><span>|</span><label class="collapse" for="c-42202291">[-]</label><label class="expand" for="c-42202291">[3 more]</label></div><br/><div class="children"><div class="content">Sure... but this is why we have sem versioning and release notes. It&#x27;s always nice to try and support all users but sometimes you just need to ship breaking changes...</div><br/><div id="42202386" class="c"><input type="checkbox" id="c-42202386" checked=""/><div class="controls bullet"><span class="by">Cthulhu_</span><span>|</span><a href="#42202291">parent</a><span>|</span><a href="#42202306">next</a><span>|</span><label class="collapse" for="c-42202386">[-]</label><label class="expand" for="c-42202386">[2 more]</label></div><br/><div class="children"><div class="content">While in principle you&#x27;re correct, Go the language is very dedicated to backwards and forwards compatibility; while there&#x27;s been talk of a Go 2 for a long time now, they&#x27;re not eager to go there and if they do, they intend to make the transition low impact.<p>That said, I&#x27;d say this is an excellent candidate to deprecate or warn about now, and to make impossible in a version 2. Then again, how would you even stop this? A string representation of an error is common in any language, you need it to log things.<p>I think at best there will be a static analysis rule (in e.g. go vet) that tries to figure out if any matching is done on the string representation of an error.</div><br/><div id="42202406" class="c"><input type="checkbox" id="c-42202406" checked=""/><div class="controls bullet"><span class="by">TheDong</span><span>|</span><a href="#42202291">root</a><span>|</span><a href="#42202386">parent</a><span>|</span><a href="#42202306">next</a><span>|</span><label class="collapse" for="c-42202406">[-]</label><label class="expand" for="c-42202406">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I think at best there will be a static analysis rule (in e.g. go vet) that tries to figure out if any matching is done on the string representation of an error.<p>First they&#x27;d need to export the errors the stdlib returns <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41507714">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41507714</a><p>I wouldn&#x27;t hold my breath on that one.</div><br/></div></div></div></div></div></div><div id="42202306" class="c"><input type="checkbox" id="c-42202306" checked=""/><div class="controls bullet"><span class="by">raverbashing</span><span>|</span><a href="#42202291">prev</a><span>|</span><label class="collapse" for="c-42202306">[-]</label><label class="expand" for="c-42202306">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s like an inverted game of cat and mice<p>1 - Lang&#x2F;OS&#x2F;Lib developer puts out a quirky or buggy API (or even just an ok API)<p>2 - Developers rely on a quirky, weird or unexpected side effect because it&#x27;s easier&#x2F;more obvious or it just works this way due to a bug<p>3 - Original developer can&#x27;t fix it because it would break compatibility<p>4 GOTO 1</div><br/><div id="42202389" class="c"><input type="checkbox" id="c-42202389" checked=""/><div class="controls bullet"><span class="by">Cthulhu_</span><span>|</span><a href="#42202306">parent</a><span>|</span><a href="#42202332">next</a><span>|</span><label class="collapse" for="c-42202389">[-]</label><label class="expand" for="c-42202389">[1 more]</label></div><br/><div class="children"><div class="content">And this isn&#x27;t even quirky&#x2F;buggy, it&#x27;s just the string representation of an error. That said, Go took a while to improve its core error mechanisms and add utilities for matching errors by type instead of its string representation.</div><br/></div></div><div id="42202332" class="c"><input type="checkbox" id="c-42202332" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#42202306">parent</a><span>|</span><a href="#42202389">prev</a><span>|</span><label class="collapse" for="c-42202332">[-]</label><label class="expand" for="c-42202332">[1 more]</label></div><br/><div class="children"><div class="content">Immediately reminded of this: <a href="https:&#x2F;&#x2F;externals.io&#x2F;message&#x2F;126011" rel="nofollow">https:&#x2F;&#x2F;externals.io&#x2F;message&#x2F;126011</a> that is an ongoing conversation in php-internals about removing a quirky&#x2F;buggy behavior from PHP that, at the very end (at least of this comment&#x27;s time) someone jumps in and says &quot;yep, its useful, please keep it&quot;</div><br/></div></div></div></div></div></div></div></div></div></body></html>