<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1709283672982" as="style"/><link rel="stylesheet" href="styles.css?v=1709283672982"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.micahlerner.com/2023/07/23/defcon-preventing-overload-with-graceful-feature-degradation.html">Defcon: Preventing overload with graceful feature degradation (2023)</a> <span class="domain">(<a href="https://www.micahlerner.com">www.micahlerner.com</a>)</span></div><div class="subtext"><span>mlerner</span> | <span>88 comments</span></div><br/><div><div id="39559576" class="c"><input type="checkbox" id="c-39559576" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#39556064">next</a><span>|</span><label class="collapse" for="c-39559576">[-]</label><label class="expand" for="c-39559576">[1 more]</label></div><br/><div class="children"><div class="content">One of the most satisfying feature degradation steps I did with FastComments was making it so that if the DB went offline completely, the app would still function:<p>1. It auto restarts all workers in the cluster in &quot;maintenance mode&quot;.<p>2. A &quot;maintenance mode&quot; message shows on the homepage.<p>3. The top 100 pages by comment volume will still render their comment threads, as a job on each edge node recalculates and stores this on disk periodically.<p>4. Logging in is disabled.<p>5. All db calls to the driver are stubbed out with mocks to prevent crashes.<p>6. Comments can still be posted and are added into an on-disk queue on each edge node.<p>7. When the system is back online the queue is processed (and stuff checked for spam etc like normal).<p>It&#x27;s not perfect but it means in a lot of cases I can completely turn off the DB for a few minutes without panic. I haven&#x27;t had to use it in over a year, though, and the DB doesn&#x27;t really go down. But useful for upgrades.<p>built it on my couch during a Jurassic park marathon :P</div><br/></div></div><div id="39556064" class="c"><input type="checkbox" id="c-39556064" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#39559576">prev</a><span>|</span><a href="#39555125">next</a><span>|</span><label class="collapse" for="c-39556064">[-]</label><label class="expand" for="c-39556064">[12 more]</label></div><br/><div class="children"><div class="content">Joining Google a few years ago, one thing I was impressed with is the amount of effort that goes into graceful degradation. For user facing services it gets quite granular, and is deeply integrated into the stack – from application layer to networking.<p>Previously I worked on a big web app at a growing startup, and it&#x27;s probably the sort of thing I&#x27;d start adding in small ways from the early days. Being able to turn off unnecessary writes, turn down the rate of more expensive computation, turn down rates of traffic amplification, these would all have been useful levers in some of our outages.</div><br/><div id="39556321" class="c"><input type="checkbox" id="c-39556321" checked=""/><div class="controls bullet"><span class="by">tuyguntn</span><span>|</span><a href="#39556064">parent</a><span>|</span><a href="#39555125">next</a><span>|</span><label class="collapse" for="c-39556321">[-]</label><label class="expand" for="c-39556321">[11 more]</label></div><br/><div class="children"><div class="content">it&#x27;s really great to have such capabilities, but adding them has a cost where only few can afford. Cost in terms of investing in building those, which impacts your feature build velocity and the maintenance</div><br/><div id="39556364" class="c"><input type="checkbox" id="c-39556364" checked=""/><div class="controls bullet"><span class="by">zerkten</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556321">parent</a><span>|</span><a href="#39555125">next</a><span>|</span><label class="collapse" for="c-39556364">[-]</label><label class="expand" for="c-39556364">[10 more]</label></div><br/><div class="children"><div class="content">Can you be specific about the cost of building these?<p>I&#x27;ve run into many situations where something was deemed costly, is found out later, and the team ultimately has implement it all while hoping no one groks that is was predicted. &quot;Nobody ever gets credit for fixing problems that never happened&quot; (<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39472693">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39472693</a>) is related.</div><br/><div id="39557267" class="c"><input type="checkbox" id="c-39557267" checked=""/><div class="controls bullet"><span class="by">nostrademons</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556364">parent</a><span>|</span><a href="#39556791">next</a><span>|</span><label class="collapse" for="c-39557267">[-]</label><label class="expand" for="c-39557267">[1 more]</label></div><br/><div class="children"><div class="content">When I was in Search 15 or so years ago, there was actually a very direct cost: revenue.<p>The AdMixer was an &quot;optional&quot; response for the search page.  If the ads didn&#x27;t return before the search results did, the search would just not show ads, and Google wouldn&#x27;t get any revenue for it.  Showed the premium that Google of the day put on latency and user experience.  I think we lost a few million per year to timeouts, but it was worth it for generating user loyalty, and it put a very big incentive on the ads team to keep the serving stack fast.<p>No idea if it&#x27;s still architected like that, I kinda doubt it given recent search experiences, but I thought it was brilliant just for the sake of aligning incentives between different parts of the organization.</div><br/></div></div><div id="39556791" class="c"><input type="checkbox" id="c-39556791" checked=""/><div class="controls bullet"><span class="by">spacebanana7</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556364">parent</a><span>|</span><a href="#39557267">prev</a><span>|</span><a href="#39557087">next</a><span>|</span><label class="collapse" for="c-39556791">[-]</label><label class="expand" for="c-39556791">[6 more]</label></div><br/><div class="children"><div class="content">The developer, tester and devops time required to properly implement graceful degradation could easily accumulate to hundreds of hours.<p>Those hours are directly expensive when your developers cost hundreds of dollars a day; and have a material opportunity cost in that their commitment to one particular project delays the delivery of other features.<p>Moreover, any new features would have to be made compatible with the graceful degradation pattern, creating an ongoing cost.</div><br/><div id="39557767" class="c"><input type="checkbox" id="c-39557767" checked=""/><div class="controls bullet"><span class="by">IggleSniggle</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556791">parent</a><span>|</span><a href="#39558402">next</a><span>|</span><label class="collapse" for="c-39557767">[-]</label><label class="expand" for="c-39557767">[1 more]</label></div><br/><div class="children"><div class="content">When you hire an engineer to build a dam, you expect them to consider piping and subsurface flows such that the foundation isn&#x27;t swept out in a decade. No matter of the engineer was already paid, retired, etc.<p>My point isn&#x27;t that we all need to make dams that can hold up for a century. The point is that you hire an engineer because you want someone with the judgement and expertise to apply the correct amount of engineering to any given solution. Over-engineering is on the pathway to correct-sized engineering. It&#x27;s the experience, discovery, and exploration required to arrive at choosing what things <i>actually</i> do not need to be done.<p>When your manager asks you, &quot;do we <i>really</i> need to do that?&quot; It&#x27;s the expert that can explain why it really is necessary, and the professional who accepts &quot;we&#x27;re not going to do that&quot; as an answer. And if they still feel it would be harmful not to do it, then that&#x27;s where professional duty kicks in.</div><br/></div></div><div id="39558402" class="c"><input type="checkbox" id="c-39558402" checked=""/><div class="controls bullet"><span class="by">mlyle</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556791">parent</a><span>|</span><a href="#39557767">prev</a><span>|</span><a href="#39558530">next</a><span>|</span><label class="collapse" for="c-39558402">[-]</label><label class="expand" for="c-39558402">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a lot of levels to the approach.<p>Just spending a few moments to consider whether queues should grow, block, or spill when adding them makes a big difference, along with choices in error handling.  You can get a lot of things to gracefully degrade for free if that&#x27;s a part of your decision-making process.</div><br/></div></div><div id="39558530" class="c"><input type="checkbox" id="c-39558530" checked=""/><div class="controls bullet"><span class="by">jacobcoro</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556791">parent</a><span>|</span><a href="#39558402">prev</a><span>|</span><a href="#39557795">next</a><span>|</span><label class="collapse" for="c-39558530">[-]</label><label class="expand" for="c-39558530">[2 more]</label></div><br/><div class="children"><div class="content">Could be as simple as just some feature flags with environment variables</div><br/><div id="39559571" class="c"><input type="checkbox" id="c-39559571" checked=""/><div class="controls bullet"><span class="by">groestl</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39558530">parent</a><span>|</span><a href="#39557795">next</a><span>|</span><label class="collapse" for="c-39559571">[-]</label><label class="expand" for="c-39559571">[1 more]</label></div><br/><div class="children"><div class="content">I also found that when building a feature iteratively, with feature flags for rollout, a simple feature degradation path often appears natively.</div><br/></div></div></div></div></div></div><div id="39557087" class="c"><input type="checkbox" id="c-39557087" checked=""/><div class="controls bullet"><span class="by">kortilla</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556364">parent</a><span>|</span><a href="#39556791">prev</a><span>|</span><a href="#39557115">next</a><span>|</span><label class="collapse" for="c-39557087">[-]</label><label class="expand" for="c-39557087">[1 more]</label></div><br/><div class="children"><div class="content">Effectively every piece of software written for at most a few thousand people to use concurrently (i.e. 99.99% of software).<p>Consumer apps that scale to hundreds of thousands of users with five 9s+ uptime requirements are very rare.</div><br/></div></div><div id="39557115" class="c"><input type="checkbox" id="c-39557115" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#39556064">root</a><span>|</span><a href="#39556364">parent</a><span>|</span><a href="#39557087">prev</a><span>|</span><a href="#39555125">next</a><span>|</span><label class="collapse" for="c-39557115">[-]</label><label class="expand" for="c-39557115">[1 more]</label></div><br/><div class="children"><div class="content">For one, it potentially multiplies the testing and regression testing requirements to hit all those additional configurations.</div><br/></div></div></div></div></div></div></div></div><div id="39555125" class="c"><input type="checkbox" id="c-39555125" checked=""/><div class="controls bullet"><span class="by">Banditoz</span><span>|</span><a href="#39556064">prev</a><span>|</span><a href="#39556050">next</a><span>|</span><label class="collapse" for="c-39555125">[-]</label><label class="expand" for="c-39555125">[47 more]</label></div><br/><div class="children"><div class="content">Am I reading the second figure right? Facebook can do 130*10^6 queries&#x2F;second == ‭130,000,000‬ queries&#x2F;second?!</div><br/><div id="39555700" class="c"><input type="checkbox" id="c-39555700" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555383">next</a><span>|</span><label class="collapse" for="c-39555700">[-]</label><label class="expand" for="c-39555700">[12 more]</label></div><br/><div class="children"><div class="content">Facebook makes over 300 requests for me just loading the main logged in page while showing me exactly 1 timeline item. Hovering my mouse over that item makes another 100 requests or so. Scrolling down loads another item at the cost of over 100 requests again. It&#x27;s impressive in a perverse way just how inefficient they can be while managing to make it still work, and somewhat disturbing that their ads bring in enough money to make them extremely profitable despite it.</div><br/><div id="39556807" class="c"><input type="checkbox" id="c-39556807" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555700">parent</a><span>|</span><a href="#39557692">next</a><span>|</span><label class="collapse" for="c-39556807">[-]</label><label class="expand" for="c-39556807">[3 more]</label></div><br/><div class="children"><div class="content">This is the company that instead of ditching PHP created a full on PHP to C++ transpiler and then deployed their while site on that for a few years.</div><br/><div id="39558638" class="c"><input type="checkbox" id="c-39558638" checked=""/><div class="controls bullet"><span class="by">NooneAtAll3</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556807">parent</a><span>|</span><a href="#39557692">next</a><span>|</span><label class="collapse" for="c-39558638">[-]</label><label class="expand" for="c-39558638">[2 more]</label></div><br/><div class="children"><div class="content">&gt; deployed their while site<p>??</div><br/><div id="39558705" class="c"><input type="checkbox" id="c-39558705" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39558638">parent</a><span>|</span><a href="#39557692">next</a><span>|</span><label class="collapse" for="c-39558705">[-]</label><label class="expand" for="c-39558705">[1 more]</label></div><br/><div class="children"><div class="content">Obviously &quot;whole&quot;.</div><br/></div></div></div></div></div></div><div id="39557692" class="c"><input type="checkbox" id="c-39557692" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555700">parent</a><span>|</span><a href="#39556807">prev</a><span>|</span><a href="#39556739">next</a><span>|</span><label class="collapse" for="c-39557692">[-]</label><label class="expand" for="c-39557692">[2 more]</label></div><br/><div class="children"><div class="content">Do you have an ad blocker stopping the requests and causing retries?</div><br/><div id="39557909" class="c"><input type="checkbox" id="c-39557909" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39557692">parent</a><span>|</span><a href="#39556739">next</a><span>|</span><label class="collapse" for="c-39557909">[-]</label><label class="expand" for="c-39557909">[1 more]</label></div><br/><div class="children"><div class="content">I do have ublock origin on everything of mine, so conceivably it&#x27;s reacting to that somehow. I&#x27;m no longer at my computer to be able to look more closely at what it&#x27;s doing.</div><br/></div></div></div></div><div id="39556739" class="c"><input type="checkbox" id="c-39556739" checked=""/><div class="controls bullet"><span class="by">yodsanklai</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555700">parent</a><span>|</span><a href="#39557692">prev</a><span>|</span><a href="#39556002">next</a><span>|</span><label class="collapse" for="c-39556739">[-]</label><label class="expand" for="c-39556739">[3 more]</label></div><br/><div class="children"><div class="content">Could someone tell me what these hundreds of requests could do?</div><br/><div id="39557451" class="c"><input type="checkbox" id="c-39557451" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556739">parent</a><span>|</span><a href="#39557013">next</a><span>|</span><label class="collapse" for="c-39557451">[-]</label><label class="expand" for="c-39557451">[1 more]</label></div><br/><div class="children"><div class="content">A lot of them appear to be that they&#x27;ve split their javascript into a gazillion files for whatever reason (I suppose because they have several MB of it). But someone or lots of people there did seem to get addicted to dynamic loading. Like I&#x27;ve got 100 or so friends, but my friends page loads them 8-16 at a time as I scroll. Just send all 100 and set the profile pictures to deferred fetch. It&#x27;d probably be smaller than the js they have to make it do &quot;infinite&quot; scroll.<p>Similarly, after getting to the bottom of their &quot;infinite&quot; scroll, my friend feed (which is annoyingly hidden away) gives me... 15 items. Just send me all 15. It&#x27;s like 1-2 kB worth of data. If you&#x27;re going to end the scroll after a dozen items, why is it using infinite scroll?</div><br/></div></div><div id="39557013" class="c"><input type="checkbox" id="c-39557013" checked=""/><div class="controls bullet"><span class="by">Solvency</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556739">parent</a><span>|</span><a href="#39557451">prev</a><span>|</span><a href="#39556002">next</a><span>|</span><label class="collapse" for="c-39557013">[-]</label><label class="expand" for="c-39557013">[1 more]</label></div><br/><div class="children"><div class="content">Track you, probably with a thousand layers of redundancy, tech bloat, and decades of mold.</div><br/></div></div></div></div><div id="39556002" class="c"><input type="checkbox" id="c-39556002" checked=""/><div class="controls bullet"><span class="by">golergka</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555700">parent</a><span>|</span><a href="#39556739">prev</a><span>|</span><a href="#39555383">next</a><span>|</span><label class="collapse" for="c-39556002">[-]</label><label class="expand" for="c-39556002">[3 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t the whole point of GraphQL in mitigating this?</div><br/><div id="39556915" class="c"><input type="checkbox" id="c-39556915" checked=""/><div class="controls bullet"><span class="by">serial_dev</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556002">parent</a><span>|</span><a href="#39557578">next</a><span>|</span><label class="collapse" for="c-39556915">[-]</label><label class="expand" for="c-39556915">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that&#x27;s why you have only 100 requests* when you hover over an item instead of 800.<p>(* allegedly, didn&#x27;t verify it myself)</div><br/></div></div><div id="39557578" class="c"><input type="checkbox" id="c-39557578" checked=""/><div class="controls bullet"><span class="by">zer00eyz</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556002">parent</a><span>|</span><a href="#39556915">prev</a><span>|</span><a href="#39555383">next</a><span>|</span><label class="collapse" for="c-39557578">[-]</label><label class="expand" for="c-39557578">[1 more]</label></div><br/><div class="children"><div class="content">No.<p>Here is the thing, hypermedia is cacheable. React&#x2F;Graphql not so much.<p>Facebook is now just an application that runs in the browser.<p>As a poor, small developer who doesn&#x27;t want to hemorrhage money, I tend to want things to be more hypermedia and less app. It saves on complexity and bandwidth and costs.</div><br/></div></div></div></div></div></div><div id="39555383" class="c"><input type="checkbox" id="c-39555383" checked=""/><div class="controls bullet"><span class="by">bagels</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555700">prev</a><span>|</span><a href="#39557147">next</a><span>|</span><label class="collapse" for="c-39555383">[-]</label><label class="expand" for="c-39555383">[12 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t comment on the numbers, but think of how many engineers work there and how many users Facebook, Whatsapp, Instagram have. Each engineer is adding new features and queries every day. You&#x27;re going to get a lot of queries.</div><br/><div id="39555867" class="c"><input type="checkbox" id="c-39555867" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555383">parent</a><span>|</span><a href="#39557147">next</a><span>|</span><label class="collapse" for="c-39555867">[-]</label><label class="expand" for="c-39555867">[11 more]</label></div><br/><div class="children"><div class="content">We’ve really wasted an incredible amount of talent-hours over last couple decades. Imagine if we’d worked on, like, climate change or something instead of ad platforms.</div><br/><div id="39555944" class="c"><input type="checkbox" id="c-39555944" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555867">parent</a><span>|</span><a href="#39556820">next</a><span>|</span><label class="collapse" for="c-39555944">[-]</label><label class="expand" for="c-39555944">[1 more]</label></div><br/><div class="children"><div class="content">&quot;The best minds of my generation are thinking about how to make people click ads. That sucks.&quot; - Jeff Hammerbacher (2011); early Facebook employee, and Cloudera cofounder.<p><a href="https:&#x2F;&#x2F;www.theatlantic.com&#x2F;technology&#x2F;archive&#x2F;2011&#x2F;04&#x2F;quote-ad-generation&#x2F;349689&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.theatlantic.com&#x2F;technology&#x2F;archive&#x2F;2011&#x2F;04&#x2F;quote...</a></div><br/></div></div><div id="39556820" class="c"><input type="checkbox" id="c-39556820" checked=""/><div class="controls bullet"><span class="by">akira2501</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555867">parent</a><span>|</span><a href="#39555944">prev</a><span>|</span><a href="#39556013">next</a><span>|</span><label class="collapse" for="c-39556820">[-]</label><label class="expand" for="c-39556820">[3 more]</label></div><br/><div class="children"><div class="content">The waste of talent hours is directly connected to climate change.  The waste of network bandwidth is as well as the waste of compute cycles to run these &quot;social&quot;  platforms.<p>That all being said,  as humans have free will,  imagining what we &quot;could have done&quot; if we just _forced_ everyone to do something different is flirting with fascism.</div><br/><div id="39557139" class="c"><input type="checkbox" id="c-39557139" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556820">parent</a><span>|</span><a href="#39557278">next</a><span>|</span><label class="collapse" for="c-39557139">[-]</label><label class="expand" for="c-39557139">[1 more]</label></div><br/><div class="children"><div class="content">Sure, I wouldn’t suggest forcing everyone to work on something else. We all could have been better, and the government could have tried to incentivize more productive work (they already provide incentives on way or another after all).</div><br/></div></div><div id="39557278" class="c"><input type="checkbox" id="c-39557278" checked=""/><div class="controls bullet"><span class="by">spencerflem</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556820">parent</a><span>|</span><a href="#39557139">prev</a><span>|</span><a href="#39556013">next</a><span>|</span><label class="collapse" for="c-39557278">[-]</label><label class="expand" for="c-39557278">[1 more]</label></div><br/><div class="children"><div class="content">I think most devs also would rather work on something good too, but those jobs are rare and pay worse. That&#x27;s the part that needs fixing</div><br/></div></div></div></div><div id="39556013" class="c"><input type="checkbox" id="c-39556013" checked=""/><div class="controls bullet"><span class="by">baby</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555867">parent</a><span>|</span><a href="#39556820">prev</a><span>|</span><a href="#39557147">next</a><span>|</span><label class="collapse" for="c-39556013">[-]</label><label class="expand" for="c-39556013">[6 more]</label></div><br/><div class="children"><div class="content">You make it sound like everybody at Meta works in the ads department.</div><br/><div id="39556361" class="c"><input type="checkbox" id="c-39556361" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556013">parent</a><span>|</span><a href="#39557096">next</a><span>|</span><label class="collapse" for="c-39556361">[-]</label><label class="expand" for="c-39556361">[1 more]</label></div><br/><div class="children"><div class="content">It is an ad company, everyone there works on ads or indirectly works on making a platform for ads.<p>The only exception is people who’ve managed to sneak their way into positions where they don’t contribute anything to the company. Those people are doing society a favor by wasting Facebook’s money.</div><br/></div></div><div id="39557096" class="c"><input type="checkbox" id="c-39557096" checked=""/><div class="controls bullet"><span class="by">bagels</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556013">parent</a><span>|</span><a href="#39556361">prev</a><span>|</span><a href="#39556225">next</a><span>|</span><label class="collapse" for="c-39557096">[-]</label><label class="expand" for="c-39557096">[1 more]</label></div><br/><div class="children"><div class="content">Well, a lot of them do work directly on ads. Obviously not everybody, but a significant fraction. And most of the rest are just building things (products, features) to be able to show more ads.</div><br/></div></div><div id="39556225" class="c"><input type="checkbox" id="c-39556225" checked=""/><div class="controls bullet"><span class="by">jojobas</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556013">parent</a><span>|</span><a href="#39557096">prev</a><span>|</span><a href="#39557209">next</a><span>|</span><label class="collapse" for="c-39556225">[-]</label><label class="expand" for="c-39556225">[1 more]</label></div><br/><div class="children"><div class="content">98% of Meta&#x27;s revenue is from ads. Meta is an ads department.</div><br/></div></div><div id="39557209" class="c"><input type="checkbox" id="c-39557209" checked=""/><div class="controls bullet"><span class="by">goatking</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556013">parent</a><span>|</span><a href="#39556225">prev</a><span>|</span><a href="#39556103">next</a><span>|</span><label class="collapse" for="c-39557209">[-]</label><label class="expand" for="c-39557209">[1 more]</label></div><br/><div class="children"><div class="content">found the meta employee</div><br/></div></div><div id="39556103" class="c"><input type="checkbox" id="c-39556103" checked=""/><div class="controls bullet"><span class="by">Scubabear68</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556013">parent</a><span>|</span><a href="#39557209">prev</a><span>|</span><a href="#39557147">next</a><span>|</span><label class="collapse" for="c-39556103">[-]</label><label class="expand" for="c-39556103">[1 more]</label></div><br/><div class="children"><div class="content">They all do.</div><br/></div></div></div></div></div></div></div></div><div id="39557147" class="c"><input type="checkbox" id="c-39557147" checked=""/><div class="controls bullet"><span class="by">scottlamb</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555383">prev</a><span>|</span><a href="#39557691">next</a><span>|</span><label class="collapse" for="c-39557147">[-]</label><label class="expand" for="c-39557147">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Am I reading the second figure right? Facebook can do 130*10^6 queries&#x2F;second == ‭130,000,000‬ queries&#x2F;second?!<p>That sounds totally plausible to me.<p>Also keep in mind they didn&#x27;t say what system this is. It&#x27;s often true that 1 request to a frontend system becomes 1 each to 10 different backend services owned by different teams and then 20+ total to some database&#x2F;storage layer many of them depend on. The qps at the bottom of the stack is in general a lot higher than the qps at the top, though with caching and static file requests and such this isn&#x27;t a universal truth.</div><br/></div></div><div id="39557691" class="c"><input type="checkbox" id="c-39557691" checked=""/><div class="controls bullet"><span class="by">avery17</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39557147">prev</a><span>|</span><a href="#39555337">next</a><span>|</span><label class="collapse" for="c-39557691">[-]</label><label class="expand" for="c-39557691">[1 more]</label></div><br/><div class="children"><div class="content">Whats with people lately writing 10^6 instead of 1 million. Its not that big that we need exponents to get involved.</div><br/></div></div><div id="39555337" class="c"><input type="checkbox" id="c-39555337" checked=""/><div class="controls bullet"><span class="by">gaogao</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39557691">prev</a><span>|</span><a href="#39555327">next</a><span>|</span><label class="collapse" for="c-39555337">[-]</label><label class="expand" for="c-39555337">[2 more]</label></div><br/><div class="children"><div class="content">Those queries are probably mostly memcache hits, though of course with distributed cache invalidation and consistency fun</div><br/><div id="39555847" class="c"><input type="checkbox" id="c-39555847" checked=""/><div class="controls bullet"><span class="by">ipaddr</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555337">parent</a><span>|</span><a href="#39555327">next</a><span>|</span><label class="collapse" for="c-39555847">[-]</label><label class="expand" for="c-39555847">[1 more]</label></div><br/><div class="children"><div class="content">If it doesn&#x27;t hit the database is it really a query?</div><br/></div></div></div></div><div id="39555327" class="c"><input type="checkbox" id="c-39555327" checked=""/><div class="controls bullet"><span class="by">storyinmemo</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555337">prev</a><span>|</span><a href="#39556953">next</a><span>|</span><label class="collapse" for="c-39555327">[-]</label><label class="expand" for="c-39555327">[2 more]</label></div><br/><div class="children"><div class="content">I think about 10 years ago when I was working there I checked the trace to load my own homepage. Just one page, just for myself, and there were 100,000 data fetches.</div><br/><div id="39559454" class="c"><input type="checkbox" id="c-39559454" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555327">parent</a><span>|</span><a href="#39556953">next</a><span>|</span><label class="collapse" for="c-39559454">[-]</label><label class="expand" for="c-39559454">[1 more]</label></div><br/><div class="children"><div class="content">By &quot;homepage&quot; you mean your Facebook profile?</div><br/></div></div></div></div><div id="39556953" class="c"><input type="checkbox" id="c-39556953" checked=""/><div class="controls bullet"><span class="by">bdd</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555327">prev</a><span>|</span><a href="#39555207">next</a><span>|</span><label class="collapse" for="c-39556953">[-]</label><label class="expand" for="c-39556953">[1 more]</label></div><br/><div class="children"><div class="content">Yes. And that was 4 years ago.
Must add that figure does NOT include static asset serving path.</div><br/></div></div><div id="39555207" class="c"><input type="checkbox" id="c-39555207" checked=""/><div class="controls bullet"><span class="by">sebzim4500</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39556953">prev</a><span>|</span><a href="#39555211">next</a><span>|</span><label class="collapse" for="c-39555207">[-]</label><label class="expand" for="c-39555207">[10 more]</label></div><br/><div class="children"><div class="content">Sounds plausible. There are probably many queries required to display a page and Facebook has 2 billion daily active users.</div><br/><div id="39555838" class="c"><input type="checkbox" id="c-39555838" checked=""/><div class="controls bullet"><span class="by">ipaddr</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555207">parent</a><span>|</span><a href="#39555211">next</a><span>|</span><label class="collapse" for="c-39555838">[-]</label><label class="expand" for="c-39555838">[9 more]</label></div><br/><div class="children"><div class="content">This is how information slowly changes.  The original numbers from facebook needed to be taken with a grain of salt.  2 billion a day raises it more.<p>Facebook claims to have 2 billion accounts but no where near 2 billion unique accounts.  I don&#x27;t know what facebook calls an active user but it use to mean logged in once in the past 30 days.</div><br/><div id="39556148" class="c"><input type="checkbox" id="c-39556148" checked=""/><div class="controls bullet"><span class="by">reissbaker</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555838">parent</a><span>|</span><a href="#39556713">next</a><span>|</span><label class="collapse" for="c-39556148">[-]</label><label class="expand" for="c-39556148">[7 more]</label></div><br/><div class="children"><div class="content">No, the person you&#x27;re responding to was correct. Facebook has over 2 billion daily active users [1], and DAU refers to unique users who used the product in a day [2].<p>1: <a href="https:&#x2F;&#x2F;www.statista.com&#x2F;statistics&#x2F;346167&#x2F;facebook-global-dau&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.statista.com&#x2F;statistics&#x2F;346167&#x2F;facebook-global-d...</a><p>2: <a href="https:&#x2F;&#x2F;www.innertrends.com&#x2F;blog&#x2F;active-users-measuring-business-success-with-dau-wau-and-mau" rel="nofollow">https:&#x2F;&#x2F;www.innertrends.com&#x2F;blog&#x2F;active-users-measuring-busi...</a></div><br/><div id="39556500" class="c"><input type="checkbox" id="c-39556500" checked=""/><div class="controls bullet"><span class="by">ipaddr</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556148">parent</a><span>|</span><a href="#39559664">next</a><span>|</span><label class="collapse" for="c-39556500">[-]</label><label class="expand" for="c-39556500">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s directly in the link you provided.<p>&quot;For example, an active user can be measured as a user that has logged back into her account to interact with the product in the last 30 days.&quot;<p>Even the marketing material is designed to confuse.</div><br/><div id="39556717" class="c"><input type="checkbox" id="c-39556717" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556500">parent</a><span>|</span><a href="#39556523">next</a><span>|</span><label class="collapse" for="c-39556717">[-]</label><label class="expand" for="c-39556717">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a monthly active user. A daily active user would be someone who logged into an account in the last day. Generally monthly active user count will be higher than daily active users, but for something like Facebook the difference is about 50% (which is what the second article linked is explaining, if you read more than just cherry-picking a line that matches your preconceptions)<p>And yes, that&#x27;s a claim that if each user is a separate person, &gt;20% of the world&#x27;s population interacts with Facebook at least minimally each day. You can add your own interpretation about how many of the accounts are bots or otherwise duplicates, but it&#x27;s a staggering amount either way.</div><br/></div></div><div id="39556523" class="c"><input type="checkbox" id="c-39556523" checked=""/><div class="controls bullet"><span class="by">ipaddr</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556500">parent</a><span>|</span><a href="#39556717">prev</a><span>|</span><a href="#39559664">next</a><span>|</span><label class="collapse" for="c-39556523">[-]</label><label class="expand" for="c-39556523">[3 more]</label></div><br/><div class="children"><div class="content">It should be their account not her account (or his).  Who writes this garbage.</div><br/><div id="39557409" class="c"><input type="checkbox" id="c-39557409" checked=""/><div class="controls bullet"><span class="by">OrsonSmelles</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556523">parent</a><span>|</span><a href="#39559664">next</a><span>|</span><label class="collapse" for="c-39557409">[-]</label><label class="expand" for="c-39557409">[2 more]</label></div><br/><div class="children"><div class="content">Alternating or stochastically varying pronouns in your examples used to be a common way to make an effort at inclusive writing, usually preferred aesthetically to constructs like `his&#x2F;her&#x27;. (The style before <i>that</i> was basically to use masculine pronouns for hypothetical people in every single case and deny that there was anything to question about that.) I think I agree that the modern semi-standard of using `they&#x27; for examples where gender is irrelevant or unknown is strictly better, but it&#x27;s hard for me to summon a lot of contempt for someone who goes with a different&#x2F;older habit.</div><br/></div></div></div></div></div></div><div id="39559664" class="c"><input type="checkbox" id="c-39559664" checked=""/><div class="controls bullet"><span class="by">zilti</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39556148">parent</a><span>|</span><a href="#39556500">prev</a><span>|</span><a href="#39556713">next</a><span>|</span><label class="collapse" for="c-39559664">[-]</label><label class="expand" for="c-39559664">[1 more]</label></div><br/><div class="children"><div class="content">Heh. Gave me a chuckle, because DAU also means &quot;Dümmster Anzunehmender User&quot; in German (dumbest assumed user, in context of creating idiot-proof software, and a wordplay on GAU, which means grösster anzunehmender Unfall, biggest assumed accident, which comes from fission power plants). And that kinda fits for the kind of people that perceivedly are left on the likes of Facebook and X.</div><br/></div></div></div></div><div id="39556713" class="c"><input type="checkbox" id="c-39556713" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#39555125">root</a><span>|</span><a href="#39555838">parent</a><span>|</span><a href="#39556148">prev</a><span>|</span><a href="#39555211">next</a><span>|</span><label class="collapse" for="c-39556713">[-]</label><label class="expand" for="c-39556713">[1 more]</label></div><br/><div class="children"><div class="content">Different metrics Daily vs Monthly Active User. MAU vs DAU</div><br/></div></div></div></div></div></div><div id="39555211" class="c"><input type="checkbox" id="c-39555211" checked=""/><div class="controls bullet"><span class="by">IncreasePosts</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555207">prev</a><span>|</span><a href="#39555651">next</a><span>|</span><label class="collapse" for="c-39555211">[-]</label><label class="expand" for="c-39555211">[1 more]</label></div><br/><div class="children"><div class="content">I forgot how to count that low.</div><br/></div></div><div id="39555651" class="c"><input type="checkbox" id="c-39555651" checked=""/><div class="controls bullet"><span class="by">reissbaker</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555211">prev</a><span>|</span><a href="#39557493">next</a><span>|</span><label class="collapse" for="c-39555651">[-]</label><label class="expand" for="c-39555651">[1 more]</label></div><br/><div class="children"><div class="content">A custom JIT + language + web framework + DB + queues + orchestrator + hardware built to your precise specifications + DCs all over the world go a long way ;)</div><br/></div></div><div id="39557493" class="c"><input type="checkbox" id="c-39557493" checked=""/><div class="controls bullet"><span class="by">Thaxll</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555651">prev</a><span>|</span><a href="#39555668">next</a><span>|</span><label class="collapse" for="c-39557493">[-]</label><label class="expand" for="c-39557493">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;re close to 1 million servers, not 12 racks in a DC.</div><br/></div></div><div id="39555668" class="c"><input type="checkbox" id="c-39555668" checked=""/><div class="controls bullet"><span class="by">AlienRobot</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39557493">prev</a><span>|</span><a href="#39555251">next</a><span>|</span><label class="collapse" for="c-39555668">[-]</label><label class="expand" for="c-39555668">[1 more]</label></div><br/><div class="children"><div class="content">iirc Facebook has 3 billion users, so that sounds plausible.</div><br/></div></div><div id="39555251" class="c"><input type="checkbox" id="c-39555251" checked=""/><div class="controls bullet"><span class="by">sonicanatidae</span><span>|</span><a href="#39555125">parent</a><span>|</span><a href="#39555668">prev</a><span>|</span><a href="#39556050">next</a><span>|</span><label class="collapse" for="c-39555251">[-]</label><label class="expand" for="c-39555251">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, they allocated ALL of the ram to their DB servers.  lol</div><br/></div></div></div></div><div id="39556050" class="c"><input type="checkbox" id="c-39556050" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#39555125">prev</a><span>|</span><a href="#39555906">next</a><span>|</span><label class="collapse" for="c-39556050">[-]</label><label class="expand" for="c-39556050">[1 more]</label></div><br/><div class="children"><div class="content">Discussed (a tiny bit) at the time:<p><i>Defcon: Preventing Overload with Graceful Feature Degradation</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36923049">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36923049</a> - July 2023 (1 comment)</div><br/></div></div><div id="39555906" class="c"><input type="checkbox" id="c-39555906" checked=""/><div class="controls bullet"><span class="by">mrb</span><span>|</span><a href="#39556050">prev</a><span>|</span><a href="#39557292">next</a><span>|</span><label class="collapse" for="c-39555906">[-]</label><label class="expand" for="c-39555906">[1 more]</label></div><br/><div class="children"><div class="content">Off-topic but: I love the font on the website. At first I thought it was the classic Computer Modern font (used in LateX). But nope. Upon inspection of the stylesheet, it&#x27;s <a href="https:&#x2F;&#x2F;edwardtufte.github.io&#x2F;et-book&#x2F;" rel="nofollow">https:&#x2F;&#x2F;edwardtufte.github.io&#x2F;et-book&#x2F;</a> which was a font designed by Dmitry Krasny, Bonnie Scranton, and Edward Tufte. The font was originally designed for his book Beautiful Evidence. But people showed interest in font, see the bulletin board on ET&#x27;s website: <a href="https:&#x2F;&#x2F;www.edwardtufte.com&#x2F;bboard&#x2F;q-and-a-fetch-msg?msg_id=0000bm&amp;topic_id=1&amp;topic=Ask%20E%2eT%2e" rel="nofollow">https:&#x2F;&#x2F;www.edwardtufte.com&#x2F;bboard&#x2F;q-and-a-fetch-msg?msg_id=...</a> Initially he was reluctant to go the trouble of releasing it digitally. But eventually he did make it available on GitHub.</div><br/></div></div><div id="39557292" class="c"><input type="checkbox" id="c-39557292" checked=""/><div class="controls bullet"><span class="by">gillh</span><span>|</span><a href="#39555906">prev</a><span>|</span><a href="#39556443">next</a><span>|</span><label class="collapse" for="c-39557292">[-]</label><label class="expand" for="c-39557292">[1 more]</label></div><br/><div class="children"><div class="content">Anyone interested in load shedding and graceful degradation with request prioritization should check out the Aperture OSS project.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;fluxninja&#x2F;aperture">https:&#x2F;&#x2F;github.com&#x2F;fluxninja&#x2F;aperture</a></div><br/></div></div><div id="39556443" class="c"><input type="checkbox" id="c-39556443" checked=""/><div class="controls bullet"><span class="by">mikerg87</span><span>|</span><a href="#39557292">prev</a><span>|</span><a href="#39556498">next</a><span>|</span><label class="collapse" for="c-39556443">[-]</label><label class="expand" for="c-39556443">[4 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this referred to as Load Shedding in some circles? If its not, can someone explain how its different?</div><br/><div id="39557184" class="c"><input type="checkbox" id="c-39557184" checked=""/><div class="controls bullet"><span class="by">scottlamb</span><span>|</span><a href="#39556443">parent</a><span>|</span><a href="#39558736">next</a><span>|</span><label class="collapse" for="c-39557184">[-]</label><label class="expand" for="c-39557184">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;re the same thing or close to it. &quot;Load shedding&quot; might be a bit more general. A couple possible nuances:<p>* Perhaps &quot;graceful feature degradation&quot; as a choice of words is a way of noting there&#x27;s immediate user impact (but less than ungracefully running out of capacity). &quot;Load shedding&quot; could also mean something less impactful, for example some cron job that updates some internal dashboard skipping a run.<p>* &quot;feature degradation&quot; might focus on how this works at the granularity of features, where load shedding might mean something like dropping request hedges &#x2F; retries, or individual servers saying they&#x27;re overloaded and the request should go elsewhere.</div><br/></div></div><div id="39558736" class="c"><input type="checkbox" id="c-39558736" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#39556443">parent</a><span>|</span><a href="#39557184">prev</a><span>|</span><a href="#39557220">next</a><span>|</span><label class="collapse" for="c-39558736">[-]</label><label class="expand" for="c-39558736">[1 more]</label></div><br/><div class="children"><div class="content">This is the other side of the load shedding coin.<p>The situation is that A depends on B, but B is overloaded; if we allow B to do load shedding, we must also write A to gracefully degrade when B is not available.</div><br/></div></div></div></div><div id="39556498" class="c"><input type="checkbox" id="c-39556498" checked=""/><div class="controls bullet"><span class="by">jedberg</span><span>|</span><a href="#39556443">prev</a><span>|</span><a href="#39555526">next</a><span>|</span><label class="collapse" for="c-39556498">[-]</label><label class="expand" for="c-39556498">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m surprised they don&#x27;t have automated degradation (or at least the article implies that it must be operator initiated).<p>We built a similar tool at Netflix but the degradations could be both manual and automatic.</div><br/><div id="39558938" class="c"><input type="checkbox" id="c-39558938" checked=""/><div class="controls bullet"><span class="by">packetslave</span><span>|</span><a href="#39556498">parent</a><span>|</span><a href="#39555526">next</a><span>|</span><label class="collapse" for="c-39558938">[-]</label><label class="expand" for="c-39558938">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s definitely automated degradation at smaller scale (&quot;if $random_feature&#x27;s backend times out, don&#x27;t show it&quot;, etc.).<p>The manual part of Defcon is more &quot;holy crap, we lost a datacenter and the whole site is melting, turn stuff off to bring the load down ASAP&quot;</div><br/></div></div></div></div><div id="39555526" class="c"><input type="checkbox" id="c-39555526" checked=""/><div class="controls bullet"><span class="by">velcrovan</span><span>|</span><a href="#39556498">prev</a><span>|</span><a href="#39555674">next</a><span>|</span><label class="collapse" for="c-39555526">[-]</label><label class="expand" for="c-39555526">[9 more]</label></div><br/><div class="children"><div class="content">Seems like whenever I log into FB lately it&#x27;s pretty much always in a state of “graceful feature degradation”.<p>For example, as soon as I log in I see a bell icon in the upper right with a bright red circle containing an exact positive integer number of notifications. It practically screams “click here, you have urgent business”.<p>I can then leave the web page sitting there for any number of minutes, and no matter how long I wait, if I click on that notification icon it will take a good 20 seconds to load the list of new notifications. (This is on gigabit fiber in a major metro area, so not a plumbing issue.)</div><br/><div id="39556150" class="c"><input type="checkbox" id="c-39556150" checked=""/><div class="controls bullet"><span class="by">guessmyname</span><span>|</span><a href="#39555526">parent</a><span>|</span><a href="#39555669">next</a><span>|</span><label class="collapse" for="c-39556150">[-]</label><label class="expand" for="c-39556150">[2 more]</label></div><br/><div class="children"><div class="content">Have you tried navigating the website using a web proxy (Charles, Burp Suite, or similar tool) to intercept the HTTP request(s) in order to replay them yourself multiple times to see if the latency is consistent? It’d be interesting to discover that the delay is fabricated using the front-end code or if the back-end server is really the problem. I don’t use Facebook but I asked a friend just now and the response time for the notifications panel to appear is between 500ms-2000ms, which is relatively fast for web interactions.</div><br/></div></div><div id="39555669" class="c"><input type="checkbox" id="c-39555669" checked=""/><div class="controls bullet"><span class="by">philippta</span><span>|</span><a href="#39555526">parent</a><span>|</span><a href="#39556150">prev</a><span>|</span><a href="#39555956">next</a><span>|</span><label class="collapse" for="c-39555669">[-]</label><label class="expand" for="c-39555669">[2 more]</label></div><br/><div class="children"><div class="content">Without being able to verify, I would assume it’s designed to behave in this way. The longer you wait the more anticipation builds up, the more gratifying it becomes.</div><br/><div id="39556035" class="c"><input type="checkbox" id="c-39556035" checked=""/><div class="controls bullet"><span class="by">meowface</span><span>|</span><a href="#39555526">root</a><span>|</span><a href="#39555669">parent</a><span>|</span><a href="#39555956">next</a><span>|</span><label class="collapse" for="c-39556035">[-]</label><label class="expand" for="c-39556035">[1 more]</label></div><br/><div class="children"><div class="content">I think there&#x27;s no chance they intentionally want users to wait 20 seconds to see their latest notifications.</div><br/></div></div></div></div><div id="39555956" class="c"><input type="checkbox" id="c-39555956" checked=""/><div class="controls bullet"><span class="by">Arainach</span><span>|</span><a href="#39555526">parent</a><span>|</span><a href="#39555669">prev</a><span>|</span><a href="#39556660">next</a><span>|</span><label class="collapse" for="c-39555956">[-]</label><label class="expand" for="c-39555956">[1 more]</label></div><br/><div class="children"><div class="content">The initial render of Facebook&#x27;s UI slows dramatically (I suspect but cannot prove intentionally) if you have adblockers&#x2F;uBlock Origin&#x2F;etc.</div><br/></div></div><div id="39556660" class="c"><input type="checkbox" id="c-39556660" checked=""/><div class="controls bullet"><span class="by">paganel</span><span>|</span><a href="#39555526">parent</a><span>|</span><a href="#39555956">prev</a><span>|</span><a href="#39556436">next</a><span>|</span><label class="collapse" for="c-39556660">[-]</label><label class="expand" for="c-39556660">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  it will take a good 20 seconds to load the list of new notifications.<p>Same thing here. Thought it was my (relatively much) slower Internet connection, or maybe that I had something &quot;wrong&quot; (what exactly that might have been, I don&#x27;t know).</div><br/></div></div><div id="39556436" class="c"><input type="checkbox" id="c-39556436" checked=""/><div class="controls bullet"><span class="by">iraqmtpizza</span><span>|</span><a href="#39555526">parent</a><span>|</span><a href="#39556660">prev</a><span>|</span><a href="#39556889">next</a><span>|</span><label class="collapse" for="c-39556436">[-]</label><label class="expand" for="c-39556436">[1 more]</label></div><br/><div class="children"><div class="content">at least once youtube slowed to a crawl until I cleared the cookie</div><br/></div></div></div></div><div id="39555674" class="c"><input type="checkbox" id="c-39555674" checked=""/><div class="controls bullet"><span class="by">OtherShrezzing</span><span>|</span><a href="#39555526">prev</a><span>|</span><a href="#39555960">next</a><span>|</span><label class="collapse" for="c-39555674">[-]</label><label class="expand" for="c-39555674">[5 more]</label></div><br/><div class="children"><div class="content">&gt; if (disableCommentsRanking.enabled == False)<p>This could use some light-touch code reviewing</div><br/><div id="39558749" class="c"><input type="checkbox" id="c-39558749" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#39555674">parent</a><span>|</span><a href="#39557172">next</a><span>|</span><label class="collapse" for="c-39558749">[-]</label><label class="expand" for="c-39558749">[2 more]</label></div><br/><div class="children"><div class="content">Because the HN crowd likes learning new things: if `enabled` is a nullable boolean in C# (i.e. has type `bool?`) then this check must indeed be written this way, to avoid confusing null with false.</div><br/><div id="39559581" class="c"><input type="checkbox" id="c-39559581" checked=""/><div class="controls bullet"><span class="by">jpnc</span><span>|</span><a href="#39555674">root</a><span>|</span><a href="#39558749">parent</a><span>|</span><a href="#39557172">next</a><span>|</span><label class="collapse" for="c-39559581">[-]</label><label class="expand" for="c-39559581">[1 more]</label></div><br/><div class="children"><div class="content">I thought OP meant to imply that the readability could use some tweaking. You have &#x27;disable&#x27;, &#x27;enabled&#x27; and &#x27;False&#x27; used in the same expression so it requires some (more) thinking while reading it and trying to decipher what it&#x27;s trying to do.</div><br/></div></div></div></div><div id="39557172" class="c"><input type="checkbox" id="c-39557172" checked=""/><div class="controls bullet"><span class="by">dvhh</span><span>|</span><a href="#39555674">parent</a><span>|</span><a href="#39558749">prev</a><span>|</span><a href="#39556900">next</a><span>|</span><label class="collapse" for="c-39557172">[-]</label><label class="expand" for="c-39557172">[1 more]</label></div><br/><div class="children"><div class="content">Some could argue it would be for illustration purpose, and not actual production code</div><br/></div></div></div></div></div></div></div></div></div></body></html>