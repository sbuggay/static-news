<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1706778072749" as="style"/><link rel="stylesheet" href="styles.css?v=1706778072749"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/mkjt2/lockbox">Show HN: Lockbox: forward proxy for making third party API calls</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>jjak82</span> | <span>18 comments</span></div><br/><div><div id="39212397" class="c"><input type="checkbox" id="c-39212397" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#39212262">next</a><span>|</span><label class="collapse" for="c-39212397">[-]</label><label class="expand" for="c-39212397">[1 more]</label></div><br/><div class="children"><div class="content">Just watch out, there&#x27;s a whole class of vulnerabilities around tricking a more privileged piece of software into doing something on your behalf <a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;IAM&#x2F;latest&#x2F;UserGuide&#x2F;confused-deputy.html" rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;IAM&#x2F;latest&#x2F;UserGuide&#x2F;confused-de...</a><p>and that&#x27;s not even getting into the assorted awesome HTTP request smuggling and SSRF vulns when 3 or more http implementations rub up against one another</div><br/></div></div><div id="39212262" class="c"><input type="checkbox" id="c-39212262" checked=""/><div class="controls bullet"><span class="by">cypherpunks01</span><span>|</span><a href="#39212397">prev</a><span>|</span><a href="#39212220">next</a><span>|</span><label class="collapse" for="c-39212262">[-]</label><label class="expand" for="c-39212262">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve usually used nginx for this purpose, proxying requests to a 3rd party server but tacking on authorization headers, for example, keeping them secret from the client. This strategy&#x27;s always works great for me, but I guess it&#x27;s limited to fairly simple pass-through use cases.<p>This seems cool if there are more complex needs or configuration that can&#x27;t be done with simple proxying and nginx rules.</div><br/><div id="39213100" class="c"><input type="checkbox" id="c-39213100" checked=""/><div class="controls bullet"><span class="by">teitoklien</span><span>|</span><a href="#39212262">parent</a><span>|</span><a href="#39212806">next</a><span>|</span><label class="collapse" for="c-39213100">[-]</label><label class="expand" for="c-39213100">[1 more]</label></div><br/><div class="children"><div class="content">Nginx is quite extendable, there are tons of nginx plugins to help you add more customizations.<p>There is OpenResty, a version of nginx [0]. It allows you to  script all sorts of stuff with Lua inside nginx itself.<p>Tools like lockbox are not necessary, nginx, caddy, etc or heck even a normal 70 line python3 fastapi based script works just fine and should be more extendable than lockbox.<p>[0](<a href="https:&#x2F;&#x2F;openresty.org&#x2F;en&#x2F;" rel="nofollow">https:&#x2F;&#x2F;openresty.org&#x2F;en&#x2F;</a>)</div><br/></div></div></div></div><div id="39212220" class="c"><input type="checkbox" id="c-39212220" checked=""/><div class="controls bullet"><span class="by">ibizaman</span><span>|</span><a href="#39212262">prev</a><span>|</span><a href="#39213128">next</a><span>|</span><label class="collapse" for="c-39212220">[-]</label><label class="expand" for="c-39212220">[6 more]</label></div><br/><div class="children"><div class="content">I like the idea. It reminds me of the incredible issue with US banks where the most common way to setup 3rd party integrations with it is to give your username and password. Like, WTF?<p>It’s funny because as a passionate self-hoster, I consider as an advantage what you consider as a drawback.</div><br/><div id="39212388" class="c"><input type="checkbox" id="c-39212388" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#39212220">parent</a><span>|</span><a href="#39213128">next</a><span>|</span><label class="collapse" for="c-39212388">[-]</label><label class="expand" for="c-39212388">[5 more]</label></div><br/><div class="children"><div class="content">and, to add insult to injury, it&#x27;s my recollection that one must give those credentials <i>to Plaid</i>, not even entering them into your bank&#x27;s website like a sane oauth2 dance. I always ensure I go to my bank&#x27;s website and change my password afterward if I&#x27;m forced to use that MITM junk<p>I&#x27;m so jealous of PDS2 in the EU &lt;<a href="https:&#x2F;&#x2F;www.berlin-group.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.berlin-group.org&#x2F;</a>&gt; (although I guess it&#x27;s easy for me to be jealous since I don&#x27;t know if their banks actually implement the standards, but it&#x27;s still a bunch better than the situation here)</div><br/><div id="39213018" class="c"><input type="checkbox" id="c-39213018" checked=""/><div class="controls bullet"><span class="by">mndgs</span><span>|</span><a href="#39212220">root</a><span>|</span><a href="#39212388">parent</a><span>|</span><a href="#39213128">next</a><span>|</span><label class="collapse" for="c-39213018">[-]</label><label class="expand" for="c-39213018">[4 more]</label></div><br/><div class="children"><div class="content">They do, it&#x27;s a regulatory requirement. Anybody who exposes an IBAN account, must have open banking apis exposed as well. So, all 5k+ banks have it.</div><br/><div id="39213235" class="c"><input type="checkbox" id="c-39213235" checked=""/><div class="controls bullet"><span class="by">donalhunt</span><span>|</span><a href="#39212220">root</a><span>|</span><a href="#39213018">parent</a><span>|</span><a href="#39213609">next</a><span>|</span><label class="collapse" for="c-39213235">[-]</label><label class="expand" for="c-39213235">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s &quot;implementations&quot; that allows them to satisfy the requirement and then there are usable implementations. User experience is not great in some cases.</div><br/></div></div><div id="39213609" class="c"><input type="checkbox" id="c-39213609" checked=""/><div class="controls bullet"><span class="by">kreetx</span><span>|</span><a href="#39212220">root</a><span>|</span><a href="#39213018">parent</a><span>|</span><a href="#39213235">prev</a><span>|</span><a href="#39213045">next</a><span>|</span><label class="collapse" for="c-39213609">[-]</label><label class="expand" for="c-39213609">[1 more]</label></div><br/><div class="children"><div class="content">Do you know if the APIs are usable for regular people as well?</div><br/></div></div><div id="39213045" class="c"><input type="checkbox" id="c-39213045" checked=""/><div class="controls bullet"><span class="by">TOMDM</span><span>|</span><a href="#39212220">root</a><span>|</span><a href="#39213018">parent</a><span>|</span><a href="#39213609">prev</a><span>|</span><a href="#39213128">next</a><span>|</span><label class="collapse" for="c-39213045">[-]</label><label class="expand" for="c-39213045">[1 more]</label></div><br/><div class="children"><div class="content">US legislation with a 3-5 year mandatory adoption timeline would be incredible.</div><br/></div></div></div></div></div></div></div></div><div id="39213128" class="c"><input type="checkbox" id="c-39213128" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#39212220">prev</a><span>|</span><a href="#39212539">next</a><span>|</span><label class="collapse" for="c-39213128">[-]</label><label class="expand" for="c-39213128">[2 more]</label></div><br/><div class="children"><div class="content">This is super neat! I like the idea of better auditing of _what_ data gets sent over these integrations, not just what integrations are currently set up.<p>We do something similar with our tool (generative code thingy), where users can make API calls to various services (without credentials), and then we add the necessary auth tokens&#x2F;headers for their code to actually run.<p>I&#x27;d love to give folks better control over their own data&#x2F;credentials, Lockbox could be an interesting workaround without us having to build anything. Thanks and nice work!</div><br/><div id="39213194" class="c"><input type="checkbox" id="c-39213194" checked=""/><div class="controls bullet"><span class="by">jjak82</span><span>|</span><a href="#39213128">parent</a><span>|</span><a href="#39212539">next</a><span>|</span><label class="collapse" for="c-39213194">[-]</label><label class="expand" for="c-39213194">[1 more]</label></div><br/><div class="children"><div class="content">Great to hear this might be useful to you!</div><br/></div></div></div></div><div id="39212539" class="c"><input type="checkbox" id="c-39212539" checked=""/><div class="controls bullet"><span class="by">itissid</span><span>|</span><a href="#39213128">prev</a><span>|</span><a href="#39212339">next</a><span>|</span><label class="collapse" for="c-39212539">[-]</label><label class="expand" for="c-39212539">[1 more]</label></div><br/><div class="children"><div class="content">Maybe the most amazing and ultimate end-game here would be an API trust layer that can separate the <i>most</i> private data from 3p APIs.<p>- Location anonymization to fetch any resources like restaurants.<p>- Sensitive personal data encryption to verify credit info securely.<p>My guess is not all of the above could be easy&#x2F;possible, its a leaky abstraction to think of APIs that way. But the biggest bang for the buck could be for privacy in the most mundane of usecases.</div><br/></div></div><div id="39212339" class="c"><input type="checkbox" id="c-39212339" checked=""/><div class="controls bullet"><span class="by">captn3m0</span><span>|</span><a href="#39212539">prev</a><span>|</span><a href="#39212355">next</a><span>|</span><label class="collapse" for="c-39212339">[-]</label><label class="expand" for="c-39212339">[1 more]</label></div><br/><div class="children"><div class="content">Do IFTTT&#x2F;Zapier even allow switching the Host for such requests? For companies like Zapier, it makes sense to request complete access to Google Sheets, but it gets very problematic for least-privileges, and this is a reasonable solution. I&#x27;ve even considered building something similar in the past, but getting vendors to switch hosts is not always easy.</div><br/></div></div><div id="39212355" class="c"><input type="checkbox" id="c-39212355" checked=""/><div class="controls bullet"><span class="by">AdamJacobMuller</span><span>|</span><a href="#39212339">prev</a><span>|</span><a href="#39213319">next</a><span>|</span><label class="collapse" for="c-39212355">[-]</label><label class="expand" for="c-39212355">[2 more]</label></div><br/><div class="children"><div class="content">This is a cool API but I wonder if something like Zapier would support redirecting their slack integration via your onsite proxy.<p>&gt; You can restrict access to external APIs in a more fine grained manner<p>I&#x27;ve done this very successfully for many APIs before. I&#x27;ve found weird things among providers where using AWS (or GCP or Azure) gives you crazy fine-grained access controls (which are great after you spend two days figuring out how to use them well), but, some of the low cost competitors have core services that work just as well but their APIs are entirely binary (either you have full access, or none) but by adding a thin API layer above that you can enable all sorts of useful things. Provider doesn&#x27;t support R&#x2F;O API keys for terraform plans? Just run a proxy which enables that. Provider won&#x27;t allow you to give someone an API key which can only reboot VMs, but, not delete them? Just write a proxy which does.<p>Very powerful model if you adopt it well.</div><br/><div id="39212519" class="c"><input type="checkbox" id="c-39212519" checked=""/><div class="controls bullet"><span class="by">mikeknoop</span><span>|</span><a href="#39212355">parent</a><span>|</span><a href="#39213319">next</a><span>|</span><label class="collapse" for="c-39212519">[-]</label><label class="expand" for="c-39212519">[1 more]</label></div><br/><div class="children"><div class="content">(Zapier co-founder) Perhaps the least known feature of Zapier is that you can use the dev platform (<a href="https:&#x2F;&#x2F;zapier.com&#x2F;developer" rel="nofollow">https:&#x2F;&#x2F;zapier.com&#x2F;developer</a>) to make your own private apps for any API (including internal&#x2F;private services) and then sign requests with auth credentials. The dev platform even has a full WYSIWYG app builder! Then, anyone in your account can use the private app to make Zaps.<p>Relevant to OP, all platform auth creds are secured and not exposed after initial setup.<p>Separately, we just launched custom actions which allows anyone to extend existing public apps on Zapier with new endpoints (<a href="https:&#x2F;&#x2F;help.zapier.com&#x2F;hc&#x2F;en-us&#x2F;articles&#x2F;16277139110157-Create-a-Custom-Action" rel="nofollow">https:&#x2F;&#x2F;help.zapier.com&#x2F;hc&#x2F;en-us&#x2F;articles&#x2F;16277139110157-Cre...</a>)</div><br/></div></div></div></div><div id="39213319" class="c"><input type="checkbox" id="c-39213319" checked=""/><div class="controls bullet"><span class="by">baconhigh</span><span>|</span><a href="#39212355">prev</a><span>|</span><label class="collapse" for="c-39213319">[-]</label><label class="expand" for="c-39213319">[1 more]</label></div><br/><div class="children"><div class="content">This looks super interesting - gonna check it out.<p>Noho ora mai</div><br/></div></div></div></div></div></div></div></body></html>