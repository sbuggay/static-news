<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684918865747" as="style"/><link rel="stylesheet" href="styles.css?v=1684918865747"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://nginx.org/en/CHANGES">Nginx 1.25.0: experimental HTTP/3 support</a> <span class="domain">(<a href="http://nginx.org">nginx.org</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>228 comments</span></div><br/><div><div id="36049282" class="c"><input type="checkbox" id="c-36049282" checked=""/><div class="controls bullet"><span class="by">heipei</span><span>|</span><a href="#36049296">next</a><span>|</span><label class="collapse" for="c-36049282">[-]</label><label class="expand" for="c-36049282">[87 more]</label></div><br/><div class="children"><div class="content">I still love nginx, but it&#x27;s a damn shame they gate some really useful features behind their nginx plus license, namely service discovery via DNS SRV records, cache purge requests and request queueing for upstreams.</div><br/><div id="36050802" class="c"><input type="checkbox" id="c-36050802" checked=""/><div class="controls bullet"><span class="by">YetAnotherNick</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36051910">next</a><span>|</span><label class="collapse" for="c-36050802">[-]</label><label class="expand" for="c-36050802">[26 more]</label></div><br/><div class="children"><div class="content">I think they have perfectly selected features for plus. Service discovery, request queueing etc. are only required above a certain size of backend, and in this way almost 100% of the hobby sites are fine with open source version. And the hobby sites are getting reliability and security that could only comes with paid service for free.</div><br/><div id="36053738" class="c"><input type="checkbox" id="c-36053738" checked=""/><div class="controls bullet"><span class="by">ff317</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36050802">parent</a><span>|</span><a href="#36055113">next</a><span>|</span><label class="collapse" for="c-36053738">[-]</label><label class="expand" for="c-36053738">[11 more]</label></div><br/><div class="children"><div class="content">No personal offense intended, but I really &#x2F;hate&#x2F; this justification.  &quot;Open Source&quot; should not be equated with &quot;Hobby Projects&quot;.  It should be possible to run large-scale important things on pure open source.<p>My employer (Wikimedia, which is a non-profit) has been running all our server infra on pure open source for many years, for very principled reasons.  We even publish all of our internal infrastructure config in public git repos as well.  We&#x27;re an open-source-only shop that&#x27;s doing very non-hobby work.  We have thousands of servers, we run our own CDN on multiple continents, we have somewhere around a billion unique users per month, and our average global rate of inbound HTTP requests is around 135K&#x2F;second.<p>However, it keeps getting harder to stick to our open source principles every year as more projects shift towards open-core models with this kind of &quot;Anyone who needs feature X is surely a big corporation making billions who doesn&#x27;t mind running closed source software&quot; type of thinking.  It&#x27;s not just bad for us, it&#x27;s bad for the whole larger open source and Internet ecosystems if all the important bits for running at scale are locked up and hidden away in closed-source software.</div><br/><div id="36054832" class="c"><input type="checkbox" id="c-36054832" checked=""/><div class="controls bullet"><span class="by">radium3d</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053738">parent</a><span>|</span><a href="#36054439">next</a><span>|</span><label class="collapse" for="c-36054832">[-]</label><label class="expand" for="c-36054832">[1 more]</label></div><br/><div class="children"><div class="content">I wholeheartedly agree with you, and I am <i>so glad</i> that wikimedia is pushing to stay truly open source.<p>Accepting these &quot;sprinkles on top&quot; licenses is highly foolish. I do hope that the true free and open source licensed software prevails in the server space. As many as possible must continue to hold out and push forward with new better and better scalable fully open source software.</div><br/></div></div><div id="36054439" class="c"><input type="checkbox" id="c-36054439" checked=""/><div class="controls bullet"><span class="by">pkulak</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053738">parent</a><span>|</span><a href="#36054832">prev</a><span>|</span><a href="#36055165">next</a><span>|</span><label class="collapse" for="c-36054439">[-]</label><label class="expand" for="c-36054439">[2 more]</label></div><br/><div class="children"><div class="content">You are very much the exception that proves the rule. What other non-profit needs anything close to that kind of capacity?</div><br/><div id="36055264" class="c"><input type="checkbox" id="c-36055264" checked=""/><div class="controls bullet"><span class="by">stonogo</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36054439">parent</a><span>|</span><a href="#36055165">next</a><span>|</span><label class="collapse" for="c-36055264">[-]</label><label class="expand" for="c-36055264">[1 more]</label></div><br/><div class="children"><div class="content">The NFL was a non-profit from 1942 till 2015.</div><br/></div></div></div></div><div id="36055165" class="c"><input type="checkbox" id="c-36055165" checked=""/><div class="controls bullet"><span class="by">YetAnotherNick</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053738">parent</a><span>|</span><a href="#36054439">prev</a><span>|</span><a href="#36053989">next</a><span>|</span><label class="collapse" for="c-36055165">[-]</label><label class="expand" for="c-36055165">[1 more]</label></div><br/><div class="children"><div class="content">&gt; My employer (Wikimedia, which is a non-profit) has been running all our server infra on pure open source for many years, for very principled reasons<p>Curious how deep does it go? Do you only use firmware in server which has open source code. Do you require all drivers to be open source?<p>&gt; It should be possible to run large-scale important things on pure open source.<p>It is definitely possible. With enough developer time, you could create copy of any software. Every paid or open core software runs on the philosophy that it is cheaper to pay them rather than to build them.<p>Which brings to the core issue, developer time is not free or cheap. The fact is that software quality and reliability is dependent on the money that the software has means paid software quality in general should be higher. While wikimedia could get enough money through donation, no one donates to open source projects that could be counted in full time developer salary, likely not even wikipedia(correct me if wrong).</div><br/></div></div><div id="36053989" class="c"><input type="checkbox" id="c-36053989" checked=""/><div class="controls bullet"><span class="by">MrBuddyCasino</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053738">parent</a><span>|</span><a href="#36055165">prev</a><span>|</span><a href="#36054843">next</a><span>|</span><label class="collapse" for="c-36053989">[-]</label><label class="expand" for="c-36053989">[5 more]</label></div><br/><div class="children"><div class="content">This is a rather weird point to make, considering the way Wikipedia has handled the collection and usage of funds. Investing in its technical infrastructure would be a less controversial usage of their money than what they are doing currently.</div><br/><div id="36054543" class="c"><input type="checkbox" id="c-36054543" checked=""/><div class="controls bullet"><span class="by">onei</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053989">parent</a><span>|</span><a href="#36054355">next</a><span>|</span><label class="collapse" for="c-36054543">[-]</label><label class="expand" for="c-36054543">[2 more]</label></div><br/><div class="children"><div class="content">As a theoretical exercise, I&#x27;m not sure that&#x27;s strictly true. If you&#x27;re reliant on donations, then income is never guaranteed. If you suddenly fall short of targets, maybe you have to lay some staff off. But stopping your license fees means you then have to pay someone to switch to an alternative.<p>Avoiding recurring payments you can&#x27;t easily stop makes reasonable financial sense to me. Particularly for a business that doesn&#x27;t sell anything.</div><br/><div id="36055219" class="c"><input type="checkbox" id="c-36055219" checked=""/><div class="controls bullet"><span class="by">larsnystrom</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36054543">parent</a><span>|</span><a href="#36054355">next</a><span>|</span><label class="collapse" for="c-36055219">[-]</label><label class="expand" for="c-36055219">[1 more]</label></div><br/><div class="children"><div class="content">Let’s say you need a feature in nginx. You can either pay for an nginx plus license, or fork the oss nginx and develop the feature in-house.<p>Many people assume that developing it in-house is a one-time cost. However, in my experience, code is not an asset but a liability for which you will have to pay interest in the form of maintenance. More specifically, in this case there will most likely need to be adjustments made to the in-house extension as the oss nginx version it was built on top is being updated over the years.<p>My point here is that you should probably treat in-house code as a recurring cost, because in practice it usually is.<p>The question then becomes which recurring cost is higher: The license or the in-house maintenance?</div><br/></div></div></div></div><div id="36054355" class="c"><input type="checkbox" id="c-36054355" checked=""/><div class="controls bullet"><span class="by">amitport</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053989">parent</a><span>|</span><a href="#36054543">prev</a><span>|</span><a href="#36054843">next</a><span>|</span><label class="collapse" for="c-36054355">[-]</label><label class="expand" for="c-36054355">[2 more]</label></div><br/><div class="children"><div class="content">What are they currently doing?</div><br/><div id="36054532" class="c"><input type="checkbox" id="c-36054532" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36054355">parent</a><span>|</span><a href="#36054843">next</a><span>|</span><label class="collapse" for="c-36054532">[-]</label><label class="expand" for="c-36054532">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36029115" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36029115</a></div><br/></div></div></div></div></div></div><div id="36054843" class="c"><input type="checkbox" id="c-36054843" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053738">parent</a><span>|</span><a href="#36053989">prev</a><span>|</span><a href="#36055113">next</a><span>|</span><label class="collapse" for="c-36054843">[-]</label><label class="expand" for="c-36054843">[1 more]</label></div><br/><div class="children"><div class="content">AFAICT nginx has a true open-source edition, which anybody can fork. Was there enough interest in the community in developing SCH features in the open-source code base?</div><br/></div></div></div></div><div id="36055113" class="c"><input type="checkbox" id="c-36055113" checked=""/><div class="controls bullet"><span class="by">asmor</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36050802">parent</a><span>|</span><a href="#36053738">prev</a><span>|</span><a href="#36052036">next</a><span>|</span><label class="collapse" for="c-36055113">[-]</label><label class="expand" for="c-36055113">[1 more]</label></div><br/><div class="children"><div class="content">I like to overbuild my own things as a way to build a skillset, and I&#x27;ve basically only been doing that on software where only extremely specialized features are gated (e.g. Vault&#x27;s HSM service, can&#x27;t justify to afford one of those anyway).</div><br/></div></div></div></div><div id="36051910" class="c"><input type="checkbox" id="c-36051910" checked=""/><div class="controls bullet"><span class="by">fosk</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36050802">prev</a><span>|</span><a href="#36049334">next</a><span>|</span><label class="collapse" for="c-36051910">[-]</label><label class="expand" for="c-36051910">[1 more]</label></div><br/><div class="children"><div class="content">I am biased, but Kong Gateway has built SRV resolution in the OSS product, which runs on top of Nginx: <a href="https:&#x2F;&#x2F;docs.konghq.com&#x2F;gateway&#x2F;latest&#x2F;how-kong-works&#x2F;load-balancing&#x2F;#srv-records" rel="nofollow">https:&#x2F;&#x2F;docs.konghq.com&#x2F;gateway&#x2F;latest&#x2F;how-kong-works&#x2F;load-b...</a><p>It has been built by extending Nginx with an OpenResty-based DNS resolver instead. You could even extract it away from Kong itself and use it standalone.</div><br/></div></div><div id="36049334" class="c"><input type="checkbox" id="c-36049334" checked=""/><div class="controls bullet"><span class="by">heipei</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36051910">prev</a><span>|</span><a href="#36049332">next</a><span>|</span><label class="collapse" for="c-36049334">[-]</label><label class="expand" for="c-36049334">[28 more]</label></div><br/><div class="children"><div class="content">And, come to think of it, some additional great features would be automatic TLS certs via Let&#x27;s Encrypt and maybe even being able to use a shared cache with multiple instances of nginx.</div><br/><div id="36055524" class="c"><input type="checkbox" id="c-36055524" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049334">parent</a><span>|</span><a href="#36049809">next</a><span>|</span><label class="collapse" for="c-36055524">[-]</label><label class="expand" for="c-36055524">[1 more]</label></div><br/><div class="children"><div class="content">&gt; And, come to think of it, some additional great features would be automatic TLS certs via Let&#x27;s Encrypt and maybe even being able to use a shared cache with multiple instances of nginx.<p>Well, for what it&#x27;s worth, certbot is still pretty good: <a href="https:&#x2F;&#x2F;certbot.eff.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;certbot.eff.org&#x2F;</a><p>That said, with servers like Caddy supporting automatic TLS and even Apache httpd having built in support now with mod_md, Nginx feels more like an outlier for not supporting ACME out of the box: <a href="https:&#x2F;&#x2F;httpd.apache.org&#x2F;docs&#x2F;2.4&#x2F;mod&#x2F;mod_md.html" rel="nofollow">https:&#x2F;&#x2F;httpd.apache.org&#x2F;docs&#x2F;2.4&#x2F;mod&#x2F;mod_md.html</a><p>For my personal sites I actually use Apache because it&#x27;s pretty good and has lots of modules (including OpenID Connect support for Keycloak etc.), but Nginx has always been really easy to install and setup, especially for serving static files (e.g. built front end apps) or being a basic reverse proxy.<p>Here&#x27;s a bit more about how I use Apache: <a href="https:&#x2F;&#x2F;blog.kronis.dev&#x2F;tutorials&#x2F;how-and-why-to-use-apache-httpd-in-2022" rel="nofollow">https:&#x2F;&#x2F;blog.kronis.dev&#x2F;tutorials&#x2F;how-and-why-to-use-apache-...</a><p>And a little bit about some of the occasional warts of Nginx: <a href="https:&#x2F;&#x2F;blog.kronis.dev&#x2F;everything%20is%20broken&#x2F;nginx-configuration-is-broken" rel="nofollow">https:&#x2F;&#x2F;blog.kronis.dev&#x2F;everything%20is%20broken&#x2F;nginx-confi...</a> (though otherwise it&#x27;s fine)<p>That said using HTTP-01 instead of DNS-01 across multiple nodes with the same hostname is needlessly complex in most cases and DNS-01 doesn&#x27;t always have the best support in web servers (Apache in particular is just like: &quot;Yeah, we can run whatever script you want, but the contents and integrating with your DNS server is up to you&quot;).</div><br/></div></div><div id="36049809" class="c"><input type="checkbox" id="c-36049809" checked=""/><div class="controls bullet"><span class="by">dangerlibrary</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049334">parent</a><span>|</span><a href="#36055524">prev</a><span>|</span><a href="#36050045">next</a><span>|</span><label class="collapse" for="c-36049809">[-]</label><label class="expand" for="c-36049809">[17 more]</label></div><br/><div class="children"><div class="content">I put off adding TLS certs to my personal website for years. It&#x27;s just a few static files served by nginx on a server - there wasn&#x27;t a great reason to bother, I thought.<p>It took me almost exactly 3 minutes start to finish with letsencypt. Where &#x27;start&#x27; was &quot;I should stop putting that off&quot; and typing &quot;letsencrypt.com&quot; into a browser, and &#x27;finish&#x27; was  nginx serving up <a href="https:&#x2F;&#x2F;" rel="nofollow">https:&#x2F;&#x2F;</a> on all my domains. I&#x27;m genuinely curious what nginx could possibly do to improve the situation there.</div><br/><div id="36050367" class="c"><input type="checkbox" id="c-36050367" checked=""/><div class="controls bullet"><span class="by">guraf</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049809">parent</a><span>|</span><a href="#36051059">next</a><span>|</span><label class="collapse" for="c-36050367">[-]</label><label class="expand" for="c-36050367">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s true that setup is simple enough but what other servers like Caddy provide is automated renewals.<p>You don&#x27;t have to mess with having a .well-known always accessible on each domain, for example. Caddy does it for you and only when it&#x27;s needed.</div><br/></div></div><div id="36051059" class="c"><input type="checkbox" id="c-36051059" checked=""/><div class="controls bullet"><span class="by">adobrawy</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049809">parent</a><span>|</span><a href="#36050367">prev</a><span>|</span><a href="#36050728">next</a><span>|</span><label class="collapse" for="c-36051059">[-]</label><label class="expand" for="c-36051059">[6 more]</label></div><br/><div class="children"><div class="content">Caddy targets single instances. No coordination is required to avoid receiving receive multiple certificates for multiple instances for same domain.<p>Nginx has a profit from big business that would require coordination to avoid multiple certificates. For comparison, it is worth noting that to ensure such coordination, Traefik requires an Enterprise plan and a separate agent. Such a business also often has mechanisms for storing certificates, so they do not necessarily want to integrate it into Nginx.</div><br/><div id="36053113" class="c"><input type="checkbox" id="c-36053113" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051059">parent</a><span>|</span><a href="#36050728">next</a><span>|</span><label class="collapse" for="c-36053113">[-]</label><label class="expand" for="c-36053113">[5 more]</label></div><br/><div class="children"><div class="content">With Caddy, you can cluster easily by either sharing its filesystem data storage across machines, or configuring a different storage driver (redis, consul, db, etc.) and they will automatically coordinate for cert issuance. Caddy writes a lock file to the storage which prevents multiple instances from stepping on eachother&#x27;s toes.</div><br/><div id="36053509" class="c"><input type="checkbox" id="c-36053509" checked=""/><div class="controls bullet"><span class="by">bg24</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053113">parent</a><span>|</span><a href="#36050728">next</a><span>|</span><label class="collapse" for="c-36053509">[-]</label><label class="expand" for="c-36053509">[4 more]</label></div><br/><div class="children"><div class="content">I recently moved to Caddy. Out-of-the-box TLS, HTTP3, Dumbed-down simple configuration, static files... it has been a breath of fresh air.</div><br/><div id="36054880" class="c"><input type="checkbox" id="c-36054880" checked=""/><div class="controls bullet"><span class="by">rekoil</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053509">parent</a><span>|</span><a href="#36054885">next</a><span>|</span><label class="collapse" for="c-36054880">[-]</label><label class="expand" for="c-36054880">[2 more]</label></div><br/><div class="children"><div class="content">Caddy is amazing.<p>Still irritated that they ship it with an unprotected admin endpoint enabled by default on localhost:2019 that eats JSON and allows reconfiguration of the webserver like adding new sites that enable further attacks.<p>Put &quot;{ admin off }&quot; as a separate block in the root Caddyfile to disable it.</div><br/><div id="36055608" class="c"><input type="checkbox" id="c-36055608" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36054880">parent</a><span>|</span><a href="#36054885">next</a><span>|</span><label class="collapse" for="c-36055608">[-]</label><label class="expand" for="c-36055608">[1 more]</label></div><br/><div class="children"><div class="content">Our view is that localhost:2019 is inherently protected though - that only allows requests from the same machine. If you&#x27;re running the machine with shared users, then of course it&#x27;s up to you to further secure things.<p>That said, see <a href="https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy&#x2F;issues&#x2F;5317">https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy&#x2F;issues&#x2F;5317</a>, we are considering changing the default, but that would be a breaking change although it would likely be a transparent change for most users. The default that makes the most sense depends on the platform and installation method, which is why it&#x27;s complicated.</div><br/></div></div></div></div><div id="36054885" class="c"><input type="checkbox" id="c-36054885" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053509">parent</a><span>|</span><a href="#36054880">prev</a><span>|</span><a href="#36050728">next</a><span>|</span><label class="collapse" for="c-36054885">[-]</label><label class="expand" for="c-36054885">[1 more]</label></div><br/><div class="children"><div class="content">Also written in a memory-safeish language.</div><br/></div></div></div></div></div></div></div></div><div id="36050728" class="c"><input type="checkbox" id="c-36050728" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049809">parent</a><span>|</span><a href="#36051059">prev</a><span>|</span><a href="#36050361">next</a><span>|</span><label class="collapse" for="c-36050728">[-]</label><label class="expand" for="c-36050728">[1 more]</label></div><br/><div class="children"><div class="content">Caddy does it all automatically and you don’t have to remember to do things by hand.</div><br/></div></div><div id="36050361" class="c"><input type="checkbox" id="c-36050361" checked=""/><div class="controls bullet"><span class="by">fs111</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049809">parent</a><span>|</span><a href="#36050728">prev</a><span>|</span><a href="#36051472">next</a><span>|</span><label class="collapse" for="c-36050361">[-]</label><label class="expand" for="c-36050361">[1 more]</label></div><br/><div class="children"><div class="content">Check what caddy does. I think that is what op is after</div><br/></div></div><div id="36051472" class="c"><input type="checkbox" id="c-36051472" checked=""/><div class="controls bullet"><span class="by">Gordonjcp</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049809">parent</a><span>|</span><a href="#36050361">prev</a><span>|</span><a href="#36050141">next</a><span>|</span><label class="collapse" for="c-36051472">[-]</label><label class="expand" for="c-36051472">[6 more]</label></div><br/><div class="children"><div class="content">Lots of folk have mentioned Caddy, but I&#x27;d like to also mention Traefik which kind of does the same thing but I found it to be less of a pain in the arse.</div><br/><div id="36053757" class="c"><input type="checkbox" id="c-36053757" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051472">parent</a><span>|</span><a href="#36051569">next</a><span>|</span><label class="collapse" for="c-36053757">[-]</label><label class="expand" for="c-36053757">[1 more]</label></div><br/><div class="children"><div class="content">Could you elaborate? We&#x27;d like to improve where practical.</div><br/></div></div><div id="36051569" class="c"><input type="checkbox" id="c-36051569" checked=""/><div class="controls bullet"><span class="by">berkle4455</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051472">parent</a><span>|</span><a href="#36053757">prev</a><span>|</span><a href="#36050141">next</a><span>|</span><label class="collapse" for="c-36051569">[-]</label><label class="expand" for="c-36051569">[4 more]</label></div><br/><div class="children"><div class="content">Traefik has a very verbose config with non-sensible defaults; Caddy works out of the box with 1-3 lines to setup your domain and sensible defaults.<p>What&#x27;s the pain?</div><br/><div id="36053763" class="c"><input type="checkbox" id="c-36053763" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051569">parent</a><span>|</span><a href="#36055022">next</a><span>|</span><label class="collapse" for="c-36053763">[-]</label><label class="expand" for="c-36053763">[2 more]</label></div><br/><div class="children"><div class="content">Tarefik because it is better architectured, auto discovery of docker services , battle tested</div><br/><div id="36054893" class="c"><input type="checkbox" id="c-36054893" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36053763">parent</a><span>|</span><a href="#36055022">next</a><span>|</span><label class="collapse" for="c-36054893">[-]</label><label class="expand" for="c-36054893">[1 more]</label></div><br/><div class="children"><div class="content">Link for others curious about the discovery:<p><a href="https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;providers&#x2F;docker&#x2F;" rel="nofollow">https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;providers&#x2F;docker&#x2F;</a><p>(but preferring Caddy so far)</div><br/></div></div></div></div><div id="36055022" class="c"><input type="checkbox" id="c-36055022" checked=""/><div class="controls bullet"><span class="by">Gordonjcp</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051569">parent</a><span>|</span><a href="#36053763">prev</a><span>|</span><a href="#36050141">next</a><span>|</span><label class="collapse" for="c-36055022">[-]</label><label class="expand" for="c-36055022">[1 more]</label></div><br/><div class="children"><div class="content">It didn&#x27;t cope with services starting and stopping well, and couldn&#x27;t provision services from docker (at least when I looked at it).</div><br/></div></div></div></div></div></div></div></div><div id="36050045" class="c"><input type="checkbox" id="c-36050045" checked=""/><div class="controls bullet"><span class="by">madspindel</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049334">parent</a><span>|</span><a href="#36049809">prev</a><span>|</span><a href="#36051821">next</a><span>|</span><label class="collapse" for="c-36050045">[-]</label><label class="expand" for="c-36050045">[1 more]</label></div><br/><div class="children"><div class="content">Try Caddy. I was mind blown when I fired up a simple Caddyfile + Docker and got SSL out of the box.</div><br/></div></div><div id="36051821" class="c"><input type="checkbox" id="c-36051821" checked=""/><div class="controls bullet"><span class="by">ivlad</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049334">parent</a><span>|</span><a href="#36050045">prev</a><span>|</span><a href="#36051711">next</a><span>|</span><label class="collapse" for="c-36051821">[-]</label><label class="expand" for="c-36051821">[1 more]</label></div><br/><div class="children"><div class="content">You just want to get a free ride, and they want to feed their kids.</div><br/></div></div><div id="36051711" class="c"><input type="checkbox" id="c-36051711" checked=""/><div class="controls bullet"><span class="by">eyegor</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049334">parent</a><span>|</span><a href="#36051821">prev</a><span>|</span><a href="#36051073">next</a><span>|</span><label class="collapse" for="c-36051711">[-]</label><label class="expand" for="c-36051711">[5 more]</label></div><br/><div class="children"><div class="content">Certbot is practically a one liner in a cron job once you fill out the config.</div><br/><div id="36052851" class="c"><input type="checkbox" id="c-36052851" checked=""/><div class="controls bullet"><span class="by">muppetman</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051711">parent</a><span>|</span><a href="#36052307">next</a><span>|</span><label class="collapse" for="c-36052851">[-]</label><label class="expand" for="c-36052851">[2 more]</label></div><br/><div class="children"><div class="content">Does Certbot still pull in 40 odd dependancies? I wanted to use it but ugh, the amount of extra libraries it wanted to pull in. acme.sh does it all with a single bash script (plus a few supporting binaries, to be fair)</div><br/><div id="36053879" class="c"><input type="checkbox" id="c-36053879" checked=""/><div class="controls bullet"><span class="by">eyegor</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36052851">parent</a><span>|</span><a href="#36052307">next</a><span>|</span><label class="collapse" for="c-36053879">[-]</label><label class="expand" for="c-36053879">[1 more]</label></div><br/><div class="children"><div class="content">Not sure, I think I&#x27;ve only used the version they distribute on pip. Which can be a bit obnoxious if you have to build the python cryptography package for your target os&#x2F;platform but if you don&#x27;t it&#x27;s a fairly minor install.<p>There are quite a few other options besides certbot, I was just suggesting it as a &quot;install + one liner&quot; for adding auto renewing ssl certs to a server.<p><a href="https:&#x2F;&#x2F;letsencrypt.org&#x2F;docs&#x2F;client-options&#x2F;" rel="nofollow">https:&#x2F;&#x2F;letsencrypt.org&#x2F;docs&#x2F;client-options&#x2F;</a></div><br/></div></div></div></div><div id="36052307" class="c"><input type="checkbox" id="c-36052307" checked=""/><div class="controls bullet"><span class="by">throwaway2990</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051711">parent</a><span>|</span><a href="#36052851">prev</a><span>|</span><a href="#36051073">next</a><span>|</span><label class="collapse" for="c-36052307">[-]</label><label class="expand" for="c-36052307">[2 more]</label></div><br/><div class="children"><div class="content">Blocked by that stupid snap crap :(</div><br/><div id="36052421" class="c"><input type="checkbox" id="c-36052421" checked=""/><div class="controls bullet"><span class="by">Taywee</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36052307">parent</a><span>|</span><a href="#36051073">next</a><span>|</span><label class="collapse" for="c-36052421">[-]</label><label class="expand" for="c-36052421">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need snap. Follow the Pip instructions: <a href="https:&#x2F;&#x2F;certbot.eff.org&#x2F;instructions?ws=nginx&amp;os=pip" rel="nofollow">https:&#x2F;&#x2F;certbot.eff.org&#x2F;instructions?ws=nginx&amp;os=pip</a><p>Or docker: <a href="https:&#x2F;&#x2F;eff-certbot.readthedocs.io&#x2F;en&#x2F;stable&#x2F;install.html#running-with-docker" rel="nofollow">https:&#x2F;&#x2F;eff-certbot.readthedocs.io&#x2F;en&#x2F;stable&#x2F;install.html#ru...</a></div><br/></div></div></div></div></div></div><div id="36051073" class="c"><input type="checkbox" id="c-36051073" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049334">parent</a><span>|</span><a href="#36051711">prev</a><span>|</span><a href="#36049332">next</a><span>|</span><label class="collapse" for="c-36051073">[-]</label><label class="expand" for="c-36051073">[2 more]</label></div><br/><div class="children"><div class="content">LE is dead easy to integrate using Docker, the work related to integrating it into webservers themselves (IMO) isn&#x27;t worth it.</div><br/><div id="36053148" class="c"><input type="checkbox" id="c-36053148" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36051073">parent</a><span>|</span><a href="#36049332">next</a><span>|</span><label class="collapse" for="c-36053148">[-]</label><label class="expand" for="c-36053148">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s literally zero work with Caddy. I&#x27;m not sure I understand what you&#x27;re trying to say.<p>Also, there&#x27;s massive advantages to having TLS issuance built into the webserver, such as proper OCSP stapling, having an active process to trigger renewals as soon as a revocation happens (hearing about it via OCSP), solving the ACME TLS-ALPN challenge without extra steps, and unique features like On-Demand TLS that many SaaS companies are relying on to provide a custom domains feature to their customers. None of those things are possible unless it&#x27;s tightly integrated in the webserver.</div><br/></div></div></div></div></div></div><div id="36049332" class="c"><input type="checkbox" id="c-36049332" checked=""/><div class="controls bullet"><span class="by">markstos</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36049334">prev</a><span>|</span><a href="#36052408">next</a><span>|</span><label class="collapse" for="c-36049332">[-]</label><label class="expand" for="c-36049332">[11 more]</label></div><br/><div class="children"><div class="content">How would you rather the devs generate revenue?</div><br/><div id="36049358" class="c"><input type="checkbox" id="c-36049358" checked=""/><div class="controls bullet"><span class="by">heipei</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049332">parent</a><span>|</span><a href="#36049766">next</a><span>|</span><label class="collapse" for="c-36049358">[-]</label><label class="expand" for="c-36049358">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m just daydreaming here, completely understand they have a business to run and they probably thought long and hard about which features to put into which license. No criticism intended, just something that eventually might catch up on them if another http server&#x2F;proxy can offer everything that nginx does plus the missing items.</div><br/></div></div><div id="36049766" class="c"><input type="checkbox" id="c-36049766" checked=""/><div class="controls bullet"><span class="by">SteveNuts</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049332">parent</a><span>|</span><a href="#36049358">prev</a><span>|</span><a href="#36049524">next</a><span>|</span><label class="collapse" for="c-36049766">[-]</label><label class="expand" for="c-36049766">[7 more]</label></div><br/><div class="children"><div class="content">They’re owned by F5, so selling support and services.</div><br/><div id="36052266" class="c"><input type="checkbox" id="c-36052266" checked=""/><div class="controls bullet"><span class="by">Gigachad</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049766">parent</a><span>|</span><a href="#36049872">next</a><span>|</span><label class="collapse" for="c-36052266">[-]</label><label class="expand" for="c-36052266">[1 more]</label></div><br/><div class="children"><div class="content">What support and services do you actually need though. This would create a perverse incentive to make the software more complex and unreliable and then selling the resources to fix it for you.<p>Vs just actually selling the software and having it work flawlessly with minimal work.</div><br/></div></div><div id="36049872" class="c"><input type="checkbox" id="c-36049872" checked=""/><div class="controls bullet"><span class="by">perbu</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049766">parent</a><span>|</span><a href="#36052266">prev</a><span>|</span><a href="#36049524">next</a><span>|</span><label class="collapse" for="c-36049872">[-]</label><label class="expand" for="c-36049872">[5 more]</label></div><br/><div class="children"><div class="content">it is really, really hard to sell Nginx. their conversion rate is about 0%. they&#x27;ve tried really hard to so, but nobody would buy it.</div><br/><div id="36049961" class="c"><input type="checkbox" id="c-36049961" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049872">parent</a><span>|</span><a href="#36049524">next</a><span>|</span><label class="collapse" for="c-36049961">[-]</label><label class="expand" for="c-36049961">[4 more]</label></div><br/><div class="children"><div class="content">I thought they were making decent revenue now?</div><br/><div id="36050233" class="c"><input type="checkbox" id="c-36050233" checked=""/><div class="controls bullet"><span class="by">hawk_</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049961">parent</a><span>|</span><a href="#36049524">next</a><span>|</span><label class="collapse" for="c-36050233">[-]</label><label class="expand" for="c-36050233">[3 more]</label></div><br/><div class="children"><div class="content">because they sell Plus.</div><br/><div id="36050597" class="c"><input type="checkbox" id="c-36050597" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36050233">parent</a><span>|</span><a href="#36052921">next</a><span>|</span><label class="collapse" for="c-36050597">[-]</label><label class="expand" for="c-36050597">[1 more]</label></div><br/><div class="children"><div class="content">Oh, I thought their only product was plus and I didn&#x27;t realize that the comment was referring to something else! Which proves the point the comment was making very well!! So from what I understand, they also sell regular ngnix support</div><br/></div></div><div id="36052921" class="c"><input type="checkbox" id="c-36052921" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36050233">parent</a><span>|</span><a href="#36050597">prev</a><span>|</span><a href="#36049524">next</a><span>|</span><label class="collapse" for="c-36052921">[-]</label><label class="expand" for="c-36052921">[1 more]</label></div><br/><div class="children"><div class="content">I know of companies that buy Plus just for the support and don&#x27;t even use the Plus features.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36049524" class="c"><input type="checkbox" id="c-36049524" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049332">parent</a><span>|</span><a href="#36049766">prev</a><span>|</span><a href="#36052408">next</a><span>|</span><label class="collapse" for="c-36049524">[-]</label><label class="expand" for="c-36049524">[2 more]</label></div><br/><div class="children"><div class="content">The way that Red Hat and Nextcloud do.</div><br/><div id="36049791" class="c"><input type="checkbox" id="c-36049791" checked=""/><div class="controls bullet"><span class="by">cpuguy83</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049524">parent</a><span>|</span><a href="#36052408">next</a><span>|</span><label class="collapse" for="c-36049791">[-]</label><label class="expand" for="c-36049791">[1 more]</label></div><br/><div class="children"><div class="content">RedHat provided an entire platform that you pay support for... including supporting nginx.
How can nginx (the company) replicate the same thing?<p>Pay for the features you want. You will be better off for it.
Expecting every company to follow the RedHat model is unsustainable.</div><br/></div></div></div></div></div></div><div id="36052408" class="c"><input type="checkbox" id="c-36052408" checked=""/><div class="controls bullet"><span class="by">Taywee</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36049332">prev</a><span>|</span><a href="#36050095">next</a><span>|</span><label class="collapse" for="c-36052408">[-]</label><label class="expand" for="c-36052408">[1 more]</label></div><br/><div class="children"><div class="content">If people want that badly enough under a FOSS license, there&#x27;s nothing really stopping them from implementing it themselves, as an add-on or a fork of the BSD-licenced codebase.<p>If it&#x27;s actually gated, not enough people care enough to get together and make and maintain a better one themselves.</div><br/></div></div><div id="36050095" class="c"><input type="checkbox" id="c-36050095" checked=""/><div class="controls bullet"><span class="by">jbaiter</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36052408">prev</a><span>|</span><a href="#36052363">next</a><span>|</span><label class="collapse" for="c-36050095">[-]</label><label class="expand" for="c-36050095">[1 more]</label></div><br/><div class="children"><div class="content">I found that most of the time it was worth the time to invest a few hours&#x2F;days into implementing the missing feature with Lua&#x2F;OpenResty, if there wasn&#x27;t already an Open Source extension available on GitHub.</div><br/></div></div><div id="36052363" class="c"><input type="checkbox" id="c-36052363" checked=""/><div class="controls bullet"><span class="by">morugam</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36050095">prev</a><span>|</span><a href="#36054352">next</a><span>|</span><label class="collapse" for="c-36052363">[-]</label><label class="expand" for="c-36052363">[1 more]</label></div><br/><div class="children"><div class="content">How dare they try to make money and have a successful business.</div><br/></div></div><div id="36054352" class="c"><input type="checkbox" id="c-36054352" checked=""/><div class="controls bullet"><span class="by">nijave</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36052363">prev</a><span>|</span><a href="#36049416">next</a><span>|</span><label class="collapse" for="c-36054352">[-]</label><label class="expand" for="c-36054352">[1 more]</label></div><br/><div class="children"><div class="content">Check out Envoy. The config has a bit of a learning curve but it&#x27;s quite powerful</div><br/></div></div><div id="36049416" class="c"><input type="checkbox" id="c-36049416" checked=""/><div class="controls bullet"><span class="by">kjs3</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36054352">prev</a><span>|</span><a href="#36050396">next</a><span>|</span><label class="collapse" for="c-36049416">[-]</label><label class="expand" for="c-36049416">[14 more]</label></div><br/><div class="children"><div class="content">Damn shame people won&#x27;t pay for features they claim to need.</div><br/><div id="36049580" class="c"><input type="checkbox" id="c-36049580" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049416">parent</a><span>|</span><a href="#36049790">next</a><span>|</span><label class="collapse" for="c-36049580">[-]</label><label class="expand" for="c-36049580">[8 more]</label></div><br/><div class="children"><div class="content">The thing is, they aren&#x27;t &#x27;needs&#x27; just nice-to-haves that are provided for free with other open-source software. Thus, when trying to choose technology for personal projects, people don&#x27;t choose your software. They choose a &#x27;competitor.&#x27; Thus when it comes time to choose software with a green-field or startup, the non-free solution isn&#x27;t chosen because devs aren&#x27;t familiar with it.<p>Literally, at work (a startup), we use Traefik (which is horrible imho) instead of nginx (which I&#x27;ve used literally everywhere else) because the devs who originally started this project had never used it on a personal project.<p>So the issue isn&#x27;t paying for it, it is about making it useful enough for personal projects that people use it for personal projects that it then gets used on professional projects. Right now, it is barely useful for personal projects unless you know what you&#x27;re doing.</div><br/><div id="36049672" class="c"><input type="checkbox" id="c-36049672" checked=""/><div class="controls bullet"><span class="by">heipei</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049580">parent</a><span>|</span><a href="#36049790">next</a><span>|</span><label class="collapse" for="c-36049672">[-]</label><label class="expand" for="c-36049672">[7 more]</label></div><br/><div class="children"><div class="content">This is a great point. People use Caddy because for simple cases the configuration is seemingly &quot;easy&quot;, and more importantly it includes Let&#x27;s Encrypt out of the box. I&#x27;ve tried to argue with these users that nginx has many powerful (and necessary) features, to no avail. Traefik is a similar story: It integrates neatly with Consul for service discovery so it&#x27;s a go-to tool for TLS termination in front of a service mesh.<p>Do I personally need DNS SRV support? No, I have a templated Nomad config that will re-render and reload the nginx config if the consul upstreams change. Setting this up though is definitely a bigger hurdle than just specifying a Consul service as an upstream.</div><br/><div id="36054719" class="c"><input type="checkbox" id="c-36054719" checked=""/><div class="controls bullet"><span class="by">5e92cb50239222b</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049672">parent</a><span>|</span><a href="#36050013">next</a><span>|</span><label class="collapse" for="c-36054719">[-]</label><label class="expand" for="c-36054719">[1 more]</label></div><br/><div class="children"><div class="content">Maybe &quot;these users&quot; are not as braindead as you think? nginx still defaults to settings that made sense in 2005. I usually go for caddy now not because I am not familiar with nginx, but because it doesn&#x27;t require me to drop hundreds of lines of config across a dozen of includes to get a properly configured HTTP server. Automation doesn&#x27;t make much sense in our use case, and it gets tiring maintaining a separate ansible playbook just for nginx setup.<p>Caddy has sane defaults for many settings and I only need to add a couple of response headers, drop the domain name, and where to proxy the requests to. It takes care of maintaining things like the list of TLSv1.2 ciphersuites.<p>Adding more domains takes <i>two</i> lines of config thanks to parameterized includes — another important thing nginx misses that has to be implemented manually via scripts using something like envsubst (or again, full-on automation which is problematic if many of your servers are just a little bit different from each other — for good reasons).<p>Apache httpd has it by the way: <a href="https:&#x2F;&#x2F;httpd.apache.org&#x2F;docs&#x2F;current&#x2F;mod&#x2F;mod_macro.html" rel="nofollow">https:&#x2F;&#x2F;httpd.apache.org&#x2F;docs&#x2F;current&#x2F;mod&#x2F;mod_macro.html</a></div><br/></div></div><div id="36050013" class="c"><input type="checkbox" id="c-36050013" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049672">parent</a><span>|</span><a href="#36054719">prev</a><span>|</span><a href="#36053375">next</a><span>|</span><label class="collapse" for="c-36050013">[-]</label><label class="expand" for="c-36050013">[3 more]</label></div><br/><div class="children"><div class="content">I mean, if nginx offered a free personal license that worked on 5 servers (which would match up to Ubuntu Pro&#x27;s free personal license), I&#x27;d be all over that. I have 3 servers and I&#x27;m very unlikely to dish out $500 a month, per server, to get nginx+, but I could sell that to my employer if I was already familiar with the technology or could convince my coworkers to go give it a try and see what they thought.<p>It seems they&#x27;re more interested in high-touch sales (which is unlikely to happen on a dev team), vs. organic growth.</div><br/><div id="36052559" class="c"><input type="checkbox" id="c-36052559" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36050013">parent</a><span>|</span><a href="#36053375">next</a><span>|</span><label class="collapse" for="c-36052559">[-]</label><label class="expand" for="c-36052559">[2 more]</label></div><br/><div class="children"><div class="content">There is of course the issue of consistency: you can&#x27;t be said to believe in free software (which is an ideology based around the rights of users) if you operate a proprietary software vendor.<p>A vendor that releases some free software and some proprietary software is a proprietary software vendor.  (This describes, for example, both Microsoft and nginx.)</div><br/><div id="36055196" class="c"><input type="checkbox" id="c-36055196" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36052559">parent</a><span>|</span><a href="#36053375">next</a><span>|</span><label class="collapse" for="c-36055196">[-]</label><label class="expand" for="c-36055196">[1 more]</label></div><br/><div class="children"><div class="content">Yes, but people have to be ABLE to pay for your software. I simply cannot afford nginx+ for a hobby, and I&#x27;m a &quot;free&quot; asset when I make decisions for a company that CAN pay. Also, a startup may use the &#x27;personal&#x27; license pre-revenue, then when it is time to scale up, they have to pay. Their features are coupled to your product, and they are going to pay because they have to (or rewrite a lot of code), a &#x27;trial&#x27; simply isn&#x27;t going to allow this to happen.</div><br/></div></div></div></div></div></div><div id="36053375" class="c"><input type="checkbox" id="c-36053375" checked=""/><div class="controls bullet"><span class="by">nginxsux</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049672">parent</a><span>|</span><a href="#36050013">prev</a><span>|</span><a href="#36050382">next</a><span>|</span><label class="collapse" for="c-36053375">[-]</label><label class="expand" for="c-36053375">[1 more]</label></div><br/><div class="children"><div class="content">Or maybe, just maybe, devs are sick of software that pretends it’s still 1995. Nginx is awful to work with, and has an awful community.<p>The cherry on top is the OpenResty “community”. You know the one that call you an idiot for not pretending Lua is orgasmically good; the one that declares you “just” implement thousands of lines of code because there’s no <i>possible</i> way a useful library could exist; the one with the ecosystem full of awful, worse than js leftpad garbage that hasn’t been updated in three years.<p>Give me a break. F nginx and openresty.</div><br/></div></div><div id="36050382" class="c"><input type="checkbox" id="c-36050382" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049672">parent</a><span>|</span><a href="#36053375">prev</a><span>|</span><a href="#36049790">next</a><span>|</span><label class="collapse" for="c-36050382">[-]</label><label class="expand" for="c-36050382">[1 more]</label></div><br/><div class="children"><div class="content">FYI, Caddy has DNS SRV support <i>for free</i>. <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;directives&#x2F;reverse_proxy#srv" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;directives&#x2F;reverse_pr...</a></div><br/></div></div></div></div></div></div><div id="36049790" class="c"><input type="checkbox" id="c-36049790" checked=""/><div class="controls bullet"><span class="by">getcrunk</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049416">parent</a><span>|</span><a href="#36049580">prev</a><span>|</span><a href="#36052387">next</a><span>|</span><label class="collapse" for="c-36049790">[-]</label><label class="expand" for="c-36049790">[1 more]</label></div><br/><div class="children"><div class="content">Not all of us are enterprise customers with enterprise budgets. There is no middle option. It starts at 3675 annually per instance. That’s more than the price of most of my servers</div><br/></div></div><div id="36052387" class="c"><input type="checkbox" id="c-36052387" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049416">parent</a><span>|</span><a href="#36049790">prev</a><span>|</span><a href="#36051419">next</a><span>|</span><label class="collapse" for="c-36052387">[-]</label><label class="expand" for="c-36052387">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s <i>per server</i><p>We do pay them, for a bunch of boxes. But I can&#x27;t afford to run their plus version in front of every microservice. Or even in front of our entry point server. That&#x27;s 5 times as many machines, plus staged versions of the app, plus other services running on the same boxes.<p>If you&#x27;re running anything that is not multithreaded, you&#x27;re running a reverse proxy in front of it. And even then you can still improve server availability by running a reverse proxy.</div><br/></div></div><div id="36051419" class="c"><input type="checkbox" id="c-36051419" checked=""/><div class="controls bullet"><span class="by">jdoss</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049416">parent</a><span>|</span><a href="#36052387">prev</a><span>|</span><a href="#36051812">next</a><span>|</span><label class="collapse" for="c-36051419">[-]</label><label class="expand" for="c-36051419">[1 more]</label></div><br/><div class="children"><div class="content">I love paying for software features that I need, but anything over $100 a month is too much for my personal budget for side projects. For example, I really want to run HA Traefik with Let&#x27;s Encrypt shared across three instances in my datacenter rack, but Traefik Enterprise is many times more than what I can afford to pay, so I make due with one instance because the service discovery features for Nomad are fantastic. Same for Hashicorp Vault. I&#x27;d pay $100&#x2F;mo for an Enterprise Vault for the HSM integration.<p>I really wish companies would come up with SMB pricing to help us side project hackers out so we could grow into paying for the bigger plans. Also, I understand why they don&#x27;t. SMB support is a huge PITA.</div><br/></div></div><div id="36051812" class="c"><input type="checkbox" id="c-36051812" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049416">parent</a><span>|</span><a href="#36051419">prev</a><span>|</span><a href="#36050480">next</a><span>|</span><label class="collapse" for="c-36051812">[-]</label><label class="expand" for="c-36051812">[1 more]</label></div><br/><div class="children"><div class="content">Or maybe we just like open source...</div><br/></div></div><div id="36050480" class="c"><input type="checkbox" id="c-36050480" checked=""/><div class="controls bullet"><span class="by">misleading1</span><span>|</span><a href="#36049282">root</a><span>|</span><a href="#36049416">parent</a><span>|</span><a href="#36051812">prev</a><span>|</span><a href="#36050396">next</a><span>|</span><label class="collapse" for="c-36050480">[-]</label><label class="expand" for="c-36050480">[1 more]</label></div><br/><div class="children"><div class="content">Weird how Nginx is like the only webserver in the history of mankind that offers caching capabilities but doesn&#x27;t handle DELETE or PURGE verbs</div><br/></div></div></div></div><div id="36050396" class="c"><input type="checkbox" id="c-36050396" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36049416">prev</a><span>|</span><a href="#36051379">next</a><span>|</span><label class="collapse" for="c-36050396">[-]</label><label class="expand" for="c-36050396">[1 more]</label></div><br/><div class="children"><div class="content">Just use traefik and move on with your life.  Apache and Sendmail and xinetd send their regards too.</div><br/></div></div><div id="36051379" class="c"><input type="checkbox" id="c-36051379" checked=""/><div class="controls bullet"><span class="by">artursapek</span><span>|</span><a href="#36049282">parent</a><span>|</span><a href="#36050396">prev</a><span>|</span><a href="#36049296">next</a><span>|</span><label class="collapse" for="c-36051379">[-]</label><label class="expand" for="c-36051379">[1 more]</label></div><br/><div class="children"><div class="content">Don’t shame an amazing open source project for trying to be financially sustainable.</div><br/></div></div></div></div><div id="36049296" class="c"><input type="checkbox" id="c-36049296" checked=""/><div class="controls bullet"><span class="by">Ameo</span><span>|</span><a href="#36049282">prev</a><span>|</span><a href="#36049025">next</a><span>|</span><label class="collapse" for="c-36049296">[-]</label><label class="expand" for="c-36049296">[10 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been running Cloudflare&#x27;s implementation of HTTP3&#x2F;QUIC called Quiche[1] on my server&#x27;s NGINX for over a year.  It powers several websites and has served hundreds of millions of responses.  It was a little weird to set up, but I&#x27;ve not encountered any issues with it so far.<p>It will be interesting to see how their native implementation compares.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;cloudflare&#x2F;quiche&#x2F;tree&#x2F;master&#x2F;nginx">https:&#x2F;&#x2F;github.com&#x2F;cloudflare&#x2F;quiche&#x2F;tree&#x2F;master&#x2F;nginx</a></div><br/><div id="36051604" class="c"><input type="checkbox" id="c-36051604" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049296">parent</a><span>|</span><a href="#36054524">next</a><span>|</span><label class="collapse" for="c-36051604">[-]</label><label class="expand" for="c-36051604">[6 more]</label></div><br/><div class="children"><div class="content">NGINX has now an own QUIC implementation? I have to look again.<p>Implementing QUIC seems no fun and there are almost no implementations. Almost everybody claiming HTTP&#x2F;3 support uses Quiche under the hood for QUIC (besides some outliers and AWS who are one of the very small group of orgs who have their own QUIC lib). I was under the impression NGINX kept building on the current foundations with Quiche.</div><br/><div id="36052728" class="c"><input type="checkbox" id="c-36052728" checked=""/><div class="controls bullet"><span class="by">revertts</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36051604">parent</a><span>|</span><a href="#36052163">next</a><span>|</span><label class="collapse" for="c-36052728">[-]</label><label class="expand" for="c-36052728">[1 more]</label></div><br/><div class="children"><div class="content">I think you’re understating how many quic implementations exist. Google, Apple, F5, Facebook, Fastly, Cloudflare, Microsoft, AWS all have separate implementations servicing significant production traffic, most of them open source. That doesn’t even count the smaller, language-specific implementations. Searching for quic interop tests is a good way to discover the various implementations.</div><br/></div></div><div id="36052163" class="c"><input type="checkbox" id="c-36052163" checked=""/><div class="controls bullet"><span class="by">metaltyphoon</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36051604">parent</a><span>|</span><a href="#36052728">prev</a><span>|</span><a href="#36054524">next</a><span>|</span><label class="collapse" for="c-36052163">[-]</label><label class="expand" for="c-36052163">[4 more]</label></div><br/><div class="children"><div class="content">ASP Net Core can use QUIC. It uses MsQuic library and libmaquic.</div><br/><div id="36052382" class="c"><input type="checkbox" id="c-36052382" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36052163">parent</a><span>|</span><a href="#36052867">next</a><span>|</span><label class="collapse" for="c-36052382">[-]</label><label class="expand" for="c-36052382">[1 more]</label></div><br/><div class="children"><div class="content">Oh, right! There is also MS. I&#x27;ve forgot to mention their lib as I&#x27;m not working with any MS technologies. Apologies.</div><br/></div></div><div id="36052867" class="c"><input type="checkbox" id="c-36052867" checked=""/><div class="controls bullet"><span class="by">Lorin</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36052163">parent</a><span>|</span><a href="#36052382">prev</a><span>|</span><a href="#36054524">next</a><span>|</span><label class="collapse" for="c-36052867">[-]</label><label class="expand" for="c-36052867">[2 more]</label></div><br/><div class="children"><div class="content">IIS is still waiting for it, you have to run some esoteric commands to try it out and it doesn&#x27;t reliably function.</div><br/><div id="36053093" class="c"><input type="checkbox" id="c-36053093" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36052867">parent</a><span>|</span><a href="#36054524">next</a><span>|</span><label class="collapse" for="c-36053093">[-]</label><label class="expand" for="c-36053093">[1 more]</label></div><br/><div class="children"><div class="content">Well, it&#x27;s not ready for prime time:<p><a href="https:&#x2F;&#x2F;interop.seemann.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;interop.seemann.io&#x2F;</a><p>A more or less full list of implementations is here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;quicwg&#x2F;base-drafts&#x2F;wiki&#x2F;Implementations">https:&#x2F;&#x2F;github.com&#x2F;quicwg&#x2F;base-drafts&#x2F;wiki&#x2F;Implementations</a><p>But I personalty would have qualms with all the C implementations. Crypto and very complex protocols are nothing one should implement in C, imho. This cries for disaster. And what&#x27;s left, especially in an usable state, is quite underwhelming currently.<p>Higher level libs &#x2F; frameworks like Java&#x27;s Netty and Rusts Hyper chose Quiche for QUIC.<p>The only other ready to use libs I&#x27;ve found were AIOQUIC for Python and quic-go. Those are also the only ones with a working WebTransport feature currently.<p>Looking on the above linked inter-op tables MS will need some time to catch up. QUIC is indeed complex.</div><br/></div></div></div></div></div></div></div></div><div id="36054524" class="c"><input type="checkbox" id="c-36054524" checked=""/><div class="controls bullet"><span class="by">qalmakka</span><span>|</span><a href="#36049296">parent</a><span>|</span><a href="#36051604">prev</a><span>|</span><a href="#36049025">next</a><span>|</span><label class="collapse" for="c-36054524">[-]</label><label class="expand" for="c-36054524">[3 more]</label></div><br/><div class="children"><div class="content">We really, REALLY need a &quot;standard&quot; QUIC API, this thing is getting out of hand IMHO.</div><br/><div id="36054611" class="c"><input type="checkbox" id="c-36054611" checked=""/><div class="controls bullet"><span class="by">littlecranky67</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36054524">parent</a><span>|</span><a href="#36049025">next</a><span>|</span><label class="collapse" for="c-36054611">[-]</label><label class="expand" for="c-36054611">[2 more]</label></div><br/><div class="children"><div class="content">This was called for. QUIC is UDP based, and shifts the burden of implementing stuff like congestion control into userspace. There are already plenty different congestion control algorithms in the (linux-)kernel for TCP so you can expect a myriad of different implementations (and configurations) in QUIC - but this time on a per-program level.</div><br/><div id="36055249" class="c"><input type="checkbox" id="c-36055249" checked=""/><div class="controls bullet"><span class="by">qalmakka</span><span>|</span><a href="#36049296">root</a><span>|</span><a href="#36054611">parent</a><span>|</span><a href="#36049025">next</a><span>|</span><label class="collapse" for="c-36055249">[-]</label><label class="expand" for="c-36055249">[1 more]</label></div><br/><div class="children"><div class="content">I do understand that, but I&#x27;d still like a &quot;common&quot; basic API for those people that just want to transmit data efficiently from point A to point B. If QUIC is harder than TCP, people will just stick to that instead of switching to QUIC. I don&#x27;t say we need a SOCKET_QUIC, but it would be nice to have at least a way to open a connection that&#x27;s similar on every library.</div><br/></div></div></div></div></div></div></div></div><div id="36049025" class="c"><input type="checkbox" id="c-36049025" checked=""/><div class="controls bullet"><span class="by">perbu</span><span>|</span><a href="#36049296">prev</a><span>|</span><a href="#36049081">next</a><span>|</span><label class="collapse" for="c-36049025">[-]</label><label class="expand" for="c-36049025">[29 more]</label></div><br/><div class="children"><div class="content">I am not at all convinced that the measly 1-4% performance we&#x27;ll manage to eek out of this is worth the effort and complexity.</div><br/><div id="36049098" class="c"><input type="checkbox" id="c-36049098" checked=""/><div class="controls bullet"><span class="by">dochtman</span><span>|</span><a href="#36049025">parent</a><span>|</span><a href="#36049398">next</a><span>|</span><label class="collapse" for="c-36049098">[-]</label><label class="expand" for="c-36049098">[6 more]</label></div><br/><div class="children"><div class="content">Latency at higher percentiles (crappier internet connections) improves pretty meaningfully in most of the articles I&#x27;ve seen. Here&#x27;s a recent one from Dropbox:<p><a href="https:&#x2F;&#x2F;dropbox.tech&#x2F;frontend&#x2F;investigating-the-impact-of-http3-on-network-latency-for-search" rel="nofollow">https:&#x2F;&#x2F;dropbox.tech&#x2F;frontend&#x2F;investigating-the-impact-of-ht...</a><p>(Discussed at <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36027702" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36027702</a>.)</div><br/><div id="36051072" class="c"><input type="checkbox" id="c-36051072" checked=""/><div class="controls bullet"><span class="by">robocat</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36049098">parent</a><span>|</span><a href="#36052543">next</a><span>|</span><label class="collapse" for="c-36051072">[-]</label><label class="expand" for="c-36051072">[2 more]</label></div><br/><div class="children"><div class="content">Quote from article:<p><pre><code>  For the majority of our global users, HTTP3 reduced network latencies by 5-15ms (or 5%). While this is an improvement, these wins would appear negligible to the average user. At p90, however, HTTP3 demonstrated massive improvements, with a latency reduction of 48ms (or 13%)—and at p95, a reduction of 146ms (21%). This could be explained by the fact that HTTP3 is better at handling packet drops in parallel connections by eliminating head-of-line blocking; because packet drops are more likely to occur in networks with suboptimal connection quality, the benefits of HTTP3 are more visible at the higher percentiles.</code></pre></div><br/><div id="36051393" class="c"><input type="checkbox" id="c-36051393" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051072">parent</a><span>|</span><a href="#36052543">next</a><span>|</span><label class="collapse" for="c-36051393">[-]</label><label class="expand" for="c-36051393">[1 more]</label></div><br/><div class="children"><div class="content">Given that the majority of people uses the web through very often quite crappy mobile links HTTP&#x2F;3 is actually a significant win from the user experience perspective. It can be all the difference between &quot;site is completely unusable&quot; and &quot;site is slow, but you get through&quot;.<p>Of course it&#x27;s true that QUIC is a complexity monster. OTOH HTTP&#x2F;3 is actually quite simple when you have the QUIC layer implemented. A simple HTTP&#x2F;3 server is no more than this:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;aiortc&#x2F;aioquic&#x2F;blob&#x2F;main&#x2F;examples&#x2F;http3_server.py">https:&#x2F;&#x2F;github.com&#x2F;aiortc&#x2F;aioquic&#x2F;blob&#x2F;main&#x2F;examples&#x2F;http3_s...</a></div><br/></div></div></div></div><div id="36052543" class="c"><input type="checkbox" id="c-36052543" checked=""/><div class="controls bullet"><span class="by">speed_spread</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36049098">parent</a><span>|</span><a href="#36051072">prev</a><span>|</span><a href="#36049398">next</a><span>|</span><label class="collapse" for="c-36052543">[-]</label><label class="expand" for="c-36052543">[3 more]</label></div><br/><div class="children"><div class="content">The average amount of time users are willing to wait for a web page to load will remain the same, thus any latency reduction will simply be eaten up by more crap being served, because greed. The constraints aren&#x27;t technical, they&#x27;re human.</div><br/><div id="36052941" class="c"><input type="checkbox" id="c-36052941" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36052543">parent</a><span>|</span><a href="#36049398">next</a><span>|</span><label class="collapse" for="c-36052941">[-]</label><label class="expand" for="c-36052941">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The average amount of time users are willing to wait for a web page to load will remain the same<p>People have definitely gotten more impatient over the years.</div><br/><div id="36053803" class="c"><input type="checkbox" id="c-36053803" checked=""/><div class="controls bullet"><span class="by">speed_spread</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36052941">parent</a><span>|</span><a href="#36049398">next</a><span>|</span><label class="collapse" for="c-36053803">[-]</label><label class="expand" for="c-36053803">[1 more]</label></div><br/><div class="children"><div class="content">Actually, you&#x27;re right. TikTok, Instagram et al. demonstrate that people have gotten more impatient... to get more crap!</div><br/></div></div></div></div></div></div></div></div><div id="36049398" class="c"><input type="checkbox" id="c-36049398" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#36049025">parent</a><span>|</span><a href="#36049098">prev</a><span>|</span><a href="#36051290">next</a><span>|</span><label class="collapse" for="c-36049398">[-]</label><label class="expand" for="c-36049398">[12 more]</label></div><br/><div class="children"><div class="content">QUIC is also more of a response to the havoc wreaked by network middleware, ageing kernel network stacks, and arbitrary censorship. In another sense, QUIC is an attempt to revive the end-to-end principle.</div><br/><div id="36049744" class="c"><input type="checkbox" id="c-36049744" checked=""/><div class="controls bullet"><span class="by">ledgerdev</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36049398">parent</a><span>|</span><a href="#36050153">next</a><span>|</span><label class="collapse" for="c-36049744">[-]</label><label class="expand" for="c-36049744">[10 more]</label></div><br/><div class="children"><div class="content">Interesting, how does QUIC help with &#x27;arbitrary censorship&#x27;?</div><br/><div id="36050272" class="c"><input type="checkbox" id="c-36050272" checked=""/><div class="controls bullet"><span class="by">jupp0r</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36049744">parent</a><span>|</span><a href="#36050229">next</a><span>|</span><label class="collapse" for="c-36050272">[-]</label><label class="expand" for="c-36050272">[8 more]</label></div><br/><div class="children"><div class="content">It mandates perfect forward secrecy TLS cipher modes mandatory which makes it impossible for man-in-the-middle hardware to intercept and read users&#x27; connections while still pretending to be secure.<p>There was quite a bit of pushback on this in the IETF from financial institutions that think they have mandatory obligations to spy on their employees.<p>Here is a relevant HN discussion thread from 2016 about TLS 1.3, most of which applies to HTTP&#x2F;3: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=12641880" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=12641880</a></div><br/><div id="36051491" class="c"><input type="checkbox" id="c-36051491" checked=""/><div class="controls bullet"><span class="by">horsawlarway</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36050272">parent</a><span>|</span><a href="#36050366">next</a><span>|</span><label class="collapse" for="c-36051491">[-]</label><label class="expand" for="c-36051491">[4 more]</label></div><br/><div class="children"><div class="content">&gt; There was quite a bit of pushback on this in the IETF from financial institutions that think they have mandatory obligations to spy on their employees.<p>To be fair, they do have mandatory requirements to prevent their employees from doing some things online in some cases.  For example - some of the rules around coordination on a trading floor: <a href="https:&#x2F;&#x2F;www.sec.gov&#x2F;rules&#x2F;sro&#x2F;nyse&#x2F;2017&#x2F;34-80374-ex5.pdf" rel="nofollow">https:&#x2F;&#x2F;www.sec.gov&#x2F;rules&#x2F;sro&#x2F;nyse&#x2F;2017&#x2F;34-80374-ex5.pdf</a><p>Or - in many cases they are legally required to retain a copy of communications sent, and there are a large number of sites that offer diverse services banks want that also happen to have &quot;chat&#x2F;email&quot; hidden as a feature.  That&#x27;s legally communication, and they often can&#x27;t collect and retain it.<p>Long story short - they don&#x27;t really care so much, because many of them are already doing this collection now in other ways... my first job out of college 13 years ago was helping large banks transition this monitoring and policy enforcement to browser extensions (Guess who was grumbling about the MV3 changes in chrome, for very similar reasons).<p>Now they&#x27;re moving to directly adding the monitoring in the OS&#x2F;Kernel</div><br/><div id="36051670" class="c"><input type="checkbox" id="c-36051670" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051491">parent</a><span>|</span><a href="#36051642">next</a><span>|</span><label class="collapse" for="c-36051670">[-]</label><label class="expand" for="c-36051670">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Now they&#x27;re moving to directly adding the monitoring in the OS&#x2F;Kernel<p>Does this mean financial software has root-kits build in? Good to know!<p>So this means every banking computer is fundamentally compromised at the OS level. Let&#x27; see how long it takes until this backfires. Could be a nice global firework when it goes off.<p>Who exactly builds those root-kits? How good are they protected against supply chain attacks?</div><br/></div></div><div id="36051642" class="c"><input type="checkbox" id="c-36051642" checked=""/><div class="controls bullet"><span class="by">jupp0r</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051491">parent</a><span>|</span><a href="#36051670">prev</a><span>|</span><a href="#36051774">next</a><span>|</span><label class="collapse" for="c-36051642">[-]</label><label class="expand" for="c-36051642">[1 more]</label></div><br/><div class="children"><div class="content">Good to know, thanks for the perspective. I only know that there was huge pushback against these somewhat niche (but still important) requirements making TLS 1.3 less secure for everybody. I&#x27;m glad somebody held firm.</div><br/></div></div><div id="36051774" class="c"><input type="checkbox" id="c-36051774" checked=""/><div class="controls bullet"><span class="by">betaby</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051491">parent</a><span>|</span><a href="#36051642">prev</a><span>|</span><a href="#36050366">next</a><span>|</span><label class="collapse" for="c-36051774">[-]</label><label class="expand" for="c-36051774">[1 more]</label></div><br/><div class="children"><div class="content">They are of course free to use http in a closed environment, without any encryption. Or use any internal proprietary protocols. There is absolutely nor reason to mandate the world to follow their &#x27;requirements&#x27;.</div><br/></div></div></div></div><div id="36050366" class="c"><input type="checkbox" id="c-36050366" checked=""/><div class="controls bullet"><span class="by">rini17</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36050272">parent</a><span>|</span><a href="#36051491">prev</a><span>|</span><a href="#36050229">next</a><span>|</span><label class="collapse" for="c-36050366">[-]</label><label class="expand" for="c-36050366">[3 more]</label></div><br/><div class="children"><div class="content">This also means you can tunnel http3 traffic through cloudflare without them decrypting it?</div><br/><div id="36051069" class="c"><input type="checkbox" id="c-36051069" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36050366">parent</a><span>|</span><a href="#36050869">next</a><span>|</span><label class="collapse" for="c-36051069">[-]</label><label class="expand" for="c-36051069">[1 more]</label></div><br/><div class="children"><div class="content">Well, if your intention is to use Cloudflare&#x27;s network for your H3 tunnels, then expect an API for it soon: <a href="https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;building-privacy-into-internet-standards-and-how-to-make-your-app-more-private-today&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;building-privacy-into-internet-s...</a></div><br/></div></div><div id="36050869" class="c"><input type="checkbox" id="c-36050869" checked=""/><div class="controls bullet"><span class="by">AlexAndScripts</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36050366">parent</a><span>|</span><a href="#36051069">prev</a><span>|</span><a href="#36050229">next</a><span>|</span><label class="collapse" for="c-36050869">[-]</label><label class="expand" for="c-36050869">[1 more]</label></div><br/><div class="children"><div class="content">AFAIK much of cloudflare&#x27;s functionality requires full request access. You&#x27;ll still need to SSL terminate there.</div><br/></div></div></div></div></div></div><div id="36050229" class="c"><input type="checkbox" id="c-36050229" checked=""/><div class="controls bullet"><span class="by">634636346</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36049744">parent</a><span>|</span><a href="#36050272">prev</a><span>|</span><a href="#36050153">next</a><span>|</span><label class="collapse" for="c-36050229">[-]</label><label class="expand" for="c-36050229">[1 more]</label></div><br/><div class="children"><div class="content">See: <a href="https:&#x2F;&#x2F;ooni.org&#x2F;post&#x2F;2022-quick-look-quic-censorship&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ooni.org&#x2F;post&#x2F;2022-quick-look-quic-censorship&#x2F;</a><p>I assume Google and co. will fix this if it ever starts to seriously benefit platforms like KiwiFarms, which in the last year was being blocked by CenturyLink, a major US ISP. I also predict  these QUICfixes will be met with broad enthusiasm by HNers.</div><br/></div></div></div></div><div id="36050153" class="c"><input type="checkbox" id="c-36050153" checked=""/><div class="controls bullet"><span class="by">alex_duf</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36049398">parent</a><span>|</span><a href="#36049744">prev</a><span>|</span><a href="#36051290">next</a><span>|</span><label class="collapse" for="c-36050153">[-]</label><label class="expand" for="c-36050153">[1 more]</label></div><br/><div class="children"><div class="content">And a good improvement on head of line blocking that http2 introduced?</div><br/></div></div></div></div><div id="36051290" class="c"><input type="checkbox" id="c-36051290" checked=""/><div class="controls bullet"><span class="by">intelVISA</span><span>|</span><a href="#36049025">parent</a><span>|</span><a href="#36049398">prev</a><span>|</span><a href="#36051934">next</a><span>|</span><label class="collapse" for="c-36051290">[-]</label><label class="expand" for="c-36051290">[9 more]</label></div><br/><div class="children"><div class="content">Bear in mind QUIC was primarily designed to improve advertisement penetration by making it harder for good actors to interdict and remove bad domains. (Something like dns-over-http&#x2F;3 is, allegedly, referred to internally at Google as the anti-Pi-hole)<p>plus, in real-world use cases it&#x27;s probably a perf loss running TLS like this fwiw.</div><br/><div id="36051485" class="c"><input type="checkbox" id="c-36051485" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051290">parent</a><span>|</span><a href="#36051935">next</a><span>|</span><label class="collapse" for="c-36051485">[-]</label><label class="expand" for="c-36051485">[6 more]</label></div><br/><div class="children"><div class="content">&gt; Bear in mind QUIC was primarily designed to improve advertisement penetration by making it harder for good actors to interdict and remove bad domains.<p>Are there any prove points for this claim besides this shout-out?<p>QUIC is more like a modern TCP. What you do with such a protocol is unrelated to the protocol as such. You can open secure connections and stream data with it. That&#x27;s all. Everything else is on the application side.<p>&gt; Something like dns-over-http&#x2F;3 is, allegedly, referred to internally at Google as the anti-Pi-hole<p>This claim sounds like anti QUIC FUD.<p>Nothing can stop you from using a Pi-hole like device as your primary DNS resolver!<p>(OK, I admit Google could try to hard-code their DNS servers in Chrome. But I&#x27;m very unsure they would make it through the following shit storm in one piece.)</div><br/><div id="36051971" class="c"><input type="checkbox" id="c-36051971" checked=""/><div class="controls bullet"><span class="by">askvictor</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051485">parent</a><span>|</span><a href="#36051918">next</a><span>|</span><label class="collapse" for="c-36051971">[-]</label><label class="expand" for="c-36051971">[3 more]</label></div><br/><div class="children"><div class="content">Not OP, but Google do hard-code their DNS servers in other products (e.g. Chromecast), so they&#x27;ll bypass your pi-hole. It is possible to intercept DNS traffic to 8.8.8.8 and redirect it to your own router, however. With DNS-over-HTTPS this is impossible short of installing custom SSL root certs on the device, which is close to impossible. But that&#x27;s got nothing to do with QUIC or HTTP&#x2F;3, but is effectively just enforcing signed DNS requests.</div><br/><div id="36052450" class="c"><input type="checkbox" id="c-36052450" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051971">parent</a><span>|</span><a href="#36053855">next</a><span>|</span><label class="collapse" for="c-36052450">[-]</label><label class="expand" for="c-36052450">[1 more]</label></div><br/><div class="children"><div class="content">Some (most?) browsers support a non-transparent forward proxy. But you really have to trust it, because you&#x27;re giving it man-in-the-middle control over all of your browser sessions.<p>It dates back to a more draconic era of firewall management, but has also worked its way into DHCP (<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Web_Proxy_Auto-Discovery_Protocol" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Web_Proxy_Auto-Discovery_Proto...</a>).</div><br/></div></div><div id="36053855" class="c"><input type="checkbox" id="c-36053855" checked=""/><div class="controls bullet"><span class="by">pabs3</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051971">parent</a><span>|</span><a href="#36052450">prev</a><span>|</span><a href="#36051918">next</a><span>|</span><label class="collapse" for="c-36053855">[-]</label><label class="expand" for="c-36053855">[1 more]</label></div><br/><div class="children"><div class="content">It might be a good idea to not let software&#x2F;hardware you don&#x27;t trust onto your own networks.</div><br/></div></div></div></div><div id="36051918" class="c"><input type="checkbox" id="c-36051918" checked=""/><div class="controls bullet"><span class="by">firstlink</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051485">parent</a><span>|</span><a href="#36051971">prev</a><span>|</span><a href="#36055300">next</a><span>|</span><label class="collapse" for="c-36051918">[-]</label><label class="expand" for="c-36051918">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Google could try to hard-code their DNS servers in Chrome<p>More relevantly, there&#x27;s no reason they couldn&#x27;t do the same before HTTP&#x2F;3. Even with DNS traffic hijacking, they could just as well do DNS-over-TLS. Infiltrating advertising-related DNS is completely orthogonal to HTTP&#x2F;3; agreed that the gp comment is FUD.</div><br/></div></div><div id="36055300" class="c"><input type="checkbox" id="c-36055300" checked=""/><div class="controls bullet"><span class="by">stonogo</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051485">parent</a><span>|</span><a href="#36051918">prev</a><span>|</span><a href="#36051935">next</a><span>|</span><label class="collapse" for="c-36055300">[-]</label><label class="expand" for="c-36055300">[1 more]</label></div><br/><div class="children"><div class="content">Google is an advertising company.  Why on earth would anything they do NOT be in order to improve advertisement delivery?  I don&#x27;t understand the water-carrying in this thread, but filter bypass has been the primary criticism of this technology since it was invented.</div><br/></div></div></div></div><div id="36051935" class="c"><input type="checkbox" id="c-36051935" checked=""/><div class="controls bullet"><span class="by">vore</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051290">parent</a><span>|</span><a href="#36051485">prev</a><span>|</span><a href="#36051934">next</a><span>|</span><label class="collapse" for="c-36051935">[-]</label><label class="expand" for="c-36051935">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Bear in mind QUIC was primarily designed to improve advertisement penetration by making it harder for good actors to interdict and remove bad domains.<p>What? What is your source on this? How does the protocol stop you from using e.g. uBlock to filter the domains at the application level?</div><br/><div id="36052305" class="c"><input type="checkbox" id="c-36052305" checked=""/><div class="controls bullet"><span class="by">Gigachad</span><span>|</span><a href="#36049025">root</a><span>|</span><a href="#36051935">parent</a><span>|</span><a href="#36051934">next</a><span>|</span><label class="collapse" for="c-36052305">[-]</label><label class="expand" for="c-36052305">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t. HN users tend to believe that everything is some crazy conspiracy targeted at them and their pi hole setup.</div><br/></div></div></div></div></div></div><div id="36051934" class="c"><input type="checkbox" id="c-36051934" checked=""/><div class="controls bullet"><span class="by">wbl</span><span>|</span><a href="#36049025">parent</a><span>|</span><a href="#36051290">prev</a><span>|</span><a href="#36049081">next</a><span>|</span><label class="collapse" for="c-36051934">[-]</label><label class="expand" for="c-36051934">[1 more]</label></div><br/><div class="children"><div class="content">That performance impact is worth millions of dollars in improved conversions.</div><br/></div></div></div></div><div id="36049081" class="c"><input type="checkbox" id="c-36049081" checked=""/><div class="controls bullet"><span class="by">KRAKRISMOTT</span><span>|</span><a href="#36049025">prev</a><span>|</span><a href="#36049561">next</a><span>|</span><label class="collapse" for="c-36049081">[-]</label><label class="expand" for="c-36049081">[36 more]</label></div><br/><div class="children"><div class="content">I wish Nginx would improve their developer experience. Their deployment patterns and configuration are horrid compared to Caddy which is amazing to use.</div><br/><div id="36049135" class="c"><input type="checkbox" id="c-36049135" checked=""/><div class="controls bullet"><span class="by">zja</span><span>|</span><a href="#36049081">parent</a><span>|</span><a href="#36050373">next</a><span>|</span><label class="collapse" for="c-36049135">[-]</label><label class="expand" for="c-36049135">[32 more]</label></div><br/><div class="children"><div class="content">Caddy has a lot of great features, but (at least as of last year) Nginx has the edge on documentation. Caddy’s docs were almost useless. Hopefully they’ve improved since I last used it.</div><br/><div id="36049475" class="c"><input type="checkbox" id="c-36049475" checked=""/><div class="controls bullet"><span class="by">mattbee</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049135">parent</a><span>|</span><a href="#36049276">next</a><span>|</span><label class="collapse" for="c-36049475">[-]</label><label class="expand" for="c-36049475">[10 more]</label></div><br/><div class="children"><div class="content">The docs were brilliant for v1, it wouldn&#x27;t surprise me if they were the spec for a great user experience and the code came second.<p>Despite v2 supporting a very similar config file, the documentation doesn&#x27;t emphasise that and tries to steer you towards its API, confusing JSON config syntax etc.<p>It&#x27;s still a very good web server for very few lines of config, but I don&#x27;t relish trying to learn something new from its docs like I used to.</div><br/><div id="36050159" class="c"><input type="checkbox" id="c-36050159" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049475">parent</a><span>|</span><a href="#36050157">next</a><span>|</span><label class="collapse" for="c-36050159">[-]</label><label class="expand" for="c-36050159">[4 more]</label></div><br/><div class="children"><div class="content">&gt; and tries to steer you towards, its API, confusing JSON config syntax<p>I disagree. The docs don&#x27;t do that. What you&#x27;re probably talking about is the Getting Started guide <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;getting-started" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;getting-started</a>, which is a tour of <i>how Caddy works</i>, so it first shows you the &quot;bare-metal&quot; look at how it works, then it introduces the Caddyfile which allows you to simplify your user experience.<p>There&#x27;s even a comparison table between the two <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;getting-started#json-vs-caddyfile" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;getting-started#json-vs-caddyfi...</a> which explains when you&#x27;d want to use JSON (i.e. if you want programmable, API-based usage) or Caddyfile (i.e. for quick-and-simple hand-written config, 95% of users choose this).<p>I recommend starting from <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile-tutorial" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile-tutorial</a> or <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;concepts" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;concepts</a> to get an idea of how the Caddyfile works.</div><br/><div id="36050300" class="c"><input type="checkbox" id="c-36050300" checked=""/><div class="controls bullet"><span class="by">SahAssar</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050159">parent</a><span>|</span><a href="#36050157">next</a><span>|</span><label class="collapse" for="c-36050300">[-]</label><label class="expand" for="c-36050300">[3 more]</label></div><br/><div class="children"><div class="content">That might be true now, but I spent a lot of time trying to use caddy v2 and not being able to since the only docs where for json and some things where available in caddyfile and some in json.<p>If it is fixed now then that is great, but it took at least a year (I&#x27;m guessing more) after the launch of v2.</div><br/><div id="36050354" class="c"><input type="checkbox" id="c-36050354" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050300">parent</a><span>|</span><a href="#36050157">next</a><span>|</span><label class="collapse" for="c-36050354">[-]</label><label class="expand" for="c-36050354">[2 more]</label></div><br/><div class="children"><div class="content">Of course it wasn&#x27;t going to be perfect at the initial release, nothing ever is. Caddy v2 was a complete rewrite from v1, so there was a lot of TODOs to polish it up.<p>Definitely take another look now, there&#x27;s been a ton of progress since then, 3 years ago. The initial v2 release was in May 2020, soon after the pandemic hit.</div><br/><div id="36050535" class="c"><input type="checkbox" id="c-36050535" checked=""/><div class="controls bullet"><span class="by">SahAssar</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050354">parent</a><span>|</span><a href="#36050157">next</a><span>|</span><label class="collapse" for="c-36050535">[-]</label><label class="expand" for="c-36050535">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Of course it wasn&#x27;t going to be perfect at the initial release, nothing ever is<p>What I&#x27;m trying to say is that on launch v2 was not a good replacement for v1, especially in the docs area. I&#x27;ve seen quite a few major version bumps in OSS, and it feels docs is an area that is usually neglected, and for quite a while (at least a year, I&#x27;d say more) the v2 docs where not useful for someone who had not participated in the caddy v2 community discussions.<p>I&#x27;m just trying to describe what led me to go from a avid caddy proponent back to an nginx user.<p>I&#x27;ll take another look next time I have a project that needs a http&#x2F;s server!</div><br/></div></div></div></div></div></div></div></div><div id="36050157" class="c"><input type="checkbox" id="c-36050157" checked=""/><div class="controls bullet"><span class="by">awestroke</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049475">parent</a><span>|</span><a href="#36050159">prev</a><span>|</span><a href="#36049619">next</a><span>|</span><label class="collapse" for="c-36050157">[-]</label><label class="expand" for="c-36050157">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Now you know that the Caddyfile is just converted to JSON for you.<p>&gt; The Caddyfile seems easier than JSON, but should you always use it? There are pros and cons to each approach. The answer depends on your requirements and use case.<p>Followed by a table comparing the json and caddyfile approaches. What&#x27;s the confusion?</div><br/></div></div><div id="36049619" class="c"><input type="checkbox" id="c-36049619" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049475">parent</a><span>|</span><a href="#36050157">prev</a><span>|</span><a href="#36049276">next</a><span>|</span><label class="collapse" for="c-36049619">[-]</label><label class="expand" for="c-36049619">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s almost like the docs were written for someone upgrading from V1 (or familiar with V1) instead of a newcomer who knows nothing (like the V1 docs were written for).</div><br/><div id="36050195" class="c"><input type="checkbox" id="c-36050195" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049619">parent</a><span>|</span><a href="#36049276">next</a><span>|</span><label class="collapse" for="c-36050195">[-]</label><label class="expand" for="c-36050195">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not true. The docs are written with the expectation that the user understands how the web works. We can&#x27;t reasonably teach that in our docs. Instead, users should read MDN for that stuff. If you were coming from v1, the only page that makes that assumption is the upgrade guide <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;v2-upgrade" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;v2-upgrade</a>. Everything else is either a getting started guide, a tutorial, or reference docs for Caddyfile and JSON config.</div><br/><div id="36055268" class="c"><input type="checkbox" id="c-36055268" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050195">parent</a><span>|</span><a href="#36049276">next</a><span>|</span><label class="collapse" for="c-36055268">[-]</label><label class="expand" for="c-36055268">[2 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t say it was true, I said it just seems like it. As an example: <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;directives&#x2F;php_fastcgi" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;directives&#x2F;php_fastcg...</a> -- it shows the syntax, but nowhere on the page does it tell you WHERE to put it in the config file. Is it top-level? Do I nest it in something else? Keep in mind, most people are starting with a mostly blank file, and zero context about how Caddy works (whether or not they understand how the web works). This page won&#x27;t answer the basic questions of where it is allowed, and neither will the getting-started docs, which tells you to make a json file instead of a Caddyfile but the docs for the thing I looked up doesn&#x27;t look like json (maybe I know this, maybe I don&#x27;t). It&#x27;s all very confusing for someone looking in the docs for a solution and instead has to learn how everything works, whether they want to or not.</div><br/><div id="36055521" class="c"><input type="checkbox" id="c-36055521" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36055268">parent</a><span>|</span><a href="#36049276">next</a><span>|</span><label class="collapse" for="c-36055521">[-]</label><label class="expand" for="c-36055521">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s what this page is for: <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;concepts#structure" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;concepts#structure</a>. You shouldn&#x27;t be reading directive docs before the concepts page. The directives page <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;directives" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;caddyfile&#x2F;directives</a> at the top also tells you where these go, which is where you must have came from to find that directive&#x27;s page in the docs. The information is all there, you just need to read it. Read things in order, don&#x27;t skip steps; don&#x27;t skip steps in the getting started guide either, that defeats the purpose of the tour it gives you.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36049276" class="c"><input type="checkbox" id="c-36049276" checked=""/><div class="controls bullet"><span class="by">nixcraft</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049135">parent</a><span>|</span><a href="#36049475">prev</a><span>|</span><a href="#36051352">next</a><span>|</span><label class="collapse" for="c-36049276">[-]</label><label class="expand" for="c-36049276">[19 more]</label></div><br/><div class="children"><div class="content">Caddy cannot be found in the default repositories of Debian or RHEL. This raises the question of why one would use such a server. Personally, I am hesitant to download a random pre-built executable from Github, even if it is open source. I would much rather use the apt or dnf version, as anything else seems like just another toy server.</div><br/><div id="36050116" class="c"><input type="checkbox" id="c-36050116" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049276">parent</a><span>|</span><a href="#36049999">next</a><span>|</span><label class="collapse" for="c-36050116">[-]</label><label class="expand" for="c-36050116">[4 more]</label></div><br/><div class="children"><div class="content">Debian&#x27;s requirements for packaging of Go software is unreasonable. They expect every single dependency to be individually packaged. The total dependency chain of Caddy ends up being massive. We (the Caddy maintainers) don&#x27;t have time necessary to allocate to a single distribution, to package and maintain every single dependency individually when all we want to do is ship a single static binary (plus some support files).<p>Instead, we ship with our own debian repo, hosting graciously provided by CloudSmith <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;install#debian-ubuntu-raspbian" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;install#debian-ubuntu-raspbian</a>. This is packaged via CD with GitHub Actions, and you can verify the authenticity of the build since it&#x27;s signed by Matt Holt&#x27;s GPG key.<p>For RHEL, it&#x27;s in COPR, and that&#x27;s the best you&#x27;ll ever get for similar reasons <a href="https:&#x2F;&#x2F;copr.fedorainfracloud.org&#x2F;coprs&#x2F;g&#x2F;caddy&#x2F;caddy&#x2F;" rel="nofollow">https:&#x2F;&#x2F;copr.fedorainfracloud.org&#x2F;coprs&#x2F;g&#x2F;caddy&#x2F;caddy&#x2F;</a></div><br/><div id="36050395" class="c"><input type="checkbox" id="c-36050395" checked=""/><div class="controls bullet"><span class="by">m_sahaf</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050116">parent</a><span>|</span><a href="#36050388">next</a><span>|</span><label class="collapse" for="c-36050395">[-]</label><label class="expand" for="c-36050395">[1 more]</label></div><br/><div class="children"><div class="content">Adding to Francis input, the release artifacts (not the .deb packages, which are signed with Matt&#x27;s key) published on GitHub are authenticated with Sigstore tooling[0]. You can verify the artifacts and the .deb packages were not tampered to the byte! The builds are reproducible and verifiable. FUD doesn&#x27;t have any room to loiter.<p>You can also build it from source using the `buildable` source archive artifact that includes all the deps so it can be built in air-gapped machine. Like its sibling artifacts, the source archive is signed, the signature is published, the signing certificate is available, and the checksum is published and also signed. What&#x27;s so concerning?<p>[Disclaimer: Affiliated with Caddy]<p>[0] <a href="https:&#x2F;&#x2F;www.sigstore.dev&#x2F;how-it-works" rel="nofollow">https:&#x2F;&#x2F;www.sigstore.dev&#x2F;how-it-works</a></div><br/></div></div><div id="36050388" class="c"><input type="checkbox" id="c-36050388" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050116">parent</a><span>|</span><a href="#36050395">prev</a><span>|</span><a href="#36049999">next</a><span>|</span><label class="collapse" for="c-36050388">[-]</label><label class="expand" for="c-36050388">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the reasoning behind that  packaging requirement on Debian? Thanks for working on caddy by the way! I find it very neat.</div><br/><div id="36050449" class="c"><input type="checkbox" id="c-36050449" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050388">parent</a><span>|</span><a href="#36049999">next</a><span>|</span><label class="collapse" for="c-36050449">[-]</label><label class="expand" for="c-36050449">[1 more]</label></div><br/><div class="children"><div class="content">Honestly, I don&#x27;t understand it fully. I just know the barrier-to-entry is too high for us to spend time on it. We don&#x27;t have contact with any debian packaging maintainers that would be willing to work with us. But <a href="https:&#x2F;&#x2F;go-team.pages.debian.net&#x2F;packaging.html" rel="nofollow">https:&#x2F;&#x2F;go-team.pages.debian.net&#x2F;packaging.html</a> is one of my main resources for my understanding of their requirements.<p>And that goes without saying that Debian in general tends to release much slower than we&#x27;d be comfortable with. We don&#x27;t want users running outdated and potentially insecure versions of Caddy. Best if users keep up to date by using a first-party installation method where we have control over the distribution pipeline.</div><br/></div></div></div></div></div></div><div id="36049999" class="c"><input type="checkbox" id="c-36049999" checked=""/><div class="controls bullet"><span class="by">xeeeeeeeeeeenu</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049276">parent</a><span>|</span><a href="#36050116">prev</a><span>|</span><a href="#36049730">next</a><span>|</span><label class="collapse" for="c-36049999">[-]</label><label class="expand" for="c-36049999">[10 more]</label></div><br/><div class="children"><div class="content">&gt;Caddy cannot be found in the default repositories of Debian or RHEL.<p>Debian 12 (bookworm) will have it: <a href="https:&#x2F;&#x2F;packages.debian.org&#x2F;bookworm&#x2F;caddy" rel="nofollow">https:&#x2F;&#x2F;packages.debian.org&#x2F;bookworm&#x2F;caddy</a></div><br/><div id="36050285" class="c"><input type="checkbox" id="c-36050285" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049999">parent</a><span>|</span><a href="#36049730">next</a><span>|</span><label class="collapse" for="c-36050285">[-]</label><label class="expand" for="c-36050285">[9 more]</label></div><br/><div class="children"><div class="content">FWIW, that was created by someone not affiliated with the Caddy project, and looks to no longer be maintained (latest is v2.6.4, but it has v2.6.2). So as a maintainer of Caddy, I cannot recommend using that repo.</div><br/><div id="36055220" class="c"><input type="checkbox" id="c-36055220" checked=""/><div class="controls bullet"><span class="by">5e92cb50239222b</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050285">parent</a><span>|</span><a href="#36050499">next</a><span>|</span><label class="collapse" for="c-36055220">[-]</label><label class="expand" for="c-36055220">[2 more]</label></div><br/><div class="children"><div class="content">This comment is so out of touch with how Linux distributions work. This is the package most Debian users probably should be using, unless they absolutely require one of the newer versions.</div><br/><div id="36055554" class="c"><input type="checkbox" id="c-36055554" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36055220">parent</a><span>|</span><a href="#36050499">next</a><span>|</span><label class="collapse" for="c-36055554">[-]</label><label class="expand" for="c-36055554">[1 more]</label></div><br/><div class="children"><div class="content">IMO most users do require the newer versions because we made critical changes to how key things work and perform. I cannot in good faith recommend running anything but the latest release.</div><br/></div></div></div></div><div id="36050499" class="c"><input type="checkbox" id="c-36050499" checked=""/><div class="controls bullet"><span class="by">peppermint_gum</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050285">parent</a><span>|</span><a href="#36055220">prev</a><span>|</span><a href="#36049730">next</a><span>|</span><label class="collapse" for="c-36050499">[-]</label><label class="expand" for="c-36050499">[6 more]</label></div><br/><div class="children"><div class="content">This is the official Debian repository. The package versions are frozen in each major Debian release. However, they may backport security and bug fixes.<p>In practice, in the case of less popular packages, they do this on demand, when someone requests it in the bug tracker.</div><br/><div id="36050574" class="c"><input type="checkbox" id="c-36050574" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050499">parent</a><span>|</span><a href="#36050877">next</a><span>|</span><label class="collapse" for="c-36050574">[-]</label><label class="expand" for="c-36050574">[3 more]</label></div><br/><div class="children"><div class="content">Well, users should know that if they report issues while using releases from that source, we can&#x27;t reasonably help them, and that they should use an official release to get bug and security fixes promptly.<p>I want to emphasize that we have no contact at all with the people maintaining that Debian package, they&#x27;ve never reached out to discuss anything. We&#x27;re absolutely open to that (and they know where to find us, not hard to contact us either on GitHub, Twitter, our forums, here, etc).</div><br/><div id="36055241" class="c"><input type="checkbox" id="c-36055241" checked=""/><div class="controls bullet"><span class="by">5e92cb50239222b</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050574">parent</a><span>|</span><a href="#36050877">next</a><span>|</span><label class="collapse" for="c-36055241">[-]</label><label class="expand" for="c-36055241">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s exactly the same way tens of thousands of other packages have been shipped for <i>decades</i>, including many other web servers like nginx, httpd, lighttpd. No need to paint so much drama over this.<p>They will contact you if the need arises. It&#x27;s the same usual process that has been used since the 90s to great success.</div><br/><div id="36055574" class="c"><input type="checkbox" id="c-36055574" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36055241">parent</a><span>|</span><a href="#36050877">next</a><span>|</span><label class="collapse" for="c-36055574">[-]</label><label class="expand" for="c-36055574">[1 more]</label></div><br/><div class="children"><div class="content">Users will reach out to us first, not to debian, because we&#x27;re easier to reach for help (via social or our forums). If they tell us they&#x27;re using an outdated version which doesn&#x27;t have the fix for what they need, I have no other choice but to tell them to stop using the debian-maintained package, and use our officially maintained package.</div><br/></div></div></div></div></div></div><div id="36050877" class="c"><input type="checkbox" id="c-36050877" checked=""/><div class="controls bullet"><span class="by">Nextgrid</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050499">parent</a><span>|</span><a href="#36050574">prev</a><span>|</span><a href="#36049730">next</a><span>|</span><label class="collapse" for="c-36050877">[-]</label><label class="expand" for="c-36050877">[2 more]</label></div><br/><div class="children"><div class="content">Has anyone actually done any research on how good the backporting of security fixes is in frozen distros?<p>Maybe it&#x27;s pretty good for very popular packages, but how about the more niche ones (and when it comes to Debian I&#x27;m not sure how popular Caddy is in their view)?</div><br/><div id="36053438" class="c"><input type="checkbox" id="c-36053438" checked=""/><div class="controls bullet"><span class="by">bravetraveler</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36050877">parent</a><span>|</span><a href="#36049730">next</a><span>|</span><label class="collapse" for="c-36053438">[-]</label><label class="expand" for="c-36053438">[1 more]</label></div><br/><div class="children"><div class="content">Anecdotally, my experience has been <i>okay</i>... but not great -- you can end up with something Frankenstein would create<p>The versions often feel arbitrary and don&#x27;t line up. For example... I&#x27;ve been watching this for years:<p><a href="https:&#x2F;&#x2F;bugs.launchpad.net&#x2F;ubuntu&#x2F;+source&#x2F;firewalld&#x2F;+bug&#x2F;1835188" rel="nofollow">https:&#x2F;&#x2F;bugs.launchpad.net&#x2F;ubuntu&#x2F;+source&#x2F;firewalld&#x2F;+bug&#x2F;183...</a><p>This is more on the edge case side of things, too. Not really <i>security patch</i> related -- but a consequence of picking&#x2F;choosing component levels<p>With this the firewall can randomly just stop being effective<p>When things aren&#x27;t exactly upstream, the knives you&#x27;re juggling get a little bigger and more unbalanced.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36049730" class="c"><input type="checkbox" id="c-36049730" checked=""/><div class="controls bullet"><span class="by">cpuguy83</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049276">parent</a><span>|</span><a href="#36049999">prev</a><span>|</span><a href="#36049711">next</a><span>|</span><label class="collapse" for="c-36049730">[-]</label><label class="expand" for="c-36049730">[1 more]</label></div><br/><div class="children"><div class="content">While it is convenient to have software prebuilt in a trusted repo, these repos are more about providing toolchains.
If something isn&#x27;t in the repo (or the repo, as it often is, ie out of date) use the toolchain to build what you want.</div><br/></div></div><div id="36049711" class="c"><input type="checkbox" id="c-36049711" checked=""/><div class="controls bullet"><span class="by">jakebasile</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049276">parent</a><span>|</span><a href="#36049730">prev</a><span>|</span><a href="#36049458">next</a><span>|</span><label class="collapse" for="c-36049711">[-]</label><label class="expand" for="c-36049711">[1 more]</label></div><br/><div class="children"><div class="content">Caddy provides their own yum repo and I&#x27;m pretty sure it&#x27;s in EPEL too.</div><br/></div></div><div id="36049458" class="c"><input type="checkbox" id="c-36049458" checked=""/><div class="controls bullet"><span class="by">garbagecoder</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049276">parent</a><span>|</span><a href="#36049711">prev</a><span>|</span><a href="#36051352">next</a><span>|</span><label class="collapse" for="c-36049458">[-]</label><label class="expand" for="c-36049458">[2 more]</label></div><br/><div class="children"><div class="content">Just build it from source?</div><br/><div id="36055259" class="c"><input type="checkbox" id="c-36055259" checked=""/><div class="controls bullet"><span class="by">5e92cb50239222b</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049458">parent</a><span>|</span><a href="#36051352">next</a><span>|</span><label class="collapse" for="c-36055259">[-]</label><label class="expand" for="c-36055259">[1 more]</label></div><br/><div class="children"><div class="content">And then watch it like a hawk for vulnerabilities and rebuild as needed. No thanks.</div><br/></div></div></div></div></div></div><div id="36051352" class="c"><input type="checkbox" id="c-36051352" checked=""/><div class="controls bullet"><span class="by">KomoD</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049135">parent</a><span>|</span><a href="#36049276">prev</a><span>|</span><a href="#36050373">next</a><span>|</span><label class="collapse" for="c-36051352">[-]</label><label class="expand" for="c-36051352">[2 more]</label></div><br/><div class="children"><div class="content">Couldn&#x27;t agree more, I absolutely LOVE Caddy, but the docs were truly awful the last time I had to look, all forums, etc also referenced v1 a lot which was really frustrating.</div><br/><div id="36053770" class="c"><input type="checkbox" id="c-36053770" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36051352">parent</a><span>|</span><a href="#36050373">next</a><span>|</span><label class="collapse" for="c-36053770">[-]</label><label class="expand" for="c-36053770">[1 more]</label></div><br/><div class="children"><div class="content">I think we&#x27;ve improved them a lot since then. A new website is in the works which should improve them even more.</div><br/></div></div></div></div></div></div><div id="36050373" class="c"><input type="checkbox" id="c-36050373" checked=""/><div class="controls bullet"><span class="by">z3t4</span><span>|</span><a href="#36049081">parent</a><span>|</span><a href="#36049135">prev</a><span>|</span><a href="#36049504">next</a><span>|</span><label class="collapse" for="c-36050373">[-]</label><label class="expand" for="c-36050373">[1 more]</label></div><br/><div class="children"><div class="content">Personally I love the nginx configuration, I find it intuitive and simple to work with. I for example use it to proxy traffic to linux network namespace or unix sockets. Nginx also have great performance so I use it to offload SSL&#x2F;TSL connections. It also runs on few resources and I&#x27;ve used it on tiny VPS&#x27; with only 128MB of memory.</div><br/></div></div><div id="36049504" class="c"><input type="checkbox" id="c-36049504" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#36049081">parent</a><span>|</span><a href="#36050373">prev</a><span>|</span><a href="#36049561">next</a><span>|</span><label class="collapse" for="c-36049504">[-]</label><label class="expand" for="c-36049504">[2 more]</label></div><br/><div class="children"><div class="content">Speaking of documentation, there’s this weird edge case where =404 in try_files causes $args to no longer work(!) and I ended up wasting an entire day on it.<p>It’s too bad, I only moved away from caddy because of weird disconnection issues when reverse proxying certain apps.</div><br/><div id="36050214" class="c"><input type="checkbox" id="c-36050214" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049081">root</a><span>|</span><a href="#36049504">parent</a><span>|</span><a href="#36049561">next</a><span>|</span><label class="collapse" for="c-36050214">[-]</label><label class="expand" for="c-36050214">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure I understand. Please write a bug report if you think you found a problem <a href="https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy&#x2F;issues">https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy&#x2F;issues</a></div><br/></div></div></div></div></div></div><div id="36049561" class="c"><input type="checkbox" id="c-36049561" checked=""/><div class="controls bullet"><span class="by">pachico</span><span>|</span><a href="#36049081">prev</a><span>|</span><a href="#36049931">next</a><span>|</span><label class="collapse" for="c-36049561">[-]</label><label class="expand" for="c-36049561">[15 more]</label></div><br/><div class="children"><div class="content">I just wish Nginx had the good will to include decent metrics. The built-in stubs are far from enough.<p>It&#x27;s the main reason why I&#x27;m thinking about migrating everything to Caddy.</div><br/><div id="36049805" class="c"><input type="checkbox" id="c-36049805" checked=""/><div class="controls bullet"><span class="by">capableweb</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36050036">next</a><span>|</span><label class="collapse" for="c-36049805">[-]</label><label class="expand" for="c-36049805">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the issue with doing one FOSS version + one paid version, some things will be gated behind the paid version and probably never end up in the FOSS one, as it drives people to purchase the paid version.<p>In this particular case, the ngx_http_api module offers way more monitoring options but is gated behind nginx Plus.</div><br/><div id="36050742" class="c"><input type="checkbox" id="c-36050742" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36049805">parent</a><span>|</span><a href="#36050036">next</a><span>|</span><label class="collapse" for="c-36050742">[-]</label><label class="expand" for="c-36050742">[1 more]</label></div><br/><div class="children"><div class="content">I think that if there&#x27;s one feature they should put behind Plus, that&#x27;s monitoring.<p>Only &quot;serious&quot; companies need that (as a hobby project maintainer you probably don&#x27;t need it)... and if you really want to make sure you don&#x27;t give them a cent, you can build your own monitoring on top of nginx easily enough.</div><br/></div></div></div></div><div id="36050036" class="c"><input type="checkbox" id="c-36050036" checked=""/><div class="controls bullet"><span class="by">danwee</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36049805">prev</a><span>|</span><a href="#36049974">next</a><span>|</span><label class="collapse" for="c-36050036">[-]</label><label class="expand" for="c-36050036">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m on the same boat. I started to use Nginx for side projects a while ago. When things became a little more serious and I needed decent metrics, my only option was to upgrade to Nginx Plus. So now I&#x27;m learning Caddy.</div><br/></div></div><div id="36049974" class="c"><input type="checkbox" id="c-36049974" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36050036">prev</a><span>|</span><a href="#36051592">next</a><span>|</span><label class="collapse" for="c-36049974">[-]</label><label class="expand" for="c-36049974">[5 more]</label></div><br/><div class="children"><div class="content">Interesting! I’ve been using Caddy for a while and actually recently went back to Nginx just because I am now self hosting PeerTube and there was a config file for Nginx to proxy PeerTube server ready made.<p>But if Caddy can serve metrics which I can then collect with for example Grafana, that’s very interesting!</div><br/><div id="36050237" class="c"><input type="checkbox" id="c-36050237" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36049974">parent</a><span>|</span><a href="#36051592">next</a><span>|</span><label class="collapse" for="c-36050237">[-]</label><label class="expand" for="c-36050237">[4 more]</label></div><br/><div class="children"><div class="content">Yep, Caddy has metrics: <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;metrics" rel="nofollow">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;metrics</a><p>But caveat: we don&#x27;t have maintainers who understand metrics currently, so it&#x27;s nowhere near as good as we&#x27;d hope it to be. Help wanted!</div><br/><div id="36050437" class="c"><input type="checkbox" id="c-36050437" checked=""/><div class="controls bullet"><span class="by">misleading1</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36050237">parent</a><span>|</span><a href="#36051592">next</a><span>|</span><label class="collapse" for="c-36050437">[-]</label><label class="expand" for="c-36050437">[3 more]</label></div><br/><div class="children"><div class="content">Caddy&#x27;s metrics have been disabled for like 9 months because they cause a massive performance penalty<p><a href="https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy&#x2F;issues&#x2F;4644">https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;caddy&#x2F;issues&#x2F;4644</a></div><br/><div id="36050471" class="c"><input type="checkbox" id="c-36050471" checked=""/><div class="controls bullet"><span class="by">francislavoie</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36050437">parent</a><span>|</span><a href="#36051418">next</a><span>|</span><label class="collapse" for="c-36050471">[-]</label><label class="expand" for="c-36050471">[1 more]</label></div><br/><div class="children"><div class="content">HTTP metrics (and only HTTP metrics, not all metrics) were changed to being opt-in, support wasn&#x27;t removed. See my docs link above. But yes, there are performance consideration we&#x27;re not satisfied with, and we need help to get them resolved.</div><br/></div></div><div id="36051418" class="c"><input type="checkbox" id="c-36051418" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36050437">parent</a><span>|</span><a href="#36050471">prev</a><span>|</span><a href="#36051592">next</a><span>|</span><label class="collapse" for="c-36051418">[-]</label><label class="expand" for="c-36051418">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;re not disabled, just off-by-default for now.</div><br/></div></div></div></div></div></div></div></div><div id="36051592" class="c"><input type="checkbox" id="c-36051592" checked=""/><div class="controls bullet"><span class="by">hnwizard</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36049974">prev</a><span>|</span><a href="#36050380">next</a><span>|</span><label class="collapse" for="c-36051592">[-]</label><label class="expand" for="c-36051592">[3 more]</label></div><br/><div class="children"><div class="content">nginx has been a fantastic project ever since its launch with little real competition out there.<p>That said, I&#x27;ve been running it since the early days, on super heavy production loads and never felt the need to have some more &quot;decent&quot; metrics out of it.  I assume you&#x27;re referring to real time metrics here.<p>Most if not everything can be gathered from the logs, which nginx is very flexible with.<p>I fail to understand why some missing metrics in a great product make you think to migrate <i>everything</i> to Caddy?</div><br/><div id="36054604" class="c"><input type="checkbox" id="c-36054604" checked=""/><div class="controls bullet"><span class="by">pachico</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36051592">parent</a><span>|</span><a href="#36054616">next</a><span>|</span><label class="collapse" for="c-36054604">[-]</label><label class="expand" for="c-36054604">[1 more]</label></div><br/><div class="children"><div class="content">Because I use as a gateway for fastcgi and as TLS initiator, mostly.
Nginx doesn&#x27;t allow you to have distinct metrics for both use cases, which is far from ideal.<p>My tests in controlled environments show that caddy is absolutely fine for my workload and has perks that make my life easier. Some have been mentioned in this thread already.<p>Metrics is a must have in our case as we have many things to manage, few people to maintain things and alerts are the only way to grow. For alerts you need metrics.</div><br/></div></div><div id="36054616" class="c"><input type="checkbox" id="c-36054616" checked=""/><div class="controls bullet"><span class="by">pachico</span><span>|</span><a href="#36049561">root</a><span>|</span><a href="#36051592">parent</a><span>|</span><a href="#36054604">prev</a><span>|</span><a href="#36050380">next</a><span>|</span><label class="collapse" for="c-36054616">[-]</label><label class="expand" for="c-36054616">[1 more]</label></div><br/><div class="children"><div class="content">Regarding metrics from logs, you might agree that it&#x27;s now an overkill.</div><br/></div></div></div></div><div id="36050380" class="c"><input type="checkbox" id="c-36050380" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36051592">prev</a><span>|</span><a href="#36054205">next</a><span>|</span><label class="collapse" for="c-36050380">[-]</label><label class="expand" for="c-36050380">[1 more]</label></div><br/><div class="children"><div class="content">Not sure if this would help, but saw it some months ago - <a href="https:&#x2F;&#x2F;github.com&#x2F;open-telemetry&#x2F;opentelemetry-cpp-contrib&#x2F;tree&#x2F;main&#x2F;instrumentation&#x2F;nginx">https:&#x2F;&#x2F;github.com&#x2F;open-telemetry&#x2F;opentelemetry-cpp-contrib&#x2F;...</a> - I&#x27;ve not used nginx myself, so not sure how viable&#x2F;useful this is</div><br/></div></div><div id="36054205" class="c"><input type="checkbox" id="c-36054205" checked=""/><div class="controls bullet"><span class="by">6ak74rfy</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36050380">prev</a><span>|</span><a href="#36049765">next</a><span>|</span><label class="collapse" for="c-36054205">[-]</label><label class="expand" for="c-36054205">[1 more]</label></div><br/><div class="children"><div class="content">How do Nginx and Caddy compare with Traefik in this regard?</div><br/></div></div><div id="36049765" class="c"><input type="checkbox" id="c-36049765" checked=""/><div class="controls bullet"><span class="by">getcrunk</span><span>|</span><a href="#36049561">parent</a><span>|</span><a href="#36054205">prev</a><span>|</span><a href="#36049931">next</a><span>|</span><label class="collapse" for="c-36049765">[-]</label><label class="expand" for="c-36049765">[1 more]</label></div><br/><div class="children"><div class="content">Here here! There are 2 or 3 other goodies they lock behind their paywall which I think would be prudent from them to release so they stop ceeding ground&#x2F;mindshare.</div><br/></div></div></div></div><div id="36049931" class="c"><input type="checkbox" id="c-36049931" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#36049561">prev</a><span>|</span><a href="#36055138">next</a><span>|</span><label class="collapse" for="c-36049931">[-]</label><label class="expand" for="c-36049931">[6 more]</label></div><br/><div class="children"><div class="content">Anyone else used to pronounce it “en-ginks”? It wasn’t until I started working as a web developer that I learned the truth. And it took me a minute to piece together that “engine X” was the same thing.</div><br/><div id="36051133" class="c"><input type="checkbox" id="c-36051133" checked=""/><div class="controls bullet"><span class="by">andersrs</span><span>|</span><a href="#36049931">parent</a><span>|</span><a href="#36054247">next</a><span>|</span><label class="collapse" for="c-36051133">[-]</label><label class="expand" for="c-36051133">[1 more]</label></div><br/><div class="children"><div class="content">I say Engine X. Enjinks is cute. As long as you don&#x27;t say &quot;you-buntu&quot; we can be friends.</div><br/></div></div><div id="36054247" class="c"><input type="checkbox" id="c-36054247" checked=""/><div class="controls bullet"><span class="by">BehindTheMath</span><span>|</span><a href="#36049931">parent</a><span>|</span><a href="#36051133">prev</a><span>|</span><a href="#36052394">next</a><span>|</span><label class="collapse" for="c-36054247">[-]</label><label class="expand" for="c-36054247">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.nginx.com&#x2F;about&#x2F;the-nginx-name&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.nginx.com&#x2F;about&#x2F;the-nginx-name&#x2F;</a></div><br/></div></div><div id="36052394" class="c"><input type="checkbox" id="c-36052394" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#36049931">parent</a><span>|</span><a href="#36054247">prev</a><span>|</span><a href="#36050422">next</a><span>|</span><label class="collapse" for="c-36052394">[-]</label><label class="expand" for="c-36052394">[1 more]</label></div><br/><div class="children"><div class="content">I still do. It&#x27;s hard to force myself to read it as &quot;engine x&quot;; &quot;n-jinks&quot; just looks like the natural way.</div><br/></div></div><div id="36050422" class="c"><input type="checkbox" id="c-36050422" checked=""/><div class="controls bullet"><span class="by">alphabet9000</span><span>|</span><a href="#36049931">parent</a><span>|</span><a href="#36052394">prev</a><span>|</span><a href="#36050641">next</a><span>|</span><label class="collapse" for="c-36050422">[-]</label><label class="expand" for="c-36050422">[1 more]</label></div><br/><div class="children"><div class="content">it will always be &quot;en jinks&quot; to me</div><br/></div></div><div id="36050641" class="c"><input type="checkbox" id="c-36050641" checked=""/><div class="controls bullet"><span class="by">Eumenes</span><span>|</span><a href="#36049931">parent</a><span>|</span><a href="#36050422">prev</a><span>|</span><a href="#36055138">next</a><span>|</span><label class="collapse" for="c-36050641">[-]</label><label class="expand" for="c-36050641">[1 more]</label></div><br/><div class="children"><div class="content">always cute to hear a recruiter pronounce it</div><br/></div></div></div></div><div id="36055138" class="c"><input type="checkbox" id="c-36055138" checked=""/><div class="controls bullet"><span class="by">Neil44</span><span>|</span><a href="#36049931">prev</a><span>|</span><a href="#36050926">next</a><span>|</span><label class="collapse" for="c-36055138">[-]</label><label class="expand" for="c-36055138">[1 more]</label></div><br/><div class="children"><div class="content">Open Litespeed has had HTTP3 for a while now. And supports Apache style configs, rewriterule etc. 
My go to web vps setup at the moment is cyberpanel which sets everything up nice for you.
I used to hand roll everything but life&#x27;s too short these days.</div><br/></div></div><div id="36050926" class="c"><input type="checkbox" id="c-36050926" checked=""/><div class="controls bullet"><span class="by">xfalcox</span><span>|</span><a href="#36055138">prev</a><span>|</span><a href="#36055120">next</a><span>|</span><label class="collapse" for="c-36050926">[-]</label><label class="expand" for="c-36050926">[4 more]</label></div><br/><div class="children"><div class="content">Since OpenSSL will &quot;never&quot; support quic, what is this using? BoringSSL?</div><br/><div id="36051779" class="c"><input type="checkbox" id="c-36051779" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36050926">parent</a><span>|</span><a href="#36055193">next</a><span>|</span><label class="collapse" for="c-36051779">[-]</label><label class="expand" for="c-36051779">[2 more]</label></div><br/><div class="children"><div class="content">Most QUIC implementations I&#x27;ve seen so far indeed use BoringSSL.<p>Not sure about the status quo in NGINX. They had a HTTP&#x2F;3 implementation on Quiche (a Rust lib implementing QUIC, and HTTP&#x2F;3 as a side project, but afik NGINX never used that part, only the QUIC protocol implementation). But after reading a post here I&#x27;m not sure they still use Quiche (and with it BoringSSL). Maybe they have now an own QUIC implementation (with support for other crypto libs). But given QUIC is complex and therefore hard to implement I would actually expect they still base of their HTTP&#x2F;3 efforts on the by now quite popular Quiche library. But I&#x27;m maybe wrong in this regard. Have to look into that.</div><br/><div id="36052937" class="c"><input type="checkbox" id="c-36052937" checked=""/><div class="controls bullet"><span class="by">xfalcox</span><span>|</span><a href="#36050926">root</a><span>|</span><a href="#36051779">parent</a><span>|</span><a href="#36055193">next</a><span>|</span><label class="collapse" for="c-36052937">[-]</label><label class="expand" for="c-36052937">[1 more]</label></div><br/><div class="children"><div class="content">&gt; They had a HTTP&#x2F;3 implementation on Quiche (a Rust lib implementing QUIC, and HTTP&#x2F;3 as a side project<p>AFAIK that was a Cloudflare project, and since then they moved away from nginx due to it&#x27;s stagnation.</div><br/></div></div></div></div><div id="36055193" class="c"><input type="checkbox" id="c-36055193" checked=""/><div class="controls bullet"><span class="by">jedisct1</span><span>|</span><a href="#36050926">parent</a><span>|</span><a href="#36051779">prev</a><span>|</span><a href="#36055120">next</a><span>|</span><label class="collapse" for="c-36055193">[-]</label><label class="expand" for="c-36055193">[1 more]</label></div><br/><div class="children"><div class="content">Or LibreSSL.</div><br/></div></div></div></div><div id="36055120" class="c"><input type="checkbox" id="c-36055120" checked=""/><div class="controls bullet"><span class="by">orangepanda</span><span>|</span><a href="#36050926">prev</a><span>|</span><a href="#36048762">next</a><span>|</span><label class="collapse" for="c-36055120">[-]</label><label class="expand" for="c-36055120">[1 more]</label></div><br/><div class="children"><div class="content">nginx by default adds a version header in the response. I did not expect that nginx.org themselves would be 2 minor versions behind latest.</div><br/></div></div><div id="36048762" class="c"><input type="checkbox" id="c-36048762" checked=""/><div class="controls bullet"><span class="by">nixcraft</span><span>|</span><a href="#36055120">prev</a><span>|</span><a href="#36052187">next</a><span>|</span><label class="collapse" for="c-36048762">[-]</label><label class="expand" for="c-36048762">[3 more]</label></div><br/><div class="children"><div class="content">I guess, now is the ideal time for me to experiment with LXD or Docker images that are based on Alpine Linux or Debian Slim for QUIC support for Nginx.</div><br/><div id="36048911" class="c"><input type="checkbox" id="c-36048911" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#36048762">parent</a><span>|</span><a href="#36051817">next</a><span>|</span><label class="collapse" for="c-36048911">[-]</label><label class="expand" for="c-36048911">[1 more]</label></div><br/><div class="children"><div class="content">Debian Slim all the way. musl is only good when you are building for and testing against musl. Third party software on musl has burnt me enough times to know that sticking to glibc is the way to go unless you like that sort of pain.<p>Footnote: I actually love musl, just for my own software that explicitly targets it and is validated against it.</div><br/></div></div><div id="36051817" class="c"><input type="checkbox" id="c-36051817" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36048762">parent</a><span>|</span><a href="#36048911">prev</a><span>|</span><a href="#36052187">next</a><span>|</span><label class="collapse" for="c-36051817">[-]</label><label class="expand" for="c-36051817">[1 more]</label></div><br/><div class="children"><div class="content">I would strongly avoid Alpine.<p>Most software isn&#x27;t written with Musl in mind! And that shows.<p>You can run in all kinds of extremely hard to debug issues and especially massive performance problems. Stuff may slow down to fractions of the performance comparison to regular Linux distros.<p>If you want maximal small containers go with Distroless.</div><br/></div></div></div></div><div id="36052187" class="c"><input type="checkbox" id="c-36052187" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#36048762">prev</a><span>|</span><a href="#36048874">next</a><span>|</span><label class="collapse" for="c-36052187">[-]</label><label class="expand" for="c-36052187">[1 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;3: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HTTP&#x2F;3" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HTTP&#x2F;3</a><p>QUIC: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;QUIC" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;QUIC</a><p>DoQ: DNS-over-QUIC: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Domain_Name_System#Transport_protocols" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Domain_Name_System#Transport_p...</a><p>RFC9520: DNS over Dedicated QUIC Connections: 
<a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc9250" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc9250</a></div><br/></div></div><div id="36048874" class="c"><input type="checkbox" id="c-36048874" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#36052187">prev</a><span>|</span><a href="#36049140">next</a><span>|</span><label class="collapse" for="c-36048874">[-]</label><label class="expand" for="c-36048874">[1 more]</label></div><br/><div class="children"><div class="content">Any documentation on what parts of HTTP&#x2F;3 are and aren’t supported by this implementation?</div><br/></div></div><div id="36048712" class="c"><input type="checkbox" id="c-36048712" checked=""/><div class="controls bullet"><span class="by">iknowstuff</span><span>|</span><a href="#36049490">prev</a><span>|</span><a href="#36049006">next</a><span>|</span><label class="collapse" for="c-36048712">[-]</label><label class="expand" for="c-36048712">[3 more]</label></div><br/><div class="children"><div class="content">Is there anything like nginx based on hyper?</div><br/><div id="36049246" class="c"><input type="checkbox" id="c-36049246" checked=""/><div class="controls bullet"><span class="by">stusmall</span><span>|</span><a href="#36048712">parent</a><span>|</span><a href="#36050509">next</a><span>|</span><label class="collapse" for="c-36049246">[-]</label><label class="expand" for="c-36049246">[1 more]</label></div><br/><div class="children"><div class="content">While I don&#x27;t think it is hyper based there is this built in rust: <a href="https:&#x2F;&#x2F;www.sozu.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.sozu.io&#x2F;</a><p>I haven&#x27;t used it so I can&#x27;t vouch for the quality.</div><br/></div></div><div id="36050509" class="c"><input type="checkbox" id="c-36050509" checked=""/><div class="controls bullet"><span class="by">0x457</span><span>|</span><a href="#36048712">parent</a><span>|</span><a href="#36049246">prev</a><span>|</span><a href="#36049006">next</a><span>|</span><label class="collapse" for="c-36050509">[-]</label><label class="expand" for="c-36050509">[1 more]</label></div><br/><div class="children"><div class="content">linkerd2 proxy uses hyper, but I don&#x27;t know where exactly.</div><br/></div></div></div></div><div id="36049006" class="c"><input type="checkbox" id="c-36049006" checked=""/><div class="controls bullet"><span class="by">shmoe</span><span>|</span><a href="#36048712">prev</a><span>|</span><a href="#36053177">next</a><span>|</span><label class="collapse" for="c-36049006">[-]</label><label class="expand" for="c-36049006">[10 more]</label></div><br/><div class="children"><div class="content">So this is QUIC, right?</div><br/><div id="36049040" class="c"><input type="checkbox" id="c-36049040" checked=""/><div class="controls bullet"><span class="by">markdog12</span><span>|</span><a href="#36049006">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36049040">[-]</label><label class="expand" for="c-36049040">[7 more]</label></div><br/><div class="children"><div class="content">Well, HTTP 3 is standardized off the initial QUIC implementation (UDP), yes.<p>Update: I guess, technically, HTTP 3 is the protocol built on top of the QUIC protocol.</div><br/><div id="36050284" class="c"><input type="checkbox" id="c-36050284" checked=""/><div class="controls bullet"><span class="by">jupp0r</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36049040">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36050284">[-]</label><label class="expand" for="c-36050284">[6 more]</label></div><br/><div class="children"><div class="content">Exactly, it uses QUIC as the transport layer. You can do more with QUIC, there are beta implementations to use it for WebRTC data channels[1] and there have been experiments to use it for  for WebRTC media transport, for example[2].<p>[1] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;WebRTC_API&#x2F;Using_data_channels" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;WebRTC_API&#x2F;...</a><p>[2] <a href="https:&#x2F;&#x2F;www.w3.org&#x2F;2011&#x2F;04&#x2F;webrtc&#x2F;wiki&#x2F;images&#x2F;6&#x2F;69&#x2F;Media_over_QUIC_At_WebRTC_TPAC_2018.pdf" rel="nofollow">https:&#x2F;&#x2F;www.w3.org&#x2F;2011&#x2F;04&#x2F;webrtc&#x2F;wiki&#x2F;images&#x2F;6&#x2F;69&#x2F;Media_ove...</a></div><br/><div id="36052067" class="c"><input type="checkbox" id="c-36052067" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36050284">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36052067">[-]</label><label class="expand" for="c-36052067">[5 more]</label></div><br/><div class="children"><div class="content">WebRTC? I&#x27;m not sure WebRTC has a bright future.<p>AFAIK nobody ever implemented WebRTC on top of QUIC. The new kid on the block is called WebTransport.<p>WebTransport could be described in short as &quot;WebRTC &#x2F; WebSocket, the good parts&quot;. It&#x27;s way simpler than WebRTC and solves some issues with WebSocket like the lack of low-latency <i>un</i>reliable transport (WebTransport can send Datagrams without having to use a reliable connection channel for that). A big difference to WebRTC is: All the STUN &#x2F; TURN complexity is gone. WebTransport gives you at the end more or less almost &quot;raw&quot; QUIC streams or datagrams. It&#x27;s almost like a socket interface for web user agents, only with all the features of QUIC.<p>Given you have already HTTP&#x2F;3 (which implies you have also QUIC) WebTransport is a pretty simple and slim addition on top:<p><a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;draft-ietf-webtrans-http3&#x2F;" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;draft-ietf-webtrans-ht...</a><p>(The only thing I&#x27;m missing is client authentication. It would be really good to do this in-band, and for example allow to send client certs with the WebTransport CONNECT request. For some reason this was left out on purpose. Only that I did not find out why actually.)<p>What I&#x27;m not sure about is who good WebTransport would be in a P2P scenario. But given libp2p implemented WebTransport it would seem that it&#x27;s good for that also. (So could replace WebRTC completely.)</div><br/><div id="36052246" class="c"><input type="checkbox" id="c-36052246" checked=""/><div class="controls bullet"><span class="by">jackewiehose</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36052067">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36052246">[-]</label><label class="expand" for="c-36052246">[4 more]</label></div><br/><div class="children"><div class="content">&gt; A big difference to WebRTC is: All the STUN &#x2F; TURN complexity is gone<p>but STUN &#x2F; TURN is there for a reason.  I always thought of the P2P scenario as the main use case for WebRTC.</div><br/><div id="36052367" class="c"><input type="checkbox" id="c-36052367" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36052246">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36052367">[-]</label><label class="expand" for="c-36052367">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know about any significant use case of WebRTC in the P2P space. OTOH, like mentioned, libp2p implemented WebTransport. So WT seems to be also adequate for the P2P use case. (No clue about the details there, though. So maybe they had to jump loops to make it happen. But it doesn&#x27;t look like there would be major show stoppers.)</div><br/><div id="36052572" class="c"><input type="checkbox" id="c-36052572" checked=""/><div class="controls bullet"><span class="by">jackewiehose</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36052367">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36052572">[-]</label><label class="expand" for="c-36052572">[2 more]</label></div><br/><div class="children"><div class="content">It looks like STUN&#x2F;TURN can be integrated with QUIC so you don&#x27;t need
additional ports, but I wouldn&#x27;t say &quot;the complexity is gone&quot; ;-)<p><a href="https:&#x2F;&#x2F;w3c.github.io&#x2F;p2p-webtransport&#x2F;" rel="nofollow">https:&#x2F;&#x2F;w3c.github.io&#x2F;p2p-webtransport&#x2F;</a><p>&gt; This specification extends the WebRTC [WEBRTC], ORTC [ORTC] and WebTransport [WEBTRANSPORT] APIs to enable peer-to-peer operation using QUIC [RFC9000]. This specification supports the exchange of arbitrary data with remote peers using NAT-traversal technologies such as ICE, STUN, and TURN. As specified in [RFC7983bis], QUIC can be multiplexed on the same port as RTP, RTCP, DTLS, STUN and TURN, allowing the API defined in this specification to be utilized along with the functionality defined in [WEBRTC] and [ORTC] including communication using audio&#x2F;video media and SCTP data channels.</div><br/><div id="36052855" class="c"><input type="checkbox" id="c-36052855" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36052572">parent</a><span>|</span><a href="#36051108">next</a><span>|</span><label class="collapse" for="c-36052855">[-]</label><label class="expand" for="c-36052855">[1 more]</label></div><br/><div class="children"><div class="content">Oh, that&#x27;s cool! :-D<p>It implements the missing parts on top of WebTransport. I was especially sad that WT doesn&#x27;t do client authentication. You can&#x27;t send credentials with a CONNECT request. But this thingy adds exactly this. Great!<p>Also having some standardized way to open QUIC Streams through NAT sounds nice. (Even I think the proper fix for this issues would just be IPv6.)<p>Frankly it&#x27;s very early days. It&#x27;s not implemented, and not even considered currently.<p>&gt; It is not a W3C Standard nor is it on the W3C Standards Track.<p>But as I&#x27;m currently into implementing a WebTransport lib maybe I should try to add the features form this draft. Would be funny to have a P2P ready WT lib. Only that NAT traversal part I would leave out for now, I guess, as I&#x27;m not sold on the idea that this complexity is strictly needed. NAT just needs to die finally…</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="36051108" class="c"><input type="checkbox" id="c-36051108" checked=""/><div class="controls bullet"><span class="by">superkuh</span><span>|</span><a href="#36049006">parent</a><span>|</span><a href="#36049040">prev</a><span>|</span><a href="#36053177">next</a><span>|</span><label class="collapse" for="c-36051108">[-]</label><label class="expand" for="c-36051108">[2 more]</label></div><br/><div class="children"><div class="content">Essentially. It&#x27;s HTTP semantics on top of QUIC on top of UDP. Google and Microsoft open-washed their implementions designed for mega-corp use cases through the IETF and now it&#x27;s called HTTP&#x2F;3. One special feature of HTTP&#x2F;3 as implemented that&#x27;s really good for for-profit use cases but terrible for human person use cases is that it cannot establish a connection to a non-CA TLS endpoint. That is, you want a random internet visitor to be able to visit your HTTP&#x2F;3 website, you have to get continued approval from a third party incorporated CA. This makes it pretty much useless for things like IoT and human uses at home. But it&#x27;s great for things involving money.</div><br/><div id="36051906" class="c"><input type="checkbox" id="c-36051906" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36049006">root</a><span>|</span><a href="#36051108">parent</a><span>|</span><a href="#36053177">next</a><span>|</span><label class="collapse" for="c-36051906">[-]</label><label class="expand" for="c-36051906">[1 more]</label></div><br/><div class="children"><div class="content">Could you please stop spreading uninformed FUD?<p>&gt; it cannot establish a connection to a non-CA TLS endpoint<p>That&#x27;s plain wrong. Self signed certificates and internal CAs work just fine.<p>The whole point of HTTP&#x2F;3 is: You <i>can&#x27;t establish an unencrypted</i> connection. And that&#x27;s a very good idea!<p>I&#x27;m running at the very moment a HTTP&#x2F;3 development server on this machine here. I did not have to ask anybody for allowance to do so.<p>(Actually I&#x27;m right now building a WebTransport server. WebTransport has even more strict rules for certificates but even there it&#x27;s still possible to connect to an endpoint that uses a self-signed cert that isn&#x27;t signed by any CA cert.)</div><br/></div></div></div></div></div></div><div id="36053177" class="c"><input type="checkbox" id="c-36053177" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#36049006">prev</a><span>|</span><a href="#36055485">next</a><span>|</span><label class="collapse" for="c-36053177">[-]</label><label class="expand" for="c-36053177">[1 more]</label></div><br/><div class="children"><div class="content">now let&#x27;s wait for Chromium&#x27;s proxy support h3</div><br/></div></div><div id="36048826" class="c"><input type="checkbox" id="c-36048826" checked=""/><div class="controls bullet"><span class="by">ghoshbishakh</span><span>|</span><a href="#36055485">prev</a><span>|</span><a href="#36048658">next</a><span>|</span><label class="collapse" for="c-36048826">[-]</label><label class="expand" for="c-36048826">[5 more]</label></div><br/><div class="children"><div class="content">I am ashamed to say that my eyes misread HTTP&#x2F;3 as Web3 for a couple of seconds. For a moment, I was confused as to what Nginx has to do with Web3.</div><br/><div id="36049288" class="c"><input type="checkbox" id="c-36049288" checked=""/><div class="controls bullet"><span class="by">wsatb</span><span>|</span><a href="#36048826">parent</a><span>|</span><a href="#36048922">next</a><span>|</span><label class="collapse" for="c-36049288">[-]</label><label class="expand" for="c-36049288">[3 more]</label></div><br/><div class="children"><div class="content">Considering Web3 is mostly used as a marketing scam, it usually has &quot;to do&quot; with everything.</div><br/><div id="36051128" class="c"><input type="checkbox" id="c-36051128" checked=""/><div class="controls bullet"><span class="by">superkuh</span><span>|</span><a href="#36048826">root</a><span>|</span><a href="#36049288">parent</a><span>|</span><a href="#36048922">next</a><span>|</span><label class="collapse" for="c-36051128">[-]</label><label class="expand" for="c-36051128">[2 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;3 is a Google&#x2F;MS open-washing scam. They&#x27;ve successfully pushed a protocol designed entirely for large corporate use cases as a general HTTP version which is supposed to be used by human persons as well as corporate persons (entities). Big surprise, it&#x27;s terrible for human person use cases.</div><br/><div id="36052097" class="c"><input type="checkbox" id="c-36052097" checked=""/><div class="controls bullet"><span class="by">still_grokking</span><span>|</span><a href="#36048826">root</a><span>|</span><a href="#36051128">parent</a><span>|</span><a href="#36048922">next</a><span>|</span><label class="collapse" for="c-36052097">[-]</label><label class="expand" for="c-36052097">[1 more]</label></div><br/><div class="children"><div class="content">Even more FUD form you?<p>What&#x27;s your problem? Don&#x27;t you just like that it&#x27;s binary? Or is this something else?</div><br/></div></div></div></div></div></div><div id="36048922" class="c"><input type="checkbox" id="c-36048922" checked=""/><div class="controls bullet"><span class="by">meerita</span><span>|</span><a href="#36048826">parent</a><span>|</span><a href="#36049288">prev</a><span>|</span><a href="#36048658">next</a><span>|</span><label class="collapse" for="c-36048922">[-]</label><label class="expand" for="c-36048922">[1 more]</label></div><br/><div class="children"><div class="content">We are two.</div><br/></div></div></div></div><div id="36048658" class="c"><input type="checkbox" id="c-36048658" checked=""/><div class="controls bullet"><span class="by">compilator1</span><span>|</span><a href="#36048826">prev</a><span>|</span><label class="collapse" for="c-36048658">[-]</label><label class="expand" for="c-36048658">[11 more]</label></div><br/><div class="children"><div class="content">Only .htaccess support is missing from nginx. Good web server.</div><br/><div id="36048809" class="c"><input type="checkbox" id="c-36048809" checked=""/><div class="controls bullet"><span class="by">mtmail</span><span>|</span><a href="#36048658">parent</a><span>|</span><a href="#36048868">next</a><span>|</span><label class="collapse" for="c-36048809">[-]</label><label class="expand" for="c-36048809">[6 more]</label></div><br/><div class="children"><div class="content">Related (opinionated) <a href="https:&#x2F;&#x2F;www.nginx.com&#x2F;resources&#x2F;wiki&#x2F;start&#x2F;topics&#x2F;examples&#x2F;likeapache-htaccess&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.nginx.com&#x2F;resources&#x2F;wiki&#x2F;start&#x2F;topics&#x2F;examples&#x2F;l...</a> &quot;Stop using .htaccess. It’s horrible for performance. NGINX is designed to be efficient&quot;</div><br/><div id="36049265" class="c"><input type="checkbox" id="c-36049265" checked=""/><div class="controls bullet"><span class="by">networked</span><span>|</span><a href="#36048658">root</a><span>|</span><a href="#36048809">parent</a><span>|</span><a href="#36049587">next</a><span>|</span><label class="collapse" for="c-36049265">[-]</label><label class="expand" for="c-36049265">[3 more]</label></div><br/><div class="children"><div class="content"><i>.htaccess</i> doesn&#x27;t have to affect performance; this is more of a historical artifact. With an HTTP server expecting a read-only site root, you could only read every <i>.htaccess</i> once, when you replaced the site root filesystem with a new version. A user could still see a read-write filesystem, only with a &quot;save&quot; button (command, etc.) that created and mounted a new read-only site root.<p>While it is a performance and security burden, people reject .htaccess is too readily. It has enabled users who aren&#x27;t quite programmers to assemble sites out of web applications and components that live in different subdirectories. It has clear value. (Not that I think nginx should implement it.)</div><br/><div id="36050065" class="c"><input type="checkbox" id="c-36050065" checked=""/><div class="controls bullet"><span class="by">SahAssar</span><span>|</span><a href="#36048658">root</a><span>|</span><a href="#36049265">parent</a><span>|</span><a href="#36049407">next</a><span>|</span><label class="collapse" for="c-36050065">[-]</label><label class="expand" for="c-36050065">[1 more]</label></div><br/><div class="children"><div class="content">&gt; With an HTTP server expecting a read-only site root, you could only read every .htaccess once, when you replaced the site root filesystem with a new version<p>In that case you would still need some way to trigger a reload of the htaccess, right?<p>If so, is there a usability difference to just including nginx configs on the same locations?</div><br/></div></div><div id="36049407" class="c"><input type="checkbox" id="c-36049407" checked=""/><div class="controls bullet"><span class="by">bandrami</span><span>|</span><a href="#36048658">root</a><span>|</span><a href="#36049265">parent</a><span>|</span><a href="#36050065">prev</a><span>|</span><a href="#36049587">next</a><span>|</span><label class="collapse" for="c-36049407">[-]</label><label class="expand" for="c-36049407">[1 more]</label></div><br/><div class="children"><div class="content">I think the bigger issue is that the use case .htaccess was designed for (multiple users sharing a single physical server) just isn&#x27;t really a thing anymore AFAIK. If you&#x27;re just managing rules in your own container somewhere, there&#x27;s no sense keeping the logic in multiple places.</div><br/></div></div></div></div><div id="36049587" class="c"><input type="checkbox" id="c-36049587" checked=""/><div class="controls bullet"><span class="by">foverzar</span><span>|</span><a href="#36048658">root</a><span>|</span><a href="#36048809">parent</a><span>|</span><a href="#36049265">prev</a><span>|</span><a href="#36048868">next</a><span>|</span><label class="collapse" for="c-36049587">[-]</label><label class="expand" for="c-36049587">[2 more]</label></div><br/><div class="children"><div class="content">&gt; This happens for EVERY request.<p>It doesn&#x27;t need to, though.<p>These days you only need .htaccess for compatibility with old PHP apps. Stacking another instance of Apache on top feels bloated.</div><br/><div id="36050727" class="c"><input type="checkbox" id="c-36050727" checked=""/><div class="controls bullet"><span class="by">piperswe</span><span>|</span><a href="#36048658">root</a><span>|</span><a href="#36049587">parent</a><span>|</span><a href="#36048868">next</a><span>|</span><label class="collapse" for="c-36050727">[-]</label><label class="expand" for="c-36050727">[1 more]</label></div><br/><div class="children"><div class="content">For those old PHP apps, you can probably convert the .htaccess into nginx config.</div><br/></div></div></div></div></div></div><div id="36048868" class="c"><input type="checkbox" id="c-36048868" checked=""/><div class="controls bullet"><span class="by">whalesalad</span><span>|</span><a href="#36048658">parent</a><span>|</span><a href="#36048809">prev</a><span>|</span><a href="#36048843">next</a><span>|</span><label class="collapse" for="c-36048868">[-]</label><label class="expand" for="c-36048868">[1 more]</label></div><br/><div class="children"><div class="content">2006 called and would like you to come back</div><br/></div></div><div id="36048843" class="c"><input type="checkbox" id="c-36048843" checked=""/><div class="controls bullet"><span class="by">minusf</span><span>|</span><a href="#36048658">parent</a><span>|</span><a href="#36048868">prev</a><span>|</span><a href="#36051704">next</a><span>|</span><label class="collapse" for="c-36048843">[-]</label><label class="expand" for="c-36048843">[2 more]</label></div><br/><div class="children"><div class="content">.htaccess is self inflicted pain, no need to downvote :)</div><br/><div id="36048996" class="c"><input type="checkbox" id="c-36048996" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#36048658">root</a><span>|</span><a href="#36048843">parent</a><span>|</span><a href="#36051704">next</a><span>|</span><label class="collapse" for="c-36048996">[-]</label><label class="expand" for="c-36048996">[1 more]</label></div><br/><div class="children"><div class="content">nginx conf is self-inflicted pain...</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>