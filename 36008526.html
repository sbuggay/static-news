<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684573246943" as="style"/><link rel="stylesheet" href="styles.css?v=1684573246943"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://axleos.com/">Axle OS</a> <span class="domain">(<a href="https://axleos.com">axleos.com</a>)</span></div><div class="subtext"><span>mmphosis</span> | <span>17 comments</span></div><br/><div><div id="36009693" class="c"><input type="checkbox" id="c-36009693" checked=""/><div class="controls bullet"><span class="by">ksaj</span><span>|</span><a href="#36009308">next</a><span>|</span><label class="collapse" for="c-36009693">[-]</label><label class="expand" for="c-36009693">[1 more]</label></div><br/><div class="children"><div class="content">And it runs Doom. Very important feature.<p>I like how you&#x27;ve given the desktop a unique look. Doesn&#x27;t look like it&#x27;s trying to clone anything in particular.</div><br/></div></div><div id="36009308" class="c"><input type="checkbox" id="c-36009308" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#36009693">prev</a><span>|</span><a href="#36009332">next</a><span>|</span><label class="collapse" for="c-36009308">[-]</label><label class="expand" for="c-36009308">[5 more]</label></div><br/><div class="children"><div class="content">This is super cool!<p>I’ve had an idea I’ve been wanting to build into an OS for ages - where we use versions, message passing and structured patches to pass information between the kernel and application processes. So an application can subscribe to a file &#x2F; USB device state &#x2F; list of running processes &#x2F; anything using a common, standard API. But it sounds really daunting to try and hack something like into the Linux kernel or something in one go.<p>If I want to experiment with something like this, what do you recommend? How hard would it be to do something like that in a hobby kernel like Axle?</div><br/><div id="36010164" class="c"><input type="checkbox" id="c-36010164" checked=""/><div class="controls bullet"><span class="by">codyd51</span><span>|</span><a href="#36009308">parent</a><span>|</span><a href="#36010014">next</a><span>|</span><label class="collapse" for="c-36010164">[-]</label><label class="expand" for="c-36010164">[1 more]</label></div><br/><div class="children"><div class="content">Hi, author here!<p>Thanks for the kind words! I&#x27;ll echo rajeevk&#x27;s recommendation: the OSDev wiki is full of useful documentation and guides for setting up a bare-metal toolchain. There&#x27;s also a community forum with a wealth of knowledge just waiting to be read.<p>In terms of boots on the ground, I remember once seeing a mantra from someone on the OSDev forums that went something like this: building an x86 OS is first about getting the CPU into a usable state, then about getting as far away from it as possible. This is really true! There&#x27;s a lot of work to do to set up the features that any modern environment needs as a baseline: paging, segmentation, interrupt descriptors, etc, but once you&#x27;re done with all that you&#x27;re free to roam in the design space and build whatever you like, however you imagine, building abstractions and then abstractions on top of those.<p>I&#x27;d liken the early stages of OS development to a tech tree in a video game: you need serial output so that you can debug your kernel. You need to be able to allocate memory so that you can create pixel buffers, then need drawing primitives to fill them up. You need processes, and a scheduler to coordinate them. Every new feature you add opens up a myriad of possibilities that weren&#x27;t there before, and although many things have a serial list of dependencies, there&#x27;s always so much to do that you can just focus on whatever feels particularly inspiring to you at any given time. It&#x27;s really a lot of fun.<p>axle also uses structured messages for making requests to the kernel, as well as everything else. 
Here&#x27;s an example of some structured requests that can be sent to the kernel: <a href="https:&#x2F;&#x2F;github.com&#x2F;codyd51&#x2F;axle&#x2F;blob&#x2F;paging-demo&#x2F;kernel&#x2F;kernel&#x2F;util&#x2F;amc&#x2F;core_commands.h">https:&#x2F;&#x2F;github.com&#x2F;codyd51&#x2F;axle&#x2F;blob&#x2F;paging-demo&#x2F;kernel&#x2F;kern...</a>. 
Here&#x27;s some structured data that an application (in this case, the window manager) uses to interact with other apps: <a href="https:&#x2F;&#x2F;github.com&#x2F;codyd51&#x2F;axle&#x2F;blob&#x2F;paging-demo&#x2F;rust_programs&#x2F;awm_messages&#x2F;src&#x2F;lib.rs">https:&#x2F;&#x2F;github.com&#x2F;codyd51&#x2F;axle&#x2F;blob&#x2F;paging-demo&#x2F;rust_progra...</a><p>All the best, and feel free to reach out to me as well!</div><br/></div></div><div id="36010014" class="c"><input type="checkbox" id="c-36010014" checked=""/><div class="controls bullet"><span class="by">rajeevk</span><span>|</span><a href="#36009308">parent</a><span>|</span><a href="#36010164">prev</a><span>|</span><a href="#36009991">next</a><span>|</span><label class="collapse" for="c-36010014">[-]</label><label class="expand" for="c-36010014">[1 more]</label></div><br/><div class="children"><div class="content">There are a lot of resources here in case you want to write a kernel from scratch. <a href="https:&#x2F;&#x2F;wiki.osdev.org&#x2F;Main_Page" rel="nofollow">https:&#x2F;&#x2F;wiki.osdev.org&#x2F;Main_Page</a><p>I wrote a unix-like kernel from scratch long back. It was not a fully functional unix but had a lot of components ready to the extent it would provide a command line interfaceI from which you can run commands like ls, cat etc by loading elf executables.<p>I would highly recommend to read this tutorial <a href="http:&#x2F;&#x2F;www.osdever.net&#x2F;bkerndev&#x2F;Docs&#x2F;title.htm" rel="nofollow">http:&#x2F;&#x2F;www.osdever.net&#x2F;bkerndev&#x2F;Docs&#x2F;title.htm</a><p>Feel free to reach out to me (email in my profile page) if you want to discuss the topic with me.</div><br/></div></div><div id="36009991" class="c"><input type="checkbox" id="c-36009991" checked=""/><div class="controls bullet"><span class="by">ww520</span><span>|</span><a href="#36009308">parent</a><span>|</span><a href="#36010014">prev</a><span>|</span><a href="#36009597">next</a><span>|</span><label class="collapse" for="c-36009991">[-]</label><label class="expand" for="c-36009991">[1 more]</label></div><br/><div class="children"><div class="content">Linux exposes system information like processes and devices in the psuedo file system hosted at the mount point &#x2F;proc.  Any user mode programs can use the standard file IO API to access them.  Some of the &quot;files&quot; like &#x2F;proc&#x2F;self&#x2F;mounts are pollable, i.e. a program can use blocking select to wait for changes like when a new file system has been mounted.</div><br/></div></div><div id="36009597" class="c"><input type="checkbox" id="c-36009597" checked=""/><div class="controls bullet"><span class="by">blown_gasket</span><span>|</span><a href="#36009308">parent</a><span>|</span><a href="#36009991">prev</a><span>|</span><a href="#36009332">next</a><span>|</span><label class="collapse" for="c-36009597">[-]</label><label class="expand" for="c-36009597">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been pondering this for a moment and if I were to write an application for such a system I don&#x27;t think I&#x27;d enjoy it. If you want to pass information from the kernel and bubble that all the way to the application to do something with it, I would think you now have to write signal handling in your application.</div><br/></div></div></div></div><div id="36009332" class="c"><input type="checkbox" id="c-36009332" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#36009308">prev</a><span>|</span><a href="#36009924">next</a><span>|</span><label class="collapse" for="c-36009332">[-]</label><label class="expand" for="c-36009332">[1 more]</label></div><br/><div class="children"><div class="content">See also:<p><i>I wrote a GameBoy emulator for my hobby OS (axleos.com)</i><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36004553" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36004553</a> (13 comments)</div><br/></div></div><div id="36009924" class="c"><input type="checkbox" id="c-36009924" checked=""/><div class="controls bullet"><span class="by">unixhero</span><span>|</span><a href="#36009332">prev</a><span>|</span><a href="#36009323">next</a><span>|</span><label class="collapse" for="c-36009924">[-]</label><label class="expand" for="c-36009924">[2 more]</label></div><br/><div class="children"><div class="content">I love the picture of a woman, to show off the window manager&#x2F;gui. Very 1990s :)</div><br/><div id="36009926" class="c"><input type="checkbox" id="c-36009926" checked=""/><div class="controls bullet"><span class="by">throwme_123</span><span>|</span><a href="#36009924">parent</a><span>|</span><a href="#36009323">next</a><span>|</span><label class="collapse" for="c-36009926">[-]</label><label class="expand" for="c-36009926">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Lenna" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Lenna</a><p>Edit: Maybe someone should edit the Wikipedia intro that overly insists on very modern issues on gender. Lena herself happily participated to several research conferences on image processing:
<a href="https:&#x2F;&#x2F;www.icip2015.org&#x2F;banquet.html" rel="nofollow">https:&#x2F;&#x2F;www.icip2015.org&#x2F;banquet.html</a></div><br/></div></div></div></div><div id="36009323" class="c"><input type="checkbox" id="c-36009323" checked=""/><div class="controls bullet"><span class="by">wilg</span><span>|</span><a href="#36009924">prev</a><span>|</span><a href="#36009631">next</a><span>|</span><label class="collapse" for="c-36009323">[-]</label><label class="expand" for="c-36009323">[1 more]</label></div><br/><div class="children"><div class="content">I love that hobby OSes are a thing!</div><br/></div></div><div id="36009631" class="c"><input type="checkbox" id="c-36009631" checked=""/><div class="controls bullet"><span class="by">CrampusDestrus</span><span>|</span><a href="#36009323">prev</a><span>|</span><a href="#36009707">next</a><span>|</span><label class="collapse" for="c-36009631">[-]</label><label class="expand" for="c-36009631">[4 more]</label></div><br/><div class="children"><div class="content">Why is it always something Unix-like?<p>It&#x27;s a hobby project! Be bold and creative and make something nobody has ever seen!</div><br/><div id="36010196" class="c"><input type="checkbox" id="c-36010196" checked=""/><div class="controls bullet"><span class="by">codyd51</span><span>|</span><a href="#36009631">parent</a><span>|</span><a href="#36009801">next</a><span>|</span><label class="collapse" for="c-36010196">[-]</label><label class="expand" for="c-36010196">[2 more]</label></div><br/><div class="children"><div class="content">Unix-like is definitely a misnomer, and I&#x27;ve gone ahead and removed it from the home page. It might&#x27;ve been true many years ago, but it&#x27;s no longer the case.<p>axle is fundamentally organised around structured messages. This mechanism is used both for interaction between userspace applications, and for nearly all interaction between kernel and userspace.<p>For example, creating a process, allocating virtual memory regions, profiling the system and registering process hooks, are all just special messages that are sent to the kernel, rather than to another userspace app. Want to transmit a packet? If you have the rights, send a message to the NIC. Want to create a window on the desktop, or update its contents? Send a message to the window manager. It&#x27;ll send some messages back to you when the user interacts with your content. The GUI toolkits use custom idioms. It&#x27;s certainly true that axle reuses some common ideas (like featuring a desktop environment, and a process model), but I&#x27;m happy to go my own way from there!<p>It&#x27;s also true, as pjmlp mentioned, that some level of POSIX compatibility is necessary if you want to run external software, which I certainly do! DOOM, for example, requires read() and write(), among other common syscalls. If you want to run, say, GCC, you need fork().</div><br/><div id="36010357" class="c"><input type="checkbox" id="c-36010357" checked=""/><div class="controls bullet"><span class="by">ianai</span><span>|</span><a href="#36009631">root</a><span>|</span><a href="#36010196">parent</a><span>|</span><a href="#36009801">next</a><span>|</span><label class="collapse" for="c-36010357">[-]</label><label class="expand" for="c-36010357">[1 more]</label></div><br/><div class="children"><div class="content">Sounds very similar to objective-c.</div><br/></div></div></div></div><div id="36009801" class="c"><input type="checkbox" id="c-36009801" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36009631">parent</a><span>|</span><a href="#36010196">prev</a><span>|</span><a href="#36009707">next</a><span>|</span><label class="collapse" for="c-36009801">[-]</label><label class="expand" for="c-36009801">[1 more]</label></div><br/><div class="children"><div class="content">Sadly I can only upvote once.<p>We need new BeOs, Inferno, Xerox like workstations,...<p>Naturally the answer to why is clear, reuse existing UNIX software.<p>However Apple and Google OSes also show that one can innovate, even at the bottom there is an UNIX like kernel.</div><br/></div></div></div></div><div id="36009707" class="c"><input type="checkbox" id="c-36009707" checked=""/><div class="controls bullet"><span class="by">ugh123</span><span>|</span><a href="#36009631">prev</a><span>|</span><a href="#36010188">next</a><span>|</span><label class="collapse" for="c-36009707">[-]</label><label class="expand" for="c-36009707">[1 more]</label></div><br/><div class="children"><div class="content">Amazing work!</div><br/></div></div></div></div></div></div></div></body></html>