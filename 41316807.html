<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724490066257" as="style"/><link rel="stylesheet" href="styles.css?v=1724490066257"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://purplesyringa.moe/blog/i-sped-up-serde-json-strings-by-20-percent/">I sped up serde_json strings by 20%</a> <span class="domain">(<a href="https://purplesyringa.moe">purplesyringa.moe</a>)</span></div><div class="subtext"><span>purplesyringa</span> | <span>56 comments</span></div><br/><div><div id="41334545" class="c"><input type="checkbox" id="c-41334545" checked=""/><div class="controls bullet"><span class="by">Sytten</span><span>|</span><a href="#41333805">next</a><span>|</span><label class="collapse" for="c-41334545">[-]</label><label class="expand" for="c-41334545">[4 more]</label></div><br/><div class="children"><div class="content">The utf-8 tricks make me very nervous since I have seen too many attacks with parser confusion. I for with serde for correctness not speed. I hope this was fuzzed all the way with a bunch of invalid utf-8 strings.</div><br/><div id="41334966" class="c"><input type="checkbox" id="c-41334966" checked=""/><div class="controls bullet"><span class="by">dwattttt</span><span>|</span><a href="#41334545">parent</a><span>|</span><a href="#41335164">next</a><span>|</span><label class="collapse" for="c-41334966">[-]</label><label class="expand" for="c-41334966">[1 more]</label></div><br/><div class="children"><div class="content">Luckily utf-8 structure is _very_ trivial compared to the average parser. Not to say there can&#x27;t be bugs, but that the internal states of a parser shouldn&#x27;t be large, and can be exhaustively tested.</div><br/></div></div><div id="41335164" class="c"><input type="checkbox" id="c-41335164" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#41334545">parent</a><span>|</span><a href="#41334966">prev</a><span>|</span><a href="#41336420">next</a><span>|</span><label class="collapse" for="c-41335164">[-]</label><label class="expand" for="c-41335164">[1 more]</label></div><br/><div class="children"><div class="content">This is the sort of space where I’d like to see a fuzzer.</div><br/></div></div><div id="41336420" class="c"><input type="checkbox" id="c-41336420" checked=""/><div class="controls bullet"><span class="by">hsbauauvhabzb</span><span>|</span><a href="#41334545">parent</a><span>|</span><a href="#41335164">prev</a><span>|</span><a href="#41333805">next</a><span>|</span><label class="collapse" for="c-41336420">[-]</label><label class="expand" for="c-41336420">[1 more]</label></div><br/><div class="children"><div class="content">Any bugs you can point to that come to mind of this class?</div><br/></div></div></div></div><div id="41333805" class="c"><input type="checkbox" id="c-41333805" checked=""/><div class="controls bullet"><span class="by">spense</span><span>|</span><a href="#41334545">prev</a><span>|</span><a href="#41333979">next</a><span>|</span><label class="collapse" for="c-41333805">[-]</label><label class="expand" for="c-41333805">[3 more]</label></div><br/><div class="children"><div class="content">awesome that serde moves so quickly. i just ran across simdutf8 and realized the pr for simd-enabled uft8 parsing is coming up on 5 years:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;rust-lang&#x2F;rust&#x2F;issues&#x2F;68455">https:&#x2F;&#x2F;github.com&#x2F;rust-lang&#x2F;rust&#x2F;issues&#x2F;68455</a></div><br/><div id="41333989" class="c"><input type="checkbox" id="c-41333989" checked=""/><div class="controls bullet"><span class="by">38</span><span>|</span><a href="#41333805">parent</a><span>|</span><a href="#41333979">next</a><span>|</span><label class="collapse" for="c-41333989">[-]</label><label class="expand" for="c-41333989">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;Poe&#x27;s_law" rel="nofollow">https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;Poe&#x27;s_law</a></div><br/><div id="41335817" class="c"><input type="checkbox" id="c-41335817" checked=""/><div class="controls bullet"><span class="by">fyrn_</span><span>|</span><a href="#41333805">root</a><span>|</span><a href="#41333989">parent</a><span>|</span><a href="#41333979">next</a><span>|</span><label class="collapse" for="c-41335817">[-]</label><label class="expand" for="c-41335817">[1 more]</label></div><br/><div class="children"><div class="content">The parent is comparing the speed of Rust std improvement to the faster pace of Serde.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>