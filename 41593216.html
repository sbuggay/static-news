<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726822877095" as="style"/><link rel="stylesheet" href="styles.css?v=1726822877095"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://playground.numscript.org/">Show HN: Numscript, a declarative language to model financial transactions</a> <span class="domain">(<a href="https://playground.numscript.org">playground.numscript.org</a>)</span></div><div class="subtext"><span>superzamp</span> | <span>41 comments</span></div><br/><div><div id="41594311" class="c"><input type="checkbox" id="c-41594311" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#41599796">next</a><span>|</span><label class="collapse" for="c-41594311">[-]</label><label class="expand" for="c-41594311">[8 more]</label></div><br/><div class="children"><div class="content">How would this handle Canadian guidelines for dealing with cents in cash, where you round to the nearest 5c [1]?<p><pre><code>    Amounts ending in 1 cent and 2 cents are rounded down to the nearest 10 cents;
    Amounts ending in 3 cents and 4 cents are rounded up to the nearest 5 cents;
    Amounts ending in 6 cents and 7 cents are rounded down to the nearest 5 cents;
    Amounts ending in 8 cents and 9 cents are rounded up to the nearest 10 cents;
    Amounts ending in 0 cent and 5 cents remain unchanged.
</code></pre>
EDIT: I think if you send 12 cents,<p><pre><code>    send [CADCASH&#x2F;2 12] ( source = @user1 destination = @user2 )
</code></pre>
It should result in sending 10 cents.<p><pre><code>    &quot;postings&quot;: [{&quot;source&quot;: &quot;user1&quot;,
                  &quot;destination&quot;: &quot;user2&quot;,
                  &quot;amount&quot;: 10,
                  &quot;asset&quot;: &quot;CADCASH&#x2F;2&quot;}]
</code></pre>
Can this happen?<p>[1] <a href="https:&#x2F;&#x2F;www.canada.ca&#x2F;en&#x2F;revenue-agency&#x2F;programs&#x2F;about-canada-revenue-agency-cra&#x2F;phasing-penny.html" rel="nofollow">https:&#x2F;&#x2F;www.canada.ca&#x2F;en&#x2F;revenue-agency&#x2F;programs&#x2F;about-canad...</a></div><br/><div id="41595174" class="c"><input type="checkbox" id="c-41595174" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41594311">parent</a><span>|</span><a href="#41595633">next</a><span>|</span><label class="collapse" for="c-41595174">[-]</label><label class="expand" for="c-41595174">[3 more]</label></div><br/><div class="children"><div class="content">Well that&#x27;s definitely a good puzzle. I&#x27;ve tried to model it for a bit, but it indeed looks like we&#x27;d need to add something to the language to make it possible at all! Thanks for bringing this up.</div><br/><div id="41595230" class="c"><input type="checkbox" id="c-41595230" checked=""/><div class="controls bullet"><span class="by">fallat</span><span>|</span><a href="#41594311">root</a><span>|</span><a href="#41595174">parent</a><span>|</span><a href="#41595633">next</a><span>|</span><label class="collapse" for="c-41595230">[-]</label><label class="expand" for="c-41595230">[2 more]</label></div><br/><div class="children"><div class="content">Same thing with income tax brackets. You need conditional logic.</div><br/><div id="41595344" class="c"><input type="checkbox" id="c-41595344" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41594311">root</a><span>|</span><a href="#41595230">parent</a><span>|</span><a href="#41595633">next</a><span>|</span><label class="collapse" for="c-41595344">[-]</label><label class="expand" for="c-41595344">[1 more]</label></div><br/><div class="children"><div class="content">For this particular case, I would say that tax-brackets sort of logic can be expressed in the destination block with ordered destinations.<p>For example, you could have something like this:<p><pre><code>    send [USD&#x2F;2 *] (
      source = @users:1234
      destination = {
        &#x2F;&#x2F; first $1000 are taxed at 10%
        max [USD&#x2F;2 100000] to {
          10% to @taxes
          remaining kept
        }
        &#x2F;&#x2F; Anything above that is, taxed at 20%
        remaining to {
          20% to @taxes
          remaining kept
        }
      }
    )
</code></pre>
(You can test it on the playground, you&#x27;ll just want to feed the &quot;users:1234&quot; account with an initial balance in the input section)</div><br/></div></div></div></div></div></div><div id="41595633" class="c"><input type="checkbox" id="c-41595633" checked=""/><div class="controls bullet"><span class="by">euroderf</span><span>|</span><a href="#41594311">parent</a><span>|</span><a href="#41595174">prev</a><span>|</span><a href="#41597769">next</a><span>|</span><label class="collapse" for="c-41595633">[-]</label><label class="expand" for="c-41595633">[3 more]</label></div><br/><div class="children"><div class="content">The rules listed (1,2,6,7 round down; 3,4,8,9 round up). AFAIK these are also the official Eurozone cash rules for countries that choose not to circulate 1 and 2 eurocent coins. (Altho of course, electronic transactions are exact to the penny.) So you might want to cover this use case.</div><br/><div id="41599599" class="c"><input type="checkbox" id="c-41599599" checked=""/><div class="controls bullet"><span class="by">o-o-</span><span>|</span><a href="#41594311">root</a><span>|</span><a href="#41595633">parent</a><span>|</span><a href="#41597769">next</a><span>|</span><label class="collapse" for="c-41599599">[-]</label><label class="expand" for="c-41599599">[2 more]</label></div><br/><div class="children"><div class="content">So basically Math.round((x*20))&#x2F;20?</div><br/><div id="41600076" class="c"><input type="checkbox" id="c-41600076" checked=""/><div class="controls bullet"><span class="by">Silphendio</span><span>|</span><a href="#41594311">root</a><span>|</span><a href="#41599599">parent</a><span>|</span><a href="#41597769">next</a><span>|</span><label class="collapse" for="c-41600076">[-]</label><label class="expand" for="c-41600076">[1 more]</label></div><br/><div class="children"><div class="content">Shouldn&#x27;t it be `round(x&#x2F;5)*5` ?</div><br/></div></div></div></div></div></div><div id="41597769" class="c"><input type="checkbox" id="c-41597769" checked=""/><div class="controls bullet"><span class="by">wombatpm</span><span>|</span><a href="#41594311">parent</a><span>|</span><a href="#41595633">prev</a><span>|</span><a href="#41599796">next</a><span>|</span><label class="collapse" for="c-41597769">[-]</label><label class="expand" for="c-41597769">[1 more]</label></div><br/><div class="children"><div class="content">I’m assuming there are guidelines as to when this conversion happens and how often. Must make itemized invoices lots of fun. Specially when you have returns or cancellations</div><br/></div></div></div></div><div id="41599796" class="c"><input type="checkbox" id="c-41599796" checked=""/><div class="controls bullet"><span class="by">throwaway81523</span><span>|</span><a href="#41594311">prev</a><span>|</span><a href="#41599211">next</a><span>|</span><label class="collapse" for="c-41599796">[-]</label><label class="expand" for="c-41599796">[1 more]</label></div><br/><div class="children"><div class="content">This is a pretty neat paper about a Haskell DSL for specifying financial contracts and calculating their values:<p><a href="https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;research&#x2F;publication&#x2F;composing-contracts-an-adventure-in-financial-engineering&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.microsoft.com&#x2F;en-us&#x2F;research&#x2F;publication&#x2F;composi...</a><p>It is quite powerful and you might want to look at it for possible features to use.</div><br/></div></div><div id="41599211" class="c"><input type="checkbox" id="c-41599211" checked=""/><div class="controls bullet"><span class="by">adius</span><span>|</span><a href="#41599796">prev</a><span>|</span><a href="#41598297">next</a><span>|</span><label class="collapse" for="c-41599211">[-]</label><label class="expand" for="c-41599211">[2 more]</label></div><br/><div class="children"><div class="content">Nice! I tried to achieve a similar design with my plain text accounting tool Transity: <a href="https:&#x2F;&#x2F;github.com&#x2F;ad-si&#x2F;Transity">https:&#x2F;&#x2F;github.com&#x2F;ad-si&#x2F;Transity</a><p>But this seems to have more programming language like features if I understand correctly. What else is different?</div><br/><div id="41599748" class="c"><input type="checkbox" id="c-41599748" checked=""/><div class="controls bullet"><span class="by">hum3hum3</span><span>|</span><a href="#41599211">parent</a><span>|</span><a href="#41598297">next</a><span>|</span><label class="collapse" for="c-41599748">[-]</label><label class="expand" for="c-41599748">[1 more]</label></div><br/><div class="children"><div class="content">You might like <a href="https:&#x2F;&#x2F;martin.kleppmann.com&#x2F;2011&#x2F;03&#x2F;07&#x2F;accounting-for-computer-scientists.html" rel="nofollow">https:&#x2F;&#x2F;martin.kleppmann.com&#x2F;2011&#x2F;03&#x2F;07&#x2F;accounting-for-compu...</a> which shows it as a directed graph.</div><br/></div></div></div></div><div id="41598297" class="c"><input type="checkbox" id="c-41598297" checked=""/><div class="controls bullet"><span class="by">gregwebs</span><span>|</span><a href="#41599211">prev</a><span>|</span><a href="#41599362">next</a><span>|</span><label class="collapse" for="c-41598297">[-]</label><label class="expand" for="c-41598297">[1 more]</label></div><br/><div class="children"><div class="content">The CLI is only displaying a &quot;check&quot; command but I did figure out that there is a &quot;run&quot; command as well.<p>go install github.com&#x2F;formancehq&#x2F;numscript@latest<p><pre><code>    go: downloading github.com&#x2F;formancehq&#x2F;numscript v0.0.8
    go: downloading github.com&#x2F;antlr4-go&#x2F;antlr&#x2F;v4 v4.13.1
    go: downloading github.com&#x2F;sourcegraph&#x2F;jsonrpc2 v0.2.0
    go: downloading golang.org&#x2F;x&#x2F;exp v0.0.0-20240707233637-46b078467d37
</code></pre>
numscript -h<p><pre><code>    Numscript cli

    Usage:
      numscript [command]

    Available Commands:
      check       Check a numscript file
      help        Help about any command

    Flags:
      -h, --help      help for numscript
      -v, --version   version for numscript

    Use &quot;numscript [command] --help&quot; for more information about a command.</code></pre></div><br/></div></div><div id="41599362" class="c"><input type="checkbox" id="c-41599362" checked=""/><div class="controls bullet"><span class="by">holloway</span><span>|</span><a href="#41598297">prev</a><span>|</span><a href="#41599379">next</a><span>|</span><label class="collapse" for="c-41599362">[-]</label><label class="expand" for="c-41599362">[3 more]</label></div><br/><div class="children"><div class="content">Large sends seem to crash the playground with a JSON parse error.
eg change the first example &#x27;Simple send&#x27; to send `10000000000000000000` (`send [USD&#x2F;2 10000000000000000000]`) and there&#x27;s a crash</div><br/><div id="41599674" class="c"><input type="checkbox" id="c-41599674" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41599362">parent</a><span>|</span><a href="#41599379">next</a><span>|</span><label class="collapse" for="c-41599674">[-]</label><label class="expand" for="c-41599674">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for the heads up! While the Numscript backend itself uses big.Int, we&#x27;re still using normal javascript numbers in the playground for now so that&#x27;s where it&#x27;s coming from. But we should definitely switch to BigInt in the playground code though and that would solve the issue.</div><br/><div id="41599753" class="c"><input type="checkbox" id="c-41599753" checked=""/><div class="controls bullet"><span class="by">hum3hum3</span><span>|</span><a href="#41599362">root</a><span>|</span><a href="#41599674">parent</a><span>|</span><a href="#41599379">next</a><span>|</span><label class="collapse" for="c-41599753">[-]</label><label class="expand" for="c-41599753">[1 more]</label></div><br/><div class="children"><div class="content">You should never use floats for money.  In python Decimal works well.  TigerBeatle uses 128 bit accounts and amounts which I thought was interesting although more than needed gor many cases.</div><br/></div></div></div></div></div></div><div id="41599379" class="c"><input type="checkbox" id="c-41599379" checked=""/><div class="controls bullet"><span class="by">neilwilson</span><span>|</span><a href="#41599362">prev</a><span>|</span><a href="#41593946">next</a><span>|</span><label class="collapse" for="c-41599379">[-]</label><label class="expand" for="c-41599379">[2 more]</label></div><br/><div class="children"><div class="content">How do you model a bank making a loan, where the bank creates the money out of nothing and the accounting appears backwards?<p>The equivalent of DR @my_bank:loans_made 10000, CR @my_bank:1234 10000</div><br/><div id="41599651" class="c"><input type="checkbox" id="c-41599651" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41599379">parent</a><span>|</span><a href="#41593946">next</a><span>|</span><label class="collapse" for="c-41599651">[-]</label><label class="expand" for="c-41599651">[1 more]</label></div><br/><div class="children"><div class="content">Yeah that&#x27;s a good question, you&#x27;ll want to leverage the `overdraft` functionality for that, enabling the account end balance to go below zero.<p>So you could do something like:<p><pre><code>    send [USD&#x2F;2 10000] (
      source = @my_bank:loans_made allowing unbounded overdraft
      destination = @my_bank:1234
    )
</code></pre>
With the post-transaction balance of @my_bank:loans_made becoming [USD&#x2F;2 -10000]. So that&#x27;s for creating money out of nothing.<p>There&#x27;s a little bit more to it if you want to create accounting-perfect entries, but a simple way to map src&#x2F;dest to cr&#x2F;dr entries is to say that every credit becomes a destination, and every debit becomes a source.<p>You can then consider debit normal accounts as having their debit balance being equivalent to the sum of entries where the account is source, their credit balance as the sum of entries where the account is destination—and do the opposite for credit normal accounts.<p>We&#x27;ve written a bit more about it here [1].<p>[1] <a href="https:&#x2F;&#x2F;docs.formance.com&#x2F;ledger&#x2F;advanced&#x2F;accounting&#x2F;credit-debit-to-src-dest">https:&#x2F;&#x2F;docs.formance.com&#x2F;ledger&#x2F;advanced&#x2F;accounting&#x2F;credit-...</a></div><br/></div></div></div></div><div id="41593946" class="c"><input type="checkbox" id="c-41593946" checked=""/><div class="controls bullet"><span class="by">vslira</span><span>|</span><a href="#41599379">prev</a><span>|</span><a href="#41593639">next</a><span>|</span><label class="collapse" for="c-41593946">[-]</label><label class="expand" for="c-41593946">[2 more]</label></div><br/><div class="children"><div class="content">Super interesting and thanks for sharing. If I understood the license page on the repository correctly, the DSL is MIT-licensed since it&#x27;s not within the enterprise directory, right?</div><br/><div id="41594071" class="c"><input type="checkbox" id="c-41594071" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41593946">parent</a><span>|</span><a href="#41593639">next</a><span>|</span><label class="collapse" for="c-41594071">[-]</label><label class="expand" for="c-41594071">[1 more]</label></div><br/><div class="children"><div class="content">Yes exactly! There&#x27;s actually two implementations, one tightly knit to our ledger product located at [1] and the new, standalone one (used by the playground) at [2]. In any case, in both implementations, the DSL is indeed MIT.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;formancehq&#x2F;stack&#x2F;tree&#x2F;main&#x2F;components&#x2F;ledger&#x2F;internal&#x2F;machine">https:&#x2F;&#x2F;github.com&#x2F;formancehq&#x2F;stack&#x2F;tree&#x2F;main&#x2F;components&#x2F;led...</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;formancehq&#x2F;numscript">https:&#x2F;&#x2F;github.com&#x2F;formancehq&#x2F;numscript</a></div><br/></div></div></div></div><div id="41593639" class="c"><input type="checkbox" id="c-41593639" checked=""/><div class="controls bullet"><span class="by">robk</span><span>|</span><a href="#41593946">prev</a><span>|</span><a href="#41595699">next</a><span>|</span><label class="collapse" for="c-41593639">[-]</label><label class="expand" for="c-41593639">[9 more]</label></div><br/><div class="children"><div class="content">This seems cool but what&#x27;s the intention with the USD&#x2F;2 notation? Is that for fractional sub-cent precision in rounding situations?</div><br/><div id="41593756" class="c"><input type="checkbox" id="c-41593756" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41593639">parent</a><span>|</span><a href="#41595699">next</a><span>|</span><label class="collapse" for="c-41593756">[-]</label><label class="expand" for="c-41593756">[8 more]</label></div><br/><div class="children"><div class="content">It&#x27;s indeed relative to cents in a sense, the idea is to force you to declare the precision of the monetary amount you&#x27;re expressing.<p>You can see various interpretation of what &quot;USD&quot; means in the wild, as some APIs will happily parse USD 100 as $1.00 while some others might parse USD 100 as $100.00.<p>So we recommend this explicit [ASSET&#x2F;SCALE AMOUNT] notation, where SCALE describes the negative power of ten to multiply the AMOUNT with to obtain the decimal value in the given ASSET.<p>It makes subsequent interaction with external systems much easier. You can read a bit more about it here [1].<p>[1] <a href="https:&#x2F;&#x2F;docs.formance.com&#x2F;stack&#x2F;unambiguous-monetary-notation">https:&#x2F;&#x2F;docs.formance.com&#x2F;stack&#x2F;unambiguous-monetary-notatio...</a></div><br/><div id="41594568" class="c"><input type="checkbox" id="c-41594568" checked=""/><div class="controls bullet"><span class="by">tway_GdBRwW</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41593756">parent</a><span>|</span><a href="#41596932">next</a><span>|</span><label class="collapse" for="c-41594568">[-]</label><label class="expand" for="c-41594568">[2 more]</label></div><br/><div class="children"><div class="content">Used to work at a payments company. Yes, you need to be *very* explicit in how you model currency amounts and precision. See also earlier post about Canadian rounding rules. Some of the &quot;logic&quot; is regulatory&#x2F;compliance driven.<p>ref child post about stocks trading for 0.0001. Yes, those are real trades and (probably) fully legal etc, but I&#x27;m not sure the Fed recognizes currency amounts less than 1 US cent ($0.01), so the accounting rules and tax rules might not match expectations based on generalized floating point math.</div><br/><div id="41595671" class="c"><input type="checkbox" id="c-41595671" checked=""/><div class="controls bullet"><span class="by">euroderf</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41594568">parent</a><span>|</span><a href="#41596932">next</a><span>|</span><label class="collapse" for="c-41595671">[-]</label><label class="expand" for="c-41595671">[1 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t the Fed recognise mills ? They are not extinct.</div><br/></div></div></div></div><div id="41596932" class="c"><input type="checkbox" id="c-41596932" checked=""/><div class="controls bullet"><span class="by">girvo</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41593756">parent</a><span>|</span><a href="#41594568">prev</a><span>|</span><a href="#41594216">next</a><span>|</span><label class="collapse" for="c-41596932">[-]</label><label class="expand" for="c-41596932">[2 more]</label></div><br/><div class="children"><div class="content">Just to add to this, having also implemented a production payment system, we did the same thing. One needs to be very explicit about the scale and how it should be rounded and dealt with, and how to operate on two different scale systems. Quite a fun challenge, though I do not miss the edge cases.<p>Our system was a payment system for childcare management software, interfacing with banks and the government directly.</div><br/><div id="41599693" class="c"><input type="checkbox" id="c-41599693" checked=""/><div class="controls bullet"><span class="by">o-o-</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41596932">parent</a><span>|</span><a href="#41594216">next</a><span>|</span><label class="collapse" for="c-41599693">[-]</label><label class="expand" for="c-41599693">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious – what edge cases did you find?</div><br/></div></div></div></div><div id="41594216" class="c"><input type="checkbox" id="c-41594216" checked=""/><div class="controls bullet"><span class="by">flockonus</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41593756">parent</a><span>|</span><a href="#41596932">prev</a><span>|</span><a href="#41595699">next</a><span>|</span><label class="collapse" for="c-41594216">[-]</label><label class="expand" for="c-41594216">[3 more]</label></div><br/><div class="children"><div class="content">What about units that cost sub-cent? For examples, I&#x27;ve seen private company stocks being $0.0001<p>Not sure why you&#x27;d need to make a note in the internal representation, vs. leave adapters to handle conversions.</div><br/><div id="41594255" class="c"><input type="checkbox" id="c-41594255" checked=""/><div class="controls bullet"><span class="by">bbor</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41594216">parent</a><span>|</span><a href="#41594543">next</a><span>|</span><label class="collapse" for="c-41594255">[-]</label><label class="expand" for="c-41594255">[1 more]</label></div><br/><div class="children"><div class="content">Not to speak for them, but I think you’ve understood the point exactly. You need to be able to support arbitrary precision, but that support needs to be <i>intentional</i> to avoid errors. And you have to record that decision somewhere if adapters are to correctly handle your outputs; why not in the unit name?</div><br/></div></div><div id="41594543" class="c"><input type="checkbox" id="c-41594543" checked=""/><div class="controls bullet"><span class="by">petesergeant</span><span>|</span><a href="#41593639">root</a><span>|</span><a href="#41594216">parent</a><span>|</span><a href="#41594255">prev</a><span>|</span><a href="#41595699">next</a><span>|</span><label class="collapse" for="c-41594543">[-]</label><label class="expand" for="c-41594543">[1 more]</label></div><br/><div class="children"><div class="content">If I understand their docs correctly, that’s equivalent to [USD&#x2F;4 1]</div><br/></div></div></div></div></div></div></div></div><div id="41595699" class="c"><input type="checkbox" id="c-41595699" checked=""/><div class="controls bullet"><span class="by">OutOfHere</span><span>|</span><a href="#41593639">prev</a><span>|</span><a href="#41594224">next</a><span>|</span><label class="collapse" for="c-41595699">[-]</label><label class="expand" for="c-41595699">[1 more]</label></div><br/><div class="children"><div class="content">Can this or Formance interact with credit card systems, checking accounts, and layer 2 crypto wallets? If not, how is the money even going to come in or out?</div><br/></div></div><div id="41594224" class="c"><input type="checkbox" id="c-41594224" checked=""/><div class="controls bullet"><span class="by">bbor</span><span>|</span><a href="#41595699">prev</a><span>|</span><a href="#41595127">next</a><span>|</span><label class="collapse" for="c-41594224">[-]</label><label class="expand" for="c-41594224">[4 more]</label></div><br/><div class="children"><div class="content">To this noob, this seems like a problem that was pretty convincingly solved by double entry accounting ledgers, but from your post it sounds like this isn’t a replacement-of but rather an addition-to that model. What’s a situation where an imperative approach would be preferable to the traditional declarative approach? 
My depth of knowledge pretty much starts and ends with the below document, so apologies if this is obvious to experts!<p><a href="https:&#x2F;&#x2F;beancount.github.io&#x2F;docs&#x2F;the_double_entry_counting_method.html#introduction" rel="nofollow">https:&#x2F;&#x2F;beancount.github.io&#x2F;docs&#x2F;the_double_entry_counting_m...</a><p>E: the problem being “tracking transactions”. Yes?</div><br/><div id="41594607" class="c"><input type="checkbox" id="c-41594607" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41594224">parent</a><span>|</span><a href="#41595127">next</a><span>|</span><label class="collapse" for="c-41594607">[-]</label><label class="expand" for="c-41594607">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a very good question. So the DSL here operates an agnostic source&#x2F;dest transaction model, which is akin to the credit&#x2F;debit model sans the semantic baggage. The goal of this model is indeed to be &quot;tracking transactions&quot; in the abstract sense, having the benefit of not forcing accounting decisions too early on when there is (still yet) none.<p>For example, if you create a transaction moving money from &quot;@stripe:main&quot; to &quot;@acct:123&quot; and &quot;@acct:234&quot;, you&#x27;re merely representing the fact that you want this money to be moved. Wether the movement is clearing off a liability or generating revenue is another concern that you (in our model) want to take care of in a separate layer, that will also likely involve some intense intentionality and iterations from your accounting team.<p>In a sense, it&#x27;s as close to accounting than it is to warehousing money, moving unitary boxes of it from one location to another.<p>These two models have the same amount of information per entry, so they can actually be converted from one to another, enabling you to also represent some accounting-ish transactions with this DSL, e.g. with a send [USD&#x2F;2 100] from @ar:invoices:1234 to @sales.</div><br/><div id="41595944" class="c"><input type="checkbox" id="c-41595944" checked=""/><div class="controls bullet"><span class="by">mamidon</span><span>|</span><a href="#41594224">root</a><span>|</span><a href="#41594607">parent</a><span>|</span><a href="#41595588">next</a><span>|</span><label class="collapse" for="c-41595944">[-]</label><label class="expand" for="c-41595944">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m living this life right now; except we baked in notions of Assets&#x2F;Liabilities&#x2F;Income&#x2F;Expenses into our ledger logic.  Only to realize our customers don&#x27;t care and just want to do whatever it is they&#x27;ve been doing.</div><br/></div></div><div id="41595588" class="c"><input type="checkbox" id="c-41595588" checked=""/><div class="controls bullet"><span class="by">bbor</span><span>|</span><a href="#41594224">root</a><span>|</span><a href="#41594607">parent</a><span>|</span><a href="#41595944">prev</a><span>|</span><a href="#41595127">next</a><span>|</span><label class="collapse" for="c-41595588">[-]</label><label class="expand" for="c-41595588">[1 more]</label></div><br/><div class="children"><div class="content">Fascinating, thanks for taking the time to educate! Makes sense to me — it seems this tool is purpose built for situations where <i>tracking</i> is complex enough to deserve decoupling from <i>annotating</i> or <i>interpreting</i>, to put it in my own kindergarten terms.<p>I don’t have a need for this personally but I’ll definitely be bouncing this around in my head for a while, both technically (JS <i>ALL</i> the things!) and methodologically. Accounting is pretty trivial when you don’t have any income to track!</div><br/></div></div></div></div></div></div><div id="41595127" class="c"><input type="checkbox" id="c-41595127" checked=""/><div class="controls bullet"><span class="by">jimbokun</span><span>|</span><a href="#41594224">prev</a><span>|</span><a href="#41596494">next</a><span>|</span><label class="collapse" for="c-41595127">[-]</label><label class="expand" for="c-41595127">[2 more]</label></div><br/><div class="children"><div class="content">Are there converters to&#x2F;from OFX for Numscript?</div><br/><div id="41599710" class="c"><input type="checkbox" id="c-41599710" checked=""/><div class="controls bullet"><span class="by">superzamp</span><span>|</span><a href="#41595127">parent</a><span>|</span><a href="#41596494">next</a><span>|</span><label class="collapse" for="c-41599710">[-]</label><label class="expand" for="c-41599710">[1 more]</label></div><br/><div class="children"><div class="content">Not as of today!</div><br/></div></div></div></div><div id="41596494" class="c"><input type="checkbox" id="c-41596494" checked=""/><div class="controls bullet"><span class="by">henning</span><span>|</span><a href="#41595127">prev</a><span>|</span><a href="#41597446">next</a><span>|</span><label class="collapse" for="c-41596494">[-]</label><label class="expand" for="c-41596494">[3 more]</label></div><br/><div class="children"><div class="content">Ah, what better input format than JSON, a poorly defined, ambiguous format that freely mixes integers and floating points and lacks supports for bigints and bigdecimals.</div><br/><div id="41597969" class="c"><input type="checkbox" id="c-41597969" checked=""/><div class="controls bullet"><span class="by">darby_nine</span><span>|</span><a href="#41596494">parent</a><span>|</span><a href="#41599039">next</a><span>|</span><label class="collapse" for="c-41597969">[-]</label><label class="expand" for="c-41597969">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s only ambiguous if you let it be. The rest is just implementation details.</div><br/></div></div><div id="41599039" class="c"><input type="checkbox" id="c-41599039" checked=""/><div class="controls bullet"><span class="by">monero-xmr</span><span>|</span><a href="#41596494">parent</a><span>|</span><a href="#41597969">prev</a><span>|</span><a href="#41597446">next</a><span>|</span><label class="collapse" for="c-41599039">[-]</label><label class="expand" for="c-41599039">[1 more]</label></div><br/><div class="children"><div class="content">In cryptocurrency the decimals are often a range between 8 and 18 decimals, sometimes much larger. The solution is always to use strings, and have separate fields or data models that explain the precision. The amount of languages and libraries, for tradfi or anything, is so wide that actually trying to use something <i>other</i> than strings for passing data between systems and applications would be self destructive</div><br/></div></div></div></div><div id="41597446" class="c"><input type="checkbox" id="c-41597446" checked=""/><div class="controls bullet"><span class="by">bschmidt1</span><span>|</span><a href="#41596494">prev</a><span>|</span><a href="#41594598">next</a><span>|</span><label class="collapse" for="c-41597446">[-]</label><label class="expand" for="c-41597446">[1 more]</label></div><br/><div class="children"><div class="content">This is mindblowing. It&#x27;s like the missing piece of blockchain that was needed for dev adoption. I can see it also being used for modern bank&#x2F;payments apps including those in games and other simulated economies.<p>Now let&#x27;s see a &quot;ContentScript&quot; for posting content to ledgers :D<p><pre><code>    send [Image &quot;tacos.jpg&quot;, Text &quot;taco 2sday!&quot;] (
      source = @bschmidt1
      destination = @us-west-relay
    )</code></pre></div><br/></div></div></div></div></div></div></div></body></html>