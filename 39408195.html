<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1708333270017" as="style"/><link rel="stylesheet" href="styles.css?v=1708333270017"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://tree-sitter.github.io/tree-sitter/">Tree-Sitter</a>Â <span class="domain">(<a href="https://tree-sitter.github.io">tree-sitter.github.io</a>)</span></div><div class="subtext"><span>tosh</span> | <span>10 comments</span></div><br/><div><div id="39413268" class="c"><input type="checkbox" id="c-39413268" checked=""/><div class="controls bullet"><span class="by">Sphax</span><span>|</span><a href="#39427236">next</a><span>|</span><label class="collapse" for="c-39413268">[-]</label><label class="expand" for="c-39413268">[2 more]</label></div><br/><div class="children"><div class="content">I use neovim, the tree-sitter support is great especially with nvim-treesitter which means I can just run `TSInstall &lt;parser name&gt;` and I&#x27;m done.<p>Writing a tree-sitter parser is not that easy though. I wrote tree-sitter-templ to parse templ files and I still have a hard time identifying some parsing errors, especially since I had to implement a custom external scanner which in my experience was the source of a lot of bugs.<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;vrischmann&#x2F;tree-sitter-templ">https:&#x2F;&#x2F;github.com&#x2F;vrischmann&#x2F;tree-sitter-templ</a></div><br/><div id="39427408" class="c"><input type="checkbox" id="c-39427408" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#39413268">parent</a><span>|</span><a href="#39427236">next</a><span>|</span><label class="collapse" for="c-39427408">[-]</label><label class="expand" for="c-39427408">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not easy, but after a while it does become somewhat meditative. I think the TypeScript nature of it helps a lot.<p>I picked up Neovim at my last job and got a decent start on a Tree-sitter parser off hours for the WinSCP batch programming language of all things. But then I couldn&#x27;t get it to actually install correctly into Neovim, and I switched jobs before I figured it out. :( EDIT: actually, hey, your instructions on installing are really clear! I wonder if I can use them here to help guide me again.<p>It was really cool, though! Love parsers. <a href="https:&#x2F;&#x2F;github.com&#x2F;hiAndrewQuinn&#x2F;tree-sitter-winscp">https:&#x2F;&#x2F;github.com&#x2F;hiAndrewQuinn&#x2F;tree-sitter-winscp</a></div><br/></div></div></div></div><div id="39427236" class="c"><input type="checkbox" id="c-39427236" checked=""/><div class="controls bullet"><span class="by">vsnf</span><span>|</span><a href="#39413268">prev</a><span>|</span><a href="#39417252">next</a><span>|</span><label class="collapse" for="c-39427236">[-]</label><label class="expand" for="c-39427236">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve tried to write a parser using tree-sitter multiples times, but it&#x27;s complicated enough that I&#x27;ve found it to be simpler to write my own parsers. Of course as a mere amateur, my parsers don&#x27;t have certain nice to have features like good error messages, or good incomplete syntax recovery. I wish tree-sitter was easier to use.</div><br/></div></div><div id="39417252" class="c"><input type="checkbox" id="c-39417252" checked=""/><div class="controls bullet"><span class="by">nilsherzig</span><span>|</span><a href="#39427236">prev</a><span>|</span><a href="#39415746">next</a><span>|</span><label class="collapse" for="c-39417252">[-]</label><label class="expand" for="c-39417252">[1 more]</label></div><br/><div class="children"><div class="content">Neovim supports treesitter based selections and &quot;jumps&quot;, which I think are awesome<p><a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;neovim&#x2F;comments&#x2F;r10llx&#x2F;the_most_amazing_builtin_feature_nobody_ever&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;neovim&#x2F;comments&#x2F;r10llx&#x2F;the_most_ama...</a><p>Or<p><a href="https:&#x2F;&#x2F;github.com&#x2F;RRethy&#x2F;nvim-treesitter-textsubjects">https:&#x2F;&#x2F;github.com&#x2F;RRethy&#x2F;nvim-treesitter-textsubjects</a><p>Helix also supports them by default</div><br/></div></div><div id="39415746" class="c"><input type="checkbox" id="c-39415746" checked=""/><div class="controls bullet"><span class="by">sergiogdr</span><span>|</span><a href="#39417252">prev</a><span>|</span><label class="collapse" for="c-39415746">[-]</label><label class="expand" for="c-39415746">[5 more]</label></div><br/><div class="children"><div class="content">How does TS compare to using semantic highlighting in LSP?</div><br/><div id="39427493" class="c"><input type="checkbox" id="c-39427493" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#39415746">parent</a><span>|</span><a href="#39416321">next</a><span>|</span><label class="collapse" for="c-39427493">[-]</label><label class="expand" for="c-39427493">[1 more]</label></div><br/><div class="children"><div class="content">With Treesitter you have another parser which is redundant at best and inconsistent with the LSP at worst.</div><br/></div></div><div id="39416321" class="c"><input type="checkbox" id="c-39416321" checked=""/><div class="controls bullet"><span class="by">semiquaver</span><span>|</span><a href="#39415746">parent</a><span>|</span><a href="#39427493">prev</a><span>|</span><a href="#39423810">next</a><span>|</span><label class="collapse" for="c-39416321">[-]</label><label class="expand" for="c-39416321">[2 more]</label></div><br/><div class="children"><div class="content">A large number of LSP servers and related software use tree-sitter as a backend.</div><br/><div id="39427511" class="c"><input type="checkbox" id="c-39427511" checked=""/><div class="controls bullet"><span class="by">ReleaseCandidat</span><span>|</span><a href="#39415746">root</a><span>|</span><a href="#39416321">parent</a><span>|</span><a href="#39423810">next</a><span>|</span><label class="collapse" for="c-39427511">[-]</label><label class="expand" for="c-39427511">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not possible, as Treesitter doesn&#x27;t do for example type-checking (unification). I can be used as the parser to generate the AST with which you&#x27;re actually  doing the work.</div><br/></div></div></div></div><div id="39423810" class="c"><input type="checkbox" id="c-39423810" checked=""/><div class="controls bullet"><span class="by">cybrexalpha</span><span>|</span><a href="#39415746">parent</a><span>|</span><a href="#39416321">prev</a><span>|</span><label class="collapse" for="c-39423810">[-]</label><label class="expand" for="c-39423810">[1 more]</label></div><br/><div class="children"><div class="content">Having tried both with Neovim, I ended up going with just LSPs instead of using tree-sitter.</div><br/></div></div></div></div></div></div></div></div></div></body></html>