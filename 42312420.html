<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733302858227" as="style"/><link rel="stylesheet" href="styles.css?v=1733302858227"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/JeffrayZhang/terse-cli">Rust library for building no-boilerplate CLI apps</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>PaulHoule</span> | <span>7 comments</span></div><br/><div><div id="42313991" class="c"><input type="checkbox" id="c-42313991" checked=""/><div class="controls bullet"><span class="by">liambigelow</span><span>|</span><a href="#42315323">next</a><span>|</span><label class="collapse" for="c-42313991">[-]</label><label class="expand" for="c-42313991">[4 more]</label></div><br/><div class="children"><div class="content">Looks nice! I like the approach.<p>My holy grail will still be landing on a good multi-layer configuration setup for Rust CLIs. Ideally CLI flags merged over top of environment variables merged over top of configuration files.<p>Twelf [0] was close in unifying things, but I had some friction. Lately I&#x27;ve been using Schematic [1] to handle the environment + config layers, and then just a manual implementation of Clap arguments layered on top.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;bnjjj&#x2F;twelf">https:&#x2F;&#x2F;github.com&#x2F;bnjjj&#x2F;twelf</a>.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;moonrepo&#x2F;schematic">https:&#x2F;&#x2F;github.com&#x2F;moonrepo&#x2F;schematic</a></div><br/><div id="42314249" class="c"><input type="checkbox" id="c-42314249" checked=""/><div class="controls bullet"><span class="by">zakhary</span><span>|</span><a href="#42313991">parent</a><span>|</span><a href="#42314139">next</a><span>|</span><label class="collapse" for="c-42314249">[-]</label><label class="expand" for="c-42314249">[2 more]</label></div><br/><div class="children"><div class="content">Not a library, but I have a template repo [0] I made precisely for this purpose (since I found libraries aren’t as flexible as I needed). See it in use at [1].<p>Edit: If there’s demand I’d be willing to better document it.<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;kaplanz&#x2F;rust">https:&#x2F;&#x2F;github.com&#x2F;kaplanz&#x2F;rust</a><p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;kaplanz&#x2F;rugby&#x2F;tree&#x2F;main&#x2F;apps&#x2F;cli">https:&#x2F;&#x2F;github.com&#x2F;kaplanz&#x2F;rugby&#x2F;tree&#x2F;main&#x2F;apps&#x2F;cli</a></div><br/><div id="42314411" class="c"><input type="checkbox" id="c-42314411" checked=""/><div class="controls bullet"><span class="by">liambigelow</span><span>|</span><a href="#42313991">root</a><span>|</span><a href="#42314249">parent</a><span>|</span><a href="#42314139">next</a><span>|</span><label class="collapse" for="c-42314411">[-]</label><label class="expand" for="c-42314411">[1 more]</label></div><br/><div class="children"><div class="content">Ah nice, will peep — in the interest of sharing here is my latest &quot;template&quot; that gets copied from project to project: <a href="https:&#x2F;&#x2F;github.com&#x2F;CloudCannon&#x2F;toolproof&#x2F;blob&#x2F;main&#x2F;toolproof&#x2F;src&#x2F;options.rs">https:&#x2F;&#x2F;github.com&#x2F;CloudCannon&#x2F;toolproof&#x2F;blob&#x2F;main&#x2F;toolproof...</a></div><br/></div></div></div></div><div id="42314139" class="c"><input type="checkbox" id="c-42314139" checked=""/><div class="controls bullet"><span class="by">dakom</span><span>|</span><a href="#42313991">parent</a><span>|</span><a href="#42314249">prev</a><span>|</span><a href="#42315323">next</a><span>|</span><label class="collapse" for="c-42314139">[-]</label><label class="expand" for="c-42314139">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using Figment [0] Needs a little bit of hand-holding when you have structs with different field names, but otherwise does everything I need for that particular part of the problem.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;SergioBenitez&#x2F;Figment">https:&#x2F;&#x2F;github.com&#x2F;SergioBenitez&#x2F;Figment</a></div><br/></div></div></div></div><div id="42315323" class="c"><input type="checkbox" id="c-42315323" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#42313991">prev</a><span>|</span><a href="#42314662">next</a><span>|</span><label class="collapse" for="c-42315323">[-]</label><label class="expand" for="c-42315323">[1 more]</label></div><br/><div class="children"><div class="content">Definitely nice, and Typer is one of the few Python libraries that is actually well designed. But Typer is competing against shitty argparse. This is competing with clap-derive which IMO is already very good and &quot;boilerplate free&quot;. E.g. how does the comparison look with help messages?<p>Nice work anyway!</div><br/></div></div><div id="42314662" class="c"><input type="checkbox" id="c-42314662" checked=""/><div class="controls bullet"><span class="by">searealist</span><span>|</span><a href="#42315323">prev</a><span>|</span><label class="collapse" for="c-42314662">[-]</label><label class="expand" for="c-42314662">[1 more]</label></div><br/><div class="children"><div class="content">This needs to show a comparison with vanilla clap. In particular, clap allows deriving a parser from a struct and then pattern matching on it. I suspect this is no more terse than that method.</div><br/></div></div></div></div></div></div></div></body></html>