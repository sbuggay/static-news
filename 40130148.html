<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1713949264676" as="style"/><link rel="stylesheet" href="styles.css?v=1713949264676"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://webkit.org/blog/15269/help-us-invent-masonry-layouts-for-css-grid-level-3/">Help us invent CSS Grid Level 3, a.k.a. &quot;Masonry&quot; layout</a> <span class="domain">(<a href="https://webkit.org">webkit.org</a>)</span></div><div class="subtext"><span>achairapart</span> | <span>163 comments</span></div><br/><div><div id="40131219" class="c"><input type="checkbox" id="c-40131219" checked=""/><div class="controls bullet"><span class="by">achairapart</span><span>|</span><a href="#40130495">next</a><span>|</span><label class="collapse" for="c-40131219">[-]</label><label class="expand" for="c-40131219">[32 more]</label></div><br/><div class="children"><div class="content">So, the background story is that CSSWG DevRels from browser vendors are debating how to formally include the Masonry layout into CSS, at least since 2020, when Firefox first proposed it.<p>The news here is that people at WebKit decided to push the debate to the public, inviting designers and developers to take some action (“post to social media, write blog posts”), in order to get past this.<p>While it may look just like a formality, I think this will make an important precedent. The real underling debate here is either to treat every layout option as a part of the CSS Grid, or keeping adding new CSS Display proprieties as necessary.<p>The first option will make even more complex the (already convulsed, IMHO) CSS Grid specs, the latter will bloat the CSS specs with a load of new proprieties (and related sub-proprieties).<p>Either way, it&#x27;s not as easy as it looks.</div><br/><div id="40134887" class="c"><input type="checkbox" id="c-40134887" checked=""/><div class="controls bullet"><span class="by">bfgeek</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40131869">next</a><span>|</span><label class="collapse" for="c-40134887">[-]</label><label class="expand" for="c-40134887">[6 more]</label></div><br/><div class="children"><div class="content">Part of the tension with building masonry on top of grid is that they work in fundamentally different ways.<p>Grid you place everything in the grid first (e.g. an item goes in col:2,row:3), then size the grid.
Masonry ideally you want to size the tracks first, then place items in those tracks.<p>The first Firefox implementation (and the spec at that stage) basically said you don&#x27;t consider any masonry items for sizing tracks (except for the first row, and some other rules - its complex). This meant that it is trivial to create items that overflow their tracks.<p>The specification at the moment asks to place every item in every possible track. This has quadratic performance O(N_tracks * N_items) in the worst (and somewhat common case). Quadratic performance is bad[1] and we don&#x27;t really have this in other layout algorithms.<p>With nesting introduced the performance goes (sub-)exponential, which is really poor, even if you have a fast CPU.<p>One may argue that these cases aren&#x27;t common, but folks always test the boundaries with layout modes in CSS - so things need to be fast by default.<p>Note: In grid items size themselves differently depending on what tracks you place them in, which is why you need to place in every possible position.<p>Masonry potentially needs a different algorithm for sizing tracks to mitigate these problems, (the blog post doesn&#x27;t go into these issues in sufficient detail). There may have been a version of grid sizing which didn&#x27;t have item positional dependence but that ship has sailed.<p>[1] <a href="https:&#x2F;&#x2F;randomascii.wordpress.com&#x2F;2019&#x2F;12&#x2F;08&#x2F;on2-again-now-in-wmi&#x2F;" rel="nofollow">https:&#x2F;&#x2F;randomascii.wordpress.com&#x2F;2019&#x2F;12&#x2F;08&#x2F;on2-again-now-i...</a></div><br/><div id="40137122" class="c"><input type="checkbox" id="c-40137122" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40134887">parent</a><span>|</span><a href="#40136409">next</a><span>|</span><label class="collapse" for="c-40137122">[-]</label><label class="expand" for="c-40137122">[4 more]</label></div><br/><div class="children"><div class="content">Why does this require checking every item in every column? It looks like the layout algorithm greedily picks the column with the least total height so far, every time it adds an item.</div><br/><div id="40137556" class="c"><input type="checkbox" id="c-40137556" checked=""/><div class="controls bullet"><span class="by">bfgeek</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40137122">parent</a><span>|</span><a href="#40136409">next</a><span>|</span><label class="collapse" for="c-40137556">[-]</label><label class="expand" for="c-40137556">[3 more]</label></div><br/><div class="children"><div class="content">The requires it for sizing the columns (the step before placing the items into the columns).</div><br/><div id="40138089" class="c"><input type="checkbox" id="c-40138089" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40137556">parent</a><span>|</span><a href="#40136409">next</a><span>|</span><label class="collapse" for="c-40138089">[-]</label><label class="expand" for="c-40138089">[2 more]</label></div><br/><div class="children"><div class="content">The examples in the article seem to have CSS that directly sizes the columns, albeit with some flexibility such as being able to change the number of columns to better fit the width. It seems like the item widths depend on the column widths, rather than the other way around (which seems like it&#x27;d be circular). What&#x27;s an example where the column widths depend on the items?</div><br/><div id="40138252" class="c"><input type="checkbox" id="c-40138252" checked=""/><div class="controls bullet"><span class="by">bfgeek</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40138089">parent</a><span>|</span><a href="#40136409">next</a><span>|</span><label class="collapse" for="c-40138252">[-]</label><label class="expand" for="c-40138252">[1 more]</label></div><br/><div class="children"><div class="content">If you have something like:<p><pre><code>  columns: 1fr auto max-content

  &lt;!-- items --&gt;
  &lt;div&gt;1&lt;&#x2F;div&gt;
  &lt;div&gt;somethingsuperlong&lt;&#x2F;div&gt;
  &lt;div style=&quot;span: 2;&quot;&gt;something else&lt;&#x2F;div&gt;
</code></pre>
You first need to decide how big each of the three columns are going to be, then  you want to place the items in each of the columns.<p>Depending on the non-fixed column type (there are different rules for each type) you want to ensure their constraints are satified (typeically they are big enough to encompass the items).</div><br/></div></div></div></div></div></div></div></div><div id="40136409" class="c"><input type="checkbox" id="c-40136409" checked=""/><div class="controls bullet"><span class="by">fantasai</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40134887">parent</a><span>|</span><a href="#40137122">prev</a><span>|</span><a href="#40131869">next</a><span>|</span><label class="collapse" for="c-40136409">[-]</label><label class="expand" for="c-40136409">[1 more]</label></div><br/><div class="children"><div class="content">Quadratic performance is a bit of an exaggeration. It&#x27;s not O(N_items^2). It&#x27;s N_tracks x N_items, and basically nobody has N_tracks ≈ N_items. Practically speaking, the upper limit is closer to (N_items^1.5) because N_tracks is unlikely to go over sqrt(N_items) in cases where N is large. And almost all of those layouts will have repetitive track sizing patterns, so they can be optimized to a much smaller N_tracks that approaches O(N_items).</div><br/></div></div></div></div><div id="40131869" class="c"><input type="checkbox" id="c-40131869" checked=""/><div class="controls bullet"><span class="by">mvonballmo</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40134887">prev</a><span>|</span><a href="#40135218">next</a><span>|</span><label class="collapse" for="c-40131869">[-]</label><label class="expand" for="c-40131869">[4 more]</label></div><br/><div class="children"><div class="content">A &quot;row-less&quot; grid fits very well in the current CSS Grid specification, in that it can reuse the very powerful column-definition property as well as sub-grids. Their examples very convincingly show how orthogonal these features are.<p>Mostly, you just write grid-row-template: masonry and everything else just works with it. This is nice. It doesn&#x27;t become harder to use the grid layout than it already is IMHO.<p>The drawback is mostly for browser-engine authors, for whom the bar for &quot;fully supports CSS Grid&quot; will be set even higher. They also mention that it might avoid &quot;performance traps&quot; where an implementation that needs to support all features of grid might be slower at some parts of grid layout than it would be if the specification were simpler.<p>If there were a separate display mode, then you&#x27;d have to repeat the grid-column specification for the masonry layout, which seems a shame.</div><br/><div id="40132535" class="c"><input type="checkbox" id="c-40132535" checked=""/><div class="controls bullet"><span class="by">nightpool</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40131869">parent</a><span>|</span><a href="#40135218">next</a><span>|</span><label class="collapse" for="c-40132535">[-]</label><label class="expand" for="c-40132535">[3 more]</label></div><br/><div class="children"><div class="content">&gt; If there were a separate display mode, then you&#x27;d have to repeat the grid-column specification for the masonry layout, which seems a shame.<p>Why? What&#x27;s the downside to reusing grid-column-template or whatever for the CSS Masonry spec?</div><br/><div id="40134637" class="c"><input type="checkbox" id="c-40134637" checked=""/><div class="controls bullet"><span class="by">krsdcbl</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40132535">parent</a><span>|</span><a href="#40135218">next</a><span>|</span><label class="collapse" for="c-40134637">[-]</label><label class="expand" for="c-40134637">[2 more]</label></div><br/><div class="children"><div class="content">my thoughts exactly - i think this points to a possible naming issue, since &quot;masonry&quot; is a relatively vague alias that does not really describe the underlying layouting logic, it just became ubiquitous enough for people building webstuff to understand because of that one jQuery plugin back in the days.<p>A better approach might be to lean on the &quot;grid&quot; naming, but still silo it off via an own display directive (a bit like &quot;block&quot; and &quot;inline-block&quot; have shared properties, but also mutually exclusive behaviours)<p>So maybe an own `display: flex-grid;` could be an interesting solution?<p>This separate layout mode would avoid &quot;result-specific&quot; nomenclature like &quot;masonry&quot;, and could lean on both flexbox &amp; grid to achieve that look:
- using `grid-auto-flow` to set a &quot;masonry axis&quot; &amp; distribution logic
- using _either_ `grid-template-columns` or `grid-template-rows` to specify the &quot;lanes&quot;
- and to make my frankensteinian display-mashup even worse (or genius! for you to decide), the grid items could in turn abuse `flex-grow, flex-shrink, flex-basis` to control their height&#x2F;width within the main &quot;masonry&quot; axis</div><br/><div id="40137464" class="c"><input type="checkbox" id="c-40137464" checked=""/><div class="controls bullet"><span class="by">beardedetim</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40134637">parent</a><span>|</span><a href="#40135218">next</a><span>|</span><label class="collapse" for="c-40137464">[-]</label><label class="expand" for="c-40137464">[1 more]</label></div><br/><div class="children"><div class="content">I really like this concept of `flex-grid` because that&#x27;s exactly what this display would be.</div><br/></div></div></div></div></div></div></div></div><div id="40135218" class="c"><input type="checkbox" id="c-40135218" checked=""/><div class="controls bullet"><span class="by">jjcm</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40131869">prev</a><span>|</span><a href="#40132897">next</a><span>|</span><label class="collapse" for="c-40135218">[-]</label><label class="expand" for="c-40135218">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I think this will make an important precedent<p>It&#x27;s worth noting this is not the first time things like this have gone to the community for feedback. They did the same for nested CSS selectors, which ended up working quite well feedback-wise: <a href="https:&#x2F;&#x2F;webkit.org&#x2F;blog&#x2F;13607&#x2F;help-choose-from-options-for-css-nesting-syntax&#x2F;" rel="nofollow">https:&#x2F;&#x2F;webkit.org&#x2F;blog&#x2F;13607&#x2F;help-choose-from-options-for-c...</a></div><br/></div></div><div id="40132897" class="c"><input type="checkbox" id="c-40132897" checked=""/><div class="controls bullet"><span class="by">eyelidlessness</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40135218">prev</a><span>|</span><a href="#40133061">next</a><span>|</span><label class="collapse" for="c-40132897">[-]</label><label class="expand" for="c-40132897">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Either way, it&#x27;s not as easy as it looks.<p>And exploring the tradeoffs might lead those exploring to reconsider their preferences going in.<p>Not directly related to the topic, but I recently did some prototyping on a second iteration of an interface with a similar tension—proliferation of similar but distinct types in a data model, or expanding the set of nuances within each existing type to support refinement within it. Going into that prototyping session, I had a very strong bias in favor of the latter. But after exploring the options, I found it vastly simpler to consume the “bloated” interface, and to reason about the resulting application code consuming it.<p>I don’t have strong feelings on the topic as it applies to CSS masonry, but I suspect there could be similar surprises in how people think about this tension intuitively versus in practice.<p>And while I think CSS in particular will have a hard time justifying “bloat” (proliferation of use case specific semantics), I think it’s possible that users do tend to find more difficulty using CSS’s denser APIs (like grid).</div><br/></div></div><div id="40133061" class="c"><input type="checkbox" id="c-40133061" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40132897">prev</a><span>|</span><a href="#40133429">next</a><span>|</span><label class="collapse" for="c-40133061">[-]</label><label class="expand" for="c-40133061">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s great they&#x27;re doing this. I&#x27;ve been nudging everyone involved with this since last year. The Chrome guys are the furthest behind (no support). FF has flag support.<p>I&#x27;ve been testing it since last year on FF and Safari and have no complaints about their implementations. I know some people are sniffling about the placement and naming of the properties. You have to be pragmatic about it, though, and realize there probably isn&#x27;t a perfect solution and just implement it.<p>I refuse to use JavaScript for the fallback, so the fallback is a lot of ugly CSS that doesn&#x27;t order things in the right way, but it doesn&#x27;t make a big deal of trouble for the project I&#x27;m working on. Most people will fallback to JavaScript right now, though, and when JavaScript is your solution to layout then you&#x27;re already on a loser.</div><br/></div></div><div id="40133429" class="c"><input type="checkbox" id="c-40133429" checked=""/><div class="controls bullet"><span class="by">aidog</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40133061">prev</a><span>|</span><a href="#40138060">next</a><span>|</span><label class="collapse" for="c-40133429">[-]</label><label class="expand" for="c-40133429">[1 more]</label></div><br/><div class="children"><div class="content">look at the examples they made why it should be in CSS grid. I totally agree it should be in that. It&#x27;s a form of grid. It should be part of CSS grid.<p>This is one of the layouts that were just impossible in CSS and we really need it soon.
I also needed the feature they talk about with the background colors for css grid tracks in 2012. I solved that with DIVs, but it was hard to make it responsive.</div><br/></div></div><div id="40138060" class="c"><input type="checkbox" id="c-40138060" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40133429">prev</a><span>|</span><a href="#40135891">next</a><span>|</span><label class="collapse" for="c-40138060">[-]</label><label class="expand" for="c-40138060">[1 more]</label></div><br/><div class="children"><div class="content">It seems like the precursor to this was the whole &quot;Help choose the syntax for CSS Nesting&quot; thing that happened a while back. Browser vendors couldn&#x27;t figure out the syntax, so they asked the &#x27;wider public&#x27; which they preferred <a href="https:&#x2F;&#x2F;webkit.org&#x2F;blog&#x2F;13607&#x2F;help-choose-from-options-for-css-nesting-syntax&#x2F;" rel="nofollow">https:&#x2F;&#x2F;webkit.org&#x2F;blog&#x2F;13607&#x2F;help-choose-from-options-for-c...</a></div><br/></div></div><div id="40135891" class="c"><input type="checkbox" id="c-40135891" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40138060">prev</a><span>|</span><a href="#40133345">next</a><span>|</span><label class="collapse" for="c-40135891">[-]</label><label class="expand" for="c-40135891">[2 more]</label></div><br/><div class="children"><div class="content">&gt; new proprieties<p>I&#x27;m guessing this was going to be &quot;properties&quot;? It kinda looks like &quot;proprietary&quot; instead, so let&#x27;s double down on that - I propose &quot;display: tetris;&quot;</div><br/><div id="40136811" class="c"><input type="checkbox" id="c-40136811" checked=""/><div class="controls bullet"><span class="by">falcor84</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40135891">parent</a><span>|</span><a href="#40133345">next</a><span>|</span><label class="collapse" for="c-40136811">[-]</label><label class="expand" for="c-40136811">[1 more]</label></div><br/><div class="children"><div class="content">I would suggest that `display: tetris;` is implemented such that each row SHOULD have whitespace, and if at any point a row becomes fully occupied, a conforming rendering agent MUST remove the entire row.</div><br/></div></div></div></div><div id="40133345" class="c"><input type="checkbox" id="c-40133345" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40135891">prev</a><span>|</span><a href="#40138804">next</a><span>|</span><label class="collapse" for="c-40133345">[-]</label><label class="expand" for="c-40133345">[1 more]</label></div><br/><div class="children"><div class="content">Is there a JavaScript polyfill today that can read the CSS properties in any of the proposed &#x2F; implemented specifications that Just Works in Chrome?</div><br/></div></div><div id="40138804" class="c"><input type="checkbox" id="c-40138804" checked=""/><div class="controls bullet"><span class="by">pier25</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40133345">prev</a><span>|</span><a href="#40136926">next</a><span>|</span><label class="collapse" for="c-40138804">[-]</label><label class="expand" for="c-40138804">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know about the implementation but it makes zero sense that masonry should be part of grid. It&#x27;s not a grid!</div><br/></div></div><div id="40136926" class="c"><input type="checkbox" id="c-40136926" checked=""/><div class="controls bullet"><span class="by">flakiness</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40138804">prev</a><span>|</span><a href="#40134996">next</a><span>|</span><label class="collapse" for="c-40136926">[-]</label><label class="expand" for="c-40136926">[1 more]</label></div><br/><div class="children"><div class="content">If there is a debate, who is pushing back?
Or is it more about details while every vendor is supportive at high-level?</div><br/></div></div><div id="40134996" class="c"><input type="checkbox" id="c-40134996" checked=""/><div class="controls bullet"><span class="by">matsemann</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40136926">prev</a><span>|</span><a href="#40133880">next</a><span>|</span><label class="collapse" for="c-40134996">[-]</label><label class="expand" for="c-40134996">[4 more]</label></div><br/><div class="children"><div class="content">I think one additional point to consider when adding it as a new display mode vs re-using grid, is that currently these demo&#x27;s fallback quite nicely now when it&#x27;s re-using grid. Instead of showing it as masonry (since my browser doesn&#x27;t support it), it at least behaves as a grid. If it&#x27;s a new display: X property, it will fallback to div behavior with the content all over the place in unsupported browsers.</div><br/><div id="40135165" class="c"><input type="checkbox" id="c-40135165" checked=""/><div class="controls bullet"><span class="by">laszlokorte</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40134996">parent</a><span>|</span><a href="#40133880">next</a><span>|</span><label class="collapse" for="c-40135165">[-]</label><label class="expand" for="c-40135165">[3 more]</label></div><br/><div class="children"><div class="content">you could simply do: &quot;display: grid; display: masonry;&quot; and all not-supporting browsers would skip the second declaration.</div><br/><div id="40136830" class="c"><input type="checkbox" id="c-40136830" checked=""/><div class="controls bullet"><span class="by">yurishimo</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40135165">parent</a><span>|</span><a href="#40133880">next</a><span>|</span><label class="collapse" for="c-40136830">[-]</label><label class="expand" for="c-40136830">[2 more]</label></div><br/><div class="children"><div class="content">This is assuming there isn’t any cross pollution of shared properties either.</div><br/><div id="40138870" class="c"><input type="checkbox" id="c-40138870" checked=""/><div class="controls bullet"><span class="by">danielheath</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40136830">parent</a><span>|</span><a href="#40133880">next</a><span>|</span><label class="collapse" for="c-40138870">[-]</label><label class="expand" for="c-40138870">[1 more]</label></div><br/><div class="children"><div class="content">`@supports masonry { shared-property: 1; }`</div><br/></div></div></div></div></div></div></div></div><div id="40133880" class="c"><input type="checkbox" id="c-40133880" checked=""/><div class="controls bullet"><span class="by">reactordev</span><span>|</span><a href="#40131219">parent</a><span>|</span><a href="#40134996">prev</a><span>|</span><a href="#40130495">next</a><span>|</span><label class="collapse" for="c-40133880">[-]</label><label class="expand" for="c-40133880">[7 more]</label></div><br/><div class="children"><div class="content">CSS Grid is a mistake. Baking in a design philosophy when we had really creative pages without it.<p>I like grids for pages with content and documentation and such. I don’t like grids for pages of media or other creative content. Cards, flex box, grids, these are all design framework choices and shouldn’t be in CSS spec. We were totally fine with position relative and media-query centric widths and heights. I get that it’s easier to standardize if grids are part of the standard but I miss the days of pages having some creativity in their design. Every site looks the same nowadays.<p>And before I get downvoted. I have a degree in graphic design. I love CSS and I love the web. Bring back the fun.</div><br/><div id="40134280" class="c"><input type="checkbox" id="c-40134280" checked=""/><div class="controls bullet"><span class="by">fatbuoy1</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40133880">parent</a><span>|</span><a href="#40133936">next</a><span>|</span><label class="collapse" for="c-40134280">[-]</label><label class="expand" for="c-40134280">[2 more]</label></div><br/><div class="children"><div class="content">Sure what was wrong with table layouts and spacer gifs anyway amirite?<p>I’m a designer who codes, and CSS Grid has completely transformed (and simplified) my approach to responsive web design, and enabled much more complex layouts as a result. Just because a layout was possible before doesn’t mean it was easy.<p>By all means do things the old way if you want, but to suggest that it would be better if it didn’t exist is insane.</div><br/><div id="40137143" class="c"><input type="checkbox" id="c-40137143" checked=""/><div class="controls bullet"><span class="by">reactordev</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40134280">parent</a><span>|</span><a href="#40133936">next</a><span>|</span><label class="collapse" for="c-40137143">[-]</label><label class="expand" for="c-40137143">[1 more]</label></div><br/><div class="children"><div class="content">Not that it wouldn’t exist. It just wouldn’t be part of the spec. You are free to declare your own grid.<p>I’m also not advocating to bring back tables and invisible spacer gifs. We have margins and padding for that. Even borders…</div><br/></div></div></div></div><div id="40133936" class="c"><input type="checkbox" id="c-40133936" checked=""/><div class="controls bullet"><span class="by">rhdunn</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40133880">parent</a><span>|</span><a href="#40134280">prev</a><span>|</span><a href="#40134785">next</a><span>|</span><label class="collapse" for="c-40133936">[-]</label><label class="expand" for="c-40133936">[3 more]</label></div><br/><div class="children"><div class="content">CSS grid makes it possible to implement wrapped content that is uniformally aligned with the last row keeping the same number of columns as the others, and have that scale correctly to different page widths. This is useful in things like book layouts. You can get close with flex, but the last row doesn&#x27;t fully work.</div><br/><div id="40137170" class="c"><input type="checkbox" id="c-40137170" checked=""/><div class="controls bullet"><span class="by">reactordev</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40133936">parent</a><span>|</span><a href="#40134785">next</a><span>|</span><label class="collapse" for="c-40137170">[-]</label><label class="expand" for="c-40137170">[2 more]</label></div><br/><div class="children"><div class="content">Does it require a ::last-child hack to get working? I’m a fan of grids when it comes to heavy writing content like I mentioned but I still don’t think it should all be packed in the spec.</div><br/><div id="40141620" class="c"><input type="checkbox" id="c-40141620" checked=""/><div class="controls bullet"><span class="by">rhdunn</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40137170">parent</a><span>|</span><a href="#40134785">next</a><span>|</span><label class="collapse" for="c-40141620">[-]</label><label class="expand" for="c-40141620">[1 more]</label></div><br/><div class="children"><div class="content">No, just:<p><pre><code>    main.books {
        display: grid;
        grid-template-columns: repeat(auto-fill, 180px);
        grid-gap: 1rem;
        justify-content: space-between;
    }
</code></pre>
That will make the child items 180px wide, repeat as many children in a row as needed to fill the width with a gap of atleast 1rem extended so that the items are justified to the left and right and are spread evenly. The last row has however many children are left with those children positioned to match the rows above.<p>See <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;46099319" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;46099319</a>.</div><br/></div></div></div></div></div></div><div id="40134785" class="c"><input type="checkbox" id="c-40134785" checked=""/><div class="controls bullet"><span class="by">krsdcbl</span><span>|</span><a href="#40131219">root</a><span>|</span><a href="#40133880">parent</a><span>|</span><a href="#40133936">prev</a><span>|</span><a href="#40130495">next</a><span>|</span><label class="collapse" for="c-40134785">[-]</label><label class="expand" for="c-40134785">[1 more]</label></div><br/><div class="children"><div class="content">It was &quot;fun&quot; when tinkering with some really creative special concern, it was an insufferable pain when your job was finding ways to layout all the &quot;fun&quot; designers envisioned who weren&#x27;t highly familiar with CSS.<p>Before position and float madness and all, we used to abuse tables -- because layouts for complex information do work best in grid systems. Now CSS finally has a module that serves this purpose, and brings a huge amount of flexibility to make formerly painful stuff easy.<p>I&#x27;m not even talking about &quot;page layouts&quot; as a whole, just simple particle patterns like &quot;a big icon with a title + description to it&#x27;s right&quot; is so so much cleaner and easier to do in markup AND css with grid.<p>Embrace the tools, and if you dislike them - you may as well just not use them. But thinks like grid make simple, stupid, deadlined webdesign _work_ so so much less of a grind.<p>(speaking as a General Graphic Designer who&#x27;s also been deep, deep in CSS since before 2.1)</div><br/></div></div></div></div></div></div><div id="40130495" class="c"><input type="checkbox" id="c-40130495" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#40131219">prev</a><span>|</span><a href="#40130406">next</a><span>|</span><label class="collapse" for="c-40130495">[-]</label><label class="expand" for="c-40130495">[12 more]</label></div><br/><div class="children"><div class="content">I strongly dislike the megamenu demo &lt;<a href="https:&#x2F;&#x2F;webkit.org&#x2F;demos&#x2F;grid3&#x2F;megamenu&#x2F;" rel="nofollow">https:&#x2F;&#x2F;webkit.org&#x2F;demos&#x2F;grid3&#x2F;megamenu&#x2F;</a>&gt;, and feel masonry is completely inappropriate there. It makes a complete mess of flow direction, badly breaking expectations.<p>The reading order you’d <i>expect</i>: <a href="https:&#x2F;&#x2F;temp.chrismorgan.info&#x2F;2024-04-23-masonry-megamenu-2.png" rel="nofollow">https:&#x2F;&#x2F;temp.chrismorgan.info&#x2F;2024-04-23-masonry-megamenu-2....</a>.<p>What the demo actually gives you: <a href="https:&#x2F;&#x2F;temp.chrismorgan.info&#x2F;2024-04-23-masonry-megamenu-1.png" rel="nofollow">https:&#x2F;&#x2F;temp.chrismorgan.info&#x2F;2024-04-23-masonry-megamenu-1....</a>. This affects correct reading order and tab indexes. Basically, sighted users will <i>always</i> read things in the “wrong” order. This just drives home that there is no structure, it’s just an unstructured bag of links. Except… actually if you go through them in numbered order, it looks like there <i>was</i> some fairly logical ordering. It’s just been utterly demolished by inappropriate masonisation.<p>(I’ve turned on “number items” in those screenshots. Normally, it’d look more like normal columns with no backgrounds.)<p>The way it <i>should</i> be implemented is with columns, but adding `break-inside: avoid` on each section, which their demo has missed.<p>The newspaper demo is also a little dubious for similar reasons, but it’s a much smaller deal.<p>Now images and such media which are in more independent blocks and where reading order isn’t such an ingrained thing, masonry layout <i>does</i> work better there. There are still patches where things can be a bit iffy, mostly around tab indexing, but it’s not <i>obviously wrong</i> any more.</div><br/><div id="40130560" class="c"><input type="checkbox" id="c-40130560" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#40130495">parent</a><span>|</span><a href="#40138082">next</a><span>|</span><label class="collapse" for="c-40130560">[-]</label><label class="expand" for="c-40130560">[6 more]</label></div><br/><div class="children"><div class="content">So you&#x27;re saying the a11y tree and tab ordering is bypassing the actual ordering of content and instead traversing the columns one by one? I&#x27;d call that a bug. In a masonry layout the expectation of a sighted user is that there is no continuity from column to column, but instead through the visual line. And the &quot;unexpected&quot; (disagree) ordering you show does that. I think the issue would be that tab ordering is ignoring the raw ordering of the content and instead trying to emulate something visual, almost certainly some kind of hold over of the implementation as it currently exists.</div><br/><div id="40131492" class="c"><input type="checkbox" id="c-40131492" checked=""/><div class="controls bullet"><span class="by">ptx</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40130560">parent</a><span>|</span><a href="#40130891">next</a><span>|</span><label class="collapse" for="c-40131492">[-]</label><label class="expand" for="c-40131492">[4 more]</label></div><br/><div class="children"><div class="content">Maybe it&#x27;s just me, but as a sighted user I have no idea how to read this kind of layout. My expectation would be that any sane designer wouldn&#x27;t use this kind of layout in the first place.<p>What&#x27;s the &quot;visual line&quot; in the first example? It goes 1, 2, 3, 4; then down to 5; then a sudden break in the line as it jumps over 3 to the left to reach 6?<p>Are we supposed to mentally sort the boxes by the top edge coordinates before reading? That would almost make sense of the second example, except that it doesn&#x27;t explain why 9 comes before 10. Maybe sort by the coordinates of the bottom edge instead? But then 5 should be first. How do I read this thing?<p>Edit: Actually box 9 seems to start 1 pixel above box 10, so sorting by top edge does work! So a sighted reader simply has to zoom in to the pixel level and carefully measure the coordinates of all the boxes to find the reading order.</div><br/><div id="40133331" class="c"><input type="checkbox" id="c-40133331" checked=""/><div class="controls bullet"><span class="by">amenhotep</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40131492">parent</a><span>|</span><a href="#40138203">next</a><span>|</span><label class="collapse" for="c-40133331">[-]</label><label class="expand" for="c-40133331">[1 more]</label></div><br/><div class="children"><div class="content">My experience with it has mostly been on Flickr, and I hated it for this exact reason, even though that was mostly pictures not text. Sure, it&#x27;s very pretty if you just want to look at the site and not engage with it in any detailed way, like professional designers seem to intend for us, but I always wanted to look at a page of pictures and scan my attention over them systemically, finding those that interested me, being distracted by them briefly, then returning to the scan and knowing where I&#x27;d left off.<p>Trying to do this with the &quot;masonry&quot; was <i>horrible</i>. What direction do you go in? Horizontally? Then how do you track which elements belong in which row, where you&#x27;ve already been? They&#x27;re all interleaved. Vertically? Have fun scrolling down and down and down forever as the page loads more and more content dynamically. No, neither of those is how you&#x27;re meant to engage, you&#x27;re supposed to simply sit quietly and look at the big wall of pretty pictures.<p>Giving designers a non-javascripty way to do it is nice, I guess, but I really hope the effect is that the bad layouts we already have are at least better executed technologically, rather than that the better technology encourages designers to use bad layouts more often.</div><br/></div></div><div id="40138203" class="c"><input type="checkbox" id="c-40138203" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40131492">parent</a><span>|</span><a href="#40133331">prev</a><span>|</span><a href="#40134161">next</a><span>|</span><label class="collapse" for="c-40138203">[-]</label><label class="expand" for="c-40138203">[1 more]</label></div><br/><div class="children"><div class="content">Well, the idea with this layout is that there isn&#x27;t really an inherit order to the children. You would use it where it doesn&#x27;t matter which order you &#x27;read&#x27; the items.<p>If the order was important, you would use a 1D or 2D layout.</div><br/></div></div><div id="40134161" class="c"><input type="checkbox" id="c-40134161" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40131492">parent</a><span>|</span><a href="#40138203">prev</a><span>|</span><a href="#40130891">next</a><span>|</span><label class="collapse" for="c-40134161">[-]</label><label class="expand" for="c-40134161">[1 more]</label></div><br/><div class="children"><div class="content">Well no, the idea is that these are not related pieces of content. It&#x27;s less of a newspaper article and more about independent items that are placed across the page. You don&#x27;t have to follow the flow exactly as a user, but following the visual line is &quot;more correct&quot; than following through all of column A, then column B, etc.</div><br/></div></div></div></div><div id="40130891" class="c"><input type="checkbox" id="c-40130891" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40130560">parent</a><span>|</span><a href="#40131492">prev</a><span>|</span><a href="#40138082">next</a><span>|</span><label class="collapse" for="c-40130891">[-]</label><label class="expand" for="c-40130891">[1 more]</label></div><br/><div class="children"><div class="content">The problem here is that users will look at the end result and see a series of columns, but that the use of masonry makes it not that at all.<p>I’m saying that masonry is <i>risky</i> if you’re using it purely visually, specifically <i>because</i> it’s purely visual. It’s the same deal with the CSS `order` property: it can be useful, but you have to be careful not to break expectations.<p>CSS is <i>almost</i> purely visual. There are a few cases where it influences the accessibility tree (e.g. `display: none`, `speak-as`, `appearance` in some user agents), but never in anything like order.</div><br/></div></div></div></div><div id="40138082" class="c"><input type="checkbox" id="c-40138082" checked=""/><div class="controls bullet"><span class="by">KTibow</span><span>|</span><a href="#40130495">parent</a><span>|</span><a href="#40130560">prev</a><span>|</span><a href="#40130561">next</a><span>|</span><label class="collapse" for="c-40138082">[-]</label><label class="expand" for="c-40138082">[1 more]</label></div><br/><div class="children"><div class="content">Focusing solely on sighted users, I think the current ordering makes sense. What you propose would require often scrolling up and down to view the items in order, and would have large layout shifts if more items are added.</div><br/></div></div><div id="40130561" class="c"><input type="checkbox" id="c-40130561" checked=""/><div class="controls bullet"><span class="by">sebstefan</span><span>|</span><a href="#40130495">parent</a><span>|</span><a href="#40138082">prev</a><span>|</span><a href="#40130406">next</a><span>|</span><label class="collapse" for="c-40130561">[-]</label><label class="expand" for="c-40130561">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s just a random demo. It&#x27;s not particularly relevant for the concept they&#x27;re trying to gather feedback on</div><br/><div id="40130771" class="c"><input type="checkbox" id="c-40130771" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40130561">parent</a><span>|</span><a href="#40130406">next</a><span>|</span><label class="collapse" for="c-40130771">[-]</label><label class="expand" for="c-40130771">[3 more]</label></div><br/><div class="children"><div class="content">The demos should be motivating the feature. A bad demo is destructive to that effort. This is a very bad demo.</div><br/><div id="40141834" class="c"><input type="checkbox" id="c-40141834" checked=""/><div class="controls bullet"><span class="by">sebstefan</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40130771">parent</a><span>|</span><a href="#40132863">next</a><span>|</span><label class="collapse" for="c-40141834">[-]</label><label class="expand" for="c-40141834">[1 more]</label></div><br/><div class="children"><div class="content">People who have nothing to say on the shed talk about the color</div><br/></div></div><div id="40132863" class="c"><input type="checkbox" id="c-40132863" checked=""/><div class="controls bullet"><span class="by">hombre_fatal</span><span>|</span><a href="#40130495">root</a><span>|</span><a href="#40130771">parent</a><span>|</span><a href="#40141834">prev</a><span>|</span><a href="#40130406">next</a><span>|</span><label class="collapse" for="c-40132863">[-]</label><label class="expand" for="c-40132863">[1 more]</label></div><br/><div class="children"><div class="content">If you open the demos in a browser like Safari that doesn&#x27;t support the feature, the demos remain as normal grid-aligned cells.<p>There I realize that masonry mainly works when your cells have such different heights that to grid-align them creates a lot of vertical dead space. Images and news blocks with images make sense for masonry for this reason and it feels good.<p>But text-only cells where the cell heights don&#x27;t differ much, they seem better without masonry. The megamenu demo also works much better as a normal grid because they start with a header so grid alignment lets you scan the headers left to right easily.<p>A text-only newspaper could make sense with masonry because you aren&#x27;t trying to navigate relationships between the items, and presumably the content can vary the cell height a lot.</div><br/></div></div></div></div></div></div></div></div><div id="40130406" class="c"><input type="checkbox" id="c-40130406" checked=""/><div class="controls bullet"><span class="by">pimterry</span><span>|</span><a href="#40130495">prev</a><span>|</span><a href="#40131932">next</a><span>|</span><label class="collapse" for="c-40130406">[-]</label><label class="expand" for="c-40130406">[1 more]</label></div><br/><div class="children"><div class="content">A really nice feature here is that if you view the demos in a browser that doesn&#x27;t support this (i.e. all current stable browser releases without special flags enabled) because they&#x27;re building directly on grid layouts, they still appear in a pretty reasonable fixed-row format: <a href="https:&#x2F;&#x2F;webkit.org&#x2F;demos&#x2F;grid3&#x2F;" rel="nofollow">https:&#x2F;&#x2F;webkit.org&#x2F;demos&#x2F;grid3&#x2F;</a>.<p>In each case it&#x27;d look much nicer with a proper masonry layout but it&#x27;s still very usable otherwise (and of course you could feature detect to provide a better fallback if you&#x27;re not happy with that anyway).</div><br/></div></div><div id="40131932" class="c"><input type="checkbox" id="c-40131932" checked=""/><div class="controls bullet"><span class="by">t_mann</span><span>|</span><a href="#40130406">prev</a><span>|</span><a href="#40132769">next</a><span>|</span><label class="collapse" for="c-40131932">[-]</label><label class="expand" for="c-40131932">[4 more]</label></div><br/><div class="children"><div class="content">I really like the general look and feel of masonry&#x2F;waterfall layout, maybe it&#x27;s because I grew up reading physical newspapers (and still do), but to me a columnar layout is just an intuitive way to divide up a page.<p>I just wish there was an alternative to the default masonry ordering, which afaik is a simple rule that goes sth like &#x27;place the next item in whichever column it can go up highest&#x27;. This means that the left-to-right order is really juggled from the second row onwards. What I imagine would be really nice is if there was a layout that preserves more of the left-to-right (or right-to-left, if that&#x27;s your preferred direction) reading flow. Something like &#x27;put the next item one column to the right of the previous item (or in the leftmost, if you were at the rightmost), unless you can put a second item in the same column without the new bottom going too far below the bottom border of the column to its left&#x27;. This would be more flexible than strictly going left-to-right (which would also mess up alignment) and would reatin <i>some</i> meaning of the left-to-right reading direction.<p>I know it won&#x27;t be possible to accommodate every possible formula one could prefer for masonry, but if you have content where the ordering matters at least a bit (maybe not for Pinterest, but for a journal eg it would), then I really think sth like this would be a more sensible default than the classic masonry rule.</div><br/><div id="40134102" class="c"><input type="checkbox" id="c-40134102" checked=""/><div class="controls bullet"><span class="by">amadeuspagel</span><span>|</span><a href="#40131932">parent</a><span>|</span><a href="#40132000">next</a><span>|</span><label class="collapse" for="c-40134102">[-]</label><label class="expand" for="c-40134102">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d only use a masonry layout for something where there&#x27;s no &quot;clear&quot; order anyway. I wouldn&#x27;t use it for chronologically sorted images.</div><br/></div></div><div id="40132000" class="c"><input type="checkbox" id="c-40132000" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#40131932">parent</a><span>|</span><a href="#40134102">prev</a><span>|</span><a href="#40132769">next</a><span>|</span><label class="collapse" for="c-40132000">[-]</label><label class="expand" for="c-40132000">[2 more]</label></div><br/><div class="children"><div class="content">something like:<p><pre><code>    {
       &#x2F;* Move element a maximum of 2 columns left or right on update *&#x2F;
       grid-template-max-horizontal-shift: 2 col;
    }</code></pre></div><br/><div id="40132134" class="c"><input type="checkbox" id="c-40132134" checked=""/><div class="controls bullet"><span class="by">mvkel</span><span>|</span><a href="#40131932">root</a><span>|</span><a href="#40132000">parent</a><span>|</span><a href="#40132769">next</a><span>|</span><label class="collapse" for="c-40132134">[-]</label><label class="expand" for="c-40132134">[1 more]</label></div><br/><div class="children"><div class="content">You could run into issues where you don&#x27;t have enough content to plug the holes this way though, right?<p>For example if there&#x27;s a gap that needs filling that Is 3 spaces away</div><br/></div></div></div></div></div></div><div id="40132769" class="c"><input type="checkbox" id="c-40132769" checked=""/><div class="controls bullet"><span class="by">turboat</span><span>|</span><a href="#40131932">prev</a><span>|</span><a href="#40131309">next</a><span>|</span><label class="collapse" for="c-40132769">[-]</label><label class="expand" for="c-40132769">[11 more]</label></div><br/><div class="children"><div class="content">Suppose we could create a backwards-incompatible system to replace CSS. How would we do it?<p>Are there any books or papers on how to create a coherent layout system?<p>What about alternatives like Qt, Tk, SwiftUI, etc.? I&#x27;ve never used anything besides CSS. Are any of the actually-implemented systems in the wild better? If so, what makes them better?<p>I want a system that provides a better interface for developers, but how? If we could start over, what are the design principles?</div><br/><div id="40138359" class="c"><input type="checkbox" id="c-40138359" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#40132769">parent</a><span>|</span><a href="#40133208">next</a><span>|</span><label class="collapse" for="c-40138359">[-]</label><label class="expand" for="c-40138359">[1 more]</label></div><br/><div class="children"><div class="content">Not particularly anti-css, but you may be interested in concepts like size groups, properly predictable size-request-allocate cycle, width-for-height, constraint- and align-based layouts and in generally cleaning up the mess of non-orthogonally connected ideas in css. More explicitness and separation for properties. Remove bs like negative margins, make all distances multi-level, e.g. padding = max(el.paddings[]). Make bounding boxes explicit, make borders proper elements, etc. Boxing isn’t a bad model, CSS is just an awful implementation of it. Absolutely ridden with fragile incantations and absurd limitations which bring more issues and “solutions” that will break 99% of the times you touch it.</div><br/></div></div><div id="40133208" class="c"><input type="checkbox" id="c-40133208" checked=""/><div class="controls bullet"><span class="by">mch82</span><span>|</span><a href="#40132769">parent</a><span>|</span><a href="#40138359">prev</a><span>|</span><a href="#40135867">next</a><span>|</span><label class="collapse" for="c-40133208">[-]</label><label class="expand" for="c-40133208">[1 more]</label></div><br/><div class="children"><div class="content">Constraint-based layout using the Cassowary algorithm seemed like a popular alternative for a while (see <a href="https:&#x2F;&#x2F;github.com&#x2F;slightlyoff&#x2F;cassowary.js&#x2F;?tab=readme-ov-file">https:&#x2F;&#x2F;github.com&#x2F;slightlyoff&#x2F;cassowary.js&#x2F;?tab=readme-ov-f...</a>). It’s designed to solve for variance in screen size and shape. Apple switched to Swift UI and may have moved on from this approach.</div><br/></div></div><div id="40135867" class="c"><input type="checkbox" id="c-40135867" checked=""/><div class="controls bullet"><span class="by">cdrini</span><span>|</span><a href="#40132769">parent</a><span>|</span><a href="#40133208">prev</a><span>|</span><a href="#40132951">next</a><span>|</span><label class="collapse" for="c-40135867">[-]</label><label class="expand" for="c-40135867">[2 more]</label></div><br/><div class="children"><div class="content">This would be such an interesting write up comparing many styling&#x2F;layout systems! Unfortunately I reckon not many people have experience with multiple styling languages, so not many people can create such a write-up.<p>I think flutter and XAML might be other interesting ones to look at</div><br/><div id="40138241" class="c"><input type="checkbox" id="c-40138241" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#40132769">root</a><span>|</span><a href="#40135867">parent</a><span>|</span><a href="#40132951">next</a><span>|</span><label class="collapse" for="c-40138241">[-]</label><label class="expand" for="c-40138241">[1 more]</label></div><br/><div class="children"><div class="content">XAML poorly reimplements half of CSS layout, and then gives up and tells you to write your own manually positioned layout with terrible performance.<p>Things which are 3 lines in CSS are hundreds of lines of a combination XAML&#x2F;.NET only to get janky window resizing behaviour.</div><br/></div></div></div></div><div id="40132951" class="c"><input type="checkbox" id="c-40132951" checked=""/><div class="controls bullet"><span class="by">eyelidlessness</span><span>|</span><a href="#40132769">parent</a><span>|</span><a href="#40135867">prev</a><span>|</span><a href="#40133209">next</a><span>|</span><label class="collapse" for="c-40132951">[-]</label><label class="expand" for="c-40132951">[1 more]</label></div><br/><div class="children"><div class="content">One thing to be cautious about when selecting prior art for reference is that CSS sets a high bar for declarative control. I can’t speak to any you mention in detail, but my sense is that more comparable prior art would likely be found in print use cases.</div><br/></div></div><div id="40133209" class="c"><input type="checkbox" id="c-40133209" checked=""/><div class="controls bullet"><span class="by">legulere</span><span>|</span><a href="#40132769">parent</a><span>|</span><a href="#40132951">prev</a><span>|</span><a href="#40133119">next</a><span>|</span><label class="collapse" for="c-40133209">[-]</label><label class="expand" for="c-40133209">[3 more]</label></div><br/><div class="children"><div class="content">I think one classic book about it is &quot;Rastersysteme für die visuelle Gestaltung - Grid systems in Graphic Design&quot;. Never read it though.</div><br/><div id="40134085" class="c"><input type="checkbox" id="c-40134085" checked=""/><div class="controls bullet"><span class="by">turboat</span><span>|</span><a href="#40132769">root</a><span>|</span><a href="#40133209">parent</a><span>|</span><a href="#40135915">next</a><span>|</span><label class="collapse" for="c-40134085">[-]</label><label class="expand" for="c-40134085">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the reference.<p>As I&#x27;ve been thinking about this, I do wonder if starting with grids as the foundation would have been a better approach. As I understand it, early CSS focused on stuff like color and font style, with primitive layout tools. Over time better tools have been bolted on, but it&#x27;s messy.<p>Say we merged flexbox and grid into a unified system, and threw away the other layout algorithms. At the same time, made some tweaks to clarify margin, border, padding, and overflow. Maybe that&#x27;s a good foundation.</div><br/></div></div><div id="40135915" class="c"><input type="checkbox" id="c-40135915" checked=""/><div class="controls bullet"><span class="by">cdrini</span><span>|</span><a href="#40132769">root</a><span>|</span><a href="#40133209">parent</a><span>|</span><a href="#40134085">prev</a><span>|</span><a href="#40133119">next</a><span>|</span><label class="collapse" for="c-40135915">[-]</label><label class="expand" for="c-40135915">[1 more]</label></div><br/><div class="children"><div class="content">Ah available for borrow at Internet Archive: <a href="https:&#x2F;&#x2F;openlibrary.org&#x2F;works&#x2F;OL3106695W&#x2F;Grid_systems_in_graphic_design?edition=key%3A&#x2F;books&#x2F;OL15500591M" rel="nofollow">https:&#x2F;&#x2F;openlibrary.org&#x2F;works&#x2F;OL3106695W&#x2F;Grid_systems_in_gra...</a></div><br/></div></div></div></div><div id="40133119" class="c"><input type="checkbox" id="c-40133119" checked=""/><div class="controls bullet"><span class="by">pphysch</span><span>|</span><a href="#40132769">parent</a><span>|</span><a href="#40133209">prev</a><span>|</span><a href="#40131309">next</a><span>|</span><label class="collapse" for="c-40133119">[-]</label><label class="expand" for="c-40133119">[2 more]</label></div><br/><div class="children"><div class="content">CSS is overall pretty great and I&#x27;ve seen at least a couple non-web GUIs rip out their bespoke GUI systems and replace them with CSS or something very much like it.<p>I think the big change will be better support for hierarchical definitions, including but not limited to nesting. TFA discussion would be pretty moot if there were namespaced properties that could somehow fit under display: masonry; rather than polluting the global namespace.</div><br/><div id="40133956" class="c"><input type="checkbox" id="c-40133956" checked=""/><div class="controls bullet"><span class="by">turboat</span><span>|</span><a href="#40132769">root</a><span>|</span><a href="#40133119">parent</a><span>|</span><a href="#40131309">next</a><span>|</span><label class="collapse" for="c-40133956">[-]</label><label class="expand" for="c-40133956">[1 more]</label></div><br/><div class="children"><div class="content">I have to assume that&#x27;s partly because of the availability of implementations, tooling, and developer familiarity. Many platforms will let you toss in a web view, and if you want to set up e.g. a configuration screen with text and toggles, HTML&#x2F;CSS will get the job done, more easily than maintaining a custom system that&#x27;s peripheral to the core purpose of your app.<p>I don&#x27;t want to be overly negative, but I just can&#x27;t view CSS as &quot;pretty great.&quot;<p>I appreciate the inherent difficulty of using 1-dimensional static text to specify a 2-dimensional dynamic layout. Still, basically every programming problem involves defining abstractions over some domain concept and expressing that in the syntax of your programming language. Somehow that&#x27;s harder in CSS than any other language I&#x27;ve used.<p>Within web dev I find both HTML and JS much easier to work with, despite their imperfections.</div><br/></div></div></div></div></div></div><div id="40131309" class="c"><input type="checkbox" id="c-40131309" checked=""/><div class="controls bullet"><span class="by">emadda</span><span>|</span><a href="#40132769">prev</a><span>|</span><a href="#40132909">next</a><span>|</span><label class="collapse" for="c-40131309">[-]</label><label class="expand" for="c-40131309">[3 more]</label></div><br/><div class="children"><div class="content">Related: I created an interactive demo of grid principles here:<p><a href="https:&#x2F;&#x2F;cssprinciples.com&#x2F;3&#x2F;grid&#x2F;" rel="nofollow">https:&#x2F;&#x2F;cssprinciples.com&#x2F;3&#x2F;grid&#x2F;</a></div><br/><div id="40131406" class="c"><input type="checkbox" id="c-40131406" checked=""/><div class="controls bullet"><span class="by">victor106</span><span>|</span><a href="#40131309">parent</a><span>|</span><a href="#40132909">next</a><span>|</span><label class="collapse" for="c-40131406">[-]</label><label class="expand" for="c-40131406">[2 more]</label></div><br/><div class="children"><div class="content">this is very educational and useful</div><br/><div id="40131633" class="c"><input type="checkbox" id="c-40131633" checked=""/><div class="controls bullet"><span class="by">emadda</span><span>|</span><a href="#40131309">root</a><span>|</span><a href="#40131406">parent</a><span>|</span><a href="#40132909">next</a><span>|</span><label class="collapse" for="c-40131633">[-]</label><label class="expand" for="c-40131633">[1 more]</label></div><br/><div class="children"><div class="content">Thanks Victor, it means a lot :)</div><br/></div></div></div></div></div></div><div id="40132909" class="c"><input type="checkbox" id="c-40132909" checked=""/><div class="controls bullet"><span class="by">SassyBird</span><span>|</span><a href="#40131309">prev</a><span>|</span><a href="#40130419">next</a><span>|</span><label class="collapse" for="c-40132909">[-]</label><label class="expand" for="c-40132909">[4 more]</label></div><br/><div class="children"><div class="content">Reposting as a top comment for more visibility:<p>I have a website with my photos, which doesn’t use any JS for layout. When I was making it, I considered using JS masonry libraries, but I wasn’t satisfied with the results. Proper masonry layouts which fill all available space in practice actually crop some images. Leaving space around photos is required when you don’t want cropping and want to preserve aspect ratio. The only way not to do that is to have infinite scroll, which I guess is what corporate addiction machines want, but that’s not what I want on my own website. Here is what I did:<p><a href="https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;albumless&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;albumless&#x2F;</a><p><a href="https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;album&#x2F;kenya-2023&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;album&#x2F;kenya-2023&#x2F;</a><p>I used display:inline-block to achieve this result, effectively treating photos as text that needs to reflow into new lines. I’m very satisfied with the result and prefer it over what the masonry libraries do.</div><br/><div id="40136390" class="c"><input type="checkbox" id="c-40136390" checked=""/><div class="controls bullet"><span class="by">FireInsight</span><span>|</span><a href="#40132909">parent</a><span>|</span><a href="#40135896">next</a><span>|</span><label class="collapse" for="c-40136390">[-]</label><label class="expand" for="c-40136390">[1 more]</label></div><br/><div class="children"><div class="content">You could probably have done this layout in a couple lines of CSS with a row-oriented flexbox that wraps and is center-aligned. That would be the more standard way to do it too.</div><br/></div></div><div id="40135896" class="c"><input type="checkbox" id="c-40135896" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#40132909">parent</a><span>|</span><a href="#40136390">prev</a><span>|</span><a href="#40134044">next</a><span>|</span><label class="collapse" for="c-40135896">[-]</label><label class="expand" for="c-40135896">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t use JS for masonry layout. I have a fallback from the current masonry CSS solution to a supported CSS solution.<p>The problem is ordering. The current CSS-only solutions work fine as long as the order is not important. (though you will still end up with weirdness at the bottoms of the columns IIRC)</div><br/></div></div><div id="40134044" class="c"><input type="checkbox" id="c-40134044" checked=""/><div class="controls bullet"><span class="by">datagram</span><span>|</span><a href="#40132909">parent</a><span>|</span><a href="#40135896">prev</a><span>|</span><a href="#40130419">next</a><span>|</span><label class="collapse" for="c-40134044">[-]</label><label class="expand" for="c-40134044">[1 more]</label></div><br/><div class="children"><div class="content">Flexbox was designed for these kinds of layouts, so that would also be an option here.</div><br/></div></div></div></div><div id="40130419" class="c"><input type="checkbox" id="c-40130419" checked=""/><div class="controls bullet"><span class="by">m3h</span><span>|</span><a href="#40132909">prev</a><span>|</span><a href="#40134504">next</a><span>|</span><label class="collapse" for="c-40130419">[-]</label><label class="expand" for="c-40130419">[20 more]</label></div><br/><div class="children"><div class="content">I am wondering whether it makes sense to keep adding more &quot;layout&quot; options to CSS, given that we have the legacy floats and then the modern flexbox and grid layout. If there are still cases that are not covered, perhaps a better solution to to have one final constraints-based system that covers all layout cases, even if it comes at the cost of complexity. The CSS frameworks and utility libraries will then be built on top of it to provide the next generation of &quot;masonry&quot; grid, etc.</div><br/><div id="40130537" class="c"><input type="checkbox" id="c-40130537" checked=""/><div class="controls bullet"><span class="by">meandmycode</span><span>|</span><a href="#40130419">parent</a><span>|</span><a href="#40130481">next</a><span>|</span><label class="collapse" for="c-40130537">[-]</label><label class="expand" for="c-40130537">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m dubious that a constraints system would ever be considered, CSS has so far had some strong goals around it&#x27;s predictably on layout cost.. that said, Houdini layout proposal is the closest to your comment, offloading layout to an isolated js context <a href="https:&#x2F;&#x2F;github.com&#x2F;w3c&#x2F;css-houdini-drafts&#x2F;blob&#x2F;main&#x2F;css-layout-api&#x2F;EXPLAINER.md">https:&#x2F;&#x2F;github.com&#x2F;w3c&#x2F;css-houdini-drafts&#x2F;blob&#x2F;main&#x2F;css-layo...</a> .. but honestly flex and grid, plus other things like containment have solved so many things for folks now that there&#x27;s just far less demand for improvement than the days before flex</div><br/><div id="40138316" class="c"><input type="checkbox" id="c-40138316" checked=""/><div class="controls bullet"><span class="by">madeofpalk</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130537">parent</a><span>|</span><a href="#40130481">next</a><span>|</span><label class="collapse" for="c-40138316">[-]</label><label class="expand" for="c-40138316">[1 more]</label></div><br/><div class="children"><div class="content">Oh man - I remember attending a CSS meetup in like 2014 at the Google offices in Sydney where someone from the CSS WG presented Houdini Layout. I would be surprised if that ever ships.</div><br/></div></div></div></div><div id="40130481" class="c"><input type="checkbox" id="c-40130481" checked=""/><div class="controls bullet"><span class="by">seumars</span><span>|</span><a href="#40130419">parent</a><span>|</span><a href="#40130537">prev</a><span>|</span><a href="#40134796">next</a><span>|</span><label class="collapse" for="c-40130481">[-]</label><label class="expand" for="c-40130481">[5 more]</label></div><br/><div class="children"><div class="content">The whole point of this initiative is to stop using out of date float-hacks, or soon-to-be out of date hacks to CSS grid or flexbox. Firefox&#x27;s masonry layout is in fact implemented in such a way that basically covers all layout cases by simply adding a new attribute that collapses grid rows.</div><br/><div id="40130675" class="c"><input type="checkbox" id="c-40130675" checked=""/><div class="controls bullet"><span class="by">Terretta</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130481">parent</a><span>|</span><a href="#40130627">next</a><span>|</span><label class="collapse" for="c-40130675">[-]</label><label class="expand" for="c-40130675">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Firefox masonry... by simply adding a new attribute that collapses grid rows</i><p>Not just Firefox, the proposal here is<p><pre><code>    grid-template-rows: off;</code></pre></div><br/></div></div><div id="40130505" class="c"><input type="checkbox" id="c-40130505" checked=""/><div class="controls bullet"><span class="by">m3h</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130481">parent</a><span>|</span><a href="#40130627">prev</a><span>|</span><a href="#40134796">next</a><span>|</span><label class="collapse" for="c-40130505">[-]</label><label class="expand" for="c-40130505">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Firefox&#x27;s masonry layout is in fact implemented in such a way that basically covers all layout cases<p>That&#x27;s good to know.</div><br/></div></div></div></div><div id="40134796" class="c"><input type="checkbox" id="c-40134796" checked=""/><div class="controls bullet"><span class="by">cnotv</span><span>|</span><a href="#40130419">parent</a><span>|</span><a href="#40130481">prev</a><span>|</span><a href="#40130484">next</a><span>|</span><label class="collapse" for="c-40134796">[-]</label><label class="expand" for="c-40134796">[2 more]</label></div><br/><div class="children"><div class="content">It IS grid, lvl 3. You can achieve it with:<p><pre><code>  display: grid;

  grid-template-rows: masonry;

</code></pre>
This is however limited to webkit. I implemented it and ditched in October 2023 already for my private news feed in gallery mode.</div><br/><div id="40135962" class="c"><input type="checkbox" id="c-40135962" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40134796">parent</a><span>|</span><a href="#40130484">next</a><span>|</span><label class="collapse" for="c-40135962">[-]</label><label class="expand" for="c-40135962">[1 more]</label></div><br/><div class="children"><div class="content">What do you use instead?<p>I have it behind a CSS test for the existence of the CSS property so it is only enabled if the browser supports it.</div><br/></div></div></div></div><div id="40130484" class="c"><input type="checkbox" id="c-40130484" checked=""/><div class="controls bullet"><span class="by">zarzavat</span><span>|</span><a href="#40130419">parent</a><span>|</span><a href="#40134796">prev</a><span>|</span><a href="#40130494">next</a><span>|</span><label class="collapse" for="c-40130484">[-]</label><label class="expand" for="c-40130484">[9 more]</label></div><br/><div class="children"><div class="content">JavaScript is the final layout system. No declarative language can ever handle every use case. Fortunately I rarely need to resort to JS since grid came out.<p>I’m not sure a constraint based system would do much good as it would sit awkwardly in the middle of grid and JS.</div><br/><div id="40131520" class="c"><input type="checkbox" id="c-40131520" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130484">parent</a><span>|</span><a href="#40130628">next</a><span>|</span><label class="collapse" for="c-40131520">[-]</label><label class="expand" for="c-40131520">[1 more]</label></div><br/><div class="children"><div class="content">With great power comes poor performance. I can immediately tell when a page uses JS for layouting (or replacing other browser functions like scrolling) as there is a noticable latency increase and the page lags about 200-300 ms behind when resizing the window.</div><br/></div></div><div id="40130628" class="c"><input type="checkbox" id="c-40130628" checked=""/><div class="controls bullet"><span class="by">baryphonic</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130484">parent</a><span>|</span><a href="#40131520">prev</a><span>|</span><a href="#40130494">next</a><span>|</span><label class="collapse" for="c-40130628">[-]</label><label class="expand" for="c-40130628">[7 more]</label></div><br/><div class="children"><div class="content">&gt; No declarative language can ever handle every use case.<p>Prolog would beg to differ.</div><br/><div id="40130901" class="c"><input type="checkbox" id="c-40130901" checked=""/><div class="controls bullet"><span class="by">jampekka</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130628">parent</a><span>|</span><a href="#40131255">next</a><span>|</span><label class="collapse" for="c-40130901">[-]</label><label class="expand" for="c-40130901">[2 more]</label></div><br/><div class="children"><div class="content">And CSS <a href="https:&#x2F;&#x2F;accodeing.com&#x2F;blog&#x2F;2015&#x2F;css3-proven-to-be-turing-complete" rel="nofollow">https:&#x2F;&#x2F;accodeing.com&#x2F;blog&#x2F;2015&#x2F;css3-proven-to-be-turing-com...</a></div><br/><div id="40131943" class="c"><input type="checkbox" id="c-40131943" checked=""/><div class="controls bullet"><span class="by">baryphonic</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130901">parent</a><span>|</span><a href="#40131255">next</a><span>|</span><label class="collapse" for="c-40131943">[-]</label><label class="expand" for="c-40131943">[1 more]</label></div><br/><div class="children"><div class="content">This research is cool, but I always feel it needs an asterisk. Requiring a click or event or some external clock feels like a cop out. I&#x27;ve seen a similar thing with PowerPoint.<p>It would be a bit like saying a language with iterations but neither first-class functions nor recursion is Turing complete as long as an external stack is provided. Or maybe it allows a stack (or recursion) but requires external intervention for function application.<p>Cool hacking nevertheless.</div><br/></div></div></div></div><div id="40131255" class="c"><input type="checkbox" id="c-40131255" checked=""/><div class="controls bullet"><span class="by">seanclayton</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130628">parent</a><span>|</span><a href="#40130901">prev</a><span>|</span><a href="#40131102">next</a><span>|</span><label class="collapse" for="c-40131255">[-]</label><label class="expand" for="c-40131255">[2 more]</label></div><br/><div class="children"><div class="content">So would LISP, Haskell, and Erlang.</div><br/><div id="40140978" class="c"><input type="checkbox" id="c-40140978" checked=""/><div class="controls bullet"><span class="by">zarzavat</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40131255">parent</a><span>|</span><a href="#40131102">next</a><span>|</span><label class="collapse" for="c-40140978">[-]</label><label class="expand" for="c-40140978">[1 more]</label></div><br/><div class="children"><div class="content">Declarative in this context means no recursion or infinite loops. So none of these are declarative.</div><br/></div></div></div></div><div id="40131102" class="c"><input type="checkbox" id="c-40131102" checked=""/><div class="controls bullet"><span class="by">wizzwizz4</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40130628">parent</a><span>|</span><a href="#40131255">prev</a><span>|</span><a href="#40130494">next</a><span>|</span><label class="collapse" for="c-40131102">[-]</label><label class="expand" for="c-40131102">[2 more]</label></div><br/><div class="children"><div class="content">Prolog has well-defined execution order with side-effects. It&#x27;s an imperative language masquerading as a declarative one.</div><br/><div id="40131826" class="c"><input type="checkbox" id="c-40131826" checked=""/><div class="controls bullet"><span class="by">baryphonic</span><span>|</span><a href="#40130419">root</a><span>|</span><a href="#40131102">parent</a><span>|</span><a href="#40130494">next</a><span>|</span><label class="collapse" for="c-40131826">[-]</label><label class="expand" for="c-40131826">[1 more]</label></div><br/><div class="children"><div class="content">MiniKanren, then?</div><br/></div></div></div></div></div></div></div></div><div id="40130494" class="c"><input type="checkbox" id="c-40130494" checked=""/><div class="controls bullet"><span class="by">bazoom42</span><span>|</span><a href="#40130419">parent</a><span>|</span><a href="#40130484">prev</a><span>|</span><a href="#40134504">next</a><span>|</span><label class="collapse" for="c-40130494">[-]</label><label class="expand" for="c-40130494">[1 more]</label></div><br/><div class="children"><div class="content">You can always generate the layout in javascript if you have some requirements which aren’t directly supported by CSS layout.</div><br/></div></div></div></div><div id="40134504" class="c"><input type="checkbox" id="c-40134504" checked=""/><div class="controls bullet"><span class="by">paradox460</span><span>|</span><a href="#40130419">prev</a><span>|</span><a href="#40130706">next</a><span>|</span><label class="collapse" for="c-40134504">[-]</label><label class="expand" for="c-40134504">[2 more]</label></div><br/><div class="children"><div class="content">It feels good to see the webkit team actually doing good, publicly visible work again<p>When I was cutting my teeth in web design, the early webkit blog and safari releases were always inspirational. The rate at which they pushed out new features in the mid 00s was astonishing</div><br/><div id="40135702" class="c"><input type="checkbox" id="c-40135702" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#40134504">parent</a><span>|</span><a href="#40130706">next</a><span>|</span><label class="collapse" for="c-40135702">[-]</label><label class="expand" for="c-40135702">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;ve definitely brought in some new people. AFAICT the reason Safari even has Masonry support is because they brought in the (very talented) guy that wrote the CSS spec for it.</div><br/></div></div></div></div><div id="40130706" class="c"><input type="checkbox" id="c-40130706" checked=""/><div class="controls bullet"><span class="by">ThatMedicIsASpy</span><span>|</span><a href="#40134504">prev</a><span>|</span><a href="#40130447">next</a><span>|</span><label class="collapse" for="c-40130706">[-]</label><label class="expand" for="c-40130706">[3 more]</label></div><br/><div class="children"><div class="content">I already use this. On Firefox I just enable it in the options and make use of it for my bookmarks. On Mobile this isn&#x27;t an issue since it&#x27;s just stacked on top of each other (no about:config on mobile).<p>The last image has it turned off.<p><a href="https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;o7OyZEW" rel="nofollow">https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;o7OyZEW</a></div><br/><div id="40131004" class="c"><input type="checkbox" id="c-40131004" checked=""/><div class="controls bullet"><span class="by">jamincan</span><span>|</span><a href="#40130706">parent</a><span>|</span><a href="#40137657">next</a><span>|</span><label class="collapse" for="c-40131004">[-]</label><label class="expand" for="c-40131004">[1 more]</label></div><br/><div class="children"><div class="content">From what I can tell, the rules of masonry layout result in irregular sorting since, from what I can understand, it fills by row the highest available slot first, but the result visually appears as though it&#x27;s sorted in columns. So if you resize your window, the order of your bookmarks would change.</div><br/></div></div><div id="40137657" class="c"><input type="checkbox" id="c-40137657" checked=""/><div class="controls bullet"><span class="by">somishere</span><span>|</span><a href="#40130706">parent</a><span>|</span><a href="#40131004">prev</a><span>|</span><a href="#40130447">next</a><span>|</span><label class="collapse" for="c-40137657">[-]</label><label class="expand" for="c-40137657">[1 more]</label></div><br/><div class="children"><div class="content">Try Firefox beta on mobile :)</div><br/></div></div></div></div><div id="40130447" class="c"><input type="checkbox" id="c-40130447" checked=""/><div class="controls bullet"><span class="by">pimterry</span><span>|</span><a href="#40130706">prev</a><span>|</span><a href="#40135276">next</a><span>|</span><label class="collapse" for="c-40130447">[-]</label><label class="expand" for="c-40130447">[1 more]</label></div><br/><div class="children"><div class="content">For more background, and some detailed discussion of the opposite argument (&quot;display: masonry&quot; over &quot;display:grid&quot;+&quot;grid-template-rows: masonry&quot;) see <a href="https:&#x2F;&#x2F;github.com&#x2F;w3c&#x2F;csswg-drafts&#x2F;issues&#x2F;9041">https:&#x2F;&#x2F;github.com&#x2F;w3c&#x2F;csswg-drafts&#x2F;issues&#x2F;9041</a></div><br/></div></div><div id="40135276" class="c"><input type="checkbox" id="c-40135276" checked=""/><div class="controls bullet"><span class="by">branmcconnell</span><span>|</span><a href="#40130447">prev</a><span>|</span><a href="#40133491">next</a><span>|</span><label class="collapse" for="c-40135276">[-]</label><label class="expand" for="c-40135276">[1 more]</label></div><br/><div class="children"><div class="content">I’ll admit that I was skeptical at first about including masonry in the CSS Grid spec.<p>After reading through the article, I’m convinced it is the right path forward, allowing masonry layouts to utilize the same APIs and properties (columns&#x2F;rows, gap, etc.) as CSS Grid.<p>This would lower the bar of entry by using familiar APIs and allow simpler switching between masonry and other column&#x2F;row setups responsively.<p>```css
.example {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-template-rows: auto;
  @media (width &gt; 500px) {
    grid-template-rows: masonry;
  }
}
```</div><br/></div></div><div id="40133491" class="c"><input type="checkbox" id="c-40133491" checked=""/><div class="controls bullet"><span class="by">account42</span><span>|</span><a href="#40135276">prev</a><span>|</span><a href="#40130625">next</a><span>|</span><label class="collapse" for="c-40133491">[-]</label><label class="expand" for="c-40133491">[6 more]</label></div><br/><div class="children"><div class="content">I absolutely hate this kind of layout, especially when combined with infinite scrolling. Makes it impossible to systematically go over all items.</div><br/><div id="40134126" class="c"><input type="checkbox" id="c-40134126" checked=""/><div class="controls bullet"><span class="by">amadeuspagel</span><span>|</span><a href="#40133491">parent</a><span>|</span><a href="#40130625">next</a><span>|</span><label class="collapse" for="c-40134126">[-]</label><label class="expand" for="c-40134126">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not meant for things that you want to systematically go over, it&#x27;s meant for things that you want to explore.</div><br/><div id="40135427" class="c"><input type="checkbox" id="c-40135427" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40133491">root</a><span>|</span><a href="#40134126">parent</a><span>|</span><a href="#40130625">next</a><span>|</span><label class="collapse" for="c-40135427">[-]</label><label class="expand" for="c-40135427">[4 more]</label></div><br/><div class="children"><div class="content">Some people want to go systematically over the items when exploring. I certainly tend to operate that way, and it’s infuriating when the UI is making it difficult for no good reason.</div><br/><div id="40136262" class="c"><input type="checkbox" id="c-40136262" checked=""/><div class="controls bullet"><span class="by">yau8edq12i</span><span>|</span><a href="#40133491">root</a><span>|</span><a href="#40135427">parent</a><span>|</span><a href="#40130625">next</a><span>|</span><label class="collapse" for="c-40136262">[-]</label><label class="expand" for="c-40136262">[3 more]</label></div><br/><div class="children"><div class="content">I guess in that case you can just browse other websites. No website can pander to everyone.</div><br/><div id="40138405" class="c"><input type="checkbox" id="c-40138405" checked=""/><div class="controls bullet"><span class="by">yashap</span><span>|</span><a href="#40133491">root</a><span>|</span><a href="#40136262">parent</a><span>|</span><a href="#40130625">next</a><span>|</span><label class="collapse" for="c-40138405">[-]</label><label class="expand" for="c-40138405">[2 more]</label></div><br/><div class="children"><div class="content">Not sure why you’re being downvoted, it’s true. If you want to display items (normally images) with different dimensions, while respecting their natural height&#x2F;width ratios, you really have 2 options:<p>1) Fixed height rows: lower information density (excess white space around some of the items), but easier to scan systematically<p>2) Masonry layout: higher information density (no excess white space around items), but harder to scan systematically<p>Nobody is “right” here, it’s simply user-by-user preferences about what you prefer.</div><br/><div id="40141828" class="c"><input type="checkbox" id="c-40141828" checked=""/><div class="controls bullet"><span class="by">account42</span><span>|</span><a href="#40133491">root</a><span>|</span><a href="#40138405">parent</a><span>|</span><a href="#40130625">next</a><span>|</span><label class="collapse" for="c-40141828">[-]</label><label class="expand" for="c-40141828">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t even make efficient use of space because the size of items depends on their aspect ratio. Fixed size cells is a much more sensible approach.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="40130625" class="c"><input type="checkbox" id="c-40130625" checked=""/><div class="controls bullet"><span class="by">lovegrenoble</span><span>|</span><a href="#40133491">prev</a><span>|</span><a href="#40132072">next</a><span>|</span><label class="collapse" for="c-40130625">[-]</label><label class="expand" for="c-40130625">[1 more]</label></div><br/><div class="children"><div class="content">I always preferred to use Flexbox on almost everything; it&#x27;s suitable for most situations. Also, for anyone struggling<p>with flexbox - I use this tool to streamline the process: <a href="https:&#x2F;&#x2F;flexboxcss.com" rel="nofollow">https:&#x2F;&#x2F;flexboxcss.com</a></div><br/></div></div><div id="40132072" class="c"><input type="checkbox" id="c-40132072" checked=""/><div class="controls bullet"><span class="by">fmy105</span><span>|</span><a href="#40130625">prev</a><span>|</span><a href="#40130602">next</a><span>|</span><label class="collapse" for="c-40132072">[-]</label><label class="expand" for="c-40132072">[2 more]</label></div><br/><div class="children"><div class="content">The CSS Grid Level 3 proposal for masonry layouts looks very promising. The ability to specify a desired row height and have content flow into columns of equal width would make implementing common design patterns much easier. I especially like how this approach maintains the grid structure and allows for features like gap to work as expected.<p>One potential concern with the masonry layout is how it will handle responsiveness and different screen sizes. Will there be a way to specify breakpoints or change the row height and column count at different viewport widths? Ensuring masonry layouts are flexible and adaptive will be key for real-world usage.<p>The masonry-auto-flow: next property seems like it could lead to some interesting creative uses beyond the standard masonry look. Being able to control the placement of items and have them span multiple rows opens up a lot of layout possibilities. Would be great to see more examples exploring this.<p>It&#x27;s good to see the CSS working group thinking ahead to Level 3 and 4 of Grid and gathering feedback from developers. Masonry has been a major pain point and commonly requested feature for years, so addressing it thoughtfully in the spec makes sense. Hopefully this is the first of many enhancements to come in future Grid iterations.<p>The comparisons to a potential alternative masonry implementation using display: masonry were helpful for understanding the trade-offs. While a separate masonry layout mode could offer some benefits, the simplicity and consistency of extending Grid is compelling. It will be interesting to follow the discussion and see which path is ultimately chosen.</div><br/><div id="40132616" class="c"><input type="checkbox" id="c-40132616" checked=""/><div class="controls bullet"><span class="by">presentation</span><span>|</span><a href="#40132072">parent</a><span>|</span><a href="#40130602">next</a><span>|</span><label class="collapse" for="c-40132616">[-]</label><label class="expand" for="c-40132616">[1 more]</label></div><br/><div class="children"><div class="content">Why would breakpoints be an issue? They’d just work the same as any other CSS feature wrapped in a media query.</div><br/></div></div></div></div><div id="40130602" class="c"><input type="checkbox" id="c-40130602" checked=""/><div class="controls bullet"><span class="by">pquki4</span><span>|</span><a href="#40132072">prev</a><span>|</span><a href="#40137784">next</a><span>|</span><label class="collapse" for="c-40130602">[-]</label><label class="expand" for="c-40130602">[12 more]</label></div><br/><div class="children"><div class="content">I thought this kind of waterfall layout was cool and trendy a few years ago, but these days very few websites are doing it?</div><br/><div id="40130660" class="c"><input type="checkbox" id="c-40130660" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#40130602">parent</a><span>|</span><a href="#40130670">next</a><span>|</span><label class="collapse" for="c-40130660">[-]</label><label class="expand" for="c-40130660">[1 more]</label></div><br/><div class="children"><div class="content">A big reason is because it&#x27;s not possible on the web, and it&#x27;s worth noting that the kind of visual you see in masonry demos is the most extreme example of what you could do with it. Most of the time it&#x27;s: I want to fill a page with modules of differing heights where positionality is based on importance not coordinate, without weird gaps where items fall into the same row and constrain each other.</div><br/></div></div><div id="40130670" class="c"><input type="checkbox" id="c-40130670" checked=""/><div class="controls bullet"><span class="by">nkozyra</span><span>|</span><a href="#40130602">parent</a><span>|</span><a href="#40130660">prev</a><span>|</span><a href="#40137784">next</a><span>|</span><label class="collapse" for="c-40130670">[-]</label><label class="expand" for="c-40130670">[10 more]</label></div><br/><div class="children"><div class="content">For awhile it was just described as &quot;Pinterest style.&quot;<p>It has some use cases but for the most part it&#x27;s literally a wall of unstructed information. Difficult to parse and build any mental hierarchy.<p>It&#x27;s also ... incredibly easy to do with existing css.</div><br/><div id="40130865" class="c"><input type="checkbox" id="c-40130865" checked=""/><div class="controls bullet"><span class="by">thousand_nights</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40130670">parent</a><span>|</span><a href="#40132073">next</a><span>|</span><label class="collapse" for="c-40130865">[-]</label><label class="expand" for="c-40130865">[6 more]</label></div><br/><div class="children"><div class="content">&gt; incredibly easy to do with existing css<p>care to demonstrate? given a dynamic collection of images where you don&#x27;t know the aspect ratios beforehand</div><br/><div id="40131410" class="c"><input type="checkbox" id="c-40131410" checked=""/><div class="controls bullet"><span class="by">nkozyra</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40130865">parent</a><span>|</span><a href="#40131178">next</a><span>|</span><label class="collapse" for="c-40131410">[-]</label><label class="expand" for="c-40131410">[1 more]</label></div><br/><div class="children"><div class="content">All of the images have only a constraint on the width, the aspect ratio is irrelevant. You can still do it with a grid, you just let the browser render the images within as it would normally.<p>Where it gets more complicated is getting them all to align horizontally at the bottom, which even this proposal doesn&#x27;t do. Pinterest, of course, solved this by not having a &quot;bottom.&quot;</div><br/></div></div><div id="40131178" class="c"><input type="checkbox" id="c-40131178" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40130865">parent</a><span>|</span><a href="#40131410">prev</a><span>|</span><a href="#40132576">next</a><span>|</span><label class="collapse" for="c-40131178">[-]</label><label class="expand" for="c-40131178">[3 more]</label></div><br/><div class="children"><div class="content">Does it actually solve that problem, though?<p>In the photo demo all content is either 1-column or 2-column wide - and that already results in some very noticeable gaps. I don&#x27;t get the impression that it can properly handle arbitrary aspect ratios. You&#x27;re pretty much forced to stick to a single column width and fit all images to match, so not exactly an improvement over what we already have right now.</div><br/><div id="40131408" class="c"><input type="checkbox" id="c-40131408" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40131178">parent</a><span>|</span><a href="#40132576">next</a><span>|</span><label class="collapse" for="c-40131408">[-]</label><label class="expand" for="c-40131408">[2 more]</label></div><br/><div class="children"><div class="content">It does handle arbitrary aspect ratios by scaling the image to fit the width of the column. What else should it do?
It also allows you to define different widths for each column. Isn’t that exactly what you want for a masonry layout?</div><br/><div id="40131432" class="c"><input type="checkbox" id="c-40131432" checked=""/><div class="controls bullet"><span class="by">nkozyra</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40131408">parent</a><span>|</span><a href="#40132576">next</a><span>|</span><label class="collapse" for="c-40131432">[-]</label><label class="expand" for="c-40131432">[1 more]</label></div><br/><div class="children"><div class="content">If, for example, it rendered the child elements such that they automatically gained&#x2F;lost overflow in relation to other columns, it might have some practical application that straight CSS cannot do. This would allow children to be sized vertically (effectively cropped) to produce an even square.</div><br/></div></div></div></div></div></div><div id="40132576" class="c"><input type="checkbox" id="c-40132576" checked=""/><div class="controls bullet"><span class="by">SassyBird</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40130865">parent</a><span>|</span><a href="#40131178">prev</a><span>|</span><a href="#40132073">next</a><span>|</span><label class="collapse" for="c-40132576">[-]</label><label class="expand" for="c-40132576">[1 more]</label></div><br/><div class="children"><div class="content">Not the GP, but here is my website with photos with different aspect ratios. I used display:inline-block to achieve this result, effectively treating photos as text that needs to reflow.<p><a href="https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;albumless&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;albumless&#x2F;</a><p><a href="https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;album&#x2F;kenya-2023&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yakubin.com&#x2F;photography&#x2F;album&#x2F;kenya-2023&#x2F;</a><p>Proper masonry layouts which fill all available space in practice actually crop some images. Leaving space around photos is required when you don’t want cropping and want to preserve aspect ratio. That’s why I prefer my solution over what JS libraries for masonry layouts do.</div><br/></div></div></div></div><div id="40132073" class="c"><input type="checkbox" id="c-40132073" checked=""/><div class="controls bullet"><span class="by">whywhywhywhy</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40130670">parent</a><span>|</span><a href="#40130865">prev</a><span>|</span><a href="#40131124">next</a><span>|</span><label class="collapse" for="c-40132073">[-]</label><label class="expand" for="c-40132073">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been called masonry before Pintrest was even founded.</div><br/><div id="40133243" class="c"><input type="checkbox" id="c-40133243" checked=""/><div class="controls bullet"><span class="by">nkozyra</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40132073">parent</a><span>|</span><a href="#40131124">next</a><span>|</span><label class="collapse" for="c-40133243">[-]</label><label class="expand" for="c-40133243">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t doubt it, but it certainly wasn&#x27;t common web design terminology. Waterfall was one I encountered frequently.</div><br/></div></div></div></div><div id="40131124" class="c"><input type="checkbox" id="c-40131124" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#40130602">root</a><span>|</span><a href="#40130670">parent</a><span>|</span><a href="#40132073">prev</a><span>|</span><a href="#40137784">next</a><span>|</span><label class="collapse" for="c-40131124">[-]</label><label class="expand" for="c-40131124">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it&#x27;s quite weird to see such an obscure feature being proposed as a CSS standard. The demos just aren&#x27;t convincing? Sure, I get the Pinterest application, but the other ones seem like a solution in search of a problem.<p>In the megamenu demo the multicolumn layout is pretty much indistinguishable from masonry. The only thing wrong with it is that it allows column breaks in the middle of content. That doesn&#x27;t need masonry to fix it.<p>In the newspaper demo the multicolumn layout is actually better, because <i>that&#x27;s how newspapers work</i>. The masonry demo becomes an unreadable mess.<p>The museum demo almost feels intentionally mis-designed. The CSS Grid 1 layout obviously has issues, but it could&#x27;ve easily been solved by pulling the nav bar out of the gallery, and using a multicolumn layout for the gallery instead.<p>So that leaves the Pinterest-style photo gallery. Sure, it&#x27;s objectively better if you want to achieve this kind of style, but it&#x27;s an outdated design with horrible UX. Why is it special enough that we need explicit support for it in the standard?</div><br/></div></div></div></div></div></div><div id="40137784" class="c"><input type="checkbox" id="c-40137784" checked=""/><div class="controls bullet"><span class="by">hgyjnbdet</span><span>|</span><a href="#40130602">prev</a><span>|</span><a href="#40134933">next</a><span>|</span><label class="collapse" for="c-40137784">[-]</label><label class="expand" for="c-40137784">[1 more]</label></div><br/><div class="children"><div class="content">Caveat: I know nothing about this, but have some experience with grid and flexbox.<p>To my mind flexbox could be a basis for masonry way better than grid with less overhead.<p>I also think mosaic would be a better name.</div><br/></div></div><div id="40134933" class="c"><input type="checkbox" id="c-40134933" checked=""/><div class="controls bullet"><span class="by">roblh</span><span>|</span><a href="#40137784">prev</a><span>|</span><a href="#40135668">next</a><span>|</span><label class="collapse" for="c-40134933">[-]</label><label class="expand" for="c-40134933">[1 more]</label></div><br/><div class="children"><div class="content">I found a really cool way to do this with svelte and css grid a few months ago, based on a blog post I can&#x27;t seem to find now. A full masonry layout too, not just columns, but each element can have dynamic height and width. The thing that made it click for me was that you don&#x27;t have to make the grid rows and grid columns 1:1 with the full width&#x2F;height of each element. Making 10px or 20px rows and columns and then using a svelte component for each image that chose a number of columns and rows based on the image aspect ratio. I&#x27;ll see if I can make the repo public today.<p>Edit: reading further, I think my approach was basically the same as theirs near the end of the post!</div><br/></div></div><div id="40135668" class="c"><input type="checkbox" id="c-40135668" checked=""/><div class="controls bullet"><span class="by">bschmidt1</span><span>|</span><a href="#40134933">prev</a><span>|</span><a href="#40130726">next</a><span>|</span><label class="collapse" for="c-40135668">[-]</label><label class="expand" for="c-40135668">[2 more]</label></div><br/><div class="children"><div class="content">I do it on my portfolio site (<a href="https:&#x2F;&#x2F;www.bennyschmidt.com" rel="nofollow">https:&#x2F;&#x2F;www.bennyschmidt.com</a>) in JavaScript by maintaining a `colCount` with each column just being `flex-direction: column`.<p>But after seeing this I should switch to using CSS. Didn&#x27;t put too much thought into it, but when I realized it wasn&#x27;t immediately simple in CSS grid just did it in JS.</div><br/><div id="40136140" class="c"><input type="checkbox" id="c-40136140" checked=""/><div class="controls bullet"><span class="by">pricecomstock</span><span>|</span><a href="#40135668">parent</a><span>|</span><a href="#40130726">next</a><span>|</span><label class="collapse" for="c-40136140">[-]</label><label class="expand" for="c-40136140">[1 more]</label></div><br/><div class="children"><div class="content">I have it on my website (<a href="https:&#x2F;&#x2F;packagepicker.co" rel="nofollow">https:&#x2F;&#x2F;packagepicker.co</a>) in only CSS by using `flex-direction: column` and setting a best-guess max height with several breakpoints. Unfortunately it does break down in some situations because some pages have many fewer selections.<p>My order doesn&#x27;t super matter but I do like to maintain it. I tried for a long time using CSS columns but I didn&#x27;t have good luck with that either, though I can&#x27;t remember exactly why</div><br/></div></div></div></div><div id="40130726" class="c"><input type="checkbox" id="c-40130726" checked=""/><div class="controls bullet"><span class="by">codingclaws</span><span>|</span><a href="#40135668">prev</a><span>|</span><a href="#40135025">next</a><span>|</span><label class="collapse" for="c-40130726">[-]</label><label class="expand" for="c-40130726">[8 more]</label></div><br/><div class="children"><div class="content">I built a masonry layout with only CSS and HTML 10 years ago. The site is actually still live. A scripting language is used to generate the HTML and CSS based on the dimensions of the images. But the masonry runs left to right not top to bottom.</div><br/><div id="40130779" class="c"><input type="checkbox" id="c-40130779" checked=""/><div class="controls bullet"><span class="by">thejohnconway</span><span>|</span><a href="#40130726">parent</a><span>|</span><a href="#40133358">next</a><span>|</span><label class="collapse" for="c-40130779">[-]</label><label class="expand" for="c-40130779">[2 more]</label></div><br/><div class="children"><div class="content">How does that differ from just setting the images to be inline-blocks? Was it justified?</div><br/><div id="40130873" class="c"><input type="checkbox" id="c-40130873" checked=""/><div class="controls bullet"><span class="by">codingclaws</span><span>|</span><a href="#40130726">root</a><span>|</span><a href="#40130779">parent</a><span>|</span><a href="#40133358">next</a><span>|</span><label class="collapse" for="c-40130873">[-]</label><label class="expand" for="c-40130873">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s centered basically. All rows span the same width, but the heights of the rows can differ.</div><br/></div></div></div></div><div id="40133358" class="c"><input type="checkbox" id="c-40133358" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#40130726">parent</a><span>|</span><a href="#40130779">prev</a><span>|</span><a href="#40135025">next</a><span>|</span><label class="collapse" for="c-40133358">[-]</label><label class="expand" for="c-40133358">[5 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not going to be responsive which is today a must have.</div><br/><div id="40133874" class="c"><input type="checkbox" id="c-40133874" checked=""/><div class="controls bullet"><span class="by">codingclaws</span><span>|</span><a href="#40130726">root</a><span>|</span><a href="#40133358">parent</a><span>|</span><a href="#40135025">next</a><span>|</span><label class="collapse" for="c-40133874">[-]</label><label class="expand" for="c-40133874">[4 more]</label></div><br/><div class="children"><div class="content">It is actually responsive, I think because I used percentages in the CSS.</div><br/><div id="40134589" class="c"><input type="checkbox" id="c-40134589" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#40130726">root</a><span>|</span><a href="#40133874">parent</a><span>|</span><a href="#40135025">next</a><span>|</span><label class="collapse" for="c-40134589">[-]</label><label class="expand" for="c-40134589">[3 more]</label></div><br/><div class="children"><div class="content">So it makes pictures larger &#x2F; smaller based on the screen width?<p>Usually what is expected is that with narrower screen, you get fewer columns, pictures are still same-ish size. You also need to keep the order of the items (e.g. on a wider screen 1, 2, 3, 4 are all on one row, with a smaller screen 1 and 2 are on a row, then 3 and 4 on another row).</div><br/><div id="40134851" class="c"><input type="checkbox" id="c-40134851" checked=""/><div class="controls bullet"><span class="by">CodeWriter23</span><span>|</span><a href="#40130726">root</a><span>|</span><a href="#40134589">parent</a><span>|</span><a href="#40135025">next</a><span>|</span><label class="collapse" for="c-40134851">[-]</label><label class="expand" for="c-40134851">[2 more]</label></div><br/><div class="children"><div class="content">So no different than current design paradigms (which I loathe btw) which give you the exact same content regardless of viewport size.</div><br/><div id="40134973" class="c"><input type="checkbox" id="c-40134973" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#40130726">root</a><span>|</span><a href="#40134851">parent</a><span>|</span><a href="#40135025">next</a><span>|</span><label class="collapse" for="c-40134973">[-]</label><label class="expand" for="c-40134973">[1 more]</label></div><br/><div class="children"><div class="content">Sure, but different from what the masonry design is meant to facilitate (check the linked demos). It&#x27;s very useful esp. for a photo gallery kind of sites.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="40135025" class="c"><input type="checkbox" id="c-40135025" checked=""/><div class="controls bullet"><span class="by">fzeindl</span><span>|</span><a href="#40130726">prev</a><span>|</span><a href="#40131791">next</a><span>|</span><label class="collapse" for="c-40135025">[-]</label><label class="expand" for="c-40135025">[3 more]</label></div><br/><div class="children"><div class="content">I never understood why CSS would not just adopt Apple&#x27;s Autolayout and be done with it: I want to specify that this space should be equal to that space, these borders to grow, and those borders to shrink and this point always aligned to that point.<p>It is simple, intuitive, it works for all cases. Instead we are inventing, what, the fifth generation of CSS-layouting now? Does nobody think this is odd?</div><br/><div id="40135363" class="c"><input type="checkbox" id="c-40135363" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40135025">parent</a><span>|</span><a href="#40131791">next</a><span>|</span><label class="collapse" for="c-40135363">[-]</label><label class="expand" for="c-40135363">[2 more]</label></div><br/><div class="children"><div class="content">It’s difficult to unambiguously <i>and usefully</i> specify what should happen when not all constraint can be fulfilled. And you can likely also DOS browsers by exponentially exploding constraint calculations. CSS is bad as a layout system, but I also don’t like constrained-based layout systems unless they enforce that the constraints can always be fulfilled and be calculated in reasonable time. Which implies that you wouldn’t be able to change the layout willy-nilly client-side with JavaScript.</div><br/><div id="40135522" class="c"><input type="checkbox" id="c-40135522" checked=""/><div class="controls bullet"><span class="by">fzeindl</span><span>|</span><a href="#40135025">root</a><span>|</span><a href="#40135363">parent</a><span>|</span><a href="#40131791">next</a><span>|</span><label class="collapse" for="c-40135522">[-]</label><label class="expand" for="c-40135522">[1 more]</label></div><br/><div class="children"><div class="content">Checking that the layout isn‘t exponentially complex and DOSing the browser could be a simple task for the web developer. If you want your website to perform bad you can always find a way.</div><br/></div></div></div></div></div></div><div id="40131791" class="c"><input type="checkbox" id="c-40131791" checked=""/><div class="controls bullet"><span class="by">paulhilbert</span><span>|</span><a href="#40135025">prev</a><span>|</span><a href="#40136848">next</a><span>|</span><label class="collapse" for="c-40131791">[-]</label><label class="expand" for="c-40131791">[22 more]</label></div><br/><div class="children"><div class="content">&quot;Others are questioning whether or not this kind of layout is needed on the web at all — they aren’t sure that well-known websites will use it.&quot;<p>Would it instead be possible to exclude anyone with that attitude from a discussion about an open standard? I know this sounds toxic, but I would argue that approaching public design this way is ultimately more toxic wrt the outcome and those affected by it.<p>Or maybe I misunderstood that part since everyone seems to not be bothered by it at all here...</div><br/><div id="40132001" class="c"><input type="checkbox" id="c-40132001" checked=""/><div class="controls bullet"><span class="by">gwbas1c</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132071">next</a><span>|</span><label class="collapse" for="c-40132001">[-]</label><label class="expand" for="c-40132001">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Would it instead be possible to exclude anyone with that attitude from a discussion about an open standard?<p>That attitude is rather critical and important to the discussion.<p>I don&#x27;t think it&#x27;s the browser, or the standards bodies, responsibility to have built-in support for every possible feature we can imagine. Instead, the standards need to be simple and extensible so that that libraries (Javascript or WASM) can do creative layouts. (IE, instead of waiting for Masonry layout in CSS, you should be able to grab a Masonry layout library and include it with your web site.)<p>Otherwise, we&#x27;re building a system where the standards (CSS in this case) are so complicated that it&#x27;s getting harder and harder to implement the standards; and are too inflexible to support what tomorrows&#x27; developers can imagine.</div><br/></div></div><div id="40132071" class="c"><input type="checkbox" id="c-40132071" checked=""/><div class="controls bullet"><span class="by">peebeebee</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132001">prev</a><span>|</span><a href="#40132060">next</a><span>|</span><label class="collapse" for="c-40132071">[-]</label><label class="expand" for="c-40132071">[3 more]</label></div><br/><div class="children"><div class="content">Why? When developing standards it&#x27;s very good to have good gatekeepers.
Not everything should be built <i>inside</i> the browser if you can achieve the same with existing technologies like JS.<p>Otherwise your browser(standards) might become too complex.</div><br/><div id="40133291" class="c"><input type="checkbox" id="c-40133291" checked=""/><div class="controls bullet"><span class="by">paulhilbert</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132071">parent</a><span>|</span><a href="#40132060">next</a><span>|</span><label class="collapse" for="c-40133291">[-]</label><label class="expand" for="c-40133291">[2 more]</label></div><br/><div class="children"><div class="content">That is an orthogonal discussion.<p>I need masonry layouts a lot and tend to be on the &quot;we don&#x27;t need another display class&quot; side in this debate. But that&#x27;s unrelated to my &quot;rant&quot;.</div><br/><div id="40135501" class="c"><input type="checkbox" id="c-40135501" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40133291">parent</a><span>|</span><a href="#40132060">next</a><span>|</span><label class="collapse" for="c-40135501">[-]</label><label class="expand" for="c-40135501">[1 more]</label></div><br/><div class="children"><div class="content">For what it’s worth, I found masonry layout always detrimental to my use of a site. I would prefer CSS not to encourage it by providing built-in support.</div><br/></div></div></div></div></div></div><div id="40132060" class="c"><input type="checkbox" id="c-40132060" checked=""/><div class="controls bullet"><span class="by">bezbac</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132071">prev</a><span>|</span><a href="#40132150">next</a><span>|</span><label class="collapse" for="c-40132060">[-]</label><label class="expand" for="c-40132060">[3 more]</label></div><br/><div class="children"><div class="content">I can totally understand the quoted comment. I mean, we are talking about CSS as a language here. Anything that is formalized is expected to be implemented and supported by browser engines and vendors. Browser engines are already extremely complex, so it&#x27;s fair to think closely about formalizing new things when it&#x27;s not apparent that there is a big enough need.<p>I&#x27;m not claiming this is the case with the Mansory layout; I just understand that adding unnecessary complexity for a small target user base is a valid concern.</div><br/><div id="40133102" class="c"><input type="checkbox" id="c-40133102" checked=""/><div class="controls bullet"><span class="by">paulhilbert</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132060">parent</a><span>|</span><a href="#40132150">next</a><span>|</span><label class="collapse" for="c-40133102">[-]</label><label class="expand" for="c-40133102">[2 more]</label></div><br/><div class="children"><div class="content">I totally get that. But for me there is a fundamental difference between &quot;big enough need&quot; and &quot;well known websites need this&quot;.<p>How are potentially thousands of niche websites less of an argument than &quot;instagram and co don&#x27;t need it&quot;?</div><br/><div id="40133332" class="c"><input type="checkbox" id="c-40133332" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40133102">parent</a><span>|</span><a href="#40132150">next</a><span>|</span><label class="collapse" for="c-40133332">[-]</label><label class="expand" for="c-40133332">[1 more]</label></div><br/><div class="children"><div class="content">Well-known == highly visited == native implementation will have large accumulated impact on end users (their performance, energy consumption, improved usability ...).</div><br/></div></div></div></div></div></div><div id="40132150" class="c"><input type="checkbox" id="c-40132150" checked=""/><div class="controls bullet"><span class="by">PurpleRamen</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132060">prev</a><span>|</span><a href="#40132269">next</a><span>|</span><label class="collapse" for="c-40132150">[-]</label><label class="expand" for="c-40132150">[3 more]</label></div><br/><div class="children"><div class="content">Why? Any feature is a liability, so it&#x27;s good to question whether a feature has to be implemented, and whether it should be in this way and position, or maybe somewhere else.</div><br/><div id="40133132" class="c"><input type="checkbox" id="c-40133132" checked=""/><div class="controls bullet"><span class="by">paulhilbert</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132150">parent</a><span>|</span><a href="#40132269">next</a><span>|</span><label class="collapse" for="c-40133132">[-]</label><label class="expand" for="c-40133132">[2 more]</label></div><br/><div class="children"><div class="content">Where is the connection to &quot;well-known websites&quot;?</div><br/><div id="40133754" class="c"><input type="checkbox" id="c-40133754" checked=""/><div class="controls bullet"><span class="by">PurpleRamen</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40133132">parent</a><span>|</span><a href="#40132269">next</a><span>|</span><label class="collapse" for="c-40133754">[-]</label><label class="expand" for="c-40133754">[1 more]</label></div><br/><div class="children"><div class="content">I assume, with &quot;well-known&quot;, they mean popular. Which means they (also) measure the worth of this feature by the number of users which might benefit from it. This is a very legit metric for this kind of situation.</div><br/></div></div></div></div></div></div><div id="40132269" class="c"><input type="checkbox" id="c-40132269" checked=""/><div class="controls bullet"><span class="by">krsdcbl</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132150">prev</a><span>|</span><a href="#40132159">next</a><span>|</span><label class="collapse" for="c-40132269">[-]</label><label class="expand" for="c-40132269">[1 more]</label></div><br/><div class="children"><div class="content">I heavily agree!<p>This take is imho dangerously conflates personal taste and motivation with &quot;should a heavily generalized and clearly purposed layout system be complicated with some magic keyuword options to serve your specific intents?&quot;, and misappropriates the assumption that people like and use this form layout as a reason to approve the latter.</div><br/></div></div><div id="40132159" class="c"><input type="checkbox" id="c-40132159" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132269">prev</a><span>|</span><a href="#40131834">next</a><span>|</span><label class="collapse" for="c-40132159">[-]</label><label class="expand" for="c-40132159">[4 more]</label></div><br/><div class="children"><div class="content">Surely questioning the real world usefulness is not &quot;toxic&quot;?<p>CSS is already very complicated. Adding more options needs proportionally strong justification.</div><br/><div id="40132524" class="c"><input type="checkbox" id="c-40132524" checked=""/><div class="controls bullet"><span class="by">Turing_Machine</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132159">parent</a><span>|</span><a href="#40131834">next</a><span>|</span><label class="collapse" for="c-40132524">[-]</label><label class="expand" for="c-40132524">[3 more]</label></div><br/><div class="children"><div class="content">No, but basing capabilities solely on what they <i>imagine</i> &quot;well-known websites&quot; might want <i>is</i>.</div><br/><div id="40132872" class="c"><input type="checkbox" id="c-40132872" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132524">parent</a><span>|</span><a href="#40131834">next</a><span>|</span><label class="collapse" for="c-40132872">[-]</label><label class="expand" for="c-40132872">[2 more]</label></div><br/><div class="children"><div class="content">And how would you do it sans imagination?</div><br/><div id="40133229" class="c"><input type="checkbox" id="c-40133229" checked=""/><div class="controls bullet"><span class="by">paulhilbert</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132872">parent</a><span>|</span><a href="#40131834">next</a><span>|</span><label class="collapse" for="c-40133229">[-]</label><label class="expand" for="c-40133229">[1 more]</label></div><br/><div class="children"><div class="content">I mean the actual point of the article is to ask everyone, not just &quot;well-known&quot; examples.<p>So it seems there were some reasonably forces in the discussion that align with my stance without the unnecessarily antagonistic (and rhetoric) primer I should&#x27;ve probably left out.<p>Seems like a good approach to widen the discussion and improve the design.</div><br/></div></div></div></div></div></div></div></div><div id="40132089" class="c"><input type="checkbox" id="c-40132089" checked=""/><div class="controls bullet"><span class="by">cornstalks</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40131834">prev</a><span>|</span><a href="#40131823">next</a><span>|</span><label class="collapse" for="c-40132089">[-]</label><label class="expand" for="c-40132089">[3 more]</label></div><br/><div class="children"><div class="content">Questioning whether something new is actually needed is absolutely worth doing, so long as it’s done respectfully.<p>This is a standard that affects billions of people and many implementations. It’s great to ask if something is really needed or if it’s just adding bloat.<p>We shouldn’t just grow the standard without first asking if the growth and added complexity carry their own weight. If someone proposing something can show that, then wonderful.<p>But yeah, just straight up trying to block these people from being able to ask these questions totally is toxic. As long as they’re asking and participating respectfully there’s no need to be a jerk toward them.</div><br/><div id="40133172" class="c"><input type="checkbox" id="c-40133172" checked=""/><div class="controls bullet"><span class="by">paulhilbert</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40132089">parent</a><span>|</span><a href="#40131823">next</a><span>|</span><label class="collapse" for="c-40133172">[-]</label><label class="expand" for="c-40133172">[2 more]</label></div><br/><div class="children"><div class="content">Again: when did &quot;well-known websites use this&quot; become the motivating factor behind standard design?<p>The blink tag was used by well-known website and it&#x27;s universally recognized as a bad decision.</div><br/><div id="40133813" class="c"><input type="checkbox" id="c-40133813" checked=""/><div class="controls bullet"><span class="by">cornstalks</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40133172">parent</a><span>|</span><a href="#40131823">next</a><span>|</span><label class="collapse" for="c-40133813">[-]</label><label class="expand" for="c-40133813">[1 more]</label></div><br/><div class="children"><div class="content">It’s fine if you disagree with the premise of the question. But it’s also fine to ask the question, since presumably the asker wants to know the feature would get enough usage to justify its addition to the specification, and an easy way to show it gets usage is by showing some well-known sites would use it.<p>But what is not fine is trying to exclude people from the conversation and silence them just because you have a disagreement.</div><br/></div></div></div></div></div></div><div id="40131823" class="c"><input type="checkbox" id="c-40131823" checked=""/><div class="controls bullet"><span class="by">rolha-capoeira</span><span>|</span><a href="#40131791">parent</a><span>|</span><a href="#40132089">prev</a><span>|</span><a href="#40136848">next</a><span>|</span><label class="collapse" for="c-40131823">[-]</label><label class="expand" for="c-40131823">[2 more]</label></div><br/><div class="children"><div class="content">And honestly, that&#x27;s a ridiculous claim. Two very popular websites I can think of right away are Pinterest and VSCO. (Perhaps VSCO on the web isn&#x27;t as popular as the mobile app, but the company continues to use masonry as the design evolves.)</div><br/><div id="40132010" class="c"><input type="checkbox" id="c-40132010" checked=""/><div class="controls bullet"><span class="by">grub5000</span><span>|</span><a href="#40131791">root</a><span>|</span><a href="#40131823">parent</a><span>|</span><a href="#40136848">next</a><span>|</span><label class="collapse" for="c-40132010">[-]</label><label class="expand" for="c-40132010">[1 more]</label></div><br/><div class="children"><div class="content">Lots of sites that return a ton of images, like an of the image search sites (Google, Bing, DuckDuckGO, loads of porn sites etc.)</div><br/></div></div></div></div></div></div><div id="40136848" class="c"><input type="checkbox" id="c-40136848" checked=""/><div class="controls bullet"><span class="by">thih9</span><span>|</span><a href="#40131791">prev</a><span>|</span><a href="#40134008">next</a><span>|</span><label class="collapse" for="c-40136848">[-]</label><label class="expand" for="c-40136848">[1 more]</label></div><br/><div class="children"><div class="content">How can there be an “inventing masonry” section without a reference to the masonry js library[1] - I suppose this is where the name comes from?<p>[1]: <a href="https:&#x2F;&#x2F;masonry.desandro.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;masonry.desandro.com&#x2F;</a></div><br/></div></div><div id="40134008" class="c"><input type="checkbox" id="c-40134008" checked=""/><div class="controls bullet"><span class="by">thebeardisred</span><span>|</span><a href="#40136848">prev</a><span>|</span><a href="#40135399">next</a><span>|</span><label class="collapse" for="c-40134008">[-]</label><label class="expand" for="c-40134008">[1 more]</label></div><br/><div class="children"><div class="content">If this leads to more &quot;forever&quot; scrolling pages where I can never get to the footer I&#x27;ll lose my goddamn mind.</div><br/></div></div><div id="40135399" class="c"><input type="checkbox" id="c-40135399" checked=""/><div class="controls bullet"><span class="by">danjl</span><span>|</span><a href="#40134008">prev</a><span>|</span><a href="#40135340">next</a><span>|</span><label class="collapse" for="c-40135399">[-]</label><label class="expand" for="c-40135399">[1 more]</label></div><br/><div class="children"><div class="content">The vertical layout is simple to implement. Horizontal is much harder, and more useful for media like images and videos, see Flickr. None need CSS. And, if you are going to do it in CSS, you better handle both, not just the easy less useful variant.</div><br/></div></div><div id="40135340" class="c"><input type="checkbox" id="c-40135340" checked=""/><div class="controls bullet"><span class="by">jmull</span><span>|</span><a href="#40135399">prev</a><span>|</span><a href="#40131046">next</a><span>|</span><label class="collapse" for="c-40135340">[-]</label><label class="expand" for="c-40135340">[1 more]</label></div><br/><div class="children"><div class="content">Feels like a special-purpose layout that more properly belongs in a framework than CSS.</div><br/></div></div><div id="40131046" class="c"><input type="checkbox" id="c-40131046" checked=""/><div class="controls bullet"><span class="by">KwanEsq</span><span>|</span><a href="#40135340">prev</a><span>|</span><a href="#40131087">next</a><span>|</span><label class="collapse" for="c-40131046">[-]</label><label class="expand" for="c-40131046">[1 more]</label></div><br/><div class="children"><div class="content">Nice to see this getting some push and attention.  I still remember seeing Mats Palmgren (seemingly?) single-handedly proposing&#x2F;speccing and implementing this in Firefox a few years ago.  Glad it hasn&#x27;t just died because it was a Mozilla proposal&#x2F;experiment (with proper experimental stage), instead of something Google just dumps on the web fait accompli.</div><br/></div></div><div id="40131087" class="c"><input type="checkbox" id="c-40131087" checked=""/><div class="controls bullet"><span class="by">slimebot80</span><span>|</span><a href="#40131046">prev</a><span>|</span><a href="#40131279">next</a><span>|</span><label class="collapse" for="c-40131087">[-]</label><label class="expand" for="c-40131087">[2 more]</label></div><br/><div class="children"><div class="content">Is there any examples of server-side rendering that pre-determines a masonary layout for the content?<p>Like: Given these images, and this window size, here&#x27;s a calculated layout to make them all look nice...<p>I figure this would be more performant than any type of JS polyfill</div><br/><div id="40131367" class="c"><input type="checkbox" id="c-40131367" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#40131087">parent</a><span>|</span><a href="#40131279">next</a><span>|</span><label class="collapse" for="c-40131367">[-]</label><label class="expand" for="c-40131367">[1 more]</label></div><br/><div class="children"><div class="content">How would this work when loading the page the first time? Would you check the window size and reload once just to get the first layout? And would you reload the page every time the window is resized?</div><br/></div></div></div></div><div id="40131279" class="c"><input type="checkbox" id="c-40131279" checked=""/><div class="controls bullet"><span class="by">tomp</span><span>|</span><a href="#40131087">prev</a><span>|</span><a href="#40134729">next</a><span>|</span><label class="collapse" for="c-40131279">[-]</label><label class="expand" for="c-40131279">[2 more]</label></div><br/><div class="children"><div class="content">This is readily achievable today with `columns`: <a href="https:&#x2F;&#x2F;primozic.org&#x2F;aesthetics-art" rel="nofollow">https:&#x2F;&#x2F;primozic.org&#x2F;aesthetics-art</a></div><br/><div id="40131413" class="c"><input type="checkbox" id="c-40131413" checked=""/><div class="controls bullet"><span class="by">sn0wleppard</span><span>|</span><a href="#40131279">parent</a><span>|</span><a href="#40134729">next</a><span>|</span><label class="collapse" for="c-40131413">[-]</label><label class="expand" for="c-40131413">[1 more]</label></div><br/><div class="children"><div class="content">That example doesn&#x27;t achieve the second objective of the proposal, &quot;It distributes content across the page (instead of flowing down each column, one by one).&quot;</div><br/></div></div></div></div><div id="40134729" class="c"><input type="checkbox" id="c-40134729" checked=""/><div class="controls bullet"><span class="by">cnotv</span><span>|</span><a href="#40131279">prev</a><span>|</span><label class="collapse" for="c-40134729">[-]</label><label class="expand" for="c-40134729">[1 more]</label></div><br/><div class="children"><div class="content">I evaluate the CSS updates based on the gap in masonry layout achievement. It&#x27;s one of the most important layouts that have existed for more than a decade and should have been the only achievement after flexbox and grid.
If you have a bunch of media, unless you have a narrow container like FB&#x2F;IG, that&#x27;s the only way to go. The alternative is fixed ratios.
Anyone who has been working in FE knows it.</div><br/></div></div></div></div></div></div></div></body></html>