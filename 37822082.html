<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1696928467233" as="style"/><link rel="stylesheet" href="styles.css?v=1696928467233"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://popovicu.com/posts/789-kb-linux-without-mmu-riscv/">789 KB Linux Without MMU on RISC-V</a>Â <span class="domain">(<a href="https://popovicu.com">popovicu.com</a>)</span></div><div class="subtext"><span>yarapavan</span> | <span>32 comments</span></div><br/><div><div id="37825402" class="c"><input type="checkbox" id="c-37825402" checked=""/><div class="controls bullet"><span class="by">Medox</span><span>|</span><a href="#37823692">next</a><span>|</span><label class="collapse" for="c-37825402">[-]</label><label class="expand" for="c-37825402">[1 more]</label></div><br/><div class="children"><div class="content">Very interesting! Reminds me of uClinux for the PSP [1]<p>Offtopic regarding the PSP version mentioned above: while doing some quick research right now (remembering that my PSP still works, as tested a couple of weeks ago), I sh*t you not, google gave me my own post from 2010. Right in the nostalgia.<p>[1] <a href="https:&#x2F;&#x2F;psplinux.info&#x2F;tag&#x2F;uclinux&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;psplinux.info&#x2F;tag&#x2F;uclinux&#x2F;</a><p>[2] <a href="https:&#x2F;&#x2F;www.vogons.org&#x2F;viewtopic.php?t=25416" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.vogons.org&#x2F;viewtopic.php?t=25416</a></div><br/></div></div><div id="37823692" class="c"><input type="checkbox" id="c-37823692" checked=""/><div class="controls bullet"><span class="by">wiredfool</span><span>|</span><a href="#37825402">prev</a><span>|</span><a href="#37828527">next</a><span>|</span><label class="collapse" for="c-37823692">[-]</label><label class="expand" for="c-37823692">[17 more]</label></div><br/><div class="children"><div class="content">I remember Linux on a floppy in the 2.4 era. You generally needed to do some interesting formatting to the disks to get much of a user land, but you could have a router running from floppy&#x2F;ram in 1.4-&gt;1.7 mb of disk.</div><br/><div id="37824508" class="c"><input type="checkbox" id="c-37824508" checked=""/><div class="controls bullet"><span class="by">RetroTechie</span><span>|</span><a href="#37823692">parent</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37824508">[-]</label><label class="expand" for="c-37824508">[11 more]</label></div><br/><div class="children"><div class="content">In the late 90&#x27;s I lived in a house with +&#x2F;- 10 others (mostly students).<p>Internet was shared using Windows ICS (ugh!) on someone&#x27;s PC, which was <i>also</i> used for that guys&#x27; regular work. Which included playing Diablo &amp; such.<p>Obviously a lousy setup. And of course internet (for the rest o&#x2F;t house) was often down as a result.<p>At some point people got fed up. And (having <i>some</i> Linux experience at the time) I knew where to look.<p>Put together and old Pentium PC with 2 network cards, <i>no</i> hdd, and in went a floppy called FreeSCO. After fiddling with the software&#x27;s power management settings, I put the CPU on passive cooling.<p>Shoved the box in a corner &amp; never looked back - rock solid. Uptime usually limited by power failures or ISP messing with configuration of <i>their</i> systems.<p>Indeed: Linux 2.0~2.4 days.</div><br/><div id="37825361" class="c"><input type="checkbox" id="c-37825361" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37824508">parent</a><span>|</span><a href="#37826608">next</a><span>|</span><label class="collapse" for="c-37825361">[-]</label><label class="expand" for="c-37825361">[2 more]</label></div><br/><div class="children"><div class="content">Freesco!  I&#x27;d forgotten about it completely. It was user friendly, menu driven.</div><br/><div id="37826804" class="c"><input type="checkbox" id="c-37826804" checked=""/><div class="controls bullet"><span class="by">eep_social</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37825361">parent</a><span>|</span><a href="#37826608">next</a><span>|</span><label class="collapse" for="c-37826804">[-]</label><label class="expand" for="c-37826804">[1 more]</label></div><br/><div class="children"><div class="content">Website is still up with a 2007 copyright and a 2.0.39 kernel on offer.</div><br/></div></div></div></div><div id="37826608" class="c"><input type="checkbox" id="c-37826608" checked=""/><div class="controls bullet"><span class="by">jojobas</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37824508">parent</a><span>|</span><a href="#37825361">prev</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37826608">[-]</label><label class="expand" for="c-37826608">[8 more]</label></div><br/><div class="children"><div class="content">Old Pentium in the 90s!? What were you, a billionaire?</div><br/><div id="37827037" class="c"><input type="checkbox" id="c-37827037" checked=""/><div class="controls bullet"><span class="by">freeopinion</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37826608">parent</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37827037">[-]</label><label class="expand" for="c-37827037">[7 more]</label></div><br/><div class="children"><div class="content">In 1998, an old Pentium might have been four or five years old and cast off.</div><br/><div id="37828885" class="c"><input type="checkbox" id="c-37828885" checked=""/><div class="controls bullet"><span class="by">hypercube33</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37827037">parent</a><span>|</span><a href="#37827206">next</a><span>|</span><label class="collapse" for="c-37828885">[-]</label><label class="expand" for="c-37828885">[1 more]</label></div><br/><div class="children"><div class="content">You have to remember from 97 to 2001 we were doubling CPU speed about every year. from 233mhz or so to 1ghz rapidly. I remember getting Pentium 2 boxes at 200, then 333, then 400, p3 at 500 and it felt like a year later 700mhz onward to 1ghz.<p>add to that ram prices were dropping rapidly and PC cost too I believe so it&#x27;s plausible you could easily find second hand machines from business or families upgrading - as a kid I got a bunch of $25 computers to build my first home lab with shortly after this time and ran Linux routing since before we had the gem of a wrt54g most routers were crap.</div><br/></div></div><div id="37827206" class="c"><input type="checkbox" id="c-37827206" checked=""/><div class="controls bullet"><span class="by">jojobas</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37827037">parent</a><span>|</span><a href="#37828885">prev</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37827206">[-]</label><label class="expand" for="c-37827206">[5 more]</label></div><br/><div class="children"><div class="content">First Pentium II was released in the middle of 1997. By 1997 the first Pentiums were some 4x outclocked by later Pentiums, but probably not more than 2x slower in real world applications, by no means an obsolete machine.
My ~1996 P75 lasted me till about 2002, fun times.</div><br/><div id="37827548" class="c"><input type="checkbox" id="c-37827548" checked=""/><div class="controls bullet"><span class="by">freeopinion</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37827206">parent</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37827548">[-]</label><label class="expand" for="c-37827548">[4 more]</label></div><br/><div class="children"><div class="content">Exactly. So the idea of reusing an old Pentium as a cheap router in the late 90s is plausible.</div><br/><div id="37828359" class="c"><input type="checkbox" id="c-37828359" checked=""/><div class="controls bullet"><span class="by">jojobas</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37827548">parent</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37828359">[-]</label><label class="expand" for="c-37828359">[3 more]</label></div><br/><div class="children"><div class="content">The entire machine would be still worth hundreds of dollars! Hundreds!</div><br/><div id="37829265" class="c"><input type="checkbox" id="c-37829265" checked=""/><div class="controls bullet"><span class="by">G3rn0ti</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37828359">parent</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37829265">[-]</label><label class="expand" for="c-37829265">[2 more]</label></div><br/><div class="children"><div class="content">No. Nobody wanted Pentiums from the mid nineties by the end of the decade. Clock frequencies were racing to jump over the 1 GHz barrier.<p>We produced a lot of electronics trash in the 90s. You bought a computer and two years later you had to replace it. Upgrade paths were also severely limited due to new sockets and chipsets all the time.<p>It was stressful if you wanted to stay cutting edge with your gaming PC I can tell you.</div><br/><div id="37829331" class="c"><input type="checkbox" id="c-37829331" checked=""/><div class="controls bullet"><span class="by">jojobas</span><span>|</span><a href="#37823692">root</a><span>|</span><a href="#37829265">parent</a><span>|</span><a href="#37829647">next</a><span>|</span><label class="collapse" for="c-37829331">[-]</label><label class="expand" for="c-37829331">[1 more]</label></div><br/><div class="children"><div class="content">Cutting edge gaming still is, Mom&#x27;s email&#x2F;browsing&#x2F;spreadsheets was and still is fine on a 5 year old machine.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37829647" class="c"><input type="checkbox" id="c-37829647" checked=""/><div class="controls bullet"><span class="by">FreeFull</span><span>|</span><a href="#37823692">parent</a><span>|</span><a href="#37824508">prev</a><span>|</span><a href="#37824039">next</a><span>|</span><label class="collapse" for="c-37829647">[-]</label><label class="expand" for="c-37829647">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;pupngo.dk&#x2F;xwinflpy&#x2F;xwoaf_rebuild.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;pupngo.dk&#x2F;xwinflpy&#x2F;xwoaf_rebuild.html</a> Check this out, it&#x27;s a single-floppy linux that includes X11 (!) and a bunch of utilities</div><br/></div></div><div id="37824039" class="c"><input type="checkbox" id="c-37824039" checked=""/><div class="controls bullet"><span class="by">squarefoot</span><span>|</span><a href="#37823692">parent</a><span>|</span><a href="#37829647">prev</a><span>|</span><a href="#37826643">next</a><span>|</span><label class="collapse" for="c-37824039">[-]</label><label class="expand" for="c-37824039">[1 more]</label></div><br/><div class="children"><div class="content">Was it floppyfw? (0) I used it as firewall ages ago, and if memory serves was the one I moved to a DiskOnModule flash drive to make boot faster and more reliable.<p>0 - <a href="https:&#x2F;&#x2F;www.zelow.no&#x2F;floppyfw&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.zelow.no&#x2F;floppyfw&#x2F;</a></div><br/></div></div><div id="37826643" class="c"><input type="checkbox" id="c-37826643" checked=""/><div class="controls bullet"><span class="by">littlecranky67</span><span>|</span><a href="#37823692">parent</a><span>|</span><a href="#37824039">prev</a><span>|</span><a href="#37826428">next</a><span>|</span><label class="collapse" for="c-37826643">[-]</label><label class="expand" for="c-37826643">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I used  this &quot;fli4l&quot; distro from a single, bootable 1.44MB floppy as a Ethernet&#x2F;DSL NAT gateway in the early 2000s. Consumergrade DSL routers where unheard of (or expensive) so using an old 486 machine with two NICs was more viable. Good memories.</div><br/></div></div><div id="37826428" class="c"><input type="checkbox" id="c-37826428" checked=""/><div class="controls bullet"><span class="by">snvzz</span><span>|</span><a href="#37823692">parent</a><span>|</span><a href="#37826643">prev</a><span>|</span><a href="#37825585">next</a><span>|</span><label class="collapse" for="c-37826428">[-]</label><label class="expand" for="c-37826428">[1 more]</label></div><br/><div class="children"><div class="content">I remember muLinux from circa 1997. Surprisingly, the website is still up[0].<p>IIRC it was a couple floppies, with an extra one for X11.<p>It ran w&#x2F;o issue on 486.<p>0. <a href="http:&#x2F;&#x2F;micheleandreoli.org&#x2F;public&#x2F;Software&#x2F;mulinux&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;micheleandreoli.org&#x2F;public&#x2F;Software&#x2F;mulinux&#x2F;</a></div><br/></div></div></div></div><div id="37828527" class="c"><input type="checkbox" id="c-37828527" checked=""/><div class="controls bullet"><span class="by">reanimus</span><span>|</span><a href="#37823692">prev</a><span>|</span><a href="#37829483">next</a><span>|</span><label class="collapse" for="c-37828527">[-]</label><label class="expand" for="c-37828527">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I personally found it very difficult to find any good documentation on what this file format really looks like, and really the only useful page I have found on the Internet around it is this page from someoneâs personal blog. Itâs a bit interesting to think that if this blog goes offline, there really isnât anything out there left except the actual source code in the Linux codebase, and Iâm sure you agree thatâs not the most elegant way to learn.<p>A bit of googling around was able to shore up a bit more information on the bFLT format:<p>1. The source of the text on the page linked: <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20120301074213&#x2F;https:&#x2F;&#x2F;retired.beyondlogic.org&#x2F;uClinux&#x2F;bflt.htm" rel="nofollow noreferrer">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20120301074213&#x2F;https:&#x2F;&#x2F;retired.b...</a><p>2. Notes from someone looking to implement a bFLT loader for homebrew: <a href="https:&#x2F;&#x2F;blog.tangrs.id.au&#x2F;2012&#x2F;04&#x2F;07&#x2F;bflt-format-implementation-notes&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.tangrs.id.au&#x2F;2012&#x2F;04&#x2F;07&#x2F;bflt-format-implementat...</a></div><br/></div></div><div id="37829483" class="c"><input type="checkbox" id="c-37829483" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#37828527">prev</a><span>|</span><a href="#37826207">next</a><span>|</span><label class="collapse" for="c-37829483">[-]</label><label class="expand" for="c-37829483">[1 more]</label></div><br/><div class="children"><div class="content">I thought ucLinux was dead, I had no idea it was mainlined.<p>Does this mean we can finally have app-capable IoT devices, which for some reason are very uncommon even though it would be rather useful?</div><br/></div></div><div id="37826207" class="c"><input type="checkbox" id="c-37826207" checked=""/><div class="controls bullet"><span class="by">lxe</span><span>|</span><a href="#37829483">prev</a><span>|</span><a href="#37823352">next</a><span>|</span><label class="collapse" for="c-37826207">[-]</label><label class="expand" for="c-37826207">[1 more]</label></div><br/><div class="children"><div class="content">uClinux has been my bread and butter back in 2010-2012 when I was running it on a mmu-less micro pfga core for an embedded industrial device. I think I brought it down way below the 789kb, at least the bzimage.<p>I think I was using buildroot to configure and build the kernel and busybox for all the runtime things.<p>I had to host a dynamic web UI on it, for which I built a custom lua &quot;framework&quot;. Lua runtime was a 100k-something static binary that worked like a charm, and very very fast.</div><br/></div></div><div id="37823352" class="c"><input type="checkbox" id="c-37823352" checked=""/><div class="controls bullet"><span class="by">RetroTechie</span><span>|</span><a href="#37826207">prev</a><span>|</span><a href="#37826836">next</a><span>|</span><label class="collapse" for="c-37823352">[-]</label><label class="expand" for="c-37823352">[2 more]</label></div><br/><div class="children"><div class="content">Notions of what&#x27;s &quot;tiny&quot; or &quot;lightweight&quot; have clearly shifted... :-(<p>Interesting &amp; informative article though.</div><br/><div id="37825617" class="c"><input type="checkbox" id="c-37825617" checked=""/><div class="controls bullet"><span class="by">helf</span><span>|</span><a href="#37823352">parent</a><span>|</span><a href="#37826836">next</a><span>|</span><label class="collapse" for="c-37825617">[-]</label><label class="expand" for="c-37825617">[1 more]</label></div><br/><div class="children"><div class="content">Definitely has. I sed to love playing with single and double floppy OSes. Im sure you have seen the old qnx4 demo floppy? Full gui, browser, etc.<p><a href="http:&#x2F;&#x2F;toastytech.com&#x2F;guis&#x2F;qnxdemo.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;toastytech.com&#x2F;guis&#x2F;qnxdemo.html</a></div><br/></div></div></div></div><div id="37826836" class="c"><input type="checkbox" id="c-37826836" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#37823352">prev</a><span>|</span><a href="#37826766">next</a><span>|</span><label class="collapse" for="c-37826836">[-]</label><label class="expand" for="c-37826836">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The uClinux effort, per my understanding, was running independently for some time, before the decision has been made to mainline it, meaning it is now part of the Linux source code itself. Basically, what this means for us is that uClinux is now a set of configurations in the kernel build config, and weâll get our MMU-less build easily.<p>Wow!    How much of a regular desktop PC userland could I run entirely with a flat shared address space?</div><br/></div></div><div id="37826766" class="c"><input type="checkbox" id="c-37826766" checked=""/><div class="controls bullet"><span class="by">vitiral</span><span>|</span><a href="#37826836">prev</a><span>|</span><a href="#37824089">next</a><span>|</span><label class="collapse" for="c-37826766">[-]</label><label class="expand" for="c-37826766">[1 more]</label></div><br/><div class="children"><div class="content">This is cool, but it makes me kind of sad how so much time must be devoted to the build setup and understanding the only available (and poorly documented) executable format. Love the content though.</div><br/></div></div><div id="37824089" class="c"><input type="checkbox" id="c-37824089" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#37826766">prev</a><span>|</span><a href="#37827017">next</a><span>|</span><label class="collapse" for="c-37824089">[-]</label><label class="expand" for="c-37824089">[1 more]</label></div><br/><div class="children"><div class="content">I remember full kernel with modules for hardware compiled in was less than that in 2.2.x kernel times.<p>All else considered the growth isn&#x27;t much</div><br/></div></div><div id="37827017" class="c"><input type="checkbox" id="c-37827017" checked=""/><div class="controls bullet"><span class="by">ngcc_hk</span><span>|</span><a href="#37824089">prev</a><span>|</span><a href="#37823813">next</a><span>|</span><label class="collapse" for="c-37827017">[-]</label><label class="expand" for="c-37827017">[1 more]</label></div><br/><div class="children"><div class="content">Quite interesting.  But given it run in qemu I wonder why not develop his <a href="https:&#x2F;&#x2F;popovicu.com&#x2F;posts&#x2F;making-a-micro-linux-distro&#x2F;into" rel="nofollow noreferrer">https:&#x2F;&#x2F;popovicu.com&#x2F;posts&#x2F;making-a-micro-linux-distro&#x2F;into</a> a more general one and then hightlight this variation in a short article on the difference.</div><br/></div></div><div id="37823813" class="c"><input type="checkbox" id="c-37823813" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#37827017">prev</a><span>|</span><a href="#37824490">next</a><span>|</span><label class="collapse" for="c-37823813">[-]</label><label class="expand" for="c-37823813">[1 more]</label></div><br/><div class="children"><div class="content">I guess you can add isolation using PMP? I can&#x27;t see any reason why ELFs wouldn&#x27;t work, except that they are obviously normally built with virtual memory in mind.<p>Great tutorial anyway, thanks!</div><br/></div></div><div id="37824490" class="c"><input type="checkbox" id="c-37824490" checked=""/><div class="controls bullet"><span class="by">KirillPanov</span><span>|</span><a href="#37823813">prev</a><span>|</span><label class="collapse" for="c-37824490">[-]</label><label class="expand" for="c-37824490">[3 more]</label></div><br/><div class="children"><div class="content">This is unreadable.<p>Please, either indent your paragraphs or else put more space between paragraphs than between lines which are part of the same paragraph.  One or the other, or even both.  If you do neither it is illegible.</div><br/><div id="37825806" class="c"><input type="checkbox" id="c-37825806" checked=""/><div class="controls bullet"><span class="by">tomcam</span><span>|</span><a href="#37824490">parent</a><span>|</span><a href="#37824944">next</a><span>|</span><label class="collapse" for="c-37825806">[-]</label><label class="expand" for="c-37825806">[1 more]</label></div><br/><div class="children"><div class="content">Unreadable? Or perhaps just not to your liking?</div><br/></div></div><div id="37824944" class="c"><input type="checkbox" id="c-37824944" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37824490">parent</a><span>|</span><a href="#37825806">prev</a><span>|</span><label class="collapse" for="c-37824944">[-]</label><label class="expand" for="c-37824944">[1 more]</label></div><br/><div class="children"><div class="content">I see an extra 20 pixels (specifically 1.25em) between paragraphs.  You don&#x27;t?</div><br/></div></div></div></div></div></div></div></div></div></body></html>