<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733562053692" as="style"/><link rel="stylesheet" href="styles.css?v=1733562053692"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://dspy.ai/">DSPy – Programming–not prompting–LMs</a> <span class="domain">(<a href="https://dspy.ai">dspy.ai</a>)</span></div><div class="subtext"><span>ulrischa</span> | <span>23 comments</span></div><br/><div><div id="42346052" class="c"><input type="checkbox" id="c-42346052" checked=""/><div class="controls bullet"><span class="by">deepsquirrelnet</span><span>|</span><a href="#42344354">next</a><span>|</span><label class="collapse" for="c-42346052">[-]</label><label class="expand" for="c-42346052">[3 more]</label></div><br/><div class="children"><div class="content">I use DSPy often, and it’s the only framework that I have much interest in using professionally.<p>Evaluations are first class and have a natural place in optimization. I still usually spend some time adjusting initial prompts, but more time doing traditional ML things… like working with SMEs, building training sets, evaluating models and developing the pipeline. If you’re an ML engineer that’s frustrated by the “loose” nature of developing applications with LLMs, I recommend trying it out.<p>With assertions and suggestions, there’s also additional pathways you can use to enforce constraints on the output and build in requirements from your customer.</div><br/><div id="42347214" class="c"><input type="checkbox" id="c-42347214" checked=""/><div class="controls bullet"><span class="by">huevosabio</span><span>|</span><a href="#42346052">parent</a><span>|</span><a href="#42346620">next</a><span>|</span><label class="collapse" for="c-42347214">[-]</label><label class="expand" for="c-42347214">[1 more]</label></div><br/><div class="children"><div class="content">Every time I check the docs, I feel like it obfuscates so many things that it puts me off and I decide to just not try it out.<p>Behind the scenes it&#x27;s using LLM&#x27;s to find the proper prompting. I find that it uses a terminology and abstraction that is way too complicated for what it is.</div><br/></div></div><div id="42346620" class="c"><input type="checkbox" id="c-42346620" checked=""/><div class="controls bullet"><span class="by">qeternity</span><span>|</span><a href="#42346052">parent</a><span>|</span><a href="#42347214">prev</a><span>|</span><a href="#42344354">next</a><span>|</span><label class="collapse" for="c-42346620">[-]</label><label class="expand" for="c-42346620">[1 more]</label></div><br/><div class="children"><div class="content">What do you actually use it for? I&#x27;ve never been able to actually get it to perform on anything remotely close to what it claims. Sure, it can help optimize few shot prompting...but what else can it reliably do?</div><br/></div></div></div></div><div id="42344354" class="c"><input type="checkbox" id="c-42344354" checked=""/><div class="controls bullet"><span class="by">byefruit</span><span>|</span><a href="#42346052">prev</a><span>|</span><a href="#42346137">next</a><span>|</span><label class="collapse" for="c-42344354">[-]</label><label class="expand" for="c-42344354">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen a couple of talks on DSPy and tried to use it for one of my projects but the structure always feels somewhat strained. It seems to be suited for tasks that are primarily show, don&#x27;t tell but what do you do when you have significant prior instruction you want to tell?<p>e.g Tests I want applied to anything retrieved from the database. What I&#x27;d like is to optimise the prompt around those (or maybe even the tests themselves) but I can&#x27;t seem to express that in DSPy signatures.</div><br/></div></div><div id="42346137" class="c"><input type="checkbox" id="c-42346137" checked=""/><div class="controls bullet"><span class="by">aaronvg</span><span>|</span><a href="#42344354">prev</a><span>|</span><a href="#42345286">next</a><span>|</span><label class="collapse" for="c-42346137">[-]</label><label class="expand" for="c-42346137">[1 more]</label></div><br/><div class="children"><div class="content">I found it interesting how DSPy created the Signatures concept: <a href="https:&#x2F;&#x2F;dspy.ai&#x2F;learn&#x2F;programming&#x2F;signatures&#x2F;" rel="nofollow">https:&#x2F;&#x2F;dspy.ai&#x2F;learn&#x2F;programming&#x2F;signatures&#x2F;</a><p>We took this kind of concept all the way to making a DSL called BAML, where prompts look like literal functions, with input and output types.<p>Playground link here <a href="https:&#x2F;&#x2F;www.promptfiddle.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.promptfiddle.com&#x2F;</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;BoundaryML&#x2F;baml">https:&#x2F;&#x2F;github.com&#x2F;BoundaryML&#x2F;baml</a><p>(tried pasting code but the formatting is completely off here, sorry).<p>We think we could run some optimizers on this as well in the future! We&#x27;ll definitely use DSPy as inspiration!</div><br/></div></div><div id="42345286" class="c"><input type="checkbox" id="c-42345286" checked=""/><div class="controls bullet"><span class="by">scosman</span><span>|</span><a href="#42346137">prev</a><span>|</span><a href="#42347373">next</a><span>|</span><label class="collapse" for="c-42345286">[-]</label><label class="expand" for="c-42345286">[3 more]</label></div><br/><div class="children"><div class="content">Can someone explain what DSPy does that fine tuning doesn’t? Structured IO, optimized to better results. Sure. But why just just go straight to weights, instead of trying to optimize the few-shot space?</div><br/><div id="42346946" class="c"><input type="checkbox" id="c-42346946" checked=""/><div class="controls bullet"><span class="by">flakiness</span><span>|</span><a href="#42345286">parent</a><span>|</span><a href="#42347675">next</a><span>|</span><label class="collapse" for="c-42346946">[-]</label><label class="expand" for="c-42346946">[1 more]</label></div><br/><div class="children"><div class="content">It has multiple optimization strategies. One is optimizing the few shot list. Another is to let the model write prompts and pick the best one based on the given eval. I doubt latter much more intriguing although I have no idea how practical it is.</div><br/></div></div><div id="42347675" class="c"><input type="checkbox" id="c-42347675" checked=""/><div class="controls bullet"><span class="by">choppaface</span><span>|</span><a href="#42345286">parent</a><span>|</span><a href="#42346946">prev</a><span>|</span><a href="#42347373">next</a><span>|</span><label class="collapse" for="c-42347675">[-]</label><label class="expand" for="c-42347675">[1 more]</label></div><br/><div class="children"><div class="content">The main idea behind DSPy is that you can’t modify the weights, but you can perhaps modify the prompts.  DSPy’s original primary customer was multi-llm-agent systems where you have a chain &#x2F; graph of LLM calls (perhaps mostly or all to OpenAI GPT) and you have some metric (perhaps vague) that you want to increase.  While the idea may seem a bit weird, there have been various success stories, such as a UoT team winning medical-notes-oriented competition using DSPy <a href="https:&#x2F;&#x2F;arxiv.org&#x2F;html&#x2F;2404.14544v1" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;html&#x2F;2404.14544v1</a></div><br/></div></div></div></div><div id="42347373" class="c"><input type="checkbox" id="c-42347373" checked=""/><div class="controls bullet"><span class="by">jmugan</span><span>|</span><a href="#42345286">prev</a><span>|</span><a href="#42346813">next</a><span>|</span><label class="collapse" for="c-42347373">[-]</label><label class="expand" for="c-42347373">[1 more]</label></div><br/><div class="children"><div class="content">As far as I can tell, Google VertexAI prompt optimizer does similar things. I find their documentation more comprehensible. <a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;vertex-ai&#x2F;generative-ai&#x2F;docs&#x2F;learn&#x2F;prompts&#x2F;prompt-optimizer" rel="nofollow">https:&#x2F;&#x2F;cloud.google.com&#x2F;vertex-ai&#x2F;generative-ai&#x2F;docs&#x2F;learn&#x2F;...</a></div><br/></div></div><div id="42346813" class="c"><input type="checkbox" id="c-42346813" checked=""/><div class="controls bullet"><span class="by">coffeephoenix</span><span>|</span><a href="#42347373">prev</a><span>|</span><a href="#42344983">next</a><span>|</span><label class="collapse" for="c-42346813">[-]</label><label class="expand" for="c-42346813">[1 more]</label></div><br/><div class="children"><div class="content">I tried using it but one of the hard parts is defining a good metric that the underlying optimizer can use. Came up with an approach for that here:<p><a href="https:&#x2F;&#x2F;colab.research.google.com&#x2F;drive&#x2F;1obuS9cEWN9MT-MIv5aL1sDIYuGZEKo4r?usp=sharing" rel="nofollow">https:&#x2F;&#x2F;colab.research.google.com&#x2F;drive&#x2F;1obuS9cEWN9MT-MIv5aL...</a></div><br/></div></div><div id="42344983" class="c"><input type="checkbox" id="c-42344983" checked=""/><div class="controls bullet"><span class="by">behnamoh</span><span>|</span><a href="#42346813">prev</a><span>|</span><a href="#42344785">next</a><span>|</span><label class="collapse" for="c-42344983">[-]</label><label class="expand" for="c-42344983">[9 more]</label></div><br/><div class="children"><div class="content">Every time I&#x27;ve seen a dspy article, I end up thinking: ok, but what does it do exactly?<p>I&#x27;ve been using guidance, outlines, GBF grammars, etc. What advantage does dspy have over those alternatives?<p>I&#x27;ve learnt that the best package to use LLMs is just Python. These &quot;LLM packages&quot; just make it harder to do customizations as they all make opinionated assumptions and decisions.</div><br/><div id="42345092" class="c"><input type="checkbox" id="c-42345092" checked=""/><div class="controls bullet"><span class="by">dr_kiszonka</span><span>|</span><a href="#42344983">parent</a><span>|</span><a href="#42344785">next</a><span>|</span><label class="collapse" for="c-42345092">[-]</label><label class="expand" for="c-42345092">[8 more]</label></div><br/><div class="children"><div class="content">Question from a casual AI user, if you have a minute. It seems to me that I could get much more productive by making my own personal AI &quot;system&quot;. For example, write a simple pipeline where Claude would scrutinize OpenAI&#x27;s answers and vice versa.<p>Are there any beginner-friendly Python packages that you would recommend to facilitate fast experimentation with such ideas?</div><br/><div id="42345235" class="c"><input type="checkbox" id="c-42345235" checked=""/><div class="controls bullet"><span class="by">monkmartinez</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42345239">next</a><span>|</span><label class="collapse" for="c-42345235">[-]</label><label class="expand" for="c-42345235">[1 more]</label></div><br/><div class="children"><div class="content">Not the person you asked, but I will take a shot at your question. The best python package for getting what you want out of these systems is to use original gangster python with libraries to help with your goals.<p>For your example; Write a python script with requests that hits the OpenAI API. You can even hardcode the API key because its just a script on your computer! Now you have the GPT-4proLight-mini-deluxe response in JSON. You can pipe that into a bazzillion and one different places including another API request to Anthropic. Once that returns, you can now have TWO llm responses to analyze.<p>I tried haystack, langchain, txtai, langroid, CrewAI, Autogen, and more that I am forgetting. One day while I was reading r&#x2F;Localllama someone wrote; &quot;All these packages are TRASH, just write python!&quot;... Lightbulb moment for me. Duh! Now I don&#x27;t need to learn a massive framework to only use 1&#x2F;363802983th of it while cursing that I can&#x27;t figure out how to make it do what I want it to do.<p>Just write python. I tell you that has been massive for my usage of these LLM&#x27;s outside of the chat interfaces like LibreChat and OpenWebUI. You can even have claude or deepseek write the script for you. That often gets me within striking distance of what I really want to achieve at that moment.</div><br/></div></div><div id="42345239" class="c"><input type="checkbox" id="c-42345239" checked=""/><div class="controls bullet"><span class="by">digdugdirk</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42345235">prev</a><span>|</span><a href="#42347823">next</a><span>|</span><label class="collapse" for="c-42345239">[-]</label><label class="expand" for="c-42345239">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve had good luck with a light &quot;shim layer&quot; library that handles the actual interfacing with the api and implements the plumbing on any fun new features that get introduced.<p>I&#x27;ve settled on the Mirascope library (<a href="https:&#x2F;&#x2F;mirascope.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mirascope.com&#x2F;</a>), which suits my use cases and lets me implement structured inputs&#x2F;outputs via pydantic models, which is nice. I really like using it, and the team behind it is really responsive and helpful.<p>That being said, Pydantic just released an AI library of their own (<a href="https:&#x2F;&#x2F;ai.pydantic.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ai.pydantic.dev&#x2F;</a>) that I haven&#x27;t checked out, but I&#x27;d love to hear from someone who has! Given their track record, it&#x27;s certainly worth keeping an eye on.</div><br/></div></div><div id="42347823" class="c"><input type="checkbox" id="c-42347823" checked=""/><div class="controls bullet"><span class="by">jackmpcollins</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42345239">prev</a><span>|</span><a href="#42347586">next</a><span>|</span><label class="collapse" for="c-42347823">[-]</label><label class="expand" for="c-42347823">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m building magentic for use cases like this!<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jackmpcollins&#x2F;magentic">https:&#x2F;&#x2F;github.com&#x2F;jackmpcollins&#x2F;magentic</a><p>It&#x27;s based on pydantic and aims to make writing LLM queries as easy&#x2F;compact as possible by using  type annotations, including for structured outputs and streaming. If you use it please reach out!</div><br/></div></div><div id="42347586" class="c"><input type="checkbox" id="c-42347586" checked=""/><div class="controls bullet"><span class="by">sdesol</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42347823">prev</a><span>|</span><a href="#42345212">next</a><span>|</span><label class="collapse" for="c-42347586">[-]</label><label class="expand" for="c-42347586">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For example, write a simple pipeline where Claude would scrutinize OpenAI&#x27;s answers and vice versa.<p>I&#x27;m working on a naive approach to identify errors in LLM responses which I talk about at <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42313401#42313990">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42313401#42313990</a>, which can be used to scrutinize responses. It&#x27;s written in Javascript though, but you will be able to create a new chat by calling a http endpoint.<p>I&#x27;m hoping to have the system in place in a couple of weeks.</div><br/></div></div><div id="42345212" class="c"><input type="checkbox" id="c-42345212" checked=""/><div class="controls bullet"><span class="by">gradys</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42347586">prev</a><span>|</span><a href="#42345904">next</a><span>|</span><label class="collapse" for="c-42345212">[-]</label><label class="expand" for="c-42345212">[1 more]</label></div><br/><div class="children"><div class="content">I assume you know how to program in Python? I would start with just the client libraries of the model providers you want to use. LLMs are conceptually simple when treated as black boxes. String in, string out. You don&#x27;t necessarily need a framework.</div><br/></div></div><div id="42345904" class="c"><input type="checkbox" id="c-42345904" checked=""/><div class="controls bullet"><span class="by">kingkongjaffa</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42345212">prev</a><span>|</span><a href="#42345748">next</a><span>|</span><label class="collapse" for="c-42345904">[-]</label><label class="expand" for="c-42345904">[1 more]</label></div><br/><div class="children"><div class="content">You could use the plain api libraries for each llm and ipython notebooks, conceptually each block could be a node or link in the prompt chain, and input&#x2F;output of each block is printable and visible to check which part of the chain is the part that is failing or has sub optimal outputs.</div><br/></div></div><div id="42345748" class="c"><input type="checkbox" id="c-42345748" checked=""/><div class="controls bullet"><span class="by">pizza</span><span>|</span><a href="#42344983">root</a><span>|</span><a href="#42345092">parent</a><span>|</span><a href="#42345904">prev</a><span>|</span><a href="#42344785">next</a><span>|</span><label class="collapse" for="c-42345748">[-]</label><label class="expand" for="c-42345748">[1 more]</label></div><br/><div class="children"><div class="content">Yes, anthropic just released model context protocol and mcp is perfect for this kind of thing. I actually wrote an mcp server for claude to call out to openai just yesterday.</div><br/></div></div></div></div></div></div><div id="42344785" class="c"><input type="checkbox" id="c-42344785" checked=""/><div class="controls bullet"><span class="by">thom</span><span>|</span><a href="#42344983">prev</a><span>|</span><a href="#42346065">next</a><span>|</span><label class="collapse" for="c-42344785">[-]</label><label class="expand" for="c-42344785">[2 more]</label></div><br/><div class="children"><div class="content">There are companies that will charge you 6-7 figures for what you can do in a few dozen lines with DSPy, but I guess that’s true of many things.</div><br/><div id="42345510" class="c"><input type="checkbox" id="c-42345510" checked=""/><div class="controls bullet"><span class="by">3abiton</span><span>|</span><a href="#42344785">parent</a><span>|</span><a href="#42346065">next</a><span>|</span><label class="collapse" for="c-42345510">[-]</label><label class="expand" for="c-42345510">[1 more]</label></div><br/><div class="children"><div class="content">That is a big claim though, I am not sure about that from my experience. What am I missing?</div><br/></div></div></div></div><div id="42346065" class="c"><input type="checkbox" id="c-42346065" checked=""/><div class="controls bullet"><span class="by">beepbooptheory</span><span>|</span><a href="#42344785">prev</a><span>|</span><label class="collapse" for="c-42346065">[-]</label><label class="expand" for="c-42346065">[1 more]</label></div><br/><div class="children"><div class="content">How does it work? Like I can see the goal and the results, but is it in fact the case that its <i>still</i> here &quot;LLMs all the way down&quot;? That is, is there a supplement bot here thats fine tuned to DSPy syntax, doing the actual work of turning the code to prompt? Trying to figure out how else it would work.. But if that is the case, this really feels like a Wizard of Oz behind the curtain thing.</div><br/></div></div></div></div></div></div></div></body></html>