<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695632463156" as="style"/><link rel="stylesheet" href="styles.css?v=1695632463156"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://tomscii.sig7.se/2022/07/uMon-stupid-simple-monitoring">μMon: Stupid simple monitoring (2022)</a> <span class="domain">(<a href="https://tomscii.sig7.se">tomscii.sig7.se</a>)</span></div><div class="subtext"><span>g0xA52A2A</span> | <span>58 comments</span></div><br/><div><div id="37639785" class="c"><input type="checkbox" id="c-37639785" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#37637100">next</a><span>|</span><label class="collapse" for="c-37639785">[-]</label><label class="expand" for="c-37639785">[6 more]</label></div><br/><div class="children"><div class="content">I like the focus on simplicity of uMon, and agree with author&#x27;s criticism of behemoths like Grafana.<p>But looking at the installation instructions[1], I can&#x27;t help but think that their reluctance to use Docker feels contrarian for no reason (and the quip about it being &quot;out of fashion&quot; completely misguided). This whole procedure could be automated in a Dockerfile, and actually running uMon would be vastly simplified. Docker itself is not much more than a wrapper around Linux primitives, and if they dislike it specifically for e.g. having to run a server and run containers as root, there are plenty of other lighterweight container alternatives.<p>There&#x27;s an argument to be made that the &quot;Simple&quot; Network Management Protocol they&#x27;re a fan of is far from being simple either[2]. Configuring the security features of v3 is not a simple task, and entire books have been written about SNMP as well. They conveniently ignore this by using v2c and making access public, which might not be acceptable in real-world deployments.<p>I&#x27;m all for choosing &quot;simple&quot; tools and stacks over &quot;complex&quot; ones, for whatever definition of those terms one chooses to use, and I strive to do that in my own projects whenever possible, but simplicity is not an inherent property of old and battle-tested technologies. We should be careful to not be biased for technology we happen to be familiar with, but be pragmatic about picking the right tool for the job that fits our requirements, regardless of its age or familiarity.<p>[1]: <a href="https:&#x2F;&#x2F;tomscii.sig7.se&#x2F;umon&#x2F;#Installation%20and%20getting%20started" rel="nofollow noreferrer">https:&#x2F;&#x2F;tomscii.sig7.se&#x2F;umon&#x2F;#Installation%20and%20getting%2...</a><p>[2]: I have a pet peeve about tools or protocols with &quot;simple&quot; or &quot;trivial&quot; in their name. They almost always end up being the opposite of that as they mature, and the name becomes an alluring mirage tricking you into its abyss of hidden complexity. I&#x27;m looking at you SMTP, TFTP...</div><br/><div id="37640080" class="c"><input type="checkbox" id="c-37640080" checked=""/><div class="controls bullet"><span class="by">yellowapple</span><span>|</span><a href="#37639785">parent</a><span>|</span><a href="#37641028">next</a><span>|</span><label class="collapse" for="c-37640080">[-]</label><label class="expand" for="c-37640080">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I can&#x27;t help but think that their reluctance to use Docker feels contrarian for no reason<p>My impression is that it&#x27;s less about contrarianism and more about<p>1. the developer opting for installation instructions being consistent across both of the intended targets (Linux and (Open)BSD); and&#x2F;or<p>2. μMon being allegedly tiny and simple enough that you&#x27;re probably best off stuffing it into every one of your containers anyway (i.e. so that said containers can expose their own monitoring interfaces) instead of having a dedicated container for it<p>&gt; There&#x27;s an argument to be made that the &quot;Simple&quot; Network Management Protocol they&#x27;re a fan of is far from being simple either[2]. Configuring the security features of v3 is not a simple task, and entire books have been written about SNMP as well. They conveniently ignore this by using v2c and making access public, which might not be acceptable in real-world deployments.<p>Agreed here.  If SNMP is supposed to be &quot;simple&quot;, I&#x27;d hate to see what the <i>Complex</i> Network Management Protocol looks like!<p>(I have a similar peeve about LDAP, on that note; I guess compared to wrappers around it like Active Directory and FreeIPA it&#x27;s &quot;lightweight&quot;, but I dread imagining what a <i>heavyweight</i> directory access protocol would entail)</div><br/><div id="37640506" class="c"><input type="checkbox" id="c-37640506" checked=""/><div class="controls bullet"><span class="by">jdougan</span><span>|</span><a href="#37639785">root</a><span>|</span><a href="#37640080">parent</a><span>|</span><a href="#37641028">next</a><span>|</span><label class="collapse" for="c-37640506">[-]</label><label class="expand" for="c-37640506">[1 more]</label></div><br/><div class="children"><div class="content">Both of those are based on old OSI protocols, which were terrifying in their complexity. LDAP mostly subsetted DAP and X.500 and added Internet concepts. SMNP leveraged ASN.1 with some ideas from CMIP but using Internet concepts and attention paid to operations when the network is marginal (unlike CMIP)<p>&quot;What do you get when you cross a mobster with an OSI standard?<p>You get someone who makes you an offer you can&#x27;t understand.&quot;</div><br/></div></div></div></div><div id="37641028" class="c"><input type="checkbox" id="c-37641028" checked=""/><div class="controls bullet"><span class="by">goodpoint</span><span>|</span><a href="#37639785">parent</a><span>|</span><a href="#37640080">prev</a><span>|</span><a href="#37639799">next</a><span>|</span><label class="collapse" for="c-37641028">[-]</label><label class="expand" for="c-37641028">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Docker feels contrarian for no reason<p>No, Docker is a mess.</div><br/></div></div><div id="37639799" class="c"><input type="checkbox" id="c-37639799" checked=""/><div class="controls bullet"><span class="by">medellin</span><span>|</span><a href="#37639785">parent</a><span>|</span><a href="#37641028">prev</a><span>|</span><a href="#37637100">next</a><span>|</span><label class="collapse" for="c-37639799">[-]</label><label class="expand" for="c-37639799">[2 more]</label></div><br/><div class="children"><div class="content">When i read that they thought docker was outdated I figured i would open the repo to find go code and pre built binaries… when i found c++ i was left thinking the same as you.</div><br/><div id="37640990" class="c"><input type="checkbox" id="c-37640990" checked=""/><div class="controls bullet"><span class="by">throwbadubadu</span><span>|</span><a href="#37639785">root</a><span>|</span><a href="#37639799">parent</a><span>|</span><a href="#37637100">next</a><span>|</span><label class="collapse" for="c-37640990">[-]</label><label class="expand" for="c-37640990">[1 more]</label></div><br/><div class="children"><div class="content">If it&#x27;s simple doesn&#x27;t need docker, and as someone else said you might even want to stuff it into your docker containers.. so a minimal thing doesn&#x27;t need docker imo. The simple landscape is huge, same as for whether one believes that C++ is outdated or not ;) Guess figure what is easier to get up and run still on many platforms.. simple C&#x2F;C++, or anything else?</div><br/></div></div></div></div></div></div><div id="37637100" class="c"><input type="checkbox" id="c-37637100" checked=""/><div class="controls bullet"><span class="by">ahofmann</span><span>|</span><a href="#37639785">prev</a><span>|</span><a href="#37640815">next</a><span>|</span><label class="collapse" for="c-37637100">[-]</label><label class="expand" for="c-37637100">[13 more]</label></div><br/><div class="children"><div class="content">I like the concept of simple monitoring. Simple means it is simple to install, simple to maintain and simple to use. 
For me, this is netdata. Netdata could be much more, but I just install it on whatever machine and never think about it again. And when something is strange on that machine, I go to <a href="http:&#x2F;&#x2F;localhost:19999" rel="nofollow noreferrer">http:&#x2F;&#x2F;localhost:19999</a> and look around.</div><br/><div id="37637316" class="c"><input type="checkbox" id="c-37637316" checked=""/><div class="controls bullet"><span class="by">jerrac</span><span>|</span><a href="#37637100">parent</a><span>|</span><a href="#37637888">next</a><span>|</span><label class="collapse" for="c-37637316">[-]</label><label class="expand" for="c-37637316">[2 more]</label></div><br/><div class="children"><div class="content">Not sure I haven&#x27;t run across it before, but this is the first time I&#x27;ve tried using Netdata. Looks like it is very good for metrics, at least in the 10 minutes I have spent installing it on my local desktop and poking around the ui there.<p>I&#x27;m not seeing anything in it for logs, though. I&#x27;m guessing it doesn&#x27;t aggregate or do anything with logs? What do you use for log aggregation and analysis?<p>I&#x27;m very interested because I&#x27;ve been getting frustrated with the ELK Stack, and the Prometheus&#x2F;Grafana&#x2F;Loki stack has never worked for me. I&#x27;m really close to trying to reinvent the wheel...</div><br/><div id="37638864" class="c"><input type="checkbox" id="c-37638864" checked=""/><div class="controls bullet"><span class="by">thinkmassive</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37637316">parent</a><span>|</span><a href="#37637888">next</a><span>|</span><label class="collapse" for="c-37638864">[-]</label><label class="expand" for="c-37638864">[1 more]</label></div><br/><div class="children"><div class="content">Prometheus has become ubiquitous for a reason. Exporting metrics on a basic http endpoint for scraping is as simple as you can get.<p>Service discovery adds some complexity, but if you’re operating with any amount of scale that involves dynamically scaling machines then it’s also the simplest model available so far.<p>What about it doesn’t work for you?<p>Edit: I didn’t touch on logging because the post is about metrics. Personally I’ve enjoyed using Loki better than ELK&#x2F;EFK, but it does have tradeoffs. I’d still be interested to hear why it doesn’t work, so I can keep that in mind when recommending solutions in the future.</div><br/></div></div></div></div><div id="37637888" class="c"><input type="checkbox" id="c-37637888" checked=""/><div class="controls bullet"><span class="by">hadlock</span><span>|</span><a href="#37637100">parent</a><span>|</span><a href="#37637316">prev</a><span>|</span><a href="#37639986">next</a><span>|</span><label class="collapse" for="c-37637888">[-]</label><label class="expand" for="c-37637888">[1 more]</label></div><br/><div class="children"><div class="content">Back in 2017 when I had a bunch of physical machines and unmanaged VMs we ended up putting netdata on the servers. The reason why was because most of the team was used to manually logging onto servers and diagnosing the issue manually.<p>The reason I liked it was because it exposes a standard Prometheus endpoint I can scrape and then view using something like Grafana. There are only about 20,000 Grafana dashboard modules available for netdata but generally you can find one that works for you. Having that prometheus endpoint allows you to springboard into the cloud and get like-metrics out of your cloud stuff as well, with a nice long historical data trail from your older&#x2F;est machines.</div><br/></div></div><div id="37639986" class="c"><input type="checkbox" id="c-37639986" checked=""/><div class="controls bullet"><span class="by">defanor</span><span>|</span><a href="#37637100">parent</a><span>|</span><a href="#37637888">prev</a><span>|</span><a href="#37637505">next</a><span>|</span><label class="collapse" for="c-37639986">[-]</label><label class="expand" for="c-37639986">[1 more]</label></div><br/><div class="children"><div class="content">The article&#x27;s complaints include complexity of JS web interfaces and &quot;eye candy&quot;, while netdata&#x27;s UI requires JS, is quite laggy and jerky, very interactive. I think munin fits better (uses the same RRDtool graphs, too), though possibly its configuration is too lengthy for the requirements.</div><br/></div></div><div id="37637505" class="c"><input type="checkbox" id="c-37637505" checked=""/><div class="controls bullet"><span class="by">xrd</span><span>|</span><a href="#37637100">parent</a><span>|</span><a href="#37639986">prev</a><span>|</span><a href="#37638598">next</a><span>|</span><label class="collapse" for="c-37637505">[-]</label><label class="expand" for="c-37637505">[7 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been struggling with graphana and netdata looks so much better.<p>Is this a tool where you can boot up the docker app and then connect a bunch of servers into a centralized dashboard? Or, is it better to think of netdata as a dashboard for a single server that permits monitoring of a bunch of processes only on that machine?<p>I&#x27;m not sure I understand whether agents can be configured to talk to a dashboard, or if you don&#x27;t need to do that configuration because they expect to talk to localhost. I have a bunch of VMs running on a bunch of different random hardware and want a way to monitor those VMs (and perhaps the hosts as well).</div><br/><div id="37638053" class="c"><input type="checkbox" id="c-37638053" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37637505">parent</a><span>|</span><a href="#37639042">next</a><span>|</span><label class="collapse" for="c-37638053">[-]</label><label class="expand" for="c-37638053">[5 more]</label></div><br/><div class="children"><div class="content">If you connect your servers to the netdata cloud, you can manage all of them there. (Put into groups etc). As far as I know there is no self hosted solution for this.<p><a href="https:&#x2F;&#x2F;learn.netdata.cloud&#x2F;docs&#x2F;configuring&#x2F;connect-agent-to-cloud" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.netdata.cloud&#x2F;docs&#x2F;configuring&#x2F;connect-agent-t...</a></div><br/><div id="37638337" class="c"><input type="checkbox" id="c-37638337" checked=""/><div class="controls bullet"><span class="by">xrd</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37638053">parent</a><span>|</span><a href="#37639042">next</a><span>|</span><label class="collapse" for="c-37638337">[-]</label><label class="expand" for="c-37638337">[4 more]</label></div><br/><div class="children"><div class="content">Drat. I&#x27;m only interested in things I can self host. Back to the drawing board. Thanks for the clarification!</div><br/><div id="37639572" class="c"><input type="checkbox" id="c-37639572" checked=""/><div class="controls bullet"><span class="by">lukevp</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37638337">parent</a><span>|</span><a href="#37638372">next</a><span>|</span><label class="collapse" for="c-37639572">[-]</label><label class="expand" for="c-37639572">[1 more]</label></div><br/><div class="children"><div class="content">You can self host and centralize configuration with netdata parents [1]. It’s extremely lightweight and efficient for metrics collection, and the UI is very good as well. I recommend giving it more in depth analysis.<p>[1] <a href="https:&#x2F;&#x2F;community.netdata.cloud&#x2F;t&#x2F;advice-on-self-hosted-self-deployed-no-internet-monitoring-of-multiple-servers&#x2F;3200&#x2F;2" rel="nofollow noreferrer">https:&#x2F;&#x2F;community.netdata.cloud&#x2F;t&#x2F;advice-on-self-hosted-self...</a></div><br/></div></div><div id="37638372" class="c"><input type="checkbox" id="c-37638372" checked=""/><div class="controls bullet"><span class="by">xrd</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37638337">parent</a><span>|</span><a href="#37639572">prev</a><span>|</span><a href="#37639042">next</a><span>|</span><label class="collapse" for="c-37638372">[-]</label><label class="expand" for="c-37638372">[2 more]</label></div><br/><div class="children"><div class="content">Maybe what I want is nachos?<p><a href="https:&#x2F;&#x2F;www.nagios.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.nagios.org&#x2F;</a></div><br/><div id="37639050" class="c"><input type="checkbox" id="c-37639050" checked=""/><div class="controls bullet"><span class="by">doubled112</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37638372">parent</a><span>|</span><a href="#37639042">next</a><span>|</span><label class="collapse" for="c-37639050">[-]</label><label class="expand" for="c-37639050">[1 more]</label></div><br/><div class="children"><div class="content">Or Zabbix.  I’m assuming Nachos is a funny typo.<p><a href="https:&#x2F;&#x2F;www.zabbix.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.zabbix.com&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="37639042" class="c"><input type="checkbox" id="c-37639042" checked=""/><div class="controls bullet"><span class="by">rsyring</span><span>|</span><a href="#37637100">root</a><span>|</span><a href="#37637505">parent</a><span>|</span><a href="#37638053">prev</a><span>|</span><a href="#37638598">next</a><span>|</span><label class="collapse" for="c-37639042">[-]</label><label class="expand" for="c-37639042">[1 more]</label></div><br/><div class="children"><div class="content">They have a concept called &quot;Parents&quot;:<p>&gt; A “Parent” is a Netdata Agent, like the ones we install on all our systems, but is configured as a central node that receives, stores and processes metrics data from other Netdata “Child” nodes in our infrastructure...<p><a href="https:&#x2F;&#x2F;learn.netdata.cloud&#x2F;docs&#x2F;streaming&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.netdata.cloud&#x2F;docs&#x2F;streaming&#x2F;</a></div><br/></div></div></div></div><div id="37638598" class="c"><input type="checkbox" id="c-37638598" checked=""/><div class="controls bullet"><span class="by">abrookewood</span><span>|</span><a href="#37637100">parent</a><span>|</span><a href="#37637505">prev</a><span>|</span><a href="#37640815">next</a><span>|</span><label class="collapse" for="c-37638598">[-]</label><label class="expand" for="c-37638598">[1 more]</label></div><br/><div class="children"><div class="content">Netdata deserves way more attention. It automatically configures itself with all relevant modules, runs very lean and has more information available than most people will ever need.</div><br/></div></div></div></div><div id="37640815" class="c"><input type="checkbox" id="c-37640815" checked=""/><div class="controls bullet"><span class="by">dobin</span><span>|</span><a href="#37637100">prev</a><span>|</span><a href="#37640767">next</a><span>|</span><label class="collapse" for="c-37640815">[-]</label><label class="expand" for="c-37640815">[1 more]</label></div><br/><div class="children"><div class="content">I was also overwhelmed by Grafana and co. In the time required to install it, i coded a simple monitoring alternative DMSR &quot;Does My Shit Run&quot; in python. Each agent has plugins which basically just sends a data structure to the monitoring server, which will display it as yaml. No persistence, history, graphs or similar. uMon looks like a behemoth in comparison.<p>Github: <a href="https:&#x2F;&#x2F;github.com&#x2F;dobin&#x2F;dmsr">https:&#x2F;&#x2F;github.com&#x2F;dobin&#x2F;dmsr</a><p>Live: <a href="https:&#x2F;&#x2F;mon.yookiterm.ch" rel="nofollow noreferrer">https:&#x2F;&#x2F;mon.yookiterm.ch</a></div><br/></div></div><div id="37640767" class="c"><input type="checkbox" id="c-37640767" checked=""/><div class="controls bullet"><span class="by">evilc00kie</span><span>|</span><a href="#37640815">prev</a><span>|</span><a href="#37637478">next</a><span>|</span><label class="collapse" for="c-37640767">[-]</label><label class="expand" for="c-37640767">[2 more]</label></div><br/><div class="children"><div class="content">Nice work!<p>I often think about the &quot;reinventing the wheel&quot; argument. Isn&#x27;t open source about diversity? There are so many fork, clones, &quot;Yet another...&quot;&#x27;s (yacc, yaml,...).<p>So many times I&#x27;m looking for suitable go libraries that solve a certain problem. There might be a few out there but every lib has its own pros and cons. Having the possibility to choose is great. Nothing sucks more than depending on a unmaintained clib nobody cares without alternatives.<p>The only counter-example that comes in my mind is crypto. You don&#x27;t want to do your own crypto.</div><br/><div id="37640791" class="c"><input type="checkbox" id="c-37640791" checked=""/><div class="controls bullet"><span class="by">madsbuch</span><span>|</span><a href="#37640767">parent</a><span>|</span><a href="#37637478">next</a><span>|</span><label class="collapse" for="c-37640791">[-]</label><label class="expand" for="c-37640791">[1 more]</label></div><br/><div class="children"><div class="content">I think it mostly depends on purpose. Crypto is being reinvented several times a day by students needing to understand the mechanics of various algorithms.<p>Personally, I find it rewarding to reimplement something known. There is always a solution when you are stuck, and who knows. Maybe one will develop a better API for the system of something else.</div><br/></div></div></div></div><div id="37637478" class="c"><input type="checkbox" id="c-37637478" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#37640767">prev</a><span>|</span><a href="#37638265">next</a><span>|</span><label class="collapse" for="c-37637478">[-]</label><label class="expand" for="c-37637478">[4 more]</label></div><br/><div class="children"><div class="content">I like the idea of simplicity and doing exactly what you need. And the single executable.<p>The words &quot;stupid simple&quot; and &quot;C++&quot; together make me scratch my head though. C++ itself is not simple, and you have to recompile if you need to change something (and sometimes you inevitably do), which is slow. I&#x27;d likely go with a relatively simple C program that embeds the FFI for RRDtool and other stuff, and embeds Lua, or, better yet, Janet. Then most of the thing could be written in these languages, and would be easy to tweak when need be. That would still allow for a single executable + a single config file, on top of the logic already embedded. (But the author went and built the thing, and I did not, so their solution so far outperforms mine.)</div><br/><div id="37639994" class="c"><input type="checkbox" id="c-37639994" checked=""/><div class="controls bullet"><span class="by">uxp8u61q</span><span>|</span><a href="#37637478">parent</a><span>|</span><a href="#37637494">next</a><span>|</span><label class="collapse" for="c-37639994">[-]</label><label class="expand" for="c-37639994">[1 more]</label></div><br/><div class="children"><div class="content">Simple means simple for the end users. Not necessarily simple for the developers. The end users do not care if the dev has to spend a couple of minutes recompiling, as long as the result is fast and simple to use.</div><br/></div></div><div id="37637827" class="c"><input type="checkbox" id="c-37637827" checked=""/><div class="controls bullet"><span class="by">lost_tourist</span><span>|</span><a href="#37637478">parent</a><span>|</span><a href="#37637494">prev</a><span>|</span><a href="#37638265">next</a><span>|</span><label class="collapse" for="c-37637827">[-]</label><label class="expand" for="c-37637827">[1 more]</label></div><br/><div class="children"><div class="content">c++ can be relatively simple if you don&#x27;t throw in all the bells and whistles and stay away from template metaprogramming. I use it all the time. Sure compiles can be slow, but with proper file partitioning and creating libraries 95% of that can be controlled for.</div><br/></div></div></div></div><div id="37638265" class="c"><input type="checkbox" id="c-37638265" checked=""/><div class="controls bullet"><span class="by">posix86</span><span>|</span><a href="#37637478">prev</a><span>|</span><a href="#37638031">next</a><span>|</span><label class="collapse" for="c-37638265">[-]</label><label class="expand" for="c-37638265">[4 more]</label></div><br/><div class="children"><div class="content">Why&#x27;s everyone hating on Grafana? I find it fairly easy to use, it has a good balance between power &amp; simplicity. And with docker you can make it run in seconds.</div><br/><div id="37638495" class="c"><input type="checkbox" id="c-37638495" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#37638265">parent</a><span>|</span><a href="#37638347">next</a><span>|</span><label class="collapse" for="c-37638495">[-]</label><label class="expand" for="c-37638495">[1 more]</label></div><br/><div class="children"><div class="content">No one is &quot;hating&quot; on Grafana. But if you used tools of the past, you&#x27;d know how light they were compared to the Grafana&#x2F;Kibana&#x2F;Elastic mongrel.<p>But I should mention that there is nothing &quot;stupid simple&quot; about the solution of the OP. Just look at the install procedure... <a href="https:&#x2F;&#x2F;tomscii.sig7.se&#x2F;umon&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;tomscii.sig7.se&#x2F;umon&#x2F;</a></div><br/></div></div><div id="37638347" class="c"><input type="checkbox" id="c-37638347" checked=""/><div class="controls bullet"><span class="by">xrd</span><span>|</span><a href="#37638265">parent</a><span>|</span><a href="#37638495">prev</a><span>|</span><a href="#37638031">next</a><span>|</span><label class="collapse" for="c-37638347">[-]</label><label class="expand" for="c-37638347">[2 more]</label></div><br/><div class="children"><div class="content">The difficult thing for me was understanding how to think about and then configure agents. I never could reason about getting the central server up and then connecting nodes to it, whether those nodes were applications or entire servers. The terminology didn&#x27;t make sense to me and it made me question whether I had the right framing for the purpose of grafana.</div><br/><div id="37640734" class="c"><input type="checkbox" id="c-37640734" checked=""/><div class="controls bullet"><span class="by">dewey</span><span>|</span><a href="#37638265">root</a><span>|</span><a href="#37638347">parent</a><span>|</span><a href="#37638031">next</a><span>|</span><label class="collapse" for="c-37640734">[-]</label><label class="expand" for="c-37640734">[1 more]</label></div><br/><div class="children"><div class="content">In the authors case he used Prometheus and Grafana was just the &quot;frontend&quot; for it. Basically a way to build pretty dashboards our of your PromQL queries. There&#x27;s no Grafana agent you have to configure.</div><br/></div></div></div></div></div></div><div id="37638031" class="c"><input type="checkbox" id="c-37638031" checked=""/><div class="controls bullet"><span class="by">roger_</span><span>|</span><a href="#37638265">prev</a><span>|</span><a href="#37640481">next</a><span>|</span><label class="collapse" for="c-37638031">[-]</label><label class="expand" for="c-37638031">[2 more]</label></div><br/><div class="children"><div class="content">I was recently looking for an ultra minimal monitoring solution for OpenWrt and other lightweight systems (Pi’s, etc.) and was disappointed not to find one that met my needs (negligible CPU, disk space and RAM).<p>I ended up hacking together a shell script to send data to Home Assistant (via MQTT) which runs on pretty much any system that has at least netcat:  <a href="https:&#x2F;&#x2F;github.com&#x2F;roger-&#x2F;hass-sysmon">https:&#x2F;&#x2F;github.com&#x2F;roger-&#x2F;hass-sysmon</a></div><br/><div id="37638488" class="c"><input type="checkbox" id="c-37638488" checked=""/><div class="controls bullet"><span class="by">synergy20</span><span>|</span><a href="#37638031">parent</a><span>|</span><a href="#37640481">next</a><span>|</span><label class="collapse" for="c-37638488">[-]</label><label class="expand" for="c-37638488">[1 more]</label></div><br/><div class="children"><div class="content">why not use <a href="https:&#x2F;&#x2F;collectd.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;collectd.org&#x2F;</a>  which is in C and used by openwrt&#x27;s luci already along with rrdtool, small in size, low on resource, and has so many plugins already?</div><br/></div></div></div></div><div id="37640481" class="c"><input type="checkbox" id="c-37640481" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#37638031">prev</a><span>|</span><a href="#37636952">next</a><span>|</span><label class="collapse" for="c-37640481">[-]</label><label class="expand" for="c-37640481">[1 more]</label></div><br/><div class="children"><div class="content">Rrdtool is still my go-to for a lot of things. The only functionality I would like to have from it is an SVG version of the charts that allowed for panning and zooming into particular points in the past.</div><br/></div></div><div id="37636952" class="c"><input type="checkbox" id="c-37636952" checked=""/><div class="controls bullet"><span class="by">kburman</span><span>|</span><a href="#37640481">prev</a><span>|</span><a href="#37636768">next</a><span>|</span><label class="collapse" for="c-37636952">[-]</label><label class="expand" for="c-37636952">[8 more]</label></div><br/><div class="children"><div class="content">I really like the idea behind μMon. It reminds me of when software was simpler. I remember using a program called &quot;Everything&quot; by voidtools. It was small but could search a lot of files quickly. Nowadays, some projects use big tools like Elasticsearch just to search a few things. Some even use PostgreSQL, a big database, for small tasks. I wish more software would keep things simple.</div><br/><div id="37636975" class="c"><input type="checkbox" id="c-37636975" checked=""/><div class="controls bullet"><span class="by">dave8088</span><span>|</span><a href="#37636952">parent</a><span>|</span><a href="#37639699">next</a><span>|</span><label class="collapse" for="c-37636975">[-]</label><label class="expand" for="c-37636975">[6 more]</label></div><br/><div class="children"><div class="content">“Everything” is a must have for me. It’s shocking that Windows doesn’t come with local search that works.</div><br/><div id="37637074" class="c"><input type="checkbox" id="c-37637074" checked=""/><div class="controls bullet"><span class="by">sphars</span><span>|</span><a href="#37636952">root</a><span>|</span><a href="#37636975">parent</a><span>|</span><a href="#37638608">next</a><span>|</span><label class="collapse" for="c-37637074">[-]</label><label class="expand" for="c-37637074">[4 more]</label></div><br/><div class="children"><div class="content">Microsoft has added basically the same functionality to Power Toys, called Run[0], taking heavy inspiration from Everything. But yeah this should be a built-in utility.<p>[0]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;powertoys&#x2F;run" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;powertoys&#x2F;run</a></div><br/><div id="37638310" class="c"><input type="checkbox" id="c-37638310" checked=""/><div class="controls bullet"><span class="by">beart</span><span>|</span><a href="#37636952">root</a><span>|</span><a href="#37637074">parent</a><span>|</span><a href="#37637380">next</a><span>|</span><label class="collapse" for="c-37638310">[-]</label><label class="expand" for="c-37638310">[1 more]</label></div><br/><div class="children"><div class="content">Not quite. Run has plugins but the default file search still uses windows search. However, there is a third party plugin for powertoys run that integrates the everything search service.</div><br/></div></div><div id="37637380" class="c"><input type="checkbox" id="c-37637380" checked=""/><div class="controls bullet"><span class="by">zacmps</span><span>|</span><a href="#37636952">root</a><span>|</span><a href="#37637074">parent</a><span>|</span><a href="#37638310">prev</a><span>|</span><a href="#37638608">next</a><span>|</span><label class="collapse" for="c-37637380">[-]</label><label class="expand" for="c-37637380">[2 more]</label></div><br/><div class="children"><div class="content">Does it read the ntfs journal? Because that&#x27;s really what makes everything, everything.<p>It makes me wish I used a journaling filesystem on Linux too.</div><br/><div id="37638538" class="c"><input type="checkbox" id="c-37638538" checked=""/><div class="controls bullet"><span class="by">tambourine_man</span><span>|</span><a href="#37636952">root</a><span>|</span><a href="#37637380">parent</a><span>|</span><a href="#37638608">next</a><span>|</span><label class="collapse" for="c-37638538">[-]</label><label class="expand" for="c-37638538">[1 more]</label></div><br/><div class="children"><div class="content">You don’t? What do you run Linux on? The default Ext4 is journaled</div><br/></div></div></div></div></div></div><div id="37638608" class="c"><input type="checkbox" id="c-37638608" checked=""/><div class="controls bullet"><span class="by">abrookewood</span><span>|</span><a href="#37636952">root</a><span>|</span><a href="#37636975">parent</a><span>|</span><a href="#37637074">prev</a><span>|</span><a href="#37639699">next</a><span>|</span><label class="collapse" for="c-37638608">[-]</label><label class="expand" for="c-37638608">[1 more]</label></div><br/><div class="children"><div class="content">Yep, if you run Windows and don&#x27;t have that installed, you&#x27;re just suffering for no reason. Fastest file search you will ever find.</div><br/></div></div></div></div><div id="37639699" class="c"><input type="checkbox" id="c-37639699" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#37636952">parent</a><span>|</span><a href="#37636975">prev</a><span>|</span><a href="#37636768">next</a><span>|</span><label class="collapse" for="c-37639699">[-]</label><label class="expand" for="c-37639699">[1 more]</label></div><br/><div class="children"><div class="content">Whats wrong is Postgres? It is very simple yet very powerful. Can run on very minimal resources , without hogging your CPU</div><br/></div></div></div></div><div id="37636768" class="c"><input type="checkbox" id="c-37636768" checked=""/><div class="controls bullet"><span class="by">Borg3</span><span>|</span><a href="#37636952">prev</a><span>|</span><a href="#37640204">next</a><span>|</span><label class="collapse" for="c-37636768">[-]</label><label class="expand" for="c-37636768">[1 more]</label></div><br/><div class="children"><div class="content">Not bad. I like KISS concepts. I personally run old Cacti instance for monitoring here. Not that simple as uMon, but not very complicated either. And even wrote
cacti_con CLI like graph viewer, to see specific port of that fat 100+ ports campus switches I had at work :)</div><br/></div></div><div id="37640204" class="c"><input type="checkbox" id="c-37640204" checked=""/><div class="controls bullet"><span class="by">amar0c</span><span>|</span><a href="#37636768">prev</a><span>|</span><a href="#37636976">next</a><span>|</span><label class="collapse" for="c-37640204">[-]</label><label class="expand" for="c-37640204">[2 more]</label></div><br/><div class="children"><div class="content">Monitoring should be: &quot;central&quot; location with GUI&#x2F;graphs + agents per bunch of servers. Let me chose from dropdown what I want to see.<p>If I have to deploy this on each machine than it makes no sense. I know SNMP is able to be used like this, but is μMon ?</div><br/><div id="37640501" class="c"><input type="checkbox" id="c-37640501" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#37640204">parent</a><span>|</span><a href="#37636976">next</a><span>|</span><label class="collapse" for="c-37640501">[-]</label><label class="expand" for="c-37640501">[1 more]</label></div><br/><div class="children"><div class="content">You can easily put together something that will send UDP packets with stats at regular intervals. I’ve done that a number of times - <a href="https:&#x2F;&#x2F;github.com&#x2F;rcarmo&#x2F;raspi-cluster&#x2F;blob&#x2F;master&#x2F;tools&#x2F;servers&#x2F;c&#x2F;multicast_statusd.c">https:&#x2F;&#x2F;github.com&#x2F;rcarmo&#x2F;raspi-cluster&#x2F;blob&#x2F;master&#x2F;tools&#x2F;se...</a></div><br/></div></div></div></div><div id="37636976" class="c"><input type="checkbox" id="c-37636976" checked=""/><div class="controls bullet"><span class="by">vsviridov</span><span>|</span><a href="#37640204">prev</a><span>|</span><a href="#37640246">next</a><span>|</span><label class="collapse" for="c-37636976">[-]</label><label class="expand" for="c-37636976">[1 more]</label></div><br/><div class="children"><div class="content">Looks more or less like munin...</div><br/></div></div><div id="37640246" class="c"><input type="checkbox" id="c-37640246" checked=""/><div class="controls bullet"><span class="by">wtcactus</span><span>|</span><a href="#37636976">prev</a><span>|</span><a href="#37640638">next</a><span>|</span><label class="collapse" for="c-37640246">[-]</label><label class="expand" for="c-37640246">[2 more]</label></div><br/><div class="children"><div class="content">Nice nifty project, he had me until the &quot;no alerting&quot; part.<p>Anyway, I might still deploy this in a Proxmox homelab where I don&#x27;t want to fight with the complexity of a grafana dashboard.</div><br/><div id="37640511" class="c"><input type="checkbox" id="c-37640511" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#37640246">parent</a><span>|</span><a href="#37640638">next</a><span>|</span><label class="collapse" for="c-37640511">[-]</label><label class="expand" for="c-37640511">[1 more]</label></div><br/><div class="children"><div class="content">What’s missing from the Proxmox charts that you would need a dashboard for?</div><br/></div></div></div></div><div id="37640638" class="c"><input type="checkbox" id="c-37640638" checked=""/><div class="controls bullet"><span class="by">gjulianm</span><span>|</span><a href="#37640246">prev</a><span>|</span><a href="#37638883">next</a><span>|</span><label class="collapse" for="c-37640638">[-]</label><label class="expand" for="c-37640638">[1 more]</label></div><br/><div class="children"><div class="content">I honestly don&#x27;t get the criticisms of the Prometheus + Grafana stack.<p>&gt; A full-blown time-series database (with gigabytes of rolling on-disk data).<p>Prometheus has a setting that allows you to limit the space used by the database. I&#x27;m not sure however how one can do monitoring without a time-series database.<p>&gt; Several Go binaries dozens of megabytes each, also consuming runtime resources.<p>Compared to most monitoring tools I&#x27;ve tested, the Prometheus exporters are usually fairly lightweight in relation to the amount of metrics they generate. Also, &quot;several dozens of megabytes&quot; doesn&#x27;t seem like too much when we&#x27;re usually talking about disk spaces in the gigabytes...<p>&gt; Lengthy configuration files and lengthy argument lists to said binaries.<p>Configuration files, yes if you want to change all the defaults. Argument lists, not really. In reality, a Docker deployment of Grafana + Prometheus is 20 lines in a docker-compose.yml file. Configuration files come with defaults if you install it to the system.<p>By the way, I&#x27;m not sure that configuring a FastCGI server will be easier than configuring a Docker compose file...<p>&gt; Systems continuously talking to each other over the network (even when nobody is looking at any dashboard), periodically pulling metrics from nodes into Prometheus, which in turn runs all sorts of consolidation routines on that data. A constant source of noise in otherwise idling systems.<p>Not necessarily. Systems talk to each other over the network if you configure them to do so. You can always install a Prometheus + Grafana on every node if you don&#x27;t want to do central monitoring and you&#x27;ll have no network noise.<p>&gt; A mind-boggingly complex web front-end (Grafana) with its own database, tons of JavaScript running in my browser, and role-based access control over multiple users.<p>Grafana, complex? I think dragging and dropping panels with query builders that don&#x27;t even require you to know the query language are far better than defining graphs in shell scripts.<p>&gt; A bespoke query language to pull metrics into dashboards, and lots of specialized knowledge in how to build useful dashboards. It is all meant to be intuitive, but man, is it complicated!<p>Again, this is not a problem of the stack. Building useful dashboards is complicated no matter what tool you use.<p>&gt; maintenance: ongoing upgrades &amp; migrations<p>Not really. Both Prometheus and Grafana are usually very stable and you don&#x27;t need to upgrade if you don&#x27;t want to. I have a monitoring stack built with it in my homelab and I haven&#x27;t updated it in two years, and it still works. Of course I don&#x27;t have the new shiny features, but it works.<p>To me, it seems that the author is conflating the complexity of the tool with the complexity of monitoring itself. Yes, monitoring is hard. Knowing which metrics to show, which to pull, how to retain them, it&#x27;s hard. Knowing how to present those metrics to users is also hard. But this tool doesn&#x27;t solve that. In the end, I don&#x27;t know how useful it is to make a custom tool that collects very limited metrics based on other ancient, limited, buggy tools (SNMP, RRD, FastCGI...) that is missing even basic UX features like being able to zoom or pan on charts.</div><br/></div></div><div id="37638883" class="c"><input type="checkbox" id="c-37638883" checked=""/><div class="controls bullet"><span class="by">golem14</span><span>|</span><a href="#37640638">prev</a><span>|</span><a href="#37636886">next</a><span>|</span><label class="collapse" for="c-37638883">[-]</label><label class="expand" for="c-37638883">[1 more]</label></div><br/><div class="children"><div class="content">Looks nice. I would like to use something like this to remotely monitor machines. Currently use Prometheus (but without Grafana), since the alerting and built-in graphing is sufficient.<p>But agree with OP that Prometheus feels more complex than need be for simple use cases. But so does sendmail ;)</div><br/></div></div><div id="37636886" class="c"><input type="checkbox" id="c-37636886" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37638883">prev</a><span>|</span><a href="#37638087">next</a><span>|</span><label class="collapse" for="c-37636886">[-]</label><label class="expand" for="c-37636886">[1 more]</label></div><br/><div class="children"><div class="content">This really speaks to me - rrdtool is criminally underutilized. Great work!<p>I did something different but in a similar vein for one server network. We had Seq already deployed for log monitoring so instead of setting up a separate network&#x2F;node&#x2F;app health monitoring interface I configured everything to regularly ping seq with a structured log message containing the needed data that could be extracted and graphed with seq’s limited oob charting abilities in the dashboard. Not perfect, but simpler.</div><br/></div></div><div id="37638087" class="c"><input type="checkbox" id="c-37638087" checked=""/><div class="controls bullet"><span class="by">new_user_final</span><span>|</span><a href="#37636886">prev</a><span>|</span><a href="#37639482">next</a><span>|</span><label class="collapse" for="c-37638087">[-]</label><label class="expand" for="c-37638087">[1 more]</label></div><br/><div class="children"><div class="content">Is there any simple monitoring system for kubernetes that will monitor memory and CPU usage for each deployments and node? Prometheus and Grafana is good but too much configuration. I also like stats page of HAProxy. Something like that for per service?</div><br/></div></div><div id="37639482" class="c"><input type="checkbox" id="c-37639482" checked=""/><div class="controls bullet"><span class="by">pphysch</span><span>|</span><a href="#37638087">prev</a><span>|</span><a href="#37637950">next</a><span>|</span><label class="collapse" for="c-37639482">[-]</label><label class="expand" for="c-37639482">[1 more]</label></div><br/><div class="children"><div class="content">This doesn&#x27;t seem much simpler than Prometheus+Grafana, if it all.<p>Some pushback:<p>- SNMP sucks. It&#x27;s very limited, difficult to secure, etc. I&#x27;ve spent a lot of time with it, and it&#x27;s more complex than Prometheus&#x27; simple HTTP metrics model. I use it where I have to (non-server devices), but I prefer dealing with Prometheus.<p>- Grafana is not necessarily complex. It&#x27;s powerful, and you can waste a lot of time overinvesting in dashboard design, but that&#x27;s not required. It can be used quite elegantly.<p>μMon does seem like &quot;old school for the sake of old school&quot;. SNMP and RRDTool were designed when memory &amp; bandwidth were much more limited. I will happily trade the overheads of HTTP and static Go binaries for the much superior UX they offer.</div><br/></div></div><div id="37637950" class="c"><input type="checkbox" id="c-37637950" checked=""/><div class="controls bullet"><span class="by">mayli</span><span>|</span><a href="#37639482">prev</a><span>|</span><a href="#37639797">next</a><span>|</span><label class="collapse" for="c-37637950">[-]</label><label class="expand" for="c-37637950">[1 more]</label></div><br/><div class="children"><div class="content">fyi, here is a very similar project.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;pommi&#x2F;CGP">https:&#x2F;&#x2F;github.com&#x2F;pommi&#x2F;CGP</a></div><br/></div></div><div id="37639797" class="c"><input type="checkbox" id="c-37639797" checked=""/><div class="controls bullet"><span class="by">toxik</span><span>|</span><a href="#37637950">prev</a><span>|</span><a href="#37637320">next</a><span>|</span><label class="collapse" for="c-37639797">[-]</label><label class="expand" for="c-37639797">[1 more]</label></div><br/><div class="children"><div class="content">What about netdata?</div><br/></div></div><div id="37637320" class="c"><input type="checkbox" id="c-37637320" checked=""/><div class="controls bullet"><span class="by">random3</span><span>|</span><a href="#37639797">prev</a><span>|</span><a href="#37637220">next</a><span>|</span><label class="collapse" for="c-37637320">[-]</label><label class="expand" for="c-37637320">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s 2023. Tracing has been around for 20 years(dtrace, x-trace <a href="https:&#x2F;&#x2F;cs.brown.edu&#x2F;~rfonseca&#x2F;pubs&#x2F;xtr-nsdi07.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;cs.brown.edu&#x2F;~rfonseca&#x2F;pubs&#x2F;xtr-nsdi07.pdf</a>).<p>Very simple logging, if not structured, while not completely useless it&#x27;s not very useful either. except for maybe showing some nice charts.<p>Any serious monitoring tool is useful when it can explain things and only tracing gives you causal information.</div><br/></div></div><div id="37637220" class="c"><input type="checkbox" id="c-37637220" checked=""/><div class="controls bullet"><span class="by">louwrentius</span><span>|</span><a href="#37637320">prev</a><span>|</span><a href="#37636733">next</a><span>|</span><label class="collapse" for="c-37637220">[-]</label><label class="expand" for="c-37637220">[1 more]</label></div><br/><div class="children"><div class="content">I do run Grafana + InfluxDB at home and I agree it’s not trivial to setup. Grafana in particular makes creating informative, easy to read graphs&#x2F;dashboards a PhD worthy endeavor.<p>Yet, I run some hobby projects that collect data and this setup is absolutely perfect for it. I even challenged myself to use SSL for the InfluxDB server (run small CA).<p>Also, I use slack-based alerting through Grafana, for example if a disk would fill up, or something is down.<p>So it’s really about what your needs are.<p>And often, basic metrics about systems like CPU usage, load or network traffic doesn’t tell you anything useful or actionable.</div><br/></div></div></div></div></div></div></div></body></html>