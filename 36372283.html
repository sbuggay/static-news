<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687165250065" as="style"/><link rel="stylesheet" href="styles.css?v=1687165250065"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/crufters/actio">Make microservices look like monoliths</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>friendly_chap</span> | <span>79 comments</span></div><br/><div><div id="36388795" class="c"><input type="checkbox" id="c-36388795" checked=""/><div class="controls bullet"><span class="by">haspok</span><span>|</span><a href="#36382316">next</a><span>|</span><label class="collapse" for="c-36388795">[-]</label><label class="expand" for="c-36388795">[1 more]</label></div><br/><div class="children"><div class="content">So you are trying to build Erlang without Erlang and OTP. Nice try :) You are maybe 5% there. How about the rest? Error handling, handling network issues, latency, partitions, deployments, scaling etc...<p>I would also argue that because of the async calls (NodeJS is single-threaded, right?) you can easily run into weird and unexpected issues where two sequential service calls return out of order (which is impossible if they are just method calls, but very likely if they are sent over the network). How do you handle these cases? Do you just block on each call over the network and hope for the best?</div><br/></div></div><div id="36382316" class="c"><input type="checkbox" id="c-36382316" checked=""/><div class="controls bullet"><span class="by">civilitty</span><span>|</span><a href="#36388795">prev</a><span>|</span><a href="#36388204">next</a><span>|</span><label class="collapse" for="c-36382316">[-]</label><label class="expand" for="c-36382316">[32 more]</label></div><br/><div class="children"><div class="content">How about just stop making microservices and go back to monoliths? Then you don’t have to shoehorn two things at the same time!</div><br/><div id="36382623" class="c"><input type="checkbox" id="c-36382623" checked=""/><div class="controls bullet"><span class="by">mabbo</span><span>|</span><a href="#36382316">parent</a><span>|</span><a href="#36383055">next</a><span>|</span><label class="collapse" for="c-36382623">[-]</label><label class="expand" for="c-36382623">[8 more]</label></div><br/><div class="children"><div class="content">I spent a decade at Amazon (SOA all the things!) and then a year and a half at Shopify (single Rails monolith for all the things!).<p>I think both strategies have pros and cons. But critically, you need a company culture that supports whichever choice you&#x27;ve made.<p>If you have a company where each team gets to totally decide how they want to implement their stuff, sharing a monolith between teams can create a mess. Ownership issues to be resolved, code quality&#x2F;style issues, operational issues. Monoliths require alignment.</div><br/><div id="36383617" class="c"><input type="checkbox" id="c-36383617" checked=""/><div class="controls bullet"><span class="by">ranting-moth</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36382623">parent</a><span>|</span><a href="#36384847">next</a><span>|</span><label class="collapse" for="c-36383617">[-]</label><label class="expand" for="c-36383617">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Monoliths require alignment.<p>So do microservices.</div><br/><div id="36384033" class="c"><input type="checkbox" id="c-36384033" checked=""/><div class="controls bullet"><span class="by">spicybright</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383617">parent</a><span>|</span><a href="#36388170">next</a><span>|</span><label class="collapse" for="c-36384033">[-]</label><label class="expand" for="c-36384033">[3 more]</label></div><br/><div class="children"><div class="content">I think GP&#x27;s point on company culture is the right answer.<p>My only thoughts to add is monoliths can be aligned as well as microservices, if not a bit easier depending on the team.<p>You have to align microservices to talk to each other anyways, and there&#x27;s no reason you can&#x27;t make those boundaries work in one codebase instead of many.<p>That said ownership is more important in a monolith, whether that be a single team of architects or architects responsible for a specific well defined part of the code base.<p>Having a solid process for only allowing well thought out code in is a cornerstone to keeping alignment.</div><br/><div id="36387222" class="c"><input type="checkbox" id="c-36387222" checked=""/><div class="controls bullet"><span class="by">zerbinxx</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384033">parent</a><span>|</span><a href="#36388170">next</a><span>|</span><label class="collapse" for="c-36387222">[-]</label><label class="expand" for="c-36387222">[2 more]</label></div><br/><div class="children"><div class="content">The worst thing is the many-monoliths&#x2F;mini-monoliths problem that you get when each team thinks it has ultra special needs and absolutely must build everything from scratch, even if it’s a near duplicate of something someone else built 2 months ago.</div><br/><div id="36388704" class="c"><input type="checkbox" id="c-36388704" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36387222">parent</a><span>|</span><a href="#36388170">next</a><span>|</span><label class="collapse" for="c-36388704">[-]</label><label class="expand" for="c-36388704">[1 more]</label></div><br/><div class="children"><div class="content">building from scratch instead of using something that already fits pretty well is orthogonal to discussion as it happens both in monolith and microservices</div><br/></div></div></div></div></div></div></div></div><div id="36384847" class="c"><input type="checkbox" id="c-36384847" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36382623">parent</a><span>|</span><a href="#36383617">prev</a><span>|</span><a href="#36383055">next</a><span>|</span><label class="collapse" for="c-36384847">[-]</label><label class="expand" for="c-36384847">[2 more]</label></div><br/><div class="children"><div class="content">Out of curiosity, do the microservices at Amazon typically call each other in an orchestrated fashion (i.e. microservice A knows it needs some particular functionality and knows to call microservice B to get it), or is in more asynchronous&#x2F;&quot;choreographed&quot;, where requests are available to a general pool of services, each of which handles as they need?  It&#x27;s hard to see how a library like the one posted about here would help much with the latter.</div><br/><div id="36387073" class="c"><input type="checkbox" id="c-36387073" checked=""/><div class="controls bullet"><span class="by">thrtythreeforty</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384847">parent</a><span>|</span><a href="#36383055">next</a><span>|</span><label class="collapse" for="c-36387073">[-]</label><label class="expand" for="c-36387073">[1 more]</label></div><br/><div class="children"><div class="content">It is definitely the first one. Microservices at AWS typically grow boundaries at team boundaries, even if it would make much more technical sense for them to be combined. Each team knows which other team provides the APIs they need.<p>(Under the hood, the service may in fact be distributed to a large pool of resources. But a microservice doesn&#x27;t shout into a void &quot;hey could someone please handle a LaunchInstanceInRegion class??&quot; - it&#x27;s like using a library, but over the network.)</div><br/></div></div></div></div></div></div><div id="36383055" class="c"><input type="checkbox" id="c-36383055" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#36382316">parent</a><span>|</span><a href="#36382623">prev</a><span>|</span><a href="#36383691">next</a><span>|</span><label class="collapse" for="c-36383055">[-]</label><label class="expand" for="c-36383055">[20 more]</label></div><br/><div class="children"><div class="content">Microservices: Software complexity solutions to human organisation problems.<p>Remember when microservices were pitched as &#x27;allowing you to use the right language for the job&#x27;? What a wonderful life the person who thinks a balkanised tech stack is good must have had. They&#x27;re one undisciplined developer away from having production prolog.</div><br/><div id="36387156" class="c"><input type="checkbox" id="c-36387156" checked=""/><div class="controls bullet"><span class="by">88913527</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383055">parent</a><span>|</span><a href="#36384780">next</a><span>|</span><label class="collapse" for="c-36387156">[-]</label><label class="expand" for="c-36387156">[3 more]</label></div><br/><div class="children"><div class="content">Most (successful) paths lead to balkanization. Just one acquisition can do it, much less 2 or N more. And the pace of these changes can outpace your ability to respond to it, which makes fighting it a losing battle.</div><br/><div id="36388183" class="c"><input type="checkbox" id="c-36388183" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36387156">parent</a><span>|</span><a href="#36384780">next</a><span>|</span><label class="collapse" for="c-36388183">[-]</label><label class="expand" for="c-36388183">[2 more]</label></div><br/><div class="children"><div class="content">Yes, it is inevitable at some level, but supporting 2 different stacks (result from acquisition) is better than 20 (result from &quot;pick the best tool for the job&quot; culture).</div><br/></div></div></div></div><div id="36384780" class="c"><input type="checkbox" id="c-36384780" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383055">parent</a><span>|</span><a href="#36387156">prev</a><span>|</span><a href="#36383222">next</a><span>|</span><label class="collapse" for="c-36384780">[-]</label><label class="expand" for="c-36384780">[4 more]</label></div><br/><div class="children"><div class="content">Are there actually many real-life examples of large-scale microservices architecture operating successfully with a range of different languages in use?  I did (briefly) work at such a shop, I can&#x27;t say the experience was particularly rewarding, but I was expected to be on top of ALL said languages&#x2F;stacks and their various idiosyncrasies etc., and much of the code was pretty poorly written.  Arguably the biggest challenge was maintaining the build system!</div><br/><div id="36387615" class="c"><input type="checkbox" id="c-36387615" checked=""/><div class="controls bullet"><span class="by">jamesfinlayson</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384780">parent</a><span>|</span><a href="#36385534">next</a><span>|</span><label class="collapse" for="c-36387615">[-]</label><label class="expand" for="c-36387615">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve worked at a place where it was a case of choose what you want - there&#x27;s lots of C#, Python and Javascript, some Go but there&#x27;s still Scala and CoffeeScript lurking around, as well as some other more esoteric stuff that seemed like a good idea at the time.</div><br/></div></div><div id="36385534" class="c"><input type="checkbox" id="c-36385534" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384780">parent</a><span>|</span><a href="#36387615">prev</a><span>|</span><a href="#36383222">next</a><span>|</span><label class="collapse" for="c-36385534">[-]</label><label class="expand" for="c-36385534">[2 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t heard of any, the classic &#x27;allowed languages&#x27; pages of tech companies come to mind.<p>&quot;You build it you run it&quot;, until the OCaml guy quits and now you need to support OCaml.</div><br/><div id="36387652" class="c"><input type="checkbox" id="c-36387652" checked=""/><div class="controls bullet"><span class="by">scott_w</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36385534">parent</a><span>|</span><a href="#36383222">next</a><span>|</span><label class="collapse" for="c-36387652">[-]</label><label class="expand" for="c-36387652">[1 more]</label></div><br/><div class="children"><div class="content">I do recall speaking to people at a betting company many moons ago who tried to recruit me with the claim they were so open with  microservices that they had a key system written in Erlang that only one engineer in the company understood.<p>I politely explained my position on why that seemed suboptimal.</div><br/></div></div></div></div></div></div><div id="36383222" class="c"><input type="checkbox" id="c-36383222" checked=""/><div class="controls bullet"><span class="by">bheadmaster</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383055">parent</a><span>|</span><a href="#36384780">prev</a><span>|</span><a href="#36383691">next</a><span>|</span><label class="collapse" for="c-36383222">[-]</label><label class="expand" for="c-36383222">[12 more]</label></div><br/><div class="children"><div class="content">One of the pros of microservices is that each individual microservice is so simple that it really doesn&#x27;t matter what language it&#x27;s written in because it can be easily rewritten.</div><br/><div id="36383282" class="c"><input type="checkbox" id="c-36383282" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383222">parent</a><span>|</span><a href="#36388243">next</a><span>|</span><label class="collapse" for="c-36383282">[-]</label><label class="expand" for="c-36383282">[2 more]</label></div><br/><div class="children"><div class="content">That assumes the service is doing something generic enough to be trivial in any language, in which case, why not just choose one?<p>It&#x27;s like we&#x27;re advocating for the outcome of the Tower of Babel tale.</div><br/><div id="36387301" class="c"><input type="checkbox" id="c-36387301" checked=""/><div class="controls bullet"><span class="by">zerbinxx</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383282">parent</a><span>|</span><a href="#36388243">next</a><span>|</span><label class="collapse" for="c-36387301">[-]</label><label class="expand" for="c-36387301">[1 more]</label></div><br/><div class="children"><div class="content">I mean, ultimately most languages and frameworks are&#x2F;should be at least intelligible and serviceable by your teammates. I’ve both been on teams where I cannot work on Jerry’s Fucking Insanity Factory API after he leaves even though it’s written in JS and I know JS, but this is some insane Rube Goldberg machine that only Jerry’s mind understands, I’ve also been on teams where someone will write their thing in Go or Rust and I don’t know those but I can at least maintain them, because they’re well abstracted and do nice things and their authors were not schizophrenic like Jerry</div><br/></div></div></div></div><div id="36388243" class="c"><input type="checkbox" id="c-36388243" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383222">parent</a><span>|</span><a href="#36383282">prev</a><span>|</span><a href="#36386191">next</a><span>|</span><label class="collapse" for="c-36388243">[-]</label><label class="expand" for="c-36388243">[1 more]</label></div><br/><div class="children"><div class="content">My (small) team spent a year rewriting one simple clojure&#x2F;mongo CRUD microservice into Java&#x2F;Postgres. The process was anything but easy.<p>Interestingly, even a simple CRUD can be made in a complex way in Clojure which makes it difficult to understand for non-clojure devs.<p>Data migration path is also a huge issue (and the major reason it took so long).<p>I believe the original service took 6 months to develop (including all iterations of the design&#x2F;spec), a &quot;simple&quot; 1:1 rewrite a double of that.</div><br/></div></div><div id="36386191" class="c"><input type="checkbox" id="c-36386191" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383222">parent</a><span>|</span><a href="#36388243">prev</a><span>|</span><a href="#36384139">next</a><span>|</span><label class="collapse" for="c-36386191">[-]</label><label class="expand" for="c-36386191">[2 more]</label></div><br/><div class="children"><div class="content">I disagree that this is the case; decomposing into microservices doesn’t mean that the functionality within a service boundary is trivial and easy to rewrite.</div><br/><div id="36387622" class="c"><input type="checkbox" id="c-36387622" checked=""/><div class="controls bullet"><span class="by">bheadmaster</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36386191">parent</a><span>|</span><a href="#36384139">next</a><span>|</span><label class="collapse" for="c-36387622">[-]</label><label class="expand" for="c-36387622">[1 more]</label></div><br/><div class="children"><div class="content">Of course, there&#x27;s a whole continuum of complexity between microservices and monoliths in real life. Much of that continuum is labeled as &quot;microservices&quot;.<p>I personally think that if microservice is doing something so complicated that the rewrite would take <i>we-cannot-afford-that</i> amount of time, then it should be split into multiple parts.</div><br/></div></div></div></div><div id="36384139" class="c"><input type="checkbox" id="c-36384139" checked=""/><div class="controls bullet"><span class="by">ohgodplsno</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36383222">parent</a><span>|</span><a href="#36386191">prev</a><span>|</span><a href="#36383691">next</a><span>|</span><label class="collapse" for="c-36384139">[-]</label><label class="expand" for="c-36384139">[6 more]</label></div><br/><div class="children"><div class="content">One of the pros of monoliths is that each individual functionality it provides is so simple that it doesn&#x27;t need to be rewritten.<p>Micro services replace your unmaintainable bean injection XML abomination with 50 reimplementations of database access and a salary for the one guy who knows his to make your kubernetes setup work.<p>It&#x27;s not a technology problem, it&#x27;s a people problem. Micro services make it a distributed people problem.</div><br/><div id="36384269" class="c"><input type="checkbox" id="c-36384269" checked=""/><div class="controls bullet"><span class="by">bheadmaster</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384139">parent</a><span>|</span><a href="#36383691">next</a><span>|</span><label class="collapse" for="c-36384269">[-]</label><label class="expand" for="c-36384269">[5 more]</label></div><br/><div class="children"><div class="content">&gt; One of the pros of monoliths is that each individual functionality it provides is so simple that it doesn&#x27;t need to be rewritten<p>I... I don&#x27;t really understand this sentence.</div><br/><div id="36387663" class="c"><input type="checkbox" id="c-36387663" checked=""/><div class="controls bullet"><span class="by">scott_w</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384269">parent</a><span>|</span><a href="#36386131">next</a><span>|</span><label class="collapse" for="c-36387663">[-]</label><label class="expand" for="c-36387663">[1 more]</label></div><br/><div class="children"><div class="content">He’s mocking you</div><br/></div></div><div id="36386131" class="c"><input type="checkbox" id="c-36386131" checked=""/><div class="controls bullet"><span class="by">floydnoel</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36384269">parent</a><span>|</span><a href="#36387663">prev</a><span>|</span><a href="#36383691">next</a><span>|</span><label class="collapse" for="c-36386131">[-]</label><label class="expand" for="c-36386131">[3 more]</label></div><br/><div class="children"><div class="content">probably because you are replying to a quote of a quote, but didn&#x27;t read the quoted comment? spend more time reading and less time writing would be my suggestion to help with understanding the comments here.</div><br/><div id="36386168" class="c"><input type="checkbox" id="c-36386168" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36386131">parent</a><span>|</span><a href="#36387601">next</a><span>|</span><label class="collapse" for="c-36386168">[-]</label><label class="expand" for="c-36386168">[1 more]</label></div><br/><div class="children"><div class="content">&gt; probably because you are replying to a quote of a quote<p>Its not a quote of a quote, its an attempt at a mocking modification of an upthread comment that isn’t a quote, but the original doesn’t fix the incoherence of the mocking reply.</div><br/></div></div><div id="36387601" class="c"><input type="checkbox" id="c-36387601" checked=""/><div class="controls bullet"><span class="by">bheadmaster</span><span>|</span><a href="#36382316">root</a><span>|</span><a href="#36386131">parent</a><span>|</span><a href="#36386168">prev</a><span>|</span><a href="#36383691">next</a><span>|</span><label class="collapse" for="c-36387601">[-]</label><label class="expand" for="c-36387601">[1 more]</label></div><br/><div class="children"><div class="content">I <i>wrote</i> the quoted comment.<p>You&#x27;d probably notice that if you were to spend more time reading and less time writing.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36383691" class="c"><input type="checkbox" id="c-36383691" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#36382316">parent</a><span>|</span><a href="#36383055">prev</a><span>|</span><a href="#36388040">next</a><span>|</span><label class="collapse" for="c-36383691">[-]</label><label class="expand" for="c-36383691">[1 more]</label></div><br/><div class="children"><div class="content">i think a lot invest in microservices as the services require less programming skills. ofcourse, the whole thing requires skills, but little services with simple apis are easy to make.that makes hiring a lot easier and maybe cheaper. i love monoliths, but at my company (not a software dev place) its hard to do these things. most people dont understand threads and architecture of programs, but they can make some fastapi routes and hook them up to some functions. we can create complex things despite their lack in pure software dev skills.  (i wish it was different! but u have to work to ur teams strength othetwise it will end in tears!)</div><br/></div></div><div id="36388040" class="c"><input type="checkbox" id="c-36388040" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#36382316">parent</a><span>|</span><a href="#36383691">prev</a><span>|</span><a href="#36383232">next</a><span>|</span><label class="collapse" for="c-36388040">[-]</label><label class="expand" for="c-36388040">[1 more]</label></div><br/><div class="children"><div class="content">how about proper system design, make &quot;procedure calls&quot; workable both locally and &quot;remotely&quot; ?</div><br/></div></div><div id="36383232" class="c"><input type="checkbox" id="c-36383232" checked=""/><div class="controls bullet"><span class="by">friendly_chap</span><span>|</span><a href="#36382316">parent</a><span>|</span><a href="#36388040">prev</a><span>|</span><a href="#36388204">next</a><span>|</span><label class="collapse" for="c-36383232">[-]</label><label class="expand" for="c-36383232">[1 more]</label></div><br/><div class="children"><div class="content">Hi, author here.<p>I agree 100%. However after spending 10 years doing microservices everyone wants me to do microservices, despite me telling them what you just said. It&#x27;s a positive feedback loop.<p>This project is just an exploration of providing teams with a low (no?) cost way of doing microservices - I also kinda enjoy hacking on things like this. Still in progress though so use it at your own risk.</div><br/></div></div></div></div><div id="36388204" class="c"><input type="checkbox" id="c-36388204" checked=""/><div class="controls bullet"><span class="by">azangru</span><span>|</span><a href="#36382316">prev</a><span>|</span><a href="#36382296">next</a><span>|</span><label class="collapse" for="c-36388204">[-]</label><label class="expand" for="c-36388204">[2 more]</label></div><br/><div class="children"><div class="content">There are a couple of relevant recent talks on the subject:<p>- Top 5 techniques for building the worst microservice system ever - William Brander - NDC London 2023 (<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=88_LUw1Wwe4">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=88_LUw1Wwe4</a>)<p>- Don’t Build a Distributed Monolith - Jonathan Tower - NDC London 2023 (<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=p2GlRToY5HI">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=p2GlRToY5HI</a>)</div><br/><div id="36388722" class="c"><input type="checkbox" id="c-36388722" checked=""/><div class="controls bullet"><span class="by">ketzu</span><span>|</span><a href="#36388204">parent</a><span>|</span><a href="#36382296">next</a><span>|</span><label class="collapse" for="c-36388722">[-]</label><label class="expand" for="c-36388722">[1 more]</label></div><br/><div class="children"><div class="content">It is such a weird feeling to come across a topic I haven&#x27;t read on in a while, watch two videos on it out of random curiosity, hop on hackernews the next day, and get a recommendation for the exact same videos.<p>I very much enjoyed the 5 techniques and many of the tidbits. I also liked &quot;Avoiding Microservice Megadisasters&quot; but mostly for the entertainment value (<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=gfh-VCTwMw8">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=gfh-VCTwMw8</a>)</div><br/></div></div></div></div><div id="36382296" class="c"><input type="checkbox" id="c-36382296" checked=""/><div class="controls bullet"><span class="by">empthought</span><span>|</span><a href="#36388204">prev</a><span>|</span><a href="#36384306">next</a><span>|</span><label class="collapse" for="c-36382296">[-]</label><label class="expand" for="c-36382296">[2 more]</label></div><br/><div class="children"><div class="content">The Eight Fallacies of Distributed Computing: <a href="https:&#x2F;&#x2F;nighthacks.com&#x2F;jag&#x2F;res&#x2F;Fallacies.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;nighthacks.com&#x2F;jag&#x2F;res&#x2F;Fallacies.html</a></div><br/></div></div><div id="36384306" class="c"><input type="checkbox" id="c-36384306" checked=""/><div class="controls bullet"><span class="by">Justsignedup</span><span>|</span><a href="#36382296">prev</a><span>|</span><a href="#36382049">next</a><span>|</span><label class="collapse" for="c-36384306">[-]</label><label class="expand" for="c-36384306">[4 more]</label></div><br/><div class="children"><div class="content">Reminds me a lot of erlang and the core features of where the function runs is unimportant.<p>This is solving microservices via dependency injection.<p>I&#x27;m not against it, but honestly if you not gonna be thoughtful about it.. Why not just monolith it? Monoliths are only a problem at large scale, and at that scale you have the manpower to create a reliable messaging service for inter service communications.</div><br/><div id="36387428" class="c"><input type="checkbox" id="c-36387428" checked=""/><div class="controls bullet"><span class="by">zerbinxx</span><span>|</span><a href="#36384306">parent</a><span>|</span><a href="#36382049">next</a><span>|</span><label class="collapse" for="c-36387428">[-]</label><label class="expand" for="c-36387428">[3 more]</label></div><br/><div class="children"><div class="content">I think the point here that is getting lost here (not on you necessarily) is that if you write your service clean&#x2F;SOLID, it really doesn’t matter if&#x2F;when&#x2F;how you make that decision to cleave it off into its own service. Monoliths are only a problem with scale, but there is absolutely no guarantee that your engineering team will scale at the same rate as your userbase. You know the story: tech product strikes gold, gets mentioned in NYT and becomes a new hot thing and doesn’t even have time to react before they hit scaling problems. It’s not great to prematurely optimize, but if you’re not preparing for eventual success (which requires scaling) is another term for shooting yourself in the foot. Unfortunately, even if you are “scaled up” in terms of workers, monoliths can be really nasty&#x2F;resistant to many hands making the work lighter because they of how tightly coupled things end up being.<p>Why not monolith it? Maybe one part of the app evolves to really need a time series database or it really does some crazy stuff with image editing or it has new special dependencies that take an eternity to build, and you don’t want to add 20m of build time every time you mess with the rest of the codebase, none of which needs&#x2F;expects the time-series&#x2F;image-editor&#x2F;complicated build thing to be there deployed alongside it. That’s like OG logic of why you want microservices, and it still makes a lot of sense, just people get carried away with cargo-culting on their thousand-microservice hellscapes where each API has four routes and 4000 lines of deploy config, boilerplate, copypasta.</div><br/><div id="36387561" class="c"><input type="checkbox" id="c-36387561" checked=""/><div class="controls bullet"><span class="by">patrick451</span><span>|</span><a href="#36384306">root</a><span>|</span><a href="#36387428">parent</a><span>|</span><a href="#36382049">next</a><span>|</span><label class="collapse" for="c-36387561">[-]</label><label class="expand" for="c-36387561">[2 more]</label></div><br/><div class="children"><div class="content">Microservices don&#x27;t solve the tight coupling problem. Rather, they make dealing with it even more painful because rather than updating assumptions across modules, you update them across different units of deployment. This leads to ossification because it is even more difficult to fix bad architecture.</div><br/><div id="36388121" class="c"><input type="checkbox" id="c-36388121" checked=""/><div class="controls bullet"><span class="by">zerbinxx</span><span>|</span><a href="#36384306">root</a><span>|</span><a href="#36387561">parent</a><span>|</span><a href="#36382049">next</a><span>|</span><label class="collapse" for="c-36388121">[-]</label><label class="expand" for="c-36388121">[1 more]</label></div><br/><div class="children"><div class="content">I never claimed they did, I said if your code is SOLID then it doesn’t really matter if it’s a microservice or not, it will likely be useful up to the point where scaling&#x2F;organizational&#x2F;too many cooks&#x2F;long deploy&#x2F;spof  problems start to crop up.</div><br/></div></div></div></div></div></div></div></div><div id="36382049" class="c"><input type="checkbox" id="c-36382049" checked=""/><div class="controls bullet"><span class="by">Zetice</span><span>|</span><a href="#36384306">prev</a><span>|</span><a href="#36384483">next</a><span>|</span><label class="collapse" for="c-36382049">[-]</label><label class="expand" for="c-36382049">[7 more]</label></div><br/><div class="children"><div class="content">I’d rather compose my systems with widely understood and commonly used components that make hiring and maintaining over time more of a puzzle problem than a, “learn a new framework” problem.<p>This feels like we make our jobs harder than they have to be, sometimes…</div><br/><div id="36382791" class="c"><input type="checkbox" id="c-36382791" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#36382049">parent</a><span>|</span><a href="#36383257">next</a><span>|</span><label class="collapse" for="c-36382791">[-]</label><label class="expand" for="c-36382791">[4 more]</label></div><br/><div class="children"><div class="content">I’m working a short term job (while they find a FTE hire) for a friends startup since their last SDE quit unexpectedly. The last employee tried every framework and architecture pattern under the sun. This company has more micro services than employees and customers combined. Each one is like ~200LOC, uses a different framework, etc.<p>I’ve spent the last month just deleting shit and simplifying shit. You don’t need a caching layer for customer data when your entire SQL database is 100 rows in a single table. You don’t need service discovery when everything runs on one node.<p>My point is that this entire system was designed around their last engineer’s bookmarks of interesting things, not designed to be maintainable or easy to iterate upon.</div><br/><div id="36383135" class="c"><input type="checkbox" id="c-36383135" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#36382049">root</a><span>|</span><a href="#36382791">parent</a><span>|</span><a href="#36387525">next</a><span>|</span><label class="collapse" for="c-36383135">[-]</label><label class="expand" for="c-36383135">[2 more]</label></div><br/><div class="children"><div class="content">Blame a few things:<p>1. The developer, of course.<p>2. The person who let them do it.<p>3. The eight thousand devtool companies that pitch their solutions to developers.<p>4. The hiring managers for whom &#x27;resume driven development&#x27; is effective.<p>5. The VCs who wrote the playbook for how all these 
companies (and the dev tool companies) have to grow.<p>6. The Fed for so much ZIRP that VCs are in power.<p>7. The government for uncontrolled spending that needs low interest rates to sustain.<p>8. The electorate for electing the government.<p>9. The media for influencing the electorate.<p>10. The human brain for being susceptible to influence.</div><br/><div id="36387470" class="c"><input type="checkbox" id="c-36387470" checked=""/><div class="controls bullet"><span class="by">nologic01</span><span>|</span><a href="#36382049">root</a><span>|</span><a href="#36383135">parent</a><span>|</span><a href="#36387525">next</a><span>|</span><label class="collapse" for="c-36387470">[-]</label><label class="expand" for="c-36387470">[1 more]</label></div><br/><div class="children"><div class="content">11. The developer for having a human brain (well some do)</div><br/></div></div></div></div><div id="36387525" class="c"><input type="checkbox" id="c-36387525" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#36382049">root</a><span>|</span><a href="#36382791">parent</a><span>|</span><a href="#36383135">prev</a><span>|</span><a href="#36383257">next</a><span>|</span><label class="collapse" for="c-36387525">[-]</label><label class="expand" for="c-36387525">[1 more]</label></div><br/><div class="children"><div class="content">It might&#x27;ve also been CV Based Programming.<p>You just pick the crap that looks good on your CV and use that. Repeat until you get a new job.</div><br/></div></div></div></div><div id="36383257" class="c"><input type="checkbox" id="c-36383257" checked=""/><div class="controls bullet"><span class="by">friendly_chap</span><span>|</span><a href="#36382049">parent</a><span>|</span><a href="#36382791">prev</a><span>|</span><a href="#36384483">next</a><span>|</span><label class="collapse" for="c-36383257">[-]</label><label class="expand" for="c-36383257">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I’d rather compose my systems with widely understood and commonly used components<p>OP here. Fortunately the authors of the components you use didn&#x27;t get discouraged by comments like this otherwise they would&#x27;ve never been written ; )</div><br/><div id="36386554" class="c"><input type="checkbox" id="c-36386554" checked=""/><div class="controls bullet"><span class="by">Zetice</span><span>|</span><a href="#36382049">root</a><span>|</span><a href="#36383257">parent</a><span>|</span><a href="#36384483">next</a><span>|</span><label class="collapse" for="c-36386554">[-]</label><label class="expand" for="c-36386554">[1 more]</label></div><br/><div class="children"><div class="content">Yeah well they wrote useful things.</div><br/></div></div></div></div></div></div><div id="36384483" class="c"><input type="checkbox" id="c-36384483" checked=""/><div class="controls bullet"><span class="by">ivix</span><span>|</span><a href="#36382049">prev</a><span>|</span><a href="#36388168">next</a><span>|</span><label class="collapse" for="c-36384483">[-]</label><label class="expand" for="c-36384483">[1 more]</label></div><br/><div class="children"><div class="content">I find a lot of people conflate both service separation for human factors and service separation for technical factors.<p>Unless you have multiple independent development teams you do not need to worry about the human factors. Addressing them fully is always going to come at a technical cost in terms of things like latency and complexity.<p>Separation for technical reasons (generally scaling) may well be a factor but easily addressed without building &#x27;true&#x27; microservices, for example with serverless functions.<p>Don&#x27;t let the purists sneer at your architecture because it&#x27;s not true microservices.</div><br/></div></div><div id="36388168" class="c"><input type="checkbox" id="c-36388168" checked=""/><div class="controls bullet"><span class="by">anilakar</span><span>|</span><a href="#36384483">prev</a><span>|</span><a href="#36383336">next</a><span>|</span><label class="collapse" for="c-36388168">[-]</label><label class="expand" for="c-36388168">[1 more]</label></div><br/><div class="children"><div class="content">Monolithic microservices look like a perfect anti-pattern. Worst of the both worlds, so to say.</div><br/></div></div><div id="36383336" class="c"><input type="checkbox" id="c-36383336" checked=""/><div class="controls bullet"><span class="by">vanjajaja1</span><span>|</span><a href="#36388168">prev</a><span>|</span><a href="#36381898">next</a><span>|</span><label class="collapse" for="c-36383336">[-]</label><label class="expand" for="c-36383336">[2 more]</label></div><br/><div class="children"><div class="content">I think this is directionally correct. Services should just be standard language classes, and whether that service is hosted inside process 1 host 1 or process 7 host 5 is up to the autoscaling component. The industry is verrryy slowly getting there.</div><br/><div id="36383364" class="c"><input type="checkbox" id="c-36383364" checked=""/><div class="controls bullet"><span class="by">friendly_chap</span><span>|</span><a href="#36383336">parent</a><span>|</span><a href="#36381898">next</a><span>|</span><label class="collapse" for="c-36383364">[-]</label><label class="expand" for="c-36383364">[1 more]</label></div><br/><div class="children"><div class="content">Hi! OP here.<p>Yeah in part my motivation for open sourcing this was the fact I kept reading on HN how microservices should be an implementation detail etc. in the past 6 months. I totally agree with that sentiment, hence Actio. For the direction I can take some responsibility but not for the details (yet) ;).</div><br/></div></div></div></div><div id="36381898" class="c"><input type="checkbox" id="c-36381898" checked=""/><div class="controls bullet"><span class="by">mati365</span><span>|</span><a href="#36383336">prev</a><span>|</span><a href="#36383220">next</a><span>|</span><label class="collapse" for="c-36381898">[-]</label><label class="expand" for="c-36381898">[15 more]</label></div><br/><div class="children"><div class="content">It makes no sense. Why not just create modular monolith?</div><br/><div id="36382027" class="c"><input type="checkbox" id="c-36382027" checked=""/><div class="controls bullet"><span class="by">voidfunc</span><span>|</span><a href="#36381898">parent</a><span>|</span><a href="#36382432">next</a><span>|</span><label class="collapse" for="c-36382027">[-]</label><label class="expand" for="c-36382027">[6 more]</label></div><br/><div class="children"><div class="content">Because all these idiots who pitched microservices super hard need to undo the mess they&#x27;ve created while self promoting themselves into new thought leadership roles.</div><br/><div id="36383016" class="c"><input type="checkbox" id="c-36383016" checked=""/><div class="controls bullet"><span class="by">88913527</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36382027">parent</a><span>|</span><a href="#36382541">next</a><span>|</span><label class="collapse" for="c-36383016">[-]</label><label class="expand" for="c-36383016">[3 more]</label></div><br/><div class="children"><div class="content">Is it the fault of the thought leader, or the loads of juniors asked to implement the architecture but don&#x27;t really understand it? If everyone had better system design knowledge, it wouldn&#x27;t be so bad. 90% of the engineers in my organization don&#x27;t understand the function of an API Gateway, for example. So the thought leader does propose a reasonable solution, but then it doesn&#x27;t work because the organization doesn&#x27;t have the hard skills necessary to deliver. I&#x27;m sure there&#x27;s other reasons microservice-based architecture fails, but in my experience, this is a primary reason.</div><br/><div id="36383255" class="c"><input type="checkbox" id="c-36383255" checked=""/><div class="controls bullet"><span class="by">dasil003</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36383016">parent</a><span>|</span><a href="#36384120">next</a><span>|</span><label class="collapse" for="c-36383255">[-]</label><label class="expand" for="c-36383255">[1 more]</label></div><br/><div class="children"><div class="content">I feel this comment might go over people&#x27;s heads if they take the connotation of a &quot;though leader&quot; as someone who makes a mess of things with overcomplicated solutions and then leverages it to greater roles before the consequences of the mess are discovered.<p>However, I&#x27;ve definitely seen this problem even with legitimately strong, seasoned technical leadership, where the vision is great, but the team just doesn&#x27;t have the skills to pull it off.  You can&#x27;t have good macro-engineering without good micro-engineering.  The problem with the cambrian explosion of tech is that it obfuscates the basics that engineers need to understand.  Junior engineers end up struggling just to stay on top of incidental complexity and many come to the conlusion that building good software is just about learning enough languages and tooling, when in reality they are barely keeping their head above water and never learn the deeper lessons of what works and doesn&#x27;t in software systems.</div><br/></div></div><div id="36384120" class="c"><input type="checkbox" id="c-36384120" checked=""/><div class="controls bullet"><span class="by">bch</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36383016">parent</a><span>|</span><a href="#36383255">prev</a><span>|</span><a href="#36382541">next</a><span>|</span><label class="collapse" for="c-36384120">[-]</label><label class="expand" for="c-36384120">[1 more]</label></div><br/><div class="children"><div class="content">&gt; juniors asked to implement the architecture but don&#x27;t really understand it?<p>Can you reasonably expect a junior engineer to push back here and generally get traction? If this architectural decision has been made, it’s been made. At higher levels.<p>&gt;If everyone had better system design knowledge<p>I don’t think this is a junior devs fault - they’re junior, after all.<p>&gt; but then it doesn’t work because the organization…<p>Bingo.</div><br/></div></div></div></div><div id="36382541" class="c"><input type="checkbox" id="c-36382541" checked=""/><div class="controls bullet"><span class="by">claytongulick</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36382027">parent</a><span>|</span><a href="#36383016">prev</a><span>|</span><a href="#36382066">next</a><span>|</span><label class="collapse" for="c-36382541">[-]</label><label class="expand" for="c-36382541">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I was just talking to the CEO of a startup that I built the tech for, and still have a small equity stake in.<p>They formed a partnership with some dev shop that&#x27;s going to rebuild everything that I made (that&#x27;s working great and scales well).<p>I asked her why, and she said &quot;because they say that doing microsevices on Azure is better architecture&quot;.<p>There goes that bit of equity, I guess.<p>&#x2F;shrug</div><br/></div></div><div id="36382066" class="c"><input type="checkbox" id="c-36382066" checked=""/><div class="controls bullet"><span class="by">switch007</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36382027">parent</a><span>|</span><a href="#36382541">prev</a><span>|</span><a href="#36382432">next</a><span>|</span><label class="collapse" for="c-36382066">[-]</label><label class="expand" for="c-36382066">[1 more]</label></div><br/><div class="children"><div class="content">Uffff<p>Spot on.<p>And how do you know you’re not a thought leader? You call yourself one</div><br/></div></div></div></div><div id="36382432" class="c"><input type="checkbox" id="c-36382432" checked=""/><div class="controls bullet"><span class="by">2c2c2c</span><span>|</span><a href="#36381898">parent</a><span>|</span><a href="#36382027">prev</a><span>|</span><a href="#36382082">next</a><span>|</span><label class="collapse" for="c-36382432">[-]</label><label class="expand" for="c-36382432">[3 more]</label></div><br/><div class="children"><div class="content">On a large&#x2F;quickly growing team the risk is folks begin to not respect the modularity and you end up with just a regular monolith<p>Perhaps formalized abstractions around these barriers is a good idea? At the very least better than the 60 kubernetes services at my 100eng headcount team? :-)</div><br/><div id="36385062" class="c"><input type="checkbox" id="c-36385062" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36382432">parent</a><span>|</span><a href="#36382082">next</a><span>|</span><label class="collapse" for="c-36385062">[-]</label><label class="expand" for="c-36385062">[2 more]</label></div><br/><div class="children"><div class="content">One major criticism I have of the way modules work in many stacks is that the dependencies between modules are hard to visualise and&#x2F;or manage.  Certainly in the C#&#x2F;.NET world it&#x27;s very easy to accidentally end up with one module depending on another that depends on the initial module via some chain of dependencies.  And it&#x27;s too easy to add extra dependencies to some low-level module that&#x27;s supposed to be a &quot;core&quot; base layer module that&#x27;s used across the board.  That&#x27;s less of a problem with microservices, esp. in a multi-repo environment, where you can enforce boundaries more easily.  It&#x27;s one of the  few points in favour of microservices, from what I&#x27;ve observed so far - that you can safely make a change to a particular microservice and know a) it&#x27;s definitely not going to break the CI&#x2F;CD pipeline for the rest of the product b) if you have introduced a bug, there&#x27;s typically very limited impact it can have.</div><br/><div id="36387975" class="c"><input type="checkbox" id="c-36387975" checked=""/><div class="controls bullet"><span class="by">Quekid5</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36385062">parent</a><span>|</span><a href="#36382082">next</a><span>|</span><label class="collapse" for="c-36387975">[-]</label><label class="expand" for="c-36387975">[1 more]</label></div><br/><div class="children"><div class="content">Exactly. On the JVM (at least, dunno if C#&#x2F;.NET has a similar mechanism) you can technically get away with using OSGi which can load things into separate classloaders along with all implementation-dependencies such that you can <i>truly</i> separate the API of a dependency from its implementation.<p>Alas, support for OSGi in the general ecosystem is abysmal, and the next best thing seems to be microservices.<p>Honestly, I find it pretty shocking that so many mainstream languages don&#x27;t support this sort of &quot;local isolation&quot; better. The diamond dependency problem well-known at this point.<p>(To be clear, in our shop we generally only do this for very problematic dependencies that have a tendency to break backward bincompat on a whim. Those are almost always the most painful ones, especially if they are in turn dependended on by many of your project&#x27;s other dependencies.)</div><br/></div></div></div></div></div></div><div id="36382082" class="c"><input type="checkbox" id="c-36382082" checked=""/><div class="controls bullet"><span class="by">jawns</span><span>|</span><a href="#36381898">parent</a><span>|</span><a href="#36382432">prev</a><span>|</span><a href="#36381915">next</a><span>|</span><label class="collapse" for="c-36382082">[-]</label><label class="expand" for="c-36382082">[2 more]</label></div><br/><div class="children"><div class="content">I can think of a few cases. For instance, say you want to make parts of your codebase open-source and self-contained, but others closed-source. It can be easier to carve off the OSS and treat it as if it were a third-party application.<p>That&#x27;s not the case here, where the code lives in a monorepo but the services are many.</div><br/><div id="36382209" class="c"><input type="checkbox" id="c-36382209" checked=""/><div class="controls bullet"><span class="by">dec0dedab0de</span><span>|</span><a href="#36381898">root</a><span>|</span><a href="#36382082">parent</a><span>|</span><a href="#36381915">next</a><span>|</span><label class="collapse" for="c-36382209">[-]</label><label class="expand" for="c-36382209">[1 more]</label></div><br/><div class="children"><div class="content">In that case it would be just as easy to have the OSS app be used directly by the closed source app instead of spinning up another service. It could be a library, a plugin, or even just a separate app that your internal app shells out to. Basically, a separate OSS release really shouldn&#x27;t be a consideration for deciding to run it as a separate service or not.  Though it is an excellent reason for a separate repo.</div><br/></div></div></div></div><div id="36381915" class="c"><input type="checkbox" id="c-36381915" checked=""/><div class="controls bullet"><span class="by">sirwhinesalot</span><span>|</span><a href="#36381898">parent</a><span>|</span><a href="#36382082">prev</a><span>|</span><a href="#36383172">next</a><span>|</span><label class="collapse" for="c-36381915">[-]</label><label class="expand" for="c-36381915">[1 more]</label></div><br/><div class="children"><div class="content">Mass psychosis.</div><br/></div></div><div id="36383172" class="c"><input type="checkbox" id="c-36383172" checked=""/><div class="controls bullet"><span class="by">Toine</span><span>|</span><a href="#36381898">parent</a><span>|</span><a href="#36381915">prev</a><span>|</span><a href="#36381950">next</a><span>|</span><label class="collapse" for="c-36383172">[-]</label><label class="expand" for="c-36383172">[1 more]</label></div><br/><div class="children"><div class="content">Most devs, even senior, have no clear idea what a modular monolith is, let alone implementing one</div><br/></div></div><div id="36381950" class="c"><input type="checkbox" id="c-36381950" checked=""/><div class="controls bullet"><span class="by">intelVISA</span><span>|</span><a href="#36381898">parent</a><span>|</span><a href="#36383172">prev</a><span>|</span><a href="#36383220">next</a><span>|</span><label class="collapse" for="c-36381950">[-]</label><label class="expand" for="c-36381950">[1 more]</label></div><br/><div class="children"><div class="content">I love a good modulith.</div><br/></div></div></div></div><div id="36383220" class="c"><input type="checkbox" id="c-36383220" checked=""/><div class="controls bullet"><span class="by">ars</span><span>|</span><a href="#36381898">prev</a><span>|</span><a href="#36382548">next</a><span>|</span><label class="collapse" for="c-36383220">[-]</label><label class="expand" for="c-36383220">[8 more]</label></div><br/><div class="children"><div class="content">My issue with microservices isn&#x27;t the network calls, it&#x27;s the extra work to keep the source code up to date.<p>New spring library? Have fun applying the same changes to 14 different microservices.<p>Microservices might make sense with completely different teams developing them - but multiple microservices in the same team, with the services talking to each other, really doesn&#x27;t make sense.</div><br/><div id="36383477" class="c"><input type="checkbox" id="c-36383477" checked=""/><div class="controls bullet"><span class="by">mjr00</span><span>|</span><a href="#36383220">parent</a><span>|</span><a href="#36387522">next</a><span>|</span><label class="collapse" for="c-36383477">[-]</label><label class="expand" for="c-36383477">[6 more]</label></div><br/><div class="children"><div class="content">&gt; New spring library? Have fun applying the same changes to 14 different microservices.<p>On the flip side, at some point monoliths can get large enough that upgrading libraries or runtimes becomes an incredibly difficult problem. When I was at Amazon a major service was finally getting upgraded from Java 7 to Java 8. Took a cross-functional team 6 months (!) to make it happen due to the massive amounts of existing code. And these are AWS engineers who are much technically stronger than average.<p>I don&#x27;t condone the 500 LOC style of true microservices, but people tend to go back to the extreme of &quot;just make everything run in the same process with the same runtime and same dependency chain&quot; as if that doesn&#x27;t come with its own set of headaches.<p>(also for what it&#x27;s worth -- in correctly done SOA, you don&#x27;t need to upgrade libraries in lockstep. So that Spring upgrade can be done on a per-service basis as needed.)</div><br/><div id="36383762" class="c"><input type="checkbox" id="c-36383762" checked=""/><div class="controls bullet"><span class="by">watermelon0</span><span>|</span><a href="#36383220">root</a><span>|</span><a href="#36383477">parent</a><span>|</span><a href="#36383687">next</a><span>|</span><label class="collapse" for="c-36383762">[-]</label><label class="expand" for="c-36383762">[3 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t they similarly need comparable amount of time to update all 14 microservices?<p>IMHO unless you have a strong engineering culture, having the same dependencies is the only way to ensure they are all properly updated (regarding security updates, and replacing deprecated dependencies&#x2F;versions.)</div><br/><div id="36387538" class="c"><input type="checkbox" id="c-36387538" checked=""/><div class="controls bullet"><span class="by">theshrike79</span><span>|</span><a href="#36383220">root</a><span>|</span><a href="#36383762">parent</a><span>|</span><a href="#36383955">next</a><span>|</span><label class="collapse" for="c-36387538">[-]</label><label class="expand" for="c-36387538">[1 more]</label></div><br/><div class="children"><div class="content">There are always those specific cases you need to do when upgrading major versions.<p>The chance of a percentage of 14 microservices just plain not using that feature is bigger than the chance of that monolith not using it.<p>A completely contrived and fake example:<p>The language you&#x27;re using has a complete refactor of its math library, everything must be rewritten in a new style that&#x27;s incompatible with the old style.<p>In a microservice world there&#x27;s a good chance that very few of those actually need the high-powered math library.<p>But your monolith has a few sections that use it so the whole shebang is delayed until that bit is rewritten to the new API.</div><br/></div></div><div id="36383955" class="c"><input type="checkbox" id="c-36383955" checked=""/><div class="controls bullet"><span class="by">mjr00</span><span>|</span><a href="#36383220">root</a><span>|</span><a href="#36383762">parent</a><span>|</span><a href="#36387538">prev</a><span>|</span><a href="#36383687">next</a><span>|</span><label class="collapse" for="c-36383955">[-]</label><label class="expand" for="c-36383955">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Wouldn&#x27;t they similarly need comparable amount of time to update all 14 microservices?<p>In my experience doing this at AWS and elsewhere, no, the services case is much easier. Even just the ability to do releases in chunks 1&#x2F;14 of the size is a huge advantage. On top of that, your services are going to have smaller dependency chains, and transitive dependencies are truly where dependency hell[0] comes into play. It boils down to complexity being multiplicative rather than additive. Depending on the size of everything, each service is probably more like 1&#x2F;50th the amount of work rather than 1&#x2F;14th.<p>&gt; IMHO unless you have a strong engineering culture, having the same dependencies is the only way to ensure they are all properly updated (regarding security updates, and replacing deprecated dependencies&#x2F;versions.)<p>This is working under the assumption that all your code and services should always be updated to the latest, which isn&#x27;t necessarily true. I still have smaller, infrequently updated services running and happily chugging away that run on Python 3.5. Other codebases have been upgraded to Python 3.10, sure, but what&#x27;s the harm in letting this one run on an end-of-life Python, especially given that it&#x27;s a backend service, with no public access, that only communicates via RPCs? A vulnerability <i>might</i> be found in Python 3.5 that necessitates an upgrade, but it&#x27;s not like moving to the latest version of everything prevents that -- i.e. &quot;Heartbreak&quot;[1] only affected OpenSSL 3, not people still using OpenSSL 1.1!<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Dependency_hell" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Dependency_hell</a><p>[1] <a href="https:&#x2F;&#x2F;arstechnica.com&#x2F;information-technology&#x2F;2022&#x2F;11&#x2F;openssl-3-patch-once-critical-but-now-just-high-fixes-buffer-overflow&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;arstechnica.com&#x2F;information-technology&#x2F;2022&#x2F;11&#x2F;opens...</a></div><br/></div></div></div></div><div id="36383687" class="c"><input type="checkbox" id="c-36383687" checked=""/><div class="controls bullet"><span class="by">letitbeirie</span><span>|</span><a href="#36383220">root</a><span>|</span><a href="#36383477">parent</a><span>|</span><a href="#36383762">prev</a><span>|</span><a href="#36387522">next</a><span>|</span><label class="collapse" for="c-36383687">[-]</label><label class="expand" for="c-36383687">[2 more]</label></div><br/><div class="children"><div class="content">&gt; at some point monoliths can get large enough that upgrading libraries or runtimes becomes an incredibly difficult problem<p>Some languages (e.g. Go) make this easier than others by allowing two versions of the same import to coexist, but this is why we broke up our Django monolith a few jobs ago.</div><br/><div id="36383805" class="c"><input type="checkbox" id="c-36383805" checked=""/><div class="controls bullet"><span class="by">mjr00</span><span>|</span><a href="#36383220">root</a><span>|</span><a href="#36383687">parent</a><span>|</span><a href="#36387522">next</a><span>|</span><label class="collapse" for="c-36383805">[-]</label><label class="expand" for="c-36383805">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, the library problem has some (ugly) solutions in some languages, like Go allowing multiple versions as you mention, or doing JAR shading in Java. But I don&#x27;t think there&#x27;s a (mainstream) language that solves the problem of partially upgrading the underlying runtime. If you&#x27;ve got a Java monolith, it either all runs on Java 7 or Java 8, can&#x27;t really do in-between.</div><br/></div></div></div></div></div></div><div id="36387522" class="c"><input type="checkbox" id="c-36387522" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#36383220">parent</a><span>|</span><a href="#36383477">prev</a><span>|</span><a href="#36382548">next</a><span>|</span><label class="collapse" for="c-36387522">[-]</label><label class="expand" for="c-36387522">[1 more]</label></div><br/><div class="children"><div class="content">Change to build process? That&#x27;s 20 build plans you have to update.<p>Yeah, it&#x27;s just a laugh a minute.</div><br/></div></div></div></div><div id="36382548" class="c"><input type="checkbox" id="c-36382548" checked=""/><div class="controls bullet"><span class="by">jerrygenser</span><span>|</span><a href="#36383220">prev</a><span>|</span><a href="#36387893">next</a><span>|</span><label class="collapse" for="c-36382548">[-]</label><label class="expand" for="c-36382548">[1 more]</label></div><br/><div class="children"><div class="content">I wonder what the rationale behind AGPL is? Prevents it from being used for commercial SaaS</div><br/></div></div><div id="36387893" class="c"><input type="checkbox" id="c-36387893" checked=""/><div class="controls bullet"><span class="by">Lapsa</span><span>|</span><a href="#36382548">prev</a><span>|</span><a href="#36388291">next</a><span>|</span><label class="collapse" for="c-36387893">[-]</label><label class="expand" for="c-36387893">[1 more]</label></div><br/><div class="children"><div class="content">no, thanks</div><br/></div></div></div></div></div></div></div></body></html>