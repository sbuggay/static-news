<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705136466852" as="style"/><link rel="stylesheet" href="styles.css?v=1705136466852"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.cryptographyengineering.com/2024/01/11/attack-of-the-week-airdrop-tracing/">Attack of the Week: Airdrop Tracing</a> <span class="domain">(<a href="https://blog.cryptographyengineering.com">blog.cryptographyengineering.com</a>)</span></div><div class="subtext"><span>feross</span> | <span>68 comments</span></div><br/><div><div id="38973248" class="c"><input type="checkbox" id="c-38973248" checked=""/><div class="controls bullet"><span class="by">fma</span><span>|</span><a href="#38974686">next</a><span>|</span><label class="collapse" for="c-38973248">[-]</label><label class="expand" for="c-38973248">[19 more]</label></div><br/><div class="children"><div class="content">As far as I know, dissidents would hang around major population area (i.e, subway station) and allow for anonymous users to connect to them to transfer files. This security issue would allow the Chinese government to track them.<p>However, also as far as I know...although VPNs are banned in China, there are ways to get them. I&#x27;d wonder how much do dissidents use Airdrop in this manner if they can access the global Internet anonymously. Given mass surveillance in China, I&#x27;m sure the Chinese government can track &quot;oh this airdrop sender appears every time this person is in this station&quot;.<p>I also hope that Apple adopts an open source protocol for AirDrop not just for cross platform compatibility, but auditable security. Android has its own &quot;Nearby Share&quot;. If Apple doesn&#x27;t want to get in trouble for &quot;fixing&quot; this, they can easily adopt a cross platform compatible protocol that just happens to also fix this.</div><br/><div id="38973497" class="c"><input type="checkbox" id="c-38973497" checked=""/><div class="controls bullet"><span class="by">vyrotek</span><span>|</span><a href="#38973248">parent</a><span>|</span><a href="#38973782">next</a><span>|</span><label class="collapse" for="c-38973497">[-]</label><label class="expand" for="c-38973497">[7 more]</label></div><br/><div class="children"><div class="content">Is this sort of sharing big enough to warrant dedicated and open-source devices just to do this? A sort-of glorified USB Drive with a sharing protocol and nothing else. You walk around and it just syncs up with things around you. Something that looks like an original iPod with a screen and folders of files.<p>I don&#x27;t know anything about the AirDrop or NearbyShare protocols, but I wonder if they can be implemented in such a device?<p>All the recently announced dedicated AI devices make me think people might be into it.</div><br/><div id="38977414" class="c"><input type="checkbox" id="c-38977414" checked=""/><div class="controls bullet"><span class="by">simplyluke</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38973497">parent</a><span>|</span><a href="#38975571">next</a><span>|</span><label class="collapse" for="c-38977414">[-]</label><label class="expand" for="c-38977414">[1 more]</label></div><br/><div class="children"><div class="content">If you haven’t seen it before you might find the pirate box interesting. No longer exists and definitely a relic of the era of piracy&#x2F;crypto from a decade+ back.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;PirateBox" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;PirateBox</a></div><br/></div></div><div id="38975571" class="c"><input type="checkbox" id="c-38975571" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38973497">parent</a><span>|</span><a href="#38977414">prev</a><span>|</span><a href="#38973782">next</a><span>|</span><label class="collapse" for="c-38975571">[-]</label><label class="expand" for="c-38975571">[5 more]</label></div><br/><div class="children"><div class="content">This would be a really cool way to secretly do intel &quot;dead-drops&quot; where you just need to walk by a certain place at a certain time to receive your dead-drop&#x2F;</div><br/><div id="38977084" class="c"><input type="checkbox" id="c-38977084" checked=""/><div class="controls bullet"><span class="by">wiml</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38975571">parent</a><span>|</span><a href="#38976018">next</a><span>|</span><label class="collapse" for="c-38977084">[-]</label><label class="expand" for="c-38977084">[1 more]</label></div><br/><div class="children"><div class="content">I think some of the offline-first chat&#x2F;social networks will work this way - briar? serval?</div><br/></div></div><div id="38976018" class="c"><input type="checkbox" id="c-38976018" checked=""/><div class="controls bullet"><span class="by">brk</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38975571">parent</a><span>|</span><a href="#38977084">prev</a><span>|</span><a href="#38973782">next</a><span>|</span><label class="collapse" for="c-38976018">[-]</label><label class="expand" for="c-38976018">[3 more]</label></div><br/><div class="children"><div class="content">It’s already a thing for dead drop data exchange. Has been for about 20 years now. First with ad-hoc WiFi networks.</div><br/><div id="38976505" class="c"><input type="checkbox" id="c-38976505" checked=""/><div class="controls bullet"><span class="by">hattmall</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38976018">parent</a><span>|</span><a href="#38973782">next</a><span>|</span><label class="collapse" for="c-38976505">[-]</label><label class="expand" for="c-38976505">[2 more]</label></div><br/><div class="children"><div class="content">Way longer than that too. Transmitting encrypted data packets over radio waves was a thing during the cold war. Tune in to a certain frequency at a certain time, of course you must be in range too, record the packet then go back and decrypt it.</div><br/><div id="38976989" class="c"><input type="checkbox" id="c-38976989" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38976505">parent</a><span>|</span><a href="#38973782">next</a><span>|</span><label class="collapse" for="c-38976989">[-]</label><label class="expand" for="c-38976989">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Numbers_station" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Numbers_station</a> still exist and there’s basically nothing you can do to trace recipients.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38973782" class="c"><input type="checkbox" id="c-38973782" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973248">parent</a><span>|</span><a href="#38973497">prev</a><span>|</span><a href="#38975924">next</a><span>|</span><label class="collapse" for="c-38973782">[-]</label><label class="expand" for="c-38973782">[5 more]</label></div><br/><div class="children"><div class="content">This would be great, and I&#x27;d be really happy to see it.<p>One (definitely not insurmountable) problem that would exist in such a federated and open system is credential authentication:<p>Currently, Apple signs your email address and phone number (hash) so that you can&#x27;t impersonate somebody&#x27;s trusted contacts and send unwanted material to them without their consent, which has been a problem for Apple in the past. That&#x27;s supposedly also why they have removed the &quot;allow all AirDrop senders&quot; option in favor of one that times out after 10 minutes.<p>There would either have to be a federated alternative to that, or the open source system would have to drop sender authentication; then you could only receive AirDrops while your device is in &quot;allow all senders&quot; mode.</div><br/><div id="38974020" class="c"><input type="checkbox" id="c-38974020" checked=""/><div class="controls bullet"><span class="by">olliej</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38973782">parent</a><span>|</span><a href="#38975924">next</a><span>|</span><label class="collapse" for="c-38974020">[-]</label><label class="expand" for="c-38974020">[4 more]</label></div><br/><div class="children"><div class="content">How would federation solve this problem?<p>The reason there&#x27;s anything in the airdrop protocol that can be converted to a person is to allow your device to say who is sending it <i>if</i> you know their identity already, and&#x2F;or to filter the messages if you don&#x27;t.<p>The whole point of this activity was that people did not care, nor want to care, about who was sending payloads. In such an environment the solution is no identity at all, not federation of identity.<p>If you do try to do this simply because of &quot;federation&quot;, all china does it use the same federation system to get the user information (because the whole point here is china was monitoring local bluetooth info, so some nebulous application of federation dust doesn&#x27;t magically resolve anything).<p>The problem here is that people were using a system is not anonymous by design (there is a deterministic relationship between the underlying account and the hash by <i>published design</i>), and that relationship is necessary for basic functionality. 
A hindsight being 50&#x2F;50 step could have been to use a password hashing function, but airdrop has existed long enough at this point for me to assume that the iterative systems would have relatively low iteration counts, and mobile hardware probably can&#x27;t afford the resources to make every airdrop also perform memory bounding steps.</div><br/><div id="38974095" class="c"><input type="checkbox" id="c-38974095" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38974020">parent</a><span>|</span><a href="#38975924">next</a><span>|</span><label class="collapse" for="c-38974095">[-]</label><label class="expand" for="c-38974095">[3 more]</label></div><br/><div class="children"><div class="content">&gt;  How would federation solve this problem?<p>I&#x27;m not saying that federation solves the anonymity problem, I&#x27;m just saying that the current implementation includes Apple as a trust anchor for email address and phone number verification and issuance of corresponding certificates. My point is that in order to enable an open cross-platform solution, there would have to be some alternative mechanism to that.<p>What they could add is a sender-side option that makes sending completely anonymously. This would be possible without any change on the receiver side, but would require recipients to enable &quot;allow all senders&quot; mode.</div><br/><div id="38974666" class="c"><input type="checkbox" id="c-38974666" checked=""/><div class="controls bullet"><span class="by">error503</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38974095">parent</a><span>|</span><a href="#38975924">next</a><span>|</span><label class="collapse" for="c-38974666">[-]</label><label class="expand" for="c-38974666">[2 more]</label></div><br/><div class="children"><div class="content">Fundamentally this verification is based on your contact list, which is formed from people you already know and have added to your contacts, so there&#x27;s not really any need for a centralized trust. Presumably you trust the e-mail address of the contact you added, and the federation protocol could easily define how the authoritative hash&#x2F;key for each user would be shared based on their e-mail.<p>In most cases this could also be resolved at first contact in meatspace, directly between the devices when establishing contact via the typical ways users share contact information - QR code or some form of short range networking, or even with an SMS challenge.</div><br/></div></div></div></div></div></div></div></div><div id="38975924" class="c"><input type="checkbox" id="c-38975924" checked=""/><div class="controls bullet"><span class="by">spullara</span><span>|</span><a href="#38973248">parent</a><span>|</span><a href="#38973782">prev</a><span>|</span><a href="#38975017">next</a><span>|</span><label class="collapse" for="c-38975924">[-]</label><label class="expand" for="c-38975924">[1 more]</label></div><br/><div class="children"><div class="content">At Yahoo we built a thing called &quot;meatspace&quot; that would do this with wifi MAC addresses but legal stopped it as you could identify people and their locations back in time as soon as you associated them. Some other companies did this for retail tracking. That caused apple to periodically change the MAC address.</div><br/></div></div><div id="38975017" class="c"><input type="checkbox" id="c-38975017" checked=""/><div class="controls bullet"><span class="by">bobobob420</span><span>|</span><a href="#38973248">parent</a><span>|</span><a href="#38975924">prev</a><span>|</span><a href="#38978163">next</a><span>|</span><label class="collapse" for="c-38975017">[-]</label><label class="expand" for="c-38975017">[4 more]</label></div><br/><div class="children"><div class="content">Many people use vpn openly in china for business and gaming. Its sort of allowed. Source : my Chinese mates</div><br/><div id="38976810" class="c"><input type="checkbox" id="c-38976810" checked=""/><div class="controls bullet"><span class="by">ehhthing</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38975017">parent</a><span>|</span><a href="#38975600">next</a><span>|</span><label class="collapse" for="c-38976810">[-]</label><label class="expand" for="c-38976810">[1 more]</label></div><br/><div class="children"><div class="content">UU Booster, which is the service I currently use for gaming is operated by NetEase, which is a giant in the Chinese online gaming space. It&#x27;s fully legal, no issues whatsoever.<p>Also you can get roaming SIM cards or even eSIMs, which connect to APNs overseas.<p>You can also get Alibaba Cloud private networking connection between a region inside of China and a region outside. They use private lines so there&#x27;s no GFW involved. My understanding is that you need an international real name verified account to do this, but after that you basically have an uncensored line that&#x27;s also much more stable than connections that have to go through the GFW. I know of a US company that uses this to connect their Chinese workers to their central office, and again it&#x27;s fully legal once you get an ICP license.</div><br/></div></div><div id="38975600" class="c"><input type="checkbox" id="c-38975600" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38975017">parent</a><span>|</span><a href="#38976810">prev</a><span>|</span><a href="#38978163">next</a><span>|</span><label class="collapse" for="c-38975600">[-]</label><label class="expand" for="c-38975600">[2 more]</label></div><br/><div class="children"><div class="content">This is not a snarky comment: It wouldnt be surprising if VPN use will be tied to a social credit score, if not already?</div><br/><div id="38976570" class="c"><input type="checkbox" id="c-38976570" checked=""/><div class="controls bullet"><span class="by">hattmall</span><span>|</span><a href="#38973248">root</a><span>|</span><a href="#38975600">parent</a><span>|</span><a href="#38978163">next</a><span>|</span><label class="collapse" for="c-38976570">[-]</label><label class="expand" for="c-38976570">[1 more]</label></div><br/><div class="children"><div class="content">Yeah maybe, but people give the CCP way more credit than is due. They are a much more hands on and brutalist group than technocratic overlords. Many of their initiatives sound powerful and wizardly but most are implemented poorly if at all. At the end of the day they are almost entirely reliant on a monopolistic hierarchy of physical violence and in person observations.</div><br/></div></div></div></div></div></div><div id="38978163" class="c"><input type="checkbox" id="c-38978163" checked=""/><div class="controls bullet"><span class="by">hulitu</span><span>|</span><a href="#38973248">parent</a><span>|</span><a href="#38975017">prev</a><span>|</span><a href="#38974686">next</a><span>|</span><label class="collapse" for="c-38978163">[-]</label><label class="expand" for="c-38978163">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This security issue would allow the Chinese government to track them<p>Thank god that only the Chinese do it. Imagine what the reaction will be if someone finds out that the US or the Canadian or the UK government does it. &#x2F;s</div><br/></div></div></div></div><div id="38974686" class="c"><input type="checkbox" id="c-38974686" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#38973248">prev</a><span>|</span><a href="#38977784">next</a><span>|</span><label class="collapse" for="c-38974686">[-]</label><label class="expand" for="c-38974686">[1 more]</label></div><br/><div class="children"><div class="content">Recent and related:<p><i>Apple knew AirDrop users could be identified and tracked as early as 2019</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38971811">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38971811</a> - Jan 2024 (13 comments)<p><i>China Says It Cracked Apple AirDrop to Identify Message Sources</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38925681">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38925681</a> - Jan 2024 (21 comments)</div><br/></div></div><div id="38977784" class="c"><input type="checkbox" id="c-38977784" checked=""/><div class="controls bullet"><span class="by">Too</span><span>|</span><a href="#38974686">prev</a><span>|</span><a href="#38972854">next</a><span>|</span><label class="collapse" for="c-38977784">[-]</label><label class="expand" for="c-38977784">[2 more]</label></div><br/><div class="children"><div class="content">Why not include a timestamp in the hash? 
Everybody has synchronized clocks, round it to 5 minutes to add some margin.<p>That should make any attempts of pre-computed rainbow tables very expensive and only usable for a short time window.</div><br/><div id="38977835" class="c"><input type="checkbox" id="c-38977835" checked=""/><div class="controls bullet"><span class="by">manmal</span><span>|</span><a href="#38977784">parent</a><span>|</span><a href="#38972854">next</a><span>|</span><label class="collapse" for="c-38977835">[-]</label><label class="expand" for="c-38977835">[1 more]</label></div><br/><div class="children"><div class="content">A couple billion hashes (emails) is nothing, these days. One could just continuously recompute hashes for all known (or expected) emails and phone numbers. In case of governments, they can just include emails&#x2F;numbers of personae non grata - a trivially small list.</div><br/></div></div></div></div><div id="38972854" class="c"><input type="checkbox" id="c-38972854" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#38977784">prev</a><span>|</span><a href="#38972461">next</a><span>|</span><label class="collapse" for="c-38972854">[-]</label><label class="expand" for="c-38972854">[2 more]</label></div><br/><div class="children"><div class="content">PSI is an interesting bit of cryptography. If I were random Apple engineer, how would I have found it or found a cryptographer to talk to to find it?</div><br/><div id="38976267" class="c"><input type="checkbox" id="c-38976267" checked=""/><div class="controls bullet"><span class="by">se4u</span><span>|</span><a href="#38972854">parent</a><span>|</span><a href="#38972461">next</a><span>|</span><label class="collapse" for="c-38976267">[-]</label><label class="expand" for="c-38976267">[1 more]</label></div><br/><div class="children"><div class="content">If you are an engg in a big company you could just email the relevant mailing list &#x2F; slack channel. And somebody highly knowledgeable will tell you a lot of what you need to know .</div><br/></div></div></div></div><div id="38972461" class="c"><input type="checkbox" id="c-38972461" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#38972854">prev</a><span>|</span><a href="#38974033">next</a><span>|</span><label class="collapse" for="c-38972461">[-]</label><label class="expand" for="c-38972461">[5 more]</label></div><br/><div class="children"><div class="content">&gt; While AirDrop’s device-to-device communications channel is typically protected from third-party snooping by its own layer of security, that wouldn’t shield someone who may have been tricked into connecting with a stranger, perhaps by tapping on a deceptively named device in a list of contacts or by thoughtlessly accepting an unsolicited connection request. This step is required for the sender to be identified, according to security experts.<p>Apple already acted on this, didn’t they? AirDrop now defaults to off and you can only switch it on for ten minutes at a time – you can’t forget to switch it off again. When Apple implemented this change, I remember that they were criticised because people said they were doing what China wanted by cracking down on P2P communication. Now it’s the opposite situation but the same criticism.</div><br/><div id="38972582" class="c"><input type="checkbox" id="c-38972582" checked=""/><div class="controls bullet"><span class="by">zaltekk</span><span>|</span><a href="#38972461">parent</a><span>|</span><a href="#38972973">next</a><span>|</span><label class="collapse" for="c-38972582">[-]</label><label class="expand" for="c-38972582">[3 more]</label></div><br/><div class="children"><div class="content">I believe what they changed is the ability for &quot;everyone&quot; to discover you to a 10 minute toggle. It defaults to always being discoverable to your contacts.<p>I assume that it still broadcasts your hashes even in the contacts-only mode, so you&#x27;d need to turn receiving off to stop that. Or go a step further and disable Bluetooth entirely* when you don&#x27;t need it.<p>* If you disable Bluetooth in the Control Center pulldown it won&#x27;t actually disable Bluetooth or beacons. It just won&#x27;t connect to devices. You need to go into Settings to actually disable Bluetooth.</div><br/><div id="38973017" class="c"><input type="checkbox" id="c-38973017" checked=""/><div class="controls bullet"><span class="by">varenc</span><span>|</span><a href="#38972461">root</a><span>|</span><a href="#38972582">parent</a><span>|</span><a href="#38975548">next</a><span>|</span><label class="collapse" for="c-38973017">[-]</label><label class="expand" for="c-38973017">[1 more]</label></div><br/><div class="children"><div class="content">Your phone isn&#x27;t passively broadcasting hashes if it&#x27;s just an AirDrop receiver no matter what mode it&#x27;s in.  This vuln only poses a privacy risk for those <i>sending</i> AirDrops.</div><br/></div></div><div id="38975548" class="c"><input type="checkbox" id="c-38975548" checked=""/><div class="controls bullet"><span class="by">jorvi</span><span>|</span><a href="#38972461">root</a><span>|</span><a href="#38972582">parent</a><span>|</span><a href="#38973017">prev</a><span>|</span><a href="#38972973">next</a><span>|</span><label class="collapse" for="c-38975548">[-]</label><label class="expand" for="c-38975548">[1 more]</label></div><br/><div class="children"><div class="content">I understand why they put it on a 10 minute time-out, but it still makes me slightly sad. Sending (or receiving!) goofy cat pics on the subway had its own kind of charm.</div><br/></div></div></div></div></div></div><div id="38974033" class="c"><input type="checkbox" id="c-38974033" checked=""/><div class="controls bullet"><span class="by">BuildTheRobots</span><span>|</span><a href="#38972461">prev</a><span>|</span><a href="#38973324">next</a><span>|</span><label class="collapse" for="c-38974033">[-]</label><label class="expand" for="c-38974033">[3 more]</label></div><br/><div class="children"><div class="content">Good writeup, thank you for sharing.<p>Even before the discovery phase (which is where this issue sits), the two devices apparently create a TLS tunnel with both client and server certificates, signed by Apple and containing UUIDs linked to the device and Apple ID [0].<p>I have no idea if&#x2F;where&#x2F;how these certs are used elsewhere, but this seems like another avenue of identification and tracking even if it doesn&#x27;t directly expose the phone number or email address. I&#x27;m pondering early IMSI catchers didn&#x27;t expose the MSISDN, but enough listeners in various places seeing the same IMSI sure helped for correlation. Does anyone know of any writeups on Apple&#x27;s internal (device) CA infrastructure?<p>[0] Section 2.4: <a href="https:&#x2F;&#x2F;www.usenix.org&#x2F;system&#x2F;files&#x2F;sec21-heinrich.pdf" rel="nofollow">https:&#x2F;&#x2F;www.usenix.org&#x2F;system&#x2F;files&#x2F;sec21-heinrich.pdf</a></div><br/><div id="38974283" class="c"><input type="checkbox" id="c-38974283" checked=""/><div class="controls bullet"><span class="by">gruez</span><span>|</span><a href="#38974033">parent</a><span>|</span><a href="#38973324">next</a><span>|</span><label class="collapse" for="c-38974283">[-]</label><label class="expand" for="c-38974283">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Even before the discovery phase (which is where this issue sits), the two devices apparently create a TLS tunnel with both client and server certificates, signed by Apple and containing UUIDs linked to the device and Apple ID [0].<p>From the abstract<p>&gt;We propose a novel optimized PSI-based protocol called PrivateDrop that addresses the speciﬁc challenges of ofﬂine resource-constrained operation and integrates seamlessly into the current AirDrop protocol stack<p>Is section 2.4 how it works today, or what they&#x27;re proposing for the future?</div><br/><div id="38975393" class="c"><input type="checkbox" id="c-38975393" checked=""/><div class="controls bullet"><span class="by">BuildTheRobots</span><span>|</span><a href="#38974033">root</a><span>|</span><a href="#38974283">parent</a><span>|</span><a href="#38973324">next</a><span>|</span><label class="collapse" for="c-38975393">[-]</label><label class="expand" for="c-38975393">[1 more]</label></div><br/><div class="children"><div class="content">2.4 seems to be part of the description of the current specification, where as their PrivateDrop suggestion doesn&#x27;t come in until part 4. Even if a different PSI is used it&#x27;s still (I believe) happening over the TLS connection so it wouldn&#x27;t fully eliminate the fingerprinting.</div><br/></div></div></div></div></div></div><div id="38973324" class="c"><input type="checkbox" id="c-38973324" checked=""/><div class="controls bullet"><span class="by">notso411</span><span>|</span><a href="#38974033">prev</a><span>|</span><a href="#38973570">next</a><span>|</span><label class="collapse" for="c-38973324">[-]</label><label class="expand" for="c-38973324">[6 more]</label></div><br/><div class="children"><div class="content">Why doesn’t it store a shared secret based on some information from both parties once a contact has been mutually agreed to be shared… then you can quickly do a verification without any interception from outside sources or any information leaking</div><br/><div id="38974720" class="c"><input type="checkbox" id="c-38974720" checked=""/><div class="controls bullet"><span class="by">error503</span><span>|</span><a href="#38973324">parent</a><span>|</span><a href="#38973715">next</a><span>|</span><label class="collapse" for="c-38974720">[-]</label><label class="expand" for="c-38974720">[2 more]</label></div><br/><div class="children"><div class="content">It can&#x27;t be mutual because the receivers don&#x27;t broadcast, so the sender doesn&#x27;t know which contacts are in range.<p>I was also thinking you might be able to use asymmetric crypto for this, and encrypt the hash + a nonce using your private key, and anyone with your public key can decrypt it and check the hash against the contact list. But this means the potential receiver needs to decrypt with every public key it knows, which for large contact lists might be prohibitively expensive.<p>Someone has probably devised a more clever way, though.</div><br/><div id="38975442" class="c"><input type="checkbox" id="c-38975442" checked=""/><div class="controls bullet"><span class="by">notso411</span><span>|</span><a href="#38973324">root</a><span>|</span><a href="#38974720">parent</a><span>|</span><a href="#38973715">next</a><span>|</span><label class="collapse" for="c-38975442">[-]</label><label class="expand" for="c-38975442">[1 more]</label></div><br/><div class="children"><div class="content">This is what I was thinking. Apple guys are smart they will sort it out</div><br/></div></div></div></div><div id="38973715" class="c"><input type="checkbox" id="c-38973715" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973324">parent</a><span>|</span><a href="#38974720">prev</a><span>|</span><a href="#38973570">next</a><span>|</span><label class="collapse" for="c-38973715">[-]</label><label class="expand" for="c-38973715">[3 more]</label></div><br/><div class="children"><div class="content">How do you Airdrop to new contacts then? And how do you sync shared secrets securely across multiple devices of a single user?</div><br/><div id="38974422" class="c"><input type="checkbox" id="c-38974422" checked=""/><div class="controls bullet"><span class="by">notso411</span><span>|</span><a href="#38973324">root</a><span>|</span><a href="#38973715">parent</a><span>|</span><a href="#38973570">next</a><span>|</span><label class="collapse" for="c-38974422">[-]</label><label class="expand" for="c-38974422">[2 more]</label></div><br/><div class="children"><div class="content">You must have been in person to share contact details<p>Same way it does with password manager</div><br/><div id="38974588" class="c"><input type="checkbox" id="c-38974588" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973324">root</a><span>|</span><a href="#38974422">parent</a><span>|</span><a href="#38973570">next</a><span>|</span><label class="collapse" for="c-38974588">[-]</label><label class="expand" for="c-38974588">[1 more]</label></div><br/><div class="children"><div class="content">That would unfortunately make for behavior inconsistent with the way AirDrop works today. You might have to become “visible to everyone” randomly on a new device, for example.<p>Not insurmountable, but it would probably be quite un-Apple-like.</div><br/></div></div></div></div></div></div></div></div><div id="38973570" class="c"><input type="checkbox" id="c-38973570" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#38973324">prev</a><span>|</span><a href="#38974619">next</a><span>|</span><label class="collapse" for="c-38973570">[-]</label><label class="expand" for="c-38973570">[9 more]</label></div><br/><div class="children"><div class="content">Why would any sane person allow accepting connections like this from any device? I don&#x27;t even want to allow anyone from my contacts blindly just because I have saved their phone number. That isn&#x27;t an automatic &quot;I trust this person implicitly&quot; flag.<p>Clearly, I&#x27;m of &quot;a certain age&quot; where I don&#x27;t blindly trust anyone for anything. It&#x27;s amazing how quickly the concept of trust has been tossed aside from tech</div><br/><div id="38973712" class="c"><input type="checkbox" id="c-38973712" checked=""/><div class="controls bullet"><span class="by">masom</span><span>|</span><a href="#38973570">parent</a><span>|</span><a href="#38973636">next</a><span>|</span><label class="collapse" for="c-38973712">[-]</label><label class="expand" for="c-38973712">[3 more]</label></div><br/><div class="children"><div class="content">This isn&#x27;t how Airdrop works.<p>The first step is a device lookup with &quot;Bonjour&quot;, which allows devices to ping each other an see who&#x27;s who. Any network device since the 1980s pretty much does this by default unless you disable it. Remember Netbios?<p>The second step, is Airdrop requesting a device to accept a connection.<p>At that point, you see who is sending you the send request, and you can accept&#x2F;deny. Airdrop is also disabled by default from unknown senders since a dude sent a dick pick on an airplane. Your Apple device will only accept connections from known contacts by default, and you can override that setting to allow connections from anyone.<p>You can disable this behaviour in Settings by blocking Airdrop.<p>From the article:
&gt; While AirDrop’s device-to-device communications channel is typically protected from third-party snooping by its own layer of security, that wouldn’t shield someone who may have been tricked into connecting with a stranger, perhaps by tapping on a deceptively named device in a list of contacts or by thoughtlessly accepting an unsolicited connection request. This step is required for the sender to be identified, according to security experts.</div><br/><div id="38974185" class="c"><input type="checkbox" id="c-38974185" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973570">root</a><span>|</span><a href="#38973712">parent</a><span>|</span><a href="#38973636">next</a><span>|</span><label class="collapse" for="c-38974185">[-]</label><label class="expand" for="c-38974185">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The second step, is Airdrop requesting a device to accept a connection.<p>&gt; At that point, you see who is sending you the send request, and you can accept&#x2F;deny.<p>Revealing the identity hash must happen earlier than that, since the entire point of the &quot;only contacts&quot; feature is that you can&#x27;t even see non-contacts on your AirDrop share sheet.<p>And since Apple (correctly, in my view) didn&#x27;t want receiving devices to publicly broadcast their identities (or even worse the set of acceptable senders), it&#x27;s on the sender to initially broadcast their identity to <i>all</i> devices within range.<p>The candidate devices (i.e. those that have the sender in their contacts) then respond and get populated in the share sheet target list.<p>What&#x27;s potentially surprising is that this must happen even before selecting AirDrop as a share target, since (at least on my device) I can already see nearby AirDrop contacts in the &quot;frequently contacted&quot; part of the general share sheet...</div><br/><div id="38974597" class="c"><input type="checkbox" id="c-38974597" checked=""/><div class="controls bullet"><span class="by">masom</span><span>|</span><a href="#38973570">root</a><span>|</span><a href="#38974185">parent</a><span>|</span><a href="#38973636">next</a><span>|</span><label class="collapse" for="c-38974597">[-]</label><label class="expand" for="c-38974597">[1 more]</label></div><br/><div class="children"><div class="content">Yes, there&#x27;s a more complicated explanation as it&#x27;s all happening as part of Bonjour <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;bonjour&#x2F;" rel="nofollow">https:&#x2F;&#x2F;developer.apple.com&#x2F;bonjour&#x2F;</a><p>The sender device broadcasts their identity, while the receiving devices will follow the Airdrop settings. When in contacts only and&#x2F;or disabled, your device will not broadcast your personal identity in the clear.<p>Your device itself broadcasts its presence through various protocols.<p>This is a follow-up to the NetBIOS protocol that did the same (Windows shares is another example).</div><br/></div></div></div></div></div></div><div id="38973636" class="c"><input type="checkbox" id="c-38973636" checked=""/><div class="controls bullet"><span class="by">gruez</span><span>|</span><a href="#38973570">parent</a><span>|</span><a href="#38973712">prev</a><span>|</span><a href="#38973732">next</a><span>|</span><label class="collapse" for="c-38973636">[-]</label><label class="expand" for="c-38973636">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why would any sane person allow accepting connections like this from any device? I don&#x27;t even want to allow anyone from my contacts blindly just because I have saved their phone number. That isn&#x27;t an automatic &quot;I trust this person implicitly&quot; flag.<p>How is this any different than your phone accepting random MMS, imessages, or phone calls from any random phone number?</div><br/></div></div><div id="38973732" class="c"><input type="checkbox" id="c-38973732" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973570">parent</a><span>|</span><a href="#38973636">prev</a><span>|</span><a href="#38974119">next</a><span>|</span><label class="collapse" for="c-38973732">[-]</label><label class="expand" for="c-38973732">[1 more]</label></div><br/><div class="children"><div class="content">As far as I understand the &quot;vulnerability&quot; (it&#x27;s really AirDrop working as publicly documented), it happens when you attempt to share content, not when you&#x27;re visible for receiving content.</div><br/></div></div><div id="38974119" class="c"><input type="checkbox" id="c-38974119" checked=""/><div class="controls bullet"><span class="by">jxy</span><span>|</span><a href="#38973570">parent</a><span>|</span><a href="#38973732">prev</a><span>|</span><a href="#38974072">next</a><span>|</span><label class="collapse" for="c-38974119">[-]</label><label class="expand" for="c-38974119">[1 more]</label></div><br/><div class="children"><div class="content">Recall when anyone could page you? Now they can text you. And by &quot;text&quot;, I mean, any media.</div><br/></div></div></div></div><div id="38974619" class="c"><input type="checkbox" id="c-38974619" checked=""/><div class="controls bullet"><span class="by">pushcx</span><span>|</span><a href="#38973570">prev</a><span>|</span><a href="#38973716">next</a><span>|</span><label class="collapse" for="c-38974619">[-]</label><label class="expand" for="c-38974619">[10 more]</label></div><br/><div class="children"><div class="content">They’re also moving to reduce AirDrop privacy. If you want to have a Home or Work address set in Maps, it forces the creation of a Contact Card with that info. Then AirDrop got a new feature called NameDrop, on by default, where phones near each other play an animation and display a button to send your Contact Card to the other (single press, no confirmation). There’s no documentation of what info is shared this way, and it’s not delineated on the Contact Card in the Contacts app.<p><a href="https:&#x2F;&#x2F;support.apple.com&#x2F;guide&#x2F;iphone&#x2F;namedrop-iphone-share-contact-info-iph1b6c664b7&#x2F;" rel="nofollow">https:&#x2F;&#x2F;support.apple.com&#x2F;guide&#x2F;iphone&#x2F;namedrop-iphone-share...</a><p>The way this and other features in iMessage and Wallet work, Apple has adopted Facebook’s approach to privacy: users are assumed to want to use their government’s single idea of their name for all actions, and the default visibility for everything is as public as possible.</div><br/><div id="38976278" class="c"><input type="checkbox" id="c-38976278" checked=""/><div class="controls bullet"><span class="by">acdha</span><span>|</span><a href="#38974619">parent</a><span>|</span><a href="#38974751">next</a><span>|</span><label class="collapse" for="c-38976278">[-]</label><label class="expand" for="c-38976278">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Then AirDrop got a new feature called NameDrop, on by default, where phones near each other play an animation and display a button to send your Contact Card to the other (single press, no confirmation). There’s no documentation of what info is shared this way, and it’s not delineated on the Contact Card in the Contacts app.<p>You really shouldn’t get your information from Facebook posts. The post you linked even correctly describes the process: the phones need to be VERY “near each other” (almost touching) and – contra “no documentation” – you select which fields are shared and can view or change the fields before hitting the button to share them.</div><br/><div id="38976436" class="c"><input type="checkbox" id="c-38976436" checked=""/><div class="controls bullet"><span class="by">pushcx</span><span>|</span><a href="#38974619">root</a><span>|</span><a href="#38976278">parent</a><span>|</span><a href="#38974751">next</a><span>|</span><label class="collapse" for="c-38976436">[-]</label><label class="expand" for="c-38976436">[3 more]</label></div><br/><div class="children"><div class="content">I got info from the linked page. If it wasn’t clear from the end of the post, I’m not really a fan of Facebook. Thanks for pointing out the sentence I missed. It really doesn’t match my mental model where information that’s put in on a single contact is shared together as with contact exports, so I missed that as I read. Still unfortunate to see Apple compiling personal info together like this.</div><br/><div id="38976680" class="c"><input type="checkbox" id="c-38976680" checked=""/><div class="controls bullet"><span class="by">acdha</span><span>|</span><a href="#38974619">root</a><span>|</span><a href="#38976436">parent</a><span>|</span><a href="#38974751">next</a><span>|</span><label class="collapse" for="c-38976680">[-]</label><label class="expand" for="c-38976680">[2 more]</label></div><br/><div class="children"><div class="content">What makes you think Apple is “compiling” personal info when your phone transfers selected data to a nearby device?</div><br/><div id="38976796" class="c"><input type="checkbox" id="c-38976796" checked=""/><div class="controls bullet"><span class="by">pushcx</span><span>|</span><a href="#38974619">root</a><span>|</span><a href="#38976680">parent</a><span>|</span><a href="#38974751">next</a><span>|</span><label class="collapse" for="c-38976796">[-]</label><label class="expand" for="c-38976796">[1 more]</label></div><br/><div class="children"><div class="content">The Contact Card integration I described is bringing together information that used to be fragmented across ios apps. I don’t think it’s good to make it easier to use and share personal info.</div><br/></div></div></div></div></div></div></div></div><div id="38974751" class="c"><input type="checkbox" id="c-38974751" checked=""/><div class="controls bullet"><span class="by">lelandfe</span><span>|</span><a href="#38974619">parent</a><span>|</span><a href="#38976278">prev</a><span>|</span><a href="#38974832">next</a><span>|</span><label class="collapse" for="c-38974751">[-]</label><label class="expand" for="c-38974751">[4 more]</label></div><br/><div class="children"><div class="content">Don’t the phones practically need to be touching for that feature?<p>I don’t think that reduces AirDrop privacy, you’d know who it was from that distance anyway.</div><br/><div id="38974797" class="c"><input type="checkbox" id="c-38974797" checked=""/><div class="controls bullet"><span class="by">jrmg</span><span>|</span><a href="#38974619">root</a><span>|</span><a href="#38974751">parent</a><span>|</span><a href="#38976883">next</a><span>|</span><label class="collapse" for="c-38974797">[-]</label><label class="expand" for="c-38974797">[2 more]</label></div><br/><div class="children"><div class="content">You also need to affirmatively press the button obviously titled ‘share’ before it sends the contact info.</div><br/><div id="38975011" class="c"><input type="checkbox" id="c-38975011" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#38974619">root</a><span>|</span><a href="#38974797">parent</a><span>|</span><a href="#38976883">next</a><span>|</span><label class="collapse" for="c-38975011">[-]</label><label class="expand" for="c-38975011">[1 more]</label></div><br/><div class="children"><div class="content">Yep. I&#x27;m convinced that anyone complaining about this has never used the feature. Context on how this misinformation started on the Facebook pages of police departments: <a href="https:&#x2F;&#x2F;www.macrumors.com&#x2F;2023&#x2F;11&#x2F;27&#x2F;ios-17-namedrop-misinformation&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.macrumors.com&#x2F;2023&#x2F;11&#x2F;27&#x2F;ios-17-namedrop-misinfo...</a><p>Some day I&#x27;d like to use an LLM to read every user&#x27;s comments on websites like this and automatically tag the users that fell for similar fake stories. That way I can avoid wasting time researching their claims</div><br/></div></div></div></div><div id="38976883" class="c"><input type="checkbox" id="c-38976883" checked=""/><div class="controls bullet"><span class="by">quacksilver</span><span>|</span><a href="#38974619">root</a><span>|</span><a href="#38974751">parent</a><span>|</span><a href="#38974797">prev</a><span>|</span><a href="#38974832">next</a><span>|</span><label class="collapse" for="c-38976883">[-]</label><label class="expand" for="c-38976883">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if it is possible to do a relay attack to something like:<p>- a malicious wireless charger<p>- a coffee shop table &#x2F; bar table &#x2F; desk<p>- a phone holder in a vehicle<p>or use an SDR with a high gain directed &#x2F; beam formed antenna to pretend to be much closer than you really are<p>I don&#x27;t know exactly how it works (or have a modern iOS device to test on), so all speculation</div><br/></div></div></div></div></div></div><div id="38973526" class="c"><input type="checkbox" id="c-38973526" checked=""/><div class="controls bullet"><span class="by">kornhole</span><span>|</span><a href="#38973716">prev</a><span>|</span><a href="#38973920">next</a><span>|</span><label class="collapse" for="c-38973526">[-]</label><label class="expand" for="c-38973526">[4 more]</label></div><br/><div class="children"><div class="content">If a company creates a back door for a government in a way that it looks like an oopsie vulnerability, it gives them plausible deniability. If someone reports the vuln and they don&#x27;t fix it, this somewhat shatters the plausible deniability.<p>Operation triangulation <a href="https:&#x2F;&#x2F;securelist.com&#x2F;operation-triangulation-the-last-hardware-mystery&#x2F;111669&#x2F;" rel="nofollow">https:&#x2F;&#x2F;securelist.com&#x2F;operation-triangulation-the-last-hard...</a> revealed the use of four different vulnerabilities, hidden code and undocumented features to take over Iphones. Its sophistication points to an APT. Apple did not deny helping the attacker TMK.</div><br/><div id="38973885" class="c"><input type="checkbox" id="c-38973885" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38973526">parent</a><span>|</span><a href="#38975203">next</a><span>|</span><label class="collapse" for="c-38973885">[-]</label><label class="expand" for="c-38973885">[1 more]</label></div><br/><div class="children"><div class="content">Does it still count as an &quot;oopsie vulnerability&quot; if Apple has publicly documented this behavior for years in their documentation?<p><a href="https:&#x2F;&#x2F;support.apple.com&#x2F;guide&#x2F;security&#x2F;airdrop-security-sec2261183f4&#x2F;web" rel="nofollow">https:&#x2F;&#x2F;support.apple.com&#x2F;guide&#x2F;security&#x2F;airdrop-security-se...</a><p>&gt; Apple did not deny helping the attacker TMK.<p>I can imagine many non-malicious alternative explanations for Apple not commenting on that particular vulnerability. For example, doing that here opens the door to a future in which every non-denial is seen as implicit admission of collaboration.<p>It&#x27;s also possible that Apple themselves was compromised: It&#x27;s a large company, and other types of leaks do happen.<p>I&#x27;d focus much more on the things Apple very publicly does <i>not</i> do, such as in this case not using private set intersection for AirDrop.<p>The best vulnerability is the one you don&#x27;t even have to defend, because it&#x27;s just the absence of a more secure (but also more complicated) alternative. There are countless historical examples of that: Unencrypted instant messaging, non-end-to-end encrypted cloud storage etc.</div><br/></div></div><div id="38975203" class="c"><input type="checkbox" id="c-38975203" checked=""/><div class="controls bullet"><span class="by">SheinhardtWigCo</span><span>|</span><a href="#38973526">parent</a><span>|</span><a href="#38973885">prev</a><span>|</span><a href="#38974851">next</a><span>|</span><label class="collapse" for="c-38975203">[-]</label><label class="expand" for="c-38975203">[1 more]</label></div><br/><div class="children"><div class="content">The idea that Apple needs to <i>create</i> backdoors for governments seems absurd when you consider that any competent government will have essentially unfettered access to Radar, i.e. a firehose of almost every security bug discovered by Apple or reported to it.</div><br/></div></div></div></div><div id="38973417" class="c"><input type="checkbox" id="c-38973417" checked=""/><div class="controls bullet"><span class="by">deafpolygon</span><span>|</span><a href="#38973920">prev</a><span>|</span><label class="collapse" for="c-38973417">[-]</label><label class="expand" for="c-38973417">[2 more]</label></div><br/><div class="children"><div class="content">Is it an unfixed exploit when Apple knowingly left it as is for whatever reason?</div><br/><div id="38976311" class="c"><input type="checkbox" id="c-38976311" checked=""/><div class="controls bullet"><span class="by">Pixie_Dust</span><span>|</span><a href="#38973417">parent</a><span>|</span><label class="collapse" for="c-38976311">[-]</label><label class="expand" for="c-38976311">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Is it an unfixed exploit when Apple knowingly left it as is for whatever reason?<p>Danger Will Robinson ö<p>“AirDrop uses iCloud services to help users authenticate. When a user signs in to iCloud, a 2048-bit RSA identity is stored on the device, and when the user turns on AirDrop, an AirDrop short identity hash is created based on the email addresses and phone numbers associated with the user’s Apple ID.”<p><a href="https:&#x2F;&#x2F;support.apple.com&#x2F;en-gb&#x2F;guide&#x2F;security&#x2F;sec2261183f4&#x2F;web" rel="nofollow">https:&#x2F;&#x2F;support.apple.com&#x2F;en-gb&#x2F;guide&#x2F;security&#x2F;sec2261183f4&#x2F;...</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>