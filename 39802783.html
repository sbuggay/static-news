<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711270853153" as="style"/><link rel="stylesheet" href="styles.css?v=1711270853153"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://dl.acm.org/doi/pdf/10.1145/3591264">Interval Parsing Grammars for File Format Parsing (2023) [pdf]</a> <span class="domain">(<a href="https://dl.acm.org">dl.acm.org</a>)</span></div><div class="subtext"><span>vitplister</span> | <span>6 comments</span></div><br/><div><div id="39805365" class="c"><input type="checkbox" id="c-39805365" checked=""/><div class="controls bullet"><span class="by">kstenerud</span><span>|</span><a href="#39805659">next</a><span>|</span><label class="collapse" for="c-39805365">[-]</label><label class="expand" for="c-39805365">[3 more]</label></div><br/><div class="children"><div class="content">I built a grammar to tackle these sorts of problems when I had trouble writing formal grammar notations for my binary data format. It&#x27;s even got a syntax highlighter.<p><a href="https:&#x2F;&#x2F;dogma-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;dogma-lang.org&#x2F;</a><p>So far it&#x27;s been able to describe 90% of what&#x27;s out there. Some examples:<p>- 802.3 layer 2 Ethernet: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;802.3_layer2.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;8...</a><p>- Microsoft ICO format: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;ico.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;i...</a><p>- Android Dex v39: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;dex_v39.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;d...</a><p>- IPv4: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;ipv4.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;i...</a><p>- DNS query: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;dns_query.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;d...</a><p>- Microsoft Minidump: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;minidump.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;m...</a><p>- Concise Binary Encoding: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;concise-encoding&#x2F;blob&#x2F;master&#x2F;cbe.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;concise-encoding&#x2F;blob&#x2F;master&#x2F;cb...</a><p>- Concise Text Encoding: <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;concise-encoding&#x2F;blob&#x2F;master&#x2F;cte.dogma">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;concise-encoding&#x2F;blob&#x2F;master&#x2F;ct...</a></div><br/><div id="39805551" class="c"><input type="checkbox" id="c-39805551" checked=""/><div class="controls bullet"><span class="by">lindig</span><span>|</span><a href="#39805365">parent</a><span>|</span><a href="#39805659">next</a><span>|</span><label class="collapse" for="c-39805551">[-]</label><label class="expand" for="c-39805551">[2 more]</label></div><br/><div class="children"><div class="content">The main feature of interval parsing appears to be that it can jump over content such that a later part in a file does not depend on knowing everything that comes before it. Has Dogma similar expressiveness?</div><br/><div id="39805562" class="c"><input type="checkbox" id="c-39805562" checked=""/><div class="controls bullet"><span class="by">kstenerud</span><span>|</span><a href="#39805365">root</a><span>|</span><a href="#39805551">parent</a><span>|</span><a href="#39805659">next</a><span>|</span><label class="collapse" for="c-39805562">[-]</label><label class="expand" for="c-39805562">[1 more]</label></div><br/><div class="children"><div class="content">Yes, the `offset` function does this by specifying a bit-offset to branch to. For example the ICO `dir_entry`, which is a directory list of icon resources in the file. <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;ico.dogma#L26">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;i...</a> - It&#x27;s using image_offset*8 because everything in an ICO file is a byte-offset (8 bits)<p>It&#x27;s also needed to parse Minidump. For example <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;minidump.dogma#L23">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;m...</a> and <a href="https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;minidump.dogma#L62">https:&#x2F;&#x2F;github.com&#x2F;kstenerud&#x2F;dogma&#x2F;blob&#x2F;master&#x2F;v1&#x2F;examples&#x2F;m...</a></div><br/></div></div></div></div></div></div><div id="39805659" class="c"><input type="checkbox" id="c-39805659" checked=""/><div class="controls bullet"><span class="by">dataflow</span><span>|</span><a href="#39805365">prev</a><span>|</span><a href="#39804655">next</a><span>|</span><label class="collapse" for="c-39805659">[-]</label><label class="expand" for="c-39805659">[1 more]</label></div><br/><div class="children"><div class="content">Wow. The introduction itself blows my mind. I would&#x27;ve never thought of even trying to specify a formal grammar for binary file formats, let alone come up with an algorithm to handle context sensitive ones that arise in practice. Seems awesome, especially this bit:<p>&gt; To the best of our knowledge, IPGs support all syntactic and parsing-based properties in common file formats and can reduce discrepancies between a file format specification and an implementation, as well as discrepancies between different implementations.</div><br/></div></div><div id="39804655" class="c"><input type="checkbox" id="c-39804655" checked=""/><div class="controls bullet"><span class="by">nickpsecurity</span><span>|</span><a href="#39805659">prev</a><span>|</span><label class="collapse" for="c-39804655">[-]</label><label class="expand" for="c-39804655">[1 more]</label></div><br/><div class="children"><div class="content">Greg Morrisett is one of those people who is consistently involved in neat work. Typed x86, Cyclone, and SAFE architecture come to mind. It’s best to just all the papers of such people. I found a list of his:<p><a href="https:&#x2F;&#x2F;www.cs.cornell.edu&#x2F;~jgm&#x2F;jgm.html" rel="nofollow">https:&#x2F;&#x2F;www.cs.cornell.edu&#x2F;~jgm&#x2F;jgm.html</a></div><br/></div></div></div></div></div></div></div></body></html>