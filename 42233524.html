<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732525268515" as="style"/><link rel="stylesheet" href="styles.css?v=1732525268515"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.benji.dog/articles/git-config/">How I configure my Git identities</a> <span class="domain">(<a href="https://www.benji.dog">www.benji.dog</a>)</span></div><div class="subtext"><span>8organicbits</span> | <span>34 comments</span></div><br/><div><div id="42234122" class="c"><input type="checkbox" id="c-42234122" checked=""/><div class="controls bullet"><span class="by">powersnail</span><span>|</span><a href="#42234236">next</a><span>|</span><label class="collapse" for="c-42234122">[-]</label><label class="expand" for="c-42234122">[1 more]</label></div><br/><div class="children"><div class="content">I do something similar, but instead of `insteadOf`, I just clone the repo with `gh-work:org&#x2F;repo`, and in the git config:<p><pre><code>    [includeIf &quot;hasconfig:remote.*.url:gh-work:**&#x2F;**&quot;]
        path = ~&#x2F;.gitconfig.d&#x2F;gh-work.inc
</code></pre>
So, any git repo cloned with the ssh identity defined under `gh-work` will take on the config of `gh-work.inc`, which includes the git identity, and also the same signing key as in the ssh config.<p>Essentially, the name `gh-work` becomes the distinguishing element  in both my ssh identity and my git identity, and I find this easier to think about.</div><br/></div></div><div id="42234236" class="c"><input type="checkbox" id="c-42234236" checked=""/><div class="controls bullet"><span class="by">bobek</span><span>|</span><a href="#42234122">prev</a><span>|</span><a href="#42234318">next</a><span>|</span><label class="collapse" for="c-42234236">[-]</label><label class="expand" for="c-42234236">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using `includeIf` with directory for ages (<a href="https:&#x2F;&#x2F;www.bobek.cz&#x2F;til&#x2F;git-identities&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.bobek.cz&#x2F;til&#x2F;git-identities&#x2F;</a>), the `hasconfig:remote` is really neat. And it also works when cloning the repository.</div><br/></div></div><div id="42234318" class="c"><input type="checkbox" id="c-42234318" checked=""/><div class="controls bullet"><span class="by">computerfriend</span><span>|</span><a href="#42234236">prev</a><span>|</span><a href="#42233865">next</a><span>|</span><label class="collapse" for="c-42234318">[-]</label><label class="expand" for="c-42234318">[1 more]</label></div><br/><div class="children"><div class="content">This is a nice trick. But if you:<p>* use a dedicated work machine and<p>* you also want to version control your dotfiles (including ~&#x2F;.config&#x2F;git&#x2F;) and<p>* you don&#x27;t want to leak your work repository organisation,<p>you can instead add something like<p><pre><code>    [include]
        path = work.gitconfig
</code></pre>
which will override any settings above it and also fail gracefully&#x2F;silently if work.gitconfig does not exist.</div><br/></div></div><div id="42233865" class="c"><input type="checkbox" id="c-42233865" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#42234318">prev</a><span>|</span><a href="#42233907">next</a><span>|</span><label class="collapse" for="c-42233865">[-]</label><label class="expand" for="c-42233865">[5 more]</label></div><br/><div class="children"><div class="content">you don&#x27;t have to mess with ~&#x2F;.ssh&#x2F;config<p>Just put this in your ~&#x2F;.gitconfig  (or ~&#x2F;.config&#x2F;git&#x2F;personal as in the article)<p><pre><code>  [core]
      sshCommand = &#x2F;usr&#x2F;bin&#x2F;ssh -o IdentitiesOnly=yes -i ~&#x2F;.ssh&#x2F;IdentityFile2 -a

</code></pre>
This makes submodules easy without the `insteadOf`</div><br/><div id="42233932" class="c"><input type="checkbox" id="c-42233932" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#42233865">parent</a><span>|</span><a href="#42233893">next</a><span>|</span><label class="collapse" for="c-42233932">[-]</label><label class="expand" for="c-42233932">[3 more]</label></div><br/><div class="children"><div class="content">And if you have more than one SSH identity?</div><br/><div id="42233970" class="c"><input type="checkbox" id="c-42233970" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#42233865">root</a><span>|</span><a href="#42233932">parent</a><span>|</span><a href="#42233961">next</a><span>|</span><label class="collapse" for="c-42233970">[-]</label><label class="expand" for="c-42233970">[1 more]</label></div><br/><div class="children"><div class="content">You can also put that in your includeIf confs. I updated the parent comment</div><br/></div></div><div id="42233961" class="c"><input type="checkbox" id="c-42233961" checked=""/><div class="controls bullet"><span class="by">dgfitz</span><span>|</span><a href="#42233865">root</a><span>|</span><a href="#42233932">parent</a><span>|</span><a href="#42233970">prev</a><span>|</span><a href="#42233893">next</a><span>|</span><label class="collapse" for="c-42233961">[-]</label><label class="expand" for="c-42233961">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like a different problem.</div><br/></div></div></div></div></div></div><div id="42233907" class="c"><input type="checkbox" id="c-42233907" checked=""/><div class="controls bullet"><span class="by">elric</span><span>|</span><a href="#42233865">prev</a><span>|</span><a href="#42233941">next</a><span>|</span><label class="collapse" for="c-42233907">[-]</label><label class="expand" for="c-42233907">[2 more]</label></div><br/><div class="children"><div class="content">The includeIf stuff is pretty neat. I currently keep the SSH complexity in ~&#x2F;.ssh, where I have several includes, one for each customer|project|identity. Things without unique hostnames, like github, get an alias assigned:<p><pre><code>    Host customer-github
     Hostname github.com
     IdentityFile ~&#x2F;.ssh&#x2F;customer_rsa
     User git
</code></pre>
All I have to do is use the alias in any git clone command and I&#x27;m done.</div><br/><div id="42234205" class="c"><input type="checkbox" id="c-42234205" checked=""/><div class="controls bullet"><span class="by">dolmen</span><span>|</span><a href="#42233907">parent</a><span>|</span><a href="#42233941">next</a><span>|</span><label class="collapse" for="c-42234205">[-]</label><label class="expand" for="c-42234205">[1 more]</label></div><br/><div class="children"><div class="content">I have created a tool 12 years ago (still actively maintained) to manage multiple GitHub SSH identities:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dolmen&#x2F;github-keygen">https:&#x2F;&#x2F;github.com&#x2F;dolmen&#x2F;github-keygen</a></div><br/></div></div></div></div><div id="42233941" class="c"><input type="checkbox" id="c-42233941" checked=""/><div class="controls bullet"><span class="by">bilalq</span><span>|</span><a href="#42233907">prev</a><span>|</span><a href="#42234137">next</a><span>|</span><label class="collapse" for="c-42233941">[-]</label><label class="expand" for="c-42233941">[2 more]</label></div><br/><div class="children"><div class="content">So glad I clicked on this link. I was already doing the `includeIf: &quot;gitdir&quot;` thing to separate work and personal stuff, but `hasconfig:remote` is a total game-changer.</div><br/><div id="42234006" class="c"><input type="checkbox" id="c-42234006" checked=""/><div class="controls bullet"><span class="by">meitham</span><span>|</span><a href="#42233941">parent</a><span>|</span><a href="#42234137">next</a><span>|</span><label class="collapse" for="c-42234006">[-]</label><label class="expand" for="c-42234006">[1 more]</label></div><br/><div class="children"><div class="content">absoluelty!  I can&#x27;t believe this treasure was hidden as a draft for three years!</div><br/></div></div></div></div><div id="42234137" class="c"><input type="checkbox" id="c-42234137" checked=""/><div class="controls bullet"><span class="by">cquintana92</span><span>|</span><a href="#42233941">prev</a><span>|</span><a href="#42234112">next</a><span>|</span><label class="collapse" for="c-42234137">[-]</label><label class="expand" for="c-42234137">[2 more]</label></div><br/><div class="children"><div class="content">Shameless plug for a tool I developed in order to easily switch git identities based on projects: <a href="https:&#x2F;&#x2F;github.com&#x2F;cquintana92&#x2F;git-switch-user">https:&#x2F;&#x2F;github.com&#x2F;cquintana92&#x2F;git-switch-user</a><p>After configuring the identities you just need to run<p><pre><code>    $ git su Personal
    $ git su Work
</code></pre>
And all the identity configuration (email, name, SSH key and optionally PGP key) will be set up into the repo&#x27;s .git&#x2F;config file.<p>Saved me a ton of time.</div><br/><div id="42234194" class="c"><input type="checkbox" id="c-42234194" checked=""/><div class="controls bullet"><span class="by">dolmen</span><span>|</span><a href="#42234137">parent</a><span>|</span><a href="#42234112">next</a><span>|</span><label class="collapse" for="c-42234194">[-]</label><label class="expand" for="c-42234194">[1 more]</label></div><br/><div class="children"><div class="content">Shameless plug for a tool I developed in order to easily manage GitHub identities for Git access via SSH:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dolmen&#x2F;github-keygen">https:&#x2F;&#x2F;github.com&#x2F;dolmen&#x2F;github-keygen</a><p>12 years old, but still actively maintained.</div><br/></div></div></div></div><div id="42234112" class="c"><input type="checkbox" id="c-42234112" checked=""/><div class="controls bullet"><span class="by">pestaa</span><span>|</span><a href="#42234137">prev</a><span>|</span><a href="#42234056">next</a><span>|</span><label class="collapse" for="c-42234112">[-]</label><label class="expand" for="c-42234112">[5 more]</label></div><br/><div class="children"><div class="content">Is there a risk with not using different keys for work and personal?<p>The private bits are all in the same place: if one is compromised, so are the rest.</div><br/><div id="42234223" class="c"><input type="checkbox" id="c-42234223" checked=""/><div class="controls bullet"><span class="by">dolmen</span><span>|</span><a href="#42234112">parent</a><span>|</span><a href="#42234166">next</a><span>|</span><label class="collapse" for="c-42234223">[-]</label><label class="expand" for="c-42234223">[1 more]</label></div><br/><div class="children"><div class="content">About signing keys, it would make sense stopping using a signing key (marking it as such and deleting it) once you stop a job.<p>Your signing key for personal projects probably has a different temporality.</div><br/></div></div><div id="42234166" class="c"><input type="checkbox" id="c-42234166" checked=""/><div class="controls bullet"><span class="by">x3n0ph3n3</span><span>|</span><a href="#42234112">parent</a><span>|</span><a href="#42234223">prev</a><span>|</span><a href="#42234154">next</a><span>|</span><label class="collapse" for="c-42234166">[-]</label><label class="expand" for="c-42234166">[2 more]</label></div><br/><div class="children"><div class="content">Your key cannot be tied to more than one identity, and if you use GitHub Enterprise, your work identity may be restricted from contributing to repos outside of the Enterprise. This is to prevent cloning private code into public spaces. For this reason, you <i>need</i> to have separate keys.</div><br/><div id="42234215" class="c"><input type="checkbox" id="c-42234215" checked=""/><div class="controls bullet"><span class="by">pestaa</span><span>|</span><a href="#42234112">root</a><span>|</span><a href="#42234166">parent</a><span>|</span><a href="#42234154">next</a><span>|</span><label class="collapse" for="c-42234215">[-]</label><label class="expand" for="c-42234215">[1 more]</label></div><br/><div class="children"><div class="content">Interesting!<p>Curious though that the compliance rules are strict enough it warrants distinct keypairs, but not that strict for the devs to use dedicated hardware.</div><br/></div></div></div></div><div id="42234154" class="c"><input type="checkbox" id="c-42234154" checked=""/><div class="controls bullet"><span class="by">dns_snek</span><span>|</span><a href="#42234112">parent</a><span>|</span><a href="#42234166">prev</a><span>|</span><a href="#42234056">next</a><span>|</span><label class="collapse" for="c-42234154">[-]</label><label class="expand" for="c-42234154">[1 more]</label></div><br/><div class="children"><div class="content">If both of your keys are on the same computer they would most likely be compromised simultaneously, or not at all.<p>However if you&#x27;re worried about this then you should probably be using a hardware token anyway - something that supports SSH authentication via FIDO2, GPG, or smart card interface.</div><br/></div></div></div></div><div id="42234056" class="c"><input type="checkbox" id="c-42234056" checked=""/><div class="controls bullet"><span class="by">bentinata</span><span>|</span><a href="#42234112">prev</a><span>|</span><a href="#42234180">next</a><span>|</span><label class="collapse" for="c-42234056">[-]</label><label class="expand" for="c-42234056">[1 more]</label></div><br/><div class="children"><div class="content">I use `insteadOf` instead of ssh alias because my workplace use GitLab orgs. So instead of typing the full URL like:<p><pre><code>  git clone gitlab.com&#x2F;acme-corp&#x2F;project-name
</code></pre>
I could use:<p><pre><code>  git clone work:project-name
</code></pre>
But this kinda broke `includeIf` since it store the `insteadOf` remote url directly. I then had to convert existing repositories to use the `insteadOf` url.<p>I wrote a little bit about it here:
<a href="https:&#x2F;&#x2F;bentinata.com&#x2F;log&#x2F;git-insteadof-includeif" rel="nofollow">https:&#x2F;&#x2F;bentinata.com&#x2F;log&#x2F;git-insteadof-includeif</a></div><br/></div></div><div id="42234180" class="c"><input type="checkbox" id="c-42234180" checked=""/><div class="controls bullet"><span class="by">ku1ik</span><span>|</span><a href="#42234056">prev</a><span>|</span><a href="#42234213">next</a><span>|</span><label class="collapse" for="c-42234180">[-]</label><label class="expand" for="c-42234180">[7 more]</label></div><br/><div class="children"><div class="content">This post is a great reference of what’s possible with git config wrt includes&#x2F;remotes, and I’m sure I’ll be getting back to it.<p>One thing though: what’s the point of using separate keys for work&#x2F;personal&#x2F;github&#x2F;gitlab? I fail to see a practical and security advantage over using one key (per workstation).</div><br/><div id="42234406" class="c"><input type="checkbox" id="c-42234406" checked=""/><div class="controls bullet"><span class="by">ku1ik</span><span>|</span><a href="#42234180">parent</a><span>|</span><a href="#42234192">next</a><span>|</span><label class="collapse" for="c-42234406">[-]</label><label class="expand" for="c-42234406">[1 more]</label></div><br/><div class="children"><div class="content">To add to my other replies to replies in this thread…<p>These days I prefer to use local VMs to compartmentalize different areas of work (personal, consulting, etc) so my git config is plain and simple. Lately I’ve been doing mostly consulting work around open-source so I’ve been using my primary GH account for the most part, but separate VMs allow me to use a different key (account) without advanced git config incantations.</div><br/></div></div><div id="42234192" class="c"><input type="checkbox" id="c-42234192" checked=""/><div class="controls bullet"><span class="by">gloflo</span><span>|</span><a href="#42234180">parent</a><span>|</span><a href="#42234406">prev</a><span>|</span><a href="#42234196">next</a><span>|</span><label class="collapse" for="c-42234192">[-]</label><label class="expand" for="c-42234192">[2 more]</label></div><br/><div class="children"><div class="content">Privacy for sure. It&#x27;s no ones business to know how certain accounts are related.</div><br/><div id="42234324" class="c"><input type="checkbox" id="c-42234324" checked=""/><div class="controls bullet"><span class="by">ku1ik</span><span>|</span><a href="#42234180">root</a><span>|</span><a href="#42234192">parent</a><span>|</span><a href="#42234196">next</a><span>|</span><label class="collapse" for="c-42234324">[-]</label><label class="expand" for="c-42234324">[1 more]</label></div><br/><div class="children"><div class="content">Ah, right. E.g. using separate GH accounts for personal and work. Forgot about that!</div><br/></div></div></div></div><div id="42234196" class="c"><input type="checkbox" id="c-42234196" checked=""/><div class="controls bullet"><span class="by">carbonboarder</span><span>|</span><a href="#42234180">parent</a><span>|</span><a href="#42234192">prev</a><span>|</span><a href="#42234213">next</a><span>|</span><label class="collapse" for="c-42234196">[-]</label><label class="expand" for="c-42234196">[3 more]</label></div><br/><div class="children"><div class="content">GitHub does not allow you to share a key with another GitHub account anymore</div><br/><div id="42234352" class="c"><input type="checkbox" id="c-42234352" checked=""/><div class="controls bullet"><span class="by">ku1ik</span><span>|</span><a href="#42234180">root</a><span>|</span><a href="#42234196">parent</a><span>|</span><a href="#42234285">next</a><span>|</span><label class="collapse" for="c-42234352">[-]</label><label class="expand" for="c-42234352">[1 more]</label></div><br/><div class="children"><div class="content">Of course! I’ve been using separate GH accounts for work and personal stuff in the past myself. It’s been years since then and I completely forgot.<p>In fact, I was one of not too many who used separate account for work, and people didn’t understand it, wondering why the hassle.</div><br/></div></div><div id="42234285" class="c"><input type="checkbox" id="c-42234285" checked=""/><div class="controls bullet"><span class="by">computerfriend</span><span>|</span><a href="#42234180">root</a><span>|</span><a href="#42234196">parent</a><span>|</span><a href="#42234352">prev</a><span>|</span><a href="#42234213">next</a><span>|</span><label class="collapse" for="c-42234285">[-]</label><label class="expand" for="c-42234285">[1 more]</label></div><br/><div class="children"><div class="content">They never did. The account is identified by the key, so it&#x27;s impossible.</div><br/></div></div></div></div></div></div><div id="42234213" class="c"><input type="checkbox" id="c-42234213" checked=""/><div class="controls bullet"><span class="by">jmb99</span><span>|</span><a href="#42234180">prev</a><span>|</span><a href="#42234341">next</a><span>|</span><label class="collapse" for="c-42234213">[-]</label><label class="expand" for="c-42234213">[2 more]</label></div><br/><div class="children"><div class="content">As cool as this is, how many peoples&#x27; employers allow them to do either personal work from the work computers, or work work from their personal computers? My company is quite strict on both.</div><br/><div id="42234231" class="c"><input type="checkbox" id="c-42234231" checked=""/><div class="controls bullet"><span class="by">that_guy_iain</span><span>|</span><a href="#42234213">parent</a><span>|</span><a href="#42234341">next</a><span>|</span><label class="collapse" for="c-42234231">[-]</label><label class="expand" for="c-42234231">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve not had a single employer care.<p>For many of the companies that I&#x27;ve worked at, the laptops were taken home to be used as personal computers at the end of the day and this was a well-known thing and I was often looked at weird when I said I had another laptop.<p>One time I took the wrong laptop in and had to work on my personal laptop in the office. It wasn&#x27;t so much fun that day.</div><br/></div></div></div></div><div id="42234341" class="c"><input type="checkbox" id="c-42234341" checked=""/><div class="controls bullet"><span class="by">cabirum</span><span>|</span><a href="#42234213">prev</a><span>|</span><a href="#42233871">next</a><span>|</span><label class="collapse" for="c-42234341">[-]</label><label class="expand" for="c-42234341">[1 more]</label></div><br/><div class="children"><div class="content">user.useconfigonly=true can also help</div><br/></div></div><div id="42233871" class="c"><input type="checkbox" id="c-42233871" checked=""/><div class="controls bullet"><span class="by">vishnugupta</span><span>|</span><a href="#42234341">prev</a><span>|</span><label class="collapse" for="c-42233871">[-]</label><label class="expand" for="c-42233871">[3 more]</label></div><br/><div class="children"><div class="content">I really liked the website, the layout, typography, icons etc. Really well done!</div><br/><div id="42233939" class="c"><input type="checkbox" id="c-42233939" checked=""/><div class="controls bullet"><span class="by">ndjdjddjsjj</span><span>|</span><a href="#42233871">parent</a><span>|</span><label class="collapse" for="c-42233939">[-]</label><label class="expand" for="c-42233939">[2 more]</label></div><br/><div class="children"><div class="content">Especially the TLD</div><br/><div id="42233956" class="c"><input type="checkbox" id="c-42233956" checked=""/><div class="controls bullet"><span class="by">phito</span><span>|</span><a href="#42233871">root</a><span>|</span><a href="#42233939">parent</a><span>|</span><label class="collapse" for="c-42233956">[-]</label><label class="expand" for="c-42233956">[1 more]</label></div><br/><div class="children"><div class="content">The whole domain name for me, my childhood dog was named Benji :)<p>... time to go change my security questions</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>