<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1719219674315" as="style"/><link rel="stylesheet" href="styles.css?v=1719219674315"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/jart/cosmopolitan/releases/tag/3.5.0">Cosmopolitan v3.5.0</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>sgammon</span> | <span>17 comments</span></div><br/><div><div id="40773552" class="c"><input type="checkbox" id="c-40773552" checked=""/><div class="controls bullet"><span class="by">trustno2</span><span>|</span><a href="#40773337">next</a><span>|</span><label class="collapse" for="c-40773552">[-]</label><label class="expand" for="c-40773552">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m always somewhat scared - not sure if rationally or irrationally - about cosmopolitan.<p>It&#x27;s a cool hack but I somehow feel like it <i>should not work</i>.</div><br/><div id="40773811" class="c"><input type="checkbox" id="c-40773811" checked=""/><div class="controls bullet"><span class="by">alganet</span><span>|</span><a href="#40773552">parent</a><span>|</span><a href="#40773637">next</a><span>|</span><label class="collapse" for="c-40773811">[-]</label><label class="expand" for="c-40773811">[1 more]</label></div><br/><div class="children"><div class="content">It should work. We should have portable executables across many operating systems and architectures. The other expectation is scary.</div><br/></div></div><div id="40773637" class="c"><input type="checkbox" id="c-40773637" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#40773552">parent</a><span>|</span><a href="#40773811">prev</a><span>|</span><a href="#40773337">next</a><span>|</span><label class="collapse" for="c-40773637">[-]</label><label class="expand" for="c-40773637">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m somewhat of the same mind, but I&#x27;m fairly sure a study of <i>Operating Systems: Three Easy Steps</i> would get me over the hump. There&#x27;s no actual reason to suspect this thing would like, sidestep normal process management or memory virtualization or something and run amok... I think.</div><br/></div></div></div></div><div id="40773337" class="c"><input type="checkbox" id="c-40773337" checked=""/><div class="controls bullet"><span class="by">speedgoose</span><span>|</span><a href="#40773552">prev</a><span>|</span><a href="#40773537">next</a><span>|</span><label class="collapse" for="c-40773337">[-]</label><label class="expand" for="c-40773337">[2 more]</label></div><br/><div class="children"><div class="content">The repository also contains the source code for redbean, which is a neat web server with lua and plenty of features.<p><a href="https:&#x2F;&#x2F;redbean.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;redbean.dev&#x2F;</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;jart&#x2F;cosmopolitan&#x2F;tree&#x2F;master&#x2F;tool&#x2F;net">https:&#x2F;&#x2F;github.com&#x2F;jart&#x2F;cosmopolitan&#x2F;tree&#x2F;master&#x2F;tool&#x2F;net</a></div><br/><div id="40773559" class="c"><input type="checkbox" id="c-40773559" checked=""/><div class="controls bullet"><span class="by">sgt_bilko</span><span>|</span><a href="#40773337">parent</a><span>|</span><a href="#40773537">next</a><span>|</span><label class="collapse" for="c-40773559">[-]</label><label class="expand" for="c-40773559">[1 more]</label></div><br/><div class="children"><div class="content">The Lua fullmoon web framework is built around redbean.
<a href="https:&#x2F;&#x2F;github.com&#x2F;pkulchenko&#x2F;fullmoon">https:&#x2F;&#x2F;github.com&#x2F;pkulchenko&#x2F;fullmoon</a></div><br/></div></div></div></div><div id="40773537" class="c"><input type="checkbox" id="c-40773537" checked=""/><div class="controls bullet"><span class="by">mkl</span><span>|</span><a href="#40773337">prev</a><span>|</span><a href="#40773620">next</a><span>|</span><label class="collapse" for="c-40773537">[-]</label><label class="expand" for="c-40773537">[1 more]</label></div><br/><div class="children"><div class="content">Related re Windows on ARM <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40772475">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=40772475</a>.</div><br/></div></div><div id="40773620" class="c"><input type="checkbox" id="c-40773620" checked=""/><div class="controls bullet"><span class="by">auggierose</span><span>|</span><a href="#40773537">prev</a><span>|</span><a href="#40773369">next</a><span>|</span><label class="collapse" for="c-40773620">[-]</label><label class="expand" for="c-40773620">[1 more]</label></div><br/><div class="children"><div class="content">Is there a UI library that goes with that?</div><br/></div></div><div id="40773369" class="c"><input type="checkbox" id="c-40773369" checked=""/><div class="controls bullet"><span class="by">m1keil</span><span>|</span><a href="#40773620">prev</a><span>|</span><a href="#40773178">next</a><span>|</span><label class="collapse" for="c-40773369">[-]</label><label class="expand" for="c-40773369">[2 more]</label></div><br/><div class="children"><div class="content">Cosmo looks so cool. Are there any big projects out there that use it for distribution?</div><br/><div id="40773639" class="c"><input type="checkbox" id="c-40773639" checked=""/><div class="controls bullet"><span class="by">PhilippGille</span><span>|</span><a href="#40773369">parent</a><span>|</span><a href="#40773178">next</a><span>|</span><label class="collapse" for="c-40773639">[-]</label><label class="expand" for="c-40773639">[1 more]</label></div><br/><div class="children"><div class="content">Llamafile: <a href="https:&#x2F;&#x2F;github.com&#x2F;Mozilla-Ocho&#x2F;llamafile">https:&#x2F;&#x2F;github.com&#x2F;Mozilla-Ocho&#x2F;llamafile</a></div><br/></div></div></div></div><div id="40773178" class="c"><input type="checkbox" id="c-40773178" checked=""/><div class="controls bullet"><span class="by">WantonQuantum</span><span>|</span><a href="#40773369">prev</a><span>|</span><label class="collapse" for="c-40773178">[-]</label><label class="expand" for="c-40773178">[7 more]</label></div><br/><div class="children"><div class="content">I assume the executables won&#x27;t run on ARM platforms? So modern Macs are out, etc.</div><br/><div id="40773242" class="c"><input type="checkbox" id="c-40773242" checked=""/><div class="controls bullet"><span class="by">d4rti</span><span>|</span><a href="#40773178">parent</a><span>|</span><a href="#40773209">next</a><span>|</span><label class="collapse" for="c-40773242">[-]</label><label class="expand" for="c-40773242">[1 more]</label></div><br/><div class="children"><div class="content">Works for sure:<p><pre><code>  $ file .&#x2F;bin&#x2F;python
  .&#x2F;bin&#x2F;python: DOS&#x2F;MBR boot sector; partition 1 : ID=0x7f, active, start-CHS 
  (0x0,0,1), end-CHS (0x3ff,255,63), startsector 0, 4294967295 sectors

  $ .&#x2F;bin&#x2F;python
  Python 3.11.4 (heads&#x2F;pypack1:6eea485, Jan 24 2024, 10:14:24) [GCC 11.2.0] on 
  linux
  Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
  &gt;&gt;&gt; import platform
  &gt;&gt;&gt; platform.processor()
  &#x27;arm&#x27;</code></pre></div><br/></div></div><div id="40773209" class="c"><input type="checkbox" id="c-40773209" checked=""/><div class="controls bullet"><span class="by">nabla9</span><span>|</span><a href="#40773178">parent</a><span>|</span><a href="#40773242">prev</a><span>|</span><a href="#40773233">next</a><span>|</span><label class="collapse" for="c-40773209">[-]</label><label class="expand" for="c-40773209">[2 more]</label></div><br/><div class="children"><div class="content">It works on  AMD64 and ARM64 both.<p>It makes  two architecture fat binary, but removes all code not needed.  Resulting binary is typically only 30-50% larger than 1-architecture binary.</div><br/><div id="40773545" class="c"><input type="checkbox" id="c-40773545" checked=""/><div class="controls bullet"><span class="by">mkl</span><span>|</span><a href="#40773178">root</a><span>|</span><a href="#40773209">parent</a><span>|</span><a href="#40773233">next</a><span>|</span><label class="collapse" for="c-40773545">[-]</label><label class="expand" for="c-40773545">[1 more]</label></div><br/><div class="children"><div class="content">More details of supported platforms at <a href="https:&#x2F;&#x2F;justine.lol&#x2F;cosmo3&#x2F;" rel="nofollow">https:&#x2F;&#x2F;justine.lol&#x2F;cosmo3&#x2F;</a> and <a href="https:&#x2F;&#x2F;github.com&#x2F;jart&#x2F;cosmopolitan&#x2F;blob&#x2F;master&#x2F;tool&#x2F;cosmocc&#x2F;README.md">https:&#x2F;&#x2F;github.com&#x2F;jart&#x2F;cosmopolitan&#x2F;blob&#x2F;master&#x2F;tool&#x2F;cosmoc...</a>, both linked in the release notes.</div><br/></div></div></div></div><div id="40773233" class="c"><input type="checkbox" id="c-40773233" checked=""/><div class="controls bullet"><span class="by">lukemerrick</span><span>|</span><a href="#40773178">parent</a><span>|</span><a href="#40773209">prev</a><span>|</span><label class="collapse" for="c-40773233">[-]</label><label class="expand" for="c-40773233">[3 more]</label></div><br/><div class="children"><div class="content">Looks like there is both an ARM and x86 version according to the docs. Probably need two different binaries, but you still get cross-OS for each architecture.</div><br/><div id="40773471" class="c"><input type="checkbox" id="c-40773471" checked=""/><div class="controls bullet"><span class="by">eesmith</span><span>|</span><a href="#40773178">root</a><span>|</span><a href="#40773233">parent</a><span>|</span><label class="collapse" for="c-40773471">[-]</label><label class="expand" for="c-40773471">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a single binary, cross-OS, cross-arch.<p>Go to <a href="https:&#x2F;&#x2F;cosmo.zip&#x2F;pub&#x2F;cosmos&#x2F;bin&#x2F;" rel="nofollow">https:&#x2F;&#x2F;cosmo.zip&#x2F;pub&#x2F;cosmos&#x2F;bin&#x2F;</a> and download an executable, like <a href="https:&#x2F;&#x2F;cosmo.zip&#x2F;pub&#x2F;cosmos&#x2F;bin&#x2F;basename" rel="nofollow">https:&#x2F;&#x2F;cosmo.zip&#x2F;pub&#x2F;cosmos&#x2F;bin&#x2F;basename</a> .<p><pre><code>  % curl -O https:&#x2F;&#x2F;cosmo.zip&#x2F;pub&#x2F;cosmos&#x2F;bin&#x2F;basename
    % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  100  663k  100  663k    0     0   440k      0  0:00:01  0:00:01 --:--:--  441k
  % chmod +x basename
</code></pre>
On macOS with an M1:<p><pre><code>  % arch
  arm64
  % sha256sum basename
  2e4cf8378b679dd0c2cdcc043bb1f21eaf464d3c3b636ed101fbc5e3230eb5fb  basename
  % file .&#x2F;basename
  .&#x2F;basename: DOS&#x2F;MBR boot sector; partition 1 : ID=0x7f, active, start-CHS (0x0,0,1), end-CHS (0x3ff,255,63), startsector 0, 4294967295 sectors
  % .&#x2F;basename &#x2F;dev&#x2F;null.txt
  null.txt
</code></pre>
On FreeBSD with an amd64:<p><pre><code>  % uname -sm
  FreeBSD amd64
  % sha256sum basename
  2e4cf8378b679dd0c2cdcc043bb1f21eaf464d3c3b636ed101fbc5e3230eb5fb  basename
  % file basename
  basename: DOS&#x2F;MBR boot sector; partition 1 : ID=0x7f, active, start-CHS (0x0,0,1), end-CHS (0x3ff,255,63), startsector 0, 4294967295 sectors
  % .&#x2F;basename &#x2F;dev&#x2F;null.pdf
  null.pdf</code></pre></div><br/><div id="40773566" class="c"><input type="checkbox" id="c-40773566" checked=""/><div class="controls bullet"><span class="by">alganet</span><span>|</span><a href="#40773178">root</a><span>|</span><a href="#40773471">parent</a><span>|</span><label class="collapse" for="c-40773566">[-]</label><label class="expand" for="c-40773566">[1 more]</label></div><br/><div class="children"><div class="content">Kind of. It can be read as a single binary, some supported systems will do that. In others, the executable is first parsed as a shell script. There&#x27;s definitely more to it than a single binary.<p><pre><code>    MZqFpD=&#x27;

     Ã¸        @               &#x27; &lt;&lt;&#x27;justine0e5c7z&#x27;
    Ã  Â²@Ã« Ã«ÂÂÃ«HÆÃ¬1ÃÂ½  Ã«Ã©E  Ã¼â¡&gt;Ã Â¿ p1ÃÅ½ÃÃºÅ½Ãâ°ÃÃ»Ã¨  ^ÂÃ®r Â¸ PP 1Ã¿Â¹ Ã³Â¤â¡ÃÃ¿ÃªÅ½   Å½ÃÂ¹ Â¸P Å½Ã1Ã1Ã¿Ã³Âªâ¬Ãº@tÃ¨  Â°1Ã0Ã¶Â¿PÃ¨o ÅÃÆÃ Å½ÃOuÃ³Ãª &#x27;  SRÂ´Ãs1ÃÃrFÂ¸Â¹ Â¶ Â» Å½Ã1ÃÃr3Â´Ãr-ËÃâ¬Ã§?â¬Ã¡ÃÃÃÃÃâ Ã1Ã¶Å½ÃÂ¾â¡Ã·Â¥Â¥Â¥Â¥Â¥Â¤âÂ«Â®âÂ«âÂ«XÂªâ[ÃZâ¬Ã²â¬1ÃÃrÃ·Ã«Â¡PQâ ÃÃÃÃÃÃ1ÃÂ°Â´ÃYXrÃ¾Ã:$v
    Â°Ã¾Ã:6)v0Ã¶AÃP1ÃÃXÃ«Ãâ°Ã¾Â¬âÃt Â»  Â´ÃÃ«Ã²ÃWÂ¿Â¹&amp;Ã¨Ã¨Ã¿_Ã¨Ã¤Ã¿Â¿Ã&amp;Ã¨ÃÃ¿Ã³ÂÃ«Ã¼Â¹ Â¾ Â­â¦Ãt
    QVâÂ¾Ã&amp;Ã¨ ^YÃ¢Ã®Ãâ°Ãºâ¦ÃtRV1ÃÂ±ÃÂ¬^ â¬Ã®ZÂ¬Ã®BIyÃºÃ              â¬  Ã¿Ã¿Ã¿    Ã¿Ã¿Ã¿Ã¿                                                UÂª
    justine0e5c7z
    #&#x27;&quot;

    o=$(command -v &quot;$0&quot;)
    [ x&quot;$1&quot; != x--assimilate ] &amp;&amp; type ape &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;&amp; exec ape &quot;$o&quot; &quot;$@&quot;
    t=&quot;${TMPDIR:-${HOME:-.}}&#x2F;.ape-1.10&quot;
    [ x&quot;$1&quot; != x--assimilate ] &amp;&amp; [ -x &quot;$t&quot; ] &amp;&amp; exec &quot;$t&quot; &quot;$o&quot; &quot;$@&quot;
    m=$(uname -m 2&gt;&#x2F;dev&#x2F;null) || m=x86_64
    if [ ! -d &#x2F;Applications ]; then
    if [ x&quot;$1&quot; = x--assimilate ]; then
    if [ &quot;$m&quot; = x86_64 ] || [ &quot;$m&quot; = amd64 ]; then
    exec 7&lt;&gt; &quot;$o&quot; || exit 121
    printf &#x27;\177ELF\2\1\1\11\0\0\0\0\0\0\0\0\2\0&gt;\0\1\0\0\0vE@\0\0\0\0\0\510\013\000\000\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\100\0\70\0\006\000\0\0\0\0\0\0&#x27; &gt;&amp;7
    exec 7&lt;&amp;-
    fi
    exit</code></pre></div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>