<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1706518866943" as="style"/><link rel="stylesheet" href="styles.css?v=1706518866943"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.gtk.org/2024/01/28/new-renderers-for-gtk/">New Renderers for GTK</a> <span class="domain">(<a href="https://blog.gtk.org">blog.gtk.org</a>)</span></div><div class="subtext"><span>Decabytes</span> | <span>16 comments</span></div><br/><div><div id="39173832" class="c"><input type="checkbox" id="c-39173832" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#39174216">next</a><span>|</span><label class="collapse" for="c-39173832">[-]</label><label class="expand" for="c-39173832">[12 more]</label></div><br/><div class="children"><div class="content">Lomg time ago, I think 2010ish, there was an experimental HTML renderer that would open up a GTK app in a browser that has its UI using plain HTML+CSS.<p>For the time, it was just jaw dropping. For context, I think it was before Atom, VS Code or Electron (or possibly even NodeJS?) was a thing.<p>Don&#x27;t know if that HTML renderer is still around or not.</div><br/><div id="39174223" class="c"><input type="checkbox" id="c-39174223" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#39173832">parent</a><span>|</span><a href="#39173865">next</a><span>|</span><label class="collapse" for="c-39174223">[-]</label><label class="expand" for="c-39174223">[1 more]</label></div><br/><div class="children"><div class="content">Although it uses more HTML and CSS than some similar things, I don’t think it’s fair to call it “plain HTML + CSS”, because it displays more <i>functional</i> characteristics of the pure canvas approach (where you throw away everything the browser gives you and start from scratch). My three primary heuristics for proper behaviour are:<p>(a) using browser scrolling (the web doesn’t expose the right primitives to make a scroll-event-based reimplementation anything but bad, barely noticeable in some configurations but painfully broken in some of the most common configurations);<p>(b) using browser text rendering (strongly preferably by DOM nodes, but even canvas plus fillText <i>can</i> be acceptable); and<p>(c) handling links with real &lt;a&gt; elements (no alternative can provide the same functionality).<p>Broadway fails all three of these (reimplementing scrolling, rendering text on the server and sending images, and I think actually locking up when you try to click on a link). It also fails my fourth and fifth tests, which are (d) having a meaningful accessibility tree (preferably backed by normal DOM stuff, but not necessarily), and (e) handling text input properly (it looks like it just uses key events, not even a backing &lt;input&gt; or &lt;textarea&gt; or contenteditable, so IME composition fails completely and keyboard navigation will presumably be GTK rather than native).<p>I’d count Broadway as suitable for tech demos and for personal use where you know you don’t mind its limitations, but not for <i>any</i> sort of public deployment. It’s basically just an RDP&#x2F;VNC sort of thing, with a <i>smattering</i> of DOM use.</div><br/></div></div><div id="39173865" class="c"><input type="checkbox" id="c-39173865" checked=""/><div class="controls bullet"><span class="by">ho_schi</span><span>|</span><a href="#39173832">parent</a><span>|</span><a href="#39174223">prev</a><span>|</span><a href="#39173970">next</a><span>|</span><label class="collapse" for="c-39173865">[-]</label><label class="expand" for="c-39173865">[2 more]</label></div><br/><div class="children"><div class="content">You mean <i>Broadway</i>?<p><a href="https:&#x2F;&#x2F;docs.gtk.org&#x2F;gtk4&#x2F;broadway.html" rel="nofollow">https:&#x2F;&#x2F;docs.gtk.org&#x2F;gtk4&#x2F;broadway.html</a>  
<a href="https:&#x2F;&#x2F;www.phoronix.com&#x2F;news&#x2F;GTK4-Broadway-Being-Used" rel="nofollow">https:&#x2F;&#x2F;www.phoronix.com&#x2F;news&#x2F;GTK4-Broadway-Being-Used</a><p>I did not considered it as main&#x2F;official backend but it is still there and was ported to Gtk4.</div><br/><div id="39173966" class="c"><input type="checkbox" id="c-39173966" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#39173832">root</a><span>|</span><a href="#39173865">parent</a><span>|</span><a href="#39173970">next</a><span>|</span><label class="collapse" for="c-39173966">[-]</label><label class="expand" for="c-39173966">[1 more]</label></div><br/><div class="children"><div class="content">Oh yes, that&#x27;s it. Thanks for posting. I think its so beautiful. It is one of those things that have pure artisan value. Of craftsmanship. Whether it is used widely or not, I wish this backend to be there.<p>Back then, I did run Open Office in Firefox and it amazed me.</div><br/></div></div></div></div><div id="39173970" class="c"><input type="checkbox" id="c-39173970" checked=""/><div class="controls bullet"><span class="by">no_time</span><span>|</span><a href="#39173832">parent</a><span>|</span><a href="#39173865">prev</a><span>|</span><a href="#39174220">next</a><span>|</span><label class="collapse" for="c-39173970">[-]</label><label class="expand" for="c-39173970">[1 more]</label></div><br/><div class="children"><div class="content">Calling it a &quot;HTML renderer&quot; is a bit of a strech. Atleast in GTK3 it just streams pixel data into a canvas element, effectively being the same as VNC with a web viewer.<p><a href="https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;2EDZ2Ti" rel="nofollow">https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;2EDZ2Ti</a></div><br/></div></div><div id="39174220" class="c"><input type="checkbox" id="c-39174220" checked=""/><div class="controls bullet"><span class="by">moondev</span><span>|</span><a href="#39173832">parent</a><span>|</span><a href="#39173970">prev</a><span>|</span><a href="#39173857">next</a><span>|</span><label class="collapse" for="c-39174220">[-]</label><label class="expand" for="c-39174220">[1 more]</label></div><br/><div class="children"><div class="content">broadway - A while back I created a little POC for running it inside docker which worked really well.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;moondev&#x2F;gtk3-docker">https:&#x2F;&#x2F;github.com&#x2F;moondev&#x2F;gtk3-docker</a><p>My use case was running a browser inside a browser to easily interact with Kubernetes clusterip services without needing to port forward or proxy.<p>Another awesome example: running virt-manager to run a vm via the gtk virt-viewer (and interacting with it through the browser)<p><a href="https:&#x2F;&#x2F;github.com&#x2F;m-bers&#x2F;docker-virt-manager">https:&#x2F;&#x2F;github.com&#x2F;m-bers&#x2F;docker-virt-manager</a></div><br/></div></div><div id="39173857" class="c"><input type="checkbox" id="c-39173857" checked=""/><div class="controls bullet"><span class="by">arghwhat</span><span>|</span><a href="#39173832">parent</a><span>|</span><a href="#39174220">prev</a><span>|</span><a href="#39173908">next</a><span>|</span><label class="collapse" for="c-39173857">[-]</label><label class="expand" for="c-39173857">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s called Broadway: <a href="https:&#x2F;&#x2F;docs.gtk.org&#x2F;gtk4&#x2F;broadway.html" rel="nofollow">https:&#x2F;&#x2F;docs.gtk.org&#x2F;gtk4&#x2F;broadway.html</a></div><br/><div id="39173986" class="c"><input type="checkbox" id="c-39173986" checked=""/><div class="controls bullet"><span class="by">wg0</span><span>|</span><a href="#39173832">root</a><span>|</span><a href="#39173857">parent</a><span>|</span><a href="#39173908">next</a><span>|</span><label class="collapse" for="c-39173986">[-]</label><label class="expand" for="c-39173986">[2 more]</label></div><br/><div class="children"><div class="content">Impressive. Web was very primitive back then compared to how it is today. I think there was no flex, no grids, no ESM modules even.<p>It might not sound impressive in 2024 but back then, it was a huge deal. Very daring to even attempt something like that IMHO.<p>It was a time of YUI, jQuery, ExtJS, script.aculo.us and such.</div><br/><div id="39174126" class="c"><input type="checkbox" id="c-39174126" checked=""/><div class="controls bullet"><span class="by">toyg</span><span>|</span><a href="#39173832">root</a><span>|</span><a href="#39173986">parent</a><span>|</span><a href="#39173908">next</a><span>|</span><label class="collapse" for="c-39174126">[-]</label><label class="expand" for="c-39174126">[1 more]</label></div><br/><div class="children"><div class="content">QML pre-dates it by a year or so, it&#x27;s basically in the same vein. Everyone wanted to co-opt web-devs for desktop development at that point.</div><br/></div></div></div></div></div></div><div id="39173908" class="c"><input type="checkbox" id="c-39173908" checked=""/><div class="controls bullet"><span class="by">troupo</span><span>|</span><a href="#39173832">parent</a><span>|</span><a href="#39173857">prev</a><span>|</span><a href="#39174216">next</a><span>|</span><label class="collapse" for="c-39173908">[-]</label><label class="expand" for="c-39173908">[3 more]</label></div><br/><div class="children"><div class="content">I think qbittorrent still uses that for its web ui</div><br/><div id="39174169" class="c"><input type="checkbox" id="c-39174169" checked=""/><div class="controls bullet"><span class="by">steve_rambo</span><span>|</span><a href="#39173832">root</a><span>|</span><a href="#39173908">parent</a><span>|</span><a href="#39174216">next</a><span>|</span><label class="collapse" for="c-39174169">[-]</label><label class="expand" for="c-39174169">[2 more]</label></div><br/><div class="children"><div class="content">Not really. qBittorent is built on Qt (thus the prefix), and has a hand-rolled webui in pure html + css + js (with a couple of helper libraries, but no heavy frameworks):<p><a href="https:&#x2F;&#x2F;github.com&#x2F;qbittorrent&#x2F;qBittorrent&#x2F;tree&#x2F;master&#x2F;src&#x2F;webui&#x2F;www">https:&#x2F;&#x2F;github.com&#x2F;qbittorrent&#x2F;qBittorrent&#x2F;tree&#x2F;master&#x2F;src&#x2F;w...</a></div><br/><div id="39174215" class="c"><input type="checkbox" id="c-39174215" checked=""/><div class="controls bullet"><span class="by">troupo</span><span>|</span><a href="#39173832">root</a><span>|</span><a href="#39174169">parent</a><span>|</span><a href="#39174216">next</a><span>|</span><label class="collapse" for="c-39174215">[-]</label><label class="expand" for="c-39174215">[1 more]</label></div><br/><div class="children"><div class="content">Kudos to them then. It&#x27;s really well done</div><br/></div></div></div></div></div></div></div></div><div id="39174216" class="c"><input type="checkbox" id="c-39174216" checked=""/><div class="controls bullet"><span class="by">sim7c00</span><span>|</span><a href="#39173832">prev</a><span>|</span><a href="#39174154">next</a><span>|</span><label class="collapse" for="c-39174216">[-]</label><label class="expand" for="c-39174216">[1 more]</label></div><br/><div class="children"><div class="content">looks like so much fun workin on this :) cool stuff.
When i read about the anti-aliasing i thought nice, maybe signed distance fields will work just as nice for font rendering at arbitrary scales as in game engines... (Valve had a nice paper out there on this). there&#x27;s lots of cool trickery in game renderers in UI code and for things like rendering decals that might be nice in gui code too.</div><br/></div></div><div id="39174154" class="c"><input type="checkbox" id="c-39174154" checked=""/><div class="controls bullet"><span class="by">enriquto</span><span>|</span><a href="#39174216">prev</a><span>|</span><a href="#39174048">next</a><span>|</span><label class="collapse" for="c-39174154">[-]</label><label class="expand" for="c-39174154">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love to see an ansi text renderer, to be able to run gtk programs inside my xterm (optionally, with some sixel thrown in...).</div><br/></div></div></div></div></div></div></div></body></html>