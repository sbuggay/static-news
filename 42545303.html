<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735549258664" as="style"/><link rel="stylesheet" href="styles.css?v=1735549258664"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/con-dog/hack_emulator_c">Show HN: WIP NandToTetris Emulator in pure C – logic gates to ALU to CPU to PC</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>purple-leafy</span> | <span>11 comments</span></div><br/><div><div id="42547444" class="c"><input type="checkbox" id="c-42547444" checked=""/><div class="controls bullet"><span class="by">pipes</span><span>|</span><a href="#42545557">next</a><span>|</span><label class="collapse" for="c-42547444">[-]</label><label class="expand" for="c-42547444">[1 more]</label></div><br/><div class="children"><div class="content">I have worked through this book. Well 11 out of the 12 chapters. I learn so much from it.<p>As an extra exercise for the reader, it suggests connecting it to the internet somehow. I&#x27;ve no idea how I would do this and I really wish they&#x27;d add it as a proper chapter.</div><br/></div></div><div id="42545557" class="c"><input type="checkbox" id="c-42545557" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#42547444">prev</a><span>|</span><a href="#42546781">next</a><span>|</span><label class="collapse" for="c-42545557">[-]</label><label class="expand" for="c-42545557">[1 more]</label></div><br/><div class="children"><div class="content">Open for contribution, its very simple code, and adding some testing logic would really help! I&#x27;m happy to guide and work with anyone on how to do this :)<p>A really simple way to start contributing would be to write some truth table tests for the nand_gate, then the other gates too.<p>EG: For the NAND gate, it would be as simple as the following (pseudocode):<p><pre><code>    &#x2F;* TRUTH TABLE
     * | a | b | out |
     * ---------------
     * | 0 | 0 |  1  |
     * | 0 | 1 |  1  |
     * | 1 | 0 |  1  |
     * | 1 | 1 |  0  |
     *&#x2F;
    
    &#x2F;&#x2F; Define gate
    Nand nand_instance;
    
    &#x2F;&#x2F; Set inputs to either 0 or 1
    nand_instance.input.a = 0;
    nand_instance.input.b = 0;

    &#x2F;&#x2F; Process logic
    nand_gate(&amp;nand_instance);

    &#x2F;&#x2F; Check output is correct
    if (nand_instance.output.out == 1)
    {
      &#x2F;&#x2F; PASSED
    }
    else
    {
      &#x2F;&#x2F; FAILED
    }
</code></pre>
Oh and for anyone who looks at this sort of low level project (hardware etc) and feels its outside their ability, its not!<p>I say this because thats how I have always felt seeing such projects.<p>Its actually very, very simple code to understand and start yourself, and working through the NandToTetris course, you could probably do better than my code within a few days.<p>You could write such an emulator in any programming language</div><br/></div></div><div id="42546781" class="c"><input type="checkbox" id="c-42546781" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#42545557">prev</a><span>|</span><a href="#42545539">next</a><span>|</span><label class="collapse" for="c-42546781">[-]</label><label class="expand" for="c-42546781">[2 more]</label></div><br/><div class="children"><div class="content">You may want to take a look at hardware definition languages like Verilog, if you haven&#x27;t before. They&#x27;re designed for this sort of thing.<p>(If you want to do your own thing that&#x27;s fine too - just wanted to make sure you&#x27;re aware of what&#x27;s out there.)</div><br/><div id="42546880" class="c"><input type="checkbox" id="c-42546880" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#42546781">parent</a><span>|</span><a href="#42545539">next</a><span>|</span><label class="collapse" for="c-42546880">[-]</label><label class="expand" for="c-42546880">[1 more]</label></div><br/><div class="children"><div class="content">Thanks aware of Verilog, I was thinking of using either Verilog or VHDL as a second repo to build this emulator with an FPGA in either of those languages<p>Second project idea</div><br/></div></div></div></div><div id="42545539" class="c"><input type="checkbox" id="c-42545539" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#42546781">prev</a><span>|</span><a href="#42546087">next</a><span>|</span><label class="collapse" for="c-42545539">[-]</label><label class="expand" for="c-42545539">[3 more]</label></div><br/><div class="children"><div class="content">For anyone who wants to challenge themselves to better understand the computers we use every day, I highly recommend the NandToTetris course [0]<p>I have learnt more about computers in 2 weeks of this course, than years of software development.<p>Particularly if you are a web-developer, I challenge you to look deeper into PC architectures and low-level programming.<p>C is a great language to get started with.<p>After I build this project, I want to move on to a more powerful emulator (maybe a GameBoy or similar, but probably starting at the CPU level rather than the logic gate level!)<p>[0] - <a href="https:&#x2F;&#x2F;www.nand2tetris.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.nand2tetris.org&#x2F;</a></div><br/><div id="42545992" class="c"><input type="checkbox" id="c-42545992" checked=""/><div class="controls bullet"><span class="by">sourcepluck</span><span>|</span><a href="#42545539">parent</a><span>|</span><a href="#42546087">next</a><span>|</span><label class="collapse" for="c-42545992">[-]</label><label class="expand" for="c-42545992">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m waiting on &quot;Code&quot; by Petzold to arrive, which I&#x27;m hoping will scratch a similar itch, but this seems like a really great way to do it! The nand2tetris course seems so very great. Emulating it all in C sounds fun.</div><br/><div id="42546598" class="c"><input type="checkbox" id="c-42546598" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#42545539">root</a><span>|</span><a href="#42545992">parent</a><span>|</span><a href="#42546087">next</a><span>|</span><label class="collapse" for="c-42546598">[-]</label><label class="expand" for="c-42546598">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve read that one in the past, very good book! That looks at electrical circuits as the starting piece.<p>You could definitely do the Nand2Tetris course alongside :)</div><br/></div></div></div></div></div></div><div id="42546087" class="c"><input type="checkbox" id="c-42546087" checked=""/><div class="controls bullet"><span class="by">signa11</span><span>|</span><a href="#42545539">prev</a><span>|</span><label class="collapse" for="c-42546087">[-]</label><label class="expand" for="c-42546087">[3 more]</label></div><br/><div class="children"><div class="content">are there plans to add gate level propagation delay as well ? that is one thing that i find missing, and would push things closer to reality perhaps ?<p>fwiw, i did the nand2tetris from coursera, and it is indeed great fun.</div><br/><div id="42546608" class="c"><input type="checkbox" id="c-42546608" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#42546087">parent</a><span>|</span><label class="collapse" for="c-42546608">[-]</label><label class="expand" for="c-42546608">[2 more]</label></div><br/><div class="children"><div class="content">I can look into it, but may be out of scope for my first run. There will be a clock dependance though for sequential logic (rising edge etc)</div><br/><div id="42547183" class="c"><input type="checkbox" id="c-42547183" checked=""/><div class="controls bullet"><span class="by">signa11</span><span>|</span><a href="#42546087">root</a><span>|</span><a href="#42546608">parent</a><span>|</span><label class="collapse" for="c-42547183">[-]</label><label class="expand" for="c-42547183">[1 more]</label></div><br/><div class="children"><div class="content">yup exactly ! not even that, if somehow power-dissipation can also be done, then eventually all of it paves the way to have actual &quot;place-and-route&quot; thingies running :o) !<p>not for the faint-of-heart though.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>