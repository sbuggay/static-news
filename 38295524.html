<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1700211657985" as="style"/><link rel="stylesheet" href="styles.css?v=1700211657985"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://spritely.institute/news/introducing-ocapn-interoperable-capabilities-over-the-network.html">OCapN, Interoperable Capabilities over the Network</a>Â <span class="domain">(<a href="https://spritely.institute">spritely.institute</a>)</span></div><div class="subtext"><span>davexunit</span> | <span>14 comments</span></div><br/><div><div id="38300248" class="c"><input type="checkbox" id="c-38300248" checked=""/><div class="controls bullet"><span class="by">keeganpoppen</span><span>|</span><a href="#38295897">next</a><span>|</span><label class="collapse" for="c-38300248">[-]</label><label class="expand" for="c-38300248">[1 more]</label></div><br/><div class="children"><div class="content">...ocapn, my capn...</div><br/></div></div><div id="38295897" class="c"><input type="checkbox" id="c-38295897" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#38300248">prev</a><span>|</span><a href="#38296056">next</a><span>|</span><label class="collapse" for="c-38295897">[-]</label><label class="expand" for="c-38295897">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s ucan too, which fills some similar-ish roles. It&#x27;s definitely not quite as comprehensive &amp; featureful as ocapn, but worth mentioning. <a href="https:&#x2F;&#x2F;ucan.xyz&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;ucan.xyz&#x2F;</a></div><br/><div id="38299906" class="c"><input type="checkbox" id="c-38299906" checked=""/><div class="controls bullet"><span class="by">dannyobrien</span><span>|</span><a href="#38295897">parent</a><span>|</span><a href="#38296056">next</a><span>|</span><label class="collapse" for="c-38299906">[-]</label><label class="expand" for="c-38299906">[1 more]</label></div><br/><div class="children"><div class="content">The ucan folks are definitely adjacent to, and working with, the Spritely researchers.</div><br/></div></div></div></div><div id="38296056" class="c"><input type="checkbox" id="c-38296056" checked=""/><div class="controls bullet"><span class="by">dlahoda</span><span>|</span><a href="#38295897">prev</a><span>|</span><label class="collapse" for="c-38296056">[-]</label><label class="expand" for="c-38296056">[10 more]</label></div><br/><div class="children"><div class="content">comparison with capnproto?</div><br/><div id="38296219" class="c"><input type="checkbox" id="c-38296219" checked=""/><div class="controls bullet"><span class="by">ratmice</span><span>|</span><a href="#38296056">parent</a><span>|</span><a href="#38296107">next</a><span>|</span><label class="collapse" for="c-38296219">[-]</label><label class="expand" for="c-38296219">[2 more]</label></div><br/><div class="children"><div class="content">If you look at <a href="https:&#x2F;&#x2F;ocapn.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;ocapn.org&#x2F;</a> (linked within the original submission,
The group is comprised of:<p>* Agoric<p>* The Spritely Institute<p>* Cap&#x27;n Proto<p>* Many other independent experts and interested parties<p>from Cap&#x27;n Proto I thought that zenhack was the primary participant in ocapn, but see some other familiar names from Cap&#x27;n Proto community.  Essentially it&#x27;s trying to create a common protocol for these diverse implementations which all have similarities because they happen to share a common heritage.  At least that is my understanding.</div><br/><div id="38296473" class="c"><input type="checkbox" id="c-38296473" checked=""/><div class="controls bullet"><span class="by">ocdtrekkie</span><span>|</span><a href="#38296056">root</a><span>|</span><a href="#38296219">parent</a><span>|</span><a href="#38296107">next</a><span>|</span><label class="collapse" for="c-38296473">[-]</label><label class="expand" for="c-38296473">[1 more]</label></div><br/><div class="children"><div class="content">The expectation I think that everyone is currently operating under is that Spritely and Agoric will try to evolve into pretty directly speaking OCapN, and Cap&#x27;n Proto will ideally be able to communicate with OCapN via a bridge of some flavor, as Cap&#x27;n Proto is too widely established to shift its behavior much towards the direction Spritely and Agoric are going.<p>Unfortunately with Ian passing away, the Cap&#x27;n Proto side isn&#x27;t seeing a ton of attention, though several involved parties are familiar with Cap&#x27;n Proto and reference it in discussions with regards to maintaining similarities and hopefully bridge-ability.</div><br/></div></div></div></div><div id="38296107" class="c"><input type="checkbox" id="c-38296107" checked=""/><div class="controls bullet"><span class="by">couchand</span><span>|</span><a href="#38296056">parent</a><span>|</span><a href="#38296219">prev</a><span>|</span><a href="#38296189">next</a><span>|</span><label class="collapse" for="c-38296107">[-]</label><label class="expand" for="c-38296107">[5 more]</label></div><br/><div class="children"><div class="content">That was my first question, too.  From the fine article:<p>&gt; We&#x27;ve drawn from and built upon the contributions of many others (the E programming language, Agoric, and Cap&#x27;n Proto to name a few) and is actively being shaped by input from many developers of those projects.<p>The feature list includes distributed garbage collection, from what I understand that&#x27;s out of scope of capnproto rpc.<p>Maybe Kenton is around and can add more details?</div><br/><div id="38296298" class="c"><input type="checkbox" id="c-38296298" checked=""/><div class="controls bullet"><span class="by">kentonv</span><span>|</span><a href="#38296056">root</a><span>|</span><a href="#38296107">parent</a><span>|</span><a href="#38296173">next</a><span>|</span><label class="collapse" for="c-38296298">[-]</label><label class="expand" for="c-38296298">[2 more]</label></div><br/><div class="children"><div class="content">Ian &quot;zenhack&quot; Denhardt, a major Cap&#x27;n Proto contributor, was working closely with the ocapn effort to try to ensure some level of compatibility. Tragically, he passed away in July, leaving that effort (and so much else) in limbo. Unfortunately I have not had the bandwidth to keep up on ocapn, so I can&#x27;t really comment much myself.<p>------------<p>I&#x27;ll say a bit about &quot;distributed garbage collection&quot;. I&#x27;m not caught up on what, exactly, the ocapn people mean here. E always advertised support for &quot;distributed <i>acyclic</i> garbage collection&quot;, which in practice meant reference counting. Cap&#x27;n Proto also implements reference counting in exactly the same way. But I personally wouldn&#x27;t call it &quot;garbage collection&quot; if it can&#x27;t collect cycles. Moreover, Cap&#x27;n Proto applications commonly expect deterministic destruction when references are dropped -- they wouldn&#x27;t play well with GCs that might arbitrarily delay collection.<p>My personal take is that distributed GC is simply not feasible. Garbage collection algorithms heavily lean on heuristics and amortization to achieve any kind of performance. In particular, most GCs will only actually execute when they detect &quot;memory pressure&quot;, i.e., that the system is in need of freeing up some memory. If the system doesn&#x27;t need memory, why waste time finding some? However, in a distributed system, it can easily be the case that the <i>local</i> system has plenty of memory, but is holding on to a reference to a <i>remote</i> object living on a system that <i>does</i> need memory. The reference may no longer be reachable. But, the local GC isn&#x27;t going to run because it doesn&#x27;t perceive a need. Meanwhile, the remote system has no way to know that the object it is hosting could be collected.<p>To solve problems like this, you cannot just have each machine running its own local GC, you must have a single <i>distributed</i> GC that can respond to memory pressure <i>anywhere</i> by triggering sweeps of the entire distributed object graph. This seems extremely difficult to design, far more so if the systems involved do not trust each other.<p>Maybe it&#x27;s possible, but certainly there&#x27;s quite a lot of research needed, and last I knew the ocapn people hadn&#x27;t actually demonstrated anything that works. But my personal take is that GC in general is a terrible fit for systems programming, because it is so bad at handling any kind of external resource, which is what systems programming is all about. Cap&#x27;n Proto is unlikely to support anything more than reference counting.</div><br/><div id="38297968" class="c"><input type="checkbox" id="c-38297968" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#38296056">root</a><span>|</span><a href="#38296298">parent</a><span>|</span><a href="#38296173">next</a><span>|</span><label class="collapse" for="c-38297968">[-]</label><label class="expand" for="c-38297968">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I always thought of distributed GC as a failed research idea from the 80&#x27;s and 90&#x27;s, kind of like transparent remote objects (as opposed to messages)<p>I&#x27;d be interested to hear otherwise.  And some details about a deployment</div><br/></div></div></div></div><div id="38296173" class="c"><input type="checkbox" id="c-38296173" checked=""/><div class="controls bullet"><span class="by">dlahoda</span><span>|</span><a href="#38296056">root</a><span>|</span><a href="#38296107">parent</a><span>|</span><a href="#38296298">prev</a><span>|</span><a href="#38296189">next</a><span>|</span><label class="collapse" for="c-38296173">[-]</label><label class="expand" for="c-38296173">[2 more]</label></div><br/><div class="children"><div class="content">agoric is ibc. i know ibc app layer and partially core layer. how at all, all things will work together.<p>for example timeouts in ibc, client cannot timeout if server is dead for example. ibc goes hand in hand with identity and sagas.</div><br/><div id="38299737" class="c"><input type="checkbox" id="c-38299737" checked=""/><div class="controls bullet"><span class="by">omginternets</span><span>|</span><a href="#38296056">root</a><span>|</span><a href="#38296173">parent</a><span>|</span><a href="#38296189">next</a><span>|</span><label class="collapse" for="c-38299737">[-]</label><label class="expand" for="c-38299737">[1 more]</label></div><br/><div class="children"><div class="content">IBC?</div><br/></div></div></div></div></div></div><div id="38296189" class="c"><input type="checkbox" id="c-38296189" checked=""/><div class="controls bullet"><span class="by">BCM43</span><span>|</span><a href="#38296056">parent</a><span>|</span><a href="#38296107">prev</a><span>|</span><a href="#38296931">next</a><span>|</span><label class="collapse" for="c-38296189">[-]</label><label class="expand" for="c-38296189">[1 more]</label></div><br/><div class="children"><div class="content">I think Capt&#x27;n Proto is similar to CapTP, one of the three draft specifications. There&#x27;s talk of combining them and a comparison here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Agoric&#x2F;agoric-sdk&#x2F;issues&#x2F;1827#issuecomment-701540042">https:&#x2F;&#x2F;github.com&#x2F;Agoric&#x2F;agoric-sdk&#x2F;issues&#x2F;1827#issuecommen...</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>