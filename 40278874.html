<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715158874819" as="style"/><link rel="stylesheet" href="styles.css?v=1715158874819"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://matan-h.com/common-google-xss">Common Google XSS</a> <span class="domain">(<a href="https://matan-h.com">matan-h.com</a>)</span></div><div class="subtext"><span>matan-h</span> | <span>10 comments</span></div><br/><div><div id="40295697" class="c"><input type="checkbox" id="c-40295697" checked=""/><div class="controls bullet"><span class="by">yagop</span><span>|</span><a href="#40295276">next</a><span>|</span><label class="collapse" for="c-40295697">[-]</label><label class="expand" for="c-40295697">[3 more]</label></div><br/><div class="children"><div class="content">What is the &quot;Easter egg in this article&quot;?</div><br/><div id="40295812" class="c"><input type="checkbox" id="c-40295812" checked=""/><div class="controls bullet"><span class="by">russianjoe</span><span>|</span><a href="#40295697">parent</a><span>|</span><a href="#40295791">next</a><span>|</span><label class="collapse" for="c-40295812">[-]</label><label class="expand" for="c-40295812">[1 more]</label></div><br/><div class="children"><div class="content">go here and click the button<p><a href="https:&#x2F;&#x2F;matan-h.com&#x2F;common-google-xss?continue=javascript:alert(document.domain%2B%22%20just%20got%20hacked%22)" rel="nofollow">https:&#x2F;&#x2F;matan-h.com&#x2F;common-google-xss?continue=javascript:al...</a></div><br/></div></div><div id="40295791" class="c"><input type="checkbox" id="c-40295791" checked=""/><div class="controls bullet"><span class="by">VPenkov</span><span>|</span><a href="#40295697">parent</a><span>|</span><a href="#40295812">prev</a><span>|</span><a href="#40295276">next</a><span>|</span><label class="collapse" for="c-40295791">[-]</label><label class="expand" for="c-40295791">[1 more]</label></div><br/><div class="children"><div class="content">Spoiler alert:<p>It has an XSS vulnerability baked in - if you add a `?continue=javascript:alert(&#x27;Hi&#x27;)`, you&#x27;ll see a button below the easter egg text</div><br/></div></div></div></div><div id="40295276" class="c"><input type="checkbox" id="c-40295276" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#40295697">prev</a><span>|</span><a href="#40294980">next</a><span>|</span><label class="collapse" for="c-40295276">[-]</label><label class="expand" for="c-40295276">[1 more]</label></div><br/><div class="children"><div class="content">That’s awesome, I hope to collect a Google bug bounty one day</div><br/></div></div><div id="40294980" class="c"><input type="checkbox" id="c-40294980" checked=""/><div class="controls bullet"><span class="by">acer4666</span><span>|</span><a href="#40295276">prev</a><span>|</span><label class="collapse" for="c-40294980">[-]</label><label class="expand" for="c-40294980">[5 more]</label></div><br/><div class="children"><div class="content">Does this JavaScript run in the same origin as the Google domain? Surely this is just an open redirect rather than xss?</div><br/><div id="40295232" class="c"><input type="checkbox" id="c-40295232" checked=""/><div class="controls bullet"><span class="by">thephyber</span><span>|</span><a href="#40294980">parent</a><span>|</span><a href="#40295196">next</a><span>|</span><label class="collapse" for="c-40295232">[-]</label><label class="expand" for="c-40295232">[1 more]</label></div><br/><div class="children"><div class="content">Based on the payload the author describes, it <i>does</i> look like an XSS.<p>The server response probably injected the “continue” parameter into a &lt;meta http-equiv=“refresh” content=”0: url=…” &#x2F;&gt;. Google’s bug bounty team likely would have adjusted the reward downward if it was not an XSS.</div><br/></div></div><div id="40295196" class="c"><input type="checkbox" id="c-40295196" checked=""/><div class="controls bullet"><span class="by">notachatbot1234</span><span>|</span><a href="#40294980">parent</a><span>|</span><a href="#40295232">prev</a><span>|</span><a href="#40295247">next</a><span>|</span><label class="collapse" for="c-40295196">[-]</label><label class="expand" for="c-40295196">[1 more]</label></div><br/><div class="children"><div class="content">&gt; because it’s really an openredirect-&gt;xss by the book.<p>says the article. If you disagree, could you elaborate why?</div><br/></div></div><div id="40295247" class="c"><input type="checkbox" id="c-40295247" checked=""/><div class="controls bullet"><span class="by">AndrewThrowaway</span><span>|</span><a href="#40294980">parent</a><span>|</span><a href="#40295196">prev</a><span>|</span><label class="collapse" for="c-40295247">[-]</label><label class="expand" for="c-40295247">[2 more]</label></div><br/><div class="children"><div class="content">From article:<p>So I tried placing there continue=javascript:alert(document.domain), and… It works!<p>What do you think document.domain returns in this case?</div><br/><div id="40295432" class="c"><input type="checkbox" id="c-40295432" checked=""/><div class="controls bullet"><span class="by">starmilk</span><span>|</span><a href="#40294980">root</a><span>|</span><a href="#40295247">parent</a><span>|</span><label class="collapse" for="c-40295432">[-]</label><label class="expand" for="c-40295432">[1 more]</label></div><br/><div class="children"><div class="content">document.domain returns the current domain used in the document because no redirect occurred. Similar to if you typed it in your address bar right now, it should show you the HN domain.<p>It&#x27;s commonly used as a placeholder in an alert-box XSS PoC. Weaponising this into an actual exploit could have been a fetch(), css inclusion, or enumerating localstorage.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>