<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1703494858722" as="style"/><link rel="stylesheet" href="styles.css?v=1703494858722"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.brainonfire.net/blog/2022/04/11/what-is-parser-mismatch/">What is a parser mismatch vulnerability? (2022)</a>Â <span class="domain">(<a href="https://www.brainonfire.net">www.brainonfire.net</a>)</span></div><div class="subtext"><span>subset</span> | <span>14 comments</span></div><br/><div><div id="38758405" class="c"><input type="checkbox" id="c-38758405" checked=""/><div class="controls bullet"><span class="by">muldvarp</span><span>|</span><a href="#38758096">next</a><span>|</span><label class="collapse" for="c-38758405">[-]</label><label class="expand" for="c-38758405">[4 more]</label></div><br/><div class="children"><div class="content">I did research on parser differentials for my bachelor&#x27;s thesis. My initial hope was that I would find a few mismatches for formats without a formal specification. I found mismatches for _every single_ pair of parsers I looked at and that included formats with formal specifications. My personal takeaway was &quot;If you use one parser for validation and another parser for evaluation, you&#x27;re fucked. No exceptions.&quot;</div><br/><div id="38760930" class="c"><input type="checkbox" id="c-38760930" checked=""/><div class="controls bullet"><span class="by">rompledorph</span><span>|</span><a href="#38758405">parent</a><span>|</span><a href="#38758527">next</a><span>|</span><label class="collapse" for="c-38760930">[-]</label><label class="expand" for="c-38760930">[1 more]</label></div><br/><div class="children"><div class="content">Totally agree! Sounds like your thesis is worth a read. Can you share a link?<p>thrums.shrimps.0m@icloud.com if you do not want to share publicly</div><br/></div></div><div id="38758527" class="c"><input type="checkbox" id="c-38758527" checked=""/><div class="controls bullet"><span class="by">TimSchumann</span><span>|</span><a href="#38758405">parent</a><span>|</span><a href="#38760930">prev</a><span>|</span><a href="#38759054">next</a><span>|</span><label class="collapse" for="c-38758527">[-]</label><label class="expand" for="c-38758527">[1 more]</label></div><br/><div class="children"><div class="content">Unsurprising.<p>One of my personal pet peeves is websites that use an e-mail parser on the client side which allows a + in e-mail addresses, and then use some other parser somewhere in their chain of things that happen on the back end that does not.<p>Everything fails silently, accounts are created I don&#x27;t have access to, and it generally just sucks.</div><br/></div></div><div id="38759054" class="c"><input type="checkbox" id="c-38759054" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#38758405">parent</a><span>|</span><a href="#38758527">prev</a><span>|</span><a href="#38758096">next</a><span>|</span><label class="collapse" for="c-38759054">[-]</label><label class="expand" for="c-38759054">[1 more]</label></div><br/><div class="children"><div class="content">That is extremely common for formats without extensive and publicly available test suites. Without an easy way to check edge cases, implementations are destined to diverge.</div><br/></div></div></div></div><div id="38758096" class="c"><input type="checkbox" id="c-38758096" checked=""/><div class="controls bullet"><span class="by">SAI_Peregrinus</span><span>|</span><a href="#38758405">prev</a><span>|</span><a href="#38759191">next</a><span>|</span><label class="collapse" for="c-38758096">[-]</label><label class="expand" for="c-38758096">[1 more]</label></div><br/><div class="children"><div class="content">As the article mentions, Postel&#x27;s Law is likely to create vulnerabilities. It makes individual systems more robust, but the whole becomes fragile.</div><br/></div></div><div id="38759191" class="c"><input type="checkbox" id="c-38759191" checked=""/><div class="controls bullet"><span class="by">cjbprime</span><span>|</span><a href="#38758096">prev</a><span>|</span><a href="#38758987">next</a><span>|</span><label class="collapse" for="c-38759191">[-]</label><label class="expand" for="c-38759191">[1 more]</label></div><br/><div class="children"><div class="content">Odd that the article doesn&#x27;t use the more standard term &quot;parser differential&quot;, with &quot;differential fuzzing&quot; as the fuzzing community&#x27;s method for finding those.</div><br/></div></div><div id="38758987" class="c"><input type="checkbox" id="c-38758987" checked=""/><div class="controls bullet"><span class="by">ngneer</span><span>|</span><a href="#38759191">prev</a><span>|</span><a href="#38758464">next</a><span>|</span><label class="collapse" for="c-38758987">[-]</label><label class="expand" for="c-38758987">[1 more]</label></div><br/><div class="children"><div class="content">This is a LANGSEC concept. A broader survey can be found at: <a href="https:&#x2F;&#x2F;www.computer.org&#x2F;csdl&#x2F;proceedings-article&#x2F;spw&#x2F;2023&#x2F;123600a105&#x2F;1P5ZnKk745O" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.computer.org&#x2F;csdl&#x2F;proceedings-article&#x2F;spw&#x2F;2023&#x2F;1...</a></div><br/></div></div><div id="38758464" class="c"><input type="checkbox" id="c-38758464" checked=""/><div class="controls bullet"><span class="by">Turing_Machine</span><span>|</span><a href="#38758987">prev</a><span>|</span><a href="#38757835">next</a><span>|</span><label class="collapse" for="c-38758464">[-]</label><label class="expand" for="c-38758464">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Well, these browsers &quot;helpfully&quot; fix the URL to change backslashes into regular forward slashes, I suppose because people sometimes type in URLs and get their forward and back slashes confused.<p>More likely because Windows has historically used \ rather than the &#x2F; that&#x27;s standard in Unixish systems. Windows people are used to typing \, so it&#x27;s indeed somewhat helpful for the browser to accept either (e.g., in file:&#x2F;&#x2F; URLs).</div><br/></div></div><div id="38757835" class="c"><input type="checkbox" id="c-38757835" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#38758464">prev</a><span>|</span><a href="#38743238">next</a><span>|</span><label class="collapse" for="c-38757835">[-]</label><label class="expand" for="c-38757835">[1 more]</label></div><br/><div class="children"><div class="content">Usually? a result of the parser not having a machine-readable specification.<p>For parsing proper, `bison --xml` is useful if you&#x27;re allergic to code-generation. I don&#x27;t have an equivalent for lexing.</div><br/></div></div><div id="38743238" class="c"><input type="checkbox" id="c-38743238" checked=""/><div class="controls bullet"><span class="by">sylware</span><span>|</span><a href="#38757835">prev</a><span>|</span><label class="collapse" for="c-38743238">[-]</label><label class="expand" for="c-38743238">[4 more]</label></div><br/><div class="children"><div class="content">Usually, some not verified and cleaned enough external input text managed to get into some complex and often brain damaged text parser (printf,sql,etc).</div><br/><div id="38757928" class="c"><input type="checkbox" id="c-38757928" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#38743238">parent</a><span>|</span><label class="collapse" for="c-38757928">[-]</label><label class="expand" for="c-38757928">[3 more]</label></div><br/><div class="children"><div class="content">What is brain damaged about SQL parsing?<p>But this is not about injection. This is about parsing mismatch, when you use different parsers that produce different results for the same thing. The article is about URLs, curl&#x27;s author has a good article on this too and this is the (biggest?) motivation behind providing an URL parsing API in libcurl.<p><a href="https:&#x2F;&#x2F;daniel.haxx.se&#x2F;blog&#x2F;2022&#x2F;01&#x2F;10&#x2F;dont-mix-url-parsers&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;daniel.haxx.se&#x2F;blog&#x2F;2022&#x2F;01&#x2F;10&#x2F;dont-mix-url-parsers&#x2F;</a></div><br/><div id="38758269" class="c"><input type="checkbox" id="c-38758269" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#38743238">root</a><span>|</span><a href="#38757928">parent</a><span>|</span><label class="collapse" for="c-38758269">[-]</label><label class="expand" for="c-38758269">[2 more]</label></div><br/><div class="children"><div class="content">For bad historical reasons, every SQL implementation has a completely bogus and wrong way to do string and identifier lexing.  Nowadays most of them <i>can</i> be told to be more standard (no backslashes, single quotes are for strings, double quotes are for <i>identifiers</i>, repeat the quote to escape) but the default is usually still wrong.<p>(and that&#x27;s ignoring extensions)<p>Postgres is sanest but even it casefolds in the wrong direction.</div><br/><div id="38759833" class="c"><input type="checkbox" id="c-38759833" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#38743238">root</a><span>|</span><a href="#38758269">parent</a><span>|</span><label class="collapse" for="c-38759833">[-]</label><label class="expand" for="c-38759833">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but even it casefolds in the wrong direction<p>I&#x27;d say that it&#x27;s the only one that casefolds on the right direction.<p>We don&#x27;t need to keep using the upper-case only idioms from the 80&#x27;s. We can have legible text nowadays. (And yes, it&#x27;s non-standard, but there are plenty of things that are best done by ignoring the SQL standard.)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>