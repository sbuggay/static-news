<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724403664680" as="style"/><link rel="stylesheet" href="styles.css?v=1724403664680"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://terinstock.com/post/2024/08/When-Serial-Isnt-RS-232-and-Geocaching-with-the-Garmin-GPS-95/">When Serial Isn&#x27;t RS-232, Geocaching with the Garmin GPS 95</a> <span class="domain">(<a href="https://terinstock.com">terinstock.com</a>)</span></div><div class="subtext"><span>caust1c</span> | <span>21 comments</span></div><br/><div><div id="41325118" class="c"><input type="checkbox" id="c-41325118" checked=""/><div class="controls bullet"><span class="by">ryandrake</span><span>|</span><a href="#41325373">next</a><span>|</span><label class="collapse" for="c-41325118">[-]</label><label class="expand" for="c-41325118">[12 more]</label></div><br/><div class="children"><div class="content">Nice real world example of figuring out an unknown interface. There are plenty of different electrical interfaces for transmitting serial data, and they often use the same physical connector, so you definitely have to know what the device is outputting. For reverse-engineering an unknown device, you often will need a scope. If you&#x27;re lucky, you&#x27;ll be facing an interface that is documented, like RS-232, RS-422, or RS-485. If you&#x27;re unlucky, you need to rely on experience, knowledge and familiarity like OP did. Only once you have the electrical signal figured out, you can move on to baud, word length, stop bits, parity, and so on, and then decoding the actual data.</div><br/><div id="41325175" class="c"><input type="checkbox" id="c-41325175" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41325118">parent</a><span>|</span><a href="#41325373">next</a><span>|</span><label class="collapse" for="c-41325175">[-]</label><label class="expand" for="c-41325175">[11 more]</label></div><br/><div class="children"><div class="content">The thing I’ve gotten most confused about historically is whether RS232 is voltage levels or a protocol</div><br/><div id="41325241" class="c"><input type="checkbox" id="c-41325241" checked=""/><div class="controls bullet"><span class="by">terinjokes</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325175">parent</a><span>|</span><a href="#41325754">next</a><span>|</span><label class="collapse" for="c-41325241">[-]</label><label class="expand" for="c-41325241">[6 more]</label></div><br/><div class="children"><div class="content">RS-232 defines the levels, the different signals, and the physical connectors. However, baud rate, parity, stop bits, and the like are at a &quot;level&quot; above RS-232, and so outside its scope.</div><br/><div id="41325739" class="c"><input type="checkbox" id="c-41325739" checked=""/><div class="controls bullet"><span class="by">wrs</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325241">parent</a><span>|</span><a href="#41325328">next</a><span>|</span><label class="collapse" for="c-41325739">[-]</label><label class="expand" for="c-41325739">[1 more]</label></div><br/><div class="children"><div class="content">Does that framing even have a real official name? It’s usually handwaved around as “async serial” or “UART”.<p>And remember, with whatever it’s called, in addition to sending characters of various bit lengths, you can send a “break”.</div><br/></div></div><div id="41325328" class="c"><input type="checkbox" id="c-41325328" checked=""/><div class="controls bullet"><span class="by">jcrawfordor</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325241">parent</a><span>|</span><a href="#41325739">prev</a><span>|</span><a href="#41325660">next</a><span>|</span><label class="collapse" for="c-41325328">[-]</label><label class="expand" for="c-41325328">[3 more]</label></div><br/><div class="children"><div class="content">We also have to bear in mind that the computer industry often uses &quot;RS-232&quot; in reference to something that uses neither the connector nor the signaling levels defined by RS-232, something we have IBM to thank for.</div><br/><div id="41325700" class="c"><input type="checkbox" id="c-41325700" checked=""/><div class="controls bullet"><span class="by">metaphor</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325328">parent</a><span>|</span><a href="#41325660">next</a><span>|</span><label class="collapse" for="c-41325700">[-]</label><label class="expand" for="c-41325700">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>...something we have IBM to thank for.</i><p>Egregious rent seeking grifters at TIA demanding $165 per half-assed scanned copy[1] of a near 3-decade-old document that they couldn&#x27;t even be bothered to properly OCR, and somehow IBM gets to shoulder the blame for the interoperability clusterfuck that ensued as everyone and their mother was profiting off their innovation?<p>Oh, come off it.<p>[1] <a href="https:&#x2F;&#x2F;store.accuristech.com&#x2F;tia&#x2F;standards&#x2F;tia-tia-232-f?product_id=2594289" rel="nofollow">https:&#x2F;&#x2F;store.accuristech.com&#x2F;tia&#x2F;standards&#x2F;tia-tia-232-f?pr...</a></div><br/><div id="41327116" class="c"><input type="checkbox" id="c-41327116" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325700">parent</a><span>|</span><a href="#41325660">next</a><span>|</span><label class="collapse" for="c-41327116">[-]</label><label class="expand" for="c-41327116">[1 more]</label></div><br/><div class="children"><div class="content">Yet another fine example showing why standards should be at least <i>readable</i> to everyone for free, eh?<p>The general public at large already pays huge amounts of money to various standardization organizations, be it ISO, IEC, DIN, UL, whatever. The resulting works should be public domain, similar to patents.</div><br/></div></div></div></div></div></div><div id="41325660" class="c"><input type="checkbox" id="c-41325660" checked=""/><div class="controls bullet"><span class="by">cwillu</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325241">parent</a><span>|</span><a href="#41325328">prev</a><span>|</span><a href="#41325754">next</a><span>|</span><label class="collapse" for="c-41325660">[-]</label><label class="expand" for="c-41325660">[1 more]</label></div><br/><div class="children"><div class="content">Also number of bits per byte.</div><br/></div></div></div></div><div id="41325754" class="c"><input type="checkbox" id="c-41325754" checked=""/><div class="controls bullet"><span class="by">YZF</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325175">parent</a><span>|</span><a href="#41325241">prev</a><span>|</span><a href="#41325224">next</a><span>|</span><label class="collapse" for="c-41325754">[-]</label><label class="expand" for="c-41325754">[1 more]</label></div><br/><div class="children"><div class="content">The standard defines the electrical characteristics (including voltage levels) and things like connectors and pinouts.</div><br/></div></div><div id="41325224" class="c"><input type="checkbox" id="c-41325224" checked=""/><div class="controls bullet"><span class="by">dgfitz</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325175">parent</a><span>|</span><a href="#41325754">prev</a><span>|</span><a href="#41325373">next</a><span>|</span><label class="collapse" for="c-41325224">[-]</label><label class="expand" for="c-41325224">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.optcore.net&#x2F;difference-between-rs-232-rs-422-and-rs-485&#x2F;#:~:text=What%20is%20the%20difference%20between,the%20single%2Dended%20transmission%20mode" rel="nofollow">https:&#x2F;&#x2F;www.optcore.net&#x2F;difference-between-rs-232-rs-422-and...</a>.<p>Serial is usually ascii, not always but usually. The different types of serial depend on things like duplexity and line noise, or lack thereof.<p>232 is -15v to 15v, 422 is -6 to 6, and 485 is -7 to 12</div><br/><div id="41326257" class="c"><input type="checkbox" id="c-41326257" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325224">parent</a><span>|</span><a href="#41325743">next</a><span>|</span><label class="collapse" for="c-41326257">[-]</label><label class="expand" for="c-41326257">[1 more]</label></div><br/><div class="children"><div class="content">For years the most common use for “serial” would be dialup internet and computer mice (among other peripherals), neither of which would have been primarily ASCII.<p>Not sure what you have in mind by “usually” ASCII, but it’s not the layer that serial links operate at, they’re just a dumb pipe.</div><br/></div></div><div id="41325743" class="c"><input type="checkbox" id="c-41325743" checked=""/><div class="controls bullet"><span class="by">YZF</span><span>|</span><a href="#41325118">root</a><span>|</span><a href="#41325224">parent</a><span>|</span><a href="#41326257">prev</a><span>|</span><a href="#41325373">next</a><span>|</span><label class="collapse" for="c-41325743">[-]</label><label class="expand" for="c-41325743">[1 more]</label></div><br/><div class="children"><div class="content">RS422 and RS485 use the same differential signalling IIRC. The difference between two lines (&gt;some mV &lt;some mV) is what encodes zero or one. There&#x27;s some allowed voltage range defined from ground but it&#x27;s not that level that encodes the signal, it&#x27;s the difference. Running a differential signal over a twisted pair reduces the noise.<p>In RS232, to contrast, the voltage defines the values, +&#x2F;- 12V is also common and I think you can go pretty low while still meeting the standard.<p>ASCII is orthogonal, you can send anything over the serial link.<p>EDIT: apparently 3V-15V are the defined voltage levels (-3V - -15V) and drivers should tolerate up to +&#x2F;-25V.</div><br/></div></div></div></div></div></div></div></div><div id="41325373" class="c"><input type="checkbox" id="c-41325373" checked=""/><div class="controls bullet"><span class="by">firesteelrain</span><span>|</span><a href="#41325118">prev</a><span>|</span><a href="#41325832">next</a><span>|</span><label class="collapse" for="c-41325373">[-]</label><label class="expand" for="c-41325373">[3 more]</label></div><br/><div class="children"><div class="content">I hope GPS receivers have addressed this rollover problem. Not that we will be using GPS receivers made now necessarily over 150 years from now. Garmin GPS 95 was made in 1995. Because it uses the older 10-bit week counter then it causes the device to display incorrect dates after the counter resets every 1024 weeks. Newer GPS systems with the 13-bit week counter don&#x27;t have this problem because they can count weeks for a much longer period (157 years) before needing to reset.<p>I am guessing when GPS was originally designed the designers didn’t anticipate that the 10 but counter would be an issue and&#x2F;or proliferation of these consumer devices.<p>Since they could control their own equipment, maybe they thought the LNAV 10 bit counter was fine.</div><br/><div id="41325921" class="c"><input type="checkbox" id="c-41325921" checked=""/><div class="controls bullet"><span class="by">labcomputer</span><span>|</span><a href="#41325373">parent</a><span>|</span><a href="#41325832">next</a><span>|</span><label class="collapse" for="c-41325921">[-]</label><label class="expand" for="c-41325921">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I am guessing when GPS was originally designed the designers didn’t anticipate that the 10 but counter would be an issue and&#x2F;or proliferation of these consumer devices.<p>Or maybe they just assumed that some other source of information could disambiguate the week number.<p>For example:<p>1. The week rollover interval is almost co-prime with the number of weeks per year.  If the user is given a way to override just the current day-of-month, the full current date and time can probably be disambiguated to within a ~255-year window.  If the user is given a way to override just the current year, the current date and time can be exactly calculated.<p>2. A receiver with non-volatile storage can keep track of the last week number it has seen.  If the week number at the next power-up is less than the previous value, it is likely that at least one week rollover has occurred.  If the receiver is powered on at least once every few years, this would be a fairly reliable way to count the number of rollovers.<p>3. (NV storage again) Leap seconds are added at a rate of roughly 10 per 1024 weeks.  If the number of leap seconds suddenly jumps, that may be a sign that a large amount of time has passed.  This might be used to augment #2 to estimate the number of rollovers that have occurred.  There are some reliability concerns here, as the earth seems to be slowing somewhat.<p>4. (NV storage again) GPS satellites do not (as far as I know) really have enough fuel to change which orbital plane (of the ~6) they are in.  If the set of PRN-plane assignments do not match the assignments from last power-up, it is likely that large amount of time has passed (because it means that some satellites were retired and others launched).<p>All in all, it&#x27;s a relatively minor problem.  Most receivers just hard-code a minimum date in software and assume that they are within 20 years of that.  Most of the time, nobody cares.</div><br/><div id="41326593" class="c"><input type="checkbox" id="c-41326593" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#41325373">root</a><span>|</span><a href="#41325921">parent</a><span>|</span><a href="#41325832">next</a><span>|</span><label class="collapse" for="c-41326593">[-]</label><label class="expand" for="c-41326593">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s possible to brick some GPS units by sending them faked signals that advance the time until the next rollover. Then they&#x27;re permanently stuck in the next epoch, far in the future.</div><br/></div></div></div></div></div></div><div id="41325832" class="c"><input type="checkbox" id="c-41325832" checked=""/><div class="controls bullet"><span class="by">fencepost</span><span>|</span><a href="#41325373">prev</a><span>|</span><a href="#41325123">next</a><span>|</span><label class="collapse" for="c-41325832">[-]</label><label class="expand" for="c-41325832">[1 more]</label></div><br/><div class="children"><div class="content">This takes me back to the days of ordering a custom injection molded 4 pin connector for a Garmin III+ or IV, back in the days when you wouldn&#x27;t just 3D print one and throw in a few pin connectors.</div><br/></div></div><div id="41325123" class="c"><input type="checkbox" id="c-41325123" checked=""/><div class="controls bullet"><span class="by">hypercube33</span><span>|</span><a href="#41325832">prev</a><span>|</span><label class="collapse" for="c-41325123">[-]</label><label class="expand" for="c-41325123">[4 more]</label></div><br/><div class="children"><div class="content">Nice! I just found my TFT color Garmin GPS yesterday that I was looking for during the pandemic but have now forgotten what project I was going to use it for. Maybe I should take it out caching for old times sake.</div><br/><div id="41325438" class="c"><input type="checkbox" id="c-41325438" checked=""/><div class="controls bullet"><span class="by">garciasn</span><span>|</span><a href="#41325123">parent</a><span>|</span><a href="#41325362">next</a><span>|</span><label class="collapse" for="c-41325438">[-]</label><label class="expand" for="c-41325438">[1 more]</label></div><br/><div class="children"><div class="content">I used to cache a ton; but, have only found a handful a year (outside of an annual guys trip with caching friends that has become more about chasing states where we’ve found caches (49 for me; just missing AK)) and hitting breweries.<p>Good times.</div><br/></div></div><div id="41325265" class="c"><input type="checkbox" id="c-41325265" checked=""/><div class="controls bullet"><span class="by">terinjokes</span><span>|</span><a href="#41325123">parent</a><span>|</span><a href="#41325362">prev</a><span>|</span><label class="collapse" for="c-41325265">[-]</label><label class="expand" for="c-41325265">[1 more]</label></div><br/><div class="children"><div class="content">My unit predates GPS units having street maps, but assuming your TFT version does, I believe there are exporters from Open Street Maps that might be cool to try out?</div><br/></div></div></div></div></div></div></div></div></div></body></html>