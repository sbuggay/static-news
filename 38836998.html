<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704186060864" as="style"/><link rel="stylesheet" href="styles.css?v=1704186060864"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/abolinsky/Hook">Show HN: Hook – a simple graphical C/C++ runtime editor</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>fercircularbuf</span> | <span>10 comments</span></div><br/><div><div id="38839296" class="c"><input type="checkbox" id="c-38839296" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#38839043">next</a><span>|</span><label class="collapse" for="c-38839296">[-]</label><label class="expand" for="c-38839296">[1 more]</label></div><br/><div class="children"><div class="content">Interesting! My baseline expectation would be that this wouldn&#x27;t work at all, debugging C++ usually tells me variables have been removed by the optimiser. Perhaps this requires `-O0 -g` or similar to work effectively, which games devs are usually not open to.<p>Optimising IR without dropping debug info is difficult. I don&#x27;t believe it to be intractable, some of the Sony developers are active in improving this for LLVM. Debug info is roughly a bunch of side tables of data from which one can recompute values which were in the original program and are not in the executing one. I would speculate that a compilation mode which treated any degradation of that as a miscompile could be done with minor to no runtime cost, at serious engineering cost.<p>Perhaps easier would be to restructure the program so that specific variables are always available to the debugger. Deliberately hoist them to escaped global variables, roughly.<p>The other interesting line of attack here is a JIT. The students probably don&#x27;t change all the parameters simultaneously. Call graph walk + incremental compilation of parts affected by a given variable is probably tractable. A sibling mentioned hot code replacement, that&#x27;s a similar sort of hack (you block function inlining, pad functions with some nops, then overwrite in place if the new definition fits in the space).<p>Thanks for the link, interesting stuff.</div><br/></div></div><div id="38839043" class="c"><input type="checkbox" id="c-38839043" checked=""/><div class="controls bullet"><span class="by">ho_schi</span><span>|</span><a href="#38839296">prev</a><span>|</span><a href="#38838755">next</a><span>|</span><label class="collapse" for="c-38839043">[-]</label><label class="expand" for="c-38839043">[2 more]</label></div><br/><div class="children"><div class="content">May I ask why the compilation and linking is taking 20 minutes?<p>Is it the include of <i>LLDB.h</i>?</div><br/><div id="38839090" class="c"><input type="checkbox" id="c-38839090" checked=""/><div class="controls bullet"><span class="by">flohofwoe</span><span>|</span><a href="#38839043">parent</a><span>|</span><a href="#38838755">next</a><span>|</span><label class="collapse" for="c-38839090">[-]</label><label class="expand" for="c-38839090">[1 more]</label></div><br/><div class="children"><div class="content">It must be the LLVM project in the git submodule (<a href="https:&#x2F;&#x2F;github.com&#x2F;abolinsky&#x2F;Hook&#x2F;tree&#x2F;main&#x2F;external">https:&#x2F;&#x2F;github.com&#x2F;abolinsky&#x2F;Hook&#x2F;tree&#x2F;main&#x2F;external</a>), because all other dependency code (GLFW and Dear ImGui) should compile in a couple of seconds.</div><br/></div></div></div></div><div id="38838755" class="c"><input type="checkbox" id="c-38838755" checked=""/><div class="controls bullet"><span class="by">owenpalmer</span><span>|</span><a href="#38839043">prev</a><span>|</span><a href="#38838981">next</a><span>|</span><label class="collapse" for="c-38838755">[-]</label><label class="expand" for="c-38838755">[2 more]</label></div><br/><div class="children"><div class="content">Looks really interesting. How much effort do you think it would take to get this running on Windows? I might give it a shot.</div><br/><div id="38839024" class="c"><input type="checkbox" id="c-38839024" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#38838755">parent</a><span>|</span><a href="#38838981">next</a><span>|</span><label class="collapse" for="c-38839024">[-]</label><label class="expand" for="c-38839024">[1 more]</label></div><br/><div class="children"><div class="content">Not to downplay on the author efforts as this is quite hard to get right, if you want something today, Visual C++ already does hot code reloading.</div><br/></div></div></div></div><div id="38838981" class="c"><input type="checkbox" id="c-38838981" checked=""/><div class="controls bullet"><span class="by">de_nied</span><span>|</span><a href="#38838755">prev</a><span>|</span><a href="#38839000">next</a><span>|</span><label class="collapse" for="c-38838981">[-]</label><label class="expand" for="c-38838981">[1 more]</label></div><br/><div class="children"><div class="content">How does this compare with attachable debuggers and memory windows in vscode?</div><br/></div></div><div id="38839000" class="c"><input type="checkbox" id="c-38839000" checked=""/><div class="controls bullet"><span class="by">cjbprime</span><span>|</span><a href="#38838981">prev</a><span>|</span><label class="collapse" for="c-38839000">[-]</label><label class="expand" for="c-38839000">[3 more]</label></div><br/><div class="children"><div class="content">This looks great! Are you aware of any similar projects?</div><br/><div id="38839557" class="c"><input type="checkbox" id="c-38839557" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#38839000">parent</a><span>|</span><a href="#38839144">next</a><span>|</span><label class="collapse" for="c-38839557">[-]</label><label class="expand" for="c-38839557">[1 more]</label></div><br/><div class="children"><div class="content">Visual C++, <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;hot-reload?view=vs-2022#support-for-c-applications" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;debugger&#x2F;hot-...</a></div><br/></div></div><div id="38839144" class="c"><input type="checkbox" id="c-38839144" checked=""/><div class="controls bullet"><span class="by">yellow_lead</span><span>|</span><a href="#38839000">parent</a><span>|</span><a href="#38839557">prev</a><span>|</span><label class="collapse" for="c-38839144">[-]</label><label class="expand" for="c-38839144">[1 more]</label></div><br/><div class="children"><div class="content">This is the most well known one:
<a href="https:&#x2F;&#x2F;liveplusplus.tech&#x2F;" rel="nofollow">https:&#x2F;&#x2F;liveplusplus.tech&#x2F;</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>