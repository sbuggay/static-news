<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1720342856172" as="style"/><link rel="stylesheet" href="styles.css?v=1720342856172"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://fredhohman.com/card-shuffling/">The Math of Card Shuffling</a> <span class="domain">(<a href="https://fredhohman.com">fredhohman.com</a>)</span></div><div class="subtext"><span>Anon84</span> | <span>22 comments</span></div><br/><div><div id="40895185" class="c"><input type="checkbox" id="c-40895185" checked=""/><div class="controls bullet"><span class="by">Syzygies</span><span>|</span><a href="#40892868">next</a><span>|</span><label class="collapse" for="c-40895185">[-]</label><label class="expand" for="c-40895185">[1 more]</label></div><br/><div class="children"><div class="content">Pretty funny that this cites a 2015 Numberphile video, considering that my paper with Persi Diaconis was published in 1992.<p>(You know you&#x27;re on to something when so many people misquote and misinterpret your result, and say it sucks!)<p>Of the many formulations of Gilbert-Shannon-Reeds, an easy one to generalize is running the shuffle in reverse. One could flip a fair coin for each card, to decide if it flies up to the right or left hand. Equivalently, let heads fly up to the same hand as before, and let tails fly up to the other hand. As an unfair coin approaches always tails, the inverse shuffle becomes smoother, approaching a perfect shuffle, which Persi can easily do.<p>One way to measure how smoothly one shuffles is to flip one hand&#x27;s packet over before shuffling, then count face up &#x2F; face down runs. For a perfect shuffle, there will be 52 singleton runs: up, down, up, down... For GSR shuffles there will be 26 1&#x2F;2 runs on average. Experienced human shuffles tend to exhibit 30 to 40 runs. While only GSR can be solved in closed form, one can run simulations to see what happens with smoother shuffles. As a somewhat surprising coincidence, one approaches randomness most quickly with shuffles corresponding to 30 to 40 runs.</div><br/></div></div><div id="40892868" class="c"><input type="checkbox" id="c-40892868" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#40895185">prev</a><span>|</span><a href="#40893497">next</a><span>|</span><label class="collapse" for="c-40892868">[-]</label><label class="expand" for="c-40892868">[9 more]</label></div><br/><div class="children"><div class="content">I wish the 7 shuffle thing would stop getting repeated everywhere. It’s based off a faulty model, particularly for sleeved cards, since if we consider the deck as two piles left (L) and right (R), Pr[L|R] (the probability of taking from the left pile given the last draw was from the right), should be about 0.5 but is nearly 1 in many cases.<p>The riffle shuffle also has to be one of the only things you actually get worse at the more you practice it.</div><br/><div id="40892999" class="c"><input type="checkbox" id="c-40892999" checked=""/><div class="controls bullet"><span class="by">trombonechamp</span><span>|</span><a href="#40892868">parent</a><span>|</span><a href="#40894507">next</a><span>|</span><label class="collapse" for="c-40892999">[-]</label><label class="expand" for="c-40892999">[1 more]</label></div><br/><div class="children"><div class="content">Here is a bit more realistic model of the riffle shuffle.  These results show that you need between 3 to 8 riffle shuffles, depending on your skill.  Notably, the number of needed shuffles actually does get lower as you get better, i.e., less clumping is better: <a href="http:&#x2F;&#x2F;blog.maxshinnpotential.com&#x2F;2017&#x2F;11&#x2F;05&#x2F;optimality-in-card-shuffling.html" rel="nofollow">http:&#x2F;&#x2F;blog.maxshinnpotential.com&#x2F;2017&#x2F;11&#x2F;05&#x2F;optimality-in-c...</a></div><br/></div></div><div id="40894507" class="c"><input type="checkbox" id="c-40894507" checked=""/><div class="controls bullet"><span class="by">ballenf</span><span>|</span><a href="#40892868">parent</a><span>|</span><a href="#40892999">prev</a><span>|</span><a href="#40894473">next</a><span>|</span><label class="collapse" for="c-40894507">[-]</label><label class="expand" for="c-40894507">[1 more]</label></div><br/><div class="children"><div class="content">The other thing is that the chaotic pile on the table, well-mixed, is about as fast as 7 riffles mixed with cuts and probably (my personal experience) equally mixed.<p>Just makes you feel like a child.</div><br/></div></div><div id="40894473" class="c"><input type="checkbox" id="c-40894473" checked=""/><div class="controls bullet"><span class="by">askvictor</span><span>|</span><a href="#40892868">parent</a><span>|</span><a href="#40894507">prev</a><span>|</span><a href="#40892890">next</a><span>|</span><label class="collapse" for="c-40894473">[-]</label><label class="expand" for="c-40894473">[1 more]</label></div><br/><div class="children"><div class="content">Definitely haven&#x27;t been getting worse at the riffle shuffle. But one of my more nerdy gaming buddies doesn&#x27;t allow any of his cards to be riffled as it degrades the cards.</div><br/></div></div><div id="40892890" class="c"><input type="checkbox" id="c-40892890" checked=""/><div class="controls bullet"><span class="by">waynecochran</span><span>|</span><a href="#40892868">parent</a><span>|</span><a href="#40894473">prev</a><span>|</span><a href="#40893497">next</a><span>|</span><label class="collapse" for="c-40892890">[-]</label><label class="expand" for="c-40892890">[5 more]</label></div><br/><div class="children"><div class="content">You get worse w more practice? Explain. I have been practicing the riffle shuffle w&#x2F;o using the table and keeping the cards contained -- am I going to get worse at it?</div><br/><div id="40892950" class="c"><input type="checkbox" id="c-40892950" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#40892868">root</a><span>|</span><a href="#40892890">parent</a><span>|</span><a href="#40892958">next</a><span>|</span><label class="collapse" for="c-40892950">[-]</label><label class="expand" for="c-40892950">[3 more]</label></div><br/><div class="children"><div class="content">Yes, you’ll get the alternating pile phenomenon more and more often. In reality, big “clumps” of cards from one pile or the other actually improve the randomization. In the extreme, this becomes the Faro shuffle <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Faro_shuffle" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Faro_shuffle</a><p>From a probabilistic standpoint, even if it isn’t a perfect Faro shuffle, almost-Faro shuffling clearly introduces far fewer bits of entropy which is less than ideal.</div><br/><div id="40894803" class="c"><input type="checkbox" id="c-40894803" checked=""/><div class="controls bullet"><span class="by">Orlan</span><span>|</span><a href="#40892868">root</a><span>|</span><a href="#40892950">parent</a><span>|</span><a href="#40893109">next</a><span>|</span><label class="collapse" for="c-40894803">[-]</label><label class="expand" for="c-40894803">[1 more]</label></div><br/><div class="children"><div class="content">I wish! Yes, the better you get at riffle shuffling, the more it will approximate a faro shuffle (meaning less &quot;clumps&quot; and more singles alternating) in some parts of the deck, but it&#x27;s the repetition that makes it random. If you have accidentally mastered a perfect tabled faro without deliberate practice, I&#x27;d like to shake your hand and read your book (or video) on the technique!<p>Perhaps we can caveat that the person is not cutting perfectly at 26 every time and performing perfect out faros, then we can assume they&#x27;ll be mixed enough.  :-)<p>It&#x27;s been a while since I&#x27;ve read Persi Diaconis&#x27; paper (who coined the 7 shuffles thing), but I believe all your main concerns were addressed. Not sure about the sleeved deck thing, that wasn&#x27;t probably a consideration.</div><br/></div></div><div id="40893109" class="c"><input type="checkbox" id="c-40893109" checked=""/><div class="controls bullet"><span class="by">cpeterso</span><span>|</span><a href="#40892868">root</a><span>|</span><a href="#40892950">parent</a><span>|</span><a href="#40894803">prev</a><span>|</span><a href="#40892958">next</a><span>|</span><label class="collapse" for="c-40893109">[-]</label><label class="expand" for="c-40893109">[1 more]</label></div><br/><div class="children"><div class="content">To try to account for that, I purposely alternate thin and chunky interleaving when I riffle shuffle (the customary seven times :).</div><br/></div></div></div></div></div></div></div></div><div id="40893497" class="c"><input type="checkbox" id="c-40893497" checked=""/><div class="controls bullet"><span class="by">nyc_pizzadev</span><span>|</span><a href="#40892868">prev</a><span>|</span><a href="#40892876">next</a><span>|</span><label class="collapse" for="c-40893497">[-]</label><label class="expand" for="c-40893497">[3 more]</label></div><br/><div class="children"><div class="content">Check out Jason Ladanye. He’s a magician who uses shuffle math to place cards exactly where he wants them to be in the deck. Both impressive and scary.</div><br/><div id="40893906" class="c"><input type="checkbox" id="c-40893906" checked=""/><div class="controls bullet"><span class="by">khazhoux</span><span>|</span><a href="#40893497">parent</a><span>|</span><a href="#40893692">next</a><span>|</span><label class="collapse" for="c-40893906">[-]</label><label class="expand" for="c-40893906">[1 more]</label></div><br/><div class="children"><div class="content">Ha, came here to post about Ladayne.  I’ve been watching all his 2-minute shorts and I <i>still</i> can’t wrap my brain around the mental&#x2F;mathematical skill, or the astounding precision of his fingers.<p>Another takeaway is the jaw-dropping amount of practice he’s put into it, and his total dedication to perfection (zero mistakes allowed, ever).  He speaks at length about this in interviews, and in fact part of his act is to explain that it is <i>not</i> magic at all, but his full commitment to mastering the craft.  Something we can all reflect on.</div><br/></div></div><div id="40893692" class="c"><input type="checkbox" id="c-40893692" checked=""/><div class="controls bullet"><span class="by">veunes</span><span>|</span><a href="#40893497">parent</a><span>|</span><a href="#40893906">prev</a><span>|</span><a href="#40892876">next</a><span>|</span><label class="collapse" for="c-40893692">[-]</label><label class="expand" for="c-40893692">[1 more]</label></div><br/><div class="children"><div class="content">Jason Ladanye is a remarkable magician</div><br/></div></div></div></div><div id="40892876" class="c"><input type="checkbox" id="c-40892876" checked=""/><div class="controls bullet"><span class="by">waynecochran</span><span>|</span><a href="#40893497">prev</a><span>|</span><a href="#40893687">next</a><span>|</span><label class="collapse" for="c-40892876">[-]</label><label class="expand" for="c-40892876">[3 more]</label></div><br/><div class="children"><div class="content">I have played Pinochle w friends who always wanted the dealer to shuffle the deck less since they believed that this would more likely result in good&#x2F;interesting hands (four of kind, straight, pinochle...). This seems to stem from the notion that randomness looks different or is less interesting. If all sequence of cards are equally likely, the ratio of interesting hands to all hands seems worse for a less shuffled deck since the cards are interleaved throughout all the players.</div><br/><div id="40893908" class="c"><input type="checkbox" id="c-40893908" checked=""/><div class="controls bullet"><span class="by">less_less</span><span>|</span><a href="#40892876">parent</a><span>|</span><a href="#40893785">next</a><span>|</span><label class="collapse" for="c-40893908">[-]</label><label class="expand" for="c-40893908">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a Dutch card game called Rikken that intentionally incorporates bad shuffling.  It&#x27;s a trick-taking game, so the cards get clumped by suit during the hand, and you shuffle very lightly between hands.  After shuffling, the cards are dealt several at a time to each player, so players tend to get <i>much</i> more suited hands than with a well-shuffled deck.</div><br/></div></div><div id="40893785" class="c"><input type="checkbox" id="c-40893785" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#40892876">parent</a><span>|</span><a href="#40893908">prev</a><span>|</span><a href="#40893687">next</a><span>|</span><label class="collapse" for="c-40893785">[-]</label><label class="expand" for="c-40893785">[1 more]</label></div><br/><div class="children"><div class="content">This is true if you deal one card at a time. If you deal 2 by 2 or 3 by 3 on the other hand...</div><br/></div></div></div></div><div id="40893687" class="c"><input type="checkbox" id="c-40893687" checked=""/><div class="controls bullet"><span class="by">veunes</span><span>|</span><a href="#40892876">prev</a><span>|</span><a href="#40894032">next</a><span>|</span><label class="collapse" for="c-40893687">[-]</label><label class="expand" for="c-40893687">[2 more]</label></div><br/><div class="children"><div class="content">Do not know why but still it&#x27;s a problem for me to shuffle cards</div><br/><div id="40895468" class="c"><input type="checkbox" id="c-40895468" checked=""/><div class="controls bullet"><span class="by">indoorcomic</span><span>|</span><a href="#40893687">parent</a><span>|</span><a href="#40894032">next</a><span>|</span><label class="collapse" for="c-40895468">[-]</label><label class="expand" for="c-40895468">[1 more]</label></div><br/><div class="children"><div class="content">My mom put a deck of cards in my hand before I could walk, so i ended up being the one to teach all my friends in school. It takes a while to get it down</div><br/></div></div></div></div><div id="40894032" class="c"><input type="checkbox" id="c-40894032" checked=""/><div class="controls bullet"><span class="by">jwood27</span><span>|</span><a href="#40893687">prev</a><span>|</span><a href="#40892747">next</a><span>|</span><label class="collapse" for="c-40894032">[-]</label><label class="expand" for="c-40894032">[1 more]</label></div><br/><div class="children"><div class="content">I tried to make a model of my own shuffling. Blog post in work, but some interesting bits: <a href="https:&#x2F;&#x2F;jacobw.xyz&#x2F;posts&#x2F;005_shuffle&#x2F;#data_exploration" rel="nofollow">https:&#x2F;&#x2F;jacobw.xyz&#x2F;posts&#x2F;005_shuffle&#x2F;#data_exploration</a></div><br/></div></div><div id="40892747" class="c"><input type="checkbox" id="c-40892747" checked=""/><div class="controls bullet"><span class="by">matsemann</span><span>|</span><a href="#40894032">prev</a><span>|</span><label class="collapse" for="c-40892747">[-]</label><label class="expand" for="c-40892747">[2 more]</label></div><br/><div class="children"><div class="content">Once saw a talk by Roger Antonsen where he did various visualizations of shuffles (but using 64 cards I think for the even splits). Quitw cool images <a href="https:&#x2F;&#x2F;rantonse.org&#x2F;art&#x2F;2018-07-25" rel="nofollow">https:&#x2F;&#x2F;rantonse.org&#x2F;art&#x2F;2018-07-25</a></div><br/><div id="40893696" class="c"><input type="checkbox" id="c-40893696" checked=""/><div class="controls bullet"><span class="by">veunes</span><span>|</span><a href="#40892747">parent</a><span>|</span><label class="collapse" for="c-40893696">[-]</label><label class="expand" for="c-40893696">[1 more]</label></div><br/><div class="children"><div class="content">The deep connection between mathematics, art and magic</div><br/></div></div></div></div></div></div></div></div></div></body></html>