<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1722070848590" as="style"/><link rel="stylesheet" href="styles.css?v=1722070848590"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/joshuacline/windick">Windows recovery environment and bootable USB creator in 200kb</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>windozedev</span> | <span>25 comments</span></div><br/><div><div id="41085338" class="c"><input type="checkbox" id="c-41085338" checked=""/><div class="controls bullet"><span class="by">cookiengineer</span><span>|</span><a href="#41084297">next</a><span>|</span><label class="collapse" for="c-41085338">[-]</label><label class="expand" for="c-41085338">[1 more]</label></div><br/><div class="children"><div class="content">This is the most unreadable code I have ever laid my eyes on. Well done, I didn&#x27;t think it was possible to write worse code than COBOL.</div><br/></div></div><div id="41084297" class="c"><input type="checkbox" id="c-41084297" checked=""/><div class="controls bullet"><span class="by">torphedo</span><span>|</span><a href="#41085338">prev</a><span>|</span><a href="#41084240">next</a><span>|</span><label class="collapse" for="c-41084297">[-]</label><label class="expand" for="c-41084297">[8 more]</label></div><br/><div class="children"><div class="content">Wow, this is the largest batchfile I&#x27;ve ever seen! And I thought my 200-ish line one from high school was pushing it. Honestly huge respect for having the dedication to go this far with batch. I knew about the pseudo-function-calling features and a <i>little</i> bit of the weird syntax, but just skimming there&#x27;s a lot of stuff in here I haven&#x27;t seen before. Usually people saying &quot;X in Y KiB&quot; are doing some crazy linker shenanigans, so this was refreshing.<p>Also, &quot;Windows To Go&quot; and &quot;Windows To Stay&quot; are really funny feature names.</div><br/><div id="41084695" class="c"><input type="checkbox" id="c-41084695" checked=""/><div class="controls bullet"><span class="by">Mogzol</span><span>|</span><a href="#41084297">parent</a><span>|</span><a href="#41085137">next</a><span>|</span><label class="collapse" for="c-41084695">[-]</label><label class="expand" for="c-41084695">[2 more]</label></div><br/><div class="children"><div class="content">Speaking of large batch files, if anyone has ever softmodded a Wii, there is a good chance you used ModMii, which is by far the largest batch program I&#x27;ve seen. The main script [1] is a batch file that clocks in at over a megabyte. I used to be pretty into the Wii modding scene and remember talking with the author of that script about random batch things a few times. I can&#x27;t imagine maintaining a file that big.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;modmii&#x2F;modmii.github.io&#x2F;blob&#x2F;master&#x2F;Support&#x2F;ModMii.bat">https:&#x2F;&#x2F;github.com&#x2F;modmii&#x2F;modmii.github.io&#x2F;blob&#x2F;master&#x2F;Suppo...</a></div><br/><div id="41084989" class="c"><input type="checkbox" id="c-41084989" checked=""/><div class="controls bullet"><span class="by">nyanpasu64</span><span>|</span><a href="#41084297">root</a><span>|</span><a href="#41084695">parent</a><span>|</span><a href="#41085137">next</a><span>|</span><label class="collapse" for="c-41084989">[-]</label><label class="expand" for="c-41084989">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s sad that so many projects simply stopped updating a decade or more ago... the first 90% of work is building a USB loader and the second 90% is maintaining it, and neither the author nor I want to figure it out. I read online that SNEEK lets you screenshot games... it doesn&#x27;t work (wrong filesystem? neek2o and sneek have a different feature set?). Also god all those Exception (DSI) and learning a decade later they were segfaults... yummy memory-unsafe embedded programming.<p>I found that ModMii leaked some global variables from a (failed) SNEEK install to a system menu mod(&#x27;s help file), and being written in Batch certainly explains things...</div><br/></div></div></div></div><div id="41085137" class="c"><input type="checkbox" id="c-41085137" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#41084297">parent</a><span>|</span><a href="#41084695">prev</a><span>|</span><a href="#41084376">next</a><span>|</span><label class="collapse" for="c-41085137">[-]</label><label class="expand" for="c-41085137">[3 more]</label></div><br/><div class="children"><div class="content">&quot;Windows To Go&quot; is the official name for a former Windows feature.<p>Writing a Batch script of any length, let alone 3085 lines, is completely insane with PowerShell being part of the default install.</div><br/><div id="41085268" class="c"><input type="checkbox" id="c-41085268" checked=""/><div class="controls bullet"><span class="by">maccard</span><span>|</span><a href="#41084297">root</a><span>|</span><a href="#41085137">parent</a><span>|</span><a href="#41084376">next</a><span>|</span><label class="collapse" for="c-41085268">[-]</label><label class="expand" for="c-41085268">[2 more]</label></div><br/><div class="children"><div class="content">I write tools for video game studios occasionally. You can’t double click a ps1 script and have it run, and you need to change the execution policy for powershell scripts to run. Those two hurdles for non technical people mean that we still write batch scripts</div><br/><div id="41085333" class="c"><input type="checkbox" id="c-41085333" checked=""/><div class="controls bullet"><span class="by">TiredOfLife</span><span>|</span><a href="#41084297">root</a><span>|</span><a href="#41085268">parent</a><span>|</span><a href="#41084376">next</a><span>|</span><label class="collapse" for="c-41085333">[-]</label><label class="expand" for="c-41085333">[1 more]</label></div><br/><div class="children"><div class="content">But you can run .ps1 from .bat that you doubleclick.</div><br/></div></div></div></div></div></div><div id="41084376" class="c"><input type="checkbox" id="c-41084376" checked=""/><div class="controls bullet"><span class="by">Firehawke</span><span>|</span><a href="#41084297">parent</a><span>|</span><a href="#41085137">prev</a><span>|</span><a href="#41084508">next</a><span>|</span><label class="collapse" for="c-41084376">[-]</label><label class="expand" for="c-41084376">[1 more]</label></div><br/><div class="children"><div class="content">Not to get TOO far off topic, but you just reminded me of the 300+ line batch file I was using for my BBS back in the early 90s. Lots of errorlevel checks to handle door transitions, Fidonet, etc.<p>You could get some ridiculously complicated batch files if you really needed the added functionality.</div><br/></div></div><div id="41084508" class="c"><input type="checkbox" id="c-41084508" checked=""/><div class="controls bullet"><span class="by">windozedev</span><span>|</span><a href="#41084297">parent</a><span>|</span><a href="#41084376">prev</a><span>|</span><a href="#41084240">next</a><span>|</span><label class="collapse" for="c-41084508">[-]</label><label class="expand" for="c-41084508">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it&#x27;s a wild batch file. The idea was to use live of the land commands for as much as I could get away with.</div><br/></div></div></div></div><div id="41084240" class="c"><input type="checkbox" id="c-41084240" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41084297">prev</a><span>|</span><a href="#41084543">next</a><span>|</span><label class="collapse" for="c-41084240">[-]</label><label class="expand" for="c-41084240">[2 more]</label></div><br/><div class="children"><div class="content">AFAIK the &quot;Windows Recovery Environment&quot; is actually a stripped-down minimal version of Windows missing most of the normal userland and parts of the kernel, which people have extended and customised in various ways.</div><br/><div id="41084259" class="c"><input type="checkbox" id="c-41084259" checked=""/><div class="controls bullet"><span class="by">windozedev</span><span>|</span><a href="#41084240">parent</a><span>|</span><a href="#41084543">next</a><span>|</span><label class="collapse" for="c-41084259">[-]</label><label class="expand" for="c-41084259">[1 more]</label></div><br/><div class="children"><div class="content">The overall design was inspired by the simple text based ui of clockworkmod recovery for android. There are zero dependencies as well.</div><br/></div></div></div></div><div id="41084543" class="c"><input type="checkbox" id="c-41084543" checked=""/><div class="controls bullet"><span class="by">rosywoozlechan</span><span>|</span><a href="#41084240">prev</a><span>|</span><a href="#41085081">next</a><span>|</span><label class="collapse" for="c-41084543">[-]</label><label class="expand" for="c-41084543">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no license specified for what it&#x27;s worth.</div><br/><div id="41084632" class="c"><input type="checkbox" id="c-41084632" checked=""/><div class="controls bullet"><span class="by">theGeatZhopa</span><span>|</span><a href="#41084543">parent</a><span>|</span><a href="#41085081">next</a><span>|</span><label class="collapse" for="c-41084632">[-]</label><label class="expand" for="c-41084632">[1 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth, there don&#x27;t need a license be specified :)<p>Unspecifyable, because it&#x27;s worth.</div><br/></div></div></div></div><div id="41084458" class="c"><input type="checkbox" id="c-41084458" checked=""/><div class="controls bullet"><span class="by">firecall</span><span>|</span><a href="#41085081">prev</a><span>|</span><a href="#41084111">next</a><span>|</span><label class="collapse" for="c-41084458">[-]</label><label class="expand" for="c-41084458">[3 more]</label></div><br/><div class="children"><div class="content">Looks cool, but what does this do that the standard Windows Recovery Environment Partition doesnt do?<p>Maybe situations where the standard recovery env is borked?
Was that the case in the recent CrowdStrike debacle?</div><br/><div id="41084570" class="c"><input type="checkbox" id="c-41084570" checked=""/><div class="controls bullet"><span class="by">neRok</span><span>|</span><a href="#41084458">parent</a><span>|</span><a href="#41084111">next</a><span>|</span><label class="collapse" for="c-41084570">[-]</label><label class="expand" for="c-41084570">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Was that the case in the recent CrowdStrike debacle?<p>Nah, it still worked fine on my work laptop and allowed to boot in to safe mode, which also worked (didn&#x27;t crash).</div><br/><div id="41084623" class="c"><input type="checkbox" id="c-41084623" checked=""/><div class="controls bullet"><span class="by">theGeatZhopa</span><span>|</span><a href="#41084458">root</a><span>|</span><a href="#41084570">parent</a><span>|</span><a href="#41084111">next</a><span>|</span><label class="collapse" for="c-41084623">[-]</label><label class="expand" for="c-41084623">[1 more]</label></div><br/><div class="children"><div class="content">The biggest 3. problems in resolving clownstrike debacle are to know what and where to delete (if you don&#x27;t know, you also can delete everything as well), bitlocker locked hard drives and having a lot of VMs running on Windows out there.<p>The first problem, however, is more significant, but you even won&#x27;t come to solving if you&#x27;ve encrypted filesystem. And then you have to do it for each and every device&#x2F;VM. It&#x27;s just too much.<p>if you could boot into safe mode, then you already knew what to do and what to delete. Just imagine - bsod - you don&#x27;t know why. A hint may be shown ;)</div><br/></div></div></div></div></div></div><div id="41084111" class="c"><input type="checkbox" id="c-41084111" checked=""/><div class="controls bullet"><span class="by">letaem77</span><span>|</span><a href="#41084458">prev</a><span>|</span><a href="#41084490">next</a><span>|</span><label class="collapse" for="c-41084111">[-]</label><label class="expand" for="c-41084111">[1 more]</label></div><br/><div class="children"><div class="content">What a name!</div><br/></div></div><div id="41084490" class="c"><input type="checkbox" id="c-41084490" checked=""/><div class="controls bullet"><span class="by">4jck</span><span>|</span><a href="#41084111">prev</a><span>|</span><a href="#41083988">next</a><span>|</span><label class="collapse" for="c-41084490">[-]</label><label class="expand" for="c-41084490">[3 more]</label></div><br/><div class="children"><div class="content">can I use this to install monitor drivers? make a bootable usb, add the installer onto the bootable usb and install the firmware?
<a href="https:&#x2F;&#x2F;www.lg.com&#x2F;au&#x2F;support&#x2F;product-support&#x2F;cs-32GS95UE-B.AAU&#x2F;#manual-tab" rel="nofollow">https:&#x2F;&#x2F;www.lg.com&#x2F;au&#x2F;support&#x2F;product-support&#x2F;cs-32GS95UE-B....</a><p>I thought about doing it through WINE, but that kinda scares me.<p>unfortunately my monitor received new firmware only installable through an exe, I only have my linux desktop</div><br/><div id="41084552" class="c"><input type="checkbox" id="c-41084552" checked=""/><div class="controls bullet"><span class="by">zxexz</span><span>|</span><a href="#41084490">parent</a><span>|</span><a href="#41084519">next</a><span>|</span><label class="collapse" for="c-41084552">[-]</label><label class="expand" for="c-41084552">[1 more]</label></div><br/><div class="children"><div class="content">My process for this is usually:
- Poke at the EXE for a few hours to days. Sometimes it&#x27;s just a self-extracting executable and you can just find the raw firmware binary. Sometimes you have to spend a few days relearning the basics of R2&#x2F;Ghidra, and eventually can grab the firmware.
- Then, if you&#x27;ve found it, figure out how to load it. When you think you have an idea, make sure it&#x27;s really late and you&#x27;re deliriously tired, so you&#x27;re SURE you can do it without bricking it. Plus, where&#x27;s the fun in not bricking it? You can always take that random Pomona SOIC knockoff clip and start dumping random ROMs off whatever chips.
- Finally, if you were awake enough to not fall for the previous step - scrap all the work you&#x27;ve done, and commit to spending a while figuring out how to create a bootable windows USB. Or, if you can&#x27;t get that to work for one of the many possible reasons, borrow a windows laptop. But you&#x27;re probably too tired for that at this point anyway, so create a windows VM in QEMU, and repeatedly restart your machine as you mess with configs to get passthrough working for whatever you need to get the VM to connect to the device. Launch the utility, start the EXE - it starts working. Get so excited, you accidentally disconnect everything halfway through. Somehow the monitor seems to still work, but you swear there&#x27;s just something not quite right about it. A few years later, take out the SOIC clip again.
(based on an agglomeration of my personal mishaps)<p>In all likelihood, yes - this project will likely allow you to do that perfectly fine! But I&#x27;d be prepared for the installer to be total bloatware that doesn&#x27;t work or works for most of the process before something goes wrong.</div><br/></div></div><div id="41084519" class="c"><input type="checkbox" id="c-41084519" checked=""/><div class="controls bullet"><span class="by">windozedev</span><span>|</span><a href="#41084490">parent</a><span>|</span><a href="#41084552">prev</a><span>|</span><a href="#41083988">next</a><span>|</span><label class="collapse" for="c-41084519">[-]</label><label class="expand" for="c-41084519">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a few ways you could do it, but it&#x27;s a windows command shell script and only works under windows.</div><br/></div></div></div></div><div id="41084122" class="c"><input type="checkbox" id="c-41084122" checked=""/><div class="controls bullet"><span class="by">kosolam</span><span>|</span><a href="#41083988">prev</a><span>|</span><label class="collapse" for="c-41084122">[-]</label><label class="expand" for="c-41084122">[2 more]</label></div><br/><div class="children"><div class="content">Eli5?</div><br/><div id="41084149" class="c"><input type="checkbox" id="c-41084149" checked=""/><div class="controls bullet"><span class="by">windozedev</span><span>|</span><a href="#41084122">parent</a><span>|</span><label class="collapse" for="c-41084149">[-]</label><label class="expand" for="c-41084149">[1 more]</label></div><br/><div class="children"><div class="content">Extract the zip into a new folder. Insert a w10&#x2F;w11 disc or mount an ISO. Enter basic mode, it will take you through the steps.</div><br/></div></div></div></div></div></div></div></div></div></body></html>