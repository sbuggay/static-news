<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736326879435" as="style"/><link rel="stylesheet" href="styles.css?v=1736326879435"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://hipscript.lights0123.com/">Show HN: HipScript – Run CUDA in the browser with WebAssembly and WebGPU</a> <span class="domain">(<a href="https://hipscript.lights0123.com">hipscript.lights0123.com</a>)</span></div><div class="subtext"><span>lights0123</span> | <span>29 comments</span></div><br/><div><div id="42626855" class="c"><input type="checkbox" id="c-42626855" checked=""/><div class="controls bullet"><span class="by">Ameo</span><span>|</span><a href="#42626598">next</a><span>|</span><label class="collapse" for="c-42626855">[-]</label><label class="expand" for="c-42626855">[2 more]</label></div><br/><div class="children"><div class="content">The GoL example it loaded with seemed to be running way slower than I expected it to.  It turns out that there&#x27;s actually a `usleep(1000 * 100)` call in the code which was inserted to make it easier to see the output; the actual kernels execute quickly and take up very little GPU time.<p>When I looked at the profiler, I was confused to see that one worker thread was at 100% usage the whole time it was running.  At first, I thought that maybe it was actually running the code via Wasm on the CPU rather than on the GPU like it said.<p>Instead, it turns out that the worker was just running `emscripten_futex_wait` - which as far as I can tell is implemented by busy waiting in a loop.  Probably doesn&#x27;t matter for performance since I imagine that&#x27;s just for the sleep call anyway.<p>----<p>Altogether this is an incredibly cool tool.  I&#x27;m sure there is some performance gap compared to native, but even so this is a extremely impressive and likely has a ton of potential use cases.</div><br/><div id="42628170" class="c"><input type="checkbox" id="c-42628170" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#42626855">parent</a><span>|</span><a href="#42626598">next</a><span>|</span><label class="collapse" for="c-42628170">[-]</label><label class="expand" for="c-42628170">[1 more]</label></div><br/><div class="children"><div class="content">Thank you so much for this! I was a bit concerned that the performance on my Mac was nearly identical to my new 3090 on PC and thought I might have messed up the setup there!</div><br/></div></div></div></div><div id="42626598" class="c"><input type="checkbox" id="c-42626598" checked=""/><div class="controls bullet"><span class="by">CharlesW</span><span>|</span><a href="#42626855">prev</a><span>|</span><a href="#42626693">next</a><span>|</span><label class="collapse" for="c-42626598">[-]</label><label class="expand" for="c-42626598">[1 more]</label></div><br/><div class="children"><div class="content">From the &quot;Learn More&quot; link (<a href="https:&#x2F;&#x2F;lights0123.com&#x2F;blog&#x2F;2025&#x2F;01&#x2F;07&#x2F;hip-script&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lights0123.com&#x2F;blog&#x2F;2025&#x2F;01&#x2F;07&#x2F;hip-script&#x2F;</a>):<p><i>&quot;By chaining chipStar¹ (a HIP and NVIDIA® CUDA® to OpenCL compiler), Clspv² (an OpenCL to Vulkan compiler), and Tint³ (among others, a Vulkan shader to WebGPU shader compiler), you can run CUDA code in the browser!&quot;</i><p>¹ <a href="https:&#x2F;&#x2F;github.com&#x2F;CHIP-SPV&#x2F;chipStar&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;CHIP-SPV&#x2F;chipStar&#x2F;</a> ² <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;clspv&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;clspv&#x2F;</a> ³ <a href="https:&#x2F;&#x2F;dawn.googlesource.com&#x2F;dawn&#x2F;+&#x2F;refs&#x2F;heads&#x2F;main&#x2F;src&#x2F;tint&#x2F;" rel="nofollow">https:&#x2F;&#x2F;dawn.googlesource.com&#x2F;dawn&#x2F;+&#x2F;refs&#x2F;heads&#x2F;main&#x2F;src&#x2F;tin...</a></div><br/></div></div><div id="42626693" class="c"><input type="checkbox" id="c-42626693" checked=""/><div class="controls bullet"><span class="by">_nalply</span><span>|</span><a href="#42626598">prev</a><span>|</span><a href="#42628963">next</a><span>|</span><label class="collapse" for="c-42626693">[-]</label><label class="expand" for="c-42626693">[5 more]</label></div><br/><div class="children"><div class="content">Firefox supports WebGPU, but needs a setting in about:config. I enabled the setting but HipScript still denies running on Firefox with the message: &quot;Please try a Chromium-based browser like Google Chrome or Microsoft Edge.&quot;<p>Please do feature detection, not browser detection.</div><br/><div id="42627396" class="c"><input type="checkbox" id="c-42627396" checked=""/><div class="controls bullet"><span class="by">lights0123</span><span>|</span><a href="#42626693">parent</a><span>|</span><a href="#42628963">next</a><span>|</span><label class="collapse" for="c-42627396">[-]</label><label class="expand" for="c-42627396">[4 more]</label></div><br/><div class="children"><div class="content">I <i>do</i> do feature detection—WebGPU is blocked on Release Firefox regardless of config, you&#x27;ll need nightly. It does support Safari with its experimental mode enabled for example.</div><br/><div id="42627647" class="c"><input type="checkbox" id="c-42627647" checked=""/><div class="controls bullet"><span class="by">doctoboggan</span><span>|</span><a href="#42626693">root</a><span>|</span><a href="#42627396">parent</a><span>|</span><a href="#42628963">next</a><span>|</span><label class="collapse" for="c-42627647">[-]</label><label class="expand" for="c-42627647">[3 more]</label></div><br/><div class="children"><div class="content">I enabled WebGPU in safari on my m1 Mac and got this error when running the GoL demo:<p>```
TypeError: B.values().some is not a function. (In &#x27;B.values().some(r=&gt;r.args.length)&#x27;, &#x27;B.values().some&#x27; is undefined)
```<p>EDIT: I got the same error with all three sample scripts</div><br/><div id="42629625" class="c"><input type="checkbox" id="c-42629625" checked=""/><div class="controls bullet"><span class="by">lights0123</span><span>|</span><a href="#42626693">root</a><span>|</span><a href="#42627647">parent</a><span>|</span><a href="#42628963">next</a><span>|</span><label class="collapse" for="c-42629625">[-]</label><label class="expand" for="c-42629625">[2 more]</label></div><br/><div class="children"><div class="content">I believe I just fixed this—JavaScriptCore doesn&#x27;t have support for a recently-introduced function.</div><br/><div id="42631130" class="c"><input type="checkbox" id="c-42631130" checked=""/><div class="controls bullet"><span class="by">doctoboggan</span><span>|</span><a href="#42626693">root</a><span>|</span><a href="#42629625">parent</a><span>|</span><a href="#42628963">next</a><span>|</span><label class="collapse" for="c-42631130">[-]</label><label class="expand" for="c-42631130">[1 more]</label></div><br/><div class="children"><div class="content">I can confirm it is working for me now, thanks!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42628963" class="c"><input type="checkbox" id="c-42628963" checked=""/><div class="controls bullet"><span class="by">syrusakbary</span><span>|</span><a href="#42626693">prev</a><span>|</span><a href="#42626636">next</a><span>|</span><label class="collapse" for="c-42628963">[-]</label><label class="expand" for="c-42628963">[1 more]</label></div><br/><div class="children"><div class="content">This is an awesome use of WASIX [1] and the Wasmer SDK [2]. Quite exciting to see!<p>I recommend as well reading through the blogpost (repo on [3]): <a href="https:&#x2F;&#x2F;lights0123.com&#x2F;blog&#x2F;2025&#x2F;01&#x2F;07&#x2F;hip-script&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lights0123.com&#x2F;blog&#x2F;2025&#x2F;01&#x2F;07&#x2F;hip-script&#x2F;</a> (many things to improve on the Wasmer side... we have some work to do!)<p>[1] <a href="https:&#x2F;&#x2F;wasix.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;wasix.org&#x2F;</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;wasmerio&#x2F;wasmer-js">https:&#x2F;&#x2F;github.com&#x2F;wasmerio&#x2F;wasmer-js</a><p>[3] <a href="https:&#x2F;&#x2F;github.com&#x2F;lights0123&#x2F;hipscript&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;lights0123&#x2F;hipscript&#x2F;</a></div><br/></div></div><div id="42626636" class="c"><input type="checkbox" id="c-42626636" checked=""/><div class="controls bullet"><span class="by">bagels</span><span>|</span><a href="#42628963">prev</a><span>|</span><a href="#42629443">next</a><span>|</span><label class="collapse" for="c-42626636">[-]</label><label class="expand" for="c-42626636">[2 more]</label></div><br/><div class="children"><div class="content">What an incredible demo&#x2F;hack. This is actually the simplest way to actually execute CUDA code that I&#x27;ve seen.</div><br/><div id="42626879" class="c"><input type="checkbox" id="c-42626879" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#42626636">parent</a><span>|</span><a href="#42629443">next</a><span>|</span><label class="collapse" for="c-42626879">[-]</label><label class="expand" for="c-42626879">[1 more]</label></div><br/><div class="children"><div class="content">Not to mention that it Just Works on Apple devices! Really, really cool.</div><br/></div></div></div></div><div id="42629443" class="c"><input type="checkbox" id="c-42629443" checked=""/><div class="controls bullet"><span class="by">grconner</span><span>|</span><a href="#42626636">prev</a><span>|</span><a href="#42628128">next</a><span>|</span><label class="collapse" for="c-42629443">[-]</label><label class="expand" for="c-42629443">[1 more]</label></div><br/><div class="children"><div class="content">This is just amazing. So clean and straightforward. On a Mac just run it in Chrome see things work automagically.  For real fun change the generations constant to 2000 and delete the usleep line to see this thing really cook.</div><br/></div></div><div id="42628128" class="c"><input type="checkbox" id="c-42628128" checked=""/><div class="controls bullet"><span class="by">Cieric</span><span>|</span><a href="#42629443">prev</a><span>|</span><a href="#42630958">next</a><span>|</span><label class="collapse" for="c-42628128">[-]</label><label class="expand" for="c-42628128">[3 more]</label></div><br/><div class="children"><div class="content">I love the idea of this, but sadly I can&#x27;t get it to work in Firefox, Chrome or Edge on my work pc, probably because I can&#x27;t find &quot;--enable-features=Vulkan&quot; equivalent in the about:flags and the argument doesn&#x27;t appear to work on windows. I&#x27;m actually a bit more curious about a standalone application that skips the webgpu part and goes straight to Vulkan as I would love to be able to experiment with some Cuda only applications.</div><br/><div id="42628604" class="c"><input type="checkbox" id="c-42628604" checked=""/><div class="controls bullet"><span class="by">lights0123</span><span>|</span><a href="#42628128">parent</a><span>|</span><a href="#42629062">next</a><span>|</span><label class="collapse" for="c-42628604">[-]</label><label class="expand" for="c-42628604">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t currently expose the option to run the compiler if a GPU isn&#x27;t detected, but on systems that do, it exposes a download option that lets you download the SPIR-V kernel to run with Vulkan.</div><br/></div></div><div id="42629062" class="c"><input type="checkbox" id="c-42629062" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#42628128">parent</a><span>|</span><a href="#42628604">prev</a><span>|</span><a href="#42630958">next</a><span>|</span><label class="collapse" for="c-42629062">[-]</label><label class="expand" for="c-42629062">[1 more]</label></div><br/><div class="children"><div class="content">I got a `Uncaught (in promise) TypeError: WebAssembly compilation aborted: Network error: Response body loading was aborted` error the first time, but after a reload it worked.</div><br/></div></div></div></div><div id="42630958" class="c"><input type="checkbox" id="c-42630958" checked=""/><div class="controls bullet"><span class="by">samagra14</span><span>|</span><a href="#42628128">prev</a><span>|</span><a href="#42631044">next</a><span>|</span><label class="collapse" for="c-42630958">[-]</label><label class="expand" for="c-42630958">[1 more]</label></div><br/><div class="children"><div class="content">Sounds interesting! I love all these edge experiments. But as long as there is architecture dependent code for models, I feel these edge experiments can&#x27;t fully express their strong suit.<p>You try to run something and Voila you need Ampere or Hopper or Laplace for flash attnt.</div><br/></div></div><div id="42631044" class="c"><input type="checkbox" id="c-42631044" checked=""/><div class="controls bullet"><span class="by">mlepath</span><span>|</span><a href="#42630958">prev</a><span>|</span><a href="#42627113">next</a><span>|</span><label class="collapse" for="c-42631044">[-]</label><label class="expand" for="c-42631044">[1 more]</label></div><br/><div class="children"><div class="content">This is really awesome. Tested it on both Nvidia and Mac GPUs.<p>Interested to know how debugging in a real application would work since WASM is pretty hard to debug and GPU code is pretty hard to debug. I assume WASM GPU is ... very difficult to debug.</div><br/></div></div><div id="42627113" class="c"><input type="checkbox" id="c-42627113" checked=""/><div class="controls bullet"><span class="by">punnerud</span><span>|</span><a href="#42631044">prev</a><span>|</span><a href="#42626744">next</a><span>|</span><label class="collapse" for="c-42627113">[-]</label><label class="expand" for="c-42627113">[4 more]</label></div><br/><div class="children"><div class="content">How performant is the CUDA code in browser compared to standalone program?<p>Could we have PyTorch &#x2F; ML training with CUDA through the browser performing ok?</div><br/><div id="42632327" class="c"><input type="checkbox" id="c-42632327" checked=""/><div class="controls bullet"><span class="by">machinekob</span><span>|</span><a href="#42627113">parent</a><span>|</span><a href="#42627457">next</a><span>|</span><label class="collapse" for="c-42632327">[-]</label><label class="expand" for="c-42632327">[1 more]</label></div><br/><div class="children"><div class="content">WebGPU don&#x27;t have access to most accelerators in GPU so it would be super slow compared to CUDNN version but pure CUDA would be only x times times faster.</div><br/></div></div><div id="42627457" class="c"><input type="checkbox" id="c-42627457" checked=""/><div class="controls bullet"><span class="by">mordechai9000</span><span>|</span><a href="#42627113">parent</a><span>|</span><a href="#42632327">prev</a><span>|</span><a href="#42626744">next</a><span>|</span><label class="collapse" for="c-42627457">[-]</label><label class="expand" for="c-42627457">[2 more]</label></div><br/><div class="children"><div class="content">Distributed large model training with web clients?</div><br/><div id="42629054" class="c"><input type="checkbox" id="c-42629054" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#42627113">root</a><span>|</span><a href="#42627457">parent</a><span>|</span><a href="#42626744">next</a><span>|</span><label class="collapse" for="c-42629054">[-]</label><label class="expand" for="c-42629054">[1 more]</label></div><br/><div class="children"><div class="content">With 10Tb&#x2F;s Internet, then sure!</div><br/></div></div></div></div></div></div><div id="42626744" class="c"><input type="checkbox" id="c-42626744" checked=""/><div class="controls bullet"><span class="by">JackYoustra</span><span>|</span><a href="#42627113">prev</a><span>|</span><a href="#42629608">next</a><span>|</span><label class="collapse" for="c-42626744">[-]</label><label class="expand" for="c-42626744">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know why this never occurred to me. What a great website, glad you made it!</div><br/></div></div><div id="42629608" class="c"><input type="checkbox" id="c-42629608" checked=""/><div class="controls bullet"><span class="by">uncheckederror</span><span>|</span><a href="#42626744">prev</a><span>|</span><a href="#42628091">next</a><span>|</span><label class="collapse" for="c-42629608">[-]</label><label class="expand" for="c-42629608">[1 more]</label></div><br/><div class="children"><div class="content">Impressed that this runs on my RX 6900XT (an RDNA2 GPU) in Chrome without any trouble. Very cool demo, excited to see how people leverage this capability.</div><br/></div></div><div id="42628091" class="c"><input type="checkbox" id="c-42628091" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#42629608">prev</a><span>|</span><a href="#42631620">next</a><span>|</span><label class="collapse" for="c-42628091">[-]</label><label class="expand" for="c-42628091">[1 more]</label></div><br/><div class="children"><div class="content">This feels like more stages than should be necessary (something should be able to do LLVM IR direct to WebGPU) but it&#x27;s great to see it running, very nice!</div><br/></div></div><div id="42631620" class="c"><input type="checkbox" id="c-42631620" checked=""/><div class="controls bullet"><span class="by">Lockal</span><span>|</span><a href="#42628091">prev</a><span>|</span><a href="#42627109">next</a><span>|</span><label class="collapse" for="c-42631620">[-]</label><label class="expand" for="c-42631620">[1 more]</label></div><br/><div class="children"><div class="content">Now I wonder how long will it take to add chipStar&#x2F;Clspv&#x2F;Tint to  <a href="https:&#x2F;&#x2F;github.com&#x2F;jhuber6&#x2F;doomgeneric&#x2F;tree&#x2F;amdgpu">https:&#x2F;&#x2F;github.com&#x2F;jhuber6&#x2F;doomgeneric&#x2F;tree&#x2F;amdgpu</a> and run DOOM on WebGPU this time.</div><br/></div></div><div id="42627109" class="c"><input type="checkbox" id="c-42627109" checked=""/><div class="controls bullet"><span class="by">ryanmerket</span><span>|</span><a href="#42631620">prev</a><span>|</span><a href="#42627392">next</a><span>|</span><label class="collapse" for="c-42627109">[-]</label><label class="expand" for="c-42627109">[1 more]</label></div><br/><div class="children"><div class="content">Very cool. Thank you for creating this!</div><br/></div></div><div id="42627392" class="c"><input type="checkbox" id="c-42627392" checked=""/><div class="controls bullet"><span class="by">bloomingkales</span><span>|</span><a href="#42627109">prev</a><span>|</span><label class="collapse" for="c-42627392">[-]</label><label class="expand" for="c-42627392">[2 more]</label></div><br/><div class="children"><div class="content">How is this different than web-llm?</div><br/><div id="42627465" class="c"><input type="checkbox" id="c-42627465" checked=""/><div class="controls bullet"><span class="by">lights0123</span><span>|</span><a href="#42627392">parent</a><span>|</span><label class="collapse" for="c-42627465">[-]</label><label class="expand" for="c-42627465">[1 more]</label></div><br/><div class="children"><div class="content">web-llm provides optimized kernels for neural network operations, and a convenient API for it. This project provides a place to experiment with CUDA, for any purpose—not necessarily for anything related to machine learning.</div><br/></div></div></div></div></div></div></div></div></div></body></html>