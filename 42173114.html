<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732006876076" as="style"/><link rel="stylesheet" href="styles.css?v=1732006876076"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jvernay.fr/en/blog/skyline-2d-packer/implementation/">The Skyline algorithm for packing 2D rectangles</a>Â <span class="domain">(<a href="https://jvernay.fr">jvernay.fr</a>)</span></div><div class="subtext"><span>lapnect</span> | <span>48 comments</span></div><br/><div><div id="42180968" class="c"><input type="checkbox" id="c-42180968" checked=""/><div class="controls bullet"><span class="by">mzl</span><span>|</span><a href="#42174962">next</a><span>|</span><label class="collapse" for="c-42180968">[-]</label><label class="expand" for="c-42180968">[1 more]</label></div><br/><div class="children"><div class="content">The standard heuristic any 2D packing algorithm starts with is left-bottom or bottom-left (the choice is symmetrical). Place a piece as much to the left as possible, and among equal choicse as low as possible (or vice versa, as the choice was in the linked article). From this base heuristic, further meta-heuristics can be developed with choices for the order to pack parts, how to choose among &quot;almost equal&quot; positions, choosing among rotations and symmetries, and so on.<p>As far as I can tell, the &quot;Skyline algorithm&quot; is bottom-left with the limitation that created holes can not be packed. This doesn&#x27;t feel like a packing algorithm as much as it feels like a heuristic to speed up position finding.</div><br/></div></div><div id="42174962" class="c"><input type="checkbox" id="c-42174962" checked=""/><div class="controls bullet"><span class="by">romesmoke</span><span>|</span><a href="#42180968">prev</a><span>|</span><a href="#42179908">next</a><span>|</span><label class="collapse" for="c-42174962">[-]</label><label class="expand" for="c-42174962">[9 more]</label></div><br/><div class="children"><div class="content">An interesting variation is Dynamic Storage Allocation, in which the rectangles can slide only alongside one axis.<p>AKA &quot;static memory allocation&quot;, since the heights of the rectangles can be interpreted as buffer sizes, and their widths as lifetimes.<p>Most of my PhD&#x27;s effort has been devoted to beating the SOTA in this. Problem&#x27;s importance nowadays is owed to deep learning&#x27;s memory wall.</div><br/><div id="42178981" class="c"><input type="checkbox" id="c-42178981" checked=""/><div class="controls bullet"><span class="by">almostgotcaught</span><span>|</span><a href="#42174962">parent</a><span>|</span><a href="#42175495">next</a><span>|</span><label class="collapse" for="c-42178981">[-]</label><label class="expand" for="c-42178981">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Most of my PhD&#x27;s effort has been devoted to beating the SOTA in this. Problem&#x27;s importance nowadays is owed to deep learning&#x27;s memory wall.<p>lol i similarly spent 1 year of my phd trying to finagle this same thing for the same exact reason. got as far as proving that when it&#x27;s parameterized (like in the case of DNNs with algebraically coupled layers) it&#x27;s FPT (finite parameter tractable) which is like duh but also as soon as i found that i gave up (not much more to be done &lt;shrug&gt;).</div><br/><div id="42180194" class="c"><input type="checkbox" id="c-42180194" checked=""/><div class="controls bullet"><span class="by">romesmoke</span><span>|</span><a href="#42174962">root</a><span>|</span><a href="#42178981">parent</a><span>|</span><a href="#42175495">next</a><span>|</span><label class="collapse" for="c-42180194">[-]</label><label class="expand" for="c-42180194">[1 more]</label></div><br/><div class="children"><div class="content">Hm, you sound like you approached it from the theoretical ML side. My strategy was much less sophisticated: I implemented the Buchsbaum et al. paper you posted in another comment of yours.</div><br/></div></div></div></div><div id="42175495" class="c"><input type="checkbox" id="c-42175495" checked=""/><div class="controls bullet"><span class="by">auvi</span><span>|</span><a href="#42174962">parent</a><span>|</span><a href="#42178981">prev</a><span>|</span><a href="#42179908">next</a><span>|</span><label class="collapse" for="c-42175495">[-]</label><label class="expand" for="c-42175495">[6 more]</label></div><br/><div class="children"><div class="content">nice! you have your thesis or any related paper available online?</div><br/><div id="42180210" class="c"><input type="checkbox" id="c-42180210" checked=""/><div class="controls bullet"><span class="by">romesmoke</span><span>|</span><a href="#42174962">root</a><span>|</span><a href="#42175495">parent</a><span>|</span><a href="#42177050">next</a><span>|</span><label class="collapse" for="c-42180210">[-]</label><label class="expand" for="c-42180210">[1 more]</label></div><br/><div class="children"><div class="content">Hopefully I&#x27;ll defend next summer.<p>Papers-and-code-wise, I haven&#x27;t published the &quot;final&quot; thing yet. Right now I&#x27;m looking into integrating it with IREE, to get some end-to-end figures.</div><br/></div></div><div id="42179023" class="c"><input type="checkbox" id="c-42179023" checked=""/><div class="controls bullet"><span class="by">almostgotcaught</span><span>|</span><a href="#42174962">root</a><span>|</span><a href="#42175495">parent</a><span>|</span><a href="#42177050">prev</a><span>|</span><a href="#42179908">next</a><span>|</span><label class="collapse" for="c-42179023">[-]</label><label class="expand" for="c-42179023">[3 more]</label></div><br/><div class="children"><div class="content">there are a bunch of papers on DSA from the OR people<p><a href="http:&#x2F;&#x2F;adambuchsbaum.com&#x2F;papers&#x2F;dsa-stoc03.pdf" rel="nofollow">http:&#x2F;&#x2F;adambuchsbaum.com&#x2F;papers&#x2F;dsa-stoc03.pdf</a><p><a href="https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;978-3-540-27798-9_37" rel="nofollow">https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;978-3-540-27798-9_...</a><p><a href="https:&#x2F;&#x2F;users.cs.northwestern.edu&#x2F;~pdinda&#x2F;ics-s05&#x2F;doc&#x2F;dsa.pdf" rel="nofollow">https:&#x2F;&#x2F;users.cs.northwestern.edu&#x2F;~pdinda&#x2F;ics-s05&#x2F;doc&#x2F;dsa.pd...</a><p>there are also some from ML people trying to allocate memory optimally for DNNs:<p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1907.01989" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1907.01989</a><p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1804.10001" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1804.10001</a><p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2001.03288" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2001.03288</a><p>they all boil down to a couple of greedy heuristics. the most recent &quot;cool&quot; paper was from a group at google<p><a href="https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3567955.3567961" rel="nofollow">https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.1145&#x2F;3567955.3567961</a><p>basic idea is to use both ILP and heurstics. i asked them to open source but no dice :(</div><br/><div id="42179064" class="c"><input type="checkbox" id="c-42179064" checked=""/><div class="controls bullet"><span class="by">p0ckets</span><span>|</span><a href="#42174962">root</a><span>|</span><a href="#42179023">parent</a><span>|</span><a href="#42179908">next</a><span>|</span><label class="collapse" for="c-42179064">[-]</label><label class="expand" for="c-42179064">[2 more]</label></div><br/><div class="children"><div class="content">An even more recent one from Google: <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;minimalloc">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;minimalloc</a></div><br/><div id="42179116" class="c"><input type="checkbox" id="c-42179116" checked=""/><div class="controls bullet"><span class="by">almostgotcaught</span><span>|</span><a href="#42174962">root</a><span>|</span><a href="#42179064">parent</a><span>|</span><a href="#42179908">next</a><span>|</span><label class="collapse" for="c-42179116">[-]</label><label class="expand" for="c-42179116">[1 more]</label></div><br/><div class="children"><div class="content">i gave up on the problem about 18 months ago so i didn&#x27;t keep up with the research area. is this yours? the runtimes are of course very good but i don&#x27;t see a comparison on how good the approximation is vs telamalloc (or just ILP). i&#x27;ll say this though: it&#x27;s miraculuos that the impl is so small.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42179908" class="c"><input type="checkbox" id="c-42179908" checked=""/><div class="controls bullet"><span class="by">hammock</span><span>|</span><a href="#42174962">prev</a><span>|</span><a href="#42178551">next</a><span>|</span><label class="collapse" for="c-42179908">[-]</label><label class="expand" for="c-42179908">[2 more]</label></div><br/><div class="children"><div class="content">There is a machine in a certain wood window manufacturer&#x27;s plant that I have toured, which uses lasers to measure odd pieces of wood and then table saws to cut them into necessary sized pieces, minimizing waste - even cuts for fingerjoints - it all happens on a moving belt, and it happens extremely fast and in real-time. I was impressed. Probably powered by something like this algorithm (or the MAXRECTS one)</div><br/><div id="42180522" class="c"><input type="checkbox" id="c-42180522" checked=""/><div class="controls bullet"><span class="by">genewitch</span><span>|</span><a href="#42179908">parent</a><span>|</span><a href="#42178551">next</a><span>|</span><label class="collapse" for="c-42180522">[-]</label><label class="expand" for="c-42180522">[1 more]</label></div><br/><div class="children"><div class="content">Was it Jeldwin? I still have nightmares about the sound of their saw during the winter months in OR.</div><br/></div></div></div></div><div id="42178551" class="c"><input type="checkbox" id="c-42178551" checked=""/><div class="controls bullet"><span class="by">delibes</span><span>|</span><a href="#42179908">prev</a><span>|</span><a href="#42175167">next</a><span>|</span><label class="collapse" for="c-42178551">[-]</label><label class="expand" for="c-42178551">[1 more]</label></div><br/><div class="children"><div class="content">You can probably get denser packing (at least in theory), if you allow rotation. It&#x27;s just ugly:<p><a href="https:&#x2F;&#x2F;kingbird.myphotos.cc&#x2F;packing&#x2F;squares_in_squares.html" rel="nofollow">https:&#x2F;&#x2F;kingbird.myphotos.cc&#x2F;packing&#x2F;squares_in_squares.html</a></div><br/></div></div><div id="42175167" class="c"><input type="checkbox" id="c-42175167" checked=""/><div class="controls bullet"><span class="by">alex_suzuki</span><span>|</span><a href="#42178551">prev</a><span>|</span><a href="#42177330">next</a><span>|</span><label class="collapse" for="c-42175167">[-]</label><label class="expand" for="c-42175167">[1 more]</label></div><br/><div class="children"><div class="content">Nice, I didnât know stb had a rect packer: <a href="https:&#x2F;&#x2F;github.com&#x2F;nothings&#x2F;stb&#x2F;blob&#x2F;master&#x2F;stb_rect_pack.h">https:&#x2F;&#x2F;github.com&#x2F;nothings&#x2F;stb&#x2F;blob&#x2F;master&#x2F;stb_rect_pack.h</a></div><br/></div></div><div id="42177330" class="c"><input type="checkbox" id="c-42177330" checked=""/><div class="controls bullet"><span class="by">antirez</span><span>|</span><a href="#42175167">prev</a><span>|</span><a href="#42178716">next</a><span>|</span><label class="collapse" for="c-42177330">[-]</label><label class="expand" for="c-42177330">[2 more]</label></div><br/><div class="children"><div class="content">I wonder how well Montecarlo works with a problem like this (for the online version), where you try all the potential places and run simulations adding new random boxes similar to the one added so far in order to see which option allows for better outcome. For sure it&#x27;s slow, yet it should work well, which is interesting per-se since it would show once more how you can come up with slow but good solutions just simulating stuff. But likely, this is how this heuristics, like Skyline, were found: analyzing the properties of the brute-forced best picks.</div><br/><div id="42177572" class="c"><input type="checkbox" id="c-42177572" checked=""/><div class="controls bullet"><span class="by">theOGognf</span><span>|</span><a href="#42177330">parent</a><span>|</span><a href="#42178716">next</a><span>|</span><label class="collapse" for="c-42177572">[-]</label><label class="expand" for="c-42177572">[1 more]</label></div><br/><div class="children"><div class="content">They do this in subsets of aerodynamics for optimizing the tradeoff between simulation speed and fidelity in cases where there will be a lot of runs with the same geometry but different parameters</div><br/></div></div></div></div><div id="42178716" class="c"><input type="checkbox" id="c-42178716" checked=""/><div class="controls bullet"><span class="by">reader9274</span><span>|</span><a href="#42177330">prev</a><span>|</span><a href="#42175382">next</a><span>|</span><label class="collapse" for="c-42178716">[-]</label><label class="expand" for="c-42178716">[1 more]</label></div><br/><div class="children"><div class="content">I implemented a variation of this at Intel about 10 years ago to solve the efficient testing of microchips with different input&#x2F;output pins on a limited-pin in&#x2F;out tester. The goal was to efficiently load the chips in the tester to maximize utilization, with TT of each chip being the same. Fun times, heuristic-solving my way through the NP bin packing problem.</div><br/></div></div><div id="42175382" class="c"><input type="checkbox" id="c-42175382" checked=""/><div class="controls bullet"><span class="by">clippy99</span><span>|</span><a href="#42178716">prev</a><span>|</span><a href="#42177694">next</a><span>|</span><label class="collapse" for="c-42175382">[-]</label><label class="expand" for="c-42175382">[6 more]</label></div><br/><div class="children"><div class="content">Great writeup. Sucks when this gets asked in a coding interview to be solved in 15min :)</div><br/><div id="42178150" class="c"><input type="checkbox" id="c-42178150" checked=""/><div class="controls bullet"><span class="by">mikepurvis</span><span>|</span><a href="#42175382">parent</a><span>|</span><a href="#42177694">next</a><span>|</span><label class="collapse" for="c-42178150">[-]</label><label class="expand" for="c-42178150">[5 more]</label></div><br/><div class="children"><div class="content">To be fair, in an interview context theyâre probably looking for what you would implement in the mvp just to avoid getting blocked, and a brief acknowledgement that itâs an academic problem and once you have data to understand it better youâll select and implement an appropriate algorithm after design review with colleagues.</div><br/><div id="42179001" class="c"><input type="checkbox" id="c-42179001" checked=""/><div class="controls bullet"><span class="by">guessmyname</span><span>|</span><a href="#42175382">root</a><span>|</span><a href="#42178150">parent</a><span>|</span><a href="#42177694">next</a><span>|</span><label class="collapse" for="c-42179001">[-]</label><label class="expand" for="c-42179001">[4 more]</label></div><br/><div class="children"><div class="content">In theory, yes, but in practice...<p>Iâve interviewed with several companies that asked me this specific question [1], including Facebook, ByteDance, LinkedIn, and a particular team at Apple (not my current team). The interviewers, perhaps somewhat optimistically [2], expected a fully working solution. They gave me about 40 minutesâmore than the 15 minutes mentioned in the original commentâbut I definitely needed the first 10-15 minutes just to get a brute-force solution running. The rest of the time was spent refining the approach and addressing 1-2 additional requirements to pass a set of visible tests.<p>It was challenging, but not in a traditional engineering sense. It felt more like an ACM competition [3].<p>Fortunately, programming skills arenât the only thing companies assess these days. With over a decade of work experience, behavioral (experience-based) interviews now play a larger role in the final hiring decision. That said, depending on who conducts the technical portion of the interview, you could still be rejected if your code doesnât work.<p>[1] <a href="https:&#x2F;&#x2F;leetcode.com&#x2F;problems&#x2F;the-skyline-problem&#x2F;description&#x2F;" rel="nofollow">https:&#x2F;&#x2F;leetcode.com&#x2F;problems&#x2F;the-skyline-problem&#x2F;descriptio...</a><p>[2] Them, being so young (&lt;10 YoE), consider LeetCode a panacea<p>[3] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Competitive_programming" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Competitive_programming</a></div><br/><div id="42180009" class="c"><input type="checkbox" id="c-42180009" checked=""/><div class="controls bullet"><span class="by">mikepurvis</span><span>|</span><a href="#42175382">root</a><span>|</span><a href="#42179001">parent</a><span>|</span><a href="#42180554">next</a><span>|</span><label class="collapse" for="c-42180009">[-]</label><label class="expand" for="c-42180009">[1 more]</label></div><br/><div class="children"><div class="content">Blah, that sucks. I happily did a take home assignment recently for an interview and enjoyed digging into it, but if asked to solve such a generic brain teaser under a time constraints Iâd probably just walk outâ at 38 Iâm too old to be playing those games.</div><br/></div></div><div id="42180554" class="c"><input type="checkbox" id="c-42180554" checked=""/><div class="controls bullet"><span class="by">genewitch</span><span>|</span><a href="#42175382">root</a><span>|</span><a href="#42179001">parent</a><span>|</span><a href="#42180009">prev</a><span>|</span><a href="#42177694">next</a><span>|</span><label class="collapse" for="c-42180554">[-]</label><label class="expand" for="c-42180554">[2 more]</label></div><br/><div class="children"><div class="content">thanks for linking that leetcode link; the entire time i&#x27;ve been reading about it i thought it was a separate programming language used for these &quot;challenges&quot; at workplaces. I&#x27;m not a programmer by trade so i was surprised to see python is usable, too.<p>Sorry for asking you (i&#x27;m not, just shouting into the ethernet) - when people say they take a few months off to &quot;grind leetcode&quot; do they just go through the problems on that site? When an employer issues a challenge it&#x27;s going to be exactly worded as when you practiced? like, the potential employer in your experience gave you that URL and said &quot;go&quot;?</div><br/><div id="42181323" class="c"><input type="checkbox" id="c-42181323" checked=""/><div class="controls bullet"><span class="by">lentil_soup</span><span>|</span><a href="#42175382">root</a><span>|</span><a href="#42180554">parent</a><span>|</span><a href="#42177694">next</a><span>|</span><label class="collapse" for="c-42181323">[-]</label><label class="expand" for="c-42181323">[1 more]</label></div><br/><div class="children"><div class="content">Not OP but yeah, they mean to work your way through the problems there and yes most &quot;normal&quot; languages are fine, python, js, C, java, etc.<p>In my experience they won&#x27;t just give you an URL, it&#x27;ll just be a problem in the style of the ones there. Thing is, once you&#x27;ve done a few of them you&#x27;ll see that there&#x27;s only a set of algorithms that usually apply. The setting and input will vary but in the end you can reduce it to a known algorithm or technic so it&#x27;s more about finding which one fits and can solve the problem</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42177694" class="c"><input type="checkbox" id="c-42177694" checked=""/><div class="controls bullet"><span class="by">solomonb</span><span>|</span><a href="#42175382">prev</a><span>|</span><a href="#42179170">next</a><span>|</span><label class="collapse" for="c-42177694">[-]</label><label class="expand" for="c-42177694">[1 more]</label></div><br/><div class="children"><div class="content">One of my first big personal programming projects was implementing this and a bunch of variations in python many years ago: <a href="https:&#x2F;&#x2F;github.com&#x2F;solomon-b&#x2F;greedypacker">https:&#x2F;&#x2F;github.com&#x2F;solomon-b&#x2F;greedypacker</a><p>Its still my most starred repo. :shrug:</div><br/></div></div><div id="42179170" class="c"><input type="checkbox" id="c-42179170" checked=""/><div class="controls bullet"><span class="by">starmole</span><span>|</span><a href="#42177694">prev</a><span>|</span><a href="#42175253">next</a><span>|</span><label class="collapse" for="c-42179170">[-]</label><label class="expand" for="c-42179170">[1 more]</label></div><br/><div class="children"><div class="content">I always thought this was called the Tetris packing algorithm. Because you drop in pieces from the top like in a game of Tetris. (no sliding in sideways allowed :))</div><br/></div></div><div id="42175253" class="c"><input type="checkbox" id="c-42175253" checked=""/><div class="controls bullet"><span class="by">thanatos519</span><span>|</span><a href="#42179170">prev</a><span>|</span><a href="#42175875">next</a><span>|</span><label class="collapse" for="c-42175253">[-]</label><label class="expand" for="c-42175253">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re printing randomly sized rectangles and want to cut them apart with a guillotine paper cutter, then the algorithm can be much simpler: <a href="https:&#x2F;&#x2F;github.com&#x2F;trathborne&#x2F;guillot">https:&#x2F;&#x2F;github.com&#x2F;trathborne&#x2F;guillot</a></div><br/></div></div><div id="42175875" class="c"><input type="checkbox" id="c-42175875" checked=""/><div class="controls bullet"><span class="by">mjevans</span><span>|</span><a href="#42175253">prev</a><span>|</span><a href="#42175415">next</a><span>|</span><label class="collapse" for="c-42175875">[-]</label><label class="expand" for="c-42175875">[1 more]</label></div><br/><div class="children"><div class="content">This blog post references <a href="https:&#x2F;&#x2F;github.com&#x2F;juj&#x2F;RectangleBinPack&#x2F;blob&#x2F;master&#x2F;RectangleBinPack.pdf">https:&#x2F;&#x2F;github.com&#x2F;juj&#x2F;RectangleBinPack&#x2F;blob&#x2F;master&#x2F;Rectangl...</a> ( and implicitly <a href="https:&#x2F;&#x2F;github.com&#x2F;juj&#x2F;RectangleBinPack&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;juj&#x2F;RectangleBinPack&#x2F;</a> ) as it&#x27;s primary source.<p>The README even mentions the guillotine algorithm &#x2F; method that someone else posted (not the same link, but the same method).</div><br/></div></div><div id="42175415" class="c"><input type="checkbox" id="c-42175415" checked=""/><div class="controls bullet"><span class="by">jkaptur</span><span>|</span><a href="#42175875">prev</a><span>|</span><a href="#42179694">next</a><span>|</span><label class="collapse" for="c-42175415">[-]</label><label class="expand" for="c-42175415">[2 more]</label></div><br/><div class="children"><div class="content">Very fun. I wonder if a heap could improve the performance of the &quot;loop through the skyline in order to find the best candidate location&quot; step. (I think it would improve the asymptotic time, if I&#x27;m understanding the algorithm correctly, but obviously the real performance is more complex).</div><br/><div id="42176094" class="c"><input type="checkbox" id="c-42176094" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42175415">parent</a><span>|</span><a href="#42179694">next</a><span>|</span><label class="collapse" for="c-42176094">[-]</label><label class="expand" for="c-42176094">[1 more]</label></div><br/><div class="children"><div class="content">With some clever bit twiddling hacks, you might be able to avoid the loop entirely.</div><br/></div></div></div></div><div id="42179694" class="c"><input type="checkbox" id="c-42179694" checked=""/><div class="controls bullet"><span class="by">swayvil</span><span>|</span><a href="#42175415">prev</a><span>|</span><a href="#42177447">next</a><span>|</span><label class="collapse" for="c-42179694">[-]</label><label class="expand" for="c-42179694">[1 more]</label></div><br/><div class="children"><div class="content">I wonder how good random placement would work.<p>IE :<p>Create a number of compositions where you put everything in random locations.<p>Discard any compositions with overlaps.<p>Keep the ones with the smallest wasted space or whatever.<p>Also, this might be a good application for AI.</div><br/></div></div><div id="42177447" class="c"><input type="checkbox" id="c-42177447" checked=""/><div class="controls bullet"><span class="by">nsxwolf</span><span>|</span><a href="#42179694">prev</a><span>|</span><a href="#42177033">next</a><span>|</span><label class="collapse" for="c-42177447">[-]</label><label class="expand" for="c-42177447">[1 more]</label></div><br/><div class="children"><div class="content">Can&#x27;t wait to ask this one as a Leetcode warmup.</div><br/></div></div><div id="42177033" class="c"><input type="checkbox" id="c-42177033" checked=""/><div class="controls bullet"><span class="by">taeric</span><span>|</span><a href="#42177447">prev</a><span>|</span><a href="#42174294">next</a><span>|</span><label class="collapse" for="c-42177033">[-]</label><label class="expand" for="c-42177033">[1 more]</label></div><br/><div class="children"><div class="content">Fun write up, kudos!<p>At a glance, this feels like a good case for an exact cover algorithm.  Would be neat to see how that compares, here.</div><br/></div></div><div id="42174294" class="c"><input type="checkbox" id="c-42174294" checked=""/><div class="controls bullet"><span class="by">proee</span><span>|</span><a href="#42177033">prev</a><span>|</span><a href="#42177684">next</a><span>|</span><label class="collapse" for="c-42174294">[-]</label><label class="expand" for="c-42174294">[12 more]</label></div><br/><div class="children"><div class="content">This looks useful for auto-placing parts inside a PCB.</div><br/><div id="42175440" class="c"><input type="checkbox" id="c-42175440" checked=""/><div class="controls bullet"><span class="by">sumtechguy</span><span>|</span><a href="#42174294">parent</a><span>|</span><a href="#42175082">next</a><span>|</span><label class="collapse" for="c-42175440">[-]</label><label class="expand" for="c-42175440">[9 more]</label></div><br/><div class="children"><div class="content">Packing has so many applications for different things.  Such as optimal packing of a truck or shipping container.  Or how to optimally pack graphics into a GPU texture.<p>I had this guy as a prof.  <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;David_A._Klarner" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;David_A._Klarner</a>
I have never encountered someone so excited about dividing up rectangles, as it is related to combinatorics.  Also with such a seething hatred for floating point numbers.</div><br/><div id="42177491" class="c"><input type="checkbox" id="c-42177491" checked=""/><div class="controls bullet"><span class="by">db48x</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42175440">parent</a><span>|</span><a href="#42177196">next</a><span>|</span><label class="collapse" for="c-42177491">[-]</label><label class="expand" for="c-42177491">[3 more]</label></div><br/><div class="children"><div class="content">Packing things into a GPU texture is probably the #1 most common use. If you played a game today then your computer probably spent some time packing rectangles into rectangles.</div><br/><div id="42178568" class="c"><input type="checkbox" id="c-42178568" checked=""/><div class="controls bullet"><span class="by">joshtynjala</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42177491">parent</a><span>|</span><a href="#42177196">next</a><span>|</span><label class="collapse" for="c-42178568">[-]</label><label class="expand" for="c-42178568">[2 more]</label></div><br/><div class="children"><div class="content">Your web browser may have also spent some time packing rectangles into rectangles. I recall reading this article a while back about how Firefox does&#x2F;did it.<p><a href="https:&#x2F;&#x2F;mozillagfx.wordpress.com&#x2F;2021&#x2F;02&#x2F;04&#x2F;improving-texture-atlas-allocation-in-webrender&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mozillagfx.wordpress.com&#x2F;2021&#x2F;02&#x2F;04&#x2F;improving-textur...</a></div><br/><div id="42178684" class="c"><input type="checkbox" id="c-42178684" checked=""/><div class="controls bullet"><span class="by">db48x</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42178568">parent</a><span>|</span><a href="#42177196">next</a><span>|</span><label class="collapse" for="c-42178684">[-]</label><label class="expand" for="c-42178684">[1 more]</label></div><br/><div class="children"><div class="content">Thatâs great; Iâd forgotten about it.<p>Plus there are a fair few programs that render text by rendering the font into a texture atlas once and then using the GPU to copy from the atlas. Your terminal emulator may be doing this, for example.</div><br/></div></div></div></div></div></div><div id="42177196" class="c"><input type="checkbox" id="c-42177196" checked=""/><div class="controls bullet"><span class="by">pavel_lishin</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42175440">parent</a><span>|</span><a href="#42177491">prev</a><span>|</span><a href="#42177042">next</a><span>|</span><label class="collapse" for="c-42177196">[-]</label><label class="expand" for="c-42177196">[1 more]</label></div><br/><div class="children"><div class="content">Hell, I needed something like this when working on my Halloween costumes this year!</div><br/></div></div><div id="42177042" class="c"><input type="checkbox" id="c-42177042" checked=""/><div class="controls bullet"><span class="by">pineaux</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42175440">parent</a><span>|</span><a href="#42177196">prev</a><span>|</span><a href="#42175082">next</a><span>|</span><label class="collapse" for="c-42177042">[-]</label><label class="expand" for="c-42177042">[4 more]</label></div><br/><div class="children"><div class="content">3d printing build plate optimalisation, passenger transport, real estate plot division. Let&#x27;s make this list longer?</div><br/><div id="42177595" class="c"><input type="checkbox" id="c-42177595" checked=""/><div class="controls bullet"><span class="by">amenghra</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42177042">parent</a><span>|</span><a href="#42175082">next</a><span>|</span><label class="collapse" for="c-42177595">[-]</label><label class="expand" for="c-42177595">[3 more]</label></div><br/><div class="children"><div class="content">A long time ago, some websites used to pack their images and use css to display a piece of the larger image. It reduced the number of round trips by not having to fetch a bunch of small files.</div><br/><div id="42177651" class="c"><input type="checkbox" id="c-42177651" checked=""/><div class="controls bullet"><span class="by">qingcharles</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42177595">parent</a><span>|</span><a href="#42175082">next</a><span>|</span><label class="collapse" for="c-42177651">[-]</label><label class="expand" for="c-42177651">[2 more]</label></div><br/><div class="children"><div class="content">This &quot;sprite sheet&quot; style hack is still used sometimes.<p>I guess it&#x27;s not really that necessary now that most sites load 25MB of JavaScript and a 250MB video that plays onload.</div><br/><div id="42177858" class="c"><input type="checkbox" id="c-42177858" checked=""/><div class="controls bullet"><span class="by">amenghra</span><span>|</span><a href="#42174294">root</a><span>|</span><a href="#42177651">parent</a><span>|</span><a href="#42175082">next</a><span>|</span><label class="collapse" for="c-42177858">[-]</label><label class="expand" for="c-42177858">[1 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;2&#x27;s multiplexing is probably the main reason we don&#x27;t need sprite sheets anymore. I guess icon fonts are the modern sprite sheet to some degree.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42175082" class="c"><input type="checkbox" id="c-42175082" checked=""/><div class="controls bullet"><span class="by">hermitcrab</span><span>|</span><a href="#42174294">parent</a><span>|</span><a href="#42175440">prev</a><span>|</span><a href="#42175009">next</a><span>|</span><label class="collapse" for="c-42175082">[-]</label><label class="expand" for="c-42175082">[1 more]</label></div><br/><div class="children"><div class="content">There are all sorts of application for this. E.g. optimally cutting carpets from rolls of carpet. It is a variant on the 2D knapsack problem, one of the classic operational research problems:
<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Knapsack_problem" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Knapsack_problem</a><p>The knapsack problem gets much harder as you increase the dimensions.<p>Placing parts on a PCB is harder if you have to care about where the components go relative to each other (e.g. because they have to be electrically connected, a certain distance from ink marking or drill holes, due to thermal or interference issues etc) rather than just optimizing space used.</div><br/></div></div></div></div><div id="42177684" class="c"><input type="checkbox" id="c-42177684" checked=""/><div class="controls bullet"><span class="by">Const-me</span><span>|</span><a href="#42174294">prev</a><span>|</span><a href="#42178021">next</a><span>|</span><label class="collapse" for="c-42177684">[-]</label><label class="expand" for="c-42177684">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that algorithm is pretty good.<p>BTW, when I needed it, I have ported C algorithm from fontstash library to C++: <a href="https:&#x2F;&#x2F;github.com&#x2F;Const-me&#x2F;nanovg&#x2F;blob&#x2F;master&#x2F;src&#x2F;FontStash2&#x2F;Atlas.h">https:&#x2F;&#x2F;github.com&#x2F;Const-me&#x2F;nanovg&#x2F;blob&#x2F;master&#x2F;src&#x2F;FontStash...</a></div><br/></div></div><div id="42178021" class="c"><input type="checkbox" id="c-42178021" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#42177684">prev</a><span>|</span><a href="#42180111">next</a><span>|</span><label class="collapse" for="c-42178021">[-]</label><label class="expand" for="c-42178021">[1 more]</label></div><br/><div class="children"><div class="content">Is this an algorithm in the family of &quot;2D bin packing&quot;?<p>As for packing sprites for games... I remember the fun on very constrained devices where many of the sprites where actually more round than square. So it was about packing both rectangles (for tiles and &quot;rectangle&quot; sprites) and packing circles too. The size of the spritesheet had to be kept small but in memory things were okay&#x27;ish (as in: a &quot;round&quot; sprite could be extracted from the spritesheet in its own rectangle).<p>Thankfully thing is: this can be done with a much more powerful machine than the device the sprite sheet shall eventually be on.</div><br/></div></div></div></div></div></div></div></body></html>