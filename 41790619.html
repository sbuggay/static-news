<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728550878897" as="style"/><link rel="stylesheet" href="styles.css?v=1728550878897"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/andrearaponi/dito">Dito – an advanced Layer 7 reverse proxy server written in Go</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>andrearaponi12</span> | <span>72 comments</span></div><br/><div><div id="41792073" class="c"><input type="checkbox" id="c-41792073" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#41793712">next</a><span>|</span><label class="collapse" for="c-41792073">[-]</label><label class="expand" for="c-41792073">[12 more]</label></div><br/><div class="children"><div class="content">It&#x27;s funny that layer 7 remains in the vernacular. Nobody talks about layer 6 proxies. Or occasionally somebody will mention a layer 3 proxy. But never layer 5.</div><br/><div id="41792282" class="c"><input type="checkbox" id="c-41792282" checked=""/><div class="controls bullet"><span class="by">campbel</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41794345">next</a><span>|</span><label class="collapse" for="c-41792282">[-]</label><label class="expand" for="c-41792282">[5 more]</label></div><br/><div class="children"><div class="content">For folks in the networking space, differentiating between L4 and L7 proxies is pretty important. And while you could call it an HTTP proxy in many circumstances, some proxies support other protocols e.g a mysql proxy.</div><br/><div id="41795961" class="c"><input type="checkbox" id="c-41795961" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#41792073">root</a><span>|</span><a href="#41792282">parent</a><span>|</span><a href="#41794060">next</a><span>|</span><label class="collapse" for="c-41795961">[-]</label><label class="expand" for="c-41795961">[2 more]</label></div><br/><div class="children"><div class="content">In my opinion &quot;application layer&quot; and &quot;transport layer&quot; would be better terms than L7 and L4.</div><br/><div id="41796870" class="c"><input type="checkbox" id="c-41796870" checked=""/><div class="controls bullet"><span class="by">Karrot_Kream</span><span>|</span><a href="#41792073">root</a><span>|</span><a href="#41795961">parent</a><span>|</span><a href="#41794060">next</a><span>|</span><label class="collapse" for="c-41796870">[-]</label><label class="expand" for="c-41796870">[1 more]</label></div><br/><div class="children"><div class="content">In my last role I started trying to enforce this by refusing to use the terms &quot;Layer 7&quot; and &quot;Layer 4&quot; (I worked on application and transport layer infrastructure at a big tech) but it never caught on and after having to give &quot;the talk&quot; about what happened to OSI Layers a few times I resigned myself to the fate that it was never happening. I will continue to use those terms though.</div><br/></div></div></div></div><div id="41794060" class="c"><input type="checkbox" id="c-41794060" checked=""/><div class="controls bullet"><span class="by">lttlrck</span><span>|</span><a href="#41792073">root</a><span>|</span><a href="#41792282">parent</a><span>|</span><a href="#41795961">prev</a><span>|</span><a href="#41794345">next</a><span>|</span><label class="collapse" for="c-41794060">[-]</label><label class="expand" for="c-41794060">[2 more]</label></div><br/><div class="children"><div class="content">Yes, IMHO calling it a Layer 7 proxy it quite misleading. I was expecting something closer to an ALG.</div><br/><div id="41794686" class="c"><input type="checkbox" id="c-41794686" checked=""/><div class="controls bullet"><span class="by">gtirloni</span><span>|</span><a href="#41792073">root</a><span>|</span><a href="#41794060">parent</a><span>|</span><a href="#41794345">next</a><span>|</span><label class="collapse" for="c-41794686">[-]</label><label class="expand" for="c-41794686">[1 more]</label></div><br/><div class="children"><div class="content">Calling a reverse HTTP proxy a Layer 7 proxy is misleading? Why?</div><br/></div></div></div></div></div></div><div id="41794345" class="c"><input type="checkbox" id="c-41794345" checked=""/><div class="controls bullet"><span class="by">nzgrover</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41792282">prev</a><span>|</span><a href="#41795951">next</a><span>|</span><label class="collapse" for="c-41794345">[-]</label><label class="expand" for="c-41794345">[1 more]</label></div><br/><div class="children"><div class="content">Since noone else has posted it, I will: <a href="https:&#x2F;&#x2F;docs.google.com&#x2F;document&#x2F;u&#x2F;0&#x2F;d&#x2F;1iL0fYmMmariFoSvLd9U5nPVH1uFKC7bvVasUcYq78So&#x2F;mobilebasic" rel="nofollow">https:&#x2F;&#x2F;docs.google.com&#x2F;document&#x2F;u&#x2F;0&#x2F;d&#x2F;1iL0fYmMmariFoSvLd9U5...</a><p>The OSI Deprogrammer</div><br/></div></div><div id="41795951" class="c"><input type="checkbox" id="c-41795951" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41794345">prev</a><span>|</span><a href="#41794673">next</a><span>|</span><label class="collapse" for="c-41795951">[-]</label><label class="expand" for="c-41795951">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s because layer 5 and 6 don&#x27;t really make sense in the TCP&#x2F;IP stack. Maybe you could say TLS is one of those layers, it is definitely a layer between tcp and http, and in haproxy documentation it is layer 6, but it also doesn&#x27;t map to the OSI concept for those layers, and is often said to be layer 7 as well.<p>And then there is quic, which is a transport protocol, so kinda layer 4, but it is higher than udp, but it also has TLS built into it.</div><br/></div></div><div id="41794673" class="c"><input type="checkbox" id="c-41794673" checked=""/><div class="controls bullet"><span class="by">gtirloni</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41795951">prev</a><span>|</span><a href="#41794608">next</a><span>|</span><label class="collapse" for="c-41794673">[-]</label><label class="expand" for="c-41794673">[1 more]</label></div><br/><div class="children"><div class="content">We think in TCP&#x2F;IP but use ISO layer names.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Internet_protocol_suite" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Internet_protocol_suite</a></div><br/></div></div><div id="41794608" class="c"><input type="checkbox" id="c-41794608" checked=""/><div class="controls bullet"><span class="by">inkyoto</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41794673">prev</a><span>|</span><a href="#41792591">next</a><span>|</span><label class="collapse" for="c-41794608">[-]</label><label class="expand" for="c-41794608">[1 more]</label></div><br/><div class="children"><div class="content">Layers, P&#x27;s… blimey, leave them all out of my PSTN connections and bring X.25 back!<p>To rectify this most grievous transgression, I now unveil a device of eternal ingenuity and enchanting craftsmanship, a veritable marvel, which shall restore order to the realm of networking with unparalleled precision and grace: «Whispering X.Gate», a X.25 API Gateway – <a href="https:&#x2F;&#x2F;pastebin.com&#x2F;S11LRJNS" rel="nofollow">https:&#x2F;&#x2F;pastebin.com&#x2F;S11LRJNS</a></div><br/></div></div><div id="41792591" class="c"><input type="checkbox" id="c-41792591" checked=""/><div class="controls bullet"><span class="by">kjs3</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41794608">prev</a><span>|</span><a href="#41793508">next</a><span>|</span><label class="collapse" for="c-41792591">[-]</label><label class="expand" for="c-41792591">[1 more]</label></div><br/><div class="children"><div class="content">We used to at least think about it, but noone seems to be running DECNet, GOSIP or the rest any more.</div><br/></div></div><div id="41793508" class="c"><input type="checkbox" id="c-41793508" checked=""/><div class="controls bullet"><span class="by">dingnuts</span><span>|</span><a href="#41792073">parent</a><span>|</span><a href="#41792591">prev</a><span>|</span><a href="#41793712">next</a><span>|</span><label class="collapse" for="c-41793508">[-]</label><label class="expand" for="c-41793508">[1 more]</label></div><br/><div class="children"><div class="content">aren&#x27;t SSH tunnels layer six proxies in essence?</div><br/></div></div></div></div><div id="41793712" class="c"><input type="checkbox" id="c-41793712" checked=""/><div class="controls bullet"><span class="by">drowsspa</span><span>|</span><a href="#41792073">prev</a><span>|</span><a href="#41793840">next</a><span>|</span><label class="collapse" for="c-41793712">[-]</label><label class="expand" for="c-41793712">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t have much to add other than to compliment the README. At least it shows some concern about documenting the higher level architecture... I get discouraged of contributing to open source due to the laziness of basically having to reverse engineer the code</div><br/><div id="41796708" class="c"><input type="checkbox" id="c-41796708" checked=""/><div class="controls bullet"><span class="by">cybrox</span><span>|</span><a href="#41793712">parent</a><span>|</span><a href="#41796457">next</a><span>|</span><label class="collapse" for="c-41796708">[-]</label><label class="expand" for="c-41796708">[1 more]</label></div><br/><div class="children"><div class="content">This used to be pretty standard but has largely gone away, unfortunately.<p>I blame frameworks that encourage the user to just use their &quot;obvious&quot; specific directory structure that works for 80% but people still make up the other 20%<p>And no need for documentation, since is &quot;obvious&quot; [...to anyone who has invested dozens of hours working with that specific framework]</div><br/></div></div><div id="41796457" class="c"><input type="checkbox" id="c-41796457" checked=""/><div class="controls bullet"><span class="by">dharmit</span><span>|</span><a href="#41793712">parent</a><span>|</span><a href="#41796708">prev</a><span>|</span><a href="#41793840">next</a><span>|</span><label class="collapse" for="c-41796457">[-]</label><label class="expand" for="c-41796457">[1 more]</label></div><br/><div class="children"><div class="content">Came here to appreciate the &quot;Project Structure&quot; section - <a href="https:&#x2F;&#x2F;github.com&#x2F;andrearaponi&#x2F;dito?tab=readme-ov-file#project-structure">https:&#x2F;&#x2F;github.com&#x2F;andrearaponi&#x2F;dito?tab=readme-ov-file#proj...</a>. Very few projects care about it, as far as I have seen.</div><br/></div></div></div></div><div id="41793840" class="c"><input type="checkbox" id="c-41793840" checked=""/><div class="controls bullet"><span class="by">indulona</span><span>|</span><a href="#41793712">prev</a><span>|</span><a href="#41791673">next</a><span>|</span><label class="collapse" for="c-41793840">[-]</label><label class="expand" for="c-41793840">[3 more]</label></div><br/><div class="children"><div class="content">Just like ever single proxy written in Go, it just uses the core httputil library with a shit ton of custom code on top of it.<p>Anyone who writes Go does not need any of this. And those who do not write Go, can still write their own in no time because it is literally couple of lines of code. No harder than running a webserver in Go(two lines of code).<p><a href="https:&#x2F;&#x2F;github.com&#x2F;andrearaponi&#x2F;dito&#x2F;blob&#x2F;a57d396476cc618678a17ff69a6bce3902d2cffa&#x2F;handlers&#x2F;handlers.go#L96">https:&#x2F;&#x2F;github.com&#x2F;andrearaponi&#x2F;dito&#x2F;blob&#x2F;a57d396476cc618678...</a></div><br/><div id="41796804" class="c"><input type="checkbox" id="c-41796804" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#41793840">parent</a><span>|</span><a href="#41796722">next</a><span>|</span><label class="collapse" for="c-41796804">[-]</label><label class="expand" for="c-41796804">[1 more]</label></div><br/><div class="children"><div class="content">Now I kinda want to test it to see how it works if your application flushes lots of little packets &lt;MTU. Some proxies will try to recombine the packets to make the connection more efficient, some will just forward as-is. But this is super important behavior to be familiar with (and documented) for things like websockets.</div><br/></div></div><div id="41796722" class="c"><input type="checkbox" id="c-41796722" checked=""/><div class="controls bullet"><span class="by">cybrox</span><span>|</span><a href="#41793840">parent</a><span>|</span><a href="#41796804">prev</a><span>|</span><a href="#41791673">next</a><span>|</span><label class="collapse" for="c-41796722">[-]</label><label class="expand" for="c-41796722">[1 more]</label></div><br/><div class="children"><div class="content">Why would I write my own http proxy in Go if I needed rate limiting and something like this was provided as an easy to use binary or docker image?</div><br/></div></div></div></div><div id="41791673" class="c"><input type="checkbox" id="c-41791673" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#41793840">prev</a><span>|</span><a href="#41791527">next</a><span>|</span><label class="collapse" for="c-41791673">[-]</label><label class="expand" for="c-41791673">[23 more]</label></div><br/><div class="children"><div class="content">It&#x27;s good that this exists, but new projects that come into a well established space should make it clear how they differentiate themselves from existing solutions.<p>For example, it&#x27;s not clear to me why anyone would choose to use this instead of Caddy, which is a robust server that already has all these features, whether OOB or via plugins.</div><br/><div id="41791794" class="c"><input type="checkbox" id="c-41791794" checked=""/><div class="controls bullet"><span class="by">galdor</span><span>|</span><a href="#41791673">parent</a><span>|</span><a href="#41793430">next</a><span>|</span><label class="collapse" for="c-41791794">[-]</label><label class="expand" for="c-41791794">[19 more]</label></div><br/><div class="children"><div class="content">This space may be well established, but it still does not fullfill all needs. For my own:<p>- NGINX does not support ACME, and I&#x27;m fed up with dealing with Lego and other external ACME clients. Also the interactions between locations has never been clear to me.<p>- Caddy plugins mean I have to download xcaddy and rebuild the server. I <i>really</i> do not want to rebuild services on my servers just because I need a simple layer 4 reverse proxy (e.g. so that I can terminate TLS connections in front of my IRC server).<p>So I&#x27;m building my own server&#x2F;reverse proxy (<a href="https:&#x2F;&#x2F;github.com&#x2F;galdor&#x2F;boulevard">https:&#x2F;&#x2F;github.com&#x2F;galdor&#x2F;boulevard</a>). Competition is good for everyone!</div><br/><div id="41793084" class="c"><input type="checkbox" id="c-41793084" checked=""/><div class="controls bullet"><span class="by">stackskipton</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41793341">next</a><span>|</span><label class="collapse" for="c-41793084">[-]</label><label class="expand" for="c-41793084">[3 more]</label></div><br/><div class="children"><div class="content">HA Proxy already exists and will do both. You can even redirect Layer 4 HTTP&#x2F;HTTPS Ports to another reverse proxy server if you want to get inception levels of crazy.</div><br/><div id="41793351" class="c"><input type="checkbox" id="c-41793351" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41793084">parent</a><span>|</span><a href="#41793341">next</a><span>|</span><label class="collapse" for="c-41793351">[-]</label><label class="expand" for="c-41793351">[2 more]</label></div><br/><div class="children"><div class="content">Sure, but c&#x27;mon, HAProxy is the 800lb gorilla in this case when you just need something simple.</div><br/></div></div></div></div><div id="41793341" class="c"><input type="checkbox" id="c-41793341" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41793084">prev</a><span>|</span><a href="#41795562">next</a><span>|</span><label class="collapse" for="c-41793341">[-]</label><label class="expand" for="c-41793341">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Competition is good for everyone!<p>Definitely!<p>But see how in your project the very first paragraph explains why it exists, and what it does differently. This is what I think is missing from Dito. It doesn&#x27;t have to be super in depth.<p>I do disagree with your argument against Caddy, though. How often do you realistically rebuild your services? If it&#x27;s anytime you would upgrade, then it seems manageable. xcaddy makes this trivial, anyway. Though you don&#x27;t really need to use it. There&#x27;s a convenient pro-tip[1] about doing this with a static main.go file instead.<p>Good luck with your project!<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;xcaddy#warning-pro-tip">https:&#x2F;&#x2F;github.com&#x2F;caddyserver&#x2F;xcaddy#warning-pro-tip</a></div><br/></div></div><div id="41795562" class="c"><input type="checkbox" id="c-41795562" checked=""/><div class="controls bullet"><span class="by">alessioalex</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41793341">prev</a><span>|</span><a href="#41792498">next</a><span>|</span><label class="collapse" for="c-41795562">[-]</label><label class="expand" for="c-41795562">[1 more]</label></div><br/><div class="children"><div class="content">You can use kamal-proxy, recently released. It handles SSL and zero downtime deployments. It’s small and from what I checked the code is easy to read and understand.</div><br/></div></div><div id="41792498" class="c"><input type="checkbox" id="c-41792498" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41795562">prev</a><span>|</span><a href="#41791936">next</a><span>|</span><label class="collapse" for="c-41792498">[-]</label><label class="expand" for="c-41792498">[2 more]</label></div><br/><div class="children"><div class="content">FWIW, it doesn&#x27;t handle <i>your</i> use case of Layer 4, but for the people at Layer 7, another option is good ol&#x27; Apache: it is so flexible and extensible it is almost a problem, people tend to not know it long ago went event-oriented with mpm_event, and it supports ACME internally (as a module, but a first-party module that is seamlessly integrated). (I do appreciate, though, that it is critically NOT written in a memory safe language, lol, but neither is nginx.)</div><br/><div id="41793075" class="c"><input type="checkbox" id="c-41793075" checked=""/><div class="controls bullet"><span class="by">stackskipton</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41792498">parent</a><span>|</span><a href="#41791936">next</a><span>|</span><label class="collapse" for="c-41793075">[-]</label><label class="expand" for="c-41793075">[1 more]</label></div><br/><div class="children"><div class="content">Layer 4 and 7? HAProxy will do that no problem.</div><br/></div></div></div></div><div id="41791936" class="c"><input type="checkbox" id="c-41791936" checked=""/><div class="controls bullet"><span class="by">alphabettsy</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41792498">prev</a><span>|</span><a href="#41793447">next</a><span>|</span><label class="collapse" for="c-41791936">[-]</label><label class="expand" for="c-41791936">[2 more]</label></div><br/><div class="children"><div class="content">Boulevard has to be compiled at some point. Wouldn’t it extremely simple to setup a GitHub Action to build Caddy in the way you desire?</div><br/><div id="41792071" class="c"><input type="checkbox" id="c-41792071" checked=""/><div class="controls bullet"><span class="by">galdor</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791936">parent</a><span>|</span><a href="#41793447">next</a><span>|</span><label class="collapse" for="c-41792071">[-]</label><label class="expand" for="c-41792071">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it can be compiled and packaged so that I can one day install it as any other package, in my case on FreeBSD.<p>And of course it&#x27;s not just about avoid recompilation, there are a lot of features I want to add.</div><br/></div></div></div></div><div id="41793447" class="c"><input type="checkbox" id="c-41793447" checked=""/><div class="controls bullet"><span class="by">mholt</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41791936">prev</a><span>|</span><a href="#41791903">next</a><span>|</span><label class="collapse" for="c-41793447">[-]</label><label class="expand" for="c-41793447">[1 more]</label></div><br/><div class="children"><div class="content">&gt; - Caddy plugins mean I have to download xcaddy and rebuild the server. I really do not want to rebuild services on my servers just because I need a simple layer 4 reverse proxy (e.g. so that I can terminate TLS connections in front of my IRC server).<p>I mean, you don&#x27;t havse to &quot;rebuild services&quot; -- if you need the plugin, just deploy the binary with the plugin. It&#x27;s not like it changes (other than upgrades, which you&#x27;d do regardless of the plugin).</div><br/></div></div><div id="41791903" class="c"><input type="checkbox" id="c-41791903" checked=""/><div class="controls bullet"><span class="by">ChocolateGod</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41793447">prev</a><span>|</span><a href="#41792242">next</a><span>|</span><label class="collapse" for="c-41791903">[-]</label><label class="expand" for="c-41791903">[7 more]</label></div><br/><div class="children"><div class="content">&gt; Caddy plugins mean I have to download xcaddy and rebuild the server. I really do not want to rebuild services on my servers just because I need a simple layer 4 reverse proxy<p>That&#x27;s why containers exist.</div><br/><div id="41792079" class="c"><input type="checkbox" id="c-41792079" checked=""/><div class="controls bullet"><span class="by">galdor</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791903">parent</a><span>|</span><a href="#41792242">next</a><span>|</span><label class="collapse" for="c-41792079">[-]</label><label class="expand" for="c-41792079">[6 more]</label></div><br/><div class="children"><div class="content">You would be surprised by how many infrastructures have software running without any container :) I&#x27;m running FreeBSD on my servers so containers are out, but even if I was Linux, why would I use containers for base services?</div><br/><div id="41792665" class="c"><input type="checkbox" id="c-41792665" checked=""/><div class="controls bullet"><span class="by">ChocolateGod</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41792079">parent</a><span>|</span><a href="#41792126">next</a><span>|</span><label class="collapse" for="c-41792665">[-]</label><label class="expand" for="c-41792665">[4 more]</label></div><br/><div class="children"><div class="content">&gt; why would I use containers for base services?<p>This is a supported feature of podman which can generate systemd units to make system services.<p>But, as for advantages (system has some of them too), sandboxing, resource constraints, ease of distribution, not being broken by system updates (glibc update on RHEL broke some Go binaries iirc).<p>My rule of thumb is that only system software (e.g. DE, firewall, drivers, etc) belong on the base system, everything else is going in a container. This is very easy to do now on modern Linux distros.</div><br/><div id="41793347" class="c"><input type="checkbox" id="c-41793347" checked=""/><div class="controls bullet"><span class="by">eikenberry</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41792665">parent</a><span>|</span><a href="#41792126">next</a><span>|</span><label class="collapse" for="c-41793347">[-]</label><label class="expand" for="c-41793347">[3 more]</label></div><br/><div class="children"><div class="content">DE?</div><br/><div id="41795699" class="c"><input type="checkbox" id="c-41795699" checked=""/><div class="controls bullet"><span class="by">trepanne</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41793347">parent</a><span>|</span><a href="#41792126">next</a><span>|</span><label class="collapse" for="c-41795699">[-]</label><label class="expand" for="c-41795699">[2 more]</label></div><br/><div class="children"><div class="content">Presumably “desktop environment” e.g. KDE plasma or Gnome.  You don’t really want to be containerising those.</div><br/><div id="41796316" class="c"><input type="checkbox" id="c-41796316" checked=""/><div class="controls bullet"><span class="by">ChocolateGod</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41795699">parent</a><span>|</span><a href="#41792126">next</a><span>|</span><label class="collapse" for="c-41796316">[-]</label><label class="expand" for="c-41796316">[1 more]</label></div><br/><div class="children"><div class="content">Yeh. I know people have run DE&#x2F;Compositors in containers, but it doesn&#x27;t really have any benefits outside of testing.</div><br/></div></div></div></div></div></div></div></div><div id="41792126" class="c"><input type="checkbox" id="c-41792126" checked=""/><div class="controls bullet"><span class="by">MrDarcy</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41792079">parent</a><span>|</span><a href="#41792665">prev</a><span>|</span><a href="#41792242">next</a><span>|</span><label class="collapse" for="c-41792126">[-]</label><label class="expand" for="c-41792126">[1 more]</label></div><br/><div class="children"><div class="content">I think they meant use a container to build caddy with xcaddy.<p>It is essentially a one liner to cross compile caddy for all your use cases as long as you have access to a container runtime to build it.</div><br/></div></div></div></div></div></div><div id="41792242" class="c"><input type="checkbox" id="c-41792242" checked=""/><div class="controls bullet"><span class="by">CAP_NET_ADMIN</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41791794">parent</a><span>|</span><a href="#41791903">prev</a><span>|</span><a href="#41793430">next</a><span>|</span><label class="collapse" for="c-41792242">[-]</label><label class="expand" for="c-41792242">[1 more]</label></div><br/><div class="children"><div class="content">Which Caddy plugins are you using?</div><br/></div></div></div></div><div id="41793430" class="c"><input type="checkbox" id="c-41793430" checked=""/><div class="controls bullet"><span class="by">tomcam</span><span>|</span><a href="#41791673">parent</a><span>|</span><a href="#41791794">prev</a><span>|</span><a href="#41792172">next</a><span>|</span><label class="collapse" for="c-41793430">[-]</label><label class="expand" for="c-41793430">[1 more]</label></div><br/><div class="children"><div class="content">&gt; new projects that come into a well established space should make it clear how they differentiate themselves from existing solutions.<p>You sound like a helpful person. Maybe you&#x27;re volunteering to create a site to do just that?</div><br/></div></div><div id="41792172" class="c"><input type="checkbox" id="c-41792172" checked=""/><div class="controls bullet"><span class="by">deepsun</span><span>|</span><a href="#41791673">parent</a><span>|</span><a href="#41793430">prev</a><span>|</span><a href="#41791527">next</a><span>|</span><label class="collapse" for="c-41792172">[-]</label><label class="expand" for="c-41792172">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s written in Go. &#x2F;s</div><br/><div id="41792422" class="c"><input type="checkbox" id="c-41792422" checked=""/><div class="controls bullet"><span class="by">pipe01</span><span>|</span><a href="#41791673">root</a><span>|</span><a href="#41792172">parent</a><span>|</span><a href="#41791527">next</a><span>|</span><label class="collapse" for="c-41792422">[-]</label><label class="expand" for="c-41792422">[1 more]</label></div><br/><div class="children"><div class="content">So is caddy fwiw</div><br/></div></div></div></div></div></div><div id="41791527" class="c"><input type="checkbox" id="c-41791527" checked=""/><div class="controls bullet"><span class="by">pachico</span><span>|</span><a href="#41791673">prev</a><span>|</span><a href="#41791990">next</a><span>|</span><label class="collapse" for="c-41791527">[-]</label><label class="expand" for="c-41791527">[9 more]</label></div><br/><div class="children"><div class="content">I wish there was an alternative to Kong API gateway where I didn&#x27;t need to write my plugins in Lua (the go and js sdks seem abandoned and are incomplete).</div><br/><div id="41791581" class="c"><input type="checkbox" id="c-41791581" checked=""/><div class="controls bullet"><span class="by">szarapka</span><span>|</span><a href="#41791527">parent</a><span>|</span><a href="#41796294">next</a><span>|</span><label class="collapse" for="c-41791581">[-]</label><label class="expand" for="c-41791581">[1 more]</label></div><br/><div class="children"><div class="content">Have you tried KrakenD? <a href="https:&#x2F;&#x2F;www.krakend.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.krakend.io&#x2F;</a> - plugins are written in Go</div><br/></div></div><div id="41796294" class="c"><input type="checkbox" id="c-41796294" checked=""/><div class="controls bullet"><span class="by">komuW</span><span>|</span><a href="#41791527">parent</a><span>|</span><a href="#41791581">prev</a><span>|</span><a href="#41792511">next</a><span>|</span><label class="collapse" for="c-41796294">[-]</label><label class="expand" for="c-41796294">[1 more]</label></div><br/><div class="children"><div class="content">Have you looked at Tyk? <a href="https:&#x2F;&#x2F;github.com&#x2F;TykTechnologies&#x2F;tyk&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;TykTechnologies&#x2F;tyk&#x2F;</a></div><br/></div></div><div id="41792511" class="c"><input type="checkbox" id="c-41792511" checked=""/><div class="controls bullet"><span class="by">hrpnk</span><span>|</span><a href="#41791527">parent</a><span>|</span><a href="#41796294">prev</a><span>|</span><a href="#41793400">next</a><span>|</span><label class="collapse" for="c-41792511">[-]</label><label class="expand" for="c-41792511">[1 more]</label></div><br/><div class="children"><div class="content">Have you seen <a href="https:&#x2F;&#x2F;github.com&#x2F;zalando&#x2F;skipper">https:&#x2F;&#x2F;github.com&#x2F;zalando&#x2F;skipper</a>? You can implement custom filters in Golang.</div><br/></div></div><div id="41793400" class="c"><input type="checkbox" id="c-41793400" checked=""/><div class="controls bullet"><span class="by">matrix2003</span><span>|</span><a href="#41791527">parent</a><span>|</span><a href="#41792511">prev</a><span>|</span><a href="#41791561">next</a><span>|</span><label class="collapse" for="c-41793400">[-]</label><label class="expand" for="c-41793400">[2 more]</label></div><br/><div class="children"><div class="content">Lua has some pretty neat sandbox-type features. I wonder if choosing it is related.</div><br/><div id="41793471" class="c"><input type="checkbox" id="c-41793471" checked=""/><div class="controls bullet"><span class="by">whalesalad</span><span>|</span><a href="#41791527">root</a><span>|</span><a href="#41793400">parent</a><span>|</span><a href="#41791561">next</a><span>|</span><label class="collapse" for="c-41793471">[-]</label><label class="expand" for="c-41793471">[1 more]</label></div><br/><div class="children"><div class="content">Assuming it is built on top of OpenResty <a href="https:&#x2F;&#x2F;github.com&#x2F;openresty&#x2F;openresty">https:&#x2F;&#x2F;github.com&#x2F;openresty&#x2F;openresty</a></div><br/></div></div></div></div><div id="41791561" class="c"><input type="checkbox" id="c-41791561" checked=""/><div class="controls bullet"><span class="by">null_deref</span><span>|</span><a href="#41791527">parent</a><span>|</span><a href="#41793400">prev</a><span>|</span><a href="#41791851">next</a><span>|</span><label class="collapse" for="c-41791561">[-]</label><label class="expand" for="c-41791561">[2 more]</label></div><br/><div class="children"><div class="content">I used kong on premise is there a use case for it when aws and the likes offer API gateway solutions?</div><br/><div id="41791586" class="c"><input type="checkbox" id="c-41791586" checked=""/><div class="controls bullet"><span class="by">kryptn</span><span>|</span><a href="#41791527">root</a><span>|</span><a href="#41791561">parent</a><span>|</span><a href="#41791851">next</a><span>|</span><label class="collapse" for="c-41791586">[-]</label><label class="expand" for="c-41791586">[1 more]</label></div><br/><div class="children"><div class="content">we&#x27;re using the kong gateway controller on aws eks, it&#x27;s pretty neat. I prefer to manage it via argocd&#x2F;gitops over terraform.</div><br/></div></div></div></div><div id="41791851" class="c"><input type="checkbox" id="c-41791851" checked=""/><div class="controls bullet"><span class="by">dilyevsky</span><span>|</span><a href="#41791527">parent</a><span>|</span><a href="#41791561">prev</a><span>|</span><a href="#41791990">next</a><span>|</span><label class="collapse" for="c-41791851">[-]</label><label class="expand" for="c-41791851">[1 more]</label></div><br/><div class="children"><div class="content">What would you prefer to write plugins in?</div><br/></div></div></div></div><div id="41791990" class="c"><input type="checkbox" id="c-41791990" checked=""/><div class="controls bullet"><span class="by">artooro</span><span>|</span><a href="#41791527">prev</a><span>|</span><a href="#41793403">next</a><span>|</span><label class="collapse" for="c-41791990">[-]</label><label class="expand" for="c-41791990">[1 more]</label></div><br/><div class="children"><div class="content">Already doing this kind of stuff with Caddy. Unclear why this would be any better.</div><br/></div></div><div id="41793403" class="c"><input type="checkbox" id="c-41793403" checked=""/><div class="controls bullet"><span class="by">stonethrowaway</span><span>|</span><a href="#41791990">prev</a><span>|</span><a href="#41791371">next</a><span>|</span><label class="collapse" for="c-41793403">[-]</label><label class="expand" for="c-41793403">[1 more]</label></div><br/><div class="children"><div class="content">Is this compatible with covering your tracks behind 7 reverse proxies in IRC? Asking for a friend.</div><br/></div></div><div id="41791371" class="c"><input type="checkbox" id="c-41791371" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41793403">prev</a><span>|</span><a href="#41793743">next</a><span>|</span><label class="collapse" for="c-41791371">[-]</label><label class="expand" for="c-41791371">[18 more]</label></div><br/><div class="children"><div class="content">Having an API gateway between the internet and your service(s) is a great idea and one I’ve implemented no less than 3 times. But you should really just roll your own. It’s a few dozen lines of code with go’s standard library reverse proxy and gives you way more flexibility than trying to yaml-configure someone else’s.</div><br/><div id="41791555" class="c"><input type="checkbox" id="c-41791555" checked=""/><div class="controls bullet"><span class="by">szarapka</span><span>|</span><a href="#41791371">parent</a><span>|</span><a href="#41792294">next</a><span>|</span><label class="collapse" for="c-41791555">[-]</label><label class="expand" for="c-41791555">[4 more]</label></div><br/><div class="children"><div class="content">Unless you have a wild use-case that hasn&#x27;t been tackled by what&#x27;s out there, why on earth would rolling your own be a good idea? Building a proper, secure, and performant API gateway is NOT a few dozen lines of code.<p>There are some super robust (and fast) Go API gateways that take care of all the things you didn&#x27;t think about when trying to roll your own.</div><br/><div id="41792774" class="c"><input type="checkbox" id="c-41792774" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41791555">parent</a><span>|</span><a href="#41792294">next</a><span>|</span><label class="collapse" for="c-41792774">[-]</label><label class="expand" for="c-41792774">[3 more]</label></div><br/><div class="children"><div class="content">I can absolutely assure you that building a fast and secure gateway is not as hard as you seem to be implying. This is, again, based on my real world experience.</div><br/><div id="41793605" class="c"><input type="checkbox" id="c-41793605" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792774">parent</a><span>|</span><a href="#41792294">next</a><span>|</span><label class="collapse" for="c-41793605">[-]</label><label class="expand" for="c-41793605">[2 more]</label></div><br/><div class="children"><div class="content">But maybe your experience just means you’ve never had the same problems as the authors of the libraries?</div><br/><div id="41794296" class="c"><input type="checkbox" id="c-41794296" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41793605">parent</a><span>|</span><a href="#41792294">next</a><span>|</span><label class="collapse" for="c-41794296">[-]</label><label class="expand" for="c-41794296">[1 more]</label></div><br/><div class="children"><div class="content">That’s the point, I’m solving my problems not using the kitchen sink solution</div><br/></div></div></div></div></div></div></div></div><div id="41792294" class="c"><input type="checkbox" id="c-41792294" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#41791371">parent</a><span>|</span><a href="#41791555">prev</a><span>|</span><a href="#41791796">next</a><span>|</span><label class="collapse" for="c-41792294">[-]</label><label class="expand" for="c-41792294">[6 more]</label></div><br/><div class="children"><div class="content">&gt; But you should really just roll your own<p>As someone who already did this (because no other solution with our needs was available), I strongly disagree.<p>Most of the time, NGINX, Caddy, Traefik or APISIX are enough. The only time I felt the need to implement an API Gateway from scratch was to support a very specific use case with a specific set of constraints. No matter how robust the Go standard library is, implementing an API Gateway from scratch is rarely a good idea.</div><br/><div id="41795513" class="c"><input type="checkbox" id="c-41795513" checked=""/><div class="controls bullet"><span class="by">tluyben2</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792294">parent</a><span>|</span><a href="#41792825">next</a><span>|</span><label class="collapse" for="c-41795513">[-]</label><label class="expand" for="c-41795513">[1 more]</label></div><br/><div class="children"><div class="content">We had a specific use case that was needed urgently which we couldn&#x27;t get working with any of the standard systems, so we used Go. Works very well. It is sometimes simply a matter of time; we needed it before the morning (for a launch) and in discord&#x2F;reddit people were providing solutions with haproxy, nginx, traefik etc that should work according to the docs but just didn&#x27;t.</div><br/></div></div><div id="41792825" class="c"><input type="checkbox" id="c-41792825" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792294">parent</a><span>|</span><a href="#41795513">prev</a><span>|</span><a href="#41791796">next</a><span>|</span><label class="collapse" for="c-41792825">[-]</label><label class="expand" for="c-41792825">[4 more]</label></div><br/><div class="children"><div class="content">In my experience those specific sets of constraints come sooner or later. Someone is going to ask for some complex auth or routing rules and it’s easier to just write it in go than it is to learn a whole new DSL or lua to implement it.</div><br/><div id="41792993" class="c"><input type="checkbox" id="c-41792993" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792825">parent</a><span>|</span><a href="#41793621">next</a><span>|</span><label class="collapse" for="c-41792993">[-]</label><label class="expand" for="c-41792993">[2 more]</label></div><br/><div class="children"><div class="content">Complex Auth:
<a href="https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;middlewares&#x2F;http&#x2F;forwardauth&#x2F;" rel="nofollow">https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;middlewares&#x2F;http&#x2F;forwardauth&#x2F;</a><p>Complex routing rules:
<a href="https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;routing&#x2F;routers&#x2F;" rel="nofollow">https:&#x2F;&#x2F;doc.traefik.io&#x2F;traefik&#x2F;routing&#x2F;routers&#x2F;</a><p>If you need something more than this, you&#x27;re either in a very specific situation (where an API Gateway written from scratch might be a good idea) or that someone is doing something wrong</div><br/><div id="41794204" class="c"><input type="checkbox" id="c-41794204" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792993">parent</a><span>|</span><a href="#41793621">next</a><span>|</span><label class="collapse" for="c-41794204">[-]</label><label class="expand" for="c-41794204">[1 more]</label></div><br/><div class="children"><div class="content">Why would I want to write another service to handle auth? That’s somehow less complex than just writing it into my gateway?</div><br/></div></div></div></div><div id="41793621" class="c"><input type="checkbox" id="c-41793621" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792825">parent</a><span>|</span><a href="#41792993">prev</a><span>|</span><a href="#41791796">next</a><span>|</span><label class="collapse" for="c-41793621">[-]</label><label class="expand" for="c-41793621">[1 more]</label></div><br/><div class="children"><div class="content">I sort of agree with you, but only if you aren’t in a position to say ‘the software doesn’t support it’.</div><br/></div></div></div></div></div></div><div id="41791796" class="c"><input type="checkbox" id="c-41791796" checked=""/><div class="controls bullet"><span class="by">lfmunoz4</span><span>|</span><a href="#41791371">parent</a><span>|</span><a href="#41792294">prev</a><span>|</span><a href="#41791966">next</a><span>|</span><label class="collapse" for="c-41791796">[-]</label><label class="expand" for="c-41791796">[5 more]</label></div><br/><div class="children"><div class="content">No idea why you would roll your own, easiest thing is run nginx in docker. No way writing your own is the first thing you should do.</div><br/><div id="41792795" class="c"><input type="checkbox" id="c-41792795" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41791796">parent</a><span>|</span><a href="#41791966">next</a><span>|</span><label class="collapse" for="c-41792795">[-]</label><label class="expand" for="c-41792795">[4 more]</label></div><br/><div class="children"><div class="content">Until you want your gateway to handle some complex auth or routing rules and don’t want to learn a whole new programming language to implement that.</div><br/><div id="41793580" class="c"><input type="checkbox" id="c-41793580" checked=""/><div class="controls bullet"><span class="by">dingnuts</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41792795">parent</a><span>|</span><a href="#41791966">next</a><span>|</span><label class="collapse" for="c-41793580">[-]</label><label class="expand" for="c-41793580">[3 more]</label></div><br/><div class="children"><div class="content">this is such a wild take to me. why on earth are there complicated routing rules happening at the API gateway at all?<p>In MY real world experience, the API gateway does some sort of very simple routing to various services and any complex auth or routing rules would be the service&#x27;s responsibility.<p>If the API gateway has your application logic in it it&#x27;s not a separate component at all.<p>How complex can you really get with HTTP requests anyway?</div><br/><div id="41794218" class="c"><input type="checkbox" id="c-41794218" checked=""/><div class="controls bullet"><span class="by">vrosas</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41793580">parent</a><span>|</span><a href="#41793940">next</a><span>|</span><label class="collapse" for="c-41794218">[-]</label><label class="expand" for="c-41794218">[1 more]</label></div><br/><div class="children"><div class="content">Authn is gateway’s responsibility. Authz is subservice’s.</div><br/></div></div><div id="41793940" class="c"><input type="checkbox" id="c-41793940" checked=""/><div class="controls bullet"><span class="by">mozman</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41793580">parent</a><span>|</span><a href="#41794218">prev</a><span>|</span><a href="#41791966">next</a><span>|</span><label class="collapse" for="c-41793940">[-]</label><label class="expand" for="c-41793940">[1 more]</label></div><br/><div class="children"><div class="content">think about two product people with opposing goals. that’s how you get a mess. nothing technical</div><br/></div></div></div></div></div></div></div></div><div id="41791966" class="c"><input type="checkbox" id="c-41791966" checked=""/><div class="controls bullet"><span class="by">alphabettsy</span><span>|</span><a href="#41791371">parent</a><span>|</span><a href="#41791796">prev</a><span>|</span><a href="#41793743">next</a><span>|</span><label class="collapse" for="c-41791966">[-]</label><label class="expand" for="c-41791966">[2 more]</label></div><br/><div class="children"><div class="content">Completely disagree.<p>Use something off the shelf that’s mature and tested until you encounter such complexity that it’s no longer feasible or practical.</div><br/><div id="41792481" class="c"><input type="checkbox" id="c-41792481" checked=""/><div class="controls bullet"><span class="by">nilptr</span><span>|</span><a href="#41791371">root</a><span>|</span><a href="#41791966">parent</a><span>|</span><a href="#41793743">next</a><span>|</span><label class="collapse" for="c-41792481">[-]</label><label class="expand" for="c-41792481">[1 more]</label></div><br/><div class="children"><div class="content">Two sides of the same coin!<p>Use something that solves 1000 use cases of which yours is one. Some would say that&#x27;s simplicity while others would say that&#x27;s complexity. When it breaks do you know why? Can you fix it properly or are just layering band-aid on a bigger problem inside the component.<p>Or... build something that solves exactly your use-case but probably doesn&#x27;t handle the other 1000 use-cases and needs to be put through trial-by-fire to fix all the little edge-cases you forgot about?<p>Early in my career I opted for #1 but nowadays I generally reach for #2 and really try to nail the core problem I&#x27;m tackling and work around the gotchas I encounter.</div><br/></div></div></div></div></div></div><div id="41793743" class="c"><input type="checkbox" id="c-41793743" checked=""/><div class="controls bullet"><span class="by">NathanFlurry</span><span>|</span><a href="#41791371">prev</a><span>|</span><label class="collapse" for="c-41793743">[-]</label><label class="expand" for="c-41793743">[1 more]</label></div><br/><div class="children"><div class="content">I love the focus on flexibility &amp; integration with Redis.<p>We use a mix of Traefik and Envoy for complex + dynamic LB configurations. Doing anything related to custom middleware, dynamic configuration, and caching feels archaic on Traefik and requires a non-trivial amount of code on Envoy. I hope Dito becomes the next gold standard for load balancing.<p>One caveat — one of my biggest complaints with Traefik is the memory usage, which makes it difficult to run as an mTLS proxy between services. We use Envoy for these use cases instead. I’m curious to see how Dito compares on memory usage, despite also being written in Go.</div><br/></div></div></div></div></div></div></div></body></html>