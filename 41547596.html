<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726736465026" as="style"/><link rel="stylesheet" href="styles.css?v=1726736465026"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://grafana.com/blog/2024/09/12/opentelemetry-and-vendor-neutrality-how-to-build-an-observability-strategy-with-maximum-flexibility/">OpenTelemetry and vendor neutrality: how to build an observability strategy</a> <span class="domain">(<a href="https://grafana.com">grafana.com</a>)</span></div><div class="subtext"><span>meysamazad</span> | <span>19 comments</span></div><br/><div><div id="41584759" class="c"><input type="checkbox" id="c-41584759" checked=""/><div class="controls bullet"><span class="by">nicholasjarnold</span><span>|</span><a href="#41585966">next</a><span>|</span><label class="collapse" for="c-41584759">[-]</label><label class="expand" for="c-41584759">[5 more]</label></div><br/><div class="children"><div class="content">I can confirm that this is a pretty good way. Building out a basic distributed tracing solution with OTEL, jaeger and the relevant Spring Boot configuration and dependencies was quite a pleasant experience once you figure out the relevant-for-your-use-cases set of dependencies. It&#x27;s one of those nice things that Just Works™, at least for Java 17 and 21 and Spring Boot 3.2 (iirc) or greater.<p>There appeared to be wide array of library and framework support across various stacks, but I can only attest personally to the quality of the above setup (Java, Boot, etc).</div><br/><div id="41585023" class="c"><input type="checkbox" id="c-41585023" checked=""/><div class="controls bullet"><span class="by">ljm</span><span>|</span><a href="#41584759">parent</a><span>|</span><a href="#41585966">next</a><span>|</span><label class="collapse" for="c-41585023">[-]</label><label class="expand" for="c-41585023">[4 more]</label></div><br/><div class="children"><div class="content">&gt; once you figure out the relevant-for-your-use-cases set of dependencies<p>&gt;  It&#x27;s one of those nice things that Just Works™<p>did it Just Work™ or did you have to do work to make it Just Work™?</div><br/><div id="41585943" class="c"><input type="checkbox" id="c-41585943" checked=""/><div class="controls bullet"><span class="by">barake</span><span>|</span><a href="#41584759">root</a><span>|</span><a href="#41585023">parent</a><span>|</span><a href="#41585978">next</a><span>|</span><label class="collapse" for="c-41585943">[-]</label><label class="expand" for="c-41585943">[1 more]</label></div><br/><div class="children"><div class="content">Java has really good OTel coverage across tons of libraries. It should mostly Just Work™, though you&#x27;ll still need to consider sampling strategies, what metrics you actually want to collect, etc.<p>Would say .NET isn&#x27;t too far behind. Especially since there are built-in observability primitives and Microsoft is big on OTel. ASP.NET Core and other first party libraries already emit OTel compliant metrics and traces out of the box. Instrumenting an application is pretty straightforward.<p>I have less experience with the other languages. Can say there is plenty of opportunity to contribute upstream in a meaningful way. The OpenTelemetry SIGs are very welcoming and all the meetings are open.<p><i>Full disclosure: work at Grafana Labs on OpenTelemetry instrumentation</i></div><br/></div></div><div id="41585978" class="c"><input type="checkbox" id="c-41585978" checked=""/><div class="controls bullet"><span class="by">roshbhatia</span><span>|</span><a href="#41584759">root</a><span>|</span><a href="#41585023">parent</a><span>|</span><a href="#41585943">prev</a><span>|</span><a href="#41585982">next</a><span>|</span><label class="collapse" for="c-41585978">[-]</label><label class="expand" for="c-41585978">[1 more]</label></div><br/><div class="children"><div class="content">In my experience, it just worked -- I was at an org that ran 3rd party java services alongside our normal array of microservices (that all used our internal instrumentation library that wrapped OTEL) and using the OTEL autoinstrumentation for those 3rd party services was pretty trivial to get setup and running (just wrap the command to run the app with the OTEL wrapper, hand it a collector url.) Granted -- we already had invested in OTEL elsewhere and were familiar with many of the situations in which it didn&#x27;t just work.</div><br/></div></div><div id="41585982" class="c"><input type="checkbox" id="c-41585982" checked=""/><div class="controls bullet"><span class="by">azthecx</span><span>|</span><a href="#41584759">root</a><span>|</span><a href="#41585023">parent</a><span>|</span><a href="#41585978">prev</a><span>|</span><a href="#41585966">next</a><span>|</span><label class="collapse" for="c-41585982">[-]</label><label class="expand" for="c-41585982">[1 more]</label></div><br/><div class="children"><div class="content">I had a very similar experience with a Quarks REST API where it&#x27;s supported very well out of the box, we just had to point it to the appropriate otel collector endpoint and traces are created or propagated automatically.</div><br/></div></div></div></div></div></div><div id="41585966" class="c"><input type="checkbox" id="c-41585966" checked=""/><div class="controls bullet"><span class="by">demurgos</span><span>|</span><a href="#41584759">prev</a><span>|</span><a href="#41587614">next</a><span>|</span><label class="collapse" for="c-41585966">[-]</label><label class="expand" for="c-41585966">[4 more]</label></div><br/><div class="children"><div class="content">OpenTelemetry is nice overall as there are library for multiple platforms. I introduced it this year for a web game platform with servers in Node, Java, PHP and Rust and it all worked roughly similarly which made it good for consistency.<p>I like how OpenTelemetry decouples the signal sink from the context, compared to other structured logging libs where you wrap your sink in layers. The main thing that I dislike is the auto-instrumentation of third-party libraries: it works great most of the time, but when it doesn&#x27;t it&#x27;s hard to debug. Maintainers of the different OpenTelemetry repos are fairly active and respond quickly.<p>It&#x27;s still relatively recent, but I would recommend OpenTelemetry if you&#x27;re looking for an observability framework.</div><br/><div id="41586859" class="c"><input type="checkbox" id="c-41586859" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#41585966">parent</a><span>|</span><a href="#41587614">next</a><span>|</span><label class="collapse" for="c-41586859">[-]</label><label class="expand" for="c-41586859">[3 more]</label></div><br/><div class="children"><div class="content">LLM slop</div><br/><div id="41587351" class="c"><input type="checkbox" id="c-41587351" checked=""/><div class="controls bullet"><span class="by">demurgos</span><span>|</span><a href="#41585966">root</a><span>|</span><a href="#41586859">parent</a><span>|</span><a href="#41587614">next</a><span>|</span><label class="collapse" for="c-41587351">[-]</label><label class="expand" for="c-41587351">[2 more]</label></div><br/><div class="children"><div class="content">Why are you accusing me of posting an LLM reply?!<p>I just shared that I enjoyed using and contributing to OpenTelemetry. I never used an LLM. Do I really need to prove that I&#x27;m human?<p>- a couple PRs I posted to the Rust impl: <a href="https:&#x2F;&#x2F;github.com&#x2F;open-telemetry&#x2F;opentelemetry-rust&#x2F;pulls?q=author%3Ademurgos+">https:&#x2F;&#x2F;github.com&#x2F;open-telemetry&#x2F;opentelemetry-rust&#x2F;pulls?q...</a> I also participate to issue discussions in this repo and others.<p>- OpenTelemetry tracer config in the web game platform I&#x27;m working on: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;eternaltwin&#x2F;-&#x2F;blob&#x2F;main&#x2F;crates&#x2F;system&#x2F;src&#x2F;lib.rs?ref_type=heads#L190" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;eternaltwin&#x2F;-&#x2F;blob&#x2F;main&#x2F;crate...</a><p>- A somewhat cool thing: an OpenTelemetry proxy impl handling authentication of traces: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;eternaltwin&#x2F;-&#x2F;blob&#x2F;main&#x2F;crates&#x2F;rest&#x2F;src&#x2F;traces.rs?ref_type=heads#L134" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;eternaltwin&#x2F;-&#x2F;blob&#x2F;main&#x2F;crate...</a><p>- Node usage: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;labrute&#x2F;labrute-react&#x2F;-&#x2F;blob&#x2F;main&#x2F;server&#x2F;src&#x2F;main.ts?ref_type=heads#L19" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;labrute&#x2F;labrute-react&#x2F;-&#x2F;blob&#x2F;...</a><p>- Java usage: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;dinoparc&#x2F;dinoparc&#x2F;-&#x2F;merge_requests&#x2F;136&#x2F;diffs" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;dinoparc&#x2F;dinoparc&#x2F;-&#x2F;merge_req...</a><p>- PHP usage: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;mush&#x2F;mush&#x2F;-&#x2F;merge_requests&#x2F;2032&#x2F;diffs" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;eternaltwin&#x2F;mush&#x2F;mush&#x2F;-&#x2F;merge_requests&#x2F;20...</a><p>This is all 100% handcrafted, as all my messages ever.<p>Now that I proved that I actually used and contributed to OpenTelemetry, may I express that I like it overall but regret that the auto-instrumentation is brittle and hard to debug? I can expand on the particular issues I&#x27;ve hit or why I feel that it&#x27;s still not mature enough.</div><br/><div id="41588533" class="c"><input type="checkbox" id="c-41588533" checked=""/><div class="controls bullet"><span class="by">kevindamm</span><span>|</span><a href="#41585966">root</a><span>|</span><a href="#41587351">parent</a><span>|</span><a href="#41587614">next</a><span>|</span><label class="collapse" for="c-41588533">[-]</label><label class="expand" for="c-41588533">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, you gave that commenter way more than they deserved for the amount of effort they put into their comment.  Also, I wouldn&#x27;t have suspected your earlier comment was generated by an LLM.</div><br/></div></div></div></div></div></div></div></div><div id="41587614" class="c"><input type="checkbox" id="c-41587614" checked=""/><div class="controls bullet"><span class="by">aramattamara</span><span>|</span><a href="#41585966">prev</a><span>|</span><a href="#41585123">next</a><span>|</span><label class="collapse" for="c-41587614">[-]</label><label class="expand" for="c-41587614">[1 more]</label></div><br/><div class="children"><div class="content">The problem with OpenTelemetry is that it really only good for tracing. Metrics and logs are kinda bungee strapped later: very inefficient and clunky to use.<p>PS: And devs (Lightspeed?) seem to really like &quot;Open&quot; prefix: OpenTracing + OpenCensus = OpenTelemetry.</div><br/></div></div><div id="41585123" class="c"><input type="checkbox" id="c-41585123" checked=""/><div class="controls bullet"><span class="by">kbouck</span><span>|</span><a href="#41587614">prev</a><span>|</span><a href="#41587013">next</a><span>|</span><label class="collapse" for="c-41585123">[-]</label><label class="expand" for="c-41585123">[2 more]</label></div><br/><div class="children"><div class="content">For anyone that has built more complex collector pipelines, I&#x27;m curious to know the tech stack:<p><pre><code>  - otel collector?
  - kafka (or other mq)?
  - cribl?
  - vector?
  - other?</code></pre></div><br/><div id="41585945" class="c"><input type="checkbox" id="c-41585945" checked=""/><div class="controls bullet"><span class="by">azthecx</span><span>|</span><a href="#41585123">parent</a><span>|</span><a href="#41587013">next</a><span>|</span><label class="collapse" for="c-41585945">[-]</label><label class="expand" for="c-41585945">[1 more]</label></div><br/><div class="children"><div class="content">What sort of complexity do you need? I&#x27;ve used them on my previous job and am implementing it on the current one. I have never heard of the last three you mention.<p>Otel collector is very useful for gathering multiple different sources, eg I am at a big corporation and we both have department level Grafana stack (Prometheus Loki etc) and we need to also send the data to Dynatrace. With otel collector these things are a minor configuration away.<p>For Kafka if you mean tracing through Kafka messages previously we did it by propagating it in message headers. Done at a shared team level library the effort was minimal.</div><br/></div></div></div></div><div id="41587013" class="c"><input type="checkbox" id="c-41587013" checked=""/><div class="controls bullet"><span class="by">PeterZaitsev</span><span>|</span><a href="#41585123">prev</a><span>|</span><a href="#41586815">next</a><span>|</span><label class="collapse" for="c-41587013">[-]</label><label class="expand" for="c-41587013">[1 more]</label></div><br/><div class="children"><div class="content">Looking for target for your OTEL data checkout Coroot too  - <a href="https:&#x2F;&#x2F;coroot.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;coroot.com&#x2F;</a>  Additionally to OTEL visualization it can use eBPF to generate traces for applications where OpenTelemetry installation can&#x27;t be done.</div><br/></div></div><div id="41586815" class="c"><input type="checkbox" id="c-41586815" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#41587013">prev</a><span>|</span><a href="#41585262">next</a><span>|</span><label class="collapse" for="c-41586815">[-]</label><label class="expand" for="c-41586815">[4 more]</label></div><br/><div class="children"><div class="content">This is hypocritical content marketing from a company that doesn&#x27;t want you to be vendor neutral.  As seen by the laughable use of hyperlinks to their products but no links when mentioning Prometheus or elasticsearch.<p>OTEL is great, I just wish the CNCF had better alternatives to Grafana labs.</div><br/><div id="41586983" class="c"><input type="checkbox" id="c-41586983" checked=""/><div class="controls bullet"><span class="by">najork</span><span>|</span><a href="#41586815">parent</a><span>|</span><a href="#41586901">next</a><span>|</span><label class="collapse" for="c-41586983">[-]</label><label class="expand" for="c-41586983">[2 more]</label></div><br/><div class="children"><div class="content">Check out Perses: <a href="https:&#x2F;&#x2F;github.com&#x2F;perses&#x2F;perses">https:&#x2F;&#x2F;github.com&#x2F;perses&#x2F;perses</a><p>Less mature than Grafana but recently accepted by the CNCF as a sandbox project, hopefully a positive leading indicator of success.</div><br/><div id="41589240" class="c"><input type="checkbox" id="c-41589240" checked=""/><div class="controls bullet"><span class="by">physicles</span><span>|</span><a href="#41586815">root</a><span>|</span><a href="#41586983">parent</a><span>|</span><a href="#41586901">next</a><span>|</span><label class="collapse" for="c-41589240">[-]</label><label class="expand" for="c-41589240">[1 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t know about Perses. Looks promising! I&#x27;ve had one foot out the door with Grafana for a couple years -- always felt heavy and not-quite-there (especially the Loki log explorer), and IMHO they made alerts far less usable with the redesign in version 8.</div><br/></div></div></div></div><div id="41586901" class="c"><input type="checkbox" id="c-41586901" checked=""/><div class="controls bullet"><span class="by">scubbo</span><span>|</span><a href="#41586815">parent</a><span>|</span><a href="#41586983">prev</a><span>|</span><a href="#41585262">next</a><span>|</span><label class="collapse" for="c-41586901">[-]</label><label class="expand" for="c-41586901">[1 more]</label></div><br/><div class="children"><div class="content">Well, no, they don&#x27;t _want_ you to be vendor neutral. But they allow and support you to do so - unlike DataDog.</div><br/></div></div></div></div><div id="41585262" class="c"><input type="checkbox" id="c-41585262" checked=""/><div class="controls bullet"><span class="by">exabrial</span><span>|</span><a href="#41586815">prev</a><span>|</span><label class="collapse" for="c-41585262">[-]</label><label class="expand" for="c-41585262">[1 more]</label></div><br/><div class="children"><div class="content">JMX -&gt; Jolokia -&gt; Telegraf -&gt; the-older-TICK-stack-before-influxdb-rewrote-it-for-the-3rd-time-progressively-making-it-worse-each-time</div><br/></div></div></div></div></div></div></div></body></html>