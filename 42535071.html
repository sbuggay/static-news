<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735462849312" as="style"/><link rel="stylesheet" href="styles.css?v=1735462849312"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.righto.com/2024/12/this-die-photo-of-pentium-shows.html">Intel&#x27;s $475M error: the silicon behind the Pentium division bug</a> <span class="domain">(<a href="https://www.righto.com">www.righto.com</a>)</span></div><div class="subtext"><span>gslin</span> | <span>63 comments</span></div><br/><div><div id="42535185" class="c"><input type="checkbox" id="c-42535185" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42536777">next</a><span>|</span><label class="collapse" for="c-42535185">[-]</label><label class="expand" for="c-42535185">[6 more]</label></div><br/><div class="children"><div class="content">Author here if anyone has Pentium questions :-)<p>My Mastodon thread about the bug was on HN a few weeks ago, so this might seem familiar, but now I&#x27;ve finished a detailed blog post. The previous HN post has a bunch of comments: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42391079">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42391079</a></div><br/><div id="42535746" class="c"><input type="checkbox" id="c-42535746" checked=""/><div class="controls bullet"><span class="by">mras0</span><span>|</span><a href="#42535185">parent</a><span>|</span><a href="#42538127">next</a><span>|</span><label class="collapse" for="c-42535746">[-]</label><label class="expand" for="c-42535746">[1 more]</label></div><br/><div class="children"><div class="content">Great article and analysis as always, thanks! Somewhat crazy to remember that a (as you argue) minor CPU erretum made world wide headlines. So many worse ones out there (like you mention from Intel) but others as well, that are completely forgotten.<p>For the Pentium, I&#x27;m curious about the FPU value stack (or whatever the correct term is) rework they did. It&#x27;s been a long time, but didn&#x27;t they do some kind of early &quot;register renaming&quot; thing that had you had to manually manage doing careful fxchg&#x27;s?</div><br/></div></div><div id="42538127" class="c"><input type="checkbox" id="c-42538127" checked=""/><div class="controls bullet"><span class="by">skissane</span><span>|</span><a href="#42535185">parent</a><span>|</span><a href="#42535746">prev</a><span>|</span><a href="#42537164">next</a><span>|</span><label class="collapse" for="c-42538127">[-]</label><label class="expand" for="c-42538127">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The bug is presumably in the Pentium&#x27;s voluminous microcode. The microcode is too complex for me to analyze, so don&#x27;t expect a detailed blog post on this subject.<p>How hard is it to &quot;dump&quot; the microcode into a bitstream? Could it be done programatically from high resolution die photographs? Of course, I appreciate that&#x27;s probably the easy part in comparison to reverse engineering what the bitstream means.<p>&gt; By carefully examining the PLA under a microscope<p>Do you do this stuff at home? What kind of equipment do you have in your lab? How did you develop the skills to do all this?</div><br/><div id="42538170" class="c"><input type="checkbox" id="c-42538170" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42535185">root</a><span>|</span><a href="#42538127">parent</a><span>|</span><a href="#42537164">next</a><span>|</span><label class="collapse" for="c-42538170">[-]</label><label class="expand" for="c-42538170">[1 more]</label></div><br/><div class="children"><div class="content">Dumping the microcode into a bitstream can be done in an automated way if you have  clear, high-resolution die photos. There are programs to generate ROM bitsreams from photos. Part of the problem is removing all the layers of metal to expose the transistors. My process isn&#x27;t great, so the pictures aren&#x27;t as clear as I&#x27;d like. But yes, the hard part is figuring out what the microcode bitstream means. Intel&#x27;s patents explained a lot about the 8086 microcode structure, but Intel revealed much less about later processors.<p>I do this stuff at home. I have an AmScope metallurgical microscope; a metallurgical microscope shines light down through the lens, rather than shining the light from underneath like a biological microscope. Thus, the metallurgical microscope works for opaque chips. The Pentium is reaching the limits of my microscope, since the feature size is about the wavelength of light. I don&#x27;t have any training in this; I learned through reading and experimentation.</div><br/></div></div></div></div><div id="42537164" class="c"><input type="checkbox" id="c-42537164" checked=""/><div class="controls bullet"><span class="by">icehawk</span><span>|</span><a href="#42535185">parent</a><span>|</span><a href="#42538127">prev</a><span>|</span><a href="#42536777">next</a><span>|</span><label class="collapse" for="c-42537164">[-]</label><label class="expand" for="c-42537164">[2 more]</label></div><br/><div class="children"><div class="content">I was about to ask if the explanation of floating point numbers was using Avogadro&#x27;s number on purpose, but then I realized the other number was Planck&#x27;s constant.</div><br/><div id="42537197" class="c"><input type="checkbox" id="c-42537197" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42535185">root</a><span>|</span><a href="#42537164">parent</a><span>|</span><a href="#42536777">next</a><span>|</span><label class="collapse" for="c-42537197">[-]</label><label class="expand" for="c-42537197">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I wanted to use meaningful floating point examples instead of random numbers. You get a gold star for noticing :-)</div><br/></div></div></div></div></div></div><div id="42536777" class="c"><input type="checkbox" id="c-42536777" checked=""/><div class="controls bullet"><span class="by">evanmoran</span><span>|</span><a href="#42535185">prev</a><span>|</span><a href="#42538653">next</a><span>|</span><label class="collapse" for="c-42536777">[-]</label><label class="expand" for="c-42536777">[12 more]</label></div><br/><div class="children"><div class="content">The bug is super fun, but I also find the Intel response to be fascinating on its own. They apparently didn’t replace everyone’s processor with a non faulty version who wanted it, resulting in a ton of bad press.<p>To contrast, I’ve been thinking a lot about the Amazon Colorsoft launch, which had a yellow band graphics issue on some devices (mine included). Amazon waited a bit before acknowledging it (maybe a day or two, presumably to get the facts right). Then they simply quietly replace all of them. No recall. They just send you a new one if you ask for it (mine replacement comes Friday, hopefully it will fix it). My takeaway is that it’s pretty clear that having an incredibly robust return&#x2F;support apparatus has a lot of benefits when launches don’t go quite right. Certainly more than you’d expect from analysis.<p>Similarly I haven’t seen too many recent reports about the Apple AirPod Pros crackle issue that happened a couple years ago (my AirPods had to be replaced twice), but Apple also just quietly replaced them and the  support competence really seemed something powerful that isn’t always noticed.<p>Colorsoft:  <a href="https:&#x2F;&#x2F;www.tomsguide.com&#x2F;tablets&#x2F;e-readers&#x2F;amazon-kindle-colorsoft-yellow-stripe-defect-now-has-a-culprit" rel="nofollow">https:&#x2F;&#x2F;www.tomsguide.com&#x2F;tablets&#x2F;e-readers&#x2F;amazon-kindle-co...</a><p>AirPods Pro: <a href="https:&#x2F;&#x2F;support.apple.com&#x2F;airpods-pro-service-program-sound-issues" rel="nofollow">https:&#x2F;&#x2F;support.apple.com&#x2F;airpods-pro-service-program-sound-...</a></div><br/><div id="42537288" class="c"><input type="checkbox" id="c-42537288" checked=""/><div class="controls bullet"><span class="by">donio</span><span>|</span><a href="#42536777">parent</a><span>|</span><a href="#42538425">next</a><span>|</span><label class="collapse" for="c-42537288">[-]</label><label class="expand" for="c-42537288">[3 more]</label></div><br/><div class="children"><div class="content">The Kindle and AirPod cases are not really comparable since those are relatively minor products for the respective companies.<p>On the Apple side the iPhone 4 antennagate is a better comparison since the equivalent fix there would have involved free replacements for a flagship and revenue-critical product which Apple did <i>not</i> offer.<p>Intel on the other hand <i>did</i> eventually offer free replacements for anybody who asked and took a major financial hit.</div><br/><div id="42538215" class="c"><input type="checkbox" id="c-42538215" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42536777">root</a><span>|</span><a href="#42537288">parent</a><span>|</span><a href="#42538425">next</a><span>|</span><label class="collapse" for="c-42538215">[-]</label><label class="expand" for="c-42538215">[2 more]</label></div><br/><div class="children"><div class="content">Antennagate didn’t affect <i>everyone</i> though, only those 90s businessman nokia-in-fist style holders.<p>Anecdata ofc, but everyone I know already held phones in fingers back then, rather than hugging it as a brick.</div><br/><div id="42538658" class="c"><input type="checkbox" id="c-42538658" checked=""/><div class="controls bullet"><span class="by">donio</span><span>|</span><a href="#42536777">root</a><span>|</span><a href="#42538215">parent</a><span>|</span><a href="#42538425">next</a><span>|</span><label class="collapse" for="c-42538658">[-]</label><label class="expand" for="c-42538658">[1 more]</label></div><br/><div class="children"><div class="content">Maybe but by that argument 99% of the affected Pentium users could have happily used their computers until they became obsolete. The bug went completely unnoticed for over a year with millions of units in use.<p>The media coverage and the fact that &quot;computer can&#x27;t divide&quot; is something that the public could wrap their heads around is what made the recall unavoidable.<p>Intel&#x27;s own marketing hype around the Pentium has played into it too. It would have been a much smaller deal during the 486 era.</div><br/></div></div></div></div></div></div><div id="42538425" class="c"><input type="checkbox" id="c-42538425" checked=""/><div class="controls bullet"><span class="by">flomo</span><span>|</span><a href="#42536777">parent</a><span>|</span><a href="#42537288">prev</a><span>|</span><a href="#42537446">next</a><span>|</span><label class="collapse" for="c-42538425">[-]</label><label class="expand" for="c-42538425">[1 more]</label></div><br/><div class="children"><div class="content">For the most part, this wasn&#x27;t an individual problem. Corporations purchased these pretty expensive Pentium computers through a distributor, and just got them replaced by the vendor, per their support contract.<p>I&#x27;ve been in some consumer Apple &quot;shadow warranty&quot; situations, so I know what you are talking about, but IMO very different than the &quot;IT crisis&quot; that intel was facing. &quot;IBM said so&quot; had a ton of IT weight back then.</div><br/></div></div><div id="42537446" class="c"><input type="checkbox" id="c-42537446" checked=""/><div class="controls bullet"><span class="by">mikepurvis</span><span>|</span><a href="#42536777">parent</a><span>|</span><a href="#42538425">prev</a><span>|</span><a href="#42536983">next</a><span>|</span><label class="collapse" for="c-42537446">[-]</label><label class="expand" for="c-42537446">[2 more]</label></div><br/><div class="children"><div class="content">I had the first gen white MacBook with the magnetic closure that resulted in chipped, discoloured topcases. I had it replaced for free like three or four times over the lifespan of that computer, including past the three year AppleCare expiry.<p>I really respected Apple’s commitment to standing behind their product in that way.</div><br/><div id="42537551" class="c"><input type="checkbox" id="c-42537551" checked=""/><div class="controls bullet"><span class="by">colechristensen</span><span>|</span><a href="#42536777">root</a><span>|</span><a href="#42537446">parent</a><span>|</span><a href="#42536983">next</a><span>|</span><label class="collapse" for="c-42537551">[-]</label><label class="expand" for="c-42537551">[1 more]</label></div><br/><div class="children"><div class="content">I thought I remembered at least some of those replacements were class-action settlements and not Apple&#x27;s good will.</div><br/></div></div></div></div><div id="42536983" class="c"><input type="checkbox" id="c-42536983" checked=""/><div class="controls bullet"><span class="by">dan-robertson</span><span>|</span><a href="#42536777">parent</a><span>|</span><a href="#42537446">prev</a><span>|</span><a href="#42536879">next</a><span>|</span><label class="collapse" for="c-42536983">[-]</label><label class="expand" for="c-42536983">[3 more]</label></div><br/><div class="children"><div class="content">I thought the response from intel was to invest a lot in correctness for a while and then deciding that AMD were not being punished for their higher defect rate and so, more recently, investing in other things to try to compete with AMD on other metrics than how buggy the cpu is.</div><br/><div id="42537101" class="c"><input type="checkbox" id="c-42537101" checked=""/><div class="controls bullet"><span class="by">ryao</span><span>|</span><a href="#42536777">root</a><span>|</span><a href="#42536983">parent</a><span>|</span><a href="#42536879">next</a><span>|</span><label class="collapse" for="c-42537101">[-]</label><label class="expand" for="c-42537101">[2 more]</label></div><br/><div class="children"><div class="content">I read a claim that they had gutted their verification team several years ago in response to Zen since they claimed that they needed to develop faster and verification was slowing them down. Then not that long ago we started hearing about the raptor lake issues.</div><br/><div id="42537201" class="c"><input type="checkbox" id="c-42537201" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#42536777">root</a><span>|</span><a href="#42537101">parent</a><span>|</span><a href="#42536879">next</a><span>|</span><label class="collapse" for="c-42537201">[-]</label><label class="expand" for="c-42537201">[1 more]</label></div><br/><div class="children"><div class="content">This article? <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=16058920">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=16058920</a></div><br/></div></div></div></div></div></div><div id="42536879" class="c"><input type="checkbox" id="c-42536879" checked=""/><div class="controls bullet"><span class="by">lizzas</span><span>|</span><a href="#42536777">parent</a><span>|</span><a href="#42536983">prev</a><span>|</span><a href="#42538653">next</a><span>|</span><label class="collapse" for="c-42536879">[-]</label><label class="expand" for="c-42536879">[2 more]</label></div><br/><div class="children"><div class="content">That is default Amazon - you can return stuff no hassle for almost any reason.</div><br/><div id="42537223" class="c"><input type="checkbox" id="c-42537223" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#42536777">root</a><span>|</span><a href="#42536879">parent</a><span>|</span><a href="#42538653">next</a><span>|</span><label class="collapse" for="c-42537223">[-]</label><label class="expand" for="c-42537223">[1 more]</label></div><br/><div class="children"><div class="content">Only up to a point. If one is abusing it, expect getting locked out. I buy enough stuff from Amazon that they don&#x27;t mind me returning something once in a while.</div><br/></div></div></div></div></div></div><div id="42538653" class="c"><input type="checkbox" id="c-42538653" checked=""/><div class="controls bullet"><span class="by">hyperman1</span><span>|</span><a href="#42536777">prev</a><span>|</span><a href="#42535826">next</a><span>|</span><label class="collapse" for="c-42538653">[-]</label><label class="expand" for="c-42538653">[1 more]</label></div><br/><div class="children"><div class="content">How did idiv work on the pentium.  Was it also optimized, or somehow connected to fdiv, or just the old slow algorithm?</div><br/></div></div><div id="42535826" class="c"><input type="checkbox" id="c-42535826" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42538653">prev</a><span>|</span><a href="#42537154">next</a><span>|</span><label class="collapse" for="c-42535826">[-]</label><label class="expand" for="c-42535826">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Intel&#x27;s whitepaper claimed that a typical user would encounter a problem once every 27,000 years, insignificant compared to other sources of error such as DRAM bit flips.<p>&gt; However, IBM performed their own analysis,29 suggesting that the problem could hit customers every few days.<p>I bet these aren’t as far off as they seem. Intel seems to be considering a single user, while I suspect IBM is thinking in terms of support calls.<p>This is a problem I’ve had at work. When you process a 100 million requests a day the one in a billion problem is hitting you a few times a month. If it’s something a customer or worse a manager notices, they ignore the denominator and suspect you all of incompetence. Four times a month can translate into “all the time” in the manner humans bias their experiences. If you get two statistical clusters of three in a week someone will lose their shit.</div><br/><div id="42535889" class="c"><input type="checkbox" id="c-42535889" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42535826">parent</a><span>|</span><a href="#42537154">next</a><span>|</span><label class="collapse" for="c-42535889">[-]</label><label class="expand" for="c-42535889">[4 more]</label></div><br/><div class="children"><div class="content">No, IBM&#x27;s estimate is for a single user. IBM figures that a typical spreadsheet user does 5000 divides per second when recalculating and does 15 minutes of recalculating a day. IBM also figures that the numbers people use are 90 times as likely to cause an error as Intel&#x27;s uniformly-distributed numbers. The result is one user will have an error every 24 days.</div><br/><div id="42536349" class="c"><input type="checkbox" id="c-42536349" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42535826">root</a><span>|</span><a href="#42535889">parent</a><span>|</span><a href="#42536510">next</a><span>|</span><label class="collapse" for="c-42536349">[-]</label><label class="expand" for="c-42536349">[1 more]</label></div><br/><div class="children"><div class="content">Ah.<p>The other failure mode that occurred to me is that if a spread sheet is involved you could keep running the same calc on a bad input for months or even years when aggregating intermediate values over units of time. A problem that happens every time you run a calculation is very different from one that happens at random. Better in some ways and worse in others.</div><br/></div></div><div id="42536510" class="c"><input type="checkbox" id="c-42536510" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#42535826">root</a><span>|</span><a href="#42535889">parent</a><span>|</span><a href="#42536349">prev</a><span>|</span><a href="#42537154">next</a><span>|</span><label class="collapse" for="c-42536510">[-]</label><label class="expand" for="c-42536510">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s also a clearly flawed analysis, because the numbers mostly don&#x27;t change between re-computations of the spreadsheet cell values!<p>E.g.: Adding a row doesn&#x27;t invalidate calculations for previous rows in typical spreadsheet usage. The bug is deterministic, so repeating successful calculations over and over with the same numbers won&#x27;t ever trigger the bug.</div><br/><div id="42536568" class="c"><input type="checkbox" id="c-42536568" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42535826">root</a><span>|</span><a href="#42536510">parent</a><span>|</span><a href="#42537154">next</a><span>|</span><label class="collapse" for="c-42536568">[-]</label><label class="expand" for="c-42536568">[1 more]</label></div><br/><div class="children"><div class="content">Yes, the book &quot;Inside Intel&quot; makes the same argument about spreadsheets (p364). My opinion is that Intel&#x27;s analysis is mostly objective, while IBM&#x27;s analysis is kind of a scam.</div><br/></div></div></div></div></div></div></div></div><div id="42537154" class="c"><input type="checkbox" id="c-42537154" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#42535826">prev</a><span>|</span><a href="#42537209">next</a><span>|</span><label class="collapse" for="c-42537154">[-]</label><label class="expand" for="c-42537154">[3 more]</label></div><br/><div class="children"><div class="content">&gt; It appears that only one person (Professor Nicely) noticed the bug in actual use.<p>I recall a study done years ago where students were supplied calculators for their math class. The calculators had been doctored to produce incorrect results. The researchers wanted to know how wrong the calculators had to be before the students noticed something was amiss.<p>It was a factor of 2.<p>Noticing the error, and being affected by the error, are two entirely different things.<p>I.e. how many people check to see if the computer&#x27;s output is correct? I&#x27;d say very, very, very few. Not me, either, except in one case - when I was doing engineering computations at Boeing, I&#x27;d run the equations backwards to verify the outputs matched the inputs.</div><br/><div id="42537268" class="c"><input type="checkbox" id="c-42537268" checked=""/><div class="controls bullet"><span class="by">kllrnohj</span><span>|</span><a href="#42537154">parent</a><span>|</span><a href="#42537209">next</a><span>|</span><label class="collapse" for="c-42537268">[-]</label><label class="expand" for="c-42537268">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Noticing the error, and being affected by the error, are two entirely different things.<p>Only somewhat true. Take any consumer usage here for example. If you&#x27;re playing a game and it hits this incorrect output but you don&#x27;t notice anything as a result, were you actually affected?<p>How much usage of FDIV on a Pentium was for numerically significant output instead of just multimedia?</div><br/><div id="42537609" class="c"><input type="checkbox" id="c-42537609" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#42537154">root</a><span>|</span><a href="#42537268">parent</a><span>|</span><a href="#42537209">next</a><span>|</span><label class="collapse" for="c-42537609">[-]</label><label class="expand" for="c-42537609">[1 more]</label></div><br/><div class="children"><div class="content">If your game has some artifacts in the display, nobody cares.<p>But if you&#x27;re doing financial work, scientific work, or engineering work, the results matter. An awful lot of people used Excel.<p>BTW, telling a customer that a bug doesn&#x27;t matter doesn&#x27;t work out very well.</div><br/></div></div></div></div></div></div><div id="42537209" class="c"><input type="checkbox" id="c-42537209" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#42537154">prev</a><span>|</span><a href="#42536370">next</a><span>|</span><label class="collapse" for="c-42537209">[-]</label><label class="expand" for="c-42537209">[1 more]</label></div><br/><div class="children"><div class="content">I remember that bug. Because I could not control what CPU my customers were running on, I had to add special code in the library to detect the bad FPU and execute workaround code (this code was supplied by Intel).<p>I.e. Intel&#x27;s problem became my problem, grrrr</div><br/></div></div><div id="42536370" class="c"><input type="checkbox" id="c-42536370" checked=""/><div class="controls bullet"><span class="by">urbandw311er</span><span>|</span><a href="#42537209">prev</a><span>|</span><a href="#42537261">next</a><span>|</span><label class="collapse" for="c-42536370">[-]</label><label class="expand" for="c-42536370">[1 more]</label></div><br/><div class="children"><div class="content">What an interesting and utterly dedicated analysis. Thank you so much for all your work analysing the silicon and sharing your findings. I particularly like how you’re able to call out Intel on the actual root cause, which their PR made sound like something analogous to a trivial omission. But, in fact, was less forgivable and more blameworthy, ie they stuffed up their table generation algorithm.</div><br/></div></div><div id="42537261" class="c"><input type="checkbox" id="c-42537261" checked=""/><div class="controls bullet"><span class="by">stickfigure</span><span>|</span><a href="#42536370">prev</a><span>|</span><a href="#42536678">next</a><span>|</span><label class="collapse" for="c-42537261">[-]</label><label class="expand" for="c-42537261">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of a joke floating around at the time that captures a couple different 90s themes:<p><pre><code>    I AM PENTIUM OF BORG.
    DIVISION IS FUTILE.
    YOU WILL BE APPROXIMATED.</code></pre></div><br/></div></div><div id="42536678" class="c"><input type="checkbox" id="c-42536678" checked=""/><div class="controls bullet"><span class="by">Sniffnoy</span><span>|</span><a href="#42537261">prev</a><span>|</span><a href="#42538299">next</a><span>|</span><label class="collapse" for="c-42536678">[-]</label><label class="expand" for="c-42536678">[8 more]</label></div><br/><div class="children"><div class="content">Given that the fixed table is a much simpler one (by letting out-of-bounds just return 2, rather than adding circuitry to make it return 0), I wonder why they didn&#x27;t just do it that way in the first place?</div><br/><div id="42537833" class="c"><input type="checkbox" id="c-42537833" checked=""/><div class="controls bullet"><span class="by">phire</span><span>|</span><a href="#42536678">parent</a><span>|</span><a href="#42536700">next</a><span>|</span><label class="collapse" for="c-42537833">[-]</label><label class="expand" for="c-42537833">[1 more]</label></div><br/><div class="children"><div class="content">It feels like the kind of optimization that gets missed because the task was split between multiple people, and nobody had complete knowledge of the problem.<p>The person generating the table didn&#x27;t realize filling the out-of-bounds with two would make for a simpler PLA. And the person squishing the table into the PLA didn&#x27;t realize the zeros were &quot;don&#x27;t care&quot; and assumed they needed to be preserved.<p>It&#x27;s also possible they simply stopped optimizing as soon as they felt the PLA was small enough for their needs. If they had already done the floorplanning, making the PLA even smaller wasn&#x27;t going to make the chip any smaller, and their engineering time would be better spent elsewhere.</div><br/></div></div><div id="42536700" class="c"><input type="checkbox" id="c-42536700" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42536678">parent</a><span>|</span><a href="#42537833">prev</a><span>|</span><a href="#42536939">next</a><span>|</span><label class="collapse" for="c-42536700">[-]</label><label class="expand" for="c-42536700">[3 more]</label></div><br/><div class="children"><div class="content">Returning 0 for undefined table entries is the obvious thing to do. Setting these entries to 2 is a bit of a conceptual leap, even though it would have prevented the FDIV error and it makes the PLA simpler. So I can&#x27;t fault Intel for this.</div><br/><div id="42538453" class="c"><input type="checkbox" id="c-42538453" checked=""/><div class="controls bullet"><span class="by">mjevans</span><span>|</span><a href="#42536678">root</a><span>|</span><a href="#42536700">parent</a><span>|</span><a href="#42537353">next</a><span>|</span><label class="collapse" for="c-42538453">[-]</label><label class="expand" for="c-42538453">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a NULL &#x2F; &#x27;do not care&#x27; issue.  0 isn&#x27;t a reserved out of band value, it&#x27;s payload data and anything beyond the bounds should have been DNC.<p>It&#x27;s possible some other result, likely aligned to an easy binary multiple would still produce a square block of 2, and that allowing the far edges to float to some other value could yield a slightly more compact logic array.  Back-filling the entire side to the clamped upper value doesn&#x27;t cost that much more though, and is known to solve the issue.  As pointed out elsewhere, that sort of solution would also be faster for engineering time, fit within the planned space budget, and best of all reduces conative load.  It&#x27;s obviously correct when looking at the bug.</div><br/></div></div><div id="42537353" class="c"><input type="checkbox" id="c-42537353" checked=""/><div class="controls bullet"><span class="by">Sniffnoy</span><span>|</span><a href="#42536678">root</a><span>|</span><a href="#42536700">parent</a><span>|</span><a href="#42538453">prev</a><span>|</span><a href="#42536939">next</a><span>|</span><label class="collapse" for="c-42537353">[-]</label><label class="expand" for="c-42537353">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not really a conceptual leap if you&#x27;ve ever had to work with &quot;don&#x27;t care&quot; cases before...</div><br/></div></div></div></div><div id="42536939" class="c"><input type="checkbox" id="c-42536939" checked=""/><div class="controls bullet"><span class="by">lizzas</span><span>|</span><a href="#42536678">parent</a><span>|</span><a href="#42536700">prev</a><span>|</span><a href="#42537434">next</a><span>|</span><label class="collapse" for="c-42536939">[-]</label><label class="expand" for="c-42536939">[1 more]</label></div><br/><div class="children"><div class="content">That must have been such a satisfying fix for the engineers though!</div><br/></div></div><div id="42537434" class="c"><input type="checkbox" id="c-42537434" checked=""/><div class="controls bullet"><span class="by">jandrese</span><span>|</span><a href="#42536678">parent</a><span>|</span><a href="#42536939">prev</a><span>|</span><a href="#42536716">next</a><span>|</span><label class="collapse" for="c-42537434">[-]</label><label class="expand" for="c-42537434">[1 more]</label></div><br/><div class="children"><div class="content">More engineering time resulted in a more efficient solution.</div><br/></div></div><div id="42536716" class="c"><input type="checkbox" id="c-42536716" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#42536678">parent</a><span>|</span><a href="#42537434">prev</a><span>|</span><a href="#42538299">next</a><span>|</span><label class="collapse" for="c-42536716">[-]</label><label class="expand" for="c-42536716">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Make it work first before you make it work fast&quot;.  Fundamentally this is a software problem solved with software techniques.  And like most software there&#x27;s some optimization left on the table just because no one thought of it in time.  And you can&#x27;t patch a CPU of this era.</div><br/></div></div></div></div><div id="42538299" class="c"><input type="checkbox" id="c-42538299" checked=""/><div class="controls bullet"><span class="by">keshavmr</span><span>|</span><a href="#42536678">prev</a><span>|</span><a href="#42538671">next</a><span>|</span><label class="collapse" for="c-42538299">[-]</label><label class="expand" for="c-42538299">[1 more]</label></div><br/><div class="children"><div class="content">At the 2012 Turning Award conference in San Francisco, Prof William Kahan mentioned that he had a newer test suite available in 1993 that would have caught Intel&#x27;s bug. Still, Intel did not run that.. Prof. Kahan was actively involved in its analysis and further testing. (I&#x27;m stating this just from memory).</div><br/></div></div><div id="42538671" class="c"><input type="checkbox" id="c-42538671" checked=""/><div class="controls bullet"><span class="by">huracan20094</span><span>|</span><a href="#42538299">prev</a><span>|</span><a href="#42536462">next</a><span>|</span><label class="collapse" for="c-42538671">[-]</label><label class="expand" for="c-42538671">[1 more]</label></div><br/><div class="children"><div class="content">huracan20094</div><br/></div></div><div id="42536462" class="c"><input type="checkbox" id="c-42536462" checked=""/><div class="controls bullet"><span class="by">ThrowawayTestr</span><span>|</span><a href="#42538671">prev</a><span>|</span><a href="#42536103">next</a><span>|</span><label class="collapse" for="c-42536462">[-]</label><label class="expand" for="c-42536462">[4 more]</label></div><br/><div class="children"><div class="content">&gt;Smith posted the email on a Compuserve forum, a 1990s version of social media.<p>I hate how this sentence makes me feel.</div><br/><div id="42537239" class="c"><input type="checkbox" id="c-42537239" checked=""/><div class="controls bullet"><span class="by">lotsofpulp</span><span>|</span><a href="#42536462">parent</a><span>|</span><a href="#42536953">next</a><span>|</span><label class="collapse" for="c-42537239">[-]</label><label class="expand" for="c-42537239">[2 more]</label></div><br/><div class="children"><div class="content">I like to use the 1900s instead of the 1990s.</div><br/><div id="42537816" class="c"><input type="checkbox" id="c-42537816" checked=""/><div class="controls bullet"><span class="by">lazide</span><span>|</span><a href="#42536462">root</a><span>|</span><a href="#42537239">parent</a><span>|</span><a href="#42536953">next</a><span>|</span><label class="collapse" for="c-42537816">[-]</label><label class="expand" for="c-42537816">[1 more]</label></div><br/><div class="children"><div class="content">Does it help, or make it worse, if you say it as ‘late 1900s’?</div><br/></div></div></div></div><div id="42536953" class="c"><input type="checkbox" id="c-42536953" checked=""/><div class="controls bullet"><span class="by">lizzas</span><span>|</span><a href="#42536462">parent</a><span>|</span><a href="#42537239">prev</a><span>|</span><a href="#42536103">next</a><span>|</span><label class="collapse" for="c-42536953">[-]</label><label class="expand" for="c-42536953">[1 more]</label></div><br/><div class="children"><div class="content">My initial feeling is: that data is probably mostly unmined and lost. Lucky bastards!</div><br/></div></div></div></div><div id="42536103" class="c"><input type="checkbox" id="c-42536103" checked=""/><div class="controls bullet"><span class="by">dboreham</span><span>|</span><a href="#42536462">prev</a><span>|</span><a href="#42535667">next</a><span>|</span><label class="collapse" for="c-42536103">[-]</label><label class="expand" for="c-42536103">[3 more]</label></div><br/><div class="children"><div class="content">Another great article from Ken. I remember this particularly because the first PC that I bought with my own money had an affected CPU. Prior to this era I hadn&#x27;t been much interested in PCs because they couldn&#x27;t run &quot;real&quot; software. But Windows NT changed that (thank you Mr. Cutler), and Taiwanese sourced low cost motherboards made it practical to build your own machine, as many people still do today. Ken touched on the fact that it was easy for users to check if their CPU was affected. I remember that this was as easy as typing a division expression with the magic numbers into Excel. If MS had released a version of Excel that worked around the bug, I suspect fewer users would have claimed their replacement device!</div><br/><div id="42537119" class="c"><input type="checkbox" id="c-42537119" checked=""/><div class="controls bullet"><span class="by">ryao</span><span>|</span><a href="#42536103">parent</a><span>|</span><a href="#42535667">next</a><span>|</span><label class="collapse" for="c-42537119">[-]</label><label class="expand" for="c-42537119">[2 more]</label></div><br/><div class="children"><div class="content">Couldn’t these PCs run 386BSD?</div><br/><div id="42537354" class="c"><input type="checkbox" id="c-42537354" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42536103">root</a><span>|</span><a href="#42537119">parent</a><span>|</span><a href="#42535667">next</a><span>|</span><label class="collapse" for="c-42537354">[-]</label><label class="expand" for="c-42537354">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, there was BSD, Coherent, SCO, Xenix, etc. Arguably OS&#x2F;2 was also a &quot;real&quot; operating system.</div><br/></div></div></div></div></div></div><div id="42535667" class="c"><input type="checkbox" id="c-42535667" checked=""/><div class="controls bullet"><span class="by">fourseventy</span><span>|</span><a href="#42536103">prev</a><span>|</span><a href="#42536586">next</a><span>|</span><label class="collapse" for="c-42535667">[-]</label><label class="expand" for="c-42535667">[7 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t Intel have floating point division issues more recently as well?</div><br/><div id="42535716" class="c"><input type="checkbox" id="c-42535716" checked=""/><div class="controls bullet"><span class="by">kens</span><span>|</span><a href="#42535667">parent</a><span>|</span><a href="#42535707">next</a><span>|</span><label class="collapse" for="c-42535716">[-]</label><label class="expand" for="c-42535716">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s an FSIN trig inaccuracy, but I don&#x27;t know of other division issues: <a href="https:&#x2F;&#x2F;randomascii.wordpress.com&#x2F;2014&#x2F;10&#x2F;09&#x2F;intel-underestimates-error-bounds-by-1-3-quintillion&#x2F;" rel="nofollow">https:&#x2F;&#x2F;randomascii.wordpress.com&#x2F;2014&#x2F;10&#x2F;09&#x2F;intel-underesti...</a></div><br/></div></div><div id="42535707" class="c"><input type="checkbox" id="c-42535707" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42535667">parent</a><span>|</span><a href="#42535716">prev</a><span>|</span><a href="#42536586">next</a><span>|</span><label class="collapse" for="c-42535707">[-]</label><label class="expand" for="c-42535707">[5 more]</label></div><br/><div class="children"><div class="content">Inflation adjusted that’s over 1 billion today. And they do more mitigations with microcode these days.</div><br/><div id="42535801" class="c"><input type="checkbox" id="c-42535801" checked=""/><div class="controls bullet"><span class="by">xattt</span><span>|</span><a href="#42535667">root</a><span>|</span><a href="#42535707">parent</a><span>|</span><a href="#42535886">next</a><span>|</span><label class="collapse" for="c-42535801">[-]</label><label class="expand" for="c-42535801">[1 more]</label></div><br/><div class="children"><div class="content">Some irony if internal calculations of financial damage estimates were under or over-estimated because they were done on a defective chip.</div><br/></div></div><div id="42535886" class="c"><input type="checkbox" id="c-42535886" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#42535667">root</a><span>|</span><a href="#42535707">parent</a><span>|</span><a href="#42535801">prev</a><span>|</span><a href="#42536586">next</a><span>|</span><label class="collapse" for="c-42535886">[-]</label><label class="expand" for="c-42535886">[3 more]</label></div><br/><div class="children"><div class="content">yes.<p>their ”1 in a billion”  (excuse) became $1 billion (cost to them).<p>of course, the CEOs not only go scot-free, but get to bail out with their golden parachutes, while the shareholders and public take the hit.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Golden_parachute" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Golden_parachute</a></div><br/><div id="42536489" class="c"><input type="checkbox" id="c-42536489" checked=""/><div class="controls bullet"><span class="by">bolognafairy</span><span>|</span><a href="#42535667">root</a><span>|</span><a href="#42535886">parent</a><span>|</span><a href="#42536632">next</a><span>|</span><label class="collapse" for="c-42536489">[-]</label><label class="expand" for="c-42536489">[1 more]</label></div><br/><div class="children"><div class="content">Those evil CEOs pulling the wool over the eyes of the poor shareholders!<p>This is the employment contract that was negotiated and agreed to by the board &#x2F; shareholders.</div><br/></div></div><div id="42536632" class="c"><input type="checkbox" id="c-42536632" checked=""/><div class="controls bullet"><span class="by">KennyBlanken</span><span>|</span><a href="#42535667">root</a><span>|</span><a href="#42535886">parent</a><span>|</span><a href="#42536489">prev</a><span>|</span><a href="#42536586">next</a><span>|</span><label class="collapse" for="c-42536632">[-]</label><label class="expand" for="c-42536632">[1 more]</label></div><br/><div class="children"><div class="content">Oh, it gets even better. US taxpayers are giving them billions for &quot;national security&quot; reasons.<p>Nothing like giving piles of cash to a grossly incompetent company (the Pentium math bug, Puma cablemodem issues, their shitty 4G cellular radios, extensive issues with gigabit and 2.5G network interfaces, and now the whole 13th&#x2F;14th gen processor self-destruction mess.)</div><br/></div></div></div></div></div></div></div></div><div id="42536586" class="c"><input type="checkbox" id="c-42536586" checked=""/><div class="controls bullet"><span class="by">tgma</span><span>|</span><a href="#42535667">prev</a><span>|</span><a href="#42537087">next</a><span>|</span><label class="collapse" for="c-42536586">[-]</label><label class="expand" for="c-42536586">[6 more]</label></div><br/><div class="children"><div class="content">Intel $475B error: not building a decent GPU</div><br/><div id="42538128" class="c"><input type="checkbox" id="c-42538128" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#42536586">parent</a><span>|</span><a href="#42536947">next</a><span>|</span><label class="collapse" for="c-42538128">[-]</label><label class="expand" for="c-42538128">[1 more]</label></div><br/><div class="children"><div class="content">Their iGPUs are good enough for day-to-day (non gaming) computer use and rock-solid in Linux.</div><br/></div></div><div id="42536947" class="c"><input type="checkbox" id="c-42536947" checked=""/><div class="controls bullet"><span class="by">lizzas</span><span>|</span><a href="#42536586">parent</a><span>|</span><a href="#42538128">prev</a><span>|</span><a href="#42537087">next</a><span>|</span><label class="collapse" for="c-42536947">[-]</label><label class="expand" for="c-42536947">[4 more]</label></div><br/><div class="children"><div class="content">Lack of clairvoyance? Missing out on mobile was more obvious tho.</div><br/><div id="42538112" class="c"><input type="checkbox" id="c-42538112" checked=""/><div class="controls bullet"><span class="by">phire</span><span>|</span><a href="#42536586">root</a><span>|</span><a href="#42536947">parent</a><span>|</span><a href="#42538186">next</a><span>|</span><label class="collapse" for="c-42538112">[-]</label><label class="expand" for="c-42538112">[1 more]</label></div><br/><div class="children"><div class="content">More explicitly. In 2006, Apple asked Intel to make a SoC for their upcoming product... the iPhone.<p>At the time, Intel was one of the leading ARM SoC providers, their custom XScale ARM cores were faster than anything from ARM Inc themselves. It was the perfect line of chips for smartphones.<p>The MBA types at Intel ran some sales projects and decided that such a chip wasn&#x27;t likely to be profitable. There was apparently debate within Intel, the engineering types wanted to develop the product line anyway, and others wanting to win good-will from Apple. But the MBA types won. Not only did they reject Apple&#x27;s request for an iPhone SoC, but they immediately sold off their entire XScale division to marvel (who did nothing with it) so they wouldn&#x27;t even be able to change their mind later even if they wanted.<p>With hindsight, I think we can safely say Intel&#x27;s projections for iPhone sales were very wrong. They would have easily made their money back on just the sales from the first-gen iPhone, and Apple would probably gone back to intel for at least a few generations. Even if Apple dumped them, Intel would have a great product to sell to the rapidly market of Android smartphones in the early 2010s.<p>-----------<p>But I think it&#x27;s actually far worse than just Intel missing out on the mobile market.<p>In 2008, Apple acquired P.A. Semi, and started work on their own custom ARM processors (and ARM SoCs). The ARM processors which Apple eventually used to replace Intel as suppler in laptops and desktops too.<p>Maybe Apple would have gone down that path anyway, but I really suspect Intel&#x27;s reluctance to work with Apple to produce the chips Apple wanted (especially the iPhone chip) was a huge motivating factor that drove Apple down the path of developing their own CPUs.<p>Remember, this is 2006. Intel had only just switched to Intel in January because IBM had continually failed to deliver Apple the laptop-class powerpc chips they needed <i>[1]</i>. And while at that time, Intel had a good roadmap for laptop-class chips, it would have looked to Apple as if history was at risk of repeating itself, especially as they moved into the mobile market where low power consumption was even more important.<p><i>[1]</i> <i>TBH, IBM were failing to provide desktop-class CPUs too. But the laptop cpus were the more pressing issue. Fun fact: IBM actually tried to sell the PowerPC core they were developing for the xbox 360 and PS3 to Apple as a low-power laptop core. It was sold to Microsoft&#x2F;Sony as a low-power core too, but if you look at the launch versions of both consoles, they run extremely hot, even when paired with comically large (for the era) cooling solutions.</i></div><br/></div></div><div id="42538186" class="c"><input type="checkbox" id="c-42538186" checked=""/><div class="controls bullet"><span class="by">cylemons</span><span>|</span><a href="#42536586">root</a><span>|</span><a href="#42536947">parent</a><span>|</span><a href="#42538112">prev</a><span>|</span><a href="#42537087">next</a><span>|</span><label class="collapse" for="c-42538186">[-]</label><label class="expand" for="c-42538186">[2 more]</label></div><br/><div class="children"><div class="content">Was it really? x86 is more performance oriented and not efficiency oriented. Its variable length just makes it really hard to have a low power CPU that isn&#x27;t too slow.</div><br/><div id="42538449" class="c"><input type="checkbox" id="c-42538449" checked=""/><div class="controls bullet"><span class="by">tgma</span><span>|</span><a href="#42536586">root</a><span>|</span><a href="#42538186">parent</a><span>|</span><a href="#42537087">next</a><span>|</span><label class="collapse" for="c-42538449">[-]</label><label class="expand" for="c-42538449">[1 more]</label></div><br/><div class="children"><div class="content">I think the impact of ISA is way overblown. The instruction decode pipeline is worse but doesn’t consume that many transistors in the end relative to the total size of the system. I think it has much more to do with the attitude of Intel defining the x86 market as desktop and servers and not focused on super low power parts; plus their monopoly which led to a long stagnation because they didn’t have to innovate as much.<p>You can see today with modern Ryzen laptop chips that aren’t that much worse than ARMs fabbed with the same node on perf&#x2F;watt.</div><br/></div></div></div></div></div></div></div></div><div id="42537087" class="c"><input type="checkbox" id="c-42537087" checked=""/><div class="controls bullet"><span class="by">coin</span><span>|</span><a href="#42536586">prev</a><span>|</span><a href="#42537862">next</a><span>|</span><label class="collapse" for="c-42537087">[-]</label><label class="expand" for="c-42537087">[1 more]</label></div><br/><div class="children"><div class="content">&gt; He called Intel tech support but was brushed off<p>I laughed when I read this. It’s hard enough to get support for basic issues, good luck explaining a hardware bug.</div><br/></div></div><div id="42537862" class="c"><input type="checkbox" id="c-42537862" checked=""/><div class="controls bullet"><span class="by">fortran77</span><span>|</span><a href="#42537087">prev</a><span>|</span><label class="collapse" for="c-42537862">[-]</label><label class="expand" for="c-42537862">[1 more]</label></div><br/><div class="children"><div class="content">&quot;At Intel, Quality is job 0.9999999999999999762&quot;</div><br/></div></div></div></div></div></div></div></body></html>