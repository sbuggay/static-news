<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725613277131" as="style"/><link rel="stylesheet" href="styles.css?v=1725613277131"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a>Ask HN: Resources for GPU Compilers?</a>Â </div><div class="subtext"><span>zvikinoza</span> | <span>13 comments</span></div><br/><div><div id="41429769" class="c"><input type="checkbox" id="c-41429769" checked=""/><div class="controls bullet"><span class="by">zoenolan</span><span>|</span><a href="#41430759">next</a><span>|</span><label class="collapse" for="c-41429769">[-]</label><label class="expand" for="c-41429769">[4 more]</label></div><br/><div class="children"><div class="content">Newer editions of Computer Organization and Design: The Hardware Software Interface covers GPUs [1]<p>Multiflow still has some relevant ideas [2]<p>Programming on Parallel Machines: GPU, Multicore, Clusters and More. Gives you a look at some of the issues [3]<p>SPIRV-VM is a virtual machine for executing SPIR-V shaders [4]<p>NyuziRaster: Optimizing Rasterizer Performance and Energy in the Nyuzi Open Source GPU  [5]<p>Ocelot is a modular dynamic compilation framework for heterogeneous systems, providing various backend targets for CUDA programs and analysis modules for the PTX virtual instruction set. [6]<p>glslang is the Khronos-reference front end for GLSL&#x2F;ESSL, partial front end for HLSL, and a SPIR-V generator.<p>[1]: <a href="https:&#x2F;&#x2F;www.goodreads.com&#x2F;book&#x2F;show&#x2F;83895.Computer_Organization_Design" rel="nofollow">https:&#x2F;&#x2F;www.goodreads.com&#x2F;book&#x2F;show&#x2F;83895.Computer_Organizat...</a><p>[2]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Multiflow" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Multiflow</a><p>[3]: <a href="http:&#x2F;&#x2F;heather.cs.ucdavis.edu&#x2F;parprocbook" rel="nofollow">http:&#x2F;&#x2F;heather.cs.ucdavis.edu&#x2F;parprocbook</a><p>[4]: <a href="https:&#x2F;&#x2F;github.com&#x2F;dfranx&#x2F;SPIRV-VM">https:&#x2F;&#x2F;github.com&#x2F;dfranx&#x2F;SPIRV-VM</a><p>[5]: <a href="https:&#x2F;&#x2F;www.cs.binghamton.edu&#x2F;~millerti&#x2F;nyuziraster.pdf" rel="nofollow">https:&#x2F;&#x2F;www.cs.binghamton.edu&#x2F;~millerti&#x2F;nyuziraster.pdf</a><p>[6]:<a href="https:&#x2F;&#x2F;code.google.com&#x2F;archive&#x2F;p&#x2F;gpuocelot&#x2F;" rel="nofollow">https:&#x2F;&#x2F;code.google.com&#x2F;archive&#x2F;p&#x2F;gpuocelot&#x2F;</a><p>[7]: <a href="https:&#x2F;&#x2F;github.com&#x2F;KhronosGroup&#x2F;glslang">https:&#x2F;&#x2F;github.com&#x2F;KhronosGroup&#x2F;glslang</a></div><br/><div id="41437716" class="c"><input type="checkbox" id="c-41437716" checked=""/><div class="controls bullet"><span class="by">zoenolan</span><span>|</span><a href="#41429769">parent</a><span>|</span><a href="#41448154">next</a><span>|</span><label class="collapse" for="c-41437716">[-]</label><label class="expand" for="c-41437716">[1 more]</label></div><br/><div class="children"><div class="content">and a few more<p>Pixel Planes&#x2F;Pixel Flow [1]<p>The Geometry Engine: A VLSI Geometry System for Graphics [2]<p>Tim Purcell&#x27;s research [3]<p>BrookGPU [4]<p>GRAMPS: A Programming Model for Graphics Pipelines [5]<p>[1]: <a href="https:&#x2F;&#x2F;www.cs.unc.edu&#x2F;~pxfl&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.cs.unc.edu&#x2F;~pxfl&#x2F;</a><p>[2]: <a href="https:&#x2F;&#x2F;graphics.stanford.edu&#x2F;courses&#x2F;cs148-10-summer&#x2F;docs&#x2F;1982--clark--geometry_engine.pdf" rel="nofollow">https:&#x2F;&#x2F;graphics.stanford.edu&#x2F;courses&#x2F;cs148-10-summer&#x2F;docs&#x2F;1...</a><p>[3]: <a href="http:&#x2F;&#x2F;graphics.stanford.edu&#x2F;~tpurcell&#x2F;" rel="nofollow">http:&#x2F;&#x2F;graphics.stanford.edu&#x2F;~tpurcell&#x2F;</a><p>[4]: <a href="http:&#x2F;&#x2F;graphics.stanford.edu&#x2F;projects&#x2F;brookgpu&#x2F;" rel="nofollow">http:&#x2F;&#x2F;graphics.stanford.edu&#x2F;projects&#x2F;brookgpu&#x2F;</a><p>[5]: <a href="http:&#x2F;&#x2F;graphics.stanford.edu&#x2F;papers&#x2F;gramps-tog&#x2F;" rel="nofollow">http:&#x2F;&#x2F;graphics.stanford.edu&#x2F;papers&#x2F;gramps-tog&#x2F;</a></div><br/></div></div><div id="41448154" class="c"><input type="checkbox" id="c-41448154" checked=""/><div class="controls bullet"><span class="by">zvikinoza</span><span>|</span><a href="#41429769">parent</a><span>|</span><a href="#41437716">prev</a><span>|</span><a href="#41430759">next</a><span>|</span><label class="collapse" for="c-41448154">[-]</label><label class="expand" for="c-41448154">[2 more]</label></div><br/><div class="children"><div class="content">wow, Thanks! Some super interesting resources, some that I haven&#x27;t even heard of.</div><br/><div id="41451366" class="c"><input type="checkbox" id="c-41451366" checked=""/><div class="controls bullet"><span class="by">zoenolan</span><span>|</span><a href="#41429769">root</a><span>|</span><a href="#41448154">parent</a><span>|</span><a href="#41430759">next</a><span>|</span><label class="collapse" for="c-41451366">[-]</label><label class="expand" for="c-41451366">[1 more]</label></div><br/><div class="children"><div class="content">Just some links I had lying around. Well at least the ones that still worked.<p>A major problem I had was register pressure. Even with a decent sized register file. Memory accesses in the hundred of cycles range, made it very difficult to fill those &#x27;free&#x27; cycles while you are waiting for data to be loaded. Double buffering data really just cut the effective size of the register file making everything worse. That did lead to some interesting way of optimising code to reduce temp storage over execution time.<p>Another was trying to access different memory locations and getting poor usage of the cache. Giving larger gaps to try and fill with something useful.<p>This was sometime ago now. So the tradeoffs will be different. Different types of RAM and transistor budgets</div><br/></div></div></div></div></div></div><div id="41430759" class="c"><input type="checkbox" id="c-41430759" checked=""/><div class="controls bullet"><span class="by">koolala</span><span>|</span><a href="#41429769">prev</a><span>|</span><a href="#41430190">next</a><span>|</span><label class="collapse" for="c-41430759">[-]</label><label class="expand" for="c-41430759">[1 more]</label></div><br/><div class="children"><div class="content">Here is a Phd thesis for a GPU programming language that compiles on the gpu itself:<p><a href="https:&#x2F;&#x2F;scholarworks.iu.edu&#x2F;dspace&#x2F;items&#x2F;3ab772c9-92c9-4f59-bd95-40aff99e8c7a" rel="nofollow">https:&#x2F;&#x2F;scholarworks.iu.edu&#x2F;dspace&#x2F;items&#x2F;3ab772c9-92c9-4f59-...</a></div><br/></div></div><div id="41430190" class="c"><input type="checkbox" id="c-41430190" checked=""/><div class="controls bullet"><span class="by">adamnemecek</span><span>|</span><a href="#41430759">prev</a><span>|</span><a href="#41428776">next</a><span>|</span><label class="collapse" for="c-41430190">[-]</label><label class="expand" for="c-41430190">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;futhark-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;futhark-lang.org&#x2F;</a></div><br/></div></div><div id="41428776" class="c"><input type="checkbox" id="c-41428776" checked=""/><div class="controls bullet"><span class="by">hansvm</span><span>|</span><a href="#41430190">prev</a><span>|</span><a href="#41429694">next</a><span>|</span><label class="collapse" for="c-41428776">[-]</label><label class="expand" for="c-41428776">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re already familiar with compilers in the abstract, start by implementing some high-level solutions leveraging a GPU, some low-level performance-optimized kernels, and build up a bit of intuition. The high-level code depends on your goals, but for low-level code maybe try optimizing something equivalent to a binary tree (both with leaves smaller and larger than 4kb), something benefiting from operator fusion (e.g., a matmul followed by an element-wise exponential), and something benefiting from deeply understanding the memory hierarchy (e.g., multiplying two very large square matrices, and also inner&#x2F;outer producting two very narrow matrices).<p>From there, hopefully you&#x27;ll have the intuition to actually evaluate whether a given resource being recommended here is any good.</div><br/></div></div><div id="41429694" class="c"><input type="checkbox" id="c-41429694" checked=""/><div class="controls bullet"><span class="by">aportnoy</span><span>|</span><a href="#41428776">prev</a><span>|</span><a href="#41428672">next</a><span>|</span><label class="collapse" for="c-41429694">[-]</label><label class="expand" for="c-41429694">[1 more]</label></div><br/><div class="children"><div class="content">For NVIDIA,<p>1. play around with the NVPTX LLVM backend and&#x2F;or try compiling CUDA with Clang,<p>2. get familiar with the PTX ISA,<p>3. play around with ptxas + nvdisasm.</div><br/></div></div><div id="41428672" class="c"><input type="checkbox" id="c-41428672" checked=""/><div class="controls bullet"><span class="by">surfingdino</span><span>|</span><a href="#41429694">prev</a><span>|</span><a href="#41428609">next</a><span>|</span><label class="collapse" for="c-41428672">[-]</label><label class="expand" for="c-41428672">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;docs.nvidia.com&#x2F;cuda&#x2F;cuda-compiler-driver-nvcc&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;docs.nvidia.com&#x2F;cuda&#x2F;cuda-compiler-driver-nvcc&#x2F;index...</a></div><br/></div></div><div id="41428609" class="c"><input type="checkbox" id="c-41428609" checked=""/><div class="controls bullet"><span class="by">danielt3</span><span>|</span><a href="#41428672">prev</a><span>|</span><a href="#41428816">next</a><span>|</span><label class="collapse" for="c-41428609">[-]</label><label class="expand" for="c-41428609">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;theartofhpc.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;theartofhpc.com&#x2F;</a><p>Great book series on the subject of HPC. Not sure if it actually touches GPU. Great material anyway. BONUS: it&#x27;s free!</div><br/><div id="41448079" class="c"><input type="checkbox" id="c-41448079" checked=""/><div class="controls bullet"><span class="by">zvikinoza</span><span>|</span><a href="#41428609">parent</a><span>|</span><a href="#41428816">next</a><span>|</span><label class="collapse" for="c-41448079">[-]</label><label class="expand" for="c-41448079">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, Thanks, started reading that! it&#x27;s not exactly what I was looking for but it&#x27;s very deep&#x2F;rigorous and feel like concepts will be transferable.</div><br/></div></div></div></div><div id="41428816" class="c"><input type="checkbox" id="c-41428816" checked=""/><div class="controls bullet"><span class="by">raphlinus</span><span>|</span><a href="#41428609">prev</a><span>|</span><label class="collapse" for="c-41428816">[-]</label><label class="expand" for="c-41428816">[1 more]</label></div><br/><div class="children"><div class="content">Faith Ekstrand has an impressive track record of compiler work and has written a few blog posts[1], [1a]. Her Mastodon[2] is also worth a follow.<p>SPIR-V is important in the compute shader space, especially because DXIL and Metal&#x27;s AIR are similar. I&#x27;m going to link three articles critical of SPIR-V: [3], [4], [5].<p>WebGPU [6] is interesting for a number of reasons, largely because they&#x27;re trying to actually nail down the semantics, and also make it safe (see the uniformity analysis [7] in particular, which is a very &quot;compiler&quot; approach to a GPU-specific problem). Both Tint and naga projects are open source, with lots of high quality discussion in the issue trackers.<p>Shader languages suck, and we really need a good one. Promising approaches are Circle [8] (which is C++ based, very advanced but not open source), and Slang [9] (an evolution of HLSL). The Vcc work (also related to [4]) is worth studying.<p>Best of luck! This is a fascinating, if frustrating, space, and there&#x27;s lots of room to improve things.<p>[1]: <a href="https:&#x2F;&#x2F;www.gfxstrand.net&#x2F;faith&#x2F;blog&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.gfxstrand.net&#x2F;faith&#x2F;blog&#x2F;</a><p>[1a]: <a href="https:&#x2F;&#x2F;www.collabora.com&#x2F;news-and-blog&#x2F;blog&#x2F;2024&#x2F;04&#x2F;25&#x2F;re-converging-control-flow-on-nvidia-gpus&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.collabora.com&#x2F;news-and-blog&#x2F;blog&#x2F;2024&#x2F;04&#x2F;25&#x2F;re-c...</a><p>[2]: <a href="https:&#x2F;&#x2F;mastodon.gamedev.place&#x2F;@gfxstrand" rel="nofollow">https:&#x2F;&#x2F;mastodon.gamedev.place&#x2F;@gfxstrand</a><p>[3]: <a href="https:&#x2F;&#x2F;kvark.github.io&#x2F;spirv&#x2F;2021&#x2F;05&#x2F;01&#x2F;spirv-horrors.html" rel="nofollow">https:&#x2F;&#x2F;kvark.github.io&#x2F;spirv&#x2F;2021&#x2F;05&#x2F;01&#x2F;spirv-horrors.html</a><p>[4]: <a href="https:&#x2F;&#x2F;xol.io&#x2F;blah&#x2F;the-trouble-with-spirv&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xol.io&#x2F;blah&#x2F;the-trouble-with-spirv&#x2F;</a><p>[5]: <a href="https:&#x2F;&#x2F;themaister.net&#x2F;blog&#x2F;2022&#x2F;08&#x2F;21&#x2F;my-personal-hell-of-translating-dxil-to-spir-v-finale&#x2F;" rel="nofollow">https:&#x2F;&#x2F;themaister.net&#x2F;blog&#x2F;2022&#x2F;08&#x2F;21&#x2F;my-personal-hell-of-t...</a><p>[6]: <a href="https:&#x2F;&#x2F;github.com&#x2F;gpuweb&#x2F;gpuweb">https:&#x2F;&#x2F;github.com&#x2F;gpuweb&#x2F;gpuweb</a><p>[7]: <a href="https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;2022&#x2F;WD-WGSL-20220505&#x2F;#uniformity-overview" rel="nofollow">https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;2022&#x2F;WD-WGSL-20220505&#x2F;#uniformity-over...</a><p>[8]: <a href="https:&#x2F;&#x2F;www.circle-lang.org&#x2F;site&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;www.circle-lang.org&#x2F;site&#x2F;index.html</a><p>[9]: <a href="https:&#x2F;&#x2F;github.com&#x2F;shader-slang&#x2F;slang">https:&#x2F;&#x2F;github.com&#x2F;shader-slang&#x2F;slang</a></div><br/></div></div></div></div></div></div></div></body></html>