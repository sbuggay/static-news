<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711184455146" as="style"/><link rel="stylesheet" href="styles.css?v=1711184455146"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.scattered-thoughts.net/writing/unexplanations-sql-is-syntactic-sugar-for-relational-algebra/">SQL is syntactic sugar for relational algebra</a> <span class="domain">(<a href="https://www.scattered-thoughts.net">www.scattered-thoughts.net</a>)</span></div><div class="subtext"><span>dmarto</span> | <span>12 comments</span></div><br/><div><div id="39797871" class="c"><input type="checkbox" id="c-39797871" checked=""/><div class="controls bullet"><span class="by">roenxi</span><span>|</span><a href="#39798268">next</a><span>|</span><label class="collapse" for="c-39797871">[-]</label><label class="expand" for="c-39797871">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;m glad that the article concluded &quot;No&quot; to it&#x27;s own headline. Calling SQL &quot;syntactic sugar&quot; is an insult to sugar. The &quot;helpful diagram explaining how the scoping rules work&quot; alone should make people blanch. The language is a syntactic disaster that we&#x27;ve been saddled with out of habit and inertia.</div><br/><div id="39797904" class="c"><input type="checkbox" id="c-39797904" checked=""/><div class="controls bullet"><span class="by">bugbuddy</span><span>|</span><a href="#39797871">parent</a><span>|</span><a href="#39797903">next</a><span>|</span><label class="collapse" for="c-39797904">[-]</label><label class="expand" for="c-39797904">[3 more]</label></div><br/><div class="children"><div class="content">Call a masochist but I love me good old SQL. I find most problems with systems I have worked with are the result of managements putting people who never paid attention in database classes in charge. Or maybe nobody really cares about doing a good job. In any case, my professors would have given all the legacy SQL databases that I have come across F-.<p>The worse part is nobody dares changing anything because it would require application code changes. Don’t blame SQL. Blame incompetent people doing SQL badly.</div><br/><div id="39798089" class="c"><input type="checkbox" id="c-39798089" checked=""/><div class="controls bullet"><span class="by">b33j0r</span><span>|</span><a href="#39797871">root</a><span>|</span><a href="#39797904">parent</a><span>|</span><a href="#39797903">next</a><span>|</span><label class="collapse" for="c-39798089">[-]</label><label class="expand" for="c-39798089">[2 more]</label></div><br/><div class="children"><div class="content">I didn’t “get” SQL for the first 6-8 years of professional full-stack engineering. I was chasing, along with many in my cohort, the ORM abstraction dragon we thought we needed to work on j2ee, django, or sqlalchemy teams quickly.<p>It’s perplexing to me now why SQL was perplexing. Even knowing about relational theory and enough DBA to pass interviews, it somehow always seemed like we should have been able to treat databases like our OOP’s.<p>To think of the hours I wasted. Maybe I heard in a meeting “it’s the join table” and another colleague said “just use the association table,” and I was trying the n^2 debugging approach to solve it with model classes.<p>The best advice I got on this made sense later: “I wouldn’t even try to manage that [dataset] myself. Just figure out how to tell a database to do it—that’s its only job.”</div><br/><div id="39798141" class="c"><input type="checkbox" id="c-39798141" checked=""/><div class="controls bullet"><span class="by">bitwize</span><span>|</span><a href="#39797871">root</a><span>|</span><a href="#39798089">parent</a><span>|</span><a href="#39797903">next</a><span>|</span><label class="collapse" for="c-39798141">[-]</label><label class="expand" for="c-39798141">[1 more]</label></div><br/><div class="children"><div class="content">Understanding relational algebra helps you write better SQL the way understanding lambda calculus helps you write better JavaScript. The language is warty and but a shadow of the pristine purity underneath, but it gets the job done and the theory guides your reasoning on how to use the language.</div><br/></div></div></div></div></div></div><div id="39797903" class="c"><input type="checkbox" id="c-39797903" checked=""/><div class="controls bullet"><span class="by">solumunus</span><span>|</span><a href="#39797871">parent</a><span>|</span><a href="#39797904">prev</a><span>|</span><a href="#39798268">next</a><span>|</span><label class="collapse" for="c-39797903">[-]</label><label class="expand" for="c-39797903">[2 more]</label></div><br/><div class="children"><div class="content">I agree that SQL syntax is terrible, but for some potentially masochistic reason I still like writing it. It could certainly be done better though and I don’t understand how there hasn’t been more innovation in this space.</div><br/><div id="39798273" class="c"><input type="checkbox" id="c-39798273" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39797871">root</a><span>|</span><a href="#39797903">parent</a><span>|</span><a href="#39798268">next</a><span>|</span><label class="collapse" for="c-39798273">[-]</label><label class="expand" for="c-39798273">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s PRQL which is really nice. But it has pretty big downsides: it only supports querying data, not modifying it; and since it&#x27;s not database-specific it doesn&#x27;t support all the features of whatever database you&#x27;re using. E.g. it can&#x27;t access complex data types like structs&#x2F;arrays in DuckDB.</div><br/></div></div></div></div></div></div><div id="39798268" class="c"><input type="checkbox" id="c-39798268" checked=""/><div class="controls bullet"><span class="by">triska</span><span>|</span><a href="#39797871">prev</a><span>|</span><a href="#39797925">next</a><span>|</span><label class="collapse" for="c-39798268">[-]</label><label class="expand" for="c-39798268">[1 more]</label></div><br/><div class="children"><div class="content">Codd&#x27;s seminal paper, <i>A Relational Model of Data for Large Shared Data Banks</i>, states that a language based on applied <i>predicate calculus</i> &quot;would provide a yard-stick of linguistic power for all other proposed data languages&quot;. Quoting from <a href="https:&#x2F;&#x2F;www.seas.upenn.edu&#x2F;~zives&#x2F;03f&#x2F;cis550&#x2F;codd.pdf" rel="nofollow">https:&#x2F;&#x2F;www.seas.upenn.edu&#x2F;~zives&#x2F;03f&#x2F;cis550&#x2F;codd.pdf</a>:<p>&quot;<i>1.5 Same linguistic aspects<p>The adoption of a relational model of data, as described above,
permits the development of a universal data sub-language based on an
applied predicate calculus. A first-order predicate calculus suffices
if the collection of relations is in normal form. Such a language
would provide a yard-stick of linguistic power for all other proposed
data languages, and would itself be a strong candidate for embedding
(with appropriate syntactic modification) in a variety of host
Ianguages (programming, command- or problem-oriented).</i>&quot;<p>Languages based on predicate calculus indeed seem extremely suitable for reasoning about relational data. Datalog is a well-known example.</div><br/></div></div><div id="39797925" class="c"><input type="checkbox" id="c-39797925" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#39798268">prev</a><span>|</span><a href="#39797932">next</a><span>|</span><label class="collapse" for="c-39797925">[-]</label><label class="expand" for="c-39797925">[2 more]</label></div><br/><div class="children"><div class="content">Everything is just syntactic sugar for something else. I&#x27;m syntactic sugar for the hydrogen atoms in my body.</div><br/><div id="39798044" class="c"><input type="checkbox" id="c-39798044" checked=""/><div class="controls bullet"><span class="by">WWWWH</span><span>|</span><a href="#39797925">parent</a><span>|</span><a href="#39797932">next</a><span>|</span><label class="collapse" for="c-39798044">[-]</label><label class="expand" for="c-39798044">[1 more]</label></div><br/><div class="children"><div class="content">And on some cases sugar sugar not syntactic sugar.</div><br/></div></div></div></div><div id="39797932" class="c"><input type="checkbox" id="c-39797932" checked=""/><div class="controls bullet"><span class="by">halayli</span><span>|</span><a href="#39797925">prev</a><span>|</span><a href="#39798223">next</a><span>|</span><label class="collapse" for="c-39797932">[-]</label><label class="expand" for="c-39797932">[1 more]</label></div><br/><div class="children"><div class="content">Relational algebra IR is implemented in MonetDB and discussed in their paper. Definitely worth reading.<p>Not trying to be picky but pure relational algebra doesn&#x27;t map to SQL and IMO it&#x27;s not a good idea to attempt to do that due to the fact that relational algebra treats tuples as mathematical sets (ordering&#x2F;uniqueness matters) while SQL does not(and has to deal with nullability).</div><br/></div></div><div id="39798223" class="c"><input type="checkbox" id="c-39798223" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#39797932">prev</a><span>|</span><label class="collapse" for="c-39798223">[-]</label><label class="expand" for="c-39798223">[1 more]</label></div><br/><div class="children"><div class="content">SQL is pretty good all things considered.<p>But I&#x27;ve always looked out for languages that can represent relational algebra concepts more directly. Maybe CozoaDB is close, though still immature. Any recommendations?</div><br/></div></div></div></div></div></div></div></body></html>