<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699261260895" as="style"/><link rel="stylesheet" href="styles.css?v=1699261260895"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/fuzzballcat/milliForth">milliForth</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>binarycrusader</span> | <span>21 comments</span></div><br/><div><div id="38159866" class="c"><input type="checkbox" id="c-38159866" checked=""/><div class="controls bullet"><span class="by">tromp</span><span>|</span><a href="#38158853">next</a><span>|</span><label class="collapse" for="c-38159866">[-]</label><label class="expand" for="c-38159866">[6 more]</label></div><br/><div class="children"><div class="content">&gt; However, milliFORTH appears to be the smallest programming language implementation ever, beating out sectorLISP2, a mind-blowing 436 byte implementation of LISP, by 14 bytes.<p>The sectorlambda implementation of Binary Lambda Calculus is shorter yet at 383 bytes [1].<p>And the BLC self-interpreter is only 29 bytes [2].<p>&gt; A FORTH in 422 bytes — the smallest real programming language ever, as of yet.<p>That may still be true, as BLC is an esoteric programming language.<p>[1] <a href="https:&#x2F;&#x2F;justine.lol&#x2F;lambda&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;justine.lol&#x2F;lambda&#x2F;</a><p>[2] <a href="https:&#x2F;&#x2F;ioccc.org&#x2F;2012&#x2F;tromp&#x2F;hint.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;ioccc.org&#x2F;2012&#x2F;tromp&#x2F;hint.html</a></div><br/><div id="38159993" class="c"><input type="checkbox" id="c-38159993" checked=""/><div class="controls bullet"><span class="by">eichin</span><span>|</span><a href="#38159866">parent</a><span>|</span><a href="#38159947">next</a><span>|</span><label class="collapse" for="c-38159993">[-]</label><label class="expand" for="c-38159993">[1 more]</label></div><br/><div class="children"><div class="content">Hmm, I&#x27;d be a little surprised if this was smaller than some of the 8-bit era forths (the TIL book had a 50ish-byte &quot;inner interpreter&quot; for Z80 but that didn&#x27;t include any of the baseline &quot;words&quot; that this does.)  I&#x27;m sure it wins for 32-bit systems though.</div><br/></div></div><div id="38159947" class="c"><input type="checkbox" id="c-38159947" checked=""/><div class="controls bullet"><span class="by">n_plus_1_acc</span><span>|</span><a href="#38159866">parent</a><span>|</span><a href="#38159993">prev</a><span>|</span><a href="#38158853">next</a><span>|</span><label class="collapse" for="c-38159947">[-]</label><label class="expand" for="c-38159947">[4 more]</label></div><br/><div class="children"><div class="content">Python, 13 bytes: `eval(input())`</div><br/><div id="38159969" class="c"><input type="checkbox" id="c-38159969" checked=""/><div class="controls bullet"><span class="by">ikari_pl</span><span>|</span><a href="#38159866">root</a><span>|</span><a href="#38159947">parent</a><span>|</span><a href="#38158853">next</a><span>|</span><label class="collapse" for="c-38159969">[-]</label><label class="expand" for="c-38159969">[3 more]</label></div><br/><div class="children"><div class="content">um, sir... please show us the implementation of eval.</div><br/><div id="38160211" class="c"><input type="checkbox" id="c-38160211" checked=""/><div class="controls bullet"><span class="by">Y_Y</span><span>|</span><a href="#38159866">root</a><span>|</span><a href="#38159969">parent</a><span>|</span><a href="#38160203">next</a><span>|</span><label class="collapse" for="c-38160211">[-]</label><label class="expand" for="c-38160211">[1 more]</label></div><br/><div class="children"><div class="content">Easy, just make a CPU where &quot;eval&quot; is an instruction</div><br/></div></div><div id="38160203" class="c"><input type="checkbox" id="c-38160203" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#38159866">root</a><span>|</span><a href="#38159969">parent</a><span>|</span><a href="#38160211">prev</a><span>|</span><a href="#38158853">next</a><span>|</span><label class="collapse" for="c-38160203">[-]</label><label class="expand" for="c-38160203">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s evals all the way down.</div><br/></div></div></div></div></div></div></div></div><div id="38158853" class="c"><input type="checkbox" id="c-38158853" checked=""/><div class="controls bullet"><span class="by">anotherhue</span><span>|</span><a href="#38159866">prev</a><span>|</span><a href="#38160045">next</a><span>|</span><label class="collapse" for="c-38158853">[-]</label><label class="expand" for="c-38158853">[2 more]</label></div><br/><div class="children"><div class="content">I love projects like these, reminds me of the magic within the machine, as opposed to the normal cacophony of the world that comes via the machine.</div><br/><div id="38160176" class="c"><input type="checkbox" id="c-38160176" checked=""/><div class="controls bullet"><span class="by">digitalsankhara</span><span>|</span><a href="#38158853">parent</a><span>|</span><a href="#38160045">next</a><span>|</span><label class="collapse" for="c-38160176">[-]</label><label class="expand" for="c-38160176">[1 more]</label></div><br/><div class="children"><div class="content">I do like this reasoning. Magic within the machine for me was programming forth as part of my post grad (controlling and processing proton precession magnetometers) and the device was a Triangle Digital Services (now defunct as a viable company I think) TDS2020 forth SBC.<p>Almost a zen like experience - you, the machine and your focus. No world.</div><br/></div></div></div></div><div id="38160045" class="c"><input type="checkbox" id="c-38160045" checked=""/><div class="controls bullet"><span class="by">mikewarot</span><span>|</span><a href="#38158853">prev</a><span>|</span><a href="#38159802">next</a><span>|</span><label class="collapse" for="c-38160045">[-]</label><label class="expand" for="c-38160045">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always wondered how to boot a virtual machine from a single sector with no other OS... now I know, which is cool.</div><br/></div></div><div id="38159802" class="c"><input type="checkbox" id="c-38159802" checked=""/><div class="controls bullet"><span class="by">lynx23</span><span>|</span><a href="#38160045">prev</a><span>|</span><a href="#38159036">next</a><span>|</span><label class="collapse" for="c-38159802">[-]</label><label class="expand" for="c-38159802">[1 more]</label></div><br/><div class="children"><div class="content">Porting JonesFORTH to x86-64 was one of the most rewarding fun-project experiences lately.  Forth is fun to play with.</div><br/></div></div><div id="38159036" class="c"><input type="checkbox" id="c-38159036" checked=""/><div class="controls bullet"><span class="by">LordShredda</span><span>|</span><a href="#38159802">prev</a><span>|</span><label class="collapse" for="c-38159036">[-]</label><label class="expand" for="c-38159036">[10 more]</label></div><br/><div class="children"><div class="content">Does the benefit of it being embeddable on a QR code outweigh the lack of quality of life features like subtraction? Nevertheless, truly an impressive feat that shows how simple computers can be without all these modern API layers.</div><br/><div id="38159181" class="c"><input type="checkbox" id="c-38159181" checked=""/><div class="controls bullet"><span class="by">gavinhoward</span><span>|</span><a href="#38159036">parent</a><span>|</span><a href="#38159977">next</a><span>|</span><label class="collapse" for="c-38159181">[-]</label><label class="expand" for="c-38159181">[8 more]</label></div><br/><div class="children"><div class="content">For one specific purpose, the benefit could be worth it: bootstrapping.<p>Guix bootstraps from a tiny audited binary, and milliForth could be used for the same purpose.<p>Imagine bootstrapping a full Linux distro from a milliForth binary and source code for <i>everything</i>. Everything would be fully auditable, no Trusting Trust problem, and a full Software Bill of Materials.</div><br/><div id="38159700" class="c"><input type="checkbox" id="c-38159700" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159181">parent</a><span>|</span><a href="#38159611">next</a><span>|</span><label class="collapse" for="c-38159700">[-]</label><label class="expand" for="c-38159700">[1 more]</label></div><br/><div class="children"><div class="content">But that doesn&#x27;t directly relate to the verifiability of milliForth itself. An extremely shortened code can be harder to verify, for example it may work as intended unless a very specific input is used to break out of its sandbox (so to say). Bootstrapping needs a short and readable <i>enough</i> seed for that reason, and I can&#x27;t be entirely sure that it is indeed the case for milliForth.</div><br/></div></div><div id="38159611" class="c"><input type="checkbox" id="c-38159611" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159181">parent</a><span>|</span><a href="#38159700">prev</a><span>|</span><a href="#38159977">next</a><span>|</span><label class="collapse" for="c-38159611">[-]</label><label class="expand" for="c-38159611">[6 more]</label></div><br/><div class="children"><div class="content">I always thought of FORTH as the #1 hardest to think of uses for, out of all the non-esoteric and non-obsolete languages.  That&#x27;s a really neat application!</div><br/><div id="38159652" class="c"><input type="checkbox" id="c-38159652" checked=""/><div class="controls bullet"><span class="by">defrost</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159611">parent</a><span>|</span><a href="#38159951">next</a><span>|</span><label class="collapse" for="c-38159652">[-]</label><label class="expand" for="c-38159652">[2 more]</label></div><br/><div class="children"><div class="content">Booting from a firmware Forth loader was how the early Sun SunOS (BSD) workstations did their thing - you could hotkey to stop the default OS load and boot from an image on an alternative drive, across a network, or modify the Forth loader to &lt;imagination&gt;</div><br/><div id="38159701" class="c"><input type="checkbox" id="c-38159701" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159652">parent</a><span>|</span><a href="#38159951">next</a><span>|</span><label class="collapse" for="c-38159701">[-]</label><label class="expand" for="c-38159701">[1 more]</label></div><br/><div class="children"><div class="content">That forth system is also where Device Trees originated. Parts of the Linux kernel driver interface show that heritage in the naming conventions, OF_* == OpenFirmware.</div><br/></div></div></div></div><div id="38159951" class="c"><input type="checkbox" id="c-38159951" checked=""/><div class="controls bullet"><span class="by">adastra22</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159611">parent</a><span>|</span><a href="#38159652">prev</a><span>|</span><a href="#38159784">next</a><span>|</span><label class="collapse" for="c-38159951">[-]</label><label class="expand" for="c-38159951">[2 more]</label></div><br/><div class="children"><div class="content">Bitcoin&#x27;s smart contracting language is a Forth variant, and arguably this was a very astute and smart choice by Satoshi.<p>When designing a multi-party contract, the essential problem is that two people specify the terms they each want to apply to any case in which the funds must be spent, then these two sets of requirements must be merged into a single program. This is, in general, difficult to do securely. We can establish conventions that are relatively easy to follow, but it would be a lot nice and more powerful if we could syntactically enforce that both sets of requirements are enforced in the combined project.<p>Concatenative languages like Forth meet this requirement nicely. If you represent the spend requirements as a program, then combining the two programs together in such a way that they both are equally enforce is as simple as literally concatenating the two programs together.<p>For example, suppose Alice&#x27;s requirement is that Alice signs the transaction with her key, and Bob&#x27;s requirement is that Bob signs with his key, and the spending transaction is after some specified time T. Expressed in bitcoin script:<p>Alice: &lt;AlicePubkey&gt; CHECKSIGVERIFY<p>Bob: &lt;T&gt; CHECKLOCKTIMEVERIFY DROP &lt;BobPubkey&gt; CHECKSIGVERIFY<p>The combined script that meets both these sets of requirements is as simple as putting Alice&#x27;s script, then Bob&#x27;s, unaltered:<p>Alice&amp;Bob: &lt;AlicePubkey&gt; CHECKSIGVERIFY &lt;T&gt; CHECKLOCKTIMEVERIFY DROP &lt;BobPubkey&gt; CHECKSIGVERIFY 1<p>(The `1` at the end is a quirk of bitcoin that it has to finish with a non-zero value on the stack. This combined script could also be simplified in a couple of ways. Also there&#x27;s a couple of ways in which this can fail in practice. Alice&#x27;s script could contain OP_RETURN, for example, which causes the entire script to become unspendable. Or a mismatched IF&#x2F;ELSE. A better designed and strongly typed Forth dialect would fix these issues.)<p>Bitcoin&#x27;s Forth is not type checked, but suppose that it were. And furthermore, suppose that it had a powerful dependently typed system that captured various key signing and stack requirements at the type level. It could be used to track not just what a program does, but also the properties of a program. Alice could put a constraint in her program that says &quot;lock time can be no later than April 2024,&quot; and this becomes part of both the input and output type requirements of her program. Then when Bob&#x27;s program is specified with T=15 May 2024, then his program no longer type checks when concatenated to the end of Alice&#x27;s.<p>No one has yet written a system like this, but it would be really powerful if it did exist. Alice writes here smart contract conditions all by lonesome self, and Bob writes his. Then they literally concatenate one program to the other, and if it type checks then Alice and Bob can be certain that both sets of conditions are satisfied.</div><br/><div id="38160140" class="c"><input type="checkbox" id="c-38160140" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159951">parent</a><span>|</span><a href="#38159784">next</a><span>|</span><label class="collapse" for="c-38160140">[-]</label><label class="expand" for="c-38160140">[1 more]</label></div><br/><div class="children"><div class="content">Forth doesn&#x27;t seem to do much to stop you from making mistakes, 
 unless Bitcoin has added extra stuff.<p>I don&#x27;t use or study anything crypto related, so I&#x27;m just guessing, but wouldn&#x27;t something like Prolog work for describing contracts?</div><br/></div></div></div></div><div id="38159784" class="c"><input type="checkbox" id="c-38159784" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#38159036">root</a><span>|</span><a href="#38159611">parent</a><span>|</span><a href="#38159951">prev</a><span>|</span><a href="#38159977">next</a><span>|</span><label class="collapse" for="c-38159784">[-]</label><label class="expand" for="c-38159784">[1 more]</label></div><br/><div class="children"><div class="content">Beside bootstrapping, Forth works well on tiny MCUs.</div><br/></div></div></div></div></div></div><div id="38159977" class="c"><input type="checkbox" id="c-38159977" checked=""/><div class="controls bullet"><span class="by">Avshalom</span><span>|</span><a href="#38159036">parent</a><span>|</span><a href="#38159181">prev</a><span>|</span><label class="collapse" for="c-38159977">[-]</label><label class="expand" for="c-38159977">[1 more]</label></div><br/><div class="children"><div class="content">subtraction is trivial to add in userspace once you&#x27;ve loaded it though<p><pre><code>  : - sp@ @ nand 1 + + ;
</code></pre>
or as it appears in the hello_world.FORTH file<p><pre><code>  : dup sp@ @ ;
  : invert dup nand ;
  : negate invert 1 + ;
  : - negate + ;
</code></pre>
There is of course no benefit to this thing at all other than reclaiming the crown from those deviant lispers... well I suppose if you&#x27;re making a your own computer from scratch like <a href="https:&#x2F;&#x2F;www.homebrewcpuring.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.homebrewcpuring.org&#x2F;</a> it might be a useful starting point.</div><br/></div></div></div></div></div></div></div></div></div></body></html>