<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695718873190" as="style"/><link rel="stylesheet" href="styles.css?v=1695718873190"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://major.io/p/quadlets-replace-docker-compose/">Quadlets might make me finally stop using Docker-compose – Major Hayden</a> <span class="domain">(<a href="https://major.io">major.io</a>)</span></div><div class="subtext"><span>mhutter</span> | <span>61 comments</span></div><br/><div><div id="37655670" class="c"><input type="checkbox" id="c-37655670" checked=""/><div class="controls bullet"><span class="by">asabil</span><span>|</span><a href="#37655676">next</a><span>|</span><label class="collapse" for="c-37655670">[-]</label><label class="expand" for="c-37655670">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s quite unfortunate that this article mixes up what&#x27;s necessary for podman quadlets with coreOS concepts.<p>With quadlets, the only thing required is to drop a `.container` file in the right place and you end up with a container properly supervised by `systemd`. And this of course also supports per-user rootless containers as described in [1].<p>[1]: <a href="https:&#x2F;&#x2F;www.redhat.com&#x2F;sysadmin&#x2F;quadlet-podman" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.redhat.com&#x2F;sysadmin&#x2F;quadlet-podman</a></div><br/><div id="37655728" class="c"><input type="checkbox" id="c-37655728" checked=""/><div class="controls bullet"><span class="by">nisa</span><span>|</span><a href="#37655670">parent</a><span>|</span><a href="#37656245">prev</a><span>|</span><a href="#37655676">next</a><span>|</span><label class="collapse" for="c-37655728">[-]</label><label class="expand" for="c-37655728">[3 more]</label></div><br/><div class="children"><div class="content">&gt; With quadlets, the only thing required is to drop a `.container` file in the right place and you end up with a container properly supervised by `systemd`.<p>Is it? He defines a .network file in that butane config without it won&#x27;t work. Not really obvious. I&#x27;m sure this has a use-case and it&#x27;s nice to have but personally I&#x27;m not convinced. You can switch on user-namespaces in docker-daemon or even run docker itself rootless - I guess if you are in Redhat land and use podman anyway it&#x27;s an alternative but for instance where is this thing logging into? journalctl --user? Can I use a logshipper like loki with this? Is there something like docker compose config that shows the fully rendered configuration? I personally don&#x27;t see the point and it feels like overly complicated.</div><br/><div id="37655787" class="c"><input type="checkbox" id="c-37655787" checked=""/><div class="controls bullet"><span class="by">twic</span><span>|</span><a href="#37655670">root</a><span>|</span><a href="#37655728">parent</a><span>|</span><a href="#37656079">next</a><span>|</span><label class="collapse" for="c-37655787">[-]</label><label class="expand" for="c-37655787">[1 more]</label></div><br/><div class="children"><div class="content">It will log to wherever you configure. By default, the journal. And [0]:<p>&gt; Currently, Promtail can tail logs from two sources: local log files and the systemd journal (on AMD64 machines only).<p>Whether it supports user services, I don&#x27;t know.<p>[0] <a href="https:&#x2F;&#x2F;grafana.com&#x2F;docs&#x2F;loki&#x2F;latest&#x2F;send-data&#x2F;promtail&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;grafana.com&#x2F;docs&#x2F;loki&#x2F;latest&#x2F;send-data&#x2F;promtail&#x2F;</a></div><br/></div></div><div id="37656079" class="c"><input type="checkbox" id="c-37656079" checked=""/><div class="controls bullet"><span class="by">INTPenis</span><span>|</span><a href="#37655670">root</a><span>|</span><a href="#37655728">parent</a><span>|</span><a href="#37655787">prev</a><span>|</span><a href="#37655676">next</a><span>|</span><label class="collapse" for="c-37656079">[-]</label><label class="expand" for="c-37656079">[1 more]</label></div><br/><div class="children"><div class="content">.network is only required if you need a network, just like you define networks in docker compose for some containers to have one shared private network.</div><br/></div></div></div></div></div></div><div id="37655676" class="c"><input type="checkbox" id="c-37655676" checked=""/><div class="controls bullet"><span class="by">TekMol</span><span>|</span><a href="#37655670">prev</a><span>|</span><a href="#37656103">next</a><span>|</span><label class="collapse" for="c-37655676">[-]</label><label class="expand" for="c-37655676">[7 more]</label></div><br/><div class="children"><div class="content">To me, this big problem with Docker is that it does a ton of changes to my system, even when I don&#x27;t use it.<p>It runs a daemon, it uses a bunch of IPs, it mounts a ton of stuff ...<p>Is there a reason for all that noise and complexity?<p>There <i>can&#x27;t</i> be a reason until I run a container, right? And even then, it seems way too much.<p>Is it different when using Quadlets?</div><br/><div id="37655809" class="c"><input type="checkbox" id="c-37655809" checked=""/><div class="controls bullet"><span class="by">jeppester</span><span>|</span><a href="#37655676">parent</a><span>|</span><a href="#37655862">next</a><span>|</span><label class="collapse" for="c-37655809">[-]</label><label class="expand" for="c-37655809">[1 more]</label></div><br/><div class="children"><div class="content">One of podman&#x27;s selling points is that it doesn&#x27;t need a daemon, and it runs without root privileges.<p>I&#x27;m not familiar enough with the lower level details to know how it works, but it certainly feels less like you are making &quot;a ton of changes to the system&quot; compared to docker</div><br/></div></div><div id="37655862" class="c"><input type="checkbox" id="c-37655862" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#37655676">parent</a><span>|</span><a href="#37655809">prev</a><span>|</span><a href="#37656154">next</a><span>|</span><label class="collapse" for="c-37655862">[-]</label><label class="expand" for="c-37655862">[3 more]</label></div><br/><div class="children"><div class="content">What worse is , it screws up the firewall rules.
Podman avoid that so , quadlets should be fine?
Podman supposed to be drop-in replacement for docker but - last try (4 months ago) of podman to run our development docker containers fails to build so i think Podman is still far away from docker replacement.</div><br/><div id="37656140" class="c"><input type="checkbox" id="c-37656140" checked=""/><div class="controls bullet"><span class="by">Grimburger</span><span>|</span><a href="#37655676">root</a><span>|</span><a href="#37655862">parent</a><span>|</span><a href="#37656073">next</a><span>|</span><label class="collapse" for="c-37656140">[-]</label><label class="expand" for="c-37656140">[1 more]</label></div><br/><div class="children"><div class="content">Docker&#x27;s firewall modifications are incredibly obnoxious and at the top of the list of gripes for me.</div><br/></div></div><div id="37656073" class="c"><input type="checkbox" id="c-37656073" checked=""/><div class="controls bullet"><span class="by">jve</span><span>|</span><a href="#37655676">root</a><span>|</span><a href="#37655862">parent</a><span>|</span><a href="#37656140">prev</a><span>|</span><a href="#37656154">next</a><span>|</span><label class="collapse" for="c-37656073">[-]</label><label class="expand" for="c-37656073">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I also tried ~months ago. To be fair, I&#x27;v only tested out dev containers with docker, so I&#x27;m too weak to debug things what went wrong.<p>Any article out there on how to have windows + wsl2 + podman + vscode devcontainers working?</div><br/></div></div></div></div><div id="37656154" class="c"><input type="checkbox" id="c-37656154" checked=""/><div class="controls bullet"><span class="by">sofixa</span><span>|</span><a href="#37655676">parent</a><span>|</span><a href="#37655862">prev</a><span>|</span><a href="#37655815">next</a><span>|</span><label class="collapse" for="c-37656154">[-]</label><label class="expand" for="c-37656154">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Is there a reason for all that noise and complexity?<p>To make it simple at the point of use. If developers had to configure firewalls and bind mounts for Docker to work, it never would have taken off as much as it did.</div><br/></div></div><div id="37655815" class="c"><input type="checkbox" id="c-37655815" checked=""/><div class="controls bullet"><span class="by">soupdiver</span><span>|</span><a href="#37655676">parent</a><span>|</span><a href="#37656154">prev</a><span>|</span><a href="#37656103">next</a><span>|</span><label class="collapse" for="c-37655815">[-]</label><label class="expand" for="c-37655815">[1 more]</label></div><br/><div class="children"><div class="content">This is about Podman, not Docker</div><br/></div></div></div></div><div id="37656103" class="c"><input type="checkbox" id="c-37656103" checked=""/><div class="controls bullet"><span class="by">INTPenis</span><span>|</span><a href="#37655676">prev</a><span>|</span><a href="#37655852">next</a><span>|</span><label class="collapse" for="c-37656103">[-]</label><label class="expand" for="c-37656103">[1 more]</label></div><br/><div class="children"><div class="content">I started using quadlets for new system designs a month ago and I feel like I&#x27;m neck deep in it now.<p>My conclusion is that there is absolutely no reason to stop using docker-compose if your developers are comfortable running one command, on one file, in one git root.<p>Quadlets are basically docker compose, in systemd. They&#x27;ve finally done it, systemd has it all and now it even has docker compose. ;)<p>That&#x27;s really all it is in practice. I&#x27;m going to continue using it because I&#x27;m a RHEL kinda guy, but don&#x27;t make it up to be magic.</div><br/></div></div><div id="37655852" class="c"><input type="checkbox" id="c-37655852" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#37656103">prev</a><span>|</span><a href="#37655310">next</a><span>|</span><label class="collapse" for="c-37655852">[-]</label><label class="expand" for="c-37655852">[1 more]</label></div><br/><div class="children"><div class="content">&gt; My container deployments are often done at instance boot time and I don’t make too many changes afterwards. I found myself using docker-compose for the initial deployment and then I didn’t really use it again.<p>I used a very similar approach in the (now EOL&#x27;ed, gonna be replaced by full K8s) infra at $DAYJOB. My main reason to stick with docker-compose is because developers are familiar with it and can then easily patch&#x2F;modify the thing themselves. Replacing with something systemd will add a dependency over the people that know systemd (which are not usually application developers in your average HTTP API shop)</div><br/></div></div><div id="37655310" class="c"><input type="checkbox" id="c-37655310" checked=""/><div class="controls bullet"><span class="by">malmz</span><span>|</span><a href="#37655852">prev</a><span>|</span><a href="#37656309">next</a><span>|</span><label class="collapse" for="c-37655310">[-]</label><label class="expand" for="c-37655310">[1 more]</label></div><br/><div class="children"><div class="content">I have been having a blast using quadlets on my tiny home server. Feels like I&#x27;m learning how to use systemd which is a nice bonus. My workflow consists of just connecting vscode over ssh and editing files as needed, which works well since everything is owned by my user.</div><br/></div></div><div id="37656309" class="c"><input type="checkbox" id="c-37656309" checked=""/><div class="controls bullet"><span class="by">omneity</span><span>|</span><a href="#37655310">prev</a><span>|</span><a href="#37655182">next</a><span>|</span><label class="collapse" for="c-37656309">[-]</label><label class="expand" for="c-37656309">[1 more]</label></div><br/><div class="children"><div class="content">This is pretty cool and might replace my use of nomad on my home server.</div><br/></div></div><div id="37655182" class="c"><input type="checkbox" id="c-37655182" checked=""/><div class="controls bullet"><span class="by">Already__Taken</span><span>|</span><a href="#37656309">prev</a><span>|</span><a href="#37655427">next</a><span>|</span><label class="collapse" for="c-37655182">[-]</label><label class="expand" for="c-37655182">[1 more]</label></div><br/><div class="children"><div class="content">nice to see more podman&#x2F;systemd ties but --user I find even harder to let tabs on what containers are running, especially as you check on other users, remembering the socket mount is quite unpleasant. I&#x27;m really a fan of tilt and just using k8s yaml I&#x27;ll probably need to deploy anyway. but I don&#x27;t see why you couldn&#x27;t make that reconciliation loop drive podman instead. but then docker bought tilt so...</div><br/></div></div><div id="37655427" class="c"><input type="checkbox" id="c-37655427" checked=""/><div class="controls bullet"><span class="by">frej</span><span>|</span><a href="#37655182">prev</a><span>|</span><a href="#37655566">next</a><span>|</span><label class="collapse" for="c-37655427">[-]</label><label class="expand" for="c-37655427">[10 more]</label></div><br/><div class="children"><div class="content">Nitpick you wonder why yaml is preferred to ini files when it is lined up to each other.</div><br/><div id="37655503" class="c"><input type="checkbox" id="c-37655503" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#37655427">parent</a><span>|</span><a href="#37655566">next</a><span>|</span><label class="collapse" for="c-37655503">[-]</label><label class="expand" for="c-37655503">[9 more]</label></div><br/><div class="children"><div class="content">INI files are not specified anywhere, so it ends up being a implementation-defined free-for-all.<p>Also, YAML supports data structures that INI files don&#x27;t.<p>I don&#x27;t understand the hate that YAML gets. If you&#x27;re not tasked with writing a parser, the data format just works as expected.</div><br/><div id="37656172" class="c"><input type="checkbox" id="c-37656172" checked=""/><div class="controls bullet"><span class="by">sofixa</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655503">parent</a><span>|</span><a href="#37655879">next</a><span>|</span><label class="collapse" for="c-37656172">[-]</label><label class="expand" for="c-37656172">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I don&#x27;t understand the hate that YAML gets<p><a href="https:&#x2F;&#x2F;noyaml.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;noyaml.com&#x2F;</a> is a decent overview of exactly how shit it is.<p>But outside of that, using spaces for logic is extremely error prone if you go past 10-15 lines and 2-3 levels deep.</div><br/><div id="37656392" class="c"><input type="checkbox" id="c-37656392" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37656172">parent</a><span>|</span><a href="#37655879">next</a><span>|</span><label class="collapse" for="c-37656392">[-]</label><label class="expand" for="c-37656392">[1 more]</label></div><br/><div class="children"><div class="content">This has literally never been a problem for me despite writing considerable amounts of YAML.<p>Frankly, this is a phantom benefit: the first thing people do in brackety-languages is define an indent standard. And it&#x27;s not like a brackety language magically saves you from mis-nesting things if a bracket ends up misplaced.</div><br/></div></div></div></div><div id="37655879" class="c"><input type="checkbox" id="c-37655879" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655503">parent</a><span>|</span><a href="#37656172">prev</a><span>|</span><a href="#37655768">next</a><span>|</span><label class="collapse" for="c-37655879">[-]</label><label class="expand" for="c-37655879">[1 more]</label></div><br/><div class="children"><div class="content">What about?<p><pre><code>    NI: Nicaragua
    NL: Netherlands
    NO: Norway
</code></pre>
or<p><pre><code>    python: 3.2.3
    numpy: 2.1
</code></pre>
or<p><pre><code>    octal: 042
</code></pre>
Tell me those are well defined or not confusing.</div><br/></div></div><div id="37655768" class="c"><input type="checkbox" id="c-37655768" checked=""/><div class="controls bullet"><span class="by">rglullis</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655503">parent</a><span>|</span><a href="#37655879">prev</a><span>|</span><a href="#37655521">next</a><span>|</span><label class="collapse" for="c-37655768">[-]</label><label class="expand" for="c-37655768">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know if it&#x27;s yaml or jinja, but variations of <a href="https:&#x2F;&#x2F;mastodon.communick.com&#x2F;@raphael&#x2F;111059057995356737" rel="nofollow noreferrer">https:&#x2F;&#x2F;mastodon.communick.com&#x2F;@raphael&#x2F;111059057995356737</a> keeps me wishing that we dropped all these formats and just adopted some type of lisp that could be embedded in all languages.</div><br/></div></div><div id="37655521" class="c"><input type="checkbox" id="c-37655521" checked=""/><div class="controls bullet"><span class="by">MoreQARespect</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655503">parent</a><span>|</span><a href="#37655768">prev</a><span>|</span><a href="#37655566">next</a><span>|</span><label class="collapse" for="c-37655521">[-]</label><label class="expand" for="c-37655521">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not type safe.</div><br/><div id="37655548" class="c"><input type="checkbox" id="c-37655548" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655521">parent</a><span>|</span><a href="#37655566">next</a><span>|</span><label class="collapse" for="c-37655548">[-]</label><label class="expand" for="c-37655548">[3 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s not type safe.<p>I fail to see what leads you to believe this is a relevant point when discussing INI files as the alternative to YAML.</div><br/><div id="37655820" class="c"><input type="checkbox" id="c-37655820" checked=""/><div class="controls bullet"><span class="by">awestroke</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655548">parent</a><span>|</span><a href="#37655566">next</a><span>|</span><label class="collapse" for="c-37655820">[-]</label><label class="expand" for="c-37655820">[2 more]</label></div><br/><div class="children"><div class="content">Yaml coerces values (the string &quot;on&quot; is coerced to bool true for example), with ini you do any conversion from strings yourself</div><br/><div id="37656004" class="c"><input type="checkbox" id="c-37656004" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#37655427">root</a><span>|</span><a href="#37655820">parent</a><span>|</span><a href="#37655566">next</a><span>|</span><label class="collapse" for="c-37656004">[-]</label><label class="expand" for="c-37656004">[1 more]</label></div><br/><div class="children"><div class="content">&gt; with ini you do any conversion from strings yourself<p>INI isn&#x27;t specified, thus you cannot claim that the INI format does something a certain way.<p>The best shot at a specified INI file format might be TOML, and even that format is subjected to the same type of criticism.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37655566" class="c"><input type="checkbox" id="c-37655566" checked=""/><div class="controls bullet"><span class="by">ThinkBeat</span><span>|</span><a href="#37655427">prev</a><span>|</span><a href="#37655296">next</a><span>|</span><label class="collapse" for="c-37655566">[-]</label><label class="expand" for="c-37655566">[7 more]</label></div><br/><div class="children"><div class="content">Why the name quadlets?<p>Classical definition:
&gt; A word consisting of four bytes<p>Quad implies 4 something or rather. 
What does it refer to here?
4 sections of configuration?</div><br/><div id="37655741" class="c"><input type="checkbox" id="c-37655741" checked=""/><div class="controls bullet"><span class="by">goku12</span><span>|</span><a href="#37655566">parent</a><span>|</span><a href="#37655699">next</a><span>|</span><label class="collapse" for="c-37655741">[-]</label><label class="expand" for="c-37655741">[1 more]</label></div><br/><div class="children"><div class="content">An article [1] from Redhat has this excerpt:<p>&gt; The original Quadlet repository describes Quadlet this way:<p>&gt;&gt; What do you get if you squash a Kubernetes kubelet? A quadlet<p>[1] <a href="https:&#x2F;&#x2F;www.redhat.com&#x2F;sysadmin&#x2F;quadlet-podman" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.redhat.com&#x2F;sysadmin&#x2F;quadlet-podman</a></div><br/></div></div><div id="37655699" class="c"><input type="checkbox" id="c-37655699" checked=""/><div class="controls bullet"><span class="by">twic</span><span>|</span><a href="#37655566">parent</a><span>|</span><a href="#37655741">prev</a><span>|</span><a href="#37655651">next</a><span>|</span><label class="collapse" for="c-37655699">[-]</label><label class="expand" for="c-37655699">[4 more]</label></div><br/><div class="children"><div class="content">&gt; The original Quadlet repository describes Quadlet this way:<p>&gt; What do you get if you squash a Kubernetes kubelet?<p>&gt; A quadlet<p>So it&#x27;s based on reinterpreting the root &quot;kuber-&quot; which ultimately means something&quot;to do with &quot;turn&quot;, as &quot;cube&quot;, and then metaphorically reducing a cube to a square.</div><br/><div id="37655778" class="c"><input type="checkbox" id="c-37655778" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37655566">root</a><span>|</span><a href="#37655699">parent</a><span>|</span><a href="#37655651">next</a><span>|</span><label class="collapse" for="c-37655778">[-]</label><label class="expand" for="c-37655778">[3 more]</label></div><br/><div class="children"><div class="content">I thought it was half a  K8s.</div><br/><div id="37655826" class="c"><input type="checkbox" id="c-37655826" checked=""/><div class="controls bullet"><span class="by">goku12</span><span>|</span><a href="#37655566">root</a><span>|</span><a href="#37655778">parent</a><span>|</span><a href="#37655651">next</a><span>|</span><label class="collapse" for="c-37655826">[-]</label><label class="expand" for="c-37655826">[2 more]</label></div><br/><div class="children"><div class="content">They squashed kubelet, not K8s. By that, they probably mean that they got rid of the kubelet and delegated its functionality to systemd (which is already there besides the kubelet if the node uses systemd based distro). Note that quadlet is also capable of creating services based on K8s manifest.</div><br/><div id="37655849" class="c"><input type="checkbox" id="c-37655849" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37655566">root</a><span>|</span><a href="#37655826">parent</a><span>|</span><a href="#37655651">next</a><span>|</span><label class="collapse" for="c-37655849">[-]</label><label class="expand" for="c-37655849">[1 more]</label></div><br/><div class="children"><div class="content">Your explanation makes sense. Thanks.</div><br/></div></div></div></div></div></div></div></div><div id="37655651" class="c"><input type="checkbox" id="c-37655651" checked=""/><div class="controls bullet"><span class="by">timenova</span><span>|</span><a href="#37655566">parent</a><span>|</span><a href="#37655699">prev</a><span>|</span><a href="#37655296">next</a><span>|</span><label class="collapse" for="c-37655651">[-]</label><label class="expand" for="c-37655651">[1 more]</label></div><br/><div class="children"><div class="content">Maybe they mean Quadrant.</div><br/></div></div></div></div><div id="37655296" class="c"><input type="checkbox" id="c-37655296" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#37655566">prev</a><span>|</span><a href="#37655274">next</a><span>|</span><label class="collapse" for="c-37655296">[-]</label><label class="expand" for="c-37655296">[2 more]</label></div><br/><div class="children"><div class="content">Overall this looks really good but it also obfuscates whether how &amp; where this really integrates with systemd.<p>Maybe everything is this easy &amp; good. Maybe this is an &#x2F;etc&#x2F;systems&#x2F;system&#x2F;WordPress.quadlet file, part &amp; parcel to everything else in the systemd-verse. But it doesn&#x27;t say clearly whether it is or isn&#x27;t. It&#x27;s an acontextual example.<p>I think it&#x27;s powerful tech either way, but so much of the explanation is missing here. It focuses on the strengths, on what is consistent, but isn&#x27;t discussing the overall picture of how things slot together.<p>In many ways I think this is the most interesting frontier for systemd. It&#x27;s supposedly not a monolith, supposedly modular,  it so far that has largely meant that components are modular, optional. You don&#x27;t need to run the pretty fine systemd-resolvd, for example. But what k8s has done is make handling resources modular, and that feels like the broad idea here. But it seems dubious that systemd really has that extensibility builtin; it seems likely that podman quadlet is a secondary entirely unrelated controller, ape-ing what systemd does without integrating at all. It seems likely that&#x27;s not a podman-quadlet fault: it&#x27;s likely a broad systemd inflexibility.<p>Could be wrong here. But the article seems to offer no support that there is any integration, no support that this systemd-alike integrates or extends at all. Quadlet seem to be a parallel and similar-looking tech, with deep parallel, but those parallels from what I read here are handcrafted. Jt&#x27;s not quadlet that fails here to be great,  ut systemd not offering actual deep integration options.</div><br/><div id="37655623" class="c"><input type="checkbox" id="c-37655623" checked=""/><div class="controls bullet"><span class="by">goku12</span><span>|</span><a href="#37655296">parent</a><span>|</span><a href="#37655274">next</a><span>|</span><label class="collapse" for="c-37655623">[-]</label><label class="expand" for="c-37655623">[1 more]</label></div><br/><div class="children"><div class="content">Quadlet uses SystemD Generators [1] feature. Generators are a way to convert non-systemd-native configuration extensions (like containers, volumes and networks in case of quadlets) into regular systemd-native configuration like service unit-files. The quadlet generator converts the podman extension for systemd into regular service file that you can examine yourself. Non-root podman container services are in &#x2F;run&#x2F;user&#x2F;&lt;uid&gt;&#x2F;systemd&#x2F;generator. Here is a blog post that describes the design in detail (slightly dated): [2]<p>[1] <a href="https:&#x2F;&#x2F;www.freedesktop.org&#x2F;software&#x2F;systemd&#x2F;man&#x2F;systemd.generator.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.freedesktop.org&#x2F;software&#x2F;systemd&#x2F;man&#x2F;systemd.gen...</a><p>[2] <a href="https:&#x2F;&#x2F;blogs.gnome.org&#x2F;alexl&#x2F;2021&#x2F;10&#x2F;12&#x2F;quadlet-an-easier-way-to-run-system-containers&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;blogs.gnome.org&#x2F;alexl&#x2F;2021&#x2F;10&#x2F;12&#x2F;quadlet-an-easier-w...</a></div><br/></div></div></div></div><div id="37655274" class="c"><input type="checkbox" id="c-37655274" checked=""/><div class="controls bullet"><span class="by">xgbi</span><span>|</span><a href="#37655296">prev</a><span>|</span><a href="#37655429">next</a><span>|</span><label class="collapse" for="c-37655274">[-]</label><label class="expand" for="c-37655274">[14 more]</label></div><br/><div class="children"><div class="content">Say what you want about docker compose, but when I see the amount of scaffolding necessary for this, with so many catch words like butane or ignition, I’m happy with my  good ol’ docker composé file where everything is neatly organized. In one glance I can see what is deployed, depends on what and what net &#x2F; volume is used.<p>For simple projects, it’s hard to beat</div><br/><div id="37655382" class="c"><input type="checkbox" id="c-37655382" checked=""/><div class="controls bullet"><span class="by">hansihe</span><span>|</span><a href="#37655274">parent</a><span>|</span><a href="#37655583">next</a><span>|</span><label class="collapse" for="c-37655382">[-]</label><label class="expand" for="c-37655382">[5 more]</label></div><br/><div class="children"><div class="content">I was confused by this article in the beginning, it does a pretty bad job at drawing a distinction between the pure quadlet example at the start and the example of using CoreOS to build and launch a VM that starts containers.<p>The basic usage of podman quadlets is putting an `app.container` in `&#x2F;etc&#x2F;containers&#x2F;systemd&#x2F;` containing something like the first snippet and then starting the unit. For someone familiar with systemd, this seems very very nice to work with.</div><br/><div id="37655648" class="c"><input type="checkbox" id="c-37655648" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#37655274">root</a><span>|</span><a href="#37655382">parent</a><span>|</span><a href="#37655583">next</a><span>|</span><label class="collapse" for="c-37655648">[-]</label><label class="expand" for="c-37655648">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m still not clear whether quadlets are a feature of Podman or systemd...<p>The reliance on systemd is an issue on its own. Much has been said about its intrusion in all aspects of Linux, and I still prefer using distros without it. How can I use this on, say, Void Linux? Standalone Podman does work there, but I&#x27;m not familiar if there were some hacks needed to make it work with runit, and if more would be needed for this quadlet feature.</div><br/><div id="37655740" class="c"><input type="checkbox" id="c-37655740" checked=""/><div class="controls bullet"><span class="by">gigatexal</span><span>|</span><a href="#37655274">root</a><span>|</span><a href="#37655648">parent</a><span>|</span><a href="#37655583">next</a><span>|</span><label class="collapse" for="c-37655740">[-]</label><label class="expand" for="c-37655740">[3 more]</label></div><br/><div class="children"><div class="content">I mean the best part about open source and Linux is that you have choice. Do you want to run an OS devoid of SystemD? Fine. Will you be going against the tide and leaving a large part of the ecosystem behind? Yup.<p>I’ve chosen to embrace systemd and learn it as it is the defacto standard it seems rather than fight what I think is a futile war against it. That being said. I won’t force you to use it if you don’t. But I do not see quadlets using systemd as a failing.</div><br/><div id="37656081" class="c"><input type="checkbox" id="c-37656081" checked=""/><div class="controls bullet"><span class="by">hexo</span><span>|</span><a href="#37655274">root</a><span>|</span><a href="#37655740">parent</a><span>|</span><a href="#37655583">next</a><span>|</span><label class="collapse" for="c-37656081">[-]</label><label class="expand" for="c-37656081">[2 more]</label></div><br/><div class="children"><div class="content">systemd is extremely intrusive. anything dependent on it is a failure.</div><br/></div></div></div></div></div></div></div></div><div id="37655583" class="c"><input type="checkbox" id="c-37655583" checked=""/><div class="controls bullet"><span class="by">TheFragenTaken</span><span>|</span><a href="#37655274">parent</a><span>|</span><a href="#37655382">prev</a><span>|</span><a href="#37655358">next</a><span>|</span><label class="collapse" for="c-37655583">[-]</label><label class="expand" for="c-37655583">[1 more]</label></div><br/><div class="children"><div class="content">Yes! Can we talk about projects consistently deciding to invent new nomenclature for their entities or products. Is it an effort to lock you in to their system?<p>Just call things what they are.</div><br/></div></div><div id="37655358" class="c"><input type="checkbox" id="c-37655358" checked=""/><div class="controls bullet"><span class="by">overbytecode</span><span>|</span><a href="#37655274">parent</a><span>|</span><a href="#37655583">prev</a><span>|</span><a href="#37655475">next</a><span>|</span><label class="collapse" for="c-37655358">[-]</label><label class="expand" for="c-37655358">[1 more]</label></div><br/><div class="children"><div class="content">Butane&#x2F;ignition is the configuration to set up CoreOS (similar to configuration.nix in NixOS) it has nothing to do with Quadlets.</div><br/></div></div><div id="37655475" class="c"><input type="checkbox" id="c-37655475" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#37655274">parent</a><span>|</span><a href="#37655358">prev</a><span>|</span><a href="#37655325">next</a><span>|</span><label class="collapse" for="c-37655475">[-]</label><label class="expand" for="c-37655475">[1 more]</label></div><br/><div class="children"><div class="content">It is not entirely obvious - can I use quadlets in an ad-hoc fashion to spin up a project? The example makes it seem like it is exclusively for long running services.</div><br/></div></div><div id="37655448" class="c"><input type="checkbox" id="c-37655448" checked=""/><div class="controls bullet"><span class="by">worksonmine</span><span>|</span><a href="#37655274">parent</a><span>|</span><a href="#37655325">prev</a><span>|</span><a href="#37655495">next</a><span>|</span><label class="collapse" for="c-37655448">[-]</label><label class="expand" for="c-37655448">[3 more]</label></div><br/><div class="children"><div class="content">I also miss the simplicity of compose, but for me running rootless is worth the tradeoff. It also forced me to rethink how I used containers and I realized many times a simple podman_run.sh is enough. It also helped me understand containers better because there was less magic going on, sometimes limitations can be good.</div><br/><div id="37655522" class="c"><input type="checkbox" id="c-37655522" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#37655274">root</a><span>|</span><a href="#37655448">parent</a><span>|</span><a href="#37655495">next</a><span>|</span><label class="collapse" for="c-37655522">[-]</label><label class="expand" for="c-37655522">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I also miss the simplicity of compose, but for me running rootless is worth the tradeoff.<p>To setup&#x2F;tear down software dev environments deployed locally, the root&#x2F;rootless discussion isn&#x27;t really relevant. Ease of deployment and ease of use are critical though, and Docker is above all a development experience victory.</div><br/><div id="37656048" class="c"><input type="checkbox" id="c-37656048" checked=""/><div class="controls bullet"><span class="by">worksonmine</span><span>|</span><a href="#37655274">root</a><span>|</span><a href="#37655522">parent</a><span>|</span><a href="#37655495">next</a><span>|</span><label class="collapse" for="c-37656048">[-]</label><label class="expand" for="c-37656048">[1 more]</label></div><br/><div class="children"><div class="content">Relevant to who? The damage done with container escape is bigger on my machine than any production server I have access to. And there are a lot more packages running in my dev environment than on production servers. When it comes to security or convenience I always choose the first but I know most people wont.<p>Podman-compose isn&#x27;t as good as docker but it exists, and you can run docker-compose with podman as the runtime. I don&#x27;t need it as my environments are simple and even wrapping the commands in shell scripts would be overkill. But the option is there.</div><br/></div></div></div></div></div></div></div></div><div id="37655429" class="c"><input type="checkbox" id="c-37655429" checked=""/><div class="controls bullet"><span class="by">politelemon</span><span>|</span><a href="#37655274">prev</a><span>|</span><a href="#37655436">next</a><span>|</span><label class="collapse" for="c-37655429">[-]</label><label class="expand" for="c-37655429">[2 more]</label></div><br/><div class="children"><div class="content">&gt; However, as with watchtower, that’s another external dependency.<p>Docker compose is part of docker now, it&#x27;s just another subcommand.</div><br/></div></div><div id="37655570" class="c"><input type="checkbox" id="c-37655570" checked=""/><div class="controls bullet"><span class="by">Uptrenda</span><span>|</span><a href="#37655436">prev</a><span>|</span><label class="collapse" for="c-37655570">[-]</label><label class="expand" for="c-37655570">[7 more]</label></div><br/><div class="children"><div class="content">I can almost see the authors massive soy smile as he conjures up yet another pointless tool to over-complicate the stack with. I&#x27;ve got to wonder if engineers like this ever get any real work done. &#x27;I&#x27;ll just use some Jamunji Dragonfly, and bring it up with some Spotted Lettuce, mix in a little Lazuli scripting, and of course I will be using the Brainphuck package manager on the RegexOS. Of course, I will need a cloud provider with RegexOS images, so I will need to use a serial terminal that supports BBS and the carrier pigeon protocol. All in all, an easy hello-world that should only take most people without a life 48 hours for maximum reliability and scaling. A hello-world that&#x27;s enterprise-ready! Yay, I&#x27;m excited! --sips soylet-- --submit new hacker news link--&#x27; Now you know another way to do the same thing and the world is made a little worse.</div><br/><div id="37655701" class="c"><input type="checkbox" id="c-37655701" checked=""/><div class="controls bullet"><span class="by">gigatexal</span><span>|</span><a href="#37655570">parent</a><span>|</span><a href="#37655656">next</a><span>|</span><label class="collapse" for="c-37655701">[-]</label><label class="expand" for="c-37655701">[1 more]</label></div><br/><div class="children"><div class="content">Yeah … this response is devoid of substance. What’s all this nonsense about “soy”? Why not critique the approach with what is better about your approach or docker-compose or whatever it is you use and talk about the merits.</div><br/></div></div><div id="37655641" class="c"><input type="checkbox" id="c-37655641" checked=""/><div class="controls bullet"><span class="by">worksonmine</span><span>|</span><a href="#37655570">parent</a><span>|</span><a href="#37655656">prev</a><span>|</span><a href="#37655709">next</a><span>|</span><label class="collapse" for="c-37655641">[-]</label><label class="expand" for="c-37655641">[3 more]</label></div><br/><div class="children"><div class="content">What? If you use containers this simplifies the stack rather than complicating it. Instead of kubernetes and other popular tools it&#x27;s just rootless podman and systemd which is already there.<p>I&#x27;m using a similar setup and this excites me. It&#x27;s too new to be in my repository but as soon as I get an extra hour I&#x27;ll compile it and take it for a spin.</div><br/><div id="37655689" class="c"><input type="checkbox" id="c-37655689" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#37655570">root</a><span>|</span><a href="#37655641">parent</a><span>|</span><a href="#37655709">next</a><span>|</span><label class="collapse" for="c-37655689">[-]</label><label class="expand" for="c-37655689">[2 more]</label></div><br/><div class="children"><div class="content">If you want to really simplify using containers, you could just use systemd-nspawn.</div><br/><div id="37655880" class="c"><input type="checkbox" id="c-37655880" checked=""/><div class="controls bullet"><span class="by">worksonmine</span><span>|</span><a href="#37655570">root</a><span>|</span><a href="#37655689">parent</a><span>|</span><a href="#37655709">next</a><span>|</span><label class="collapse" for="c-37655880">[-]</label><label class="expand" for="c-37655880">[1 more]</label></div><br/><div class="children"><div class="content">Depends what you mean by simplifying. Does it have registries and the ecosystem of OCI containers? The killer feature of podman for me is that it works with docker which like or not most people are using.<p>But I&#x27;ll look into nspawn could be useful.</div><br/></div></div></div></div></div></div><div id="37655709" class="c"><input type="checkbox" id="c-37655709" checked=""/><div class="controls bullet"><span class="by">yard2010</span><span>|</span><a href="#37655570">parent</a><span>|</span><a href="#37655641">prev</a><span>|</span><label class="collapse" for="c-37655709">[-]</label><label class="expand" for="c-37655709">[1 more]</label></div><br/><div class="children"><div class="content">Move on</div><br/></div></div></div></div></div></div></div></div></div></body></html>