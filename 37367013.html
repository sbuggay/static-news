<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1693731658834" as="style"/><link rel="stylesheet" href="styles.css?v=1693731658834"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/baresip/baresip">Baresip – An Open Source modular SIP User-Agent with audio and video support</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>peter_d_sherman</span> | <span>33 comments</span></div><br/><div><div id="37367723" class="c"><input type="checkbox" id="c-37367723" checked=""/><div class="controls bullet"><span class="by">ninjin</span><span>|</span><a href="#37367118">next</a><span>|</span><label class="collapse" for="c-37367723">[-]</label><label class="expand" for="c-37367723">[1 more]</label></div><br/><div class="children"><div class="content">After having gone through about a handful of SIP clients, I have to say that baresip is by far the most reliable one I have found. No random breakages. Accounts just work once you have the configuration done. It has some idiosyncrasies in terms of its configuration layout due to how tries to be possibly too modular and wide in scope, but it is still wonderful to use.</div><br/></div></div><div id="37367118" class="c"><input type="checkbox" id="c-37367118" checked=""/><div class="controls bullet"><span class="by">woodson</span><span>|</span><a href="#37367723">prev</a><span>|</span><a href="#37368232">next</a><span>|</span><label class="collapse" for="c-37367118">[-]</label><label class="expand" for="c-37367118">[1 more]</label></div><br/><div class="children"><div class="content">Very nice library. I used it some time ago to implement a module that applied ASR and other audio analytics to audio streams in real time and relayed extracted information via SIP messages. As with many projects in that space, it doesn’t come with a lot of documentation.</div><br/></div></div><div id="37368232" class="c"><input type="checkbox" id="c-37368232" checked=""/><div class="controls bullet"><span class="by">femto</span><span>|</span><a href="#37367118">prev</a><span>|</span><a href="#37368310">next</a><span>|</span><label class="collapse" for="c-37368232">[-]</label><label class="expand" for="c-37368232">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t tried it, but there also appears to be a third party Python wrapper&#x2F;binding: <a href="https:&#x2F;&#x2F;github.com&#x2F;OpenJarbas&#x2F;baresipy">https:&#x2F;&#x2F;github.com&#x2F;OpenJarbas&#x2F;baresipy</a></div><br/></div></div><div id="37368310" class="c"><input type="checkbox" id="c-37368310" checked=""/><div class="controls bullet"><span class="by">mehdix</span><span>|</span><a href="#37368232">prev</a><span>|</span><a href="#37367690">next</a><span>|</span><label class="collapse" for="c-37368310">[-]</label><label class="expand" for="c-37368310">[1 more]</label></div><br/><div class="children"><div class="content">Baresip is the single cleanest SIP client&#x2F;library that I&#x27;ve ever found. And there aren&#x27;t many.</div><br/></div></div><div id="37367690" class="c"><input type="checkbox" id="c-37367690" checked=""/><div class="controls bullet"><span class="by">synergy20</span><span>|</span><a href="#37368310">prev</a><span>|</span><a href="#37367162">next</a><span>|</span><label class="collapse" for="c-37367690">[-]</label><label class="expand" for="c-37367690">[1 more]</label></div><br/><div class="children"><div class="content">quite a few years ago I used this to do dual-way audio communication for an embedded intercom system, worked great, not sure if there are any alternatives came out these years for non-desktop use scenarios.</div><br/></div></div><div id="37367162" class="c"><input type="checkbox" id="c-37367162" checked=""/><div class="controls bullet"><span class="by">brightball</span><span>|</span><a href="#37367690">prev</a><span>|</span><a href="#37368336">next</a><span>|</span><label class="collapse" for="c-37367162">[-]</label><label class="expand" for="c-37367162">[13 more]</label></div><br/><div class="children"><div class="content">Can somebody give an ELI5 explanation of SIP? That’s a lot of functionality.</div><br/><div id="37367185" class="c"><input type="checkbox" id="c-37367185" checked=""/><div class="controls bullet"><span class="by">shrubble</span><span>|</span><a href="#37367162">parent</a><span>|</span><a href="#37367180">next</a><span>|</span><label class="collapse" for="c-37367185">[-]</label><label class="expand" for="c-37367185">[1 more]</label></div><br/><div class="children"><div class="content">SIP is a protocol for Voice over Internet Protocol or VOIP.<p>SIP is the control channel and you use it to login to the server (once registered calls to a number will be sent to your program) and control both sending and receiving calls.  The actual audio protocol is RTP, typically 20ms of audio is sent or received per RTP packet.</div><br/></div></div><div id="37367180" class="c"><input type="checkbox" id="c-37367180" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#37367162">parent</a><span>|</span><a href="#37367185">prev</a><span>|</span><a href="#37367277">next</a><span>|</span><label class="collapse" for="c-37367180">[-]</label><label class="expand" for="c-37367180">[10 more]</label></div><br/><div class="children"><div class="content">SIP is more or less <i>the</i> signaling protocol for telephone service as VoIP. SIP doesn&#x27;t include the actual audio, which is usually RTP on a different socket, but this client seems to do audio too.<p>If you&#x27;ve got VoIP service for a landline, it&#x27;s probably SIP. I think VoLTE might be SIP too? There&#x27;s extensions for text messaging over SIP as well.</div><br/><div id="37367253" class="c"><input type="checkbox" id="c-37367253" checked=""/><div class="controls bullet"><span class="by">simfree</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367180">parent</a><span>|</span><a href="#37367324">next</a><span>|</span><label class="collapse" for="c-37367253">[-]</label><label class="expand" for="c-37367253">[1 more]</label></div><br/><div class="children"><div class="content">VoLTE and VoNR are just SIP over a cell carrier prioritized data channel (Google LTE QCI). T-Mobile has a beta for latency sensitive applications to access the 5G equivalent of this, it&#x27;s called Network Slicing.<p>UMTS an similar 2G and 3G protocols could do neat things like have multiple towers compare the signals received from your phone to enable more reliable calling, but this functionality did not survive to make it into cellular&#x27;s LTE or 5G New Radio (NR) standards.</div><br/></div></div><div id="37367324" class="c"><input type="checkbox" id="c-37367324" checked=""/><div class="controls bullet"><span class="by">doubleg72</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367180">parent</a><span>|</span><a href="#37367253">prev</a><span>|</span><a href="#37367277">next</a><span>|</span><label class="collapse" for="c-37367324">[-]</label><label class="expand" for="c-37367324">[8 more]</label></div><br/><div class="children"><div class="content">So where does that leave H.323?</div><br/><div id="37367852" class="c"><input type="checkbox" id="c-37367852" checked=""/><div class="controls bullet"><span class="by">yed</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367324">parent</a><span>|</span><a href="#37367504">next</a><span>|</span><label class="collapse" for="c-37367852">[-]</label><label class="expand" for="c-37367852">[1 more]</label></div><br/><div class="children"><div class="content">It’s mostly a legacy protocol at this point.</div><br/></div></div><div id="37367504" class="c"><input type="checkbox" id="c-37367504" checked=""/><div class="controls bullet"><span class="by">alophawen</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367324">parent</a><span>|</span><a href="#37367852">prev</a><span>|</span><a href="#37367277">next</a><span>|</span><label class="collapse" for="c-37367504">[-]</label><label class="expand" for="c-37367504">[6 more]</label></div><br/><div class="children"><div class="content">Last I worked with telephony (around 2010), IIRC we recieved calls over 3G network as SS7&#x2F;H323 using Dialogic hardware and converted them on the fly to SIP as they entered our systems.<p>The whole PBX was running on SIP using Asterisk.</div><br/><div id="37367656" class="c"><input type="checkbox" id="c-37367656" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367504">parent</a><span>|</span><a href="#37367277">next</a><span>|</span><label class="collapse" for="c-37367656">[-]</label><label class="expand" for="c-37367656">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;m really intrigued. Is it possible to get video calling working with mobile networks&#x27; own video calling support over LTE? I could never find how it&#x27;s done.</div><br/><div id="37367801" class="c"><input type="checkbox" id="c-37367801" checked=""/><div class="controls bullet"><span class="by">posguy</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367656">parent</a><span>|</span><a href="#37368277">next</a><span>|</span><label class="collapse" for="c-37367801">[-]</label><label class="expand" for="c-37367801">[2 more]</label></div><br/><div class="children"><div class="content">Yes, T-Mobile and a few other carriers support videocalling right in the Android dialer.<p><a href="https:&#x2F;&#x2F;www.t-mobile.com&#x2F;support&#x2F;plans-features&#x2F;t-mobile-video-calling" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.t-mobile.com&#x2F;support&#x2F;plans-features&#x2F;t-mobile-vid...</a></div><br/><div id="37367817" class="c"><input type="checkbox" id="c-37367817" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367801">parent</a><span>|</span><a href="#37368277">next</a><span>|</span><label class="collapse" for="c-37367817">[-]</label><label class="expand" for="c-37367817">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen it work _once_, around 8 years ago on a T-Mobile branded Galaxy S phone.<p>I don&#x27;t think it still works, and&#x2F;or it requires some strange confluence of events to work.</div><br/></div></div></div></div><div id="37368277" class="c"><input type="checkbox" id="c-37368277" checked=""/><div class="controls bullet"><span class="by">darkclouds</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367656">parent</a><span>|</span><a href="#37367801">prev</a><span>|</span><a href="#37367984">next</a><span>|</span><label class="collapse" for="c-37368277">[-]</label><label class="expand" for="c-37368277">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve not done that personally, but I&#x27;d have a look on the freeswitch forums to see if someone on there has already done it.<p>I have had the free 3CX sip client on an android mobile, using a UDP vpn back to a freeswitch server which was connected to the UK phone system. Proof of concept thing.<p>Because of the nature of the mobile data, which is like bursts of data, it made it hard to have a conversation even around midnight and 1am when cell traffic volumes are low.<p>I was told UK Telco&#x27;s give voice data priority as this needs to be realtime and then other data has lower levels of priority making it hard to have a reliable stream of data.<p>FYI, 56K is the minimum standard for voice calls, although with 4G and beyond, its possible to hear the higher bitrate protocols being used on the main mobile networks, as its not so muffled, like someone turning up the high end frequency&#x27;s on a graphic equaliser, and they are fully down with the 56k protocols.<p>I dont know what the minimum video protocol bitrate would be, but I did find this which might be useful.
&gt; H.264 will only consume around 10 kbps with around 2 fps in 176x144.<p>When Skype first came out, it was peer to peer, so as a proof of concept to test the new 3G network I did manage to maintain a voice call for an hour which was impressive, but also shows that mobile networks can maintain the mobile data streams if its not encrypted inside a VPN in the UK.</div><br/></div></div><div id="37367984" class="c"><input type="checkbox" id="c-37367984" checked=""/><div class="controls bullet"><span class="by">alophawen</span><span>|</span><a href="#37367162">root</a><span>|</span><a href="#37367656">parent</a><span>|</span><a href="#37368277">prev</a><span>|</span><a href="#37367277">next</a><span>|</span><label class="collapse" for="c-37367984">[-]</label><label class="expand" for="c-37367984">[1 more]</label></div><br/><div class="children"><div class="content">I managed to get video working between 3G and SIP, so I expect so.<p>I developed 3G video phone dating in 2010.<p>I recall bambuser also used to have a live video streaming over 3G app around that time.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37367277" class="c"><input type="checkbox" id="c-37367277" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#37367162">parent</a><span>|</span><a href="#37367180">prev</a><span>|</span><a href="#37368336">next</a><span>|</span><label class="collapse" for="c-37367277">[-]</label><label class="expand" for="c-37367277">[1 more]</label></div><br/><div class="children"><div class="content">The open interoperable standard for voice and video calls.</div><br/></div></div></div></div><div id="37368336" class="c"><input type="checkbox" id="c-37368336" checked=""/><div class="controls bullet"><span class="by">PrimeMcFly</span><span>|</span><a href="#37367162">prev</a><span>|</span><a href="#37367647">next</a><span>|</span><label class="collapse" for="c-37368336">[-]</label><label class="expand" for="c-37368336">[3 more]</label></div><br/><div class="children"><div class="content">How does this compare to MicroSIP, which is the best cross-platform client I&#x27;ve found thus far.</div><br/><div id="37368571" class="c"><input type="checkbox" id="c-37368571" checked=""/><div class="controls bullet"><span class="by">somat</span><span>|</span><a href="#37368336">parent</a><span>|</span><a href="#37367647">next</a><span>|</span><label class="collapse" for="c-37368571">[-]</label><label class="expand" for="c-37368571">[2 more]</label></div><br/><div class="children"><div class="content">it runs in a terminal. Some may see that as a step down some may see it as a step up.  It is why I use it.</div><br/><div id="37368621" class="c"><input type="checkbox" id="c-37368621" checked=""/><div class="controls bullet"><span class="by">PrimeMcFly</span><span>|</span><a href="#37368336">root</a><span>|</span><a href="#37368571">parent</a><span>|</span><a href="#37367647">next</a><span>|</span><label class="collapse" for="c-37368621">[-]</label><label class="expand" for="c-37368621">[1 more]</label></div><br/><div class="children"><div class="content">Ah, thanks! I can definitely see that as being useful.</div><br/></div></div></div></div></div></div><div id="37367647" class="c"><input type="checkbox" id="c-37367647" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#37368336">prev</a><span>|</span><a href="#37367590">next</a><span>|</span><label class="collapse" for="c-37367647">[-]</label><label class="expand" for="c-37367647">[10 more]</label></div><br/><div class="children"><div class="content">Interesting. I&#x27;m trying to (in background mode) build an open source SIP video doorbell, and so far finding a good client that can work with raw video capture devices proved tricky. All the clients with video support need full X-Windows or Wayland stacks, which I most definitely don&#x27;t want.<p>This seems to be exactly what I need!<p>Now, why did you have to write it in pure C?!? It&#x27;s not a big deal for me, my VoIP devices are already in a separate VLAN without external access, but still.</div><br/><div id="37368500" class="c"><input type="checkbox" id="c-37368500" checked=""/><div class="controls bullet"><span class="by">thebruce87m</span><span>|</span><a href="#37367647">parent</a><span>|</span><a href="#37367935">next</a><span>|</span><label class="collapse" for="c-37368500">[-]</label><label class="expand" for="c-37368500">[1 more]</label></div><br/><div class="children"><div class="content">PJSIP has python support: <a href="https:&#x2F;&#x2F;trac.pjsip.org&#x2F;repos&#x2F;wiki&#x2F;Python_SIP_Tutorial" rel="nofollow noreferrer">https:&#x2F;&#x2F;trac.pjsip.org&#x2F;repos&#x2F;wiki&#x2F;Python_SIP_Tutorial</a></div><br/></div></div><div id="37367935" class="c"><input type="checkbox" id="c-37367935" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#37367647">parent</a><span>|</span><a href="#37368500">prev</a><span>|</span><a href="#37367932">next</a><span>|</span><label class="collapse" for="c-37367935">[-]</label><label class="expand" for="c-37367935">[1 more]</label></div><br/><div class="children"><div class="content">Looks like the project started in 2010; there weren&#x27;t many great options then if you wanted to build something portable, not to mention easily bindable in other languages.  (And there are plenty of good rationales for not wanting to use C++.)</div><br/></div></div><div id="37367932" class="c"><input type="checkbox" id="c-37367932" checked=""/><div class="controls bullet"><span class="by">NavinF</span><span>|</span><a href="#37367647">parent</a><span>|</span><a href="#37367935">prev</a><span>|</span><a href="#37367876">next</a><span>|</span><label class="collapse" for="c-37367932">[-]</label><label class="expand" for="c-37367932">[3 more]</label></div><br/><div class="children"><div class="content">What are your resource limits and threat model?<p>I hate X11 and C as much as any other human, but let&#x27;s be real:<p>- If your hardware can decode video, it can probably deal with X11<p>- As you noted, security is easy if you never have to communicate with malicious devices. Don&#x27;t &quot;but still&quot; me.</div><br/><div id="37368065" class="c"><input type="checkbox" id="c-37368065" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#37367647">root</a><span>|</span><a href="#37367932">parent</a><span>|</span><a href="#37367876">next</a><span>|</span><label class="collapse" for="c-37368065">[-]</label><label class="expand" for="c-37368065">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not so much a threat model, but maintainability and reliability. I want to have as few dependencies as possible, and for the code to work with minimal to no changes for the next 10 years.<p>Ideally, I would use something like HomeAssistant Operating System for the base, with my code running in a Docker container.</div><br/><div id="37368157" class="c"><input type="checkbox" id="c-37368157" checked=""/><div class="controls bullet"><span class="by">jstanley</span><span>|</span><a href="#37367647">root</a><span>|</span><a href="#37368065">parent</a><span>|</span><a href="#37367876">next</a><span>|</span><label class="collapse" for="c-37368157">[-]</label><label class="expand" for="c-37368157">[1 more]</label></div><br/><div class="children"><div class="content">If it&#x27;s about maintainability and reliability, and not so much a threat model, why does the fact that your VoIP devices are already in a separate VLAN without external access mean it&#x27;s not a big deal for you?<p>&gt; I want to have as few dependencies as possible, and for the code to work with minimal to no changes for the next 10 years.<p>Then a C program sounds like an ideal choice!</div><br/></div></div></div></div></div></div><div id="37367876" class="c"><input type="checkbox" id="c-37367876" checked=""/><div class="controls bullet"><span class="by">trzy</span><span>|</span><a href="#37367647">parent</a><span>|</span><a href="#37367932">prev</a><span>|</span><a href="#37368119">next</a><span>|</span><label class="collapse" for="c-37367876">[-]</label><label class="expand" for="c-37367876">[3 more]</label></div><br/><div class="children"><div class="content">Why would you <i>not</i> want it in a simple, portable language that&#x27;s easy to build and deploy anywhere?</div><br/><div id="37368017" class="c"><input type="checkbox" id="c-37368017" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#37367647">root</a><span>|</span><a href="#37367876">parent</a><span>|</span><a href="#37368119">next</a><span>|</span><label class="collapse" for="c-37368017">[-]</label><label class="expand" for="c-37368017">[2 more]</label></div><br/><div class="children"><div class="content">Because there are now relatively simple, portable languages that vastly improve on C&#x27;s safety and virtually non-existing type system, in order to prevent a lot of easy but critical security issues.<p>I say that as someone who&#x27;s been writing C for decades, and still does very regularly.</div><br/><div id="37368715" class="c"><input type="checkbox" id="c-37368715" checked=""/><div class="controls bullet"><span class="by">kreetx</span><span>|</span><a href="#37367647">root</a><span>|</span><a href="#37368017">parent</a><span>|</span><a href="#37368119">next</a><span>|</span><label class="collapse" for="c-37368715">[-]</label><label class="expand" for="c-37368715">[1 more]</label></div><br/><div class="children"><div class="content">In my experience, it’s the developer that matters. A not-a-very-good-developer can produce buggy code&#x2F;bad architecture in any of the strongly typed advanced type system languages, too.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>