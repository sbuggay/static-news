<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1691485263556" as="style"/><link rel="stylesheet" href="styles.css?v=1691485263556"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://steven-giesel.com/blogPost/2f70d926-ec92-4dfe-b278-18f78078253d">The combined power of F# and C#</a> <span class="domain">(<a href="https://steven-giesel.com">steven-giesel.com</a>)</span></div><div class="subtext"><span>freedude</span> | <span>177 comments</span></div><br/><div><div id="37046270" class="c"><input type="checkbox" id="c-37046270" checked=""/><div class="controls bullet"><span class="by">Avlin67</span><span>|</span><a href="#37039903">next</a><span>|</span><label class="collapse" for="c-37046270">[-]</label><label class="expand" for="c-37046270">[1 more]</label></div><br/><div class="children"><div class="content">F# is nice, I used to work with traders using it...<p>then move to a so called startup in France and CTO laughed when I was speaking about F#... this is why people dont use it more because they never learned FP.... so sad</div><br/></div></div><div id="37039903" class="c"><input type="checkbox" id="c-37039903" checked=""/><div class="controls bullet"><span class="by">michaelteter</span><span>|</span><a href="#37046270">prev</a><span>|</span><a href="#37039522">next</a><span>|</span><label class="collapse" for="c-37039903">[-]</label><label class="expand" for="c-37039903">[30 more]</label></div><br/><div class="children"><div class="content">Functional core, imperative shell.  This seems to be a good approach, especially when you push pretty hard to stuff as much as possible into the functional core.<p>Writing tests is much easier and requires much less code, and bugs are much easier to track down (since you have less surface area of &quot;what might have modified this object I now hold?&quot;).<p>Since a functional approach also goes well with single-responsibility-principle and composability, you can end up with multiple times more actual functions.  They&#x27;re all (ideally) very conceptually simple, but the larger number of more specialized functions means you have to work a lot harder on choosing meaningful names.  And to write meaningful names of specific functions, you can end up with some quite long names.  This is actually quite ok as it makes things much more readable, but some people have some strong negative reactions to seeing 4-6 word function names.  But at least in this case (Java being the most famous counter scenario) each function probably has more real value as it&#x27;s not just OO layer artefacts.</div><br/><div id="37041349" class="c"><input type="checkbox" id="c-37041349" checked=""/><div class="controls bullet"><span class="by">gugagore</span><span>|</span><a href="#37039903">parent</a><span>|</span><a href="#37040095">next</a><span>|</span><label class="collapse" for="c-37041349">[-]</label><label class="expand" for="c-37041349">[2 more]</label></div><br/><div class="children"><div class="content">One thing that I have seen in the Julia ecosystem, where multiple dispatch is pervasive, is that function names can get away with only being verbs. Without dispatch, you often see an approximation by baking in (Hungarian notation) the name of a type into the function.<p>This is most clearly seen with conversation functions between types defined in different libraries. A collection class might have a method like &quot;from_Array&quot;.</div><br/><div id="37045691" class="c"><input type="checkbox" id="c-37045691" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041349">parent</a><span>|</span><a href="#37040095">next</a><span>|</span><label class="collapse" for="c-37045691">[-]</label><label class="expand" for="c-37045691">[1 more]</label></div><br/><div class="children"><div class="content">Related to this pattern:<p>I recently wondered why Casey Muratori (RAD Game tools, Handmade Hero etc.) seems to write C++ in a very C like fashion plus a few select features.<p>Here&#x27;s a discussion: <a href="https:&#x2F;&#x2F;hero.handmade.network&#x2F;forums&#x2F;code-discussion&#x2F;t&#x2F;453-why_use_c++_instead_of_c" rel="nofollow noreferrer">https:&#x2F;&#x2F;hero.handmade.network&#x2F;forums&#x2F;code-discussion&#x2F;t&#x2F;453-w...</a><p>One of the takeaways is that he prefers the simplicity of C but uses operator overloading for similar reasons as you describe. One example includes addition of vectors, which is certainly a thing you do often in game and graphics related code.</div><br/></div></div></div></div><div id="37040095" class="c"><input type="checkbox" id="c-37040095" checked=""/><div class="controls bullet"><span class="by">bob1029</span><span>|</span><a href="#37039903">parent</a><span>|</span><a href="#37041349">prev</a><span>|</span><a href="#37040068">next</a><span>|</span><label class="collapse" for="c-37040095">[-]</label><label class="expand" for="c-37040095">[10 more]</label></div><br/><div class="children"><div class="content">&gt; Functional core, imperative shell.<p>You can find this pattern in a lot of places if you are a little bit flexible with your definition of &quot;functional&quot;.<p>For example, why would we not consider some combination like SQL and PHP to be hinting at this exact same kind of archetype? You&#x27;ve got a crusty outer shell of yucky hackarounds (PHP) that talks to this (ideally) well-normalized &amp; clean data store (SQL). Assuming you &quot;stuff as much as possible&quot; into core part of the solution, you could swap the outer shell for anything you desire without much headache.</div><br/><div id="37040288" class="c"><input type="checkbox" id="c-37040288" checked=""/><div class="controls bullet"><span class="by">skrebbel</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040095">parent</a><span>|</span><a href="#37040068">next</a><span>|</span><label class="collapse" for="c-37040288">[-]</label><label class="expand" for="c-37040288">[9 more]</label></div><br/><div class="children"><div class="content">PHP is more like “imperative core, functional shell”. After all, a PHP request is a pure stateless function call. The only way it can modify state anywhere is with IO (eg store something in the database, write something to the session store, etc) and all data you accumulate in your PHP code gets purged after each request.</div><br/><div id="37045758" class="c"><input type="checkbox" id="c-37045758" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040288">parent</a><span>|</span><a href="#37041057">next</a><span>|</span><label class="collapse" for="c-37045758">[-]</label><label class="expand" for="c-37045758">[1 more]</label></div><br/><div class="children"><div class="content">Throwing away what you know with every request is orthogonal to being functional. You really have to squint and turn your head sideways to think of PHP+SQL as being functional, even though PHP is stateless.<p>From the outside it&#x27;s stateful, because well you are interacting with a DB.<p>From within the PHP codebase, it&#x27;s imperative and requires discipline and extended knowledge of any API you call to understand whether something mutates.<p>The only time you can view it as actually stateless and somewhat functional is when you test or debug an integration from idempotent requests to responses without interleaving mutations.</div><br/></div></div><div id="37041057" class="c"><input type="checkbox" id="c-37041057" checked=""/><div class="controls bullet"><span class="by">closeparen</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040288">parent</a><span>|</span><a href="#37045758">prev</a><span>|</span><a href="#37040068">next</a><span>|</span><label class="collapse" for="c-37041057">[-]</label><label class="expand" for="c-37041057">[7 more]</label></div><br/><div class="children"><div class="content">And SQL is all about mutation... functional take on the database would be something like Datomic.</div><br/><div id="37044610" class="c"><input type="checkbox" id="c-37044610" checked=""/><div class="controls bullet"><span class="by">Culonavirus</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041057">parent</a><span>|</span><a href="#37045260">next</a><span>|</span><label class="collapse" for="c-37044610">[-]</label><label class="expand" for="c-37044610">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a hard disagree. The absolute VAST MAJORITY of SQL complexity is in the select queries (joins, groups, aggregation, window functions, cursors, filtering, procedures...), which are mostly not about mutation.</div><br/><div id="37045970" class="c"><input type="checkbox" id="c-37045970" checked=""/><div class="controls bullet"><span class="by">closeparen</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37044610">parent</a><span>|</span><a href="#37045260">next</a><span>|</span><label class="collapse" for="c-37045970">[-]</label><label class="expand" for="c-37045970">[1 more]</label></div><br/><div class="children"><div class="content">You’re right about SQL the language, but I think the role of MySQL in a PHP application is much more to manage state than to provide interesting SELECT queries. The popularity of ORM in this world shows that what 95% of applications are looking for is native-ish collections that can be mapped to disk and updated concurrently. PHP’s shared nothing architecture means it must externalize this responsibility, and MySQL&#x2F;Postgres are the customary choices.<p>With actual SQL, most people don’t get beyond JOIN, which they mainly need in order to deserialize nested or pointer structures from normal form. I learned aggregation, grouping, and windowing working with Spark and Hive on warehouse replicas of my DBs&#x2F;topics to troubleshoot and analyze my stuff. Never used one in an actual request handler.</div><br/></div></div></div></div><div id="37045260" class="c"><input type="checkbox" id="c-37045260" checked=""/><div class="controls bullet"><span class="by">fsloth</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041057">parent</a><span>|</span><a href="#37044610">prev</a><span>|</span><a href="#37045270">next</a><span>|</span><label class="collapse" for="c-37045260">[-]</label><label class="expand" for="c-37045260">[1 more]</label></div><br/><div class="children"><div class="content">Mutation is fine in pragmatic functional programming and IMO is not the defining feature what makes it so good for industrial use cases. Functional programming must <i>allow</i> easy immutable programs, and you can do that in SQL by never erasing anything (which will require a bit more bookkeeping for sure).</div><br/></div></div><div id="37045270" class="c"><input type="checkbox" id="c-37045270" checked=""/><div class="controls bullet"><span class="by">lkuty</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041057">parent</a><span>|</span><a href="#37045260">prev</a><span>|</span><a href="#37043650">next</a><span>|</span><label class="collapse" for="c-37045270">[-]</label><label class="expand" for="c-37045270">[1 more]</label></div><br/><div class="children"><div class="content">IMO you need to see how the SELECT queries are 100% functional to understand properly the power of it which is based on its relational algebra and the closure property of that algebra. Then the basic relational algebra was augmented with a lot of stuff but it&#x27;s still functional in the end.</div><br/></div></div><div id="37043650" class="c"><input type="checkbox" id="c-37043650" checked=""/><div class="controls bullet"><span class="by">michaelteter</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041057">parent</a><span>|</span><a href="#37045270">prev</a><span>|</span><a href="#37042709">next</a><span>|</span><label class="collapse" for="c-37043650">[-]</label><label class="expand" for="c-37043650">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think it is &quot;all about mutation&quot;.  Indeed it has create&#x2F;update&#x2F;delete, but there are a ton of functional capabilities.  So much of what SQL offers is related to data shaping.  You can have a huge read-only data store and do amazing things with it.</div><br/></div></div><div id="37042709" class="c"><input type="checkbox" id="c-37042709" checked=""/><div class="controls bullet"><span class="by">epgui</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041057">parent</a><span>|</span><a href="#37043650">prev</a><span>|</span><a href="#37040068">next</a><span>|</span><label class="collapse" for="c-37042709">[-]</label><label class="expand" for="c-37042709">[1 more]</label></div><br/><div class="children"><div class="content">SQL is a weird beast. Very much on the contrary, the language has a relational core (note that functional is a special case of relational), at least in principle, but it’s been grafted with so many imperative-style hacks over time.</div><br/></div></div></div></div></div></div></div></div><div id="37040068" class="c"><input type="checkbox" id="c-37040068" checked=""/><div class="controls bullet"><span class="by">kmac_</span><span>|</span><a href="#37039903">parent</a><span>|</span><a href="#37040095">prev</a><span>|</span><a href="#37045268">next</a><span>|</span><label class="collapse" for="c-37040068">[-]</label><label class="expand" for="c-37040068">[1 more]</label></div><br/><div class="children"><div class="content">This approach works very well. Side effects are pushed out of core and no mocks are required for end to end tests. It&#x27;s quite hard to &quot;sell&quot; to fellow devs, but when it clicks, the code is very clean.</div><br/></div></div><div id="37045268" class="c"><input type="checkbox" id="c-37045268" checked=""/><div class="controls bullet"><span class="by">yakubin</span><span>|</span><a href="#37039903">parent</a><span>|</span><a href="#37040068">prev</a><span>|</span><a href="#37040989">next</a><span>|</span><label class="collapse" for="c-37045268">[-]</label><label class="expand" for="c-37045268">[1 more]</label></div><br/><div class="children"><div class="content">Your functional core also includes an imperative core inside it. Most of your “pure” functions modify the process page table and GC roots. Basically all the runtime is imperative. Finally some of your functions are written in something equivalent to the ST monad to have reasonable performance.</div><br/></div></div><div id="37040989" class="c"><input type="checkbox" id="c-37040989" checked=""/><div class="controls bullet"><span class="by">seanwilson</span><span>|</span><a href="#37039903">parent</a><span>|</span><a href="#37045268">prev</a><span>|</span><a href="#37039522">next</a><span>|</span><label class="collapse" for="c-37040989">[-]</label><label class="expand" for="c-37040989">[15 more]</label></div><br/><div class="children"><div class="content">Can anyone explain why not &quot;functional core, functional shell&quot;? Is this partly because the shell has to mostly interact with things like UI APIs, file system APIs, network APIs and database APIs that are usually implemented in an imperative way already so you&#x27;d make your life harder this way? What if the APIs were written in a functional style?<p>For example, I find in TypeScript, most libraries and the language itself are not written with immutability in mind so there&#x27;s constant gotchas. So while I strongly prefer immutable data structures, going against the grain to use immutability everywhere usually isn&#x27;t worth the frustration. That for me doesn&#x27;t mean immutability is a bad idea though, it&#x27;s more that the libraries and languages support is lacking.</div><br/><div id="37042110" class="c"><input type="checkbox" id="c-37042110" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040989">parent</a><span>|</span><a href="#37042558">next</a><span>|</span><label class="collapse" for="c-37042110">[-]</label><label class="expand" for="c-37042110">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Can anyone explain why not &quot;functional core, functional shell&quot;? Is this partly because the shell has to mostly interact with things like UI APIs, file system APIs, network APIs and database APIs that are usually implemented in an imperative way already so you&#x27;d make your life harder this way? What if the APIs were written in a functional style?<p>Fundamentally the user isn&#x27;t functional - if you ask them what they want to do they&#x27;ll say different things at different times. You can have a 100% purely functional programming language that works like a calculator (with no memory) - the user can put in expressions and the language will evaluate them - but generally users want their language to be able to <i>do</i> things that are non-idempotent and non-time-symmetric and so on. You can, and should, push that part to the edge, but it needs to be there somewhere.</div><br/><div id="37042739" class="c"><input type="checkbox" id="c-37042739" checked=""/><div class="controls bullet"><span class="by">epgui</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37042110">parent</a><span>|</span><a href="#37045293">next</a><span>|</span><label class="collapse" for="c-37042739">[-]</label><label class="expand" for="c-37042739">[2 more]</label></div><br/><div class="children"><div class="content">What you say is true, but FP has many different ways of dealing with user input, environment, IO, that are no more complex than imperative procedures (arguably the FP equivalent is simpler).</div><br/><div id="37042848" class="c"><input type="checkbox" id="c-37042848" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37042739">parent</a><span>|</span><a href="#37045293">next</a><span>|</span><label class="collapse" for="c-37042848">[-]</label><label class="expand" for="c-37042848">[1 more]</label></div><br/><div class="children"><div class="content">Such as? Haskell-style IO types have no real denotational semantics (they don&#x27;t even have a notion of equality), they&#x27;re useful for jamming imperative instructions into an expression model but they don&#x27;t actually make them any less imperative, and the only other models of user input I&#x27;ve seen are even more obtuse and harder to work with. If something can only be understood operationally, representing it as an imperative procedure is probably the least bad approach IME (and diving into a &quot;the C language is purely functional&quot; style tarpit is far worse; look at SBT for where that leads).</div><br/></div></div></div></div><div id="37045293" class="c"><input type="checkbox" id="c-37045293" checked=""/><div class="controls bullet"><span class="by">fsloth</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37042110">parent</a><span>|</span><a href="#37042739">prev</a><span>|</span><a href="#37042558">next</a><span>|</span><label class="collapse" for="c-37045293">[-]</label><label class="expand" for="c-37045293">[1 more]</label></div><br/><div class="children"><div class="content">Not an issue with F#. It’s trivial to exit ’purely functional’ domain, write it like ’pythonic C#’ and still end up with a program that is correct out-of-the-box.</div><br/></div></div></div></div><div id="37042558" class="c"><input type="checkbox" id="c-37042558" checked=""/><div class="controls bullet"><span class="by">aranchelk</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040989">parent</a><span>|</span><a href="#37042110">prev</a><span>|</span><a href="#37041063">next</a><span>|</span><label class="collapse" for="c-37042558">[-]</label><label class="expand" for="c-37042558">[2 more]</label></div><br/><div class="children"><div class="content">1) IMO as a community we still haven’t quite figured out the best abstractions for functional UIs. Various FRP and Elm-like libraries are good, but they have drawbacks.<p>2) Not all frontends have functional APIs, you may be stuck writing a lot of FFI glue code.<p>3) Front end code often gets pushed to devs with different experience and skill sets, in my experience they’re probably less likely to have functional or hard CS backgrounds.<p>4) Harder recruiting if all the devs need to be proficient with FP.<p>I personally don’t find any of these reasons compelling enough to negate all of the benefits of FP.<p>Answers saying FP isn’t suited for IO or for interaction with users are rhetorically interesting but contradict my experience.</div><br/><div id="37045506" class="c"><input type="checkbox" id="c-37045506" checked=""/><div class="controls bullet"><span class="by">michaelteter</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37042558">parent</a><span>|</span><a href="#37041063">next</a><span>|</span><label class="collapse" for="c-37045506">[-]</label><label class="expand" for="c-37045506">[1 more]</label></div><br/><div class="children"><div class="content">Your comments suggest a frontend perspective.  But on the backend there&#x27;s a ton of code (including business logic, which theoretically should be the most important bit).<p>I wouldn&#x27;t be qualified to argue the merits of FP on frontend, but on the backend it really seems to have value.</div><br/></div></div></div></div><div id="37041063" class="c"><input type="checkbox" id="c-37041063" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040989">parent</a><span>|</span><a href="#37042558">prev</a><span>|</span><a href="#37045278">next</a><span>|</span><label class="collapse" for="c-37041063">[-]</label><label class="expand" for="c-37041063">[7 more]</label></div><br/><div class="children"><div class="content">The shell is where you put all your side effects. Things like user input or writing to files.<p>That way you can use pure functions on the inside. Pure functions don&#x27;t allow for side effects.</div><br/><div id="37041249" class="c"><input type="checkbox" id="c-37041249" checked=""/><div class="controls bullet"><span class="by">turboponyy</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041063">parent</a><span>|</span><a href="#37041165">next</a><span>|</span><label class="collapse" for="c-37041249">[-]</label><label class="expand" for="c-37041249">[1 more]</label></div><br/><div class="children"><div class="content">Pure functions can&#x27;t perform side effects, but they can describe them.<p>For a functional shell, your program&#x27;s entry point would be composed of pure functions describing effectful actions to take. The necessary computations get bubbled up to the entry point during evaluation, at which point the runtime &#x2F; compiled program executes them.<p>(At least, this is the abstracted perspective you should view the purely functional source code from. The final program itself in practice is, of course, effectful throughout).</div><br/></div></div><div id="37041165" class="c"><input type="checkbox" id="c-37041165" checked=""/><div class="controls bullet"><span class="by">seanwilson</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041063">parent</a><span>|</span><a href="#37041249">prev</a><span>|</span><a href="#37045278">next</a><span>|</span><label class="collapse" for="c-37041165">[-]</label><label class="expand" for="c-37041165">[5 more]</label></div><br/><div class="children"><div class="content">Why does &quot;imperative&quot; imply &quot;side effects&quot; here though? Pure functional languages have ways of modelling side effects.</div><br/><div id="37041209" class="c"><input type="checkbox" id="c-37041209" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041165">parent</a><span>|</span><a href="#37045278">next</a><span>|</span><label class="collapse" for="c-37041209">[-]</label><label class="expand" for="c-37041209">[4 more]</label></div><br/><div class="children"><div class="content">They do but it&#x27;s a bit of a square peg round hole. It&#x27;s just easier not to use things like the IO monad.</div><br/><div id="37041658" class="c"><input type="checkbox" id="c-37041658" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041209">parent</a><span>|</span><a href="#37042753">next</a><span>|</span><label class="collapse" for="c-37041658">[-]</label><label class="expand" for="c-37041658">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also fun to note that the IO monad in some perspectives is an abstraction <i>for</i> &quot;functional core, imperative shell&quot; moving as much of the imperative &quot;order matters&quot; computations to an outer &quot;shell&quot;. The IO monad in some ways <i>is</i> the way of mathematically representing the &quot;shell&quot; of an application.</div><br/></div></div><div id="37042753" class="c"><input type="checkbox" id="c-37042753" checked=""/><div class="controls bullet"><span class="by">epgui</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37041209">parent</a><span>|</span><a href="#37041658">prev</a><span>|</span><a href="#37045278">next</a><span>|</span><label class="collapse" for="c-37042753">[-]</label><label class="expand" for="c-37042753">[2 more]</label></div><br/><div class="children"><div class="content">Sounds more like an unfamiliar peg than an inappropriate one, IMO.</div><br/><div id="37043715" class="c"><input type="checkbox" id="c-37043715" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37042753">parent</a><span>|</span><a href="#37045278">next</a><span>|</span><label class="collapse" for="c-37043715">[-]</label><label class="expand" for="c-37043715">[1 more]</label></div><br/><div class="children"><div class="content">Yes, that may well be the case.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37045278" class="c"><input type="checkbox" id="c-37045278" checked=""/><div class="controls bullet"><span class="by">fsloth</span><span>|</span><a href="#37039903">root</a><span>|</span><a href="#37040989">parent</a><span>|</span><a href="#37041063">prev</a><span>|</span><a href="#37039522">next</a><span>|</span><label class="collapse" for="c-37045278">[-]</label><label class="expand" for="c-37045278">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it’s the ecosystem, not the paradigm.<p>In .net, most UI stuff is easy on C# and semi-painfull on F# because of limited tooling and examples. I don’t see any theoretical reason why a usable functional language could not be used everywhere. The ecosystem maturity and tooling are the limiting factors.</div><br/></div></div></div></div></div></div><div id="37039522" class="c"><input type="checkbox" id="c-37039522" checked=""/><div class="controls bullet"><span class="by">tablloyd</span><span>|</span><a href="#37039903">prev</a><span>|</span><a href="#37039777">next</a><span>|</span><label class="collapse" for="c-37039522">[-]</label><label class="expand" for="c-37039522">[33 more]</label></div><br/><div class="children"><div class="content">You can make the C# code much more F# like with records and a switch expression.<p>Eg: 
<a href="https:&#x2F;&#x2F;sharplab.io&#x2F;#v2:EYLgZgpghgLgrgJwgZwLQAUEEsC2UECeAwgPYB2yMCcAxjCQsgDQAmIA1AD4ACADAATcAjABYA3AFgAUH0FCAdABksZAI6Sp07gGZ+SGgxb9MJFrRgAKYQIByUHBCb8WEGrigAbY9hoQAlBo6eq6G&#x2F;ADyCC4IymQQFiZmdN6m5k4qMPwAinBQZDBYMAQBWroQZHA4&#x2F;AAiWMgGcHkAKgQADhD8AN7GEAi+eVAA5o78AGJYAB4QLACCOCQNGQC+JcEGkdW19XkWNXXzTa3tzW1OLm54XgBqnnD+gbr6oRFRFsqUADzPPTEQAHzhkW+KhQTl2WwyYP2MD80g60n4CMEujO7i8RE8NDgHlgEEaJBgnkwWF8&#x2F;AAvL94YiqV9osDkPIAMoVCwkLzk&#x2F;is+QJcxcnztABUHI88myuXyhT8&#x2F;GQAHcCjQABaUqkIuFSZXq&#x2F;gAN3w&#x2F;DavTKBKG&#x2F;Gl8rKGz2C34tU6&#x2F;GOEBA5vBdq5PT6hvaizJ&#x2F;z1bsGAsdUPk1w8t34AHp+EJeLwALJMJUahHahD8MATKazKHG01kAOW61dO0OyELZ1jSYzOaWz3stMVzMLeNqxOI5P8MgkEt5L3tzubKEJqmLDSLIA===" rel="nofollow noreferrer">https:&#x2F;&#x2F;sharplab.io&#x2F;#v2:EYLgZgpghgLgrgJwgZwLQAUEEsC2UECeAwgP...</a></div><br/><div id="37040257" class="c"><input type="checkbox" id="c-37040257" checked=""/><div class="controls bullet"><span class="by">jcpst</span><span>|</span><a href="#37039522">parent</a><span>|</span><a href="#37045206">next</a><span>|</span><label class="collapse" for="c-37040257">[-]</label><label class="expand" for="c-37040257">[29 more]</label></div><br/><div class="children"><div class="content">Microsoft has a good tutorial that showcases what you can do when designing with switch expressions in mind:<p><a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;csharp&#x2F;fundamentals&#x2F;tutorials&#x2F;pattern-matching" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;csharp&#x2F;fundamentals...</a><p>Probably one of my favorite recent-ish additions to the language.</div><br/><div id="37040459" class="c"><input type="checkbox" id="c-37040459" checked=""/><div class="controls bullet"><span class="by">rjbwork</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040257">parent</a><span>|</span><a href="#37045206">next</a><span>|</span><label class="collapse" for="c-37040459">[-]</label><label class="expand" for="c-37040459">[28 more]</label></div><br/><div class="children"><div class="content">The fact that they&#x27;ve added all of this great stuff and have STILL not added real discriminated unions is a damn travesty.  It would just so drastically improve the language.</div><br/><div id="37041833" class="c"><input type="checkbox" id="c-37041833" checked=""/><div class="controls bullet"><span class="by">ftcHn</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040459">parent</a><span>|</span><a href="#37041813">next</a><span>|</span><label class="collapse" for="c-37041833">[-]</label><label class="expand" for="c-37041833">[1 more]</label></div><br/><div class="children"><div class="content">Agree.<p>For now, you can get a reasonable DU via an [external library](<a href="https:&#x2F;&#x2F;github.com&#x2F;mcintyre321&#x2F;OneOf">https:&#x2F;&#x2F;github.com&#x2F;mcintyre321&#x2F;OneOf</a>).<p>[Nick Chapsas Video on Usage](<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=7z-xjijYfcI">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=7z-xjijYfcI</a>).</div><br/></div></div><div id="37041813" class="c"><input type="checkbox" id="c-37041813" checked=""/><div class="controls bullet"><span class="by">keithnz</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040459">parent</a><span>|</span><a href="#37041833">prev</a><span>|</span><a href="#37040478">next</a><span>|</span><label class="collapse" for="c-37041813">[-]</label><label class="expand" for="c-37041813">[7 more]</label></div><br/><div class="children"><div class="content">you can easily do them, I added a comment on the article showing how....<p><a href="https:&#x2F;&#x2F;github.com&#x2F;linkdotnet&#x2F;Blog.Discussions&#x2F;discussions&#x2F;73#discussioncomment-6663149">https:&#x2F;&#x2F;github.com&#x2F;linkdotnet&#x2F;Blog.Discussions&#x2F;discussions&#x2F;7...</a></div><br/><div id="37042911" class="c"><input type="checkbox" id="c-37042911" checked=""/><div class="controls bullet"><span class="by">Turskarama</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041813">parent</a><span>|</span><a href="#37045091">next</a><span>|</span><label class="collapse" for="c-37042911">[-]</label><label class="expand" for="c-37042911">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s missing the killer feature though, which is the compiler warning you when you haven&#x27;t done an exhaustive match.  That is the magic which makes adding new values easy instead of hunting through code to find if you missed the new case anywhere.</div><br/><div id="37044454" class="c"><input type="checkbox" id="c-37044454" checked=""/><div class="controls bullet"><span class="by">keithnz</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37042911">parent</a><span>|</span><a href="#37043522">next</a><span>|</span><label class="collapse" for="c-37044454">[-]</label><label class="expand" for="c-37044454">[1 more]</label></div><br/><div class="children"><div class="content">I used to think that.... but actually, in practice, and I&#x27;ve been using them for a long time now, it doesn&#x27;t make much difference, good tooling will generate the cases and help you find all instances pretty quick (I use Rider).</div><br/></div></div><div id="37043522" class="c"><input type="checkbox" id="c-37043522" checked=""/><div class="controls bullet"><span class="by">mycall</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37042911">parent</a><span>|</span><a href="#37044454">prev</a><span>|</span><a href="#37045091">next</a><span>|</span><label class="collapse" for="c-37043522">[-]</label><label class="expand" for="c-37043522">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve only needed discriminated unions inside C# when I&#x27;m using pinvoke to C DLLs.  I would think Rosylin supports some compiler warning for them, but I haven&#x27;t checked that.</div><br/></div></div></div></div><div id="37045091" class="c"><input type="checkbox" id="c-37045091" checked=""/><div class="controls bullet"><span class="by">rjbwork</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041813">parent</a><span>|</span><a href="#37042911">prev</a><span>|</span><a href="#37044889">next</a><span>|</span><label class="collapse" for="c-37045091">[-]</label><label class="expand" for="c-37045091">[1 more]</label></div><br/><div class="children"><div class="content">This is the kind of OG way to do it even before we had patterns.  There are a couple of problems with it, least of which is that I can&#x27;t then use one or both of those in a wider union elsewhere, because their definitions are bound to that parent class.  Ideally I&#x27;d like to see something very similar to the linked OneOf library.  That allows you to do both in-line definitions OR subclass from OneOf&lt;T1,T2,T3...&gt; to reify the union as a class as well.  If that is done and integrated properly into the pattern matching system, I believe it will yield very powerful expressiveness.</div><br/></div></div><div id="37044889" class="c"><input type="checkbox" id="c-37044889" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041813">parent</a><span>|</span><a href="#37045091">prev</a><span>|</span><a href="#37042059">next</a><span>|</span><label class="collapse" for="c-37044889">[-]</label><label class="expand" for="c-37044889">[1 more]</label></div><br/><div class="children"><div class="content">My guess is roles will land first in C#13.<p>Is is kind of a pain particularly when working across Typescript projects. OneOf is cool, but it DOES NOT work well with null and thus optional parameters.</div><br/></div></div><div id="37042059" class="c"><input type="checkbox" id="c-37042059" checked=""/><div class="controls bullet"><span class="by">LelouBil</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041813">parent</a><span>|</span><a href="#37044889">prev</a><span>|</span><a href="#37040478">next</a><span>|</span><label class="collapse" for="c-37042059">[-]</label><label class="expand" for="c-37042059">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s just like in Kotlin !</div><br/></div></div></div></div><div id="37040478" class="c"><input type="checkbox" id="c-37040478" checked=""/><div class="controls bullet"><span class="by">isanjay</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040459">parent</a><span>|</span><a href="#37041813">prev</a><span>|</span><a href="#37041748">next</a><span>|</span><label class="collapse" for="c-37040478">[-]</label><label class="expand" for="c-37040478">[1 more]</label></div><br/><div class="children"><div class="content">Would love to see DU in C#<p>I think they would add it by C# 14 or 15.</div><br/></div></div><div id="37041748" class="c"><input type="checkbox" id="c-37041748" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040459">parent</a><span>|</span><a href="#37040478">prev</a><span>|</span><a href="#37041161">next</a><span>|</span><label class="collapse" for="c-37041748">[-]</label><label class="expand" for="c-37041748">[2 more]</label></div><br/><div class="children"><div class="content">Given few people anticipated ValueTuple and C# adding a more direct tuple syntax, I feel like it is only a matter of time before C# adds discriminated unions.<p>(There are multiple proposals tracking the idea. This seems the most comprehensive and &quot;central&quot;: <a href="https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;csharplang&#x2F;issues&#x2F;7016">https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;csharplang&#x2F;issues&#x2F;7016</a>)</div><br/><div id="37044591" class="c"><input type="checkbox" id="c-37044591" checked=""/><div class="controls bullet"><span class="by">chem83</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041748">parent</a><span>|</span><a href="#37041161">next</a><span>|</span><label class="collapse" for="c-37044591">[-]</label><label class="expand" for="c-37044591">[1 more]</label></div><br/><div class="children"><div class="content">This seem to be a longer running one: <a href="https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;csharplang&#x2F;issues&#x2F;113">https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;csharplang&#x2F;issues&#x2F;113</a></div><br/></div></div></div></div><div id="37041161" class="c"><input type="checkbox" id="c-37041161" checked=""/><div class="controls bullet"><span class="by">jjtheblunt</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040459">parent</a><span>|</span><a href="#37041748">prev</a><span>|</span><a href="#37040549">next</a><span>|</span><label class="collapse" for="c-37041161">[-]</label><label class="expand" for="c-37041161">[3 more]</label></div><br/><div class="children"><div class="content">genuine misunderstanding : what do you mean by &quot;real&quot; discriminated unions.<p>I believe I am overlooking something (probably obvious even to me) since i know:<p><a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;fsharp&#x2F;language-reference&#x2F;discriminated-unions" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;fsharp&#x2F;language-ref...</a><p>is perhaps a misuse of the term in this context.<p>(I&#x27;m guessing you mean more like in Rust, but am not sure.)</div><br/><div id="37041365" class="c"><input type="checkbox" id="c-37041365" checked=""/><div class="controls bullet"><span class="by">Smaug123</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041161">parent</a><span>|</span><a href="#37040549">next</a><span>|</span><label class="collapse" for="c-37041365">[-]</label><label class="expand" for="c-37041365">[2 more]</label></div><br/><div class="children"><div class="content">The parent comment means that C# lacks DUs, not that F# lacks them.</div><br/><div id="37043298" class="c"><input type="checkbox" id="c-37043298" checked=""/><div class="controls bullet"><span class="by">jjtheblunt</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041365">parent</a><span>|</span><a href="#37040549">next</a><span>|</span><label class="collapse" for="c-37043298">[-]</label><label class="expand" for="c-37043298">[1 more]</label></div><br/><div class="children"><div class="content">Oh thank you</div><br/></div></div></div></div></div></div><div id="37040549" class="c"><input type="checkbox" id="c-37040549" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040459">parent</a><span>|</span><a href="#37041161">prev</a><span>|</span><a href="#37045206">next</a><span>|</span><label class="collapse" for="c-37040549">[-]</label><label class="expand" for="c-37040549">[13 more]</label></div><br/><div class="children"><div class="content">Maybe the rest of the .NET world has more important stuff to care about?<p>Anyone that cares so deeply about them can do the work on a F# assembly.</div><br/><div id="37045788" class="c"><input type="checkbox" id="c-37045788" checked=""/><div class="controls bullet"><span class="by">tokinonagare</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040549">parent</a><span>|</span><a href="#37042923">next</a><span>|</span><label class="collapse" for="c-37045788">[-]</label><label class="expand" for="c-37045788">[1 more]</label></div><br/><div class="children"><div class="content">Did you check the recents blog posts about C#12? Clearly the team has ran out of ideas for meaningful improvements to the language, while ignoring discriminated unions which is the most important concept missing in the language.<p>[1] <a href="https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;dotnet&#x2F;new-csharp-12-preview-features&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;dotnet&#x2F;new-csharp-12-preview-...</a>
[2] <a href="https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;dotnet&#x2F;new-csharp-12-preview-features&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;dotnet&#x2F;new-csharp-12-preview-...</a></div><br/></div></div><div id="37042923" class="c"><input type="checkbox" id="c-37042923" checked=""/><div class="controls bullet"><span class="by">Turskarama</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040549">parent</a><span>|</span><a href="#37045788">prev</a><span>|</span><a href="#37041221">next</a><span>|</span><label class="collapse" for="c-37042923">[-]</label><label class="expand" for="c-37042923">[3 more]</label></div><br/><div class="children"><div class="content">One of the problems here is that C# and F# interop isn&#x27;t always as easy as the article implies. F# has a lot of types which, when exposed in a public API, are ugly as sin in other .NET languages.</div><br/><div id="37044266" class="c"><input type="checkbox" id="c-37044266" checked=""/><div class="controls bullet"><span class="by">DaiPlusPlus</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37042923">parent</a><span>|</span><a href="#37041221">next</a><span>|</span><label class="collapse" for="c-37044266">[-]</label><label class="expand" for="c-37044266">[2 more]</label></div><br/><div class="children"><div class="content">That issue is not F# or C#&#x27;s fault - it&#x27;s a limitation of the expressiveness of the CLR&#x27;s type-system (it doesn&#x27;t support higher-kinded types, varadic type parameterization, or non-typename type parameters).<p>The hope and the expectation is that the CLR will gain support for first-class representations of F# concepts to allow for greater interop with C# scenarios, but the CLR&#x27;s development has always been tied to C#, with other CLR languages like VB.NET and C++&#x2F;CLI only exerting minor influence on the CLR&#x27;s design with most of their language-specific idiosyncrasies being handled by library-code and compile-time tricks instead (e.g. VB.NET&#x27;s &quot;On Error Resume Next&quot; statement is implemented by having the compiler wrap each individual statement in a try&#x2F;catch instead of having the CLR specifically support it (though in this specific case that&#x27;s probably a good idea as OnErrorResumeNext is a horrible idea I&#x27;m sure we all agree).</div><br/><div id="37044907" class="c"><input type="checkbox" id="c-37044907" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37044266">parent</a><span>|</span><a href="#37041221">next</a><span>|</span><label class="collapse" for="c-37044907">[-]</label><label class="expand" for="c-37044907">[1 more]</label></div><br/><div class="children"><div class="content">Minor correction, only Managed C++ and C++&#x2F;CLI have the full power of the CLI, many of the performance improvements in C# have been related to exposing those MSIL capabilities to C# as well, which before required generating bytecode directly.<p>Which is kind of ironic given how they usually leave C++&#x2F;CLI out of the picture, including the cross platform story.</div><br/></div></div></div></div></div></div><div id="37041221" class="c"><input type="checkbox" id="c-37041221" checked=""/><div class="controls bullet"><span class="by">diarrhea</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040549">parent</a><span>|</span><a href="#37042923">prev</a><span>|</span><a href="#37040761">next</a><span>|</span><label class="collapse" for="c-37041221">[-]</label><label class="expand" for="c-37041221">[6 more]</label></div><br/><div class="children"><div class="content">I’m not arguing there is more important stuff, but DUs would enhance the language on a wide, fundamental level, accelerating a lot of other advancements.</div><br/><div id="37044881" class="c"><input type="checkbox" id="c-37044881" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37041221">parent</a><span>|</span><a href="#37040761">next</a><span>|</span><label class="collapse" for="c-37044881">[-]</label><label class="expand" for="c-37044881">[5 more]</label></div><br/><div class="children"><div class="content">I have used Caml Light, Standard ML, Objective Caml, Haskell, and fail to see the greatness of such advancements.<p>C# has done great in the industry for the past 23 years without them.</div><br/><div id="37045110" class="c"><input type="checkbox" id="c-37045110" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37044881">parent</a><span>|</span><a href="#37040761">next</a><span>|</span><label class="collapse" for="c-37045110">[-]</label><label class="expand" for="c-37045110">[4 more]</label></div><br/><div class="children"><div class="content">This is a really interesting comment. Do you not miss the features and expressivity of those languages?</div><br/><div id="37045439" class="c"><input type="checkbox" id="c-37045439" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37045110">parent</a><span>|</span><a href="#37040761">next</a><span>|</span><label class="collapse" for="c-37045439">[-]</label><label class="expand" for="c-37045439">[3 more]</label></div><br/><div class="children"><div class="content">The only thing I really missed, has been adopted during the latest years, pattern matching.<p>Languages are not used in isolation, great IDE experience, and having mature libraries for every use I can think of, is more valuable than grammar and semantics.<p>Also a reason why I would rather do FP in C++23 than Haskell, even with all the warts and paper cuts it entails, ecosystem.</div><br/><div id="37045456" class="c"><input type="checkbox" id="c-37045456" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37045439">parent</a><span>|</span><a href="#37040761">next</a><span>|</span><label class="collapse" for="c-37045456">[-]</label><label class="expand" for="c-37045456">[2 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t F# or Scala hit these ecosystem needs whilst also delivering pattern matching (done well), sum types, etc?</div><br/><div id="37045745" class="c"><input type="checkbox" id="c-37045745" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37045456">parent</a><span>|</span><a href="#37040761">next</a><span>|</span><label class="collapse" for="c-37045745">[-]</label><label class="expand" for="c-37045745">[1 more]</label></div><br/><div class="children"><div class="content">If only the tooling was at the same level as C# and Java.<p>Additionally, they add friction to a development stack, now everyone needs to be confortable with two language stacks, and most of the time it isn&#x27;t really worth it.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37040761" class="c"><input type="checkbox" id="c-37040761" checked=""/><div class="controls bullet"><span class="by">Risord</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040549">parent</a><span>|</span><a href="#37041221">prev</a><span>|</span><a href="#37041840">next</a><span>|</span><label class="collapse" for="c-37040761">[-]</label><label class="expand" for="c-37040761">[1 more]</label></div><br/><div class="children"><div class="content">Yea I don’t care neither but business seems to care. If you listen closely their specs are pretty much bloated with DUs.</div><br/></div></div><div id="37041840" class="c"><input type="checkbox" id="c-37041840" checked=""/><div class="controls bullet"><span class="by">keithnz</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37040549">parent</a><span>|</span><a href="#37040761">prev</a><span>|</span><a href="#37045206">next</a><span>|</span><label class="collapse" for="c-37041840">[-]</label><label class="expand" for="c-37041840">[1 more]</label></div><br/><div class="children"><div class="content">its because they are easy to do in C# without explicit support, but the proposal is still in the works, but they argue a lot about the syntax and about exhaustive type checking for all the edge cases.</div><br/></div></div></div></div></div></div></div></div><div id="37045206" class="c"><input type="checkbox" id="c-37045206" checked=""/><div class="controls bullet"><span class="by">oaiey</span><span>|</span><a href="#37039522">parent</a><span>|</span><a href="#37040257">prev</a><span>|</span><a href="#37039666">next</a><span>|</span><label class="collapse" for="c-37045206">[-]</label><label class="expand" for="c-37045206">[1 more]</label></div><br/><div class="children"><div class="content">The blog is indeed the worst example you could run for this case. As you pointed out, modern C# would be same length (which is his &quot;wow&quot; effect on the functional core) but also has the F# not really a higher readability than the shown C# code.<p>F# &#x2F; C# interop ... cool thing, just to clarify.</div><br/></div></div><div id="37039666" class="c"><input type="checkbox" id="c-37039666" checked=""/><div class="controls bullet"><span class="by">sbelskie</span><span>|</span><a href="#37039522">parent</a><span>|</span><a href="#37045206">prev</a><span>|</span><a href="#37039777">next</a><span>|</span><label class="collapse" for="c-37039666">[-]</label><label class="expand" for="c-37039666">[2 more]</label></div><br/><div class="children"><div class="content">FWIW, this a switch expression rather than a switch statement.<p>But in any case I really love this addition to the language but the inability to have multi-line or block expression arms is a constant annoyance for me.<p>You can even combine these with the new one line record syntax to create a poor man’s discriminated union.</div><br/><div id="37039811" class="c"><input type="checkbox" id="c-37039811" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37039522">root</a><span>|</span><a href="#37039666">parent</a><span>|</span><a href="#37039777">next</a><span>|</span><label class="collapse" for="c-37039811">[-]</label><label class="expand" for="c-37039811">[1 more]</label></div><br/><div class="children"><div class="content">Your pedantic correction is actually important for another reason: the switch <i>expression</i> (unlike the switch <i>statement</i>) is defined at the language level as an expression (evaluating to&#x2F;“returning” a value), which would be ok except C# doesn’t (at the language level) have a void&#x2F;unit type, meaning the switch statement has to return an actual value, limiting the places you can use it compared to the F# counterpart (or the match expression from rust, etc) to very specific cases, usually those performing an assignment.<p>The workaround for that is the same as the workaround for the really lame one line limitation: you need to call a (preferably (static) local) function in the handler portion and then return something like `true` assigned to a discard. Hacks all around!<p>Eg<p>_ = foo switch a when … =&gt; CaseA(foo),
_ =&gt; CaseB(foo);<p>With CaseA and CaseB returning bool in order to call a function depending on the value of  foo rather than assign a value.</div><br/></div></div></div></div></div></div><div id="37039777" class="c"><input type="checkbox" id="c-37039777" checked=""/><div class="controls bullet"><span class="by">shortrounddev2</span><span>|</span><a href="#37039522">prev</a><span>|</span><a href="#37041277">next</a><span>|</span><label class="collapse" for="c-37039777">[-]</label><label class="expand" for="c-37039777">[42 more]</label></div><br/><div class="children"><div class="content">I want to like F#, but the syntax is just bonkers to me. There are keywords which are used in only one context, such as `then`, and sometimes an operator means something in one context, but something else in another. e.g: equality&#x2F;assignment<p><pre><code>    let a: int = 1 &#x2F;&#x2F; Assignment
    a = 3 &#x2F;&#x2F; Testing equality, will give you an error
    a &lt;- 4 &#x2F;&#x2F; Assignment, valid
    </code></pre>
There&#x27;s an article here with more things:<p><a href="https:&#x2F;&#x2F;alexyakunin.medium.com&#x2F;crying-out-loud-what-i-like-dislike-in-f-c88e746dfcde#:~:text=What%20I%20dislike%20in%20F%23%3A%201%20You%20have,6%20Awful%20type%20constructor%20syntax.%20...%20More%20items" rel="nofollow noreferrer">https:&#x2F;&#x2F;alexyakunin.medium.com&#x2F;crying-out-loud-what-i-like-d...</a><p>I want to like F# since I love C#, but I just want something closer to Scala, but for .Net</div><br/><div id="37040223" class="c"><input type="checkbox" id="c-37040223" checked=""/><div class="controls bullet"><span class="by">Smaug123</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040127">next</a><span>|</span><label class="collapse" for="c-37040223">[-]</label><label class="expand" for="c-37040223">[6 more]</label></div><br/><div class="children"><div class="content">Some of the complaints in the article are certainly valid (why would there be early-return in the context of computation expressions, but not in ordinary functions?), but some I claim are actually features, and some are false.<p>* Linearly ordered files. Several times in F# I have tracked down an issue simply by bisecting the codebase, which is impossible in C# because there&#x27;s no meaningful way to halve the code. I think I&#x27;ve only once ever had a problem with the linear ordering that wasn&#x27;t solved simply by reordering some files.<p>* Explicit type conversions. I&#x27;ve only ever found this awkward when interfacing with C# code that is designed around C#&#x27;s extreme laxity. Explicit is better than implicit!<p>* &quot;No struct tuples&quot; is false - that&#x27;s what the `struct` keyword is for. (It may have been true when the article was written.)<p>* Dot notation for indexing is now no longer necessary.<p>It&#x27;s certainly true that OO idioms are often clunky and feel strangely like they were constructed by Frankenstein, but then I almost never find myself trying to use them anyway. You don&#x27;t notice oddities in features which you never think of using! Similarly, the number of times I use `&lt;-` is so low that I don&#x27;t think of it as being incongruously odd - why shouldn&#x27;t there be a baroque syntax to indicate the place in your code that&#x27;s likely to have a 50% higher chance of bugs?</div><br/><div id="37041856" class="c"><input type="checkbox" id="c-37041856" checked=""/><div class="controls bullet"><span class="by">Smaug123</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040223">parent</a><span>|</span><a href="#37041824">next</a><span>|</span><label class="collapse" for="c-37041856">[-]</label><label class="expand" for="c-37041856">[3 more]</label></div><br/><div class="children"><div class="content">I have been informed that computation expressions do <i>not</i> have early return. For example, `async` does allow you to express what appears to be an early return, but only of the `unit` type, and in fact it doesn&#x27;t return early; it simply proceeds straight past the `return` keyword. Raised <a href="https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;fsharp&#x2F;issues&#x2F;15759">https:&#x2F;&#x2F;github.com&#x2F;dotnet&#x2F;fsharp&#x2F;issues&#x2F;15759</a> .</div><br/><div id="37044637" class="c"><input type="checkbox" id="c-37044637" checked=""/><div class="controls bullet"><span class="by">eyegor</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37041856">parent</a><span>|</span><a href="#37041824">next</a><span>|</span><label class="collapse" for="c-37044637">[-]</label><label class="expand" for="c-37044637">[2 more]</label></div><br/><div class="children"><div class="content">You can create true &quot;early return&quot; behavior by writing a lazy computation builder [0]. It feels esoteric but taking the time to craft a domain specific computation builder can drastically simplify the rest of your code base. I don&#x27;t know if there&#x27;s a more modern (more ergonomic) way to do this since this has been around since ~2012 or so.<p>Alternatively you can take the more functional approach and rewrite your function logic to use `if x then (value) else` throughout instead of `return (value)` or `yield (value)`. Early return isn&#x27;t really a thing in f# but if-else is.<p>[0] <a href="https:&#x2F;&#x2F;fsharpforfunandprofit.com&#x2F;posts&#x2F;computation-expressions-builder-part5&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;fsharpforfunandprofit.com&#x2F;posts&#x2F;computation-expressi...</a></div><br/><div id="37045132" class="c"><input type="checkbox" id="c-37045132" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37044637">parent</a><span>|</span><a href="#37041824">next</a><span>|</span><label class="collapse" for="c-37045132">[-]</label><label class="expand" for="c-37045132">[1 more]</label></div><br/><div class="children"><div class="content">most of the time early return can be replaced by function calls. what bites is that f# has no way to force TCO so sometimes it&#x27;s safer to write a loop with a mutable flag.</div><br/></div></div></div></div></div></div><div id="37041824" class="c"><input type="checkbox" id="c-37041824" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040223">parent</a><span>|</span><a href="#37041856">prev</a><span>|</span><a href="#37041552">next</a><span>|</span><label class="collapse" for="c-37041824">[-]</label><label class="expand" for="c-37041824">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;No struct tuples&quot; is false - that&#x27;s what the `struct` keyword is for. (It may have been true when the article was written.)<p>Quite probably. The underlying CLR ValueTuple type is a relatively recent .NET addition (and partly only exists because C# asked for it). (It was added in Fx 4.7 &#x2F; Core 1.0, whereas the reference type Tuple was added way back in Fx 4.0.)</div><br/></div></div></div></div><div id="37040127" class="c"><input type="checkbox" id="c-37040127" checked=""/><div class="controls bullet"><span class="by">louthy</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040223">prev</a><span>|</span><a href="#37040012">next</a><span>|</span><label class="collapse" for="c-37040127">[-]</label><label class="expand" for="c-37040127">[2 more]</label></div><br/><div class="children"><div class="content">&gt; but I just want something closer to Scala, but for .Net<p>That&#x27;s what I have been working toward with my language-ext library [1].  Including a ZIO like effects system [2], Haskell-like Pipes [3], Clojure-like concurrency primitives [4], the fastest immutable data-structures in .NET [5], and lots of other common FP bits.<p>Obviously more support for expression based programming would be welcome (and higher kinds), but you can do a lot with LINQ and a good integrated library surface.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;louthy&#x2F;language-ext">https:&#x2F;&#x2F;github.com&#x2F;louthy&#x2F;language-ext</a><p>[2] <a href="https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Effects&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Effec...</a><p>[3] <a href="https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Effects&#x2F;Pipes&#x2F;index.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Effec...</a><p>[4] <a href="https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Concurrency&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Concu...</a><p>[5] <a href="https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Immutable%20Collections&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;louthy.github.io&#x2F;language-ext&#x2F;LanguageExt.Core&#x2F;Immut...</a></div><br/><div id="37043704" class="c"><input type="checkbox" id="c-37043704" checked=""/><div class="controls bullet"><span class="by">yawaramin</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040127">parent</a><span>|</span><a href="#37040012">next</a><span>|</span><label class="collapse" for="c-37043704">[-]</label><label class="expand" for="c-37043704">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s cool, but question: why is the language-ext library documentation using Haskell&#x27;s Haddock to render the pages? Wouldn&#x27;t C#&#x27;s native documentation system be better?</div><br/></div></div></div></div><div id="37040012" class="c"><input type="checkbox" id="c-37040012" checked=""/><div class="controls bullet"><span class="by">sasmithjr</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040127">prev</a><span>|</span><a href="#37040409">next</a><span>|</span><label class="collapse" for="c-37040012">[-]</label><label class="expand" for="c-37040012">[17 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    a &lt;- 4 &#x2F;&#x2F; Assignment, valid
</code></pre>
This is a compiler error because you haven&#x27;t made your variable mutable.<p>Also, I actually like that initial assignment and equality testing both use =. I think of `let a = 1` to be less like assignment and more like `Assume that a = 1 is true`, so using the same operator (e.g. `a = 3`) makes sense for comparisons.<p>And `&lt;-` as a separate operator is good because mutability should be exceptional for many (most?) codebases.</div><br/><div id="37040128" class="c"><input type="checkbox" id="c-37040128" checked=""/><div class="controls bullet"><span class="by">shortrounddev2</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040012">parent</a><span>|</span><a href="#37040409">next</a><span>|</span><label class="collapse" for="c-37040128">[-]</label><label class="expand" for="c-37040128">[16 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    Assume that a = 1 is true
</code></pre>
I just don&#x27;t read code as I would a mathematical proof. I think in terms of what memory locations are equal to what in the stack, or the heap, and what is the lifecycle of that data in that memory address.<p>When I read &quot;int a = 1&quot; in C#, I implicitly translate that to &quot;take a 4 byte piece of memory on the stack, and set it equal to 1&quot;. I don&#x27;t think in the abstract sense of a formula.<p>When I see a class like:<p><pre><code>    class Foo {
        int x = 2;
        string xyz = &quot;Hello&quot;;
    }
    
    var foo = new Foo();
</code></pre>
I read this as &quot;allocate a chunk of memory big enough in the heap to insert a 4 byte integer and an 8 byte pointer. Set that 8 byte pointer equal to a static chunk of memory where the &quot;Hello&quot; string is pooled.</div><br/><div id="37040368" class="c"><input type="checkbox" id="c-37040368" checked=""/><div class="controls bullet"><span class="by">trealira</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040128">parent</a><span>|</span><a href="#37040476">next</a><span>|</span><label class="collapse" for="c-37040368">[-]</label><label class="expand" for="c-37040368">[1 more]</label></div><br/><div class="children"><div class="content">&gt; When I read &quot;int a = 1&quot; in C#, I implicitly translate that to &quot;take a 4 byte piece of memory on the stack, and set it equal to 1&quot;.<p>I think that&#x27;s overspecifying a bit. It could be kept in a register rather than the stack. And due to to the Single Static Assignment transformation that modern optimising compilers do, variables don&#x27;t correspond exsctly to registers anymore; each time you modify the variable, it becomew a new variable, and then the compiler removes or changes extraneous modifications and dead code. It only keeps track of the values that move through the code. You could really only count on variables corresponding exactly to stack space registers before the SSA form existed.</div><br/></div></div><div id="37040476" class="c"><input type="checkbox" id="c-37040476" checked=""/><div class="controls bullet"><span class="by">phillipcarter</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040128">parent</a><span>|</span><a href="#37040368">prev</a><span>|</span><a href="#37040456">next</a><span>|</span><label class="collapse" for="c-37040476">[-]</label><label class="expand" for="c-37040476">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I just don&#x27;t read code as I would a mathematical proof.<p>That&#x27;s fine, although I&#x27;d say that FP is probably just not for you. It&#x27;s very much a style of programming that lends itself more towards &quot;programming is akin to proofs&quot; than &quot;programming is about manipulating things on a von neumann architecture&quot;. Neither is an incorrect view of the world, but they do represent different ways of reasoning about things and it&#x27;s better to use a language more suited towards one way of thinking.</div><br/><div id="37041228" class="c"><input type="checkbox" id="c-37041228" checked=""/><div class="controls bullet"><span class="by">trealira</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040476">parent</a><span>|</span><a href="#37040456">next</a><span>|</span><label class="collapse" for="c-37041228">[-]</label><label class="expand" for="c-37041228">[1 more]</label></div><br/><div class="children"><div class="content">To be honest, when I read e.g. Haskell code, I don&#x27;t get the sense of a mathematical proof at all, not compared to proof assistants like Isabelle&#x2F;HOL, Coq, or Lean. It looks more like abstract, high-level wizardry, casting that transform the output of one function into the correct type so that it can become input into another; and yet it&#x27;s very abstract typing, nothing like proof-assistant tactics (though I admit I&#x27;m not all that experienced with proof assistants either).<p>I think immutability is more about making it easier to reason about the code than mathematical proofs specifically.</div><br/></div></div></div></div><div id="37040456" class="c"><input type="checkbox" id="c-37040456" checked=""/><div class="controls bullet"><span class="by">FrustratedMonky</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040128">parent</a><span>|</span><a href="#37040476">prev</a><span>|</span><a href="#37040409">next</a><span>|</span><label class="collapse" for="c-37040456">[-]</label><label class="expand" for="c-37040456">[12 more]</label></div><br/><div class="children"><div class="content">This is the biggest hurdle for a lot of people, at least for me. 
The immutability.<p>IF you have grown up doing objects, or C#, and thinking with variables.  Then &#x27;a=1&#x27; means a memory for variable a has a 1, and you should be able to change that.  But it is really a like a function where the function returns a 1.<p>&#x27;let a = 1&#x27; is not assigning the value 1 to variable a.<p>&#x27;a&#x27; is a function that returns a 1.<p>I think this is biggest reason why people trying to learn functional programming in languages that don&#x27;t enforce immutability, have a harder time than with languages that do enforce it.<p>Like moving to another country, and the people around you purposely don&#x27;t speak English so you have to learn the language.  
If the did speak English to help you, then you wouldn&#x27;t learn the language.<p>Enforcing immutability is like this.</div><br/><div id="37042581" class="c"><input type="checkbox" id="c-37042581" checked=""/><div class="controls bullet"><span class="by">debugnik</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040456">parent</a><span>|</span><a href="#37040713">next</a><span>|</span><label class="collapse" for="c-37042581">[-]</label><label class="expand" for="c-37042581">[2 more]</label></div><br/><div class="children"><div class="content">Well, most people learn about variables [1] before variables [2], so I find it funny that you think of the mutable ones as English.<p>Mutable variables are better explained as slots or cells, I think. Both OCaml and Rust have a concept of ref cells, for example (and they entirely replace mutable local variables in OCaml).<p>1: <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Variable_(mathematics)" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Variable_(mathematics)</a>
2: <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Variable_(computer_science)" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Variable_(computer_science)</a></div><br/><div id="37045152" class="c"><input type="checkbox" id="c-37045152" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37042581">parent</a><span>|</span><a href="#37040713">next</a><span>|</span><label class="collapse" for="c-37045152">[-]</label><label class="expand" for="c-37045152">[1 more]</label></div><br/><div class="children"><div class="content">F# has ref cells too but they are discouraged in favour of the mutable keyword</div><br/></div></div></div></div><div id="37040713" class="c"><input type="checkbox" id="c-37040713" checked=""/><div class="controls bullet"><span class="by">shortrounddev2</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040456">parent</a><span>|</span><a href="#37042581">prev</a><span>|</span><a href="#37040409">next</a><span>|</span><label class="collapse" for="c-37040713">[-]</label><label class="expand" for="c-37040713">[9 more]</label></div><br/><div class="children"><div class="content">I got the concept of immutability, but I inevitably ended up recreating OOP patterns whenever I tried working with F#. I do Asp.net WebAPI Projects and trying to do dependency injection ends up just translating C# to F# code rather writing idiomatic F#. I just don&#x27;t know if HTTP is something F# is really good at doing. I can see it being really useful if you were writing something math-heavy</div><br/><div id="37041135" class="c"><input type="checkbox" id="c-37041135" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040713">parent</a><span>|</span><a href="#37040922">next</a><span>|</span><label class="collapse" for="c-37041135">[-]</label><label class="expand" for="c-37041135">[5 more]</label></div><br/><div class="children"><div class="content">I make web apps with the SAFE stack. Using idiomatic F#, the experience has been great.<p>I can imagine that trying to translate C# to F# would be horrible. That is going against the grain.<p>I&#x27;d encourage you to have a look at the SAFE stack it&#x27;s really nice to use. 
<a href="https:&#x2F;&#x2F;safe-stack.github.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;safe-stack.github.io&#x2F;</a></div><br/><div id="37044164" class="c"><input type="checkbox" id="c-37044164" checked=""/><div class="controls bullet"><span class="by">runevault</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37041135">parent</a><span>|</span><a href="#37043130">next</a><span>|</span><label class="collapse" for="c-37044164">[-]</label><label class="expand" for="c-37044164">[1 more]</label></div><br/><div class="children"><div class="content">Any particular documents&#x2F;tutorials you recommend? Feels like SAFE doesn&#x27;t have a ton of either but I might just be looking in the wrong places. Like I admit I didn&#x27;t try the Dojo yet because that sounded like a second round of learning not the very basics, but I&#x27;m also only eh at web development</div><br/></div></div><div id="37043130" class="c"><input type="checkbox" id="c-37043130" checked=""/><div class="controls bullet"><span class="by">agent281</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37041135">parent</a><span>|</span><a href="#37044164">prev</a><span>|</span><a href="#37040922">next</a><span>|</span><label class="collapse" for="c-37043130">[-]</label><label class="expand" for="c-37043130">[3 more]</label></div><br/><div class="children"><div class="content">I tried using the safe stack, but it seemed like it wasn&#x27;t up to date with the latest version of .NET. Is that normal? Or did I hit a weird edge case in the ecosystem? (Or was it a case of PEBKAC?)</div><br/><div id="37043636" class="c"><input type="checkbox" id="c-37043636" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37043130">parent</a><span>|</span><a href="#37040922">next</a><span>|</span><label class="collapse" for="c-37043636">[-]</label><label class="expand" for="c-37043636">[2 more]</label></div><br/><div class="children"><div class="content">Yes you&#x27;re right that they are a little behind. Currently on .Net 6. That is a shame as .Net 7 seems to have made significant improvements to performance.<p>That said I don&#x27;t think there are any features that I&#x27;m missing out on being at .Net 6.<p>I think there is a limited number of maintainers of the SAFE template so they might not be able to keep on the bleeding edge. But it&#x27;s not that hard to update the components to the latest versions. As can be seen on this waiting pull request <a href="https:&#x2F;&#x2F;github.com&#x2F;SAFE-Stack&#x2F;SAFE-template&#x2F;pull&#x2F;564">https:&#x2F;&#x2F;github.com&#x2F;SAFE-Stack&#x2F;SAFE-template&#x2F;pull&#x2F;564</a><p>I should also mention that when I&#x27;ve hit issues with packages not working on the latest .Net version I&#x27;ve asked in the F# slack and twice had the maintainers fix things within a day so it would run at the latest version.</div><br/><div id="37044528" class="c"><input type="checkbox" id="c-37044528" checked=""/><div class="controls bullet"><span class="by">agent281</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37043636">parent</a><span>|</span><a href="#37040922">next</a><span>|</span><label class="collapse" for="c-37044528">[-]</label><label class="expand" for="c-37044528">[1 more]</label></div><br/><div class="children"><div class="content">I found the Slack channel to be pretty responsive and friendly. Still, I was a bit bummed because I kept running into issues. Some documentation links were broken and I tried to fix them, but I couldn&#x27;t get the project to build on Debian. I tried safe stack and had the wrong version of .NET. Once I got the right one, I had issues running the project (turned out the path did not support the &quot;#&quot; character). A lot of the documentation assumed you knew the .NET ecosystem, but I was coming from python. It seemed like I kept hitting sharp edges.<p>I&#x27;m still curious about F#. It has a lot of neat looking features (units of measure, computation expressions, active patterns) and has some of the easiest to read code I&#x27;ve seen. I just don&#x27;t know if my experience was representative or if it was abnormal. :&#x2F;</div><br/></div></div></div></div></div></div></div></div><div id="37040922" class="c"><input type="checkbox" id="c-37040922" checked=""/><div class="controls bullet"><span class="by">tremon</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040713">parent</a><span>|</span><a href="#37041135">prev</a><span>|</span><a href="#37041634">next</a><span>|</span><label class="collapse" for="c-37040922">[-]</label><label class="expand" for="c-37040922">[1 more]</label></div><br/><div class="children"><div class="content">F# is severely hampered by its standard library, which is object-oriented by design. Some newer things like fluent api&#x27;s or object initializers are more amenable to F#&#x27;s functional style, but on the whole my experience matches yours: as soon as you start interfacing with any .net library, it feels like you&#x27;re writing in a foreign language.</div><br/></div></div><div id="37041634" class="c"><input type="checkbox" id="c-37041634" checked=""/><div class="controls bullet"><span class="by">FrustratedMonky</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040713">parent</a><span>|</span><a href="#37040922">prev</a><span>|</span><a href="#37040409">next</a><span>|</span><label class="collapse" for="c-37041634">[-]</label><label class="expand" for="c-37041634">[2 more]</label></div><br/><div class="children"><div class="content">ah.  yeah, if you are doing web programming.  then for F#, you would use a library that is really like a DSL for the web.  One of the things in practice in F#, it seems the most useful libraries are written as DSL&#x27;s, so it is like a language extension for doing &#x27;whatever&#x27;.  To really get these web based ones, need to understand &quot;ELM architecture&quot;.<p>In any case.  I get it.  If you have done ASP.NET, and C#,  then suddenly this F# way of building web pages by programming through combining functions, it is hard to get over the hump.  Like brain has to re-change how to think through the whole flow.
Really, F# on the web is like ELM.<p>I like 
<a href="https:&#x2F;&#x2F;websharper.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;websharper.com&#x2F;</a><p>but other use this
<a href="https:&#x2F;&#x2F;suave.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;suave.io&#x2F;</a></div><br/><div id="37041959" class="c"><input type="checkbox" id="c-37041959" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37041634">parent</a><span>|</span><a href="#37040409">next</a><span>|</span><label class="collapse" for="c-37041959">[-]</label><label class="expand" for="c-37041959">[1 more]</label></div><br/><div class="children"><div class="content">Giraffe is another interesting one to explore: <a href="https:&#x2F;&#x2F;giraffe.wiki&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;giraffe.wiki&#x2F;</a><p>Giraffe is nice because it is itself built &quot;just&quot; as ASP.NET Core Middleware so it plays a bit more nicely than Suave with a mixed stack of C#-defined Middleware.<p>It&#x27;s more likely you accidentally fall back into just translating C# patterns to non-idiomatic F# with Giraffe, but it&#x27;s also nicer when in that case of needing to live in both worlds and use a mixture of libraries built for C# ASP.NET projects.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37040409" class="c"><input type="checkbox" id="c-37040409" checked=""/><div class="controls bullet"><span class="by">munchler</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040012">prev</a><span>|</span><a href="#37046063">next</a><span>|</span><label class="collapse" for="c-37040409">[-]</label><label class="expand" for="c-37040409">[2 more]</label></div><br/><div class="children"><div class="content">The reason this bothers you is because you&#x27;re trying to apply your imperative experience to a functional language. Once you stop doing that, F# will make a lot more sense. For example:<p><pre><code>    let a: int = 1 
</code></pre>
This isn&#x27;t assignment; it&#x27;s a binding that permanently associates the identifier `a` with the value `1`.</div><br/><div id="37043713" class="c"><input type="checkbox" id="c-37043713" checked=""/><div class="controls bullet"><span class="by">yawaramin</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040409">parent</a><span>|</span><a href="#37046063">next</a><span>|</span><label class="collapse" for="c-37043713">[-]</label><label class="expand" for="c-37043713">[1 more]</label></div><br/><div class="children"><div class="content">Not permanently, just for the remainder of the enclosing scope.</div><br/></div></div></div></div><div id="37046063" class="c"><input type="checkbox" id="c-37046063" checked=""/><div class="controls bullet"><span class="by">contravariant</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040409">prev</a><span>|</span><a href="#37041440">next</a><span>|</span><label class="collapse" for="c-37046063">[-]</label><label class="expand" for="c-37046063">[1 more]</label></div><br/><div class="children"><div class="content">From a mathematical standpoint those make perfect sense.<p>The only problem with it is that you can&#x27;t write things like:<p>let x^2 + y^2: float = 1</div><br/></div></div><div id="37041440" class="c"><input type="checkbox" id="c-37041440" checked=""/><div class="controls bullet"><span class="by">Eji1700</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37046063">prev</a><span>|</span><a href="#37039839">next</a><span>|</span><label class="collapse" for="c-37041440">[-]</label><label class="expand" for="c-37041440">[1 more]</label></div><br/><div class="children"><div class="content">This is such a weird example to me, mostly because I&#x27;ve yet to come across a language that doesn&#x27;t have awkward gotchas, and that one is one of the easiest (&quot;ah yeah...= is only assignment in a let..weird&quot;).  The article cited ends with -<p>&gt; That’s it for now. Hopefully, some of these issues will be addressed in future versions of F#, though as I said, most of this is simply annoying &#x2F; inconsistent. It shouldn’t stop anyone from using this awesome language<p>and as other have pointed out, some of this is complaining about features or not working with the language.  File order matters should probably exist in more languages (the amount of debugging&#x2F;code reading time it saves is insane) and complaining about explicit typing because it&#x27;s slowing down your contest code is just eye rollingly silly to me.</div><br/></div></div><div id="37039839" class="c"><input type="checkbox" id="c-37039839" checked=""/><div class="controls bullet"><span class="by">daxfohl</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37041440">prev</a><span>|</span><a href="#37041102">next</a><span>|</span><label class="collapse" for="c-37039839">[-]</label><label class="expand" for="c-37039839">[1 more]</label></div><br/><div class="children"><div class="content">I felt the same, but once you get used to the syntax, it&#x27;s much nicer for functional first coding. If you find yourself fighting the syntax a lot, you&#x27;re probably using it in an imperative style that is not idiomatic in f# anyway.</div><br/></div></div><div id="37041102" class="c"><input type="checkbox" id="c-37041102" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37039839">prev</a><span>|</span><a href="#37040367">next</a><span>|</span><label class="collapse" for="c-37041102">[-]</label><label class="expand" for="c-37041102">[1 more]</label></div><br/><div class="children"><div class="content">Regarding the syntax complaints, this is because F# is functional first. Using mutable variables is hard while using immutable ones is easier.</div><br/></div></div><div id="37040367" class="c"><input type="checkbox" id="c-37040367" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37041102">prev</a><span>|</span><a href="#37039945">next</a><span>|</span><label class="collapse" for="c-37040367">[-]</label><label class="expand" for="c-37040367">[1 more]</label></div><br/><div class="children"><div class="content">Lines 1 and 2 there don&#x27;t mean different things. They&#x27;re both attempting to bind&#x2F;unify `a` with a value. It&#x27;s just that in the second case, `a` already <i>has</i> a <i>different</i> value, so the binding fails.</div><br/></div></div><div id="37039945" class="c"><input type="checkbox" id="c-37039945" checked=""/><div class="controls bullet"><span class="by">FrustratedMonky</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040367">prev</a><span>|</span><a href="#37040379">next</a><span>|</span><label class="collapse" for="c-37039945">[-]</label><label class="expand" for="c-37039945">[3 more]</label></div><br/><div class="children"><div class="content">It takes a bit of time to grok. But then it becomes pretty simple and streamlined.<p>Recently I did some F# conversion to Python, and the Python code really did seem ugly and ungainly in comparison.</div><br/><div id="37040162" class="c"><input type="checkbox" id="c-37040162" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37039945">parent</a><span>|</span><a href="#37040379">next</a><span>|</span><label class="collapse" for="c-37040162">[-]</label><label class="expand" for="c-37040162">[2 more]</label></div><br/><div class="children"><div class="content">Out of curiosity, what was the motivation for the conversion?
And did you use a tool (ChatGPT even?) to help?</div><br/><div id="37040316" class="c"><input type="checkbox" id="c-37040316" checked=""/><div class="controls bullet"><span class="by">FrustratedMonky</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040162">parent</a><span>|</span><a href="#37040379">next</a><span>|</span><label class="collapse" for="c-37040316">[-]</label><label class="expand" for="c-37040316">[1 more]</label></div><br/><div class="children"><div class="content">I used FABLE, that is like F# transpiler to other languages. It compiles F# to other languages.
The Python seems hard to read, but could be my unfamiliarity with Python.</div><br/></div></div></div></div></div></div><div id="37040379" class="c"><input type="checkbox" id="c-37040379" checked=""/><div class="controls bullet"><span class="by">FrustratedMonky</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37039945">prev</a><span>|</span><a href="#37039866">next</a><span>|</span><label class="collapse" for="c-37040379">[-]</label><label class="expand" for="c-37040379">[3 more]</label></div><br/><div class="children"><div class="content">F# is the Scala for .NET.<p>What about it is lacking?<p>I&#x27;m asking because at one time I was weighing moving to Scala, but the F# algebraic types and compiler seemed more complete.<p>Is it syntax? that does take some getting used to.</div><br/><div id="37041319" class="c"><input type="checkbox" id="c-37041319" checked=""/><div class="controls bullet"><span class="by">hardlianotion</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040379">parent</a><span>|</span><a href="#37040752">next</a><span>|</span><label class="collapse" for="c-37041319">[-]</label><label class="expand" for="c-37041319">[1 more]</label></div><br/><div class="children"><div class="content">In what way are the algebraic types more complete in F# than Scala?  I was interested in F# much earlier in the day, but that was when Mono was not really a thing and I was not really going to go back to Windows.</div><br/></div></div><div id="37040752" class="c"><input type="checkbox" id="c-37040752" checked=""/><div class="controls bullet"><span class="by">shortrounddev2</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040379">parent</a><span>|</span><a href="#37041319">prev</a><span>|</span><a href="#37039866">next</a><span>|</span><label class="collapse" for="c-37040752">[-]</label><label class="expand" for="c-37040752">[1 more]</label></div><br/><div class="children"><div class="content">I meant the syntax, yeah</div><br/></div></div></div></div><div id="37039866" class="c"><input type="checkbox" id="c-37039866" checked=""/><div class="controls bullet"><span class="by">galkk</span><span>|</span><a href="#37039777">parent</a><span>|</span><a href="#37040379">prev</a><span>|</span><a href="#37041277">next</a><span>|</span><label class="collapse" for="c-37039866">[-]</label><label class="expand" for="c-37039866">[3 more]</label></div><br/><div class="children"><div class="content">The example with &lt;- is not an assignment, it is called shadowing and introduces new value with same name, old one isn’t changed<p>But I agree with some ad hoc words criticism</div><br/><div id="37040993" class="c"><input type="checkbox" id="c-37040993" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37039866">parent</a><span>|</span><a href="#37041277">next</a><span>|</span><label class="collapse" for="c-37040993">[-]</label><label class="expand" for="c-37040993">[2 more]</label></div><br/><div class="children"><div class="content">It is indeed assignment: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;fsharp&#x2F;language-reference&#x2F;symbol-and-operator-reference&#x2F;#symbols-used-in-imperative-expressions" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;fsharp&#x2F;language-ref...</a><p>shadowing would be a second &#x27;let a = 2&#x27;</div><br/><div id="37043032" class="c"><input type="checkbox" id="c-37043032" checked=""/><div class="controls bullet"><span class="by">galkk</span><span>|</span><a href="#37039777">root</a><span>|</span><a href="#37040993">parent</a><span>|</span><a href="#37041277">next</a><span>|</span><label class="collapse" for="c-37043032">[-]</label><label class="expand" for="c-37043032">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, my bad but the code from grandparent is also incorrect, as for it to be compilable variable must be declared as mutable.<p>That confused me, as I assumed that code there is compiling. But the only way for it compile is shadowing, so yeah, I kind of assumed that to shadow is to use this syntax. I&#x27;m not working with F# for some time, so should&#x27;ve checked before posting.</div><br/></div></div></div></div></div></div></div></div><div id="37041277" class="c"><input type="checkbox" id="c-37041277" checked=""/><div class="controls bullet"><span class="by">xenadu02</span><span>|</span><a href="#37039777">prev</a><span>|</span><a href="#37040468">next</a><span>|</span><label class="collapse" for="c-37041277">[-]</label><label class="expand" for="c-37041277">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s another power when using the same underlying runtime environment as well: no bridging overhead. If your specific problem set involves a lot of boundary crossing bridging overhead can easily dominate all else.<p>Long ago I integrated IronJS (written in F#) into a project written in C#. IronJS at the time was a very primitive JS compiler though it was a real compiler using the runtime machinery to emit Expression objects that were JIT&#x27;d into native code.<p>I was very excited about switching to V8 for the vastly improved performance. To my shock and horror once I got it working the performance was worse. It turned out most scripts called our API a lot (the equivalent of the DOM in a browser). Bridging between CLR types and V8 (C++) types completely erased V8&#x27;s superior performance. No amount of lazy bridging and zero-copy abstractions were enough and I eventually abandoned that branch.<p>It was a humbling experience that I learned a great deal from.</div><br/><div id="37045244" class="c"><input type="checkbox" id="c-37045244" checked=""/><div class="controls bullet"><span class="by">oaiey</span><span>|</span><a href="#37041277">parent</a><span>|</span><a href="#37040468">next</a><span>|</span><label class="collapse" for="c-37045244">[-]</label><label class="expand" for="c-37045244">[1 more]</label></div><br/><div class="children"><div class="content">There is a nuance I love to bring up: .NET biggest strength in the apps market today is the best support for native interop. Bridging .NET to Swift&#x2F;Objective-C or .NET to (Android) Java. Every time there are layer in between, you loose. Either by loosing performance (your case) or by loosing capabilities (like the typical Cordova, React Native or Flutter Plugin).<p>Btw, work of Miguel de Icaza via the Xamarin acquisition.</div><br/></div></div></div></div><div id="37040468" class="c"><input type="checkbox" id="c-37040468" checked=""/><div class="controls bullet"><span class="by">munchler</span><span>|</span><a href="#37041277">prev</a><span>|</span><a href="#37040483">next</a><span>|</span><label class="collapse" for="c-37040468">[-]</label><label class="expand" for="c-37040468">[9 more]</label></div><br/><div class="children"><div class="content">I love seeing F# mentioned on Hacker News, but this article in particular is a bit dubious. Yes, you can use F# from C#, but it gets frustrating quickly.<p>Fortunately, almost anything you can do in C# can be done better in F# anyway, so there&#x27;s really very little need to use C# at all once you take the plunge into functional programming.</div><br/><div id="37040618" class="c"><input type="checkbox" id="c-37040618" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#37040468">parent</a><span>|</span><a href="#37044837">next</a><span>|</span><label class="collapse" for="c-37040618">[-]</label><label class="expand" for="c-37040618">[2 more]</label></div><br/><div class="children"><div class="content">I agree - I guess this article is more about a (very) gradual way to adopt F# into an existing C# code base, rather than an inherently useful combination of C# and F#.</div><br/><div id="37040650" class="c"><input type="checkbox" id="c-37040650" checked=""/><div class="controls bullet"><span class="by">munchler</span><span>|</span><a href="#37040468">root</a><span>|</span><a href="#37040618">parent</a><span>|</span><a href="#37044837">next</a><span>|</span><label class="collapse" for="c-37040650">[-]</label><label class="expand" for="c-37040650">[1 more]</label></div><br/><div class="children"><div class="content">True, but for any serious integration the F# library should expose an API that&#x27;s designed to be more idiomatic for C# callers. When I see `ListModule.OfSeq` being called from C#, I cringe a little.</div><br/></div></div></div></div><div id="37044837" class="c"><input type="checkbox" id="c-37044837" checked=""/><div class="controls bullet"><span class="by">sinuhe69</span><span>|</span><a href="#37040468">parent</a><span>|</span><a href="#37040618">prev</a><span>|</span><a href="#37042808">next</a><span>|</span><label class="collapse" for="c-37044837">[-]</label><label class="expand" for="c-37044837">[2 more]</label></div><br/><div class="children"><div class="content">C# is required for the UI programming, though. I don’t know any F# module, which interacts and manipulates UI elements. Yes, creating a web UI is possible, but not for the desktop.<p>I’d love if someone could point the way around (because until today, I’ve to combine both languages for desktop appt)</div><br/><div id="37045902" class="c"><input type="checkbox" id="c-37045902" checked=""/><div class="controls bullet"><span class="by">Smaug123</span><span>|</span><a href="#37040468">root</a><span>|</span><a href="#37044837">parent</a><span>|</span><a href="#37042808">next</a><span>|</span><label class="collapse" for="c-37045902">[-]</label><label class="expand" for="c-37045902">[1 more]</label></div><br/><div class="children"><div class="content">Avalonia does Just Work from F#; it even has `dotnet new` templates for F# (<a href="https:&#x2F;&#x2F;github.com&#x2F;AvaloniaUI&#x2F;avalonia-dotnet-templates">https:&#x2F;&#x2F;github.com&#x2F;AvaloniaUI&#x2F;avalonia-dotnet-templates</a>).</div><br/></div></div></div></div><div id="37042808" class="c"><input type="checkbox" id="c-37042808" checked=""/><div class="controls bullet"><span class="by">ClimaxGravely</span><span>|</span><a href="#37040468">parent</a><span>|</span><a href="#37044837">prev</a><span>|</span><a href="#37040483">next</a><span>|</span><label class="collapse" for="c-37042808">[-]</label><label class="expand" for="c-37042808">[4 more]</label></div><br/><div class="children"><div class="content">Would you mind sharing some of the frustrations you have had using F# from C#? I haven&#x27;t hit anything too hard yet but I also haven&#x27;t worked on any large projects that are setup like that.<p>In regards to the C# vs F# issues. Have you tried using WPF or any desktop GUI frameworks from F#? If so how was the experience?</div><br/><div id="37044023" class="c"><input type="checkbox" id="c-37044023" checked=""/><div class="controls bullet"><span class="by">munchler</span><span>|</span><a href="#37040468">root</a><span>|</span><a href="#37042808">parent</a><span>|</span><a href="#37040483">next</a><span>|</span><label class="collapse" for="c-37044023">[-]</label><label class="expand" for="c-37044023">[3 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s a quick example of the kind of trouble you can easily get into when calling idiomatic F# from C#: <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;1952114&#x2F;call-a-higher-order-f-function-from-c-sharp" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;1952114&#x2F;call-a-higher-or...</a><p>It&#x27;s been a few years, but yes, I&#x27;ve implemented WPF apps in F# and found it quite doable. FsXaml was very helpful: <a href="https:&#x2F;&#x2F;fsprojects.github.io&#x2F;FsXaml&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;fsprojects.github.io&#x2F;FsXaml&#x2F;</a></div><br/><div id="37045228" class="c"><input type="checkbox" id="c-37045228" checked=""/><div class="controls bullet"><span class="by">ClimaxGravely</span><span>|</span><a href="#37040468">root</a><span>|</span><a href="#37044023">parent</a><span>|</span><a href="#37040483">next</a><span>|</span><label class="collapse" for="c-37045228">[-]</label><label class="expand" for="c-37045228">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for the information! I figured I hadn&#x27;t really scratched the surface on this stuff.<p>I&#x27;m quite interested in making a GUI from a functional language. This could be a good way to kick the tires.</div><br/><div id="37045258" class="c"><input type="checkbox" id="c-37045258" checked=""/><div class="controls bullet"><span class="by">oaiey</span><span>|</span><a href="#37040468">root</a><span>|</span><a href="#37045228">parent</a><span>|</span><a href="#37040483">next</a><span>|</span><label class="collapse" for="c-37045258">[-]</label><label class="expand" for="c-37045258">[1 more]</label></div><br/><div class="children"><div class="content">Reactive Programming I guess is the key to GUIs from F#&#x2F;FP perspective. It is the modern way of doing things anyway but requires then a UI stack which is optimized for it.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37040483" class="c"><input type="checkbox" id="c-37040483" checked=""/><div class="controls bullet"><span class="by">jimmaswell</span><span>|</span><a href="#37040468">prev</a><span>|</span><a href="#37041405">next</a><span>|</span><label class="collapse" for="c-37040483">[-]</label><label class="expand" for="c-37040483">[5 more]</label></div><br/><div class="children"><div class="content">The F# is certainly nice, but the C# is odd. This is a textbook example of either inheritance or interfaces. I did inheritance here but it would be trivial to change it to an interface.<p><a href="https:&#x2F;&#x2F;dotnetfiddle.net&#x2F;F5fPZy" rel="nofollow noreferrer">https:&#x2F;&#x2F;dotnetfiddle.net&#x2F;F5fPZy</a><p>The class implementations add a bit of upfront verbosity but the calculation at the end is arguably nicer to read: that method is concerned with applying the discounts, but in the F# case it has to know how to apply each type of discount, while the C# encapsulates that in the Discount implementation.<p><pre><code>  decimal subtotal = OrderLines.Sum(ol =&gt; ol.Product.Price \* ol.Quantity);
  return Discount?.Apply(subtotal) ?? subtotal;
</code></pre>
vs<p><pre><code>  let subtotal = List.sumBy (fun ol -&gt; ol.Product.Price \* (decimal ol.Quantity)) orderLines
  let totalDiscount =
   discount
   |&gt; Option.map (fun d -&gt; 
    match d with
    | Percentage p -&gt; subtotal \* (decimal p &#x2F; 100M)
    | FixedAmount f -&gt; f)
   |&gt; Option.defaultValue 0M
  subtotal - totalDiscount
</code></pre>
Though I&#x27;m also pretty sure F# could do the same thing with the classes if you wanted. And someone else pointed out you can write some C# that looks the same as the F# if you use a switch statement. And I&#x27;m pretty sure you could make it look even more F# if you used more Linq.<p>I guess the F# matching is pretty much like interface&#x2F;class checking as follows? I don&#x27;t see the functional difference:<p><pre><code>    if (discount is IPercetage percentage) { .. subtotal \* percentage.value &#x2F; 100 ...
    else if (discount is IFixed fixed) { .. subtotal - fixed.value ...
</code></pre>
And you could do even more with some newer C# features like anonymous classes etc.<p>I&#x27;m not left feeling like I&#x27;m missing out on anything without discriminated unions in particular. I&#x27;d be interested to see some cases where the functional nature of F# does make a large improvement over the equivalent C# though.</div><br/><div id="37041407" class="c"><input type="checkbox" id="c-37041407" checked=""/><div class="controls bullet"><span class="by">Smaug123</span><span>|</span><a href="#37040483">parent</a><span>|</span><a href="#37041607">next</a><span>|</span><label class="collapse" for="c-37041407">[-]</label><label class="expand" for="c-37041407">[1 more]</label></div><br/><div class="children"><div class="content">The main difference is the totality checking. A discriminated union guarantees that you&#x27;ve handled the <i>entire</i> modelled domain (and nothing else); repeated interface checking merely guarantees that you&#x27;ve handled a <i>subset</i> of it (and also you may have handled a bunch of other stuff).<p>It&#x27;s so <i>comforting</i> to know up front that you&#x27;ve done everything you need to do!</div><br/></div></div><div id="37041607" class="c"><input type="checkbox" id="c-37041607" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#37040483">parent</a><span>|</span><a href="#37041407">prev</a><span>|</span><a href="#37040530">next</a><span>|</span><label class="collapse" for="c-37041607">[-]</label><label class="expand" for="c-37041607">[2 more]</label></div><br/><div class="children"><div class="content">You can also hide the logic away in F#:<p><pre><code>  let calcDiscount =
    function
    | Percentage p -&gt; subtotal * (decimal p &#x2F; 100M)
    | FixedAmount f -&gt; f
</code></pre>
And then:<p><pre><code>  let totalDiscount =
    discount
    |&gt; Option.map calcDiscount
    |&gt; Option.defaultValue 0M
</code></pre>
F# is missing some of the convenience operators, but you could easily add these yourself if you wanted:<p><pre><code>  let (?) x f = Option.map f x
  let (|?) x y = Option.defaultValue y x
</code></pre>
and so totalDiscount becomes:<p><pre><code>  let totalDiscount = discount ? calcDiscount |? subtotal
</code></pre>
The benefit of DU&#x27;s over inheritance for me is that you can&#x27;t tie yourself to any additional details that get stuck onto Discount (since you can&#x27;t extend DU&#x27;s). If you have loosely coupled data you won&#x27;t have sort-of-relevant methods possibly mutating shared state. The discount calc only takes a simple thing hidden away by the Discount DU, and so there are fewer plates you&#x27;re trying to keep spinning in your head (all of &quot;what could be&quot;).</div><br/><div id="37043029" class="c"><input type="checkbox" id="c-37043029" checked=""/><div class="controls bullet"><span class="by">vips7L</span><span>|</span><a href="#37040483">root</a><span>|</span><a href="#37041607">parent</a><span>|</span><a href="#37040530">next</a><span>|</span><label class="collapse" for="c-37043029">[-]</label><label class="expand" for="c-37043029">[1 more]</label></div><br/><div class="children"><div class="content">Inheritance isn’t necessary here. You achieve the same loose coupling with interfaces and you gain the benefit of your Order type not having to know how to calculate every single discount.</div><br/></div></div></div></div></div></div><div id="37041405" class="c"><input type="checkbox" id="c-37041405" checked=""/><div class="controls bullet"><span class="by">i_s</span><span>|</span><a href="#37040483">prev</a><span>|</span><a href="#37039895">next</a><span>|</span><label class="collapse" for="c-37041405">[-]</label><label class="expand" for="c-37041405">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue .NET isn&#x27;t actually that great of a multi language platform. We have a mixed F# and C# solution at work, and that split sometimes causes a lot of friction. If you have some C# code that depends on F# code, that constrains your ability to have F# code depend on C# code. You need to be very careful about how you organize your work to get a good solution (more than on other platforms.)<p>In the JVM world, mixing languages works a lot better, because you can compile .class files instead of whole assemblies. So mixing clojure and Java, for example, is very easy to do in any order.</div><br/></div></div><div id="37039895" class="c"><input type="checkbox" id="c-37039895" checked=""/><div class="controls bullet"><span class="by">bob1029</span><span>|</span><a href="#37041405">prev</a><span>|</span><a href="#37045100">next</a><span>|</span><label class="collapse" for="c-37039895">[-]</label><label class="expand" for="c-37039895">[2 more]</label></div><br/><div class="children"><div class="content">I know it&#x27;s a really trivial matter, but I actually got to use the tuple swap thing the other day and it felt <i>so</i> good.<p><pre><code>  (ItemA, ItemB) = (ItemB, ItemA)
</code></pre>
~50% of our methods don&#x27;t even have block bodies anymore... Switch expressions are our bread &amp; butter now. Once you learn how to combine expressions + switch + LINQ, you have the triforce of poor-man&#x27;s functional programming inside the perfect imperative realm by which to protect it.</div><br/><div id="37044407" class="c"><input type="checkbox" id="c-37044407" checked=""/><div class="controls bullet"><span class="by">kkukshtel</span><span>|</span><a href="#37039895">parent</a><span>|</span><a href="#37045100">next</a><span>|</span><label class="collapse" for="c-37044407">[-]</label><label class="expand" for="c-37044407">[1 more]</label></div><br/><div class="children"><div class="content">Do you have any other code examples or resources that speak more to this?</div><br/></div></div></div></div><div id="37045100" class="c"><input type="checkbox" id="c-37045100" checked=""/><div class="controls bullet"><span class="by">datadeft</span><span>|</span><a href="#37039895">prev</a><span>|</span><a href="#37039189">next</a><span>|</span><label class="collapse" for="c-37045100">[-]</label><label class="expand" for="c-37045100">[1 more]</label></div><br/><div class="children"><div class="content">Its is great to see F# getting more popular.<p>Please note that seq is not a data structure but an iterator.<p><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4232130&#x2F;an-implementation-problem-of-f-seq" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4232130&#x2F;an-implementatio...</a></div><br/></div></div><div id="37039189" class="c"><input type="checkbox" id="c-37039189" checked=""/><div class="controls bullet"><span class="by">ctenb</span><span>|</span><a href="#37045100">prev</a><span>|</span><a href="#37039919">next</a><span>|</span><label class="collapse" for="c-37039189">[-]</label><label class="expand" for="c-37039189">[4 more]</label></div><br/><div class="children"><div class="content">You could make the C# code shorter by using the one-liner record syntax. That would compare the SLOC more fairly.</div><br/><div id="37042664" class="c"><input type="checkbox" id="c-37042664" checked=""/><div class="controls bullet"><span class="by">piskov</span><span>|</span><a href="#37039189">parent</a><span>|</span><a href="#37039919">next</a><span>|</span><label class="collapse" for="c-37042664">[-]</label><label class="expand" for="c-37042664">[3 more]</label></div><br/><div class="children"><div class="content">Here’s  version with modern C#:<p><pre><code>  public record Product(string Name, decimal Price);
  public record OrderLine(Product Product, int Quantity);

  public abstract record Discount 
  {
      public record Percentage(decimal Value) : Discount();
      public record FixedAmount(decimal Value) : Discount();
  }

  public record Order(List&lt;OrderLine&gt; OrderLines, Discount? Discount)
  {
      public decimal CalculateTotalPrice()
      {
          var subtotal = OrderLines.Sum(x =&gt; x.Product.Price * x.Quantity);
          return subtotal - Discount switch
          {
              Discount.Percentage { } percentage =&gt; subtotal * percentage.Value &#x2F; 100M,
              Discount.FixedAmount { } amount =&gt; amount.Value,
              _ =&gt; 0M
          };
      }
  }</code></pre></div><br/><div id="37045218" class="c"><input type="checkbox" id="c-37045218" checked=""/><div class="controls bullet"><span class="by">ctenb</span><span>|</span><a href="#37039189">root</a><span>|</span><a href="#37042664">parent</a><span>|</span><a href="#37042930">next</a><span>|</span><label class="collapse" for="c-37045218">[-]</label><label class="expand" for="c-37045218">[1 more]</label></div><br/><div class="children"><div class="content">To be fair, you&#x27;d still need a private constructor in Discount, otherwise the sumtype is not closed, like it is in the F# case. And the percentage Value should be `float` :)</div><br/></div></div><div id="37042930" class="c"><input type="checkbox" id="c-37042930" checked=""/><div class="controls bullet"><span class="by">CharlieDigital</span><span>|</span><a href="#37039189">root</a><span>|</span><a href="#37042664">parent</a><span>|</span><a href="#37045218">prev</a><span>|</span><a href="#37039919">next</a><span>|</span><label class="collapse" for="c-37042930">[-]</label><label class="expand" for="c-37042930">[1 more]</label></div><br/><div class="children"><div class="content">I noted the same thing: the C# was unusually verbose.<p>I thought about switching to F# a few months back, but as I started working with it, it wasn&#x27;t enough of a benefit over C#.</div><br/></div></div></div></div></div></div><div id="37039919" class="c"><input type="checkbox" id="c-37039919" checked=""/><div class="controls bullet"><span class="by">leblancfg</span><span>|</span><a href="#37039189">prev</a><span>|</span><a href="#37039462">next</a><span>|</span><label class="collapse" for="c-37039919">[-]</label><label class="expand" for="c-37039919">[1 more]</label></div><br/><div class="children"><div class="content">Someone at Microsoft better get a trademark on “Powerchord”.</div><br/></div></div><div id="37039462" class="c"><input type="checkbox" id="c-37039462" checked=""/><div class="controls bullet"><span class="by">danjc</span><span>|</span><a href="#37039919">prev</a><span>|</span><a href="#37040055">next</a><span>|</span><label class="collapse" for="c-37039462">[-]</label><label class="expand" for="c-37039462">[1 more]</label></div><br/><div class="children"><div class="content">Brevity and clarity are often conflated. Sometimes they&#x27;re actually inversely correlated.</div><br/></div></div><div id="37040055" class="c"><input type="checkbox" id="c-37040055" checked=""/><div class="controls bullet"><span class="by">pshirshov</span><span>|</span><a href="#37039462">prev</a><span>|</span><a href="#37042765">next</a><span>|</span><label class="collapse" for="c-37040055">[-]</label><label class="expand" for="c-37040055">[1 more]</label></div><br/><div class="children"><div class="content">Well, I&#x27;ve tried. Interoperability is imperfect and it&#x27;s painful to use both languages in one project.</div><br/></div></div><div id="37042765" class="c"><input type="checkbox" id="c-37042765" checked=""/><div class="controls bullet"><span class="by">ClimaxGravely</span><span>|</span><a href="#37040055">prev</a><span>|</span><a href="#37044607">next</a><span>|</span><label class="collapse" for="c-37042765">[-]</label><label class="expand" for="c-37042765">[1 more]</label></div><br/><div class="children"><div class="content">I had a great time writing a static site generator for my website. Initially I wrote it all in C# but I started writing specific components in F#. Currently the only F# portion is the sync-over-FTP feature but I do plan to convert a lot of the data processing portion to F# where if makes sense.<p>I do look forward to having opportunities to mix the two. C# + a gui framework and F# for the non-gui logic works really well in my experience.</div><br/></div></div><div id="37044607" class="c"><input type="checkbox" id="c-37044607" checked=""/><div class="controls bullet"><span class="by">Wolfenstein98k</span><span>|</span><a href="#37042765">prev</a><span>|</span><a href="#37040508">next</a><span>|</span><label class="collapse" for="c-37044607">[-]</label><label class="expand" for="c-37044607">[2 more]</label></div><br/><div class="children"><div class="content">&quot;The combined power of F# and C#&quot;<p>So, a power chord?</div><br/></div></div><div id="37040508" class="c"><input type="checkbox" id="c-37040508" checked=""/><div class="controls bullet"><span class="by">hd4</span><span>|</span><a href="#37044607">prev</a><span>|</span><a href="#37041376">next</a><span>|</span><label class="collapse" for="c-37040508">[-]</label><label class="expand" for="c-37040508">[4 more]</label></div><br/><div class="children"><div class="content">While there&#x27;s a thread on F#, I&#x27;d like to complain about how I attempted to create&#x2F;publish a F# dotnet app in entirely using the terminal (i.e. without the bloat of Visual Studio) and it doesn&#x27;t seem to be supported, which was unfortunate.<p><pre><code>  dotnet new webapp -lang F# -o MyFSharpWebApp -f net8.0
</code></pre>
was the command I used. This was in Windows 10. I&#x27;ll probably attempt it again in WSL2 when I have time, though I&#x27;m not expecting better results.</div><br/><div id="37041424" class="c"><input type="checkbox" id="c-37041424" checked=""/><div class="controls bullet"><span class="by">phillipcarter</span><span>|</span><a href="#37040508">parent</a><span>|</span><a href="#37041455">next</a><span>|</span><label class="collapse" for="c-37041424">[-]</label><label class="expand" for="c-37041424">[1 more]</label></div><br/><div class="children"><div class="content">This is, unfortunately, a consequence of the annoying naming Microsoft does (I am allowed to complain about this because I worked on the .NET team -- nobody can name things we can&#x27;t).<p>You&#x27;ll note that in the list of default templates:<p>ASP.NET Core Empty  web                 [C#],F#     Web&#x2F;Empty<p>ASP.NET Core gR...  grpc                [C#]        Web&#x2F;gRPC<p>ASP.NET Core We...  webapi              [C#],F#    Web&#x2F;WebAPI<p>ASP.NET Core We...  webapp,razor        [C#]    Web&#x2F;MVC&#x2F;Razor Pages<p>ASP.NET Core We...  mvc                 [C#],F#     Web&#x2F;MVC<p>ASP.NET Core wi...  angular             [C#]      Web&#x2F;MVC&#x2F;SPA<p>ASP.NET Core wi...  react               [C#]      Web&#x2F;MVC&#x2F;SPA<p>&quot;webapp&quot; is actually a flavor of MVC with Razor Pages to define the UI, which is itself a flavor of UI that&#x27;s different from the typical HTML&#x2F;JS&#x2F;react setup most people use.<p>I think the cleanest way to do web development with .NET is to leave .NET-isms out of the UI (.NET UI is, ironically, its weakest link now) and keep it on the server.</div><br/></div></div><div id="37041455" class="c"><input type="checkbox" id="c-37041455" checked=""/><div class="controls bullet"><span class="by">Smaug123</span><span>|</span><a href="#37040508">parent</a><span>|</span><a href="#37041424">prev</a><span>|</span><a href="#37040690">next</a><span>|</span><label class="collapse" for="c-37041455">[-]</label><label class="expand" for="c-37041455">[1 more]</label></div><br/><div class="children"><div class="content">The templates are all listed at <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;core&#x2F;tools&#x2F;dotnet-new" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;dotnet&#x2F;core&#x2F;tools&#x2F;dotnet-n...</a> . You picked a template that is indeed not supported in F#; the F# ecosystem is generally oriented more around the SAFE stack and Fable.</div><br/></div></div><div id="37040690" class="c"><input type="checkbox" id="c-37040690" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#37040508">parent</a><span>|</span><a href="#37041455">prev</a><span>|</span><a href="#37041376">next</a><span>|</span><label class="collapse" for="c-37040690">[-]</label><label class="expand" for="c-37040690">[1 more]</label></div><br/><div class="children"><div class="content">&gt; dotnet new list<p>Shows all the available templates - you could give mvc or web a try?</div><br/></div></div></div></div><div id="37041376" class="c"><input type="checkbox" id="c-37041376" checked=""/><div class="controls bullet"><span class="by">kerblang</span><span>|</span><a href="#37040508">prev</a><span>|</span><a href="#37040375">next</a><span>|</span><label class="collapse" for="c-37041376">[-]</label><label class="expand" for="c-37041376">[4 more]</label></div><br/><div class="children"><div class="content">Surprised to see that C# doesn&#x27;t have an Option&#x2F;Optional type&#x2F;class yet. Even Java made it over that hump.</div><br/><div id="37045310" class="c"><input type="checkbox" id="c-37045310" checked=""/><div class="controls bullet"><span class="by">oaiey</span><span>|</span><a href="#37041376">parent</a><span>|</span><a href="#37042611">next</a><span>|</span><label class="collapse" for="c-37045310">[-]</label><label class="expand" for="c-37045310">[1 more]</label></div><br/><div class="children"><div class="content">IMHO, they are working already a while on discriminated unions. Not yet there.</div><br/></div></div><div id="37042611" class="c"><input type="checkbox" id="c-37042611" checked=""/><div class="controls bullet"><span class="by">qwerasdf5</span><span>|</span><a href="#37041376">parent</a><span>|</span><a href="#37045310">prev</a><span>|</span><a href="#37040375">next</a><span>|</span><label class="collapse" for="c-37042611">[-]</label><label class="expand" for="c-37042611">[2 more]</label></div><br/><div class="children"><div class="content">C# has had nullable types for quite a while.</div><br/><div id="37044549" class="c"><input type="checkbox" id="c-37044549" checked=""/><div class="controls bullet"><span class="by">consilient</span><span>|</span><a href="#37041376">root</a><span>|</span><a href="#37042611">parent</a><span>|</span><a href="#37040375">next</a><span>|</span><label class="collapse" for="c-37044549">[-]</label><label class="expand" for="c-37044549">[1 more]</label></div><br/><div class="children"><div class="content">Not quite the same thing. Nullable types are (undiscriminated) unions, `Option` is a sum (= discriminated union).</div><br/></div></div></div></div></div></div><div id="37040375" class="c"><input type="checkbox" id="c-37040375" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37041376">prev</a><span>|</span><a href="#37039360">next</a><span>|</span><label class="collapse" for="c-37040375">[-]</label><label class="expand" for="c-37040375">[6 more]</label></div><br/><div class="children"><div class="content">C# has basically zero value once you learn F#.</div><br/><div id="37040470" class="c"><input type="checkbox" id="c-37040470" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#37040375">parent</a><span>|</span><a href="#37040515">next</a><span>|</span><label class="collapse" for="c-37040470">[-]</label><label class="expand" for="c-37040470">[3 more]</label></div><br/><div class="children"><div class="content">IDE support? Library support?</div><br/><div id="37040867" class="c"><input type="checkbox" id="c-37040867" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37040375">root</a><span>|</span><a href="#37040470">parent</a><span>|</span><a href="#37040515">next</a><span>|</span><label class="collapse" for="c-37040867">[-]</label><label class="expand" for="c-37040867">[2 more]</label></div><br/><div class="children"><div class="content">They are largely the same between F# and C#</div><br/><div id="37045679" class="c"><input type="checkbox" id="c-37045679" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37040375">root</a><span>|</span><a href="#37040867">parent</a><span>|</span><a href="#37040515">next</a><span>|</span><label class="collapse" for="c-37045679">[-]</label><label class="expand" for="c-37045679">[1 more]</label></div><br/><div class="children"><div class="content">Says the one that never used the Visual Studio designers in a F# project.</div><br/></div></div></div></div></div></div><div id="37040515" class="c"><input type="checkbox" id="c-37040515" checked=""/><div class="controls bullet"><span class="by">tester756</span><span>|</span><a href="#37040375">parent</a><span>|</span><a href="#37040470">prev</a><span>|</span><a href="#37039360">next</a><span>|</span><label class="collapse" for="c-37040515">[-]</label><label class="expand" for="c-37040515">[2 more]</label></div><br/><div class="children"><div class="content">except projects and job postings count?</div><br/><div id="37040876" class="c"><input type="checkbox" id="c-37040876" checked=""/><div class="controls bullet"><span class="by">pharmakom</span><span>|</span><a href="#37040375">root</a><span>|</span><a href="#37040515">parent</a><span>|</span><a href="#37039360">next</a><span>|</span><label class="collapse" for="c-37040876">[-]</label><label class="expand" for="c-37040876">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m only talking about the part where you solve a problem with code.</div><br/></div></div></div></div></div></div><div id="37039360" class="c"><input type="checkbox" id="c-37039360" checked=""/><div class="controls bullet"><span class="by">guhidalg</span><span>|</span><a href="#37040375">prev</a><span>|</span><a href="#37040511">next</a><span>|</span><label class="collapse" for="c-37039360">[-]</label><label class="expand" for="c-37039360">[14 more]</label></div><br/><div class="children"><div class="content">I developed a very non-trivial ASP.NET Core application mixing F# and C#. I learned you have to take the best parts of both languages to get maximum benefits. Specifically you&#x27;re going to want a project graph that looks like this:<p>1. Your top-level project should be a csproj where all your &quot;web&quot; stuff is. Controller routes, DTOs, startup code, etc... This project is responsible for converting data into nice objects that are passed to the F# code.<p>2. A mid-tier project written in F#, an fsproj. This is where you can be nice, pure, functional, live out your best life pretending C# doesn&#x27;t exist. However you will eventually run into issues interfacing with external libraries, EF Core, lack of standard library support for whatever you&#x27;re doing. That&#x27;s ok! The final layer will solve it.<p>3. A foundational project written in C#. This project&#x27;s job is to hide the ugly and make your F# project into the functional programming nirvana you know it can be. Wrap those dependencies into pure functions, write your entity framework junk, use all the latest C# language and runtime features and expose them to your F# project.<p>So something like:<p>C# -&gt; F# -&gt; C#<p>Ultimately, I decided that C# really is good enough and I didn&#x27;t see enough benefits to continue using F#.</div><br/><div id="37039648" class="c"><input type="checkbox" id="c-37039648" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#37039360">parent</a><span>|</span><a href="#37039778">next</a><span>|</span><label class="collapse" for="c-37039648">[-]</label><label class="expand" for="c-37039648">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Ultimately, I decided that C# really is good enough and I didn&#x27;t see enough benefits to continue using F#.<p>I’ve heard this story repeated so many times over the years. The responsiveness of the C# language team in particular (as opposed to the runtime or ASP teams, etc) is remarkable and the thoughtful inclusion of functional-inspired features over the years has really dramatically improved QOL for C# devs. (With the exception of some annoying carve outs like going too far with trying to please JS&#x2F;node refugees with not only introducing support for top-level statements but also pushing it as the default in the various templates, the botched delivery of global includes, and other such changes —- but to be fair, many of these were implemented correctly and without any complaints on my end in the language itself but my quibbles are more with the delivery, integration, and polish in the IDE and downstream by teams like the ASP.NET Core one.)<p>After a long pause during the denouement days of the .NET Framework, the C# of today would be unrecognizable to C# devs of yesteryear, and the changes keep coming.<p>(All this is from the POV of a developer that’s been using C# since 2002; back when J# was a thing and I was slowly adapting to writing code in a case-sensitive manner after years of VB.)</div><br/></div></div><div id="37039778" class="c"><input type="checkbox" id="c-37039778" checked=""/><div class="controls bullet"><span class="by">daxfohl</span><span>|</span><a href="#37039360">parent</a><span>|</span><a href="#37039648">prev</a><span>|</span><a href="#37040568">next</a><span>|</span><label class="collapse" for="c-37039778">[-]</label><label class="expand" for="c-37039778">[7 more]</label></div><br/><div class="children"><div class="content">Funny, I did exactly the opposite! I really enjoyed f#&#x27;s functional-style web framework Suave, but put it on top of services written in OO style, which all used immutable f# records and lists under the hood. It ended up being a lot easier to do all this in f# than mix the two languages, since f# is dual purpose. I called it sandwich-oriented programming.</div><br/><div id="37040421" class="c"><input type="checkbox" id="c-37040421" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37039778">parent</a><span>|</span><a href="#37040789">next</a><span>|</span><label class="collapse" for="c-37040421">[-]</label><label class="expand" for="c-37040421">[4 more]</label></div><br/><div class="children"><div class="content">Surely C# qualifies more as &quot;multi-purpose&quot; than F# does? It&#x27;s certainly more of a multi-paradigm language - my own C# code freely mixes functional, imperative and OO- style (multiple implementations of the same interface etc.) techniques, the latter two of which I struggle to envision being improved by rewriting in F#.</div><br/><div id="37042377" class="c"><input type="checkbox" id="c-37042377" checked=""/><div class="controls bullet"><span class="by">aslfjiasf</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37040421">parent</a><span>|</span><a href="#37040789">next</a><span>|</span><label class="collapse" for="c-37042377">[-]</label><label class="expand" for="c-37042377">[3 more]</label></div><br/><div class="children"><div class="content">&quot;F# is designed as a hybrid functional&#x2F;OO language, so it can do virtually everything that C# can do.&quot;<p><a href="https:&#x2F;&#x2F;fsharpforfunandprofit.com&#x2F;why-use-fsharp&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;fsharpforfunandprofit.com&#x2F;why-use-fsharp&#x2F;</a></div><br/><div id="37043104" class="c"><input type="checkbox" id="c-37043104" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37042377">parent</a><span>|</span><a href="#37040789">next</a><span>|</span><label class="collapse" for="c-37043104">[-]</label><label class="expand" for="c-37043104">[2 more]</label></div><br/><div class="children"><div class="content">Yes, but from what I&#x27;ve seen, many OO patterns in F# are actually a good deal more verbose than they are in C# (whereas the reverse is true for functional patterns).  And writing procedural&#x2F;imperative-style logic in F# feels like it&#x27;s fighting against what the language was designed for.</div><br/><div id="37045478" class="c"><input type="checkbox" id="c-37045478" checked=""/><div class="controls bullet"><span class="by">daxfohl</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37043104">parent</a><span>|</span><a href="#37040789">next</a><span>|</span><label class="collapse" for="c-37045478">[-]</label><label class="expand" for="c-37045478">[1 more]</label></div><br/><div class="children"><div class="content">Don Syme makes a distinction between OOP and &quot;object programming&quot; various places on the internet. Object programming is quite natural in F#; possibly even moreso than in C#. And it&#x27;s certainly not more verbose in F#.<p>That&#x27;s what I meant by &quot;OO services&quot; in original comment: a class (or composition of classes) that maintains some state e.g. a connection, maybe some cached data or whatever, and wraps some third party services or DB calls, etc, and optionally create an interface it implements, for IoC and&#x2F;or unit testing. This works quite well in F#. F#&#x27;s anonymous classes are a great conciseness aid there too (C#&#x27;s aren&#x27;t sufficient; they&#x27;re really just anonymous records).<p>It&#x27;s just all the class inheritance hierarchy stuff that is uglier in F#.</div><br/></div></div></div></div></div></div></div></div><div id="37040789" class="c"><input type="checkbox" id="c-37040789" checked=""/><div class="controls bullet"><span class="by">guhidalg</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37039778">parent</a><span>|</span><a href="#37040421">prev</a><span>|</span><a href="#37040568">next</a><span>|</span><label class="collapse" for="c-37040789">[-]</label><label class="expand" for="c-37040789">[2 more]</label></div><br/><div class="children"><div class="content">Using a framework like Suave probably reduces the &quot;impedance mismatch&quot; between ASP.NET and F#. If I had used that, I probably wouldn&#x27;t have needed to split the code base into C# and F# parts.</div><br/><div id="37040969" class="c"><input type="checkbox" id="c-37040969" checked=""/><div class="controls bullet"><span class="by">evntdrvn</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37040789">parent</a><span>|</span><a href="#37040568">next</a><span>|</span><label class="collapse" for="c-37040969">[-]</label><label class="expand" for="c-37040969">[1 more]</label></div><br/><div class="children"><div class="content">I’ve tried to use “ASP.NET Core with F# underneath” for several projects, thinking it would make for an easier bridge for the rest of the team members who were very comfortable with asp.net already.<p>And each time, it turned out to be a mistake.<p>Things went way more smoothly by just using an F#-native web framework like Falco or Suave or Giraffe or …</div><br/></div></div></div></div></div></div><div id="37040568" class="c"><input type="checkbox" id="c-37040568" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039360">parent</a><span>|</span><a href="#37039778">prev</a><span>|</span><a href="#37039549">next</a><span>|</span><label class="collapse" for="c-37040568">[-]</label><label class="expand" for="c-37040568">[2 more]</label></div><br/><div class="children"><div class="content">Yes, that is the ultimate problem with F#, Microsoft behaves as if it was a kind of mistake to add it to the Visual Studio 2010, the experience always lags behind C# and VB, leaves to the community to do most of the work, and now with stuff like code generators being used everywhere is getting worse.</div><br/><div id="37041208" class="c"><input type="checkbox" id="c-37041208" checked=""/><div class="controls bullet"><span class="by">soulbadguy</span><span>|</span><a href="#37039360">root</a><span>|</span><a href="#37040568">parent</a><span>|</span><a href="#37039549">next</a><span>|</span><label class="collapse" for="c-37041208">[-]</label><label class="expand" for="c-37041208">[1 more]</label></div><br/><div class="children"><div class="content">+1</div><br/></div></div></div></div><div id="37039549" class="c"><input type="checkbox" id="c-37039549" checked=""/><div class="controls bullet"><span class="by">phillipcarter</span><span>|</span><a href="#37039360">parent</a><span>|</span><a href="#37040568">prev</a><span>|</span><a href="#37041854">next</a><span>|</span><label class="collapse" for="c-37039549">[-]</label><label class="expand" for="c-37039549">[1 more]</label></div><br/><div class="children"><div class="content">This is an excellent distillation of how you can effectively mix F# and C# in the same codebase.</div><br/></div></div><div id="37041854" class="c"><input type="checkbox" id="c-37041854" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#37039360">parent</a><span>|</span><a href="#37039549">prev</a><span>|</span><a href="#37040511">next</a><span>|</span><label class="collapse" for="c-37041854">[-]</label><label class="expand" for="c-37041854">[1 more]</label></div><br/><div class="children"><div class="content">F# deserves a project like Phoenix that the entire community can get behind. World-class docs, zero getting started friction(docs, examples, and libraries all just work), and bomber F# APIs over any ubiquitous C# libs it might need.<p>It&#x27;s just too piecemeal right now.</div><br/></div></div></div></div><div id="37040511" class="c"><input type="checkbox" id="c-37040511" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37039360">prev</a><span>|</span><a href="#37039997">next</a><span>|</span><label class="collapse" for="c-37040511">[-]</label><label class="expand" for="c-37040511">[3 more]</label></div><br/><div class="children"><div class="content">C++&#x2F;CLI is missing from the picture, even if it is only available on Windows.</div><br/><div id="37040680" class="c"><input type="checkbox" id="c-37040680" checked=""/><div class="controls bullet"><span class="by">TillE</span><span>|</span><a href="#37040511">parent</a><span>|</span><a href="#37039997">next</a><span>|</span><label class="collapse" for="c-37040680">[-]</label><label class="expand" for="c-37040680">[2 more]</label></div><br/><div class="children"><div class="content">C++&#x2F;CLI really just exists for creating .NET bindings to C++ libraries, right?<p>If you&#x27;ve got a C interface, LibraryImport in C# is sophisticated enough to get the job done on its own.</div><br/><div id="37041081" class="c"><input type="checkbox" id="c-37041081" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37040511">root</a><span>|</span><a href="#37040680">parent</a><span>|</span><a href="#37039997">next</a><span>|</span><label class="collapse" for="c-37041081">[-]</label><label class="expand" for="c-37041081">[1 more]</label></div><br/><div class="children"><div class="content">Kind of, originally the plan was to have .NET everywhere.<p>.NET 1.x brought Managed C++, which was replaced by C++&#x2F;CLI in .NET 2.0.<p>However Office and WinDev were never big fans of it, so its main purpose has been as easier interop for C++ libraries indeed.<p>Also COM and C, as for anyone that is comfortable in C++, is is easier than getting all marshaling annotations  correct.<p>However it isn&#x27;t an option for code that has to be portable, as it relies on Visual C++ toolchain.</div><br/></div></div></div></div></div></div><div id="37039997" class="c"><input type="checkbox" id="c-37039997" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#37040511">prev</a><span>|</span><a href="#37039424">next</a><span>|</span><label class="collapse" for="c-37039997">[-]</label><label class="expand" for="c-37039997">[1 more]</label></div><br/><div class="children"><div class="content">Yay, the diagram of F#, C#, and VB .net.  Because C++&#x2F;CLI does not exist.</div><br/></div></div><div id="37039424" class="c"><input type="checkbox" id="c-37039424" checked=""/><div class="controls bullet"><span class="by">Const-me</span><span>|</span><a href="#37039997">prev</a><span>|</span><a href="#37041950">next</a><span>|</span><label class="collapse" for="c-37039424">[-]</label><label class="expand" for="c-37039424">[3 more]</label></div><br/><div class="children"><div class="content">The C# version is slightly better, though.<p>Binary floating-point numbers are less than ideal for keeping discount percentage because a value like 12.3% can’t be represented exactly.</div><br/><div id="37040309" class="c"><input type="checkbox" id="c-37040309" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#37039424">parent</a><span>|</span><a href="#37041950">next</a><span>|</span><label class="collapse" for="c-37040309">[-]</label><label class="expand" for="c-37040309">[2 more]</label></div><br/><div class="children"><div class="content">Not sure why it&#x27;s not &quot;Percentage of decimal&quot; though?</div><br/><div id="37040363" class="c"><input type="checkbox" id="c-37040363" checked=""/><div class="controls bullet"><span class="by">Const-me</span><span>|</span><a href="#37039424">root</a><span>|</span><a href="#37040309">parent</a><span>|</span><a href="#37041950">next</a><span>|</span><label class="collapse" for="c-37040363">[-]</label><label class="expand" for="c-37040363">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely, it better be a decimal. These numbers in .NET are decimal floating-points, they can represent all these 12.34% without any loss of precision.</div><br/></div></div></div></div></div></div><div id="37041950" class="c"><input type="checkbox" id="c-37041950" checked=""/><div class="controls bullet"><span class="by">raydiatian</span><span>|</span><a href="#37039424">prev</a><span>|</span><a href="#37040736">next</a><span>|</span><label class="collapse" for="c-37041950">[-]</label><label class="expand" for="c-37041950">[1 more]</label></div><br/><div class="children"><div class="content">Say it with me everybody<p>“Trade offs”</div><br/></div></div><div id="37040736" class="c"><input type="checkbox" id="c-37040736" checked=""/><div class="controls bullet"><span class="by">einpoklum</span><span>|</span><a href="#37041950">prev</a><span>|</span><label class="collapse" for="c-37040736">[-]</label><label class="expand" for="c-37040736">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Where C# is the most dominant language in the .NET world<p>Why would we want to live in the &quot;.NET world&quot;? I say adopt a programming language, or languages-ecosystem, that&#x27;s not useful only in the &quot;[some niche] world&quot;, but more-or-less everywhere. Whether it&#x27;s older and well-trodden or newer and up-and-coming, I don&#x27;t see the benefit of limiting yourself that way.</div><br/><div id="37042092" class="c"><input type="checkbox" id="c-37042092" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37040736">parent</a><span>|</span><label class="collapse" for="c-37042092">[-]</label><label class="expand" for="c-37042092">[3 more]</label></div><br/><div class="children"><div class="content">It is not really a &quot;niche&quot;. The &quot;.NET world&quot; <i>is</i> more-or-less everywhere: it is cross-platform, open source, and runs on Linux&#x2F;Windows&#x2F;macOS&#x2F;iOS&#x2F;Android&#x2F;more.<p>The &quot;.NET world&quot; is comparable to the &quot;JVM world&quot; or even the &quot;LLVM world&quot;: a virtual machine target with a varied language ecosystem and a lot of real machines supported at runtime (in a cross-platform, open source way today).<p>&quot;.NET world&quot; is defining a complex language ecosystem, and it probably isn&#x27;t as &quot;limited&quot; an ecosystem as you seem to think.</div><br/><div id="37045730" class="c"><input type="checkbox" id="c-37045730" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#37040736">root</a><span>|</span><a href="#37042092">parent</a><span>|</span><a href="#37045458">next</a><span>|</span><label class="collapse" for="c-37045730">[-]</label><label class="expand" for="c-37045730">[1 more]</label></div><br/><div class="children"><div class="content">In theory, yes.<p>In practice, most of the RPFs that we get for UNIX deployments, rather want us to provide solutions in ecosystems born out of the UNIX world and aren&#x27;t keen in hearing about .NET, even if it supports UNIX platforms nowadays.<p>Back in the .NET Core 3.1 days, I had a migration project from .NET Framework to Java, as the customer didn&#x27;t want to stay in the .NET ecosystem, and given the amount of code they had to rewrite to be fully functional in .NET Core, they decided to move elsewhere.<p>They aren&#x27;t alone, Sitecore once the the lighthouse of enterprise .NET CMS, is now a polyglot platform, where most of the new products are written in a mix of Java and JS&#x2F;TS.<p>Given the recent efforts in WCF Core compatibility and System.Web wrappers, it is quite clear that the decision to create a Python 2 &#x2F; 3 schism in the .NET world is taking its toll.</div><br/></div></div><div id="37045458" class="c"><input type="checkbox" id="c-37045458" checked=""/><div class="controls bullet"><span class="by">einpoklum</span><span>|</span><a href="#37040736">root</a><span>|</span><a href="#37042092">parent</a><span>|</span><a href="#37045730">prev</a><span>|</span><label class="collapse" for="c-37045458">[-]</label><label class="expand" for="c-37045458">[1 more]</label></div><br/><div class="children"><div class="content">And are .NET applications actually getting run on Linux, MacOS, and Android? To a significant extent?</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>