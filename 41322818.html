<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724490066257" as="style"/><link rel="stylesheet" href="styles.css?v=1724490066257"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.val.town/blog/codegen/">How we built Townie – an app that generates fullstack apps</a> <span class="domain">(<a href="https://blog.val.town">blog.val.town</a>)</span></div><div class="subtext"><span>stevekrouse</span> | <span>22 comments</span></div><br/><div><div id="41335261" class="c"><input type="checkbox" id="c-41335261" checked=""/><div class="controls bullet"><span class="by">devbent</span><span>|</span><a href="#41333823">next</a><span>|</span><label class="collapse" for="c-41335261">[-]</label><label class="expand" for="c-41335261">[7 more]</label></div><br/><div class="children"><div class="content">One problem that I run into with LLM code generation on large projects is that at some point the LLM runs into a problem it just cannot fix no matter how it is prompted. This manifest in a number of ways. Sometimes it is by bouncing back and forth between two invalid solutions while other times it is bouncing back and forth fixing one issue and while breaking something else in another part of the code.<p>Another issue with complex projects is that llms will not tell you what you don&#x27;t know. They will happily go about designing crappy code if you ask them for a crappy solution and they don&#x27;t have the ability to recommend a better path forward unless explicitly prompted.<p>That said, I had Claude generate most of a tile-based 2D pixel art rendering engine[1] for me, but again, once things got complicated I had to go and start hand fixing the code because Claude was no longer able to make improvements.<p>I&#x27;ve seen these failure modes across multiple problem domains, from CSS (alternating between two broken css styles, neither came close to fixing the issue) to backend, to rendering code (trying to get character sprites correctly on the tiles)<p>[1] <a href="https:&#x2F;&#x2F;www.generativestorytelling.ai&#x2F;town&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;www.generativestorytelling.ai&#x2F;town&#x2F;index.html</a> notice the tons of rendering artifacts. I&#x27;ve realized I&#x27;m going to need to rewrite a lot of how rendering happens to resolve them. Claude wrote 80% of the original code but by the time I&#x27;m done fixing everything maybe only 30% or so of Claude&#x27;s code will remain.</div><br/><div id="41336359" class="c"><input type="checkbox" id="c-41336359" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#41335261">parent</a><span>|</span><a href="#41335779">next</a><span>|</span><label class="collapse" for="c-41336359">[-]</label><label class="expand" for="c-41336359">[1 more]</label></div><br/><div class="children"><div class="content">I’ve observed this too. I’m sceptical of the all-in-one builders, I think the most likely route to get there is for LLMs to eat the smaller tasks as part of a developer workflow, with humans wiring them together, then expand with specialised agents to move up the stack.<p>For instance, instead of a web designer AI, start with an agent to generate tests for a human building a web component. Then add an agent to generate components for a human building a design system. Then add an agent to generate a design system using those agents for a human building a web page. Then add an agent to build entire page layouts using a design system for a human building a website.<p>Even if there’s a 20% failure rate that needs human intervention, that’s still 5x developer productivity. When the failure rate gets low enough, move up the stack.</div><br/></div></div><div id="41335779" class="c"><input type="checkbox" id="c-41335779" checked=""/><div class="controls bullet"><span class="by">threeseed</span><span>|</span><a href="#41335261">parent</a><span>|</span><a href="#41336359">prev</a><span>|</span><a href="#41333823">next</a><span>|</span><label class="collapse" for="c-41335779">[-]</label><label class="expand" for="c-41335779">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found that LLMs are only as good as the code it is trained on.<p>So for basic CRUD style web apps it is great. But then again so is a template.<p>But the minute you are dealing with newer libraries, less popular languages e.g Rust or Scala it just falls apart where for me it constantly hallucinates methods, imports etc.</div><br/><div id="41335813" class="c"><input type="checkbox" id="c-41335813" checked=""/><div class="controls bullet"><span class="by">halfmatthalfcat</span><span>|</span><a href="#41335261">root</a><span>|</span><a href="#41335779">parent</a><span>|</span><a href="#41336177">next</a><span>|</span><label class="collapse" for="c-41335813">[-]</label><label class="expand" for="c-41335813">[2 more]</label></div><br/><div class="children"><div class="content">I spent weeks trying to get GPT4 to get me through some gnarly Shapeless (Scala) issues. After that failure, I realized how real the limitations are. They really cannot produce original work and as far as niche languages, hallucinates all the time to the point of being completely unusable.</div><br/><div id="41336391" class="c"><input type="checkbox" id="c-41336391" checked=""/><div class="controls bullet"><span class="by">pcblues</span><span>|</span><a href="#41335261">root</a><span>|</span><a href="#41335813">parent</a><span>|</span><a href="#41336177">next</a><span>|</span><label class="collapse" for="c-41336391">[-]</label><label class="expand" for="c-41336391">[1 more]</label></div><br/><div class="children"><div class="content">Hallucination from software generation AI is worse than software written by a  beginning programmer, because at least they can analyse and determine the truth of their mistakes.</div><br/></div></div></div></div><div id="41336177" class="c"><input type="checkbox" id="c-41336177" checked=""/><div class="controls bullet"><span class="by">devbent</span><span>|</span><a href="#41335261">root</a><span>|</span><a href="#41335779">parent</a><span>|</span><a href="#41335813">prev</a><span>|</span><a href="#41333823">next</a><span>|</span><label class="collapse" for="c-41336177">[-]</label><label class="expand" for="c-41336177">[2 more]</label></div><br/><div class="children"><div class="content">They can do surprisingly things if prompted correctly.<p>But their ability to do complex logic falls apart, and their limits are pretty much a hard wall when reached.</div><br/><div id="41336405" class="c"><input type="checkbox" id="c-41336405" checked=""/><div class="controls bullet"><span class="by">pcblues</span><span>|</span><a href="#41335261">root</a><span>|</span><a href="#41336177">parent</a><span>|</span><a href="#41333823">next</a><span>|</span><label class="collapse" for="c-41336405">[-]</label><label class="expand" for="c-41336405">[1 more]</label></div><br/><div class="children"><div class="content">And so another level of abstraction in software development is created, but this time with an unknown level of accuracy. Call me old-school, but I like a debuggable, explainable and essentially provably reliable result. When a good developer can code while keeping the whole problem accurately in their heads, the code is worth its wait (deliberate sic, thank you) in gold.</div><br/></div></div></div></div></div></div></div></div><div id="41333823" class="c"><input type="checkbox" id="c-41333823" checked=""/><div class="controls bullet"><span class="by">hebejebelus</span><span>|</span><a href="#41335261">prev</a><span>|</span><a href="#41334476">next</a><span>|</span><label class="collapse" for="c-41333823">[-]</label><label class="expand" for="c-41333823">[5 more]</label></div><br/><div class="children"><div class="content">Reviving my long-dead account to say that I built a perfectly functional small site to help schedule my dungeons and dragons group within about 5 minutes, on my phone, from my bed. If this isn&#x27;t the future I don&#x27;t want to go there. Fantastic work.</div><br/><div id="41334349" class="c"><input type="checkbox" id="c-41334349" checked=""/><div class="controls bullet"><span class="by">smeej</span><span>|</span><a href="#41333823">parent</a><span>|</span><a href="#41333877">next</a><span>|</span><label class="collapse" for="c-41334349">[-]</label><label class="expand" for="c-41334349">[2 more]</label></div><br/><div class="children"><div class="content">Do you already have a background as a dev?<p>As someone who&#x27;s run in software startup circles on the customer support side for years, I couldn&#x27;t figure out how to make it do anything. Took several minutes even to notice the &quot;save and preview&quot; button to get my &quot;edit this text&quot; edit to work on the code editor. I first tried the &quot;refresh&quot; button on the preview, after realizing it didn&#x27;t update automatically, but most of the text for the correct button wasn&#x27;t visible.<p>Then, when it asked me to make a &quot;val&quot; that did something, I tried looking at the templates, hoping to figure out what they even mean by &quot;a val.&quot; The page loaded halfway down the screen and wouldn&#x27;t scroll, so I gave up and went back to the site to see if the About page would tell me anything useful.<p>I ended up back here hoping someone in the comments had figured it out, only to find that for some people, it clearly <i>is</i> entirely intuitive, which makes me think the whole platform is just for &quot;other people,&quot; people not like me in some important way I haven&#x27;t identified yet, even though it sounded like it <i>was</i> targeting people who have ideas for projects but don&#x27;t know how to build them themselves.</div><br/><div id="41334684" class="c"><input type="checkbox" id="c-41334684" checked=""/><div class="controls bullet"><span class="by">stevekrouse</span><span>|</span><a href="#41333823">root</a><span>|</span><a href="#41334349">parent</a><span>|</span><a href="#41333877">next</a><span>|</span><label class="collapse" for="c-41334684">[-]</label><label class="expand" for="c-41334684">[1 more]</label></div><br/><div class="children"><div class="content">Sorry to hear this! We definitely have a lot of work to do to make it more intuitive. If you have 30 minutes, I&#x27;d love to do a video call where I walk you through it and take notes on what you find confusing. Hopefully it&#x27;d be helpful to us both! I&#x27;m steve@val.town, shoot me a note if you&#x27;re up for a chat</div><br/></div></div></div></div><div id="41333877" class="c"><input type="checkbox" id="c-41333877" checked=""/><div class="controls bullet"><span class="by">stevekrouse</span><span>|</span><a href="#41333823">parent</a><span>|</span><a href="#41334349">prev</a><span>|</span><a href="#41334476">next</a><span>|</span><label class="collapse" for="c-41333877">[-]</label><label class="expand" for="c-41333877">[2 more]</label></div><br/><div class="children"><div class="content">Woo! I love this story. This is why we&#x27;re building val town</div><br/><div id="41333921" class="c"><input type="checkbox" id="c-41333921" checked=""/><div class="controls bullet"><span class="by">hebejebelus</span><span>|</span><a href="#41333823">root</a><span>|</span><a href="#41333877">parent</a><span>|</span><a href="#41334476">next</a><span>|</span><label class="collapse" for="c-41333921">[-]</label><label class="expand" for="c-41333921">[1 more]</label></div><br/><div class="children"><div class="content">Insanely smooth user story. From signup to unique solution to my problem in no time. Amazing work, I am blown away.</div><br/></div></div></div></div></div></div><div id="41334476" class="c"><input type="checkbox" id="c-41334476" checked=""/><div class="controls bullet"><span class="by">01HNNWZ0MV43FF</span><span>|</span><a href="#41333823">prev</a><span>|</span><a href="#41332894">next</a><span>|</span><label class="collapse" for="c-41334476">[-]</label><label class="expand" for="c-41334476">[2 more]</label></div><br/><div class="children"><div class="content">And they can&#x27;t be self-hosted?</div><br/><div id="41334598" class="c"><input type="checkbox" id="c-41334598" checked=""/><div class="controls bullet"><span class="by">maxmcd</span><span>|</span><a href="#41334476">parent</a><span>|</span><a href="#41332894">next</a><span>|</span><label class="collapse" for="c-41334598">[-]</label><label class="expand" for="c-41334598">[1 more]</label></div><br/><div class="children"><div class="content">There hasn’t been a ton of work in this area, but most things will work in Deno if you import them directly. You’d need to figure out blob storage and sqlite but I don’t think it would be the biggest lift
to do so.</div><br/></div></div></div></div><div id="41332894" class="c"><input type="checkbox" id="c-41332894" checked=""/><div class="controls bullet"><span class="by">janpaul123</span><span>|</span><a href="#41334476">prev</a><span>|</span><a href="#41332972">next</a><span>|</span><label class="collapse" for="c-41332894">[-]</label><label class="expand" for="c-41332894">[1 more]</label></div><br/><div class="children"><div class="content">Post author here! Happy to answer any questions.</div><br/></div></div><div id="41332972" class="c"><input type="checkbox" id="c-41332972" checked=""/><div class="controls bullet"><span class="by">syspec</span><span>|</span><a href="#41332894">prev</a><span>|</span><a href="#41334943">next</a><span>|</span><label class="collapse" for="c-41332972">[-]</label><label class="expand" for="c-41332972">[4 more]</label></div><br/><div class="children"><div class="content">Does fullstack here mean using javascript on the backend? Is it able to generate code for other backend languages?</div><br/><div id="41333010" class="c"><input type="checkbox" id="c-41333010" checked=""/><div class="controls bullet"><span class="by">janpaul123</span><span>|</span><a href="#41332972">parent</a><span>|</span><a href="#41334943">next</a><span>|</span><label class="collapse" for="c-41333010">[-]</label><label class="expand" for="c-41333010">[3 more]</label></div><br/><div class="children"><div class="content">Yes exactly. It generates code for Val Town, which hosts Typescript backends.</div><br/><div id="41333053" class="c"><input type="checkbox" id="c-41333053" checked=""/><div class="controls bullet"><span class="by">ilaksh</span><span>|</span><a href="#41332972">root</a><span>|</span><a href="#41333010">parent</a><span>|</span><a href="#41334943">next</a><span>|</span><label class="collapse" for="c-41333053">[-]</label><label class="expand" for="c-41333053">[2 more]</label></div><br/><div class="children"><div class="content">I think that this is kind of an obvious &quot;optimization&quot; for making application generation much more reliable. Just because the models can generate code for one of 1000 different platforms, doesn&#x27;t mean that you need all of them. Just by narrowing the scope to a particular platform makes it much more feasible to get working applications without needing manual debugging due to out of date library references etc.<p>I think something like the approach you have demonstrated here will relatively quickly become the standard for &quot;no-code&quot; application development.</div><br/><div id="41333256" class="c"><input type="checkbox" id="c-41333256" checked=""/><div class="controls bullet"><span class="by">janpaul123</span><span>|</span><a href="#41332972">root</a><span>|</span><a href="#41333053">parent</a><span>|</span><a href="#41334943">next</a><span>|</span><label class="collapse" for="c-41333256">[-]</label><label class="expand" for="c-41333256">[1 more]</label></div><br/><div class="children"><div class="content">Completely agree. It&#x27;s useful not just for targeting one specific language, but all the other APIs that we have, and things like RAG to search for importable modules on the platform. Duplicating all that across many platforms is a lot of work!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>