<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1703408453838" as="style"/><link rel="stylesheet" href="styles.css?v=1703408453838"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://www.nicemice.net/par/">Par: Paragraph reformatter, vaguely similar to fmt, but better</a> <span class="domain">(<a href="http://www.nicemice.net">www.nicemice.net</a>)</span></div><div class="subtext"><span>ingve</span> | <span>20 comments</span></div><br/><div><div id="38748925" class="c"><input type="checkbox" id="c-38748925" checked=""/><div class="controls bullet"><span class="by">JNRowe</span><span>|</span><a href="#38749719">next</a><span>|</span><label class="collapse" for="c-38748925">[-]</label><label class="expand" for="c-38748925">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using par for about twenty years, and 100% agree with its own apology: &quot;Its only redeeming features are that it is extremely useful&quot;.<p>I literally have no clue what my $PAR* vars do, or what the odious string in my mutt config does.  However, it works perfectly so I simply trust I won&#x27;t have to figure it out again.<p>--<p>Oh, and check out his X-Advice¹ doc.  It was a really great idea that sadly never caught on.  Scanning a years worth of my own mail to write this comment tells me it is just me and one friend who use it, and only for &quot;should read whenever&quot; for messages between eachother :&#x2F;<p>¹ <a href="http:&#x2F;&#x2F;www.nicemice.net&#x2F;amc&#x2F;advice-header&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;www.nicemice.net&#x2F;amc&#x2F;advice-header&#x2F;</a></div><br/><div id="38752038" class="c"><input type="checkbox" id="c-38752038" checked=""/><div class="controls bullet"><span class="by">ericpruitt</span><span>|</span><a href="#38748925">parent</a><span>|</span><a href="#38749719">next</a><span>|</span><label class="collapse" for="c-38752038">[-]</label><label class="expand" for="c-38752038">[1 more]</label></div><br/><div class="children"><div class="content">Fellow Mutt user, here. I have an AWK script I use to filter my messages before displaying them that has logic for wrapping while respecting &quot;&gt;&quot; indentation among other things. I would be interested in know what your &quot;par&quot; invocation in Mutt is.</div><br/></div></div></div></div><div id="38749719" class="c"><input type="checkbox" id="c-38749719" checked=""/><div class="controls bullet"><span class="by">esrh</span><span>|</span><a href="#38748925">prev</a><span>|</span><a href="#38749490">next</a><span>|</span><label class="collapse" for="c-38749719">[-]</label><label class="expand" for="c-38749719">[1 more]</label></div><br/><div class="children"><div class="content">I used to use par before I switched to far (<a href="https:&#x2F;&#x2F;cgdct.moe&#x2F;blog&#x2F;far&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;cgdct.moe&#x2F;blog&#x2F;far&#x2F;</a>) which produces better looking paragraphs in my opinion by minimizing the variance between lines while using the fewest number of lines possible.<p>There is a native emacs version as well, at <a href="https:&#x2F;&#x2F;github.com&#x2F;eshrh&#x2F;far.el">https:&#x2F;&#x2F;github.com&#x2F;eshrh&#x2F;far.el</a> (i wrote it)</div><br/></div></div><div id="38749490" class="c"><input type="checkbox" id="c-38749490" checked=""/><div class="controls bullet"><span class="by">jzelinskie</span><span>|</span><a href="#38749719">prev</a><span>|</span><a href="#38750728">next</a><span>|</span><label class="collapse" for="c-38749490">[-]</label><label class="expand" for="c-38749490">[4 more]</label></div><br/><div class="children"><div class="content">Vim users can do &quot;set formatprg=par&quot; to use par for formatting (&quot;gq&quot;). Super great for keeping comments &lt;80 chars</div><br/><div id="38751115" class="c"><input type="checkbox" id="c-38751115" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#38749490">parent</a><span>|</span><a href="#38750500">next</a><span>|</span><label class="collapse" for="c-38751115">[-]</label><label class="expand" for="c-38751115">[1 more]</label></div><br/><div class="children"><div class="content">But doesn’t that overwrite the format algorithm for the filetype altogether? I mean, does it break formatting for the rest of the document (the non-comment)? Or does this somehow play nice with formatlistpat?</div><br/></div></div><div id="38750500" class="c"><input type="checkbox" id="c-38750500" checked=""/><div class="controls bullet"><span class="by">srik</span><span>|</span><a href="#38749490">parent</a><span>|</span><a href="#38751115">prev</a><span>|</span><a href="#38750317">next</a><span>|</span><label class="collapse" for="c-38750500">[-]</label><label class="expand" for="c-38750500">[1 more]</label></div><br/><div class="children"><div class="content">par tops out at 72 by default afaik, so if  you 80 is your preferred limit, I&#x27;d suggest `par -w79`</div><br/></div></div><div id="38750317" class="c"><input type="checkbox" id="c-38750317" checked=""/><div class="controls bullet"><span class="by">azeemba</span><span>|</span><a href="#38749490">parent</a><span>|</span><a href="#38750500">prev</a><span>|</span><a href="#38750728">next</a><span>|</span><label class="collapse" for="c-38750317">[-]</label><label class="expand" for="c-38750317">[1 more]</label></div><br/><div class="children"><div class="content">What does it use by default?</div><br/></div></div></div></div><div id="38750728" class="c"><input type="checkbox" id="c-38750728" checked=""/><div class="controls bullet"><span class="by">xwowsersx</span><span>|</span><a href="#38749490">prev</a><span>|</span><a href="#38751960">next</a><span>|</span><label class="collapse" for="c-38750728">[-]</label><label class="expand" for="c-38750728">[4 more]</label></div><br/><div class="children"><div class="content">So speaking of line widths, I&#x27;m curious what people generally use for programming and enforce with auto-formatters. I know there tends to be a lot of debate about this wholly subjective question, but I&#x27;m wondering what reasoning people have for their preferred line length. It seems many tools still default to 80 characters. This does feel restrictive, but, on the other hand, I personally find shorter line lengths to be quite pleasant. Still 80 feels too restrictive and I think its being a default is just a historical accident, right (punch cards and early monitors&#x2F;terminals)? Anyhow, just curious if there&#x27;s any interesting reasoning to prefer one limit over another or if it all comes down to personal aesthetic preferences.</div><br/><div id="38752138" class="c"><input type="checkbox" id="c-38752138" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#38750728">parent</a><span>|</span><a href="#38751070">next</a><span>|</span><label class="collapse" for="c-38752138">[-]</label><label class="expand" for="c-38752138">[1 more]</label></div><br/><div class="children"><div class="content">I still like 80 as it is just perfect to be able to see two split diffs simultaneously on my screen without any line wrapping whatsoever (in a roughly 350 column terminal) which is a pretty common use case for me.</div><br/></div></div><div id="38751070" class="c"><input type="checkbox" id="c-38751070" checked=""/><div class="controls bullet"><span class="by">noam_k</span><span>|</span><a href="#38750728">parent</a><span>|</span><a href="#38752138">prev</a><span>|</span><a href="#38751960">next</a><span>|</span><label class="collapse" for="c-38751070">[-]</label><label class="expand" for="c-38751070">[2 more]</label></div><br/><div class="children"><div class="content">My preference is 100 characters. I find it usually takes up half the screen, allowing split screen editing (on modern screen sizes).<p>But while on the subject, I can&#x27;t help bringing up the QEMU coding style[0]:<p>&gt; Some people like to tile their 24” screens with a 6x4 matrix of 80x24 xterms and use vi in all of them. The best way to punish them is to let them keep doing it.<p>[0]: <a href="https:&#x2F;&#x2F;qemu-project.gitlab.io&#x2F;qemu&#x2F;devel&#x2F;style.html#line-width" rel="nofollow noreferrer">https:&#x2F;&#x2F;qemu-project.gitlab.io&#x2F;qemu&#x2F;devel&#x2F;style.html#line-wi...</a></div><br/><div id="38751503" class="c"><input type="checkbox" id="c-38751503" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#38750728">root</a><span>|</span><a href="#38751070">parent</a><span>|</span><a href="#38751960">next</a><span>|</span><label class="collapse" for="c-38751503">[-]</label><label class="expand" for="c-38751503">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a silly quote. Everybody knows it&#x27;s only a vector since a tall 80x84 or whatever is always useful for keeping more of the file on the screen.<p>Also, for reference, a table of font sizes and number of terminals beside each other that fit on a given size screen:<p><pre><code>            1t      2t      3t      4t      5t      6t
    6px     480     960     1440    1920    2400    2880
    7px     560     1120    1680    2240    2800    3360
    8px     640     1280    1920    2560    3200    3840
    9px     720     1440    2160    2880    3600    4320
    10px    800     1600    2400    3200    4000    4800
    12px    960     1920    2880    3840    4800    5760
    14px    1120    2240    3360    4480    5600    6720
    16px    1280    2560    3840    5120    6400    7680
</code></pre>
On a screen with the traditional ~100 DPI, a 6px wide font is quite readable so on 1920x1080 you get exactly 4 columns of terminals (just beware window decorations trying to steal extra pixels). If the height is 13px (so it&#x27;s about a 9.5pt font <i>IF</i> point size is measured honestly) you get about 75 lines depending on taskbar and window headers.</div><br/></div></div></div></div></div></div><div id="38751960" class="c"><input type="checkbox" id="c-38751960" checked=""/><div class="controls bullet"><span class="by">tety</span><span>|</span><a href="#38750728">prev</a><span>|</span><a href="#38749134">next</a><span>|</span><label class="collapse" for="c-38751960">[-]</label><label class="expand" for="c-38751960">[1 more]</label></div><br/><div class="children"><div class="content">any way of integrating this in vscode for git commit messages?</div><br/></div></div><div id="38749134" class="c"><input type="checkbox" id="c-38749134" checked=""/><div class="controls bullet"><span class="by">Zambyte</span><span>|</span><a href="#38751960">prev</a><span>|</span><a href="#38749664">next</a><span>|</span><label class="collapse" for="c-38749134">[-]</label><label class="expand" for="c-38749134">[6 more]</label></div><br/><div class="children"><div class="content">Is there something similar for Emacs?</div><br/><div id="38751459" class="c"><input type="checkbox" id="c-38751459" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#38749134">parent</a><span>|</span><a href="#38749274">next</a><span>|</span><label class="collapse" for="c-38751459">[-]</label><label class="expand" for="c-38751459">[1 more]</label></div><br/><div class="children"><div class="content">Emacs calls the concept &quot;fill&quot;, and has had it as a basic built-in feature for decades.<p>This documentation page &quot;<a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;emacs&#x2F;manual&#x2F;html_node&#x2F;emacs&#x2F;Fill-Commands.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;emacs&#x2F;manual&#x2F;html_node&#x2F;emacs&#x2F;Fi...</a>&quot; doesn&#x27;t do it justice, because Emacs will often do smart language- and context-appropriate things in different buffer modes.<p>For example, I use this feature heavily to help make my Markdown files appear semi-wysiwyg to anyone viewing them in plain text (e.g., different levels of bulleted&#x2F;numbered lists are formatted).<p>It also keeps my code comments tidy, and encourages me to keep them up to date, because I don&#x27;t have to mess with formatting.<p>There&#x27;s also a command to temporarily set a &quot;fill prefix&quot; based on the point in the current line, such as if you want to fill something differently than how Emacs would do it by default.</div><br/></div></div><div id="38749274" class="c"><input type="checkbox" id="c-38749274" checked=""/><div class="controls bullet"><span class="by">dsr_</span><span>|</span><a href="#38749134">parent</a><span>|</span><a href="#38751459">prev</a><span>|</span><a href="#38749664">next</a><span>|</span><label class="collapse" for="c-38749274">[-]</label><label class="expand" for="c-38749274">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s an external filter, you can run it from emacs.<p>shell-command-on-region, IIRC.</div><br/><div id="38751121" class="c"><input type="checkbox" id="c-38751121" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#38749134">root</a><span>|</span><a href="#38749274">parent</a><span>|</span><a href="#38749697">next</a><span>|</span><label class="collapse" for="c-38751121">[-]</label><label class="expand" for="c-38751121">[1 more]</label></div><br/><div class="children"><div class="content">I’m not an emacs user but that gives me strong powershell vibes! (Not a derogatory remark.)</div><br/></div></div><div id="38749697" class="c"><input type="checkbox" id="c-38749697" checked=""/><div class="controls bullet"><span class="by">cylinder714</span><span>|</span><a href="#38749134">root</a><span>|</span><a href="#38749274">parent</a><span>|</span><a href="#38751121">prev</a><span>|</span><a href="#38749664">next</a><span>|</span><label class="collapse" for="c-38749697">[-]</label><label class="expand" for="c-38749697">[2 more]</label></div><br/><div class="children"><div class="content"><i>Thank you</i> for that. I figured Emacs would permit use of external filters, glad to know the actual incantation.</div><br/><div id="38751273" class="c"><input type="checkbox" id="c-38751273" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#38749134">root</a><span>|</span><a href="#38749697">parent</a><span>|</span><a href="#38749664">next</a><span>|</span><label class="collapse" for="c-38751273">[-]</label><label class="expand" for="c-38751273">[1 more]</label></div><br/><div class="children"><div class="content">The keyboard shortcut is M-|<p>If you want to <i>replace</i> a section of text, not just see the output in another buffer, use C-u M-|</div><br/></div></div></div></div></div></div></div></div><div id="38749664" class="c"><input type="checkbox" id="c-38749664" checked=""/><div class="controls bullet"><span class="by">qarl</span><span>|</span><a href="#38749134">prev</a><span>|</span><label class="collapse" for="c-38749664">[-]</label><label class="expand" for="c-38749664">[1 more]</label></div><br/><div class="children"><div class="content">much love to AMC for par.  it is always useful.</div><br/></div></div></div></div></div></div></div></body></html>