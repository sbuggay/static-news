<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689498054811" as="style"/><link rel="stylesheet" href="styles.css?v=1689498054811"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://cloudnativeengineer.substack.com/p/ep-5-taskfile-a-modern-alternative">Taskfile: A Modern Alternative to Makefile</a> <span class="domain">(<a href="https://cloudnativeengineer.substack.com">cloudnativeengineer.substack.com</a>)</span></div><div class="subtext"><span>EntICOnc</span> | <span>63 comments</span></div><br/><div><div id="36744717" class="c"><input type="checkbox" id="c-36744717" checked=""/><div class="controls bullet"><span class="by">amno</span><span>|</span><a href="#36744667">next</a><span>|</span><label class="collapse" for="c-36744717">[-]</label><label class="expand" for="c-36744717">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand this argument: &quot;it&#x27;s 47 years old&quot; as a bad thing. If something has been around that long, does it not mean it is proof tested?<p>The syntax of Taskfile looks more verbose to me than Makefile, which is basically a shell script in disguise. To note also is that you praise Devenv because of it being based on Guix (Guile scheme), while you ditch Makefile which also embeds Guile scheme as the extension language (in latest versions).<p>Also to note, the opening argument, writing Readme files on how to build and use the software, has nothing to do with Makefiles at all. You could write a simple skeleton codegen that generates a Readme file skeleton or a template with those steps autogenerated in any language preferred, shell included, and run it as a Makefile target.</div><br/><div id="36744864" class="c"><input type="checkbox" id="c-36744864" checked=""/><div class="controls bullet"><span class="by">taspeotis</span><span>|</span><a href="#36744717">parent</a><span>|</span><a href="#36744825">next</a><span>|</span><label class="collapse" for="c-36744864">[-]</label><label class="expand" for="c-36744864">[1 more]</label></div><br/><div class="children"><div class="content">Can you use spaces in filenames with GNU make yet? Seems like a 47yo vestige when spaces in filenames weren’t really a thing…</div><br/></div></div><div id="36744825" class="c"><input type="checkbox" id="c-36744825" checked=""/><div class="controls bullet"><span class="by">tjoff</span><span>|</span><a href="#36744717">parent</a><span>|</span><a href="#36744864">prev</a><span>|</span><a href="#36744767">next</a><span>|</span><label class="collapse" for="c-36744825">[-]</label><label class="expand" for="c-36744825">[1 more]</label></div><br/><div class="children"><div class="content">That is not the argument though. The argument is: <i>After being unhappy with Makefile for years now</i><p>As to why being unhappy is probably not because it haven&#x27;t been proof tested. I get your sentiment but feel the remark is out of place. I thought the rationale for picking other tools was straightforward and motivated.<p>Though the simplicity of make has been lost and I&#x27;m not sure the overhead is worth it. I wouldn&#x27;t want to be the one introducing taskenv, direnv and derenv to a project.</div><br/></div></div><div id="36744767" class="c"><input type="checkbox" id="c-36744767" checked=""/><div class="controls bullet"><span class="by">emptysongglass</span><span>|</span><a href="#36744717">parent</a><span>|</span><a href="#36744825">prev</a><span>|</span><a href="#36744667">next</a><span>|</span><label class="collapse" for="c-36744767">[-]</label><label class="expand" for="c-36744767">[1 more]</label></div><br/><div class="children"><div class="content">devenv.sh uses Nix, not Guile.</div><br/></div></div></div></div><div id="36744667" class="c"><input type="checkbox" id="c-36744667" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#36744717">prev</a><span>|</span><a href="#36744617">next</a><span>|</span><label class="collapse" for="c-36744667">[-]</label><label class="expand" for="c-36744667">[9 more]</label></div><br/><div class="children"><div class="content">Sorry for the plug, but I can&#x27;t help myself everytime I read about task managers to notice you have to learn yet another DSL.<p>DSL are the plague of our field, for one that is useful like SQL, you have a hundred that turn your life into hell. Make&#x27;s DSL is already full of gotchas, but templated YAML based DSL are just insanity. They have so many footguns, and so little flexibility and ability to be debugged.<p>After trying a lot of task runners and builders, I finally settled on doit:<p><a href="https:&#x2F;&#x2F;www.bitecode.dev&#x2F;p&#x2F;doit-the-goodest-python-task-runner" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bitecode.dev&#x2F;p&#x2F;doit-the-goodest-python-task-runn...</a><p>- It makes the simple things simple, and the hard things possible.<p>- It scales up (you get targets, dependencies, manual scripting, etc), but it also scales down (you can define a simple list of shell commands to run and that&#x27;s it).<p>- Instead of a DSL, you have regular Python. Which for all it&#x27;s faults, is an excellent scripting language. It has great tooling support, and comes with a debugger.<p>- To avoid people abusing the expressiveness of Python, the default syntax to create tasks encourages a declarative style.<p>I&#x27;ve been using doit for years, and every single project I introduced it to was improved by it.<p>Of course, it comes with it&#x27;s own problems (non python dev can dislike having to install that, and it doesn&#x27;t yet provide a stand alone executable), but the ROI is way better than the alternatives I tried.</div><br/><div id="36744905" class="c"><input type="checkbox" id="c-36744905" checked=""/><div class="controls bullet"><span class="by">tjoff</span><span>|</span><a href="#36744667">parent</a><span>|</span><a href="#36744859">next</a><span>|</span><label class="collapse" for="c-36744905">[-]</label><label class="expand" for="c-36744905">[2 more]</label></div><br/><div class="children"><div class="content">Python is such a <i>massive</i> dependency though, people who code in python rarely realize how big of a barrier it is for people not in that ecosystem. Package management is insane and every project has its own way of dealing with it. Installing python by itself is a chore on many operating systems.</div><br/><div id="36744939" class="c"><input type="checkbox" id="c-36744939" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#36744667">root</a><span>|</span><a href="#36744905">parent</a><span>|</span><a href="#36744859">next</a><span>|</span><label class="collapse" for="c-36744939">[-]</label><label class="expand" for="c-36744939">[1 more]</label></div><br/><div class="children"><div class="content">Agreed.<p>I wish more projects would compile their Python tool into a stand alone executable so that the users wouldn&#x27;t have to deal with the installation process.</div><br/></div></div></div></div><div id="36744859" class="c"><input type="checkbox" id="c-36744859" checked=""/><div class="controls bullet"><span class="by">sdflhasjd</span><span>|</span><a href="#36744667">parent</a><span>|</span><a href="#36744905">prev</a><span>|</span><a href="#36744873">next</a><span>|</span><label class="collapse" for="c-36744859">[-]</label><label class="expand" for="c-36744859">[1 more]</label></div><br/><div class="children"><div class="content">&gt; templated YAML based DSL are just insanity<p>The truest statement of all of HN<p>It started off with configuration files, but then we needed logic, control flow, or variables; and for some reason nobody goes &quot;ok, maybe we need an actual progamming language now&quot; and instead we&#x27;ve created horrors beyond our comprehension.<p>Azure Pipelines is the worst I&#x27;ve used: three types of variables, conditional statements return string &quot;True&quot; and &quot;False&quot;, and of course it&#x27;s mostly undebuggable.</div><br/></div></div><div id="36744873" class="c"><input type="checkbox" id="c-36744873" checked=""/><div class="controls bullet"><span class="by">veltas</span><span>|</span><a href="#36744667">parent</a><span>|</span><a href="#36744859">prev</a><span>|</span><a href="#36744795">next</a><span>|</span><label class="collapse" for="c-36744873">[-]</label><label class="expand" for="c-36744873">[1 more]</label></div><br/><div class="children"><div class="content">No need to apologise, I don&#x27;t like YAML, I like Python, and I agree: I&#x27;d rather have a <i>domain specific library</i> than a DSL anyday.<p>The best of both worlds is a good programming language that allows expressing domain specific libraries almost as if they were domain specific languages, without going so declarative that people don&#x27;t know how to script anything anymore.<p>I don&#x27;t know if Python&#x2F;doit really achieved that, but its task definitions seem almost as readable as the YAML, in a real language where I can do anything I want without asking permission. So I would always choose doit over Taskfile.<p>But a better comparison is between doit and make. I much prefer make&#x27;s basic syntax, although I dislike newer features which inevitably have stretched the syntax beyond its original simplicity, but conceivably you can achieve something similar to make in a language but as a <i>library</i> rather than a DSL, and it would be immediately friendlier and more powerful than make. Depending on what I was doing I would use doit, but for something simple I&#x27;ve still got make (and it would be easy to convert if desired, in fact I have some projects in mind that could do with this!).</div><br/></div></div><div id="36744795" class="c"><input type="checkbox" id="c-36744795" checked=""/><div class="controls bullet"><span class="by">emptysongglass</span><span>|</span><a href="#36744667">parent</a><span>|</span><a href="#36744873">prev</a><span>|</span><a href="#36744919">next</a><span>|</span><label class="collapse" for="c-36744795">[-]</label><label class="expand" for="c-36744795">[1 more]</label></div><br/><div class="children"><div class="content">For Pythonistas or people interested in Python, I can&#x27;t plug the commenter&#x27;s newsletter enough: it is an absolute treasure trove of good advice for new and old users of Python. They did a whole series on the right way to install and use Python [1]. If you follow their advice you&#x27;ll never struggle with any of the problems people complain of encountering with Python.<p>[1] <a href="https:&#x2F;&#x2F;www.bitecode.dev&#x2F;p&#x2F;installing-python-the-bare-minimum" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bitecode.dev&#x2F;p&#x2F;installing-python-the-bare-minimu...</a></div><br/></div></div><div id="36744919" class="c"><input type="checkbox" id="c-36744919" checked=""/><div class="controls bullet"><span class="by">mongol</span><span>|</span><a href="#36744667">parent</a><span>|</span><a href="#36744795">prev</a><span>|</span><a href="#36744831">next</a><span>|</span><label class="collapse" for="c-36744919">[-]</label><label class="expand" for="c-36744919">[1 more]</label></div><br/><div class="children"><div class="content">I am thinking there must be a doit kind of tool but using bash shell instead. Anyone aware of one?</div><br/></div></div><div id="36744831" class="c"><input type="checkbox" id="c-36744831" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#36744667">parent</a><span>|</span><a href="#36744919">prev</a><span>|</span><a href="#36744617">next</a><span>|</span><label class="collapse" for="c-36744831">[-]</label><label class="expand" for="c-36744831">[2 more]</label></div><br/><div class="children"><div class="content">&gt; DSL are the plague of our field, for one that is useful like SQL, you have a hundred that turn your life into hell.<p>The same can be said about using general purpose programming languages to specify stuff declaratively, but instead of implementation the problems happen in each and every single use of it.  It only takes a single user that either does not comply with standards or feels they are particularly clever to mess everything for everyone.</div><br/><div id="36744836" class="c"><input type="checkbox" id="c-36744836" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#36744667">root</a><span>|</span><a href="#36744831">parent</a><span>|</span><a href="#36744617">next</a><span>|</span><label class="collapse" for="c-36744836">[-]</label><label class="expand" for="c-36744836">[1 more]</label></div><br/><div class="children"><div class="content">The dose makes the poison</div><br/></div></div></div></div></div></div><div id="36744617" class="c"><input type="checkbox" id="c-36744617" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#36744667">prev</a><span>|</span><a href="#36744935">next</a><span>|</span><label class="collapse" for="c-36744617">[-]</label><label class="expand" for="c-36744617">[8 more]</label></div><br/><div class="children"><div class="content">I have coworkers who use this.  They tried to make me use this too.  I failed to see the point.  It offers no benefits of a build system, no benefits of existing automation tools, comes with &quot;bespoke&quot; syntax and requires installing an extra program to run it.<p>I have never tested it enough to discover things it does wrong, but given how new and not exactly popular this tool is, I bet there are lots of things it doesn&#x27;t do right...<p>So, I have no idea why would anyone want this tool... beside just using one extra infra tool to appear as if you know something others don&#x27;t (and that&#x27;s exactly the kind of people who use it at my workplace).</div><br/><div id="36744743" class="c"><input type="checkbox" id="c-36744743" checked=""/><div class="controls bullet"><span class="by">kmac_</span><span>|</span><a href="#36744617">parent</a><span>|</span><a href="#36744766">next</a><span>|</span><label class="collapse" for="c-36744743">[-]</label><label class="expand" for="c-36744743">[3 more]</label></div><br/><div class="children"><div class="content">I remember how I promoted Git over a decade ago, and I heard from the lead guy that “SVN does the same” and “there are no benefits of using branches” (he never used them). Please listen to your coworkers and don’t be that guy. Technology moves forward, make it great, but it’s time to move on.</div><br/><div id="36744927" class="c"><input type="checkbox" id="c-36744927" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#36744617">root</a><span>|</span><a href="#36744743">parent</a><span>|</span><a href="#36744807">next</a><span>|</span><label class="collapse" for="c-36744927">[-]</label><label class="expand" for="c-36744927">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t like the transition from SVN to Git.  My biggest problem was the commit numbering.  While SVN assigned consecutive numbers to commits, Git assigned hashes.<p>I still think that most people working with VCS today would&#x27;ve been better off using SVN.  Most companies use Git in a centralized way anyways -- they don&#x27;t need the distributed feature of the system.  Most people using Git today don&#x27;t know how to go back in history and wouldn&#x27;t be physically able to carry out this task if requested because most Git repositories I&#x27;ve seen in my life were, essentially, write-only, just a glorified rsync.<p>I needed many years of working in infra to come to terms with Git and become efficient at using it.  Most developers using it today will not have a multiple-year rotation in infra position, and are terrible at using the tool.<p>But this is very different from Taskfile vs Makefile.  Git came with many attractive features.  Some, perhaps inconvenient or demanding in terms of learning, but it was a genuine new tool that solved a problem other tools at the time didn&#x27;t (branches were very expensive in SVN, sharding repositories across large distances was very expensive in SVN, and Git solved both).<p>Taskfile doesn&#x27;t do anything better than any of the existing tools.  It doesn&#x27;t even promise anything like that... It&#x27;s just &quot;like make&quot; but worse... so, what&#x27;s the point exactly?<p>&gt; Technology moves forward<p>Oh you sweet summer child... no, it doesn&#x27;t.  Sometimes it moves backwards, sometimes it jumps in place pretending to do useful work...  there&#x27;s no rule to say it should, and the evidence abounds of how this statement isn&#x27;t true.</div><br/></div></div><div id="36744807" class="c"><input type="checkbox" id="c-36744807" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#36744617">root</a><span>|</span><a href="#36744743">parent</a><span>|</span><a href="#36744927">prev</a><span>|</span><a href="#36744766">next</a><span>|</span><label class="collapse" for="c-36744807">[-]</label><label class="expand" for="c-36744807">[1 more]</label></div><br/><div class="children"><div class="content">git&#x27;s CLI is famously inconsistent, but git merge was obviously much more reliable than svnmerge.py ever had been.<p>(I hear svn may have improved merge tracking, but I&#x27;m not going to spend more time on it.)</div><br/></div></div></div></div><div id="36744766" class="c"><input type="checkbox" id="c-36744766" checked=""/><div class="controls bullet"><span class="by">datastack</span><span>|</span><a href="#36744617">parent</a><span>|</span><a href="#36744743">prev</a><span>|</span><a href="#36744761">next</a><span>|</span><label class="collapse" for="c-36744766">[-]</label><label class="expand" for="c-36744766">[2 more]</label></div><br/><div class="children"><div class="content">some tasks a developer might need to do besides just building the application:<p>- copying a database from production to local for bug reproduction&#x2F;fixes
- inserting seed-data into the local database
- creating a migration after changing records
- applying the migration
- rolling back the migration
- running a tool to copy configuration from a keyvault
- running the end to end tests
- generate certificates
- set up an ssh tunnel to a remote server or database<p>All of these things are part of the development process, and cannot be part of the build system. Each of them has their own commands and tools.<p>All developers need to easily be able to do these things, without asking help each time, or learning the syntax of each command.<p>One easy way is to stuff all of them in a task runner with simple aliases. Another could be writing a document that you can copy&#x2F;paste from. I prefer a task runner, since you can memorize the alias and work from the terminal without looking things up.</div><br/><div id="36744938" class="c"><input type="checkbox" id="c-36744938" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#36744617">root</a><span>|</span><a href="#36744766">parent</a><span>|</span><a href="#36744761">next</a><span>|</span><label class="collapse" for="c-36744938">[-]</label><label class="expand" for="c-36744938">[1 more]</label></div><br/><div class="children"><div class="content">So, what&#x27;s your point exactly? There are plenty of tools for this that do it a lot better than Taskfile?  Like, Ansible for example?<p>Also, what makes you think a build system doesn&#x27;t or shouldn&#x27;t do those things?<p>Also, you could just write a Shell script to do all of those -- what&#x27;s the difference?</div><br/></div></div></div></div><div id="36744761" class="c"><input type="checkbox" id="c-36744761" checked=""/><div class="controls bullet"><span class="by">strokirk</span><span>|</span><a href="#36744617">parent</a><span>|</span><a href="#36744766">prev</a><span>|</span><a href="#36744737">next</a><span>|</span><label class="collapse" for="c-36744761">[-]</label><label class="expand" for="c-36744761">[1 more]</label></div><br/><div class="children"><div class="content">Make doesn’t have any builtin —help for the list of user defined targets, and has a slightly wonky bespoke syntax of it’s own. So it’s quite natural to look for something that has those properties.</div><br/></div></div><div id="36744737" class="c"><input type="checkbox" id="c-36744737" checked=""/><div class="controls bullet"><span class="by">trabant00</span><span>|</span><a href="#36744617">parent</a><span>|</span><a href="#36744761">prev</a><span>|</span><a href="#36744935">next</a><span>|</span><label class="collapse" for="c-36744737">[-]</label><label class="expand" for="c-36744737">[1 more]</label></div><br/><div class="children"><div class="content">Because Make is too stable and well documented, because it&#x27;s just one tool and not 3, because it isn&#x27;t written in Go and because you don&#x27;t have to scratch you head at another YAML hell. Because 47 years of proven track record is nothing compared to &quot;modern&quot;. Need I go on?</div><br/></div></div></div></div><div id="36744935" class="c"><input type="checkbox" id="c-36744935" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#36744617">prev</a><span>|</span><a href="#36744543">next</a><span>|</span><label class="collapse" for="c-36744935">[-]</label><label class="expand" for="c-36744935">[1 more]</label></div><br/><div class="children"><div class="content">Naming isn’t consistent with what make does and why it’s called Makefile.<p>Makefile is for make, which “makes files”.<p>You don’t “task files”<p>*file in general is wrong. Of course it’s a file</div><br/></div></div><div id="36744543" class="c"><input type="checkbox" id="c-36744543" checked=""/><div class="controls bullet"><span class="by">arcanemachiner</span><span>|</span><a href="#36744935">prev</a><span>|</span><a href="#36744601">next</a><span>|</span><label class="collapse" for="c-36744543">[-]</label><label class="expand" for="c-36744543">[6 more]</label></div><br/><div class="children"><div class="content">How does this compare with `just`[0]? I&#x27;ve never written a Makefile but I&#x27;m a big fan of `just`.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just">https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just</a></div><br/><div id="36744803" class="c"><input type="checkbox" id="c-36744803" checked=""/><div class="controls bullet"><span class="by">haarts</span><span>|</span><a href="#36744543">parent</a><span>|</span><a href="#36744560">next</a><span>|</span><label class="collapse" for="c-36744803">[-]</label><label class="expand" for="c-36744803">[1 more]</label></div><br/><div class="children"><div class="content">I, too, use just a lot in a very off handed way. My memory isn&#x27;t great and I just toss commands in a projects justfile which I occasionally need. 
Yes, a readme would work to a degree too, but a justfile is runnable code. That beats dead documentation everytime.</div><br/></div></div><div id="36744560" class="c"><input type="checkbox" id="c-36744560" checked=""/><div class="controls bullet"><span class="by">KRAKRISMOTT</span><span>|</span><a href="#36744543">parent</a><span>|</span><a href="#36744803">prev</a><span>|</span><a href="#36744601">next</a><span>|</span><label class="collapse" for="c-36744560">[-]</label><label class="expand" for="c-36744560">[4 more]</label></div><br/><div class="children"><div class="content">Taskfile looks heavily inspired by terraform and other &quot;cloud native tooling (read: lots of yaml)</div><br/><div id="36744608" class="c"><input type="checkbox" id="c-36744608" checked=""/><div class="controls bullet"><span class="by">stowaway1256</span><span>|</span><a href="#36744543">root</a><span>|</span><a href="#36744560">parent</a><span>|</span><a href="#36744785">next</a><span>|</span><label class="collapse" for="c-36744608">[-]</label><label class="expand" for="c-36744608">[1 more]</label></div><br/><div class="children"><div class="content">Yep, `just` is much more truthful to the bare bones `make` legacy while `task` offers a bit more structured approach coming from inclusion of yaml as a specification language and many convenience things like handling env, run directories etc. I have worked with `just` for quite a bit but this looks very good honestly and I will consider switching.</div><br/></div></div><div id="36744785" class="c"><input type="checkbox" id="c-36744785" checked=""/><div class="controls bullet"><span class="by">SahAssar</span><span>|</span><a href="#36744543">root</a><span>|</span><a href="#36744560">parent</a><span>|</span><a href="#36744608">prev</a><span>|</span><a href="#36744587">next</a><span>|</span><label class="collapse" for="c-36744785">[-]</label><label class="expand" for="c-36744785">[1 more]</label></div><br/><div class="children"><div class="content">Terraforms native language is HCL, in most terraform setups I see very little yaml.<p>Maybe you&#x27;re thinking of k8s and all of its related tooling?</div><br/></div></div><div id="36744587" class="c"><input type="checkbox" id="c-36744587" checked=""/><div class="controls bullet"><span class="by">diimdeep</span><span>|</span><a href="#36744543">root</a><span>|</span><a href="#36744560">parent</a><span>|</span><a href="#36744785">prev</a><span>|</span><a href="#36744601">next</a><span>|</span><label class="collapse" for="c-36744587">[-]</label><label class="expand" for="c-36744587">[1 more]</label></div><br/><div class="children"><div class="content">horrible</div><br/></div></div></div></div></div></div><div id="36744601" class="c"><input type="checkbox" id="c-36744601" checked=""/><div class="controls bullet"><span class="by">ginko</span><span>|</span><a href="#36744543">prev</a><span>|</span><a href="#36744853">next</a><span>|</span><label class="collapse" for="c-36744601">[-]</label><label class="expand" for="c-36744601">[11 more]</label></div><br/><div class="children"><div class="content">Just from reading the title i figured their idea of &#x27;modern&#x27; was using something like yaml or json.</div><br/><div id="36744633" class="c"><input type="checkbox" id="c-36744633" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#36744601">parent</a><span>|</span><a href="#36744678">next</a><span>|</span><label class="collapse" for="c-36744633">[-]</label><label class="expand" for="c-36744633">[4 more]</label></div><br/><div class="children"><div class="content">How Yaml of all things became so popular is a <i>mystery</i> to me.<p>I am guessing the primary selling point is that it&#x27;s sort of human readable similar to Markdown but even that (in fact, especially that) falls short when a configuration is more than just 5 lines, in my opinion. Trying to figure out which bullet this sub-bullet belongs to by holding my finger on the screen while scrolling is not an improved experience. And don&#x27;t even get me started on the clever type system.</div><br/><div id="36744672" class="c"><input type="checkbox" id="c-36744672" checked=""/><div class="controls bullet"><span class="by">sangnoir</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744633">parent</a><span>|</span><a href="#36744870">next</a><span>|</span><label class="collapse" for="c-36744672">[-]</label><label class="expand" for="c-36744672">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  Trying to figure out which bullet this sub-bullet belongs to by holding my finger on the screen while scrolling is not an improved experience<p>I don&#x27;t see this as any worse than figuring out where nested parentheses are closed: tooling helps. I&#x27;m almost certain there&#x27;s a whitespace plugin equivalent of Rainbow Parentheses for your IDE&#x2F;editor of choice</div><br/><div id="36744903" class="c"><input type="checkbox" id="c-36744903" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744672">parent</a><span>|</span><a href="#36744870">next</a><span>|</span><label class="collapse" for="c-36744903">[-]</label><label class="expand" for="c-36744903">[1 more]</label></div><br/><div class="children"><div class="content">Yes, tooling helps, though I am not always in my IDE. And I agree that it shouldn&#x27;t be worse than, say, JSON, but for one reason or another my brain seems to struggle with it just a bit more. It certainly does not seem like an improvement, which I feel is implied.</div><br/></div></div></div></div><div id="36744870" class="c"><input type="checkbox" id="c-36744870" checked=""/><div class="controls bullet"><span class="by">taspeotis</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744633">parent</a><span>|</span><a href="#36744672">prev</a><span>|</span><a href="#36744678">next</a><span>|</span><label class="collapse" for="c-36744870">[-]</label><label class="expand" for="c-36744870">[1 more]</label></div><br/><div class="children"><div class="content">Yelling At My Laptop</div><br/></div></div></div></div><div id="36744678" class="c"><input type="checkbox" id="c-36744678" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#36744601">parent</a><span>|</span><a href="#36744633">prev</a><span>|</span><a href="#36744853">next</a><span>|</span><label class="collapse" for="c-36744678">[-]</label><label class="expand" for="c-36744678">[6 more]</label></div><br/><div class="children"><div class="content">I found it amusing how the main features advertised for Task were the programming language used to write it, how it&#x27;s distributed as a single executable, and how it&#x27;s easy to install.<p>None of them are relevant, or made any case for using it instead of just using the thing described in an international standard that is shipped by default in UNIX and Unix-like OSes for decades.<p>It&#x27;s like their selling point is to talk crap about other tools without making any case for their own offering.</div><br/><div id="36744726" class="c"><input type="checkbox" id="c-36744726" checked=""/><div class="controls bullet"><span class="by">IceSentry</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744678">parent</a><span>|</span><a href="#36744853">next</a><span>|</span><label class="collapse" for="c-36744726">[-]</label><label class="expand" for="c-36744726">[5 more]</label></div><br/><div class="children"><div class="content">UNIX might be standard but it doesn&#x27;t make it cross platform. You might not like it but a lot of people develop on windows. Build tools that assume a unix environment is present aren&#x27;t a solution.</div><br/><div id="36744926" class="c"><input type="checkbox" id="c-36744926" checked=""/><div class="controls bullet"><span class="by">tannhaeuser</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744726">parent</a><span>|</span><a href="#36744789">next</a><span>|</span><label class="collapse" for="c-36744926">[-]</label><label class="expand" for="c-36744926">[1 more]</label></div><br/><div class="children"><div class="content">nmake has been part of MS Visual Studio and former incarnations such as MSVC since basically forever (1988?). And while the shell language recognized by command.com limits nmake&#x27;s usefulness, tar and curl have been added to standard Win installations only recently.</div><br/></div></div><div id="36744789" class="c"><input type="checkbox" id="c-36744789" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744726">parent</a><span>|</span><a href="#36744926">prev</a><span>|</span><a href="#36744815">next</a><span>|</span><label class="collapse" for="c-36744789">[-]</label><label class="expand" for="c-36744789">[1 more]</label></div><br/><div class="children"><div class="content">Posix is cross platform. There&#x27;s a reason it&#x27;s easy to build stuff on mac os, free bsd and linux.<p>Just because Windows decided to do everything differently to Unix and you decided to use Windows doesn&#x27;t mean everything else has to adapt to be &quot;cross platform&quot;.<p>FWIW, GNU Make runs fine in Windows if you&#x27;re allergic to WSL</div><br/></div></div><div id="36744815" class="c"><input type="checkbox" id="c-36744815" checked=""/><div class="controls bullet"><span class="by">sofixa</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744726">parent</a><span>|</span><a href="#36744789">prev</a><span>|</span><a href="#36744776">next</a><span>|</span><label class="collapse" for="c-36744815">[-]</label><label class="expand" for="c-36744815">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Build tools that assume a unix environment is present aren&#x27;t a solution.<p>Ut is a solution for the <i>vast</i> majority of cases. Even most Windows environments use WSL.</div><br/></div></div><div id="36744776" class="c"><input type="checkbox" id="c-36744776" checked=""/><div class="controls bullet"><span class="by">rewmie</span><span>|</span><a href="#36744601">root</a><span>|</span><a href="#36744726">parent</a><span>|</span><a href="#36744815">prev</a><span>|</span><a href="#36744853">next</a><span>|</span><label class="collapse" for="c-36744776">[-]</label><label class="expand" for="c-36744776">[1 more]</label></div><br/><div class="children"><div class="content">&gt; UNIX might be standard but it doesn&#x27;t make it cross platform. You might not like it but a lot of people develop on windows.<p>I fail to understand what point you tried to make. There are already plenty of Make implementations for Windows. If you think that installing a third party tool like Task is ok, I don&#x27;t see how doing the same with a Make implementation would exclude it as a valid alternative.</div><br/></div></div></div></div></div></div></div></div><div id="36744853" class="c"><input type="checkbox" id="c-36744853" checked=""/><div class="controls bullet"><span class="by">lf-non</span><span>|</span><a href="#36744601">prev</a><span>|</span><a href="#36744704">next</a><span>|</span><label class="collapse" for="c-36744853">[-]</label><label class="expand" for="c-36744853">[1 more]</label></div><br/><div class="children"><div class="content">We use this to trigger local tasks (like build, codegen, db migrations etc.) in our monorepo. We moved to it because our npm scripts were getting messier in absense of task dependencies, lack of multiline support, comments in json etc. Being an easy to use cross platform binary that can be managed through asdf made adoption very easy.<p>We have few colleagues working on react-native who use windows, and it is easy to support them because it uses mvdan&#x2F;sh for script execution.<p>Being able to organize tasks into multiple module specific taskfiles which can be merged (with auto-prefixing) into the top level taskfile is quite nice. The support for watch mode, timestamp checking, environment propagation with built in dotfile support are all nice features that we found very handy.<p>It would have been nicer if it used hcl but I can live with yaml. I am glad that it doesn&#x27;t use a real programming language - it makes it easy to look at a task in isolation (we have hundreds) and figure out what it depends on and what it does.<p>It is easy to be dismissive of such tools when glancing at the homepage, but it is one of those tools that grow on you when you give it a chance. The author has also been addressing a lot of common pain points over the years for which we are thankful - it is nice to be able to trigger tasks from any subdir (similar to npm run ...) and the new editor integration is quite too.<p>I see people saying that you can do all that this tool does using a few simple scripts. But these scripts only start off as simple, once you need a watch mode, cross platform support, timestamp change detection, selective argument propagation, need to exec dependencies in right directories etc. they tend to get buggier and messier.</div><br/></div></div><div id="36744704" class="c"><input type="checkbox" id="c-36744704" checked=""/><div class="controls bullet"><span class="by">endgame</span><span>|</span><a href="#36744853">prev</a><span>|</span><a href="#36744651">next</a><span>|</span><label class="collapse" for="c-36744704">[-]</label><label class="expand" for="c-36744704">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Taskfile is just a dialect of YAML format with a specific syntax<p>One of the few formats in common use that&#x27;s actually worse than Makefile, plus you need to go and find another binary to run the thing.</div><br/></div></div><div id="36744651" class="c"><input type="checkbox" id="c-36744651" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#36744704">prev</a><span>|</span><a href="#36744613">next</a><span>|</span><label class="collapse" for="c-36744651">[-]</label><label class="expand" for="c-36744651">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a shame, IMO, that make hasn&#x27;t really evolved.<p>I&#x27;ve been at a few places that insist on still using them.  They mostly work fine, but having PHONY littered everywhere gets a bit annoying.<p>I don&#x27;t think a successor can exist.  Makefiles seem like the last of a dying breed - not because make is bad, but because there are better ways to accomplish this already.<p>The market for people who&#x27;ve outgrown Makefiles but haven&#x27;t embraced the alternatives has to be pretty small...</div><br/><div id="36744769" class="c"><input type="checkbox" id="c-36744769" checked=""/><div class="controls bullet"><span class="by">amno</span><span>|</span><a href="#36744651">parent</a><span>|</span><a href="#36744613">next</a><span>|</span><label class="collapse" for="c-36744769">[-]</label><label class="expand" for="c-36744769">[1 more]</label></div><br/><div class="children"><div class="content">Why do you think they haven&#x27;t evolved? Latest versions give you access to Guile scheme as an extension language, not to mention that they extended over time for quite a bit. But it is all backwards compatible so old makefiles still run.</div><br/></div></div></div></div><div id="36744613" class="c"><input type="checkbox" id="c-36744613" checked=""/><div class="controls bullet"><span class="by">trallnag</span><span>|</span><a href="#36744651">prev</a><span>|</span><a href="#36744777">next</a><span>|</span><label class="collapse" for="c-36744613">[-]</label><label class="expand" for="c-36744613">[1 more]</label></div><br/><div class="children"><div class="content">Taskfile is not an alternative to Makefile. It is first and foremost an alternative to PHONY targets in a Makefile.</div><br/></div></div><div id="36744777" class="c"><input type="checkbox" id="c-36744777" checked=""/><div class="controls bullet"><span class="by">prabhu-yu</span><span>|</span><a href="#36744613">prev</a><span>|</span><a href="#36744826">next</a><span>|</span><label class="collapse" for="c-36744777">[-]</label><label class="expand" for="c-36744777">[3 more]</label></div><br/><div class="children"><div class="content">Scons using Pure Python Lang.  
No more DSL.  
<a href="https:&#x2F;&#x2F;scons.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;scons.org&#x2F;</a><p>It has cache facility to speed up re-builds.
scons --implicit-cache
I heard people say, Scons is slow, but it need not be
if we use cache facility.<p>Some people say Meson (<a href="https:&#x2F;&#x2F;mesonbuild.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;mesonbuild.com&#x2F;</a>)
would be its successor, but I use scons for 
building my C&#x2F;Python files.
(ex: Python to .mpy files, asciidoc to pdf, html etc)</div><br/><div id="36744889" class="c"><input type="checkbox" id="c-36744889" checked=""/><div class="controls bullet"><span class="by">high_priest</span><span>|</span><a href="#36744777">parent</a><span>|</span><a href="#36744835">next</a><span>|</span><label class="collapse" for="c-36744889">[-]</label><label class="expand" for="c-36744889">[1 more]</label></div><br/><div class="children"><div class="content">Here I found an opinionated, but still very descriptive comparison of build tools the authors of SCons have experienced.
<a href="https:&#x2F;&#x2F;github.com&#x2F;SCons&#x2F;scons&#x2F;wiki&#x2F;FromMakeToScons">https:&#x2F;&#x2F;github.com&#x2F;SCons&#x2F;scons&#x2F;wiki&#x2F;FromMakeToScons</a></div><br/></div></div><div id="36744835" class="c"><input type="checkbox" id="c-36744835" checked=""/><div class="controls bullet"><span class="by">ginko</span><span>|</span><a href="#36744777">parent</a><span>|</span><a href="#36744889">prev</a><span>|</span><a href="#36744826">next</a><span>|</span><label class="collapse" for="c-36744835">[-]</label><label class="expand" for="c-36744835">[1 more]</label></div><br/><div class="children"><div class="content">I used to swear by scons but it really collapses under its own weight when projects become larger.<p>At my work we used it for a fairly large source tree and no-change incremental builds would take a good minute for scons to figure out there&#x27;s nothing to do.<p>These days we use something based on google blueprint which generates ninja build files.</div><br/></div></div></div></div><div id="36744748" class="c"><input type="checkbox" id="c-36744748" checked=""/><div class="controls bullet"><span class="by">gorgoiler</span><span>|</span><a href="#36744826">prev</a><span>|</span><a href="#36744775">next</a><span>|</span><label class="collapse" for="c-36744748">[-]</label><label class="expand" for="c-36744748">[1 more]</label></div><br/><div class="children"><div class="content">The command line entry points for your tooling need to be in the same language environment as everything else.<p>If your module in app&#x2F;constants.py defines PORT which app&#x2F;server.py serves and app&#x2F;client.py connects to, how do you drop that same constant into your Makefile or docker-compose.yaml?<p>For me, literally everything including my docker, docker-compose, caddy, nginx, and of course the application code and all auxiliary scripts are presented as Python modules to solve this exact problem.</div><br/></div></div><div id="36744775" class="c"><input type="checkbox" id="c-36744775" checked=""/><div class="controls bullet"><span class="by">robbywashere_</span><span>|</span><a href="#36744748">prev</a><span>|</span><a href="#36744627">next</a><span>|</span><label class="collapse" for="c-36744775">[-]</label><label class="expand" for="c-36744775">[1 more]</label></div><br/><div class="children"><div class="content">I use autoenv and a `.&#x2F;scripts` directory.<p>So my .env file just “includes” (automatically via autoenv) what’s in my scripts directory along with setting any environment variables when I’m jumping around my shell. Therefore I can just write a function like “dbup” or “devstart” and have those locally aliased to whatever they summon in the current project</div><br/></div></div><div id="36744627" class="c"><input type="checkbox" id="c-36744627" checked=""/><div class="controls bullet"><span class="by">Pesthuf</span><span>|</span><a href="#36744775">prev</a><span>|</span><a href="#36744733">next</a><span>|</span><label class="collapse" for="c-36744627">[-]</label><label class="expand" for="c-36744627">[3 more]</label></div><br/><div class="children"><div class="content">I think I&#x27;d rather just keep using make .phony targets. The last thing I want is more yaml.</div><br/><div id="36744646" class="c"><input type="checkbox" id="c-36744646" checked=""/><div class="controls bullet"><span class="by">trallnag</span><span>|</span><a href="#36744627">parent</a><span>|</span><a href="#36744774">next</a><span>|</span><label class="collapse" for="c-36744646">[-]</label><label class="expand" for="c-36744646">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also &quot;Justfile&quot; which is basically the same but with a syntax that is closer to a Makefile.</div><br/></div></div><div id="36744774" class="c"><input type="checkbox" id="c-36744774" checked=""/><div class="controls bullet"><span class="by">strokirk</span><span>|</span><a href="#36744627">parent</a><span>|</span><a href="#36744646">prev</a><span>|</span><a href="#36744733">next</a><span>|</span><label class="collapse" for="c-36744774">[-]</label><label class="expand" for="c-36744774">[1 more]</label></div><br/><div class="children"><div class="content">I would take yaml and regular bash over long Makefile invocations every day.</div><br/></div></div></div></div><div id="36744634" class="c"><input type="checkbox" id="c-36744634" checked=""/><div class="controls bullet"><span class="by">choeger</span><span>|</span><a href="#36744733">prev</a><span>|</span><a href="#36744688">next</a><span>|</span><label class="collapse" for="c-36744634">[-]</label><label class="expand" for="c-36744634">[2 more]</label></div><br/><div class="children"><div class="content">So what does make (the took is not called Makefile, btw) &quot;wrong&quot;. Where could one improve on it?<p>1. Syntax. Makefiles aren&#x27;t parseable and have some at least unexpected syntactic properties.<p>2. Dependency detection: AFAIK any make will always use a timestamp and the precision varies a lot. A checksum or at least guaranteed resolution would be great. Also, you can&#x27;t depend on directories.<p>3. Dynamics (this is going to be contested): Changing dependencies and tasks at runtime is possible with GNU make, but not ideal.<p>Taskfile improves on problem 1 but probably worsens everything else.</div><br/><div id="36744720" class="c"><input type="checkbox" id="c-36744720" checked=""/><div class="controls bullet"><span class="by">feffe</span><span>|</span><a href="#36744634">parent</a><span>|</span><a href="#36744688">next</a><span>|</span><label class="collapse" for="c-36744720">[-]</label><label class="expand" for="c-36744720">[1 more]</label></div><br/><div class="children"><div class="content">- Multiple out file dependencies are also difficult to describe in make (GNU Make). There&#x27;s a dedicated section for how to solve it in the manual[^1] but it&#x27;s a crutch.<p>- Taking environment variables into account as a dependency (they may affect Makefile logic and also code generation by tools that interpret them).<p>[^1]: <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;automake&#x2F;manual&#x2F;html_node&#x2F;Multiple-Outputs.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;automake&#x2F;manual&#x2F;html_node&#x2F;Multi...</a></div><br/></div></div></div></div><div id="36744688" class="c"><input type="checkbox" id="c-36744688" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#36744634">prev</a><span>|</span><a href="#36744600">next</a><span>|</span><label class="collapse" for="c-36744688">[-]</label><label class="expand" for="c-36744688">[1 more]</label></div><br/><div class="children"><div class="content">Seems less file-centric than gmake. You have to repeat filenames in task commands, and depend on tasks by name rather than depending on generated files.</div><br/></div></div><div id="36744600" class="c"><input type="checkbox" id="c-36744600" checked=""/><div class="controls bullet"><span class="by">armitron</span><span>|</span><a href="#36744688">prev</a><span>|</span><a href="#36744655">next</a><span>|</span><label class="collapse" for="c-36744600">[-]</label><label class="expand" for="c-36744600">[1 more]</label></div><br/><div class="children"><div class="content">Whenever I read &quot;modern alternative&quot;, it&#x27;s nearly always certain that the older tech is superior on multiple fronts:<p>Better documented, better designed and architected (taking more use-cases &#x2F; edge-cases into account), composable, easier to debug, fewer dependencies.</div><br/></div></div><div id="36744655" class="c"><input type="checkbox" id="c-36744655" checked=""/><div class="controls bullet"><span class="by">raverbashing</span><span>|</span><a href="#36744600">prev</a><span>|</span><label class="collapse" for="c-36744655">[-]</label><label class="expand" for="c-36744655">[4 more]</label></div><br/><div class="children"><div class="content">Ok cool, let&#x27;s see what this is about<p>&gt; Taskfile is just a dialect of YAML format with a specific syntax<p>I imagined that. Ok bye<p>Just write a js or python script. Or even a shell script<p>Makefile syntax is bad but frankly YAML was a bad idea. (slightly less than XML sure)</div><br/><div id="36744902" class="c"><input type="checkbox" id="c-36744902" checked=""/><div class="controls bullet"><span class="by">stephenr</span><span>|</span><a href="#36744655">parent</a><span>|</span><a href="#36744773">next</a><span>|</span><label class="collapse" for="c-36744902">[-]</label><label class="expand" for="c-36744902">[1 more]</label></div><br/><div class="children"><div class="content">XML is verbose. That’s the problem.<p>YAML is ridiculously complex, with a bunch of surprising behaviour.<p>I would take XML over YAML any day.</div><br/></div></div><div id="36744773" class="c"><input type="checkbox" id="c-36744773" checked=""/><div class="controls bullet"><span class="by">mrweasel</span><span>|</span><a href="#36744655">parent</a><span>|</span><a href="#36744902">prev</a><span>|</span><a href="#36744736">next</a><span>|</span><label class="collapse" for="c-36744773">[-]</label><label class="expand" for="c-36744773">[1 more]</label></div><br/><div class="children"><div class="content">I can understand people not wanting to write Makefile and most of them just ends up being .phony and a bunch of shell code in many cases.<p>Taskfile might be great for many use cases, but yes, why not just write a shell script. Almost every time I use a CI system, I end up falling back to just having it run a shell script, rather than relying on many of the build in features, because they are almost always a bit contrived. The same can be said for Makefile replacements, they try to predict what people need, and in the end it ends up being a fancy way of running a script.</div><br/></div></div><div id="36744736" class="c"><input type="checkbox" id="c-36744736" checked=""/><div class="controls bullet"><span class="by">account-5</span><span>|</span><a href="#36744655">parent</a><span>|</span><a href="#36744773">prev</a><span>|</span><label class="collapse" for="c-36744736">[-]</label><label class="expand" for="c-36744736">[1 more]</label></div><br/><div class="children"><div class="content">If I had the choice of yaml and XML I&#x27;d probably choose XML.</div><br/></div></div></div></div></div></div></div></div></div></body></html>