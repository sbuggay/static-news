<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1738141265766" as="style"/><link rel="stylesheet" href="styles.css?v=1738141265766"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://maxima-on-wasm.pages.dev/">Maxima in the browser using Embedded Common Lisp on WASM</a> <span class="domain">(<a href="https://maxima-on-wasm.pages.dev">maxima-on-wasm.pages.dev</a>)</span></div><div class="subtext"><span>v9v</span> | <span>49 comments</span></div><br/><div><div id="42853960" class="c"><input type="checkbox" id="c-42853960" checked=""/><div class="controls bullet"><span class="by">r85804306610</span><span>|</span><a href="#42859550">next</a><span>|</span><label class="collapse" for="c-42853960">[-]</label><label class="expand" for="c-42853960">[6 more]</label></div><br/><div class="children"><div class="content">because nobody knows maxima, some things to try. also plot2d&#x2F;plot3d work, so that&#x27;s pretty neat. the whole thing is powered by <a href="https:&#x2F;&#x2F;ecl.common-lisp.dev" rel="nofollow">https:&#x2F;&#x2F;ecl.common-lisp.dev</a> and the op announcement is here <a href="https:&#x2F;&#x2F;mailman3.common-lisp.net&#x2F;hyperkitty&#x2F;list&#x2F;ecl-devel@common-lisp.net&#x2F;thread&#x2F;T64S5EMVV6WHDPKWZ3AQHEPO3EQE2K5M&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mailman3.common-lisp.net&#x2F;hyperkitty&#x2F;list&#x2F;ecl-devel@c...</a><p><pre><code>  :lisp (+ 2 2)
  solve(f(x)^2-1,x);
  integrate(x^2,x);
  2^1024;
  factor(30!);
  a:1
  b:2
  a+b;
  sqrt(a^2+b^2);
  expr: log((x+2)*(x-2))+log(x);
  ratsimp(expr);
  fullratsimp(expr);
  trigsimp(2*cos(x)^2 + sin(x)^2);
  solve(x^3=1,x);
  diff(sin(x), x);
  float([%e,%pi,%phi,%gamma]);
  f(x):=x^2;
  f(10);
  taylor(sin(x),x,0,5);
  plot2d(x^2-x+3,[x,-10,10]);
  plot2d([x^2, x^3, x^4 -x +1] ,[x,-10,10]);
  f(x,y):= sin(x) + cos(y);
  plot3d(f(x,y), [x,-5,5], [y,-5,5]);</code></pre></div><br/><div id="42856410" class="c"><input type="checkbox" id="c-42856410" checked=""/><div class="controls bullet"><span class="by">seanhunter</span><span>|</span><a href="#42853960">parent</a><span>|</span><a href="#42855910">next</a><span>|</span><label class="collapse" for="c-42856410">[-]</label><label class="expand" for="c-42856410">[2 more]</label></div><br/><div class="children"><div class="content">One thing I would add for people who are new to this is you can do<p>??something; to get the internal help.  So say I want to know how to solve ODEs in maxima, do<p>??ode;
…and you’ll get help.  It generally does a search and presents a numbered list of options and you’ll want to type a number and a semicolon.</div><br/><div id="42856596" class="c"><input type="checkbox" id="c-42856596" checked=""/><div class="controls bullet"><span class="by">seanhunter</span><span>|</span><a href="#42853960">root</a><span>|</span><a href="#42856410">parent</a><span>|</span><a href="#42855910">next</a><span>|</span><label class="collapse" for="c-42856596">[-]</label><label class="expand" for="c-42856596">[1 more]</label></div><br/><div class="children"><div class="content">Some other useful things:<p>1)solve to solve a system and “variable: expression” will assign that expression to that variable.  You can then substitute the results into a later expression using a “,”.  So you might do<p><pre><code>   solns:solve([x+3*y=5,5*x-2*y=4],[x,y]);
   z:%e^(x,y),solns;
</code></pre>
That will solve the system and then substitute those solutions into the expression for z.<p>2)pi, e, and the imaginary unit are called %pi, %e and %i respectively.<p>3)The symbolic solver is a lot less powerful than mathematica but you can do<p><pre><code>   load(“to_poly_solve”);
</code></pre>
To get a polynomial solver that will at least get you all the roots of polynomials and does better on most trigonometric equations.<p><pre><code>   load(“drawdf”);
</code></pre>
Is useful for drawing vector fields, phase portraits and that type of thing.<p>4) you can use a single quote to delay evaluation of something.  Like say you want to write a differential equation and you don’t want it to actually try to evaluate the derivative inline, you can write something like<p><pre><code>   osc:‘diff(x,t,2) + r*’diff(x,t) + k*x = p*cos(omega\*t);
</code></pre>
…for a forced harmonic oscilator. Or whatever. This is useful if you want to mess with the expression a bit before you try to solve the expression (eg doing substitutions or whatnot).*</div><br/></div></div></div></div><div id="42855910" class="c"><input type="checkbox" id="c-42855910" checked=""/><div class="controls bullet"><span class="by">michaelsbradley</span><span>|</span><a href="#42853960">parent</a><span>|</span><a href="#42856410">prev</a><span>|</span><a href="#42859550">next</a><span>|</span><label class="collapse" for="c-42855910">[-]</label><label class="expand" for="c-42855910">[3 more]</label></div><br/><div class="children"><div class="content">Thank you! As someone with no prior Maxima experience, those were some great starting points for me to learn and explore!<p>Note `plot3d(...);` doesn&#x27;t seem to work: the output image is missing&#x2F;broken.</div><br/><div id="42856405" class="c"><input type="checkbox" id="c-42856405" checked=""/><div class="controls bullet"><span class="by">r85804306610</span><span>|</span><a href="#42853960">root</a><span>|</span><a href="#42855910">parent</a><span>|</span><a href="#42856180">next</a><span>|</span><label class="collapse" for="c-42856405">[-]</label><label class="expand" for="c-42856405">[1 more]</label></div><br/><div class="children"><div class="content">you probably didn&#x27;t define the function, f(x,y), which is the line before plot3d. it&#x27;s a slightly buggy behavior</div><br/></div></div><div id="42856180" class="c"><input type="checkbox" id="c-42856180" checked=""/><div class="controls bullet"><span class="by">williamstein</span><span>|</span><a href="#42853960">root</a><span>|</span><a href="#42855910">parent</a><span>|</span><a href="#42856405">prev</a><span>|</span><a href="#42859550">next</a><span>|</span><label class="collapse" for="c-42856180">[-]</label><label class="expand" for="c-42856180">[1 more]</label></div><br/><div class="children"><div class="content">plot3d did work for me (on Chrome).  Impressive.</div><br/></div></div></div></div></div></div><div id="42859550" class="c"><input type="checkbox" id="c-42859550" checked=""/><div class="controls bullet"><span class="by">vindarel</span><span>|</span><a href="#42853960">prev</a><span>|</span><a href="#42854138">next</a><span>|</span><label class="collapse" for="c-42859550">[-]</label><label class="expand" for="c-42859550">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll add options to run Maxima:<p>* [Maxima on Android](<a href="https:&#x2F;&#x2F;play.google.com&#x2F;store&#x2F;apps&#x2F;details?id=jp.yhonda">https:&#x2F;&#x2F;play.google.com&#x2F;store&#x2F;apps&#x2F;details?id=jp.yhonda</a>), built with ECL.<p>* [Maxima on Jupyter](<a href="https:&#x2F;&#x2F;github.com&#x2F;robert-dodier&#x2F;maxima-jupyter">https:&#x2F;&#x2F;github.com&#x2F;robert-dodier&#x2F;maxima-jupyter</a>)<p>* Maxima can be used via [SageMath](<a href="https:&#x2F;&#x2F;www.sagemath.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.sagemath.org&#x2F;</a>) 
  and [KDE Cantor](<a href="https:&#x2F;&#x2F;apps.kde.org&#x2F;cantor&#x2F;" rel="nofollow">https:&#x2F;&#x2F;apps.kde.org&#x2F;cantor&#x2F;</a>).<p>* Of course, with Emacs: [maxima-mode](<a href="https:&#x2F;&#x2F;gitlab.com&#x2F;sasanidas&#x2F;maxima" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;sasanidas&#x2F;maxima</a>) ([screenshot](<a href="https:&#x2F;&#x2F;community.linuxmint.com&#x2F;img&#x2F;screenshots&#x2F;maxima-emacs.png" rel="nofollow">https:&#x2F;&#x2F;community.linuxmint.com&#x2F;img&#x2F;screenshots&#x2F;maxima-emacs...</a>))<p>and [maxima-interface](<a href="https:&#x2F;&#x2F;github.com&#x2F;jmbr&#x2F;maxima-interface">https:&#x2F;&#x2F;github.com&#x2F;jmbr&#x2F;maxima-interface</a>) to ease the interface between Maxima and Common Lisp.<p>* it can be used [from a Lisp REPL](<a href="https:&#x2F;&#x2F;mahmoodsheikh36.github.io&#x2F;post&#x2F;20230510181916-maxima_in_lisp&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mahmoodsheikh36.github.io&#x2F;post&#x2F;20230510181916-maxima...</a>).<p>(and [wxMaxima](<a href="https:&#x2F;&#x2F;wxmaxima-developers.github.io&#x2F;wxmaxima&#x2F;" rel="nofollow">https:&#x2F;&#x2F;wxmaxima-developers.github.io&#x2F;wxmaxima&#x2F;</a>): a graphical frontend as mentioned earlier)<p>(find the links and more scientific libraries for CL on <a href="https:&#x2F;&#x2F;github.com&#x2F;CodyReichert&#x2F;awesome-cl">https:&#x2F;&#x2F;github.com&#x2F;CodyReichert&#x2F;awesome-cl</a>)</div><br/></div></div><div id="42854138" class="c"><input type="checkbox" id="c-42854138" checked=""/><div class="controls bullet"><span class="by">unusual-name</span><span>|</span><a href="#42859550">prev</a><span>|</span><a href="#42854046">next</a><span>|</span><label class="collapse" for="c-42854138">[-]</label><label class="expand" for="c-42854138">[3 more]</label></div><br/><div class="children"><div class="content">We used maxima extensively in high school. I remember that I forgot to bring my laptop when we had our first maxima lesson. My teachers understandably scolded me for not bringing my laptop to school, but to their surprise I found an online version of maxima. [1] While it was good enough for this period, in contrast to this implementation it was truly awful.<p>I just think it&#x27;s kinda sad that a lot of people never heard of maxima, as it is a pretty decent tool once you learn how to use it.<p>[1] <a href="http:&#x2F;&#x2F;www.dma.ufv.br&#x2F;maxima&#x2F;index.php" rel="nofollow">http:&#x2F;&#x2F;www.dma.ufv.br&#x2F;maxima&#x2F;index.php</a></div><br/><div id="42855601" class="c"><input type="checkbox" id="c-42855601" checked=""/><div class="controls bullet"><span class="by">forgotpwd16</span><span>|</span><a href="#42854138">parent</a><span>|</span><a href="#42854046">next</a><span>|</span><label class="collapse" for="c-42855601">[-]</label><label class="expand" for="c-42855601">[2 more]</label></div><br/><div class="children"><div class="content">&gt;scolded me for not bringing my laptop to school<p>That sounds stupid. What if someone doesn&#x27;t have a laptop? Even if do, cannot see why one&#x27;s obligated to bring it along.<p>&gt;in contrast to this implementation it was truly awful<p>It surely has the advantage of interactivity. The version you linked seems to restart the session in every query. On the other hand, seems more stable. Both `invert(matrix([2,3,1], [a,0,0], [1,4,8]));` and `draw3d(explicit(x^2+y^2,x,-1,1,y,-1,1));` that run fine in UFV&#x27;s DMa version fail to run in the submitted one.</div><br/><div id="42855995" class="c"><input type="checkbox" id="c-42855995" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#42854138">root</a><span>|</span><a href="#42855601">parent</a><span>|</span><a href="#42854046">next</a><span>|</span><label class="collapse" for="c-42855995">[-]</label><label class="expand" for="c-42855995">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That sounds stupid. What if someone doesn&#x27;t have a laptop? Even if do, cannot see why one&#x27;s obligated to bring it along.<p>Where I live, the school issues laptops to students, so not bringing the laptop is today&#x27;s not bringing your textbook.  (As a point of fact, my daughter is in 10th grade and has had exactly one physical textbook so far; the rest have been digital)</div><br/></div></div></div></div></div></div><div id="42854046" class="c"><input type="checkbox" id="c-42854046" checked=""/><div class="controls bullet"><span class="by">veryveryold</span><span>|</span><a href="#42854138">prev</a><span>|</span><a href="#42858286">next</a><span>|</span><label class="collapse" for="c-42854046">[-]</label><label class="expand" for="c-42854046">[6 more]</label></div><br/><div class="children"><div class="content">(to_lisp);
(loop for i below 1000000 count t) takes 0.34 seconds on my system with vanilla maxima (on gcl). In the browser it takes about 7 seconds, so it must be a factor of 21 in computer time. Using sbcl outside maxima  it takes 0.002 seconds. So one can get some idea about performance.<p>Perhaps it could be combined with J (array language), like in the playground <a href="https:&#x2F;&#x2F;code.jsoftware.com&#x2F;wiki&#x2F;Playground" rel="nofollow">https:&#x2F;&#x2F;code.jsoftware.com&#x2F;wiki&#x2F;Playground</a> that is using webassembly<p>It seems to work very well locally without connection to the web.</div><br/><div id="42855572" class="c"><input type="checkbox" id="c-42855572" checked=""/><div class="controls bullet"><span class="by">disentanglement</span><span>|</span><a href="#42854046">parent</a><span>|</span><a href="#42854371">next</a><span>|</span><label class="collapse" for="c-42855572">[-]</label><label class="expand" for="c-42855572">[3 more]</label></div><br/><div class="children"><div class="content">Apart from the restriction to bytecode interpretation already mentioned, one reason for the slowness is that the sort of C with garbage collection that ECL needs is quite difficult to do in Webassembly. There is no way to scan previous stack frames for pointers in wasm, so all pointers to heap objects (or everything that looks like it might be one) have to be kept around somewhere in the heap where the GC can find them. This is really expensive and slows down the code a lot.<p>Of course, another approach would be to use the new wasm GC interface. But that requires defining a new ABI for garbage collected C, writing a new backend for LLVM, etc. So that would also be a lot of work to implement. Right now, there just is no efficient way to run programs that depend on bdwgc on wasm.</div><br/><div id="42859848" class="c"><input type="checkbox" id="c-42859848" checked=""/><div class="controls bullet"><span class="by">whitten</span><span>|</span><a href="#42854046">root</a><span>|</span><a href="#42855572">parent</a><span>|</span><a href="#42854371">next</a><span>|</span><label class="collapse" for="c-42859848">[-]</label><label class="expand" for="c-42859848">[2 more]</label></div><br/><div class="children"><div class="content">What is bdwgc ? gc==garbage collection ?</div><br/><div id="42859902" class="c"><input type="checkbox" id="c-42859902" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#42854046">root</a><span>|</span><a href="#42859848">parent</a><span>|</span><a href="#42854371">next</a><span>|</span><label class="collapse" for="c-42859902">[-]</label><label class="expand" for="c-42859902">[1 more]</label></div><br/><div class="children"><div class="content">The Boehm-Demers-Weiser garbage collecting memory allocation library.<p><a href="https:&#x2F;&#x2F;www.hboehm.info&#x2F;gc&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.hboehm.info&#x2F;gc&#x2F;</a></div><br/></div></div></div></div></div></div><div id="42854371" class="c"><input type="checkbox" id="c-42854371" checked=""/><div class="controls bullet"><span class="by">jackdaniel</span><span>|</span><a href="#42854046">parent</a><span>|</span><a href="#42855572">prev</a><span>|</span><a href="#42858440">next</a><span>|</span><label class="collapse" for="c-42854371">[-]</label><label class="expand" for="c-42854371">[1 more]</label></div><br/><div class="children"><div class="content">Web version of ecl when compiler is invoked at runtime, uses one-pass bytecodes compiler, so things tend to lack optimization unless compiled beforehand.</div><br/></div></div><div id="42858440" class="c"><input type="checkbox" id="c-42858440" checked=""/><div class="controls bullet"><span class="by">ted_dunning</span><span>|</span><a href="#42854046">parent</a><span>|</span><a href="#42854371">prev</a><span>|</span><a href="#42858286">next</a><span>|</span><label class="collapse" for="c-42858440">[-]</label><label class="expand" for="c-42858440">[1 more]</label></div><br/><div class="children"><div class="content">It feels faster than the other web-hosted maxima instances out there and if you take into account the cost of installing common lisp and maxima (I only need to use this about twice a year so I don&#x27;t keep them live), it can be much faster than a local instance.</div><br/></div></div></div></div><div id="42858286" class="c"><input type="checkbox" id="c-42858286" checked=""/><div class="controls bullet"><span class="by">phoe-krk</span><span>|</span><a href="#42854046">prev</a><span>|</span><a href="#42855891">next</a><span>|</span><label class="collapse" for="c-42858286">[-]</label><label class="expand" for="c-42858286">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s called &quot;Embeddable Common Lisp&quot;, not &quot;Embedded Common Lisp&quot;.<p><a href="https:&#x2F;&#x2F;ecl.common-lisp.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ecl.common-lisp.dev&#x2F;</a></div><br/></div></div><div id="42855891" class="c"><input type="checkbox" id="c-42855891" checked=""/><div class="controls bullet"><span class="by">maple3142</span><span>|</span><a href="#42858286">prev</a><span>|</span><a href="#42853753">next</a><span>|</span><label class="collapse" for="c-42855891">[-]</label><label class="expand" for="c-42855891">[1 more]</label></div><br/><div class="children"><div class="content">Similar project: PARI&#x2F;GP on WASM
<a href="https:&#x2F;&#x2F;pari.math.u-bordeaux.fr&#x2F;gpexpwasm.html" rel="nofollow">https:&#x2F;&#x2F;pari.math.u-bordeaux.fr&#x2F;gpexpwasm.html</a></div><br/></div></div><div id="42853753" class="c"><input type="checkbox" id="c-42853753" checked=""/><div class="controls bullet"><span class="by">v9v</span><span>|</span><a href="#42855891">prev</a><span>|</span><a href="#42853936">next</a><span>|</span><label class="collapse" for="c-42853753">[-]</label><label class="expand" for="c-42853753">[1 more]</label></div><br/><div class="children"><div class="content">Raymond Toy posted this on the ECL mailing list: <a href="https:&#x2F;&#x2F;mailman3.common-lisp.net&#x2F;hyperkitty&#x2F;list&#x2F;ecl-devel@common-lisp.net&#x2F;thread&#x2F;T64S5EMVV6WHDPKWZ3AQHEPO3EQE2K5M&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mailman3.common-lisp.net&#x2F;hyperkitty&#x2F;list&#x2F;ecl-devel@c...</a></div><br/></div></div><div id="42853936" class="c"><input type="checkbox" id="c-42853936" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#42853753">prev</a><span>|</span><a href="#42860406">next</a><span>|</span><label class="collapse" for="c-42853936">[-]</label><label class="expand" for="c-42853936">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve tried Maxima on a few occasions but the syntax somehow fails to agree with me.<p>Been looking for a self-hosted alternative to Wolfram Alpha, and just stumbled over Mathics, which has a Django front-end[1]. Rough but usable Mathematica alternative, at least for basic use.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;Mathics3&#x2F;mathics-django">https:&#x2F;&#x2F;github.com&#x2F;Mathics3&#x2F;mathics-django</a></div><br/><div id="42854682" class="c"><input type="checkbox" id="c-42854682" checked=""/><div class="controls bullet"><span class="by">pkaye</span><span>|</span><a href="#42853936">parent</a><span>|</span><a href="#42860406">next</a><span>|</span><label class="collapse" for="c-42854682">[-]</label><label class="expand" for="c-42854682">[1 more]</label></div><br/><div class="children"><div class="content">There is also Expreduce which is a CAS written in Go that follows Mathematica syntax.<p><a href="https:&#x2F;&#x2F;corywalker.github.io&#x2F;expreduce-docs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;corywalker.github.io&#x2F;expreduce-docs&#x2F;</a></div><br/></div></div></div></div><div id="42860406" class="c"><input type="checkbox" id="c-42860406" checked=""/><div class="controls bullet"><span class="by">trott</span><span>|</span><a href="#42853936">prev</a><span>|</span><a href="#42855634">next</a><span>|</span><label class="collapse" for="c-42860406">[-]</label><label class="expand" for="c-42860406">[1 more]</label></div><br/><div class="children"><div class="content">How do Maxima and SymPy compare in terms of capability, features and speed (native, not WASM)?</div><br/></div></div><div id="42855634" class="c"><input type="checkbox" id="c-42855634" checked=""/><div class="controls bullet"><span class="by">fsckboy</span><span>|</span><a href="#42860406">prev</a><span>|</span><a href="#42856446">next</a><span>|</span><label class="collapse" for="c-42855634">[-]</label><label class="expand" for="c-42855634">[2 more]</label></div><br/><div class="children"><div class="content">tangential: can Macsyma&#x2F;Maxima do symbolic boolean algebra, reducing formulae to bog standard &quot;OR of ANDs&quot; form?<p>(I&#x27;ve tried looking at the doc, and it&#x27;s clearly not a feature they showcase, and as others have said, the way it works is not intuitive to me. I really need this, but trying to do it in lisp is becoming its own project and I want to get back to my project. I found some really nice online reducers, but the UIs are not conducive to pasting&#x2F;putting in simultaneous equations, and using those outputs as inputs again)</div><br/><div id="42856372" class="c"><input type="checkbox" id="c-42856372" checked=""/><div class="controls bullet"><span class="by">r85804306610</span><span>|</span><a href="#42855634">parent</a><span>|</span><a href="#42856446">next</a><span>|</span><label class="collapse" for="c-42856372">[-]</label><label class="expand" for="c-42856372">[1 more]</label></div><br/><div class="children"><div class="content">maxima has logic package, written in 2009 by alexey beshenov. it lives in share&#x2F;logic which is also where the texi docs are. it&#x27;s included with the op version,<p><pre><code>  load(logic);
  logic_simp (a or (b or false or (a or b)));
  characteristic_vector (a xor b);
  zhegalkin_form ((a implies b) or c);
  e : ((a or b) xor c) and d$
  logic_equiv (e, zhegalkin_form (e));
  logic_diff (a or b or c, a);
  demorgan (boolean_form (a nor b nor c));
</code></pre>
etc. there&#x27;s more stuff in docs</div><br/></div></div></div></div><div id="42856446" class="c"><input type="checkbox" id="c-42856446" checked=""/><div class="controls bullet"><span class="by">azakai</span><span>|</span><a href="#42855634">prev</a><span>|</span><a href="#42857529">next</a><span>|</span><label class="collapse" for="c-42856446">[-]</label><label class="expand" for="c-42856446">[4 more]</label></div><br/><div class="children"><div class="content">It looks like the wasm file here is not fully optimized. Reading the wasm and JS, I&#x27;d guess -O1 perhaps? Linking with -O3 would make it smaller and possibly faster (10% smaller binary in a quick local test, and it removes 90% of locals, which should speed things up too)<p>But it is possible that it&#x27;s already fast enough for the purposes here, and this doesn&#x27;t matter.</div><br/><div id="42858303" class="c"><input type="checkbox" id="c-42858303" checked=""/><div class="controls bullet"><span class="by">jackdaniel</span><span>|</span><a href="#42856446">parent</a><span>|</span><a href="#42857529">next</a><span>|</span><label class="collapse" for="c-42858303">[-]</label><label class="expand" for="c-42858303">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s worse, it is -O0 -- this is because of the GC and binaryen&#x2F;llvm interaction. For GC to work we need to spill stack call pointers (and binaryen has such a flag!), but for the optimization level 1 and above said pointers are sometimes optimized away :3<p>I&#x27;m experimenting with WASI and the GC extension for WASM, but that&#x27;s months from today if we speak about complete port (given my time capacity at the moment).</div><br/><div id="42862190" class="c"><input type="checkbox" id="c-42862190" checked=""/><div class="controls bullet"><span class="by">azakai</span><span>|</span><a href="#42856446">root</a><span>|</span><a href="#42858303">parent</a><span>|</span><a href="#42857529">next</a><span>|</span><label class="collapse" for="c-42862190">[-]</label><label class="expand" for="c-42862190">[2 more]</label></div><br/><div class="children"><div class="content">Interesting, thanks for the details!<p>WasmGC would be the best solution here, yeah, then the VM handles pointers for you.<p>Otherwise, I could look into the SpillPointers issue for you if you want - optimizations should not remove GC pointers, so that sounds like a bug. If so feel free to file an issue with a testcase. (But WasmGC would be best, avoiding all that.)</div><br/><div id="42862437" class="c"><input type="checkbox" id="c-42862437" checked=""/><div class="controls bullet"><span class="by">disentanglement</span><span>|</span><a href="#42856446">root</a><span>|</span><a href="#42862190">parent</a><span>|</span><a href="#42857529">next</a><span>|</span><label class="collapse" for="c-42862437">[-]</label><label class="expand" for="c-42862437">[1 more]</label></div><br/><div class="children"><div class="content">As far as I know, optimization levels higher than -O0 work fine with SpillPointers. But at least in a cursory first look I had a while ago, the optimizations made things slower overall. I guess they might lead actually to more &quot;moving pointers in and out of the heap&quot; since the SpillPointers pass is done at the very end. But this should all be investigated more thoroughly.</div><br/></div></div></div></div></div></div></div></div><div id="42857529" class="c"><input type="checkbox" id="c-42857529" checked=""/><div class="controls bullet"><span class="by">gtpedrosa</span><span>|</span><a href="#42856446">prev</a><span>|</span><a href="#42853980">next</a><span>|</span><label class="collapse" for="c-42857529">[-]</label><label class="expand" for="c-42857529">[1 more]</label></div><br/><div class="children"><div class="content">This brings back memories. We used this in my mechanical engineering mechanisms class. It was cool to have the (simplified!) symbolic formulas describing the movements we were designing.</div><br/></div></div><div id="42853980" class="c"><input type="checkbox" id="c-42853980" checked=""/><div class="controls bullet"><span class="by">hackernj</span><span>|</span><a href="#42857529">prev</a><span>|</span><a href="#42857973">next</a><span>|</span><label class="collapse" for="c-42853980">[-]</label><label class="expand" for="c-42853980">[1 more]</label></div><br/><div class="children"><div class="content">Nice. I&#x27;ve been using this Maxima interpreter: <a href="http:&#x2F;&#x2F;www.dma.ufv.br&#x2F;maxima&#x2F;index.php" rel="nofollow">http:&#x2F;&#x2F;www.dma.ufv.br&#x2F;maxima&#x2F;index.php</a></div><br/></div></div><div id="42857973" class="c"><input type="checkbox" id="c-42857973" checked=""/><div class="controls bullet"><span class="by">soegaard</span><span>|</span><a href="#42853980">prev</a><span>|</span><a href="#42856852">next</a><span>|</span><label class="collapse" for="c-42857973">[-]</label><label class="expand" for="c-42857973">[2 more]</label></div><br/><div class="children"><div class="content">This is great?<p>Feature request: A way to easily copy old expressions into the current input field (to fix mistakes).</div><br/></div></div><div id="42856852" class="c"><input type="checkbox" id="c-42856852" checked=""/><div class="controls bullet"><span class="by">phkahler</span><span>|</span><a href="#42857973">prev</a><span>|</span><a href="#42854951">next</a><span>|</span><label class="collapse" for="c-42856852">[-]</label><label class="expand" for="c-42856852">[2 more]</label></div><br/><div class="children"><div class="content">Is there a place to get a wxmaxima installer for Windows other than SourceForge? I no longer trust stuff from there.</div><br/><div id="42858562" class="c"><input type="checkbox" id="c-42858562" checked=""/><div class="controls bullet"><span class="by">v9v</span><span>|</span><a href="#42856852">parent</a><span>|</span><a href="#42854951">next</a><span>|</span><label class="collapse" for="c-42858562">[-]</label><label class="expand" for="c-42858562">[1 more]</label></div><br/><div class="children"><div class="content">There seems to be a github repo here with binaries (but you need to get maxima separately, probably from sourceforge): <a href="https:&#x2F;&#x2F;github.com&#x2F;wxMaxima-developers&#x2F;wxmaxima">https:&#x2F;&#x2F;github.com&#x2F;wxMaxima-developers&#x2F;wxmaxima</a></div><br/></div></div></div></div><div id="42854951" class="c"><input type="checkbox" id="c-42854951" checked=""/><div class="controls bullet"><span class="by">dartos</span><span>|</span><a href="#42856852">prev</a><span>|</span><a href="#42860774">next</a><span>|</span><label class="collapse" for="c-42854951">[-]</label><label class="expand" for="c-42854951">[8 more]</label></div><br/><div class="children"><div class="content">How did you get Common Lisp running on wasm? I thought wasm didn’t support tail call recursive</div><br/><div id="42855015" class="c"><input type="checkbox" id="c-42855015" checked=""/><div class="controls bullet"><span class="by">jackdaniel</span><span>|</span><a href="#42854951">parent</a><span>|</span><a href="#42856049">next</a><span>|</span><label class="collapse" for="c-42855015">[-]</label><label class="expand" for="c-42855015">[4 more]</label></div><br/><div class="children"><div class="content">Common Lisp does not require TCO. This runs on emscripten port of Embeddable Common Lisp - this platform support is relatively new. I&#x27;m also working on WASI port and an optimizing compiler at runtime (currently we use bytecodes compiler when running).</div><br/><div id="42855391" class="c"><input type="checkbox" id="c-42855391" checked=""/><div class="controls bullet"><span class="by">dartos</span><span>|</span><a href="#42854951">root</a><span>|</span><a href="#42855015">parent</a><span>|</span><a href="#42856049">next</a><span>|</span><label class="collapse" for="c-42855391">[-]</label><label class="expand" for="c-42855391">[3 more]</label></div><br/><div class="children"><div class="content">Oh wow.<p>I always thought TCO was part of the spec itself.</div><br/><div id="42855439" class="c"><input type="checkbox" id="c-42855439" checked=""/><div class="controls bullet"><span class="by">jackdaniel</span><span>|</span><a href="#42854951">root</a><span>|</span><a href="#42855391">parent</a><span>|</span><a href="#42856049">next</a><span>|</span><label class="collapse" for="c-42855439">[-]</label><label class="expand" for="c-42855439">[2 more]</label></div><br/><div class="children"><div class="content">Scheme requires TCO. It is a different Lisp (it also has standard[s]).</div><br/><div id="42858490" class="c"><input type="checkbox" id="c-42858490" checked=""/><div class="controls bullet"><span class="by">ted_dunning</span><span>|</span><a href="#42854951">root</a><span>|</span><a href="#42855439">parent</a><span>|</span><a href="#42856049">next</a><span>|</span><label class="collapse" for="c-42858490">[-]</label><label class="expand" for="c-42858490">[1 more]</label></div><br/><div class="children"><div class="content">And revisions[n].</div><br/></div></div></div></div></div></div></div></div><div id="42856049" class="c"><input type="checkbox" id="c-42856049" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#42854951">parent</a><span>|</span><a href="#42855015">prev</a><span>|</span><a href="#42856152">next</a><span>|</span><label class="collapse" for="c-42856049">[-]</label><label class="expand" for="c-42856049">[2 more]</label></div><br/><div class="children"><div class="content">The platform supporting tail-recursion is irrelevant to hosting languages that support it; e.g. the JVM does (or at least did) not support tail recursion, but kawa scheme (which does) runs just fine on the JVM.</div><br/><div id="42862232" class="c"><input type="checkbox" id="c-42862232" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#42854951">root</a><span>|</span><a href="#42856049">parent</a><span>|</span><a href="#42856152">next</a><span>|</span><label class="collapse" for="c-42862232">[-]</label><label class="expand" for="c-42862232">[1 more]</label></div><br/><div class="children"><div class="content">Nitpick: JVM supports recursive tail calls, but doesn&#x27;t have the &quot;tail call elimination&quot; optimization that would make tail calls consume 0 stack.</div><br/></div></div></div></div><div id="42856152" class="c"><input type="checkbox" id="c-42856152" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#42854951">parent</a><span>|</span><a href="#42856049">prev</a><span>|</span><a href="#42860774">next</a><span>|</span><label class="collapse" for="c-42856152">[-]</label><label class="expand" for="c-42856152">[1 more]</label></div><br/><div class="children"><div class="content">WASM supports tail calls and multiple return values now</div><br/></div></div></div></div><div id="42860774" class="c"><input type="checkbox" id="c-42860774" checked=""/><div class="controls bullet"><span class="by">fud101</span><span>|</span><a href="#42854951">prev</a><span>|</span><a href="#42853913">next</a><span>|</span><label class="collapse" for="c-42860774">[-]</label><label class="expand" for="c-42860774">[1 more]</label></div><br/><div class="children"><div class="content">I love Maxima, i don&#x27;t really need a CAS much these days but whenever I do, I will turn to Maxima.</div><br/></div></div><div id="42855013" class="c"><input type="checkbox" id="c-42855013" checked=""/><div class="controls bullet"><span class="by">openrisk</span><span>|</span><a href="#42853913">prev</a><span>|</span><label class="collapse" for="c-42855013">[-]</label><label class="expand" for="c-42855013">[4 more]</label></div><br/><div class="children"><div class="content">omg, macsyma is still alive and I can now manipulate <i>real</i> tensors in the browser?</div><br/><div id="42856771" class="c"><input type="checkbox" id="c-42856771" checked=""/><div class="controls bullet"><span class="by">dreamcompiler</span><span>|</span><a href="#42855013">parent</a><span>|</span><label class="collapse" for="c-42856771">[-]</label><label class="expand" for="c-42856771">[3 more]</label></div><br/><div class="children"><div class="content">This is maxima, not macsyma.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Maxima_(software)" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Maxima_(software)</a></div><br/><div id="42857328" class="c"><input type="checkbox" id="c-42857328" checked=""/><div class="controls bullet"><span class="by">openrisk</span><span>|</span><a href="#42855013">root</a><span>|</span><a href="#42856771">parent</a><span>|</span><a href="#42858041">next</a><span>|</span><label class="collapse" for="c-42857328">[-]</label><label class="expand" for="c-42857328">[1 more]</label></div><br/><div class="children"><div class="content">How different is it?<p>&gt; While this has resulted in some incompatibilities between Macsyma and Maxima, programs written in the Macsyma algebraic language can often be run, with only minor changes, in either system.<p>Symbolic tensor manipulation is still supported <a href="https:&#x2F;&#x2F;maxima-on-wasm.pages.dev&#x2F;doc&#x2F;html&#x2F;Package-itensor#Package-itensor" rel="nofollow">https:&#x2F;&#x2F;maxima-on-wasm.pages.dev&#x2F;doc&#x2F;html&#x2F;Package-itensor#Pa...</a></div><br/></div></div><div id="42858041" class="c"><input type="checkbox" id="c-42858041" checked=""/><div class="controls bullet"><span class="by">dokyun</span><span>|</span><a href="#42855013">root</a><span>|</span><a href="#42856771">parent</a><span>|</span><a href="#42857328">prev</a><span>|</span><label class="collapse" for="c-42858041">[-]</label><label class="expand" for="c-42858041">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the only Macsyma anyone&#x27;s running these days, so maybe if Symbolics hadn&#x27;t killed it off there&#x27;d be another version more deserving of the title.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>