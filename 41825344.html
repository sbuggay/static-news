<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1729069267399" as="style"/><link rel="stylesheet" href="styles.css?v=1729069267399"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/tzador/x.md">Show HN: A Markdown-based alternative to package.json scripts and makefiles</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>timz</span> | <span>34 comments</span></div><br/><div><div id="41856935" class="c"><input type="checkbox" id="c-41856935" checked=""/><div class="controls bullet"><span class="by">tonnydourado</span><span>|</span><a href="#41855954">next</a><span>|</span><label class="collapse" for="c-41856935">[-]</label><label class="expand" for="c-41856935">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s nice, but a tool like this *HAS* to be distributed as a single binary, otherwise it&#x27;s just too much hassle to bootstrap it, specially on Windows, or stripped out docker containers.</div><br/></div></div><div id="41855954" class="c"><input type="checkbox" id="c-41855954" checked=""/><div class="controls bullet"><span class="by">divbzero</span><span>|</span><a href="#41856935">prev</a><span>|</span><a href="#41851201">next</a><span>|</span><label class="collapse" for="c-41855954">[-]</label><label class="expand" for="c-41855954">[1 more]</label></div><br/><div class="children"><div class="content">This is pretty cool.<p>For one of my projects, I tried something similar where I had code blocks in <i>README.md</i> like:<p><pre><code>  Usage
  -----
  
  `pip install bar` and import `foo`:
  
  ```python
  import foo from bar
  ```
  
  Run `foo.alice` with default arguments:
  
  ```python
  foo.alice()
  ```
  
  Run `foo.bob` while specifying `baz`:
  
  ```python
  foo.bob(baz=0)
  ```
</code></pre>
And a <i>Makefile</i> like:<p><pre><code>  .PHONY: demo
  demo: venv
      @. .venv&#x2F;bin&#x2F;activate; sed -n &#x27;&#x2F;^```python&#x2F;,&#x2F;^```&#x2F;p&#x27; &lt; README.md | sed &#x27;&#x2F;^```&#x2F;d&#x27; | python

  .PHONY: venv
  venv: .venv&#x2F;bin&#x2F;activate requirements.txt
      @. .venv&#x2F;bin&#x2F;activate; pip install -qU pip
      @. .venv&#x2F;bin&#x2F;activate; pip install -qUr requirements.txt
  
  .venv&#x2F;bin&#x2F;activate:
      @python3 -m venv .venv
</code></pre>
So you could run all those <i>README.md</i> code blocks with:<p><pre><code>  make demo</code></pre></div><br/></div></div><div id="41851201" class="c"><input type="checkbox" id="c-41851201" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#41855954">prev</a><span>|</span><a href="#41856157">next</a><span>|</span><label class="collapse" for="c-41851201">[-]</label><label class="expand" for="c-41851201">[4 more]</label></div><br/><div class="children"><div class="content">X is kinda overloaded. Maybe &quot;makedown&quot;? Or something?<p>I just do mine in bash (make.sh) and it runs scripts from make.d&#x2F; which are in whatever (python, js bash, PHP)</div><br/><div id="41851236" class="c"><input type="checkbox" id="c-41851236" checked=""/><div class="controls bullet"><span class="by">nunobrito</span><span>|</span><a href="#41851201">parent</a><span>|</span><a href="#41856157">next</a><span>|</span><label class="collapse" for="c-41851236">[-]</label><label class="expand" for="c-41851236">[3 more]</label></div><br/><div class="children"><div class="content">Makedown is a good name. +1 vote from me (in case it counts)</div><br/><div id="41851505" class="c"><input type="checkbox" id="c-41851505" checked=""/><div class="controls bullet"><span class="by">timz</span><span>|</span><a href="#41851201">root</a><span>|</span><a href="#41851236">parent</a><span>|</span><a href="#41856157">next</a><span>|</span><label class="collapse" for="c-41851505">[-]</label><label class="expand" for="c-41851505">[2 more]</label></div><br/><div class="children"><div class="content">Love  the makedown name, renaming..
As for a short name available in terminal, we can add alias m=&quot;makedown&quot; as part of zsh completion script.
Both:
$ makedown deploy-to-production
and
$ m deploy-to-production --help will work<p>Aditionally we can generate html out of the, now `makedown.md`, right in the tool:
$ makedown --html makedown.html
or
$ m --pdf makedown.pdf</div><br/><div id="41853509" class="c"><input type="checkbox" id="c-41853509" checked=""/><div class="controls bullet"><span class="by">efilife</span><span>|</span><a href="#41851201">root</a><span>|</span><a href="#41851505">parent</a><span>|</span><a href="#41856157">next</a><span>|</span><label class="collapse" for="c-41853509">[-]</label><label class="expand" for="c-41853509">[1 more]</label></div><br/><div class="children"><div class="content">Remember to change it in the readme as well</div><br/></div></div></div></div></div></div></div></div><div id="41856157" class="c"><input type="checkbox" id="c-41856157" checked=""/><div class="controls bullet"><span class="by">timz</span><span>|</span><a href="#41851201">prev</a><span>|</span><a href="#41851389">next</a><span>|</span><label class="collapse" for="c-41856157">[-]</label><label class="expand" for="c-41856157">[1 more]</label></div><br/><div class="children"><div class="content">- renamed to `makedown`
- rewrote in python, since it is available out of the box on most POSIX and in GitHub actions
- Updated to `### [my-command]() Explanation of command` syntax, this way GitHub highlights the commands nicely<p>Thank you for all the feedback</div><br/></div></div><div id="41851389" class="c"><input type="checkbox" id="c-41851389" checked=""/><div class="controls bullet"><span class="by">snake_case</span><span>|</span><a href="#41856157">prev</a><span>|</span><a href="#41856059">next</a><span>|</span><label class="collapse" for="c-41851389">[-]</label><label class="expand" for="c-41851389">[2 more]</label></div><br/><div class="children"><div class="content">It’s great to see more tools taking advantage of the markdown syntax.<p>I’m the creator of Mask[0], a very similar tool built with Rust. I was originally inspired by Maid[1], which is an older take on this idea built with Node and no longer maintained I believe.<p>I see this is based on Node as well, and I appreciate that it currently has zero dependencies. Nice work!<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;jacobdeichert&#x2F;mask">https:&#x2F;&#x2F;github.com&#x2F;jacobdeichert&#x2F;mask</a><p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;egoist&#x2F;maid">https:&#x2F;&#x2F;github.com&#x2F;egoist&#x2F;maid</a></div><br/><div id="41856471" class="c"><input type="checkbox" id="c-41856471" checked=""/><div class="controls bullet"><span class="by">ethanwillis</span><span>|</span><a href="#41851389">parent</a><span>|</span><a href="#41856059">next</a><span>|</span><label class="collapse" for="c-41856471">[-]</label><label class="expand" for="c-41856471">[1 more]</label></div><br/><div class="children"><div class="content">Well, which markdown syntax, which specification?</div><br/></div></div></div></div><div id="41856059" class="c"><input type="checkbox" id="c-41856059" checked=""/><div class="controls bullet"><span class="by">kitd</span><span>|</span><a href="#41851389">prev</a><span>|</span><a href="#41856596">next</a><span>|</span><label class="collapse" for="c-41856059">[-]</label><label class="expand" for="c-41856059">[1 more]</label></div><br/><div class="children"><div class="content">Looks nice!<p>I used XC for a bit,  which does a similar thing, but have since reverted to make. The self-documenting nature of these tools can be very useful.<p><a href="https:&#x2F;&#x2F;xcfile.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xcfile.dev&#x2F;</a></div><br/></div></div><div id="41856596" class="c"><input type="checkbox" id="c-41856596" checked=""/><div class="controls bullet"><span class="by">rpastuszak</span><span>|</span><a href="#41856059">prev</a><span>|</span><a href="#41827118">next</a><span>|</span><label class="collapse" for="c-41856596">[-]</label><label class="expand" for="c-41856596">[1 more]</label></div><br/><div class="children"><div class="content">Aaages ago a I built a little tool to provide a TUI for NPM scripts (<a href="https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;lana-cli" rel="nofollow">https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;lana-cli</a>)<p>If you have a README with a list of build tasks, it&#x27;ll pull its content and give nicer names to whatever is placed in package.json scripts field.<p>(I&#x27;m using comments for that which feels clunky)<p>I don&#x27;t update it often, but I still use it almost every day.</div><br/></div></div><div id="41827118" class="c"><input type="checkbox" id="c-41827118" checked=""/><div class="controls bullet"><span class="by">porridgeraisin</span><span>|</span><a href="#41856596">prev</a><span>|</span><a href="#41856232">next</a><span>|</span><label class="collapse" for="c-41827118">[-]</label><label class="expand" for="c-41827118">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;ll be nice if you could make it level 2 headers. Reason: if we want to make it html to display as a webpage, we won&#x27;t end up with multiple H1s, and we can have a H1 for like the name of the app or something.</div><br/><div id="41828411" class="c"><input type="checkbox" id="c-41828411" checked=""/><div class="controls bullet"><span class="by">timz</span><span>|</span><a href="#41827118">parent</a><span>|</span><a href="#41856232">next</a><span>|</span><label class="collapse" for="c-41828411">[-]</label><label class="expand" for="c-41828411">[1 more]</label></div><br/><div class="children"><div class="content">Great suggestion. On it</div><br/></div></div></div></div><div id="41856232" class="c"><input type="checkbox" id="c-41856232" checked=""/><div class="controls bullet"><span class="by">fodkodrasz</span><span>|</span><a href="#41827118">prev</a><span>|</span><a href="#41856857">next</a><span>|</span><label class="collapse" for="c-41856232">[-]</label><label class="expand" for="c-41856232">[1 more]</label></div><br/><div class="children"><div class="content">Does it support dependency handling between targets, and efficient partial remake of only the changed subtree of the dependency graph? Because what many people miss about make is the support for this, and think it is a way to make &quot;commands&quot; for single level recipies, and auto-complete their names in the shell. A simple shell script would be a trivial solution for that already.<p>Make does:<p>- topological sorting based ordering of the dependency tree<p>- skipping of already up to date targets<p>- supports parallel execution of independent dependency subtrees<p>The webpage is totally unclear on this, and to me it looks like it only allows for a named entrypoint to some script snippets.<p>I&#x27;m a literal programming fan though, and this is a nice start, but i recommend clarifying the docs on this.</div><br/></div></div><div id="41856857" class="c"><input type="checkbox" id="c-41856857" checked=""/><div class="controls bullet"><span class="by">dsp_person</span><span>|</span><a href="#41856232">prev</a><span>|</span><a href="#41855129">next</a><span>|</span><label class="collapse" for="c-41856857">[-]</label><label class="expand" for="c-41856857">[1 more]</label></div><br/><div class="children"><div class="content">Some ideas:<p>- can capture output and be updated &amp; displayed in the markdown doc.<p>- persistent kernels</div><br/></div></div><div id="41855129" class="c"><input type="checkbox" id="c-41855129" checked=""/><div class="controls bullet"><span class="by">perpil</span><span>|</span><a href="#41856857">prev</a><span>|</span><a href="#41855384">next</a><span>|</span><label class="collapse" for="c-41855129">[-]</label><label class="expand" for="c-41855129">[1 more]</label></div><br/><div class="children"><div class="content">I do something like this with <a href="https:&#x2F;&#x2F;speedrun.cc" rel="nofollow">https:&#x2F;&#x2F;speedrun.cc</a> except it runs in the browser on top of your markdown in GitHub. This lets you prompt for inputs and run JavaScript and use a toolbar to context switch. For command lines it copies the command to the clipboard so you can run it.</div><br/></div></div><div id="41855384" class="c"><input type="checkbox" id="c-41855384" checked=""/><div class="controls bullet"><span class="by">philsnow</span><span>|</span><a href="#41855129">prev</a><span>|</span><a href="#41855062">next</a><span>|</span><label class="collapse" for="c-41855384">[-]</label><label class="expand" for="c-41855384">[2 more]</label></div><br/><div class="children"><div class="content">This reminds me a bit of org-babel’s support for running blocks in any language.<p>I like the idea and the execution.  This bit though:<p>&gt; makedown.sh<p>&gt; npm install -g ...<p>&gt; #!&#x2F;usr&#x2F;bin&#x2F;env python<p>Gives me a bit of whiplash.  I get wanting to use npm to install, since 1) lots of people have it installed and 2) it’s reasonably cross-platform and it seems like makedown is as well.<p>I don’t see a reason for it to be named makedown.sh instead of just makedown, though.  Make itself doesn’t depend on sh to my knowledge, and you could have a makedown file with no shell build rules at all.</div><br/><div id="41855611" class="c"><input type="checkbox" id="c-41855611" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41855384">parent</a><span>|</span><a href="#41855062">next</a><span>|</span><label class="collapse" for="c-41855611">[-]</label><label class="expand" for="c-41855611">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Make itself doesn’t depend on sh to my knowledge<p>Recipes are run through sh by default, though it can be overridden to anything using the SHELL variable (including, say, python).</div><br/></div></div></div></div><div id="41855062" class="c"><input type="checkbox" id="c-41855062" checked=""/><div class="controls bullet"><span class="by">psibi</span><span>|</span><a href="#41855384">prev</a><span>|</span><a href="#41855073">next</a><span>|</span><label class="collapse" for="c-41855062">[-]</label><label class="expand" for="c-41855062">[1 more]</label></div><br/><div class="children"><div class="content">This is an interesting approach. These days I have completely switched to just[0] tool for similar use case.<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just">https:&#x2F;&#x2F;github.com&#x2F;casey&#x2F;just</a></div><br/></div></div><div id="41855073" class="c"><input type="checkbox" id="c-41855073" checked=""/><div class="controls bullet"><span class="by">Riverheart</span><span>|</span><a href="#41855062">prev</a><span>|</span><a href="#41854837">next</a><span>|</span><label class="collapse" for="c-41855073">[-]</label><label class="expand" for="c-41855073">[1 more]</label></div><br/><div class="children"><div class="content">Really like the simplicity of the project (this is a compliment, the root is not overwhelming with files). Nice that this tool uses only system libraries. Way easier to distribute a single file with leverages already installed languages.<p>Thanks for sharing!</div><br/></div></div><div id="41854837" class="c"><input type="checkbox" id="c-41854837" checked=""/><div class="controls bullet"><span class="by">qazxcvbnm</span><span>|</span><a href="#41855073">prev</a><span>|</span><a href="#41826876">next</a><span>|</span><label class="collapse" for="c-41854837">[-]</label><label class="expand" for="c-41854837">[1 more]</label></div><br/><div class="children"><div class="content">For myself, I just make a directory `workflows` and put all my scripts in it, and organise related scripts into subdirectories, so that I can use tree and filesystem tools to check what subcommands are available.</div><br/></div></div><div id="41826876" class="c"><input type="checkbox" id="c-41826876" checked=""/><div class="controls bullet"><span class="by">az09mugen</span><span>|</span><a href="#41854837">prev</a><span>|</span><a href="#41829324">next</a><span>|</span><label class="collapse" for="c-41826876">[-]</label><label class="expand" for="c-41826876">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s an interesting idea you had, it makes me think of a mix between a jupyter notebook and a makefile, sort of, based on md files. I like the concept, but I need to test it to see if it fits my needs. Just a question about python and zsh, do they need to be pre-installed in your OS and accessible from PATH, that&#x27;s it ?</div><br/><div id="41828247" class="c"><input type="checkbox" id="c-41828247" checked=""/><div class="controls bullet"><span class="by">cobalt60</span><span>|</span><a href="#41826876">parent</a><span>|</span><a href="#41829324">next</a><span>|</span><label class="collapse" for="c-41828247">[-]</label><label class="expand" for="c-41828247">[1 more]</label></div><br/><div class="children"><div class="content">ansible for markdown?</div><br/></div></div></div></div><div id="41829324" class="c"><input type="checkbox" id="c-41829324" checked=""/><div class="controls bullet"><span class="by">timz</span><span>|</span><a href="#41826876">prev</a><span>|</span><a href="#41851256">next</a><span>|</span><label class="collapse" for="c-41829324">[-]</label><label class="expand" for="c-41829324">[1 more]</label></div><br/><div class="children"><div class="content">published 0.3 version
pnpm install -g @tzador&#x2F;x.md<p>- better --help messages with or without command
- ## level 2 headers are used
- the temp file is created in current folder, like that importing npm modules from current project works</div><br/></div></div><div id="41851256" class="c"><input type="checkbox" id="c-41851256" checked=""/><div class="controls bullet"><span class="by">nunobrito</span><span>|</span><a href="#41829324">prev</a><span>|</span><a href="#41853693">next</a><span>|</span><label class="collapse" for="c-41851256">[-]</label><label class="expand" for="c-41851256">[1 more]</label></div><br/><div class="children"><div class="content">Plus points for being a readable format that can be displayed great on HTML or PDF.<p>At the same time easy to edit and easy to enhance with different build languages as needed.</div><br/></div></div><div id="41853693" class="c"><input type="checkbox" id="c-41853693" checked=""/><div class="controls bullet"><span class="by">emareg</span><span>|</span><a href="#41851256">prev</a><span>|</span><a href="#41854969">next</a><span>|</span><label class="collapse" for="c-41853693">[-]</label><label class="expand" for="c-41853693">[1 more]</label></div><br/><div class="children"><div class="content">Nice idea! Can I reuse variables that I have defined in e.g. a JS code block in another ZSH code block and vice versa?</div><br/></div></div><div id="41854969" class="c"><input type="checkbox" id="c-41854969" checked=""/><div class="controls bullet"><span class="by">cxr</span><span>|</span><a href="#41853693">prev</a><span>|</span><a href="#41828216">next</a><span>|</span><label class="collapse" for="c-41854969">[-]</label><label class="expand" for="c-41854969">[1 more]</label></div><br/><div class="children"><div class="content">Just change your README to README.html, and put your build script there.</div><br/></div></div><div id="41828216" class="c"><input type="checkbox" id="c-41828216" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#41854969">prev</a><span>|</span><a href="#41851952">next</a><span>|</span><label class="collapse" for="c-41828216">[-]</label><label class="expand" for="c-41828216">[2 more]</label></div><br/><div class="children"><div class="content">&gt;One can type `--help` after `x my-command` to print out the help associated with that command.<p>I assume that there is no support for the scripts having their own command-line arguments? Or how do you disambiguate?<p>Anyway, this seems like an interesting demo, but it&#x27;s hard to imagine the use case.</div><br/><div id="41828409" class="c"><input type="checkbox" id="c-41828409" checked=""/><div class="controls bullet"><span class="by">timz</span><span>|</span><a href="#41828216">parent</a><span>|</span><a href="#41851952">next</a><span>|</span><label class="collapse" for="c-41828409">[-]</label><label class="expand" for="c-41828409">[1 more]</label></div><br/><div class="children"><div class="content">When --help is provided, the help text from x.md is printed.
Otherwise all the command line parameters are passed to the actual script that implements the command.</div><br/></div></div></div></div><div id="41856433" class="c"><input type="checkbox" id="c-41856433" checked=""/><div class="controls bullet"><span class="by">donq1xote1</span><span>|</span><a href="#41851952">prev</a><span>|</span><a href="#41825768">next</a><span>|</span><label class="collapse" for="c-41856433">[-]</label><label class="expand" for="c-41856433">[1 more]</label></div><br/><div class="children"><div class="content">Hey dude:
This is project looks promising. I would like to check out.</div><br/></div></div><div id="41825768" class="c"><input type="checkbox" id="c-41825768" checked=""/><div class="controls bullet"><span class="by">mutant</span><span>|</span><a href="#41856433">prev</a><span>|</span><label class="collapse" for="c-41825768">[-]</label><label class="expand" for="c-41825768">[2 more]</label></div><br/><div class="children"><div class="content">404</div><br/><div id="41825957" class="c"><input type="checkbox" id="c-41825957" checked=""/><div class="controls bullet"><span class="by">timz</span><span>|</span><a href="#41825768">parent</a><span>|</span><label class="collapse" for="c-41825957">[-]</label><label class="expand" for="c-41825957">[1 more]</label></div><br/><div class="children"><div class="content">should be working now <a href="https:&#x2F;&#x2F;github.com&#x2F;tzador&#x2F;x.md">https:&#x2F;&#x2F;github.com&#x2F;tzador&#x2F;x.md</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>