<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1697878857372" as="style"/><link rel="stylesheet" href="styles.css?v=1697878857372"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.red-gate.com/simple-talk/databases/sql-server/t-sql-programming-sql-server/dont-use-distinct-as-a-join-fixer/">Don&#x27;t use DISTINCT as a &quot;join-fixer&quot;</a> <span class="domain">(<a href="https://www.red-gate.com">www.red-gate.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>79 comments</span></div><br/><div><div id="37964593" class="c"><input type="checkbox" id="c-37964593" checked=""/><div class="controls bullet"><span class="by">thehours</span><span>|</span><a href="#37964943">next</a><span>|</span><label class="collapse" for="c-37964593">[-]</label><label class="expand" for="c-37964593">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There was another interesting use case I wrote about a few years ago that showed how changing DISTINCT to GROUP BY – even though it carries the same semantics and produces the same results – can help SQL Server filter out duplicates earlier and have a serious impact on performance.<p>I recently learned this is also what Amazon recommends when querying Spectrum. [1]<p>[1] <a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;big-data&#x2F;10-best-practices-for-amazon-redshift-spectrum&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;big-data&#x2F;10-best-practices-for-...</a></div><br/></div></div><div id="37964943" class="c"><input type="checkbox" id="c-37964943" checked=""/><div class="controls bullet"><span class="by">victorNicollet</span><span>|</span><a href="#37964593">prev</a><span>|</span><a href="#37964542">next</a><span>|</span><label class="collapse" for="c-37964943">[-]</label><label class="expand" for="c-37964943">[5 more]</label></div><br/><div class="children"><div class="content">This is such a pervasive issue with the relational SQL query model ! The fact that joins always create brand new tables is powerful, but it&#x27;s rarely what is needed.<p>The example in this article can manage to do without a join because it&#x27;s only using the other tables to filter the customer table. The proposed solution breaks down as soon as a column needs to be brought in from the other tables (for example, &quot;the total number of products purchased from the Beauty category&quot;). A notion as simple as &quot;I want to return a list of customers with additional properties&quot; does not map to any dedicated SQL construct ! You can JOIN then GROUP BY, but making sure that the result only has exactly one value per customer is not something you can explicitly say in your SQL, it&#x27;s a consequence of how you set up your JOIN and GROUP BY keys, and it&#x27;s both easy to make a mistake and hard to understand the intent.</div><br/><div id="37965130" class="c"><input type="checkbox" id="c-37965130" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#37964943">parent</a><span>|</span><a href="#37964967">next</a><span>|</span><label class="collapse" for="c-37965130">[-]</label><label class="expand" for="c-37965130">[1 more]</label></div><br/><div class="children"><div class="content">&gt; A notion as simple as &quot;I want to return a list of customers with additional properties&quot; does not map to any dedicated SQL construct ! You can JOIN then GROUP BY, but making sure that the result only has exactly one value per customer is not something you can explicitly say in your SQL.<p>You can, you say it by grouping on only columns from the customers table, and those columns including a candidate key. Necessarily and equivalently, this means everything not from the customers table must be only referenced in an aggregate expression, but that&#x27;s trivially  what “I want a single row per customer, with some data not from the customers table” is asking.<p>&gt; it&#x27;s a consequence of how you set up your JOIN and GROUP BY keys,<p>Well, its a consequence of the GROUP BY. which is literally “what do you want one row for each of”, so... it&#x27;s kind of weird to complain that it should be something else. GROUP BY is the dedicated construct in SQL that soecifies the thing you are looking for.</div><br/></div></div><div id="37964967" class="c"><input type="checkbox" id="c-37964967" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#37964943">parent</a><span>|</span><a href="#37965130">prev</a><span>|</span><a href="#37965009">next</a><span>|</span><label class="collapse" for="c-37964967">[-]</label><label class="expand" for="c-37964967">[1 more]</label></div><br/><div class="children"><div class="content">You could CROSS APPLY or OUTER APPLY with the Top (1) of a subquery to get exactly one value per customer per row.</div><br/></div></div><div id="37965149" class="c"><input type="checkbox" id="c-37965149" checked=""/><div class="controls bullet"><span class="by">arichard123</span><span>|</span><a href="#37964943">parent</a><span>|</span><a href="#37965009">prev</a><span>|</span><a href="#37964542">next</a><span>|</span><label class="collapse" for="c-37965149">[-]</label><label class="expand" for="c-37965149">[1 more]</label></div><br/><div class="children"><div class="content">I think you want a lateral join.</div><br/></div></div></div></div><div id="37964542" class="c"><input type="checkbox" id="c-37964542" checked=""/><div class="controls bullet"><span class="by">continuational</span><span>|</span><a href="#37964943">prev</a><span>|</span><a href="#37963875">next</a><span>|</span><label class="collapse" for="c-37964542">[-]</label><label class="expand" for="c-37964542">[4 more]</label></div><br/><div class="children"><div class="content">Quite often what you want isn&#x27;t an <i>arbitrary</i> row (for which exists is correct), but a specific one.<p>In that case, PostgreSQL has a feature where you can do this:<p><pre><code>    select distinct on (customer_id) customer_id, order_id
    from orders
    order by customer_id, created_date desc
</code></pre>
And get all customer IDs with their latest order ID.</div><br/><div id="37964763" class="c"><input type="checkbox" id="c-37964763" checked=""/><div class="controls bullet"><span class="by">nightfly</span><span>|</span><a href="#37964542">parent</a><span>|</span><a href="#37963875">next</a><span>|</span><label class="collapse" for="c-37964763">[-]</label><label class="expand" for="c-37964763">[3 more]</label></div><br/><div class="children"><div class="content">Is that different&#x2F;better&#x2F;worse than?<p><pre><code>  select customer_id, max(order_id)
  from orders
  group by customer_id
  order by customer_id</code></pre></div><br/><div id="37964778" class="c"><input type="checkbox" id="c-37964778" checked=""/><div class="controls bullet"><span class="by">hackernewds</span><span>|</span><a href="#37964542">root</a><span>|</span><a href="#37964763">parent</a><span>|</span><a href="#37963875">next</a><span>|</span><label class="collapse" for="c-37964778">[-]</label><label class="expand" for="c-37964778">[2 more]</label></div><br/><div class="children"><div class="content">the max order_id is not always the latest id<p>although it would seem to be so by design, however design is only as robust as the thousands of individuals building on the system :)</div><br/><div id="37964788" class="c"><input type="checkbox" id="c-37964788" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#37964542">root</a><span>|</span><a href="#37964778">parent</a><span>|</span><a href="#37963875">next</a><span>|</span><label class="collapse" for="c-37964788">[-]</label><label class="expand" for="c-37964788">[1 more]</label></div><br/><div class="children"><div class="content">If you have an auto-increment and DO NOT have some logic around draft orders, max could be the one. Either way, you can max on the submission date then</div><br/></div></div></div></div></div></div></div></div><div id="37963875" class="c"><input type="checkbox" id="c-37963875" checked=""/><div class="controls bullet"><span class="by">tuukkah</span><span>|</span><a href="#37964542">prev</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37963875">[-]</label><label class="expand" for="c-37963875">[49 more]</label></div><br/><div class="children"><div class="content">Next question: Why doesn&#x27;t the query optimizer make this change automatically? The version with DISTINCT is much nicer to write and read.</div><br/><div id="37963953" class="c"><input type="checkbox" id="c-37963953" checked=""/><div class="controls bullet"><span class="by">gigatexal</span><span>|</span><a href="#37963875">parent</a><span>|</span><a href="#37963954">next</a><span>|</span><label class="collapse" for="c-37963953">[-]</label><label class="expand" for="c-37963953">[1 more]</label></div><br/><div class="children"><div class="content">Query optimizers are already black boxes of magic I guess one has to stop somewhere.<p>A top level distinct to a query like this is a huge red flag. Even in a sub select or a join clause id rather have a group by than a distinct.</div><br/></div></div><div id="37963954" class="c"><input type="checkbox" id="c-37963954" checked=""/><div class="controls bullet"><span class="by">slotrans</span><span>|</span><a href="#37963875">parent</a><span>|</span><a href="#37963953">prev</a><span>|</span><a href="#37963904">next</a><span>|</span><label class="collapse" for="c-37963954">[-]</label><label class="expand" for="c-37963954">[2 more]</label></div><br/><div class="children"><div class="content">The optimizer doesn&#x27;t know your semantic intent.</div><br/><div id="37964240" class="c"><input type="checkbox" id="c-37964240" checked=""/><div class="controls bullet"><span class="by">tuukkah</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963954">parent</a><span>|</span><a href="#37963904">next</a><span>|</span><label class="collapse" for="c-37964240">[-]</label><label class="expand" for="c-37964240">[1 more]</label></div><br/><div class="children"><div class="content">Does it need it to do its job?</div><br/></div></div></div></div><div id="37963904" class="c"><input type="checkbox" id="c-37963904" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">parent</a><span>|</span><a href="#37963954">prev</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37963904">[-]</label><label class="expand" for="c-37963904">[45 more]</label></div><br/><div class="children"><div class="content">Yeah, using `SELECT 1` language is a big nah from me. I want my queries to be readable by both new and experienced.</div><br/><div id="37963949" class="c"><input type="checkbox" id="c-37963949" checked=""/><div class="controls bullet"><span class="by">slotrans</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37965065">next</a><span>|</span><label class="collapse" for="c-37963949">[-]</label><label class="expand" for="c-37963949">[21 more]</label></div><br/><div class="children"><div class="content">where exists (select 1...) is completely standard and normal.<p>We should write our code to be readable, but it is reasonable to expect that the reader <i>knows the language</i>.</div><br/><div id="37964104" class="c"><input type="checkbox" id="c-37964104" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963949">parent</a><span>|</span><a href="#37965065">next</a><span>|</span><label class="collapse" for="c-37964104">[-]</label><label class="expand" for="c-37964104">[20 more]</label></div><br/><div class="children"><div class="content">Has nothing to do with the language. 1 (in its isolated presentation) exists outside of my set of data and that&#x27;s not something that gives me comfortable feelings. It forces me to think (less think more good) why some random value needs to float around my data and maybe needs to be appended or summed or whatever.. because reasons. As far as I&#x27;m concerned you might as well make it 200 or 1648194. And why would those ever be needed in any context around my data?</div><br/><div id="37964572" class="c"><input type="checkbox" id="c-37964572" checked=""/><div class="controls bullet"><span class="by">rrrrrrrrrrrryan</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964104">parent</a><span>|</span><a href="#37964262">next</a><span>|</span><label class="collapse" for="c-37964572">[-]</label><label class="expand" for="c-37964572">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Has nothing to do with the language.<p>...but... this is literally how you write an EXISTS clause in SQL.<p>&gt; you might as well make it 200 or 1648194<p>Yes, you can put anything there.<p>There&#x27;s lots of funky inconsistent syntax in SQL because it evolved organically over literally the past half century. It has everything to do with the language.</div><br/></div></div><div id="37964262" class="c"><input type="checkbox" id="c-37964262" checked=""/><div class="controls bullet"><span class="by">kbenson</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964104">parent</a><span>|</span><a href="#37964572">prev</a><span>|</span><a href="#37964426">next</a><span>|</span><label class="collapse" for="c-37964262">[-]</label><label class="expand" for="c-37964262">[13 more]</label></div><br/><div class="children"><div class="content">Would it make you feel better about it to think of it as (or write it as) &quot;select true&quot; ?  Because that&#x27;s essentially what it&#x27;s communicating, that there is something to return and that&#x27;s what we&#x27;re checking for.</div><br/><div id="37964282" class="c"><input type="checkbox" id="c-37964282" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964262">parent</a><span>|</span><a href="#37964426">next</a><span>|</span><label class="collapse" for="c-37964282">[-]</label><label class="expand" for="c-37964282">[12 more]</label></div><br/><div class="children"><div class="content">Nope, for the same exact reason. Select * makes the most sense because * is in the context of my data, not something I&#x27;m working into it. Pretty sure it&#x27;s the same speed.<p>Also mind you, I use a lot of CTEs, so this would look weird in that context -- hence why using row number sometimes makes more sense and achieves the same thing.</div><br/><div id="37965019" class="c"><input type="checkbox" id="c-37965019" checked=""/><div class="controls bullet"><span class="by">mjan22640</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964282">parent</a><span>|</span><a href="#37964318">next</a><span>|</span><label class="collapse" for="c-37965019">[-]</label><label class="expand" for="c-37965019">[1 more]</label></div><br/><div class="children"><div class="content">The relevant thing for exists is the set of the rows returned by the select being non&#x2F;empty.
The value in the columns is irrelevant. Using * creates an incorrect impression that the value is relevant and the relevance tied to the data.</div><br/></div></div><div id="37964318" class="c"><input type="checkbox" id="c-37964318" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964282">parent</a><span>|</span><a href="#37965019">prev</a><span>|</span><a href="#37964426">next</a><span>|</span><label class="collapse" for="c-37964318">[-]</label><label class="expand" for="c-37964318">[10 more]</label></div><br/><div class="children"><div class="content">Filter out everything, Project only what you need, Transform it as lightly as possible.<p>In any context I understand a row number would never &quot;make sense&quot; if a constant of 1 would be the same output, it would be a lot more code that does... nothing?<p>Any code using select * just breaks in the future with any new columns being added, no thanks.</div><br/><div id="37964983" class="c"><input type="checkbox" id="c-37964983" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964318">parent</a><span>|</span><a href="#37964341">next</a><span>|</span><label class="collapse" for="c-37964983">[-]</label><label class="expand" for="c-37964983">[2 more]</label></div><br/><div class="children"><div class="content">How would Select * break with a new column?</div><br/><div id="37965194" class="c"><input type="checkbox" id="c-37965194" checked=""/><div class="controls bullet"><span class="by">cwbriscoe</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964983">parent</a><span>|</span><a href="#37964341">next</a><span>|</span><label class="collapse" for="c-37965194">[-]</label><label class="expand" for="c-37965194">[1 more]</label></div><br/><div class="children"><div class="content">If you  have a table with two columns and you do a &#x27;select *&#x27;, adding a column to the table can break code that is only expecting 2 columns.</div><br/></div></div></div></div><div id="37964341" class="c"><input type="checkbox" id="c-37964341" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964318">parent</a><span>|</span><a href="#37964983">prev</a><span>|</span><a href="#37964426">next</a><span>|</span><label class="collapse" for="c-37964341">[-]</label><label class="expand" for="c-37964341">[7 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  Any code using select * just breaks in the future with any new columns being added, no thanks.
</code></pre>
For you, maybe. In my workflows this is really a non-issue for me.<p>Maybe consider that we use SQL differently and your goals and challenges are different from mine.<p>(Edit: What&#x27;s with the downvotes from people just disagreeing about preferences? So weird.)</div><br/><div id="37964805" class="c"><input type="checkbox" id="c-37964805" checked=""/><div class="controls bullet"><span class="by">n4r9</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964341">parent</a><span>|</span><a href="#37964832">next</a><span>|</span><label class="collapse" for="c-37964805">[-]</label><label class="expand" for="c-37964805">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t downvoted anyone, but have followed this argument with interest as an intermediate SQL user.<p>If I was to guess why someone would downvote you, it wouldn&#x27;t be for disagreeing with you, but more because you&#x27;ve subtly shifted from quite a strong objective stance (&quot;this is not readable&quot;) to a subjective one (&quot;this is not how I prefer to write it&quot;), without really conceding anyone else&#x27;s points.</div><br/></div></div><div id="37964832" class="c"><input type="checkbox" id="c-37964832" checked=""/><div class="controls bullet"><span class="by">__jem</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964341">parent</a><span>|</span><a href="#37964805">prev</a><span>|</span><a href="#37964585">next</a><span>|</span><label class="collapse" for="c-37964832">[-]</label><label class="expand" for="c-37964832">[3 more]</label></div><br/><div class="children"><div class="content">you&#x27;re getting downvoted because it&#x27;s not really a preference, it&#x27;s pretty widely known to be bad practice and unhygienic in production queries. select * would get your pr rejected and chewed out by dba at every place i&#x27;ve ever worked at. so you kinda just look like you don&#x27;t know what you&#x27;re talking about.</div><br/><div id="37964990" class="c"><input type="checkbox" id="c-37964990" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964832">parent</a><span>|</span><a href="#37964585">next</a><span>|</span><label class="collapse" for="c-37964990">[-]</label><label class="expand" for="c-37964990">[2 more]</label></div><br/><div class="children"><div class="content">In an exists query select * is harmless, select 1 and select * result in the same execution plan at least in MS SQL.<p>In a query than returns result rows it could break the query as soon as you add columns with names that already exist in other tables you joined in the query.</div><br/><div id="37965134" class="c"><input type="checkbox" id="c-37965134" checked=""/><div class="controls bullet"><span class="by">__jem</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964990">parent</a><span>|</span><a href="#37964585">next</a><span>|</span><label class="collapse" for="c-37965134">[-]</label><label class="expand" for="c-37965134">[1 more]</label></div><br/><div class="children"><div class="content">yes, it&#x27;s harmless in this position but it provides no additional benefits to the select 1 idiom and is suggestive of poor query discipline. it&#x27;s far easier to say just don&#x27;t ever use select * in queries.</div><br/></div></div></div></div></div></div><div id="37964585" class="c"><input type="checkbox" id="c-37964585" checked=""/><div class="controls bullet"><span class="by">rrrrrrrrrrrryan</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964341">parent</a><span>|</span><a href="#37964832">prev</a><span>|</span><a href="#37964530">next</a><span>|</span><label class="collapse" for="c-37964585">[-]</label><label class="expand" for="c-37964585">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve spent most of my career working with teams that mostly write SQL code, at multiple companies.<p>Except for very rare fringe cases, using &quot;SELECT *&quot; in production code is universally considered bad practice.</div><br/></div></div><div id="37964530" class="c"><input type="checkbox" id="c-37964530" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964341">parent</a><span>|</span><a href="#37964585">prev</a><span>|</span><a href="#37964426">next</a><span>|</span><label class="collapse" for="c-37964530">[-]</label><label class="expand" for="c-37964530">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t downvote you, but consider this - I work with SQL a lot, like a lot a lot. Something that&#x27;s your code today is probably my code tomorrow.<p>So when you say &quot;my flow is X&quot; and your flow is inimical to maintaining it and extending it, people might get a bit irritated at the last dev that did the exact same thing.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37964222" class="c"><input type="checkbox" id="c-37964222" checked=""/><div class="controls bullet"><span class="by">naikrovek</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964104">parent</a><span>|</span><a href="#37964426">prev</a><span>|</span><a href="#37964301">next</a><span>|</span><label class="collapse" for="c-37964222">[-]</label><label class="expand" for="c-37964222">[2 more]</label></div><br/><div class="children"><div class="content">1 isn&#x27;t data, here.  it&#x27;s just a flag to return that row.<p>I am sure you know this, so I&#x27;m wondering why you consider it data which is outside of your data set. it isn&#x27;t data when used like this.</div><br/><div id="37964287" class="c"><input type="checkbox" id="c-37964287" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964222">parent</a><span>|</span><a href="#37964301">next</a><span>|</span><label class="collapse" for="c-37964287">[-]</label><label class="expand" for="c-37964287">[1 more]</label></div><br/><div class="children"><div class="content">In the sense that code is data: yes, it absolutely is data.</div><br/></div></div></div></div><div id="37964301" class="c"><input type="checkbox" id="c-37964301" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964104">parent</a><span>|</span><a href="#37964222">prev</a><span>|</span><a href="#37965065">next</a><span>|</span><label class="collapse" for="c-37964301">[-]</label><label class="expand" for="c-37964301">[2 more]</label></div><br/><div class="children"><div class="content">Yes, and all those constants would be treated the same, just like in many languages things are conventions - you don&#x27;t need to use _ to name a variable that you throw away, but you do, because conventions.<p>There&#x27;s so many people that want to complain about the conventions of SQL but praise the conventions of other languages and I think its often just &quot;which did you see first?&quot;</div><br/><div id="37964344" class="c"><input type="checkbox" id="c-37964344" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964301">parent</a><span>|</span><a href="#37965065">next</a><span>|</span><label class="collapse" for="c-37964344">[-]</label><label class="expand" for="c-37964344">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re missing the point that I don&#x27;t really care about how they&#x27;re treated. I want to glance at it and know what it does. For me, the 1 gets in the way. Maybe it doesn&#x27;t get in the way for you because you don&#x27;t use it the same way as I do, as a practice.</div><br/></div></div></div></div></div></div></div></div><div id="37965065" class="c"><input type="checkbox" id="c-37965065" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37963949">prev</a><span>|</span><a href="#37963952">next</a><span>|</span><label class="collapse" for="c-37965065">[-]</label><label class="expand" for="c-37965065">[1 more]</label></div><br/><div class="children"><div class="content">It’s literally the documented idiom for producing singular output from amplified rows at <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;functions-subquery.html#FUNCTIONS-SUBQUERY-EXISTS" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;functions-subquery.h...</a>.</div><br/></div></div><div id="37963952" class="c"><input type="checkbox" id="c-37963952" checked=""/><div class="controls bullet"><span class="by">mvdtnz</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37965065">prev</a><span>|</span><a href="#37964034">next</a><span>|</span><label class="collapse" for="c-37963952">[-]</label><label class="expand" for="c-37963952">[5 more]</label></div><br/><div class="children"><div class="content">Strange hill to die on - the SELECT 1 query is not particularly hard to understand, and it&#x27;s demonstrably better.</div><br/><div id="37963980" class="c"><input type="checkbox" id="c-37963980" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963952">parent</a><span>|</span><a href="#37964847">next</a><span>|</span><label class="collapse" for="c-37963980">[-]</label><label class="expand" for="c-37963980">[1 more]</label></div><br/><div class="children"><div class="content">Eh, anytime I need to read SQL that includes that I have to sit down and think about it. It&#x27;s not glance-and-understand and you have to maintain that state in your head. Not the sort of SQL I want to rely on as a practice.<p>Mind you, most of what I write are ad hoc SQL queries where I might write 100-200 queries in a single day. So that sort of thing really adds up. And it&#x27;s in a strange place where performance isn&#x27;t dire, since I can work on other stuff while queries chug.</div><br/></div></div><div id="37964847" class="c"><input type="checkbox" id="c-37964847" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963952">parent</a><span>|</span><a href="#37963980">prev</a><span>|</span><a href="#37964034">next</a><span>|</span><label class="collapse" for="c-37964847">[-]</label><label class="expand" for="c-37964847">[3 more]</label></div><br/><div class="children"><div class="content">Help a fellow out here. What’s the purpose?</div><br/><div id="37965045" class="c"><input type="checkbox" id="c-37965045" checked=""/><div class="controls bullet"><span class="by">noisem4ker</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964847">parent</a><span>|</span><a href="#37964034">next</a><span>|</span><label class="collapse" for="c-37965045">[-]</label><label class="expand" for="c-37965045">[2 more]</label></div><br/><div class="children"><div class="content">With most databases (PostgreSQL is an exception), SELECT must select something, even if you only care about the record existing in general, and you&#x27;re not interested in reading anything from it. SELECT 1 means &quot;select the first column&quot;, whatever it is. Specifying a column number also works with ORDER BY and other clauses. Of course any natural number works, as long as the record has at least that many fields.</div><br/><div id="37965099" class="c"><input type="checkbox" id="c-37965099" checked=""/><div class="controls bullet"><span class="by">pcthrowaway</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37965045">parent</a><span>|</span><a href="#37964034">next</a><span>|</span><label class="collapse" for="c-37965099">[-]</label><label class="expand" for="c-37965099">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure you still have to select <i>something</i> in postgres... or are you saying there&#x27;s a different operator to do the same thing?<p>&gt; SELECT 1 means &quot;select the first column&quot;<p>interesting.. in postgres this actually gives you a single-column value of 1, in an unnamed column... I haven&#x27;t used other DBMSes much but expected similar behaviour</div><br/></div></div></div></div></div></div></div></div><div id="37964034" class="c"><input type="checkbox" id="c-37964034" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37963952">prev</a><span>|</span><a href="#37963944">next</a><span>|</span><label class="collapse" for="c-37964034">[-]</label><label class="expand" for="c-37964034">[1 more]</label></div><br/><div class="children"><div class="content">You can write `SELECT NULL` or `SELECT *` if you prefer.<p>PostgreSQL allows a zero-column `SELECT`.</div><br/></div></div><div id="37963944" class="c"><input type="checkbox" id="c-37963944" checked=""/><div class="controls bullet"><span class="by">gigatexal</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37964034">prev</a><span>|</span><a href="#37964976">next</a><span>|</span><label class="collapse" for="c-37963944">[-]</label><label class="expand" for="c-37963944">[2 more]</label></div><br/><div class="children"><div class="content">This isn’t readable? It’s a common pattern.</div><br/><div id="37965208" class="c"><input type="checkbox" id="c-37965208" checked=""/><div class="controls bullet"><span class="by">funnymony</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963944">parent</a><span>|</span><a href="#37964976">next</a><span>|</span><label class="collapse" for="c-37965208">[-]</label><label class="expand" for="c-37965208">[1 more]</label></div><br/><div class="children"><div class="content">Its a matter of your eyes being used to this.<p>If for ten years you always indented the code this way<p><pre><code>    Void F()
    {    Foo();
         Bar();
         Baz();}
</code></pre>
Then following snippet will seem hard to parse mentally:<p><pre><code>    Void F()
    {
         Foo();
         Bar();
         Baz();
    }
</code></pre>
And vice versa</div><br/></div></div></div></div><div id="37964976" class="c"><input type="checkbox" id="c-37964976" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37963944">prev</a><span>|</span><a href="#37963945">next</a><span>|</span><label class="collapse" for="c-37964976">[-]</label><label class="expand" for="c-37964976">[1 more]</label></div><br/><div class="children"><div class="content">Then write Select *</div><br/></div></div><div id="37963945" class="c"><input type="checkbox" id="c-37963945" checked=""/><div class="controls bullet"><span class="by">wvenable</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37964976">prev</a><span>|</span><a href="#37963955">next</a><span>|</span><label class="collapse" for="c-37963945">[-]</label><label class="expand" for="c-37963945">[7 more]</label></div><br/><div class="children"><div class="content">I assume you could just use `SELECT *` there and the result is the same.</div><br/><div id="37963996" class="c"><input type="checkbox" id="c-37963996" checked=""/><div class="controls bullet"><span class="by">TurkTurkleton</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963945">parent</a><span>|</span><a href="#37963955">next</a><span>|</span><label class="collapse" for="c-37963996">[-]</label><label class="expand" for="c-37963996">[6 more]</label></div><br/><div class="children"><div class="content">Indeed, I would be surprised if there exists any RDBMS where the content of the select list in an EXISTS subquery matters.  Postgres&#x27;s SQL dialect even lets you use an empty select list (`... WHERE EXISTS (SELECT FROM related_table WHERE related_id = id_from_outer_query)`).  In T-SQL, however, a non-empty select list is required, and in my experience, developers writing T-SQL tend to prefer a constant value like `1` or `NULL` over `*` -- I suspect there&#x27;s some superstition there related to both the common wisdom that `SELECT *` queries are to be avoided (which is true -- you really should only ever select the columns of interest) and a lack of truly understanding that EXISTS only reads enough of the table to ascertain whether rows exist that satisfy the subquery&#x27;s predicate, and returns a boolean value, not a result set.</div><br/><div id="37964044" class="c"><input type="checkbox" id="c-37964044" checked=""/><div class="controls bullet"><span class="by">gpm</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963996">parent</a><span>|</span><a href="#37964380">next</a><span>|</span><label class="collapse" for="c-37964044">[-]</label><label class="expand" for="c-37964044">[1 more]</label></div><br/><div class="children"><div class="content">As a non-sql-expert (I&#x27;ve used an exists query approximately once in my life) I prefer `select 1` over `select column_name` or `select *` because it doesn&#x27;t look like it might be meaningful.<p>Postgres&#x27;s dialect seems like it made the right choice here.</div><br/></div></div><div id="37964380" class="c"><input type="checkbox" id="c-37964380" checked=""/><div class="controls bullet"><span class="by">jrumbut</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963996">parent</a><span>|</span><a href="#37964044">prev</a><span>|</span><a href="#37963955">next</a><span>|</span><label class="collapse" for="c-37964380">[-]</label><label class="expand" for="c-37964380">[4 more]</label></div><br/><div class="children"><div class="content">Selecting NULL to signify something exists breaks my brain a little bit. I really prefer 1 stylistically, even if there is no technical difference.</div><br/><div id="37965199" class="c"><input type="checkbox" id="c-37965199" checked=""/><div class="controls bullet"><span class="by">justsomehnguy</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964380">parent</a><span>|</span><a href="#37965060">next</a><span>|</span><label class="collapse" for="c-37965199">[-]</label><label class="expand" for="c-37965199">[1 more]</label></div><br/><div class="children"><div class="content">It works fine for me.. when I&#x27;m thinking in sqlese. The bigger travesty here is using SELECT for the tasks which are not selecting (returning data) anything.</div><br/></div></div><div id="37965060" class="c"><input type="checkbox" id="c-37965060" checked=""/><div class="controls bullet"><span class="by">mjan22640</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964380">parent</a><span>|</span><a href="#37965199">prev</a><span>|</span><a href="#37964391">next</a><span>|</span><label class="collapse" for="c-37965060">[-]</label><label class="expand" for="c-37965060">[1 more]</label></div><br/><div class="children"><div class="content">Turn the brain 90° from columns to rows and it will be fine.</div><br/></div></div><div id="37964391" class="c"><input type="checkbox" id="c-37964391" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964380">parent</a><span>|</span><a href="#37965060">prev</a><span>|</span><a href="#37963955">next</a><span>|</span><label class="collapse" for="c-37964391">[-]</label><label class="expand" for="c-37964391">[1 more]</label></div><br/><div class="children"><div class="content">Yeah. 1 breaks my brain for the same reason probably.</div><br/></div></div></div></div></div></div></div></div><div id="37963955" class="c"><input type="checkbox" id="c-37963955" checked=""/><div class="controls bullet"><span class="by">nsenifty</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963904">parent</a><span>|</span><a href="#37963945">prev</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37963955">[-]</label><label class="expand" for="c-37963955">[6 more]</label></div><br/><div class="children"><div class="content">Yeah just change it to `SELECT OrderID`.</div><br/><div id="37963960" class="c"><input type="checkbox" id="c-37963960" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963955">parent</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37963960">[-]</label><label class="expand" for="c-37963960">[5 more]</label></div><br/><div class="children"><div class="content">Yep, agreed.</div><br/><div id="37964193" class="c"><input type="checkbox" id="c-37964193" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37963960">parent</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37964193">[-]</label><label class="expand" for="c-37964193">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t get it. &quot;SELECT 1&quot; is significantly more informative than &quot;SELECT red_herring&quot;. It&#x27;s a self-documenting and automatically enforced comment telling you that the information requested by the SELECT statement is not used by the query.</div><br/><div id="37964307" class="c"><input type="checkbox" id="c-37964307" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964193">parent</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37964307">[-]</label><label class="expand" for="c-37964307">[3 more]</label></div><br/><div class="children"><div class="content">I copy paste SQL all the time, especially with CTE after CTE all the time. The row number is a simple thing to copy paste that fills multiple functions with zero modification.</div><br/><div id="37964335" class="c"><input type="checkbox" id="c-37964335" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964307">parent</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37964335">[-]</label><label class="expand" for="c-37964335">[2 more]</label></div><br/><div class="children"><div class="content">And that&#x27;s different from 1 in what way other than being more confusing?<p>Note that in the case you&#x27;re advocating for, the row number is called &quot;OrderId&quot;, which you might have trouble with if you insist on copying a query from somewhere else and using it without modification. Wouldn&#x27;t you prefer &quot;1&quot;?</div><br/><div id="37964359" class="c"><input type="checkbox" id="c-37964359" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#37963875">root</a><span>|</span><a href="#37964335">parent</a><span>|</span><a href="#37965000">next</a><span>|</span><label class="collapse" for="c-37964359">[-]</label><label class="expand" for="c-37964359">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s helpful within CTEs as a unique identifier. This whole conversation makes me wonder if not many people minmax this sort of meta programming thing.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37965000" class="c"><input type="checkbox" id="c-37965000" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#37963875">prev</a><span>|</span><a href="#37963961">next</a><span>|</span><label class="collapse" for="c-37965000">[-]</label><label class="expand" for="c-37965000">[1 more]</label></div><br/><div class="children"><div class="content">More than once a Distinct means you don&#x27;t really know the underlying data model and just want to get rid of the duplicates.</div><br/></div></div><div id="37963961" class="c"><input type="checkbox" id="c-37963961" checked=""/><div class="controls bullet"><span class="by">jletienne</span><span>|</span><a href="#37965000">prev</a><span>|</span><a href="#37965141">next</a><span>|</span><label class="collapse" for="c-37963961">[-]</label><label class="expand" for="c-37963961">[2 more]</label></div><br/><div class="children"><div class="content">whenever I see [select distinct ... group by] , i know i&#x27;m in for some bs. the original code creator had some duplication&#x2F;cartesians but never properly addressed it</div><br/><div id="37964846" class="c"><input type="checkbox" id="c-37964846" checked=""/><div class="controls bullet"><span class="by">morkalork</span><span>|</span><a href="#37963961">parent</a><span>|</span><a href="#37965141">next</a><span>|</span><label class="collapse" for="c-37964846">[-]</label><label class="expand" for="c-37964846">[1 more]</label></div><br/><div class="children"><div class="content">Seeing distinct being abused in application code is pretty rare though. What gets me is seeing it in some ETL or data analyst&#x27;s queries. That&#x27;s the sign that you&#x27;re about to spend the next hour unfucking a query with like 50 joins and no CTEs for organization, written by someone who has no understanding of the underlying schema.</div><br/></div></div></div></div><div id="37965141" class="c"><input type="checkbox" id="c-37965141" checked=""/><div class="controls bullet"><span class="by">philshem</span><span>|</span><a href="#37963961">prev</a><span>|</span><a href="#37964278">next</a><span>|</span><label class="collapse" for="c-37965141">[-]</label><label class="expand" for="c-37965141">[2 more]</label></div><br/><div class="children"><div class="content">“Think, before you DISTINCT”<p>(Not mine, and I don’t know the source)</div><br/><div id="37965205" class="c"><input type="checkbox" id="c-37965205" checked=""/><div class="controls bullet"><span class="by">munch117</span><span>|</span><a href="#37965141">parent</a><span>|</span><a href="#37964278">next</a><span>|</span><label class="collapse" for="c-37965205">[-]</label><label class="expand" for="c-37965205">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t.  I put distinct on everything by default, because it makes SQL more like relational algebra.<p>What&#x27;s the argument for avoiding distinct?  Is it performance?  I&#x27;ve often wondered if the (sometimes redundant) distincts slow things down.  Perhaps it does, but just not enough that I noticed.</div><br/></div></div></div></div><div id="37964278" class="c"><input type="checkbox" id="c-37964278" checked=""/><div class="controls bullet"><span class="by">texuf</span><span>|</span><a href="#37965141">prev</a><span>|</span><a href="#37965044">next</a><span>|</span><label class="collapse" for="c-37964278">[-]</label><label class="expand" for="c-37964278">[1 more]</label></div><br/><div class="children"><div class="content">So loop over the customers and see if they have an order instead of looping over all the orders and de-duplicating the customers?</div><br/></div></div><div id="37965044" class="c"><input type="checkbox" id="c-37965044" checked=""/><div class="controls bullet"><span class="by">sakesun</span><span>|</span><a href="#37964278">prev</a><span>|</span><a href="#37963998">next</a><span>|</span><label class="collapse" for="c-37965044">[-]</label><label class="expand" for="c-37965044">[1 more]</label></div><br/><div class="children"><div class="content">Glad somebody said this.</div><br/></div></div><div id="37963998" class="c"><input type="checkbox" id="c-37963998" checked=""/><div class="controls bullet"><span class="by">sublinear</span><span>|</span><a href="#37965044">prev</a><span>|</span><a href="#37964138">next</a><span>|</span><label class="collapse" for="c-37963998">[-]</label><label class="expand" for="c-37963998">[6 more]</label></div><br/><div class="children"><div class="content">I know it&#x27;s just an example, but why aren&#x27;t these tables normalized better anyway? None of them should have columns for the PK of another table.<p>The relationships between them should be represented by bridge tables. Really there&#x27;s only one relationship here which is product orders.<p>Why have the expense of a join in your select queries when you can just associate them properly during the insert in the first place?<p>Then you can simply select limit 1 from the bridge table and only have one scan on the customer table for the whole query.</div><br/><div id="37964149" class="c"><input type="checkbox" id="c-37964149" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37963998">parent</a><span>|</span><a href="#37964138">next</a><span>|</span><label class="collapse" for="c-37964149">[-]</label><label class="expand" for="c-37964149">[5 more]</label></div><br/><div class="children"><div class="content">&gt; why aren&#x27;t these tables normalized better anyway? None of them should have columns for the PK of another table.<p>&gt; The relationships between them should be represented by bridge tables. Really there&#x27;s only one relationship here which is product orders.<p>What?<p>There appears to be a mistake in the Products table, which only allows a product to belong to one category.<p>But the many-to-many relationship between orders and products is already represented in a bridge table, OrderDetails, and the one-to-many relationship between customers and orders is correct. Why would you have a bridge table between customers and orders instead of recording the same information in a column of the Orders table?<p>And... how is your bridge table going to operate without having columns for the PKs of multiple other tables? That&#x27;s what OrderDetails is doing. What would you change?</div><br/><div id="37964452" class="c"><input type="checkbox" id="c-37964452" checked=""/><div class="controls bullet"><span class="by">sublinear</span><span>|</span><a href="#37963998">root</a><span>|</span><a href="#37964149">parent</a><span>|</span><a href="#37964216">next</a><span>|</span><label class="collapse" for="c-37964452">[-]</label><label class="expand" for="c-37964452">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the one-to-many relationship between customers and orders is correct. Why would you have a bridge table between customers and orders instead of recording the same information in a column of the Orders table?<p>Because as you said the relationship is one customer to many orders.<p>&gt; the many-to-many relationship between orders and products is already represented in a bridge table, OrderDetails<p>The relationship between Orders and Products is one-to-many, not many-to-many. Also, OrderDetails is not a bridge table because it has the quantity of Products. Bridge tables should only have the IDs and it&#x27;s not going to have one row per order nor per customer. It&#x27;s going to have n rows where n is the number of categories a product in an order belongs to multiplied by the number of products in an order multiplied the number of orders made by a customer multiplied by the number of customers who have made orders. It&#x27;s a lot of rows, but compresses very well and makes the queries simpler by flattening all these relationships into one. The only relationship that matters for this query is customers and product category, but you can query for any relationship without joins in this bridge table I&#x27;m proposing.<p>&gt; That&#x27;s what OrderDetails is doing. What would you change?<p>OrderDetails is messed up in other ways too. What is &quot;LineItemID&quot;? LineItem should have the quantity and price? That table isn&#x27;t even defined in the example. OrderDetails is a bad table that needs to go. Your interpretation of what I&#x27;m saying is correct. I would add an actual bridge table (not OrderDetails) that relates the customers to the orders.<p>You&#x27;re correct that OrderDetails, as written, does need to relate an order to all its products, but my point was that you don&#x27;t need to join to query for all the customers who have made at least one order of a given category. You just need to select where the category ID matches.</div><br/></div></div><div id="37964216" class="c"><input type="checkbox" id="c-37964216" checked=""/><div class="controls bullet"><span class="by">icameron</span><span>|</span><a href="#37963998">root</a><span>|</span><a href="#37964149">parent</a><span>|</span><a href="#37964452">prev</a><span>|</span><a href="#37964138">next</a><span>|</span><label class="collapse" for="c-37964216">[-]</label><label class="expand" for="c-37964216">[3 more]</label></div><br/><div class="children"><div class="content">Good points but what you think about Bob ordering 47.05 worth of Strawberries?</div><br/><div id="37964317" class="c"><input type="checkbox" id="c-37964317" checked=""/><div class="controls bullet"><span class="by">sitharus</span><span>|</span><a href="#37963998">root</a><span>|</span><a href="#37964216">parent</a><span>|</span><a href="#37964334">next</a><span>|</span><label class="collapse" for="c-37964317">[-]</label><label class="expand" for="c-37964317">[1 more]</label></div><br/><div class="children"><div class="content">Maybe Bob makes jam?</div><br/></div></div><div id="37964334" class="c"><input type="checkbox" id="c-37964334" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37963998">root</a><span>|</span><a href="#37964216">parent</a><span>|</span><a href="#37964317">prev</a><span>|</span><a href="#37964138">next</a><span>|</span><label class="collapse" for="c-37964334">[-]</label><label class="expand" for="c-37964334">[1 more]</label></div><br/><div class="children"><div class="content">None of the products have any prices, so there&#x27;s no such thing as ordering 47.05 worth of strawberries.<p>The OrderDetails table already records how many strawberries were included in Bob&#x27;s order of July 3rd.</div><br/></div></div></div></div></div></div></div></div><div id="37964595" class="c"><input type="checkbox" id="c-37964595" checked=""/><div class="controls bullet"><span class="by">nubinetwork</span><span>|</span><a href="#37964138">prev</a><span>|</span><a href="#37964640">next</a><span>|</span><label class="collapse" for="c-37964595">[-]</label><label class="expand" for="c-37964595">[2 more]</label></div><br/><div class="children"><div class="content">How do you get those fancy pictures displaying the explain output?</div><br/><div id="37964649" class="c"><input type="checkbox" id="c-37964649" checked=""/><div class="controls bullet"><span class="by">5e92cb50239222b</span><span>|</span><a href="#37964595">parent</a><span>|</span><a href="#37964640">next</a><span>|</span><label class="collapse" for="c-37964649">[-]</label><label class="expand" for="c-37964649">[1 more]</label></div><br/><div class="children"><div class="content">SQL Server Management Studio, I believe. For the rest of us who avoid Microsoft&#x27;s database, there&#x27;s this:<p><a href="https:&#x2F;&#x2F;explain.dalibo.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;explain.dalibo.com</a><p><a href="https:&#x2F;&#x2F;explain.depesz.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;explain.depesz.com</a></div><br/></div></div></div></div><div id="37964640" class="c"><input type="checkbox" id="c-37964640" checked=""/><div class="controls bullet"><span class="by">badrabbit</span><span>|</span><a href="#37964595">prev</a><span>|</span><a href="#37964518">next</a><span>|</span><label class="collapse" for="c-37964640">[-]</label><label class="expand" for="c-37964640">[2 more]</label></div><br/><div class="children"><div class="content">Slightly unrelated question:<p>Why does Lucene and derivatives (ES,Solr,etc..) not have the concept of a join? Always found it to be a major downside of them.</div><br/><div id="37964984" class="c"><input type="checkbox" id="c-37964984" checked=""/><div class="controls bullet"><span class="by">riffraff</span><span>|</span><a href="#37964640">parent</a><span>|</span><a href="#37964518">next</a><span>|</span><label class="collapse" for="c-37964984">[-]</label><label class="expand" for="c-37964984">[1 more]</label></div><br/><div class="children"><div class="content">Because they&#x27;re not relational databases, I guess.<p>I mean, it&#x27;s like asking why PostgreSQL does not provide a gopher server, it&#x27;s just not their scope.</div><br/></div></div></div></div><div id="37964518" class="c"><input type="checkbox" id="c-37964518" checked=""/><div class="controls bullet"><span class="by">bowsamic</span><span>|</span><a href="#37964640">prev</a><span>|</span><label class="collapse" for="c-37964518">[-]</label><label class="expand" for="c-37964518">[1 more]</label></div><br/><div class="children"><div class="content">Don’t use subqueries if you are using Azure SQL, they’re painfully slow</div><br/></div></div></div></div></div></div></div></body></html>