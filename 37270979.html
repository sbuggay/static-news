<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1693126853352" as="style"/><link rel="stylesheet" href="styles.css?v=1693126853352"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.fponzi.me/2023-08-13-bare-metal-space-invaders.html">Bare Metal Space Invaders</a>Â <span class="domain">(<a href="https://blog.fponzi.me">blog.fponzi.me</a>)</span></div><div class="subtext"><span>lukastyrychtr</span> | <span>5 comments</span></div><br/><div><div id="37279146" class="c"><input type="checkbox" id="c-37279146" checked=""/><div class="controls bullet"><span class="by">b800h</span><span>|</span><a href="#37279366">next</a><span>|</span><label class="collapse" for="c-37279146">[-]</label><label class="expand" for="c-37279146">[1 more]</label></div><br/><div class="children"><div class="content">This is interesting. I wrote an Invaders clone in assembly for x86 in the early 90s; typically you didn&#x27;t use OS calls then either, not because it was &quot;bare metal&quot; (though it could have been) but because int 21h was horribly slow! Similarly it was much quicker to stosb to video memory at a000h than use int 10h, although that was a hardware interrupt. I wonder if it made it across to the Pi?<p>Reading through this code 30 years later will be fascinating.<p>EDIT: What immediately jumps out at me is how different things get when there&#x27;s no scan line to deal with..</div><br/></div></div><div id="37279366" class="c"><input type="checkbox" id="c-37279366" checked=""/><div class="controls bullet"><span class="by">b800h</span><span>|</span><a href="#37279146">prev</a><span>|</span><label class="collapse" for="c-37279366">[-]</label><label class="expand" for="c-37279366">[3 more]</label></div><br/><div class="children"><div class="content">Q: Can you not write directly to video memory on the Pi, rather than do this cumbersome mailbox stuff?<p>EDIT: Apparently calling SWI &amp;31 would give you the location, allowing direct access</div><br/><div id="37279918" class="c"><input type="checkbox" id="c-37279918" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#37279366">parent</a><span>|</span><label class="collapse" for="c-37279918">[-]</label><label class="expand" for="c-37279918">[2 more]</label></div><br/><div class="children"><div class="content">&gt; EDIT: Apparently calling SWI &amp;31 would give you the location, allowing direct access<p>What gives you that impression?<p>INT 31h is how you make a DPMI call in an x86 PC BIOS system, but that&#x27;s <i>entirely</i> specific to those systems. There&#x27;s no equivalent on ARM.</div><br/><div id="37280128" class="c"><input type="checkbox" id="c-37280128" checked=""/><div class="controls bullet"><span class="by">b800h</span><span>|</span><a href="#37279366">root</a><span>|</span><a href="#37279918">parent</a><span>|</span><label class="collapse" for="c-37280128">[-]</label><label class="expand" for="c-37280128">[1 more]</label></div><br/><div class="children"><div class="content">My mistake - I was reading the RISC OS documentation and assumed that SWI &amp;31 in RISC OS (<i>not</i> x86) was a hardware interrupt call and not something specific to RISC OS itself - apologies, middle of the night, brain fog!</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>