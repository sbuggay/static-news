<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1696496489533" as="style"/><link rel="stylesheet" href="styles.css?v=1696496489533"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jakelazaroff.com/words/an-interactive-intro-to-crdts/">An interactive intro to CRDTs</a> <span class="domain">(<a href="https://jakelazaroff.com">jakelazaroff.com</a>)</span></div><div class="subtext"><span>jakelazaroff</span> | <span>114 comments</span></div><br/><div><div id="37765345" class="c"><input type="checkbox" id="c-37765345" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37766689">next</a><span>|</span><label class="collapse" for="c-37765345">[-]</label><label class="expand" for="c-37765345">[24 more]</label></div><br/><div class="children"><div class="content">So far this is probably the best &quot;intro to CRDTs for a <i>developer</i>&quot; I&#x27;ve read. I built a product around CRDTs, essentially, and my god was it painful trying to engage with. Showing actual code, explaining that `merge` is the fundamental operation, etc, is really all a developer needs to know IMO.<p>Also, the fact that we always use text editing as the de-facto solution is so weird to me since that problem is both niche and extremely complex. IMO a better example would be something like &quot;Can this person drink alcohol?&quot;. Age moves in one direction so it has a simple merge function:<p><pre><code>    def set_age(self, new_age: int):
        self.age = max(self.age, new_age)
</code></pre>
A property of this is that if I query your age and if you&#x27;re 21 I can cache that age forever. You&#x27;ll only ever be &gt;= 21, after all. If I add new queries that care about you being 25 (for a hotel) I can satisfy the &quot;drinking age&quot; queries from a stale cache and then retrieve the true value (&lt;25) when I need to check if you can book a hotel.<p>This means you can have distributed caches without invalidation logic. A pretty amazing property since cache invalidation is a hugely complex problem and has seriously negative performance&#x2F; storage implications.<p>It also means you can drop writes. If my system gets information that a person was 18, but that information is out of date, I can drop that write, and I can do so by examining the cache and viewing <i>stale</i> information, only checking the real value if the cache value is &lt; 18.<p>This whole thing lets you push computation to the edge, drop expensive writes, ignore any cache invalidation logic, cache values forever, potentially answer queries from stale cache values, etc.<p>Anyway, kudos for the writeup. I skimmed the second half but the first half was great and the second half looked legit.</div><br/><div id="37767075" class="c"><input type="checkbox" id="c-37767075" checked=""/><div class="controls bullet"><span class="by">kevincox</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37766143">next</a><span>|</span><label class="collapse" for="c-37767075">[-]</label><label class="expand" for="c-37767075">[2 more]</label></div><br/><div class="children"><div class="content">&gt; the fact that we always use text editing as the de-facto solution is so weird to me since that problem is both niche and extremely complex<p>The reason we use that is because it is complex enough to show the problems that CRDTs solve. I would argue that this painting example is too simple. The core merge loop is:<p><pre><code>    if pixel.created_at &lt; newPixel.created_at {
        pixel = newPixel;
    }
</code></pre>
this is maybe good as a first step, but I don&#x27;t think it is enough to even really called an &quot;Intro&quot;. A last-write-wins register is trivial.<p>Simple text inserts with a simple &quot;insert after&quot; CRDTs is not much more complicated but involves things like generated unique IDs without communication and how to resolve conflicts with some sort of globally consistent ordering.</div><br/><div id="37774618" class="c"><input type="checkbox" id="c-37774618" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37767075">parent</a><span>|</span><a href="#37766143">next</a><span>|</span><label class="collapse" for="c-37774618">[-]</label><label class="expand" for="c-37774618">[1 more]</label></div><br/><div class="children"><div class="content">I agree that it&#x27;s simple, but that&#x27;s exactly what makes it so powerful —  it&#x27;s easy to understand and yet you can do a <i>ton</i> with it. I&#x27;ve been working on a vector editor as well that&#x27;s <i>also</i> built with just registers and maps. That one is a bit long for a blog post (although I might do a high level overview of some techniques like fractional indexing). But the point I&#x27;m trying to drive at here is that you can get really far just by combining simple CRDTs.</div><br/></div></div></div></div><div id="37766143" class="c"><input type="checkbox" id="c-37766143" checked=""/><div class="controls bullet"><span class="by">whalesalad</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37767075">prev</a><span>|</span><a href="#37766543">next</a><span>|</span><label class="collapse" for="c-37766143">[-]</label><label class="expand" for="c-37766143">[10 more]</label></div><br/><div class="children"><div class="content">I realize this is a straw man argument&#x2F;example - but it feels hairy to me. So much fuss about age and cache invalidation ... age should not be persisted anywhere. When you make age a calculated property from birthday it is never inaccurate or stale or wrong. &quot;set age&quot; should not be a possible operation in any system imho.</div><br/><div id="37766193" class="c"><input type="checkbox" id="c-37766193" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37766143">parent</a><span>|</span><a href="#37766543">next</a><span>|</span><label class="collapse" for="c-37766193">[-]</label><label class="expand" for="c-37766193">[9 more]</label></div><br/><div class="children"><div class="content">Even if you persist a timestamp like &#x27;birth date&#x27; into a database it doesn&#x27;t matter - you can still cache the resulting &#x27;age&#x27; calculations as CRDTs. But yes, it is a made up example. Another might be &#x27;first&#x2F;last observed time&#x27; for an IP address.</div><br/><div id="37767935" class="c"><input type="checkbox" id="c-37767935" checked=""/><div class="controls bullet"><span class="by">rahkiin</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37766193">parent</a><span>|</span><a href="#37766543">next</a><span>|</span><label class="collapse" for="c-37767935">[-]</label><label class="expand" for="c-37767935">[8 more]</label></div><br/><div class="children"><div class="content">For GDPR it is better to store ‘is legal drinking age’ instead of age or forbid even the birthdate</div><br/><div id="37768691" class="c"><input type="checkbox" id="c-37768691" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37767935">parent</a><span>|</span><a href="#37768235">next</a><span>|</span><label class="collapse" for="c-37768691">[-]</label><label class="expand" for="c-37768691">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think we need to design the entire &quot;can you legally drink&quot; SaaS, hopefully my example is clear enough and people can leverage the <i>concept</i> for more reasonable circumstances.</div><br/></div></div><div id="37768235" class="c"><input type="checkbox" id="c-37768235" checked=""/><div class="controls bullet"><span class="by">neilellis</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37767935">parent</a><span>|</span><a href="#37768691">prev</a><span>|</span><a href="#37766543">next</a><span>|</span><label class="collapse" for="c-37768235">[-]</label><label class="expand" for="c-37768235">[6 more]</label></div><br/><div class="children"><div class="content">Until the legal drinking age changes :-)</div><br/><div id="37768963" class="c"><input type="checkbox" id="c-37768963" checked=""/><div class="controls bullet"><span class="by">rahkiin</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37768235">parent</a><span>|</span><a href="#37768822">next</a><span>|</span><label class="collapse" for="c-37768963">[-]</label><label class="expand" for="c-37768963">[2 more]</label></div><br/><div class="children"><div class="content">Ideally you only verify at time of purchase and do not care afterwards until next purchase. Bare minimum to hold to laws</div><br/><div id="37772733" class="c"><input type="checkbox" id="c-37772733" checked=""/><div class="controls bullet"><span class="by">jcrites</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37768963">parent</a><span>|</span><a href="#37768822">next</a><span>|</span><label class="collapse" for="c-37772733">[-]</label><label class="expand" for="c-37772733">[1 more]</label></div><br/><div class="children"><div class="content">Ideally you also don&#x27;t need to verify it more than once, though. Otherwise, it will be friction that detracts from the user experience.</div><br/></div></div></div></div><div id="37768822" class="c"><input type="checkbox" id="c-37768822" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37768235">parent</a><span>|</span><a href="#37768963">prev</a><span>|</span><a href="#37772249">next</a><span>|</span><label class="collapse" for="c-37768822">[-]</label><label class="expand" for="c-37768822">[1 more]</label></div><br/><div class="children"><div class="content">That’s why you need the SAAS, for compliance and i18n!</div><br/></div></div><div id="37772249" class="c"><input type="checkbox" id="c-37772249" checked=""/><div class="controls bullet"><span class="by">yard2010</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37768235">parent</a><span>|</span><a href="#37768822">prev</a><span>|</span><a href="#37766543">next</a><span>|</span><label class="collapse" for="c-37772249">[-]</label><label class="expand" for="c-37772249">[2 more]</label></div><br/><div class="children"><div class="content">Fun fact: in some places in Canada the legal drinking age is 19</div><br/><div id="37774246" class="c"><input type="checkbox" id="c-37774246" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37772249">parent</a><span>|</span><a href="#37766543">next</a><span>|</span><label class="collapse" for="c-37774246">[-]</label><label class="expand" for="c-37774246">[1 more]</label></div><br/><div class="children"><div class="content">Please elaborate what is “fun” about that fact? The drinking age is 19 in <i>most</i> of Canada, 18 is the exception. And the drinking age varies all over the world.<p>It used to be between 21 in most of the US until the voting age was lowered to 18 in 1971. It was then either 18 or 19 in most states (generally the more liberal ones) until 1984 when the national minimum was passed. 19 really is sort of a sweet spot for socially liberal North America.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37766543" class="c"><input type="checkbox" id="c-37766543" checked=""/><div class="controls bullet"><span class="by">richardwhiuk</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37766143">prev</a><span>|</span><a href="#37765905">next</a><span>|</span><label class="collapse" for="c-37766543">[-]</label><label class="expand" for="c-37766543">[3 more]</label></div><br/><div class="children"><div class="content">Somebody typos there age to be too high, and then you cache it forever.<p>You have to be careful here.</div><br/><div id="37766579" class="c"><input type="checkbox" id="c-37766579" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37766543">parent</a><span>|</span><a href="#37772157">next</a><span>|</span><label class="collapse" for="c-37766579">[-]</label><label class="expand" for="c-37766579">[1 more]</label></div><br/><div class="children"><div class="content">Of course. All things require care. Not all problems fit into CRDTs either.</div><br/></div></div><div id="37772157" class="c"><input type="checkbox" id="c-37772157" checked=""/><div class="controls bullet"><span class="by">LtdJorge</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37766543">parent</a><span>|</span><a href="#37766579">prev</a><span>|</span><a href="#37765905">next</a><span>|</span><label class="collapse" for="c-37772157">[-]</label><label class="expand" for="c-37772157">[1 more]</label></div><br/><div class="children"><div class="content">And of course you <i>typoed</i> there instead of their :D</div><br/></div></div></div></div><div id="37765905" class="c"><input type="checkbox" id="c-37765905" checked=""/><div class="controls bullet"><span class="by">hmottestad</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37766543">prev</a><span>|</span><a href="#37772486">next</a><span>|</span><label class="collapse" for="c-37765905">[-]</label><label class="expand" for="c-37765905">[1 more]</label></div><br/><div class="children"><div class="content">I really like this somewhat old video by Microsoft <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=oyUHd894w18">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=oyUHd894w18</a> it was my first intro to CRDTs.</div><br/></div></div><div id="37772486" class="c"><input type="checkbox" id="c-37772486" checked=""/><div class="controls bullet"><span class="by">cabalamat</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37765905">prev</a><span>|</span><a href="#37766479">next</a><span>|</span><label class="collapse" for="c-37772486">[-]</label><label class="expand" for="c-37772486">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Age moves in one direction so it has a simple merge function:<p>Better to use date of birth as that doesn&#x27;t change at all.</div><br/></div></div><div id="37766479" class="c"><input type="checkbox" id="c-37766479" checked=""/><div class="controls bullet"><span class="by">steve_adams_86</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37772486">prev</a><span>|</span><a href="#37774739">next</a><span>|</span><label class="collapse" for="c-37766479">[-]</label><label class="expand" for="c-37766479">[4 more]</label></div><br/><div class="children"><div class="content">The way you describe that makes me wonder if state machines would be natural tools to express CRDT “states”.</div><br/><div id="37766949" class="c"><input type="checkbox" id="c-37766949" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37766479">parent</a><span>|</span><a href="#37774739">next</a><span>|</span><label class="collapse" for="c-37766949">[-]</label><label class="expand" for="c-37766949">[3 more]</label></div><br/><div class="children"><div class="content">The important this is that, as mentioned in the article, you need to have a way to converge states in a way that obeys certain properties.</div><br/><div id="37767194" class="c"><input type="checkbox" id="c-37767194" checked=""/><div class="controls bullet"><span class="by">steve_adams_86</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37766949">parent</a><span>|</span><a href="#37774739">next</a><span>|</span><label class="collapse" for="c-37767194">[-]</label><label class="expand" for="c-37767194">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, as I’m reading this more thoroughly I see that there wouldn’t be many states to express, and the merging itself isn’t something you’d express in states.<p>I initially thought more of the inner workings could be managed this way, but it seems better implemented as it is in the article.</div><br/><div id="37768948" class="c"><input type="checkbox" id="c-37768948" checked=""/><div class="controls bullet"><span class="by">insanitybit</span><span>|</span><a href="#37765345">root</a><span>|</span><a href="#37767194">parent</a><span>|</span><a href="#37774739">next</a><span>|</span><label class="collapse" for="c-37768948">[-]</label><label class="expand" for="c-37768948">[1 more]</label></div><br/><div class="children"><div class="content">You should check out the P language and consider the implications of CRDTs on the `machine` constructs :)</div><br/></div></div></div></div></div></div></div></div><div id="37774739" class="c"><input type="checkbox" id="c-37774739" checked=""/><div class="controls bullet"><span class="by">Racing0461</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37766479">prev</a><span>|</span><a href="#37766283">next</a><span>|</span><label class="collapse" for="c-37774739">[-]</label><label class="expand" for="c-37774739">[1 more]</label></div><br/><div class="children"><div class="content">What if i set the wrong dob and i need to change it?</div><br/></div></div><div id="37766283" class="c"><input type="checkbox" id="c-37766283" checked=""/><div class="controls bullet"><span class="by">alephnan</span><span>|</span><a href="#37765345">parent</a><span>|</span><a href="#37774739">prev</a><span>|</span><a href="#37766689">next</a><span>|</span><label class="collapse" for="c-37766283">[-]</label><label class="expand" for="c-37766283">[1 more]</label></div><br/><div class="children"><div class="content">&gt; text editing as the de-facto solution is so weird to me since that problem is both niche and extremely complex.<p>My first foray into collaborative editing was for my text editor. Indeed, things get super linearly harder as you add basic functionality of  editors such as deleting and replacing, especially when those space multiple lines.<p>Instead, I reached for Fraser’s differential syncing. <a href="https:&#x2F;&#x2F;neil.fraser.name&#x2F;writing&#x2F;sync&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;neil.fraser.name&#x2F;writing&#x2F;sync&#x2F;</a>. There’s a lot of ambiguity and nuances in various versions of the prose  and white paper that I could never really flesh out.<p>I think anyone attempting to relay a collaborative editing algorithm needs to do is start with the simplest scenarios: append only &#x2F; monotonically increasing data.</div><br/></div></div></div></div><div id="37766689" class="c"><input type="checkbox" id="c-37766689" checked=""/><div class="controls bullet"><span class="by">braden-lk</span><span>|</span><a href="#37765345">prev</a><span>|</span><a href="#37767636">next</a><span>|</span><label class="collapse" for="c-37766689">[-]</label><label class="expand" for="c-37766689">[13 more]</label></div><br/><div class="children"><div class="content">I’ve built a successful business from a TTRPG campaign manager (LegendKeeper) using CRDTs, specifically the Yjs kind. It’s been great, and the UX of CRDT-powered stuff is excellent. Zero latency, eventually consistent; overall users love the performance and offline capability.<p>That said, there are a lot of trade offs. Some things that are easy in a traditional server-client model become difficult in the local-first context that CRDTs provide. Role based authorization is hard, data model changes must be done additive (never mutative), and knowing what state a client is in when debugging is tough too, without a lot of “full-surveillance”-level tooling. Also with the automatic , bidirectional syncing a lot of CRDT architectures afford you, a bug in production that corrupts data can virally propagate and cause a huge headache.<p>Investor-funded services like Liveblocks are starting to pop up that promise to make this stuff easier, but as an indie I find them expensive; I’m sure they’re a great value for big corps or funded teams though. Rolling my own infrastructure for Yjs has been taxing, but I’ve learned a lot, and have been able to tailor it exactly to my needs.</div><br/><div id="37766851" class="c"><input type="checkbox" id="c-37766851" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#37766689">parent</a><span>|</span><a href="#37769512">next</a><span>|</span><label class="collapse" for="c-37766851">[-]</label><label class="expand" for="c-37766851">[6 more]</label></div><br/><div class="children"><div class="content">&gt; knowing for sure what state a user’s client is in when debugging is tough too<p>My team has built an open-source debugger for Yjs that might interest you (docs: <a href="https:&#x2F;&#x2F;y-sweet.cloud&#x2F;advanced&#x2F;debugger" rel="nofollow noreferrer">https:&#x2F;&#x2F;y-sweet.cloud&#x2F;advanced&#x2F;debugger</a>)<p>You mention the investor-funded services that pop up to make this stuff easier -- our goal with Y-Sweet is to build the same type of DX you’d get from those services, but build it on a fully open-source (MIT) platform with Yjs at the core: <a href="https:&#x2F;&#x2F;github.com&#x2F;drifting-in-space&#x2F;y-sweet">https:&#x2F;&#x2F;github.com&#x2F;drifting-in-space&#x2F;y-sweet</a></div><br/><div id="37768388" class="c"><input type="checkbox" id="c-37768388" checked=""/><div class="controls bullet"><span class="by">janesconference</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37766851">parent</a><span>|</span><a href="#37766898">next</a><span>|</span><label class="collapse" for="c-37768388">[-]</label><label class="expand" for="c-37768388">[4 more]</label></div><br/><div class="children"><div class="content">A couple of questions about y-sweet, based on the experiences I had with CRDTs:<p>1) Does the server keeps in memory the &quot;active&quot; documents? In other words, does the server need to open a document and keep it in RAM while clients are connected to it (I assume there&#x27;s a websocket connection somewhere in the client that keeps it hot)? Or is the server stateless - just connects to the store when needed? I found the latter very hard to do.<p>2) Does the client persist entries using indexeddb? If yes, does opening many tabs cause redundant writes as they all sync with the server? If not, does the client need to fully re-sync with the server anytime it wakes up?<p>3) Is it possible to observe updates on the client as they come? One of the major use cases of CRDTs is to index data on the client - then you can have a dumb server that just syncs data between clients and a smart client that does search, graphs, visualizations etc. on the data it receives. To do that, the client needs to observe updates one by one and process them to create secondary indexes. Is it possible to do with y-sweet without forking its source code? I remember getting updates yn Y.js being quite inefficient as you need to replay them all or something similar, but that was a couple of years ago.</div><br/><div id="37769042" class="c"><input type="checkbox" id="c-37769042" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37768388">parent</a><span>|</span><a href="#37766898">next</a><span>|</span><label class="collapse" for="c-37769042">[-]</label><label class="expand" for="c-37769042">[3 more]</label></div><br/><div class="children"><div class="content">Good questions!<p>&gt; 1<p>The server keeps the documents in memory when they are open, but it is horizontally scalable by hosting using CloudFlare Durable Objects. (We also plan to support Plane.dev but that&#x27;s not built out yet).<p>&gt; 2<p>The client is based on Yjs, so it&#x27;s compatible with Yjs&#x27; y-indexeddb provider to store in IndexedDB. Tabs synchronize state between each other using a local broadcast channel. The client only synchronizes unsynced state with the server, so if one tab has already pushed the local offline edits to the server, the other tabs can discover that and avoid pushing them. That said, I&#x27;m not 100% sure if Yjs deals with the race condition where two tabs wake up at the same time so the server has not yet received offline edits from either, I&#x27;d have to check on that.<p>&gt;3<p>Yes, Yjs types have an `observe` method that takes a callback, which receives an event with details of each edit. Here’s an example for observing events of a Y.Map: <a href="https:&#x2F;&#x2F;docs.yjs.dev&#x2F;api&#x2F;shared-types&#x2F;y.map#observing-changes-y.mapevent" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.yjs.dev&#x2F;api&#x2F;shared-types&#x2F;y.map#observing-change...</a></div><br/><div id="37769230" class="c"><input type="checkbox" id="c-37769230" checked=""/><div class="controls bullet"><span class="by">janesconference</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37769042">parent</a><span>|</span><a href="#37766898">next</a><span>|</span><label class="collapse" for="c-37769230">[-]</label><label class="expand" for="c-37769230">[2 more]</label></div><br/><div class="children"><div class="content">Thanks! Re: 1, the docs are not really deep on that, but from your answer it seems it possible to self-host y-sweet on Cloudflare workers (I guess) with Durable Objects as storage?
Also, if you guys are going to have a paid plan, how do you see the prices going? Comparable to, say, Supabase per user, less or more?</div><br/><div id="37769597" class="c"><input type="checkbox" id="c-37769597" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37769230">parent</a><span>|</span><a href="#37766898">next</a><span>|</span><label class="collapse" for="c-37769597">[-]</label><label class="expand" for="c-37769597">[1 more]</label></div><br/><div class="children"><div class="content">Sorry about that, I’ll clarify the docs. You can self-host on Cloudflare, but the storage is R2&#x2F;S3&#x2F;S3-compatible blob storage.<p>Our tentative pricing is $25&#x2F;month + $10&#x2F;10k minutes of “open connection” time (per-document, not per-connection, so multiple users with the same doc open are not double-counted). Storage is free if you bring your own R2&#x2F;S3 bucket, or a nominal fee if you use ours.<p>Unlike supabase we don’t do any of the relational stuff, but for Figma-like apps where a lot of documents are never touched, I think our hot&#x2F;cold storage model can be significantly cheaper at scale than a hosted postgres database like supabase.</div><br/></div></div></div></div></div></div></div></div><div id="37766898" class="c"><input type="checkbox" id="c-37766898" checked=""/><div class="controls bullet"><span class="by">braden-lk</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37766851">parent</a><span>|</span><a href="#37768388">prev</a><span>|</span><a href="#37769512">next</a><span>|</span><label class="collapse" for="c-37766898">[-]</label><label class="expand" for="c-37766898">[1 more]</label></div><br/><div class="children"><div class="content">Ooh hell yeah; excited to check this out.</div><br/></div></div></div></div><div id="37769512" class="c"><input type="checkbox" id="c-37769512" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#37766689">parent</a><span>|</span><a href="#37766851">prev</a><span>|</span><a href="#37769025">next</a><span>|</span><label class="collapse" for="c-37769512">[-]</label><label class="expand" for="c-37769512">[2 more]</label></div><br/><div class="children"><div class="content">&gt; data model changes must be done additive (never mutative)<p>Sounds painful. It means your mutative data model changes, which exist, live somewhere else.</div><br/><div id="37769853" class="c"><input type="checkbox" id="c-37769853" checked=""/><div class="controls bullet"><span class="by">braden-lk</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37769512">parent</a><span>|</span><a href="#37769025">next</a><span>|</span><label class="collapse" for="c-37769853">[-]</label><label class="expand" for="c-37769853">[1 more]</label></div><br/><div class="children"><div class="content">Yep, though coming from mobile development this was somewhat familiar. A lot of mobile apps are local-first, but I don&#x27;t think it was called that back when I was doing mobile. Most mobile platforms expect this and provide tools to ease migrations, like Room on Android. Since CRDT approaches are still fresh, I imagine most people are rolling their own adhoc migration strategies. Ink &amp; Switch is working on this: <a href="https:&#x2F;&#x2F;www.inkandswitch.com&#x2F;cambria&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.inkandswitch.com&#x2F;cambria&#x2F;</a></div><br/></div></div></div></div><div id="37769025" class="c"><input type="checkbox" id="c-37769025" checked=""/><div class="controls bullet"><span class="by">Karrot_Kream</span><span>|</span><a href="#37766689">parent</a><span>|</span><a href="#37769512">prev</a><span>|</span><a href="#37768473">next</a><span>|</span><label class="collapse" for="c-37769025">[-]</label><label class="expand" for="c-37769025">[2 more]</label></div><br/><div class="children"><div class="content">Is LegendKeeper built on top of the Websocket Yjs provider? If so, do you run the Websocket server yourself? If not, do you use WebRTC and have you had any STUN&#x2F;TURN issues with that?<p>LegendKeeper looks really awesome btw, I might bring this up for my own campaign use. I&#x27;ve been thinking of using Yjs to build some character sheet builders myself which is why I&#x27;m asking.</div><br/><div id="37769608" class="c"><input type="checkbox" id="c-37769608" checked=""/><div class="controls bullet"><span class="by">braden-lk</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37769025">parent</a><span>|</span><a href="#37768473">next</a><span>|</span><label class="collapse" for="c-37769608">[-]</label><label class="expand" for="c-37769608">[1 more]</label></div><br/><div class="children"><div class="content">I built a custom solution based on y-websocket that handles multiplexing and syncing multitudes of Ydocs at once; a single YDoc is not really enough for complex apps. I run the server myself; originally on GKE because I was learning it for work, but then once I went FT on LegendKeeper, k8s became super-overkill minus the learning context. Finally switching to Render after tiring of fighting weird K8s internal DNS issues.</div><br/></div></div></div></div><div id="37768473" class="c"><input type="checkbox" id="c-37768473" checked=""/><div class="controls bullet"><span class="by">janesconference</span><span>|</span><a href="#37766689">parent</a><span>|</span><a href="#37769025">prev</a><span>|</span><a href="#37767636">next</a><span>|</span><label class="collapse" for="c-37768473">[-]</label><label class="expand" for="c-37768473">[2 more]</label></div><br/><div class="children"><div class="content">How does it scale? What happens if you have many users or a bunch of users with huge history on their data? If you haven&#x27;t hit these limitations, what do you plan to do when (if) you hit them?</div><br/><div id="37769705" class="c"><input type="checkbox" id="c-37769705" checked=""/><div class="controls bullet"><span class="by">braden-lk</span><span>|</span><a href="#37766689">root</a><span>|</span><a href="#37768473">parent</a><span>|</span><a href="#37767636">next</a><span>|</span><label class="collapse" for="c-37769705">[-]</label><label class="expand" for="c-37769705">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know how well the original y-websocket provider scales, as it holds ydocs in memory. I imagine lots of folks are using it just fine in production, though. I wrote a less-stateful version of y-websocket that uses the Yjs Differential Updates API to save and serve updates without loading the docs into memory.<p>As long as you have garbage collection turned on for your Ydocs, they stay pretty small, especially if you are avoiding using YMaps. (The strings that serve as YMap keys can&#x27;t be GC&#x27;d, from what I understand. YMaps are great for bounded domain objects, but not so great for storing collections, dictionary-style. Y-KeyValue solves this problem.)<p>I eventually added a X MB document size limit on the backend, but only after doing a statistical analysis on existing documents. I found a size threshold that was a strong indicator of abnormal&#x2F;buggy behavior, and set a limit under that. Without the limit, occasionally I had huge Ydocs, usually created by a bug or weird user behavior, clogging up database resources. Now I block those ydocs on the backend and send a messsage to the user with some mitigation&#x2F;recovery tips. I plan to add automatic document repair, but just haven&#x27;t gotten to it yet. As LK matures and I get better with Yjs, these bugs become much rarer.</div><br/></div></div></div></div></div></div><div id="37767636" class="c"><input type="checkbox" id="c-37767636" checked=""/><div class="controls bullet"><span class="by">matlin</span><span>|</span><a href="#37766689">prev</a><span>|</span><a href="#37775077">next</a><span>|</span><label class="collapse" for="c-37767636">[-]</label><label class="expand" for="c-37767636">[3 more]</label></div><br/><div class="children"><div class="content">Evan Wallace (co-founder of Figma) has one of the best visualizations of CRDTs in action <a href="https:&#x2F;&#x2F;madebyevan.com&#x2F;algos&#x2F;crdt-fractional-indexing&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;madebyevan.com&#x2F;algos&#x2F;crdt-fractional-indexing&#x2F;</a><p>In practice, most apps will only need Last-Writer-Wins registers and not the more complicated sequence CRDT&#x27;s that you find in Y.js and Automerge.<p>We&#x27;ve built a auto-syncing database that uses CRDTs under the hood but never exposes them through the API. So if you want all of the benefits of CRDTs e.g. offline-first user experience, checkout our project, Triplit!</div><br/><div id="37768027" class="c"><input type="checkbox" id="c-37768027" checked=""/><div class="controls bullet"><span class="by">danielvaughn</span><span>|</span><a href="#37767636">parent</a><span>|</span><a href="#37769162">next</a><span>|</span><label class="collapse" for="c-37768027">[-]</label><label class="expand" for="c-37768027">[1 more]</label></div><br/><div class="children"><div class="content">Yep. I figured this out the hard way. Spent a year or so investigating CRDTs before I came across Figma&#x27;s blog post and realized they fit my use case exactly, and I really didn&#x27;t need to bang my head against the desk for so long because the solution actually isn&#x27;t so bad for tree-based editing.</div><br/></div></div><div id="37769162" class="c"><input type="checkbox" id="c-37769162" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#37767636">parent</a><span>|</span><a href="#37768027">prev</a><span>|</span><a href="#37775077">next</a><span>|</span><label class="collapse" for="c-37769162">[-]</label><label class="expand" for="c-37769162">[1 more]</label></div><br/><div class="children"><div class="content">Author here — Evan Wallace&#x27;s visualizations were a big inspiration!</div><br/></div></div></div></div><div id="37775077" class="c"><input type="checkbox" id="c-37775077" checked=""/><div class="controls bullet"><span class="by">jongjong</span><span>|</span><a href="#37767636">prev</a><span>|</span><a href="#37765739">next</a><span>|</span><label class="collapse" for="c-37775077">[-]</label><label class="expand" for="c-37775077">[2 more]</label></div><br/><div class="children"><div class="content">Something important to mention when discussing CRDTs is that they are particularly suited for scenarios where clients may go offline often and where it makes sense to resolve conflicts automatically. Not every kind of data lends itself well to automatic conflict resolution as the merged state may not be desirable when all parts are constructed independently without real-time collaborative feedback.<p>For example, if I have a field which is &quot;color&quot; and one person writes red and the other writes blue, there is no way to automatically resolve that conflict when they both become reconnected. It&#x27;s physically impossible since the intent cannot be established without the ability to read the minds of both participants. You can&#x27;t just merge the letters into the word &quot;reblued&quot; nor can you allow one to completely overwrite the other while letting both participants believe that their change was settled when in fact, only one made it through. Often, it&#x27;s desirable that both participants must be online and better to show one an error message if they&#x27;re not so that they are not mislead into thinking that they&#x27;re actually changing the system state when in fact their change hasn&#x27;t been persisted.<p>I&#x27;ve worked on realtime systems which don&#x27;t rely on CRDTs. This was a suitable approach in my case since accuracy of the data was paramount and each section of the data was well isolated from one another and offline editing was not required.</div><br/><div id="37776006" class="c"><input type="checkbox" id="c-37776006" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#37775077">parent</a><span>|</span><a href="#37765739">next</a><span>|</span><label class="collapse" for="c-37776006">[-]</label><label class="expand" for="c-37776006">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For example, if I have a field which is &quot;color&quot; and one person writes red and the other writes blue, there is no way to automatically resolve that conflict when they both become reconnected. It&#x27;s physically impossible since the intent cannot be established without the ability to read the minds of both participants. You can&#x27;t just merge the letters into the word &quot;reblued&quot; nor can you allow one to completely overwrite the other while letting both participants believe that their change was settled when in fact, only one made it through.<p>This, for me, is the crux of the issue that I can not understand - a general CRDT library simply cannot work, as the changes are in context of what is being edited.<p>IOW, I cannot think of a situation where conflicts can be resolved automatically. I think it might be best for the application (which does have context) to display the conflicted state (like the way git does), marking it as a conflict and requiring manual intervention to resolve.<p>In this example, perhaps the application can display the field? If the field is displayed as text, then display <i>&quot;Conflict: {[joe:~blue~][bob:~red~]}&quot;</i>. If the field is being displayed as a colored element in an image, the conflict must be displayed with (for example) an overlay on the conflicted part as a red-outlined box, with the snippet of both changes to the image displayed on mouse-over, or on click (or similar).<p>It makes no sense, to me, to approach CRDTs as a general mechanism - it&#x27;ll be a CRDT for text, a different mechanism for rasterised images, another one for vector graphics, another for video, for sound, etc.</div><br/></div></div></div></div><div id="37765739" class="c"><input type="checkbox" id="c-37765739" checked=""/><div class="controls bullet"><span class="by">ooterness</span><span>|</span><a href="#37775077">prev</a><span>|</span><a href="#37768749">next</a><span>|</span><label class="collapse" for="c-37765739">[-]</label><label class="expand" for="c-37765739">[3 more]</label></div><br/><div class="children"><div class="content">For reference: CRDT = Conflict-free Replicated Data Type<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Conflict-free_replicated_data_type" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Conflict-free_replicated_data_...</a></div><br/><div id="37770353" class="c"><input type="checkbox" id="c-37770353" checked=""/><div class="controls bullet"><span class="by">uxp8u61q</span><span>|</span><a href="#37765739">parent</a><span>|</span><a href="#37768749">next</a><span>|</span><label class="collapse" for="c-37770353">[-]</label><label class="expand" for="c-37770353">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the first sentence under the heading &quot;What is a CRDT?&quot; in the linked article.</div><br/><div id="37771331" class="c"><input type="checkbox" id="c-37771331" checked=""/><div class="controls bullet"><span class="by">aierou</span><span>|</span><a href="#37765739">root</a><span>|</span><a href="#37770353">parent</a><span>|</span><a href="#37768749">next</a><span>|</span><label class="collapse" for="c-37771331">[-]</label><label class="expand" for="c-37771331">[1 more]</label></div><br/><div class="children"><div class="content">Frankly, it needs to be in the very first sentence of the article. Acronyms Seriously Suck.</div><br/></div></div></div></div></div></div><div id="37768749" class="c"><input type="checkbox" id="c-37768749" checked=""/><div class="controls bullet"><span class="by">splashdown5</span><span>|</span><a href="#37765739">prev</a><span>|</span><a href="#37766185">next</a><span>|</span><label class="collapse" for="c-37768749">[-]</label><label class="expand" for="c-37768749">[2 more]</label></div><br/><div class="children"><div class="content">We used CRDTs to build Pennant notebooks (think Jupyter Notebooks with collaborative Google Docs features <a href="https:&#x2F;&#x2F;pennant-notebook.github.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;pennant-notebook.github.io&#x2F;</a>). Getting Yjs to behave for a multi-editor environment took some doing. I highly recommend building your own interface&#x2F;library for interacting with Yjs and never touching Yjs directly in React itself. The state management and event handler cascade can be incredibly fussy if you don&#x27;t have a good handle on the whole system.<p>We&#x27;ve found most multi-user apps running over websocket experience significant degradation in performance in the high teen and low twenties. Beyond that we were able to update nested CRDTs and all presence&#x2F;user data in one connection with the backend.<p>TipTap has a great backend called HocusPocus with well documented API. Y-websocket backend is already quite good but the support for user tokens isn&#x27;t there natively. We were actually able to be backend provider agnostic for well into the project. It&#x27;s a fun ecosystem.</div><br/><div id="37775783" class="c"><input type="checkbox" id="c-37775783" checked=""/><div class="controls bullet"><span class="by">aboodman</span><span>|</span><a href="#37768749">parent</a><span>|</span><a href="#37766185">next</a><span>|</span><label class="collapse" for="c-37775783">[-]</label><label class="expand" for="c-37775783">[1 more]</label></div><br/><div class="children"><div class="content">High teen and low twenty ... whats? Users on a single document?</div><br/></div></div></div></div><div id="37766185" class="c"><input type="checkbox" id="c-37766185" checked=""/><div class="controls bullet"><span class="by">auggierose</span><span>|</span><a href="#37768749">prev</a><span>|</span><a href="#37770566">next</a><span>|</span><label class="collapse" for="c-37766185">[-]</label><label class="expand" for="c-37766185">[7 more]</label></div><br/><div class="children"><div class="content">I swear, HN somehow tracks what I am doing. The last few days I also looked into CRDTs, Automerge, etc, and here we go. Happens so often, it is uncanny.<p>Here is a good overview article, which has pointers to other articles: 
<a href="https:&#x2F;&#x2F;cacm.acm.org&#x2F;magazines&#x2F;2022&#x2F;11&#x2F;265835-research-for-practice-convergence&#x2F;abstract" rel="nofollow noreferrer">https:&#x2F;&#x2F;cacm.acm.org&#x2F;magazines&#x2F;2022&#x2F;11&#x2F;265835-research-for-p...</a><p>To me it seems that while state-based CRDTs are easy to understand, operation-based CRDTs are actually what is used in practice. Furthermore, it seems to me the difference between operation-based Automerge, and operational transform (OT) is actually not that big.</div><br/><div id="37766232" class="c"><input type="checkbox" id="c-37766232" checked=""/><div class="controls bullet"><span class="by">kortex</span><span>|</span><a href="#37766185">parent</a><span>|</span><a href="#37773700">next</a><span>|</span><label class="collapse" for="c-37766232">[-]</label><label class="expand" for="c-37766232">[3 more]</label></div><br/><div class="children"><div class="content">Have you heard about the Baader-Meinhoff phenomenon before? You will now.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Frequency_illusion" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Frequency_illusion</a></div><br/><div id="37772310" class="c"><input type="checkbox" id="c-37772310" checked=""/><div class="controls bullet"><span class="by">codeulike</span><span>|</span><a href="#37766185">root</a><span>|</span><a href="#37766232">parent</a><span>|</span><a href="#37773065">next</a><span>|</span><label class="collapse" for="c-37772310">[-]</label><label class="expand" for="c-37772310">[1 more]</label></div><br/><div class="children"><div class="content">I just read about that yesterday</div><br/></div></div><div id="37773065" class="c"><input type="checkbox" id="c-37773065" checked=""/><div class="controls bullet"><span class="by">dangoodmanUT</span><span>|</span><a href="#37766185">root</a><span>|</span><a href="#37766232">parent</a><span>|</span><a href="#37772310">prev</a><span>|</span><a href="#37773700">next</a><span>|</span><label class="collapse" for="c-37773065">[-]</label><label class="expand" for="c-37773065">[1 more]</label></div><br/><div class="children"><div class="content">I was literally just reading about this &gt;.&gt;</div><br/></div></div></div></div><div id="37773700" class="c"><input type="checkbox" id="c-37773700" checked=""/><div class="controls bullet"><span class="by">rstuart4133</span><span>|</span><a href="#37766185">parent</a><span>|</span><a href="#37766232">prev</a><span>|</span><a href="#37772089">next</a><span>|</span><label class="collapse" for="c-37773700">[-]</label><label class="expand" for="c-37773700">[1 more]</label></div><br/><div class="children"><div class="content">Open access version: <a href="https:&#x2F;&#x2F;martin.kleppmann.com&#x2F;papers&#x2F;convergence-cacm.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;martin.kleppmann.com&#x2F;papers&#x2F;convergence-cacm.pdf</a></div><br/></div></div><div id="37772089" class="c"><input type="checkbox" id="c-37772089" checked=""/><div class="controls bullet"><span class="by">yawnxyz</span><span>|</span><a href="#37766185">parent</a><span>|</span><a href="#37773700">prev</a><span>|</span><a href="#37766296">next</a><span>|</span><label class="collapse" for="c-37772089">[-]</label><label class="expand" for="c-37772089">[1 more]</label></div><br/><div class="children"><div class="content">I hadn&#x27;t thought or heard about CRDTs for many months until stumbling across Automerge yesterday. And here we are!</div><br/></div></div><div id="37766296" class="c"><input type="checkbox" id="c-37766296" checked=""/><div class="controls bullet"><span class="by">alephnan</span><span>|</span><a href="#37766185">parent</a><span>|</span><a href="#37772089">prev</a><span>|</span><a href="#37770566">next</a><span>|</span><label class="collapse" for="c-37766296">[-]</label><label class="expand" for="c-37766296">[1 more]</label></div><br/><div class="children"><div class="content">It’s also possible that the cycles of tech employment means programmers are exploring similar topics over time.</div><br/></div></div></div></div><div id="37770566" class="c"><input type="checkbox" id="c-37770566" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#37766185">prev</a><span>|</span><a href="#37765373">next</a><span>|</span><label class="collapse" for="c-37770566">[-]</label><label class="expand" for="c-37770566">[1 more]</label></div><br/><div class="children"><div class="content">Martin Kleppmann gave a great talk about text editing CRDTs at Strange Loop last month:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Mr0a5KyD6BU">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Mr0a5KyD6BU</a> | HN Submission: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37770541">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37770541</a></div><br/></div></div><div id="37765373" class="c"><input type="checkbox" id="c-37765373" checked=""/><div class="controls bullet"><span class="by">endisneigh</span><span>|</span><a href="#37770566">prev</a><span>|</span><a href="#37770385">next</a><span>|</span><label class="collapse" for="c-37765373">[-]</label><label class="expand" for="c-37765373">[32 more]</label></div><br/><div class="children"><div class="content">CRDTs seem like one of these things that are mentioned on here frequently, but I haven&#x27;t seen that many popular apps that use them. Any examples?</div><br/><div id="37766076" class="c"><input type="checkbox" id="c-37766076" checked=""/><div class="controls bullet"><span class="by">auggierose</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37767745">next</a><span>|</span><label class="collapse" for="c-37766076">[-]</label><label class="expand" for="c-37766076">[5 more]</label></div><br/><div class="children"><div class="content">Is Figma popular enough?<p><a href="https:&#x2F;&#x2F;www.figma.com&#x2F;blog&#x2F;how-figmas-multiplayer-technology-works&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.figma.com&#x2F;blog&#x2F;how-figmas-multiplayer-technology...</a></div><br/><div id="37766162" class="c"><input type="checkbox" id="c-37766162" checked=""/><div class="controls bullet"><span class="by">danielvaughn</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37766076">parent</a><span>|</span><a href="#37767745">next</a><span>|</span><label class="collapse" for="c-37766162">[-]</label><label class="expand" for="c-37766162">[4 more]</label></div><br/><div class="children"><div class="content">Figma&#x27;s interesting because it&#x27;s not strictly speaking a CRDT. It borrows heavily from some of the CRDT ideas, but it&#x27;s really an editable tree where most changes are atomic and thus use a last-writer-wins approach. That, and re-ordering tree nodes uses fractional indexing.</div><br/><div id="37766225" class="c"><input type="checkbox" id="c-37766225" checked=""/><div class="controls bullet"><span class="by">auggierose</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37766162">parent</a><span>|</span><a href="#37767745">next</a><span>|</span><label class="collapse" for="c-37766225">[-]</label><label class="expand" for="c-37766225">[3 more]</label></div><br/><div class="children"><div class="content">Yes, I think most practical solutions are not strictly CRDTs, not even Automerge, I think.</div><br/><div id="37766834" class="c"><input type="checkbox" id="c-37766834" checked=""/><div class="controls bullet"><span class="by">wim</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37766225">parent</a><span>|</span><a href="#37771153">next</a><span>|</span><label class="collapse" for="c-37766834">[-]</label><label class="expand" for="c-37766834">[1 more]</label></div><br/><div class="children"><div class="content">Right, there are quite some collaborative applications for which a hybrid approach is useful. We&#x27;re building a collaborative editor (<a href="https:&#x2F;&#x2F;thymer.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;thymer.com</a>) for example, where the underlying data structure is also a tree (as the text documents also support outliner-like features, so a flat list of characters&#x2F;lines isn&#x27;t enough). To avoid tree conflicts, insert and move operations look more like OT than CRDT however, where other updates can use a simple CRDT mutation.</div><br/></div></div><div id="37771153" class="c"><input type="checkbox" id="c-37771153" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37766225">parent</a><span>|</span><a href="#37766834">prev</a><span>|</span><a href="#37767745">next</a><span>|</span><label class="collapse" for="c-37771153">[-]</label><label class="expand" for="c-37771153">[1 more]</label></div><br/><div class="children"><div class="content">Automerge is interesting as it&#x27;s an op-based CRDT system vs state-based.. This should make use cases involving a central authority easier to work with but.. Their docs lack any detail useful to taking advantage of this haha.</div><br/></div></div></div></div></div></div></div></div><div id="37767745" class="c"><input type="checkbox" id="c-37767745" checked=""/><div class="controls bullet"><span class="by">unholiness</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37766076">prev</a><span>|</span><a href="#37768880">next</a><span>|</span><label class="collapse" for="c-37767745">[-]</label><label class="expand" for="c-37767745">[1 more]</label></div><br/><div class="children"><div class="content">Once you start adding enough complexity, there will arise cases that the primitives are an awkward place for the merging to happen. There will arise cases where that user expectations and the merge function behavior don&#x27;t agree. There will arise cases where the server can do a better job than the client at applying the change. There will arise cases where you need to undo but the undo function violates the merge function. And as the author freely states, there will arise cases where sending the whole state is prohibitively slow.<p>Those are really only issues with state-based CRDTs. The fundamental concepts behind operation-based CRDTs vs operational transforms vs bespoke hybrid approaches aren&#x27;t really different. It&#x27;s all about determining an unambiguous order, then getting everyone to update their state as if it had been applied in that order. Much less democratic but much more practical.</div><br/></div></div><div id="37768880" class="c"><input type="checkbox" id="c-37768880" checked=""/><div class="controls bullet"><span class="by">bunnybender</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37767745">prev</a><span>|</span><a href="#37767512">next</a><span>|</span><label class="collapse" for="c-37768880">[-]</label><label class="expand" for="c-37768880">[1 more]</label></div><br/><div class="children"><div class="content">I believe Actual Budget, a local-first personal finance app uses them.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;actualbudget&#x2F;actual">https:&#x2F;&#x2F;github.com&#x2F;actualbudget&#x2F;actual</a><p>The original author has both written about and given presentations about CRDTs.</div><br/></div></div><div id="37767512" class="c"><input type="checkbox" id="c-37767512" checked=""/><div class="controls bullet"><span class="by">antidnan</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37768880">prev</a><span>|</span><a href="#37765462">next</a><span>|</span><label class="collapse" for="c-37767512">[-]</label><label class="expand" for="c-37767512">[2 more]</label></div><br/><div class="children"><div class="content">The academic version of them is not used that widely AFAIK outside of newer companies using Yjs.<p>I believe Figma, Notion, Google Docs, etc all use some form of OTs which aren&#x27;t necessarily a perfect CRDT</div><br/><div id="37767694" class="c"><input type="checkbox" id="c-37767694" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37767512">parent</a><span>|</span><a href="#37765462">next</a><span>|</span><label class="collapse" for="c-37767694">[-]</label><label class="expand" for="c-37767694">[1 more]</label></div><br/><div class="children"><div class="content">Notion doesn&#x27;t use OT. Most things are last-write-wins, but we have operations that merge like list re-ordering or permission changes. Today our text is last-write-wins, but we&#x27;re developing a CRDT solution – if that sounds like something you&#x27;d like to work on, shoot me an email jake@makenotion.com or apply <a href="https:&#x2F;&#x2F;boards.greenhouse.io&#x2F;notion&#x2F;jobs&#x2F;5602426003" rel="nofollow noreferrer">https:&#x2F;&#x2F;boards.greenhouse.io&#x2F;notion&#x2F;jobs&#x2F;5602426003</a></div><br/></div></div></div></div><div id="37765462" class="c"><input type="checkbox" id="c-37765462" checked=""/><div class="controls bullet"><span class="by">c_s_guy</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37767512">prev</a><span>|</span><a href="#37766224">next</a><span>|</span><label class="collapse" for="c-37765462">[-]</label><label class="expand" for="c-37765462">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen it come up often in collaborative text editors.<p>Also see: <a href="https:&#x2F;&#x2F;github.com&#x2F;yjs&#x2F;yjs">https:&#x2F;&#x2F;github.com&#x2F;yjs&#x2F;yjs</a></div><br/></div></div><div id="37766224" class="c"><input type="checkbox" id="c-37766224" checked=""/><div class="controls bullet"><span class="by">tin7in</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37765462">prev</a><span>|</span><a href="#37766893">next</a><span>|</span><label class="collapse" for="c-37766224">[-]</label><label class="expand" for="c-37766224">[1 more]</label></div><br/><div class="children"><div class="content">A lot of the popular document&#x2F;notes&#x2F;whiteboard apps would use Yjs or Automerge or even a ready solution like Liveblocks.</div><br/></div></div><div id="37766893" class="c"><input type="checkbox" id="c-37766893" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37766224">prev</a><span>|</span><a href="#37765730">next</a><span>|</span><label class="collapse" for="c-37766893">[-]</label><label class="expand" for="c-37766893">[1 more]</label></div><br/><div class="children"><div class="content">Modyfi.com built a raster image editor on Yjs[1]<p>[1] <a href="https:&#x2F;&#x2F;digest.browsertech.com&#x2F;archive&#x2F;browsertech-digest-how-modyfi-is-building-with&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;digest.browsertech.com&#x2F;archive&#x2F;browsertech-digest-ho...</a></div><br/></div></div><div id="37765730" class="c"><input type="checkbox" id="c-37765730" checked=""/><div class="controls bullet"><span class="by">papercrane</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37766893">prev</a><span>|</span><a href="#37767245">next</a><span>|</span><label class="collapse" for="c-37765730">[-]</label><label class="expand" for="c-37765730">[1 more]</label></div><br/><div class="children"><div class="content">Redis uses them in their enterprise products for active-active distribution.<p><a href="https:&#x2F;&#x2F;redis.com&#x2F;blog&#x2F;diving-into-crdts&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;redis.com&#x2F;blog&#x2F;diving-into-crdts&#x2F;</a></div><br/></div></div><div id="37767245" class="c"><input type="checkbox" id="c-37767245" checked=""/><div class="controls bullet"><span class="by">kitplummer</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37765730">prev</a><span>|</span><a href="#37769538">next</a><span>|</span><label class="collapse" for="c-37767245">[-]</label><label class="expand" for="c-37767245">[1 more]</label></div><br/><div class="children"><div class="content">Ditto (<a href="https:&#x2F;&#x2F;portal.ditto.live" rel="nofollow noreferrer">https:&#x2F;&#x2F;portal.ditto.live</a> and <a href="https:&#x2F;&#x2F;docs.ditto.live" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.ditto.live</a>) uses them.</div><br/></div></div><div id="37769538" class="c"><input type="checkbox" id="c-37769538" checked=""/><div class="controls bullet"><span class="by">euroderf</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37767245">prev</a><span>|</span><a href="#37765754">next</a><span>|</span><label class="collapse" for="c-37769538">[-]</label><label class="expand" for="c-37769538">[2 more]</label></div><br/><div class="children"><div class="content">pijul version control is not yet popular but might become so.<p><a href="https:&#x2F;&#x2F;pijul.org&#x2F;manual&#x2F;theory.html?highlight=CRDT#conflicts-and-crdts" rel="nofollow noreferrer">https:&#x2F;&#x2F;pijul.org&#x2F;manual&#x2F;theory.html?highlight=CRDT#conflict...</a></div><br/><div id="37770609" class="c"><input type="checkbox" id="c-37770609" checked=""/><div class="controls bullet"><span class="by">kiitos</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37769538">parent</a><span>|</span><a href="#37765754">next</a><span>|</span><label class="collapse" for="c-37770609">[-]</label><label class="expand" for="c-37770609">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In Pijul, there are two kinds of conflicts inside a file:<p>&gt; When two different authors add lines at the same position 
in a file, and it is impossible to tell which comes first in the file.<p>&gt; When one author adds a line in a block of text or code, while another author deletes that block.<p>I don&#x27;t think this is true. Two different authors can modify the same line in different ways, which is a conflict that&#x27;s different than either of these categories.<p>&gt; It is important to note that conflicts in Pijul always happen between changes, for example we might say that “change A conflicts with change B”.<p>I also don&#x27;t think this is true. Conflicts can occur in a history (lineage, sequence, etc.) of concurrent changes, which are different than the delta between any two independent changes.</div><br/></div></div></div></div><div id="37765754" class="c"><input type="checkbox" id="c-37765754" checked=""/><div class="controls bullet"><span class="by">brigadier132</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37769538">prev</a><span>|</span><a href="#37765951">next</a><span>|</span><label class="collapse" for="c-37765754">[-]</label><label class="expand" for="c-37765754">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;ve only recently become practical.</div><br/></div></div><div id="37765951" class="c"><input type="checkbox" id="c-37765951" checked=""/><div class="controls bullet"><span class="by">jamil7</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37765754">prev</a><span>|</span><a href="#37765528">next</a><span>|</span><label class="collapse" for="c-37765951">[-]</label><label class="expand" for="c-37765951">[2 more]</label></div><br/><div class="children"><div class="content">Apple Notes.</div><br/><div id="37765982" class="c"><input type="checkbox" id="c-37765982" checked=""/><div class="controls bullet"><span class="by">endisneigh</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37765951">parent</a><span>|</span><a href="#37765528">next</a><span>|</span><label class="collapse" for="c-37765982">[-]</label><label class="expand" for="c-37765982">[1 more]</label></div><br/><div class="children"><div class="content">ah, very cool. TIL.</div><br/></div></div></div></div><div id="37765528" class="c"><input type="checkbox" id="c-37765528" checked=""/><div class="controls bullet"><span class="by">cdmckay</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37765951">prev</a><span>|</span><a href="#37766132">next</a><span>|</span><label class="collapse" for="c-37765528">[-]</label><label class="expand" for="c-37765528">[9 more]</label></div><br/><div class="children"><div class="content">I believe Notion uses them.</div><br/><div id="37767739" class="c"><input type="checkbox" id="c-37767739" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37765528">parent</a><span>|</span><a href="#37765566">next</a><span>|</span><label class="collapse" for="c-37767739">[-]</label><label class="expand" for="c-37767739">[4 more]</label></div><br/><div class="children"><div class="content">Notion doesn&#x27;t use OT or CRDT in production. Most things are last-write-wins, but we have operations that merge like list re-ordering or permission changes. Today our text is last-write-wins, but we&#x27;re developing a CRDT solution – if that sounds like something you&#x27;d like to work on, shoot me an email jake@makenotion.com or apply <a href="https:&#x2F;&#x2F;boards.greenhouse.io&#x2F;notion&#x2F;jobs&#x2F;5602426003" rel="nofollow noreferrer">https:&#x2F;&#x2F;boards.greenhouse.io&#x2F;notion&#x2F;jobs&#x2F;5602426003</a></div><br/><div id="37773225" class="c"><input type="checkbox" id="c-37773225" checked=""/><div class="controls bullet"><span class="by">tcoff91</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37767739">parent</a><span>|</span><a href="#37765566">next</a><span>|</span><label class="collapse" for="c-37773225">[-]</label><label class="expand" for="c-37773225">[3 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t last-write-wins technically a CRDT? It&#x27;s just not a very good one. For many use-cases though a per-column last-writer-wins CRDT is perfectly adequate.<p>- Edits can be made on any node at any time independently and without coordinating with other nodes.<p>- All nodes eventually converge to the same state.</div><br/><div id="37773391" class="c"><input type="checkbox" id="c-37773391" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37773225">parent</a><span>|</span><a href="#37765566">next</a><span>|</span><label class="collapse" for="c-37773391">[-]</label><label class="expand" for="c-37773391">[2 more]</label></div><br/><div class="children"><div class="content">A CRDT can have last-write-wins semantics (as in the article above), but LWW doesn’t fully describe a CRDT because it doesn’t specify a way to determine which write is actually “last”. CRDTs don’t assume that there is a fully-ordered stream of updates, so there is no “last update” per se.</div><br/><div id="37773685" class="c"><input type="checkbox" id="c-37773685" checked=""/><div class="controls bullet"><span class="by">tcoff91</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37773391">parent</a><span>|</span><a href="#37765566">next</a><span>|</span><label class="collapse" for="c-37773685">[-]</label><label class="expand" for="c-37773685">[1 more]</label></div><br/><div class="children"><div class="content">Yeah so something like a last write wins + hybrid logical clocks for ordering is a crdt then.</div><br/></div></div></div></div></div></div></div></div><div id="37765566" class="c"><input type="checkbox" id="c-37765566" checked=""/><div class="controls bullet"><span class="by">endisneigh</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37765528">parent</a><span>|</span><a href="#37767739">prev</a><span>|</span><a href="#37766086">next</a><span>|</span><label class="collapse" for="c-37765566">[-]</label><label class="expand" for="c-37765566">[3 more]</label></div><br/><div class="children"><div class="content">really? you have a link to a blog post or something? last I heard they explicitly did not use them.</div><br/><div id="37765999" class="c"><input type="checkbox" id="c-37765999" checked=""/><div class="controls bullet"><span class="by">ko_pivot</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37765566">parent</a><span>|</span><a href="#37766086">next</a><span>|</span><label class="collapse" for="c-37765999">[-]</label><label class="expand" for="c-37765999">[2 more]</label></div><br/><div class="children"><div class="content">In production, they don’t. This is evident when two users try to edit the same block at the same time — its last writer wins right now, not merging. They have hired some engineers to work on a CRDT text editor implementation though.</div><br/><div id="37766213" class="c"><input type="checkbox" id="c-37766213" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37765999">parent</a><span>|</span><a href="#37766086">next</a><span>|</span><label class="collapse" for="c-37766213">[-]</label><label class="expand" for="c-37766213">[1 more]</label></div><br/><div class="children"><div class="content">No idea whether Notion uses CRDTs, but last writer wins is a (naive) strategy for editing text. You can see this in the article — if you edit the LWW Map, for example, even though the <i>keys</i> are merged, each <i>value</i> will be taken from one peer or the other. Once you get to that last “primitive” CRDT — the register holding each map value — updates are atomic. So Notion may be using CRDTs for e.g. the order of blocks in a page, but not (yet?) using them to merge text.</div><br/></div></div></div></div></div></div><div id="37766086" class="c"><input type="checkbox" id="c-37766086" checked=""/><div class="controls bullet"><span class="by">auggierose</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37765528">parent</a><span>|</span><a href="#37765566">prev</a><span>|</span><a href="#37766132">next</a><span>|</span><label class="collapse" for="c-37766086">[-]</label><label class="expand" for="c-37766086">[1 more]</label></div><br/><div class="children"><div class="content">No, Notion uses OT (operational transform).</div><br/></div></div></div></div><div id="37766132" class="c"><input type="checkbox" id="c-37766132" checked=""/><div class="controls bullet"><span class="by">flatline</span><span>|</span><a href="#37765373">parent</a><span>|</span><a href="#37765528">prev</a><span>|</span><a href="#37770385">next</a><span>|</span><label class="collapse" for="c-37766132">[-]</label><label class="expand" for="c-37766132">[3 more]</label></div><br/><div class="children"><div class="content">Google docs, really any online collaborative editor uses them. If you have a distributed system with multiple asynchronous data feeds into the same sink, this is one way of automatically resolving conflicts. A complicated way that most applications probably don’t really need, and that does not guarantee consistency. But they are neat.</div><br/><div id="37766589" class="c"><input type="checkbox" id="c-37766589" checked=""/><div class="controls bullet"><span class="by">papercrane</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37766132">parent</a><span>|</span><a href="#37766249">next</a><span>|</span><label class="collapse" for="c-37766589">[-]</label><label class="expand" for="c-37766589">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure Google Docs use Operational transformation (OT). Google Docs pre-dates the paper that defined CRDTs. It&#x27;s certainly possible they&#x27;ve updated their algorithms since then though.</div><br/></div></div><div id="37766249" class="c"><input type="checkbox" id="c-37766249" checked=""/><div class="controls bullet"><span class="by">rubatuga</span><span>|</span><a href="#37765373">root</a><span>|</span><a href="#37766132">parent</a><span>|</span><a href="#37766589">prev</a><span>|</span><a href="#37770385">next</a><span>|</span><label class="collapse" for="c-37766249">[-]</label><label class="expand" for="c-37766249">[1 more]</label></div><br/><div class="children"><div class="content">Source? Heard Google Docs stopped using CRDT.</div><br/></div></div></div></div></div></div><div id="37770385" class="c"><input type="checkbox" id="c-37770385" checked=""/><div class="controls bullet"><span class="by">thoughtlede</span><span>|</span><a href="#37765373">prev</a><span>|</span><a href="#37765249">next</a><span>|</span><label class="collapse" for="c-37770385">[-]</label><label class="expand" for="c-37770385">[5 more]</label></div><br/><div class="children"><div class="content">I have studied CRDTs at a deeper level for a few weeks and implemented several small prototypes. They are fascinating. As an eventual consistency model for data management, CRDT inspired techniques (op-based or state-based) are useful.<p>However, for building user-facing applications with CRDTs, their importance is unclear.<p>The question with CRDTs and local-first paradigms has always been the pressing need (or the lack thereof). The only one plausible &#x27;need&#x27; that CRDTs serve is real-time collaboration and that too with a squinting eye.<p>Real-time collaboration support translates, in practice, to text-editing and picture-editing collaboration. Google docs and the ilk have solved that problem (using central solutions). A CRDT-inspired central-solution like Figma is inspiring, and maybe that&#x27;s the only place CRDTs fit in their survival quest when combating against central-solutions.<p>The rest of the claimed advantages seem to not withstand the test of times. This articles talks about 7 features of CRDTs [1].<p>Fast: Things are already fast with central solutions.<p>Multi-device: There is multi-device support with almost all solutions (if you decouple the real-time collaboration aspect).<p>Offline: It&#x27;s rare, at least in first world countries, to be in a need for offline access (except maybe in airplanes).<p>Longevity: As can be seen from another comment here, longevity is actually a problem with CRDTs because data model updates are not easy.<p>Privacy: With BYOK encryption pattern, privacy is not as much an issue.<p>User control: Even with CRDTs, user is not in control of their data - other peers can mess with your data.<p>[1] <a href="https:&#x2F;&#x2F;www.inkandswitch.com&#x2F;local-first&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.inkandswitch.com&#x2F;local-first&#x2F;</a></div><br/><div id="37773975" class="c"><input type="checkbox" id="c-37773975" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#37770385">parent</a><span>|</span><a href="#37770943">next</a><span>|</span><label class="collapse" for="c-37773975">[-]</label><label class="expand" for="c-37773975">[3 more]</label></div><br/><div class="children"><div class="content">Author here! I think if you&#x27;re just concerned with efficiency (speed&#x2F;low overhead&#x2F;etc) centralized solutions will always beat decentralized ones. The key advantage you can get with CRDTs — and, more generally, decentralized applications — is <i>stability</i>. By which I mean: Figma and Google Docs are great, but they can go out of business or delete your account or up their prices, and everything you&#x27;ve poured your time and energy into making just vanishes.<p>It&#x27;s not just this way for collaboration software. Servers make <i>everything</i> more brittle. A few years ago, I tried to restore every website I&#x27;ve ever made. Static files were easy, things that relied on old versions of server-side languages were harder and anything stored on a server or in a database was just gone. That sucks. I want us to be able to keep our memories forever, not lose them because we stopped paying a hosting bill.</div><br/><div id="37774408" class="c"><input type="checkbox" id="c-37774408" checked=""/><div class="controls bullet"><span class="by">thoughtlede</span><span>|</span><a href="#37770385">root</a><span>|</span><a href="#37773975">parent</a><span>|</span><a href="#37770943">next</a><span>|</span><label class="collapse" for="c-37774408">[-]</label><label class="expand" for="c-37774408">[2 more]</label></div><br/><div class="children"><div class="content">Evolution of technology makes things unstable, not specifically servers. A decentralized application is not more stable than a centralized one. It depends on what&#x27;s prioritized about the product. For example, you can still use SMTP servers developed several decades ago to send email to others.<p>Also, it is hard to buy the argument that docs based on Google Docs will live less longer than docs served by some CRDT-based collaborative application. It is easy to argue the opposite. My Google doc history shows docs I have even forgotten ever existed, and Google docs play nice with Microsoft Word - making it interoperable with the largest ecosystem around structured documents. Again, this is about product features and prioritization, not underlying building blocks.<p>CRDTs hold a very special place in my heart. But I also believe they don&#x27;t offer a differentiated solution - on the user facing side.</div><br/><div id="37775218" class="c"><input type="checkbox" id="c-37775218" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#37770385">root</a><span>|</span><a href="#37774408">parent</a><span>|</span><a href="#37770943">next</a><span>|</span><label class="collapse" for="c-37775218">[-]</label><label class="expand" for="c-37775218">[1 more]</label></div><br/><div class="children"><div class="content">Decentralized applications aren’t <i>inherently</i> more stable than applications that rely on central servers. But the ceiling is higher. Infrastructure is coupling, and coupling makes things brittle.<p>Yes, if <i>everything</i> goes right, a centralized service will probably do a better job of keeping your files around than you will. But I have way more stories where something went wrong and I lost them.</div><br/></div></div></div></div></div></div><div id="37770943" class="c"><input type="checkbox" id="c-37770943" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#37770385">parent</a><span>|</span><a href="#37773975">prev</a><span>|</span><a href="#37765249">next</a><span>|</span><label class="collapse" for="c-37770943">[-]</label><label class="expand" for="c-37770943">[1 more]</label></div><br/><div class="children"><div class="content">I agree. We had similar conclusions around the implementation of PowerSync (sync engine enabling offline-first applications). Instead of CRDTs we went with the architecture of a central server authority and a form of server reconciliation [1] for consistency.<p>[1] <a href="https:&#x2F;&#x2F;www.gabrielgambetta.com&#x2F;client-side-prediction-server-reconciliation.html#server-reconciliation" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.gabrielgambetta.com&#x2F;client-side-prediction-serve...</a></div><br/></div></div></div></div><div id="37765249" class="c"><input type="checkbox" id="c-37765249" checked=""/><div class="controls bullet"><span class="by">danielvaughn</span><span>|</span><a href="#37770385">prev</a><span>|</span><a href="#37773684">next</a><span>|</span><label class="collapse" for="c-37765249">[-]</label><label class="expand" for="c-37765249">[1 more]</label></div><br/><div class="children"><div class="content">This is absolutely lovely, well done. I&#x27;ve worked with CRDT&#x27;s a couple times and it&#x27;s always mind-bending trying to understand the data flow; these interactive demos make it so much clearer.</div><br/></div></div><div id="37773684" class="c"><input type="checkbox" id="c-37773684" checked=""/><div class="controls bullet"><span class="by">dangoodmanUT</span><span>|</span><a href="#37765249">prev</a><span>|</span><a href="#37772100">next</a><span>|</span><label class="collapse" for="c-37773684">[-]</label><label class="expand" for="c-37773684">[1 more]</label></div><br/><div class="children"><div class="content">Wow the first CRDT post I actually was engaged with! Kept me interested through the end, and very well written!... is this the fly.io font?</div><br/></div></div><div id="37772100" class="c"><input type="checkbox" id="c-37772100" checked=""/><div class="controls bullet"><span class="by">raybb</span><span>|</span><a href="#37773684">prev</a><span>|</span><a href="#37772948">next</a><span>|</span><label class="collapse" for="c-37772100">[-]</label><label class="expand" for="c-37772100">[2 more]</label></div><br/><div class="children"><div class="content">Seems like your blog isn&#x27;t working on Mastodon right now?<p><a href="https:&#x2F;&#x2F;mstdn.social&#x2F;@blog@jakelazaroff.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;mstdn.social&#x2F;@blog@jakelazaroff.com</a></div><br/><div id="37772814" class="c"><input type="checkbox" id="c-37772814" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#37772100">parent</a><span>|</span><a href="#37772948">next</a><span>|</span><label class="collapse" for="c-37772814">[-]</label><label class="expand" for="c-37772814">[1 more]</label></div><br/><div class="children"><div class="content">Hm odd, it works on mastodon.social — <a href="https:&#x2F;&#x2F;mastodon.social&#x2F;@blog@jakelazaroff.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;mastodon.social&#x2F;@blog@jakelazaroff.com</a><p>Will look into it, thanks!</div><br/></div></div></div></div><div id="37772948" class="c"><input type="checkbox" id="c-37772948" checked=""/><div class="controls bullet"><span class="by">tgsovlerkhgsel</span><span>|</span><a href="#37772100">prev</a><span>|</span><a href="#37766233">next</a><span>|</span><label class="collapse" for="c-37772948">[-]</label><label class="expand" for="c-37772948">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Conflict-free Replicated Data Type&quot;, if you don&#x27;t want to have to read through an entire page of text before knowing what the article is about.</div><br/></div></div><div id="37766233" class="c"><input type="checkbox" id="c-37766233" checked=""/><div class="controls bullet"><span class="by">angelmm</span><span>|</span><a href="#37772948">prev</a><span>|</span><a href="#37768330">next</a><span>|</span><label class="collapse" for="c-37766233">[-]</label><label class="expand" for="c-37766233">[1 more]</label></div><br/><div class="children"><div class="content">I love interactive introductions to complex topics. They are the best way to learn and consolidate their concepts. Great resource!</div><br/></div></div><div id="37768330" class="c"><input type="checkbox" id="c-37768330" checked=""/><div class="controls bullet"><span class="by">bafe</span><span>|</span><a href="#37766233">prev</a><span>|</span><a href="#37765357">next</a><span>|</span><label class="collapse" for="c-37768330">[-]</label><label class="expand" for="c-37768330">[1 more]</label></div><br/><div class="children"><div class="content">Thank you, very cool work. A small note: the first example doesn&#x27;t work on mobile devices. If I drag, it will just scroll the page instead of drawing</div><br/></div></div><div id="37775171" class="c"><input type="checkbox" id="c-37775171" checked=""/><div class="controls bullet"><span class="by">wikiwong</span><span>|</span><a href="#37765357">prev</a><span>|</span><a href="#37769581">next</a><span>|</span><label class="collapse" for="c-37775171">[-]</label><label class="expand" for="c-37775171">[1 more]</label></div><br/><div class="children"><div class="content">great article, thanks for sharing!</div><br/></div></div><div id="37769581" class="c"><input type="checkbox" id="c-37769581" checked=""/><div class="controls bullet"><span class="by">rahimnathwani</span><span>|</span><a href="#37775171">prev</a><span>|</span><a href="#37766235">next</a><span>|</span><label class="collapse" for="c-37769581">[-]</label><label class="expand" for="c-37769581">[1 more]</label></div><br/><div class="children"><div class="content">I love that, on a phone with multi-touch, you can draw on both canvases at the same time.</div><br/></div></div><div id="37766235" class="c"><input type="checkbox" id="c-37766235" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#37769581">prev</a><span>|</span><a href="#37773527">next</a><span>|</span><label class="collapse" for="c-37766235">[-]</label><label class="expand" for="c-37766235">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, Jake. That&#x27;s nicely done.</div><br/></div></div><div id="37773527" class="c"><input type="checkbox" id="c-37773527" checked=""/><div class="controls bullet"><span class="by">nwroot</span><span>|</span><a href="#37766235">prev</a><span>|</span><a href="#37768809">next</a><span>|</span><label class="collapse" for="c-37773527">[-]</label><label class="expand" for="c-37773527">[1 more]</label></div><br/><div class="children"><div class="content">Colors are horrible on this page</div><br/></div></div><div id="37768809" class="c"><input type="checkbox" id="c-37768809" checked=""/><div class="controls bullet"><span class="by">zubairq</span><span>|</span><a href="#37773527">prev</a><span>|</span><a href="#37765759">next</a><span>|</span><label class="collapse" for="c-37768809">[-]</label><label class="expand" for="c-37768809">[1 more]</label></div><br/><div class="children"><div class="content">One of the best CRDT tutorials I have tried, well done!</div><br/></div></div><div id="37765759" class="c"><input type="checkbox" id="c-37765759" checked=""/><div class="controls bullet"><span class="by">totetsu</span><span>|</span><a href="#37768809">prev</a><span>|</span><a href="#37769907">next</a><span>|</span><label class="collapse" for="c-37765759">[-]</label><label class="expand" for="c-37765759">[4 more]</label></div><br/><div class="children"><div class="content">What’s the font on the code snipits? Asking for a friend.</div><br/><div id="37765799" class="c"><input type="checkbox" id="c-37765799" checked=""/><div class="controls bullet"><span class="by">lelandfe</span><span>|</span><a href="#37765759">parent</a><span>|</span><a href="#37771080">next</a><span>|</span><label class="collapse" for="c-37765799">[-]</label><label class="expand" for="c-37765799">[2 more]</label></div><br/><div class="children"><div class="content">Cartograph CF: <a href="https:&#x2F;&#x2F;connary.com&#x2F;cartograph.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;connary.com&#x2F;cartograph.html</a></div><br/></div></div><div id="37771080" class="c"><input type="checkbox" id="c-37771080" checked=""/><div class="controls bullet"><span class="by">denvaar</span><span>|</span><a href="#37765759">parent</a><span>|</span><a href="#37765799">prev</a><span>|</span><a href="#37769907">next</a><span>|</span><label class="collapse" for="c-37771080">[-]</label><label class="expand" for="c-37771080">[1 more]</label></div><br/><div class="children"><div class="content">I know, right? I just bought it.</div><br/></div></div></div></div><div id="37769907" class="c"><input type="checkbox" id="c-37769907" checked=""/><div class="controls bullet"><span class="by">jimmySixDOF</span><span>|</span><a href="#37765759">prev</a><span>|</span><a href="#37771967">next</a><span>|</span><label class="collapse" for="c-37769907">[-]</label><label class="expand" for="c-37769907">[1 more]</label></div><br/><div class="children"><div class="content">Big shout out to tldraw and whatever they do under the hood to keep it as lightweight and open to integrations - it just handles a tonne of content in group sessions without complaining somehow it&#x27;s like the perfect mix of simplicity and power features.</div><br/></div></div><div id="37766447" class="c"><input type="checkbox" id="c-37766447" checked=""/><div class="controls bullet"><span class="by">kruhft</span><span>|</span><a href="#37771967">prev</a><span>|</span><a href="#37765864">next</a><span>|</span><label class="collapse" for="c-37766447">[-]</label><label class="expand" for="c-37766447">[1 more]</label></div><br/><div class="children"><div class="content">Relevant: <a href="http:&#x2F;&#x2F;burton.samograd.ca&#x2F;Blog&#x2F;the-eth-papers--2022&#x2F;eth0004--CRDTS--2018.pdf" rel="nofollow noreferrer">http:&#x2F;&#x2F;burton.samograd.ca&#x2F;Blog&#x2F;the-eth-papers--2022&#x2F;eth0004-...</a><p>My take years ago on a simple ERC-20 token (source) for a &quot;SpaceX&quot; (sic, should have been SpaceBit) token.<p>Pretty obvious name though.</div><br/></div></div></div></div></div></div></div></body></html>