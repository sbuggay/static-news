<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687856459805" as="style"/><link rel="stylesheet" href="styles.css?v=1687856459805"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.dialup.net/wingpt/tls.html">Modern TLS/SSL on 16-bit Windows</a> <span class="domain">(<a href="https://www.dialup.net">www.dialup.net</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>10 comments</span></div><br/><div><div id="36488162" class="c"><input type="checkbox" id="c-36488162" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#36490224">next</a><span>|</span><label class="collapse" for="c-36488162">[-]</label><label class="expand" for="c-36488162">[2 more]</label></div><br/><div class="children"><div class="content">This is actually &quot;only a side-project&quot; of this interesting recent item: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36472854">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36472854</a><p>Being very familiar with Asm and how small programs can be, and moderately familiar with TLS and some crypto, I&#x27;m reasonably confident that 64k of code and 64k of data is sufficient for a client TLS 1.2+1.3 implementation with enough ciphersuites to access 99% of all websites. Each connection will need at least a 16k input record buffer along with the cipher states for both directions, although you don&#x27;t need to always send full-sized records so the output buffer can be smaller. I haven&#x27;t looked into the specs in detail to see if a smaller input buffer would be possible even for 16k records, if you&#x27;re willing to sacrifice some security in the form of delayed record integrity checking (i.e you can stream the data of a record through even without having read the whole thing, but if the record has been modified in transit, you&#x27;ll only get the error once you&#x27;ve already consumed enough corrupted data to reach the end of the record and thus finish the authenticity comparison.)</div><br/><div id="36488520" class="c"><input type="checkbox" id="c-36488520" checked=""/><div class="controls bullet"><span class="by">wahern</span><span>|</span><a href="#36488162">parent</a><span>|</span><a href="#36490224">next</a><span>|</span><label class="collapse" for="c-36488520">[-]</label><label class="expand" for="c-36488520">[1 more]</label></div><br/><div class="children"><div class="content">EdDSA as used in TLS 1.3 imposes a requirement that possibly could be problematic for approaches which try to avoid large buffers:<p>&gt; A bigger issue with the use of Ed25519 or Ed448 in X.509 certificates is that these signature algorithms use an extra protection against collision attacks on hash functions: the initial hashing is done not on the signed data alone, but on the concatenation of the encoding of the public key and the signed data. This is called “PureEdDSA” in RFC 8032 terminology, and it makes the signature function more resilient against collision attacks, if the hash function turns out to be flaky in that respect (like MD5 or SHA-1). However, it means that the public key must be known before starting to process the signed data. In an X.509 certificate path provided on a stream in usual SSL&#x2F;TLS order (end-entity first, then CA), the public key is made available only after the whole signed certificate has been received. Verifying a certificate path that involves use of EdDSA keys by CA thus requires buffering a complete certificate in RAM, something which has so far been carefully avoided by BearSSL.<p><a href="https:&#x2F;&#x2F;bearssl.org&#x2F;tls13.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;bearssl.org&#x2F;tls13.html</a><p>Note that the end-entity certificate for google.com (albeit not using EdDSA) is nearly 4K, largely because the huge list of Subject Alternative Names, and I imagine certificates could easily be larger in many other cases. You need to buffer the entirety of each certificate in the chain plus the initial part of the issuer&#x27;s certificate, up to the subject public key (that is, the public key of the issuer of the previous certificate).<p>This assumes a certificate chain is received in the optimal order. I think TLS 1.3 actually dispenses with the requirement that a chain be delivered in any specific order, in which case in the worst case you may be stuck having to buffer almost the entire chain.</div><br/></div></div></div></div><div id="36490224" class="c"><input type="checkbox" id="c-36490224" checked=""/><div class="controls bullet"><span class="by">accrual</span><span>|</span><a href="#36488162">prev</a><span>|</span><a href="#36487482">next</a><span>|</span><label class="collapse" for="c-36490224">[-]</label><label class="expand" for="c-36490224">[1 more]</label></div><br/><div class="children"><div class="content">As a retro PC enthusiast I greatly appreciate this work! I noticed the y author also created the 16-bit native Wordle port, Windle, which lives in my retro software archive.<p>Lately I mess around on a Pentium III class machine which is more than enough for a somewhat recent version of Firefox to run, and many sites continue to load and work well enough. But I&#x27;d like to dive into older hardware next, like the 486 DX2 the author is using. Then perhaps I can test this library first hand on real silicon.</div><br/></div></div><div id="36487482" class="c"><input type="checkbox" id="c-36487482" checked=""/><div class="controls bullet"><span class="by">tyingq</span><span>|</span><a href="#36490224">prev</a><span>|</span><a href="#36488257">next</a><span>|</span><label class="collapse" for="c-36487482">[-]</label><label class="expand" for="c-36487482">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s pretty impressive.  Might be nice to bundle it with a proxy using the same library that runs locally.  I think people on the retro machines wouldn&#x27;t mind having to use a proxy if it was running on the same machine.</div><br/><div id="36488649" class="c"><input type="checkbox" id="c-36488649" checked=""/><div class="controls bullet"><span class="by">classichasclass</span><span>|</span><a href="#36487482">parent</a><span>|</span><a href="#36488257">next</a><span>|</span><label class="collapse" for="c-36488649">[-]</label><label class="expand" for="c-36488649">[1 more]</label></div><br/><div class="children"><div class="content">Shameless plug: that&#x27;s pretty much proxy mode in Crypto Ancienne carl. <a href="https:&#x2F;&#x2F;github.com&#x2F;classilla&#x2F;cryanc">https:&#x2F;&#x2F;github.com&#x2F;classilla&#x2F;cryanc</a></div><br/></div></div></div></div><div id="36488257" class="c"><input type="checkbox" id="c-36488257" checked=""/><div class="controls bullet"><span class="by">aeyes</span><span>|</span><a href="#36487482">prev</a><span>|</span><a href="#36487399">next</a><span>|</span><label class="collapse" for="c-36488257">[-]</label><label class="expand" for="c-36488257">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if it is possible to make <a href="https:&#x2F;&#x2F;github.com&#x2F;wqweto&#x2F;VbAsyncSocket">https:&#x2F;&#x2F;github.com&#x2F;wqweto&#x2F;VbAsyncSocket</a> compile on Visual Basic 4, then you could target 16 bit. There is already a VB5 branch.</div><br/></div></div><div id="36487399" class="c"><input type="checkbox" id="c-36487399" checked=""/><div class="controls bullet"><span class="by">lockhouse</span><span>|</span><a href="#36488257">prev</a><span>|</span><a href="#36488944">next</a><span>|</span><label class="collapse" for="c-36487399">[-]</label><label class="expand" for="c-36487399">[1 more]</label></div><br/><div class="children"><div class="content">Amazing work!  This is one of the most difficult things about using older OSes on the internet.</div><br/></div></div><div id="36488944" class="c"><input type="checkbox" id="c-36488944" checked=""/><div class="controls bullet"><span class="by">efitz</span><span>|</span><a href="#36487399">prev</a><span>|</span><a href="#36489287">next</a><span>|</span><label class="collapse" for="c-36488944">[-]</label><label class="expand" for="c-36488944">[1 more]</label></div><br/><div class="children"><div class="content">You buried the most interesting part until the end - “WinGPT”!<p>You built a WFW3.11 AI assistant!  You have taken Bob into the 21st century!</div><br/></div></div><div id="36489287" class="c"><input type="checkbox" id="c-36489287" checked=""/><div class="controls bullet"><span class="by">orionblastar</span><span>|</span><a href="#36488944">prev</a><span>|</span><label class="collapse" for="c-36489287">[-]</label><label class="expand" for="c-36489287">[1 more]</label></div><br/><div class="children"><div class="content">Many people stuck with MS-DOS and Windows 3.1 because they booted and ran faster than the modern Windows. Plus they rely on software that is 16 bit and cannot be converted and cannot run on 64 Bit Windows.<p>JRR Martin is one that still uses MS-DOS with WordStar because they are stable and saves his files on a LAN Manager share. He cannot tolerate a blue screen of death or Windows Update reboot fouling up his work. I think he may be better off using Headless Linux and eMacs with the WordStar key bindings emulation <a href="https:&#x2F;&#x2F;ftp.gnu.org&#x2F;old-gnu&#x2F;Manuals&#x2F;emacs&#x2F;html_node&#x2F;emacs_467.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;ftp.gnu.org&#x2F;old-gnu&#x2F;Manuals&#x2F;emacs&#x2F;html_node&#x2F;emacs_46...</a></div><br/></div></div></div></div></div></div></div></body></html>