<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1696669263483" as="style"/><link rel="stylesheet" href="styles.css?v=1696669263483"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://amitp.blogspot.com/2023/10/emacs-and-shellcheck.html">Emacs and shellcheck</a> <span class="domain">(<a href="https://amitp.blogspot.com">amitp.blogspot.com</a>)</span></div><div class="subtext"><span>ibobev</span> | <span>17 comments</span></div><br/><div><div id="37799227" class="c"><input type="checkbox" id="c-37799227" checked=""/><div class="controls bullet"><span class="by">js2</span><span>|</span><a href="#37798197">next</a><span>|</span><label class="collapse" for="c-37799227">[-]</label><label class="expand" for="c-37799227">[1 more]</label></div><br/><div class="children"><div class="content">Add shellcheck and shfmt to your pre-commit hooks. The easiest way to do so is with the shellcheck-py and shfmt-py wrappers:<p><a href="https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;shellcheck-py&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;shellcheck-py&#x2F;</a><p><a href="https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;shfmt-py&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;shfmt-py&#x2F;</a></div><br/></div></div><div id="37798197" class="c"><input type="checkbox" id="c-37798197" checked=""/><div class="controls bullet"><span class="by">rascul</span><span>|</span><a href="#37799227">prev</a><span>|</span><a href="#37798009">next</a><span>|</span><label class="collapse" for="c-37798197">[-]</label><label class="expand" for="c-37798197">[2 more]</label></div><br/><div class="children"><div class="content">There also exists a bash language server. The README.md has instructions for emacs and some others.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;bash-lsp&#x2F;bash-language-server&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;bash-lsp&#x2F;bash-language-server&#x2F;</a></div><br/><div id="37798436" class="c"><input type="checkbox" id="c-37798436" checked=""/><div class="controls bullet"><span class="by">bitbang</span><span>|</span><a href="#37798197">parent</a><span>|</span><a href="#37798009">next</a><span>|</span><label class="collapse" for="c-37798436">[-]</label><label class="expand" for="c-37798436">[1 more]</label></div><br/><div class="children"><div class="content">That language server automatically integrates shellcheck into its linter if shellcheck is present.</div><br/></div></div></div></div><div id="37798009" class="c"><input type="checkbox" id="c-37798009" checked=""/><div class="controls bullet"><span class="by">User23</span><span>|</span><a href="#37798197">prev</a><span>|</span><a href="#37797878">next</a><span>|</span><label class="collapse" for="c-37798009">[-]</label><label class="expand" for="c-37798009">[10 more]</label></div><br/><div class="children"><div class="content">Things like this are why I use Emacs. Wonderful hack thanks for sharing.<p>Compare dead sibling’s recommendation[1] to the submission to understand what Emacs users mean when we talk about Emacs being easier to customize than the alternatives. VS Code is well and good for what it is, but it’s not a hacker’s editor.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;vscode-shellcheck&#x2F;vscode-shellcheck">https:&#x2F;&#x2F;github.com&#x2F;vscode-shellcheck&#x2F;vscode-shellcheck</a></div><br/><div id="37798144" class="c"><input type="checkbox" id="c-37798144" checked=""/><div class="controls bullet"><span class="by">bo-tato</span><span>|</span><a href="#37798009">parent</a><span>|</span><a href="#37798349">next</a><span>|</span><label class="collapse" for="c-37798144">[-]</label><label class="expand" for="c-37798144">[8 more]</label></div><br/><div class="children"><div class="content">And why I love doom emacs, it&#x27;s almost like vscode in ease of getting set up for different languages. There&#x27;s a init.el file with a :lang section where you can uncomment languages to enable them. Support for sh is enabled by default, and if shellcheck is installed it will use it without you having to customize anything. It&#x27;s all the hackability of emacs when you want, but also just good defaults so everyone doesn&#x27;t have to spend time configuring the same basic functionality.</div><br/><div id="37800059" class="c"><input type="checkbox" id="c-37800059" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37798144">parent</a><span>|</span><a href="#37798346">next</a><span>|</span><label class="collapse" for="c-37800059">[-]</label><label class="expand" for="c-37800059">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love doom emacs if it was an opinionated distro. Supporting competing alternatives for many packages means targeting a common denominator, and having a more buggy and fragile product than it has a right to be.<p>So the advantage of having someone else optimise a config is lost because most effort is spent supporting tons of optional packages. Meanwhile my hand written config is the definition of opinionated.</div><br/></div></div><div id="37798346" class="c"><input type="checkbox" id="c-37798346" checked=""/><div class="controls bullet"><span class="by">fiddlerwoaroof</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37798144">parent</a><span>|</span><a href="#37800059">prev</a><span>|</span><a href="#37798368">next</a><span>|</span><label class="collapse" for="c-37798346">[-]</label><label class="expand" for="c-37798346">[1 more]</label></div><br/><div class="children"><div class="content">I personally find that configuring vanilla emacs isn’t that scary. evil-mode + evil-collection provide most of the hard part of these distributions and I’ve found that growing from a minimal setup makes it easier to maintain your configuration than building on top of doom or spacemacs</div><br/></div></div><div id="37798368" class="c"><input type="checkbox" id="c-37798368" checked=""/><div class="controls bullet"><span class="by">softirq</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37798144">parent</a><span>|</span><a href="#37798346">prev</a><span>|</span><a href="#37798349">next</a><span>|</span><label class="collapse" for="c-37798368">[-]</label><label class="expand" for="c-37798368">[5 more]</label></div><br/><div class="children"><div class="content">What&#x27;s so hard about adding 5 lines to a config file? You&#x27;re adding 100s of customizations that slow down emacs when you probably use a handful of them at most.</div><br/><div id="37799020" class="c"><input type="checkbox" id="c-37799020" checked=""/><div class="controls bullet"><span class="by">rgoulter</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37798368">parent</a><span>|</span><a href="#37798796">next</a><span>|</span><label class="collapse" for="c-37799020">[-]</label><label class="expand" for="c-37799020">[2 more]</label></div><br/><div class="children"><div class="content">&gt; You&#x27;re adding 100s of customizations that slow down emacs<p>Doom Emacs&#x27; config loads faster than my hand-rolled one did.<p>So in that sense, with Doom I get a smaller config to maintain, for something that loads faster, while still having a rich&#x2F;coherent set of features for the stuff I do bump into.</div><br/><div id="37800186" class="c"><input type="checkbox" id="c-37800186" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37799020">parent</a><span>|</span><a href="#37798796">next</a><span>|</span><label class="collapse" for="c-37800186">[-]</label><label class="expand" for="c-37800186">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Doom Emacs&#x27; config loads faster than my hand-rolled one did.</i><p>Having browsed the Doom config sources the other day, they put a lot of effort to minimize startup time; there are various trick there that tune Emacs itself to start faster, and can be copied over to one&#x27;s own vanilla config :).</div><br/></div></div></div></div><div id="37798796" class="c"><input type="checkbox" id="c-37798796" checked=""/><div class="controls bullet"><span class="by">tra3</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37798368">parent</a><span>|</span><a href="#37799020">prev</a><span>|</span><a href="#37798349">next</a><span>|</span><label class="collapse" for="c-37798796">[-]</label><label class="expand" for="c-37798796">[2 more]</label></div><br/><div class="children"><div class="content">Sometimes packages don’t come with sane defaults. Or something conflicts somewhere.  Im tempted to plunder doom config, but I suspect it’s not straight forward.</div><br/><div id="37798894" class="c"><input type="checkbox" id="c-37798894" checked=""/><div class="controls bullet"><span class="by">dingnuts</span><span>|</span><a href="#37798009">root</a><span>|</span><a href="#37798796">parent</a><span>|</span><a href="#37798349">next</a><span>|</span><label class="collapse" for="c-37798894">[-]</label><label class="expand" for="c-37798894">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not bad actually, I have plundered a number of things from Doom</div><br/></div></div></div></div></div></div></div></div><div id="37798349" class="c"><input type="checkbox" id="c-37798349" checked=""/><div class="controls bullet"><span class="by">nverno</span><span>|</span><a href="#37798009">parent</a><span>|</span><a href="#37798144">prev</a><span>|</span><a href="#37797878">next</a><span>|</span><label class="collapse" for="c-37798349">[-]</label><label class="expand" for="c-37798349">[1 more]</label></div><br/><div class="children"><div class="content">I wrote a shellcheck wrapper that outputs results in compilation mode a few years ago - <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;nverno&#x2F;d73be9534abae26b1794298f608bf36d" rel="nofollow noreferrer">https:&#x2F;&#x2F;gist.github.com&#x2F;nverno&#x2F;d73be9534abae26b1794298f608bf...</a>.<p>I still prefer it over flycheck personally cause from the compilation buffer you can quickly run through the errors and press &quot;d&quot; to add the disable meta comments to the source.</div><br/></div></div></div></div></div></div></div></div></div></body></html>