<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1710925267191" as="style"/><link rel="stylesheet" href="styles.css?v=1710925267191"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nanochess.org/emulator.html">Intel 8080 emulator. 19th IOCCC. Best of Show</a>Â <span class="domain">(<a href="https://nanochess.org">nanochess.org</a>)</span></div><div class="subtext"><span>hggh</span> | <span>44 comments</span></div><br/><div><div id="39762612" class="c"><input type="checkbox" id="c-39762612" checked=""/><div class="controls bullet"><span class="by">billforsternz</span><span>|</span><a href="#39759335">next</a><span>|</span><label class="collapse" for="c-39762612">[-]</label><label class="expand" for="c-39762612">[2 more]</label></div><br/><div class="children"><div class="content">One of my best hacks back in the day was an 8080 emulator, for the 8088&#x2F;8086 back in the time when what you were really trying to do was run the 8080 code as fast as possible (because the first PCs were slow, and emulating 8080 code was much slower than running 8080 code on a native machine).<p>Invariably at the time the 8080 emulators would have a dispatch loop, fetching the next opcode and dispatching through a jump table to some code to emulate each of the 256 opcodes. One problem with this was that you couldn&#x27;t dispatch this way without altering the CPU flags, so you&#x27;d also have to save and restore those with LAHF&#x2F;SAHF (fast) or PUSHF&#x2F;POPF (slow). In general you&#x27;d need about 10 8086 instructions to emulate 1 8080 instruction, and in the early 1980s this meant your emulated CP&#x2F;M program would run much slower than on your old CP&#x2F;M computer.<p>My emulator would emulate 1 8080 opcode with 4 8086 opcodes as follows; An 8080 instruction, say 0x94 = sub h would be emulated with code loaded at address 0x9494. That code would be;<p><pre><code>  sub bh,dl   ;bh = bh-dl, emulate h with bh, a with dl
  lodsb       ;al = *si++, get next opcode, increment emulated pc
  mov ah,al   ;eg 0x94 -&gt; 0x9494
  jmp ax      ;jump to next instruction
</code></pre>
This is a classic example of trading space for time, your emulator is sparsely distributed through 64K of RAM. So you needed 128K to emulate your 64K 8080.</div><br/><div id="39763978" class="c"><input type="checkbox" id="c-39763978" checked=""/><div class="controls bullet"><span class="by">djmips</span><span>|</span><a href="#39762612">parent</a><span>|</span><a href="#39759335">next</a><span>|</span><label class="collapse" for="c-39763978">[-]</label><label class="expand" for="c-39763978">[1 more]</label></div><br/><div class="children"><div class="content">How would full translation work? The opcodes are close? Could you do a just in time version?</div><br/></div></div></div></div><div id="39759335" class="c"><input type="checkbox" id="c-39759335" checked=""/><div class="controls bullet"><span class="by">tromp</span><span>|</span><a href="#39762612">prev</a><span>|</span><a href="#39760183">next</a><span>|</span><label class="collapse" for="c-39759335">[-]</label><label class="expand" for="c-39759335">[7 more]</label></div><br/><div class="children"><div class="content">Sadly, the International Obfuscated C Code Contest has not been held in the past 3 years, the last one being the 27th IOCCC from 2020 [1].<p>Looking forward to seeing more editions in the future, and submitting another entry myself...<p>[1] <a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2020" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2020</a></div><br/><div id="39763994" class="c"><input type="checkbox" id="c-39763994" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#39759335">parent</a><span>|</span><a href="#39762016">next</a><span>|</span><label class="collapse" for="c-39763994">[-]</label><label class="expand" for="c-39763994">[1 more]</label></div><br/><div class="children"><div class="content">The biggest factor I think is that the judging process cannot be easily parallelized after the initial filtering and traditionally needed multiple in-person judging sessions---there are several photos in the official Twitter account. (2020 judges didn&#x27;t meet in person for the obvious reason, but still used conference calls.)</div><br/></div></div><div id="39762016" class="c"><input type="checkbox" id="c-39762016" checked=""/><div class="controls bullet"><span class="by">hfuaiobfa</span><span>|</span><a href="#39759335">parent</a><span>|</span><a href="#39763994">prev</a><span>|</span><a href="#39760242">next</a><span>|</span><label class="collapse" for="c-39762016">[-]</label><label class="expand" for="c-39762016">[2 more]</label></div><br/><div class="children"><div class="content">They seem to be re-organizing the website structure [1] as well as updating the submitting system [2], and lately they were making some progress [3], but still need a lot of formatting work.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;ioccc-src&#x2F;temp-test-ioccc">https:&#x2F;&#x2F;github.com&#x2F;ioccc-src&#x2F;temp-test-ioccc</a>
[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;ioccc-src&#x2F;mkiocccentry">https:&#x2F;&#x2F;github.com&#x2F;ioccc-src&#x2F;mkiocccentry</a>
[3] <a href="https:&#x2F;&#x2F;fosstodon.org&#x2F;@ioccc&#x2F;112023138011006567" rel="nofollow">https:&#x2F;&#x2F;fosstodon.org&#x2F;@ioccc&#x2F;112023138011006567</a><p>There are currently only two active maintainers. I guess any help is welcome.</div><br/><div id="39763882" class="c"><input type="checkbox" id="c-39763882" checked=""/><div class="controls bullet"><span class="by">K0balt</span><span>|</span><a href="#39759335">root</a><span>|</span><a href="#39762016">parent</a><span>|</span><a href="#39760242">next</a><span>|</span><label class="collapse" for="c-39763882">[-]</label><label class="expand" for="c-39763882">[1 more]</label></div><br/><div class="children"><div class="content">Seems like they are stretched a bit thin, and no doubt this is a hobby project.<p>This is a great steelman for where dogfooding does not apply - imagine if their website was actually an obfuscated C webserver with the content imbedded in it, and therefore impossible to update lol.</div><br/></div></div></div></div><div id="39760242" class="c"><input type="checkbox" id="c-39760242" checked=""/><div class="controls bullet"><span class="by">howerj</span><span>|</span><a href="#39759335">parent</a><span>|</span><a href="#39762016">prev</a><span>|</span><a href="#39762259">next</a><span>|</span><label class="collapse" for="c-39760242">[-]</label><label class="expand" for="c-39760242">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been waiting for the competition to open up again, I think I have an entry good enough. There does appear to be some activity on their GitHub repo, but I have no idea when the next one will be. Does anyone here have any gossip about when the next one might be? Wild rumor would also suffice.</div><br/></div></div><div id="39762259" class="c"><input type="checkbox" id="c-39762259" checked=""/><div class="controls bullet"><span class="by">knodi123</span><span>|</span><a href="#39759335">parent</a><span>|</span><a href="#39760242">prev</a><span>|</span><a href="#39760183">next</a><span>|</span><label class="collapse" for="c-39762259">[-]</label><label class="expand" for="c-39762259">[2 more]</label></div><br/><div class="children"><div class="content">another casualty of the covid era, I assume  &#x2F;s</div><br/><div id="39762972" class="c"><input type="checkbox" id="c-39762972" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#39759335">root</a><span>|</span><a href="#39762259">parent</a><span>|</span><a href="#39760183">next</a><span>|</span><label class="collapse" for="c-39762972">[-]</label><label class="expand" for="c-39762972">[1 more]</label></div><br/><div class="children"><div class="content">Not sure why the &#x2F;s, it seems like a plausible contributing factor.</div><br/></div></div></div></div></div></div><div id="39760183" class="c"><input type="checkbox" id="c-39760183" checked=""/><div class="controls bullet"><span class="by">wzdd</span><span>|</span><a href="#39759335">prev</a><span>|</span><a href="#39760607">next</a><span>|</span><label class="collapse" for="c-39760183">[-]</label><label class="expand" for="c-39760183">[5 more]</label></div><br/><div class="children"><div class="content">Related, 8086tiny, a 2013 IOCCC winner. About twice as much source code, and if not cheating then certainly leaning heavily on the rules, but very impressive as it&#x27;s a full x86 emulator with graphics and several peripherals.<p>Original entry: <a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2013_cable3" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2013_cable3</a><p>&quot;Deobfuscated&quot;: <a href="https:&#x2F;&#x2F;github.com&#x2F;adriancable&#x2F;8086tiny">https:&#x2F;&#x2F;github.com&#x2F;adriancable&#x2F;8086tiny</a><p>(Not mine, just a fan)</div><br/><div id="39760829" class="c"><input type="checkbox" id="c-39760829" checked=""/><div class="controls bullet"><span class="by">rahkiin</span><span>|</span><a href="#39760183">parent</a><span>|</span><a href="#39762368">next</a><span>|</span><label class="collapse" for="c-39760829">[-]</label><label class="expand" for="c-39760829">[1 more]</label></div><br/><div class="children"><div class="content">From the description, one small part of the code:<p>--64[T=1[O=32[L=(X=*Y&amp;7)&amp;1,o=X&#x2F;2&amp;1,l]=0,t=(c=y)&amp;7,a=c&#x2F;8&amp;7,Y]&gt;&gt;6,g=~-T?y:(n)y,d=BX=y,l]<p>The difference between bf and c sometimes is small</div><br/></div></div><div id="39762368" class="c"><input type="checkbox" id="c-39762368" checked=""/><div class="controls bullet"><span class="by">lisper</span><span>|</span><a href="#39760183">parent</a><span>|</span><a href="#39760829">prev</a><span>|</span><a href="#39760607">next</a><span>|</span><label class="collapse" for="c-39762368">[-]</label><label class="expand" for="c-39762368">[3 more]</label></div><br/><div class="children"><div class="content">&gt; if not cheating then certainly leaning heavily on the rules<p>How so?</div><br/><div id="39763401" class="c"><input type="checkbox" id="c-39763401" checked=""/><div class="controls bullet"><span class="by">TillE</span><span>|</span><a href="#39760183">root</a><span>|</span><a href="#39762368">parent</a><span>|</span><a href="#39760607">next</a><span>|</span><label class="collapse" for="c-39763401">[-]</label><label class="expand" for="c-39763401">[2 more]</label></div><br/><div class="children"><div class="content">The description implies they found some clever way to trick iocccsize at the time. Using the current version of iocccsize, it weighs in at 3842, well over the max of 2053.<p><a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;2013&#x2F;cable3&#x2F;hint.html" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;2013&#x2F;cable3&#x2F;hint.html</a></div><br/><div id="39763897" class="c"><input type="checkbox" id="c-39763897" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#39760183">root</a><span>|</span><a href="#39763401">parent</a><span>|</span><a href="#39760607">next</a><span>|</span><label class="collapse" for="c-39763897">[-]</label><label class="expand" for="c-39763897">[1 more]</label></div><br/><div class="children"><div class="content">No, `iocccsize` has been updated throughout the history of the contest. The hints mention this, but the accepted secondary size for `cable3.c` was 1,977 tokens. (Later versions of `iocccsize` don&#x27;t compute secondary sizes at all.)<p>As far as I can tell, the actual abuse here was the inclusion of instruction decoding table in the custom BIOS which didn&#x27;t count towards the total size at all:<p>&gt; This conversion, along with instruction lengths and how each instruction modifies the flags, is assisted by some lookup tables which form part of the BIOS binary.</div><br/></div></div></div></div></div></div></div></div><div id="39760607" class="c"><input type="checkbox" id="c-39760607" checked=""/><div class="controls bullet"><span class="by">xuhu</span><span>|</span><a href="#39760183">prev</a><span>|</span><a href="#39759345">next</a><span>|</span><label class="collapse" for="c-39760607">[-]</label><label class="expand" for="c-39760607">[3 more]</label></div><br/><div class="children"><div class="content">Is there a competition where you win by showing something both compact and extraordinary but not obfuscated ? Like zlib compression in 100 lines or some song recognition using FFT in X lines, or a working ssh client in Y lines ?</div><br/><div id="39761242" class="c"><input type="checkbox" id="c-39761242" checked=""/><div class="controls bullet"><span class="by">nneonneo</span><span>|</span><a href="#39760607">parent</a><span>|</span><a href="#39760998">next</a><span>|</span><label class="collapse" for="c-39761242">[-]</label><label class="expand" for="c-39761242">[1 more]</label></div><br/><div class="children"><div class="content">This is generally called code golf, and thereâs a whole forum for it: <a href="https:&#x2F;&#x2F;codegolf.stackexchange.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;codegolf.stackexchange.com&#x2F;</a><p>I think once you try to get something small enough the code will naturally tend towards obfuscation.</div><br/></div></div><div id="39760998" class="c"><input type="checkbox" id="c-39760998" checked=""/><div class="controls bullet"><span class="by">frakt0x90</span><span>|</span><a href="#39760607">parent</a><span>|</span><a href="#39761242">prev</a><span>|</span><a href="#39759345">next</a><span>|</span><label class="collapse" for="c-39760998">[-]</label><label class="expand" for="c-39760998">[1 more]</label></div><br/><div class="children"><div class="content">Demoscene? Mostly geared towards graphics but that&#x27;s one example.</div><br/></div></div></div></div><div id="39759345" class="c"><input type="checkbox" id="c-39759345" checked=""/><div class="controls bullet"><span class="by">dormento</span><span>|</span><a href="#39760607">prev</a><span>|</span><a href="#39759277">next</a><span>|</span><label class="collapse" for="c-39759345">[-]</label><label class="expand" for="c-39759345">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I intended to make it simple to understand, it uses only four C keywords.<p>Fantastic</div><br/></div></div><div id="39759277" class="c"><input type="checkbox" id="c-39759277" checked=""/><div class="controls bullet"><span class="by">nsxwolf</span><span>|</span><a href="#39759345">prev</a><span>|</span><a href="#39760477">next</a><span>|</span><label class="collapse" for="c-39759277">[-]</label><label class="expand" for="c-39759277">[17 more]</label></div><br/><div class="children"><div class="content">Is there an ELI5 for this? How could something so small possibly be an 8080 emulator?</div><br/><div id="39759400" class="c"><input type="checkbox" id="c-39759400" checked=""/><div class="controls bullet"><span class="by">belter</span><span>|</span><a href="#39759277">parent</a><span>|</span><a href="#39759331">next</a><span>|</span><label class="collapse" for="c-39759400">[-]</label><label class="expand" for="c-39759400">[6 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the Toledo family. All is possible.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28337064">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28337064</a></div><br/><div id="39759584" class="c"><input type="checkbox" id="c-39759584" checked=""/><div class="controls bullet"><span class="by">philomath_mn</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759400">parent</a><span>|</span><a href="#39763058">next</a><span>|</span><label class="collapse" for="c-39759584">[-]</label><label class="expand" for="c-39759584">[2 more]</label></div><br/><div class="children"><div class="content">Wow, that sent me down a rabbit hole -- but this line from the homepage makes it sound like he is _not_ part of that family?<p>&gt; If you&#x27;re looking for information about the Mexican scientist Oscar Toledo Esteva, then please go to the History page of the Familia Toledo organization site.<p><a href="https:&#x2F;&#x2F;nanochess.org&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;nanochess.org&#x2F;index.html</a></div><br/><div id="39761174" class="c"><input type="checkbox" id="c-39761174" checked=""/><div class="controls bullet"><span class="by">emi2k01</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759584">parent</a><span>|</span><a href="#39763058">next</a><span>|</span><label class="collapse" for="c-39761174">[-]</label><label class="expand" for="c-39761174">[1 more]</label></div><br/><div class="children"><div class="content">I believe they are father and son. The `Books` section on the Toledo family website links to books written by Oscar Toledo G.</div><br/></div></div></div></div><div id="39763058" class="c"><input type="checkbox" id="c-39763058" checked=""/><div class="controls bullet"><span class="by">kqr2</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759400">parent</a><span>|</span><a href="#39759584">prev</a><span>|</span><a href="#39759564">next</a><span>|</span><label class="collapse" for="c-39763058">[-]</label><label class="expand" for="c-39763058">[1 more]</label></div><br/><div class="children"><div class="content">Can you actually purchase any of their products, including the $99 computer?</div><br/></div></div><div id="39759564" class="c"><input type="checkbox" id="c-39759564" checked=""/><div class="controls bullet"><span class="by">msla</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759400">parent</a><span>|</span><a href="#39763058">prev</a><span>|</span><a href="#39759331">next</a><span>|</span><label class="collapse" for="c-39759564">[-]</label><label class="expand" for="c-39759564">[2 more]</label></div><br/><div class="children"><div class="content">Given the number of lies on the company&#x27;s website, I&#x27;m not inclined to believe them about other things.</div><br/><div id="39762538" class="c"><input type="checkbox" id="c-39762538" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759564">parent</a><span>|</span><a href="#39759331">next</a><span>|</span><label class="collapse" for="c-39762538">[-]</label><label class="expand" for="c-39762538">[1 more]</label></div><br/><div class="children"><div class="content">The articles on the browser tech are horribily outdated, and ditto with TLS libraries. But if they used something like mbedtls&#x2F;bearssl and Gemini&#x2F;Gopher, they would be still useful.</div><br/></div></div></div></div></div></div><div id="39759331" class="c"><input type="checkbox" id="c-39759331" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#39759277">parent</a><span>|</span><a href="#39759400">prev</a><span>|</span><a href="#39761027">next</a><span>|</span><label class="collapse" for="c-39759331">[-]</label><label class="expand" for="c-39759331">[6 more]</label></div><br/><div class="children"><div class="content">The 8080 is a simple processor, the &quot;how to program&quot; manual is only 60 pages.<p>Most of the instructions are changing registers in various ways, which is pretty simple. The Appendix A has all of them: <a href="https:&#x2F;&#x2F;altairclone.com&#x2F;downloads&#x2F;manuals&#x2F;8080%20Programmers%20Manual.pdf" rel="nofollow">https:&#x2F;&#x2F;altairclone.com&#x2F;downloads&#x2F;manuals&#x2F;8080%20Programmers...</a></div><br/><div id="39759382" class="c"><input type="checkbox" id="c-39759382" checked=""/><div class="controls bullet"><span class="by">tromp</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759331">parent</a><span>|</span><a href="#39760871">next</a><span>|</span><label class="collapse" for="c-39759382">[-]</label><label class="expand" for="c-39759382">[2 more]</label></div><br/><div class="children"><div class="content">I am more amazed you can fit a (pretty large subset of) Haskell compiler&#x2F;runtime in about twice the size [1].<p>[1] <a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;2019&#x2F;lynn&#x2F;hint.html" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;2019&#x2F;lynn&#x2F;hint.html</a></div><br/><div id="39760277" class="c"><input type="checkbox" id="c-39760277" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759382">parent</a><span>|</span><a href="#39760871">next</a><span>|</span><label class="collapse" for="c-39760277">[-]</label><label class="expand" for="c-39760277">[1 more]</label></div><br/><div class="children"><div class="content">Well, an a complete lisp system on that size, for sure. And forth environment.</div><br/></div></div></div></div><div id="39760871" class="c"><input type="checkbox" id="c-39760871" checked=""/><div class="controls bullet"><span class="by">none_to_remain</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759331">parent</a><span>|</span><a href="#39759382">prev</a><span>|</span><a href="#39761027">next</a><span>|</span><label class="collapse" for="c-39760871">[-]</label><label class="expand" for="c-39760871">[3 more]</label></div><br/><div class="children"><div class="content">I went too far and ran into the printed hexadecimal-decimal lookup table for every number from 0x0-0xFFF</div><br/><div id="39761094" class="c"><input type="checkbox" id="c-39761094" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39760871">parent</a><span>|</span><a href="#39761027">next</a><span>|</span><label class="collapse" for="c-39761094">[-]</label><label class="expand" for="c-39761094">[2 more]</label></div><br/><div class="children"><div class="content">ah yes, I had that poster on my wall as a kid... <a href="https:&#x2F;&#x2F;twitter.com&#x2F;JBrooksBSI&#x2F;status&#x2F;952291667041599488&#x2F;photo&#x2F;1" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;JBrooksBSI&#x2F;status&#x2F;952291667041599488&#x2F;pho...</a></div><br/><div id="39761142" class="c"><input type="checkbox" id="c-39761142" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39761094">parent</a><span>|</span><a href="#39761027">next</a><span>|</span><label class="collapse" for="c-39761142">[-]</label><label class="expand" for="c-39761142">[1 more]</label></div><br/><div class="children"><div class="content">Now I&#x27;m having fond memories of discovering the IBM box drawing characters above 128 as a kid, and doing fancy text files.</div><br/></div></div></div></div></div></div></div></div><div id="39761027" class="c"><input type="checkbox" id="c-39761027" checked=""/><div class="controls bullet"><span class="by">RetroTechie</span><span>|</span><a href="#39759277">parent</a><span>|</span><a href="#39759331">prev</a><span>|</span><a href="#39759863">next</a><span>|</span><label class="collapse" for="c-39761027">[-]</label><label class="expand" for="c-39761027">[1 more]</label></div><br/><div class="children"><div class="content">The 8080 has ~5k transistors. There&#x27;s only so much complexity one can build with those.</div><br/></div></div><div id="39759863" class="c"><input type="checkbox" id="c-39759863" checked=""/><div class="controls bullet"><span class="by">slily</span><span>|</span><a href="#39759277">parent</a><span>|</span><a href="#39761027">prev</a><span>|</span><a href="#39762044">next</a><span>|</span><label class="collapse" for="c-39759863">[-]</label><label class="expand" for="c-39759863">[2 more]</label></div><br/><div class="children"><div class="content">The 8080 instruction set opcodes have logical bit patterns, so you can identify the operation and operands through bit masking instead of requiring a huge LUT. Beyond that you can simplify a lot by sacrificing timing accuracy.</div><br/><div id="39759977" class="c"><input type="checkbox" id="c-39759977" checked=""/><div class="controls bullet"><span class="by">zabzonk</span><span>|</span><a href="#39759277">root</a><span>|</span><a href="#39759863">parent</a><span>|</span><a href="#39762044">next</a><span>|</span><label class="collapse" for="c-39759977">[-]</label><label class="expand" for="c-39759977">[1 more]</label></div><br/><div class="children"><div class="content">you can also write one using a 256-byte switch, which ain&#x27;t so big. i wrote an 8080 emulator in fortran77 on a dec10 that way, back in the 1980s. but of course size wasn&#x27;t an issue. it did prove to be quite portable - to vax and ibm vm&#x2F;cms. we used it for teaching assembler programming.</div><br/></div></div></div></div><div id="39762044" class="c"><input type="checkbox" id="c-39762044" checked=""/><div class="controls bullet"><span class="by">xcv123</span><span>|</span><a href="#39759277">parent</a><span>|</span><a href="#39759863">prev</a><span>|</span><a href="#39760477">next</a><span>|</span><label class="collapse" for="c-39762044">[-]</label><label class="expand" for="c-39762044">[1 more]</label></div><br/><div class="children"><div class="content">After simplifying and reducing the code as far as possible, it is rewritten in a compressed format using macros and without whitespace. Look at the #define statements.</div><br/></div></div></div></div><div id="39760477" class="c"><input type="checkbox" id="c-39760477" checked=""/><div class="controls bullet"><span class="by">verall</span><span>|</span><a href="#39759277">prev</a><span>|</span><a href="#39760419">next</a><span>|</span><label class="collapse" for="c-39760477">[-]</label><label class="expand" for="c-39760477">[3 more]</label></div><br/><div class="children"><div class="content">A somewhat related ask for help -<p>I have seen a program, I think for IOCCC, where the code was aligned in 4 character columns that seemed to naturally fit the code, so it would have code arranged like:<p><pre><code>  for( long i=0; i&lt;n; i++)
  {int a=1, b=2, c=3, d=4;
</code></pre>
for the whole program.<p>I lost it though and have been completely unable to find it, despite searching very hard.<p>Has anyone seen something like this before? I would be forever grateful for any pointer towards it.</div><br/><div id="39764005" class="c"><input type="checkbox" id="c-39764005" checked=""/><div class="controls bullet"><span class="by">bruce343434</span><span>|</span><a href="#39760477">parent</a><span>|</span><a href="#39760983">next</a><span>|</span><label class="collapse" for="c-39764005">[-]</label><label class="expand" for="c-39764005">[1 more]</label></div><br/><div class="children"><div class="content">What did it do?</div><br/></div></div><div id="39760983" class="c"><input type="checkbox" id="c-39760983" checked=""/><div class="controls bullet"><span class="by">omoikane</span><span>|</span><a href="#39760477">parent</a><span>|</span><a href="#39764005">prev</a><span>|</span><a href="#39760419">next</a><span>|</span><label class="collapse" for="c-39760983">[-]</label><label class="expand" for="c-39760983">[1 more]</label></div><br/><div class="children"><div class="content">Was it one of these?<p><a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#1995_heathbar" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#1995_heathbar</a><p><a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2014_endoh1" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2014_endoh1</a><p><a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2006_sloane" rel="nofollow">https:&#x2F;&#x2F;www.ioccc.org&#x2F;years.html#2006_sloane</a><p>May be related, I have an index that lists winning entries with some form of ASCII art, one of those could be what you were looking for.<p><a href="https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;e&#x2F;2PACX-1vRg3T5z-QN66exVfyQZdLBPEEALRU3I5z4YkvtqyiohK8RjTZIRG18oz-BVPpU8T5aMq1lh7jLUpxL6&#x2F;pubhtml" rel="nofollow">https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;e&#x2F;2PACX-1vRg3T5z-QN66...</a></div><br/></div></div></div></div><div id="39760419" class="c"><input type="checkbox" id="c-39760419" checked=""/><div class="controls bullet"><span class="by">simlevesque</span><span>|</span><a href="#39760477">prev</a><span>|</span><a href="#39760278">next</a><span>|</span><label class="collapse" for="c-39760419">[-]</label><label class="expand" for="c-39760419">[2 more]</label></div><br/><div class="children"><div class="content">It compiles on my machine but I can&#x27;t run it, I always get a SIGSEGV. Same thing for the chess program.<p>I ran both the original build command and the &quot;And now it is 2024&quot; one.</div><br/><div id="39760558" class="c"><input type="checkbox" id="c-39760558" checked=""/><div class="controls bullet"><span class="by">skulk</span><span>|</span><a href="#39760419">parent</a><span>|</span><a href="#39760278">next</a><span>|</span><label class="collapse" for="c-39760558">[-]</label><label class="expand" for="c-39760558">[1 more]</label></div><br/><div class="children"><div class="content">For the 8080 emulator, you need the c_basic.bin (renamed to just &quot;C&quot;) and c_bios.bin to be in the same directory as the executable, as per the article. I tried this and it dumps me into a BASIC shell. So cool!</div><br/></div></div></div></div><div id="39760278" class="c"><input type="checkbox" id="c-39760278" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#39760419">prev</a><span>|</span><label class="collapse" for="c-39760278">[-]</label><label class="expand" for="c-39760278">[3 more]</label></div><br/><div class="children"><div class="content">BTW, CPM 2.2 doesn&#x27;t run on that emulator in my machine (intel Atom, Linux, 32 bit, tried with gcc 8, clang 11, and tcc 0.29.7). Basic does.</div><br/><div id="39762638" class="c"><input type="checkbox" id="c-39762638" checked=""/><div class="controls bullet"><span class="by">fernirello</span><span>|</span><a href="#39760278">parent</a><span>|</span><label class="collapse" for="c-39762638">[-]</label><label class="expand" for="c-39762638">[2 more]</label></div><br/><div class="children"><div class="content">Sadly, same here: following the instrs works for Tiny Basic (which is quite basic!), but CP&#x2F;M segfaults. Any idea to get past this?</div><br/><div id="39763191" class="c"><input type="checkbox" id="c-39763191" checked=""/><div class="controls bullet"><span class="by">cowboylowrez</span><span>|</span><a href="#39760278">root</a><span>|</span><a href="#39762638">parent</a><span>|</span><label class="collapse" for="c-39763191">[-]</label><label class="expand" for="c-39763191">[1 more]</label></div><br/><div class="children"><div class="content">chmod +w A B after the copy got me a bios prompt!</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>