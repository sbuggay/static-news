<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1691571664234" as="style"/><link rel="stylesheet" href="styles.css?v=1691571664234"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://omrelli.ug/g9/gallery/">G9.js: Automatically Interactive Graphics</a>Â <span class="domain">(<a href="http://omrelli.ug">omrelli.ug</a>)</span></div><div class="subtext"><span>nnx</span> | <span>30 comments</span></div><br/><div><div id="37059172" class="c"><input type="checkbox" id="c-37059172" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#37059007">next</a><span>|</span><label class="collapse" for="c-37059172">[-]</label><label class="expand" for="c-37059172">[5 more]</label></div><br/><div class="children"><div class="content">The fact that you can pick a node which is rendered as a fifth or a sixth level of a recursive tree, move it around, and the rest of the tree would react, looks highly magical to me. It works without a function that explicitly infers the initial parameters of the tree from an arbitrary leaf node position.<p>I wonder how is it achieved, and how well does it work when positions of points are not connected by reasonably smooth functions.</div><br/><div id="37059251" class="c"><input type="checkbox" id="c-37059251" checked=""/><div class="controls bullet"><span class="by">Chabsff</span><span>|</span><a href="#37059172">parent</a><span>|</span><a href="#37059007">next</a><span>|</span><label class="collapse" for="c-37059251">[-]</label><label class="expand" for="c-37059251">[4 more]</label></div><br/><div class="children"><div class="content">If I had to guess: 
1. Get partial derivatives of each parameter&#x27;s influence on the moved object by sampling the function twice.
2. Perform a bog standard gradient descent.
3. go back to 1 until convergence is achieved.<p>Or you could be lazy and just throw an off-the-shelf optimizer at it.</div><br/><div id="37059404" class="c"><input type="checkbox" id="c-37059404" checked=""/><div class="controls bullet"><span class="by">HammadB</span><span>|</span><a href="#37059172">root</a><span>|</span><a href="#37059251">parent</a><span>|</span><a href="#37059007">next</a><span>|</span><label class="collapse" for="c-37059404">[-]</label><label class="expand" for="c-37059404">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;bijection&#x2F;g9&#x2F;blob&#x2F;master&#x2F;src&#x2F;minimize.js">https:&#x2F;&#x2F;github.com&#x2F;bijection&#x2F;g9&#x2F;blob&#x2F;master&#x2F;src&#x2F;minimize.js</a></div><br/><div id="37060191" class="c"><input type="checkbox" id="c-37060191" checked=""/><div class="controls bullet"><span class="by">throwaway4good</span><span>|</span><a href="#37059172">root</a><span>|</span><a href="#37059404">parent</a><span>|</span><a href="#37059456">next</a><span>|</span><label class="collapse" for="c-37060191">[-]</label><label class="expand" for="c-37060191">[1 more]</label></div><br/><div class="children"><div class="content">Requires the relationship from the screen coordinates to the variables in the program to be differentiable.<p>It is a very nice idea though.</div><br/></div></div></div></div></div></div></div></div><div id="37059007" class="c"><input type="checkbox" id="c-37059007" checked=""/><div class="controls bullet"><span class="by">MrLeap</span><span>|</span><a href="#37059172">prev</a><span>|</span><a href="#37059649">next</a><span>|</span><label class="collapse" for="c-37059007">[-]</label><label class="expand" for="c-37059007">[6 more]</label></div><br/><div class="children"><div class="content">First thought was cool, clean simple API. I like it better than d3 to do the equivalent. -- Then I read this:<p>&quot;When someone interacts with the graphics, for example by trying to drag an element to a new position, g9 optimizes over the space of possible values for your data to find a set of values that comes closest to creating the change. &quot;<p>That is some highly magical DOM jimmying. High science weirdness. The applications I can think of where you&#x27;d need to manipulate a chart to modify data are all pretty niche (except for fun, which is universal). When the use case does come around this is going to be a delight.</div><br/><div id="37059101" class="c"><input type="checkbox" id="c-37059101" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#37059007">parent</a><span>|</span><a href="#37059104">next</a><span>|</span><label class="collapse" for="c-37059101">[-]</label><label class="expand" for="c-37059101">[2 more]</label></div><br/><div class="children"><div class="content">Because it&#x27;s not for charts. It&#x27;s for interactive demos; have you tried playing with them on the rest of the page?</div><br/><div id="37059161" class="c"><input type="checkbox" id="c-37059161" checked=""/><div class="controls bullet"><span class="by">MrLeap</span><span>|</span><a href="#37059007">root</a><span>|</span><a href="#37059101">parent</a><span>|</span><a href="#37059104">next</a><span>|</span><label class="collapse" for="c-37059161">[-]</label><label class="expand" for="c-37059161">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I did. They&#x27;re fun.</div><br/></div></div></div></div><div id="37059104" class="c"><input type="checkbox" id="c-37059104" checked=""/><div class="controls bullet"><span class="by">sainez</span><span>|</span><a href="#37059007">parent</a><span>|</span><a href="#37059101">prev</a><span>|</span><a href="#37059685">next</a><span>|</span><label class="collapse" for="c-37059104">[-]</label><label class="expand" for="c-37059104">[2 more]</label></div><br/><div class="children"><div class="content">As far applications go, there are a lot of STEM concepts that can be communicated effectively by allowing interactivity.</div><br/><div id="37059162" class="c"><input type="checkbox" id="c-37059162" checked=""/><div class="controls bullet"><span class="by">MrLeap</span><span>|</span><a href="#37059007">root</a><span>|</span><a href="#37059104">parent</a><span>|</span><a href="#37059685">next</a><span>|</span><label class="collapse" for="c-37059162">[-]</label><label class="expand" for="c-37059162">[1 more]</label></div><br/><div class="children"><div class="content">This is a good point.</div><br/></div></div></div></div><div id="37059685" class="c"><input type="checkbox" id="c-37059685" checked=""/><div class="controls bullet"><span class="by">noduerme</span><span>|</span><a href="#37059007">parent</a><span>|</span><a href="#37059104">prev</a><span>|</span><a href="#37059649">next</a><span>|</span><label class="collapse" for="c-37059685">[-]</label><label class="expand" for="c-37059685">[1 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t call that high science. Average the velocity and vector of a drag event over the first few frames, keep averaging with more frames, and start moving everything to the predicted end-point with a nice ease-in-out, you&#x27;re most of the way to &quot;optimizing over the space of possible values&quot;.</div><br/></div></div></div></div><div id="37059649" class="c"><input type="checkbox" id="c-37059649" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#37059007">prev</a><span>|</span><a href="#37059990">next</a><span>|</span><label class="collapse" for="c-37059649">[-]</label><label class="expand" for="c-37059649">[2 more]</label></div><br/><div class="children"><div class="content">I would love an explanation on how it works because this feels like black magic to me.<p>If you know you have two points, one at (0, 10) and (10, 0) and drag the latter to (20, 0), how does the system tell that the first needs to be mirrored by the same distance?<p>Again, this is magic, so very well done to the author. Great stuff</div><br/><div id="37060135" class="c"><input type="checkbox" id="c-37060135" checked=""/><div class="controls bullet"><span class="by">fouronnes3</span><span>|</span><a href="#37059649">parent</a><span>|</span><a href="#37059990">next</a><span>|</span><label class="collapse" for="c-37060135">[-]</label><label class="expand" for="c-37060135">[1 more]</label></div><br/><div class="children"><div class="content">Define a function that measures the error between the position of the drawn element and the new position required by the drag action. Compute partial derivatives of this function with respect to the data variables. Minimize this function to find the new data values. Re-render everything with the new optimal data values.<p>It&#x27;s a bit confusing, because typically what&#x27;s called &#x27;data&#x27; here would be called &quot;parameters&quot; in mathematical optimization, or &quot;weights&quot; in statistics &#x2F; machine learning. Also ML would call &quot;data&quot; what&#x27;s fixed, so here the position of the dragged element.</div><br/></div></div></div></div><div id="37059990" class="c"><input type="checkbox" id="c-37059990" checked=""/><div class="controls bullet"><span class="by">jamessb</span><span>|</span><a href="#37059649">prev</a><span>|</span><a href="#37060065">next</a><span>|</span><label class="collapse" for="c-37059990">[-]</label><label class="expand" for="c-37059990">[1 more]</label></div><br/><div class="children"><div class="content">There were some interesting comments when this was last discussed on HN (7 years ago): <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=12572412">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=12572412</a></div><br/></div></div><div id="37059661" class="c"><input type="checkbox" id="c-37059661" checked=""/><div class="controls bullet"><span class="by">indigoabstract</span><span>|</span><a href="#37060065">prev</a><span>|</span><a href="#37060062">next</a><span>|</span><label class="collapse" for="c-37059661">[-]</label><label class="expand" for="c-37059661">[1 more]</label></div><br/><div class="children"><div class="content">Looks pretty cool!<p>One nitpick is, there are no markers&#x2F;selection, so it&#x27;s not very obvious that you can drag the objects, unless you stopped to read the description first.<p>I&#x27;m also bit puzzled on how readjusting the object&#x27;s position works. Usually, you&#x27;d define a pointer handler and transform based on the input, but if I understand correctly, the engine tries its best guess to automate this for you?</div><br/></div></div><div id="37060062" class="c"><input type="checkbox" id="c-37060062" checked=""/><div class="controls bullet"><span class="by">injidup</span><span>|</span><a href="#37059661">prev</a><span>|</span><a href="#37060156">next</a><span>|</span><label class="collapse" for="c-37060062">[-]</label><label class="expand" for="c-37060062">[1 more]</label></div><br/><div class="children"><div class="content">It seems to have things in common with 2D CAD constraint based sketching tools?</div><br/></div></div><div id="37060156" class="c"><input type="checkbox" id="c-37060156" checked=""/><div class="controls bullet"><span class="by">ronyfadel</span><span>|</span><a href="#37060062">prev</a><span>|</span><a href="#37059631">next</a><span>|</span><label class="collapse" for="c-37060156">[-]</label><label class="expand" for="c-37060156">[1 more]</label></div><br/><div class="children"><div class="content">This is simply stunning!</div><br/></div></div><div id="37059631" class="c"><input type="checkbox" id="c-37059631" checked=""/><div class="controls bullet"><span class="by">aboodman</span><span>|</span><a href="#37060156">prev</a><span>|</span><a href="#37059130">next</a><span>|</span><label class="collapse" for="c-37059631">[-]</label><label class="expand" for="c-37059631">[2 more]</label></div><br/><div class="children"><div class="content">Not sure what I would use this for, but it&#x27;s crazy clever.</div><br/><div id="37059647" class="c"><input type="checkbox" id="c-37059647" checked=""/><div class="controls bullet"><span class="by">aboodman</span><span>|</span><a href="#37059631">parent</a><span>|</span><a href="#37059130">next</a><span>|</span><label class="collapse" for="c-37059647">[-]</label><label class="expand" for="c-37059647">[1 more]</label></div><br/><div class="children"><div class="content">I guess it could potentially be used for any drag and drop interface? It&#x27;s such a different way to think of the problem, I&#x27;m going to have to try it for something just to wrap my head around it.</div><br/></div></div></div></div><div id="37059130" class="c"><input type="checkbox" id="c-37059130" checked=""/><div class="controls bullet"><span class="by">joeld42</span><span>|</span><a href="#37059631">prev</a><span>|</span><a href="#37059418">next</a><span>|</span><label class="collapse" for="c-37059130">[-]</label><label class="expand" for="c-37059130">[1 more]</label></div><br/><div class="children"><div class="content">this is pure magic. Amazing stuff.</div><br/></div></div><div id="37059418" class="c"><input type="checkbox" id="c-37059418" checked=""/><div class="controls bullet"><span class="by">devmor</span><span>|</span><a href="#37059130">prev</a><span>|</span><a href="#37059042">next</a><span>|</span><label class="collapse" for="c-37059418">[-]</label><label class="expand" for="c-37059418">[1 more]</label></div><br/><div class="children"><div class="content">This feels like witchcraft. I&#x27;m incredibly impressed.</div><br/></div></div><div id="37059042" class="c"><input type="checkbox" id="c-37059042" checked=""/><div class="controls bullet"><span class="by">arihantparsoya</span><span>|</span><a href="#37059418">prev</a><span>|</span><a href="#37059340">next</a><span>|</span><label class="collapse" for="c-37059042">[-]</label><label class="expand" for="c-37059042">[6 more]</label></div><br/><div class="children"><div class="content">How is this different than p5.js?</div><br/><div id="37059239" class="c"><input type="checkbox" id="c-37059239" checked=""/><div class="controls bullet"><span class="by">tkzed49</span><span>|</span><a href="#37059042">parent</a><span>|</span><a href="#37059107">next</a><span>|</span><label class="collapse" for="c-37059239">[-]</label><label class="expand" for="c-37059239">[1 more]</label></div><br/><div class="children"><div class="content">&quot;When someone interacts with the graphics, for example by trying to drag an element to a new position, g9 optimizes over the space of possible values for your data to find a set of values that comes closest to creating the change.&quot;<p>This clearly isn&#x27;t trying to be Processing. Obviously it&#x27;s not revolutionary in terms of being productive, but it&#x27;s a super cool concept and seems unique to me! The dragon example is particularly telling. You can grab any node and it tries to fit the fractal to wherever you move it.</div><br/></div></div><div id="37059107" class="c"><input type="checkbox" id="c-37059107" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#37059042">parent</a><span>|</span><a href="#37059239">prev</a><span>|</span><a href="#37059340">next</a><span>|</span><label class="collapse" for="c-37059107">[-]</label><label class="expand" for="c-37059107">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not familiar with p5. Can you pick an arbitrary rendered point of a p5 picture, and manipulate it?</div><br/><div id="37059221" class="c"><input type="checkbox" id="c-37059221" checked=""/><div class="controls bullet"><span class="by">qbasic_forever</span><span>|</span><a href="#37059042">root</a><span>|</span><a href="#37059107">parent</a><span>|</span><a href="#37059340">next</a><span>|</span><label class="collapse" for="c-37059221">[-]</label><label class="expand" for="c-37059221">[3 more]</label></div><br/><div class="children"><div class="content">Yes, it has full interactivity support: <a href="https:&#x2F;&#x2F;p5js.org&#x2F;learn&#x2F;interactivity.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;p5js.org&#x2F;learn&#x2F;interactivity.html</a><p>P5 has an imperative&#x2F;immediate mode style of graphics API so you have to code the result of your interactivity (moving a point, etc.) yourself. Something like three.js, which has a full scene graph for rendering and interactivity, might be a better choice if you want a lot of interactivity out of the box.<p>I&#x27;m kinda scratching my head at g9 as it seems to be a mish mash of scene graph that&#x27;s implicitly generated and imperative rendering APIs.  It&#x27;s not exactly clear to me why you&#x27;d want this mix except for very specific scenarios the author created support for with their implicit scene graph generation for interactivity.<p>In my mind you either want something that&#x27;s like three.js with a full scene graph style of rendering and interactivity, or a p5 style imperative API for both. This seems to be some in-between thing to scratch some itches.</div><br/><div id="37059936" class="c"><input type="checkbox" id="c-37059936" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#37059042">root</a><span>|</span><a href="#37059221">parent</a><span>|</span><a href="#37059340">next</a><span>|</span><label class="collapse" for="c-37059936">[-]</label><label class="expand" for="c-37059936">[2 more]</label></div><br/><div class="children"><div class="content">Have you tried dragging one of points?</div><br/><div id="37060165" class="c"><input type="checkbox" id="c-37060165" checked=""/><div class="controls bullet"><span class="by">qbasic_forever</span><span>|</span><a href="#37059042">root</a><span>|</span><a href="#37059936">parent</a><span>|</span><a href="#37059340">next</a><span>|</span><label class="collapse" for="c-37060165">[-]</label><label class="expand" for="c-37060165">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I understand what is happening here with interactivity.  Like I said I don&#x27;t follow why I want some implicit generation of an interactivity scene graph (i.e. what points are connected or move relative to other points) when I can just be explicit about the scene graph interactivity with other similar libraries.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37059340" class="c"><input type="checkbox" id="c-37059340" checked=""/><div class="controls bullet"><span class="by">jsunderland323</span><span>|</span><a href="#37059042">prev</a><span>|</span><label class="collapse" for="c-37059340">[-]</label><label class="expand" for="c-37059340">[1 more]</label></div><br/><div class="children"><div class="content">This is lovely</div><br/></div></div></div></div></div></div></div></body></html>