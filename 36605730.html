<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1688634067077" as="style"/><link rel="stylesheet" href="styles.css?v=1688634067077"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://functiontrace.com">FunctionTrace: Graphical Python Profiler</a> <span class="domain">(<a href="https://functiontrace.com">functiontrace.com</a>)</span></div><div class="subtext"><span>alex_hirner</span> | <span>30 comments</span></div><br/><div><div id="36612849" class="c"><input type="checkbox" id="c-36612849" checked=""/><div class="controls bullet"><span class="by">ragebol</span><span>|</span><a href="#36607485">next</a><span>|</span><label class="collapse" for="c-36612849">[-]</label><label class="expand" for="c-36612849">[1 more]</label></div><br/><div class="children"><div class="content">Functiontrace is awesome. It&#x27;s easier to use than most other Python profilers in my experience, with a great viewer through Firefox too.</div><br/></div></div><div id="36607485" class="c"><input type="checkbox" id="c-36607485" checked=""/><div class="controls bullet"><span class="by">bgirard</span><span>|</span><a href="#36612849">prev</a><span>|</span><a href="#36606685">next</a><span>|</span><label class="collapse" for="c-36607485">[-]</label><label class="expand" for="c-36607485">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s really cool to see the Firefox Profiler UI reused in new projects. I&#x27;m biased having worked on it, but it&#x27;s a very powerful visualization tool for complex multi-threaded performance data.</div><br/></div></div><div id="36606685" class="c"><input type="checkbox" id="c-36606685" checked=""/><div class="controls bullet"><span class="by">scottwick</span><span>|</span><a href="#36607485">prev</a><span>|</span><a href="#36606184">next</a><span>|</span><label class="collapse" for="c-36606685">[-]</label><label class="expand" for="c-36606685">[5 more]</label></div><br/><div class="children"><div class="content">Is there something about the actual profiler that differs from existing tools like pyinstrument [1] or py-spy [2]?  I know pyinstrument has various output options and I wonder if it could potentially output something readable by the Firefox Profiler tool.<p>[1] : <a href="https:&#x2F;&#x2F;github.com&#x2F;joerick&#x2F;pyinstrument">https:&#x2F;&#x2F;github.com&#x2F;joerick&#x2F;pyinstrument</a>
[2] : <a href="https:&#x2F;&#x2F;github.com&#x2F;benfred&#x2F;py-spy">https:&#x2F;&#x2F;github.com&#x2F;benfred&#x2F;py-spy</a></div><br/><div id="36606811" class="c"><input type="checkbox" id="c-36606811" checked=""/><div class="controls bullet"><span class="by">Veserv</span><span>|</span><a href="#36606685">parent</a><span>|</span><a href="#36606184">next</a><span>|</span><label class="collapse" for="c-36606811">[-]</label><label class="expand" for="c-36606811">[4 more]</label></div><br/><div class="children"><div class="content">It uses FEE (function entry&#x2F;exit) tracing so it generates a full execution trace of all functions called during your run like “History” [1], the C&#x2F;C++ tracing profiler it was based on.<p>You can then post-process that trivially to get low resolution aggregate information like normal statistical&#x2F;sampling profilers generate.<p>[1] <a href="https:&#x2F;&#x2F;www.ghs.com&#x2F;products&#x2F;MULTI_IDE.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.ghs.com&#x2F;products&#x2F;MULTI_IDE.html</a></div><br/><div id="36606892" class="c"><input type="checkbox" id="c-36606892" checked=""/><div class="controls bullet"><span class="by">kapilvt</span><span>|</span><a href="#36606685">root</a><span>|</span><a href="#36606811">parent</a><span>|</span><a href="#36606184">next</a><span>|</span><label class="collapse" for="c-36606892">[-]</label><label class="expand" for="c-36606892">[3 more]</label></div><br/><div class="children"><div class="content">compare to pyspy, which is out of process and reads process memory to reconstruct stack frames as a sampler, which means marginal overhead for the program, re safer to use in prod. it would be interesting to see a function entry&#x2F;exit on linux via epbf attached to USDT.</div><br/><div id="36607002" class="c"><input type="checkbox" id="c-36607002" checked=""/><div class="controls bullet"><span class="by">Veserv</span><span>|</span><a href="#36606685">root</a><span>|</span><a href="#36606892">parent</a><span>|</span><a href="#36606184">next</a><span>|</span><label class="collapse" for="c-36607002">[-]</label><label class="expand" for="c-36607002">[2 more]</label></div><br/><div class="children"><div class="content">They claim tracing overhead is &lt;10%. This is very believable, and actually frankly seems kind of high. You can do a full execution trace of a C program for a similar low double digit percent overhead and Python is usually on the order of 10x slower, so naively you would assume like 1% overhead.<p>I assume the hooks Python makes available are probably just kind of bad for this use case and they do not have access to a proper high speed log.</div><br/><div id="36607105" class="c"><input type="checkbox" id="c-36607105" checked=""/><div class="controls bullet"><span class="by">teh_matt</span><span>|</span><a href="#36606685">root</a><span>|</span><a href="#36607002">parent</a><span>|</span><a href="#36606184">next</a><span>|</span><label class="collapse" for="c-36607105">[-]</label><label class="expand" for="c-36607105">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it tends to be low single digit percents, but you can get some pessimal behavior if you have enough tiny functions because the overhead of what Cpython exposes starts becoming large. Our &quot;benchmark&quot; where the 10% comes from is tensorflow, which is overwhelmingly tiny functions and no sustained io&#x2F;individual functions.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36606184" class="c"><input type="checkbox" id="c-36606184" checked=""/><div class="controls bullet"><span class="by">kijeda</span><span>|</span><a href="#36606685">prev</a><span>|</span><a href="#36606461">next</a><span>|</span><label class="collapse" for="c-36606184">[-]</label><label class="expand" for="c-36606184">[5 more]</label></div><br/><div class="children"><div class="content">The license is a bit perplexing at <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;mbryant&#x2F;functiontrace&#x2F;-&#x2F;blob&#x2F;master&#x2F;LICENSE.md" rel="nofollow noreferrer">https:&#x2F;&#x2F;gitlab.com&#x2F;mbryant&#x2F;functiontrace&#x2F;-&#x2F;blob&#x2F;master&#x2F;LICEN...</a><p>It says it is licensed under Apache License 2.0, but also under &quot;Prosperity Public License 3.0.0&quot; which limits use for a commercial purpose to 30 days.</div><br/><div id="36606234" class="c"><input type="checkbox" id="c-36606234" checked=""/><div class="controls bullet"><span class="by">teh_matt</span><span>|</span><a href="#36606184">parent</a><span>|</span><a href="#36606381">next</a><span>|</span><label class="collapse" for="c-36606234">[-]</label><label class="expand" for="c-36606234">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure why the Gitlab UI shows Apache 2.0, but PPL3.0 is the correct license (and is in LICENSE.md).</div><br/></div></div><div id="36606381" class="c"><input type="checkbox" id="c-36606381" checked=""/><div class="controls bullet"><span class="by">xg15</span><span>|</span><a href="#36606184">parent</a><span>|</span><a href="#36606234">prev</a><span>|</span><a href="#36606461">next</a><span>|</span><label class="collapse" for="c-36606381">[-]</label><label class="expand" for="c-36606381">[3 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see any pricing page or anything. So if I&#x27;m a business and after the 30 days decide I&#x27;m sold on it, what exactly do I do?</div><br/><div id="36606869" class="c"><input type="checkbox" id="c-36606869" checked=""/><div class="controls bullet"><span class="by">zorgmonkey</span><span>|</span><a href="#36606184">root</a><span>|</span><a href="#36606381">parent</a><span>|</span><a href="#36606461">next</a><span>|</span><label class="collapse" for="c-36606869">[-]</label><label class="expand" for="c-36606869">[2 more]</label></div><br/><div class="children"><div class="content">The website (<a href="https:&#x2F;&#x2F;functiontrace.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;functiontrace.com&#x2F;</a>) mentions that dual licensing is available at the bottom of the page, so my best guess would be that you need to contact the author for pricing details.</div><br/><div id="36606972" class="c"><input type="checkbox" id="c-36606972" checked=""/><div class="controls bullet"><span class="by">xg15</span><span>|</span><a href="#36606184">root</a><span>|</span><a href="#36606869">parent</a><span>|</span><a href="#36606461">next</a><span>|</span><label class="collapse" for="c-36606972">[-]</label><label class="expand" for="c-36606972">[1 more]</label></div><br/><div class="children"><div class="content">ah, that makes sense. Thanks!</div><br/></div></div></div></div></div></div></div></div><div id="36606461" class="c"><input type="checkbox" id="c-36606461" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#36606184">prev</a><span>|</span><a href="#36606643">next</a><span>|</span><label class="collapse" for="c-36606461">[-]</label><label class="expand" for="c-36606461">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>Building FunctionTrace, a graphical Python profiler</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24175395">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24175395</a> - Aug 2020 (4 comments)</div><br/></div></div><div id="36606643" class="c"><input type="checkbox" id="c-36606643" checked=""/><div class="controls bullet"><span class="by">kapilvt</span><span>|</span><a href="#36606461">prev</a><span>|</span><a href="#36609838">next</a><span>|</span><label class="collapse" for="c-36606643">[-]</label><label class="expand" for="c-36606643">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;benfred&#x2F;py-spy">https:&#x2F;&#x2F;github.com&#x2F;benfred&#x2F;py-spy</a> is also really nice, and has an actual oss license.</div><br/></div></div><div id="36607029" class="c"><input type="checkbox" id="c-36607029" checked=""/><div class="controls bullet"><span class="by">BeefySwain</span><span>|</span><a href="#36609838">prev</a><span>|</span><a href="#36611735">next</a><span>|</span><label class="collapse" for="c-36607029">[-]</label><label class="expand" for="c-36607029">[2 more]</label></div><br/><div class="children"><div class="content">If I&#x27;m understanding this correctly you need to use Cargo to install part of this. That makes it a lot harder to start using as someone in the Python ecosystem (who is not also in the Rust ecosystem)</div><br/><div id="36607075" class="c"><input type="checkbox" id="c-36607075" checked=""/><div class="controls bullet"><span class="by">tempest_</span><span>|</span><a href="#36607029">parent</a><span>|</span><a href="#36611735">next</a><span>|</span><label class="collapse" for="c-36607075">[-]</label><label class="expand" for="c-36607075">[1 more]</label></div><br/><div class="children"><div class="content">Python packaging is painful.<p>They will probably get a build system going so wheels can be used eventually.</div><br/></div></div></div></div><div id="36611735" class="c"><input type="checkbox" id="c-36611735" checked=""/><div class="controls bullet"><span class="by">waydegg</span><span>|</span><a href="#36607029">prev</a><span>|</span><a href="#36606095">next</a><span>|</span><label class="collapse" for="c-36611735">[-]</label><label class="expand" for="c-36611735">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a shame there isn&#x27;t any support for coroutines. I&#x27;m really hoping some profiling tool that comes along to handle them + threads&#x2F;processes.</div><br/></div></div><div id="36606095" class="c"><input type="checkbox" id="c-36606095" checked=""/><div class="controls bullet"><span class="by">not-my-account</span><span>|</span><a href="#36611735">prev</a><span>|</span><a href="#36608147">next</a><span>|</span><label class="collapse" for="c-36606095">[-]</label><label class="expand" for="c-36606095">[1 more]</label></div><br/><div class="children"><div class="content">Functiontrace is very good! I’ve used it a lot for hammering down bottlenecks, and it is easy to drop in to a script</div><br/></div></div><div id="36608147" class="c"><input type="checkbox" id="c-36608147" checked=""/><div class="controls bullet"><span class="by">megaserg</span><span>|</span><a href="#36606095">prev</a><span>|</span><a href="#36606168">next</a><span>|</span><label class="collapse" for="c-36608147">[-]</label><label class="expand" for="c-36608147">[1 more]</label></div><br/><div class="children"><div class="content">Looks like it supports native stack as well, great! Most bottlenecks in seriously performance-sensitive programs are in the native code, which makes built-in tools like cProfile hardly useful.</div><br/></div></div><div id="36606168" class="c"><input type="checkbox" id="c-36606168" checked=""/><div class="controls bullet"><span class="by">Dork1234</span><span>|</span><a href="#36608147">prev</a><span>|</span><a href="#36608806">next</a><span>|</span><label class="collapse" for="c-36606168">[-]</label><label class="expand" for="c-36606168">[3 more]</label></div><br/><div class="children"><div class="content">Is this something that could be made to work with MicroPython?</div><br/><div id="36606257" class="c"><input type="checkbox" id="c-36606257" checked=""/><div class="controls bullet"><span class="by">teh_matt</span><span>|</span><a href="#36606168">parent</a><span>|</span><a href="#36611618">next</a><span>|</span><label class="collapse" for="c-36606257">[-]</label><label class="expand" for="c-36606257">[1 more]</label></div><br/><div class="children"><div class="content">Most of the work is done via a C extension, which I suspect would be incompatible with MicroPython. The same techniques are presumably applicable, depending on how many interesting hooks MicroPython exposes.</div><br/></div></div><div id="36611618" class="c"><input type="checkbox" id="c-36611618" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#36606168">parent</a><span>|</span><a href="#36606257">prev</a><span>|</span><a href="#36608806">next</a><span>|</span><label class="collapse" for="c-36611618">[-]</label><label class="expand" for="c-36611618">[1 more]</label></div><br/><div class="children"><div class="content">Came here to ask the same thing.</div><br/></div></div></div></div><div id="36608806" class="c"><input type="checkbox" id="c-36608806" checked=""/><div class="controls bullet"><span class="by">actinium226</span><span>|</span><a href="#36606168">prev</a><span>|</span><a href="#36607092">next</a><span>|</span><label class="collapse" for="c-36608806">[-]</label><label class="expand" for="c-36608806">[1 more]</label></div><br/><div class="children"><div class="content">How does this compare to snakeviz?</div><br/></div></div><div id="36607092" class="c"><input type="checkbox" id="c-36607092" checked=""/><div class="controls bullet"><span class="by">jzelinskie</span><span>|</span><a href="#36608806">prev</a><span>|</span><a href="#36607463">next</a><span>|</span><label class="collapse" for="c-36607092">[-]</label><label class="expand" for="c-36607092">[3 more]</label></div><br/><div class="children"><div class="content">Whatever happened to scalene?</div><br/><div id="36607269" class="c"><input type="checkbox" id="c-36607269" checked=""/><div class="controls bullet"><span class="by">TkTech</span><span>|</span><a href="#36607092">parent</a><span>|</span><a href="#36607463">next</a><span>|</span><label class="collapse" for="c-36607269">[-]</label><label class="expand" for="c-36607269">[2 more]</label></div><br/><div class="children"><div class="content">Nothing at all, I was using it just fine earlier today :)</div><br/><div id="36613147" class="c"><input type="checkbox" id="c-36613147" checked=""/><div class="controls bullet"><span class="by">SiempreViernes</span><span>|</span><a href="#36607092">root</a><span>|</span><a href="#36607269">parent</a><span>|</span><a href="#36607463">next</a><span>|</span><label class="collapse" for="c-36613147">[-]</label><label class="expand" for="c-36613147">[1 more]</label></div><br/><div class="children"><div class="content">How the heck do you use the fancy web interface?<p>Whenever I go to the demo it just loads forever :(</div><br/></div></div></div></div></div></div><div id="36607463" class="c"><input type="checkbox" id="c-36607463" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36607092">prev</a><span>|</span><a href="#36608089">next</a><span>|</span><label class="collapse" for="c-36607463">[-]</label><label class="expand" for="c-36607463">[1 more]</label></div><br/><div class="children"><div class="content">looks great. wish jetbrains implemented this</div><br/></div></div><div id="36608089" class="c"><input type="checkbox" id="c-36608089" checked=""/><div class="controls bullet"><span class="by">MistaIA</span><span>|</span><a href="#36607463">prev</a><span>|</span><label class="collapse" for="c-36608089">[-]</label><label class="expand" for="c-36608089">[1 more]</label></div><br/><div class="children"><div class="content">How about Jupiter Notebooks?</div><br/></div></div></div></div></div></div></div></body></html>