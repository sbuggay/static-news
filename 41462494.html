<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725613277131" as="style"/><link rel="stylesheet" href="styles.css?v=1725613277131"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.gridbugs.org/frustrating-interactions-with-the-ocaml-ecosystem-while-developing-a-synthesizer-library/">Frustrations with the OCaml ecosystem while developing a synthesizer library</a>Â <span class="domain">(<a href="https://www.gridbugs.org">www.gridbugs.org</a>)</span></div><div class="subtext"><span>stevebox</span> | <span>8 comments</span></div><br/><div><div id="41464079" class="c"><input type="checkbox" id="c-41464079" checked=""/><div class="controls bullet"><span class="by">rwmj</span><span>|</span><a href="#41462994">next</a><span>|</span><label class="collapse" for="c-41464079">[-]</label><label class="expand" for="c-41464079">[2 more]</label></div><br/><div class="children"><div class="content">I think the author&#x27;s problem was using dune at all.  It&#x27;s a very weird and obscure tool, and not necessary, you can just run ocamlopt commands from existing build systems (like autotools, meson etc).<p>I&#x27;ve used OCaml in production for 2 decades without ever needing to use dune, opam etc.</div><br/><div id="41464218" class="c"><input type="checkbox" id="c-41464218" checked=""/><div class="controls bullet"><span class="by">toolslive</span><span>|</span><a href="#41464079">parent</a><span>|</span><a href="#41462994">next</a><span>|</span><label class="collapse" for="c-41464218">[-]</label><label class="expand" for="c-41464218">[1 more]</label></div><br/><div class="children"><div class="content">Whenever I ran into trouble (up until ~2019) with dune I would first get it to work with (ocamlfind) ocamlopt, look what the lowest level needed to look like, and then reverse engineer to make dune spit out the same thing. I would hope things have improved since</div><br/></div></div></div></div><div id="41462994" class="c"><input type="checkbox" id="c-41462994" checked=""/><div class="controls bullet"><span class="by">eredengrin</span><span>|</span><a href="#41464079">prev</a><span>|</span><a href="#41464065">next</a><span>|</span><label class="collapse" for="c-41462994">[-]</label><label class="expand" for="c-41462994">[3 more]</label></div><br/><div class="children"><div class="content">Sounds very relatable coming from c++. Managing dependencies is generally not too fun, it&#x27;s very easy to waste a whole day (or more) fighting with the build system&#x2F;package manager&#x2F;linker. I like to think it&#x27;s the tools but then you see a really smart c++ developer and that excuse starts to sound a little weak. It seems c and c++ attract a relatively high average percentage of developers who are willing to go learn the ins and outs of build systems and how compilers and libraries all interact.<p>I&#x27;m curious about the happy path of ocaml vs c++, I&#x27;m not sure how much of a happy path there even is in c++. I guess if every dependency uses the same build system as the main project, maybe that&#x27;s a happy path? Hard to call cmake a happy path though, more so just a tolerable path. Conan sounds nice in theory but my experiences do not match the hopes I had. I remember golang dependencies not being too bad when I tried it, really need to mess around with rust a bit to see what that&#x27;s like too since I hear so much good about it.</div><br/><div id="41463848" class="c"><input type="checkbox" id="c-41463848" checked=""/><div class="controls bullet"><span class="by">myworkinisgood</span><span>|</span><a href="#41462994">parent</a><span>|</span><a href="#41463050">next</a><span>|</span><label class="collapse" for="c-41463848">[-]</label><label class="expand" for="c-41463848">[1 more]</label></div><br/><div class="children"><div class="content">The biggest problem in C++ always comes from the fact that the there&#x27;s no underlying stable ABI to take care of everything (and there cannot be due to performance reasons), and that build options are so important and affect the ABI. Most C++ projects are inherently multi-language system and bring the complexity of all languages to their build systems.</div><br/></div></div><div id="41463050" class="c"><input type="checkbox" id="c-41463050" checked=""/><div class="controls bullet"><span class="by">yawaramin</span><span>|</span><a href="#41462994">parent</a><span>|</span><a href="#41463848">prev</a><span>|</span><a href="#41464065">next</a><span>|</span><label class="collapse" for="c-41463050">[-]</label><label class="expand" for="c-41463050">[1 more]</label></div><br/><div class="children"><div class="content">The article mentions this a bit, but the Happy Path in OCaml is pretty nice. I typically don&#x27;t run into any of these issues because I&#x27;m not trying to use C&#x2F;C++&#x2F;Rust libraries in esoteric ways. I&#x27;ve successfully used binding libraries for OpenSSL, libcurl, SQLite, and Postgres. It&#x27;s fairly simple to get run-of-the-mill C libraries working in OCaml.</div><br/></div></div></div></div><div id="41464065" class="c"><input type="checkbox" id="c-41464065" checked=""/><div class="controls bullet"><span class="by">MaxGripe</span><span>|</span><a href="#41462994">prev</a><span>|</span><a href="#41463074">next</a><span>|</span><label class="collapse" for="c-41464065">[-]</label><label class="expand" for="c-41464065">[1 more]</label></div><br/><div class="children"><div class="content">Sounds very relatable coming from F#.</div><br/></div></div><div id="41463074" class="c"><input type="checkbox" id="c-41463074" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#41464065">prev</a><span>|</span><label class="collapse" for="c-41463074">[-]</label><label class="expand" for="c-41463074">[1 more]</label></div><br/><div class="children"><div class="content">Not really with OCaml so much as with using native libraries from OCaml. Which is an awkward thing in many languages, especially if you want it to be cross-platform as this author does.</div><br/></div></div></div></div></div></div></div></body></html>