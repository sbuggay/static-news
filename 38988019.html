<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705222856642" as="style"/><link rel="stylesheet" href="styles.css?v=1705222856642"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/every-day-things/citadel">Citadel, a Calibre-compatible eBook management app</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>phildenhoff</span> | <span>19 comments</span></div><br/><div><div id="38988046" class="c"><input type="checkbox" id="c-38988046" checked=""/><div class="controls bullet"><span class="by">phildenhoff</span><span>|</span><a href="#38988420">next</a><span>|</span><label class="collapse" for="c-38988046">[-]</label><label class="expand" for="c-38988046">[8 more]</label></div><br/><div class="children"><div class="content">Hey folks! This winter I&#x27;ve been building Citadel to scratch my itch of managing ebooks without using Calibre. Calibre is incredibly powerful, but it&#x27;s slow and awkward to use.<p>I dreamed of writing a native app (and originally tried this in Swift), but ran into issues building the UI. Plus, whatever I built would only work on macOS. I started writing Citadel using Tauri (Svelte on the frontend + Rust on the backend) to have a cross-platform desktop app. Plus, Citadel supports running in a headless &#x2F; webbrowser mode. You can self-host a Citadel server that manages your library, and connect to it from anywhere with the web.<p>This is SUPER early software. Honestly, I&#x27;m a bit embarrassed to post it here — but I wanted folks to know that I&#x27;m building a tool to replace Calibre. If you&#x27;d like to help build it, I&#x27;d love the help! If you just want to follow the journey, please do!</div><br/><div id="38988062" class="c"><input type="checkbox" id="c-38988062" checked=""/><div class="controls bullet"><span class="by">phildenhoff</span><span>|</span><a href="#38988046">parent</a><span>|</span><a href="#38988383">next</a><span>|</span><label class="collapse" for="c-38988062">[-]</label><label class="expand" for="c-38988062">[3 more]</label></div><br/><div class="children"><div class="content">As an aside, some folks may ask &quot;why write a new app instead of contributing to Calibre Web or a similar project?&quot; It&#x27;s a good question! Because I wanted to :)<p>Right now, this is a hobby project — I&#x27;m more interested in having fun building (rough!!) software than worried about extending existing projects. Plus, with how Citadel is designed to be backwards compatible with Calibre, you can continue to use Calibre Web.<p>As well, I&#x27;ve organized the backend so that all the Calibre-facing code is its own library, which (in the future!) others can use for their own projects. A Calibre library CLI, anyone?</div><br/><div id="38988374" class="c"><input type="checkbox" id="c-38988374" checked=""/><div class="controls bullet"><span class="by">inhumantsar</span><span>|</span><a href="#38988046">root</a><span>|</span><a href="#38988062">parent</a><span>|</span><a href="#38988367">next</a><span>|</span><label class="collapse" for="c-38988374">[-]</label><label class="expand" for="c-38988374">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;why write a new app&quot;<p>I&#x27;d imagine spearheading a ground up rewrite of their UI would be a lot more work too.<p>thanks for taking this on! calibre is a pita for me to use, and I know what I&#x27;m doing. makes it impossible to recommend to anyone, whether they&#x27;re my grandparents or asavvy tech person.</div><br/></div></div><div id="38988367" class="c"><input type="checkbox" id="c-38988367" checked=""/><div class="controls bullet"><span class="by">michaelmrose</span><span>|</span><a href="#38988046">root</a><span>|</span><a href="#38988062">parent</a><span>|</span><a href="#38988374">prev</a><span>|</span><a href="#38988383">next</a><span>|</span><label class="collapse" for="c-38988367">[-]</label><label class="expand" for="c-38988367">[1 more]</label></div><br/><div class="children"><div class="content">&gt; A Calibre library CLI, anyone?<p>A nice idea<p>I wrote a remarkably hacky cli for that rdr. Basically to<p>- open the last book opened with the CLI<p>- select from the last n books so opened<p>- return the results of a query and narrow with rofi<p>I figure this covers a huge portion of my normal usage.<p>Pushing books to device would be useful too.</div><br/></div></div></div></div><div id="38988383" class="c"><input type="checkbox" id="c-38988383" checked=""/><div class="controls bullet"><span class="by">ssivark</span><span>|</span><a href="#38988046">parent</a><span>|</span><a href="#38988062">prev</a><span>|</span><a href="#38988091">next</a><span>|</span><label class="collapse" for="c-38988383">[-]</label><label class="expand" for="c-38988383">[3 more]</label></div><br/><div class="children"><div class="content">Kudos on shipping your hobby project! Looks slick. And a calibre cli would definitely be appreciated -- I hate having to click five levels deep in a dozen menus :P<p>If the &quot;reader&quot; and &quot;editor&quot; aspects are explicit non-goals (fair enough), then what actually does Citadel do for users? Is it mainly to be a portal to view&#x2F;sort books and click on them? Is there a roadmap where you envision more features?</div><br/><div id="38988688" class="c"><input type="checkbox" id="c-38988688" checked=""/><div class="controls bullet"><span class="by">timenova</span><span>|</span><a href="#38988046">root</a><span>|</span><a href="#38988383">parent</a><span>|</span><a href="#38988559">next</a><span>|</span><label class="collapse" for="c-38988688">[-]</label><label class="expand" for="c-38988688">[1 more]</label></div><br/><div class="children"><div class="content">Hey I&#x27;m guessing by Calibre CLI you mean to do something like manage your book collection, but if all you want to do is convert books, Calibre does come with a CLI called `ebook-convert`. It works with many file formats like epub, pdf, azw3, mobi and more.<p>Example:
`ebook-convert file.epub file.azw3`</div><br/></div></div><div id="38988559" class="c"><input type="checkbox" id="c-38988559" checked=""/><div class="controls bullet"><span class="by">phildenhoff</span><span>|</span><a href="#38988046">root</a><span>|</span><a href="#38988383">parent</a><span>|</span><a href="#38988688">prev</a><span>|</span><a href="#38988091">next</a><span>|</span><label class="collapse" for="c-38988559">[-]</label><label class="expand" for="c-38988559">[1 more]</label></div><br/><div class="children"><div class="content">Good question! My main use for Calibre has been to collect my epubs (mostly) in one place, and occasionally sync them to my ereader. When I add books, I need to grab metadata for the book like title, ISBN, etc.<p>Citadel will (and does) support editing metadata for books — titles, authors, (in future) tags, custom columns. That’s certain. Syncing to devices will come too, in time, as will downloading metadata from online sources.<p>But what I don’t plan on adding is a way to edit book content or an embedded ereader. There are lots of great ereader apps &amp; devices already, and I don’t think epub editing is commonly used (compared to keeping a collection).<p>While I don’t have a road map, I’m always open to feedback and ideas!<p>(Edit: other features like format conversion and stripping DRM are likely to happen too. Ideally with crates or plugins, to make it a bit easier to extend)</div><br/></div></div></div></div><div id="38988091" class="c"><input type="checkbox" id="c-38988091" checked=""/><div class="controls bullet"><span class="by">phildenhoff</span><span>|</span><a href="#38988046">parent</a><span>|</span><a href="#38988383">prev</a><span>|</span><a href="#38988420">next</a><span>|</span><label class="collapse" for="c-38988091">[-]</label><label class="expand" for="c-38988091">[1 more]</label></div><br/><div class="children"><div class="content">Quick post about Citadel <a href="https:&#x2F;&#x2F;denhoff.ca&#x2F;posts&#x2F;replacing-calibre" rel="nofollow">https:&#x2F;&#x2F;denhoff.ca&#x2F;posts&#x2F;replacing-calibre</a></div><br/></div></div></div></div><div id="38988420" class="c"><input type="checkbox" id="c-38988420" checked=""/><div class="controls bullet"><span class="by">asimpletune</span><span>|</span><a href="#38988046">prev</a><span>|</span><a href="#38988476">next</a><span>|</span><label class="collapse" for="c-38988420">[-]</label><label class="expand" for="c-38988420">[4 more]</label></div><br/><div class="children"><div class="content">Sometimes I feel that if Calibre just looked better people would realize how amazing it is. It’s honestly not that bad (I actually love it) but I think people can’t get past the aesthetic.</div><br/><div id="38988512" class="c"><input type="checkbox" id="c-38988512" checked=""/><div class="controls bullet"><span class="by">smivan</span><span>|</span><a href="#38988420">parent</a><span>|</span><a href="#38988433">next</a><span>|</span><label class="collapse" for="c-38988512">[-]</label><label class="expand" for="c-38988512">[2 more]</label></div><br/><div class="children"><div class="content">The challenge that I face is Calibre absolutely craters after 20,000+ ebooks.<p>I understand that most folks probably have 10-300 books, but in my case I have some large libraries I tried to use with Calibre, and it just absolutely DIES.<p>The steadfast decision to exclusively use SQLite doesn&#x27;t help. I opened a PR back in 2016 or so, but the maintainer was quite enthusiastically opposed to changing the DB layer or making it pluggable.</div><br/><div id="38988699" class="c"><input type="checkbox" id="c-38988699" checked=""/><div class="controls bullet"><span class="by">nekopa</span><span>|</span><a href="#38988420">root</a><span>|</span><a href="#38988512">parent</a><span>|</span><a href="#38988433">next</a><span>|</span><label class="collapse" for="c-38988699">[-]</label><label class="expand" for="c-38988699">[1 more]</label></div><br/><div class="children"><div class="content">What happens after 20K books? I am at about 13K books, and I haven&#x27;t run into any issues yet. I make extensive use of virtual libraries in Calibre, and tags for organization.</div><br/></div></div></div></div><div id="38988433" class="c"><input type="checkbox" id="c-38988433" checked=""/><div class="controls bullet"><span class="by">RadiozRadioz</span><span>|</span><a href="#38988420">parent</a><span>|</span><a href="#38988512">prev</a><span>|</span><a href="#38988476">next</a><span>|</span><label class="collapse" for="c-38988433">[-]</label><label class="expand" for="c-38988433">[1 more]</label></div><br/><div class="children"><div class="content">Agreed. Unfortunately rewriting the Calibre UI is probably more work than maintaining Python 2.</div><br/></div></div></div></div><div id="38988476" class="c"><input type="checkbox" id="c-38988476" checked=""/><div class="controls bullet"><span class="by">mvelbaum</span><span>|</span><a href="#38988420">prev</a><span>|</span><a href="#38988391">next</a><span>|</span><label class="collapse" for="c-38988476">[-]</label><label class="expand" for="c-38988476">[2 more]</label></div><br/><div class="children"><div class="content">Does this support custom metadata? For example I have a custom field I call &quot;Folders&quot; to hierarchically label&#x2F;organize my eBooks. Would be nice to be able to browse through that or search under a specific label&#x2F;folder.</div><br/><div id="38988514" class="c"><input type="checkbox" id="c-38988514" checked=""/><div class="controls bullet"><span class="by">phildenhoff</span><span>|</span><a href="#38988476">parent</a><span>|</span><a href="#38988391">next</a><span>|</span><label class="collapse" for="c-38988514">[-]</label><label class="expand" for="c-38988514">[1 more]</label></div><br/><div class="children"><div class="content">Not yet :) Custom Columns (if thats what you mean!) are on the todo list though — I have a couple in my library, one for tracking Read state and another for tracking word count.<p>Filtering is only on author &amp; title for now. I’m looking to rewrite filtering once I have support in libcalibre for more data, so that you can easily filter by custom columns.<p>How do you search &#x2F; organize your data in Calibre now? What would be ideal?</div><br/></div></div></div></div><div id="38988391" class="c"><input type="checkbox" id="c-38988391" checked=""/><div class="controls bullet"><span class="by">pathartl</span><span>|</span><a href="#38988476">prev</a><span>|</span><a href="#38988293">next</a><span>|</span><label class="collapse" for="c-38988391">[-]</label><label class="expand" for="c-38988391">[3 more]</label></div><br/><div class="children"><div class="content">Love the project. Calibre is absolutely an amazing tool, but it never really adapted into the whole self-hosted era. I really like the focus on maintaining compatibility with the Calibre library. Personally the features I use the most are the folder watching and automatic book conversion.<p>Now if there was support for multiple Calibre libraries...</div><br/><div id="38988401" class="c"><input type="checkbox" id="c-38988401" checked=""/><div class="controls bullet"><span class="by">phildenhoff</span><span>|</span><a href="#38988391">parent</a><span>|</span><a href="#38988293">next</a><span>|</span><label class="collapse" for="c-38988401">[-]</label><label class="expand" for="c-38988401">[2 more]</label></div><br/><div class="children"><div class="content">Do you mean viewing multiple libraries at once? What would be the benefit of that over having one library with saved filter views?</div><br/><div id="38988493" class="c"><input type="checkbox" id="c-38988493" checked=""/><div class="controls bullet"><span class="by">walthamstow</span><span>|</span><a href="#38988391">root</a><span>|</span><a href="#38988401">parent</a><span>|</span><a href="#38988293">next</a><span>|</span><label class="collapse" for="c-38988493">[-]</label><label class="expand" for="c-38988493">[1 more]</label></div><br/><div class="children"><div class="content">I did once have segregated Calibre libraries. One for cookbooks, one for technical books in PDF and one for &#x27;regular&#x27; books like novels and nonfiction in EPUB.<p>The only reason I had it like that was so I could sync just the cookbook files to another device via Syncthing, or only the technical books. It didn&#x27;t last, it was a pita to manager (three different auto-add folders) and I reunified them after 9 months or so.</div><br/></div></div></div></div></div></div><div id="38988293" class="c"><input type="checkbox" id="c-38988293" checked=""/><div class="controls bullet"><span class="by">stop50</span><span>|</span><a href="#38988391">prev</a><span>|</span><label class="collapse" for="c-38988293">[-]</label><label class="expand" for="c-38988293">[1 more]</label></div><br/><div class="children"><div class="content">Interesting</div><br/></div></div></div></div></div></div></div></body></html>