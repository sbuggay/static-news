<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1691571664234" as="style"/><link rel="stylesheet" href="styles.css?v=1691571664234"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.briankitano.com/llama-from-scratch/">Llama from Scratch (or how to implement a paper without crying)</a>Â <span class="domain">(<a href="https://blog.briankitano.com">blog.briankitano.com</a>)</span></div><div class="subtext"><span>bkitano19</span> | <span>10 comments</span></div><br/><div><div id="37059945" class="c"><input type="checkbox" id="c-37059945" checked=""/><div class="controls bullet"><span class="by">GistNoesis</span><span>|</span><a href="#37060217">next</a><span>|</span><label class="collapse" for="c-37059945">[-]</label><label class="expand" for="c-37059945">[2 more]</label></div><br/><div class="children"><div class="content">There is a bug : While in SwiGLU beta is a learnable parameter, in the reference paper the feed forward network set beta as a constant FFnSwiGLU = Swish1...
<a href="https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2002.05202.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2002.05202.pdf</a> (Eq 6.)<p>In official llama implementation : the constant beta has been removed
<a href="https:&#x2F;&#x2F;github.com&#x2F;facebookresearch&#x2F;llama&#x2F;blob&#x2F;main&#x2F;llama&#x2F;model.py#L212">https:&#x2F;&#x2F;github.com&#x2F;facebookresearch&#x2F;llama&#x2F;blob&#x2F;main&#x2F;llama&#x2F;mo...</a><p>In the blog log we observe various lines &quot; feedforward.1.beta&#x27;, 0.0 &quot; which mean that during the training the beta has degenerated into 0 whereas it should be constant 1.</div><br/><div id="37059988" class="c"><input type="checkbox" id="c-37059988" checked=""/><div class="controls bullet"><span class="by">bkitano19</span><span>|</span><a href="#37059945">parent</a><span>|</span><a href="#37060217">next</a><span>|</span><label class="collapse" for="c-37059988">[-]</label><label class="expand" for="c-37059988">[1 more]</label></div><br/><div class="children"><div class="content">Wow, great catch. I will update this in the morning!</div><br/></div></div></div></div><div id="37060217" class="c"><input type="checkbox" id="c-37060217" checked=""/><div class="controls bullet"><span class="by">fstrazzante</span><span>|</span><a href="#37059945">prev</a><span>|</span><a href="#37059745">next</a><span>|</span><label class="collapse" for="c-37060217">[-]</label><label class="expand" for="c-37060217">[1 more]</label></div><br/><div class="children"><div class="content">love it! great content! both how to read a paper and of course the content of this specific paper! and I recommend as well the Karpathy&#x27;s Makemore series!</div><br/></div></div><div id="37059745" class="c"><input type="checkbox" id="c-37059745" checked=""/><div class="controls bullet"><span class="by">bkitano19</span><span>|</span><a href="#37060217">prev</a><span>|</span><a href="#37060130">next</a><span>|</span><label class="collapse" for="c-37059745">[-]</label><label class="expand" for="c-37059745">[1 more]</label></div><br/><div class="children"><div class="content">edit: bearblog getting ddos&#x27;d, here&#x27;s the repo <a href="https:&#x2F;&#x2F;github.com&#x2F;bkitano&#x2F;llama-from-scratch">https:&#x2F;&#x2F;github.com&#x2F;bkitano&#x2F;llama-from-scratch</a></div><br/></div></div><div id="37060130" class="c"><input type="checkbox" id="c-37060130" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#37059745">prev</a><span>|</span><a href="#37060086">next</a><span>|</span><label class="collapse" for="c-37060130">[-]</label><label class="expand" for="c-37060130">[1 more]</label></div><br/><div class="children"><div class="content">Llama is one of the nicer papers to read IMO.</div><br/></div></div><div id="37060086" class="c"><input type="checkbox" id="c-37060086" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#37060130">prev</a><span>|</span><a href="#37059714">next</a><span>|</span><label class="collapse" for="c-37060086">[-]</label><label class="expand" for="c-37060086">[1 more]</label></div><br/><div class="children"><div class="content">This is amazing. Thanks for sharing!</div><br/></div></div><div id="37059714" class="c"><input type="checkbox" id="c-37059714" checked=""/><div class="controls bullet"><span class="by">zackcodesai</span><span>|</span><a href="#37060086">prev</a><span>|</span><label class="collapse" for="c-37059714">[-]</label><label class="expand" for="c-37059714">[3 more]</label></div><br/><div class="children"><div class="content">Looks like we DDoS&#x27;d the server...</div><br/><div id="37059739" class="c"><input type="checkbox" id="c-37059739" checked=""/><div class="controls bullet"><span class="by">bkitano19</span><span>|</span><a href="#37059714">parent</a><span>|</span><label class="collapse" for="c-37059739">[-]</label><label class="expand" for="c-37059739">[2 more]</label></div><br/><div class="children"><div class="content">working on it hehe</div><br/><div id="37060072" class="c"><input type="checkbox" id="c-37060072" checked=""/><div class="controls bullet"><span class="by">kristopolous</span><span>|</span><a href="#37059714">root</a><span>|</span><a href="#37059739">parent</a><span>|</span><label class="collapse" for="c-37060072">[-]</label><label class="expand" for="c-37060072">[1 more]</label></div><br/><div class="children"><div class="content">found a typo. search the body for &quot;isntead&quot; ...</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>