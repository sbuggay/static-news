<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1722869859016" as="style"/><link rel="stylesheet" href="styles.css?v=1722869859016"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/organicmaps/organicmaps/blob/master/docs/EXPERIMENTAL_PUBLIC_TRANSPORT_SUPPORT.md">Organic maps: Experimental feed based public transport mapping</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>anewhnaccount3</span> | <span>21 comments</span></div><br/><div><div id="41154026" class="c"><input type="checkbox" id="c-41154026" checked=""/><div class="controls bullet"><span class="by">maelito</span><span>|</span><a href="#41154924">next</a><span>|</span><label class="collapse" for="c-41154026">[-]</label><label class="expand" for="c-41154026">[4 more]</label></div><br/><div class="children"><div class="content">The document doesn&#x27;t say which routing engine is used.<p>I&#x27;m currently integrating Motis on a similar initiative (a french open source Web map, <a href="https:&#x2F;&#x2F;cartes.app" rel="nofollow">https:&#x2F;&#x2F;cartes.app</a>). More is needed to provide a full transit map experience, but Motis does the essential part.<p>We&#x27;re not far from transit calculation as an open source commodity in countries that publish their transit data as GTFS. E.g. in France there is a whole team called transport.data.gouv.fr that deploys a website + API and do the necessary to convince and help local transport agencies to respect the law.<p>Ingesting this whole dataset is not trivial, lots of bugs arise (e.g. Flixbus&#x27;s agency id : 0 or conflicting calendar_dates.txt ids between different datasets) but a barebone version goes live in 4 seconds (per big agency) of parsing by Motis&#x27;s Nigiri module.<p>The developer of Motis is quite involved, and came to Organic Maps&#x27;s discussion here <a href="https:&#x2F;&#x2F;github.com&#x2F;organicmaps&#x2F;organicmaps&#x2F;issues&#x2F;5331#issuecomment-2026893849">https:&#x2F;&#x2F;github.com&#x2F;organicmaps&#x2F;organicmaps&#x2F;issues&#x2F;5331#issue...</a><p>Then comes the hardest part IMHO : the UI. Motis provides intermodal routing with the choice of walk &#x2F; reduced mobility &#x2F; bicycle &#x2F; car &#x2F; car + parking before and after the bus, and all this needs to be integrated in a UI that can rival Google &#x2F; Apple Maps &#x2F; Transitapp.com &#x2F; etc<p>Organic Maps have very beautiful transit lines representation in the style of Transit app&#x27;s great work. <a href="https:&#x2F;&#x2F;blog.transitapp.com&#x2F;how-we-built-the-worlds-prettiest-auto-generated-transit-maps-12d0c6fa502f" rel="nofollow">https:&#x2F;&#x2F;blog.transitapp.com&#x2F;how-we-built-the-worlds-pretties...</a><p>Would be cool if some demo of the extended transit lines could be provided by Organic Maps following this readme file.</div><br/><div id="41155084" class="c"><input type="checkbox" id="c-41155084" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#41154026">parent</a><span>|</span><a href="#41154924">next</a><span>|</span><label class="collapse" for="c-41155084">[-]</label><label class="expand" for="c-41155084">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Organic Maps have very beautiful transit lines representation in the style of Transit app&#x27;s great work.<p>I&#x27;ve just opened up Chicago in Organic Maps and it isn&#x27;t anything like Transit app: <a href="https:&#x2F;&#x2F;u.ale.sh&#x2F;omaps-chicago-loop.jpg" rel="nofollow">https:&#x2F;&#x2F;u.ale.sh&#x2F;omaps-chicago-loop.jpg</a><p>It works great for simpler transit systems, but certainly there’s some room for improvement!</div><br/><div id="41159299" class="c"><input type="checkbox" id="c-41159299" checked=""/><div class="controls bullet"><span class="by">maelito</span><span>|</span><a href="#41154026">root</a><span>|</span><a href="#41155084">parent</a><span>|</span><a href="#41154924">next</a><span>|</span><label class="collapse" for="c-41159299">[-]</label><label class="expand" for="c-41159299">[2 more]</label></div><br/><div class="children"><div class="content">Not sure about your harsh comparison. Organic&#x27;s version is less of a rectangle, but is very lisible as well.</div><br/><div id="41161465" class="c"><input type="checkbox" id="c-41161465" checked=""/><div class="controls bullet"><span class="by">notpushkin</span><span>|</span><a href="#41154026">root</a><span>|</span><a href="#41159299">parent</a><span>|</span><a href="#41154924">next</a><span>|</span><label class="collapse" for="c-41161465">[-]</label><label class="expand" for="c-41161465">[1 more]</label></div><br/><div class="children"><div class="content">I mean yeah, it is quite good already! But sometimes lines break on stations (see e.g. the green and brown lines on Clark&#x2F;Lake) and there are some unnecessary intersections (e.g. pink and purple on Washington&#x2F;Wells – can be avoided by swapping them in in the line “bundle”).<p>Solving these problems would make the map not just prettier, but also easier to read and understand. Of course, doing this by hand isn&#x27;t really feasible on Organic’s &#x2F; OSM’s scale, but the blog post you linked is pretty much a how-to guide that can be implemented in code. I’d love to work on something like that, but don’t really know where to start.</div><br/></div></div></div></div></div></div></div></div><div id="41154924" class="c"><input type="checkbox" id="c-41154924" checked=""/><div class="controls bullet"><span class="by">carom</span><span>|</span><a href="#41154026">prev</a><span>|</span><a href="#41154144">next</a><span>|</span><label class="collapse" for="c-41154924">[-]</label><label class="expand" for="c-41154924">[2 more]</label></div><br/><div class="children"><div class="content">While I don&#x27;t use Organic Maps as my daily driver because there is no traffic data, it has been invaluable to have on my phone. It is one of the best offline and trail maps I&#x27;ve used.</div><br/><div id="41157322" class="c"><input type="checkbox" id="c-41157322" checked=""/><div class="controls bullet"><span class="by">therealdrag0</span><span>|</span><a href="#41154924">parent</a><span>|</span><a href="#41154144">next</a><span>|</span><label class="collapse" for="c-41157322">[-]</label><label class="expand" for="c-41157322">[1 more]</label></div><br/><div class="children"><div class="content">Agreed. I can’t believe how it’s better than any other hiking app (particularly free ones but I tried some non free ones too), but it is.<p>For me the winning feature is the UX around dropping a pin and routing to it via trails just works and is very easy, and includes elevation gain etc. Too many hiking apps require you to navigate along fixed trails in their hike database.</div><br/></div></div></div></div><div id="41154144" class="c"><input type="checkbox" id="c-41154144" checked=""/><div class="controls bullet"><span class="by">myself248</span><span>|</span><a href="#41154924">prev</a><span>|</span><a href="#41159313">next</a><span>|</span><label class="collapse" for="c-41154144">[-]</label><label class="expand" for="c-41154144">[3 more]</label></div><br/><div class="children"><div class="content">Related, shouldn&#x27;t it be possible to get data from rail signalling radios, and infer when a train is blocking a level crossing, and mark a temporary closure on that road so traffic is routed around it?<p>In the US at least, trains sometimes block crossings for upwards of 10 minutes, and it can be very worthwhile to drive around. Doubly so if you could know en-route and seamlessly reroute, rather than having to approach the crossing to discover the closure.</div><br/><div id="41154557" class="c"><input type="checkbox" id="c-41154557" checked=""/><div class="controls bullet"><span class="by">bobthepanda</span><span>|</span><a href="#41154144">parent</a><span>|</span><a href="#41159313">next</a><span>|</span><label class="collapse" for="c-41154557">[-]</label><label class="expand" for="c-41154557">[2 more]</label></div><br/><div class="children"><div class="content">Nearly all level crossings are required to, at the very least, trigger a signal with audible sounds and possibly gates, so you just need that same switch to update some online status.</div><br/><div id="41155133" class="c"><input type="checkbox" id="c-41155133" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#41154144">root</a><span>|</span><a href="#41154557">parent</a><span>|</span><a href="#41159313">next</a><span>|</span><label class="collapse" for="c-41155133">[-]</label><label class="expand" for="c-41155133">[1 more]</label></div><br/><div class="children"><div class="content">Many crossings in th US actually do not have any warning lights or gates, the only warning of an approaching train is the horn from the locomotive. Low-traffic (either in terms of cars or trains) crossings are often unsignaled.</div><br/></div></div></div></div></div></div><div id="41159313" class="c"><input type="checkbox" id="c-41159313" checked=""/><div class="controls bullet"><span class="by">mFixman</span><span>|</span><a href="#41154144">prev</a><span>|</span><a href="#41154021">next</a><span>|</span><label class="collapse" for="c-41159313">[-]</label><label class="expand" for="c-41159313">[2 more]</label></div><br/><div class="children"><div class="content">Does anybody know if there&#x27;s an Organic Maps equivalent for cycling?<p>OSM has a lot of data that&#x27;s only available in everything-maps like OsmAnd, such as location of bicycle parking spaces or quality of cycle lanes. It would be nice to have it in a nicer interface than that app.<p>I&#x27;m currently building a bike + public transit directions engine (bringing your bike on the train). I&#x27;m surprised that this doesn&#x27;t exist yet; it&#x27;s my favourite way to get around!</div><br/><div id="41159422" class="c"><input type="checkbox" id="c-41159422" checked=""/><div class="controls bullet"><span class="by">bmicraft</span><span>|</span><a href="#41159313">parent</a><span>|</span><a href="#41154021">next</a><span>|</span><label class="collapse" for="c-41159422">[-]</label><label class="expand" for="c-41159422">[1 more]</label></div><br/><div class="children"><div class="content">Organic Maps does include bicycle parking  POIs. Also some local transit apps do have bike+train routing options for bike carriage and bike sharing: <a href="https:&#x2F;&#x2F;anachb.vor.at&#x2F;" rel="nofollow">https:&#x2F;&#x2F;anachb.vor.at&#x2F;</a><p>I agree though that something like this is missing in the offline-first maps space.</div><br/></div></div></div></div><div id="41154021" class="c"><input type="checkbox" id="c-41154021" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#41159313">prev</a><span>|</span><a href="#41157050">next</a><span>|</span><label class="collapse" for="c-41154021">[-]</label><label class="expand" for="c-41154021">[8 more]</label></div><br/><div class="children"><div class="content">Does this mean that the routing will happen on the app? This might be a bit resource intensive, but great feature (especially since it will work offline!)</div><br/><div id="41154124" class="c"><input type="checkbox" id="c-41154124" checked=""/><div class="controls bullet"><span class="by">alsodumb</span><span>|</span><a href="#41154021">parent</a><span>|</span><a href="#41157104">next</a><span>|</span><label class="collapse" for="c-41154124">[-]</label><label class="expand" for="c-41154124">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think routing is that resource intensive, especially in transit setting where there are set number of stops (nodes) and the graph is fairly static - we can do tons of preprocessing and then routing queries would have minimal computational overhead.</div><br/><div id="41154665" class="c"><input type="checkbox" id="c-41154665" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#41154021">root</a><span>|</span><a href="#41154124">parent</a><span>|</span><a href="#41154137">next</a><span>|</span><label class="collapse" for="c-41154665">[-]</label><label class="expand" for="c-41154665">[1 more]</label></div><br/><div class="children"><div class="content">I did implement an A* routing &quot;offline&quot; routing algorithm based on GTFS data + walking paths (OptiTravel) and built a GTFS server (to easily serve the data, do geospatial queries, ...) a few years ago. Granted that this was a university project, for some cities the calculation was rather intensive (e.g: London). I might be wrong though.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;denysvitali&#x2F;optitravel">https:&#x2F;&#x2F;github.com&#x2F;denysvitali&#x2F;optitravel</a><p>[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;denysvitali&#x2F;gtfs-server">https:&#x2F;&#x2F;github.com&#x2F;denysvitali&#x2F;gtfs-server</a></div><br/></div></div><div id="41154137" class="c"><input type="checkbox" id="c-41154137" checked=""/><div class="controls bullet"><span class="by">maelito</span><span>|</span><a href="#41154021">root</a><span>|</span><a href="#41154124">parent</a><span>|</span><a href="#41154665">prev</a><span>|</span><a href="#41157104">next</a><span>|</span><label class="collapse" for="c-41154137">[-]</label><label class="expand" for="c-41154137">[2 more]</label></div><br/><div class="children"><div class="content">It is. Especially to do multimodal routing offline.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;motis-project&#x2F;motis&#x2F;issues&#x2F;423">https:&#x2F;&#x2F;github.com&#x2F;motis-project&#x2F;motis&#x2F;issues&#x2F;423</a></div><br/><div id="41154227" class="c"><input type="checkbox" id="c-41154227" checked=""/><div class="controls bullet"><span class="by">alsodumb</span><span>|</span><a href="#41154021">root</a><span>|</span><a href="#41154137">parent</a><span>|</span><a href="#41157104">next</a><span>|</span><label class="collapse" for="c-41154227">[-]</label><label class="expand" for="c-41154227">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing the link! Multimodal routing definitely changes the game, Imma go through the issue.</div><br/></div></div></div></div></div></div><div id="41157104" class="c"><input type="checkbox" id="c-41157104" checked=""/><div class="controls bullet"><span class="by">odo1242</span><span>|</span><a href="#41154021">parent</a><span>|</span><a href="#41154124">prev</a><span>|</span><a href="#41154042">next</a><span>|</span><label class="collapse" for="c-41157104">[-]</label><label class="expand" for="c-41157104">[2 more]</label></div><br/><div class="children"><div class="content">It is definitely resource intensive, but not as much as you would expect. Especially considering the fact that the route only gets calculated once and most modern phones are pretty fast, it won’t really drain your battery.</div><br/><div id="41157107" class="c"><input type="checkbox" id="c-41157107" checked=""/><div class="controls bullet"><span class="by">odo1242</span><span>|</span><a href="#41154021">root</a><span>|</span><a href="#41157104">parent</a><span>|</span><a href="#41154042">next</a><span>|</span><label class="collapse" for="c-41157107">[-]</label><label class="expand" for="c-41157107">[1 more]</label></div><br/><div class="children"><div class="content">Context: just benchmarked it with across-the-US routes and it seems fine</div><br/></div></div></div></div><div id="41154042" class="c"><input type="checkbox" id="c-41154042" checked=""/><div class="controls bullet"><span class="by">maelito</span><span>|</span><a href="#41154021">parent</a><span>|</span><a href="#41157104">prev</a><span>|</span><a href="#41157050">next</a><span>|</span><label class="collapse" for="c-41154042">[-]</label><label class="expand" for="c-41154042">[1 more]</label></div><br/><div class="children"><div class="content">I believe the answer should be on this big issue <a href="https:&#x2F;&#x2F;github.com&#x2F;organicmaps&#x2F;organicmaps&#x2F;issues&#x2F;5331">https:&#x2F;&#x2F;github.com&#x2F;organicmaps&#x2F;organicmaps&#x2F;issues&#x2F;5331</a></div><br/></div></div></div></div><div id="41157050" class="c"><input type="checkbox" id="c-41157050" checked=""/><div class="controls bullet"><span class="by">sebastiennight</span><span>|</span><a href="#41154021">prev</a><span>|</span><label class="collapse" for="c-41157050">[-]</label><label class="expand" for="c-41157050">[1 more]</label></div><br/><div class="children"><div class="content">This looks incredibly promising.<p>Having only subway options (and not all of them) in the cities I&#x27;ve been traveling is was a good start, but just adding buses would be a tremendous increase in quality of life... no more going through all the buggy and slow local transit websites.<p>(Why do local transit authorities think it makes sense to front-load several MB of media files on the homepage of their route-finding website, and load the &quot;itinerary&quot; component <i>last?</i> This is beyond me)</div><br/></div></div></div></div></div></div></div></body></html>