<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699434060476" as="style"/><link rel="stylesheet" href="styles.css?v=1699434060476"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://fabiensanglard.net/bash/index.html">The bash book to rule them all</a> <span class="domain">(<a href="https://fabiensanglard.net">fabiensanglard.net</a>)</span></div><div class="subtext"><span>Tomte</span> | <span>31 comments</span></div><br/><div><div id="38188074" class="c"><input type="checkbox" id="c-38188074" checked=""/><div class="controls bullet"><span class="by">jackhalford</span><span>|</span><a href="#38187707">next</a><span>|</span><label class="collapse" for="c-38188074">[-]</label><label class="expand" for="c-38188074">[1 more]</label></div><br/><div class="children"><div class="content">Ok this may be a little over the top but in my experience there’s a better way to learn bash: implement bash. I did this for a school project, along with job control, pipes, redirects, builtins. All of the trip ups mentionned in this article will become obvious.</div><br/></div></div><div id="38187707" class="c"><input type="checkbox" id="c-38187707" checked=""/><div class="controls bullet"><span class="by">traceroute66</span><span>|</span><a href="#38188074">prev</a><span>|</span><a href="#38187635">next</a><span>|</span><label class="collapse" for="c-38187707">[-]</label><label class="expand" for="c-38187707">[11 more]</label></div><br/><div class="children"><div class="content">Controversial perhaps, but I now use Go where I used to be a prolific shell script script coder.<p>Main reasons:<p><pre><code>   - Fewer opportunities for foot-guns
   - Ease of portability, no dependencies, e.g. no more &quot;is jq installed ?&quot;
   - Consistent cross-platforms, e.g. no more &quot;is this system using GNU sed ?&quot;
   - Modern stuff like crypto, and &quot;internet stuff&quot; is just quicker and easier to do in Go.</code></pre></div><br/><div id="38188094" class="c"><input type="checkbox" id="c-38188094" checked=""/><div class="controls bullet"><span class="by">fsckboy</span><span>|</span><a href="#38187707">parent</a><span>|</span><a href="#38187987">next</a><span>|</span><label class="collapse" for="c-38188094">[-]</label><label class="expand" for="c-38188094">[2 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t go along with your reasons at all (installing go on every machine is not solving a portability problem, it is the portability problem) but I&#x27;m going to leave that aside.<p>can Go be used REPL as a shell CLI? and do everything I need to do from the CLI? because that&#x27;s why I use bash for scripting. An equal amount of time I spend typing at the command line, and I one language is the language I want to use.</div><br/><div id="38188118" class="c"><input type="checkbox" id="c-38188118" checked=""/><div class="controls bullet"><span class="by">mirashii</span><span>|</span><a href="#38187707">root</a><span>|</span><a href="#38188094">parent</a><span>|</span><a href="#38187987">next</a><span>|</span><label class="collapse" for="c-38188118">[-]</label><label class="expand" for="c-38188118">[1 more]</label></div><br/><div class="children"><div class="content">It’s not go as a literal replacement for bash, as in you write golang when interacting with your own machine. It’s go binaries instead of bash scripts. You’re still distributing one file, but now with all the GP’s stated benefits</div><br/></div></div></div></div><div id="38187987" class="c"><input type="checkbox" id="c-38187987" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#38187707">parent</a><span>|</span><a href="#38188094">prev</a><span>|</span><a href="#38187776">next</a><span>|</span><label class="collapse" for="c-38187987">[-]</label><label class="expand" for="c-38187987">[1 more]</label></div><br/><div class="children"><div class="content">Two catches I could see:<p>* Great if you can do everything natively in Go, loses advantages and I suspect gets <i>somewhat</i> cumbersome if you have to shell out.<p>* Harder to inspect on target system. If I encounter a random shell script someone left on a server, I can read it; with a binary I&#x27;d have to hope I can find the source.<p>Otherwise... yeah, that seems reasonable, and if you&#x27;re already good at Go, sensible.</div><br/></div></div><div id="38187776" class="c"><input type="checkbox" id="c-38187776" checked=""/><div class="controls bullet"><span class="by">frizlab</span><span>|</span><a href="#38187707">parent</a><span>|</span><a href="#38187987">prev</a><span>|</span><a href="#38187785">next</a><span>|</span><label class="collapse" for="c-38187776">[-]</label><label class="expand" for="c-38187776">[3 more]</label></div><br/><div class="children"><div class="content">Even more controversial, I use Swift.</div><br/><div id="38188077" class="c"><input type="checkbox" id="c-38188077" checked=""/><div class="controls bullet"><span class="by">unixhero</span><span>|</span><a href="#38187707">root</a><span>|</span><a href="#38187776">parent</a><span>|</span><a href="#38187811">next</a><span>|</span><label class="collapse" for="c-38188077">[-]</label><label class="expand" for="c-38188077">[1 more]</label></div><br/><div class="children"><div class="content">Swift for system operations?</div><br/></div></div><div id="38187811" class="c"><input type="checkbox" id="c-38187811" checked=""/><div class="controls bullet"><span class="by">jalino23</span><span>|</span><a href="#38187707">root</a><span>|</span><a href="#38187776">parent</a><span>|</span><a href="#38188077">prev</a><span>|</span><a href="#38187785">next</a><span>|</span><label class="collapse" for="c-38187811">[-]</label><label class="expand" for="c-38187811">[1 more]</label></div><br/><div class="children"><div class="content">swift is so nice to code with</div><br/></div></div></div></div><div id="38187785" class="c"><input type="checkbox" id="c-38187785" checked=""/><div class="controls bullet"><span class="by">jabbany</span><span>|</span><a href="#38187707">parent</a><span>|</span><a href="#38187776">prev</a><span>|</span><a href="#38187635">next</a><span>|</span><label class="collapse" for="c-38187785">[-]</label><label class="expand" for="c-38187785">[4 more]</label></div><br/><div class="children"><div class="content">If Go why not something like Python though...?</div><br/><div id="38187813" class="c"><input type="checkbox" id="c-38187813" checked=""/><div class="controls bullet"><span class="by">traceroute66</span><span>|</span><a href="#38187707">root</a><span>|</span><a href="#38187785">parent</a><span>|</span><a href="#38187635">next</a><span>|</span><label class="collapse" for="c-38187813">[-]</label><label class="expand" for="c-38187813">[3 more]</label></div><br/><div class="children"><div class="content">Because Python is godawful for dependencies.<p>With Go, you write, you compile, you ship the binary, job done.</div><br/><div id="38187823" class="c"><input type="checkbox" id="c-38187823" checked=""/><div class="controls bullet"><span class="by">geocrasher</span><span>|</span><a href="#38187707">root</a><span>|</span><a href="#38187813">parent</a><span>|</span><a href="#38187635">next</a><span>|</span><label class="collapse" for="c-38187823">[-]</label><label class="expand" for="c-38187823">[2 more]</label></div><br/><div class="children"><div class="content">Is Go genuinely as dependency independent as bash on a fresh Linux install? If so I&#x27;d find this very interesting and perhaps worthwhile to learn. I work in an environment where everything is done at the Linux command line. I&#x27;d be thrilled to re-do some of my my complex bash scripts in Go <i>if there is a good advantage to doing so</i>.</div><br/><div id="38187902" class="c"><input type="checkbox" id="c-38187902" checked=""/><div class="controls bullet"><span class="by">mbwgh</span><span>|</span><a href="#38187707">root</a><span>|</span><a href="#38187823">parent</a><span>|</span><a href="#38187635">next</a><span>|</span><label class="collapse" for="c-38187902">[-]</label><label class="expand" for="c-38187902">[1 more]</label></div><br/><div class="children"><div class="content">The idea is that if you need dependencies, you only need them present during compilation on the machine you develop on. You then compile a statically linked binary and copy this to the machine where it&#x27;s needed.<p>There may be other advantages like static types, editor integration and so on, but that&#x27;s beside the point.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38187635" class="c"><input type="checkbox" id="c-38187635" checked=""/><div class="controls bullet"><span class="by">a_bonobo</span><span>|</span><a href="#38187707">prev</a><span>|</span><a href="#38187658">next</a><span>|</span><label class="collapse" for="c-38187635">[-]</label><label class="expand" for="c-38187635">[2 more]</label></div><br/><div class="children"><div class="content">I usually recommend Data Science At The Command Line <a href="https:&#x2F;&#x2F;jeroenjanssens.com&#x2F;dsatcl&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;jeroenjanssens.com&#x2F;dsatcl&#x2F;</a><p>Not because it explains bash well, but because it fits with my data science&#x2F;bioinformatics niche. It&#x27;s all about these funky sort&#x2F;uniq&#x2F;rev&#x2F;cut&#x2F;uniq&#x2F;awk&#x2F;wc&#x2F;sed patterns I use everyday fiddling with csv files.</div><br/><div id="38187931" class="c"><input type="checkbox" id="c-38187931" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#38187635">parent</a><span>|</span><a href="#38187658">next</a><span>|</span><label class="collapse" for="c-38187931">[-]</label><label class="expand" for="c-38187931">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve written books for GNU grep, sed, awk as well as one for coreutils. Free to read online. See <a href="https:&#x2F;&#x2F;github.com&#x2F;learnbyexample&#x2F;scripting_course#ebooks">https:&#x2F;&#x2F;github.com&#x2F;learnbyexample&#x2F;scripting_course#ebooks</a> for links.<p>Have you looked at <a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;xsv">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;xsv</a> for csv processing?</div><br/></div></div></div></div><div id="38187658" class="c"><input type="checkbox" id="c-38187658" checked=""/><div class="controls bullet"><span class="by">happymellon</span><span>|</span><a href="#38187635">prev</a><span>|</span><a href="#38187643">next</a><span>|</span><label class="collapse" for="c-38187658">[-]</label><label class="expand" for="c-38187658">[2 more]</label></div><br/><div class="children"><div class="content">I believe it&#x27;s been posted here before, but I also use this for reference whenever I forget the syntax to something, or know there must be a better way than what I am doing.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dylanaraps&#x2F;pure-bash-bible">https:&#x2F;&#x2F;github.com&#x2F;dylanaraps&#x2F;pure-bash-bible</a></div><br/><div id="38188026" class="c"><input type="checkbox" id="c-38188026" checked=""/><div class="controls bullet"><span class="by">ndsipa_pomu</span><span>|</span><a href="#38187658">parent</a><span>|</span><a href="#38187643">next</a><span>|</span><label class="collapse" for="c-38188026">[-]</label><label class="expand" for="c-38188026">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget about Greg&#x27;s Wiki<p><a href="https:&#x2F;&#x2F;mywiki.wooledge.org&#x2F;BashFAQ" rel="nofollow noreferrer">https:&#x2F;&#x2F;mywiki.wooledge.org&#x2F;BashFAQ</a><p>(and of course we&#x27;re all using ShellCheck to check our scripts for common mistakes)</div><br/></div></div></div></div><div id="38187643" class="c"><input type="checkbox" id="c-38187643" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#38187658">prev</a><span>|</span><a href="#38187912">next</a><span>|</span><label class="collapse" for="c-38187643">[-]</label><label class="expand" for="c-38187643">[2 more]</label></div><br/><div class="children"><div class="content">&gt; You want to understand why cd is not an executable but a builtin?<p>Because a sub-process cannot change the working directory of its parent. The shell process needs to change its own working directory. Therefore cd must be a builtin.<p>Although, I suppose that one might execve a cd binary, which would change directory and then in turn the cd binary would execve the shell that is specified in the $SHELL env var. That would be terribly silly though :p</div><br/><div id="38187793" class="c"><input type="checkbox" id="c-38187793" checked=""/><div class="controls bullet"><span class="by">neuromanser</span><span>|</span><a href="#38187643">parent</a><span>|</span><a href="#38187912">next</a><span>|</span><label class="collapse" for="c-38187793">[-]</label><label class="expand" for="c-38187793">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.skarnet.org&#x2F;software&#x2F;execline&#x2F;execline-cd.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.skarnet.org&#x2F;software&#x2F;execline&#x2F;execline-cd.html</a></div><br/></div></div></div></div><div id="38187912" class="c"><input type="checkbox" id="c-38187912" checked=""/><div class="controls bullet"><span class="by">fsckboy</span><span>|</span><a href="#38187643">prev</a><span>|</span><a href="#38187830">next</a><span>|</span><label class="collapse" for="c-38187912">[-]</label><label class="expand" for="c-38187912">[1 more]</label></div><br/><div class="children"><div class="content">The title of the book (perhaps a more useful title) is<p><i>Efficient Linux at the Command Line: Boost Your Command-Line Skills</i> by Daniel J. Barrett 2022<p>perhaps the book should be called <i>Efficient Bash at the Command Line: Boost Your Linux Skills</i>. It has a little table at the end that says &quot;if you use a different shell&quot;. Not sure if this type thing suffuses the book a tall</div><br/></div></div><div id="38187782" class="c"><input type="checkbox" id="c-38187782" checked=""/><div class="controls bullet"><span class="by">khrbtxyz</span><span>|</span><a href="#38187830">prev</a><span>|</span><a href="#38187672">next</a><span>|</span><label class="collapse" for="c-38187782">[-]</label><label class="expand" for="c-38187782">[5 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  $ uname
  Darwin
  $ which cd
  &#x2F;usr&#x2F;bin&#x2F;cd</code></pre></div><br/><div id="38187810" class="c"><input type="checkbox" id="c-38187810" checked=""/><div class="controls bullet"><span class="by">traceroute66</span><span>|</span><a href="#38187782">parent</a><span>|</span><a href="#38187672">next</a><span>|</span><label class="collapse" for="c-38187810">[-]</label><label class="expand" for="c-38187810">[4 more]</label></div><br/><div class="children"><div class="content">Huh ?  Which OS X are you on ?<p>What you posted is not reproducable on Ventura (13.6)<p><pre><code>    % uname 
    Darwin
    % which cd
    cd: shell built-in command</code></pre></div><br/><div id="38187821" class="c"><input type="checkbox" id="c-38187821" checked=""/><div class="controls bullet"><span class="by">irishsultan</span><span>|</span><a href="#38187782">root</a><span>|</span><a href="#38187810">parent</a><span>|</span><a href="#38187916">next</a><span>|</span><label class="collapse" for="c-38187821">[-]</label><label class="expand" for="c-38187821">[2 more]</label></div><br/><div class="children"><div class="content">Depends on your shell, if you execute `which -a cd` it will show you &#x2F;usr&#x2F;bin&#x2F;cd in addition to the built-in command.<p>(zsh has which as a built in command, apparently bash doesn&#x27;t, which causes the different output). It&#x27;s unclear to me what &#x2F;usr&#x2F;bin&#x2F;cd actually accomplishes though, even in bash.<p>(final edit I hope, I found an explanation of sorts for &#x2F;usr&#x2F;bin&#x2F;cd: <a href="https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;a&#x2F;50060" rel="nofollow noreferrer">https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;a&#x2F;50060</a>)</div><br/><div id="38187860" class="c"><input type="checkbox" id="c-38187860" checked=""/><div class="controls bullet"><span class="by">traceroute66</span><span>|</span><a href="#38187782">root</a><span>|</span><a href="#38187821">parent</a><span>|</span><a href="#38187916">next</a><span>|</span><label class="collapse" for="c-38187860">[-]</label><label class="expand" for="c-38187860">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s unclear to me what &#x2F;usr&#x2F;bin&#x2F;cd actually accomplishes though, even in bash.<p>Seems to be something they adopted from FreeBSD if the comment in the script is anything to go by ? (`&#x2F;usr&#x2F;bin&#x2F;cd` is a shell script, you can cat it).<p>It seems something to do with it being a POSIX system if this SO answer[1] is anything to go by.<p>Beyond my paygrade though, and given Apple&#x27;s shell appears to default to the built-in it seems I don&#x27;t need to care either. :-)<p>[1] <a href="https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;50022&#x2F;why-cant-i-redirect-a-path-name-output-from-one-command-to-cd&#x2F;50025#50025" rel="nofollow noreferrer">https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;50022&#x2F;why-cant-i-re...</a></div><br/></div></div></div></div><div id="38187916" class="c"><input type="checkbox" id="c-38187916" checked=""/><div class="controls bullet"><span class="by">khrbtxyz</span><span>|</span><a href="#38187782">root</a><span>|</span><a href="#38187810">parent</a><span>|</span><a href="#38187821">prev</a><span>|</span><a href="#38187672">next</a><span>|</span><label class="collapse" for="c-38187916">[-]</label><label class="expand" for="c-38187916">[1 more]</label></div><br/><div class="children"><div class="content">I’m on Ventura 13.6.1.  Looks like your which is a shell built-in as well.  Try<p><pre><code>  ls &#x2F;usr&#x2F;bin&#x2F;cd</code></pre></div><br/></div></div></div></div></div></div><div id="38187672" class="c"><input type="checkbox" id="c-38187672" checked=""/><div class="controls bullet"><span class="by">zwischenzug</span><span>|</span><a href="#38187782">prev</a><span>|</span><a href="#38187638">next</a><span>|</span><label class="collapse" for="c-38187672">[-]</label><label class="expand" for="c-38187672">[1 more]</label></div><br/><div class="children"><div class="content">The only way to learn bash ;-)<p><a href="https:&#x2F;&#x2F;leanpub.com&#x2F;learnbashthehardway" rel="nofollow noreferrer">https:&#x2F;&#x2F;leanpub.com&#x2F;learnbashthehardway</a></div><br/></div></div><div id="38187638" class="c"><input type="checkbox" id="c-38187638" checked=""/><div class="controls bullet"><span class="by">ceuk</span><span>|</span><a href="#38187672">prev</a><span>|</span><a href="#38187588">next</a><span>|</span><label class="collapse" for="c-38187638">[-]</label><label class="expand" for="c-38187638">[2 more]</label></div><br/><div class="children"><div class="content">It was the second question that convinced me to buy it.</div><br/><div id="38187654" class="c"><input type="checkbox" id="c-38187654" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#38187638">parent</a><span>|</span><a href="#38187588">next</a><span>|</span><label class="collapse" for="c-38187654">[-]</label><label class="expand" for="c-38187654">[1 more]</label></div><br/><div class="children"><div class="content">That’s a legitimate reason :D<p>I think the pretty animal illustrations is what initially caught my attention and helped me discover O’Reilly as a publisher to pay specific attention to in IT books. The animals trick you into opening their books, and the texts usually have you continue reading.</div><br/></div></div></div></div></div></div></div></div></div></body></html>