<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707123658250" as="style"/><link rel="stylesheet" href="styles.css?v=1707123658250"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/kneasle/sapling">Sapling: Experimental vi-inspired editor where you edit code, not text</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>28 comments</span></div><br/><div><div id="39255384" class="c"><input type="checkbox" id="c-39255384" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#39256864">next</a><span>|</span><label class="collapse" for="c-39255384">[-]</label><label class="expand" for="c-39255384">[2 more]</label></div><br/><div class="children"><div class="content">Since this project ended, we&#x27;ve have had quite a lot nice development in this front. Biggest highlight maybe is Combobulate for emacs, providing treesitter powered editing. Neovim also has treesitter and some plugins[2] to work with it. My editor of choice, Helix, also has treesitter based commands built-in[3]. All of these afaik have been released after sapling<p>While it now seems like this mode of using TS&#x2F;structured editing to extend traditional editors will be the dominant way, I think it still might be useful to keep thinking what an editor that embraces structured editing could look like.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;mickeynp&#x2F;combobulate">https:&#x2F;&#x2F;github.com&#x2F;mickeynp&#x2F;combobulate</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;nvim-treesitter&#x2F;nvim-treesitter&#x2F;wiki&#x2F;Extra-modules-and-plugins">https:&#x2F;&#x2F;github.com&#x2F;nvim-treesitter&#x2F;nvim-treesitter&#x2F;wiki&#x2F;Extr...</a><p>[3] <a href="https:&#x2F;&#x2F;docs.helix-editor.com&#x2F;usage.html#navigating-using-tree-sitter-textobjects" rel="nofollow">https:&#x2F;&#x2F;docs.helix-editor.com&#x2F;usage.html#navigating-using-tr...</a></div><br/><div id="39255690" class="c"><input type="checkbox" id="c-39255690" checked=""/><div class="controls bullet"><span class="by">paholg</span><span>|</span><a href="#39255384">parent</a><span>|</span><a href="#39256864">next</a><span>|</span><label class="collapse" for="c-39255690">[-]</label><label class="expand" for="c-39255690">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using and enjoying Helix for a while now, but I don&#x27;t use any structured editing commands. I should definitely try some out!</div><br/></div></div></div></div><div id="39256864" class="c"><input type="checkbox" id="c-39256864" checked=""/><div class="controls bullet"><span class="by">Jeaye</span><span>|</span><a href="#39255384">prev</a><span>|</span><a href="#39255702">next</a><span>|</span><label class="collapse" for="c-39256864">[-]</label><label class="expand" for="c-39256864">[4 more]</label></div><br/><div class="children"><div class="content">This is one of the hills to climb when learning a lisp. Seasoned lispers don&#x27;t edit text, or traverse text; they edit and traverse lisp forms (AST nodes). In my experience, vim&#x2F;neovim work very well for this, due to their notion of &quot;text objects&quot;. With a couple of plugins, text objects end up aligned directly with the lisp AST, but even better is that the AST is visual and tangible, since it&#x27;s encoded in the text.<p>It makes sense to benefit from this sort of thinking in other languages, but this is just another reminder, to me, of the beauty of lisps.<p>A fun language idea would be to take the exact semantics of an existing language, like C++, and encode them within a lisp, losslessly. I suspect it would end up quite verbose. However, add in a macro system and then you can start building a DSL around the original language, keeping all the same underlying semantics.</div><br/><div id="39258715" class="c"><input type="checkbox" id="c-39258715" checked=""/><div class="controls bullet"><span class="by">kolme</span><span>|</span><a href="#39256864">parent</a><span>|</span><a href="#39258067">next</a><span>|</span><label class="collapse" for="c-39258715">[-]</label><label class="expand" for="c-39258715">[1 more]</label></div><br/><div class="children"><div class="content">Other commenter mentioned Hy, but what about Clojure? It is a lisp on top of Java, and all of its variants (Clojurescript -&gt; Javascript, etc). Then there&#x27;s Fennel (Lua) and others I can&#x27;t remember right now.</div><br/></div></div><div id="39258067" class="c"><input type="checkbox" id="c-39258067" checked=""/><div class="controls bullet"><span class="by">rakoo</span><span>|</span><a href="#39256864">parent</a><span>|</span><a href="#39258715">prev</a><span>|</span><a href="#39255702">next</a><span>|</span><label class="collapse" for="c-39258067">[-]</label><label class="expand" for="c-39258067">[2 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t that a bit what hy (<a href="https:&#x2F;&#x2F;hylang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hylang.org&#x2F;</a>) tries to do ? AIUI it is a lisp interacting directly with the AST of Python, allowing seamless interop: Python modules can be used from hy and vice versa, everything is transparent.</div><br/><div id="39258133" class="c"><input type="checkbox" id="c-39258133" checked=""/><div class="controls bullet"><span class="by">Jeaye</span><span>|</span><a href="#39256864">root</a><span>|</span><a href="#39258067">parent</a><span>|</span><a href="#39255702">next</a><span>|</span><label class="collapse" for="c-39258133">[-]</label><label class="expand" for="c-39258133">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure if it&#x27;s doing exactly that, but it looks like it could be! Very neat. It&#x27;d be nice to see it for other langs, if Hy proves viability in the approach.</div><br/></div></div></div></div></div></div><div id="39255702" class="c"><input type="checkbox" id="c-39255702" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#39256864">prev</a><span>|</span><a href="#39256192">next</a><span>|</span><label class="collapse" for="c-39255702">[-]</label><label class="expand" for="c-39255702">[4 more]</label></div><br/><div class="children"><div class="content">For Emacs users, there&#x27;s Taylor Campbell&#x27;s `paredit`:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=D6h5dFyyUX0&amp;t=51s" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=D6h5dFyyUX0&amp;t=51s</a><p><a href="https:&#x2F;&#x2F;paredit.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;paredit.org&#x2F;</a><p><a href="https:&#x2F;&#x2F;www.emacswiki.org&#x2F;emacs&#x2F;ParEdit" rel="nofollow">https:&#x2F;&#x2F;www.emacswiki.org&#x2F;emacs&#x2F;ParEdit</a></div><br/><div id="39256902" class="c"><input type="checkbox" id="c-39256902" checked=""/><div class="controls bullet"><span class="by">tomjakubowski</span><span>|</span><a href="#39255702">parent</a><span>|</span><a href="#39256192">next</a><span>|</span><label class="collapse" for="c-39256902">[-]</label><label class="expand" for="c-39256902">[3 more]</label></div><br/><div class="children"><div class="content">Emacs kids these days switched to using smartparens and now Parinfer</div><br/><div id="39257425" class="c"><input type="checkbox" id="c-39257425" checked=""/><div class="controls bullet"><span class="by">theCodeStig</span><span>|</span><a href="#39255702">root</a><span>|</span><a href="#39256902">parent</a><span>|</span><a href="#39256192">next</a><span>|</span><label class="collapse" for="c-39257425">[-]</label><label class="expand" for="c-39257425">[2 more]</label></div><br/><div class="children"><div class="content">Lispy <a href="https:&#x2F;&#x2F;github.com&#x2F;abo-abo&#x2F;lispy">https:&#x2F;&#x2F;github.com&#x2F;abo-abo&#x2F;lispy</a></div><br/><div id="39258737" class="c"><input type="checkbox" id="c-39258737" checked=""/><div class="controls bullet"><span class="by">ctrw</span><span>|</span><a href="#39255702">root</a><span>|</span><a href="#39257425">parent</a><span>|</span><a href="#39256192">next</a><span>|</span><label class="collapse" for="c-39258737">[-]</label><label class="expand" for="c-39258737">[1 more]</label></div><br/><div class="children"><div class="content">When you&#x27;re too cool for temporal modal editing so you invent spacial modal editing.<p>Been using that for a while and yes it is the best parts of vim with the best parts of Emacs.<p>The main selling point is that I can now edit lisp code on my phone with the thumb key keyboard... Come to think of it I can probably use a physical corded keyboard now too...</div><br/></div></div></div></div></div></div></div></div><div id="39256192" class="c"><input type="checkbox" id="c-39256192" checked=""/><div class="controls bullet"><span class="by">taeric</span><span>|</span><a href="#39255702">prev</a><span>|</span><a href="#39258837">next</a><span>|</span><label class="collapse" for="c-39256192">[-]</label><label class="expand" for="c-39256192">[1 more]</label></div><br/><div class="children"><div class="content">I think the core thought in &quot;But Why&quot; kind of gives away the problem this will face.  The idea is that you will lose time as you &quot;move between valid programs.&quot;  A problem, though, is most &quot;valid programs&quot; are still not valid solutions to what you are working on.<p>Consider, most of us work in rather phonetic languages as we type day to day. Surely it would be easier if we worked instead in languages where you did not have to do this.  Let me type only valid sentences as I move from thought to thought.  Surely that would be better?  Why, then, do we not do that?<p>Of course, I don&#x27;t know why.  I suspect there is a good deal to inertia style thoughts that explains this.  But it is a good hint that the idea that you can break apart from symbols that need more symbols for context to build meaning is not one that really anything has fully converged to.</div><br/></div></div><div id="39258837" class="c"><input type="checkbox" id="c-39258837" checked=""/><div class="controls bullet"><span class="by">DonHopkins</span><span>|</span><a href="#39256192">prev</a><span>|</span><a href="#39256630">next</a><span>|</span><label class="collapse" for="c-39258837">[-]</label><label class="expand" for="c-39258837">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of Steven P Reiss&#x27;s &quot;PECAN&quot; system that he gave us a copy of to play around with when he gave a talk about it at the UMD Human Computer Interaction Lab around 1985 or so. It seemed like an interesting idea, possibly useful for teaching coding to novices (especially algorithm animation system BALSA), but essentially pretty frustrating and klunkey in practice.<p>Of course we have a hell of a lot more computing power to piss away at the problem now, but it&#x27;s still fundamentally at odds with how professional programmers code and how programming languages are designed (except for Lisp of course), and isn&#x27;t a widely used approach for good reasons.<p><a href="https:&#x2F;&#x2F;cs.brown.edu&#x2F;~spr&#x2F;papers&#x2F;pecanpaper.pdf" rel="nofollow">https:&#x2F;&#x2F;cs.brown.edu&#x2F;~spr&#x2F;papers&#x2F;pecanpaper.pdf</a><p>Graphical Program Development with PECAN Program Development Systems<p>Steven P. Reiss,
Department of Computer Science,
Brown University,
Providence, RI 02912.<p>Abstract:<p>This paper describes the user&#x27;s view of the 
PECAN family of program development systems. 
PECAN is a program development system generator 
for algebraic programming languages. The
program development systems it produces support
multiple views of the user&#x27;s program, its semantics, 
and its execution. The program views
include a syntax-directed editor, a declaration
editor, and a structured flow graph editor. The
semantic views include expression trees, data type
diagrams, flow graphs, and the symbol table.
Execution views show the program in action and
the stack contents as the program executes.
PECAN is designed to make effective use of
powerful personal machines with high-resolution
graphics displays and is currently implemented on
APOLLO workstations.<p>ChatGPT opines:<p>Subsequent research into syntax-directed editors has revealed that they are less effective than initially anticipated. These editors have been thoroughly examined over the past decade, leading to insights about their limitations and practical challenges. Studies have shown that while syntax-directed editors can be useful in certain contexts, such as language definitions and programming environment development, they haven&#x27;t gained widespread popularity due to various factors. These include issues related to usability, integration with other development tools, and accommodating diverse programming styles. Additionally, the complexity of implementing efficient and robust syntax-directed editors that smoothly integrate into existing development environments has also contributed to their limited adoption.<p>Check out these search results to keep exploring.<p><a href="https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;3-540-17189-4_87" rel="nofollow">https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;3-540-17189-4_87</a><p><a href="https:&#x2F;&#x2F;www.researchgate.net&#x2F;publication&#x2F;221330960_On_the_Usefulness_of_Syntax_Directed_Editors" rel="nofollow">https:&#x2F;&#x2F;www.researchgate.net&#x2F;publication&#x2F;221330960_On_the_Us...</a><p>On the Usefulness of Syntax Directed Editors.<p>Bernard Lang, INRIA, B.P. 105, 78153, Le Chesnay, France.<p>Abstract<p>The intent of this position statement is to relate our experience with the actual use of a syntax
directed editor (Mentor [5]) in different contexts: teaching, real software production, software
maintenance and associated tasks, language design and development, development of programming tools and new programming structures.<p>1. Introduction<p>Originally the subject of this presentation was motivated by discussions to be found in the
technical literature [1,2,3], and by the open questioning in less technical publications (as well as in
private discussions) of the real usefulness of the syntax directed approach, its practicality and its
high cost for allegedly low returns [4]. While the author does not dispute many of the points
raised in the technical literature, he believes they emphasize too much the role of syntax directed
tools for program creation, and thus lead to a biased assessment of their real usefulness. This is
currently resulting in the marketing of sophisticated syntax directed editors, restricted to program
creation, whose cost effectiveness may indeed be questionable.<p>The ideas expressed here reflect only the point of view of this author, and are intended as a
basis for discussion on the role of syntax directed editors. The personal judgements on various
aspects of syntax directed environments are not meant as an assessment of the usefulness of
research in those areas, but only as a tentative evaluation of the relative importance of these
aspects for users, given the current state of the art and the author&#x27;s own experience.<p>This experience is based almost solely on the use of the Mentor system [5]. 
Though comparison of several systems would be desirable, the youth of this technology makes it rather difficult
to acquire extensive practical experience with more than one of them.<p>[...]</div><br/></div></div><div id="39256630" class="c"><input type="checkbox" id="c-39256630" checked=""/><div class="controls bullet"><span class="by">donpdonp</span><span>|</span><a href="#39258837">prev</a><span>|</span><a href="#39257085">next</a><span>|</span><label class="collapse" for="c-39256630">[-]</label><label class="expand" for="c-39256630">[1 more]</label></div><br/><div class="children"><div class="content">Sapling is the first AST editor that works how Ive imagined it could. I&#x27;d love to leave all the whitespace wrangling behind and move only between AST nodes in an efficient way. This was a fun editor to try and I think there is something to learn here still to make treesitter editors more powerful&#x2F;efficient.</div><br/></div></div><div id="39257085" class="c"><input type="checkbox" id="c-39257085" checked=""/><div class="controls bullet"><span class="by">rstat1</span><span>|</span><a href="#39256630">prev</a><span>|</span><a href="#39255279">next</a><span>|</span><label class="collapse" for="c-39257085">[-]</label><label class="expand" for="c-39257085">[1 more]</label></div><br/><div class="children"><div class="content">&quot;where you edit code not text&quot;<p><i>gif shows the user editing text</i></div><br/></div></div><div id="39255279" class="c"><input type="checkbox" id="c-39255279" checked=""/><div class="controls bullet"><span class="by">Kab1r</span><span>|</span><a href="#39257085">prev</a><span>|</span><a href="#39258649">next</a><span>|</span><label class="collapse" for="c-39255279">[-]</label><label class="expand" for="c-39255279">[6 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know why I haven&#x27;t thought of this before, but I kinda love the idea of an AST Editor.</div><br/><div id="39255560" class="c"><input type="checkbox" id="c-39255560" checked=""/><div class="controls bullet"><span class="by">linsomniac</span><span>|</span><a href="#39255279">parent</a><span>|</span><a href="#39255883">next</a><span>|</span><label class="collapse" for="c-39255560">[-]</label><label class="expand" for="c-39255560">[1 more]</label></div><br/><div class="children"><div class="content">A buddy of mine and I wanted to experiment with such a thing back in ~&#x27;85.  I started by looking at the &quot;elvis&quot; editor code, trying to wrap my head around it, but I didn&#x27;t really have a clear picture in my head about what a &quot;modal AST editor&quot; would do, just some vague ideas of an editor that operated on parsed syntax (AST wasn&#x27;t on the horizon for us at that point).  I was in HS at the time, and my buddy was working on a masters thesis, I think he was too busy and it was way too big a project for me to handle at that point.<p>One interesting thing about GPT&amp;cetera is that in order to &quot;cheat&quot; by using it, you need to clearly describe the problem you are trying to solve.  If we can get more people to design before coding begins, I think we&#x27;re going to have a win in any case.</div><br/></div></div><div id="39255883" class="c"><input type="checkbox" id="c-39255883" checked=""/><div class="controls bullet"><span class="by">danielvaughn</span><span>|</span><a href="#39255279">parent</a><span>|</span><a href="#39255560">prev</a><span>|</span><a href="#39258649">next</a><span>|</span><label class="collapse" for="c-39255883">[-]</label><label class="expand" for="c-39255883">[4 more]</label></div><br/><div class="children"><div class="content">Itâs a very interesting space. There are several experimental editors out there - theyâre all rough as you might expect, but the possibilities are fun to think about.<p>Iâm building a semi-structured editor for UI - Iâve described it as âvim for designers.â Just as an example of how varied the general idea can be.</div><br/><div id="39255937" class="c"><input type="checkbox" id="c-39255937" checked=""/><div class="controls bullet"><span class="by">ethanbond</span><span>|</span><a href="#39255279">root</a><span>|</span><a href="#39255883">parent</a><span>|</span><a href="#39258649">next</a><span>|</span><label class="collapse" for="c-39255937">[-]</label><label class="expand" for="c-39255937">[3 more]</label></div><br/><div class="children"><div class="content">Iâm VERY interested in this vim for designers idea. Have any resources available to learn more?</div><br/><div id="39255974" class="c"><input type="checkbox" id="c-39255974" checked=""/><div class="controls bullet"><span class="by">danielvaughn</span><span>|</span><a href="#39255279">root</a><span>|</span><a href="#39255937">parent</a><span>|</span><a href="#39258649">next</a><span>|</span><label class="collapse" for="c-39255974">[-]</label><label class="expand" for="c-39255974">[2 more]</label></div><br/><div class="children"><div class="content">Glad to hear thereâs interest! Right now itâs still a small side project, but I could probably toss up a prototype to play around with.<p>I was working on a programming language for designers, and have recently been thinking that it just works better if you build against an AST directly instead of text.<p>The language is called Matry:<p><a href="https:&#x2F;&#x2F;matry.design&#x2F;" rel="nofollow">https:&#x2F;&#x2F;matry.design&#x2F;</a></div><br/><div id="39256306" class="c"><input type="checkbox" id="c-39256306" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#39255279">root</a><span>|</span><a href="#39255974">parent</a><span>|</span><a href="#39258649">next</a><span>|</span><label class="collapse" for="c-39256306">[-]</label><label class="expand" for="c-39256306">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also very interested. I have similar thoughts about the future of &quot;design&quot; (for a very wide-ranging meaning of the word)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39258649" class="c"><input type="checkbox" id="c-39258649" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#39255279">prev</a><span>|</span><a href="#39255099">next</a><span>|</span><label class="collapse" for="c-39258649">[-]</label><label class="expand" for="c-39258649">[1 more]</label></div><br/><div class="children"><div class="content">One of those things that I always thought was a great idea, and it&#x27;s fantastic to see someone actually working on it. AST editing really is the next step for modal editors IMO.</div><br/></div></div><div id="39255099" class="c"><input type="checkbox" id="c-39255099" checked=""/><div class="controls bullet"><span class="by">drekipus</span><span>|</span><a href="#39258649">prev</a><span>|</span><a href="#39255176">next</a><span>|</span><label class="collapse" for="c-39255099">[-]</label><label class="expand" for="c-39255099">[2 more]</label></div><br/><div class="children"><div class="content">This was something that I was thinking of for a while now, and now seeing what it looks like, I don&#x27;t quite like it and I&#x27;m glad I don&#x27;t have to try and implement it to see how it works! :D<p>Great work though, this is a super cool project.</div><br/><div id="39255238" class="c"><input type="checkbox" id="c-39255238" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#39255099">parent</a><span>|</span><a href="#39255176">next</a><span>|</span><label class="collapse" for="c-39255238">[-]</label><label class="expand" for="c-39255238">[1 more]</label></div><br/><div class="children"><div class="content">I also had a similar thought, decided to implement it as a neovim plugin[1] to see what it feels like. Turned out okay! I use it daily now, but I think the important part is it&#x27;s just a &quot;mode&quot; in an otherwise normal editor so I&#x27;m not forced to only navigate by AST nodes.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;gsuuon&#x2F;tshjkl.nvim">https:&#x2F;&#x2F;github.com&#x2F;gsuuon&#x2F;tshjkl.nvim</a></div><br/></div></div></div></div><div id="39257293" class="c"><input type="checkbox" id="c-39257293" checked=""/><div class="controls bullet"><span class="by">coolius</span><span>|</span><a href="#39255176">prev</a><span>|</span><a href="#39255499">next</a><span>|</span><label class="collapse" for="c-39257293">[-]</label><label class="expand" for="c-39257293">[1 more]</label></div><br/><div class="children"><div class="content">somebody tell them about antlr4</div><br/></div></div><div id="39255499" class="c"><input type="checkbox" id="c-39255499" checked=""/><div class="controls bullet"><span class="by">linsomniac</span><span>|</span><a href="#39257293">prev</a><span>|</span><label class="collapse" for="c-39255499">[-]</label><label class="expand" for="c-39255499">[2 more]</label></div><br/><div class="children"><div class="content">Want to star the repo, but it&#x27;s currently at 420 stars so I can&#x27;t bring myself to do it.  :-)</div><br/><div id="39255754" class="c"><input type="checkbox" id="c-39255754" checked=""/><div class="controls bullet"><span class="by">neongreen</span><span>|</span><a href="#39255499">parent</a><span>|</span><label class="collapse" for="c-39255754">[-]</label><label class="expand" for="c-39255754">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s 437 now so you can star</div><br/></div></div></div></div></div></div></div></div></div></body></html>