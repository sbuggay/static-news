<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707901257900" as="style"/><link rel="stylesheet" href="styles.css?v=1707901257900"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/sidju/hired">Hired: A Modern Take on &#x27;Ed&#x27;</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>nateb2022</span> | <span>25 comments</span></div><br/><div><div id="39367440" class="c"><input type="checkbox" id="c-39367440" checked=""/><div class="controls bullet"><span class="by">adityaathalye</span><span>|</span><a href="#39365716">next</a><span>|</span><label class="collapse" for="c-39367440">[-]</label><label class="expand" for="c-39367440">[1 more]</label></div><br/><div class="children"><div class="content">You may enjoy <i>Episode 40 of <a href="https:&#x2F;&#x2F;lambdaisland.com" rel="nofollow">https:&#x2F;&#x2F;lambdaisland.com</a>, published 1 April 2018.</i><p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=6oPRUzzP9DU" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=6oPRUzzP9DU</a><p>They demonstrate how to build the <i>The Ultimate Dev Setup</i> for mind-blowing Interactive Clojure Development atop the one true, the right honourable, the standard editor, Edward &#x27;ed(1)&#x27;.</div><br/></div></div><div id="39365716" class="c"><input type="checkbox" id="c-39365716" checked=""/><div class="controls bullet"><span class="by">gmfawcett</span><span>|</span><a href="#39367440">prev</a><span>|</span><a href="#39366257">next</a><span>|</span><label class="collapse" for="c-39365716">[-]</label><label class="expand" for="c-39365716">[5 more]</label></div><br/><div class="children"><div class="content">So sidju says to themselves, hey, let&#x27;s add syntax highlighting to ed. Kids, this is how you break the eternal seals on the hellmouth, and is also why we can&#x27;t have nice things.</div><br/><div id="39367558" class="c"><input type="checkbox" id="c-39367558" checked=""/><div class="controls bullet"><span class="by">sidju</span><span>|</span><a href="#39365716">parent</a><span>|</span><a href="#39367690">next</a><span>|</span><label class="collapse" for="c-39367558">[-]</label><label class="expand" for="c-39367558">[1 more]</label></div><br/><div class="children"><div class="content">The greatest crime is adding a `help` command and printing errors by default. Fools who stumble into `ed` unprepared should find no solace, it is a crime against the world itself to offer them aid and escape.</div><br/></div></div><div id="39367690" class="c"><input type="checkbox" id="c-39367690" checked=""/><div class="controls bullet"><span class="by">avgcorrection</span><span>|</span><a href="#39365716">parent</a><span>|</span><a href="#39367558">prev</a><span>|</span><a href="#39366257">next</a><span>|</span><label class="collapse" for="c-39367690">[-]</label><label class="expand" for="c-39367690">[3 more]</label></div><br/><div class="children"><div class="content">That’s the same as bat:[1] one of the features is syntax highlighting. Kind of unexpected to find a concatenation program… which also does that.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;sharkdp&#x2F;bat">https:&#x2F;&#x2F;github.com&#x2F;sharkdp&#x2F;bat</a></div><br/><div id="39367737" class="c"><input type="checkbox" id="c-39367737" checked=""/><div class="controls bullet"><span class="by">sidju</span><span>|</span><a href="#39365716">root</a><span>|</span><a href="#39367690">parent</a><span>|</span><a href="#39366257">next</a><span>|</span><label class="collapse" for="c-39367737">[-]</label><label class="expand" for="c-39367737">[2 more]</label></div><br/><div class="children"><div class="content">You wouldn&#x27;t believe how often I run `bat` to quickly read some source code. It is nearly constantly open on my computer.<p>It is just so easy to run, easy to use, can open multiple files and is so readable. Why would I open an editor when I&#x27;m already in a terminal and it&#x27;s right there?</div><br/><div id="39367939" class="c"><input type="checkbox" id="c-39367939" checked=""/><div class="controls bullet"><span class="by">avgcorrection</span><span>|</span><a href="#39365716">root</a><span>|</span><a href="#39367737">parent</a><span>|</span><a href="#39366257">next</a><span>|</span><label class="collapse" for="c-39367939">[-]</label><label class="expand" for="c-39367939">[1 more]</label></div><br/><div class="children"><div class="content">I believe you. :) That’s I guess what most of us do; quickly look at a single file. Not really concatenating multiple files.<p>So the feature makes perfect pragmatic sense.</div><br/></div></div></div></div></div></div></div></div><div id="39366257" class="c"><input type="checkbox" id="c-39366257" checked=""/><div class="controls bullet"><span class="by">teeray</span><span>|</span><a href="#39365716">prev</a><span>|</span><a href="#39367085">next</a><span>|</span><label class="collapse" for="c-39366257">[-]</label><label class="expand" for="c-39366257">[10 more]</label></div><br/><div class="children"><div class="content">Are there any ed users that can speak to what they like about it? I have written ed scripts, but actually using it as an editor just felt like vim but with fog of war turned on.</div><br/><div id="39367831" class="c"><input type="checkbox" id="c-39367831" checked=""/><div class="controls bullet"><span class="by">cturner</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39367165">next</a><span>|</span><label class="collapse" for="c-39367831">[-]</label><label class="expand" for="c-39367831">[1 more]</label></div><br/><div class="children"><div class="content">It is useful when you have typed some commands, and then want to edit a text file without losing the text. Consider if you are working on text that you will want to copy+paste into a jira&#x2F;bugzilla ticket as an evidence-of-work. Or if a second person is watching your screen as you work.<p>It is useful when you are operating over a high-latency connection. As long as you do not send newline by mistake, you can form the command you want to dispatch with confidence. You do not have to worry about where your cursor is, and you won&#x27;t find yourself in an unexpected mode, or having done the wrong number of undos or redos.<p>For a while I used it to write C for a hobby-project on the train, using an android phone and screen keyboard. Simple keypresses are easier than control characters in that setting. If you are interacting with a remote unix system from an ipad, you may find it useful for the same reason.<p>About once a year I find it useful in situations where I have some kind of broken or low-function TTY, or library problems and want to make an edit.<p>At times, it would be useful to have an ed-like mode available in bash, so that you could have access to an editor when your system was preventing you from spawning new processes.</div><br/></div></div><div id="39367165" class="c"><input type="checkbox" id="c-39367165" checked=""/><div class="controls bullet"><span class="by">geocar</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39367831">prev</a><span>|</span><a href="#39366794">next</a><span>|</span><label class="collapse" for="c-39367165">[-]</label><label class="expand" for="c-39367165">[2 more]</label></div><br/><div class="children"><div class="content">I don’t edit files for no reason, so the context of what I am doing is lost when a screen editor takes over the window; ed&#x2F;ex keeps that on-screen, which keeps quick edits quick.<p>I also like being able to see my changes as I work.</div><br/><div id="39367549" class="c"><input type="checkbox" id="c-39367549" checked=""/><div class="controls bullet"><span class="by">avgcorrection</span><span>|</span><a href="#39366257">root</a><span>|</span><a href="#39367165">parent</a><span>|</span><a href="#39366794">next</a><span>|</span><label class="collapse" for="c-39367549">[-]</label><label class="expand" for="c-39367549">[1 more]</label></div><br/><div class="children"><div class="content">This could be pretty useful for writing shorter commit messages (even up to a subject + paragraph). Like a more powerful `cat`.</div><br/></div></div></div></div><div id="39366794" class="c"><input type="checkbox" id="c-39366794" checked=""/><div class="controls bullet"><span class="by">Ferret7446</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39367165">prev</a><span>|</span><a href="#39366997">next</a><span>|</span><label class="collapse" for="c-39366794">[-]</label><label class="expand" for="c-39366794">[1 more]</label></div><br/><div class="children"><div class="content">It works in dumb terminals.  A notable side effect is that it lets you see previous terminal output so you can reference it while you&#x27;re editing, and use Ctrl-Z and fg to swap back and forth.<p>(Although usually I prefer to run my shells in Emacs instead)</div><br/></div></div><div id="39366997" class="c"><input type="checkbox" id="c-39366997" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39366794">prev</a><span>|</span><a href="#39367320">next</a><span>|</span><label class="collapse" for="c-39366997">[-]</label><label class="expand" for="c-39366997">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used it once on an embedded device, which had neither ssh nor telnet. Luckily, it had bash available, so I set up something like this:<p><pre><code>    &#x2F;bin&#x2F;bash &lt;&gt; &#x2F;dev&#x2F;tcp&#x2F;...
</code></pre>
With netcat listening my side. Most things kind of worked (no way to send ctrl-c though) but vi couldn&#x27;t properly redraw it&#x27;s screen. So I had to use ed.</div><br/></div></div><div id="39367320" class="c"><input type="checkbox" id="c-39367320" checked=""/><div class="controls bullet"><span class="by">sidju</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39366997">prev</a><span>|</span><a href="#39367255">next</a><span>|</span><label class="collapse" for="c-39367320">[-]</label><label class="expand" for="c-39367320">[2 more]</label></div><br/><div class="children"><div class="content">The original inspiration was part annoyance at how badly most editor&#x27;s keybindings map to dvorak and part how modern editors sometimes crash.<p>With a command based editor you just type commands, no fancy keybindings that get jumbled when you have a different layout.<p>(And I have plans for writing fired, which is basically hired with a window to see the state of the buffer. It would still be strictly command based though, so not a vim remake.)</div><br/><div id="39367627" class="c"><input type="checkbox" id="c-39367627" checked=""/><div class="controls bullet"><span class="by">sidju</span><span>|</span><a href="#39366257">root</a><span>|</span><a href="#39367320">parent</a><span>|</span><a href="#39367255">next</a><span>|</span><label class="collapse" for="c-39367627">[-]</label><label class="expand" for="c-39367627">[1 more]</label></div><br/><div class="children"><div class="content">Oh, yes. I find ed to be excellently usable since the most common code editing operations are (in my perception) well supported in ed:
- moving or copying chunks of code (`m` and `t` commands)
- deleting or replacing chunks of code (`d` and `c`)
- writing new code (`a` and `i`)
- renaming stuff (`s` and `g`)
- and rarely, small edits to existing code (`s` and `C` in hired)<p>As long as you write your code with plenty line-breaks it is often easy to just
replace a line to make the change you want, so `s` and `C` are rarely needed (though I am weak and tend to use `C` quite often, for example to get the indentation right when adding lines).</div><br/></div></div></div></div><div id="39367255" class="c"><input type="checkbox" id="c-39367255" checked=""/><div class="controls bullet"><span class="by">pram</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39367320">prev</a><span>|</span><a href="#39366892">next</a><span>|</span><label class="collapse" for="c-39367255">[-]</label><label class="expand" for="c-39367255">[1 more]</label></div><br/><div class="children"><div class="content">Well, it is the standard text editor after all.</div><br/></div></div><div id="39366892" class="c"><input type="checkbox" id="c-39366892" checked=""/><div class="controls bullet"><span class="by">agumonkey</span><span>|</span><a href="#39366257">parent</a><span>|</span><a href="#39367255">prev</a><span>|</span><a href="#39367085">next</a><span>|</span><label class="collapse" for="c-39366892">[-]</label><label class="expand" for="c-39366892">[1 more]</label></div><br/><div class="children"><div class="content">I like fog of war, it keeps me sharp</div><br/></div></div></div></div><div id="39367085" class="c"><input type="checkbox" id="c-39367085" checked=""/><div class="controls bullet"><span class="by">swdunlop</span><span>|</span><a href="#39366257">prev</a><span>|</span><a href="#39366701">next</a><span>|</span><label class="collapse" for="c-39367085">[-]</label><label class="expand" for="c-39367085">[1 more]</label></div><br/><div class="children"><div class="content">I was expecting electron in there somewhere.</div><br/></div></div><div id="39366701" class="c"><input type="checkbox" id="c-39366701" checked=""/><div class="controls bullet"><span class="by">iav</span><span>|</span><a href="#39367085">prev</a><span>|</span><label class="collapse" for="c-39366701">[-]</label><label class="expand" for="c-39366701">[7 more]</label></div><br/><div class="children"><div class="content">This is in Rust? I was expecting Ed to be in C…</div><br/><div id="39367372" class="c"><input type="checkbox" id="c-39367372" checked=""/><div class="controls bullet"><span class="by">sidju</span><span>|</span><a href="#39366701">parent</a><span>|</span><a href="#39367146">next</a><span>|</span><label class="collapse" for="c-39367372">[-]</label><label class="expand" for="c-39367372">[1 more]</label></div><br/><div class="children"><div class="content">Sorry to disappoint. Would have been difficult to make it this feature rich and have as explicit errors if I wrote it in C.<p>Reasons for choosing rust were:
- Error handling style, easy to include context
- Easy to import and use syntax highlighting library
- Some level of inherent UTF-8 validation and support
- Easier to make the ed-runtime support pluggable IO and UI</div><br/></div></div><div id="39367146" class="c"><input type="checkbox" id="c-39367146" checked=""/><div class="controls bullet"><span class="by">flgstnd</span><span>|</span><a href="#39366701">parent</a><span>|</span><a href="#39367372">prev</a><span>|</span><a href="#39367368">next</a><span>|</span><label class="collapse" for="c-39367146">[-]</label><label class="expand" for="c-39367146">[3 more]</label></div><br/><div class="children"><div class="content">i thought i like rust, compiling this program was very weird. it took multiple minutes on full CPU load and even after cargo finished there was still a build process using one CPU core on 100% until i killed it.</div><br/><div id="39367331" class="c"><input type="checkbox" id="c-39367331" checked=""/><div class="controls bullet"><span class="by">sidju</span><span>|</span><a href="#39366701">root</a><span>|</span><a href="#39367146">parent</a><span>|</span><a href="#39367368">next</a><span>|</span><label class="collapse" for="c-39367331">[-]</label><label class="expand" for="c-39367331">[2 more]</label></div><br/><div class="children"><div class="content">That sounds strange. Could you give reproduction instructions? (OS, architecture, rust version)
Maybe there&#x27;s some kind of upstream bug I should report.</div><br/><div id="39367669" class="c"><input type="checkbox" id="c-39367669" checked=""/><div class="controls bullet"><span class="by">flgstnd</span><span>|</span><a href="#39366701">root</a><span>|</span><a href="#39367331">parent</a><span>|</span><a href="#39367368">next</a><span>|</span><label class="collapse" for="c-39367669">[-]</label><label class="expand" for="c-39367669">[1 more]</label></div><br/><div class="children"><div class="content">I used x86_64 GNU&#x2F;Linux, NixOS, cargo 1.78.0-nightly (ccc84ccec 2024-02-07).
When deleting the target directory and running `cargo build`, all the dependency crates build pretty fast. But then the build script takes ages. And somehow runs twice.
In the target&#x2F;debug&#x2F;build dir are 2 different build-script-build executables, that produce the same outputs (compressed_syntaxes&#x2F;theme).
I thought it might be related to the `cargo:rerun-if-changed` stuff in the build.rs but it&#x27;s the same with those lines commented out.</div><br/></div></div></div></div></div></div><div id="39367368" class="c"><input type="checkbox" id="c-39367368" checked=""/><div class="controls bullet"><span class="by">breather</span><span>|</span><a href="#39366701">parent</a><span>|</span><a href="#39367146">prev</a><span>|</span><a href="#39366959">next</a><span>|</span><label class="collapse" for="c-39367368">[-]</label><label class="expand" for="c-39367368">[1 more]</label></div><br/><div class="children"><div class="content">Why make the same mistake twice?</div><br/></div></div><div id="39366959" class="c"><input type="checkbox" id="c-39366959" checked=""/><div class="controls bullet"><span class="by">snvzz</span><span>|</span><a href="#39366701">parent</a><span>|</span><a href="#39367368">prev</a><span>|</span><label class="collapse" for="c-39366959">[-]</label><label class="expand" for="c-39366959">[1 more]</label></div><br/><div class="children"><div class="content">Same. I was hoping for ISO C99, to maybe port to AmigaOS.<p>But it&#x27;s rusty.</div><br/></div></div></div></div></div></div></div></div></div></body></html>