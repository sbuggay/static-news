<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725354074872" as="style"/><link rel="stylesheet" href="styles.css?v=1725354074872"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blancas.io/blog/ai-web-scraper/">Web scraping with GPT-4o: powerful but expensive</a> <span class="domain">(<a href="https://blancas.io">blancas.io</a>)</span></div><div class="subtext"><span>edublancas</span> | <span>97 comments</span></div><br/><div><div id="41432554" class="c"><input type="checkbox" id="c-41432554" checked=""/><div class="controls bullet"><span class="by">namukang</span><span>|</span><a href="#41429751">next</a><span>|</span><label class="collapse" for="c-41432554">[-]</label><label class="expand" for="c-41432554">[1 more]</label></div><br/><div class="children"><div class="content">For structured content (e.g. lists of items, simple tables), you really don’t need LLMs.<p>I recently built a web scraper to automatically work on any website [0] and built the initial version using AI, but I found that using heuristics based on element attributes and positioning ended up being faster, cheaper, and more accurate (no hallucinations!).<p>For most websites, the non-AI approach works incredibly well so I’d make sure AI is really necessary (e.g. data is unstructured, need to derive or format the output based on the page data) before incorporating it.<p>[0] <a href="https:&#x2F;&#x2F;easyscraper.com" rel="nofollow">https:&#x2F;&#x2F;easyscraper.com</a></div><br/></div></div><div id="41429751" class="c"><input type="checkbox" id="c-41429751" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#41432554">prev</a><span>|</span><a href="#41429331">next</a><span>|</span><label class="collapse" for="c-41429751">[-]</label><label class="expand" for="c-41429751">[11 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve had the best success by first converting the HTML to a simpler format (i.e. markdown) before passing it to the LLM.<p>There are a few ways to do this that we&#x27;ve tried, namely Extractus[0] and dom-to-semantic-markdown[1].<p>Internally we use Apify[2] and Firecrawl[3] for Magic Loops[4] that run in the cloud, both of which have options for simplifying pages built-in, but for our Chrome Extension we use dom-to-semantic-markdown.<p>Similar to the article, we&#x27;re currently exploring a user-assisted flow to generate XPaths for a given site, which we can then use to extract specific elements before hitting the LLM.<p>By simplifying the &quot;problem&quot; we&#x27;ve had decent success, even with GPT-4o mini.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;extractus">https:&#x2F;&#x2F;github.com&#x2F;extractus</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;romansky&#x2F;dom-to-semantic-markdown">https:&#x2F;&#x2F;github.com&#x2F;romansky&#x2F;dom-to-semantic-markdown</a><p>[2] <a href="https:&#x2F;&#x2F;apify.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;apify.com&#x2F;</a><p>[3] <a href="https:&#x2F;&#x2F;www.firecrawl.dev&#x2F;">https:&#x2F;&#x2F;www.firecrawl.dev&#x2F;</a><p>[4] <a href="https:&#x2F;&#x2F;magicloops.dev&#x2F;">https:&#x2F;&#x2F;magicloops.dev&#x2F;</a></div><br/><div id="41430953" class="c"><input type="checkbox" id="c-41430953" checked=""/><div class="controls bullet"><span class="by">pkiv</span><span>|</span><a href="#41429751">parent</a><span>|</span><a href="#41431521">next</a><span>|</span><label class="collapse" for="c-41430953">[-]</label><label class="expand" for="c-41430953">[7 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re open to it, I&#x27;d love to hear what you think of what we&#x27;re building at <a href="https:&#x2F;&#x2F;browserbase.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;browserbase.com&#x2F;</a> - you can run a chrome extension on a headless browser so you can do the semantic markdown within the browser, before pulling anything off.<p>We even have an iFrame-able live view of the browser, so your users can get real-time feedback on the XPaths they&#x27;re generating: <a href="https:&#x2F;&#x2F;docs.browserbase.com&#x2F;features&#x2F;session-live-view#give-control-over-the-session-to-your-end-users" rel="nofollow">https:&#x2F;&#x2F;docs.browserbase.com&#x2F;features&#x2F;session-live-view#give...</a><p>Happy to answer any questions!</div><br/><div id="41431839" class="c"><input type="checkbox" id="c-41431839" checked=""/><div class="controls bullet"><span class="by">naiv</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41430953">parent</a><span>|</span><a href="#41431643">next</a><span>|</span><label class="collapse" for="c-41431839">[-]</label><label class="expand" for="c-41431839">[1 more]</label></div><br/><div class="children"><div class="content">Awesome product!<p>I was just a bit confused that the sign up buttons for the Hobby and Scale plans are grey, I thought that they are disabled until randomly hovering over them.</div><br/></div></div><div id="41431643" class="c"><input type="checkbox" id="c-41431643" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41430953">parent</a><span>|</span><a href="#41431839">prev</a><span>|</span><a href="#41431948">next</a><span>|</span><label class="collapse" for="c-41431643">[-]</label><label class="expand" for="c-41431643">[2 more]</label></div><br/><div class="children"><div class="content">This is super neat and I think I&#x27;ve seen your site before :)<p>Do you handle authentication? We have lots of users that want to automate some part of their daily workflow but the pages are often behind a login and&#x2F;or require a few clicks to reach the desired content.<p>Happy to chat: username@gmail.com</div><br/><div id="41432630" class="c"><input type="checkbox" id="c-41432630" checked=""/><div class="controls bullet"><span class="by">retrofuturism</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41431643">parent</a><span>|</span><a href="#41431948">next</a><span>|</span><label class="collapse" for="c-41432630">[-]</label><label class="expand" for="c-41432630">[1 more]</label></div><br/><div class="children"><div class="content">You must get a lot of test emails to that FANTASTIC gmail address. Funny how it might even be worth some decent money.</div><br/></div></div></div></div><div id="41431948" class="c"><input type="checkbox" id="c-41431948" checked=""/><div class="controls bullet"><span class="by">emilburzo</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41430953">parent</a><span>|</span><a href="#41431643">prev</a><span>|</span><a href="#41431636">next</a><span>|</span><label class="collapse" for="c-41431948">[-]</label><label class="expand" for="c-41431948">[1 more]</label></div><br/><div class="children"><div class="content">Romania is missing from the list of phone number countries on signup, not sure if on purpose or not.</div><br/></div></div><div id="41431636" class="c"><input type="checkbox" id="c-41431636" checked=""/><div class="controls bullet"><span class="by">sunshadow</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41430953">parent</a><span>|</span><a href="#41431948">prev</a><span>|</span><a href="#41431521">next</a><span>|</span><label class="collapse" for="c-41431636">[-]</label><label class="expand" for="c-41431636">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see any difference than browserless?</div><br/><div id="41431668" class="c"><input type="checkbox" id="c-41431668" checked=""/><div class="controls bullet"><span class="by">pkiv</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41431636">parent</a><span>|</span><a href="#41431521">next</a><span>|</span><label class="collapse" for="c-41431668">[-]</label><label class="expand" for="c-41431668">[1 more]</label></div><br/><div class="children"><div class="content">The price and the dashboard are a great start :)</div><br/></div></div></div></div></div></div><div id="41431521" class="c"><input type="checkbox" id="c-41431521" checked=""/><div class="controls bullet"><span class="by">snthpy</span><span>|</span><a href="#41429751">parent</a><span>|</span><a href="#41430953">prev</a><span>|</span><a href="#41431027">next</a><span>|</span><label class="collapse" for="c-41431521">[-]</label><label class="expand" for="c-41431521">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for these.<p>I&#x27;ve been wanting to try the same approach and have been looking for the right tools.</div><br/></div></div><div id="41431027" class="c"><input type="checkbox" id="c-41431027" checked=""/><div class="controls bullet"><span class="by">neeleshs</span><span>|</span><a href="#41429751">parent</a><span>|</span><a href="#41431521">prev</a><span>|</span><a href="#41429331">next</a><span>|</span><label class="collapse" for="c-41431027">[-]</label><label class="expand" for="c-41431027">[2 more]</label></div><br/><div class="children"><div class="content">We did something similar -na although in a somewhat different context.<p>Translating a complex JSON representing an execution graph to a simpler graphviz dot format first and then feeding it to an LLM. We had decent success.</div><br/><div id="41431649" class="c"><input type="checkbox" id="c-41431649" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#41429751">root</a><span>|</span><a href="#41431027">parent</a><span>|</span><a href="#41429331">next</a><span>|</span><label class="collapse" for="c-41431649">[-]</label><label class="expand" for="c-41431649">[1 more]</label></div><br/><div class="children"><div class="content">Yes, just like with humans, if you simplify the context, it&#x27;s often much easier to get the desired result.<p>Source: I have a toddler at home.</div><br/></div></div></div></div></div></div><div id="41429331" class="c"><input type="checkbox" id="c-41429331" checked=""/><div class="controls bullet"><span class="by">tom1337</span><span>|</span><a href="#41429751">prev</a><span>|</span><a href="#41429690">next</a><span>|</span><label class="collapse" for="c-41429331">[-]</label><label class="expand" for="c-41429331">[7 more]</label></div><br/><div class="children"><div class="content">OpenAI recently announced a Batch API [1] which allows you to prepare all prompts and then run them as a batch. This reduces costs as its just 50% the price. Used it a lot with GPT-4o mini in the past and was able to prompt 3000 Items in less than 5min. Could be great for non-realtime applications.<p>[1] <a href="https:&#x2F;&#x2F;platform.openai.com&#x2F;docs&#x2F;guides&#x2F;batch" rel="nofollow">https:&#x2F;&#x2F;platform.openai.com&#x2F;docs&#x2F;guides&#x2F;batch</a></div><br/><div id="41432184" class="c"><input type="checkbox" id="c-41432184" checked=""/><div class="controls bullet"><span class="by">LunaSea</span><span>|</span><a href="#41429331">parent</a><span>|</span><a href="#41429662">next</a><span>|</span><label class="collapse" for="c-41432184">[-]</label><label class="expand" for="c-41432184">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great proposition by OpenAI.
I think however that it is still one to two orders of magnitude too expensive compared to traditional text extraction with very similar precision and recall levels.</div><br/></div></div><div id="41429662" class="c"><input type="checkbox" id="c-41429662" checked=""/><div class="controls bullet"><span class="by">Tostino</span><span>|</span><a href="#41429331">parent</a><span>|</span><a href="#41432184">prev</a><span>|</span><a href="#41429690">next</a><span>|</span><label class="collapse" for="c-41429662">[-]</label><label class="expand" for="c-41429662">[5 more]</label></div><br/><div class="children"><div class="content">I hope some of the opensource inference servers start supporting that endpoint soon. I know vLLM has added some &quot;offline batch mode&quot; support with the same format, they just haven&#x27;t gotten around to implementing it on the OpenAI endpoint yet.</div><br/><div id="41432194" class="c"><input type="checkbox" id="c-41432194" checked=""/><div class="controls bullet"><span class="by">johndough</span><span>|</span><a href="#41429331">root</a><span>|</span><a href="#41429662">parent</a><span>|</span><a href="#41430864">next</a><span>|</span><label class="collapse" for="c-41432194">[-]</label><label class="expand" for="c-41432194">[2 more]</label></div><br/><div class="children"><div class="content">llama.cpp enabled continuous batching by default half a year ago: <a href="https:&#x2F;&#x2F;github.com&#x2F;ggerganov&#x2F;llama.cpp&#x2F;pull&#x2F;6231">https:&#x2F;&#x2F;github.com&#x2F;ggerganov&#x2F;llama.cpp&#x2F;pull&#x2F;6231</a><p>There is no need for a new API endpoint. Just send multiple requests at once.</div><br/><div id="41432255" class="c"><input type="checkbox" id="c-41432255" checked=""/><div class="controls bullet"><span class="by">Tostino</span><span>|</span><a href="#41429331">root</a><span>|</span><a href="#41432194">parent</a><span>|</span><a href="#41430864">next</a><span>|</span><label class="collapse" for="c-41432255">[-]</label><label class="expand" for="c-41432255">[1 more]</label></div><br/><div class="children"><div class="content">The point of the endpoint is to be able to standardize my codebase and have an agnostic LLM provider that works the same.<p>Continuous batching is helpful for this type of thing, but it really isn&#x27;t everything you need. You&#x27;d ideally maintain a low priority queue for the batch endpoint and a high priority queue for your real-time chat&#x2F;completions endpoint.<p>Would allow utilizing your hardware much better.</div><br/></div></div></div></div><div id="41430864" class="c"><input type="checkbox" id="c-41430864" checked=""/><div class="controls bullet"><span class="by">asaddhamani</span><span>|</span><a href="#41429331">root</a><span>|</span><a href="#41429662">parent</a><span>|</span><a href="#41432194">prev</a><span>|</span><a href="#41429690">next</a><span>|</span><label class="collapse" for="c-41430864">[-]</label><label class="expand" for="c-41430864">[2 more]</label></div><br/><div class="children"><div class="content">Do note it can take up to 24 hours or drop requests altogether. But if that’s not an issue for your use case it’s a great cost saving.</div><br/><div id="41430918" class="c"><input type="checkbox" id="c-41430918" checked=""/><div class="controls bullet"><span class="by">jumploops</span><span>|</span><a href="#41429331">root</a><span>|</span><a href="#41430864">parent</a><span>|</span><a href="#41429690">next</a><span>|</span><label class="collapse" for="c-41430918">[-]</label><label class="expand" for="c-41430918">[1 more]</label></div><br/><div class="children"><div class="content">This is neat, I’ve been looking for a way to run our analytics (LLM-based) without affecting the rate limits of our prod app.<p>May need to give this a try!</div><br/></div></div></div></div></div></div></div></div><div id="41429690" class="c"><input type="checkbox" id="c-41429690" checked=""/><div class="controls bullet"><span class="by">parhamn</span><span>|</span><a href="#41429331">prev</a><span>|</span><a href="#41431356">next</a><span>|</span><label class="collapse" for="c-41429690">[-]</label><label class="expand" for="c-41429690">[22 more]</label></div><br/><div class="children"><div class="content">Is there a &quot;html reducer&quot; out there? I&#x27;ve been considering writing one. If you take a page&#x27;s source it&#x27;s going to be 90% garbage tokens -- random JS, ads, unnecessary properties, aggressive nesting for layout rendering, etc.<p>I feel like if you used a dom parser to walk and only keep nodes with text, the html structure and the necessary tag properties (class&#x2F;id only maybe?) you&#x27;d have significant savings. Perhaps the xpath thing might work better too. You can even even drop necessary symbols and represent it as a indented text file.<p>We use readability for things like this but you lose the dom structure and their quality reduces with JS heavy websites and  pages with actions like &quot;continue reading&quot; which expand the text.<p>Whats the gold standard for something like this?</div><br/><div id="41431309" class="c"><input type="checkbox" id="c-41431309" checked=""/><div class="controls bullet"><span class="by">suchintan</span><span>|</span><a href="#41429690">parent</a><span>|</span><a href="#41429746">next</a><span>|</span><label class="collapse" for="c-41431309">[-]</label><label class="expand" for="c-41431309">[1 more]</label></div><br/><div class="children"><div class="content">We wrote something like this to power Skyvern: <a href="https:&#x2F;&#x2F;github.com&#x2F;Skyvern-AI&#x2F;skyvern&#x2F;blob&#x2F;0d39e62df6c516e0aaf14e570139d12ca86cebfe&#x2F;skyvern&#x2F;webeye&#x2F;scraper&#x2F;domUtils.js#L66">https:&#x2F;&#x2F;github.com&#x2F;Skyvern-AI&#x2F;skyvern&#x2F;blob&#x2F;0d39e62df6c516e0a...</a><p>It&#x27;s adapted from vimium and works like a charm. Distill the html down to it&#x27;s important bits, and handle a ton of edge cases along the way haha</div><br/></div></div><div id="41429746" class="c"><input type="checkbox" id="c-41429746" checked=""/><div class="controls bullet"><span class="by">axg11</span><span>|</span><a href="#41429690">parent</a><span>|</span><a href="#41431309">prev</a><span>|</span><a href="#41429719">next</a><span>|</span><label class="collapse" for="c-41429746">[-]</label><label class="expand" for="c-41429746">[7 more]</label></div><br/><div class="children"><div class="content">I wrote an in-house one for Ribbon. If there’s interest, will open source this. It’s amazing how much better our LLM outputs are with the reducer.</div><br/><div id="41432110" class="c"><input type="checkbox" id="c-41432110" checked=""/><div class="controls bullet"><span class="by">ushtaritk421</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429746">parent</a><span>|</span><a href="#41429768">next</a><span>|</span><label class="collapse" for="c-41432110">[-]</label><label class="expand" for="c-41432110">[1 more]</label></div><br/><div class="children"><div class="content">I would be very interested in this.</div><br/></div></div><div id="41429768" class="c"><input type="checkbox" id="c-41429768" checked=""/><div class="controls bullet"><span class="by">parhamn</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429746">parent</a><span>|</span><a href="#41432110">prev</a><span>|</span><a href="#41429763">next</a><span>|</span><label class="collapse" for="c-41429768">[-]</label><label class="expand" for="c-41429768">[1 more]</label></div><br/><div class="children"><div class="content">Yes! Happy to try it on a fairly large user base and contribute to it! Email in bio if you want a beta user.</div><br/></div></div><div id="41429763" class="c"><input type="checkbox" id="c-41429763" checked=""/><div class="controls bullet"><span class="by">Tostino</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429746">parent</a><span>|</span><a href="#41429768">prev</a><span>|</span><a href="#41429758">next</a><span>|</span><label class="collapse" for="c-41429763">[-]</label><label class="expand" for="c-41429763">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m absolutely interested in this.</div><br/></div></div><div id="41429758" class="c"><input type="checkbox" id="c-41429758" checked=""/><div class="controls bullet"><span class="by">kurthr</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429746">parent</a><span>|</span><a href="#41429763">prev</a><span>|</span><a href="#41430573">next</a><span>|</span><label class="collapse" for="c-41429758">[-]</label><label class="expand" for="c-41429758">[1 more]</label></div><br/><div class="children"><div class="content">That would be wonderful.</div><br/></div></div><div id="41430573" class="c"><input type="checkbox" id="c-41430573" checked=""/><div class="controls bullet"><span class="by">7thpower</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429746">parent</a><span>|</span><a href="#41429758">prev</a><span>|</span><a href="#41430042">next</a><span>|</span><label class="collapse" for="c-41430573">[-]</label><label class="expand" for="c-41430573">[1 more]</label></div><br/><div class="children"><div class="content">Yes please</div><br/></div></div><div id="41430042" class="c"><input type="checkbox" id="c-41430042" checked=""/><div class="controls bullet"><span class="by">downWidOutaFite</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429746">parent</a><span>|</span><a href="#41430573">prev</a><span>|</span><a href="#41429719">next</a><span>|</span><label class="collapse" for="c-41430042">[-]</label><label class="expand" for="c-41430042">[1 more]</label></div><br/><div class="children"><div class="content">+1</div><br/></div></div></div></div><div id="41429719" class="c"><input type="checkbox" id="c-41429719" checked=""/><div class="controls bullet"><span class="by">edublancas</span><span>|</span><a href="#41429690">parent</a><span>|</span><a href="#41429746">prev</a><span>|</span><a href="#41429716">next</a><span>|</span><label class="collapse" for="c-41429719">[-]</label><label class="expand" for="c-41429719">[4 more]</label></div><br/><div class="children"><div class="content">author here: I&#x27;m working on a follow-up post. Turns out, removing all HTML tags works great and reduces the cost by a huge margin.</div><br/><div id="41430581" class="c"><input type="checkbox" id="c-41430581" checked=""/><div class="controls bullet"><span class="by">7thpower</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429719">parent</a><span>|</span><a href="#41429716">next</a><span>|</span><label class="collapse" for="c-41430581">[-]</label><label class="expand" for="c-41430581">[3 more]</label></div><br/><div class="children"><div class="content">What do you mean? What do you use as reference points?</div><br/><div id="41430868" class="c"><input type="checkbox" id="c-41430868" checked=""/><div class="controls bullet"><span class="by">edublancas</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41430581">parent</a><span>|</span><a href="#41429716">next</a><span>|</span><label class="collapse" for="c-41430868">[-]</label><label class="expand" for="c-41430868">[2 more]</label></div><br/><div class="children"><div class="content">nothing, I strip out all the HTML tags and pass raw text</div><br/><div id="41431045" class="c"><input type="checkbox" id="c-41431045" checked=""/><div class="controls bullet"><span class="by">isaacfung</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41430868">parent</a><span>|</span><a href="#41429716">next</a><span>|</span><label class="collapse" for="c-41431045">[-]</label><label class="expand" for="c-41431045">[1 more]</label></div><br/><div class="children"><div class="content">How do you keep table structure?</div><br/></div></div></div></div></div></div></div></div><div id="41429716" class="c"><input type="checkbox" id="c-41429716" checked=""/><div class="controls bullet"><span class="by">lelandfe</span><span>|</span><a href="#41429690">parent</a><span>|</span><a href="#41429719">prev</a><span>|</span><a href="#41430481">next</a><span>|</span><label class="collapse" for="c-41429716">[-]</label><label class="expand" for="c-41429716">[3 more]</label></div><br/><div class="children"><div class="content">Only works insofar as sites are being nice. A lot of sites do things like: render all text via JS, render article text via API, paywall content by showing a preview snippet of static text before swapping it for the full text (which lives in a different element), lazyload images, lazyload text, etc etc.<p>DOM parsing wasn&#x27;t enough for Google&#x27;s SEO algo, either. I&#x27;ll even see Safari&#x27;s &quot;reader mode&quot; fail utterly on site after site for some of these reasons. I tend to have to scroll the entire page before running it.</div><br/><div id="41432365" class="c"><input type="checkbox" id="c-41432365" checked=""/><div class="controls bullet"><span class="by">zexodus</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429716">parent</a><span>|</span><a href="#41429747">next</a><span>|</span><label class="collapse" for="c-41432365">[-]</label><label class="expand" for="c-41432365">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s possible to capture the DOM by running a headless browser (i.e. with chromedriver&#x2F;geckodriver), allowing the js execute and then saving the HTML.<p>If these readers do not use already rendered HTML to parse the information on the screen, then...</div><br/></div></div></div></div><div id="41430481" class="c"><input type="checkbox" id="c-41430481" checked=""/><div class="controls bullet"><span class="by">purple-leafy</span><span>|</span><a href="#41429690">parent</a><span>|</span><a href="#41429716">prev</a><span>|</span><a href="#41429712">next</a><span>|</span><label class="collapse" for="c-41430481">[-]</label><label class="expand" for="c-41430481">[1 more]</label></div><br/><div class="children"><div class="content">I wrote one for a project that captures a portion of the DOM and sends it to an LLM.<p>It’s strips all JS&#x2F;event handlers, most attributes and most CSS, and only keeps important text nodes<p>I needed this because I was using LLM to reimplement portions of a page using just tailwind, so needed to minimise input tokens</div><br/></div></div><div id="41429712" class="c"><input type="checkbox" id="c-41429712" checked=""/><div class="controls bullet"><span class="by">ErikAugust</span><span>|</span><a href="#41429690">parent</a><span>|</span><a href="#41430481">prev</a><span>|</span><a href="#41429728">next</a><span>|</span><label class="collapse" for="c-41429712">[-]</label><label class="expand" for="c-41429712">[4 more]</label></div><br/><div class="children"><div class="content">Running it through Readability:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;readability">https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;readability</a></div><br/><div id="41429738" class="c"><input type="checkbox" id="c-41429738" checked=""/><div class="controls bullet"><span class="by">parhamn</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429712">parent</a><span>|</span><a href="#41429777">prev</a><span>|</span><a href="#41429728">next</a><span>|</span><label class="collapse" for="c-41429738">[-]</label><label class="expand" for="c-41429738">[2 more]</label></div><br/><div class="children"><div class="content">I snuck in an edit about readability before I saw your reply. The quality of that one in particular is very meh, especially for most new sites and then you lose all of the dom structure in case you want to do more with the page. Though now I&#x27;m curious how it works on the weather.com page the author tried. pupeteer -&gt; screenshot -&gt; ocr (or even multi-modal which many do OCR first) -&gt; LLM pipeline might work better there.</div><br/><div id="41432210" class="c"><input type="checkbox" id="c-41432210" checked=""/><div class="controls bullet"><span class="by">LunaSea</span><span>|</span><a href="#41429690">root</a><span>|</span><a href="#41429738">parent</a><span>|</span><a href="#41429728">next</a><span>|</span><label class="collapse" for="c-41432210">[-]</label><label class="expand" for="c-41432210">[1 more]</label></div><br/><div class="children"><div class="content">Issue is that Llama are x100 more expensive at the very least.</div><br/></div></div></div></div></div></div></div></div><div id="41431356" class="c"><input type="checkbox" id="c-41431356" checked=""/><div class="controls bullet"><span class="by">hubraumhugo</span><span>|</span><a href="#41429690">prev</a><span>|</span><a href="#41432341">next</a><span>|</span><label class="collapse" for="c-41431356">[-]</label><label class="expand" for="c-41431356">[2 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve been working on AI-automated web scraping at Kadoa[0] and our early experiments were similar to the those in the article. We started when only the expensive and slow GPT-3 was available, which pushed us to develop a cost-effective solution at scale.<p>Here is what we ended up with:<p>- Extraction: We use codegen to generate CSS selectors or XPath extraction code. This is more efficient than using LLMs for every data extraction. Using an LLM for every data extraction, would be expensive and slow, but using LLMs to generate the scraper code and subsequently adapt it to website modifications is highly efficient.<p>- Cleansing &amp; transformation: We use small fine-tuned LLMs to clean and map data into the desired format.<p>- Validation: Unstructured data is a pain to validate. Among traditional data validation methods like reverse search, we use LLM-as-a-judge to evaluate the data quality.<p>We quickly realized that doing this for a few data sources with low complexity is one thing, doing it for thousands of websites in a reliable, scalable, and cost-efficient way is a whole different beast.<p>Combining traditional ETL engineering methods with small, well-evaluated LLM steps was the way to go for us<p>[0] <a href="https:&#x2F;&#x2F;kadoa.com" rel="nofollow">https:&#x2F;&#x2F;kadoa.com</a></div><br/><div id="41432754" class="c"><input type="checkbox" id="c-41432754" checked=""/><div class="controls bullet"><span class="by">artembugara</span><span>|</span><a href="#41431356">parent</a><span>|</span><a href="#41432341">next</a><span>|</span><label class="collapse" for="c-41432754">[-]</label><label class="expand" for="c-41432754">[1 more]</label></div><br/><div class="children"><div class="content">this! I&#x27;ve been following Kadoa since its very first days. Great team.</div><br/></div></div></div></div><div id="41432341" class="c"><input type="checkbox" id="c-41432341" checked=""/><div class="controls bullet"><span class="by">abhgh</span><span>|</span><a href="#41431356">prev</a><span>|</span><a href="#41431580">next</a><span>|</span><label class="collapse" for="c-41432341">[-]</label><label class="expand" for="c-41432341">[1 more]</label></div><br/><div class="children"><div class="content">As others have mentioned here you might get better results cheaper (this probably wasn&#x27;t the point of the article, so just fyi) if you preprocess the html first. I personally have had good results with trafilatura[1], which I don&#x27;t see mentioned yet.<p>[1] <a href="https:&#x2F;&#x2F;trafilatura.readthedocs.io&#x2F;en&#x2F;latest&#x2F;" rel="nofollow">https:&#x2F;&#x2F;trafilatura.readthedocs.io&#x2F;en&#x2F;latest&#x2F;</a></div><br/></div></div><div id="41431580" class="c"><input type="checkbox" id="c-41431580" checked=""/><div class="controls bullet"><span class="by">tuktuktuk</span><span>|</span><a href="#41432341">prev</a><span>|</span><a href="#41429549">next</a><span>|</span><label class="collapse" for="c-41431580">[-]</label><label class="expand" for="c-41431580">[1 more]</label></div><br/><div class="children"><div class="content">Can you share how long it took for you to parse the HTML? I recently experimented with comparing different AI models, including GPT-4o, alongside Gemini and Claude to parse raw HTML: <a href="https:&#x2F;&#x2F;serpapi.com&#x2F;blog&#x2F;web-scraping-with-ai-parsing-html-to-structured-data&#x2F;" rel="nofollow">https:&#x2F;&#x2F;serpapi.com&#x2F;blog&#x2F;web-scraping-with-ai-parsing-html-t...</a>. Result is pretty interesting.</div><br/></div></div><div id="41429549" class="c"><input type="checkbox" id="c-41429549" checked=""/><div class="controls bullet"><span class="by">jasonthorsness</span><span>|</span><a href="#41431580">prev</a><span>|</span><a href="#41429306">next</a><span>|</span><label class="collapse" for="c-41429549">[-]</label><label class="expand" for="c-41429549">[1 more]</label></div><br/><div class="children"><div class="content">I also had good results with structured outputs, scraping news articles for city names from <a href="https:&#x2F;&#x2F;lite.cnn.com" rel="nofollow">https:&#x2F;&#x2F;lite.cnn.com</a> for the “in the news” list at <a href="https:&#x2F;&#x2F;weather.bingo" rel="nofollow">https:&#x2F;&#x2F;weather.bingo</a> - code here: <a href="https:&#x2F;&#x2F;www.jasonthorsness.com&#x2F;13" rel="nofollow">https:&#x2F;&#x2F;www.jasonthorsness.com&#x2F;13</a><p>I’ve had problems with hallucinations though even for something as simple as city names; also the model often ignores my prompt and returns country names - am thinking of trying a two-stage scrape with one checking the output of the other.</div><br/></div></div><div id="41429306" class="c"><input type="checkbox" id="c-41429306" checked=""/><div class="controls bullet"><span class="by">kcorbitt</span><span>|</span><a href="#41429549">prev</a><span>|</span><a href="#41431371">next</a><span>|</span><label class="collapse" for="c-41429306">[-]</label><label class="expand" for="c-41429306">[3 more]</label></div><br/><div class="children"><div class="content">Funnily enough, web scraping was actually the motivating use-case that started my co-founder and I building what is now openpipe.ai. GPT-4 is really good at it, but extremely expensive. But it&#x27;s actually pretty easy to distill its skill at scraping a specific class of site down to a fine-tuned model that&#x27;s way cheaper and also really good at scraping that class of site reliably.</div><br/><div id="41432618" class="c"><input type="checkbox" id="c-41432618" checked=""/><div class="controls bullet"><span class="by">artembugara</span><span>|</span><a href="#41429306">parent</a><span>|</span><a href="#41429502">next</a><span>|</span><label class="collapse" for="c-41432618">[-]</label><label class="expand" for="c-41432618">[1 more]</label></div><br/><div class="children"><div class="content">Wow, Kyle, you should have mentioned it earlier!<p>We&#x27;ve been working on this for quite a while. I&#x27;ll contact you to show how far we&#x27;ve gotten</div><br/></div></div></div></div><div id="41431371" class="c"><input type="checkbox" id="c-41431371" checked=""/><div class="controls bullet"><span class="by">mfrye0</span><span>|</span><a href="#41429306">prev</a><span>|</span><a href="#41429265">next</a><span>|</span><label class="collapse" for="c-41431371">[-]</label><label class="expand" for="c-41431371">[1 more]</label></div><br/><div class="children"><div class="content">As others have mentioned, converting html to markdown works pretty well.<p>With that said, we&#x27;ve noticed that for some sites that have nested lists or tables, we get better results by reducing those elements to a simplified html instead of markdown. Essentially providing context when the structures start and stop.<p>It&#x27;s also been helpful for chunking docs, to ensure that lists &#x2F; tables aren&#x27;t broken apart in different chunks.</div><br/></div></div><div id="41429265" class="c"><input type="checkbox" id="c-41429265" checked=""/><div class="controls bullet"><span class="by">ammario</span><span>|</span><a href="#41431371">prev</a><span>|</span><a href="#41431973">next</a><span>|</span><label class="collapse" for="c-41429265">[-]</label><label class="expand" for="c-41429265">[1 more]</label></div><br/><div class="children"><div class="content">To scale such an approach you could have the LLM generate JS to walk the DOM and extract content, caching the JS for each page.</div><br/></div></div><div id="41431973" class="c"><input type="checkbox" id="c-41431973" checked=""/><div class="controls bullet"><span class="by">timsuchanek</span><span>|</span><a href="#41429265">prev</a><span>|</span><a href="#41429599">next</a><span>|</span><label class="collapse" for="c-41431973">[-]</label><label class="expand" for="c-41431973">[2 more]</label></div><br/><div class="children"><div class="content">This is also how we started a while ago.
I agree that it&#x27;s too expensive, hence we&#x27;re working on making this scalable and cheaper now!
We&#x27;ll soon launch, but here we go! <a href="https:&#x2F;&#x2F;expand.ai" rel="nofollow">https:&#x2F;&#x2F;expand.ai</a></div><br/><div id="41432480" class="c"><input type="checkbox" id="c-41432480" checked=""/><div class="controls bullet"><span class="by">hmottestad</span><span>|</span><a href="#41431973">parent</a><span>|</span><a href="#41429599">next</a><span>|</span><label class="collapse" for="c-41432480">[-]</label><label class="expand" for="c-41432480">[1 more]</label></div><br/><div class="children"><div class="content">I’m curious to know more about your product. Currently, I’m using visualping.io to keep an eye on the website of my local housing community. They share important updates there, and it’s really helpful for me to get an email every few months instead of having to check their site every day.</div><br/></div></div></div></div><div id="41429599" class="c"><input type="checkbox" id="c-41429599" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41431973">prev</a><span>|</span><a href="#41429542">next</a><span>|</span><label class="collapse" for="c-41429599">[-]</label><label class="expand" for="c-41429599">[2 more]</label></div><br/><div class="children"><div class="content">GPT-4o mini is 33x cheaper than GPT-4o, or 66x cheaper in batch mode. But the article says:<p>&gt; I also tried GPT-4o mini but yielded significantly worse results so I just continued my experiments with GPT-4o.<p>Would be interesting to compare with the other inexpensive top tier models, Claude 3 Haiku and Gemini 1.5 Flash.</div><br/><div id="41429744" class="c"><input type="checkbox" id="c-41429744" checked=""/><div class="controls bullet"><span class="by">edublancas</span><span>|</span><a href="#41429599">parent</a><span>|</span><a href="#41429542">next</a><span>|</span><label class="collapse" for="c-41429744">[-]</label><label class="expand" for="c-41429744">[1 more]</label></div><br/><div class="children"><div class="content">author here: I&#x27;m working on a follow-up post where I benchmark pre-processing techniques (to reduce the token count). Turns out, removing all HTML works well (much cheaper and doesn&#x27;t impact accuracy). So far, I&#x27;ve only tried gpt-4o and the mini version, but trying other models would be interesting!</div><br/></div></div></div></div><div id="41429542" class="c"><input type="checkbox" id="c-41429542" checked=""/><div class="controls bullet"><span class="by">marcell</span><span>|</span><a href="#41429599">prev</a><span>|</span><a href="#41431168">next</a><span>|</span><label class="collapse" for="c-41429542">[-]</label><label class="expand" for="c-41429542">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;m working on a Chrome extension to do web scraping using OpenAI, and I&#x27;ve been impressed by what ChatGPT can do. It can scrape complicated text&#x2F;html, and usually returns the correct results.<p>It&#x27;s very early still but check it out at <a href="https:&#x2F;&#x2F;FetchFoxAI.com" rel="nofollow">https:&#x2F;&#x2F;FetchFoxAI.com</a><p>One of the cool things is that you can scrape non-uniform pages easily. For example I helped someone scrape auto dealer leads from different websites: <a href="https:&#x2F;&#x2F;youtu.be&#x2F;QlWX83uHgHs" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;QlWX83uHgHs</a> . This would be a lot harder with a &quot;traditional&quot; scraper.</div><br/><div id="41429594" class="c"><input type="checkbox" id="c-41429594" checked=""/><div class="controls bullet"><span class="by">hydrogenpolo</span><span>|</span><a href="#41429542">parent</a><span>|</span><a href="#41431168">next</a><span>|</span><label class="collapse" for="c-41429594">[-]</label><label class="expand" for="c-41429594">[5 more]</label></div><br/><div class="children"><div class="content">Cool, would this work on something like instagram? Scraping pages?</div><br/><div id="41429645" class="c"><input type="checkbox" id="c-41429645" checked=""/><div class="controls bullet"><span class="by">marcell</span><span>|</span><a href="#41429542">root</a><span>|</span><a href="#41429594">parent</a><span>|</span><a href="#41429615">next</a><span>|</span><label class="collapse" for="c-41429645">[-]</label><label class="expand" for="c-41429645">[1 more]</label></div><br/><div class="children"><div class="content">Yes! I actually just had someone else ask about Instagram. Try it out :)<p>I got these results just now: <a href="https:&#x2F;&#x2F;fetchfoxai.com&#x2F;s&#x2F;UOqL5HtuNe" rel="nofollow">https:&#x2F;&#x2F;fetchfoxai.com&#x2F;s&#x2F;UOqL5HtuNe</a><p>If you want to do the same scrape, here is the prompt I used: <a href="https:&#x2F;&#x2F;imgur.com&#x2F;XhguCk4" rel="nofollow">https:&#x2F;&#x2F;imgur.com&#x2F;XhguCk4</a></div><br/></div></div><div id="41429615" class="c"><input type="checkbox" id="c-41429615" checked=""/><div class="controls bullet"><span class="by">dghlsakjg</span><span>|</span><a href="#41429542">root</a><span>|</span><a href="#41429594">parent</a><span>|</span><a href="#41429645">prev</a><span>|</span><a href="#41431168">next</a><span>|</span><label class="collapse" for="c-41429615">[-]</label><label class="expand" for="c-41429615">[3 more]</label></div><br/><div class="children"><div class="content">Instagram really doesn’t want you scraping. There are almost certainly terms against it in the user agreement</div><br/><div id="41429693" class="c"><input type="checkbox" id="c-41429693" checked=""/><div class="controls bullet"><span class="by">bangaladore</span><span>|</span><a href="#41429542">root</a><span>|</span><a href="#41429615">parent</a><span>|</span><a href="#41431168">next</a><span>|</span><label class="collapse" for="c-41429693">[-]</label><label class="expand" for="c-41429693">[2 more]</label></div><br/><div class="children"><div class="content">Companies like Instagram (Facebook&#x2F;Meta&#x2F;Garbage) abuse their users&#x27; data day in and day out. Who cares what their TOS says. Let them spend millions of dollars trying to block you, its a drop in the bucket.</div><br/><div id="41431383" class="c"><input type="checkbox" id="c-41431383" checked=""/><div class="controls bullet"><span class="by">houseplant</span><span>|</span><a href="#41429542">root</a><span>|</span><a href="#41429693">parent</a><span>|</span><a href="#41431168">next</a><span>|</span><label class="collapse" for="c-41431383">[-]</label><label class="expand" for="c-41431383">[1 more]</label></div><br/><div class="children"><div class="content">instead, don&#x27;t do it because it&#x27;s disrespectful to people. A lot of people weren&#x27;t made aware- or didn&#x27;t have the option- to object to that TOS change. Saying &quot;well, THOSE guys do it! why can&#x27;t I!&quot; isn&#x27;t a mature stance. Don&#x27;t take their images because it&#x27;s the right thing to do</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41431168" class="c"><input type="checkbox" id="c-41431168" checked=""/><div class="controls bullet"><span class="by">ozr</span><span>|</span><a href="#41429542">prev</a><span>|</span><a href="#41429220">next</a><span>|</span><label class="collapse" for="c-41431168">[-]</label><label class="expand" for="c-41431168">[2 more]</label></div><br/><div class="children"><div class="content">GPT-4 (and Claude) are definitely the top models out there, but: Llama, even the 8b, is more than capable of handling extraction like this.  I&#x27;ve pumped absurd batches through it via vLLM.<p>With serverless GPUs, the cost has been basically nothing.</div><br/><div id="41432596" class="c"><input type="checkbox" id="c-41432596" checked=""/><div class="controls bullet"><span class="by">shoelessone</span><span>|</span><a href="#41431168">parent</a><span>|</span><a href="#41429220">next</a><span>|</span><label class="collapse" for="c-41432596">[-]</label><label class="expand" for="c-41432596">[1 more]</label></div><br/><div class="children"><div class="content">Can you explain a bit more about what &quot;serverless GPUs&quot; are exactly? Is there a specific cloud provider you&#x27;re thinking of, e.g. is there a GPU product with AWS? Google gives me SageMaker, which is perhaps what you are referring to?</div><br/></div></div></div></div><div id="41429220" class="c"><input type="checkbox" id="c-41429220" checked=""/><div class="controls bullet"><span class="by">luigi23</span><span>|</span><a href="#41431168">prev</a><span>|</span><a href="#41430722">next</a><span>|</span><label class="collapse" for="c-41429220">[-]</label><label class="expand" for="c-41429220">[17 more]</label></div><br/><div class="children"><div class="content">Why are scrapers so popular nowadays?</div><br/><div id="41429584" class="c"><input type="checkbox" id="c-41429584" checked=""/><div class="controls bullet"><span class="by">adamtaylor_13</span><span>|</span><a href="#41429220">parent</a><span>|</span><a href="#41429248">next</a><span>|</span><label class="collapse" for="c-41429584">[-]</label><label class="expand" for="c-41429584">[1 more]</label></div><br/><div class="children"><div class="content">There’s a lot of data that we should have programmatic access to that we don’t.<p>The fact that I can’t get my own receipt data from online retailers is unacceptable. I built a CLI Puppeteer scraper to scrape sites like Target, Amazon, Walmart, and Kroger for precisely this reason.<p>Any website that has my data and doesn’t give me access to it is a great target for scraping.</div><br/></div></div><div id="41429248" class="c"><input type="checkbox" id="c-41429248" checked=""/><div class="controls bullet"><span class="by">drusepth</span><span>|</span><a href="#41429220">parent</a><span>|</span><a href="#41429584">prev</a><span>|</span><a href="#41431916">next</a><span>|</span><label class="collapse" for="c-41429248">[-]</label><label class="expand" for="c-41429248">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;d say scrapers have always been popular, but I imagine they&#x27;re even more popular nowadays with all the tools (AI but also non-AI) readily available to do cool stuff on a lot of data.</div><br/><div id="41429271" class="c"><input type="checkbox" id="c-41429271" checked=""/><div class="controls bullet"><span class="by">bongodongobob</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429248">parent</a><span>|</span><a href="#41431916">next</a><span>|</span><label class="collapse" for="c-41429271">[-]</label><label class="expand" for="c-41429271">[4 more]</label></div><br/><div class="children"><div class="content">Bingo. During the pandemic, I started a project to keep myself busy by trying to scrape stock market ticker data and then do some analysis and make some pretty graphs out of it. I know there are paid services for this, but I wanted to pull it from various websites for free. It took me a couple months to get it right. There are so many corner cases to deal with if the pages aren&#x27;t exactly the same each time you load them. Now with the help of AI, you can slap together a scraping program in a couple of hours.</div><br/><div id="41429352" class="c"><input type="checkbox" id="c-41429352" checked=""/><div class="controls bullet"><span class="by">MaxPock</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429271">parent</a><span>|</span><a href="#41431916">next</a><span>|</span><label class="collapse" for="c-41429352">[-]</label><label class="expand" for="c-41429352">[3 more]</label></div><br/><div class="children"><div class="content">Was it profitable?</div><br/><div id="41429581" class="c"><input type="checkbox" id="c-41429581" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429352">parent</a><span>|</span><a href="#41431162">next</a><span>|</span><label class="collapse" for="c-41429581">[-]</label><label class="expand" for="c-41429581">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m sure it was profitable in keeping him busy during the pandemic. Not everything has to derive monetary value, you can do something for experience, fun, kick the tyres, open-source and&#x2F;or philanthropic avenues.<p>Besides it&#x27;s a low margin, heavily capitalized and heavily crowded market you&#x27;d be entering and not worth the negative-monetary investment in the short and medium term (unless you wrote AI in the title and we&#x27;re going to the mooooooon babyh)</div><br/></div></div><div id="41431162" class="c"><input type="checkbox" id="c-41431162" checked=""/><div class="controls bullet"><span class="by">bongodongobob</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429352">parent</a><span>|</span><a href="#41429581">prev</a><span>|</span><a href="#41431916">next</a><span>|</span><label class="collapse" for="c-41431162">[-]</label><label class="expand" for="c-41431162">[1 more]</label></div><br/><div class="children"><div class="content">It was in the sense that I learned that trying to beat the market is fundamentally impossible&#x2F;stupid, so just invest in index funds.</div><br/></div></div></div></div></div></div></div></div><div id="41431916" class="c"><input type="checkbox" id="c-41431916" checked=""/><div class="controls bullet"><span class="by">CSMastermind</span><span>|</span><a href="#41429220">parent</a><span>|</span><a href="#41429248">prev</a><span>|</span><a href="#41429243">next</a><span>|</span><label class="collapse" for="c-41431916">[-]</label><label class="expand" for="c-41431916">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s been a large push to do server-side rendering for web pages which means that companies no longer have a publicly facing API to fetch the data they display on their websites.<p>Parsing the rendered HTML is the only way to extract the data you need.</div><br/></div></div><div id="41429243" class="c"><input type="checkbox" id="c-41429243" checked=""/><div class="controls bullet"><span class="by">rietta</span><span>|</span><a href="#41429220">parent</a><span>|</span><a href="#41431916">prev</a><span>|</span><a href="#41431095">next</a><span>|</span><label class="collapse" for="c-41429243">[-]</label><label class="expand" for="c-41429243">[8 more]</label></div><br/><div class="children"><div class="content">Because publishers don’t push structured data or APIs enough to satisfy demand for the data.</div><br/><div id="41429251" class="c"><input type="checkbox" id="c-41429251" checked=""/><div class="controls bullet"><span class="by">luigi23</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429243">parent</a><span>|</span><a href="#41431095">next</a><span>|</span><label class="collapse" for="c-41429251">[-]</label><label class="expand" for="c-41429251">[7 more]</label></div><br/><div class="children"><div class="content">Got it, but why is it booming now and often it’s a showcase of llm model? Is there some secret market&#x2F; usecase for it?</div><br/><div id="41429428" class="c"><input type="checkbox" id="c-41429428" checked=""/><div class="controls bullet"><span class="by">IanCal</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429251">parent</a><span>|</span><a href="#41430532">next</a><span>|</span><label class="collapse" for="c-41429428">[-]</label><label class="expand" for="c-41429428">[3 more]</label></div><br/><div class="children"><div class="content">Building scrapers sucks.<p>It&#x27;s generally not hard because it&#x27;s conceptually very difficult, or that it requires extremely high level reasoning.<p>It sucks because when someone changes &quot;&lt;section class=&#x27;bio&#x27;&gt;&quot; to &quot;&lt;div class=&#x27;section bio&#x27;&gt;&quot; your scraper breaks. I just want the bio and it&#x27;s obvious what to grab, but machines have no nuance.<p>LLMs have enough common sense to be able to deal with these things and they take almost no time to work with. I can throw html at something, with a vague description and pull out structured data with no engineer required, <i>and</i> it&#x27;ll probably work when the page changes.<p>There&#x27;s a huge number of one-off jobs people will do where perfect isn&#x27;t the goal, and a fast solution + a bit of cleanup is hugely beneficial.</div><br/><div id="41429598" class="c"><input type="checkbox" id="c-41429598" checked=""/><div class="controls bullet"><span class="by">atomic128</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429428">parent</a><span>|</span><a href="#41430532">next</a><span>|</span><label class="collapse" for="c-41429598">[-]</label><label class="expand" for="c-41429598">[2 more]</label></div><br/><div class="children"><div class="content">Another approach is to use a regexp scraper. These are very &quot;loose&quot; and tolerant of changes. For example, RNSAFFN.com uses regular expressions to scrape the Commitments of Traders report from the Commodity Futures Trading Commission every week.</div><br/><div id="41429612" class="c"><input type="checkbox" id="c-41429612" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429598">parent</a><span>|</span><a href="#41430532">next</a><span>|</span><label class="collapse" for="c-41429612">[-]</label><label class="expand" for="c-41429612">[1 more]</label></div><br/><div class="children"><div class="content">My experience has been the opposite: regex scrapers are usually incredibly brittle, and also harder to debug when something DOES change.<p>My preferred approach for scraping these days is Playwright Python and CSS selectors to select things from the DOM. Still prone to breakage, but reasonably pleasant to debug using browser DevTools.</div><br/></div></div></div></div></div></div><div id="41430532" class="c"><input type="checkbox" id="c-41430532" checked=""/><div class="controls bullet"><span class="by">yuters</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429251">parent</a><span>|</span><a href="#41429428">prev</a><span>|</span><a href="#41429280">next</a><span>|</span><label class="collapse" for="c-41430532">[-]</label><label class="expand" for="c-41430532">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know if many has the same use case but... I&#x27;m heavily relying on this right now because my daughter started school. The school board, the school, and the teacher each use a different app to communicate important information to parents. I&#x27;m just trying to make one feed with all of them. Before AI it would have been hell to scrape, because you can imagine those apps are terrible.<p>Fun aside: The worst one of them is a public Facebook page. The school board is making it their official communication channel, which I find horrible. Facebook is making it so hard to scrape. And if you don&#x27;t know, you can&#x27;t even use Facebook&#x27;s API for this anymore, unless you have a business verified account and go through a review just for this permission.</div><br/></div></div><div id="41429280" class="c"><input type="checkbox" id="c-41429280" checked=""/><div class="controls bullet"><span class="by">drusepth</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429251">parent</a><span>|</span><a href="#41430532">prev</a><span>|</span><a href="#41429356">next</a><span>|</span><label class="collapse" for="c-41429280">[-]</label><label class="expand" for="c-41429280">[1 more]</label></div><br/><div class="children"><div class="content">Scrapers have always been notoriously brittle and prone to breaking completely when pages make even the smallest of structural changes.<p>Scraping with LLMs bypasses that pitfall because it&#x27;s more of a summarization task on the whole document, rather than working specifically on a hard-coded document structure to extract specific data.</div><br/></div></div><div id="41429356" class="c"><input type="checkbox" id="c-41429356" checked=""/><div class="controls bullet"><span class="by">bobajeff</span><span>|</span><a href="#41429220">root</a><span>|</span><a href="#41429251">parent</a><span>|</span><a href="#41429280">prev</a><span>|</span><a href="#41431095">next</a><span>|</span><label class="collapse" for="c-41429356">[-]</label><label class="expand" for="c-41429356">[1 more]</label></div><br/><div class="children"><div class="content">Personally I find it&#x27;s better for archiving as most sites that don&#x27;t provide a convenient way to save their content directly. Occasionally, I do it just to make a better interface over the data.</div><br/></div></div></div></div></div></div><div id="41431095" class="c"><input type="checkbox" id="c-41431095" checked=""/><div class="controls bullet"><span class="by">nsonha</span><span>|</span><a href="#41429220">parent</a><span>|</span><a href="#41429243">prev</a><span>|</span><a href="#41430722">next</a><span>|</span><label class="collapse" for="c-41431095">[-]</label><label class="expand" for="c-41431095">[1 more]</label></div><br/><div class="children"><div class="content">What do you think all these LLM stuff will evolve into? Of course it&#x27;s moving on from chitchat on stale information and now onto &quot;automate the web&quot; kinda phase, like it or not.</div><br/></div></div></div></div><div id="41430722" class="c"><input type="checkbox" id="c-41430722" checked=""/><div class="controls bullet"><span class="by">mjrbds</span><span>|</span><a href="#41429220">prev</a><span>|</span><a href="#41429633">next</a><span>|</span><label class="collapse" for="c-41430722">[-]</label><label class="expand" for="c-41430722">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve had lots of success with this at Rastro.sh - but the biggest unlock came when we used this as benchmark data to build scraping code. Sonnet 3.5 is able to do this. It reduced our cost and improved accuracy for our use case (extracting e-commerce products), as some of these models are not reliable to extract lists of 50+ items.</div><br/></div></div><div id="41429633" class="c"><input type="checkbox" id="c-41429633" checked=""/><div class="controls bullet"><span class="by">fvdessen</span><span>|</span><a href="#41430722">prev</a><span>|</span><a href="#41430798">next</a><span>|</span><label class="collapse" for="c-41429633">[-]</label><label class="expand" for="c-41429633">[2 more]</label></div><br/><div class="children"><div class="content">This looks super useful, but from what i&#x27;ve heard, if you try to do this at any meaningful scale your scrapers will be blocked by Cloudflare and the likes</div><br/><div id="41431006" class="c"><input type="checkbox" id="c-41431006" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#41429633">parent</a><span>|</span><a href="#41430798">next</a><span>|</span><label class="collapse" for="c-41431006">[-]</label><label class="expand" for="c-41431006">[1 more]</label></div><br/><div class="children"><div class="content">I used to do a lot of web scraping. Cloudflare is an issue, as are a few Cloudflare competitors, but scraping can still be useful. We had contracts with companies we scraped that allowed us to scrape their sites, specifically so that they didn&#x27;t need to do any integration work to partner with us. The most anyone had to do on the company side was allowlist us with Cloudflare.<p>Would recommend web scraping as a &quot;growth hack&quot; in that way, we got a lot of partnerships that we wouldn&#x27;t otherwise have got.</div><br/></div></div></div></div><div id="41430798" class="c"><input type="checkbox" id="c-41430798" checked=""/><div class="controls bullet"><span class="by">impure</span><span>|</span><a href="#41429633">prev</a><span>|</span><a href="#41429504">next</a><span>|</span><label class="collapse" for="c-41430798">[-]</label><label class="expand" for="c-41430798">[1 more]</label></div><br/><div class="children"><div class="content">I was thinking of adding a feature of my app to use LLMs to extract XPaths to generate RSS feeds from sites that don&#x27;t support it. The section on XPaths is unfortunate.</div><br/></div></div><div id="41429504" class="c"><input type="checkbox" id="c-41429504" checked=""/><div class="controls bullet"><span class="by">Havoc</span><span>|</span><a href="#41430798">prev</a><span>|</span><a href="#41430699">next</a><span>|</span><label class="collapse" for="c-41429504">[-]</label><label class="expand" for="c-41429504">[1 more]</label></div><br/><div class="children"><div class="content">Asking for XPaths is clever!<p>Plus you can probably use that until it fails (website changes) and then just re scrape it with llm request</div><br/></div></div><div id="41430699" class="c"><input type="checkbox" id="c-41430699" checked=""/><div class="controls bullet"><span class="by">raybb</span><span>|</span><a href="#41429504">prev</a><span>|</span><a href="#41431044">next</a><span>|</span><label class="collapse" for="c-41430699">[-]</label><label class="expand" for="c-41430699">[1 more]</label></div><br/><div class="children"><div class="content">On this note, does anyone know how Cursor scrapes websites? Is it just fetching locally and then feeding the raw html or doing some type of preprocessing?</div><br/></div></div><div id="41429374" class="c"><input type="checkbox" id="c-41429374" checked=""/><div class="controls bullet"><span class="by">wslh</span><span>|</span><a href="#41431044">prev</a><span>|</span><a href="#41432382">next</a><span>|</span><label class="collapse" for="c-41429374">[-]</label><label class="expand" for="c-41429374">[2 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t ollama an answer to this? Or is there something inherent to OpenAI that makes it significantly better for web scraping?</div><br/><div id="41429624" class="c"><input type="checkbox" id="c-41429624" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41429374">parent</a><span>|</span><a href="#41432382">next</a><span>|</span><label class="collapse" for="c-41429624">[-]</label><label class="expand" for="c-41429624">[1 more]</label></div><br/><div class="children"><div class="content">GPT-4o (and the other top-tier models like Claude 3.5 Sonnet and Gemini 1.4 Pro) is massively more capable than models you can run on your own machine using Ollama - unless you can run something truly monstrous like Llama 3.1 405b, but that&#x27;s requires 100GBs of GPU RAM which is very expensive.</div><br/></div></div></div></div><div id="41432382" class="c"><input type="checkbox" id="c-41432382" checked=""/><div class="controls bullet"><span class="by">lccerina</span><span>|</span><a href="#41429374">prev</a><span>|</span><a href="#41431028">next</a><span>|</span><label class="collapse" for="c-41432382">[-]</label><label class="expand" for="c-41432382">[1 more]</label></div><br/><div class="children"><div class="content">We are re-opening coal plants to do this? Every day a bit more disgusted by GenAI stuff</div><br/></div></div><div id="41431028" class="c"><input type="checkbox" id="c-41431028" checked=""/><div class="controls bullet"><span class="by">Gee101</span><span>|</span><a href="#41432382">prev</a><span>|</span><a href="#41429254">next</a><span>|</span><label class="collapse" for="c-41431028">[-]</label><label class="expand" for="c-41431028">[1 more]</label></div><br/><div class="children"><div class="content">A bit of topic but great post title.</div><br/></div></div><div id="41429254" class="c"><input type="checkbox" id="c-41429254" checked=""/><div class="controls bullet"><span class="by">kimoz</span><span>|</span><a href="#41431028">prev</a><span>|</span><a href="#41430814">next</a><span>|</span><label class="collapse" for="c-41429254">[-]</label><label class="expand" for="c-41429254">[1 more]</label></div><br/><div class="children"><div class="content">Is it possible to achieve good results using the open source models for scrapping?</div><br/></div></div><div id="41430814" class="c"><input type="checkbox" id="c-41430814" checked=""/><div class="controls bullet"><span class="by">webprofusion</span><span>|</span><a href="#41429254">prev</a><span>|</span><a href="#41429924">next</a><span>|</span><label class="collapse" for="c-41430814">[-]</label><label class="expand" for="c-41430814">[1 more]</label></div><br/><div class="children"><div class="content">Just run the model locally?</div><br/></div></div><div id="41429924" class="c"><input type="checkbox" id="c-41429924" checked=""/><div class="controls bullet"><span class="by">fsndz</span><span>|</span><a href="#41430814">prev</a><span>|</span><a href="#41431040">next</a><span>|</span><label class="collapse" for="c-41429924">[-]</label><label class="expand" for="c-41429924">[1 more]</label></div><br/><div class="children"><div class="content">useful for one shot cases, but not more for the moment imo.</div><br/></div></div><div id="41431040" class="c"><input type="checkbox" id="c-41431040" checked=""/><div class="controls bullet"><span class="by">nsonha</span><span>|</span><a href="#41429924">prev</a><span>|</span><a href="#41431106">next</a><span>|</span><label class="collapse" for="c-41431040">[-]</label><label class="expand" for="c-41431040">[1 more]</label></div><br/><div class="children"><div class="content">Most discussion I found about the topic is how to extract information. Is there any technique for extracting interactive elements? I reckon listing all of inputs&#x2F;controls would not be hard, but finding the corresponding labels&#x2F;articles might be tricky.<p>Another thing I wonder is, regarding text extraction, would it be a crazy idea to just snapshot the page and ask it to OCR &amp; generate a bare minimum html table layout. That way both the content and the spatial relationship of elements are maintained (not sure how useful but I&#x27;d like to keep it anyway).</div><br/></div></div><div id="41431106" class="c"><input type="checkbox" id="c-41431106" checked=""/><div class="controls bullet"><span class="by">blackeyeblitzar</span><span>|</span><a href="#41431040">prev</a><span>|</span><label class="collapse" for="c-41431106">[-]</label><label class="expand" for="c-41431106">[1 more]</label></div><br/><div class="children"><div class="content">I just want something that can take all my bookmarks, log into all by subscriptions using my credentials, and archive all those articles. I can then feed them to an LLM of my choice to ask questions later. But having the raw archive is the important part. I don’t know if there are any easy to use tools to do this though, especially with paywalled subscription based websites.</div><br/></div></div></div></div></div></div></div></body></html>