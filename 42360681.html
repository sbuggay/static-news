<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733734861769" as="style"/><link rel="stylesheet" href="styles.css?v=1733734861769"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://json5.org/">JSON5 – JSON for Humans</a> <span class="domain">(<a href="https://json5.org">json5.org</a>)</span></div><div class="subtext"><span>rickcarlino</span> | <span>176 comments</span></div><br/><div><div id="42361282" class="c"><input type="checkbox" id="c-42361282" checked=""/><div class="controls bullet"><span class="by">nikeee</span><span>|</span><a href="#42361156">next</a><span>|</span><label class="collapse" for="c-42361282">[-]</label><label class="expand" for="c-42361282">[71 more]</label></div><br/><div class="children"><div class="content">I think it allows for too much. I was glad that JSON only supports double-quoted strings. It is a feature that removes discussions about which quotes to use. Or even whether to use quotes at all (we still need them for keys with colons or minus in it, so what gives?).<p>The only thing that JSON is really missing are comments and trailing commas. I use JSONC for that. It&#x27;s what VSC uses for the config format and it works.</div><br/><div id="42362220" class="c"><input type="checkbox" id="c-42362220" checked=""/><div class="controls bullet"><span class="by">selcuka</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361771">next</a><span>|</span><label class="collapse" for="c-42362220">[-]</label><label class="expand" for="c-42362220">[33 more]</label></div><br/><div class="children"><div class="content">&gt; The only thing that JSON is really missing are comments and trailing commas.<p>The reason JSON doesn&#x27;t have comments [1]:<p><pre><code>    I removed comments from JSON because I saw people were using them to hold parsing directives, a practice which would have destroyed interoperability. I know that the lack of comments makes some people sad, but it shouldn&#x27;t.

    Suppose you are using JSON to keep configuration files, which you would like to annotate. Go ahead and insert all the comments you like. Then pipe it through JSMin before handing it to your JSON parser.
</code></pre>
[1] <a href="http:&#x2F;&#x2F;archive.today&#x2F;8FWsA" rel="nofollow">http:&#x2F;&#x2F;archive.today&#x2F;8FWsA</a></div><br/><div id="42362972" class="c"><input type="checkbox" id="c-42362972" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42363192">next</a><span>|</span><label class="collapse" for="c-42362972">[-]</label><label class="expand" for="c-42362972">[9 more]</label></div><br/><div class="children"><div class="content">The reason never made much sense, anything can be abused, and the comment use case is easily way more important, and your suggestion doesn&#x27;t help with eg syntax highlighting tools for your config that will treat comments as syntax errors, and also lose the ability to roundtrip, so your app can&#x27;t edit user configs</div><br/><div id="42363359" class="c"><input type="checkbox" id="c-42363359" checked=""/><div class="controls bullet"><span class="by">dwaite</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362972">parent</a><span>|</span><a href="#42363881">next</a><span>|</span><label class="collapse" for="c-42363359">[-]</label><label class="expand" for="c-42363359">[2 more]</label></div><br/><div class="children"><div class="content">It is more that people made comments semantically important, e.g. a tool which did not interpret comments would not correctly interpret the data in the document.<p>This actually would put JSON in a worse place than XML - while XML has an overly complex infoset, that infoset is actually defined and standardized. Representing &quot;a property with a comment on the property name and one before and after the property value&quot; so that information is not lost in parsing would explode the complexity needed for an &quot;interoperable&quot; JSON library.<p>if someone wants to create some sort of scheme where they do &quot;createdAt$date&quot; as a property name to indicate the value is to be interpreted in some agreed-upon date format, that at least doesn&#x27;t lose data if the JSON data doesn&#x27;t understand that scheme, or require a new custom parser in order to properly interpret that data, compared to something like &#x2F;* $type: date *&#x2F; &quot;createdAt&quot; :...</div><br/><div id="42363588" class="c"><input type="checkbox" id="c-42363588" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363359">parent</a><span>|</span><a href="#42363881">next</a><span>|</span><label class="collapse" for="c-42363588">[-]</label><label class="expand" for="c-42363588">[1 more]</label></div><br/><div class="children"><div class="content">why would you need that complex representation in the interoperable library instead of a much simpler one: a property, a comment, a comment, a value, a comment, ...?<p>This doesn&#x27;t explode anything and you don&#x27;t need to lose any data, so the monstrosity of XML still has no benefit, and neither does &quot;createdAt$date&quot;, which would need a custom library anyway, so it doesn&#x27;t matter where you insert your types</div><br/></div></div></div></div><div id="42363881" class="c"><input type="checkbox" id="c-42363881" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362972">parent</a><span>|</span><a href="#42363359">prev</a><span>|</span><a href="#42363157">next</a><span>|</span><label class="collapse" for="c-42363881">[-]</label><label class="expand" for="c-42363881">[4 more]</label></div><br/><div class="children"><div class="content">&gt;and also lose the ability to roundtrip, so your app can&#x27;t edit user configs<p>I think roundtrip with comments is not feasible in general. Most code just expects a hashmap, which it edits and then serializes back. You would need some really clever handling for comments to do it.</div><br/><div id="42363964" class="c"><input type="checkbox" id="c-42363964" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363881">parent</a><span>|</span><a href="#42363157">next</a><span>|</span><label class="collapse" for="c-42363964">[-]</label><label class="expand" for="c-42363964">[3 more]</label></div><br/><div class="children"><div class="content">We&#x27;re in luck: clever people exist and have written libraries that do the clever handling for us and support roundtripping comments!</div><br/><div id="42364054" class="c"><input type="checkbox" id="c-42364054" checked=""/><div class="controls bullet"><span class="by">throwaway290</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363964">parent</a><span>|</span><a href="#42363157">next</a><span>|</span><label class="collapse" for="c-42364054">[-]</label><label class="expand" for="c-42364054">[2 more]</label></div><br/><div class="children"><div class="content">Which works at performance cost and only until it breaks...</div><br/><div id="42364119" class="c"><input type="checkbox" id="c-42364119" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42364054">parent</a><span>|</span><a href="#42363157">next</a><span>|</span><label class="collapse" for="c-42364119">[-]</label><label class="expand" for="c-42364119">[1 more]</label></div><br/><div class="children"><div class="content">Lack of roundtrip means it&#x27;s already broken and loses data, so upgrading to just the potential of a break is a marked improvement worth paying for</div><br/></div></div></div></div></div></div></div></div><div id="42363157" class="c"><input type="checkbox" id="c-42363157" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362972">parent</a><span>|</span><a href="#42363881">prev</a><span>|</span><a href="#42363192">next</a><span>|</span><label class="collapse" for="c-42363157">[-]</label><label class="expand" for="c-42363157">[2 more]</label></div><br/><div class="children"><div class="content">This.<p>You can make special key names that are really directions for something.<p>You can make enrire k v pairs that are never used by anything that actually parses the json normally.<p>Argument was invalid as far as I can see and calling it &quot;sorry it makes you sad&quot; is, wow I don&#x27;t even know where to begin with that.<p>Having annotation happen in a dedicated place designed for it is better than having it happen where it was not designed to be, end of math problem.</div><br/><div id="42364066" class="c"><input type="checkbox" id="c-42364066" checked=""/><div class="controls bullet"><span class="by">throwaway290</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363157">parent</a><span>|</span><a href="#42363192">next</a><span>|</span><label class="collapse" for="c-42364066">[-]</label><label class="expand" for="c-42364066">[1 more]</label></div><br/><div class="children"><div class="content">You are saying as if there was an apology or it should be needed for some reason.<p>For any spec there are people who want something spec doesn&#x27;t do and people writing the spec need to say no to requests that they consider not in scope as much or more often than they say yes</div><br/></div></div></div></div></div></div><div id="42363192" class="c"><input type="checkbox" id="c-42363192" checked=""/><div class="controls bullet"><span class="by">hansvm</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42362972">prev</a><span>|</span><a href="#42362778">next</a><span>|</span><label class="collapse" for="c-42363192">[-]</label><label class="expand" for="c-42363192">[1 more]</label></div><br/><div class="children"><div class="content">That doesn&#x27;t make it a good reason. People are placing those directives into json docs anyway, but instead they&#x27;re relying on nobody causing a namespace collision with their special key whos associated value has the directives of interest.</div><br/></div></div><div id="42362778" class="c"><input type="checkbox" id="c-42362778" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42363192">prev</a><span>|</span><a href="#42363557">next</a><span>|</span><label class="collapse" for="c-42362778">[-]</label><label class="expand" for="c-42362778">[15 more]</label></div><br/><div class="children"><div class="content">FWIW, I&#x27;m well aware of Crockford&#x27;s rationale, I think it&#x27;s some of the dumbest rationalization I&#x27;ve heard, and time has shown that it was a giant mistake.<p>Trying to prevent programmers from doing something &quot;because they may &#x27;misuse&#x27; comments&quot; is asinine to the extreme. This is not like removing a footgun, it&#x27;s trying to dictate how you think programming should be done. This is particularly hilarious because I&#x27;ve instead seen tons of horribly hacky workarounds for JSON&#x27;s lack of comments, e.g. &quot;fake&quot; object entries like &quot;__previousKey_comment&quot;: &quot;this is a comment for previous key&quot;, or even worse, putting two entries with the same key since the second key <i>should</i> &quot;win&quot;, and thus making the first entry the comment.<p>As for his second point, &quot;Suppose you are using JSON to keep configuration files, which you would like to annotate. Go ahead and insert all the comments you like. Then pipe it through JSMin before handing it to your JSON parser.&quot; - just look at the everlasting shit show that is package.json since it can&#x27;t support comments, because lots of NPM tools actually write to package.json, so there is no guarantee that other tools will be able to read package.json if it includes comments.<p>I think the thing that I hate most about Crockford&#x27;s rationalization of not having comments is that you have to have your head stuck 10 feet in the sand to pretend that somehow the lack of comments is a good thing with the benefit of hindsight. I guess I could understand if Crockford&#x27;s position was &quot;Yeah, originally I thought it was better to keep them out because I was concerned about misuse, but now in retrospect to see the much larger problems it causes, and I realize it was a mistake.&quot; But instead he just keeps pushing his original crappy opinion on this topic.</div><br/><div id="42362917" class="c"><input type="checkbox" id="c-42362917" checked=""/><div class="controls bullet"><span class="by">justmedep</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362778">parent</a><span>|</span><a href="#42362955">next</a><span>|</span><label class="collapse" for="c-42362917">[-]</label><label class="expand" for="c-42362917">[4 more]</label></div><br/><div class="children"><div class="content">I usually just add my comment as an additional field called _comment or something like that</div><br/><div id="42363144" class="c"><input type="checkbox" id="c-42363144" checked=""/><div class="controls bullet"><span class="by">efitz</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362917">parent</a><span>|</span><a href="#42363463">next</a><span>|</span><label class="collapse" for="c-42363144">[-]</label><label class="expand" for="c-42363144">[1 more]</label></div><br/><div class="children"><div class="content">I have encountered many systems that explicitly disallow “unexpected” JSON elements and such an approach would fail.   This is particularly common when using JSON around API-like use cases.</div><br/></div></div><div id="42363463" class="c"><input type="checkbox" id="c-42363463" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362917">parent</a><span>|</span><a href="#42363144">prev</a><span>|</span><a href="#42362984">next</a><span>|</span><label class="collapse" for="c-42363463">[-]</label><label class="expand" for="c-42363463">[1 more]</label></div><br/><div class="children"><div class="content">So how do you add a comment in the middle of an array?</div><br/></div></div><div id="42362984" class="c"><input type="checkbox" id="c-42362984" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362917">parent</a><span>|</span><a href="#42363463">prev</a><span>|</span><a href="#42362955">next</a><span>|</span><label class="collapse" for="c-42362984">[-]</label><label class="expand" for="c-42362984">[1 more]</label></div><br/><div class="children"><div class="content">Exactly, and that&#x27;s a crappier workaround. E.g. in lots of places you can&#x27;t just have willy-nilly, anything-goes key names.<p>An example I think every Node developer can commiserate with is that there isn&#x27;t really a great way to add comments in the dependencies or devDependencies section in package.json, because those keys need to refer to module names, and that&#x27;s where I most often want to use comments in package.json. I won&#x27;t rehash all the details but just take a look at <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;14221579&#x2F;how-do-i-add-comments-to-package-json-for-npm-install" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;14221579&#x2F;how-do-i-add-co...</a> . Unfortunately none of the answers there are very good. In the past I&#x27;ve resorted to doing what <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;45815391&#x2F;1075909" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;45815391&#x2F;1075909</a> does, but that ends up not working very well once you&#x27;ve got a long list of dependencies, because the comment for any particular dependency ends up being far from the entry that specifies the dependency (instead of the line above), so people end up not reading it or forget to update it if that becomes necessary.<p>Yeah, I really, really hate that JSON doesn&#x27;t have comments :)</div><br/></div></div></div></div><div id="42362955" class="c"><input type="checkbox" id="c-42362955" checked=""/><div class="controls bullet"><span class="by">milch</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362778">parent</a><span>|</span><a href="#42362917">prev</a><span>|</span><a href="#42363958">next</a><span>|</span><label class="collapse" for="c-42362955">[-]</label><label class="expand" for="c-42362955">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve also seen parser directives inserted into the keys like `{ &quot;fooBar__datetime&quot;: 123456780.0 }`, and many other creative workarounds</div><br/><div id="42363385" class="c"><input type="checkbox" id="c-42363385" checked=""/><div class="controls bullet"><span class="by">mmis1000</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362955">parent</a><span>|</span><a href="#42363958">next</a><span>|</span><label class="collapse" for="c-42363385">[-]</label><label class="expand" for="c-42363385">[1 more]</label></div><br/><div class="children"><div class="content">Actually there is a common practice that java or js library used to serialize typed data.<p>They just preserve the key starts with $ for special use<p>So a class A with a double and and an int field will be something like<p><pre><code>  {
    &quot;$type&quot;: &quot;A&quot;
    &quot;value&quot;:{
      &quot;a&quot;: {
        &quot;$type&quot;: &quot;double&quot;,
        &quot;value&quot;: 1
      },
      &quot;b&quot;: {
        &quot;$type&quot;: &quot;int&quot;,
        &quot;value&quot;: 2
      }
    }
  }
</code></pre>
And what about keys that actually starts with $?<p>You just escape it with special $raw key<p><pre><code>  &quot;$raw&quot;: {
    &quot;$escaped&quot;: {
      &quot;$type&quot;: &quot;double&quot;,
      &quot;value&quot; 1
    }
  }
</code></pre>
It&#x27;s a bit way too verbose. But given it is just a serialization format inside some library or app, it won&#x27;t cause too much problems.</div><br/></div></div></div></div><div id="42363958" class="c"><input type="checkbox" id="c-42363958" checked=""/><div class="controls bullet"><span class="by">6510</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362778">parent</a><span>|</span><a href="#42362955">prev</a><span>|</span><a href="#42363249">next</a><span>|</span><label class="collapse" for="c-42363958">[-]</label><label class="expand" for="c-42363958">[1 more]</label></div><br/><div class="children"><div class="content">I one time by sort of accident coined a config format by parsing todo.txt It was so useful it stuck around for much longer than I had intended to. Rather than comment out stuff it just looks for &quot;=&quot; and ignores everything else.<p><pre><code>   conf = {};
   configFile.split(&#x27;\n&#x27;).forEach( function(x){
      y = x.split(&#x27; &#x27;);
      if(y[1]==&quot;=&quot;) conf[y[0]] = y[2];
   });
</code></pre>
Everything is a comment with exception of lines like:<p>speed = 100 km&#x2F;h<p>weight = 60 kg<p>maxBuffer = 200 chars (between 100 and 300 works best)<p>output: {&quot;speed&quot;:100,&quot;weight&quot;:60,&quot;maxBuffer&quot;:200}<p>It had walls of text with headings and something configurable sprinkled in. Crockford would be screaming. lol</div><br/></div></div><div id="42363249" class="c"><input type="checkbox" id="c-42363249" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362778">parent</a><span>|</span><a href="#42363958">prev</a><span>|</span><a href="#42362796">next</a><span>|</span><label class="collapse" for="c-42363249">[-]</label><label class="expand" for="c-42363249">[4 more]</label></div><br/><div class="children"><div class="content">When I think of how often and where JSON is used, as a data interchange format for APIs, in the browser, databases, and everywhere else - all the billions of bytes transferred in JSON every second - in all those use cases comments would be pointless and counterproductive and just take up storage space or bandwidth. That&#x27;s JSON&#x27;s primary use case in the world. It&#x27;s only in the very few use cases specifically for programmers where comments would sort of be helpful in JSON, and most of those cases are not really that important to support when there are workarounds - structure your JSON well and you can include the comments as part of the JSON, and then you can even use the comments programmatically should that be useful (which I think is slightly more useful than storing knowledge in a JSON file as a comment).<p>&gt;Trying to prevent programmers from doing something &quot;because they may &#x27;misuse&#x27; comments&quot; is asinine to the extreme.<p>Programmers are often their own worst enemies. Some prefer rigid rulesets over less rigid freeform programming. See Typescript vs Javascript. No comments in JSON is just another example of over-rigidification, and some programmers love that.<p>&gt;package.json since it can&#x27;t support comments,<p>If you&#x27;re needing to write comments in package.json, maybe you&#x27;re not approaching package.json correctly? It&#x27;s really for node things, not your things that you need to write comments about. I&#x27;m not even sure why someone would want to write comments in package.json. I get it with comments in other JSON files, but package.json probably should be left for nodejs things.</div><br/><div id="42363429" class="c"><input type="checkbox" id="c-42363429" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363249">parent</a><span>|</span><a href="#42362796">next</a><span>|</span><label class="collapse" for="c-42363429">[-]</label><label class="expand" for="c-42363429">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s hard for me to find a comment where I disagree with literally every sentence, but congrats!<p>1. So what if JSON is primarily used for data interchange? It&#x27;s not like allowing comments would somehow make them magically show up on serialized objects. This objection makes 0 sense to me. And heck, tons of other serialization formats (e.g. XML) support comments. Besides, there is a big reason that <i>human-readable</i> serialization formats are so popular - because they&#x27;re human readable! If you&#x27;re really worried about size you should be using a binary format anyway.<p>2. &quot;Rigid rulesets&quot; has nothing to do with Crockford&#x27;s arguments. It&#x27;s one thing to prefer a particular type system, or limit functionality if you think it has high potential for misuse. By JSON not having comments all you end up with is <i>worse</i> workarounds, like putting comments in object keys.<p>3. &quot;I&#x27;m not even sure why someone would want to write comments in package.json&quot; To be blunt, then, I can&#x27;t believe you&#x27;ve ever written any code in a business (i.e. with multiple developers) in the Node&#x2F;NPM ecosystem. Is it really that hard to wonder why someone would want to comment why they added a particular dependency to their project? The lack of comments in package.json is one of the biggest complaints of this format, and it&#x27;s certainly not just me, e.g. <a href="https:&#x2F;&#x2F;github.com&#x2F;npm&#x2F;npm&#x2F;issues&#x2F;4482">https:&#x2F;&#x2F;github.com&#x2F;npm&#x2F;npm&#x2F;issues&#x2F;4482</a> and <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;14221579&#x2F;how-do-i-add-comments-to-package-json-for-npm-install" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;14221579&#x2F;how-do-i-add-co...</a></div><br/><div id="42363999" class="c"><input type="checkbox" id="c-42363999" checked=""/><div class="controls bullet"><span class="by">kriz9</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363429">parent</a><span>|</span><a href="#42364023">next</a><span>|</span><label class="collapse" for="c-42363999">[-]</label><label class="expand" for="c-42363999">[1 more]</label></div><br/><div class="children"><div class="content">3. So when that dependency gets removed by npm uninstall how should that comment be handled? You know that in business we just would end up with a bunch of dead comments in the package.json - is that really a better alternative than just using Ctrl+f to find where the dependency is used?</div><br/></div></div><div id="42364023" class="c"><input type="checkbox" id="c-42364023" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363429">parent</a><span>|</span><a href="#42363999">prev</a><span>|</span><a href="#42362796">next</a><span>|</span><label class="collapse" for="c-42364023">[-]</label><label class="expand" for="c-42364023">[1 more]</label></div><br/><div class="children"><div class="content">&gt;The lack of comments in package.json is one of the biggest complaints of this format, and it&#x27;s certainly not just me<p>Well then you and plenty of other people have some wrong ideas about package.json. That isn&#x27;t surprising.<p>package.json gets rewritten for all kinds of things, which is not really compatible with adding comments wherever you want. Adding &quot;why this dependency is here&quot; comments may seem like a good idea to add to package.json, but you&#x27;re kind of missing the point. If you need that level of documentation, trying to shoehorn it into package.json is just the wrong place for it. Soon enough your package.json looks like a graffiti wall.<p>&gt;To be blunt, then, I can&#x27;t believe you&#x27;ve ever written any code in a business (i.e. with multiple developers) in the Node&#x2F;NPM ecosystem.<p>Then you&#x27;ll be astonished that I have been working with nodejs for about 14 years professionally. Sure I have wanted to put comments into package.json, but I was naive and now I&#x27;m fine not doing that. I haven&#x27;t wanted to in many years. I document things in other ways and it has served us all very well. YMMV.</div><br/></div></div></div></div></div></div><div id="42362796" class="c"><input type="checkbox" id="c-42362796" checked=""/><div class="controls bullet"><span class="by">mp05</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362778">parent</a><span>|</span><a href="#42363249">prev</a><span>|</span><a href="#42363557">next</a><span>|</span><label class="collapse" for="c-42362796">[-]</label><label class="expand" for="c-42362796">[3 more]</label></div><br/><div class="children"><div class="content">@fat is that you?</div><br/><div id="42363001" class="c"><input type="checkbox" id="c-42363001" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362796">parent</a><span>|</span><a href="#42363557">next</a><span>|</span><label class="collapse" for="c-42363001">[-]</label><label class="expand" for="c-42363001">[2 more]</label></div><br/><div class="children"><div class="content">Did you just call me fat ;)<p>I don&#x27;t know who @fat is, but if he thinks Crockford&#x27;s rationalization for the lack of comments in JSON is total and complete BS, I like the way he thinks.</div><br/><div id="42363354" class="c"><input type="checkbox" id="c-42363354" checked=""/><div class="controls bullet"><span class="by">mp05</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363001">parent</a><span>|</span><a href="#42363557">next</a><span>|</span><label class="collapse" for="c-42363354">[-]</label><label class="expand" for="c-42363354">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=3842713">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=3842713</a><p>Not sure why all the downvotes? Thought this was a classic.</div><br/></div></div></div></div></div></div></div></div><div id="42363557" class="c"><input type="checkbox" id="c-42363557" checked=""/><div class="controls bullet"><span class="by">Zamicol</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42362778">prev</a><span>|</span><a href="#42363086">next</a><span>|</span><label class="collapse" for="c-42363557">[-]</label><label class="expand" for="c-42363557">[1 more]</label></div><br/><div class="children"><div class="content">Software developers very much so care about best practices.<p>All that needed to be said was, &quot;Using comment programmatically is bad practice.  Don&#x27;t do it.&quot;</div><br/></div></div><div id="42363086" class="c"><input type="checkbox" id="c-42363086" checked=""/><div class="controls bullet"><span class="by">nurettin</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42363557">prev</a><span>|</span><a href="#42363134">next</a><span>|</span><label class="collapse" for="c-42363086">[-]</label><label class="expand" for="c-42363086">[2 more]</label></div><br/><div class="children"><div class="content">We should call this &quot;The Crockford Fallacy&quot;. Destroying something valuable in fear of a perceived threat.</div><br/><div id="42363686" class="c"><input type="checkbox" id="c-42363686" checked=""/><div class="controls bullet"><span class="by">AnthonBerg</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363086">parent</a><span>|</span><a href="#42363134">next</a><span>|</span><label class="collapse" for="c-42363686">[-]</label><label class="expand" for="c-42363686">[1 more]</label></div><br/><div class="children"><div class="content">We should preemptively destroy the concept of the Crockford Fallacy because people might seek to emulate it, right?</div><br/></div></div></div></div><div id="42363134" class="c"><input type="checkbox" id="c-42363134" checked=""/><div class="controls bullet"><span class="by">fuzzythinker</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42363086">prev</a><span>|</span><a href="#42362748">next</a><span>|</span><label class="collapse" for="c-42363134">[-]</label><label class="expand" for="c-42363134">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a terrible reasoning for requiring an extra toolchain.</div><br/></div></div><div id="42362748" class="c"><input type="checkbox" id="c-42362748" checked=""/><div class="controls bullet"><span class="by">SV_BubbleTime</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362220">parent</a><span>|</span><a href="#42363134">prev</a><span>|</span><a href="#42361771">next</a><span>|</span><label class="collapse" for="c-42362748">[-]</label><label class="expand" for="c-42362748">[3 more]</label></div><br/><div class="children"><div class="content">And that is fine reasoning, the workaround is not for me… but the larger issue is an inventor kneecapping something by stating how you should use it.<p>It’s not like there isn’t another side to this argument.</div><br/><div id="42362986" class="c"><input type="checkbox" id="c-42362986" checked=""/><div class="controls bullet"><span class="by">KPGv2</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362748">parent</a><span>|</span><a href="#42361771">next</a><span>|</span><label class="collapse" for="c-42362986">[-]</label><label class="expand" for="c-42362986">[2 more]</label></div><br/><div class="children"><div class="content">&gt; the larger issue is an inventor kneecapping something by stating how you should use it<p>This isn&#x27;t kneecapping something any more than an inventor requiring programmers in a new language use types, or not use types, whichever the inventor deems preferable.<p>He invented a thing. He declared how the thing is constructed. That&#x27;s not kneecapping. That&#x27;s just defining a thing.</div><br/><div id="42363223" class="c"><input type="checkbox" id="c-42363223" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362986">parent</a><span>|</span><a href="#42361771">next</a><span>|</span><label class="collapse" for="c-42363223">[-]</label><label class="expand" for="c-42363223">[1 more]</label></div><br/><div class="children"><div class="content">It is kneecapped.<p>He invented a thing and left out a well known and understood core function required in the problem space, deliberately, not through oversight.<p>That&#x27;s what makes it kneecapping.<p>The whole useful thing, ie the idea of a data format, including both knees (ie all the basic features any such thing needs) was there. The concept and necessity of annotation was a well known thing by then, and indeed he knew of it himself too, said so himself, and actively removed one functioning knee from that whole, to produce only the kneecapped thing.<p>He defined a kneecapped thing. Or he kneecapped the design. Whichever way you want to say it.<p>The difference would be if it was 40 years earlier and you are taking the fist stab at designing any kind of data format and comments just never occurred to you yet.<p>This is more like making a new programming language and deciding that it shall not have one of the basic math operators. If you need to multiply, tough shit, do it some other way. Just pipe it through JSMulti.</div><br/></div></div></div></div></div></div></div></div><div id="42361771" class="c"><input type="checkbox" id="c-42361771" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42362220">prev</a><span>|</span><a href="#42362083">next</a><span>|</span><label class="collapse" for="c-42361771">[-]</label><label class="expand" for="c-42361771">[4 more]</label></div><br/><div class="children"><div class="content">JWCC literally stands for JSON With Commas and Comments.<p>JWCC is also what Tailscale call HuJSON, as in &quot;JSON for Humans&quot;, which as amusingly also what json5 claims to be.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tailscale&#x2F;hujson">https:&#x2F;&#x2F;github.com&#x2F;tailscale&#x2F;hujson</a></div><br/><div id="42363145" class="c"><input type="checkbox" id="c-42363145" checked=""/><div class="controls bullet"><span class="by">lioeters</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42361771">parent</a><span>|</span><a href="#42362250">next</a><span>|</span><label class="collapse" for="c-42363145">[-]</label><label class="expand" for="c-42363145">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also HJSON, which stands for Human JSON.<p><a href="https:&#x2F;&#x2F;hjson.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hjson.github.io&#x2F;</a><p>It has implementations in JavaScript, C#, C++, Go, Java, Lua, PHP, Python, Rust.</div><br/><div id="42363357" class="c"><input type="checkbox" id="c-42363357" checked=""/><div class="controls bullet"><span class="by">joshuaturner</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363145">parent</a><span>|</span><a href="#42362250">next</a><span>|</span><label class="collapse" for="c-42363357">[-]</label><label class="expand" for="c-42363357">[1 more]</label></div><br/><div class="children"><div class="content">Who has the xkcd comic about standards handy?</div><br/></div></div></div></div></div></div><div id="42362083" class="c"><input type="checkbox" id="c-42362083" checked=""/><div class="controls bullet"><span class="by">404mm</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361771">prev</a><span>|</span><a href="#42364037">next</a><span>|</span><label class="collapse" for="c-42362083">[-]</label><label class="expand" for="c-42362083">[12 more]</label></div><br/><div class="children"><div class="content">Exactly! Trailing commas (for cleaner commits) and comments are the only pain points I ever felt.<p>On the other hand:<p>&gt; leadingDecimalPoint: .8675309<p>This is just lazy. Can we discuss in depth how much time you saved by skipping the “0” in favor of lesser readability?<p>&gt; andTrailing: 8675309.,<p>This doesn’t mean anything to me.</div><br/><div id="42363167" class="c"><input type="checkbox" id="c-42363167" checked=""/><div class="controls bullet"><span class="by">efitz</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362083">parent</a><span>|</span><a href="#42362918">next</a><span>|</span><label class="collapse" for="c-42363167">[-]</label><label class="expand" for="c-42363167">[1 more]</label></div><br/><div class="children"><div class="content">It’s not about readability, it’s being  realistic about other humans and making software robust in the presence of common, trivial, unambiguous “errors”.<p>Reference: Postel’s Law<p><a href="https:&#x2F;&#x2F;www.laws-of-software.com&#x2F;laws&#x2F;postel&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.laws-of-software.com&#x2F;laws&#x2F;postel&#x2F;</a></div><br/></div></div><div id="42362918" class="c"><input type="checkbox" id="c-42362918" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362083">parent</a><span>|</span><a href="#42363167">prev</a><span>|</span><a href="#42362698">next</a><span>|</span><label class="collapse" for="c-42362918">[-]</label><label class="expand" for="c-42362918">[6 more]</label></div><br/><div class="children"><div class="content">Well what&#x27;s more readable, .8675309 that is understood to have an implicit zero, or the parser giving up and unexpectedly making it a string? Maybe it&#x27;s not your preference but I can&#x27;t see any problem with making this more robust. The trailing one is strange to me but leaving off a leading zero isn&#x27;t unusual at all for written numbers in my experience.</div><br/><div id="42363160" class="c"><input type="checkbox" id="c-42363160" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362918">parent</a><span>|</span><a href="#42362975">next</a><span>|</span><label class="collapse" for="c-42363160">[-]</label><label class="expand" for="c-42363160">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Well what&#x27;s more readable, .8675309 that is understood to have an implicit zero<p>Is it universally understood? I think it&#x27;s a US &#x2F; English thing. In my country I&#x27;ve never seen numbers written in this way and many people would not &quot;parse&quot; it mentally as 0.8675309</div><br/><div id="42363179" class="c"><input type="checkbox" id="c-42363179" checked=""/><div class="controls bullet"><span class="by">efitz</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363160">parent</a><span>|</span><a href="#42362975">next</a><span>|</span><label class="collapse" for="c-42363179">[-]</label><label class="expand" for="c-42363179">[3 more]</label></div><br/><div class="children"><div class="content">I have never encountered an adult human being who would not be able to “parse” this mentally and come up with the correct value.  If I did, I wouldn’t associate with them voluntarily as they would likely be an asshole, spending all their time bikeshedding and making everyone  else miserable due to their inability to cope with someone not following their unwritten “rules”.</div><br/><div id="42363243" class="c"><input type="checkbox" id="c-42363243" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363179">parent</a><span>|</span><a href="#42363348">next</a><span>|</span><label class="collapse" for="c-42363243">[-]</label><label class="expand" for="c-42363243">[1 more]</label></div><br/><div class="children"><div class="content">What an extreme reaction. Many people would not be able to parse it since they&#x27;ve never seen a number written in this way, but you immediately write them off as assholes. Wow.</div><br/></div></div><div id="42363348" class="c"><input type="checkbox" id="c-42363348" checked=""/><div class="controls bullet"><span class="by">szszrk</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363179">parent</a><span>|</span><a href="#42363243">prev</a><span>|</span><a href="#42362975">next</a><span>|</span><label class="collapse" for="c-42363348">[-]</label><label class="expand" for="c-42363348">[1 more]</label></div><br/><div class="children"><div class="content">Stripping zero is not a common practice. You are clearly speaking of your own bubble here.<p>For most of the world that is even more ridiculous than using dot as decimal space separator or writing dates with month not in the middle place.<p>Even Americans I work with don&#x27;t write it like that when doing quick draft discussion, as they know it&#x27;s confusing to others.</div><br/></div></div></div></div></div></div><div id="42362975" class="c"><input type="checkbox" id="c-42362975" checked=""/><div class="controls bullet"><span class="by">404mm</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362918">parent</a><span>|</span><a href="#42363160">prev</a><span>|</span><a href="#42362698">next</a><span>|</span><label class="collapse" for="c-42362975">[-]</label><label class="expand" for="c-42362975">[1 more]</label></div><br/><div class="children"><div class="content">IMO the implicit zero is just as much an issue in regular written form. The period could be overlooked quite easily, but seeing a leading 0, one will know what’s really going on.<p>How could the parser see it as a string? This is not YAML and JSON5 still requires quotation marks.</div><br/></div></div></div></div><div id="42362698" class="c"><input type="checkbox" id="c-42362698" checked=""/><div class="controls bullet"><span class="by">_blk</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362083">parent</a><span>|</span><a href="#42362918">prev</a><span>|</span><a href="#42364037">next</a><span>|</span><label class="collapse" for="c-42362698">[-]</label><label class="expand" for="c-42362698">[4 more]</label></div><br/><div class="children"><div class="content">I never understood leading dot until I understood that native speakers indeed say &quot;.3&quot; (point three).<p>Trailing makes it a floating point type instead of an integer</div><br/><div id="42362749" class="c"><input type="checkbox" id="c-42362749" checked=""/><div class="controls bullet"><span class="by">papercrane</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362698">parent</a><span>|</span><a href="#42362761">next</a><span>|</span><label class="collapse" for="c-42362749">[-]</label><label class="expand" for="c-42362749">[1 more]</label></div><br/><div class="children"><div class="content">Trailing to signal a floating point seems like to niche of a use case to me. Generally it&#x27;s best to treat every JSON number literal as a 64-bit float anyway for the sake of interoperability.</div><br/></div></div><div id="42362761" class="c"><input type="checkbox" id="c-42362761" checked=""/><div class="controls bullet"><span class="by">SV_BubbleTime</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362698">parent</a><span>|</span><a href="#42362749">prev</a><span>|</span><a href="#42364037">next</a><span>|</span><label class="collapse" for="c-42362761">[-]</label><label class="expand" for="c-42362761">[2 more]</label></div><br/><div class="children"><div class="content">Right, you guys say like “naught point three”… sounds just as weird to us as ours does to you.<p>Still… I can be required to put a zero in, read 0.3, and still think “that’s point three”.</div><br/><div id="42362993" class="c"><input type="checkbox" id="c-42362993" checked=""/><div class="controls bullet"><span class="by">404mm</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362761">parent</a><span>|</span><a href="#42364037">next</a><span>|</span><label class="collapse" for="c-42362993">[-]</label><label class="expand" for="c-42362993">[1 more]</label></div><br/><div class="children"><div class="content">It became quite normal for me to write 0.3 and read it as “point three”. I do agree that the English language makes it less awkward to just skip the zero. It leaves very little room for confusion.</div><br/></div></div></div></div></div></div></div></div><div id="42364037" class="c"><input type="checkbox" id="c-42364037" checked=""/><div class="controls bullet"><span class="by">yread</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42362083">prev</a><span>|</span><a href="#42362835">next</a><span>|</span><label class="collapse" for="c-42364037">[-]</label><label class="expand" for="c-42364037">[1 more]</label></div><br/><div class="children"><div class="content">I just add another property with noncolliding name as a comment.<p>&quot;&#x2F;&#x2F;key&quot;:&quot;this is here so that foo bars&quot;,
&quot;key&quot;:&quot;value&quot;,<p>valid JSON. Most software handles extra propertiesjust fine</div><br/></div></div><div id="42362835" class="c"><input type="checkbox" id="c-42362835" checked=""/><div class="controls bullet"><span class="by">nox101</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42364037">prev</a><span>|</span><a href="#42361517">next</a><span>|</span><label class="collapse" for="c-42362835">[-]</label><label class="expand" for="c-42362835">[1 more]</label></div><br/><div class="children"><div class="content">JSONC is fine but VCS should have named its configuration files settings.jsonc since the files are not JSON and will not be parsed by JSON parsers.</div><br/></div></div><div id="42361517" class="c"><input type="checkbox" id="c-42361517" checked=""/><div class="controls bullet"><span class="by">appplication</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42362835">prev</a><span>|</span><a href="#42363442">next</a><span>|</span><label class="collapse" for="c-42361517">[-]</label><label class="expand" for="c-42361517">[2 more]</label></div><br/><div class="children"><div class="content">As a data guy I find myself running into JSONL a fair bit. It was surprising to me that it’s not supported in the vanilla spec.</div><br/><div id="42362062" class="c"><input type="checkbox" id="c-42362062" checked=""/><div class="controls bullet"><span class="by">compootr</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42361517">parent</a><span>|</span><a href="#42363442">next</a><span>|</span><label class="collapse" for="c-42362062">[-]</label><label class="expand" for="c-42362062">[1 more]</label></div><br/><div class="children"><div class="content">as a student experimenting with millions of records of data, its pretty nice!</div><br/></div></div></div></div><div id="42363442" class="c"><input type="checkbox" id="c-42363442" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361517">prev</a><span>|</span><a href="#42361994">next</a><span>|</span><label class="collapse" for="c-42363442">[-]</label><label class="expand" for="c-42363442">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The only thing that JSON is really missing are comments and trailing commas.<p>And multi-line strings. You don&#x27;t always need that, but when you do, it&#x27;s absence is very painful.</div><br/><div id="42363916" class="c"><input type="checkbox" id="c-42363916" checked=""/><div class="controls bullet"><span class="by">stkdump</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42363442">parent</a><span>|</span><a href="#42361994">next</a><span>|</span><label class="collapse" for="c-42363916">[-]</label><label class="expand" for="c-42363916">[1 more]</label></div><br/><div class="children"><div class="content">Agreed. The workaround (arrays of strings) isn&#x27;t great as it means an extra transformation has to be done between the reader and the usage. I would go so far as to say this is more important than comments.</div><br/></div></div></div></div><div id="42361994" class="c"><input type="checkbox" id="c-42361994" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42363442">prev</a><span>|</span><a href="#42361935">next</a><span>|</span><label class="collapse" for="c-42361994">[-]</label><label class="expand" for="c-42361994">[8 more]</label></div><br/><div class="children"><div class="content">&gt; The only thing that JSON is really missing are comments and trailing commas. I use JSONC for that.<p>YAML[0] supports JSON formatted resources and octothorpe (&#x27;#&#x27;) comments as well.  I didn&#x27;t see anything in the spec specifically allowing for trailing commas however.<p>Here is an exemplar using the Ruby YAML module:<p><pre><code>  #!&#x2F;usr&#x2F;bin&#x2F;ruby
  
  require &#x27;yaml&#x27;
  
  
  puts YAML.load(
    %&#x2F;
      # YAML is a strict superset of JSON, which
      # means supporting octothorpe end-of-line
      # comments is supported in JSON formatted
      # YAML if and only if the content is multi-line
      # formatted as well (like this example).
      {
        # This is valid YAML!
        &quot;foo&quot; : &quot;bar&quot;
      }
    &#x2F;
    )
  </code></pre>
0 - <a href="https:&#x2F;&#x2F;yaml.org&#x2F;spec&#x2F;1.2.2&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yaml.org&#x2F;spec&#x2F;1.2.2&#x2F;</a></div><br/><div id="42362078" class="c"><input type="checkbox" id="c-42362078" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42361994">parent</a><span>|</span><a href="#42362037">next</a><span>|</span><label class="collapse" for="c-42362078">[-]</label><label class="expand" for="c-42362078">[4 more]</label></div><br/><div class="children"><div class="content">The problem of yaml is that it allows <i>too</i> much. It allows unquoted strings, and those can be interpreted by the parser as numbers, timestamps, booleans, etc. This is a source of many fooguns.<p>Use of indentation to denote nesting can sometimes be an anti-feature, too, because while using that the format does not provide a way to make certain that the entire stream has been read (parens balanced). This may lead to problems or even exploits.<p>Pure JSON is so painful for human consumption though, I willingly choose yaml if it&#x27;s the only alternative.<p>JSON5 may indeed be a sweet spot between human-friendliness and lack of nasty surprises.</div><br/><div id="42362124" class="c"><input type="checkbox" id="c-42362124" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362078">parent</a><span>|</span><a href="#42362037">next</a><span>|</span><label class="collapse" for="c-42362124">[-]</label><label class="expand" for="c-42362124">[3 more]</label></div><br/><div class="children"><div class="content">As I mentioned in a reply to a peer comment, the problems you describe regarding YAML appear to be about the commonly used format most of us think of and the totality of the YAML feature set.<p>What is illustrated above is the definition of a specification-compliant YAML resource strictly using JSON constructs + octothorpe end-of-line comments.<p>Does this usage mitigate the concerns you have identified?</div><br/><div id="42362171" class="c"><input type="checkbox" id="c-42362171" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362124">parent</a><span>|</span><a href="#42363015">next</a><span>|</span><label class="collapse" for="c-42362171">[-]</label><label class="expand" for="c-42362171">[1 more]</label></div><br/><div class="children"><div class="content">The problem is that self-restraint only takes you so far. Typos exist. Human mistakes exist. Machine errors exist. Malicious inputs exist.<p>A good parser does not just accept the inputs you find valid, but also rejects inputs you deem invalid. Running a linter that would report or amend all the footgun-wielding features of yaml before parsing is tanamount to running another parser. Then why bother :)</div><br/></div></div><div id="42363015" class="c"><input type="checkbox" id="c-42363015" checked=""/><div class="controls bullet"><span class="by">milch</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362124">parent</a><span>|</span><a href="#42362171">prev</a><span>|</span><a href="#42362037">next</a><span>|</span><label class="collapse" for="c-42363015">[-]</label><label class="expand" for="c-42363015">[1 more]</label></div><br/><div class="children"><div class="content">Using a YAML parser to parse JSON+comments is like bringing a tank to a knife fight... If you only parse &quot;trusted&quot; input, i.e. you can guarantee that no one is ever going to pass anything but JSON+comments, and you don&#x27;t do it in any high-TPS scenarios it&#x27;s probably fine to use a YAML parser</div><br/></div></div></div></div></div></div><div id="42362037" class="c"><input type="checkbox" id="c-42362037" checked=""/><div class="controls bullet"><span class="by">ratorx</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42361994">parent</a><span>|</span><a href="#42362078">prev</a><span>|</span><a href="#42361935">next</a><span>|</span><label class="collapse" for="c-42362037">[-]</label><label class="expand" for="c-42362037">[3 more]</label></div><br/><div class="children"><div class="content">Whilst YAML is an option, if the choice is between having the unnecessary extra features of JSON5 or YAML, JSON5 seems like the clear winner.<p>Allowing multiple types of quotes may be an unnecessary feature but it is a clear lesser evil compared to the mountain of footguns that YAML brings with it.</div><br/><div id="42362093" class="c"><input type="checkbox" id="c-42362093" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362037">parent</a><span>|</span><a href="#42361935">next</a><span>|</span><label class="collapse" for="c-42362093">[-]</label><label class="expand" for="c-42362093">[2 more]</label></div><br/><div class="children"><div class="content">How does defining a YAML resource strictly in terms of well-formed JSON + octothorpe comments introduce &quot;the mountain of footguns that YAML brings with it&quot;?</div><br/><div id="42362239" class="c"><input type="checkbox" id="c-42362239" checked=""/><div class="controls bullet"><span class="by">ratorx</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42362093">parent</a><span>|</span><a href="#42361935">next</a><span>|</span><label class="collapse" for="c-42362239">[-]</label><label class="expand" for="c-42362239">[1 more]</label></div><br/><div class="children"><div class="content">It doesn’t, quoting strings does solve almost all issues, but it does leave potential footguns for the future.<p>If you don’t enforce it, in the future the “subset of YAML” property might get weaker, especially if someone else is modifying the config.<p>If you treat config files the same as code, then using a safe subset of YAML is the same as using a safe subset of C. It is theoretically doable, but without extensive safeguards, someone will eventually slip up.</div><br/></div></div></div></div></div></div></div></div><div id="42361935" class="c"><input type="checkbox" id="c-42361935" checked=""/><div class="controls bullet"><span class="by">hippospark</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361994">prev</a><span>|</span><a href="#42362070">next</a><span>|</span><label class="collapse" for="c-42361935">[-]</label><label class="expand" for="c-42361935">[1 more]</label></div><br/><div class="children"><div class="content">Also take a look at ASON [1]. ASON is a data format that evolved from JSON, introducing strong data typing and support for variant types.<p>[^1] <a href="https:&#x2F;&#x2F;github.com&#x2F;hemashushu&#x2F;ason">https:&#x2F;&#x2F;github.com&#x2F;hemashushu&#x2F;ason</a></div><br/></div></div><div id="42362070" class="c"><input type="checkbox" id="c-42362070" checked=""/><div class="controls bullet"><span class="by">n144q</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361935">prev</a><span>|</span><a href="#42362930">next</a><span>|</span><label class="collapse" for="c-42362070">[-]</label><label class="expand" for="c-42362070">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the only thing that JSON is really missing<p>Depending what you use JSON for, &quot;Numbers may be IEEE 754 positive infinity, negative infinity, and NaN.&quot; could be a huge plus.</div><br/></div></div><div id="42362930" class="c"><input type="checkbox" id="c-42362930" checked=""/><div class="controls bullet"><span class="by">xelamonster</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42362070">prev</a><span>|</span><a href="#42361467">next</a><span>|</span><label class="collapse" for="c-42362930">[-]</label><label class="expand" for="c-42362930">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not a fan of forcing single or double quotes because escape codes are such a pain to deal with and to me make things significantly harder to read than an inconsistent quoting style ever could.</div><br/></div></div><div id="42361467" class="c"><input type="checkbox" id="c-42361467" checked=""/><div class="controls bullet"><span class="by">numbsafari</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42362930">prev</a><span>|</span><a href="#42361917">next</a><span>|</span><label class="collapse" for="c-42361467">[-]</label><label class="expand" for="c-42361467">[1 more]</label></div><br/><div class="children"><div class="content">Allowing for leading decimals without a preceding zero also seems like shifting a whole class of errors right.</div><br/></div></div><div id="42361917" class="c"><input type="checkbox" id="c-42361917" checked=""/><div class="controls bullet"><span class="by">simoneau</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361467">prev</a><span>|</span><a href="#42361911">next</a><span>|</span><label class="collapse" for="c-42361917">[-]</label><label class="expand" for="c-42361917">[2 more]</label></div><br/><div class="children"><div class="content">Someone just needs to write “JSON5: The Good Parts” and an aggressive linter to enforce it.</div><br/><div id="42361934" class="c"><input type="checkbox" id="c-42361934" checked=""/><div class="controls bullet"><span class="by">catlifeonmars</span><span>|</span><a href="#42361282">root</a><span>|</span><a href="#42361917">parent</a><span>|</span><a href="#42361911">next</a><span>|</span><label class="collapse" for="c-42361934">[-]</label><label class="expand" for="c-42361934">[1 more]</label></div><br/><div class="children"><div class="content">Why not just a parser? Should be easy enough.</div><br/></div></div></div></div><div id="42361911" class="c"><input type="checkbox" id="c-42361911" checked=""/><div class="controls bullet"><span class="by">Pxtl</span><span>|</span><a href="#42361282">parent</a><span>|</span><a href="#42361917">prev</a><span>|</span><a href="#42361156">next</a><span>|</span><label class="collapse" for="c-42361911">[-]</label><label class="expand" for="c-42361911">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The only thing that JSON is really missing are comments and trailing commas. I use JSONC for that. It&#x27;s what VSC uses for the config format and it works.<p>I disagree.  Human-friendy multiline strings aren&#x27;t really optional for a serialization format that will inevitably also be used as a config format sometimes because those are the same problem.</div><br/></div></div></div></div><div id="42361156" class="c"><input type="checkbox" id="c-42361156" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#42361282">prev</a><span>|</span><a href="#42361119">next</a><span>|</span><label class="collapse" for="c-42361156">[-]</label><label class="expand" for="c-42361156">[17 more]</label></div><br/><div class="children"><div class="content">As much as i like this (yaml goes way too far, but trailing commas and comments would make json much nicer. I actually think this spec goes too far with single quotes) i hate that it is named json5. I think its unethical to imply you are the next version of something if you don&#x27;t have the blessing of the original author.</div><br/><div id="42361256" class="c"><input type="checkbox" id="c-42361256" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#42361156">parent</a><span>|</span><a href="#42361263">next</a><span>|</span><label class="collapse" for="c-42361256">[-]</label><label class="expand" for="c-42361256">[5 more]</label></div><br/><div class="children"><div class="content">Even when the original author said it was &quot;discovered&quot;?<p>JSON5 is closer to &quot;javascript object notation&quot; than JSON itself.  It&#x27;s partly an update and partly a removal of arbitrary restrictions.</div><br/><div id="42361944" class="c"><input type="checkbox" id="c-42361944" checked=""/><div class="controls bullet"><span class="by">yosito</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361256">parent</a><span>|</span><a href="#42361263">next</a><span>|</span><label class="collapse" for="c-42361944">[-]</label><label class="expand" for="c-42361944">[4 more]</label></div><br/><div class="children"><div class="content">Except that JSON is a valid JavaScript object, and JSON5 is not.</div><br/><div id="42362026" class="c"><input type="checkbox" id="c-42362026" checked=""/><div class="controls bullet"><span class="by">Zamicol</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361944">parent</a><span>|</span><a href="#42362256">next</a><span>|</span><label class="collapse" for="c-42362026">[-]</label><label class="expand" for="c-42362026">[1 more]</label></div><br/><div class="children"><div class="content">Why is it not?  My understanding is that it is a valid ES5 and forward object.</div><br/></div></div><div id="42362256" class="c"><input type="checkbox" id="c-42362256" checked=""/><div class="controls bullet"><span class="by">ahartmetz</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361944">parent</a><span>|</span><a href="#42362026">prev</a><span>|</span><a href="#42362997">next</a><span>|</span><label class="collapse" for="c-42362256">[-]</label><label class="expand" for="c-42362256">[1 more]</label></div><br/><div class="children"><div class="content">Unless there&#x27;s a direct lie in the description of JSON5 (&quot;subset of ECMAScript&quot;), JSON5 objects are valid JS objects.</div><br/></div></div><div id="42362997" class="c"><input type="checkbox" id="c-42362997" checked=""/><div class="controls bullet"><span class="by">tubthumper8</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361944">parent</a><span>|</span><a href="#42362256">prev</a><span>|</span><a href="#42361263">next</a><span>|</span><label class="collapse" for="c-42362997">[-]</label><label class="expand" for="c-42362997">[1 more]</label></div><br/><div class="children"><div class="content">Can you provide an example?</div><br/></div></div></div></div></div></div><div id="42361263" class="c"><input type="checkbox" id="c-42361263" checked=""/><div class="controls bullet"><span class="by">papa-whisky</span><span>|</span><a href="#42361156">parent</a><span>|</span><a href="#42361256">prev</a><span>|</span><a href="#42363170">next</a><span>|</span><label class="collapse" for="c-42361263">[-]</label><label class="expand" for="c-42361263">[1 more]</label></div><br/><div class="children"><div class="content">I think the name just means that it sits in-between JSON and ES5 (i.e., it&#x27;s a superset of JSON and subset of ES5).<p>edit: well as this comment thread indicates, the name is pretty confusing for everyone :)</div><br/></div></div><div id="42363170" class="c"><input type="checkbox" id="c-42363170" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#42361156">parent</a><span>|</span><a href="#42361263">prev</a><span>|</span><a href="#42362128">next</a><span>|</span><label class="collapse" for="c-42363170">[-]</label><label class="expand" for="c-42363170">[3 more]</label></div><br/><div class="children"><div class="content">Single quotes are useful for string contents containing many double quotes (e.g. XML).</div><br/><div id="42363925" class="c"><input type="checkbox" id="c-42363925" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42363170">parent</a><span>|</span><a href="#42362128">next</a><span>|</span><label class="collapse" for="c-42363925">[-]</label><label class="expand" for="c-42363925">[2 more]</label></div><br/><div class="children"><div class="content">Lots of things are useful. I think json has been succesful largely because it preferred minimalism over usefulness.</div><br/><div id="42363952" class="c"><input type="checkbox" id="c-42363952" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42363925">parent</a><span>|</span><a href="#42362128">next</a><span>|</span><label class="collapse" for="c-42363952">[-]</label><label class="expand" for="c-42363952">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not a binary choice. I don&#x27;t think if Crockford chose a slightly larger subset of JavaScript for JSON (such as JSON5), it would hurt its adoption.</div><br/></div></div></div></div></div></div><div id="42362128" class="c"><input type="checkbox" id="c-42362128" checked=""/><div class="controls bullet"><span class="by">yonran</span><span>|</span><a href="#42361156">parent</a><span>|</span><a href="#42363170">prev</a><span>|</span><a href="#42361212">next</a><span>|</span><label class="collapse" for="c-42362128">[-]</label><label class="expand" for="c-42362128">[2 more]</label></div><br/><div class="children"><div class="content">The parser for tsconfig.json (typscript.parseConfigFileTextToJson(fileName, jsonText) or parseJsonText) seems to be what you want; I wonder if there is a name for that format.</div><br/><div id="42363262" class="c"><input type="checkbox" id="c-42363262" checked=""/><div class="controls bullet"><span class="by">bobbylarrybobby</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42362128">parent</a><span>|</span><a href="#42361212">next</a><span>|</span><label class="collapse" for="c-42363262">[-]</label><label class="expand" for="c-42363262">[1 more]</label></div><br/><div class="children"><div class="content">I think JSONC is the term for json with comments and trailing commas</div><br/></div></div></div></div><div id="42361212" class="c"><input type="checkbox" id="c-42361212" checked=""/><div class="controls bullet"><span class="by">j1elo</span><span>|</span><a href="#42361156">parent</a><span>|</span><a href="#42362128">prev</a><span>|</span><a href="#42361119">next</a><span>|</span><label class="collapse" for="c-42361212">[-]</label><label class="expand" for="c-42361212">[5 more]</label></div><br/><div class="children"><div class="content">I always thought that the name JSON5 pretends to be nothing more than a pun on Michael Jackson&#x27;s original band, The Jackson 5. It sounds too similar!<p>If it didn&#x27;t originate from that, what else?</div><br/><div id="42361246" class="c"><input type="checkbox" id="c-42361246" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361212">parent</a><span>|</span><a href="#42361425">next</a><span>|</span><label class="collapse" for="c-42361246">[-]</label><label class="expand" for="c-42361246">[2 more]</label></div><br/><div class="children"><div class="content">The project description describes it as json plus syntax from emcascript 5.1 (commonly called ES5) [the official name of javascript is emcascript]. I imagine that is where the name comes from.<p>Although it doesn&#x27;t really make sense since most of the stuff they add predates ES5.</div><br/><div id="42361980" class="c"><input type="checkbox" id="c-42361980" checked=""/><div class="controls bullet"><span class="by">Zamicol</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361246">parent</a><span>|</span><a href="#42361425">next</a><span>|</span><label class="collapse" for="c-42361980">[-]</label><label class="expand" for="c-42361980">[1 more]</label></div><br/><div class="children"><div class="content">Yes, that is where the name comes from.</div><br/></div></div></div></div><div id="42361425" class="c"><input type="checkbox" id="c-42361425" checked=""/><div class="controls bullet"><span class="by">dcre</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361212">parent</a><span>|</span><a href="#42361246">prev</a><span>|</span><a href="#42361261">next</a><span>|</span><label class="collapse" for="c-42361425">[-]</label><label class="expand" for="c-42361425">[1 more]</label></div><br/><div class="children"><div class="content">Ha. There is no way that’s what it means unless you read that somewhere.</div><br/></div></div><div id="42361261" class="c"><input type="checkbox" id="c-42361261" checked=""/><div class="controls bullet"><span class="by">zeven7</span><span>|</span><a href="#42361156">root</a><span>|</span><a href="#42361212">parent</a><span>|</span><a href="#42361425">prev</a><span>|</span><a href="#42361119">next</a><span>|</span><label class="collapse" for="c-42361261">[-]</label><label class="expand" for="c-42361261">[1 more]</label></div><br/><div class="children"><div class="content">I assumed it was a play on HTML5 ¯\_(ツ)_&#x2F;¯</div><br/></div></div></div></div></div></div><div id="42361119" class="c"><input type="checkbox" id="c-42361119" checked=""/><div class="controls bullet"><span class="by">yashap</span><span>|</span><a href="#42361156">prev</a><span>|</span><a href="#42362923">next</a><span>|</span><label class="collapse" for="c-42361119">[-]</label><label class="expand" for="c-42361119">[17 more]</label></div><br/><div class="children"><div class="content">I’m a fan of JSON5. A common criticism is “we’ve already got YAML for human readable config with comments,” but IMO YAML’s readability sucks, it’s too hard to tell what’s an object and what’s an array at a glance (at least, with the way it’s often written).<p>When dealing with large YAML files, I find myself frequently popping them into online “YAML to JSON” tools to actually figure out WTF is going on.  JSON5 is much easier to read, at least for me.</div><br/><div id="42361277" class="c"><input type="checkbox" id="c-42361277" checked=""/><div class="controls bullet"><span class="by">couscouspie</span><span>|</span><a href="#42361119">parent</a><span>|</span><a href="#42361160">next</a><span>|</span><label class="collapse" for="c-42361277">[-]</label><label class="expand" for="c-42361277">[3 more]</label></div><br/><div class="children"><div class="content">Just in case you didn&#x27;t know: With <a href="https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq">https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq</a> you can just immediately translate YAMLs like<p><pre><code>  yq some.yaml -o json</code></pre></div><br/><div id="42361715" class="c"><input type="checkbox" id="c-42361715" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361277">parent</a><span>|</span><a href="#42361160">next</a><span>|</span><label class="collapse" for="c-42361715">[-]</label><label class="expand" for="c-42361715">[2 more]</label></div><br/><div class="children"><div class="content">A reimplementation of jq in golang supports <i>reading</i> yaml and, of course, emits json: <a href="https:&#x2F;&#x2F;github.com&#x2F;itchyny&#x2F;gojq#:~:text=supports%20reading%20from%20YAML">https:&#x2F;&#x2F;github.com&#x2F;itchyny&#x2F;gojq#:~:text=supports%20reading%2...</a><p>That one is likely more relevant than yq since folks in the json ecosystem are far more likely to be familiar with jq&#x27;s syntax and thus using gojq is &quot;one stop shopping,&quot; not to mention that its error handling is light-years beyond jqlang&#x27;s copy</div><br/><div id="42363010" class="c"><input type="checkbox" id="c-42363010" checked=""/><div class="controls bullet"><span class="by">bbkane</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361715">parent</a><span>|</span><a href="#42361160">next</a><span>|</span><label class="collapse" for="c-42363010">[-]</label><label class="expand" for="c-42363010">[1 more]</label></div><br/><div class="children"><div class="content">Yes, but I LOVE yq&#x27;s ability to update YAML files without stripping existing comments. For example, I use it to programmatically update similar (but not identical) GitHub Actions files across projects.</div><br/></div></div></div></div></div></div><div id="42361160" class="c"><input type="checkbox" id="c-42361160" checked=""/><div class="controls bullet"><span class="by">stackskipton</span><span>|</span><a href="#42361119">parent</a><span>|</span><a href="#42361277">prev</a><span>|</span><a href="#42361787">next</a><span>|</span><label class="collapse" for="c-42361160">[-]</label><label class="expand" for="c-42361160">[5 more]</label></div><br/><div class="children"><div class="content">Those two criticisms of YAML are at bottom of my list. Space as delimiter and lack of strict typing is what screws me over on daily basis as SRE.</div><br/><div id="42361188" class="c"><input type="checkbox" id="c-42361188" checked=""/><div class="controls bullet"><span class="by">yashap</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361160">parent</a><span>|</span><a href="#42361939">next</a><span>|</span><label class="collapse" for="c-42361188">[-]</label><label class="expand" for="c-42361188">[1 more]</label></div><br/><div class="children"><div class="content">Fair, YAML has a lot of usability warts, and those suck too. Although personally I really do hate how tough it is to tell apart arrays and objects, at least with the most common YAML array&#x2F;object style.</div><br/></div></div><div id="42361939" class="c"><input type="checkbox" id="c-42361939" checked=""/><div class="controls bullet"><span class="by">Pxtl</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361160">parent</a><span>|</span><a href="#42361188">prev</a><span>|</span><a href="#42361787">next</a><span>|</span><label class="collapse" for="c-42361939">[-]</label><label class="expand" for="c-42361939">[3 more]</label></div><br/><div class="children"><div class="content">This.  I hate how all these serialization&#x2F;config formats come out of dynamically typed languages.  Static typing is a must.  Then so many classes of errors go away.</div><br/><div id="42362724" class="c"><input type="checkbox" id="c-42362724" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361939">parent</a><span>|</span><a href="#42362391">next</a><span>|</span><label class="collapse" for="c-42362724">[-]</label><label class="expand" for="c-42362724">[1 more]</label></div><br/><div class="children"><div class="content">Just static type then. You can’t trust incoming data shapes anyway, e.g. if it specifies a schema and doesn’t even follow it. You always expect <i>something</i> in a typed language, not anything. So validate it and that’s it. Thinking that dynamic data can be typed is a mistake. It can only be structured ([], {}, &quot;&quot;, …) into basic types and then matched to some template. Any above-data section about types is as good as none. It can help a human to make sense of its shape, but that’s it.</div><br/></div></div><div id="42362391" class="c"><input type="checkbox" id="c-42362391" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361939">parent</a><span>|</span><a href="#42362724">prev</a><span>|</span><a href="#42361787">next</a><span>|</span><label class="collapse" for="c-42362391">[-]</label><label class="expand" for="c-42362391">[1 more]</label></div><br/><div class="children"><div class="content">You might like Dhall</div><br/></div></div></div></div></div></div><div id="42361787" class="c"><input type="checkbox" id="c-42361787" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42361119">parent</a><span>|</span><a href="#42361160">prev</a><span>|</span><a href="#42361190">next</a><span>|</span><label class="collapse" for="c-42361787">[-]</label><label class="expand" for="c-42361787">[5 more]</label></div><br/><div class="children"><div class="content">&gt; When dealing with large YAML files, I find myself frequently popping them into online “YAML to JSON” tools to actually figure out WTF is going on.<p>YAML is a strict superset of JSON, so defining the former in the syntax of the latter is fully supported by the spec.  Perhaps not by every YAML library, to be sure, but those which do not are not conformant.  From the YAML spec[0]:<p><pre><code>  The YAML 1.23 specification was published in 2009. Its 
  primary focus was making YAML a strict superset of JSON.
</code></pre>
0 - <a href="https:&#x2F;&#x2F;yaml.org&#x2F;spec&#x2F;1.2.2&#x2F;" rel="nofollow">https:&#x2F;&#x2F;yaml.org&#x2F;spec&#x2F;1.2.2&#x2F;</a></div><br/><div id="42363757" class="c"><input type="checkbox" id="c-42363757" checked=""/><div class="controls bullet"><span class="by">yashap</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361787">parent</a><span>|</span><a href="#42363148">next</a><span>|</span><label class="collapse" for="c-42363757">[-]</label><label class="expand" for="c-42363757">[2 more]</label></div><br/><div class="children"><div class="content">For sure, but most YAML you actually encounter does not use much in the way of JSON syntax, it looks a lot more like this: <a href="https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;devops&#x2F;wp-content&#x2F;uploads&#x2F;sites&#x2F;6&#x2F;2020&#x2F;11&#x2F;exported-yaml.png" rel="nofollow">https:&#x2F;&#x2F;devblogs.microsoft.com&#x2F;devops&#x2F;wp-content&#x2F;uploads&#x2F;sit...</a><p>Where arrays and objects just look too similar (IMO), white space is significant, most strings are unquoted, etc. And personally I find it quite difficult to really understand what’s going on there, at a glance, compared to JSON (or JSON5).</div><br/><div id="42363771" class="c"><input type="checkbox" id="c-42363771" checked=""/><div class="controls bullet"><span class="by">dragonwriter</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42363757">parent</a><span>|</span><a href="#42363148">next</a><span>|</span><label class="collapse" for="c-42363771">[-]</label><label class="expand" for="c-42363771">[1 more]</label></div><br/><div class="children"><div class="content">&gt; For sure, but most YAML you actually encounter does not use JSON syntax<p>So what? YAML can be trivially mechanically translated between flow and block syntax.</div><br/></div></div></div></div><div id="42363148" class="c"><input type="checkbox" id="c-42363148" checked=""/><div class="controls bullet"><span class="by">Centigonal</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361787">parent</a><span>|</span><a href="#42363757">prev</a><span>|</span><a href="#42361190">next</a><span>|</span><label class="collapse" for="c-42363148">[-]</label><label class="expand" for="c-42363148">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m confused about your point about YAML being &quot;strict superset of JSON&quot; leading to being able to convert YAML to JSON.<p>If YAML is a strict superset, wouldn&#x27;t that mean that YAML must have at least one feature that is not part of JSON? Wouldn&#x27;t that make it impossible to define all YAML files as valid JSON?</div><br/><div id="42363397" class="c"><input type="checkbox" id="c-42363397" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42363148">parent</a><span>|</span><a href="#42361190">next</a><span>|</span><label class="collapse" for="c-42363397">[-]</label><label class="expand" for="c-42363397">[1 more]</label></div><br/><div class="children"><div class="content">They all turn into the same data types in the end.  You can import a YAML and output a JSON.<p>For a feature like references, you&#x27;d have to do the annoying thing and duplicate that section of the file.<p>For a feature like unquoted strings or extra commas, you just quote the strings or remove the commas.<p>The various YAML features are in between and mostly close to the latter.</div><br/></div></div></div></div></div></div><div id="42361190" class="c"><input type="checkbox" id="c-42361190" checked=""/><div class="controls bullet"><span class="by">marcyb5st</span><span>|</span><a href="#42361119">parent</a><span>|</span><a href="#42361787">prev</a><span>|</span><a href="#42361224">next</a><span>|</span><label class="collapse" for="c-42361190">[-]</label><label class="expand" for="c-42361190">[1 more]</label></div><br/><div class="children"><div class="content">What&#x27;s your take on prototxt files? In my opinion it is the most readable format since you don&#x27;t need square brackets for repeated fields&#x2F;arrays.<p>Additionally plugins let you link your prototxt file with the corresponding proto so you can spot errors right away.</div><br/></div></div><div id="42361224" class="c"><input type="checkbox" id="c-42361224" checked=""/><div class="controls bullet"><span class="by">BurningFrog</span><span>|</span><a href="#42361119">parent</a><span>|</span><a href="#42361190">prev</a><span>|</span><a href="#42362923">next</a><span>|</span><label class="collapse" for="c-42361224">[-]</label><label class="expand" for="c-42361224">[2 more]</label></div><br/><div class="children"><div class="content">If you already have a bunch of JSON documents, you can keep using them with JSON5.<p>That&#x27;s a big advantage compared to converting to YAML.</div><br/><div id="42361253" class="c"><input type="checkbox" id="c-42361253" checked=""/><div class="controls bullet"><span class="by">knowsuchagency</span><span>|</span><a href="#42361119">root</a><span>|</span><a href="#42361224">parent</a><span>|</span><a href="#42362923">next</a><span>|</span><label class="collapse" for="c-42361253">[-]</label><label class="expand" for="c-42361253">[1 more]</label></div><br/><div class="children"><div class="content">same is true of YAML as a JSON superset</div><br/></div></div></div></div></div></div><div id="42362923" class="c"><input type="checkbox" id="c-42362923" checked=""/><div class="controls bullet"><span class="by">alex-robbins</span><span>|</span><a href="#42361119">prev</a><span>|</span><a href="#42361938">next</a><span>|</span><label class="collapse" for="c-42362923">[-]</label><label class="expand" for="c-42362923">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s too bad EDN [1] hasn&#x27;t seen much adoption outside of the biblical paradise that is the Clojure ecosystem.<p>[1]: <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Clojure#Extensible_Data_Notation" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Clojure#Extensible_Data_Nota...</a><p>In fact, there doesn&#x27;t seem to be a spec or standard for it, outside of the de facto standard used by Clojure and the programs in its orbit. I guess nobody&#x27;s bothered to write a standard, because the people who are already using EDN are doing fine without one, and the people who aren&#x27;t either don&#x27;t know what it is or don&#x27;t see its value.</div><br/><div id="42363075" class="c"><input type="checkbox" id="c-42363075" checked=""/><div class="controls bullet"><span class="by">ledgerdev</span><span>|</span><a href="#42362923">parent</a><span>|</span><a href="#42363193">next</a><span>|</span><label class="collapse" for="c-42363075">[-]</label><label class="expand" for="c-42363075">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;edn-format&#x2F;edn">https:&#x2F;&#x2F;github.com&#x2F;edn-format&#x2F;edn</a><p>I too love edn, but unfortunately most other languages lib abandoned (eg. <a href="https:&#x2F;&#x2F;github.com&#x2F;edn-format&#x2F;edn-dot-net">https:&#x2F;&#x2F;github.com&#x2F;edn-format&#x2F;edn-dot-net</a> ). Looking around python seems relatively maintained which is great <a href="https:&#x2F;&#x2F;github.com&#x2F;swaroopch&#x2F;edn_format&#x2F;issues">https:&#x2F;&#x2F;github.com&#x2F;swaroopch&#x2F;edn_format&#x2F;issues</a></div><br/></div></div><div id="42363193" class="c"><input type="checkbox" id="c-42363193" checked=""/><div class="controls bullet"><span class="by">avodonosov</span><span>|</span><a href="#42362923">parent</a><span>|</span><a href="#42363075">prev</a><span>|</span><a href="#42361938">next</a><span>|</span><label class="collapse" for="c-42363193">[-]</label><label class="expand" for="c-42363193">[1 more]</label></div><br/><div class="children"><div class="content">Dont be pessimistic - you are still free to used it.<p>I used EDN outside of Clojure. The system needed a relatively large amount of config files, and I chose EDN as a better JSON. Looks familiar to everyone, but supports comments - the primary motivation for that choice.<p>JSON-5 allows a single trailing comma. EDN simply ignores commas. You can have them, trailing or not. But they are really redundant and incur visual noise.<p>Perhaps EDN can also be improved, but that&#x27;s a good format. Convenient.</div><br/></div></div></div></div><div id="42361938" class="c"><input type="checkbox" id="c-42361938" checked=""/><div class="controls bullet"><span class="by">bearjaws</span><span>|</span><a href="#42362923">prev</a><span>|</span><a href="#42362131">next</a><span>|</span><label class="collapse" for="c-42361938">[-]</label><label class="expand" for="c-42361938">[11 more]</label></div><br/><div class="children"><div class="content">The whole reason JSON rules the world is because it&#x27;s brutally simple.<p>We already have 5+ replacements that are far more <i>robust</i>(XML, YML) and IMO they are not great replacements for JSON.<p>Why? Because you can&#x27;t trust most people with anything more complicated than JSON.<p>I shutter at some of the SOAP &#x2F; XML I have seen and whenever you enable something more complicated inevitably someone comes up with a <i>&quot;clever&quot;</i> idea that ruins your day.</div><br/><div id="42361979" class="c"><input type="checkbox" id="c-42361979" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#42361938">parent</a><span>|</span><a href="#42363618">next</a><span>|</span><label class="collapse" for="c-42361979">[-]</label><label class="expand" for="c-42361979">[3 more]</label></div><br/><div class="children"><div class="content">&gt; The whole reason JSON rules the world is because it&#x27;s brutally simple.<p>I don&#x27;t think that&#x27;s the primary reason. JSON is pervasive because it started out being <i>trivially</i> parseable by JavaScript going back to when people just evaluated it, even before browsers had ridiculously high-perfomance safe JSON parsers. All the other formats are <i>still</i> harder to work with from JavaScript.<p>If not for that, personally I&#x27;d advocate TOML, which is incredibly simple.</div><br/><div id="42363270" class="c"><input type="checkbox" id="c-42363270" checked=""/><div class="controls bullet"><span class="by">bobbylarrybobby</span><span>|</span><a href="#42361938">root</a><span>|</span><a href="#42361979">parent</a><span>|</span><a href="#42364051">next</a><span>|</span><label class="collapse" for="c-42363270">[-]</label><label class="expand" for="c-42363270">[1 more]</label></div><br/><div class="children"><div class="content">I find toml impossible to both read and write in all but the simplest cases.</div><br/></div></div><div id="42364051" class="c"><input type="checkbox" id="c-42364051" checked=""/><div class="controls bullet"><span class="by">peeters</span><span>|</span><a href="#42361938">root</a><span>|</span><a href="#42361979">parent</a><span>|</span><a href="#42363270">prev</a><span>|</span><a href="#42363618">next</a><span>|</span><label class="collapse" for="c-42364051">[-]</label><label class="expand" for="c-42364051">[1 more]</label></div><br/><div class="children"><div class="content">&gt; trivially parseable by JavaScript going back to when people just evaluated it<p>Comments and all, ironically.<p>I mean sure, &quot;and all&quot; would frequently include script injections etc, but you can&#x27;t argue it wasn&#x27;t more feature rich!</div><br/></div></div></div></div><div id="42363618" class="c"><input type="checkbox" id="c-42363618" checked=""/><div class="controls bullet"><span class="by">eterevsky</span><span>|</span><a href="#42361938">parent</a><span>|</span><a href="#42361979">prev</a><span>|</span><a href="#42362071">next</a><span>|</span><label class="collapse" for="c-42363618">[-]</label><label class="expand" for="c-42363618">[1 more]</label></div><br/><div class="children"><div class="content">To be precise, JSON was a replacement for XML, not the other way around. And the problem with XML was that it&#x27;s way to verbose and difficult to write by hand, so it&#x27;s exactly the opposite of the direction YAML&#x2F;JSON5&#x2F;... are taking.</div><br/></div></div><div id="42362071" class="c"><input type="checkbox" id="c-42362071" checked=""/><div class="controls bullet"><span class="by">Zamicol</span><span>|</span><a href="#42361938">parent</a><span>|</span><a href="#42363618">prev</a><span>|</span><a href="#42361972">next</a><span>|</span><label class="collapse" for="c-42362071">[-]</label><label class="expand" for="c-42362071">[2 more]</label></div><br/><div class="children"><div class="content">We use JSON5 for two reasons:<p>1. Comments
2. Trailing commas<p>We don&#x27;t use any other JSON5 features, which are primarily just that numbers may be encoded in hexadecimal and field names may have quotes elided.<p>We typically encode values with RFC 4648 base 64 URI canonical with padding truncated (b64ut) with values too large to be a JSON number, so hex isn&#x27;t useful anyway. We haven&#x27;t found that omitting field name quotes is a big deal.</div><br/><div id="42363591" class="c"><input type="checkbox" id="c-42363591" checked=""/><div class="controls bullet"><span class="by">dcreater</span><span>|</span><a href="#42361938">root</a><span>|</span><a href="#42362071">parent</a><span>|</span><a href="#42361972">next</a><span>|</span><label class="collapse" for="c-42363591">[-]</label><label class="expand" for="c-42363591">[1 more]</label></div><br/><div class="children"><div class="content">Why not use JSONC then?</div><br/></div></div></div></div><div id="42361972" class="c"><input type="checkbox" id="c-42361972" checked=""/><div class="controls bullet"><span class="by">yencabulator</span><span>|</span><a href="#42361938">parent</a><span>|</span><a href="#42362071">prev</a><span>|</span><a href="#42362131">next</a><span>|</span><label class="collapse" for="c-42361972">[-]</label><label class="expand" for="c-42361972">[4 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    is yaml robust: no</code></pre></div><br/><div id="42362672" class="c"><input type="checkbox" id="c-42362672" checked=""/><div class="controls bullet"><span class="by">Diti</span><span>|</span><a href="#42361938">root</a><span>|</span><a href="#42361972">parent</a><span>|</span><a href="#42362131">next</a><span>|</span><label class="collapse" for="c-42362672">[-]</label><label class="expand" for="c-42362672">[3 more]</label></div><br/><div class="children"><div class="content">Ever since YAML 1.2, released in 2009(!), your YAML example would parse your input as “is yaml robust” for the key, and “no” for the value.</div><br/><div id="42362723" class="c"><input type="checkbox" id="c-42362723" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#42361938">root</a><span>|</span><a href="#42362672">parent</a><span>|</span><a href="#42362678">next</a><span>|</span><label class="collapse" for="c-42362723">[-]</label><label class="expand" for="c-42362723">[1 more]</label></div><br/><div class="children"><div class="content">I used to think that fixed things, then I learned how many parsers refuse to update.  Like PyYAML.</div><br/></div></div><div id="42362678" class="c"><input type="checkbox" id="c-42362678" checked=""/><div class="controls bullet"><span class="by">yencabulator</span><span>|</span><a href="#42361938">root</a><span>|</span><a href="#42362672">parent</a><span>|</span><a href="#42362723">prev</a><span>|</span><a href="#42362131">next</a><span>|</span><label class="collapse" for="c-42362678">[-]</label><label class="expand" for="c-42362678">[1 more]</label></div><br/><div class="children"><div class="content">No, it wouldn&#x27;t ;)<p>Extra hint:<p><pre><code>    scandinavian countries:
      - dk
      - no
      - se

</code></pre>
Edit: it&#x27;s extremely unlikely a yaml parser implements that spec; the spec is irrelevant.</div><br/></div></div></div></div></div></div></div></div><div id="42362131" class="c"><input type="checkbox" id="c-42362131" checked=""/><div class="controls bullet"><span class="by">Zamicol</span><span>|</span><a href="#42361938">prev</a><span>|</span><a href="#42361258">next</a><span>|</span><label class="collapse" for="c-42362131">[-]</label><label class="expand" for="c-42362131">[2 more]</label></div><br/><div class="children"><div class="content">Hijacking for a random concern:<p>I love JSON, but one of the technical problems we&#x27;ve ran into with JSON is that the spec forgot about all special characters.<p>I actually noticed it when reading Douglas Crockford&#x27;s 2018 book, &quot;How JavaScript Works&quot;.  The mistake is on page 22.9  where it states that there are 32 control characters.  There are not 32 control characters.  There are 33 7-bit ASCII control characters and 65 Unicode control characters.  When thinking in terms of ASCII, everyone always remembers the first 32 and forgets the 33rd, `del`. I then went back and noticed that it was also wrong in the RFC and subsequent revisions.  (JSON is defined to be UTF-8 and is thus Unicode.)<p>Below is a RFC errata report just to point out the error for others.<p>Errata ID: 7673
Date Reported: 2023-10-11<p>Section 7 says:<p>The representation of strings is similar to conventions used in the C family
of programming languages.  A string begins and ends with quotation marks. All
Unicode characters may be placed within the quotation marks, except for the
characters that MUST be escaped: quotation mark, reverse solidus, and the
control characters (U+0000 through U+001F).<p>It should say:<p>The representation of strings is similar to conventions used in the C family
of programming languages.  A string begins and ends with quotation marks.  All
Unicode characters may be placed within the quotation marks, except for the
characters that MUST be escaped: quotation mark, reverse solidus, and the
control characters (U+0000 through U+001F, U+007F, and U+0080 through
U+009F).<p>Notes:<p>There are 33 7-bit control characters, but the JSON RFC only listed 32 by
omitting the inclusion of the last control character in the 7-bit ASCII range,
&#x27;del.&#x27; However, JSON is not limited to 7-bit ASCII; it is Unicode. Unicode
encompasses 65 control characters from U+0080 to U+009F, totaling an additional
32 characters. The section that currently reads &quot;U+0000 through U+001F&quot; should
include these additional control characters reading as &quot;U+0000 through U+001F,
U+007F, and U+0080 through U+009F&quot;<p>---<p>I&#x27;ve chosen `del` to be my favorite control character since so many engineers forget it.  Someone needs to remember that poor little guy.</div><br/><div id="42363482" class="c"><input type="checkbox" id="c-42363482" checked=""/><div class="controls bullet"><span class="by">rswail</span><span>|</span><a href="#42362131">parent</a><span>|</span><a href="#42361258">next</a><span>|</span><label class="collapse" for="c-42363482">[-]</label><label class="expand" for="c-42363482">[1 more]</label></div><br/><div class="children"><div class="content">Not to mention that it was set to be 127 so that it would be 8 holes punched out on paper tape, so you could use it to correct a paper tape by backspacing the tape by one position and hitting del.</div><br/></div></div></div></div><div id="42361258" class="c"><input type="checkbox" id="c-42361258" checked=""/><div class="controls bullet"><span class="by">sethops1</span><span>|</span><a href="#42362131">prev</a><span>|</span><a href="#42364206">next</a><span>|</span><label class="collapse" for="c-42361258">[-]</label><label class="expand" for="c-42361258">[10 more]</label></div><br/><div class="children"><div class="content">May I suggest using TOML, which in my experience has been the perfect blend of human readability while having good tooling.<p><a href="https:&#x2F;&#x2F;toml.io&#x2F;en&#x2F;" rel="nofollow">https:&#x2F;&#x2F;toml.io&#x2F;en&#x2F;</a></div><br/><div id="42361518" class="c"><input type="checkbox" id="c-42361518" checked=""/><div class="controls bullet"><span class="by">hombre_fatal</span><span>|</span><a href="#42361258">parent</a><span>|</span><a href="#42361320">next</a><span>|</span><label class="collapse" for="c-42361518">[-]</label><label class="expand" for="c-42361518">[6 more]</label></div><br/><div class="children"><div class="content">Like YAML, it&#x27;s only better in the simple case where everything is top-level and there&#x27;s only one level of nesting.<p>Once you want to have arrays of nested objects or objects with arrays, I immediately wish I was just reading JSON so I knew where I was in the tree.<p>And for that reason, I don&#x27;t think it&#x27;s a full contender. I want an answer for the hard cases like nested data, not just another way to write the simple cases which is what TOML is.<p>For example,<p><pre><code>    [[a.b]]
    x = 1

    [a]
    y = 2
</code></pre>
Versus:<p><pre><code>    {
      &quot;a&quot;: {
        &quot;b&quot;: [ { &quot;x&quot;: 1 } ],
        &quot;y&quot;: 2
      }
    }
</code></pre>
It&#x27;s easy to complain that the latter is noisier. But that&#x27;s nothing compared to being clear.</div><br/><div id="42362101" class="c"><input type="checkbox" id="c-42362101" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361518">parent</a><span>|</span><a href="#42361836">next</a><span>|</span><label class="collapse" for="c-42362101">[-]</label><label class="expand" for="c-42362101">[1 more]</label></div><br/><div class="children"><div class="content">Your TOML is rather convoluted, a more normal way to write it would be:<p><pre><code>  [a]
  b = [{x = 1}]
  y = 2
</code></pre>
Or alternatively:<p><pre><code>  a.b = [{x = 1}]
  a.y = 2
</code></pre>
Some parsers allow newlines in TOML inline tables, so you can do:<p><pre><code>  a = {
    b = [{x = 1}],
    y = 2,
  }
</code></pre>
That&#x27;s supposed to be in the next TOML standard, but that seems indefinitely stalled as the (only) maintainer has seemingly lost interest and there hasn&#x27;t been any movement for a long time.</div><br/></div></div><div id="42361836" class="c"><input type="checkbox" id="c-42361836" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361518">parent</a><span>|</span><a href="#42362101">prev</a><span>|</span><a href="#42361593">next</a><span>|</span><label class="collapse" for="c-42361836">[-]</label><label class="expand" for="c-42361836">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not made explicit in the documentation, but TOML is very nearly a superset of JSON - just using `=` to separate key-value pairs instead of `:`, and requiring top-level names to be given explicitly, and requiring the &quot;inline&quot; bits to be on a single line. In TOML, your example can equivalently be:<p><pre><code>    a = { b = [ { x = 1 } ], y = 2 }
</code></pre>
(And yes, that can be the entire document; you can have an inline table before the first table header.)<p>Of course, this doesn&#x27;t help if you want the top level to be an &quot;array&quot; rather than an &quot;object&quot; (in JSON parlance), or if you want the entire document to represent a single primitive value. But these uses are discouraged at best anyway.<p>But really the goal of TOML is to highlight the <i>location</i> of important parts of the deserialized tree structure (hence the ability to use arbitrary long dotted paths in table headers) rather than the <i>structure itself</i>. It&#x27;s IMO a beautiful implementation of the idea &quot;flat is better than nested&quot; from the Zen of Python, and it neatly sidesteps an issue I asked about many years ago on Stack Overflow (<a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4372229" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4372229</a> - the question was rightfully closed, as this sort of discussion doesn&#x27;t fit the Q&amp;A format; but it made sense to ask at the time).<p>I don&#x27;t know if a direct comparison of TOML to YAML is fair. Among other differences, the standard way to parse YAML in Python involves a third-party library that brings in a ~2.5 MB compiled C library. Every TOML implementation I encountered - including the one that made it into the standard library - is pure Python.</div><br/><div id="42363878" class="c"><input type="checkbox" id="c-42363878" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361836">parent</a><span>|</span><a href="#42361593">next</a><span>|</span><label class="collapse" for="c-42363878">[-]</label><label class="expand" for="c-42363878">[1 more]</label></div><br/><div class="children"><div class="content">&gt; But these uses are discouraged at best anyway.<p>To my knowledge, such uses were discouraged only because of a security issue from evaluating a JSON string as a JavaScript code and not via something like JSON.parse.</div><br/></div></div></div></div><div id="42361593" class="c"><input type="checkbox" id="c-42361593" checked=""/><div class="controls bullet"><span class="by">okanat</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361518">parent</a><span>|</span><a href="#42361836">prev</a><span>|</span><a href="#42361320">next</a><span>|</span><label class="collapse" for="c-42361593">[-]</label><label class="expand" for="c-42361593">[2 more]</label></div><br/><div class="children"><div class="content">This is also the reason I prefer XML to JSON when things really got complex. XML is verbose but it is very readable on long form. I wish Rust actually used JSON or XML as Cargo file format.</div><br/><div id="42361808" class="c"><input type="checkbox" id="c-42361808" checked=""/><div class="controls bullet"><span class="by">Alex-Programs</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361593">parent</a><span>|</span><a href="#42361320">next</a><span>|</span><label class="collapse" for="c-42361808">[-]</label><label class="expand" for="c-42361808">[1 more]</label></div><br/><div class="children"><div class="content">I think it works quite nicely in Cargo as you don&#x27;t generally need much nesting, but anything with depth should use JSON. It&#x27;s the perfect format for clearly displaying hierarchy.</div><br/></div></div></div></div></div></div><div id="42361320" class="c"><input type="checkbox" id="c-42361320" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#42361258">parent</a><span>|</span><a href="#42361518">prev</a><span>|</span><a href="#42364206">next</a><span>|</span><label class="collapse" for="c-42361320">[-]</label><label class="expand" for="c-42361320">[3 more]</label></div><br/><div class="children"><div class="content">Their dictionaries and arrays split into ini-like sections are not very readable though. The double [[ is just nasty and not possible to apply in all situations (array in map in array).</div><br/><div id="42361855" class="c"><input type="checkbox" id="c-42361855" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361320">parent</a><span>|</span><a href="#42364206">next</a><span>|</span><label class="collapse" for="c-42361855">[-]</label><label class="expand" for="c-42361855">[2 more]</label></div><br/><div class="children"><div class="content">&gt; not possible to apply in all situations (array in map in array).<p>Yes, that&#x27;s largely why inline tables and arrays exist:<p><pre><code>   &gt;&gt;&gt; tomllib.loads(&quot;&quot;&quot;
   ... [[outer]]
   ... first = [1, 2, 3]
   ... second = [4, 5, 6]
   ... 
   ... [[outer]]
   ... third = [7, 8, 9]
   ... fourth = [10, 11, 12]
   ... &quot;&quot;&quot;)
   {&#x27;outer&#x27;: [{&#x27;first&#x27;: [1, 2, 3], &#x27;second&#x27;: [4, 5, 6]}, {&#x27;third&#x27;: [7, 8, 9], &#x27;fourth&#x27;: [10, 11, 12]}]}</code></pre></div><br/><div id="42363903" class="c"><input type="checkbox" id="c-42363903" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42361258">root</a><span>|</span><a href="#42361855">parent</a><span>|</span><a href="#42364206">next</a><span>|</span><label class="collapse" for="c-42363903">[-]</label><label class="expand" for="c-42363903">[1 more]</label></div><br/><div class="children"><div class="content">TOML explicitly disallows newlines in inline tables, so that&#x27;s not a full solution (if you agree that there are some situations where multi-line inline tables are indeed required).</div><br/></div></div></div></div></div></div></div></div><div id="42364206" class="c"><input type="checkbox" id="c-42364206" checked=""/><div class="controls bullet"><span class="by">andy_ppp</span><span>|</span><a href="#42361258">prev</a><span>|</span><a href="#42362874">next</a><span>|</span><label class="collapse" for="c-42364206">[-]</label><label class="expand" for="c-42364206">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately this is basically that XKCD cartoon about proliferating standards. I think I’d avoid this additional standard and just use JSON or a JavaScript object if I really need this level of flexibility.</div><br/></div></div><div id="42362874" class="c"><input type="checkbox" id="c-42362874" checked=""/><div class="controls bullet"><span class="by">bazzargh</span><span>|</span><a href="#42364206">prev</a><span>|</span><a href="#42363220">next</a><span>|</span><label class="collapse" for="c-42362874">[-]</label><label class="expand" for="c-42362874">[1 more]</label></div><br/><div class="children"><div class="content">A common thing in JSON&#x2F;YAML alternatives is to support more types through syntax. I don&#x27;t think this is a good idea. YAML already did this badly with the Norway problem, but JSON also has issues with eg &quot;is it float or int&quot;, what about nulls, what about precision... and so on.<p>There are many, many more types to support and all this does is complicate syntax; the types can be relegated to a schema. For example, where are dates, with or without timezones, what about durations, what about SI units for mass, current, what about currency, what about the positive integers only, numbers as hex, as octal, as base64...<p>One format that _nearly_ gets it is NestedText <a href="https:&#x2F;&#x2F;nestedtext.org&#x2F;en&#x2F;latest&#x2F;basic_syntax.html" rel="nofollow">https:&#x2F;&#x2F;nestedtext.org&#x2F;en&#x2F;latest&#x2F;basic_syntax.html</a> ... which means everything gets ingested as strings, dicts or lists, which vastly simplifies things; my quibbles with it would be it still went for multiple syntaxes (for dictionaries, multiline strings, inline vs multiline dicts&amp;lists. And yet, it still didn&#x27;t make comments part of the data model (which is so useful when processing or refactoring files). While it&#x27;s not perfect, it does separate the validation of scalars, not stuffing someone&#x27;s priority list of validations into incomprehensible syntax.<p>YAML&#x27;s been a decades long mistake and making JSON more like YAML is not the way to fix that.</div><br/></div></div><div id="42363220" class="c"><input type="checkbox" id="c-42363220" checked=""/><div class="controls bullet"><span class="by">hgs3</span><span>|</span><a href="#42362874">prev</a><span>|</span><a href="#42361201">next</a><span>|</span><label class="collapse" for="c-42363220">[-]</label><label class="expand" for="c-42363220">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m looking at the JSON5 spec and it appears it does not introduce a capital \U escape sequence for Unicode characters outside the Basic Multilingual Plane (BMP). It&#x27;s not brought up often, but in JSON you do need UTF-16 surrogates to write an escape sequence for Unicode characters outside the BMP. Consider the Hamburger Emoji (U+1F354). Instead of escaping it as &quot;\U0001F354&quot;, you need to escape it with UTF-16 surrogates &quot;\uD83C\uDF54&quot;. This is both cumbersome for humans and not in accordance with the Unicode Standard [1]. It&#x27;s ironic, but many (most?) of the &quot;JSON for Humans&quot; flavors of JSON tend to overlook this.<p>[1] See Chapter 3.8 &quot;Surrogates&quot; of the Unicode Standard.</div><br/><div id="42363534" class="c"><input type="checkbox" id="c-42363534" checked=""/><div class="controls bullet"><span class="by">maxloh</span><span>|</span><a href="#42363220">parent</a><span>|</span><a href="#42363224">next</a><span>|</span><label class="collapse" for="c-42363534">[-]</label><label class="expand" for="c-42363534">[1 more]</label></div><br/><div class="children"><div class="content">When you export Instagram data as JSON, the resulting JSON files include encoded strings like &quot;\uD83C\uDF54&quot;.<p>Parsing and converting these strings can be cumbersome because a single Unicode character is often represented by a single escape sequence, but sometimes it requires two.</div><br/></div></div><div id="42363224" class="c"><input type="checkbox" id="c-42363224" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#42363220">parent</a><span>|</span><a href="#42363534">prev</a><span>|</span><a href="#42361201">next</a><span>|</span><label class="collapse" for="c-42363224">[-]</label><label class="expand" for="c-42363224">[2 more]</label></div><br/><div class="children"><div class="content">How often are humans going to be using unicode escape sequences?</div><br/><div id="42363549" class="c"><input type="checkbox" id="c-42363549" checked=""/><div class="controls bullet"><span class="by">maxloh</span><span>|</span><a href="#42363220">root</a><span>|</span><a href="#42363224">parent</a><span>|</span><a href="#42361201">next</a><span>|</span><label class="collapse" for="c-42363549">[-]</label><label class="expand" for="c-42363549">[1 more]</label></div><br/><div class="children"><div class="content">I believe in most cases, they are generated by programs. Refer to my other comment for real-world examples.</div><br/></div></div></div></div></div></div><div id="42361201" class="c"><input type="checkbox" id="c-42361201" checked=""/><div class="controls bullet"><span class="by">eknkc</span><span>|</span><a href="#42363220">prev</a><span>|</span><a href="#42362363">next</a><span>|</span><label class="collapse" for="c-42361201">[-]</label><label class="expand" for="c-42361201">[8 more]</label></div><br/><div class="children"><div class="content">I feel like the comments are the only important part. I’d rather not have single quoted strings or unquoted identifiers to be honest. Trailing commas are nice to have though.<p>All I miss in JSON are comments and a native datetime type. Everything else, I’m fine with.</div><br/><div id="42361453" class="c"><input type="checkbox" id="c-42361453" checked=""/><div class="controls bullet"><span class="by">sevensor</span><span>|</span><a href="#42361201">parent</a><span>|</span><a href="#42361249">next</a><span>|</span><label class="collapse" for="c-42361453">[-]</label><label class="expand" for="c-42361453">[2 more]</label></div><br/><div class="children"><div class="content">Strongly disagree about datetimes; they exist at a different semantic level and are entirely too easy to get wrong.</div><br/><div id="42362792" class="c"><input type="checkbox" id="c-42362792" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42361201">root</a><span>|</span><a href="#42361453">parent</a><span>|</span><a href="#42361249">next</a><span>|</span><label class="collapse" for="c-42362792">[-]</label><label class="expand" for="c-42362792">[1 more]</label></div><br/><div class="children"><div class="content">Not more than a string representing a date that gets interpreted after json.parse.</div><br/></div></div></div></div><div id="42361249" class="c"><input type="checkbox" id="c-42361249" checked=""/><div class="controls bullet"><span class="by">BurningFrog</span><span>|</span><a href="#42361201">parent</a><span>|</span><a href="#42361453">prev</a><span>|</span><a href="#42362216">next</a><span>|</span><label class="collapse" for="c-42361249">[-]</label><label class="expand" for="c-42361249">[4 more]</label></div><br/><div class="children"><div class="content">For comments, adding &quot;_comment&quot;: &quot;...&quot; fields can work pretty well.</div><br/><div id="42361345" class="c"><input type="checkbox" id="c-42361345" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#42361201">root</a><span>|</span><a href="#42361249">parent</a><span>|</span><a href="#42362216">next</a><span>|</span><label class="collapse" for="c-42361345">[-]</label><label class="expand" for="c-42361345">[3 more]</label></div><br/><div class="children"><div class="content">Not where the reader verifies the schema. And not when you want to write a long multiline comment. (Unless you want _comment1, _comment2, ...)</div><br/><div id="42361511" class="c"><input type="checkbox" id="c-42361511" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#42361201">root</a><span>|</span><a href="#42361345">parent</a><span>|</span><a href="#42362216">next</a><span>|</span><label class="collapse" for="c-42361511">[-]</label><label class="expand" for="c-42361511">[2 more]</label></div><br/><div class="children"><div class="content">An array of strings works well here! Also, you can always preprocess to remove comments before validating!</div><br/><div id="42361646" class="c"><input type="checkbox" id="c-42361646" checked=""/><div class="controls bullet"><span class="by">oneeyedpigeon</span><span>|</span><a href="#42361201">root</a><span>|</span><a href="#42361511">parent</a><span>|</span><a href="#42362216">next</a><span>|</span><label class="collapse" for="c-42361646">[-]</label><label class="expand" for="c-42361646">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re preprocessing, you might as well just `grep -v ^#` and support &#x27;real&#x27; comments.</div><br/></div></div></div></div></div></div></div></div><div id="42362216" class="c"><input type="checkbox" id="c-42362216" checked=""/><div class="controls bullet"><span class="by">dariusj18</span><span>|</span><a href="#42361201">parent</a><span>|</span><a href="#42361249">prev</a><span>|</span><a href="#42362363">next</a><span>|</span><label class="collapse" for="c-42362216">[-]</label><label class="expand" for="c-42362216">[1 more]</label></div><br/><div class="children"><div class="content">IMO it would be great if fields could have annotations for types that fall back as strings.  Datetimes could be annotated for easier parsing.</div><br/></div></div></div></div><div id="42362363" class="c"><input type="checkbox" id="c-42362363" checked=""/><div class="controls bullet"><span class="by">mifydev</span><span>|</span><a href="#42361201">prev</a><span>|</span><a href="#42362135">next</a><span>|</span><label class="collapse" for="c-42362363">[-]</label><label class="expand" for="c-42362363">[1 more]</label></div><br/><div class="children"><div class="content">I don’t know how to feel about this. Personally I want to write configs like code, and I want to avoid using yet another specific DSL for it. So currently working on a tool that allows you to write configs in Typescript - <a href="https:&#x2F;&#x2F;github.com&#x2F;typeconf&#x2F;typeconf">https:&#x2F;&#x2F;github.com&#x2F;typeconf&#x2F;typeconf</a></div><br/></div></div><div id="42362135" class="c"><input type="checkbox" id="c-42362135" checked=""/><div class="controls bullet"><span class="by">Silphendio</span><span>|</span><a href="#42362363">prev</a><span>|</span><a href="#42361223">next</a><span>|</span><label class="collapse" for="c-42362135">[-]</label><label class="expand" for="c-42362135">[1 more]</label></div><br/><div class="children"><div class="content">I find json5 much better than json, but it has still many of the same annoyances.<p>- instead of trailing commas, how about making them completely optional? It&#x27;s not like they are needed in the first place.<p>- curly braces for top-level objects could be optional too.<p>- For a data exchange format, there should really be a standard size for numbers, like i32 for integers and f64 for floats.<p>- parsing an object with duplicate keys is still undefined behavior.</div><br/></div></div><div id="42361223" class="c"><input type="checkbox" id="c-42361223" checked=""/><div class="controls bullet"><span class="by">brap</span><span>|</span><a href="#42362135">prev</a><span>|</span><a href="#42363129">next</a><span>|</span><label class="collapse" for="c-42361223">[-]</label><label class="expand" for="c-42361223">[6 more]</label></div><br/><div class="children"><div class="content">Would it be correct to say that this is basically any valid JS code that describes an object, excluding the use of references and function definitions?<p>If not, what is the difference, and why was it made to be different?</div><br/><div id="42361540" class="c"><input type="checkbox" id="c-42361540" checked=""/><div class="controls bullet"><span class="by">zanecodes</span><span>|</span><a href="#42361223">parent</a><span>|</span><a href="#42361369">next</a><span>|</span><label class="collapse" for="c-42361540">[-]</label><label class="expand" for="c-42361540">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always thought it would be nice to have a language whose spec describes a few different &quot;power levels&quot;:<p>1. Literal values only (objects, arrays, strings, numerics, booleans, maybe datetimes), a la JSON, with standardized semantics<p>2. Literals, variable definitions and references, pure function definitions, and pure function calls, but prohibiting recursion, such that evaluation is not Turing-complete and any value is guaranteed to be able to be evaluated into its literal form in finite time<p>3. All of the above plus recursion and impure, side-effectful functions, custom type definitions, etc.<p>This way, implementing a literal parser in other languages would be comparatively straightforward (much like JSON), since it wouldn&#x27;t have to support variables or functions, but it would also be possible to define values using variables and pure functions (much like HCL or Nix) and then use the language&#x27;s own evaluator binary (or perhaps a wrapped FFI library) to safely convert these into literal values that another language can parse, while guaranteeing that evaluation will not have side-effects. It would also leave open the escape hatch of using a &quot;full&quot; Turing-complete language with side-effects and recursion, while ensuring that using that escape hatch is a deliberate choice and not the default.<p>I&#x27;m sure there are a few additional or hybrid levels that could be useful too (2 but with recursion? 1 but with variables?) but this seems like it would be a solid starting point.</div><br/><div id="42362416" class="c"><input type="checkbox" id="c-42362416" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42361223">root</a><span>|</span><a href="#42361540">parent</a><span>|</span><a href="#42361772">next</a><span>|</span><label class="collapse" for="c-42362416">[-]</label><label class="expand" for="c-42362416">[1 more]</label></div><br/><div class="children"><div class="content">You might like the Noether programming language design <a href="https:&#x2F;&#x2F;github.com&#x2F;noether-lang&#x2F;noether&#x2F;blob&#x2F;4115cdb3f472360495a265940c0753053517297f&#x2F;doc&#x2F;presentations&#x2F;StrangeLoop&#x2F;noetherj.pdf">https:&#x2F;&#x2F;github.com&#x2F;noether-lang&#x2F;noether&#x2F;blob&#x2F;4115cdb3f472360...</a> , although I don&#x27;t know if it&#x27;ll ever be actually implemented.</div><br/></div></div><div id="42361772" class="c"><input type="checkbox" id="c-42361772" checked=""/><div class="controls bullet"><span class="by">alexisread</span><span>|</span><a href="#42361223">root</a><span>|</span><a href="#42361540">parent</a><span>|</span><a href="#42362416">prev</a><span>|</span><a href="#42361369">next</a><span>|</span><label class="collapse" for="c-42361772">[-]</label><label class="expand" for="c-42361772">[1 more]</label></div><br/><div class="children"><div class="content">Agree, and this could be related to the libs you import (adding abilities), or the traits you specify (restricting).</div><br/></div></div></div></div><div id="42361369" class="c"><input type="checkbox" id="c-42361369" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#42361223">parent</a><span>|</span><a href="#42361540">prev</a><span>|</span><a href="#42363129">next</a><span>|</span><label class="collapse" for="c-42361369">[-]</label><label class="expand" for="c-42361369">[2 more]</label></div><br/><div class="children"><div class="content">Seems like the escapes are slightly different. No astral unicode escapes (e.g. \u{123456} ). No octal escapes \123<p>No template literals (backticks)<p>No regex literals<p>No octal numbers (0123, 0o123)<p>No boolean numbers (0b1001)<p>No big ints (the &quot;n&quot; suffix)</div><br/><div id="42363971" class="c"><input type="checkbox" id="c-42363971" checked=""/><div class="controls bullet"><span class="by">brap</span><span>|</span><a href="#42361223">root</a><span>|</span><a href="#42361369">parent</a><span>|</span><a href="#42363129">next</a><span>|</span><label class="collapse" for="c-42363971">[-]</label><label class="expand" for="c-42363971">[1 more]</label></div><br/><div class="children"><div class="content">Most of these things seem like missing features that would fit right in. Except for maybe template strings which could contain references to template functions</div><br/></div></div></div></div></div></div><div id="42363129" class="c"><input type="checkbox" id="c-42363129" checked=""/><div class="controls bullet"><span class="by">efitz</span><span>|</span><a href="#42361223">prev</a><span>|</span><a href="#42362771">next</a><span>|</span><label class="collapse" for="c-42363129">[-]</label><label class="expand" for="c-42363129">[2 more]</label></div><br/><div class="children"><div class="content">If it’s designed for hand authoring it should support an ISO8601 date format; mere mortals cannot author numeric timestamps without tools.</div><br/><div id="42363135" class="c"><input type="checkbox" id="c-42363135" checked=""/><div class="controls bullet"><span class="by">The_Colonel</span><span>|</span><a href="#42363129">parent</a><span>|</span><a href="#42362771">next</a><span>|</span><label class="collapse" for="c-42363135">[-]</label><label class="expand" for="c-42363135">[1 more]</label></div><br/><div class="children"><div class="content">Just store the ISO9601 date&#x2F;time in a string. No need for special support on the format level.</div><br/></div></div></div></div><div id="42362771" class="c"><input type="checkbox" id="c-42362771" checked=""/><div class="controls bullet"><span class="by">veesahni</span><span>|</span><a href="#42363129">prev</a><span>|</span><a href="#42361202">next</a><span>|</span><label class="collapse" for="c-42362771">[-]</label><label class="expand" for="c-42362771">[1 more]</label></div><br/><div class="children"><div class="content">This is very close to what the ruby REPL will accept.<p>I tried to paste in the kitchen sink - it didn&#x27;t like dangling decimals and the comment format, everything else worked as expected.</div><br/></div></div><div id="42361202" class="c"><input type="checkbox" id="c-42361202" checked=""/><div class="controls bullet"><span class="by">epscylonb</span><span>|</span><a href="#42362771">prev</a><span>|</span><a href="#42361073">next</a><span>|</span><label class="collapse" for="c-42361202">[-]</label><label class="expand" for="c-42361202">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always been a big fan of KDL in principle, haven&#x27;t used it in anger. After that HCL, then YAML, with JSON and others being my least favourite to use.<p>Of course the hard part is gaining enough critical mass to make a significant switch. JSON had AJAX. YAML had Rails. What could make JSON5 or KDL break out?</div><br/></div></div><div id="42361073" class="c"><input type="checkbox" id="c-42361073" checked=""/><div class="controls bullet"><span class="by">ruuda</span><span>|</span><a href="#42361202">prev</a><span>|</span><a href="#42361862">next</a><span>|</span><label class="collapse" for="c-42361073">[-]</label><label class="expand" for="c-42361073">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re looking for a human-friendly json superset (comments, non-quoted keys) that can also abstract away repetitive configuration with variables and list comprehensions, check out <a href="https:&#x2F;&#x2F;rcl-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rcl-lang.org&#x2F;</a>.</div><br/></div></div><div id="42361862" class="c"><input type="checkbox" id="c-42361862" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#42361073">prev</a><span>|</span><a href="#42362743">next</a><span>|</span><label class="collapse" for="c-42361862">[-]</label><label class="expand" for="c-42361862">[3 more]</label></div><br/><div class="children"><div class="content">I always thought that “JSON5” is a deceptive name.  It is not the fifth version of JSON; it is an alternative&#x2F;extension of JSON, of which there are many alternatives, and this one is no more official than any other.</div><br/><div id="42362014" class="c"><input type="checkbox" id="c-42362014" checked=""/><div class="controls bullet"><span class="by">Zamicol</span><span>|</span><a href="#42361862">parent</a><span>|</span><a href="#42362743">next</a><span>|</span><label class="collapse" for="c-42362014">[-]</label><label class="expand" for="c-42362014">[2 more]</label></div><br/><div class="children"><div class="content">JSON5 is from ECMAScript 5.1, which is called ES5.<p>As an (unfortunate) JavaScript developer, it was clear to me the intent was to &quot;update&quot; JSON with ES5 features, and not say ES4 or ES6.<p>Why ES5?  ES5 is when <i>trailing commas</i> were introduced.  Commas are one of defining features of JSON5.  Other languages, like Go, also made this a priority.</div><br/><div id="42362040" class="c"><input type="checkbox" id="c-42362040" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#42361862">root</a><span>|</span><a href="#42362014">parent</a><span>|</span><a href="#42362743">next</a><span>|</span><label class="collapse" for="c-42362040">[-]</label><label class="expand" for="c-42362040">[1 more]</label></div><br/><div class="children"><div class="content">The name may have a logical reason for being what it is.  But it is still misleading.  I have seen people implicicly assume that JSON5 is what they should be using instead of JSON, just because of the name.</div><br/></div></div></div></div></div></div><div id="42362743" class="c"><input type="checkbox" id="c-42362743" checked=""/><div class="controls bullet"><span class="by">peterkos</span><span>|</span><a href="#42361862">prev</a><span>|</span><a href="#42362978">next</a><span>|</span><label class="collapse" for="c-42362743">[-]</label><label class="expand" for="c-42362743">[1 more]</label></div><br/><div class="children"><div class="content">What is the benefit of this over something like Pkl[0]? Pkl compiles down to JSON, YAML, etc., but the language itself is user-friendly. This way you get best of both worlds: readable and editable for humans, and parsable for computers.<p>[0]: <a href="https:&#x2F;&#x2F;pkl-lang.org" rel="nofollow">https:&#x2F;&#x2F;pkl-lang.org</a></div><br/></div></div><div id="42362978" class="c"><input type="checkbox" id="c-42362978" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42362743">prev</a><span>|</span><a href="#42361529">next</a><span>|</span><label class="collapse" for="c-42362978">[-]</label><label class="expand" for="c-42362978">[2 more]</label></div><br/><div class="children"><div class="content">&gt; JSON for Humans<p>The emoji in the first paragraph seems to convey the understanding that humans like expressiveness, but the format itself doesn&#x27;t allow Unicode values in keys, which seriously limits said expressiveness...</div><br/></div></div><div id="42361529" class="c"><input type="checkbox" id="c-42361529" checked=""/><div class="controls bullet"><span class="by">ianbicking</span><span>|</span><a href="#42362978">prev</a><span>|</span><a href="#42362663">next</a><span>|</span><label class="collapse" for="c-42361529">[-]</label><label class="expand" for="c-42361529">[3 more]</label></div><br/><div class="children"><div class="content">I like JSON5 and have used it some. When GPT was younger and I was parsing its JSON output directly, JSON5 was forgiving in useful ways.<p>The one thing I really wish it had was some form of multi-line string, mostly so I could use it with line diffs. Also sometimes for really simple property editors it&#x27;s nice to put the serialization in a textarea, and that works fine for everything but multiline strings.<p>(I suppose you can escape newline characters to put a string on multiple lines, but I find that rather inhumane and fragile)</div><br/><div id="42361684" class="c"><input type="checkbox" id="c-42361684" checked=""/><div class="controls bullet"><span class="by">kylelahnakoski</span><span>|</span><a href="#42361529">parent</a><span>|</span><a href="#42362663">next</a><span>|</span><label class="collapse" for="c-42361684">[-]</label><label class="expand" for="c-42361684">[2 more]</label></div><br/><div class="children"><div class="content">Hjson!</div><br/><div id="42361996" class="c"><input type="checkbox" id="c-42361996" checked=""/><div class="controls bullet"><span class="by">ianbicking</span><span>|</span><a href="#42361529">root</a><span>|</span><a href="#42361684">parent</a><span>|</span><a href="#42362663">next</a><span>|</span><label class="collapse" for="c-42361996">[-]</label><label class="expand" for="c-42361996">[1 more]</label></div><br/><div class="children"><div class="content">Oh! Format preserving editing too, very nice... <a href="https:&#x2F;&#x2F;github.com&#x2F;hjson&#x2F;hjson-js?tab=readme-ov-file#modify--keep-comments">https:&#x2F;&#x2F;github.com&#x2F;hjson&#x2F;hjson-js?tab=readme-ov-file#modify-...</a></div><br/></div></div></div></div></div></div><div id="42362663" class="c"><input type="checkbox" id="c-42362663" checked=""/><div class="controls bullet"><span class="by">lambda</span><span>|</span><a href="#42361529">prev</a><span>|</span><a href="#42361697">next</a><span>|</span><label class="collapse" for="c-42362663">[-]</label><label class="expand" for="c-42362663">[1 more]</label></div><br/><div class="children"><div class="content">I find that these efforts to make something that is almost but not quite JSON to be counterproductive.<p>It means that something you can&#x27;t tell if it&#x27;s JSON or another format. You&#x27;ll have some tools that can work with it, while other tools will choke because they expect valid JSON. Oh, someone just switched the quoting style so now your jq based automation is all broken.<p>And now you have to figure out which of these not-quite-JSON formats this is. Is it HuJSON&#x2F;JWCC? Is it JSON5? Does my editor have a mode that supports this particular variant, or am I always going to be fighting with it?<p>And finally, having used HuJSON for Tailscale config: the issue isn&#x27;t just things like comments and trailing commas, or quoting styles. JSON is just a kind of heavyweight and cumbersome syntax for writing config files. I find that I prefer writing a script to auto-generate my Tailscale config, because editing it by hand is cumbersome.<p>There are a number of other possible config file formats, with varying levels of JSON data model compatibility. YAML has its issues, but we&#x27;ve all learned to live with them by now. TOML isn&#x27;t bad, though good luck remembering the array of tables syntax. KDL is pretty nice; it has a slightly different data model than JSON, but it&#x27;s actually one that is somewhat better suited for config files.<p>I&#x27;d rather use any of these for config files than something that is almost, but not quite, JSON.</div><br/></div></div><div id="42361697" class="c"><input type="checkbox" id="c-42361697" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#42362663">prev</a><span>|</span><a href="#42361562">next</a><span>|</span><label class="collapse" for="c-42361697">[-]</label><label class="expand" for="c-42361697">[1 more]</label></div><br/><div class="children"><div class="content">The only thing I worry about is how do you parse this, then modify some fields and write back the file with all the comments still in place?</div><br/></div></div><div id="42361562" class="c"><input type="checkbox" id="c-42361562" checked=""/><div class="controls bullet"><span class="by">magospietato</span><span>|</span><a href="#42361697">prev</a><span>|</span><a href="#42361644">next</a><span>|</span><label class="collapse" for="c-42361562">[-]</label><label class="expand" for="c-42361562">[1 more]</label></div><br/><div class="children"><div class="content">Why not just not use JSON for config? In a sane world YAML wouldn&#x27;t even exist and everyone would use something like TOML.</div><br/></div></div><div id="42361644" class="c"><input type="checkbox" id="c-42361644" checked=""/><div class="controls bullet"><span class="by">berdon</span><span>|</span><a href="#42361562">prev</a><span>|</span><a href="#42361744">next</a><span>|</span><label class="collapse" for="c-42361644">[-]</label><label class="expand" for="c-42361644">[1 more]</label></div><br/><div class="children"><div class="content">Shameless plug for my JSON&#x2F;5 parser written in zig: <a href="https:&#x2F;&#x2F;github.com&#x2F;berdon&#x2F;zig-json">https:&#x2F;&#x2F;github.com&#x2F;berdon&#x2F;zig-json</a><p>There is a std json library as well but the aesthetics weren’t great imo.<p>The specs are quite pleasant to implement.</div><br/></div></div><div id="42361744" class="c"><input type="checkbox" id="c-42361744" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42361644">prev</a><span>|</span><a href="#42362049">next</a><span>|</span><label class="collapse" for="c-42361744">[-]</label><label class="expand" for="c-42361744">[1 more]</label></div><br/><div class="children"><div class="content">I find HOCON[0] to be great for this need in JVM-based languages.<p>0 - <a href="https:&#x2F;&#x2F;github.com&#x2F;lightbend&#x2F;config&#x2F;blob&#x2F;main&#x2F;HOCON.md">https:&#x2F;&#x2F;github.com&#x2F;lightbend&#x2F;config&#x2F;blob&#x2F;main&#x2F;HOCON.md</a></div><br/></div></div><div id="42362049" class="c"><input type="checkbox" id="c-42362049" checked=""/><div class="controls bullet"><span class="by">travisgriggs</span><span>|</span><a href="#42361744">prev</a><span>|</span><a href="#42363556">next</a><span>|</span><label class="collapse" for="c-42362049">[-]</label><label class="expand" for="c-42362049">[1 more]</label></div><br/><div class="children"><div class="content">I wish json had a simple version&#x2F;convention like elixir sigils so I could pass datetimes around as first class entities instead of always having to [de]stringify them.</div><br/></div></div><div id="42363556" class="c"><input type="checkbox" id="c-42363556" checked=""/><div class="controls bullet"><span class="by">up2isomorphism</span><span>|</span><a href="#42362049">prev</a><span>|</span><a href="#42362197">next</a><span>|</span><label class="collapse" for="c-42363556">[-]</label><label class="expand" for="c-42363556">[1 more]</label></div><br/><div class="children"><div class="content">No I don’t need this thing.</div><br/></div></div><div id="42362197" class="c"><input type="checkbox" id="c-42362197" checked=""/><div class="controls bullet"><span class="by">matt3210</span><span>|</span><a href="#42363556">prev</a><span>|</span><label class="collapse" for="c-42362197">[-]</label><label class="expand" for="c-42362197">[1 more]</label></div><br/><div class="children"><div class="content">Yaml is for people, json is for machines</div><br/></div></div></div></div></div></div></div></body></html>