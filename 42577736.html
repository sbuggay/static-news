<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735894856013" as="style"/><link rel="stylesheet" href="styles.css?v=1735894856013"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://databasearchitects.blogspot.com/2024/12/advent-of-code-2024-in-pure-sql.html">Advent of Code 2024 in pure SQL</a> <span class="domain">(<a href="http://databasearchitects.blogspot.com">databasearchitects.blogspot.com</a>)</span></div><div class="subtext"><span>greghn</span> | <span>79 comments</span></div><br/><div><div id="42583677" class="c"><input type="checkbox" id="c-42583677" checked=""/><div class="controls bullet"><span class="by">phartenfeller</span><span>|</span><a href="#42583747">next</a><span>|</span><label class="collapse" for="c-42583677">[-]</label><label class="expand" for="c-42583677">[1 more]</label></div><br/><div class="children"><div class="content">Nicely done. I know this seems crazy at first but in my opinion big SQLs are one of the best ways to store complexity.<p>The problem being complex is the issue. SQL is a standard, condensed, extremely performant, actually testable, and logical language. Sure, not anybody can instantly maintain it but that would be the same as if it was a lot of lines and functions in Java. The more lines the more risk for bugs.<p>I also love how deep SQL goes. And that makes totally sense. It powers the world of data since 40+ years so of course people asked for niche features. One of my favorite is the model clause in Oracle with which you can implement multidimensional arrays. A friend implemented Conway&#x27;s game of life with it in way less lines you expect.</div><br/></div></div><div id="42583747" class="c"><input type="checkbox" id="c-42583747" checked=""/><div class="controls bullet"><span class="by">dagss</span><span>|</span><a href="#42583677">prev</a><span>|</span><a href="#42577887">next</a><span>|</span><label class="collapse" for="c-42583747">[-]</label><label class="expand" for="c-42583747">[2 more]</label></div><br/><div class="children"><div class="content">I have been writing a ton of SQL -- implementing a lot of the business logic of a (stream processing) application in it. I really really like it, especially that I bring the computation to the data instead of the data to the computation.<p>I often talk to developers who hate that idea though. They want me to instead move all the data to the backend, for a massive IO hit, just so that the computations can be expressed in a &quot;real&quot; programming language.<p>I think SQL the concept is good but SQL the language is the problem. There are so many awkward things in it -- not strange as it has had no competition in 40(?) years!! The mental model of the program I write is fine but I really need to overlook the syntax and to the program I am really writing to see any elegance...<p>What we need I think is a properly designed programming language, designed for existing databases (Postgres, MSSQL) compiling to SQL dialects. I see some contenders but they all have some attachment to a special domain, such as not allowing data modifications (PreQL) or being associated with other databases.<p>Itching to do it myself, but it&#x27;s a lot of work and a long long road to any adoption with no guarantee of success, and no revenue stream that I can think of.<p>The most popular backend languages were made by large companies, but I think coding in SQL is in a catch-22 where it will be frowned upon until there is a better language and no better language until it is more popular..</div><br/><div id="42583810" class="c"><input type="checkbox" id="c-42583810" checked=""/><div class="controls bullet"><span class="by">willvarfar</span><span>|</span><a href="#42583747">parent</a><span>|</span><a href="#42577887">next</a><span>|</span><label class="collapse" for="c-42583810">[-]</label><label class="expand" for="c-42583810">[1 more]</label></div><br/><div class="children"><div class="content">Me too me too :D<p>There&#x27;s a lot that is very right about SQL, but a few clunky bits around the edges.<p>CTEs made a lot of difference, and window functions - which can be a bit head bending - made difficult things a tiny bit easier.<p>I&#x27;m using BigQuery, which supports structs and arrays, but only recently allowed arrays to be grouped by, although there is still no equality check etc.<p>BigQuery is slowly adding more sugar, like aggregate UDFs and polymorphic UDFs using ANY TYPE parameters etc, and I find myself putting more reused logic into tidy functions, but my pet want is for temporary functions to be declared and scoped like CTEs so they integrate a lot better into tooling like DBT that wants everything to be in one statement.<p>And the one most productive thing they could add?  Allowing you to specify null behaviour on JOIN USING.  (Having to spell out foo.bar IS NOT DISTINCT FROM bar.bar on a join is unobvious and ugly.  Something like USING (bar RESPECT NULLS) would be so much nicer.)</div><br/></div></div></div></div><div id="42577887" class="c"><input type="checkbox" id="c-42577887" checked=""/><div class="controls bullet"><span class="by">scop</span><span>|</span><a href="#42583747">prev</a><span>|</span><a href="#42578513">next</a><span>|</span><label class="collapse" for="c-42577887">[-]</label><label class="expand" for="c-42577887">[21 more]</label></div><br/><div class="children"><div class="content">I reacted to this title the way I react a new menu item at Taco Bell: a strange mixture of desire, shame, and admiration for human ingenuity.</div><br/><div id="42578084" class="c"><input type="checkbox" id="c-42578084" checked=""/><div class="controls bullet"><span class="by">qsort</span><span>|</span><a href="#42577887">parent</a><span>|</span><a href="#42578132">next</a><span>|</span><label class="collapse" for="c-42578084">[-]</label><label class="expand" for="c-42578084">[9 more]</label></div><br/><div class="children"><div class="content">I work a lot with databases and I&#x27;ve seen... stuff. It&#x27;s not as bad as you might think if you know what you are doing. Most RDBMSs support recursive CTEs, it feels like writing Prolog with a slightly sadistic syntax. For something like AoC the most difficult part is probably parsing the input.</div><br/><div id="42578459" class="c"><input type="checkbox" id="c-42578459" checked=""/><div class="controls bullet"><span class="by">dunham</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578084">parent</a><span>|</span><a href="#42582619">next</a><span>|</span><label class="collapse" for="c-42578459">[-]</label><label class="expand" for="c-42578459">[3 more]</label></div><br/><div class="children"><div class="content">Speaking of parsing, back around y2k we were building an app that used XML everywhere, which was the style at the time, and our DBA wanted to write an xml parser in SQL (the api would involve sending XML to the database). That got vetoed.<p>IMO, this kind of thing is what AoC is good for - you get to play with weird&#x2F;obscure stuff without affecting your day job code.</div><br/><div id="42578603" class="c"><input type="checkbox" id="c-42578603" checked=""/><div class="controls bullet"><span class="by">jamie_ca</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578459">parent</a><span>|</span><a href="#42580498">next</a><span>|</span><label class="collapse" for="c-42578603">[-]</label><label class="expand" for="c-42578603">[1 more]</label></div><br/><div class="children"><div class="content">I did something with JSON back before there was reasonable native support - it&#x27;s certainly not robust, but it handled a few syntax variants for a use case where we had an extra attribute column that serialized JSON, and wanted to surface one of the fields as a proper column on the table.<p><a href="https:&#x2F;&#x2F;blog.tracefunc.com&#x2F;2011&#x2F;11&#x2F;19&#x2F;parsing-json-in-sql-html&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.tracefunc.com&#x2F;2011&#x2F;11&#x2F;19&#x2F;parsing-json-in-sql-ht...</a></div><br/></div></div><div id="42580498" class="c"><input type="checkbox" id="c-42580498" checked=""/><div class="controls bullet"><span class="by">jmg_</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578459">parent</a><span>|</span><a href="#42578603">prev</a><span>|</span><a href="#42582619">next</a><span>|</span><label class="collapse" for="c-42580498">[-]</label><label class="expand" for="c-42580498">[1 more]</label></div><br/><div class="children"><div class="content">Funnily, I’m actively working on rewriting a stored procedure which parses an XML snippet as one of its arguments<p>Luckily it’s not a handwritten XML parser though:
<a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;sql&#x2F;t-sql&#x2F;functions&#x2F;openxml-transact-sql?view=sql-server-ver16" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;sql&#x2F;t-sql&#x2F;functions&#x2F;openxm...</a></div><br/></div></div></div></div><div id="42582619" class="c"><input type="checkbox" id="c-42582619" checked=""/><div class="controls bullet"><span class="by">ulrikrasmussen</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578084">parent</a><span>|</span><a href="#42578459">prev</a><span>|</span><a href="#42582427">next</a><span>|</span><label class="collapse" for="c-42582619">[-]</label><label class="expand" for="c-42582619">[2 more]</label></div><br/><div class="children"><div class="content">It is closer to Datalog I think, or can you express cut? CTEs are fairly restricted compared to logic programmming languages though, at least for Postgres. In particular, relations cannot be mutually recursive and your rules may only be linearly recursive in themselves (i.e. can contain only one instance of themselves in the right hand side). Postgres is overly restrictive in the latter and requires at most once recursive reference over all subqueries in the UNION even though it would be safe to only restrict the number of recursive calls for each subquery (each corresponding to a separate Datalog rule for the same relation). It is possible to work around that restriction using a local WITH expression (a hack really), but then you are also on your own since it disables all checks and allows you to write rules which uses actual nonlinear recursion and will give incorrect result sets when evaluated.<p>I really would like Postgres to have proper support for writing Datalog queries, and with better and more efficient incremental evaluation algorithms as opposed to the iterative semi-naive algorithm that is only supported now.</div><br/><div id="42582947" class="c"><input type="checkbox" id="c-42582947" checked=""/><div class="controls bullet"><span class="by">harrall</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42582619">parent</a><span>|</span><a href="#42582427">next</a><span>|</span><label class="collapse" for="c-42582947">[-]</label><label class="expand" for="c-42582947">[1 more]</label></div><br/><div class="children"><div class="content">Haven’t written SQL in a while (and I used to write a lot) but I think SQL Server recursive CTEs are fairly unbounded so it’s just a Postgres limitation unfortunately.<p>(I’m a fan of MS SQL but it’s Microsoft and also hard to financially justify for many companies. But if you ever get to use it, it is a very solid RDBMS, even if the rest of your stack is open source.)</div><br/></div></div></div></div><div id="42582427" class="c"><input type="checkbox" id="c-42582427" checked=""/><div class="controls bullet"><span class="by">UltraSane</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578084">parent</a><span>|</span><a href="#42582619">prev</a><span>|</span><a href="#42580833">next</a><span>|</span><label class="collapse" for="c-42582427">[-]</label><label class="expand" for="c-42582427">[1 more]</label></div><br/><div class="children"><div class="content">A company I worked for uses Syteline ERP which heavily relies on SQL Server. But the DBA was constantly complaining about how slow the Syteline SQL was. One major issue was long running transactions taking 10 minutes locking rows&#x2F;tables for too long and using a lot of memory. You would think very expensive ERP systems would have decent SQL.</div><br/></div></div><div id="42580833" class="c"><input type="checkbox" id="c-42580833" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578084">parent</a><span>|</span><a href="#42582427">prev</a><span>|</span><a href="#42580768">next</a><span>|</span><label class="collapse" for="c-42580833">[-]</label><label class="expand" for="c-42580833">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Most RDBMSs support recursive CTEs, it feels like writing Prolog with a slightly sadistic syntax.<p>Which makes sense as both are declarative logic-based languages.  IMHO, SQL and Prolog fundamentally have much in common.</div><br/></div></div><div id="42580768" class="c"><input type="checkbox" id="c-42580768" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42578084">parent</a><span>|</span><a href="#42580833">prev</a><span>|</span><a href="#42578132">next</a><span>|</span><label class="collapse" for="c-42580768">[-]</label><label class="expand" for="c-42580768">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for that comment.<p>I laughed aloud at <i>&quot;It&#x27;s not as bad as you might think if you know what you are doing.&quot;</i><p>... because that pretty much describes all human activity :-)</div><br/></div></div></div></div><div id="42578132" class="c"><input type="checkbox" id="c-42578132" checked=""/><div class="controls bullet"><span class="by">brettgriffin</span><span>|</span><a href="#42577887">parent</a><span>|</span><a href="#42578084">prev</a><span>|</span><a href="#42578198">next</a><span>|</span><label class="collapse" for="c-42578132">[-]</label><label class="expand" for="c-42578132">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m as equally amazed by the solutions in this post&#x27;s github repo as I am with Taco Bell&#x27;s new chicken nuggets.</div><br/></div></div><div id="42579914" class="c"><input type="checkbox" id="c-42579914" checked=""/><div class="controls bullet"><span class="by">larodi</span><span>|</span><a href="#42577887">parent</a><span>|</span><a href="#42578198">prev</a><span>|</span><a href="#42578513">next</a><span>|</span><label class="collapse" for="c-42579914">[-]</label><label class="expand" for="c-42579914">[9 more]</label></div><br/><div class="children"><div class="content">but why? what would make you react at human ingenuity with shame and desire? is this something about you or something about them in particular? isnt the whole of HN about human ingenuity...?<p>are we to feel Taco Bell menu about it all, what am I missing?</div><br/><div id="42580538" class="c"><input type="checkbox" id="c-42580538" checked=""/><div class="controls bullet"><span class="by">knicholes</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42579914">parent</a><span>|</span><a href="#42578513">next</a><span>|</span><label class="collapse" for="c-42580538">[-]</label><label class="expand" for="c-42580538">[8 more]</label></div><br/><div class="children"><div class="content">This is just a guess, but if the OP&#x27;s reason is similar to mine, DBMSs should be reserved for managing databases and not implementing complex logic.</div><br/><div id="42582681" class="c"><input type="checkbox" id="c-42582681" checked=""/><div class="controls bullet"><span class="by">xarope</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42580538">parent</a><span>|</span><a href="#42583003">next</a><span>|</span><label class="collapse" for="c-42582681">[-]</label><label class="expand" for="c-42582681">[1 more]</label></div><br/><div class="children"><div class="content">In the past (why do I feel so old when I say this?), DBMSs WERE used to implement complex logic.  Not just complex business logic, but even authentication, authorization, etc were implement with stored procs, embedded sql, native DB features.<p>The cycle in tech will shift from one side to another; last decade was a lot of no-sql where all this logic and implementation had to reside on the application side.  I&#x27;m seeing a shift back to DBs again (e.g. supabase), and the reality is that it&#x27;s probably a continuum somewhere in-between, depending on your requirements (as always, the answer is &quot;Yes, but it depends&quot;).<p>Remember, these are all &quot;just&quot; tools.</div><br/></div></div><div id="42583003" class="c"><input type="checkbox" id="c-42583003" checked=""/><div class="controls bullet"><span class="by">harrall</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42580538">parent</a><span>|</span><a href="#42582681">prev</a><span>|</span><a href="#42580780">next</a><span>|</span><label class="collapse" for="c-42583003">[-]</label><label class="expand" for="c-42583003">[1 more]</label></div><br/><div class="children"><div class="content">SQL is like regex.<p>A small fraction of people bothered to learn how they work and know how and when to use them properly.<p>Everyone else just perpetuates a giant in-joke of “it’s black magic!”</div><br/></div></div><div id="42580780" class="c"><input type="checkbox" id="c-42580780" checked=""/><div class="controls bullet"><span class="by">liontwist</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42580538">parent</a><span>|</span><a href="#42583003">prev</a><span>|</span><a href="#42578513">next</a><span>|</span><label class="collapse" for="c-42580780">[-]</label><label class="expand" for="c-42580780">[5 more]</label></div><br/><div class="children"><div class="content">Why not? I think the main barrier is the programmers are not comfortable with recursion, rather than a technical limitation.</div><br/><div id="42581203" class="c"><input type="checkbox" id="c-42581203" checked=""/><div class="controls bullet"><span class="by">FridgeSeal</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42580780">parent</a><span>|</span><a href="#42578513">next</a><span>|</span><label class="collapse" for="c-42581203">[-]</label><label class="expand" for="c-42581203">[4 more]</label></div><br/><div class="children"><div class="content">I’d hazard a guess that quite a few devs have at one point, been lumped with a db where someone pushed too much logic into it. Probably great for the one person who wrote it, and awful for everyone else.<p>Mystery triggers, unclear or badly managed stored procedures, opaque invariants.  It’s not to say that all of these things are bad, but a certain level of DB complexity will naturally set off alarm bells for some devs.</div><br/><div id="42581374" class="c"><input type="checkbox" id="c-42581374" checked=""/><div class="controls bullet"><span class="by">scop</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42581203">parent</a><span>|</span><a href="#42582795">next</a><span>|</span><label class="collapse" for="c-42581374">[-]</label><label class="expand" for="c-42581374">[2 more]</label></div><br/><div class="children"><div class="content">One of the most eye opening moments in my junior dev career was when I found a <i>really</i> nifty way to achieve an operation using SQL alone and brought it to our VP (start up, small company size). It wasn’t esoteric, but used some SQL features not well-trodden by web devs. I thought I was the bees knees and this would be a clear demonstration of my sizable brain. He complimented the thought behind it, but immediately vetoed it as too complex for the majority of developers who would have to touch the code down the road. In hindsight he was completely right.</div><br/><div id="42582817" class="c"><input type="checkbox" id="c-42582817" checked=""/><div class="controls bullet"><span class="by">liontwist</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42581374">parent</a><span>|</span><a href="#42582795">next</a><span>|</span><label class="collapse" for="c-42582817">[-]</label><label class="expand" for="c-42582817">[1 more]</label></div><br/><div class="children"><div class="content">I don’t think this is a win. Cautioning against adding new technology to learn and maintain is one thing. But not using an effective solution in your toolset because it’s too hard is absurd.<p>Our Industry pretends solutions must be immediately understandable with common sense, without study or explanation. But nothing that actually matters does this (relational databases in the first place).<p>No other engineering discipline has this confusion. The world has complexity and it’s our job to understand it.</div><br/></div></div></div></div><div id="42582795" class="c"><input type="checkbox" id="c-42582795" checked=""/><div class="controls bullet"><span class="by">liontwist</span><span>|</span><a href="#42577887">root</a><span>|</span><a href="#42581203">parent</a><span>|</span><a href="#42581374">prev</a><span>|</span><a href="#42578513">next</a><span>|</span><label class="collapse" for="c-42582795">[-]</label><label class="expand" for="c-42582795">[1 more]</label></div><br/><div class="children"><div class="content">SQL tends to be very dense (more thinking than typing).<p>It is tedious to specify all that information (access, constraints, foreign key, cascading, views), but it’s all essential information you would end up specifying in another way.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42578513" class="c"><input type="checkbox" id="c-42578513" checked=""/><div class="controls bullet"><span class="by">trjordan</span><span>|</span><a href="#42577887">prev</a><span>|</span><a href="#42578208">next</a><span>|</span><label class="collapse" for="c-42578513">[-]</label><label class="expand" for="c-42578513">[2 more]</label></div><br/><div class="children"><div class="content">If you like this kind of degeneracy, I tried AoC in Google Sheets this year.<p>I only made it to Day 6, and not even both stars every day. I&#x27;m pretty confident my Day 7 solution is correct, but I hit per-cell character limits on longer inputs.<p>Enjoy :) oh but don&#x27;t open it on mobile, some sheets crash the app<p><a href="https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;10FY-89y19tnRM_EAAnCdLD3_Bu8UIFKtTpKOZHskD88&#x2F;edit?gid=473532161#gid=473532161" rel="nofollow">https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;10FY-89y19tnRM_EAAnCd...</a></div><br/><div id="42582447" class="c"><input type="checkbox" id="c-42582447" checked=""/><div class="controls bullet"><span class="by">tnvmadhav</span><span>|</span><a href="#42578513">parent</a><span>|</span><a href="#42578208">next</a><span>|</span><label class="collapse" for="c-42582447">[-]</label><label class="expand" for="c-42582447">[1 more]</label></div><br/><div class="children"><div class="content">holy sh*t, I kneel.</div><br/></div></div></div></div><div id="42578208" class="c"><input type="checkbox" id="c-42578208" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42578513">prev</a><span>|</span><a href="#42578562">next</a><span>|</span><label class="collapse" for="c-42578208">[-]</label><label class="expand" for="c-42578208">[21 more]</label></div><br/><div class="children"><div class="content">Over my career I&#x27;ve certainly written more SQL than any other type of code. Not so much in the last five years so I&#x27;m sure I&#x27;ve lost some of it, but I used to really enjoy it. Once you stop thinking iteratively and start thinking in set operations it becomes quite natural and powerful.</div><br/><div id="42578404" class="c"><input type="checkbox" id="c-42578404" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578208">parent</a><span>|</span><a href="#42578787">next</a><span>|</span><label class="collapse" for="c-42578404">[-]</label><label class="expand" for="c-42578404">[4 more]</label></div><br/><div class="children"><div class="content">I second all of that!<p>I wish more people would see the beauty. After a session of SQL, when I take a step back and think.<p>&quot;Hold on. What I have been doing lately is just pure logic. No library dependency resolution, no concurrency problems (even though massive concurrency is certainly under the hood). No mutability issues. Just logic.&quot;<p>SQL obviously has its warts, some of them serious, like testability. But at the end of the day, I wish all programming was like that. Let the computer decide how to do stuff under the hood. And let the human focus on the logic.<p>I have somewhat half-assed tried to read up on Prolog for trying to take it to the next level, but failed sofar unfortunately. (It was also a goal to try to unlearn some SQL to avoid getting stuck in some local optimum). Maybe somewhere between SQL and Prolog is the future of programming.</div><br/><div id="42578672" class="c"><input type="checkbox" id="c-42578672" checked=""/><div class="controls bullet"><span class="by">Rendello</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578404">parent</a><span>|</span><a href="#42579534">next</a><span>|</span><label class="collapse" for="c-42578672">[-]</label><label class="expand" for="c-42578672">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Maybe somewhere between SQL and Prolog is the future of programming.<p>Must be Datalog then ;)</div><br/></div></div><div id="42579534" class="c"><input type="checkbox" id="c-42579534" checked=""/><div class="controls bullet"><span class="by">coliveira</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578404">parent</a><span>|</span><a href="#42578672">prev</a><span>|</span><a href="#42579920">next</a><span>|</span><label class="collapse" for="c-42579534">[-]</label><label class="expand" for="c-42579534">[1 more]</label></div><br/><div class="children"><div class="content">Prolog is very powerful, if you see what professionals can do with it it&#x27;s eye opening. Unfortunately, it takes a complete relearning of programming to achieve that proficiency level. And after you reach it, you probably cannot use it in your day job...</div><br/></div></div><div id="42579920" class="c"><input type="checkbox" id="c-42579920" checked=""/><div class="controls bullet"><span class="by">larodi</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578404">parent</a><span>|</span><a href="#42579534">prev</a><span>|</span><a href="#42578787">next</a><span>|</span><label class="collapse" for="c-42579920">[-]</label><label class="expand" for="c-42579920">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Maybe somewhere between SQL and Prolog is the future of programming.<p>it was, it most probably is</div><br/></div></div></div></div><div id="42578787" class="c"><input type="checkbox" id="c-42578787" checked=""/><div class="controls bullet"><span class="by">bob1029</span><span>|</span><a href="#42578208">parent</a><span>|</span><a href="#42578404">prev</a><span>|</span><a href="#42578928">next</a><span>|</span><label class="collapse" for="c-42578787">[-]</label><label class="expand" for="c-42578787">[5 more]</label></div><br/><div class="children"><div class="content">Over the years I have been pushing more and more responsibilities into the RDBMS. I now see things mostly in terms of ETL, SQL and schema. Virtually every conversation I&#x27;ve ever had about the application of technology to the business could be expressed in these terms. Business logic defined as SQL queries can be quite intuitive when the schema is structured well and aligned to the business stakeholders&#x27; perspectives.<p>Code, frameworks, ORMs, &quot;best practices&quot;, patterns, et. al. are ultimately a distraction. There are a million ways to get the data in &amp; out of the database. Moving the bits around is <i>not</i> valuable. There are many overblown software solutions out there that could have been a simple merge statement or CSV import job.<p>I think that a lot of the misconceptions and bad moods about SQL come out of being forced to work with nasty schemas. The language itself is really domain specific. Consider that one wouldn&#x27;t complain as much about a super fucked up nested query (and resulting SQL syntax woes) if it wasn&#x27;t necessary to write such a query in the first place. Aligning tuples and relations to the way the business typically talks about them means you will be less likely to be fighting these things over time. Often, it isn&#x27;t possible to refactor the schema from zero, but you can put replicas&#x2F;views <i>around</i> a &quot;bad&quot; schema and target it with your new development &amp; refactors.</div><br/><div id="42578930" class="c"><input type="checkbox" id="c-42578930" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578787">parent</a><span>|</span><a href="#42578928">next</a><span>|</span><label class="collapse" for="c-42578930">[-]</label><label class="expand" for="c-42578930">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Consider that one wouldn&#x27;t complain as much about a super fucked up nested query (and resulting SQL syntax woes) if it wasn&#x27;t necessary to write such a query in the first place.<p>And in &quot;modern&quot; SQL this is solved with CTEs. Use them to unwrap the schema the way you want it first, before implementing the business logic.</div><br/><div id="42579929" class="c"><input type="checkbox" id="c-42579929" checked=""/><div class="controls bullet"><span class="by">larodi</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578930">parent</a><span>|</span><a href="#42578928">next</a><span>|</span><label class="collapse" for="c-42579929">[-]</label><label class="expand" for="c-42579929">[3 more]</label></div><br/><div class="children"><div class="content">this is poor man&#x27;s SQL to unwrap for business logic. SQL is such more more about everything else and so litte about the trouble with mapping business logic into storage.</div><br/><div id="42581703" class="c"><input type="checkbox" id="c-42581703" checked=""/><div class="controls bullet"><span class="by">bbkane</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42579929">parent</a><span>|</span><a href="#42583123">next</a><span>|</span><label class="collapse" for="c-42581703">[-]</label><label class="expand" for="c-42581703">[1 more]</label></div><br/><div class="children"><div class="content">Could you please add some examples? I&#x27;m still living in poor man&#x27;s SQL land</div><br/></div></div><div id="42583123" class="c"><input type="checkbox" id="c-42583123" checked=""/><div class="controls bullet"><span class="by">solumunus</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42579929">parent</a><span>|</span><a href="#42581703">prev</a><span>|</span><a href="#42578928">next</a><span>|</span><label class="collapse" for="c-42583123">[-]</label><label class="expand" for="c-42583123">[1 more]</label></div><br/><div class="children"><div class="content">Please elaborate.</div><br/></div></div></div></div></div></div></div></div><div id="42578928" class="c"><input type="checkbox" id="c-42578928" checked=""/><div class="controls bullet"><span class="by">crazygringo</span><span>|</span><a href="#42578208">parent</a><span>|</span><a href="#42578787">prev</a><span>|</span><a href="#42579618">next</a><span>|</span><label class="collapse" for="c-42578928">[-]</label><label class="expand" for="c-42578928">[7 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Once you stop thinking iteratively and start thinking in set operations it becomes quite natural and powerful.</i><p>I dunno... I&#x27;ve written a tremendous amount of SQL, and I still have to think imperatively (iteratively) in order to write queries that are actually performant, and to know which indexes need to exist.<p>It would be wonderful if I could just think in terms of set operations, but that tends to result in queries that take 5 minutes to execute rather than 5 milliseconds.<p>My entire thought process is basically -- what table do I start with, what rows in what order, joining to what, under what conditions, aggregating how, rinse and repeat... It&#x27;s entirely a mental model of loops and aggregation, never of set operations.</div><br/><div id="42578986" class="c"><input type="checkbox" id="c-42578986" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578928">parent</a><span>|</span><a href="#42579618">next</a><span>|</span><label class="collapse" for="c-42578986">[-]</label><label class="expand" for="c-42578986">[6 more]</label></div><br/><div class="children"><div class="content">It may be true, until you do your ETL in an index-less database such as BigQuery or Trino. Postgres will always be faster for optimized, end user serving, queries.<p>But BigQuery allows you to scale it to 100s of CPUs without having to worry about indexes.</div><br/><div id="42581072" class="c"><input type="checkbox" id="c-42581072" checked=""/><div class="controls bullet"><span class="by">liontwist</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578986">parent</a><span>|</span><a href="#42579802">next</a><span>|</span><label class="collapse" for="c-42581072">[-]</label><label class="expand" for="c-42581072">[3 more]</label></div><br/><div class="children"><div class="content">This sounds awful.<p>I would do almost any amount of iteration and index tuning to keep the query on a single machine rather than deal with a networked distributed system.<p>When you get slow queries the real problem is algorithmic complexity and linear workers only can do so much,</div><br/><div id="42583748" class="c"><input type="checkbox" id="c-42583748" checked=""/><div class="controls bullet"><span class="by">RobinL</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42581072">parent</a><span>|</span><a href="#42582214">next</a><span>|</span><label class="collapse" for="c-42583748">[-]</label><label class="expand" for="c-42583748">[1 more]</label></div><br/><div class="children"><div class="content">You can use duckdb on a single machine. It&#x27;s also indexless (or more accurately, you don&#x27;t have to explicitly create indexes)</div><br/></div></div><div id="42582214" class="c"><input type="checkbox" id="c-42582214" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42581072">parent</a><span>|</span><a href="#42583748">prev</a><span>|</span><a href="#42579802">next</a><span>|</span><label class="collapse" for="c-42582214">[-]</label><label class="expand" for="c-42582214">[1 more]</label></div><br/><div class="children"><div class="content">You are rightfully proud of your skills!</div><br/></div></div></div></div><div id="42579802" class="c"><input type="checkbox" id="c-42579802" checked=""/><div class="controls bullet"><span class="by">crazygringo</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42578986">parent</a><span>|</span><a href="#42581072">prev</a><span>|</span><a href="#42579618">next</a><span>|</span><label class="collapse" for="c-42579802">[-]</label><label class="expand" for="c-42579802">[2 more]</label></div><br/><div class="children"><div class="content">Yes, I&#x27;m talking about end user queries. Not reports that take 2 hours to run.<p>But even with BigQuery, you&#x27;ve still got to worry about partioning and clustering, and yes they&#x27;ve even added indexes now.<p>The only time you really just get to think in sets, is when performance doesn&#x27;t matter at all and you don&#x27;t mind if your query takes hours. Which maybe is your case.<p>But also -- the issue isn&#x27;t generally CPU, but rather communications&#x2F;bandwidth. If you&#x27;re joining 10 million rows to 10 million rows, the two biggest things that matter are whether those 10 million rows are on the same machine, and whether you&#x27;re joining on an index. The problem isn&#x27;t CPU-bound, and more CPU&#x27;s isn&#x27;t going to help much.</div><br/><div id="42582210" class="c"><input type="checkbox" id="c-42582210" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42579802">parent</a><span>|</span><a href="#42579618">next</a><span>|</span><label class="collapse" for="c-42582210">[-]</label><label class="expand" for="c-42582210">[1 more]</label></div><br/><div class="children"><div class="content">Of course there are optimizations to be made, such as not joining on the raw data or saving the order by to last. And avoid outer joins between two large sized partitioned tables.<p>But to me those optimizations are not imperative in nature.<p>(And BQ will probable eat the 10 million to 10 million join for breakfast...)</div><br/></div></div></div></div></div></div></div></div><div id="42579618" class="c"><input type="checkbox" id="c-42579618" checked=""/><div class="controls bullet"><span class="by">griomnib</span><span>|</span><a href="#42578208">parent</a><span>|</span><a href="#42578928">prev</a><span>|</span><a href="#42583346">next</a><span>|</span><label class="collapse" for="c-42579618">[-]</label><label class="expand" for="c-42579618">[2 more]</label></div><br/><div class="children"><div class="content">Being able to master the theoretical, practical, and skill-based components of designing a good database schema is the absolute truest test of understanding any systems design.<p>People skip ahead to all kinds of nonsense; but most of software engineering is putting the right data into the right format, and moving it around reliably.<p>I just did a major refactor of a complex distributed code base. I pretty much only count the work I did on schema re-design as the actual “job”, the rest was many hours of coding, but that’s really just implementation.<p>There are other ways to define schema than SQL of course, but it’s really the perfect way to learn true systems engineering.</div><br/><div id="42580149" class="c"><input type="checkbox" id="c-42580149" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42578208">root</a><span>|</span><a href="#42579618">parent</a><span>|</span><a href="#42583346">next</a><span>|</span><label class="collapse" for="c-42580149">[-]</label><label class="expand" for="c-42580149">[1 more]</label></div><br/><div class="children"><div class="content">Very true. My manager at one of my first jobs liked to say &quot;get the data model right and everything else will be easy&quot; and that has largely been proven true in my experience (and it even applies if you&#x27;re not using an RDBMS).</div><br/></div></div></div></div><div id="42583346" class="c"><input type="checkbox" id="c-42583346" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#42578208">parent</a><span>|</span><a href="#42579618">prev</a><span>|</span><a href="#42579566">next</a><span>|</span><label class="collapse" for="c-42583346">[-]</label><label class="expand" for="c-42583346">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I also kind of like coding in SQL, with PL&#x2F;SQL being my favourite extension language, which is kind of heresy in HN, but whatever.</div><br/></div></div><div id="42579566" class="c"><input type="checkbox" id="c-42579566" checked=""/><div class="controls bullet"><span class="by">maCDzP</span><span>|</span><a href="#42578208">parent</a><span>|</span><a href="#42583346">prev</a><span>|</span><a href="#42578562">next</a><span>|</span><label class="collapse" for="c-42579566">[-]</label><label class="expand" for="c-42579566">[1 more]</label></div><br/><div class="children"><div class="content">SQL clicked once I read the original paper and it explained it terms of sets.</div><br/></div></div></div></div><div id="42578562" class="c"><input type="checkbox" id="c-42578562" checked=""/><div class="controls bullet"><span class="by">1st1</span><span>|</span><a href="#42578208">prev</a><span>|</span><a href="#42577861">next</a><span>|</span><label class="collapse" for="c-42578562">[-]</label><label class="expand" for="c-42578562">[1 more]</label></div><br/><div class="children"><div class="content">FWIW I tried doing AoC for a few days with EdgeQL, and the experience proved to be quite interesting.<p>Some of my tweets (I should write a blog post):<p>- <a href="https:&#x2F;&#x2F;x.com&#x2F;1st1&#x2F;status&#x2F;1864069589245858083" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;1st1&#x2F;status&#x2F;1864069589245858083</a><p>- vs SQL <a href="https:&#x2F;&#x2F;x.com&#x2F;1st1&#x2F;status&#x2F;1864412869108092997" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;1st1&#x2F;status&#x2F;1864412869108092997</a></div><br/></div></div><div id="42577861" class="c"><input type="checkbox" id="c-42577861" checked=""/><div class="controls bullet"><span class="by">mbowcut2</span><span>|</span><a href="#42578562">prev</a><span>|</span><a href="#42577873">next</a><span>|</span><label class="collapse" for="c-42577861">[-]</label><label class="expand" for="c-42577861">[2 more]</label></div><br/><div class="children"><div class="content">Absolutely horrifying. Well done.</div><br/><div id="42578090" class="c"><input type="checkbox" id="c-42578090" checked=""/><div class="controls bullet"><span class="by">teeray</span><span>|</span><a href="#42577861">parent</a><span>|</span><a href="#42577873">next</a><span>|</span><label class="collapse" for="c-42578090">[-]</label><label class="expand" for="c-42578090">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Thanks, I hate it&quot;</div><br/></div></div></div></div><div id="42577873" class="c"><input type="checkbox" id="c-42577873" checked=""/><div class="controls bullet"><span class="by">sceadu</span><span>|</span><a href="#42577861">prev</a><span>|</span><a href="#42581305">next</a><span>|</span><label class="collapse" for="c-42577873">[-]</label><label class="expand" for="c-42577873">[2 more]</label></div><br/><div class="children"><div class="content">for those who don&#x27;t know, the author is one of the best DB researchers in the world</div><br/><div id="42578193" class="c"><input type="checkbox" id="c-42578193" checked=""/><div class="controls bullet"><span class="by">beoberha</span><span>|</span><a href="#42577873">parent</a><span>|</span><a href="#42581305">next</a><span>|</span><label class="collapse" for="c-42578193">[-]</label><label class="expand" for="c-42578193">[1 more]</label></div><br/><div class="children"><div class="content">Thomas Neumann doing Thomas Neumann things</div><br/></div></div></div></div><div id="42581305" class="c"><input type="checkbox" id="c-42581305" checked=""/><div class="controls bullet"><span class="by">tveita</span><span>|</span><a href="#42577873">prev</a><span>|</span><a href="#42578422">next</a><span>|</span><label class="collapse" for="c-42581305">[-]</label><label class="expand" for="c-42581305">[1 more]</label></div><br/><div class="children"><div class="content">I found Clickhouse easier to handle than pure SQL for this - as an analytics database it has conveniences like parsing input files with regexp, user defined functions and array functions. It&#x27;s often possible to treat it more like an array programming language. But I still sometimes couldn&#x27;t avoid the tuple explosion problem.<p><a href="https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;integrations&#x2F;data-formats&#x2F;templates-regexp#importing-data-based-on-regular-expressions" rel="nofollow">https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;integrations&#x2F;data-formats&#x2F;tem...</a></div><br/></div></div><div id="42578422" class="c"><input type="checkbox" id="c-42578422" checked=""/><div class="controls bullet"><span class="by">RaftPeople</span><span>|</span><a href="#42581305">prev</a><span>|</span><a href="#42580826">next</a><span>|</span><label class="collapse" for="c-42578422">[-]</label><label class="expand" for="c-42578422">[1 more]</label></div><br/><div class="children"><div class="content">I wrote a cubing&#x2F;containerization system in SQL, but it did use the additional capabilities in a sproc for looping etc., so not just a single SQL stmt.<p>But the problem actually mapped well to SQL&#x27;s capabilities in some ways.  The basic algorithm was:<p>1-Loop through items in descending size order<p>2-Test X different positions and orientations such that one corner is butted up against an existing corner (of container, or previously placed items, etc.)<p>3-Choose the winner based on some sort of point systems that encapsulates some set of rules (e.g. preferred orientation, or minimizes small gaps between sides of items, etc.)<p>These were some aspects that lined up well with SQL:<p>A-Testing of X number of positions and orientations all with a relative simple statement, using as input: existing corner points from previously placed items, some control table with the variations in X,Y,Z orientations.<p>B-The ability to maintain a set of previous options for each iteration (e.g. item #2 was tested in these positions with these stats and all are temporarily being considered reasonable options), add new item to each one of those previous tests and accumulate stats. It was pretty easy to configure a &quot;window&quot; of how many different open options were being tracked to optimize the result without overwhelming memory.  The SQL to include the options was almost the same as if there was only one previous chosen option.<p>Some aspects were a bit painful to shift the model mentally to fit in with SQL.</div><br/></div></div><div id="42580826" class="c"><input type="checkbox" id="c-42580826" checked=""/><div class="controls bullet"><span class="by">pawptart</span><span>|</span><a href="#42578422">prev</a><span>|</span><a href="#42581404">next</a><span>|</span><label class="collapse" for="c-42580826">[-]</label><label class="expand" for="c-42580826">[1 more]</label></div><br/><div class="children"><div class="content">I was crazy enough to try this as well this year. It would be an extreme stretch to consider me a SQL expert, but I did make it to Day 14.<p>I agree with all the points in the post. It&#x27;s really not <i>that</i> bad. If I had more time to devote to it, I think I could have reasonably completed more.<p>Here&#x27;s my writeup, contains a link to the repo if you want to see some of the soutions.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ty-porter&#x2F;advent-of-code&#x2F;tree&#x2F;master&#x2F;2024&#x2F;sql">https:&#x2F;&#x2F;github.com&#x2F;ty-porter&#x2F;advent-of-code&#x2F;tree&#x2F;master&#x2F;2024...</a></div><br/></div></div><div id="42581404" class="c"><input type="checkbox" id="c-42581404" checked=""/><div class="controls bullet"><span class="by">neriymus</span><span>|</span><a href="#42580826">prev</a><span>|</span><a href="#42580213">next</a><span>|</span><label class="collapse" for="c-42581404">[-]</label><label class="expand" for="c-42581404">[1 more]</label></div><br/><div class="children"><div class="content">Slightly related, here&#x27;s one I saw being solved using Cypher: <a href="https:&#x2F;&#x2F;www.linkedin.com&#x2F;posts&#x2F;halfterpierre_adventofcode-digitaltwin-neo4j-activity-7279182178171666432-dhNY" rel="nofollow">https:&#x2F;&#x2F;www.linkedin.com&#x2F;posts&#x2F;halfterpierre_adventofcode-di...</a></div><br/></div></div><div id="42580213" class="c"><input type="checkbox" id="c-42580213" checked=""/><div class="controls bullet"><span class="by">linsomniac</span><span>|</span><a href="#42581404">prev</a><span>|</span><a href="#42579528">next</a><span>|</span><label class="collapse" for="c-42580213">[-]</label><label class="expand" for="c-42580213">[1 more]</label></div><br/><div class="children"><div class="content">Long ago I was interviewing for an operations job, and their &quot;leetcode&quot; interview question was to create an invoice report of some fairly large public data-set.  Because of the size of the dataset and the way they wanted it sliced and diced, it wasn&#x27;t just a straightforward set of JOINS, and they clearly wanted you to do some simple SQL queries and then have some code loops that sliced and diced it all.<p>That wasn&#x27;t a solution the data scientist in me (which I&#x27;m not) was ok with.  I ran my high level thoughts about the problem past a data scientist buddy of mine and he said &quot;sounds like you&#x27;re on the right track&quot;, but not being a data scientist it was hard for me to put together a soludion.<p>I told them that if I was asked in my work capacity to do something like this, I&#x27;d probably be reaching for a reporting package like Crystal Reports, but I haven&#x27;t touched it in ~30 years.  &quot;Sure, I get that, just write some code to generate the report&quot;.<p>I had written all the Ansible and related goodies to spin up an instance, get MySQL set up and configured, and figured the &quot;right&quot; solution was there in the SQL arcana.  I played with it and played with it, mostly writing off the job because what kind of company judges a sys admin based on building a reporting package?  They had set the expectation that the homework should take 2-4 hours, and I chewed on it for longer than that and finally said &quot;thanks but no thanks, this is outside my wheelhouse&quot;.<p>But I kept chewing on the problem.  A couple weeks later I had the right set of materialized views and queries and joins that not only solved the problem entirely in SQL, but solved it QUICK.<p>SQL is amazing, but there are a log of tricks of the trade you&#x27;ve got to have at your fingertips to make it fly.  I&#x27;m still convinced that a lot of it is just throwing a bunch of things at the wall until something sticks.</div><br/></div></div><div id="42579528" class="c"><input type="checkbox" id="c-42579528" checked=""/><div class="controls bullet"><span class="by">pavel_lishin</span><span>|</span><a href="#42580213">prev</a><span>|</span><a href="#42583373">next</a><span>|</span><label class="collapse" for="c-42579528">[-]</label><label class="expand" for="c-42579528">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been slowly working through AoC2024 in Google Sheets. I should really write up what I&#x27;ve been up to.</div><br/></div></div><div id="42583373" class="c"><input type="checkbox" id="c-42583373" checked=""/><div class="controls bullet"><span class="by">spiralshape</span><span>|</span><a href="#42579528">prev</a><span>|</span><a href="#42581528">next</a><span>|</span><label class="collapse" for="c-42583373">[-]</label><label class="expand" for="c-42583373">[1 more]</label></div><br/><div class="children"><div class="content">Great work showcasing SQL’s versatility!</div><br/></div></div><div id="42581528" class="c"><input type="checkbox" id="c-42581528" checked=""/><div class="controls bullet"><span class="by">thehours</span><span>|</span><a href="#42583373">prev</a><span>|</span><a href="#42578228">next</a><span>|</span><label class="collapse" for="c-42581528">[-]</label><label class="expand" for="c-42581528">[2 more]</label></div><br/><div class="children"><div class="content">Does &#x27;pure SQL&#x27; have a specific definition (or reference spec)? The author doesn&#x27;t mention it, except to say he tested it across Umbra, Postgres, and DuckDB. Even then, some days weren&#x27;t &#x27;supported by DuckDB due to a missing xor operator&#x27;.</div><br/><div id="42582423" class="c"><input type="checkbox" id="c-42582423" checked=""/><div class="controls bullet"><span class="by">grumple</span><span>|</span><a href="#42581528">parent</a><span>|</span><a href="#42578228">next</a><span>|</span><label class="collapse" for="c-42582423">[-]</label><label class="expand" for="c-42582423">[1 more]</label></div><br/><div class="children"><div class="content">There is an ISO spec (you have to pay for access): <a href="https:&#x2F;&#x2F;www.iso.org&#x2F;standard&#x2F;76583.html" rel="nofollow">https:&#x2F;&#x2F;www.iso.org&#x2F;standard&#x2F;76583.html</a></div><br/></div></div></div></div><div id="42578228" class="c"><input type="checkbox" id="c-42578228" checked=""/><div class="controls bullet"><span class="by">datadrivenangel</span><span>|</span><a href="#42581528">prev</a><span>|</span><a href="#42579158">next</a><span>|</span><label class="collapse" for="c-42578228">[-]</label><label class="expand" for="c-42578228">[5 more]</label></div><br/><div class="children"><div class="content">The data parsing must have been painful. High wizardry.</div><br/><div id="42578752" class="c"><input type="checkbox" id="c-42578752" checked=""/><div class="controls bullet"><span class="by">taberiand</span><span>|</span><a href="#42578228">parent</a><span>|</span><a href="#42578578">next</a><span>|</span><label class="collapse" for="c-42578752">[-]</label><label class="expand" for="c-42578752">[3 more]</label></div><br/><div class="children"><div class="content">I feel like it&#x27;d be entirely acceptable to load the inputs into tables first and still qualify as pure sql, because string parsing in sql is so blergh</div><br/><div id="42579133" class="c"><input type="checkbox" id="c-42579133" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578228">root</a><span>|</span><a href="#42578752">parent</a><span>|</span><a href="#42578578">next</a><span>|</span><label class="collapse" for="c-42579133">[-]</label><label class="expand" for="c-42579133">[2 more]</label></div><br/><div class="children"><div class="content">Input in AoC is always well-formed. And you can always use a regexp? Seems like the smallest problem to me. As soon as you get past that recursive one row per line trick in the posted solutions</div><br/><div id="42579501" class="c"><input type="checkbox" id="c-42579501" checked=""/><div class="controls bullet"><span class="by">taberiand</span><span>|</span><a href="#42578228">root</a><span>|</span><a href="#42579133">parent</a><span>|</span><a href="#42578578">next</a><span>|</span><label class="collapse" for="c-42579501">[-]</label><label class="expand" for="c-42579501">[1 more]</label></div><br/><div class="children"><div class="content">Obviously it&#x27;s possible, particularly in this context, but generally speaking I&#x27;d rather avoid it.</div><br/></div></div></div></div></div></div><div id="42578578" class="c"><input type="checkbox" id="c-42578578" checked=""/><div class="controls bullet"><span class="by">fifilura</span><span>|</span><a href="#42578228">parent</a><span>|</span><a href="#42578752">prev</a><span>|</span><a href="#42579158">next</a><span>|</span><label class="collapse" for="c-42578578">[-]</label><label class="expand" for="c-42578578">[1 more]</label></div><br/><div class="children"><div class="content">The data parsing is just one recursive query to read one line at a time, and it is done pretty much the same way in each problem.</div><br/></div></div></div></div><div id="42579158" class="c"><input type="checkbox" id="c-42579158" checked=""/><div class="controls bullet"><span class="by">pearjuice</span><span>|</span><a href="#42578228">prev</a><span>|</span><a href="#42581039">next</a><span>|</span><label class="collapse" for="c-42579158">[-]</label><label class="expand" for="c-42579158">[3 more]</label></div><br/><div class="children"><div class="content">Doing it in pure SQL is really impressive but I think the real tell-tale sign of peak &quot;cracked engineer energy&quot; is the maintained, decade-old blogspot site. Can&#x27;t exactly put my finger on it, but really gives off &quot;niche mastery&quot;. I don&#x27;t even know the authors but I&#x27;m sure in the right circles a few dudes maintaining a blogspot site called &quot;database architects&quot; for a decade probably don&#x27;t need an introduction.</div><br/><div id="42583923" class="c"><input type="checkbox" id="c-42583923" checked=""/><div class="controls bullet"><span class="by">Moosturm</span><span>|</span><a href="#42579158">parent</a><span>|</span><a href="#42579628">next</a><span>|</span><label class="collapse" for="c-42583923">[-]</label><label class="expand" for="c-42583923">[1 more]</label></div><br/><div class="children"><div class="content">Those authors are the elite of DB mastery.</div><br/></div></div></div></div><div id="42581039" class="c"><input type="checkbox" id="c-42581039" checked=""/><div class="controls bullet"><span class="by">nostradumbasp</span><span>|</span><a href="#42579158">prev</a><span>|</span><a href="#42578316">next</a><span>|</span><label class="collapse" for="c-42581039">[-]</label><label class="expand" for="c-42581039">[2 more]</label></div><br/><div class="children"><div class="content">It takes an incredible human to do something like this. Pure art. Not enough of that in the programming world.</div><br/><div id="42581052" class="c"><input type="checkbox" id="c-42581052" checked=""/><div class="controls bullet"><span class="by">apavlo</span><span>|</span><a href="#42581039">parent</a><span>|</span><a href="#42578316">next</a><span>|</span><label class="collapse" for="c-42581052">[-]</label><label class="expand" for="c-42581052">[1 more]</label></div><br/><div class="children"><div class="content">Thomas is the greatest database systems researcher in the world. He <i>is</i> an incredible human.</div><br/></div></div></div></div><div id="42578316" class="c"><input type="checkbox" id="c-42578316" checked=""/><div class="controls bullet"><span class="by">drewbitt</span><span>|</span><a href="#42581039">prev</a><span>|</span><a href="#42579402">next</a><span>|</span><label class="collapse" for="c-42578316">[-]</label><label class="expand" for="c-42578316">[2 more]</label></div><br/><div class="children"><div class="content">Insanity. I wonder how much cleaner it could look in EdgeQL.</div><br/><div id="42579921" class="c"><input type="checkbox" id="c-42579921" checked=""/><div class="controls bullet"><span class="by">1st1</span><span>|</span><a href="#42578316">parent</a><span>|</span><a href="#42579402">next</a><span>|</span><label class="collapse" for="c-42579921">[-]</label><label class="expand" for="c-42579921">[1 more]</label></div><br/><div class="children"><div class="content">Somewhat, depending on what you appreciate in languages. See my other comment in this thread: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42578562">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42578562</a></div><br/></div></div></div></div><div id="42579402" class="c"><input type="checkbox" id="c-42579402" checked=""/><div class="controls bullet"><span class="by">forgot_old_user</span><span>|</span><a href="#42578316">prev</a><span>|</span><a href="#42578133">next</a><span>|</span><label class="collapse" for="c-42579402">[-]</label><label class="expand" for="c-42579402">[1 more]</label></div><br/><div class="children"><div class="content">haha I couldn&#x27;t help but silently mouth &quot;BUT WHHYY&quot; before I clicked this link</div><br/></div></div><div id="42578133" class="c"><input type="checkbox" id="c-42578133" checked=""/><div class="controls bullet"><span class="by">CommanderData</span><span>|</span><a href="#42579402">prev</a><span>|</span><a href="#42578973">next</a><span>|</span><label class="collapse" for="c-42578133">[-]</label><label class="expand" for="c-42578133">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m angry but in a good way.</div><br/></div></div><div id="42578973" class="c"><input type="checkbox" id="c-42578973" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#42578133">prev</a><span>|</span><a href="#42581043">next</a><span>|</span><label class="collapse" for="c-42578973">[-]</label><label class="expand" for="c-42578973">[1 more]</label></div><br/><div class="children"><div class="content">When you realize recursive SQL allows iterative calculation then you can pretty much do whatever you want, no matter how bad.</div><br/></div></div><div id="42581043" class="c"><input type="checkbox" id="c-42581043" checked=""/><div class="controls bullet"><span class="by">yakshaving_jgt</span><span>|</span><a href="#42578973">prev</a><span>|</span><a href="#42578299">next</a><span>|</span><label class="collapse" for="c-42581043">[-]</label><label class="expand" for="c-42581043">[1 more]</label></div><br/><div class="children"><div class="content">A former colleague did the same with most of AoC 2020 a few years ago.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Jell&#x2F;advent2020">https:&#x2F;&#x2F;github.com&#x2F;Jell&#x2F;advent2020</a></div><br/></div></div><div id="42578299" class="c"><input type="checkbox" id="c-42578299" checked=""/><div class="controls bullet"><span class="by">ikiris</span><span>|</span><a href="#42581043">prev</a><span>|</span><label class="collapse" for="c-42578299">[-]</label><label class="expand" for="c-42578299">[1 more]</label></div><br/><div class="children"><div class="content">This is impressive. Well done. I hate it</div><br/></div></div></div></div></div></div></div></body></html>