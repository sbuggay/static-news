<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1738400470282" as="style"/><link rel="stylesheet" href="styles.css?v=1738400470282"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://soatok.blog/2025/01/31/hell-is-overconfident-developers-writing-encryption-code/">Hell is overconfident developers writing encryption code</a>Â <span class="domain">(<a href="https://soatok.blog">soatok.blog</a>)</span></div><div class="subtext"><span>zdw</span> | <span>134 comments</span></div><br/><div><div id="42895883" class="c"><input type="checkbox" id="c-42895883" checked=""/><div class="controls bullet"><span class="by">umvi</span><span>|</span><a href="#42896952">next</a><span>|</span><label class="collapse" for="c-42895883">[-]</label><label class="expand" for="c-42895883">[44 more]</label></div><br/><div class="children"><div class="content">What does &quot;don&#x27;t build your own crypto&quot; even mean any more?<p>I originally thought it meant &quot;don&#x27;t implement AES&#x2F;RSA&#x2F;etc algorithms yourself&quot;<p>But now it seems to mean &quot;pay auth0 for your sign in solution or else you&#x27;ll definitely mess something up&quot;<p>As an example, we have a signing server. Upload a binary blob, get a signed blob back. Some blobs were huge (multiple GB), so the &quot;upload&quot; step was taking forever for some people. I wrote a new signing server that just requires you to pass a hash digest to the server, and you get the signature block back which you can append to the blob. The end result is identical (i.e. if you signed the same blob with both services the result would indistinguishable). I used openssl for basically everything. Did I roll my own crypto? What should I have done instead?</div><br/><div id="42896007" class="c"><input type="checkbox" id="c-42896007" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42895937">next</a><span>|</span><label class="collapse" for="c-42896007">[-]</label><label class="expand" for="c-42896007">[19 more]</label></div><br/><div class="children"><div class="content">It used to mean &quot;use AES instead of rolling your own form of symmetric encryption.&quot; Then it became &quot;use a library for AES instead of writing the code.&quot; It has now reached the obvious conclusion of &quot;don&#x27;t do anything vaguely security-related at all unless you are an expert.&quot;</div><br/><div id="42896190" class="c"><input type="checkbox" id="c-42896190" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896007">parent</a><span>|</span><a href="#42896740">next</a><span>|</span><label class="collapse" for="c-42896190">[-]</label><label class="expand" for="c-42896190">[13 more]</label></div><br/><div class="children"><div class="content">No it hasn&#x27;t. The subtext of &quot;don&#x27;t roll your own crypto&quot; is that &quot;AES&quot; doesn&#x27;t do, by itself, what most developers think it does; there&#x27;s a whole literature of how to make AES do anything but transform 16 unstructured bytes into 16 different bytes indistinguishable from random noise; anything past that, including getting AES to encrypt a string, is literally outside of AES&#x27;s scope.<p>The shorter way of saying this is that you should not use libraries that expose &quot;AES&quot;, but instead things like Sodium that expose &quot;boxes&quot; --- and, if you need to do things that Sodium doesn&#x27;t <i>directly</i> expose, you need an expert.<p>Contra what other people on this thread have suggested, reasonable security engineers do not in fact believe that ordinary developers aren&#x27;t qualified to build their own password forms or permissions systems; that&#x27;s a straw man argument.</div><br/><div id="42896199" class="c"><input type="checkbox" id="c-42896199" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896190">parent</a><span>|</span><a href="#42896740">next</a><span>|</span><label class="collapse" for="c-42896199">[-]</label><label class="expand" for="c-42896199">[12 more]</label></div><br/><div class="children"><div class="content">Reasonable security engineers take a reasonable position on this. Many other developers (usually uninformed ones) believe this now means &quot;don&#x27;t make an auth system.&quot; Like it or not, this has become a sort of adage that people cargo-cult.</div><br/><div id="42896215" class="c"><input type="checkbox" id="c-42896215" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896199">parent</a><span>|</span><a href="#42896740">next</a><span>|</span><label class="collapse" for="c-42896215">[-]</label><label class="expand" for="c-42896215">[11 more]</label></div><br/><div class="children"><div class="content">If you can&#x27;t keep the line between &quot;ordinary developers shouldn&#x27;t be working with AES&quot; and &quot;ordinary developers can write login systems&quot; clear, you&#x27;re doing people a disservice, because the two assertions are not alike in how fundamentally true they are.</div><br/><div id="42896242" class="c"><input type="checkbox" id="c-42896242" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896215">parent</a><span>|</span><a href="#42896705">next</a><span>|</span><label class="collapse" for="c-42896242">[-]</label><label class="expand" for="c-42896242">[5 more]</label></div><br/><div class="children"><div class="content">By the way, I agree with you. My original point was that the &quot;hivemind&quot; somehow has shifted away from the reasonable conclusion.</div><br/><div id="42896334" class="c"><input type="checkbox" id="c-42896334" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896242">parent</a><span>|</span><a href="#42896705">next</a><span>|</span><label class="collapse" for="c-42896334">[-]</label><label class="expand" for="c-42896334">[4 more]</label></div><br/><div class="children"><div class="content">There&#x27;s nothing personal about any of this, but I&#x27;m watching the both the insane poles of this argument (&quot;I&#x27;ll be just fine inventing my own block cipher modes&quot; guy, &quot;Only a certified security engineer can write a permissions check&quot; guy&quot;) go at each other, and wondering why we need to pay any attention to either of them.<p>I haven&#x27;t so much seen the latter kind of guy, the one saying you need a certified professional to safely output-filter HTML or whatever, but I see &quot;lol block cipher modes whatever&quot; people on HN all the time, on almost every thread about cryptography, dunking on anyone who says &quot;don&#x27;t roll your own cryptography&quot;.</div><br/><div id="42896398" class="c"><input type="checkbox" id="c-42896398" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896334">parent</a><span>|</span><a href="#42896705">next</a><span>|</span><label class="collapse" for="c-42896398">[-]</label><label class="expand" for="c-42896398">[3 more]</label></div><br/><div class="children"><div class="content">FWIW I see a lot more of the &quot;lol I rolled my own block cipher&quot; crowd in articles here, but a lot more of the &quot;only experts should verify a signature&quot; crowd in the professional world (mostly startup-biased recently).<p>I sort of assume that the latter is a random sampling of software engineers but the former is sampled specifically for idiots who YOLO their crypto.</div><br/><div id="42896402" class="c"><input type="checkbox" id="c-42896402" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896398">parent</a><span>|</span><a href="#42896705">next</a><span>|</span><label class="collapse" for="c-42896402">[-]</label><label class="expand" for="c-42896402">[2 more]</label></div><br/><div class="children"><div class="content">Only experts <i>should</i> verify signatures! That&#x27;s actually hard.<p>If you&#x27;re using minisign or Sigstore or whatever to do something like verify upstream dependencies, sure. But if you&#x27;re building a system that is <i>about</i> some novel problem domain involving signatures: you should get an expert to verify your system. The trail of dead bodies here is long and bloody.</div><br/><div id="42896625" class="c"><input type="checkbox" id="c-42896625" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896402">parent</a><span>|</span><a href="#42896705">next</a><span>|</span><label class="collapse" for="c-42896625">[-]</label><label class="expand" for="c-42896625">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, coming up with your own signature scheme to verify authenticity with certain properties is very difficult but also very different in kind from running a pre-designed scheme using a library baked by someone else.<p>I think you have a pre-defined notion when I say the word &quot;signature&quot; about what I meant (perhaps something about software signing or SSL certificates). I literally meant &quot;checking that HMAC-SHA-2 of some bytes is what you expect&quot; (using a library for the hash). Incidentally, that&#x27;s how you authenticate a JWT.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42896705" class="c"><input type="checkbox" id="c-42896705" checked=""/><div class="controls bullet"><span class="by">noduerme</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896215">parent</a><span>|</span><a href="#42896242">prev</a><span>|</span><a href="#42896740">next</a><span>|</span><label class="collapse" for="c-42896705">[-]</label><label class="expand" for="c-42896705">[5 more]</label></div><br/><div class="children"><div class="content">eh, as someone who rolls my own login systems and depends on checking salted password hashes against those in a database: Assuming I block brutes after 3 or 4 attempts, is there anything I need to worry about here besides someone getting access to the database or the salt? I think your point was that people building logins off one way hashes aren&#x27;t really doing anything outrageously wrong?</div><br/><div id="42896762" class="c"><input type="checkbox" id="c-42896762" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896705">parent</a><span>|</span><a href="#42896767">next</a><span>|</span><label class="collapse" for="c-42896762">[-]</label><label class="expand" for="c-42896762">[3 more]</label></div><br/><div class="children"><div class="content">I mean to start with if you are literally using &quot;salted hashes&quot; you are boned. There&#x27;s a whole literature of &quot;password hashes&quot; (&quot;password KDFs&quot;), and that literature exists for a reason; the papers are a record of the weaknesses found in &quot;salted hashes&quot;, a construction dating back to the late 1970s.<p>But once you adopt something like BCrypt or scrypt or PBKDF2 or Argon2 (literally throw a dart at a dartboard), you&#x27;re into the space of things where you should, as a competent engineer, be expected to figure out a sound system on your own. The only domain-specific knowledge you really need given to you by a cryptographer is &quot;don&#x27;t just use salted hashes&quot;.</div><br/><div id="42896805" class="c"><input type="checkbox" id="c-42896805" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896762">parent</a><span>|</span><a href="#42896767">next</a><span>|</span><label class="collapse" for="c-42896805">[-]</label><label class="expand" for="c-42896805">[2 more]</label></div><br/><div class="children"><div class="content">Incidentally, a presentation at the NIST crypto reading group recently pointed out some of the weaknesses of current password KDFs: Argon2i has a viable attack, bcrypt truncates input, PBKDF2 needs an utterly insane number of rounds, and scrypt and argon2d&#x2F;argon2id have data-dependent computation time and seem to be vulnerable to side-channel attacks. It turns out this is a really hard problem.</div><br/><div id="42896824" class="c"><input type="checkbox" id="c-42896824" checked=""/><div class="controls bullet"><span class="by">soatok</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896805">parent</a><span>|</span><a href="#42896767">next</a><span>|</span><label class="collapse" for="c-42896824">[-]</label><label class="expand" for="c-42896824">[1 more]</label></div><br/><div class="children"><div class="content">I wasn&#x27;t present for the NIST crypto reading group, but I documented a lot of these in 2022, if you&#x27;d like a deeper dive into that problem space: <a href="https:&#x2F;&#x2F;soatok.blog&#x2F;2022&#x2F;12&#x2F;29&#x2F;what-we-do-in-the-etc-shadow-cryptography-with-passwords&#x2F;" rel="nofollow">https:&#x2F;&#x2F;soatok.blog&#x2F;2022&#x2F;12&#x2F;29&#x2F;what-we-do-in-the-etc-shadow-...</a></div><br/></div></div></div></div></div></div><div id="42896767" class="c"><input type="checkbox" id="c-42896767" checked=""/><div class="controls bullet"><span class="by">shkkmo</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896705">parent</a><span>|</span><a href="#42896762">prev</a><span>|</span><a href="#42896740">next</a><span>|</span><label class="collapse" for="c-42896767">[-]</label><label class="expand" for="c-42896767">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;ll want to look at your hashing algorithm and number of iterations to make sure they are up to snuff and you&#x27;ll want to make sure that your salts are unique and properly random. (I recently learned that the PS3 private keys were reversible because Sony&#x27;s random number function returned a fixed result.)<p>Proper password hashing is protecting against a different threat than blocking brute force login attempts (which isn&#x27;t really an encryption issue.) Password hashing is more about protecting your user&#x27;s passwords if your database is breached so that you limit the attackers ability to re-user those credentials to access other services the user may have re-used them with.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42896740" class="c"><input type="checkbox" id="c-42896740" checked=""/><div class="controls bullet"><span class="by">brianstrimp</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896007">parent</a><span>|</span><a href="#42896190">prev</a><span>|</span><a href="#42896859">next</a><span>|</span><label class="collapse" for="c-42896740">[-]</label><label class="expand" for="c-42896740">[2 more]</label></div><br/><div class="children"><div class="content">And the consequence is that people get banged on the head if they either use sth existing (cause they will be using it wrong) or they build sth on their own (because that&#x27;s obviously bad) or they get fed up and don&#x27;t use anything.<p>The issue with security researchers, as much as I admire them, is that their main focus is on breaking things and then berating people for having done it wrong. Great, but what should they have done instead? Decided which of the 10 existing solutions is the correct one, with 9 being obvious crap if you ask any security researcher? How should the user know? And typically none of the existing solutions matched the use case exactly. Now what?<p>It&#x27;s so easy to criticize people left and right. Often justifiably so. But people need to get their shit done and then move on. Isn&#x27;t that understandable as well?</div><br/><div id="42896782" class="c"><input type="checkbox" id="c-42896782" checked=""/><div class="controls bullet"><span class="by">soatok</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896740">parent</a><span>|</span><a href="#42896859">next</a><span>|</span><label class="collapse" for="c-42896782">[-]</label><label class="expand" for="c-42896782">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The issue with security researchers, as much as I admire them, is that their main focus is on breaking things and then berating people for having done it wrong.<p>This is plain incorrect in my experience.<p>Recommended reading (addresses the motivations and ethics of security research): <a href="https:&#x2F;&#x2F;soatok.blog&#x2F;2025&#x2F;01&#x2F;21&#x2F;too-many-people-dont-value-the-time-of-security-researchers&#x2F;" rel="nofollow">https:&#x2F;&#x2F;soatok.blog&#x2F;2025&#x2F;01&#x2F;21&#x2F;too-many-people-dont-value-th...</a><p>&gt; Great, but what should they have done instead? Decided which of the 10 existing solutions is the correct one, with 9 being obvious crap if you ask any security researcher?<p>There&#x27;s 10 existing solutions? What is your exact problem space, then?<p>I&#x27;ve literally blogged about tool recommendations before: <a href="https:&#x2F;&#x2F;soatok.blog&#x2F;2024&#x2F;11&#x2F;15&#x2F;what-to-use-instead-of-pgp&#x2F;" rel="nofollow">https:&#x2F;&#x2F;soatok.blog&#x2F;2024&#x2F;11&#x2F;15&#x2F;what-to-use-instead-of-pgp&#x2F;</a><p>I&#x27;m also working in all of my spare time on designing a solution to one of the hard problems with cryptographic tooling, as I alluded to in the blog post.<p><a href="https:&#x2F;&#x2F;soatok.blog&#x2F;2024&#x2F;06&#x2F;06&#x2F;towards-federated-key-transparency&#x2F;" rel="nofollow">https:&#x2F;&#x2F;soatok.blog&#x2F;2024&#x2F;06&#x2F;06&#x2F;towards-federated-key-transpa...</a><p>Is this not enough of an answer for you?<p>&gt; How should the user know? And typically none of the existing solutions matched the use case exactly. Now what?<p>First, describe your use case in as much detail as possible. The closer you can get to the platonic ideal of a system architecture doc with a formal threat model, the better, but even a list of user stories helps.<p>Then, talk to a cryptography expert.<p>We don&#x27;t keep the list of experts close to our chest: Any IACR-affiliated conference hosts several of them. We talk to each other! If we&#x27;re not familiar with your specific technology, there&#x27;s bound to be someone who is.<p>This isn&#x27;t presently a problem you can just ask a search engine or generative AI model and get the correct and secure answer for your exact use case 100% of the time with no human involvement.<p>Finding a trusted expert in this field is pretty easy, and most cryptography experts are humble enough to admit when something is out of their depth.<p>And if you&#x27;re out of better options, this sort of high-level guidance is something I <i>do</i> offer in a timeboxed setting (up to one hour) for a flat rate: <a href="https:&#x2F;&#x2F;soatok.com&#x2F;critiques" rel="nofollow">https:&#x2F;&#x2F;soatok.com&#x2F;critiques</a></div><br/></div></div></div></div><div id="42896859" class="c"><input type="checkbox" id="c-42896859" checked=""/><div class="controls bullet"><span class="by">harrall</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896007">parent</a><span>|</span><a href="#42896740">prev</a><span>|</span><a href="#42896228">next</a><span>|</span><label class="collapse" for="c-42896859">[-]</label><label class="expand" for="c-42896859">[1 more]</label></div><br/><div class="children"><div class="content">I feel like there is a huge subset of people who just do trial and error programming. The other day, I watched a whole team of 8 people spend a whole work day swapping out random components on Zoom to diagnose a problem because not a single person considered attaching a debugger to see the exact error in 5 minutes.<p>I feel like you have to tell people to not roll your own whatever because there are so many of these types of people.</div><br/></div></div><div id="42896228" class="c"><input type="checkbox" id="c-42896228" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896007">parent</a><span>|</span><a href="#42896859">prev</a><span>|</span><a href="#42895937">next</a><span>|</span><label class="collapse" for="c-42896228">[-]</label><label class="expand" for="c-42896228">[2 more]</label></div><br/><div class="children"><div class="content">The stuggle was real in the early web with getting companies to do proper password storage and authentication but the fact that seasoned professionals turn to auth0 or okta (and have been bitten by this reliance!) nowadays strikes me as a little embarrassing.</div><br/><div id="42896775" class="c"><input type="checkbox" id="c-42896775" checked=""/><div class="controls bullet"><span class="by">switch007</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896228">parent</a><span>|</span><a href="#42895937">next</a><span>|</span><label class="collapse" for="c-42896775">[-]</label><label class="expand" for="c-42896775">[1 more]</label></div><br/><div class="children"><div class="content">Let&#x27;s be fair though: Auth0 does a little more than just password authentication<p>Registration, 2FA, reset, email verification, federation, password rules, brute force protection, RBAC&#x2F;ABAC etc<p>(I&#x27;m no fan of Auth0 fwiw)</div><br/></div></div></div></div></div></div><div id="42895937" class="c"><input type="checkbox" id="c-42895937" checked=""/><div class="controls bullet"><span class="by">EE84M3i</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42896007">prev</a><span>|</span><a href="#42896550">next</a><span>|</span><label class="collapse" for="c-42895937">[-]</label><label class="expand" for="c-42895937">[2 more]</label></div><br/><div class="children"><div class="content">Now it&#x27;s possible for someone to ask the server to sign a blob that they only know the hash of. Is that an issue in your threat model? No idea.</div><br/></div></div><div id="42896550" class="c"><input type="checkbox" id="c-42896550" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42895937">prev</a><span>|</span><a href="#42896492">next</a><span>|</span><label class="collapse" for="c-42896550">[-]</label><label class="expand" for="c-42896550">[1 more]</label></div><br/><div class="children"><div class="content">It never meant &quot;don&#x27;t implement AES&#x2F;RSA yourself&quot;. Nobody sane does that; there has never been a need to convince people not to write their own implementations of AES. Ironically, doing your own AES is one of the less-scary freelancing projects you can undertake. Don&#x27;t do it, but the vulnerabilities you&#x27;ll introduce are lower-tier than the ones you get using OpenSSL&#x27;s AES.<p>It has, always, mean &quot;don&#x27;t try to compose new systems using things like AES and RSA as your primitives&quot;. The serious vulnerabilities in cryptosystems are, and always have been, in the joinery (you can probably search the word &quot;joinery&quot; on HN to get a bunch of different fun crypto vulnerabilities here I&#x27;ve commented on).<p>Yes: in the example provided, you rolled your own cryptography. The track record of people building cryptosystems on top of basic signature constructions is awful.</div><br/></div></div><div id="42896492" class="c"><input type="checkbox" id="c-42896492" checked=""/><div class="controls bullet"><span class="by">Ekaros</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42896550">prev</a><span>|</span><a href="#42896186">next</a><span>|</span><label class="collapse" for="c-42896492">[-]</label><label class="expand" for="c-42896492">[1 more]</label></div><br/><div class="children"><div class="content">With signing server level of interaction is the thing that really matters. I would probably say that if you implemented algo doing the signing operation it might be questionable. But if you implemented the key storage fully yourself, it is even more questionable. Or design your HSM module, or just write the keys in plaintext or minimally protected on the disk...<p>Also who designed and implemented checking the appended blob? Also crypto...</div><br/></div></div><div id="42896186" class="c"><input type="checkbox" id="c-42896186" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42896492">prev</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896186">[-]</label><label class="expand" for="c-42896186">[17 more]</label></div><br/><div class="children"><div class="content">I honestly think it&#x27;s a meme born of propaganda. &#x27;Don&#x27;t roll your own&#x27; is good advice a lot of the time when there are hardened libraries at your disposal, but who does it serve if less people <i>know how</i> to build useful cryptography? Three letter agencies mostly. I had no trouble implementing useful algorithms in college as part of my study of it, or understanding different potential weaknesses like timing or known plaintext attacks. We didn&#x27;t cover side channels like power analysis but how often does that actually matter outside of a lab?</div><br/><div id="42896388" class="c"><input type="checkbox" id="c-42896388" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896186">parent</a><span>|</span><a href="#42896421">next</a><span>|</span><label class="collapse" for="c-42896388">[-]</label><label class="expand" for="c-42896388">[1 more]</label></div><br/><div class="children"><div class="content">The fact that you&#x27;re referring to useful <i>algorithms</i> here is kind of a &quot;tell&quot;, for what it&#x27;s worth. &quot;Known plaintext attacks&quot; are not a broad class of vulnerability in cryptosystems; they&#x27;re a <i>setting</i> for attacks. It&#x27;s like saying &quot;I&#x27;ve studied the browser security model including weaknesses such as the same origin policy&quot;.</div><br/></div></div><div id="42896421" class="c"><input type="checkbox" id="c-42896421" checked=""/><div class="controls bullet"><span class="by">scott_w</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896186">parent</a><span>|</span><a href="#42896388">prev</a><span>|</span><a href="#42896339">next</a><span>|</span><label class="collapse" for="c-42896421">[-]</label><label class="expand" for="c-42896421">[3 more]</label></div><br/><div class="children"><div class="content">Learning crypto isnât just a box ticking exercise that you learn it and now youâre qualified to âdo cryptoâ for the rest of your career. I also studied this in university but I know that I donât spend anywhere near enough time to day to avoid, well, any pitfalls of rolling my own crypto.<p>I currently work on our companyâs Auth systems and half my team still side-eyes our own work, despite having worked on this area for years now.</div><br/><div id="42896481" class="c"><input type="checkbox" id="c-42896481" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896421">parent</a><span>|</span><a href="#42896339">next</a><span>|</span><label class="collapse" for="c-42896481">[-]</label><label class="expand" for="c-42896481">[2 more]</label></div><br/><div class="children"><div class="content">All I&#x27;m reading here is more of the same scare-mongering. I don&#x27;t casually implement cryptosystems to be used in critical situations, and I wouldn&#x27;t attempt it without a serious amount of research. But &quot;never do it yourself&quot; is a poor substitute for actually spreading knowledge about how to do it and open discussion of pitfalls. It rubs me the wrong way.</div><br/><div id="42896964" class="c"><input type="checkbox" id="c-42896964" checked=""/><div class="controls bullet"><span class="by">scott_w</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896481">parent</a><span>|</span><a href="#42896339">next</a><span>|</span><label class="collapse" for="c-42896964">[-]</label><label class="expand" for="c-42896964">[1 more]</label></div><br/><div class="children"><div class="content">You do understand ânever do it yourselfâ implicitly applies to a commercial&#x2F;production context, right? Nobody is stopping you learning or choosing to enter the field (to make it your sole professional focus).</div><br/></div></div></div></div></div></div><div id="42896339" class="c"><input type="checkbox" id="c-42896339" checked=""/><div class="controls bullet"><span class="by">xvector</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896186">parent</a><span>|</span><a href="#42896421">prev</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896339">[-]</label><label class="expand" for="c-42896339">[12 more]</label></div><br/><div class="children"><div class="content">No, you can not competently roll your own crypto because you took an algorithms class in college. Even the assumption you could is absurd.</div><br/><div id="42896357" class="c"><input type="checkbox" id="c-42896357" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896339">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896357">[-]</label><label class="expand" for="c-42896357">[11 more]</label></div><br/><div class="children"><div class="content">It wasn&#x27;t &#x27;an algorithms class&#x27; but grad level cryptography. We did implement boxes as a project and were graded on them. Where do you think people learn this stuff? Super secret cryptography school? I even used it. I previously built a secondary layer protocol using diffie hellman that runs <i>on top</i> of TLS such that in the event TLS is broken there&#x27;s still some level of secrecy, and I&#x27;m very confident that it&#x27;s better than nothing. Defense in depth, you know?</div><br/><div id="42896375" class="c"><input type="checkbox" id="c-42896375" checked=""/><div class="controls bullet"><span class="by">xvector</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896357">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896375">[-]</label><label class="expand" for="c-42896375">[10 more]</label></div><br/><div class="children"><div class="content">Yes, most of us have likely taken a grad level cryptography course. Still, that&#x27;s not enough to securely roll your own crypto.<p>You want many years of experience and a community of experts working with you. If you don&#x27;t have that - 99.9999% of devs do not - just use libsodium.</div><br/><div id="42896423" class="c"><input type="checkbox" id="c-42896423" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896375">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896423">[-]</label><label class="expand" for="c-42896423">[9 more]</label></div><br/><div class="children"><div class="content">The arrogance and elitism is wild. I never said people shouldn&#x27;t use libsodium.</div><br/><div id="42896499" class="c"><input type="checkbox" id="c-42896499" checked=""/><div class="controls bullet"><span class="by">xvector</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896423">parent</a><span>|</span><a href="#42896485">next</a><span>|</span><label class="collapse" for="c-42896499">[-]</label><label class="expand" for="c-42896499">[3 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t arrogant or elitist to suggest that no one person should be rolling their own crypto, even if they have taken a grad level cryptography class.<p>For instance, you don&#x27;t expect an aviation engineer to build a brand new plane on their own. They would be missing decades of cumulative knowledge, battle testing, perspectives and knowledge outside of their own. These systems are complex, to the point where taking a grad course is not enough.<p>I have worked with actual experts on cryptography throughout my big tech career - people that have <i>actually written</i> parts of common crypto libraries suggested in this thread - and even they themselves are not interested in writing crypto code. It is an incredibly involved group effort between experienced experts and your first iteration will almost certainly be broken. There is almost never a reason to do this.<p>If you are so confident in your ability to do so, you may simply be a crypto prodigy, and I apologize. You should post your DHE implementation here. If it&#x27;s secure and useful, there shouldn&#x27;t be an issue, and surely the community would benefit from it.</div><br/><div id="42896558" class="c"><input type="checkbox" id="c-42896558" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896499">parent</a><span>|</span><a href="#42896485">next</a><span>|</span><label class="collapse" for="c-42896558">[-]</label><label class="expand" for="c-42896558">[2 more]</label></div><br/><div class="children"><div class="content">Again you&#x27;re mistaking my point. I know enough to know what I don&#x27;t know and the risk involved in doing any serious crypto work, that I can&#x27;t solo build libraries to protect financial transactions or whatever willy-nilly. It&#x27;s obviously a ton of work to get right.<p>What I&#x27;d advocate for instead of &quot;never roll your own crypto&quot; is more like &quot;never use your own crypto in prod&quot;. People are better off knowing more than less and getting their hands a little dirty. I think the former, common message is more like &quot;don&#x27;t even try to understand it,&quot; which is a joke.</div><br/><div id="42896926" class="c"><input type="checkbox" id="c-42896926" checked=""/><div class="controls bullet"><span class="by">xvector</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896558">parent</a><span>|</span><a href="#42896485">next</a><span>|</span><label class="collapse" for="c-42896926">[-]</label><label class="expand" for="c-42896926">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;in prod&quot; is implicit, no one is trying to stop you from learning things.</div><br/></div></div></div></div></div></div><div id="42896485" class="c"><input type="checkbox" id="c-42896485" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896423">parent</a><span>|</span><a href="#42896499">prev</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896485">[-]</label><label class="expand" for="c-42896485">[5 more]</label></div><br/><div class="children"><div class="content">No, instead you said you learned about how to understand &quot;known plaintext attacks&quot;, counting on the average reader of this thread not to know that&#x27;s a content-free claim. One time, in a &quot;graduate level&quot; cryptography class, you even built a protocol using Diffie-Hellman <i>on top of</i> TLS. OK!</div><br/><div id="42896520" class="c"><input type="checkbox" id="c-42896520" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896485">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896520">[-]</label><label class="expand" for="c-42896520">[4 more]</label></div><br/><div class="children"><div class="content">That project wasn&#x27;t for school.</div><br/><div id="42896531" class="c"><input type="checkbox" id="c-42896531" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896520">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896531">[-]</label><label class="expand" for="c-42896531">[3 more]</label></div><br/><div class="children"><div class="content">You provided it as a proof-point of some sort, but I&#x27;ve led lab exercises of freshmen CS students doing the same exercise, so I&#x27;m unclear what it&#x27;s proof of.</div><br/><div id="42896685" class="c"><input type="checkbox" id="c-42896685" checked=""/><div class="controls bullet"><span class="by">smolder</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896531">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896685">[-]</label><label class="expand" for="c-42896685">[2 more]</label></div><br/><div class="children"><div class="content">Proof that you don&#x27;t need to be super-human to build something useful, also demonstrated by your freshman CS student anecdote.</div><br/><div id="42896751" class="c"><input type="checkbox" id="c-42896751" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895883">root</a><span>|</span><a href="#42896685">parent</a><span>|</span><a href="#42896049">next</a><span>|</span><label class="collapse" for="c-42896751">[-]</label><label class="expand" for="c-42896751">[1 more]</label></div><br/><div class="children"><div class="content">Anybody can build a Diffie-Hellman protocol. You can practically do with a calculator; in fact, we did that as an exercise at a talk, with a big audience, using frisbees to &quot;exchange&quot; the keys. But: the talk was about how, as a pentester, to trivially break these systems, because making a system that uses a DH key exchange safely, as opposed to one that simply appears correct in unit tests, is treacherously hard.<p>I&#x27;m still curious about what you could have possibly meant by learning about &quot;weaknesses&quot; like &quot;known-plaintext attacks&quot;. Can you say more?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="42896049" class="c"><input type="checkbox" id="c-42896049" checked=""/><div class="controls bullet"><span class="by">hoilmic</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42896186">prev</a><span>|</span><a href="#42895913">next</a><span>|</span><label class="collapse" for="c-42896049">[-]</label><label class="expand" for="c-42896049">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What should I have done instead?<p>Security has largely to do with trust.<p>When asked who I trust most in this space, the answer is always libsodium.<p>I leave as much of the protocol as possible to their implementation.<p><a href="https:&#x2F;&#x2F;doc.libsodium.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;doc.libsodium.org&#x2F;</a></div><br/></div></div><div id="42895913" class="c"><input type="checkbox" id="c-42895913" checked=""/><div class="controls bullet"><span class="by">LPisGood</span><span>|</span><a href="#42895883">parent</a><span>|</span><a href="#42896049">prev</a><span>|</span><a href="#42896109">next</a><span>|</span><label class="collapse" for="c-42895913">[-]</label><label class="expand" for="c-42895913">[1 more]</label></div><br/><div class="children"><div class="content">Cryptographic protocols are algorithms built on cryptographic primitives and they have plenty of footguns.</div><br/></div></div></div></div><div id="42896952" class="c"><input type="checkbox" id="c-42896952" checked=""/><div class="controls bullet"><span class="by">archi42</span><span>|</span><a href="#42895883">prev</a><span>|</span><a href="#42895769">next</a><span>|</span><label class="collapse" for="c-42896952">[-]</label><label class="expand" for="c-42896952">[1 more]</label></div><br/><div class="children"><div class="content">Ah, yes, common people and cryptography. I&#x27;ve recently been in a meeting with industrial people, the topic was securing industrial communication in production lines and such stuff: &quot;Someone told us zero trust means we can establish secure communications between random devices without any root of trust&quot;. I think they plan to eventually standardize something around that. I&#x27;m looking forward to either be pleasantly surprised, or do a side quest to prevent them from making fools of themselves.</div><br/></div></div><div id="42895769" class="c"><input type="checkbox" id="c-42895769" checked=""/><div class="controls bullet"><span class="by">Dibby053</span><span>|</span><a href="#42896952">prev</a><span>|</span><a href="#42895635">next</a><span>|</span><label class="collapse" for="c-42895769">[-]</label><label class="expand" for="c-42895769">[17 more]</label></div><br/><div class="children"><div class="content">The post links to this GitHub issue [1] where the critic explains his issues with the design and the programmer asks him to elaborate on how those crypto issues apply to his implementation. The critic&#x27;s reply does not convince me. It doesn&#x27;t address any points, and refers to some vague idea about &quot;boring cryptography&quot;. In what way is AWS secrets manager or Hashicorp Vault more &quot;obviously secure&quot; than the author&#x27;s 72-line javascript file?<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;gristlabs&#x2F;secrets.js&#x2F;issues&#x2F;2">https:&#x2F;&#x2F;github.com&#x2F;gristlabs&#x2F;secrets.js&#x2F;issues&#x2F;2</a></div><br/><div id="42895902" class="c"><input type="checkbox" id="c-42895902" checked=""/><div class="controls bullet"><span class="by">1970-01-01</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42896014">next</a><span>|</span><label class="collapse" for="c-42895902">[-]</label><label class="expand" for="c-42895902">[2 more]</label></div><br/><div class="children"><div class="content">Great question. AWS secrets and Hashicorp Vault have both been audited by a plethora of agencies (and have passed). GitHub code for someone&#x27;s pet project very likely isn&#x27;t going to pass any of those audits. When something goes wrong in prod, are you going to point your copy of &#x27;some JS code that someone put on the Internet&#x27; and still have a job?<p><a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;secretsmanager&#x2F;latest&#x2F;userguide&#x2F;secretsmanager-compliance.html#:~:text=AWS%20Secrets%20Manager%20has%20undergone%20auditing%20for%20the%20following%20standards%20and%20can%20be%20part%20of%20your%20solution%20when%20you%20need%20to%20obtain%20compliance%20certification." rel="nofollow">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;secretsmanager&#x2F;latest&#x2F;userguide&#x2F;...</a><p><a href="https:&#x2F;&#x2F;www.hashicorp.com&#x2F;trust&#x2F;compliance&#x2F;vault" rel="nofollow">https:&#x2F;&#x2F;www.hashicorp.com&#x2F;trust&#x2F;compliance&#x2F;vault</a></div><br/><div id="42895985" class="c"><input type="checkbox" id="c-42895985" checked=""/><div class="controls bullet"><span class="by">bagels</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42895902">parent</a><span>|</span><a href="#42896014">next</a><span>|</span><label class="collapse" for="c-42895985">[-]</label><label class="expand" for="c-42895985">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, many probably wouldn&#x27;t get fired for that, but small consolation for a breach.</div><br/></div></div></div></div><div id="42896014" class="c"><input type="checkbox" id="c-42896014" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42895902">prev</a><span>|</span><a href="#42895863">next</a><span>|</span><label class="collapse" for="c-42896014">[-]</label><label class="expand" for="c-42896014">[3 more]</label></div><br/><div class="children"><div class="content">The criticism in that issue is pretty bad, I agree. But the crypto in secrets.js is all kinds of bad:<p>The use case is sometime calling this tool to decrypt data received over an unauthenticated channel [0], and the author doesnât seem to get that.  The private key will be used differently depending on whether the untrusted ciphertext starts with &#x27;$&#x27;.  This isnât quite JWTâs alg none issue, but still: never let a message tell you how to authenticate it or decrypt it. Thatâs the <i>keyâs</i> job.<p>This whole mess does not authenticate. It should. Depending on the use case, this could be catastrophic.  And the padding oracle attack may well be real if an attacker can convince the user to try to decrypt a few different messages.<p>Also, for Peteâs sake, itâs 2025. Use libsodium.  Or at least use a KEM and an AEAD.<p>Even the blog post doesnât really explain any of the real issues.<p>[0] One might credibly expect the public key to be sent with some external authentication.  It does not follow that the ciphertext sent back is authenticated.</div><br/><div id="42896279" class="c"><input type="checkbox" id="c-42896279" checked=""/><div class="controls bullet"><span class="by">rendaw</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42896014">parent</a><span>|</span><a href="#42895863">next</a><span>|</span><label class="collapse" for="c-42896279">[-]</label><label class="expand" for="c-42896279">[2 more]</label></div><br/><div class="children"><div class="content">But having bad crypto doesn&#x27;t mean you have to be aggressive... in fact if the critic&#x27;s goal is to actually improve the situation (and not just vent or demonstrate their superiority) then being polite and actually answering the questions might go a long way further to remedy it.</div><br/><div id="42896307" class="c"><input type="checkbox" id="c-42896307" checked=""/><div class="controls bullet"><span class="by">borski</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42896279">parent</a><span>|</span><a href="#42895863">next</a><span>|</span><label class="collapse" for="c-42896307">[-]</label><label class="expand" for="c-42896307">[1 more]</label></div><br/><div class="children"><div class="content">Youâre right. The problem is that after repeating the same thing hundreds of times to different developers you can develop a bit of an anger toward the situation, as you see the same mistakes play out over and over.<p>Iâm not defending it, but I can understand where it comes from.</div><br/></div></div></div></div></div></div><div id="42895863" class="c"><input type="checkbox" id="c-42895863" checked=""/><div class="controls bullet"><span class="by">SomaticPirate</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42896014">prev</a><span>|</span><a href="#42895870">next</a><span>|</span><label class="collapse" for="c-42895863">[-]</label><label class="expand" for="c-42895863">[3 more]</label></div><br/><div class="children"><div class="content">Wow, the smugness of that reply. Responding by calling someone naive and blowing them off despite there being real questions.<p>The âinsecure crypto â that they clearly link to (despite not wanting to put them on blast) was also a bit overdone.
I guess we all are stuck hiring this expert to review our crypto code(under NDA of course) and tell us we really should use AWS KMS.</div><br/><div id="42896011" class="c"><input type="checkbox" id="c-42896011" checked=""/><div class="controls bullet"><span class="by">BigJono</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42895863">parent</a><span>|</span><a href="#42895870">next</a><span>|</span><label class="collapse" for="c-42896011">[-]</label><label class="expand" for="c-42896011">[2 more]</label></div><br/><div class="children"><div class="content">AWS KMS is great product branding. I&#x27;ve never seen another company so accurately capture how it feels to use their product with just the name before.</div><br/><div id="42896494" class="c"><input type="checkbox" id="c-42896494" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42896011">parent</a><span>|</span><a href="#42895870">next</a><span>|</span><label class="collapse" for="c-42896494">[-]</label><label class="expand" for="c-42896494">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also just a profoundly good product. If you can use KMS, you should.</div><br/></div></div></div></div></div></div><div id="42895870" class="c"><input type="checkbox" id="c-42895870" checked=""/><div class="controls bullet"><span class="by">block_dagger</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42895863">prev</a><span>|</span><a href="#42895810">next</a><span>|</span><label class="collapse" for="c-42895870">[-]</label><label class="expand" for="c-42895870">[1 more]</label></div><br/><div class="children"><div class="content">I agree with his comment and would like to add that the critic came across as rude and superior. Instead of answering the devâs question in good faith, they linked to their own blog entry that has the same tone. Is it a cryptographic expert thing to act so rude?</div><br/></div></div><div id="42895810" class="c"><input type="checkbox" id="c-42895810" checked=""/><div class="controls bullet"><span class="by">hatf0</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42895870">prev</a><span>|</span><a href="#42895802">next</a><span>|</span><label class="collapse" for="c-42895810">[-]</label><label class="expand" for="c-42895810">[1 more]</label></div><br/><div class="children"><div class="content">Those arenât even the correct answer for the use-case in question, anywho. What theyâre looking for would actually be sops (<a href="https:&#x2F;&#x2F;github.com&#x2F;getsops&#x2F;sops">https:&#x2F;&#x2F;github.com&#x2F;getsops&#x2F;sops</a>), or age (made by the fantastic Filo Sottile: <a href="https:&#x2F;&#x2F;github.com&#x2F;FiloSottile&#x2F;age">https:&#x2F;&#x2F;github.com&#x2F;FiloSottile&#x2F;age</a>), or, hell, just using libsodium sealed boxes. AMS KMS or Vault is perhaps even worse of an answer, Actually</div><br/></div></div><div id="42895802" class="c"><input type="checkbox" id="c-42895802" checked=""/><div class="controls bullet"><span class="by">rendaw</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42895810">prev</a><span>|</span><a href="#42895851">next</a><span>|</span><label class="collapse" for="c-42895802">[-]</label><label class="expand" for="c-42895802">[1 more]</label></div><br/><div class="children"><div class="content">And the critic&#x27;s only argument is a link to their own blog...</div><br/></div></div><div id="42895851" class="c"><input type="checkbox" id="c-42895851" checked=""/><div class="controls bullet"><span class="by">maqp</span><span>|</span><a href="#42895769">parent</a><span>|</span><a href="#42895802">prev</a><span>|</span><a href="#42895635">next</a><span>|</span><label class="collapse" for="c-42895851">[-]</label><label class="expand" for="c-42895851">[5 more]</label></div><br/><div class="children"><div class="content">&gt;It doesn&#x27;t address any points<p>Taking some time to point out the vulnerability is already charity work. Assuming that&#x27;s also a commitment to a free lecture on how the attacks work, and another hour of free consultation to look into the codebase to see if an attack could be mounted, is a bit too much to ask.<p>Cryptography is a funny field in that cribs often lead to breaks. So even if the attack vector pointed out doesn&#x27;t lead to complete break immediately, who&#x27;s to know it won&#x27;t eventually if code is being YOLOed in.<p>The fact the author is making such a novice mistake as unauthenticated CBC, shows they have not read a single book on the topic should not yet be writing cryptographic code for production use.</div><br/><div id="42895929" class="c"><input type="checkbox" id="c-42895929" checked=""/><div class="controls bullet"><span class="by">LPisGood</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42895851">parent</a><span>|</span><a href="#42895635">next</a><span>|</span><label class="collapse" for="c-42895929">[-]</label><label class="expand" for="c-42895929">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Taking some time to point out the vulnerability is already charity work<p>Sure, but if youâre not going to reason why the vulnerability youâre pointing out is an issue or respond well to questions then itâs almost as bad as doing nothing at all.<p>A non expert could leave the same Maintainers on many Github pages. Developers canât be expected to blindly believe every reply with a snarky tone and a blog link?</div><br/><div id="42896083" class="c"><input type="checkbox" id="c-42896083" checked=""/><div class="controls bullet"><span class="by">danparsonson</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42895929">parent</a><span>|</span><a href="#42896193">next</a><span>|</span><label class="collapse" for="c-42896083">[-]</label><label class="expand" for="c-42896083">[1 more]</label></div><br/><div class="children"><div class="content">If the snarky comment is &quot;your crypto implementation is bad&quot;, then, yes, I would always take that seriously. If I really know what I&#x27;m doing then I&#x27;ll be able to refute the comment; if not, then I probably should be using an audited library anyway.<p>Mistakes in crypto implementation can be extremely subtle, and the exact nature of a vulnerability difficult to pin down without a lot of work. That&#x27;s why the usual advice is just &quot;don&#x27;t do it yourself&quot;; the path to success is narrow and leads through a minefield.</div><br/></div></div><div id="42896193" class="c"><input type="checkbox" id="c-42896193" checked=""/><div class="controls bullet"><span class="by">maqp</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42895929">parent</a><span>|</span><a href="#42896083">prev</a><span>|</span><a href="#42896100">next</a><span>|</span><label class="collapse" for="c-42896193">[-]</label><label class="expand" for="c-42896193">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Developers canât be expected to blindly believe every reply with a snarky tone and a blog link?<p>Developers are adults with responsibility to know the basics of what they&#x27;re getting into, and you don&#x27;t have to get too far into cryptography to learn you&#x27;re dealing with &#x27;nightmare magic math that cares about the color of the pencil you write it with&#x27;, and that you don&#x27;t do stuff you&#x27;ve not read about and understood. Another basic principle is that you always use best practices unless you know why you&#x27;re deviating.<p>The person who replied to that issue clearly understands some of the basics, or they at least googled around, since they said &quot;Padding oracle attacks -- doesn&#x27;t this require the ability to repeatedly submit different ciphertext for decryption to someone who knows the key?&quot;<p>In what college course or book is padding oracle described without mentioning how it&#x27;s mitigated, I have no idea. Even Wikipedia article on padding oracle attacks says it clearly: &quot;The CBC-R attack will not work against an encryption scheme that authenticates ciphertext (using a message authentication code or similar) before decrypting.&quot;<p>The way security is proved in cryptography, is often we give the attacker more powers than they have, and show it&#x27;s secure regardless. The best practices include the notion that you do things in a way that categorically eliminates attacks. You don&#x27;t argue about &#x27;is padding oracle applicable to the scenario&#x27;, you use message authentication codes (or preferably AE-scheme like GCM instead of CBC-HMAC) to show you know what you&#x27;re doing and to show it&#x27;s not possible.<p>If it is possible and you leave it like that because the reporter values their time, and they won&#x27;t bother, an attacker won&#x27;t mind writing the exploit code, they already know from the open source it&#x27;s going to work.</div><br/></div></div><div id="42896100" class="c"><input type="checkbox" id="c-42896100" checked=""/><div class="controls bullet"><span class="by">1970-01-01</span><span>|</span><a href="#42895769">root</a><span>|</span><a href="#42895929">parent</a><span>|</span><a href="#42896193">prev</a><span>|</span><a href="#42895635">next</a><span>|</span><label class="collapse" for="c-42896100">[-]</label><label class="expand" for="c-42896100">[1 more]</label></div><br/><div class="children"><div class="content">It probably is stemming from the fact that cryptography needs to be perfect code to guarantee total confidentiality with complete integrity. Without this goal of writing perfect code, that always encrypts and decrypts, but <i>only</i> for the keyholder(s), they&#x27;re simply begging to get things wrong <i>and</i> waste time.</div><br/></div></div></div></div></div></div></div></div><div id="42895635" class="c"><input type="checkbox" id="c-42895635" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895769">prev</a><span>|</span><a href="#42895832">next</a><span>|</span><label class="collapse" for="c-42895635">[-]</label><label class="expand" for="c-42895635">[8 more]</label></div><br/><div class="children"><div class="content">This is a relatively long post that is kind of beating around the bush: these developers believed that OpenSSL was a trustworthy substrate on which to build a custom cryptosystem. It&#x27;s not; this is why libraries like Tink and Sodium exist. They don&#x27;t really need much more lecturing than &quot;stop trying to build on OpenSSL&#x27;s APIs.&quot;</div><br/><div id="42895836" class="c"><input type="checkbox" id="c-42895836" checked=""/><div class="controls bullet"><span class="by">arthurcolle</span><span>|</span><a href="#42895635">parent</a><span>|</span><a href="#42895832">next</a><span>|</span><label class="collapse" for="c-42895836">[-]</label><label class="expand" for="c-42895836">[7 more]</label></div><br/><div class="children"><div class="content">tptacek I don&#x27;t want to waste your time, but do you have any good recommendations for material that bridges the gap between modern deployed cryptosystems and the current SOTA quantum computing world in enough detail that is useful for an engineer practitioner preparing for next 10 years?</div><br/><div id="42895939" class="c"><input type="checkbox" id="c-42895939" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895635">root</a><span>|</span><a href="#42895836">parent</a><span>|</span><a href="#42895832">next</a><span>|</span><label class="collapse" for="c-42895939">[-]</label><label class="expand" for="c-42895939">[6 more]</label></div><br/><div class="children"><div class="content">Nope. It&#x27;s at times like these I&#x27;m glad I&#x27;ve never claimed I was competent to design cryptosystems. I&#x27;m a pentester that happens to be able to read ~30% of published crypto attack papers. My advice is: ask Deirdre Connolly.<p>My standard answer on PQC about about the quantum threat is: &quot;rodents of unusual size? I don&#x27;t think they exist.&quot;</div><br/><div id="42896075" class="c"><input type="checkbox" id="c-42896075" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#42895635">root</a><span>|</span><a href="#42895939">parent</a><span>|</span><a href="#42895832">next</a><span>|</span><label class="collapse" for="c-42896075">[-]</label><label class="expand" for="c-42896075">[5 more]</label></div><br/><div class="children"><div class="content">I have become a bit of a cryptographer (after running a cryptography-related company for a while), and aside from joke thought experiments, I am one of the most conservative cryptographic programmers I know.<p>I&#x27;m personally pretty skeptical that the first round of PQC algorithms have no classically-exploitable holes, and I have seen no evidence as of yet that anyone is close to developing a computer of any kind (quantum or classical) capable of breaking 16k RSA or ECC on P-521. The problem I personally have is that the lattice-based algorithms are a hair too mathematically clever for my taste.<p>The standard line is around store-now-decrypt-later, though, and I think it&#x27;s a legitimate one if you have information that will need to be secret in 10-20 years. People rarely have that kind of information, though.</div><br/><div id="42896643" class="c"><input type="checkbox" id="c-42896643" checked=""/><div class="controls bullet"><span class="by">Perseids</span><span>|</span><a href="#42895635">root</a><span>|</span><a href="#42896075">parent</a><span>|</span><a href="#42896116">next</a><span>|</span><label class="collapse" for="c-42896643">[-]</label><label class="expand" for="c-42896643">[3 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m personally pretty skeptical that the first round of PQC algorithms have no classically-exploitable holes<p>I was of the impression that this was the majority opinion. Is there any serious party that <i>doesn&#x27;t</i> advocate hybrid schemes where you need to break both well-worn ECC <i>and</i> PQC to get anywhere?<p>&gt; The standard line is around store-now-decrypt-later, though, and I think it&#x27;s a legitimate one if you have information that will need to be secret in 10-20 years. People rarely have that kind of information, though.<p>The stronger argument, in my opinion, is that some industries move glacially slow. If we don&#x27;t start pushing now, they won&#x27;t be any kind ready when (&#x2F;if) quantum computing attacks become feasible. Take industrial automation: Implementing strong authentication &#x2F; integrity protection, versatile authorization and reasonable encryption into what would elsewhere be called IoT is <i>just now</i> becoming an trend. State-of-the-art is still &quot;put everything inside a VPN and we&#x27;re good&quot;. These devices usually have an expected operational time of at least a decade, often more than one.<p>To also give the most prominent counter argument: Quantum computing threats are far from my greatest concerns in these areas. The most important contribution to &quot;quantum readiness&quot;[1] is just making it feasible to update these devices at all, once they are installed at the customer.<p>[1] Marketing is its own kind of hell. Some circles have begun to use &quot;cyber&quot; interchangeable with &quot;IT Security&quot; â not &quot;cyber security&quot; mind you, just &quot;cyber&quot;.</div><br/><div id="42896776" class="c"><input type="checkbox" id="c-42896776" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895635">root</a><span>|</span><a href="#42896643">parent</a><span>|</span><a href="#42896116">next</a><span>|</span><label class="collapse" for="c-42896776">[-]</label><label class="expand" for="c-42896776">[2 more]</label></div><br/><div class="children"><div class="content">Yes: there are reasonable, reputable cryptographers who advocate against hybrid cryptosystems.</div><br/><div id="42896905" class="c"><input type="checkbox" id="c-42896905" checked=""/><div class="controls bullet"><span class="by">Perseids</span><span>|</span><a href="#42895635">root</a><span>|</span><a href="#42896776">parent</a><span>|</span><a href="#42896116">next</a><span>|</span><label class="collapse" for="c-42896905">[-]</label><label class="expand" for="c-42896905">[1 more]</label></div><br/><div class="children"><div class="content">Could you be so kind to provide a link or reference? I&#x27;d like to read their reasoning. Given the novelty of e.g. Kyber, just relying on it alone seems bonkers.</div><br/></div></div></div></div></div></div><div id="42896116" class="c"><input type="checkbox" id="c-42896116" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#42895635">root</a><span>|</span><a href="#42896075">parent</a><span>|</span><a href="#42896643">prev</a><span>|</span><a href="#42895832">next</a><span>|</span><label class="collapse" for="c-42896116">[-]</label><label class="expand" for="c-42896116">[1 more]</label></div><br/><div class="children"><div class="content">I agree. (I&#x27;m a quantum skeptic personally.)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42895832" class="c"><input type="checkbox" id="c-42895832" checked=""/><div class="controls bullet"><span class="by">biimugan</span><span>|</span><a href="#42895635">prev</a><span>|</span><a href="#42896016">next</a><span>|</span><label class="collapse" for="c-42895832">[-]</label><label class="expand" for="c-42895832">[2 more]</label></div><br/><div class="children"><div class="content">Only tangential to this post, but if you need a way to share secrets with your teams (or whoever), Hashicorp Vault is pretty decent. They don&#x27;t even need login access. Instead of sharing secret values directly, you wrap the secret which generates a one-time unwrapping token with a TTL. You share this unwrapping token over a traditional communication method like Slack or e-mail or whatever, and the recipient uses Vault&#x27;s unwrap tool to retrieve the secret. Since the unwrapping token is one time use, you can easily detect if someone intercepted the token and unwrapped the secret (by virtue of the unwrapping token no longer working). This hint tells you the secret was compromised and needs to be rotated (you just need to follow-up with the person to confirm they were able to retrieve the secret). And since you can set a TTL, you can place an expectation on the recipient too -- for example, that you expect them to retrieve the secret within 10 minutes or else the unwrapping token expires.<p>All of this has the added benefit that you&#x27;re not sharing ciphertext over open channels (which could be intercepted and stored for future decryption by adversaries).</div><br/><div id="42896407" class="c"><input type="checkbox" id="c-42896407" checked=""/><div class="controls bullet"><span class="by">nejsjsjsbsb</span><span>|</span><a href="#42895832">parent</a><span>|</span><a href="#42896016">next</a><span>|</span><label class="collapse" for="c-42896407">[-]</label><label class="expand" for="c-42896407">[1 more]</label></div><br/><div class="children"><div class="content">I like this. Can you add yubikey as another factor?<p>Where I work we never need this though, we have a jwt server that can serve a time limited token for work account that various systems can accept.</div><br/></div></div></div></div><div id="42896016" class="c"><input type="checkbox" id="c-42896016" checked=""/><div class="controls bullet"><span class="by">RainyDayTmrw</span><span>|</span><a href="#42895832">prev</a><span>|</span><a href="#42896130">next</a><span>|</span><label class="collapse" for="c-42896016">[-]</label><label class="expand" for="c-42896016">[2 more]</label></div><br/><div class="children"><div class="content">I have empathy for people who end up stuck in the in-between areas, where out-of-the-box building blocks solve part of their problem, but how to glue them together can still get tricky.<p>For one example, you&#x27;ve got a shared secret. Can you use it as a secret key? Do you have to feed it through a KDF first? Can you use the same key for both encryption and signing? Do you have to derive separate keys?</div><br/><div id="42896770" class="c"><input type="checkbox" id="c-42896770" checked=""/><div class="controls bullet"><span class="by">erinaceousjones</span><span>|</span><a href="#42896016">parent</a><span>|</span><a href="#42896130">next</a><span>|</span><label class="collapse" for="c-42896770">[-]</label><label class="expand" for="c-42896770">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m in that boat.  I&#x27;m watching all of Christoph Paar&#x27;s cryptography lecture series on YouTube -- it was recorded in 2010, so I do wonder if it&#x27;s missing any new state of the art &#x2F; best practises.<p>I&#x27;m like 18 lectures in, two out of three semesters.  And I still feel like I have only the vaguest ideas what the primitives are, how they work, what they&#x27;re for, and their weaknesses.  I&#x27;m having to follow all the mathematics as someone not mathematically inclined (Prof Paar did do a good job of making the mathematics fairly accessible though).<p>All of this so I can have a bit more confidence in proposing E2E for a project at some point in future (before somebody asks us to, too late).<p>And my use-case makes it difficult to follow the most trodden paths so I can&#x27;t just plug in a handshake protocol and MACs and elliptic curves or &quot;just use PGP&quot; or whatever.<p>As a software dev, I have all these boxes I <i>could</i> use, that come with so many caveats &quot;if you do this, but don&#x27;t do this, no do that, don&#x27;t do that&quot;...  It&#x27;s very tricky trying to work out how to glue the pieces together without already being <i>in</i> the field of crypto.  Feels like I&#x27;ll always be missing some crucial piece of information I&#x27;d get if I pored over hundreds of textbooks and papers but I don&#x27;t have the resources to do so!<p>I&#x27;d love if someone did like, a plain English recipe book for cryptography!  Give the mathematical proof of stuff, but <i>also</i> explain the strengths&#x2F;weaknesses&#x2F;possible attacks to laypeople without the prerequisite that you need to understand ring modulus or Galois fields or whatever first. Or, like, flowcharts to follow!</div><br/></div></div></div></div><div id="42896130" class="c"><input type="checkbox" id="c-42896130" checked=""/><div class="controls bullet"><span class="by">markus_zhang</span><span>|</span><a href="#42896016">prev</a><span>|</span><a href="#42895818">next</a><span>|</span><label class="collapse" for="c-42896130">[-]</label><label class="expand" for="c-42896130">[1 more]</label></div><br/><div class="children"><div class="content">My optimistic opinion is that since our information is being leaked left and right, it doesn&#x27;t matter whether we roll the algo by ourselves or not. Might as well do it for practice...<p>Quote from the Honorable MI5 head:<p>&gt; I mean, with Burgess and Maclean and Philby and Blake and Fuchs and the Krogers... one more didn&#x27;t really make much more difference.</div><br/></div></div><div id="42895818" class="c"><input type="checkbox" id="c-42895818" checked=""/><div class="controls bullet"><span class="by">TheCleric</span><span>|</span><a href="#42896130">prev</a><span>|</span><a href="#42896250">next</a><span>|</span><label class="collapse" for="c-42895818">[-]</label><label class="expand" for="c-42895818">[2 more]</label></div><br/><div class="children"><div class="content">I think one of the reasons developers roll their âownâ crypto code is because there doesnât really seem like a simple âdo it this wayâ way to do it. OpenSSL has hundreds of ways of doing encryption. So it almost has pitfalls by default, because of the complexity of the choices.</div><br/></div></div><div id="42896250" class="c"><input type="checkbox" id="c-42896250" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#42895818">prev</a><span>|</span><a href="#42895824">next</a><span>|</span><label class="collapse" for="c-42896250">[-]</label><label class="expand" for="c-42896250">[3 more]</label></div><br/><div class="children"><div class="content">My question is, why does the library even support AES-CBC? I know that it&#x27;s OpenSSL here but why can&#x27;t we have an additional library then that ships only the recommended encryption schemes, safe curves, etc. and deprecates obsolete practices in an understandable process?
Something that is aimed at developers and also comes with good documentation on why it supports what it does.</div><br/><div id="42896570" class="c"><input type="checkbox" id="c-42896570" checked=""/><div class="controls bullet"><span class="by">Ekaros</span><span>|</span><a href="#42896250">parent</a><span>|</span><a href="#42895824">next</a><span>|</span><label class="collapse" for="c-42896570">[-]</label><label class="expand" for="c-42896570">[2 more]</label></div><br/><div class="children"><div class="content">Legacy. You rarely only touch new stuff or secure stuff. And instead end up at least with one scenario that requires you do something with old stuff. And this is not just crypto.</div><br/><div id="42896746" class="c"><input type="checkbox" id="c-42896746" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#42896250">root</a><span>|</span><a href="#42896570">parent</a><span>|</span><a href="#42895824">next</a><span>|</span><label class="collapse" for="c-42896746">[-]</label><label class="expand" for="c-42896746">[1 more]</label></div><br/><div class="children"><div class="content">I get that. But then, keeping that legacy stuff running is just as problematic as rolling your own crypto. We can leave OpenSSL as it is but it shouldn&#x27;t be the popular recommendation for developers.<p>They should have another library which, like I said, actively deprecates obsolete and insecure practices but in a way that makes the update process digestible for people depending on it.</div><br/></div></div></div></div></div></div><div id="42895824" class="c"><input type="checkbox" id="c-42895824" checked=""/><div class="controls bullet"><span class="by">asciii</span><span>|</span><a href="#42896250">prev</a><span>|</span><a href="#42896066">next</a><span>|</span><label class="collapse" for="c-42895824">[-]</label><label class="expand" for="c-42895824">[1 more]</label></div><br/><div class="children"><div class="content">I did not learn a single thing from this article. I did learn quite a bit from the programmer&#x27;s stuff and situation.</div><br/></div></div><div id="42896066" class="c"><input type="checkbox" id="c-42896066" checked=""/><div class="controls bullet"><span class="by">max_</span><span>|</span><a href="#42895824">prev</a><span>|</span><a href="#42896359">next</a><span>|</span><label class="collapse" for="c-42896066">[-]</label><label class="expand" for="c-42896066">[10 more]</label></div><br/><div class="children"><div class="content">The reason why cryptography is so bad.<p>Is this elitist culture in cryptography.<p>Alot of algorithms are described incomprehensively.<p>Let me give you an example.<p>You might get a well documented specification for implementation of ECDSA.<p>But it will lack something very 2 important concepts.<p>1. You should only use it with &quot;safe curves&quot;<p>2. It&#x27;s does provide you with a list of &quot;Safe curves&quot;<p>Same goes for Shamir Secret Sharing. You can know how to implement the algorithm.<p>But there is so much extra &quot;insider knowledge&quot; or &quot;tribal knowledge&quot; that isn&#x27;t obvious to non-cryptographers, that you need, for it to be secure.<p>Such knowledge is often (if not always) not documented. It&#x27;s in obscure forums, papers and blog posts like this one.<p>There is no comprehensive encyclopedia for cryptography algorithms.<p>Developers write bad encryption code because cryptographers have bad documentation.<p>I would blame the cryptographers, not the developers.</div><br/><div id="42896093" class="c"><input type="checkbox" id="c-42896093" checked=""/><div class="controls bullet"><span class="by">cowsaymoo</span><span>|</span><a href="#42896066">parent</a><span>|</span><a href="#42896267">next</a><span>|</span><label class="collapse" for="c-42896093">[-]</label><label class="expand" for="c-42896093">[3 more]</label></div><br/><div class="children"><div class="content">What a coincidence! I was just browsing the Shamir&#x27;s Secret Sharing Wikipedia page 30 seconds ago. There is a python implementation on it and I was worried the same exact thing as you before opening HN. So maybe we could start with that one. Is that code implementation sufficiently secure and well documented?<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Shamir&#x27;s_secret_sharing?wprov=sfti1#Python_code" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Shamir&#x27;s_secret_sharing?wprov=...</a></div><br/><div id="42896124" class="c"><input type="checkbox" id="c-42896124" checked=""/><div class="controls bullet"><span class="by">cassonmars</span><span>|</span><a href="#42896066">root</a><span>|</span><a href="#42896093">parent</a><span>|</span><a href="#42896110">next</a><span>|</span><label class="collapse" for="c-42896124">[-]</label><label class="expand" for="c-42896124">[1 more]</label></div><br/><div class="children"><div class="content">No, it is not.<p>The arithmetic used is not constant time, meaning the actual computational steps involved leak information about the secret, were either the recombination of the shares or the initial splitting were observed via side channels.<p>The arithmetic does not guard against party identifiers being zero or overflowing to zero, although it is not likely to occur when used this way.</div><br/></div></div><div id="42896110" class="c"><input type="checkbox" id="c-42896110" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#42896066">root</a><span>|</span><a href="#42896093">parent</a><span>|</span><a href="#42896124">prev</a><span>|</span><a href="#42896267">next</a><span>|</span><label class="collapse" for="c-42896110">[-]</label><label class="expand" for="c-42896110">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;zkdocs.com" rel="nofollow">https:&#x2F;&#x2F;zkdocs.com</a> has a whole chapter on Shamir&#x27;s Secret Sharing.<p>(Ironically, this stuff <i>is</i> documented, cryptographers just aren&#x27;t good at marketing.)<p><a href="https:&#x2F;&#x2F;www.zkdocs.com&#x2F;docs&#x2F;zkdocs&#x2F;protocol-primitives&#x2F;shamir&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.zkdocs.com&#x2F;docs&#x2F;zkdocs&#x2F;protocol-primitives&#x2F;shami...</a></div><br/></div></div></div></div><div id="42896267" class="c"><input type="checkbox" id="c-42896267" checked=""/><div class="controls bullet"><span class="by">alfiedotwtf</span><span>|</span><a href="#42896066">parent</a><span>|</span><a href="#42896093">prev</a><span>|</span><a href="#42896196">next</a><span>|</span><label class="collapse" for="c-42896267">[-]</label><label class="expand" for="c-42896267">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not insider knowledge, it&#x27;s just the collective experience people have built up over time after discovering issues with classes of ciphers. It would be nice to have a standard checklist that everyone could refer to (think OWASP Top Ten) while reviewing a cryptosystem.</div><br/><div id="42896748" class="c"><input type="checkbox" id="c-42896748" checked=""/><div class="controls bullet"><span class="by">ikiris</span><span>|</span><a href="#42896066">root</a><span>|</span><a href="#42896267">parent</a><span>|</span><a href="#42896196">next</a><span>|</span><label class="collapse" for="c-42896748">[-]</label><label class="expand" for="c-42896748">[1 more]</label></div><br/><div class="children"><div class="content">The checklist is really simple: did you use a verified product or did you try to roll your own and fail?</div><br/></div></div></div></div><div id="42896196" class="c"><input type="checkbox" id="c-42896196" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42896066">parent</a><span>|</span><a href="#42896267">prev</a><span>|</span><a href="#42896359">next</a><span>|</span><label class="collapse" for="c-42896196">[-]</label><label class="expand" for="c-42896196">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand what &quot;blaming&quot; the cryptographers gets you. Your system is either secure or it isn&#x27;t. If you ship something insecure, that&#x27;s on you.</div><br/><div id="42896294" class="c"><input type="checkbox" id="c-42896294" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42896066">root</a><span>|</span><a href="#42896196">parent</a><span>|</span><a href="#42896359">next</a><span>|</span><label class="collapse" for="c-42896294">[-]</label><label class="expand" for="c-42896294">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s definitely degrees of security that I&#x27;m having to constantly remind our security folks of when they aren&#x27;t forced to deal with the costs of having expensive threat models.</div><br/><div id="42896349" class="c"><input type="checkbox" id="c-42896349" checked=""/><div class="controls bullet"><span class="by">xvector</span><span>|</span><a href="#42896066">root</a><span>|</span><a href="#42896294">parent</a><span>|</span><a href="#42896359">next</a><span>|</span><label class="collapse" for="c-42896349">[-]</label><label class="expand" for="c-42896349">[2 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re having to constantly remind your security engineers about &quot;degrees of security,&quot; they may be trying to tell you that your threat model is unsustainably&#x2F;nonsensically&#x2F;dangerously lax.</div><br/><div id="42896408" class="c"><input type="checkbox" id="c-42896408" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42896066">root</a><span>|</span><a href="#42896349">parent</a><span>|</span><a href="#42896359">next</a><span>|</span><label class="collapse" for="c-42896408">[-]</label><label class="expand" for="c-42896408">[1 more]</label></div><br/><div class="children"><div class="content">The part I&#x27;ve been struggling with is getting them to put any threat model in writing that&#x27;s not quote, &quot;everything&quot;.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42896359" class="c"><input type="checkbox" id="c-42896359" checked=""/><div class="controls bullet"><span class="by">ExoticPearTree</span><span>|</span><a href="#42896066">prev</a><span>|</span><a href="#42895857">next</a><span>|</span><label class="collapse" for="c-42896359">[-]</label><label class="expand" for="c-42896359">[1 more]</label></div><br/><div class="children"><div class="content">I think what the author implies is that people should use trusted and vetted crypto libraries, and rollout their own encryption primitives based on some documentation they read from who knows where.<p>Look at OpenSSL for example, even though the people who work on the project know a lot about crypto, they still make big mistakes. Now imagine the average developer trying to build crypto from scratch.</div><br/></div></div><div id="42895857" class="c"><input type="checkbox" id="c-42895857" checked=""/><div class="controls bullet"><span class="by">tombert</span><span>|</span><a href="#42896359">prev</a><span>|</span><a href="#42895684">next</a><span>|</span><label class="collapse" for="c-42895857">[-]</label><label class="expand" for="c-42895857">[1 more]</label></div><br/><div class="children"><div class="content">Nah, hell is being stuck writing Kubernetes configs.</div><br/></div></div><div id="42895684" class="c"><input type="checkbox" id="c-42895684" checked=""/><div class="controls bullet"><span class="by">jasonjayr</span><span>|</span><a href="#42895857">prev</a><span>|</span><a href="#42895846">next</a><span>|</span><label class="collapse" for="c-42895684">[-]</label><label class="expand" for="c-42895684">[9 more]</label></div><br/><div class="children"><div class="content">We were doing an integration with a partner for our customers, and the contact I was working with insisted on using some OpenSSL primitives that were exposed in PHP:<p>(a) they reversed the public + private parts of the key, and were upset when I communicated the public part of the key in cleartext<p>(b) they speced that the string being encrypted could not exceed 8 bytes ......<p>I tried so very hard and very patiently to explain to them what they were doing wrong, but they confidently insisted on their implementation.  To deter fellow devs from trying this, I left loud comments in our code:<p>&gt; So these guys are totally using RSA Crypto wrong.  Though it&#x27;s a PK Crypto
system, they insist on using it backwards, and using signatures to send us
cateencrypted values, and we send encrypted values back to them.  It&#x27;s dumb.  I
suspect someone read through the PHP openssl function list, spotted
RSA_encrypt_private and RSA_decrypt_public and decided to get overly clever.<p>&gt; This consumes a public key, and uses it to &#x27;decrypt&#x27; a signature to recover it&#x27;s original value.<p>&gt; To further deter use, I will not add additional documentation here. Please read                                                                                                                                    and understand the source if you think you need to use this.</div><br/><div id="42896248" class="c"><input type="checkbox" id="c-42896248" checked=""/><div class="controls bullet"><span class="by">Volundr</span><span>|</span><a href="#42895684">parent</a><span>|</span><a href="#42895780">next</a><span>|</span><label class="collapse" for="c-42896248">[-]</label><label class="expand" for="c-42896248">[2 more]</label></div><br/><div class="children"><div class="content">&gt; they reversed the public + private parts of the key<p>Is there a reason this is actually a problem? I always thought the public&#x2F;private key was arbitrary and it was easier and less error prone to give people one key called public and one called private than hand them two keys and say &quot;ok keep one of these a secret&quot;.<p>Don&#x27;t get me wrong, not defending anyone here, just curious is there&#x27;s more to it I don&#x27;t know.</div><br/><div id="42896358" class="c"><input type="checkbox" id="c-42896358" checked=""/><div class="controls bullet"><span class="by">curling_grad</span><span>|</span><a href="#42895684">root</a><span>|</span><a href="#42896248">parent</a><span>|</span><a href="#42895780">next</a><span>|</span><label class="collapse" for="c-42896358">[-]</label><label class="expand" for="c-42896358">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d assume that the value intended for public exponent is used as private key exponent. Typically, public key exponent is very small compared to private key exponent. This means that the private key exponent is very small in their scheme, so attacks such as Wiener&#x27;s attack[0] can be used to break the encryption.<p>Also, I&#x27;d like to add that public exponent is usually fixed to some well-known constant such as 65537, so the attacker might just try brute-forcing when she knows the details of the scheme.<p>[0]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Wiener%27s_attack" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Wiener%27s_attack</a></div><br/></div></div></div></div><div id="42895780" class="c"><input type="checkbox" id="c-42895780" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#42895684">parent</a><span>|</span><a href="#42896248">prev</a><span>|</span><a href="#42895846">next</a><span>|</span><label class="collapse" for="c-42895780">[-]</label><label class="expand" for="c-42895780">[6 more]</label></div><br/><div class="children"><div class="content">Reminds me of a vendor providing an XML-RPC API with their enterprise product. The customer had a requirement that all PII information be encrypted in transit, and this was used used to send personal information about minors.<p>I expected them to simply turn on HTTPS like normal people.<p>Instead after months of effort they came back with XML Encryption. No, <i>not the standardised one</i>, they cooked up the their own bespoke monstrosity with hard-coded RSA keys with both the public and private parts published in their online documentation. The whole thing was base-64 encrypted XML <i>inside</i> more XML.<p>I flat rejected it, but was overruled because nobody involved had the slightest clue what proper encryption is about. It <i>looked</i> complicated and thorough to a lay person, so it was accepted despite my loud objections.<p>This is how thing happen in the real world outside of Silicon Valley.</div><br/><div id="42896036" class="c"><input type="checkbox" id="c-42896036" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#42895684">root</a><span>|</span><a href="#42895780">parent</a><span>|</span><a href="#42895833">next</a><span>|</span><label class="collapse" for="c-42896036">[-]</label><label class="expand" for="c-42896036">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The whole thing was base-64 encrypted XML<p>Surely you mean &quot;base64 encoded&quot;</div><br/><div id="42896539" class="c"><input type="checkbox" id="c-42896539" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#42895684">root</a><span>|</span><a href="#42896036">parent</a><span>|</span><a href="#42895833">next</a><span>|</span><label class="collapse" for="c-42896539">[-]</label><label class="expand" for="c-42896539">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I meant &quot;base-64 encoded encrypted XML&quot;, but I accidentally a word.</div><br/></div></div></div></div><div id="42895833" class="c"><input type="checkbox" id="c-42895833" checked=""/><div class="controls bullet"><span class="by">tbrownaw</span><span>|</span><a href="#42895684">root</a><span>|</span><a href="#42895780">parent</a><span>|</span><a href="#42896036">prev</a><span>|</span><a href="#42896125">next</a><span>|</span><label class="collapse" for="c-42895833">[-]</label><label class="expand" for="c-42895833">[2 more]</label></div><br/><div class="children"><div class="content">The was at least <i>also</i> TLS on top of that, yes?</div><br/><div id="42896179" class="c"><input type="checkbox" id="c-42896179" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#42895684">root</a><span>|</span><a href="#42895833">parent</a><span>|</span><a href="#42896125">next</a><span>|</span><label class="collapse" for="c-42896179">[-]</label><label class="expand" for="c-42896179">[1 more]</label></div><br/><div class="children"><div class="content">Of course not! Plain-text HTTP only, because âthatâs simpler to debugâ.</div><br/></div></div></div></div><div id="42896125" class="c"><input type="checkbox" id="c-42896125" checked=""/><div class="controls bullet"><span class="by">77pt77</span><span>|</span><a href="#42895684">root</a><span>|</span><a href="#42895780">parent</a><span>|</span><a href="#42895833">prev</a><span>|</span><a href="#42895846">next</a><span>|</span><label class="collapse" for="c-42896125">[-]</label><label class="expand" for="c-42896125">[1 more]</label></div><br/><div class="children"><div class="content">And you just know everyone saw you as the out of touch, anal retentive technical nerd that has it out for the real team players.</div><br/></div></div></div></div></div></div><div id="42895846" class="c"><input type="checkbox" id="c-42895846" checked=""/><div class="controls bullet"><span class="by">1970-01-01</span><span>|</span><a href="#42895684">prev</a><span>|</span><a href="#42896500">next</a><span>|</span><label class="collapse" for="c-42895846">[-]</label><label class="expand" for="c-42895846">[4 more]</label></div><br/><div class="children"><div class="content">It really needs to be taught in comp sci classes at this point. Have an entire project dedicated to why rolling your own crypto is at best a waste of time. Students will listen if they need to pass a test on it.</div><br/><div id="42896217" class="c"><input type="checkbox" id="c-42896217" checked=""/><div class="controls bullet"><span class="by">necovek</span><span>|</span><a href="#42895846">parent</a><span>|</span><a href="#42895974">next</a><span>|</span><label class="collapse" for="c-42896217">[-]</label><label class="expand" for="c-42896217">[2 more]</label></div><br/><div class="children"><div class="content">Do you not want to train some of those students to write the improved cryptography of the future?<p>I do agree having a project where you demonstrate problems they introduced (by exploiting them directly, or have another student team be the exploiters) would highlight the risks, but school is about teaching, not about scaring people off.</div><br/><div id="42896341" class="c"><input type="checkbox" id="c-42896341" checked=""/><div class="controls bullet"><span class="by">borski</span><span>|</span><a href="#42895846">root</a><span>|</span><a href="#42896217">parent</a><span>|</span><a href="#42895974">next</a><span>|</span><label class="collapse" for="c-42896341">[-]</label><label class="expand" for="c-42896341">[1 more]</label></div><br/><div class="children"><div class="content">Thatâs what the actual crypto classes are for. If people are intrigued, those are fantastic elective courses.</div><br/></div></div></div></div><div id="42895974" class="c"><input type="checkbox" id="c-42895974" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42895846">parent</a><span>|</span><a href="#42896217">prev</a><span>|</span><a href="#42896500">next</a><span>|</span><label class="collapse" for="c-42895974">[-]</label><label class="expand" for="c-42895974">[1 more]</label></div><br/><div class="children"><div class="content">Giving people more introduction to crypto is a good way to get more handwritten crypto. It&#x27;s part of the fun family of purely mathematical algorithms, alongside hashes, RNGs, and checksums. People make essentially the same mistakes in all of these.</div><br/></div></div></div></div><div id="42896500" class="c"><input type="checkbox" id="c-42896500" checked=""/><div class="controls bullet"><span class="by">ethin</span><span>|</span><a href="#42895846">prev</a><span>|</span><a href="#42895748">next</a><span>|</span><label class="collapse" for="c-42896500">[-]</label><label class="expand" for="c-42896500">[1 more]</label></div><br/><div class="children"><div class="content">I... Don&#x27;t really understand where to draw the line here. I&#x27;m not one to write AES implementations or something. But I did write a Noise implementation in C++ [1]. Does that count as &quot;rolling my own crypto&quot;, even though I did my best to follow the Noise specification to the letter and used an audited cryptographic implementation? And the <i>only</i> reason I did that is because there wasn&#x27;t such an implementation for C++. I won&#x27;t deny that I&#x27;m not an expert of cryptography, but I think this article is a bit extreme, at least from my reading. We can&#x27;t always use &quot;off the shelf&quot; implementations of everything, because maybe one doesn&#x27;t exist, or one exists but it has no license (there are surprisingly a lot of these on GitHub), or it has a license incompatible with your projects license, and so on and so forth. But hey, what do I know?
[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;ethindp&#x2F;noise-cpp">https:&#x2F;&#x2F;github.com&#x2F;ethindp&#x2F;noise-cpp</a></div><br/></div></div><div id="42895748" class="c"><input type="checkbox" id="c-42895748" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#42896500">prev</a><span>|</span><a href="#42895873">next</a><span>|</span><label class="collapse" for="c-42895748">[-]</label><label class="expand" for="c-42895748">[2 more]</label></div><br/><div class="children"><div class="content">The insecurity is freedom. Think of that again when you need to break out of Big Tech&#x27;s control.</div><br/><div id="42896204" class="c"><input type="checkbox" id="c-42896204" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895748">parent</a><span>|</span><a href="#42895873">next</a><span>|</span><label class="collapse" for="c-42896204">[-]</label><label class="expand" for="c-42896204">[1 more]</label></div><br/><div class="children"><div class="content">What? Say more.</div><br/></div></div></div></div><div id="42895873" class="c"><input type="checkbox" id="c-42895873" checked=""/><div class="controls bullet"><span class="by">quotemstr</span><span>|</span><a href="#42895748">prev</a><span>|</span><a href="#42895960">next</a><span>|</span><label class="collapse" for="c-42895873">[-]</label><label class="expand" for="c-42895873">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure the way to get developers to stop writing their own crypto is to turn it into a delicious forbidden fruit edible only by the most virtuous. APIs sometimes have a &quot;Veblen good&quot; character to them: the more difficult, the more use they attract, because people come to see use of the hard API as a demonstration of skill.<p>The right way to stop people writing their own cryptography isn&#x27;t to admonish them or talk up the fiendish difficulty of the field. The right way to make it boring, not worth the effort one would spend to reinvent it.</div><br/></div></div><div id="42895960" class="c"><input type="checkbox" id="c-42895960" checked=""/><div class="controls bullet"><span class="by">foobarkey</span><span>|</span><a href="#42895873">prev</a><span>|</span><a href="#42895633">next</a><span>|</span><label class="collapse" for="c-42895960">[-]</label><label class="expand" for="c-42895960">[2 more]</label></div><br/><div class="children"><div class="content">I know people want to get paid but 90% of crypto is just about making sure the thing takes constant time, please stop acting like it is some elite knowledge</div><br/><div id="42896035" class="c"><input type="checkbox" id="c-42896035" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42895960">parent</a><span>|</span><a href="#42895633">next</a><span>|</span><label class="collapse" for="c-42896035">[-]</label><label class="expand" for="c-42896035">[1 more]</label></div><br/><div class="children"><div class="content">I have an entire crypto book on my shelf that only mentions constant time once in an offhand paragraph about timing attacks. They managed to write the rest of the book on the other 99% of crypto.</div><br/></div></div></div></div><div id="42895633" class="c"><input type="checkbox" id="c-42895633" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#42895960">prev</a><span>|</span><a href="#42895685">next</a><span>|</span><label class="collapse" for="c-42895633">[-]</label><label class="expand" for="c-42895633">[10 more]</label></div><br/><div class="children"><div class="content">The reason overconfident developers roll their own crypto is because the âcryptography expertsâ are such asshats about it. Who wants to deal with someone that writes this?<p>Hell, even identifying which âcryptography expertâ actually knows what theyâre talking about and which ones are windbags is often more trouble than itâs worth.</div><br/><div id="42895745" class="c"><input type="checkbox" id="c-42895745" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#42895633">parent</a><span>|</span><a href="#42895653">next</a><span>|</span><label class="collapse" for="c-42895745">[-]</label><label class="expand" for="c-42895745">[1 more]</label></div><br/><div class="children"><div class="content">I just skimmed the article, but I generally agree. I mean, I get it - I think it&#x27;s actually pretty easy to make an argument &quot;Secure crypto code is exceedingly difficult to get right, even for experts. And unlike lots of other areas of code, there is no &#x27;halfway broken&#x27; - crackable crypto is &#x27;game over&#x27; in a lot of situations, which is why it&#x27;s so dangerous to roll your own.&quot;<p>But there&#x27;s a huge gulf between that message and &quot;Hell Is Overconfident Developers...&quot; And importantly, I don&#x27;t think that &quot;overconfident developers&quot; is the biggest problem. If anything, even when I very much don&#x27;t want to &quot;roll my own&quot; crypto, I&#x27;ve found it difficult to be sure I&#x27;m using crypto libraries correctly and securely. Sometimes libraries are too low-level with non-obvious footguns, or they&#x27;re too &quot;black box&quot; restrictive. I think a great example is the NodeJS crypto library. I think it&#x27;s a great library, but using it correctly requires people to know and understand a fair amount about crypto. Whenever I use node crypto I pretty much always end up writing some utility methods around it (e.g. &quot;encrypt this string using a key to get cipherText&quot; and &quot;decrypt this ciphertext using this key&quot;). I think it would be better if those standard utility wrappers (that do things like use recommended default encryption algorithms&#x2F;strengths, etc.) were also included directly in the crypto library.<p>I think most developers are actually scared of rolling their own crypto, but cryptography experts don&#x27;t make it easy to give them a plug-and-play solution.</div><br/></div></div><div id="42895653" class="c"><input type="checkbox" id="c-42895653" checked=""/><div class="controls bullet"><span class="by">MarcelOlsz</span><span>|</span><a href="#42895633">parent</a><span>|</span><a href="#42895745">prev</a><span>|</span><a href="#42896436">next</a><span>|</span><label class="collapse" for="c-42895653">[-]</label><label class="expand" for="c-42895653">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Hell, even identifying which âcryptography expertâ actually knows what theyâre talking about and which ones are windbags is often more trouble than itâs worth.<p>If they look like they spent too much time in the sun you can&#x27;t trust them. This criteria has yet to fail me.</div><br/></div></div><div id="42896436" class="c"><input type="checkbox" id="c-42896436" checked=""/><div class="controls bullet"><span class="by">oefrha</span><span>|</span><a href="#42895633">parent</a><span>|</span><a href="#42895653">prev</a><span>|</span><a href="#42895636">next</a><span>|</span><label class="collapse" for="c-42896436">[-]</label><label class="expand" for="c-42896436">[1 more]</label></div><br/><div class="children"><div class="content">I kept waiting for actionable advice, like maybe a site somewhere documenting the current best practices on common tasks, say securely implementing the complete lifecycle of encrypted sessions. Got to the end and it seems the advice, if there is one, is to pay some cryptography expert to review my system. And I have no idea if the author is a cryptography expert or an overconfident expert-wanna-be rolling their own crypto advice. So yeah, I agree.<p>Can HN give some actionable advice on dos, not donâts (I already know all the donât like donât use OpenSSL primitives, donât use AES-CBC, blah blah)?</div><br/></div></div><div id="42895636" class="c"><input type="checkbox" id="c-42895636" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42895633">parent</a><span>|</span><a href="#42896436">prev</a><span>|</span><a href="#42895713">next</a><span>|</span><label class="collapse" for="c-42895636">[-]</label><label class="expand" for="c-42895636">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t love the post either but getting angry about it doesn&#x27;t make it less right.</div><br/><div id="42896947" class="c"><input type="checkbox" id="c-42896947" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#42895633">root</a><span>|</span><a href="#42895636">parent</a><span>|</span><a href="#42895713">next</a><span>|</span><label class="collapse" for="c-42896947">[-]</label><label class="expand" for="c-42896947">[1 more]</label></div><br/><div class="children"><div class="content">Iâm not exactly angry at it. Just pointing out the flaw in its argument.<p>Itâs never worked to yell at my junior developers and tell them that âhell is them doing any kind of developmentâ.<p>It works better when I just show them what they should do instead.</div><br/></div></div></div></div><div id="42895735" class="c"><input type="checkbox" id="c-42895735" checked=""/><div class="controls bullet"><span class="by">YZF</span><span>|</span><a href="#42895633">parent</a><span>|</span><a href="#42895713">prev</a><span>|</span><a href="#42895828">next</a><span>|</span><label class="collapse" for="c-42895735">[-]</label><label class="expand" for="c-42895735">[2 more]</label></div><br/><div class="children"><div class="content">The more nuanced message is maybe don&#x27;t write crypto code without having spent the right amount of time to understand the challenges. If you don&#x27;t know about timing attacks, you aren&#x27;t familiar with the many historical mistakes that are well known, you don&#x27;t know any theory around ciphers or hashes, then you probably shouldn&#x27;t be writing crypto code that is used to secure anything important. There are a lot of ways to get up to speed (Coursera&#x27;s cryptography courses from Stanford, books etc.) to at least wrap your head around why this is a problem. Even the experts go through peer review cycles because they know how easy it is to make mistakes.<p>In other news, don&#x27;t print yourself a motorcycle helmet on your 3d printer, don&#x27;t make your own car tires, don&#x27;t make your own break pads. I mean if you really know what you&#x27;re doing maybe.<p>EDIT: I have some personal experience with screwing up some crypto code. I won&#x27;t get into all the details but I was overconfident. And this was after taking graduate level cryptography courses and having spent considerable time keeping up to date. I didn&#x27;t write anything from scratch but I used existing algorithms&#x2F;implementations in a problematic way that left some vulnerability. This was a type of system where just using something off the shelf was not an option.</div><br/><div id="42896958" class="c"><input type="checkbox" id="c-42896958" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#42895633">root</a><span>|</span><a href="#42895735">parent</a><span>|</span><a href="#42895828">next</a><span>|</span><label class="collapse" for="c-42896958">[-]</label><label class="expand" for="c-42896958">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There are a lot of ways to get up to speed<p>None condoned by your employer however. Those tickets need finished yesterday. Security is just a checkmark.</div><br/></div></div></div></div><div id="42895828" class="c"><input type="checkbox" id="c-42895828" checked=""/><div class="controls bullet"><span class="by">Uptrenda</span><span>|</span><a href="#42895633">parent</a><span>|</span><a href="#42895735">prev</a><span>|</span><a href="#42895685">next</a><span>|</span><label class="collapse" for="c-42895828">[-]</label><label class="expand" for="c-42895828">[1 more]</label></div><br/><div class="children"><div class="content">Based comment, updooted. Also, I&#x27;m pretty sure that if nobody ever &quot;rolled their own crypto&quot; we would never have new innovations in cryptography. By OPs argument everyone in the blockchain industry is in a state of error since using applied cryptography to design new protocols is certainly novel. But I would say that these protocols are what made me interested in applied cryptography in the first place. They are astonishingly clever, novel, and show how beautiful cryptography can be. If everyone was too scared to work with cryptographic constructs than none of the innovation that took place around smart contracts would be possible.<p>I see no problem with it if your work gets peer reviewed. The very last point they made though I kind of agree with. If you end up making a new algorithm from scratch that is dangerously novel and potential crack pot territory. I did like how they went to that trouble to make the hierarchy of what is meant by &quot;rolling your own crypto.&quot;</div><br/></div></div></div></div><div id="42895685" class="c"><input type="checkbox" id="c-42895685" checked=""/><div class="controls bullet"><span class="by">Sytten</span><span>|</span><a href="#42895633">prev</a><span>|</span><a href="#42896237">next</a><span>|</span><label class="collapse" for="c-42895685">[-]</label><label class="expand" for="c-42895685">[4 more]</label></div><br/><div class="children"><div class="content">I didnt understand the point he was trying to make about trusting a public key from a remote server. At somepoint you need to trust some third party public key if you want to send them encrypted data and verifying ownership is kinda left to user. Hell even signal does that, who is really checking their contact security numbers to make sure the signal server didnt send you some bullshit...</div><br/><div id="42895701" class="c"><input type="checkbox" id="c-42895701" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#42895685">parent</a><span>|</span><a href="#42896237">next</a><span>|</span><label class="collapse" for="c-42895701">[-]</label><label class="expand" for="c-42895701">[3 more]</label></div><br/><div class="children"><div class="content">&gt;  didnt understand the point he was trying to make about trusting a public key from a remote server.<p>What stops the server from swapping SyttenPK for NSA PK?<p>The operating word of the quote was &quot;just&quot;.<p>&gt; Hell even signal does that, who is really checking their contact security numbers to make sure the signal server didnt send you some bullshit...<p>Their latest code commits include key transparency, which is one good way to address this problem.</div><br/><div id="42895827" class="c"><input type="checkbox" id="c-42895827" checked=""/><div class="controls bullet"><span class="by">Sytten</span><span>|</span><a href="#42895685">root</a><span>|</span><a href="#42895701">parent</a><span>|</span><a href="#42896237">next</a><span>|</span><label class="collapse" for="c-42895827">[-]</label><label class="expand" for="c-42895827">[2 more]</label></div><br/><div class="children"><div class="content">I do get that, but I am not so sure what the real solution is. The industry standard still is some form of &quot;the server sends me a key and I trust it&quot;.<p>Key transparency is not really solving anything for the average person.</div><br/><div id="42895853" class="c"><input type="checkbox" id="c-42895853" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#42895685">root</a><span>|</span><a href="#42895827">parent</a><span>|</span><a href="#42896237">next</a><span>|</span><label class="collapse" for="c-42895853">[-]</label><label class="expand" for="c-42895853">[1 more]</label></div><br/><div class="children"><div class="content">The problem isn&#x27;t &quot;the server sends me a public key&quot;.<p>The problem is there&#x27;s no way to know if the server is lying.</div><br/></div></div></div></div></div></div></div></div><div id="42896237" class="c"><input type="checkbox" id="c-42896237" checked=""/><div class="controls bullet"><span class="by">m3kw9</span><span>|</span><a href="#42895685">prev</a><span>|</span><a href="#42895729">next</a><span>|</span><label class="collapse" for="c-42896237">[-]</label><label class="expand" for="c-42896237">[1 more]</label></div><br/><div class="children"><div class="content">Just add 2 to each char.</div><br/></div></div><div id="42895729" class="c"><input type="checkbox" id="c-42895729" checked=""/><div class="controls bullet"><span class="by">voxelc4L</span><span>|</span><a href="#42896237">prev</a><span>|</span><a href="#42895737">next</a><span>|</span><label class="collapse" for="c-42895729">[-]</label><label class="expand" for="c-42895729">[1 more]</label></div><br/><div class="children"><div class="content">â¦ or any code?</div><br/></div></div><div id="42895737" class="c"><input type="checkbox" id="c-42895737" checked=""/><div class="controls bullet"><span class="by">devmor</span><span>|</span><a href="#42895729">prev</a><span>|</span><a href="#42895804">next</a><span>|</span><label class="collapse" for="c-42895737">[-]</label><label class="expand" for="c-42895737">[1 more]</label></div><br/><div class="children"><div class="content">s&#x2F;Encryption&#x2F;Security<p>Roll-your-own cryptography is definitely the worst of it, but even developers that use strong crypto libraries end up misusing them quite often.<p>I have worked on a <i>lot</i> of custom made web software, and I could count the number of in-house authentication or authorization systems that <i>didn&#x27;t</i> have glaring issues on one hand.<p>After nearly 12 years of working in this field, I would consider myself extremely knowledgeable in web security and I still don&#x27;t think I&#x27;d be comfortable writing a lot of these types of systems for production use without an outside analyst to double check my work. Unless you&#x27;re a domain expert in security, you probably shouldn&#x27;t either.</div><br/></div></div><div id="42895804" class="c"><input type="checkbox" id="c-42895804" checked=""/><div class="controls bullet"><span class="by">jhack</span><span>|</span><a href="#42895737">prev</a><span>|</span><a href="#42895631">next</a><span>|</span><label class="collapse" for="c-42895804">[-]</label><label class="expand" for="c-42895804">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget to rand(rand()).</div><br/></div></div><div id="42896600" class="c"><input type="checkbox" id="c-42896600" checked=""/><div class="controls bullet"><span class="by">Uptrenda</span><span>|</span><a href="#42895631">prev</a><span>|</span><label class="collapse" for="c-42896600">[-]</label><label class="expand" for="c-42896600">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, devs aren&#x27;t meant to roll their own crypto (tm) but most open source libraries for doing crypto are dangerous (and lack clear guide lines for using them.) So then, what do you expect people to do? OpenSSL is hugely over complicated and hard to use. Having it as a dep almost certainly means breaking your software at some point, too. Libsodium is damn good but you still have to go out of your way to work with it if you&#x27;re not using its baby-tier box design.<p>There are safe &#x2F; standard ways to use certain primitives. But then there&#x27;s no guarantee that such algorithms will be made available in the libraries that you&#x27;re trying to use. E.g. lets say you want to use RSA (for x509 certs or something like that.) You&#x27;ll get access to RSA but no algorithm to handle padding and no mention of it. So the dev uses RSA as-is and then gets a lecture for padding.<p>Point is: I don&#x27;t see many &quot;cryptography experts&quot; putting effort into improving developer documentation resources for libraries. But plenty of them ranting and acting butthurt that developers aren&#x27;t educated enough to use the primitives. The same crypto experts will also release these libraries and then cry that people use them. Lol, lmao even?</div><br/><div id="42896637" class="c"><input type="checkbox" id="c-42896637" checked=""/><div class="controls bullet"><span class="by">soatok</span><span>|</span><a href="#42896600">parent</a><span>|</span><label class="collapse" for="c-42896637">[-]</label><label class="expand" for="c-42896637">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I don&#x27;t see many &quot;cryptography experts&quot; putting effort into improving developer documentation resources for libraries.<p>This isn&#x27;t a &quot;documentation resources for libraries&quot; problem. It&#x27;s a <i>what libraries get bundled into the &quot;crypto&quot; module for your programming language</i> problem, and that&#x27;s largely a political decision rather than a technical one.<p>For example: Node&#x27;s crypto module will always be a thin wrapper around OpenSSL, due to backwards compatibility. I cannot change that reality. There will always be a way to shoot yourself in the foot with Node.js&#x27;s crypto module, and that is what most developers will reach for.<p>Even if I introduce new APIs for Node crypto and update the official docs to recommend the newer, safer ways of doing things, I won&#x27;t be able to update the long tail of Stack Overflow answers with 10+ years of incumbency and hundreds of upvotes. This was tried years ago in the PHP community, and you still find bad PHP code everywhere.<p>Updating the developer documentation only serves to blame the poor user when they fuck up, so you can dismiss their pain with &quot;RTFM&quot;.<p>&gt; But plenty of them ranting and acting butthurt that developers aren&#x27;t educated enough to use the primitives. The same crypto experts will also release these libraries and then cry that people use them.<p>I have never contributed a line of code to OpenSSL. You do not hear Eric A Young &quot;ranting and acting butthurt&quot;. What empirical evidence do you have for this assertion?</div><br/></div></div></div></div></div></div></div></div></div></body></html>