<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695200461593" as="style"/><link rel="stylesheet" href="styles.css?v=1695200461593"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://portswigger.net/research/smashing-the-state-machine">Smashing the state machine: the true potential of web race conditions</a>Â <span class="domain">(<a href="https://portswigger.net">portswigger.net</a>)</span></div><div class="subtext"><span>chatmasta</span> | <span>6 comments</span></div><br/><div><div id="37581686" class="c"><input type="checkbox" id="c-37581686" checked=""/><div class="controls bullet"><span class="by">aidos</span><span>|</span><a href="#37581635">next</a><span>|</span><label class="collapse" for="c-37581686">[-]</label><label class="expand" for="c-37581686">[1 more]</label></div><br/><div class="children"><div class="content">Hadn&#x27;t thought about the possibility of using http&#x2F;2 in order to generate race conditions. Nice. Interesting trick.<p>Years ago, Stripe had a capture the flag related to distributed systems (I believe it was the second one they ran). One of the final levels involved attacking a system that would make calls to 3 other systems in turn that each held part of the key before calling back to your webhook. You could tell how many systems it had spoken to by watching for incremented port numbers between the requests.<p>I got killed by the jitter, but I seem to recall someone saying there was a way to stream your requests at a lower lower level on the same socket. Caveat, 10 years ago, details hazy.<p>Found the HN thread from the time though <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=4453857">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=4453857</a></div><br/></div></div><div id="37581635" class="c"><input type="checkbox" id="c-37581635" checked=""/><div class="controls bullet"><span class="by">imetatroll</span><span>|</span><a href="#37581686">prev</a><span>|</span><a href="#37581871">next</a><span>|</span><label class="collapse" for="c-37581635">[-]</label><label class="expand" for="c-37581635">[2 more]</label></div><br/><div class="children"><div class="content">What I love about this is that http&#x2F;2 which is non-trivial compared to http&#x2F;1.1 allows this to happen.  The same http&#x2F;2 that, in my opinion, takes away from the beauty of the web.</div><br/><div id="37581794" class="c"><input type="checkbox" id="c-37581794" checked=""/><div class="controls bullet"><span class="by">albinowax_</span><span>|</span><a href="#37581635">parent</a><span>|</span><a href="#37581871">next</a><span>|</span><label class="collapse" for="c-37581794">[-]</label><label class="expand" for="c-37581794">[1 more]</label></div><br/><div class="children"><div class="content">At least HTTP&#x2F;2 pretty much kills request smuggling (assuming there&#x27;s no downgrading behind the scenes)</div><br/></div></div></div></div><div id="37581871" class="c"><input type="checkbox" id="c-37581871" checked=""/><div class="controls bullet"><span class="by">1vuio0pswjnm7</span><span>|</span><a href="#37581635">prev</a><span>|</span><a href="#37580861">next</a><span>|</span><label class="collapse" for="c-37581871">[-]</label><label class="expand" for="c-37581871">[1 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;2 is nightmarish.</div><br/></div></div><div id="37580861" class="c"><input type="checkbox" id="c-37580861" checked=""/><div class="controls bullet"><span class="by">rob-olmos</span><span>|</span><a href="#37581871">prev</a><span>|</span><label class="collapse" for="c-37580861">[-]</label><label class="expand" for="c-37580861">[1 more]</label></div><br/><div class="children"><div class="content">Post on ACIDRain as an example of the ecomm time-gap issue back in the day: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=20027532">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=20027532</a></div><br/></div></div></div></div></div></div></div></body></html>