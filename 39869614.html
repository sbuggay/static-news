<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711789269389" as="style"/><link rel="stylesheet" href="styles.css?v=1711789269389"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.dzombak.com/blog/2024/03/Running-a-Raspberry-Pi-with-a-read-only-root-filesystem.html">Running a Raspberry Pi with a read-only root filesystem</a> <span class="domain">(<a href="https://www.dzombak.com">www.dzombak.com</a>)</span></div><div class="subtext"><span>ingve</span> | <span>46 comments</span></div><br/><div><div id="39871093" class="c"><input type="checkbox" id="c-39871093" checked=""/><div class="controls bullet"><span class="by">st_goliath</span><span>|</span><a href="#39872883">next</a><span>|</span><label class="collapse" for="c-39871093">[-]</label><label class="expand" for="c-39871093">[2 more]</label></div><br/><div class="children"><div class="content">Surprisingly, the article doesn&#x27;t seem to mention SquashFS[1] or EROFS[2].<p>Both SquashFS and EROFS are filesystem <i>specifically designed</i> for this kind of embedded, read-only use case. The former is optimized for high data density and compression, and already well established. The later is comparatively new and optimized for high read speed.[3] SquashFS as a rootfs can already be found in many embedded applications using flash storage and is typically also combined with tmpfs and persistent storage mount points or overlay mounts.<p>For both those filesystems, one would build a rootfs image offline. In the Debian ecosystem, there already exists a tool that can bootstrap a Debian image into SquashFS[4].<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;SquashFS" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;SquashFS</a><p>[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;EROFS" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;EROFS</a><p>[3] <a href="https:&#x2F;&#x2F;www.sigma-star.at&#x2F;blog&#x2F;2022&#x2F;07&#x2F;squashfs-erofs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.sigma-star.at&#x2F;blog&#x2F;2022&#x2F;07&#x2F;squashfs-erofs&#x2F;</a><p>[4] <a href="https:&#x2F;&#x2F;manpages.debian.org&#x2F;testing&#x2F;mmdebstrap&#x2F;mmdebstrap.1.en.html" rel="nofollow">https:&#x2F;&#x2F;manpages.debian.org&#x2F;testing&#x2F;mmdebstrap&#x2F;mmdebstrap.1....</a></div><br/><div id="39871422" class="c"><input type="checkbox" id="c-39871422" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#39871093">parent</a><span>|</span><a href="#39872883">next</a><span>|</span><label class="collapse" for="c-39871422">[-]</label><label class="expand" for="c-39871422">[1 more]</label></div><br/><div class="children"><div class="content">I have a pi or two running openwrt, which does this naturally.<p>I also have a pi running pikvm.  You change the filesystem by doing:<p><pre><code>  # rw   &lt;-- makes filesystem read&#x2F;write
  # (change config, or commands making filesystem changes)
  # ro   &lt;-- back to read-only</code></pre></div><br/></div></div></div></div><div id="39872883" class="c"><input type="checkbox" id="c-39872883" checked=""/><div class="controls bullet"><span class="by">manuel_w</span><span>|</span><a href="#39871093">prev</a><span>|</span><a href="#39871431">next</a><span>|</span><label class="collapse" for="c-39872883">[-]</label><label class="expand" for="c-39872883">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s one (not always but often enough) viable alternative to read-only root filesystems that is often overlooked. It&#x27;s the possibility to copy the entire rootfs onto a ramdisk when booting. It increases the boot time and obviously disable persisting data (logs etc.), but these are not needed anyway.<p>It&#x27;s just a few lines of code in initramfs!<p><pre><code>    --- a&#x2F;usr&#x2F;share&#x2F;initramfs-tools&#x2F;scripts&#x2F;local 2021-11-05 12:50:23.541088057 +0100
    +++ b&#x2F;usr&#x2F;share&#x2F;initramfs-tools&#x2F;scripts&#x2F;local 2021-11-05 13:02:14.483203576 +0100
    @@ -180,9 +180,20 @@
    
        # Mount root
        # shellcheck disable=SC2086
    - if ! mount ${roflag} ${FSTYPE:+-t &quot;${FSTYPE}&quot;} ${ROOTFLAGS} &quot;${ROOT}&quot; &quot;${rootmnt?}&quot;; then
    -  panic &quot;Failed to mount ${ROOT} as root file system.&quot;
    - fi
    + #if ! mount ${roflag} ${FSTYPE:+-t &quot;${FSTYPE}&quot;} ${ROOTFLAGS} &quot;${ROOT}&quot; &quot;${rootmnt?}&quot;; then
    + # panic &quot;Failed to mount ${ROOT} as root file system.&quot;
    + #fi
    +
    + mkdir --parents &#x2F;tmp&#x2F;diskroot
    + mount -t ${FSTYPE} ${roflag} ${ROOTFLAGS} ${ROOT} &#x2F;tmp&#x2F;diskroot
    +
    + mount -t tmpfs -o size=6G none ${rootmnt?}
    + chmod 755 ${rootmnt}
    +
    + cp --force --archive --verbose &#x2F;tmp&#x2F;diskroot&#x2F;* ${rootmnt}
    +
    + umount &#x2F;tmp&#x2F;diskroot
    + rm -r --force &#x2F;tmp&#x2F;diskroot
    }
    
    local_mount_fs()

</code></pre>
and `update-initramfs -u`.</div><br/></div></div><div id="39871431" class="c"><input type="checkbox" id="c-39871431" checked=""/><div class="controls bullet"><span class="by">floating-io</span><span>|</span><a href="#39872883">prev</a><span>|</span><a href="#39872371">next</a><span>|</span><label class="collapse" for="c-39871431">[-]</label><label class="expand" for="c-39871431">[6 more]</label></div><br/><div class="children"><div class="content">This problem seems very overblown to me.  The simple answer is &quot;don&#x27;t skimp.&quot;<p>- Use a power supply that can deliver enough current<p>- Use good USB cables that can actually <i>carry</i> said current (a lot of people miss this one)<p>- Do not use cheap SD cards<p>- Oversize your card so that the card can properly perform wear-levelling.<p>I have a pair of Raspberry Pi&#x27;s (2&#x27;s and&#x2F;or 3&#x27;s IIRC) running constantly since 2015.  They&#x27;re running an ancient version of Redsleeve (and are on my list to rebuild but never mind that).  DNS, DHCP, and a few other services run on them.  They&#x27;ve also survived multiple abrupt powerfail events.<p>They log to the SD card, and yet I&#x27;ve never had a problem.  I personally believe that the fact that I&#x27;m using oversized cards with gigabytes of free space is the key.  Well, perhaps that and the fact that my personal home directory is on NFS.<p>Or maybe I&#x27;m just lucky?  Who knows...</div><br/><div id="39871839" class="c"><input type="checkbox" id="c-39871839" checked=""/><div class="controls bullet"><span class="by">Larrikin</span><span>|</span><a href="#39871431">parent</a><span>|</span><a href="#39871583">next</a><span>|</span><label class="collapse" for="c-39871839">[-]</label><label class="expand" for="c-39871839">[2 more]</label></div><br/><div class="children"><div class="content">As someone who kept my Pi 1 in a drawer for years and then bought a Pi 4 after they became available again but after building out a bit of a home lab, the internet consensus seems to be you&#x27;re lucky.<p>The Pis are energy efficient and worth running apps where catastrophic data loss aren&#x27;t a concern. I use my Pi 1 with DietPi to run AdGuard and my Pi 4 for simple web apps, like dashboards.<p>But the world has moved forward and there are options like the ODroid that are almost as cheap and energy efficient, without the relying on an SD card. I run my Home Assistant off my ODroid with nvme. They are all backed up to a couple different places, but my failure expectations are completely different. I fully expect my Pis to just have completely ruined cards one day, whereas I am more worried about a bad update to my Home Assistant server.</div><br/><div id="39872132" class="c"><input type="checkbox" id="c-39872132" checked=""/><div class="controls bullet"><span class="by">walteweiss</span><span>|</span><a href="#39871431">root</a><span>|</span><a href="#39871839">parent</a><span>|</span><a href="#39871583">next</a><span>|</span><label class="collapse" for="c-39872132">[-]</label><label class="expand" for="c-39872132">[1 more]</label></div><br/><div class="children"><div class="content">Why had you preferred AdGuard over PiHole? Just curious, didn’t follow AdGuard at all, never used it.</div><br/></div></div></div></div><div id="39871583" class="c"><input type="checkbox" id="c-39871583" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#39871431">parent</a><span>|</span><a href="#39871839">prev</a><span>|</span><a href="#39871537">next</a><span>|</span><label class="collapse" for="c-39871583">[-]</label><label class="expand" for="c-39871583">[1 more]</label></div><br/><div class="children"><div class="content">Similar. I&#x27;ve been running multiple Pi&#x27;s for years, and had issues with two.<p>Got a USB cable tester and found both had cables with 1+ Ohms resistance, which would cause drop to less than 4V under load!<p>Swapped both cables to some good ones and never had an issue since.<p>I always use A1 or ideally A2 rated cards from reputable brands bought from reputable stores. Not sure if they help with longevity but the additional IOPS are very noticeable.</div><br/></div></div><div id="39871537" class="c"><input type="checkbox" id="c-39871537" checked=""/><div class="controls bullet"><span class="by">sdenton4</span><span>|</span><a href="#39871431">parent</a><span>|</span><a href="#39871583">prev</a><span>|</span><a href="#39872371">next</a><span>|</span><label class="collapse" for="c-39871537">[-]</label><label class="expand" for="c-39871537">[2 more]</label></div><br/><div class="children"><div class="content">Not sure how things are these days, but it used to be the case that power fluctuations could kill an rpi&#x27;s sd card. So yeah, you could mitigate with a great power supply and a good surge protector, but in practice I found it hard to figure out which power supplies to actually trust.<p>For my own deployments, I ended up doing read only boot from SD card, making use of a ram disk for temporary files, and hosting the actual os on a USB stick, which was much better shielded from power issues. Worked great, never had issues, but the setup was pretty non standard.</div><br/><div id="39872250" class="c"><input type="checkbox" id="c-39872250" checked=""/><div class="controls bullet"><span class="by">walteweiss</span><span>|</span><a href="#39871431">root</a><span>|</span><a href="#39871537">parent</a><span>|</span><a href="#39872371">next</a><span>|</span><label class="collapse" for="c-39872250">[-]</label><label class="expand" for="c-39872250">[1 more]</label></div><br/><div class="children"><div class="content">Chances you have any online notes on that?</div><br/></div></div></div></div></div></div><div id="39872371" class="c"><input type="checkbox" id="c-39872371" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#39871431">prev</a><span>|</span><a href="#39870749">next</a><span>|</span><label class="collapse" for="c-39872371">[-]</label><label class="expand" for="c-39872371">[1 more]</label></div><br/><div class="children"><div class="content">The Pi I have powering <a href="https:&#x2F;&#x2F;hiandrewquinn.github.io&#x2F;selkouutiset-archive&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hiandrewquinn.github.io&#x2F;selkouutiset-archive&#x2F;</a> has a read-only &#x2F; . Everything happens in RAM, and resetting everything back to normal is a matter of unplugging and replugging the device back in.<p>I could do so much more with this resource, but I&#x27;m honestly quite happy with it as it is.</div><br/></div></div><div id="39870749" class="c"><input type="checkbox" id="c-39870749" checked=""/><div class="controls bullet"><span class="by">blackfawn</span><span>|</span><a href="#39872371">prev</a><span>|</span><a href="#39872692">next</a><span>|</span><label class="collapse" for="c-39870749">[-]</label><label class="expand" for="c-39870749">[3 more]</label></div><br/><div class="children"><div class="content">I like using Alpine for read-only operation on the Pi right out of the box: <a href="https:&#x2F;&#x2F;wiki.alpinelinux.org&#x2F;wiki&#x2F;Raspberry_Pi" rel="nofollow">https:&#x2F;&#x2F;wiki.alpinelinux.org&#x2F;wiki&#x2F;Raspberry_Pi</a></div><br/><div id="39870914" class="c"><input type="checkbox" id="c-39870914" checked=""/><div class="controls bullet"><span class="by">GianFabien</span><span>|</span><a href="#39870749">parent</a><span>|</span><a href="#39871984">next</a><span>|</span><label class="collapse" for="c-39870914">[-]</label><label class="expand" for="c-39870914">[1 more]</label></div><br/><div class="children"><div class="content">Alpine has been great for me too.<p>Use an USB Flash drive mounted as a R&#x2F;W filesystem for logs, etc.
fsck can usually recover those f&#x2F;s when crashed.  The root f&#x2F;s remains intact.</div><br/></div></div><div id="39871984" class="c"><input type="checkbox" id="c-39871984" checked=""/><div class="controls bullet"><span class="by">seemaze</span><span>|</span><a href="#39870749">parent</a><span>|</span><a href="#39870914">prev</a><span>|</span><a href="#39872692">next</a><span>|</span><label class="collapse" for="c-39871984">[-]</label><label class="expand" for="c-39871984">[1 more]</label></div><br/><div class="children"><div class="content">This is the way. Run from ram and an excellent selection of packages to boot! I have a number of pi zero and pi 2 zero running alpine.</div><br/></div></div></div></div><div id="39872692" class="c"><input type="checkbox" id="c-39872692" checked=""/><div class="controls bullet"><span class="by">cjdell</span><span>|</span><a href="#39870749">prev</a><span>|</span><a href="#39870607">next</a><span>|</span><label class="collapse" for="c-39872692">[-]</label><label class="expand" for="c-39872692">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;buildroot&quot; project is perfect for your embedded system. Build a custom minimal Linux system with tiny image sizes that are read-only by default. Pick exactly which services you need and no more. Less moving parts the better.<p>I&#x27;m using it on 10 year old Pi&#x27;s with USB RS485 dongles to get Ethernet access to solar equipment.</div><br/></div></div><div id="39870607" class="c"><input type="checkbox" id="c-39870607" checked=""/><div class="controls bullet"><span class="by">jasongill</span><span>|</span><a href="#39872692">prev</a><span>|</span><a href="#39870628">next</a><span>|</span><label class="collapse" for="c-39870607">[-]</label><label class="expand" for="c-39870607">[2 more]</label></div><br/><div class="children"><div class="content">You can skip the ntp&#x2F;systemd-timesyncd&#x2F;fake-hwclock stuff if you add a RTC&#x2F;coin battery to the device. The Raspberry Pi 5 has built-in RTC with support for an official battery which costs about five bucks and works well for this. Older devices have aftermarket RTC&#x27;s with battery backups as well.</div><br/><div id="39870772" class="c"><input type="checkbox" id="c-39870772" checked=""/><div class="controls bullet"><span class="by">petee</span><span>|</span><a href="#39870607">parent</a><span>|</span><a href="#39870628">next</a><span>|</span><label class="collapse" for="c-39870772">[-]</label><label class="expand" for="c-39870772">[1 more]</label></div><br/><div class="children"><div class="content">Theres also a kernel option to sync PPS on a gpio from a gps clock</div><br/></div></div></div></div><div id="39870628" class="c"><input type="checkbox" id="c-39870628" checked=""/><div class="controls bullet"><span class="by">idatum</span><span>|</span><a href="#39870607">prev</a><span>|</span><a href="#39870957">next</a><span>|</span><label class="collapse" for="c-39870628">[-]</label><label class="expand" for="c-39870628">[1 more]</label></div><br/><div class="children"><div class="content">These Pi* devices have served well running their Debian version for years.<p>I had a Pi3b run ADS-B (generally RTL-SDR) for many years. Dang though, all with (seemingly) random SD storage failures. Article details seems like it can help.<p>There are more options now though. Aarch64 ones that use eMMC.<p>I replaced the Pi3b with a Pine64 Rock64 running FreeBSD 14 booting from eMMC. Simple and just works with all RTL-SDR needs covered.<p>It&#x27;s great to have options, both hw and os.</div><br/></div></div><div id="39870957" class="c"><input type="checkbox" id="c-39870957" checked=""/><div class="controls bullet"><span class="by">LeoPanthera</span><span>|</span><a href="#39870628">prev</a><span>|</span><a href="#39871831">next</a><span>|</span><label class="collapse" for="c-39870957">[-]</label><label class="expand" for="c-39870957">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s worth noting that you don&#x27;t have to do this manually. Enabling &quot;overlay filesystem&quot; in raspi-config will do this for you, so that all changes to the filesystem are lost after a reboot.</div><br/><div id="39872885" class="c"><input type="checkbox" id="c-39872885" checked=""/><div class="controls bullet"><span class="by">ctrlw</span><span>|</span><a href="#39870957">parent</a><span>|</span><a href="#39871249">next</a><span>|</span><label class="collapse" for="c-39872885">[-]</label><label class="expand" for="c-39872885">[2 more]</label></div><br/><div class="children"><div class="content">Yes, I was missing a mention of that in the blog post and maybe a brief discussion why to do the manual setup instead.</div><br/><div id="39872961" class="c"><input type="checkbox" id="c-39872961" checked=""/><div class="controls bullet"><span class="by">TMWNN</span><span>|</span><a href="#39870957">root</a><span>|</span><a href="#39872885">parent</a><span>|</span><a href="#39871249">next</a><span>|</span><label class="collapse" for="c-39872961">[-]</label><label class="expand" for="c-39872961">[1 more]</label></div><br/><div class="children"><div class="content">Indeed. The post even mentions `raspi-config`, but doesn&#x27;t mention `Performance Options | Overlay File System`. Makes me think that the author isn&#x27;t aware of the option at all.<p>(The same way undoes read-only mode, but two reboots will be required instead of one.)</div><br/></div></div></div></div><div id="39871249" class="c"><input type="checkbox" id="c-39871249" checked=""/><div class="controls bullet"><span class="by">HankB99</span><span>|</span><a href="#39870957">parent</a><span>|</span><a href="#39872885">prev</a><span>|</span><a href="#39871831">next</a><span>|</span><label class="collapse" for="c-39871249">[-]</label><label class="expand" for="c-39871249">[1 more]</label></div><br/><div class="children"><div class="content">I believe the overlayfs configured using raspi-config is a little different in that it presents the appearance of a normal filesystem but all changes are gone following reboot. Before reboot the changes are cached in RAM which can have consequences for low RAM systems.<p>I use the overlayfs provided by raspi-config.</div><br/></div></div></div></div><div id="39871831" class="c"><input type="checkbox" id="c-39871831" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#39870957">prev</a><span>|</span><a href="#39871847">next</a><span>|</span><label class="collapse" for="c-39871831">[-]</label><label class="expand" for="c-39871831">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t usually do full read only, what I&#x27;ll do is run a script that turns off stuff that does not need to be writing to the disk all the time.<p>Unfortunately, some software is database-oriented and likes to write to disk for every tiny thing,  so the approach doesn&#x27;t work with stuff like Home Assistant unless you carefully configure logging.<p>The basic simple stuff doesn&#x27;t really cause any user-level noticable changes:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;EternityForest&#x2F;KaithemAutomation&#x2F;blob&#x2F;master&#x2F;scripts&#x2F;linux-sd-protect.sh">https:&#x2F;&#x2F;github.com&#x2F;EternityForest&#x2F;KaithemAutomation&#x2F;blob&#x2F;mas...</a><p>After that, I disable and mask apt-daily (The Debian auto updater), and purge dphys-swapfile.<p>My full set of assorted tweaks can be found here, some might not be relevant for you:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;EternityForest&#x2F;KaithemAutomation&#x2F;blob&#x2F;master&#x2F;scripts&#x2F;linux-tweaks.sh">https:&#x2F;&#x2F;github.com&#x2F;EternityForest&#x2F;KaithemAutomation&#x2F;blob&#x2F;mas...</a><p>Next, I often run Chromium as a kiosk, and Chromium likes to hammer the SD card, so I set the XDG folder environment variables to make it put it&#x27;s stuff in RAM.  My embedded chrome stuff can be found here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;EternityForest&#x2F;KaithemAutomation&#x2F;blob&#x2F;master&#x2F;scripts&#x2F;setup-kiosk-mode.sh">https:&#x2F;&#x2F;github.com&#x2F;EternityForest&#x2F;KaithemAutomation&#x2F;blob&#x2F;mas...</a><p>With all these tweaks, a Pi will have excellent reliability without losing the benefits of a writable FS. If you need true industrial grade perfect reliability, you probably need an industrial card and maybe true a read-only system.</div><br/></div></div><div id="39871847" class="c"><input type="checkbox" id="c-39871847" checked=""/><div class="controls bullet"><span class="by">Abishek_Muthian</span><span>|</span><a href="#39871831">prev</a><span>|</span><a href="#39871335">next</a><span>|</span><label class="collapse" for="c-39871847">[-]</label><label class="expand" for="c-39871847">[1 more]</label></div><br/><div class="children"><div class="content">I have couple of memory cards (mostly Samsung) for RPi which became readonly, I keep them separately for use cases mentioned by OP.<p>I&#x27;ve since then switched to using only Toshibha memory cards in RPi &amp; haven&#x27;t had any failures.</div><br/></div></div><div id="39871335" class="c"><input type="checkbox" id="c-39871335" checked=""/><div class="controls bullet"><span class="by">eschneider</span><span>|</span><a href="#39871847">prev</a><span>|</span><a href="#39871889">next</a><span>|</span><label class="collapse" for="c-39871335">[-]</label><label class="expand" for="c-39871335">[1 more]</label></div><br/><div class="children"><div class="content">I make a lot of embedded linux distress and there are a lot of ways to skin the r&#x2F;o rootsf problem. Assuming you&#x27;ve got some bit of r&#x2F;w storage, the easiest thing is making the whole rootfs r&#x2F;o and bind mounting the bits you need writable.</div><br/></div></div><div id="39871889" class="c"><input type="checkbox" id="c-39871889" checked=""/><div class="controls bullet"><span class="by">lahvak</span><span>|</span><a href="#39871335">prev</a><span>|</span><a href="#39872283">next</a><span>|</span><label class="collapse" for="c-39871889">[-]</label><label class="expand" for="c-39871889">[1 more]</label></div><br/><div class="children"><div class="content">Years ago I used one of the first pis as a music&#x2F;podcast player in my car. The problem was that there was no proper shutdown process, you turn of the car, and the power cuts off, so I set it up to create and mount a ram disk while booting, and do all writing to the ram disk. From the comments here, it looks like the newer pis have this as a config option now.</div><br/></div></div><div id="39870475" class="c"><input type="checkbox" id="c-39870475" checked=""/><div class="controls bullet"><span class="by">Wowfunhappy</span><span>|</span><a href="#39872283">prev</a><span>|</span><a href="#39871823">next</a><span>|</span><label class="collapse" for="c-39870475">[-]</label><label class="expand" for="c-39870475">[11 more]</label></div><br/><div class="children"><div class="content">&gt; This means you can run the Pi with a read-only root filesystem, which will dramatically increase the SD card’s lifetime.<p>I can&#x27;t find an authoritative source, but some quick Googling brings up websites like Reddit and Stackexchange saying that SD cards have ~100,000 lifetime write cycles. I feel like it would be hard to exhaust that.<p>Is this a real problem people experience?</div><br/><div id="39870624" class="c"><input type="checkbox" id="c-39870624" checked=""/><div class="controls bullet"><span class="by">Prcmaker</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870561">next</a><span>|</span><label class="collapse" for="c-39870624">[-]</label><label class="expand" for="c-39870624">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t had an issue with SD cards where Pis had reliable power. Where I used to live though we had frequent power cuts, of only a couple of seconds, a couple of times a day. SD card corruption was a major pain. Even in areas with more reliable power, for a 24&#x2F;7 on device, occasional power outages have lead me to move away from Pis. Battery backups are, of course, an option, but increase the cost for a reliable and simple system.</div><br/></div></div><div id="39870561" class="c"><input type="checkbox" id="c-39870561" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870624">prev</a><span>|</span><a href="#39871942">next</a><span>|</span><label class="collapse" for="c-39870561">[-]</label><label class="expand" for="c-39870561">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it&#x27;s not particularly hard to wear out an SD card (especially a cheap, high-densite one), with just the wear of writing logs. It does vary a lot depending on what exactly you are going, but it&#x27;s a fairly commonly reported failure among raspberry pi users.</div><br/></div></div><div id="39871942" class="c"><input type="checkbox" id="c-39871942" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870561">prev</a><span>|</span><a href="#39870548">next</a><span>|</span><label class="collapse" for="c-39871942">[-]</label><label class="expand" for="c-39871942">[1 more]</label></div><br/><div class="children"><div class="content">Yes, as someone who shipped embedded systems running off of SD cards, it&#x27;s a real problem.<p>It&#x27;s not the flash endurance you hit typically, but bugs in the card firmware that cause the FTL to completely lose it&#x27;s mind.  Yes, even with supposedly quality brands.<p>About the only way I found to deal with the problem is to use &quot;industrial&quot; SD cards that are a little slower and pretty expensive, but the firmware takes less liberties in the name of specious benchmarks.</div><br/></div></div><div id="39870548" class="c"><input type="checkbox" id="c-39870548" checked=""/><div class="controls bullet"><span class="by">adobrawy</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39871942">prev</a><span>|</span><a href="#39870704">next</a><span>|</span><label class="collapse" for="c-39870548">[-]</label><label class="expand" for="c-39870548">[2 more]</label></div><br/><div class="children"><div class="content">Yea, it&#x27;s a real issue. Search for &quot;raspberry pi dead SD card&quot; to found report of ppl which have failing SD card every month or more often.</div><br/><div id="39870743" class="c"><input type="checkbox" id="c-39870743" checked=""/><div class="controls bullet"><span class="by">rcarmo</span><span>|</span><a href="#39870475">root</a><span>|</span><a href="#39870548">parent</a><span>|</span><a href="#39870704">next</a><span>|</span><label class="collapse" for="c-39870743">[-]</label><label class="expand" for="c-39870743">[1 more]</label></div><br/><div class="children"><div class="content">Most of those tend to be power issues.</div><br/></div></div></div></div><div id="39870704" class="c"><input type="checkbox" id="c-39870704" checked=""/><div class="controls bullet"><span class="by">jorvi</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870548">prev</a><span>|</span><a href="#39870635">next</a><span>|</span><label class="collapse" for="c-39870704">[-]</label><label class="expand" for="c-39870704">[1 more]</label></div><br/><div class="children"><div class="content">It is, but mostly due to logging to disk instead of RAM.<p>That’s what setting a read-only root file system prevents in a roundabout way, so people have started to misidentify it as the solution.</div><br/></div></div><div id="39870635" class="c"><input type="checkbox" id="c-39870635" checked=""/><div class="controls bullet"><span class="by">bobmcnamara</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870704">prev</a><span>|</span><a href="#39870991">next</a><span>|</span><label class="collapse" for="c-39870635">[-]</label><label class="expand" for="c-39870635">[1 more]</label></div><br/><div class="children"><div class="content">It was a plague for years where power failure during a write would cause an SD card to go read only or worse.</div><br/></div></div><div id="39870991" class="c"><input type="checkbox" id="c-39870991" checked=""/><div class="controls bullet"><span class="by">NegativeLatency</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870635">prev</a><span>|</span><a href="#39870574">next</a><span>|</span><label class="collapse" for="c-39870991">[-]</label><label class="expand" for="c-39870991">[1 more]</label></div><br/><div class="children"><div class="content">A lot of people also run them with a power supply that will undervolt, switched to ones with more amps and haven&#x27;t had issues since</div><br/></div></div><div id="39870574" class="c"><input type="checkbox" id="c-39870574" checked=""/><div class="controls bullet"><span class="by">CliffStoll</span><span>|</span><a href="#39870475">parent</a><span>|</span><a href="#39870991">prev</a><span>|</span><a href="#39871415">next</a><span>|</span><label class="collapse" for="c-39870574">[-]</label><label class="expand" for="c-39870574">[1 more]</label></div><br/><div class="children"><div class="content">My website is on a pi-4 and hasn&#x27;t had a hiccup in 4 years. So far, the SD-card has worked great.</div><br/></div></div></div></div><div id="39871823" class="c"><input type="checkbox" id="c-39871823" checked=""/><div class="controls bullet"><span class="by">anon-3988</span><span>|</span><a href="#39870475">prev</a><span>|</span><a href="#39872339">next</a><span>|</span><label class="collapse" for="c-39871823">[-]</label><label class="expand" for="c-39871823">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for this. I am using my RPI5 to learn about using remote computers, hacking around with and writing my tools to monitor stuff and do automation in Python.<p>Just putting it here in case anyone have similar blogs&#x2F;articles I can read about that goes through the same journey.</div><br/></div></div><div id="39872339" class="c"><input type="checkbox" id="c-39872339" checked=""/><div class="controls bullet"><span class="by">vinni2</span><span>|</span><a href="#39871823">prev</a><span>|</span><a href="#39870474">next</a><span>|</span><label class="collapse" for="c-39872339">[-]</label><label class="expand" for="c-39872339">[1 more]</label></div><br/><div class="children"><div class="content">I realized this the hard way after about 5 of my se cards were fried.</div><br/></div></div><div id="39870372" class="c"><input type="checkbox" id="c-39870372" checked=""/><div class="controls bullet"><span class="by">logicziller</span><span>|</span><a href="#39870474">prev</a><span>|</span><a href="#39870699">next</a><span>|</span><label class="collapse" for="c-39870372">[-]</label><label class="expand" for="c-39870372">[1 more]</label></div><br/><div class="children"><div class="content">We use pi-builder that can produce reproducible images. Read-only is one of the default options.</div><br/></div></div><div id="39870699" class="c"><input type="checkbox" id="c-39870699" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#39870372">prev</a><span>|</span><a href="#39871850">next</a><span>|</span><label class="collapse" for="c-39870699">[-]</label><label class="expand" for="c-39870699">[1 more]</label></div><br/><div class="children"><div class="content">A long time ago I modified debian-live to use btrfs-send to copy the usb image into some kind of ramfs. So you could hypothetically snapshot &amp; send back your current snapshot to the USB as you want.<p>Having a kick ass fs at your back is great. Go for it!<p>One of my persistently greatest annoyances about running stuff on pis has been that journald is so monolithic. There&#x27;s no per-app controls. I&#x27;d love to log most system functions persistently with decent sized history (since they are very low volume), but have the main app or another app do something else. Struggling to find them ATM, but there are a number of issues opened around this way back, and all closed, saying to run multiple systemd-journal instances then configure apps to direct traffic to each, but that sure sucks to setup &amp; configure, &amp; is something I&#x27;d hope journald would help me with out of the box.</div><br/></div></div><div id="39871850" class="c"><input type="checkbox" id="c-39871850" checked=""/><div class="controls bullet"><span class="by">ngcc_hk</span><span>|</span><a href="#39870699">prev</a><span>|</span><a href="#39870387">next</a><span>|</span><label class="collapse" for="c-39871850">[-]</label><label class="expand" for="c-39871850">[1 more]</label></div><br/><div class="children"><div class="content">Wonder can you do this for those read only publishing site using even some cloud system image. Or even GitHub based web site? What is the advantage of your own read only system.  It is not changed mostly after all (or all changes only from your good self).</div><br/></div></div><div id="39870387" class="c"><input type="checkbox" id="c-39870387" checked=""/><div class="controls bullet"><span class="by">ashwoods</span><span>|</span><a href="#39871850">prev</a><span>|</span><label class="collapse" for="c-39870387">[-]</label><label class="expand" for="c-39870387">[2 more]</label></div><br/><div class="children"><div class="content">I now prefer to use overlayfs with a tmpfs overlay. Much simpler to configure and update.</div><br/><div id="39871849" class="c"><input type="checkbox" id="c-39871849" checked=""/><div class="controls bullet"><span class="by">crashbunny</span><span>|</span><a href="#39870387">parent</a><span>|</span><label class="collapse" for="c-39871849">[-]</label><label class="expand" for="c-39871849">[1 more]</label></div><br/><div class="children"><div class="content">years ago I did the same, I vaguely remember following a blog post to do it. I put the scripts on github and some people found it useful. There&#x27;s a deb package now that does it called overlayroot.</div><br/></div></div></div></div></div></div></div></div></div></body></html>