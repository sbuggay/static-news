<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717059669946" as="style"/><link rel="stylesheet" href="styles.css?v=1717059669946"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/kiwicopple/serverless-postgres">Show HN: Serverless Postgres</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>kiwicopple</span> | <span>47 comments</span></div><br/><div><div id="40516659" class="c"><input type="checkbox" id="c-40516659" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#40516013">next</a><span>|</span><label class="collapse" for="c-40516659">[-]</label><label class="expand" for="c-40516659">[11 more]</label></div><br/><div class="children"><div class="content">This seems more like &quot;PostgreSQL using remote storage for the database&quot; rather than &quot;Serverless&quot;?<p>It seems like it still needs memory&#x2F;cpu resources locally (sized properly) to handle the returned data.<p>It also seems like an <i>incredibly</i> bad idea to use with any remote data store that charges for network traffic.  ie Amazon AWS<p>You could easily give yourself a many thousand dollar bill for a month if you start using that backend data store in a serious way. :( :( :(<p>---<p>That being said, it&#x27;s a nifty idea conceptually.  Just be aware of likely operational costs if you try using it. (!)</div><br/><div id="40516860" class="c"><input type="checkbox" id="c-40516860" checked=""/><div class="controls bullet"><span class="by">kiwicopple</span><span>|</span><a href="#40516659">parent</a><span>|</span><a href="#40519112">next</a><span>|</span><label class="collapse" for="c-40516860">[-]</label><label class="expand" for="c-40516860">[5 more]</label></div><br/><div class="children"><div class="content">I guess the term “Serverless” is pretty ambiguous, but since this originated from AWS Lambda (firecracker) and that’s the same primitive as Fly.io then it seemed fitting. You can scale up&#x2F;down compute and snapshot memory for fast startups<p>The other tricky thing is data: there are several ways to handle this. Since Tigris has a lot of the data replication features that Postgres would traditionally handle then it looks promising. That said - it comes with tradeoffs that you point out (transfer costs) but these are also costs that you’d pay for postgres replication. I’ll try benchmark some of these costs and compare them across several implementations. At this stage I just wanted to get an MVP working: the harder stuff is still ahead<p>Thanks for your comment - a lot of good points</div><br/><div id="40521552" class="c"><input type="checkbox" id="c-40521552" checked=""/><div class="controls bullet"><span class="by">davedx</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40516860">parent</a><span>|</span><a href="#40520553">next</a><span>|</span><label class="collapse" for="c-40521552">[-]</label><label class="expand" for="c-40521552">[1 more]</label></div><br/><div class="children"><div class="content">I use Fly.io, it’s not serverless at all, it’s a PaaS that manages your servers for you via its own automations and cli. Fly also already supports postgres (I use this too) so I’m not sure why I would use this? To me the whole point of Fly is minimal work :)</div><br/></div></div><div id="40520553" class="c"><input type="checkbox" id="c-40520553" checked=""/><div class="controls bullet"><span class="by">chipdart</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40516860">parent</a><span>|</span><a href="#40521552">prev</a><span>|</span><a href="#40517075">next</a><span>|</span><label class="collapse" for="c-40520553">[-]</label><label class="expand" for="c-40520553">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I guess the term “Serverless” is pretty ambiguous, (...)<p>I don&#x27;t this is the case though.<p>The core principle of serverless computing is that a cloud provider supplies a managed service and scales computational resources allocated to the service to meet it&#x27;s computational needs.<p>This &quot;serverless postgres&quot; meets none of the items in the definition.<p>You mentioned AWS Lambdas. AWS allocates all computational resources when a function is invoked.<p>Let&#x27;s face it: this was an attempt to abuse a buzzword.</div><br/><div id="40520696" class="c"><input type="checkbox" id="c-40520696" checked=""/><div class="controls bullet"><span class="by">biorach</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40520553">parent</a><span>|</span><a href="#40517075">next</a><span>|</span><label class="collapse" for="c-40520696">[-]</label><label class="expand" for="c-40520696">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;re being unduly harsh.<p>The term &quot;serverless&quot; is broad enough that it&#x27;s use here is fine.</div><br/></div></div></div></div><div id="40517075" class="c"><input type="checkbox" id="c-40517075" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40516860">parent</a><span>|</span><a href="#40520553">prev</a><span>|</span><a href="#40519112">next</a><span>|</span><label class="collapse" for="c-40517075">[-]</label><label class="expand" for="c-40517075">[1 more]</label></div><br/><div class="children"><div class="content">&gt; these are also costs that you’d pay for postgres replication.<p>Some places define a 2nd (private) network interface for their VMs, and you can transfer data between your VMs over that private interface without cost.<p>Not sure if AWS does it that way though.</div><br/></div></div></div></div><div id="40519112" class="c"><input type="checkbox" id="c-40519112" checked=""/><div class="controls bullet"><span class="by">rohan_</span><span>|</span><a href="#40516659">parent</a><span>|</span><a href="#40516860">prev</a><span>|</span><a href="#40520083">next</a><span>|</span><label class="collapse" for="c-40519112">[-]</label><label class="expand" for="c-40519112">[4 more]</label></div><br/><div class="children"><div class="content">separating storage from compute is kind of the definition of &quot;serverless postgres&quot;, right?</div><br/><div id="40520583" class="c"><input type="checkbox" id="c-40520583" checked=""/><div class="controls bullet"><span class="by">chipdart</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40519112">parent</a><span>|</span><a href="#40520570">next</a><span>|</span><label class="collapse" for="c-40520583">[-]</label><label class="expand" for="c-40520583">[2 more]</label></div><br/><div class="children"><div class="content">&gt; separating storage from compute is kind of the definition of &quot;serverless postgres&quot;, right?<p>Not really,unless you want &quot;serverless&quot; to be meaningless.<p>Think about it for a second: would it make any sense to call S3 a serverless anything? And NFS? And what about gmail? Is gmail server less as well?</div><br/><div id="40520794" class="c"><input type="checkbox" id="c-40520794" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40520583">parent</a><span>|</span><a href="#40520570">next</a><span>|</span><label class="collapse" for="c-40520794">[-]</label><label class="expand" for="c-40520794">[1 more]</label></div><br/><div class="children"><div class="content">S3 is absolutely &quot;serverless&quot; storage in the same way Lambda is &quot;serverless&quot; compute: it&#x27;s a service that abstracts away the underlying servers.<p>If the host is managing servers in a way that makes it impossible for me to even know how many servers are behind my usage of it, it&#x27;s serverless.</div><br/></div></div></div></div><div id="40520570" class="c"><input type="checkbox" id="c-40520570" checked=""/><div class="controls bullet"><span class="by">justinclift</span><span>|</span><a href="#40516659">root</a><span>|</span><a href="#40519112">parent</a><span>|</span><a href="#40520583">prev</a><span>|</span><a href="#40520083">next</a><span>|</span><label class="collapse" for="c-40520570">[-]</label><label class="expand" for="c-40520570">[1 more]</label></div><br/><div class="children"><div class="content">Not for most of the computing history where &quot;serverless&quot; was an actual word.  But maybe some crowd is attempting to redefine it (yet again?). :)</div><br/></div></div></div></div></div></div><div id="40516013" class="c"><input type="checkbox" id="c-40516013" checked=""/><div class="controls bullet"><span class="by">sea-gold</span><span>|</span><a href="#40516659">prev</a><span>|</span><a href="#40517465">next</a><span>|</span><label class="collapse" for="c-40516013">[-]</label><label class="expand" for="c-40516013">[4 more]</label></div><br/><div class="children"><div class="content">How does this compare to Neon[1], Crunchy PostgreSQL for Kubernetes[2], and Citus[3]?<p>[1] <a href="https:&#x2F;&#x2F;neon.tech" rel="nofollow">https:&#x2F;&#x2F;neon.tech</a> &#x2F; <a href="https:&#x2F;&#x2F;github.com&#x2F;neondatabase&#x2F;neon">https:&#x2F;&#x2F;github.com&#x2F;neondatabase&#x2F;neon</a><p>[2] <a href="https:&#x2F;&#x2F;access.crunchydata.com&#x2F;documentation&#x2F;postgres-operator&#x2F;latest" rel="nofollow">https:&#x2F;&#x2F;access.crunchydata.com&#x2F;documentation&#x2F;postgres-operat...</a> &#x2F; <a href="https:&#x2F;&#x2F;github.com&#x2F;CrunchyData&#x2F;postgres-operator">https:&#x2F;&#x2F;github.com&#x2F;CrunchyData&#x2F;postgres-operator</a><p>[3] <a href="https:&#x2F;&#x2F;www.citusdata.com" rel="nofollow">https:&#x2F;&#x2F;www.citusdata.com</a> &#x2F; <a href="https:&#x2F;&#x2F;github.com&#x2F;citusdata&#x2F;citus">https:&#x2F;&#x2F;github.com&#x2F;citusdata&#x2F;citus</a></div><br/><div id="40516790" class="c"><input type="checkbox" id="c-40516790" checked=""/><div class="controls bullet"><span class="by">scirob</span><span>|</span><a href="#40516013">parent</a><span>|</span><a href="#40516177">next</a><span>|</span><label class="collapse" for="c-40516790">[-]</label><label class="expand" for="c-40516790">[1 more]</label></div><br/><div class="children"><div class="content">&gt;citus is a bit out of date, now mostly native azure not flexible at all 
&gt;neon has not released all of their kubernetes operator so its not fully open source yet 
&gt; Crunchy is just a kubernetes operator for HA  postgres. but they are working on a cool thing to natively use IceBerg  as FDW.  But their attitude is that this serverless  separation of compute and storage is not the right approach for the primary operational data store</div><br/></div></div><div id="40516177" class="c"><input type="checkbox" id="c-40516177" checked=""/><div class="controls bullet"><span class="by">craigkerstiens</span><span>|</span><a href="#40516013">parent</a><span>|</span><a href="#40516790">prev</a><span>|</span><a href="#40520241">next</a><span>|</span><label class="collapse" for="c-40516177">[-]</label><label class="expand" for="c-40516177">[1 more]</label></div><br/><div class="children"><div class="content">At very first glance this would be much closer to neon, with the separated storage and compute.<p>Crunchy Postgres for Kubernetes is great if you&#x27;re running Postgres inside Kubernetes, but is more of standard Postgres than something serverless. Citus also not really serverless at all, Citus is more focused on performance scaling where things are very co-located and you&#x27;re outgrowing the bounds of a single node.</div><br/></div></div><div id="40520241" class="c"><input type="checkbox" id="c-40520241" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#40516013">parent</a><span>|</span><a href="#40516177">prev</a><span>|</span><a href="#40517465">next</a><span>|</span><label class="collapse" for="c-40520241">[-]</label><label class="expand" for="c-40520241">[1 more]</label></div><br/><div class="children"><div class="content">I think the only relevant comparison here is Neon.</div><br/></div></div></div></div><div id="40517465" class="c"><input type="checkbox" id="c-40517465" checked=""/><div class="controls bullet"><span class="by">tmountain</span><span>|</span><a href="#40516013">prev</a><span>|</span><a href="#40520107">next</a><span>|</span><label class="collapse" for="c-40517465">[-]</label><label class="expand" for="c-40517465">[2 more]</label></div><br/><div class="children"><div class="content">Novel, and maybe I am just old school, but I truly believe that a right sized Postgres deployment is good enough for most use cases. I would trust my data to something vanilla barring a super niche scenario.</div><br/><div id="40518206" class="c"><input type="checkbox" id="c-40518206" checked=""/><div class="controls bullet"><span class="by">sgarland</span><span>|</span><a href="#40517465">parent</a><span>|</span><a href="#40520107">next</a><span>|</span><label class="collapse" for="c-40518206">[-]</label><label class="expand" for="c-40518206">[1 more]</label></div><br/><div class="children"><div class="content">A vanilla Postgres or MySQL instance, when properly tuned, will take you EXTREMELY far. People forget how much latency network hops add compared to native disks.<p>Even improperly tuned, it’ll take you much further than one would be led to believe from the SaaS shills.</div><br/></div></div></div></div><div id="40520107" class="c"><input type="checkbox" id="c-40520107" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#40517465">prev</a><span>|</span><a href="#40519430">next</a><span>|</span><label class="collapse" for="c-40520107">[-]</label><label class="expand" for="c-40520107">[1 more]</label></div><br/><div class="children"><div class="content">Neat stuff. AWS threw in the towel with their serverless PG (Aurora v2 can no longer scale to zero).</div><br/></div></div><div id="40519430" class="c"><input type="checkbox" id="c-40519430" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#40520107">prev</a><span>|</span><a href="#40519453">next</a><span>|</span><label class="collapse" for="c-40519430">[-]</label><label class="expand" for="c-40519430">[7 more]</label></div><br/><div class="children"><div class="content">Can this run on AWS Lambda with a EBS Blockstore?<p>Mentally this is the cheapest w&#x2F;o all those egress costs, but I&#x27;m not sure. Combine that with we don&#x27;t like managing resources outside AWS unless absolutely forced.<p>I really wanted this because RDS serverless v1 could do zero compute, but v2 has a minimum compute requirement.<p>If I can run my Postgres reliably on AWS Lambda, the costs drop to near zero for non production instances, which is where a lot of people play.</div><br/><div id="40519833" class="c"><input type="checkbox" id="c-40519833" checked=""/><div class="controls bullet"><span class="by">kiwicopple</span><span>|</span><a href="#40519430">parent</a><span>|</span><a href="#40520094">next</a><span>|</span><label class="collapse" for="c-40519833">[-]</label><label class="expand" for="c-40519833">[2 more]</label></div><br/><div class="children"><div class="content">Since this is dockerized, the best AWS primitive would be Fargate or ECS<p>As far as I know you can’t mount a file system like EBS to Lambda, and tbh even if you could the implementation of Lambda+Postgres sounds particularly cursed.</div><br/><div id="40520138" class="c"><input type="checkbox" id="c-40520138" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#40519430">root</a><span>|</span><a href="#40519833">parent</a><span>|</span><a href="#40520094">next</a><span>|</span><label class="collapse" for="c-40520138">[-]</label><label class="expand" for="c-40520138">[1 more]</label></div><br/><div class="children"><div class="content">Ah sorry I should&#x27;ve said EFS, got my acronyms wrong. That one is mountable to Lambda.<p>But Lambda can&#x27;t accept multiple connections to the same instance, so it&#x27;s allowing multiple pg servers connect to the same data source.</div><br/></div></div></div></div><div id="40520094" class="c"><input type="checkbox" id="c-40520094" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#40519430">parent</a><span>|</span><a href="#40519833">prev</a><span>|</span><a href="#40519453">next</a><span>|</span><label class="collapse" for="c-40520094">[-]</label><label class="expand" for="c-40520094">[4 more]</label></div><br/><div class="children"><div class="content">Why EBS and not the decoupled storage that this does?</div><br/><div id="40520128" class="c"><input type="checkbox" id="c-40520128" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#40519430">root</a><span>|</span><a href="#40520094">parent</a><span>|</span><a href="#40519453">next</a><span>|</span><label class="collapse" for="c-40520128">[-]</label><label class="expand" for="c-40520128">[3 more]</label></div><br/><div class="children"><div class="content">Ah sorry I should&#x27;ve said EFS, got my acronyms wrong.</div><br/><div id="40520248" class="c"><input type="checkbox" id="c-40520248" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#40519430">root</a><span>|</span><a href="#40520128">parent</a><span>|</span><a href="#40519453">next</a><span>|</span><label class="collapse" for="c-40520248">[-]</label><label class="expand" for="c-40520248">[2 more]</label></div><br/><div class="children"><div class="content">Well<p>A. EFS is dogs*** for this<p>B. The EFS protocol is NFS, so that&#x27;s the question.</div><br/><div id="40520624" class="c"><input type="checkbox" id="c-40520624" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#40519430">root</a><span>|</span><a href="#40520248">parent</a><span>|</span><a href="#40519453">next</a><span>|</span><label class="collapse" for="c-40520624">[-]</label><label class="expand" for="c-40520624">[1 more]</label></div><br/><div class="children"><div class="content">Apparently EFS is better for storage latency (no personal experience): <a href="https:&#x2F;&#x2F;lumigo.io&#x2F;blog&#x2F;unlocking-more-serverless-use-cases-with-efs-and-lambda&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lumigo.io&#x2F;blog&#x2F;unlocking-more-serverless-use-cases-w...</a><p>But on the other hand EFS blocks Lambda&#x27;s JVM fast start mode that is based on Firecracker VM snapshots. Not that it matters for Postgres...</div><br/></div></div></div></div></div></div></div></div></div></div><div id="40519453" class="c"><input type="checkbox" id="c-40519453" checked=""/><div class="controls bullet"><span class="by">nijuashi</span><span>|</span><a href="#40519430">prev</a><span>|</span><a href="#40517418">next</a><span>|</span><label class="collapse" for="c-40519453">[-]</label><label class="expand" for="c-40519453">[1 more]</label></div><br/><div class="children"><div class="content">For a moment I was excited to see sqlite with postgres compatibility.</div><br/></div></div><div id="40517418" class="c"><input type="checkbox" id="c-40517418" checked=""/><div class="controls bullet"><span class="by">BurnGpuBurn</span><span>|</span><a href="#40519453">prev</a><span>|</span><a href="#40519153">next</a><span>|</span><label class="collapse" for="c-40517418">[-]</label><label class="expand" for="c-40517418">[2 more]</label></div><br/><div class="children"><div class="content">Serverless != serverless<p>You use a lot of servers, you just call them resources. Your S3 storage is a server, your background workers run on a server, and your postgress, well, it doesn&#x27;t run on a bike.<p>I hate this confabulating stuff. It&#x27;s like people believing &quot;the cloud&quot; is an actual cloud. Couldn&#x27;t we just leave this stuff to the marketing people?</div><br/><div id="40517739" class="c"><input type="checkbox" id="c-40517739" checked=""/><div class="controls bullet"><span class="by">INTPenis</span><span>|</span><a href="#40517418">parent</a><span>|</span><a href="#40519153">next</a><span>|</span><label class="collapse" for="c-40517739">[-]</label><label class="expand" for="c-40517739">[1 more]</label></div><br/><div class="children"><div class="content">Nevertheless serverless is an actual concept where you don&#x27;t deploy any server instances, you use only services. Those services might scale up with server instances, but you don&#x27;t have to know about that.<p>I was against it too at first, but then I realized how to use it.</div><br/></div></div></div></div><div id="40519153" class="c"><input type="checkbox" id="c-40519153" checked=""/><div class="controls bullet"><span class="by">xarope</span><span>|</span><a href="#40517418">prev</a><span>|</span><a href="#40515764">next</a><span>|</span><label class="collapse" for="c-40519153">[-]</label><label class="expand" for="c-40519153">[4 more]</label></div><br/><div class="children"><div class="content">Instead of all this cloud native stuff, I wish there was an embedded version of Postgres, ala sqlite or duckdb</div><br/><div id="40520363" class="c"><input type="checkbox" id="c-40520363" checked=""/><div class="controls bullet"><span class="by">avinassh</span><span>|</span><a href="#40519153">parent</a><span>|</span><a href="#40519878">next</a><span>|</span><label class="collapse" for="c-40520363">[-]</label><label class="expand" for="c-40520363">[1 more]</label></div><br/><div class="children"><div class="content">check pglite project: <a href="https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;pglite">https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;pglite</a></div><br/></div></div><div id="40519878" class="c"><input type="checkbox" id="c-40519878" checked=""/><div class="controls bullet"><span class="by">sverhagen</span><span>|</span><a href="#40519153">parent</a><span>|</span><a href="#40520363">prev</a><span>|</span><a href="#40515764">next</a><span>|</span><label class="collapse" for="c-40519878">[-]</label><label class="expand" for="c-40519878">[2 more]</label></div><br/><div class="children"><div class="content">For what purpose? A lot of folks use Testcontainers to embed Postgres in tests.</div><br/><div id="40520069" class="c"><input type="checkbox" id="c-40520069" checked=""/><div class="controls bullet"><span class="by">xarope</span><span>|</span><a href="#40519153">root</a><span>|</span><a href="#40519878">parent</a><span>|</span><a href="#40515764">next</a><span>|</span><label class="collapse" for="c-40520069">[-]</label><label class="expand" for="c-40520069">[1 more]</label></div><br/><div class="children"><div class="content">distribution purposes, a single binary is easier than a docker container and its associated security issues.</div><br/></div></div></div></div></div></div><div id="40515764" class="c"><input type="checkbox" id="c-40515764" checked=""/><div class="controls bullet"><span class="by">thomasfromcdnjs</span><span>|</span><a href="#40519153">prev</a><span>|</span><a href="#40516704">next</a><span>|</span><label class="collapse" for="c-40515764">[-]</label><label class="expand" for="c-40515764">[6 more]</label></div><br/><div class="children"><div class="content">When would it make sense to use such a setup? What kind of applications?</div><br/><div id="40515865" class="c"><input type="checkbox" id="c-40515865" checked=""/><div class="controls bullet"><span class="by">kiwicopple</span><span>|</span><a href="#40515764">parent</a><span>|</span><a href="#40517894">next</a><span>|</span><label class="collapse" for="c-40515865">[-]</label><label class="expand" for="c-40515865">[2 more]</label></div><br/><div class="children"><div class="content">The “scale to zero” aspects mean that it’s useful for very infrequently accessed applications<p>Once I have experimented with Tigris’ global data replication then it could be useful for a distributed user-base doing a lot of reads. The idea is that you can point a fresh postgres instance to the S3 bucket for read access (rather than keeping a hot standby using Postgres native replication)</div><br/><div id="40518141" class="c"><input type="checkbox" id="c-40518141" checked=""/><div class="controls bullet"><span class="by">AgharaShyam</span><span>|</span><a href="#40515764">root</a><span>|</span><a href="#40515865">parent</a><span>|</span><a href="#40517894">next</a><span>|</span><label class="collapse" for="c-40518141">[-]</label><label class="expand" for="c-40518141">[1 more]</label></div><br/><div class="children"><div class="content">In addition to infrequent access type use-cases, the ability to trivially create new DBs without incurring significant costs is the killer feature.<p>This makes it feasible to build multi-tenant applications with 1-db-per-tenant. I know the same can be achieved with RLS policies or application-layer permissions, but nothing beats the peace mind (for developer and customers alike) of having tenant data in entirely separate databases. This also makes it easier to have custom schema for different subsets of users. Side note: SQLite (the OG serverless DB) also has the same benefit but is decidedly less feature-full than postgres&#x2F;mysql.<p>Another pattern that I have seen emerging is that certain products allow end-users to create DBs on the fly as a part of their own product offering. For example, Retool (which uses Neon) allows users to create a new database in seconds, even on their free plan. I don&#x27;t think this would have been possible (both cost and DX wise) if they provisioned a new Postgres cluster for each customer.<p>On that note, and in light of what happened with the Planetscale free plan, this would make the Supabase free offering and branching to be significantly less expensive to operate. btw: thank you for the free plan and all the amazing OSS contributions from the supabase team!!</div><br/></div></div></div></div><div id="40517894" class="c"><input type="checkbox" id="c-40517894" checked=""/><div class="controls bullet"><span class="by">internet101010</span><span>|</span><a href="#40515764">parent</a><span>|</span><a href="#40515865">prev</a><span>|</span><a href="#40515813">next</a><span>|</span><label class="collapse" for="c-40517894">[-]</label><label class="expand" for="c-40517894">[2 more]</label></div><br/><div class="children"><div class="content">You have data updates that happen at irregular intervals and don&#x27;t want to be bothered with turning on and turning off a db instance.</div><br/><div id="40518186" class="c"><input type="checkbox" id="c-40518186" checked=""/><div class="controls bullet"><span class="by">slt2021</span><span>|</span><a href="#40515764">root</a><span>|</span><a href="#40517894">parent</a><span>|</span><a href="#40515813">next</a><span>|</span><label class="collapse" for="c-40518186">[-]</label><label class="expand" for="c-40518186">[1 more]</label></div><br/><div class="children"><div class="content">why keep separate postgres instance for this use case?<p>One could easily have a single small Postgres instance for a few dollars that hosts all these small scale peanut sized toy databases and forget about it.<p>if your main business critical database is not doing transactions and stays idle, you should be working on bringing more transactions (sales sales sales) - not trying to save pennies on downsized postgres by moving from SSD-fast postgres to S3-slow-postgres.<p>I get that there are benefits to scaling up&#x2F;down, but to me: Serverless is a billing model for multi-tenant services, where user is billed by service usage, not the actual underlying resource consumption. Because in multi-tenant SAAS all your tenants share the underlying infrastructure</div><br/></div></div></div></div><div id="40515813" class="c"><input type="checkbox" id="c-40515813" checked=""/><div class="controls bullet"><span class="by">cowboylowrez</span><span>|</span><a href="#40515764">parent</a><span>|</span><a href="#40517894">prev</a><span>|</span><a href="#40516704">next</a><span>|</span><label class="collapse" for="c-40515813">[-]</label><label class="expand" for="c-40515813">[1 more]</label></div><br/><div class="children"><div class="content">I like to think this sort of project makes sense when putting screendoors on submarines.</div><br/></div></div></div></div><div id="40516704" class="c"><input type="checkbox" id="c-40516704" checked=""/><div class="controls bullet"><span class="by">victorbjorklund</span><span>|</span><a href="#40515764">prev</a><span>|</span><a href="#40516811">next</a><span>|</span><label class="collapse" for="c-40516704">[-]</label><label class="expand" for="c-40516704">[1 more]</label></div><br/><div class="children"><div class="content">Very cool.</div><br/></div></div><div id="40516811" class="c"><input type="checkbox" id="c-40516811" checked=""/><div class="controls bullet"><span class="by">scirob</span><span>|</span><a href="#40516704">prev</a><span>|</span><a href="#40516090">next</a><span>|</span><label class="collapse" for="c-40516811">[-]</label><label class="expand" for="c-40516811">[4 more]</label></div><br/><div class="children"><div class="content">now it would be mega cool if someone got a grant to do this with the open source stack.   fly uses   firecracker underneath  etc...</div><br/><div id="40516842" class="c"><input type="checkbox" id="c-40516842" checked=""/><div class="controls bullet"><span class="by">scirob</span><span>|</span><a href="#40516811">parent</a><span>|</span><a href="#40516090">next</a><span>|</span><label class="collapse" for="c-40516842">[-]</label><label class="expand" for="c-40516842">[3 more]</label></div><br/><div class="children"><div class="content">Oh fun this is from the CEO of supabase, so i guess that&#x27;s where the grant is coming from :))))</div><br/><div id="40516862" class="c"><input type="checkbox" id="c-40516862" checked=""/><div class="controls bullet"><span class="by">scirob</span><span>|</span><a href="#40516811">root</a><span>|</span><a href="#40516842">parent</a><span>|</span><a href="#40516090">next</a><span>|</span><label class="collapse" for="c-40516862">[-]</label><label class="expand" for="c-40516862">[2 more]</label></div><br/><div class="children"><div class="content">double funny,  looks like they already acquihired the main devs from Orioledb<p><a href="https:&#x2F;&#x2F;github.com&#x2F;akorotkov">https:&#x2F;&#x2F;github.com&#x2F;akorotkov</a>   now supabase 
<a href="https:&#x2F;&#x2F;github.com&#x2F;pashkinelfe">https:&#x2F;&#x2F;github.com&#x2F;pashkinelfe</a> now supabase<p>silicon valley isn&#x27;t capitalism awesome</div><br/><div id="40517611" class="c"><input type="checkbox" id="c-40517611" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#40516811">root</a><span>|</span><a href="#40516862">parent</a><span>|</span><a href="#40516090">next</a><span>|</span><label class="collapse" for="c-40517611">[-]</label><label class="expand" for="c-40517611">[1 more]</label></div><br/><div class="children"><div class="content">They acquired Oriole, see: <a href="https:&#x2F;&#x2F;supabase.com&#x2F;blog&#x2F;supabase-aquires-oriole">https:&#x2F;&#x2F;supabase.com&#x2F;blog&#x2F;supabase-aquires-oriole</a></div><br/></div></div></div></div></div></div></div></div><div id="40516090" class="c"><input type="checkbox" id="c-40516090" checked=""/><div class="controls bullet"><span class="by">canadiantim</span><span>|</span><a href="#40516811">prev</a><span>|</span><a href="#40514090">next</a><span>|</span><label class="collapse" for="c-40516090">[-]</label><label class="expand" for="c-40516090">[2 more]</label></div><br/><div class="children"><div class="content">Very cool! I’m glad to see someone working with oriole, been wanting to do something similar for a long while.<p>How tricky is it to with the S3 storage? Esp. In regards to permissions, etc.?<p>Thanks for sharing eh, love what you’re doing</div><br/><div id="40517058" class="c"><input type="checkbox" id="c-40517058" checked=""/><div class="controls bullet"><span class="by">kiwicopple</span><span>|</span><a href="#40516090">parent</a><span>|</span><a href="#40514090">next</a><span>|</span><label class="collapse" for="c-40517058">[-]</label><label class="expand" for="c-40517058">[1 more]</label></div><br/><div class="children"><div class="content">I think it’s pretty simple with S3, and the permissions are basically “keep the bucket private”<p>That said, this is very much an MVP and I’m sure I’ll encounter some dragons as I push for scale or as I receive feedback from customers</div><br/></div></div></div></div></div></div></div></div></div></body></html>