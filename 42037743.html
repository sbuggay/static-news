<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1730710881540" as="style"/><link rel="stylesheet" href="styles.css?v=1730710881540"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://code.jeremyevans.net/2024-11-03-adding-ipv6-to-my-home-network.html">Adding IPv6 to My Home Network (2024-11-03)</a> <span class="domain">(<a href="https://code.jeremyevans.net">code.jeremyevans.net</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>29 comments</span></div><br/><div><div id="42039536" class="c"><input type="checkbox" id="c-42039536" checked=""/><div class="controls bullet"><span class="by">djhworld</span><span>|</span><a href="#42038950">next</a><span>|</span><label class="collapse" for="c-42039536">[-]</label><label class="expand" for="c-42039536">[4 more]</label></div><br/><div class="children"><div class="content">My ISP supports ipv6, I spent a while yesterday setting it up because Hetzner VPS’s are slightly cheaper if you opt out of a v4 address so I wanted to try it out.<p>It all worked ok until I noticed I could access open ports on my Mac from the public internet, and then found out my router does not support blocking incoming traffic for IPV6.<p>Granted, it’s probably unfeasible for attackers to scan the entire space to find open ports, but I still wasn’t comfortable with leaving all my stuff exposed, so I disabled ipv6 again and came crawling back to v4.<p>Maybe when&#x2F;if I get a better router that supports firewalling ipv6 I’ll try again.</div><br/><div id="42039584" class="c"><input type="checkbox" id="c-42039584" checked=""/><div class="controls bullet"><span class="by">tonymet</span><span>|</span><a href="#42039536">parent</a><span>|</span><a href="#42038950">next</a><span>|</span><label class="collapse" for="c-42039584">[-]</label><label class="expand" for="c-42039584">[3 more]</label></div><br/><div class="children"><div class="content">I had a similar experience with my router and learned the hard way.  On the positive side, I became much more careful with Windows, MacOS &amp; UFW firewall .  On the downside, I have no idea how to manage firewall settings on mobile devices with or without MDM</div><br/><div id="42039783" class="c"><input type="checkbox" id="c-42039783" checked=""/><div class="controls bullet"><span class="by">Borg3</span><span>|</span><a href="#42039536">root</a><span>|</span><a href="#42039584">parent</a><span>|</span><a href="#42039745">next</a><span>|</span><label class="collapse" for="c-42039783">[-]</label><label class="expand" for="c-42039783">[1 more]</label></div><br/><div class="children"><div class="content">Why you dont run FW on your MAC? Thats not only a router problem, but your personal computer. Having on w&#x2F;o firewall is terrible idea.</div><br/></div></div><div id="42039745" class="c"><input type="checkbox" id="c-42039745" checked=""/><div class="controls bullet"><span class="by">k8sToGo</span><span>|</span><a href="#42039536">root</a><span>|</span><a href="#42039584">parent</a><span>|</span><a href="#42039783">prev</a><span>|</span><a href="#42038950">next</a><span>|</span><label class="collapse" for="c-42039745">[-]</label><label class="expand" for="c-42039745">[1 more]</label></div><br/><div class="children"><div class="content">But nothing changed? Technically your router is (or should be) your IPv6 firewall in this case.</div><br/></div></div></div></div></div></div><div id="42038950" class="c"><input type="checkbox" id="c-42038950" checked=""/><div class="controls bullet"><span class="by">freitasm</span><span>|</span><a href="#42039536">prev</a><span>|</span><a href="#42039338">next</a><span>|</span><label class="collapse" for="c-42038950">[-]</label><label class="expand" for="c-42038950">[6 more]</label></div><br/><div class="children"><div class="content">&gt;This documents how I added IPv6 to my home network, which runs OpenBSD, using OpenBSD&#x27;s ifconfig, slaacd, dhcp6leased, rad, and unbound. This should serve as a guide to other people in the same situation, but be aware you need to be running at least OpenBSD 7.6, as that is the version that added support for dhcp6leased and updated rad to handle DHCPv6 PD (prefix delegation). For older OpenBSD versions, you&#x27;ll have to use ports, and there are multiple guides for that, use your friendly neighborhood search engine.&quot;<p>The author forgot Step 1. Ensure your ISP provides IPV6 services.<p>Otherwise, good documentation for the record.</div><br/><div id="42039212" class="c"><input type="checkbox" id="c-42039212" checked=""/><div class="controls bullet"><span class="by">IntelMiner</span><span>|</span><a href="#42038950">parent</a><span>|</span><a href="#42039175">next</a><span>|</span><label class="collapse" for="c-42039212">[-]</label><label class="expand" for="c-42039212">[4 more]</label></div><br/><div class="children"><div class="content">Shout out to my old ISP CenturyLink who participated in world IPv6 day in 2011<p>...Then decided that NAT64 was &quot;good enough&quot; for people who wanted IPv6 instead of just doing fucking dual-stack</div><br/><div id="42039254" class="c"><input type="checkbox" id="c-42039254" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#42038950">root</a><span>|</span><a href="#42039212">parent</a><span>|</span><a href="#42039175">next</a><span>|</span><label class="collapse" for="c-42039254">[-]</label><label class="expand" for="c-42039254">[3 more]</label></div><br/><div class="children"><div class="content">NAT64 is a way for v6-only hosts to reach v4 hosts. I don&#x27;t understand how that would apply here?</div><br/><div id="42039380" class="c"><input type="checkbox" id="c-42039380" checked=""/><div class="controls bullet"><span class="by">jesprenj</span><span>|</span><a href="#42038950">root</a><span>|</span><a href="#42039254">parent</a><span>|</span><a href="#42039175">next</a><span>|</span><label class="collapse" for="c-42039380">[-]</label><label class="expand" for="c-42039380">[2 more]</label></div><br/><div class="children"><div class="content">I guess one could choose between v4 or v6 but not both at the same time (dual stack). My mobile ISP also does it this way -- you either use IPv4 only on mobile data or IPv6 only with NAT64 and DNS64 to reach v4 hosts.</div><br/><div id="42039725" class="c"><input type="checkbox" id="c-42039725" checked=""/><div class="controls bullet"><span class="by">zeroflow</span><span>|</span><a href="#42038950">root</a><span>|</span><a href="#42039380">parent</a><span>|</span><a href="#42039175">next</a><span>|</span><label class="collapse" for="c-42039725">[-]</label><label class="expand" for="c-42039725">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s frustrating trying to work with ISPs. While there surely are business services available, as a normal customer, you&#x27;re out of luck.<p>I count myself lucky, since I can at least get a public (dynamic) IPv4 address. The other option is DSLite with a single &#x2F;64 via DHCP6. Well, I can&#x27;t use that. So yeah, while it would be a fun journey trying out IPv6 - it&#x27;s not feasable for me. And most likely, that holds true for others aswell.<p>There are options available - like the HE tunnelbroker - but those come with their own set of drawbacks.</div><br/></div></div></div></div></div></div></div></div><div id="42039175" class="c"><input type="checkbox" id="c-42039175" checked=""/><div class="controls bullet"><span class="by">alrs</span><span>|</span><a href="#42038950">parent</a><span>|</span><a href="#42039212">prev</a><span>|</span><a href="#42039338">next</a><span>|</span><label class="collapse" for="c-42039175">[-]</label><label class="expand" for="c-42039175">[1 more]</label></div><br/><div class="children"><div class="content">Who cares if the ISP supports ipv6? Figuring out a world without DHCP and subnetting on a LAN is the hard part.</div><br/></div></div></div></div><div id="42039338" class="c"><input type="checkbox" id="c-42039338" checked=""/><div class="controls bullet"><span class="by">favflam</span><span>|</span><a href="#42038950">prev</a><span>|</span><a href="#42038931">next</a><span>|</span><label class="collapse" for="c-42039338">[-]</label><label class="expand" for="c-42039338">[1 more]</label></div><br/><div class="children"><div class="content">My ISP gave us MAP-E when we upgraded the bandwidth. We lost the ability to port forward ipv4, so we were forced to switch everything to ipv6.</div><br/></div></div><div id="42038931" class="c"><input type="checkbox" id="c-42038931" checked=""/><div class="controls bullet"><span class="by">Uptrenda</span><span>|</span><a href="#42039338">prev</a><span>|</span><a href="#42039780">next</a><span>|</span><label class="collapse" for="c-42038931">[-]</label><label class="expand" for="c-42038931">[16 more]</label></div><br/><div class="children"><div class="content">&quot;its just so simple bros&quot;<p>(((spends weeks trying to find a router that supports it. Spends longer finding an ISP that supports it. Finds an ISP, multiple stacks poorly support it. Web browsers barely support it. major large websites still aren&#x27;t running it. tools break with it enabled. Any ipv6 code needs a cluster-fuck of bind hacks to work cross-platform)))<p>Are you ready for the future, lads! Get ready! its coming!</div><br/><div id="42039266" class="c"><input type="checkbox" id="c-42039266" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#42038931">parent</a><span>|</span><a href="#42039592">next</a><span>|</span><label class="collapse" for="c-42039266">[-]</label><label class="expand" for="c-42039266">[8 more]</label></div><br/><div class="children"><div class="content">&gt; spends weeks trying to find a router that supports it<p>? You managed to buy a router in 2024 that <i>doesn&#x27;t</i> support IPv6?</div><br/><div id="42039691" class="c"><input type="checkbox" id="c-42039691" checked=""/><div class="controls bullet"><span class="by">the_mitsuhiko</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039266">parent</a><span>|</span><a href="#42039529">next</a><span>|</span><label class="collapse" for="c-42039691">[-]</label><label class="expand" for="c-42039691">[1 more]</label></div><br/><div class="children"><div class="content">&gt; ? You managed to buy a router in 2024 that doesn&#x27;t support IPv6?<p>I have a netgear Orbi at home that works just fine, but when I turn on IPv6 it loses internet connectivity after a few hours and takes minutes to reset.  Not wanting to be bothered with it, and not having a need for IPv6 I just turned it off.  That setup is about a year old.</div><br/></div></div><div id="42039529" class="c"><input type="checkbox" id="c-42039529" checked=""/><div class="controls bullet"><span class="by">somerandomqaguy</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039266">parent</a><span>|</span><a href="#42039691">prev</a><span>|</span><a href="#42039389">next</a><span>|</span><label class="collapse" for="c-42039529">[-]</label><label class="expand" for="c-42039529">[2 more]</label></div><br/><div class="children"><div class="content">The older Ubiquiti Edge Routers by default don&#x27;t support IPv6 very well unless you go in by the CLI; you have to set everything up from scratch.<p>Trying to get it to run from scratch on an OpenWRT x86 image is also a royal PITA, but that might be just a quirk of how the x86 image is configured by default; I haven&#x27;t had a chance to try it on hardware they support properly.</div><br/><div id="42039618" class="c"><input type="checkbox" id="c-42039618" checked=""/><div class="controls bullet"><span class="by">Ndymium</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039529">parent</a><span>|</span><a href="#42039389">next</a><span>|</span><label class="collapse" for="c-42039618">[-]</label><label class="expand" for="c-42039618">[1 more]</label></div><br/><div class="children"><div class="content">Related, I just recently got IPv6 in my home connection and tried to set it up with my EdgeRouter X. It was impossible even though I followed all the online instructions to the letter. I then installed OpenWrt on it and it worked like a charm, with IPv6 out of the box (I did customise my configuration later). I wrote a post about the process for anyone interested [0].<p>[0] <a href="https:&#x2F;&#x2F;blog.nytsoi.net&#x2F;2024&#x2F;09&#x2F;19&#x2F;edgerouter-x-openwrt" rel="nofollow">https:&#x2F;&#x2F;blog.nytsoi.net&#x2F;2024&#x2F;09&#x2F;19&#x2F;edgerouter-x-openwrt</a></div><br/></div></div></div></div><div id="42039389" class="c"><input type="checkbox" id="c-42039389" checked=""/><div class="controls bullet"><span class="by">jesprenj</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039266">parent</a><span>|</span><a href="#42039529">prev</a><span>|</span><a href="#42039391">next</a><span>|</span><label class="collapse" for="c-42039389">[-]</label><label class="expand" for="c-42039389">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;d be surprised how many cheap tenda wifi &quot;access points&quot; sold right now for 15€ still don&#x27;t support v6, even though access points shouldn&#x27;t mess with anything above L2.</div><br/></div></div><div id="42039391" class="c"><input type="checkbox" id="c-42039391" checked=""/><div class="controls bullet"><span class="by">Uptrenda</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039266">parent</a><span>|</span><a href="#42039389">prev</a><span>|</span><a href="#42039572">next</a><span>|</span><label class="collapse" for="c-42039391">[-]</label><label class="expand" for="c-42039391">[2 more]</label></div><br/><div class="children"><div class="content">Yes, and there are different definitions of &#x27;support.&#x27; Since IPv6 has many deployment options &#x27;support&#x27; might be the most basic, regular definition where the router tries to manage everything and won&#x27;t work with the network your ISP uses.<p>Normally IPv6 is added as an afterthought. So it won&#x27;t support many of the advanced features that the V4 interface does. E.g. its very basic to want to set static IPs -&gt; MAC entries when running DHCP. Of the many routers I&#x27;ve tried that &#x27;support&#x27; IPv6 they don&#x27;t offer these features. V4 will also have features for UPnP and even though most routers are probably using miniupnpd (which has support for IPv6) the chances of it having been setup for the router are slim.<p>It&#x27;s quite useful because UPnP can dynamically let traffic reach IPv6 global scope addresses in your network (with pin holing.) So without this feature networked software can&#x27;t run services easily (arguably what was meant to be a key benefit for v6.) You know -- the funny thing is -- V6 was meant to give everyone &#x27;public&#x27;, &#x27;routable&#x27; addresses. But the reality is because its firewalled (both at the router and the OS) coupled with the availability of services to automatically let traffic through -- I&#x27;d say its less reachable than IPv4. Those who hope that V6 is going to be the future of P2P are in for a bad surprise.</div><br/><div id="42039673" class="c"><input type="checkbox" id="c-42039673" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039391">parent</a><span>|</span><a href="#42039572">next</a><span>|</span><label class="collapse" for="c-42039673">[-]</label><label class="expand" for="c-42039673">[1 more]</label></div><br/><div class="children"><div class="content">I ran pfSense at home, and while I&#x27;m sure their IPv6 support was fine enough in a business setting, it was useless in a residential setting. Seems they made some progress[1] in 2021, but that doesn&#x27;t cover aliases so one could say it&#x27;s still not fully supporting residential IPv6.<p>I switched to OpenWRT which has worked well enough.<p>[1]: <a href="https:&#x2F;&#x2F;redmine.pfsense.org&#x2F;issues&#x2F;6626" rel="nofollow">https:&#x2F;&#x2F;redmine.pfsense.org&#x2F;issues&#x2F;6626</a></div><br/></div></div></div></div><div id="42039572" class="c"><input type="checkbox" id="c-42039572" checked=""/><div class="controls bullet"><span class="by">tonymet</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039266">parent</a><span>|</span><a href="#42039391">prev</a><span>|</span><a href="#42039592">next</a><span>|</span><label class="collapse" for="c-42039572">[-]</label><label class="expand" for="c-42039572">[1 more]</label></div><br/><div class="children"><div class="content">many of the ones that claim they do, really don&#x27;t, or just support a subset.<p>My router does route ipv6 traffic, but does not firewall it, and has other critical security breaches with ipv6.</div><br/></div></div></div></div><div id="42039592" class="c"><input type="checkbox" id="c-42039592" checked=""/><div class="controls bullet"><span class="by">izacus</span><span>|</span><a href="#42038931">parent</a><span>|</span><a href="#42039266">prev</a><span>|</span><a href="#42038973">next</a><span>|</span><label class="collapse" for="c-42039592">[-]</label><label class="expand" for="c-42039592">[1 more]</label></div><br/><div class="children"><div class="content">Also, router supporting IPv6 technically doesn&#x27;t mean it supports all features you&#x27;d need for home network. Most routers support RA and that&#x27;s it... it&#x27;s very common to find ones that don&#x27;t even support firewall rules for v6.</div><br/></div></div><div id="42038973" class="c"><input type="checkbox" id="c-42038973" checked=""/><div class="controls bullet"><span class="by">freitasm</span><span>|</span><a href="#42038931">parent</a><span>|</span><a href="#42039592">prev</a><span>|</span><a href="#42039340">next</a><span>|</span><label class="collapse" for="c-42038973">[-]</label><label class="expand" for="c-42038973">[4 more]</label></div><br/><div class="children"><div class="content">It can be simple. I use an ISP that&#x27;s been providing IPv6 for years, and they were kind enough to document what users need to do to get it working (<a href="https:&#x2F;&#x2F;www.geekzone.co.nz&#x2F;forums.asp?topicid=240157" rel="nofollow">https:&#x2F;&#x2F;www.geekzone.co.nz&#x2F;forums.asp?topicid=240157</a>). However, if you use their routers (Fritz!Box), it works out of the box.<p>I use a third-party router (Synology) and only had to check the IPv6 box to get it running—even with multiple VLANs in my network.<p>There are plenty of IPv6 services around. If a service is behind Cloudflare, it&#x27;s likely IPv6 will be enabled by default. It is the same with other services, including some cloud providers now giving IPv6 addresses but charging for IPv4.</div><br/><div id="42039409" class="c"><input type="checkbox" id="c-42039409" checked=""/><div class="controls bullet"><span class="by">Uptrenda</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42038973">parent</a><span>|</span><a href="#42039060">next</a><span>|</span><label class="collapse" for="c-42039409">[-]</label><label class="expand" for="c-42039409">[2 more]</label></div><br/><div class="children"><div class="content">My iinet connection doesn&#x27;t support it; My aussie broadband one did; My starlink connection didn&#x27;t; My telstra one didnt (the routers they provided didnt even support v6); Maybe starlink supports v6 now but I know people were complaining about this early on (router UI had no mention of v6 but maybe possible?)<p>It seems to be that you have to choose the ISPs that support it if you want it here (im based in Australia.)</div><br/><div id="42039504" class="c"><input type="checkbox" id="c-42039504" checked=""/><div class="controls bullet"><span class="by">worthless-trash</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039409">parent</a><span>|</span><a href="#42039060">next</a><span>|</span><label class="collapse" for="c-42039504">[-]</label><label class="expand" for="c-42039504">[1 more]</label></div><br/><div class="children"><div class="content">IInet is part of TPGI now, so the churn should be free.</div><br/></div></div></div></div><div id="42039060" class="c"><input type="checkbox" id="c-42039060" checked=""/><div class="controls bullet"><span class="by">worthless-trash</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42038973">parent</a><span>|</span><a href="#42039409">prev</a><span>|</span><a href="#42039340">next</a><span>|</span><label class="collapse" for="c-42039060">[-]</label><label class="expand" for="c-42039060">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I&#x27;m connected to TPGI in australia, all my devices have it, seems to work.. something like 35% of my traffic goes over ipv6.<p>Only thing I had to do was tick the &quot;use ipv6&quot; button on my router.</div><br/></div></div></div></div><div id="42039340" class="c"><input type="checkbox" id="c-42039340" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#42038931">parent</a><span>|</span><a href="#42038973">prev</a><span>|</span><a href="#42039780">next</a><span>|</span><label class="collapse" for="c-42039340">[-]</label><label class="expand" for="c-42039340">[2 more]</label></div><br/><div class="children"><div class="content">What web browser would &quot;barely&quot; support it? I use Firefox on Linux and have not noted any problems. Well, I don&#x27;t check every connection and whether the server would have supported it. But whenever I checked for curiosity IPv6 was used when supported.</div><br/><div id="42039672" class="c"><input type="checkbox" id="c-42039672" checked=""/><div class="controls bullet"><span class="by">roygbiv2</span><span>|</span><a href="#42038931">root</a><span>|</span><a href="#42039340">parent</a><span>|</span><a href="#42039780">next</a><span>|</span><label class="collapse" for="c-42039672">[-]</label><label class="expand" for="c-42039672">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a nice extension for firefox called sixindicator which displays a 6 or a 4 in the address bar depending on which one the site uses.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>