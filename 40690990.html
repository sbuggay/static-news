<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1718528458055" as="style"/><link rel="stylesheet" href="styles.css?v=1718528458055"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/jarusll/keydogger">Show HN: Keydogger – Minimal keyboard macro for Linux (Wayland)</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>jarusll</span> | <span>40 comments</span></div><br/><div><div id="40691126" class="c"><input type="checkbox" id="c-40691126" checked=""/><div class="controls bullet"><span class="by">playingalong</span><span>|</span><a href="#40693810">next</a><span>|</span><label class="collapse" for="c-40691126">[-]</label><label class="expand" for="c-40691126">[13 more]</label></div><br/><div class="children"><div class="content">The readme hardly explains what it does.<p>Is it a keyboard macro service? E.g. for a given keyboard shortcut I get a predefined sequence of keys pressed?</div><br/><div id="40691182" class="c"><input type="checkbox" id="c-40691182" checked=""/><div class="controls bullet"><span class="by">diggan</span><span>|</span><a href="#40691126">parent</a><span>|</span><a href="#40692080">next</a><span>|</span><label class="collapse" for="c-40691182">[-]</label><label class="expand" for="c-40691182">[7 more]</label></div><br/><div class="children"><div class="content">I think the GIF is supposed to give the breakdown. As I understand, type &quot;@mymacro&quot; and it can expand it to whatever you define.<p>Wouldn&#x27;t hurt to have a description in text though...</div><br/><div id="40691836" class="c"><input type="checkbox" id="c-40691836" checked=""/><div class="controls bullet"><span class="by">jarusll</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691182">parent</a><span>|</span><a href="#40691418">next</a><span>|</span><label class="collapse" for="c-40691836">[-]</label><label class="expand" for="c-40691836">[4 more]</label></div><br/><div class="children"><div class="content">I do realise it now that it&#x27;s missing it&#x27;s usage. It&#x27;s a simple keyboard macro which supports all printable characters for triggers and everything for expansions. It sends native key presses if all the expansion are printable characters. If not, it uses clipboard and sends `Ctrl+V`</div><br/><div id="40693055" class="c"><input type="checkbox" id="c-40693055" checked=""/><div class="controls bullet"><span class="by">lukasb</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691836">parent</a><span>|</span><a href="#40691860">next</a><span>|</span><label class="collapse" for="c-40693055">[-]</label><label class="expand" for="c-40693055">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m used to user-facing macros (as opposed to say a Lisp macro) being scripts triggered by a keyboard shortcut, so the terminology was confusing to me. Calling this &quot;text expansion&quot; or &quot;text substitution&quot; would have made immediate sense.</div><br/></div></div><div id="40691860" class="c"><input type="checkbox" id="c-40691860" checked=""/><div class="controls bullet"><span class="by">diggan</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691836">parent</a><span>|</span><a href="#40693055">prev</a><span>|</span><a href="#40691418">next</a><span>|</span><label class="collapse" for="c-40691860">[-]</label><label class="expand" for="c-40691860">[2 more]</label></div><br/><div class="children"><div class="content">Thanks! I think maybe not everyone understands exactly what a &quot;keyboard macro&quot; is, that you type something and it fills out predefined text. At least judging by some comments here :)</div><br/><div id="40692101" class="c"><input type="checkbox" id="c-40692101" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691860">parent</a><span>|</span><a href="#40691418">next</a><span>|</span><label class="collapse" for="c-40692101">[-]</label><label class="expand" for="c-40692101">[1 more]</label></div><br/><div class="children"><div class="content">I think more people know what a keylogger is and are confused by that.</div><br/></div></div></div></div></div></div><div id="40691418" class="c"><input type="checkbox" id="c-40691418" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691182">parent</a><span>|</span><a href="#40691836">prev</a><span>|</span><a href="#40692080">next</a><span>|</span><label class="collapse" for="c-40691418">[-]</label><label class="expand" for="c-40691418">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s mysterious to me as well, but yeah after looking through the code briefly I think you define macros in the keydoggerrc file, and then keydogger watches the clipboard for triggers and responds accordingly.  I love the idea, still a bit too much in the dark on the implementation to have an opinion though.  Given the highly sensitive nature of the clipboard, I appreciate how small the app is because it&#x27;s auditable.<p>OP:  Cool project, thanks for sharing!</div><br/><div id="40691794" class="c"><input type="checkbox" id="c-40691794" checked=""/><div class="controls bullet"><span class="by">jarusll</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691418">parent</a><span>|</span><a href="#40692080">next</a><span>|</span><label class="collapse" for="c-40691794">[-]</label><label class="expand" for="c-40691794">[1 more]</label></div><br/><div class="children"><div class="content">You get it perfectly. Being auditable was one of the priority which is exactly why it&#x27;s small.<p>Regarding the clipboard, it&#x27;s a third party dependency. I looked into implementing Wayland clipboard myself but it is too deep Wayland. The only reason clipboard exists is because I cannot send non-printable characters using uinput.</div><br/></div></div></div></div></div></div><div id="40692080" class="c"><input type="checkbox" id="c-40692080" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#40691126">parent</a><span>|</span><a href="#40691182">prev</a><span>|</span><a href="#40691509">next</a><span>|</span><label class="collapse" for="c-40692080">[-]</label><label class="expand" for="c-40692080">[3 more]</label></div><br/><div class="children"><div class="content">I hate to be that guy, but the name is neither helpful to explain what it does nor will it facilitate adoption. Show me the IT department that won&#x27;t freak out when it sees a process called <i>&quot;keylogger&quot;</i>.<p>Apart from that I will certainly try it because I have a use for a lightweight <i>one job - one tool</i> kind of typing helper. I guess others will too.</div><br/><div id="40692418" class="c"><input type="checkbox" id="c-40692418" checked=""/><div class="controls bullet"><span class="by">zamadatix</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40692080">parent</a><span>|</span><a href="#40692119">next</a><span>|</span><label class="collapse" for="c-40692418">[-]</label><label class="expand" for="c-40692418">[1 more]</label></div><br/><div class="children"><div class="content">I have a feeling any IT place that&#x27;s fuzzy matching process names to raise alarms on &quot;keydogger&quot; is not the kind of place that&#x27;s going to let users install 3rd party programs with access to &#x2F;dev&#x2F;uinput to customize their Wayland on Linux install in the first place. Nor should every open source app be worried about businesses or user growth rate.<p>I&#x27;m not sure what the origin of &quot;keydogger&quot; is but at least there aren&#x27;t 10 apps with the name and it&#x27;s pronounceable.</div><br/></div></div><div id="40692119" class="c"><input type="checkbox" id="c-40692119" checked=""/><div class="controls bullet"><span class="by">guilhas</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40692080">parent</a><span>|</span><a href="#40692418">prev</a><span>|</span><a href="#40691509">next</a><span>|</span><label class="collapse" for="c-40692119">[-]</label><label class="expand" for="c-40692119">[1 more]</label></div><br/><div class="children"><div class="content">My workstation was lockdown for downloading ProcessHacker</div><br/></div></div></div></div><div id="40691509" class="c"><input type="checkbox" id="c-40691509" checked=""/><div class="controls bullet"><span class="by">kleiba</span><span>|</span><a href="#40691126">parent</a><span>|</span><a href="#40692080">prev</a><span>|</span><a href="#40693810">next</a><span>|</span><label class="collapse" for="c-40691509">[-]</label><label class="expand" for="c-40691509">[2 more]</label></div><br/><div class="children"><div class="content">It looks like dabbrev in Emacs maybe?!</div><br/><div id="40691936" class="c"><input type="checkbox" id="c-40691936" checked=""/><div class="controls bullet"><span class="by">jarusll</span><span>|</span><a href="#40691126">root</a><span>|</span><a href="#40691509">parent</a><span>|</span><a href="#40693810">next</a><span>|</span><label class="collapse" for="c-40691936">[-]</label><label class="expand" for="c-40691936">[1 more]</label></div><br/><div class="children"><div class="content">Looked up `abbrev-mode` and that is a correct analogy. Abbrev mode also handles emojis, pretty cool. But then it&#x27;s Emacs so I shouldn&#x27;t be surprised.<p>Offtopic, I wish my younger self followed RTFM when I used to use Emacs.</div><br/></div></div></div></div></div></div><div id="40693810" class="c"><input type="checkbox" id="c-40693810" checked=""/><div class="controls bullet"><span class="by">knighthack</span><span>|</span><a href="#40691126">prev</a><span>|</span><a href="#40691143">next</a><span>|</span><label class="collapse" for="c-40693810">[-]</label><label class="expand" for="c-40693810">[1 more]</label></div><br/><div class="children"><div class="content">Look into Espanso as well. Works great, and is cross-platform.</div><br/></div></div><div id="40691143" class="c"><input type="checkbox" id="c-40691143" checked=""/><div class="controls bullet"><span class="by">RadiozRadioz</span><span>|</span><a href="#40693810">prev</a><span>|</span><a href="#40691528">next</a><span>|</span><label class="collapse" for="c-40691143">[-]</label><label class="expand" for="c-40691143">[2 more]</label></div><br/><div class="children"><div class="content">The name is teetering on the edge of hilarity for British users.</div><br/><div id="40692606" class="c"><input type="checkbox" id="c-40692606" checked=""/><div class="controls bullet"><span class="by">abraae</span><span>|</span><a href="#40691143">parent</a><span>|</span><a href="#40691528">next</a><span>|</span><label class="collapse" for="c-40692606">[-]</label><label class="expand" for="c-40692606">[1 more]</label></div><br/><div class="children"><div class="content">Triggering at both a security and a sexual deviancy level.</div><br/></div></div></div></div><div id="40691528" class="c"><input type="checkbox" id="c-40691528" checked=""/><div class="controls bullet"><span class="by">lompad</span><span>|</span><a href="#40691143">prev</a><span>|</span><a href="#40694240">next</a><span>|</span><label class="collapse" for="c-40691528">[-]</label><label class="expand" for="c-40691528">[3 more]</label></div><br/><div class="children"><div class="content">How does it compare to kanata and kmonad?<p>Found especially kanata a delight to use, while being both minimal, if needed, and maximally feature-filled if desired.</div><br/><div id="40692055" class="c"><input type="checkbox" id="c-40692055" checked=""/><div class="controls bullet"><span class="by">jarusll</span><span>|</span><a href="#40691528">parent</a><span>|</span><a href="#40694240">next</a><span>|</span><label class="collapse" for="c-40692055">[-]</label><label class="expand" for="c-40692055">[2 more]</label></div><br/><div class="children"><div class="content">It is not meant to compete with feature rich programs.<p>Keydogger does one thing and it does it well. If you think it&#x27;s misbehaving in any way, it&#x27;s so small you can read and confirm that behaviour.</div><br/><div id="40692207" class="c"><input type="checkbox" id="c-40692207" checked=""/><div class="controls bullet"><span class="by">lompad</span><span>|</span><a href="#40691528">root</a><span>|</span><a href="#40692055">parent</a><span>|</span><a href="#40694240">next</a><span>|</span><label class="collapse" for="c-40692207">[-]</label><label class="expand" for="c-40692207">[1 more]</label></div><br/><div class="children"><div class="content">I see. Thanks for the clear explanation, it looks quite interesting for super quick setups.<p>Cheers!</div><br/></div></div></div></div></div></div><div id="40694240" class="c"><input type="checkbox" id="c-40694240" checked=""/><div class="controls bullet"><span class="by">gradientsrneat</span><span>|</span><a href="#40691528">prev</a><span>|</span><a href="#40691728">next</a><span>|</span><label class="collapse" for="c-40694240">[-]</label><label class="expand" for="c-40694240">[2 more]</label></div><br/><div class="children"><div class="content">Looks like a cross between an IME and autocomplete. Although in my case, I think I would prefer a proper IME, or maybe something like dmenu with fuzzy search, to invoke on an &quot;as needed&quot; basis.</div><br/><div id="40695217" class="c"><input type="checkbox" id="c-40695217" checked=""/><div class="controls bullet"><span class="by">jarusll</span><span>|</span><a href="#40694240">parent</a><span>|</span><a href="#40691728">next</a><span>|</span><label class="collapse" for="c-40695217">[-]</label><label class="expand" for="c-40695217">[1 more]</label></div><br/><div class="children"><div class="content">Dmenu like fuzzy search does make sense when you have alot of expansions. I&#x27;ll add it as I find the need for it myself.</div><br/></div></div></div></div><div id="40691728" class="c"><input type="checkbox" id="c-40691728" checked=""/><div class="controls bullet"><span class="by">mmphosis</span><span>|</span><a href="#40694240">prev</a><span>|</span><a href="#40691495">next</a><span>|</span><label class="collapse" for="c-40691728">[-]</label><label class="expand" for="c-40691728">[3 more]</label></div><br/><div class="children"><div class="content">There is AutoKey for Linux and X11.</div><br/><div id="40692416" class="c"><input type="checkbox" id="c-40692416" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#40691728">parent</a><span>|</span><a href="#40692312">next</a><span>|</span><label class="collapse" for="c-40692416">[-]</label><label class="expand" for="c-40692416">[1 more]</label></div><br/><div class="children"><div class="content">And it can wonderfully be programmed in Python. I miss it in wayland. It works sometimes, and sometimes not, which kinda defeat the purpose.</div><br/></div></div><div id="40692312" class="c"><input type="checkbox" id="c-40692312" checked=""/><div class="controls bullet"><span class="by">bottom999mottob</span><span>|</span><a href="#40691728">parent</a><span>|</span><a href="#40692416">prev</a><span>|</span><a href="#40691495">next</a><span>|</span><label class="collapse" for="c-40692312">[-]</label><label class="expand" for="c-40692312">[1 more]</label></div><br/><div class="children"><div class="content">AutoKey definitely has more features than this, but I think this looks easier to automate with pipes after a cursory look at the repo.</div><br/></div></div></div></div><div id="40691495" class="c"><input type="checkbox" id="c-40691495" checked=""/><div class="controls bullet"><span class="by">guilhas</span><span>|</span><a href="#40691728">prev</a><span>|</span><a href="#40691294">next</a><span>|</span><label class="collapse" for="c-40691495">[-]</label><label class="expand" for="c-40691495">[6 more]</label></div><br/><div class="children"><div class="content">There is Expanso for xorg<p><a href="https:&#x2F;&#x2F;espanso.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;espanso.org&#x2F;</a></div><br/><div id="40691862" class="c"><input type="checkbox" id="c-40691862" checked=""/><div class="controls bullet"><span class="by">jarusll</span><span>|</span><a href="#40691495">parent</a><span>|</span><a href="#40692681">next</a><span>|</span><label class="collapse" for="c-40691862">[-]</label><label class="expand" for="c-40691862">[2 more]</label></div><br/><div class="children"><div class="content">It works on Wayland as well AFAIK. I looked up espanso for expanding emojis and it seems they too use `wl-clipboard`</div><br/><div id="40692020" class="c"><input type="checkbox" id="c-40692020" checked=""/><div class="controls bullet"><span class="by">guilhas</span><span>|</span><a href="#40691495">root</a><span>|</span><a href="#40691862">parent</a><span>|</span><a href="#40692681">next</a><span>|</span><label class="collapse" for="c-40692020">[-]</label><label class="expand" for="c-40692020">[1 more]</label></div><br/><div class="children"><div class="content">It does, but it has some annoying  issues open, depending on environment, as Wayland support was added later<p>But someone using Wayland and Expanso can probably comment their experience<p>I would use them conditionally</div><br/></div></div></div></div><div id="40692681" class="c"><input type="checkbox" id="c-40692681" checked=""/><div class="controls bullet"><span class="by">rabbitofdeath</span><span>|</span><a href="#40691495">parent</a><span>|</span><a href="#40691862">prev</a><span>|</span><a href="#40693827">next</a><span>|</span><label class="collapse" for="c-40692681">[-]</label><label class="expand" for="c-40692681">[1 more]</label></div><br/><div class="children"><div class="content">This is one of the first things I install on new linux machines - such a great tool.</div><br/></div></div><div id="40693827" class="c"><input type="checkbox" id="c-40693827" checked=""/><div class="controls bullet"><span class="by">n8henrie</span><span>|</span><a href="#40691495">parent</a><span>|</span><a href="#40692681">prev</a><span>|</span><a href="#40693525">next</a><span>|</span><label class="collapse" for="c-40693827">[-]</label><label class="expand" for="c-40693827">[1 more]</label></div><br/><div class="children"><div class="content">And for Wayland, and macOS, and windows!<p>Edit: also, &quot;Espanso&quot;</div><br/></div></div></div></div><div id="40691294" class="c"><input type="checkbox" id="c-40691294" checked=""/><div class="controls bullet"><span class="by">atsaloli</span><span>|</span><a href="#40691495">prev</a><span>|</span><a href="#40693556">next</a><span>|</span><label class="collapse" for="c-40691294">[-]</label><label class="expand" for="c-40691294">[1 more]</label></div><br/><div class="children"><div class="content">This is exactly what I wanted (a macro for my email address). Thanks!</div><br/></div></div><div id="40693556" class="c"><input type="checkbox" id="c-40693556" checked=""/><div class="controls bullet"><span class="by">bananamerica</span><span>|</span><a href="#40691294">prev</a><span>|</span><a href="#40691439">next</a><span>|</span><label class="collapse" for="c-40693556">[-]</label><label class="expand" for="c-40693556">[1 more]</label></div><br/><div class="children"><div class="content">So it&#x27;s text expansion. Maybe you should just call it that? Also I 100% thought it was a keylogger with some relation to a sex act in the UK, which is why I clicked in the first place. Maybe not a great name for something as innocuous and not entirely erotic like text expansion.</div><br/></div></div></div></div></div></div></div></body></html>