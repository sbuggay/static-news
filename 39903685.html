<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712134865344" as="style"/><link rel="stylesheet" href="styles.css?v=1712134865344"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://research.swtch.com/xz-script">The xz attack shell script</a> <span class="domain">(<a href="https://research.swtch.com">research.swtch.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>155 comments</span></div><br/><div><div id="39911156" class="c"><input type="checkbox" id="c-39911156" checked=""/><div class="controls bullet"><span class="by">bandrami</span><span>|</span><a href="#39907835">next</a><span>|</span><label class="collapse" for="c-39911156">[-]</label><label class="expand" for="c-39911156">[59 more]</label></div><br/><div class="children"><div class="content">As a longtime autotools-hater I would say this justifies my position, but any build system complex enough to be multiplatform is going to be inscrutable enough to let somebody slip something in like this. But it really is a problem that so much software is built with what&#x27;s essentially become a giant cargo cult-style shell script whose pieces no one person understands all of.</div><br/><div id="39911234" class="c"><input type="checkbox" id="c-39911234" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39914620">next</a><span>|</span><label class="collapse" for="c-39911234">[-]</label><label class="expand" for="c-39911234">[45 more]</label></div><br/><div class="children"><div class="content">I think the common usage of bash and other languages with a dense and complicated syntax is the root problem here. If build scripts were written in python, you would have a hard time obfuscating backdoors, because everyone would see that it is weird code. Bash code is just assumed to be normal when you can’t read it.</div><br/><div id="39911299" class="c"><input type="checkbox" id="c-39911299" checked=""/><div class="controls bullet"><span class="by">kimixa</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911234">parent</a><span>|</span><a href="#39914923">next</a><span>|</span><label class="collapse" for="c-39911299">[-]</label><label class="expand" for="c-39911299">[29 more]</label></div><br/><div class="children"><div class="content">I think the issue is that build systems are often build on a completely different language - python with some weird build framework is likely as inscrutable as bash and autotools to someone who doesn&#x27;t use python.<p>You <i>can</i> write pretty straightforward readable bash, just as I&#x27;m sure you can write pretty gnarly python. Especially if you&#x27;re intentionally trying to obfuscate.</div><br/><div id="39912167" class="c"><input type="checkbox" id="c-39912167" checked=""/><div class="controls bullet"><span class="by">sanderjd</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911299">parent</a><span>|</span><a href="#39911348">next</a><span>|</span><label class="collapse" for="c-39912167">[-]</label><label class="expand" for="c-39912167">[12 more]</label></div><br/><div class="children"><div class="content">Man, this <i>sounds</i> right, but I dunno ... I feel like even &quot;simple&quot; shell scripts tend toward more inscrutability than all but the most questionable python code I&#x27;ve ever written. Just comparing my dotfiles - every bit of which I understood when I wrote them - to the gnarliest sections of a big python app I work on ... I just really feel like at least <i>some</i> of this inscrutability issue can truly be laid at the feet of shell &#x2F; bash as a language.</div><br/><div id="39913792" class="c"><input type="checkbox" id="c-39913792" checked=""/><div class="controls bullet"><span class="by">dboreham</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912167">parent</a><span>|</span><a href="#39912804">next</a><span>|</span><label class="collapse" for="c-39913792">[-]</label><label class="expand" for="c-39913792">[6 more]</label></div><br/><div class="children"><div class="content">Shell is evil mainly because it&#x27;s so old. It&#x27;s largely unchanged since 1978 and had to run on incredibly resource limited machines. What it could achieve on those machines was amazing. Tradeoffs would be different today, e.g. PowerShell.</div><br/><div id="39914284" class="c"><input type="checkbox" id="c-39914284" checked=""/><div class="controls bullet"><span class="by">SlightlyLeftPad</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39913792">parent</a><span>|</span><a href="#39912804">next</a><span>|</span><label class="collapse" for="c-39914284">[-]</label><label class="expand" for="c-39914284">[5 more]</label></div><br/><div class="children"><div class="content">A big pet peeve of mine is that shell is written off as evil but the only reason I ever hear is basically a variation of “I don’t understand it, therefore it scares me.” The reality is, unlike _really_ old languages like COBOL or RPG, bash is still literally everywhere, it’s installed on practically every linux machine by default which makes deploying a shell script completely trivial. It’s certainly under appreciated and because it’s ubiquitous, widely used in build processes, there’s a responsibility to learn it. It’s not hard, it’s not a wildly complex language.<p>I don’t think these issues would necessarily be solved at all by waving a hand and replacing it with similarly complex build tools. Bazel, for example, can be a daunting tool to fully grasp. Any tool used should be well understood. Easier said than done of course.</div><br/><div id="39914339" class="c"><input type="checkbox" id="c-39914339" checked=""/><div class="controls bullet"><span class="by">Espressosaurus</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914284">parent</a><span>|</span><a href="#39912804">next</a><span>|</span><label class="collapse" for="c-39914339">[-]</label><label class="expand" for="c-39914339">[4 more]</label></div><br/><div class="children"><div class="content">If a language has more footguns than guns-pointed-at-not-my-feet, I consider that a problem with the language.<p>And shell has a lot of footguns.</div><br/><div id="39914461" class="c"><input type="checkbox" id="c-39914461" checked=""/><div class="controls bullet"><span class="by">SlightlyLeftPad</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914339">parent</a><span>|</span><a href="#39912804">next</a><span>|</span><label class="collapse" for="c-39914461">[-]</label><label class="expand" for="c-39914461">[3 more]</label></div><br/><div class="children"><div class="content">I’d argue that every language is loaded full of foot guns. If you’re encountering those foot guns on a regular basis, it’s an issue with the author.<p>That said, what can help drastically here are well-defined best practices and conventions built into the language which, admittedly, bash really doesn’t have.</div><br/><div id="39914871" class="c"><input type="checkbox" id="c-39914871" checked=""/><div class="controls bullet"><span class="by">_a_a_a_</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914461">parent</a><span>|</span><a href="#39912804">next</a><span>|</span><label class="collapse" for="c-39914871">[-]</label><label class="expand" for="c-39914871">[2 more]</label></div><br/><div class="children"><div class="content">Can you point to 3 python foot guns, for instance?</div><br/><div id="39914977" class="c"><input type="checkbox" id="c-39914977" checked=""/><div class="controls bullet"><span class="by">s1dev</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914871">parent</a><span>|</span><a href="#39912804">next</a><span>|</span><label class="collapse" for="c-39914977">[-]</label><label class="expand" for="c-39914977">[1 more]</label></div><br/><div class="children"><div class="content">I’m generally in agreement with the anti-bash camp, but I can name some :)<p>- Mutating default arguments to functions, so subsequent calls have different behavior<p>- Somewhat particular rules around creating references vs copies<p>- Things that look like lambda captures but aren’t quite</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39912804" class="c"><input type="checkbox" id="c-39912804" checked=""/><div class="controls bullet"><span class="by">clnhlzmn</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912167">parent</a><span>|</span><a href="#39913792">prev</a><span>|</span><a href="#39911348">next</a><span>|</span><label class="collapse" for="c-39912804">[-]</label><label class="expand" for="c-39912804">[5 more]</label></div><br/><div class="children"><div class="content">This is totally true and the bash apologists are delusional.</div><br/><div id="39914144" class="c"><input type="checkbox" id="c-39914144" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912804">parent</a><span>|</span><a href="#39914904">next</a><span>|</span><label class="collapse" for="c-39914144">[-]</label><label class="expand" for="c-39914144">[2 more]</label></div><br/><div class="children"><div class="content">So are some Python advocates, too. The thing that&#x27;s worse than a bash script made of Perlish line noise, is a piece of &quot;clean code&quot; dead simple Python that&#x27;s 80% __language__.boilerplate, 20% logic, smeared over 10x the lines because small functions calling small functions are cool. No one has enough working memory to keep track of what&#x27;s going on there. Instead, your eyes glaze over it and you convince yourself you understand what&#x27;s going on.<p>Also, Python build scripts can be living hell too, full of dancing devils that could be introducing backdoors left and right - just look at your average Conan recipe, particularly for larger&#x2F;more sensitive libraries, like OpenSSL or libcurl.</div><br/><div id="39914878" class="c"><input type="checkbox" id="c-39914878" checked=""/><div class="controls bullet"><span class="by">_a_a_a_</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914144">parent</a><span>|</span><a href="#39914904">next</a><span>|</span><label class="collapse" for="c-39914878">[-]</label><label class="expand" for="c-39914878">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a lot of emotive language, can you actually link to some actual examples.</div><br/></div></div></div></div><div id="39914904" class="c"><input type="checkbox" id="c-39914904" checked=""/><div class="controls bullet"><span class="by">egorfine</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912804">parent</a><span>|</span><a href="#39914144">prev</a><span>|</span><a href="#39913520">next</a><span>|</span><label class="collapse" for="c-39914904">[-]</label><label class="expand" for="c-39914904">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a bash apologist and I totally stand by your words. It&#x27;s delusional. Bash totally has to go.</div><br/></div></div><div id="39913520" class="c"><input type="checkbox" id="c-39913520" checked=""/><div class="controls bullet"><span class="by">lobocinza</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912804">parent</a><span>|</span><a href="#39914904">prev</a><span>|</span><a href="#39911348">next</a><span>|</span><label class="collapse" for="c-39913520">[-]</label><label class="expand" for="c-39913520">[1 more]</label></div><br/><div class="children"><div class="content">It depends on the use case. Bash code can be elegant, Python code can be ugly. I&#x27;m not saying those are the average cases but complex code regardless of the language often is ugly even with effort to make it more readable.</div><br/></div></div></div></div></div></div><div id="39911348" class="c"><input type="checkbox" id="c-39911348" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911299">parent</a><span>|</span><a href="#39912167">prev</a><span>|</span><a href="#39914690">next</a><span>|</span><label class="collapse" for="c-39911348">[-]</label><label class="expand" for="c-39911348">[12 more]</label></div><br/><div class="children"><div class="content">The problem is that obfuscated bash is considered normal. If unreadable bash was not allowed to be committed, it would be much harder to hide stuff like this. But unreadable bash code is not suspicious, because it is kind of expected. That’s the main problem in my opinion.</div><br/><div id="39911486" class="c"><input type="checkbox" id="c-39911486" checked=""/><div class="controls bullet"><span class="by">kimixa</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911348">parent</a><span>|</span><a href="#39911678">next</a><span>|</span><label class="collapse" for="c-39911486">[-]</label><label class="expand" for="c-39911486">[2 more]</label></div><br/><div class="children"><div class="content">Lots of autogenerated code appears &quot;obfuscated&quot; - certainly less clear than if a programmer would have written it directly.<p>But all this relies on one specific thing about the autotools ecosystem - that shipping the generated code is considered normal.<p>I know of no other build system that does this? It feels weird, like shipping cmake-generated makefiles instead of just generating them yourself, or something like scons or meson being packaged <i>with</i> the tarball instead of requiring an eternal installation.<p>That&#x27;s a <i>lot</i> of extra code to review, before you even get to any kind of language differences.</div><br/><div id="39913298" class="c"><input type="checkbox" id="c-39913298" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911486">parent</a><span>|</span><a href="#39911678">next</a><span>|</span><label class="collapse" for="c-39913298">[-]</label><label class="expand" for="c-39913298">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Lots of autogenerated code appears &quot;obfuscated&quot; - certainly less clear than if a programmer would have written it directly.<p>That&#x27;s why you don&#x27;t commit auto-generated code.  You commit the generating code, and review that.<p>Same reason we don&#x27;t stick compiled binaries in our repositories.  Binary executables are just auto-generated machine code.</div><br/></div></div></div></div><div id="39911678" class="c"><input type="checkbox" id="c-39911678" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911348">parent</a><span>|</span><a href="#39911486">prev</a><span>|</span><a href="#39911615">next</a><span>|</span><label class="collapse" for="c-39911678">[-]</label><label class="expand" for="c-39911678">[4 more]</label></div><br/><div class="children"><div class="content">This probably varies widely, because unreadable bash is absolutely <i>not</i> considered normal, nor would pass code review in any of my projects.<p>On a slightly different note, unless the application is written in python, it grosses me out to think of writing scripts in python.  IMHO, if the script is more complex that what bash is good at (my general rule of thumb is do you need a data structure like an array or hash?  then don&#x27;t use bash), then use the same language that the application is written in.  It really grosses me out to think of a rails application with scripts written in python.  Same with most languages&#x2F;platforms.</div><br/><div id="39911778" class="c"><input type="checkbox" id="c-39911778" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911678">parent</a><span>|</span><a href="#39911615">next</a><span>|</span><label class="collapse" for="c-39911778">[-]</label><label class="expand" for="c-39911778">[3 more]</label></div><br/><div class="children"><div class="content">What if your application is written in Rust or C? Would you write your build scripts in these languages, too? I would much prefer a simpler scripting language for this. If you’re already using a scripting language as the main language, you don’t necessarily need to pull in another language just for scripts, of course.</div><br/><div id="39913343" class="c"><input type="checkbox" id="c-39913343" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911778">parent</a><span>|</span><a href="#39912968">next</a><span>|</span><label class="collapse" for="c-39913343">[-]</label><label class="expand" for="c-39913343">[1 more]</label></div><br/><div class="children"><div class="content">Writing a build script in Rust is fine-ish.<p>Writing anything in C is a bad idea these days, and requires active justification that only applies in some situations.  Essentially, almost no new projects should be done in C.<p>Re-doing your build system, or writing a build system for a new project, counts as something new, so should probably not be done in C.<p>In general, I don&#x27;t think your build (or build system) should necessarily be specified in the same language as most of the rest of your system.<p>However I can see that if most of your system is written in language X, then you are pretty much guaranteed to have people who are good at X amongst your developers, so there&#x27;s some natural incentive to use X for the tooling, too.<p>In any case, I would mostly just advice against coding anything complicated in shell scripts, and to stay away from Make and autotools, too.<p>There are lots of modern build systems like Shake, Ninja, Bazel, etc that you can pick from.  They are all have their pros and cons, just like the different distributed version control systems have their pros and cons; but they are better than autotools and bash and Make, just like almost any distributed version control is better than CVS and SVN etc.</div><br/></div></div><div id="39912968" class="c"><input type="checkbox" id="c-39912968" checked=""/><div class="controls bullet"><span class="by">ycombinatrix</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911778">parent</a><span>|</span><a href="#39913343">prev</a><span>|</span><a href="#39911615">next</a><span>|</span><label class="collapse" for="c-39912968">[-]</label><label class="expand" for="c-39912968">[1 more]</label></div><br/><div class="children"><div class="content">build.rs is a thing FYI</div><br/></div></div></div></div></div></div><div id="39911615" class="c"><input type="checkbox" id="c-39911615" checked=""/><div class="controls bullet"><span class="by">owlbite</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911348">parent</a><span>|</span><a href="#39911678">prev</a><span>|</span><a href="#39913291">next</a><span>|</span><label class="collapse" for="c-39911615">[-]</label><label class="expand" for="c-39911615">[2 more]</label></div><br/><div class="children"><div class="content">I think the main issue is auto tools tries to support so many different shells&#x2F;versions all with their own foibles, so the resulting cross-compatible code looks obfuscated to a modern user.<p>Something built on python won&#x27;t cover quite as wide a range of (obsolete?) hardware.</div><br/><div id="39913317" class="c"><input type="checkbox" id="c-39913317" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911615">parent</a><span>|</span><a href="#39913291">next</a><span>|</span><label class="collapse" for="c-39913317">[-]</label><label class="expand" for="c-39913317">[1 more]</label></div><br/><div class="children"><div class="content">Python actually covers quite a lot of hardware.  Of course, it does that via an autotools nightmare generated configure script.<p>Of course, you could do the detection logic with some autotools-like shenanigans, but then crunch the data (ie run the logic) on a different computer that can run reasonable software.<p>The detection should all be very small self-contained short pieces of script, that might be gnarly, but only produce something like a boolean or other small amount of data each and don&#x27;t interact (and that would be enforced by some means, like containers or whatever).<p>The logic to tie everything together can be more complicated and can have interactions, but should be written in a sane language in a sane style.</div><br/></div></div></div></div><div id="39913291" class="c"><input type="checkbox" id="c-39913291" checked=""/><div class="controls bullet"><span class="by">salawat</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911348">parent</a><span>|</span><a href="#39911615">prev</a><span>|</span><a href="#39914690">next</a><span>|</span><label class="collapse" for="c-39913291">[-]</label><label class="expand" for="c-39913291">[3 more]</label></div><br/><div class="children"><div class="content">...The main problem is some asshat trying to install a backdoor.<p>I use bash habitually, and every time I have an inscrutable or non-intuitive command, I pair it with a comment explaining what it does. No exceptions.<p>I also don&#x27;t clean up after scripts for debuggability. I will offer an invocation to do the cleanup though after you&#x27;ve ascertained everything worked. Blaming this on bash is like a smith blaming a hammer failing on a carpenter&#x27;s shoddy haft... Not terribly convincing.<p>There was a lot of intentionally obfuscatory measures at play here and tons of weaponization of most conscientious developer&#x27;s adherence to the principle of least astonishment, violations of homoglyphy (using easy to mistake filenames and mixed conventions), degenerative tool invocations (using sed as cat), excessive use&#x2F;nesting of tools (awk script for the RC4 decryptor), the tr, and, to crown it all, <i>malicious use of test data!!!</i><p><i>As a tester, nothing makes me angrier!</i><p>A pox upon them, and may their treachery be returned upon them 7-fold!</div><br/><div id="39914951" class="c"><input type="checkbox" id="c-39914951" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39913291">parent</a><span>|</span><a href="#39913360">next</a><span>|</span><label class="collapse" for="c-39914951">[-]</label><label class="expand" for="c-39914951">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  pair it with a comment<p>A good practice, but not really a defense against malice, because if the expression is inscrutable enough to really need a comment, then it&#x27;s also inscrutable enough that many people won&#x27;t notice that the comment is a lie.</div><br/></div></div><div id="39913360" class="c"><input type="checkbox" id="c-39913360" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39913291">parent</a><span>|</span><a href="#39914951">prev</a><span>|</span><a href="#39914690">next</a><span>|</span><label class="collapse" for="c-39913360">[-]</label><label class="expand" for="c-39913360">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Blaming this on bash is like a smith blaming a hammer failing on a carpenter&#x27;s shoddy haft... Not terribly convincing.<p>If your hammer is repurposed shoe, it&#x27;s fair to blame the tools.</div><br/></div></div></div></div></div></div><div id="39914690" class="c"><input type="checkbox" id="c-39914690" checked=""/><div class="controls bullet"><span class="by">deanishe</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911299">parent</a><span>|</span><a href="#39911348">prev</a><span>|</span><a href="#39912122">next</a><span>|</span><label class="collapse" for="c-39914690">[-]</label><label class="expand" for="c-39914690">[3 more]</label></div><br/><div class="children"><div class="content">Python makes it relatively hard to write inscrutable code, and more importantly, it&#x27;s very non-idiomatic, and there would be pushback.<p>WTFing at shell scripts is normal.</div><br/><div id="39914917" class="c"><input type="checkbox" id="c-39914917" checked=""/><div class="controls bullet"><span class="by">egorfine</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914690">parent</a><span>|</span><a href="#39912122">next</a><span>|</span><label class="collapse" for="c-39914917">[-]</label><label class="expand" for="c-39914917">[2 more]</label></div><br/><div class="children"><div class="content">&gt; WTFing at shell scripts is normal<p>&quot;WTFing&quot;. This is brilliant.</div><br/><div id="39914969" class="c"><input type="checkbox" id="c-39914969" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39914917">parent</a><span>|</span><a href="#39912122">next</a><span>|</span><label class="collapse" for="c-39914969">[-]</label><label class="expand" for="c-39914969">[1 more]</label></div><br/><div class="children"><div class="content">I always think of this now-old comic: <a href="https:&#x2F;&#x2F;www.osnews.com&#x2F;story&#x2F;19266&#x2F;wtfsm&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.osnews.com&#x2F;story&#x2F;19266&#x2F;wtfsm&#x2F;</a></div><br/></div></div></div></div></div></div><div id="39912122" class="c"><input type="checkbox" id="c-39912122" checked=""/><div class="controls bullet"><span class="by">giantrobot</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911299">parent</a><span>|</span><a href="#39914690">prev</a><span>|</span><a href="#39914923">next</a><span>|</span><label class="collapse" for="c-39912122">[-]</label><label class="expand" for="c-39912122">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;ll write build scripts in highly obfuscated Perl. There, now no one is happy.</div><br/></div></div></div></div><div id="39914923" class="c"><input type="checkbox" id="c-39914923" checked=""/><div class="controls bullet"><span class="by">vmfunction</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911234">parent</a><span>|</span><a href="#39911299">prev</a><span>|</span><a href="#39911304">next</a><span>|</span><label class="collapse" for="c-39914923">[-]</label><label class="expand" for="c-39914923">[1 more]</label></div><br/><div class="children"><div class="content">Cliffy is also pretty good: <a href="https:&#x2F;&#x2F;cliffy.io" rel="nofollow">https:&#x2F;&#x2F;cliffy.io</a><p>And type safe.</div><br/></div></div><div id="39911304" class="c"><input type="checkbox" id="c-39911304" checked=""/><div class="controls bullet"><span class="by">sunshowers</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911234">parent</a><span>|</span><a href="#39914923">prev</a><span>|</span><a href="#39913671">next</a><span>|</span><label class="collapse" for="c-39911304">[-]</label><label class="expand" for="c-39911304">[11 more]</label></div><br/><div class="children"><div class="content">It&#x27;s rather easy to monkeypatch Python into doing spooky things. For something like this you really want a language that can&#x27;t be monkeypatched, like I think Starlark.</div><br/><div id="39911327" class="c"><input type="checkbox" id="c-39911327" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911304">parent</a><span>|</span><a href="#39913671">next</a><span>|</span><label class="collapse" for="c-39911327">[-]</label><label class="expand" for="c-39911327">[10 more]</label></div><br/><div class="children"><div class="content">Where are you going to hide your monkey patching though? As long as your code is public, stuff like this is always going to stand out, because no one writes weird magic one liners in python.</div><br/><div id="39911659" class="c"><input type="checkbox" id="c-39911659" checked=""/><div class="controls bullet"><span class="by">zmmmmm</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911327">parent</a><span>|</span><a href="#39911374">next</a><span>|</span><label class="collapse" for="c-39911659">[-]</label><label class="expand" for="c-39911659">[3 more]</label></div><br/><div class="children"><div class="content">The way python&#x27;s run time literally executes code when you import a module makes it seem pretty easy to taint things from afar. You only need to control a single import anywhere in the dependency hierarchy and you can reach over and override any code somewhere else.</div><br/><div id="39913363" class="c"><input type="checkbox" id="c-39913363" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911659">parent</a><span>|</span><a href="#39911666">next</a><span>|</span><label class="collapse" for="c-39913363">[-]</label><label class="expand" for="c-39913363">[1 more]</label></div><br/><div class="children"><div class="content">There are lints that will warn you, if your imported module does anything apart from define functions and classes.<p>(Though not sure how fool-proof these are.)</div><br/></div></div><div id="39911666" class="c"><input type="checkbox" id="c-39911666" checked=""/><div class="controls bullet"><span class="by">sunshowers</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911659">parent</a><span>|</span><a href="#39913363">prev</a><span>|</span><a href="#39911374">next</a><span>|</span><label class="collapse" for="c-39911666">[-]</label><label class="expand" for="c-39911666">[1 more]</label></div><br/><div class="children"><div class="content">Oh yeah, that&#x27;s a fantastic point.</div><br/></div></div></div></div><div id="39911374" class="c"><input type="checkbox" id="c-39911374" checked=""/><div class="controls bullet"><span class="by">sunshowers</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911327">parent</a><span>|</span><a href="#39911659">prev</a><span>|</span><a href="#39911530">next</a><span>|</span><label class="collapse" for="c-39911374">[-]</label><label class="expand" for="c-39911374">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not a security-oriented professional, but to me a place I could hide this logic is by secretly evaling the contents of some file (like the &quot;corrupt archive&quot; used in xz) somewhere in the build process, hiding it behind a decorator or similar.</div><br/><div id="39911437" class="c"><input type="checkbox" id="c-39911437" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911374">parent</a><span>|</span><a href="#39911481">next</a><span>|</span><label class="collapse" for="c-39911437">[-]</label><label class="expand" for="c-39911437">[3 more]</label></div><br/><div class="children"><div class="content">I’m not a security professional either, but that doesn’t sound very plausible to me. If you assume a maintainer who checks every commit added to the codebase, he’s hopefully blocking you the second he sees an eval call in your build script. And even a code audit should find weird stuff like that, if the code is pythonic and simple to read. And if it’s not, it should not be trusted and should be treated as malicious.</div><br/><div id="39911585" class="c"><input type="checkbox" id="c-39911585" checked=""/><div class="controls bullet"><span class="by">sunshowers</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911437">parent</a><span>|</span><a href="#39911481">next</a><span>|</span><label class="collapse" for="c-39911585">[-]</label><label class="expand" for="c-39911585">[2 more]</label></div><br/><div class="children"><div class="content">Well, the threat model here is that a maintainer themselves is the saboteur.</div><br/><div id="39913619" class="c"><input type="checkbox" id="c-39913619" checked=""/><div class="controls bullet"><span class="by">cjbprime</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911585">parent</a><span>|</span><a href="#39911481">next</a><span>|</span><label class="collapse" for="c-39913619">[-]</label><label class="expand" for="c-39913619">[1 more]</label></div><br/><div class="children"><div class="content">That was true for this project, which was almost orphaned to begin with.  We&#x27;ll run out of nearly-unmaintained critical infrastructure projects sometime.  Larger projects with healthier maintenance situations are also at risk, and it&#x27;s worth reasoning about how a group of honest developers could discover the actions of one malicious developer (with perhaps a malicious reviewer involved too).</div><br/></div></div></div></div></div></div><div id="39911481" class="c"><input type="checkbox" id="c-39911481" checked=""/><div class="controls bullet"><span class="by">lijok</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911374">parent</a><span>|</span><a href="#39911437">prev</a><span>|</span><a href="#39911530">next</a><span>|</span><label class="collapse" for="c-39911481">[-]</label><label class="expand" for="c-39911481">[1 more]</label></div><br/><div class="children"><div class="content">Would stick out like a sore thumb</div><br/></div></div></div></div><div id="39911530" class="c"><input type="checkbox" id="c-39911530" checked=""/><div class="controls bullet"><span class="by">cyanydeez</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911327">parent</a><span>|</span><a href="#39911374">prev</a><span>|</span><a href="#39913671">next</a><span>|</span><label class="collapse" for="c-39911530">[-]</label><label class="expand" for="c-39911530">[1 more]</label></div><br/><div class="children"><div class="content">This code was essentially monkey patched from a test script. Python automatically runs any code in a imported module, so not hard to see a chain of module imports that progressively modifies and deploys a similar structure.</div><br/></div></div></div></div></div></div><div id="39913671" class="c"><input type="checkbox" id="c-39913671" checked=""/><div class="controls bullet"><span class="by">heavyset_go</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911234">parent</a><span>|</span><a href="#39911304">prev</a><span>|</span><a href="#39911628">next</a><span>|</span><label class="collapse" for="c-39913671">[-]</label><label class="expand" for="c-39913671">[1 more]</label></div><br/><div class="children"><div class="content">The things that Bash is good at can wind up obfuscated in Python code due to the verbosity and complexity that it translates to in Python.<p>Bash is great at dealing with files, text, running other programs, job handling, parallelism and IPC.<p>Those things in combination can end up being more complex in Python, which creates more opportunities for obfuscation.</div><br/></div></div><div id="39911628" class="c"><input type="checkbox" id="c-39911628" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911234">parent</a><span>|</span><a href="#39913671">prev</a><span>|</span><a href="#39914620">next</a><span>|</span><label class="collapse" for="c-39911628">[-]</label><label class="expand" for="c-39911628">[2 more]</label></div><br/><div class="children"><div class="content">Any language can become a turing tarpit if you try hard enough.</div><br/><div id="39913368" class="c"><input type="checkbox" id="c-39913368" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39911628">parent</a><span>|</span><a href="#39914620">next</a><span>|</span><label class="collapse" for="c-39913368">[-]</label><label class="expand" for="c-39913368">[1 more]</label></div><br/><div class="children"><div class="content">Some languages make you try harder, some less so.<p>And not all languages are Turing complete in the first place.  Not even all useful languages.</div><br/></div></div></div></div></div></div><div id="39914620" class="c"><input type="checkbox" id="c-39914620" checked=""/><div class="controls bullet"><span class="by">frankohn</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39911234">prev</a><span>|</span><a href="#39914254">next</a><span>|</span><label class="collapse" for="c-39914620">[-]</label><label class="expand" for="c-39914620">[1 more]</label></div><br/><div class="children"><div class="content">I do not agree with your generalisation, the Meson build system is well thought, it has a clear declarative syntax that let you just express what you want in a direct way.<p>The designer of Meson explicitly avoided making the language turing complete so for example you cannot define functions. In my experience this was an excellent decision to limit people tendency to write complex stuff and put the pressure on the Meson developer to implement themselves all the useful functionalities.<p>In my experience the Meson configuration are as simple as they can be and accommodate only a modicum of complexity to describe OS specific options or advanced compiler option one may need.<p>Please note that some projects&#x27; Meson file have been made complex because of the goal to match whatever the configure script was doing. I had in mind the crazy habits of autotools to check if the system has any possibly used function because some system may not have it.</div><br/></div></div><div id="39914254" class="c"><input type="checkbox" id="c-39914254" checked=""/><div class="controls bullet"><span class="by">livrem</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39914620">prev</a><span>|</span><a href="#39912017">next</a><span>|</span><label class="collapse" for="c-39914254">[-]</label><label class="expand" for="c-39914254">[1 more]</label></div><br/><div class="children"><div class="content">I see what everyone is saying about autotools, and I never envied those that maintained the config scripts, but as an end-user I miss the days when installing almost any software was as simple as .&#x2F;configure &amp;&amp; make &amp;&amp; make install.</div><br/></div></div><div id="39912017" class="c"><input type="checkbox" id="c-39912017" checked=""/><div class="controls bullet"><span class="by">dpkirchner</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39914254">prev</a><span>|</span><a href="#39912591">next</a><span>|</span><label class="collapse" for="c-39912017">[-]</label><label class="expand" for="c-39912017">[2 more]</label></div><br/><div class="children"><div class="content">Agreed, and I think this leads to the question: how much risk do we face because we want to support such a wide range of platforms that a complex system is required?<p>And how did we get to the point that a complex system is required to build a compression library -- something that doesn&#x27;t really have to do much more than math and memory allocation?</div><br/><div id="39912377" class="c"><input type="checkbox" id="c-39912377" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912017">parent</a><span>|</span><a href="#39912591">next</a><span>|</span><label class="collapse" for="c-39912377">[-]</label><label class="expand" for="c-39912377">[1 more]</label></div><br/><div class="children"><div class="content">&gt; And how did we get to the point that a complex system is required to build a compression library -- something that doesn&#x27;t really have to do much more than math and memory allocation?<p>The project in question <i>contained</i> a compression library, but was not limited to it; it also contained a set of command line tools (the &quot;xz&quot; command and several others).<p>And a modern compression library needs more than just &quot;math and memory allocation&quot;; it also needs <i>threads</i> (to make use of all the available cores), which is historically not portable. You need to detect whether threads are available, and which threading library should be used (pthreads is not always the available option). And not only that, a modern compression library often needs hand-optimized assembly code, with several variants depending on the exact CPU type, the correct one possibly being known only at runtime (and it was exactly in the code to select the correct variant for the current CPU that this backdoor was hidden).<p>And that&#x27;s before considering that this is a <i>library</i>. Building a dynamic library is something which has a lot of variation between operating systems. You have Windows with its DLLs, MacOS with its frameworks, modern Linux with its ELF stuff, and historically it was even worse (like old a.out-based Linux with its manually pre-allocated base address for every dynamic library in the whole system).<p>So yeah, if you restrict yourself to modern Linux and perhaps a couple of the BSDs, and require the correct CPU type to be selected at compilation time, you could get away with just a couple of pages of simple Makefile declarations. But once you start porting to a more diverse set of systems, you&#x27;ll see it get more and more complicated. Add cross-compilation to the mix (a non-trivial amount of autotools complexity is there to make cross-compilation work well) and it gets even more complicated.</div><br/></div></div></div></div><div id="39912591" class="c"><input type="checkbox" id="c-39912591" checked=""/><div class="controls bullet"><span class="by">jonhohle</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39912017">prev</a><span>|</span><a href="#39911260">next</a><span>|</span><label class="collapse" for="c-39912591">[-]</label><label class="expand" for="c-39912591">[2 more]</label></div><br/><div class="children"><div class="content">The issue was that built artifacts weren’t immutable during the test phase and&#x2F;or the test phase wasn’t sandboxed from the built artifacts.<p>The last build system I worked on separated build and test as separate stages. That meant you got a lot of useless artifacts pushed to a development namespace on the distribution server, but it also meant later stages only needed read access to that server.</div><br/><div id="39912890" class="c"><input type="checkbox" id="c-39912890" checked=""/><div class="controls bullet"><span class="by">edflsafoiewq</span><span>|</span><a href="#39911156">root</a><span>|</span><a href="#39912591">parent</a><span>|</span><a href="#39911260">next</a><span>|</span><label class="collapse" for="c-39912890">[-]</label><label class="expand" for="c-39912890">[1 more]</label></div><br/><div class="children"><div class="content">The malicious .o is extracted from data in binary test files, but the backdoor is inserted entirely in the build phase. Running any test phase is not necessary.</div><br/></div></div></div></div><div id="39911260" class="c"><input type="checkbox" id="c-39911260" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39912591">prev</a><span>|</span><a href="#39913147">next</a><span>|</span><label class="collapse" for="c-39911260">[-]</label><label class="expand" for="c-39911260">[1 more]</label></div><br/><div class="children"><div class="content">Right there with you. It&#x27;s really tempting to blame this entire thing existing on m4 but that&#x27;s the trauma talking.</div><br/></div></div><div id="39913147" class="c"><input type="checkbox" id="c-39913147" checked=""/><div class="controls bullet"><span class="by">kjellsbells</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39911260">prev</a><span>|</span><a href="#39912831">next</a><span>|</span><label class="collapse" for="c-39913147">[-]</label><label class="expand" for="c-39913147">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m glad to see I&#x27;m not a minority of one here. Looking at autoconf and friends I&#x27;m reminded of the dreck that used to fill OpenSSL&#x27;s code simply because they were trying to account for every eventuality. Autotools feels like the same thing. You end up with a ton of hard to read code (autogenerated bash, not exactly poetry) and that feels very inimical to safety.</div><br/></div></div><div id="39912831" class="c"><input type="checkbox" id="c-39912831" checked=""/><div class="controls bullet"><span class="by">salawat</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39913147">prev</a><span>|</span><a href="#39911298">next</a><span>|</span><label class="collapse" for="c-39912831">[-]</label><label class="expand" for="c-39912831">[1 more]</label></div><br/><div class="children"><div class="content">Let me reword that for you:<p>&gt;No one has any business saying they know what something does until they&#x27;ve actually read it.<p>Beneath the placid surface of abstraction is the den of the devil.</div><br/></div></div><div id="39911298" class="c"><input type="checkbox" id="c-39911298" checked=""/><div class="controls bullet"><span class="by">rgmerk</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39912831">prev</a><span>|</span><a href="#39911665">next</a><span>|</span><label class="collapse" for="c-39911298">[-]</label><label class="expand" for="c-39911298">[1 more]</label></div><br/><div class="children"><div class="content">Yeah.<p>I haven’t used it for some time but autoconf always seemed like a horrible hack that was impossible to debug if it didn’t work properly.<p>That was bad enough back in the days where one was mostly concerned with accidents, but in more modern times things that are impossible to debug are such tempting targets for mischief.</div><br/></div></div><div id="39911665" class="c"><input type="checkbox" id="c-39911665" checked=""/><div class="controls bullet"><span class="by">jongjong</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39911298">prev</a><span>|</span><a href="#39911503">next</a><span>|</span><label class="collapse" for="c-39911665">[-]</label><label class="expand" for="c-39911665">[1 more]</label></div><br/><div class="children"><div class="content">The devil is in the detail and nothing obscures details like complexity.<p>Same reason why I don&#x27;t like TypeScript in its current form. It&#x27;s not worth the extra complexity it brings.</div><br/></div></div><div id="39911503" class="c"><input type="checkbox" id="c-39911503" checked=""/><div class="controls bullet"><span class="by">cyanydeez</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39911665">prev</a><span>|</span><a href="#39911363">next</a><span>|</span><label class="collapse" for="c-39911503">[-]</label><label class="expand" for="c-39911503">[1 more]</label></div><br/><div class="children"><div class="content">Just the fact that you have multiple platforms suggests few people will fully understand the entire complex.</div><br/></div></div><div id="39911363" class="c"><input type="checkbox" id="c-39911363" checked=""/><div class="controls bullet"><span class="by">shp0ngle</span><span>|</span><a href="#39911156">parent</a><span>|</span><a href="#39911503">prev</a><span>|</span><a href="#39907835">next</a><span>|</span><label class="collapse" for="c-39911363">[-]</label><label class="expand" for="c-39911363">[1 more]</label></div><br/><div class="children"><div class="content">Every time someone explains to me autotools, the individual pieces sort of make sense, yet the result is always this inscrutable unreadable mess.<p>I don&#x27;t know why.</div><br/></div></div></div></div><div id="39907835" class="c"><input type="checkbox" id="c-39907835" checked=""/><div class="controls bullet"><span class="by">mzs</span><span>|</span><a href="#39911156">prev</a><span>|</span><a href="#39908673">next</a><span>|</span><label class="collapse" for="c-39907835">[-]</label><label class="expand" for="c-39907835">[12 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t seen Thomas Roccia&#x27;s infographic mentioned here yet: <a href="https:&#x2F;&#x2F;twitter.com&#x2F;fr0gger_&#x2F;status&#x2F;1774342248437813525" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;fr0gger_&#x2F;status&#x2F;1774342248437813525</a></div><br/><div id="39911249" class="c"><input type="checkbox" id="c-39911249" checked=""/><div class="controls bullet"><span class="by">ihsoy</span><span>|</span><a href="#39907835">parent</a><span>|</span><a href="#39911496">next</a><span>|</span><label class="collapse" for="c-39911249">[-]</label><label class="expand" for="c-39911249">[2 more]</label></div><br/><div class="children"><div class="content">That seems to be largely grasped at straws and connecting dots without reason.<p>For example oss-fuzz was building xz by cloning the github repo directly. There was never a chance for oss-fuzz to discover the backdoor, because only the tarball had it, not the repo itself. So that oss-fuzz PR might genuinely just be a genuine thing unrelated to the backdoor.</div><br/><div id="39911711" class="c"><input type="checkbox" id="c-39911711" checked=""/><div class="controls bullet"><span class="by">sp332</span><span>|</span><a href="#39907835">root</a><span>|</span><a href="#39911249">parent</a><span>|</span><a href="#39911496">next</a><span>|</span><label class="collapse" for="c-39911711">[-]</label><label class="expand" for="c-39911711">[1 more]</label></div><br/><div class="children"><div class="content">The ifunc part looked more legitimate, it was used to switch between optimized implementations of CRC. So that part was in the git repo. <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;oss-fuzz&#x2F;pull&#x2F;10667">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;oss-fuzz&#x2F;pull&#x2F;10667</a></div><br/></div></div></div></div><div id="39911496" class="c"><input type="checkbox" id="c-39911496" checked=""/><div class="controls bullet"><span class="by">_trampeltier</span><span>|</span><a href="#39907835">parent</a><span>|</span><a href="#39911249">prev</a><span>|</span><a href="#39910922">next</a><span>|</span><label class="collapse" for="c-39911496">[-]</label><label class="expand" for="c-39911496">[6 more]</label></div><br/><div class="children"><div class="content">Jia Tan asked distros to update quickly just before it became public. How possible is it, there is another account &#x2F; person who learned earlyer from people around Andreas Freund, the backdoor would become public. How possible is it, there is still another insider around?</div><br/><div id="39912706" class="c"><input type="checkbox" id="c-39912706" checked=""/><div class="controls bullet"><span class="by">strunz</span><span>|</span><a href="#39907835">root</a><span>|</span><a href="#39911496">parent</a><span>|</span><a href="#39911687">next</a><span>|</span><label class="collapse" for="c-39912706">[-]</label><label class="expand" for="c-39912706">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s probably because of this (as mentioned in the timeline):<p>&gt;2024-02-29: On GitHub, @teknoraver <a href="https:&#x2F;&#x2F;github.com&#x2F;systemd&#x2F;systemd&#x2F;pull&#x2F;31550">https:&#x2F;&#x2F;github.com&#x2F;systemd&#x2F;systemd&#x2F;pull&#x2F;31550</a> to stop linking liblzma into libsystemd. It appears that this would have defeated the attack. <a href="https:&#x2F;&#x2F;doublepulsar.com&#x2F;inside-the-failed-attempt-to-backdoor-ssh-globally-that-got-caught-by-chance-bbfe628fafdd" rel="nofollow">https:&#x2F;&#x2F;doublepulsar.com&#x2F;inside-the-failed-attempt-to-backdo...</a> that knowing this was on the way may have accelerated the attacker’s schedule. It is unclear whether any earlier discussions exist that would have tipped them off.</div><br/><div id="39912809" class="c"><input type="checkbox" id="c-39912809" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#39907835">root</a><span>|</span><a href="#39912706">parent</a><span>|</span><a href="#39911687">next</a><span>|</span><label class="collapse" for="c-39912809">[-]</label><label class="expand" for="c-39912809">[1 more]</label></div><br/><div class="children"><div class="content">rwmj did mention about an unintentional embargo break, so I wonder whether this is GitHub issue is actually it.</div><br/></div></div></div></div><div id="39911687" class="c"><input type="checkbox" id="c-39911687" checked=""/><div class="controls bullet"><span class="by">ptx</span><span>|</span><a href="#39907835">root</a><span>|</span><a href="#39911496">parent</a><span>|</span><a href="#39912706">prev</a><span>|</span><a href="#39911642">next</a><span>|</span><label class="collapse" for="c-39911687">[-]</label><label class="expand" for="c-39911687">[1 more]</label></div><br/><div class="children"><div class="content">There were also changes to systemd happening around that time which would have prevented the backdoor from working. See the timeline article by the same author linked in this one.</div><br/></div></div><div id="39911642" class="c"><input type="checkbox" id="c-39911642" checked=""/><div class="controls bullet"><span class="by">OneLeggedCat</span><span>|</span><a href="#39907835">root</a><span>|</span><a href="#39911496">parent</a><span>|</span><a href="#39911687">prev</a><span>|</span><a href="#39910922">next</a><span>|</span><label class="collapse" for="c-39911642">[-]</label><label class="expand" for="c-39911642">[2 more]</label></div><br/><div class="children"><div class="content">Right.  Way too much coincidence.  Jia Tan found out that it was about to become public and threw a Hail Mary.  How did he find out?</div><br/><div id="39911705" class="c"><input type="checkbox" id="c-39911705" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#39907835">root</a><span>|</span><a href="#39911642">parent</a><span>|</span><a href="#39910922">next</a><span>|</span><label class="collapse" for="c-39911705">[-]</label><label class="expand" for="c-39911705">[1 more]</label></div><br/><div class="children"><div class="content">If the stakes weren&#x27;t so high, this would be a damn fun game of murder mystery.</div><br/></div></div></div></div></div></div><div id="39910922" class="c"><input type="checkbox" id="c-39910922" checked=""/><div class="controls bullet"><span class="by">xomodo</span><span>|</span><a href="#39907835">parent</a><span>|</span><a href="#39911496">prev</a><span>|</span><a href="#39910949">next</a><span>|</span><label class="collapse" for="c-39910922">[-]</label><label class="expand" for="c-39910922">[1 more]</label></div><br/><div class="children"><div class="content">Thx. Timeline shows attack begun by adding ignore entry in .gitignore file. That is hard to detect nowadays.</div><br/></div></div><div id="39910949" class="c"><input type="checkbox" id="c-39910949" checked=""/><div class="controls bullet"><span class="by">moopitydoop</span><span>|</span><a href="#39907835">parent</a><span>|</span><a href="#39910922">prev</a><span>|</span><a href="#39911221">next</a><span>|</span><label class="collapse" for="c-39910949">[-]</label><label class="expand" for="c-39910949">[1 more]</label></div><br/><div class="children"><div class="content">This just gives a partial high-level look at how the exploit gets planted in liblzma, it doesn&#x27;t cover how the exploit works or its contents at all.</div><br/></div></div></div></div><div id="39908673" class="c"><input type="checkbox" id="c-39908673" checked=""/><div class="controls bullet"><span class="by">sanxiyn</span><span>|</span><a href="#39907835">prev</a><span>|</span><a href="#39910745">next</a><span>|</span><label class="collapse" for="c-39908673">[-]</label><label class="expand" for="c-39908673">[14 more]</label></div><br/><div class="children"><div class="content">&gt; The first difference is that the script makes sure (very sure!) to exit if not being run on Linux.<p>The repeated check is indeed mysterious. My only hypothesis is that the attacker may have thought that it should look plausible as a test input to a compression library, hence repetition.</div><br/><div id="39909225" class="c"><input type="checkbox" id="c-39909225" checked=""/><div class="controls bullet"><span class="by">mercurialuser</span><span>|</span><a href="#39908673">parent</a><span>|</span><a href="#39908838">next</a><span>|</span><label class="collapse" for="c-39909225">[-]</label><label class="expand" for="c-39909225">[1 more]</label></div><br/><div class="children"><div class="content">It can be to make space for script changes: you may overwrite the first bytes of the script.<p>Or just add some laziness.</div><br/></div></div><div id="39908838" class="c"><input type="checkbox" id="c-39908838" checked=""/><div class="controls bullet"><span class="by">TheBlight</span><span>|</span><a href="#39908673">parent</a><span>|</span><a href="#39909225">prev</a><span>|</span><a href="#39911896">next</a><span>|</span><label class="collapse" for="c-39908838">[-]</label><label class="expand" for="c-39908838">[7 more]</label></div><br/><div class="children"><div class="content">Is it though? The attacker probably has Linux x86 target(s) in mind and IFUNC support isn&#x27;t guaranteed to work with other platforms.</div><br/><div id="39908956" class="c"><input type="checkbox" id="c-39908956" checked=""/><div class="controls bullet"><span class="by">sanxiyn</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39908838">parent</a><span>|</span><a href="#39913062">next</a><span>|</span><label class="collapse" for="c-39908956">[-]</label><label class="expand" for="c-39908956">[5 more]</label></div><br/><div class="children"><div class="content">Checking for Linux makes sense. Doing the exact same check for Linux five times in a row is mysterious.</div><br/><div id="39910029" class="c"><input type="checkbox" id="c-39910029" checked=""/><div class="controls bullet"><span class="by">tamimio</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39908956">parent</a><span>|</span><a href="#39913909">next</a><span>|</span><label class="collapse" for="c-39910029">[-]</label><label class="expand" for="c-39910029">[3 more]</label></div><br/><div class="children"><div class="content">It would be an interesting plot twist if the whole thing was an AI hallucination.</div><br/><div id="39911512" class="c"><input type="checkbox" id="c-39911512" checked=""/><div class="controls bullet"><span class="by">ddalex</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39910029">parent</a><span>|</span><a href="#39910272">next</a><span>|</span><label class="collapse" for="c-39911512">[-]</label><label class="expand" for="c-39911512">[1 more]</label></div><br/><div class="children"><div class="content">How about an AI trying to make itself some spare CPU cycles available ?</div><br/></div></div><div id="39910272" class="c"><input type="checkbox" id="c-39910272" checked=""/><div class="controls bullet"><span class="by">neffy</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39910029">parent</a><span>|</span><a href="#39911512">prev</a><span>|</span><a href="#39913909">next</a><span>|</span><label class="collapse" for="c-39910272">[-]</label><label class="expand" for="c-39910272">[1 more]</label></div><br/><div class="children"><div class="content">...or a stalking horse by somebody in Microsoft&#x27;s marketing division.</div><br/></div></div></div></div><div id="39913909" class="c"><input type="checkbox" id="c-39913909" checked=""/><div class="controls bullet"><span class="by">dboreham</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39908956">parent</a><span>|</span><a href="#39910029">prev</a><span>|</span><a href="#39913062">next</a><span>|</span><label class="collapse" for="c-39913909">[-]</label><label class="expand" for="c-39913909">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps expected a very fast machine that might blast straight through the first few checks. Like how you needed two STOP statements in a Cray Fortran program in case it blew through the first one at 80MIPS.</div><br/></div></div></div></div><div id="39913062" class="c"><input type="checkbox" id="c-39913062" checked=""/><div class="controls bullet"><span class="by">ycombinatrix</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39908838">parent</a><span>|</span><a href="#39908956">prev</a><span>|</span><a href="#39911896">next</a><span>|</span><label class="collapse" for="c-39913062">[-]</label><label class="expand" for="c-39913062">[1 more]</label></div><br/><div class="children"><div class="content">why doesn&#x27;t IFUNC work on Linux ARM64?</div><br/></div></div></div></div><div id="39911896" class="c"><input type="checkbox" id="c-39911896" checked=""/><div class="controls bullet"><span class="by">fsniper</span><span>|</span><a href="#39908673">parent</a><span>|</span><a href="#39908838">prev</a><span>|</span><a href="#39912898">next</a><span>|</span><label class="collapse" for="c-39911896">[-]</label><label class="expand" for="c-39911896">[1 more]</label></div><br/><div class="children"><div class="content">Can it be to enlarge&#x2F;or obfuscate parts of the compressed test file? Perhaps without the repetitions the compressed file has some strange binary triggering some security or antivirus software?</div><br/></div></div><div id="39912898" class="c"><input type="checkbox" id="c-39912898" checked=""/><div class="controls bullet"><span class="by">codezero</span><span>|</span><a href="#39908673">parent</a><span>|</span><a href="#39911896">prev</a><span>|</span><a href="#39910745">next</a><span>|</span><label class="collapse" for="c-39912898">[-]</label><label class="expand" for="c-39912898">[4 more]</label></div><br/><div class="children"><div class="content">I gave in and asked ChatGPT - its answer seems very plausible, on a compromised system, some malware may cause the uname result to return inconsistent results, so it&#x27;s possible this check was also there to avoid re-infecting systems that were already infected with some other APT.</div><br/><div id="39913046" class="c"><input type="checkbox" id="c-39913046" checked=""/><div class="controls bullet"><span class="by">ycombinatrix</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39912898">parent</a><span>|</span><a href="#39910745">next</a><span>|</span><label class="collapse" for="c-39913046">[-]</label><label class="expand" for="c-39913046">[3 more]</label></div><br/><div class="children"><div class="content">anyone know any examples of malware which have affected uname results?</div><br/><div id="39913417" class="c"><input type="checkbox" id="c-39913417" checked=""/><div class="controls bullet"><span class="by">codezero</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39913046">parent</a><span>|</span><a href="#39910745">next</a><span>|</span><label class="collapse" for="c-39913417">[-]</label><label class="expand" for="c-39913417">[2 more]</label></div><br/><div class="children"><div class="content">ChatGPT could not provide any, fwiw, but it&#x27;s an enticing idea.</div><br/><div id="39914410" class="c"><input type="checkbox" id="c-39914410" checked=""/><div class="controls bullet"><span class="by">Intralexical</span><span>|</span><a href="#39908673">root</a><span>|</span><a href="#39913417">parent</a><span>|</span><a href="#39910745">next</a><span>|</span><label class="collapse" for="c-39914410">[-]</label><label class="expand" for="c-39914410">[1 more]</label></div><br/><div class="children"><div class="content">Maybe a machine designed specifically to produce &quot;enticing&quot; and &quot;very plausible&quot;-seeming ideas with no basis in reality is a bad idea. [1]<p>The mention to other &quot;malware&quot; is spurious. This was a highly engineered&#x2F;targeted attack. Mentioning &quot;malware&quot; just sounds plausible because your brain files the word in the same region as &quot;RCE&quot;.<p>Running `strace` shows `&#x2F;usr&#x2F;bin&#x2F;uname` just calls `uname()`, which just reads out some string literals in the kernel. It is unlikely to be randomized accidentally.<p>And deliberately signalling the presence of other hacks by making the `uname` syscall non-deterministic would be highly inefficient (Return 8 strings just for one bit of data?), highly unreliable (Check how many times to be sure?), highly visible (Human-readable, and human-targeted.), and unnecessarily difficult (Kernel-level hack?).<p>…And now you see how much effort it takes, to even start to examine&#x2F;debunk an implausible and unfounded idea that cost you seconds to prompt and OpenAI fractions of pennies to generate, which took root and seemed &quot;plausible&quot; and &quot;enticing&quot; <i>specifically</i> because GPT was trained in an adversarial way to exploit how us humans can fall for bullshit if it&#x27;s packaged in the right way…<p>---<p>1: The word for that is &quot;Lying&quot;. ChatGPT is a Lying Machine. Sometimes the lies line up with parts of reality, but that&#x27;s more luck than intent. And it&#x27;s usually still lying even in those cases, just in smaller, subtler, or less blatant ways.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39910745" class="c"><input type="checkbox" id="c-39910745" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#39908673">prev</a><span>|</span><a href="#39912238">next</a><span>|</span><label class="collapse" for="c-39910745">[-]</label><label class="expand" for="c-39910745">[19 more]</label></div><br/><div class="children"><div class="content">Whoever hired these people to infiltrate this project spent a shit ton of hours building it in such a way to avoid detection this long. Fortunately, it was so complicated that they couldn&#x27;t account for all of the factors.<p>This is why open source will always outperform closed source in terms of security. Sure it pointed a massive flaw in the supply chain. Sure it highlights how under appreciated the foundational elements of FOSS, leaving maintainers subject to manipulation.<p>But the same attack within a private company? Shit, probably wouldn&#x27;t even need advanced obfuscation. With a large enough PR and looming deadlines, could easily sneak something like this with a minimal amount of effort into production systems. By the time company even realizes what happens, you are already flying off to a non-extradition country and selling the exfiltrated data on Tor (or dark web).</div><br/><div id="39910956" class="c"><input type="checkbox" id="c-39910956" checked=""/><div class="controls bullet"><span class="by">bsza</span><span>|</span><a href="#39910745">parent</a><span>|</span><a href="#39911038">next</a><span>|</span><label class="collapse" for="c-39910956">[-]</label><label class="expand" for="c-39910956">[5 more]</label></div><br/><div class="children"><div class="content">I’m gonna cry survivorship bias here. How do we know how many similar attempts succeeded? How many of the ones discovered have been written off as honest mistakes? How can we know for sure that e.g. Heartbleed wasn’t put there by someone on purpose (and that that someone isn’t filthy rich now)?<p>When you get hired to a private company, they know who you are. That’s an immediate deterrent against trying anything funny. On Github, no one knows who you are. It might be harder to backdoor a project without getting noticed, but there is no risk to getting noticed. You can try as many times as you like. Jia Tan is still at large, and didn’t even have to plan their whole life around living in a non-extraditing country (if they aren’t in one already).</div><br/><div id="39911701" class="c"><input type="checkbox" id="c-39911701" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39910956">parent</a><span>|</span><a href="#39911038">next</a><span>|</span><label class="collapse" for="c-39911701">[-]</label><label class="expand" for="c-39911701">[4 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Industrial_espionage" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Industrial_espionage</a> (aka corporate espionage)<p>Happens all the time. Maybe it&#x27;s a state actor. Maybe it&#x27;s a disgruntled employee. It&#x27;s just not in the same lens as you expect (software supply chain attack).<p>Apple has trouble keeping the lid on top secret projects. Leaks about designs happen all the time prior to scheduled debut at WWDC.<p>MS has had trouble in the past as well when it came to developing the Xbox (One?).<p>&quot;Owners of China-Based Company Charged With Conspiracy to Send Trade Secrets Belonging to Leading U.S.-Based Electric Vehicle Company&quot; - <a href="https:&#x2F;&#x2F;www.justice.gov&#x2F;usao-edny&#x2F;pr&#x2F;owners-china-based-company-charged-conspiracy-send-trade-secrets-belonging-leading-us" rel="nofollow">https:&#x2F;&#x2F;www.justice.gov&#x2F;usao-edny&#x2F;pr&#x2F;owners-china-based-comp...</a><p>&quot;Ex-Google engineer charged with stealing AI trade secrets while working with Chinese companies&quot; - <a href="https:&#x2F;&#x2F;www.latimes.com&#x2F;world-nation&#x2F;story&#x2F;2024-03-07&#x2F;ex-google-engineer-charged-with-stealing-ai-trade-secrets-while-working-with-chinese-companies" rel="nofollow">https:&#x2F;&#x2F;www.latimes.com&#x2F;world-nation&#x2F;story&#x2F;2024-03-07&#x2F;ex-goo...</a><p>&quot;The US Hits Huawei With New Charges of Trade Secret Theft&quot; - <a href="https:&#x2F;&#x2F;www.wired.com&#x2F;story&#x2F;us-hits-huawei-new-charges-trade-secret-theft&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.wired.com&#x2F;story&#x2F;us-hits-huawei-new-charges-trade...</a><p>&quot;U.S. charges China-controlled company in trade secrets theft&quot; - <a href="https:&#x2F;&#x2F;www.pbs.org&#x2F;newshour&#x2F;economy&#x2F;u-s-charges-china-controlled-company-in-trade-secrets-theft" rel="nofollow">https:&#x2F;&#x2F;www.pbs.org&#x2F;newshour&#x2F;economy&#x2F;u-s-charges-china-contr...</a><p>&quot;Ex-Google and Uber engineer Anthony Levandowski charged with trade secret theft&quot; - <a href="https:&#x2F;&#x2F;www.theverge.com&#x2F;2019&#x2F;8&#x2F;27&#x2F;20835368&#x2F;google-uber-engineer-trade-theft-secrets-anthony-levandowski-charged" rel="nofollow">https:&#x2F;&#x2F;www.theverge.com&#x2F;2019&#x2F;8&#x2F;27&#x2F;20835368&#x2F;google-uber-engi...</a><p>In the case of Levandowski, the dude didn&#x27;t even bother with covering his tracks. Straight up just downloads trade secrets from source control and transfers them to personal computer - <a href="https:&#x2F;&#x2F;www.justice.gov&#x2F;usao-ndca&#x2F;press-release&#x2F;file&#x2F;1197991&#x2F;download" rel="nofollow">https:&#x2F;&#x2F;www.justice.gov&#x2F;usao-ndca&#x2F;press-release&#x2F;file&#x2F;1197991...</a><p>In this small sample of cases, were the exfiltration attempts as elaborate as the &quot;xz attack&quot;? Probably not, but all of these people were vetted by internal procedures and that did nothing to stop them from acting maliciously.<p>Forget back dooring the project when getting through the front door is so much easier! People are very relaxed in their walled off garden and cubicle :)</div><br/><div id="39912932" class="c"><input type="checkbox" id="c-39912932" checked=""/><div class="controls bullet"><span class="by">resolutebat</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911701">parent</a><span>|</span><a href="#39913886">next</a><span>|</span><label class="collapse" for="c-39912932">[-]</label><label class="expand" for="c-39912932">[1 more]</label></div><br/><div class="children"><div class="content">Stealing trade secrets (read: copying source code) is a whole different ballgame from trying to inject backdoors into ubiquitous pieces of software.</div><br/></div></div><div id="39913886" class="c"><input type="checkbox" id="c-39913886" checked=""/><div class="controls bullet"><span class="by">bsza</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911701">parent</a><span>|</span><a href="#39912932">prev</a><span>|</span><a href="#39911038">next</a><span>|</span><label class="collapse" for="c-39913886">[-]</label><label class="expand" for="c-39913886">[2 more]</label></div><br/><div class="children"><div class="content">This kind of demonstrates my point. Every single one of these headlines indicates the bad actor has been &quot;charged&quot; (with serious consequences in the case of Huawei).<p>Has Jia Tan been &quot;charged&quot; with anything?</div><br/><div id="39914042" class="c"><input type="checkbox" id="c-39914042" checked=""/><div class="controls bullet"><span class="by">nindalf</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39913886">parent</a><span>|</span><a href="#39911038">next</a><span>|</span><label class="collapse" for="c-39914042">[-]</label><label class="expand" for="c-39914042">[1 more]</label></div><br/><div class="children"><div class="content">I’m gonna cry survivorship bias here. How do we know how many similar attempts succeeded?</div><br/></div></div></div></div></div></div></div></div><div id="39911038" class="c"><input type="checkbox" id="c-39911038" checked=""/><div class="controls bullet"><span class="by">yongjik</span><span>|</span><a href="#39910745">parent</a><span>|</span><a href="#39910956">prev</a><span>|</span><a href="#39910934">next</a><span>|</span><label class="collapse" for="c-39911038">[-]</label><label class="expand" for="c-39911038">[8 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t buy it.  Most private companies would require a face-to-face meeting when you start.  Even if you&#x27;re fully remote, the expectation would be that at some point you would meet your coworkers at meetspace, most likely before you get to commit anything substantial.  The ones that are worth penetrating will almost certainly require a background check.<p>And then, once you&#x27;re in, you cannot just commit to your target project willy-nilly, as your manager and your manager&#x27;s manager will have other priorities.  A for-profit company&#x27;s frequently dysfunctional management would actually work as deterrent here: you don&#x27;t just need to justify your code, you will have to justify why you were working on it in the first place.</div><br/><div id="39911751" class="c"><input type="checkbox" id="c-39911751" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911038">parent</a><span>|</span><a href="#39911332">next</a><span>|</span><label class="collapse" for="c-39911751">[-]</label><label class="expand" for="c-39911751">[5 more]</label></div><br/><div class="children"><div class="content">face to face, background checks. they are all superficial.<p>A smooth talker can get you to relax your guard.<p>Identity can be faked, especially if you have a nation state backing you.</div><br/><div id="39912129" class="c"><input type="checkbox" id="c-39912129" checked=""/><div class="controls bullet"><span class="by">bigiain</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911751">parent</a><span>|</span><a href="#39911898">next</a><span>|</span><label class="collapse" for="c-39912129">[-]</label><label class="expand" for="c-39912129">[1 more]</label></div><br/><div class="children"><div class="content">How much would you bet against the NSA having a team full of leetcode and interview experts, who&#x27;s job is to apply at tech companies and perform excellently through the hiring process, so that the offensive team at NSA can infiltrate and work remotely without ever needing to meet there new &quot;coworkers&quot;?<p>I suspect a &quot;professional job seeker&quot; with the resources of the NSA behind them and who lands 1st and subsequent interviews dozens of times a year - would be _way_ better at landing interviews and jumping through stupid recruiting hoops that even the best senior or &quot;10x engineers&quot;, who probably only interview a dozen or two times in their entire career.</div><br/></div></div><div id="39911898" class="c"><input type="checkbox" id="c-39911898" checked=""/><div class="controls bullet"><span class="by">breadwinner</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911751">parent</a><span>|</span><a href="#39912129">prev</a><span>|</span><a href="#39911332">next</a><span>|</span><label class="collapse" for="c-39911898">[-]</label><label class="expand" for="c-39911898">[3 more]</label></div><br/><div class="children"><div class="content">Today no one knows what Jia Tan looks like. That means Jia Tan come back as Gary Smith and work on the next exploit. If we knew what he looked like, we could have at least prevented him from coming back.</div><br/><div id="39912559" class="c"><input type="checkbox" id="c-39912559" checked=""/><div class="controls bullet"><span class="by">not2b</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911898">parent</a><span>|</span><a href="#39911332">next</a><span>|</span><label class="collapse" for="c-39912559">[-]</label><label class="expand" for="c-39912559">[2 more]</label></div><br/><div class="children"><div class="content">Jia Tan might be more than one person.</div><br/><div id="39913650" class="c"><input type="checkbox" id="c-39913650" checked=""/><div class="controls bullet"><span class="by">breadwinner</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39912559">parent</a><span>|</span><a href="#39911332">next</a><span>|</span><label class="collapse" for="c-39913650">[-]</label><label class="expand" for="c-39913650">[1 more]</label></div><br/><div class="children"><div class="content">Requiring him&#x2F;her to show their face might have prevented that.</div><br/></div></div></div></div></div></div></div></div><div id="39911092" class="c"><input type="checkbox" id="c-39911092" checked=""/><div class="controls bullet"><span class="by">ThePowerOfFuet</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39911038">parent</a><span>|</span><a href="#39911332">prev</a><span>|</span><a href="#39910934">next</a><span>|</span><label class="collapse" for="c-39911092">[-]</label><label class="expand" for="c-39911092">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;rigor-mortis.nmrc.org&#x2F;@simplenomad&#x2F;112184869681420177" rel="nofollow">https:&#x2F;&#x2F;rigor-mortis.nmrc.org&#x2F;@simplenomad&#x2F;11218486968142017...</a></div><br/></div></div></div></div><div id="39910934" class="c"><input type="checkbox" id="c-39910934" checked=""/><div class="controls bullet"><span class="by">skrtskrt</span><span>|</span><a href="#39910745">parent</a><span>|</span><a href="#39911038">prev</a><span>|</span><a href="#39911254">next</a><span>|</span><label class="collapse" for="c-39910934">[-]</label><label class="expand" for="c-39910934">[4 more]</label></div><br/><div class="children"><div class="content">off topic, but how many actual non-extradition countries are there these days (for the US)?<p>Even countries we have strained relationships with will extradite as part of a negotiation when it&#x27;s convenient for them politically.<p>Russia probably wouldn&#x27;t have even kept Snowden if it wasn&#x27;t state secrets he revealed.
If it was just some random data breach they would have prisoner-swapped him for an oligarch caught money laundering elsewhere.</div><br/><div id="39910991" class="c"><input type="checkbox" id="c-39910991" checked=""/><div class="controls bullet"><span class="by">moopitydoop</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39910934">parent</a><span>|</span><a href="#39911266">next</a><span>|</span><label class="collapse" for="c-39910991">[-]</label><label class="expand" for="c-39910991">[1 more]</label></div><br/><div class="children"><div class="content">Our adversaries aren&#x27;t going to extradite their citizens to the west. And obviously if it&#x27;s a state-level actor they aren&#x27;t going to extradite their own actors.<p>As someone old enough to remember the tail end of the early hacker eras (e.g. Mitnick), I don&#x27;t think anyone SHOULD be extradited over this, in particular if they&#x27;re not being charged with actually using the exploit. Prosecute them where they live. Should they be prosecuted 193 times over in every state on Earth? What&#x27;s the nexus? Github? Every server that installed the compromised xz utils?<p>But you are right they will <i>deport</i> (not extradite) foreigners who are inconvenient to them or when it is politically expedient to do so, if the foreigners are a nuisance, or as part of a political negotiation or prisoner exchange.<p>The whole &quot;extradition treaties&quot; meme is a misconception. You will only get extradited if you flee to a country where you are a citizen (even dual citizen), or the ability to assert citizenship&#x2F;nationality there. A fugitive fleeing to a country without an extradition treaty is subject to deportation. Every country on earth reserves the right to deny entry to or deport foreign fugitives. They might choose not to if someone is found to be a refugee, subject to the death penalty in a non-death-penalty state, etc.</div><br/></div></div><div id="39911266" class="c"><input type="checkbox" id="c-39911266" checked=""/><div class="controls bullet"><span class="by">EasyMark</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39910934">parent</a><span>|</span><a href="#39910991">prev</a><span>|</span><a href="#39912433">next</a><span>|</span><label class="collapse" for="c-39911266">[-]</label><label class="expand" for="c-39911266">[1 more]</label></div><br/><div class="children"><div class="content">Russia and China would never extradite for this, they would hire the people involved if they aren&#x27;t already in their employ, and I wouldn&#x27;t blame them. I&#x27;m not even sure if they could be charged with more than misdemeanor charges anyway.</div><br/></div></div><div id="39912433" class="c"><input type="checkbox" id="c-39912433" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#39910745">root</a><span>|</span><a href="#39910934">parent</a><span>|</span><a href="#39911266">prev</a><span>|</span><a href="#39911254">next</a><span>|</span><label class="collapse" for="c-39912433">[-]</label><label class="expand" for="c-39912433">[1 more]</label></div><br/><div class="children"><div class="content">&gt; off topic, but how many actual non-extradition countries are there these days (for the US)?<p>Several countries do not extradite their own citizens. For citizens of these countries, going back to their own home country would be enough.</div><br/></div></div></div></div><div id="39911254" class="c"><input type="checkbox" id="c-39911254" checked=""/><div class="controls bullet"><span class="by">EasyMark</span><span>|</span><a href="#39910745">parent</a><span>|</span><a href="#39910934">prev</a><span>|</span><a href="#39912238">next</a><span>|</span><label class="collapse" for="c-39911254">[-]</label><label class="expand" for="c-39911254">[1 more]</label></div><br/><div class="children"><div class="content">Could be interesting as a class project to investigate other small relatively innocuous but near ubiquitous projects that could be treated the same way and investigate whether something similar could be done or has been done already. Just making a list of them would be useful if nothing else.</div><br/></div></div></div></div><div id="39912238" class="c"><input type="checkbox" id="c-39912238" checked=""/><div class="controls bullet"><span class="by">Solvency</span><span>|</span><a href="#39910745">prev</a><span>|</span><a href="#39911936">next</a><span>|</span><label class="collapse" for="c-39912238">[-]</label><label class="expand" for="c-39912238">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s kind of tragically amusing how heinously complex and unnecessarily inscrutable modern technology is, and it&#x27;s only getting worse. I think developers sadistically enjoy it.</div><br/></div></div><div id="39911936" class="c"><input type="checkbox" id="c-39911936" checked=""/><div class="controls bullet"><span class="by">zadwang</span><span>|</span><a href="#39912238">prev</a><span>|</span><a href="#39909544">next</a><span>|</span><label class="collapse" for="c-39911936">[-]</label><label class="expand" for="c-39911936">[2 more]</label></div><br/><div class="children"><div class="content">The set of unix utilities have been tested a long time. I just wish the kernel and key utilities keeps fixed and not changed. Unless absolutely necessary. Don’t fix it if it ain’t broken. The software empire seems out of control.</div><br/><div id="39913618" class="c"><input type="checkbox" id="c-39913618" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#39911936">parent</a><span>|</span><a href="#39909544">next</a><span>|</span><label class="collapse" for="c-39913618">[-]</label><label class="expand" for="c-39913618">[1 more]</label></div><br/><div class="children"><div class="content">It is all broken. The quick hack to make things kind of work today, compounded across fifty years and a million developers.<p>There are occasional shining lights of stuff done right but I think it&#x27;s fair to say they&#x27;re comprehensively outcompeted.</div><br/></div></div></div></div><div id="39911799" class="c"><input type="checkbox" id="c-39911799" checked=""/><div class="controls bullet"><span class="by">cletus</span><span>|</span><a href="#39909544">prev</a><span>|</span><a href="#39908170">next</a><span>|</span><label class="collapse" for="c-39911799">[-]</label><label class="expand" for="c-39911799">[12 more]</label></div><br/><div class="children"><div class="content">My big takeaway is that modern build systems are fundamentally broken. Autotools, even Makefiles, are (or can be) incredibly obtuse, even unreadable. If I read this attack correctly, it relied on a payload in a test file (to obfuscate it). It shouldn&#x27;t be possible to include test resources in a production build.<p>As an aside, C&#x2F;C++&#x27;s header system with conditional inclusion is also fundamentally broken. Even templates are just text substitution with a thin veneer of typing.<p>I think about Google&#x27;s build system, which is very much designed to avoid this kind of thing. The internal build tool is Blaze (Bazel is the open-source cousin). Many years ago, you could essentially write scripts in your BUILD files (called genrules) that were hugely problematic. There was no way to guarantee the output so they had to be constantly rebuilt. There was a long project to eliminate this kind of edge case.<p>Blaze (and Bazel) are built around declaring hermetic units to be built with explicit dependencies only. Nothing shipped to production is built locally. It&#x27;s all built by the build servers (a system called Forge). These outputs are packaged into Midas packages (&quot;MPMs&quot;). You could absolutely reconstruct the source used to build a particular library, binary or package as well as the build toolchain and version used. And any build is completely deterministic and verifiable.<p>C&#x2F;C++, Make, CMake, autotools, autoconf and all that tooling so common in Linux and its core dependencies absolutely needs to go.</div><br/><div id="39913314" class="c"><input type="checkbox" id="c-39913314" checked=""/><div class="controls bullet"><span class="by">ufmace</span><span>|</span><a href="#39911799">parent</a><span>|</span><a href="#39912121">next</a><span>|</span><label class="collapse" for="c-39913314">[-]</label><label class="expand" for="c-39913314">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;re not wrong, but IMO that isn&#x27;t the real problem. The real problem is the combination of highly popular core open-source utilities with near-zero maintenance resources.<p>This was all possible because XZ, despite being effectively everywhere, has one actual part-time maintainer who had other things going on in his life. That also means that there&#x27;s nowhere near enough resources to redo the build system to some more secure alternative. If they had, say, 10 enthusiastic and skilled volunteer contributors with plenty of free time, they could do that, but then a new person appearing out of nowhere with a few helpful commits would never have a chance at being made an official maintainer or sneaking sketchy tools and code past the other maintainers.<p>Not that I&#x27;m blaming XZ or the real maintainer. Clearly whoever was behind this was looking for the weakest link, and if it wasn&#x27;t XZ, it would have been something else. The real problem is the culture.<p>So I guess what this really means is someone at a big corporation making Linux distros should audit their full dependency tree. Any tool in that tree that isn&#x27;t actively maintained, say at least 3 long-time active contributors, they should take over one way or another - whether that&#x27;s hiring the current maintainer as a full-time remote employee, offering to buy out the rights, or forking and running under their own team.<p>I&#x27;m not necessarily super thrilled with that, but I guess it&#x27;s the world we live in now.</div><br/><div id="39914216" class="c"><input type="checkbox" id="c-39914216" checked=""/><div class="controls bullet"><span class="by">bhawks</span><span>|</span><a href="#39911799">root</a><span>|</span><a href="#39913314">parent</a><span>|</span><a href="#39912121">next</a><span>|</span><label class="collapse" for="c-39914216">[-]</label><label class="expand" for="c-39914216">[1 more]</label></div><br/><div class="children"><div class="content">The overworked solo maintainer is a problem.<p>However I&#x27;ve seen way too many projects where individuals in the &#x27;team&#x27; are able to carve out impenetrable fiefdoms where they can operate with wide latitude.<p>I could see a Jia Tan being able to pull this off in a team context as well - bigger teams might even be weaker. (Everyone welcome Jia - he&#x27;s going to write test cases and optimize our build process so everyone can focus on $LAUNCH_DAY)</div><br/></div></div></div></div><div id="39912121" class="c"><input type="checkbox" id="c-39912121" checked=""/><div class="controls bullet"><span class="by">sanderjd</span><span>|</span><a href="#39911799">parent</a><span>|</span><a href="#39913314">prev</a><span>|</span><a href="#39912035">next</a><span>|</span><label class="collapse" for="c-39912121">[-]</label><label class="expand" for="c-39912121">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>modern build systems</i>
&gt; <i>Autotools, even Makefiles</i>
&gt; <i>C&#x2F;C++&#x27;s header system with conditional inclusion</i><p>Wouldn&#x27;t it be more accurate to say something like &quot;older build systems&quot;? I don&#x27;t think any of the things you listed are &quot;modern&quot;. Which isn&#x27;t a criticism of their legacy! They have been very useful for a long time, and that&#x27;s to be applauded. But they have <i>huge</i> problems, which is a big part of why newer systems have been created.<p>FWIW, I have been using pants[0] (v2) for a little under a year. We chose it after also evaluating it and bazel (but not nix, for better or worse). I think it&#x27;s really really great! Also painful in some ways (as is inevitably the case with any software). And of course it&#x27;s nearly impossible to <i>entirely</i> stomp out &quot;genrules&quot; use cases. But it&#x27;s much easier to get much closer to true hermeticity, and I&#x27;m a big fan of that.<p>0: <a href="https:&#x2F;&#x2F;www.pantsbuild.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.pantsbuild.org&#x2F;</a></div><br/><div id="39912628" class="c"><input type="checkbox" id="c-39912628" checked=""/><div class="controls bullet"><span class="by">justinpombrio</span><span>|</span><a href="#39911799">root</a><span>|</span><a href="#39912121">parent</a><span>|</span><a href="#39912035">next</a><span>|</span><label class="collapse" for="c-39912628">[-]</label><label class="expand" for="c-39912628">[1 more]</label></div><br/><div class="children"><div class="content">To be clear about the history: Make is from 1976, and Autotools is from 1991. Had me a chuckle about these being called modern, they&#x27;re (some of?) the earliest build systems.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Make_(software)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Make_(software)</a><p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Autoconf" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Autoconf</a></div><br/></div></div></div></div><div id="39912035" class="c"><input type="checkbox" id="c-39912035" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#39911799">parent</a><span>|</span><a href="#39912121">prev</a><span>|</span><a href="#39912198">next</a><span>|</span><label class="collapse" for="c-39912035">[-]</label><label class="expand" for="c-39912035">[3 more]</label></div><br/><div class="children"><div class="content">If I were starting something from scratch I&#x27;d do Bazel for internal deps, Nix for external ones.  If that&#x27;s a tall order, so be it: we train people. Investments in determinism usually end up paying off.</div><br/><div id="39912153" class="c"><input type="checkbox" id="c-39912153" checked=""/><div class="controls bullet"><span class="by">threePointFive</span><span>|</span><a href="#39911799">root</a><span>|</span><a href="#39912035">parent</a><span>|</span><a href="#39912174">next</a><span>|</span><label class="collapse" for="c-39912153">[-]</label><label class="expand" for="c-39912153">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not familiar with Bazel, but Nix in it&#x27;s current form wouldn&#x27;t have solved this attack. First of all, the standard mkDerivation function calls the same configure; make; make install process that made this attack possible. Nixpkgs regularly pulls in external resources (fetchUrl and friends) that are equally vulnerable to a poisoned release tarball. Checkout the comment on the current xz entry in nixpkgs <a href="https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;blob&#x2F;master&#x2F;pkgs&#x2F;tools&#x2F;compression&#x2F;xz&#x2F;default.nix">https:&#x2F;&#x2F;github.com&#x2F;NixOS&#x2F;nixpkgs&#x2F;blob&#x2F;master&#x2F;pkgs&#x2F;tools&#x2F;comp...</a></div><br/></div></div><div id="39912174" class="c"><input type="checkbox" id="c-39912174" checked=""/><div class="controls bullet"><span class="by">wocram</span><span>|</span><a href="#39911799">root</a><span>|</span><a href="#39912035">parent</a><span>|</span><a href="#39912153">prev</a><span>|</span><a href="#39912198">next</a><span>|</span><label class="collapse" for="c-39912174">[-]</label><label class="expand" for="c-39912174">[1 more]</label></div><br/><div class="children"><div class="content">This sounds nice on paper, but there&#x27;s a lot of missing glue to be written between nix and bazel.<p>Ideally nix would move towards less imperative&#x2F;genrule style package declarations and ultimately become more usable for internal builds.</div><br/></div></div></div></div><div id="39912198" class="c"><input type="checkbox" id="c-39912198" checked=""/><div class="controls bullet"><span class="by">ants_everywhere</span><span>|</span><a href="#39911799">parent</a><span>|</span><a href="#39912035">prev</a><span>|</span><a href="#39912833">next</a><span>|</span><label class="collapse" for="c-39912198">[-]</label><label class="expand" for="c-39912198">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The internal build tool is Blaze (Bazel is the open-source cousin).<p>I was under the impression that Blaze is Google&#x27;s Bazel deployment, i.e. that they&#x27;re the same code. Is that not correct?</div><br/><div id="39912462" class="c"><input type="checkbox" id="c-39912462" checked=""/><div class="controls bullet"><span class="by">xen0</span><span>|</span><a href="#39911799">root</a><span>|</span><a href="#39912198">parent</a><span>|</span><a href="#39912833">next</a><span>|</span><label class="collapse" for="c-39912462">[-]</label><label class="expand" for="c-39912462">[1 more]</label></div><br/><div class="children"><div class="content">Mostly correct; there&#x27;s some code that&#x27;s Blaze only and some that&#x27;s Bazel only, but the core is the same.</div><br/></div></div></div></div><div id="39912833" class="c"><input type="checkbox" id="c-39912833" checked=""/><div class="controls bullet"><span class="by">dhx</span><span>|</span><a href="#39911799">parent</a><span>|</span><a href="#39912198">prev</a><span>|</span><a href="#39912606">next</a><span>|</span><label class="collapse" for="c-39912833">[-]</label><label class="expand" for="c-39912833">[1 more]</label></div><br/><div class="children"><div class="content">Ugly and broken build systems are most of the reason why Gentoo&#x27;s &#x27;sandbox&#x27; feature and equivalent for other distributions exists.[1] These sandboxing features have mostly been used in the past to prevent an ugly shell script in the build process for libuselesscruft from doing something similar to &quot;rm -rf&quot; on the build system. More recently these sandboxing features are helpful in encouraging reproducible builds by alerting maintainers to build processes which try and obtain non-deterministic information from the operating system environment such as the operating system name and version, host name and current time stamp.<p>There are a few gaps I think xz-utils highlights:<p>- Repositories containing a mixture of source code, build scripts, test frameworks, static resources and documentation generation scripts are all considered to be a single security domain with no isolation between them. If you look to Gentoo&#x27;s src_prepare function as an example, we perhaps should instead split this into build_src_prepare, doc_src_prepare, test_src_prepare and install_src_prepare instead. If source code is being built and binaries generated, the sandboxed build directory should perhaps not contain test files and documentation generation scripts. If the package is being installed with &quot;make install&quot; (or equivalent) then static resources (such as a timezone database) should be available to copy to &#x2F;usr&#x2F;, but build scripts used to generate the binaries or documentation do not need to be available to &quot;make install&quot; (or equivalent).<p>- Sandboxing used for package building hasn&#x27;t traditionally been implemented for security reasons in the past. Sandboxing should perhaps be hardened further with modern and more complex approaches such as seccomp to further protect build systems from the likes of libbackdoored that are targeted towards package maintainers&#x2F;Linux distribution build systems. As a further example to seccomp, Gentoo&#x27;s &#x27;sandbox&#x27; has Linux namespace isolation built in, but not yet enabled whilst it is tested.<p>- There is a lack of automated package management tools (including dashboards &#x2F; automatic bug creation) for comparing source trees in Git to released tarballs and making discrepancies more visible and easier for maintainers to review.<p>- There is a lack of automatic package management tools (including dashboards &#x2F; automatic bug creation) for detecting binary and high entropy files in source trees and confirming they are validly formatted (e.g. invalid tag in a TLV file format) and confirming that test and example files contain nothing-up-my-sleeve content.<p>There has already been an accelerated move in recent years towards modern and safer build systems (such as meson and cargo) as 80&#x27;s&#x2F;90&#x27;s C libraries get ripped out and replaced with modern Rust libraries, or other safer options. This is a lot of work that will take many years though, and many old 80&#x27;s&#x2F;90&#x27;s C libraries and build systems will be needed for many more years to come. And for this reason, sandboxing&#x2F;isolation&#x2F;safety of old build systems seemingly needs to be improved as a priority, noting that old build systems will take years or decades to replace.<p>[1] <a href="https:&#x2F;&#x2F;devmanual.gentoo.org&#x2F;general-concepts&#x2F;sandbox&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;devmanual.gentoo.org&#x2F;general-concepts&#x2F;sandbox&#x2F;index....</a><p>[2] <a href="https:&#x2F;&#x2F;devmanual.gentoo.org&#x2F;ebuild-writing&#x2F;functions&#x2F;src_prepare&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;devmanual.gentoo.org&#x2F;ebuild-writing&#x2F;functions&#x2F;src_pr...</a></div><br/></div></div></div></div><div id="39908170" class="c"><input type="checkbox" id="c-39908170" checked=""/><div class="controls bullet"><span class="by">benlivengood</span><span>|</span><a href="#39911799">prev</a><span>|</span><a href="#39911997">next</a><span>|</span><label class="collapse" for="c-39908170">[-]</label><label class="expand" for="c-39908170">[15 more]</label></div><br/><div class="children"><div class="content">The only upside of finding this attack (aside from preventing it from being rolled out more widely) is that it gives a public example of a complex APT supply-chain attack.  Rest assured there are more out there, and the patterns used will probably be repeated elsewhere and easier to spot.<p>Obfuscated autoconf changes, multi-stage deployment, binary blobs (hello lib&#x2F;firmware and friends, various other encoders&#x2F;decoders, boot logos, etc), repo ownership changes, new-ish prolific committers in understaffed dependency libraries, magic values introduced without explanation.</div><br/><div id="39909751" class="c"><input type="checkbox" id="c-39909751" checked=""/><div class="controls bullet"><span class="by">MarkSweep</span><span>|</span><a href="#39908170">parent</a><span>|</span><a href="#39909289">next</a><span>|</span><label class="collapse" for="c-39909751">[-]</label><label class="expand" for="c-39909751">[1 more]</label></div><br/><div class="children"><div class="content">Add to that list suppression of warnings from valgrind and address sanitizer without any justification. And no tracking issue to follow up on fixing the problem so the suppression can be removed.<p>Committing binary files to source control rather than including build commands to generate the files is a bit of a red flag.</div><br/></div></div><div id="39909289" class="c"><input type="checkbox" id="c-39909289" checked=""/><div class="controls bullet"><span class="by">MuffinFlavored</span><span>|</span><a href="#39908170">parent</a><span>|</span><a href="#39909751">prev</a><span>|</span><a href="#39908542">next</a><span>|</span><label class="collapse" for="c-39909289">[-]</label><label class="expand" for="c-39909289">[4 more]</label></div><br/><div class="children"><div class="content">&gt; The changes to build-to-host.m4 weren&#x27;t in the source repo, so there was no commit.
&gt; 
&gt; The attacker had permissions to create GitHub releases, so they simply added it to the GitHub release tarball.<p>What are some simple tweaks the &quot;Debians&quot; of the world can do to mitigate this kind of stuff?<p>Not trust &quot;hand-curated-by-possibly-malicious-maintainers&quot; GitHub release tarballs, only trust git commits?<p>Whitelist functions that are allowed to do IFUNC&#x2F;ELF hooking to core OpenSSH functions?</div><br/><div id="39912143" class="c"><input type="checkbox" id="c-39912143" checked=""/><div class="controls bullet"><span class="by">ilc</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39909289">parent</a><span>|</span><a href="#39912412">next</a><span>|</span><label class="collapse" for="c-39912143">[-]</label><label class="expand" for="c-39912143">[1 more]</label></div><br/><div class="children"><div class="content">Read IOCCC entries.<p>Now realize, those are people having FUN.  What is your chance of catching nation state level maliciousness in a codebase?  Pretty low.</div><br/></div></div><div id="39912412" class="c"><input type="checkbox" id="c-39912412" checked=""/><div class="controls bullet"><span class="by">heeen2</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39909289">parent</a><span>|</span><a href="#39912143">prev</a><span>|</span><a href="#39908542">next</a><span>|</span><label class="collapse" for="c-39912412">[-]</label><label class="expand" for="c-39912412">[2 more]</label></div><br/><div class="children"><div class="content">remove test blobs before building</div><br/><div id="39913649" class="c"><input type="checkbox" id="c-39913649" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39912412">parent</a><span>|</span><a href="#39908542">next</a><span>|</span><label class="collapse" for="c-39913649">[-]</label><label class="expand" for="c-39913649">[1 more]</label></div><br/><div class="children"><div class="content">What&#x27;s a test binary? Bunch of bytes on disk. What&#x27;s a source file? Bunch of bytes on disk.</div><br/></div></div></div></div></div></div><div id="39908542" class="c"><input type="checkbox" id="c-39908542" checked=""/><div class="controls bullet"><span class="by">cassianoleal</span><span>|</span><a href="#39908170">parent</a><span>|</span><a href="#39909289">prev</a><span>|</span><a href="#39910472">next</a><span>|</span><label class="collapse" for="c-39908542">[-]</label><label class="expand" for="c-39908542">[8 more]</label></div><br/><div class="children"><div class="content">&gt; a complex APT supply-chain attack<p>What do you mean by APT? If you mean Debian&#x27;s package manager, that&#x27;s not what this attack was. This was done upstream and affected non-apt distros just as much.<p>It&#x27;s true that upstream is part of apt&#x27;s supply chain but focussing on apt is misleading.<p>edit: why the downvotes? I get from the responses that I was wrong but given how the exploit was initially found in a Debian system and a lot of people very quickly jumped on the “Debian patched a thing and broke security” bandwagon, I don’t think it was much of a leap to wonder if that’s what was meant.<p>Acronyms and initialisms are not the best way to convey specific information.</div><br/><div id="39908571" class="c"><input type="checkbox" id="c-39908571" checked=""/><div class="controls bullet"><span class="by">haimez</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39908542">parent</a><span>|</span><a href="#39908572">next</a><span>|</span><label class="collapse" for="c-39908571">[-]</label><label class="expand" for="c-39908571">[1 more]</label></div><br/><div class="children"><div class="content">It stands for “Advanced Persistent Threat” - <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Advanced_persistent_threat" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Advanced_persistent_threat</a></div><br/></div></div><div id="39908572" class="c"><input type="checkbox" id="c-39908572" checked=""/><div class="controls bullet"><span class="by">danieldk</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39908542">parent</a><span>|</span><a href="#39908571">prev</a><span>|</span><a href="#39908563">next</a><span>|</span><label class="collapse" for="c-39908572">[-]</label><label class="expand" for="c-39908572">[1 more]</label></div><br/><div class="children"><div class="content">I think Advanced Persistent Threat.</div><br/></div></div><div id="39908563" class="c"><input type="checkbox" id="c-39908563" checked=""/><div class="controls bullet"><span class="by">mttpgn</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39908542">parent</a><span>|</span><a href="#39908572">prev</a><span>|</span><a href="#39908585">next</a><span>|</span><label class="collapse" for="c-39908563">[-]</label><label class="expand" for="c-39908563">[1 more]</label></div><br/><div class="children"><div class="content">Not apt the package manager-- it&#x27;s an acronym for Advanced Persistent Threat</div><br/></div></div><div id="39908566" class="c"><input type="checkbox" id="c-39908566" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39908542">parent</a><span>|</span><a href="#39908585">prev</a><span>|</span><a href="#39910832">next</a><span>|</span><label class="collapse" for="c-39908566">[-]</label><label class="expand" for="c-39908566">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What do you mean by APT<p>Advanced, persistent threat.</div><br/></div></div><div id="39910832" class="c"><input type="checkbox" id="c-39910832" checked=""/><div class="controls bullet"><span class="by">nequo</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39908542">parent</a><span>|</span><a href="#39908566">prev</a><span>|</span><a href="#39910876">next</a><span>|</span><label class="collapse" for="c-39910832">[-]</label><label class="expand" for="c-39910832">[1 more]</label></div><br/><div class="children"><div class="content">Others have answered your question about APT but FWIW I don&#x27;t understand the downvotes. You were respectful and simply sought to clear up a misunderstanding.</div><br/></div></div><div id="39910876" class="c"><input type="checkbox" id="c-39910876" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#39908170">root</a><span>|</span><a href="#39908542">parent</a><span>|</span><a href="#39910832">prev</a><span>|</span><a href="#39910472">next</a><span>|</span><label class="collapse" for="c-39910876">[-]</label><label class="expand" for="c-39910876">[1 more]</label></div><br/><div class="children"><div class="content">I was heavily downvoted for supplying a link to a previous discussion on the same topic recently. I wouldn’t worry much about it.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>