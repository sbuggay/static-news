<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704618054741" as="style"/><link rel="stylesheet" href="styles.css?v=1704618054741"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://vickiboykis.com/2024/01/05/retro-on-viberary/">Retro on Viberary</a> <span class="domain">(<a href="https://vickiboykis.com">vickiboykis.com</a>)</span></div><div class="subtext"><span>alexmolas</span> | <span>26 comments</span></div><br/><div><div id="38897187" class="c"><input type="checkbox" id="c-38897187" checked=""/><div class="controls bullet"><span class="by">netruk44</span><span>|</span><a href="#38898100">next</a><span>|</span><label class="collapse" for="c-38897187">[-]</label><label class="expand" for="c-38897187">[5 more]</label></div><br/><div class="children"><div class="content">Very interesting! Coincidentally, I just released my own semantic search engine personal project for Steam games in December.<p>It’s interesting to compare notes and implementation details. I have many of the same notes and faced very similar challenges in my own work haha.<p>The most interesting challenge I found was touched on in this post. Semantic searches presented with the typical text box input generally mislead users into treating the search like a Google search.<p>Searches like “beautiful video game” and “sci-fi thriller” technically work, but they don’t perform as well as just describing a beautiful video game or describing a plot overview of a sci-fi thriller.<p>Semantic search kind of requires a different kind of search query that many users don’t quite understand yet.<p>Maybe there’s an opportunity for an intermediary model to “translate” queries, like how recent image generation models take your image prompt and generate a text prompt that’s used for the image generation instead.</div><br/><div id="38897298" class="c"><input type="checkbox" id="c-38897298" checked=""/><div class="controls bullet"><span class="by">Layvier</span><span>|</span><a href="#38897187">parent</a><span>|</span><a href="#38897740">next</a><span>|</span><label class="collapse" for="c-38897298">[-]</label><label class="expand" for="c-38897298">[1 more]</label></div><br/><div class="children"><div class="content">This is a problem we&#x27;re hitting as well. Hyde (Hypothetical Document Embeddings) is a zero-shot approach to it, where from the query you generate documents that would have a very small distance to the actual documents you&#x27;re looking for. For question answering this would mean generating hypothetical answers. In some cases though, it can yield better results to generate hypothetical queries for each documents, question answering actually being one of them. That requires a lot of pre-processing though, which is not always possible.</div><br/></div></div><div id="38897740" class="c"><input type="checkbox" id="c-38897740" checked=""/><div class="controls bullet"><span class="by">sakd</span><span>|</span><a href="#38897187">parent</a><span>|</span><a href="#38897298">prev</a><span>|</span><a href="#38897366">next</a><span>|</span><label class="collapse" for="c-38897740">[-]</label><label class="expand" for="c-38897740">[1 more]</label></div><br/><div class="children"><div class="content">Sentence Transformers documentation describes this problem as “asymmetric search”. Some of their models are fine tuned to better handle short queries matched to longer documents. (<a href="https:&#x2F;&#x2F;www.sbert.net&#x2F;examples&#x2F;applications&#x2F;semantic-search&#x2F;README.html" rel="nofollow">https:&#x2F;&#x2F;www.sbert.net&#x2F;examples&#x2F;applications&#x2F;semantic-search&#x2F;...</a>)<p>Alternatively, you could mean pool (average) the document embeddings for the most popular click results for a given query and use that as the query embedding.</div><br/></div></div><div id="38897366" class="c"><input type="checkbox" id="c-38897366" checked=""/><div class="controls bullet"><span class="by">kovezd</span><span>|</span><a href="#38897187">parent</a><span>|</span><a href="#38897740">prev</a><span>|</span><a href="#38898100">next</a><span>|</span><label class="collapse" for="c-38897366">[-]</label><label class="expand" for="c-38897366">[2 more]</label></div><br/><div class="children"><div class="content">By definition, semantic search works best by similarity. Thus, the interface you are looking for, is one that facilitates selecting one or multiple objects (i.e. video games).</div><br/><div id="38897448" class="c"><input type="checkbox" id="c-38897448" checked=""/><div class="controls bullet"><span class="by">netruk44</span><span>|</span><a href="#38897187">root</a><span>|</span><a href="#38897366">parent</a><span>|</span><a href="#38898100">next</a><span>|</span><label class="collapse" for="c-38897448">[-]</label><label class="expand" for="c-38897448">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I agree. This is something I implemented in my project UI (a “more like this game” button, and the ability to specify a Steam appid for using as the query).<p>It works if there actually is a game out there you want similar games to, but the text input is useful for finding something when you don’t have an example offhand.</div><br/></div></div></div></div></div></div><div id="38898100" class="c"><input type="checkbox" id="c-38898100" checked=""/><div class="controls bullet"><span class="by">redskyluan</span><span>|</span><a href="#38897187">prev</a><span>|</span><a href="#38897047">next</a><span>|</span><label class="collapse" for="c-38898100">[-]</label><label class="expand" for="c-38898100">[1 more]</label></div><br/><div class="children"><div class="content">We also built a similar semantic search engine for retrieving open-source projects. We experimented with HyDE and guessing user queries based on a corpus, both of which were very successful.<p>For embeddings, we chose BGE, but found they seemed to overfit on Beir. CohereV3 and Voyage appeared to perform better in practice.<p>For retrieval, we used OpenSearch + ZillizCloud Serverless + Cohere ranking, providing us with maximum flexibility and search effectiveness.<p>To be mentioned, build a evaluation dataset is important. This helps me to improve the quality.</div><br/></div></div><div id="38897047" class="c"><input type="checkbox" id="c-38897047" checked=""/><div class="controls bullet"><span class="by">dmezzetti</span><span>|</span><a href="#38898100">prev</a><span>|</span><a href="#38899395">next</a><span>|</span><label class="collapse" for="c-38897047">[-]</label><label class="expand" for="c-38897047">[1 more]</label></div><br/><div class="children"><div class="content">Very nice and comprehensive article by the author. Lots of great lessons shared in building a search system, devops and hosting an application publicly.</div><br/></div></div><div id="38899395" class="c"><input type="checkbox" id="c-38899395" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#38897047">prev</a><span>|</span><a href="#38897154">next</a><span>|</span><label class="collapse" for="c-38899395">[-]</label><label class="expand" for="c-38899395">[1 more]</label></div><br/><div class="children"><div class="content">Is there a similar search model the can find books based not on a vibe, but a on few descriptions of its content, from specific scenes to a more general description of its plot?</div><br/></div></div><div id="38897154" class="c"><input type="checkbox" id="c-38897154" checked=""/><div class="controls bullet"><span class="by">Layvier</span><span>|</span><a href="#38899395">prev</a><span>|</span><a href="#38898222">next</a><span>|</span><label class="collapse" for="c-38897154">[-]</label><label class="expand" for="c-38897154">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be curious to hear what people think is state of the art of this kind of problem? 
I think the Cohere embeddings model v3 is very good, as it handles queries and documents differently to embed them in the same vector space. Otherwise for a specific use case I guess dense retrieval (which is basically a problem specific fine tuned version of this approach) is the best way to go about it?</div><br/><div id="38897198" class="c"><input type="checkbox" id="c-38897198" checked=""/><div class="controls bullet"><span class="by">dmezzetti</span><span>|</span><a href="#38897154">parent</a><span>|</span><a href="#38898171">next</a><span>|</span><label class="collapse" for="c-38897198">[-]</label><label class="expand" for="c-38897198">[4 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re talking about embeddings model metrics, the MTEB Leaderboard is a good resource: <a href="https:&#x2F;&#x2F;huggingface.co&#x2F;spaces&#x2F;mteb&#x2F;leaderboard" rel="nofollow">https:&#x2F;&#x2F;huggingface.co&#x2F;spaces&#x2F;mteb&#x2F;leaderboard</a></div><br/><div id="38897319" class="c"><input type="checkbox" id="c-38897319" checked=""/><div class="controls bullet"><span class="by">Layvier</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897198">parent</a><span>|</span><a href="#38898171">next</a><span>|</span><label class="collapse" for="c-38897319">[-]</label><label class="expand" for="c-38897319">[3 more]</label></div><br/><div class="children"><div class="content">Yes I had a look at it, I haven&#x27;t tried e5-mistral-7b-instruct yet but I&#x27;ll definitely give it a go.
Is there such a leaderboard only focused on retrieval by any chance? I haven&#x27;t found one so far</div><br/><div id="38897331" class="c"><input type="checkbox" id="c-38897331" checked=""/><div class="controls bullet"><span class="by">dmezzetti</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897319">parent</a><span>|</span><a href="#38897686">next</a><span>|</span><label class="collapse" for="c-38897331">[-]</label><label class="expand" for="c-38897331">[1 more]</label></div><br/><div class="children"><div class="content">The BEIR project might be what you&#x27;re looking for: <a href="https:&#x2F;&#x2F;github.com&#x2F;beir-cellar&#x2F;beir&#x2F;wiki&#x2F;Leaderboard">https:&#x2F;&#x2F;github.com&#x2F;beir-cellar&#x2F;beir&#x2F;wiki&#x2F;Leaderboard</a></div><br/></div></div><div id="38897686" class="c"><input type="checkbox" id="c-38897686" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897319">parent</a><span>|</span><a href="#38897331">prev</a><span>|</span><a href="#38898171">next</a><span>|</span><label class="collapse" for="c-38897686">[-]</label><label class="expand" for="c-38897686">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s interesting how the massive model of e5-mistral has only marginal performance gains over the bge-base and similar ones. It could still be useful for the longer sentence length though.</div><br/></div></div></div></div></div></div><div id="38898171" class="c"><input type="checkbox" id="c-38898171" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#38897154">parent</a><span>|</span><a href="#38897198">prev</a><span>|</span><a href="#38897377">next</a><span>|</span><label class="collapse" for="c-38898171">[-]</label><label class="expand" for="c-38898171">[1 more]</label></div><br/><div class="children"><div class="content">&gt; it handles queries and documents differently to embed them in the same vector space<p>I assume this might be behind the state of the art, then. As of a year ago OpenAI managed to get an embeddings model that can do both without any special flag or dual model to treat queries and documents differently.</div><br/></div></div><div id="38897377" class="c"><input type="checkbox" id="c-38897377" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38897154">parent</a><span>|</span><a href="#38898171">prev</a><span>|</span><a href="#38898222">next</a><span>|</span><label class="collapse" for="c-38897377">[-]</label><label class="expand" for="c-38897377">[5 more]</label></div><br/><div class="children"><div class="content">&gt;I&#x27;d be curious to hear what people think is state of the art of this kind of problem?<p>I would assume Amazon&#x27;s product suggestion would be SotA for reccomending a book based off of another. It is a recommondation system and while it uses semantic search there are many more ranking signals it uses.</div><br/><div id="38897465" class="c"><input type="checkbox" id="c-38897465" checked=""/><div class="controls bullet"><span class="by">lukev</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897377">parent</a><span>|</span><a href="#38898222">next</a><span>|</span><label class="collapse" for="c-38897465">[-]</label><label class="expand" for="c-38897465">[4 more]</label></div><br/><div class="children"><div class="content">The problem with systems like that is they&#x27;re going to be optimized for making Amazon the most money, not necessarily what&#x27;s best for the user (unless the two happen to coincide.)</div><br/><div id="38897736" class="c"><input type="checkbox" id="c-38897736" checked=""/><div class="controls bullet"><span class="by">charcircuit</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897465">parent</a><span>|</span><a href="#38898222">next</a><span>|</span><label class="collapse" for="c-38897736">[-]</label><label class="expand" for="c-38897736">[3 more]</label></div><br/><div class="children"><div class="content">Money is a proxy for user value and it is in Amazon&#x27;s best interest for the customer to continually act upon these recommendations. If Amazon fails to deliver user value customers will be less willing to continue paying.</div><br/><div id="38898830" class="c"><input type="checkbox" id="c-38898830" checked=""/><div class="controls bullet"><span class="by">boolemancer</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897736">parent</a><span>|</span><a href="#38898327">next</a><span>|</span><label class="collapse" for="c-38898830">[-]</label><label class="expand" for="c-38898830">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Money is a proxy for user value and it is in Amazon&#x27;s best interest for the customer to continually act upon these recommendations. If Amazon fails to deliver user value customers will be less willing to continue paying.<p>You&#x27;re talking about the same Amazon that will blindly give me recommendations for other products that fill exactly the same niche as the one I just bought.<p>&quot;Oh, you just bought a generator? You probably need a second one too, right?&quot;</div><br/></div></div><div id="38898327" class="c"><input type="checkbox" id="c-38898327" checked=""/><div class="controls bullet"><span class="by">lukev</span><span>|</span><a href="#38897154">root</a><span>|</span><a href="#38897736">parent</a><span>|</span><a href="#38898830">prev</a><span>|</span><a href="#38898222">next</a><span>|</span><label class="collapse" for="c-38898327">[-]</label><label class="expand" for="c-38898327">[1 more]</label></div><br/><div class="children"><div class="content">lol. lmao.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38898222" class="c"><input type="checkbox" id="c-38898222" checked=""/><div class="controls bullet"><span class="by">programjames</span><span>|</span><a href="#38897154">prev</a><span>|</span><a href="#38898191">next</a><span>|</span><label class="collapse" for="c-38898222">[-]</label><label class="expand" for="c-38898222">[2 more]</label></div><br/><div class="children"><div class="content">How would you build a semantic search engine that can also take rules, e.g. &quot;AI papers with the word &#x27;transformer&#x27; in them.&quot;</div><br/><div id="38898244" class="c"><input type="checkbox" id="c-38898244" checked=""/><div class="controls bullet"><span class="by">Layvier</span><span>|</span><a href="#38898222">parent</a><span>|</span><a href="#38898191">next</a><span>|</span><label class="collapse" for="c-38898244">[-]</label><label class="expand" for="c-38898244">[1 more]</label></div><br/><div class="children"><div class="content">you would probably first tag the papers (AI papers then being tagged with &quot;AI&quot;),then generate for instance an Elasticsearch query with an LLM for matching papers with the ai tag and the word transformer</div><br/></div></div></div></div><div id="38898191" class="c"><input type="checkbox" id="c-38898191" checked=""/><div class="controls bullet"><span class="by">wslh</span><span>|</span><a href="#38898222">prev</a><span>|</span><label class="collapse" for="c-38898191">[-]</label><label class="expand" for="c-38898191">[4 more]</label></div><br/><div class="children"><div class="content">Well, after leaving the Web 3.0 failed semantic hype [1] I find stuff such as ChatGPT and LLMs already working. For example, today I started looking to buying a TV stand of good quality. Started an all classic series of search on Google with the typical ads and compiled lists on top. After half an hour feeling running in circles (the results were about the same companies) I fired ChatGPT, asked about a list of places, asked to expand the list three times and voila! all concepts that I remembered about Web 3.0, RDF, triples, FreeBase [2], etc where unnecesary now for reaching Web 3.0.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Web_3.0" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Web_3.0</a><p>[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Freebase_(database)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Freebase_(database)</a></div><br/><div id="38898535" class="c"><input type="checkbox" id="c-38898535" checked=""/><div class="controls bullet"><span class="by">golly_ned</span><span>|</span><a href="#38898191">parent</a><span>|</span><a href="#38898212">next</a><span>|</span><label class="collapse" for="c-38898535">[-]</label><label class="expand" for="c-38898535">[1 more]</label></div><br/><div class="children"><div class="content">Semantic search as described in the article is very dissimilar to querying ChatGPT.</div><br/></div></div><div id="38898212" class="c"><input type="checkbox" id="c-38898212" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#38898191">parent</a><span>|</span><a href="#38898535">prev</a><span>|</span><a href="#38898825">next</a><span>|</span><label class="collapse" for="c-38898212">[-]</label><label class="expand" for="c-38898212">[1 more]</label></div><br/><div class="children"><div class="content">You should really try Deft:<p><a href="https:&#x2F;&#x2F;shopdeft.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;shopdeft.com&#x2F;</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>