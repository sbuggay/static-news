<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1714294855675" as="style"/><link rel="stylesheet" href="styles.css?v=1714294855675"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/Stavrospanakakis/is_ready">Show HN: Is_ready – Wait for many services to become available – 0 Dependencies</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>stavepan</span> | <span>14 comments</span></div><br/><div><div id="40186487" class="c"><input type="checkbox" id="c-40186487" checked=""/><div class="controls bullet"><span class="by">cholindo</span><span>|</span><a href="#40185994">next</a><span>|</span><label class="collapse" for="c-40186487">[-]</label><label class="expand" for="c-40186487">[2 more]</label></div><br/><div class="children"><div class="content">Sometimes waiting for the address is not enough. For example, you might want to wait for a specific API enpoint to return 200 OK, or you might want to wait for database migrations to get applied. Is `is_ready` aiming to cover those cases in the future?</div><br/><div id="40186803" class="c"><input type="checkbox" id="c-40186803" checked=""/><div class="controls bullet"><span class="by">stavepan</span><span>|</span><a href="#40186487">parent</a><span>|</span><a href="#40185994">next</a><span>|</span><label class="collapse" for="c-40186803">[-]</label><label class="expand" for="c-40186803">[1 more]</label></div><br/><div class="children"><div class="content">Interesting idea for a feature request. I would love to read a GitHub issue with your specific case so I can start investigating and think about how to solve a problem like this.</div><br/></div></div></div></div><div id="40185994" class="c"><input type="checkbox" id="c-40185994" checked=""/><div class="controls bullet"><span class="by">matthews2</span><span>|</span><a href="#40186487">prev</a><span>|</span><a href="#40186504">next</a><span>|</span><label class="collapse" for="c-40185994">[-]</label><label class="expand" for="c-40185994">[9 more]</label></div><br/><div class="children"><div class="content">Zero dependencies seems like a weird selling point, especially since it depends on Clap, Tokio, a Rust compiler...<p>A neat project, though. I think that this is best solved in the application itself (e.g. your server starts but returns HTTP errors while the database is unavailable), but being able to retrofit this behaviour into any existing application seems useful. Feels like something very similar should be built into tools like docker-compose.</div><br/><div id="40186788" class="c"><input type="checkbox" id="c-40186788" checked=""/><div class="controls bullet"><span class="by">stavepan</span><span>|</span><a href="#40185994">parent</a><span>|</span><a href="#40186364">next</a><span>|</span><label class="collapse" for="c-40186788">[-]</label><label class="expand" for="c-40186788">[1 more]</label></div><br/><div class="children"><div class="content">Regarding zero dependencies, I meant that it is a static binary and does not need any external tools to be installed. For example, some alternatives require netcat to be installed.</div><br/></div></div><div id="40186364" class="c"><input type="checkbox" id="c-40186364" checked=""/><div class="controls bullet"><span class="by">pkulak</span><span>|</span><a href="#40185994">parent</a><span>|</span><a href="#40186788">prev</a><span>|</span><a href="#40186074">next</a><span>|</span><label class="collapse" for="c-40186364">[-]</label><label class="expand" for="c-40186364">[2 more]</label></div><br/><div class="children"><div class="content">I took the statement to imply no runtime dependencies, as no compile-time dependencies doesn’t really make sense.</div><br/><div id="40187116" class="c"><input type="checkbox" id="c-40187116" checked=""/><div class="controls bullet"><span class="by">blueflow</span><span>|</span><a href="#40185994">root</a><span>|</span><a href="#40186364">parent</a><span>|</span><a href="#40186074">next</a><span>|</span><label class="collapse" for="c-40187116">[-]</label><label class="expand" for="c-40187116">[1 more]</label></div><br/><div class="children"><div class="content">The Linux kernel itself to handle the syscalls is probably also implied in this.</div><br/></div></div></div></div><div id="40186074" class="c"><input type="checkbox" id="c-40186074" checked=""/><div class="controls bullet"><span class="by">thenonameguy</span><span>|</span><a href="#40185994">parent</a><span>|</span><a href="#40186364">prev</a><span>|</span><a href="#40186220">next</a><span>|</span><label class="collapse" for="c-40186074">[-]</label><label class="expand" for="c-40186074">[4 more]</label></div><br/><div class="children"><div class="content">The IMO superior <a href="https:&#x2F;&#x2F;github.com&#x2F;F1bonacc1&#x2F;process-compose">https:&#x2F;&#x2F;github.com&#x2F;F1bonacc1&#x2F;process-compose</a> project has this built in, while allowing to manage regular programs that don&#x27;t require containers.<p>See:
<a href="https:&#x2F;&#x2F;f1bonacc1.github.io&#x2F;process-compose&#x2F;health&#x2F;?h=port#readiness-probe" rel="nofollow">https:&#x2F;&#x2F;f1bonacc1.github.io&#x2F;process-compose&#x2F;health&#x2F;?h=port#r...</a></div><br/><div id="40186474" class="c"><input type="checkbox" id="c-40186474" checked=""/><div class="controls bullet"><span class="by">cholindo</span><span>|</span><a href="#40185994">root</a><span>|</span><a href="#40186074">parent</a><span>|</span><a href="#40186797">next</a><span>|</span><label class="collapse" for="c-40186474">[-]</label><label class="expand" for="c-40186474">[1 more]</label></div><br/><div class="children"><div class="content">`process-compose` is a &quot;scheduler and orchestrator&quot;. `is_ready` only checks for services to be ready so it seems great when you want to start the services by other means and wait for them to be avialabe  (for example, services started in another node of a cluster).</div><br/></div></div><div id="40186797" class="c"><input type="checkbox" id="c-40186797" checked=""/><div class="controls bullet"><span class="by">stavepan</span><span>|</span><a href="#40185994">root</a><span>|</span><a href="#40186074">parent</a><span>|</span><a href="#40186474">prev</a><span>|</span><a href="#40186189">next</a><span>|</span><label class="collapse" for="c-40186797">[-]</label><label class="expand" for="c-40186797">[1 more]</label></div><br/><div class="children"><div class="content">Interesting project, I was not familiar with that. Thanks for letting me know :)</div><br/></div></div></div></div><div id="40186220" class="c"><input type="checkbox" id="c-40186220" checked=""/><div class="controls bullet"><span class="by">SteveNuts</span><span>|</span><a href="#40185994">parent</a><span>|</span><a href="#40186074">prev</a><span>|</span><a href="#40186504">next</a><span>|</span><label class="collapse" for="c-40186220">[-]</label><label class="expand" for="c-40186220">[1 more]</label></div><br/><div class="children"><div class="content">Colloquially a lot of people understand “zero dependencies” to mean “you don’t have to deal with pip&#x2F;virtualenv&#x2F;npm&#x2F;yarn” BS. So, a static binary.</div><br/></div></div></div></div><div id="40186504" class="c"><input type="checkbox" id="c-40186504" checked=""/><div class="controls bullet"><span class="by">darlingdem</span><span>|</span><a href="#40185994">prev</a><span>|</span><label class="collapse" for="c-40186504">[-]</label><label class="expand" for="c-40186504">[2 more]</label></div><br/><div class="children"><div class="content">Seriously?<p><pre><code>    is_ready() {
        while ! nc -z $1 $2; do
            echo &quot;Waiting for $1:$2...&quot;
            sleep 1
        done
        echo &quot;$1:$2 is accessible.&quot;
    }

    is_ready google.com 443 &amp;
    is_ready x.com 443 &amp;
    wait</code></pre></div><br/><div id="40186773" class="c"><input type="checkbox" id="c-40186773" checked=""/><div class="controls bullet"><span class="by">stavepan</span><span>|</span><a href="#40186504">parent</a><span>|</span><label class="collapse" for="c-40186773">[-]</label><label class="expand" for="c-40186773">[1 more]</label></div><br/><div class="children"><div class="content">is_ready is an alternative to this.<p>I built it for many reasons:
- Most docker images do not contain netcat so you would have to download one of them in any case.
- In the case of is_ready, you won&#x27;t have to write this script yourself.
- Repositories like this had a lot of traffic so I supposed that engineers need a similar tool but this repository requires wget and netcat as dependencies. For this reason, I built my own without any dependencies.
<a href="https:&#x2F;&#x2F;github.com&#x2F;eficode&#x2F;wait-for">https:&#x2F;&#x2F;github.com&#x2F;eficode&#x2F;wait-for</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>