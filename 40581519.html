<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717750850254" as="style"/><link rel="stylesheet" href="styles.css?v=1717750850254"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://akamayu-ouo.srht.site/2024-06-01-ksimple">Reading awc</a>Â <span class="domain">(<a href="https://akamayu-ouo.srht.site">akamayu-ouo.srht.site</a>)</span></div><div class="subtext"><span>secwang</span> | <span>18 comments</span></div><br/><div><div id="40604629" class="c"><input type="checkbox" id="c-40604629" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#40605865">next</a><span>|</span><label class="collapse" for="c-40604629">[-]</label><label class="expand" for="c-40604629">[2 more]</label></div><br/><div class="children"><div class="content">While APL-styled C may be one extreme, I&#x27;ve noticed that average code has taken an uncomfortable shift in the other direction especially within the past decade, and I find it irritating to work with a lot of the &quot;modern&quot; stuff as it&#x27;s far too verbose and needlessly indirect. I suspect the rise of strongly lowest-common-denominator lame coding standards and the desire by corporations to make programmers easily replaceable dunces is to blame for that insipidness.<p>(Aside: odd domain names like the one in this article I normally ignore in search results since they&#x27;re usually full of SEO&#x27;d spam, but if one makes it to HN it&#x27;s usually worth a look.)</div><br/><div id="40605122" class="c"><input type="checkbox" id="c-40605122" checked=""/><div class="controls bullet"><span class="by">hackernudes</span><span>|</span><a href="#40604629">parent</a><span>|</span><a href="#40605865">next</a><span>|</span><label class="collapse" for="c-40605122">[-]</label><label class="expand" for="c-40605122">[1 more]</label></div><br/><div class="children"><div class="content">Srht (Sourcehut) is a github-like service well-covered by HN.</div><br/></div></div></div></div><div id="40605865" class="c"><input type="checkbox" id="c-40605865" checked=""/><div class="controls bullet"><span class="by">aragonite</span><span>|</span><a href="#40604629">prev</a><span>|</span><a href="#40592742">next</a><span>|</span><label class="collapse" for="c-40605865">[-]</label><label class="expand" for="c-40605865">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s an attempt to make the code in the first link [1] slightly more readable by replacing the most frequently occurring identifiers with visually distinctive Unicode characters :)<p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;F27ZNfk.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;F27ZNfk.png</a><p>At least it&#x27;s now much easier to spot multiple occurrences of the same identifier. All these unicode characters are still valid in C identifiers, by the way.[2]<p>[1] <a href="https:&#x2F;&#x2F;www.jsoftware.com&#x2F;ioj&#x2F;iojATW.htm" rel="nofollow">https:&#x2F;&#x2F;www.jsoftware.com&#x2F;ioj&#x2F;iojATW.htm</a><p>[2] I say &#x27;still&#x27; because C23 is set to follow C++ and take them all away by restricting identifiers to XID_Start&#x2F;XID_Continue. I find the whole XID_Start&#x2F;XID_Continue idea unmotivated, both philosophically speaking and from a practical point of view, but what can I do. I just hope languages like Julia, Swift, Racket, and Clojure don&#x27;t follow this trend anytime soon...</div><br/></div></div><div id="40592742" class="c"><input type="checkbox" id="c-40592742" checked=""/><div class="controls bullet"><span class="by">debo_</span><span>|</span><a href="#40605865">prev</a><span>|</span><a href="#40592775">next</a><span>|</span><label class="collapse" for="c-40592742">[-]</label><label class="expand" for="c-40592742">[1 more]</label></div><br/><div class="children"><div class="content">Reading code like this makes me better understand how the Shin Megami Tensei authors came up with the idea that a computer could channel demons.</div><br/></div></div><div id="40592775" class="c"><input type="checkbox" id="c-40592775" checked=""/><div class="controls bullet"><span class="by">saulpw</span><span>|</span><a href="#40592742">prev</a><span>|</span><a href="#40591617">next</a><span>|</span><label class="collapse" for="c-40592775">[-]</label><label class="expand" for="c-40592775">[2 more]</label></div><br/><div class="children"><div class="content">I made some ~25 changes to the code[0], to show how some making some pretty minor changes can really improve readability, while still staying extremely tight. I don&#x27;t need everything spelled out for me, and in fact I prefer a horizontal style--I hate scrolling too. But Arthur Whitney&#x27;s code is deliberately obfuscating and IMO it tarnishes the positive aspects of the style.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;saulpw&#x2F;ksimple&#x2F;commits&#x2F;main&#x2F;a.c">https:&#x2F;&#x2F;github.com&#x2F;saulpw&#x2F;ksimple&#x2F;commits&#x2F;main&#x2F;a.c</a></div><br/><div id="40593541" class="c"><input type="checkbox" id="c-40593541" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#40592775">parent</a><span>|</span><a href="#40591617">next</a><span>|</span><label class="collapse" for="c-40593541">[-]</label><label class="expand" for="c-40593541">[1 more]</label></div><br/><div class="children"><div class="content">I find both your version and the original you forked from to be nigh unreadable.  Do y&#x27;all have broken spacebars or something?  Are you writing to 720k floppy disks and don&#x27;t want to &quot;waste&quot; space on identifiers longer than a few characters?<p>Unfortunately I can&#x27;t RTFA, as the site appears to be down.</div><br/></div></div></div></div><div id="40591617" class="c"><input type="checkbox" id="c-40591617" checked=""/><div class="controls bullet"><span class="by">pfych</span><span>|</span><a href="#40592775">prev</a><span>|</span><label class="collapse" for="c-40591617">[-]</label><label class="expand" for="c-40591617">[11 more]</label></div><br/><div class="children"><div class="content">While the code may be elegant like the author suggests - I have never understood the coding style of <i>not</i> using descriptive variable and function names?<p>Is there any benefit that can&#x27;t be gained from using a minifier or transpiler?</div><br/><div id="40592096" class="c"><input type="checkbox" id="c-40592096" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#40591617">parent</a><span>|</span><a href="#40592653">next</a><span>|</span><label class="collapse" for="c-40592096">[-]</label><label class="expand" for="c-40592096">[4 more]</label></div><br/><div class="children"><div class="content">There&#x27;s this general idea that I&#x27;ve found quite illuminating, where physical code size in itself can cross a certain limit and suddenly take more time to read.<p>Something like (+ 5 (* 3 2)) is, IMO, an easier think to parse than add(5, multiply(3, 2)). 5 + (3 * 2) obviously wins some points from being what we get taught for a decade.<p>So if you have these sorts of idioms that are meant to be within other idioms, stuffing them all in one line means there&#x27;s less place for issues to hide, without paying size costs.<p>The real thing of course, is less the above example and more things like:<p>results = [2 * x for x in data]<p>turning into:<p>results = []
for x in data:
  results.append(2 * x)<p>Where in one version I immediately pattern match on a comprehension, so I can immediately determine cardinality and other properties, where the other one I gotta do a _touch_ more work mentally. This feels like it doesn&#x27;t matter, but it all adds up!<p>Terseness is a quality, especially if everyone messing with the code speaks the same vocabulary.</div><br/><div id="40606028" class="c"><input type="checkbox" id="c-40606028" checked=""/><div class="controls bullet"><span class="by">cenamus</span><span>|</span><a href="#40591617">root</a><span>|</span><a href="#40592096">parent</a><span>|</span><a href="#40604758">next</a><span>|</span><label class="collapse" for="c-40606028">[-]</label><label class="expand" for="c-40606028">[1 more]</label></div><br/><div class="children"><div class="content">Of course that would also just be written as results = 2*results in array languages</div><br/></div></div><div id="40604758" class="c"><input type="checkbox" id="c-40604758" checked=""/><div class="controls bullet"><span class="by">saghm</span><span>|</span><a href="#40591617">root</a><span>|</span><a href="#40592096">parent</a><span>|</span><a href="#40606028">prev</a><span>|</span><a href="#40593620">next</a><span>|</span><label class="collapse" for="c-40604758">[-]</label><label class="expand" for="c-40604758">[1 more]</label></div><br/><div class="children"><div class="content">&gt; 5 + (3 * 2) obviously wins some points from being what we get taught for a decade<p>It also has the benefit of having an obvious starting point: on the left, and moving to the right compared to &quot;on the right but inside all of the parentheses, but don&#x27;t ignore them because they&#x27;re needed!&quot; Where it fails is the implicit assumption of operator precedence, which breaks the &quot;left to right model&quot;. If anything though, I&#x27;d argue that eliminating precedence rules and requiring parentheses for anything other than strict left-to-right order would be _more_ intuitive, and the fact that we were all taught about the &quot;order of operations&quot; is the only reason it isn&#x27;t obvious that it&#x27;s probably not better for anything other than writing polynomial expressions, which is not something that most people will ever do outside of the specific educational context where we&#x27;re taught the precedence rules in the first place.</div><br/></div></div><div id="40593620" class="c"><input type="checkbox" id="c-40593620" checked=""/><div class="controls bullet"><span class="by">dabber</span><span>|</span><a href="#40591617">root</a><span>|</span><a href="#40592096">parent</a><span>|</span><a href="#40604758">prev</a><span>|</span><a href="#40592653">next</a><span>|</span><label class="collapse" for="c-40593620">[-]</label><label class="expand" for="c-40593620">[1 more]</label></div><br/><div class="children"><div class="content">I had the same question as the person you replied to, and these excellent examples really made it click for me. Especially the second one. Thanks for sharing.</div><br/></div></div></div></div><div id="40592653" class="c"><input type="checkbox" id="c-40592653" checked=""/><div class="controls bullet"><span class="by">RodgerTheGreat</span><span>|</span><a href="#40591617">parent</a><span>|</span><a href="#40592096">prev</a><span>|</span><a href="#40591924">next</a><span>|</span><label class="collapse" for="c-40592653">[-]</label><label class="expand" for="c-40592653">[1 more]</label></div><br/><div class="children"><div class="content">If you nest a pair of &quot;for&quot; loops in a C program and use &quot;i&quot; and &quot;j&quot; as the loop counters, few reviewers would bat an eye. In this context, used consistently, the single letter carries semantic meaning.<p>In K, lambdas use the variable names &quot;x&quot;, &quot;y&quot;, and &quot;z&quot; for arguments by default. If you see an &quot;x&quot;, it is the function&#x27;s first argument. If you see a &quot;y&quot; but no &quot;z&quot; in a short definition, you know it&#x27;s a dyadic (arity 2) function. Removing unnecessary degrees of freedom in this manner (among other conventions and stylistic choices) makes it much more likely that two K programmers will arrive at character-for-character identical solutions to problems. The uniformity and consistency makes idioms and repetition stand out.<p>Arthur-style C is built on the same basic concept: remove unnecessary degrees of freedom, focus on internal consistency. A very short name can still be descriptive if it is always used to mean the same thing.</div><br/></div></div><div id="40591924" class="c"><input type="checkbox" id="c-40591924" checked=""/><div class="controls bullet"><span class="by">itishappy</span><span>|</span><a href="#40591617">parent</a><span>|</span><a href="#40592653">prev</a><span>|</span><a href="#40592546">next</a><span>|</span><label class="collapse" for="c-40591924">[-]</label><label class="expand" for="c-40591924">[2 more]</label></div><br/><div class="children"><div class="content">Sometimes, particularly in mathematical code, I want the focus to be more on the operators than the variables. I see this style all over the place on Shadertoy.<p><pre><code>    # hyperbolic and contrived example in fake c
    for (int i = 0; i &lt; len(a) - 1; i++) {
        s += a[i] ^ 2 + a[i+1] ^ 2;
    }
    # vs
    for (int index = 0; index &lt; len(array) - 1; index++) {
        sum += array[index] ^ 2 + array[index + 1] ^ 2;
    }
</code></pre>
Arthur&#x27;s style takes this way past my comfort levels, and it make sense he&#x27;d prefer array languages! Check out his Game of Life implementation:<p><pre><code>    a:{3=s-x&amp;4=s:2(+-1+&#x2F;&#x27;:)&#x2F;x}
</code></pre>
<a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20220926225051&#x2F;https:&#x2F;&#x2F;kparc.com&#x2F;z&#x2F;fun.k" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20220926225051&#x2F;https:&#x2F;&#x2F;kparc.com...</a></div><br/></div></div><div id="40592546" class="c"><input type="checkbox" id="c-40592546" checked=""/><div class="controls bullet"><span class="by">marginalia_nu</span><span>|</span><a href="#40591617">parent</a><span>|</span><a href="#40591924">prev</a><span>|</span><a href="#40591837">next</a><span>|</span><label class="collapse" for="c-40592546">[-]</label><label class="expand" for="c-40592546">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s worth keeping in mind that most production k code tends to be short, like even just a few dozen lines.  It&#x27;s not an application programming language and you are typically not modelling business rules.  Most of the code is math-adjacent, and there may not even be any clear descriptive name for the variables involved.<p>The point is basically to put more code on the screen, so that you can think about what the code itself does, and basically maximize expressivity.<p>I do personally think Arthur is taking it a bit far, and it&#x27;s turned into code colf for the sake of it, but at the same time, I don&#x27;t think the idea is entirely without merit, at least in some circumstances.</div><br/></div></div><div id="40591837" class="c"><input type="checkbox" id="c-40591837" checked=""/><div class="controls bullet"><span class="by">dullcrisp</span><span>|</span><a href="#40591617">parent</a><span>|</span><a href="#40592546">prev</a><span>|</span><label class="collapse" for="c-40591837">[-]</label><label class="expand" for="c-40591837">[2 more]</label></div><br/><div class="children"><div class="content">Not defending it, but I imagine they find it more readable.<p>Like how you might find f(x)=2x+1 easier to read than double_and_increment(some_number) = 2 * some_number + 1.</div><br/><div id="40592506" class="c"><input type="checkbox" id="c-40592506" checked=""/><div class="controls bullet"><span class="by">qouteall</span><span>|</span><a href="#40591617">root</a><span>|</span><a href="#40591837">parent</a><span>|</span><label class="collapse" for="c-40592506">[-]</label><label class="expand" for="c-40592506">[1 more]</label></div><br/><div class="children"><div class="content">This is a kind of &quot;false dichotomy&quot;. Not using single-letter variable name doesn&#x27;t ncessarily mean using long verbose variable name. A variable name can be one word or two words that explains well while not using much space. Things usually need balance instead of extreme.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>