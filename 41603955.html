<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726909253206" as="style"/><link rel="stylesheet" href="styles.css?v=1726909253206"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://pierre-couy.dev/simulations/2024/09/gray-scott-shader.html">Mitosis in the Gray-Scott model: writing shader-based chemical simulations</a> <span class="domain">(<a href="https://pierre-couy.dev">pierre-couy.dev</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>23 comments</span></div><br/><div><div id="41604131" class="c"><input type="checkbox" id="c-41604131" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41606819">next</a><span>|</span><label class="collapse" for="c-41604131">[-]</label><label class="expand" for="c-41604131">[11 more]</label></div><br/><div class="children"><div class="content">Hey! I&#x27;m the author of this article and just noticed the huge traffic spike.<p>This was my first time writing a shader. I was just playing around on shadertoy when I realized I could implement this chemical model that has fascinated me for quite some time. I&#x27;m really happy with how well my results align with results from other people who have done this before me.<p>While writing the article, I noticed that the same kind of shader implementation has already been done before.<p>Feel free to ask me anything about the implementation or the chemical model</div><br/><div id="41606675" class="c"><input type="checkbox" id="c-41606675" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41604131">parent</a><span>|</span><a href="#41606203">next</a><span>|</span><label class="collapse" for="c-41606675">[-]</label><label class="expand" for="c-41606675">[2 more]</label></div><br/><div class="children"><div class="content">Great work on the article and video!<p>I&#x27;ve played with RD&#x27;s especially Gray Scott a lot in Gollygang&#x2F;Ready, and found some fascinating behaviours that I then brought into Houdini for visualisation, here&#x27;s a couple of examples:<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;4dWJ504FULw?si=lWBrhaL2J12o58e1" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;4dWJ504FULw?si=lWBrhaL2J12o58e1</a><p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;Naj_J8aznyk?si=lb0WrkrUaCDg-Rzl" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;Naj_J8aznyk?si=lb0WrkrUaCDg-Rzl</a><p>One thing that can help them to look nicer (in my opinion) is a reinterpretation of the reagent values as specific colours before display.. even something as simple as: pow(U<i>ucolor,upow) + pow(V</i>vcolor,vpow) can be nice with well-picked ucolor&amp;vcolor and powers. Other possibilities like hsv-to-rgb on the values can be pretty interesting too!</div><br/><div id="41606687" class="c"><input type="checkbox" id="c-41606687" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41604131">root</a><span>|</span><a href="#41606675">parent</a><span>|</span><a href="#41606203">next</a><span>|</span><label class="collapse" for="c-41606687">[-]</label><label class="expand" for="c-41606687">[1 more]</label></div><br/><div class="children"><div class="content">Ah damn was meant to be asterisks there (ie multiplication of ucolor by U etc) but it got turned into italics!</div><br/></div></div></div></div><div id="41606203" class="c"><input type="checkbox" id="c-41606203" checked=""/><div class="controls bullet"><span class="by">ryanartecona</span><span>|</span><a href="#41604131">parent</a><span>|</span><a href="#41606675">prev</a><span>|</span><a href="#41605093">next</a><span>|</span><label class="collapse" for="c-41606203">[-]</label><label class="expand" for="c-41606203">[2 more]</label></div><br/><div class="children"><div class="content">This reminds me of this other work[1], which is also a fascinating example of emergence from a dynamical system. Instead of a chemical reaction model, it&#x27;s a model of slime mold growth, as a system of particles and some update rules. They haven&#x27;t posted new work in a while, but you can still see many video renderings on their twitter[2] using variants of it that are absolutely mesmerizing.<p>[1] &quot;Physarum&quot; by Sage Jenson <a href="https:&#x2F;&#x2F;cargocollective.com&#x2F;sagejenson&#x2F;physarum" rel="nofollow">https:&#x2F;&#x2F;cargocollective.com&#x2F;sagejenson&#x2F;physarum</a><p>[2] <a href="https:&#x2F;&#x2F;x.com&#x2F;mxsage" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;mxsage</a></div><br/><div id="41608254" class="c"><input type="checkbox" id="c-41608254" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41604131">root</a><span>|</span><a href="#41606203">parent</a><span>|</span><a href="#41605093">next</a><span>|</span><label class="collapse" for="c-41608254">[-]</label><label class="expand" for="c-41608254">[1 more]</label></div><br/><div class="children"><div class="content">Emergence is mesmerizing in the literal sense. For me, I think the fascination takes its roots in how all biology - from the apparition of life to how brain works - happens thanks to emerging behaviors.<p>Anyway, thanks for the share, it makes me want to try implementing it as well.</div><br/></div></div></div></div><div id="41605093" class="c"><input type="checkbox" id="c-41605093" checked=""/><div class="controls bullet"><span class="by">davedx</span><span>|</span><a href="#41604131">parent</a><span>|</span><a href="#41606203">prev</a><span>|</span><a href="#41605752">next</a><span>|</span><label class="collapse" for="c-41605093">[-]</label><label class="expand" for="c-41605093">[2 more]</label></div><br/><div class="children"><div class="content">I considered trying to do something like this for CFD (specifically to see if I could show how lift is created by airflow over an airfoil). I got kind of stuck on it though and gave up, too far out of my area. Awesome to see others doing things like this though, feels like it’s an area ripe for exploitation!</div><br/><div id="41608159" class="c"><input type="checkbox" id="c-41608159" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41604131">root</a><span>|</span><a href="#41605093">parent</a><span>|</span><a href="#41605752">next</a><span>|</span><label class="collapse" for="c-41608159">[-]</label><label class="expand" for="c-41608159">[1 more]</label></div><br/><div class="children"><div class="content">I tried making fluid dynamics in a similar way right after making this, but I gave up as well. As far as I remember, I got stuck on managing non-miscible fluids (such as air and water) which introduces some edge cases where they meet.</div><br/></div></div></div></div><div id="41605752" class="c"><input type="checkbox" id="c-41605752" checked=""/><div class="controls bullet"><span class="by">DylanSp</span><span>|</span><a href="#41604131">parent</a><span>|</span><a href="#41605093">prev</a><span>|</span><a href="#41606819">next</a><span>|</span><label class="collapse" for="c-41605752">[-]</label><label class="expand" for="c-41605752">[4 more]</label></div><br/><div class="children"><div class="content">This is really cool, it looks like it&#x27;s pretty easy to get started with Shadertoy and your guidance.<p>One nitpick: in section 2.1.1 on implementing the reactions, you refer to &quot;simulating the reaction A + 2B -&gt; C&quot;; should this have &quot;4C&quot;?</div><br/><div id="41608044" class="c"><input type="checkbox" id="c-41608044" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41604131">root</a><span>|</span><a href="#41605752">parent</a><span>|</span><a href="#41606819">next</a><span>|</span><label class="collapse" for="c-41608044">[-]</label><label class="expand" for="c-41608044">[3 more]</label></div><br/><div class="children"><div class="content">The section you&#x27;re referring to is meant to first give the update rule for the general-case of a reaction that is not autocatalytic.<p>I&#x27;m not sure what made you think it should have 4C, but if you want to explain me the reasoning that led you to this conclusion, I&#x27;d be glad to fix the article and make it clearer</div><br/><div id="41608166" class="c"><input type="checkbox" id="c-41608166" checked=""/><div class="controls bullet"><span class="by">DylanSp</span><span>|</span><a href="#41604131">root</a><span>|</span><a href="#41608044">parent</a><span>|</span><a href="#41606819">next</a><span>|</span><label class="collapse" for="c-41608166">[-]</label><label class="expand" for="c-41608166">[2 more]</label></div><br/><div class="children"><div class="content">The equation in that section for updating the concentration of C has a &quot;4 * speed(t,x,y)&quot; term, it seems like that should correspond to 4C in the reaction, especially because the equation for B has &quot;-2 * speed(t,x,y)&quot;.<p>EDIT: Also, the text after the equations says &quot;Notice that the numbers in front of speed(t) come from the quantities in the equation that summarizes the reaction.&quot;</div><br/><div id="41608201" class="c"><input type="checkbox" id="c-41608201" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41604131">root</a><span>|</span><a href="#41608166">parent</a><span>|</span><a href="#41606819">next</a><span>|</span><label class="collapse" for="c-41608201">[-]</label><label class="expand" for="c-41608201">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right, how did I miss this ?! Thanks for picking this up</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41606819" class="c"><input type="checkbox" id="c-41606819" checked=""/><div class="controls bullet"><span class="by">Slackermanz</span><span>|</span><a href="#41604131">prev</a><span>|</span><a href="#41606585">next</a><span>|</span><label class="collapse" for="c-41606819">[-]</label><label class="expand" for="c-41606819">[9 more]</label></div><br/><div class="children"><div class="content">I also used a GPU shader-based approach (custom vulkan engine), but used a cellular-automata-first implementation for exploring and evolving through these emergent wonderlands.<p>Unfortunately, my writeup isn&#x27;t anywhere near as coherent on the technical&#x2F;engine details, and the actual code is a right mess. It&#x27;s more focused on the pattern family design.<p>Overall, my results came out very similar to Lenia in many ways, and some discovered patterns also directly resemble reaction diffusion.<p>---<p><a href="https:&#x2F;&#x2F;slackermanz.com&#x2F;understanding-multiple-neighborhood-cellular-automata&#x2F;" rel="nofollow">https:&#x2F;&#x2F;slackermanz.com&#x2F;understanding-multiple-neighborhood-...</a><p><a href="https:&#x2F;&#x2F;www.shadertoy.com&#x2F;user&#x2F;SlackermanzCA" rel="nofollow">https:&#x2F;&#x2F;www.shadertoy.com&#x2F;user&#x2F;SlackermanzCA</a><p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;@Slackermanz&#x2F;videos" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;@Slackermanz&#x2F;videos</a></div><br/><div id="41608104" class="c"><input type="checkbox" id="c-41608104" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41606819">parent</a><span>|</span><a href="#41606866">next</a><span>|</span><label class="collapse" for="c-41608104">[-]</label><label class="expand" for="c-41608104">[1 more]</label></div><br/><div class="children"><div class="content">I just took a look at your Shadertoy profile and I liked it a lot<p>I want to try my hand at writing such a general case continuous cellular automata engine, but I first need to dive into the literature around Lenia, and this is only one of the many things I want to try...<p>Anyway, thanks for sharing your work. I took a quick look at your write-up and will definitely come back to it later.</div><br/></div></div><div id="41606866" class="c"><input type="checkbox" id="c-41606866" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41606819">parent</a><span>|</span><a href="#41608104">prev</a><span>|</span><a href="#41606927">next</a><span>|</span><label class="collapse" for="c-41606866">[-]</label><label class="expand" for="c-41606866">[1 more]</label></div><br/><div class="children"><div class="content">That is extremely cool, very fine work thanks for sharing!<p>I agree some of the MNCA examples are very reminiscent of things that various RD&#x27;s do, the one titled &quot;A more complex MNCA example&quot; has a similar oscillating-worms feel to something I found in a modified Gray Scott:<p><a href="https:&#x2F;&#x2F;youtu.be&#x2F;Naj_J8aznyk?si=lb0WrkrUaCDg-Rzl" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;Naj_J8aznyk?si=lb0WrkrUaCDg-Rzl</a></div><br/></div></div><div id="41606927" class="c"><input type="checkbox" id="c-41606927" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41606819">parent</a><span>|</span><a href="#41606866">prev</a><span>|</span><a href="#41606903">next</a><span>|</span><label class="collapse" for="c-41606927">[-]</label><label class="expand" for="c-41606927">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve often thought it would be heaps of fun to try to build a playful dynamic UI (perhaps for use in a game or something) where all the elements are are made from &#x27;living&#x27; components, say CA&#x27;s like your MNCA or perhaps reaction-diffusion. I would love to collaborate on some experiments around that if you&#x27;d be interested?</div><br/><div id="41608185" class="c"><input type="checkbox" id="c-41608185" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41606819">root</a><span>|</span><a href="#41606927">parent</a><span>|</span><a href="#41607063">next</a><span>|</span><label class="collapse" for="c-41608185">[-]</label><label class="expand" for="c-41608185">[2 more]</label></div><br/><div class="children"><div class="content">Another commenter shared <a href="https:&#x2F;&#x2F;github.com&#x2F;GollyGang&#x2F;ready">https:&#x2F;&#x2F;github.com&#x2F;GollyGang&#x2F;ready</a> which may be what you have in mind. I clearly see the fun in building such a thing from scratch though, and I intend to make a simple web-based one. Let me know if you create a repo for you project, I&#x27;ll make sure to take a look and try to contribute if I&#x27;m comfortable with the tech stack.<p>Edit : Ahah I just noticed the &quot;other commenter&quot; is you</div><br/><div id="41608368" class="c"><input type="checkbox" id="c-41608368" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41606819">root</a><span>|</span><a href="#41608185">parent</a><span>|</span><a href="#41607063">next</a><span>|</span><label class="collapse" for="c-41608368">[-]</label><label class="expand" for="c-41608368">[1 more]</label></div><br/><div class="children"><div class="content">Heheh indeed it was! - What I was saying above though is not just for exploring RDs but more for actually building things out of them!!<p>It&#x27;s a rather out-there (non-serious) idea where all the usual &#x27;stuff&#x27; of a GUI is actually <i>made out of</i> dynamically-simulated-CA&#x2F;RD cells interacting with each other.<p>Let&#x27;s say for example once one had developed some way to reliably simulate a dynamic but smooth and stable enclosed area with a boundary (like a bag?), well you could call that layer a &#x27;window&#x27;-ish-type-thing and constrain the sub-simulations (ie the window-widgets) to only grow inside the window. Window-docking could perhaps have behavior a bit like bubbles-adhering-to-each-other as a natural outcome of the simulated-nature of them and wobbly-windows could be made to be a natural outcome of there being the wave-equation as one of the formulae being used, and other things like that.<p>It&#x27;s definitely an out-there idea not really intended for regular-consumption but I think it could be super fun to explore especially for playful in-game-UI use-cases.</div><br/></div></div></div></div><div id="41607063" class="c"><input type="checkbox" id="c-41607063" checked=""/><div class="controls bullet"><span class="by">Slackermanz</span><span>|</span><a href="#41606819">root</a><span>|</span><a href="#41606927">parent</a><span>|</span><a href="#41608185">prev</a><span>|</span><a href="#41606903">next</a><span>|</span><label class="collapse" for="c-41607063">[-]</label><label class="expand" for="c-41607063">[2 more]</label></div><br/><div class="children"><div class="content">Sounds good! Always down to collab on experiments with like minds. I&#x27;ll send an email your way with contact details!</div><br/><div id="41607241" class="c"><input type="checkbox" id="c-41607241" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41606819">root</a><span>|</span><a href="#41607063">parent</a><span>|</span><a href="#41606903">next</a><span>|</span><label class="collapse" for="c-41607241">[-]</label><label class="expand" for="c-41607241">[1 more]</label></div><br/><div class="children"><div class="content">Damnnn, sweet! I&#x27;m very excited to hear that!!<p>I&#x27;ve been checking out some of the huge amount of output that you and Jason from Softology have made with MNCA, so awesome to see, top work!!<p>I also cloned the vulkan-mnca repo from your github and it compiled and ran without any issues on my thankfully very-recently completely-updated Gentoo. I&#x27;m over the moon about that!! I&#x27;ve been meaning to try to wrap my head around what vulkan is like to work with and this looks like a perfect example for the kinds of things I&#x27;d want to play with! Utterly choice to connect with you, thankyou HN for being so choice! (especialy dang!)</div><br/></div></div></div></div></div></div><div id="41606903" class="c"><input type="checkbox" id="c-41606903" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#41606819">parent</a><span>|</span><a href="#41606927">prev</a><span>|</span><a href="#41606585">next</a><span>|</span><label class="collapse" for="c-41606903">[-]</label><label class="expand" for="c-41606903">[1 more]</label></div><br/><div class="children"><div class="content">Your work with MNCAs is amazing and an inspiration.</div><br/></div></div></div></div><div id="41606585" class="c"><input type="checkbox" id="c-41606585" checked=""/><div class="controls bullet"><span class="by">danwills</span><span>|</span><a href="#41606819">prev</a><span>|</span><label class="collapse" for="c-41606585">[-]</label><label class="expand" for="c-41606585">[2 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re into reaction-diffusion there&#x27;s an open source app called &#x27;Ready&#x27; which I think is a great way to explore example patterns or tinker with formulas:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;GollyGang&#x2F;ready">https:&#x2F;&#x2F;github.com&#x2F;GollyGang&#x2F;ready</a><p>Some fun ones from me can be found in Patterns&#x2F;Experiments&#x2F;DanWills</div><br/><div id="41608120" class="c"><input type="checkbox" id="c-41608120" checked=""/><div class="controls bullet"><span class="by">pcouy</span><span>|</span><a href="#41606585">parent</a><span>|</span><label class="collapse" for="c-41608120">[-]</label><label class="expand" for="c-41608120">[1 more]</label></div><br/><div class="children"><div class="content">Woah cool ! Thanks for the share</div><br/></div></div></div></div></div></div></div></div></div></body></html>