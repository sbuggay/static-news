<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733734861769" as="style"/><link rel="stylesheet" href="styles.css?v=1733734861769"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://douglascrockfordisnotyourdad.technomancy.us/">JSON parsers that can accept comments</a> <span class="domain">(<a href="https://douglascrockfordisnotyourdad.technomancy.us">douglascrockfordisnotyourdad.technomancy.us</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>120 comments</span></div><br/><div><div id="42363909" class="c"><input type="checkbox" id="c-42363909" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#42364073">next</a><span>|</span><label class="collapse" for="c-42363909">[-]</label><label class="expand" for="c-42363909">[1 more]</label></div><br/><div class="children"><div class="content">Instead of inventing &quot;JSON with comments&quot; format, why not simply use JSON5?</div><br/></div></div><div id="42364073" class="c"><input type="checkbox" id="c-42364073" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42363909">prev</a><span>|</span><a href="#42364180">next</a><span>|</span><label class="collapse" for="c-42364073">[-]</label><label class="expand" for="c-42364073">[1 more]</label></div><br/><div class="children"><div class="content">While the needs for comments in JSON are well understood, little discussions were made about <i>which</i> comment syntax and semantics should be used. It is not even clear that implementations should <i>return</i> comments as a part of data model! Almost all JSON alternatives, which number at least hundreds I believe, are either unclear or haven&#x27;t given much thought about this. And those who do care about them are unpopular. <i>sigh</i><p>Given its importance, we should take this into the standard body. Namely, the IETF should be pressurized enough to update RFC 8259 for every nitty-gritty about comments. It is clear that this new version of JSON needs to address multiple use cases which are often mutually exclusive, so we probably need to introduce some short indicator for profiles at the very beginning of the document. (Yes, that means you should declare in advance that you want comments and other humane syntaxes. I don&#x27;t think that&#x27;s very hard when you do want comments.)</div><br/></div></div><div id="42364180" class="c"><input type="checkbox" id="c-42364180" checked=""/><div class="controls bullet"><span class="by">ch33zer</span><span>|</span><a href="#42364073">prev</a><span>|</span><a href="#42363915">next</a><span>|</span><label class="collapse" for="c-42364180">[-]</label><label class="expand" for="c-42364180">[1 more]</label></div><br/><div class="children"><div class="content">What do people expect out of json comments? Should they be round trippable? Returned as part of data or out of band as extra metadata? Do we need to make them round trippable to old parsers that don&#x27;t understand comments? So many interesting questions for one of the most used formats in the world!</div><br/></div></div><div id="42363915" class="c"><input type="checkbox" id="c-42363915" checked=""/><div class="controls bullet"><span class="by">billpg</span><span>|</span><a href="#42364180">prev</a><span>|</span><a href="#42364141">next</a><span>|</span><label class="collapse" for="c-42363915">[-]</label><label class="expand" for="c-42363915">[2 more]</label></div><br/><div class="children"><div class="content">If you are going to put comments in your JSON, please use the &#x2F;* *&#x2F; style.<p>It is often useful to express a JSON object as a single line of text. Comments that start from a symbol (&quot;#&quot; or &quot;&#x2F;&#x2F;&quot;) and continue to the end of the line can&#x27;t be joined into a single line of text without throwing away the comments. &#x2F;* *&#x2F; is distinct by having an explicit end-of-comment symbol that allows meaningful text afterwards.</div><br/><div id="42364271" class="c"><input type="checkbox" id="c-42364271" checked=""/><div class="controls bullet"><span class="by">bloak</span><span>|</span><a href="#42363915">parent</a><span>|</span><a href="#42364141">next</a><span>|</span><label class="collapse" for="c-42364271">[-]</label><label class="expand" for="c-42364271">[1 more]</label></div><br/><div class="children"><div class="content">And then you don&#x27;t need to invent a new version of JSON: you just preprocess the file&#x2F;string with the C preprocessor?<p>(I don&#x27;t <i>like</i> the C preprocessor but in some situations it&#x27;s the easiest solution.)</div><br/></div></div></div></div><div id="42364141" class="c"><input type="checkbox" id="c-42364141" checked=""/><div class="controls bullet"><span class="by">zxcvgm</span><span>|</span><a href="#42363915">prev</a><span>|</span><a href="#42364137">next</a><span>|</span><label class="collapse" for="c-42364141">[-]</label><label class="expand" for="c-42364141">[1 more]</label></div><br/><div class="children"><div class="content">I’m surprised HuJSON wasn’t mentioned in the list. Tailscale uses it for their config files. I did a hacky workaround by preprocessing my JSON config with regex, but found HuJSON later.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tailscale&#x2F;hujson">https:&#x2F;&#x2F;github.com&#x2F;tailscale&#x2F;hujson</a></div><br/></div></div><div id="42364137" class="c"><input type="checkbox" id="c-42364137" checked=""/><div class="controls bullet"><span class="by">euroderf</span><span>|</span><a href="#42364141">prev</a><span>|</span><a href="#42360697">next</a><span>|</span><label class="collapse" for="c-42364137">[-]</label><label class="expand" for="c-42364137">[1 more]</label></div><br/><div class="children"><div class="content">Would there be a way to tinker with JSON Schema to use it to specify comment syntax, and then wrap it up into a new RFC that leaves &quot;legacy&quot; JSON oblivious ?</div><br/></div></div><div id="42360697" class="c"><input type="checkbox" id="c-42360697" checked=""/><div class="controls bullet"><span class="by">model-15-DAV</span><span>|</span><a href="#42364137">prev</a><span>|</span><a href="#42361657">next</a><span>|</span><label class="collapse" for="c-42360697">[-]</label><label class="expand" for="c-42360697">[40 more]</label></div><br/><div class="children"><div class="content">JSON as a data-format should not have comments. JSON as a file-format should allow comments. The problem is this conflation between the two.</div><br/><div id="42360869" class="c"><input type="checkbox" id="c-42360869" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42363927">next</a><span>|</span><label class="collapse" for="c-42360869">[-]</label><label class="expand" for="c-42360869">[10 more]</label></div><br/><div class="children"><div class="content">But they&#x27;re not two different formats—they&#x27;re two different jobs being done by the same format.<p>JSON as currently spec&#x27;d is honestly quite bad at <i>both</i> jobs, but the most rational defense of its use as a data format is that it&#x27;s (mostly) human readable. Given that that&#x27;s its main value proposition, what exactly is the reason for saying that JSON-as-data-format should not have comments? What do we lose if we allow them?</div><br/><div id="42361675" class="c"><input type="checkbox" id="c-42361675" checked=""/><div class="controls bullet"><span class="by">throw0101d</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360869">parent</a><span>|</span><a href="#42361178">next</a><span>|</span><label class="collapse" for="c-42361675">[-]</label><label class="expand" for="c-42361675">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Given that that&#x27;s its main value proposition, what exactly is the reason for saying that JSON-as-data-format should not have comments? What do we lose if we allow them?</i><p>Because JSON originally <i>did</i> have comments, and people were putting pragmas into them, and so different parsers would act different depending on whether they understood them or not. Comments ended up being an anti-feature in JSON because people were abusing them.<p>Source:<p>&gt; <i>I removed comments from JSON because I saw people were using them to hold parsing directives, a practice which would have destroyed interoperability.  I know that the lack of comments makes some people sad, but it shouldn&#x27;t.</i> […]<p>* <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20190112173904&#x2F;https:&#x2F;&#x2F;plus.google.com&#x2F;118095276221607585885&#x2F;posts&#x2F;RK8qyGVaGSr" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20190112173904&#x2F;https:&#x2F;&#x2F;plus.goog...</a></div><br/><div id="42362326" class="c"><input type="checkbox" id="c-42362326" checked=""/><div class="controls bullet"><span class="by">Cpoll</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361675">parent</a><span>|</span><a href="#42361925">next</a><span>|</span><label class="collapse" for="c-42362326">[-]</label><label class="expand" for="c-42362326">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t buy it, what&#x27;s stopping people from putting pragmas in key:value pairs? There&#x27;s a chance of collision, but you&#x27;re already deciding to sacrifice interoperability, so just accept that the myJson spec says &#x27;___declare___&#x27; is a reserved key.</div><br/><div id="42363969" class="c"><input type="checkbox" id="c-42363969" checked=""/><div class="controls bullet"><span class="by">jakeogh</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42362326">parent</a><span>|</span><a href="#42361925">next</a><span>|</span><label class="collapse" for="c-42363969">[-]</label><label class="expand" for="c-42363969">[1 more]</label></div><br/><div class="children"><div class="content">If I parse json, I dont want to lose data. Having the parser read the comments (however they are, as long as they are in spec and therefore read by the parser) is a good thing. Having to parse the file again, with a fuzzy out-of-spec system (looking for comments) is clearly worse. The whole point of json is to serialize stuff, breaking that to insert non-machine readable comments makes the spec less reliable.</div><br/></div></div></div></div><div id="42361925" class="c"><input type="checkbox" id="c-42361925" checked=""/><div class="controls bullet"><span class="by">tom_</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361675">parent</a><span>|</span><a href="#42362326">prev</a><span>|</span><a href="#42361178">next</a><span>|</span><label class="collapse" for="c-42361925">[-]</label><label class="expand" for="c-42361925">[1 more]</label></div><br/><div class="children"><div class="content">What are some examples of people doing this?</div><br/></div></div></div></div><div id="42361178" class="c"><input type="checkbox" id="c-42361178" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360869">parent</a><span>|</span><a href="#42361675">prev</a><span>|</span><a href="#42361165">next</a><span>|</span><label class="collapse" for="c-42361178">[-]</label><label class="expand" for="c-42361178">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but the most rational defense of its use as a data format is that it&#x27;s (mostly) human readable<p>I would call out portability instead, which is not dependent on the byte ordering or endianness issues of binary data formats.<p>sort of like: javascript is portable code, json is portable data.</div><br/></div></div><div id="42361165" class="c"><input type="checkbox" id="c-42361165" checked=""/><div class="controls bullet"><span class="by">sophacles</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360869">parent</a><span>|</span><a href="#42361178">prev</a><span>|</span><a href="#42363927">next</a><span>|</span><label class="collapse" for="c-42361165">[-]</label><label class="expand" for="c-42361165">[4 more]</label></div><br/><div class="children"><div class="content">I think json should allow comments.<p>But there are dangers there - look at how horribly comments get abused in code:<p>* doctests are nonsense, just write tests. (doctests like rusts that just validate example snippets are the closest thing to good I&#x27;ve seen so far, but still make me nervous).<p>* load bearing comments that code mangling&#x2F;generation tools rely on (see a whole bunch of generated scripts in your linux systen - DO NOT EDIT BELOW THIS LINE)<p>* things like modelines in editors that affect how programs interact with the code<p>* things like html or xml comments that on parsing affect end user program logic.<p>Comments can be abused, and in something like JSON on the wire I can see systems which take additional info from the comments as part of the primary data input. Often a completely different format... and you end up with something like the front-matter on your markdown files as found in static site generators.<p>Point being, comments are not a purely benign addition.</div><br/><div id="42362341" class="c"><input type="checkbox" id="c-42362341" checked=""/><div class="controls bullet"><span class="by">Cpoll</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361165">parent</a><span>|</span><a href="#42361929">next</a><span>|</span><label class="collapse" for="c-42362341">[-]</label><label class="expand" for="c-42362341">[1 more]</label></div><br/><div class="children"><div class="content">I feel like most of your examples of &quot;abuse&quot; are just getting things done.<p>I don&#x27;t see anything intrinsically wrong with doctests. I also can&#x27;t see a better way to do &quot;load bearing comments,&quot; and I&#x27;m not eager to go back to &quot;Step 2: Edit your .bashrc to include foo.&quot;</div><br/></div></div><div id="42361929" class="c"><input type="checkbox" id="c-42361929" checked=""/><div class="controls bullet"><span class="by">pulsarmx</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361165">parent</a><span>|</span><a href="#42362341">prev</a><span>|</span><a href="#42363927">next</a><span>|</span><label class="collapse" for="c-42361929">[-]</label><label class="expand" for="c-42361929">[2 more]</label></div><br/><div class="children"><div class="content">How is abusing comments any different than abusing a top-level property with a key like “__comment”?</div><br/><div id="42361971" class="c"><input type="checkbox" id="c-42361971" checked=""/><div class="controls bullet"><span class="by">amatecha</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361929">parent</a><span>|</span><a href="#42363927">next</a><span>|</span><label class="collapse" for="c-42361971">[-]</label><label class="expand" for="c-42361971">[1 more]</label></div><br/><div class="children"><div class="content">at least a top-level metadata property can be explicitly defined in a .json.schema[0] and formalized, rather than being some kind of ad-hoc pre-processor step you have to evaluate before actually using the JSON data.  I didn&#x27;t even know about that approach before I read your comment but it instantly makes more sense to me in terms of maintainability and interoperability.<p>[0] <a href="https:&#x2F;&#x2F;json-schema.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;json-schema.org&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="42363927" class="c"><input type="checkbox" id="c-42363927" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42360869">prev</a><span>|</span><a href="#42363996">next</a><span>|</span><label class="collapse" for="c-42363927">[-]</label><label class="expand" for="c-42363927">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  JSON as a file-format should allow comments.<p>JSON is awful for writing manually because it requires typing too many quotes, commas etc. I think JSON is meant to be machine-generated and machine-read and therefore doesn&#x27;t need any comments.</div><br/><div id="42364085" class="c"><input type="checkbox" id="c-42364085" checked=""/><div class="controls bullet"><span class="by">leptons</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42363927">parent</a><span>|</span><a href="#42363996">next</a><span>|</span><label class="collapse" for="c-42364085">[-]</label><label class="expand" for="c-42364085">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re a programmer and you&#x27;re against writing quotes and commas? You must really hate coding. I&#x27;ve never found JSON to be too much typing.</div><br/></div></div></div></div><div id="42363996" class="c"><input type="checkbox" id="c-42363996" checked=""/><div class="controls bullet"><span class="by">nivertech</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42363927">prev</a><span>|</span><a href="#42360738">next</a><span>|</span><label class="collapse" for="c-42363996">[-]</label><label class="expand" for="c-42363996">[1 more]</label></div><br/><div class="children"><div class="content">Thinking from the first principles:<p>1. comments are metadata (specifically Human&#x2F;LLM-readable metadata vs machine-readable metadata)<p>2. general-purpose data formats should support metadata</div><br/></div></div><div id="42360738" class="c"><input type="checkbox" id="c-42360738" checked=""/><div class="controls bullet"><span class="by">martin-adams</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42363996">prev</a><span>|</span><a href="#42360865">next</a><span>|</span><label class="collapse" for="c-42360738">[-]</label><label class="expand" for="c-42360738">[14 more]</label></div><br/><div class="children"><div class="content">Can I confirm that the reason it&#x27;s not preferred to have comments in data-formats is because it&#x27;s to be machine read only and as such should be as efficient as possible and not contain information that wont be used?<p>Seeing as I can only see the use case as a file format to be read&#x2F;written by humans in the loop, then maybe the conversation should be about compiling the file format to a data format for compatibility outside of the user tooling.</div><br/><div id="42360967" class="c"><input type="checkbox" id="c-42360967" checked=""/><div class="controls bullet"><span class="by">johannes1234321</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360738">parent</a><span>|</span><a href="#42362227">next</a><span>|</span><label class="collapse" for="c-42360967">[-]</label><label class="expand" for="c-42360967">[1 more]</label></div><br/><div class="children"><div class="content">The argument is that comments are often used as an escape hatch from specified formats to carry further instructions. So you got a properly specified format and then want to do vendor&amp;extensions but not break other implementations ... just make your extensions a comment. Then other parsers ignore it and you can do your thing.<p>The idea is that this forces better formats.<p>How well this works? Well, then I got an &quot;x-comment&quot; property or non-standard comments. Nonetheless. If people see the need to hack some extension in, they&#x27;ll find a way.</div><br/></div></div><div id="42362227" class="c"><input type="checkbox" id="c-42362227" checked=""/><div class="controls bullet"><span class="by">burnished</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360738">parent</a><span>|</span><a href="#42360967">prev</a><span>|</span><a href="#42360867">next</a><span>|</span><label class="collapse" for="c-42362227">[-]</label><label class="expand" for="c-42362227">[1 more]</label></div><br/><div class="children"><div class="content">I think in the JSON case its because you can&#x27;t have true comments, any comments are intrinsically part of the data structure, and you invite problems by including irrelevant information</div><br/></div></div><div id="42360867" class="c"><input type="checkbox" id="c-42360867" checked=""/><div class="controls bullet"><span class="by">ur-whale</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360738">parent</a><span>|</span><a href="#42362227">prev</a><span>|</span><a href="#42360865">next</a><span>|</span><label class="collapse" for="c-42360867">[-]</label><label class="expand" for="c-42360867">[11 more]</label></div><br/><div class="children"><div class="content">&gt; is because it&#x27;s to be machine read only<p>Why did they bother making it text-only ASCII then ?</div><br/><div id="42360922" class="c"><input type="checkbox" id="c-42360922" checked=""/><div class="controls bullet"><span class="by">DaiPlusPlus</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360867">parent</a><span>|</span><a href="#42360965">next</a><span>|</span><label class="collapse" for="c-42360922">[-]</label><label class="expand" for="c-42360922">[8 more]</label></div><br/><div class="children"><div class="content">&gt; ASCII<p>JSON is notable for making UTF-8 encoding a hard requirement.<p>…which was pretty ballsy back in the mid-2000s. We were still fighting with Shift-JIS and Windows-1252. Excel didn’t add proper support for UTF-8 until depressingly recently.</div><br/><div id="42361018" class="c"><input type="checkbox" id="c-42361018" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360922">parent</a><span>|</span><a href="#42361627">next</a><span>|</span><label class="collapse" for="c-42361018">[-]</label><label class="expand" for="c-42361018">[1 more]</label></div><br/><div class="children"><div class="content">Late 90’s I had to fix bugs in a shiftJIS implementation. And I couldn’t read a lick of Japanese. Still can’t.<p>I don’t remember when I started pushing for utf-8 everywhere but it was “early” by most people’s standards, so I know what you mean.<p>And one of the things that makes me dislike MySQL is that they have a field type called utf-8 that isn’t. And they didn’t fix it, they introduced a new type instead. So that footgun was still there for all to trigger. So mad.</div><br/></div></div><div id="42361627" class="c"><input type="checkbox" id="c-42361627" checked=""/><div class="controls bullet"><span class="by">joemi</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360922">parent</a><span>|</span><a href="#42361018">prev</a><span>|</span><a href="#42361091">next</a><span>|</span><label class="collapse" for="c-42361627">[-]</label><label class="expand" for="c-42361627">[1 more]</label></div><br/><div class="children"><div class="content">Pretty sure they meant plaintext instead of ASCII.</div><br/></div></div><div id="42361091" class="c"><input type="checkbox" id="c-42361091" checked=""/><div class="controls bullet"><span class="by">foldr</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360922">parent</a><span>|</span><a href="#42361627">prev</a><span>|</span><a href="#42360965">next</a><span>|</span><label class="collapse" for="c-42361091">[-]</label><label class="expand" for="c-42361091">[5 more]</label></div><br/><div class="children"><div class="content">JSON does not require UTF-8 encoding.</div><br/><div id="42361252" class="c"><input type="checkbox" id="c-42361252" checked=""/><div class="controls bullet"><span class="by">DaiPlusPlus</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361091">parent</a><span>|</span><a href="#42360965">next</a><span>|</span><label class="collapse" for="c-42361252">[-]</label><label class="expand" for="c-42361252">[4 more]</label></div><br/><div class="children"><div class="content">&gt; JSON text exchanged between systems that are not part of a closed ecosystem MUST be encoded using UTF-8<p><a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc8259" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc8259</a></div><br/><div id="42361303" class="c"><input type="checkbox" id="c-42361303" checked=""/><div class="controls bullet"><span class="by">foldr</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361252">parent</a><span>|</span><a href="#42360965">next</a><span>|</span><label class="collapse" for="c-42361303">[-]</label><label class="expand" for="c-42361303">[3 more]</label></div><br/><div class="children"><div class="content">Ah ok, fair enough. This is a more recent (2017) clarification of the standard which I hadn&#x27;t seen. The original mid 2000s specification did not require UTF-8.<p>&gt; Previous specifications of JSON have not required the use of UTF-8 when transmitting JSON text.  However, the vast majority of JSON-based software implementations have chosen to use the UTF-8 encoding, to the extent that it is the only encoding that achieves interoperability.</div><br/><div id="42361366" class="c"><input type="checkbox" id="c-42361366" checked=""/><div class="controls bullet"><span class="by">DaiPlusPlus</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361303">parent</a><span>|</span><a href="#42360965">next</a><span>|</span><label class="collapse" for="c-42361366">[-]</label><label class="expand" for="c-42361366">[2 more]</label></div><br/><div class="children"><div class="content">The original spec did require that all JSON decoders support UTF-8, though.</div><br/><div id="42361418" class="c"><input type="checkbox" id="c-42361418" checked=""/><div class="controls bullet"><span class="by">foldr</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361366">parent</a><span>|</span><a href="#42360965">next</a><span>|</span><label class="collapse" for="c-42361418">[-]</label><label class="expand" for="c-42361418">[1 more]</label></div><br/><div class="children"><div class="content">Hmm, not as I read it. It says that UTF-8 is the &#x27;default&#x27; encoding. In context that just means that it&#x27;s the encoding you assume if the first four octets don&#x27;t match a pattern characteristic of one of the other encodings (when restricted to ASCII characters). See section 3 of <a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc4627" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc4627</a>. The original RFC is vague, but I think the idea is that a fully conformant implementation would support all the encodings mentioned.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42360965" class="c"><input type="checkbox" id="c-42360965" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360867">parent</a><span>|</span><a href="#42360922">prev</a><span>|</span><a href="#42361625">next</a><span>|</span><label class="collapse" for="c-42360965">[-]</label><label class="expand" for="c-42360965">[1 more]</label></div><br/><div class="children"><div class="content">JSON wins because it can be casually inspected by people testing bizarre theories. The importance of this is lost on people who don’t treat triage as a skill that can be honed.<p>I like to solve problems - or at least bringing them to me doesn’t result in a loss of status for either party. People notice this about me and bring me problems. Someone recently described to people what is essentially my process: the likelihood of the cause divided by the difficulty of verification. Partially sort and just start checking off assumptions.<p>A lot of cheap but low probability options get shuffled higher, and just sending the wrong data is a common enough problem, especially with caching. And if it’s nearly free to look at the payload, it’ll get checked. If it isn’t people will try everything else to avoid it.</div><br/></div></div></div></div></div></div><div id="42360865" class="c"><input type="checkbox" id="c-42360865" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42360738">prev</a><span>|</span><a href="#42361490">next</a><span>|</span><label class="collapse" for="c-42360865">[-]</label><label class="expand" for="c-42360865">[9 more]</label></div><br/><div class="children"><div class="content">The problem is using JSON as a file format in the first place. It’s not designed for humans to edit. (Then again, it’s better than the Norway-sceptic YAML.)</div><br/><div id="42360908" class="c"><input type="checkbox" id="c-42360908" checked=""/><div class="controls bullet"><span class="by">peterashford</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360865">parent</a><span>|</span><a href="#42360966">next</a><span>|</span><label class="collapse" for="c-42360908">[-]</label><label class="expand" for="c-42360908">[2 more]</label></div><br/><div class="children"><div class="content">I disagree. At least in an ought vs is sense: it&#x27;s entirely the kind of format that I would create as an editable format. As witnessed by the fact that my workmates and I did create very nearly JSON previously as a file format in the 90s (but for C code programs)</div><br/><div id="42360992" class="c"><input type="checkbox" id="c-42360992" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360908">parent</a><span>|</span><a href="#42360966">next</a><span>|</span><label class="collapse" for="c-42360992">[-]</label><label class="expand" for="c-42360992">[1 more]</label></div><br/><div class="children"><div class="content">For a very narrow target audience (programmers), JSON is fine. If you want the file to be edited by anyone else, JSON is pain.</div><br/></div></div></div></div><div id="42360966" class="c"><input type="checkbox" id="c-42360966" checked=""/><div class="controls bullet"><span class="by">Jare</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360865">parent</a><span>|</span><a href="#42360908">prev</a><span>|</span><a href="#42360962">next</a><span>|</span><label class="collapse" for="c-42360966">[-]</label><label class="expand" for="c-42360966">[5 more]</label></div><br/><div class="children"><div class="content">What example(s) of file format would you say are designed for humans to edit and still represent the kind of structured contents that json does?</div><br/><div id="42363956" class="c"><input type="checkbox" id="c-42363956" checked=""/><div class="controls bullet"><span class="by">codedokode</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360966">parent</a><span>|</span><a href="#42361167">next</a><span>|</span><label class="collapse" for="c-42363956">[-]</label><label class="expand" for="c-42363956">[1 more]</label></div><br/><div class="children"><div class="content">Any format that:<p>- doesn&#x27;t require to quote everything<p>- has lists&#x2F;dictionaries<p>- uses indentation and new lines instead of commas and brackets<p>- doesn&#x27;t have 1000 unnecessary features like YAML<p>Also, you don&#x27;t need all types from JSON.</div><br/></div></div><div id="42361167" class="c"><input type="checkbox" id="c-42361167" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360966">parent</a><span>|</span><a href="#42363956">prev</a><span>|</span><a href="#42360986">next</a><span>|</span><label class="collapse" for="c-42361167">[-]</label><label class="expand" for="c-42361167">[1 more]</label></div><br/><div class="children"><div class="content">TOML,  extensions of json like json5 and hjson, a bunch of lesser known formats for nested structures like NestedText, UCL, kdl, Eno,sdlang, eldf, etc.<p>Also languages with some progrommatic capabilities like cue, dhall, jsonnet, nickel etc.<p>Non of them are perfect, and some are less suitable for certain use cases than others. But IMO pretty much all of them are better for human editing than json, and in many cases yaml.</div><br/></div></div><div id="42360986" class="c"><input type="checkbox" id="c-42360986" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360966">parent</a><span>|</span><a href="#42361167">prev</a><span>|</span><a href="#42361723">next</a><span>|</span><label class="collapse" for="c-42360986">[-]</label><label class="expand" for="c-42360986">[1 more]</label></div><br/><div class="children"><div class="content">I can’t think of anything that is not painful in some way.</div><br/></div></div><div id="42361723" class="c"><input type="checkbox" id="c-42361723" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360966">parent</a><span>|</span><a href="#42360986">prev</a><span>|</span><a href="#42360962">next</a><span>|</span><label class="collapse" for="c-42361723">[-]</label><label class="expand" for="c-42361723">[1 more]</label></div><br/><div class="children"><div class="content">JSON with trailing comma support.</div><br/></div></div></div></div><div id="42360962" class="c"><input type="checkbox" id="c-42360962" checked=""/><div class="controls bullet"><span class="by">Cthulhu_</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42360865">parent</a><span>|</span><a href="#42360966">prev</a><span>|</span><a href="#42361490">next</a><span>|</span><label class="collapse" for="c-42360962">[-]</label><label class="expand" for="c-42360962">[1 more]</label></div><br/><div class="children"><div class="content">But it happens. &#x27;npm install&#x27; will edit your json file, but so can I.<p>That said, I don&#x27;t like it as a config file read&#x2F;written by humans.</div><br/></div></div></div></div><div id="42361490" class="c"><input type="checkbox" id="c-42361490" checked=""/><div class="controls bullet"><span class="by">jimmaswell</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42360865">prev</a><span>|</span><a href="#42360905">next</a><span>|</span><label class="collapse" for="c-42361490">[-]</label><label class="expand" for="c-42361490">[2 more]</label></div><br/><div class="children"><div class="content">Disallow comments and now you just have {&quot;comment&quot;: &quot;the quick brown fox..&quot;}, the worst of both worlds.</div><br/><div id="42361652" class="c"><input type="checkbox" id="c-42361652" checked=""/><div class="controls bullet"><span class="by">hombre_fatal</span><span>|</span><a href="#42360697">root</a><span>|</span><a href="#42361490">parent</a><span>|</span><a href="#42360905">next</a><span>|</span><label class="collapse" for="c-42361652">[-]</label><label class="expand" for="c-42361652">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a harmless example and a tiny price to pay.<p>What no-comments saved us from was stuff like this in our data interchange:<p><pre><code>    {  
        &quot;count&quot;: 123 &#x2F;&#x2F; bigint
        &quot;price&quot;: 10.99 &#x2F;&#x2F; @precision=2
        &quot;date&quot;: &quot;2024-08-12&quot; &#x2F;&#x2F; @format=YY-MM-dd
        &quot;data&quot;: &#x2F;* !transform(rot13) *&#x2F; &quot;uryyb&quot; 
        &quot;storage&quot;: 5 &#x2F;&#x2F; Unit(TB)
    }
</code></pre>
And who knows what deeper layers of hell we avoided.<p>Frankly, VSCode shows that all this time people were complaining about no comments in JSON config and how hard it was to write config in JSON, they could have just written their apps to strip comments at read time.<p>So we do have the best of both worlds.</div><br/></div></div></div></div><div id="42360905" class="c"><input type="checkbox" id="c-42360905" checked=""/><div class="controls bullet"><span class="by">pjc50</span><span>|</span><a href="#42360697">parent</a><span>|</span><a href="#42361490">prev</a><span>|</span><a href="#42361657">next</a><span>|</span><label class="collapse" for="c-42360905">[-]</label><label class="expand" for="c-42360905">[1 more]</label></div><br/><div class="children"><div class="content">The only reason it became popular is that conflation!</div><br/></div></div></div></div><div id="42361657" class="c"><input type="checkbox" id="c-42361657" checked=""/><div class="controls bullet"><span class="by">donatj</span><span>|</span><a href="#42360697">prev</a><span>|</span><a href="#42364052">next</a><span>|</span><label class="collapse" for="c-42361657">[-]</label><label class="expand" for="c-42361657">[1 more]</label></div><br/><div class="children"><div class="content">Maybe be should have been though.<p>Files shouldn&#x27;t be labeled as compliant with a standard and then not be. Full stop.<p>The standard that is JSON does not support comments. Don&#x27;t call something JSON that isn&#x27;t.<p>Use one of the many existing JSON extensions or create a new standard. DO NOT however just adhoc crap like this suggests, that&#x27;s a road to hell.</div><br/></div></div><div id="42364052" class="c"><input type="checkbox" id="c-42364052" checked=""/><div class="controls bullet"><span class="by">est</span><span>|</span><a href="#42361657">prev</a><span>|</span><a href="#42360799">next</a><span>|</span><label class="collapse" for="c-42364052">[-]</label><label class="expand" for="c-42364052">[1 more]</label></div><br/><div class="children"><div class="content">One the one hand, we see formats like protobuf elimilated field descriptors<p>On the other hand, people are adding comments to formats like JSON.</div><br/></div></div><div id="42360799" class="c"><input type="checkbox" id="c-42360799" checked=""/><div class="controls bullet"><span class="by">vasilvv</span><span>|</span><a href="#42364052">prev</a><span>|</span><a href="#42360593">next</a><span>|</span><label class="collapse" for="c-42360799">[-]</label><label class="expand" for="c-42360799">[4 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this the problem that JSON5 (and probably other similar projects) is supposed to solve?<p>Both JSON (as defined in the RFC) and JSON5 have a nice property of being well-defined, meaning that you can use different libraries in different languages on different platforms to parse them, and expect the same result.  &quot;JSON but parser behaves reasonably (as defined by the speaker)&quot; does not have this property.</div><br/><div id="42360893" class="c"><input type="checkbox" id="c-42360893" checked=""/><div class="controls bullet"><span class="by">avmich</span><span>|</span><a href="#42360799">parent</a><span>|</span><a href="#42361641">next</a><span>|</span><label class="collapse" for="c-42360893">[-]</label><label class="expand" for="c-42360893">[2 more]</label></div><br/><div class="children"><div class="content"><a href="http:&#x2F;&#x2F;seriot.ch&#x2F;projects&#x2F;parsing_json.html" rel="nofollow">http:&#x2F;&#x2F;seriot.ch&#x2F;projects&#x2F;parsing_json.html</a><p>&quot;Despite the clarifications they bring, RFC 7159 and 8259 contain several approximations and leaves many details loosely specified.&quot;</div><br/><div id="42361059" class="c"><input type="checkbox" id="c-42361059" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42360799">root</a><span>|</span><a href="#42360893">parent</a><span>|</span><a href="#42361641">next</a><span>|</span><label class="collapse" for="c-42361059">[-]</label><label class="expand" for="c-42361059">[1 more]</label></div><br/><div class="children"><div class="content">Nothing will probably ever top Markdown in my mind for bullshit specifications.<p>And Gruber wouldn’t give Jeff Atwood permission to call his variant &lt;something&gt; Markdown, or it seems anybody else, so we ended up with CommonMark, and GFM.<p>Json5 is good for JSON at rest, as others have mentioned already.</div><br/></div></div></div></div><div id="42361641" class="c"><input type="checkbox" id="c-42361641" checked=""/><div class="controls bullet"><span class="by">donatj</span><span>|</span><a href="#42360799">parent</a><span>|</span><a href="#42360893">prev</a><span>|</span><a href="#42360593">next</a><span>|</span><label class="collapse" for="c-42361641">[-]</label><label class="expand" for="c-42361641">[1 more]</label></div><br/><div class="children"><div class="content">JSON5 would be ok if that&#x27;s all it did. They added so much additional unnecessary complication that it undermines the simplicity of JSON that makes it good.</div><br/></div></div></div></div><div id="42360593" class="c"><input type="checkbox" id="c-42360593" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#42360799">prev</a><span>|</span><a href="#42361670">next</a><span>|</span><label class="collapse" for="c-42360593">[-]</label><label class="expand" for="c-42360593">[5 more]</label></div><br/><div class="children"><div class="content">What comment syntax does he propose?<p><pre><code>    &#x2F;&#x2F;

    &#x2F;*  ... *&#x2F;

    #

    --</code></pre></div><br/><div id="42360615" class="c"><input type="checkbox" id="c-42360615" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#42360593">parent</a><span>|</span><a href="#42361670">next</a><span>|</span><label class="collapse" for="c-42360615">[-]</label><label class="expand" for="c-42360615">[4 more]</label></div><br/><div class="children"><div class="content">He didn&#x27;t propose one.  But given the &quot;JS&quot; part of the &quot;JSON&quot; acronym, probably only the first two are reasonable.<p>But the point is, if you are in control of your own parser, you can just use any one of those.</div><br/><div id="42360999" class="c"><input type="checkbox" id="c-42360999" checked=""/><div class="controls bullet"><span class="by">a3w</span><span>|</span><a href="#42360593">root</a><span>|</span><a href="#42360615">parent</a><span>|</span><a href="#42361045">next</a><span>|</span><label class="collapse" for="c-42360999">[-]</label><label class="expand" for="c-42360999">[2 more]</label></div><br/><div class="children"><div class="content">JSON is not JS, says Doug, too.
Since he said &quot;any new JSON should not new JS or ON in the name, since we claims it is not a javascript object notation, in the end. Perhaps since JS&#x2F;ES is changing, and not everything is an object in every language that wants to deal with JSON?</div><br/><div id="42361857" class="c"><input type="checkbox" id="c-42361857" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#42360593">root</a><span>|</span><a href="#42360999">parent</a><span>|</span><a href="#42361045">next</a><span>|</span><label class="collapse" for="c-42361857">[-]</label><label class="expand" for="c-42361857">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t exactly understand what you&#x27;re talking about but RFC 8259 explicitly says JSON is &quot;javascript object notation&quot;.</div><br/></div></div></div></div><div id="42361045" class="c"><input type="checkbox" id="c-42361045" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#42360593">root</a><span>|</span><a href="#42360615">parent</a><span>|</span><a href="#42360999">prev</a><span>|</span><a href="#42361670">next</a><span>|</span><label class="collapse" for="c-42361045">[-]</label><label class="expand" for="c-42361045">[1 more]</label></div><br/><div class="children"><div class="content">&gt; probably only the first two are reasonable.<p>Yet YAML, which is somewhat related to JSON, uses<p><pre><code>    # This is a comment
</code></pre>
I&#x27;m neither pro-comment or anti-comment, but I&#x27;m all for standardized comment syntax
to avoid parsing hell.</div><br/></div></div></div></div></div></div><div id="42361670" class="c"><input type="checkbox" id="c-42361670" checked=""/><div class="controls bullet"><span class="by">easton</span><span>|</span><a href="#42360593">prev</a><span>|</span><a href="#42360696">next</a><span>|</span><label class="collapse" for="c-42361670">[-]</label><label class="expand" for="c-42361670">[1 more]</label></div><br/><div class="children"><div class="content">I need to send it to the author, but ASP.NET Core’s JSON configuration parser also does json + comments by default. Confuses the hell out of my colleagues and VSCode when I do it though :D<p><a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;aspnet&#x2F;core&#x2F;fundamentals&#x2F;configuration&#x2F;?view=aspnetcore-9.0#comments-in-appsettingsjson" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;aspnet&#x2F;core&#x2F;fundamentals&#x2F;c...</a></div><br/></div></div><div id="42360696" class="c"><input type="checkbox" id="c-42360696" checked=""/><div class="controls bullet"><span class="by">anotheracc88</span><span>|</span><a href="#42361670">prev</a><span>|</span><a href="#42360585">next</a><span>|</span><label class="collapse" for="c-42360696">[-]</label><label class="expand" for="c-42360696">[1 more]</label></div><br/><div class="children"><div class="content">You can also put JPEG binary data in RSS feeds, send a string of emojis for an SSL handshake and stick HTML 1.0 directly in a docker image. You can do those things. You can even write tools that accept those things.</div><br/></div></div><div id="42360585" class="c"><input type="checkbox" id="c-42360585" checked=""/><div class="controls bullet"><span class="by">neallindsay</span><span>|</span><a href="#42360696">prev</a><span>|</span><a href="#42363206">next</a><span>|</span><label class="collapse" for="c-42360585">[-]</label><label class="expand" for="c-42360585">[20 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth, yaml is JSON that allows comments (and a bunch of other syntax).</div><br/><div id="42360705" class="c"><input type="checkbox" id="c-42360705" checked=""/><div class="controls bullet"><span class="by">p1necone</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360794">next</a><span>|</span><label class="collapse" for="c-42360705">[-]</label><label class="expand" for="c-42360705">[4 more]</label></div><br/><div class="children"><div class="content">And is so pedantic about whitespace that you need to specifically configure your editor to be able to retain your sanity while editing it, no thanks.</div><br/><div id="42360747" class="c"><input type="checkbox" id="c-42360747" checked=""/><div class="controls bullet"><span class="by">jahnu</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360705">parent</a><span>|</span><a href="#42360749">next</a><span>|</span><label class="collapse" for="c-42360747">[-]</label><label class="expand" for="c-42360747">[1 more]</label></div><br/><div class="children"><div class="content">Significant whitespace owes me many days of my life.</div><br/></div></div><div id="42360749" class="c"><input type="checkbox" id="c-42360749" checked=""/><div class="controls bullet"><span class="by">Hamuko</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360705">parent</a><span>|</span><a href="#42360747">prev</a><span>|</span><a href="#42360794">next</a><span>|</span><label class="collapse" for="c-42360749">[-]</label><label class="expand" for="c-42360749">[2 more]</label></div><br/><div class="children"><div class="content">What? Just write it in JSON format.</div><br/><div id="42360845" class="c"><input type="checkbox" id="c-42360845" checked=""/><div class="controls bullet"><span class="by">cflewis</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360749">parent</a><span>|</span><a href="#42360794">next</a><span>|</span><label class="collapse" for="c-42360845">[-]</label><label class="expand" for="c-42360845">[1 more]</label></div><br/><div class="children"><div class="content">That is _possible_, but in the real world if your team has chosen YAML, it’s not because they want to write more reasonable JSON. They want to write YAML.</div><br/></div></div></div></div></div></div><div id="42360794" class="c"><input type="checkbox" id="c-42360794" checked=""/><div class="controls bullet"><span class="by">tengbretson</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360705">prev</a><span>|</span><a href="#42360761">next</a><span>|</span><label class="collapse" for="c-42360794">[-]</label><label class="expand" for="c-42360794">[2 more]</label></div><br/><div class="children"><div class="content">Using YAML will make you a more spiritually advanced being because every time you copy and paste content into a yaml document it requires a prayer.</div><br/><div id="42360814" class="c"><input type="checkbox" id="c-42360814" checked=""/><div class="controls bullet"><span class="by">Group_B</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360794">parent</a><span>|</span><a href="#42360761">next</a><span>|</span><label class="collapse" for="c-42360814">[-]</label><label class="expand" for="c-42360814">[1 more]</label></div><br/><div class="children"><div class="content">I want to blow my brains out every time there is a mysterious tab indent in my file</div><br/></div></div></div></div><div id="42360761" class="c"><input type="checkbox" id="c-42360761" checked=""/><div class="controls bullet"><span class="by">r3trohack3r</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360794">prev</a><span>|</span><a href="#42360638">next</a><span>|</span><label class="collapse" for="c-42360761">[-]</label><label class="expand" for="c-42360761">[3 more]</label></div><br/><div class="children"><div class="content">I used to do this frequently. Take a JSON file, add comments, and parse it as YAML.<p>Then I discovered a handful of YAML parsers in various languages support code execution on parsing. Which basically killed YAML for me.</div><br/><div id="42360991" class="c"><input type="checkbox" id="c-42360991" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360761">parent</a><span>|</span><a href="#42360989">next</a><span>|</span><label class="collapse" for="c-42360991">[-]</label><label class="expand" for="c-42360991">[1 more]</label></div><br/><div class="children"><div class="content">I appreciate that Python makes you choose between a “full” parser and a safe one.</div><br/></div></div><div id="42360989" class="c"><input type="checkbox" id="c-42360989" checked=""/><div class="controls bullet"><span class="by">neallindsay</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360761">parent</a><span>|</span><a href="#42360991">prev</a><span>|</span><a href="#42360638">next</a><span>|</span><label class="collapse" for="c-42360989">[-]</label><label class="expand" for="c-42360989">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s definitely no good for JSON that you don&#x27;t write yourself. But that&#x27;s not the JSON that you want to write comments into.</div><br/></div></div></div></div><div id="42360638" class="c"><input type="checkbox" id="c-42360638" checked=""/><div class="controls bullet"><span class="by">selectnull</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360761">prev</a><span>|</span><a href="#42360599">next</a><span>|</span><label class="collapse" for="c-42360638">[-]</label><label class="expand" for="c-42360638">[3 more]</label></div><br/><div class="children"><div class="content">Just say no to yaml</div><br/><div id="42360896" class="c"><input type="checkbox" id="c-42360896" checked=""/><div class="controls bullet"><span class="by">teekert</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360638">parent</a><span>|</span><a href="#42360599">next</a><span>|</span><label class="collapse" for="c-42360896">[-]</label><label class="expand" for="c-42360896">[2 more]</label></div><br/><div class="children"><div class="content">I like yaml, easily readable by computers as well as humans (without any coding experience even). I don’t see the problem with it.</div><br/><div id="42362279" class="c"><input type="checkbox" id="c-42362279" checked=""/><div class="controls bullet"><span class="by">davexunit</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360896">parent</a><span>|</span><a href="#42360599">next</a><span>|</span><label class="collapse" for="c-42362279">[-]</label><label class="expand" for="c-42362279">[1 more]</label></div><br/><div class="children"><div class="content">&gt; easily readable by computers<p>Have you ever written or tried to write a YAML parser?</div><br/></div></div></div></div></div></div><div id="42360599" class="c"><input type="checkbox" id="c-42360599" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360638">prev</a><span>|</span><a href="#42360612">next</a><span>|</span><label class="collapse" for="c-42360599">[-]</label><label class="expand" for="c-42360599">[1 more]</label></div><br/><div class="children"><div class="content">And ambiguity.  It&#x27;s too far in the other direction IMO.</div><br/></div></div><div id="42360612" class="c"><input type="checkbox" id="c-42360612" checked=""/><div class="controls bullet"><span class="by">loevborg</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360599">prev</a><span>|</span><a href="#42360755">next</a><span>|</span><label class="collapse" for="c-42360612">[-]</label><label class="expand" for="c-42360612">[2 more]</label></div><br/><div class="children"><div class="content">Tell that to the Norwegians!</div><br/><div id="42360618" class="c"><input type="checkbox" id="c-42360618" checked=""/><div class="controls bullet"><span class="by">neallindsay</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360612">parent</a><span>|</span><a href="#42360755">next</a><span>|</span><label class="collapse" for="c-42360618">[-]</label><label class="expand" for="c-42360618">[1 more]</label></div><br/><div class="children"><div class="content">no</div><br/></div></div></div></div><div id="42360755" class="c"><input type="checkbox" id="c-42360755" checked=""/><div class="controls bullet"><span class="by">dorfsmay</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360612">prev</a><span>|</span><a href="#42360772">next</a><span>|</span><label class="collapse" for="c-42360755">[-]</label><label class="expand" for="c-42360755">[1 more]</label></div><br/><div class="children"><div class="content">yaml is a superset of JSON, which means that any parser that expect yaml will happily consume JSON!<p>Also JSON + comment that&#x27;s JSON5.</div><br/></div></div><div id="42360772" class="c"><input type="checkbox" id="c-42360772" checked=""/><div class="controls bullet"><span class="by">jgalt212</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360755">prev</a><span>|</span><a href="#42360636">next</a><span>|</span><label class="collapse" for="c-42360772">[-]</label><label class="expand" for="c-42360772">[2 more]</label></div><br/><div class="children"><div class="content">At least in Python, YAML parsers are orders of magnitude slower than JSON parsers.</div><br/><div id="42363663" class="c"><input type="checkbox" id="c-42363663" checked=""/><div class="controls bullet"><span class="by">nasmorn</span><span>|</span><a href="#42360585">root</a><span>|</span><a href="#42360772">parent</a><span>|</span><a href="#42360636">next</a><span>|</span><label class="collapse" for="c-42363663">[-]</label><label class="expand" for="c-42363663">[1 more]</label></div><br/><div class="children"><div class="content">I switched out my app config to YAML which parses much slower and now my app starts exactly as fast as before.<p>I don’t think anyone proposes switching to YAML for your API endpoints</div><br/></div></div></div></div><div id="42360636" class="c"><input type="checkbox" id="c-42360636" checked=""/><div class="controls bullet"><span class="by">jbaber</span><span>|</span><a href="#42360585">parent</a><span>|</span><a href="#42360772">prev</a><span>|</span><a href="#42363206">next</a><span>|</span><label class="collapse" for="c-42360636">[-]</label><label class="expand" for="c-42360636">[1 more]</label></div><br/><div class="children"><div class="content">TOML is one-to-one with JSON, except allow comments.<p>I like JSON lines format where I can strip comment lines out.</div><br/></div></div></div></div><div id="42363206" class="c"><input type="checkbox" id="c-42363206" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42360585">prev</a><span>|</span><a href="#42364111">next</a><span>|</span><label class="collapse" for="c-42363206">[-]</label><label class="expand" for="c-42363206">[1 more]</label></div><br/><div class="children"><div class="content">&gt; because there are no downsides to making a regular JSON parser accept comments.<p>Ambiguity is just one of such downsides<p>&gt; We don&#x27;t need a new format, we just need parsers for the existing format that are written by people who understand that Douglas Crockford is not their dad.<p>That&#x27;s a new format, you just don&#x27;t want a name change</div><br/></div></div><div id="42364111" class="c"><input type="checkbox" id="c-42364111" checked=""/><div class="controls bullet"><span class="by">xcombelle</span><span>|</span><a href="#42363206">prev</a><span>|</span><a href="#42360803">next</a><span>|</span><label class="collapse" for="c-42364111">[-]</label><label class="expand" for="c-42364111">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;xkcd.com&#x2F;927&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;927&#x2F;</a></div><br/></div></div><div id="42360803" class="c"><input type="checkbox" id="c-42360803" checked=""/><div class="controls bullet"><span class="by">dolmen</span><span>|</span><a href="#42364111">prev</a><span>|</span><a href="#42360842">next</a><span>|</span><label class="collapse" for="c-42360803">[-]</label><label class="expand" for="c-42360803">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;json5.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;json5.org&#x2F;</a></div><br/></div></div><div id="42360842" class="c"><input type="checkbox" id="c-42360842" checked=""/><div class="controls bullet"><span class="by">eclectic29</span><span>|</span><a href="#42360803">prev</a><span>|</span><a href="#42362325">next</a><span>|</span><label class="collapse" for="c-42360842">[-]</label><label class="expand" for="c-42360842">[15 more]</label></div><br/><div class="children"><div class="content">One man’s extremely horrible mistake and look how the whole industry has been suffering for decades - countless articles debating the existence or absence of comments, new formats, new parsers, new ways of adding comments, post-processing, etc. What a pity!</div><br/><div id="42361270" class="c"><input type="checkbox" id="c-42361270" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#42360842">parent</a><span>|</span><a href="#42361029">next</a><span>|</span><label class="collapse" for="c-42361270">[-]</label><label class="expand" for="c-42361270">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s something to be said for the hard limitations of json that made it successful.<p>Because of that it didn&#x27;t become XML or YAML or markdown or protobufs or *RPC or microsoft config file format or all the rest.  All those formats have &quot;reasons&quot;, but they are harder to understand, harder to parse or not as portable or on and on...<p>(that said, I wouldn&#x27;t mind comments.  JUST comments).</div><br/><div id="42361493" class="c"><input type="checkbox" id="c-42361493" checked=""/><div class="controls bullet"><span class="by">whizzter</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42361270">parent</a><span>|</span><a href="#42361029">next</a><span>|</span><label class="collapse" for="c-42361493">[-]</label><label class="expand" for="c-42361493">[1 more]</label></div><br/><div class="children"><div class="content">Most reasonable parsers has an allow-comments flag, and even in JS you could it in a simple regexp replace all with:<p>const obj = JSON.parse(jsonText.replaceAll(&#x2F;(&quot;(?:\\&quot;|\\.|[^&quot;])<i>&quot;|[^\&#x2F;])|\&#x2F;\&#x2F;.</i>|(\&#x2F;)&#x2F;g,&quot;$1$2&quot;));<p>The above should be multiline JSON safe and give you single-line comments to end-of-line, it matches first strings (and checks for escaped double-quotes and escapes to get them correctly) or all other characters except &#x2F;&#x2F; sequences (outside of strings) and passes that straight through via group 1(anything outside of string not starting with &#x2F;) or 2(single &#x2F; even if it&#x27;s outside of JSON spec), if a &#x2F;&#x2F; sequence is found it&#x27;s not passed through and disappears.<p>Yes, regexps can be abused. This one should be fine though but only use it for config files you control :), use as CC0 and keep an keen eye if translating to another language since escapes will differ if the regexp goes into a string instead of a regexp literal like in JS.</div><br/></div></div></div></div><div id="42361029" class="c"><input type="checkbox" id="c-42361029" checked=""/><div class="controls bullet"><span class="by">pointlessone</span><span>|</span><a href="#42360842">parent</a><span>|</span><a href="#42361270">prev</a><span>|</span><a href="#42360872">next</a><span>|</span><label class="collapse" for="c-42361029">[-]</label><label class="expand" for="c-42361029">[2 more]</label></div><br/><div class="children"><div class="content">We should’ve kept XML.</div><br/><div id="42364203" class="c"><input type="checkbox" id="c-42364203" checked=""/><div class="controls bullet"><span class="by">croo</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42361029">parent</a><span>|</span><a href="#42360872">next</a><span>|</span><label class="collapse" for="c-42364203">[-]</label><label class="expand" for="c-42364203">[1 more]</label></div><br/><div class="children"><div class="content">Right? People forget history faster than ever.</div><br/></div></div></div></div><div id="42360872" class="c"><input type="checkbox" id="c-42360872" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#42360842">parent</a><span>|</span><a href="#42361029">prev</a><span>|</span><a href="#42360858">next</a><span>|</span><label class="collapse" for="c-42360872">[-]</label><label class="expand" for="c-42360872">[9 more]</label></div><br/><div class="children"><div class="content">It’s better than having to deal with the ad hoc out-of-band data formats that people would inevitably have stuffed into comments if given the opportunity.<p>Remember how JavaScript used to reside inside a HTML comment?</div><br/><div id="42360943" class="c"><input type="checkbox" id="c-42360943" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360872">parent</a><span>|</span><a href="#42360968">next</a><span>|</span><label class="collapse" for="c-42360943">[-]</label><label class="expand" for="c-42360943">[3 more]</label></div><br/><div class="children"><div class="content">&gt; It’s better than having to deal with the ad hoc out-of-band data formats that people would inevitably have stuffed into comments if given the opportunity.<p>As has been pointed out multiple times in the thread so far, a random string that is ignored by the receiver is semantically equivalent to a comment, and people <i>totally</i> stuff random crap into strings to extend the data format in sometimes-horrifying ways. Banning comments doesn&#x27;t stop us from abusing strings, it just means we don&#x27;t have a good way to indicate that a part of the file should be ignored by the parser because it&#x27;s not actually data.</div><br/><div id="42361837" class="c"><input type="checkbox" id="c-42361837" checked=""/><div class="controls bullet"><span class="by">hombre_fatal</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360943">parent</a><span>|</span><a href="#42360968">next</a><span>|</span><label class="collapse" for="c-42361837">[-]</label><label class="expand" for="c-42361837">[2 more]</label></div><br/><div class="children"><div class="content">But the problem isn&#x27;t with abusing strings, but abusing something that isn&#x27;t data.<p>Abusing the string is the correct place to put poorly planned data because it&#x27;s just data and it has a stable position in the data (and syntax) tree.<p>But consider this example:<p><pre><code>    {
      &quot;a&quot;: &#x2F;* directive *&#x2F; 42,
      &quot;b&quot;: 42, &#x2F;&#x2F; directive
      &#x2F;&#x2F; directive
      &quot;d&quot;: 42,
      &#x2F;* directive *&#x2F; &quot;d&quot;: 42
    }
</code></pre>
What does the code look like that has to reconcile the directive with the data it modifies?<p>That&#x27;s a completely different and worse problem than someone &quot;abusing a string&quot; with something like `{ &quot;a&quot;: &quot;42 directive&quot; }`.<p>I think JSON made the right call. People just confuse that with it being somehow forbidden to use comments in JSON config, but they&#x27;re wrong. Just look at VSCode&#x27;s config. It was possible all along despite decades of people whining in blogs.<p>We didn&#x27;t need comments in JSON over the wire. We didn&#x27;t need a new format. We didn&#x27;t need another blog post about it. Just write your tool to accept comments in its config.</div><br/><div id="42364094" class="c"><input type="checkbox" id="c-42364094" checked=""/><div class="controls bullet"><span class="by">Vampiero</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42361837">parent</a><span>|</span><a href="#42360968">next</a><span>|</span><label class="collapse" for="c-42364094">[-]</label><label class="expand" for="c-42364094">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand what the problem is.<p>You can just make a parser that ignores comments, while still allowing them in the syntax. You don&#x27;t need to store the comments in the AST, or to actually parse them. You just need to skip them.</div><br/></div></div></div></div></div></div><div id="42360968" class="c"><input type="checkbox" id="c-42360968" checked=""/><div class="controls bullet"><span class="by">suby</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360872">parent</a><span>|</span><a href="#42360943">prev</a><span>|</span><a href="#42360924">next</a><span>|</span><label class="collapse" for="c-42360968">[-]</label><label class="expand" for="c-42360968">[1 more]</label></div><br/><div class="children"><div class="content">Should we not allow comments in HTML, then?<p>There are parsers which allow for comments if one wants, so if someone wants to engineer an insane system no one is stopping them, provided they can ensure the parser on the other end of it.<p>This is a data format meant to be readable by humans. As such, it&#x27;s natural to want to support things like configuration via end-user editing values in the text as a use case. Data is occasionally going to need comments to explain valid options or add context for people to edit. This is a reasonable thing to have.</div><br/></div></div><div id="42360924" class="c"><input type="checkbox" id="c-42360924" checked=""/><div class="controls bullet"><span class="by">fkyoureadthedoc</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360872">parent</a><span>|</span><a href="#42360968">prev</a><span>|</span><a href="#42360891">next</a><span>|</span><label class="collapse" for="c-42360924">[-]</label><label class="expand" for="c-42360924">[2 more]</label></div><br/><div class="children"><div class="content">Why would a comment be required for this when they can just use a string property? YAML has comments, and they are not used by any DSL abomination that I&#x27;m aware of.</div><br/><div id="42360998" class="c"><input type="checkbox" id="c-42360998" checked=""/><div class="controls bullet"><span class="by">takluyver</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360924">parent</a><span>|</span><a href="#42360891">next</a><span>|</span><label class="collapse" for="c-42360998">[-]</label><label class="expand" for="c-42360998">[1 more]</label></div><br/><div class="children"><div class="content">Conda package recipes have a preprocessor using &quot;selectors&quot; in comments to conditionally exclude certain lines in a YAML file. Not that this is particularly more ugly than other YAML DSLs, but it has been used.</div><br/></div></div></div></div><div id="42360891" class="c"><input type="checkbox" id="c-42360891" checked=""/><div class="controls bullet"><span class="by">eclectic29</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360872">parent</a><span>|</span><a href="#42360924">prev</a><span>|</span><a href="#42360906">next</a><span>|</span><label class="collapse" for="c-42360891">[-]</label><label class="expand" for="c-42360891">[1 more]</label></div><br/><div class="children"><div class="content">Yes, but you expect much better from a seasoned engineer.</div><br/></div></div><div id="42360906" class="c"><input type="checkbox" id="c-42360906" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#42360842">root</a><span>|</span><a href="#42360872">parent</a><span>|</span><a href="#42360891">prev</a><span>|</span><a href="#42360858">next</a><span>|</span><label class="collapse" for="c-42360906">[-]</label><label class="expand" for="c-42360906">[1 more]</label></div><br/><div class="children"><div class="content">Definitely. It&#x27;s important that every ad-hoc out-of-band data format look<p><pre><code>   &quot;like this&quot;
</code></pre>
never<p><pre><code>   &#x2F;&#x2F; Like this
</code></pre>
Bad Things will surely befall us if we break the taboo.</div><br/></div></div></div></div><div id="42360858" class="c"><input type="checkbox" id="c-42360858" checked=""/><div class="controls bullet"><span class="by">fullstackwife</span><span>|</span><a href="#42360842">parent</a><span>|</span><a href="#42360872">prev</a><span>|</span><a href="#42362325">next</a><span>|</span><label class="collapse" for="c-42360858">[-]</label><label class="expand" for="c-42360858">[1 more]</label></div><br/><div class="children"><div class="content">and also life of LLMs would be so much easier, all the JSON content, so much missing context!</div><br/></div></div></div></div><div id="42362325" class="c"><input type="checkbox" id="c-42362325" checked=""/><div class="controls bullet"><span class="by">davexunit</span><span>|</span><a href="#42360842">prev</a><span>|</span><a href="#42360785">next</a><span>|</span><label class="collapse" for="c-42362325">[-]</label><label class="expand" for="c-42362325">[1 more]</label></div><br/><div class="children"><div class="content">I love the subdomain and am a technomancy fan, but personally I&#x27;m ambivalent towards comments in JSON because imo it&#x27;s only for machines to write and only occasionally for humans to read when debugging. package.json, etc. are misusing a wire format for configuration. But I suppose the horse has left the stable so yeah sure comments.</div><br/></div></div><div id="42360785" class="c"><input type="checkbox" id="c-42360785" checked=""/><div class="controls bullet"><span class="by">code-faster</span><span>|</span><a href="#42362325">prev</a><span>|</span><a href="#42360665">next</a><span>|</span><label class="collapse" for="c-42360785">[-]</label><label class="expand" for="c-42360785">[1 more]</label></div><br/><div class="children"><div class="content">All you&#x27;re doing is creating a new spec that&#x27;s not JSON.
JSON has no comments. Your spec does. Your parsers handle both specs.<p><a href="https:&#x2F;&#x2F;xkcd.com&#x2F;927&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;927&#x2F;</a> applies</div><br/></div></div><div id="42360665" class="c"><input type="checkbox" id="c-42360665" checked=""/><div class="controls bullet"><span class="by">xeckr</span><span>|</span><a href="#42360785">prev</a><span>|</span><a href="#42360843">next</a><span>|</span><label class="collapse" for="c-42360665">[-]</label><label class="expand" for="c-42360665">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s basically a new standard. I like it, but getting all JSON parsers on board will be tricky if not impossible. Maybe it deserves its own name. How about JSONc <i>(JAYSON-SEE)</i>?<p>Edit: I read the fine print on the page after posting this... Turns out that I&#x27;m not the first to come up with jsonc. The author just isn&#x27;t a huge fan and wants JSON parsers to accept comments. Good luck with that!</div><br/></div></div><div id="42360843" class="c"><input type="checkbox" id="c-42360843" checked=""/><div class="controls bullet"><span class="by">koolala</span><span>|</span><a href="#42360665">prev</a><span>|</span><a href="#42360854">next</a><span>|</span><label class="collapse" for="c-42360843">[-]</label><label class="expand" for="c-42360843">[3 more]</label></div><br/><div class="children"><div class="content">Whats the comment syntax they want? I didn&#x27;t see it on the Lua page. Is it not on the page?<p>{&quot;comment&quot; : &quot;This works everywhere doesn&#x27;t it?&quot;}</div><br/><div id="42360873" class="c"><input type="checkbox" id="c-42360873" checked=""/><div class="controls bullet"><span class="by">c0balt</span><span>|</span><a href="#42360843">parent</a><span>|</span><a href="#42360988">next</a><span>|</span><label class="collapse" for="c-42360873">[-]</label><label class="expand" for="c-42360873">[1 more]</label></div><br/><div class="children"><div class="content">Json5&#x2F;jsonc one, so:<p><pre><code>    {
      &quot;A&quot;: 1 &#x2F;&#x2F; Don&#x27;t remove this important but undocumented value
    }</code></pre></div><br/></div></div><div id="42360988" class="c"><input type="checkbox" id="c-42360988" checked=""/><div class="controls bullet"><span class="by">Cthulhu_</span><span>|</span><a href="#42360843">parent</a><span>|</span><a href="#42360873">prev</a><span>|</span><a href="#42360854">next</a><span>|</span><label class="collapse" for="c-42360988">[-]</label><label class="expand" for="c-42360988">[1 more]</label></div><br/><div class="children"><div class="content">Only if you don&#x27;t also validate JSON schemas.</div><br/></div></div></div></div><div id="42360854" class="c"><input type="checkbox" id="c-42360854" checked=""/><div class="controls bullet"><span class="by">ur-whale</span><span>|</span><a href="#42360843">prev</a><span>|</span><a href="#42361039">next</a><span>|</span><label class="collapse" for="c-42360854">[-]</label><label class="expand" for="c-42360854">[7 more]</label></div><br/><div class="children"><div class="content">Wayyyyy before comments, the one thing I&#x27;d want to see JSON support is effing trailing commas.</div><br/><div id="42361893" class="c"><input type="checkbox" id="c-42361893" checked=""/><div class="controls bullet"><span class="by">nigeltao</span><span>|</span><a href="#42360854">parent</a><span>|</span><a href="#42360925">next</a><span>|</span><label class="collapse" for="c-42361893">[-]</label><label class="expand" for="c-42361893">[1 more]</label></div><br/><div class="children"><div class="content">You might like JWCC, which literally stands for JSON With Commas and Comments.<p><a href="https:&#x2F;&#x2F;nigeltao.github.io&#x2F;blog&#x2F;2021&#x2F;json-with-commas-comments.html" rel="nofollow">https:&#x2F;&#x2F;nigeltao.github.io&#x2F;blog&#x2F;2021&#x2F;json-with-commas-commen...</a></div><br/></div></div><div id="42360925" class="c"><input type="checkbox" id="c-42360925" checked=""/><div class="controls bullet"><span class="by">3eb7988a1663</span><span>|</span><a href="#42360854">parent</a><span>|</span><a href="#42361893">prev</a><span>|</span><a href="#42361039">next</a><span>|</span><label class="collapse" for="c-42360925">[-]</label><label class="expand" for="c-42360925">[5 more]</label></div><br/><div class="children"><div class="content">This one unambiguously seems like a mistake. Is there any steel man argument for why an extra comma should not be acceptable? Save a byte over the network?</div><br/><div id="42361034" class="c"><input type="checkbox" id="c-42361034" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42360854">root</a><span>|</span><a href="#42360925">parent</a><span>|</span><a href="#42361011">next</a><span>|</span><label class="collapse" for="c-42361034">[-]</label><label class="expand" for="c-42361034">[3 more]</label></div><br/><div class="children"><div class="content">I think that’s literally the only argument for it. And if you use compression, now you have to waste an extra symbol on `”` in addition to `”,`, so even that’s debatable.</div><br/><div id="42361084" class="c"><input type="checkbox" id="c-42361084" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#42360854">root</a><span>|</span><a href="#42361034">parent</a><span>|</span><a href="#42361011">next</a><span>|</span><label class="collapse" for="c-42361084">[-]</label><label class="expand" for="c-42361084">[2 more]</label></div><br/><div class="children"><div class="content">“ is already a symbol, but for formatted JSON it’s more likely to be “,\r and “\r</div><br/><div id="42361255" class="c"><input type="checkbox" id="c-42361255" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42360854">root</a><span>|</span><a href="#42361084">parent</a><span>|</span><a href="#42361011">next</a><span>|</span><label class="collapse" for="c-42361255">[-]</label><label class="expand" for="c-42361255">[1 more]</label></div><br/><div class="children"><div class="content">I bet `: “` is more common than a lonely double quote, except at the end of a list of quoted values.<p>Eh, who knows? But I’m skeptical that the omitted comma actually saves any space in common situations.</div><br/></div></div></div></div></div></div><div id="42361011" class="c"><input type="checkbox" id="c-42361011" checked=""/><div class="controls bullet"><span class="by">a3w</span><span>|</span><a href="#42360854">root</a><span>|</span><a href="#42360925">parent</a><span>|</span><a href="#42361034">prev</a><span>|</span><a href="#42361039">next</a><span>|</span><label class="collapse" for="c-42361011">[-]</label><label class="expand" for="c-42361011">[1 more]</label></div><br/><div class="children"><div class="content">Ecmascript is changing JS. JSON is old and unchanging. Which is an advantage and a disadvantage.</div><br/></div></div></div></div></div></div><div id="42361039" class="c"><input type="checkbox" id="c-42361039" checked=""/><div class="controls bullet"><span class="by">oneeyedpigeon</span><span>|</span><a href="#42360854">prev</a><span>|</span><a href="#42361615">next</a><span>|</span><label class="collapse" for="c-42361039">[-]</label><label class="expand" for="c-42361039">[1 more]</label></div><br/><div class="children"><div class="content">Do the people who think JSON should have comments also think the CSV format should have comments?</div><br/></div></div><div id="42361615" class="c"><input type="checkbox" id="c-42361615" checked=""/><div class="controls bullet"><span class="by">agumonkey</span><span>|</span><a href="#42361039">prev</a><span>|</span><a href="#42360832">next</a><span>|</span><label class="collapse" for="c-42361615">[-]</label><label class="expand" for="c-42361615">[2 more]</label></div><br/><div class="children"><div class="content">That was fast <a href="https:&#x2F;&#x2F;mastodon.social&#x2F;@technomancy@hey.hagelb.org&#x2F;113618655641936913" rel="nofollow">https:&#x2F;&#x2F;mastodon.social&#x2F;@technomancy@hey.hagelb.org&#x2F;11361865...</a></div><br/><div id="42361999" class="c"><input type="checkbox" id="c-42361999" checked=""/><div class="controls bullet"><span class="by">amatecha</span><span>|</span><a href="#42361615">parent</a><span>|</span><a href="#42360832">next</a><span>|</span><label class="collapse" for="c-42361999">[-]</label><label class="expand" for="c-42361999">[1 more]</label></div><br/><div class="children"><div class="content">You probably want to link to this rather than mastodon.social&#x27;s &quot;external link confirmation&quot;<p><a href="https:&#x2F;&#x2F;hey.hagelb.org&#x2F;@technomancy&#x2F;statuses&#x2F;01JEKS1B4Q5NS3434Q34AVVZGW" rel="nofollow">https:&#x2F;&#x2F;hey.hagelb.org&#x2F;@technomancy&#x2F;statuses&#x2F;01JEKS1B4Q5NS34...</a></div><br/></div></div></div></div><div id="42360832" class="c"><input type="checkbox" id="c-42360832" checked=""/><div class="controls bullet"><span class="by">sushidev</span><span>|</span><a href="#42361615">prev</a><span>|</span><a href="#42360825">next</a><span>|</span><label class="collapse" for="c-42360832">[-]</label><label class="expand" for="c-42360832">[1 more]</label></div><br/><div class="children"><div class="content">Lol “If Douglas Crockford actually is your dad then please do not read this web site.”</div><br/></div></div><div id="42361310" class="c"><input type="checkbox" id="c-42361310" checked=""/><div class="controls bullet"><span class="by">user3939382</span><span>|</span><a href="#42360825">prev</a><span>|</span><a href="#42360971">next</a><span>|</span><label class="collapse" for="c-42361310">[-]</label><label class="expand" for="c-42361310">[1 more]</label></div><br/><div class="children"><div class="content">Aren’t comments already part of JSON5?</div><br/></div></div><div id="42360971" class="c"><input type="checkbox" id="c-42360971" checked=""/><div class="controls bullet"><span class="by">a3w</span><span>|</span><a href="#42361310">prev</a><span>|</span><a href="#42361686">next</a><span>|</span><label class="collapse" for="c-42360971">[-]</label><label class="expand" for="c-42360971">[1 more]</label></div><br/><div class="children"><div class="content">&#x2F;&#x2F; or &#x2F;* *&#x2F; comments?<p>Doug, please adopt me!<p>As a file format, just use jsonc or json5, if you want to use comments.</div><br/></div></div><div id="42361686" class="c"><input type="checkbox" id="c-42361686" checked=""/><div class="controls bullet"><span class="by">pfannkuchen</span><span>|</span><a href="#42360971">prev</a><span>|</span><label class="collapse" for="c-42361686">[-]</label><label class="expand" for="c-42361686">[1 more]</label></div><br/><div class="children"><div class="content">The title could be interpreted as body shaming Douglas Crockford.</div><br/></div></div></div></div></div></div></div></body></html>