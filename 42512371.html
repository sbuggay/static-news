<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735290050552" as="style"/><link rel="stylesheet" href="styles.css?v=1735290050552"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://aphyr.com/posts/378-seconds-since-the-epoch">Seconds Since the Epoch</a> <span class="domain">(<a href="https://aphyr.com">aphyr.com</a>)</span></div><div class="subtext"><span>zdw</span> | <span>195 comments</span></div><br/><div><div id="42516946" class="c"><input type="checkbox" id="c-42516946" checked=""/><div class="controls bullet"><span class="by">ascorbic</span><span>|</span><a href="#42516357">next</a><span>|</span><label class="collapse" for="c-42516946">[-]</label><label class="expand" for="c-42516946">[3 more]</label></div><br/><div class="children"><div class="content">I just finished reading &quot;A Deepness in the Sky&quot; a 2000 SF book by Vernor Vinge. It&#x27;s a great book with an unexpected reference to seconds since the epoch.<p>&gt;Take the Traders&#x27; method of timekeeping. The frame corrections were incredibly complex - and down at the very bottom of it was a little program that ran a counter. Second by second, the Qeng Ho counted from the instant that a human had first set foot on Old Earth&#x27;s moon. But if you looked at it still more closely ... the starting instant was actually about fifteen million seconds later, the 0-second of one of Humankind&#x27;s first computer operating systems.</div><br/><div id="42516979" class="c"><input type="checkbox" id="c-42516979" checked=""/><div class="controls bullet"><span class="by">jvanderbot</span><span>|</span><a href="#42516946">parent</a><span>|</span><a href="#42516357">next</a><span>|</span><label class="collapse" for="c-42516979">[-]</label><label class="expand" for="c-42516979">[2 more]</label></div><br/><div class="children"><div class="content">That is one of my favorite books of all time. The use of subtle software references is really great.<p>I recommend Bobiverse series for anyone who wants more &quot;computer science in space&quot; or permutation city for anyone who wants more &quot;exploration of humans + simulations and computers&quot;</div><br/><div id="42520445" class="c"><input type="checkbox" id="c-42520445" checked=""/><div class="controls bullet"><span class="by">nnf</span><span>|</span><a href="#42516946">root</a><span>|</span><a href="#42516979">parent</a><span>|</span><a href="#42516357">next</a><span>|</span><label class="collapse" for="c-42520445">[-]</label><label class="expand" for="c-42520445">[1 more]</label></div><br/><div class="children"><div class="content">I’ll second the Bobiverse series, one of my favorites. Its descriptions of new technologies is at just the right level and depth, I think, and it’s subtly hilarious.</div><br/></div></div></div></div></div></div><div id="42516357" class="c"><input type="checkbox" id="c-42516357" checked=""/><div class="controls bullet"><span class="by">cbarrick</span><span>|</span><a href="#42516946">prev</a><span>|</span><a href="#42516170">next</a><span>|</span><label class="collapse" for="c-42516357">[-]</label><label class="expand" for="c-42516357">[7 more]</label></div><br/><div class="children"><div class="content">&gt; There’s an ongoing effort to end leap seconds, hopefully by 2035.<p>I don&#x27;t really like this plan.<p>The entire point of UTC is to be some integer number of seconds away from TAI to approximate mean solar time (MST).<p>If we no longer want to track MST, then we should just switch to TAI. Having UTC drift away from MST leaves it in a bastardized state where it still has historical leap seconds that need to be accounted for, but those leap seconds no longer serve any purpose.</div><br/><div id="42517476" class="c"><input type="checkbox" id="c-42517476" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#42516357">parent</a><span>|</span><a href="#42517290">next</a><span>|</span><label class="collapse" for="c-42517476">[-]</label><label class="expand" for="c-42517476">[1 more]</label></div><br/><div class="children"><div class="content">I agree that deviating from MST costs more than it benefits.<p>---<p>However, this proposal is not entirely pointless. The point is:<p>1. Existing UTC timekeeping is unmodified. (profoundly non-negotiable)<p>2. Any two timestamps after 2035 different by an accurate number of physical seconds.<p>---<p>Given that MST is already a feature of UTC, I agree removing it seems silly.</div><br/></div></div><div id="42517290" class="c"><input type="checkbox" id="c-42517290" checked=""/><div class="controls bullet"><span class="by">phicoh</span><span>|</span><a href="#42516357">parent</a><span>|</span><a href="#42517476">prev</a><span>|</span><a href="#42520168">next</a><span>|</span><label class="collapse" for="c-42517290">[-]</label><label class="expand" for="c-42517290">[4 more]</label></div><br/><div class="children"><div class="content">The is no such thing as TAI. TAI is what you get if you start with UTC and then subtract the number of leap seconds you care about. TAI is not maintained as some sort of separate standard quantity.<p>In most (all?) countries, civil time is based on UTC. Nobody is going to set all clocks in the world backwards by about half a minute because it is somewhat more pure.<p>GPS time also has an offset compared to TAI. Nobody care a bout that. Just like nobody really cares about the Unix epoch. As long as results are consistent.</div><br/><div id="42519888" class="c"><input type="checkbox" id="c-42519888" checked=""/><div class="controls bullet"><span class="by">LegionMammal978</span><span>|</span><a href="#42516357">root</a><span>|</span><a href="#42517290">parent</a><span>|</span><a href="#42519452">next</a><span>|</span><label class="collapse" for="c-42519888">[-]</label><label class="expand" for="c-42519888">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The is no such thing as TAI. TAI is what you get if you start with UTC and then subtract the number of leap seconds you care about. TAI is not maintained as some sort of separate standard quantity.<p>There is, though? You can easily look at the BIPM&#x27;s reports [0] to get the gist of how they do it. Some of the contributing atomic clocks are aligned to UTC, and others are aligned to TAI (according to the preferences of their different operators), but the BIPM averages all the contributing measurements into a TAI clock, then derives UTC from that by adding in the leap seconds.<p>[0] <a href="https:&#x2F;&#x2F;webtai.bipm.org&#x2F;ftp&#x2F;pub&#x2F;tai&#x2F;annual-reports&#x2F;bipm-annual-report&#x2F;annual_report_2020.pdf" rel="nofollow">https:&#x2F;&#x2F;webtai.bipm.org&#x2F;ftp&#x2F;pub&#x2F;tai&#x2F;annual-reports&#x2F;bipm-annu...</a></div><br/></div></div><div id="42519452" class="c"><input type="checkbox" id="c-42519452" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#42516357">root</a><span>|</span><a href="#42517290">parent</a><span>|</span><a href="#42519888">prev</a><span>|</span><a href="#42520168">next</a><span>|</span><label class="collapse" for="c-42519452">[-]</label><label class="expand" for="c-42519452">[2 more]</label></div><br/><div class="children"><div class="content">The only think we can be certain of is that the Summer Solstice occurs when the mid summer sun shines through a trillithon at Stonehenge and strikes a certain point.  From there we can work outwards.<p>The logical thing to do is to precisely model Stonehenge to the last micron in space.  That will take a bit of work involving the various sea levels and so on.  So on will include the thermal expansion of granite and the traffic density on the A303 and whether the Solstice is a bank holiday.<p>Oh bollocks ... mass.  That standard kilo thing - is it sorted out yet?  Those cars and lorries are going to need constant observation - we&#x27;ll need a sort of dynamic weigh bridge that works at 60mph.  If we slap it in the road just after (going west) the speed cameras should keep the measurements within parameters.  If we apply now, we should be able to get Highways to change the middle of the road markings from double dashed to a double solid line and then we can simplify a few variables.<p>... more daft stuff ...<p>Right, we&#x27;ve got this.  We now have a standard place and point in time to define place and time from.<p>No we don&#x27;t and we never will.  There is no absolute when it comes to time, place or mass.  What we do have is requirements for standards and a point to measure from.  Those points to measure from have differing requirements, depending on who who you are and what you are doing.<p>I suggest we treat time as we do sea level, with a few special versions that people can use without having to worry about silliness.<p>Provided I can work out when to plant my wheat crop and read log files with sub micro second precision for correlation, I&#x27;ll be happy.  My launches to the moon will need a little more funkiness ...</div><br/><div id="42520205" class="c"><input type="checkbox" id="c-42520205" checked=""/><div class="controls bullet"><span class="by">ForOldHack</span><span>|</span><a href="#42516357">root</a><span>|</span><a href="#42519452">parent</a><span>|</span><a href="#42520168">next</a><span>|</span><label class="collapse" for="c-42520205">[-]</label><label class="expand" for="c-42520205">[1 more]</label></div><br/><div class="children"><div class="content">Sorry to say Stonehenge or the plate on which is stands is moving... to the east, but the wobble of the earth is changing.</div><br/></div></div></div></div></div></div><div id="42520168" class="c"><input type="checkbox" id="c-42520168" checked=""/><div class="controls bullet"><span class="by">ForOldHack</span><span>|</span><a href="#42516357">parent</a><span>|</span><a href="#42517290">prev</a><span>|</span><a href="#42516170">next</a><span>|</span><label class="collapse" for="c-42520168">[-]</label><label class="expand" for="c-42520168">[1 more]</label></div><br/><div class="children"><div class="content">The hack is literally trivial. Check once a month to see if UTC # ET. If not then create a file called Leap_Second once a month, check if this file exists, and if so, then delete it, and add 1 to the value in a file called Leap_Seconds, and make a backup called &#x27;LSSE&#x27; Leap seconds since Epoch.<p>You are not expected to understand this.<p>It keeps both systems in place.<p>If you want, I could make it either a hash or a lookup table.</div><br/></div></div></div></div><div id="42516170" class="c"><input type="checkbox" id="c-42516170" checked=""/><div class="controls bullet"><span class="by">colanderman</span><span>|</span><a href="#42516357">prev</a><span>|</span><a href="#42512892">next</a><span>|</span><label class="collapse" for="c-42516170">[-]</label><label class="expand" for="c-42516170">[4 more]</label></div><br/><div class="children"><div class="content">Note also that the modern &quot;UTC epoch&quot; is January 1, <i>1972</i>.  Before this date, UTC used a different second than TAI: [1]<p>&gt; As an intermediate step at the end of 1971, there was a final irregular jump of exactly 0.107758 TAI seconds, making the total of all the small time steps and frequency shifts in UTC or TAI during 1958–1971 exactly ten seconds, so that 1 January 1972 00:00:00 UTC was 1 January 1972 00:00:10 TAI exactly, and a whole number of seconds thereafter. At the same time, the tick rate of UTC was changed to exactly match TAI. UTC also started to track UT1 rather than UT2.<p>So Unix times in the years 1970 and 1971 do not actually match UTC times from that period. [2]<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Coordinated_Universal_Time#History" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Coordinated_Universal_Time#His...</a><p>[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_time#UTC_basis" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_time#UTC_basis</a></div><br/><div id="42517149" class="c"><input type="checkbox" id="c-42517149" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#42516170">parent</a><span>|</span><a href="#42512892">next</a><span>|</span><label class="collapse" for="c-42517149">[-]</label><label class="expand" for="c-42517149">[3 more]</label></div><br/><div class="children"><div class="content">A funny consequence of this is that there are people alive today that do not know (and never will know) their exact age in seconds[1].<p>This is true even if we assume the time on the birth certificate was a  time precise down to the second. It is because what was considered the length of a second during part of their life varied significantly compared to what we (usually) consider a second now.<p>[1] Second as in 9192631770&#x2F;s being the the unperturbed ground-state hyperfine transition frequency of the caesium 133 atom</div><br/><div id="42517473" class="c"><input type="checkbox" id="c-42517473" checked=""/><div class="controls bullet"><span class="by">benlivengood</span><span>|</span><a href="#42516170">root</a><span>|</span><a href="#42517149">parent</a><span>|</span><a href="#42520681">prev</a><span>|</span><a href="#42512892">next</a><span>|</span><label class="collapse" for="c-42517473">[-]</label><label class="expand" for="c-42517473">[1 more]</label></div><br/><div class="children"><div class="content">[2] in a particular gravity well.</div><br/></div></div></div></div></div></div><div id="42512892" class="c"><input type="checkbox" id="c-42512892" checked=""/><div class="controls bullet"><span class="by">move-on-by</span><span>|</span><a href="#42516170">prev</a><span>|</span><a href="#42519472">next</a><span>|</span><label class="collapse" for="c-42512892">[-]</label><label class="expand" for="c-42512892">[13 more]</label></div><br/><div class="children"><div class="content">Without fail, if I read about time keeping, I learn something new. I had always thought unix time as the most simple way to track time (as long as you consider rollovers). I knew of leap seconds, but somehow didn’t think they applied here. Clearly I hadn’t thought about it enough. Good post.<p>I also read the link for “UTC, GPS, LORAN and TAI”. It’s an interesting contrast that GPS time does not account for leap seconds.</div><br/><div id="42513453" class="c"><input type="checkbox" id="c-42513453" checked=""/><div class="controls bullet"><span class="by">foobar1962</span><span>|</span><a href="#42512892">parent</a><span>|</span><a href="#42516094">next</a><span>|</span><label class="collapse" for="c-42513453">[-]</label><label class="expand" for="c-42513453">[11 more]</label></div><br/><div class="children"><div class="content">Saying that something happened x-number of seconds (or minutes, hours, days or weeks) ago (or in the future) is simple: it’s giving that point in time a calendar date that’s tricky.</div><br/><div id="42516882" class="c"><input type="checkbox" id="c-42516882" checked=""/><div class="controls bullet"><span class="by">miki123211</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42513453">parent</a><span>|</span><a href="#42515018">next</a><span>|</span><label class="collapse" for="c-42516882">[-]</label><label class="expand" for="c-42516882">[8 more]</label></div><br/><div class="children"><div class="content">&gt; Saying that something happened x-number of [...]days or weeks) ago in the future) is simple<p>It&#x27;s not, actually. Does 2 days and 1 hour ago mean 48, 49 or 50 hours, if there was a daylight saving jump in the meantime? If it&#x27;s 3PM and something is due to happen in 3 days and 2 hours, the user is going to assume and prepare for 5PM, but what if there&#x27;s a daylight saving jump in the meantime? What happens to &quot;in 3 days and 2 hours&quot; if there&#x27;s a leap second happening tomorrow that some systems know about and some don&#x27;t?<p>You rarely want to be thinking in terms of deltas when considering future events. If there is an event that you want to happen on jan 1, 2030 at 6 PM CET, <i>there is no way to express that as a number of seconds between now and then</i>, because you don&#x27;t know whether the US government abolishes DST between now and 2030 or not.<p>To reiterate this point, <i>there is no way to make an accurate, constantly decreasing countdown of seconds to 6PM CET on jan 1, 2030</i>, because <i>nobody actually knows when that moment is going to happen yet</i>.</div><br/><div id="42520697" class="c"><input type="checkbox" id="c-42520697" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42516882">parent</a><span>|</span><a href="#42517062">next</a><span>|</span><label class="collapse" for="c-42520697">[-]</label><label class="expand" for="c-42520697">[1 more]</label></div><br/><div class="children"><div class="content">I would argue that 2 days <i>and</i> 1 hour is not a &quot;number of seconds (<i>or</i> minutes, hours, days <i>or</i> weeks)&quot;<p>If you say something will happen in three days, that&#x27;s a big time window.</div><br/></div></div><div id="42517062" class="c"><input type="checkbox" id="c-42517062" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42516882">parent</a><span>|</span><a href="#42520697">prev</a><span>|</span><a href="#42517336">next</a><span>|</span><label class="collapse" for="c-42517062">[-]</label><label class="expand" for="c-42517062">[5 more]</label></div><br/><div class="children"><div class="content">You ignored the last part of their comment.  All your examples are things they did say are hard.<p>Also natural events are the other way around, we can know they&#x27;re X in the future but not the exact calendar date&#x2F;time.</div><br/><div id="42517155" class="c"><input type="checkbox" id="c-42517155" checked=""/><div class="controls bullet"><span class="by">PaulDavisThe1st</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42517062">parent</a><span>|</span><a href="#42517336">next</a><span>|</span><label class="collapse" for="c-42517155">[-]</label><label class="expand" for="c-42517155">[4 more]</label></div><br/><div class="children"><div class="content">No. The problems begin because GP included the idea of saying &quot;N &lt;calendar units&gt; in the future&quot;.<p>If the definition of a future time was limited to hours, minutes and&#x2F;or seconds, then it would be true that the only hard part is answering &quot;what calendrical time and date is that?&quot;<p>But if you can say &quot;1 day in the future&quot;, you&#x27;re already slamming into problems before even getting to ask that question.</div><br/><div id="42518408" class="c"><input type="checkbox" id="c-42518408" checked=""/><div class="controls bullet"><span class="by">AnthonyMouse</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42517155">parent</a><span>|</span><a href="#42517336">next</a><span>|</span><label class="collapse" for="c-42518408">[-]</label><label class="expand" for="c-42518408">[3 more]</label></div><br/><div class="children"><div class="content">The real problem here is that people keep trying to screw up the simple thing.<p>If you want to know the timestamp of &quot;two days from now&quot; then you need to know all kinds of things like what time zone you&#x27;re talking about and if there are any leap seconds etc. That would tell you if &quot;two days from now&quot; is in 172800 seconds or 172801 seconds or 169201 or 176400 etc.<p>But the seconds-counting thing should be doing absolutely nothing other than counting seconds and doing otherwise is crazy. The conversion from that into calendar dates and so on is for a separate library which is aware of all these contextual things that allow it to do the conversion. What we do not need and should not have is for the seconds counting thing to contain two identical timestamps that refer to two independent points in time. It should just count seconds.</div><br/><div id="42520551" class="c"><input type="checkbox" id="c-42520551" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42518408">parent</a><span>|</span><a href="#42517336">next</a><span>|</span><label class="collapse" for="c-42520551">[-]</label><label class="expand" for="c-42520551">[2 more]</label></div><br/><div class="children"><div class="content">Agree, but people often miss that there&#x27;s two different use cases here, with different requirements.<p>&quot;2 days from now&quot; could either mean &quot;after 2*86400 seconds have ticked&quot; <i>or</i> it could mean &quot;when the wall clock looks like it does now, after 2 sunset events&quot;. These are not the same thing.<p>The <i>intent</i> of the thing demanding a future event matters. So you can have the right software abstractions all you like and people will still use the wrong thing.<p>The problem is that programmers are human, and humans don&#x27;t reason in monotonic counters :)</div><br/><div id="42520630" class="c"><input type="checkbox" id="c-42520630" checked=""/><div class="controls bullet"><span class="by">PaulDavisThe1st</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42520551">parent</a><span>|</span><a href="#42517336">next</a><span>|</span><label class="collapse" for="c-42520630">[-]</label><label class="expand" for="c-42520630">[1 more]</label></div><br/><div class="children"><div class="content">One might also recall the late Gregory Bateson&#x27;s reiteration that &quot;number and quantity are not the same thing - you can have 5 oranges but you can never have 5 gallons of water&quot; [0]<p>Seconds are numbers; calendrical units are quantities.<p>[0] Bateson was, in some ways, anticipating the divide between the digital and analog worlds.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42517336" class="c"><input type="checkbox" id="c-42517336" checked=""/><div class="controls bullet"><span class="by">sarusso</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42516882">parent</a><span>|</span><a href="#42517062">prev</a><span>|</span><a href="#42515018">next</a><span>|</span><label class="collapse" for="c-42517336">[-]</label><label class="expand" for="c-42517336">[1 more]</label></div><br/><div class="children"><div class="content">I recently built a small Python library to try getting time management right [1]. Exactly because of the first part of your comment, I concluded that the only way to apply a time delta in &quot;calendar&quot; units is to provide the starting point. It was fun developing variable-length time spans :) I however did not address leap seconds.<p>You are very right that future calendar arithmetic is undefined. I guess that the only viable approach is to assume that it works based on what we know today, and to treat future changes as unpredictable events (as if earth would slow its rotation). Otherwise, we should just stop using calendar arithmetic, but in many fields this is just unfeasible...<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;sarusso&#x2F;Propertime">https:&#x2F;&#x2F;github.com&#x2F;sarusso&#x2F;Propertime</a></div><br/></div></div></div></div><div id="42515018" class="c"><input type="checkbox" id="c-42515018" checked=""/><div class="controls bullet"><span class="by">GolDDranks</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42513453">parent</a><span>|</span><a href="#42516882">prev</a><span>|</span><a href="#42514580">next</a><span>|</span><label class="collapse" for="c-42515018">[-]</label><label class="expand" for="c-42515018">[1 more]</label></div><br/><div class="children"><div class="content">But because of the UNIX time stamp &quot;re-synchronization&quot; to the current calendar dates, you can&#x27;t use UNIX time stamps to do those &quot;delta seconds&quot; calculations if you care about _actual_ amount of seconds since something happened.</div><br/></div></div><div id="42514580" class="c"><input type="checkbox" id="c-42514580" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#42512892">root</a><span>|</span><a href="#42513453">parent</a><span>|</span><a href="#42515018">prev</a><span>|</span><a href="#42516094">next</a><span>|</span><label class="collapse" for="c-42514580">[-]</label><label class="expand" for="c-42514580">[1 more]</label></div><br/><div class="children"><div class="content">Simple as long as your precision is at milliseconds and you don’t account for space travel.<p>We can measure the difference in speed of time in a valley and a mountain (“just” take an atomic clock up a mountain and wait for a bit, bring it back to your lab where the other atomic clock is now out of sync)</div><br/></div></div></div></div><div id="42516094" class="c"><input type="checkbox" id="c-42516094" checked=""/><div class="controls bullet"><span class="by">mytailorisrich</span><span>|</span><a href="#42512892">parent</a><span>|</span><a href="#42513453">prev</a><span>|</span><a href="#42519472">next</a><span>|</span><label class="collapse" for="c-42516094">[-]</label><label class="expand" for="c-42516094">[1 more]</label></div><br/><div class="children"><div class="content">I have come to the conclusion that TAI is the simplest and that anything else should only be used by conversion from TAI when needed (e.g. representation or interoperability).</div><br/></div></div></div></div><div id="42519472" class="c"><input type="checkbox" id="c-42519472" checked=""/><div class="controls bullet"><span class="by">_kst_</span><span>|</span><a href="#42512892">prev</a><span>|</span><a href="#42514660">next</a><span>|</span><label class="collapse" for="c-42519472">[-]</label><label class="expand" for="c-42519472">[1 more]</label></div><br/><div class="children"><div class="content">Leap seconds should be replaced by large rockets mounted on the equator. Adjust the planet, not the clock.</div><br/></div></div><div id="42514660" class="c"><input type="checkbox" id="c-42514660" checked=""/><div class="controls bullet"><span class="by">DrBazza</span><span>|</span><a href="#42519472">prev</a><span>|</span><a href="#42513366">next</a><span>|</span><label class="collapse" for="c-42514660">[-]</label><label class="expand" for="c-42514660">[6 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a certain exchange out there that I wrote some code for recently, that runs on top of VAX, or rather OpenVMS, and that has an epoch of November 17, 1858, the first time I&#x27;ve seen a mention of a non-unix epoch in my career.  Fortunately, it is abstracted to be the unix epoch in the code I was using.</div><br/><div id="42514746" class="c"><input type="checkbox" id="c-42514746" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#42514660">parent</a><span>|</span><a href="#42515083">next</a><span>|</span><label class="collapse" for="c-42514746">[-]</label><label class="expand" for="c-42514746">[2 more]</label></div><br/><div class="children"><div class="content">Apparently the 1858 epoch comes from an astronomy standard calendar called the Julian Day, where day zero was in 4713 BC:<p><a href="https:&#x2F;&#x2F;www.slac.stanford.edu&#x2F;~rkj&#x2F;crazytime.txt" rel="nofollow">https:&#x2F;&#x2F;www.slac.stanford.edu&#x2F;~rkj&#x2F;crazytime.txt</a><p>To make these dates fit in computer memory in the 1950s, they offset the calendar by 2.4 million days, placing day zero on November 17, 1858.</div><br/></div></div><div id="42515083" class="c"><input type="checkbox" id="c-42515083" checked=""/><div class="controls bullet"><span class="by">spiffytech</span><span>|</span><a href="#42514660">parent</a><span>|</span><a href="#42514746">prev</a><span>|</span><a href="#42516647">next</a><span>|</span><label class="collapse" for="c-42515083">[-]</label><label class="expand" for="c-42515083">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s an old Microsoft tale related to the conflict between Excel&#x27;s epoch of Jan 1 1900 vs Basic&#x27;s Dec 31 1899:<p><a href="https:&#x2F;&#x2F;www.joelonsoftware.com&#x2F;2006&#x2F;06&#x2F;16&#x2F;my-first-billg-review&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.joelonsoftware.com&#x2F;2006&#x2F;06&#x2F;16&#x2F;my-first-billg-rev...</a></div><br/></div></div><div id="42516647" class="c"><input type="checkbox" id="c-42516647" checked=""/><div class="controls bullet"><span class="by">evmar</span><span>|</span><a href="#42514660">parent</a><span>|</span><a href="#42515083">prev</a><span>|</span><a href="#42519884">next</a><span>|</span><label class="collapse" for="c-42516647">[-]</label><label class="expand" for="c-42516647">[1 more]</label></div><br/><div class="children"><div class="content">Another common computing system to be aware of: the Windows epoch is 1-Jan-1601.</div><br/></div></div><div id="42519884" class="c"><input type="checkbox" id="c-42519884" checked=""/><div class="controls bullet"><span class="by">NoInkling</span><span>|</span><a href="#42514660">parent</a><span>|</span><a href="#42516647">prev</a><span>|</span><a href="#42513366">next</a><span>|</span><label class="collapse" for="c-42519884">[-]</label><label class="expand" for="c-42519884">[1 more]</label></div><br/><div class="children"><div class="content">PostgreSQL internally uses a 2000-01-01 epoch for storing timestamps.</div><br/></div></div></div></div><div id="42513366" class="c"><input type="checkbox" id="c-42513366" checked=""/><div class="controls bullet"><span class="by">schneehertz</span><span>|</span><a href="#42514660">prev</a><span>|</span><a href="#42512983">next</a><span>|</span><label class="collapse" for="c-42513366">[-]</label><label class="expand" for="c-42513366">[16 more]</label></div><br/><div class="children"><div class="content">This means that some time points cannot be represented by POSIX timestamps, and some POSIX timestamps do not correspond to any real time</div><br/><div id="42515042" class="c"><input type="checkbox" id="c-42515042" checked=""/><div class="controls bullet"><span class="by">GolDDranks</span><span>|</span><a href="#42513366">parent</a><span>|</span><a href="#42513903">next</a><span>|</span><label class="collapse" for="c-42515042">[-]</label><label class="expand" for="c-42515042">[2 more]</label></div><br/><div class="children"><div class="content">What are POSIX timestamps that don&#x27;t correspond to any real time? Or do you mean in the future if there is a negative leap second?</div><br/><div id="42520225" class="c"><input type="checkbox" id="c-42520225" checked=""/><div class="controls bullet"><span class="by">schneehertz</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42515042">parent</a><span>|</span><a href="#42513903">next</a><span>|</span><label class="collapse" for="c-42520225">[-]</label><label class="expand" for="c-42520225">[1 more]</label></div><br/><div class="children"><div class="content">Yes, negative leap seconds are possible in the future if leap second adjustments are not abandoned</div><br/></div></div></div></div><div id="42513903" class="c"><input type="checkbox" id="c-42513903" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513366">parent</a><span>|</span><a href="#42515042">prev</a><span>|</span><a href="#42515510">next</a><span>|</span><label class="collapse" for="c-42513903">[-]</label><label class="expand" for="c-42513903">[9 more]</label></div><br/><div class="children"><div class="content">This has always been true. Pre 1970 is not defined in Unix time.</div><br/><div id="42518181" class="c"><input type="checkbox" id="c-42518181" checked=""/><div class="controls bullet"><span class="by">deepsun</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42513903">parent</a><span>|</span><a href="#42514817">next</a><span>|</span><label class="collapse" for="c-42518181">[-]</label><label class="expand" for="c-42518181">[1 more]</label></div><br/><div class="children"><div class="content">Related question that leads too deep: &quot;What was before the Big Bang?&quot;</div><br/></div></div><div id="42514817" class="c"><input type="checkbox" id="c-42514817" checked=""/><div class="controls bullet"><span class="by">usrnm</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42513903">parent</a><span>|</span><a href="#42518181">prev</a><span>|</span><a href="#42515510">next</a><span>|</span><label class="collapse" for="c-42514817">[-]</label><label class="expand" for="c-42514817">[7 more]</label></div><br/><div class="children"><div class="content">Why? time_t is signed</div><br/><div id="42519457" class="c"><input type="checkbox" id="c-42519457" checked=""/><div class="controls bullet"><span class="by">_kst_</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42514817">parent</a><span>|</span><a href="#42514932">next</a><span>|</span><label class="collapse" for="c-42519457">[-]</label><label class="expand" for="c-42519457">[2 more]</label></div><br/><div class="children"><div class="content">Neither C nor POSIX requires time_t to be signed.<p>The Open Group Base Specifications Issue 7, 2018 edition says that &quot;time_t shall be an integer type&quot;. Issue 8, 2024 edition says &quot;time_t shall be an integer type with a width of at least 64 bits&quot;.<p>C merely says that time_t is a &quot;real type capable of representing times&quot;. A &quot;real type&quot;, as C defines the term, can be either integer or floating-point. It doesn&#x27;t specify <i>how</i> time_t represents times; for example, a conforming implementation could represent 2024-12-27 02:17:31 UTC as 0x20241227021731.<p>It&#x27;s been suggested that time_t should be unsigned so a 32-bit integer can represent times after 2038 (at the cost of not being able to represent times before 1970). Fortunately this did not catch on, and with the current POSIX requiring 64 bits, it wouldn&#x27;t make much sense.<p>But the relevant standards don&#x27;t forbid an unsigned time_t.</div><br/><div id="42520117" class="c"><input type="checkbox" id="c-42520117" checked=""/><div class="controls bullet"><span class="by">_kst_</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42519457">parent</a><span>|</span><a href="#42514932">next</a><span>|</span><label class="collapse" for="c-42520117">[-]</label><label class="expand" for="c-42520117">[1 more]</label></div><br/><div class="children"><div class="content">Apparently both Pelles C for Windows and VAX&#x2F;VMS use a 32-bit unsigned time_t.</div><br/></div></div></div></div><div id="42514932" class="c"><input type="checkbox" id="c-42514932" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42514817">parent</a><span>|</span><a href="#42519457">prev</a><span>|</span><a href="#42516346">next</a><span>|</span><label class="collapse" for="c-42514932">[-]</label><label class="expand" for="c-42514932">[1 more]</label></div><br/><div class="children"><div class="content">From IEE 1003.1 (and TFA):<p>&gt; If year &lt; 1970 or the value is negative, the relationship is undefined.</div><br/></div></div><div id="42516346" class="c"><input type="checkbox" id="c-42516346" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42514817">parent</a><span>|</span><a href="#42514932">prev</a><span>|</span><a href="#42516933">next</a><span>|</span><label class="collapse" for="c-42516346">[-]</label><label class="expand" for="c-42516346">[1 more]</label></div><br/><div class="children"><div class="content">In addition to being formally undefined (see sibling comment), APIs sometimes use negative time_t values to indicate error conditions and the like.</div><br/></div></div><div id="42516933" class="c"><input type="checkbox" id="c-42516933" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42514817">parent</a><span>|</span><a href="#42516346">prev</a><span>|</span><a href="#42515510">next</a><span>|</span><label class="collapse" for="c-42516933">[-]</label><label class="expand" for="c-42516933">[2 more]</label></div><br/><div class="children"><div class="content">Probably because the Gregorian calendar didn&#x27;t always exist. How do you map an int to a calendar that doesn&#x27;t exist?</div><br/><div id="42518574" class="c"><input type="checkbox" id="c-42518574" checked=""/><div class="controls bullet"><span class="by">wahern</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42516933">parent</a><span>|</span><a href="#42515510">next</a><span>|</span><label class="collapse" for="c-42518574">[-]</label><label class="expand" for="c-42518574">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Proleptic_Gregorian_calendar" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Proleptic_Gregorian_calendar</a></div><br/></div></div></div></div></div></div></div></div><div id="42515510" class="c"><input type="checkbox" id="c-42515510" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#42513366">parent</a><span>|</span><a href="#42513903">prev</a><span>|</span><a href="#42517313">next</a><span>|</span><label class="collapse" for="c-42515510">[-]</label><label class="expand" for="c-42515510">[2 more]</label></div><br/><div class="children"><div class="content">Well, at least there isn&#x27;t any POSIX timestamp that correspond to more than one real time point. So, it&#x27;s better than the one representation people use for everything.</div><br/><div id="42516139" class="c"><input type="checkbox" id="c-42516139" checked=""/><div class="controls bullet"><span class="by">brianpan</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42515510">parent</a><span>|</span><a href="#42517313">next</a><span>|</span><label class="collapse" for="c-42516139">[-]</label><label class="expand" for="c-42516139">[1 more]</label></div><br/><div class="children"><div class="content">Not yet.</div><br/></div></div></div></div><div id="42517313" class="c"><input type="checkbox" id="c-42517313" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#42513366">parent</a><span>|</span><a href="#42515510">prev</a><span>|</span><a href="#42512983">next</a><span>|</span><label class="collapse" for="c-42517313">[-]</label><label class="expand" for="c-42517313">[2 more]</label></div><br/><div class="children"><div class="content">No.<p>That&#x27;d be like saying some points in time that don&#x27;t have a ISO 8601 year. Every point in time has a year, but some years are longer than others.<p>If you sat down and watched <a href="https:&#x2F;&#x2F;time.is&#x2F;UTC" rel="nofollow">https:&#x2F;&#x2F;time.is&#x2F;UTC</a>, it would monotonically tick up, except that occasionally some seconds would be very slightly longer. Like 0.001% longer over the course of 24 hours.</div><br/><div id="42520221" class="c"><input type="checkbox" id="c-42520221" checked=""/><div class="controls bullet"><span class="by">schneehertz</span><span>|</span><a href="#42513366">root</a><span>|</span><a href="#42517313">parent</a><span>|</span><a href="#42512983">next</a><span>|</span><label class="collapse" for="c-42520221">[-]</label><label class="expand" for="c-42520221">[1 more]</label></div><br/><div class="children"><div class="content">The positive leap second of UTC is inserted at midnight, resulting in 86,401 seconds on that day. Reference: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Leap_second" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Leap_second</a></div><br/></div></div></div></div></div></div><div id="42512983" class="c"><input type="checkbox" id="c-42512983" checked=""/><div class="controls bullet"><span class="by">calrain</span><span>|</span><a href="#42513366">prev</a><span>|</span><a href="#42513205">next</a><span>|</span><label class="collapse" for="c-42512983">[-]</label><label class="expand" for="c-42512983">[28 more]</label></div><br/><div class="children"><div class="content">When storing dates in a database I always store them in Unix Epoch time and I don&#x27;t record the timezone information on the date field (it is stored separately if there was a requirement to know the timezone).<p>Should we instead be storing time stamps in TAI format, and then use functions to convert time to UTC as required, ensuring that any adjustments for planetary tweaks can be performed as required?<p>I know that timezones are a field of landmines, but again, that is a human construct where timezone boundaries are adjusted over time.<p>It seems we need to anchor on absolute time, and then render that out to whatever local time format we need, when required.</div><br/><div id="42513409" class="c"><input type="checkbox" id="c-42513409" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42512983">parent</a><span>|</span><a href="#42513216">next</a><span>|</span><label class="collapse" for="c-42513409">[-]</label><label class="expand" for="c-42513409">[11 more]</label></div><br/><div class="children"><div class="content">&gt; Should we instead be storing time stamps in TAI format, and then use functions to convert time to UTC as required, ensuring that any adjustments for planetary tweaks can be performed as required?<p>Yes. TAI or similar is the only sensible way to track &quot;system&quot; time, and a higher-level system should be responsible for converting it to human-facing times; leap second adjustment should happen there, in the same place as time zone conversion.<p>Unfortunately Unix standardised the wrong thing and migration is hard.</div><br/><div id="42514209" class="c"><input type="checkbox" id="c-42514209" checked=""/><div class="controls bullet"><span class="by">beng-nl</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513409">parent</a><span>|</span><a href="#42513216">next</a><span>|</span><label class="collapse" for="c-42514209">[-]</label><label class="expand" for="c-42514209">[10 more]</label></div><br/><div class="children"><div class="content">I wish there were a TAI timezone: just unmodified, unleaped, untimezoned seconds, forever, in both directions. I was surprised it doesn’t exist.</div><br/><div id="42514637" class="c"><input type="checkbox" id="c-42514637" checked=""/><div class="controls bullet"><span class="by">maxnoe</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514209">parent</a><span>|</span><a href="#42513216">next</a><span>|</span><label class="collapse" for="c-42514637">[-]</label><label class="expand" for="c-42514637">[9 more]</label></div><br/><div class="children"><div class="content">TAI is not a time zone. Timezones are a concept of civil time keeping, that is tied to the UTC time scale.<p>TAI is a separate time scale and it is used to define UTC.<p>There is now CLOCK_TAI in Linux [1], tai_clock [2] in c++ and of course several high level libraries in many languages (e.g. astropy.time in Python [3])<p>There are three things you want in a time scale:
* Monotonically Increasing
* Ticking with a fixed frequency, i.e. an integer multiple of the SI second
* Aligned with the solar day<p>Unfortunately, as always, you can only chose 2 out of the 3.<p>TAI is 1 + 2, atomic clocks using the caesiun standard ticking at the frequency that is the definition of the SI second forever Increasing.<p>Then there is UT1, which is 1 + 3 (at least as long as no major disaster happens...). It is purely the orientation of the Earth, measured with radio telescopes.<p>UTC is 2 + 3, defined with the help of both. It ticks the SI seconds of TAI, but leap seconds are inserted at two possible time slots per year to keep it within 1 second of UT1. The last part is under discussion to be changed to a much longer time, practically eliminating future leap seconds.<p>The issue then is that POSIX chose the wrong standard for numerical system clocks. And now it is pretty hard to change and it can also be argued  that for performance reasons, it shouldn&#x27;t be changed, as you more often need the civil time than the monotonic time.<p>The remaining issues are:<p>* On many systems, it&#x27;s simple to get TAI
* Many software systems do not accept the complexity of this topic and instead just return the wrong answer using simplified assumptions, e.g. of no leap seconds in UTC
* There is no standardized way to handle the leap seconds in the Unix time stamp, so on days around the introduction of leap second, the relationship between the Unix timestamp and the actual UTC or TAI time is not clear, several versions exist and that results in uncertainty up to two seconds.
* There might be a negative leap second one day, and nothing is ready for it<p>[1] <a href="https:&#x2F;&#x2F;www.man7.org&#x2F;linux&#x2F;man-pages&#x2F;man7&#x2F;vdso.7.html" rel="nofollow">https:&#x2F;&#x2F;www.man7.org&#x2F;linux&#x2F;man-pages&#x2F;man7&#x2F;vdso.7.html</a>
[2] <a href="https:&#x2F;&#x2F;en.cppreference.com&#x2F;w&#x2F;cpp&#x2F;chrono&#x2F;tai_clock" rel="nofollow">https:&#x2F;&#x2F;en.cppreference.com&#x2F;w&#x2F;cpp&#x2F;chrono&#x2F;tai_clock</a>
[3] <a href="https:&#x2F;&#x2F;docs.astropy.org&#x2F;en&#x2F;stable&#x2F;time&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;docs.astropy.org&#x2F;en&#x2F;stable&#x2F;time&#x2F;index.html</a></div><br/><div id="42515369" class="c"><input type="checkbox" id="c-42515369" checked=""/><div class="controls bullet"><span class="by">beng-nl</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514637">parent</a><span>|</span><a href="#42515049">next</a><span>|</span><label class="collapse" for="c-42515369">[-]</label><label class="expand" for="c-42515369">[3 more]</label></div><br/><div class="children"><div class="content">Thank you ; it’s kind of you to write such a thoughtful, thorough reply.<p>In my original comment, when I wrote timezone, I actually didn’t really mean one of many known civil timezones (because it’s not), but I meant “timezone string configuration in Linux that will then give TAI time, ie stop adjusting it with timezones, daylight savings, or leap seconds”.<p>I hadn’t heard of the concept of timescale.<p>Personally i think item (3) is worthless for computer (as opposed to human facing) timekeeping.<p>Your explanation is very educational, thank you.<p>That said, you say it’s simple to get TAI, but that’s within a programming language. What we need is a way to explicitly specify the meaning of a time (timezone but also timescale, I’m learning), and that that interpretation is stored together with the timestamp.<p>I still don’t understand why a TZ=TAI would be so unreasonable or hard to implement as a shorthand for this desire..<p>I’m thinking particularly of it being attractive for logfiles and other long term data with time info in it.</div><br/><div id="42518264" class="c"><input type="checkbox" id="c-42518264" checked=""/><div class="controls bullet"><span class="by">imuli</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42515369">parent</a><span>|</span><a href="#42518474">next</a><span>|</span><label class="collapse" for="c-42518264">[-]</label><label class="expand" for="c-42518264">[1 more]</label></div><br/><div class="children"><div class="content">I did this for my systems a while ago. You can grab &lt;<a href="https:&#x2F;&#x2F;imu.li&#x2F;TAI.zone" rel="nofollow">https:&#x2F;&#x2F;imu.li&#x2F;TAI.zone</a>&gt;, compile it with the tzdata tools, and stick it in &#x2F;etc&#x2F;zoneinfo. It is unfortunately unable to keep time during a leap second.<p>In theory, if you keep your clock set to TAI instead of UTC, you can use the &#x2F;etc&#x2F;zoneinfo&#x2F;right timezones for civic time and make a (simpler) TAI zone file. I learned of that after I&#x27;d created the above though, and I can imagine all sorts of problems with getting the NTP daemon to do the right thing, and my use case was more TZ=TAI date, as you mentioned.<p>There&#x27;s a contentious discussion on the time zone mailing list about adding a TAI entry. It really didn&#x27;t help that DJB was the one wanting to add it and approached the issue with his customary attitude. There&#x27;s a lot of interesting stuff in there though - like allegedly there&#x27;s a legal requirement in Germany for their time zone to be fixed to the rotation of the earth (and so they might abandon UTC if it gives up leap seconds).</div><br/></div></div><div id="42518474" class="c"><input type="checkbox" id="c-42518474" checked=""/><div class="controls bullet"><span class="by">maxnoe</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42515369">parent</a><span>|</span><a href="#42518264">prev</a><span>|</span><a href="#42515049">next</a><span>|</span><label class="collapse" for="c-42518474">[-]</label><label class="expand" for="c-42518474">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, there is a &quot;not&quot; missing there.<p>A remaining issue is that it is <i>not</i> easy to get proper TAI on most systems.</div><br/></div></div></div></div><div id="42515049" class="c"><input type="checkbox" id="c-42515049" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514637">parent</a><span>|</span><a href="#42515369">prev</a><span>|</span><a href="#42516065">next</a><span>|</span><label class="collapse" for="c-42515049">[-]</label><label class="expand" for="c-42515049">[1 more]</label></div><br/><div class="children"><div class="content">&gt; you more often need the civil time than the monotonic time<p>I don&#x27;t think that&#x27;s true? You need to time something at the system level (e.g. measure the duration of an operation, or run something at a regular interval) a lot more often than you need a user-facing time.</div><br/></div></div><div id="42516065" class="c"><input type="checkbox" id="c-42516065" checked=""/><div class="controls bullet"><span class="by">dfc</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514637">parent</a><span>|</span><a href="#42515049">prev</a><span>|</span><a href="#42513216">next</a><span>|</span><label class="collapse" for="c-42516065">[-]</label><label class="expand" for="c-42516065">[4 more]</label></div><br/><div class="children"><div class="content">Why do you think a time scale has to be aligned with solar day? Are you an astronomer or come from an astronomy adjacent background?</div><br/><div id="42518456" class="c"><input type="checkbox" id="c-42518456" checked=""/><div class="controls bullet"><span class="by">maxnoe</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42516065">parent</a><span>|</span><a href="#42516317">next</a><span>|</span><label class="collapse" for="c-42518456">[-]</label><label class="expand" for="c-42518456">[1 more]</label></div><br/><div class="children"><div class="content">The first clock precise enough to even measure the irregularity of Earth rotation was only build in 1934.<p>Before, it was simply the best clock available.</div><br/></div></div><div id="42516317" class="c"><input type="checkbox" id="c-42516317" checked=""/><div class="controls bullet"><span class="by">wrs</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42516065">parent</a><span>|</span><a href="#42518456">prev</a><span>|</span><a href="#42513216">next</a><span>|</span><label class="collapse" for="c-42516317">[-]</label><label class="expand" for="c-42516317">[2 more]</label></div><br/><div class="children"><div class="content">Of all the definitions and hidden assumptions about time we’re talking about, possibly the oldest one is that the sun is highest at noon.</div><br/><div id="42517690" class="c"><input type="checkbox" id="c-42517690" checked=""/><div class="controls bullet"><span class="by">yencabulator</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42516317">parent</a><span>|</span><a href="#42513216">next</a><span>|</span><label class="collapse" for="c-42517690">[-]</label><label class="expand" for="c-42517690">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s already false except along one line within every timezone (and that&#x27;s assuming the timezone is properly set and not a convenient political or historical fiction). Let&#x27;s say your timezone is perfectly positioned, and &quot;true&quot; in the middle. Along its east and west boundaries, local noon is 30 minutes off.  Near daylight savings transitions, it&#x27;s off by about an hour everywhere.<p>Local noon just doesn&#x27;t matter that much. It especially doesn&#x27;t matter to the second.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42513216" class="c"><input type="checkbox" id="c-42513216" checked=""/><div class="controls bullet"><span class="by">christina97</span><span>|</span><a href="#42512983">parent</a><span>|</span><a href="#42513409">prev</a><span>|</span><a href="#42513056">next</a><span>|</span><label class="collapse" for="c-42513216">[-]</label><label class="expand" for="c-42513216">[8 more]</label></div><br/><div class="children"><div class="content">No, almost often no. Most software is written to paper over leap seconds: it really only happens at the clock synchronization level (chrony for example implements leap second smearing).<p>All your cocks are therefore synchronized to UTC anyway: it would mean you’d have to translate from UTC to TAI when you store things, then undo when you retrieve. It would be a mess.</div><br/><div id="42513940" class="c"><input type="checkbox" id="c-42513940" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513216">parent</a><span>|</span><a href="#42515547">next</a><span>|</span><label class="collapse" for="c-42513940">[-]</label><label class="expand" for="c-42513940">[5 more]</label></div><br/><div class="children"><div class="content">Smearing is alluring as a concept right up until you try and implement it in the real world.<p>If you control all the computers that all your other computers talk to (and also their time sync sources), then smearing works great. You&#x27;re effectively investing your own standard to make Unix time monatomic.<p>If, however, your computers need to talk to someone else&#x27;s computers and have some sort of consensus about what time it is, then the chances are your smearing policy won&#x27;t match theirs, and you&#x27;ll disagree on _what time it is_.<p>Sometimes these effects are harmless. Sometimes they&#x27;re unforseen. If mysterious, infrequent buggy behaviour is your kink, then go for it!</div><br/><div id="42514343" class="c"><input type="checkbox" id="c-42514343" checked=""/><div class="controls bullet"><span class="by">ratorx</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513940">parent</a><span>|</span><a href="#42515547">next</a><span>|</span><label class="collapse" for="c-42514343">[-]</label><label class="expand" for="c-42514343">[4 more]</label></div><br/><div class="children"><div class="content">Using time to sync between computers is one of the classic distributed systems problems. It is explicitly recommended against. The amount of errors in the regular time stack mean that you can’t really rely on time being accurate, regardless of leap seconds.<p>Computer clock speeds are not really that consistent, so “dead reckoning” style approaches don’t work.<p>NTP can only really sync to ~millisecond precision at best. I’m not aware of the state-of-the-art, but NTP errors and smearing errors in the worst case are probably quite similar. If you need more precise synchronisation, you need to implement it differently.<p>If you want 2 different computers to have the same time, you either have to solve it at a higher layer up by introducing an ordering to events (or equivalent) or use something like atomic clocks.</div><br/><div id="42514693" class="c"><input type="checkbox" id="c-42514693" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514343">parent</a><span>|</span><a href="#42514716">next</a><span>|</span><label class="collapse" for="c-42514693">[-]</label><label class="expand" for="c-42514693">[1 more]</label></div><br/><div class="children"><div class="content">Fair, it&#x27;s often one of those hidden, implicit design assumptions.<p>Google explicitly built spanner (?) around the idea that you can get distributed consistency <i>and</i> availability iff you control All The Clocks.<p>Smearing is fine, as long as it&#x27;s interaction with other systems is thought about (and tested!). Nobody wants a surprise (yet actually inevitable) outage at midnight on New year&#x27;s day.</div><br/></div></div><div id="42514716" class="c"><input type="checkbox" id="c-42514716" checked=""/><div class="controls bullet"><span class="by">gpderetta</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514343">parent</a><span>|</span><a href="#42514693">prev</a><span>|</span><a href="#42515547">next</a><span>|</span><label class="collapse" for="c-42514716">[-]</label><label class="expand" for="c-42514716">[2 more]</label></div><br/><div class="children"><div class="content">In practice with GPS clocks and OTP you can get very good precision in the microseconds</div><br/><div id="42517225" class="c"><input type="checkbox" id="c-42517225" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514716">parent</a><span>|</span><a href="#42515547">next</a><span>|</span><label class="collapse" for="c-42517225">[-]</label><label class="expand" for="c-42517225">[1 more]</label></div><br/><div class="children"><div class="content">Throw in chrony and you can get nanoseconds.</div><br/></div></div></div></div></div></div></div></div><div id="42515547" class="c"><input type="checkbox" id="c-42515547" checked=""/><div class="controls bullet"><span class="by">sadeshmukh</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513216">parent</a><span>|</span><a href="#42513940">prev</a><span>|</span><a href="#42513056">next</a><span>|</span><label class="collapse" for="c-42515547">[-]</label><label class="expand" for="c-42515547">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s quite the typo</div><br/><div id="42516701" class="c"><input type="checkbox" id="c-42516701" checked=""/><div class="controls bullet"><span class="by">halper</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42515547">parent</a><span>|</span><a href="#42513056">next</a><span>|</span><label class="collapse" for="c-42516701">[-]</label><label class="expand" for="c-42516701">[1 more]</label></div><br/><div class="children"><div class="content">Close to the poles, I&#x27;d say the assumption that the cocks be synchronised with UTC is flawed. Had we had cocks, I am afraid they&#x27;d be oversleeping at this time of year.</div><br/></div></div></div></div></div></div><div id="42513056" class="c"><input type="checkbox" id="c-42513056" checked=""/><div class="controls bullet"><span class="by">semiquaver</span><span>|</span><a href="#42512983">parent</a><span>|</span><a href="#42513216">prev</a><span>|</span><a href="#42513009">next</a><span>|</span><label class="collapse" for="c-42513056">[-]</label><label class="expand" for="c-42513056">[5 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; and I don&#x27;t record the timezone information on the date field
</code></pre>
Very few databases actually make it possible to preserve timezone in a timestamp column. Typically the db either has no concept of time zone for stored timestamps (e.g. SQL server) or has “time zone aware” timestamp column types where the input is converted to UTC and the original zone discarded (MySQL, Postgres)<p>Oracle is the only DB I’m aware of that can actually round-trip nonlocal zones in its “with time zone” type.</div><br/><div id="42513416" class="c"><input type="checkbox" id="c-42513416" checked=""/><div class="controls bullet"><span class="by">mulmen</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513056">parent</a><span>|</span><a href="#42513009">next</a><span>|</span><label class="collapse" for="c-42513416">[-]</label><label class="expand" for="c-42513416">[4 more]</label></div><br/><div class="children"><div class="content">As always the Postgres docs give an excellent explanation of <i>why</i> this is the case: <a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;datatype-datetime.html#DATATYPE-TIMEZONES" rel="nofollow">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;current&#x2F;datatype-datetime.ht...</a></div><br/><div id="42513742" class="c"><input type="checkbox" id="c-42513742" checked=""/><div class="controls bullet"><span class="by">Scarblac</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513416">parent</a><span>|</span><a href="#42513009">next</a><span>|</span><label class="collapse" for="c-42513742">[-]</label><label class="expand" for="c-42513742">[3 more]</label></div><br/><div class="children"><div class="content">I read it but I only see an explanation about what it does, not the why. It could have stored the original timezone.</div><br/><div id="42518996" class="c"><input type="checkbox" id="c-42518996" checked=""/><div class="controls bullet"><span class="by">bvrmn</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42513742">parent</a><span>|</span><a href="#42513009">next</a><span>|</span><label class="collapse" for="c-42518996">[-]</label><label class="expand" for="c-42518996">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s &quot;original timezone&quot;? Most libraries implement timezone aware dates as an offset from UTC internally. What tzinfo uses oracle? Is it updated? Is it similar to tzinfo used in your service?<p>It&#x27;s highly complicated topic and it&#x27;s amazing PostgreSQL decided to use instant time for &#x27;datetime with timezone&#x27; type instead of Oracle mess.</div><br/><div id="42520134" class="c"><input type="checkbox" id="c-42520134" checked=""/><div class="controls bullet"><span class="by">NoInkling</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42518996">parent</a><span>|</span><a href="#42513009">next</a><span>|</span><label class="collapse" for="c-42520134">[-]</label><label class="expand" for="c-42520134">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Most libraries implement timezone aware dates as an offset from UTC internally.<p>For what it&#x27;s worth, the libraries that are generally considered &quot;good&quot; (e.g. java.time, Nodatime, Temporal) all offer a &quot;zoned datetime&quot; type which stores an IANA identifier (and maybe an offset, but it&#x27;s only meant for disambiguation w.r.t. transitions). Postgres already ships tzinfo and works with those identifiers, it just expects you to manage them more manually (e.g. in a separate column or composite type). Also let&#x27;s not pretend that &quot;timestamp with time zone&quot; isn&#x27;t a huge misnomer that causes confusion when it refers to a simple instant.<p>I suspect you might be part of the contingent that considers such a combined type a fundamentally bad idea, however: <a href="https:&#x2F;&#x2F;errorprone.info&#x2F;docs&#x2F;time#zoned_datetime" rel="nofollow">https:&#x2F;&#x2F;errorprone.info&#x2F;docs&#x2F;time#zoned_datetime</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="42513009" class="c"><input type="checkbox" id="c-42513009" checked=""/><div class="controls bullet"><span class="by">hx8</span><span>|</span><a href="#42512983">parent</a><span>|</span><a href="#42513056">prev</a><span>|</span><a href="#42514593">next</a><span>|</span><label class="collapse" for="c-42513009">[-]</label><label class="expand" for="c-42513009">[1 more]</label></div><br/><div class="children"><div class="content">Maybe, it really depends on what your systems are storing.  Most systems really won&#x27;t care if you are one second off every few years. For some calculations being a second off is a big deal.  I think you should tread carefully when adopting any format that isn&#x27;t the most popular and have valid reasons for deviating from the norm.  The simple act of being different can be expensive.</div><br/></div></div><div id="42514593" class="c"><input type="checkbox" id="c-42514593" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#42512983">parent</a><span>|</span><a href="#42513009">prev</a><span>|</span><a href="#42513205">next</a><span>|</span><label class="collapse" for="c-42514593">[-]</label><label class="expand" for="c-42514593">[2 more]</label></div><br/><div class="children"><div class="content">Use your database native date-time field.</div><br/><div id="42516978" class="c"><input type="checkbox" id="c-42516978" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42512983">root</a><span>|</span><a href="#42514593">parent</a><span>|</span><a href="#42513205">next</a><span>|</span><label class="collapse" for="c-42516978">[-]</label><label class="expand" for="c-42516978">[1 more]</label></div><br/><div class="children"><div class="content">Seconded. Don&#x27;t mess around with raw timestamps. If you&#x27;re using a database, use its date-time data type and functions. They will be much more likely to handle numerous edge cases you&#x27;ve never even thought about.</div><br/></div></div></div></div></div></div><div id="42513205" class="c"><input type="checkbox" id="c-42513205" checked=""/><div class="controls bullet"><span class="by">jonnycomputer</span><span>|</span><a href="#42512983">prev</a><span>|</span><a href="#42513500">next</a><span>|</span><label class="collapse" for="c-42513205">[-]</label><label class="expand" for="c-42513205">[10 more]</label></div><br/><div class="children"><div class="content">I think this article ruined my Christmas. Is nothing sacred? seconds should be seconds since epoch. Why should I care if it drifts off solar day? Let seconds-since-epoch to date representation converters be responsible for making the correction. What am I missing?</div><br/><div id="42513231" class="c"><input type="checkbox" id="c-42513231" checked=""/><div class="controls bullet"><span class="by">christina97</span><span>|</span><a href="#42513205">parent</a><span>|</span><a href="#42513500">next</a><span>|</span><label class="collapse" for="c-42513231">[-]</label><label class="expand" for="c-42513231">[9 more]</label></div><br/><div class="children"><div class="content">The way it is is really how we all want it. 86400 seconds = 1 day. And we operate under the assumption that midnight UTC is always a multiple of 86400.<p>We don’t want every piece of software to start hardcoding leap second introductions and handling smears and requiring a way to update it within a month when a new leap second is introduced.<p>You never worried or thought about it before, and you don’t need to! It’s done in the right way.</div><br/><div id="42513421" class="c"><input type="checkbox" id="c-42513421" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42513231">parent</a><span>|</span><a href="#42517057">next</a><span>|</span><label class="collapse" for="c-42513421">[-]</label><label class="expand" for="c-42513421">[4 more]</label></div><br/><div class="children"><div class="content">&gt; We don’t want every piece of software to start hardcoding leap second introductions and handling smears and requiring a way to update it within a month when a new leap second is introduced.<p>That kind of thing is already needed for timezone handling. Any piece of software that handles human-facing time needs regular updates.<p>I think it would make most of our lives easier if machine time was ~29 seconds off from human time. It would be a red flag for carelessly programmed applications, and make it harder to confuse system time with human-facing UK time.</div><br/><div id="42517177" class="c"><input type="checkbox" id="c-42517177" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42513421">parent</a><span>|</span><a href="#42516413">prev</a><span>|</span><a href="#42517057">next</a><span>|</span><label class="collapse" for="c-42517177">[-]</label><label class="expand" for="c-42517177">[2 more]</label></div><br/><div class="children"><div class="content">You can set your OS to any timezone you want to. If you want it to be 29 seconds off, go for it. The tz database is open source.</div><br/><div id="42518299" class="c"><input type="checkbox" id="c-42518299" checked=""/><div class="controls bullet"><span class="by">odyssey7</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42517177">parent</a><span>|</span><a href="#42517057">next</a><span>|</span><label class="collapse" for="c-42518299">[-]</label><label class="expand" for="c-42518299">[1 more]</label></div><br/><div class="children"><div class="content">Nobody is an island… the hard part is interfacing with other systems, not hacking your own server.</div><br/></div></div></div></div></div></div><div id="42517057" class="c"><input type="checkbox" id="c-42517057" checked=""/><div class="controls bullet"><span class="by">demurgos</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42513231">parent</a><span>|</span><a href="#42513421">prev</a><span>|</span><a href="#42513370">next</a><span>|</span><label class="collapse" for="c-42517057">[-]</label><label class="expand" for="c-42517057">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t want it this way: it mixes a data model concern (timestamps) with a ui concern (calendars). As other have said, it would be much better if we used TAI and handled leap seconds at the same level as timezones.</div><br/></div></div><div id="42513370" class="c"><input type="checkbox" id="c-42513370" checked=""/><div class="controls bullet"><span class="by">turminal</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42513231">parent</a><span>|</span><a href="#42517057">prev</a><span>|</span><a href="#42513500">next</a><span>|</span><label class="collapse" for="c-42513370">[-]</label><label class="expand" for="c-42513370">[3 more]</label></div><br/><div class="children"><div class="content">But most software that would need to care about that already needs to care about timezones, and those already need to be regularly updated, sometimes with not much more than a month&#x27;s notice.</div><br/><div id="42513925" class="c"><input type="checkbox" id="c-42513925" checked=""/><div class="controls bullet"><span class="by">dmoy</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42513370">parent</a><span>|</span><a href="#42513500">next</a><span>|</span><label class="collapse" for="c-42513925">[-]</label><label class="expand" for="c-42513925">[2 more]</label></div><br/><div class="children"><div class="content">I will never forgive Egypt for breaking my shit with a 3 day notice (what was it like 10 years ago?).<p>Thankfully for me it was just a bunch of non-production-facing stuff.</div><br/><div id="42515866" class="c"><input type="checkbox" id="c-42515866" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42513205">root</a><span>|</span><a href="#42513925">parent</a><span>|</span><a href="#42513500">next</a><span>|</span><label class="collapse" for="c-42515866">[-]</label><label class="expand" for="c-42515866">[1 more]</label></div><br/><div class="children"><div class="content">Was this Morsy&#x27;s government or Sisi&#x27;s?  If it&#x27;s Morsy&#x27;s government you&#x27;re holding a grudge against, I have some good news for you.  (Presumably you&#x27;re not holding that grudge against random taxi drivers and housewives in Alexandria.)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42513500" class="c"><input type="checkbox" id="c-42513500" checked=""/><div class="controls bullet"><span class="by">vendiddy</span><span>|</span><a href="#42513205">prev</a><span>|</span><a href="#42512890">next</a><span>|</span><label class="collapse" for="c-42513500">[-]</label><label class="expand" for="c-42513500">[4 more]</label></div><br/><div class="children"><div class="content">Maybe a naive question but why wasn&#x27;t the timestamp designed as seconds since the epoch with zero adjustments?<p>Everything would be derived from that.<p>I suppose it would make some math more complex but overall it feels simpler.</div><br/><div id="42513965" class="c"><input type="checkbox" id="c-42513965" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513500">parent</a><span>|</span><a href="#42514866">next</a><span>|</span><label class="collapse" for="c-42513965">[-]</label><label class="expand" for="c-42513965">[2 more]</label></div><br/><div class="children"><div class="content">With hindsight, we&#x27;d do lots of things differently :)<p>I guess they just didn&#x27;t foresee the problem, or misjudged the impact. I can imagine it being very &quot;let&#x27;s kick that problem down the road and just do a simple thing for now&quot; approach.</div><br/><div id="42515744" class="c"><input type="checkbox" id="c-42515744" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42513500">root</a><span>|</span><a href="#42513965">parent</a><span>|</span><a href="#42514866">next</a><span>|</span><label class="collapse" for="c-42515744">[-]</label><label class="expand" for="c-42515744">[1 more]</label></div><br/><div class="children"><div class="content">UNIX systems at the time probably didn’t care about accuracy to the second being maintained over rare leap second adjustments.<p>Random example, the wonderful RealTime1987A project (<a href="https:&#x2F;&#x2F;bmonreal.github.io&#x2F;RealTime1987A&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bmonreal.github.io&#x2F;RealTime1987A&#x2F;</a>) talks about detecting neutrinos from the supernova, and what information can be inferred from the timing of the detections. A major source of that data is the Super Kamiokande project. The data was recorded to tape by a PDP-11, timestamped by its local clock. That clock was periodically synced with UTC with a sophisticated high-tech procedure that consisted of an operator making a phone call to some time service, then typing the time into the computer. As such, the timestamps recorded by this instrument have error bars of something like +&#x2F;- one minute.<p>If that’s the sort of world you’re in, trying to account for leap seconds probably seems like a complete waste of effort and precious computer memory.</div><br/></div></div></div></div><div id="42514866" class="c"><input type="checkbox" id="c-42514866" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#42513500">parent</a><span>|</span><a href="#42513965">prev</a><span>|</span><a href="#42512890">next</a><span>|</span><label class="collapse" for="c-42514866">[-]</label><label class="expand" for="c-42514866">[1 more]</label></div><br/><div class="children"><div class="content">Arguably it&#x27;s worse if 00:33 on 2024.12.26 has to get run through another function to get the true value of 2024.12.25 T 23:59.<p>The problem is leap seconds. Software just wasn&#x27;t designed to handle 86401 seconds in a day, and caused incidents at Google, Cloudflare, Quantus, and others. Worried that resolving all possible bugs related to days with 86401 seconds in them was going to be impossible to get right, Google decided to smear that leap second so that the last &quot;second&quot; isn&#x27;t.<p>And if you&#x27;ve not seen it, there&#x27;s the falsehoods programmers believe about time article.</div><br/></div></div></div></div><div id="42512890" class="c"><input type="checkbox" id="c-42512890" checked=""/><div class="controls bullet"><span class="by">sevensor</span><span>|</span><a href="#42513500">prev</a><span>|</span><a href="#42519002">next</a><span>|</span><label class="collapse" for="c-42512890">[-]</label><label class="expand" for="c-42512890">[19 more]</label></div><br/><div class="children"><div class="content">What I don’t understand is why we would ever assume two clocks in two different places could be compared in a non approximate way. Your clock, your observations of the world state, are always situated in a local context. In the best of all possible cases, the reasons why your clock and time reports from other clocks differ are well understood.</div><br/><div id="42513759" class="c"><input type="checkbox" id="c-42513759" checked=""/><div class="controls bullet"><span class="by">vpaulus</span><span>|</span><a href="#42512890">parent</a><span>|</span><a href="#42515586">next</a><span>|</span><label class="collapse" for="c-42513759">[-]</label><label class="expand" for="c-42513759">[3 more]</label></div><br/><div class="children"><div class="content">I believe it has some advantages that while you are waiting at the train station your clock shows exactly the same time as the train conductor’s several miles away from you.</div><br/><div id="42514487" class="c"><input type="checkbox" id="c-42514487" checked=""/><div class="controls bullet"><span class="by">sevensor</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513759">parent</a><span>|</span><a href="#42515586">next</a><span>|</span><label class="collapse" for="c-42514487">[-]</label><label class="expand" for="c-42514487">[2 more]</label></div><br/><div class="children"><div class="content">Surely not! We could be a whole minute off and I’d still be standing on the platform when the train arrived.</div><br/><div id="42515622" class="c"><input type="checkbox" id="c-42515622" checked=""/><div class="controls bullet"><span class="by">dibujaron</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42514487">parent</a><span>|</span><a href="#42515586">next</a><span>|</span><label class="collapse" for="c-42515622">[-]</label><label class="expand" for="c-42515622">[1 more]</label></div><br/><div class="children"><div class="content">in the US or parts of Europe you could wait there for 10m past the scheduled time and barely notice. In Japan if the train clock disagreed with the station clock by 30s, causing the train to arrive 30s late, they&#x27;d have to write all of the passengers excuse notes for why they were late to work.</div><br/></div></div></div></div></div></div><div id="42515586" class="c"><input type="checkbox" id="c-42515586" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42512890">parent</a><span>|</span><a href="#42513759">prev</a><span>|</span><a href="#42513170">next</a><span>|</span><label class="collapse" for="c-42515586">[-]</label><label class="expand" for="c-42515586">[3 more]</label></div><br/><div class="children"><div class="content">GPS depends on widely separated (several times the diameter of Earth) clocks agreeing with each other down to the nanosecond.</div><br/><div id="42517252" class="c"><input type="checkbox" id="c-42517252" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42515586">parent</a><span>|</span><a href="#42513170">next</a><span>|</span><label class="collapse" for="c-42517252">[-]</label><label class="expand" for="c-42517252">[2 more]</label></div><br/><div class="children"><div class="content">and moving at such high speeds that relativity factors into the equations.</div><br/><div id="42517497" class="c"><input type="checkbox" id="c-42517497" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42517252">parent</a><span>|</span><a href="#42513170">next</a><span>|</span><label class="collapse" for="c-42517497">[-]</label><label class="expand" for="c-42517497">[1 more]</label></div><br/><div class="children"><div class="content">Speeds and altitude both! I believe time dilation from gravity is more significant but both are big enough to need compensation.</div><br/></div></div></div></div></div></div><div id="42513170" class="c"><input type="checkbox" id="c-42513170" checked=""/><div class="controls bullet"><span class="by">ses1984</span><span>|</span><a href="#42512890">parent</a><span>|</span><a href="#42515586">prev</a><span>|</span><a href="#42513172">next</a><span>|</span><label class="collapse" for="c-42513170">[-]</label><label class="expand" for="c-42513170">[1 more]</label></div><br/><div class="children"><div class="content">I think something like the small angle approximation applies. There are plenty of applications where you can assume clocks are basically in the same frame of reference because relativistic effects are orders of magnitude smaller than your uncertainty.</div><br/></div></div><div id="42513172" class="c"><input type="checkbox" id="c-42513172" checked=""/><div class="controls bullet"><span class="by">christina97</span><span>|</span><a href="#42512890">parent</a><span>|</span><a href="#42513170">prev</a><span>|</span><a href="#42512912">next</a><span>|</span><label class="collapse" for="c-42513172">[-]</label><label class="expand" for="c-42513172">[10 more]</label></div><br/><div class="children"><div class="content">The approximation error is so small that you can often ignore it. Hence the concept of exact time.<p>Eg in most computing contexts, you can synchronize clocks close enough to ignore a few nanos difference.</div><br/><div id="42513558" class="c"><input type="checkbox" id="c-42513558" checked=""/><div class="controls bullet"><span class="by">Asraelite</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513172">parent</a><span>|</span><a href="#42512912">next</a><span>|</span><label class="collapse" for="c-42513558">[-]</label><label class="expand" for="c-42513558">[9 more]</label></div><br/><div class="children"><div class="content">How? Unless you have an atomic clock nearby, they will very quickly drift apart by many nanoseconds again. It&#x27;s also impossible to synchronize to that level of precision across a network.</div><br/><div id="42513841" class="c"><input type="checkbox" id="c-42513841" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513558">parent</a><span>|</span><a href="#42514337">next</a><span>|</span><label class="collapse" for="c-42513841">[-]</label><label class="expand" for="c-42513841">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not only possible, you can demonstrate it on your phone. Check the GPS error on your device in a clear area. 1 ft of spatial error is roughly 1ns timing error on the signal (assuming other error sources are zero). Alternatively, you can just look at the published clock errors: <a href="http:&#x2F;&#x2F;navigationservices.agi.com&#x2F;GNSSWeb&#x2F;PAFPSFViewer.aspx" rel="nofollow">http:&#x2F;&#x2F;navigationservices.agi.com&#x2F;GNSSWeb&#x2F;PAFPSFViewer.aspx</a><p>All the satellites in all of the GNSS constellations are synchronized to each other and every device tracking them to within a few tens of nanoseconds. Yes, atomic clocks are involved, but none of them are corrected locally and they&#x27;re running at a significantly different rate than &quot;true&quot; time here on earth.</div><br/><div id="42513902" class="c"><input type="checkbox" id="c-42513902" checked=""/><div class="controls bullet"><span class="by">Asraelite</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513841">parent</a><span>|</span><a href="#42514337">next</a><span>|</span><label class="collapse" for="c-42513902">[-]</label><label class="expand" for="c-42513902">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s true, but it&#x27;s not really the situation I&#x27;m thinking of. Your phone is comparing the differences between the timestamps of multiple incoming GNSS signals at a given instant, not using them to set its local clock for future reference.<p>A better analogy to practical networked computing scenarios would be this: receive a timestamp from a GNSS signal, set your local clock to that, wait a few minutes, then receive a GNSS timestamp again and compare it to your local clock. Use the difference to measure how far you&#x27;ve travelled in those few minutes. If you did that without a local atomic clock then I don&#x27;t think it would be very accurate.</div><br/><div id="42515620" class="c"><input type="checkbox" id="c-42515620" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513902">parent</a><span>|</span><a href="#42514190">next</a><span>|</span><label class="collapse" for="c-42515620">[-]</label><label class="expand" for="c-42515620">[1 more]</label></div><br/><div class="children"><div class="content">Basic hardware gets you a precise GNSS time once per second. Your local clock won’t drift that much in that time, and you can track and compensate for the drift. If you’re in a position to get the signal and have the hardware, then you can have very accurate clocks in your system.</div><br/></div></div><div id="42514190" class="c"><input type="checkbox" id="c-42514190" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513902">parent</a><span>|</span><a href="#42515620">prev</a><span>|</span><a href="#42514337">next</a><span>|</span><label class="collapse" for="c-42514190">[-]</label><label class="expand" for="c-42514190">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a common way of doing high precision time sync, yes. It&#x27;s slightly out of phone budget&#x2F;form factor, but that&#x27;s what a GPSDO does.<p>The receiver in your phone also needs pretty good short term stability to track the signal for all of the higher processing. It&#x27;d be absolutely fine to depend on PPS output with seconds or minutes between measurements.</div><br/></div></div></div></div></div></div><div id="42514337" class="c"><input type="checkbox" id="c-42514337" checked=""/><div class="controls bullet"><span class="by">prerok</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513558">parent</a><span>|</span><a href="#42513841">prev</a><span>|</span><a href="#42513847">next</a><span>|</span><label class="collapse" for="c-42514337">[-]</label><label class="expand" for="c-42514337">[1 more]</label></div><br/><div class="children"><div class="content">The Precision Time Protocol is intended to solve this problem:<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Precision_Time_Protocol" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Precision_Time_Protocol</a><p>It does require hardware support, though.</div><br/></div></div><div id="42513847" class="c"><input type="checkbox" id="c-42513847" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513558">parent</a><span>|</span><a href="#42514337">prev</a><span>|</span><a href="#42512912">next</a><span>|</span><label class="collapse" for="c-42513847">[-]</label><label class="expand" for="c-42513847">[3 more]</label></div><br/><div class="children"><div class="content">WhiteRabbit achieves sub-nanosecond time synchronization over a network.</div><br/><div id="42513864" class="c"><input type="checkbox" id="c-42513864" checked=""/><div class="controls bullet"><span class="by">Asraelite</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513847">parent</a><span>|</span><a href="#42512912">next</a><span>|</span><label class="collapse" for="c-42513864">[-]</label><label class="expand" for="c-42513864">[2 more]</label></div><br/><div class="children"><div class="content">Oh wow, that&#x27;s impressive. Is that over a standard internet connection? Do they need special hardware?</div><br/><div id="42513969" class="c"><input type="checkbox" id="c-42513969" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#42512890">root</a><span>|</span><a href="#42513864">parent</a><span>|</span><a href="#42512912">next</a><span>|</span><label class="collapse" for="c-42513969">[-]</label><label class="expand" for="c-42513969">[1 more]</label></div><br/><div class="children"><div class="content">It does require a special switch yes.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42512912" class="c"><input type="checkbox" id="c-42512912" checked=""/><div class="controls bullet"><span class="by">pavel_lishin</span><span>|</span><a href="#42512890">parent</a><span>|</span><a href="#42513172">prev</a><span>|</span><a href="#42519002">next</a><span>|</span><label class="collapse" for="c-42512912">[-]</label><label class="expand" for="c-42512912">[1 more]</label></div><br/><div class="children"><div class="content"><i>camera cuts across to Newton, seething on his side of the desk, his knuckles white as the table visibly starts to crack under his grip</i></div><br/></div></div></div></div><div id="42519002" class="c"><input type="checkbox" id="c-42519002" checked=""/><div class="controls bullet"><span class="by">gregfjohnson</span><span>|</span><a href="#42512890">prev</a><span>|</span><a href="#42515518">next</a><span>|</span><label class="collapse" for="c-42519002">[-]</label><label class="expand" for="c-42519002">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been trying to find discussion of this topic on Hacker News between October 1582 and September 1752, but to no avail.<p>&#x27;cal 9 1752&#x27; is .. funny.  I guess instead of doing this annoying a-periodic leap second business, they accumulated a bunch of leap seconds owed, and skipped 11 days at one go.  Sysadmins at the time were of divided opinion on the matter.</div><br/></div></div><div id="42515518" class="c"><input type="checkbox" id="c-42515518" checked=""/><div class="controls bullet"><span class="by">xpe</span><span>|</span><a href="#42519002">prev</a><span>|</span><a href="#42517189">next</a><span>|</span><label class="collapse" for="c-42515518">[-]</label><label class="expand" for="c-42515518">[2 more]</label></div><br/><div class="children"><div class="content">Is there a synchronized and monotonically increasing measure of time to be found?</div><br/><div id="42515688" class="c"><input type="checkbox" id="c-42515688" checked=""/><div class="controls bullet"><span class="by">kevindamm</span><span>|</span><a href="#42515518">parent</a><span>|</span><a href="#42517189">next</a><span>|</span><label class="collapse" for="c-42515688">[-]</label><label class="expand" for="c-42515688">[1 more]</label></div><br/><div class="children"><div class="content">Not really.  GPS time comes close (at least, it avoids leap seconds and DST) but you still have technical issues like clock drift.</div><br/></div></div></div></div><div id="42517189" class="c"><input type="checkbox" id="c-42517189" checked=""/><div class="controls bullet"><span class="by">sarusso</span><span>|</span><a href="#42515518">prev</a><span>|</span><a href="#42513833">next</a><span>|</span><label class="collapse" for="c-42517189">[-]</label><label class="expand" for="c-42517189">[2 more]</label></div><br/><div class="children"><div class="content">I remember hearing at a conference about 10 years ago that Google does not make use of leap seconds. Instead, they spread them across regular seconds (they modified their NTP servers). I quickly searched online and found the original article [1].<p>[1] <a href="https:&#x2F;&#x2F;googleblog.blogspot.com&#x2F;2011&#x2F;09&#x2F;time-technology-and-leaping-seconds.html" rel="nofollow">https:&#x2F;&#x2F;googleblog.blogspot.com&#x2F;2011&#x2F;09&#x2F;time-technology-and-...</a></div><br/><div id="42517527" class="c"><input type="checkbox" id="c-42517527" checked=""/><div class="controls bullet"><span class="by">jhalstead</span><span>|</span><a href="#42517189">parent</a><span>|</span><a href="#42513833">next</a><span>|</span><label class="collapse" for="c-42517527">[-]</label><label class="expand" for="c-42517527">[1 more]</label></div><br/><div class="children"><div class="content">Their public NTP doc for the &quot;leap smear&quot; also includes some other leap smear proposals: <a href="https:&#x2F;&#x2F;developers.google.com&#x2F;time&#x2F;smear" rel="nofollow">https:&#x2F;&#x2F;developers.google.com&#x2F;time&#x2F;smear</a></div><br/></div></div></div></div><div id="42513833" class="c"><input type="checkbox" id="c-42513833" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#42517189">prev</a><span>|</span><a href="#42513305">next</a><span>|</span><label class="collapse" for="c-42513833">[-]</label><label class="expand" for="c-42513833">[3 more]</label></div><br/><div class="children"><div class="content">The timestamps given in the article seem completely wrong? Also, where would 29 even come from?<p>The offset between UTC and TAI is 37 seconds.</div><br/><div id="42514909" class="c"><input type="checkbox" id="c-42514909" checked=""/><div class="controls bullet"><span class="by">possiblywrong</span><span>|</span><a href="#42513833">parent</a><span>|</span><a href="#42514914">next</a><span>|</span><label class="collapse" for="c-42514909">[-]</label><label class="expand" for="c-42514909">[1 more]</label></div><br/><div class="children"><div class="content">You are correct. The first example time in the article, &quot;2024-12-25 at 18:54:53 UTC&quot;, corresponds to POSIX timestamp 1735152893, not 1735152686. And there have been 27 leap seconds since the 1970 epoch, not 29.</div><br/></div></div><div id="42514914" class="c"><input type="checkbox" id="c-42514914" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#42513833">parent</a><span>|</span><a href="#42514909">prev</a><span>|</span><a href="#42513305">next</a><span>|</span><label class="collapse" for="c-42514914">[-]</label><label class="expand" for="c-42514914">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also not sure where 29 came from, but the expected offset here is 27 - there have been 27 UTC leap seconds <i>since the unix epoch</i>.</div><br/></div></div></div></div><div id="42513305" class="c"><input type="checkbox" id="c-42513305" checked=""/><div class="controls bullet"><span class="by">maxbond</span><span>|</span><a href="#42513833">prev</a><span>|</span><a href="#42513384">next</a><span>|</span><label class="collapse" for="c-42513305">[-]</label><label class="expand" for="c-42513305">[3 more]</label></div><br/><div class="children"><div class="content">&gt; ((tm_year - 69) &#x2F; 4) * 86400<p>Seems like there&#x27;s another corner cut here, where the behavior of leap years at the end of a century (where they&#x27;re skipped if a year is divisible by 100 unless it&#x27;s divisible by 400) is not accounted for.<p>I suppose using Unix time for dates in the far future isn&#x27;t a good idea. I guess I&#x27;ll file that away.<p>(For the curious, the way this seems to work is that it&#x27;s calibrated to start ticking up in 1973 and every 4 years thereafter. This is integer math, so fractional values are rounded off. 1972 was a leap year. From March 1st to December 31st 1972, the leap day was accounted for in `tm_yday`. Thereafter it was accounted for in this expression.)</div><br/><div id="42514191" class="c"><input type="checkbox" id="c-42514191" checked=""/><div class="controls bullet"><span class="by">jwilk</span><span>|</span><a href="#42513305">parent</a><span>|</span><a href="#42513957">next</a><span>|</span><label class="collapse" for="c-42514191">[-]</label><label class="expand" for="c-42514191">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the behavior of leap years at the end of a century (where they&#x27;re skipped if a year is divisible by 100 unless it&#x27;s divisible by 400) is not accounted for.<p>The article cites the original edition of POSIX from 1988.<p>The bug in question was fixed in the 2001 edition:<p><a href="https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;007904975&#x2F;basedefs&#x2F;xbd_chap04.html#tag_04_14" rel="nofollow">https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;007904975&#x2F;basedefs&#x2F;xbd...</a></div><br/></div></div><div id="42513957" class="c"><input type="checkbox" id="c-42513957" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513305">parent</a><span>|</span><a href="#42514191">prev</a><span>|</span><a href="#42513384">next</a><span>|</span><label class="collapse" for="c-42513957">[-]</label><label class="expand" for="c-42513957">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I suppose using Unix time for dates in the far future isn&#x27;t a good idea. I guess I&#x27;ll file that away.<p>Not just Unix time, converting future local time to UTC and storing that is also fraught with risk, as there&#x27;s no guarantee that the conversion you apply today will be the same as the one that needs to be applied in the future.<p>Often (for future dates), the right thing to do is to store the thing you were provided (e.g. a local timestamp + the asserted local timezone) and then convert when you need to.<p>(Past dates have fewer problems converting to UTC, because we don&#x27;t tend to retroactively change the meaning of timezones).</div><br/></div></div></div></div><div id="42513384" class="c"><input type="checkbox" id="c-42513384" checked=""/><div class="controls bullet"><span class="by">tw1984</span><span>|</span><a href="#42513305">prev</a><span>|</span><a href="#42516696">next</a><span>|</span><label class="collapse" for="c-42513384">[-]</label><label class="expand" for="c-42513384">[1 more]</label></div><br/><div class="children"><div class="content">there is literally no easy and safe way to actually handle leap seconds. what happens when they need to remove one second? even for the easier case of inserted leap second, you can smear it, but what happens if there are multiple systems each smearing it at different rates? I&#x27;d strongly argue that you pretty much have to reboot all your time critical and mission critical systems during the leap second to be safe.<p>the issue is so wide spread and complicated that they decided to stop introducing extra leap seconds so people can come up with something better in the coming decades - probably way later than the arrival of AGI.</div><br/></div></div><div id="42516696" class="c"><input type="checkbox" id="c-42516696" checked=""/><div class="controls bullet"><span class="by">ZeroCool2u</span><span>|</span><a href="#42513384">prev</a><span>|</span><a href="#42513012">next</a><span>|</span><label class="collapse" for="c-42516696">[-]</label><label class="expand" for="c-42516696">[1 more]</label></div><br/><div class="children"><div class="content">More often than I care to admit, I yearn for another of Aphers programming interview short stories. Some of my favorite prose and incredibly in depth programming.</div><br/></div></div><div id="42513012" class="c"><input type="checkbox" id="c-42513012" checked=""/><div class="controls bullet"><span class="by">SerCe</span><span>|</span><a href="#42516696">prev</a><span>|</span><a href="#42517073">next</a><span>|</span><label class="collapse" for="c-42513012">[-]</label><label class="expand" for="c-42513012">[15 more]</label></div><br/><div class="children"><div class="content">Working with time is full of pitfalls, especially around clock monotonicity and clock synchronisation. I wrote an article about some of those pitfalls some time ago [1]. Then, you add time zones to it, and you get a real minefield.<p>[1]: <a href="https:&#x2F;&#x2F;serce.me&#x2F;posts&#x2F;16-05-2019-the-matter-of-time" rel="nofollow">https:&#x2F;&#x2F;serce.me&#x2F;posts&#x2F;16-05-2019-the-matter-of-time</a></div><br/><div id="42513103" class="c"><input type="checkbox" id="c-42513103" checked=""/><div class="controls bullet"><span class="by">mmooss</span><span>|</span><a href="#42513012">parent</a><span>|</span><a href="#42514124">next</a><span>|</span><label class="collapse" for="c-42513103">[-]</label><label class="expand" for="c-42513103">[13 more]</label></div><br/><div class="children"><div class="content">You are a developer who works with time and you named your file, &quot;16-05-2019-the-matter-of-time&quot;? :)</div><br/><div id="42513367" class="c"><input type="checkbox" id="c-42513367" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513103">parent</a><span>|</span><a href="#42514134">next</a><span>|</span><label class="collapse" for="c-42513367">[-]</label><label class="expand" for="c-42513367">[8 more]</label></div><br/><div class="children"><div class="content">What&#x27;s wrong with that?</div><br/><div id="42514479" class="c"><input type="checkbox" id="c-42514479" checked=""/><div class="controls bullet"><span class="by">lysium</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513367">parent</a><span>|</span><a href="#42513768">next</a><span>|</span><label class="collapse" for="c-42514479">[-]</label><label class="expand" for="c-42514479">[2 more]</label></div><br/><div class="children"><div class="content">That’s not a standard format. ISO format is yyyy-mm—dd. Also, sorts nicely by time if you sort alphabetically.</div><br/><div id="42519296" class="c"><input type="checkbox" id="c-42519296" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42514479">parent</a><span>|</span><a href="#42513768">next</a><span>|</span><label class="collapse" for="c-42519296">[-]</label><label class="expand" for="c-42519296">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I know.  But for your personal file names, you can pick whatever you feel like.</div><br/></div></div></div></div><div id="42513768" class="c"><input type="checkbox" id="c-42513768" checked=""/><div class="controls bullet"><span class="by">BrandoElFollito</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513367">parent</a><span>|</span><a href="#42514479">prev</a><span>|</span><a href="#42514134">next</a><span>|</span><label class="collapse" for="c-42513768">[-]</label><label class="expand" for="c-42513768">[5 more]</label></div><br/><div class="children"><div class="content">They wrote it on the 16th of May, or the 5th of Bdrfln, we will never know.</div><br/><div id="42513791" class="c"><input type="checkbox" id="c-42513791" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513768">parent</a><span>|</span><a href="#42514134">next</a><span>|</span><label class="collapse" for="c-42513791">[-]</label><label class="expand" for="c-42513791">[4 more]</label></div><br/><div class="children"><div class="content">Perhaps it&#x27;s just named for that date, and not written then?<p>In any case, dates only have to make sense in the context they are used.<p>Eg we don&#x27;t know from just the string of numbers whether it&#x27;s Gregorian, Julian, or Buddhist or Japanese etc calendar.</div><br/><div id="42515125" class="c"><input type="checkbox" id="c-42515125" checked=""/><div class="controls bullet"><span class="by">gsich</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513791">parent</a><span>|</span><a href="#42514473">next</a><span>|</span><label class="collapse" for="c-42515125">[-]</label><label class="expand" for="c-42515125">[2 more]</label></div><br/><div class="children"><div class="content">Assuming Gregorian is a sane choice.</div><br/><div id="42519298" class="c"><input type="checkbox" id="c-42519298" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42515125">parent</a><span>|</span><a href="#42514473">next</a><span>|</span><label class="collapse" for="c-42519298">[-]</label><label class="expand" for="c-42519298">[1 more]</label></div><br/><div class="children"><div class="content">Not any worse than most other commonly used calendars, and it&#x27;s got the benefit of network effects: many people use it, and virtually everyone will be at least somewhat familiar with it.</div><br/></div></div></div></div><div id="42514473" class="c"><input type="checkbox" id="c-42514473" checked=""/><div class="controls bullet"><span class="by">BrandoElFollito</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513791">parent</a><span>|</span><a href="#42515125">prev</a><span>|</span><a href="#42514134">next</a><span>|</span><label class="collapse" for="c-42514473">[-]</label><label class="expand" for="c-42514473">[1 more]</label></div><br/><div class="children"><div class="content">Who know, it may not even be a date?<p>But seriously, <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;1179&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;1179&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="42514134" class="c"><input type="checkbox" id="c-42514134" checked=""/><div class="controls bullet"><span class="by">SerCe</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42513103">parent</a><span>|</span><a href="#42513367">prev</a><span>|</span><a href="#42514124">next</a><span>|</span><label class="collapse" for="c-42514134">[-]</label><label class="expand" for="c-42514134">[4 more]</label></div><br/><div class="children"><div class="content">Yeah, sorry mate, it can be confusing, will use unix epoch next time.</div><br/><div id="42515462" class="c"><input type="checkbox" id="c-42515462" checked=""/><div class="controls bullet"><span class="by">sandblast</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42514134">parent</a><span>|</span><a href="#42516870">next</a><span>|</span><label class="collapse" for="c-42515462">[-]</label><label class="expand" for="c-42515462">[2 more]</label></div><br/><div class="children"><div class="content">Why the snarkiness? Don&#x27;t you acknowledge that YYYY-MM-DD is strictly superior to DD-MM-YYYY?</div><br/><div id="42518137" class="c"><input type="checkbox" id="c-42518137" checked=""/><div class="controls bullet"><span class="by">mmooss</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42515462">parent</a><span>|</span><a href="#42516870">next</a><span>|</span><label class="collapse" for="c-42518137">[-]</label><label class="expand" for="c-42518137">[1 more]</label></div><br/><div class="children"><div class="content">Snarkiness was deserved.</div><br/></div></div></div></div><div id="42516870" class="c"><input type="checkbox" id="c-42516870" checked=""/><div class="controls bullet"><span class="by">mmooss</span><span>|</span><a href="#42513012">root</a><span>|</span><a href="#42514134">parent</a><span>|</span><a href="#42515462">prev</a><span>|</span><a href="#42514124">next</a><span>|</span><label class="collapse" for="c-42516870">[-]</label><label class="expand" for="c-42516870">[1 more]</label></div><br/><div class="children"><div class="content">lol. Great article, btw; thanks. I submitted it:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42516811">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42516811</a></div><br/></div></div></div></div></div></div></div></div><div id="42517073" class="c"><input type="checkbox" id="c-42517073" checked=""/><div class="controls bullet"><span class="by">prmph</span><span>|</span><a href="#42513012">prev</a><span>|</span><a href="#42513701">next</a><span>|</span><label class="collapse" for="c-42517073">[-]</label><label class="expand" for="c-42517073">[1 more]</label></div><br/><div class="children"><div class="content">The more I learn about the computation of time, the more unbelievably complex getting it right seems. I thought I was pretty sophisticated in in my view of time handling, but just in the last couple of months there have been a series of posts on HN that have opened my eyes even more to how leaky this abstraction of computer time is.<p>Pretty soon we&#x27;ll have to defer to deep experts and fundamental libraries to do anything at all with time in our applications, a la security and cryptography.</div><br/></div></div><div id="42513701" class="c"><input type="checkbox" id="c-42513701" checked=""/><div class="controls bullet"><span class="by">zaran</span><span>|</span><a href="#42517073">prev</a><span>|</span><a href="#42513182">next</a><span>|</span><label class="collapse" for="c-42513701">[-]</label><label class="expand" for="c-42513701">[3 more]</label></div><br/><div class="children"><div class="content">I wonder if the increasing number of computers in orbit will mean even more strange relativistic timekeeping stuff will become a concern for normal developers - will we have to add leap seconds to individual machines?<p>Back of the envelope says ~100 years in low earth orbit will cause a difference of 1 second</div><br/><div id="42513790" class="c"><input type="checkbox" id="c-42513790" checked=""/><div class="controls bullet"><span class="by">gavinsyancey</span><span>|</span><a href="#42513701">parent</a><span>|</span><a href="#42514421">next</a><span>|</span><label class="collapse" for="c-42513790">[-]</label><label class="expand" for="c-42513790">[1 more]</label></div><br/><div class="children"><div class="content">Most of those probably don&#x27;t&#x2F;won&#x27;t have clocks that are accurate enough to measure 1 second every hundred years; typical quartz oscillators drift about one second every few weeks.</div><br/></div></div><div id="42514421" class="c"><input type="checkbox" id="c-42514421" checked=""/><div class="controls bullet"><span class="by">Rastonbury</span><span>|</span><a href="#42513701">parent</a><span>|</span><a href="#42513790">prev</a><span>|</span><a href="#42513182">next</a><span>|</span><label class="collapse" for="c-42514421">[-]</label><label class="expand" for="c-42514421">[1 more]</label></div><br/><div class="children"><div class="content">For GPS at least it is accounted for 38 microseconds per day, they have atomic clocks accurate to like 0.4 milliseconds over 100 years. The frequencies they measure at are different from earth and are constantly synchronised.</div><br/></div></div></div></div><div id="42513182" class="c"><input type="checkbox" id="c-42513182" checked=""/><div class="controls bullet"><span class="by">christina97</span><span>|</span><a href="#42513701">prev</a><span>|</span><a href="#42512868">next</a><span>|</span><label class="collapse" for="c-42513182">[-]</label><label class="expand" for="c-42513182">[5 more]</label></div><br/><div class="children"><div class="content">Lot of people seem to miss the point of the article.<p>Suppose you had a clock that counted seconds (in the way we understand seconds, moving forward one unit per second). If you looked at it in a few days at midnight UTC on NYE (according to any clock), it would not be a multiple of 86400 (number of seconds per day). It would be off by some 29 seconds due to leap seconds. In that way, Unix time is not seconds since the epoch.</div><br/><div id="42513281" class="c"><input type="checkbox" id="c-42513281" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#42513182">parent</a><span>|</span><a href="#42512868">next</a><span>|</span><label class="collapse" for="c-42513281">[-]</label><label class="expand" for="c-42513281">[4 more]</label></div><br/><div class="children"><div class="content">You have it backwards. If you look at it at midnight UTC (on any day, not just NYE) it WOULD be an exact multiple of 86400. (Try it and see.)<p>Because of leap seconds, this is wrong. Midnight UTC tonight is in fact NOT a multiple of 86,400 real, physical seconds since midnight UTC on 1970-01-01.</div><br/><div id="42513720" class="c"><input type="checkbox" id="c-42513720" checked=""/><div class="controls bullet"><span class="by">jacobgkau</span><span>|</span><a href="#42513182">root</a><span>|</span><a href="#42513281">parent</a><span>|</span><a href="#42512868">next</a><span>|</span><label class="collapse" for="c-42513720">[-]</label><label class="expand" for="c-42513720">[3 more]</label></div><br/><div class="children"><div class="content">He didn&#x27;t have it backwards, he was saying the same thing as you. He said, &quot;suppose you had a clock that counted seconds,&quot; then described how it <i>would</i> work (it would be a non-multiple) if that was the case, which it isn&#x27;t. You ignored that his description of the behavior was part of a hypothetical and not meant to describe how it actually behaves.</div><br/><div id="42515193" class="c"><input type="checkbox" id="c-42515193" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#42513182">root</a><span>|</span><a href="#42513720">parent</a><span>|</span><a href="#42517961">next</a><span>|</span><label class="collapse" for="c-42515193">[-]</label><label class="expand" for="c-42515193">[1 more]</label></div><br/><div class="children"><div class="content">You’re absolutely right — not sure how I misinterpreted that so badly.</div><br/></div></div><div id="42517961" class="c"><input type="checkbox" id="c-42517961" checked=""/><div class="controls bullet"><span class="by">christina97</span><span>|</span><a href="#42513182">root</a><span>|</span><a href="#42513720">parent</a><span>|</span><a href="#42515193">prev</a><span>|</span><a href="#42512868">next</a><span>|</span><label class="collapse" for="c-42517961">[-]</label><label class="expand" for="c-42517961">[1 more]</label></div><br/><div class="children"><div class="content">Thanks but I’m a “she” :)</div><br/></div></div></div></div></div></div></div></div><div id="42512868" class="c"><input type="checkbox" id="c-42512868" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#42513182">prev</a><span>|</span><a href="#42518134">next</a><span>|</span><label class="collapse" for="c-42512868">[-]</label><label class="expand" for="c-42512868">[9 more]</label></div><br/><div class="children"><div class="content">&gt; People, myself included, like to say that POSIX time, also known as Unix time, is the number of seconds since the Unix epoch, which was 1970-01-01 at 00:00:00.<p>&gt; This is not true. Or rather, it isn’t true in the sense most people think.<p>I find that assertion odd, because it works exactly as I did assume.  Though, to be fair, I&#x27;m not thinking in the scientific notion that the author may.<p>If we think of a second as a tick of some amount of time, it makes sense to just count up once each tick.  That scientists inject a second here or there wouldn&#x27;t interfere with such logic.<p>All of that said, the leap second is going away anyways, so hopefully whatever replaces it is less troublesome.</div><br/><div id="42513402" class="c"><input type="checkbox" id="c-42513402" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42512868">parent</a><span>|</span><a href="#42512979">next</a><span>|</span><label class="collapse" for="c-42513402">[-]</label><label class="expand" for="c-42513402">[6 more]</label></div><br/><div class="children"><div class="content">&gt; If we think of a second as a tick of some amount of time, it makes sense to just count up once each tick.<p>It would, but Unix timestamps don&#x27;t. It works exactly not how you assume.</div><br/><div id="42513427" class="c"><input type="checkbox" id="c-42513427" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#42512868">root</a><span>|</span><a href="#42513402">parent</a><span>|</span><a href="#42512979">next</a><span>|</span><label class="collapse" for="c-42513427">[-]</label><label class="expand" for="c-42513427">[5 more]</label></div><br/><div class="children"><div class="content">Explain?<p>The article is claiming POSIX ignores injected leap seconds.</div><br/><div id="42513688" class="c"><input type="checkbox" id="c-42513688" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42512868">root</a><span>|</span><a href="#42513427">parent</a><span>|</span><a href="#42513457">next</a><span>|</span><label class="collapse" for="c-42513688">[-]</label><label class="expand" for="c-42513688">[1 more]</label></div><br/><div class="children"><div class="content">The article is needlessly unclear, but the specification given in the second blockquote is the one that is actually applied, and a simpler way of explaining it is: POSIX time() returns 86400 * [the number of UTC midnights since 1970-01-01T00:00:00] + [the number of seconds since the last UTC midnight].</div><br/></div></div><div id="42513457" class="c"><input type="checkbox" id="c-42513457" checked=""/><div class="controls bullet"><span class="by">ec109685</span><span>|</span><a href="#42512868">root</a><span>|</span><a href="#42513427">parent</a><span>|</span><a href="#42513688">prev</a><span>|</span><a href="#42512979">next</a><span>|</span><label class="collapse" for="c-42513457">[-]</label><label class="expand" for="c-42513457">[3 more]</label></div><br/><div class="children"><div class="content">POSIX doesn’t ignore leap seconds. Occasionally systems repeat a second, so time doesn’t drift beyond a second from when leap seconds were invented: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Leap_second" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Leap_second</a></div><br/><div id="42513489" class="c"><input type="checkbox" id="c-42513489" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#42512868">root</a><span>|</span><a href="#42513457">parent</a><span>|</span><a href="#42512979">next</a><span>|</span><label class="collapse" for="c-42513489">[-]</label><label class="expand" for="c-42513489">[2 more]</label></div><br/><div class="children"><div class="content">After reading this article no less than 3 times, and the comments in this thread, I&#x27;m beyond lost.<p>So maybe the author was right.  Because different people are claiming different things.</div><br/><div id="42514362" class="c"><input type="checkbox" id="c-42514362" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#42512868">root</a><span>|</span><a href="#42513489">parent</a><span>|</span><a href="#42512979">next</a><span>|</span><label class="collapse" for="c-42514362">[-]</label><label class="expand" for="c-42514362">[1 more]</label></div><br/><div class="children"><div class="content">The Unix time article has concrete example with tables which should clarify the matter. <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_time#Leap_seconds" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_time#Leap_seconds</a><p>In that example, Unix time goes from 915148799 -&gt; 915148800 -&gt; 915148800 -&gt; 915148801. Note how the timestamp gets repeated during leap second.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42512979" class="c"><input type="checkbox" id="c-42512979" checked=""/><div class="controls bullet"><span class="by">apgwoz</span><span>|</span><a href="#42512868">parent</a><span>|</span><a href="#42513402">prev</a><span>|</span><a href="#42518134">next</a><span>|</span><label class="collapse" for="c-42512979">[-]</label><label class="expand" for="c-42512979">[2 more]</label></div><br/><div class="children"><div class="content">The leap second in Unix time is supposed to wait a second and pretend it never happened. I can see why a longer second could be trouble, but also… if you knew it was coming you could make every nanosecond last 2 and lessen the impact as time would always be monotonic?</div><br/><div id="42513059" class="c"><input type="checkbox" id="c-42513059" checked=""/><div class="controls bullet"><span class="by">ziml77</span><span>|</span><a href="#42512868">root</a><span>|</span><a href="#42512979">parent</a><span>|</span><a href="#42518134">next</a><span>|</span><label class="collapse" for="c-42513059">[-]</label><label class="expand" for="c-42513059">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s how Google documents their handling of it: <a href="https:&#x2F;&#x2F;developers.google.com&#x2F;time&#x2F;smear" rel="nofollow">https:&#x2F;&#x2F;developers.google.com&#x2F;time&#x2F;smear</a></div><br/></div></div></div></div></div></div><div id="42518134" class="c"><input type="checkbox" id="c-42518134" checked=""/><div class="controls bullet"><span class="by">odyssey7</span><span>|</span><a href="#42512868">prev</a><span>|</span><a href="#42513801">next</a><span>|</span><label class="collapse" for="c-42518134">[-]</label><label class="expand" for="c-42518134">[1 more]</label></div><br/><div class="children"><div class="content">What we’re seeing is again the scientists trying to constrain a humanist system into a scientifically precise framework. It doesn’t really tend to work out. I’m reminded of the time that a bunch of astronomers decided to redefine what a planet is, and yet the cultural notion of Pluto remains strong.<p>Science and culture will rarely move hand-in-glove, so the rule of separation or concerns, to decouple human experience from scientific measurement, applies.</div><br/></div></div><div id="42513801" class="c"><input type="checkbox" id="c-42513801" checked=""/><div class="controls bullet"><span class="by">paradite</span><span>|</span><a href="#42518134">prev</a><span>|</span><a href="#42515037">next</a><span>|</span><label class="collapse" for="c-42513801">[-]</label><label class="expand" for="c-42513801">[1 more]</label></div><br/><div class="children"><div class="content">Typically you don&#x27;t need to worry about leap seconds on server because AWS or GCP will help you handle it.<p>You just need to read the docs to understand their behavior. Some will smooth it out for you, some will jump for you. It would be a problem if you have 3rd party integrations and you rely on their timestamp.</div><br/></div></div><div id="42515037" class="c"><input type="checkbox" id="c-42515037" checked=""/><div class="controls bullet"><span class="by">nubinetwork</span><span>|</span><a href="#42513801">prev</a><span>|</span><a href="#42513018">next</a><span>|</span><label class="collapse" for="c-42515037">[-]</label><label class="expand" for="c-42515037">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this the point to the tz files shipped on every linux system?  If the crappy online converters only do the basic math formula, of course it&#x27;s going to be off a little...</div><br/></div></div><div id="42513018" class="c"><input type="checkbox" id="c-42513018" checked=""/><div class="controls bullet"><span class="by">quotemstr</span><span>|</span><a href="#42515037">prev</a><span>|</span><a href="#42516748">next</a><span>|</span><label class="collapse" for="c-42513018">[-]</label><label class="expand" for="c-42513018">[15 more]</label></div><br/><div class="children"><div class="content">So what if leap seconds make the epoch 29 seconds longer-ago than date +%s would suggest? It matters a lot less than the fact that we all agree on some number N to represent the current time. That we have -29 fictional seconds doesn&#x27;t affect the real world in any way. What are you going to do, run missile targeting routines on targets 30 years ago? I mean, I&#x27;m as much for abolish leap seconds as anyone, but I don&#x27;t think it&#x27;s <i>useful</i> --- even if it&#x27;s pedantically correct --- to highlight the time discrepancy.</div><br/><div id="42515787" class="c"><input type="checkbox" id="c-42515787" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42513018">parent</a><span>|</span><a href="#42513185">next</a><span>|</span><label class="collapse" for="c-42515787">[-]</label><label class="expand" for="c-42515787">[1 more]</label></div><br/><div class="children"><div class="content">One could imagine a scenario where you’re looking at the duration of some brief event by looking at the start and end times. If that’s interval happens to span a leap second then the duration could be significantly different depending on how your timestamps handled it.<p>Much more important, though, is how it affects the future. The fact that timestamps in the past might be a few seconds different from the straightforward “now minus N seconds” calculation is mostly a curiosity. The fact that clocks might all have to shift by one more second at time point in the future is more significant. There are plenty of real-world scenarios where that needs some substantial effort to account for.</div><br/></div></div><div id="42513185" class="c"><input type="checkbox" id="c-42513185" checked=""/><div class="controls bullet"><span class="by">chrchr</span><span>|</span><a href="#42513018">parent</a><span>|</span><a href="#42515787">prev</a><span>|</span><a href="#42516748">next</a><span>|</span><label class="collapse" for="c-42513185">[-]</label><label class="expand" for="c-42513185">[13 more]</label></div><br/><div class="children"><div class="content">It matters for some things. Without those fictional leap seconds, the sun would be 29 seconds out of position at local noon, for instance.</div><br/><div id="42513226" class="c"><input type="checkbox" id="c-42513226" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42513185">parent</a><span>|</span><a href="#42516748">next</a><span>|</span><label class="collapse" for="c-42513226">[-]</label><label class="expand" for="c-42513226">[12 more]</label></div><br/><div class="children"><div class="content">That does not matter at all to anyone.</div><br/><div id="42513978" class="c"><input type="checkbox" id="c-42513978" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42513226">parent</a><span>|</span><a href="#42513407">next</a><span>|</span><label class="collapse" for="c-42513978">[-]</label><label class="expand" for="c-42513978">[10 more]</label></div><br/><div class="children"><div class="content">Did you ask everyone?<p>It most certainly matters to a lot of people. It sounds like you&#x27;ve never met those people.</div><br/><div id="42514442" class="c"><input type="checkbox" id="c-42514442" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42513978">parent</a><span>|</span><a href="#42513407">next</a><span>|</span><label class="collapse" for="c-42514442">[-]</label><label class="expand" for="c-42514442">[9 more]</label></div><br/><div class="children"><div class="content">For practically everyone the local civil time is off from local solar time more than 30 seconds, because very few people live at the exact longitude that corresponds to their time zone. And then you got DST which throws the local time even more off.<p>This is ignoring the fact that due equation of time, solar noon naturally shifts around tens of minutes over the course of the year.<p>To drive the point, for example local mean solar time at Buckingham palace is already more than 30 seconds off from Greenwich time.</div><br/><div id="42514954" class="c"><input type="checkbox" id="c-42514954" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42514442">parent</a><span>|</span><a href="#42514630">next</a><span>|</span><label class="collapse" for="c-42514954">[-]</label><label class="expand" for="c-42514954">[1 more]</label></div><br/><div class="children"><div class="content">The point is, since astronomical &quot;time&quot; isn&#x27;t exactly on constant multiple of cesium standard seconds, and it even fluctuates due to astrophysical phenomena, applications that concern astro-kineti-geometrical reality has to use the tarnished timescale to match the motion of the planet we&#x27;re on rather than following a monotonic counter pointed at a glass vial.<p>It is up to you to keep TAI for everything and let your representations of physical coordinates drift away into the galaxy or something, but that&#x27;s not the majority choice. Overwhelming majority choose UTC time.<p>TAI is still nice for many high precision applications, weirdly including a lot of precisely those geo-spatial use cases, so we have both.</div><br/></div></div><div id="42514630" class="c"><input type="checkbox" id="c-42514630" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42514442">parent</a><span>|</span><a href="#42514954">prev</a><span>|</span><a href="#42517782">next</a><span>|</span><label class="collapse" for="c-42514630">[-]</label><label class="expand" for="c-42514630">[6 more]</label></div><br/><div class="children"><div class="content">Sure, but that doesn&#x27;t mean that we invented and practise leap seconds for the sheer fun of it.<p>There&#x27;s very good reasons that are important behind why we try and keep UTC near UT1, so saying &quot;it doesn&#x27;t matter to anyone&quot; without even entertaining that some people might care isn&#x27;t very constructive.</div><br/><div id="42515983" class="c"><input type="checkbox" id="c-42515983" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42514630">parent</a><span>|</span><a href="#42515188">next</a><span>|</span><label class="collapse" for="c-42515983">[-]</label><label class="expand" for="c-42515983">[4 more]</label></div><br/><div class="children"><div class="content">UTC, and leap seconds, originate from (military) navies of the world, with the intent of supporting celestial navigation. It is already dubious how useful leap seconds were for that use, and much more dubious is its use as <i>civil</i> timescale.</div><br/><div id="42516472" class="c"><input type="checkbox" id="c-42516472" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42515983">parent</a><span>|</span><a href="#42515188">next</a><span>|</span><label class="collapse" for="c-42516472">[-]</label><label class="expand" for="c-42516472">[3 more]</label></div><br/><div class="children"><div class="content">We have leap seconds to save us from having leap minutes, or leap hours.<p>Generally, it&#x27;s useful for midnight to be at night, and midday during the day. UT1 is not regular, so you need some form of correction. Then the debate is about how big and how often.</div><br/><div id="42517509" class="c"><input type="checkbox" id="c-42517509" checked=""/><div class="controls bullet"><span class="by">recursivecaveat</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42516472">parent</a><span>|</span><a href="#42517795">next</a><span>|</span><label class="collapse" for="c-42517509">[-]</label><label class="expand" for="c-42517509">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need leap minutes. Nobody cares if the sun is off by minutes, it already is anyways thanks to timezones. You don&#x27;t even need leap hours. If in <i>seven thousand years</i> no-one has done a 1 time correction, you can just move the timezones over 1 space, like computers do all the time for political reasons.</div><br/></div></div><div id="42517795" class="c"><input type="checkbox" id="c-42517795" checked=""/><div class="controls bullet"><span class="by">philwelch</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42516472">parent</a><span>|</span><a href="#42517509">prev</a><span>|</span><a href="#42515188">next</a><span>|</span><label class="collapse" for="c-42517795">[-]</label><label class="expand" for="c-42517795">[1 more]</label></div><br/><div class="children"><div class="content">It’s going to be multiple centuries until the cumulative leap seconds add up to 30 minutes, and by that point, a majority of the human population is likely to be living off the earth anyway.</div><br/></div></div></div></div></div></div><div id="42515188" class="c"><input type="checkbox" id="c-42515188" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42514630">parent</a><span>|</span><a href="#42515983">prev</a><span>|</span><a href="#42517782">next</a><span>|</span><label class="collapse" for="c-42515188">[-]</label><label class="expand" for="c-42515188">[1 more]</label></div><br/><div class="children"><div class="content">Okay, I’ll bite. Who does this matter to, and why?</div><br/></div></div></div></div><div id="42517782" class="c"><input type="checkbox" id="c-42517782" checked=""/><div class="controls bullet"><span class="by">philwelch</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42514442">parent</a><span>|</span><a href="#42514630">prev</a><span>|</span><a href="#42513407">next</a><span>|</span><label class="collapse" for="c-42517782">[-]</label><label class="expand" for="c-42517782">[1 more]</label></div><br/><div class="children"><div class="content">Also, some of the most populous time zones in the world, such as the European and Chinese time zones, are multiple hours across.</div><br/></div></div></div></div></div></div><div id="42513407" class="c"><input type="checkbox" id="c-42513407" checked=""/><div class="controls bullet"><span class="by">porridgeraisin</span><span>|</span><a href="#42513018">root</a><span>|</span><a href="#42513226">parent</a><span>|</span><a href="#42513978">prev</a><span>|</span><a href="#42516748">next</a><span>|</span><label class="collapse" for="c-42513407">[-]</label><label class="expand" for="c-42513407">[1 more]</label></div><br/><div class="children"><div class="content">Yeah. &quot;Exact time&quot; people are a bit like &quot;entropy&quot; people in cryptography. Constantly arguing about the perfect random number when nobody cares.</div><br/></div></div></div></div></div></div></div></div><div id="42516748" class="c"><input type="checkbox" id="c-42516748" checked=""/><div class="controls bullet"><span class="by">ck2</span><span>|</span><a href="#42513018">prev</a><span>|</span><a href="#42512959">next</a><span>|</span><label class="collapse" for="c-42516748">[-]</label><label class="expand" for="c-42516748">[1 more]</label></div><br/><div class="children"><div class="content">I would not be on a plane or maybe even an elevator mid-January 2038<p>if it can do this to cloudflare, imagine everything left on legacy signed 32bit integers<p><a href="https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;how-and-why-the-leap-second-affected-cloudflare-dns&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;how-and-why-the-leap-second-affe...</a></div><br/></div></div><div id="42512959" class="c"><input type="checkbox" id="c-42512959" checked=""/><div class="controls bullet"><span class="by">computator</span><span>|</span><a href="#42516748">prev</a><span>|</span><label class="collapse" for="c-42512959">[-]</label><label class="expand" for="c-42512959">[18 more]</label></div><br/><div class="children"><div class="content">&gt; <i>POSIX time, also known as Unix time, is the number of seconds since the Unix epoch, which was 1970-01-01 at 00:00:00. … I think there should be a concise explanation of the problem.</i><p>I don’t think that the definition that software engineers believe is wrong or misleading at all. It really is the number of seconds that have passed since Unix’s “beginning of time”.<p>But to address the problem the article brings up, here’s my attempt at a concise definition:<p>POSIX time, also known as Unix time, is the number of seconds since the Unix epoch, which was 1970-01-01 at 00:00:00, and does not include leap seconds that have been added periodically since the 1970s.</div><br/><div id="42513097" class="c"><input type="checkbox" id="c-42513097" checked=""/><div class="controls bullet"><span class="by">jodrellblank</span><span>|</span><a href="#42512959">parent</a><span>|</span><a href="#42513284">next</a><span>|</span><label class="collapse" for="c-42513097">[-]</label><label class="expand" for="c-42513097">[1 more]</label></div><br/><div class="children"><div class="content">Atomic clocks measure time passing.<p>Seconds are a fraction of a day which is Earth rotating, and count 86400 seconds and then roll over to the next day, but Earth&#x27;s rotating speed changes so how much &quot;time passing&quot; is in 86400 seconds varies a little. Clocks based on Earth rotating get out of sync with atomic clocks.<p>Leap seconds go into day-rotation clocks so their date matches the atomic clock measure of how much time has passed - they are time which has actually passed and ordinary time has not accounted for; so it&#x27;s inconsistant for you to say &quot;Unix time really is the number of seconds that have passed&quot; and &quot;does not include leap seconds&quot; because those leap seconds are time that has passed.</div><br/></div></div><div id="42513284" class="c"><input type="checkbox" id="c-42513284" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#42512959">parent</a><span>|</span><a href="#42513097">prev</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42513284">[-]</label><label class="expand" for="c-42513284">[8 more]</label></div><br/><div class="children"><div class="content">You’re wrong and have the situation exactly backwards.<p>If a day has 86,401 or 86,399 seconds due to leap seconds, POSIX time still advances by exactly 86,400.<p>If you had a perfectly accurate stopwatch running since 1970-01-01 the number it shows now would be different from POSIX time.</div><br/><div id="42513335" class="c"><input type="checkbox" id="c-42513335" checked=""/><div class="controls bullet"><span class="by">quasarj</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513284">parent</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42513335">[-]</label><label class="expand" for="c-42513335">[7 more]</label></div><br/><div class="children"><div class="content">Wait, why would it be different?</div><br/><div id="42513470" class="c"><input type="checkbox" id="c-42513470" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513335">parent</a><span>|</span><a href="#42513985">next</a><span>|</span><label class="collapse" for="c-42513470">[-]</label><label class="expand" for="c-42513470">[1 more]</label></div><br/><div class="children"><div class="content">Because a day, that is the time between midnight UTC and midnight UTC, is not always exactly 86400 seconds, due to leap seconds. But Unix time always increases by exactly 86400.</div><br/></div></div><div id="42513985" class="c"><input type="checkbox" id="c-42513985" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513335">parent</a><span>|</span><a href="#42513470">prev</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42513985">[-]</label><label class="expand" for="c-42513985">[5 more]</label></div><br/><div class="children"><div class="content">Unix time is <i>not monatomic</i>. It <i>sometimes goes backwards</i>.</div><br/><div id="42514581" class="c"><input type="checkbox" id="c-42514581" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513985">parent</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42514581">[-]</label><label class="expand" for="c-42514581">[4 more]</label></div><br/><div class="children"><div class="content">Strictly speaking Unix time is monotonic, because it counts integer number of seconds and it does not go backwards, it only repeats during leap seconds.</div><br/><div id="42514675" class="c"><input type="checkbox" id="c-42514675" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42514581">parent</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42514675">[-]</label><label class="expand" for="c-42514675">[3 more]</label></div><br/><div class="children"><div class="content">This feels like semantics. If a counter repeats a value, it&#x27;s effectively gone backwards and by definition is not monatomic.<p>A delta between two monatomic values should always be non-negative. This is not true for Unix time.</div><br/><div id="42515817" class="c"><input type="checkbox" id="c-42515817" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42514675">parent</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42515817">[-]</label><label class="expand" for="c-42515817">[2 more]</label></div><br/><div class="children"><div class="content">“Monotonic” means non-decreasing (or non-increasing if you’re going the other way). Values are allowed to repeat. The term you’re looking for is “strictly increasing.”</div><br/><div id="42516281" class="c"><input type="checkbox" id="c-42516281" checked=""/><div class="controls bullet"><span class="by">growse</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42515817">parent</a><span>|</span><a href="#42513186">next</a><span>|</span><label class="collapse" for="c-42516281">[-]</label><label class="expand" for="c-42516281">[1 more]</label></div><br/><div class="children"><div class="content">I guess this hinges on whether you think Unix time is an integer or a float. If you think it&#x27;s just an integer, then yes, you can&#x27;t get a negative delta.<p>If, however, you think it&#x27;s a float, then you can.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="42513186" class="c"><input type="checkbox" id="c-42513186" checked=""/><div class="controls bullet"><span class="by">Calamityjanitor</span><span>|</span><a href="#42512959">parent</a><span>|</span><a href="#42513284">prev</a><span>|</span><a href="#42513066">next</a><span>|</span><label class="collapse" for="c-42513186">[-]</label><label class="expand" for="c-42513186">[7 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;re describing the exact confusion that developers have. Unix time doesn&#x27;t include leap seconds, but they are real seconds that happened. Consider a system that counts days since 1970, but ignores leap years so doesn&#x27;t count Feb 29. Those 29ths were actual days, just recorded strangely in the calendar. A system that ignores them is going to give you an inaccurate number of days since 1970.</div><br/><div id="42513201" class="c"><input type="checkbox" id="c-42513201" checked=""/><div class="controls bullet"><span class="by">quasarj</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513186">parent</a><span>|</span><a href="#42514612">next</a><span>|</span><label class="collapse" for="c-42513201">[-]</label><label class="expand" for="c-42513201">[5 more]</label></div><br/><div class="children"><div class="content">Are you sure they actually happened? as you say, at least one of us is confused. My understanding is that the added leap seconds never happened, they are just inserted to make the dates line up nicely. Perhaps this depends on the definition of second?</div><br/><div id="42515860" class="c"><input type="checkbox" id="c-42515860" checked=""/><div class="controls bullet"><span class="by">wat10000</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513201">parent</a><span>|</span><a href="#42513236">next</a><span>|</span><label class="collapse" for="c-42515860">[-]</label><label class="expand" for="c-42515860">[1 more]</label></div><br/><div class="children"><div class="content">Leap seconds are exactly analogous to leap days. One additional unit is added to the calendar, shifting everything down. For leap days we add a day 29 when normally we wrap after 28. For leap seconds we add second 60 when normally we wrap after 59.<p>Imagine a timestamp defined as days since January 1, 1970, except that it ignores leap years and says all years have 365 days. Leap days are handled by giving February 29 the same day number as February 28.<p>If you do basic arithmetic with these timestamps to answer the question, “how many days has it been since Nixon resigned? then you will get the wrong number. You’ll calculate N, but the sun has in fact risen N+13 times since that day.<p>Same thing with leap seconds. If you calculate the number of seconds since Nixon resigned by subtracting POSIX timestamps, you’ll come up short. The actual time since that event is 20-some seconds more than the value you calculate.</div><br/></div></div><div id="42513236" class="c"><input type="checkbox" id="c-42513236" checked=""/><div class="controls bullet"><span class="by">Calamityjanitor</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513201">parent</a><span>|</span><a href="#42515860">prev</a><span>|</span><a href="#42514612">next</a><span>|</span><label class="collapse" for="c-42513236">[-]</label><label class="expand" for="c-42513236">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m honestly just diving into this now after reading the article, and not a total expert. Wikipedia has a table of a leap second happening across TAI (atomic clock that purely counts seconds) UTC, and unix timestamps according to POSIX: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_time#Leap_seconds" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unix_time#Leap_seconds</a><p>It works out to be that unix time spits out the same integer for 2 seconds.</div><br/><div id="42513340" class="c"><input type="checkbox" id="c-42513340" checked=""/><div class="controls bullet"><span class="by">quasarj</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513236">parent</a><span>|</span><a href="#42514612">next</a><span>|</span><label class="collapse" for="c-42513340">[-]</label><label class="expand" for="c-42513340">[2 more]</label></div><br/><div class="children"><div class="content">&quot;spits out&quot; as in, when you try to convert to it - isn&#x27;t that precisely because that second second never happened, so it MUST output a repeat?</div><br/><div id="42513796" class="c"><input type="checkbox" id="c-42513796" checked=""/><div class="controls bullet"><span class="by">jacobgkau</span><span>|</span><a href="#42512959">root</a><span>|</span><a href="#42513340">parent</a><span>|</span><a href="#42514612">next</a><span>|</span><label class="collapse" for="c-42513796">[-]</label><label class="expand" for="c-42513796">[1 more]</label></div><br/><div class="children"><div class="content">I thought you were wrong because if a timestamp is being repeated, that means two real seconds (that actually happened) got the same timestamp.<p>However, after looking hard at the tables in that Wikipedia article comparing TAI, UTC, and Unix time, I think you might actually be correct-- TAI is the atomic time (that counts &quot;real seconds that actually happened&quot;), and it gets out of sync with &quot;observed solar time.&quot; The leap seconds are added into UTC, but ultimately ignored in Unix time.* ~~So Unix time is actually more accurate to &quot;real time&quot; as measured atomically than solar UTC is.~~<p>The only point of debate is that most people consider UTC to be &quot;real time,&quot; but that&#x27;s physically not the case in terms of &quot;seconds that actually happened.&quot; It&#x27;s only the case in terms of &quot;the second that high noon hits.&quot; (For anyone wondering, we can&#x27;t simply fix this by redefining a second to be an actual 24&#x2F;60&#x2F;60 division of a day because our orbit is apparently irregular and generally slowing down over time, which is why UTC has to use leap seconds in order to maintain our social construct of &quot;noon == sun at the highest point&quot; while our atomic clocks are able to measure time that&#x27;s actually passed.)<p>*Edit: Or maybe my initial intuition was right. The table does show that one Unix timestamp ends up representing two TAI (real) timestamps. UTC inserts an extra second, while Unix time repeats a second, to handle the same phenomenon. The table is bolded weirdly (and I&#x27;m assuming it&#x27;s correct while it may not be); and beyond that, I&#x27;m not sure if this confusion is actually the topic of conversation in the article, or if it&#x27;s just too late in the night to be pondering this.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42513066" class="c"><input type="checkbox" id="c-42513066" checked=""/><div class="controls bullet"><span class="by">juped</span><span>|</span><a href="#42512959">parent</a><span>|</span><a href="#42513186">prev</a><span>|</span><label class="collapse" for="c-42513066">[-]</label><label class="expand" for="c-42513066">[1 more]</label></div><br/><div class="children"><div class="content">It really is the number of seconds that have passed since Unix&#x27;s &quot;beginning of time&quot;, <i>minus twenty-nine</i>. Some UTC days have 86401 seconds, Unix assumes they had 86400.<p>It&#x27;s wrong and misleading in precisely the way you (and other commenters here) were wrong and misled, so it seems like that&#x27;s a fair characterization.</div><br/></div></div></div></div></div></div></div></div></div></body></html>