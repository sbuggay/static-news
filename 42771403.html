<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737450056386" as="style"/><link rel="stylesheet" href="styles.css?v=1737450056386"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/kronotop/kronotop">Kronotop: Redis-compatible, transactional document store backed by FoundationDB</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>mastabadtomm</span> | <span>10 comments</span></div><br/><div><div id="42776733" class="c"><input type="checkbox" id="c-42776733" checked=""/><div class="controls bullet"><span class="by">NathanFlurry</span><span>|</span><a href="#42775445">next</a><span>|</span><label class="collapse" for="c-42776733">[-]</label><label class="expand" for="c-42776733">[1 more]</label></div><br/><div class="children"><div class="content">What fascinates me most is not the protocol itself, but the potential to add a thin scripting layer (similar to Redis&#x27; EVAL or the newer modules API) to enable complex logic with atomic transactions and high QPS.<p>In the past, we relied heavily on using EVAL[SHA] with 200+ loc Lua scripts in order to implement high throughput, atomic transactions for realtime systems. We also used the JSON &amp; Redis Query Language (previous named &quot;full-text search&quot;) to build a more maintainable &amp; strongly consistent system than using raw key-values and manually building secondary indexes.<p>We’ve since migrated to a native FoundationDB and SQLite hybrid setup, but this approach would have been really helpful for early-stage prototyping with a higher performance ceiling (thanks to FDB sharding) than a single-node Redis with AOF.<p>Related: Redis Cluster is a world of pain when handling clustering keys and cross-node queries and orchestration. DragonflyDB is chasing after the market of companies considering sharding Redis because of performance issues by providing better single-node performance. There&#x27;s probably an alternative approach that could work by using an architecture like this.</div><br/></div></div><div id="42775445" class="c"><input type="checkbox" id="c-42775445" checked=""/><div class="controls bullet"><span class="by">hobobaggins</span><span>|</span><a href="#42776733">prev</a><span>|</span><a href="#42775859">next</a><span>|</span><label class="collapse" for="c-42775445">[-]</label><label class="expand" for="c-42775445">[2 more]</label></div><br/><div class="children"><div class="content">If only it wasn&#x27;t Java.. but it looks very cool anyway.</div><br/><div id="42777325" class="c"><input type="checkbox" id="c-42777325" checked=""/><div class="controls bullet"><span class="by">anonzzzies</span><span>|</span><a href="#42775445">parent</a><span>|</span><a href="#42775859">next</a><span>|</span><label class="collapse" for="c-42777325">[-]</label><label class="expand" for="c-42777325">[1 more]</label></div><br/><div class="children"><div class="content">I was discussing this with a colleague; Java is supposed to be some of the most performant runtimes and yet, every time when someone introduces anything in Java, literally everyone tech in the company goes &#x27;aw shit no Java please&#x27;. You can show me a running top processlist without the names of the processes and i&#x27;ll point out the Java processes to you. And it seems that companies can make viable businesses around porting to Rust&#x2F;Go&#x2F;C++ of (Apache) Java projects because they are so resource intensive and slow (unless you spin up 10000 nodes). Why is anyone using it still outside legacy?</div><br/></div></div></div></div><div id="42775859" class="c"><input type="checkbox" id="c-42775859" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#42775445">prev</a><span>|</span><a href="#42775969">next</a><span>|</span><label class="collapse" for="c-42775859">[-]</label><label class="expand" for="c-42775859">[1 more]</label></div><br/><div class="children"><div class="content">The awesome thing about Redis is that it&#x27;s less a &quot;cache&quot; and more a set of fast network-shared, generic data structures. To have that then also be transactional and durable would be really handy sometimes.</div><br/></div></div><div id="42775969" class="c"><input type="checkbox" id="c-42775969" checked=""/><div class="controls bullet"><span class="by">tasn</span><span>|</span><a href="#42775859">prev</a><span>|</span><a href="#42776102">next</a><span>|</span><label class="collapse" for="c-42775969">[-]</label><label class="expand" for="c-42775969">[2 more]</label></div><br/><div class="children"><div class="content">One thing I wish redis had is the ability to extend itself beyond its memory capacity. So if I run out of memory, just move some stuff to disk. Or if I&#x27;m using persisted redis, just free up some memory.<p>Maybe this is it.</div><br/><div id="42776647" class="c"><input type="checkbox" id="c-42776647" checked=""/><div class="controls bullet"><span class="by">NathanFlurry</span><span>|</span><a href="#42775969">parent</a><span>|</span><a href="#42776102">next</a><span>|</span><label class="collapse" for="c-42776647">[-]</label><label class="expand" for="c-42776647">[1 more]</label></div><br/><div class="children"><div class="content">Redis on Flash [1] is one of the key ways Redis gets people on their enterprise plan (esp before the SSPL relicense). I&#x27;ve spoken with their enterprise team before; it&#x27;s ungodly expensive, even compared to AWS MemoryDB (wish I had the numbers on hand).<p>[1] <a href="https:&#x2F;&#x2F;redis.io&#x2F;resources&#x2F;building-large-databases-redis-enterprise-flash&#x2F;" rel="nofollow">https:&#x2F;&#x2F;redis.io&#x2F;resources&#x2F;building-large-databases-redis-en...</a></div><br/></div></div></div></div><div id="42776102" class="c"><input type="checkbox" id="c-42776102" checked=""/><div class="controls bullet"><span class="by">dangoodmanUT</span><span>|</span><a href="#42775969">prev</a><span>|</span><label class="collapse" for="c-42776102">[-]</label><label class="expand" for="c-42776102">[3 more]</label></div><br/><div class="children"><div class="content">Damnit this has been in my ideas list for a long time</div><br/><div id="42776108" class="c"><input type="checkbox" id="c-42776108" checked=""/><div class="controls bullet"><span class="by">dangoodmanUT</span><span>|</span><a href="#42776102">parent</a><span>|</span><label class="collapse" for="c-42776108">[-]</label><label class="expand" for="c-42776108">[2 more]</label></div><br/><div class="children"><div class="content">Oh it’s in Java we’re good</div><br/><div id="42776656" class="c"><input type="checkbox" id="c-42776656" checked=""/><div class="controls bullet"><span class="by">NathanFlurry</span><span>|</span><a href="#42776102">root</a><span>|</span><a href="#42776108">parent</a><span>|</span><label class="collapse" for="c-42776656">[-]</label><label class="expand" for="c-42776656">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a version written in Go, though clearly just a hobbyist project: <a href="https:&#x2F;&#x2F;forums.foundationdb.org&#x2F;t&#x2F;introducing-the-redis-protocol-fdb-gateway&#x2F;1320" rel="nofollow">https:&#x2F;&#x2F;forums.foundationdb.org&#x2F;t&#x2F;introducing-the-redis-prot...</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>