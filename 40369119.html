<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715850055887" as="style"/><link rel="stylesheet" href="styles.css?v=1715850055887"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nondeterministic.computer/@martin/112444389342113780">Starting emails with &quot;BEGIN PGP MESSAGE&quot; will fool the filter</a> <span class="domain">(<a href="https://nondeterministic.computer">nondeterministic.computer</a>)</span></div><div class="subtext"><span>ColinWright</span> | <span>61 comments</span></div><br/><div><div id="40376371" class="c"><input type="checkbox" id="c-40376371" checked=""/><div class="controls bullet"><span class="by">dkdbejwi383</span><span>|</span><a href="#40376277">next</a><span>|</span><label class="collapse" for="c-40376371">[-]</label><label class="expand" for="c-40376371">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of a bug from the early 00s in a bunch of router firmware, where the router would crash&#x2F;reboot on receiving a malformed &quot;DCC SEND&quot; message, so people would spam &quot;DCC SEND ANYLONGSTRINGHAHAPWNED&quot; in large IRC channels and watch as half the participants dropped.</div><br/></div></div><div id="40376277" class="c"><input type="checkbox" id="c-40376277" checked=""/><div class="controls bullet"><span class="by">berkes</span><span>|</span><a href="#40376371">prev</a><span>|</span><a href="#40374510">next</a><span>|</span><label class="collapse" for="c-40376277">[-]</label><label class="expand" for="c-40376277">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve never really understood how this &#x27;urls via our own redirector&#x27; really works, if at all.<p>I can imagine some reasons why it would work better than merely checking the URLs when filtering: not rewriting but simply checking and scoring against other spam rules. But also see reasons why it secures less well.<p>Pro: you can block URLs post-delivery. E.g. an advisary changes the link to malware or phishing after some time&#x2F;n requests&#x2F;based on user agent.
Con: all encryption, including DKIM, GPG etc break.<p>Edit: to clarify why I don&#x27;t understand why this works: and advisary can still do the same: i.e. serve an innocent page to the checker but then a bad webpage to the actual visitor. Not trivial, but not hard either.<p>A good middle ground might be to scan URLs on the mailserver against lists and maybe open the page and scan its content before delivering.
Then have <i>the client</i> intercept links and redirect them through another on-demand checker?<p>Because obviously, training people to &quot;not click links in emails&quot; or use only plain text or both, hasn&#x27;t worked in the last decades.</div><br/></div></div><div id="40374510" class="c"><input type="checkbox" id="c-40374510" checked=""/><div class="controls bullet"><span class="by">acidx</span><span>|</span><a href="#40376277">prev</a><span>|</span><a href="#40375829">next</a><span>|</span><label class="collapse" for="c-40374510">[-]</label><label class="expand" for="c-40374510">[3 more]</label></div><br/><div class="children"><div class="content">Details are hazy as this was a long time ago, but at some point you could make parts of messages not render in Outlook and Outlook Express by writing &quot;begin  something&quot; (two spaces after &quot;begin&quot;) by itself in a single line.  Outlook would thing that it was the start of an uuencoded block and not render anything after that.<p>I remember annoying friends in a mailing list by quoting emails with &quot;begin  quote from Person Name:&quot; :)</div><br/><div id="40375878" class="c"><input type="checkbox" id="c-40375878" checked=""/><div class="controls bullet"><span class="by">gpderetta</span><span>|</span><a href="#40374510">parent</a><span>|</span><a href="#40375829">next</a><span>|</span><label class="collapse" for="c-40375878">[-]</label><label class="expand" for="c-40375878">[2 more]</label></div><br/><div class="children"><div class="content">Yes! And I remember that the official recommendation from MS was &quot;do not write begin at the start of a line&quot;.</div><br/><div id="40376025" class="c"><input type="checkbox" id="c-40376025" checked=""/><div class="controls bullet"><span class="by">ale42</span><span>|</span><a href="#40374510">root</a><span>|</span><a href="#40375878">parent</a><span>|</span><a href="#40375829">next</a><span>|</span><label class="collapse" for="c-40376025">[-]</label><label class="expand" for="c-40376025">[1 more]</label></div><br/><div class="children"><div class="content">Typical MS...</div><br/></div></div></div></div></div></div><div id="40375829" class="c"><input type="checkbox" id="c-40375829" checked=""/><div class="controls bullet"><span class="by">DeathArrow</span><span>|</span><a href="#40374510">prev</a><span>|</span><a href="#40370015">next</a><span>|</span><label class="collapse" for="c-40375829">[-]</label><label class="expand" for="c-40375829">[1 more]</label></div><br/><div class="children"><div class="content">It might fool the University filter but it will trigger the NSA filter.</div><br/></div></div><div id="40370015" class="c"><input type="checkbox" id="c-40370015" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#40375829">prev</a><span>|</span><a href="#40375772">next</a><span>|</span><label class="collapse" for="c-40370015">[-]</label><label class="expand" for="c-40370015">[22 more]</label></div><br/><div class="children"><div class="content">In my experience, the vast majority of corporate mail filters ban certain file types based on name extensions.<p>Fewer, but some, inspect files to deduce their type.<p>None care about encrypted zips with the file renamed to a common extension (encrypted zip manifests are unencrypted, so the file names are still visible).</div><br/><div id="40371606" class="c"><input type="checkbox" id="c-40371606" checked=""/><div class="controls bullet"><span class="by">mrgoldenbrown</span><span>|</span><a href="#40370015">parent</a><span>|</span><a href="#40370513">next</a><span>|</span><label class="collapse" for="c-40371606">[-]</label><label class="expand" for="c-40371606">[4 more]</label></div><br/><div class="children"><div class="content">Our mail filter inspected zip files even if you renamed them to .txt or jpg, and if it couldn&#x27;t check the contents because of encryption it would just delete the whole zip.  It would also look for data that might be PCI related and flag that as well.</div><br/><div id="40374305" class="c"><input type="checkbox" id="c-40374305" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371606">parent</a><span>|</span><a href="#40373941">next</a><span>|</span><label class="collapse" for="c-40374305">[-]</label><label class="expand" for="c-40374305">[2 more]</label></div><br/><div class="children"><div class="content">Another thing I&#x27;ve heard of is that commonly people include the password for the encrypted zip inside the email, so email filters have learned to try to decrypt the zip using every single word in the original email.</div><br/><div id="40375062" class="c"><input type="checkbox" id="c-40375062" checked=""/><div class="controls bullet"><span class="by">srockets</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40374305">parent</a><span>|</span><a href="#40373941">next</a><span>|</span><label class="collapse" for="c-40375062">[-]</label><label class="expand" for="c-40375062">[1 more]</label></div><br/><div class="children"><div class="content">Then I wouldn’t dare emailing a zip bomb with a message containing the password and an instruction not to try and unzip that file.</div><br/></div></div></div></div><div id="40373941" class="c"><input type="checkbox" id="c-40373941" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371606">parent</a><span>|</span><a href="#40374305">prev</a><span>|</span><a href="#40370513">next</a><span>|</span><label class="collapse" for="c-40373941">[-]</label><label class="expand" for="c-40373941">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s when you start using the steganography.</div><br/></div></div></div></div><div id="40370513" class="c"><input type="checkbox" id="c-40370513" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#40370015">parent</a><span>|</span><a href="#40371606">prev</a><span>|</span><a href="#40372185">next</a><span>|</span><label class="collapse" for="c-40370513">[-]</label><label class="expand" for="c-40370513">[10 more]</label></div><br/><div class="children"><div class="content">And many people have learned to bypass these filters by renaming extensions. You can always zip things up or just rename foo.py to foo.py.pdf<p>But I understand that there is still reason to filter filetypes. Apparently some programs will run programs if they see certain filetypes... Here&#x27;s a recent telegram exploit where the user did have to click on the file <a href="https:&#x2F;&#x2F;www.bitdefender.com&#x2F;blog&#x2F;hotforsecurity&#x2F;telegram-patches-zero-day-python-script-vulnerability-in-windows-client&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.bitdefender.com&#x2F;blog&#x2F;hotforsecurity&#x2F;telegram-pat...</a></div><br/><div id="40371263" class="c"><input type="checkbox" id="c-40371263" checked=""/><div class="controls bullet"><span class="by">jerf</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40370513">parent</a><span>|</span><a href="#40375130">next</a><span>|</span><label class="collapse" for="c-40371263">[-]</label><label class="expand" for="c-40371263">[4 more]</label></div><br/><div class="children"><div class="content">Yes, it isn&#x27;t just voodoo, &quot;properly&quot; labelled file types can carry dangers that &quot;improperly&quot; labelled ones do not. For example, if someone wants you to open a Word document with a bad macro, getting you to open it may be no big deal, but getting someone to &quot;OK, first save it, then navigate to it with Explorer, then change Explorer to &#x27;Show Extensions&#x27;, then rename it to this, then open it&quot; is likely to either set off some alarm bells, or simply be impossible for the technically-unsophisticated target.<p>Even if it is the same bytes nominally behind the &quot;improper&quot; and &quot;proper&quot; metadata labels the security profile of the two bits of content can still be very different.<p>Also, obviously, you&#x27;ll always be able to get things &quot;through&quot; a filter like this. But the value of raising the bar of the exploit is still quite substantial; the &quot;conversion funnel&quot; for such exploits has a very sharp dropoff at every step, including even the first (most such attempts at an exploit even if delivered would not be unpacked by the target user).<p>Systems can generally block encrypted archives, though I suspect that many admins end up leaving that &quot;off&quot;. I&#x27;m not sure it&#x27;s a huge vector in the real world. My impression is that at the moment the most dangerous emails are the <i>social</i> attacks. Though the technical attacks are still non-trivial, still hit people, and technical folks can underestimate the need for non-technical folks to be protected from them.</div><br/><div id="40372421" class="c"><input type="checkbox" id="c-40372421" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371263">parent</a><span>|</span><a href="#40374706">next</a><span>|</span><label class="collapse" for="c-40372421">[-]</label><label class="expand" for="c-40372421">[2 more]</label></div><br/><div class="children"><div class="content">&gt; obviously, you&#x27;ll always be able to get things &quot;through&quot; a filter like this. But the value of raising the bar of the exploit is still quite substantial<p>I just want to stress this part.<p>So many people I talk to will just dismiss things because something isn&#x27;t bullet proof. Like there&#x27;s a binary option. But in reality there&#x27;s a continuum. I&#x27;m the annoying person that tries to get my friends to use Signal, but then say if you won&#x27;t install, that WhatsApp is my next preference. People on Signal forums will say that you shouldn&#x27;t have the ability to delete or nuke conversations (now you can delete some, but only if &lt;3hrs old) BECAUSE you can&#x27;t guarantee the message content wasn&#x27;t copied. Which is just fucking insane. It&#x27;s not incorrect, but you have to think of things probabilistically and security is about creating speedbumps, not bullet proof vests. It is standard practice in many industry settings to remotely wipe a device (and then operate under the assumption that the data was leaked) because if you don&#x27;t, adversaries have infinite time to copy that data rather than finite.<p>In most things, there are no perfect solutions. We have to think probabilistically and the tradeoffs for different environments (which are dynamic). Trying to make perfect solutions are not only unachievable, but even if they were they wouldn&#x27;t last for long.</div><br/><div id="40376057" class="c"><input type="checkbox" id="c-40376057" checked=""/><div class="controls bullet"><span class="by">avar</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40372421">parent</a><span>|</span><a href="#40374706">next</a><span>|</span><label class="collapse" for="c-40376057">[-]</label><label class="expand" for="c-40376057">[1 more]</label></div><br/><div class="children"><div class="content">I hate those &quot;features&quot; because they blur the line of user control. You sent me a message, you shouldn&#x27;t be able to decide to reach into my device and delete it.<p>It&#x27;s okey if there&#x27;s a feature where I can automatically and by default cooperate with your &quot;deletion requests&quot;, but it should be possible to disable it.</div><br/></div></div></div></div><div id="40374706" class="c"><input type="checkbox" id="c-40374706" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371263">parent</a><span>|</span><a href="#40372421">prev</a><span>|</span><a href="#40375130">next</a><span>|</span><label class="collapse" for="c-40374706">[-]</label><label class="expand" for="c-40374706">[1 more]</label></div><br/><div class="children"><div class="content">&#x27;Course, if the email filter keeps blocking legitimate content enough that recipients are <i>accustomed</i> to changing extensions to get around it, then it&#x27;ll all backfire.</div><br/></div></div></div></div><div id="40375130" class="c"><input type="checkbox" id="c-40375130" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40370513">parent</a><span>|</span><a href="#40371263">prev</a><span>|</span><a href="#40371466">next</a><span>|</span><label class="collapse" for="c-40375130">[-]</label><label class="expand" for="c-40375130">[1 more]</label></div><br/><div class="children"><div class="content">People also bypass this stuff by just using gmail or some other provider instead of their work email. We receive the lesson over and over that if you make a system too hard or too inconvenient to use, people will just do their own thing. But we never learn.</div><br/></div></div><div id="40371466" class="c"><input type="checkbox" id="c-40371466" checked=""/><div class="controls bullet"><span class="by">joshspankit</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40370513">parent</a><span>|</span><a href="#40375130">prev</a><span>|</span><a href="#40372185">next</a><span>|</span><label class="collapse" for="c-40371466">[-]</label><label class="expand" for="c-40371466">[4 more]</label></div><br/><div class="children"><div class="content">It’s wild to me that this has been the eventual consequence of file extensions.<p>MS decided that they were too advanced and hid them by default, thousands of companies tried to do automagic things instead of pushing for people to understand extentions, and inevitably the automagic stuff introduced exploits that were far worse than that education.</div><br/><div id="40373987" class="c"><input type="checkbox" id="c-40373987" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371466">parent</a><span>|</span><a href="#40371577">next</a><span>|</span><label class="collapse" for="c-40373987">[-]</label><label class="expand" for="c-40373987">[1 more]</label></div><br/><div class="children"><div class="content">“Pushing for people to understand extensions” only does so much. So many file types are turing complete, and whatever runs them has access to a varying set of resources. That may be intentional, unintentional, by design, or through vulnerabilities.<p>What you need is proper sandboxing of the consuming applications, allowlisting of those applications (instead of “file types” with unspecified client applications), and ideally some type of trust system on top (but we all know how little acceptance stuff like PGP or even S&#x2F;MIME has).<p>In other words: It should be safe for people to open any attachment they get. Think about web browsers: Heavy-hitting vulnerabilities aside, almost every web page you visit is safe for consumption by your computer, because of the browser’s security model. Same with iOS apps.<p>The remaining risk is addressed by provenance&#x2F;trust.</div><br/></div></div><div id="40371577" class="c"><input type="checkbox" id="c-40371577" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371466">parent</a><span>|</span><a href="#40373987">prev</a><span>|</span><a href="#40374678">next</a><span>|</span><label class="collapse" for="c-40371577">[-]</label><label class="expand" for="c-40371577">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s always just prefacing with magic bytes. :)<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;List_of_file_signatures" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;List_of_file_signatures</a></div><br/></div></div><div id="40374678" class="c"><input type="checkbox" id="c-40374678" checked=""/><div class="controls bullet"><span class="by">adolph</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40371466">parent</a><span>|</span><a href="#40371577">prev</a><span>|</span><a href="#40372185">next</a><span>|</span><label class="collapse" for="c-40374678">[-]</label><label class="expand" for="c-40374678">[1 more]</label></div><br/><div class="children"><div class="content">&gt; do automagic things instead of pushing for people to understand extentions<p>A file name extension is a convenience for human-computer communication but insufficient metadata about a file to process without inspection. Examples include BOM, Exif.<p><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;2223882&#x2F;whats-the-difference-between-utf-8-and-utf-8-with-bom" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;2223882&#x2F;whats-the-differ...</a><p><a href="https:&#x2F;&#x2F;www.sciencedirect.com&#x2F;topics&#x2F;computer-science&#x2F;file-system-metadata" rel="nofollow">https:&#x2F;&#x2F;www.sciencedirect.com&#x2F;topics&#x2F;computer-science&#x2F;file-s...</a></div><br/></div></div></div></div></div></div><div id="40372185" class="c"><input type="checkbox" id="c-40372185" checked=""/><div class="controls bullet"><span class="by">WirelessGigabit</span><span>|</span><a href="#40370015">parent</a><span>|</span><a href="#40370513">prev</a><span>|</span><a href="#40373957">next</a><span>|</span><label class="collapse" for="c-40372185">[-]</label><label class="expand" for="c-40372185">[1 more]</label></div><br/><div class="children"><div class="content">This reminds me of working at a company in Brussels during eBays heydays. Their URLs looked like <a href="http:&#x2F;&#x2F;offer.ebay.com&#x2F;ws&#x2F;eBayISAPI.dll" rel="nofollow">http:&#x2F;&#x2F;offer.ebay.com&#x2F;ws&#x2F;eBayISAPI.dll</a>?...<p>And the filter saw .dll and denied my request.</div><br/></div></div><div id="40373957" class="c"><input type="checkbox" id="c-40373957" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#40370015">parent</a><span>|</span><a href="#40372185">prev</a><span>|</span><a href="#40370133">next</a><span>|</span><label class="collapse" for="c-40373957">[-]</label><label class="expand" for="c-40373957">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Fewer, but some, inspect files to deduce their type.<p>I don’t know. That’s extremely error-prone, often easy to fool, and in some cases hardly possible in the first place.<p>I think the only thing that’s really feasible is filtering out known bad things as some mild form of damage reduction.</div><br/><div id="40374282" class="c"><input type="checkbox" id="c-40374282" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40373957">parent</a><span>|</span><a href="#40370133">next</a><span>|</span><label class="collapse" for="c-40374282">[-]</label><label class="expand" for="c-40374282">[3 more]</label></div><br/><div class="children"><div class="content">Gmail uses Magika <a href="https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;magika">https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;magika</a> to deduce file types to determine whether and how to scan email attachments.</div><br/><div id="40374679" class="c"><input type="checkbox" id="c-40374679" checked=""/><div class="controls bullet"><span class="by">anyfoo</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40374282">parent</a><span>|</span><a href="#40370133">next</a><span>|</span><label class="collapse" for="c-40374679">[-]</label><label class="expand" for="c-40374679">[2 more]</label></div><br/><div class="children"><div class="content">Neat. And I think that proves my point…</div><br/><div id="40375963" class="c"><input type="checkbox" id="c-40375963" checked=""/><div class="controls bullet"><span class="by">stuffinmyhand</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40374679">parent</a><span>|</span><a href="#40370133">next</a><span>|</span><label class="collapse" for="c-40375963">[-]</label><label class="expand" for="c-40375963">[1 more]</label></div><br/><div class="children"><div class="content">Especially the &quot;whether&quot; :D</div><br/></div></div></div></div></div></div></div></div><div id="40370133" class="c"><input type="checkbox" id="c-40370133" checked=""/><div class="controls bullet"><span class="by">stvltvs</span><span>|</span><a href="#40370015">parent</a><span>|</span><a href="#40373957">prev</a><span>|</span><a href="#40375772">next</a><span>|</span><label class="collapse" for="c-40370133">[-]</label><label class="expand" for="c-40370133">[2 more]</label></div><br/><div class="children"><div class="content">There is a way to cajole zip into encrypting filenames if this is important enough to put up with unzipping twice. Plus you might get better compression!<p><a href="https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;289999&#x2F;how-to-zip-directory-with-encryption-for-file-names#290088" rel="nofollow">https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;289999&#x2F;how-to-zip-d...</a></div><br/><div id="40371070" class="c"><input type="checkbox" id="c-40371070" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#40370015">root</a><span>|</span><a href="#40370133">parent</a><span>|</span><a href="#40375772">next</a><span>|</span><label class="collapse" for="c-40371070">[-]</label><label class="expand" for="c-40371070">[1 more]</label></div><br/><div class="children"><div class="content">Point! I forgot about that, from my pathological remoted-through-3+-systems consulting days.</div><br/></div></div></div></div></div></div><div id="40375772" class="c"><input type="checkbox" id="c-40375772" checked=""/><div class="controls bullet"><span class="by">reidrac</span><span>|</span><a href="#40370015">prev</a><span>|</span><a href="#40370467">next</a><span>|</span><label class="collapse" for="c-40375772">[-]</label><label class="expand" for="c-40375772">[1 more]</label></div><br/><div class="children"><div class="content">A few times I got spam with all the text in the signature. And I thought, weird: and it makes the email look funny because the signatures are shown on a different color in my  email client.<p>Now I&#x27;m thinking if there was some smart idea behind that trying to fool some filters.</div><br/></div></div><div id="40370467" class="c"><input type="checkbox" id="c-40370467" checked=""/><div class="controls bullet"><span class="by">jamespo</span><span>|</span><a href="#40375772">prev</a><span>|</span><a href="#40369195">next</a><span>|</span><label class="collapse" for="c-40370467">[-]</label><label class="expand" for="c-40370467">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve recently had to zero score SpamAssassin ENCRYPTED_MESSAGE rule as it&#x27;s being exploited. Also I don&#x27;t receive any encrypted messages.</div><br/><div id="40375971" class="c"><input type="checkbox" id="c-40375971" checked=""/><div class="controls bullet"><span class="by">stuffinmyhand</span><span>|</span><a href="#40370467">parent</a><span>|</span><a href="#40369195">next</a><span>|</span><label class="collapse" for="c-40375971">[-]</label><label class="expand" for="c-40375971">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Also I don&#x27;t receive any encrypted messages.<p>Should start giving people your public key then!</div><br/></div></div></div></div><div id="40369429" class="c"><input type="checkbox" id="c-40369429" checked=""/><div class="controls bullet"><span class="by">g4zj</span><span>|</span><a href="#40369195">prev</a><span>|</span><a href="#40370088">next</a><span>|</span><label class="collapse" for="c-40369429">[-]</label><label class="expand" for="c-40369429">[6 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know much about mail servers, but would it be possible to validate the signature somehow before delivering the message? Is this impossible or impractical for some reason?</div><br/><div id="40369933" class="c"><input type="checkbox" id="c-40369933" checked=""/><div class="controls bullet"><span class="by">cmgbhm</span><span>|</span><a href="#40369429">parent</a><span>|</span><a href="#40369788">next</a><span>|</span><label class="collapse" for="c-40369933">[-]</label><label class="expand" for="c-40369933">[1 more]</label></div><br/><div class="children"><div class="content">PGP doesn’t require the use of global directories so you can’t do strong validation.<p>This is a bypass game on something like proof point url protection that rewrites URLs to go through a central redirect so that reputation check can be separated from reputation delivery, usage detected, and one liner URLs still work. I’m over a decade out of this space so take with a grain of salt.<p>The tool could do a better job inspecting “oh that’s a pgp formatted massage”. You could probably just route them all to spam and almost no one would notice.</div><br/></div></div><div id="40369788" class="c"><input type="checkbox" id="c-40369788" checked=""/><div class="controls bullet"><span class="by">thenewnewguy</span><span>|</span><a href="#40369429">parent</a><span>|</span><a href="#40369933">prev</a><span>|</span><a href="#40369891">next</a><span>|</span><label class="collapse" for="c-40369788">[-]</label><label class="expand" for="c-40369788">[1 more]</label></div><br/><div class="children"><div class="content">Even if they did, you could just sign the message for real.</div><br/></div></div><div id="40369891" class="c"><input type="checkbox" id="c-40369891" checked=""/><div class="controls bullet"><span class="by">upofadown</span><span>|</span><a href="#40369429">parent</a><span>|</span><a href="#40369788">prev</a><span>|</span><a href="#40369627">next</a><span>|</span><label class="collapse" for="c-40369891">[-]</label><label class="expand" for="c-40369891">[1 more]</label></div><br/><div class="children"><div class="content">Email signatures are essentially end to end. The company would have to keep a file of all the identities of all the people that everyone in the company knew. To make this useful, the company would also have to record information about who knew who.<p>As already mentioned, the email might also be encrypted (the most common case). Then the signature would not be available as it would be hidden under the encryption. These sorts of filtering issues are why corporate cybersecurity people, somewhat ironically, tend to dislike encrypted email. There is an opportunity here to make better email clients that treat encrypted, but unsigned, emails with suspicion.</div><br/></div></div><div id="40369916" class="c"><input type="checkbox" id="c-40369916" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40369429">parent</a><span>|</span><a href="#40369627">prev</a><span>|</span><a href="#40370088">next</a><span>|</span><label class="collapse" for="c-40369916">[-]</label><label class="expand" for="c-40369916">[1 more]</label></div><br/><div class="children"><div class="content">There is commercial mail server software that does exactly that.</div><br/></div></div></div></div><div id="40370088" class="c"><input type="checkbox" id="c-40370088" checked=""/><div class="controls bullet"><span class="by">mrkramer</span><span>|</span><a href="#40369429">prev</a><span>|</span><a href="#40370315">next</a><span>|</span><label class="collapse" for="c-40370088">[-]</label><label class="expand" for="c-40370088">[1 more]</label></div><br/><div class="children"><div class="content">Hug of death?</div><br/></div></div><div id="40370315" class="c"><input type="checkbox" id="c-40370315" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#40370088">prev</a><span>|</span><a href="#40369407">next</a><span>|</span><label class="collapse" for="c-40370315">[-]</label><label class="expand" for="c-40370315">[1 more]</label></div><br/><div class="children"><div class="content">Well it looks like the link is down and the only archive snapshot I see is a loading screen: <a href="https:&#x2F;&#x2F;archive.is&#x2F;obzJ9" rel="nofollow">https:&#x2F;&#x2F;archive.is&#x2F;obzJ9</a><p>----- BEGIN EDIT -----<p>I can see it from the mastadon app but not in browser. I took a screenshot for others: <a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;q3DA7wQ.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;q3DA7wQ.png</a><p>Text is:<p><pre><code>  Our university deployed a mail filter that rewrites URLs in emails to redirect them via a service that checks for bad websites. Somebody clever worked out that PGP-signed emails are exempt from the rewrite rule, so now people are starting their emails with &quot;BEGIN PGP MESSAGE&quot; even though they haven&#x27;t used PGP at all, just to fool the filter 

  Anybody sending malware links has probably also worked out that trick by now, thereby rendering the entire filter pointless
</code></pre>
@martin@nondeterministic.computer<p>----- END EDIT -----<p>But I have an interesting issue which is (presumably) related. I keep getting obviously spam emails in my gmail and Google has refused to do anything about it (after finally getting through to support). These are embarrassingly bad emails. Ones you&#x27;d expect a naive bayesian classifier to get near 100% accuracy on!<p>In the &quot;to&quot; address is something that&#x27;s not even remotely my email. Suppose I&#x27;m godelski@gmail.com, the &quot;to&quot; has something like &quot;robbert01@gmail.com&quot; and always has a CC with a different number. Subject lines will be things like &quot;confirmation of receipt&quot; but in non-standard and inconsistent fonts. And the message body is that all too typical single image and claim of something like winning a home depot gift card. The &quot;from&quot; address is always some scammy looking address. So Naive Bayes should get it on just this alone!<p>But the weird thing is when you show the original message. There&#x27;s PAGES of stuff in here (about 20 pages or 9.5k words)! All kinds of email conversations, things including stuff like &quot;here is your one time &lt;account&gt; password&quot;, stuff in other languages, survey questions, conversations, and a lot more. I actually did a diff on a few of these and they&#x27;re almost identical too! I can&#x27;t help but think that these are some weird prompt injections. It looks like it is written by a madman, but it it&#x27;s probably some &quot;throw shit at the wall and see what sticks&quot; kinda thing.<p>But the message ID always comes from some Microsoft (something like microsoftstore1.microsoft.com). This is where Google support said it isn&#x27;t their problem and moved on. I&#x27;m pretty critical of LLMs and their ability to reason, but I feel often we&#x27;re trying to turn humans into machines instead of letting them complement one another. And I think this is why so many business people like LLMs, because they think everything can be figured out with clear immutable rules. But the thing is that the environment always changes and you need something that&#x27;s not only adaptable, but can reason AND understands the actual desired outcome that humans want.<p>I hope someone at Google pays attention. Because you can&#x27;t just hand all thinking over to humans. We&#x27;re not there yet and it&#x27;s why everything is going to shit (not just Google)</div><br/></div></div><div id="40369407" class="c"><input type="checkbox" id="c-40369407" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#40370315">prev</a><span>|</span><a href="#40369369">next</a><span>|</span><label class="collapse" for="c-40369407">[-]</label><label class="expand" for="c-40369407">[1 more]</label></div><br/><div class="children"><div class="content">There was a time when prefacing your message with `begin 644` would hide your message, or the remainder of it, from users of MS Outlook. Maybe still works, who knows.</div><br/></div></div><div id="40369369" class="c"><input type="checkbox" id="c-40369369" checked=""/><div class="controls bullet"><span class="by">bongodongobob</span><span>|</span><a href="#40369407">prev</a><span>|</span><a href="#40369551">next</a><span>|</span><label class="collapse" for="c-40369369">[-]</label><label class="expand" for="c-40369369">[2 more]</label></div><br/><div class="children"><div class="content">Tried this with my work email, it doesn&#x27;t seem to work with whatever our exchange setup is. Is this just a case of an admin using the default settings in their filtering?</div><br/><div id="40369954" class="c"><input type="checkbox" id="c-40369954" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#40369369">parent</a><span>|</span><a href="#40369551">next</a><span>|</span><label class="collapse" for="c-40369954">[-]</label><label class="expand" for="c-40369954">[1 more]</label></div><br/><div class="children"><div class="content">It’s a custom filter deployed at that university.</div><br/></div></div></div></div><div id="40369551" class="c"><input type="checkbox" id="c-40369551" checked=""/><div class="controls bullet"><span class="by">swyx</span><span>|</span><a href="#40369369">prev</a><span>|</span><a href="#40369187">next</a><span>|</span><label class="collapse" for="c-40369551">[-]</label><label class="expand" for="c-40369551">[2 more]</label></div><br/><div class="children"><div class="content">obligatory <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;1181&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;1181&#x2F;</a></div><br/><div id="40369930" class="c"><input type="checkbox" id="c-40369930" checked=""/><div class="controls bullet"><span class="by">gramakri2</span><span>|</span><a href="#40369551">parent</a><span>|</span><a href="#40369187">next</a><span>|</span><label class="collapse" for="c-40369930">[-]</label><label class="expand" for="c-40369930">[1 more]</label></div><br/><div class="children"><div class="content">heh, I am awed by the foresight of the author !</div><br/></div></div></div></div><div id="40369187" class="c"><input type="checkbox" id="c-40369187" checked=""/><div class="controls bullet"><span class="by">superkuh</span><span>|</span><a href="#40369551">prev</a><span>|</span><a href="#40369900">next</a><span>|</span><label class="collapse" for="c-40369187">[-]</label><label class="expand" for="c-40369187">[7 more]</label></div><br/><div class="children"><div class="content">Here is the content that is in the HTML but which the linked page refuses to actually show on the screen, instead opting for a &quot;run javascript&quot; message:<p>&lt;meta content=&#x27;Our university deployed a mail filter that rewrites URLs in emails to redirect them via a service that checks for bad websites. Somebody clever worked out that PGP-signed emails are exempt from the rewrite rule, so now people are starting their emails with &amp;quot;BEGIN PGP MESSAGE&amp;quot; even though they haven&amp;#39;t used PGP at all, just to fool the filter<p>Anybody sending malware links has probably also worked out that trick by now, thereby rendering the entire filter pointless&#x27; name=&#x27;description&#x27;&gt;</div><br/><div id="40369814" class="c"><input type="checkbox" id="c-40369814" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#40369187">parent</a><span>|</span><a href="#40369973">next</a><span>|</span><label class="collapse" for="c-40369814">[-]</label><label class="expand" for="c-40369814">[2 more]</label></div><br/><div class="children"><div class="content">A trick which works if you use Mastodon, since that page is a Mastodon post:<p>Go to the Mastodon instance where you have an account, and paste the URL in the search box. It should load the post within your Mastodon instance (and allow you to boost&#x2F;favorite&#x2F;etc), without running any JavaScript from the post&#x27;s instance.<p>(It won&#x27;t surprise me if someday a Firefox plugin is created to open these Mastodon post pages without running their JavaScript, by detecting it&#x27;s Mastodon and going through the same protocol as federated instances to fetch the content. Of course, it would be better if the Mastodon server software didn&#x27;t require JavaScript for simply showing a post page in the first place.)</div><br/><div id="40376213" class="c"><input type="checkbox" id="c-40376213" checked=""/><div class="controls bullet"><span class="by">berkes</span><span>|</span><a href="#40369187">root</a><span>|</span><a href="#40369814">parent</a><span>|</span><a href="#40369973">next</a><span>|</span><label class="collapse" for="c-40376213">[-]</label><label class="expand" for="c-40376213">[1 more]</label></div><br/><div class="children"><div class="content">Not exactly the plugin you envision, but Graze¹ does this for interaction (boost, favorite, follow, reply etc) with posts on any instance.<p>I guess the redirect and re-open on your own instance would be a feature for graze? IDK.<p>¹ <a href="https:&#x2F;&#x2F;addons.mozilla.org&#x2F;en-US&#x2F;firefox&#x2F;addon&#x2F;graze&#x2F;" rel="nofollow">https:&#x2F;&#x2F;addons.mozilla.org&#x2F;en-US&#x2F;firefox&#x2F;addon&#x2F;graze&#x2F;</a></div><br/></div></div></div></div><div id="40369973" class="c"><input type="checkbox" id="c-40369973" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#40369187">parent</a><span>|</span><a href="#40369814">prev</a><span>|</span><a href="#40370061">next</a><span>|</span><label class="collapse" for="c-40369973">[-]</label><label class="expand" for="c-40369973">[1 more]</label></div><br/><div class="children"><div class="content">IMHO, there&#x27;s definitely some security value is at least running a non-standard config.<p>Moving from seeing all attacks (even if blocked) to only targeted attacks decreases the amount of noise a detection system&#x2F;reviewer has to deal with.<p>The important bit, though, is remembering <i>only the above doesn&#x27;t mean things that make it through are secure</i>, which is usually where companies fall over. (I.e. implement dumb mail filter, then assume any mails that make it through are safe)</div><br/></div></div><div id="40370061" class="c"><input type="checkbox" id="c-40370061" checked=""/><div class="controls bullet"><span class="by">Isognoviastoma</span><span>|</span><a href="#40369187">parent</a><span>|</span><a href="#40369973">prev</a><span>|</span><a href="#40369835">next</a><span>|</span><label class="collapse" for="c-40370061">[-]</label><label class="expand" for="c-40370061">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing! A bit of css, and it&#x27;s possible to read mastodon posts with a web browser!<p><pre><code>    head {display:block; background:Canvas; color:CanvasText;}
    meta[content] {display:block; padding-bottom:1em;}
    meta[content]::after{content:attr(content); display:block;}</code></pre></div><br/><div id="40374130" class="c"><input type="checkbox" id="c-40374130" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#40369187">root</a><span>|</span><a href="#40370061">parent</a><span>|</span><a href="#40369835">next</a><span>|</span><label class="collapse" for="c-40374130">[-]</label><label class="expand" for="c-40374130">[1 more]</label></div><br/><div class="children"><div class="content">Or just append &#x2F;embed<p>The disadvantage is that threads don&#x27;t render.</div><br/></div></div></div></div><div id="40369835" class="c"><input type="checkbox" id="c-40369835" checked=""/><div class="controls bullet"><span class="by">cwillu</span><span>|</span><a href="#40369187">parent</a><span>|</span><a href="#40370061">prev</a><span>|</span><a href="#40369900">next</a><span>|</span><label class="collapse" for="c-40369835">[-]</label><label class="expand" for="c-40369835">[1 more]</label></div><br/><div class="children"><div class="content">Thank you.</div><br/></div></div></div></div><div id="40369900" class="c"><input type="checkbox" id="c-40369900" checked=""/><div class="controls bullet"><span class="by">Hizonner</span><span>|</span><a href="#40369187">prev</a><span>|</span><a href="#40369949">next</a><span>|</span><label class="collapse" for="c-40369900">[-]</label><label class="expand" for="c-40369900">[7 more]</label></div><br/><div class="children"><div class="content">There is a special place in Hell for people who &quot;helpfully&quot; rewrite email bodies in transit.</div><br/><div id="40374419" class="c"><input type="checkbox" id="c-40374419" checked=""/><div class="controls bullet"><span class="by">jacoblambda</span><span>|</span><a href="#40369900">parent</a><span>|</span><a href="#40375557">next</a><span>|</span><label class="collapse" for="c-40374419">[-]</label><label class="expand" for="c-40374419">[5 more]</label></div><br/><div class="children"><div class="content">Stares aggressively at Protonmail.<p>Yeah you at Proton. I&#x27;m talking to you.<p>Stop doing this.<p>No touchy the email.</div><br/><div id="40374530" class="c"><input type="checkbox" id="c-40374530" checked=""/><div class="controls bullet"><span class="by">jimbosis</span><span>|</span><a href="#40369900">root</a><span>|</span><a href="#40374419">parent</a><span>|</span><a href="#40375245">next</a><span>|</span><label class="collapse" for="c-40374530">[-]</label><label class="expand" for="c-40374530">[2 more]</label></div><br/><div class="children"><div class="content">Do you or does anyone else have a summary of or any link to read about what you are alluding to, namely Proton Mail rewriting email bodies?</div><br/><div id="40374579" class="c"><input type="checkbox" id="c-40374579" checked=""/><div class="controls bullet"><span class="by">super_linear</span><span>|</span><a href="#40369900">root</a><span>|</span><a href="#40374530">parent</a><span>|</span><a href="#40375245">next</a><span>|</span><label class="collapse" for="c-40374579">[-]</label><label class="expand" for="c-40374579">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36639530">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36639530</a></div><br/></div></div></div></div><div id="40375245" class="c"><input type="checkbox" id="c-40375245" checked=""/><div class="controls bullet"><span class="by">ChainOfFools</span><span>|</span><a href="#40369900">root</a><span>|</span><a href="#40374419">parent</a><span>|</span><a href="#40374530">prev</a><span>|</span><a href="#40375557">next</a><span>|</span><label class="collapse" for="c-40375245">[-]</label><label class="expand" for="c-40375245">[2 more]</label></div><br/><div class="children"><div class="content">doesn&#x27;t this break DKIM?</div><br/><div id="40375476" class="c"><input type="checkbox" id="c-40375476" checked=""/><div class="controls bullet"><span class="by">256_</span><span>|</span><a href="#40369900">root</a><span>|</span><a href="#40375245">parent</a><span>|</span><a href="#40375557">next</a><span>|</span><label class="collapse" for="c-40375476">[-]</label><label class="expand" for="c-40375476">[1 more]</label></div><br/><div class="children"><div class="content">DKIM headers can have an optional length parameter which says &quot;the first n bytes of the message body is cryptographically signed&quot;, whilst allowing the rest of the message to be modified. I don&#x27;t know if anyone actually uses it, though; I don&#x27;t think I&#x27;ve ever seen or used it.<p>Also, DKIM can optionally be lax about whitespace.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>