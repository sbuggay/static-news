<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1689238853539" as="style"/><link rel="stylesheet" href="styles.css?v=1689238853539"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://digest.browsertech.com/archive/browsertech-digest-figma-is-a-file-editor/">Figma Is a File Editor</a> <span class="domain">(<a href="https://digest.browsertech.com">digest.browsertech.com</a>)</span></div><div class="subtext"><span>dvrp</span> | <span>46 comments</span></div><br/><div><div id="36705122" class="c"><input type="checkbox" id="c-36705122" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#36704327">next</a><span>|</span><label class="collapse" for="c-36705122">[-]</label><label class="expand" for="c-36705122">[8 more]</label></div><br/><div class="children"><div class="content">&gt; The tricky part is that when multiple users open the same Fig file concurrently, Figma’s infrastructure needs to ensure that they are all connected to the same server. That server can then be the sole authority on the state of that document, and write to it without race conditions.<p>This is the killer app for CloudFlare&#x27;s new Durable Objects. They solve the routing and data distribution layer, allowing you to write single-threaded business logic to coordinate changes.<p>They even have a transactional storage capability which is priced more or less equivalent to DynamoDB (which Figma uses for their write-ahead log).<p>This pattern also helps scale write transactions without melting your database. <a href="http:&#x2F;&#x2F;ithare.com&#x2F;scaling-stateful-objects&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;ithare.com&#x2F;scaling-stateful-objects&#x2F;</a><p>I try to boost Durable Objects every chance I get, in order to &quot;push the battleship&quot; in the direction of another cloud provider implementing something equivalent.<p>While this article is written by the plane.dev team, which has an adjacent product, their approach seems more geared towards more demanding backends. Lots of use cases don&#x27;t need to run e.g. a game or simulation on the backend, they just need a synchronization layer in front of a document store.<p>---<p>&gt; They could stuff the whole document into a binary blob or json(b) column next to the metadata.<p>In my experience doing this in MySQL... do not do this. Once you have a dozens-if-not-hundreds-of-gigabytes large table full of JSON, it becomes a real nuisance. As a halfway measure, I think it would help to have a &quot;blobs only&quot; table separate to the metadata table. But as the OP points out, it is not economical anyway.</div><br/><div id="36705745" class="c"><input type="checkbox" id="c-36705745" checked=""/><div class="controls bullet"><span class="by">calebj0seph</span><span>|</span><a href="#36705122">parent</a><span>|</span><a href="#36705333">next</a><span>|</span><label class="collapse" for="c-36705745">[-]</label><label class="expand" for="c-36705745">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m an engineer on Atlassian&#x27;s new whiteboard feature for Confluence, which has real-time collaboration like Figma. We&#x27;ve been highly successful using Cloudflare Durable Objects to act as a simple relay for WebSocket messages.<p>One of the best things is that the Durable Object will automatically run in the closest Cloudflare data center to the first user who connects, which helps keep latency very low.<p>The alarms feature they added last year has also been great at allowing us to asynchronously snapshot the state of a board certain intervals, rather than us needing to schedule the job from an external system.</div><br/><div id="36706305" class="c"><input type="checkbox" id="c-36706305" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#36705122">root</a><span>|</span><a href="#36705745">parent</a><span>|</span><a href="#36705333">next</a><span>|</span><label class="collapse" for="c-36706305">[-]</label><label class="expand" for="c-36706305">[2 more]</label></div><br/><div class="children"><div class="content">Side note: unfortunately for Aussies the nearest DC running durable objects is still in Singapore :(<p>Source: <a href="https:&#x2F;&#x2F;where.durableobjects.live&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;where.durableobjects.live&#x2F;</a></div><br/><div id="36706555" class="c"><input type="checkbox" id="c-36706555" checked=""/><div class="controls bullet"><span class="by">calebj0seph</span><span>|</span><a href="#36705122">root</a><span>|</span><a href="#36706305">parent</a><span>|</span><a href="#36705333">next</a><span>|</span><label class="collapse" for="c-36706555">[-]</label><label class="expand" for="c-36706555">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Currently, durable objects are available in 9.89% of Cloudflare PoPs.<p>I really hope this becomes higher, the less latency the more compelling Durable Objects become for real-time applications.</div><br/></div></div></div></div></div></div><div id="36705975" class="c"><input type="checkbox" id="c-36705975" checked=""/><div class="controls bullet"><span class="by">3cats-in-a-coat</span><span>|</span><a href="#36705122">parent</a><span>|</span><a href="#36705333">prev</a><span>|</span><a href="#36704327">next</a><span>|</span><label class="collapse" for="c-36705975">[-]</label><label class="expand" for="c-36705975">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been thinking about this. Is this honestly the only solution? When time comes to edit, the artifact needs to be on a single server? Obviously you can redundantly write it to a cluster, but even in a cluster there&#x27;s a &quot;leader&quot; typically in most architectures.<p>Any alternatives?</div><br/><div id="36706300" class="c"><input type="checkbox" id="c-36706300" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#36705122">root</a><span>|</span><a href="#36705975">parent</a><span>|</span><a href="#36706448">next</a><span>|</span><label class="collapse" for="c-36706300">[-]</label><label class="expand" for="c-36706300">[1 more]</label></div><br/><div class="children"><div class="content">Another solution is to design your data model so that it&#x27;s fully peer-to-peer , then you don&#x27;t need a point of centralisation. Except for realtime communication&#x2F;updates, but you have a lot more leeway.<p>CRDTs are an obvious way to do this. Or maybe something like CouchDB&#x27;s document model?</div><br/></div></div><div id="36706448" class="c"><input type="checkbox" id="c-36706448" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#36705122">root</a><span>|</span><a href="#36705975">parent</a><span>|</span><a href="#36706300">prev</a><span>|</span><a href="#36704327">next</a><span>|</span><label class="collapse" for="c-36706448">[-]</label><label class="expand" for="c-36706448">[1 more]</label></div><br/><div class="children"><div class="content">You can use a scalable database that gives you serializable transactions whilst not requiring you to represent your document in the relational model.<p>A good example of this architecture would be using FoundationDB [1] with Permazen [2]. In this design there are three layers:<p>1. A horizontally scaling sorted transactional K&#x2F;V store. This is provided by FoundationDB. Transactions are automatically ordered within the cluster.<p>2. A network protocol that can serialize database transactions. Permazen has the ability to do this, you can do things like cache reads, HTTP POST transactions and so on. Stuff you can&#x27;t easily do with SQL databases.<p>3. A way to map in-memory objects to&#x2F;from key&#x2F;value pairs, with schema migration, indexing and other DB-like features. Permazen also does this.<p>Permazen can be thought of as an ORM for KV stores. It&#x27;s an in-memory library intended to execute on trusted servers (because the KV store can&#x27;t do any business logic validation). However, for something like Figma where it&#x27;s basically trusting the client anyway that doesn&#x27;t matter. Additionally you can do some tricks with the architecture to support untrusted clients; I&#x27;ve explored these topics with Archie (the Permazen designer) in the past.<p>The nice thing about this design is that it doesn&#x27;t require sharding by &quot;file&quot;, can scale to large numbers of simultaneous co-authors, and results in a very natural coding model. However, Permazen is a Java library. To use it from a browser would be awkward. That said it has fairly minimal reliance on the JDK. You could probably auto-convert it to Kotlin and then use Kotlin&#x2F;JS or Kotlin&#x2F;WASM. But frankly it&#x27;d be easier to do that architecture as a real desktop app where you aren&#x27;t boxed in by the browser&#x27;s limitations.<p>The writeup mentions a couple of reasons for not using a database:<p>1. Relational&#x2F;object mismatch. Permazen+FDB solves this.<p>2. Cost of a database vs S3. This is mostly an artifact of cloud pricing. Cloud is highly profitable but most of the margin comes from managed databases and other very high level services, not commodity byte storage. Given that FDB is free you could eliminate the cost gap by just running the database yourself, and especially, running it on your own metal.<p>Because Permazen has a pluggable KV backend and because there are backends that write to files, you can have both worlds - a scalable DB in the cloud and also write to files for individual cases where people don&#x27;t want to store data on your backend.<p><a href="https:&#x2F;&#x2F;www.foundationdb.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.foundationdb.org&#x2F;</a> [1]<p><a href="https:&#x2F;&#x2F;permazen.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;permazen.io&#x2F;</a> [2]</div><br/></div></div></div></div></div></div><div id="36704327" class="c"><input type="checkbox" id="c-36704327" checked=""/><div class="controls bullet"><span class="by">seumars</span><span>|</span><a href="#36705122">prev</a><span>|</span><a href="#36703492">next</a><span>|</span><label class="collapse" for="c-36704327">[-]</label><label class="expand" for="c-36704327">[9 more]</label></div><br/><div class="children"><div class="content">Although the tech behind Figma is nothing but impressive I find that the biggest downside to current collaborative tools is that they&#x27;re expected to be used collaboratively <i>at all times</i>.<p>I would say that no more than 10% of the time I spend on Figma is for collaborating with other people in short brainstorming sessions, team workshops, etc. The other 90% is spent by myself working and polishing said prototypes, but still having to deal with the loading times, server hiccups, and so on.<p>An &quot;offline mode&quot; of sorts would also be a silly feature to expect since their entire stack is built around collaboration. Seems like a difficult balance.</div><br/><div id="36705230" class="c"><input type="checkbox" id="c-36705230" checked=""/><div class="controls bullet"><span class="by">joeycodes</span><span>|</span><a href="#36704327">parent</a><span>|</span><a href="#36704395">next</a><span>|</span><label class="collapse" for="c-36705230">[-]</label><label class="expand" for="c-36705230">[1 more]</label></div><br/><div class="children"><div class="content">Although there is not an officially-supported fully-offline mode, Figma does spend a significant amount of effort preserving changes made offline if the server disconnects and the tab is closed or crashes. Additionally, pushing out a newer version of the file format from N to N+1 requires a delicate dance between client and server to reload the file, upgrade the stashed changes, and merge. These and many other edge cases are handled as invisibly as possible to the user. A really fun edge case is if user A spends an entire weekend offline working furiously populating some page of a document, user B wonders why there&#x27;s a seemingly empty page in the document and deletes it, user A comes back online and tries to apply changes to a parent node that no longer exists....<p>Disclosure: I used to work on some of this when I was at Figma.</div><br/></div></div><div id="36704395" class="c"><input type="checkbox" id="c-36704395" checked=""/><div class="controls bullet"><span class="by">karaterobot</span><span>|</span><a href="#36704327">parent</a><span>|</span><a href="#36705230">prev</a><span>|</span><a href="#36704829">next</a><span>|</span><label class="collapse" for="c-36704395">[-]</label><label class="expand" for="c-36704395">[2 more]</label></div><br/><div class="children"><div class="content">Weird, I&#x27;ve used Figma pretty much every work day for four years, and only had a couple of server hiccups I can recall. No lost data, just an error message that went away pretty quickly. I&#x27;ve had my Mac crash more often than Figma.<p>With the Adobe purchase, I&#x27;m confident that&#x27;ll change though!</div><br/><div id="36704902" class="c"><input type="checkbox" id="c-36704902" checked=""/><div class="controls bullet"><span class="by">DANmode</span><span>|</span><a href="#36704327">root</a><span>|</span><a href="#36704395">parent</a><span>|</span><a href="#36704829">next</a><span>|</span><label class="collapse" for="c-36704902">[-]</label><label class="expand" for="c-36704902">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.pcmag.com&#x2F;news&#x2F;doj-expected-to-block-adobes-20-billion-figma-acquisition" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.pcmag.com&#x2F;news&#x2F;doj-expected-to-block-adobes-20-b...</a><p><a href="https:&#x2F;&#x2F;www.reuters.com&#x2F;markets&#x2F;deals&#x2F;adobes-deal-acquire-figma-under-threat-eu-regulators-ft-2023-06-20&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reuters.com&#x2F;markets&#x2F;deals&#x2F;adobes-deal-acquire-fi...</a><p>All smoke?</div><br/></div></div></div></div><div id="36704829" class="c"><input type="checkbox" id="c-36704829" checked=""/><div class="controls bullet"><span class="by">thesuitonym</span><span>|</span><a href="#36704327">parent</a><span>|</span><a href="#36704395">prev</a><span>|</span><a href="#36704404">next</a><span>|</span><label class="collapse" for="c-36704829">[-]</label><label class="expand" for="c-36704829">[2 more]</label></div><br/><div class="children"><div class="content">At the end of the day, any software really has to choose what to prioritize. You can&#x27;t have good online collaboration unless you design the tool around that--or I suppose if the documents folks are working on are incredibly simple.<p>Think of it like Excel and Google Sheets. Excel was designed for offline first, but Google Sheets always had online editing as a first-class citizen. Excel today has actually surprisingly great collaboration features, but it&#x27;s sometimes buggy, and things don&#x27;t always work the way you might expect. By contrast, Google Sheets is designed from the ground up to be online, and while you <i>can</i> save a file for offline editing, it doesn&#x27;t actually put anything useful on your disk. Even if you have Google Drive, you just get a .gsheets file that is essentially a link the the document.<p>I guess where I&#x27;m going is, you just have to choose your battles. Be good at one thing, rather than mediocre at both.</div><br/><div id="36705367" class="c"><input type="checkbox" id="c-36705367" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#36704327">root</a><span>|</span><a href="#36704829">parent</a><span>|</span><a href="#36704404">next</a><span>|</span><label class="collapse" for="c-36705367">[-]</label><label class="expand" for="c-36705367">[1 more]</label></div><br/><div class="children"><div class="content">I’ve been working on collaborative editing for the past decade or so. There’s no <i>technical</i> reason you can’t have both aspects work well. Eg, although git doesn’t support real-time collaborative editing, there’s no problem coming online and offline while working with git. Crdt based approaches should work online &#x2F; offline just as well.<p>It may take extra development time though. The trade off of development time is real.</div><br/></div></div></div></div><div id="36704404" class="c"><input type="checkbox" id="c-36704404" checked=""/><div class="controls bullet"><span class="by">ax0ar</span><span>|</span><a href="#36704327">parent</a><span>|</span><a href="#36704829">prev</a><span>|</span><a href="#36705159">next</a><span>|</span><label class="collapse" for="c-36704404">[-]</label><label class="expand" for="c-36704404">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s still a trade-off many designers happily accept given the fact that it took so much longer to open Adobe&#x27;s products and dealing with their sluggish programs.<p>You may argue and say why compare with Adobe? You would be right in that case, but it has been the gold standard in design for many years and set expectations on how design applications behave.</div><br/></div></div><div id="36705159" class="c"><input type="checkbox" id="c-36705159" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#36704327">parent</a><span>|</span><a href="#36704404">prev</a><span>|</span><a href="#36705051">next</a><span>|</span><label class="collapse" for="c-36705159">[-]</label><label class="expand" for="c-36705159">[1 more]</label></div><br/><div class="children"><div class="content">This is a big factor in the push towards CRDTs I reckon. They work offline-first, but allow both synchronous and asynchronous collaboration.<p>One of my formative early tech jobs was implementing a realtime whiteboard on top of WebRTC and CRDTs ca. 2015. It was incredible how easy it was to build new functionality, once the infrastructure was in place to &quot;just replicate the scene at all times&quot;.</div><br/></div></div><div id="36705051" class="c"><input type="checkbox" id="c-36705051" checked=""/><div class="controls bullet"><span class="by">QuantumG</span><span>|</span><a href="#36704327">parent</a><span>|</span><a href="#36705159">prev</a><span>|</span><a href="#36703492">next</a><span>|</span><label class="collapse" for="c-36705051">[-]</label><label class="expand" for="c-36705051">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a good idea.</div><br/></div></div></div></div><div id="36703492" class="c"><input type="checkbox" id="c-36703492" checked=""/><div class="controls bullet"><span class="by">habitue</span><span>|</span><a href="#36704327">prev</a><span>|</span><a href="#36705917">next</a><span>|</span><label class="collapse" for="c-36703492">[-]</label><label class="expand" for="c-36703492">[10 more]</label></div><br/><div class="children"><div class="content">Alternately: file formats and saving to disk are just a very primitive database where the cache is the size of the entire database (you load the entire thing into memory). Also you don&#x27;t have good disaster recovery (see &quot;I forgot to save and lost the last half hour of work!&quot;). Also, auto-save is a very primitive form of a write ahead log</div><br/><div id="36704258" class="c"><input type="checkbox" id="c-36704258" checked=""/><div class="controls bullet"><span class="by">unmole</span><span>|</span><a href="#36703492">parent</a><span>|</span><a href="#36703533">next</a><span>|</span><label class="collapse" for="c-36704258">[-]</label><label class="expand" for="c-36704258">[3 more]</label></div><br/><div class="children"><div class="content">Q: What&#x27;s the difference between filesystems and databases?<p>A: Marketing.</div><br/><div id="36704851" class="c"><input type="checkbox" id="c-36704851" checked=""/><div class="controls bullet"><span class="by">rocqua</span><span>|</span><a href="#36703492">root</a><span>|</span><a href="#36704258">parent</a><span>|</span><a href="#36703533">next</a><span>|</span><label class="collapse" for="c-36704851">[-]</label><label class="expand" for="c-36704851">[2 more]</label></div><br/><div class="children"><div class="content">A: indexing, schema flexibility, performance</div><br/><div id="36705337" class="c"><input type="checkbox" id="c-36705337" checked=""/><div class="controls bullet"><span class="by">gdprrrr</span><span>|</span><a href="#36703492">root</a><span>|</span><a href="#36704851">parent</a><span>|</span><a href="#36703533">next</a><span>|</span><label class="collapse" for="c-36705337">[-]</label><label class="expand" for="c-36705337">[1 more]</label></div><br/><div class="children"><div class="content">&#x2F;var&#x2F;lib&#x2F;mlocate.db ;)</div><br/></div></div></div></div></div></div><div id="36703533" class="c"><input type="checkbox" id="c-36703533" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#36703492">parent</a><span>|</span><a href="#36704258">prev</a><span>|</span><a href="#36704743">next</a><span>|</span><label class="collapse" for="c-36703533">[-]</label><label class="expand" for="c-36703533">[4 more]</label></div><br/><div class="children"><div class="content">And databases are files :)<p>---<p>The essential distinction is the granularity of reads&#x2F;writes</div><br/><div id="36703740" class="c"><input type="checkbox" id="c-36703740" checked=""/><div class="controls bullet"><span class="by">paulryanrogers</span><span>|</span><a href="#36703492">root</a><span>|</span><a href="#36703533">parent</a><span>|</span><a href="#36704743">next</a><span>|</span><label class="collapse" for="c-36703740">[-]</label><label class="expand" for="c-36703740">[3 more]</label></div><br/><div class="children"><div class="content">Usually but not necessarily. Some can access raw disk blocks without a traditional file system.</div><br/><div id="36703768" class="c"><input type="checkbox" id="c-36703768" checked=""/><div class="controls bullet"><span class="by">doubled112</span><span>|</span><a href="#36703492">root</a><span>|</span><a href="#36703740">parent</a><span>|</span><a href="#36704743">next</a><span>|</span><label class="collapse" for="c-36703768">[-]</label><label class="expand" for="c-36703768">[2 more]</label></div><br/><div class="children"><div class="content">Won&#x27;t Oracle do that for a performance increase?</div><br/><div id="36703839" class="c"><input type="checkbox" id="c-36703839" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#36703492">root</a><span>|</span><a href="#36703768">parent</a><span>|</span><a href="#36704743">next</a><span>|</span><label class="collapse" for="c-36703839">[-]</label><label class="expand" for="c-36703839">[1 more]</label></div><br/><div class="children"><div class="content">Oracle claims a 5-10% perf increase (on Windows) [1]<p>[1] <a href="https:&#x2F;&#x2F;docs.oracle.com&#x2F;en&#x2F;database&#x2F;oracle&#x2F;oracle-database&#x2F;12.2&#x2F;ntqrf&#x2F;raw-partition-overview.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.oracle.com&#x2F;en&#x2F;database&#x2F;oracle&#x2F;oracle-database&#x2F;1...</a></div><br/></div></div></div></div></div></div></div></div><div id="36704743" class="c"><input type="checkbox" id="c-36704743" checked=""/><div class="controls bullet"><span class="by">jahewson</span><span>|</span><a href="#36703492">parent</a><span>|</span><a href="#36703533">prev</a><span>|</span><a href="#36703988">next</a><span>|</span><label class="collapse" for="c-36704743">[-]</label><label class="expand" for="c-36704743">[1 more]</label></div><br/><div class="children"><div class="content">It’s true! The old MS Office binary formats were built on top of FAT.</div><br/></div></div><div id="36703988" class="c"><input type="checkbox" id="c-36703988" checked=""/><div class="controls bullet"><span class="by">spullara</span><span>|</span><a href="#36703492">parent</a><span>|</span><a href="#36704743">prev</a><span>|</span><a href="#36705917">next</a><span>|</span><label class="collapse" for="c-36703988">[-]</label><label class="expand" for="c-36703988">[1 more]</label></div><br/><div class="children"><div class="content">as long as auto-save doesn&#x27;t overwrite the file directly and can corrupt it by failing in the middle!</div><br/></div></div></div></div><div id="36705917" class="c"><input type="checkbox" id="c-36705917" checked=""/><div class="controls bullet"><span class="by">esjeon</span><span>|</span><a href="#36703492">prev</a><span>|</span><a href="#36704723">next</a><span>|</span><label class="collapse" for="c-36705917">[-]</label><label class="expand" for="c-36705917">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m more impressed by the architecture, which resembles that of room-based online games. After all, online game is the ultimate real-time collaboration system. The only difference is that, in figma, room states are saved (backed by S3 and the lousy &quot;disk&quot; cache).<p>The file &lt;-&gt; database contrast feels rather moot, because it&#x27;s natural to have metadata in usual DBMS and blobs in object&#x2F;file storage (or in blob column).</div><br/></div></div><div id="36704723" class="c"><input type="checkbox" id="c-36704723" checked=""/><div class="controls bullet"><span class="by">antidnan</span><span>|</span><a href="#36705917">prev</a><span>|</span><a href="#36705924">next</a><span>|</span><label class="collapse" for="c-36704723">[-]</label><label class="expand" for="c-36704723">[1 more]</label></div><br/><div class="children"><div class="content">Some great links in there. Figma&#x27;s engineering blog about how multiplayer works has been a very helpful starting point for this type of software.</div><br/></div></div><div id="36705924" class="c"><input type="checkbox" id="c-36705924" checked=""/><div class="controls bullet"><span class="by">anitil</span><span>|</span><a href="#36704723">prev</a><span>|</span><a href="#36705849">next</a><span>|</span><label class="collapse" for="c-36705924">[-]</label><label class="expand" for="c-36705924">[1 more]</label></div><br/><div class="children"><div class="content">One note that the article makes is that reading from S3 requires a full read of the file. As an alternate approach is to use HTTP range headers to read only part of a file and minimise how much data goes over the wire. I&#x27;m not sure if the &#x27;kiwi&#x27; file format would support that (and this is only for reads I believe).<p>A nice demo of this for sqlite is here - <a href="https:&#x2F;&#x2F;phiresky.github.io&#x2F;blog&#x2F;2021&#x2F;hosting-sqlite-databases-on-github-pages&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;phiresky.github.io&#x2F;blog&#x2F;2021&#x2F;hosting-sqlite-database...</a></div><br/></div></div><div id="36705849" class="c"><input type="checkbox" id="c-36705849" checked=""/><div class="controls bullet"><span class="by">simultsop</span><span>|</span><a href="#36705924">prev</a><span>|</span><a href="#36705006">next</a><span>|</span><label class="collapse" for="c-36705849">[-]</label><label class="expand" for="c-36705849">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for taking time to reverse engineer how Figma works on background. Wondering if info like saving buffer changes to DynamoDB are published by Figma on a blog or you just inspected this behavior in browser, the same for S3 and postgress?<p>After all, Figma is an excellent product except the loading time on existing documents 5mb or more, design files, take time to open up reminding me Photoshop 7.0 days.</div><br/></div></div><div id="36703478" class="c"><input type="checkbox" id="c-36703478" checked=""/><div class="controls bullet"><span class="by">NotYourLawyer</span><span>|</span><a href="#36705756">prev</a><span>|</span><label class="collapse" for="c-36703478">[-]</label><label class="expand" for="c-36703478">[12 more]</label></div><br/><div class="children"><div class="content">If your user has to care about the file&#x2F;database distinction, your abstractions have leaked all over the floor.</div><br/><div id="36703599" class="c"><input type="checkbox" id="c-36703599" checked=""/><div class="controls bullet"><span class="by">helsontaveras18</span><span>|</span><a href="#36703478">parent</a><span>|</span><a href="#36704862">next</a><span>|</span><label class="collapse" for="c-36703599">[-]</label><label class="expand" for="c-36703599">[1 more]</label></div><br/><div class="children"><div class="content">This isn’t at all what the article is implying… this a technical analysis of the storage &#x2F; usage pattern of an application.</div><br/></div></div><div id="36704862" class="c"><input type="checkbox" id="c-36704862" checked=""/><div class="controls bullet"><span class="by">rocqua</span><span>|</span><a href="#36703478">parent</a><span>|</span><a href="#36703599">prev</a><span>|</span><a href="#36704365">next</a><span>|</span><label class="collapse" for="c-36704862">[-]</label><label class="expand" for="c-36704862">[1 more]</label></div><br/><div class="children"><div class="content">Is your user working on a document, that is a file editor. Is your user working on a tracking system, that is a database editor.</div><br/></div></div><div id="36704365" class="c"><input type="checkbox" id="c-36704365" checked=""/><div class="controls bullet"><span class="by">user261</span><span>|</span><a href="#36703478">parent</a><span>|</span><a href="#36704862">prev</a><span>|</span><a href="#36703521">next</a><span>|</span><label class="collapse" for="c-36704365">[-]</label><label class="expand" for="c-36704365">[1 more]</label></div><br/><div class="children"><div class="content">The file&#x2F;database in the title is more like a clickbait really. At the crux of it the author is really just talking about the granularity of the writer and reads. The article isn&#x27;t advocating or commenting on the end user having to care about if it is a file or a database application.</div><br/></div></div><div id="36703521" class="c"><input type="checkbox" id="c-36703521" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#36703478">parent</a><span>|</span><a href="#36704365">prev</a><span>|</span><a href="#36703520">next</a><span>|</span><label class="collapse" for="c-36703521">[-]</label><label class="expand" for="c-36703521">[5 more]</label></div><br/><div class="children"><div class="content">?<p>Did you read the article?</div><br/><div id="36703938" class="c"><input type="checkbox" id="c-36703938" checked=""/><div class="controls bullet"><span class="by">nameistaken</span><span>|</span><a href="#36703478">root</a><span>|</span><a href="#36703521">parent</a><span>|</span><a href="#36704043">next</a><span>|</span><label class="collapse" for="c-36703938">[-]</label><label class="expand" for="c-36703938">[3 more]</label></div><br/><div class="children"><div class="content">Reddit is leaking into other communities.</div><br/><div id="36704252" class="c"><input type="checkbox" id="c-36704252" checked=""/><div class="controls bullet"><span class="by">yen223</span><span>|</span><a href="#36703478">root</a><span>|</span><a href="#36703938">parent</a><span>|</span><a href="#36704043">next</a><span>|</span><label class="collapse" for="c-36704252">[-]</label><label class="expand" for="c-36704252">[2 more]</label></div><br/><div class="children"><div class="content">The problem of folks responding solely to the title is not limited to Reddit. It&#x27;s a pervasive thing here in HN too.</div><br/><div id="36704311" class="c"><input type="checkbox" id="c-36704311" checked=""/><div class="controls bullet"><span class="by">bavell</span><span>|</span><a href="#36703478">root</a><span>|</span><a href="#36704252">parent</a><span>|</span><a href="#36704043">next</a><span>|</span><label class="collapse" for="c-36704311">[-]</label><label class="expand" for="c-36704311">[1 more]</label></div><br/><div class="children"><div class="content">It feels good to blame reddit as we look down from our ivory towers though :)</div><br/></div></div></div></div></div></div><div id="36704043" class="c"><input type="checkbox" id="c-36704043" checked=""/><div class="controls bullet"><span class="by">NotYourLawyer</span><span>|</span><a href="#36703478">root</a><span>|</span><a href="#36703521">parent</a><span>|</span><a href="#36703938">prev</a><span>|</span><a href="#36703520">next</a><span>|</span><label class="collapse" for="c-36704043">[-]</label><label class="expand" for="c-36704043">[1 more]</label></div><br/><div class="children"><div class="content">Eh I skimmed it.</div><br/></div></div></div></div><div id="36703520" class="c"><input type="checkbox" id="c-36703520" checked=""/><div class="controls bullet"><span class="by">BSEdlMMldESB</span><span>|</span><a href="#36703478">parent</a><span>|</span><a href="#36703521">prev</a><span>|</span><label class="collapse" for="c-36703520">[-]</label><label class="expand" for="c-36703520">[3 more]</label></div><br/><div class="children"><div class="content">so if your user needs to know anything more than what it&#x27;s in front of them; you have made bad software??? this can&#x27;t be right; but I can sense my own ideological worries seeping in.<p>this is about a distinction between entries in a database (files) and the database itself (the filesystem is a DB).<p>but what&#x27;s wrong with expecting people to know a little? 
would you argue that if the user sees the whole URL in the browser that the abstractions are leaking?</div><br/><div id="36703564" class="c"><input type="checkbox" id="c-36703564" checked=""/><div class="controls bullet"><span class="by">fooker</span><span>|</span><a href="#36703478">root</a><span>|</span><a href="#36703520">parent</a><span>|</span><a href="#36703600">next</a><span>|</span><label class="collapse" for="c-36703564">[-]</label><label class="expand" for="c-36703564">[1 more]</label></div><br/><div class="children"><div class="content">&gt;but what&#x27;s wrong with expecting people to know a little?<p>The issue here is that you&#x27;re training users to rely on internal details.<p>Once users have to rely on internal details, you are stuck with maintaining these forever or face a constant stream of backlash.</div><br/></div></div><div id="36703600" class="c"><input type="checkbox" id="c-36703600" checked=""/><div class="controls bullet"><span class="by">jayd16</span><span>|</span><a href="#36703478">root</a><span>|</span><a href="#36703520">parent</a><span>|</span><a href="#36703564">prev</a><span>|</span><label class="collapse" for="c-36703600">[-]</label><label class="expand" for="c-36703600">[1 more]</label></div><br/><div class="children"><div class="content">This way off topic but it&#x27;s an interesting question. I guess I do think the url bar is leaky.  Hyperlinks are the desired abstraction, no?</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>