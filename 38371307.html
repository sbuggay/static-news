<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1700643667669" as="style"/><link rel="stylesheet" href="styles.css?v=1700643667669"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://twitter.com/xenadu02/status/1495693475584557056">I tested four NVMe SSDs from four vendors – half lose FLUSH&#x27;d data on power loss</a> <span class="domain">(<a href="https://twitter.com">twitter.com</a>)</span></div><div class="subtext"><span>whitepoplar</span> | <span>139 comments</span></div><br/><div><div id="38374377" class="c"><input type="checkbox" id="c-38374377" checked=""/><div class="controls bullet"><span class="by">r1ch</span><span>|</span><a href="#38373990">next</a><span>|</span><label class="collapse" for="c-38374377">[-]</label><label class="expand" for="c-38374377">[15 more]</label></div><br/><div class="children"><div class="content">We shipped a shader cache in the latest release of OBS and quickly had reports come in that the cached data was invalid. After investigating, the cache files were the correct size on disk but the contents were all zero. On a journaled file system this seems like it should be impossible, so the current guess is that some users have SSDs that are ignoring flushes and experience data corruption on crash &#x2F; power loss.</div><br/><div id="38374837" class="c"><input type="checkbox" id="c-38374837" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#38374377">parent</a><span>|</span><a href="#38374760">next</a><span>|</span><label class="collapse" for="c-38374837">[-]</label><label class="expand" for="c-38374837">[12 more]</label></div><br/><div class="children"><div class="content">I think this is typical behaviour with ext4 on Linux, if the application doesn&#x27;t do fsync&#x2F;fdatasync to flush the data to disk.<p>Depending on mount options, ext4fs does metadata journaling ensuring the FS itself is not borked, but not data journaling which would safeguard the file contents in event of unclean shutdown with pending writes in the caches.<p>The same phenomenon is at play when people complain that their log files contain NUL bytes after a crash. The file system metadata has been updated for the size of the file to fit the appended write, but the data itself was not written out yet.</div><br/><div id="38375122" class="c"><input type="checkbox" id="c-38375122" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38374837">parent</a><span>|</span><a href="#38375074">next</a><span>|</span><label class="collapse" for="c-38375122">[-]</label><label class="expand" for="c-38375122">[5 more]</label></div><br/><div class="children"><div class="content">The current default is data=ordered, which should prevent this problem if the hardware doesn&#x27;t lie.  The data doesn&#x27;t go in the journal, but it has to be written <i>before</i> the journal is committed.<p>There was a point where ext3 defaulted to data=writeback, which can definitely give you files full of null bytes.<p>And data=journal exists but is overkill for this situation.</div><br/><div id="38375555" class="c"><input type="checkbox" id="c-38375555" checked=""/><div class="controls bullet"><span class="by">charleshn</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375122">parent</a><span>|</span><a href="#38376165">next</a><span>|</span><label class="collapse" for="c-38375555">[-]</label><label class="expand" for="c-38375555">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s likely because of delayed allocations (delalloc): <a href="https:&#x2F;&#x2F;issuetracker.google.com&#x2F;issues&#x2F;172227346#comment6" rel="nofollow noreferrer">https:&#x2F;&#x2F;issuetracker.google.com&#x2F;issues&#x2F;172227346#comment6</a><p><i>because the only guarantee which data=ordered provides is the security guarantee that stale data won&#x27;t be revealed.</i><p>Yes, it&#x27;s bad and breaks prefix append consistency, and does not match the documentation...</div><br/></div></div><div id="38376165" class="c"><input type="checkbox" id="c-38376165" checked=""/><div class="controls bullet"><span class="by">consp</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375122">parent</a><span>|</span><a href="#38375555">prev</a><span>|</span><a href="#38375682">next</a><span>|</span><label class="collapse" for="c-38376165">[-]</label><label class="expand" for="c-38376165">[1 more]</label></div><br/><div class="children"><div class="content">My only n=1 observation is that null values in logs occur on nvme, ssd and spinning rust. All ext4 with defaults. I do have the idea it occurs more on nvme drives though. But maybe my systems settings are just booked.</div><br/></div></div><div id="38375682" class="c"><input type="checkbox" id="c-38375682" checked=""/><div class="controls bullet"><span class="by">altfredd</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375122">parent</a><span>|</span><a href="#38376165">prev</a><span>|</span><a href="#38375074">next</a><span>|</span><label class="collapse" for="c-38375682">[-]</label><label class="expand" for="c-38375682">[2 more]</label></div><br/><div class="children"><div class="content">The &quot;data&quot; setting of ext filesystems isn&#x27;t replacement for fsync().</div><br/><div id="38375943" class="c"><input type="checkbox" id="c-38375943" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375682">parent</a><span>|</span><a href="#38375074">next</a><span>|</span><label class="collapse" for="c-38375943">[-]</label><label class="expand" for="c-38375943">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not a replacement but it can give you <i>some</i> guarantees.<p>Also fsync is a terrible API that <i>should</i> be replaced, but that&#x27;s mostly a different topic.</div><br/></div></div></div></div></div></div><div id="38375074" class="c"><input type="checkbox" id="c-38375074" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38374837">parent</a><span>|</span><a href="#38375122">prev</a><span>|</span><a href="#38374760">next</a><span>|</span><label class="collapse" for="c-38375074">[-]</label><label class="expand" for="c-38375074">[6 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think that&#x27;s how it works: Flushing metadata before data would be a security concern (consider e.g. the metadata change of increasing a file&#x27;s length due to an append before the data change itself), so file systems usually only ever do the opposite, which is safe.<p>Getting back zeroes after a metadata sync (which must follow a data sync) would accordingly be an indication of something weird having happened at the disk level: We&#x27;d expect to either see no data at all, or correct data, but not zeroes or any other file&#x27;s or previously written stale data.</div><br/><div id="38375124" class="c"><input type="checkbox" id="c-38375124" checked=""/><div class="controls bullet"><span class="by">Filligree</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375074">parent</a><span>|</span><a href="#38375162">next</a><span>|</span><label class="collapse" for="c-38375124">[-]</label><label class="expand" for="c-38375124">[3 more]</label></div><br/><div class="children"><div class="content">The file isn&#x27;t stored contiguously on disk, so that would depend on the implementation of the filesystem. Perhaps the size of the file can be changed, without extents necessarily being allocated to cover the new size?<p>I seem to vaguely recall an issue like that, for ext4 in particular. Of course it&#x27;s possible in general for any filesystem that supports holes, but I don&#x27;t think we can necessarily assume that the data is always written, and all the pointers to it also written, before the file-size gets updated.</div><br/><div id="38375156" class="c"><input type="checkbox" id="c-38375156" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375124">parent</a><span>|</span><a href="#38375162">next</a><span>|</span><label class="collapse" for="c-38375156">[-]</label><label class="expand" for="c-38375156">[2 more]</label></div><br/><div class="children"><div class="content">At least for ext4 and actually written data (i.e. not ftruncate’d files), I believe zeroes should really not occur.<p>Both extents and the file size are metadata as far as I understand, which would be atomically updated through the journal.<p>Data can be written before metadata (in data=ordered 
mode):<p>&gt; All data are forced directly out to the main file system prior to its metadata being committed to the journal.</div><br/><div id="38375245" class="c"><input type="checkbox" id="c-38375245" checked=""/><div class="controls bullet"><span class="by">Filligree</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375156">parent</a><span>|</span><a href="#38375162">next</a><span>|</span><label class="collapse" for="c-38375245">[-]</label><label class="expand" for="c-38375245">[1 more]</label></div><br/><div class="children"><div class="content">Is data=ordered the default?</div><br/></div></div></div></div></div></div><div id="38375162" class="c"><input type="checkbox" id="c-38375162" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375074">parent</a><span>|</span><a href="#38375124">prev</a><span>|</span><a href="#38374760">next</a><span>|</span><label class="collapse" for="c-38375162">[-]</label><label class="expand" for="c-38375162">[2 more]</label></div><br/><div class="children"><div class="content">Ext3 will totally let you expose yourself to those security issues.  I&#x27;m not sure about ext4.</div><br/><div id="38375187" class="c"><input type="checkbox" id="c-38375187" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38375162">parent</a><span>|</span><a href="#38374760">next</a><span>|</span><label class="collapse" for="c-38375187">[-]</label><label class="expand" for="c-38375187">[1 more]</label></div><br/><div class="children"><div class="content">Only in data=writeback mode, which is not the default in either ext3 or ext4.</div><br/></div></div></div></div></div></div></div></div><div id="38374760" class="c"><input type="checkbox" id="c-38374760" checked=""/><div class="controls bullet"><span class="by">bugfix</span><span>|</span><a href="#38374377">parent</a><span>|</span><a href="#38374837">prev</a><span>|</span><a href="#38373990">next</a><span>|</span><label class="collapse" for="c-38374760">[-]</label><label class="expand" for="c-38374760">[2 more]</label></div><br/><div class="children"><div class="content">I had this exact experience with my workstation SSD (NTFS) after a short power loss while NPM was running. After I turned the computer back on, several files (package.json, package-lock.json and many others inside node_modules) had the correct size on disk but were filled with zeros.<p>I think the last time I had corrupted files after a power loss was in a FAT32 disk on Win98, but you&#x27;d usually get garbage data, not all zeros.</div><br/><div id="38374853" class="c"><input type="checkbox" id="c-38374853" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#38374377">root</a><span>|</span><a href="#38374760">parent</a><span>|</span><a href="#38373990">next</a><span>|</span><label class="collapse" for="c-38374853">[-]</label><label class="expand" for="c-38374853">[1 more]</label></div><br/><div class="children"><div class="content">They may be pointing to unallocated space which on a SSD running TRIM would return all zeros. NTFS is an extremely resilient yet boring filesystem, I cannot remember the last time I had to run chkdsk even after an improper shutdown.</div><br/></div></div></div></div></div></div><div id="38373990" class="c"><input type="checkbox" id="c-38373990" checked=""/><div class="controls bullet"><span class="by">ricardobeat</span><span>|</span><a href="#38374377">prev</a><span>|</span><a href="#38373826">next</a><span>|</span><label class="collapse" for="c-38373990">[-]</label><label class="expand" for="c-38373990">[21 more]</label></div><br/><div class="children"><div class="content">Misleading headline since after testing eight more drives, none more failed.<p>2&#x2F;12 is not nearly as dramatic as “half”, and the ones that lost data are the cheap brands as one would expect.</div><br/><div id="38376725" class="c"><input type="checkbox" id="c-38376725" checked=""/><div class="controls bullet"><span class="by">cm2187</span><span>|</span><a href="#38373990">parent</a><span>|</span><a href="#38374597">next</a><span>|</span><label class="collapse" for="c-38376725">[-]</label><label class="expand" for="c-38376725">[1 more]</label></div><br/><div class="children"><div class="content">To me the real thing missing is whether those drive advertise power loss protection or not. The next question is whether they are to be used in a laptop where power loss protection is less relevant given the local battery.</div><br/></div></div><div id="38374597" class="c"><input type="checkbox" id="c-38374597" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#38373990">parent</a><span>|</span><a href="#38376725">prev</a><span>|</span><a href="#38375808">next</a><span>|</span><label class="collapse" for="c-38374597">[-]</label><label class="expand" for="c-38374597">[15 more]</label></div><br/><div class="children"><div class="content">You can either not editorialize the title, and accept that the thread contains updates, or editorialize it and violate HN guidelines.<p>Either choice will lead somebody to complain</div><br/><div id="38374864" class="c"><input type="checkbox" id="c-38374864" checked=""/><div class="controls bullet"><span class="by">thanhhaimai</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374597">parent</a><span>|</span><a href="#38374749">next</a><span>|</span><label class="collapse" for="c-38374864">[-]</label><label class="expand" for="c-38374864">[6 more]</label></div><br/><div class="children"><div class="content">It&#x27;s clear from the guidelines:
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38365934#38368867">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38365934#38368867</a><p>Specifically: use the original title, then express your view as a top level comment. If people agree with it, the comment is naturally voted up.</div><br/><div id="38374923" class="c"><input type="checkbox" id="c-38374923" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374864">parent</a><span>|</span><a href="#38374994">next</a><span>|</span><label class="collapse" for="c-38374923">[-]</label><label class="expand" for="c-38374923">[4 more]</label></div><br/><div class="children"><div class="content">Yes, and the OP did abide by HN guidelines. But GGP implied that the title was misleading; but it was the original title! So, what to do if the original title is misleading?<p>Admittedly this is a twitter thread, so no &quot;actual title&quot; exists.</div><br/><div id="38376314" class="c"><input type="checkbox" id="c-38376314" checked=""/><div class="controls bullet"><span class="by">_Algernon_</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374923">parent</a><span>|</span><a href="#38374994">next</a><span>|</span><label class="collapse" for="c-38376314">[-]</label><label class="expand" for="c-38376314">[3 more]</label></div><br/><div class="children"><div class="content">&gt;So, what to do if the original title is misleading?<p>I&#x27;d suggest posting an alternative, non-misleading source instead, or if none exists, don&#x27;t post at all.</div><br/><div id="38376532" class="c"><input type="checkbox" id="c-38376532" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38376314">parent</a><span>|</span><a href="#38376371">next</a><span>|</span><label class="collapse" for="c-38376532">[-]</label><label class="expand" for="c-38376532">[1 more]</label></div><br/><div class="children"><div class="content">Personally, I _do_ editorialize by posting a “summary” of what a post discusses, if there’s no real title. I try not to make it pass as my own opinion; sometimes it happened that mods reverted it to the original, less relevant title.</div><br/></div></div><div id="38376371" class="c"><input type="checkbox" id="c-38376371" checked=""/><div class="controls bullet"><span class="by">andybak</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38376314">parent</a><span>|</span><a href="#38376532">prev</a><span>|</span><a href="#38374994">next</a><span>|</span><label class="collapse" for="c-38376371">[-]</label><label class="expand" for="c-38376371">[1 more]</label></div><br/><div class="children"><div class="content">Then this very interesting piece would never never come to my attention. Which is surely the worst outcome.</div><br/></div></div></div></div></div></div><div id="38374994" class="c"><input type="checkbox" id="c-38374994" checked=""/><div class="controls bullet"><span class="by">KennyBlanken</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374864">parent</a><span>|</span><a href="#38374923">prev</a><span>|</span><a href="#38374749">next</a><span>|</span><label class="collapse" for="c-38374994">[-]</label><label class="expand" for="c-38374994">[1 more]</label></div><br/><div class="children"><div class="content">....except people routinely submit articles with titles edited to be clickbaity and misleading, they get upvoted, and nothing happens.</div><br/></div></div></div></div><div id="38374749" class="c"><input type="checkbox" id="c-38374749" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374597">parent</a><span>|</span><a href="#38374864">prev</a><span>|</span><a href="#38375808">next</a><span>|</span><label class="collapse" for="c-38374749">[-]</label><label class="expand" for="c-38374749">[8 more]</label></div><br/><div class="children"><div class="content">Clearly they should only editorialize the ones that are wrong.</div><br/><div id="38374926" class="c"><input type="checkbox" id="c-38374926" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374749">parent</a><span>|</span><a href="#38375808">next</a><span>|</span><label class="collapse" for="c-38374926">[-]</label><label class="expand" for="c-38374926">[7 more]</label></div><br/><div class="children"><div class="content">That doesn&#x27;t help, HN mods still &quot;correct&quot; it back to the wrong title even in that case.</div><br/><div id="38375029" class="c"><input type="checkbox" id="c-38375029" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374926">parent</a><span>|</span><a href="#38375000">next</a><span>|</span><label class="collapse" for="c-38375029">[-]</label><label class="expand" for="c-38375029">[4 more]</label></div><br/><div class="children"><div class="content">That was sarcasm, as what&#x27;s &quot;wrong&quot; is often subjective and up to interpretation.</div><br/><div id="38375482" class="c"><input type="checkbox" id="c-38375482" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38375029">parent</a><span>|</span><a href="#38375000">next</a><span>|</span><label class="collapse" for="c-38375482">[-]</label><label class="expand" for="c-38375482">[3 more]</label></div><br/><div class="children"><div class="content">And it&#x27;s often not.</div><br/><div id="38375499" class="c"><input type="checkbox" id="c-38375499" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38375482">parent</a><span>|</span><a href="#38375000">next</a><span>|</span><label class="collapse" for="c-38375499">[-]</label><label class="expand" for="c-38375499">[2 more]</label></div><br/><div class="children"><div class="content">Then it gets flagged and removed. The end.</div><br/><div id="38375550" class="c"><input type="checkbox" id="c-38375550" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38375499">parent</a><span>|</span><a href="#38375000">next</a><span>|</span><label class="collapse" for="c-38375550">[-]</label><label class="expand" for="c-38375550">[1 more]</label></div><br/><div class="children"><div class="content">No it doesn&#x27;t.  Good stories with bad titles almost always stay up.</div><br/></div></div></div></div></div></div></div></div><div id="38375000" class="c"><input type="checkbox" id="c-38375000" checked=""/><div class="controls bullet"><span class="by">KennyBlanken</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38374926">parent</a><span>|</span><a href="#38375029">prev</a><span>|</span><a href="#38375808">next</a><span>|</span><label class="collapse" for="c-38375000">[-]</label><label class="expand" for="c-38375000">[2 more]</label></div><br/><div class="children"><div class="content">So is it the mods who are editing titles of articles to be more sensational and clickbait-y? Because this happens all the damn time, flagging does nothing, etc.</div><br/><div id="38375036" class="c"><input type="checkbox" id="c-38375036" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38375000">parent</a><span>|</span><a href="#38375808">next</a><span>|</span><label class="collapse" for="c-38375036">[-]</label><label class="expand" for="c-38375036">[1 more]</label></div><br/><div class="children"><div class="content">In many cases yes. I don&#x27;t know if it&#x27;s an automated or manual process (it seems to happen less when the US is asleep, so I suspect it&#x27;s manual?), but generally if you submit a link with a title edited to be less sensational and clickbait-y it gets changed to the linked article title.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38375808" class="c"><input type="checkbox" id="c-38375808" checked=""/><div class="controls bullet"><span class="by">Shekelphile</span><span>|</span><a href="#38373990">parent</a><span>|</span><a href="#38374597">prev</a><span>|</span><a href="#38375188">next</a><span>|</span><label class="collapse" for="c-38375808">[-]</label><label class="expand" for="c-38375808">[2 more]</label></div><br/><div class="children"><div class="content">2&#x2F;12 is not good, especially if the drives that failed were using off the shelf phison controllers which is basically the entire market besides sandisk&#x2F;samsung&#x2F;intel.</div><br/><div id="38376652" class="c"><input type="checkbox" id="c-38376652" checked=""/><div class="controls bullet"><span class="by">SuchAnonMuchWow</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38375808">parent</a><span>|</span><a href="#38375188">next</a><span>|</span><label class="collapse" for="c-38376652">[-]</label><label class="expand" for="c-38376652">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t seems to be related to the controller: the same phison controller was in some model that failed and some models that passed.<p>(see later in the thread: <a href="https:&#x2F;&#x2F;twitter.com&#x2F;xenadu02&#x2F;status&#x2F;1496770658750980103" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;xenadu02&#x2F;status&#x2F;1496770658750980103</a>)</div><br/></div></div></div></div><div id="38375188" class="c"><input type="checkbox" id="c-38375188" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38373990">parent</a><span>|</span><a href="#38375808">prev</a><span>|</span><a href="#38373826">next</a><span>|</span><label class="collapse" for="c-38375188">[-]</label><label class="expand" for="c-38375188">[2 more]</label></div><br/><div class="children"><div class="content">SK Hynix is a major brand and the P31 is a great midrange SSD... except for the fact that it seemingly doesn&#x27;t care about your data.</div><br/><div id="38376583" class="c"><input type="checkbox" id="c-38376583" checked=""/><div class="controls bullet"><span class="by">ricardobeat</span><span>|</span><a href="#38373990">root</a><span>|</span><a href="#38375188">parent</a><span>|</span><a href="#38373826">next</a><span>|</span><label class="collapse" for="c-38376583">[-]</label><label class="expand" for="c-38376583">[1 more]</label></div><br/><div class="children"><div class="content">I have a Sabrent M2 in my own PC, bought it because it was the cheapest option. Incidentally I suspect it&#x27;s the cause of system-wide slowdown in the past few months, even opening the file explorer takes over ten seconds sometimes.</div><br/></div></div></div></div></div></div><div id="38373826" class="c"><input type="checkbox" id="c-38373826" checked=""/><div class="controls bullet"><span class="by">IngvarLynn</span><span>|</span><a href="#38373990">prev</a><span>|</span><a href="#38373156">next</a><span>|</span><label class="collapse" for="c-38373826">[-]</label><label class="expand" for="c-38373826">[8 more]</label></div><br/><div class="children"><div class="content">There is a flood of fake SSDs currently, mostly big brands. I&#x27;ve recently purchased counterfeit 1TB. It passes all the tests, performance is ok, it works... except it gets episodes where ioping would be anything between 0.7 ms and 15 seconds, that is under zero load. And these are quality fakes from a physical appearance perspective. The only way I could tell mine was fake is that the official Kingston firmware update tool would not recognize this drive.</div><br/><div id="38374430" class="c"><input type="checkbox" id="c-38374430" checked=""/><div class="controls bullet"><span class="by">loeg</span><span>|</span><a href="#38373826">parent</a><span>|</span><a href="#38374604">next</a><span>|</span><label class="collapse" for="c-38374430">[-]</label><label class="expand" for="c-38374430">[3 more]</label></div><br/><div class="children"><div class="content">Where are you seeing counterfeits?  AliExpress, Ebay, Amazon?</div><br/><div id="38375973" class="c"><input type="checkbox" id="c-38375973" checked=""/><div class="controls bullet"><span class="by">Shekelphile</span><span>|</span><a href="#38373826">root</a><span>|</span><a href="#38374430">parent</a><span>|</span><a href="#38374604">next</a><span>|</span><label class="collapse" for="c-38375973">[-]</label><label class="expand" for="c-38375973">[2 more]</label></div><br/><div class="children"><div class="content">Probably chinese sellers on all those sites. I&#x27;ve noticed a common thread with people who complain about counterfeits is that they&#x27;re literally buying alphabet soup brand fakes from chinese FBA sellers instead of buying products directly sold by amazon or from more traditional retail channels.</div><br/><div id="38376470" class="c"><input type="checkbox" id="c-38376470" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#38373826">root</a><span>|</span><a href="#38375973">parent</a><span>|</span><a href="#38374604">next</a><span>|</span><label class="collapse" for="c-38376470">[-]</label><label class="expand" for="c-38376470">[1 more]</label></div><br/><div class="children"><div class="content">There’s definitely a problem with my grandma or some less-technically educated person buying “alphabet soup” fakes, BUT Amazon does commingle inventory. This means that lots of people can end up with fakes sold by 3rd parties when buying from a reputable brand.<p>There were even stories of those crazy coupon people reselling on Amazon, and some cases of returned retail products ending up as “new” on Amazon. Which gets problematic with certain things like consumables (the WSJ did an article on toothpastes iirc).</div><br/></div></div></div></div></div></div><div id="38374604" class="c"><input type="checkbox" id="c-38374604" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#38373826">parent</a><span>|</span><a href="#38374430">prev</a><span>|</span><a href="#38375360">next</a><span>|</span><label class="collapse" for="c-38374604">[-]</label><label class="expand" for="c-38374604">[1 more]</label></div><br/><div class="children"><div class="content">Did you get the fake in an official box? Or OEM version? This is quite a big claim.</div><br/></div></div><div id="38375360" class="c"><input type="checkbox" id="c-38375360" checked=""/><div class="controls bullet"><span class="by">schainks</span><span>|</span><a href="#38373826">parent</a><span>|</span><a href="#38374604">prev</a><span>|</span><a href="#38374341">next</a><span>|</span><label class="collapse" for="c-38375360">[-]</label><label class="expand" for="c-38375360">[1 more]</label></div><br/><div class="children"><div class="content">If you dig at the vendor data stored on the drive firmware, fakes are easy to spot. Model numbers, vendor ID, and serial numbers will be zero’d out or not conforming to manufacturer spec.<p>I purchased a bunch of fake kingston SD cards in China that worked well enough for the price, but crapped out within a year of mild use. I didn’t lose data. It was as if one day they worked. Then one day they were fried.</div><br/></div></div><div id="38374341" class="c"><input type="checkbox" id="c-38374341" checked=""/><div class="controls bullet"><span class="by">jwells89</span><span>|</span><a href="#38373826">parent</a><span>|</span><a href="#38375360">prev</a><span>|</span><a href="#38374753">next</a><span>|</span><label class="collapse" for="c-38374341">[-]</label><label class="expand" for="c-38374341">[1 more]</label></div><br/><div class="children"><div class="content">That’s wild. Is this limited to specific distribution channels or can you get them from anywhere?</div><br/></div></div><div id="38374753" class="c"><input type="checkbox" id="c-38374753" checked=""/><div class="controls bullet"><span class="by">archsurface</span><span>|</span><a href="#38373826">parent</a><span>|</span><a href="#38374341">prev</a><span>|</span><a href="#38373156">next</a><span>|</span><label class="collapse" for="c-38374753">[-]</label><label class="expand" for="c-38374753">[1 more]</label></div><br/><div class="children"><div class="content">How do you conclude from a single drive that there is a flood?</div><br/></div></div></div></div><div id="38373156" class="c"><input type="checkbox" id="c-38373156" checked=""/><div class="controls bullet"><span class="by">loloquwowndueo</span><span>|</span><a href="#38373826">prev</a><span>|</span><a href="#38373534">next</a><span>|</span><label class="collapse" for="c-38373156">[-]</label><label class="expand" for="c-38373156">[18 more]</label></div><br/><div class="children"><div class="content">Twitter yuk, can somebody just post the names of the four tested drives and which passed&#x2F;failed please?</div><br/><div id="38373675" class="c"><input type="checkbox" id="c-38373675" checked=""/><div class="controls bullet"><span class="by">RankingMember</span><span>|</span><a href="#38373156">parent</a><span>|</span><a href="#38373956">next</a><span>|</span><label class="collapse" for="c-38373675">[-]</label><label class="expand" for="c-38373675">[11 more]</label></div><br/><div class="children"><div class="content">imo hackernews should just automatically replace twitter.com with nitter.net even if just for readability without logging in&#x27;s sake:<p><a href="https:&#x2F;&#x2F;nitter.net&#x2F;xenadu02&#x2F;status&#x2F;1495693475584557056" rel="nofollow noreferrer">https:&#x2F;&#x2F;nitter.net&#x2F;xenadu02&#x2F;status&#x2F;1495693475584557056</a></div><br/><div id="38375183" class="c"><input type="checkbox" id="c-38375183" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38373675">parent</a><span>|</span><a href="#38376443">next</a><span>|</span><label class="collapse" for="c-38375183">[-]</label><label class="expand" for="c-38375183">[4 more]</label></div><br/><div class="children"><div class="content">We should just learn to ignore people still posting on Twitter (which is called something else now).</div><br/><div id="38376391" class="c"><input type="checkbox" id="c-38376391" checked=""/><div class="controls bullet"><span class="by">andybak</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38375183">parent</a><span>|</span><a href="#38376063">next</a><span>|</span><label class="collapse" for="c-38376391">[-]</label><label class="expand" for="c-38376391">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m still posting on Twitter because the people I&#x27;m trying to reach are still there and the alternatives never materialised.</div><br/><div id="38376789" class="c"><input type="checkbox" id="c-38376789" checked=""/><div class="controls bullet"><span class="by">WendyTheWillow</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38376391">parent</a><span>|</span><a href="#38376063">next</a><span>|</span><label class="collapse" for="c-38376789">[-]</label><label class="expand" for="c-38376789">[1 more]</label></div><br/><div class="children"><div class="content">Then you are still part of the problem.<p>Besides, if you&#x27;re <i>trying</i> to reach the people who remain on Twitter, that says a decent amount about you.</div><br/></div></div></div></div><div id="38376063" class="c"><input type="checkbox" id="c-38376063" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38375183">parent</a><span>|</span><a href="#38376391">prev</a><span>|</span><a href="#38376443">next</a><span>|</span><label class="collapse" for="c-38376063">[-]</label><label class="expand" for="c-38376063">[1 more]</label></div><br/><div class="children"><div class="content">This is from last year.</div><br/></div></div></div></div><div id="38376443" class="c"><input type="checkbox" id="c-38376443" checked=""/><div class="controls bullet"><span class="by">lapsis_beeftech</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38373675">parent</a><span>|</span><a href="#38375183">prev</a><span>|</span><a href="#38376430">next</a><span>|</span><label class="collapse" for="c-38376443">[-]</label><label class="expand" for="c-38376443">[2 more]</label></div><br/><div class="children"><div class="content">Is nitter.net still functional for you? The service was accessible earlier this year from my location but now it is all 403 Forbidden.</div><br/><div id="38376617" class="c"><input type="checkbox" id="c-38376617" checked=""/><div class="controls bullet"><span class="by">automatic6131</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38376443">parent</a><span>|</span><a href="#38376430">next</a><span>|</span><label class="collapse" for="c-38376617">[-]</label><label class="expand" for="c-38376617">[1 more]</label></div><br/><div class="children"><div class="content">nitter.net is, the mirrors are not.<p>iirc, twitter turned off all anonymous access, unless you come from a search engine, then you get a limit number of requests. So zedeus came up with an idea to make a massive pool of search engine&#x27;d api tokens and use those to keep nitter up. The mirrors would have to copy that idea, and few (0?) have atm.</div><br/></div></div></div></div><div id="38376430" class="c"><input type="checkbox" id="c-38376430" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38373675">parent</a><span>|</span><a href="#38376443">prev</a><span>|</span><a href="#38373964">next</a><span>|</span><label class="collapse" for="c-38376430">[-]</label><label class="expand" for="c-38376430">[1 more]</label></div><br/><div class="children"><div class="content">And reddit links with old reddit.</div><br/></div></div><div id="38373964" class="c"><input type="checkbox" id="c-38373964" checked=""/><div class="controls bullet"><span class="by">neoecos</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38373675">parent</a><span>|</span><a href="#38376430">prev</a><span>|</span><a href="#38373956">next</a><span>|</span><label class="collapse" for="c-38373964">[-]</label><label class="expand" for="c-38373964">[3 more]</label></div><br/><div class="children"><div class="content">The Harmonic HN reader for Android does this</div><br/><div id="38374127" class="c"><input type="checkbox" id="c-38374127" checked=""/><div class="controls bullet"><span class="by">arbitrandomuser</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38373964">parent</a><span>|</span><a href="#38373956">next</a><span>|</span><label class="collapse" for="c-38374127">[-]</label><label class="expand" for="c-38374127">[2 more]</label></div><br/><div class="children"><div class="content">Uhm nope , atleast not the one on playstore , is it there somewhere in the settings ?</div><br/><div id="38374144" class="c"><input type="checkbox" id="c-38374144" checked=""/><div class="controls bullet"><span class="by">arbitrandomuser</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38374127">parent</a><span>|</span><a href="#38373956">next</a><span>|</span><label class="collapse" for="c-38374144">[-]</label><label class="expand" for="c-38374144">[1 more]</label></div><br/><div class="children"><div class="content">Oooh yes , found it in the settings</div><br/></div></div></div></div></div></div></div></div><div id="38373956" class="c"><input type="checkbox" id="c-38373956" checked=""/><div class="controls bullet"><span class="by">temp112123</span><span>|</span><a href="#38373156">parent</a><span>|</span><a href="#38373675">prev</a><span>|</span><a href="#38376572">next</a><span>|</span><label class="collapse" for="c-38373956">[-]</label><label class="expand" for="c-38373956">[2 more]</label></div><br/><div class="children"><div class="content">The models that never lost data: Samsung 970 EVO Pro 2TB and WD Red SN700 1TB<p>Correction: “Plus” not “Pro”. Exact model and date codes:<p>Samsung 970 Evo Plus: MZ-V7S2T0, 2021.10
WD Red: WDS100T1R0C-68BDK0, 04Sept2021<p>Update 2: models that lost writes:
SK Hynix Gold P31 2TB SHGP31-2000GM-2, FW 31060C20
Sabrent Rocket 512 (Phison PH-SBT-RKT-303 controller, no version or date codes listed)</div><br/><div id="38376762" class="c"><input type="checkbox" id="c-38376762" checked=""/><div class="controls bullet"><span class="by">sundvor</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38373956">parent</a><span>|</span><a href="#38376572">next</a><span>|</span><label class="collapse" for="c-38376762">[-]</label><label class="expand" for="c-38376762">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, the 970 Evo Plus is a solid unit. I have one in my old PC, along with a 980 Pro. Went 990 Pros  on my new, they didn&#x27;t go 30 minutes before I had the firmware updated. :-) Very good performers.<p>(I always keep an eye on things like firmware updates).</div><br/></div></div></div></div><div id="38376572" class="c"><input type="checkbox" id="c-38376572" checked=""/><div class="controls bullet"><span class="by">Double_a_92</span><span>|</span><a href="#38373156">parent</a><span>|</span><a href="#38373956">prev</a><span>|</span><a href="#38373921">next</a><span>|</span><label class="collapse" for="c-38376572">[-]</label><label class="expand" for="c-38376572">[2 more]</label></div><br/><div class="children"><div class="content">We should just say X. Not &quot;X (formerly Twitter), not X-itter, or anything. It&#x27;s called X, if that name is stupid and unclear that&#x27;s on them.</div><br/><div id="38376782" class="c"><input type="checkbox" id="c-38376782" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#38373156">root</a><span>|</span><a href="#38376572">parent</a><span>|</span><a href="#38373921">next</a><span>|</span><label class="collapse" for="c-38376782">[-]</label><label class="expand" for="c-38376782">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s also on you since you have a choice re which name to use</div><br/></div></div></div></div></div></div><div id="38373534" class="c"><input type="checkbox" id="c-38373534" checked=""/><div class="controls bullet"><span class="by">CoastalCoder</span><span>|</span><a href="#38373156">prev</a><span>|</span><a href="#38376723">next</a><span>|</span><label class="collapse" for="c-38373534">[-]</label><label class="expand" for="c-38373534">[16 more]</label></div><br/><div class="children"><div class="content">Does advertising a product as adhering to some standard, but secretly knowing that it doesn&#x27;t 100%, count as e.g. fraud?  I.e., is there any established case law on the matter?<p>I&#x27;m thinking of this example, but also more generally USB devices, Bluetooth devices, etc.</div><br/><div id="38376765" class="c"><input type="checkbox" id="c-38376765" checked=""/><div class="controls bullet"><span class="by">nraynaud</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38376262">next</a><span>|</span><label class="collapse" for="c-38376765">[-]</label><label class="expand" for="c-38376765">[1 more]</label></div><br/><div class="children"><div class="content">[delayed]</div><br/></div></div><div id="38376262" class="c"><input type="checkbox" id="c-38376262" checked=""/><div class="controls bullet"><span class="by">sofixa</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38376765">prev</a><span>|</span><a href="#38374232">next</a><span>|</span><label class="collapse" for="c-38376262">[-]</label><label class="expand" for="c-38376262">[2 more]</label></div><br/><div class="children"><div class="content">&gt; there any established case law on the matter<p>Always makes me laugh.<p>Anyways, not in the US where you&#x27;re probably asking for, but yes, the vast majority of the developed word has that. It&#x27;s called &quot;false advertising&quot;, and exists at least in the EU, Australia, UK. You can&#x27;t put a label on your product or advert that is false or misleading.<p>So if the box says this is a WiFi6E router, but it&#x27;s actually only 5 because it&#x27;s using the wrong components to save on costs, you can report them to the relevant authority and they&#x27;ll be fined (and depending on the case and scenario you get compensation). The process is a harder bordering on the impossible if you bought from AliExpress from a random no name vendor though, but as long as the vendor or platform or store exists in the country with the sensible regulation you can report it.</div><br/><div id="38376579" class="c"><input type="checkbox" id="c-38376579" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38376262">parent</a><span>|</span><a href="#38374232">next</a><span>|</span><label class="collapse" for="c-38376579">[-]</label><label class="expand" for="c-38376579">[1 more]</label></div><br/><div class="children"><div class="content">That’s not really what the commenter was asking. That’d be false advertising in the US too.<p>I think the question is less “if they skip on parts and lie” and more along the lines of incompleteness. Like “it’s an HTTP server, but they saved on effort and implement put as post, which works fine for most of use cases”.<p>That said, I’d guess this would be a pretty hard case to win. The law typically requires intent when false advertising, so if they didn’t know they didn’t follow the spec they might be fine. And it depends on the claims and what the consumer can expect. Like, if you deliberately don’t say explain the exact spec your SSD complies with, and you make no explicit promises of compatibility, it’s a harder win. Like I bet few SSD manufacturers will say “Serial ATA v3.5 (may 2023) tested and compatible with OpenXFS commit XYZ on Debian Linux running kernel version 4.3.2”. But if they say “super fast SSD with a physical SATA cable socket”, then what really was false if it doesn’t support the full spec?</div><br/></div></div></div></div><div id="38374232" class="c"><input type="checkbox" id="c-38374232" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38376262">prev</a><span>|</span><a href="#38374176">next</a><span>|</span><label class="collapse" for="c-38374232">[-]</label><label class="expand" for="c-38374232">[3 more]</label></div><br/><div class="children"><div class="content">I was under the impression that a lot of off-brand USB devices didn&#x27;t use the USB logo specifically to get around certification requirements. Basically, they just <i>aren&#x27;t</i> advertising adherence to a standard. No idea about NVMe or BT.</div><br/><div id="38376466" class="c"><input type="checkbox" id="c-38376466" checked=""/><div class="controls bullet"><span class="by">adhesive_wombat</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38374232">parent</a><span>|</span><a href="#38376587">next</a><span>|</span><label class="collapse" for="c-38376466">[-]</label><label class="expand" for="c-38376466">[1 more]</label></div><br/><div class="children"><div class="content">The USB trident logo doesn&#x27;t need certification. The other, usually coloured, logos do need certification.<p><a href="https:&#x2F;&#x2F;ftdichip.com&#x2F;wp-content&#x2F;uploads&#x2F;2020&#x2F;08&#x2F;TN_114_USB-Device-Testing-and-Marking.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;ftdichip.com&#x2F;wp-content&#x2F;uploads&#x2F;2020&#x2F;08&#x2F;TN_114_USB-D...</a><p><a href="https:&#x2F;&#x2F;www.usb.org&#x2F;sites&#x2F;default&#x2F;files&#x2F;usb-if_original_logo_usage_guidelines_final_20230818.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.usb.org&#x2F;sites&#x2F;default&#x2F;files&#x2F;usb-if_original_logo...</a></div><br/></div></div><div id="38376587" class="c"><input type="checkbox" id="c-38376587" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38374232">parent</a><span>|</span><a href="#38376466">prev</a><span>|</span><a href="#38374176">next</a><span>|</span><label class="collapse" for="c-38376587">[-]</label><label class="expand" for="c-38376587">[1 more]</label></div><br/><div class="children"><div class="content">I’ve similarly seen a lot of “TF card reader slots” instead of “micro SD card” slots.</div><br/></div></div></div></div><div id="38374176" class="c"><input type="checkbox" id="c-38374176" checked=""/><div class="controls bullet"><span class="by">hsbauauvhabzb</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38374232">prev</a><span>|</span><a href="#38375096">next</a><span>|</span><label class="collapse" for="c-38374176">[-]</label><label class="expand" for="c-38374176">[2 more]</label></div><br/><div class="children"><div class="content">Hardware vendors are known to swap to cheaper lower performance hardware after reviews are out which in my eyes is fraud, whether or not the law agrees is a different story.</div><br/><div id="38376447" class="c"><input type="checkbox" id="c-38376447" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38374176">parent</a><span>|</span><a href="#38375096">next</a><span>|</span><label class="collapse" for="c-38376447">[-]</label><label class="expand" for="c-38376447">[1 more]</label></div><br/><div class="children"><div class="content">Please name the vendors that do this so I can avoid them.</div><br/></div></div></div></div><div id="38375096" class="c"><input type="checkbox" id="c-38375096" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38374176">prev</a><span>|</span><a href="#38375693">next</a><span>|</span><label class="collapse" for="c-38375096">[-]</label><label class="expand" for="c-38375096">[3 more]</label></div><br/><div class="children"><div class="content">Not a lawyer, but I doubt it – otherwise you might have a case against Intel and AMD regarding Spectre and Meltdown?<p>It might be a different story if the spec was intentionally violated, though (rather than incidentally, i.e. due to an idea that should have been transparent&#x2F;indistinguishable externally but didn&#x27;t work out).</div><br/><div id="38375191" class="c"><input type="checkbox" id="c-38375191" checked=""/><div class="controls bullet"><span class="by">KennyBlanken</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38375096">parent</a><span>|</span><a href="#38375693">next</a><span>|</span><label class="collapse" for="c-38375191">[-]</label><label class="expand" for="c-38375191">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Oops we didn&#x27;t mean to do that&quot; isn&#x27;t a defense from liability for product not doing what you told the purchaser it would.<p>It&#x27;s their responsibility to do develop the product correctly, do QA, and if a defect is found, advise customers or stop selling the defective goods.<p>The greatest scam the computer industry pulled was convincing people that computers are magical, unpredictable devices that are too complex for the industry to be held responsible for things not working as claimed.</div><br/><div id="38375221" class="c"><input type="checkbox" id="c-38375221" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38375191">parent</a><span>|</span><a href="#38375693">next</a><span>|</span><label class="collapse" for="c-38375221">[-]</label><label class="expand" for="c-38375221">[1 more]</label></div><br/><div class="children"><div class="content">To be fair, I’m not even sure if the majority of consumers would prefer a “power outage safe” SSD that is however significantly slower over the alternative.<p>I do agree that there should be transparency, though: Label it “turbo mode”, add a big warning sticker (and ideally a way to opt out of it via software or hardware), but don’t just pretend to be able to have the cake and eat it too.</div><br/></div></div></div></div></div></div><div id="38375693" class="c"><input type="checkbox" id="c-38375693" checked=""/><div class="controls bullet"><span class="by">teo_zero</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38375096">prev</a><span>|</span><a href="#38375196">next</a><span>|</span><label class="collapse" for="c-38375693">[-]</label><label class="expand" for="c-38375693">[1 more]</label></div><br/><div class="children"><div class="content">For IT products, I doubt it.  For sectors where regulation is more mature of course: take food, automotive, etc.</div><br/></div></div><div id="38375196" class="c"><input type="checkbox" id="c-38375196" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38375693">prev</a><span>|</span><a href="#38375126">next</a><span>|</span><label class="collapse" for="c-38375196">[-]</label><label class="expand" for="c-38375196">[2 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t say fraud but this issue should trigger a recall.</div><br/><div id="38376801" class="c"><input type="checkbox" id="c-38376801" checked=""/><div class="controls bullet"><span class="by">nraynaud</span><span>|</span><a href="#38373534">root</a><span>|</span><a href="#38375196">parent</a><span>|</span><a href="#38375126">next</a><span>|</span><label class="collapse" for="c-38376801">[-]</label><label class="expand" for="c-38376801">[1 more]</label></div><br/><div class="children"><div class="content">[delayed]</div><br/></div></div></div></div><div id="38375126" class="c"><input type="checkbox" id="c-38375126" checked=""/><div class="controls bullet"><span class="by">KennyBlanken</span><span>|</span><a href="#38373534">parent</a><span>|</span><a href="#38375196">prev</a><span>|</span><a href="#38376723">next</a><span>|</span><label class="collapse" for="c-38375126">[-]</label><label class="expand" for="c-38375126">[1 more]</label></div><br/><div class="children"><div class="content">Merchantability and implied fitness? You absolutely could try sue the in small claims court for damages.<p>For extra fun: if the box carries a trademark from a standards group, you could try adding them into the suit; use of their trademarked logo could be argued to be implied fitness, if there are standards the drive is supposed to meet to use it.<p>At the very least they might get tired of the expense of the expense of sending someone to defend the claim, and it would cease to be profitable to engage in this scammery.</div><br/></div></div></div></div><div id="38376723" class="c"><input type="checkbox" id="c-38376723" checked=""/><div class="controls bullet"><span class="by">tw1984</span><span>|</span><a href="#38373534">prev</a><span>|</span><a href="#38373347">next</a><span>|</span><label class="collapse" for="c-38376723">[-]</label><label class="expand" for="c-38376723">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t use home-grade SSDs for storing anything that is considered critical.<p>The rule is not that hard to remember.</div><br/></div></div><div id="38373347" class="c"><input type="checkbox" id="c-38373347" checked=""/><div class="controls bullet"><span class="by">handedness</span><span>|</span><a href="#38376723">prev</a><span>|</span><a href="#38373172">next</a><span>|</span><label class="collapse" for="c-38373347">[-]</label><label class="expand" for="c-38373347">[1 more]</label></div><br/><div class="children"><div class="content">Previous Discussion: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30419618">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30419618</a></div><br/></div></div><div id="38373172" class="c"><input type="checkbox" id="c-38373172" checked=""/><div class="controls bullet"><span class="by">sashk</span><span>|</span><a href="#38373347">prev</a><span>|</span><a href="#38374606">next</a><span>|</span><label class="collapse" for="c-38373172">[-]</label><label class="expand" for="c-38373172">[3 more]</label></div><br/><div class="children"><div class="content">This is (2022).<p>Wondering if anything changed since the original tests...</div><br/><div id="38373348" class="c"><input type="checkbox" id="c-38373348" checked=""/><div class="controls bullet"><span class="by">throw0101b</span><span>|</span><a href="#38373172">parent</a><span>|</span><a href="#38374606">next</a><span>|</span><label class="collapse" for="c-38373348">[-]</label><label class="expand" for="c-38373348">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Wondering if anything changed since the original tests...</i><p>You&#x27;re wondering if firmware writers lie to layers higher up in the stack? I think it&#x27;s a 100% certainly that there&#x27;s drive firmware that lies.<p>There&#x27;s a reason why many vendors have compatibility lists, approved firmware versions, and even their &quot;own&quot; (rebranded from an OEM) drives that you have to buy if you want official support (and it&#x27;s not <i>entirely</i> a money grab: a QA testing infrastructure does cost money).</div><br/><div id="38375351" class="c"><input type="checkbox" id="c-38375351" checked=""/><div class="controls bullet"><span class="by">Tarball10</span><span>|</span><a href="#38373172">root</a><span>|</span><a href="#38373348">parent</a><span>|</span><a href="#38374606">next</a><span>|</span><label class="collapse" for="c-38375351">[-]</label><label class="expand" for="c-38375351">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious whether any of the brands which failed this test owned up to the issue and released firmware updates.</div><br/></div></div></div></div></div></div><div id="38374606" class="c"><input type="checkbox" id="c-38374606" checked=""/><div class="controls bullet"><span class="by">tripdout</span><span>|</span><a href="#38373172">prev</a><span>|</span><a href="#38372129">next</a><span>|</span><label class="collapse" for="c-38374606">[-]</label><label class="expand" for="c-38374606">[2 more]</label></div><br/><div class="children"><div class="content">Flushing in this case is from the SSDs internal DRAM cache to the actual NAND flash?</div><br/><div id="38375031" class="c"><input type="checkbox" id="c-38375031" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#38374606">parent</a><span>|</span><a href="#38372129">next</a><span>|</span><label class="collapse" for="c-38375031">[-]</label><label class="expand" for="c-38375031">[1 more]</label></div><br/><div class="children"><div class="content">It’s the computer telling the drive “write everything to durable storage (as opposed to some kind of in-drive cache&#x2F;RAM) and tell me when it’s done”.<p>After that command it should be 100% safe to pull the power because everything SHOULD have been written to flash. That’s the point of the command.<p>It’s interesting that the drives that do it wrong still take time indicating they’re doing <i>something</i>.</div><br/></div></div></div></div><div id="38372129" class="c"><input type="checkbox" id="c-38372129" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38374606">prev</a><span>|</span><a href="#38376563">next</a><span>|</span><label class="collapse" for="c-38372129">[-]</label><label class="expand" for="c-38372129">[7 more]</label></div><br/><div class="children"><div class="content">I guess it&#x27;s time for `fsync_but_really_actually_sync_it_please(2)` (and the lower level equivalents in SATA, NVMe etc.)?</div><br/><div id="38373382" class="c"><input type="checkbox" id="c-38373382" checked=""/><div class="controls bullet"><span class="by">throw0101b</span><span>|</span><a href="#38372129">parent</a><span>|</span><a href="#38372297">next</a><span>|</span><label class="collapse" for="c-38373382">[-]</label><label class="expand" for="c-38373382">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>(and the lower level equivalents in SATA, NVMe etc.)?</i><p>This is not a technical problem that needs yet another SATA&#x2F;SAS&#x2F;<i>etc</i> command to be standardized. It&#x27;s a &#x27;social&#x27; problem that there&#x27;s no real incentives for firmware writers to tell the truth 100% of the time.<p>The best you can hope for is if you buy a fancy-pants enterprise storage solution with compatibility lists and approved firmware versions.</div><br/><div id="38375202" class="c"><input type="checkbox" id="c-38375202" checked=""/><div class="controls bullet"><span class="by">lxgr</span><span>|</span><a href="#38372129">root</a><span>|</span><a href="#38373382">parent</a><span>|</span><a href="#38372297">next</a><span>|</span><label class="collapse" for="c-38375202">[-]</label><label class="expand" for="c-38375202">[1 more]</label></div><br/><div class="children"><div class="content">Well said.<p>Not even OS vendors are immune to the temptations of higher performance through somewhat relaxed interpretation of interfaces: <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;System&#x2F;Conceptual&#x2F;ManPages_iPhoneOS&#x2F;man2&#x2F;fsync.2.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;archive&#x2F;documentation&#x2F;Sy...</a></div><br/></div></div></div></div><div id="38372297" class="c"><input type="checkbox" id="c-38372297" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38372129">parent</a><span>|</span><a href="#38373382">prev</a><span>|</span><a href="#38376563">next</a><span>|</span><label class="collapse" for="c-38372297">[-]</label><label class="expand" for="c-38372297">[4 more]</label></div><br/><div class="children"><div class="content">Buggy firmware could also screw that up.</div><br/><div id="38373281" class="c"><input type="checkbox" id="c-38373281" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#38372129">root</a><span>|</span><a href="#38372297">parent</a><span>|</span><a href="#38376563">next</a><span>|</span><label class="collapse" for="c-38373281">[-]</label><label class="expand" for="c-38373281">[3 more]</label></div><br/><div class="children"><div class="content">this is like blaming ftx&#x27;s collapse on sloppy accounting</div><br/><div id="38373417" class="c"><input type="checkbox" id="c-38373417" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38372129">root</a><span>|</span><a href="#38373281">parent</a><span>|</span><a href="#38376563">next</a><span>|</span><label class="collapse" for="c-38373417">[-]</label><label class="expand" for="c-38373417">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I am being generous.</div><br/><div id="38373437" class="c"><input type="checkbox" id="c-38373437" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#38372129">root</a><span>|</span><a href="#38373417">parent</a><span>|</span><a href="#38376563">next</a><span>|</span><label class="collapse" for="c-38373437">[-]</label><label class="expand" for="c-38373437">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s always been one of your best qualities</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38376563" class="c"><input type="checkbox" id="c-38376563" checked=""/><div class="controls bullet"><span class="by">Joel_Mckay</span><span>|</span><a href="#38372129">prev</a><span>|</span><a href="#38375179">next</a><span>|</span><label class="collapse" for="c-38376563">[-]</label><label class="expand" for="c-38376563">[1 more]</label></div><br/><div class="children"><div class="content">Cheap drives don&#x27;t include large dram caches, lack fast SLC areas, and leave off super-capacitors that allow chips to drain buffers during a power-failure.<p>&quot;Buy cheap, buy twice&quot; as they say... =)</div><br/></div></div><div id="38375179" class="c"><input type="checkbox" id="c-38375179" checked=""/><div class="controls bullet"><span class="by">caycep</span><span>|</span><a href="#38376563">prev</a><span>|</span><a href="#38375184">next</a><span>|</span><label class="collapse" for="c-38375179">[-]</label><label class="expand" for="c-38375179">[1 more]</label></div><br/><div class="children"><div class="content">The model I’d be interested in would be the SK Hynix&#x2F;Solidigm P44 Pro, as that model competes w the Samsung 9xx evo and pro models</div><br/></div></div><div id="38375184" class="c"><input type="checkbox" id="c-38375184" checked=""/><div class="controls bullet"><span class="by">caycep</span><span>|</span><a href="#38375179">prev</a><span>|</span><a href="#38371386">next</a><span>|</span><label class="collapse" for="c-38375184">[-]</label><label class="expand" for="c-38375184">[2 more]</label></div><br/><div class="children"><div class="content">Also…would modern journaling file systems protect against this sort of data loss?</div><br/><div id="38376046" class="c"><input type="checkbox" id="c-38376046" checked=""/><div class="controls bullet"><span class="by">GrayShade</span><span>|</span><a href="#38375184">parent</a><span>|</span><a href="#38371386">next</a><span>|</span><label class="collapse" for="c-38376046">[-]</label><label class="expand" for="c-38376046">[1 more]</label></div><br/><div class="children"><div class="content">They won&#x27;t, since they rely on the drive to make sure their data was actually persisted.</div><br/></div></div></div></div><div id="38371386" class="c"><input type="checkbox" id="c-38371386" checked=""/><div class="controls bullet"><span class="by">AlbertoGP</span><span>|</span><a href="#38375184">prev</a><span>|</span><a href="#38374527">next</a><span>|</span><label class="collapse" for="c-38371386">[-]</label><label class="expand" for="c-38371386">[13 more]</label></div><br/><div class="children"><div class="content">Well, yes, but <i>which were those 2 out of 4 vendors</i>?</div><br/><div id="38373321" class="c"><input type="checkbox" id="c-38373321" checked=""/><div class="controls bullet"><span class="by">alright2565</span><span>|</span><a href="#38371386">parent</a><span>|</span><a href="#38371462">next</a><span>|</span><label class="collapse" for="c-38373321">[-]</label><label class="expand" for="c-38373321">[9 more]</label></div><br/><div class="children"><div class="content">There were a few more listed deeper in the thread. Fyi, the nitter version is actually readable: <a href="https:&#x2F;&#x2F;nitter.net&#x2F;xenadu02&#x2F;status&#x2F;1495693475584557056#m" rel="nofollow noreferrer">https:&#x2F;&#x2F;nitter.net&#x2F;xenadu02&#x2F;status&#x2F;1495693475584557056#m</a><p>Samsung 970 Evo Plus: MZ-V7S2T0, 2021.10: Pass<p>WD Red: WDS100T1R0C-68BDK0, 04Sept2021: Pass<p>Crucial P2 250GB CT250P2SSD8, FW P2CR046: Pass<p>Samsung 980 250GB MZ-V8V250, 2021&#x2F;11&#x2F;07: Pass<p>WD Black SN750 1TB WDS100T1B0E, 09Jan2022: Pass<p>WD Green SN350 240GB WDS240G20C, 02Aug2021: Pass<p>SK Hynix Gold P31 2TB SHGP31-2000GM-2, FW 31060C20: Fail<p>Sabrent Rocket 512 (Phison PH-SBT-RKT-303 controller, no version or date codes listed): Fail</div><br/><div id="38373774" class="c"><input type="checkbox" id="c-38373774" checked=""/><div class="controls bullet"><span class="by">dboreham</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373321">parent</a><span>|</span><a href="#38371462">next</a><span>|</span><label class="collapse" for="c-38373774">[-]</label><label class="expand" for="c-38373774">[8 more]</label></div><br/><div class="children"><div class="content">So...vendors no sane person would store valuable data on their drives were the only ones that failed. The sound of a dog biting a man...</div><br/><div id="38374179" class="c"><input type="checkbox" id="c-38374179" checked=""/><div class="controls bullet"><span class="by">0xDEADFED5</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373774">parent</a><span>|</span><a href="#38375913">next</a><span>|</span><label class="collapse" for="c-38374179">[-]</label><label class="expand" for="c-38374179">[3 more]</label></div><br/><div class="children"><div class="content">SK Hynix is the #3 flash manufacturer (acquired Intel&#x27;s NAND biz), and their RAM is quite decent.  i wouldn&#x27;t think twice about buying if it wasn&#x27;t for this report.</div><br/><div id="38375926" class="c"><input type="checkbox" id="c-38375926" checked=""/><div class="controls bullet"><span class="by">Shekelphile</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38374179">parent</a><span>|</span><a href="#38375913">next</a><span>|</span><label class="collapse" for="c-38375926">[-]</label><label class="expand" for="c-38375926">[2 more]</label></div><br/><div class="children"><div class="content">Hynix&#x27;s flash is just fine. It&#x27;s the controller at fault for this.</div><br/><div id="38376561" class="c"><input type="checkbox" id="c-38376561" checked=""/><div class="controls bullet"><span class="by">yread</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38375926">parent</a><span>|</span><a href="#38375913">next</a><span>|</span><label class="collapse" for="c-38376561">[-]</label><label class="expand" for="c-38376561">[1 more]</label></div><br/><div class="children"><div class="content">In one of the tweets he says another drive with the same controller passed so it&#x27;s not just the controller</div><br/></div></div></div></div></div></div><div id="38375913" class="c"><input type="checkbox" id="c-38375913" checked=""/><div class="controls bullet"><span class="by">Shekelphile</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373774">parent</a><span>|</span><a href="#38374179">prev</a><span>|</span><a href="#38374802">next</a><span>|</span><label class="collapse" for="c-38375913">[-]</label><label class="expand" for="c-38375913">[1 more]</label></div><br/><div class="children"><div class="content">Pretty much every brand uses phison controllers in at least some of their products, even wd&#x2F;samsung&#x2F;intel who design controllers in house use them for their cheapest offerings because phison is all about making the cheapest product possible.</div><br/></div></div><div id="38374802" class="c"><input type="checkbox" id="c-38374802" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373774">parent</a><span>|</span><a href="#38375913">prev</a><span>|</span><a href="#38374080">next</a><span>|</span><label class="collapse" for="c-38374802">[-]</label><label class="expand" for="c-38374802">[1 more]</label></div><br/><div class="children"><div class="content">Apple has been using SK Hynix products (some rebranded as their own) for years.</div><br/></div></div><div id="38374080" class="c"><input type="checkbox" id="c-38374080" checked=""/><div class="controls bullet"><span class="by">Espressosaurus</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373774">parent</a><span>|</span><a href="#38374802">prev</a><span>|</span><a href="#38374207">next</a><span>|</span><label class="collapse" for="c-38374080">[-]</label><label class="expand" for="c-38374080">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, I&#x27;ve had SK Hynix parts in my Dell laptops before.<p>I agree about Sabrent.</div><br/></div></div><div id="38374207" class="c"><input type="checkbox" id="c-38374207" checked=""/><div class="controls bullet"><span class="by">lights0123</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373774">parent</a><span>|</span><a href="#38374080">prev</a><span>|</span><a href="#38371462">next</a><span>|</span><label class="collapse" for="c-38374207">[-]</label><label class="expand" for="c-38374207">[1 more]</label></div><br/><div class="children"><div class="content">I would expect the world&#x27;s second largest DRAM manufacturer to have trustworthy memory products.</div><br/></div></div></div></div></div></div><div id="38371462" class="c"><input type="checkbox" id="c-38371462" checked=""/><div class="controls bullet"><span class="by">whitepoplar</span><span>|</span><a href="#38371386">parent</a><span>|</span><a href="#38373321">prev</a><span>|</span><a href="#38374527">next</a><span>|</span><label class="collapse" for="c-38371462">[-]</label><label class="expand" for="c-38371462">[3 more]</label></div><br/><div class="children"><div class="content">SK Hynix and Sabrent: <a href="https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496290369184874497?s=20" rel="nofollow noreferrer">https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496290369184874497?s=20</a></div><br/><div id="38373243" class="c"><input type="checkbox" id="c-38373243" checked=""/><div class="controls bullet"><span class="by">mjevans</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38371462">parent</a><span>|</span><a href="#38374527">next</a><span>|</span><label class="collapse" for="c-38373243">[-]</label><label class="expand" for="c-38373243">[2 more]</label></div><br/><div class="children"><div class="content">Did what, for those of us without Twitter accounts?<p>Did they Pass or Fail the flush test?  (Saved or Lost data respectively?)</div><br/><div id="38373282" class="c"><input type="checkbox" id="c-38373282" checked=""/><div class="controls bullet"><span class="by">slabity</span><span>|</span><a href="#38371386">root</a><span>|</span><a href="#38373243">parent</a><span>|</span><a href="#38374527">next</a><span>|</span><label class="collapse" for="c-38373282">[-]</label><label class="expand" for="c-38373282">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Update 2: models that lost writes:<p>&gt; SK Hynix Gold P31 2TB SHGP31-2000GM-2, FW 31060C20<p>&gt; Sabrent Rocket 512 (Phison PH-SBT-RKT-303 controller, no version or date codes listed)<p>Looks like those two models failed.<p>Would like to note that these tweets are from Feb 22, 2022. This entire thread should have (2022) on it.</div><br/></div></div></div></div></div></div></div></div><div id="38374527" class="c"><input type="checkbox" id="c-38374527" checked=""/><div class="controls bullet"><span class="by">pleoxy</span><span>|</span><a href="#38371386">prev</a><span>|</span><a href="#38375665">next</a><span>|</span><label class="collapse" for="c-38374527">[-]</label><label class="expand" for="c-38374527">[4 more]</label></div><br/><div class="children"><div class="content">If you need PLP use an enterprise drive.  That&#x27;s what they&#x27;re for.</div><br/><div id="38375812" class="c"><input type="checkbox" id="c-38375812" checked=""/><div class="controls bullet"><span class="by">anarazel</span><span>|</span><a href="#38374527">parent</a><span>|</span><a href="#38375539">next</a><span>|</span><label class="collapse" for="c-38375812">[-]</label><label class="expand" for="c-38375812">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen lost completed FUA writes on enterprise drives quite a few times.</div><br/></div></div><div id="38375539" class="c"><input type="checkbox" id="c-38375539" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38374527">parent</a><span>|</span><a href="#38375812">prev</a><span>|</span><a href="#38374795">next</a><span>|</span><label class="collapse" for="c-38375539">[-]</label><label class="expand" for="c-38375539">[1 more]</label></div><br/><div class="children"><div class="content">Well, I don&#x27;t need PLP.<p>I just need to know when the data is written and when it isn&#x27;t.</div><br/></div></div><div id="38374795" class="c"><input type="checkbox" id="c-38374795" checked=""/><div class="controls bullet"><span class="by">RecycledEle</span><span>|</span><a href="#38374527">parent</a><span>|</span><a href="#38375539">prev</a><span>|</span><a href="#38375665">next</a><span>|</span><label class="collapse" for="c-38374795">[-]</label><label class="expand" for="c-38374795">[1 more]</label></div><br/><div class="children"><div class="content">PLP = Power Loss Prevention</div><br/></div></div></div></div><div id="38375665" class="c"><input type="checkbox" id="c-38375665" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#38374527">prev</a><span>|</span><a href="#38373322">next</a><span>|</span><label class="collapse" for="c-38375665">[-]</label><label class="expand" for="c-38375665">[1 more]</label></div><br/><div class="children"><div class="content">Brands please. It’s time they have some pressure to fix these data corruption issues</div><br/></div></div><div id="38373322" class="c"><input type="checkbox" id="c-38373322" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#38375665">prev</a><span>|</span><a href="#38373233">next</a><span>|</span><label class="collapse" for="c-38373322">[-]</label><label class="expand" for="c-38373322">[4 more]</label></div><br/><div class="children"><div class="content">Losing flushes is obviously bad.<p>I wonder how much perf is on the table in various scenarios when we can give up <i>needing</i> to flush. If you know the drive has some resilience, say, 0.5s of time it can safely writeback during, maybe you can give up flushes (in some cases). How much faster is the app then?<p>It&#x27;s be neat to see some low-cost improvements here. Obviously in most cases, just get an enterprise drive with supercapa or batteries onboard. But an ATX power rail that has extra resilience from the supply, or an add-in&#x2F;pass-through 6-pin sata power supercap... that could be useful too.</div><br/><div id="38373810" class="c"><input type="checkbox" id="c-38373810" checked=""/><div class="controls bullet"><span class="by">invalidator</span><span>|</span><a href="#38373322">parent</a><span>|</span><a href="#38374030">next</a><span>|</span><label class="collapse" for="c-38373810">[-]</label><label class="expand" for="c-38373810">[1 more]</label></div><br/><div class="children"><div class="content">If the write-cache is reordering requests (and it does, that&#x27;s the whole point), you can&#x27;t guarantee that $milliseconds will be enough unless you stop all requests, wait $milliseconds, write your commit record, wait $milliseconds, then resume requests.  This is essentially re-implementing write-barriers in an ad-hoc, buggy way which requires stalling requests even longer.<p>Flush+FUA requires the data to be stored to non-volatile media.  Capacitor-backed RAM dumping to flash is non-volatile.  When a drive knows it has enough capacitor-time to finish flushing all preceding writes from the cache, it can immediately say the flush was completed.  This can all be handled on the device without the software having to make guesses at how long something has to be written before it&#x27;s durable.</div><br/></div></div><div id="38374030" class="c"><input type="checkbox" id="c-38374030" checked=""/><div class="controls bullet"><span class="by">supersour</span><span>|</span><a href="#38373322">parent</a><span>|</span><a href="#38373810">prev</a><span>|</span><a href="#38373233">next</a><span>|</span><label class="collapse" for="c-38374030">[-]</label><label class="expand" for="c-38374030">[2 more]</label></div><br/><div class="children"><div class="content">Performance gains wouldn’t be that large as enterprise SSDs already have internal capacitors to flush pending writes to NAND.<p>During typical usage the flash controller is constantly journaling LBA to physical addresses in the background, so that the entire logical to physical table isn’t lost when the drive loses power. With a larger capacitor you could potentially remove this background process and instead flush the entire logical to physical table when the drive registers power loss. But as this area makes up ~2% of the total NAND, that’s at absolute best a 2% performance benefit we are potentially missing out on.</div><br/><div id="38375615" class="c"><input type="checkbox" id="c-38375615" checked=""/><div class="controls bullet"><span class="by">hurryer</span><span>|</span><a href="#38373322">root</a><span>|</span><a href="#38374030">parent</a><span>|</span><a href="#38373233">next</a><span>|</span><label class="collapse" for="c-38375615">[-]</label><label class="expand" for="c-38375615">[1 more]</label></div><br/><div class="children"><div class="content">You could gain much more by coalescing repeated writes to the same address - database scenarios for example</div><br/></div></div></div></div></div></div><div id="38371389" class="c"><input type="checkbox" id="c-38371389" checked=""/><div class="controls bullet"><span class="by">java-man</span><span>|</span><a href="#38373233">prev</a><span>|</span><a href="#38373163">next</a><span>|</span><label class="collapse" for="c-38371389">[-]</label><label class="expand" for="c-38371389">[12 more]</label></div><br/><div class="children"><div class="content">Name the offenders please.<p>I am sure it might be easy to see visually - a lack of substantial capacitor on the board would indicate a high likelihood of data loss.</div><br/><div id="38371456" class="c"><input type="checkbox" id="c-38371456" checked=""/><div class="controls bullet"><span class="by">whitepoplar</span><span>|</span><a href="#38371389">parent</a><span>|</span><a href="#38371989">next</a><span>|</span><label class="collapse" for="c-38371456">[-]</label><label class="expand" for="c-38371456">[4 more]</label></div><br/><div class="children"><div class="content">SK Hynix and Sabrent: <a href="https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496290369184874497?s=20" rel="nofollow noreferrer">https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496290369184874497?s=20</a></div><br/><div id="38371497" class="c"><input type="checkbox" id="c-38371497" checked=""/><div class="controls bullet"><span class="by">java-man</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38371456">parent</a><span>|</span><a href="#38371989">next</a><span>|</span><label class="collapse" for="c-38371497">[-]</label><label class="expand" for="c-38371497">[3 more]</label></div><br/><div class="children"><div class="content">Which did &quot;pass&quot; the test?</div><br/><div id="38371513" class="c"><input type="checkbox" id="c-38371513" checked=""/><div class="controls bullet"><span class="by">whitepoplar</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38371497">parent</a><span>|</span><a href="#38371989">next</a><span>|</span><label class="collapse" for="c-38371513">[-]</label><label class="expand" for="c-38371513">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496765378592083968?s=20" rel="nofollow noreferrer">https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496765378592083968?s=20</a><p><a href="https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496770278612819968?s=20" rel="nofollow noreferrer">https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1496770278612819968?s=20</a><p><a href="https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1495875479475298324?s=20" rel="nofollow noreferrer">https:&#x2F;&#x2F;x.com&#x2F;xenadu02&#x2F;status&#x2F;1495875479475298324?s=20</a></div><br/><div id="38371580" class="c"><input type="checkbox" id="c-38371580" checked=""/><div class="controls bullet"><span class="by">java-man</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38371513">parent</a><span>|</span><a href="#38371989">next</a><span>|</span><label class="collapse" for="c-38371580">[-]</label><label class="expand" for="c-38371580">[1 more]</label></div><br/><div class="children"><div class="content">ありがとう</div><br/></div></div></div></div></div></div></div></div><div id="38371989" class="c"><input type="checkbox" id="c-38371989" checked=""/><div class="controls bullet"><span class="by">potatopatch</span><span>|</span><a href="#38371389">parent</a><span>|</span><a href="#38371456">prev</a><span>|</span><a href="#38372320">next</a><span>|</span><label class="collapse" for="c-38371989">[-]</label><label class="expand" for="c-38371989">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be curious how well it actually correlates. It would be hard to make the most performant system that&#x27;s always consistent with flushed data but there are probably a lot of firmwares out there with untested performance ideas, etc.</div><br/></div></div><div id="38372320" class="c"><input type="checkbox" id="c-38372320" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38371389">parent</a><span>|</span><a href="#38371989">prev</a><span>|</span><a href="#38373163">next</a><span>|</span><label class="collapse" for="c-38372320">[-]</label><label class="expand" for="c-38372320">[6 more]</label></div><br/><div class="children"><div class="content">None of the tested drives use power loss protection capacitors.</div><br/><div id="38372995" class="c"><input type="checkbox" id="c-38372995" checked=""/><div class="controls bullet"><span class="by">15457345234</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38372320">parent</a><span>|</span><a href="#38373163">next</a><span>|</span><label class="collapse" for="c-38372995">[-]</label><label class="expand" for="c-38372995">[5 more]</label></div><br/><div class="children"><div class="content">We&#x27;re talking about scenarios where the drives report (untruthfully) that the data has been committed to non-volatile storage _before_ the power is removed<p>Not scenarios where the data is in the cache when the power drops and the drive is expected to write out the cache with internal power alone.</div><br/><div id="38373053" class="c"><input type="checkbox" id="c-38373053" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38372995">parent</a><span>|</span><a href="#38373163">next</a><span>|</span><label class="collapse" for="c-38373053">[-]</label><label class="expand" for="c-38373053">[4 more]</label></div><br/><div class="children"><div class="content">Aren&#x27;t those the same scenario?</div><br/><div id="38373115" class="c"><input type="checkbox" id="c-38373115" checked=""/><div class="controls bullet"><span class="by">15457345234</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38373053">parent</a><span>|</span><a href="#38373086">next</a><span>|</span><label class="collapse" for="c-38373115">[-]</label><label class="expand" for="c-38373115">[1 more]</label></div><br/><div class="children"><div class="content">The second scenario is what&#x27;s standard in enterprise class drives used with RAID controllers, the controller reports &#x27;committed&#x27; to the OS and _then_ commits the data, it can do this because the path to nonvoltatile storage downstream of the controller has redundant power (the raid controller has a battery backup and the disks have their own battery backups, as well as control logic that guarantees data in the cache makes it to nonvolatile if the power drops out)<p>The first scenario is for consumer disks, they don&#x27;t report &#x27;committed&#x27; until the data is actually committed. That makes them a whole assload slower. (Unless they lie.)<p>Looking up the definitions of write-back vs write-thru caching will help you out here</div><br/></div></div><div id="38373086" class="c"><input type="checkbox" id="c-38373086" checked=""/><div class="controls bullet"><span class="by">nomel</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38373053">parent</a><span>|</span><a href="#38373115">prev</a><span>|</span><a href="#38373657">next</a><span>|</span><label class="collapse" for="c-38373086">[-]</label><label class="expand" for="c-38373086">[1 more]</label></div><br/><div class="children"><div class="content">No. One is a lie. The other is an attempt at fault tolerance. The later will not claim something that isn’t true, but it will try to do what you want, as a user, as a nice gesture.</div><br/></div></div><div id="38373657" class="c"><input type="checkbox" id="c-38373657" checked=""/><div class="controls bullet"><span class="by">mgerdts</span><span>|</span><a href="#38371389">root</a><span>|</span><a href="#38373053">parent</a><span>|</span><a href="#38373086">prev</a><span>|</span><a href="#38373163">next</a><span>|</span><label class="collapse" for="c-38373657">[-]</label><label class="expand" for="c-38373657">[1 more]</label></div><br/><div class="children"><div class="content">From the MVMe 1.3 spec:<p>6.8 Flush command<p>The Flush command shall commit data and metadata associated with the specified namespace(s) to non-volatile media. The flush applies to all commands completed prior to the submission of the Flush command.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38373163" class="c"><input type="checkbox" id="c-38373163" checked=""/><div class="controls bullet"><span class="by">babberman</span><span>|</span><a href="#38371389">prev</a><span>|</span><a href="#38373757">next</a><span>|</span><label class="collapse" for="c-38373163">[-]</label><label class="expand" for="c-38373163">[1 more]</label></div><br/><div class="children"><div class="content">That is unfortunate, but I guess those SSDs performed really well and outclassed all others in performance benchmarks? lol</div><br/></div></div><div id="38373757" class="c"><input type="checkbox" id="c-38373757" checked=""/><div class="controls bullet"><span class="by">hackerfactor1</span><span>|</span><a href="#38373163">prev</a><span>|</span><label class="collapse" for="c-38373757">[-]</label><label class="expand" for="c-38373757">[2 more]</label></div><br/><div class="children"><div class="content">The posting is from Feb 2022, nearly 2 years ago.
How is this suddenly trending on Hacker News?</div><br/><div id="38373776" class="c"><input type="checkbox" id="c-38373776" checked=""/><div class="controls bullet"><span class="by">laluser</span><span>|</span><a href="#38373757">parent</a><span>|</span><label class="collapse" for="c-38373776">[-]</label><label class="expand" for="c-38373776">[1 more]</label></div><br/><div class="children"><div class="content">Doesn’t take much for a story to trend. Also, it’s an interesting topic.</div><br/></div></div></div></div></div></div></div></div></div></body></html>