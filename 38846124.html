<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704358854790" as="style"/><link rel="stylesheet" href="styles.css?v=1704358854790"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/adam-mcdaniel/sage">Show HN: The Sage Programming Language</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>adamthekiwi99</span> | <span>27 comments</span></div><br/><div><div id="38861600" class="c"><input type="checkbox" id="c-38861600" checked=""/><div class="controls bullet"><span class="by">NWoodsman</span><span>|</span><a href="#38863128">next</a><span>|</span><label class="collapse" for="c-38861600">[-]</label><label class="expand" for="c-38861600">[2 more]</label></div><br/><div class="children"><div class="content"><i>Sage is a programming language with a low level virtual machine based on a Turing tape. The sage virtual machine has a read&#x2F;write head and a single register. The read&#x2F;write head moves around the tape, and uses the register as an accumulator. All worldly input is done through a single instruction, and all worldly output is done through a single instruction. Functionality which cannot be achieved with any algorithm, such as using an operating system’s system calls to write to persistent memory, is also done through two instructions: one for sending values to the virtual machine’s foreign function interface, and one for receiving. The goal of the virtual machine is to allow algorithms to be expressed in the same time complexity as they would on x86, but with the smallest possible number of instructions. This allows sage code to be maximally portable: sage’s core instruction set could be implemented in hardware much easier than any modern architecture due to its very small pool of opcodes and their simplicity</i><p>This is an interesting snippet from your website, did this project intentionally start out as an attempt to design around a Turing machine? Or is it just safe to say that all languages executing on a stack with no heap are Turing machines?</div><br/><div id="38861677" class="c"><input type="checkbox" id="c-38861677" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38861600">parent</a><span>|</span><a href="#38863128">next</a><span>|</span><label class="collapse" for="c-38861677">[-]</label><label class="expand" for="c-38861677">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the great question, and for checking out the project! This project started out because I noticed some really interesting properties about compiling brainfuck-like programming languages while writing high level language compilers that targeted these brainfuck-like backends.<p>This is the work that inspired Sage: Harbor (<a href="https:&#x2F;&#x2F;github.com&#x2F;adam-mcdaniel&#x2F;harbor">https:&#x2F;&#x2F;github.com&#x2F;adam-mcdaniel&#x2F;harbor</a>). My goal with Sage was to take everything that makes a brainfuck-like programming language easy to compile, while also keeping all the time complexity and optimizations of regular algorithms. So, in that sense, it started out as an attempt to design around a Turing machine -- I wanted this to be a dialect of brainfuck. The VM doesn&#x27;t use any stack operations, just operations on a tape pointer + an accumulator!</div><br/></div></div></div></div><div id="38863128" class="c"><input type="checkbox" id="c-38863128" checked=""/><div class="controls bullet"><span class="by">andyferris</span><span>|</span><a href="#38861600">prev</a><span>|</span><a href="#38861021">next</a><span>|</span><label class="collapse" for="c-38863128">[-]</label><label class="expand" for="c-38863128">[3 more]</label></div><br/><div class="children"><div class="content">One thing I like is exploring the structural typing.<p>However I am confused if the enum&#x27;s are structural or nominal. It seems necessary to state which enum a variant comes from, like `Direction of South` (for that matter it seems the same is true when constructing structs?). Can you cast enum values to a wider enum type? Or combine different enum values (e.g. through branching - the return of `match`) to construct a value of a wider enum?</div><br/><div id="38863249" class="c"><input type="checkbox" id="c-38863249" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38863128">parent</a><span>|</span><a href="#38861021">next</a><span>|</span><label class="collapse" for="c-38863249">[-]</label><label class="expand" for="c-38863249">[2 more]</label></div><br/><div class="children"><div class="content">Hello, thanks for the great question! Yes, you do have to specify where a variant comes from, but it doesn&#x27;t have to be nominal at all! Here&#x27;s an example:<p>```
enum Option&lt;T&gt; {Some(T), Nothing}<p>&#x2F;&#x2F; Create a value with an inline type that doesn&#x27;t use the nominal `Option`<p>let opt1 = enum {Some(Int), Nothing} of Some(5);<p>&#x2F;&#x2F; Define a second option value, which is assigned with the first<p>let opt2: Option&lt;Int&gt; = opt1;<p>&#x2F;&#x2F; Print the result<p>println(opt2);
```<p>You can create a variant of an inline `enum` type, and then typecheck it against another structurally equal type if you so choose!<p>I hope this example properly illustrates how powerful the structural type-checking is with enums!</div><br/><div id="38864083" class="c"><input type="checkbox" id="c-38864083" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#38863128">root</a><span>|</span><a href="#38863249">parent</a><span>|</span><a href="#38861021">next</a><span>|</span><label class="collapse" for="c-38864083">[-]</label><label class="expand" for="c-38864083">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s an interesting approach. So the variant name itself doesn&#x27;t bear the type information but should be uniquely resolved in the type check time, right? It will be pretty much optimal unless you are doing metaprogramming stuffs.</div><br/></div></div></div></div></div></div><div id="38861021" class="c"><input type="checkbox" id="c-38861021" checked=""/><div class="controls bullet"><span class="by">king_geedorah</span><span>|</span><a href="#38863128">prev</a><span>|</span><a href="#38860786">next</a><span>|</span><label class="collapse" for="c-38861021">[-]</label><label class="expand" for="c-38861021">[2 more]</label></div><br/><div class="children"><div class="content">The struct composition example with Position + Size is really interesting. I can’t say I’ve seen something that works that way before.</div><br/><div id="38861035" class="c"><input type="checkbox" id="c-38861035" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38861021">parent</a><span>|</span><a href="#38860786">next</a><span>|</span><label class="collapse" for="c-38861035">[-]</label><label class="expand" for="c-38861035">[1 more]</label></div><br/><div class="children"><div class="content">Thanks so much! I originally added it to experiment with the structural typing -- the type system is a really cool foundation for some awesome future stuff!<p>Thanks for checking out the project, I&#x27;m glad I was able to surprise you haha! :)</div><br/></div></div></div></div><div id="38860786" class="c"><input type="checkbox" id="c-38860786" checked=""/><div class="controls bullet"><span class="by">ljm</span><span>|</span><a href="#38861021">prev</a><span>|</span><a href="#38860419">next</a><span>|</span><label class="collapse" for="c-38860786">[-]</label><label class="expand" for="c-38860786">[2 more]</label></div><br/><div class="children"><div class="content">May I suggest replacing the screenshots of code in your readme with just the code?<p>I mean, it&#x27;s hard to tell but it basically looks exactly like Rust but without lifetimes&#x2F;borrow checks.</div><br/><div id="38860790" class="c"><input type="checkbox" id="c-38860790" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860786">parent</a><span>|</span><a href="#38860419">next</a><span>|</span><label class="collapse" for="c-38860790">[-]</label><label class="expand" for="c-38860790">[1 more]</label></div><br/><div class="children"><div class="content">Hello, yes, I&#x27;ll go back and add some text examples as well. (I didn&#x27;t like how GitHub does syntax highlighting though :&#x2F;)<p>I put all the example programs in text on the web-demo, though, if you want to see more there! You can copy, read, or modify them there!<p><a href="https:&#x2F;&#x2F;adam-mcdaniel.net&#x2F;sage" rel="nofollow">https:&#x2F;&#x2F;adam-mcdaniel.net&#x2F;sage</a><p>It&#x27;s different from Rust in that it has structural typing and a more Python-like experience! Types are constants, and can be printed with `print` like other values<p>Thanks for your input! I hope you like the project!</div><br/></div></div></div></div><div id="38860419" class="c"><input type="checkbox" id="c-38860419" checked=""/><div class="controls bullet"><span class="by">tines</span><span>|</span><a href="#38860786">prev</a><span>|</span><a href="#38860802">next</a><span>|</span><label class="collapse" for="c-38860419">[-]</label><label class="expand" for="c-38860419">[2 more]</label></div><br/><div class="children"><div class="content">Super cool! How is memory managed? Does it do lifetimes like Rust as well?</div><br/><div id="38860463" class="c"><input type="checkbox" id="c-38860463" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860419">parent</a><span>|</span><a href="#38860802">next</a><span>|</span><label class="collapse" for="c-38860463">[-]</label><label class="expand" for="c-38860463">[1 more]</label></div><br/><div class="children"><div class="content">Right now, memory is managed like C or C++, but I intend to implement lifetimes in the frontend eventually.<p>But definitely no garbage collection (although, a target could implement it against the standard and it would work)<p>Thanks for checking out the project!</div><br/></div></div></div></div><div id="38860802" class="c"><input type="checkbox" id="c-38860802" checked=""/><div class="controls bullet"><span class="by">mbroshi</span><span>|</span><a href="#38860419">prev</a><span>|</span><a href="#38860485">next</a><span>|</span><label class="collapse" for="c-38860802">[-]</label><label class="expand" for="c-38860802">[13 more]</label></div><br/><div class="children"><div class="content">FYI, Sage is also the name of a mathematical programming language: <a href="https:&#x2F;&#x2F;www.sagemath.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.sagemath.org&#x2F;</a></div><br/><div id="38860826" class="c"><input type="checkbox" id="c-38860826" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860802">parent</a><span>|</span><a href="#38862152">next</a><span>|</span><label class="collapse" for="c-38860826">[-]</label><label class="expand" for="c-38860826">[10 more]</label></div><br/><div class="children"><div class="content">Thank you!! Sage will eventually change its name (I just recently found out about this), but I haven&#x27;t had time to come up with a good replacement name and make art + quippy sayings for it yet! :)<p>I might just go with a completely made up word to avoid any trademarks entirely haha</div><br/><div id="38864537" class="c"><input type="checkbox" id="c-38864537" checked=""/><div class="controls bullet"><span class="by">reedf1</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38860826">parent</a><span>|</span><a href="#38861797">next</a><span>|</span><label class="collapse" for="c-38864537">[-]</label><label class="expand" for="c-38864537">[1 more]</label></div><br/><div class="children"><div class="content">I was surprised to find no associated programming languages for <i>sumac</i> and <i>bay</i> (leaf).</div><br/></div></div><div id="38861797" class="c"><input type="checkbox" id="c-38861797" checked=""/><div class="controls bullet"><span class="by">aeonik</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38860826">parent</a><span>|</span><a href="#38864537">prev</a><span>|</span><a href="#38861121">next</a><span>|</span><label class="collapse" for="c-38861797">[-]</label><label class="expand" for="c-38861797">[2 more]</label></div><br/><div class="children"><div class="content">What are the constraints that you want for the name?<p>I was thinking &quot;Pragmata&quot;, or something along those lines.<p>Continuing with natureish themes:
Alga
Moss
Myco
Wisp
Ivy</div><br/><div id="38861899" class="c"><input type="checkbox" id="c-38861899" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38861797">parent</a><span>|</span><a href="#38861121">next</a><span>|</span><label class="collapse" for="c-38861899">[-]</label><label class="expand" for="c-38861899">[1 more]</label></div><br/><div class="children"><div class="content">My major constraint is just that the name must lend itself well to artistic representations and fun mottos&#x2F;slogans hahaha!<p>I love these suggestions, especially Moss and Ivy! Thank you!</div><br/></div></div></div></div><div id="38861121" class="c"><input type="checkbox" id="c-38861121" checked=""/><div class="controls bullet"><span class="by">e12e</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38860826">parent</a><span>|</span><a href="#38861797">prev</a><span>|</span><a href="#38862152">next</a><span>|</span><label class="collapse" for="c-38861121">[-]</label><label class="expand" for="c-38861121">[6 more]</label></div><br/><div class="children"><div class="content">Mint? ;)</div><br/><div id="38861131" class="c"><input type="checkbox" id="c-38861131" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38861121">parent</a><span>|</span><a href="#38861638">next</a><span>|</span><label class="collapse" for="c-38861131">[-]</label><label class="expand" for="c-38861131">[1 more]</label></div><br/><div class="children"><div class="content">I like it! And if that&#x27;s trademarked too I could always fall back on &quot;spearmint&quot; instead haha</div><br/></div></div><div id="38861638" class="c"><input type="checkbox" id="c-38861638" checked=""/><div class="controls bullet"><span class="by">wavemode</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38861121">parent</a><span>|</span><a href="#38861131">prev</a><span>|</span><a href="#38862152">next</a><span>|</span><label class="collapse" for="c-38861638">[-]</label><label class="expand" for="c-38861638">[4 more]</label></div><br/><div class="children"><div class="content">oops! <a href="https:&#x2F;&#x2F;mint-lang.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mint-lang.com&#x2F;</a></div><br/><div id="38861700" class="c"><input type="checkbox" id="c-38861700" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38861638">parent</a><span>|</span><a href="#38862152">next</a><span>|</span><label class="collapse" for="c-38861700">[-]</label><label class="expand" for="c-38861700">[3 more]</label></div><br/><div class="children"><div class="content">Hahaha I doubt there&#x27;s an English word left!!!</div><br/><div id="38861736" class="c"><input type="checkbox" id="c-38861736" checked=""/><div class="controls bullet"><span class="by">sodapopcan</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38861700">parent</a><span>|</span><a href="#38862152">next</a><span>|</span><label class="collapse" for="c-38861736">[-]</label><label class="expand" for="c-38861736">[2 more]</label></div><br/><div class="children"><div class="content">Rosemary and Oregano are free!  Thyme is not.</div><br/><div id="38862000" class="c"><input type="checkbox" id="c-38862000" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38861736">parent</a><span>|</span><a href="#38862152">next</a><span>|</span><label class="collapse" for="c-38862000">[-]</label><label class="expand" for="c-38862000">[1 more]</label></div><br/><div class="children"><div class="content">How long until we enumerate all the herbs?!?!?!?!?! The pantry&#x27;s almost empty!!!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38862152" class="c"><input type="checkbox" id="c-38862152" checked=""/><div class="controls bullet"><span class="by">amir734jj</span><span>|</span><a href="#38860802">parent</a><span>|</span><a href="#38860826">prev</a><span>|</span><a href="#38860485">next</a><span>|</span><label class="collapse" for="c-38862152">[-]</label><label class="expand" for="c-38862152">[2 more]</label></div><br/><div class="children"><div class="content">I used SageMath for my masters. It was a life saver.</div><br/><div id="38862197" class="c"><input type="checkbox" id="c-38862197" checked=""/><div class="controls bullet"><span class="by">adamthekiwi99</span><span>|</span><a href="#38860802">root</a><span>|</span><a href="#38862152">parent</a><span>|</span><a href="#38860485">next</a><span>|</span><label class="collapse" for="c-38862197">[-]</label><label class="expand" for="c-38862197">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll have to check it out and reimplement it&#x27;s good features for THIS Sage hahaha</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>